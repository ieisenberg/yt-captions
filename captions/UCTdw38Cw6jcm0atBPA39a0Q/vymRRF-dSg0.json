[
  {
    "start": "0",
    "end": "19000"
  },
  {
    "text": "yeah perfect that's the kind of energy I'd like to see so I'm assuming",
    "start": "5840",
    "end": "10950"
  },
  {
    "text": "everybody's in the room because you are all building theme parks and you want to know how to make them go really fast right so before I get into that just a",
    "start": "10950",
    "end": "18150"
  },
  {
    "text": "little bit about myself my name is Mike I live in Perth Western Australia where I work from home for a company called",
    "start": "18150",
    "end": "23849"
  },
  {
    "start": "19000",
    "end": "45000"
  },
  {
    "text": "particular software just a quick show of hands who and the audience was actually heard a particular software widow-makers of in-service bus but",
    "start": "23849",
    "end": "30960"
  },
  {
    "text": "that's not what I'm here to talk to you guys about today I want to talk about a system that I worked on long before I",
    "start": "30960",
    "end": "36300"
  },
  {
    "text": "joined particular was actually one of the very first systems where I was primarily responsible for the architecture and forgetting it into",
    "start": "36300",
    "end": "42420"
  },
  {
    "text": "production and because I was young and I didn't know anything it was an entire kind of system where n was equal to 3",
    "start": "42420",
    "end": "49559"
  },
  {
    "start": "45000",
    "end": "226000"
  },
  {
    "text": "because that was the magic number of the time we sort of had a web tier an application tier and a database tier",
    "start": "49559",
    "end": "55859"
  },
  {
    "text": "because that's what everyone said you should be doing and they're all installed on different servers and we worked on this thing for months",
    "start": "55859",
    "end": "62039"
  },
  {
    "text": "and we finally had a version that we thought this is the version this is perfect it's passed all of our QA tests",
    "start": "62039",
    "end": "67380"
  },
  {
    "text": "it's ready for production so we came in on a weekend on a Sunday it was actually a long weekend just in case something",
    "start": "67380",
    "end": "73680"
  },
  {
    "text": "went wrong we came in on a Sunday and we installed all of the pieces and we connected and configured everything and",
    "start": "73680",
    "end": "78690"
  },
  {
    "text": "made everything work and we smug tested it and proved that it was all good and we had a celebratory drink and we went",
    "start": "78690",
    "end": "84240"
  },
  {
    "text": "home and the next day everything was fine it was better than fine the business was ludicrously happy right",
    "start": "84240",
    "end": "91350"
  },
  {
    "text": "which is weird because that doesn't happen but they had this new system and they were able to do the same jobs that",
    "start": "91350",
    "end": "97140"
  },
  {
    "text": "they were doing before but now with a shiny new system which in theory was faster and better and for whatever",
    "start": "97140",
    "end": "102150"
  },
  {
    "text": "reason this was what they had asked for and it was working the way that they were hoping that it would work so",
    "start": "102150",
    "end": "107910"
  },
  {
    "text": "everybody was happy and we got lots of congratulations we were wandering around the floor sort of helping customers and",
    "start": "107910",
    "end": "113430"
  },
  {
    "text": "stuff and then we went back to business as usual but we were still sort of riding that high for a while until we",
    "start": "113430",
    "end": "122010"
  },
  {
    "text": "were working on the next version and the phone rang we picked up the phone yeah the applications not working I can't do",
    "start": "122010",
    "end": "129780"
  },
  {
    "text": "my job like oh sorry we'll look into that hang up the phone turn around to look at",
    "start": "129780",
    "end": "136320"
  },
  {
    "text": "the computer and the phone rings again pick up the phone yeah yeah the applications not working I can't do my job yeah we know we're",
    "start": "136320",
    "end": "143750"
  },
  {
    "text": "looking into it but then phone turn around the phone rings again right this keeps happening over and over and over again the business is standing over us",
    "start": "143750",
    "end": "150620"
  },
  {
    "text": "looking over our shoulders because they're stuck they can't do anything everything's broken",
    "start": "150620",
    "end": "156260"
  },
  {
    "text": "and after a bit of investigation in between phone calls we found out that the database server had stopped",
    "start": "156260",
    "end": "162260"
  },
  {
    "text": "responding and the reason was another application had been installed on that database server and it eaten all the",
    "start": "162260",
    "end": "167630"
  },
  {
    "text": "hard drive space and sequel server gone I can't write anything down so I'm not gonna talk to anyone and it just sort of",
    "start": "167630",
    "end": "172940"
  },
  {
    "text": "closed doors and in an interior applications when one tier goes down is that the next tier stops functioning as",
    "start": "172940",
    "end": "179540"
  },
  {
    "text": "well because it needs the previous tier to do its job and so on and so forth all the way up the stack so this whole thing",
    "start": "179540",
    "end": "185750"
  },
  {
    "text": "was just broken we managed to fix it we got that other application out we said get your own database server and we we",
    "start": "185750",
    "end": "193310"
  },
  {
    "text": "got the system back up and running and everyone went home kind of tired and the next day I got called into the boss's",
    "start": "193310",
    "end": "199670"
  },
  {
    "text": "office which is never a good sign but she was nice that was fine and she said look the business is happy that we",
    "start": "199670",
    "end": "206630"
  },
  {
    "text": "managed to get over this outage fairly quickly got over in an hour or so and that was good but I would like to make",
    "start": "206630",
    "end": "213320"
  },
  {
    "text": "sure that this sort of thing doesn't happen again so how do we do that and obscure that was in the room said well",
    "start": "213320",
    "end": "219109"
  },
  {
    "text": "we've installed some disk space monitoring stuff on all of our tools to make sure that we don't run out of disk space again which was good and me being",
    "start": "219109",
    "end": "226519"
  },
  {
    "start": "226000",
    "end": "480000"
  },
  {
    "text": "paranoid I wrote a little script that would basically just ping each of the tiers every 30 seconds or so and send me",
    "start": "226519",
    "end": "231560"
  },
  {
    "text": "a message when one of them stopped responding and everything was great because the next time that the phone",
    "start": "231560",
    "end": "236840"
  },
  {
    "text": "rang and the customers were calling us to say that the application was down we're able to say yes we know we're",
    "start": "236840",
    "end": "242299"
  },
  {
    "text": "looking into it we know what it is and we'll have a fix in place in 15 minutes go for a coffee and this kept this",
    "start": "242299",
    "end": "248870"
  },
  {
    "text": "happened a few times so every time there was an outage but the time the business got to us and told us that there was a problem we had already sort of known",
    "start": "248870",
    "end": "256100"
  },
  {
    "text": "about it and were looking into it and a business came to trust that we were we had their back that we were making sure",
    "start": "256100",
    "end": "262100"
  },
  {
    "text": "that their systems were up and running when they needed to use them which is why it took so long to find out about",
    "start": "262100",
    "end": "268789"
  },
  {
    "text": "the next problem I found out about this problem because I",
    "start": "268789",
    "end": "274949"
  },
  {
    "text": "was having lunch and I was having lunch with a member of the business who was",
    "start": "274949",
    "end": "280160"
  },
  {
    "text": "just sitting there eating and I sort of finished eating it and said alright I've got to go back to work now and he said",
    "start": "280160",
    "end": "286110"
  },
  {
    "text": "something really innocuous he said I can't go back to work right now I can't interview users after lunchtime",
    "start": "286110",
    "end": "292490"
  },
  {
    "text": "like I made it all the way to the door and then turned around and went wait a minute",
    "start": "292490",
    "end": "297840"
  },
  {
    "text": "I wrote that stream why can't you do that said I don't know it just doesn't",
    "start": "297840",
    "end": "303150"
  },
  {
    "text": "work they just don't get recorded though customers don't get recorded after re-input the data what that's a weird",
    "start": "303150",
    "end": "310050"
  },
  {
    "text": "thing that was never in the requirements I don't remember putting that there why",
    "start": "310050",
    "end": "315870"
  },
  {
    "text": "is the system behaving this way so we went and we had a look and sure enough when we entered customer details it just",
    "start": "315870",
    "end": "322080"
  },
  {
    "text": "didn't work and we only had a look in the log files and we saw that there was an exception being thrown see the thing",
    "start": "322080",
    "end": "329100"
  },
  {
    "text": "about an interior application is these days we'd call it a monolith does look like a monolith it's got multiple bits but all the bits have to be on and",
    "start": "329100",
    "end": "335669"
  },
  {
    "text": "working at the same time so it's kind of just one big thing that we've happened to have installed on a number of machines and it turns out that the",
    "start": "335669",
    "end": "343349"
  },
  {
    "text": "monolith that we had built was bigger than we thought it was because it had even more parts to it that aren't",
    "start": "343349",
    "end": "348389"
  },
  {
    "text": "represented in this diagram and in this case it was an email server an SMTP server see what was happening is when",
    "start": "348389",
    "end": "355680"
  },
  {
    "text": "you create a new client record we send a welcome email and if the SMTP server is down when you send that email and for as",
    "start": "355680",
    "end": "361740"
  },
  {
    "text": "an exception that sucks so why is this thing down after lunch every day because somebody installed some terrible",
    "start": "361740",
    "end": "368910"
  },
  {
    "text": "terrible virus scanner software that brought the server to its knees and stopped it from responding to requests",
    "start": "368910",
    "end": "374539"
  },
  {
    "text": "this is an example of a thing called temporal coupling right this is a case where you need a job to be to be done",
    "start": "374539",
    "end": "381570"
  },
  {
    "text": "some business work to be done and it's spread across two different things and both of those things have to be up and running at the exact same moment because",
    "start": "381570",
    "end": "388470"
  },
  {
    "text": "if they're not the job won't get done so we went back and did some reading about that and it turns out that the easiest",
    "start": "388470",
    "end": "395669"
  },
  {
    "text": "way to kind of fix this problem is to stick something in the middle so rather than doing the work immediately you",
    "start": "395669",
    "end": "402030"
  },
  {
    "text": "down the work and you put it somewhere in this case we put it in a persistent queue I think in this case it was MSM",
    "start": "402030",
    "end": "407280"
  },
  {
    "text": "queue but it could be rabbit in queue or as a service pass or any of those sort of queueing technologies now what",
    "start": "407280",
    "end": "413910"
  },
  {
    "text": "happens is when we create a brand new customer rather than sending an email directly we write down the details of the email that we want to send it we put",
    "start": "413910",
    "end": "419550"
  },
  {
    "text": "it in a queue and then somewhat later on someone else will come along and read that message out of the queue and send",
    "start": "419550",
    "end": "424710"
  },
  {
    "text": "it to the SMTP server and that means that if our server is busy virus scanning and doing whatever it is that",
    "start": "424710",
    "end": "429990"
  },
  {
    "text": "it's doing when it fails that failure is isolated to that side of the queue so",
    "start": "429990",
    "end": "435600"
  },
  {
    "text": "everything on the other side of the queue is just going to continue functioning as per normal which means yeah that guy doesn't get long lunch",
    "start": "435600",
    "end": "441180"
  },
  {
    "text": "breaks and of course we wanted to monitor that thing as well because sometimes it does go down we need to",
    "start": "441180",
    "end": "446520"
  },
  {
    "text": "watch it but it's not the only kind of problem that the business didn't really",
    "start": "446520",
    "end": "451950"
  },
  {
    "text": "tell us about there were other things",
    "start": "451950",
    "end": "457080"
  },
  {
    "text": "that were that had temporal coupling involved in them as well and we sort of found them over time so there were",
    "start": "457080",
    "end": "462240"
  },
  {
    "text": "things like credit card payments PDF generation any kind of third party web service core where we were reaching out",
    "start": "462240",
    "end": "468420"
  },
  {
    "text": "to something external where that thing external needed to have needed to be up at the same time that was a case of",
    "start": "468420",
    "end": "474450"
  },
  {
    "text": "temporal coupling we could break each one of those cases by introducing a queue another time we even got rid of",
    "start": "474450",
    "end": "480540"
  },
  {
    "start": "480000",
    "end": "605000"
  },
  {
    "text": "the application server altogether we basically any time we wanted any work to be done we started writing it down",
    "start": "480540",
    "end": "486660"
  },
  {
    "text": "sticking and accused somewhere and maybe some process that goes and pulls that off the key later on and this is",
    "start": "486660",
    "end": "491970"
  },
  {
    "text": "starting to look a bit more like what we would call sort of a micro services a distributed architecture system today",
    "start": "491970",
    "end": "499040"
  },
  {
    "text": "which was great it took us years to get to this point but it took us a really long time but I got called into the",
    "start": "499040",
    "end": "507870"
  },
  {
    "text": "boss's office again and by this stage it's happened a few times that I don't feel so bad about it she says the business is working really",
    "start": "507870",
    "end": "516240"
  },
  {
    "text": "really well they're really happy with the system but the word around the lunch room is it's kind of slow application is",
    "start": "516240",
    "end": "523650"
  },
  {
    "text": "kind of slow how about we spend some cycles like investing in improving the",
    "start": "523650",
    "end": "528750"
  },
  {
    "text": "performance of this system that we've built in the same way that we kind of look at errors when that happen and we",
    "start": "528750",
    "end": "534420"
  },
  {
    "text": "fix them immediately let's proactively look at like the performance and try and fix it before anything serious comes up and I asked",
    "start": "534420",
    "end": "542190"
  },
  {
    "text": "well are there any particular use cases that are slow it's just generally slow great she said we're gonna put some time",
    "start": "542190",
    "end": "551640"
  },
  {
    "text": "in the next iteration to improve the performance of this system where do we start and I thought about our collection",
    "start": "551640",
    "end": "558960"
  },
  {
    "text": "of distributed components and how they're working and everything's kind of doing its job as fast as it can and I",
    "start": "558960",
    "end": "564900"
  },
  {
    "text": "said in order to answer that question I need you to send me to Disneyland now to",
    "start": "564900",
    "end": "572670"
  },
  {
    "text": "her credit she very quickly arrived at the obvious question which is how the heck does that work how is sending you",
    "start": "572670",
    "end": "579390"
  },
  {
    "text": "to Disneyland gonna help us improve the performance of the distributed system and I grabbed the nearest white board",
    "start": "579390",
    "end": "584700"
  },
  {
    "text": "and I started writing things down and I said look in our system we have a bunch of components each of those components",
    "start": "584700",
    "end": "590460"
  },
  {
    "text": "is processing work as fast as they possibly can and in front of each one there is a queue that represents a",
    "start": "590460",
    "end": "596670"
  },
  {
    "text": "backlog of work for that component and it's trying to get through that backlog as fast as it can so when I go to",
    "start": "596670",
    "end": "604500"
  },
  {
    "text": "Disneyland I will see a collection of attractions these are things that people go on and ride and those things are",
    "start": "604500",
    "end": "611760"
  },
  {
    "start": "605000",
    "end": "741000"
  },
  {
    "text": "processing customers as quickly as they possibly can and in front of each one there is a queue this is a backlog of",
    "start": "611760",
    "end": "618420"
  },
  {
    "text": "work for that attraction to try and get through if anybody has figured out how",
    "start": "618420",
    "end": "623430"
  },
  {
    "text": "to optimize the performance of distributed systems it's going to be Disneyland because they have way more",
    "start": "623430",
    "end": "628650"
  },
  {
    "text": "money than we do now at this point like I said in the project we've been doing",
    "start": "628650",
    "end": "634200"
  },
  {
    "text": "this for years and I had gotten married and had kids and got a mortgage and put",
    "start": "634200",
    "end": "640110"
  },
  {
    "text": "a dog and was studying and I must have looked exhausted or crazy because it",
    "start": "640110",
    "end": "646140"
  },
  {
    "text": "what and I made it to Disneyland ends up",
    "start": "646140",
    "end": "651610"
  },
  {
    "text": "who's been to Disneyland Wow that's a fair number of people considering how far away it is from here did they say",
    "start": "651610",
    "end": "659199"
  },
  {
    "text": "the Disneyland is the most magical place on earth but what they don't tell you is that they've taken your childhood and they've put it in a bowl and put it in",
    "start": "659199",
    "end": "664839"
  },
  {
    "text": "cereal like milk and then they set you in front of a video screen showing your childhood like it's Saturday morning",
    "start": "664839",
    "end": "669850"
  },
  {
    "text": "cartoons it doesn't matter what your rational part of your brain thinks you",
    "start": "669850",
    "end": "675430"
  },
  {
    "text": "know that that is not Mickey Mouse that's a idiot in a suit it doesn't matter that's Mickey Mouse",
    "start": "675430",
    "end": "683350"
  },
  {
    "text": "right as soon as you get to meet Mickey Mouse like I was five seconds into the park I'm like this Chippendale it's",
    "start": "683350",
    "end": "690550"
  },
  {
    "text": "amazing but I kind of got lost in there for a little while probably a day or so",
    "start": "690550",
    "end": "696579"
  },
  {
    "text": "and then sometime around having breakfast with Rafiki from the Lion King I went back through my photos to try and",
    "start": "696579",
    "end": "702759"
  },
  {
    "text": "find this exact moment and I think it's here because I think this is the exact moment that I realized I have to go back",
    "start": "702759",
    "end": "709300"
  },
  {
    "text": "to work on Monday and I have to justify this so I really really need to learn",
    "start": "709300",
    "end": "715149"
  },
  {
    "text": "something about the performance of distributed systems while I'm here in Disneyland so we can't start by trying",
    "start": "715149",
    "end": "722170"
  },
  {
    "text": "to understand the performance of an entire theme park it's too big and we're engineers and what engineers do we take",
    "start": "722170",
    "end": "728589"
  },
  {
    "text": "big problems we make smaller problems out of them we solve the smaller problems and then scale those solutions up to the bigger problem so let's start",
    "start": "728589",
    "end": "735579"
  },
  {
    "text": "by trying to understand the performance of a single attraction at Disneyland",
    "start": "735579",
    "end": "740610"
  },
  {
    "start": "741000",
    "end": "785000"
  },
  {
    "text": "we're going to do that by trying to measure throughput at throughput is a measure of how many customers get to",
    "start": "741360",
    "end": "747790"
  },
  {
    "text": "ride an attraction in a given period of time it sounds pretty good right because we want to get a lot of customers",
    "start": "747790",
    "end": "754629"
  },
  {
    "text": "through our system that's what we're aiming for so how do we measure throughput it's easy you need two things",
    "start": "754629",
    "end": "761079"
  },
  {
    "text": "you stopwatch in one hand and the other hand you need a telly ticker and you stand at the back of the attraction you",
    "start": "761079",
    "end": "766809"
  },
  {
    "text": "start your stopwatch and you run it for like an hour and during that time everybody that comes off the attraction you push the telly ticker so you count",
    "start": "766809",
    "end": "773889"
  },
  {
    "text": "them and at the end of the hour you just write down whatever came up in the telly ticker and then reset both and go again",
    "start": "773889",
    "end": "780480"
  },
  {
    "text": "and if you do that for a day if the Disney people don't kick you off if you",
    "start": "780480",
    "end": "785880"
  },
  {
    "text": "stand there for a day you end up with a graph that looks something like this right so you can actually measure throughput over the course of the day",
    "start": "785880",
    "end": "792320"
  },
  {
    "text": "now it doesn't help if you're looking at performance data to look at just one thing so I wanted to measure a second",
    "start": "792320",
    "end": "798480"
  },
  {
    "text": "one to try and compare them to see if I could see which one I thought was going better so there there's a second one",
    "start": "798480",
    "end": "805170"
  },
  {
    "text": "that I measured now quick audience test performance wise who thinks the Blue",
    "start": "805170",
    "end": "810899"
  },
  {
    "text": "attraction is doing better than the orange one couple of hands who thinks",
    "start": "810899",
    "end": "816630"
  },
  {
    "text": "the orange one is doing better at the blue one few more hands who think this is a trick question good everyone's",
    "start": "816630",
    "end": "824790"
  },
  {
    "text": "awake see these theme park attractions are very finely tuned machines their",
    "start": "824790",
    "end": "832740"
  },
  {
    "text": "performance doesn't change during the day the performance of this attraction wasn't crap in the morning and then good",
    "start": "832740",
    "end": "838260"
  },
  {
    "text": "and then dip down at lunchtime and then went back up the problem is that throughput is a really crappy measure of",
    "start": "838260",
    "end": "844170"
  },
  {
    "text": "performance it's more a measure of demand there's a really great ride called Splash Mountain would you ride",
    "start": "844170",
    "end": "851279"
  },
  {
    "text": "Splash Mountain you are almost guaranteed to get wet on a hot sunny day you are more likely to ride Splash",
    "start": "851279",
    "end": "857670"
  },
  {
    "text": "Mountain than on a cold wet day which means if you're counting people getting off the ride those are all the people",
    "start": "857670",
    "end": "863130"
  },
  {
    "text": "that chose to get on the ride in the first place if demand is high throughput",
    "start": "863130",
    "end": "868199"
  },
  {
    "text": "will be high demand is low throughput will be low so just looking at how many people are coming through the system",
    "start": "868199",
    "end": "873540"
  },
  {
    "text": "doesn't actually tell you much about the performance of that component except",
    "start": "873540",
    "end": "878579"
  },
  {
    "text": "possibly in one case and that's when it flat lines when it flatlines that means",
    "start": "878579",
    "end": "885480"
  },
  {
    "start": "881000",
    "end": "962000"
  },
  {
    "text": "that this attraction is operating as quickly as it possibly can it's processing as many customers as it",
    "start": "885480",
    "end": "891120"
  },
  {
    "text": "possibly can through the system the problem is is that that may be false",
    "start": "891120",
    "end": "896550"
  },
  {
    "text": "that may not be true because there is some kind of maximum number",
    "start": "896550",
    "end": "902970"
  },
  {
    "text": "like theoretically we know we can't just keep pushing people through an attraction as fast as we possibly can the throughput is going to go up until",
    "start": "902970",
    "end": "910110"
  },
  {
    "text": "it hits that number but there's another case where it's going to flatline which is just where you which is just where",
    "start": "910110",
    "end": "916770"
  },
  {
    "text": "you have a constant amount of demand and you're nowhere near your maximum so just",
    "start": "916770",
    "end": "922980"
  },
  {
    "text": "measuring throughput alone isn't enough to tell us where that maximum is but that maximum is an important performance",
    "start": "922980",
    "end": "928860"
  },
  {
    "text": "metric because if we can increase the maximum then in theory we can meet more demand so we need to be able to measure",
    "start": "928860",
    "end": "937170"
  },
  {
    "text": "what where that line is without trying to read it from throughput luckily we",
    "start": "937170",
    "end": "943770"
  },
  {
    "text": "can so I stood outside Goofy's sky school for a while Goofy's sky school is",
    "start": "943770",
    "end": "949770"
  },
  {
    "text": "a wild mouse rollercoaster which means it's a rollercoaster designed for very",
    "start": "949770",
    "end": "954990"
  },
  {
    "text": "small cars with very few number of people on it so imagine a roller coaster with one car with one seat on that car",
    "start": "954990",
    "end": "961800"
  },
  {
    "text": "so we can service one customer at a time",
    "start": "961800",
    "end": "966620"
  },
  {
    "start": "962000",
    "end": "1053000"
  },
  {
    "text": "if it takes two minutes for that car to go all the way around the track we can only serve as one customer for",
    "start": "967220",
    "end": "973950"
  },
  {
    "text": "that two minutes which means in a given hour we can only have that thing go around the track thirty times so can I",
    "start": "973950",
    "end": "981000"
  },
  {
    "text": "get thirty rides in an hour",
    "start": "981000",
    "end": "984529"
  },
  {
    "text": "measuring the duration of the ride is actually quite easy you just need to stop watch that you had before you just",
    "start": "986930",
    "end": "992010"
  },
  {
    "text": "measure people getting on and off and it turns out that this is actually really stable for theme park attractions right",
    "start": "992010",
    "end": "997770"
  },
  {
    "text": "you don't want one person getting on the ride to have a four-minute ride and the next person getting on the ride have a 25 second ride you want everybody to",
    "start": "997770",
    "end": "1003950"
  },
  {
    "text": "have roughly the same experience so those things very carefully timed so that they all operate approximately the",
    "start": "1003950",
    "end": "1009410"
  },
  {
    "text": "same amount of time you can scale that up so if we want to make that run with",
    "start": "1009410",
    "end": "1015230"
  },
  {
    "text": "more customers we need to add more seats to the car that we've got so we've got",
    "start": "1015230",
    "end": "1020720"
  },
  {
    "text": "one car going around the track we can add more seats to it so imagine we've got the car going around 30 turns in an",
    "start": "1020720",
    "end": "1026030"
  },
  {
    "text": "hour and we can put 20 customers on now instead of just one",
    "start": "1026030",
    "end": "1031089"
  },
  {
    "text": "so we add 19 more seats to the car that means that we can now get 600 customers",
    "start": "1031089",
    "end": "1037630"
  },
  {
    "text": "in an hour we can process through this doofy sky scroll attraction which is cool right this is how we scale these",
    "start": "1037630",
    "end": "1044949"
  },
  {
    "text": "things up and Counting the number of customers that you can maximally kind of deal with is easy as well because you",
    "start": "1044949",
    "end": "1051190"
  },
  {
    "text": "just count the number of seats in the car and that gives us a formula for calculating the maximum throughput and",
    "start": "1051190",
    "end": "1056650"
  },
  {
    "start": "1053000",
    "end": "1148000"
  },
  {
    "text": "it's based on fairly stable values right the number of seats in a ride doesn't change so the concurrency tends to stay",
    "start": "1056650",
    "end": "1061690"
  },
  {
    "text": "around the same amount of time it takes to go around the track doesn't change so that tends to stay the same as well and",
    "start": "1061690",
    "end": "1067450"
  },
  {
    "text": "a period that we're measuring is a constant so maximum throughput is pretty much just a static line all of the time",
    "start": "1067450",
    "end": "1073510"
  },
  {
    "text": "and it doesn't often change so we want",
    "start": "1073510",
    "end": "1079480"
  },
  {
    "text": "to maximize that we want to bring that number up and in order to do that by looking at the formula we can figure out",
    "start": "1079480",
    "end": "1084909"
  },
  {
    "text": "that there are two ways to doing it we can either increase the amount of concurrency that we have we can decrease",
    "start": "1084909",
    "end": "1090309"
  },
  {
    "text": "the right duration your honor theme-park both of these are problematic right",
    "start": "1090309",
    "end": "1095679"
  },
  {
    "text": "right duration is problematic because actually linked to the business value that you're getting so if a ride is two",
    "start": "1095679",
    "end": "1101440"
  },
  {
    "text": "minutes then that's cool if a ride is three minutes that's cooler assuming it's a cool ride",
    "start": "1101440",
    "end": "1106480"
  },
  {
    "text": "it's a small world it's way too long nobody should get on that road so you",
    "start": "1106480",
    "end": "1112029"
  },
  {
    "text": "can't really minimize the duration too much because it's tied very tightly to the experience that you're trying to give concurrency is also problematic",
    "start": "1112029",
    "end": "1118929"
  },
  {
    "text": "because there are a few different ways that you can increase concurrency we can add more seats to a car you can add more",
    "start": "1118929",
    "end": "1125500"
  },
  {
    "text": "cars to attract you can add another track you can duplicate the entire attraction and put another copy next to",
    "start": "1125500",
    "end": "1131860"
  },
  {
    "text": "it every one of those comes with an engineering cost at different levels right so a lot of time and energy goes",
    "start": "1131860",
    "end": "1140260"
  },
  {
    "text": "into theme park attraction roads to make sure that these numbers are actually where they need to be before they",
    "start": "1140260",
    "end": "1145480"
  },
  {
    "text": "construct anything now it doesn't",
    "start": "1145480",
    "end": "1150760"
  },
  {
    "start": "1148000",
    "end": "1204000"
  },
  {
    "text": "actually make sense to compare the duration of a ride between two different rights because Goofy's sky school is one",
    "start": "1150760",
    "end": "1158710"
  },
  {
    "text": "experience it's a small world as another experience a Space Mountain is yet a third experience each one of those the duration of the",
    "start": "1158710",
    "end": "1166250"
  },
  {
    "text": "ride is linked to the experience that they're trying to give you so it doesn't really make you can't really say well this one's faster therefore it's better",
    "start": "1166250",
    "end": "1173409"
  },
  {
    "text": "by the same token the concurrency is also related to the experience as well so we said in Goofy's sky school we're",
    "start": "1173409",
    "end": "1178970"
  },
  {
    "text": "going to scale it out to have 20 seats and a car that actually doesn't work because a wild mouse roller coaster is",
    "start": "1178970",
    "end": "1184280"
  },
  {
    "text": "designed to be short so it could make tight turns very quickly that's the experience they're trying to give you if",
    "start": "1184280",
    "end": "1189470"
  },
  {
    "text": "you make it 20 20 people long it can't make tight turns that's an engineering",
    "start": "1189470",
    "end": "1194780"
  },
  {
    "text": "fail it will fall off the tracks so but what you can do is you can compare these",
    "start": "1194780",
    "end": "1200090"
  },
  {
    "text": "numbers over time for a given attraction so we can see we can see thank you you",
    "start": "1200090",
    "end": "1206960"
  },
  {
    "start": "1204000",
    "end": "1256000"
  },
  {
    "text": "can see what happens if the right duration goes up so if it takes longer to go around the track then throughput",
    "start": "1206960",
    "end": "1212659"
  },
  {
    "text": "goes down because you can just fit fewer rides in the period that you're dealing with it's fairly continuous because",
    "start": "1212659",
    "end": "1219409"
  },
  {
    "text": "duration is fairly continuous so you can see in a ride that if the ride over time starts to degrade and slow down that",
    "start": "1219409",
    "end": "1226460"
  },
  {
    "text": "your maximum throughput will come down and you won't be able to meet the demand concurrency works the same way but more",
    "start": "1226460",
    "end": "1233900"
  },
  {
    "text": "but in a discreet manner this is an attraction where say we started in January being able to service 20",
    "start": "1233900",
    "end": "1239960"
  },
  {
    "text": "customers at a time and in February it drops down by one because one of the harnesses fails a safety inspection suddenly that's one customer per ride",
    "start": "1239960",
    "end": "1247280"
  },
  {
    "text": "that you can't service anymore so depending on how many rides you get in an hour that number could go up pretty quickly",
    "start": "1247280",
    "end": "1252500"
  },
  {
    "text": "but it's still a discreet trying to drop okay so but what we really want remember",
    "start": "1252500",
    "end": "1259070"
  },
  {
    "start": "1256000",
    "end": "1356000"
  },
  {
    "text": "originally this was a case of we have a system running we want to be able to compare things to sort of see which ones",
    "start": "1259070",
    "end": "1265280"
  },
  {
    "text": "are in trouble which ones do we need to do performance cheating on we can't really use throughput to compare rides",
    "start": "1265280",
    "end": "1271010"
  },
  {
    "text": "because it's based on demand more than anything else we can't really use duration in concurrency because those",
    "start": "1271010",
    "end": "1276860"
  },
  {
    "text": "things are linked tightly to the experience you could use maximum throughput but you would need to kind of",
    "start": "1276860",
    "end": "1282950"
  },
  {
    "text": "set a maximum throughput target across the entire park and then tweak the concurrency and duration of everything",
    "start": "1282950",
    "end": "1287960"
  },
  {
    "text": "to try and make it match it's actually much easier to do another thing another measure one final one we're going to",
    "start": "1287960",
    "end": "1294830"
  },
  {
    "text": "measure a thing called saturation which is help to your maximum capacity you are so when",
    "start": "1294830",
    "end": "1300500"
  },
  {
    "text": "you're running if you're able to process a hundred customers in an hour and you're currently processing 80 customers",
    "start": "1300500",
    "end": "1305870"
  },
  {
    "text": "an hour you're at 80% of saturation and the idea would be that you would find",
    "start": "1305870",
    "end": "1311360"
  },
  {
    "text": "for each attraction the amount of saturation that they were currently experiencing and then look for the ones",
    "start": "1311360",
    "end": "1316730"
  },
  {
    "text": "with the highest levels of saturation and optimize those now you probably",
    "start": "1316730",
    "end": "1323630"
  },
  {
    "text": "won't get to 1.0 saturation and that's because maximum throughput is a theoretical value and throughput is a",
    "start": "1323630",
    "end": "1329870"
  },
  {
    "text": "measured value right so chances are good due to like slight overheads and inconsistencies you",
    "start": "1329870",
    "end": "1335450"
  },
  {
    "text": "will never see exactly 1.0 saturation so what you want to do is you want to define a threshold and say anything",
    "start": "1335450",
    "end": "1340970"
  },
  {
    "text": "above say 75% saturation is worth noting and looking at because that means that",
    "start": "1340970",
    "end": "1346370"
  },
  {
    "text": "this attraction is very busy and in order to compare attractions for",
    "start": "1346370",
    "end": "1351559"
  },
  {
    "text": "saturation what you want to do is measure throughout the day how often they're above that threshold and the",
    "start": "1351559",
    "end": "1357260"
  },
  {
    "start": "1356000",
    "end": "1411000"
  },
  {
    "text": "theory is you'd end up with a graph like this we could look at this and we could say Space Mountain spend seven out of",
    "start": "1357260",
    "end": "1362690"
  },
  {
    "text": "the eight hours of the day that the park is open above the saturation threshold",
    "start": "1362690",
    "end": "1367940"
  },
  {
    "text": "so it's clearly very busy and so I went around and I measured saturation for a",
    "start": "1367940",
    "end": "1373429"
  },
  {
    "text": "bunch of things and I didn't see this pattern at all and I was confused",
    "start": "1373429",
    "end": "1378440"
  },
  {
    "text": "what I saw was nearly 100% saturation across the park and I thought clearly",
    "start": "1378440",
    "end": "1384890"
  },
  {
    "text": "you could optimize some of that away so I did what I think anybody in this room",
    "start": "1384890",
    "end": "1390740"
  },
  {
    "text": "would do when faced with a problem that you can't really kind of understand he can't really grasp what's happening I",
    "start": "1390740",
    "end": "1396280"
  },
  {
    "text": "found Donald Duck it's common in the industry to do rubber ducking I highly",
    "start": "1396280",
    "end": "1403400"
  },
  {
    "text": "recommend Donald ducking so Donald was",
    "start": "1403400",
    "end": "1408590"
  },
  {
    "text": "very helpful even though he didn't say anything because they're not allowed to and he kind of explained through me",
    "start": "1408590",
    "end": "1414950"
  },
  {
    "start": "1411000",
    "end": "1530000"
  },
  {
    "text": "because I was the one doing all the talking what was going on you see when in theme park attraction",
    "start": "1414950",
    "end": "1420650"
  },
  {
    "text": "runs at full saturation what happens that means that there is enough demand",
    "start": "1420650",
    "end": "1425720"
  },
  {
    "text": "to fully run the thing to run the attraction as far as fast as it possibly can go and there",
    "start": "1425720",
    "end": "1432590"
  },
  {
    "text": "may be some left over and if there's some left over it represents as people queuing waiting to get on and at",
    "start": "1432590",
    "end": "1439520"
  },
  {
    "text": "Disneyland you are going to spend a lot of time in queues you spend more time in queues than you spend on attractions",
    "start": "1439520",
    "end": "1444950"
  },
  {
    "text": "which is weird like it's just a weird trade-off that people make willingly and",
    "start": "1444950",
    "end": "1450230"
  },
  {
    "text": "the theory is is that it's worth standing around in line for a certain amount of time in order to get a cool experience at the other end so why is it",
    "start": "1450230",
    "end": "1459650"
  },
  {
    "text": "okay to run attractions at full saturation two reasons one theme park",
    "start": "1459650",
    "end": "1465710"
  },
  {
    "text": "attractions are really really really expensive they're expensive to design they're expensive to run they're",
    "start": "1465710",
    "end": "1471230"
  },
  {
    "text": "expensive to maintain and they maintain periodically almost irrespective of how many people ride the thing which means",
    "start": "1471230",
    "end": "1478370"
  },
  {
    "text": "you want to get maximum usage out of that thing people are coming into your park in order to have experiences you",
    "start": "1478370",
    "end": "1485240"
  },
  {
    "text": "want those experiences to be servicing as many customers as they possibly can so if you have an attraction lying",
    "start": "1485240",
    "end": "1490970"
  },
  {
    "text": "around with nobody wanting to ride it or with not enough people wanting to ride it that represents waste which sucks we",
    "start": "1490970",
    "end": "1496460"
  },
  {
    "text": "want to eliminate waste now you can argue that standing in queue is also a waste it's a waste of your time but by",
    "start": "1496460",
    "end": "1502429"
  },
  {
    "text": "that point Disney already has your money and like I said people are willing to stand around in line so but it seems",
    "start": "1502429",
    "end": "1510169"
  },
  {
    "text": "like the more popular rides are gonna have longer queues so we can measure",
    "start": "1510169",
    "end": "1515210"
  },
  {
    "text": "queue lengths right how long is the queue how long is the backlog of work for a specific theme park attraction key",
    "start": "1515210",
    "end": "1523789"
  },
  {
    "text": "length is interesting not based on its like current value but based on how it",
    "start": "1523789",
    "end": "1529340"
  },
  {
    "text": "changes over time because if you measure key lengths over the course of a day and you look at the gradient if queue length",
    "start": "1529340",
    "end": "1535820"
  },
  {
    "start": "1530000",
    "end": "1667000"
  },
  {
    "text": "is going down it's an indication that you're able to meet the demand for that attraction so basically you're",
    "start": "1535820",
    "end": "1542600"
  },
  {
    "text": "processing more people through the attraction they're not joining the back of the queue that want to join",
    "start": "1542600",
    "end": "1549220"
  },
  {
    "text": "conversely if queue length is going up that's a bad sign because that means that more people want to ride this",
    "start": "1549220",
    "end": "1554809"
  },
  {
    "text": "attraction than I ever going to be able to in this specific case by the end of the day that is the point at which we",
    "start": "1554809",
    "end": "1560840"
  },
  {
    "text": "are going to have the most number of customers left to and at that point what do we do it's",
    "start": "1560840",
    "end": "1566620"
  },
  {
    "text": "tough to shut down the park at nighttime so do we tell all those people to go home unsatisfied do we run the equipment",
    "start": "1566620",
    "end": "1572950"
  },
  {
    "text": "and pay staff overtime how do we handle this situation now this is one that you need to be careful of",
    "start": "1572950",
    "end": "1578620"
  },
  {
    "text": "because an upward gradient in key lengths doesn't necessarily mean that the attraction is unable to handle",
    "start": "1578620",
    "end": "1585280"
  },
  {
    "text": "things at ten o'clock in the morning 15 buses drop off tourists from the local hotels and they all join the park at",
    "start": "1585280",
    "end": "1591549"
  },
  {
    "text": "once and when that happens there is a steep spike in the number of people",
    "start": "1591549",
    "end": "1597100"
  },
  {
    "text": "joining queues but then it sort of tails off so you do get spikes in traffic and",
    "start": "1597100",
    "end": "1602740"
  },
  {
    "text": "all you need to do is sort of zoom out further to be able to see whether or not you're able to meet demand or not but",
    "start": "1602740",
    "end": "1609340"
  },
  {
    "text": "how do we handle this situation where we we actually can't have people standing in the line at the end of the day so",
    "start": "1609340",
    "end": "1614410"
  },
  {
    "text": "need to deal with them what you want to do ideally is you find a time earlier in the day to close the input queue to",
    "start": "1614410",
    "end": "1620980"
  },
  {
    "text": "actually say please stop joining the queue we won't be able to service you you need to be really careful doing this",
    "start": "1620980",
    "end": "1627730"
  },
  {
    "text": "because you can do it really wrong in two very spectacularly different ways if you go too early you're going to run out",
    "start": "1627730",
    "end": "1634809"
  },
  {
    "text": "of people to service before the park shuts which means there's going to be a period of time at the end of the day during which you're very very very",
    "start": "1634809",
    "end": "1642100"
  },
  {
    "text": "expensive machinery is a very very expensive paperweight if you close the park too late you're back to that",
    "start": "1642100",
    "end": "1648280"
  },
  {
    "text": "original problem of saying we we've run out of time before we run out of",
    "start": "1648280",
    "end": "1654809"
  },
  {
    "text": "customers to process so how do you pick that moment how do you pick that moment",
    "start": "1654809",
    "end": "1660429"
  },
  {
    "text": "where you say this is the time when we want to close the gate to do that you need to measure something called key",
    "start": "1660429",
    "end": "1666640"
  },
  {
    "text": "wait time key wait time is a measurement of how long can I expect to stand around",
    "start": "1666640",
    "end": "1672669"
  },
  {
    "start": "1667000",
    "end": "1818000"
  },
  {
    "text": "in queue before I get to the front and get get on the ride so luckily we can",
    "start": "1672669",
    "end": "1679690"
  },
  {
    "text": "measure this it's actually really easy to measure take our trusty stopwatch don't go to Disneyland without stop but you need one join the back of the queue",
    "start": "1679690",
    "end": "1687250"
  },
  {
    "text": "start the stopwatch and then wait and walk to the front of the queue very slowly and when you get to the end you",
    "start": "1687250",
    "end": "1693490"
  },
  {
    "text": "stop you stop watch that's an accurate measurement of key wait time the problem is it's a",
    "start": "1693490",
    "end": "1699059"
  },
  {
    "text": "measurement of how long it will take for you to get to the front of the queue it's a measurement of the queue in front",
    "start": "1699059",
    "end": "1704580"
  },
  {
    "text": "of you which is now gone the queue behind you is now a different cue so actually measuring T wait time",
    "start": "1704580",
    "end": "1711870"
  },
  {
    "text": "doesn't help you at all in fact the longer the queue wait time is the less",
    "start": "1711870",
    "end": "1718529"
  },
  {
    "text": "useful it is to measure it this way because when you get to the end more things have changed behind you in the",
    "start": "1718529",
    "end": "1724890"
  },
  {
    "text": "queue okay well that sucks how do we deal with that so rather than measuring it we can",
    "start": "1724890",
    "end": "1732149"
  },
  {
    "text": "estimate it we already know how many people can go on the ride at the same time we measured that in terms of",
    "start": "1732149",
    "end": "1737429"
  },
  {
    "text": "concurrency so we can basically walk backwards up the line and we can measure",
    "start": "1737429",
    "end": "1743309"
  },
  {
    "text": "how many rides there are in that line we also know how long each ride takes and",
    "start": "1743309",
    "end": "1750510"
  },
  {
    "text": "we can measure that as well so we can walk back up the line and we can assign a finish time to each one of those rides",
    "start": "1750510",
    "end": "1755600"
  },
  {
    "text": "through the queue so we can figure out just by measuring how long the queue is",
    "start": "1755600",
    "end": "1762299"
  },
  {
    "text": "and by using a very stable metric of how long each ride is and how much concurrency we have we can estimate how",
    "start": "1762299",
    "end": "1768659"
  },
  {
    "text": "long queue wait time is just by doing a",
    "start": "1768659",
    "end": "1773909"
  },
  {
    "text": "quick calculation now Disneyland absolutely does this in fact they go even further so you can calculate queue",
    "start": "1773909",
    "end": "1780899"
  },
  {
    "text": "lengths by counting heads you can start at the front of the queue and just count heads going all the way back but you also kind of estimate how many people",
    "start": "1780899",
    "end": "1787020"
  },
  {
    "text": "there are in a space by volume which is a weird thing to do but they do it which means you can start at the front of the",
    "start": "1787020",
    "end": "1792779"
  },
  {
    "text": "queue and you can walk back a certain number of distance and you can say that represents probably about 50 people and",
    "start": "1792779",
    "end": "1798659"
  },
  {
    "text": "you can walk a little bit more ago that represents probably about 150 people because you can do that you can hang",
    "start": "1798659",
    "end": "1805049"
  },
  {
    "text": "these little signs along the queue that say from here it's going to be 15 minutes from here it's gonna be 25",
    "start": "1805049",
    "end": "1810960"
  },
  {
    "text": "minutes from here it's gonna be 45 minutes and those signs are hunter all the queues in Disneyland right so we can",
    "start": "1810960",
    "end": "1819059"
  },
  {
    "start": "1818000",
    "end": "1971000"
  },
  {
    "text": "calculate this fairly easily there's a quick calculation for you I just take the key length divided up by a",
    "start": "1819059",
    "end": "1824970"
  },
  {
    "text": "throughput not just the report but maximum right because the only reason we have a",
    "start": "1824970",
    "end": "1830429"
  },
  {
    "text": "queue is because we're running at full saturation which means throughput is equal to max throughput if it's not you have a different problem okay so we can",
    "start": "1830429",
    "end": "1840000"
  },
  {
    "text": "calculate estimated queue wait time we want to try and minimize queue wait time",
    "start": "1840000",
    "end": "1846049"
  },
  {
    "text": "right people don't want to hang around in queues it's boring",
    "start": "1846049",
    "end": "1851250"
  },
  {
    "text": "that they do all sorts of things in Disneyland to try and make it not boring those things are always standing around",
    "start": "1851250",
    "end": "1856320"
  },
  {
    "text": "in a queue is boring nobody wants to do it so we want to minimize that so using the previous formula we can come up with",
    "start": "1856320",
    "end": "1861450"
  },
  {
    "text": "optimization techniques for trying to keep that G wait time down first of all",
    "start": "1861450",
    "end": "1866880"
  },
  {
    "text": "we can try and minimize queue lengths the key length is a measure of demand you can't you can control demand but not",
    "start": "1866880",
    "end": "1874620"
  },
  {
    "text": "if your performance cheating that's a different problem that's a marketing problem you can you don't really control",
    "start": "1874620",
    "end": "1881010"
  },
  {
    "text": "key lengths in a theme-park the only control you have is to drop that date down and say please stop joining this queue that sucks we don't want to do",
    "start": "1881010",
    "end": "1888750"
  },
  {
    "text": "that because that represents turning customers away but we do want to increase maximum max throughput so we",
    "start": "1888750",
    "end": "1894389"
  },
  {
    "text": "want to bring that max throughput line as high as we possibly can and we already know how to do that we do that",
    "start": "1894389",
    "end": "1899490"
  },
  {
    "text": "by increasing concurrency and by bringing our a generation down but as we said before bringing ray generation down",
    "start": "1899490",
    "end": "1906090"
  },
  {
    "text": "decreases the value so this is an interesting balancing act because the longer you're going to wait in the queue the more value you want at the other end",
    "start": "1906090",
    "end": "1913139"
  },
  {
    "text": "so the longer the ride that you want to get at the other end but decreasing the amount of time on the ride will actually",
    "start": "1913139",
    "end": "1918990"
  },
  {
    "text": "decrease the key weight time so the shorter rides are going to have shorter queue queue weights just be able to get",
    "start": "1918990",
    "end": "1925590"
  },
  {
    "text": "on the ride quicker now you're gonna give queue wait time as the responsiveness of a given attraction",
    "start": "1925590",
    "end": "1932419"
  },
  {
    "text": "so as you walk up through the park you find a bunch of different attractions that you can potentially go on and each",
    "start": "1932419",
    "end": "1941250"
  },
  {
    "text": "one is going to be a certain level of responsiveness something with a very long queue that's moving very slowly",
    "start": "1941250",
    "end": "1947700"
  },
  {
    "text": "it's very unresponsive there is a long delay between when you decide to ride that attraction and when you actually",
    "start": "1947700",
    "end": "1954029"
  },
  {
    "text": "get to the front of the queue and get to ride the attraction something with a very short queue that's moving very",
    "start": "1954029",
    "end": "1959190"
  },
  {
    "text": "quickly is very responsive every time you decide you want to write it you get to like it's almost",
    "start": "1959190",
    "end": "1964650"
  },
  {
    "text": "instantaneous feedback so you want to measure the estimated key weight time",
    "start": "1964650",
    "end": "1970049"
  },
  {
    "text": "across all the attractions in the park and then you can measure those and compare them against one another and",
    "start": "1970049",
    "end": "1977480"
  },
  {
    "text": "doing that you can find like which parts of the park are the least responsive",
    "start": "1977480",
    "end": "1982590"
  },
  {
    "text": "parts and you can try and optimize those and as you bring the overall amount of",
    "start": "1982590",
    "end": "1990059"
  },
  {
    "text": "responsiveness for individual attractions down and you make them more more and more responsive overall the",
    "start": "1990059",
    "end": "1996570"
  },
  {
    "text": "park gets more and more responsive the more things you can do in a given hour because you can kind of jump on more",
    "start": "1996570",
    "end": "2002120"
  },
  {
    "text": "rides more attractions and do more things and that gave me the ammunition that I felt that I needed so I go back",
    "start": "2002120",
    "end": "2009559"
  },
  {
    "text": "to enjoying Disneyland and I kind of saw",
    "start": "2009559",
    "end": "2015260"
  },
  {
    "text": "all the things and then it was very tiring week by this point I was ready to go home so it was trying to grow my",
    "start": "2015260",
    "end": "2022850"
  },
  {
    "text": "beard out this week to try and recreate this glamorous look that I had but I haven't been able to unfortunately but",
    "start": "2022850",
    "end": "2029900"
  },
  {
    "start": "2029000",
    "end": "2158000"
  },
  {
    "text": "finally back to work on Monday and I got asked to all the sort of standing questions when you go on holiday what",
    "start": "2029900",
    "end": "2036169"
  },
  {
    "text": "was your best what was your favorite bit which ride was the best Space Mountain is the best ride by the way which if you don't know is a",
    "start": "2036169",
    "end": "2042020"
  },
  {
    "text": "rollercoaster inside a building with no lights on so it's in the dark which is a",
    "start": "2042020",
    "end": "2047870"
  },
  {
    "text": "fantastic experience feels a bit like being on a project but inevitably I got",
    "start": "2047870",
    "end": "2055010"
  },
  {
    "text": "called my boss's office how was it did you have fun what did you learn about the performance of distributed systems no it's like twinkle in the eye and I",
    "start": "2055010",
    "end": "2062750"
  },
  {
    "text": "think she was surprised because I went for the whiteboard again and I said alright here's what we're gonna do we're",
    "start": "2062750",
    "end": "2069589"
  },
  {
    "text": "gonna measure how long does it take to process each message how many messages each component processing at a time in a",
    "start": "2069589",
    "end": "2075858"
  },
  {
    "text": "given window of time how many messages can we process we're to start to measure that stuff we're going to put it all on",
    "start": "2075859",
    "end": "2080960"
  },
  {
    "text": "a database somewhere we need use that we're going to calculate the maximum throughput for each one of these",
    "start": "2080960",
    "end": "2086179"
  },
  {
    "text": "components and we're going to use that to calculate saturation and we going to look for each one of our components how",
    "start": "2086179",
    "end": "2092089"
  },
  {
    "text": "close they are to saturation much of the time do they spend near saturation and we found a few components",
    "start": "2092089",
    "end": "2099140"
  },
  {
    "text": "that currently weren't slowing the system down that they had the serious potential to start to very certain",
    "start": "2099140",
    "end": "2105020"
  },
  {
    "text": "because we were going to start to run into the problem of having components that had more work to do than they could",
    "start": "2105020",
    "end": "2110480"
  },
  {
    "text": "possibly get through the next thing we're going to measure is how long is",
    "start": "2110480",
    "end": "2115580"
  },
  {
    "text": "the cue how much of a backlog does each one of these components have how much work do they have to do and then we're",
    "start": "2115580",
    "end": "2121940"
  },
  {
    "text": "going to use that to estimate how long it will take them to get through that backlog of work now remember key weight",
    "start": "2121940",
    "end": "2128480"
  },
  {
    "text": "term is a good measure of responsiveness so if I click a button in the UI and the email doesn't get sent for another 15",
    "start": "2128480",
    "end": "2134750"
  },
  {
    "text": "minutes that's very unresponsive that gives you that general feeling of the system being slow so we were able to",
    "start": "2134750",
    "end": "2142190"
  },
  {
    "text": "measure this as well we found some components that were already fully saturated where the cue wait time was already going up and that's why the",
    "start": "2142190",
    "end": "2149570"
  },
  {
    "text": "system was feeling unresponsive and we were able to optimize those things and improve them and bring the cue wait time",
    "start": "2149570",
    "end": "2155300"
  },
  {
    "text": "back down get everything working again back to this diagram we want to bring cue wait time down but in a theme-park",
    "start": "2155300",
    "end": "2163580"
  },
  {
    "text": "we didn't really have it in gates on key length remember key length is a measure of demand so we couldn't really do",
    "start": "2163580",
    "end": "2169940"
  },
  {
    "text": "anything other than saying please stop joining this queue you know in a distributed system you can't do that you",
    "start": "2169940",
    "end": "2176600"
  },
  {
    "text": "don't even have that gate because you can't say please stop sending me process credit card payments I can't press this",
    "start": "2176600",
    "end": "2182630"
  },
  {
    "text": "has been fast enough not only that but you don't shut down the machinery at the end of the day the machinery is more or",
    "start": "2182630",
    "end": "2188780"
  },
  {
    "text": "less running 24 of 24/7 which means there's not a point that you have to reach where you've run out of work but",
    "start": "2188780",
    "end": "2195710"
  },
  {
    "text": "that leads to the problem of that ever-increasing sucky length which means",
    "start": "2195710",
    "end": "2200930"
  },
  {
    "text": "that you could have an ever increase in queue weight time which means your system could just get less and less",
    "start": "2200930",
    "end": "2206510"
  },
  {
    "text": "responsive over time until it gets to the point where it feels like it's not functioning at all so the only lever we",
    "start": "2206510",
    "end": "2213350"
  },
  {
    "text": "have in a distributed system is to increase that max throughput for each one of the components the only thing that we can do now luckily it's much",
    "start": "2213350",
    "end": "2219560"
  },
  {
    "text": "cheaper to do this in the software world than it was in the theme-park world so we had radiation how long does it",
    "start": "2219560",
    "end": "2228040"
  },
  {
    "text": "take to process each message in a theme-park is tied to the value proposition right a long ride is cooler",
    "start": "2228040",
    "end": "2234790"
  },
  {
    "text": "than a short ride in general except for it's a small world it still sucks so you",
    "start": "2234790",
    "end": "2241630"
  },
  {
    "text": "can optimize this in the software though because sending an email is sending an email that's the value proposition it",
    "start": "2241630",
    "end": "2247390"
  },
  {
    "text": "doesn't matter if it takes 30 seconds two minutes or like half a millisecond so if you can optimize those things down",
    "start": "2247390",
    "end": "2252910"
  },
  {
    "text": "you want to so you want to try and find cases where you can do that increasing the concurrency is also",
    "start": "2252910",
    "end": "2258970"
  },
  {
    "start": "2257000",
    "end": "2505000"
  },
  {
    "text": "something that is much easier to do from a software perspective because there engineering costs of duplicating things",
    "start": "2258970",
    "end": "2264100"
  },
  {
    "text": "is not anywhere near as high so there's a few different ways that you can increase concurrency first and foremost",
    "start": "2264100",
    "end": "2270910"
  },
  {
    "text": "just scale the box up put more CPUs in it write more threads and you can",
    "start": "2270910",
    "end": "2277570"
  },
  {
    "text": "process more messages in parallel and that's relatively cheap these days",
    "start": "2277570",
    "end": "2282880"
  },
  {
    "text": "especially in the cloud you just bring up another instance and scale it up go crazy if you're doing heavily i/o bound",
    "start": "2282880",
    "end": "2290350"
  },
  {
    "text": "work you can go even further than that because you can kind of process more",
    "start": "2290350",
    "end": "2295420"
  },
  {
    "text": "things because you're not sort of bound to individual threads so if you're doing proper async/await in c-sharp talking to",
    "start": "2295420",
    "end": "2302080"
  },
  {
    "text": "the queue is an i/o operation so if you're doing like any other kind of i/o you can kind of pause while the other",
    "start": "2302080",
    "end": "2308530"
  },
  {
    "text": "i/o is doing stuff and be processing it on the message in parallel so you can actually crank your level of concurrency and parallelism up even higher than the",
    "start": "2308530",
    "end": "2315100"
  },
  {
    "text": "number of CPUs and threads that you have still get a lot of benefit out of it the next trick that you can do is just to",
    "start": "2315100",
    "end": "2321070"
  },
  {
    "text": "copy the instance remember in a theme-park that sounded ridiculous that you would take the attraction and build",
    "start": "2321070",
    "end": "2326530"
  },
  {
    "text": "another copy right next to it was really expensive in software it's not expensive it's an ex copy operation just put",
    "start": "2326530",
    "end": "2333520"
  },
  {
    "text": "another copy on another machine and the cool thing is that they all share basically the same duration the",
    "start": "2333520",
    "end": "2339010"
  },
  {
    "text": "processing a message is still going to take the same amount of time sending an email is going to take the same amount of time no matter how many processors",
    "start": "2339010",
    "end": "2344590"
  },
  {
    "text": "you have doing it the amount of concurrency you get is actually summed across all of those things so in this",
    "start": "2344590",
    "end": "2350050"
  },
  {
    "text": "case we've got a component that can handle five messages concurrently having three copies of it means now we can",
    "start": "2350050",
    "end": "2355060"
  },
  {
    "text": "handle fifteen you can scale this to ridiculous levels and that's basically what AWS lamda and",
    "start": "2355060",
    "end": "2361820"
  },
  {
    "text": "Azure functions is promising you it's saying that you they were going to keep your Q wait time very short by",
    "start": "2361820",
    "end": "2368360"
  },
  {
    "text": "infinitely scaling and having so many concurrent instances running that every time a message comes in it will be",
    "start": "2368360",
    "end": "2374810"
  },
  {
    "text": "processed by a running instance of your thing without waiting and that's fantastic except when it doesn't work",
    "start": "2374810",
    "end": "2381470"
  },
  {
    "text": "and the reason that typically doesn't work is because you're connected to some other thing that doesn't scale",
    "start": "2381470",
    "end": "2388070"
  },
  {
    "text": "infinitely so I was working on a project where we had a component that was",
    "start": "2388070",
    "end": "2394370"
  },
  {
    "text": "processing messages as quickly as it possibly could and it was flatlining so we assumed that it had hit maximum",
    "start": "2394370",
    "end": "2400910"
  },
  {
    "text": "concurrency maximum throughput so we scaled it out and the throughput went",
    "start": "2400910",
    "end": "2406430"
  },
  {
    "text": "down what was happening in the first case was that we were running into problems with deadlocks in the database",
    "start": "2406430",
    "end": "2413720"
  },
  {
    "text": "we were talking to the database and it just so happened that all the messages coming in were for the same records I mean an optimistic concurrency on so we",
    "start": "2413720",
    "end": "2421160"
  },
  {
    "text": "had a whole bunch of messages being processed but about half of them were just not being processed they were throwing a concurrency exception being",
    "start": "2421160",
    "end": "2427070"
  },
  {
    "text": "rolled back into the queue and being processed again so although our throughput was flat we actually weren't",
    "start": "2427070",
    "end": "2433400"
  },
  {
    "text": "hitting anywhere near the max and when we scaled it out we just started getting",
    "start": "2433400",
    "end": "2438620"
  },
  {
    "text": "deadlocks even faster than we were getting them before right this is what is going to happen to you anytime that",
    "start": "2438620",
    "end": "2443900"
  },
  {
    "text": "you have some kind of shared resource that's limited so if you are trying to connect to a rate limited API scaling",
    "start": "2443900",
    "end": "2449420"
  },
  {
    "text": "out to connect to it is just gonna get you rate limited even faster so that's a case where actually reducing the amount",
    "start": "2449420",
    "end": "2455900"
  },
  {
    "text": "of concurrency that you know that you're doing will result in increased throughput which sounds weird but it's",
    "start": "2455900",
    "end": "2461720"
  },
  {
    "text": "also a warning sign because that means you cannot scale any further than that if you can't bring the performance of",
    "start": "2461720",
    "end": "2467600"
  },
  {
    "text": "the thing down to run in a shorter duration and you can't increase the concurrency you have no levers left",
    "start": "2467600",
    "end": "2472730"
  },
  {
    "text": "that's as fast as you're going to be able to operate so we did all this to",
    "start": "2472730",
    "end": "2477920"
  },
  {
    "text": "our system and over time the number of instances of people in the lunch rooms",
    "start": "2477920",
    "end": "2483770"
  },
  {
    "text": "and complaining instead of saying well it's sort of slow went down which is great that's exactly what we",
    "start": "2483770",
    "end": "2491240"
  },
  {
    "text": "wanted so in exactly the same way that people could trust that when the system stops working that the IT people were",
    "start": "2491240",
    "end": "2496670"
  },
  {
    "text": "looking at it and we're working on it now when it was slow they could rely on the fact that we were actually looking",
    "start": "2496670",
    "end": "2501980"
  },
  {
    "text": "at it and working on it as well so next Monday you're all gonna go back to work",
    "start": "2501980",
    "end": "2507680"
  },
  {
    "start": "2505000",
    "end": "2630000"
  },
  {
    "text": "I see him I mean maybe it's actually next Monday's a public holiday right next Tuesday when you won't go back to",
    "start": "2507680",
    "end": "2514400"
  },
  {
    "text": "work you're probably gonna have a conversation with some of your",
    "start": "2514400",
    "end": "2519560"
  },
  {
    "text": "colleagues with your boss you're gonna get asked the standard questions how was it did you enjoy it what were the best",
    "start": "2519560",
    "end": "2524630"
  },
  {
    "text": "bids someone might ask you to question what did you learn about the performance of distributed systems it's doubtful but",
    "start": "2524630",
    "end": "2530420"
  },
  {
    "text": "it might be like what did you learn that's gonna be tempted to talk about Ryder Asians and responsive",
    "start": "2530420",
    "end": "2536390"
  },
  {
    "text": "rollercoasters and scaling out theme park attractions resist that urge stop",
    "start": "2536390",
    "end": "2542109"
  },
  {
    "text": "take a deep breath look at them in the eye and say in order to answer that",
    "start": "2542109",
    "end": "2547280"
  },
  {
    "text": "question you're going to need to send me to Disneyland it might work thank you very much has",
    "start": "2547280",
    "end": "2563359"
  },
  {
    "text": "anybody got any questions I'm still like 15 minutes early which is funny because I cut 15 minutes out of",
    "start": "2563359",
    "end": "2569240"
  },
  {
    "text": "the talk last night seemed like a good idea at the time yes",
    "start": "2569240",
    "end": "2574420"
  },
  {
    "text": "so it is still a model if effectively if any one of those components goes down",
    "start": "2590140",
    "end": "2595640"
  },
  {
    "text": "the hole that whole unit goes down so it's a question of whether or not the bringing a particular unit down brings",
    "start": "2595640",
    "end": "2601220"
  },
  {
    "text": "down your entire application and one of the things that I skipped over because I'm full was when we actually got to the",
    "start": "2601220",
    "end": "2607910"
  },
  {
    "text": "point of getting rid of our application server and only having those individual services we won't no longer coming in on",
    "start": "2607910",
    "end": "2613160"
  },
  {
    "text": "the weekend to install new stuff we were doing it at lunchtime or doing it in the morning or doing it whenever because effectively you can take down the back",
    "start": "2613160",
    "end": "2618800"
  },
  {
    "text": "half of the system and the front half of the system doesn't notice which is fantastic that's what you want to get to",
    "start": "2618800",
    "end": "2624670"
  },
  {
    "text": "anybody else thank you very much",
    "start": "2624670",
    "end": "2631480"
  }
]