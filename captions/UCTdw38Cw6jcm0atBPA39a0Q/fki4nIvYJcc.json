[
  {
    "text": "okay good morning my name is Elton thank you for joining me I work for daca and this session is all about service mesh",
    "start": "3980",
    "end": "11010"
  },
  {
    "text": "so service mesh is this new technology that that's grown massively quickly it",
    "start": "11010",
    "end": "16560"
  },
  {
    "text": "was really it came to prominence really only the last year or two it does really exciting things but just like any",
    "start": "16560",
    "end": "22650"
  },
  {
    "text": "technology there's a certain amount of investment to learning how to use it and to actually operating it so this session",
    "start": "22650",
    "end": "27840"
  },
  {
    "text": "is about telling you what a service mesh does but also trying to help you evaluate whether it's something that you",
    "start": "27840",
    "end": "32850"
  },
  {
    "text": "want to bring into into your into your next project so three main areas I'm going to talk about briefly what a",
    "start": "32850",
    "end": "38250"
  },
  {
    "text": "service master does so how it works and the features you get from it as a whole bunch of demos in this session and I'll",
    "start": "38250",
    "end": "44160"
  },
  {
    "text": "be using sto which is like the leader in the service mesh space sto runs on",
    "start": "44160",
    "end": "49559"
  },
  {
    "text": "different things but I'll be running it on Kuban at ease and then I'll be intertwine without I'll be talking about how you might want to evaluate this this",
    "start": "49559",
    "end": "56280"
  },
  {
    "text": "whole approach and whether it's gonna fit in with what you want to do it's a it's a two-speed session really it's",
    "start": "56280",
    "end": "62070"
  },
  {
    "text": "quite difficult to pitch this because the introduction to service mesh the concept is pretty simple so I think we",
    "start": "62070",
    "end": "68040"
  },
  {
    "text": "can we can all get to that level pretty quickly but the implementation because I'm really on kubernetes it gets technical pretty quickly so just a show",
    "start": "68040",
    "end": "75780"
  },
  {
    "text": "of hands if I throw up a Cuba nineties manifest who would want me to go through and explain what's on the screen okay",
    "start": "75780",
    "end": "83250"
  },
  {
    "text": "you're out of luck because I've got time to do that so what I will do is I'll focus on the bits that are important towards this do okay so firstly what is",
    "start": "83250",
    "end": "90329"
  },
  {
    "text": "the service mesh so this is all about distributed computing when I've got a software product where the components",
    "start": "90329",
    "end": "96810"
  },
  {
    "text": "are in different components that are talking to each other over the network and what the service mesh lets you do is",
    "start": "96810",
    "end": "101909"
  },
  {
    "text": "take back that communication between all these pieces and elevator into its own entity which you can control and look at",
    "start": "101909",
    "end": "108750"
  },
  {
    "text": "as a separate thing so taking these little bits of logic out of every single component and putting it into a central",
    "start": "108750",
    "end": "113880"
  },
  {
    "text": "into a central unit so a very simple definition it's the communication between these components made into its",
    "start": "113880",
    "end": "119460"
  },
  {
    "text": "own thing this is not an official description this is this is how I think of it what you'll see on this description is there is no mention of",
    "start": "119460",
    "end": "126030"
  },
  {
    "text": "Micra services or kubernetes or containers the concept of a service mesh is is a network level infrastructure",
    "start": "126030",
    "end": "133210"
  },
  {
    "text": "a piece of piece of kit it doesn't have to work with containers in kubernetes so it emerge from the world of micro",
    "start": "133210",
    "end": "139720"
  },
  {
    "text": "services because you get the proliferation of components it's much easier to manage them if you've got this central thing but you can install the",
    "start": "139720",
    "end": "145780"
  },
  {
    "text": "service mesh on a VM that's running a database and a VM that's running your monolithic web app and you can still get",
    "start": "145780",
    "end": "150820"
  },
  {
    "text": "a service mesh between those things so what does it actually kind of do so",
    "start": "150820",
    "end": "155980"
  },
  {
    "text": "imagine my very simple distributed system here so I've just got two things long-living web app on a sequel database",
    "start": "155980",
    "end": "162160"
  },
  {
    "text": "for the web app to communicate with a database it needs a bunch of stuff so at the very minimum in ease and address of",
    "start": "162160",
    "end": "168190"
  },
  {
    "text": "where to find the database and then all the network communication actually is that there's a whole set of behaviors",
    "start": "168190",
    "end": "173530"
  },
  {
    "text": "that need to be need to be baked into my web application to make sure that the communication is reliable because the",
    "start": "173530",
    "end": "179260"
  },
  {
    "text": "network itself isn't necessarily reliable so things like if I try and connect and I can't reach the database",
    "start": "179260",
    "end": "184330"
  },
  {
    "text": "how long should I wait for should I timeout after 10 seconds or 30 seconds what should I do if I timeout do I raise",
    "start": "184330",
    "end": "190090"
  },
  {
    "text": "the exception or do I try again if there's a transient failure what I'm trying to do a fetch or or an update do",
    "start": "190090",
    "end": "196030"
  },
  {
    "text": "I retry how many times do I retry what's the gap between retrying should I increase the gap after each retry and",
    "start": "196030",
    "end": "201850"
  },
  {
    "text": "then encryption do I need to encrypt the traffic between these two components is that a requirement for my from",
    "start": "201850",
    "end": "207520"
  },
  {
    "text": "regulatory basis or just because it's good practice all that kind of logic is baked into the into the client inside",
    "start": "207520",
    "end": "214120"
  },
  {
    "text": "the web component so in this case it might be some sort of sequel client it'll have his own way of configuring and setting up all that stuff maybe some",
    "start": "214120",
    "end": "219850"
  },
  {
    "text": "of those features aren't available so you have to have another client library something like atom like poly",
    "start": "219850",
    "end": "224890"
  },
  {
    "text": "in dotnet which does the retries for you so maybe we need to bake all that stuff in and that's okay but the trouble is as",
    "start": "224890",
    "end": "231040"
  },
  {
    "text": "soon if you got another component so if i've got an api i thought i also need to talk to i've got all the same concerns so i've got all those things that i need",
    "start": "231040",
    "end": "237910"
  },
  {
    "text": "to bake in for my api communication - and this would be a different type of network client this would be if it's a",
    "start": "237910",
    "end": "243370"
  },
  {
    "text": "REST API you'll need HTTP client so I'll have a different set of features that I need to configure in different ways to",
    "start": "243370",
    "end": "248530"
  },
  {
    "text": "deal with this sort of behavior and a different set of capabilities from that client so this is this is becoming",
    "start": "248530",
    "end": "256000"
  },
  {
    "text": "difficult to work with because not all these different clients will have the same set of features and if I want to make changes when I'm live either need",
    "start": "256000",
    "end": "263860"
  },
  {
    "text": "to have everything configurable in which case I need to have a decent configuration system so I can inject",
    "start": "263860",
    "end": "268919"
  },
  {
    "text": "changes at run time or I need to release a new version of my application neither of which is going to help me be basically a job and it becomes much",
    "start": "268919",
    "end": "275879"
  },
  {
    "text": "worse when you've got a microservices architecture so this is this is a demo application that's on github it's just a",
    "start": "275879",
    "end": "282150"
  },
  {
    "text": "web application but it's broken down into these interviews myriad of different services when you run this you",
    "start": "282150",
    "end": "288060"
  },
  {
    "text": "end up with these 13 different components each each part of the",
    "start": "288060",
    "end": "293250"
  },
  {
    "text": "experience has its own micro Service stateful services have their own data have their own data store everything's",
    "start": "293250",
    "end": "298770"
  },
  {
    "text": "running in containers everything has got that big list of concerns about retries and addresses and encryption they've all",
    "start": "298770",
    "end": "305460"
  },
  {
    "text": "got to deal with that in their own way so what does it look like when you have a service mesh so go back to my simple",
    "start": "305460",
    "end": "312060"
  },
  {
    "text": "example when I've got my service mesh I'm gonna deploy these things in some way on some infrastructure in the demos",
    "start": "312060",
    "end": "317819"
  },
  {
    "text": "I'll be using community so they will run as docker containers and then I've got my service mesh which is a separate",
    "start": "317819",
    "end": "323069"
  },
  {
    "text": "thing so on the same set of infrastructure and same cluster I've got my service measures as a different application that's running now they can",
    "start": "323069",
    "end": "329610"
  },
  {
    "text": "be completely independent of each other it's only when I register my web application with the service mesh and it",
    "start": "329610",
    "end": "335669"
  },
  {
    "text": "becomes part of the mesh that we can start doing these an interesting way what the service mesh does is it injects",
    "start": "335669",
    "end": "342240"
  },
  {
    "text": "a network proxy into my web component so a proxy just like if you're in a corporate environment and you use your",
    "start": "342240",
    "end": "348659"
  },
  {
    "text": "web browser and you go to google.com it looks like you're going directly to Google site but actually you're going for your corporate proxy we just got a",
    "start": "348659",
    "end": "355319"
  },
  {
    "text": "whole bunch of rules about where you are and to visit and it tracks everything you do and it reports it to your boss",
    "start": "355319",
    "end": "361050"
  },
  {
    "text": "and you don't know any about that and the client the browser doesn't know anything about that it's a transparent excuse me Network proxy and it's the",
    "start": "361050",
    "end": "367770"
  },
  {
    "text": "same with a service mesh so the web component is still talking to the database or to the API but all the",
    "start": "367770",
    "end": "373949"
  },
  {
    "text": "traffic is being routed through this proxy which means all the logic that I care about can go into the service mesh",
    "start": "373949",
    "end": "380099"
  },
  {
    "text": "so my web component when it makes a call to the API it just makes it cool to HTTP",
    "start": "380099",
    "end": "385469"
  },
  {
    "text": "slash slash API and then the service mesh says out this connection from the web to the API that actually the real",
    "start": "385469",
    "end": "392009"
  },
  {
    "text": "address should be whatever and for this particular communication the timeout is X the retry policy is why all that logic",
    "start": "392009",
    "end": "398820"
  },
  {
    "text": "is sent in the service mesh and it applies to any type of communication doesn't matter",
    "start": "398820",
    "end": "403860"
  },
  {
    "text": "whether it's whether it's talking to the database or to the API I can apply the same sets of rules with the same sets of",
    "start": "403860",
    "end": "409080"
  },
  {
    "text": "features all in the service mesh okay let's go back here and of course I can",
    "start": "409080",
    "end": "415980"
  },
  {
    "text": "also apply that to external traffic so if I go back one if I'm if I control all",
    "start": "415980",
    "end": "421920"
  },
  {
    "text": "these components then I can register them all with the service mesh and I can have all those capabilities but",
    "start": "421920",
    "end": "427260"
  },
  {
    "text": "everything that's connected with them and also on the server side so from the client side I can say here's my timeout",
    "start": "427260",
    "end": "433080"
  },
  {
    "text": "policy he's my retry policy from the server side the communications coming into the API I've got another set of",
    "start": "433080",
    "end": "438810"
  },
  {
    "text": "features like rate limiting and throttling and again I can apply all those from a central level and for",
    "start": "438810",
    "end": "444180"
  },
  {
    "text": "communication that's coming from the outside I can register the kind of a gateway with my service mesh and that's",
    "start": "444180",
    "end": "450630"
  },
  {
    "text": "owned by the service mesh too so all the traffic that's coming into my application goes through the same sets of rules and policies as the intra",
    "start": "450630",
    "end": "457320"
  },
  {
    "text": "service communication okay so that's the broad picture now SEO is the kind of",
    "start": "457320",
    "end": "464850"
  },
  {
    "text": "leader in this space because it has has the biggest feature set and it's been the most mature it's a it's a fairly new",
    "start": "464850",
    "end": "470400"
  },
  {
    "text": "product so excuse me it's open source its platform agnostic with a fairly big",
    "start": "470400",
    "end": "476610"
  },
  {
    "text": "asterisk because they're only a few platforms that actually works on so much better than others it's new it didn't",
    "start": "476610",
    "end": "483150"
  },
  {
    "text": "emerge until 2017 and it went g8 kind of last year but it got it grew massively popular really really quickly because it",
    "start": "483150",
    "end": "489060"
  },
  {
    "text": "solves all those hard problems in such a nice way other service meshes are",
    "start": "489060",
    "end": "494250"
  },
  {
    "text": "available so console from Hoshi Corp who do terraform and all the other great stuff that's something you can deploy",
    "start": "494250",
    "end": "500370"
  },
  {
    "text": "outside of cumin at ease and you can just run them on virtual machines and then link ID it looks like link code but",
    "start": "500370",
    "end": "506460"
  },
  {
    "text": "it's link ID is something that they're also what it's nicely we're keeping at ease it offers a similar set of features we're currently going to get to the",
    "start": "506460",
    "end": "512820"
  },
  {
    "text": "point where they there's a super set of service mesh speeches that they all they all apply but at the moment is TOS",
    "start": "512820",
    "end": "518370"
  },
  {
    "text": "that's the best set ah these are the there are three areas where SDO kinda",
    "start": "518370",
    "end": "524250"
  },
  {
    "text": "gives you a bunch of features and the first is with traffic management so because all the communication for all",
    "start": "524250",
    "end": "529530"
  },
  {
    "text": "your components is routed through SDO if you can control what happens with the communication so things",
    "start": "529530",
    "end": "535199"
  },
  {
    "text": "like service discovery there's the obvious one so I can be talking to my API I don't need to have any current",
    "start": "535199",
    "end": "541019"
  },
  {
    "text": "configuration system to say in dev the API is on localhost in tests it's on X and in products on Y all that's going to",
    "start": "541019",
    "end": "547920"
  },
  {
    "text": "be logic inside sto but also it can do low balancing so if I've got lots of deployments of an API component I steer",
    "start": "547920",
    "end": "555060"
  },
  {
    "text": "with low balance between them and it can do the failure handling so not just simple things like retries but it can do",
    "start": "555060",
    "end": "560670"
  },
  {
    "text": "more complex things like a circuit breaker so if the cause of the API fails then it will try again and then or back",
    "start": "560670",
    "end": "567180"
  },
  {
    "text": "off rightly so I don't get this cascading failure the second area is security so we're kind of hopefully",
    "start": "567180",
    "end": "574230"
  },
  {
    "text": "getting to the position where people don't trust their internal networks anymore so there used to be this this",
    "start": "574230",
    "end": "579720"
  },
  {
    "text": "pattern called trusted subsystem that meant once the networks in my net once the traffic's in my network is fine",
    "start": "579720",
    "end": "585569"
  },
  {
    "text": "everything can talk to everything and the trouble that is that that's that's not a secure way of doing things so if",
    "start": "585569",
    "end": "591089"
  },
  {
    "text": "co gives you security in depth between these components so it can encrypt all the traffic from the web component of",
    "start": "591089",
    "end": "597870"
  },
  {
    "text": "the API and vice versa it uses mutual TLS so each component has its own SSL",
    "start": "597870",
    "end": "603810"
  },
  {
    "text": "certificate and it doesn't exchange to make sure that you're only allowed to send traffic in if you were an",
    "start": "603810",
    "end": "609110"
  },
  {
    "text": "authorized client I got authorized service client and it can do authentication as well so if I could be",
    "start": "609110",
    "end": "615060"
  },
  {
    "text": "authentication to say I am the web server or it could even be end user authentication to say I am Joe Bloggs",
    "start": "615060",
    "end": "621860"
  },
  {
    "text": "and the last one is about observability again because everything is going through this mesh SDO is watching",
    "start": "621860",
    "end": "628050"
  },
  {
    "text": "everything it can tell you what's going on and it can give you a level of observability but you can't easily get",
    "start": "628050",
    "end": "633389"
  },
  {
    "text": "otherwise from as simple as just visualizing your whole landscape showing you what's talking to what right down to",
    "start": "633389",
    "end": "640290"
  },
  {
    "text": "individual log elements to say the web component made a HTTP call to the API component this was the URL this was the",
    "start": "640290",
    "end": "646769"
  },
  {
    "text": "response curve this is the amount of time it took it can do all that stuff for you okay I said it kind of platform",
    "start": "646769",
    "end": "653550"
  },
  {
    "text": "agnostic actually it works best for Humanity's so it emerged from the from the world communities what Cuba nighties",
    "start": "653550",
    "end": "659550"
  },
  {
    "text": "does as well as being a container Orchestrator it has a huge amount of extensibility so humanity's the API can",
    "start": "659550",
    "end": "666890"
  },
  {
    "text": "all its own resources so things like pods and load balancers and if you don't know what any of that stuff is don't",
    "start": "666890",
    "end": "672650"
  },
  {
    "text": "worry humanities looks after its own stuff but you can register your own custom resources and have communities manage",
    "start": "672650",
    "end": "679130"
  },
  {
    "text": "that for you so if I'm SEO I can deploy the things that I care about and tell Cuba 90s to manage them for me and then",
    "start": "679130",
    "end": "685280"
  },
  {
    "text": "as a user the way I deploy my SEO configuration is by deploying your kubernetes manifest so I'm working with",
    "start": "685280",
    "end": "691820"
  },
  {
    "text": "the same with the same type of technology it uses of third-party open source component called envoi for the",
    "start": "691820",
    "end": "697880"
  },
  {
    "text": "actual proxy that does the network calls that's like a native binary this is optimized to be a super fast proxy so",
    "start": "697880",
    "end": "705170"
  },
  {
    "text": "really we're we're in the world of Linux at the moment so windows support for",
    "start": "705170",
    "end": "710180"
  },
  {
    "text": "cuba Nettie's has been in beta for a little while hopefully it will GA in the",
    "start": "710180",
    "end": "715520"
  },
  {
    "text": "next release of cuba nineties which will be march april time envoi miss tio when they come to Windows will be further",
    "start": "715520",
    "end": "721610"
  },
  {
    "text": "down the line so at the moment this is this is a Linux stack okay and this is",
    "start": "721610",
    "end": "726770"
  },
  {
    "text": "what things look like when you're running them in Cuba Nettie's with this do so imagine I've got service a and",
    "start": "726770",
    "end": "732200"
  },
  {
    "text": "service B now without a service mesh service they talks directly to service B and everything that I want to happen",
    "start": "732200",
    "end": "738680"
  },
  {
    "text": "with my network behavior has to be baked into the logic in service eight I can deploy SEO and SEO lives inside",
    "start": "738680",
    "end": "745820"
  },
  {
    "text": "communities as a bunch of docker containers so there's a bunch of pods that are running these different components of sto that I just sat in my",
    "start": "745820",
    "end": "752360"
  },
  {
    "text": "TV Letty's cluster and until I until I explicitly allow it not doesn't really affect what's happening with my with my",
    "start": "752360",
    "end": "758750"
  },
  {
    "text": "application but I register my services with this do that's when everything goes through the proxy so sto injects this",
    "start": "758750",
    "end": "766070"
  },
  {
    "text": "proxy component into my application component the way it does like in cuban at ease is that service b is a container",
    "start": "766070",
    "end": "772610"
  },
  {
    "text": "living inside a pod and the proxy lives in separate container inside the same pot so the network communication is",
    "start": "772610",
    "end": "779990"
  },
  {
    "text": "completely transparent so ever say just makes a call to service B but it's being routed through the proxy what those",
    "start": "779990",
    "end": "786320"
  },
  {
    "text": "proxies do is they talk to these different components of Sto to apply the policies that you've specified so all",
    "start": "786320",
    "end": "791750"
  },
  {
    "text": "these different things are at this all it's all on the the SDO repo and github pilot is the thing that pushes in",
    "start": "791750",
    "end": "797300"
  },
  {
    "text": "configuration data out to envoi Mik the things that actually applies the rules and then Citadel is the security",
    "start": "797300",
    "end": "802980"
  },
  {
    "text": "component that issue certificates rotates them and does a lot sort of stuff oh go back here this is all fine",
    "start": "802980",
    "end": "811739"
  },
  {
    "text": "but if I'm a developer or an operator the only thing I care about is service a in service P so that's my application",
    "start": "811739",
    "end": "818579"
  },
  {
    "text": "that's the things that I care about and there's an iceberg style huge amount of stuff going on under the covers in order",
    "start": "818579",
    "end": "825029"
  },
  {
    "text": "to get service a talking-to service B through this service mash so that's the first thing to bear in mind this stuff is not free like it's an open source",
    "start": "825029",
    "end": "831660"
  },
  {
    "text": "component you drop it in your application that's all fine but there's an awful lot of technology happening to",
    "start": "831660",
    "end": "836730"
  },
  {
    "text": "make your service communication go through the service mesh so for your um my first micro services app that just",
    "start": "836730",
    "end": "843720"
  },
  {
    "text": "returns hello world in a JSON string so I've got my single line of code if I'm deploying it to Cuba Nettie's through",
    "start": "843720",
    "end": "850199"
  },
  {
    "text": "SEO then there's like six million lines of code in the platform underneath it before I execute my line of code these",
    "start": "850199",
    "end": "857249"
  },
  {
    "text": "things I have different release schedules they have different teams working on them from with different priorities so if you know if you're",
    "start": "857249",
    "end": "862769"
  },
  {
    "text": "going to take this stack into your production you need to think about when there's an update sto do I need to apply",
    "start": "862769",
    "end": "868439"
  },
  {
    "text": "that have I got the right version of Cuba Nettie's to work with the latest version of this do is there is there any",
    "start": "868439",
    "end": "873480"
  },
  {
    "text": "to do a docker upgrade as well do I need to upgrade all these things independently and how do I test it and also just bear that in mind",
    "start": "873480",
    "end": "880069"
  },
  {
    "text": "okay so the demos I'm going to show you use a demo application from the Asteria",
    "start": "880069",
    "end": "885600"
  },
  {
    "text": "product itself so there's that all the source attorneys up on github again it's a it's a really simple product page that",
    "start": "885600",
    "end": "891809"
  },
  {
    "text": "tells you stuff about books it's delivered as microservices so all the requests come in to a to a website that",
    "start": "891809",
    "end": "897299"
  },
  {
    "text": "shows you stuff about a book but the details come from the details microservices and then people can put",
    "start": "897299",
    "end": "902519"
  },
  {
    "text": "reviews in about about the books they're reading and so there are three different implementations of the review service",
    "start": "902519",
    "end": "908730"
  },
  {
    "text": "that each have a different UI and then some of them go to a rating service which stores things in a database for",
    "start": "908730",
    "end": "914490"
  },
  {
    "text": "for for being rated I'm going to focus on when you deploy this for this do so I",
    "start": "914490",
    "end": "920220"
  },
  {
    "text": "can employ this in Cuba Nettie's and it will it will work and I can deploy the exact same application manifest with sto",
    "start": "920220",
    "end": "926639"
  },
  {
    "text": "and sto adds a Envoy proxy into every single component and right at the beginning there is there's a gate",
    "start": "926639",
    "end": "933270"
  },
  {
    "text": "wait component that that Morris is the traffic coming in when I'm deployed with this do now I can control the traffic",
    "start": "933270",
    "end": "939360"
  },
  {
    "text": "between everything else prior to that I have I've got three implementations of my review service",
    "start": "939360",
    "end": "944670"
  },
  {
    "text": "that could all be deployed on the same host name so they're all going to be available with the service called",
    "start": "944670",
    "end": "950400"
  },
  {
    "text": "reviews so when I start standing traffic them it's just gonna randomly cycle between them where it's cumin a tease",
    "start": "950400",
    "end": "955980"
  },
  {
    "text": "will do the load balancing for me when I deploy with this Co then I can control what happens for that area there and that's the bit I'm going to focus on so",
    "start": "955980",
    "end": "962460"
  },
  {
    "text": "all my demos will be between the products and the reviews okay so using",
    "start": "962460",
    "end": "967560"
  },
  {
    "text": "this do this is the first demo I'm going to deploy sto I've got a fresh empty",
    "start": "967560",
    "end": "972780"
  },
  {
    "text": "Cuban at ease instance I'm gonna show you what to point sto actually looks like that's a one-time thing then I'm",
    "start": "972780",
    "end": "978240"
  },
  {
    "text": "going to set it up so that every single application I deploy through Cuba Nettie's automatically registers with",
    "start": "978240",
    "end": "984570"
  },
  {
    "text": "this do so you can do it manually so I can say here's my his my um here's my application manifest there's some stuff",
    "start": "984570",
    "end": "990030"
  },
  {
    "text": "in here to tell sto that I'm registering these components or you can have it happen automatically so every new thing",
    "start": "990030",
    "end": "996510"
  },
  {
    "text": "we just deployed to communities the Cuba Nettie's API talks to sto sto says right I'm gonna register these services so",
    "start": "996510",
    "end": "1002300"
  },
  {
    "text": "they all become part of a mesh automatically and then I'm going to deploy this sample app okay so demo time",
    "start": "1002300",
    "end": "1009110"
  },
  {
    "text": "so I have I'm running Windows I've got docker desktop installed and",
    "start": "1009110",
    "end": "1014900"
  },
  {
    "text": "docker desktop comes with you can switch to Windows or Linux containers I mean Linux container mode because everything",
    "start": "1014900",
    "end": "1021320"
  },
  {
    "text": "is gonna be Linux based and you can spin up a single node cuba Nettie's cluster on your laptop so docker dr. Desktop for",
    "start": "1021320",
    "end": "1028130"
  },
  {
    "text": "Mac and Windows you get the same thing so I have here just check I've got the",
    "start": "1028130",
    "end": "1035209"
  },
  {
    "text": "latest version of docker which is 1809 and if I clear this down and check kubernetes",
    "start": "1035209",
    "end": "1041290"
  },
  {
    "text": "I've got version 113 of communities which is the GA roots so this is a single node cluster running on my laptop",
    "start": "1041290",
    "end": "1047600"
  },
  {
    "text": "now if I want to deploy cubed sto the first thing to do is deploy these custom",
    "start": "1047600",
    "end": "1053450"
  },
  {
    "text": "resource definitions these things that sto understands but kubinashi's will manage for me all this stuff it",
    "start": "1053450",
    "end": "1059480"
  },
  {
    "text": "incidentally is from mostly from the sto Docs I'm not doing anything particularly clever here so the first thing is to deploy these custom resource definitions",
    "start": "1059480",
    "end": "1065870"
  },
  {
    "text": "which tell Cuba Nettie's about sto objects like destination rules which say where",
    "start": "1065870",
    "end": "1071720"
  },
  {
    "text": "traffic's going to go with virtual services which is how SDO manages a shaping traffic around so I'm going to",
    "start": "1071720",
    "end": "1078110"
  },
  {
    "text": "point that first of all so cube cut' apply 0 1 and that's going to create all",
    "start": "1078110",
    "end": "1086660"
  },
  {
    "text": "these all these resources inside my cluster which means that I can manage these sto components through kubernetes",
    "start": "1086660",
    "end": "1093170"
  },
  {
    "text": "and this it doesn't deploy anything yet it just creates the types of the objects and the next thing is to deploy a steer",
    "start": "1093170",
    "end": "1099380"
  },
  {
    "text": "itself so the sto Yama file again this is just a Cuban a Tiziano file I won't go into too much detail because it's",
    "start": "1099380",
    "end": "1105550"
  },
  {
    "text": "15,000 lines so that's one of the reasons well I'm not going to go through this the reason it's so big actually is",
    "start": "1105550",
    "end": "1111170"
  },
  {
    "text": "you can put pretty much anything inside your gamma file and one of the things that's in here that takes up a whole bunch of of the of the room is a",
    "start": "1111170",
    "end": "1118010"
  },
  {
    "text": "dashboard that gets that this tier builds for you all this Jason here is about how to represent a dashboard so",
    "start": "1118010",
    "end": "1123710"
  },
  {
    "text": "it's just baked into one enormous Yama file so let's deploy that so my custom",
    "start": "1123710",
    "end": "1129770"
  },
  {
    "text": "resource definitions are there and now I'm going to create all the things that are actually sto so this is going to be",
    "start": "1129770",
    "end": "1135500"
  },
  {
    "text": "running all these containers through cuba Nettie's which is sto sat on its",
    "start": "1135500",
    "end": "1140630"
  },
  {
    "text": "own and until i start deploying applications sto is not going to do anything much ok",
    "start": "1140630",
    "end": "1148580"
  },
  {
    "text": "so as this is rolling on so i've got now",
    "start": "1148580",
    "end": "1156620"
  },
  {
    "text": "if i show you what's in cuba Nettie's so the SPO components live inside their own",
    "start": "1156620",
    "end": "1162200"
  },
  {
    "text": "namespace so if i look at all the cube humanities objects I don't see anything except the Cuban eighties API but if I",
    "start": "1162200",
    "end": "1167900"
  },
  {
    "text": "go and look at the cubit the sto namespace which is called sto system cuba nephew's lets you separate things",
    "start": "1167900",
    "end": "1174050"
  },
  {
    "text": "into different namespaces so you can just group applications neatly together it's to your provider zone and this is all the stuff that's in sto now so there",
    "start": "1174050",
    "end": "1180830"
  },
  {
    "text": "are a bunch of batch jobs that have finished there's some horizontal pole auto scaling which is nice to have there are replica sets there are deployment",
    "start": "1180830",
    "end": "1187190"
  },
  {
    "text": "services and a bunch of pods and these are all running as docker containers so if I do a docker container LS I'll see a",
    "start": "1187190",
    "end": "1195260"
  },
  {
    "text": "whole bunch of stuff and these are all the sto components that are running inside containers in cuba Nettie's",
    "start": "1195260",
    "end": "1200720"
  },
  {
    "text": "okay so as of yet I haven't deployed anything now if I want to deploy an application now I would have to manually",
    "start": "1200720",
    "end": "1206900"
  },
  {
    "text": "register things with Cuba Nettie's so inside the application manifest I would say this service needs to be registered",
    "start": "1206900",
    "end": "1212840"
  },
  {
    "text": "with with this year but instead of doing that I can configure this auto registration and I'm going to do that",
    "start": "1212840",
    "end": "1218720"
  },
  {
    "text": "just with a weather Cuba Nettie's label so all that does is say the default",
    "start": "1218720",
    "end": "1226159"
  },
  {
    "text": "namespace so if I deploy an application without a specific namespace it goes into the default namespace the default",
    "start": "1226159",
    "end": "1231380"
  },
  {
    "text": "namespace now has a label applied which is SDO injection enabled so Cuba nighties has this fantastic labeling",
    "start": "1231380",
    "end": "1237260"
  },
  {
    "text": "system it's just completely arbitrary key value pairs you can apply labels are pretty much any level and then anything",
    "start": "1237260",
    "end": "1242840"
  },
  {
    "text": "that's running in Cuba no T's can query the Cuban ities API and say tell me the the label value for this particular",
    "start": "1242840",
    "end": "1249200"
  },
  {
    "text": "component so that's what SDO is doing now when I deploy a new application it will get a notification from humanity's",
    "start": "1249200",
    "end": "1254990"
  },
  {
    "text": "API to say a new things being deployed it will check the name space to see if there's auto injection enabled and if",
    "start": "1254990",
    "end": "1260929"
  },
  {
    "text": "there is it'll register those components with this do automatically so now I can",
    "start": "1260929",
    "end": "1266929"
  },
  {
    "text": "deploy my actual application so that's my one-off set up that's that's got SDO up and running this is my application",
    "start": "1266929",
    "end": "1272570"
  },
  {
    "text": "which like I said I'm not going to go through the Cuban NT stuff all there is here is a bunch of services and a bunch",
    "start": "1272570",
    "end": "1278720"
  },
  {
    "text": "of deployments that are going to run the containers so I've got a detailed service which gets me the details about",
    "start": "1278720",
    "end": "1284419"
  },
  {
    "text": "the book and that's just gonna run one instance of this container this docker",
    "start": "1284419",
    "end": "1289520"
  },
  {
    "text": "image here so it's the same for all of these things the difference being the review service there are three",
    "start": "1289520",
    "end": "1294650"
  },
  {
    "text": "implementations so with reviews there's a single service so a single host name called reviews that can be accessed by",
    "start": "1294650",
    "end": "1300830"
  },
  {
    "text": "other components but there are three implementations so there's version one there's version two and this version 3",
    "start": "1300830",
    "end": "1308030"
  },
  {
    "text": "ok so they're all going to be running and without me actually shaping the traffic it would just randomly loeb and",
    "start": "1308030",
    "end": "1313460"
  },
  {
    "text": "that's between them so let's deploy this application so there's nothing inside my Yama file to do with sto at all this is",
    "start": "1313460",
    "end": "1320179"
  },
  {
    "text": "just a pure Cuban eTI's Yama file an application manifest with a whole bunch of micro services there's nothing to do",
    "start": "1320179",
    "end": "1326000"
  },
  {
    "text": "with this do in here but because I've set that Auto injection but all these components will be registered with this dear",
    "start": "1326000",
    "end": "1332890"
  },
  {
    "text": "six did so so the the docker desktop",
    "start": "1334179",
    "end": "1339490"
  },
  {
    "text": "this running Linux containers it runs a virtual machine in the background and you can configure how much memory and",
    "start": "1339490",
    "end": "1344750"
  },
  {
    "text": "stuff it needs the d 4 is two gig are you gonna work with you so that's",
    "start": "1344750",
    "end": "1349909"
  },
  {
    "text": "been the for q3 so let's go and deploy",
    "start": "1349909",
    "end": "1355940"
  },
  {
    "text": "my application and it will create all the cuba Nettie's pods as you can run all the containers in the pods and each",
    "start": "1355940",
    "end": "1361549"
  },
  {
    "text": "pod will have a proxy sitting alongside it so if i now go and look at my containers that are running at the",
    "start": "1361549",
    "end": "1372320"
  },
  {
    "text": "beginning here so i've got a lot of stuff running here and i've got things that are for my application here so somewhere down here i've got where are",
    "start": "1372320",
    "end": "1380000"
  },
  {
    "text": "we I've got my review service so it's my reviews version - the names are all Auto",
    "start": "1380000",
    "end": "1385580"
  },
  {
    "text": "generators so you can't really see them very well that's the container that's running version 2 of my reviews API and",
    "start": "1385580",
    "end": "1390590"
  },
  {
    "text": "then up here I've got a proxy for my reviews API there's proxy for reviews 1 reviews 3 and reviews - so everything is",
    "start": "1390590",
    "end": "1396740"
  },
  {
    "text": "blocked the proxy for routing the network traffic but it's all transparent my actual reviews API doesn't know anything about that okay so this is all",
    "start": "1396740",
    "end": "1403970"
  },
  {
    "text": "running which I can check with the get all which might take a moment or two and",
    "start": "1403970",
    "end": "1417289"
  },
  {
    "text": "of course all the steps I've been running deploying sto deploy my application it's exactly the same if you're running on a cluster with 100",
    "start": "1417289",
    "end": "1423110"
  },
  {
    "text": "nodes you're gonna use the same Yama files the same the same commands to deploy it on a KS or eks or if you're",
    "start": "1423110",
    "end": "1429769"
  },
  {
    "text": "running communities in-house it'll be exactly the same set of stuff so everything is up and running here from my reviews from my application but I",
    "start": "1429769",
    "end": "1436610"
  },
  {
    "text": "can't send any traffic in yet so everything's being managed by sto and by default sta won't let any traffic into",
    "start": "1436610",
    "end": "1442909"
  },
  {
    "text": "my into my application unless I explicitly configure that too and I do that with a gateway and this is the component that's listing for external",
    "start": "1442909",
    "end": "1449330"
  },
  {
    "text": "traffic and it's gonna allow that external traffic to reach my application and again that's just a cuba Nettie's",
    "start": "1449330",
    "end": "1455000"
  },
  {
    "text": "deployment so I've got a gateway here which is a virtual service that's an sto component so that's a custom resource",
    "start": "1455000",
    "end": "1462020"
  },
  {
    "text": "that is tosh.0 is managing but it's managing it through cubing at ease so I'm going deploy this sto configuration by just by",
    "start": "1462020",
    "end": "1469159"
  },
  {
    "text": "doing a cube cut apply same as I deploy my actual application so humanity's managing the sto objects for me inside",
    "start": "1469159",
    "end": "1475520"
  },
  {
    "text": "here I've got some exact URL matches to say any requests that are coming in I should push them to the product page of",
    "start": "1475520",
    "end": "1480919"
  },
  {
    "text": "course I can use wildcards I can have different traffic going different places but this is this is going to give me access into my application so let's",
    "start": "1480919",
    "end": "1488690"
  },
  {
    "text": "deploy a gateway ok and now because I'm",
    "start": "1488690",
    "end": "1495320"
  },
  {
    "text": "running in docker desktop it takes care of low balances and stuff so even though",
    "start": "1495320",
    "end": "1500840"
  },
  {
    "text": "this is sitting inside a whole bunch of stuff that's being managed by communities with the networking looked after by Sto I can just call the local",
    "start": "1500840",
    "end": "1508070"
  },
  {
    "text": "host to get that so if I look at the ingress gateway which is the component that's taking external traffic into the",
    "start": "1508070",
    "end": "1514010"
  },
  {
    "text": "cluster I will see that it's a low balance of type but everything's being run through local hosts so docker",
    "start": "1514010",
    "end": "1519289"
  },
  {
    "text": "desktop Mac or all windows will set that up for me so now I should be on the",
    "start": "1519289",
    "end": "1524929"
  },
  {
    "text": "browse to localhost / product page and",
    "start": "1524929",
    "end": "1532070"
  },
  {
    "text": "see my application yeah ok whew that's the first scary bit over ok so this is",
    "start": "1532070",
    "end": "1537440"
  },
  {
    "text": "working so it's a single web application but all the bits are coming from different services so this coming from details this is coming from reviews and",
    "start": "1537440",
    "end": "1544100"
  },
  {
    "text": "easily coming from the rating service this is showing me a text review plus a rating in black stars if i refresh I see",
    "start": "1544100",
    "end": "1554929"
  },
  {
    "text": "red stars so red stars are issued by the version 3 API black stars are issued by",
    "start": "1554929",
    "end": "1560990"
  },
  {
    "text": "the version 2 API and no stars at all is the version 1 API and I'm just getting as I'm refreshingly I'm just seeing low",
    "start": "1560990",
    "end": "1569090"
  },
  {
    "text": "balancing between all my API elements so everything that's been deployed is all running it's like I'm part way doing an",
    "start": "1569090",
    "end": "1575000"
  },
  {
    "text": "upgrade of my application but the load balancing is going through all the different available versions ok so",
    "start": "1575000",
    "end": "1580520"
  },
  {
    "text": "that's the first thing so now we've got that up and running now I can control it with this do but at the moment I'm not doing anything so I'm just getting that",
    "start": "1580520",
    "end": "1586640"
  },
  {
    "text": "kind of load balancing across all the versions so having deployed this the",
    "start": "1586640",
    "end": "1591770"
  },
  {
    "text": "first thing I can do is start looking at traffic management so use sto to control whether traffic goes between the product",
    "start": "1591770",
    "end": "1597950"
  },
  {
    "text": "page and these other bits and pieces here traffic management because I've registered both sides with Sto I can",
    "start": "1597950",
    "end": "1604759"
  },
  {
    "text": "control the traffic pretty pretty pretty accurately and there are a whole bunch of things that I can do to send the",
    "start": "1604759",
    "end": "1610490"
  },
  {
    "text": "traffic to specific places now these are this is the kind of the stack that it goes through when I'm calling to the",
    "start": "1610490",
    "end": "1616460"
  },
  {
    "text": "review service so that's the hostname that I'm using so ins on my product page code I'm just going to HTTP slash",
    "start": "1616460",
    "end": "1622159"
  },
  {
    "text": "reviews and then that's going to hit a virtual service which is an sto component which has got a whole bunch of",
    "start": "1622159",
    "end": "1627710"
  },
  {
    "text": "destination route set up with a bunch of subsets now I'm not me know too deep into this but what it looks like is this",
    "start": "1627710",
    "end": "1633080"
  },
  {
    "text": "I can set in in a manifest that 50% of traffic headed for the reviews host",
    "start": "1633080",
    "end": "1639590"
  },
  {
    "text": "should actually go to the version 2 subset so version 2 subset is just saying find the the API deployment the",
    "start": "1639590",
    "end": "1646909"
  },
  {
    "text": "store a label of v2 and send all the traffic in there and like I said the other 50% of V 1 or V 3 so I can send",
    "start": "1646909",
    "end": "1652999"
  },
  {
    "text": "all traffic to one particular subset or I can mix and match and send it around to different places so like I said",
    "start": "1652999",
    "end": "1658759"
  },
  {
    "text": "there's that there's a whole is a whole bunch of stuff going on in here but ultimately it's enabling me to configure how the traffic gets from A to",
    "start": "1658759",
    "end": "1665690"
  },
  {
    "text": "B and which version of B it's gonna go to so there are a bunch of things I can",
    "start": "1665690",
    "end": "1670789"
  },
  {
    "text": "do with traffic management so the first one is what's happening in production what's happening in real-time so I can",
    "start": "1670789",
    "end": "1676369"
  },
  {
    "text": "set things up so I've got health checks running by sto so not just a health check inside the container that's",
    "start": "1676369",
    "end": "1682309"
  },
  {
    "text": "telling me the applications healthy this is running from sto that's checking that I can reach the the network endpoints so",
    "start": "1682309",
    "end": "1688669"
  },
  {
    "text": "the application might be unhealthy or the container might be unhealthy all the the service the node might be unhealthy",
    "start": "1688669",
    "end": "1694309"
  },
  {
    "text": "and history will be a check all that stuff I can do the load balancing I can do that in much more fine-grain control",
    "start": "1694309",
    "end": "1700309"
  },
  {
    "text": "over load balancing than just doing a round-robin it's there unless you have different patterns of load balancing and",
    "start": "1700309",
    "end": "1705619"
  },
  {
    "text": "setting up different pools so I could have a pool of components that are in one datacenter and a pool there in",
    "start": "1705619",
    "end": "1710960"
  },
  {
    "text": "another and I could send 90% of traffic here in 10% there it does the retries I can configure the timeouts",
    "start": "1710960",
    "end": "1716749"
  },
  {
    "text": "I can configure the the more advanced retry logic and all that sort of stuff the second thing is quality control so",
    "start": "1716749",
    "end": "1723440"
  },
  {
    "text": "in production and I can set up routing rules to say certain users should get a",
    "start": "1723440",
    "end": "1728629"
  },
  {
    "text": "different response from everybody else so I can say everyone who's using the site gets the one API except for a specific user who's",
    "start": "1728629",
    "end": "1736100"
  },
  {
    "text": "a tester who's going to get version two so I can do a live deployment but send no traffic there except for certain",
    "start": "1736100",
    "end": "1742399"
  },
  {
    "text": "users or certain groups of users or however I do it and once I've got my personalized routing not only can that",
    "start": "1742399",
    "end": "1748129"
  },
  {
    "text": "user only see certain things I can do fault injection deliberate fault injection at the network level from SPO",
    "start": "1748129",
    "end": "1754129"
  },
  {
    "text": "for that specific user so I can test real-life failure conditions and make sure the app responds brace for me and",
    "start": "1754129",
    "end": "1762049"
  },
  {
    "text": "the housing is deployment because I can manage where the traffic's going I can do a/b testing so if I've got two ideas",
    "start": "1762049",
    "end": "1767899"
  },
  {
    "text": "of how a feature should be implemented I can deploy both I can collect the telemetry from both and I can decide",
    "start": "1767899",
    "end": "1773029"
  },
  {
    "text": "which one is the way to go forward with and I can do staged rollouts and canary deployments or however you want to find",
    "start": "1773029",
    "end": "1779299"
  },
  {
    "text": "them so I release my new version of my app and I send 10% of traffic to the new version and the rest to the old version",
    "start": "1779299",
    "end": "1785240"
  },
  {
    "text": "I can leave it running in production for as long as I want and once I'm confident that the new version is working",
    "start": "1785240",
    "end": "1790519"
  },
  {
    "text": "correctly I can just up the ratio until eventually everything is going to the new version so there are there are three",
    "start": "1790519",
    "end": "1795860"
  },
  {
    "text": "real main areas where this traffic management stuff becomes really useful and it's difficult to do this all these",
    "start": "1795860",
    "end": "1801740"
  },
  {
    "text": "features without a service mesh like there are different ways of achieving different parts of this but you're gonna",
    "start": "1801740",
    "end": "1806779"
  },
  {
    "text": "end up bolting together lots of systems where as the service master I should do it in within a single neat way okay so",
    "start": "1806779",
    "end": "1813649"
  },
  {
    "text": "my Democrat the moment my application is just round-robin right round robin it's",
    "start": "1813649",
    "end": "1818749"
  },
  {
    "text": "definitely not a word through all the versions of my API so what I want to do first of all is just send everything to one specific version and the way I do",
    "start": "1818749",
    "end": "1825409"
  },
  {
    "text": "that is by setting up my routing rules so inside here I've got some more as all",
    "start": "1825409",
    "end": "1830869"
  },
  {
    "text": "humanities manifests I've got a destination rule that I'm creating here and this is saying for the host name",
    "start": "1830869",
    "end": "1836149"
  },
  {
    "text": "called reviews which is just my review service host name there are three different subsets of places that the",
    "start": "1836149",
    "end": "1843320"
  },
  {
    "text": "destination traffic could go to and these are all dos done with cuban IDs labels so when i deploy my application i",
    "start": "1843320",
    "end": "1849470"
  },
  {
    "text": "have labels saying this has been 1 this is V 2 this is V 3 and this is just telling it Co how to direct traffic to",
    "start": "1849470",
    "end": "1855409"
  },
  {
    "text": "those different subsets a subset is just a is just an endpoint or a set of endpoints and you tell this to your how",
    "start": "1855409",
    "end": "1861230"
  },
  {
    "text": "to configure them this is again this is all arbitrary I could use any combination of things that I like doesn't have to be versions it could be",
    "start": "1861230",
    "end": "1867200"
  },
  {
    "text": "data center location or it could be anything that you went to put in there so first I need to deploy that so let's",
    "start": "1867200",
    "end": "1875660"
  },
  {
    "text": "go to demo - I'm going to cube everything I'm doing is just with cube cut' applies so you only have to learn",
    "start": "1875660",
    "end": "1882050"
  },
  {
    "text": "one command so there's my destination rules that's just creating the ability to send traffic to different places and",
    "start": "1882050",
    "end": "1889250"
  },
  {
    "text": "the next thing we do is actually put an implementation in there so what i'm doing here is my my virtual service from",
    "start": "1889250",
    "end": "1895820"
  },
  {
    "text": "the reviews host send everything to subset b 1 so it's HTTP traffic so sto",
    "start": "1895820",
    "end": "1902000"
  },
  {
    "text": "understands about different types of traffic HTTP go remote procedure calls an tcp if it's HTTP I can do interesting",
    "start": "1902000",
    "end": "1910130"
  },
  {
    "text": "things with inspecting the traffic or comes back in a moment I'm saying all HTTP routes to this destination go to",
    "start": "1910130",
    "end": "1915920"
  },
  {
    "text": "subset v1 so when I do that when I start",
    "start": "1915920",
    "end": "1923480"
  },
  {
    "text": "browsing again every single response I'm hitting f5 every single response is",
    "start": "1923480",
    "end": "1928670"
  },
  {
    "text": "coming from the version 1 API so that's the version without any star ratings so all the traffic's being directed to that",
    "start": "1928670",
    "end": "1934370"
  },
  {
    "text": "one subset which is ultimately going to a pod with the docker container in there which is version 1 of my API so that's",
    "start": "1934370",
    "end": "1940580"
  },
  {
    "text": "pretty simple how I'm managing this stuff so I did a bunch of stuff to get here but now the sorts of things I'm",
    "start": "1940580",
    "end": "1946220"
  },
  {
    "text": "applying are pretty straightforward sets of rules so the next thing I can do is I",
    "start": "1946220",
    "end": "1951650"
  },
  {
    "text": "can say if I'm a tester I want to give myself a customized response so that I",
    "start": "1951650",
    "end": "1956900"
  },
  {
    "text": "can see what's happening for a new release and test that it's all ok so what I'm doing here I've got another",
    "start": "1956900",
    "end": "1964460"
  },
  {
    "text": "configuration for my virtual service it's for the review service when I apply this it will replace the existing one so",
    "start": "1964460",
    "end": "1970670"
  },
  {
    "text": "currently everything's going to be one where I'm doing my new deployment is I'm saying the default route for HTTP",
    "start": "1970670",
    "end": "1976820"
  },
  {
    "text": "traffic it's a subset v1 but I've got a match rule in there as well and the match rule is saying look at the header",
    "start": "1976820",
    "end": "1983750"
  },
  {
    "text": "the HTTP header on the incoming request if there's a header called end user with a value called Jason then this is a",
    "start": "1983750",
    "end": "1990440"
  },
  {
    "text": "match and this will apply instead and this rule is to send or request from Jason to subset v2 so this is my I've",
    "start": "1990440",
    "end": "1997820"
  },
  {
    "text": "done a live deployment of v1 and v2 no traffic is going to be too yet but I'm going to configure this so that one",
    "start": "1997820",
    "end": "2004090"
  },
  {
    "text": "specific user gets my v2 response so let's do that",
    "start": "2004090",
    "end": "2011278"
  },
  {
    "text": "okay so there's no downtime here like the application is all still up I'm not having to change the corn for my",
    "start": "2012179",
    "end": "2018429"
  },
  {
    "text": "application so I'm not doing a new deployment on my application I'm just changing what sto is doing with the rules and it all just applies at runtime",
    "start": "2018429",
    "end": "2024700"
  },
  {
    "text": "so as an anonymous user I always get the version 1 if I sign in as Jason then I",
    "start": "2024700",
    "end": "2034240"
  },
  {
    "text": "get version 2 and I will always get version 2 as I'm signed in as Jason because that's how I've set up my traffic managing rules if I sign new",
    "start": "2034240",
    "end": "2041379"
  },
  {
    "text": "there's a different user sign and sign back in again I will always get v1",
    "start": "2041379",
    "end": "2048128"
  },
  {
    "text": "because that's the default okay so I can do this personalized routing which is actually a really nice way of just",
    "start": "2048129",
    "end": "2054010"
  },
  {
    "text": "testing an applications that the new version is ok but it's already in live so I can see it functioning you live I",
    "start": "2054010",
    "end": "2060190"
  },
  {
    "text": "can see all the monitoring in telemetry that I've got for the rest of my system the other thing I can do once I've got",
    "start": "2060190",
    "end": "2066040"
  },
  {
    "text": "that is I can do this fault injection so what I'm doing here this is the same",
    "start": "2066040",
    "end": "2071260"
  },
  {
    "text": "virtual service for my reviews the default route is still the same I'm sending everything to v1 but I've got my",
    "start": "2071260",
    "end": "2077440"
  },
  {
    "text": "match rule in here so if the end user is Jason then I'm going to inject a fault so I'm still sending everything to v2",
    "start": "2077440",
    "end": "2083950"
  },
  {
    "text": "but I'm gonna inject a fault so for every single request that comes in let me increase that I'm gonna put in a",
    "start": "2083950",
    "end": "2089740"
  },
  {
    "text": "delay of 5 seconds so every single request that comes from from another",
    "start": "2089740",
    "end": "2095138"
  },
  {
    "text": "component that iste ió manages into the review service will have a 5 second delay applied which is how I'm gonna let",
    "start": "2095139",
    "end": "2100569"
  },
  {
    "text": "Jason test that the application still works correctly so when I deploy this which is number 4",
    "start": "2100569",
    "end": "2108089"
  },
  {
    "text": "so my my ami user still seems the same response and there's no there's no delay everything's just working normally if I",
    "start": "2110590",
    "end": "2117010"
  },
  {
    "text": "sign out then the anonymous user still sees version 1 signing is Jason now and",
    "start": "2117010",
    "end": "2123480"
  },
  {
    "text": "there's a there's a delay here which is sto kicking in it's it's an actual network delay it's not simulated it's",
    "start": "2123480",
    "end": "2131050"
  },
  {
    "text": "stopping the network traffic for as long as I've said to I do this for a hundred percent and requests but I could do it for a portion of request and I do get a",
    "start": "2131050",
    "end": "2137560"
  },
  {
    "text": "response so my application is handling the fact that it's it's timed out it's waiting",
    "start": "2137560",
    "end": "2142900"
  },
  {
    "text": "just for a couple of seconds and then it's going to say that it's unavailable if I go back and change this to a smaller delay then I can verify that",
    "start": "2142900",
    "end": "2150100"
  },
  {
    "text": "it's working correctly if there's only a small delay and again if i refresh this",
    "start": "2150100",
    "end": "2155620"
  },
  {
    "text": "it'll take a it took a second or so in between refreshes but my application can handle that much of a delay so I can do",
    "start": "2155620",
    "end": "2162070"
  },
  {
    "text": "pretty fine grain low-level testing in live with all the live environment and just make sure that everything is",
    "start": "2162070",
    "end": "2168010"
  },
  {
    "text": "working as long as I want to and because all this stuff is done through application manifests I can automate it",
    "start": "2168010",
    "end": "2173500"
  },
  {
    "text": "all too so I can have an automated deployment which is it could do as part of a nightly test or an integration test",
    "start": "2173500",
    "end": "2179080"
  },
  {
    "text": "it applies all these different rules signed in is different automatically signs in as different users and make",
    "start": "2179080",
    "end": "2184240"
  },
  {
    "text": "sure that the apps behaving as I expect so I can do some pretty complicated integration level testing and automate",
    "start": "2184240",
    "end": "2191380"
  },
  {
    "text": "it all and be confident that changes are working as expected so I won't go through and do all this but you can also",
    "start": "2191380",
    "end": "2196900"
  },
  {
    "text": "do things like a port the HTTP call and return a 500 status and I can do that",
    "start": "2196900",
    "end": "2203200"
  },
  {
    "text": "for a certain percentage of calls so sometimes it will fail sometimes it won't I can see what's happening when I do that and then finally when I'm ready",
    "start": "2203200",
    "end": "2209530"
  },
  {
    "text": "to start to do my deployment I'm gonna skip to straight to version 3 here I can",
    "start": "2209530",
    "end": "2215800"
  },
  {
    "text": "say here's my virtual service it's for the reviews component there are two routes but there's no matching rules so",
    "start": "2215800",
    "end": "2222280"
  },
  {
    "text": "it doesn't this isn't specific to us to one particular user so 20 percent of traffic was going to go to my new",
    "start": "2222280",
    "end": "2227350"
  },
  {
    "text": "version 3 and the rest of the 80% of traffic is going to go into version 1 so this applies to all users but I could",
    "start": "2227350",
    "end": "2233380"
  },
  {
    "text": "have this sort of complex routing inside a match calls to only match for certain certain incoming requests so the",
    "start": "2233380",
    "end": "2240250"
  },
  {
    "text": "incoming requests that I've used has been the end user header you can use anything any HTTP header that that sto can get to",
    "start": "2240250",
    "end": "2247029"
  },
  {
    "text": "so wanted to pull this which is six so",
    "start": "2247029",
    "end": "2254920"
  },
  {
    "text": "now any user is going to get a this is like a canary deployment where only some",
    "start": "2254920",
    "end": "2260619"
  },
  {
    "text": "traffic is going to the new version so most of the traffic is going to go to version one so I won't see any stars but",
    "start": "2260619",
    "end": "2265690"
  },
  {
    "text": "sometimes I will get a version three response which is my red stars so I'm signing this jason now my test user if I",
    "start": "2265690",
    "end": "2271599"
  },
  {
    "text": "sign out I'll get the same behavior so this is applying across everyone so I'm not doing any kind of filtering across",
    "start": "2271599",
    "end": "2276640"
  },
  {
    "text": "there and then when I'm finally ready to do my full deployment all I do is I just change that and remove remove all they",
    "start": "2276640",
    "end": "2283900"
  },
  {
    "text": "the waiting's so now for my virtual reviews my reviews virtual service everything's going to subset b3 and the",
    "start": "2283900",
    "end": "2290980"
  },
  {
    "text": "way I'm doing these deployments again it's just easy just cube cotton which commands they're just yeah more files and I can automate all this stuff so now",
    "start": "2290980",
    "end": "2298809"
  },
  {
    "text": "every single user will get my version 3 ok so back to the slides",
    "start": "2298809",
    "end": "2305829"
  },
  {
    "text": "how are you ok so the traffic management side I've only done it within within",
    "start": "2305829",
    "end": "2312309"
  },
  {
    "text": "this component but of course everything is registered with this do so I've got that level of control across traffic everywhere",
    "start": "2312309",
    "end": "2317499"
  },
  {
    "text": "and I haven't shown you the server side rules but you can do the server-side stuff as well to do rate limiting and throttling and all that sort of stuff",
    "start": "2317499",
    "end": "2323799"
  },
  {
    "text": "so I could put that right in the beginning with my with my ingress gateway and say you know I know I'm not gonna accept more than 10 requests per",
    "start": "2323799",
    "end": "2330400"
  },
  {
    "text": "second from this particular IP address or I can do whitelist and say only this IP address which is my corporate IP",
    "start": "2330400",
    "end": "2336519"
  },
  {
    "text": "address as your any access at all and then so nothing else can get in within there once I'm inside here then the",
    "start": "2336519",
    "end": "2343690"
  },
  {
    "text": "other big component of sto is about the security security of the traffic between these internal components and again with",
    "start": "2343690",
    "end": "2350019"
  },
  {
    "text": "security there's a whole bunch of things you can do whatever actually this is this is already running in my",
    "start": "2350019",
    "end": "2355539"
  },
  {
    "text": "application I'll show you light in just a second but I've already got missed stuff because this is I've set this up to be the default",
    "start": "2355539",
    "end": "2360579"
  },
  {
    "text": "so what sto does again because it owns both sides of the conversation it's encrypting this with mutual TLS so it's",
    "start": "2360579",
    "end": "2368380"
  },
  {
    "text": "using transport layer security the successor to SSL each of these components has a certificate and",
    "start": "2368380",
    "end": "2375050"
  },
  {
    "text": "the certificate has a secure name meaning that you can reliably identify who is sending the traffic from the name",
    "start": "2375050",
    "end": "2382700"
  },
  {
    "text": "that's in the certificate that secure naming comes from wherever sto happens",
    "start": "2382700",
    "end": "2387770"
  },
  {
    "text": "to be running so if you're running in Cuba Nettie's it'll come as a service account if you're running somewhere else that will come from however however",
    "start": "2387770",
    "end": "2393410"
  },
  {
    "text": "you're identifying the nodes where this stuff is running because I can securely name and know where information is",
    "start": "2393410",
    "end": "2399290"
  },
  {
    "text": "coming from I can do authentication and authorization so the review service can be certain that a request came from the",
    "start": "2399290",
    "end": "2405320"
  },
  {
    "text": "product page because only the product page has that certificate has that clients is if you and I can also do",
    "start": "2405320",
    "end": "2411110"
  },
  {
    "text": "author authorization and say only the product page can can make calls to the review service so if someone if the",
    "start": "2411110",
    "end": "2416690"
  },
  {
    "text": "details page tries to call into reviews then that will fail because that's that's not allowed it's all based on the",
    "start": "2416690",
    "end": "2423050"
  },
  {
    "text": "mutual TLS certificates that client and server have and sto manages all that for me so it creates a route a certification",
    "start": "2423050",
    "end": "2430280"
  },
  {
    "text": "Authority and it makes its own certificates and it stores them so when any new component registers with Cuba",
    "start": "2430280",
    "end": "2436250"
  },
  {
    "text": "net with Sto it will generate the certificates and it stores them again in whatever whatever store is appropriate",
    "start": "2436250",
    "end": "2442610"
  },
  {
    "text": "for where it's running in Cuba nineties it stores them as to Valente secrets so they live inside the cluster and they",
    "start": "2442610",
    "end": "2447650"
  },
  {
    "text": "get delivered to the Container when it needs them and the container is the proxy container and they have a fairly",
    "start": "2447650",
    "end": "2453530"
  },
  {
    "text": "short life span so at the moment it creates a start with a three month lifespan and it rotates it automatically",
    "start": "2453530",
    "end": "2459050"
  },
  {
    "text": "for you so we're getting security in depth here so if someone manages to get access into your cluster they can't send",
    "start": "2459050",
    "end": "2465230"
  },
  {
    "text": "these requests without having your client certificate which they have to have got from from within Sto if they do manage to get a certificate",
    "start": "2465230",
    "end": "2471410"
  },
  {
    "text": "it's only gonna be violent for a couple of months before we just rotated for you so you're getting a lot of security without doing very much which I'll show",
    "start": "2471410",
    "end": "2478220"
  },
  {
    "text": "you because I didn't do anything at all to make this happen so this mutual TLS",
    "start": "2478220",
    "end": "2486080"
  },
  {
    "text": "I've already set that up to be a default policy inside inside sto so this is a",
    "start": "2486080",
    "end": "2491090"
  },
  {
    "text": "against the Cuban at these objects called a mesh policy so it applies across the entire mesh and it's a",
    "start": "2491090",
    "end": "2496100"
  },
  {
    "text": "default saying it's a bit cryptic but it's saying the specification is between peers there will be mutual TLS and",
    "start": "2496100",
    "end": "2502520"
  },
  {
    "text": "there's nothing else in there which means sta will manage it all I can put other things in here so if I've got my",
    "start": "2502520",
    "end": "2507620"
  },
  {
    "text": "own routes forget authoritative over my own certs and keys I can put that stuff in here too",
    "start": "2507620",
    "end": "2512670"
  },
  {
    "text": "but this is the default and I've deployed my sto configuration so when I did my very first demo and I deployed",
    "start": "2512670",
    "end": "2519300"
  },
  {
    "text": "this do I've set that up to be the default so I can see that with if I describe my mesh policy I can see again",
    "start": "2519300",
    "end": "2528660"
  },
  {
    "text": "it's not unless you know what that means it doesn't really tell you very much but it's saying all peer communication will",
    "start": "2528660",
    "end": "2534150"
  },
  {
    "text": "be secured with mutual TLS and that's all I need to do anything gets registered with this do any any traffic that happens through this do is going to",
    "start": "2534150",
    "end": "2540540"
  },
  {
    "text": "be encrypted so what that actually means is with the mutual TLS is that if somebody gains access to run binaries",
    "start": "2540540",
    "end": "2548760"
  },
  {
    "text": "from my application so they managed to break out from my web app and they can run binaries on the server the server is",
    "start": "2548760",
    "end": "2554310"
  },
  {
    "text": "actually a container inside a pod and the network communication is going through sto so there's a limit to what",
    "start": "2554310",
    "end": "2559619"
  },
  {
    "text": "they can do so if I were to if I'm going to find this container so this is the",
    "start": "2559619",
    "end": "2571680"
  },
  {
    "text": "proxy container from my product page so again this is the sto manage container but it's just the docker container the",
    "start": "2571680",
    "end": "2577050"
  },
  {
    "text": "fact that it's running in communities with this do if I can get access to the docker API then I can kind of subvert",
    "start": "2577050",
    "end": "2582150"
  },
  {
    "text": "all that stuff so I'm going to get the ID of that container and run some commands oh no I need to do it this way",
    "start": "2582150",
    "end": "2592880"
  },
  {
    "text": "so it's just got the container ID to make it easier for my subsequent commands so I can do this I can try if I",
    "start": "2597430",
    "end": "2605740"
  },
  {
    "text": "if I manage to find out a little bit about my product page and I can see that it's talking to the reviews page if I'm",
    "start": "2605740",
    "end": "2611079"
  },
  {
    "text": "inside the container then I can try and do a curl and get to the details for it for 8 for any any application because I",
    "start": "2611079",
    "end": "2618520"
  },
  {
    "text": "can see if I can see the code for for the for the application the product page I can see that it's going to this URL",
    "start": "2618520",
    "end": "2623890"
  },
  {
    "text": "for details now if I try and do that from within side of the container I get this 56 error which is telling me that",
    "start": "2623890",
    "end": "2630670"
  },
  {
    "text": "this should be an HTTP call so if I know my curl responses then I know that it's",
    "start": "2630670",
    "end": "2636220"
  },
  {
    "text": "not going to connect because it should be HTTPS so if I go back and change this to HTTPS and thinking that I'm going to",
    "start": "2636220",
    "end": "2642099"
  },
  {
    "text": "get somewhere now I get a 77 which is also really useful it tells me there's no client certificate so like it's not",
    "start": "2642099",
    "end": "2649329"
  },
  {
    "text": "just an HTTP site where I can go and connect I need to have a client certificate that the the destination is",
    "start": "2649329",
    "end": "2655089"
  },
  {
    "text": "allowing me to use so it so if I want to actually do this I need access to the",
    "start": "2655089",
    "end": "2660099"
  },
  {
    "text": "proxy I need to get myself inside the proxy container and then I can run a command like this to say curl the",
    "start": "2660099",
    "end": "2666400"
  },
  {
    "text": "details service and these are the certificates that you need I need access to those so I've got that because I'm a",
    "start": "2666400",
    "end": "2672609"
  },
  {
    "text": "docker admin on this box and I can finally make this call but in order to get there my attack surface is now",
    "start": "2672609",
    "end": "2678040"
  },
  {
    "text": "really minimized because I need to be able to get access to the cluster I need to get access to the container inside",
    "start": "2678040",
    "end": "2683859"
  },
  {
    "text": "the cluster and then I need to get the certificates from somewhere okay and even if I do manage to do that I can't",
    "start": "2683859",
    "end": "2690760"
  },
  {
    "text": "get that information back out from the container so if I try and make an external Network call from an sto manage",
    "start": "2690760",
    "end": "2696880"
  },
  {
    "text": "container it's blocked by default so if I could say if I could curl this and save into a file I couldn't then post",
    "start": "2696880",
    "end": "2702670"
  },
  {
    "text": "that file somewhere else okay so",
    "start": "2702670",
    "end": "2710290"
  },
  {
    "text": "so the security side of things it doesn't awful lot for you for free again because it's managing both sides of the",
    "start": "2710290",
    "end": "2716420"
  },
  {
    "text": "conversation it's using standard libraries for all this stuff it just uses open SSL it uses the techniques",
    "start": "2716420",
    "end": "2722960"
  },
  {
    "text": "that are used on the internet so it's not using any sort of custom homegrown security it's you know it's tried and trusted and TLS stuff there's been it's",
    "start": "2722960",
    "end": "2730280"
  },
  {
    "text": "been used for a very long time and the last thing Munich cover is observability so again everything is under control of",
    "start": "2730280",
    "end": "2736880"
  },
  {
    "text": "this single thing this single control plane of Sto and it's not just being used to to push configuration out and to",
    "start": "2736880",
    "end": "2743810"
  },
  {
    "text": "do the security it's also constantly monitoring everything that's happening between these service calls I mean and",
    "start": "2743810",
    "end": "2749600"
  },
  {
    "text": "the clients that are making them and you can plug into all that stuff and see all sorts of details from what sto is",
    "start": "2749600",
    "end": "2755150"
  },
  {
    "text": "collecting what you actually can see depends upon how you've deployed lists",
    "start": "2755150",
    "end": "2760850"
  },
  {
    "text": "you so I've deployed it with a bunch of dashboards that are already available all I need to do is enable access to",
    "start": "2760850",
    "end": "2766640"
  },
  {
    "text": "them so I can go see the dashboard starting with visualization so I'm going to be able to see all the components in",
    "start": "2766640",
    "end": "2771859"
  },
  {
    "text": "my distributed system I can see the traffic flowing between them and I can see at a high level things like requests",
    "start": "2771859",
    "end": "2777200"
  },
  {
    "text": "per second going in from from one component to another if I want to go down to the next level then sto is also",
    "start": "2777200",
    "end": "2783560"
  },
  {
    "text": "collecting tracing calls now I need to give it some help with that but the demo app has already got that code in there",
    "start": "2783560",
    "end": "2788930"
  },
  {
    "text": "just to be able to tie together these calls so that it knows that a particular cause of the review service has come",
    "start": "2788930",
    "end": "2795500"
  },
  {
    "text": "from a particular call to the product page and it can tie all those things together but then I can see a nice little dashboard that will show me like",
    "start": "2795500",
    "end": "2802070"
  },
  {
    "text": "a heat map of how long individual calls are taking and I can drill down and see that you know to respond with the",
    "start": "2802070",
    "end": "2807470"
  },
  {
    "text": "product page took one second and half a second of that was from the review service then I can go down to monitoring",
    "start": "2807470",
    "end": "2813980"
  },
  {
    "text": "so I can show a dashboard about sto itself how hard all the ischium components are working and which memory",
    "start": "2813980",
    "end": "2820520"
  },
  {
    "text": "they're using how much CPU what's actually passing through SEO and if I really want to I can go down to the",
    "start": "2820520",
    "end": "2826160"
  },
  {
    "text": "logging level so I can tell sto I've already got some logging stuff running so I want you to record a log entry for",
    "start": "2826160",
    "end": "2832730"
  },
  {
    "text": "every single bit of network communication and then I can use whatever logging framework I like I could use elastic search and Cabana",
    "start": "2832730",
    "end": "2839630"
  },
  {
    "text": "and I could be able to drill down into the individual logs okay so it shows for that stuff so again",
    "start": "2839630",
    "end": "2846499"
  },
  {
    "text": "the way I deployed sto a lot of these things are already deployed for me so if I go and get all I need to do is make",
    "start": "2846499",
    "end": "2853160"
  },
  {
    "text": "them available so there's a component called service graph which is going to give me that overall visualization it's",
    "start": "2853160",
    "end": "2858440"
  },
  {
    "text": "already running it's on port 80 88 but it's not publicly available because I'm an admin here I can just make that",
    "start": "2858440",
    "end": "2864739"
  },
  {
    "text": "available to me by forwarding the port so that's gonna be fine and now I can",
    "start": "2864739",
    "end": "2870979"
  },
  {
    "text": "browse to my local host and it will send the traffic in there so this is just a",
    "start": "2870979",
    "end": "2879440"
  },
  {
    "text": "it's an open source component that sto can actually bundle in and it's just recording it flips around and moves",
    "start": "2879440",
    "end": "2884900"
  },
  {
    "text": "around which is really good fun except when you're trying to actually get some information from it this is all the bits",
    "start": "2884900",
    "end": "2890210"
  },
  {
    "text": "of my application and where the traffic could potentially go so this is showing me that my product page could go to it's",
    "start": "2890210",
    "end": "2896390"
  },
  {
    "text": "sort of connection to client for reviews B 3 B 1 and B 2 so again this is all coming from being able to introspect",
    "start": "2896390",
    "end": "2902720"
  },
  {
    "text": "what's happening inside sto what's happening inside kubernetes if I click on this then I will get the kind of",
    "start": "2902720",
    "end": "2909200"
  },
  {
    "text": "high-level information about where the traffic is actually going this is real-time stuff so it's all 0 at the moment if I send in lots of refreshes",
    "start": "2909200",
    "end": "2917140"
  },
  {
    "text": "then I should see these numbers start bouncing around so the ingress gateways the thing that's bringing in traffic",
    "start": "2917140",
    "end": "2922519"
  },
  {
    "text": "from the outside and I can see that I've got requests per second coming in here there's nothing going into version 1 and version 2 because I configured all",
    "start": "2922519",
    "end": "2929029"
  },
  {
    "text": "traffic to be version 3 it's a nice way of verifying what's going where at any particular time and only getting that",
    "start": "2929029",
    "end": "2934999"
  },
  {
    "text": "high level view though so the next level is to do the tracing and see what where the traffic's going in between",
    "start": "2934999",
    "end": "2940099"
  },
  {
    "text": "components and where the time is being spent and again this is already running so it co uses a component called Jaeger",
    "start": "2940099",
    "end": "2946969"
  },
  {
    "text": "which is a dashboard that shows you traces in between components that's already running so I just need to make",
    "start": "2946969",
    "end": "2952579"
  },
  {
    "text": "it available because if this was production I put all these things behind some sort of proxy components so I would",
    "start": "2952579",
    "end": "2958249"
  },
  {
    "text": "have authentication and I'd be able to view it from wherever but I am right here so I can just browse to this port",
    "start": "2958249",
    "end": "2965558"
  },
  {
    "text": "that's not gonna work is it localhost is",
    "start": "2969330",
    "end": "2978340"
  },
  {
    "text": "that right yeah that's okay so this is",
    "start": "2978340",
    "end": "2984790"
  },
  {
    "text": "yeah yeah again open source thing is part of the cloud native foundation it's a way of visualizing traces between",
    "start": "2984790",
    "end": "2990730"
  },
  {
    "text": "components that's pretty much all it does it already knows about these things because it's tier has been collecting",
    "start": "2990730",
    "end": "2996010"
  },
  {
    "text": "all the traces it's just all I've done is enable access to the UI so I can go and look at these results and it's gonna",
    "start": "2996010",
    "end": "3001500"
  },
  {
    "text": "show me that some of these scores have got errors these each of these is an individual call coming from your outside into my product page if I click on one",
    "start": "3001500",
    "end": "3008310"
  },
  {
    "text": "of these I get the drill down telling me where the traffic is going from the great the Gateway onwards so the ingress",
    "start": "3008310",
    "end": "3014580"
  },
  {
    "text": "gateway sends traffic to the product page which makes supporting the detailed service and then makes a call to the review service which then cause the",
    "start": "3014580",
    "end": "3020580"
  },
  {
    "text": "rating service and I can just see all that without having to do kind of anything much at all and I can drill down here and I can look at the tags and",
    "start": "3020580",
    "end": "3028200"
  },
  {
    "text": "I can see the URL that was requested the response code the response size all sorts of interesting stuff here so I'm",
    "start": "3028200",
    "end": "3034260"
  },
  {
    "text": "getting a pretty good level of detail about what's happening and if I've got some other tags in here which I can put",
    "start": "3034260",
    "end": "3039690"
  },
  {
    "text": "my own stuff in so I've got a request ID in here which is just randomly generated at the top entry level and it's passed",
    "start": "3039690",
    "end": "3046170"
  },
  {
    "text": "on through all the other components I could have if I've got a if there's a problem I could throw that up on the",
    "start": "3046170",
    "end": "3052500"
  },
  {
    "text": "error page and then when you use a phone's up and says I've got error a 7eb whatever they say then I can tie that",
    "start": "3052500",
    "end": "3059339"
  },
  {
    "text": "into this specific trace and like I see it maybe the review service bombed out after five seconds or whatever okay so",
    "start": "3059339",
    "end": "3065250"
  },
  {
    "text": "that's my next level which is tracing again don't have to do anything much for that I do need to tell sto how to piece",
    "start": "3065250",
    "end": "3071460"
  },
  {
    "text": "together the stack so all it knows is that a review service call was made and a product page call was made it doesn't",
    "start": "3071460",
    "end": "3078480"
  },
  {
    "text": "know they're part of the same transaction so to make that happen I need to flow through an ID which I've",
    "start": "3078480",
    "end": "3083580"
  },
  {
    "text": "got in here so this is the sample code again all on github I'm specifying a request ID in each of my components so",
    "start": "3083580",
    "end": "3091290"
  },
  {
    "text": "at the entry point in my product page I generate a request ID and I attach it as an HTTP header and then orden all the",
    "start": "3091290",
    "end": "3097770"
  },
  {
    "text": "other components they just relay that so there's an incoming request ID they that to their own payload and then sto",
    "start": "3097770",
    "end": "3104099"
  },
  {
    "text": "pieces all those things together all these other weird things that xb3 they're all things that you can add to sto to increase the amount of visibility",
    "start": "3104099",
    "end": "3111240"
  },
  {
    "text": "you get from those calls just tying the things together okay and again that's optional you don't have to do that but",
    "start": "3111240",
    "end": "3117240"
  },
  {
    "text": "if you just add those headers then you get all this rich level of telemetry that can tie your service calls together",
    "start": "3117240",
    "end": "3123650"
  },
  {
    "text": "okay and then the last thing if I show you the the actual runtime performance",
    "start": "3123650",
    "end": "3132420"
  },
  {
    "text": "of what's happening inside my system so this is Agri fauna so sto is running SEO",
    "start": "3132420",
    "end": "3139319"
  },
  {
    "text": "is rowing Prometheus which is a metric server so it's pushing all this stuff into Prometheus and then it also runs",
    "start": "3139319",
    "end": "3144690"
  },
  {
    "text": "gravano which is a which is a dashboard that shows you what those metrics look like with a whole bunch of pre-configured dashboards that I can",
    "start": "3144690",
    "end": "3151200"
  },
  {
    "text": "just drill down into so if I go and look at my sto I can look at the service",
    "start": "3151200",
    "end": "3156539"
  },
  {
    "text": "dashboard and that's telling me for each of the services what's happening number",
    "start": "3156539",
    "end": "3161579"
  },
  {
    "text": "of requests per second and all that sort of stuff I can see my sto I'm gonna mesh dashboard here which tells me everything",
    "start": "3161579",
    "end": "3169079"
  },
  {
    "text": "that's registered with this year so I've got my my review service and my product service and all that sort of stuff in here telling me where the traffic's",
    "start": "3169079",
    "end": "3175200"
  },
  {
    "text": "going between them and I can drill right down and look at things like it's do workload which is telling me traffic",
    "start": "3175200",
    "end": "3181769"
  },
  {
    "text": "that's coming in how hard is do is working and the fact that these things are secured with mutual TLS so I can see",
    "start": "3181769",
    "end": "3187170"
  },
  {
    "text": "you are a very high level and then drill right down and I can even if I want to I can go and see how hard the different",
    "start": "3187170",
    "end": "3192269"
  },
  {
    "text": "components of this do are working so if I want to go and look at a see where it's pilot pilot here this tells me how",
    "start": "3192269",
    "end": "3199230"
  },
  {
    "text": "hard pilot is the component that pushes configuration out to the individual proxies this is telling me how hard",
    "start": "3199230",
    "end": "3204630"
  },
  {
    "text": "they're working how much memory they use how much network all that sort of stuff so I get a pretty good idea if I need to",
    "start": "3204630",
    "end": "3210450"
  },
  {
    "text": "if I if I think there's a performance problem I think it might be isseo that's caused it I can drill down into all this stuff and I probably find that it wasn't",
    "start": "3210450",
    "end": "3217019"
  },
  {
    "text": "yesterday okay another thing to do is logging I'm not gonna interview that demo but I could if I'm running",
    "start": "3217019",
    "end": "3222319"
  },
  {
    "text": "elasticsearch I just set up a component and deploy a rule something like this so",
    "start": "3222319",
    "end": "3230009"
  },
  {
    "text": "I can tell I can create a Cuban eTI's object which is a log entry and that will tell its",
    "start": "3230009",
    "end": "3235589"
  },
  {
    "text": "every single request that comes through to log an info request with all this detail and to push it on to fluent D",
    "start": "3235589",
    "end": "3242160"
  },
  {
    "text": "which is a component that can load load data into into elasticsearch so if I had",
    "start": "3242160",
    "end": "3247799"
  },
  {
    "text": "elasticsearch running which I could deploy us as the kubernetes deployment then I can tell this do to record a log",
    "start": "3247799",
    "end": "3253709"
  },
  {
    "text": "entry for every single piece of traffic that flows through and then I can query that with however I want to so I can get",
    "start": "3253709",
    "end": "3259049"
  },
  {
    "text": "an awful lot of detail without doing very much work and I don't have to write all these I have to write code to say",
    "start": "3259049",
    "end": "3265289"
  },
  {
    "text": "I'm about to call the review service at this timestamp and another line to say I've just called it at this timestamp",
    "start": "3265289",
    "end": "3271289"
  },
  {
    "text": "that's all Network level concerns so I can do that with my network infrastructure okay so so traffic",
    "start": "3271289",
    "end": "3281849"
  },
  {
    "text": "management and security and observability I was focusing on the middle part of this application but because everything is in this - I can do",
    "start": "3281849",
    "end": "3288299"
  },
  {
    "text": "that with all these components so if I wanted to if I had different versions of my product page I could do traffic management the shape between them",
    "start": "3288299",
    "end": "3294539"
  },
  {
    "text": "I can make sure there's security across all these layers if I had a separate database which is running on a virtual",
    "start": "3294539",
    "end": "3300689"
  },
  {
    "text": "machine then I could deploy a proxy component on the virtual machine and I could include that in the mesh so I",
    "start": "3300689",
    "end": "3307259"
  },
  {
    "text": "could use and if I wasn't even using kubernetes and just had a bunch of virtual machines I could install consult",
    "start": "3307259",
    "end": "3312689"
  },
  {
    "text": "which is the an alternative way of deploying your service mesh and put its do on top of console so console is just",
    "start": "3312689",
    "end": "3319019"
  },
  {
    "text": "the agent that lives in all the VMS and it does the proxying for me and I can deploy sto on top of it and I can use",
    "start": "3319019",
    "end": "3325079"
  },
  {
    "text": "this do to manage a whole bunch of VMs instead of a bunch of containers okay so",
    "start": "3325079",
    "end": "3331319"
  },
  {
    "text": "that's all pretty good stuff there is a learning curve depending on how far you are on the on the docker community's",
    "start": "3331319",
    "end": "3338309"
  },
  {
    "text": "curve and there are different ways of doing this so if you need some of those features it doesn't necessarily mean you",
    "start": "3338309",
    "end": "3343979"
  },
  {
    "text": "need a service match because you can do things different ways so all the traffic management stuff actually you can probably get a lot of what you need",
    "start": "3343979",
    "end": "3350459"
  },
  {
    "text": "through DNS through through shaping traffic through DNS or through feature toggles or with some sort of client",
    "start": "3350459",
    "end": "3356459"
  },
  {
    "text": "library that says I'm going to send some traffic here I'm going to give different users different responses the trouble is",
    "start": "3356459",
    "end": "3361650"
  },
  {
    "text": "you're going to be cobbling together lots of different things and you're not going to have a single entry point to",
    "start": "3361650",
    "end": "3367410"
  },
  {
    "text": "control everything you will need this in every client where you want the sort of functionality same",
    "start": "3367410",
    "end": "3373140"
  },
  {
    "text": "goes for security so you might get some of these security the the encryption of traffic you may get that from your",
    "start": "3373140",
    "end": "3378869"
  },
  {
    "text": "platform if you're running in the cloud or you're using a power service that may already be that stuff for you if there",
    "start": "3378869",
    "end": "3384000"
  },
  {
    "text": "isn't then you can do it yourself with some sort of open source component don't ever write your own security code obviously but you can use the same sort",
    "start": "3384000",
    "end": "3390060"
  },
  {
    "text": "of components that is do is using to do that for you it's not easy because you need to think about certificate rotation",
    "start": "3390060",
    "end": "3395250"
  },
  {
    "text": "and storage and all that sort of stuff but you can kind of do it and then observability all those dashboards I",
    "start": "3395250",
    "end": "3400740"
  },
  {
    "text": "showed you they're all open source components you just you can you can put your own to them a tree into your own services but again you have to add that",
    "start": "3400740",
    "end": "3406980"
  },
  {
    "text": "logic to everywhere where you want to expose it whereas because everything's being routed through ISTE oh you can",
    "start": "3406980",
    "end": "3412500"
  },
  {
    "text": "have a central place to manage all that stuff for you so do you need one well",
    "start": "3412500",
    "end": "3417800"
  },
  {
    "text": "there are some there are some good markers of where you're in a problem position where a service measure would",
    "start": "3417800",
    "end": "3423930"
  },
  {
    "text": "probably help you so if you've got millions of services and you don't know if they're being used or how well they're being used and you really could",
    "start": "3423930",
    "end": "3430320"
  },
  {
    "text": "benefit from that that telemetry view that shows you that the span of network traffic then actually if you're already",
    "start": "3430320",
    "end": "3437099"
  },
  {
    "text": "running in an environment where you can apply something like SDO then you're going to get an awful lot of benefit from doing that if you can't do a",
    "start": "3437099",
    "end": "3444960"
  },
  {
    "text": "release if you're not confident about doing regular releases then actually having a service mash in there",
    "start": "3444960",
    "end": "3451050"
  },
  {
    "text": "the lets you do the release during office hours but not send any traffic there and then gradually send traffic in",
    "start": "3451050",
    "end": "3457290"
  },
  {
    "text": "on the live system to specific users who want to test a new feature or make sure that everything is working correctly you",
    "start": "3457290",
    "end": "3462630"
  },
  {
    "text": "can build up that confidence that we can do regular releases and if you can put all those sorts of logic about testing",
    "start": "3462630",
    "end": "3468420"
  },
  {
    "text": "those those end those those use cases for failure into your release pipeline",
    "start": "3468420",
    "end": "3473670"
  },
  {
    "text": "then you can be confident that that unusual conditions are handled correctly too if you've got all those sorts of",
    "start": "3473670",
    "end": "3481500"
  },
  {
    "text": "dashboards like you know the graph on our dashboards and the and the Cabana for your logs and all that sort of stuff",
    "start": "3481500",
    "end": "3487050"
  },
  {
    "text": "and every project see on its own then consolidating them all within an sto set of dashboards it's going to give you an",
    "start": "3487050",
    "end": "3493349"
  },
  {
    "text": "all saving an awful lot of trouble because you can still filter them so project a only sees its own data but",
    "start": "3493349",
    "end": "3499770"
  },
  {
    "text": "you're storing them centrally which means you can then aggregate all sorts of other interesting stuff and if you're thinking of doing this anyway",
    "start": "3499770",
    "end": "3505900"
  },
  {
    "text": "you've got a brand new application and you've decided you're going to write it to be container first so everything's gonna run inside a",
    "start": "3505900",
    "end": "3511930"
  },
  {
    "text": "container and you're gonna be using cuba Nettie's because you were told to and if you're doing that already and you've",
    "start": "3511930",
    "end": "3517930"
  },
  {
    "text": "already made that decision then adding sto onto the end isn't a very big increment you will get all those",
    "start": "3517930",
    "end": "3523750"
  },
  {
    "text": "benefits and you won't have to do an awful lot of extra work if you've already committed to go that far but you",
    "start": "3523750",
    "end": "3530080"
  },
  {
    "text": "need to think about the fact that it's gonna be it's going to be costly in different ways and you need to be aware of that when you take this in it's still",
    "start": "3530080",
    "end": "3536020"
  },
  {
    "text": "a fairly new technology the companies who are using it are the big companies who are doing internet scale stuff you",
    "start": "3536020",
    "end": "3543160"
  },
  {
    "text": "can it's all available for everyone to plug into their systems but you need to think about what it's gonna cost you to get that so first thing there's there's",
    "start": "3543160",
    "end": "3549400"
  },
  {
    "text": "a locking issue not necessarily with the technology so like I said sto has the biggest feature set right now but",
    "start": "3549400",
    "end": "3555790"
  },
  {
    "text": "assuming the service measures have a longer life than a few years they will no be more that appear that can do the",
    "start": "3555790",
    "end": "3561430"
  },
  {
    "text": "same thing but it's more about an architectural locking if I'm depending on having a service mesh then I'm not",
    "start": "3561430",
    "end": "3567820"
  },
  {
    "text": "putting any of that communication logic into my application so all my components are just talking to http slash whatever",
    "start": "3567820",
    "end": "3574330"
  },
  {
    "text": "there's no SSL in there there's no traffic management there's no security there's no observability I'm relying on",
    "start": "3574330",
    "end": "3580540"
  },
  {
    "text": "the mesh to do all that for me and then if I decide actually the service mesh is too complicated or we decided that we'd",
    "start": "3580540",
    "end": "3586870"
  },
  {
    "text": "only use it or there are a whole bunch of issues that emerge I've got to go back to each of my components and plug",
    "start": "3586870",
    "end": "3592150"
  },
  {
    "text": "that stuff in so it's going to be costly to do that the learning curve we've already mentioned so docker you can get",
    "start": "3592150",
    "end": "3597670"
  },
  {
    "text": "up and running with docker in a couple of days like that's not complicated cuba Nettie's is another step like you're",
    "start": "3597670",
    "end": "3602920"
  },
  {
    "text": "gonna have to invest some time to become a Cuban at-ease master and you don't really want to start using sto until",
    "start": "3602920",
    "end": "3608890"
  },
  {
    "text": "you're pretty comfortable with kubernetes and then once you've learnt all that stuff then there's the debugging curve as well if something",
    "start": "3608890",
    "end": "3615130"
  },
  {
    "text": "goes wrong right how where do I go like if the communication fails is it an sto",
    "start": "3615130",
    "end": "3620170"
  },
  {
    "text": "problem or an envelope roblem or a QE Nettie's problem or a docker problem or a my code problem there's a lot of extra",
    "start": "3620170",
    "end": "3625690"
  },
  {
    "text": "stuff in there that you need to dig through and then on a more kind of operational problem because there's all",
    "start": "3625690",
    "end": "3631960"
  },
  {
    "text": "this stuff not necessarily everyone in the team is going to deploy everything when they're building a software so if I'm a web developer I'm",
    "start": "3631960",
    "end": "3638550"
  },
  {
    "text": "happy running a docker container I don't want to be doing a whole bunch of communities and sto deployments to test",
    "start": "3638550",
    "end": "3643710"
  },
  {
    "text": "my latest UI update so I may only run a docker container and then in my test environment of maybe got a single node",
    "start": "3643710",
    "end": "3649680"
  },
  {
    "text": "Cuba Nettie's cluster and I'm not running sto and then in my full production environment I've got multi",
    "start": "3649680",
    "end": "3655320"
  },
  {
    "text": "node humanities cluster with this - you applied everything is different and I'm not getting the consistency between environments because of the complexity",
    "start": "3655320",
    "end": "3662490"
  },
  {
    "text": "of having these extra components so that's something to bear in mind and the last thing is it's not very DevOps e if",
    "start": "3662490",
    "end": "3669810"
  },
  {
    "text": "it's so complicated that only certain people can do it so I've got my DevOps team that build the product and run the",
    "start": "3669810",
    "end": "3675930"
  },
  {
    "text": "product and that's cool and then everyone in that team can do everything except for the fact that there's only one person who understands QP Nettie's",
    "start": "3675930",
    "end": "3681120"
  },
  {
    "text": "so only one person can do a deployment and you need to bear that in mind because you're going to end up with your DevOps team with a tiny ops team inside",
    "start": "3681120",
    "end": "3687840"
  },
  {
    "text": "it which is just one person and that's not actually gonna help you get to where you want to go okay and the last thing",
    "start": "3687840",
    "end": "3693540"
  },
  {
    "text": "we will follow on with is so that these technologies here Dakka Dakka swarm cuban at ease sto they all do different",
    "start": "3693540",
    "end": "3699300"
  },
  {
    "text": "things and they're all part of this kind of tired native new way of doing applications which is actually really",
    "start": "3699300",
    "end": "3704700"
  },
  {
    "text": "exciting and really interesting you will sometimes see these presented as a time line as an evolution and that if you're",
    "start": "3704700",
    "end": "3711750"
  },
  {
    "text": "on the left hand side you're doing something wrong and you need to get to the right hand side as quickly as possible that's not the case so if",
    "start": "3711750",
    "end": "3717930"
  },
  {
    "text": "you're running something in a virtual machine right now a single virtual machine if you move that to a container",
    "start": "3717930",
    "end": "3723060"
  },
  {
    "text": "you've got benefits like things are definitely gonna be better for you you can move it anywhere you can run it in the cloud it could still be a big old",
    "start": "3723060",
    "end": "3728640"
  },
  {
    "text": "monolith but just being in a container is going to make benefits for you if you need scale and failover you can go to",
    "start": "3728640",
    "end": "3734190"
  },
  {
    "text": "swarm if there's something that swarm doesn't do the Kuban at ease does then you can use cuban at ease and if you really need the service mesh features",
    "start": "3734190",
    "end": "3740010"
  },
  {
    "text": "then you can adopt this do but it's it's not a if I'm down here I'm doing something wrong and I need to I need to",
    "start": "3740010",
    "end": "3745440"
  },
  {
    "text": "progress ok so next steps are there's a whole bunch of stuff on layer 5 dot IO",
    "start": "3745440",
    "end": "3750960"
  },
  {
    "text": "which is curated by one of the docker tap beans I could read calcio really interesting stuff there if you're still",
    "start": "3750960",
    "end": "3757230"
  },
  {
    "text": "at the early stages then on Pluralsight there's a docker Learning Path with a whole bunch of from intermediate through",
    "start": "3757230",
    "end": "3763140"
  },
  {
    "text": "to advanced stuff there and then there's there's community stuff on Pluralsight - all today is demos run get",
    "start": "3763140",
    "end": "3769320"
  },
  {
    "text": "so you can go and all you need is docker desktop on Windows or Mac and you can replicate all this for your family at",
    "start": "3769320",
    "end": "3775830"
  },
  {
    "text": "home and then if you want to come to San Francisco in April then I'll be glad to see you there for them for the big docker conference please remember to do",
    "start": "3775830",
    "end": "3782550"
  },
  {
    "text": "the the voting thing on the way out hope that was useful I come and see we've got any questions and please",
    "start": "3782550",
    "end": "3789620"
  },
  {
    "text": "[Applause] [Music]",
    "start": "3789620",
    "end": "3795859"
  }
]