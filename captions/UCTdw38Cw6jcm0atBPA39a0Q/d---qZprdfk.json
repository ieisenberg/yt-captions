[
  {
    "start": "0",
    "end": "88000"
  },
  {
    "text": "today today we're going to be talking about like one simple thing and uh there's a simple thing that's called",
    "start": "5920",
    "end": "11040"
  },
  {
    "text": "kubernetes ingress how many of you actually using kubernetes today okay so not",
    "start": "11040",
    "end": "17199"
  },
  {
    "text": "even less people using kubernetes in in in denmark um and how many of those people who just",
    "start": "17199",
    "end": "24480"
  },
  {
    "text": "raise their hands use kubernetes in production okay so it's a good stuff okay um do you",
    "start": "24480",
    "end": "30640"
  },
  {
    "text": "have any services that you exposed to outside and what are you using for your ingress",
    "start": "30640",
    "end": "37760"
  },
  {
    "text": "okay everyone is using hp proxy nginx anyone",
    "start": "38399",
    "end": "44879"
  },
  {
    "text": "traffic okay okay uh how many of you heard about kong at all",
    "start": "44879",
    "end": "49920"
  },
  {
    "text": "okay a few people heard about conch okay good stuff at least uh we have some some understanding and",
    "start": "49920",
    "end": "55680"
  },
  {
    "text": "today you will learn more about clonky and hopefully uh you get the chance to try it so",
    "start": "55680",
    "end": "61600"
  },
  {
    "text": "we're going to be focusing on this thing uh it's called ingress and how we can expose different services",
    "start": "61600",
    "end": "67600"
  },
  {
    "text": "that running inside microbrain's cluster that's my you know equivalence cluster and that's my service that will be",
    "start": "67600",
    "end": "73200"
  },
  {
    "text": "running and we will be exposing this to um to this particular url so all this",
    "start": "73200",
    "end": "78320"
  },
  {
    "text": "stuff is live uh clusters live deployed so you can even like try to access this from your phone on for or for your um",
    "start": "78320",
    "end": "86880"
  },
  {
    "text": "from your laptop today i'm going to be talking not only about uh traditional http based workloads i",
    "start": "86880",
    "end": "93920"
  },
  {
    "start": "88000",
    "end": "254000"
  },
  {
    "text": "will talk a lot about how you can explore grpc services how you can expose tcp services",
    "start": "93920",
    "end": "100560"
  },
  {
    "text": "in case you if you need this or even how you can expose udp type of services",
    "start": "100560",
    "end": "106960"
  },
  {
    "text": "my name is victor gamoph i work as a developer advocate at clonk and cloning is a cloud connectivity company we do a",
    "start": "106960",
    "end": "113840"
  },
  {
    "text": "lot of stuff to support developers who build the apps",
    "start": "113840",
    "end": "119119"
  },
  {
    "text": "cloud on-prem vms and we are building tools that providing",
    "start": "119119",
    "end": "125439"
  },
  {
    "text": "reliable secured and observable connections for your applications that includes things around api",
    "start": "125439",
    "end": "131599"
  },
  {
    "text": "management full api management lifecycle includes stuff around the service meshes and some",
    "start": "131599",
    "end": "138400"
  },
  {
    "text": "stuff around tools for developers so today i'm going to be focusing on mostly on api",
    "start": "138400",
    "end": "143599"
  },
  {
    "text": "management side of things so brief agenda what i'm going to be i'm trying to use less slides and i'm going to do",
    "start": "143599",
    "end": "150560"
  },
  {
    "text": "lots of demos um and i really want to have some interaction so it would be",
    "start": "150560",
    "end": "156239"
  },
  {
    "text": "great to have some questions from from the room that would be uh that would be great so use this opportunity because not so many",
    "start": "156239",
    "end": "162000"
  },
  {
    "text": "people here so you have basically one-on-one session with me um i know a few things",
    "start": "162000",
    "end": "167200"
  },
  {
    "text": "so uh i'm gonna set the stage and uh why we need uh ingress in in in the world of",
    "start": "167200",
    "end": "174640"
  },
  {
    "text": "kubernetes and why it was invented there how we can use ingress how we can expose simple",
    "start": "174640",
    "end": "180560"
  },
  {
    "text": "rest services and how we can expose something like more uh exotic apparently",
    "start": "180560",
    "end": "186560"
  },
  {
    "text": "not so exotic because so many talks about jrpc at this conference apparently people are either",
    "start": "186560",
    "end": "192400"
  },
  {
    "text": "trying to use trying to learn or not convinced yet so we will look at the jrpc and we will",
    "start": "192400",
    "end": "199120"
  },
  {
    "text": "talk about some advanced features how we can supercharge this in grass without changing the code of application or even",
    "start": "199120",
    "end": "206159"
  },
  {
    "text": "looking inside the code so only code that i will be showing you today would be",
    "start": "206159",
    "end": "212400"
  },
  {
    "text": "probably yamo if you consider yaml as a code uh rest of this stuff is 100",
    "start": "212400",
    "end": "218560"
  },
  {
    "text": "unrelated and the point here is that i trying to not to look into like the way",
    "start": "218560",
    "end": "223680"
  },
  {
    "text": "how the application is implemented because it's pretty much irrelevant for the um",
    "start": "223680",
    "end": "229120"
  },
  {
    "text": "are we developers here or we operations of like how many of you developers here okay so okay developers",
    "start": "229120",
    "end": "236400"
  },
  {
    "text": "um and uh because sometimes operations people they don't really care what they",
    "start": "236400",
    "end": "241599"
  },
  {
    "text": "give them you just like ship them with their like some rpm package or that package or docker docker image or",
    "start": "241599",
    "end": "247040"
  },
  {
    "text": "something like that and they will make sure they will run this so since we developers um again only code you will",
    "start": "247040",
    "end": "252879"
  },
  {
    "text": "see yaml so um how we're going to be running these apps",
    "start": "252879",
    "end": "258560"
  },
  {
    "start": "254000",
    "end": "456000"
  },
  {
    "text": "in the kubernetes world so when we run the apps in the kubernetes world we usually have a cluster",
    "start": "258560",
    "end": "264320"
  },
  {
    "text": "that will be consist of multiple uh physical nodes and this",
    "start": "264320",
    "end": "269520"
  },
  {
    "text": "thing will represent one something that we use as a pool of resources and uh",
    "start": "269520",
    "end": "275040"
  },
  {
    "text": "those nodes would be uh utilized based on the different uh the scheduling logic that the kubernetes",
    "start": "275040",
    "end": "281040"
  },
  {
    "text": "provides so when you're deploying say um a service that will be serving some",
    "start": "281040",
    "end": "286240"
  },
  {
    "text": "of the orders and you set the replication factor for this service i appreciate factor three so kubernetes",
    "start": "286240",
    "end": "291759"
  },
  {
    "text": "will take those ports and distribute them across the nodes and",
    "start": "291759",
    "end": "297680"
  },
  {
    "text": "those nodes will be you know utilized in order to provide you with reliability uh",
    "start": "297680",
    "end": "303280"
  },
  {
    "text": "fault tolerance and all this apple jazz now uh in order to",
    "start": "303280",
    "end": "308400"
  },
  {
    "text": "order to order to provide external access to the service um there's a couple ways",
    "start": "308400",
    "end": "314960"
  },
  {
    "text": "inside when you deploy your application uh and if you want to make this application routable inside your",
    "start": "314960",
    "end": "321280"
  },
  {
    "text": "companies cluster you need to assign some thing called service it's a resource um that has a like definition in",
    "start": "321280",
    "end": "329759"
  },
  {
    "text": "kubernetes world and this resource is actually creates the",
    "start": "329759",
    "end": "335919"
  },
  {
    "text": "internal addressable name for this particular service in in",
    "start": "335919",
    "end": "342560"
  },
  {
    "text": "the case of the orders it will be something like orders dot svc",
    "start": "342560",
    "end": "348240"
  },
  {
    "text": "dot nam space cluster.local that's going to be",
    "start": "348240",
    "end": "353680"
  },
  {
    "text": "the way how you can be able to be able to access this inside kubernetes to expose this to outside you can actually",
    "start": "353680",
    "end": "359680"
  },
  {
    "text": "change the service to something by default it's cluster ip meaning that it will be available inside the cluster if",
    "start": "359680",
    "end": "364800"
  },
  {
    "text": "you change this of the service type to load balancer you will have",
    "start": "364800",
    "end": "372400"
  },
  {
    "text": "with the great uh probability you will get the external ip",
    "start": "372400",
    "end": "377759"
  },
  {
    "text": "address that will be addressable outside of compressed cluster and kubernetes will be uh responsible to route all",
    "start": "377759",
    "end": "384960"
  },
  {
    "text": "requests that hitting this particular ip address to um underlying services",
    "start": "384960",
    "end": "390240"
  },
  {
    "text": "so once you start building this apps and kubernetes cell bringing more apps",
    "start": "390240",
    "end": "396319"
  },
  {
    "text": "you also need to expose those apps somehow and to build",
    "start": "396319",
    "end": "401520"
  },
  {
    "text": "a load balancer for each for each of your app i would be really wasteful uh",
    "start": "401520",
    "end": "408319"
  },
  {
    "text": "from perspective of like you might not have a pool of available ip addresses and uh usually",
    "start": "408319",
    "end": "415039"
  },
  {
    "text": "the cloud providers if you're running this in like manage the service uh will charge you differently for load",
    "start": "415039",
    "end": "422240"
  },
  {
    "text": "balancers and then things like that so uh kubernetes community come up with this idea okay so instead of having this",
    "start": "422240",
    "end": "429599"
  },
  {
    "text": "um load balancer per service we'll have something that will have some sort of like a centralized entry point and this",
    "start": "429599",
    "end": "435599"
  },
  {
    "text": "proxy will be a thing that we known as the ingress and ingress was designed to",
    "start": "435599",
    "end": "440880"
  },
  {
    "text": "be this this resource that will be us or bound to one",
    "start": "440880",
    "end": "448160"
  },
  {
    "text": "load balancer and we'll be routing the um traffic based on the routes um to the",
    "start": "448160",
    "end": "453680"
  },
  {
    "text": "different different services um so",
    "start": "453680",
    "end": "458960"
  },
  {
    "start": "456000",
    "end": "616000"
  },
  {
    "text": "that's where we're going into the greatest ingress this is the again this picture where we're going into this one so now",
    "start": "458960",
    "end": "465280"
  },
  {
    "text": "you still can have this service that will be addressable inside your application because sometimes your application needs to communicate to each",
    "start": "465280",
    "end": "471440"
  },
  {
    "text": "other we're not going to talk much about the inter cluster communication today",
    "start": "471440",
    "end": "476560"
  },
  {
    "text": "um and uh we're going to be using ingress to access this this type of stuff so from perspective of yaml this",
    "start": "476560",
    "end": "483520"
  },
  {
    "text": "is how it looks like it's the vendor neutral specification there's nothing to do with like any particular provider",
    "start": "483520",
    "end": "489280"
  },
  {
    "text": "like jproxy and genex traffic nothing so you have this ingress and uh that should",
    "start": "489280",
    "end": "495599"
  },
  {
    "text": "work pretty much with any um in any providers that support this kind of",
    "start": "495599",
    "end": "501759"
  },
  {
    "text": "like ingress so kubernetes kubernetes model around a",
    "start": "501759",
    "end": "507120"
  },
  {
    "text": "dealing with some sort of resources is very much reminds like object-oriented",
    "start": "507120",
    "end": "514800"
  },
  {
    "text": "style right so you have a they defined interfaces that underlying providers",
    "start": "514800",
    "end": "520800"
  },
  {
    "text": "like different vendors of the software um will be implementing so this is basically an interface and this",
    "start": "520800",
    "end": "528000"
  },
  {
    "text": "interface needs to be um will be available as an actual implementation based on actual provider",
    "start": "528000",
    "end": "535360"
  },
  {
    "text": "that you use as an ingress controller so in this case we specify a couple things here so for particular uh we can specify",
    "start": "535360",
    "end": "542480"
  },
  {
    "text": "the routing logic we can do this based on the path or we can use this based on",
    "start": "542480",
    "end": "547680"
  },
  {
    "text": "the host and if you go to example dot com slash bills we will hit this underlying bill",
    "start": "547680",
    "end": "554240"
  },
  {
    "text": "service that's like simple that's the simple logic about ingress and there's nothing really difficult here",
    "start": "554240",
    "end": "561200"
  },
  {
    "text": "however um let's uh focus on uh what actually happens when we're applying",
    "start": "561200",
    "end": "566720"
  },
  {
    "text": "this when i do like control apply ingress yaml so what is actually happening here so when uh the the group",
    "start": "566720",
    "end": "573680"
  },
  {
    "text": "control will turn this into api call that internally will try to find",
    "start": "573680",
    "end": "578720"
  },
  {
    "text": "so-called ingress class um usually in uh your ingress",
    "start": "578720",
    "end": "584160"
  },
  {
    "text": "specification you need to specify um kind of like a hint for this ingress which",
    "start": "584160",
    "end": "591279"
  },
  {
    "text": "ingress controller will handle this particular object in the past",
    "start": "591279",
    "end": "597680"
  },
  {
    "text": "we used annotations inside the kubernetes ingress annotation section we can specify",
    "start": "597680",
    "end": "603279"
  },
  {
    "text": "a particular uh the implementation that will be handled this ingress um but it's not deprecated and",
    "start": "603279",
    "end": "610959"
  },
  {
    "text": "you need to use explicit like ingress class to specify i will show you in um in a few seconds",
    "start": "610959",
    "end": "616880"
  },
  {
    "start": "616000",
    "end": "816000"
  },
  {
    "text": "so why i'm talking about this like how many of you watch star trek or familiar",
    "start": "616880",
    "end": "622079"
  },
  {
    "text": "with star trek at least a little bit i don't know how it's impo how it's uh the popular in in europe but like uh one of",
    "start": "622079",
    "end": "629360"
  },
  {
    "text": "my favorite show yep live longer prosper so jean-luc picard",
    "start": "629360",
    "end": "635040"
  },
  {
    "text": "um so he will be representing our application today like the vanilla application that you know",
    "start": "635040",
    "end": "642160"
  },
  {
    "text": "does does the job like get things done make it so again um and that's",
    "start": "642160",
    "end": "648320"
  },
  {
    "text": "what it what this is what he's what he do and um it's like it's like your application your application needs to",
    "start": "648320",
    "end": "653920"
  },
  {
    "text": "focus on the certain things like microservice needs to be micro because it needs to serve a particular thing it",
    "start": "653920",
    "end": "659200"
  },
  {
    "text": "needs to be implemented some business logic however we need to face with um",
    "start": "659200",
    "end": "664560"
  },
  {
    "text": "or deal with the so-called like cross-cutting concerns things around how we can handle load",
    "start": "664560",
    "end": "670399"
  },
  {
    "text": "balancer circuit breaking uh authentication handling metrics uh the",
    "start": "670399",
    "end": "676079"
  },
  {
    "text": "gathering uh some of the log information caching requests and do maybe some",
    "start": "676079",
    "end": "681680"
  },
  {
    "text": "transformation if you need to migrate to the different uh api versions and so far and so on so",
    "start": "681680",
    "end": "687440"
  },
  {
    "text": "this stuff needs to be implemented somewhere either you implement this as a part of",
    "start": "687440",
    "end": "693360"
  },
  {
    "text": "your application so in this case you uh apart from the business logic you're getting back to putting all this stuff",
    "start": "693360",
    "end": "699600"
  },
  {
    "text": "inside your application now you don't have a microservice anymore it's already like a big service",
    "start": "699600",
    "end": "704800"
  },
  {
    "text": "we so the how many of you seen the invincible cartoon okay one person you",
    "start": "704800",
    "end": "710480"
  },
  {
    "text": "probably got there you get get the idea but hopefully it's self-explanatory",
    "start": "710480",
    "end": "716640"
  },
  {
    "text": "i mean but yeah who will implement this so and as a developer you don't want to",
    "start": "716640",
    "end": "722079"
  },
  {
    "text": "implement this because every time when you build a new application you either need to implement this is some sort of",
    "start": "722079",
    "end": "727120"
  },
  {
    "text": "library that you need to share if you need to share this library you need to support this if you need to support this",
    "start": "727120",
    "end": "732639"
  },
  {
    "text": "you need to provide different uh like a support uh agreement with your internal customers",
    "start": "732639",
    "end": "738720"
  },
  {
    "text": "or external customers so it's the sometimes um will be",
    "start": "738720",
    "end": "743839"
  },
  {
    "text": "sometimes this will be kind of like unnecessary so this application your application wants to receive all these",
    "start": "743839",
    "end": "750000"
  },
  {
    "text": "like augmentations for free so john luke picard received all this nice uh",
    "start": "750000",
    "end": "755360"
  },
  {
    "text": "like things so he can see better and do other things so like like your application with the um all these",
    "start": "755360",
    "end": "762800"
  },
  {
    "text": "augmentations can be attached to your application without you implementing and this is where um this you know proxy",
    "start": "762800",
    "end": "768959"
  },
  {
    "text": "thing comes into play um here i'm uh replacing this proxy with",
    "start": "768959",
    "end": "775519"
  },
  {
    "text": "the thing called api gateway and essentially api gateway it is a proxy it's a kind of reverse proxy that allows",
    "start": "775519",
    "end": "783360"
  },
  {
    "text": "you to it provides extra hop between your application and um",
    "start": "783360",
    "end": "789040"
  },
  {
    "text": "apart from just being like a simple traffic uh like a proxy thing we",
    "start": "789040",
    "end": "794160"
  },
  {
    "text": "actually can do some useful stuff here um and this useful stuff will be around",
    "start": "794160",
    "end": "799920"
  },
  {
    "text": "things that i just already mentioned things uh with um",
    "start": "799920",
    "end": "805279"
  },
  {
    "text": "with different metrics with the uh verification and the rate limiting so",
    "start": "805279",
    "end": "810399"
  },
  {
    "text": "all these kind of things i will show you how you can do in a kubernetes native way",
    "start": "810399",
    "end": "816800"
  },
  {
    "start": "816000",
    "end": "1055000"
  },
  {
    "text": "so the way how it's done in kubernetes native way kubernetes is api server and kubernetes",
    "start": "816800",
    "end": "822800"
  },
  {
    "text": "is the system that you um submitting your request saying hey this",
    "start": "822800",
    "end": "829519"
  },
  {
    "text": "is the state of the world i want to have i want to have um the three replicas of my applications i",
    "start": "829519",
    "end": "836639"
  },
  {
    "text": "want to have disk storage with 100 megabytes you don't tell kubernetes how to do this so",
    "start": "836639",
    "end": "842880"
  },
  {
    "text": "kubernetes will you know make it so like in the in the star trek um so you",
    "start": "842880",
    "end": "848639"
  },
  {
    "text": "just need to define so the same way we're configuring this underlying proxy so we have a custom resources that",
    "start": "848639",
    "end": "855040"
  },
  {
    "text": "allows me to to build um",
    "start": "855040",
    "end": "862079"
  },
  {
    "text": "some some like some custom objects so those objects will be essentially represent the configuration for for",
    "start": "862240",
    "end": "868000"
  },
  {
    "text": "plugins that will enable or disable certain features so this is the example of",
    "start": "868000",
    "end": "875360"
  },
  {
    "text": "a custom resource that called calling plugin that will be enabling a plugin named a key off so",
    "start": "875360",
    "end": "884160"
  },
  {
    "text": "this key off will create authorization logic in our application",
    "start": "884160",
    "end": "891360"
  },
  {
    "text": "so that will or our api will be accessible only if this key will be provided",
    "start": "891360",
    "end": "898880"
  },
  {
    "text": "uh with this name uh or like api off and this how this is how we can apply this into into ingress",
    "start": "898880",
    "end": "906320"
  },
  {
    "text": "so in this case uh i'm putting this inside the annotation so it's still kind of still a little bit",
    "start": "906320",
    "end": "913680"
  },
  {
    "text": "of um vendor specific but not so much because annotations only will be interpreted by",
    "start": "913680",
    "end": "921279"
  },
  {
    "text": "uh underlying ingress controller if under the underlying vs controller interested in this type of thing so if",
    "start": "921279",
    "end": "927279"
  },
  {
    "text": "you would submit this ingress to something like other than conk you will just ignore those plugins and your",
    "start": "927279",
    "end": "933680"
  },
  {
    "text": "ingress still works so that's the kind of like a beauty of extending this uh through this type of",
    "start": "933680",
    "end": "940800"
  },
  {
    "text": "this type of approach and still still standard ingress yes",
    "start": "940800",
    "end": "947480"
  },
  {
    "text": "wait for a second we will talk about this stuff yeah we will uh we'll see we'll see how we",
    "start": "958959",
    "end": "964160"
  },
  {
    "text": "can solve this um we can also chain the plugins so we",
    "start": "964160",
    "end": "969600"
  },
  {
    "text": "can have multiple uh things here so like you can apply",
    "start": "969600",
    "end": "975519"
  },
  {
    "text": "only this plugin for if the key is available and there's i",
    "start": "975519",
    "end": "982079"
  },
  {
    "text": "will show you how we can you know combine this and how those work together so but like the idea is that you can",
    "start": "982079",
    "end": "988320"
  },
  {
    "text": "have more than one plugin now and uh this is this is basically",
    "start": "988320",
    "end": "994959"
  },
  {
    "text": "what we're going to be doing the rest of the presentation i will be showing you how i can do uh this type of stuff for",
    "start": "994959",
    "end": "1000800"
  },
  {
    "text": "uh for kwang um and uh i didn't say that uh and if i will not mention like",
    "start": "1000800",
    "end": "1008000"
  },
  {
    "text": "explicitly along the way all the things that i'm telling you here are available",
    "start": "1008000",
    "end": "1013360"
  },
  {
    "text": "in uh open source uh version of congress controller and chronic itself calling by itself it's the api",
    "start": "1013360",
    "end": "1021519"
  },
  {
    "text": "api gateway that has like 32 000 stars on github so it's",
    "start": "1021519",
    "end": "1028640"
  },
  {
    "text": "quite popular um someone someone is using it i don't know if why um you folks not using it here or",
    "start": "1028640",
    "end": "1036240"
  },
  {
    "text": "at least like there's no uh one single person who used this but hey uh hopefully after today um and all these",
    "start": "1036240",
    "end": "1043038"
  },
  {
    "text": "demos that i will be showing today is everything is available as open source even though we do have uh some uh like",
    "start": "1043039",
    "end": "1049600"
  },
  {
    "text": "commercial enterprise plugins all these jazz that i will be showing today is totally free and totally open source",
    "start": "1049600",
    "end": "1055520"
  },
  {
    "start": "1055000",
    "end": "1341000"
  },
  {
    "text": "all right so um and this is where my slides will end and we will go into",
    "start": "1055520",
    "end": "1060640"
  },
  {
    "text": "something very interesting hopefully at least it was interesting for me when i was building this stuff",
    "start": "1060640",
    "end": "1067440"
  },
  {
    "text": "all right so um what we're going to be building today",
    "start": "1067440",
    "end": "1072720"
  },
  {
    "text": "i already built a say i work in the company and we want to expose certain apis and i my company is",
    "start": "1072720",
    "end": "1083120"
  },
  {
    "text": "building apis for um quotes from popular pop cultural",
    "start": "1083120",
    "end": "1091039"
  },
  {
    "text": "reference movies or memes and stuff like that so i'm i'm i'm selling or like i'm",
    "start": "1091039",
    "end": "1096240"
  },
  {
    "text": "providing apis for quotes so we will start with quote service that will be generated the quotes for back to future",
    "start": "1096240",
    "end": "1104080"
  },
  {
    "text": "and some of the random facts about chuck norris and the way how this would look like",
    "start": "1104080",
    "end": "1111120"
  },
  {
    "text": "i will call the service it will give me a quote [Music] let's take a look on the first one first",
    "start": "1111120",
    "end": "1118559"
  },
  {
    "text": "one is going to be our back to future",
    "start": "1118559",
    "end": "1123600"
  },
  {
    "text": "um and i will go with back to future and while it will be deploying i will",
    "start": "1123600",
    "end": "1130799"
  },
  {
    "text": "show you what we have here so this is the the standard kubernetes deployment there is nothing special there is a only",
    "start": "1130799",
    "end": "1137039"
  },
  {
    "text": "image that i i built and this image uh will provide me with the service only thing that i",
    "start": "1137039",
    "end": "1143760"
  },
  {
    "text": "need to configure here is that what kind of service i want to use so i'm deploying back to future service",
    "start": "1143760",
    "end": "1149360"
  },
  {
    "text": "and um for example if i will be deploying chuck norris service i just need to where is",
    "start": "1149360",
    "end": "1155919"
  },
  {
    "text": "it chuck norris um if i will be deploying chuck norris i just need to specify that this is the chuck norris",
    "start": "1155919",
    "end": "1161039"
  },
  {
    "text": "service so if i will just do",
    "start": "1161039",
    "end": "1165840"
  },
  {
    "text": "if i will just do chuck it will also create the service and deploy the service so let's explore what",
    "start": "1166559",
    "end": "1173440"
  },
  {
    "text": "we have here so it's another tool that we built it's also open source and freely available",
    "start": "1173440",
    "end": "1179760"
  },
  {
    "text": "haven't you heard about insomnia okay two people so go try insomnia afterwards uh insomnia",
    "start": "1179760",
    "end": "1187039"
  },
  {
    "text": "it's awesome uh insomnia.rest this is uh this is url where you need to uh this is",
    "start": "1187039",
    "end": "1192880"
  },
  {
    "text": "where you need to go and uh get your next favorite tool so uh with this i do have already",
    "start": "1192880",
    "end": "1201200"
  },
  {
    "text": "predefined a url so like every time when i will be hitting this i will be hitting this",
    "start": "1201200",
    "end": "1207120"
  },
  {
    "text": "calling proxy dot me and uh this is a live server if i'll just do hopefully dns is works",
    "start": "1207120",
    "end": "1214799"
  },
  {
    "text": "yep it's live service so if i'll do some something like um let's just do disable",
    "start": "1214799",
    "end": "1219919"
  },
  {
    "text": "this header for a second if i'll hit this i will get the 404 which is uh which is great this is exactly what i want to see",
    "start": "1219919",
    "end": "1226880"
  },
  {
    "text": "so when uh first time on hit the server i'm hitting this load balancer and uh if i go to micro branches cluster",
    "start": "1226880",
    "end": "1234320"
  },
  {
    "text": "kubernetes get services for namespace clunk and uh my quang proxy this is uh the",
    "start": "1234320",
    "end": "1240799"
  },
  {
    "text": "process that runs inside my comments cluster has a type of load balancer and that this is the external ip address",
    "start": "1240799",
    "end": "1247280"
  },
  {
    "text": "assigned to this one and i just happened to own this proxy me uh",
    "start": "1247280",
    "end": "1253039"
  },
  {
    "text": "domain so i assigned this to this bro to this to this service um we're exposing",
    "start": "1253039",
    "end": "1258320"
  },
  {
    "text": "two ports ports 80 and port uh um https",
    "start": "1258320",
    "end": "1264240"
  },
  {
    "text": "so and this is where what we're going to be doing with this one so when the first time i hit this it gets me 404 but at",
    "start": "1264240",
    "end": "1270080"
  },
  {
    "text": "least i'm getting the response from the right place i'm getting response from the calling servers and the",
    "start": "1270080",
    "end": "1275760"
  },
  {
    "text": "response latency was super fast because there's nothing here i just think hit the",
    "start": "1275760",
    "end": "1281120"
  },
  {
    "text": "service there is nothing here now i need to provide some of the routing logic in my",
    "start": "1281120",
    "end": "1287280"
  },
  {
    "text": "ingress here the way how i configured here my ingress",
    "start": "1287280",
    "end": "1292799"
  },
  {
    "text": "a couple things that i specify here is first of all this ingress i specified that will be served by quank ingress",
    "start": "1292799",
    "end": "1298720"
  },
  {
    "text": "controller and uh with the host if i will go in assigned to to this you know host um it should",
    "start": "1298720",
    "end": "1306400"
  },
  {
    "text": "route me to back uh to future code service so let's take a look how we can do this the first thing that",
    "start": "1306400",
    "end": "1313520"
  },
  {
    "text": "the first thing that i can do here is i just put the um host header",
    "start": "1313520",
    "end": "1318960"
  },
  {
    "text": "so i'm hitting this base url the comproxy.me and i'm just providing the header so based on this header my",
    "start": "1318960",
    "end": "1326720"
  },
  {
    "text": "ingress will route me to particular service so i click here sounds like uh the quote from back to",
    "start": "1326720",
    "end": "1333440"
  },
  {
    "text": "future because we have a beef here um back to future fans great scott",
    "start": "1333440",
    "end": "1340400"
  },
  {
    "text": "all right tough crowd tough crowd okay so this is um how i can tell that this",
    "start": "1340400",
    "end": "1345760"
  },
  {
    "start": "1341000",
    "end": "1387000"
  },
  {
    "text": "actually comes from uh from my uh from my service so it goes via my cog and now",
    "start": "1345760",
    "end": "1351600"
  },
  {
    "text": "i have some extra extra headers here so i know how long it takes to um",
    "start": "1351600",
    "end": "1357440"
  },
  {
    "text": "for uh for clunk to retrieve this so the latency is the seven milliseconds",
    "start": "1357440",
    "end": "1362559"
  },
  {
    "text": "between uh my coin proxy and my service um and uh this is where my response",
    "start": "1362559",
    "end": "1368400"
  },
  {
    "text": "coming from if i go to my kubernetes cluster let's go to uh default namespace",
    "start": "1368400",
    "end": "1375760"
  },
  {
    "text": "and uh that's my uh back to future port name as you can see this uh exactly as it is so",
    "start": "1375760",
    "end": "1383760"
  },
  {
    "text": "request came into the con and calling reality to this back to future so let's see how we can do for uh for another one",
    "start": "1383760",
    "end": "1391360"
  },
  {
    "text": "wait a second and so i deployed my chuck norris service and",
    "start": "1391360",
    "end": "1397520"
  },
  {
    "text": "yeah so and now my response goes to chuck norris service again i specified here a",
    "start": "1397520",
    "end": "1404159"
  },
  {
    "text": "header for host so the routing happened based on the header yes",
    "start": "1404159",
    "end": "1411279"
  },
  {
    "text": "okay",
    "start": "1411520",
    "end": "1414520"
  },
  {
    "text": "yep so that's good point let's let's try it out so we're gonna do deployment",
    "start": "1427919",
    "end": "1434400"
  },
  {
    "text": "uh where we do so where's our replication",
    "start": "1434400",
    "end": "1440880"
  },
  {
    "text": "spec deployment spec",
    "start": "1440880",
    "end": "1445840"
  },
  {
    "text": "oops yep it's it's on top of replicas too and if i will just go ahead and do apply",
    "start": "1446400",
    "end": "1455679"
  },
  {
    "text": "so we have another another one right so uh if i will keep",
    "start": "1457520",
    "end": "1464960"
  },
  {
    "text": "so right now it's not it's not healthy yet let's see if it's uh if it's up and",
    "start": "1466240",
    "end": "1471760"
  },
  {
    "text": "running yep look at this oh yeah uh it's up and running so um",
    "start": "1471760",
    "end": "1479200"
  },
  {
    "text": "right now so and now it would be round robin as you can see",
    "start": "1479200",
    "end": "1485440"
  },
  {
    "text": "yeah so as you can see here it's just hitting different uh different parts here uh the look on this like a header",
    "start": "1485440",
    "end": "1491840"
  },
  {
    "text": "pod name um so the logic between load balancing can",
    "start": "1491840",
    "end": "1497279"
  },
  {
    "text": "be also be you know changed based on the um health checks i don't have it like on",
    "start": "1497279",
    "end": "1502880"
  },
  {
    "text": "hand but like the that's kind of how it works you need to define the kind of like health check",
    "start": "1502880",
    "end": "1509440"
  },
  {
    "text": "and uh it will be you know bouncing off between like a healthy or not healthy but right now by default is round robin",
    "start": "1509440",
    "end": "1515679"
  },
  {
    "text": "basically the way how it works is just simply simply because um we have a service",
    "start": "1515679",
    "end": "1522400"
  },
  {
    "text": "service this is how so i'm not heating this port directly from my ingress i'm exposing this thing",
    "start": "1522400",
    "end": "1530880"
  },
  {
    "text": "through exposing this thing through this through the service and this is how it",
    "start": "1530880",
    "end": "1537039"
  },
  {
    "text": "works okay so up and running we see this is it's it's",
    "start": "1537039",
    "end": "1543120"
  },
  {
    "text": "it's good stuff all working okay so let's um let's do something interesting let's do something interesting",
    "start": "1543120",
    "end": "1550320"
  },
  {
    "text": "i knew you will come okay so um let's uh let's start with something like",
    "start": "1550799",
    "end": "1556880"
  },
  {
    "text": "very simple so uh let's assume uh i will be under",
    "start": "1556880",
    "end": "1563039"
  },
  {
    "text": "where's my oh yeah i didn't show you that so since i already have um the",
    "start": "1563039",
    "end": "1568080"
  },
  {
    "text": "header based but i also can just directly hit this url so if i go here",
    "start": "1568080",
    "end": "1574640"
  },
  {
    "text": "and i start hitting this url directly so instead of using the header it also",
    "start": "1574640",
    "end": "1580240"
  },
  {
    "text": "supports like uh the the this this uh",
    "start": "1580240",
    "end": "1585760"
  },
  {
    "text": "the host based thing and the way how it works like this is kind of like nothing to do with kong this is something that i like to do for my demos i use thing",
    "start": "1585760",
    "end": "1592480"
  },
  {
    "start": "1586000",
    "end": "1679000"
  },
  {
    "text": "called external dns and external dns essentially based on my host i will be",
    "start": "1592480",
    "end": "1598559"
  },
  {
    "text": "just uh going and talk to my dns provider and will register this so",
    "start": "1598559",
    "end": "1604240"
  },
  {
    "text": "essentially the way how it looks like if i'll just do dig plus short",
    "start": "1604240",
    "end": "1609919"
  },
  {
    "text": "back to future it's going to be the same ip address so when it hits",
    "start": "1609919",
    "end": "1615120"
  },
  {
    "text": "can figure out how to extract this like uh the the sub domain and the hit to uh this",
    "start": "1615120",
    "end": "1621600"
  },
  {
    "text": "particular thing so that's another beauty of using the api gateway here so you will get all",
    "start": "1621600",
    "end": "1628000"
  },
  {
    "text": "this type of jazz for for free and the way how it looks like with the",
    "start": "1628000",
    "end": "1634080"
  },
  {
    "text": "external dns so let me show you the external dns",
    "start": "1634080",
    "end": "1643200"
  },
  {
    "text": "um and so for example here like every time when i crea it's external dns it listens for",
    "start": "1643279",
    "end": "1650000"
  },
  {
    "text": "ingresses and uh uh reads this annotation from ingress and after that",
    "start": "1650000",
    "end": "1655200"
  },
  {
    "text": "talks to my um to my provider uh it's uh creates this record back to future and",
    "start": "1655200",
    "end": "1661760"
  },
  {
    "text": "chuck so like every time i'm creating this ingress it will provision for me automatically so",
    "start": "1661760",
    "end": "1667039"
  },
  {
    "text": "the for it looks cool for the demos because i don't need to like mess around with ip addresses and all these things",
    "start": "1667039",
    "end": "1672880"
  },
  {
    "text": "um so uh next thing uh let's do let's let's mess around with some plugins",
    "start": "1672880",
    "end": "1678880"
  },
  {
    "text": "so with the um uh the one of the like a simple thing that i can show you in the simple and",
    "start": "1678880",
    "end": "1684399"
  },
  {
    "start": "1679000",
    "end": "1799000"
  },
  {
    "text": "useful thing is just enable rate limiting so um we will limit how many",
    "start": "1684399",
    "end": "1689440"
  },
  {
    "text": "requests from this particular ip address we can get so this is uh called uh the cone plugin so i'll go ahead and apply",
    "start": "1689440",
    "end": "1696000"
  },
  {
    "text": "this in kubernetes cluster um and now i will be able to use this in my",
    "start": "1696000",
    "end": "1704159"
  },
  {
    "text": "in my ingress so one i only think that i need to do here i just enable this annotation and assign this plug-in a",
    "start": "1704159",
    "end": "1711039"
  },
  {
    "text": "right-free tier into the same name as i have in my",
    "start": "1711039",
    "end": "1716720"
  },
  {
    "text": "this name so this is how they connect it and",
    "start": "1716799",
    "end": "1722399"
  },
  {
    "text": "now let me show you in um in insomnia so if i will go ahead and say [Music]",
    "start": "1723039",
    "end": "1729039"
  },
  {
    "text": "uh repeat on interval let's see every half a second",
    "start": "1729039",
    "end": "1736000"
  },
  {
    "text": "so right now i'm getting two requests per seconds response is getting fine we're getting",
    "start": "1736000",
    "end": "1742880"
  },
  {
    "text": "stuff we feel like we're getting hammered so we should go ahead enable this rate limiting plugin",
    "start": "1742880",
    "end": "1751278"
  },
  {
    "text": "and all of a sudden uh the denial of service attack prevented so",
    "start": "1751520",
    "end": "1756880"
  },
  {
    "text": "essentially we start like a pushing back we have only five uh requests uh only",
    "start": "1756880",
    "end": "1761919"
  },
  {
    "text": "kind of like a five um requests that were allowed so that's why",
    "start": "1761919",
    "end": "1767039"
  },
  {
    "text": "this stuff start getting errors and one of the things that also calling adds here as extra headers is about this rate",
    "start": "1767039",
    "end": "1774320"
  },
  {
    "text": "limiting uh so the the consumer can back off based on this knowledge we can say",
    "start": "1774320",
    "end": "1779520"
  },
  {
    "text": "okay so red limiting um",
    "start": "1779520",
    "end": "1783679"
  },
  {
    "text": "per minute and how much how much time uh remained now uh",
    "start": "1784559",
    "end": "1791840"
  },
  {
    "text": "time has passed and now we can continue to to hammer the service",
    "start": "1791840",
    "end": "1799120"
  },
  {
    "start": "1799000",
    "end": "1910000"
  },
  {
    "text": "there are plugins that available as a on the ingress but there are also global plugins that are available for",
    "start": "1799120",
    "end": "1804960"
  },
  {
    "text": "everything so for this example for this particular demo i do have two plugins that enable",
    "start": "1804960",
    "end": "1810080"
  },
  {
    "text": "globally so this is one that's uh this pretty cool one that's called a bot detector so essentially it reads the",
    "start": "1810080",
    "end": "1816399"
  },
  {
    "text": "headers of particular user agent header from a particular client and can prevent",
    "start": "1816399",
    "end": "1821600"
  },
  {
    "text": "accessing this service so this plugin is enabled already so if i'll go to my",
    "start": "1821600",
    "end": "1826720"
  },
  {
    "text": "comments cluster and i say [Music] go to all namespaces i just do a kong",
    "start": "1826720",
    "end": "1834399"
  },
  {
    "text": "cluster plugin and i have a like one that uh prevents me for both to access",
    "start": "1834399",
    "end": "1841200"
  },
  {
    "text": "and one uh will collect some prometheus metrics i will show you um in them in a second so essentially every client that",
    "start": "1841200",
    "end": "1848960"
  },
  {
    "text": "will have user agent in this particular case i do have some custom deny user",
    "start": "1848960",
    "end": "1854080"
  },
  {
    "text": "agent apart from the things that we already pre-configured here like",
    "start": "1854080",
    "end": "1859360"
  },
  {
    "text": "if i go here where's my for the user agent",
    "start": "1859360",
    "end": "1867278"
  },
  {
    "text": "i use arrangement and if i say ntc and i hit this um it gives me forbidden or if i will",
    "start": "1868080",
    "end": "1875120"
  },
  {
    "text": "just do something like uh uh where's the crawler uh i i remember",
    "start": "1875120",
    "end": "1882080"
  },
  {
    "text": "there was something like uh mos-e yeah like for example this some",
    "start": "1882080",
    "end": "1888880"
  },
  {
    "text": "sort of like if the some of the crawler the nes user agent is a microsoft internet explorer",
    "start": "1888880",
    "end": "1895200"
  },
  {
    "text": "crawler that will not be able to hit my api so that's uh that's a globally it's available for all endpoints so i can i",
    "start": "1895200",
    "end": "1902320"
  },
  {
    "text": "can enable this into in the chuck norris um and uh we'll enable this in other things",
    "start": "1902320",
    "end": "1909360"
  },
  {
    "text": "so now so there's a use case where my customers came in to me and said okay so that's",
    "start": "1909360",
    "end": "1914559"
  },
  {
    "start": "1910000",
    "end": "2031000"
  },
  {
    "text": "nice that you have a like a rate limiting stuff but what about um if we want to have like different level level",
    "start": "1914559",
    "end": "1920960"
  },
  {
    "text": "of uh of servicing so for example based on our key that's like the more advanced",
    "start": "1920960",
    "end": "1926799"
  },
  {
    "text": "use case that i want to show you right now um you can do some some of the stuff so uh for here i do have a so-called",
    "start": "1926799",
    "end": "1935039"
  },
  {
    "text": "kind of like a paid tier example and uh with this i'm combining two plugins right limiting plugin and the",
    "start": "1935039",
    "end": "1941039"
  },
  {
    "text": "key of uh plugin so based on the key uh quonk will recognize that i'm trying to",
    "start": "1941039",
    "end": "1948000"
  },
  {
    "text": "access my service differently so i need to serve this request differently so for uh for requests that will go into my",
    "start": "1948000",
    "end": "1955519"
  },
  {
    "text": "chuck norris service uh if key will be presenting",
    "start": "1955519",
    "end": "1961279"
  },
  {
    "text": "during the during this conversation i will allow 10 requests for for uh per",
    "start": "1961279",
    "end": "1966880"
  },
  {
    "text": "minute so that's kind of like already generous twice more as the previous one and the way how it works with this i",
    "start": "1966880",
    "end": "1973120"
  },
  {
    "text": "need to have a couple things in um",
    "start": "1973120",
    "end": "1980240"
  },
  {
    "text": "so i will create two secrets one will store the api key inside my kubernetes another one will have another api key",
    "start": "1980880",
    "end": "1988240"
  },
  {
    "text": "for um for another use case so i'll just let me run this we'll just generate something",
    "start": "1988240",
    "end": "1995200"
  },
  {
    "text": "and store it in as a secret and if i go ahead here and apply this to",
    "start": "1995200",
    "end": "2001519"
  },
  {
    "text": "microbrains cluster and again i just created those plugins i didn't apply those to to",
    "start": "2001519",
    "end": "2007440"
  },
  {
    "text": "ingress yet and if i will go to my chuck norris",
    "start": "2007440",
    "end": "2013279"
  },
  {
    "text": "let's do this one we need to wait here so we're combining to this two",
    "start": "2013279",
    "end": "2019519"
  },
  {
    "text": "plugins one plugin will uh serve key off in another plugin will provide me with different",
    "start": "2019519",
    "end": "2025679"
  },
  {
    "text": "layer of um of servicing this this use case",
    "start": "2025679",
    "end": "2031440"
  },
  {
    "start": "2031000",
    "end": "2081000"
  },
  {
    "text": "now if i go to my chuck norris and i'll try to provide this api key as my header",
    "start": "2031440",
    "end": "2038399"
  },
  {
    "text": "now as a response now i already have a rate limiting different rate limiting so if i will disable this header",
    "start": "2038399",
    "end": "2044799"
  },
  {
    "text": "i'm hearing this normally so that's why i'm getting authorized because i have",
    "start": "2044799",
    "end": "2052000"
  },
  {
    "text": "two plugins configured here if i will just want to do something like this and",
    "start": "2052000",
    "end": "2058800"
  },
  {
    "text": "just only one plugin that will be provide different layer of the rate limiting uh it still will be come",
    "start": "2058960",
    "end": "2065200"
  },
  {
    "text": "on okay um it's it's applied and i can use this",
    "start": "2065200",
    "end": "2072000"
  },
  {
    "text": "without without header but it would be nice if we were going to be using this with",
    "start": "2072000",
    "end": "2078960"
  },
  {
    "text": "with custom key now if we want to provide different logic uh for the same endpoint but",
    "start": "2078960",
    "end": "2086720"
  },
  {
    "start": "2081000",
    "end": "2147000"
  },
  {
    "text": "based on a different key but we also can do that that's why i do have a different",
    "start": "2086720",
    "end": "2094158"
  },
  {
    "text": "configuration that says platen tier so for the platinum tier i created another",
    "start": "2094159",
    "end": "2099280"
  },
  {
    "text": "consumer so consumer will be representing kind of like the way how",
    "start": "2099280",
    "end": "2105200"
  },
  {
    "text": "um quank will be dealing with upstream service essentially it will be representing how",
    "start": "2105200",
    "end": "2111520"
  },
  {
    "text": "the your your client uh to to the clone um and",
    "start": "2111520",
    "end": "2116640"
  },
  {
    "text": "in comparison to free tier we limit by ip address but with the",
    "start": "2116640",
    "end": "2124079"
  },
  {
    "text": "paid tier and platinum tier we are limit by consumer so it will be using this",
    "start": "2124079",
    "end": "2129920"
  },
  {
    "text": "consumer and we will specify which service and uh we will be binding",
    "start": "2129920",
    "end": "2135359"
  },
  {
    "text": "these two so i'm go ahead in applying this one to my to my cluster and my ingress also",
    "start": "2135359",
    "end": "2143040"
  },
  {
    "text": "needs to be updated now for the next time like i have a",
    "start": "2143040",
    "end": "2148720"
  },
  {
    "text": "platinum support and i also provide the different api key so for the same endpoint for a different api key i have",
    "start": "2148720",
    "end": "2155119"
  },
  {
    "text": "a platinum service and for the platinum service i have a 100 requests per uh per minute as my limit which is which is",
    "start": "2155119",
    "end": "2161520"
  },
  {
    "text": "nice so that's how we can do like a basic stuff with uh basic ingress and",
    "start": "2161520",
    "end": "2166640"
  },
  {
    "text": "basic http http things um any any questions so far",
    "start": "2166640",
    "end": "2172560"
  },
  {
    "text": "yeah",
    "start": "2172560",
    "end": "2174800"
  },
  {
    "text": "yes but not in this presentation so this presentation doesn't include doesn't have a circuit breaking thing so um but",
    "start": "2177760",
    "end": "2184800"
  },
  {
    "text": "if you go to dogs.com if you do",
    "start": "2184800",
    "end": "2190800"
  },
  {
    "text": "uh find this reference and you can uh you can read the internal logic how kong handles um",
    "start": "2192800",
    "end": "2200480"
  },
  {
    "text": "the circuit breakers uh there's a kind of like passive health checks and active health checks and specifically here it's",
    "start": "2200480",
    "end": "2207280"
  },
  {
    "text": "it's about quang but for quan congress if you go to this documentation there's a reference explained how we can enable",
    "start": "2207280",
    "end": "2216160"
  },
  {
    "text": "um to do where is it let's see",
    "start": "2216160",
    "end": "2222000"
  },
  {
    "text": "broke documentation on me let's do this one",
    "start": "2222400",
    "end": "2229480"
  },
  {
    "text": "so we are going to this one congress controller and this is like specific",
    "start": "2232400",
    "end": "2238400"
  },
  {
    "text": "explanation how this works in uh in regress so in this case we have um extension",
    "start": "2238400",
    "end": "2245599"
  },
  {
    "text": "for ingress it's called calling ingress where we can specify a health checks for",
    "start": "2245599",
    "end": "2252000"
  },
  {
    "text": "particular service my my demo already includes health checks if i will hit something like",
    "start": "2252000",
    "end": "2258560"
  },
  {
    "text": "um so if i will actuator",
    "start": "2258560",
    "end": "2264599"
  },
  {
    "text": "health so it's the application has end points",
    "start": "2264960",
    "end": "2271440"
  },
  {
    "text": "that you can hit and it will provides you um different liveliness and uh readiness probes uh also it has uh info",
    "start": "2271440",
    "end": "2279200"
  },
  {
    "text": "in point that uh will provide like all information about what kind of services available",
    "start": "2279200",
    "end": "2284480"
  },
  {
    "text": "and like which version is built on so the basically all you need to do is um",
    "start": "2284480",
    "end": "2291839"
  },
  {
    "text": "is to point this health check to uh to this configuration and you will",
    "start": "2291839",
    "end": "2297040"
  },
  {
    "text": "be able to do this with the um with this type of jazz",
    "start": "2297040",
    "end": "2302240"
  },
  {
    "start": "2301000",
    "end": "2355000"
  },
  {
    "text": "any questions about http http gps um uh this thing also integrates with the uh",
    "start": "2302240",
    "end": "2308560"
  },
  {
    "text": "sort manager if you're using like cert manager and uh let's encrypt i use let's personally uh",
    "start": "2308560",
    "end": "2316400"
  },
  {
    "text": "for like if i need to provide like https certificates and uh it's it's just works",
    "start": "2316400",
    "end": "2322320"
  },
  {
    "text": "just quite nicely quank also can uh provide the ingress so the way how it",
    "start": "2322320",
    "end": "2328160"
  },
  {
    "text": "works with the sort manager we need to provide a end point where let's encrypt will call",
    "start": "2328160",
    "end": "2335920"
  },
  {
    "text": "in order to solve the uh the challenge in order to issue your certificate um and the clone integrates",
    "start": "2335920",
    "end": "2343280"
  },
  {
    "text": "with this and provides the temporal end point where uh let's encrypt can call back and change yeah okay so it looks",
    "start": "2343280",
    "end": "2349760"
  },
  {
    "text": "like the server exists so i can issue the certificate so um this this thing also works",
    "start": "2349760",
    "end": "2355680"
  },
  {
    "start": "2355000",
    "end": "2530000"
  },
  {
    "text": "now let's switch gears and going into in interesting uh interesting routes so some of my customers came into me to say",
    "start": "2355680",
    "end": "2362400"
  },
  {
    "text": "hey uh we love your uh the back to future chuck norris but we want to have something like",
    "start": "2362400",
    "end": "2369040"
  },
  {
    "text": "some other some other services but we do have a mobile clients and uh on",
    "start": "2369040",
    "end": "2374079"
  },
  {
    "text": "the mobile they like to use jrpc uh can uh can you do this uh like some of the",
    "start": "2374079",
    "end": "2379599"
  },
  {
    "text": "service can will be exposed to grpc so and this is where we're going into the world of june",
    "start": "2379599",
    "end": "2387280"
  },
  {
    "text": "and my code service right now for june let me deploy this while i will be talking it will be",
    "start": "2387359",
    "end": "2396200"
  },
  {
    "text": "uh let me generate certificates for jrpc uh june",
    "start": "2400720",
    "end": "2406240"
  },
  {
    "text": "my dune service also exposed um",
    "start": "2406240",
    "end": "2411599"
  },
  {
    "text": "through grpcs secure jrpcs because i will be exposing this to outside world",
    "start": "2411599",
    "end": "2416960"
  },
  {
    "text": "uh generating new certificates already exist okay good",
    "start": "2416960",
    "end": "2422320"
  },
  {
    "text": "stuff so already already did this before and we just do dune",
    "start": "2422320",
    "end": "2430400"
  },
  {
    "text": "we're going back to this one and we'll just do",
    "start": "2431920",
    "end": "2437839"
  },
  {
    "text": "apply and do",
    "start": "2437839",
    "end": "2441760"
  },
  {
    "text": "creating service now so let's take a look how we can do this stuff with uh with with this differently so deployment",
    "start": "2443040",
    "end": "2450960"
  },
  {
    "text": "traditional deployment there is nothing special here um i just need to replace to the last uh",
    "start": "2450960",
    "end": "2456560"
  },
  {
    "text": "the latest but uh doesn't doesn't really matter so",
    "start": "2456560",
    "end": "2462800"
  },
  {
    "text": "this already server has jrpc secured enabled this is location of my certificates now",
    "start": "2462800",
    "end": "2469359"
  },
  {
    "text": "let's take a look on ingress how ingress looks like so it's also looks the same because it's",
    "start": "2469359",
    "end": "2475760"
  },
  {
    "text": "a still all same uh ingress but now we start getting more and more um",
    "start": "2475760",
    "end": "2481280"
  },
  {
    "text": "more and more annotations so we need to specify the annotation so this particular ingress",
    "start": "2481280",
    "end": "2486880"
  },
  {
    "text": "will be served not through http but http 2 which jrpc works on top of",
    "start": "2486880",
    "end": "2493119"
  },
  {
    "text": "and here i also like since i'm using this",
    "start": "2493119",
    "end": "2499119"
  },
  {
    "text": "um i want to use like secure grpc this is",
    "start": "2499119",
    "end": "2504240"
  },
  {
    "text": "where i'm integrating with the cert manager so sort manager will talk to let's encrypt and provide a",
    "start": "2504240",
    "end": "2511920"
  },
  {
    "text": "certificate for for my for my server and that's where the the acme insert manager comes into",
    "start": "2511920",
    "end": "2519520"
  },
  {
    "text": "play plus uh same thing for my dune i have this integrated with um",
    "start": "2519520",
    "end": "2526800"
  },
  {
    "text": "with with my external dns now here i specifying the service that i",
    "start": "2526800",
    "end": "2532560"
  },
  {
    "start": "2530000",
    "end": "2554000"
  },
  {
    "text": "need to hit and my servers now needs to have also special type of annotation here so now",
    "start": "2532560",
    "end": "2539760"
  },
  {
    "text": "it also needs to say that i'm talking to jrpc so that we can connect two dots",
    "start": "2539760",
    "end": "2545280"
  },
  {
    "text": "here so my clients came into kong in grpc and quank will be able to talk to the service in grpc",
    "start": "2545280",
    "end": "2553119"
  },
  {
    "text": "in jrpc style so luckily my",
    "start": "2553119",
    "end": "2558318"
  },
  {
    "start": "2554000",
    "end": "2645000"
  },
  {
    "text": "my insomnia also supports jrpc so i can test this one um i'm going to this url",
    "start": "2558400",
    "end": "2564960"
  },
  {
    "text": "uh do you want to call the pro looks like a bug yeah so called proxy dot me and we go",
    "start": "2564960",
    "end": "2571040"
  },
  {
    "text": "into a secure connection and if i will hit this under proxy dot me is not giving me",
    "start": "2571040",
    "end": "2578240"
  },
  {
    "text": "anything maybe because dns resolution is not working let's see",
    "start": "2578240",
    "end": "2586240"
  },
  {
    "text": "because always blame a dns if something doesn't work",
    "start": "2586240",
    "end": "2592079"
  },
  {
    "text": "okay so that looks like dns is not provided yet let's see if our",
    "start": "2592079",
    "end": "2598720"
  },
  {
    "text": "um my",
    "start": "2598720",
    "end": "2604079"
  },
  {
    "text": "external dns actually created everything what i need to have so uh here what i can see external dns",
    "start": "2604079",
    "end": "2612240"
  },
  {
    "text": "successfully created so it will some take some time to refresh dns",
    "start": "2612240",
    "end": "2618720"
  },
  {
    "text": "uh sometimes also helps to have",
    "start": "2618720",
    "end": "2625119"
  },
  {
    "text": "a good dns server for example one one one one usually this is works",
    "start": "2625119",
    "end": "2632160"
  },
  {
    "text": "fine it's cloudflare should be here we go so now we have this uh",
    "start": "2632160",
    "end": "2639440"
  },
  {
    "text": "again if you do live demos and something does work blind dns it's always kind of like it works",
    "start": "2639440",
    "end": "2645440"
  },
  {
    "start": "2645000",
    "end": "2766000"
  },
  {
    "text": "so uh what just happened here um now i was able to connect and",
    "start": "2645440",
    "end": "2650960"
  },
  {
    "text": "we start getting some of the uh responses uh from the",
    "start": "2650960",
    "end": "2657520"
  },
  {
    "text": "um from uh from this like jrpc jrpc service",
    "start": "2658000",
    "end": "2663119"
  },
  {
    "text": "and it looks like um this looks like it's a code from dune",
    "start": "2663119",
    "end": "2668480"
  },
  {
    "text": "so my pc service includes two things so i can continue to kind of hammer to get",
    "start": "2668480",
    "end": "2674000"
  },
  {
    "text": "new things but grpc also supports streaming so i can submit multiple responses back and my grpc service also",
    "start": "2674000",
    "end": "2682160"
  },
  {
    "text": "include let me show you my grpc definition",
    "start": "2682160",
    "end": "2688440"
  },
  {
    "text": "so this includes two services one is get quote another what get quote stream and uh i will go and submit the stream",
    "start": "2690079",
    "end": "2697920"
  },
  {
    "text": "and my response includes stream response from jrpc and the response also getting through",
    "start": "2697920",
    "end": "2704960"
  },
  {
    "text": "true cong and fortunately for some reasons insomnia doesn't show me these headers let me show a grpc",
    "start": "2704960",
    "end": "2713680"
  },
  {
    "text": "grpc grpc grpc where is my grpc",
    "start": "2713680",
    "end": "2719839"
  },
  {
    "text": "curl and the heating june",
    "start": "2719839",
    "end": "2726160"
  },
  {
    "text": "your pc euro and we're going for june yeah so for",
    "start": "2726160",
    "end": "2731599"
  },
  {
    "text": "example this one we don't need to do this and we also",
    "start": "2731599",
    "end": "2738240"
  },
  {
    "text": "minus v should show us headers so um also we have a header saying that",
    "start": "2740000",
    "end": "2747119"
  },
  {
    "text": "uh response comes from kong uh even if it's uh jrpc stuff so that looks looks",
    "start": "2747119",
    "end": "2752960"
  },
  {
    "text": "cool um now same ingress um again everything goes through one uh one",
    "start": "2752960",
    "end": "2758400"
  },
  {
    "text": "server so still uh one process that handles all these type of things",
    "start": "2758400",
    "end": "2764160"
  },
  {
    "text": "um next thing that some of my customers just decide okay",
    "start": "2764160",
    "end": "2769440"
  },
  {
    "text": "we really want to have this quote service somewhere where we don't have uh we have like a very um",
    "start": "2769440",
    "end": "2776880"
  },
  {
    "text": "requirements on like a dealing with the payload uh we don't want to deal with the http we don't want to deal with",
    "start": "2776880",
    "end": "2782640"
  },
  {
    "text": "https uh we want to do some stuff around um mgudp",
    "start": "2782640",
    "end": "2789040"
  },
  {
    "text": "or some of the use cases that not like superconvoluted like mine but like you",
    "start": "2789040",
    "end": "2794079"
  },
  {
    "text": "want to deploy i don't know dns server in your kubernetes cluster and dns also talks through udp",
    "start": "2794079",
    "end": "2800400"
  },
  {
    "text": "or you want to deploy your vpn server in your comments cluster and you need to expose it so this is where",
    "start": "2800400",
    "end": "2806960"
  },
  {
    "text": "we're going into the interesting route now um for that i need to",
    "start": "2806960",
    "end": "2812960"
  },
  {
    "text": "enable another listener so with this um if i will just go key get",
    "start": "2812960",
    "end": "2819440"
  },
  {
    "text": "services clog right now it's just everything goes through one listener",
    "start": "2819440",
    "end": "2825040"
  },
  {
    "text": "because it was l7 protocols and we can do this through the one thing and even we do http and",
    "start": "2825040",
    "end": "2831760"
  },
  {
    "text": "cp2 multiplexing here we need to have a little bit more we need to enable another",
    "start": "2831760",
    "end": "2838319"
  },
  {
    "text": "another listener here so uh oh i didn't show you uh this so all this",
    "start": "2838319",
    "end": "2844000"
  },
  {
    "text": "time all this time i was there was a plugin that was enabled on",
    "start": "2844000",
    "end": "2849359"
  },
  {
    "text": "the cluster that i showed earlier",
    "start": "2849359",
    "end": "2857000"
  },
  {
    "text": "cluster plug-in parameters that was collecting all the metrics uh all these requests that i was hearing and",
    "start": "2859119",
    "end": "2865119"
  },
  {
    "text": "collected this and displayed this in the grafana um so let me refresh this one um so all",
    "start": "2865119",
    "end": "2873040"
  },
  {
    "text": "this is my services that we already have right now in in this in this particular case so we",
    "start": "2873040",
    "end": "2879920"
  },
  {
    "text": "have a back to future we have a chuck norris and we should have we should have",
    "start": "2879920",
    "end": "2885040"
  },
  {
    "text": "june here so let's see let's uh two check check notice because we're running uh two instances so those",
    "start": "2885040",
    "end": "2891040"
  },
  {
    "text": "two services uh i i'm it's strange that i don't see um i don't see any uh dune service maybe",
    "start": "2891040",
    "end": "2898800"
  },
  {
    "text": "it's uh it's not there yet for some reasons uh but yeah so all this like metrics was",
    "start": "2898800",
    "end": "2904079"
  },
  {
    "text": "collecting that that's like some ridiculous number because i was running this like for a couple days so",
    "start": "2904079",
    "end": "2909520"
  },
  {
    "text": "it's not what we did right now it's uh for for quite some time um and all these",
    "start": "2909520",
    "end": "2914880"
  },
  {
    "text": "metrics will be collected automatically and but just by enabling this plugin so",
    "start": "2914880",
    "end": "2920000"
  },
  {
    "text": "that's something that also you will getting for free uh when when you enable like this like api",
    "start": "2920000",
    "end": "2926000"
  },
  {
    "text": "gateway for the services monitoring of the services and where you know we're hitting those and",
    "start": "2926000",
    "end": "2932319"
  },
  {
    "text": "then so far so on shark june yeah so we do have all these",
    "start": "2932319",
    "end": "2937839"
  },
  {
    "text": "uh routes here so but because i'm just doing like one request so that's why it shows um not much okay",
    "start": "2937839",
    "end": "2945119"
  },
  {
    "start": "2945000",
    "end": "3096000"
  },
  {
    "text": "now i need to um i need to enable this",
    "start": "2945119",
    "end": "2950800"
  },
  {
    "text": "uh this is uh this is the part of um this is the part of the helm chart that will tell",
    "start": "2950800",
    "end": "2958480"
  },
  {
    "text": "um uh the quant to deploy another service with type load balancer but in",
    "start": "2958480",
    "end": "2964000"
  },
  {
    "text": "this case we're going to be using the service only for um for udp and",
    "start": "2964000",
    "end": "2970880"
  },
  {
    "text": "here i also will enable my uh my tcp because i don't want to go",
    "start": "2970880",
    "end": "2976640"
  },
  {
    "text": "this twice and i will show you tcp afterwards um with this",
    "start": "2976640",
    "end": "2982559"
  },
  {
    "text": "i just need to go ahead and um and install this just to do helm",
    "start": "2982559",
    "end": "2988720"
  },
  {
    "text": "upgrade and so what it will do um it will generate",
    "start": "2988720",
    "end": "2995920"
  },
  {
    "text": "new helm release anyone using helm to deploy stuff so helm essentially it is a",
    "start": "2995920",
    "end": "3001599"
  },
  {
    "text": "tool where you can package your software provide all possible configurations",
    "start": "3001599",
    "end": "3007760"
  },
  {
    "text": "and we do have some like a quick start urls that you can just like import and start",
    "start": "3007760",
    "end": "3013760"
  },
  {
    "text": "using calling but i consider um helm is the only one production supported",
    "start": "3013760",
    "end": "3020880"
  },
  {
    "text": "uh way how you can deploy and uh configure clone here so now if i will",
    "start": "3020880",
    "end": "3026480"
  },
  {
    "text": "run the services i will have two more as you can see here",
    "start": "3026480",
    "end": "3031680"
  },
  {
    "text": "uh one more not two more sorry but since i enabled um",
    "start": "3031680",
    "end": "3038240"
  },
  {
    "text": "since i enabled uh tcp listener as well now the um when i go to this ip address",
    "start": "3038240",
    "end": "3046000"
  },
  {
    "text": "port 80 will serve http port 443 sir https and port 9000 will serve all uh",
    "start": "3046000",
    "end": "3054319"
  },
  {
    "text": "possible tcp uh tcp stuff so so now now we have this um",
    "start": "3054319",
    "end": "3061040"
  },
  {
    "text": "available so this is the your this is the ip address that we're going to be using to talk uh to udp uh gdp uh",
    "start": "3061040",
    "end": "3068960"
  },
  {
    "text": "payload so uh i'll just go to",
    "start": "3068960",
    "end": "3074558"
  },
  {
    "text": "udp yup udp service",
    "start": "3074880",
    "end": "3080400"
  },
  {
    "text": "um and i'll just do kubernetes",
    "start": "3080400",
    "end": "3088559"
  },
  {
    "text": "so while it's doing this let me show you what it actually does so we go into here",
    "start": "3089920",
    "end": "3096720"
  },
  {
    "start": "3096000",
    "end": "3234000"
  },
  {
    "text": "with this uh udp ingress is the custom resource that uh nothing to do with kubernetes because kubernetes doesn't",
    "start": "3096720",
    "end": "3102880"
  },
  {
    "text": "know anything about udp so that's why we need to come up with something how we can kind of configure this and uh this",
    "start": "3102880",
    "end": "3108400"
  },
  {
    "text": "pretty much looks like your traditional address except it's a custom resource from the column space uh from the uh",
    "start": "3108400",
    "end": "3114800"
  },
  {
    "text": "configuration called beta1 ugp ingress and we i need to specify what kind of",
    "start": "3114800",
    "end": "3120000"
  },
  {
    "text": "service i need to be exposing so um if i will hit this url or this ip address",
    "start": "3120000",
    "end": "3126559"
  },
  {
    "text": "wait to port 9999 i should get access to my udp server the easiest way to connect",
    "start": "3126559",
    "end": "3133040"
  },
  {
    "text": "this we're going to be using netcat and c",
    "start": "3133040",
    "end": "3139280"
  },
  {
    "text": "and uh when i hit this this is where we're gonna be starting interacting with my api server through",
    "start": "3139280",
    "end": "3147680"
  },
  {
    "text": "udp and who can pick up which quotes",
    "start": "3147680",
    "end": "3152880"
  },
  {
    "text": "are here",
    "start": "3152880",
    "end": "3155599"
  },
  {
    "text": "louder rick and morty so my rick and morty quote service available through udp um",
    "start": "3158800",
    "end": "3165599"
  },
  {
    "text": "you know if you have uh your netcat on your phone you can actually",
    "start": "3165599",
    "end": "3170640"
  },
  {
    "text": "hit this and you will get um udp stuff in uh in your",
    "start": "3170640",
    "end": "3178559"
  },
  {
    "text": "in your in your browser or or on your phone so let's see if we",
    "start": "3178559",
    "end": "3183920"
  },
  {
    "text": "have let me refresh this dashboard uh and if i will see",
    "start": "3183920",
    "end": "3190240"
  },
  {
    "text": "some udp service appeared here so all my services my two chuck norris",
    "start": "3190240",
    "end": "3196960"
  },
  {
    "text": "services uh let's do this bigger my",
    "start": "3196960",
    "end": "3204160"
  },
  {
    "text": "another 24 hours let's do last last hour i have five more minutes to to show you",
    "start": "3204160",
    "end": "3209680"
  },
  {
    "text": "something uh june chuck norris um udp is not there yet for some reasons it",
    "start": "3209680",
    "end": "3216160"
  },
  {
    "text": "doesn't show me let's see last five minutes",
    "start": "3216160",
    "end": "3221720"
  },
  {
    "text": "should be here maybe it will take some time now and uh before we um before we part",
    "start": "3222400",
    "end": "3228160"
  },
  {
    "text": "um sometimes uh people asking questions about how i can",
    "start": "3228160",
    "end": "3235119"
  },
  {
    "start": "3234000",
    "end": "3452000"
  },
  {
    "text": "how i can to test the the the connectivity it's not people asking it's the first question i'm asking people",
    "start": "3235119",
    "end": "3241040"
  },
  {
    "text": "when the people saying something is slow and uh define slow and how we can measure and uh that's kind of like idea",
    "start": "3241040",
    "end": "3248240"
  },
  {
    "text": "behind this particular example so i deploy iperf server how many of you heard about iperf",
    "start": "3248240",
    "end": "3255040"
  },
  {
    "text": "that's something that you need to learn today if you don't use it today because this is the",
    "start": "3255040",
    "end": "3260160"
  },
  {
    "text": "the moment when your system administrator will tell you oh like your application is slow our",
    "start": "3260160",
    "end": "3266880"
  },
  {
    "text": "our network is awesome this is where you bring the iperf and say no your network suck my application is great this is",
    "start": "3266880",
    "end": "3274079"
  },
  {
    "text": "numbers that i have and this is where uh iperf will help you so essentially it contains two parts it contains um it's",
    "start": "3274079",
    "end": "3280880"
  },
  {
    "text": "one binary but it can be client and can be server so i'm deploying server in my kubernetes cluster and start this with",
    "start": "3280880",
    "end": "3287599"
  },
  {
    "text": "the server my iperf",
    "start": "3287599",
    "end": "3293520"
  },
  {
    "text": "so let's see uh",
    "start": "3293520",
    "end": "3298240"
  },
  {
    "text": "so i can hit 95. so 95 is the my calling proxy dot me so i can i can",
    "start": "3299040",
    "end": "3305839"
  },
  {
    "text": "potentially hit this yeah so if i will do something like",
    "start": "3305839",
    "end": "3311520"
  },
  {
    "text": "uh oops",
    "start": "3311520",
    "end": "3316318"
  },
  {
    "text": "proxy dot me um i'm hitting port 9000 that's what tcp",
    "start": "3318720",
    "end": "3324800"
  },
  {
    "text": "is listener for and let's see how fast my connection between",
    "start": "3324800",
    "end": "3330319"
  },
  {
    "text": "the wi-fi that that's my wi-fi communication between my data's",
    "start": "3330319",
    "end": "3335599"
  },
  {
    "text": "main micro brands cluster that in east coast in google cloud",
    "start": "3335599",
    "end": "3340640"
  },
  {
    "text": "and it's it's okay right so because it's going through ingress it's also going through like all this like kubernetes",
    "start": "3340640",
    "end": "3347200"
  },
  {
    "text": "the hubs and this is how we can measure measure like your your performance or like your",
    "start": "3347200",
    "end": "3353680"
  },
  {
    "text": "throughput of your like gateway because everything right now goes through the tcp socket on my congr side",
    "start": "3353680",
    "end": "3360640"
  },
  {
    "text": "of things um that's uh that's what i wanted to show",
    "start": "3360640",
    "end": "3366240"
  },
  {
    "text": "you if you want to learn more about this type of jazz i have tons of videos i do",
    "start": "3366240",
    "end": "3371520"
  },
  {
    "text": "bi-weekly streams on the clonk youtube channel where i'm kind of like sitting here and just okay let's",
    "start": "3371520",
    "end": "3377040"
  },
  {
    "text": "um let's like hack around with something let's break things and um",
    "start": "3377040",
    "end": "3382319"
  },
  {
    "text": "it's usually not um not scripted so things usually break uh",
    "start": "3382319",
    "end": "3388640"
  },
  {
    "text": "but it's fun where i can talk to people and they can suggest some of these things how we can fix that um and i also",
    "start": "3388640",
    "end": "3395119"
  },
  {
    "text": "have tons of the videos about how to configure quantum kubernetes and not only in kubernetes",
    "start": "3395119",
    "end": "3402079"
  },
  {
    "text": "with um we are going to be doing a kong summit which is uh",
    "start": "3402079",
    "end": "3408720"
  },
  {
    "text": "our gathering that we have uh almost every every fall in san francisco where we're",
    "start": "3408720",
    "end": "3414400"
  },
  {
    "text": "talking about the old technologies around the cloud connectivity service meshes",
    "start": "3414400",
    "end": "3419520"
  },
  {
    "text": "uh quank and some some other things um if you're interested to check this out",
    "start": "3419520",
    "end": "3424799"
  },
  {
    "text": "um youtube channel joincon community and uh with this my name is victor gamov",
    "start": "3424799",
    "end": "3430480"
  },
  {
    "text": "and as always have a nice day",
    "start": "3430480",
    "end": "3435559"
  },
  {
    "text": "you",
    "start": "3451920",
    "end": "3454000"
  }
]