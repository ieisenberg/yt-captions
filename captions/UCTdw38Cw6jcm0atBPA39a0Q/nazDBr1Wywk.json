[
  {
    "text": "okay may as well get started welcome everyone um thank you for choosing to",
    "start": "9240",
    "end": "14480"
  },
  {
    "text": "spend this slot in this session you you could have been anywhere else in this building learning a lot of useful things but instead you're here to talk about",
    "start": "14480",
    "end": "20880"
  },
  {
    "text": "cats that's a a good use of your time my name is William and I want to",
    "start": "20880",
    "end": "26519"
  },
  {
    "text": "start with a disclaimer so I am not a cat person now for those of you that are dog people",
    "start": "26519",
    "end": "32558"
  },
  {
    "text": "in the room don't get too excited because I'm not a dog person either I think if I'm limiting myself to be a one",
    "start": "32559",
    "end": "38800"
  },
  {
    "text": "type of animal person that's a bit too restrictive I like dogs I like cats I like mice I like birds I like goats pigs",
    "start": "38800",
    "end": "46399"
  },
  {
    "text": "cows anything as long as the animal is affectionate wants to play with me enjoys head scratches and Cuddles it's a",
    "start": "46399",
    "end": "52640"
  },
  {
    "text": "great animal to be around in fact when I was growing up my grandparents had a farm and on that farm there was a cow EI",
    "start": "52640",
    "end": "61359"
  },
  {
    "text": "EO um I'm sorry you you deserve better than that you're you're not going to get better than that in this session though",
    "start": "61359",
    "end": "67320"
  },
  {
    "text": "so too bad they had a cow and this cow was my favorite cow in the entire world it was",
    "start": "67320",
    "end": "72759"
  },
  {
    "text": "it was this light brown color if you sort of squinted in the sunlight would have like a little bit of red tinge to",
    "start": "72759",
    "end": "78000"
  },
  {
    "text": "it it was a very cute cow I called it Rex she was probably about this tall",
    "start": "78000",
    "end": "83159"
  },
  {
    "text": "although I was a lot shorter then so in hindsight probably about this tall and in the mornings they used to wake up and",
    "start": "83159",
    "end": "89600"
  },
  {
    "text": "and leave leave the sort of Farmhouse area and go to where the animals were kept the livestock and as I walk through",
    "start": "89600",
    "end": "95360"
  },
  {
    "text": "the gate into where the animals were kept Rex this cow would come running towards me very very happy to see me and",
    "start": "95360",
    "end": "101040"
  },
  {
    "text": "we would play and walk and she'd follow me around all day in fact I used to play fetch with her so I would take a stick",
    "start": "101040",
    "end": "107759"
  },
  {
    "text": "or a a seed pod or something like that and I'd show it to her and I'd throw it and I swear every word of this is true",
    "start": "107759",
    "end": "113920"
  },
  {
    "text": "so I would throw the stick and she would completely ignore it but when I went to go fetch the stick she would walk along",
    "start": "113920",
    "end": "120320"
  },
  {
    "text": "right next to me bumping against me having a good old time so any sort of animal that likes affection and likes to",
    "start": "120320",
    "end": "126799"
  },
  {
    "text": "play with people that's what I'm sort of into now in this session we're going to be talking about securing modular",
    "start": "126799",
    "end": "132920"
  },
  {
    "text": "monolith and oh I cannot say that word security is a big topic um there's",
    "start": "132920",
    "end": "138640"
  },
  {
    "text": "Consultants that make a lot of money going into a lot of detail about some of these things I'm not one of those people",
    "start": "138640",
    "end": "144879"
  },
  {
    "text": "and I want to make sure that I'm giving you what you want out of this talk so before we spend an hour and I don't cover what you want me to cover I'm",
    "start": "144879",
    "end": "151599"
  },
  {
    "text": "going to list exactly what I'm going to talk about for you so that you can decide whether or not you want to go and learn about G or something else so",
    "start": "151599",
    "end": "158120"
  },
  {
    "text": "you're not forced to sit in the session and get right to the end and then say well William didn't cover what I wanted",
    "start": "158120",
    "end": "163920"
  },
  {
    "text": "otherwise you're not having a good time so we've got the dog things on the left",
    "start": "163920",
    "end": "169120"
  },
  {
    "text": "those are the things I'm not covering because this is a cat talk so all the things on the right are what we are going to be",
    "start": "169120",
    "end": "174159"
  },
  {
    "text": "covering I'm not covering authentication I'm going to assume that you have some way of authenticating users within your",
    "start": "174159",
    "end": "179879"
  },
  {
    "text": "your application and when they present themselves to your application they've got some token that proves that they are authenticated",
    "start": "179879",
    "end": "186159"
  },
  {
    "text": "correctly I'm also going to assume that you've got TLS encryption set up between all the components of your system if you",
    "start": "186159",
    "end": "192400"
  },
  {
    "text": "don't have mtls or you don't have transport level security between the bits of your system that you're talking to I'm not going to tell you how to set",
    "start": "192400",
    "end": "199200"
  },
  {
    "text": "that up in this case I'm not going to be covering token exchanges but I will cover briefly why",
    "start": "199200",
    "end": "205879"
  },
  {
    "text": "token exchanges may be useful so token exchanges are where you take one token and you swap it out for another one",
    "start": "205879",
    "end": "211040"
  },
  {
    "text": "before you do another request I'm not going to cover the the tools and techniques that allow you to do that but we will talk about why you might want",
    "start": "211040",
    "end": "218239"
  },
  {
    "text": "to I'm not going to tell you how to secure databases or file shares or anything like that that's honestly not",
    "start": "218239",
    "end": "223519"
  },
  {
    "text": "an an area that I spend a lot a lot of time in so I'm not the right person to tell you how to do that and then finally",
    "start": "223519",
    "end": "229799"
  },
  {
    "text": "I'm not going to cover any front- End security because I am not a front end person at all um in fact my front ends",
    "start": "229799",
    "end": "237079"
  },
  {
    "text": "are typically so secure because nobody can use them they're so horrible and that's why I won't be",
    "start": "237079",
    "end": "242360"
  },
  {
    "text": "showing you how to do that what we will be covering in this talk though is we will cover why tracking identity is",
    "start": "242360",
    "end": "248599"
  },
  {
    "text": "important especially in the context of a modular monolith we'll also take a look at the basics of zero trust in messaging",
    "start": "248599",
    "end": "255280"
  },
  {
    "text": "systems so a modular monolith in essence is a message based system and we're going to take a look at zero trust and",
    "start": "255280",
    "end": "261639"
  },
  {
    "text": "why parts of it would apply and which parts are important to look at and which parts you can safely",
    "start": "261639",
    "end": "266880"
  },
  {
    "text": "ignore we'll also take a look at personalization of of data so personalization or in application Level",
    "start": "266880",
    "end": "272880"
  },
  {
    "text": "security there's three phases you've got authentication which is I am William this is the proof that I am William",
    "start": "272880",
    "end": "278560"
  },
  {
    "text": "you've got authorization which is I'm allowed to do this and personalization is the third aspect of that where you",
    "start": "278560",
    "end": "284800"
  },
  {
    "text": "get a slightly different experience based on who is accessing the system we'll also cover token",
    "start": "284800",
    "end": "290880"
  },
  {
    "text": "exploration and why that's something you need to be aware of within modular monoliths um and then we will cover how",
    "start": "290880",
    "end": "297840"
  },
  {
    "text": "versioning affects the security of your application so as you deploy V1 and V2 and V3 what that means for the security",
    "start": "297840",
    "end": "304720"
  },
  {
    "text": "in your system and because I know there's at least one or two of you in the audience for it you don't have to worry there will of course be cat memes",
    "start": "304720",
    "end": "311880"
  },
  {
    "text": "plenty throughout this talk so do not worry about that if that's what you're after I'd like to introduce you to the",
    "start": "311880",
    "end": "318960"
  },
  {
    "text": "inspiration for this talk this is Butterbean uh he's my cat everybody calls him but not because that is short",
    "start": "318960",
    "end": "325160"
  },
  {
    "text": "for butter bean but because he is an  he's the grumpiest cat I've ever met in my life he doesn't like anybody",
    "start": "325160",
    "end": "331759"
  },
  {
    "text": "except my daughter which is why I can safely say you are not his favorite person because you are not her she is",
    "start": "331759",
    "end": "337919"
  },
  {
    "text": "not here he only likes her and that is it so let's take a look at a modular",
    "start": "337919",
    "end": "346280"
  },
  {
    "text": "month what is a modular monolith it might be useful to start with the word monolith and then see how",
    "start": "347520",
    "end": "355039"
  },
  {
    "text": "modular fits into that so a monolith is an application that is deployed as an entire unit it will be one application",
    "start": "355039",
    "end": "362160"
  },
  {
    "text": "that you run all of the code for the system all of the capabilities that your system exposes live within that one code",
    "start": "362160",
    "end": "368440"
  },
  {
    "text": "base and that one application process this makes development really easy because there's just one application",
    "start": "368440",
    "end": "374840"
  },
  {
    "text": "that you're working on it also makes deployment really easy but the downsides",
    "start": "374840",
    "end": "380000"
  },
  {
    "text": "are usually it's easy to get tight coupling between the different components within your module within",
    "start": "380000",
    "end": "385919"
  },
  {
    "text": "your monolith and then you end up with what we call a big ball of which is really difficult to work with so a",
    "start": "385919",
    "end": "392000"
  },
  {
    "text": "monolith is one application that is deployed on the other end of the spectrum we might have something like microservices or you go further and just",
    "start": "392000",
    "end": "399280"
  },
  {
    "text": "do functions as a service where microservices each capability that your application exposes would be deployed as",
    "start": "399280",
    "end": "406000"
  },
  {
    "text": "its own separate process that you run and you could then manage those via kubernetes or containers or whatever you",
    "start": "406000",
    "end": "412840"
  },
  {
    "text": "want so the benefits of microservices are because they communicate via messaging and they don't invoke code",
    "start": "412840",
    "end": "419280"
  },
  {
    "text": "Direct IR ly it's much harder to introduce tight coupling between the different capabilities of your system",
    "start": "419280",
    "end": "425319"
  },
  {
    "text": "but the downsides are it's really difficult to work with that development time because you might have to spin up 20 30 40 different instances of these",
    "start": "425319",
    "end": "432960"
  },
  {
    "text": "different components so that you can actually get your system working in as a whole a modular monolith is a hybrid",
    "start": "432960",
    "end": "440840"
  },
  {
    "text": "between the two it's a compromise where you develop your application as a monolith everything is deployed",
    "start": "440840",
    "end": "445960"
  },
  {
    "text": "internally within one application but the components within that application the modules never",
    "start": "445960",
    "end": "452840"
  },
  {
    "text": "communicate directly with each other they would instead communicate via messaging through an implementation of",
    "start": "452840",
    "end": "458680"
  },
  {
    "text": "the mediator pattern so you would have the mediator pattern and all the modules within your monolith would send messages",
    "start": "458680",
    "end": "465599"
  },
  {
    "text": "or publish events and the mediator pattern would route them to where they need to go what this enables then is that if you",
    "start": "465599",
    "end": "472720"
  },
  {
    "text": "ever do need to take part of your system and scale it out separately so if you take a one module within our application",
    "start": "472720",
    "end": "479080"
  },
  {
    "text": "we can take that module out and move it to a separate runtime and have it run on its own there because it's no longer in",
    "start": "479080",
    "end": "486879"
  },
  {
    "text": "process anymore though we need a way of communicating with it still and in this case most people would introduce some",
    "start": "486879",
    "end": "491960"
  },
  {
    "text": "type of message broker and then that module would talk to the message broker and the implementation of the mediator",
    "start": "491960",
    "end": "497840"
  },
  {
    "text": "pattern would decide whether or not a message needs to leave the process and if it does it will put that message on",
    "start": "497840",
    "end": "503319"
  },
  {
    "text": "the message broker and then route it to the uh the module that has been deployed separately",
    "start": "503319",
    "end": "510000"
  },
  {
    "text": "so a modular monoth the intention behind it is to still maintain low coupling",
    "start": "510000",
    "end": "515159"
  },
  {
    "text": "while getting ease of deployment and ease of development um so that you can get options in the future to scale",
    "start": "515159",
    "end": "521360"
  },
  {
    "text": "things out if you need to and this is exactly like getting a cat the analogy",
    "start": "521360",
    "end": "527959"
  },
  {
    "text": "might be stretched a little thin but it's exactly the same because if you get a kitten the first thing you do is you",
    "start": "527959",
    "end": "533200"
  },
  {
    "text": "don't deploy your kitten within an application runtime you deploy your kitten within a safe room in the house",
    "start": "533200",
    "end": "538480"
  },
  {
    "text": "and you typically keep the kitten there for somewhere between a week and two weeks until they're comfortable with the",
    "start": "538480",
    "end": "543680"
  },
  {
    "text": "house or the the room that they're in instead of an API Gateway you'd have a name that you would interact with a cat",
    "start": "543680",
    "end": "549360"
  },
  {
    "text": "with and instead of modules you'd have different capabilities that your safe room has for the cat you would have toys",
    "start": "549360",
    "end": "555240"
  },
  {
    "text": "for the cat to play with you'd have food that it can eat in the room you'd have a litter box because food has another part",
    "start": "555240",
    "end": "560880"
  },
  {
    "text": "to it that you need to deal with right um and I will admit the analogy breaks down a little bit here so instead",
    "start": "560880",
    "end": "567480"
  },
  {
    "text": "of a mediator bus to talk between these components you'll just play with the cat and give it affection and attention and",
    "start": "567480",
    "end": "572920"
  },
  {
    "text": "let it know that you are now its people eventually though you can start taking some of these capabilities out of",
    "start": "572920",
    "end": "579399"
  },
  {
    "text": "the cat's safe room and move it somewhere else so you can take the litter box and move it to the bathroom for instance and now suddenly the cat",
    "start": "579399",
    "end": "585800"
  },
  {
    "text": "has slowly got access to more of the house you can eventually let the cat play with the rest of the house this is",
    "start": "585800",
    "end": "590839"
  },
  {
    "text": "a picture of butter bean when he was a kitten um originally when we got him from the rescue center they said he was",
    "start": "590839",
    "end": "596200"
  },
  {
    "text": "a girl so that was weird that's why he's got a little pink collar on and his name was Cammy back",
    "start": "596200",
    "end": "602839"
  },
  {
    "text": "then so let's take a look at what happens when you let your modular monolith out so once you take your",
    "start": "602839",
    "end": "607920"
  },
  {
    "text": "monolith and you scale something out what does that mean for security uh this is a picture of a cat",
    "start": "607920",
    "end": "614079"
  },
  {
    "text": "called Yan it's a friend of mine Renee na who's got this cat it is not a picture of the cat butt but it is a",
    "start": "614079",
    "end": "620200"
  },
  {
    "text": "picture of a cat butt so I think it might still work now when we take our modular",
    "start": "620200",
    "end": "626440"
  },
  {
    "text": "monolith and that someone interacts with our system what they would do is they would present some sort of user token to",
    "start": "626440",
    "end": "632079"
  },
  {
    "text": "say I am William here's the token that proves that I am William and all they have to do is pass that token into the",
    "start": "632079",
    "end": "638880"
  },
  {
    "text": "API Gateway and then most of the Frameworks you used to develop this will be able to read the user token from",
    "start": "638880",
    "end": "645040"
  },
  {
    "text": "system thread current principle or something like that you can just get the context of who is using your system U",
    "start": "645040",
    "end": "650959"
  },
  {
    "text": "from uh from the code within your application and this works really",
    "start": "650959",
    "end": "657240"
  },
  {
    "text": "well but what happens if you move a module out so this module that we've moved out we've scaled this part",
    "start": "657240",
    "end": "663519"
  },
  {
    "text": "out now our application needs to talk via message broker and then our mediator patent talks to that message broker so",
    "start": "663519",
    "end": "669480"
  },
  {
    "text": "we able to get the the parts of the system talking to each other but we no longer have that identity associated",
    "start": "669480",
    "end": "675880"
  },
  {
    "text": "with the user in process because module c is now out of process we don't have",
    "start": "675880",
    "end": "681040"
  },
  {
    "text": "the user information so what tend what we tend to do is when we send a message uh from a",
    "start": "681040",
    "end": "688000"
  },
  {
    "text": "module within our system a good approach is to include some sort of representation of the user identity",
    "start": "688000",
    "end": "693920"
  },
  {
    "text": "along with that so as the message flows through the mediator pattern across theage broker and back into the inbox of",
    "start": "693920",
    "end": "700519"
  },
  {
    "text": "the module that we've scaled out if we include the identity as part of that message either as a header or explicit",
    "start": "700519",
    "end": "706800"
  },
  {
    "text": "property on the message it means that we've got that identity that persists even across a separate",
    "start": "706800",
    "end": "712880"
  },
  {
    "text": "process so an an example of doing this might be if we have a charge credit card message perhaps just adding a property",
    "start": "712880",
    "end": "718959"
  },
  {
    "text": "on their that says this is the user ID that triggered this action we'll revisit this a little bit",
    "start": "718959",
    "end": "724760"
  },
  {
    "text": "later in the talk because this doesn't always work but you need to at least think about having some sort of way of",
    "start": "724760",
    "end": "730320"
  },
  {
    "text": "passing that identity across uh the application when you're working with it",
    "start": "730320",
    "end": "735399"
  },
  {
    "text": "so B Bean loves people person I should say he loves my daughter and he loves to lie on her chest but everything he does",
    "start": "735399",
    "end": "741839"
  },
  {
    "text": "has to be around her for him the action of the person is involved in everything he does if she's in bed or at school or",
    "start": "741839",
    "end": "748480"
  },
  {
    "text": "something and he wants attention like this he'll settle for someone else's chest so the person is still involved in what he's doing it's really annoying",
    "start": "748480",
    "end": "755360"
  },
  {
    "text": "when you're trying to read a book because if you ly bit reading a book like this he'll put his head here and bump you and annoy you and eventually",
    "start": "755360",
    "end": "761199"
  },
  {
    "text": "you have to lie like this so you can read really annoying thing to do but",
    "start": "761199",
    "end": "767320"
  },
  {
    "text": "when you are in the modular monolith and you're going to send a message start thinking about well can I package a user",
    "start": "767320",
    "end": "772560"
  },
  {
    "text": "as part of this message so that when I send it it's got some identity that goes along with the message and we'll revisit",
    "start": "772560",
    "end": "778760"
  },
  {
    "text": "ways can do this in a little bit as well so even when you're working within a modular monolith long before you think",
    "start": "778760",
    "end": "784959"
  },
  {
    "text": "about scaling Parts out include a user identity as part of the messages that you send so that you don't rely on",
    "start": "784959",
    "end": "791240"
  },
  {
    "text": "having that information contextually available later on it will make your life a lot easier in the",
    "start": "791240",
    "end": "797680"
  },
  {
    "text": "future let's take a look at authorization so this is a picture of my driveway B beans one of his favorite",
    "start": "797680",
    "end": "804199"
  },
  {
    "text": "places because the dogs can't get there so they can't annoy him it's sunny it's warm there's a tree that he can scratch",
    "start": "804199",
    "end": "809639"
  },
  {
    "text": "and sharpen his claws on there's lizards he can hunt and pounce if he's feeling playful he quite likes the spot and if I",
    "start": "809639",
    "end": "817680"
  },
  {
    "text": "have to take the dpin out on collection day the driveway is probably about 30 m or so give or take so I take the dpin up",
    "start": "817680",
    "end": "825399"
  },
  {
    "text": "with me and he gets very affectionate he rubs himself my legs he's very happy that I'm taking the rubbish out up until",
    "start": "825399",
    "end": "830880"
  },
  {
    "text": "I turn around and try come back down the driveway then he gets angry he attacks me he tries to scratch my legs he bites",
    "start": "830880",
    "end": "837279"
  },
  {
    "text": "I have to try and run to outpace him on the way back down the driveway it's like in his mind he thinks oh you're leaving",
    "start": "837279",
    "end": "843560"
  },
  {
    "text": "now forever that dust that you're taking must be your most prized possessions goodbye don't let the door hit you on",
    "start": "843560",
    "end": "848759"
  },
  {
    "text": "the way out and as soon as I turn around he's angry that I'm coming back into his house he's trying to say no you're not",
    "start": "848759",
    "end": "854240"
  },
  {
    "text": "allowed in what an  so before we get into",
    "start": "854240",
    "end": "859320"
  },
  {
    "text": "authorization I just want to do a quick recap on the difference between commands and events because it is material in",
    "start": "859320",
    "end": "864600"
  },
  {
    "text": "this case so command is sent to a specific logical owner think charge credit card multiple places can request",
    "start": "864600",
    "end": "872079"
  },
  {
    "text": "that a a credit card gets charged but it should go to one module that owns the charging of credit card information so",
    "start": "872079",
    "end": "879480"
  },
  {
    "text": "it can come from multiple places but it goes to one logical place the opposite",
    "start": "879480",
    "end": "884920"
  },
  {
    "text": "of this is events they are published by a specific owner and they can go to multiple places so once a user's credit",
    "start": "884920",
    "end": "891959"
  },
  {
    "text": "card has successfully been charged that module would publish an event to say users credit card successfully charged",
    "start": "891959",
    "end": "898440"
  },
  {
    "text": "or credit card denial or something like that so it comes from one place and it can go to many different interested",
    "start": "898440",
    "end": "905399"
  },
  {
    "text": "parties so how do we authorize this in message based systems um well the first",
    "start": "905399",
    "end": "911160"
  },
  {
    "text": "thing I'm going to do is we've got a lot of stuff in this picture I'm going to simplify it a little bit because the API",
    "start": "911160",
    "end": "916240"
  },
  {
    "text": "Gateway doesn't really matter for explanation here I'm also going to get rid of some of the other modules just so",
    "start": "916240",
    "end": "921680"
  },
  {
    "text": "we've got a slightly simpler picture that we can talk about so we've got internal modules module a b d e f",
    "start": "921680",
    "end": "927600"
  },
  {
    "text": "whatever I'm not going to show them and they are talking to external module module C via mediator and the message",
    "start": "927600",
    "end": "933839"
  },
  {
    "text": "broker now when we send commands once a command needs to leave",
    "start": "933839",
    "end": "939079"
  },
  {
    "text": "our modular monolith we Lo lose the safety of that inprocess communication",
    "start": "939079",
    "end": "944360"
  },
  {
    "text": "which means if we take a message we send it via mediator mediator says actually this needs to go to module C and module",
    "start": "944360",
    "end": "950839"
  },
  {
    "text": "C no longer lives in process so I'm going to put this on a message broker and then send that message to module",
    "start": "950839",
    "end": "956920"
  },
  {
    "text": "C this works okay this is fine but now we start getting into the zero trust",
    "start": "956920",
    "end": "962720"
  },
  {
    "text": "mechanism so zero trust says well what if somebody already has access to your",
    "start": "962720",
    "end": "968000"
  },
  {
    "text": "message broker how does that change the way that your system works when you deal with it",
    "start": "968000",
    "end": "973759"
  },
  {
    "text": "so if we have a bad actor who's trying to send malicious messages if they somehow have the credentials to connect",
    "start": "973759",
    "end": "979199"
  },
  {
    "text": "to our broker they can go and put a message on that queue and that message will then get processed by whoever",
    "start": "979199",
    "end": "985279"
  },
  {
    "text": "receives that message so if module C is the one to charge credit card information a bad actor could go and put",
    "start": "985279",
    "end": "991440"
  },
  {
    "text": "a message that says charge Williams credit card £500 and module C receives that message and says okay cool great",
    "start": "991440",
    "end": "997360"
  },
  {
    "text": "I'll do it and then I'm out of 500 out of pocket so with zero trust what you have",
    "start": "997360",
    "end": "1003240"
  },
  {
    "text": "to do is you have to say well somebody's already got access to my network they're already in my infrastructure maybe",
    "start": "1003240",
    "end": "1009519"
  },
  {
    "text": "there's a a disgruntled employee or maybe maybe I was coding the system and I accidentally checked in the",
    "start": "1009519",
    "end": "1015279"
  },
  {
    "text": "credentials in a PR you didn't see it during the review because fixed it on the next commit but the credentials are",
    "start": "1015279",
    "end": "1020839"
  },
  {
    "text": "still in their history somewhere or because buts an he might actually go and threaten someone and Claw them until they give the",
    "start": "1020839",
    "end": "1026880"
  },
  {
    "text": "credentials whatever you assume that the credentials have been leaked but you need to make sure that nobody can send a",
    "start": "1026880",
    "end": "1033438"
  },
  {
    "text": "message that will get processed if they're not supposed to be able to send that message so the way we do this with",
    "start": "1033439",
    "end": "1039319"
  },
  {
    "text": "messaging in zero Trust Systems is when you send a message you also sign that message with your private key did anyone",
    "start": "1039319",
    "end": "1046480"
  },
  {
    "text": "go to Eli's talk this earlier today about asymmetric key encryption asymmetric encryption there's a lot of",
    "start": "1046480",
    "end": "1052799"
  },
  {
    "text": "that in the zero trust space with messaging so you sign the message with your private key that message then goes",
    "start": "1052799",
    "end": "1058559"
  },
  {
    "text": "via mediator onto the broker and it gets to the destination the destination can then use your public key to validate",
    "start": "1058559",
    "end": "1065919"
  },
  {
    "text": "that the message was sent by you which means that because the other people that",
    "start": "1065919",
    "end": "1071200"
  },
  {
    "text": "have got access to your broker don't have access to your private key they can't create the same signature which",
    "start": "1071200",
    "end": "1076840"
  },
  {
    "text": "means you can validate that the people that have sent you the message or the modules that have sent you the message",
    "start": "1076840",
    "end": "1081880"
  },
  {
    "text": "are the modules that we're supposed to send the message you obviously don't want to do",
    "start": "1081880",
    "end": "1086919"
  },
  {
    "text": "this in all of your modules because I don't know how many modules you're going to have in your system you might not know how many modules you're going to",
    "start": "1086919",
    "end": "1092400"
  },
  {
    "text": "end up with in your system and it's going to be a lot of repeated work so when you choose your implementation of",
    "start": "1092400",
    "end": "1097559"
  },
  {
    "text": "the mediator pattern you should choose one that allows you to do this as part of the pipeline Behavior if you're in",
    "start": "1097559",
    "end": "1103559"
  },
  {
    "text": "the net space Jimmy board's mediator package is a great one to do this it's got a pipeline Behavior you can just go",
    "start": "1103559",
    "end": "1109600"
  },
  {
    "text": "and inject and then do whatever signatures you need to do on the message and pass it along but what you want is",
    "start": "1109600",
    "end": "1115280"
  },
  {
    "text": "you want that signing and the validation to happen at the me at the mediator level so that when you send the message",
    "start": "1115280",
    "end": "1121520"
  },
  {
    "text": "and you put it on the message broker it's already got a signature associated with it if that message doesn't need to",
    "start": "1121520",
    "end": "1127480"
  },
  {
    "text": "go to a message broker so if it stays in process you don't need to sign it because it's a lot harder to inject a",
    "start": "1127480",
    "end": "1133360"
  },
  {
    "text": "message on an in process in memory bus than it is just to write something to a queue",
    "start": "1133360",
    "end": "1139640"
  },
  {
    "text": "on the converse if a message comes from the message broker you also need in your mediator implementation to be able to",
    "start": "1139640",
    "end": "1146000"
  },
  {
    "text": "take the signature that came with that message and validate that it came from someone who's allowed to send you that",
    "start": "1146000",
    "end": "1153200"
  },
  {
    "text": "message uh so if you are using Jimmy bot's mediator package this is an example of how you might do it you'll",
    "start": "1153200",
    "end": "1158640"
  },
  {
    "text": "just go and take the body of the message hash it up with a signature and then append it to the message before you send",
    "start": "1158640",
    "end": "1164039"
  },
  {
    "text": "it once you've got this you're in a position now to be able to say no I don't need to process this message this",
    "start": "1164039",
    "end": "1169880"
  },
  {
    "text": "is not the message that I think I I need to respond to and you can discard it and I think cats are a really good example",
    "start": "1169880",
    "end": "1175799"
  },
  {
    "text": "of saying no to things because they just they're mean and they say no all the",
    "start": "1175799",
    "end": "1180840"
  },
  {
    "text": "time even if they don't know why they're doing it so once you start sending messages",
    "start": "1180840",
    "end": "1187159"
  },
  {
    "text": "outside of the process you might want to consider signing those messages with your private key so that they can be",
    "start": "1187159",
    "end": "1192760"
  },
  {
    "text": "validated at the recipient to make sure that the message should be processed and honored correctly",
    "start": "1192760",
    "end": "1199600"
  },
  {
    "text": "this is one of B Bean's favorite places to hide in the house it's quiet it's warm the dogs don't go in there people leave them alone and my daughter when",
    "start": "1199600",
    "end": "1206159"
  },
  {
    "text": "she was younger used to say that he was reading her books while she was at school obviously he wasn't doing that",
    "start": "1206159",
    "end": "1211559"
  },
  {
    "text": "because he's an illiterate idiot um but he did like this place to live because it was nice and quiet and calm and we've",
    "start": "1211559",
    "end": "1218440"
  },
  {
    "text": "taken a look at how to prevent people from sending messages that they shouldn't be able to but what about if",
    "start": "1218440",
    "end": "1223760"
  },
  {
    "text": "we sent a message to them and we want toe prevent them from being able to get access to any sensitive information in",
    "start": "1223760",
    "end": "1229080"
  },
  {
    "text": "the message so we don't want them to be able to read the information so let's take a look at how",
    "start": "1229080",
    "end": "1234240"
  },
  {
    "text": "we can prevent people from reading messages so it's a similar flow a message comes from a module it goes via",
    "start": "1234240",
    "end": "1240640"
  },
  {
    "text": "mediator and then it goes to the message broker which then sends it to the correct destination if we assume again",
    "start": "1240640",
    "end": "1246400"
  },
  {
    "text": "that someone has got access to our message broker they can connect to the message broker and change the bindings",
    "start": "1246400",
    "end": "1251720"
  },
  {
    "text": "and the routing so that any message that goes to module C also goes to them so what we need to do is when we send the",
    "start": "1251720",
    "end": "1258240"
  },
  {
    "text": "message once it gets to mediator what we want to do is we want to then encrypt that",
    "start": "1258240",
    "end": "1263360"
  },
  {
    "text": "message but not with our private key anymore we want to encrypt the message with module c's with the recipient's",
    "start": "1263360",
    "end": "1270000"
  },
  {
    "text": "public key okay so that that the message body that we send in is now encrypted with",
    "start": "1270000",
    "end": "1275720"
  },
  {
    "text": "the recipient's public key so that when it gets to the recipient they can use their private key to decrypt the message",
    "start": "1275720",
    "end": "1282679"
  },
  {
    "text": "which means even if it does end up at the destination for someone else if they don't have access to that private key",
    "start": "1282679",
    "end": "1289120"
  },
  {
    "text": "they're not able to decrypt that message so to prevent someone from sending messages you sign the message",
    "start": "1289120",
    "end": "1296159"
  },
  {
    "text": "with your private key and validate it with your public key to prevent people",
    "start": "1296159",
    "end": "1301320"
  },
  {
    "text": "from reading the message you encrypt the message with the destination's public key and then the destination can decrypt",
    "start": "1301320",
    "end": "1307679"
  },
  {
    "text": "that message with their private key at the end so again if you're using mediator",
    "start": "1307679",
    "end": "1313320"
  },
  {
    "text": "the code doesn't actually matter but essentially all you do is you sign you encrypt the message over there and then you replace the body of the message with",
    "start": "1313320",
    "end": "1319640"
  },
  {
    "text": "the encrypted one and then when you send it along um you can prevent someone from in unintentionally reading any",
    "start": "1319640",
    "end": "1325720"
  },
  {
    "text": "information in that message that they shouldn't have access to and this is uh the second part of",
    "start": "1325720",
    "end": "1331720"
  },
  {
    "text": "zero trust where you need to just assume that somebody has access to your broker and they're able to access the messages",
    "start": "1331720",
    "end": "1337960"
  },
  {
    "text": "that you're sending and then you once you've made that assumption you can start doing threat modeling to say well what does this mean for my application",
    "start": "1337960",
    "end": "1344720"
  },
  {
    "text": "is it important for me to secure those messages or is it okay just just to assume that they're fine it depends on",
    "start": "1344720",
    "end": "1350720"
  },
  {
    "text": "the type of stuff that you're dealing with so we've taken a look at stopping people send from sending messages we've",
    "start": "1350720",
    "end": "1357320"
  },
  {
    "text": "taken a look at stopping people from reading messages that they're not supposed to have access to they can still do malicious things on your to",
    "start": "1357320",
    "end": "1364000"
  },
  {
    "text": "your system though so for instance they can discard messages if they can connect to your broker they can go and just take",
    "start": "1364000",
    "end": "1369559"
  },
  {
    "text": "messages off of your queue and get rid of them and if those messages are Financial transactions you've lost that",
    "start": "1369559",
    "end": "1375600"
  },
  {
    "text": "information cats again are really good at dropping things on people I think they do it on purpose um they're just",
    "start": "1375600",
    "end": "1381480"
  },
  {
    "text": " that way so it's a very good analogy I think for also just discarding messages just being pure destructive",
    "start": "1381480",
    "end": "1387640"
  },
  {
    "text": "forces in your systems how can we prevent people from discarding",
    "start": "1387640",
    "end": "1393600"
  },
  {
    "text": "messages so with the assumption that they've got credentials to access your",
    "start": "1393600",
    "end": "1398640"
  },
  {
    "text": "broker and perhaps those credentials that they've got allow them to make changes to the topology in the broker it",
    "start": "1398640",
    "end": "1404600"
  },
  {
    "text": "becomes really hard to outright prevent them from discarding messages because if they're able to connect to",
    "start": "1404600",
    "end": "1410279"
  },
  {
    "text": "your broker by the time that message gets sent via the broker it means that they could also have changed the way",
    "start": "1410279",
    "end": "1416720"
  },
  {
    "text": "that the those messages are routed so you would never actually know that those messages aren't ending up where they need to",
    "start": "1416720",
    "end": "1422000"
  },
  {
    "text": "go so if somebody does have access really difficult to stop them with the reading and sending messages it was nice",
    "start": "1422000",
    "end": "1428520"
  },
  {
    "text": "because we had a deterministic way we could encrypt messages and sign messages make sure that there was no way that",
    "start": "1428520",
    "end": "1433960"
  },
  {
    "text": "they could end up where they shouldn't be with discarding messages it's much harder because you can't actually stop a",
    "start": "1433960",
    "end": "1441039"
  },
  {
    "text": "message from being sent to someone if they've got access to your broker what",
    "start": "1441039",
    "end": "1446440"
  },
  {
    "text": "we can do though is we can rotate our security credentials very frequently so this is uh this comes from the",
    "start": "1446440",
    "end": "1452840"
  },
  {
    "text": "documentation of hashicorp vaults uh Vault obviously um and what they",
    "start": "1452840",
    "end": "1458279"
  },
  {
    "text": "actually do is they provide a way to get Dynamic security credentials so instead of storing your username and password or",
    "start": "1458279",
    "end": "1463880"
  },
  {
    "text": "your connection string to connect to your broker your code would request credentials from Hashi cor Vault and it",
    "start": "1463880",
    "end": "1470679"
  },
  {
    "text": "would say hey hashicorp I want to connect to this broker can you give me a username and password that I can use to connect the Vault would validate that",
    "start": "1470679",
    "end": "1477760"
  },
  {
    "text": "you are allowed to ask for those credentials then it would go in the background and create a new user with a",
    "start": "1477760",
    "end": "1483520"
  },
  {
    "text": "password for you and send those credentials back to you the application would then connect to the broker using",
    "start": "1483520",
    "end": "1488840"
  },
  {
    "text": "those credentials and the smart bit is that after determined period of time hash Corp would go and deactivate the",
    "start": "1488840",
    "end": "1495279"
  },
  {
    "text": "user so that that user would no longer work at all and in the documentation they've got an",
    "start": "1495279",
    "end": "1500480"
  },
  {
    "text": "example for S days but a lot of the time you can scale that window all the way back down to an hour to a few minutes so",
    "start": "1500480",
    "end": "1507080"
  },
  {
    "text": "these credentials are only applicable for 5 minutes or three minutes or even less which means that you can keep",
    "start": "1507080",
    "end": "1513399"
  },
  {
    "text": "rotating your credentials very frequently so if somebody does manage to get your credentials or they do manage",
    "start": "1513399",
    "end": "1519039"
  },
  {
    "text": "to get access to your network they've only got a short window of time where they can do destructive",
    "start": "1519039",
    "end": "1524399"
  },
  {
    "text": "Behavior within your system so if you can keep rotating those security keys or connection strings frequently um you",
    "start": "1524399",
    "end": "1531559"
  },
  {
    "text": "reduce the chance of someone being able to have a negative impact on your system in this case a lot of the other key",
    "start": "1531559",
    "end": "1537240"
  },
  {
    "text": "vaults like AO km uh not a KMS AWS KMS and AO key Vault don't do the dynamic",
    "start": "1537240",
    "end": "1543559"
  },
  {
    "text": "security credentials but you can quite easily just script those with Powershell scripts or commands and and do something",
    "start": "1543559",
    "end": "1549679"
  },
  {
    "text": "similar yourself it's not too difficult to implement what about personalization so",
    "start": "1549679",
    "end": "1556640"
  },
  {
    "text": "that is about as much as we're going to cover with the basics of zero trust if you want to talk about zero trust some more come grab me afterwards um but",
    "start": "1556640",
    "end": "1564240"
  },
  {
    "text": "personalization like I said is where you've got authentication authorization and personalization so authentication I",
    "start": "1564240",
    "end": "1570080"
  },
  {
    "text": "am William here's the proof that I am William authorization I'm allowed to do this or I'm not allowed to do this and",
    "start": "1570080",
    "end": "1576399"
  },
  {
    "text": "personalization is maybe we've got um a dashboard that shows all of the transactions that have been processed",
    "start": "1576399",
    "end": "1581919"
  },
  {
    "text": "for the day everybody can see all of those transactions except William can't see the the dollar amount of those",
    "start": "1581919",
    "end": "1588520"
  },
  {
    "text": "transactions because he gets really jealous or something I don't know but we change the behavior based off of who the",
    "start": "1588520",
    "end": "1594080"
  },
  {
    "text": "message is going to now the example message we've been",
    "start": "1594080",
    "end": "1599880"
  },
  {
    "text": "using before this was the charge credit card command um this one doesn't really work well for this scenario because",
    "start": "1599880",
    "end": "1606480"
  },
  {
    "text": "everything in this is pretty sensitive so you don't really want anyone that shouldn't have access to",
    "start": "1606480",
    "end": "1612039"
  },
  {
    "text": "this message to see it but maybe something like order shipped is a more applicable message so order shipped once",
    "start": "1612039",
    "end": "1618520"
  },
  {
    "text": "we've processed everything and we've given it to The Courier and it's gone off we might just want to say hey everyone this order has been shipped and",
    "start": "1618520",
    "end": "1625120"
  },
  {
    "text": "this is a fairly benign message but if you're working in a space where you've got gdpr compliance you have to be aware",
    "start": "1625120",
    "end": "1630720"
  },
  {
    "text": "of all in South Africa we've got poppy protection of personal information the stuff that's personally",
    "start": "1630720",
    "end": "1637159"
  },
  {
    "text": "identifiable can only go to destinations that have got a legitimate interest in",
    "start": "1637159",
    "end": "1642440"
  },
  {
    "text": "using that information so you can't just send the address contact number and email address to everybody who's",
    "start": "1642440",
    "end": "1647840"
  },
  {
    "text": "interested in the event there's a couple options here the",
    "start": "1647840",
    "end": "1652880"
  },
  {
    "text": "first is we can have different types of messages with different structures so we can say we want to send order shipped event that's that doesn't have this",
    "start": "1652880",
    "end": "1659039"
  },
  {
    "text": "information and then we'll send an order shipped event that does have this information somewhere else but then you",
    "start": "1659039",
    "end": "1665080"
  },
  {
    "text": "start kind of having to have different classes for different security roles and it becomes a bit of a pain to introduce",
    "start": "1665080",
    "end": "1671440"
  },
  {
    "text": "also it means that the sender the person who's publishing the event or the module that's published in the event needs to",
    "start": "1671440",
    "end": "1677679"
  },
  {
    "text": "know which parts of this need to go to which different locations so maybe that's not the best",
    "start": "1677679",
    "end": "1684440"
  },
  {
    "text": "approach something else we could do is we could instead of having strings for those we could have encrypted strings",
    "start": "1684440",
    "end": "1690000"
  },
  {
    "text": "where we could say well I want to do partial encryption on this message so that only people that have got access to the uh private key that I'm using to",
    "start": "1690000",
    "end": "1697080"
  },
  {
    "text": "encrypt the message can see these properties in we can take this a little bit further and we can have attributes",
    "start": "1697080",
    "end": "1703080"
  },
  {
    "text": "and we'll see why attributes might be attractive in a bit but essentially what we do here is we say we're going to",
    "start": "1703080",
    "end": "1708640"
  },
  {
    "text": "publish this event these properties on the message are sensitive so only part of this message needs to be encrypted",
    "start": "1708640",
    "end": "1715200"
  },
  {
    "text": "and the rest of it doesn't have to be encrypted and you can encrypt it with the public key of who the destination",
    "start": "1715200",
    "end": "1720679"
  },
  {
    "text": "for that message is and if you're using a mediator again it's fairly simple here you just go",
    "start": "1720679",
    "end": "1726799"
  },
  {
    "text": "through all the all of the properties that you need to encrypt and replace them with encrypted versions of those",
    "start": "1726799",
    "end": "1732600"
  },
  {
    "text": "properties the nice thing with attributes is that you can do things like specific roles so if you're part of",
    "start": "1732600",
    "end": "1738279"
  },
  {
    "text": "the dispatch role you should be able to have access to things like the address the contact number and the email address",
    "start": "1738279",
    "end": "1743799"
  },
  {
    "text": "so that you can get hold of whoever you send in the me the parcel too uh customer service might only be",
    "start": "1743799",
    "end": "1750200"
  },
  {
    "text": "able to access the email address so they can reach out to make sure that you're happy with your purchase or something like that and it by using different",
    "start": "1750200",
    "end": "1757919"
  },
  {
    "text": "roles like this it means that you can configure what sensitive information needs to be readable by",
    "start": "1757919",
    "end": "1763360"
  },
  {
    "text": "who and this is really nice because you can do this is useful within the bounds of a modular monolith already you don't",
    "start": "1763360",
    "end": "1769600"
  },
  {
    "text": "have to be scaled out to start using this sort of information so if you make sure that",
    "start": "1769600",
    "end": "1775000"
  },
  {
    "text": "sensitive data is only readable by those who are allowed to read it it means that you've got fewer messages that you're",
    "start": "1775000",
    "end": "1780919"
  },
  {
    "text": "sending so less message contracts that you have to maintain and it also means that you can make sure that only people",
    "start": "1780919",
    "end": "1786960"
  },
  {
    "text": "that know how to use that information or have legitimate interest in that information are able to use",
    "start": "1786960",
    "end": "1793559"
  },
  {
    "text": "it let's have a look at token exploration so if you're using J JG tokens or jot tokens those tokens have",
    "start": "1793559",
    "end": "1800640"
  },
  {
    "text": "to have an expiration period associated with them as well and if a user presents you with a jot token you need to",
    "start": "1800640",
    "end": "1806279"
  },
  {
    "text": "validate that that jot token is still valid",
    "start": "1806279",
    "end": "1812440"
  },
  {
    "text": "now butt likes getting his belly scratched sometimes but only on his terms so he will present his belly and",
    "start": "1813000",
    "end": "1819600"
  },
  {
    "text": "you are allowed to scratch it for a little bit but if you take too long to get to him to scratch it or if you scratch him for a little too long you're",
    "start": "1819600",
    "end": "1826080"
  },
  {
    "text": "no longer allowed and he will latch onto your arm with his front paes and use his back Paws to try and rake your arm to",
    "start": "1826080",
    "end": "1831559"
  },
  {
    "text": "get the insides of your body to be on the outsides of your body which is really unfortunate because",
    "start": "1831559",
    "end": "1837200"
  },
  {
    "text": "the inside of my body is where I keep all my blood so there's a time period where you are able to scratch his belly",
    "start": "1837200",
    "end": "1843679"
  },
  {
    "text": "where he'll tolerate it and allow it but if you miss that time period it's expired and the same thing happens with",
    "start": "1843679",
    "end": "1849320"
  },
  {
    "text": "jot tokens so if we're talking about a jot token we've got a message and we send let's say we're going to send the",
    "start": "1849320",
    "end": "1855480"
  },
  {
    "text": "the entire jot token along with a message so we're not just using user identity but we're sending the entire token along with it that message ends up",
    "start": "1855480",
    "end": "1863559"
  },
  {
    "text": "in the destination module and it gets processed and everything's fine but because we've taken that module and",
    "start": "1863559",
    "end": "1869639"
  },
  {
    "text": "we've moved it out of process all assumptions that we make about when that message will get processed no longer",
    "start": "1869639",
    "end": "1875760"
  },
  {
    "text": "hold there could be other messages sitting in the queue there could be lots of messages sitting in the queue maybe",
    "start": "1875760",
    "end": "1881960"
  },
  {
    "text": "module C was calling a third party service and that third party service was down for whatever reason it's now come",
    "start": "1881960",
    "end": "1888279"
  },
  {
    "text": "back up but there's a whole queue of messages that module C needs to process before it gets to your message so if we",
    "start": "1888279",
    "end": "1893799"
  },
  {
    "text": "send a message and it ends up at the back of the queue by the time it gets to the front that jot token that we're",
    "start": "1893799",
    "end": "1899000"
  },
  {
    "text": "using to represent the user identity that could have expired and we need a way to deal with",
    "start": "1899000",
    "end": "1905720"
  },
  {
    "text": "that so there's a three there's three ways that we're going to cover and how to deal with expired jot tokens in this",
    "start": "1905720",
    "end": "1911320"
  },
  {
    "text": "session the first is just to forward the user identity along with the messages that we send the second is looking at",
    "start": "1911320",
    "end": "1917320"
  },
  {
    "text": "custom dat structures and seeing how we can use that and then we'll take a look at token exchanges and why that that",
    "start": "1917320",
    "end": "1923360"
  },
  {
    "text": "might be applicable so when forward in identity uh what you do is once the user logs",
    "start": "1923360",
    "end": "1930440"
  },
  {
    "text": "into your application and they present their jot token to say I am William instead of taking that entire jot token",
    "start": "1930440",
    "end": "1936320"
  },
  {
    "text": "and attaching it to the message you just include the user identity as part of that so the example we had earlier",
    "start": "1936320",
    "end": "1942760"
  },
  {
    "text": "charge credit card we stick the user ID at the bottom of the message and that just goes along so there's no insiration",
    "start": "1942760",
    "end": "1948440"
  },
  {
    "text": "with this because it's just the user identity the problem with this is that",
    "start": "1948440",
    "end": "1954159"
  },
  {
    "text": "if you've got someone who's got access to your broker they can go and put a message on the Queue and put a different",
    "start": "1954159",
    "end": "1960240"
  },
  {
    "text": "me user ID there they can say that William authorized this to take place so it might not be a it might not",
    "start": "1960240",
    "end": "1967200"
  },
  {
    "text": "be sufficient to just forward the user identity what about using the custom",
    "start": "1967200",
    "end": "1973039"
  },
  {
    "text": "data structure so this is where before you send the message instead of just a pend in the user ID to the message you",
    "start": "1973039",
    "end": "1980720"
  },
  {
    "text": "add some additional information to the message as well you might create a user identity object which includes uh the",
    "start": "1980720",
    "end": "1986799"
  },
  {
    "text": "claims that the person has got and then you would have a hash of this user identity object so that nobody could",
    "start": "1986799",
    "end": "1992720"
  },
  {
    "text": "tamper with it so when you receive the message you can then go and say well the user at the point in time that this",
    "start": "1992720",
    "end": "1998760"
  },
  {
    "text": "message was sent had these claims so therefore they're allowed to do this again there's no expiration here so you",
    "start": "1998760",
    "end": "2005159"
  },
  {
    "text": "work around the token expiration that way but very similar to just sending the user identity if somebody can get access",
    "start": "2005159",
    "end": "2011960"
  },
  {
    "text": "to the message that you're sending they can copy that user identity object and put it on a different message so they",
    "start": "2011960",
    "end": "2018360"
  },
  {
    "text": "might be able to tamper with future messages they can also do replay attacks where they take a message off of the",
    "start": "2018360",
    "end": "2024200"
  },
  {
    "text": "queue and then put it back on the Queue 5 six seven eight times so that message could process 5 six seven eight times because the content of the message is",
    "start": "2024200",
    "end": "2030720"
  },
  {
    "text": "still valid but they've tampered with your system so the third option that we're",
    "start": "2030720",
    "end": "2036840"
  },
  {
    "text": "going to look at is token exchange and that's where uh you separate the internal part of your system from the",
    "start": "2036840",
    "end": "2042720"
  },
  {
    "text": "external part of your system and logically you have you in your mind you have two separate things so the user comes to your system and they present",
    "start": "2042720",
    "end": "2049079"
  },
  {
    "text": "their jot token and this is represented as them presenting external uh identity",
    "start": "2049079",
    "end": "2054158"
  },
  {
    "text": "to you you then say okay that's fine you are who you say you are your jot token",
    "start": "2054159",
    "end": "2059960"
  },
  {
    "text": "is still valid it hasn't expired yet so what I'm going to do is instead of attaching your jot token to the message",
    "start": "2059960",
    "end": "2067040"
  },
  {
    "text": "I'm going to replace replace that with my own jot token so the module itself would have its own token that represents",
    "start": "2067040",
    "end": "2073398"
  },
  {
    "text": "who it is the core part of this is that those tokens need to have a longer expiry and",
    "start": "2073399",
    "end": "2080760"
  },
  {
    "text": "you're making an assumption that this is now internal to your system so you're thinking that there's going to be a higher level of trust here so it might",
    "start": "2080760",
    "end": "2086919"
  },
  {
    "text": "be okay to have a longer expiry in this case it must also include a hash of the",
    "start": "2086919",
    "end": "2092760"
  },
  {
    "text": "message a full hash of the message which includes the message ID so every time",
    "start": "2092760",
    "end": "2097800"
  },
  {
    "text": "you send a message on most Brokers you get a message a unique message ID for that message you can use it for D duplication or implementation of the",
    "start": "2097800",
    "end": "2104400"
  },
  {
    "text": "outbox pattern and if that message ID forms part of the hash of the message it",
    "start": "2104400",
    "end": "2109760"
  },
  {
    "text": "means that nobody can do the replay text because they can't take the message and copy it again because it will have a new",
    "start": "2109760",
    "end": "2115560"
  },
  {
    "text": "message ID and that hash will be different so you can validate that people aren't putting duplicate messages",
    "start": "2115560",
    "end": "2120960"
  },
  {
    "text": "on your queue that way um you could also use refresh tokens for this so refresh tokens um when you",
    "start": "2120960",
    "end": "2127720"
  },
  {
    "text": "get a jot token depending on the provider U there you can request a refresh token which basically says I've",
    "start": "2127720",
    "end": "2133119"
  },
  {
    "text": "got this token it's going to expire soon give me another one and it'll give you a new token to represent that so you could",
    "start": "2133119",
    "end": "2138520"
  },
  {
    "text": "do the same thing with refresh tokens as well ultimately though no matter which",
    "start": "2138520",
    "end": "2143920"
  },
  {
    "text": "technique you decide to go with you do need to be aware that when you start scaling parts of your modular monolith",
    "start": "2143920",
    "end": "2149599"
  },
  {
    "text": "out you are going to have to deal with expired tokens it's going to be a reality um so you need to start thinking",
    "start": "2149599",
    "end": "2156280"
  },
  {
    "text": "up front with how do you deal deal with that are you okay with just sending the user Identity or do you need a bit more",
    "start": "2156280",
    "end": "2162040"
  },
  {
    "text": "security along the way as well so that if you do have a system",
    "start": "2162040",
    "end": "2168240"
  },
  {
    "text": "that's really slow this is an actual picture of the performance of my code if you do have a system that's really slow",
    "start": "2168240",
    "end": "2174240"
  },
  {
    "text": "um and by the time the message gets to the front of the queue you know that you're going to be able to process that message as",
    "start": "2174240",
    "end": "2181400"
  },
  {
    "text": "well let's have a look at versioning systems so when things change so I got better Bean when my wife and I got",
    "start": "2181400",
    "end": "2187240"
  },
  {
    "text": "married many years ago I could still grow hair then uh life has changed a lot we've had children we've had mice we've",
    "start": "2187240",
    "end": "2193599"
  },
  {
    "text": "had Birds we've had dogs and he made sure that we knew how miserable he was",
    "start": "2193599",
    "end": "2198920"
  },
  {
    "text": "every time something changed so let's have a look at how we can deal with changes within our",
    "start": "2198920",
    "end": "2205240"
  },
  {
    "text": "systems now version changes are when you make a change to your software and you deploy a new version it's not always",
    "start": "2205240",
    "end": "2212040"
  },
  {
    "text": "going to be a problem with modular monoliths that have been scaled out but sometimes it is especially if the",
    "start": "2212040",
    "end": "2217760"
  },
  {
    "text": "version changes that you're doing change the message types that are sent to the broker so if we send a message from",
    "start": "2217760",
    "end": "2224040"
  },
  {
    "text": "module a to module C and everything just goes fine that's great up until we",
    "start": "2224040",
    "end": "2229280"
  },
  {
    "text": "change module a or we change the rest of our modular month and we make some sort of change to the message contract maybe",
    "start": "2229280",
    "end": "2236599"
  },
  {
    "text": "we are sending the charge credit card message but instead of just sending the whole thing like this we decide well the",
    "start": "2236599",
    "end": "2241960"
  },
  {
    "text": "credit card number is sensitive so some people should be able to read it but other people shouldn't be able to read it by changing the contact of the",
    "start": "2241960",
    "end": "2249319"
  },
  {
    "text": "message we need to be able to decode that message in module C so if we send a",
    "start": "2249319",
    "end": "2255400"
  },
  {
    "text": "new version of the message module C needs to also be able to read that new version of the message but it's not",
    "start": "2255400",
    "end": "2262560"
  },
  {
    "text": "quite as simple as just deploying a new version of module C right because there could be other messages in the queue for",
    "start": "2262560",
    "end": "2269160"
  },
  {
    "text": "module C that were sent using the old format so you've got two different",
    "start": "2269160",
    "end": "2274440"
  },
  {
    "text": "formats of the messages on the same queue that are going to get processed by the same endpoint and it needs to be able to deal with different message",
    "start": "2274440",
    "end": "2282560"
  },
  {
    "text": "contracts so when that message flows if module C is able to decrypt both of those different properties or is able to",
    "start": "2282560",
    "end": "2288960"
  },
  {
    "text": "deal with different message formats then you'll be able to process those messages",
    "start": "2288960",
    "end": "2294280"
  },
  {
    "text": "successfully otherwise it's going to fail and this um a way that we could",
    "start": "2294280",
    "end": "2299440"
  },
  {
    "text": "implement this is very similar to how we've done everything before so we sign the message using uh when it gets to the",
    "start": "2299440",
    "end": "2304520"
  },
  {
    "text": "our mediator pattern then we send the message along and the message br says cool here's the signed message I don't",
    "start": "2304520",
    "end": "2310000"
  },
  {
    "text": "know who signed it or what key it was signed with but good luck and we could sort of try and decrypt it with all the",
    "start": "2310000",
    "end": "2315079"
  },
  {
    "text": "keys that we've got access to that's going to work I suppose badly",
    "start": "2315079",
    "end": "2320720"
  },
  {
    "text": "and and maybe your code will start performing like mine then but another approach that we can do is when we send",
    "start": "2320720",
    "end": "2326040"
  },
  {
    "text": "the message we also include the key ID of that message so that's the identifier",
    "start": "2326040",
    "end": "2331119"
  },
  {
    "text": "of the key that was used to sign that message which means that we can then use",
    "start": "2331119",
    "end": "2336359"
  },
  {
    "text": "any number of different keys keys to sign messages as long as we have some sort of secret management tool that we",
    "start": "2336359",
    "end": "2341640"
  },
  {
    "text": "can use so aw KMS or AO key Vault or hash Vault what you do is you receive a",
    "start": "2341640",
    "end": "2347400"
  },
  {
    "text": "message and it's key id1 so you go to your secret provider and you say I would like to get access to key id1 please",
    "start": "2347400",
    "end": "2354280"
  },
  {
    "text": "give me the key so that I can decrypt the message and the Vault That Was Then responsible for saying yes you are",
    "start": "2354280",
    "end": "2360480"
  },
  {
    "text": "allowed to have access to the specific key or you are not allowed to have access to the key and when you've got",
    "start": "2360480",
    "end": "2366800"
  },
  {
    "text": "something like this in place you can do really quick key rotations for your security and if you've got really quick",
    "start": "2366800",
    "end": "2372760"
  },
  {
    "text": "rotating Keys it's a lot harder for someone to be able to get access to that and do something in your system if",
    "start": "2372760",
    "end": "2377839"
  },
  {
    "text": "you've got constantly changing Keys it's much harder for someone to be an to your",
    "start": "2377839",
    "end": "2384240"
  },
  {
    "text": "system so your middleware that you're using should be able to decrypt using different keys and you should practice",
    "start": "2384240",
    "end": "2391359"
  },
  {
    "text": "using different keys for different types of messages leverage some of these uh secret management tools that are able to",
    "start": "2391359",
    "end": "2397400"
  },
  {
    "text": "do this for you so a quick recap um and then we can",
    "start": "2397400",
    "end": "2404079"
  },
  {
    "text": "escape I know it's been a long day for everyone so I thought let me try and make this a little bit of a shorter session so we can be a bit more",
    "start": "2404079",
    "end": "2411119"
  },
  {
    "text": "energized think about passing identity with your messages at the beginning even when your system is still a modular",
    "start": "2411920",
    "end": "2418599"
  },
  {
    "text": "monolith because once you've got identity as part of the message flow it's a lot easier to keep that identity",
    "start": "2418599",
    "end": "2425280"
  },
  {
    "text": "when you start splitting things out later leverage your middle bear to be able to sign messages and decrypt messages so",
    "start": "2425280",
    "end": "2432520"
  },
  {
    "text": "that you can make sure that only people that are supposed to send those types of messages are able to and then validate",
    "start": "2432520",
    "end": "2438200"
  },
  {
    "text": "those signatures and then do the same with encryption so that people don't get access to your data obviously you don't",
    "start": "2438200",
    "end": "2444040"
  },
  {
    "text": "need to do all of these but if you are in an environment where um zero trust applies then you can start looking at",
    "start": "2444040",
    "end": "2450040"
  },
  {
    "text": "these techniques with signing messages and decrypted messages uh personalization is a great",
    "start": "2450040",
    "end": "2455680"
  },
  {
    "text": "one and and this makes um a lot of sense even when you are still within the confines of a modular monolith because",
    "start": "2455680",
    "end": "2461119"
  },
  {
    "text": "when you're publishing messages within that monolith you can decide who gets access to those secrets and who uh who",
    "start": "2461119",
    "end": "2467880"
  },
  {
    "text": "is able to read those sensitive properties on the message be aware that token expiration",
    "start": "2467880",
    "end": "2473960"
  },
  {
    "text": "is a thing and you are going to have to deal with it um so make sure that you know how you will deal with it in the",
    "start": "2473960",
    "end": "2480000"
  },
  {
    "text": "future and use something like a vault to manage your secrets for you so that you can do frequent key rotations and you",
    "start": "2480000",
    "end": "2486640"
  },
  {
    "text": "can use m multiple different types of keys to be able to send these messages securely if you do that you might have a",
    "start": "2486640",
    "end": "2493240"
  },
  {
    "text": "good time having a fun little system that you can work with um if you don't that's also fine I suppose none of these",
    "start": "2493240",
    "end": "2499200"
  },
  {
    "text": "are hard and fast rules that everybody must do originally when I was coming up with this talk um Butterbean wasn't going to",
    "start": "2499200",
    "end": "2506440"
  },
  {
    "text": "feature at all it was just going to be cat memes because they're objectively hilarious on the the ranking order of",
    "start": "2506440",
    "end": "2512800"
  },
  {
    "text": "humor sarcasm might be at the bottom but cat memes are right at the top as perfect forms of humor unfortunately",
    "start": "2512800",
    "end": "2519319"
  },
  {
    "text": "though but beam passed away while I Was preparing the talk and I thought what better way to honor his memory than to",
    "start": "2519319",
    "end": "2524680"
  },
  {
    "text": "get up in front of a room full of people that didn't know him and told them all what an he was for an entire 45",
    "start": "2524680",
    "end": "2530640"
  },
  {
    "text": "minutes of their lives and I hope that maybe as you go back to your day jobs and you you start",
    "start": "2530640",
    "end": "2536680"
  },
  {
    "text": "thinking about well do I need to do anything about the security of my system maybe you'll think what an this",
    "start": "2536680",
    "end": "2542640"
  },
  {
    "text": "cat was and how miserable he made my life and you'll smile what a grumpy  of a cat that I miss",
    "start": "2542640",
    "end": "2549680"
  },
  {
    "text": "terribly uh thank you I do have plenty time for questions um otherwise if you want to catch me downstairs I'll be at",
    "start": "2549680",
    "end": "2555160"
  },
  {
    "text": "the particular Bo I didn't even say that I work for particular software we make n service bus which is if you want to",
    "start": "2555160",
    "end": "2560680"
  },
  {
    "text": "distribute your systems and scale things out obviously I didn't talk about any of that there um so if you do want to talk",
    "start": "2560680",
    "end": "2567040"
  },
  {
    "text": "to me about any of either zero trust I'm quite interested in zero trust in messaging systems or if you just want to",
    "start": "2567040",
    "end": "2573160"
  },
  {
    "text": "talk about cats come grab me at the particular Booth um I'll be there after this and",
    "start": "2573160",
    "end": "2578559"
  },
  {
    "text": "tomorrow thank you [Applause]",
    "start": "2578559",
    "end": "2588549"
  }
]