[
  {
    "start": "0",
    "end": "118000"
  },
  {
    "text": "hello hey there we go so thank you everyone for coming and welcome to my",
    "start": "5560",
    "end": "11389"
  },
  {
    "text": "talk today I'm gonna be talking to you about CSP xxp SCS pkp CAA et Cie oMG WTF",
    "start": "11389",
    "end": "19190"
  },
  {
    "text": "BB Q and I can hear you all thinking the last acronym on there which is ffs who",
    "start": "19190",
    "end": "25940"
  },
  {
    "text": "here knows more than four acronyms out of my slide title Oh excellent so this",
    "start": "25940",
    "end": "31490"
  },
  {
    "text": "is gonna be really good talk them the the talk title is kind of on purpose and",
    "start": "31490",
    "end": "36590"
  },
  {
    "text": "I kinda want to make this point about often when we talk about security we end up with this giant acronym soup of",
    "start": "36590",
    "end": "42020"
  },
  {
    "text": "things and acronyms that we talk about so if I was to translate my slide title into something a little bit more kind of",
    "start": "42020",
    "end": "49220"
  },
  {
    "text": "normal it would probably be modern web security standards and this is what I want to talk about today so you can",
    "start": "49220",
    "end": "55489"
  },
  {
    "text": "probably think about my talk as an introduction to the first five acronyms that were in the slide title so it's",
    "start": "55489",
    "end": "60950"
  },
  {
    "text": "probably going to be kind of like five whitening talks really I want to introduce you to these technologies and show you how we can use them to do",
    "start": "60950",
    "end": "67610"
  },
  {
    "text": "things better and it's not just about security either we can use these technologies to make our websites faster",
    "start": "67610",
    "end": "73490"
  },
  {
    "text": "make our jobs easier automatically find errors on our website have them reported and in some cases have them fixed",
    "start": "73490",
    "end": "80439"
  },
  {
    "text": "automatically as well so it's not going to be kind of tuned out hopefully we'll get a really good overview of the",
    "start": "80439",
    "end": "86869"
  },
  {
    "text": "various different things we're going to look at when they dive straight in because I've got a lot of a lot of acronyms to get through so I'll kick",
    "start": "86869",
    "end": "93499"
  },
  {
    "text": "right off with the first one in the title which is CSP and this is content security policy if you have seen me on",
    "start": "93499",
    "end": "100849"
  },
  {
    "text": "Twitter or read my blog or anything you'll know that I'm a huge fan of CSP and CSP is a security 2 header that",
    "start": "100849",
    "end": "107240"
  },
  {
    "text": "allows us to do countless different things there's constantly expanding in the terms of what it can do but going",
    "start": "107240",
    "end": "113299"
  },
  {
    "text": "right back to the start the version 1 of CSP if you will it was originally designed to stop something called a",
    "start": "113299",
    "end": "120679"
  },
  {
    "start": "118000",
    "end": "118000"
  },
  {
    "text": "Content injection attack so ever mock-up of a page behind me imagine you have your website on your home page you have",
    "start": "120679",
    "end": "126829"
  },
  {
    "text": "a really nice kind of comment or review section and you want people to come along and say this website was fantastic",
    "start": "126829",
    "end": "132110"
  },
  {
    "text": "five-star submit you saved that review into your database and then when someone comes back to your site",
    "start": "132110",
    "end": "137660"
  },
  {
    "text": "you render it back into the page except this pesky reviewer also put a script tag into their review comment so you",
    "start": "137660",
    "end": "144980"
  },
  {
    "text": "save that along with that comment and you've just rewritten a script tag back into the page we call this",
    "start": "144980",
    "end": "150170"
  },
  {
    "text": "cross-site scripting that's the particular attack and you can see here this pesky reviewer has put this script",
    "start": "150170",
    "end": "155570"
  },
  {
    "text": "tag into that comment so this script tag is now on the home page of your website show of hands who wants this script tag",
    "start": "155570",
    "end": "162620"
  },
  {
    "text": "to load on the home page of their website so we can look at this as people",
    "start": "162620",
    "end": "168860"
  },
  {
    "text": "and say right so we have this script tag and it's coming from evil calm so already I'm pretty sure that I don't",
    "start": "168860",
    "end": "174530"
  },
  {
    "text": "want this and it's called keylogger is so now I'm really sure that I don't want",
    "start": "174530",
    "end": "179540"
  },
  {
    "text": "this but the browser doesn't have that kind of context it doesn't have that kind of understanding the browser will",
    "start": "179540",
    "end": "185480"
  },
  {
    "text": "come to your website and load this page it will see a valid script tag and it will do what he's told which is to load",
    "start": "185480",
    "end": "190880"
  },
  {
    "text": "the script tag so now we have a really big problem because there's a keylogger file on our home page and there's",
    "start": "190880",
    "end": "197060"
  },
  {
    "text": "another sneaky way that the attackers could do this and why it's really difficult to mitigate cross-site scripting is because they don't need to",
    "start": "197060",
    "end": "203000"
  },
  {
    "text": "load the script from a third-party domain they could just write the script tag into the page what we call an inline",
    "start": "203000",
    "end": "208640"
  },
  {
    "text": "script so mitigating cross-site scripting can be really hard the example here is really harmless it just although",
    "start": "208640",
    "end": "214280"
  },
  {
    "text": "it's a message that says hello world but again it could be the code for a keylogger there's some malware could be",
    "start": "214280",
    "end": "220130"
  },
  {
    "text": "a remote access tool it could be anything really but the point is we don't want it there and what we need to",
    "start": "220130",
    "end": "225290"
  },
  {
    "text": "do is we need to give the browser the ability to understand what we want in our website and what we don't want in",
    "start": "225290",
    "end": "230480"
  },
  {
    "text": "our website and this is exactly what we do with content security policy so as I",
    "start": "230480",
    "end": "235790"
  },
  {
    "text": "said content security policy is it's what we refer to as a security header so it's a HTTP response header you should",
    "start": "235790",
    "end": "241220"
  },
  {
    "text": "see some that you're familiar with we've got the server we've got the day they're all kind of standard things and then",
    "start": "241220",
    "end": "246830"
  },
  {
    "text": "content security policy just sits alongside them so we just deliver an extra header along with our pages",
    "start": "246830",
    "end": "252320"
  },
  {
    "text": "there's nothing particularly difficult about this and then what you do is you put the policy you want enforcing on",
    "start": "252320",
    "end": "258049"
  },
  {
    "text": "your page into the value of that header now the policy itself is made up of a",
    "start": "258049",
    "end": "263360"
  },
  {
    "text": "variety of different directives and the ones I'm showing here are what we call the fetch directive so these are the",
    "start": "263360",
    "end": "269120"
  },
  {
    "text": "places where you can load different content from so in your policy you would specify let's say the image",
    "start": "269120",
    "end": "274510"
  },
  {
    "text": "source and then you would provide a list of domains where the page is allowed to load images from you would specify let's",
    "start": "274510",
    "end": "280750"
  },
  {
    "text": "say the font source and then you provide a list of locations the browser is permitted to load fonts from and you go",
    "start": "280750",
    "end": "286630"
  },
  {
    "text": "on and so forth things get really powerful with the script source especially because now we can control where the browser is permitted to load",
    "start": "286630",
    "end": "293350"
  },
  {
    "text": "scripts from so let's take a look at basic policy this is what one might look",
    "start": "293350",
    "end": "298360"
  },
  {
    "start": "295000",
    "end": "295000"
  },
  {
    "text": "like so we issued the content security policy header and off the previous slide I've used the default source so this is",
    "start": "298360",
    "end": "304660"
  },
  {
    "text": "what all of the other directives fall back to if they aren't specified so we can be nice and relaxed and open about this and say okay default source self",
    "start": "304660",
    "end": "311440"
  },
  {
    "text": "that's the CSP keyword for your own site so you're saying I'm happy to load any",
    "start": "311440",
    "end": "316810"
  },
  {
    "text": "type of content from my own website and this other domain as well so if we take",
    "start": "316810",
    "end": "323140"
  },
  {
    "text": "this this is a really basic policy if there's pretty much not anything to this but we've already mitigated the -",
    "start": "323140",
    "end": "329140"
  },
  {
    "text": "cross-site scripting attacks that we just looked at on the previous two slides because if we think about the",
    "start": "329140",
    "end": "335020"
  },
  {
    "text": "evil com one browser comes along it will now see that script tag and it look great we've got a script let's check the",
    "start": "335020",
    "end": "341110"
  },
  {
    "text": "policy see if we can load it well the script source isn't specified so we'll fall back to the default is",
    "start": "341110",
    "end": "346510"
  },
  {
    "text": "evil calm in the whitelist and it's not so the browser will simply skip over that script tag and will not load it",
    "start": "346510",
    "end": "353560"
  },
  {
    "text": "completely neutralized and the second one the inline script all inline scripts like that are actually banned in CSP",
    "start": "353560",
    "end": "360340"
  },
  {
    "text": "when you deploy it because the browser can never know where it came from so what you do is you take that message j/s",
    "start": "360340",
    "end": "366700"
  },
  {
    "text": "you externalize it into a file and then load it from your own domain and then the browser says ok I've got a piece of",
    "start": "366700",
    "end": "372610"
  },
  {
    "text": "information to work with now the domain the domain will match the self keyword so you still keep all your functionality",
    "start": "372610",
    "end": "378340"
  },
  {
    "text": "you still have everything working and now the bad guys already can't put stuff into your website but the problem is",
    "start": "378340",
    "end": "387700"
  },
  {
    "text": "that you probably couldn't deploy it on your website and I know that I couldn't deploy it on mine because we are all load content from all kinds of different",
    "start": "387700",
    "end": "393850"
  },
  {
    "text": "third-party locations so you have to fine-tune your policy so we'll start",
    "start": "393850",
    "end": "398890"
  },
  {
    "start": "395000",
    "end": "395000"
  },
  {
    "text": "with the default source of self by default hopefully you should trust yourselves to load content in your own website",
    "start": "398890",
    "end": "404540"
  },
  {
    "text": "then I'm going to specify the script source now when we specify it we override the default so we have to put",
    "start": "404540",
    "end": "409640"
  },
  {
    "text": "the self keyword again and I'm saying by default I'm happy to load scripts from these two different locations and what",
    "start": "409640",
    "end": "416510"
  },
  {
    "text": "that means is you can now have these script tags in your pages the browser will look at the source attribute and",
    "start": "416510",
    "end": "421610"
  },
  {
    "text": "check to see if the domain is white listed in the policy so again as long as you don't put evil.com in your policy",
    "start": "421610",
    "end": "427130"
  },
  {
    "text": "which you shouldn't then the evil.com script won't load and again the inline script is blocked anyway so this is really powerful and",
    "start": "427130",
    "end": "435140"
  },
  {
    "text": "you take this kind of principle of fine-tuning and you continue to do it so you would specify what we call a source",
    "start": "435140",
    "end": "440270"
  },
  {
    "text": "list for all of your scripts you'd have a source list for all of your Styles your images and you start to get really",
    "start": "440270",
    "end": "445400"
  },
  {
    "text": "specifically say right well these are the locations that my website loads content from and I'm going to provide",
    "start": "445400",
    "end": "450890"
  },
  {
    "text": "you a list of them and then you can enforce that list on my pages but this",
    "start": "450890",
    "end": "457250"
  },
  {
    "text": "is not the only kind of purpose of CSP over the years it has become a lot more powerful and a lot more flexible so we",
    "start": "457250",
    "end": "464600"
  },
  {
    "start": "463000",
    "end": "463000"
  },
  {
    "text": "can actually start to control the things the browser is allowed to do as well not just the resources that it's allowed to",
    "start": "464600",
    "end": "470150"
  },
  {
    "text": "fetch and I really like the form action we see I see this underutilized everywhere and what you can do with the",
    "start": "470150",
    "end": "477020"
  },
  {
    "text": "form action is again specify a list of domains of where the browser is allowed to post forms to now talking about the",
    "start": "477020",
    "end": "485270"
  },
  {
    "text": "previous example with the scripts the attacker now can't pop a script into that comment but what if they inject a",
    "start": "485270",
    "end": "490730"
  },
  {
    "text": "form tag instead and have a username and a password field and a submit button we've now rendered what could look like",
    "start": "490730",
    "end": "496580"
  },
  {
    "text": "a little login button and form into our sign so we specify the form action and",
    "start": "496580",
    "end": "501950"
  },
  {
    "text": "tell the browser okay you're only allowed to post form data back to me",
    "start": "501950",
    "end": "507080"
  },
  {
    "text": "nowhere else so if somebody injected a form tag like this completely neutralized it's now fixed frame",
    "start": "507080",
    "end": "513919"
  },
  {
    "text": "Ancestors we see a very common attack online called clickjacking where it happens with financial sites a lot they",
    "start": "513919",
    "end": "520250"
  },
  {
    "text": "will load your website into an iframe and they'll put a transparent form over the top so the user can't see it when",
    "start": "520250",
    "end": "525890"
  },
  {
    "text": "they think they're clicking on your form fields and typing in their username and password they're actually clicking on the transparent overlay instead",
    "start": "525890",
    "end": "532820"
  },
  {
    "text": "so with frame ancestors you can say who is allowed to frame my site so if you were to go to your site and try",
    "start": "532820",
    "end": "539040"
  },
  {
    "text": "and do this and put me in a frame the browser will block it and it will not load my site in a frame and then block",
    "start": "539040",
    "end": "546690"
  },
  {
    "text": "comics content came along so those of you who have either moved your web site to HTTPS or have a website on HTTPS you",
    "start": "546690",
    "end": "554250"
  },
  {
    "text": "can load things into your web sites over HTTP it happens a lot by accident and try giving a great example it was it CNN",
    "start": "554250",
    "end": "560970"
  },
  {
    "text": "wasn't it they've just moved brand-new website we've gone to HTTPS today but they have no green padlock because",
    "start": "560970",
    "end": "566610"
  },
  {
    "text": "they're loading one picture by accident over HTTP and it ruins everything so bla",
    "start": "566610",
    "end": "572760"
  },
  {
    "text": "comics content would have blocked that but it's fallen out of favor now excuse me and kind of been replaced by",
    "start": "572760",
    "end": "578070"
  },
  {
    "text": "upgrading secure requests and what that would do if you send upgrading secure requests and you had something like this",
    "start": "578070",
    "end": "583950"
  },
  {
    "text": "on your website just a really innocent image tag but the source attribute is HTTP the upgrading secure request",
    "start": "583950",
    "end": "590910"
  },
  {
    "text": "directive will tell the browser to rewrite that as HTTPS instead and it will completely fix your mixed content",
    "start": "590910",
    "end": "597720"
  },
  {
    "text": "for you you don't have to go through find all of these source attributes and manually update them to HTTPS or to be",
    "start": "597720",
    "end": "603420"
  },
  {
    "text": "protocol relative the browser will fix your problems for you so CSP is pretty",
    "start": "603420",
    "end": "611310"
  },
  {
    "start": "609000",
    "end": "609000"
  },
  {
    "text": "powerful and if you deploy this on your website and let's say that you accidentally forget to whitelist your",
    "start": "611310",
    "end": "617730"
  },
  {
    "text": "style sheets and you block all of your style sheets what's your website going to look like it's not gonna look",
    "start": "617730",
    "end": "624120"
  },
  {
    "text": "particularly great so what we need to do is we need to test a content security policy before we deploy it and we can do",
    "start": "624120",
    "end": "630630"
  },
  {
    "text": "it because we have a mode in CSP called report only so it's a slight modification of the name to the header",
    "start": "630630",
    "end": "636690"
  },
  {
    "text": "so you just add report only to the end of the header and then send exactly the same policy and what you say to the",
    "start": "636690",
    "end": "642480"
  },
  {
    "text": "browser is look I'm thinking about deploying this but just tell me what you would do if I gave it to you but don't",
    "start": "642480",
    "end": "648240"
  },
  {
    "text": "actually do it and the browser will pop little error messages in the console and say okay if you gave me this CSP I would",
    "start": "648240",
    "end": "654660"
  },
  {
    "text": "have blocked this image and I would have blocked this style sheet so you can check what it would do before you",
    "start": "654660",
    "end": "660330"
  },
  {
    "text": "actually turn it on now this is really handy but nobody wants to fly around their website with the console open",
    "start": "660330",
    "end": "665700"
  },
  {
    "text": "looking at error messages so there's an even better way to do this and it's called CSP reporting so again it's the",
    "start": "665700",
    "end": "671730"
  },
  {
    "start": "668000",
    "end": "668000"
  },
  {
    "text": "same the same report only mode and we've added a new report your eye directive to the end here and you specify a URL there",
    "start": "671730",
    "end": "679519"
  },
  {
    "text": "and one this ace to the browser is instead of popping error messages in the console I want you to actually send them",
    "start": "679519",
    "end": "685139"
  },
  {
    "text": "back to me to some central collection location and you can just stand up a little end point we're in a service that does this and",
    "start": "685139",
    "end": "691290"
  },
  {
    "text": "the browser will post you a JSON payload that looks like this and this is essentially turning the browser of your",
    "start": "691290",
    "end": "698009"
  },
  {
    "text": "visitors into kind of a little security slash QA tester because you're saying",
    "start": "698009",
    "end": "703079"
  },
  {
    "text": "look here is a policy my site should adhere to this policy and if it doesn't I want you to send me a report and these",
    "start": "703079",
    "end": "709529"
  },
  {
    "text": "reports are perfectly formatted they contain all of the information that you need to know exactly what the problem",
    "start": "709529",
    "end": "715170"
  },
  {
    "text": "was and that's really powerful because now all of your visitors are going to be constantly scrutinizing your website and",
    "start": "715170",
    "end": "721350"
  },
  {
    "text": "looking for problems and more importantly if they find one not only will the browser block it and protect",
    "start": "721350",
    "end": "726899"
  },
  {
    "text": "the user they'll also tell you that they have to take that action to protect your users so a CSP can be really powerful",
    "start": "726899",
    "end": "735149"
  },
  {
    "text": "there's a lot of features in I want to quickly show a couple of these in action now we're going to have a little demo of",
    "start": "735149",
    "end": "740699"
  },
  {
    "text": "the kinds of things that you can expect to see so come on so I've got a little",
    "start": "740699",
    "end": "751379"
  },
  {
    "text": "CSP demo set up here and I'm going to open up the console so let's reload the",
    "start": "751379",
    "end": "756839"
  },
  {
    "text": "page now I have a content security policy set up on this side and you can",
    "start": "756839",
    "end": "764249"
  },
  {
    "text": "see down here I've already started to get error messages in the console so I have a script tag here they said scripts source security",
    "start": "764249",
    "end": "770730"
  },
  {
    "text": "headers I'll let me zoom in actually so you can see that a bit better so this I put this script tag there but anybody",
    "start": "770730",
    "end": "776759"
  },
  {
    "text": "could have put it there by any number of different means different mechanisms maybe develop a copy and pasted",
    "start": "776759",
    "end": "781800"
  },
  {
    "text": "something from a code snippet maybe it's a cross-site scripting attack it doesn't really matter how it got there what",
    "start": "781800",
    "end": "787860"
  },
  {
    "text": "really matters is that if we come down here we can see that there's an error message in the console and the browser",
    "start": "787860",
    "end": "793379"
  },
  {
    "text": "is saying I refuse to load the script because it violates a following content security policy directive so this is CSP",
    "start": "793379",
    "end": "800490"
  },
  {
    "text": "literally in action he's seen this script tag on the page and security headers the i/o which is a",
    "start": "800490",
    "end": "806600"
  },
  {
    "text": "slightly I'm using the Xhosa file is not in the whitelist then we can go over to the network tab and look at the policy",
    "start": "806600",
    "end": "812660"
  },
  {
    "text": "itself so I have a pretty gnarly CSP",
    "start": "812660",
    "end": "819170"
  },
  {
    "text": "don't let this put you off you start with a small CSP and you work up this is one of the common things that I see but",
    "start": "819170",
    "end": "824630"
  },
  {
    "text": "the domain that we're loading the script from is not in that whitelist so the browser will refuse to load it same",
    "start": "824630",
    "end": "831290"
  },
  {
    "text": "again for an image here using HTTP so if I look at this particular image file and",
    "start": "831290",
    "end": "836750"
  },
  {
    "text": "we take a look at the source attribute of that image that image is being loaded over HTTP written straight into the",
    "start": "836750",
    "end": "842960"
  },
  {
    "text": "source actually bought by the zoom back out have a look up here I still have green HTTP and all of the",
    "start": "842960",
    "end": "849320"
  },
  {
    "text": "indicators normally if you loaded a HTTP asset into a page like that you would have those indicators strips away but I",
    "start": "849320",
    "end": "855350"
  },
  {
    "text": "don't because I'm using upgrading secure requests so if we look again at the network tab where is it here you can see",
    "start": "855350",
    "end": "865400"
  },
  {
    "text": "obviously didn't load because the image doesn't exist but the browser made a HTTP request so the upgrade insecure",
    "start": "865400",
    "end": "872150"
  },
  {
    "text": "taxes the browser's coming through and rendering the page okay we need to go fetch this image abba wait it's on HTTP and he said upgrading",
    "start": "872150",
    "end": "879170"
  },
  {
    "text": "secure request make a HTTP request instead and this is a simple as CSP",
    "start": "879170",
    "end": "885650"
  },
  {
    "text": "needs to be and I also mentioned the form action one so I do have a form",
    "start": "885650",
    "end": "891230"
  },
  {
    "text": "embedded in this page we can take a look at this here so again",
    "start": "891230",
    "end": "896870"
  },
  {
    "text": "doesn't matter how it got there might have been put there by accident could be an attack but we don't care there was a valid form in this page and it's going",
    "start": "896870",
    "end": "904040"
  },
  {
    "text": "to post surf a file called steal password dot PHP hosted on evil com so",
    "start": "904040",
    "end": "909560"
  },
  {
    "text": "I'm actually I'm gonna do this I'm gonna put a real username and password in here don't try this at home folks so in most",
    "start": "909560",
    "end": "920210"
  },
  {
    "text": "normal scenarios if I was to hit submit here would we all agree that the browser should fire a form a post request at the",
    "start": "920210",
    "end": "927740"
  },
  {
    "text": "endpoint specified getting nuts okay no one disagrees that's good so note that we've got two areas in the console I hit",
    "start": "927740",
    "end": "934730"
  },
  {
    "text": "submit obviously one password asked me to save it I don't want to if we come back down to the console now",
    "start": "934730",
    "end": "941259"
  },
  {
    "text": "the browser is saying I refuse to send form data to evil calm slash deal",
    "start": "941259",
    "end": "946940"
  },
  {
    "text": "password because it violates the following content security policy directive and I have form action self",
    "start": "946940",
    "end": "952519"
  },
  {
    "text": "because if a formally submitted on my website there's only one place on this whole planet that I want not to be sent",
    "start": "952519",
    "end": "958130"
  },
  {
    "text": "to and the question that you have to ask is if I have a form on my website do I want it to go anywhere else when it",
    "start": "958130",
    "end": "965060"
  },
  {
    "text": "submits and hopefully the answer is no but even if it's yes you just specify those in your form action so you say",
    "start": "965060",
    "end": "970910"
  },
  {
    "text": "okay forms can post to me and it's one of the location or these two of the locations but you get to control that",
    "start": "970910",
    "end": "976639"
  },
  {
    "text": "and this is really powerful because you can start to protect your users using",
    "start": "976639",
    "end": "981769"
  },
  {
    "text": "these mechanisms but also you're kind of protecting yourself yes the user would have lost their credentials here but if",
    "start": "981769",
    "end": "987949"
  },
  {
    "text": "this happens on one of the services that I run we also don't look great as a service provider so these things will",
    "start": "987949",
    "end": "993680"
  },
  {
    "text": "help you protect your data and make sure that it stays within the locations and the places that it should now for all of",
    "start": "993680",
    "end": "1001029"
  },
  {
    "text": "those things that happened I also mentioned CSP reporting and what you can",
    "start": "1001029",
    "end": "1006040"
  },
  {
    "text": "see down here is that every time something on the page violates that policy something that happens that",
    "start": "1006040",
    "end": "1011230"
  },
  {
    "text": "shouldn't have happened the browser will send one of these post requests and the address is whatever you specify in the",
    "start": "1011230",
    "end": "1017500"
  },
  {
    "text": "report URI directive and if we zip down to the bottom and have a look here you'll see that it was a post request",
    "start": "1017500",
    "end": "1023649"
  },
  {
    "text": "and this is the payload that the browser sent so we get the we get the document",
    "start": "1023649",
    "end": "1031209"
  },
  {
    "text": "URI here which you can see is the address of the page that we're currently on so when you get this report you can",
    "start": "1031209",
    "end": "1036548"
  },
  {
    "text": "say okay on this particular page there is a problem and you can see the problem the one I'm looking at here effective",
    "start": "1036549",
    "end": "1042970"
  },
  {
    "text": "directive image source so already I know there's an image on this page that shouldn't be there or something was wrong with it it tells you was the",
    "start": "1042970",
    "end": "1049990"
  },
  {
    "text": "policy enforced or are you in report only mode if you're testing and then we have the blocked URI what was the thing",
    "start": "1049990",
    "end": "1056620"
  },
  {
    "text": "that was trying to be loaded so you have all of the information here from this one single JSON payload that came to you",
    "start": "1056620",
    "end": "1063309"
  },
  {
    "text": "very post requests automatically from the browser and then if you stand up a",
    "start": "1063309",
    "end": "1068500"
  },
  {
    "text": "service to collect these is a default transparency this is my service you can just collect those graph them",
    "start": "1068500",
    "end": "1074090"
  },
  {
    "text": "run stats on them monitor them and you can do really cool things like checking you know if you deploy into production",
    "start": "1074090",
    "end": "1080059"
  },
  {
    "text": "one day maybe a test asset sneaks into production that shouldn't be there and you'll see a huge spike in your report",
    "start": "1080059",
    "end": "1085340"
  },
  {
    "text": "and you'll be like wow okay there's something pops up on this page on this particular day that shouldn't be there",
    "start": "1085340",
    "end": "1090860"
  },
  {
    "text": "or maybe it's a genuine attack you know anything that's there that shouldn't be there or anything that happens that",
    "start": "1090860",
    "end": "1096740"
  },
  {
    "text": "shouldn't happen and the browser will call back to you and it will tell you automatically in real-time so this is",
    "start": "1096740",
    "end": "1104120"
  },
  {
    "text": "really handy I think it's fairly easy to stand up these endpoints you know you can use free services like us to do this",
    "start": "1104120",
    "end": "1110269"
  },
  {
    "text": "and you can monitor for many different sites and you can see there it is so that's the one from the demo that I just",
    "start": "1110269",
    "end": "1115700"
  },
  {
    "text": "gave you on the website on the page that were on there was a forum action that tried to post there so my browser has",
    "start": "1115700",
    "end": "1122179"
  },
  {
    "text": "sent that back to our service it was processed and rendered into the dashboard and I know if this was real I have a really big problem in that",
    "start": "1122179",
    "end": "1128809"
  },
  {
    "text": "particular page and I can immediately go fix that so reporting is hugely powerful",
    "start": "1128809",
    "end": "1134470"
  },
  {
    "text": "especially because you can deploy in report only mode and test your policy before you go live with it so there's no",
    "start": "1134470",
    "end": "1141559"
  },
  {
    "text": "reason to fear CSP you can deploy and be completely safe and confident but there are many other headers that we need to",
    "start": "1141559",
    "end": "1147919"
  },
  {
    "text": "talk about so I'm going to move on to the next acronym in my slide title which was X XP or the X XSS protection header",
    "start": "1147919",
    "end": "1155690"
  },
  {
    "text": "as it is commonly known now the access header controls the auditor built into",
    "start": "1155690",
    "end": "1163070"
  },
  {
    "start": "1158000",
    "end": "1158000"
  },
  {
    "text": "browsers every browser has an auditor inside it that will try and detect attacks and issues on the page",
    "start": "1163070",
    "end": "1168350"
  },
  {
    "text": "specifically for cross-site scripting and I'm not going to kind of get into a",
    "start": "1168350",
    "end": "1174649"
  },
  {
    "text": "discussion about which browser has the best or the worst auditor I don't think that'd be very professional of me so we'll have a look at what X XP is and",
    "start": "1174649",
    "end": "1182470"
  },
  {
    "text": "again it's another security header you deploy this on to your website as just a",
    "start": "1182470",
    "end": "1187730"
  },
  {
    "text": "standard HTTP response header and then you put the policy that you want the browser to use into the value of the",
    "start": "1187730",
    "end": "1194149"
  },
  {
    "text": "header itself now the good thing I like about XP is that I can actually show you on the slide all possible combinations",
    "start": "1194149",
    "end": "1200690"
  },
  {
    "start": "1195000",
    "end": "1195000"
  },
  {
    "text": "and values because it's very simple and very easy to configure so the first one is just zero",
    "start": "1200690",
    "end": "1206000"
  },
  {
    "text": "which tells the browser to turn off its native defenses turn off the XSS auditor don't try to help me leave me on my own",
    "start": "1206000",
    "end": "1214690"
  },
  {
    "text": "now that signs sounds kind of a bit crazy and it's kind of a bit crazy really there's very few websites that",
    "start": "1214690",
    "end": "1220130"
  },
  {
    "text": "I've seen out in the wild that actually used its the most notable that I can tell you is Facebook Facebook actually disabled the browsers native defenses",
    "start": "1220130",
    "end": "1226790"
  },
  {
    "text": "because they are so confident in their own abilities to mitigate these kinds of attacks they don't want the browser to",
    "start": "1226790",
    "end": "1232700"
  },
  {
    "text": "try and help them and get something wrong and we have seen it in the past where attackers have tricked the auditor",
    "start": "1232700",
    "end": "1238700"
  },
  {
    "text": "into doing things that it shouldn't have done because they made a mistake so if you are a hundred percent confident in",
    "start": "1238700",
    "end": "1245690"
  },
  {
    "text": "your own defenses you can disable the browsers native defenses but I wouldn't recommend that the next policy value is",
    "start": "1245690",
    "end": "1252920"
  },
  {
    "text": "just one and what this says is turn on the auditor and run the auditor to try and detect things and help me and this",
    "start": "1252920",
    "end": "1259400"
  },
  {
    "text": "is actually the default value if you don't specify the header from all of the browsers that I see that have auditors",
    "start": "1259400",
    "end": "1265130"
  },
  {
    "text": "they will be enabled and try and do some kind of protection by default so whether",
    "start": "1265130",
    "end": "1270680"
  },
  {
    "text": "or not you set it this is actually where you are the next setting then is to take things a little bit further and you can",
    "start": "1270680",
    "end": "1277160"
  },
  {
    "text": "configure it into what we call block mode instead now when they seem just mode one in the default mode the browser",
    "start": "1277160",
    "end": "1284540"
  },
  {
    "text": "will try and cut out malicious things that it sees inside the page so if we sees a script tag that it thinks is",
    "start": "1284540",
    "end": "1289550"
  },
  {
    "text": "hostile it will take out just that one script tag and say okay I think I've neutralized the threat you can have the",
    "start": "1289550",
    "end": "1294560"
  },
  {
    "text": "rest of the page I'm going to take this one thing out but I can be abused and utilized in different ways sometime when",
    "start": "1294560",
    "end": "1300860"
  },
  {
    "text": "you're in mode block if the browser thinks there's a problem in the page or some kind of attack it will just stop",
    "start": "1300860",
    "end": "1305870"
  },
  {
    "text": "the page from rendering and say look you can't go to this page because there's something wrong in it I found an attack",
    "start": "1305870",
    "end": "1312310"
  },
  {
    "text": "and the last value is actually just the same as this but again a common theme",
    "start": "1312310",
    "end": "1317930"
  },
  {
    "text": "throughout this you can ask the browser to send you reports if a user comes to your website and their browser detects",
    "start": "1317930",
    "end": "1325250"
  },
  {
    "text": "that some kind of attack is taking place and has to take action to save them would you like to know about that and",
    "start": "1325250",
    "end": "1331010"
  },
  {
    "text": "hopefully the answer to that is yes and the browser has these built-in reporting mechanisms and they're free you don't",
    "start": "1331010",
    "end": "1337130"
  },
  {
    "text": "have to buy any software you have to install anything you can turn it on and say hey send me a report when something bad happens pretty much",
    "start": "1337130",
    "end": "1343940"
  },
  {
    "text": "all browsers support this and the good thing is even if all of them didn't if one or two people report a problem on",
    "start": "1343940",
    "end": "1350720"
  },
  {
    "text": "your website you don't need everybody to tell you you actually only need one person to tell you so support is already",
    "start": "1350720",
    "end": "1356510"
  },
  {
    "text": "at the point where this is really useful and these reporting mechanisms should be utilized more than they are so again I",
    "start": "1356510",
    "end": "1364909"
  },
  {
    "text": "want to kind of show how these things work so we're gonna do a quick demo for xxp as well so I have a demo here if i",
    "start": "1364909",
    "end": "1380149"
  },
  {
    "text": "refresh this page we can see that there is an alert on the page and this is exactly as it should be we'll inspect",
    "start": "1380149",
    "end": "1385820"
  },
  {
    "text": "the source here and just take a quick look at this script tag so you can see",
    "start": "1385820",
    "end": "1392510"
  },
  {
    "text": "there's a script sake I'll zoom in on that for you there's a script tag here that's been loaded and this is what pops the alert so let's have a look at the",
    "start": "1392510",
    "end": "1400039"
  },
  {
    "text": "script tag you can see it's really innocuous that's literally all it does and it still says London cuz I gave this talk a few weeks ago a few days ago",
    "start": "1400039",
    "end": "1405770"
  },
  {
    "text": "sorry in London and the access auditor is configured in the default mode here",
    "start": "1405770",
    "end": "1411260"
  },
  {
    "text": "and what I want to demonstrate is how the auditor can actually be tricked so",
    "start": "1411260",
    "end": "1416720"
  },
  {
    "text": "if I take this script tag I'm going to take a copy of the actual script tag",
    "start": "1416720",
    "end": "1422090"
  },
  {
    "text": "itself what I'm going to do I'm gonna come up here I'm just going to make up a get parameter and set the value of that",
    "start": "1422090",
    "end": "1428270"
  },
  {
    "text": "get parameter to the script tag itself should this change anything when I",
    "start": "1428270",
    "end": "1433429"
  },
  {
    "text": "submit this do we think there will be any different behavior on the page so",
    "start": "1433429",
    "end": "1439010"
  },
  {
    "text": "I'm gonna submit that and the page is now reloaded I'll do that again command",
    "start": "1439010",
    "end": "1444289"
  },
  {
    "text": "R reload the page where's my alert now",
    "start": "1444289",
    "end": "1449779"
  },
  {
    "text": "you may have noticed as an error has popped up in the console and we'll go take a look at that and it says here the",
    "start": "1449779",
    "end": "1455779"
  },
  {
    "text": "XSS auditor has refused to execute a script in this page because it violates because the source code was found within",
    "start": "1455779",
    "end": "1462559"
  },
  {
    "text": "the request so what this means here what what the browser things is happening because I passed that script tag in the",
    "start": "1462559",
    "end": "1470240"
  },
  {
    "text": "request and the browser knows that the browser then got the response from the server and it saw an exact copy of",
    "start": "1470240",
    "end": "1476690"
  },
  {
    "text": "the script tagging the request in the page so the browser now thinks that because you've put it in the URL the",
    "start": "1476690",
    "end": "1482810"
  },
  {
    "text": "server has as a result put it in the page so I want to take that out because this is a cross-site scripting attack",
    "start": "1482810",
    "end": "1488030"
  },
  {
    "text": "and we tricked the auditor into doing something we tricked the auditor into removing something from the page and you",
    "start": "1488030",
    "end": "1494600"
  },
  {
    "text": "can do this on any side with any script tag in it go to a website look at the source code find a script tag and put it",
    "start": "1494600",
    "end": "1500960"
  },
  {
    "text": "in the URL as a get parameter and reload the page and the browser will strip that script out of the page and then you have",
    "start": "1500960",
    "end": "1506540"
  },
  {
    "text": "to start thinking well what does that script do what I was it there is it useful should the attacker be able to",
    "start": "1506540",
    "end": "1512690"
  },
  {
    "text": "filter those things out of the page itself and this is why I'm not familiar I'm not fond sorry of the of the default",
    "start": "1512690",
    "end": "1520370"
  },
  {
    "text": "mode this page here is exactly the same page except I have the order to configured to block mode just so you can",
    "start": "1520370",
    "end": "1526040"
  },
  {
    "text": "see what happens so same page we get the same JavaScript alert and I'm gonna go grab a copy of that script so we can see",
    "start": "1526040",
    "end": "1533240"
  },
  {
    "text": "it so an area down here here we go",
    "start": "1533240",
    "end": "1542980"
  },
  {
    "text": "anyway so let's take a look at that we've got the script tag I'm gonna do the same thing copy the element let me go up to the top",
    "start": "1542980",
    "end": "1549970"
  },
  {
    "text": "make up any get primary two again the server he's not expecting like a particular get parameter you can just type anything in there copy paste except",
    "start": "1549970",
    "end": "1559190"
  },
  {
    "text": "this time page hasn't loaded because we're now in block mode so the browser",
    "start": "1559190",
    "end": "1564770"
  },
  {
    "text": "has detected the same issue the script tag went in the get request and it came back in the page we think this is an",
    "start": "1564770",
    "end": "1570050"
  },
  {
    "text": "attack except now assuming again so you can see down here they saying the page",
    "start": "1570050",
    "end": "1575450"
  },
  {
    "text": "load was blocked by the XSS auditor and this is the difference between the two modes one in default mode will just take",
    "start": "1575450",
    "end": "1581390"
  },
  {
    "text": "the script tag out let the rest of the page load in block mode it will throw out this error messages and say well",
    "start": "1581390",
    "end": "1586790"
  },
  {
    "text": "look there's something wrong with page so let's just rather than try and fix it and maybe do the wrong thing let's just",
    "start": "1586790",
    "end": "1591950"
  },
  {
    "text": "stop here and we'll send a report so that's the XSS auditor and I think the",
    "start": "1591950",
    "end": "1600410"
  },
  {
    "text": "biggest reason that I recommend setting this is that I don't think we should use default modes and default settings",
    "start": "1600410",
    "end": "1605960"
  },
  {
    "text": "because those defaults they also be different across different browser vendors so even if you want to",
    "start": "1605960",
    "end": "1611420"
  },
  {
    "text": "set the default value we should be explicit about that we should say look we've made an informed decision we're",
    "start": "1611420",
    "end": "1616760"
  },
  {
    "text": "going to set this header and this is our configuration don't depend on the default and the default may change the default action in one browser may be",
    "start": "1616760",
    "end": "1623030"
  },
  {
    "text": "default it may be different to the default action in another browser as well so I think we should be explicit",
    "start": "1623030",
    "end": "1628430"
  },
  {
    "text": "about how how we do these things in how we use these different technologies so",
    "start": "1628430",
    "end": "1634370"
  },
  {
    "text": "that was xxp and the next acronym from my slide title was STS and again this is",
    "start": "1634370",
    "end": "1639560"
  },
  {
    "text": "another HTTP response header there are a lot of these that you can use and strict Transport Security is something that you",
    "start": "1639560",
    "end": "1646820"
  },
  {
    "text": "should absolutely be deploying if your website looks like this so many websites",
    "start": "1646820",
    "end": "1656120"
  },
  {
    "text": "are moving to HTTPS now I regularly scan the top 1 million websites on the planet",
    "start": "1656120",
    "end": "1661220"
  },
  {
    "text": "I scan them every day and I track various different security metrics about them and one of the things that I do",
    "start": "1661220",
    "end": "1666860"
  },
  {
    "text": "track is the percentage of the size that redirect to HTTPS that force you on to",
    "start": "1666860",
    "end": "1672110"
  },
  {
    "text": "HTTPS when you arrive at them and the interesting thing about this is not only are we steadily increasing the amount of",
    "start": "1672110",
    "end": "1679400"
  },
  {
    "text": "sites that are on HTTPS we're actually increasing the rate of adoption this graph gets steeper as we go through time",
    "start": "1679400",
    "end": "1685910"
  },
  {
    "text": "so we're seeing HTTPS adopted across the web right now a rate that we've never seen before in history but most science",
    "start": "1685910",
    "end": "1693020"
  },
  {
    "text": "deploy HTTPS and then just stop there and there's actually one more thing that you need to do before you can say that",
    "start": "1693020",
    "end": "1699620"
  },
  {
    "text": "you are finished with your deployment and it is to deploy strict Transport Security we refer to its HSTs because",
    "start": "1699620",
    "end": "1706250"
  },
  {
    "start": "1703000",
    "end": "1703000"
  },
  {
    "text": "this is HTTP strict Transport Security so STS is a wider range mechanism and",
    "start": "1706250",
    "end": "1711260"
  },
  {
    "text": "we're looking at specifically today in the context of HTTP so standard browsing",
    "start": "1711260",
    "end": "1717920"
  },
  {
    "text": "scenario you open up your browser you want to go to Twitter what do you type in the address bar most people pretty",
    "start": "1717920",
    "end": "1723590"
  },
  {
    "text": "much everybody I know just types in Twitter comm and hits the enter button now the user didn't specify the scheme",
    "start": "1723590",
    "end": "1730100"
  },
  {
    "text": "but to make the request the browser needs one and every single browser even today right now on all of your devices",
    "start": "1730100",
    "end": "1736550"
  },
  {
    "text": "if you type in the domain without a scheme will default to hate ctp because that's the default protocol",
    "start": "1736550",
    "end": "1743360"
  },
  {
    "text": "of the web at one point it was the only one that we had there was no other HTTP didn't exist at one point so browsers",
    "start": "1743360",
    "end": "1749270"
  },
  {
    "text": "have always defaulted to that and they still do to this day now that's not so",
    "start": "1749270",
    "end": "1754490"
  },
  {
    "text": "bad I guess because we'll send that HTTP request to Twitter and Twitter they use",
    "start": "1754490",
    "end": "1759710"
  },
  {
    "text": "HTTP they of course will send a 301 byte well send a redirect back and say hey look we don't do this HTTP thing",
    "start": "1759710",
    "end": "1765800"
  },
  {
    "text": "please come back over HTTP the browser will receive that redirect and then it will do another request and follow the",
    "start": "1765800",
    "end": "1772970"
  },
  {
    "text": "location the only problem is we spend a",
    "start": "1772970",
    "end": "1778040"
  },
  {
    "text": "lot of our time in this conversation talking over HTTP and one really crucial",
    "start": "1778040",
    "end": "1783380"
  },
  {
    "text": "thing came back to the browser over HTTP and we have to remember HTTP is not secure anything we do or say over HTTP",
    "start": "1783380",
    "end": "1790670"
  },
  {
    "text": "can be seen by an attacker can be changed can be modified how important in",
    "start": "1790670",
    "end": "1795920"
  },
  {
    "text": "the upgrade process do we think that 301 is that 301 is our upgrade indicator",
    "start": "1795920",
    "end": "1801560"
  },
  {
    "text": "this is Twitter saying no go away come back and do it securely how are we sending that to the browser we're",
    "start": "1801560",
    "end": "1807980"
  },
  {
    "text": "sending that to the browser over HTTP if we send over HTTP what does that mean means it can be viewed means it can be",
    "start": "1807980",
    "end": "1815390"
  },
  {
    "text": "modified means it can be changed so we already have a problem because we started the conversation insecurely",
    "start": "1815390",
    "end": "1821870"
  },
  {
    "text": "meaning someone could meddle with our communications so after that after that",
    "start": "1821870",
    "end": "1827120"
  },
  {
    "text": "first get request is send the game is up because we can't ever rely on getting the redirect back so what we end up with",
    "start": "1827120",
    "end": "1834140"
  },
  {
    "text": "there's a tool out there called SSL strip and we end up in a situation where",
    "start": "1834140",
    "end": "1839330"
  },
  {
    "text": "the attacker Caesars make that HTTP GET request and they just pretend to be Twitter but then on the other side they",
    "start": "1839330",
    "end": "1845750"
  },
  {
    "text": "proxy our request to Twitter over HTTPS to keep Twitter happy so because the",
    "start": "1845750",
    "end": "1851420"
  },
  {
    "text": "browser opened the conversation on HTTP and never saw the 301 the browser doesn't think there's a problem and as",
    "start": "1851420",
    "end": "1857810"
  },
  {
    "text": "far as Twitter is concerned the browser is speaking HTTPS they don't know that we're being proxied and neither does the",
    "start": "1857810",
    "end": "1863660"
  },
  {
    "text": "browser and this is a really big issue because this is a trivial attack when you open your browser and go to a",
    "start": "1863660",
    "end": "1869360"
  },
  {
    "text": "website we all know our 301 czar we all know what redirects are they're there for a reason but the attacker will seem",
    "start": "1869360",
    "end": "1875120"
  },
  {
    "text": "throw that away they're not gonna let that come through because it will defeat what they're there to do which is to spy on us look at the things that we're",
    "start": "1875120",
    "end": "1880970"
  },
  {
    "text": "doing so to mitigate this this is really simple this is a really simple attack to launch well fortunately it's really",
    "start": "1880970",
    "end": "1887270"
  },
  {
    "text": "simple to fix as well and what we do is we issue another security header and",
    "start": "1887270",
    "end": "1892940"
  },
  {
    "text": "this one is called strict Transport Security so again just like all the other headers you issue it and you put the policy that you would like enforcing",
    "start": "1892940",
    "end": "1899510"
  },
  {
    "text": "inside the value of the header and again the other thing that I like about SDS is that it's really simple these are the",
    "start": "1899510",
    "end": "1905750"
  },
  {
    "start": "1902000",
    "end": "1902000"
  },
  {
    "text": "only possible different values that you can configure the only directives that exist and the only one that you actually",
    "start": "1905750",
    "end": "1911630"
  },
  {
    "text": "need is the max age so that's the only required one for a valid policy and this is the number of",
    "start": "1911630",
    "end": "1916760"
  },
  {
    "text": "seconds that the browser should cache this policy for includes subdomains we apply STS to a domain and you can also",
    "start": "1916760",
    "end": "1923390"
  },
  {
    "text": "include subdomains if you wish I'll talk about pre-loading in just a second as well so you want to issue this STS",
    "start": "1923390",
    "end": "1931280"
  },
  {
    "start": "1930000",
    "end": "1930000"
  },
  {
    "text": "policy the strict Transport Security policy this is all you need for a valid policy the max age and the number of",
    "start": "1931280",
    "end": "1936679"
  },
  {
    "text": "seconds you would like it caching for once the browser has received this in cached it it applies a really simple",
    "start": "1936679",
    "end": "1943880"
  },
  {
    "text": "mitigation to everything that I've just talked about this tells the browser you",
    "start": "1943880",
    "end": "1949130"
  },
  {
    "text": "will never speak to me again over HTTP for the duration that I have set in the max age you're telling the",
    "start": "1949130",
    "end": "1956270"
  },
  {
    "text": "browser to default to HTTPS instead of defaulting to http but not only that",
    "start": "1956270",
    "end": "1962360"
  },
  {
    "text": "it's actually a little bit more powerful than that because now if the user opens the browser and you actually type in",
    "start": "1962360",
    "end": "1968240"
  },
  {
    "text": "HTTP colon slash slash as the user the browser will override you and that's a",
    "start": "1968240",
    "end": "1973730"
  },
  {
    "text": "really powerful thing to have we don't often get to override user input in a user agent if you click a link on",
    "start": "1973730",
    "end": "1980150"
  },
  {
    "text": "another website that links to your site if that link says HTTP the browser will say nope we're gonna do HTTPS instead",
    "start": "1980150",
    "end": "1987700"
  },
  {
    "text": "bookmarks are another common one people made bookmarks a long time ago and they stay HTTP the browser will force it to",
    "start": "1987700",
    "end": "1994910"
  },
  {
    "text": "be a secure connection so end up in a situation like this using the same example as before the user opens their",
    "start": "1994910",
    "end": "2001300"
  },
  {
    "text": "browser and types in twitter.com historically the browser would have defaulted to http but of course Twitter",
    "start": "2001300",
    "end": "2007360"
  },
  {
    "text": "do use eight ts so the browser says no and the browser will say no in any scenario that",
    "start": "2007360",
    "end": "2014950"
  },
  {
    "text": "it would do in secure communications it doesn't matter whether it was a link of bookmark whether you typed it or what",
    "start": "2014950",
    "end": "2020200"
  },
  {
    "text": "nothing that he's insecure will ever leave that browser and go to Twitter the",
    "start": "2020200",
    "end": "2025870"
  },
  {
    "text": "browser instead rewrite the request as a HTTP request and send it and what this",
    "start": "2025870",
    "end": "2031690"
  },
  {
    "text": "means is our whole conversation now happens over HTTPS instead so we can",
    "start": "2031690",
    "end": "2037299"
  },
  {
    "text": "actually just throw away that HTTP request because it's never even made it no longer exists and not only that it's",
    "start": "2037299",
    "end": "2043120"
  },
  {
    "text": "not possible to make one you can't make the browser do it so SCS is really",
    "start": "2043120",
    "end": "2048970"
  },
  {
    "text": "powerful and everybody has to use it because that SSL stripping attack is so simple and easy to do you go to all this",
    "start": "2048970",
    "end": "2055089"
  },
  {
    "text": "trouble of deploying HTTPS on your website to keep your stuff private and secure and attackers can get around that",
    "start": "2055089",
    "end": "2060580"
  },
  {
    "text": "quite easily actually so this want to show again another quick example of what this would look like how",
    "start": "2060580",
    "end": "2068858"
  },
  {
    "text": "that guy stops drilling soon so just",
    "start": "2068859",
    "end": "2074618"
  },
  {
    "text": "load up my page because I want to get the dev tools open so let's have a look",
    "start": "2074619",
    "end": "2081280"
  },
  {
    "text": "at the network tab here and I'll preserve the log so that we can scroll through it I'm gonna go to a website",
    "start": "2081280",
    "end": "2087070"
  },
  {
    "text": "that I know works on HTTP a good old BBC in the UK they still can't secure all",
    "start": "2087070",
    "end": "2093460"
  },
  {
    "text": "the things but I'm gonna sit right back to the top here because we made a HTTP",
    "start": "2093460",
    "end": "2099070"
  },
  {
    "text": "request at the beginning so we sent the HTTP request and they can and do so",
    "start": "2099070",
    "end": "2104290"
  },
  {
    "text": "securely now so they send us a 301 back and they say no we don't want to do this insecure thing anymore we would like you to come back over HTTP but again the",
    "start": "2104290",
    "end": "2112540"
  },
  {
    "text": "location header here they have a nasty redirect chain but it's happening over HTTP so they've just sent us the",
    "start": "2112540",
    "end": "2119260"
  },
  {
    "text": "information to go secure over an insecure Channel which means they would never get to us if there was a hostile",
    "start": "2119260",
    "end": "2124599"
  },
  {
    "text": "bad guy on this Wi-Fi he would just throw that away why am I gonna let them go to HTTPS when I can't see what",
    "start": "2124599",
    "end": "2130780"
  },
  {
    "text": "they're doing then we'll just put a stop to that thank you and then we'll keep watching you on HTTP so eventually if we",
    "start": "2130780",
    "end": "2137140"
  },
  {
    "text": "follow through the redirect chain we do finally get to a HTTPS page all",
    "start": "2137140",
    "end": "2142450"
  },
  {
    "text": "the redirects happen on HTTP and they're pointless because HTTP is vulnerable so",
    "start": "2142450",
    "end": "2149530"
  },
  {
    "text": "if I clear this and again I'll preserve the log and this time I'll go to my website over HTTP and again no in the",
    "start": "2149530",
    "end": "2157540"
  },
  {
    "text": "address bar I'm specifically stating HTTP here I'm the user I'm the boss I'm asking my browser to do a specific thing",
    "start": "2157540",
    "end": "2164050"
  },
  {
    "text": "for me let's see what happens so we've got our HTTP request at the",
    "start": "2164050",
    "end": "2172450"
  },
  {
    "text": "start as you would expect it's requesting my home page on HTTP except this time we've got a slightly",
    "start": "2172450",
    "end": "2178089"
  },
  {
    "text": "different outcome the status code here is 307 and then it says internal",
    "start": "2178089",
    "end": "2183700"
  },
  {
    "text": "redirect now that's quite an odd one because we'd normally expect a 301 or a 302 to come back here but if we look at",
    "start": "2183700",
    "end": "2190240"
  },
  {
    "text": "the 307 the reason that this happened was because of HSTs I of course I'm a",
    "start": "2190240",
    "end": "2196390"
  },
  {
    "text": "security guy and if I didn't have this everyone just yell at me on Twitter I of course have HSTs setup on my site and",
    "start": "2196390",
    "end": "2201640"
  },
  {
    "text": "because the browser has remembered dice forced the communications to be secure so the browser actually redirects the",
    "start": "2201640",
    "end": "2208270"
  },
  {
    "text": "request internally it doesn't have to send it to the network to the site to get the redirect it already knows and",
    "start": "2208270",
    "end": "2214150"
  },
  {
    "text": "then if we look at the next request that is the HTTP request to my home page now",
    "start": "2214150",
    "end": "2220869"
  },
  {
    "text": "that first redirect as well the other thing I like about this is it's really quick because that's an internal redirect it takes like a fraction of a",
    "start": "2220869",
    "end": "2226480"
  },
  {
    "text": "microsecond if you were to go out over the network and do that and come back it's probably going to take in a region of a hundred plus milliseconds so I also",
    "start": "2226480",
    "end": "2233140"
  },
  {
    "text": "just took a hundred to 200 milliseconds off my page all the time by skipping out on the redirect and I've just served one",
    "start": "2233140",
    "end": "2239470"
  },
  {
    "text": "must request because I didn't have to answer the HTTP request either so there's lots of benefits here there's",
    "start": "2239470",
    "end": "2245079"
  },
  {
    "text": "basically no reason if you're on HTTPS already that you should not be using this so that was STS and hopefully",
    "start": "2245079",
    "end": "2255970"
  },
  {
    "text": "everybody now kind of understands why that's so important those attacks are so trivial so easy to launch we have to",
    "start": "2255970",
    "end": "2262119"
  },
  {
    "text": "mitigate against them simple HTTP response header will do that for you so",
    "start": "2262119",
    "end": "2268300"
  },
  {
    "text": "next up pkp was the next acronym in my slide title in contrast although the",
    "start": "2268300",
    "end": "2274480"
  },
  {
    "text": "others pkp is actually quite a complex mechanism in it protects against a pretty big problem but it's a",
    "start": "2274480",
    "end": "2280650"
  },
  {
    "text": "lot it's a lot to get your head around so let's see if we can do it when you want to set up HTTPS on your website you",
    "start": "2280650",
    "end": "2287610"
  },
  {
    "start": "2284000",
    "end": "2284000"
  },
  {
    "text": "have to go to a certificate authority and get a certificate so you go to your CA you get a certificate you install",
    "start": "2287610",
    "end": "2293670"
  },
  {
    "text": "that on your website and then you get green padlocks and all the pretty things in the browser CAS have processes in",
    "start": "2293670",
    "end": "2299340"
  },
  {
    "text": "place when you approach them and ask for a certificate they're supposed to check that you actually own the domain that",
    "start": "2299340",
    "end": "2304530"
  },
  {
    "text": "you claim when I go and say hey I'm Scott home doctor at UK and I'd like a certificate they get me to prove my",
    "start": "2304530",
    "end": "2309720"
  },
  {
    "text": "identity I have to show them that I own that domain who here has perfect security nobody do",
    "start": "2309720",
    "end": "2318090"
  },
  {
    "text": "we think certificate authorities have perfect security can they make mistakes could they be tricked could they be",
    "start": "2318090",
    "end": "2323760"
  },
  {
    "text": "compromised from a security perspective of course they come so on the screen here what I have is one certificate that",
    "start": "2323760",
    "end": "2331020"
  },
  {
    "text": "is mine I obtained it and it's legitimate and the other one is one that an attacker obtained by tricking a CA",
    "start": "2331020",
    "end": "2337470"
  },
  {
    "text": "into believing that they were me which is which and this is the problem right",
    "start": "2337470",
    "end": "2345150"
  },
  {
    "text": "if you can get a certificate for my website as far as everybody in this room is concerned you are then me and you can",
    "start": "2345150",
    "end": "2351300"
  },
  {
    "text": "prove that because you've got a certificate and this is a bit of an issue because now if I was PayPal calm",
    "start": "2351300",
    "end": "2356550"
  },
  {
    "text": "we have a real issue just you know it was the one on the right nobody got it so we can use pkp to defend against this",
    "start": "2356550",
    "end": "2363930"
  },
  {
    "text": "we call them rogue certificates when someone gets a certificate that they shouldn't have it's called a rogue sir",
    "start": "2363930",
    "end": "2369270"
  },
  {
    "text": "and pkp will protect against this and again sorry for the common theme here but it's another security header really",
    "start": "2369270",
    "end": "2375540"
  },
  {
    "text": "simple mechanism you turn it on you issue the header and you put the policy into the header that the browser will",
    "start": "2375540",
    "end": "2381300"
  },
  {
    "text": "enforce and again really simple pkp only has three directives hopefully the max",
    "start": "2381300",
    "end": "2386970"
  },
  {
    "text": "age and include subdomains will be familiar they're the same as what we just had in STS the number of seconds",
    "start": "2386970",
    "end": "2392130"
  },
  {
    "text": "the browser should cache it for and should we apply this to subdomains under the current domain the pin value here is",
    "start": "2392130",
    "end": "2398670"
  },
  {
    "text": "the new one and you actually have to have a minimum of two pin values in your policy now what we do is when you deploy",
    "start": "2398670",
    "end": "2406710"
  },
  {
    "text": "HTTPS on your website you have to have an encryption key on so that's what we do the encryption with",
    "start": "2406710",
    "end": "2411840"
  },
  {
    "text": "so you take the hash of that key because this is your key only you have it you",
    "start": "2411840",
    "end": "2417120"
  },
  {
    "text": "take the hash and you put it into the first value of this header and say look this is the sha-256 hash of the key that",
    "start": "2417120",
    "end": "2424020"
  },
  {
    "text": "I would like to pin the second one is required because hopefully you have to go offline somewhere generate a new key",
    "start": "2424020",
    "end": "2429450"
  },
  {
    "text": "and that's your backup so you take a hash of that and you put that into the second value and what you're saying to",
    "start": "2429450",
    "end": "2435030"
  },
  {
    "text": "the browser is look I have this one key and I also have this other key which is my backup and when you come back to my",
    "start": "2435030",
    "end": "2441090"
  },
  {
    "text": "website I should be using one of these two keys check that they match this",
    "start": "2441090",
    "end": "2447170"
  },
  {
    "text": "because if an attacker compromises the CA and managed to trick them they'll be using their own key which is different",
    "start": "2447170",
    "end": "2454350"
  },
  {
    "text": "to mine and the hash values would not match so we agree we're giving the browns of the hash to check that I am using the keys that are in my possession",
    "start": "2454350",
    "end": "2460830"
  },
  {
    "text": "when the browser comes back to my site now for those of you slightly more interested in the PKI",
    "start": "2460830",
    "end": "2466700"
  },
  {
    "text": "and kind of certificate side of things the pin itself is actually the hash of",
    "start": "2466700",
    "end": "2471960"
  },
  {
    "text": "something we call the spki which is a subject public key information we don't need to worry too much about this unless",
    "start": "2471960",
    "end": "2477990"
  },
  {
    "text": "you're really deeply interested in the PKI side of it but we hash a part of the key itself and the other interesting",
    "start": "2477990",
    "end": "2484740"
  },
  {
    "text": "thing with pkp is if you do want to go away and look at this the other thing to consider is that you don't actually have to pin your own keys if you don't want",
    "start": "2484740",
    "end": "2491880"
  },
  {
    "text": "to you can hand the responsibility over to other certificates in the chain which",
    "start": "2491880",
    "end": "2496950"
  },
  {
    "text": "includes the intermediate and the root certificate as well so if you don't want to have to look after your own keys and",
    "start": "2496950",
    "end": "2503130"
  },
  {
    "text": "handle the rotation and the backups you could pin at the intermediate and say okay when you come back to my website",
    "start": "2503130",
    "end": "2508820"
  },
  {
    "text": "essentially what you're saying is this should be the intermediate certificate that is used so if the attacker goes and",
    "start": "2508820",
    "end": "2514920"
  },
  {
    "text": "compromises a different c CA so I'm using less encrypt here let's say they go compromised Verisign the browser will",
    "start": "2514920",
    "end": "2521850"
  },
  {
    "text": "come back and say well hanging up in it this is the very science earth scott only get certificates from let's encrypt",
    "start": "2521850",
    "end": "2527060"
  },
  {
    "text": "even though it's valid I'm not going to accept it there's a lot of different ways you can configure this and there",
    "start": "2527060",
    "end": "2532740"
  },
  {
    "text": "are a few more caviar so do you look up into this if you want to go ahead and deploy it now again this is a very",
    "start": "2532740",
    "end": "2539550"
  },
  {
    "text": "powerful mechanism you want to make absolutely sure that your pin values are right before you deployed them because if they're",
    "start": "2539550",
    "end": "2545260"
  },
  {
    "text": "wrong you're gonna have some serious problems so we have a report only version of this header here is my policy",
    "start": "2545260",
    "end": "2552299"
  },
  {
    "text": "how does this look what would you do would you turn off my website and block everything or are we okay deploying",
    "start": "2552299",
    "end": "2558160"
  },
  {
    "text": "report on the mode and you get those errors in the console if you don't want to do that again we have another report",
    "start": "2558160",
    "end": "2563410"
  },
  {
    "text": "directive here they report your eye directive and you can say look if you come to my site there's a problem I want",
    "start": "2563410",
    "end": "2568930"
  },
  {
    "text": "you to call back and tell me about it and you get a nice JSON payload and it says look you've told me that you would",
    "start": "2568930",
    "end": "2575109"
  },
  {
    "text": "have these keys but instead I found these ones so there's a problem now I'm",
    "start": "2575109",
    "end": "2581380"
  },
  {
    "text": "not going to demo pkp because if I demo pkp I'd only have a couple of minutes to do it and that's kind of like giving you",
    "start": "2581380",
    "end": "2588099"
  },
  {
    "text": "a two-minute tutorial on how to handle weapons-grade plutonium it's really not going to go that well so I'm gonna skip",
    "start": "2588099",
    "end": "2594130"
  },
  {
    "text": "over that if you do want to have a look at pkp the way that you can tell whether this is for you is to answer this",
    "start": "2594130",
    "end": "2600640"
  },
  {
    "text": "question if you could go to a certificate authority and you could get a certificate for any website on the",
    "start": "2600640",
    "end": "2606190"
  },
  {
    "text": "planet any domain who would you get a certificate for so any song child what",
    "start": "2606190",
    "end": "2611380"
  },
  {
    "text": "would you get a cert for you can have any certificate in the world for any site that's one so one shout them out",
    "start": "2611380",
    "end": "2617920"
  },
  {
    "text": "why are they gonna be banks Google Amazon PayPal Facebook if you are in",
    "start": "2617920",
    "end": "2623740"
  },
  {
    "text": "that list you don't need this this is a really high value site government sites financial sites for really big",
    "start": "2623740",
    "end": "2629559"
  },
  {
    "text": "organizations if someone compromises a CA they're not gonna get a certificate for you know Joe's pizza shop com they",
    "start": "2629559",
    "end": "2637210"
  },
  {
    "text": "you don't need that so that's the metric by which I usually gauge whether or not you need this now the last one on here",
    "start": "2637210",
    "end": "2646329"
  },
  {
    "text": "is CAA and the interesting thing with CAS PK P's kind of falling out of favor",
    "start": "2646329",
    "end": "2652240"
  },
  {
    "text": "right now and I see pkp being replaced by two other mechanisms of which CAA",
    "start": "2652240",
    "end": "2657430"
  },
  {
    "text": "is one of them is trying to address some of the things that CAA addresses without all of the risk of completely blowing up",
    "start": "2657430",
    "end": "2663220"
  },
  {
    "text": "your website so CAA controls who is",
    "start": "2663220",
    "end": "2668440"
  },
  {
    "text": "allowed to issue certificates for your website you want to set up HTTPS you get a cert and then you get the pretty green",
    "start": "2668440",
    "end": "2674200"
  },
  {
    "text": "padlock that we all won now I only use one CA to get my",
    "start": "2674200",
    "end": "2679430"
  },
  {
    "text": "certificates on my website and that's C I use let's encrypt and they issue free certificates by the way so if you're paying for these things you really don't",
    "start": "2679430",
    "end": "2685460"
  },
  {
    "text": "have to anymore but if somebody goes to a different CA it could be anywhere in",
    "start": "2685460",
    "end": "2690530"
  },
  {
    "text": "the world the China post office is an example is a CA for whatever reason if somebody went to them and could trick",
    "start": "2690530",
    "end": "2696440"
  },
  {
    "text": "them into thinking that they were me they would be issued a certificate for my site and the problem is there's a lot",
    "start": "2696440",
    "end": "2703940"
  },
  {
    "text": "more than just my CA in the world there's hundreds of these organizations all around the planet so if you want a",
    "start": "2703940",
    "end": "2710000"
  },
  {
    "text": "certificate for my site you could come over here and try this one I say okay I'm Scott can i trick you no rats",
    "start": "2710000",
    "end": "2715880"
  },
  {
    "text": "okay next one let's go to this different company and see if I can trick them to give me one maybe these guys have got",
    "start": "2715880",
    "end": "2721040"
  },
  {
    "text": "bad security and we can hack them and get in but the point is that any of these organizations any of these CAS",
    "start": "2721040",
    "end": "2726110"
  },
  {
    "text": "around the world can issue certificates for my site if they can be tricked or compromised and what I is the domain",
    "start": "2726110",
    "end": "2731630"
  },
  {
    "text": "owner would like is a way to say look I only want to get certificates from my domain from this one place",
    "start": "2731630",
    "end": "2736940"
  },
  {
    "text": "nowhere else nobody else should be doing this and that's what CAA gives you gives you the ability to specify your",
    "start": "2736940",
    "end": "2743780"
  },
  {
    "text": "preference and we do that with a new DNS record that has been created specifically for this so hopefully",
    "start": "2743780",
    "end": "2750920"
  },
  {
    "start": "2745000",
    "end": "2745000"
  },
  {
    "text": "everybody is familiar with DNS records we've got a records for our IP addresses quad-a for ipv6 tax records there's a",
    "start": "2750920",
    "end": "2757970"
  },
  {
    "text": "whole bunch of different ones a new CA a record was created just for this purpose",
    "start": "2757970",
    "end": "2765410"
  },
  {
    "text": "and what you can do is now specified the CAS that you authorized to issue",
    "start": "2765410",
    "end": "2771890"
  },
  {
    "text": "certificates for your domain so we have the issue directive and I put let's encrypt org in that because I oughta",
    "start": "2771890",
    "end": "2778970"
  },
  {
    "text": "write them to issue certificates for me I also authorize them to issue wild card",
    "start": "2778970",
    "end": "2784040"
  },
  {
    "text": "certificates for me and then really nicely we have this io death reporting directive and what this says is look if",
    "start": "2784040",
    "end": "2791000"
  },
  {
    "text": "someone comes to you and tries to get a certificate for my domain and you reject it please tell me please send me an",
    "start": "2791000",
    "end": "2796610"
  },
  {
    "text": "e-mail or you can put a URL and have them post a record back to you and say look if someone's out there trying to",
    "start": "2796610",
    "end": "2802100"
  },
  {
    "text": "get certificates for my domain I am pretty sure that I would like to know about that so do tell me",
    "start": "2802100",
    "end": "2807370"
  },
  {
    "text": "and that's all there is to CAA you literally just create a DNS record so I",
    "start": "2807370",
    "end": "2813610"
  },
  {
    "text": "want to take a quick look at these as well because it's really quite simple in the thing I love about these mechanisms",
    "start": "2813610",
    "end": "2818980"
  },
  {
    "text": "is you don't have to buy specialist software you have to install anything we're talking about HTTP headers and DNS",
    "start": "2818980",
    "end": "2825070"
  },
  {
    "text": "records so Google has a dig tool here I",
    "start": "2825070",
    "end": "2830290"
  },
  {
    "text": "won't do this on the command line so let's have a look I've got my a record I've got my quad-a records and we",
    "start": "2830290",
    "end": "2837550"
  },
  {
    "text": "literally quite simply just have a new type of DNS record so in here you can",
    "start": "2837550",
    "end": "2842860"
  },
  {
    "text": "see the one that I have set which is my let's encrypt certificate I also use cloud flyer for my DNS and as part of",
    "start": "2842860",
    "end": "2848920"
  },
  {
    "text": "their Universal SSL offering they also whitelist their own CA so that if I need",
    "start": "2848920",
    "end": "2854380"
  },
  {
    "text": "they can obtain certificates so you can see that now these for CAS are allowed to issue standard certificates so that's",
    "start": "2854380",
    "end": "2860950"
  },
  {
    "text": "a certificate without a wild card entry and these three CAS down here are permitted to issue wild-card",
    "start": "2860950",
    "end": "2866920"
  },
  {
    "text": "certificates for my domain and that's it if you now go to some other CA somewhere",
    "start": "2866920",
    "end": "2874600"
  },
  {
    "text": "and think right okay I want to see if I can trick them to issue me a certificate for Scott's ID and you go to them and",
    "start": "2874600",
    "end": "2880030"
  },
  {
    "text": "say right hi I'm Scott helm I'd like to go through the process and get a certificate last year's gonna look at this and go nope I can't do it anyway so",
    "start": "2880030",
    "end": "2887020"
  },
  {
    "text": "why even start the process because I'm not authorized to do so so they will stop at that point and what this means is that you",
    "start": "2887020",
    "end": "2893830"
  },
  {
    "text": "basically now if you want to get a certain form I cite you would have to attack one of those CAS on there and",
    "start": "2893830",
    "end": "2899140"
  },
  {
    "text": "they're very strong reputable and hopefully secure c8 so you've reduced the attack surface from the 200-plus in",
    "start": "2899140",
    "end": "2905530"
  },
  {
    "text": "the whole planet to just the ones that you allow in your CAA records if you want to generate these",
    "start": "2905530",
    "end": "2913990"
  },
  {
    "text": "records you can do it by hand but I actually prefer this tool here it's really kind of nice and simple dead easy",
    "start": "2913990",
    "end": "2919390"
  },
  {
    "text": "you come to the tool and whack in your domain name so that's me and then you",
    "start": "2919390",
    "end": "2925510"
  },
  {
    "text": "just have a big list here of all the different CAS that there are who would you like to issue search for your website so we'll go for a Mizzou oh",
    "start": "2925510",
    "end": "2932590"
  },
  {
    "text": "we'll go up a bypass there they're Norwegian CA right yes they are aren't they yeah so I'll let those guys do it",
    "start": "2932590",
    "end": "2938260"
  },
  {
    "text": "and when it's my favorite now they are gotta have a bit less encrypt in there if your light report",
    "start": "2938260",
    "end": "2945340"
  },
  {
    "text": "sent to you you can just specify your address and then down here that's it",
    "start": "2945340",
    "end": "2951700"
  },
  {
    "text": "those are the records that you need to set if you would like to have that policy and force for you so now you just",
    "start": "2951700",
    "end": "2957250"
  },
  {
    "text": "need to go and create three six DNS records and you're done and hopefully setting a few DNS records is going to be",
    "start": "2957250",
    "end": "2963370"
  },
  {
    "text": "free for pretty much everybody out there and I like these mechanisms they're a",
    "start": "2963370",
    "end": "2969160"
  },
  {
    "text": "really easy method to deploy there's there's virtually no side effects of CAA if you deploy CAA and it's wrong and it",
    "start": "2969160",
    "end": "2976600"
  },
  {
    "text": "breaks something you just remove the record and it's fixed there's no long lasting effect that was one of the",
    "start": "2976600",
    "end": "2981820"
  },
  {
    "text": "issues with pkp it has a max age it has what we call the memory effect so if you deploy PK pianist wrong you're stuck for",
    "start": "2981820",
    "end": "2988180"
  },
  {
    "text": "the length of max age if you deploy CAA and it's wrong you just delete the record and it's fixed so I like that",
    "start": "2988180",
    "end": "2994510"
  },
  {
    "text": "there's it doesn't offer quite the same level of protection but there is also a much much much lower level of risk so",
    "start": "2994510",
    "end": "3005300"
  },
  {
    "text": "let's jump back in here those are hopefully the five acronyms from my talk",
    "start": "3005930",
    "end": "3013170"
  },
  {
    "text": "title that you didn't understand if you don't understand the other four I can't help you there's not much that we can do",
    "start": "3013170",
    "end": "3018300"
  },
  {
    "text": "here so a quick overview of these things because there are quite a few little kind of anecdotes that can help here a",
    "start": "3018300",
    "end": "3023880"
  },
  {
    "start": "3019000",
    "end": "3019000"
  },
  {
    "text": "lot one of the things that I see with CSP is that people will look at a website out there like mine or like",
    "start": "3023880",
    "end": "3029760"
  },
  {
    "text": "Twitter's Twitter has actually just published an article about it twitter has a quite large DSP and people will",
    "start": "3029760",
    "end": "3035220"
  },
  {
    "text": "look at that thing well we've got like this massive big complicated policy now that looks like a lot of hard work maybe",
    "start": "3035220",
    "end": "3041250"
  },
  {
    "text": "we won't do that start with one feature of CSP look at the features of CSP because there's more",
    "start": "3041250",
    "end": "3047250"
  },
  {
    "text": "than the ones that I talked about and just look at the one that you think is the nicest and just deploy that and start with one a lot of people are put",
    "start": "3047250",
    "end": "3054000"
  },
  {
    "text": "off by like these huge big complex policies you can work up to that over the next year so don't look at it and",
    "start": "3054000",
    "end": "3059430"
  },
  {
    "text": "think you know it's too much it's too complicated just start with upgrading secure requests as an example maybe then",
    "start": "3059430",
    "end": "3065760"
  },
  {
    "text": "go to the forum action because that's the next kind of most sensitive thing you don't have to go from nothing to",
    "start": "3065760",
    "end": "3070830"
  },
  {
    "text": "crazy insane policy on your first diploma build it up over time as you gain",
    "start": "3070830",
    "end": "3076530"
  },
  {
    "text": "confidence do starting report on the mode I will say that and also do use reporting you know even if you'd only",
    "start": "3076530",
    "end": "3082320"
  },
  {
    "text": "use the service that we run it's not a sales pitch stand up your own end point to do this but I think it's really important that you get that feedback",
    "start": "3082320",
    "end": "3088950"
  },
  {
    "text": "from the browser next up was xxp super",
    "start": "3088950",
    "end": "3094290"
  },
  {
    "text": "simple really easy the main thing with that one there was just don't depend on the default I think we should be explicit in our configurations and you",
    "start": "3094290",
    "end": "3101310"
  },
  {
    "text": "should know what the browser will do in certain situations and control that again there was another reporting mechanism",
    "start": "3101310",
    "end": "3107220"
  },
  {
    "text": "there at CES if your website is on HTTPS and you're not using this you really",
    "start": "3107220",
    "end": "3113910"
  },
  {
    "text": "aren't done I hate to say that but that's most websites out there they're on HTTPS and that's a fairly low number",
    "start": "3113910",
    "end": "3119400"
  },
  {
    "text": "as it is the browser's even today in 2018 will default to the insecure version to http all of the time STS will",
    "start": "3119400",
    "end": "3128820"
  },
  {
    "text": "force the browser to default to HTTPS you'll cut out those three or ones that's an extra round trip on the",
    "start": "3128820",
    "end": "3134550"
  },
  {
    "text": "network before your page loads make your pages load faster less requests hit your servers then the dark one pkp it's kind",
    "start": "3134550",
    "end": "3144120"
  },
  {
    "text": "of like a bit scary pkp as I said there's a kind of falling out of grace a little bit with the browsers now and there's actually talks of chrome",
    "start": "3144120",
    "end": "3150090"
  },
  {
    "text": "abandoning this unfortunately HP KP is widely referred to in the security",
    "start": "3150090",
    "end": "3155100"
  },
  {
    "text": "industry is the HP KP gone because if you deploy this and you get it wrong",
    "start": "3155100",
    "end": "3160290"
  },
  {
    "text": "you can do some real harm to your website essentially you'll just get a big error message for the duration of",
    "start": "3160290",
    "end": "3165630"
  },
  {
    "text": "max age if you had max aged up to three months and you've got it wrong your website will not be accessible for three",
    "start": "3165630",
    "end": "3171210"
  },
  {
    "text": "months so I kind of see over the next probably year June 2018",
    "start": "3171210",
    "end": "3177060"
  },
  {
    "text": "especially anyway pkp will probably be replaced by one of two other things as I said CAA was one of them this is",
    "start": "3177060",
    "end": "3183480"
  },
  {
    "text": "certificate authority authorization that's those DNS records set those records it's basically free like if",
    "start": "3183480",
    "end": "3190200"
  },
  {
    "text": "someone tells you they're setting a DNS record is going to cost the organization some kind of money there's probably something else that you need to go fix",
    "start": "3190200",
    "end": "3195930"
  },
  {
    "text": "first so have a look at that take control of it and you know this is your site this is your domain you should have",
    "start": "3195930",
    "end": "3202500"
  },
  {
    "text": "the authority to say these are the people allowed to issue search for my domain hey they've got my name in them",
    "start": "3202500",
    "end": "3207990"
  },
  {
    "text": "for me take control of that specify who you would like to have them and if you",
    "start": "3207990",
    "end": "3213060"
  },
  {
    "text": "are interested the other thing that I see replacing pkp is something called CT which is certificate transparency if you",
    "start": "3213060",
    "end": "3220320"
  },
  {
    "text": "haven't looked at certificate transparency the deadline is coming first of April this year so I highly recommend you go and have a look at what",
    "start": "3220320",
    "end": "3226200"
  },
  {
    "text": "that is and it's also actually really cool because you can look at every certificate issue by a CA on the planet",
    "start": "3226200",
    "end": "3232080"
  },
  {
    "text": "and that's actually pretty interesting so overall that the main purpose of",
    "start": "3232080",
    "end": "3237510"
  },
  {
    "text": "these mechanisms is security they are security features they are you know security oriented but there's a lot",
    "start": "3237510",
    "end": "3243090"
  },
  {
    "text": "more that they can do for us things like CSP fixing week's content sending us reports when stuff on our site is broken STS fixing the need for",
    "start": "3243090",
    "end": "3250830"
  },
  {
    "text": "three are ones there's a lot more above you know kind of what I've talked about here as well as I said these are",
    "start": "3250830",
    "end": "3256560"
  },
  {
    "text": "probably best thought of as lightning talks introductions to these technologies look at these and think you",
    "start": "3256560",
    "end": "3262290"
  },
  {
    "text": "know is this one of a particular interest in my organization maybe there's only two things on here that you'll take away and deploy but my hope",
    "start": "3262290",
    "end": "3269100"
  },
  {
    "text": "was to introduce you to them and at least make people more aware of the things that are out there to help us",
    "start": "3269100",
    "end": "3275270"
  },
  {
    "text": "thank you very much",
    "start": "3275270",
    "end": "3278750"
  },
  {
    "text": "so I did leave three minutes do I still have them I do questions yes so if what kind of",
    "start": "3282940",
    "end": "3306760"
  },
  {
    "text": "scenario ie you'd kind of forget it Runkle wanted to remove them or you're a bad guy trying to get in okay so the question there was",
    "start": "3306760",
    "end": "3313660"
  },
  {
    "text": "the max age values set in SDS mpg ap the browser remembers those for the duration",
    "start": "3313660",
    "end": "3318849"
  },
  {
    "text": "specified is there any way to change that maybe force them out or remove them kind of thing so we have seen a couple",
    "start": "3318849",
    "end": "3325720"
  },
  {
    "text": "of attacks they were kind of late last year actually where I think it was Firefox would only store a maximum",
    "start": "3325720",
    "end": "3331059"
  },
  {
    "text": "number of domains in the HP KP cache and what the attackers did was they had a",
    "start": "3331059",
    "end": "3336549"
  },
  {
    "text": "piece of script that would load subdomains on a domain they controlled and keep setting these policies and the",
    "start": "3336549",
    "end": "3341650"
  },
  {
    "text": "idea was they push all of the legitimate and she's out of the bottom so there's always going to be kind of like novel ways that people can break these things",
    "start": "3341650",
    "end": "3348460"
  },
  {
    "text": "and undo what they're there to do but from a general point outside of some",
    "start": "3348460",
    "end": "3353740"
  },
  {
    "text": "kind of novel attack like that know that they're pretty much in there you know you'd have to have physical access and",
    "start": "3353740",
    "end": "3359020"
  },
  {
    "text": "admin on the machine to wipe the local cache and get rid of that it really",
    "start": "3359020",
    "end": "3368770"
  },
  {
    "text": "depends so again the question now is you know if you run something like ccleaner or a tool that will wipe tempra caches",
    "start": "3368770",
    "end": "3374289"
  },
  {
    "text": "it really depends on the browser and the platform because they all operate in different ways and they all store the",
    "start": "3374289",
    "end": "3379359"
  },
  {
    "text": "the cache information in different locations some of them yes would be wiped by things like ccleaner if you completely purged the applications",
    "start": "3379359",
    "end": "3386049"
  },
  {
    "text": "temporary storage so again it depends on the browser and it depends on the underlying platform question",
    "start": "3386049",
    "end": "3395910"
  },
  {
    "text": "[Music]",
    "start": "3401500",
    "end": "3404610"
  },
  {
    "text": "okay okay so the question there was",
    "start": "3412720",
    "end": "3424599"
  },
  {
    "text": "obviously CSP we have this lovely config and we must deliver that to the browser we must deliver the policy essentially",
    "start": "3424599",
    "end": "3431599"
  },
  {
    "text": "kind of how do we look after that make sure it's not manipulated to do bad things what I would say there is that",
    "start": "3431599",
    "end": "3437509"
  },
  {
    "text": "CSP reporting it was on the slide and you can go back and catch this I'll make them available after CSP reporting when",
    "start": "3437509",
    "end": "3444499"
  },
  {
    "text": "the report comes back to you it includes the original policy that the browser received so what you could possibly do",
    "start": "3444499",
    "end": "3450650"
  },
  {
    "text": "there is on your inbound reports look at what the browser said 'i got and and you",
    "start": "3450650",
    "end": "3455720"
  },
  {
    "text": "can then say well okay this is what the browser received is that what i thought i send so yeah you can kind of integrity",
    "start": "3455720",
    "end": "3460880"
  },
  {
    "text": "check you deliver the policy out and then when it comes back in you can see was the browser working with what i send",
    "start": "3460880",
    "end": "3466009"
  },
  {
    "text": "and if it wasn't then maybe someones misconfigured it maybe something added they'll change something that they shouldn't so you could monitor that on",
    "start": "3466009",
    "end": "3472339"
  },
  {
    "text": "an ongoing basis with that yes okay so",
    "start": "3472339",
    "end": "3481940"
  },
  {
    "text": "yeah if someone had manipulated it and added like evil.com and loaded one script from there that script wouldn't",
    "start": "3481940",
    "end": "3487759"
  },
  {
    "text": "trigger it bought any other report would also contain the original policy so unless and it's virtually impossible to",
    "start": "3487759",
    "end": "3493279"
  },
  {
    "text": "have a perfect CSP I don't have one even Troy doesn't have one so you would get reports that would contain the original",
    "start": "3493279",
    "end": "3499220"
  },
  {
    "text": "policy value so could they change the",
    "start": "3499220",
    "end": "3505309"
  },
  {
    "text": "report URI if it really depends where you set the header there's a many",
    "start": "3505309",
    "end": "3511789"
  },
  {
    "text": "different places that we can set headers you can set a header in your application code in PHP we have the add header call",
    "start": "3511789",
    "end": "3517190"
  },
  {
    "text": "you could set a header in server config so if you're setting your CSP in server config and your WordPress installation",
    "start": "3517190",
    "end": "3522680"
  },
  {
    "text": "goes parked they can't change that because it's further down so it really",
    "start": "3522680",
    "end": "3527749"
  },
  {
    "text": "depends if you're setting this in server config and someone has the to change server config they probably",
    "start": "3527749",
    "end": "3533180"
  },
  {
    "text": "shelled your box and you're screwed anyway and I can't help you with CSP so it is it's hard to answer because it",
    "start": "3533180",
    "end": "3538880"
  },
  {
    "text": "really depends on how deeply you're compromised questions yes what's the",
    "start": "3538880",
    "end": "3548420"
  },
  {
    "text": "adoption of CAA I actually started scanning this in my daily top 1 million crawl I think was like 12 people yes so",
    "start": "3548420",
    "end": "3562820"
  },
  {
    "text": "actually so the question was what's the adoption of CAA and there's about 12 different websites then the next question was which CAS actually all CAS",
    "start": "3562820",
    "end": "3569750"
  },
  {
    "text": "have been mandated to respect CAA records since the 7th of September last year their governing body called the cab",
    "start": "3569750",
    "end": "3575720"
  },
  {
    "text": "forum have mandated that they must all respect that and if the CA issues in breach of CA a they could be penalized",
    "start": "3575720",
    "end": "3582740"
  },
  {
    "text": "for that there was one more thing we have time for yes yes is what sorry so",
    "start": "3582740",
    "end": "3595010"
  },
  {
    "text": "which one specifically something like ma staple yes a revocation is still broken",
    "start": "3595010",
    "end": "3600380"
  },
  {
    "text": "completely unfortunately so we're hoping",
    "start": "3600380",
    "end": "3605990"
  },
  {
    "text": "that most staple might fix that Firefox currently has support no other browser does but the biggest concern is that if",
    "start": "3605990",
    "end": "3611960"
  },
  {
    "text": "you turn on if you obtain a most staple certificate and then you're stapling implementation is wrong your website",
    "start": "3611960",
    "end": "3617600"
  },
  {
    "text": "stops working and right now it's like the one thing that is is good i stapling sorry i always said that because it's a",
    "start": "3617600",
    "end": "3624140"
  },
  {
    "text": "Microsoft employee in the room so Apache and nginx do have some problems with",
    "start": "3624140",
    "end": "3629270"
  },
  {
    "text": "their stapling implementations and I think once we see those patched more widely and more reliable implementations",
    "start": "3629270",
    "end": "3635210"
  },
  {
    "text": "of stapling will probably see browser support increased for that but chromium are actually holding back on it now",
    "start": "3635210",
    "end": "3640310"
  },
  {
    "text": "because they don't think the wider ecosystem is ready but that is time",
    "start": "3640310",
    "end": "3645440"
  },
  {
    "text": "everyone sorry see if there are more questions I'm hanging around please do come and find me thank you [Applause]",
    "start": "3645440",
    "end": "3656309"
  }
]