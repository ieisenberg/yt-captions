[
  {
    "start": "0",
    "end": "101000"
  },
  {
    "text": "so it's Monday morning you've survived your commute on the tube stress it's",
    "start": "2919",
    "end": "8870"
  },
  {
    "text": "sweaty strange bodies packed in next to you and you've arrived at the office on time you pour yourself a nice strong cup",
    "start": "8870",
    "end": "16160"
  },
  {
    "text": "of coffee you take a sip you start to feel human again",
    "start": "16160",
    "end": "21410"
  },
  {
    "text": "you feel your mind starting to wake up and you sit down at your desk and you open your emails hmm got a ticket from a",
    "start": "21410",
    "end": "29150"
  },
  {
    "text": "user she's contacted you overnight and she's found a bug in your system now",
    "start": "29150",
    "end": "34370"
  },
  {
    "text": "imagine if you were able to craft a fix and roll that fix out for your user",
    "start": "34370",
    "end": "39829"
  },
  {
    "text": "before you'd finished your cup of coffee you could send the user a nice reply saying that it was fixed safe in the",
    "start": "39829",
    "end": "46610"
  },
  {
    "text": "knowledge that your system was working as expected on production now imagine that you could do that every day create",
    "start": "46610",
    "end": "53270"
  },
  {
    "text": "and roll out changes within an hour or less now imagine that your whole team",
    "start": "53270",
    "end": "58610"
  },
  {
    "text": "could do that each of them rolling out their own small changes as they went along within an hour but first let's go",
    "start": "58610",
    "end": "64518"
  },
  {
    "text": "back to the beginning as all great stories start a long long time ago in an office far far away it's actually just",
    "start": "64519",
    "end": "71810"
  },
  {
    "text": "on the other side of town it became apparent that we weren't happy with our release for a process so we discussed",
    "start": "71810",
    "end": "78200"
  },
  {
    "text": "what it was that we didn't like about our current system so I think this quote",
    "start": "78200",
    "end": "84859"
  },
  {
    "text": "sums it up perfectly how long would it take your organization to deploy a",
    "start": "84859",
    "end": "90799"
  },
  {
    "text": "change that involves just one single line of code and it became apparent to",
    "start": "90799",
    "end": "96889"
  },
  {
    "text": "us too long it's a common way to",
    "start": "96889",
    "end": "103159"
  },
  {
    "start": "101000",
    "end": "101000"
  },
  {
    "text": "organize deploys is to use a continuous integration or CI system for example Jenkins or Travis these queue up your",
    "start": "103159",
    "end": "109939"
  },
  {
    "text": "deploys and they control of all of the steps that are needed to get your code into production so this might include",
    "start": "109939",
    "end": "115929"
  },
  {
    "text": "deploying to a test system running tests there and then actually deploying your code out the problem with these systems",
    "start": "115929",
    "end": "123829"
  },
  {
    "text": "is that they work on a fire-and-forget process so you commit your code and then",
    "start": "123829",
    "end": "129050"
  },
  {
    "text": "at some point in the future quite possibly a little while later you",
    "start": "129050",
    "end": "134420"
  },
  {
    "text": "actually get your code deployed out to production and you receive a notification as to whether your deploy",
    "start": "134420",
    "end": "140030"
  },
  {
    "text": "worked or not that means that you might have to end up doing a massive context",
    "start": "140030",
    "end": "145220"
  },
  {
    "text": "which you could be working on your new projects and suddenly you're getting notification that your last commit didn't work and that's where we were and",
    "start": "145220",
    "end": "154130"
  },
  {
    "text": "we didn't like it so we came up with some goals we wanted to be able to push",
    "start": "154130",
    "end": "160010"
  },
  {
    "text": "our code out to production faster in an incremental fashion so in other words we wanted to be able to release our release",
    "start": "160010",
    "end": "166250"
  },
  {
    "text": "sorry increase our release cadence and we were getting fed up of continuously switching",
    "start": "166250",
    "end": "172549"
  },
  {
    "text": "between things so we wanted to reduce contact switching and we realized that",
    "start": "172549",
    "end": "177739"
  },
  {
    "text": "for us it was more important to be able to deliver faster to be able to move invited deliver value faster then it was",
    "start": "177739",
    "end": "185989"
  },
  {
    "text": "and that we were happy to accept an increased risk as a result of moving faster talking amongst ourselves we",
    "start": "185989",
    "end": "194239"
  },
  {
    "text": "realized that contact switching was particularly the top bugbear of most developers so could we change our",
    "start": "194239",
    "end": "200390"
  },
  {
    "text": "deployment process in such a way that we could actually reduce this context switching so today I'd like to share",
    "start": "200390",
    "end": "205819"
  },
  {
    "text": "with you the journey that we took some of the systems that we put in place and of course some of the problems that we",
    "start": "205819",
    "end": "211760"
  },
  {
    "text": "encountered because let's face it is never plain sailing probably most importantly I want to show you the",
    "start": "211760",
    "end": "217160"
  },
  {
    "text": "change in the way that we now think as a result of making these changes to our deploy system but first I should",
    "start": "217160",
    "end": "225230"
  },
  {
    "start": "224000",
    "end": "224000"
  },
  {
    "text": "probably introduce myself my name is Kjell I'm a senior developer working across",
    "start": "225230",
    "end": "230389"
  },
  {
    "text": "all of our dev teams to try and make them all work better more efficiently be more productive my job title is senior",
    "start": "230389",
    "end": "237980"
  },
  {
    "text": "developer across team which I always think makes it sound like I'm on an angry team or something and I work from",
    "start": "237980",
    "end": "246380"
  },
  {
    "start": "244000",
    "end": "244000"
  },
  {
    "text": "really so we are a company founded on agile concepts from there is in our blood we've always worked with agile",
    "start": "246380",
    "end": "252470"
  },
  {
    "text": "processors so we're all of our code 100% of our production code is paired so that",
    "start": "252470",
    "end": "258889"
  },
  {
    "text": "means we've always got a second pair of eyes on the code looking out for mistakes and as you can see from these",
    "start": "258889",
    "end": "264919"
  },
  {
    "text": "beautiful photos we also do a bit of mob programming this is particularly useful when we're working on new",
    "start": "264919",
    "end": "270479"
  },
  {
    "text": "of functionality so it's really good to get the whole team involved in the discussions about the direction and the",
    "start": "270479",
    "end": "275759"
  },
  {
    "text": "model that we're going to use etc what does unruly do so we're a video ad tech",
    "start": "275759",
    "end": "283229"
  },
  {
    "start": "279000",
    "end": "279000"
  },
  {
    "text": "company we run what's called an ad exchange if you don't know what that is it's a little bit like a dating agency",
    "start": "283229",
    "end": "288749"
  },
  {
    "text": "we bring together advertisers on one side and publishers on the other side and then we join them together and show",
    "start": "288749",
    "end": "294779"
  },
  {
    "text": "an advert on the end-users page as the page loads we send out details to all of",
    "start": "294779",
    "end": "301219"
  },
  {
    "text": "ahead sorry so as the page is loading we skip send out details to all of our partners",
    "start": "301219",
    "end": "306900"
  },
  {
    "text": "asking if they would like to display the ad on the page they all respond with a",
    "start": "306900",
    "end": "312029"
  },
  {
    "text": "bid saying if they would like to and how much they're willing to pay we run a real-time auction second-price much like",
    "start": "312029",
    "end": "317339"
  },
  {
    "text": "eBay and then we display the winning advert on the page so all of that process happens in less than 500",
    "start": "317339",
    "end": "323490"
  },
  {
    "text": "milliseconds preferably around 200 milliseconds so it's kind of more like a speed dating agency then as the ad plays",
    "start": "323490",
    "end": "331710"
  },
  {
    "text": "it fires events back to us so that we can monitor what interactions the users made and how far they've watched so we",
    "start": "331710",
    "end": "338099"
  },
  {
    "text": "collect those events and then we use them for reporting and billing we need to be able to receive those events in",
    "start": "338099",
    "end": "344339"
  },
  {
    "text": "real time so we've got a pipeline which streams those events and collects and processes them and it handles about I",
    "start": "344339",
    "end": "350249"
  },
  {
    "text": "think 17 million events an hour at last count so kind of medium medium sized",
    "start": "350249",
    "end": "355469"
  },
  {
    "text": "data we're not quite Netflix but we're getting that so if we don't display an",
    "start": "355469",
    "end": "360479"
  },
  {
    "text": "ad quickly enough we won't make any money if we don't display an ads on the right kind of site at the right time to",
    "start": "360479",
    "end": "367680"
  },
  {
    "text": "the right kind of users we won't make any money and if we don't receive process all of those 70 million events",
    "start": "367680",
    "end": "372990"
  },
  {
    "text": "then we can't build people and we don't make any money so all-in-all it's quite important that we've got a relatively",
    "start": "372990",
    "end": "378300"
  },
  {
    "text": "low latency high throughput systems with high uptime needed okay so let's talk",
    "start": "378300",
    "end": "385949"
  },
  {
    "start": "384000",
    "end": "384000"
  },
  {
    "text": "about our first goal to increase release cadence so why would we as a business want to release more regularly",
    "start": "385949",
    "end": "392039"
  },
  {
    "text": "especially if it comes with an increased risk of issues as a result the way",
    "start": "392039",
    "end": "397110"
  },
  {
    "text": "software is released has fundamentally changed in the past 25 years if you think back not that long ago",
    "start": "397110",
    "end": "403560"
  },
  {
    "text": "burnt to a disk and then you shipped maybe I don't know once a year twice a year so you had to be sure that your code was perfect it was bug free your",
    "start": "403560",
    "end": "410910"
  },
  {
    "text": "reputation depended on it we're not there now but yet the idea that you",
    "start": "410910",
    "end": "417210"
  },
  {
    "text": "should release perfect software is is it's still clings to the mindset of most people in fact one of the hardest things",
    "start": "417210",
    "end": "424020"
  },
  {
    "text": "about making these changes was persuading our developers that we as a business really were happy to accept an",
    "start": "424020",
    "end": "430230"
  },
  {
    "text": "increased risk of bad deploys in order to get our code out faster on to live commercially releasing regularly has",
    "start": "430230",
    "end": "437940"
  },
  {
    "text": "some really great advantages you get prom feedback on whether your customers are happy with the changes that you've",
    "start": "437940",
    "end": "443520"
  },
  {
    "text": "just released in an iterative manner so it allows you to see if they like the direction you're going so rather than",
    "start": "443520",
    "end": "450090"
  },
  {
    "text": "waiting and deploying a massive change that no one likes by which point you've already done the code you've already spent the time you can't roll it back",
    "start": "450090",
    "end": "456210"
  },
  {
    "text": "time wasted you can deploy out in an iterative manner and get feedback as you go along and with the right metrics you",
    "start": "456210",
    "end": "463110"
  },
  {
    "text": "can see where they're having problems on your application on your site and you can proactively release changes to help",
    "start": "463110",
    "end": "469200"
  },
  {
    "text": "them rather than waiting for them to contact you so both of these leads are",
    "start": "469200",
    "end": "474330"
  },
  {
    "text": "really golden for any company that wants to keep its user base sweet'n and stop them moving on to competitors so how did",
    "start": "474330",
    "end": "483360"
  },
  {
    "start": "482000",
    "end": "482000"
  },
  {
    "text": "we go about being able to release more regularly that what magic did we use to make this happen",
    "start": "483360",
    "end": "488900"
  },
  {
    "text": "okay obviously the first thing you need to do is to speed up your deploy process pretty self-evident the faster you can",
    "start": "488900",
    "end": "495660"
  },
  {
    "text": "deploy the faster you can release but if you think this three my mantra tends to",
    "start": "495660",
    "end": "500789"
  },
  {
    "text": "be hope for the best plan for the worst so what happens if we make a mistake as we're rolling out this code at speed so",
    "start": "500789",
    "end": "507120"
  },
  {
    "text": "we need the counterpoint what's the counterpoint to fast deploys it's fast under ploys so especially so",
    "start": "507120",
    "end": "515219"
  },
  {
    "text": "we need easy pain-free brain free rollback process sort of a one-click",
    "start": "515219",
    "end": "520289"
  },
  {
    "text": "rollback process generally if you've made a mistake and it's out on production it's quite a stressful time you don't want to be thinking about now",
    "start": "520289",
    "end": "526380"
  },
  {
    "text": "how do I rollback I have to do this I have to do this now you just want one button rollback done particularly if the critical systems gone down so we can",
    "start": "526380",
    "end": "534810"
  },
  {
    "text": "deploy faster and we've got our emergency roll back process in place but how do we know if we actually need to roll back",
    "start": "534810",
    "end": "540720"
  },
  {
    "text": "how do we know if anything has gone wrong so to do that we need to be able to verify that everything on production",
    "start": "540720",
    "end": "546060"
  },
  {
    "text": "is working as possible so those are our three key ingredients so let's attack",
    "start": "546060",
    "end": "552030"
  },
  {
    "text": "the first one let's talk about faster deploy process how did we go about doing that so we had to think about what was",
    "start": "552030",
    "end": "559290"
  },
  {
    "start": "557000",
    "end": "557000"
  },
  {
    "text": "slowing down our deploys the most and we realized we had a number of pain points we had branches which added to confusion",
    "start": "559290",
    "end": "566610"
  },
  {
    "text": "when committing and deploying so we decided scrap branches we were creating",
    "start": "566610",
    "end": "572520"
  },
  {
    "text": "large change sets between commits that is the time between writing the first line of code and releasing it was much",
    "start": "572520",
    "end": "578100"
  },
  {
    "text": "too long so we decided smaller change sets with a single feature per release",
    "start": "578100",
    "end": "583670"
  },
  {
    "text": "we were deploying via a UAT system we decided scrap that let's just deploy",
    "start": "583670",
    "end": "589440"
  },
  {
    "text": "straight to production and last but not least our tests oh yes we were waiting",
    "start": "589440",
    "end": "595290"
  },
  {
    "text": "for all of our tests to run and pass before deploying that's our cages so we decided to run our tests on production",
    "start": "595290",
    "end": "603770"
  },
  {
    "text": "so we started to make some changes we got rid of all of our branches so now we check all of our code directly into",
    "start": "603770",
    "end": "609660"
  },
  {
    "start": "604000",
    "end": "604000"
  },
  {
    "text": "master everyone does no branches at all and this makes me very happy I'm sure you've all been there merge",
    "start": "609660",
    "end": "615900"
  },
  {
    "text": "hell I remember it very unfund lee half a day or more trying to resolve conflicts you've had number of different",
    "start": "615900",
    "end": "622080"
  },
  {
    "text": "people committing in while your branch has been a long-running bla bla bla two's recrimination it was horrible I",
    "start": "622080",
    "end": "627960"
  },
  {
    "text": "really don't miss that but committing to master isn't all sunshine I should just",
    "start": "627960",
    "end": "633270"
  },
  {
    "text": "point out since everyone's committing to the same place it forced us to get really really strict about never",
    "start": "633270",
    "end": "638490"
  },
  {
    "text": "committing breaking code so every commit has to be a self-contained unit of working code and we found that we needed",
    "start": "638490",
    "end": "649680"
  },
  {
    "start": "647000",
    "end": "647000"
  },
  {
    "text": "to maintain much better code hygiene we couldn't have unreleased codes sitting in the repo it led to confusion",
    "start": "649680",
    "end": "656580"
  },
  {
    "text": "no one knows whether it had or hadn't been released so we had to change the way that we work when we commit code we",
    "start": "656580",
    "end": "663900"
  },
  {
    "text": "deploy that code no exceptions simples you could say that by committing codes you're saying that you're",
    "start": "663900",
    "end": "669720"
  },
  {
    "text": "committed getting out onto production but now that I've said that I realized that sounds really twee so you might not want to so",
    "start": "669720",
    "end": "677600"
  },
  {
    "text": "by working this way with small change sets where every commit is a deploy it forced us to think in a lean way what is",
    "start": "677600",
    "end": "685700"
  },
  {
    "text": "the minimal amount of work that I can do so that I can deploy the smallest slice that I can work on not only where we",
    "start": "685700",
    "end": "693740"
  },
  {
    "text": "chopping up our epics into nice vertically slice stories each with its own business functionality but now we",
    "start": "693740",
    "end": "699260"
  },
  {
    "text": "needed to think about chopping up those stories into smaller functional code chunks where we could deploy each of",
    "start": "699260",
    "end": "704750"
  },
  {
    "text": "those individually for example we might want to make a change and we might",
    "start": "704750",
    "end": "709850"
  },
  {
    "text": "deploy out the change to the API first and then deploy out the UI as a second",
    "start": "709850",
    "end": "715070"
  },
  {
    "text": "separate deploy and it was the the advantage of this of course is that you",
    "start": "715070",
    "end": "720680"
  },
  {
    "text": "get the advisor you can test the functionality of the API before you've actually rolled out the the front-facing",
    "start": "720680",
    "end": "726430"
  },
  {
    "text": "UI to your users with practice quite a",
    "start": "726430",
    "end": "731690"
  },
  {
    "text": "bit of practice we've gotten to the point where commits might only touch one or two files and might take maybe I",
    "start": "731690",
    "end": "736730"
  },
  {
    "text": "don't know five ten minutes to code but initially we found it really really hard to keep our change stats small so we",
    "start": "736730",
    "end": "742970"
  },
  {
    "text": "needed to be really disciplined about how much we squeezed into a commit in",
    "start": "742970",
    "end": "748370"
  },
  {
    "text": "fact the moment you start thinking can I squeeze X into your commits it's a sign that you're trying to do too much as",
    "start": "748370",
    "end": "755149"
  },
  {
    "text": "soon as you've got a working piece of code no matter how small how small the change in functionality is you deploy it",
    "start": "755149",
    "end": "763060"
  },
  {
    "text": "smaller change sets do have advantages for devs there's left code so there's",
    "start": "763060",
    "end": "768920"
  },
  {
    "text": "less likelihood of strange bugs creeping in and if a bug does get in debugging it",
    "start": "768920",
    "end": "774110"
  },
  {
    "text": "is a lot easier you know which commit cost your problem it's a small change set so it's generally a lot easier to",
    "start": "774110",
    "end": "780649"
  },
  {
    "text": "work out what the bug is when we started deploying like this we didn't",
    "start": "780649",
    "end": "787130"
  },
  {
    "text": "necessarily want to deploy out to all of our users at the same time so we put all of our new releases behind a future flag",
    "start": "787130",
    "end": "794050"
  },
  {
    "text": "this gave yeah this gave the visibility",
    "start": "794050",
    "end": "799850"
  },
  {
    "text": "of the new functionality to specific users only say for example we often deploy out to",
    "start": "799850",
    "end": "805240"
  },
  {
    "text": "our internal order adopts team-first who are happy to test and report any bugs",
    "start": "805240",
    "end": "810880"
  },
  {
    "text": "for us if you've got an engaged user base maybe like a beta testing user base",
    "start": "810880",
    "end": "815920"
  },
  {
    "text": "you could employ out and deploy out to them first and we also started doing a/b testing so we deployed to a small",
    "start": "815920",
    "end": "822220"
  },
  {
    "text": "percentage of our users first check that it's all working and then deploy out to the full user base afterwards but how is",
    "start": "822220",
    "end": "831790"
  },
  {
    "start": "830000",
    "end": "830000"
  },
  {
    "text": "that not chaos you might ask great question I'm so glad you asked so we",
    "start": "831790",
    "end": "837310"
  },
  {
    "text": "split our codebase into separate deployable modules that can be worked on in different independently you might use",
    "start": "837310",
    "end": "843220"
  },
  {
    "text": "the word microservices if you appeal it feeling particularly hip usually we've got around two or three pairs working on",
    "start": "843220",
    "end": "849760"
  },
  {
    "text": "any one module at the same time so to gate deploys we have what we call deploy",
    "start": "849760",
    "end": "855070"
  },
  {
    "text": "tokens for each project if you aren't familiar with the concept you can think of a deploy taken as a lock file and you",
    "start": "855070",
    "end": "861790"
  },
  {
    "text": "can only deploy if you're holding the physical deploy taken so it stops the situation where you've got two people",
    "start": "861790",
    "end": "866980"
  },
  {
    "text": "trying to deploy at the same time and you get into a race condition and it creates sequential rather than parallel",
    "start": "866980",
    "end": "872860"
  },
  {
    "text": "deploys for each project say we've got a nice clear timeline of what code we've got on production at any point so I'm a",
    "start": "872860",
    "end": "879790"
  },
  {
    "text": "big fan of physical deploy tokens as opposed to virtual deploy tokens since it forces you to actually talk to the",
    "start": "879790",
    "end": "886300"
  },
  {
    "text": "pair that's currently deploying you can exchange information about what you're both working on and you can check that",
    "start": "886300",
    "end": "892360"
  },
  {
    "text": "you have got any overlap and you can catch up with people on the other side of the office who you might not see that regularly so our deploy tokens are",
    "start": "892360",
    "end": "899290"
  },
  {
    "text": "actually the CTOs kids toys presumably they had actually finished playing with them before he brought them into the",
    "start": "899290",
    "end": "904810"
  },
  {
    "text": "office and the bottle of wine is just a bottle of wine that's not a deploy taken because that would be cruel so it's a",
    "start": "904810",
    "end": "912310"
  },
  {
    "text": "usual sight to see someone carrying a teddy around the office and I'm pretty sure the rest of the company isn't thoroughly mystified as to why",
    "start": "912310",
    "end": "918790"
  },
  {
    "text": "developers feel the need to take their Teddy's with them when they walk around the office we also have a slack releases",
    "start": "918790",
    "end": "924910"
  },
  {
    "text": "channel where you can see all of the releases done across all of the teams and all of the projects so that's quite a good way for viewing the history",
    "start": "924910",
    "end": "930250"
  },
  {
    "text": "across everything so another change we",
    "start": "930250",
    "end": "935530"
  },
  {
    "start": "933000",
    "end": "933000"
  },
  {
    "text": "made was deploy straight to production that's all of our code goes straight to our live",
    "start": "935530",
    "end": "941980"
  },
  {
    "text": "servers no exceptions so we got rid of any staging so as we got rid of any test servers we got rid of any UAT",
    "start": "941980",
    "end": "947650"
  },
  {
    "text": "environments all of that was gone we've just got our dev workstation where we're doing our development and then our production so this is quite",
    "start": "947650",
    "end": "954850"
  },
  {
    "text": "controversial for new starters because they're used to the perceived safety blanket of a test system but it works",
    "start": "954850",
    "end": "961210"
  },
  {
    "text": "for us since the business is happy for us to balance the increased risk of something going wrong against getting",
    "start": "961210",
    "end": "966880"
  },
  {
    "text": "faster and more regular deploys right how are we doing our deploys so deploy",
    "start": "966880",
    "end": "974680"
  },
  {
    "start": "970000",
    "end": "970000"
  },
  {
    "text": "systems in general can be split into two types you've got asynchronous and synchronous so conventional systems are asynchronous",
    "start": "974680",
    "end": "981190"
  },
  {
    "text": "those are the continuous integration systems like Jenkins Traven's - Travis teamcity you press the button and then",
    "start": "981190",
    "end": "989770"
  },
  {
    "text": "you fire and forget stuff happens and then at some point in the future your code is deployed to production but the",
    "start": "989770",
    "end": "996550"
  },
  {
    "text": "asynchronous nature means that you the advantage of the asynchronous nature is that you don't have to wait to see if it's successful but it also means that",
    "start": "996550",
    "end": "1003270"
  },
  {
    "text": "you don't know when it will deploy you could have maybe lots of other things banging up the pipeline so you're one",
    "start": "1003270",
    "end": "1009420"
  },
  {
    "text": "it's not going to be deployed for a little bit or etc lots of different reasons it might take a while the",
    "start": "1009420",
    "end": "1017070"
  },
  {
    "text": "problem with this I found is that you're not going to want to contact switch to fix issues you've already moved on",
    "start": "1017070",
    "end": "1022260"
  },
  {
    "text": "you're knee-deep in your new bit of code you've got a nice nice head of flow on you you don't want to then have to",
    "start": "1022260",
    "end": "1027959"
  },
  {
    "text": "switch back and work out what the heck you were doing with your last commit and what had gone wrong and etc etc I think",
    "start": "1027960",
    "end": "1035040"
  },
  {
    "text": "one of the reasons that most people moved to CI systems was because they had",
    "start": "1035040",
    "end": "1040199"
  },
  {
    "text": "complicated slow tests with multiple steps in their deploy process so they",
    "start": "1040200",
    "end": "1045630"
  },
  {
    "text": "used the the asynchronous nature of them to get around the time lapse they didn't have to wait for ages to do the deploy",
    "start": "1045630",
    "end": "1051950"
  },
  {
    "text": "but we've been speeding up our deploy process so we decided to change all of our systems to do synchronous deploys",
    "start": "1051950",
    "end": "1059690"
  },
  {
    "text": "what I mean by that is you press a button and then you sit back and watch as your code gets deployed out to",
    "start": "1059690",
    "end": "1065280"
  },
  {
    "text": "production there's no magic it happens in front of your eyes you can see what's happening and you can keep an eye on what's",
    "start": "1065280",
    "end": "1070660"
  },
  {
    "text": "happening you can see the progress see if there's any problems as you go along and it's really important for us to have that fast feedback loop so we can check",
    "start": "1070660",
    "end": "1078340"
  },
  {
    "text": "if it's successful still being context of the code that we've just written and if not we can instantly be able to work",
    "start": "1078340",
    "end": "1084280"
  },
  {
    "text": "out what had gone wrong and what the bugs were when I say instantly obviously that's that some bugs on as incident as",
    "start": "1084280",
    "end": "1090280"
  },
  {
    "text": "others in working out for the to deploy",
    "start": "1090280",
    "end": "1099910"
  },
  {
    "text": "out to production you've literally got me two lines in advance of that I'm about to tell you so so how so how did",
    "start": "1099910",
    "end": "1110980"
  },
  {
    "text": "we implement this we've got a sorry we'll come to that we've got a bash script to run our tests",
    "start": "1110980",
    "end": "1116800"
  },
  {
    "text": "and then it uploads our packages on to production we update our packages on production and then we restart all of",
    "start": "1116800",
    "end": "1122110"
  },
  {
    "text": "our relevant service so it's pretty easy it's like I don't know six lines of bash or something okay you're probably",
    "start": "1122110",
    "end": "1128080"
  },
  {
    "text": "thinking isn't that really flippin annoying sitting there waiting for your deploy process to go out so it's true",
    "start": "1128080",
    "end": "1133690"
  },
  {
    "text": "there's a bit of waiting but only takes about five minutes for most of our systems to deploy out to production so",
    "start": "1133690",
    "end": "1140980"
  },
  {
    "text": "not using a CI pipeline has motivated us to make the improvements if it gets too slow with an asynchronous pipeline you",
    "start": "1140980",
    "end": "1147760"
  },
  {
    "text": "might get into bad habits it's not that important if your tests if your deployment takes ages to do but for us it is every every second counts because",
    "start": "1147760",
    "end": "1154960"
  },
  {
    "text": "otherwise people get too bored and don't bother to wait and watch so one of the",
    "start": "1154960",
    "end": "1160420"
  },
  {
    "text": "advantages that I like so the five minutes to deploy is that you get into a bit of a break and I'm actually quite a fan of breaks because I find that my",
    "start": "1160420",
    "end": "1167050"
  },
  {
    "text": "brain tends to work better when it's kind of in that downtime relaxed state and tends to come up with the best ideas",
    "start": "1167050",
    "end": "1172600"
  },
  {
    "text": "at that point and it's also a really great time to grab a cup of coffee and have a chat with your pair on where",
    "start": "1172600",
    "end": "1177760"
  },
  {
    "text": "you're going the direction you want to take your ideas difficulties you'll think you might encounter did anyone get",
    "start": "1177760",
    "end": "1184570"
  },
  {
    "text": "the picture it's a sink for synchronous yeah",
    "start": "1184570",
    "end": "1190600"
  },
  {
    "text": "pun well received so feedback loop it's",
    "start": "1190600",
    "end": "1197169"
  },
  {
    "start": "1193000",
    "end": "1193000"
  },
  {
    "text": "defined as a system where the output of the system becomes the input for the next iteration of the system does anyone",
    "start": "1197169",
    "end": "1204190"
  },
  {
    "text": "recognize this probably most infamous of feedback loops yeah so this is the TDD",
    "start": "1204190",
    "end": "1211450"
  },
  {
    "text": "or test-driven development loop so the idea is that you create a failing test that's the read you write the code to",
    "start": "1211450",
    "end": "1218019"
  },
  {
    "text": "make it pass that's the green and then you refactor the code so why a feedback",
    "start": "1218019",
    "end": "1223570"
  },
  {
    "text": "loop is important to us why do we want faster feedback loops well short feedback loops allow you to see if",
    "start": "1223570",
    "end": "1229450"
  },
  {
    "text": "you're actually providing the expected value to users you're more resilient to change in direction due to market",
    "start": "1229450",
    "end": "1235899"
  },
  {
    "text": "vagaries you can mitigate risk by releasing an MVP product and then",
    "start": "1235899",
    "end": "1241870"
  },
  {
    "text": "iterating on the functionality of it rather than delivering the entirety in a Big Bang process and the shorter your",
    "start": "1241870",
    "end": "1249940"
  },
  {
    "text": "feedback loop the quicker you can adopt a change imagine what a customer would",
    "start": "1249940",
    "end": "1255850"
  },
  {
    "text": "think if they report an issue and they see the fix implemented you know within an hour they're likely to be alot more",
    "start": "1255850",
    "end": "1261639"
  },
  {
    "text": "loyal to your brand then to a competitor who takes weeks to deploy fixes and short feedback loops give us confidence",
    "start": "1261639",
    "end": "1268559"
  },
  {
    "text": "which tends to lead to less stress on the job as well so after making all",
    "start": "1268559",
    "end": "1278080"
  },
  {
    "text": "these changes to improve our deploys what remainders our biggest slowdown in getting our code out to production I'm",
    "start": "1278080",
    "end": "1284769"
  },
  {
    "text": "sure no one be entirely surprised to hear that it was the time our test took to run we were waiting for our entire",
    "start": "1284769",
    "end": "1291669"
  },
  {
    "text": "test suite to pass before we deployed it when we first started this could take up to 30 40 minutes depending on which",
    "start": "1291669",
    "end": "1298240"
  },
  {
    "text": "project we were deploying obviously you don't want to sit there for 30 minutes watching your test pass so could we just",
    "start": "1298240",
    "end": "1304480"
  },
  {
    "text": "get rid of them do we need them what a test for so I think there a sanity check",
    "start": "1304480",
    "end": "1309730"
  },
  {
    "text": "that I've not done something silly I think existing tests are a really great way to understand the existing",
    "start": "1309730",
    "end": "1316389"
  },
  {
    "text": "model and the purpose of the corresponding code they're kind of like a documentation they should show any",
    "start": "1316389",
    "end": "1323049"
  },
  {
    "text": "edge case is any unhappy paths making expected behavior in both cases really obvious to",
    "start": "1323049",
    "end": "1328909"
  },
  {
    "text": "you and then much like having a parachutes they give you the confidence to go ahead and make changes and deploy",
    "start": "1328909",
    "end": "1335870"
  },
  {
    "text": "mental well-being so let's do a super",
    "start": "1335870",
    "end": "1341630"
  },
  {
    "start": "1339000",
    "end": "1339000"
  },
  {
    "text": "quick recap on tests what different types of tests do we have so the most",
    "start": "1341630",
    "end": "1346700"
  },
  {
    "text": "obvious one is automated testing so that's your unit functional acceptance and to end etc all of those",
    "start": "1346700",
    "end": "1352760"
  },
  {
    "text": "umbrella is an automated test then you've got your manual tests so that's",
    "start": "1352760",
    "end": "1362240"
  },
  {
    "text": "where you've got a playbook and then someone goes through all the steps running manual tests visually checking",
    "start": "1362240",
    "end": "1367370"
  },
  {
    "text": "eyeballing that everything is looking right then you've got graphs so you",
    "start": "1367370",
    "end": "1372740"
  },
  {
    "text": "might have for example a graph showing a timeline of a certain metric in your system maybe a number of user requests",
    "start": "1372740",
    "end": "1379580"
  },
  {
    "text": "over time and that's a really easy way to see patterns and compare different systems and you can also use graphs to",
    "start": "1379580",
    "end": "1387320"
  },
  {
    "text": "prove expectations for example you can show if the number of expected users are",
    "start": "1387320",
    "end": "1393679"
  },
  {
    "text": "actually making use of your new feature that you've just deployed so we try to have graphs for each of our important",
    "start": "1393679",
    "end": "1399530"
  },
  {
    "text": "KPIs and that allows us to check that a deploy has an inversely impacted many of",
    "start": "1399530",
    "end": "1405049"
  },
  {
    "text": "our important business features then you've got alerting so that notifies you",
    "start": "1405049",
    "end": "1411650"
  },
  {
    "text": "to a change in your system as they happen so you can respond straightaway you've got load test so that's checking",
    "start": "1411650",
    "end": "1417950"
  },
  {
    "text": "the capacity of the system rather than the functionality of the system and then you've got a B testing so that's",
    "start": "1417950",
    "end": "1423919"
  },
  {
    "text": "deploying two different versions one may be a you know five percent ten percent and then the other one larger and then",
    "start": "1423919",
    "end": "1430669"
  },
  {
    "text": "you compare how they run and you can use your monitoring that we talked about",
    "start": "1430669",
    "end": "1435919"
  },
  {
    "text": "earlier to do the comparison between the two different between the a and the B you can have ABCD testing as well if you",
    "start": "1435919",
    "end": "1442100"
  },
  {
    "text": "want if you go wild and then you've got profiling so that's you can see how",
    "start": "1442100",
    "end": "1447530"
  },
  {
    "text": "certain actions are affecting your systems and then my favorite one chaos",
    "start": "1447530",
    "end": "1453950"
  },
  {
    "text": "monkey so this is seeing how your team or your systems with random failures so remembering that",
    "start": "1453950",
    "end": "1460500"
  },
  {
    "text": "although computers and disks are getting more and more reliable if something can go wrong it will go wrong it's",
    "start": "1460500",
    "end": "1466350"
  },
  {
    "text": "especially true with the rise in Microsoft's is where things like Network latency and failure become ever more harmful to your ecosystem so some",
    "start": "1466350",
    "end": "1474540"
  },
  {
    "text": "examples are the chaos monkey you might take down a web server in an auto scaling group or you might stop",
    "start": "1474540",
    "end": "1480420"
  },
  {
    "text": "connections to only database so in some cases you would expect your system to self-heal and in others you might expect",
    "start": "1480420",
    "end": "1487080"
  },
  {
    "text": "a human element and then see how they cope with the failure so in the case of",
    "start": "1487080",
    "end": "1492900"
  },
  {
    "text": "the web server in an auto scaling group presumably you would expect that a new one would be spun up automatically in",
    "start": "1492900",
    "end": "1498690"
  },
  {
    "text": "the case of the database hopefully your team is actually alerted gets their alerts and is able to work out what's",
    "start": "1498690",
    "end": "1504720"
  },
  {
    "text": "wrong and fix it we do chaos monkey and it's always a good idea to have a",
    "start": "1504720",
    "end": "1510720"
  },
  {
    "text": "retrospective afterwards to discuss what what went well and what needs improving and it can uncover some really",
    "start": "1510720",
    "end": "1517530"
  },
  {
    "text": "unexpected snowball events as well where one thing affects another thing affection etc if",
    "start": "1517530",
    "end": "1523710"
  },
  {
    "text": "you haven't tried it it's it's really interesting but quite scary I'll be",
    "start": "1523710",
    "end": "1529020"
  },
  {
    "text": "honest but really really worth doing right so we had a large number of tests",
    "start": "1529020",
    "end": "1537390"
  },
  {
    "start": "1533000",
    "end": "1533000"
  },
  {
    "text": "as part of our deploy system and they were the main thing that was slowing our process down the process that we're",
    "start": "1537390",
    "end": "1544470"
  },
  {
    "text": "trying to speed up so the real killers were our functional and end-to-end integration tests which I'm sure isn't a",
    "start": "1544470",
    "end": "1550200"
  },
  {
    "text": "surprise to anyone so first of all we tried reducing the number of the tests we tried deleting any tests that weren't",
    "start": "1550200",
    "end": "1556830"
  },
  {
    "text": "necessary but it turns out that's actually not as easy as it sounds and we didn't really get many gains so then we",
    "start": "1556830",
    "end": "1563010"
  },
  {
    "text": "tried speeding them up we tried improving the performance and we tried running them in in parallel and",
    "start": "1563010",
    "end": "1569010"
  },
  {
    "text": "in fact the parallel we had quite a lot of success we did manage to speed up quite a lot but for the amount of time",
    "start": "1569010",
    "end": "1575490"
  },
  {
    "text": "that we were spending working on our tests we weren't seeing a major improvement in our release frequency so",
    "start": "1575490",
    "end": "1583020"
  },
  {
    "text": "we did some brainstorming were we looking at it all wrong instead of trying to make the test go faster could",
    "start": "1583020",
    "end": "1590400"
  },
  {
    "text": "we just move the at which we do testing so if you think of a time line whoops sorry",
    "start": "1590400",
    "end": "1597050"
  },
  {
    "text": "conventionally testing is done before the code hits the live servers so maybe",
    "start": "1597050",
    "end": "1602250"
  },
  {
    "text": "as you develop you do TDD you're running your unit tests developing as you go along maybe you run a comprehensive test",
    "start": "1602250",
    "end": "1609750"
  },
  {
    "text": "suite as you commit so you get your commits on the fact that your tests have to pass or maybe you run them against",
    "start": "1609750",
    "end": "1616080"
  },
  {
    "text": "staging or UAT as part of your deploy pipeline maybe even have a number of",
    "start": "1616080",
    "end": "1621990"
  },
  {
    "text": "different platforms as part of your deploy pipe moon pipeline and different tests on each and you're getting your deploy on the fact that your tests have",
    "start": "1621990",
    "end": "1628290"
  },
  {
    "text": "to pass the commonality between all of these is that you have to run all your tests before you release to production",
    "start": "1628290",
    "end": "1634230"
  },
  {
    "text": "so what if we shake that up a bit what if we move the point when we deploy",
    "start": "1634230",
    "end": "1640980"
  },
  {
    "text": "to earlier in the pipeline so that is run some tests before you deploy but",
    "start": "1640980",
    "end": "1646950"
  },
  {
    "text": "then run other tests after you deploy so in essence we stop gating on all of our tests having to pass in order to deploy",
    "start": "1646950",
    "end": "1654470"
  },
  {
    "text": "so how did we do this we move the slow tests to post deploy so that's the",
    "start": "1654470",
    "end": "1661140"
  },
  {
    "text": "functional test the end-to-end integration test etc but we kept the unit tests before they super quick",
    "start": "1661140",
    "end": "1667710"
  },
  {
    "text": "anyway unit tests like seconds and this really helped to speed up our release process so like I think I said some of",
    "start": "1667710",
    "end": "1675000"
  },
  {
    "text": "our functional tests were taking around 30 minutes to run originally so suddenly our deployments were taking 30 minutes",
    "start": "1675000",
    "end": "1680190"
  },
  {
    "text": "less to run which meant we could deploy our code out in five minutes win so we fundamentally changed the way",
    "start": "1680190",
    "end": "1688050"
  },
  {
    "text": "that we were thinking about testing and its place in our process or as our next",
    "start": "1688050",
    "end": "1695070"
  },
  {
    "text": "speaker puts it testing don't end when  deployed which is a lot more succinct now that we'd started making",
    "start": "1695070",
    "end": "1704850"
  },
  {
    "start": "1702000",
    "end": "1702000"
  },
  {
    "text": "fundamental changes to the way that we ran our tests we noticed something else really strange we'd been running all of these tests",
    "start": "1704850",
    "end": "1711960"
  },
  {
    "text": "against our test environments why a test environment by definition is different",
    "start": "1711960",
    "end": "1718380"
  },
  {
    "text": "to your live environment you don't have real load pattern on your test environment you don't have real users",
    "start": "1718380",
    "end": "1724530"
  },
  {
    "text": "doing and unexpected things on your test environment and you probably don't even have the same infrastructure if you've",
    "start": "1724530",
    "end": "1730649"
  },
  {
    "text": "got hundreds of servers on your live system you might have a lot less in your test system so we made one other little",
    "start": "1730649",
    "end": "1737820"
  },
  {
    "text": "modification to the post deploy test we started running them rather than against a test instance we started running them",
    "start": "1737820",
    "end": "1743850"
  },
  {
    "text": "directly on our production servers so we",
    "start": "1743850",
    "end": "1749970"
  },
  {
    "start": "1747000",
    "end": "1747000"
  },
  {
    "text": "set up a parallel pipe line to run our functional tests so that's parallel to",
    "start": "1749970",
    "end": "1756870"
  },
  {
    "text": "all of our other development systems there's no dependencies independent of any deploys that are running and they",
    "start": "1756870",
    "end": "1762960"
  },
  {
    "text": "alert us three Naji us if they fail we've got a ton of functional tests so",
    "start": "1762960",
    "end": "1768539"
  },
  {
    "text": "initially when we tried running them in one go into cages so we split them into groups depending on the business service",
    "start": "1768539",
    "end": "1774059"
  },
  {
    "text": "that they were testing and that meant that we could run all of the groups in parallel and we were able to see any",
    "start": "1774059",
    "end": "1779970"
  },
  {
    "text": "failures sooner since we weren't waiting for the entire massive monolith of tests",
    "start": "1779970",
    "end": "1784980"
  },
  {
    "text": "to pass and then if we did have any failures we knew which business section was failing without having to troll",
    "start": "1784980",
    "end": "1790620"
  },
  {
    "text": "through tons of logs and since deploys since the code deploys are usually in",
    "start": "1790620",
    "end": "1797519"
  },
  {
    "text": "one business service anyway it made sense to run the tests as separate business services so each of these",
    "start": "1797519",
    "end": "1804029"
  },
  {
    "text": "groups of functional testers cron to run once an hour and these become our fire-and-forget tests they're always",
    "start": "1804029",
    "end": "1810690"
  },
  {
    "text": "running in the background checking that nothing's changed on our live sites and alerting us if they do so when we change",
    "start": "1810690",
    "end": "1817769"
  },
  {
    "text": "the way that we use single sign-on these tests were actually the first notification we had that we'd actually introduced an issue but functional tests",
    "start": "1817769",
    "end": "1826500"
  },
  {
    "text": "in production aren't just about testing your own systems they're also about testing your third-party systems it's a",
    "start": "1826500",
    "end": "1833519"
  },
  {
    "text": "really great way to get feedback on latency of third-party systems so for example if it's an important metric you",
    "start": "1833519",
    "end": "1840840"
  },
  {
    "text": "could graph to see how much the latency changes at different times of the day on your third-party systems and then when",
    "start": "1840840",
    "end": "1847200"
  },
  {
    "text": "you need to have a conversation with them about increase of decreasing their latency you've got the evidence in front",
    "start": "1847200",
    "end": "1852210"
  },
  {
    "text": "of you great conversation starter but when you're running against life you",
    "start": "1852210",
    "end": "1857250"
  },
  {
    "start": "1854000",
    "end": "1854000"
  },
  {
    "text": "need to think about you don't want to pollute your live business data with your test data for",
    "start": "1857250",
    "end": "1863830"
  },
  {
    "text": "example you probably don't want your functional test to be making real payments you definitely don't want your",
    "start": "1863830",
    "end": "1869230"
  },
  {
    "text": "test user to be able to rack up debts that it can't pay another thing to be aware of is that your analytics could be",
    "start": "1869230",
    "end": "1876190"
  },
  {
    "text": "misleading if you've got tests running regularly against production that's",
    "start": "1876190",
    "end": "1881410"
  },
  {
    "text": "going to increase for example if you've got tests that are pretending to be visitors coming in to your website it's",
    "start": "1881410",
    "end": "1886600"
  },
  {
    "text": "going to increase the number of visitors you've had which is slightly embarrassing if business starts getting really excited about all the new",
    "start": "1886600",
    "end": "1892240"
  },
  {
    "text": "visitors that you've generated and you have to tell them they're actually only test visitors so how do you special case",
    "start": "1892240",
    "end": "1898060"
  },
  {
    "text": "that well you need to tag the data in a way that all your systems know to ignore it so we created test users and then we",
    "start": "1898060",
    "end": "1905470"
  },
  {
    "text": "marked the test user IDs on all of our systems to be special cased or ignored say for example we marked our test",
    "start": "1905470",
    "end": "1911590"
  },
  {
    "text": "payments with a special flag which made our consumers drop them rather than actually importing them into our",
    "start": "1911590",
    "end": "1916930"
  },
  {
    "text": "database and we're able to remove test data from graphs as well as a result of",
    "start": "1916930",
    "end": "1922750"
  },
  {
    "text": "this but to be truly end-to-end all of your systems need to know about test",
    "start": "1922750",
    "end": "1928030"
  },
  {
    "text": "users and be able to special case them which can be a problem if you've got downstream systems there that are out of",
    "start": "1928030",
    "end": "1934060"
  },
  {
    "text": "your sphere of control for example the third party systems so one option you",
    "start": "1934060",
    "end": "1939610"
  },
  {
    "text": "could have here is that you could have two back-end systems and then dynamically switch between them depending on the user a little bit like",
    "start": "1939610",
    "end": "1945820"
  },
  {
    "text": "load balancing for a specific user so",
    "start": "1945820",
    "end": "1952360"
  },
  {
    "start": "1950000",
    "end": "1950000"
  },
  {
    "text": "when you're testing you can test what you think is correct expected behavior in your tests but it's only when you're",
    "start": "1952360",
    "end": "1957670"
  },
  {
    "text": "actually testing on production that you see the real behavior of users and users tend to do really unexpected things so",
    "start": "1957670",
    "end": "1965710"
  },
  {
    "text": "in order to get around some limitations we had in one of our systems where users had worked out a completely different workflow than we'd ever expected it was",
    "start": "1965710",
    "end": "1972550"
  },
  {
    "text": "pretty ingenious to be honest but we weren't testing for it because it wasn't correct behavior so we started to test",
    "start": "1972550",
    "end": "1979240"
  },
  {
    "text": "for it since we knew they'd be upset if that functionality stopped working another problem with testing is keeping",
    "start": "1979240",
    "end": "1987070"
  },
  {
    "text": "your test data realistic can be a full-time job data changes all the time particularly",
    "start": "1987070",
    "end": "1992350"
  },
  {
    "text": "parties they changed their data and possibly don't notify you an input data",
    "start": "1992350",
    "end": "1998950"
  },
  {
    "text": "that was valid when you wrote the test soon goes out of date as processors change it so unless you proactively",
    "start": "1998950",
    "end": "2006380"
  },
  {
    "text": "regularly check the data you input your tests is likely to get out of date and tests that run out of out over out of",
    "start": "2006380",
    "end": "2013860"
  },
  {
    "text": "date data are pretty useless so testing in production means that you never need",
    "start": "2013860",
    "end": "2019320"
  },
  {
    "text": "to worry about this your test the input your test is always up-to-date your on production your using your your live",
    "start": "2019320",
    "end": "2026580"
  },
  {
    "text": "users and your live load so once we had",
    "start": "2026580",
    "end": "2031890"
  },
  {
    "start": "2030000",
    "end": "2030000"
  },
  {
    "text": "the bug for testing in production we started to think hey what else could we run on production and we decided to try",
    "start": "2031890",
    "end": "2037830"
  },
  {
    "text": "running load tests on production maybe",
    "start": "2037830",
    "end": "2043770"
  },
  {
    "text": "you're thinking why on earth would you do that possibly you're thinking goodness that sounds pretty dangerous so",
    "start": "2043770",
    "end": "2050908"
  },
  {
    "text": "why not run our load test against staging what's the point in running them on production by running against an on",
    "start": "2050909",
    "end": "2057090"
  },
  {
    "text": "live system you introduce points of divergence the infrastructure is likely different hopefully your staging systems",
    "start": "2057090",
    "end": "2063419"
  },
  {
    "text": "are set up as close to your live production servers as possible with the same OS in the same hardware but I think",
    "start": "2063419",
    "end": "2070408"
  },
  {
    "text": "I mentioned early you might have a different spread of service if you've got a hundred servers in your production system you're unlikely to have a test",
    "start": "2070409",
    "end": "2075960"
  },
  {
    "text": "system with a hundred servers also you can have different disk and memory patterns say for example your live",
    "start": "2075960",
    "end": "2082530"
  },
  {
    "text": "servers might be running another process in the background which you don't run on your staging server for example you",
    "start": "2082530",
    "end": "2089490"
  },
  {
    "text": "might have a memory intensive backup which runs once every night what would happen if you had a really heavy load at",
    "start": "2089490",
    "end": "2094800"
  },
  {
    "text": "the exact point that your backup was going off you wouldn't know if you hadn't tested that on staging that's one",
    "start": "2094800",
    "end": "2103080"
  },
  {
    "text": "example but obviously there's tons of different variables through things on production that happen that you might not be expecting by testing against",
    "start": "2103080",
    "end": "2110490"
  },
  {
    "text": "production you get the advantage that you're using that real data that real events and of course one of the really",
    "start": "2110490",
    "end": "2119190"
  },
  {
    "text": "great side effects of doing your testing against live is that you don't have the overhead of maintaining a separate",
    "start": "2119190",
    "end": "2125590"
  },
  {
    "text": "so what low do we use a naive attempt at low testing would be just to repeatedly",
    "start": "2125590",
    "end": "2131630"
  },
  {
    "start": "2126000",
    "end": "2126000"
  },
  {
    "text": "fire an event at your service and see how they cope but real life is a lot more nuanced you've got events coming in",
    "start": "2131630",
    "end": "2136700"
  },
  {
    "text": "from different places at different frequencies you've got various different patterns you have daily load patterns",
    "start": "2136700",
    "end": "2142370"
  },
  {
    "text": "weekly patterns year patterns etc we also have a really different load at the weekend our load is much smaller at the",
    "start": "2142370",
    "end": "2149120"
  },
  {
    "text": "weekend which suggests that most people tend to browse the web more during the week when they're working we also have a",
    "start": "2149120",
    "end": "2156740"
  },
  {
    "text": "global user base our servers are distributed around the world we use AWS and we've got clusters in Singapore",
    "start": "2156740",
    "end": "2163640"
  },
  {
    "text": "Europe and the US and we do this to reduce latency if a user in Japan loads",
    "start": "2163640",
    "end": "2168770"
  },
  {
    "text": "an ad they're routed to a Singapore servers it's a much smaller round-trip time and in terms of adverts every",
    "start": "2168770",
    "end": "2174980"
  },
  {
    "text": "milliseconds counts and each of these regions obviously has its own load",
    "start": "2174980",
    "end": "2180110"
  },
  {
    "text": "pattern when people in Singapore are awake and generating loads Europe has a really low load because everyone's",
    "start": "2180110",
    "end": "2185540"
  },
  {
    "text": "asleep and vice versa likewise the popularity of our products varies by",
    "start": "2185540",
    "end": "2190580"
  },
  {
    "text": "region so different systems receive different different traffic patterns from each region so we thought how could",
    "start": "2190580",
    "end": "2197300"
  },
  {
    "text": "we recreate these exact data patterns for our load test and when the answer came it was stunningly obvious we can",
    "start": "2197300",
    "end": "2203660"
  },
  {
    "text": "use our end users to generate the extra load that's going to give us an identical load pattern to what they're",
    "start": "2203660",
    "end": "2208850"
  },
  {
    "text": "already doing so how do we do this so if each time an ad fires event we make it",
    "start": "2208850",
    "end": "2215420"
  },
  {
    "text": "fire one extra event we've already doubled our load if we make it fire two extra events we've tripled our load in",
    "start": "2215420",
    "end": "2221810"
  },
  {
    "text": "case you're worrying the user doesn't notice the difference compared to the the video file that's loading the ads one or two it's a bits little pixels",
    "start": "2221810",
    "end": "2228380"
  },
  {
    "text": "makes no difference to the user at all so make sure more realistic for testing",
    "start": "2228380",
    "end": "2235690"
  },
  {
    "text": "sorry the more realistic you're testing the better job it can do of identifying",
    "start": "2235690",
    "end": "2240860"
  },
  {
    "text": "problems",
    "start": "2240860",
    "end": "2243280"
  },
  {
    "start": "2244000",
    "end": "2244000"
  },
  {
    "text": "obviously one of the main considerations when you test loads test against life is",
    "start": "2247230",
    "end": "2252640"
  },
  {
    "text": "that you can't push it till it falls over so we test up to a fresh hold we",
    "start": "2252640",
    "end": "2259810"
  },
  {
    "text": "need to be slightly more circumstan circumspect so we started running our tests manually and then slowly ramping",
    "start": "2259810",
    "end": "2266170"
  },
  {
    "text": "up the load so we run a test allow a little bit of time see how it affected our systems and then run the next one",
    "start": "2266170",
    "end": "2272140"
  },
  {
    "text": "with a slightly increased load etc and we thought we were being SuperDuper careful not to push it too hard but we'd",
    "start": "2272140",
    "end": "2278440"
  },
  {
    "text": "unfortunately forgotten a facet of our load which then bit us in the ass so",
    "start": "2278440",
    "end": "2284410"
  },
  {
    "text": "with ads you tend to have a long tail traffic pattern because people can load an ad but they're not actually scroll",
    "start": "2284410",
    "end": "2289900"
  },
  {
    "text": "interview until a while later if they've loaded it in a separate tab it could be days before they actually watch the",
    "start": "2289900",
    "end": "2296500"
  },
  {
    "text": "advert and every time so that means that the the events aren't being fired until",
    "start": "2296500",
    "end": "2301900"
  },
  {
    "text": "quite a time later so we were receiving a heightened heightened load for much longer than we'd actually expected to in",
    "start": "2301900",
    "end": "2311020"
  },
  {
    "text": "actually the first time we tried this actually brought one of our live servers down to a mostly unresponsive state so",
    "start": "2311020",
    "end": "2317800"
  },
  {
    "text": "we learnt our lesson and we altered the load test to automatically stop if the load got above a certain percentage so",
    "start": "2317800",
    "end": "2324160"
  },
  {
    "text": "now we push our load test until we start to see any of our downstream systems wobble wobble is a technical term how",
    "start": "2324160",
    "end": "2331840"
  },
  {
    "text": "can you see those wobbles well we have really good monitoring on all of our systems that will be affected by this",
    "start": "2331840",
    "end": "2337210"
  },
  {
    "text": "increased load so at the moment we're load testing up to 40 times we happen to know from our graphs that over Christmas",
    "start": "2337210",
    "end": "2344320"
  },
  {
    "text": "and Super Bowl which are our two busiest times of the year we usually go sort of 1020 times so we're above that threshold",
    "start": "2344320",
    "end": "2352620"
  },
  {
    "text": "right so we'd created our faster deploys we didn't have branches",
    "start": "2353190",
    "end": "2358720"
  },
  {
    "text": "we had single feature releases we were deploying straight to production and we were running our tests after releasing",
    "start": "2358720",
    "end": "2364630"
  },
  {
    "text": "and along the way we'd hopefully given developers more freedom to experiment and try out different things faster",
    "start": "2364630",
    "end": "2370390"
  },
  {
    "text": "deploy means faster feedback loop so our",
    "start": "2370390",
    "end": "2375670"
  },
  {
    "text": "next ingredient was making rolling back easier since we had those deploy tokens",
    "start": "2375670",
    "end": "2382600"
  },
  {
    "start": "2380000",
    "end": "2380000"
  },
  {
    "text": "that we had the picture for earlier you knew that you know that no one can be deploying at the same time as you",
    "start": "2382600",
    "end": "2388080"
  },
  {
    "text": "so that makes rolling back dead simple we just check out the previous git commit and redeploy so remembering that",
    "start": "2388080",
    "end": "2394570"
  },
  {
    "text": "every commit is a deploy there's no faffing around trying to work out what version was on production before your",
    "start": "2394570",
    "end": "2400000"
  },
  {
    "text": "deploy you just know that it's head minus one so it's really easy to write a script to just do rollback and deploy",
    "start": "2400000",
    "end": "2406780"
  },
  {
    "text": "out takes a couple of minutes brilliant",
    "start": "2406780",
    "end": "2412150"
  },
  {
    "text": "so we've talked about speeding up the deploy process which speaks about making the rollback easier so now let's talk",
    "start": "2412150",
    "end": "2418060"
  },
  {
    "text": "about seeing if the deploy has been successful or not so how do we know when",
    "start": "2418060",
    "end": "2424510"
  },
  {
    "text": "we make a deploy if the new code is working as expected we've got server logs right so you've probably got your terminal openers you",
    "start": "2424510",
    "end": "2430120"
  },
  {
    "text": "deploy tailing application logs checking for exceptions and errors and if you see anything like that you roll back",
    "start": "2430120",
    "end": "2435820"
  },
  {
    "text": "straightaway we've also got graphs so",
    "start": "2435820",
    "end": "2442360"
  },
  {
    "text": "before we deploy we think about which metrics we expect should change post deploy and which metrics we expect to",
    "start": "2442360",
    "end": "2448090"
  },
  {
    "text": "say stay the same it's obviously dependent on the functionality of the code that we're deploying out at the time as you can see are not very tidy",
    "start": "2448090",
    "end": "2456820"
  },
  {
    "text": "dev area has lots of big wall monitoring screens so that's really easy visibility",
    "start": "2456820",
    "end": "2464560"
  },
  {
    "text": "if you've got a line plummeting on a graph you know that's a bad sign the new code isn't working you need to rollback",
    "start": "2464560",
    "end": "2470520"
  },
  {
    "text": "but we actually had quite an interesting learning out of this so the idea of",
    "start": "2470520",
    "end": "2476080"
  },
  {
    "text": "verifying the post deploy code by looking at graphs is really implicitly",
    "start": "2476080",
    "end": "2481540"
  },
  {
    "text": "baked into our culture but it turned out that we had some new starters who weren't aware of this verification step",
    "start": "2481540",
    "end": "2486940"
  },
  {
    "text": "they just see its deploy and then we move on to the next thing and they weren't aware that we were actually doing this verification step",
    "start": "2486940",
    "end": "2494250"
  },
  {
    "text": "particularly I think if they'd come from somewhere that had a build pipeline so they would weren't used to the idea of",
    "start": "2494250",
    "end": "2499630"
  },
  {
    "text": "post deploy checks so this resulted in us having a number of fires where we had",
    "start": "2499630",
    "end": "2507610"
  },
  {
    "text": "a couple of new starters who pushed something out and hadn't done the check to check that it actually worked once again proving that the the",
    "start": "2507610",
    "end": "2514970"
  },
  {
    "text": "importance of good communication when you're coding if you were to ask people",
    "start": "2514970",
    "end": "2521960"
  },
  {
    "text": "why they monitor I think they would probably reply that it gives them ongoing confidence in their systems",
    "start": "2521960",
    "end": "2526989"
  },
  {
    "text": "metrics can change at any time though right it's not just straight after a deploy so although our screens are",
    "start": "2526989",
    "end": "2532999"
  },
  {
    "text": "pretty in your face we also automate a notification so that sends us an alert if any of our metrics",
    "start": "2532999",
    "end": "2539930"
  },
  {
    "text": "for example with important KPIs have been breached say for example if we had a KPI to check that we're still making",
    "start": "2539930",
    "end": "2546049"
  },
  {
    "text": "money that would be bad for business if we weren't so that needs to be addressed straight away so we get a notification",
    "start": "2546049",
    "end": "2552999"
  },
  {
    "start": "2553000",
    "end": "2553000"
  },
  {
    "text": "so we recently noticed a really large spike in our traffic we were receiving",
    "start": "2553720",
    "end": "2559279"
  },
  {
    "text": "warning alerts from various parts of our systems and then after four days it went away went back to normal we had no idea",
    "start": "2559279",
    "end": "2566119"
  },
  {
    "text": "what would caused it and our best guess was that it had been related to a large sale that our business had made but we",
    "start": "2566119",
    "end": "2574400"
  },
  {
    "text": "realized that we had no way of seeing how the various business events were affecting our systems say for example if",
    "start": "2574400",
    "end": "2580849"
  },
  {
    "text": "we onboard a big publisher we would expect our traffic to go up since we're displaying more ads and the higher",
    "start": "2580849",
    "end": "2586400"
  },
  {
    "text": "traffic to the site means that we've got a higher load and therefore our metrics would go up so we've been using deploy",
    "start": "2586400",
    "end": "2593569"
  },
  {
    "text": "lines for a while on our graphs that's a vertical line each time you deploy so it wasn't hard to start putting business",
    "start": "2593569",
    "end": "2599359"
  },
  {
    "text": "events onto our graphs so the yellow vertical lines that actually aren't",
    "start": "2599359",
    "end": "2604700"
  },
  {
    "text": "particularly clear but anyway those are our business event lines so when you",
    "start": "2604700",
    "end": "2610999"
  },
  {
    "text": "hover over it you get more information the discreet at the top screen nearest to me you can see this like little square there that's showing that we'd on",
    "start": "2610999",
    "end": "2620059"
  },
  {
    "text": "boarded a large new site which we call a whale for some reason so that was going to increase our load and not only can we",
    "start": "2620059",
    "end": "2628430"
  },
  {
    "text": "correlate these business events to fluctuations in metrics but also you can correlate events across different services to see how different services",
    "start": "2628430",
    "end": "2635329"
  },
  {
    "text": "are affected by the same business event so let's talk tech for a second we've got collecti that's pushing metrics into",
    "start": "2635329",
    "end": "2642980"
  },
  {
    "text": "graphite and then I mean graphics for storing metrics but it's not got an amazing interface so we use cro fauna",
    "start": "2642980",
    "end": "2649930"
  },
  {
    "text": "that's how all these graphs are done it's got really nice transformations you can do really pretty different things and then we've got nudges to do our",
    "start": "2649930",
    "end": "2657040"
  },
  {
    "text": "alerting in a way our success was",
    "start": "2657040",
    "end": "2662440"
  },
  {
    "start": "2659000",
    "end": "2659000"
  },
  {
    "text": "actually our failure so everyone started to create more and more metrics to keep watch on the various different changing",
    "start": "2662440",
    "end": "2667810"
  },
  {
    "text": "systems and the number of metrics steadily increased so we've got about 400,000 metrics and graphite I think",
    "start": "2667810",
    "end": "2673510"
  },
  {
    "text": "currently so one team spun up 40 new servers all spinning out tons of metrics",
    "start": "2673510",
    "end": "2679030"
  },
  {
    "text": "and that actually managed to take our monitoring server down yeah that was a",
    "start": "2679030",
    "end": "2684190"
  },
  {
    "text": "fun day we'd actually we'd actually increased our metrics to such an extent that we",
    "start": "2684190",
    "end": "2690610"
  },
  {
    "text": "ran out of capacity on earth on the monitoring server so since monitoring",
    "start": "2690610",
    "end": "2696070"
  },
  {
    "text": "was something that we felt we needed to improve on we had a hack day where the entire dev team got together and took on",
    "start": "2696070",
    "end": "2701200"
  },
  {
    "text": "various projects of their choice to improve our monitoring systems the business events that I mentioned in the",
    "start": "2701200",
    "end": "2706540"
  },
  {
    "text": "last slide was actually one of them overlaying that and increasing the capacity of graphite was our other one",
    "start": "2706540",
    "end": "2714930"
  },
  {
    "text": "so another example a little while ago we found that we had a problem with our data syncing our systems weren't always",
    "start": "2715980",
    "end": "2723040"
  },
  {
    "text": "getting updated with the latest data we didn't know why it was happening so we were unable to gauge how serious a",
    "start": "2723040",
    "end": "2728830"
  },
  {
    "text": "problem it was it didn't happen regularly and sometimes it just seemed to fix itself which was super confusing",
    "start": "2728830",
    "end": "2735420"
  },
  {
    "text": "so we decided to use a monitoring feedback loop so we created a new graph",
    "start": "2735420",
    "end": "2740530"
  },
  {
    "text": "to monitor improve the existence of the problem in production from that graph we",
    "start": "2740530",
    "end": "2746890"
  },
  {
    "text": "were able to see that it was a recurring problem and how often it recurred having the historic data we were able to",
    "start": "2746890",
    "end": "2753280"
  },
  {
    "text": "correlate the problem with something that our ops team had been doing so we decided at that point to save work on",
    "start": "2753280",
    "end": "2759280"
  },
  {
    "text": "doing in any upfront work to fix it to automate the fix so we deployed a manual",
    "start": "2759280",
    "end": "2766690"
  },
  {
    "text": "fix first and then we checked our graph to check that the problem had gone away with the manual fix which it had so then",
    "start": "2766690",
    "end": "2775030"
  },
  {
    "text": "we also added a nudges check to our graph to proactive alert us if our slack in our tonight",
    "start": "2775030",
    "end": "2780480"
  },
  {
    "text": "channel if anything happens and then the problem did reoccur so at that point we were able to automate the fix to",
    "start": "2780480",
    "end": "2786750"
  },
  {
    "text": "regularly update the data but so we waited by using the graph as a feedback loop we waited until we definitely knew",
    "start": "2786750",
    "end": "2793410"
  },
  {
    "text": "that we needed to make a proper fix we just done the manual fix first so it saved us time initially so does that",
    "start": "2793410",
    "end": "2801720"
  },
  {
    "start": "2799000",
    "end": "2799000"
  },
  {
    "text": "sound familiar it's like code to the TDD feedback loop I mentioned earlier so you've got the",
    "start": "2801720",
    "end": "2806850"
  },
  {
    "text": "read the graph shows you the issue the green you fix the issue and you see your graph coming up again to where you want",
    "start": "2806850",
    "end": "2813270"
  },
  {
    "text": "it to be and then you refactor either to add another check to add a notification check or to actually fix the underlying",
    "start": "2813270",
    "end": "2819510"
  },
  {
    "text": "issue so we've started to use this feedback loop to show that the expected",
    "start": "2819510",
    "end": "2824790"
  },
  {
    "text": "business value is delivered with a story so as part of a story we create a graph",
    "start": "2824790",
    "end": "2829860"
  },
  {
    "text": "or dashboard with the main KPIs that will be affected by the story and we say",
    "start": "2829860",
    "end": "2835650"
  },
  {
    "text": "for example if we expect our change will increase a certain type of user interaction we would put a graph up to",
    "start": "2835650",
    "end": "2841710"
  },
  {
    "text": "prove this and then once we've released we're able to check on the graph to see that the the the code change has the",
    "start": "2841710",
    "end": "2848370"
  },
  {
    "text": "expected change in metrics our assumptions were correct",
    "start": "2848370",
    "end": "2855109"
  },
  {
    "start": "2855000",
    "end": "2855000"
  },
  {
    "text": "so whereas monitoring's pull alerting is push and Lessing is probably going to",
    "start": "2855920",
    "end": "2861810"
  },
  {
    "text": "make wake someone up in the middle of the night as well right so is it really needed and when is it needed what are we",
    "start": "2861810",
    "end": "2868140"
  },
  {
    "text": "going to alert on so let's get some audience participation I know it's post-lunch but if yo you got",
    "start": "2868140",
    "end": "2875370"
  },
  {
    "start": "2870000",
    "end": "2870000"
  },
  {
    "text": "armed army yoga so imagine that we've got this incredibly simple system we've got a back-end database we've got two",
    "start": "2875370",
    "end": "2882570"
  },
  {
    "text": "web servers and we've got a load balancer okay so if we got very high",
    "start": "2882570",
    "end": "2887880"
  },
  {
    "text": "load on our database hands up if you think it makes sense to send an alert that could wake someone up in the middle",
    "start": "2887880",
    "end": "2894360"
  },
  {
    "text": "of the night before that couple okay",
    "start": "2894360",
    "end": "2901110"
  },
  {
    "text": "so it turns out most of our user queries were running fine we had a high load on",
    "start": "2901110",
    "end": "2906540"
  },
  {
    "text": "the database but I didn't seem to be affecting the queries that most of our users were doing so one of our web",
    "start": "2906540",
    "end": "2912780"
  },
  {
    "text": "servers has stopped serving hands up if we should alert on that couple okay so",
    "start": "2912780",
    "end": "2920820"
  },
  {
    "text": "we've got our load balancer hopefully it's intelligent enough to transfer all load to the responsive web server our",
    "start": "2920820",
    "end": "2928920"
  },
  {
    "text": "pages are taking much longer to load then our KPI allows hands up if you think we should alert on that one yeah",
    "start": "2928920",
    "end": "2936870"
  },
  {
    "text": "this is the main one right this is actually the user being negatively impacted the other ones your system",
    "start": "2936870",
    "end": "2943230"
  },
  {
    "text": "might be able to cope with this one your users are going to be upset this is the one that wakes you up in the middle of",
    "start": "2943230",
    "end": "2948480"
  },
  {
    "text": "the night that's a really great way to",
    "start": "2948480",
    "end": "2953820"
  },
  {
    "text": "avoid pager fatigue I don't know if you guys have that but the more times you get waking up at night the less likely",
    "start": "2953820",
    "end": "2959610"
  },
  {
    "text": "you are to really care about what's happening so page on the symptoms not the causes so one edge case that we've",
    "start": "2959610",
    "end": "2971610"
  },
  {
    "text": "had is that when you notice disk is filling up it's probably better to report on that during the day so that",
    "start": "2971610",
    "end": "2977490"
  },
  {
    "text": "someone can fix it straight away otherwise it might result in someone getting waking up in the middle of the night which is a little bit cruel the",
    "start": "2977490",
    "end": "2988890"
  },
  {
    "start": "2986000",
    "end": "2986000"
  },
  {
    "text": "exciting thing isn't what's testing in production is but rather what it enables you to do as a result of the change in",
    "start": "2988890",
    "end": "2994890"
  },
  {
    "text": "your mindset about the way you release you've got quicker feedback you move faster you're doing lean deploys shorter",
    "start": "2994890",
    "end": "3000590"
  },
  {
    "text": "deploy cycles it gives you courage you can see it working on production you get more confidence that means you can",
    "start": "3000590",
    "end": "3007190"
  },
  {
    "text": "respond to your user needs faster I'm quite a fan of feedback loops I'm sure you're getting that so I think we need a",
    "start": "3007190",
    "end": "3014690"
  },
  {
    "start": "3013000",
    "end": "3013000"
  },
  {
    "text": "new kind of developer a new kind of mindset to make this work you've",
    "start": "3014690",
    "end": "3022220"
  },
  {
    "text": "probably heard the phrase full stack developer I prefer to think of a full cycle developer so if you wanted you",
    "start": "3022220",
    "end": "3028340"
  },
  {
    "text": "could equate this to the wildly polarizing and often misunderstood DevOps movement so I define a full side",
    "start": "3028340",
    "end": "3034740"
  },
  {
    "text": "cycle developer as a developer who not only develops code but also writes their own tests and does their own deploys",
    "start": "3034740",
    "end": "3040500"
  },
  {
    "text": "builds and cares for their own infrastructure be that bare metal cloud service as your functions whatever and",
    "start": "3040500",
    "end": "3047070"
  },
  {
    "text": "they will say get user feedback and they create new stories last but not least",
    "start": "3047070",
    "end": "3052320"
  },
  {
    "text": "they take it on to take turns to be on cool whoa wait a second did I say developers",
    "start": "3052320",
    "end": "3057900"
  },
  {
    "text": "should be on cool who's the best person to fix an issue it's the person who wrote the code who knows the inner",
    "start": "3057900",
    "end": "3064110"
  },
  {
    "text": "workings of the system that's the developers so it makes sense to put us on call in fact having a separate same",
    "start": "3064110",
    "end": "3070200"
  },
  {
    "text": "team for testing another to deploy another to be on call introduces multiple communication boundaries and as",
    "start": "3070200",
    "end": "3076470"
  },
  {
    "text": "we know failing community to communicate all necessary details is a common cause of failure in software and also having",
    "start": "3076470",
    "end": "3083220"
  },
  {
    "text": "separate teams introduces a bit of them in US culture knowing that other teams will go over your code test deploy and",
    "start": "3083220",
    "end": "3089550"
  },
  {
    "text": "look after it can kind of reduce that feeling of accountability account of responsibility oh it's their problem now",
    "start": "3089550",
    "end": "3095520"
  },
  {
    "text": "I don't if anyone followed the ramps",
    "start": "3095520",
    "end": "3100650"
  },
  {
    "start": "3097000",
    "end": "3097000"
  },
  {
    "text": "discussion by Michael Hill it's a little while ago I rather like this make great software by making great team so ramps",
    "start": "3100650",
    "end": "3107550"
  },
  {
    "text": "is rhythm autonomy mastery purpose and safety so he says teams lacking safety lack",
    "start": "3107550",
    "end": "3114359"
  },
  {
    "text": "ideas because having a new idea is scary ideas are the fundamental unit of software progress and also teams lacking",
    "start": "3114359",
    "end": "3121830"
  },
  {
    "text": "autonomy lack the freedom to make things worse but they also lack the freedom to make them better so allowing us to make a",
    "start": "3121830",
    "end": "3129570"
  },
  {
    "text": "mistake and not be fearful of the consequences imagine how liberating that is to have your boss say oh well you tried",
    "start": "3129570",
    "end": "3135869"
  },
  {
    "text": "something it didn't work this time but whatever no harm what are you going to try next pretty liberating that outright",
    "start": "3135869",
    "end": "3142830"
  },
  {
    "text": "acceptance of mistakes is key to building confidence and trying radical new things that will hopefully drive",
    "start": "3142830",
    "end": "3147900"
  },
  {
    "text": "your business Ford I had to have an obligatory cutesy cat picture right so",
    "start": "3147900",
    "end": "3154560"
  },
  {
    "start": "3150000",
    "end": "3150000"
  },
  {
    "text": "it's kind of a change of mindset for developers the freedom to play a little and experiment the satisfaction of",
    "start": "3154560",
    "end": "3159780"
  },
  {
    "text": "seeing your code being used by others straightaway and being informed about the success gives you the confidence to",
    "start": "3159780",
    "end": "3165869"
  },
  {
    "text": "work faster no one's nervous about flowing or rolling back you know it's all pretty straightforward right",
    "start": "3165869",
    "end": "3175170"
  },
  {
    "start": "3173000",
    "end": "3173000"
  },
  {
    "text": "so you think testing in Milwaukee hopefully sounds interesting how can you introduce it yourself at",
    "start": "3175170",
    "end": "3181109"
  },
  {
    "text": "work so first up I need to say it's not for everyone some business sectors don't",
    "start": "3181109",
    "end": "3186150"
  },
  {
    "text": "lend themselves to working this way for example if you write code for nuclear deploy missiles I would rather you forgot everything",
    "start": "3186150",
    "end": "3192750"
  },
  {
    "text": "you've heard today and you didn't test in production but testing in production works for us I'm really because we're",
    "start": "3192750",
    "end": "3198510"
  },
  {
    "text": "happy with the payoff of having less rigor and less security and deploy which allows us to deploy faster perhaps your",
    "start": "3198510",
    "end": "3205410"
  },
  {
    "text": "overall business model won't allow it if you're in finance for instance but maybe parts of your business could apply these",
    "start": "3205410",
    "end": "3211950"
  },
  {
    "text": "techniques so what can you do try running your man you try manually",
    "start": "3211950",
    "end": "3217230"
  },
  {
    "text": "running your slowest test probably your functional or your end-to-end against production remembering to special case",
    "start": "3217230",
    "end": "3222810"
  },
  {
    "text": "and then once you're happy that it's all working and you've got enough alerting in case there's any errors then stop",
    "start": "3222810",
    "end": "3228420"
  },
  {
    "text": "running them as part of your deploy po pipeline improve your monitoring I mean more monitoring is always good right you",
    "start": "3228420",
    "end": "3235050"
  },
  {
    "text": "can't go wrong there and how quickly can you roll back is it a complicated process that requires document document",
    "start": "3235050",
    "end": "3241980"
  },
  {
    "text": "ation to be open as you go through various steps try simplifying it the quicker you're able to roll back the",
    "start": "3241980",
    "end": "3248160"
  },
  {
    "text": "less nervous your feel about deploying",
    "start": "3248160",
    "end": "3251809"
  },
  {
    "text": "it's no longer a process to worry about but instead something that's really easy to do if you've got a quick rollback",
    "start": "3254600",
    "end": "3260640"
  },
  {
    "text": "process it becomes commonplace it took us a while to get where we are now I'll",
    "start": "3260640",
    "end": "3265920"
  },
  {
    "text": "be honest and in the process we learned some valuable lessons mostly about how our systems work and also what's about",
    "start": "3265920",
    "end": "3272490"
  },
  {
    "text": "what's important to us as developers and as a business so I hope I've inspired",
    "start": "3272490",
    "end": "3278070"
  },
  {
    "text": "you to make a similar journey but ultimately explore and have fun thank you",
    "start": "3278070",
    "end": "3285140"
  },
  {
    "start": "3287000",
    "end": "3287000"
  },
  {
    "text": "I've got a couple of minutes for questions if anyone had any yeah that's",
    "start": "3290880",
    "end": "3309160"
  },
  {
    "text": "a brilliant brilliant question yeah so yeah we do that on development first so",
    "start": "3309160",
    "end": "3315130"
  },
  {
    "text": "we do check that's working and also as part of if we're doing a release which is a development schema",
    "start": "3315130",
    "end": "3321250"
  },
  {
    "text": "sorry a database schema update that's the only thing in that release that one schema so we've tested that on our test",
    "start": "3321250",
    "end": "3327309"
  },
  {
    "text": "servers and it is working before we put it into production yeah because although that's that's the one scenario thank you for bringing it up I",
    "start": "3327309",
    "end": "3333279"
  },
  {
    "text": "should have mentioned that anyone else yep",
    "start": "3333279",
    "end": "3339150"
  },
  {
    "text": "so roughly we've got probably about 15",
    "start": "3342450",
    "end": "3349329"
  },
  {
    "text": "pairs and I would say most pairs release at least twice a day give or take that",
    "start": "3349329",
    "end": "3372700"
  },
  {
    "text": "is a really good question I guess we'd probably have monitoring in place to allow us to see but honestly no I guess",
    "start": "3372700",
    "end": "3380319"
  },
  {
    "text": "because we've been doing it for so long now it's a really good question the the",
    "start": "3380319",
    "end": "3385809"
  },
  {
    "text": "unfortunate thing with working like this is that the the thing that most people see is when it when it goes wrong when you have a failure to deployment and",
    "start": "3385809",
    "end": "3392140"
  },
  {
    "text": "everyone costs up that exactly how much money you've lost as a part of having their failure oh sorry",
    "start": "3392140",
    "end": "3400000"
  },
  {
    "text": "how much it we've saved to the company by doing the entire process of the the",
    "start": "3400000",
    "end": "3405220"
  },
  {
    "text": "fast deploys",
    "start": "3405220",
    "end": "3407759"
  },
  {
    "text": "so usually you can see any problems pretty much instantaneously when you're tailing your application logs cause",
    "start": "3419720",
    "end": "3425880"
  },
  {
    "text": "you're going to have exceptions thrown left right and center if anything it's gone wrong but in some cases it can take",
    "start": "3425880",
    "end": "3432140"
  },
  {
    "text": "up to a day so you've got there different patterns in user usage right",
    "start": "3432140",
    "end": "3437850"
  },
  {
    "text": "so maybe something happens every night that's slightly different and that shows up that your code is bad or some",
    "start": "3437850",
    "end": "3444690"
  },
  {
    "text": "everything every week and it shows up that there's a problem with your code so we can take a little bit longer but generally I would say either tailing the",
    "start": "3444690",
    "end": "3452190"
  },
  {
    "text": "log straight away or just looking at the graphs within half an hour yes",
    "start": "3452190",
    "end": "3461490"
  },
  {
    "text": "oh well no we we actually do deployments pretty much straight straight away but",
    "start": "3461490",
    "end": "3467670"
  },
  {
    "text": "like I said each pair is deploying maybe twice a day and if there's only a couple of pairs working on the same codebase it",
    "start": "3467670",
    "end": "3472890"
  },
  {
    "text": "probably means that a code base is deployed out four times a day or something we've got quite small we break in our code base into small micro",
    "start": "3472890",
    "end": "3479220"
  },
  {
    "text": "service e type modules we would deploy",
    "start": "3479220",
    "end": "3488760"
  },
  {
    "text": "if we're not 100%",
    "start": "3488760",
    "end": "3491840"
  },
  {
    "text": "okay so yeah so there are there are cases if you find out that something's",
    "start": "3498839",
    "end": "3503890"
  },
  {
    "text": "gone wrong a little bit later that you might end up having to roll back the last two commits let's say that that's definitely a scenario now I mean there's",
    "start": "3503890",
    "end": "3510550"
  },
  {
    "text": "there's always going to be edge cases in anything right but the idea is that we're we're willing to take the risk and",
    "start": "3510550",
    "end": "3515890"
  },
  {
    "text": "if something is wrong we're willing to do a little bit of extra work to fix it because we can deploy out faster that's",
    "start": "3515890",
    "end": "3521950"
  },
  {
    "text": "that's the key key hopefully successful metric for our company oh maybe once a",
    "start": "3521950",
    "end": "3536230"
  },
  {
    "text": "month I would say Oh functional test",
    "start": "3536230",
    "end": "3541810"
  },
  {
    "text": "fail not that often surprisingly we don't often make massive UI changes I",
    "start": "3541810",
    "end": "3548290"
  },
  {
    "text": "guess so probably once a month as well",
    "start": "3548290",
    "end": "3555869"
  },
  {
    "text": "yes yes yeah so if we literally know the fixes one-line yeah why bother rolling",
    "start": "3568710",
    "end": "3575140"
  },
  {
    "text": "back one-line deploy out yeah absolutely yeah we do that a lot to be honest if",
    "start": "3575140",
    "end": "3580990"
  },
  {
    "text": "the the problem on production isn't something that's you know tons of money going down the drain then it's easier to",
    "start": "3580990",
    "end": "3586359"
  },
  {
    "text": "just fix it and roll out the fix rather than roll back the roll back is for cases where you'll literally use it losing money there's a fire everyone's",
    "start": "3586359",
    "end": "3592960"
  },
  {
    "text": "screaming that are those sort of situations the stress the panic yeah",
    "start": "3592960",
    "end": "3603150"
  },
  {
    "text": "I'm sorry I don't think I understood the question so we've got the the feature",
    "start": "3609050",
    "end": "3625730"
  },
  {
    "text": "I've gotten the word the feature toggles so if there's something that isn't",
    "start": "3625730",
    "end": "3631230"
  },
  {
    "text": "really production ready we toggle it behind a feature so that maybe only internal maybe even just development can",
    "start": "3631230",
    "end": "3637980"
  },
  {
    "text": "see the changes on production and test them and see how it's working so quite often we will put a change out that",
    "start": "3637980",
    "end": "3643290"
  },
  {
    "text": "we're not sure how it will affect our users so we do that we toggle it behind a real feature so no one can see it yeah",
    "start": "3643290",
    "end": "3651690"
  },
  {
    "text": "that allows us to build up a number of different commits check they're all working before we then deploy out to the",
    "start": "3651690",
    "end": "3657120"
  },
  {
    "text": "user if necessary yep",
    "start": "3657120",
    "end": "3661850"
  },
  {
    "text": "generation of bad data rising the users using our systems",
    "start": "3668100",
    "end": "3673310"
  },
  {
    "text": "so luckily we don't generally do anything like that mm-hmm",
    "start": "3682340",
    "end": "3694100"
  },
  {
    "text": "so like I said it's not it's not necessarily suitable for everyone if you've got you know the the ability to",
    "start": "3694820",
    "end": "3701130"
  },
  {
    "text": "accidentally bill someone four million pounds by mistake if you put your decimal point in the wrong place you might not want to use this system",
    "start": "3701130",
    "end": "3707070"
  },
  {
    "text": "because by the time you've done the four million pounds you already you can't roll it back right as money well unless you can I don't know",
    "start": "3707070",
    "end": "3714530"
  },
  {
    "text": "I really sorry I couldn't entirely hear",
    "start": "3723320",
    "end": "3729440"
  },
  {
    "text": "that could you just okay Oh as in data",
    "start": "3729440",
    "end": "3738440"
  },
  {
    "text": "in the database data that's come in so",
    "start": "3738440",
    "end": "3743600"
  },
  {
    "text": "if your codes that you've released into the production environment is generating",
    "start": "3743600",
    "end": "3749030"
  },
  {
    "text": "data and it's generating it erroneously mm-hm how do you then roll that yeah that's a great scenario so we actually had that",
    "start": "3749030",
    "end": "3755390"
  },
  {
    "text": "about a month ago so we it was it was actually the inverse of that we'd actually stopped firing a pixel that we",
    "start": "3755390",
    "end": "3761360"
  },
  {
    "text": "needed so the data had stopped coming in but we knew there should have been data there so in that case we actually looked",
    "start": "3761360",
    "end": "3767720"
  },
  {
    "text": "through the previous day and saw what data are coming the previous day and then guesstimated what data should have",
    "start": "3767720",
    "end": "3773090"
  },
  {
    "text": "come in during the day and update to the database so yeah updating databases on production",
    "start": "3773090",
    "end": "3780760"
  },
  {
    "text": "brilliant [Applause]",
    "start": "3783550",
    "end": "3788819"
  }
]