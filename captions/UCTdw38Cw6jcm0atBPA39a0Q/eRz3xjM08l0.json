[
  {
    "start": "0",
    "end": "44000"
  },
  {
    "text": "okay I guess we can start good afternoon",
    "start": "5879",
    "end": "11459"
  },
  {
    "text": "my name is Etienne Onaga I'm a director of developer experience at Red Hat my",
    "start": "11459",
    "end": "16600"
  },
  {
    "text": "tree I handle is Atiya Naga and today we're going to talk about migrating to microservices databases in particular",
    "start": "16600",
    "end": "23619"
  },
  {
    "text": "about relational databases so it's my first time here in Porto I enjoyed",
    "start": "23619",
    "end": "30730"
  },
  {
    "text": "everything so far even though it has been just a couple of hours I had the opportunity to go to Cafe Santiago and",
    "start": "30730",
    "end": "37260"
  },
  {
    "text": "have a flaccid zinnia which is really good by the way a bit heavy though and",
    "start": "37260",
    "end": "44769"
  },
  {
    "start": "44000",
    "end": "74000"
  },
  {
    "text": "just some curious facts I'm a Brazilian Japanese that's why I speak Portuguese",
    "start": "44769",
    "end": "50489"
  },
  {
    "text": "even though people don't expect me to speak Portuguese here yeah most I also",
    "start": "50489",
    "end": "56350"
  },
  {
    "text": "happen to be a Java champion and a Microsoft MVP and as far as Gugu can tell me I'm the first and so far only",
    "start": "56350",
    "end": "62469"
  },
  {
    "text": "one and I'm also at the DEF CON Rockstar which is the largest software developer",
    "start": "62469",
    "end": "67780"
  },
  {
    "text": "conference and Latin America and for today I hope we can make a raffle so I",
    "start": "67780",
    "end": "76210"
  },
  {
    "start": "74000",
    "end": "130000"
  },
  {
    "text": "brought this talk is based on this book which I published from Weaver Riley",
    "start": "76210",
    "end": "83140"
  },
  {
    "text": "migrated into micro service databases so everything I'm going to talk with you today you have everything here in more detail",
    "start": "83140",
    "end": "90340"
  },
  {
    "text": "format so but if you want a hard copy of the book here's the deal you have to go",
    "start": "90340",
    "end": "95560"
  },
  {
    "text": "to Twitter follow me at the Onaga take a picture of the session and mention a Tia",
    "start": "95560",
    "end": "100810"
  },
  {
    "text": "Naga and hash tag and this seaport oh if you do that all of that I have an",
    "start": "100810",
    "end": "105850"
  },
  {
    "text": "application which is open-source it's available on my github ienaga you just have to trust that that version I'm",
    "start": "105850",
    "end": "111159"
  },
  {
    "text": "running is the same one that is available github ok but if everything goes fine I'm just gonna pull all of the",
    "start": "111159",
    "end": "117970"
  },
  {
    "text": "tweets and randomly pick the five winners that I have for this session okay but if you don't get a hard copy of",
    "start": "117970",
    "end": "129399"
  },
  {
    "text": "the book here's the next tip right the Red Hat developer program bought the",
    "start": "129399",
    "end": "134950"
  },
  {
    "text": "royalties of the electronic version so if you want to get PDF bub or mommy for free you can go to",
    "start": "134950",
    "end": "141340"
  },
  {
    "text": "this URL bitly monitor micro GB and get the electronic version of this book okay",
    "start": "141340",
    "end": "147580"
  },
  {
    "text": "so unfortunately we only have one hour to be discussed this discussed in this",
    "start": "147580",
    "end": "153280"
  },
  {
    "text": "subject it's a very extensive topic so I'm going to cover in general terms what",
    "start": "153280",
    "end": "160690"
  },
  {
    "text": "we have on the book but if you want anything in more detail you can always go to the to the full book and another",
    "start": "160690",
    "end": "169420"
  },
  {
    "text": "thing that is important for me to answer is that why did I decide to write this book I've been discussing micro-services",
    "start": "169420",
    "end": "175870"
  },
  {
    "text": "for about six to seven years and distributed season for even longer but when I started the discussion about",
    "start": "175870",
    "end": "182980"
  },
  {
    "text": "micro services everybody was asking me well you're talking about micro services",
    "start": "182980",
    "end": "188860"
  },
  {
    "text": "there are many other people that are talking about micro service too you have some books but everybody talks",
    "start": "188860",
    "end": "194680"
  },
  {
    "text": "about the behavior part or their architecture parts of the micro services architecture but nobody talks about them",
    "start": "194680",
    "end": "200530"
  },
  {
    "text": "maybe their hardest part which is the data how do I deal with distributed data how do i split how integrate later and",
    "start": "200530",
    "end": "206560"
  },
  {
    "text": "to be honest I didn't have a proper answer for that so I started with research about 4 years ago and the first",
    "start": "206560",
    "end": "216250"
  },
  {
    "text": "initial results of my research I was able to publish as a book and a mom writes in another book about the subject",
    "start": "216250",
    "end": "221980"
  },
  {
    "text": "in particular about not only about relational databases but distributed data in general and event-driven",
    "start": "221980",
    "end": "227920"
  },
  {
    "text": "architecture I told the editors that I would be finishing by October this year",
    "start": "227920",
    "end": "234390"
  },
  {
    "text": "but as you know I'm a software developer so I'm very good in estimates so I'm not",
    "start": "234390",
    "end": "240730"
  },
  {
    "text": "sure if October will be the real deadline this book I told the editors",
    "start": "240730",
    "end": "245890"
  },
  {
    "text": "that I would be finishing by February and I finished in December of the next year ok so we might have some delay but",
    "start": "245890",
    "end": "254140"
  },
  {
    "text": "so far everything is is on track because I was writing the book and doing the",
    "start": "254140",
    "end": "260350"
  },
  {
    "text": "research at the same time for this new book I have all of the contents already I just need to to calm down and sit and",
    "start": "260350",
    "end": "268060"
  },
  {
    "text": "write the pages ok and it's going to be a bigger book too but since we have to discuss the subject",
    "start": "268060",
    "end": "274000"
  },
  {
    "text": "migrating to micro service databases I'd like to start with zero down time when we're except talking about DevOps and",
    "start": "274000",
    "end": "280090"
  },
  {
    "start": "275000",
    "end": "300000"
  },
  {
    "text": "micro services of course if you want to be really able to deploy smaller batch",
    "start": "280090",
    "end": "285700"
  },
  {
    "text": "sizes and have more frequent releases into production we need zeros on time we're not allowed to just shut down all",
    "start": "285700",
    "end": "291040"
  },
  {
    "text": "services because somebody's updating one micro service into production so if you",
    "start": "291040",
    "end": "297070"
  },
  {
    "text": "want to achieve zero downtime your deployment pipelines you need the first and more the simplest requirements is to",
    "start": "297070",
    "end": "303880"
  },
  {
    "start": "300000",
    "end": "368000"
  },
  {
    "text": "have Bluegreen deployments which means that in your deployment architecture you need in your production environment at",
    "start": "303880",
    "end": "310780"
  },
  {
    "text": "least choose similar environments each one of them capable of handling a hundred percent of your requests into",
    "start": "310780",
    "end": "316390"
  },
  {
    "text": "production at the same time and what happens is that you have a blue and green deployments I want to release a",
    "start": "316390",
    "end": "322270"
  },
  {
    "text": "new version and just choose one of the environments for example the green I just released a new version into the",
    "start": "322270",
    "end": "327520"
  },
  {
    "text": "green of environments I get the ruler I route all of my deployment requests to",
    "start": "327520",
    "end": "334000"
  },
  {
    "text": "the green environments if everything went well okay I just can can just update the blue deployments or else I",
    "start": "334000",
    "end": "341560"
  },
  {
    "text": "can go it something went wrong don't worry I have the previous version still working on the blue environment I just",
    "start": "341560",
    "end": "348910"
  },
  {
    "text": "asked the ruler to switch back the the request to the old version until I figure out what went wrong with the new",
    "start": "348910",
    "end": "354910"
  },
  {
    "text": "version so this is a very safe approach and allow us to perform zero downtime",
    "start": "354910",
    "end": "360400"
  },
  {
    "text": "deployments you just need to take a bit of care what you're doing with your code",
    "start": "360400",
    "end": "365790"
  },
  {
    "text": "but as I said before code is the easy part we're talking about behavior most people",
    "start": "365790",
    "end": "372280"
  },
  {
    "start": "368000",
    "end": "438000"
  },
  {
    "text": "can figure out what do you need to do with your software to have multiple for multiple and once a month at least two",
    "start": "372280",
    "end": "379300"
  },
  {
    "text": "versions running at the same time in production but when we're talking about States which is means the data that is",
    "start": "379300",
    "end": "385750"
  },
  {
    "text": "being stored usually in a relational database for Enterprise Information Systems it's much harder so how if you",
    "start": "385750",
    "end": "393520"
  },
  {
    "text": "have to change anything in your database if you're changing the schema of your data of your database or if you're",
    "start": "393520",
    "end": "399220"
  },
  {
    "text": "change changing the semantics of the data that is store in the database how do you deal with multiple",
    "start": "399220",
    "end": "404780"
  },
  {
    "text": "versions running at the same time in production so one of the I think one of",
    "start": "404780",
    "end": "413090"
  },
  {
    "text": "the greatest results of my research was that four years ago I was able to talk",
    "start": "413090",
    "end": "418280"
  },
  {
    "text": "with many people and many different people and teams worldwide trying to figure out how they solve this problem",
    "start": "418280",
    "end": "424130"
  },
  {
    "text": "even though it was a side-effect of my research I have to tell you that it's by far the most popular chapter of my book",
    "start": "424130",
    "end": "430700"
  },
  {
    "text": "how to do this kind of thing zero downtime deployments with relational databases in production environments so",
    "start": "430700",
    "end": "438980"
  },
  {
    "text": "the question was how do I do that with relational databases and the answer goes through you're not allow it to perform",
    "start": "438980",
    "end": "445419"
  },
  {
    "start": "442000",
    "end": "542000"
  },
  {
    "text": "migrations manually anymore and technically in the database word migration is the set of sequel",
    "start": "445419",
    "end": "451220"
  },
  {
    "text": "statements code statements that you apply to your database to change your database schema version from one version",
    "start": "451220",
    "end": "457760"
  },
  {
    "text": "to the other so usually it's a lot of sequel statements that you need to apply that and in the past we used to just get",
    "start": "457760",
    "end": "465139"
  },
  {
    "text": "this sequel statement a big one like a hundred line sequel statement sent to your DBA through email and ask he or she",
    "start": "465139",
    "end": "472040"
  },
  {
    "text": "- well whenever upgrade the version of my artifact in production you just please apply the sequel statements",
    "start": "472040",
    "end": "477500"
  },
  {
    "text": "usually they forget that's why I have problems when you release into production well we can't do that anymore",
    "start": "477500",
    "end": "484039"
  },
  {
    "text": "we need to automate everything and the two most popular database migration",
    "start": "484039",
    "end": "490280"
  },
  {
    "text": "tools in the Java world and because I'm a Java person but after the research I just realized that most of the people",
    "start": "490280",
    "end": "496070"
  },
  {
    "text": "are using these tools flyway and liquid based they just just happened to be developing in Java but they work of",
    "start": "496070",
    "end": "502550"
  },
  {
    "text": "course in any environments they support XML sequel even code based migrations so",
    "start": "502550",
    "end": "509539"
  },
  {
    "text": "they are very flexible and if you're using flyweight you can even use flyweight to upgrade the the schema of",
    "start": "509539",
    "end": "516800"
  },
  {
    "text": "your secret life that are bases Android devices so it's a very they are very",
    "start": "516800",
    "end": "522589"
  },
  {
    "text": "flexible tools I just note that from my research again the only developer word",
    "start": "522589",
    "end": "531650"
  },
  {
    "text": "where the students were not as popular as the Java Ward were the Ruby on Rails word just because Ruby",
    "start": "531650",
    "end": "537370"
  },
  {
    "text": "on Rails has Beauty migrations so they don't need an external to for that okay so how can we achieve with these two's",
    "start": "537370",
    "end": "544900"
  },
  {
    "text": "zero downtime migrations the answer is we need our migrations to be back and",
    "start": "544900",
    "end": "550690"
  },
  {
    "start": "547000",
    "end": "568000"
  },
  {
    "text": "forward compatible which means that the schema versions of our relational database I have a the previous version",
    "start": "550690",
    "end": "557410"
  },
  {
    "text": "needs to be compatible with the next version and the new version needs to be compatible with the previous version how",
    "start": "557410",
    "end": "563470"
  },
  {
    "text": "can we achieve that so instead of issuing a hundred line sequel statements to my DBA I'm going to split that big",
    "start": "563470",
    "end": "571150"
  },
  {
    "start": "568000",
    "end": "600000"
  },
  {
    "text": "sequel statements big file into smaller files maybe even though it's technically",
    "start": "571150",
    "end": "577900"
  },
  {
    "text": "possible to have more than one statement per file if you start a beginning with this kind of thing it's better to have",
    "start": "577900",
    "end": "584350"
  },
  {
    "text": "like one single statement per migration it's much easier for you to control even though technically if you're changing",
    "start": "584350",
    "end": "590050"
  },
  {
    "text": "different sets of tables at the same time it could be allow it for you to",
    "start": "590050",
    "end": "595630"
  },
  {
    "text": "have like more than one statement per migration but just leave that to advance it cases also if you use it to issue",
    "start": "595630",
    "end": "604120"
  },
  {
    "start": "600000",
    "end": "648000"
  },
  {
    "text": "update statements your database like if you have a table with 1 billion billion rows and yet that update statement took",
    "start": "604120",
    "end": "611010"
  },
  {
    "text": "30 seconds or 5 minutes to update and we within that time you had like a lock in",
    "start": "611010",
    "end": "617470"
  },
  {
    "text": "your table it would mean downtime into production you're not allowed to do that anymore so you need to shard your",
    "start": "617470",
    "end": "623470"
  },
  {
    "text": "updates which is the technical term in your data were to mean that you have to split your update statements into",
    "start": "623470",
    "end": "628930"
  },
  {
    "text": "smaller statements until you can measure and appropriate downtime so you have if",
    "start": "628930",
    "end": "634330"
  },
  {
    "text": "you have a lock of like 200 milliseconds and 200 200 milliseconds is good enough",
    "start": "634330",
    "end": "639730"
  },
  {
    "text": "for you is for you use case for your use case you just found the perfect bed size",
    "start": "639730",
    "end": "645570"
  },
  {
    "text": "so you need to shard your updates and just an example this one is wrong but just to tell you what you know what to",
    "start": "645570",
    "end": "652630"
  },
  {
    "text": "you might need to change so if you use it to issue an outer table customer rename something to other thing maybe",
    "start": "652630",
    "end": "658960"
  },
  {
    "text": "you have to split this statement into multiple smaller ones like add column multiple updates and then maybe later",
    "start": "658960",
    "end": "666100"
  },
  {
    "text": "delete okay so this is to give you the overall idea and I was able to collect for four",
    "start": "666100",
    "end": "674869"
  },
  {
    "start": "672000",
    "end": "797000"
  },
  {
    "text": "different scenarios that developers worldwide are using to apply zero downtime migrations and I'll warn you",
    "start": "674869",
    "end": "680839"
  },
  {
    "text": "that most of the time that when people see it for the first time they say oh that is a lot of work just to it just to",
    "start": "680839",
    "end": "687949"
  },
  {
    "text": "achieve zero downtime migrations but everybody that tried to apply this zero danta migrations in productions then",
    "start": "687949",
    "end": "695149"
  },
  {
    "text": "never look back after the applying that because this is not the only way to achieve zero downtime aggressions this",
    "start": "695149",
    "end": "701209"
  },
  {
    "text": "is their only this is the safest way for you to be updating your database schema into production because you never lose",
    "start": "701209",
    "end": "708230"
  },
  {
    "text": "the previous data that you were working on because you never issued destructive statements to your production database",
    "start": "708230",
    "end": "714169"
  },
  {
    "text": "that's why people are so excited about using this in production and again the",
    "start": "714169",
    "end": "720079"
  },
  {
    "text": "first time I presented these migrations to an audience there were many people in the audience that just raised their",
    "start": "720079",
    "end": "726139"
  },
  {
    "text": "hands and told me I don't think this work they really like to challenge especially especially when people are talking about something new but even",
    "start": "726139",
    "end": "733220"
  },
  {
    "text": "four years after I present to them I just asked them well if you think it doesn't work I just need one example that doesn't",
    "start": "733220",
    "end": "739610"
  },
  {
    "text": "work it proves that I'm wrong but I didn't receive any so far which might",
    "start": "739610",
    "end": "744709"
  },
  {
    "text": "mean that it might be working but if you want to really check you can go to my github again I have a repo called zero",
    "start": "744709",
    "end": "751189"
  },
  {
    "text": "downtime migrations where I show an application using different migrations",
    "start": "751189",
    "end": "756649"
  },
  {
    "text": "and I evolve the application through different versions and you can have two versions running at the same time with",
    "start": "756649",
    "end": "761929"
  },
  {
    "text": "different database schemas and they both work so you can roll back you can move forward you never lose any data and your",
    "start": "761929",
    "end": "769399"
  },
  {
    "text": "application still behaves correctly okay so I can go to the heater but of course I always ask people to try because if",
    "start": "769399",
    "end": "776329"
  },
  {
    "text": "anything is wrong I'm the first one to that wants to learn to to know if anything really is wrong so I can fix it",
    "start": "776329",
    "end": "783339"
  },
  {
    "text": "okay so we're going to discuss very quickly because I don't have much time",
    "start": "783339",
    "end": "788839"
  },
  {
    "text": "to be discussing that but the scenarios are at a column rename a column change in type of format of a column and the",
    "start": "788839",
    "end": "795139"
  },
  {
    "text": "leader column how does it work so first scenario the column so you're not allowed to do",
    "start": "795139",
    "end": "801899"
  },
  {
    "start": "797000",
    "end": "953000"
  },
  {
    "text": "do outer table at column and nor you have to do this at least these four steps into production each one of these",
    "start": "801899",
    "end": "808139"
  },
  {
    "text": "numbers 1 2 3 & 4 are different versions that we're releasing into production so",
    "start": "808139",
    "end": "813449"
  },
  {
    "text": "on the first release you just use issue outer table at column you won't be using the column yet",
    "start": "813449",
    "end": "819629"
  },
  {
    "text": "so second version your code computes the read value and writes to the new column when I say compute if you can compute",
    "start": "819629",
    "end": "826290"
  },
  {
    "text": "the value from other fields in your application you do that or I also just assume a default value that could mean",
    "start": "826290",
    "end": "832980"
  },
  {
    "text": "something to your application okay third release which could be multiple ones",
    "start": "832980",
    "end": "838230"
  },
  {
    "text": "like 3 3.1 3.2 you update they update the data using shards are you issue the",
    "start": "838230",
    "end": "843869"
  },
  {
    "text": "update statements to update a new column to your database and number 4 code reads",
    "start": "843869",
    "end": "848879"
  },
  {
    "text": "and write from the new column if you did all of these steps in sequence and you",
    "start": "848879",
    "end": "854369"
  },
  {
    "text": "apply the dent all of that to your database you successfully applied zero downtime aggression where each one of",
    "start": "854369",
    "end": "861119"
  },
  {
    "text": "these versions is back and forward compatible at the same time and this is the simplest one I have to emphasize",
    "start": "861119",
    "end": "867839"
  },
  {
    "text": "that between each one of these versions each one of these releases you're going to open your sequel CLI and you are",
    "start": "867839",
    "end": "875610"
  },
  {
    "text": "going to issue multiple select statement to your database just to check if your",
    "start": "875610",
    "end": "881490"
  },
  {
    "text": "application is writing the right information or if anything went wrong go to your migration okay fix somebody",
    "start": "881490",
    "end": "888420"
  },
  {
    "text": "raise the hand",
    "start": "888420",
    "end": "891049"
  },
  {
    "text": "yes yeah but there is no old column I'm",
    "start": "897500",
    "end": "907650"
  },
  {
    "text": "just Eddie yeah no but there is no old",
    "start": "907650",
    "end": "927720"
  },
  {
    "text": "column there is nothing and there is the new because when you have a node column",
    "start": "927720",
    "end": "934380"
  },
  {
    "text": "is the next scenario but I know and I to",
    "start": "934380",
    "end": "939840"
  },
  {
    "text": "be honest I won't try to think about this complicated scenario while I'm talking because of course I'm nervous",
    "start": "939840",
    "end": "945690"
  },
  {
    "text": "everything but if you can discuss later we'll have plenty of time to be discussed that but thanks for the",
    "start": "945690",
    "end": "950910"
  },
  {
    "text": "question ok and second scenario this is the most",
    "start": "950910",
    "end": "957090"
  },
  {
    "start": "953000",
    "end": "1041000"
  },
  {
    "text": "complicated one when I have to rename a column into production so we need at least six different steps so first step",
    "start": "957090",
    "end": "964680"
  },
  {
    "text": "outer table add column second version your code reads from the old column and writes to both why do you write to both",
    "start": "964680",
    "end": "971790"
  },
  {
    "text": "well you need both versions running at the same time so further shown you copy the data uses more charts fourth version",
    "start": "971790",
    "end": "979050"
  },
  {
    "text": "your code reads from the new column and writes to both again you need to write to both because the old version might",
    "start": "979050",
    "end": "984120"
  },
  {
    "text": "need to need it even just in case you row back to 50 version your code reads",
    "start": "984120",
    "end": "989460"
  },
  {
    "text": "and writes from the new column and sixth version you delete the column not immediately but later and when I mean",
    "start": "989460",
    "end": "995730"
  },
  {
    "text": "the sixth step what do you do you just leave the column there and you just open",
    "start": "995730",
    "end": "1001010"
  },
  {
    "text": "your JIRA create a new ticket saying DBA in your maintenance window just check if",
    "start": "1001010",
    "end": "1007160"
  },
  {
    "text": "nobody's really using this column perform a backup and if you did that you",
    "start": "1007160",
    "end": "1012260"
  },
  {
    "text": "can successfully really delete the column and why we just do that later because the leading in a",
    "start": "1012260",
    "end": "1017900"
  },
  {
    "text": "column is a destructive statement if you do that you lose the data and your previous version won't be able to work",
    "start": "1017900",
    "end": "1023690"
  },
  {
    "text": "with that column anymore that's why we do that okay and next scenario change type and",
    "start": "1023690",
    "end": "1031970"
  },
  {
    "text": "format of a column and you can see these are the exactly same steps which is a good thing we're always rehearsing the",
    "start": "1031970",
    "end": "1037880"
  },
  {
    "text": "the same steps to perform this kind of zero downtime migrations and for",
    "start": "1037880",
    "end": "1043579"
  },
  {
    "start": "1041000",
    "end": "1126000"
  },
  {
    "text": "scenario deletes a column which you never do in production so be quiet because again deleting a column as",
    "start": "1043580",
    "end": "1049970"
  },
  {
    "text": "destructive statement if you delete a column you just lose everything that you have the only the only thing that you",
    "start": "1049970",
    "end": "1057260"
  },
  {
    "text": "can do if you delete a column and you need the previous versions is to restore a backup which we if we ever did that",
    "start": "1057260",
    "end": "1063590"
  },
  {
    "text": "into production can be a very painful thing I did that of course upgraded version of one software in the weekend",
    "start": "1063590",
    "end": "1070430"
  },
  {
    "text": "and Monday morning I just realized that oh why do we well we screwed up and I called the DBA we need to restore the",
    "start": "1070430",
    "end": "1077480"
  },
  {
    "text": "backup from Saturday in the evening and he just told me that well you know that to restore the backup it takes 8 hours",
    "start": "1077480",
    "end": "1084020"
  },
  {
    "text": "right so it was a very very happy day in my life ok so but so you never needed a",
    "start": "1084020",
    "end": "1093020"
  },
  {
    "text": "column but you decide to delete a comment production you just change your code stop reading the value but keeping",
    "start": "1093020",
    "end": "1098900"
  },
  {
    "text": "writing to the column because again your previous version might need the data and you might be wondering what if I remove",
    "start": "1098900",
    "end": "1105260"
  },
  {
    "text": "the fuse on my application that used to get the value well you just have to figure out and try to write some value",
    "start": "1105260",
    "end": "1111410"
  },
  {
    "text": "on the database that's meaningful to the previous version okay and if you did that maybe later when you know that",
    "start": "1111410",
    "end": "1118430"
  },
  {
    "text": "nobody is using that anything anymore you can stop right into the column and as the DBA to delete the column later on",
    "start": "1118430",
    "end": "1124850"
  },
  {
    "text": "the maintenance window what about my referential integrity constraints not new constraints and other kinds of",
    "start": "1124850",
    "end": "1131450"
  },
  {
    "start": "1126000",
    "end": "1132000"
  },
  {
    "text": "constraints the answer you have to drop them and just recreate everything when the migrations are done and you might be",
    "start": "1131450",
    "end": "1139100"
  },
  {
    "start": "1132000",
    "end": "1231000"
  },
  {
    "text": "wondering well referential integrity constraints are just a safety net because just these are just things that",
    "start": "1139100",
    "end": "1145790"
  },
  {
    "text": "the DBA puts on the database to prevent us application developers from inserting",
    "start": "1145790",
    "end": "1151850"
  },
  {
    "text": "inconsistent data to the database so we don't really require them to for application to be running you know",
    "start": "1151850",
    "end": "1158060"
  },
  {
    "text": "though it's good in most of the case is very cheap for you to implement so but in this case if",
    "start": "1158060",
    "end": "1164350"
  },
  {
    "text": "you're responsible you're doing the right thing you don't really need the stuff working your production database",
    "start": "1164350",
    "end": "1169930"
  },
  {
    "text": "and this concludes the part where I talk about zero downtime immigrations and you",
    "start": "1169930",
    "end": "1177010"
  },
  {
    "text": "might be wondering why are you talking about that if the subject of this talk is micro-services database because in",
    "start": "1177010",
    "end": "1182950"
  },
  {
    "text": "the past the downtime of the system was equal to the downtime of the monolith which was also equal and most of most of",
    "start": "1182950",
    "end": "1189700"
  },
  {
    "text": "the times when we're talking about migrations to the downtime of your database but if we're talking about",
    "start": "1189700",
    "end": "1195010"
  },
  {
    "text": "Microsoft's database databases distributed architectures and well",
    "start": "1195010",
    "end": "1200320"
  },
  {
    "text": "you're not allowed to have downtime in your system just because you have one of your multiple maybe 20 micro services in",
    "start": "1200320",
    "end": "1206680"
  },
  {
    "text": "your architecture because that my preserver see is updating their database so I'm going to have downtime then if",
    "start": "1206680",
    "end": "1213400"
  },
  {
    "text": "you're doing that multiple times per day then the other team is updating the other macro service and I have downtime the downtime is just multiply it so you",
    "start": "1213400",
    "end": "1220780"
  },
  {
    "text": "you well you're not allowed to have downtime but even it's even worse if you",
    "start": "1220780",
    "end": "1226420"
  },
  {
    "text": "have them down time there is preventable such as downtime from migrations and now",
    "start": "1226420",
    "end": "1232660"
  },
  {
    "start": "1231000",
    "end": "1241000"
  },
  {
    "text": "we're going to discuss the macro service characteristics part of this talk Marti Fowler did a very good nice job",
    "start": "1232660",
    "end": "1238480"
  },
  {
    "text": "collecting something and publishing them on his blog there are at least nine different characteristics of micro",
    "start": "1238480",
    "end": "1245200"
  },
  {
    "start": "1241000",
    "end": "1253000"
  },
  {
    "text": "services architectures but today I'm only going to discuss this one the centralized data management which means",
    "start": "1245200",
    "end": "1252340"
  },
  {
    "text": "that if the best frats is to start to always start with the Moi's and then",
    "start": "1252340",
    "end": "1258520"
  },
  {
    "start": "1253000",
    "end": "1276000"
  },
  {
    "text": "after it grows you just decide to split that into a macro service architecture you just decide to pick one part that",
    "start": "1258520",
    "end": "1264640"
  },
  {
    "text": "might be a good bounded context in domain driven design terminology you Streck that into your macro service so",
    "start": "1264640",
    "end": "1271930"
  },
  {
    "text": "how can I achieve from the monolith and extraction and achieve the goal of the",
    "start": "1271930",
    "end": "1277570"
  },
  {
    "start": "1276000",
    "end": "1295000"
  },
  {
    "text": "one database / macro service right if you studied micro service a bit you know",
    "start": "1277570",
    "end": "1282790"
  },
  {
    "text": "that if you don't have one database by micro service you basically have a coupling on the data layer and have much",
    "start": "1282790",
    "end": "1288250"
  },
  {
    "text": "bigger issues which I won't be able to discuss today but this is the basic goal so one database by microservice but",
    "start": "1288250",
    "end": "1294920"
  },
  {
    "text": "again I always start with a monolithic database and for some in some ways",
    "start": "1294920",
    "end": "1300410"
  },
  {
    "start": "1295000",
    "end": "1324000"
  },
  {
    "text": "only two splits and most importantly I'll have to integrate the data later because data has mass and just like in",
    "start": "1300410",
    "end": "1308480"
  },
  {
    "text": "gravity the more data you have the more data it attracts because oh I need to",
    "start": "1308480",
    "end": "1313760"
  },
  {
    "text": "call you you need data correlation enterprise information systems data is never isolated from the other parts of",
    "start": "1313760",
    "end": "1319280"
  },
  {
    "text": "the system so you need to integrate and make them work together so splitting you",
    "start": "1319280",
    "end": "1325640"
  },
  {
    "start": "1324000",
    "end": "1355000"
  },
  {
    "text": "so it's not easy but how integrate the data and even though I can't help you to decide which piece of the data do you",
    "start": "1325640",
    "end": "1332000"
  },
  {
    "text": "want to stretch or do you need to stretch because that's a domain model problem and you really well you need to",
    "start": "1332000",
    "end": "1339080"
  },
  {
    "text": "really dig into the domain model to be able to strengthen the information that you need but I can help you on how can",
    "start": "1339080",
    "end": "1344750"
  },
  {
    "text": "you integrate the data after you decided which piece of information do you want to subtract from your from your",
    "start": "1344750",
    "end": "1350510"
  },
  {
    "text": "monolithic data base but before I dig into the answers I have to explain some",
    "start": "1350510",
    "end": "1356810"
  },
  {
    "start": "1355000",
    "end": "1373000"
  },
  {
    "text": "concepts very briefly for you first of",
    "start": "1356810",
    "end": "1361850"
  },
  {
    "text": "all some consistency models I don't know if anybody here studied distributed systems what I'm going to tell you right",
    "start": "1361850",
    "end": "1368060"
  },
  {
    "text": "now is an oversimplification of the concepts just for teaching purposes and",
    "start": "1368060",
    "end": "1373160"
  },
  {
    "start": "1373000",
    "end": "1662000"
  },
  {
    "text": "I'm only going to discuss two different models strong consistency and eventual",
    "start": "1373160",
    "end": "1378170"
  },
  {
    "text": "consistency in particularly a subtype of eventual consistency which is a strong eventual consistency which is different",
    "start": "1378170",
    "end": "1384770"
  },
  {
    "text": "from sequential eventual consistency and explain why how does it work and then a",
    "start": "1384770",
    "end": "1390290"
  },
  {
    "text": "strong consistency system if I have like five nodes in my system and I decided",
    "start": "1390290",
    "end": "1397070"
  },
  {
    "text": "that I have a variable which I equals to three and I decide to update this variable I now is equal to five and of",
    "start": "1397070",
    "end": "1404120"
  },
  {
    "text": "course in each one of these nodes I have clients connected to these nodes in a strong consistent system which is the",
    "start": "1404120",
    "end": "1410690"
  },
  {
    "text": "system that you believe that you have when you're using database transactions but again sorry for lying for you you",
    "start": "1410690",
    "end": "1417440"
  },
  {
    "text": "don't really have strong consistency even in your relational database because that's very expensive but suppose that",
    "start": "1417440",
    "end": "1423080"
  },
  {
    "text": "you supposing that you would have this kind of thing in a strong consistent system when I decide to",
    "start": "1423080",
    "end": "1428260"
  },
  {
    "text": "update a variable all of the nodes in the system they need to agree on the new value before anybody reads the new value",
    "start": "1428260",
    "end": "1436210"
  },
  {
    "text": "okay so until that information propagates in all of the nodes and everybody agrees on it everybody is",
    "start": "1436210",
    "end": "1443110"
  },
  {
    "text": "reading the old value okay so it's very similar to what you think that you have in relational databases and eventual",
    "start": "1443110",
    "end": "1450100"
  },
  {
    "text": "consistency in a pure eventual consistent system if you have five nodes rights are allowed in any node so if I",
    "start": "1450100",
    "end": "1457810"
  },
  {
    "text": "equals to free and I decide that well here I'm going to update I now equals to five and at the same time in the other",
    "start": "1457810",
    "end": "1463840"
  },
  {
    "text": "node somebody's updating I equals to 10 and then when this information propagates",
    "start": "1463840",
    "end": "1469360"
  },
  {
    "text": "you have a conflict and the system needs to decide which one is correct which for",
    "start": "1469360",
    "end": "1474490"
  },
  {
    "text": "some use cases might be valid for enterprise information systems usually we don't accept this kind of use case we",
    "start": "1474490",
    "end": "1481750"
  },
  {
    "text": "want the truth information and you might be thinking well the last right wins but",
    "start": "1481750",
    "end": "1487810"
  },
  {
    "text": "if you're using the last right means that you need some kind of synchronizer and we learned that we can't rely on",
    "start": "1487810",
    "end": "1493240"
  },
  {
    "text": "second eyes o'clock unless your Google like if using some sort of distributed",
    "start": "1493240",
    "end": "1498580"
  },
  {
    "text": "database like spanner you might have strong consistency between a global",
    "start": "1498580",
    "end": "1503950"
  },
  {
    "text": "distributed Network but just because Google had enough money to launch their own satellite network and I'm pretty",
    "start": "1503950",
    "end": "1509230"
  },
  {
    "text": "sure that everybody here does have the same amount of money okay but if you don't you can't rely on global",
    "start": "1509230",
    "end": "1514900"
  },
  {
    "text": "synchronizer talk you need to solve this problem in other way that's why instead of using pure eventual consistency in",
    "start": "1514900",
    "end": "1521290"
  },
  {
    "text": "distributed in enterprise micro service architectures we're using another subtype of eventual consistency which is",
    "start": "1521290",
    "end": "1528100"
  },
  {
    "text": "a strong eventual consistency how does it work in this kind of model you choose one of the nodes to be the canonical",
    "start": "1528100",
    "end": "1534520"
  },
  {
    "text": "source of information you in this node this is the source of the truth and rights are only allowed on these nodes",
    "start": "1534520",
    "end": "1541600"
  },
  {
    "text": "so basically you choose on this node now I equals to five and this this",
    "start": "1541600",
    "end": "1547750"
  },
  {
    "text": "information gets propagated to the other nodes and while the other clients connected to the other nodes I still",
    "start": "1547750",
    "end": "1553750"
  },
  {
    "text": "reading the old value clients connected to this node are already reading the new value so if I",
    "start": "1553750",
    "end": "1560600"
  },
  {
    "text": "say I equals to seven other people might be reading like I equals to five and if",
    "start": "1560600",
    "end": "1566120"
  },
  {
    "text": "later some end this for information for example propagates now two nodes have seven and the other three have five then",
    "start": "1566120",
    "end": "1571880"
  },
  {
    "text": "somebody decide to update i equals to nine on this node so what happens in this case clients connected here are",
    "start": "1571880",
    "end": "1578600"
  },
  {
    "text": "reading a nine clients connected to this node are reading a seven and clients connected to the other nodes as you",
    "start": "1578600",
    "end": "1585140"
  },
  {
    "text": "reading a five so what happens in this kind of model you always have correct",
    "start": "1585140",
    "end": "1590540"
  },
  {
    "text": "data but the data might be outdated with different latency values okay so this",
    "start": "1590540",
    "end": "1598460"
  },
  {
    "text": "one is fresher this one is oldest but all of the data is correct they just",
    "start": "1598460",
    "end": "1604160"
  },
  {
    "text": "might be outdated with different latency times okay and why is it different from",
    "start": "1604160",
    "end": "1612250"
  },
  {
    "text": "sequential consistency because in a macro in an employee in an enterprise",
    "start": "1612250",
    "end": "1617980"
  },
  {
    "text": "microsoft's architecture the clients are sticky so you have a database these",
    "start": "1617980",
    "end": "1623210"
  },
  {
    "text": "micro services this micro service is always connected to the same database you don't have micro services hopping",
    "start": "1623210",
    "end": "1629419"
  },
  {
    "text": "nodes from database to perform the readings so because in a sequential system you might happen that oh I'm",
    "start": "1629419",
    "end": "1635179"
  },
  {
    "text": "reading a 5 then you connect to the other node I mean II reading a 9 and you might get back to a node value okay but",
    "start": "1635179",
    "end": "1641720"
  },
  {
    "text": "it doesn't happen in enterprise information systems and that's why we're using strong eventual consistency instead of pure sequential eventual",
    "start": "1641720",
    "end": "1649820"
  },
  {
    "text": "consistency ok so this is the first concept and have in mind strong eventual",
    "start": "1649820",
    "end": "1654980"
  },
  {
    "text": "consistency because that's the model that people are using worldwide to in enterprise information systems for micro",
    "start": "1654980",
    "end": "1661400"
  },
  {
    "text": "service architectures second concept crud and secure s we're going to learn",
    "start": "1661400",
    "end": "1667520"
  },
  {
    "start": "1662000",
    "end": "1822000"
  },
  {
    "text": "the difference between them crud is an architecture a very simple and common",
    "start": "1667520",
    "end": "1673160"
  },
  {
    "text": "architecture where all of the four operations create read update and delete which means their rights and read",
    "start": "1673160",
    "end": "1678559"
  },
  {
    "text": "informations are performant using the same domain model what does it mean if I",
    "start": "1678559",
    "end": "1684410"
  },
  {
    "text": "have a customer micro service I have a customer class in my domain model and I",
    "start": "1684410",
    "end": "1690200"
  },
  {
    "text": "have a customer table in my database and its dependencies if I want to write something to the database using an ORM",
    "start": "1690200",
    "end": "1697460"
  },
  {
    "text": "just create a new instance of customer I populate the value as the ORM to save it",
    "start": "1697460",
    "end": "1703549"
  },
  {
    "text": "to the database if I want to queue it information I just creates a Curie I retrieve customer objects from my",
    "start": "1703549",
    "end": "1709039"
  },
  {
    "text": "database and X and expose it to the user so crud very simple recommended for like 92% of",
    "start": "1709039",
    "end": "1716780"
  },
  {
    "text": "the use cases it's so simple that these days our tools we have tools to automatically generate the code it just",
    "start": "1716780",
    "end": "1723230"
  },
  {
    "text": "you just give a domain model it's automatically scaffolds everything for you and exposes you in a beautiful REST",
    "start": "1723230",
    "end": "1728780"
  },
  {
    "text": "API or even creates a beautiful interface for you so this is the model",
    "start": "1728780",
    "end": "1734059"
  },
  {
    "text": "that was particularly popularized in the 90s and 2000's so and if you think that",
    "start": "1734059",
    "end": "1740210"
  },
  {
    "text": "about traditional enterprise information systems we had a certain proliferation",
    "start": "1740210",
    "end": "1745220"
  },
  {
    "text": "of this kind of model because it allows well workflow where you have different",
    "start": "1745220",
    "end": "1751480"
  },
  {
    "text": "kinds of grants screens or the user needs to input the devices but the",
    "start": "1751480",
    "end": "1756799"
  },
  {
    "text": "process to achieve a business goal is external to the tool so if you're using like tools like s AP or anything else",
    "start": "1756799",
    "end": "1764120"
  },
  {
    "text": "but you have a lot of creds to be filling up to achieve a certain business goal you just have to go to this form",
    "start": "1764120",
    "end": "1770120"
  },
  {
    "text": "fill it go to other form you just stand your value you go to another form just feel something go to the other form just",
    "start": "1770120",
    "end": "1776419"
  },
  {
    "text": "feel something the process is external to the to which is very nice because it makes the to",
    "start": "1776419",
    "end": "1781669"
  },
  {
    "text": "very flexible you can adjust your you can use the tool for many different process it's very nice because Cotton's",
    "start": "1781669",
    "end": "1788240"
  },
  {
    "text": "can charge you a lot because they have to teach you the process because it's cirno' to the two and it works very well",
    "start": "1788240",
    "end": "1793460"
  },
  {
    "text": "the problem is that we've digital transformation these days you need to be",
    "start": "1793460",
    "end": "1798500"
  },
  {
    "text": "much more efficient in certain processes so you're doing last things but the things that you're doing you need to be",
    "start": "1798500",
    "end": "1803990"
  },
  {
    "text": "extremely efficient so this kind of architecture might not be the right one",
    "start": "1803990",
    "end": "1809870"
  },
  {
    "text": "for certain user cases in your business domain and for therefore this particular",
    "start": "1809870",
    "end": "1815659"
  },
  {
    "text": "case you might want a richer domain model and some of the patterns that you might need to apply when you're doing",
    "start": "1815659",
    "end": "1821750"
  },
  {
    "text": "that is for example yes I was reading secure as the name was",
    "start": "1821750",
    "end": "1827359"
  },
  {
    "start": "1822000",
    "end": "2024000"
  },
  {
    "text": "pointed approximately 12 years ago by Greg young he didn't create the disparen",
    "start": "1827359",
    "end": "1832819"
  },
  {
    "text": "he just created the name and I suppose be reading his published documents about",
    "start": "1832819",
    "end": "1839809"
  },
  {
    "text": "the reasons behind this parent and secure RS is a very fancy name for",
    "start": "1839809",
    "end": "1846199"
  },
  {
    "text": "another simple architecture command kiri responsibility segregation which started",
    "start": "1846199",
    "end": "1851419"
  },
  {
    "text": "which derive it from sick us command kiri separation which was first published by Bertrand Meyer in a faux",
    "start": "1851419",
    "end": "1858440"
  },
  {
    "text": "book what better Meyer told us is what that well if you have you need to separate your interfaces between commands",
    "start": "1858440",
    "end": "1865779"
  },
  {
    "text": "operations and QE operations so if you're talking about Java or C sharp you're just creating a Java or C sharp",
    "start": "1865779",
    "end": "1873109"
  },
  {
    "text": "interface for write operations and read the operations and we didn't know",
    "start": "1873109",
    "end": "1878239"
  },
  {
    "text": "exactly why at the time almost thirty years ago but these days we learned that",
    "start": "1878239",
    "end": "1883759"
  },
  {
    "text": "oh if you have different interfaces now it's very easy for you to use different",
    "start": "1883759",
    "end": "1889579"
  },
  {
    "text": "technologies for reading and writing you just need to switch the implementation for the right interface for example and",
    "start": "1889579",
    "end": "1895190"
  },
  {
    "text": "you have a different writing right technology so if you did everything correctly in your legacy system it might",
    "start": "1895190",
    "end": "1902029"
  },
  {
    "text": "be easy for you to be doing today okay and command key responsibility segregation is an evolution of the cqs",
    "start": "1902029",
    "end": "1908239"
  },
  {
    "text": "again it's really recommended that you have separate service interfaces but if you didn't do that don't worry you can",
    "start": "1908239",
    "end": "1914719"
  },
  {
    "text": "still have a secure s pattern implemented in your architecture how does it work and I'm pretty sure that",
    "start": "1914719",
    "end": "1921499"
  },
  {
    "text": "most of you already use it and create a security architecture you just didn't know that I have this name so if you",
    "start": "1921499",
    "end": "1928969"
  },
  {
    "text": "have a secure s pattern in New York Thatcher you basically custom again if I",
    "start": "1928969",
    "end": "1934729"
  },
  {
    "text": "want to write things to develop the database I just create a customer instance and write the customer to the",
    "start": "1934729",
    "end": "1940819"
  },
  {
    "text": "customer tables but somebody who requires from me reports and on this",
    "start": "1940819",
    "end": "1945829"
  },
  {
    "text": "report I just want the ID the name and the phone number of the customer but the",
    "start": "1945829",
    "end": "1950869"
  },
  {
    "text": "customer table is very big has a lot of fields if I just decide to use a crud I'm going to QE",
    "start": "1950869",
    "end": "1957120"
  },
  {
    "text": "entire database into memory too just to generate a report with three fields so",
    "start": "1957120",
    "end": "1962220"
  },
  {
    "text": "what do you do you create a custom keyring select ID name and phone number",
    "start": "1962220",
    "end": "1967559"
  },
  {
    "text": "from customer and you you and you populate these things in a customer DTO",
    "start": "1967559",
    "end": "1972960"
  },
  {
    "text": "and you use this DTO in memory to generate your reports congratulations",
    "start": "1972960",
    "end": "1978090"
  },
  {
    "text": "you created the simplest possible form of security architecture you're using different domain models customer class",
    "start": "1978090",
    "end": "1985559"
  },
  {
    "text": "to write and using customer DTO to read and you are correct the reason that we",
    "start": "1985559",
    "end": "1991980"
  },
  {
    "text": "did that in the past was number one performance using credit for some music",
    "start": "1991980",
    "end": "1997650"
  },
  {
    "text": "aces to slow it consumes to memory so we needed to use the QRS to improve the",
    "start": "1997650",
    "end": "2003080"
  },
  {
    "text": "performance of our system but these days when we're talking about distributed data we are using security secur as",
    "start": "2003080",
    "end": "2010100"
  },
  {
    "text": "pattern to solve other kinds of problems that our performance again but we have",
    "start": "2010100",
    "end": "2015860"
  },
  {
    "text": "other requirements to be solved to so and this is the most basic",
    "start": "2015860",
    "end": "2023330"
  },
  {
    "text": "implementation but this is the most interesting one for distributed data secure is with separate data stores and",
    "start": "2023330",
    "end": "2030290"
  },
  {
    "start": "2024000",
    "end": "2128000"
  },
  {
    "text": "if you ever created a view in your database and you issued Curie's against that view you created a secure s you",
    "start": "2030290",
    "end": "2038630"
  },
  {
    "text": "implemented the secure as pattern in your architecture we have separate write and data stores because customer is too",
    "start": "2038630",
    "end": "2044870"
  },
  {
    "text": "populated and being written on the right that is tor but when you need to carry something you created a separate data",
    "start": "2044870",
    "end": "2051138"
  },
  {
    "text": "store a customer view and you're retrieving your customer GTOs to from",
    "start": "2051139",
    "end": "2057260"
  },
  {
    "text": "your read data store which is the customer view that's a security architecture we have separate data",
    "start": "2057260",
    "end": "2064010"
  },
  {
    "text": "stores and in the previous example where I needed a report with just ID name and",
    "start": "2064010",
    "end": "2069770"
  },
  {
    "text": "phone number if I needed an another report with our DNA mail a name and email what would I do",
    "start": "2069770",
    "end": "2076190"
  },
  {
    "text": "I would create another custom query select ID name and email from customer I",
    "start": "2076190",
    "end": "2081200"
  },
  {
    "text": "would create another DTO very likely customer DTO to even the it's a terrible name and we used that we",
    "start": "2081200",
    "end": "2089100"
  },
  {
    "text": "would use that DTO to generate our reports so you realize that usually in",
    "start": "2089100",
    "end": "2094950"
  },
  {
    "text": "this pattern you have one single right model customer class but you might have",
    "start": "2094950",
    "end": "2101730"
  },
  {
    "text": "multiple Reid models depending on the requirements of your system okay so right is usually one but read the data",
    "start": "2101730",
    "end": "2109560"
  },
  {
    "text": "stores or read the domain models can be multiple in your system okay",
    "start": "2109560",
    "end": "2114720"
  },
  {
    "text": "keep in mind as I said strong eventual consistency is the model that we're using and secure RS with separate data",
    "start": "2114720",
    "end": "2122220"
  },
  {
    "text": "stores is the pattern that we're going to apply to our macro service architecture this is what people are using worldwide and last but not least I",
    "start": "2122220",
    "end": "2130500"
  },
  {
    "start": "2128000",
    "end": "2452000"
  },
  {
    "text": "have to discuss a bit about secure s and even sourcing and if you look at the",
    "start": "2130500",
    "end": "2135660"
  },
  {
    "text": "gradient box you learned that secure s was created because of event sourcing event sourcing",
    "start": "2135660",
    "end": "2141960"
  },
  {
    "text": "is a very old architecture but the term",
    "start": "2141960",
    "end": "2147180"
  },
  {
    "text": "again is not that old it might be have being coined like fifteen or twenty",
    "start": "2147180",
    "end": "2152820"
  },
  {
    "text": "years ago at most but it's a very old concept it just we people didn't use this name so what happened in the 2000s",
    "start": "2152820",
    "end": "2160730"
  },
  {
    "text": "people were thinking about the traditional model of storing data into a",
    "start": "2160730",
    "end": "2166800"
  },
  {
    "text": "database which was I only store the current state of my data so if I have a",
    "start": "2166800",
    "end": "2171900"
  },
  {
    "text": "customer if I curated database what do I know about the customer I know the current data I don't know the past data",
    "start": "2171900",
    "end": "2178050"
  },
  {
    "text": "from the customer so what was the address ten years ago of that customer I have no idea okay because I'm only",
    "start": "2178050",
    "end": "2184500"
  },
  {
    "text": "storing the current data in my in my database and this is the traditional way of thinking and again it works really",
    "start": "2184500",
    "end": "2191040"
  },
  {
    "text": "well but 15 years ago maybe 20 people decided all we have this thing called",
    "start": "2191040",
    "end": "2197730"
  },
  {
    "text": "event sourcing and the definition of events or C is that the state of the data is not a snapshot in my database",
    "start": "2197730",
    "end": "2204870"
  },
  {
    "text": "the state of the data is a stream of events and if you ever worked on the",
    "start": "2204870",
    "end": "2210510"
  },
  {
    "text": "bank system the classic example of when sourcing works like this if I have a bank system I have want to know how much",
    "start": "2210510",
    "end": "2216390"
  },
  {
    "text": "money I have in my bank account I don't store them amount of money in a table and a column and row",
    "start": "2216390",
    "end": "2221989"
  },
  {
    "text": "in my database what do I do I create the transaction table and I just keep",
    "start": "2221989",
    "end": "2227059"
  },
  {
    "text": "writing debit and credit operations and you have the benefit of this kind of",
    "start": "2227059",
    "end": "2232099"
  },
  {
    "text": "depth and credit which is sum and subtract these operations are CR DT which means that you have conflict free",
    "start": "2232099",
    "end": "2238579"
  },
  {
    "text": "resolution data types doesn't matter the order in which you apply the operations the result is always the same so if",
    "start": "2238579",
    "end": "2246380"
  },
  {
    "text": "everybody starts with a zero amount of money if the order doesn't matter which mean it means that the clock doesn't",
    "start": "2246380",
    "end": "2251809"
  },
  {
    "text": "matter you can later add a transaction that was late and it used to have the correct value okay so if everybody",
    "start": "2251809",
    "end": "2258170"
  },
  {
    "text": "starts with zero and I just keep adding and subtracting adding and subtracting a debit and credit debits and credits you",
    "start": "2258170",
    "end": "2264950"
  },
  {
    "text": "compute how much money do you have in your bank account well zero must plus minus plus minus you know how much money",
    "start": "2264950",
    "end": "2271489"
  },
  {
    "text": "do you have in your bank account benefits of this architecture you have very fast rights because you for the",
    "start": "2271489",
    "end": "2278479"
  },
  {
    "text": "right data store you can use a database that is an append-only feistiest file system it's very performant for writes",
    "start": "2278479",
    "end": "2285549"
  },
  {
    "text": "on the other hand you have a free auditing logging because if you know how did you reach that value you just look",
    "start": "2285549",
    "end": "2292700"
  },
  {
    "text": "at the transaction log you can figure out you can just calculate or everything over again you have a free time machine",
    "start": "2292700",
    "end": "2298489"
  },
  {
    "text": "if you want to learn how was the state of your bank account five years ago six months three days and three hours you",
    "start": "2298489",
    "end": "2305900"
  },
  {
    "text": "just start from zero and apply all of the transactions until that point of time okay so it's a free time machine on",
    "start": "2305900",
    "end": "2312140"
  },
  {
    "text": "the other hand you might be wondering to read the data is extremely is low I have",
    "start": "2312140",
    "end": "2318049"
  },
  {
    "text": "to start from zero and apply all of the transactions over again to know how much money do I have in my bank accounts now",
    "start": "2318049",
    "end": "2324710"
  },
  {
    "text": "and it gets even slower than more bank accounts that you have and the more transactions that you have so this is a",
    "start": "2324710",
    "end": "2330589"
  },
  {
    "text": "scenario fifteen years ago people were thinking about transitioning from snapshot systems to events or systems",
    "start": "2330589",
    "end": "2336950"
  },
  {
    "text": "but they had this problem with performance then Greg young coined the",
    "start": "2336950",
    "end": "2342469"
  },
  {
    "text": "term secure s which we're now tying secure s architectures secure s read the",
    "start": "2342469",
    "end": "2348049"
  },
  {
    "text": "stores with the mid sourcing so the rights are still events are seen as sources we",
    "start": "2348049",
    "end": "2353700"
  },
  {
    "text": "are getting the rights into an append-only file system or a database or something and synchronously or",
    "start": "2353700",
    "end": "2360180"
  },
  {
    "text": "asynchronously we create another table with another column with other rows which are updated with a cache",
    "start": "2360180",
    "end": "2367349"
  },
  {
    "text": "information okay so the rights go to this data store but the reads come from",
    "start": "2367349",
    "end": "2373619"
  },
  {
    "text": "here and again you might be thinking well the cache might get wrong",
    "start": "2373619",
    "end": "2378690"
  },
  {
    "text": "eventually but since you're using event sourcing if you want to do that and that's what every banking system does",
    "start": "2378690",
    "end": "2384839"
  },
  {
    "text": "during the night you just get a snapshot from the how much money you had in your",
    "start": "2384839",
    "end": "2389970"
  },
  {
    "text": "bank account yesterday you apply all of the transactions from the day again and",
    "start": "2389970",
    "end": "2395160"
  },
  {
    "text": "you just check well does the cash has the same value as the computed value from now if it matches okay next next",
    "start": "2395160",
    "end": "2404220"
  },
  {
    "text": "row if it doesn't then somebody raises the flag Oh somebody needed to need to manually check this bank account because",
    "start": "2404220",
    "end": "2410910"
  },
  {
    "text": "something seems wrong that's the auditing procedure that banks uses overnight every single day so that's how",
    "start": "2410910",
    "end": "2418079"
  },
  {
    "text": "you're tying secured s we're even sourcing so it can have very fast writes and an audit trail and a time machine",
    "start": "2418079",
    "end": "2425099"
  },
  {
    "text": "and you can still have good performance using secure s read data models okay",
    "start": "2425099",
    "end": "2431480"
  },
  {
    "text": "just have in mind again many people are using this kind of architecture in",
    "start": "2431480",
    "end": "2436980"
  },
  {
    "text": "distributed data architectures not everybody okay so you might be wondering event sourcing or not but secure s",
    "start": "2436980",
    "end": "2444450"
  },
  {
    "text": "definitely if you're using an enterprise information system you're very likely to end up using a secure s read the restore",
    "start": "2444450",
    "end": "2451819"
  },
  {
    "text": "and why did I tell all that because after all of these years developing and",
    "start": "2451819",
    "end": "2457619"
  },
  {
    "start": "2452000",
    "end": "2726000"
  },
  {
    "text": "talking to people that were creating the distributed architectures the traditional path that most people use to",
    "start": "2457619",
    "end": "2463890"
  },
  {
    "text": "fail when deploying this tabular data is this one well I have a monolith I decided that I want to strike this piece",
    "start": "2463890",
    "end": "2470190"
  },
  {
    "text": "of information for example again customer customer extract that to a customer micro service now I have a",
    "start": "2470190",
    "end": "2476779"
  },
  {
    "text": "customer macro service on the customer data the rest of the monoliths still needs the customer data so what do you",
    "start": "2476779",
    "end": "2483569"
  },
  {
    "text": "do well we did everything right so all of the customer data is accessed for from the accustomary Dao so",
    "start": "2483569",
    "end": "2490410"
  },
  {
    "text": "what do I need to do well just create a rest endpoint here for HTTP just whenever I need the customer data",
    "start": "2490410",
    "end": "2496560"
  },
  {
    "text": "I just issue remote cows to my remote endpoint and get the data back so in theory it should work you deploy that in",
    "start": "2496560",
    "end": "2503609"
  },
  {
    "text": "production you fail miserably because it doesn't scale so if you have unless you",
    "start": "2503609",
    "end": "2509520"
  },
  {
    "text": "have a very low requirement on reads and writes these architecture will fail and I witness that many times in the past",
    "start": "2509520",
    "end": "2517440"
  },
  {
    "text": "years so when and just oh my god it doesn't scale because it's like many orders of magnitude slower so what do we",
    "start": "2517440",
    "end": "2525119"
  },
  {
    "text": "do developers they tend to think like well it's as low we have a performance problem how do you serve a performance",
    "start": "2525119",
    "end": "2530910"
  },
  {
    "text": "problem for data you had a cache right you just oh we're just going to add an",
    "start": "2530910",
    "end": "2536460"
  },
  {
    "text": "internal memory cache in my application and now every time we will lower the",
    "start": "2536460",
    "end": "2542130"
  },
  {
    "text": "workload because we have the data locally and everything else now you have even more problems of consistency but",
    "start": "2542130",
    "end": "2548090"
  },
  {
    "text": "performance gets better but if it's faster but it's not fast enough what do",
    "start": "2548090",
    "end": "2553320"
  },
  {
    "text": "you think next step web cache is not big enough what do you do oh I need an external cache so you deploy an external",
    "start": "2553320",
    "end": "2559619"
  },
  {
    "text": "cache system connected to the Romagna leaf to store all of the reads and now performance seems ok but then you",
    "start": "2559619",
    "end": "2566280"
  },
  {
    "text": "realize well I have like a thousand reports in my monolith and I used to do",
    "start": "2566280",
    "end": "2572580"
  },
  {
    "text": "the join of the customer information directly from the database and since everything is written to sequel strings",
    "start": "2572580",
    "end": "2578580"
  },
  {
    "text": "it's not typesafe you never know that it's going to happen well not really but",
    "start": "2578580",
    "end": "2584880"
  },
  {
    "text": "you usually you only learn that people are using this data when you run into",
    "start": "2584880",
    "end": "2589890"
  },
  {
    "text": "production because again in string based programming and now you have a problem we are going to need to rewrite all of",
    "start": "2589890",
    "end": "2596790"
  },
  {
    "text": "my reports or any other QE that uses customer and but almost all the data is",
    "start": "2596790",
    "end": "2603660"
  },
  {
    "text": "in the database using relational tables and I have objects in my cache so I used",
    "start": "2603660",
    "end": "2610140"
  },
  {
    "text": "to do the joins in the database now I have to queue the data and do the joining memory just to generate reports",
    "start": "2610140",
    "end": "2615810"
  },
  {
    "text": "then somebody usually the most experience person heaven has an idea why",
    "start": "2615810",
    "end": "2622860"
  },
  {
    "text": "don't we just create a copy table which had exactly same structure as before and we just find a way to get the rights",
    "start": "2622860",
    "end": "2630000"
  },
  {
    "text": "that are being written in the other end points to get synchronized to our local copy of the data well congratulations",
    "start": "2630000",
    "end": "2637920"
  },
  {
    "text": "what did you just do you created a secure s read data model that is using",
    "start": "2637920",
    "end": "2644280"
  },
  {
    "text": "strong eventual consistency to get updated now I'm going to just explain to",
    "start": "2644280",
    "end": "2650490"
  },
  {
    "text": "you what are the different techniques that you can use to apply to update the",
    "start": "2650490",
    "end": "2655500"
  },
  {
    "text": "remote data into your secure s read the restore and again before somebody asks",
    "start": "2655500",
    "end": "2661200"
  },
  {
    "text": "me I'm going to tell you I'm describing the particular user case of Enterprise Information Systems because I believe",
    "start": "2661200",
    "end": "2668070"
  },
  {
    "text": "then the software development world we have some kind of separation between the problems that we solve Enterprise",
    "start": "2668070",
    "end": "2674850"
  },
  {
    "text": "Information Systems you have very complex business logic and complex",
    "start": "2674850",
    "end": "2682140"
  },
  {
    "text": "relations between the data that you're manipulating okay but the volume of the",
    "start": "2682140",
    "end": "2687270"
  },
  {
    "text": "data that you're manipulating is not that huge compared to most interactive startup business models where have",
    "start": "2687270",
    "end": "2694140"
  },
  {
    "text": "simpler business models but the amount of data that you need to handle is much",
    "start": "2694140",
    "end": "2699270"
  },
  {
    "text": "bigger so the focus here is the problem is business model the other kind of",
    "start": "2699270",
    "end": "2705170"
  },
  {
    "text": "software that's remodeling the problem here is infrastructure okay so we tackle",
    "start": "2705170",
    "end": "2710790"
  },
  {
    "text": "these different problems with different solutions I'm going to discuss just enterprise information problem because I",
    "start": "2710790",
    "end": "2717120"
  },
  {
    "text": "believe that were like 90% of the developers worldwide are coding ok",
    "start": "2717120",
    "end": "2726540"
  },
  {
    "start": "2726000",
    "end": "2829000"
  },
  {
    "text": "so in my initial initial research I was able to gather nine different techniques",
    "start": "2726540",
    "end": "2732390"
  },
  {
    "text": "that people were using worldwide some of them I don't agree but I'm not judging and just reporting what people used and",
    "start": "2732390",
    "end": "2738750"
  },
  {
    "text": "seem to be working for them okay and these are shared tables database views materialized views triggers",
    "start": "2738750",
    "end": "2745010"
  },
  {
    "text": "transactional codes ETL data authorization event sourcing and change",
    "start": "2745010",
    "end": "2750099"
  },
  {
    "text": "data captures and we go we're going to run very quickly for them and again everything I'm saying to you today you",
    "start": "2750099",
    "end": "2756789"
  },
  {
    "text": "can read in my book in much more detail and in a much better pace I'm pretty sure so share tables means means that",
    "start": "2756789",
    "end": "2765729"
  },
  {
    "text": "macro service and monolith are reading and writing from the same tables in the same database I I considered this one a",
    "start": "2765729",
    "end": "2772779"
  },
  {
    "text": "hack of course I don't recommend it I don't recommend it's an anti-pattern but it's very fast integrate like I need",
    "start": "2772779",
    "end": "2779079"
  },
  {
    "text": "something deployed today well you don't change anything just read and write from the same database you",
    "start": "2779079",
    "end": "2784299"
  },
  {
    "text": "have strong consistency because you're using database transactions in the same database and it has low cohesion in the",
    "start": "2784299",
    "end": "2790059"
  },
  {
    "text": "high coupling what's the problem with this one is the monoliths and macro",
    "start": "2790059",
    "end": "2795069"
  },
  {
    "text": "service are different teams and this becomes the perfect excuse for not changing anything at all anymore",
    "start": "2795069",
    "end": "2800460"
  },
  {
    "text": "Microsoft's team says I can't change the database because the monolith is using that one on this team says I can't",
    "start": "2800460",
    "end": "2806739"
  },
  {
    "text": "change the database because Microsoft's team is doing that so you're just stuck in this thing forever so if you decide",
    "start": "2806739",
    "end": "2812440"
  },
  {
    "text": "to use shared tables as an integration technology you just say well we're deploying this today first thing for the",
    "start": "2812440",
    "end": "2818109"
  },
  {
    "text": "nest back backlog is we're going to choose a better integration strategy for our data now you need to change change",
    "start": "2818109",
    "end": "2824890"
  },
  {
    "text": "this immediately immediately or it will get stuck forever okay second",
    "start": "2824890",
    "end": "2830859"
  },
  {
    "start": "2829000",
    "end": "2976000"
  },
  {
    "text": "integration database views and when I say in separate databases I know again for Enterprise Information Systems it's",
    "start": "2830859",
    "end": "2837640"
  },
  {
    "text": "not like it's not something real to ask for oh I need a separate separate Oracle",
    "start": "2837640",
    "end": "2844210"
  },
  {
    "text": "instance for each one of my micro services ok it's going to be a very expensive build so when the same",
    "start": "2844210",
    "end": "2850269"
  },
  {
    "text": "separate database it might mean that well you have a single database instance",
    "start": "2850269",
    "end": "2855849"
  },
  {
    "text": "running and you have separate schemas we've separate users and permissions for each one of your micro services that's",
    "start": "2855849",
    "end": "2861729"
  },
  {
    "text": "the that's a nice approach nice and reliable approach which also means that if you have this kind of centralized",
    "start": "2861729",
    "end": "2867579"
  },
  {
    "text": "infrastructure even though you might be thinking well availability availability",
    "start": "2867579",
    "end": "2872589"
  },
  {
    "text": "might suffer because I have a single instance but you know in the other hand for IT you have centralized backups and",
    "start": "2872589",
    "end": "2879279"
  },
  {
    "text": "everything else let's be honest if your central Oracle database goes down you think really that",
    "start": "2879279",
    "end": "2885280"
  },
  {
    "text": "any part of your system we use to keep working in enterprise information world I don't think so okay so that's why even",
    "start": "2885280",
    "end": "2893620"
  },
  {
    "text": "when I say one database per micro-service you can have like different schemas on the same instance many people are doing that and it's not",
    "start": "2893620",
    "end": "2899920"
  },
  {
    "text": "a an unforgivable sin database view if I",
    "start": "2899920",
    "end": "2906040"
  },
  {
    "text": "have micro-service tables here I creates a view on the other database for the monolith to keep working that's the",
    "start": "2906040",
    "end": "2913000"
  },
  {
    "text": "easiest one to implement all of the DBMS vendors currently support views you",
    "start": "2913000",
    "end": "2918880"
  },
  {
    "text": "might have some performance issues depending on the view depends on the database and how you create everything you always have strong consistency",
    "start": "2918880",
    "end": "2925180"
  },
  {
    "text": "because you're writing directly to the hot data and deformation is always fresh one database must be reachable by the",
    "start": "2925180",
    "end": "2931930"
  },
  {
    "text": "other which means that you have remote instances or separate instances on Oracle you need to use the Billings and",
    "start": "2931930",
    "end": "2938710"
  },
  {
    "text": "some DBA is cursed me for that because they say it doesn't work I'm not judging I'm just saying that some people are",
    "start": "2938710",
    "end": "2944890"
  },
  {
    "text": "using and for their requirements it worked so you shouldn't be discarding some solutions just because some people",
    "start": "2944890",
    "end": "2951580"
  },
  {
    "text": "say oh it won't work well depending on your requirements it might work okay it's updatable depending on the mms",
    "start": "2951580",
    "end": "2958540"
  },
  {
    "text": "support because in Oracle you might have updatable views but we don't recommend that because it's if you allow writes in",
    "start": "2958540",
    "end": "2965290"
  },
  {
    "text": "more than one system you don't have a single canonical node and it will be very difficult for you to change your",
    "start": "2965290",
    "end": "2971500"
  },
  {
    "text": "architecture later if you decide to allow dates in multiple nodes database",
    "start": "2971500",
    "end": "2977980"
  },
  {
    "text": "materialized view if we have a performance issue with views usually the next step is to change the view to a",
    "start": "2977980",
    "end": "2984400"
  },
  {
    "text": "materialized view so you have usually had better performance you might have stronger eventual consistency if you",
    "start": "2984400",
    "end": "2990520"
  },
  {
    "text": "decide to update the materialized view on commit you have a strong consistency but be careful it's a performance killer",
    "start": "2990520",
    "end": "2998590"
  },
  {
    "text": "the most common way is to have a chrome trigger updating the materialized view or you ask you do a refresh on the Manns",
    "start": "2998590",
    "end": "3005610"
  },
  {
    "text": "on your system one database must be reachable the other if you is an Oracle means a DB link and I use this",
    "start": "3005610",
    "end": "3012540"
  },
  {
    "text": "integration strategy - in the past like five six years ago we",
    "start": "3012540",
    "end": "3018619"
  },
  {
    "text": "had a particular use case the customer had a database in their data center they needed to expose a piece of information",
    "start": "3018619",
    "end": "3024789"
  },
  {
    "text": "into a service on the cloud so what we created we went to Amazon RDS we created",
    "start": "3024789",
    "end": "3031640"
  },
  {
    "text": "an Oracle instance exactly the same version as they had in the datacenter and we kept discussing the entire day",
    "start": "3031640",
    "end": "3037789"
  },
  {
    "text": "how we were going to integrate the data and then in the end of the day I just said to them well why don't we create a",
    "start": "3037789",
    "end": "3044390"
  },
  {
    "text": "remote materialized view everybody left they cursed me but when I ride home I",
    "start": "3044390",
    "end": "3049849"
  },
  {
    "text": "say I want to try it see if it works so it took me 15 minutes to create a room DB linked database materialized view I",
    "start": "3049849",
    "end": "3057589"
  },
  {
    "text": "tested that we were using the refresh on-demand and I just put a cron trigger",
    "start": "3057589",
    "end": "3062719"
  },
  {
    "text": "to refresh that every 30 minutes because the requirements of the systems were that the data the latency for the data",
    "start": "3062719",
    "end": "3068900"
  },
  {
    "text": "updates were 30 minutes so I was allowed to have a 30 minute delay so I put a",
    "start": "3068900",
    "end": "3074660"
  },
  {
    "text": "crunch figure on my system to refresh the materialized view for every 30 minutes and it worked because the Refresh took",
    "start": "3074660",
    "end": "3080599"
  },
  {
    "text": "20 minutes to be completed I still had 10 minutes left so even though most if",
    "start": "3080599",
    "end": "3086900"
  },
  {
    "text": "not all of the DBA said it was a pretty hack it worked and it has been working the past five or six years very well so",
    "start": "3086900",
    "end": "3096339"
  },
  {
    "text": "that's another option I'm not judging yeah especially because I did this",
    "start": "3096339",
    "end": "3101449"
  },
  {
    "text": "myself but and again it's updatable depending on DBMS support you can also",
    "start": "3101449",
    "end": "3109130"
  },
  {
    "start": "3107000",
    "end": "3158000"
  },
  {
    "text": "use triggers have Microsoft database you put a trigger on the database every time and anything is changed you update the",
    "start": "3109130",
    "end": "3116029"
  },
  {
    "text": "remote endpoint you have strong consistency you if you do that on commit one that a base must be reachable by the",
    "start": "3116029",
    "end": "3122180"
  },
  {
    "text": "other because it means you again you can use that DB link but this one again I consider this to be a hack but I'm not",
    "start": "3122180",
    "end": "3128989"
  },
  {
    "text": "judging it only works for a point-to-point integration like I have one micro service one other endpoint one",
    "start": "3128989",
    "end": "3135589"
  },
  {
    "text": "micro service one monolith and why is that because you have tight coupling between the points every time you change",
    "start": "3135589",
    "end": "3141859"
  },
  {
    "text": "here you have to change the other side every time you change to this side you need to change the trigger",
    "start": "3141859",
    "end": "3147290"
  },
  {
    "text": "so it doesn't scale it works on if you have one or two integrations okay but if",
    "start": "3147290",
    "end": "3152780"
  },
  {
    "text": "that's the use case of your team maybe that's a reasonable solution transaction",
    "start": "3152780",
    "end": "3160040"
  },
  {
    "start": "3158000",
    "end": "3203000"
  },
  {
    "text": "code is the same case as trigger but instead of using triggers you might be using store procedures or distributed",
    "start": "3160040",
    "end": "3166490"
  },
  {
    "text": "transactions XA or two-phase commit and you also have strong consistency you",
    "start": "3166490",
    "end": "3173840"
  },
  {
    "text": "have possible cohesion and company issues because again only really works for point to point integration you might",
    "start": "3173840",
    "end": "3180500"
  },
  {
    "text": "have performance issues it's updatable even though we don't recommend and how does it work I have this ability",
    "start": "3180500",
    "end": "3185660"
  },
  {
    "text": "transactions if I decided to integrate every time somebody changed here I need to change here here and here here",
    "start": "3185660",
    "end": "3191570"
  },
  {
    "text": "well it's a cascading change if I change here I have to change here for hey I change here I have to change everywhere",
    "start": "3191570",
    "end": "3197450"
  },
  {
    "text": "so again it doesn't scale it's only feasible for point-to-point integrations",
    "start": "3197450",
    "end": "3203890"
  },
  {
    "start": "3203000",
    "end": "3298000"
  },
  {
    "text": "ETL tools if you ever use it clink vo Pentaho - builder to be creating your",
    "start": "3203890",
    "end": "3209960"
  },
  {
    "text": "reports you can also use this tools to extract the data from our remote database and create a secure RS read",
    "start": "3209960",
    "end": "3216740"
  },
  {
    "text": "data model in your local database these tools you have lots of different tools to be able they are able to do that",
    "start": "3216740",
    "end": "3223070"
  },
  {
    "text": "requires an external trigger which is usually a contributor button on the interface you can aggregate multiple",
    "start": "3223070",
    "end": "3229370"
  },
  {
    "text": "data sources it's always eventual consistent because by the time you read it it's already updated it's a regional",
    "start": "3229370",
    "end": "3236330"
  },
  {
    "text": "integration which is not a bad thing who did that well there were some things",
    "start": "3236330",
    "end": "3242090"
  },
  {
    "text": "were they already had a person that was responsible for the ETL - they were",
    "start": "3242090",
    "end": "3247190"
  },
  {
    "text": "performing multiple integrations for multiple different kinds of reports every day and it was their very first",
    "start": "3247190",
    "end": "3253010"
  },
  {
    "text": "integration I just need to consume that data why are we going to waste like maybe I sprint a week or two weeks be",
    "start": "3253010",
    "end": "3259490"
  },
  {
    "text": "creating this architecture to propagate the things now I need a broker or others or other kind of stuff to be propagating",
    "start": "3259490",
    "end": "3265370"
  },
  {
    "text": "the data they just ask the TL guy well it's just another QE that I have to put in my tool and we'll get that at the",
    "start": "3265370",
    "end": "3272480"
  },
  {
    "text": "copy of the data for you so if you already have an ETL person in your team maybe that's a reasonable",
    "start": "3272480",
    "end": "3280220"
  },
  {
    "text": "solution of course you have more integration than than a couple or if",
    "start": "3280220",
    "end": "3285530"
  },
  {
    "text": "your integration get need need to spend multiple endpoints or need more complex integrations ETL czar not feasible but",
    "start": "3285530",
    "end": "3292609"
  },
  {
    "text": "again in some use cases people use ETL tools and it workers for them data",
    "start": "3292609",
    "end": "3299720"
  },
  {
    "start": "3298000",
    "end": "3460000"
  },
  {
    "text": "virtualization this one is a very nice solution even though I only met three different teams that use it data",
    "start": "3299720",
    "end": "3306500"
  },
  {
    "text": "virtualization solutions all of them were banks two of them were using the Red Hat",
    "start": "3306500",
    "end": "3312200"
  },
  {
    "text": "data utilization product and the other one was using the Cisco solution for data routinization",
    "start": "3312200",
    "end": "3317359"
  },
  {
    "text": "how does it work none of them bought the solution just to the point micro-services but all of them were very",
    "start": "3317359",
    "end": "3324680"
  },
  {
    "text": "happy that they already had the two and they were that they were able to use it to create their macro service",
    "start": "3324680",
    "end": "3330530"
  },
  {
    "text": "architecture because because why is that because they were able to fail throw",
    "start": "3330530",
    "end": "3336230"
  },
  {
    "text": "everything up out and build everything from scratch again without changing the",
    "start": "3336230",
    "end": "3342080"
  },
  {
    "text": "physical database because if you think that's reading that database is hard splitting it right it's almost",
    "start": "3342080",
    "end": "3349160"
  },
  {
    "text": "impossible in the same time a first time usually you're going to do something wrong a name then maybe you have the",
    "start": "3349160",
    "end": "3355250"
  },
  {
    "text": "wish to put things back it's even more complicated okay so what did they do if",
    "start": "3355250",
    "end": "3360380"
  },
  {
    "text": "you use the database data virtualization basically you just have the data in the",
    "start": "3360380",
    "end": "3365690"
  },
  {
    "text": "bottom layer you use you create virtual databases and you have you can have multiple clients consuming the virtual",
    "start": "3365690",
    "end": "3371869"
  },
  {
    "text": "databases and you might have real-time access because it's just a virtualization layer you have",
    "start": "3371869",
    "end": "3377570"
  },
  {
    "text": "performance issues you can add a cache layer here these twos they all provide support for caching and it's you can",
    "start": "3377570",
    "end": "3384859"
  },
  {
    "text": "have a write integration even though we don't recommend that and how do they do",
    "start": "3384859",
    "end": "3390170"
  },
  {
    "text": "that well I want to know which piece of information I can extract from my monolith if I'm using that",
    "start": "3390170",
    "end": "3396830"
  },
  {
    "text": "virtualization solution I just create I just can create like a virtual database customer virtual database and play with",
    "start": "3396830",
    "end": "3404690"
  },
  {
    "text": "the macro service oh we did it wrong it's the wrong piece of information to track because one pattern every time I",
    "start": "3404690",
    "end": "3410839"
  },
  {
    "text": "change data here I need to change it there every time I change change change change data there I need to change it here too",
    "start": "3410839",
    "end": "3416210"
  },
  {
    "text": "which means that you probably extracted the wrong piece of information oh yeah maybe we need to strike it",
    "start": "3416210",
    "end": "3423680"
  },
  {
    "text": "differently or a different model then if you're using physical data base is going to be very complicated if you're using a",
    "start": "3423680",
    "end": "3430460"
  },
  {
    "text": "VDD delete the VDD and create another one okay so they they were able to do",
    "start": "3430460",
    "end": "3435680"
  },
  {
    "text": "that trial and error move that database until they got the right solution and that's that's examples that I have to",
    "start": "3435680",
    "end": "3441980"
  },
  {
    "text": "give you only three user cases and at least one of them they just decided well the VDB solution for the secure s model",
    "start": "3441980",
    "end": "3449360"
  },
  {
    "text": "is working so well I think we're stick to the virtual virtualized a solution instead of creating another piece of",
    "start": "3449360",
    "end": "3456890"
  },
  {
    "text": "architecture just to integrate the data event sourcing is the architecture that",
    "start": "3456890",
    "end": "3462800"
  },
  {
    "start": "3460000",
    "end": "3600000"
  },
  {
    "text": "explained it for the state of the data is a stream of events you have all the team the Machine eventual consistency",
    "start": "3462800",
    "end": "3469310"
  },
  {
    "text": "because usually Europe dating the data are synchronously using a message bus and because of the message bus you can",
    "start": "3469310",
    "end": "3476150"
  },
  {
    "text": "achieve usually much higher scalability than you rather than using a synchronous",
    "start": "3476150",
    "end": "3481580"
  },
  {
    "text": "requests and the problem with in event sourcing even though I told you the benefits before the problem with event",
    "start": "3481580",
    "end": "3488090"
  },
  {
    "text": "sourcing that I've seen in the field is that many people are selling event sourcing as the best possible solution",
    "start": "3488090",
    "end": "3494090"
  },
  {
    "text": "for integration between distributed systems and I think I might agree that",
    "start": "3494090",
    "end": "3500300"
  },
  {
    "text": "event sourcing for many user cases might be the ideal solution but it's very hard",
    "start": "3500300",
    "end": "3506420"
  },
  {
    "text": "to achieve this idea of architecture in your system the problem that I witness net is that it's very hard for you to do",
    "start": "3506420",
    "end": "3513200"
  },
  {
    "text": "event sourcing right in fact I only know one team that needed to write on the first time and that just because they",
    "start": "3513200",
    "end": "3519950"
  },
  {
    "text": "were fine I can disclose the name of the company but it's a worldwide finance",
    "start": "3519950",
    "end": "3525770"
  },
  {
    "text": "company but it's not a Mac and they did that they had a monolith in a mainframe",
    "start": "3525770",
    "end": "3531560"
  },
  {
    "text": "and did you decide to create a Microsoft a chewy events are seen on Amazon and using sqs and everything else and they",
    "start": "3531560",
    "end": "3538040"
  },
  {
    "text": "did the events right on the first time just because the events didn't change in the past 40 years so they took the same",
    "start": "3538040",
    "end": "3544910"
  },
  {
    "text": "team some people were very and this hour we're going to model any events and they just had everything but",
    "start": "3544910",
    "end": "3551000"
  },
  {
    "text": "in their in their hearts they could say what types of the events you have your system they just knew it by a heart so",
    "start": "3551000",
    "end": "3556700"
  },
  {
    "text": "it was very easy for them to implement this is event sourcing because they had all of the events in their minds and",
    "start": "3556700",
    "end": "3563210"
  },
  {
    "text": "they created everything but so what's the plot if you have a legacy system",
    "start": "3563210",
    "end": "3568490"
  },
  {
    "text": "which is doing snapshotting I don't recommend you to change the legacy system to create events or see because",
    "start": "3568490",
    "end": "3575240"
  },
  {
    "text": "events sourcing is very hard but if you're creating a new piece of software in your system and then you might",
    "start": "3575240",
    "end": "3582470"
  },
  {
    "text": "consider one to consider event sourcing because that's a really nice real real nice solution especially for greenfield",
    "start": "3582470",
    "end": "3588560"
  },
  {
    "text": "projects and if you're doing that what I do recommend is that stick to low level events on your event sourcing we are",
    "start": "3588560",
    "end": "3595580"
  },
  {
    "text": "what our low level events create update delete and stick to that because usually",
    "start": "3595580",
    "end": "3602390"
  },
  {
    "text": "you have fewer changes if you stick to these kind of events you just have change of type you don't",
    "start": "3602390",
    "end": "3607520"
  },
  {
    "text": "have change of semantics because people think that oh I'm using events and I'm using a broker I have local coupling in my system in an",
    "start": "3607520",
    "end": "3614780"
  },
  {
    "text": "event-driven architecture the coupling in your system is the type and semantics",
    "start": "3614780",
    "end": "3619970"
  },
  {
    "text": "of the events every time you change the type every time you change the semantics you have it will have a cascading change",
    "start": "3619970",
    "end": "3626119"
  },
  {
    "text": "you have to change all of the end points that are consuming the events and it gets really complicated if you have",
    "start": "3626119",
    "end": "3631550"
  },
  {
    "text": "multiple endpoints and you're changing the events frequently so it's even worse than using them all of it because in the",
    "start": "3631550",
    "end": "3638089"
  },
  {
    "text": "monolith you have if you use in a type safe language like Java or C sharp you can just refactor the code if you're",
    "start": "3638089",
    "end": "3643790"
  },
  {
    "text": "using the event you don't have this you have to go through multiple code bases and just realize what what changes",
    "start": "3643790",
    "end": "3650180"
  },
  {
    "text": "between the events so I'm recommending what low-level events instead of domain",
    "start": "3650180",
    "end": "3655670"
  },
  {
    "text": "level events domain level events give you power because you have semantics instead of just created updated lead it",
    "start": "3655670",
    "end": "3662750"
  },
  {
    "text": "you have like how do I say credit limits",
    "start": "3662750",
    "end": "3671980"
  },
  {
    "text": "overflow well something like that like use it too much credit or yeah you add",
    "start": "3671980",
    "end": "3678770"
  },
  {
    "text": "this of semantics or you ask it an order to be ship it to an address that is not",
    "start": "3678770",
    "end": "3684250"
  },
  {
    "text": "covered by your provider that's Anika another kind of semantics that you can",
    "start": "3684250",
    "end": "3689770"
  },
  {
    "text": "add but again if you don't know the types of events that you have in your system very well you get issues",
    "start": "3689770",
    "end": "3695770"
  },
  {
    "text": "maintaining this code last one because I'm over time change data capture which",
    "start": "3695770",
    "end": "3701319"
  },
  {
    "text": "I only learn it because of the my research if you have a legacy system you don't want to change the source code or",
    "start": "3701319",
    "end": "3707410"
  },
  {
    "text": "even you don't have the source code of the system are you using data integration your system which you have which means there you have multiple",
    "start": "3707410",
    "end": "3713410"
  },
  {
    "text": "applications changing the database directly on the same tables and the same columns you don't have a appointing your",
    "start": "3713410",
    "end": "3720790"
  },
  {
    "text": "system when you can just capture all of the change or all of the data change and",
    "start": "3720790",
    "end": "3726550"
  },
  {
    "text": "just brought the caster changes so you have to connect directly into the database transaction log CDC to connect",
    "start": "3726550",
    "end": "3732430"
  },
  {
    "text": "to the database transaction logs reads that information and propagates that to a message bus if you are ever used at",
    "start": "3732430",
    "end": "3738819"
  },
  {
    "text": "Oracle GoldenGate gotta get there's a lot of things including CDC but the",
    "start": "3738819",
    "end": "3743920"
  },
  {
    "text": "thing that I want to show you is this open source CDC to division if you're wondering what is the name division the",
    "start": "3743920",
    "end": "3750849"
  },
  {
    "text": "be zoom the Red Hat engineers are very good in naming things so they start with DB and they wanted it to sound like",
    "start": "3750849",
    "end": "3756339"
  },
  {
    "text": "chemical elements so that the bees you Wow ended up I know yeah they're not",
    "start": "3756339",
    "end": "3762220"
  },
  {
    "text": "good and how does it work very quickly",
    "start": "3762220",
    "end": "3767369"
  },
  {
    "text": "let me see if I can show you in 30 seconds what do I have here I have it running in my machine I have my C code",
    "start": "3767369",
    "end": "3775180"
  },
  {
    "text": "database I have Kafka which is a very nice message broker that Vantage is that",
    "start": "3775180",
    "end": "3780339"
  },
  {
    "text": "cache contains the order on the same partition you have a zookeeper which store the shared state I have a my",
    "start": "3780339",
    "end": "3787329"
  },
  {
    "text": "sequel clients I have division runni I have a Kafka watcher which just captures the messages on the Kafka bus and",
    "start": "3787329",
    "end": "3792880"
  },
  {
    "text": "printed it to me let's see I have a customer",
    "start": "3792880",
    "end": "3797520"
  },
  {
    "text": "have this idea thousand forest and crash Marv if I get here and decide to do an",
    "start": "3801080",
    "end": "3807660"
  },
  {
    "text": "update I said it updated now her name is Anne mahi let's see what happened in the",
    "start": "3807660",
    "end": "3815430"
  },
  {
    "text": "CAF kaaba's division detected on the",
    "start": "3815430",
    "end": "3820940"
  },
  {
    "text": "transaction log and printed this messages on the Koshka bus oops I got",
    "start": "3822590",
    "end": "3831030"
  },
  {
    "text": "the quotes wrong so what happened DB",
    "start": "3831030",
    "end": "3836130"
  },
  {
    "text": "zoom propagates for me the schema before and after the operation because it could have been an alter table statement but",
    "start": "3836130",
    "end": "3843210"
  },
  {
    "text": "since it's an update statement the interesting part is like before the operation the payload was this first",
    "start": "3843210",
    "end": "3849120"
  },
  {
    "text": "name was n and the after is an mahi and operation is an update and you have this",
    "start": "3849120",
    "end": "3857370"
  },
  {
    "text": "some sort of internal information and a timestamp so if you're using this kind",
    "start": "3857370",
    "end": "3863940"
  },
  {
    "text": "of message to to update the data on your remote secure as read restore I think it's very easy for you to see oh I can",
    "start": "3863940",
    "end": "3870810"
  },
  {
    "text": "get the data future transform and just update the data on my local database with this kind of information okay and I",
    "start": "3870810",
    "end": "3877230"
  },
  {
    "text": "have much more that the division can do but I'm over time and that's what I wanted to share with you today",
    "start": "3877230",
    "end": "3883110"
  },
  {
    "text": "I hope it's helpful and thank you very much [Applause]",
    "start": "3883110",
    "end": "3890130"
  }
]