[
  {
    "text": "good morning friends so i'm glad i'll be talking about how to",
    "start": "719",
    "end": "6480"
  },
  {
    "text": "deny yourself access to your production environment if uh anyone wants to turn their video",
    "start": "6480",
    "end": "12400"
  },
  {
    "text": "on please do so i got a great view open so you can wave a hand and i'll hopefully see if",
    "start": "12400",
    "end": "17440"
  },
  {
    "text": "you have a question if you wonder about anything i have the webex chat",
    "start": "17440",
    "end": "22880"
  },
  {
    "text": "and the slack open if i don't catch it gregor will and let me know um i'll try to",
    "start": "22880",
    "end": "30400"
  },
  {
    "text": "answer some questions as we go along if that's if it's a natural question if not i'll",
    "start": "30400",
    "end": "35440"
  },
  {
    "text": "try to save them for the end so we're going to deny ourselves access",
    "start": "35440",
    "end": "41120"
  },
  {
    "text": "to production well first of all why would you do that",
    "start": "41120",
    "end": "46719"
  },
  {
    "text": "well there's multiple reasons why you want do not want access to production",
    "start": "46719",
    "end": "51760"
  },
  {
    "text": "first of all it makes it much harder to screw up you can type the wrong one command in",
    "start": "51760",
    "end": "57440"
  },
  {
    "text": "the wrong window delete a resource you shouldn't have and so on and so forth",
    "start": "57440",
    "end": "62640"
  },
  {
    "text": "it's i had one time where i accidentally was logged in as an admin and i",
    "start": "62640",
    "end": "67840"
  },
  {
    "text": "didn't notice it but as i was moving my mouse over windows explorer i accidentally",
    "start": "67840",
    "end": "74240"
  },
  {
    "text": "touched my button what i did i took a folder and dragged and dropped it into",
    "start": "74240",
    "end": "80560"
  },
  {
    "text": "another folder and in about five minutes there was about",
    "start": "80560",
    "end": "86560"
  },
  {
    "text": "500 users that could logged in because their home directory could not be found",
    "start": "86560",
    "end": "92720"
  },
  {
    "text": "and when people start coming in having that weird error and their user directory is gone and you know you're",
    "start": "93119",
    "end": "98400"
  },
  {
    "text": "the only one that was logged in as an admin that day is like damn so",
    "start": "98400",
    "end": "106399"
  },
  {
    "text": "it makes it harder to screw up it also makes it harder for an unfaithful employee to steal production data or personal",
    "start": "106399",
    "end": "112640"
  },
  {
    "text": "data or screw with data production data may contain ident",
    "start": "112640",
    "end": "118560"
  },
  {
    "text": "personal identifiable information it can contain critical business information and you might be obligated",
    "start": "118560",
    "end": "124479"
  },
  {
    "text": "even under law to keep this data safe and secure so having these these uh",
    "start": "124479",
    "end": "132640"
  },
  {
    "text": "measures in place will make it easier to justify that actually we have our stuff under control it also makes it",
    "start": "132640",
    "end": "139599"
  },
  {
    "text": "harder for someone external to steal your data because if your machine is compromised",
    "start": "139599",
    "end": "145680"
  },
  {
    "text": "and your logged on account has access to production data then whoever compromised your machine",
    "start": "145680",
    "end": "151280"
  },
  {
    "text": "has compromised your entire production data and you don't really want that either",
    "start": "151280",
    "end": "156400"
  },
  {
    "text": "so it's not enough it doesn't want to you don't want to be enough to compromise your machine",
    "start": "156400",
    "end": "161519"
  },
  {
    "text": "but you also want them to have to struggle to get further in and it creates this little barrier that",
    "start": "161519",
    "end": "167840"
  },
  {
    "text": "you have to cross whenever you absolutely need access to production helping you get into that mindset of i i",
    "start": "167840",
    "end": "173920"
  },
  {
    "text": "got to be careful here now i'm i'm i'm stepping on live wires here so let's keep this",
    "start": "173920",
    "end": "179760"
  },
  {
    "text": "this nice and tight now one important point",
    "start": "179760",
    "end": "185680"
  },
  {
    "text": "the object here is not to make it impossible to get raw access to production but we",
    "start": "185680",
    "end": "191519"
  },
  {
    "text": "want to make it explicit and we want to make it auditable meaning that we can",
    "start": "191519",
    "end": "196879"
  },
  {
    "text": "see who had access to production and when and we don't want to make it accidental",
    "start": "196879",
    "end": "202080"
  },
  {
    "text": "that's the explicit part now that out of the way let's take a",
    "start": "202080",
    "end": "207120"
  },
  {
    "text": "little bit look into history so traditionally our developer would never",
    "start": "207120",
    "end": "213920"
  },
  {
    "text": "have access to production they would build their little code and they would take the code package it up",
    "start": "213920",
    "end": "220480"
  },
  {
    "text": "and throw it over a wall to someone else working in ops",
    "start": "220480",
    "end": "227360"
  },
  {
    "text": "the operations they would take the code they would follow whatever instructions came along",
    "start": "227360",
    "end": "233200"
  },
  {
    "text": "and they would install it and we would hope that was okay",
    "start": "233200",
    "end": "238640"
  },
  {
    "text": "i once had a contract where they had a weird error that only appeared in production",
    "start": "238720",
    "end": "245439"
  },
  {
    "text": "so i was tasked to figure out what that was and they hadn't really been generous with their logging so i had to go into",
    "start": "245439",
    "end": "251120"
  },
  {
    "text": "the code and try to figure out where this error was in the code even because that",
    "start": "251120",
    "end": "256320"
  },
  {
    "text": "wouldn't it wouldn't it wasn't obvious so we'd go ahead and add some broad log statements try to narrow it down so i",
    "start": "256320",
    "end": "262639"
  },
  {
    "text": "would take i would take the code make some changes",
    "start": "262639",
    "end": "268479"
  },
  {
    "text": "ship it to a developer in another country they would take the code they would",
    "start": "268479",
    "end": "274400"
  },
  {
    "text": "package it and they would ship it to another ops",
    "start": "274400",
    "end": "280560"
  },
  {
    "text": "person in another country who would install it on the server",
    "start": "280560",
    "end": "286720"
  },
  {
    "text": "they would get some logs out of that and they would ship those logs to me and then i could go through the logs and",
    "start": "286800",
    "end": "292320"
  },
  {
    "text": "see oh is this okay and what's what happened here and then the cycle would repeat",
    "start": "292320",
    "end": "297759"
  },
  {
    "text": "i would make more logs more log points okay and it's in this area and so on and so for the narrower",
    "start": "297759",
    "end": "304720"
  },
  {
    "text": "this wasn't very fluid in addition this developer here he quit every day at 1600 that's when he went",
    "start": "304720",
    "end": "310639"
  },
  {
    "text": "home and the ops guy did not i was hired like take whatever overtime you want just get this done",
    "start": "310639",
    "end": "317280"
  },
  {
    "text": "nobody told the developer in the other country that he was supposed to work on this 24 7 but",
    "start": "317280",
    "end": "325600"
  },
  {
    "text": "it didn't really work out that well now almost every developer with like",
    "start": "325600",
    "end": "331280"
  },
  {
    "text": "more than 10 years of experience and often less has a story like this so eventually",
    "start": "331280",
    "end": "336720"
  },
  {
    "text": "culture like devops took hold developers and ops started",
    "start": "336720",
    "end": "343440"
  },
  {
    "text": "working together as a single team and also the self-service cloud arrived",
    "start": "343440",
    "end": "350560"
  },
  {
    "text": "making it super easy for someone to set up an environment before the cloud before the self-serving",
    "start": "350639",
    "end": "356080"
  },
  {
    "text": "public cloud very often if you wanted to put your software on a server",
    "start": "356080",
    "end": "361520"
  },
  {
    "text": "there was weeks of waiting time and you would never get access that server that was okay the server is ready",
    "start": "361520",
    "end": "367919"
  },
  {
    "text": "for you give us the code now the self-service cloud makes it an",
    "start": "367919",
    "end": "374319"
  },
  {
    "text": "orders of magnitude easier for developers to just stand up a complete environment test dev production everything",
    "start": "374319",
    "end": "382000"
  },
  {
    "text": "and in my experience both of these things have radically increased the number of developers",
    "start": "382000",
    "end": "387520"
  },
  {
    "text": "that has access to a production environment so there's been a shift here and let's be honest most of us",
    "start": "387520",
    "end": "395680"
  },
  {
    "text": "at the time at least were super happy to be able to push straight to production without talking to ops or security",
    "start": "395680",
    "end": "403520"
  },
  {
    "text": "now there's problems with this one of the problems is that working with",
    "start": "404479",
    "end": "411680"
  },
  {
    "text": "access to production makes you vulnerable",
    "start": "411680",
    "end": "415840"
  },
  {
    "text": "it's a higher risk of mistakes it's a higher risk of theft so you expose yourself",
    "start": "418160",
    "end": "425280"
  },
  {
    "text": "much more when you have access to production",
    "start": "425280",
    "end": "429120"
  },
  {
    "text": "the consequences are bigger so if you compromise a client",
    "start": "430720",
    "end": "437599"
  },
  {
    "text": "machine it will equal a compromise of a production system which is not particularly good and also",
    "start": "437599",
    "end": "445919"
  },
  {
    "text": "the problem is blame if you don't have access to production then you can't be blamed for",
    "start": "445919",
    "end": "452479"
  },
  {
    "text": "mistakes happening in production so it's sort of like a preventive maintenance on your own path",
    "start": "452479",
    "end": "458720"
  },
  {
    "text": "so you figured out that okay maybe i shouldn't have access to production how can i still get my job done in a",
    "start": "458720",
    "end": "466160"
  },
  {
    "text": "relatively easy fashion well there's we're going to discuss some",
    "start": "466160",
    "end": "472479"
  },
  {
    "text": "solutions and some techniques that can be used to make things a little bit easier",
    "start": "472479",
    "end": "479840"
  },
  {
    "text": "so and sometimes you actually need access to production there's no other way around you have to",
    "start": "480400",
    "end": "486639"
  },
  {
    "text": "go in and do stuff and how how can we do this in a secure and auditable so the first thing you",
    "start": "486639",
    "end": "492479"
  },
  {
    "text": "want to do is that you want to set up a super user",
    "start": "492479",
    "end": "496639"
  },
  {
    "text": "also known as the emergency",
    "start": "498560",
    "end": "502160"
  },
  {
    "text": "admin the emergency admin or your super user is the ultimate failsafe and this is",
    "start": "504840",
    "end": "511520"
  },
  {
    "text": "account that you should set up as the owner of everything very often when you set up a public",
    "start": "511520",
    "end": "518320"
  },
  {
    "text": "cloud solution you become the owner of everything so and that's not ideal so don't use your own account to",
    "start": "518320",
    "end": "526480"
  },
  {
    "text": "set up services use your super user account to set up services and become the admin and the owner of these things",
    "start": "526480",
    "end": "533760"
  },
  {
    "text": "you want to be careful with the mfa the multi-factor authentication",
    "start": "533760",
    "end": "539200"
  },
  {
    "text": "you should consider protecting with an mfa but it should be an mfa that is not tied to a particular person",
    "start": "539200",
    "end": "546160"
  },
  {
    "text": "for instance if the mfa on the super user is your phone and you decide one day i'm going to join",
    "start": "546160",
    "end": "552800"
  },
  {
    "text": "the circus your company is screwed because they can't log into the super user and you",
    "start": "552800",
    "end": "558560"
  },
  {
    "text": "left with your other account that was also super so you want to there's hardware mfas hardware keys that",
    "start": "558560",
    "end": "565600"
  },
  {
    "text": "you can use to protect the account which can be stored at the company location",
    "start": "565600",
    "end": "570800"
  },
  {
    "text": "um and sometimes you want to not have an mfa on that particular super user as well",
    "start": "570800",
    "end": "576480"
  },
  {
    "text": "to make sure that you can log in either even if catastrophe has happened your office is",
    "start": "576480",
    "end": "582560"
  },
  {
    "text": "decimated your building is gone your account manager left and so on and so forth",
    "start": "582560",
    "end": "591839"
  },
  {
    "text": "the thing with the super user is not only should you use this in emergencies and only emergencies the",
    "start": "592320",
    "end": "598959"
  },
  {
    "text": "goal is to never have to use this account but it is the escape patch for the company if something happens to whoever",
    "start": "598959",
    "end": "605279"
  },
  {
    "text": "has able are able to get access now this account should be audited like mad",
    "start": "605279",
    "end": "613760"
  },
  {
    "text": "you should set up logging for when this account is logged on and you should set up alerting",
    "start": "616240",
    "end": "623360"
  },
  {
    "text": "when this account is logged on when this account is logged on you and someone else should always get an email",
    "start": "625600",
    "end": "630720"
  },
  {
    "text": "notifying that someone logged into our super user account",
    "start": "630720",
    "end": "635519"
  },
  {
    "text": "and then you go that's not supposed to happen and you can do something about that",
    "start": "636160",
    "end": "642959"
  },
  {
    "text": "so we set up that you're not the owner of anything anymore you can still assign permissions to yourself if you want to but we can also assign",
    "start": "642959",
    "end": "650160"
  },
  {
    "text": "permissions to other users so that's the whole trick here that we remove our permissions",
    "start": "650160",
    "end": "656079"
  },
  {
    "text": "and we add permissions to some services now what do we do as developers well we",
    "start": "656079",
    "end": "662079"
  },
  {
    "text": "create code this code goes into production",
    "start": "662079",
    "end": "667360"
  },
  {
    "text": "instead of doing that work ourselves or handing it to another person do it we can have the machines do it",
    "start": "667360",
    "end": "674880"
  },
  {
    "text": "we do that through a cicd environment continuous integration continues",
    "start": "674880",
    "end": "680480"
  },
  {
    "text": "deployment continuous integration is the system that when you check your code into",
    "start": "680480",
    "end": "686000"
  },
  {
    "text": "source control for instance github it will detect oh something went into source control there's a new version",
    "start": "686000",
    "end": "692000"
  },
  {
    "text": "i'll take the code and i'll build it which is the ci server the continuous integration",
    "start": "692000",
    "end": "698079"
  },
  {
    "text": "then it will pass that on to a deployment system now we use the term continuous deployment but it doesn't have to be",
    "start": "698079",
    "end": "704079"
  },
  {
    "text": "continuous it can be shipped over to a release system and it can be a manual thing",
    "start": "704079",
    "end": "710240"
  },
  {
    "text": "where you can say okay i want this version going to production but what happens then is that this",
    "start": "710240",
    "end": "716240"
  },
  {
    "text": "machine here takes your code and deploys it",
    "start": "716240",
    "end": "722000"
  },
  {
    "text": "to production it's no longer you that does it and this machine can have an identity",
    "start": "722000",
    "end": "729360"
  },
  {
    "text": "which has permissions in your production environment so you can give that service that which",
    "start": "729360",
    "end": "735360"
  },
  {
    "text": "you use for deployment access to your production environment and push the code",
    "start": "735360",
    "end": "740560"
  },
  {
    "text": "to it so now you don't you don't have to have permissions to push the code anywhere",
    "start": "740560",
    "end": "746560"
  },
  {
    "text": "so that's your code but what about your infrastructure",
    "start": "746560",
    "end": "751760"
  },
  {
    "text": "setting up services one of these one of that and so on and so forth it is in the public cloud platforms",
    "start": "752079",
    "end": "759519"
  },
  {
    "text": "it is really easy to go in and just right click click this click the plus new web server",
    "start": "759519",
    "end": "764560"
  },
  {
    "text": "new app new container new kubernetes suddenly four clicks and you created your own private cloud in another cloud",
    "start": "764560",
    "end": "772480"
  },
  {
    "text": "and while that is super easy we also like to have some control here",
    "start": "772480",
    "end": "780560"
  },
  {
    "text": "and scripting your deployments is a good thing whether you're doing",
    "start": "780560",
    "end": "785680"
  },
  {
    "text": "this or not because then it's repeatable it's documentable you can tell what you had at which time and so forth",
    "start": "785680",
    "end": "791839"
  },
  {
    "text": "so we have the the infrastructure s code is a concept where you describe your",
    "start": "791839",
    "end": "798839"
  },
  {
    "text": "infrastructure in a machine readable language sometimes a proper programming language sometimes",
    "start": "798839",
    "end": "804720"
  },
  {
    "text": "in a json or yaml file you could use stuff like if you're in",
    "start": "804720",
    "end": "811279"
  },
  {
    "text": "azure which most of my examples are going to be from because azure is the one i'm most familiar with and actually",
    "start": "811279",
    "end": "816959"
  },
  {
    "text": "you can use arm templates which is out of the box built is one of the things supplied by microsoft",
    "start": "816959",
    "end": "822560"
  },
  {
    "text": "we use pollumi terraform many people use where you can describe your environment",
    "start": "822560",
    "end": "828639"
  },
  {
    "text": "i want one of these connected to one of that i want one of these and so on and so forth and you can also give this to your cicd",
    "start": "828639",
    "end": "836800"
  },
  {
    "text": "system which will deploy your environment or update your environment if you remove a service from the",
    "start": "836800",
    "end": "843360"
  },
  {
    "text": "infrastructureist code which ejected the source control along with your normal source code",
    "start": "843360",
    "end": "849279"
  },
  {
    "text": "remove a resource it gets removed and so on as added resource it gets added again you're not doing it anymore the",
    "start": "849279",
    "end": "856160"
  },
  {
    "text": "cic this cicd system is doing it",
    "start": "856160",
    "end": "860399"
  },
  {
    "text": "so but then we have people making the code",
    "start": "861680",
    "end": "869279"
  },
  {
    "text": "so here's another way i get malicious code or if i'm uh have an unfaithful servant or an unfaithful employee in my company",
    "start": "869279",
    "end": "876880"
  },
  {
    "text": "they can create malicious code that will extract data and ship it somewhere else so we need some kind of failsafe some",
    "start": "876880",
    "end": "883199"
  },
  {
    "text": "kind of control here as well and we usually do this by adding",
    "start": "883199",
    "end": "888480"
  },
  {
    "text": "a step before the code goes into production by having some kind of code review",
    "start": "888480",
    "end": "899839"
  },
  {
    "text": "and then we have to be two people to look at the code to approve it to go into production",
    "start": "899839",
    "end": "905360"
  },
  {
    "text": "environment so that creates a situation where it's really hard for one person",
    "start": "905360",
    "end": "911040"
  },
  {
    "text": "to add malicious code that puts the malicious code into the production environment there's a check there and",
    "start": "911040",
    "end": "917199"
  },
  {
    "text": "saying okay you made some code let's go over it and normally code reviews the main purpose of code reviews is not",
    "start": "917199",
    "end": "923279"
  },
  {
    "text": "checking on someone else it is to learn and get",
    "start": "923279",
    "end": "928720"
  },
  {
    "text": "broaden the knowledge and the collective knowledge of your code base but it is also a failsafe of what's going in",
    "start": "928720",
    "end": "935360"
  },
  {
    "text": "here what's going into our system there's another pair of eyes on it basically",
    "start": "935360",
    "end": "940639"
  },
  {
    "text": "and that also has to do with security because sometimes developers makes mistakes and we say oh",
    "start": "940639",
    "end": "946560"
  },
  {
    "text": "actually that code is not you're doing something here that is not secure let's fix that up",
    "start": "946560",
    "end": "955839"
  },
  {
    "text": "so make sure that you're not pushing the code in the machines are doing it",
    "start": "957440",
    "end": "962560"
  },
  {
    "text": "now when the machine when the code is in the system you often have systems",
    "start": "962560",
    "end": "968399"
  },
  {
    "text": "talking to other systems and in here they have secrets",
    "start": "968399",
    "end": "974560"
  },
  {
    "text": "they have connection strings to databases they have keys for external services",
    "start": "975120",
    "end": "980240"
  },
  {
    "text": "and so on and so forth passwords for databases is a huge problem and it's really easy",
    "start": "980240",
    "end": "985519"
  },
  {
    "text": "for people to set up a connection string make a user in the sql server get a password put it in there",
    "start": "985519",
    "end": "991839"
  },
  {
    "text": "what you've done when you do that is often you've given every developer access to your database because the",
    "start": "991839",
    "end": "1000160"
  },
  {
    "text": "username and password will often float around it can often be available if someone goes in and looks at the",
    "start": "1000160",
    "end": "1005360"
  },
  {
    "text": "settings and so on and so forth so one of the tricks you can do to remove secrets",
    "start": "1005360",
    "end": "1012399"
  },
  {
    "text": "is not rely on secret strings but rely on identities instead",
    "start": "1012399",
    "end": "1017920"
  },
  {
    "text": "so you can have your app run as an identity it runs as a user",
    "start": "1017920",
    "end": "1025839"
  },
  {
    "text": "in azure this can be if you're on a local network you can be a local user it can be a domain user in",
    "start": "1025919",
    "end": "1032640"
  },
  {
    "text": "your local network in azure there's something called an msi a managed system identity",
    "start": "1032640",
    "end": "1039600"
  },
  {
    "text": "which is a user in active directory that can be assigned created managed by",
    "start": "1039600",
    "end": "1044959"
  },
  {
    "text": "the system azure and assigned to your application and then you can have this msi",
    "start": "1044959",
    "end": "1052960"
  },
  {
    "text": "can get permissions to a database for instance",
    "start": "1052960",
    "end": "1057840"
  },
  {
    "text": "that way the connection stream doesn't have any secrets it doesn't have any usernames it just says access this database and in your code",
    "start": "1058880",
    "end": "1067360"
  },
  {
    "text": "you say access this database and add a token for my user which is the logged on user for the app",
    "start": "1067360",
    "end": "1074400"
  },
  {
    "text": "which is the msi which you don't have control over the msi can be",
    "start": "1074400",
    "end": "1081280"
  },
  {
    "text": "defined also as part of the infrastructure as code so there's no secrets for the msi you",
    "start": "1081280",
    "end": "1087039"
  },
  {
    "text": "just tell in azure for instance when you set up a a service you said",
    "start": "1087039",
    "end": "1092480"
  },
  {
    "text": "manage system identity type manage system and it's created",
    "start": "1092480",
    "end": "1099600"
  },
  {
    "text": "sometimes there's secrets we can't get out of then you can use services like keyword",
    "start": "1101039",
    "end": "1109840"
  },
  {
    "text": "it's a particular azure service then keyboard but the concept is the same and it exists in many forms",
    "start": "1110320",
    "end": "1115840"
  },
  {
    "text": "which is a sort of insecure environment where secrets are stored",
    "start": "1115840",
    "end": "1121360"
  },
  {
    "text": "and then you have you can take your msi and you can grant it permissions",
    "start": "1121360",
    "end": "1128160"
  },
  {
    "text": "to read secrets from the key vault and the keyword contains the secrets and it can also contain certificates",
    "start": "1128160",
    "end": "1134080"
  },
  {
    "text": "certificates are really good with the keyboard because you can send stuff to the keyword get it signed by the keyword",
    "start": "1134080",
    "end": "1140799"
  },
  {
    "text": "and then get it back signed by the certificate which means the certificate never leaves",
    "start": "1140799",
    "end": "1146880"
  },
  {
    "text": "the keyword and the key wall so what do we do we just move security series from one place",
    "start": "1146880",
    "end": "1152720"
  },
  {
    "text": "to another well the key wall can be audited separately and can be given permission separately",
    "start": "1152720",
    "end": "1159520"
  },
  {
    "text": "so you can have a stricter sense of permissions in the key vault than you do on your app",
    "start": "1159520",
    "end": "1166160"
  },
  {
    "text": "so again your code doesn't have any secrets your web server doesn't have any secrets",
    "start": "1166640",
    "end": "1172240"
  },
  {
    "text": "but it says when i need a secret i'll go to the key world and get it then by that time the secret is in the",
    "start": "1172240",
    "end": "1178000"
  },
  {
    "text": "code if you write code that spits out the secret yes you do but that's why we have code reviews well we don't do that",
    "start": "1178000",
    "end": "1185600"
  },
  {
    "text": "you can also have when you need secrets uh and you can create them yourself you",
    "start": "1186000",
    "end": "1192080"
  },
  {
    "text": "can have secrets auto-generated as part of the infrastructures code so it can says create a key vault create",
    "start": "1192080",
    "end": "1198320"
  },
  {
    "text": "a web server generate a random secret put it into key vault",
    "start": "1198320",
    "end": "1203679"
  },
  {
    "text": "and point and your code points to that item so that way the secret is never",
    "start": "1203679",
    "end": "1209280"
  },
  {
    "text": "created never seen by human eyes it is just created as the application is deployed",
    "start": "1209280",
    "end": "1216320"
  },
  {
    "text": "in azure and we're in most cases you have some kind of security boundary in azure",
    "start": "1218720",
    "end": "1224559"
  },
  {
    "text": "it's called a resource group this is where you often want to set permissions you also",
    "start": "1224559",
    "end": "1231200"
  },
  {
    "text": "have an another layer on top of that which is the subscription",
    "start": "1231200",
    "end": "1238000"
  },
  {
    "text": "normally you'd set permissions on one of these levels saying that i have access where i don't have access",
    "start": "1239200",
    "end": "1244720"
  },
  {
    "text": "to to this area so you'll have either a separate subscription for your production environment or you'll have a separate",
    "start": "1244720",
    "end": "1250080"
  },
  {
    "text": "resource group for your environment then you have a bunch of stuff happening in here and one of the things you should",
    "start": "1250080",
    "end": "1257360"
  },
  {
    "text": "consider is shipping logs outside of your security boundary",
    "start": "1257360",
    "end": "1266399"
  },
  {
    "text": "that makes it when you have troubles in production getting access to the logs files is",
    "start": "1267120",
    "end": "1272960"
  },
  {
    "text": "really really helpful it will cut down on your downtime",
    "start": "1272960",
    "end": "1278080"
  },
  {
    "text": "significantly you have to be careful though you have to make sure that you don't push out",
    "start": "1278080",
    "end": "1284400"
  },
  {
    "text": "information that shouldn't be there so you have to be careful what you're logging this is particularly true with personal",
    "start": "1284400",
    "end": "1289760"
  },
  {
    "text": "identifiable information which you do not really want in your log files",
    "start": "1289760",
    "end": "1295120"
  },
  {
    "text": "because then you have a problem with the access and storage and retrievable and the",
    "start": "1295120",
    "end": "1302159"
  },
  {
    "text": "retention of this personal identifiable information so that opens up a whole kind of room so",
    "start": "1302159",
    "end": "1307440"
  },
  {
    "text": "you do not really want so do not write p personal identifiable information to your log files",
    "start": "1307440",
    "end": "1313760"
  },
  {
    "text": "and here we can also grant individual access to the log files on the log system saying that only these",
    "start": "1313760",
    "end": "1320720"
  },
  {
    "text": "these people are allowed to have access to the log files so you can narrow the scope of who",
    "start": "1320720",
    "end": "1325760"
  },
  {
    "text": "gets access and they only get access to the log files not the actual",
    "start": "1325760",
    "end": "1331039"
  },
  {
    "text": "system or the actual data",
    "start": "1331039",
    "end": "1334720"
  },
  {
    "text": "now one other thing when we're creating applications that we",
    "start": "1337520",
    "end": "1343440"
  },
  {
    "text": "often need to change is configuration we want to set a",
    "start": "1343440",
    "end": "1348480"
  },
  {
    "text": "setting we want to add code we want to turn stuff on and off and we can use external services for",
    "start": "1348480",
    "end": "1355039"
  },
  {
    "text": "that there's two things one is application",
    "start": "1355039",
    "end": "1360320"
  },
  {
    "text": "configuration the config settings of your application",
    "start": "1360320",
    "end": "1367039"
  },
  {
    "text": "they too can be stored outside your application so there's services for uh in azure",
    "start": "1367280",
    "end": "1374799"
  },
  {
    "text": "there's something called application configuration and there's lots of other services that will do the same thing where your service will when it starts",
    "start": "1374799",
    "end": "1382559"
  },
  {
    "text": "up would go to the config service get whatever it needs and take it back",
    "start": "1382559",
    "end": "1390640"
  },
  {
    "text": "now one of the things we often want to do is to change the configuration while the app is running",
    "start": "1390640",
    "end": "1396000"
  },
  {
    "text": "a common scenario is changing log levels so you we're having a problem in",
    "start": "1396000",
    "end": "1401520"
  },
  {
    "text": "production and we want to change the level of what information is logged we don't",
    "start": "1401520",
    "end": "1407120"
  },
  {
    "text": "we no longer want to log only errors we want to log warnings we want to log information we want to log debug",
    "start": "1407120",
    "end": "1413600"
  },
  {
    "text": "messages there's different levels here now what you can do",
    "start": "1413600",
    "end": "1418720"
  },
  {
    "text": "what people often do is that they go into production environment to find the server they find the configuration settings",
    "start": "1418720",
    "end": "1424400"
  },
  {
    "text": "change one setting restart the web server and off it goes",
    "start": "1424400",
    "end": "1429520"
  },
  {
    "text": "moving your configuration outside the security boundary enables you to go here and change the",
    "start": "1429520",
    "end": "1436159"
  },
  {
    "text": "setting and application configuration and other",
    "start": "1436159",
    "end": "1441200"
  },
  {
    "text": "services as well they often have a client running on the",
    "start": "1441200",
    "end": "1447919"
  },
  {
    "text": "on your app server that will periodically refresh the configuration",
    "start": "1447919",
    "end": "1453520"
  },
  {
    "text": "data so say you set it up to every five minutes it will refresh the",
    "start": "1453520",
    "end": "1458640"
  },
  {
    "text": "configuration data you make a change wait on average two",
    "start": "1458640",
    "end": "1464320"
  },
  {
    "text": "and a half minutes it retrieves the new set and updates the configuration",
    "start": "1464320",
    "end": "1470000"
  },
  {
    "text": "and you're good to go now you're logging at a much higher level of detail which",
    "start": "1470000",
    "end": "1476720"
  },
  {
    "text": "is shipped off to an external service where you can see what's going on in",
    "start": "1476720",
    "end": "1483120"
  },
  {
    "text": "your production environment without having access to the actual production environment",
    "start": "1483120",
    "end": "1489279"
  },
  {
    "text": "this can also happen with keyword secrets where you can go and update keyword if",
    "start": "1491679",
    "end": "1498799"
  },
  {
    "text": "you're running application configuration uh it can't be integrated with keywords where on app config you can have a",
    "start": "1498799",
    "end": "1506559"
  },
  {
    "text": "setting that is actually a pointer to a keyword setting",
    "start": "1506559",
    "end": "1511679"
  },
  {
    "text": "where the service will not get the keyboard setting from app config it will say it will just get a pointer",
    "start": "1511679",
    "end": "1516960"
  },
  {
    "text": "and then we'll go to it will go to key vault and collect it",
    "start": "1516960",
    "end": "1521840"
  },
  {
    "text": "so these things can again work in harmony",
    "start": "1522960",
    "end": "1529840"
  },
  {
    "text": "so now we have your system is running you get your code you write your code",
    "start": "1532720",
    "end": "1539760"
  },
  {
    "text": "you have it reviewed by someone else so everyone knows what's going in we share knowledge",
    "start": "1539760",
    "end": "1545440"
  },
  {
    "text": "of what's happening we also have a checkpoint there saying that no bad code is going into production environment",
    "start": "1545440",
    "end": "1551919"
  },
  {
    "text": "the code is deployed if there's infrastructure code then",
    "start": "1551919",
    "end": "1558480"
  },
  {
    "text": "resources or sources are created or torn down the code is deployed the code",
    "start": "1558480",
    "end": "1564080"
  },
  {
    "text": "is upgraded and it starts and runs we don't have any",
    "start": "1564080",
    "end": "1569919"
  },
  {
    "text": "secrets floating around uh all provisions are by identity",
    "start": "1569919",
    "end": "1574960"
  },
  {
    "text": "so they the application has access to the database for instance or",
    "start": "1574960",
    "end": "1580159"
  },
  {
    "text": "has access to key vault or has access to application configuration you know the either of these things all",
    "start": "1580159",
    "end": "1587760"
  },
  {
    "text": "these to remove the need of passwords and strings and connection strings if we're",
    "start": "1587760",
    "end": "1595600"
  },
  {
    "text": "using talking between machines we can use the same concept of uh the application that one",
    "start": "1596159",
    "end": "1604080"
  },
  {
    "text": "machine runs under can get access to the application uh on another machine based on their",
    "start": "1604080",
    "end": "1610840"
  },
  {
    "text": "identities and we have moved configuration out so",
    "start": "1610840",
    "end": "1616720"
  },
  {
    "text": "we don't need access to production to change those things and we have moved secrets out the ones we need so we don't need access to production to do anything",
    "start": "1616720",
    "end": "1622960"
  },
  {
    "text": "with those things and then sometimes you really need",
    "start": "1622960",
    "end": "1629760"
  },
  {
    "text": "access i talked about the re the security",
    "start": "1629760",
    "end": "1636000"
  },
  {
    "text": "boundaries resource groups and subscriptions other systems other clouds have similar concepts just named",
    "start": "1636000",
    "end": "1642159"
  },
  {
    "text": "differently but there are security boundaries what we want is a way to get access to",
    "start": "1642159",
    "end": "1649039"
  },
  {
    "text": "those security boundaries in uh auditable explicit fashion",
    "start": "1649039",
    "end": "1656240"
  },
  {
    "text": "it is not okay just to add yourself as an owner or or be an owner and i'm not going to go",
    "start": "1656240",
    "end": "1662720"
  },
  {
    "text": "in i'm not going to use it whatever azure has a solution for this called",
    "start": "1662720",
    "end": "1669279"
  },
  {
    "text": "privileged identity management",
    "start": "1669279",
    "end": "1672880"
  },
  {
    "text": "privileged identity management is a whole sort of suite of things but the ones that are particularly interesting",
    "start": "1677679",
    "end": "1682720"
  },
  {
    "text": "for us is just in time assignment",
    "start": "1682720",
    "end": "1689200"
  },
  {
    "text": "of roles",
    "start": "1691840",
    "end": "1697840"
  },
  {
    "text": "so in azure there's a bunch of roles and this extends to office 365 the whole",
    "start": "1697919",
    "end": "1703600"
  },
  {
    "text": "that whole thing as well uh so there's a bunch of roles that are allowed to do specific things",
    "start": "1703600",
    "end": "1708799"
  },
  {
    "text": "for instance on a resource group there's a role called contributor",
    "start": "1708799",
    "end": "1713840"
  },
  {
    "text": "a contributor can go into resource group and do almost anything without that doesn't involve setting permissions",
    "start": "1713840",
    "end": "1720240"
  },
  {
    "text": "but you can add stuff remove stuff see what's going on and so forth",
    "start": "1720240",
    "end": "1725840"
  },
  {
    "text": "the thing with uh you do with privileged entity management is that you",
    "start": "1726320",
    "end": "1732240"
  },
  {
    "text": "on in advance you set up the roles you want",
    "start": "1732240",
    "end": "1738000"
  },
  {
    "text": "you can make your own custom roles as well saying that this role should have these kinds of admission you can bind",
    "start": "1738000",
    "end": "1743440"
  },
  {
    "text": "some permissions and so forth if you want to make it more granular but",
    "start": "1743440",
    "end": "1749760"
  },
  {
    "text": "let's say the the role of a contributor for a research group",
    "start": "1749760",
    "end": "1756480"
  },
  {
    "text": "now you add in advance saying that okay who is eligible to have this role who can i add",
    "start": "1756480",
    "end": "1764399"
  },
  {
    "text": "who can ask to get this role that's why you're doing pro attention identity management you can go in and say",
    "start": "1764399",
    "end": "1770960"
  },
  {
    "text": "i would like to be the contributor contributor to this particular resource group in",
    "start": "1770960",
    "end": "1776080"
  },
  {
    "text": "azure or i would like to be a contributor to",
    "start": "1776080",
    "end": "1782159"
  },
  {
    "text": "this particular subscription in azure we have to specify in advance who is",
    "start": "1782159",
    "end": "1788720"
  },
  {
    "text": "allowed to ask that question so we set up eligibility",
    "start": "1788720",
    "end": "1795840"
  },
  {
    "text": "so we're saying this role can be asked and we can set a whole bunch of things here saying that okay how long does the",
    "start": "1798159",
    "end": "1803200"
  },
  {
    "text": "eligibility eligibility last so you can say we can assign the the",
    "start": "1803200",
    "end": "1809200"
  },
  {
    "text": "eligibility permission for maybe a year and then after a year it has to be reassigned",
    "start": "1809200",
    "end": "1815679"
  },
  {
    "text": "this is to make sure that you don't have any trailing eligibility running around",
    "start": "1815679",
    "end": "1823279"
  },
  {
    "text": "then i can request access",
    "start": "1823279",
    "end": "1829200"
  },
  {
    "text": "so my user can request",
    "start": "1829840",
    "end": "1836480"
  },
  {
    "text": "request assignment i can request to be assigned this",
    "start": "1836480",
    "end": "1843039"
  },
  {
    "text": "particular role depending on how i set up the eligibility i can request it for a",
    "start": "1843039",
    "end": "1848320"
  },
  {
    "text": "period of time i request it with a start date and end date and saying i would like to have this",
    "start": "1848320",
    "end": "1853760"
  },
  {
    "text": "role from now and two hours",
    "start": "1853760",
    "end": "1858559"
  },
  {
    "text": "again depending on how i set up the role i can do various requirements",
    "start": "1858960",
    "end": "1866320"
  },
  {
    "text": "i can for instance require that you have to re-authenticate with mfa multi-factor authentication",
    "start": "1867760",
    "end": "1874399"
  },
  {
    "text": "saying that if you want to be assigned a role you need to prove again that you are who you are with your",
    "start": "1874399",
    "end": "1881600"
  },
  {
    "text": "mfa which in azure is usually the app on your phone for your account",
    "start": "1881600",
    "end": "1888240"
  },
  {
    "text": "again you can also require approval",
    "start": "1889279",
    "end": "1894240"
  },
  {
    "text": "saying that if someone wants to be assigned this role that has to be approved of someone in",
    "start": "1895919",
    "end": "1903200"
  },
  {
    "text": "this particular group that way you can say you have a checkpoint again saying that nobody can",
    "start": "1903200",
    "end": "1908559"
  },
  {
    "text": "get access willy-nilly there has to be some kind of process here saying oh well actually it has to be good and they also have",
    "start": "1908559",
    "end": "1914480"
  },
  {
    "text": "can be able to can be forced to write a justification and this is all self-service they can go",
    "start": "1914480",
    "end": "1919840"
  },
  {
    "text": "into a web page they'll click i would like to have this role so and so",
    "start": "1919840",
    "end": "1925360"
  },
  {
    "text": "click here justify send",
    "start": "1925360",
    "end": "1930480"
  },
  {
    "text": "you can also not require mfa you can also not require approval saying okay we trust our people these",
    "start": "1930640",
    "end": "1936399"
  },
  {
    "text": "are these are good people you don't have to be approved of access",
    "start": "1936399",
    "end": "1942480"
  },
  {
    "text": "but you can make sure you make sure you it's an explicit action so whenever you",
    "start": "1942480",
    "end": "1948320"
  },
  {
    "text": "want to go into production you go in i want this role and you're granted that role automatically",
    "start": "1948320",
    "end": "1955519"
  },
  {
    "text": "it takes about 30 seconds where the signs to roll waits a little bit and then refreshes your browser",
    "start": "1955519",
    "end": "1960559"
  },
  {
    "text": "and you have that role you are now the owner of that particular resource group or that particular subscription",
    "start": "1960559",
    "end": "1965840"
  },
  {
    "text": "or the contributor what this does it creates",
    "start": "1965840",
    "end": "1974080"
  },
  {
    "text": "an audit log we can see who had got was",
    "start": "1974080",
    "end": "1980320"
  },
  {
    "text": "given access when they were given access what justification they had for that access",
    "start": "1980320",
    "end": "1986880"
  },
  {
    "text": "and we know that when you were given that permission that permission is removed automatically after a set time or if i",
    "start": "1986880",
    "end": "1993840"
  },
  {
    "text": "wanted removed earlier i can go in and just d unassign my assignment",
    "start": "1993840",
    "end": "2000240"
  },
  {
    "text": "i can say i'm done i can deactivate it i don't no longer need access to this",
    "start": "2000240",
    "end": "2006640"
  },
  {
    "text": "that's the whole that's the basics of the p of the privileged identity management",
    "start": "2008000",
    "end": "2013039"
  },
  {
    "text": "tool so then we have again we have our code which is reviewed",
    "start": "2013039",
    "end": "2020720"
  },
  {
    "text": "we have our infra which is also reviewed it goes through a deployment system",
    "start": "2020720",
    "end": "2028880"
  },
  {
    "text": "into a some kind of security boundary for instance a resource group onto our machines",
    "start": "2028880",
    "end": "2036158"
  },
  {
    "text": "now tried stuff that you is not production not sensitive you can ship",
    "start": "2036240",
    "end": "2041679"
  },
  {
    "text": "that out log files you can ask for things from outside your",
    "start": "2041679",
    "end": "2047600"
  },
  {
    "text": "uh subscription or outside your uh resource group where's this config",
    "start": "2047600",
    "end": "2054398"
  },
  {
    "text": "or some things that are inside secrets if you want access",
    "start": "2054879",
    "end": "2063679"
  },
  {
    "text": "your user can have roles now",
    "start": "2063679",
    "end": "2069919"
  },
  {
    "text": "depending on your your situation you might sometimes as have people permanently assigned read",
    "start": "2069919",
    "end": "2075520"
  },
  {
    "text": "writes to your subscription so they can go in and they can see what's going on uh just because they have read access to",
    "start": "2075520",
    "end": "2082000"
  },
  {
    "text": "a subscription doesn't mean that they have um you read access to your data",
    "start": "2082000",
    "end": "2088720"
  },
  {
    "text": "that depends on how your system is set up so you can have users with normally",
    "start": "2088720",
    "end": "2094398"
  },
  {
    "text": "having a reader role",
    "start": "2094399",
    "end": "2102640"
  },
  {
    "text": "and sometimes not at all it's like you have no idea what's in production having uses with a reader role if that",
    "start": "2102640",
    "end": "2108880"
  },
  {
    "text": "is okay with your data is makes it things a lot easier when",
    "start": "2108880",
    "end": "2115280"
  },
  {
    "text": "you're trying to troubleshoot because then you can go in and you can watch logs and stuff like that but it also heightens the risk a little",
    "start": "2115280",
    "end": "2122400"
  },
  {
    "text": "bit of people seeing stuff they shouldn't be seeing especially if you have secrets in configurations",
    "start": "2122400",
    "end": "2128800"
  },
  {
    "text": "um because they are often plain text on the app which is a reason why we move them out of the app and into",
    "start": "2128800",
    "end": "2135280"
  },
  {
    "text": "secret stores like key vault here which can have a separate set of permissions",
    "start": "2135280",
    "end": "2140480"
  },
  {
    "text": "where they are do not have access to read the different secrets",
    "start": "2140480",
    "end": "2145838"
  },
  {
    "text": "and we can use pim to upgrade our roles",
    "start": "2146160",
    "end": "2151200"
  },
  {
    "text": "to uh will give us for instance the contributor",
    "start": "2151440",
    "end": "2159839"
  },
  {
    "text": "permission now it's important now to figure out why do i need access to production",
    "start": "2159839",
    "end": "2167680"
  },
  {
    "text": "in our cases a lot of the reasons why we have needed access to production was because the data in production",
    "start": "2167680",
    "end": "2175520"
  },
  {
    "text": "didn't make sense now i work at a small law tech startup",
    "start": "2175520",
    "end": "2182079"
  },
  {
    "text": "called justify and we have a lot of really personal data people could make put in information to generate",
    "start": "2182079",
    "end": "2190079"
  },
  {
    "text": "their testaments will they have cohabitation contracts now we're doing living wills",
    "start": "2190079",
    "end": "2195280"
  },
  {
    "text": "and there's a lot of really personal and sensitive information and information that is just basic",
    "start": "2195280",
    "end": "2201599"
  },
  {
    "text": "personal it's uh when people write their wills they can add",
    "start": "2201599",
    "end": "2206640"
  },
  {
    "text": "messages to their uh loved ones from behind and that's not really any",
    "start": "2206640",
    "end": "2211680"
  },
  {
    "text": "information that we should be reading at all there's no technical reason why we should read that information",
    "start": "2211680",
    "end": "2218240"
  },
  {
    "text": "so what we've done is that we made it easier and more privacy friendly to do",
    "start": "2218240",
    "end": "2225920"
  },
  {
    "text": "some of the things that we need to do because sometimes we'll get bugs in production that has to do with the",
    "start": "2225920",
    "end": "2231760"
  },
  {
    "text": "way the data is shaped the information the user put in",
    "start": "2231760",
    "end": "2237040"
  },
  {
    "text": "makes another step break so we have uh an admin system",
    "start": "2237040",
    "end": "2246320"
  },
  {
    "text": "that can read will be simplified but you can read some data",
    "start": "2247040",
    "end": "2253359"
  },
  {
    "text": "now our lawyers have access to the admin system because they need that to do their jobs",
    "start": "2253359",
    "end": "2258720"
  },
  {
    "text": "and they're able to see most of this data and some of it is hidden from even from them because no human in our company needs to see",
    "start": "2258720",
    "end": "2266560"
  },
  {
    "text": "that information but they also have uh oh",
    "start": "2266560",
    "end": "2271680"
  },
  {
    "text": "now we're on rainbow colors um",
    "start": "2271680",
    "end": "2277359"
  },
  {
    "text": "we also have a function to copy the technical part of the state",
    "start": "2282560",
    "end": "2287599"
  },
  {
    "text": "of someone's will and then use that in for troubleshooting",
    "start": "2287599",
    "end": "2294240"
  },
  {
    "text": "so we can see a version where the all the sensor data is removed and all the personal data is not",
    "start": "2294240",
    "end": "2302079"
  },
  {
    "text": "in the document and we can ship that off to a developer and see what's going on here",
    "start": "2302079",
    "end": "2308720"
  },
  {
    "text": "this is all this is a manual process but it's done through a tool that again we audit",
    "start": "2309119",
    "end": "2317040"
  },
  {
    "text": "so acts data access here is logged",
    "start": "2317040",
    "end": "2322640"
  },
  {
    "text": "so we can see who had who went into this customer who viewed that customer data and",
    "start": "2323359",
    "end": "2330400"
  },
  {
    "text": "took some data out of it and what was taken out we don't log what was taken out but we",
    "start": "2330400",
    "end": "2335599"
  },
  {
    "text": "in all the data but we log what happened to it so we can build these tools",
    "start": "2335599",
    "end": "2343520"
  },
  {
    "text": "that will grant us access to things we often need without having",
    "start": "2343520",
    "end": "2350079"
  },
  {
    "text": "to open the whole all the doors and letting a developer in straight to the database and go",
    "start": "2350079",
    "end": "2355680"
  },
  {
    "text": "through everything because then it heightens the risk right if you let someone in the database",
    "start": "2355680",
    "end": "2361760"
  },
  {
    "text": "suddenly they're writing database commands in the wrong window and they've deleted the entire your entire production database",
    "start": "2361760",
    "end": "2368400"
  },
  {
    "text": "we also have some other cases where we have a more technical need we get some",
    "start": "2368400",
    "end": "2375839"
  },
  {
    "text": "requests for related to subscriptions and stuff like that we",
    "start": "2375839",
    "end": "2382000"
  },
  {
    "text": "haven't really made a good business interface from for but we'll sometimes make",
    "start": "2382000",
    "end": "2390160"
  },
  {
    "text": "let's say let's call it a tech admin",
    "start": "2390160",
    "end": "2395920"
  },
  {
    "text": "pages where we have some tasks that are specifically technical support",
    "start": "2395920",
    "end": "2402160"
  },
  {
    "text": "where we can like yeah you have to know what you're doing in order to understand what's coming out",
    "start": "2402160",
    "end": "2407839"
  },
  {
    "text": "but the tool prevents us from doing something really bad these are tasks that they're not big",
    "start": "2407839",
    "end": "2414400"
  },
  {
    "text": "enough and we don't want to invest enough to make a nice fancy interface for it for our lawyers but we can make it quick and dirty",
    "start": "2414400",
    "end": "2421200"
  },
  {
    "text": "doesn't look good at all but it gives us the exact information we need and nothing more",
    "start": "2421200",
    "end": "2427599"
  },
  {
    "text": "for our technical people so our developers can go in and say okay i need to look at what exactly what",
    "start": "2427599",
    "end": "2434800"
  },
  {
    "text": "subscription type this person has and we can see that here and okay there he goes yeah okay great",
    "start": "2434800",
    "end": "2440640"
  },
  {
    "text": "we need to some kind of process that we have to do that is a technical thing is not a",
    "start": "2440640",
    "end": "2446480"
  },
  {
    "text": "really a business kind of thing it's not for our lawyers then we made our own make",
    "start": "2446480",
    "end": "2452000"
  },
  {
    "text": "our own process with that and make sure that we can do it safely securely and auditable",
    "start": "2452000",
    "end": "2460560"
  },
  {
    "text": "again back to the original point the point here is not to make sure that you can never do anything in production",
    "start": "2460560",
    "end": "2466880"
  },
  {
    "text": "the point is to make it explicit make it safer and make it auditable so we can see what",
    "start": "2466880",
    "end": "2474720"
  },
  {
    "text": "happened so we have in our case all our all customer reading of customer data",
    "start": "2474720",
    "end": "2482319"
  },
  {
    "text": "is logged so we can go back and see who accessed the data and when today was it accessed",
    "start": "2482319",
    "end": "2489920"
  },
  {
    "text": "now these are sort of uh break the glass tools",
    "start": "2490319",
    "end": "2497680"
  },
  {
    "text": "because we're uh we're opening a little doorway in but again the",
    "start": "2497680",
    "end": "2505200"
  },
  {
    "text": "developer making that code into that tool is also",
    "start": "2505200",
    "end": "2513200"
  },
  {
    "text": "audited in a review",
    "start": "2513200",
    "end": "2516560"
  },
  {
    "text": "a little bit about the practical processes of how we do it so we have",
    "start": "2518800",
    "end": "2526079"
  },
  {
    "text": "coders make code we push it to a github feature branch",
    "start": "2526319",
    "end": "2536160"
  },
  {
    "text": "in order to merge the branch into master or the trunk of the application",
    "start": "2536160",
    "end": "2543680"
  },
  {
    "text": "there's a code review which requires approval now in some",
    "start": "2543680",
    "end": "2551200"
  },
  {
    "text": "we have uh some form of trust always and the code in the reviews are",
    "start": "2551200",
    "end": "2558079"
  },
  {
    "text": "allowed in situations where there is less trust",
    "start": "2558079",
    "end": "2563760"
  },
  {
    "text": "you can use instead of github you can use stuff like azure repos where you can actually set permissions on the branches",
    "start": "2563760",
    "end": "2570560"
  },
  {
    "text": "and you can make it much clearer who has access or not but we can also not be an admin on",
    "start": "2570560",
    "end": "2578560"
  },
  {
    "text": "github and not be able to force merge something in without approval",
    "start": "2578560",
    "end": "2584160"
  },
  {
    "text": "so there's ways of setting up we haven't done that but you can make it more make a stricter if",
    "start": "2584160",
    "end": "2590560"
  },
  {
    "text": "you want code that goes into master goes into ci",
    "start": "2590560",
    "end": "2595760"
  },
  {
    "text": "cd and gets deployed",
    "start": "2595760",
    "end": "2600880"
  },
  {
    "text": "in our case into azure we also",
    "start": "2600880",
    "end": "2606720"
  },
  {
    "text": "not only have application code we use",
    "start": "2606720",
    "end": "2611440"
  },
  {
    "text": "gloomy scripts which is infrastructure as code which again goes into the ci cd and is",
    "start": "2611839",
    "end": "2619040"
  },
  {
    "text": "used to set up the environment so that will set up whatever web roles whatever storage whatever key walls whatever",
    "start": "2619040",
    "end": "2626319"
  },
  {
    "text": "services we need to have now in azure we have",
    "start": "2626319",
    "end": "2634640"
  },
  {
    "text": "uh log files are shipped to application insights which can be",
    "start": "2634640",
    "end": "2641359"
  },
  {
    "text": "outside the security boundary",
    "start": "2641359",
    "end": "2649838"
  },
  {
    "text": "we have key vault for a bunch of our secrets where the",
    "start": "2650400",
    "end": "2657359"
  },
  {
    "text": "services identity the system manage manage system identity of the service of the application has access to the",
    "start": "2657359",
    "end": "2665280"
  },
  {
    "text": "keyword needs we have app config",
    "start": "2665280",
    "end": "2670560"
  },
  {
    "text": "outside the security boundary that config does not contain any secrets it contains pointers",
    "start": "2671280",
    "end": "2677440"
  },
  {
    "text": "to uh the key vault and here's a thing about key vaults never share key vaults between",
    "start": "2677440",
    "end": "2684319"
  },
  {
    "text": "environments you should never have the same keyword for your developer or test environment",
    "start": "2684319",
    "end": "2689359"
  },
  {
    "text": "as your production environment because these you can't add access you can't grant access to single",
    "start": "2689359",
    "end": "2695680"
  },
  {
    "text": "secrets you can only grant access to a bunch to all the secrets and depending on your configuration you",
    "start": "2695680",
    "end": "2701839"
  },
  {
    "text": "would consider having a separate key vault for separate apps so this app has this cable",
    "start": "2701839",
    "end": "2707359"
  },
  {
    "text": "this app has this key vault or maybe these apps have that cable depending on the level of confidentiality between",
    "start": "2707359",
    "end": "2713520"
  },
  {
    "text": "your apps you need now",
    "start": "2713520",
    "end": "2719839"
  },
  {
    "text": "within a security boundary we should not have common access we have",
    "start": "2724160",
    "end": "2730480"
  },
  {
    "text": "of course data lying around here where we we don't have access directly",
    "start": "2730480",
    "end": "2737680"
  },
  {
    "text": "data we have super users who have access if we need it the roles here",
    "start": "2737680",
    "end": "2745440"
  },
  {
    "text": "have access here what you can also do if you have services that do not support",
    "start": "2745440",
    "end": "2752720"
  },
  {
    "text": "um privileged identity management maybe you have some legacy services",
    "start": "2752720",
    "end": "2757839"
  },
  {
    "text": "maybe have some other kinds of services it is not super hard to make a service",
    "start": "2757839",
    "end": "2764960"
  },
  {
    "text": "running at one identity which has permissions",
    "start": "2764960",
    "end": "2773359"
  },
  {
    "text": "to alter permissions so you can have then you can log on here",
    "start": "2773359",
    "end": "2779440"
  },
  {
    "text": "and you can do the same things that privilege identity management has out of the box but you can do it for the services do not support tim and you",
    "start": "2779440",
    "end": "2786720"
  },
  {
    "text": "can say well i would like to have this permission uh and granted access for one hour and then this identity here",
    "start": "2786720",
    "end": "2796720"
  },
  {
    "text": "which is the this service can go and make that change grant you access and then have a job",
    "start": "2796720",
    "end": "2802960"
  },
  {
    "text": "that cleans up access after so-and-so line it's not a really hard part",
    "start": "2802960",
    "end": "2808160"
  },
  {
    "text": "a hard system to make it can't be used for those cases where you're not able to use privilege",
    "start": "2808160",
    "end": "2813440"
  },
  {
    "text": "identity management for instance if you want to add a use your user",
    "start": "2813440",
    "end": "2820240"
  },
  {
    "text": "permissions in a sql database",
    "start": "2820240",
    "end": "2823839"
  },
  {
    "text": "and then we have admin systems",
    "start": "2825680",
    "end": "2830800"
  },
  {
    "text": "that will read data and show only the data that we actually have a use for",
    "start": "2830800",
    "end": "2837680"
  },
  {
    "text": "now um",
    "start": "2839040",
    "end": "2845839"
  },
  {
    "text": "so the problems here are often that we want to uh get this to get this access",
    "start": "2851119",
    "end": "2858400"
  },
  {
    "text": "right away it it is it feels inconvenient and this is largely a",
    "start": "2858400",
    "end": "2864079"
  },
  {
    "text": "mindset thing it doesn't take long to go in and just",
    "start": "2864079",
    "end": "2869359"
  },
  {
    "text": "use privilege identity management and set it up and it's it's a pretty it's a it's a learning curve with it i'll admit",
    "start": "2869359",
    "end": "2875040"
  },
  {
    "text": "that it it's a lot of things and it's it's not just for azure it's for the entire system of",
    "start": "2875040",
    "end": "2881119"
  },
  {
    "text": "office 365 and azure so it can be reasonably overwhelming but if you spend a day or two with it",
    "start": "2881119",
    "end": "2887440"
  },
  {
    "text": "and figure it out it becomes pretty reasonable to to set up you want to set sound policies",
    "start": "2887440",
    "end": "2895359"
  },
  {
    "text": "on it so that you can um it's easy for people to get the access they need when they need it",
    "start": "2895359",
    "end": "2902240"
  },
  {
    "text": "if you want to have approvals that's uh one thing if you don't have approvals",
    "start": "2902240",
    "end": "2907839"
  },
  {
    "text": "that's also fine depending on your threat model and your security reasoning so",
    "start": "2907839",
    "end": "2916000"
  },
  {
    "text": "um that's my suggestions your on your next actions",
    "start": "2916000",
    "end": "2924079"
  },
  {
    "text": "is to make sure you have a super user",
    "start": "2924079",
    "end": "2929839"
  },
  {
    "text": "again make sure you can it's that is your final emergency escape patch if nothing",
    "start": "2931680",
    "end": "2937359"
  },
  {
    "text": "else can be done if i can't do it with the tools i i've set up i can always go to that and log in as that user",
    "start": "2937359",
    "end": "2944400"
  },
  {
    "text": "and you should have some form of auditing on that you can ship your your logs to azure monitor for",
    "start": "2944400",
    "end": "2949599"
  },
  {
    "text": "instance you can audit an alert on that",
    "start": "2949599",
    "end": "2954559"
  },
  {
    "text": "um use a cd system a continuous deployment",
    "start": "2955280",
    "end": "2961280"
  },
  {
    "text": "system you can include approvals here like i mentioned that it doesn't have to be automatic deployment you can just deploy",
    "start": "2961280",
    "end": "2968559"
  },
  {
    "text": "this now deploy this version now but make sure that your code goes into production untouched by human hands",
    "start": "2968559",
    "end": "2977280"
  },
  {
    "text": "but to set up a review process so that",
    "start": "2977760",
    "end": "2984559"
  },
  {
    "text": "nothing gets in without having at least two pairs of eyes on it",
    "start": "2984559",
    "end": "2990000"
  },
  {
    "text": "get rid of passwords",
    "start": "2991040",
    "end": "2994079"
  },
  {
    "text": "passwords are no identities are yes",
    "start": "2996800",
    "end": "3001280"
  },
  {
    "text": "getting identities instead of passwords very much lowers the risk of having",
    "start": "3004480",
    "end": "3010240"
  },
  {
    "text": "unauthorized access to resources because then you have passwords that are floating about nobody knows who has what",
    "start": "3010240",
    "end": "3016559"
  },
  {
    "text": "in what version use stuff like key vault",
    "start": "3016559",
    "end": "3023119"
  },
  {
    "text": "to keep your passwords and secrets safe the ones you need",
    "start": "3024160",
    "end": "3029039"
  },
  {
    "text": "make sure you have access to log files but watch for personal identifiable",
    "start": "3029359",
    "end": "3034960"
  },
  {
    "text": "information especially and sometimes also depending",
    "start": "3034960",
    "end": "3040160"
  },
  {
    "text": "on system uh business or trade secrets which you don't want",
    "start": "3040160",
    "end": "3045279"
  },
  {
    "text": "look into pmi it is a relatively simple tool once you just",
    "start": "3046480",
    "end": "3053200"
  },
  {
    "text": "get the hang of it and it will dramatically increase the security of your system",
    "start": "3053200",
    "end": "3058559"
  },
  {
    "text": "and the audibility of your your production access",
    "start": "3058559",
    "end": "3063599"
  },
  {
    "text": "right that's what i had for today uh if anyone have uh says why isn't the",
    "start": "3065119",
    "end": "3071680"
  },
  {
    "text": "app config service also within a secure boundary it was a question um good question it's easier",
    "start": "3071680",
    "end": "3079760"
  },
  {
    "text": "it's nothing particularly secret about it we don't have any uh pmi should be pim privileged identity",
    "start": "3079760",
    "end": "3086720"
  },
  {
    "text": "management yes that is true",
    "start": "3086720",
    "end": "3096400"
  },
  {
    "text": "identity management there you go thank you uh app config for us app config is um",
    "start": "3096400",
    "end": "3102800"
  },
  {
    "text": "not particularly secret and also app config has i lost my way we go",
    "start": "3102800",
    "end": "3112319"
  },
  {
    "text": "app config has a nice feature where it can have secret or config settings with the same",
    "start": "3112319",
    "end": "3117839"
  },
  {
    "text": "name but different environments which makes it pretty easy to handle",
    "start": "3117839",
    "end": "3125040"
  },
  {
    "text": "enviro config settings across environments in our model the config settings are not uh",
    "start": "3125040",
    "end": "3133040"
  },
  {
    "text": "useful for um [Music] for uh as a c on the secret level you",
    "start": "3133040",
    "end": "3139920"
  },
  {
    "text": "can't do anything really malicious by uh by changing those uh",
    "start": "3139920",
    "end": "3145359"
  },
  {
    "text": "the worst you can do is create a break in the system",
    "start": "3145359",
    "end": "3150559"
  },
  {
    "text": "um but it's not particularly likely um depending on your your data then uh",
    "start": "3150559",
    "end": "3161359"
  },
  {
    "text": "you might want to put app config in the production environment your mileage may",
    "start": "3161359",
    "end": "3166720"
  },
  {
    "text": "vary another question is minimizing access right and production necessary for gdpr",
    "start": "3166720",
    "end": "3171920"
  },
  {
    "text": "compliance or just good practice yes and or let's say maybe and yes",
    "start": "3171920",
    "end": "3180000"
  },
  {
    "text": "their gdpr has some fluid uh wordings or unspecified wordings",
    "start": "3180000",
    "end": "3187680"
  },
  {
    "text": "uh that you should minimize access to production what that means is context dependent it",
    "start": "3187680",
    "end": "3194240"
  },
  {
    "text": "might mean something for one company and something for another company what i've seen is that people",
    "start": "3194240",
    "end": "3201920"
  },
  {
    "text": "are generally very positively inclined when you say that we don't have access to production environment oh that's nice",
    "start": "3201920",
    "end": "3208960"
  },
  {
    "text": "and it will certainly help you with a gdpr related case",
    "start": "3208960",
    "end": "3216160"
  },
  {
    "text": "it is not necessarily to have no access but there is uh parts of the",
    "start": "3216160",
    "end": "3223680"
  },
  {
    "text": "apr that says you should minimize access so but what does minimize mean",
    "start": "3223680",
    "end": "3230240"
  },
  {
    "text": "where uh if you're for developers is having four people access to",
    "start": "3230240",
    "end": "3235359"
  },
  {
    "text": "production environment have you minimized access um if one has it has you minimize have",
    "start": "3235359",
    "end": "3241200"
  },
  {
    "text": "you minimized it if xero has it then you really minimized it but it also has wordings that would",
    "start": "3241200",
    "end": "3247040"
  },
  {
    "text": "imply that you have to have auditable access so you might wanna",
    "start": "3247040",
    "end": "3252160"
  },
  {
    "text": "i am not a lawyer although i work in a law firm so i'm not gonna give you legal advice on that but um i think it's good practice",
    "start": "3252160",
    "end": "3261280"
  },
  {
    "text": "and it certainly helps with gdpr compliance any other questions",
    "start": "3261280",
    "end": "3268480"
  },
  {
    "text": "i'll hang around in in the slack so you can message me there if you want",
    "start": "3270079",
    "end": "3276240"
  },
  {
    "text": "you can also find me on twitter henriksen uh if that's",
    "start": "3276240",
    "end": "3283359"
  },
  {
    "text": "i'm just going to say thank you for showing up and i hope you have enjoyed the last leg of the ndc and",
    "start": "3283359",
    "end": "3290559"
  },
  {
    "text": "since there was no party yesterday you're all fine and set for a whole day of talks so thank you",
    "start": "3290559",
    "end": "3299520"
  },
  {
    "text": "all right thank you glenn very informative",
    "start": "3300960",
    "end": "3307280"
  },
  {
    "text": "thank you dennis for uh nice words",
    "start": "3307280",
    "end": "3313040"
  },
  {
    "text": "drinks by the way glenn and two i had two bottles of wine so i'm not feeling",
    "start": "3314160",
    "end": "3319200"
  },
  {
    "text": "great well that's on you isn't it it was on me",
    "start": "3319200",
    "end": "3325119"
  },
  {
    "text": "so it's my fault but thank you for a great talk and i love the way it was presented",
    "start": "3325119",
    "end": "3330640"
  },
  {
    "text": "thank you thank you i i was kind of curious how that format would work out so i'm glad you liked it",
    "start": "3330640",
    "end": "3336880"
  },
  {
    "text": "uh i was hoping to make it a i know online conferences and webinars can",
    "start": "3336880",
    "end": "3341920"
  },
  {
    "text": "often get a bit dull with slide after slide after slide so i i was hoping this would mix it up a bit",
    "start": "3341920",
    "end": "3347119"
  },
  {
    "text": "thank you very much have a great rest of the conference you do liam have fun",
    "start": "3347119",
    "end": "3353040"
  },
  {
    "text": "can people unmute themselves or are they forced on you yeah they cannot mute themselves so if",
    "start": "3356880",
    "end": "3362079"
  },
  {
    "text": "anyone wants to ask a question uh then go right ahead and admit yourself but",
    "start": "3362079",
    "end": "3368240"
  },
  {
    "text": "who's on after me in roommate does anyone know yes that is bishwas lele with containers and",
    "start": "3368559",
    "end": "3375119"
  },
  {
    "text": "kubernetes is good if you all hang around and listen to him",
    "start": "3375119",
    "end": "3380319"
  },
  {
    "text": "i don't care what he has to say it's always good",
    "start": "3380319",
    "end": "3384240"
  },
  {
    "text": "another mvp i'm actually i'm not an mvp oh aren't you i i used to be",
    "start": "3386559",
    "end": "3393359"
  },
  {
    "text": "uh and then i did a bunch of other stuff that wasn't mvp-ish um and i was not renewed because i",
    "start": "3393359",
    "end": "3400240"
  },
  {
    "text": "hadn't been active enough in the community you know life happens sometimes yeah",
    "start": "3400240",
    "end": "3408000"
  },
  {
    "text": "and uh i wasn't i was not reviewed and i haven't been on any piece i was in",
    "start": "3408000",
    "end": "3413760"
  },
  {
    "text": "2016 was last year i was an mvp uh",
    "start": "3413760",
    "end": "3421359"
  }
]