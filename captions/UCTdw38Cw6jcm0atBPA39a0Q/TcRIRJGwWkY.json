[
  {
    "text": "all right everybody hear me okay sounds good I think we're right at",
    "start": "560",
    "end": "7000"
  },
  {
    "text": "starting time so we'll go ahead and get started just so we can get you as much useful content as possible today how's",
    "start": "7000",
    "end": "13839"
  },
  {
    "text": "the conference going for everyone so far anyone feeling like you're a a sponge",
    "start": "13839",
    "end": "19800"
  },
  {
    "text": "that's full fully absorbed everything you can yet that happens at the end of",
    "start": "19800",
    "end": "25160"
  },
  {
    "text": "the first day sometimes well thanks for coming anyway to learn something new we're going to talk about upgrading",
    "start": "25160",
    "end": "30400"
  },
  {
    "text": "Legacy asp.net applications today I want to start out by just talking a little",
    "start": "30400",
    "end": "35480"
  },
  {
    "text": "bit about why uh it's been eight or nine years now that net modern. net or net core has",
    "start": "35480",
    "end": "42120"
  },
  {
    "text": "been around and uh it might make some people think like that's it for legacy",
    "start": "42120",
    "end": "48399"
  },
  {
    "text": "migrations like we've done it all by now uh but as you might know uh NET Framework was around for a a little bit",
    "start": "48399",
    "end": "55320"
  },
  {
    "text": "longer than that even before that and uh you know when you add that all up there's a lot of Legacy code that still",
    "start": "55320",
    "end": "61719"
  },
  {
    "text": "exists out there and some of you might be the proud owners of some of that Legacy code U maybe that's why you're",
    "start": "61719",
    "end": "68200"
  },
  {
    "text": "here today but you also know if you've been attending any of the great uh talks at this conference about net and net",
    "start": "68200",
    "end": "75520"
  },
  {
    "text": "core and ASP netcore and all the the great new things that come from modern. net you know that it's a much more",
    "start": "75520",
    "end": "82280"
  },
  {
    "text": "performant framework than NET Framework aspet uh core has been Rewritten from",
    "start": "82280",
    "end": "87880"
  },
  {
    "text": "the ground up as all of net really has been in this modern era and everything is easier to write and more modern and",
    "start": "87880",
    "end": "95560"
  },
  {
    "text": "Deployable in different scenarios and uh different operating systems and Docker containers and there's so many pluses to",
    "start": "95560",
    "end": "102280"
  },
  {
    "text": "getting onto this modern stuff A lot of times the only thing stopping you from upgrading uh to that Lamborghini is the",
    "start": "102280",
    "end": "109759"
  },
  {
    "text": "ability to bring this Legacy code forward with you so tons of advantages to doing it uh the only bad thing is",
    "start": "109759",
    "end": "117000"
  },
  {
    "text": "that if you're doing an asp net to ASP net core migration is that it is not",
    "start": "117000",
    "end": "122159"
  },
  {
    "text": "easy quite as easy and automatic as some of the other ones because there's a lot of breaking changes in ASP net core so",
    "start": "122159",
    "end": "128679"
  },
  {
    "text": "today what we're going to talk about first of all is some of the different approaches and the one that I'm going to",
    "start": "128679",
    "end": "134200"
  },
  {
    "text": "talk about today and focus on uh that you might use when gradually migrating something over a longer period of time",
    "start": "134200",
    "end": "141440"
  },
  {
    "text": "like an asp net application we're going to talk about how reverse proxies something called reverse proxies play a",
    "start": "141440",
    "end": "147840"
  },
  {
    "text": "role in that uh something you may or may not already be familiar with we'll talk about a reverse proxy called yarp",
    "start": "147840",
    "end": "154160"
  },
  {
    "text": "specifically and how you can use that also talk a little bit about theet Upgrade Assistant and how we can",
    "start": "154160",
    "end": "159680"
  },
  {
    "text": "leverage that to make these migrations easier and then",
    "start": "159680",
    "end": "165239"
  },
  {
    "text": "uh and then we will uh do a live yarp migration so you'll actually see me uh",
    "start": "165239",
    "end": "171720"
  },
  {
    "text": "do one live here on stage today uh and then finally I want to talk a little bit about something called the system.web",
    "start": "171720",
    "end": "178239"
  },
  {
    "text": "adapters uh which is something that helps you bring forward it's a shim library that helps you bring forward a",
    "start": "178239",
    "end": "184239"
  },
  {
    "text": "lot of code that you might have that uses the system.web namespace so before we get into that just a quick",
    "start": "184239",
    "end": "189879"
  },
  {
    "text": "introduction of myself my name is Jonathan Tower uh uh Jay for short so if",
    "start": "189879",
    "end": "195040"
  },
  {
    "text": "we get a chance to meet after the conference feel free to do that uh to call me that uh I work at a company that",
    "start": "195040",
    "end": "202440"
  },
  {
    "text": "I helped found called trail head technology Partners we do custom software Consulting we help our clients",
    "start": "202440",
    "end": "208040"
  },
  {
    "text": "build custom software applications uh I'm a Microsoft MVP in.net have been",
    "start": "208040",
    "end": "213400"
  },
  {
    "text": "now 10 years running uh also I've got a bunch of places you can contact me here on this slide if you want to contact me",
    "start": "213400",
    "end": "220200"
  },
  {
    "text": "online and then also just want to mention that I have a podcast called Blue blazes that is all about helping",
    "start": "220200",
    "end": "227280"
  },
  {
    "text": "make software projects more predictably successful so if that sounds like something uh like what we're talking",
    "start": "227280",
    "end": "232560"
  },
  {
    "text": "about today you'd like to listen to more of that or watch more of that on video uh you can check out that podcast last",
    "start": "232560",
    "end": "239239"
  },
  {
    "text": "couple things I'll mention on this slide before we jump into the content if any of the code or slides today is something",
    "start": "239239",
    "end": "246280"
  },
  {
    "text": "you want to reference again later and you don't get a chance to get your phone out and take a picture uh you can go to this GitHub link right here and you'll",
    "start": "246280",
    "end": "252760"
  },
  {
    "text": "be able to download any of that stuff you want the last one is that anybody that comes to one of my talks I like to",
    "start": "252760",
    "end": "258199"
  },
  {
    "text": "offer them the ability to connect with me for a consultation so if there's",
    "start": "258199",
    "end": "263479"
  },
  {
    "text": "something we talk about today that feels applicable uh to something you're working on you want to talk about net in",
    "start": "263479",
    "end": "269120"
  },
  {
    "text": "general cons Consulting uh any of those things I've even had people contact me",
    "start": "269120",
    "end": "274440"
  },
  {
    "text": "about uh basically hey I attended your talk and it was very helpful and I wish my team could see it could you actually",
    "start": "274440",
    "end": "280360"
  },
  {
    "text": "do it again for my team uh all of those things are possible if you want to use that bitly link or that QR code that's",
    "start": "280360",
    "end": "285720"
  },
  {
    "text": "on the slide uh you can put a time right on my calendar and we can meet to talk about that all right so jumping into it",
    "start": "285720",
    "end": "293039"
  },
  {
    "text": "the first thing I want to do is I want to make sure everybody is on the same page about this terminology my",
    "start": "293039",
    "end": "298520"
  },
  {
    "text": "assumption is everybody knows this that's been doing net for a while and yet uh when I do this slide there's a",
    "start": "298520",
    "end": "304400"
  },
  {
    "text": "lot of like aha moments that seem to happen for people and so maybe this is something that will still be useful for",
    "start": "304400",
    "end": "310400"
  },
  {
    "text": "you so first of all NET Framework when we talk about net frame framework we're",
    "start": "310400",
    "end": "315840"
  },
  {
    "text": "talking about the Legacy net uh this is the net that is on Windows only in fact",
    "start": "315840",
    "end": "321240"
  },
  {
    "text": "it is technically part of Windows and uh that means that you know you can't run these things easily you can use some",
    "start": "321240",
    "end": "327680"
  },
  {
    "text": "things like mono to try to run them elsewhere uh but generally speaking you run this stuff on Windows this went from",
    "start": "327680",
    "end": "334720"
  },
  {
    "text": "version 1.0 that started around 2001 up to version 4.8 I think 4.8.1 is the",
    "start": "334720",
    "end": "341319"
  },
  {
    "text": "current uh latest version and uh right about the time Net 5 came out uh that",
    "start": "341319",
    "end": "349720"
  },
  {
    "text": "was basically uh it was announced that NET Framework was going to be maintained supported uh but no new development so",
    "start": "349720",
    "end": "356520"
  },
  {
    "text": "nothing new there is not going to be a 4.9 or anything uh like that and Net Framework but back in about 2015 or so",
    "start": "356520",
    "end": "364479"
  },
  {
    "text": "uh Microsoft started working on something they called net they actually called it a lot of different things they eventually called it net core uh and",
    "start": "364479",
    "end": "371639"
  },
  {
    "text": "they went live with version 1.0 and you might have been following it since then versions two 2 uh one 2.2 and so on all",
    "start": "371639",
    "end": "379960"
  },
  {
    "text": "came out until you got to 3.1 and at that point it became clear that uh due",
    "start": "379960",
    "end": "385000"
  },
  {
    "text": "to a bunch of technologies that Microsoft had created like something called net standard that we'll talk a",
    "start": "385000",
    "end": "390160"
  },
  {
    "text": "little bit more about today uh that they could basically merge all of these nets",
    "start": "390160",
    "end": "395599"
  },
  {
    "text": "back into one thing and just call itet again and so this new thread of net that has been Rewritten to be crossplatform",
    "start": "395599",
    "end": "402039"
  },
  {
    "text": "modern and performant is now just called net so from version five to uh now we're",
    "start": "402039",
    "end": "408560"
  },
  {
    "text": "on version nine all of those versions are uh just referred to as net so this",
    "start": "408560",
    "end": "414000"
  },
  {
    "text": "gets a little confusing especially when I'm doing a talk about Legacy migrations and I have to keep saying net frame",
    "start": "414000",
    "end": "419599"
  },
  {
    "text": "framework net core.net uh and so you might hear me call these a few different things in the talk today when I say",
    "start": "419599",
    "end": "425800"
  },
  {
    "text": "modern. net I'm talking about net core and net and when you hear me see Legacy",
    "start": "425800",
    "end": "431000"
  },
  {
    "text": "or NET Framework I'm talking about the old one so that's kind of what we're going to be looking at today further",
    "start": "431000",
    "end": "436759"
  },
  {
    "text": "confusing things uh is The Branding of asp.net so asp.net had an original",
    "start": "436759",
    "end": "442039"
  },
  {
    "text": "version that was only for NET Framework and that was just called asp.net anybody",
    "start": "442039",
    "end": "447960"
  },
  {
    "text": "old enough to remember uh where the ASP part of that came from all right some other gray hairs in the room uh yeah so",
    "start": "447960",
    "end": "456080"
  },
  {
    "text": "active server Pages uh was a scripting language VB script that existed before",
    "start": "456080",
    "end": "461240"
  },
  {
    "text": "net that you could do web programming with and this was basically Microsoft's attempt to bring those developers",
    "start": "461240",
    "end": "466800"
  },
  {
    "text": "forward into the net web programming World they said don't worry it's just what you're familiar with except it's on",
    "start": "466800",
    "end": "473400"
  },
  {
    "text": "net now uh so asp.net and Net Framework but then when net core came out uh as",
    "start": "473400",
    "end": "479479"
  },
  {
    "text": "asp.net had a new version that was for. net core called asp.net core all makes",
    "start": "479479",
    "end": "484879"
  },
  {
    "text": "sense so far confusingly though asp.net core originally could run on both NET",
    "start": "484879",
    "end": "490440"
  },
  {
    "text": "Framework and on net core why again for that transition crowd right the people",
    "start": "490440",
    "end": "495520"
  },
  {
    "text": "who are like hey I'm not allowed to deploy anything uh new to my servers yet but I want to run ASP net core no",
    "start": "495520",
    "end": "502720"
  },
  {
    "text": "problem you can run it on top of Net Framework that was true until version 2.2 and then Microsoft cut that off and",
    "start": "502720",
    "end": "509599"
  },
  {
    "text": "now the world that we're in basically is that all ASP net core versions modern",
    "start": "509599",
    "end": "514839"
  },
  {
    "text": "versions of it run just onnet or modern. net so hopefully that clears up some",
    "start": "514839",
    "end": "520560"
  },
  {
    "text": "things in your head so that as we're talking about the rest of this today um myig grading Donnet framework to.net uh",
    "start": "520560",
    "end": "528880"
  },
  {
    "text": "you're resonating with what I'm talking about so there's a couple different approaches uh that I want to talk about",
    "start": "528880",
    "end": "534440"
  },
  {
    "text": "there's probably hundreds of different ways you could approach these projects these are the two probably most popular",
    "start": "534440",
    "end": "540480"
  },
  {
    "text": "ways I see a migration project attempted the first one is the Big Bang attempt",
    "start": "540480",
    "end": "545519"
  },
  {
    "text": "this is uh you know you've been part of one of these uh if you've ever been locked into a conference room with your",
    "start": "545519",
    "end": "551480"
  },
  {
    "text": "colleagues and told not to come out until the application is migrated uh this is also called",
    "start": "551480",
    "end": "557839"
  },
  {
    "text": "kidnapping I think but uh this doesn't work very well unless you're talking",
    "start": "557839",
    "end": "563120"
  },
  {
    "text": "about a very small application right first of all it's not very agile to say",
    "start": "563120",
    "end": "568399"
  },
  {
    "text": "let's do this whole big all at once uh if you're talking about a complicated application it's also very risky the",
    "start": "568399",
    "end": "574200"
  },
  {
    "text": "chances that you migrate everything find all the problems are going to be very low when you do it all at once uh so you",
    "start": "574200",
    "end": "581320"
  },
  {
    "text": "might have seen or been involved in a project like this where it takes months or years to do a migration project and",
    "start": "581320",
    "end": "587120"
  },
  {
    "text": "then it goes live and maybe it's a little bumpy for the first few months that that's in people's hands and of",
    "start": "587120",
    "end": "592680"
  },
  {
    "text": "course we can avoid that by using a different approach that's more agile and that is the Strangler fig approach so",
    "start": "592680",
    "end": "599480"
  },
  {
    "text": "actually got to see some of these when I was in Australia last year anybody ever seen a Strangler fig in real life no",
    "start": "599480",
    "end": "606560"
  },
  {
    "text": "okay well there's a picture of one for you uh it works in a really interesting way so uh what actually happens is the",
    "start": "606560",
    "end": "614079"
  },
  {
    "text": "seeds will usually be picked up by birds and dropped when they're dropped sometimes they'll kind of land in the",
    "start": "614079",
    "end": "619600"
  },
  {
    "text": "canopy of the trees they'll then basically start growing a Vine down the trees until they",
    "start": "619600",
    "end": "626160"
  },
  {
    "text": "reach the ground and they'll then go into the ground start getting nutrients out of the ground water Etc start to",
    "start": "626160",
    "end": "632600"
  },
  {
    "text": "wrap around the trees's roots eventually that tree is not able to get what it",
    "start": "632600",
    "end": "637680"
  },
  {
    "text": "needs to survive and it becomes basically a dead tree a dead backbone",
    "start": "637680",
    "end": "643200"
  },
  {
    "text": "and the Strangler fig then kind of grows around it and so you get sort of a slow",
    "start": "643200",
    "end": "648639"
  },
  {
    "text": "motion violent example here from nature but this is actually really good analogy",
    "start": "648639",
    "end": "654880"
  },
  {
    "text": "for what we do when we do a gradual migration so what does that look like with a web application well imagine you",
    "start": "654880",
    "end": "661240"
  },
  {
    "text": "have a legacy application it's got the majority of the code in it and you maybe",
    "start": "661240",
    "end": "666360"
  },
  {
    "text": "create a new modern application that initially has very little in it or maybe is empty uh just a placeholder if you",
    "start": "666360",
    "end": "673600"
  },
  {
    "text": "put a facade layer uh that basically ties those two together and makes them look to the consumer whether that's the",
    "start": "673600",
    "end": "680440"
  },
  {
    "text": "end user through the UI or whether it's an API uh layer being brought together",
    "start": "680440",
    "end": "685519"
  },
  {
    "text": "so that the consumers of that API all see it as one uh coherent thing uh",
    "start": "685519",
    "end": "691600"
  },
  {
    "text": "whatever that particular web application is if you have that facade layer to do that then what you can do is you can",
    "start": "691600",
    "end": "697360"
  },
  {
    "text": "gradually migrate or even rewrite parts of that application moving it over into",
    "start": "697360",
    "end": "702560"
  },
  {
    "text": "the modern application now the modern application eventually gets to have the majority of the functionality in it and",
    "start": "702560",
    "end": "710240"
  },
  {
    "text": "eventually if you keep plugging away at it you actually get to the point where the modern application is the only thing",
    "start": "710240",
    "end": "716160"
  },
  {
    "text": "left now theoretically at least you could get rid of that facade mod layer and you've completed your migration the",
    "start": "716160",
    "end": "721920"
  },
  {
    "text": "benefit of this approach is obviously that the entire time you're doing that migration you can be doing little",
    "start": "721920",
    "end": "728360"
  },
  {
    "text": "updates much more agile uh and the end user can actually be taking advantage of",
    "start": "728360",
    "end": "733560"
  },
  {
    "text": "that so if you move one endp point of your API over to the modern application you're able to rewrite it in a way that",
    "start": "733560",
    "end": "739399"
  },
  {
    "text": "performs better takes advantage of some of the features in modern. net and uh",
    "start": "739399",
    "end": "745360"
  },
  {
    "text": "basically benefits your end users they can start having that right away as soon as you roll that out that facade layer",
    "start": "745360",
    "end": "751040"
  },
  {
    "text": "will bring the two applications together make them feel or seem like one uh and then eventually you end up migrating",
    "start": "751040",
    "end": "757519"
  },
  {
    "text": "things much more agile so let's talk a little bit about a reverse proxy and what its role would be",
    "start": "757519",
    "end": "764519"
  },
  {
    "text": "in this type of a migration project a lot of us might be familiar with a forward proxy or what Pro",
    "start": "764519",
    "end": "771240"
  },
  {
    "text": "probably people just usually refer to as a proxy server uh I am old enough that when I started in the industry I",
    "start": "771240",
    "end": "778040"
  },
  {
    "text": "remember some company where I worked or I consulted that they didn't have internet access on every",
    "start": "778040",
    "end": "784440"
  },
  {
    "text": "computer on the on the computer network in the office there would be one computer that would have uh internet",
    "start": "784440",
    "end": "790399"
  },
  {
    "text": "access and if you wanted to take advantage of that and access the internet you would actually have to set",
    "start": "790399",
    "end": "796240"
  },
  {
    "text": "a setting in your computer that would say the proxy server for my computer is this IP address on this network anybody",
    "start": "796240",
    "end": "802120"
  },
  {
    "text": "else the sound familiar to anybody okay same hands as as before when I asked what ASP stood for um so that's a proxy",
    "start": "802120",
    "end": "810240"
  },
  {
    "text": "server that's a server that is acting on your behalf or proxying on your behalf out to the internet that's also called a",
    "start": "810240",
    "end": "816680"
  },
  {
    "text": "forward proxy so that's what you see in this example computers on a network using a particular server to access the",
    "start": "816680",
    "end": "823639"
  },
  {
    "text": "internet and then the internet various internet servers out there on the internet that's a forward proxy if you",
    "start": "823639",
    "end": "830320"
  },
  {
    "text": "basically just swap the order of the middle two pieces of this you end up with a reverse proxy so now imagine",
    "start": "830320",
    "end": "836720"
  },
  {
    "text": "clients out on the internet browsing let's say coming in through the internet",
    "start": "836720",
    "end": "841800"
  },
  {
    "text": "and instead of hitting your web server directly or your firewall and then your web server the first thing they hit when",
    "start": "841800",
    "end": "847680"
  },
  {
    "text": "they come into your network is actually a reverse proxy that reverse proxy then can look",
    "start": "847680",
    "end": "853600"
  },
  {
    "text": "at that traffic and say where is this actually headed and make a decision based off of the path or something in",
    "start": "853600",
    "end": "859600"
  },
  {
    "text": "the headers or something in a cookie any of those types of things that uh that the reverse proxy could do and then",
    "start": "859600",
    "end": "866360"
  },
  {
    "text": "decide which server to actually route that traffic to on the back end so that's all reverse proxy is they can be",
    "start": "866360",
    "end": "873639"
  },
  {
    "text": "used for all kinds of very cool and useful things uh for example you can do",
    "start": "873639",
    "end": "881560"
  },
  {
    "text": "uh you can do uh AB testing with them so if you have an application where you want to roll out a new version maybe",
    "start": "881560",
    "end": "888240"
  },
  {
    "text": "you've got load balance servers you want to roll out a new version that works a little bit differently uh you you've",
    "start": "888240",
    "end": "894040"
  },
  {
    "text": "probably seen this if you've used you know Microsoft or Google things they'll sometimes have a uh do you want to use",
    "start": "894040",
    "end": "899360"
  },
  {
    "text": "the new interface and you can say yes and then if it stops working for you there'll be a little button you can click to go back to the old interface uh",
    "start": "899360",
    "end": "906600"
  },
  {
    "text": "so it kind of AB testing like that uh URL rewriting if you've got very",
    "start": "906600",
    "end": "911680"
  },
  {
    "text": "complicated backend API URLs and you want to simplify them or maybe bring a",
    "start": "911680",
    "end": "916800"
  },
  {
    "text": "bunch of different applications all together under one application uh path you can do URL",
    "start": "916800",
    "end": "922759"
  },
  {
    "text": "rewriting with that often like security or microservices security layer is done",
    "start": "922759",
    "end": "928279"
  },
  {
    "text": "with this type of technology like a reverse proxy feature Flags is another thing I've seen it used for and then",
    "start": "928279",
    "end": "934759"
  },
  {
    "text": "finally the one that I want to talk about with you more today is the incremental",
    "start": "934759",
    "end": "939839"
  },
  {
    "text": "upgrades all right so we talked a little bit about the Strangler fig as an approach we talked about what a reverse",
    "start": "939839",
    "end": "946240"
  },
  {
    "text": "proxy does you might be seeing how this comes together already in your head but let's talk specifically about yarp and",
    "start": "946240",
    "end": "952600"
  },
  {
    "text": "what that does so yarp is Microsoft's reverse proxy it stands for yet another",
    "start": "952600",
    "end": "958600"
  },
  {
    "text": "reverse proxy uh which is a great name uh and basically it came out of the fact",
    "start": "958600",
    "end": "964600"
  },
  {
    "text": "that uh a bunch of teams inside Microsoft product teams were doing their",
    "start": "964600",
    "end": "969680"
  },
  {
    "text": "own web applications and they were kind of doing their own solution for reverse",
    "start": "969680",
    "end": "974839"
  },
  {
    "text": "proxies so some people were using third party ones some people had kind of created their own based on their needs",
    "start": "974839",
    "end": "981360"
  },
  {
    "text": "and eventually one of these teams got wise enough to ask the net team hey do we have a solution for this already",
    "start": "981360",
    "end": "987680"
  },
  {
    "text": "inside of Microsoft that is like the solution that we're telling other people to use and the answer was no uh and so",
    "start": "987680",
    "end": "994800"
  },
  {
    "text": "that was actually then created for for that particular products team and then eventually this became something that",
    "start": "994800",
    "end": "1001079"
  },
  {
    "text": "more teams inside of Microsoft were using to do their own reverse proxying and because a bunch of reverse proxies",
    "start": "1001079",
    "end": "1007720"
  },
  {
    "text": "already existed the name yet another reverse proxy so how does it work well",
    "start": "1007720",
    "end": "1013160"
  },
  {
    "text": "it's a Newgate package that you install into a ASP net core application and then",
    "start": "1013160",
    "end": "1018720"
  },
  {
    "text": "when when traffic comes in from clients it hits that ASP net application I'm",
    "start": "1018720",
    "end": "1025000"
  },
  {
    "text": "sorry aspn net core application first now you might know aspet core well enough to know that it's got this thing",
    "start": "1025000",
    "end": "1031240"
  },
  {
    "text": "called middleware there's a request response stack essentially that is created by this middleware stuff so if",
    "start": "1031240",
    "end": "1038480"
  },
  {
    "text": "you're doing uh minimal apis or MVC or any of the different Frameworks that",
    "start": "1038480",
    "end": "1044438"
  },
  {
    "text": "exist in ASP net core all of those are basically just middleware that plugs into to that request response Pipeline",
    "start": "1044439",
    "end": "1051760"
  },
  {
    "text": "and you can do the same thing with yarp when you install yarp into your application you'll just add it to the pipeline and uh you can see here it's",
    "start": "1051760",
    "end": "1058799"
  },
  {
    "text": "actually in the pipeline above MVC uh which is also where apis would go as well to MVC so now when that request",
    "start": "1058799",
    "end": "1066480"
  },
  {
    "text": "comes in it'll start at the top of the pipeline and if yarp gets that it'll look at it and say does the routing",
    "start": "1066480",
    "end": "1074000"
  },
  {
    "text": "table already have this URL registered in it now if if you're not familiar with",
    "start": "1074000",
    "end": "1079520"
  },
  {
    "text": "the routing table this is something that's existed in aspnet since the beginning this is basically whatever",
    "start": "1079520",
    "end": "1085159"
  },
  {
    "text": "Frameworks exist in aspn net or ASP net core they're able to basically register all the routes that they're able to",
    "start": "1085159",
    "end": "1091400"
  },
  {
    "text": "handle and then what happens if you hit any other URL in that application you get a 404 error from aspnet right so",
    "start": "1091400",
    "end": "1099559"
  },
  {
    "text": "yarp is going to look in that routing table and say do I have anything registered in this particular",
    "start": "1099559",
    "end": "1104640"
  },
  {
    "text": "application to handle this route and if it says yes I do then it's going to go ahead and just forward that down the",
    "start": "1104640",
    "end": "1110679"
  },
  {
    "text": "pipeline for whichever uh whichever application framework down the pipeline actually registered that route it will",
    "start": "1110679",
    "end": "1117080"
  },
  {
    "text": "go ahead and be able to handle it what happens then obviously is if you",
    "start": "1117080",
    "end": "1122760"
  },
  {
    "text": "have a controller class or a minimal API or whatever the particular code is for",
    "start": "1122760",
    "end": "1127799"
  },
  {
    "text": "that endpoint it's going to forward it to that code and you're going to get the response back out from that code what",
    "start": "1127799",
    "end": "1134679"
  },
  {
    "text": "happens if the opposite happens if you get a request into yarp and it looks in the routing table and does not find that",
    "start": "1134679",
    "end": "1141159"
  },
  {
    "text": "URL this is normally an asp net when you would get a 404 or at least it would",
    "start": "1141159",
    "end": "1146799"
  },
  {
    "text": "pass it down the pipeline for someone else to decide if they're if they were able to handle it in this case what it",
    "start": "1146799",
    "end": "1153120"
  },
  {
    "text": "does instead is it forwards the request or proxies the request through to the Legacy application so now it says I",
    "start": "1153120",
    "end": "1160120"
  },
  {
    "text": "don't know how to handle this instead of returning a 404 I'm going to just skip the whole rest of the pipeline and I'm",
    "start": "1160120",
    "end": "1166120"
  },
  {
    "text": "going to pop this out to the Legacy application I was configured to use and",
    "start": "1166120",
    "end": "1171280"
  },
  {
    "text": "then that application is going to do whatever it does internally to handle that request whether it's a static file",
    "start": "1171280",
    "end": "1176400"
  },
  {
    "text": "or an endpoint that hits a controller class or whatever it is uh it's going to be handled there and and be returned",
    "start": "1176400",
    "end": "1182799"
  },
  {
    "text": "back to the user through the proxy so what does that look like well if you look at my example from before",
    "start": "1182799",
    "end": "1189760"
  },
  {
    "text": "where we've got the facade layer with the modern and Legacy apps behind them",
    "start": "1189760",
    "end": "1194919"
  },
  {
    "text": "this is what it looks like in concept this is what it looks like in reality",
    "start": "1194919",
    "end": "1199960"
  },
  {
    "text": "for someone using yarp so yarp I told you actually is hosted inside the modern",
    "start": "1199960",
    "end": "1205720"
  },
  {
    "text": "application and so even though there are conceptually three pieces here there's the modern the Legacy apps and the",
    "start": "1205720",
    "end": "1212880"
  },
  {
    "text": "facade layer here the yarp facade layer",
    "start": "1212880",
    "end": "1218039"
  },
  {
    "text": "and let's say the Blazer modern app are actually going to be hosted inside the",
    "start": "1218039",
    "end": "1223280"
  },
  {
    "text": "same application your modern ASB net app and then only stuff that isn't be able",
    "start": "1223280",
    "end": "1228360"
  },
  {
    "text": "to be handled from that would be forwarded to your legacy aspnet",
    "start": "1228360",
    "end": "1233520"
  },
  {
    "text": "application so there's a ton of as you would sort of guess from the name yarp",
    "start": "1233520",
    "end": "1238960"
  },
  {
    "text": "yet another reverse proxy there is a ton of reverse proxies out there so why",
    "start": "1238960",
    "end": "1244799"
  },
  {
    "text": "bother creating another one right why not just use these and the answer is you can use these other ones and they will",
    "start": "1244799",
    "end": "1251280"
  },
  {
    "text": "be able to functionally do all the things that you want them to do so what are the advantages of yarp there's a",
    "start": "1251280",
    "end": "1257120"
  },
  {
    "text": "bunch of them first of all it's very easy to I'm sorry first of all is performance so from the ground up",
    "start": "1257120",
    "end": "1263960"
  },
  {
    "text": "Microsoft wrote this very well just like a a lot of other things in modern. net",
    "start": "1263960",
    "end": "1269280"
  },
  {
    "text": "it's written for performance as a first class citizen uh or in other words performance is a feature so it works",
    "start": "1269280",
    "end": "1276960"
  },
  {
    "text": "really quickly not to say the other ones don't uh but this one does as well so that's at least not a negative against",
    "start": "1276960",
    "end": "1282440"
  },
  {
    "text": "it it's super easy to use if you're a net developer using yarp is as easy as",
    "start": "1282440",
    "end": "1287720"
  },
  {
    "text": "bringing in newg get package into your application you might want to add a couple of lines of code or some",
    "start": "1287720",
    "end": "1293679"
  },
  {
    "text": "configuration but for the most part bringing in the newg get package and you're 90% of the way there very easy to",
    "start": "1293679",
    "end": "1300480"
  },
  {
    "text": "use also because if you're a dad developer uh you're going to find it very easy to extend it to configure it",
    "start": "1300480",
    "end": "1308640"
  },
  {
    "text": "uh to make it do exactly what you need it to do you can also customize it it's extensible with c and your.net skills",
    "start": "1308640",
    "end": "1316200"
  },
  {
    "text": "that you already have and then the last one is kind of a funny one but that diagram that I just showed you where",
    "start": "1316200",
    "end": "1323039"
  },
  {
    "text": "there was only two pieces uh two physical pieces of application even though there are three conceptual",
    "start": "1323039",
    "end": "1329679"
  },
  {
    "text": "pieces because the modern application actually hosts the yarp part of the uh",
    "start": "1329679",
    "end": "1336480"
  },
  {
    "text": "facade layer uh you actually have two things to deploy any of those other reverse proxies you use you're going to",
    "start": "1336480",
    "end": "1342080"
  },
  {
    "text": "have to deploy updates to your legacy app to your modern app and you're going to have to deploy let's say",
    "start": "1342080",
    "end": "1347480"
  },
  {
    "text": "configurations and updates to your to your facade layer or your reverse proxy as well now now you have that all hosted",
    "start": "1347480",
    "end": "1354559"
  },
  {
    "text": "in two things so it's a 50% you know reduction in things you have to deploy",
    "start": "1354559",
    "end": "1360279"
  },
  {
    "text": "basically so a lot of use cases that I've seen for this already uh we're using this at Trailhead all the time for",
    "start": "1360279",
    "end": "1366840"
  },
  {
    "text": "our clients we've even used it a little for our own internal products that we use to run the",
    "start": "1366840",
    "end": "1372039"
  },
  {
    "text": "business I've seen a lot of things uh where there was a legacy application and they wanted to go some to something",
    "start": "1372039",
    "end": "1377960"
  },
  {
    "text": "modern net and you'll notice even PHP in that list and you might be thinking like",
    "start": "1377960",
    "end": "1383279"
  },
  {
    "text": "oh my goodness can I go uh from you know classic ASP to PHP and the answer is you",
    "start": "1383279",
    "end": "1388919"
  },
  {
    "text": "can go from anything that does http to any modern net web technology so no you",
    "start": "1388919",
    "end": "1396400"
  },
  {
    "text": "can't go to PHP uh if you want to use yarp because you need to host that inside of a modern donet application but",
    "start": "1396400",
    "end": "1403320"
  },
  {
    "text": "any modern. net web technology ASP net core MVC web API",
    "start": "1403320",
    "end": "1409279"
  },
  {
    "text": "uh minimal apis laser razor Pages all of this stuff",
    "start": "1409279",
    "end": "1414360"
  },
  {
    "text": "is totally possible as a destination for your code and then you can be coming from basically anything anything that",
    "start": "1414360",
    "end": "1420760"
  },
  {
    "text": "speaks HTTP whether that be a Microsoft Technology or non-microsoft technology",
    "start": "1420760",
    "end": "1426240"
  },
  {
    "text": "now the most often most common story that uh you'll hear is some older thing",
    "start": "1426240",
    "end": "1432080"
  },
  {
    "text": "like web forms running on aspnet or MVC running on aspnet something like that",
    "start": "1432080",
    "end": "1437919"
  },
  {
    "text": "web AP uh those are the most common scenarios I'll tell you a couple of very specific",
    "start": "1437919",
    "end": "1443200"
  },
  {
    "text": "examples here so one of them is coming from classic ASP and going to a Blazer",
    "start": "1443200",
    "end": "1451200"
  },
  {
    "text": "client frontend application with an aspet core uh web API backend this is",
    "start": "1451200",
    "end": "1458640"
  },
  {
    "text": "something that we helped a client do and as you can see a lot of different Technologies involved and maybe the most",
    "start": "1458640",
    "end": "1464880"
  },
  {
    "text": "noticeable change here is that the application was essentially client server simple serers side rendering type",
    "start": "1464880",
    "end": "1471480"
  },
  {
    "text": "application before and now there's an API layer and so you might be thinking how did you do that well basically in",
    "start": "1471480",
    "end": "1477760"
  },
  {
    "text": "this case uh when somebody routes to part of the application that has been migrated that page uh gets routed to the",
    "start": "1477760",
    "end": "1485000"
  },
  {
    "text": "Blazer application and that loads up the UI and that then starts making API calls versus if they hit part of the Legacy",
    "start": "1485000",
    "end": "1491840"
  },
  {
    "text": "application they actually will have have to do a full round trip for the entire",
    "start": "1491840",
    "end": "1497360"
  },
  {
    "text": "page every time every time they hit a page or make a change another option would be to do the",
    "start": "1497360",
    "end": "1503360"
  },
  {
    "text": "same thing but to do it with a Blazer server side rendering uh and so this",
    "start": "1503360",
    "end": "1508799"
  },
  {
    "text": "would be using more like signal R to to communicate back and forth between the front end and back end maybe you've seen",
    "start": "1508799",
    "end": "1514520"
  },
  {
    "text": "this before maybe you've seen this in some of the talks at the conference so far uh and then another common",
    "start": "1514520",
    "end": "1521840"
  },
  {
    "text": "application uh architecture that we help people move to from a uh classic do asp",
    "start": "1521840",
    "end": "1528360"
  },
  {
    "text": ". net application is moving to a front end backend technology like this with a spa framework like react view angular on",
    "start": "1528360",
    "end": "1537120"
  },
  {
    "text": "the front end and then an aspet core web API on the back end so a lot of",
    "start": "1537120",
    "end": "1542520"
  },
  {
    "text": "different options uh that we've seen and made work uh I want to give you a specific",
    "start": "1542520",
    "end": "1549360"
  },
  {
    "text": "example if you want to look at it afterwards I won't go through this with you today but I wrote a Blog about this",
    "start": "1549360",
    "end": "1556440"
  },
  {
    "text": "and uh it's kind of a very simplified example that I made so that you could see what it would look like uh if you",
    "start": "1556440",
    "end": "1562279"
  },
  {
    "text": "were moving from a web forms aspx type application to a Blazer application in",
    "start": "1562279",
    "end": "1569039"
  },
  {
    "text": "this case it's a Blazer client application uh so if you want to check out that blog you can go to that bitly",
    "start": "1569039",
    "end": "1574919"
  },
  {
    "text": "link there obviously this will be on the GitHub as well if you want to check that out afterwards the last thing I want to talk",
    "start": "1574919",
    "end": "1582480"
  },
  {
    "text": "about a little before we get into a particular example is the net Upgrade",
    "start": "1582480",
    "end": "1587640"
  },
  {
    "text": "Assistant this is something that I'm going to show you in just a minute uh but it's a really powerful extension for",
    "start": "1587640",
    "end": "1593720"
  },
  {
    "text": "visual studio as well as a tool that you can add to the net CLI and this helps",
    "start": "1593720",
    "end": "1599520"
  },
  {
    "text": "you upgrade your all of your net applications to newer versions of net so",
    "start": "1599520",
    "end": "1606000"
  },
  {
    "text": "it can do anything from what we're talking about which is like a Net Framework Legacy application all the way",
    "start": "1606000",
    "end": "1611960"
  },
  {
    "text": "to Modern net or it can even do like a net core version of net toet or even",
    "start": "1611960",
    "end": "1617799"
  },
  {
    "text": "just Net 5 to net 9 or net 6 to net 8 or any of those kind of modern to Modern net",
    "start": "1617799",
    "end": "1624960"
  },
  {
    "text": "upgrades it can help you with as well obviously the higher up this list that you go the more helpful it is to have",
    "start": "1624960",
    "end": "1632640"
  },
  {
    "text": "this Tool uh because the further down you go say you're upgrading from net 8 to net 9 you're going to find that",
    "start": "1632640",
    "end": "1639000"
  },
  {
    "text": "that's pretty easy to do even without any help so the harder the lift is the",
    "start": "1639000",
    "end": "1644039"
  },
  {
    "text": "more this tool will be helpful we're going to look specifically at using it to upgrade asp.net to aspnet core but it",
    "start": "1644039",
    "end": "1652600"
  },
  {
    "text": "does a bunch of other things as well that we aren't going to look at together today so if you're doing a win fors application that you're upgrading or WPF",
    "start": "1652600",
    "end": "1660399"
  },
  {
    "text": "or Maui from zamin forms or even a console app all of these things",
    "start": "1660399",
    "end": "1666120"
  },
  {
    "text": "including class libraries are all available as as a potential uh that this",
    "start": "1666120",
    "end": "1671559"
  },
  {
    "text": "net Upgrade Assistant can help you do an upgrade on so with that said I want to actually get into the demo and we can",
    "start": "1671559",
    "end": "1677600"
  },
  {
    "text": "look at this together all right so let's see if I can",
    "start": "1677600",
    "end": "1682640"
  },
  {
    "text": "share my screen successfully here perfect okay so I have a an",
    "start": "1682640",
    "end": "1691960"
  },
  {
    "text": "application here and uh it's got two pieces in there I know it's a little small so uh I'll just read it out to you",
    "start": "1691960",
    "end": "1698840"
  },
  {
    "text": "it's a utilities class Library as well as a legacy MVC application if we",
    "start": "1698840",
    "end": "1704399"
  },
  {
    "text": "actually look at the code in the Legacy",
    "start": "1704399",
    "end": "1709519"
  },
  {
    "text": "let's go ahead and make that that a little",
    "start": "1710039",
    "end": "1714120"
  },
  {
    "text": "bigger okay hopefully that's a little bigger for you so basically this class",
    "start": "1715679",
    "end": "1721399"
  },
  {
    "text": "Library does something very simple which is it accesses the HTTP context object",
    "start": "1721399",
    "end": "1726559"
  },
  {
    "text": "and then it just reads a particular header out of the request in this case the user agent header is red for you",
    "start": "1726559",
    "end": "1733559"
  },
  {
    "text": "obviously this is very simple code that you probably wouldn't have something exactly like this but what I wanted to",
    "start": "1733559",
    "end": "1739919"
  },
  {
    "text": "show you is that system.web is something that basically doesn't exist anymore uh",
    "start": "1739919",
    "end": "1745159"
  },
  {
    "text": "so if you move from aspnet to aspet core system.web is basically the uh that",
    "start": "1745159",
    "end": "1750360"
  },
  {
    "text": "entire name space is all the stuff that was wrong with classic asp.net uh so",
    "start": "1750360",
    "end": "1756120"
  },
  {
    "text": "that has gone away that has had all the hard-coded ties between aspnet code and",
    "start": "1756120",
    "end": "1762200"
  },
  {
    "text": "IIs and all of that stuff had to be Rewritten I know from some Insider information that Microsoft has looked a",
    "start": "1762200",
    "end": "1769039"
  },
  {
    "text": "few times in the past at whether this would be possible to rewrite uh to bring",
    "start": "1769039",
    "end": "1774399"
  },
  {
    "text": "things like web forms forward into ASP net core and the answer is no it is not possible it's too big of a lift uh",
    "start": "1774399",
    "end": "1781360"
  },
  {
    "text": "basically because it's so hardcoded so anyway this is accessing the HTTP",
    "start": "1781360",
    "end": "1786919"
  },
  {
    "text": "context which if you don't know is defined in the system.web namespace so",
    "start": "1786919",
    "end": "1792919"
  },
  {
    "text": "basically this is going to be a problem to upgrade right because this doesn't exist in ASP net core for net core okay",
    "start": "1792919",
    "end": "1800600"
  },
  {
    "text": "so that's the first thing I wanted to show you I want to also show you the uh the version that this is set to right",
    "start": "1800600",
    "end": "1806840"
  },
  {
    "text": "now so if I go to the properties for this project you can see it's set to run on framework 4.8 and if I go to the web project and",
    "start": "1806840",
    "end": "1816320"
  },
  {
    "text": "go to its properties you can see similarly that this is set to run on",
    "start": "1816320",
    "end": "1822159"
  },
  {
    "text": "framework 4.8 as well okay so these are both framework 4.8 uh full framework",
    "start": "1822159",
    "end": "1827480"
  },
  {
    "text": "applications and the last thing I want to show you is",
    "start": "1827480",
    "end": "1834559"
  },
  {
    "text": "under the controllers here you can see the I created a simple",
    "start": "1834559",
    "end": "1841919"
  },
  {
    "text": "controller that's actually using that library that we just looked at uh and",
    "start": "1841919",
    "end": "1847600"
  },
  {
    "text": "it's calling this Geth header method that we just looked at passing in the current HTTP context to it and getting",
    "start": "1847600",
    "end": "1854840"
  },
  {
    "text": "back a string which is being set basically into the view so if we look at the view for this you",
    "start": "1854840",
    "end": "1860919"
  },
  {
    "text": "can see system.web view is basically displaying the user agent on the screen",
    "start": "1860919",
    "end": "1868200"
  },
  {
    "text": "inside of our default layout okay so real simple application here it's just",
    "start": "1868200",
    "end": "1873320"
  },
  {
    "text": "doing a few things to show you what are some of the problems that you'll run into in this process so I'm going to go",
    "start": "1873320",
    "end": "1879679"
  },
  {
    "text": "ahead and run this oh well isn't that lovely so we",
    "start": "1879679",
    "end": "1887679"
  },
  {
    "text": "just got got to get rid of this right there so while this is loading up I want",
    "start": "1887679",
    "end": "1894360"
  },
  {
    "text": "you to notice that the port number that we're hitting here is 50, 295 now you don't have to memorize",
    "start": "1894360",
    "end": "1901840"
  },
  {
    "text": "that just remember it's this five-digit number that starts with 50 that's going to be important to notice in just a",
    "start": "1901840",
    "end": "1907639"
  },
  {
    "text": "minute here when we start doing this migration process because as you might imagine during the development process I",
    "start": "1907639",
    "end": "1913760"
  },
  {
    "text": "can't have two totally separate web servers running on Port 80 or for or Port 443 and so as a result what's",
    "start": "1913760",
    "end": "1921159"
  },
  {
    "text": "going to happen is these two web applications are going to run on two separate ports so this 50 295 is the one",
    "start": "1921159",
    "end": "1929039"
  },
  {
    "text": "that is my legacy application now just to prove this is a real application um you know I can come in here to edit and",
    "start": "1929039",
    "end": "1937320"
  },
  {
    "text": "I can make changes I can create a new one so basically all this functionality works and you if you've been doing net",
    "start": "1937320",
    "end": "1943840"
  },
  {
    "text": "for a long time you might recognize this pretty ugly example as a very old MVC uh",
    "start": "1943840",
    "end": "1949559"
  },
  {
    "text": "eShop example that I just literally stole from a Microsoft GitHub account so",
    "start": "1949559",
    "end": "1955399"
  },
  {
    "text": "uh very simple classic asp.net",
    "start": "1955399",
    "end": "1960440"
  },
  {
    "text": "application all right uh oh the last thing I want to show you in the application is if we go to that",
    "start": "1960440",
    "end": "1966559"
  },
  {
    "text": "system system web URL we're going to get the entire layout",
    "start": "1966559",
    "end": "1971720"
  },
  {
    "text": "of this of the application with the header and footer and all of that uh but we're also going to get that content",
    "start": "1971720",
    "end": "1978360"
  },
  {
    "text": "that we saw which is the user agent being written out onto the screen so it's basically saying that I'm accessing",
    "start": "1978360",
    "end": "1983679"
  },
  {
    "text": "this in that particular version of edge okay so that's the Legacy",
    "start": "1983679",
    "end": "1989799"
  },
  {
    "text": "application let's look at what it would take to actually upgrade this so the first thing I want to call",
    "start": "1989799",
    "end": "1996200"
  },
  {
    "text": "your attention to is under the extensions here there is an installed extension",
    "start": "1996200",
    "end": "2003440"
  },
  {
    "text": "called the net Upgrade Assistant this is what I was talking about a minute ago if you don't have this already you're going",
    "start": "2003440",
    "end": "2008799"
  },
  {
    "text": "to want to go install this to be able to do what you're about to see if you're a net CLI user and you want to do all of",
    "start": "2008799",
    "end": "2015960"
  },
  {
    "text": "this it's all doable from the net CLI by just installing the tool that's also",
    "start": "2015960",
    "end": "2021159"
  },
  {
    "text": "called the Upgrade Assistant so what we're going to look at is going to be through the GUI in visual studio all of",
    "start": "2021159",
    "end": "2028000"
  },
  {
    "text": "it is equally doable from the command line you will notice one little important detail about the net Upgrade",
    "start": "2028000",
    "end": "2034679"
  },
  {
    "text": "Assistant it is in preview I will say it quite well for something that's been in",
    "start": "2034679",
    "end": "2039760"
  },
  {
    "text": "preview now pushing two years uh they are actively working on it but you will",
    "start": "2039760",
    "end": "2045399"
  },
  {
    "text": "see one example of a thing that it doesn't do perfectly in My Demo here and",
    "start": "2045399",
    "end": "2051760"
  },
  {
    "text": "uh you know I think they're basically waiting until it's a little bit more like",
    "start": "2051760",
    "end": "2057000"
  },
  {
    "text": "99.99% of the way there before they say it's not a preview anymore so you can use this for real production use to",
    "start": "2057000",
    "end": "2063638"
  },
  {
    "text": "upgrade a real application uh just keep in mind that it's not perfect",
    "start": "2063639",
    "end": "2068760"
  },
  {
    "text": "okay so first step first here we've got a class library that I need to upgrade",
    "start": "2068760",
    "end": "2073960"
  },
  {
    "text": "this class library is obviously referenced by the web application if I try and update the web application from",
    "start": "2073960",
    "end": "2080358"
  },
  {
    "text": "framework to core and I don't update the class Library the very first thing I'm going to run into is that it can't",
    "start": "2080359",
    "end": "2086158"
  },
  {
    "text": "reference the class library and it's going to be broken until I fix that so let's skip that problem by just",
    "start": "2086159",
    "end": "2092118"
  },
  {
    "text": "upgrading the class Library first which is probably what you would do in your upgrade project anyway",
    "start": "2092119",
    "end": "2098200"
  },
  {
    "text": "so I'm going to come here and you'll see there's an upgrade option now in my rightclick menu I click on that class",
    "start": "2098200",
    "end": "2103680"
  },
  {
    "text": "Library project and pick upgrade it's going to give me a number of different options I'm going to do the thing that",
    "start": "2103680",
    "end": "2110240"
  },
  {
    "text": "you probably wouldn't do in real life which is to do an inplace upgrade this basically means it's going to do it in",
    "start": "2110240",
    "end": "2115880"
  },
  {
    "text": "the same folder as the project currently lives in obviously this is a little bit",
    "start": "2115880",
    "end": "2120920"
  },
  {
    "text": "harder to roll back not if you're using Source control or something but a little bit Messier if if it doesn't go well uh",
    "start": "2120920",
    "end": "2128200"
  },
  {
    "text": "but I'm going to do that anyway now you can see I get a bunch of different versions of net here as well as a couple",
    "start": "2128200",
    "end": "2134680"
  },
  {
    "text": "called net standard down at the bottom if you're not familiar with net standard I used to do a talk about it that was a",
    "start": "2134680",
    "end": "2141320"
  },
  {
    "text": "whole hour just what is it how does it work why is it useful we don't obviously have time to go into that today but I do",
    "start": "2141320",
    "end": "2149119"
  },
  {
    "text": "want to mention uh what it is just so that you understand why I'm going to select one of those things net standard",
    "start": "2149119",
    "end": "2155359"
  },
  {
    "text": "you can think of it as a it's a standard that net classes can compile against",
    "start": "2155359",
    "end": "2161319"
  },
  {
    "text": "class libraries can compile against it is not another full implementation of",
    "start": "2161319",
    "end": "2167000"
  },
  {
    "text": "net so you might have heard of like mono and Net Framework net core uh net micro",
    "start": "2167000",
    "end": "2175319"
  },
  {
    "text": "even exists out there all of these things over the years have been created that are different flavors of net that",
    "start": "2175319",
    "end": "2180760"
  },
  {
    "text": "run in different environments this is not one of those but it is a solution to the fact that there are so many flavors",
    "start": "2180760",
    "end": "2187119"
  },
  {
    "text": "ofet if you want to create a class library and use it on NET Framework and net core",
    "start": "2187119",
    "end": "2193960"
  },
  {
    "text": "how can you do that well you have to compile it against some third thing that isn't either of those two things right",
    "start": "2193960",
    "end": "2201319"
  },
  {
    "text": "and the third thing that you compile it against is net standard and there's different versions of net standard we're",
    "start": "2201319",
    "end": "2207520"
  },
  {
    "text": "used to thinking of versions as being the higher the number the better uh because that's how most things go in uh",
    "start": "2207520",
    "end": "2214480"
  },
  {
    "text": "the software world with versions in the net standard world as you go up in version numbers you have a uh you have",
    "start": "2214480",
    "end": "2222480"
  },
  {
    "text": "more apis that are included in the standard but you have fewer uh",
    "start": "2222480",
    "end": "2227920"
  },
  {
    "text": "deployment platforms that you can hit so if you want to be able to go the furthest back to the furthest old things",
    "start": "2227920",
    "end": "2235119"
  },
  {
    "text": "uh net 4 I think six is where it starts uh for example uh you're going to want",
    "start": "2235119",
    "end": "2241160"
  },
  {
    "text": "to use a smaller net standard number a lower version number now I've only got two and 2.1 here right now uh 2.0 is",
    "start": "2241160",
    "end": "2249920"
  },
  {
    "text": "going to be the one that goes uh back to Net Framework 4.8 for support and if I",
    "start": "2249920",
    "end": "2256040"
  },
  {
    "text": "do 2.1 that will not support any version of NET Framework and so I'm going to go to net standard 2.0 this is going to",
    "start": "2256040",
    "end": "2263640"
  },
  {
    "text": "allow my class library to compile in a way that can be run by both net core and",
    "start": "2263640",
    "end": "2269079"
  },
  {
    "text": "Net Framework so I'll pick that and just say next it's going to give me the option to check or uncheck things that I",
    "start": "2269079",
    "end": "2276480"
  },
  {
    "text": "do or don't want to m there's only basically one class in this Library anyway so I'll just go upgrade",
    "start": "2276480",
    "end": "2283560"
  },
  {
    "text": "it and it's going to give me kind of a progress upgrade notification as well as this",
    "start": "2283560",
    "end": "2289599"
  },
  {
    "text": "warning that says basically uh you're using system.web and that's going to cause you some problems right so we",
    "start": "2289599",
    "end": "2295880"
  },
  {
    "text": "already talked about that so I don't need to do anything special with that now if I go look at the project",
    "start": "2295880",
    "end": "2303760"
  },
  {
    "text": "properties let's try that again if I go look at the project properties here for the class Library instead of saying 4.8",
    "start": "2303760",
    "end": "2310920"
  },
  {
    "text": "you'll notice that is now compiling against net standard 2.0 okay so we have",
    "start": "2310920",
    "end": "2316119"
  },
  {
    "text": "basically successfully upgraded our first piece of our application and it was as easy as you know right clicking",
    "start": "2316119",
    "end": "2322640"
  },
  {
    "text": "on it and clicking a few things now we also know that there's going to be some more problems you know",
    "start": "2322640",
    "end": "2328440"
  },
  {
    "text": "what would a good upgrade talk be without some more problems that we're going to run into uh but we'll go ahead and face",
    "start": "2328440",
    "end": "2336079"
  },
  {
    "text": "those as we come to them so so let's move on to the next step which is upgrading the web application so I'm",
    "start": "2336079",
    "end": "2343040"
  },
  {
    "text": "going to click on that and pick upgrade now you'll notice I get a different set",
    "start": "2343040",
    "end": "2348440"
  },
  {
    "text": "of options here and the one I want to call your attention to is the side by",
    "start": "2348440",
    "end": "2353520"
  },
  {
    "text": "side incremental upgrade and if you read that whole description underneath it you'll see it mentions yarp and it talks",
    "start": "2353520",
    "end": "2360240"
  },
  {
    "text": "about a few other details about how that implementation is going to be done but you'll notice there is no in place",
    "start": "2360240",
    "end": "2366319"
  },
  {
    "text": "migration like we saw before why is that something I referenced very early in this talk is that when you're doing ASP",
    "start": "2366319",
    "end": "2374160"
  },
  {
    "text": "migration aspnet to aspnet core migration that it's a much more complex",
    "start": "2374160",
    "end": "2379839"
  },
  {
    "text": "up upgrade if you have a large Legacy application there's a very low",
    "start": "2379839",
    "end": "2385079"
  },
  {
    "text": "probability that you're going to do this upgrade in a day or an hour or anything like that it's probably going to take",
    "start": "2385079",
    "end": "2391359"
  },
  {
    "text": "you months um weeks something more along those lines and so as a result it makes",
    "start": "2391359",
    "end": "2397040"
  },
  {
    "text": "a lot more sense to do it side by side and use yarp to help bring the two together like we've been talking about",
    "start": "2397040",
    "end": "2403280"
  },
  {
    "text": "so far with the Strangler fig pattern so I'm going to pick that now it gives me the option to",
    "start": "2403280",
    "end": "2408720"
  },
  {
    "text": "basically pick an existing ASP net core project which I don't have in my project yet uh or to do a new one so new is the",
    "start": "2408720",
    "end": "2415960"
  },
  {
    "text": "only option I have I'm going to change how it names this to be core",
    "start": "2415960",
    "end": "2421040"
  },
  {
    "text": "MVC so we have the Legacy MVC and core MVC will be our two web applications",
    "start": "2421040",
    "end": "2427520"
  },
  {
    "text": "and now you'll notice I get a different set of upgrade options I get four",
    "start": "2427520",
    "end": "2433040"
  },
  {
    "text": "different versions ofet that are installed on this computer net 6 7 8 9",
    "start": "2433040",
    "end": "2438599"
  },
  {
    "text": "no net standard any guesses as to why there's no net standard option in this",
    "start": "2438599",
    "end": "2443720"
  },
  {
    "text": "one yeah no underlying implementation that's right there's no underlying",
    "start": "2443720",
    "end": "2448839"
  },
  {
    "text": "implementation for net standard it's only something you can compile a class Library against at runtime you have to",
    "start": "2448839",
    "end": "2455280"
  },
  {
    "text": "run against an actual implementation so net standard uh is not one of those net",
    "start": "2455280",
    "end": "2460640"
  },
  {
    "text": "core or net is NET Framework is but net standard is not so this is an actual web",
    "start": "2460640",
    "end": "2466800"
  },
  {
    "text": "application that has to run it has to run at runtime it can't be referenced by something else to run uh like a dll or a",
    "start": "2466800",
    "end": "2474520"
  },
  {
    "text": "class Library could be and so it actually needs to have a real net implementation so that's why we get",
    "start": "2474520",
    "end": "2480079"
  },
  {
    "text": "those choices so I'm going to pick net 8 maybe because I'm a let's say I'm a more",
    "start": "2480079",
    "end": "2485839"
  },
  {
    "text": "conservative organization and I want to do the long-term support version of net not the",
    "start": "2485839",
    "end": "2492160"
  },
  {
    "text": "most recent one that is going to be only supported for a year year and a half so I go ahead and",
    "start": "2492160",
    "end": "2499560"
  },
  {
    "text": "pick net 8 okay so now it's going to give me kind of a summary of the things it's going to do and I'll go ahead and",
    "start": "2499560",
    "end": "2505960"
  },
  {
    "text": "click finish to get that started so you can see like before I'm getting the step by- step what it's doing getting kind of",
    "start": "2505960",
    "end": "2512599"
  },
  {
    "text": "a progress bar as it goes through that and uh in just a second here it'll",
    "start": "2512599",
    "end": "2518720"
  },
  {
    "text": "finish up and you can see all green checkboxes so everything was successful",
    "start": "2518720",
    "end": "2523760"
  },
  {
    "text": "now if we go look at what is in that uh core MVC application you can see there's",
    "start": "2523760",
    "end": "2529760"
  },
  {
    "text": "a program Cs and there's a properties folder and an app settings Json it's",
    "start": "2529760",
    "end": "2534960"
  },
  {
    "text": "basically a new empty ASP net core application right for all intents and",
    "start": "2534960",
    "end": "2540680"
  },
  {
    "text": "purposes this is a new empty application so if you think back to my earlier diagram where the Legacy application was",
    "start": "2540680",
    "end": "2547280"
  },
  {
    "text": "big and the modern application was small that's the state that we're in right now but if we look at the program",
    "start": "2547280",
    "end": "2553720"
  },
  {
    "text": "CS there's a couple things I want you to notice in here right here it's adding something",
    "start": "2553720",
    "end": "2559880"
  },
  {
    "text": "called HTTP forwarder and if we look at where that comes from you can see it's coming from",
    "start": "2559880",
    "end": "2566240"
  },
  {
    "text": "a nougat package called jar. reverse proxy",
    "start": "2566240",
    "end": "2572920"
  },
  {
    "text": "and right here you can see app. map forwarder and this is doing what is called a",
    "start": "2573319",
    "end": "2580240"
  },
  {
    "text": "catchall rout uh you could think of this as sort of like a wild card so this is basically saying if something comes in",
    "start": "2580240",
    "end": "2587599"
  },
  {
    "text": "and it's kind of Slash anything then go ahead and uh route it to the um to the",
    "start": "2587599",
    "end": "2595240"
  },
  {
    "text": "Legacy application if it doesn't exist in the routing table for the modern app",
    "start": "2595240",
    "end": "2600440"
  },
  {
    "text": "where to Route it to is this right here this parameter and you can see that's actually being pulled out of",
    "start": "2600440",
    "end": "2607200"
  },
  {
    "text": "configuration out of the proxy to setting so if I go here to my properties",
    "start": "2607200",
    "end": "2614319"
  },
  {
    "text": "launch settings we can find that proxy to setting right here and you can see it's",
    "start": "2614319",
    "end": "2621359"
  },
  {
    "text": "proxying to Local Host 5295 5295 anybody remember that number",
    "start": "2621359",
    "end": "2627359"
  },
  {
    "text": "from before that's the port for my legacy application right now you'll",
    "start": "2627359",
    "end": "2632720"
  },
  {
    "text": "actually notice that this application is being set to run on these four digigit",
    "start": "2632720",
    "end": "2638520"
  },
  {
    "text": "ports so we'll probably see it here running on 5062 and the Legacy application on",
    "start": "2638520",
    "end": "2646400"
  },
  {
    "text": "5295 so that's kind of uh how this is set up the other thing that it does that",
    "start": "2646400",
    "end": "2652160"
  },
  {
    "text": "I think is kind of cool is if we go to the startup projects before I only had one project",
    "start": "2652160",
    "end": "2658760"
  },
  {
    "text": "that I could configure as a startup project but now I have three I have two uh three projects but two of them could",
    "start": "2658760",
    "end": "2664200"
  },
  {
    "text": "be startups and you'll notice that both the m VC Legacy and the MVC core",
    "start": "2664200",
    "end": "2670880"
  },
  {
    "text": "projects are set to start why is that well because if I want to actually test this application I need the Legacy and",
    "start": "2670880",
    "end": "2676839"
  },
  {
    "text": "the modern app both running so that they can communicate with each other obviously the utilities class library is",
    "start": "2676839",
    "end": "2684760"
  },
  {
    "text": "not being start at def by default when I debug and then the other thing I want to",
    "start": "2684760",
    "end": "2689839"
  },
  {
    "text": "show you is the class Library um sorry I want to show you is the uh the Legacy MVC application here",
    "start": "2689839",
    "end": "2696839"
  },
  {
    "text": "if I if I go to the properties and go to the web tab you'll notice uh oh normally",
    "start": "2696839",
    "end": "2702800"
  },
  {
    "text": "it does this uh right here for me so it'll change it to don't open a page so",
    "start": "2702800",
    "end": "2708200"
  },
  {
    "text": "for the Legacy application I don't really want the debugger to launch it and open up a particular URL because I",
    "start": "2708200",
    "end": "2715400"
  },
  {
    "text": "don't really want to see the Legacy application I want to see the modern application now it will forward to the",
    "start": "2715400",
    "end": "2721040"
  },
  {
    "text": "Legacy application for me uh but I don't need to do that see that directly and",
    "start": "2721040",
    "end": "2726440"
  },
  {
    "text": "have like two different Windows browser windows open okay so with all of that let's go ahead and run this and just see",
    "start": "2726440",
    "end": "2732960"
  },
  {
    "text": "what it looks like we saw the application before so let's see what it looks like",
    "start": "2732960",
    "end": "2738920"
  },
  {
    "text": "now so we'll go ahead and run this and when it pops",
    "start": "2738920",
    "end": "2745720"
  },
  {
    "text": "up Edge for me you can see it's hitting the 7060",
    "start": "2745720",
    "end": "2752800"
  },
  {
    "text": "Port that we talked about before so this is my modern application that it's actually hitting now it's taking a",
    "start": "2752800",
    "end": "2758920"
  },
  {
    "text": "couple seconds longer why is that well cuz now the resources of my laptop are launching two as pet and an asp net core",
    "start": "2758920",
    "end": "2767200"
  },
  {
    "text": "application all at once waiting until the ASP net one comes up then the ASP net core one is coming out because of",
    "start": "2767200",
    "end": "2773520"
  },
  {
    "text": "the way I ordered them in the startup and then my request can actually be",
    "start": "2773520",
    "end": "2778559"
  },
  {
    "text": "handled the core application receives it finds that it is not handled yet in the",
    "start": "2778559",
    "end": "2784800"
  },
  {
    "text": "uh in the net core application and so it forwards it through the reverse proxy to",
    "start": "2784800",
    "end": "2790079"
  },
  {
    "text": "the Legacy application now you might be saying like we haven't it looks like we haven't done anything yet and that is",
    "start": "2790079",
    "end": "2796599"
  },
  {
    "text": "technically true uh because now we basically have a modern application that just forwards 100% of everything through",
    "start": "2796599",
    "end": "2803160"
  },
  {
    "text": "to the Legacy application but if your boss asks you can say you're done now",
    "start": "2803160",
    "end": "2809559"
  },
  {
    "text": "right you have now migrated it to a modern application no not yet so what",
    "start": "2809559",
    "end": "2815319"
  },
  {
    "text": "does it look like now that this is a really cool feature if I go back to this Legacy MVC and go back to the upgrade",
    "start": "2815319",
    "end": "2822839"
  },
  {
    "text": "option uh I hadn't clicked done yet let me click done and then do it one more time so the next time I come back to",
    "start": "2822839",
    "end": "2828960"
  },
  {
    "text": "this and pick upgrade it's going to actually show me a a new interface than what it showed me before so this don't",
    "start": "2828960",
    "end": "2836720"
  },
  {
    "text": "if you tell your boss that you're now done don't let them see this because this is going to say that you're 0% done",
    "start": "2836720",
    "end": "2844040"
  },
  {
    "text": "uh because you can see of all the end points that it found in this application 100% of them right now are on NET",
    "start": "2844040",
    "end": "2850960"
  },
  {
    "text": "Framework and 0% of them are on net core so this is kind of a cool little dashboard where you can actually come to",
    "start": "2850960",
    "end": "2857440"
  },
  {
    "text": "see how are we doing uh how many of these endpoints that exist in this aspet",
    "start": "2857440",
    "end": "2862480"
  },
  {
    "text": "application have been migrated over to the aspet core application you can also come here as a way to kind of start the",
    "start": "2862480",
    "end": "2869359"
  },
  {
    "text": "migration process so let's actually migrate something by going here to this",
    "start": "2869359",
    "end": "2875119"
  },
  {
    "text": "update controller and then we'll pick that system web controller that we saw",
    "start": "2875119",
    "end": "2880520"
  },
  {
    "text": "earlier and I'm going to say I want to upgrade that now so I'm going to upgrade that it's going to say I I have to do",
    "start": "2880520",
    "end": "2887720"
  },
  {
    "text": "some classes I have to do some routes and I have to do some views so you can kind of look at all of that stuff you",
    "start": "2887720",
    "end": "2893280"
  },
  {
    "text": "can check or uncheck things if you do or don't want them included I'm going to do everything now included in that if you",
    "start": "2893280",
    "end": "2901119"
  },
  {
    "text": "think about what was actually happening in that application that system web controller was essentially one line of code right but it referenced a view that",
    "start": "2901119",
    "end": "2910319"
  },
  {
    "text": "was also one line of code but referenced a layout page that was much more much",
    "start": "2910319",
    "end": "2915720"
  },
  {
    "text": "more lines of code and so that's quite a bit of things that it had to go figure out to migrate over so let's see if it",
    "start": "2915720",
    "end": "2923640"
  },
  {
    "text": "did so first of all under controllers we can see we've got the system web controller now here's that bug I was",
    "start": "2923640",
    "end": "2929960"
  },
  {
    "text": "telling you about it doesn't do things perfectly all the time it saw a user agent and it thought",
    "start": "2929960",
    "end": "2936079"
  },
  {
    "text": "I know what user agent is and so it went ahead and like changed that to to be an",
    "start": "2936079",
    "end": "2941319"
  },
  {
    "text": "API call like that I'm going to change this to what it should have been which",
    "start": "2941319",
    "end": "2946359"
  },
  {
    "text": "is just a vew bag. user agent equals that now it's still not compiling",
    "start": "2946359",
    "end": "2952680"
  },
  {
    "text": "because uh we're missing a reference right we're missing a reference to that class from our new modern application so",
    "start": "2952680",
    "end": "2959200"
  },
  {
    "text": "I'm going to go in here to my modern application and I'm going to go to dependencies and I'm going to add a",
    "start": "2959200",
    "end": "2965319"
  },
  {
    "text": "project reference and I'm going going to reference my utilities class which is now a net standard 2.0 project uh class",
    "start": "2965319",
    "end": "2971960"
  },
  {
    "text": "Library so I should be able to reference it from net core.net or NET Framework",
    "start": "2971960",
    "end": "2978240"
  },
  {
    "text": "and as soon as I do that all my errors on this should clear okay but let's keep",
    "start": "2978240",
    "end": "2983920"
  },
  {
    "text": "looking at what we were looking at which is what else did it pull over well under views you can see there's a system web",
    "start": "2983920",
    "end": "2990839"
  },
  {
    "text": "index view here which is the same view that I had before in my legacy code but there's also the shared",
    "start": "2990839",
    "end": "2998119"
  },
  {
    "text": "layout now I'm going to gloss over a couple of things that are commented out here because we're going to come back to it in just a",
    "start": "2998119",
    "end": "3004200"
  },
  {
    "text": "second but you'll notice that it's basically pulled over the entire all of",
    "start": "3004200",
    "end": "3009640"
  },
  {
    "text": "the the pieces that it needs to including the layout page to make this work so let's go ahead and run it and",
    "start": "3009640",
    "end": "3016480"
  },
  {
    "text": "see if we can do that okay so again it's launching just",
    "start": "3016480",
    "end": "3023319"
  },
  {
    "text": "one browser tab but behind the scenes it's launching both my legacy and modern",
    "start": "3023319",
    "end": "3029559"
  },
  {
    "text": "applications and I'm going to go ahead and just navigate to system",
    "start": "3029559",
    "end": "3035720"
  },
  {
    "text": "web okay so it kind of worked right I can now see a functional page but not a",
    "start": "3035720",
    "end": "3043400"
  },
  {
    "text": "particularly pretty page it doesn't have the header and footer it's obviously missing CSS that we need for this",
    "start": "3043400",
    "end": "3049720"
  },
  {
    "text": "application now you if you're an eagle-eyed attendee you might have already spotted why",
    "start": "3049720",
    "end": "3057040"
  },
  {
    "text": "right here something commented out and then if I go down here something related",
    "start": "3057040",
    "end": "3062720"
  },
  {
    "text": "to that also com commented out so we're missing all of our bootstrap jQuery CSS Etc all of those bundles are",
    "start": "3062720",
    "end": "3070880"
  },
  {
    "text": "missing now why are those bundles missing because one of the inconsistencies between asp.net and",
    "start": "3070880",
    "end": "3079160"
  },
  {
    "text": "asp.net core is that asp.net core has no bundling Library like asp.net does why",
    "start": "3079160",
    "end": "3087359"
  },
  {
    "text": "because there are a ton of ways to bundle things now a lot of people use webpack there's other things that you",
    "start": "3087359",
    "end": "3092559"
  },
  {
    "text": "can use to bundle things for web development and Microsoft said why bother Reinventing the wheel people are",
    "start": "3092559",
    "end": "3099559"
  },
  {
    "text": "not using these U this bundling Library anymore we're just not going to bring it forward so they didn't now there was",
    "start": "3099559",
    "end": "3106240"
  },
  {
    "text": "enough of a backlash with people who said but I want to have serers side bundling uh in my C code that somebody",
    "start": "3106240",
    "end": "3114240"
  },
  {
    "text": "created a library a third party Library to do exactly this it's called lier",
    "start": "3114240",
    "end": "3120079"
  },
  {
    "text": "shark and I'm going to grab a reference to it right here and show you how you could actually bring that into your",
    "start": "3120079",
    "end": "3126559"
  },
  {
    "text": "application so I'm going to go to the the new core application here and",
    "start": "3126559",
    "end": "3133559"
  },
  {
    "text": "I'm going to add a reference to it and so I'll go to the browse Tab and",
    "start": "3133559",
    "end": "3140960"
  },
  {
    "text": "I'll search for that liger shark web web Optimizer doc core and I'm going to go",
    "start": "3140960",
    "end": "3146200"
  },
  {
    "text": "ahead and and install that into my core project okay so now I've got a couple of",
    "start": "3146200",
    "end": "3154000"
  },
  {
    "text": "lines of code here that I'm just going to copy uh in the interest of time but before I do that actually I need to have",
    "start": "3154000",
    "end": "3160040"
  },
  {
    "text": "the actual content the actual JavaScript the actual CSS that I want to use I need to have that in my new application to be",
    "start": "3160040",
    "end": "3166680"
  },
  {
    "text": "able to use it from there so I'm going to kind of do the lazy approach here and I'm just going to go to the Legacy",
    "start": "3166680",
    "end": "3172319"
  },
  {
    "text": "application and I know that that is all coming from either content or scripts so",
    "start": "3172319",
    "end": "3178359"
  },
  {
    "text": "I'm going to basically highlight uh the content folder and the",
    "start": "3178359",
    "end": "3183839"
  },
  {
    "text": "scripts folder and then I'm going to copy those",
    "start": "3183839",
    "end": "3189000"
  },
  {
    "text": "and paste them into my new project like that okay so now you can see I've got a",
    "start": "3189000",
    "end": "3196960"
  },
  {
    "text": "mess of content stuff and a mess of script stuff in there that I've just basically copied in the other thing that",
    "start": "3196960",
    "end": "3202599"
  },
  {
    "text": "happened when I copied that in is it will have actually edited the project file for me and I don't really love the",
    "start": "3202599",
    "end": "3210240"
  },
  {
    "text": "way that it does this it basically goes through and enumerates every single file I want to actually say instead of file",
    "start": "3210240",
    "end": "3216520"
  },
  {
    "text": "by file like that I just want to say if it's in the content folder or the scripts folder let's go ahead and deploy",
    "start": "3216520",
    "end": "3221720"
  },
  {
    "text": "it with the application so instead of that mess right there I'm going to use",
    "start": "3221720",
    "end": "3227319"
  },
  {
    "text": "this little bit nicer syntax that basically says it with wild cards okay so now I'm",
    "start": "3227319",
    "end": "3234680"
  },
  {
    "text": "saying if it's under the content folder or if it's under the scripts folder let's go ahead and uh deploy it if it's",
    "start": "3234680",
    "end": "3242559"
  },
  {
    "text": "newer okay next step is to basically create those bundles with the lier shark uh",
    "start": "3242559",
    "end": "3249440"
  },
  {
    "text": "with the liers shark Library the way that looks is to basically add the use web Optimizer code and then to actually",
    "start": "3249440",
    "end": "3257839"
  },
  {
    "text": "configure the bundles so I'm going to go do that in my startup uh program CS",
    "start": "3257839",
    "end": "3267319"
  },
  {
    "text": "so right here let's see",
    "start": "3267319",
    "end": "3273119"
  },
  {
    "text": "right here I'm going to use app.use web Optimizer so that's where",
    "start": "3273119",
    "end": "3280240"
  },
  {
    "text": "it's going to insert the ler shark Library into my request response Pipeline and then right here I'm going",
    "start": "3280240",
    "end": "3286960"
  },
  {
    "text": "to paste in this code that basically reconfigures the bundles that I had in my old old code this syntax is almost",
    "start": "3286960",
    "end": "3294480"
  },
  {
    "text": "identical to what you did with the bundle configuration in your legacy aspnet applications uh it's just",
    "start": "3294480",
    "end": "3301799"
  },
  {
    "text": "slightly different so you could kind of copy that over and then tweak it uh to basically work with liger shark all",
    "start": "3301799",
    "end": "3309599"
  },
  {
    "text": "right so now with all of that in mind I should be able to run that application now and have that new page on my new uh",
    "start": "3309599",
    "end": "3318200"
  },
  {
    "text": "uh my new modern application actually have CSS oh except I forgot one",
    "start": "3318200",
    "end": "3324039"
  },
  {
    "text": "step forgot one step which is to actually uh comment in those script and stylesheets so I'm",
    "start": "3324039",
    "end": "3332280"
  },
  {
    "text": "going to go back to the layout and I'll just paste in these tags",
    "start": "3332280",
    "end": "3338280"
  },
  {
    "text": "here that reference those in the more uh a non server side way they just",
    "start": "3338280",
    "end": "3344280"
  },
  {
    "text": "referencing them the typical client side way that you would do it all right now I've done all the steps",
    "start": "3344280",
    "end": "3350799"
  },
  {
    "text": "that I should do and so now the new application actually has references to these bundles",
    "start": "3350799",
    "end": "3357079"
  },
  {
    "text": "using the ligra shark Library it's actually building those bundles at runtime and I should be",
    "start": "3357079",
    "end": "3364000"
  },
  {
    "text": "able to go to that SLS system web namespace and have it get those bundles so let's test it out",
    "start": "3364000",
    "end": "3371839"
  },
  {
    "text": "okay there we go so you might not be able to tell but what's kind of interesting if you think about what's",
    "start": "3371839",
    "end": "3376960"
  },
  {
    "text": "actually happening here when I come to this page the original request for the page itself the main host page here is",
    "start": "3376960",
    "end": "3384520"
  },
  {
    "text": "being routed uh by yarp to the modern application it's not being proxied",
    "start": "3384520",
    "end": "3390920"
  },
  {
    "text": "through then the requests for all those bundles are also now not being quer uh",
    "start": "3390920",
    "end": "3397480"
  },
  {
    "text": "proxied through anymore because we just replaced them with lier shark",
    "start": "3397480",
    "end": "3402720"
  },
  {
    "text": "however uh when I go to this page this page does not exist in the modern application yet and so what's happening",
    "start": "3402720",
    "end": "3409440"
  },
  {
    "text": "here first the request for the slash page or the index page is going through",
    "start": "3409440",
    "end": "3416240"
  },
  {
    "text": "through yarp and being reverse proxied to the Legacy application then that's coming back through the modern",
    "start": "3416240",
    "end": "3422160"
  },
  {
    "text": "application as a response we're getting the page and then all of the other content it's asking for here the images",
    "start": "3422160",
    "end": "3429160"
  },
  {
    "text": "the CSS bundles the JavaScript bundles uh initially those were being uh those",
    "start": "3429160",
    "end": "3435240"
  },
  {
    "text": "were coming from the Legacy application but now that I've created those bundle routes on the modern application now",
    "start": "3435240",
    "end": "3442400"
  },
  {
    "text": "this page is coming from the Legacy app but all of its CSS and so on are coming",
    "start": "3442400",
    "end": "3447559"
  },
  {
    "text": "from the modern app so you could say this page is sort of like half migrated at this",
    "start": "3447559",
    "end": "3452839"
  },
  {
    "text": "point all right let's get back to our presentation here just a couple other things I wanted",
    "start": "3452839",
    "end": "3459280"
  },
  {
    "text": "to mention so the system web",
    "start": "3459280",
    "end": "3464599"
  },
  {
    "text": "adapters once you get past the more trivial parts that I've showed you today",
    "start": "3464599",
    "end": "3469680"
  },
  {
    "text": "and you start to get into the weeds of doing a legacy migration you're going to run into things like session state",
    "start": "3469680",
    "end": "3476160"
  },
  {
    "text": "you're going to run into things like authentication uh these get a little bit harder when you're trying to make two",
    "start": "3476160",
    "end": "3482880"
  },
  {
    "text": "applications use the same authentication or share session state with each other",
    "start": "3482880",
    "end": "3488000"
  },
  {
    "text": "there is a shim library that Microsoft has created that's called system. Web adapters and it basically gives you two",
    "start": "3488000",
    "end": "3496000"
  },
  {
    "text": "things number one it gives you all uh not all but about 80% of the sdks that",
    "start": "3496000",
    "end": "3502319"
  },
  {
    "text": "exist inside the system. web namespace as a modern mapping so you can take code",
    "start": "3502319",
    "end": "3508799"
  },
  {
    "text": "that was written against system. web. HTTP context like uh the code that we saw earlier and uh using things that are",
    "start": "3508799",
    "end": "3516559"
  },
  {
    "text": "in that system web name space and if it's running in net core it'll map it to the modern equivalent for you without",
    "start": "3516559",
    "end": "3523240"
  },
  {
    "text": "you having to rewrite that line of code at all if you're running in NET Framework it'll use the system. web name",
    "start": "3523240",
    "end": "3529079"
  },
  {
    "text": "space for you so it's a shim that kind of goes between you and the system. webn name space and either gives you the old",
    "start": "3529079",
    "end": "3535440"
  },
  {
    "text": "stuff or the new stuff depending on where you're running the second thing it does for you is it gives you the opportunity for your two applications to",
    "start": "3535440",
    "end": "3542119"
  },
  {
    "text": "talk to each other a little bit with things like session State and authentication so there's three",
    "start": "3542119",
    "end": "3547440"
  },
  {
    "text": "different libraries one that you would use uh for both sides the system. web adapter's",
    "start": "3547440",
    "end": "3553359"
  },
  {
    "text": "namespace uh the core Services one is the one that goes on aspet core applications only and the framework",
    "start": "3553359",
    "end": "3559920"
  },
  {
    "text": "Services one is the one that goes on the framework side you can configure these to talk to each other so that you can",
    "start": "3559920",
    "end": "3566119"
  },
  {
    "text": "proxy through your authentication to your legacy application and it can return with a cookie or whatever its",
    "start": "3566119",
    "end": "3571680"
  },
  {
    "text": "response is and then your modern application can actually get that information as well and be able to read",
    "start": "3571680",
    "end": "3577760"
  },
  {
    "text": "that authentication cookie and now both applications are using the same authentication as each other so a couple",
    "start": "3577760",
    "end": "3585319"
  },
  {
    "text": "just FYI about these tools that we looked at today two of the things that we looked at today are in release",
    "start": "3585319",
    "end": "3591680"
  },
  {
    "text": "officially so yarp and the system web adapters you're good to go on those things just a heads up it's pretty",
    "start": "3591680",
    "end": "3598640"
  },
  {
    "text": "production ready but this net Upgrade Assistant is still technically a preview",
    "start": "3598640",
    "end": "3603720"
  },
  {
    "text": "release so be aware that some of the things like what we saw with the user agent line of code might happen to you",
    "start": "3603720",
    "end": "3610960"
  },
  {
    "text": "as well that is it for my content I am happy to take any questions I think",
    "start": "3610960",
    "end": "3617559"
  },
  {
    "text": "we've got like one minute left if anyone wants to come to the microphone and ask",
    "start": "3617559",
    "end": "3622760"
  },
  {
    "text": "or I can repeat it yeah go ahead",
    "start": "3622760",
    "end": "3626960"
  },
  {
    "text": "yeah so the question is about ASP net identity I assume yeah so the if you want to do aspnet identity it is",
    "start": "3637960",
    "end": "3645039"
  },
  {
    "text": "possible to do it does the Devil is in the details a little bit um what what versions you're using and so on but it",
    "start": "3645039",
    "end": "3652039"
  },
  {
    "text": "is possible to do and if you want to talk more about the details I'd be happy to talk to you up here afterwards yeah",
    "start": "3652039",
    "end": "3658799"
  },
  {
    "text": "one one more up here do this upgrade it's part of",
    "start": "3658799",
    "end": "3665880"
  },
  {
    "text": "migration going to the cloud have you tried reality",
    "start": "3665880",
    "end": "3673200"
  },
  {
    "text": "like ah okay so the question is have we tried doing this upgrade like Tech stack",
    "start": "3674559",
    "end": "3680400"
  },
  {
    "text": "upgrade while also doing like a cloud migration upgrade and the answer is yes",
    "start": "3680400",
    "end": "3686520"
  },
  {
    "text": "and the easiest way to do it obviously is if everything is in one place so in in the case that I'm thinking of we",
    "start": "3686520",
    "end": "3693000"
  },
  {
    "text": "migrated the Legacy application to the cloud and the modern application to the cloud all at the same time as well as",
    "start": "3693000",
    "end": "3699839"
  },
  {
    "text": "doing yarp in front of them and so on so it is possible to do uh you don't even",
    "start": "3699839",
    "end": "3705839"
  },
  {
    "text": "have to have the Legacy application in the cloud technically uh but it just it does make things easier to have it there",
    "start": "3705839",
    "end": "3712880"
  },
  {
    "text": "so great question all right I think that's all the time I've got State questions in this format but feel free",
    "start": "3712880",
    "end": "3718359"
  },
  {
    "text": "to come up afterwards thanks so much for coming today",
    "start": "3718359",
    "end": "3723599"
  }
]