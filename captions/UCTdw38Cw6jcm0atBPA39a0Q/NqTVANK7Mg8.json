[
  {
    "text": "this",
    "start": "3280",
    "end": "5600"
  },
  {
    "text": "is a commodore 64.",
    "start": "6319",
    "end": "8000"
  },
  {
    "text": "behold the nostalgia of the 80s",
    "start": "8000",
    "end": "10880"
  },
  {
    "text": "thank you",
    "start": "10880",
    "end": "13200"
  },
  {
    "text": "so this is it might look like an",
    "start": "13360",
    "end": "15120"
  },
  {
    "text": "animated gif of a commodore 64 screen",
    "start": "15120",
    "end": "17680"
  },
  {
    "text": "but it is actually",
    "start": "17680",
    "end": "19680"
  },
  {
    "text": "a well i say it's a fully functional",
    "start": "19680",
    "end": "21600"
  },
  {
    "text": "commodore 64.",
    "start": "21600",
    "end": "23359"
  },
  {
    "text": "oh yeah i can type",
    "start": "23359",
    "end": "25920"
  },
  {
    "text": "so i can do things",
    "start": "25920",
    "end": "28000"
  },
  {
    "text": "in here",
    "start": "28000",
    "end": "31320"
  },
  {
    "text": "if i could spell",
    "start": "31599",
    "end": "33840"
  },
  {
    "text": "and it will actually run",
    "start": "33840",
    "end": "37200"
  },
  {
    "text": "ah",
    "start": "38000",
    "end": "38879"
  },
  {
    "text": "if i can",
    "start": "38879",
    "end": "40079"
  },
  {
    "text": "type there we go",
    "start": "40079",
    "end": "42320"
  },
  {
    "text": "okay so",
    "start": "42320",
    "end": "43360"
  },
  {
    "text": "it is a functional basic interpreter",
    "start": "43360",
    "end": "46239"
  },
  {
    "text": "uh a functional commodore 64.",
    "start": "46239",
    "end": "49039"
  },
  {
    "text": "uh and the interesting thing about this",
    "start": "49039",
    "end": "51680"
  },
  {
    "text": "is",
    "start": "51680",
    "end": "53039"
  },
  {
    "text": "it is running",
    "start": "53039",
    "end": "54480"
  },
  {
    "text": "in chrome",
    "start": "54480",
    "end": "55520"
  },
  {
    "text": "so",
    "start": "55520",
    "end": "56399"
  },
  {
    "text": "i can pull up the developer tools",
    "start": "56399",
    "end": "58960"
  },
  {
    "text": "i can go into the sources i can pull up",
    "start": "58960",
    "end": "62239"
  },
  {
    "text": "all the javascript that's involved",
    "start": "62239",
    "end": "64799"
  },
  {
    "text": "and it just it goes on for",
    "start": "64799",
    "end": "67760"
  },
  {
    "text": "it goes on for a ways",
    "start": "67760",
    "end": "69680"
  },
  {
    "text": "but",
    "start": "69680",
    "end": "71119"
  },
  {
    "text": "what we are going to do is have a look",
    "start": "71119",
    "end": "73280"
  },
  {
    "text": "not at the source code we are gonna have",
    "start": "73280",
    "end": "75520"
  },
  {
    "text": "a look at",
    "start": "75520",
    "end": "77920"
  },
  {
    "text": "uh i'm gonna have to drag this over",
    "start": "77920",
    "end": "79439"
  },
  {
    "text": "there now how's that gonna work uh we're",
    "start": "79439",
    "end": "82000"
  },
  {
    "text": "gonna have a look at",
    "start": "82000",
    "end": "84720"
  },
  {
    "text": "the",
    "start": "84720",
    "end": "85600"
  },
  {
    "text": "what and the wherefores",
    "start": "85600",
    "end": "87680"
  },
  {
    "text": "of",
    "start": "87680",
    "end": "89600"
  },
  {
    "text": "how you go about that let's see let's",
    "start": "89600",
    "end": "91040"
  },
  {
    "text": "see how this goes if i press play",
    "start": "91040",
    "end": "92960"
  },
  {
    "text": "there we go perfect right",
    "start": "92960",
    "end": "95439"
  },
  {
    "text": "so",
    "start": "95439",
    "end": "97119"
  },
  {
    "text": "we have seen the demo of the commodore",
    "start": "97119",
    "end": "99840"
  },
  {
    "text": "64 running in javascript",
    "start": "99840",
    "end": "103119"
  },
  {
    "text": "why would you do such a thing what is",
    "start": "103119",
    "end": "105040"
  },
  {
    "text": "the point",
    "start": "105040",
    "end": "106159"
  },
  {
    "text": "uh there's a nostalgia factor of course",
    "start": "106159",
    "end": "109280"
  },
  {
    "text": "i mean i grew up playing turrican new",
    "start": "109280",
    "end": "111439"
  },
  {
    "text": "zealand story all of those kinds of",
    "start": "111439",
    "end": "113600"
  },
  {
    "text": "games on the commodore 64. but the most",
    "start": "113600",
    "end": "116399"
  },
  {
    "text": "important thing here is",
    "start": "116399",
    "end": "118799"
  },
  {
    "text": "that",
    "start": "118799",
    "end": "120079"
  },
  {
    "text": "they say that if you want to learn",
    "start": "120079",
    "end": "121360"
  },
  {
    "text": "something the best way is to teach it",
    "start": "121360",
    "end": "123920"
  },
  {
    "text": "so if you're teaching a computer how to",
    "start": "123920",
    "end": "126560"
  },
  {
    "text": "be a different computer or how to behave",
    "start": "126560",
    "end": "128560"
  },
  {
    "text": "like a different computer",
    "start": "128560",
    "end": "130239"
  },
  {
    "text": "then you're learning something about",
    "start": "130239",
    "end": "131920"
  },
  {
    "text": "computer design while you're in the",
    "start": "131920",
    "end": "134160"
  },
  {
    "text": "process of teaching the computer",
    "start": "134160",
    "end": "136640"
  },
  {
    "text": "and this the theory of this goes all the",
    "start": "136640",
    "end": "140239"
  },
  {
    "text": "way back to the 1930s to the turing",
    "start": "140239",
    "end": "142480"
  },
  {
    "text": "machine so this is the it's not the",
    "start": "142480",
    "end": "145680"
  },
  {
    "text": "diagram from the paper from turing it's",
    "start": "145680",
    "end": "148000"
  },
  {
    "text": "very similar you have the data",
    "start": "148000",
    "end": "151599"
  },
  {
    "text": "which is just",
    "start": "151599",
    "end": "152879"
  },
  {
    "text": "in the turing case a",
    "start": "152879",
    "end": "155120"
  },
  {
    "text": "tape of binary",
    "start": "155120",
    "end": "157519"
  },
  {
    "text": "and you have a read write head which can",
    "start": "157519",
    "end": "160160"
  },
  {
    "text": "point",
    "start": "160160",
    "end": "161120"
  },
  {
    "text": "at a particular location",
    "start": "161120",
    "end": "163120"
  },
  {
    "text": "and either go left go right change",
    "start": "163120",
    "end": "166160"
  },
  {
    "text": "what's on the tape",
    "start": "166160",
    "end": "167599"
  },
  {
    "text": "depending on the description of the",
    "start": "167599",
    "end": "170640"
  },
  {
    "text": "machine",
    "start": "170640",
    "end": "171920"
  },
  {
    "text": "and the seminal insight that turing had",
    "start": "171920",
    "end": "174239"
  },
  {
    "text": "was that the description of the machine",
    "start": "174239",
    "end": "176239"
  },
  {
    "text": "can itself",
    "start": "176239",
    "end": "177680"
  },
  {
    "text": "be on the tape it can be data and as",
    "start": "177680",
    "end": "180640"
  },
  {
    "text": "long as you have",
    "start": "180640",
    "end": "182000"
  },
  {
    "text": "a read write head and a set of state",
    "start": "182000",
    "end": "184879"
  },
  {
    "text": "registers",
    "start": "184879",
    "end": "186080"
  },
  {
    "text": "they can be a black box essentially the",
    "start": "186080",
    "end": "188400"
  },
  {
    "text": "implementation of that bottom half",
    "start": "188400",
    "end": "191599"
  },
  {
    "text": "is irrelevant",
    "start": "191599",
    "end": "193040"
  },
  {
    "text": "as long as if you give it a program",
    "start": "193040",
    "end": "194720"
  },
  {
    "text": "binary it does the same thing to the",
    "start": "194720",
    "end": "197360"
  },
  {
    "text": "data",
    "start": "197360",
    "end": "199519"
  },
  {
    "text": "so",
    "start": "199519",
    "end": "201040"
  },
  {
    "text": "we're going to be",
    "start": "201040",
    "end": "202480"
  },
  {
    "text": "simulating",
    "start": "202480",
    "end": "204239"
  },
  {
    "text": "each of these components of a computer",
    "start": "204239",
    "end": "206879"
  },
  {
    "text": "and on your classic 8-bit machines like",
    "start": "206879",
    "end": "209760"
  },
  {
    "text": "the commodore 64 you can open the",
    "start": "209760",
    "end": "211599"
  },
  {
    "text": "computer and on the main board you will",
    "start": "211599",
    "end": "214159"
  },
  {
    "text": "find these chips there is a processor",
    "start": "214159",
    "end": "215840"
  },
  {
    "text": "there is a memory controller there is a",
    "start": "215840",
    "end": "218080"
  },
  {
    "text": "video chip so each of these are",
    "start": "218080",
    "end": "219599"
  },
  {
    "text": "physically separate",
    "start": "219599",
    "end": "221200"
  },
  {
    "text": "that's not so much the case anymore if",
    "start": "221200",
    "end": "222799"
  },
  {
    "text": "you open up a pc for example",
    "start": "222799",
    "end": "225040"
  },
  {
    "text": "you'll have like the consolidated",
    "start": "225040",
    "end": "227360"
  },
  {
    "text": "northbridge for example but",
    "start": "227360",
    "end": "229440"
  },
  {
    "text": "this used to be the case certainly",
    "start": "229440",
    "end": "232239"
  },
  {
    "text": "so we'll start off with",
    "start": "232239",
    "end": "234400"
  },
  {
    "text": "the processor the most important part",
    "start": "234400",
    "end": "237439"
  },
  {
    "text": "and",
    "start": "237439",
    "end": "238480"
  },
  {
    "text": "we mentioned that",
    "start": "238480",
    "end": "241120"
  },
  {
    "text": "the",
    "start": "241120",
    "end": "242080"
  },
  {
    "text": "program binary is just a list of numbers",
    "start": "242080",
    "end": "245840"
  },
  {
    "text": "so here is a list of numbers for a",
    "start": "245840",
    "end": "248879"
  },
  {
    "text": "program that would run on the commodore",
    "start": "248879",
    "end": "250799"
  },
  {
    "text": "64. 169.",
    "start": "250799",
    "end": "252959"
  },
  {
    "text": "0",
    "start": "252959",
    "end": "254360"
  },
  {
    "text": "141 32 and so on and so forth",
    "start": "254360",
    "end": "258799"
  },
  {
    "text": "and each of those numbers means",
    "start": "258799",
    "end": "260959"
  },
  {
    "text": "something",
    "start": "260959",
    "end": "262079"
  },
  {
    "text": "to the processor that's inside the",
    "start": "262079",
    "end": "264000"
  },
  {
    "text": "commodore 64.",
    "start": "264000",
    "end": "266800"
  },
  {
    "text": "and what the processor does this is what",
    "start": "266800",
    "end": "268880"
  },
  {
    "text": "any processor will do",
    "start": "268880",
    "end": "270639"
  },
  {
    "text": "it will",
    "start": "270639",
    "end": "271759"
  },
  {
    "text": "first of all pull",
    "start": "271759",
    "end": "273600"
  },
  {
    "text": "a number",
    "start": "273600",
    "end": "274800"
  },
  {
    "text": "from a current location that it's",
    "start": "274800",
    "end": "276560"
  },
  {
    "text": "pointing to in memory",
    "start": "276560",
    "end": "278160"
  },
  {
    "text": "and that will be the instruction it's",
    "start": "278160",
    "end": "280479"
  },
  {
    "text": "going to execute next it will go into",
    "start": "280479",
    "end": "283360"
  },
  {
    "text": "its internal logic it will try to work",
    "start": "283360",
    "end": "285680"
  },
  {
    "text": "out what that number means",
    "start": "285680",
    "end": "288320"
  },
  {
    "text": "whether it needs any more data",
    "start": "288320",
    "end": "290479"
  },
  {
    "text": "from the program it will fetch",
    "start": "290479",
    "end": "293360"
  },
  {
    "text": "bytes until it has the full instruction",
    "start": "293360",
    "end": "296320"
  },
  {
    "text": "and then it will execute the instruction",
    "start": "296320",
    "end": "297840"
  },
  {
    "text": "fetch decode execute and then it just it",
    "start": "297840",
    "end": "299840"
  },
  {
    "text": "goes back to the top and it does this",
    "start": "299840",
    "end": "301840"
  },
  {
    "text": "forever",
    "start": "301840",
    "end": "303280"
  },
  {
    "text": "and we say it'll fetch an instruction",
    "start": "303280",
    "end": "305520"
  },
  {
    "text": "byte from",
    "start": "305520",
    "end": "306960"
  },
  {
    "text": "the place that it's pointing to in the",
    "start": "306960",
    "end": "308880"
  },
  {
    "text": "program",
    "start": "308880",
    "end": "311039"
  },
  {
    "text": "the commodore 64 processor calls that",
    "start": "311039",
    "end": "312800"
  },
  {
    "text": "the program counter",
    "start": "312800",
    "end": "314479"
  },
  {
    "text": "there are a couple of other",
    "start": "314479",
    "end": "316800"
  },
  {
    "text": "tiny little memory locations inside the",
    "start": "316800",
    "end": "318960"
  },
  {
    "text": "processor",
    "start": "318960",
    "end": "320320"
  },
  {
    "text": "because just because of speed of light",
    "start": "320320",
    "end": "322479"
  },
  {
    "text": "delays because if you had all of these",
    "start": "322479",
    "end": "325360"
  },
  {
    "text": "little things",
    "start": "325360",
    "end": "326560"
  },
  {
    "text": "over in the main memory it would take a",
    "start": "326560",
    "end": "328639"
  },
  {
    "text": "while to get to them to get the value to",
    "start": "328639",
    "end": "330320"
  },
  {
    "text": "bring it back",
    "start": "330320",
    "end": "331520"
  },
  {
    "text": "so these are actually inside the",
    "start": "331520",
    "end": "333120"
  },
  {
    "text": "processor so they're used all the time",
    "start": "333120",
    "end": "335520"
  },
  {
    "text": "so you also have the accumulator which",
    "start": "335520",
    "end": "337600"
  },
  {
    "text": "is just a place to store results of",
    "start": "337600",
    "end": "340240"
  },
  {
    "text": "calculations we have two memory offsets",
    "start": "340240",
    "end": "343600"
  },
  {
    "text": "we have a stack pointer and we have a",
    "start": "343600",
    "end": "346160"
  },
  {
    "text": "few flags that indicate whether the last",
    "start": "346160",
    "end": "348160"
  },
  {
    "text": "result",
    "start": "348160",
    "end": "349120"
  },
  {
    "text": "of a calculation was negative whether it",
    "start": "349120",
    "end": "352240"
  },
  {
    "text": "was zero something like that",
    "start": "352240",
    "end": "355120"
  },
  {
    "text": "so if we take the program that we just",
    "start": "355120",
    "end": "357919"
  },
  {
    "text": "saw a few slides ago",
    "start": "357919",
    "end": "360560"
  },
  {
    "text": "we can break it up",
    "start": "360560",
    "end": "362160"
  },
  {
    "text": "into how the processor would see it so",
    "start": "362160",
    "end": "364840"
  },
  {
    "text": "169 means",
    "start": "364840",
    "end": "367360"
  },
  {
    "text": "take the next bite to the program",
    "start": "367360",
    "end": "369840"
  },
  {
    "text": "and stick that straight in the",
    "start": "369840",
    "end": "370880"
  },
  {
    "text": "accumulator",
    "start": "370880",
    "end": "372240"
  },
  {
    "text": "so in this case zero",
    "start": "372240",
    "end": "374800"
  },
  {
    "text": "and then",
    "start": "374800",
    "end": "375880"
  },
  {
    "text": "131",
    "start": "375880",
    "end": "377440"
  },
  {
    "text": "or in this case hexadecimal 8d",
    "start": "377440",
    "end": "380400"
  },
  {
    "text": "means take the next two bytes of the",
    "start": "380400",
    "end": "382880"
  },
  {
    "text": "program make an address out of them and",
    "start": "382880",
    "end": "386240"
  },
  {
    "text": "send it out on the memory bus to be",
    "start": "386240",
    "end": "388319"
  },
  {
    "text": "saved in memory",
    "start": "388319",
    "end": "390240"
  },
  {
    "text": "so in this case the program that we saw",
    "start": "390240",
    "end": "393120"
  },
  {
    "text": "takes the value zero puts it in one",
    "start": "393120",
    "end": "395120"
  },
  {
    "text": "place takes the value one puts it in a",
    "start": "395120",
    "end": "397280"
  },
  {
    "text": "different place",
    "start": "397280",
    "end": "398800"
  },
  {
    "text": "and then does some stack magic to send",
    "start": "398800",
    "end": "400880"
  },
  {
    "text": "you back to the basic interpreter",
    "start": "400880",
    "end": "404560"
  },
  {
    "text": "so how does a processor do this in",
    "start": "404560",
    "end": "407280"
  },
  {
    "text": "general",
    "start": "407280",
    "end": "408639"
  },
  {
    "text": "uh",
    "start": "408639",
    "end": "409440"
  },
  {
    "text": "we'll go inside the black box of the",
    "start": "409440",
    "end": "411199"
  },
  {
    "text": "processor",
    "start": "411199",
    "end": "412560"
  },
  {
    "text": "and we have the instruction decoder as",
    "start": "412560",
    "end": "415039"
  },
  {
    "text": "you might expect which works out how",
    "start": "415039",
    "end": "418160"
  },
  {
    "text": "uh what the value that you just fetched",
    "start": "418160",
    "end": "421039"
  },
  {
    "text": "means we have the state registers which",
    "start": "421039",
    "end": "423840"
  },
  {
    "text": "were pc and a and x and y and so forth",
    "start": "423840",
    "end": "426800"
  },
  {
    "text": "we have the arithmetic unit which",
    "start": "426800",
    "end": "429039"
  },
  {
    "text": "actually does the logic",
    "start": "429039",
    "end": "431280"
  },
  {
    "text": "of for example addition subtraction",
    "start": "431280",
    "end": "433280"
  },
  {
    "text": "loading",
    "start": "433280",
    "end": "434720"
  },
  {
    "text": "and we have an interface",
    "start": "434720",
    "end": "436400"
  },
  {
    "text": "to the memory",
    "start": "436400",
    "end": "438000"
  },
  {
    "text": "which is where all of the",
    "start": "438000",
    "end": "440880"
  },
  {
    "text": "things that go in and out of the",
    "start": "440880",
    "end": "442400"
  },
  {
    "text": "processor",
    "start": "442400",
    "end": "444000"
  },
  {
    "text": "uh where they come from",
    "start": "444000",
    "end": "446000"
  },
  {
    "text": "so if you are to emulate a processor you",
    "start": "446000",
    "end": "449199"
  },
  {
    "text": "want to emulate each of these little",
    "start": "449199",
    "end": "451120"
  },
  {
    "text": "pieces",
    "start": "451120",
    "end": "452479"
  },
  {
    "text": "that's what you do",
    "start": "452479",
    "end": "453759"
  },
  {
    "text": "you swap in some javascript",
    "start": "453759",
    "end": "455840"
  },
  {
    "text": "your instruction decoder becomes a giant",
    "start": "455840",
    "end": "458000"
  },
  {
    "text": "switch statement",
    "start": "458000",
    "end": "459400"
  },
  {
    "text": "256",
    "start": "459400",
    "end": "460960"
  },
  {
    "text": "cases long",
    "start": "460960",
    "end": "462639"
  },
  {
    "text": "your state registers are just an object",
    "start": "462639",
    "end": "465199"
  },
  {
    "text": "a x y b c",
    "start": "465199",
    "end": "467199"
  },
  {
    "text": "your arithmetic unit is a list of",
    "start": "467199",
    "end": "469520"
  },
  {
    "text": "functions and",
    "start": "469520",
    "end": "471199"
  },
  {
    "text": "your average function might look like",
    "start": "471199",
    "end": "473599"
  },
  {
    "text": "load register.a with mmu.org",
    "start": "473599",
    "end": "478240"
  },
  {
    "text": "with the address of register.pc plus",
    "start": "478240",
    "end": "480639"
  },
  {
    "text": "plus because",
    "start": "480639",
    "end": "482400"
  },
  {
    "text": "pc automatically gets advanced every",
    "start": "482400",
    "end": "485199"
  },
  {
    "text": "time you read a byte from the program",
    "start": "485199",
    "end": "487759"
  },
  {
    "text": "and then mmu or memory management unit i",
    "start": "487759",
    "end": "490960"
  },
  {
    "text": "guess is",
    "start": "490960",
    "end": "492960"
  },
  {
    "text": "just",
    "start": "492960",
    "end": "494000"
  },
  {
    "text": "two functions",
    "start": "494000",
    "end": "495360"
  },
  {
    "text": "reader bytes from memory",
    "start": "495360",
    "end": "497120"
  },
  {
    "text": "write a byte to memory",
    "start": "497120",
    "end": "499360"
  },
  {
    "text": "and i've left little to-do's there we'll",
    "start": "499360",
    "end": "500879"
  },
  {
    "text": "get to those",
    "start": "500879",
    "end": "502639"
  },
  {
    "text": "because",
    "start": "502639",
    "end": "503840"
  },
  {
    "text": "the commodore 64 was advertised in 1982",
    "start": "503840",
    "end": "507120"
  },
  {
    "text": "as having 64 kilobytes of memory",
    "start": "507120",
    "end": "509840"
  },
  {
    "text": "that is true",
    "start": "509840",
    "end": "511440"
  },
  {
    "text": "but if you use all 64 kilobytes of",
    "start": "511440",
    "end": "514000"
  },
  {
    "text": "memory there's no way to get anything in",
    "start": "514000",
    "end": "516399"
  },
  {
    "text": "or out of the system so you can do",
    "start": "516399",
    "end": "518399"
  },
  {
    "text": "calculations all day you'll never see",
    "start": "518399",
    "end": "519839"
  },
  {
    "text": "the results",
    "start": "519839",
    "end": "521599"
  },
  {
    "text": "so what the commodore 64 allows you to",
    "start": "521599",
    "end": "524720"
  },
  {
    "text": "do is swap in little regions of memory",
    "start": "524720",
    "end": "527279"
  },
  {
    "text": "so",
    "start": "527279",
    "end": "528000"
  },
  {
    "text": "the 8 kilobyte basic rom can be swapped",
    "start": "528000",
    "end": "530160"
  },
  {
    "text": "in or out",
    "start": "530160",
    "end": "531360"
  },
  {
    "text": "the disk operating system can be swapped",
    "start": "531360",
    "end": "533200"
  },
  {
    "text": "in or out and the input output area",
    "start": "533200",
    "end": "536720"
  },
  {
    "text": "which is a way to connect to the various",
    "start": "536720",
    "end": "539200"
  },
  {
    "text": "other chips that can be swapped in or",
    "start": "539200",
    "end": "541519"
  },
  {
    "text": "out as well",
    "start": "541519",
    "end": "542880"
  },
  {
    "text": "and by default these are all swapped in",
    "start": "542880",
    "end": "546080"
  },
  {
    "text": "and you can swap them out it will",
    "start": "546080",
    "end": "548399"
  },
  {
    "text": "so we have to",
    "start": "548399",
    "end": "549760"
  },
  {
    "text": "take care of that when we're emulating",
    "start": "549760",
    "end": "552080"
  },
  {
    "text": "the mmu",
    "start": "552080",
    "end": "553920"
  },
  {
    "text": "so this is what mmu.org might look like",
    "start": "553920",
    "end": "557600"
  },
  {
    "text": "so that bottom section of memory which",
    "start": "557600",
    "end": "559519"
  },
  {
    "text": "is actually memory",
    "start": "559519",
    "end": "561200"
  },
  {
    "text": "it's just",
    "start": "561200",
    "end": "562560"
  },
  {
    "text": "go to the giant ram array which is 64",
    "start": "562560",
    "end": "565279"
  },
  {
    "text": "kilobytes long",
    "start": "565279",
    "end": "566959"
  },
  {
    "text": "and pull out the index for that address",
    "start": "566959",
    "end": "570399"
  },
  {
    "text": "if it is an access in the basic area and",
    "start": "570399",
    "end": "573839"
  },
  {
    "text": "basic is turned on you don't want to",
    "start": "573839",
    "end": "576240"
  },
  {
    "text": "return from the ram you want to return",
    "start": "576240",
    "end": "577839"
  },
  {
    "text": "from the basic rom instead",
    "start": "577839",
    "end": "580160"
  },
  {
    "text": "and then the only complicated section is",
    "start": "580160",
    "end": "582959"
  },
  {
    "text": "that one which is three deep which is",
    "start": "582959",
    "end": "584959"
  },
  {
    "text": "you can have the ram or you can have the",
    "start": "584959",
    "end": "587519"
  },
  {
    "text": "character definitions rom or you can",
    "start": "587519",
    "end": "589920"
  },
  {
    "text": "have the i o area",
    "start": "589920",
    "end": "591680"
  },
  {
    "text": "and that's the only complicated bit and",
    "start": "591680",
    "end": "594080"
  },
  {
    "text": "then you've got that's a nested ternary",
    "start": "594080",
    "end": "596560"
  },
  {
    "text": "in there so always fun when you have one",
    "start": "596560",
    "end": "599440"
  },
  {
    "text": "of those",
    "start": "599440",
    "end": "600880"
  },
  {
    "text": "so now we have",
    "start": "600880",
    "end": "602839"
  },
  {
    "text": "mmu.rmu.w",
    "start": "602839",
    "end": "604480"
  },
  {
    "text": "it's very similar",
    "start": "604480",
    "end": "606720"
  },
  {
    "text": "and then you have the cpu and the mmu",
    "start": "606720",
    "end": "609920"
  },
  {
    "text": "emulated",
    "start": "609920",
    "end": "611200"
  },
  {
    "text": "you've got cpu.js which is the processor",
    "start": "611200",
    "end": "614160"
  },
  {
    "text": "mmu.js",
    "start": "614160",
    "end": "615839"
  },
  {
    "text": "which is your memory access you've got",
    "start": "615839",
    "end": "617600"
  },
  {
    "text": "your rom which is",
    "start": "617600",
    "end": "619040"
  },
  {
    "text": "a binary file and you've got your ram",
    "start": "619040",
    "end": "620720"
  },
  {
    "text": "which is just an array of zeros",
    "start": "620720",
    "end": "625200"
  },
  {
    "text": "uh we're",
    "start": "625200",
    "end": "627680"
  },
  {
    "text": "yeah we're not going to be covering",
    "start": "627680",
    "end": "628800"
  },
  {
    "text": "sound today",
    "start": "628800",
    "end": "630240"
  },
  {
    "text": "because i don't know how to emulate",
    "start": "630240",
    "end": "631519"
  },
  {
    "text": "sound always confuses me we are going to",
    "start": "631519",
    "end": "633839"
  },
  {
    "text": "be covering video though because you",
    "start": "633839",
    "end": "635839"
  },
  {
    "text": "want to be able to see stuff on the",
    "start": "635839",
    "end": "637760"
  },
  {
    "text": "screen",
    "start": "637760",
    "end": "638880"
  },
  {
    "text": "and for those of you in the audience who",
    "start": "638880",
    "end": "641519"
  },
  {
    "text": "are not aware",
    "start": "641519",
    "end": "643440"
  },
  {
    "text": "in the 80s",
    "start": "643440",
    "end": "645200"
  },
  {
    "text": "this is how you would output things",
    "start": "645200",
    "end": "647600"
  },
  {
    "text": "onto a screen this is from wikipedia",
    "start": "647600",
    "end": "651200"
  },
  {
    "text": "and this is how a cathode ray tube works",
    "start": "651200",
    "end": "653839"
  },
  {
    "text": "you have a cathode in the back you have",
    "start": "653839",
    "end": "655920"
  },
  {
    "text": "magnetic fields which bend the cathode",
    "start": "655920",
    "end": "658320"
  },
  {
    "text": "onto a fluorescent screen",
    "start": "658320",
    "end": "660880"
  },
  {
    "text": "and",
    "start": "660880",
    "end": "662720"
  },
  {
    "text": "what will happen is there'll be a dot on",
    "start": "662720",
    "end": "664640"
  },
  {
    "text": "the screen in a particular location",
    "start": "664640",
    "end": "667920"
  },
  {
    "text": "and",
    "start": "667920",
    "end": "668800"
  },
  {
    "text": "when you want to output video you don't",
    "start": "668800",
    "end": "670320"
  },
  {
    "text": "just want a dot in a particular location",
    "start": "670320",
    "end": "672079"
  },
  {
    "text": "you want a full field of things",
    "start": "672079",
    "end": "675519"
  },
  {
    "text": "so",
    "start": "675519",
    "end": "676640"
  },
  {
    "text": "we do what's called scan lining or",
    "start": "676640",
    "end": "678959"
  },
  {
    "text": "rastering which is you scan from left to",
    "start": "678959",
    "end": "681440"
  },
  {
    "text": "right",
    "start": "681440",
    "end": "682800"
  },
  {
    "text": "and then you go",
    "start": "682800",
    "end": "684399"
  },
  {
    "text": "back to the left while turning the the",
    "start": "684399",
    "end": "686880"
  },
  {
    "text": "ray gun off and then you scan left to",
    "start": "686880",
    "end": "689279"
  },
  {
    "text": "right again and you do this for the",
    "start": "689279",
    "end": "691040"
  },
  {
    "text": "commodore 64 284 times",
    "start": "691040",
    "end": "694399"
  },
  {
    "text": "and then you're back in the bottom right",
    "start": "694399",
    "end": "696480"
  },
  {
    "text": "and you go all the way up to the top",
    "start": "696480",
    "end": "697839"
  },
  {
    "text": "left",
    "start": "697839",
    "end": "698720"
  },
  {
    "text": "and you do this all again and that",
    "start": "698720",
    "end": "700880"
  },
  {
    "text": "happens in 1 60 of a second so that",
    "start": "700880",
    "end": "703440"
  },
  {
    "text": "happens 60 times a second",
    "start": "703440",
    "end": "706320"
  },
  {
    "text": "and",
    "start": "706320",
    "end": "708160"
  },
  {
    "text": "what that gets you is",
    "start": "708160",
    "end": "710480"
  },
  {
    "text": "a screen area a",
    "start": "710480",
    "end": "713040"
  },
  {
    "text": "usable screen area of 320 by 200 pixels",
    "start": "713040",
    "end": "716800"
  },
  {
    "text": "which is fairly standard for like 1982",
    "start": "716800",
    "end": "719360"
  },
  {
    "text": "1983.",
    "start": "719360",
    "end": "721120"
  },
  {
    "text": "you also have a border around the edges",
    "start": "721120",
    "end": "723600"
  },
  {
    "text": "of 42 pixels just in case you have a",
    "start": "723600",
    "end": "725920"
  },
  {
    "text": "television that's off center somewhat so",
    "start": "725920",
    "end": "728160"
  },
  {
    "text": "you can still see like the actual",
    "start": "728160",
    "end": "730800"
  },
  {
    "text": "content of the screen",
    "start": "730800",
    "end": "732560"
  },
  {
    "text": "and then you have these blanking periods",
    "start": "732560",
    "end": "734480"
  },
  {
    "text": "these areas where",
    "start": "734480",
    "end": "736320"
  },
  {
    "text": "the ray gun is going back from the right",
    "start": "736320",
    "end": "738560"
  },
  {
    "text": "side to the left side which is",
    "start": "738560",
    "end": "740959"
  },
  {
    "text": "uh a hundred pixels from left to right",
    "start": "740959",
    "end": "743680"
  },
  {
    "text": "to left",
    "start": "743680",
    "end": "745040"
  },
  {
    "text": "and 28 pixels or 28 lines",
    "start": "745040",
    "end": "748399"
  },
  {
    "text": "from the bottom right back to the top",
    "start": "748399",
    "end": "751040"
  },
  {
    "text": "left",
    "start": "751040",
    "end": "752320"
  },
  {
    "text": "so you end up with an effective",
    "start": "752320",
    "end": "754560"
  },
  {
    "text": "size of the screen",
    "start": "754560",
    "end": "756880"
  },
  {
    "text": "with all of that extra stuff on the",
    "start": "756880",
    "end": "759040"
  },
  {
    "text": "sides of 504 by 312 pixels",
    "start": "759040",
    "end": "763519"
  },
  {
    "text": "if you want to emulate that in",
    "start": "763519",
    "end": "764959"
  },
  {
    "text": "javascript you make a canvas of 504 by",
    "start": "764959",
    "end": "768800"
  },
  {
    "text": "312",
    "start": "768800",
    "end": "770959"
  },
  {
    "text": "and then you can render individual",
    "start": "770959",
    "end": "774399"
  },
  {
    "text": "pixels",
    "start": "774399",
    "end": "775760"
  },
  {
    "text": "and based on the x and y position you'll",
    "start": "775760",
    "end": "777839"
  },
  {
    "text": "be able to work out am i in the blanking",
    "start": "777839",
    "end": "780160"
  },
  {
    "text": "area in which case i don't do anything",
    "start": "780160",
    "end": "782800"
  },
  {
    "text": "am i in that little border area in which",
    "start": "782800",
    "end": "785600"
  },
  {
    "text": "case there's a value inside the video",
    "start": "785600",
    "end": "788240"
  },
  {
    "text": "chip that tells you which color you",
    "start": "788240",
    "end": "789680"
  },
  {
    "text": "should show on the screen",
    "start": "789680",
    "end": "791760"
  },
  {
    "text": "or are you in the screen area",
    "start": "791760",
    "end": "794240"
  },
  {
    "text": "in which case magic happens because",
    "start": "794240",
    "end": "796240"
  },
  {
    "text": "there are like six different video modes",
    "start": "796240",
    "end": "798079"
  },
  {
    "text": "for the commodore 64 and there are",
    "start": "798079",
    "end": "799680"
  },
  {
    "text": "sprites and there are all kinds of",
    "start": "799680",
    "end": "801360"
  },
  {
    "text": "craziness that happens",
    "start": "801360",
    "end": "803680"
  },
  {
    "text": "and",
    "start": "803680",
    "end": "804560"
  },
  {
    "text": "you call a function which does that",
    "start": "804560",
    "end": "807760"
  },
  {
    "text": "and you get back a color that will show",
    "start": "807760",
    "end": "810079"
  },
  {
    "text": "for that pixel",
    "start": "810079",
    "end": "811920"
  },
  {
    "text": "and once you've got that color for the",
    "start": "811920",
    "end": "813440"
  },
  {
    "text": "pixel",
    "start": "813440",
    "end": "814639"
  },
  {
    "text": "the canvas is a 32-bit canvas you have",
    "start": "814639",
    "end": "817680"
  },
  {
    "text": "to remember to add like an alpha value",
    "start": "817680",
    "end": "820079"
  },
  {
    "text": "on the end",
    "start": "820079",
    "end": "821199"
  },
  {
    "text": "and then you stick those four bytes into",
    "start": "821199",
    "end": "822959"
  },
  {
    "text": "the canvas and you have this giant array",
    "start": "822959",
    "end": "825760"
  },
  {
    "text": "which represents the screen you get the",
    "start": "825760",
    "end": "828560"
  },
  {
    "text": "canvas context and ctx dot push image",
    "start": "828560",
    "end": "831680"
  },
  {
    "text": "data",
    "start": "831680",
    "end": "832639"
  },
  {
    "text": "you give it the whole array",
    "start": "832639",
    "end": "834720"
  },
  {
    "text": "and it magically appears on the screen",
    "start": "834720",
    "end": "838959"
  },
  {
    "text": "so",
    "start": "838959",
    "end": "839839"
  },
  {
    "text": "we mentioned that this happens 60 times",
    "start": "839839",
    "end": "843199"
  },
  {
    "text": "a second",
    "start": "843199",
    "end": "844560"
  },
  {
    "text": "and you can work out how many pixels it",
    "start": "844560",
    "end": "847600"
  },
  {
    "text": "takes to do that",
    "start": "847600",
    "end": "849519"
  },
  {
    "text": "and it works out that for every",
    "start": "849519",
    "end": "852079"
  },
  {
    "text": "microsecond",
    "start": "852079",
    "end": "853760"
  },
  {
    "text": "on the actual physical commodore 64",
    "start": "853760",
    "end": "856320"
  },
  {
    "text": "there are eight pixels rendered on the",
    "start": "856320",
    "end": "858639"
  },
  {
    "text": "screen",
    "start": "858639",
    "end": "860079"
  },
  {
    "text": "and you'll remember from a few slides",
    "start": "860079",
    "end": "862320"
  },
  {
    "text": "ago",
    "start": "862320",
    "end": "863120"
  },
  {
    "text": "that",
    "start": "863120",
    "end": "864000"
  },
  {
    "text": "uh",
    "start": "864000",
    "end": "864800"
  },
  {
    "text": "each of the processor instructions takes",
    "start": "864800",
    "end": "868000"
  },
  {
    "text": "a number of microseconds to execute",
    "start": "868000",
    "end": "871279"
  },
  {
    "text": "now",
    "start": "871279",
    "end": "872160"
  },
  {
    "text": "you're running",
    "start": "872160",
    "end": "873360"
  },
  {
    "text": "an emulation so you're not running on",
    "start": "873360",
    "end": "875839"
  },
  {
    "text": "the host you can't use the host's number",
    "start": "875839",
    "end": "878560"
  },
  {
    "text": "of microseconds",
    "start": "878560",
    "end": "880399"
  },
  {
    "text": "as meaning the same thing as the",
    "start": "880399",
    "end": "882560"
  },
  {
    "text": "emulated microseconds",
    "start": "882560",
    "end": "884880"
  },
  {
    "text": "so what you can do",
    "start": "884880",
    "end": "886560"
  },
  {
    "text": "is use the video chip",
    "start": "886560",
    "end": "888320"
  },
  {
    "text": "as your main clock for microseconds",
    "start": "888320",
    "end": "891040"
  },
  {
    "text": "and we call that dispatch so",
    "start": "891040",
    "end": "893440"
  },
  {
    "text": "you draw 8 pixels",
    "start": "893440",
    "end": "895519"
  },
  {
    "text": "by that time you know the cpu should",
    "start": "895519",
    "end": "898399"
  },
  {
    "text": "have executed",
    "start": "898399",
    "end": "899920"
  },
  {
    "text": "one",
    "start": "899920",
    "end": "900959"
  },
  {
    "text": "clock of an instruction",
    "start": "900959",
    "end": "903680"
  },
  {
    "text": "so",
    "start": "903680",
    "end": "904639"
  },
  {
    "text": "you run the cpu for one clock you render",
    "start": "904639",
    "end": "907440"
  },
  {
    "text": "another eight pixels you run the cpu for",
    "start": "907440",
    "end": "909519"
  },
  {
    "text": "one clock again",
    "start": "909519",
    "end": "910880"
  },
  {
    "text": "and you just keep doing this forever and",
    "start": "910880",
    "end": "912959"
  },
  {
    "text": "ever so while true",
    "start": "912959",
    "end": "915279"
  },
  {
    "text": "and",
    "start": "915279",
    "end": "916399"
  },
  {
    "text": "that's",
    "start": "916399",
    "end": "917519"
  },
  {
    "text": "gets you video it gets your cpu it gets",
    "start": "917519",
    "end": "920000"
  },
  {
    "text": "them both lined up together",
    "start": "920000",
    "end": "922639"
  },
  {
    "text": "and then",
    "start": "922639",
    "end": "923680"
  },
  {
    "text": "if you end up building sound or like",
    "start": "923680",
    "end": "926720"
  },
  {
    "text": "interactions with the keyboard or",
    "start": "926720",
    "end": "928160"
  },
  {
    "text": "interactions with the timers",
    "start": "928160",
    "end": "930639"
  },
  {
    "text": "then you can put those further down",
    "start": "930639",
    "end": "933759"
  },
  {
    "text": "and it just all runs in that main",
    "start": "933759",
    "end": "936320"
  },
  {
    "text": "dispatch loop",
    "start": "936320",
    "end": "938560"
  },
  {
    "text": "so that's just a quick",
    "start": "938560",
    "end": "940800"
  },
  {
    "text": "uh introduction",
    "start": "940800",
    "end": "943199"
  },
  {
    "text": "uh to interpretive emulation of 8-bit",
    "start": "943199",
    "end": "945600"
  },
  {
    "text": "systems",
    "start": "945600",
    "end": "946720"
  },
  {
    "text": "with the example of the commodore 64. uh",
    "start": "946720",
    "end": "949279"
  },
  {
    "text": "i have a tutorial series somewhere on",
    "start": "949279",
    "end": "951759"
  },
  {
    "text": "the internet about doing this again in",
    "start": "951759",
    "end": "953759"
  },
  {
    "text": "javascript for the game boy",
    "start": "953759",
    "end": "955839"
  },
  {
    "text": "very similar process just a slightly",
    "start": "955839",
    "end": "958240"
  },
  {
    "text": "different processor",
    "start": "958240",
    "end": "960079"
  },
  {
    "text": "but that's all i have for you today",
    "start": "960079",
    "end": "961680"
  },
  {
    "text": "thank you very much",
    "start": "961680",
    "end": "965079"
  }
]