[
  {
    "text": "all right how's the mic can you guys hear me okay all right Perfect all right",
    "start": "5120",
    "end": "10360"
  },
  {
    "text": "so we're at time here so let's go ahead and get kicked off uh my name is Scott saber and today I'm gonna be talking to",
    "start": "10360",
    "end": "16080"
  },
  {
    "text": "you about 10 things I do in every single net app that I make um I do have lots",
    "start": "16080",
    "end": "21240"
  },
  {
    "text": "more than just 10 things in this talk um there's probably like 30 or so tips uh throughout this talk but we'll kind of",
    "start": "21240",
    "end": "26519"
  },
  {
    "text": "hit on 10 different bucket items um so I've already posted these slides up on my blog just my first and last name",
    "start": "26519",
    "end": "32000"
  },
  {
    "text": "Scots saber.com and if you want you can follow me on Twitter uh I'm Scott saber there as well and I refuse to call it X",
    "start": "32000",
    "end": "38600"
  },
  {
    "text": "like that is just uh the dumbest name change I've ever heard of so I'm just going to keep calling it Twitter and",
    "start": "38600",
    "end": "44120"
  },
  {
    "text": "just being a denial about that all right so you are either here in person or",
    "start": "44120",
    "end": "50160"
  },
  {
    "text": "watching on YouTube later and so just make sure you're in the right spot I just want to talk about the audience that I had in mind when I built this",
    "start": "50160",
    "end": "56680"
  },
  {
    "text": "talk and really I'm targeting net developers uh so if you're not a net Dev there's still some stuff that cross",
    "start": "56680",
    "end": "62719"
  },
  {
    "text": "applies to pretty much any Tech stack that you're talk that you might be doing but primarily I'm targeting net devs and",
    "start": "62719",
    "end": "68920"
  },
  {
    "text": "hopefully you are also interested in maintainable apps so hopefully that like",
    "start": "68920",
    "end": "74080"
  },
  {
    "text": "cross-section of like net devs and people who are interested in maintainable apps is kind of like more of a circle than a vend diagram",
    "start": "74080",
    "end": "80360"
  },
  {
    "text": "hopefully you're not a net Dev that doesn't care about maintainability like anybody in that boat",
    "start": "80360",
    "end": "85759"
  },
  {
    "text": "here nobody wants to admit it cool all right so so as I mentioned uh",
    "start": "85759",
    "end": "91000"
  },
  {
    "text": "we're going to talk about uh lots of different topics here and really this talk is like a series of like three to",
    "start": "91000",
    "end": "97119"
  },
  {
    "text": "six minute lightning talks I'm not going to talk about all these different or read off all these different topics to",
    "start": "97119",
    "end": "103000"
  },
  {
    "text": "you you can kind of take a glance at them uh but there's also like a rapid fire bonus at the end where I'm just going to hit on a bunch of different",
    "start": "103000",
    "end": "108719"
  },
  {
    "text": "topics and give you some uh quick tips along the way so really my goals out of",
    "start": "108719",
    "end": "114880"
  },
  {
    "text": "this talk uh for you are to give you some exposure to new ideas and then take",
    "start": "114880",
    "end": "119920"
  },
  {
    "text": "some ideas back to work when you uh go back here at some point uh that you can go Implement",
    "start": "119920",
    "end": "125960"
  },
  {
    "text": "immediately I really like this quote uh it's from G I think his last name is pronounced Rouch um he's the creator of",
    "start": "125960",
    "end": "132680"
  },
  {
    "text": "versel um he had this tweet a while back where he said every system tends towards complexity slow slowness and difficulty",
    "start": "132680",
    "end": "139640"
  },
  {
    "text": "and saying simple fast and easy to use is a battle that must be fought every day I really like this quote um and it",
    "start": "139640",
    "end": "145879"
  },
  {
    "text": "kind of reminds me of another quote that says uh any idiot can build bridge but it takes an engineer to build a bridge",
    "start": "145879",
    "end": "152879"
  },
  {
    "text": "that barely stands right so like I'm not I'm not a construction engineer but like",
    "start": "152879",
    "end": "157920"
  },
  {
    "text": "if I just shove enough concrete into something like I'll eventually make a bridge that probably works right but it takes an engineer to build a bridge that",
    "start": "157920",
    "end": "164280"
  },
  {
    "text": "barely stands and I think uh that's something that I'm really passionate about in software is how do we build",
    "start": "164280",
    "end": "169560"
  },
  {
    "text": "things uh that's just enough and we don't like over engineer things uh in",
    "start": "169560",
    "end": "175040"
  },
  {
    "text": "software so who am I I'm the director of engineering at lean techniques uh we're software Consulting come primarily based",
    "start": "175040",
    "end": "180920"
  },
  {
    "text": "in Iowa which is kind of like the center of the US that you might fly over when you're going across the coast but we've",
    "start": "180920",
    "end": "186360"
  },
  {
    "text": "got people roughly 150 people in uh 16 states in the US and we work with like Fortune 100 companies down to startups",
    "start": "186360",
    "end": "193720"
  },
  {
    "text": "and kind of everything in between help around the Iowa dnet User Group uh Microsoft MVP friend of Redgate and I",
    "start": "193720",
    "end": "199959"
  },
  {
    "text": "blog as well and again you can C uh these slides up on my blog",
    "start": "199959",
    "end": "205159"
  },
  {
    "text": "too all right uh so the first one we're going to hit on is fold structure so how",
    "start": "205159",
    "end": "210760"
  },
  {
    "text": "do we structure the code in our application well by default uh let's say",
    "start": "210760",
    "end": "216239"
  },
  {
    "text": "you're doing and this really applies to whatever you're doing but let's say you're doing like server side MVC um uh",
    "start": "216239",
    "end": "221959"
  },
  {
    "text": "server rendered HTML by default if you go like file new project oret new and create a new project you have all these",
    "start": "221959",
    "end": "228599"
  },
  {
    "text": "folders created for you like you've got controllers you got models you got views uh you've got this ww root folder with",
    "start": "228599",
    "end": "234200"
  },
  {
    "text": "CSS and JavaScript in it and the problem is every time you need to add a new feature you got to go spray different",
    "start": "234200",
    "end": "240280"
  },
  {
    "text": "files across uh all these different folders and this adds a lot of navigation friction because if you're",
    "start": "240280",
    "end": "246000"
  },
  {
    "text": "kind of just at a glance looking at hey what uh files are are part of this",
    "start": "246000",
    "end": "251840"
  },
  {
    "text": "feature you end up having to go across to all these different folders and if you have like a models folder or",
    "start": "251840",
    "end": "257519"
  },
  {
    "text": "something like that there's probably a lot of stuff in it um so it's can be hard at a glance to see kind of what's going where um so you got this scattered",
    "start": "257519",
    "end": "264800"
  },
  {
    "text": "feature across all these different folders and if you ever have to add EX",
    "start": "264800",
    "end": "270039"
  },
  {
    "text": "uh or update or delete a feature you have to go touch all these different folders and make these changes so",
    "start": "270039",
    "end": "276320"
  },
  {
    "text": "Solution by this is to use feature folders instead so instead you Group by feature not responsibility so you might",
    "start": "276320",
    "end": "283360"
  },
  {
    "text": "have like a customers folder or an orders folder or something like that instead of controllers models repositories all of those kinds of",
    "start": "283360",
    "end": "289800"
  },
  {
    "text": "things and this promotes something called High cohesion which is just a fancy word for saying hey these things",
    "start": "289800",
    "end": "295320"
  },
  {
    "text": "are related and they should remain together so by default let's say you've got like a my profile feature and again",
    "start": "295320",
    "end": "301080"
  },
  {
    "text": "let's say you're doing server rendered MVC um you have all these different files sprayed across your application uh",
    "start": "301080",
    "end": "308880"
  },
  {
    "text": "just to add a new feature and you can imagine as this gets bigger and bigger uh this gets a little bit more untenable",
    "start": "308880",
    "end": "314560"
  },
  {
    "text": "versus if you do feature folders you can just do something like this where you just got a my profile folder and then you've got like your view your CSS",
    "start": "314560",
    "end": "320720"
  },
  {
    "text": "JavaScript view model uh and controller right there and actually do this uh in other Stacks too so I've done react off",
    "start": "320720",
    "end": "327840"
  },
  {
    "text": "and on since like 2017 um and I'll do something like this where I'll have like a my profile component and then the test",
    "start": "327840",
    "end": "333840"
  },
  {
    "text": "associated with it and like the SAS file um I'll have that all kind of co-located together and then I've also been doing",
    "start": "333840",
    "end": "340000"
  },
  {
    "text": "blazer off and on as well um so if I have like an alert component I might have the SAS file there and let's say",
    "start": "340000",
    "end": "345280"
  },
  {
    "text": "I've got like an alert type en say like hey I want to pass like a danger warning or error whatever uh the alert type is",
    "start": "345280",
    "end": "352840"
  },
  {
    "text": "that model is specific to that component so I'll just collocate that right in the same folder as the component",
    "start": "352840",
    "end": "359880"
  },
  {
    "text": "now you have some of these people who will be like but what about my layers like what I've got these horizontal",
    "start": "359880",
    "end": "365479"
  },
  {
    "text": "layers what do I do now well I used to do horizontal CS projects so I used to have like you know the data project the",
    "start": "365479",
    "end": "371639"
  },
  {
    "text": "business project Services repository common that you just shoved random stuff in uh but now for",
    "start": "371639",
    "end": "379520"
  },
  {
    "text": "the most part I just do two projects uh I just have like a core project where most of uh the logic is and then",
    "start": "379520",
    "end": "385440"
  },
  {
    "text": "whatever the entry point is for my app so it'll be like API or web or console and then of course I'll have like test",
    "start": "385440",
    "end": "391240"
  },
  {
    "text": "projects associated with those as well um but I'll also slice the folders vertically there too so again I'll have",
    "start": "391240",
    "end": "398440"
  },
  {
    "text": "like uh my profile or customers or orders or whatever inside of that core project and kind of put things uh that",
    "start": "398440",
    "end": "404840"
  },
  {
    "text": "are related in there now I will say uh when I say all of this I'm specifically",
    "start": "404840",
    "end": "411000"
  },
  {
    "text": "targeting when you have like a project that's used just for a single application or a single API or whatever",
    "start": "411000",
    "end": "417160"
  },
  {
    "text": "the case is however if you publ like internal Nate packages or even on n.org",
    "start": "417160",
    "end": "422720"
  },
  {
    "text": "it may make more sense to slice things horizontally and have like a models models project or something in case",
    "start": "422720",
    "end": "428680"
  },
  {
    "text": "somebody just wants the models uh for let's say getting your responses or things like that so if you do have that",
    "start": "428680",
    "end": "435400"
  },
  {
    "text": "situation uh then it might make sense to slice horizontally but I find most applications usually have uh don't",
    "start": "435400",
    "end": "441400"
  },
  {
    "text": "aren't in that situation um so a lot of times I'll just slice vertically so I've got some resources",
    "start": "441400",
    "end": "447639"
  },
  {
    "text": "here on this um I've got a blog post on how to do this as well as uh that bottom link is to a YouTube video talking about",
    "start": "447639",
    "end": "454039"
  },
  {
    "text": "vertical slice architecture but I'll kind of leave you with this last analogy because I still have some people who are",
    "start": "454039",
    "end": "459080"
  },
  {
    "text": "like H I don't know about this think about the soap in your house or your apartment or wherever you stay right",
    "start": "459080",
    "end": "466080"
  },
  {
    "text": "like do you just have a closet full of all of your soap like your bath soap your dish soap laundry",
    "start": "466080",
    "end": "471360"
  },
  {
    "text": "soap uh you know all of those kinds of things no right like most of the time",
    "start": "471360",
    "end": "476720"
  },
  {
    "text": "your hand soap is by the sink your bath soap is like in the shower uh your",
    "start": "476720",
    "end": "482080"
  },
  {
    "text": "laundry detergents by the washing machine things like that right so you keep things where they're most likely to",
    "start": "482080",
    "end": "487879"
  },
  {
    "text": "be used so if you think about that and apply that logic to your code you should keep things that are related together",
    "start": "487879",
    "end": "494240"
  },
  {
    "text": "and that you're going to use together uh together in the same folder so in case if you're still not convinced or maybe",
    "start": "494240",
    "end": "500000"
  },
  {
    "text": "you are convinced and you want to convince some people at work uh that soap analogy I found uh is a good one to",
    "start": "500000",
    "end": "506919"
  },
  {
    "text": "use all right let's talk about treating warnings as",
    "start": "506919",
    "end": "512760"
  },
  {
    "text": "errors how many people have ever cracked open a a solution that they've never seen before and built it and then saw",
    "start": "512760",
    "end": "517959"
  },
  {
    "text": "like hundreds or even thousands of errors or warnings in the compiler output okay like 15 people are brave",
    "start": "517959",
    "end": "526040"
  },
  {
    "text": "enough to raise their hand the rest of you are just flat out lying that's cool uh because we've all done it or I've",
    "start": "526040",
    "end": "531519"
  },
  {
    "text": "I've seen this and so I don't believe in warnings build warnings at all so I think it should either be an error in",
    "start": "531519",
    "end": "538320"
  },
  {
    "text": "something that I fix or something that I expc explicitly ignore and say yes I know that this is a warning but I'm",
    "start": "538320",
    "end": "544320"
  },
  {
    "text": "going to choose to opt out of this specific error and so the way you do this is if you just crack open your CSR",
    "start": "544320",
    "end": "550640"
  },
  {
    "text": "and just do treat warnings as errors true um that will treat all your warnings as errors now I probably",
    "start": "550640",
    "end": "556920"
  },
  {
    "text": "wouldn't flip this flag on uh for that project you crack open that has hundreds of errors but maybe new stuff that you",
    "start": "556920",
    "end": "562839"
  },
  {
    "text": "create um I would start doing uh this right here which as an aside does",
    "start": "562839",
    "end": "567959"
  },
  {
    "text": "anybody know why some of these say enable and some of these say true that's always bothered me like I",
    "start": "567959",
    "end": "575120"
  },
  {
    "text": "don't know why some of these are enable and some of them are true um I can't wait for the next one to be like on or",
    "start": "575120",
    "end": "580839"
  },
  {
    "text": "something like that uh but yeah uh go ahead and flip that treat warnings as errs to true and stop hating your life",
    "start": "580839",
    "end": "587600"
  },
  {
    "text": "and other people's as well because I find even if you're like oh no I always clean up those warnings like you're",
    "start": "587600",
    "end": "594000"
  },
  {
    "text": "going to miss one or somebody else will miss one so just flip it on and don't have that happen again",
    "start": "594000",
    "end": "600640"
  },
  {
    "text": "all right uh so next one we're going to talk about is logging best practices and I have best practices and quotes because",
    "start": "600640",
    "end": "606519"
  },
  {
    "text": "I kind of hate the term best practices um I more think of these as like these are just my opinions as of right now um",
    "start": "606519",
    "end": "613160"
  },
  {
    "text": "but it might change sometime in the future depending on the context but we'll kind of considering this is an",
    "start": "613160",
    "end": "618720"
  },
  {
    "text": "opinions talk I'll kind of give my general opinions on some of this stuff uh first off use sarog as a logging",
    "start": "618720",
    "end": "625040"
  },
  {
    "text": "framework um I've used uh nlog and log foret too um but Cog is by far my uh",
    "start": "625040",
    "end": "631040"
  },
  {
    "text": "favorite so use calog however don't use calog directly like I still see uh some code bases that",
    "start": "631040",
    "end": "638040"
  },
  {
    "text": "make this this mistake where they're using sarog directly like the static uh log dot log error and things like that",
    "start": "638040",
    "end": "645440"
  },
  {
    "text": "um instead you can use the ey loger abstraction that's built into aspd core um so then you only have like 20 or so",
    "start": "645440",
    "end": "651399"
  },
  {
    "text": "lines of code that's dependent on S log not you know scattered throughout your whole",
    "start": "651399",
    "end": "656720"
  },
  {
    "text": "application uh use structure logging too so don't just like when you're doing like logger.log error and then you uh",
    "start": "656720",
    "end": "664160"
  },
  {
    "text": "you know you might uh pass an account or something like that or who the user is if you do that in a structured way",
    "start": "664160",
    "end": "670240"
  },
  {
    "text": "versus concatenation then you can actually search for some of these things however just be warned like if you're",
    "start": "670240",
    "end": "675600"
  },
  {
    "text": "using Azure log analytics workspaces um those cap at 500 columns and then they",
    "start": "675600",
    "end": "681519"
  },
  {
    "text": "kind of shove all the rest of the data into uh an additional data uh column so",
    "start": "681519",
    "end": "686959"
  },
  {
    "text": "just something to be aware of that when you're doing this especially like if you're serializing exceptions and things like that I think that alone will take",
    "start": "686959",
    "end": "693200"
  },
  {
    "text": "like 200 columns by itself so something to be aware of even if you're not using Azure and you're using other ones a lot",
    "start": "693200",
    "end": "699200"
  },
  {
    "text": "of them have limitations uh around that as well as every log should have lots lots of key",
    "start": "699200",
    "end": "705480"
  },
  {
    "text": "information on it so some common things are like the user ID a correlation ID so you can track where a log went uh",
    "start": "705480",
    "end": "711920"
  },
  {
    "text": "throughout an entire request like the requesting URL the apps version we'll talk about that in a little bit um but",
    "start": "711920",
    "end": "719000"
  },
  {
    "text": "with s log you can just shove that stuff on a log context um so you kind of have it in one spot and then all the other",
    "start": "719000",
    "end": "725480"
  },
  {
    "text": "consuming logs Downstream will get that so you don't have to explicitly put that on each log so if you're using sah log",
    "start": "725480",
    "end": "731680"
  },
  {
    "text": "look into the log context um because that will allow you to add some of the stuff in a global faction",
    "start": "731680",
    "end": "738160"
  },
  {
    "text": "fashion all right uh last thing with logging before we kind of dive into kind",
    "start": "738160",
    "end": "743480"
  },
  {
    "text": "of the differences between logging metrics and audits is a lot of times when I'm in like a refinement or",
    "start": "743480",
    "end": "749720"
  },
  {
    "text": "something and we're talking about a particular story somebody might say hey we need to log that and usually that's a",
    "start": "749720",
    "end": "757160"
  },
  {
    "text": "pretty loaded statement so I want to talk a little bit about logs versus metrics versus Audits and some of the uh",
    "start": "757160",
    "end": "762920"
  },
  {
    "text": "gotchas with each one of these so when somebody's talking about logs and I find people abuse this too like these should",
    "start": "762920",
    "end": "769320"
  },
  {
    "text": "be developer focused things like these should not be things that you're exposing out to uh business people or",
    "start": "769320",
    "end": "775880"
  },
  {
    "text": "anything like that so some examples like you're logging exception or like let's say you talk to an external API you",
    "start": "775880",
    "end": "782079"
  },
  {
    "text": "don't control you might want to log like the Response Code things like that but really log should be developer Focus",
    "start": "782079",
    "end": "787639"
  },
  {
    "text": "things these shouldn't be things that you're exposing to users or or to uh business people on your side too and I",
    "start": "787639",
    "end": "795320"
  },
  {
    "text": "find a lot of people also abuse log levels so I'm going to talk about like what you should be doing for different log levels too um so debug is supposed",
    "start": "795320",
    "end": "802600"
  },
  {
    "text": "to be like tracing through like step by step like let's say you call like three external apis you might have like a log",
    "start": "802600",
    "end": "809399"
  },
  {
    "text": "debug statement for each one of those three external apis where you're logging out the status code um the you know",
    "start": "809399",
    "end": "815440"
  },
  {
    "text": "maybe the response body things like that but a lot of people choose to use information here when really information",
    "start": "815440",
    "end": "820920"
  },
  {
    "text": "is supposed to be like a summary of debug log so let's say you call three external apis to like create a new user",
    "start": "820920",
    "end": "826320"
  },
  {
    "text": "let's say you should probably have a log information at the end that's like hey I created this user um at this time and",
    "start": "826320",
    "end": "832360"
  },
  {
    "text": "then debug statements that are talking to each one of those apis or uh logging the responses of those apis a lot of",
    "start": "832360",
    "end": "839399"
  },
  {
    "text": "people just use information for everything but really that's not really what information's originally intended to be used for and the warning is kind",
    "start": "839399",
    "end": "847040"
  },
  {
    "text": "of like Hey by itself this isn't a problem but if you see lots of these this could be a problem so like a",
    "start": "847040",
    "end": "852079"
  },
  {
    "text": "classic example would be things like a user getting locked out of a system like somebody forgets their password all the",
    "start": "852079",
    "end": "857920"
  },
  {
    "text": "time or whatever the case is so them getting locked out once isn't a problem but let's say they keep getting locked",
    "start": "857920",
    "end": "862959"
  },
  {
    "text": "out every five minutes uh and there's hundreds of those uh that could be an indicator that something else is going",
    "start": "862959",
    "end": "869519"
  },
  {
    "text": "on errors uh sure many of you know is used for just logging hey an unhandled",
    "start": "869519",
    "end": "875279"
  },
  {
    "text": "exception happened and then critical or fatal basically means the app can't boot so let's say you need to go talk to",
    "start": "875279",
    "end": "882079"
  },
  {
    "text": "Azure key Vault to go grab secrets to connect to a database or whatever the case is and you can't talk to Azure key",
    "start": "882079",
    "end": "887360"
  },
  {
    "text": "Vault well then your app's probably not going to be able to boot so that's an example of a critical or fatal uh log",
    "start": "887360",
    "end": "893399"
  },
  {
    "text": "message so again you're probably using information because I find a lot of applications are using information but",
    "start": "893399",
    "end": "899240"
  },
  {
    "text": "probably meant to use debug um so you can totally uh inside of your app settings files you can say hey",
    "start": "899240",
    "end": "906519"
  },
  {
    "text": "for my namespace uh go ahead and log anything debug and then everything else you might want to do like error warning",
    "start": "906519",
    "end": "911720"
  },
  {
    "text": "or something like that but really you have to ask yourself like how long does my log store keep",
    "start": "911720",
    "end": "916839"
  },
  {
    "text": "logs so uh again when we're talking about like when somebody says hey we need to log that information like let's",
    "start": "916839",
    "end": "923320"
  },
  {
    "text": "say we need a log that hey this user made this change at this time that's really not a good use case for most log",
    "start": "923320",
    "end": "929040"
  },
  {
    "text": "systems because a lot of log systems might only keep uh the data for like 7 days or 30 days or a year and you might",
    "start": "929040",
    "end": "935920"
  },
  {
    "text": "need that information for longer periods of time as well as calog under the hood",
    "start": "935920",
    "end": "941440"
  },
  {
    "text": "uh depending on the sync that you're using uh might not guarantee delivery too so when you call logger.log",
    "start": "941440",
    "end": "947600"
  },
  {
    "text": "information it's not going to go talk to a Azure log analytics and come back it's going to uh put that on a background",
    "start": "947600",
    "end": "954040"
  },
  {
    "text": "thread and kind of flush that out uh on a either a Time Cadence or after you get a certain amount of messages so there's",
    "start": "954040",
    "end": "961959"
  },
  {
    "text": "some issues with like you don't have some of these guarantees around your logs too so that's why I also say that",
    "start": "961959",
    "end": "968160"
  },
  {
    "text": "if you need things like audit records and things like that logs is not the place to do that because there's not a guarantee that that will actually get",
    "start": "968160",
    "end": "976079"
  },
  {
    "text": "delivered all right uh so quickly hit on metrics uh so really there's two types",
    "start": "976079",
    "end": "981600"
  },
  {
    "text": "uh there's application Level metrics like CPU Network memory like Q depth response times timed interactive like",
    "start": "981600",
    "end": "988240"
  },
  {
    "text": "all those like applicationing type metrics and then there's business type metrics where it's like hey how many",
    "start": "988240",
    "end": "993600"
  },
  {
    "text": "times did somebody click that button so again you have to kind of have to ask yourself like how long how critical is",
    "start": "993600",
    "end": "999360"
  },
  {
    "text": "this data how long do I need to keep it around for and does it have any guarantees that I uh might want on it so",
    "start": "999360",
    "end": "1006040"
  },
  {
    "text": "like counting the number of payments or how how much how many payments were made you probably don't want to use something",
    "start": "1006040",
    "end": "1012560"
  },
  {
    "text": "like app insights attract some of that because again you might not have guarantees that it matches what's in your real data store um so it may or may",
    "start": "1012560",
    "end": "1019920"
  },
  {
    "text": "not be acceptable to miss out on some of that data so again you kind of have to think about like what data store are we",
    "start": "1019920",
    "end": "1025438"
  },
  {
    "text": "using and then finally we've got audits so this is like recording who did what and when in your application so I come",
    "start": "1025439",
    "end": "1031839"
  },
  {
    "text": "from like a HIPPA background where you're dealing with like health insurance and things like that uh so we have to keep that information for like",
    "start": "1031839",
    "end": "1037520"
  },
  {
    "text": "seven years to say like Hey Joe Bob viewed Suzie's prescri prescription",
    "start": "1037520",
    "end": "1043280"
  },
  {
    "text": "information uh so there's like a legal reason for some of that stuff but you might not even have a legal reason you just might have AA ability like being",
    "start": "1043280",
    "end": "1049960"
  },
  {
    "text": "able to trace who did what and when and in this case losing any data is unacceptable because like the hippo one",
    "start": "1049960",
    "end": "1055320"
  },
  {
    "text": "that I just talked about uh we would be legally VI uh liable if we couldn't uh",
    "start": "1055320",
    "end": "1060400"
  },
  {
    "text": "prove who did what and when so like that whole like hey I'm just going to shove it in a logger like that might not",
    "start": "1060400",
    "end": "1065559"
  },
  {
    "text": "actually end up in your log uh aggregated log system so losing data like that's unacceptable so with this",
    "start": "1065559",
    "end": "1072039"
  },
  {
    "text": "kind of thing this is where you want to use uh some sort of atomic data store like if you're doing SQL Server just",
    "start": "1072039",
    "end": "1078559"
  },
  {
    "text": "have a SQL Server audit table or something like that where you're storing it in the same uh store that's being",
    "start": "1078559",
    "end": "1083720"
  },
  {
    "text": "audited so you have it in a single transaction you have guarantees that hey that data will end up there so I just",
    "start": "1083720",
    "end": "1089880"
  },
  {
    "text": "want to talk about like those differences between logs metrics and audits because I find when somebody says hey we need to log that they usually",
    "start": "1089880",
    "end": "1096240"
  },
  {
    "text": "don't actually mean a log they usually might mean like an AUD we need to have an audit table or things like that so",
    "start": "1096240",
    "end": "1101880"
  },
  {
    "text": "that can be kind of a a loaded term when somebody says hey we need to log",
    "start": "1101880",
    "end": "1107320"
  },
  {
    "text": "that all right uh let's move on to the next tip so this is uh using Global",
    "start": "1107320",
    "end": "1112919"
  },
  {
    "text": "authorized attribute using a fallback policy so the problem you have by",
    "start": "1112919",
    "end": "1118720"
  },
  {
    "text": "default uh let's say you're creating like a new ASP asp.net core app with",
    "start": "1118720",
    "end": "1124320"
  },
  {
    "text": "controllers is you have to remember to add this authorized attribute everywhere or you have to remember to inherit like",
    "start": "1124320",
    "end": "1130440"
  },
  {
    "text": "let's say you've got some sort of Base controller that's got the authorized attribute you have to remember hey I need to go add this every everywhere and",
    "start": "1130440",
    "end": "1137120"
  },
  {
    "text": "if you forget or you don't have like an automated test that proves that all of those controllers do that uh the",
    "start": "1137120",
    "end": "1143240"
  },
  {
    "text": "downside is you're open up to the whole wide world which is really bad news so a",
    "start": "1143240",
    "end": "1148600"
  },
  {
    "text": "solution to this is you can use a fallback policy and a fallback policy is a a policy that gets evaluated if no",
    "start": "1148600",
    "end": "1155320"
  },
  {
    "text": "other policy is specified so let's say you've got nothing on a controller or an action in particular it will by default",
    "start": "1155320",
    "end": "1162480"
  },
  {
    "text": "use this fallback policy now if you say hey I've got this authorized attribute with this policy name or I want want to",
    "start": "1162480",
    "end": "1168880"
  },
  {
    "text": "do allow Anonymous then this won't take effect at all but by default if you put nothing there it will use this fallback",
    "start": "1168880",
    "end": "1175280"
  },
  {
    "text": "policy so the way to add that is just uh override the options for the add authorization call and you can say hey",
    "start": "1175280",
    "end": "1182400"
  },
  {
    "text": "um I'm going to create a new policy in this case there's a few different ways to do it but in this case I'm just going to create a new policy Builder and",
    "start": "1182400",
    "end": "1188640"
  },
  {
    "text": "require an authenticated user and do a DOT build but obviously you can put more stuff in there not just an authenticated",
    "start": "1188640",
    "end": "1194080"
  },
  {
    "text": "user you could say hey they need to have this permission or this role or what ever the case is um whatever makes sense",
    "start": "1194080",
    "end": "1201559"
  },
  {
    "text": "uh for your particular system or this claim uh all those kinds of things but I find a lot of people don't use fallback",
    "start": "1201559",
    "end": "1207600"
  },
  {
    "text": "policies enough uh when they're real uh sa uh Savior for when you accidentally",
    "start": "1207600",
    "end": "1213000"
  },
  {
    "text": "forget to add authorization to a particular endpoint all right next thing we're",
    "start": "1213000",
    "end": "1219440"
  },
  {
    "text": "going to talk about is validation so let's talk about validation here real",
    "start": "1219440",
    "end": "1225159"
  },
  {
    "text": "quick so problem is uh We've out of the box with net we've got these things called Data annotations but I find that",
    "start": "1225159",
    "end": "1232480"
  },
  {
    "text": "they only really work well for simple scenarios um and anytime you need to make a custom one things get a little",
    "start": "1232480",
    "end": "1237880"
  },
  {
    "text": "bit more tricky um as well as they're hard to unit test as well and let's say",
    "start": "1237880",
    "end": "1243120"
  },
  {
    "text": "you've got lots of different validation requirements for particular property uh your uh annotations can get tall and you",
    "start": "1243120",
    "end": "1250000"
  },
  {
    "text": "have like four or five annotations kind of stacked on top of each other as well as if you're big into solid uh you could",
    "start": "1250000",
    "end": "1256520"
  },
  {
    "text": "argue that the single responsibility principle is violated because you have both your model and your validation",
    "start": "1256520",
    "end": "1261559"
  },
  {
    "text": "combined into one class so an alternative is to use fluent validation",
    "start": "1261559",
    "end": "1266640"
  },
  {
    "text": "how many people are using fluent validation here okay like half the room sweet um so",
    "start": "1266640",
    "end": "1272600"
  },
  {
    "text": "fluent validation is uh has a fluent interface where you can just kind of chain things on each other as well as",
    "start": "1272600",
    "end": "1278400"
  },
  {
    "text": "the business rules are really easy to read um so I've actually shown this to like a business person who didn't know",
    "start": "1278400",
    "end": "1284360"
  },
  {
    "text": "anything about code and said hey here's all the validation rules we have uh for this particular ular uh situation and",
    "start": "1284360",
    "end": "1291240"
  },
  {
    "text": "they could actually read what was going on and understand uh which was pretty cool uh they're really easy to test um",
    "start": "1291240",
    "end": "1297799"
  },
  {
    "text": "it integrates with model State uh so if you're doing stuff with that currently that'll integrate perfectly fine as of a",
    "start": "1297799",
    "end": "1303360"
  },
  {
    "text": "couple days ago it had 372 million downloads so uh it's used by a lot of people and here's the GitHub link uh in",
    "start": "1303360",
    "end": "1309840"
  },
  {
    "text": "case you're interested so look at kind of what this looks like so let's say you do like file new project and uh create a",
    "start": "1309840",
    "end": "1317200"
  },
  {
    "text": "new uh user uh like Say Hey I want to do individual authentication by default",
    "start": "1317200",
    "end": "1323320"
  },
  {
    "text": "you'll get like this register view model which says like hey uh the email is required and it's got an email address",
    "start": "1323320",
    "end": "1329240"
  },
  {
    "text": "or it needs to be an email address uh password's required and it's got a max length of this and things like that so",
    "start": "1329240",
    "end": "1334640"
  },
  {
    "text": "all those different pieces are different validation logic so if you refactor that to fluent validation what that looks",
    "start": "1334640",
    "end": "1340080"
  },
  {
    "text": "like is your register view model gets a lot thinner and then you can inherit from this abstract validator of the type",
    "start": "1340080",
    "end": "1347360"
  },
  {
    "text": "of the thing you're validating so in this case the register view model and then you can create these different rules so you can say like hey email's",
    "start": "1347360",
    "end": "1353520"
  },
  {
    "text": "not empty and here's the message I'm going to give it and you can like localize all the stuff as well as well",
    "start": "1353520",
    "end": "1359120"
  },
  {
    "text": "as set like hey anytime I use not empty use this particular error message you can do that in a global way too um but",
    "start": "1359120",
    "end": "1365279"
  },
  {
    "text": "you can start chaining on these different rules so it's really easy again I literally gave this to a business person they were able to read",
    "start": "1365279",
    "end": "1371919"
  },
  {
    "text": "uh what was going on uh just fine but you can also do a lot more advanced stuff uh with it as well so in this case",
    "start": "1371919",
    "end": "1379640"
  },
  {
    "text": "um this is pretty close to uh code that I've seen before is uh in the US you",
    "start": "1379640",
    "end": "1386559"
  },
  {
    "text": "can't have a dependent on your health insurance once they get over 25 so you can do like a more complex thing saying",
    "start": "1386559",
    "end": "1393080"
  },
  {
    "text": "like hey for the age uh their age has to be less than 26 uh when the mo when they are uh dependent so you're kind of",
    "start": "1393080",
    "end": "1399720"
  },
  {
    "text": "chaining on like not only looking at the age property but you're also looking at the are they ad dependent too um so you",
    "start": "1399720",
    "end": "1405520"
  },
  {
    "text": "can do a lot more advanced things where reaching out to different parts of the actual",
    "start": "1405520",
    "end": "1411240"
  },
  {
    "text": "model so that is fluent validation which sounds like half the room or so is already using which is",
    "start": "1411240",
    "end": "1418039"
  },
  {
    "text": "awesome all right uh this is a pretty quick one uh how many people know what the server header is in asp.net",
    "start": "1418039",
    "end": "1425400"
  },
  {
    "text": "core handful maybe like 10 or so um so by default uh as core will add a server",
    "start": "1425400",
    "end": "1432919"
  },
  {
    "text": "header uh to your application and this will just say uh Kestrel straight up",
    "start": "1432919",
    "end": "1438640"
  },
  {
    "text": "does anybody know why they do this why do they add this server header",
    "start": "1438640",
    "end": "1444559"
  },
  {
    "text": "that just says",
    "start": "1444559",
    "end": "1447120"
  },
  {
    "text": "krol yep yeah so krro is the underlying HP server but why would they put that header out",
    "start": "1454640",
    "end": "1461760"
  },
  {
    "text": "there there's not a good technical reason it's purely for marketing reasons for so they can say like oh how many",
    "start": "1462000",
    "end": "1467919"
  },
  {
    "text": "people are using uh ASP anore basically or how many people are using Kestrel like that's the reason why they do it",
    "start": "1467919",
    "end": "1475600"
  },
  {
    "text": "problem is uh to some Bad actors this exposes what you're running so it is better than NET Framework where they'd",
    "start": "1475600",
    "end": "1481000"
  },
  {
    "text": "actually say like here's the exact version of asp.net I'm running so you could like uh Target those specific",
    "start": "1481000",
    "end": "1486159"
  },
  {
    "text": "vulnerabilities for that specific version so it is better than that but if uh some hackers trying to get to your",
    "start": "1486159",
    "end": "1492039"
  },
  {
    "text": "system and you're saying hey I'm running on Kestrel well now they're like well I don't have to run any Java vulnerabilities anymore I just have to",
    "start": "1492039",
    "end": "1497919"
  },
  {
    "text": "focus on the asp.net core ones um so it's kind of like security through obscurity in a way um so if you've got",
    "start": "1497919",
    "end": "1504159"
  },
  {
    "text": "an issue they're probably going to find it anyway but it makes it a lot easier for them uh at the end of the day so",
    "start": "1504159",
    "end": "1509360"
  },
  {
    "text": "they can just focus on exploting those known uh vulnerabilities that are out there so it's really add easy to add",
    "start": "1509360",
    "end": "1515159"
  },
  {
    "text": "this uh you just do Builder web host use kestral and say add server header false so that's all you do in order to add or",
    "start": "1515159",
    "end": "1522960"
  },
  {
    "text": "to sorry remove the Ser server header that gets added by default",
    "start": "1522960",
    "end": "1529039"
  },
  {
    "text": "cool uh so this next one is a little controversial um where I'm saying don't use ey options which is kind of a click",
    "start": "1529480",
    "end": "1536559"
  },
  {
    "text": "bity title uh I'll talk about that here in a little bit but the problem with eye",
    "start": "1536559",
    "end": "1541640"
  },
  {
    "text": "options uh is it's pretty annoying to use to be honest because let's say you're using eye options everywhere is",
    "start": "1541640",
    "end": "1548279"
  },
  {
    "text": "now if you have dependent CS proes you got to add Microsoft extensions options as a dependency um in some of your",
    "start": "1548279",
    "end": "1555080"
  },
  {
    "text": "nougat and some of your CS proes as well as if you're testing with eye options uh",
    "start": "1555080",
    "end": "1560320"
  },
  {
    "text": "you have to do like options. create um which is kind of annoying to do and I'm a big keyboard shortcut junkie so like I",
    "start": "1560320",
    "end": "1567960"
  },
  {
    "text": "mean we got primary Constructors now but I would typically do like CTR Tab and like have it create the Constructor and",
    "start": "1567960",
    "end": "1573399"
  },
  {
    "text": "then go to the uh Constructor and type like eye options app settings app settings uh control Dot and have it add",
    "start": "1573399",
    "end": "1579960"
  },
  {
    "text": "the field but what really I don't want the field I don't want the eye options I want the dot value so then now I got to",
    "start": "1579960",
    "end": "1586240"
  },
  {
    "text": "go like manually type this in and it's just really really annoying to work with",
    "start": "1586240",
    "end": "1592039"
  },
  {
    "text": "so the issue or so my solution to this is instead of registering or using i options just register your options class",
    "start": "1592039",
    "end": "1598799"
  },
  {
    "text": "directly so you can still config call the configure method like you're used to but then in this case I'm just adding a",
    "start": "1598799",
    "end": "1604919"
  },
  {
    "text": "Singleton saying like hey grab me the eye options of app settings and register the dot value so now when I need it",
    "start": "1604919",
    "end": "1611080"
  },
  {
    "text": "everywhere I just inject in the app settings I don't actually inject in eye options of app settings you can also do",
    "start": "1611080",
    "end": "1617480"
  },
  {
    "text": "this with like eye options Monitor and eye options snapshot which uh support like reloading uh settings on the Fly I",
    "start": "1617480",
    "end": "1625600"
  },
  {
    "text": "typically don't use that because I'm not usually reaching out to like app settings. Json file on a production",
    "start": "1625600",
    "end": "1631000"
  },
  {
    "text": "server and like live changing it because that's kind of dangerous um but you can technically do this as well you just",
    "start": "1631000",
    "end": "1636120"
  },
  {
    "text": "have to do add scoped and then do like eye options uh snapshot uh in that case",
    "start": "1636120",
    "end": "1641559"
  },
  {
    "text": "so if you want to support that you can still totally do that with this method so I don't use eye options directly um",
    "start": "1641559",
    "end": "1647799"
  },
  {
    "text": "minus these two lines of code right here so now I don't need like that nuga",
    "start": "1647799",
    "end": "1653240"
  },
  {
    "text": "package installed in all all my csres and now I don't need uh don't have that",
    "start": "1653240",
    "end": "1658360"
  },
  {
    "text": "friction when I'm trying to do keyboard shortcuts uh because all I really care about is getting at that",
    "start": "1658360",
    "end": "1663440"
  },
  {
    "text": "value is anybody doing this today something",
    "start": "1663440",
    "end": "1668640"
  },
  {
    "text": "similar couple okay cool all",
    "start": "1668640",
    "end": "1674120"
  },
  {
    "text": "right let's talk about creating a version and point so what is a version endpoint so",
    "start": "1674120",
    "end": "1681799"
  },
  {
    "text": "you might think to yourself oh is this just like the version uh on versioning an API right like putting V1 or V2 in",
    "start": "1681799",
    "end": "1689240"
  },
  {
    "text": "the URL nope that's not what I'm talking about when I say A version endpoint what I'm talking about is what version of",
    "start": "1689240",
    "end": "1695320"
  },
  {
    "text": "your app are you running so usually I'll have like an API verion uh endpoint uh",
    "start": "1695320",
    "end": "1701720"
  },
  {
    "text": "to have this and I'll have a format that's similar to this where it's like hey the date that the build happened the build number and then the short get Shaw",
    "start": "1701720",
    "end": "1708679"
  },
  {
    "text": "so I have some three pieces of information of what version is actually deployed out",
    "start": "1708679",
    "end": "1713919"
  },
  {
    "text": "here um and I generate that version inci and unfortunately uh net versions do not",
    "start": "1713919",
    "end": "1720559"
  },
  {
    "text": "support uh having uh that level of uh versioning um so I just store it in a",
    "start": "1720559",
    "end": "1726120"
  },
  {
    "text": "file and then read it in through the endpoint and usually cach that uh as well and part of the reason why I use a",
    "start": "1726120",
    "end": "1732159"
  },
  {
    "text": "file is if I ever need to download the contents of it um I can go inspect and say like hey look at my version.txt",
    "start": "1732159",
    "end": "1738360"
  },
  {
    "text": "file and say like hey what version uh was deployed out here this is really useful when you're creating a cicd",
    "start": "1738360",
    "end": "1744840"
  },
  {
    "text": "pipeline too because I don't know about you but every time I create a cicd pipeline it's like red red red red red",
    "start": "1744840",
    "end": "1750760"
  },
  {
    "text": "red red red green and then you're like wait but did it actually work like do I actually trust this screen or not and so",
    "start": "1750760",
    "end": "1756840"
  },
  {
    "text": "if you have this version endpoint you can have a little bit more confidence that like hey yes this G sha matches our",
    "start": "1756840",
    "end": "1762159"
  },
  {
    "text": "latest commit and so I know that the version that's deployed out there uh is the latest",
    "start": "1762159",
    "end": "1768279"
  },
  {
    "text": "what's also nice is as I mentioned earlier putting the version on every single log um so it's nice to be able to",
    "start": "1768279",
    "end": "1773679"
  },
  {
    "text": "say like when you're looking at logs saying like hey what version did this come from so let's say you do like a bug fix for something you can kind of",
    "start": "1773679",
    "end": "1780080"
  },
  {
    "text": "compare like okay uh in the previous version uh we had this error now let me search for this error in our latest",
    "start": "1780080",
    "end": "1786279"
  },
  {
    "text": "version and see if any exist or not so the version is also super useful to have on all of your different log statements",
    "start": "1786279",
    "end": "1792440"
  },
  {
    "text": "that you've got that's also why I recommend if you do put it into a file to cach it because it will get read on",
    "start": "1792440",
    "end": "1800240"
  },
  {
    "text": "every single log statement so don't go read the file system every single time uh you're uh trying to send a log",
    "start": "1800240",
    "end": "1808240"
  },
  {
    "text": "out as a bonus and I feel like this doesn't get talked about enough in Spa development world like a big a big",
    "start": "1808240",
    "end": "1814880"
  },
  {
    "text": "problem that kind of gets hidden with Spas is when you do a new deployment and let's say you've got like some sort of",
    "start": "1814880",
    "end": "1820159"
  },
  {
    "text": "breaking change like you existing users have already downloaded uh your",
    "start": "1820159",
    "end": "1825360"
  },
  {
    "text": "application and are interacting with it and things like that so like if they let's say somebody hits a form and it's",
    "start": "1825360",
    "end": "1831240"
  },
  {
    "text": "typing things in and now your API now requires another field but they haven't been notified like hey this new field",
    "start": "1831240",
    "end": "1837240"
  },
  {
    "text": "exists in in your UI part of it and they can't like literally complete the form",
    "start": "1837240",
    "end": "1842360"
  },
  {
    "text": "uh now you you've got this version endpoint so you can kind of compare like hey what version do I have locally versus what uh version does the API",
    "start": "1842360",
    "end": "1848600"
  },
  {
    "text": "support and then notify saying like hey you got a new version out here do you want to click here to update and download the latest so like there's also",
    "start": "1848600",
    "end": "1855519"
  },
  {
    "text": "this use case uh for having uh a version that you're keeping track of in your application as",
    "start": "1855519",
    "end": "1862639"
  },
  {
    "text": "well all right let's move on to code",
    "start": "1863880",
    "end": "1869559"
  },
  {
    "text": "smells so uh when we're talking about structuring a method what I like to do",
    "start": "1870039",
    "end": "1875600"
  },
  {
    "text": "is I like to always have the happy path of whatever happens when everything goes right uh at the bottom of a method so I",
    "start": "1875600",
    "end": "1882360"
  },
  {
    "text": "don't want to have to look like in the middle of the method of like oh what happens here do I save it to a database do I send an email do I publish a",
    "start": "1882360",
    "end": "1888840"
  },
  {
    "text": "message to A Q what happens when everything goes well like I always want the Happy path to be on the bottom so to",
    "start": "1888840",
    "end": "1894919"
  },
  {
    "text": "achieve this use early returns instead of like nested IFL statements we'll take a look at that here in a second um so by",
    "start": "1894919",
    "end": "1902559"
  },
  {
    "text": "default like when you create a new project and again this is like creating a new user um this is the default uh",
    "start": "1902559",
    "end": "1909000"
  },
  {
    "text": "template code that gets scaffolded out for you so if you look at the center here this is actually the part where",
    "start": "1909000",
    "end": "1915240"
  },
  {
    "text": "everything goes well so if the result succeeded then go ahead and log some information uh generate an email",
    "start": "1915240",
    "end": "1921120"
  },
  {
    "text": "confirmation send an email and then go ahead and sign them in so it's kind of like in the middle of this method that's",
    "start": "1921120",
    "end": "1926639"
  },
  {
    "text": "going on and what's kind of funny too is uh whoever created this template uh put",
    "start": "1926639",
    "end": "1931840"
  },
  {
    "text": "a comment here saying if we got this far something bad happened basically which to me is an indicator like if you have",
    "start": "1931840",
    "end": "1937399"
  },
  {
    "text": "to put that comment it's not super obvious that something bad happened if you reached uh the end of this method so",
    "start": "1937399",
    "end": "1945960"
  },
  {
    "text": "what I would do to refactor this is first I wouldn't have that if if model state is valid check I would invert the",
    "start": "1945960",
    "end": "1952399"
  },
  {
    "text": "if and say hey if the model State's not valid go ahead and return the page back out otherwise try and go ahead and",
    "start": "1952399",
    "end": "1959519"
  },
  {
    "text": "create them and if that didn't succeed go ahead and add those errors uh to model State and then again return the",
    "start": "1959519",
    "end": "1965720"
  },
  {
    "text": "page and then finally there's your happy path at the bottom where again you're logging the person in sending an email",
    "start": "1965720",
    "end": "1972120"
  },
  {
    "text": "creating user all that kind of stuff so that's like a super basic refactoring that I would do as part of refactoring",
    "start": "1972120",
    "end": "1978440"
  },
  {
    "text": "this method and I think it just leaves a lot cleaner code and it also doesn't violate uh the indentation Proclamation",
    "start": "1978440",
    "end": "1986840"
  },
  {
    "text": "which the indentation Proclamation is the more indented your code is the harder it is to read so if you've got",
    "start": "1986840",
    "end": "1994320"
  },
  {
    "text": "like nested ifs NE nested for eaches things like that more than likely the codee's a lot harder to follow um",
    "start": "1994320",
    "end": "2001080"
  },
  {
    "text": "judging by how indented your code is and if you Google this uh I made this up so",
    "start": "2001080",
    "end": "2007039"
  },
  {
    "text": "uh this is not a thing that exists but I think it's easy to remember the indentation Proclamation there's also",
    "start": "2007039",
    "end": "2012880"
  },
  {
    "text": "like cyclomatic complexity and things like that that kind of measure the same same things but I think it's easy to think about like oh the more indented my",
    "start": "2012880",
    "end": "2019480"
  },
  {
    "text": "code is the harder it is to maintain now this does not mean like",
    "start": "2019480",
    "end": "2024799"
  },
  {
    "text": "switch to like one space instead of four spaces uh don't do that just to be",
    "start": "2024799",
    "end": "2031039"
  },
  {
    "text": "clear so some general code smells um these aren't hard and fast rules just kind of like my warning light goes off",
    "start": "2031039",
    "end": "2036760"
  },
  {
    "text": "if I see some of this uh if I see methods that are greater than 20 lines I kind of think about like okay can I",
    "start": "2036760",
    "end": "2041880"
  },
  {
    "text": "refactor this a little bit or if I have classes that are greater than 200 lines or heaven forbid if you use a region um",
    "start": "2041880",
    "end": "2050040"
  },
  {
    "text": "I really think if you try and use a region our friend clippy should pop up and say like hey I see you're trying to",
    "start": "2050040",
    "end": "2055878"
  },
  {
    "text": "use a region did you actually mean to add a new class or a new method instead because most of the time when I've seen",
    "start": "2055879",
    "end": "2061240"
  },
  {
    "text": "regions used they should have been uh creating a new method or a new class as",
    "start": "2061240",
    "end": "2066440"
  },
  {
    "text": "well so I'm I'm not a big fan of regions uh sorry for anybody I",
    "start": "2066440",
    "end": "2072638"
  },
  {
    "text": "offended all right uh so the next thing got like 25 minutes or so here next",
    "start": "2072639",
    "end": "2079440"
  },
  {
    "text": "thing I'm going to talk about real quick is HP security headers which by the way I use chat GPT 4 to generate this image",
    "start": "2079440",
    "end": "2086599"
  },
  {
    "text": "and uh you know some of the words don't even make sense it's like Conant security poly and then we've got like",
    "start": "2086599",
    "end": "2094040"
  },
  {
    "text": "birds that are also like airplanes or something like that uh so I feel pretty",
    "start": "2094040",
    "end": "2099079"
  },
  {
    "text": "good my about my job for at least a little while if this is what AI can do but anyway uh so HP security headers uh",
    "start": "2099079",
    "end": "2106839"
  },
  {
    "text": "what they are is they tell a browser what extra rules to enforce so this can prevent all sorts of different types of",
    "start": "2106839",
    "end": "2112880"
  },
  {
    "text": "attacks like man in the middle attacks clickjacking attacks cross site scripting and a bunch of other stuff as",
    "start": "2112880",
    "end": "2118480"
  },
  {
    "text": "well however uh you need to be careful when doing HP security headers because",
    "start": "2118480",
    "end": "2123560"
  },
  {
    "text": "part of HP security headers is you can say like hey only allow cont content to be loaded for myself so only allow",
    "start": "2123560",
    "end": "2130160"
  },
  {
    "text": "myself to load Java or only load JavaScript that comes from uh my URLs",
    "start": "2130160",
    "end": "2135480"
  },
  {
    "text": "right and the problem with that is if you're wrong and you're actually really loading JavaScript from like Google analytics or something it's going to",
    "start": "2135480",
    "end": "2141880"
  },
  {
    "text": "block those resources from getting loaded so whenever you're doing HP security headers you just kind of have",
    "start": "2141880",
    "end": "2147560"
  },
  {
    "text": "to be careful to make sure you're actually allowing what you should uh what you're application actually does um",
    "start": "2147560",
    "end": "2153920"
  },
  {
    "text": "so just kind of be careful about that as well there's this uh package out there called net",
    "start": "2153920",
    "end": "2159880"
  },
  {
    "text": "escapades ASP net core security headers uh so it's written by Andrew Lock which if you've done uh dad development for",
    "start": "2159880",
    "end": "2166480"
  },
  {
    "text": "any amount of time you've probably read one of his blog posts um but he maintains this package here to help you",
    "start": "2166480",
    "end": "2171839"
  },
  {
    "text": "add them I do have a deep dive on this topic uh that I gave at NDC London in case you're interested um but HP",
    "start": "2171839",
    "end": "2178400"
  },
  {
    "text": "security headers is something I do on every application and honestly if you're getting scanned by like third parties",
    "start": "2178400",
    "end": "2183680"
  },
  {
    "text": "and things like that they're going to check for this as well as if you have to like uh past thirdparty audits um some",
    "start": "2183680",
    "end": "2190839"
  },
  {
    "text": "thirdparty systems will require you to have security headers on your site",
    "start": "2190839",
    "end": "2195880"
  },
  {
    "text": "because it's really easy to check whether or not your uh site has security headers um which if it's public you can",
    "start": "2195880",
    "end": "2202160"
  },
  {
    "text": "go to security heads.com and plug in the URL and it'll tell you hey you're you have these security headers or you're",
    "start": "2202160",
    "end": "2207720"
  },
  {
    "text": "missing these and things like that but if like this is a whole hourong topic by itself um so if you're interested you",
    "start": "2207720",
    "end": "2213359"
  },
  {
    "text": "can check out that uh URL all right um next thing we're going to",
    "start": "2213359",
    "end": "2220079"
  },
  {
    "text": "talk about is build once deploy many times",
    "start": "2220079",
    "end": "2226079"
  },
  {
    "text": "so uh the problem when you don't do this is when you're uh building many times",
    "start": "2226079",
    "end": "2232720"
  },
  {
    "text": "and deploying once uh this encourages things like long running branches so if you have environment branches like a Dev",
    "start": "2232720",
    "end": "2240000"
  },
  {
    "text": "test production uh type branches I disagree with that philosophy I'm more",
    "start": "2240000",
    "end": "2245040"
  },
  {
    "text": "of a only have one branch uh like your main branch and then deploy uh off of",
    "start": "2245040",
    "end": "2250280"
  },
  {
    "text": "that Branch so this encourages something called trunk based development so even if you're using PO requests if you're",
    "start": "2250280",
    "end": "2256599"
  },
  {
    "text": "only using a single Branch to deploy from uh that's still considered trunk based development in my view and at",
    "start": "2256599",
    "end": "2262800"
  },
  {
    "text": "lassan actually calls gitf flow a legacy workflow as well so if you're trying to convince your team of doing some of this",
    "start": "2262800",
    "end": "2269079"
  },
  {
    "text": "stuff if you grab that link and send it to them or if you Google like atlassian gitflow uh that'll show up uh for them",
    "start": "2269079",
    "end": "2277079"
  },
  {
    "text": "as well so by having a single main branch where basically you're going to compile have",
    "start": "2277079",
    "end": "2283400"
  },
  {
    "text": "your CI build server and you're going to compile it once and then deploy those dlls to each environment many times uh",
    "start": "2283400",
    "end": "2290280"
  },
  {
    "text": "this en encourages continuous integration which is more of the practice than the server so I'm a big",
    "start": "2290280",
    "end": "2296839"
  },
  {
    "text": "fan of continuous integration uh is more of a philosophy than like a build server",
    "start": "2296839",
    "end": "2302760"
  },
  {
    "text": "like yes the build server is super important but if you are like on your own world on your own Branch for like",
    "start": "2302760",
    "end": "2308960"
  },
  {
    "text": "days or weeks or months at a time you're not really doing continuous integration where you're continuously integrating",
    "start": "2308960",
    "end": "2314520"
  },
  {
    "text": "your code with everybody else's code so if you find yourself getting a lot of merge conflicts basically every merge",
    "start": "2314520",
    "end": "2319599"
  },
  {
    "text": "conflict is an indicator like oops I didn't integrate my code uh fast enough so I think continuous integration is",
    "start": "2319599",
    "end": "2325640"
  },
  {
    "text": "something you do not something that you have so it's more of a practice than anything else and then you're going to have",
    "start": "2325640",
    "end": "2332560"
  },
  {
    "text": "environmental differences so like configuration or secrets and those should live in the environment themselves",
    "start": "2332560",
    "end": "2337960"
  },
  {
    "text": "um so again if you have a single like main branch where you're deploying everything from uh then you're not uh",
    "start": "2337960",
    "end": "2345480"
  },
  {
    "text": "you don't have like these differences where like oh you have to do some get Fu where it's like oh I did a hot fix to",
    "start": "2345480",
    "end": "2351240"
  },
  {
    "text": "like the main branch so then I gota like backported to the dev branch and the test branch and all sorts of other git",
    "start": "2351240",
    "end": "2356839"
  },
  {
    "text": "Shenanigans like if you're just doing trunk-based development I find you don't actually need to know much git at",
    "start": "2356839",
    "end": "2362599"
  },
  {
    "text": "all so that's another tip is to build once and deploy many times",
    "start": "2362599",
    "end": "2368160"
  },
  {
    "text": "all right the next thing we're going to talk about is validate on build which I don't see happen too",
    "start": "2368160",
    "end": "2373680"
  },
  {
    "text": "often so the reason behind validate on build is single tins can only depend on",
    "start": "2373680",
    "end": "2379920"
  },
  {
    "text": "single enss which makes sense if you think about it because if a Singleton depends on a scoped or a transient it",
    "start": "2379920",
    "end": "2386720"
  },
  {
    "text": "can't really be a Singleton because you're depending on something get that gets reconstructed uh lots of different times",
    "start": "2386720",
    "end": "2393800"
  },
  {
    "text": "so this leads to What's called the captive dependency problem so by default if you accidentally have a",
    "start": "2393800",
    "end": "2400200"
  },
  {
    "text": "Singleton that depends on let's say like a DB context or something like that uh aspon core will catch this uh when",
    "start": "2400200",
    "end": "2406079"
  },
  {
    "text": "you're running in development but not other environments so let's say you have a custom environment name called like",
    "start": "2406079",
    "end": "2411520"
  },
  {
    "text": "local for your local development basically you will never catch this problem until uh you might deploy to Dev",
    "start": "2411520",
    "end": "2418079"
  },
  {
    "text": "and if your environment's development there then you would catch this problem so the way to fix this is so",
    "start": "2418079",
    "end": "2425040"
  },
  {
    "text": "again the problem here is let's say you have an ad single with a Singleton thing and add scope to the scope thing and",
    "start": "2425040",
    "end": "2430160"
  },
  {
    "text": "then your Singleton thing depends on the scope thing this is what's called a captive dependency problem where",
    "start": "2430160",
    "end": "2436440"
  },
  {
    "text": "basically that scope thing is effectively a Singleton which is not what you intended for it to be and so",
    "start": "2436440",
    "end": "2442520"
  },
  {
    "text": "you'll get this nice little error thing here that says like hey I tried to uh consume a scope service from a Singleton",
    "start": "2442520",
    "end": "2449480"
  },
  {
    "text": "uh something bad happened but again this only gets this only gets checked when you're running uh in development so to",
    "start": "2449480",
    "end": "2455680"
  },
  {
    "text": "flip this on all the time for every environment basically you just override the used default service provider and",
    "start": "2455680",
    "end": "2462520"
  },
  {
    "text": "say hey validate on build true because ultimately at the end of the day I never want to deploy this out to production",
    "start": "2462520",
    "end": "2469720"
  },
  {
    "text": "like I understand why the net team did it where they only enforced it in development because they thought of this after the fact and they didn't want to",
    "start": "2469720",
    "end": "2475720"
  },
  {
    "text": "break existing applications however you might see weird Behavior if your scoped or transient Service never actually uh",
    "start": "2475720",
    "end": "2483000"
  },
  {
    "text": "gets disposed of and recreated right so this all enforce it uh to happen in",
    "start": "2483000",
    "end": "2488880"
  },
  {
    "text": "every environment how many people were doing this today or knew that this option",
    "start": "2488880",
    "end": "2494280"
  },
  {
    "text": "existed F this is a pretty obscure one okay nobody",
    "start": "2494280",
    "end": "2500440"
  },
  {
    "text": "cool all right um let's talk about automated tests here real quick um so",
    "start": "2500440",
    "end": "2506599"
  },
  {
    "text": "hopefully this isn't a debate uh but you should be writing automated tests uh there's lots of different value uh ads",
    "start": "2506599",
    "end": "2513200"
  },
  {
    "text": "from doing this it's proven to be faster long term with multiple studies you can can catch uh regression uh regression uh",
    "start": "2513200",
    "end": "2520480"
  },
  {
    "text": "failures sooner as well as if a test is hard to write it might expose that your",
    "start": "2520480",
    "end": "2525880"
  },
  {
    "text": "uh design is wrong as well um I don't really care what you use uh whether it's xunit or nunit just not",
    "start": "2525880",
    "end": "2532920"
  },
  {
    "text": "Ms test uh because ironically like theet team doesn't even use Ms test uh they use xunit which is kind of funny uh to",
    "start": "2532920",
    "end": "2540680"
  },
  {
    "text": "me um but one problem I have with some of these uh testing Frameworks is out of",
    "start": "2540680",
    "end": "2546839"
  },
  {
    "text": "the box the assertion libraries kind of annoy me where you have like assert do equal and then it's like value value I'm",
    "start": "2546839",
    "end": "2552000"
  },
  {
    "text": "like uh I can't remember which is which um now xunit does ship analyzers to help",
    "start": "2552000",
    "end": "2557400"
  },
  {
    "text": "you remember that hey expected is the first one and actual is the second one however um I find like sometimes I'll",
    "start": "2557400",
    "end": "2564800"
  },
  {
    "text": "screwed up and like you have some funky assertion failures if you flip them too so I like using fluent assertions uh",
    "start": "2564800",
    "end": "2571599"
  },
  {
    "text": "which Dennis doen who created this is I think given a talk right now as well um",
    "start": "2571599",
    "end": "2576720"
  },
  {
    "text": "but he's here and so what that looks like is it adds a should extension method to object so it'll just be",
    "start": "2576720",
    "end": "2583040"
  },
  {
    "text": "result. should dob zero uh versus assert equal Zer comma result which I think",
    "start": "2583040",
    "end": "2588800"
  },
  {
    "text": "doesn't read As Nice was curious how many people are using fluent assertions today or shley any of by using shley yep",
    "start": "2588800",
    "end": "2596040"
  },
  {
    "text": "that shle is perfectly fine too so i' say probably like half the room or so um the fluent assertions also has like the",
    "start": "2596040",
    "end": "2602520"
  },
  {
    "text": "should be equivalent to which does like a deep value comparison of different things and you can actually compare like a customer object with like a customer",
    "start": "2602520",
    "end": "2609280"
  },
  {
    "text": "dto and kind of match up those things uh which is pretty cool as of a couple days ago I had over 300 million downloads um",
    "start": "2609280",
    "end": "2616559"
  },
  {
    "text": "so it's used by a lot of people and again if you guys are using shle uh it's perfectly fine",
    "start": "2616559",
    "end": "2622160"
  },
  {
    "text": "too um but to talk real quick about a tip when it comes to testing I kind of",
    "start": "2622160",
    "end": "2628319"
  },
  {
    "text": "want to go back to the 1800s and this guy named Anton COV who is a Russian",
    "start": "2628319",
    "end": "2634160"
  },
  {
    "text": "playwright and I swear I'll tie this back to testing here in a sec but he had this quote where he said remove",
    "start": "2634160",
    "end": "2640760"
  },
  {
    "text": "everything that has no relevance to the story so basically if a rifle is hanging on a wall uh in act number one it should",
    "start": "2640760",
    "end": "2648280"
  },
  {
    "text": "get fired in a later act otherwise it shouldn't have been hanging on the wall in the first place so really everything",
    "start": "2648280",
    "end": "2653839"
  },
  {
    "text": "should have a purpose at the end of the day which uh yeah if you're a Game of Thrones fan uh you know that doesn't",
    "start": "2653839",
    "end": "2659599"
  },
  {
    "text": "always actually happen that where everything actually has a purpose however we can apply this to our uh",
    "start": "2659599",
    "end": "2665400"
  },
  {
    "text": "testing as well so if you look at this test here this is a pretty simple one of hey just checking to make sure uh when",
    "start": "2665400",
    "end": "2672400"
  },
  {
    "text": "last name's empty that we get back an error message so really the only relevant part of this is the last name",
    "start": "2672400",
    "end": "2679920"
  },
  {
    "text": "here and everything else is just kind of extra fluff and so a way to refactor this is you could say like hey I want to",
    "start": "2679920",
    "end": "2685359"
  },
  {
    "text": "create a valid customer like you have a factory or something or private method and then go ahead and tweak the last",
    "start": "2685359",
    "end": "2690680"
  },
  {
    "text": "name to be empty so there's a little less verocity there but you can go further so this is usually what I do is",
    "start": "2690680",
    "end": "2696880"
  },
  {
    "text": "I'll I'll create like a field for this and have the uh customer get initialized to a valid value and then I'm just",
    "start": "2696880",
    "end": "2703280"
  },
  {
    "text": "tweaking that sad path afterwards uh so again you're kind of",
    "start": "2703280",
    "end": "2708319"
  },
  {
    "text": "applying check offs gun where everything should be relevant to the story at the end of the day so every every line of code should be relevant to your test so",
    "start": "2708319",
    "end": "2714839"
  },
  {
    "text": "if you find you've got a lot of setup you might consider moving some of that setup up to the Constructor like your",
    "start": "2714839",
    "end": "2720319"
  },
  {
    "text": "setup or before each or whatever the case is so this concept applies to any any text stack but you notice I'm also",
    "start": "2720319",
    "end": "2727040"
  },
  {
    "text": "KN up a customer validator here so like let's say I've got some dependencies that end up here too now I'll have to",
    "start": "2727040",
    "end": "2732119"
  },
  {
    "text": "fix all of these tests and I'm repeating myself in each one of those tests as well so usually I'll rip that out into",
    "start": "2732119",
    "end": "2738040"
  },
  {
    "text": "the Constructor as well and new that up in one spot as well so if we look at kind of the comparison of the before and",
    "start": "2738040",
    "end": "2743240"
  },
  {
    "text": "after um applying check Ops gun to testing you notice like about half lines of code are gone uh so again you should",
    "start": "2743240",
    "end": "2750040"
  },
  {
    "text": "consider like hey is this actually relevant to the test I'm doing so like let's say you're setting up a mock or",
    "start": "2750040",
    "end": "2755800"
  },
  {
    "text": "something like that and you're setting up the exact same values in each one of your tests uh shove that up to the",
    "start": "2755800",
    "end": "2760880"
  },
  {
    "text": "Constructor because it's actually not relevant to your particular situation so again when you're writing these tests uh",
    "start": "2760880",
    "end": "2767760"
  },
  {
    "text": "think of check off's gun and think like hey is this actually relevant to this particular test because everything in",
    "start": "2767760",
    "end": "2773000"
  },
  {
    "text": "your rrange step should be relevant to that particular test all right about 14 minutes left I",
    "start": "2773000",
    "end": "2780440"
  },
  {
    "text": "we bang through some of these uh how many people are using Central package management",
    "start": "2780440",
    "end": "2785640"
  },
  {
    "text": "today only only a handful that has been my experience as well not enough people know about",
    "start": "2785640",
    "end": "2790800"
  },
  {
    "text": "this so the problem that Central package management solves is let's say you've got the same package in multiple",
    "start": "2790800",
    "end": "2796440"
  },
  {
    "text": "projects across your entire solution where you've got like nty framework in multiple spots or let's say you've got like uh multiple test projects you've",
    "start": "2796440",
    "end": "2802920"
  },
  {
    "text": "got xunit multiple spots or n substitute or Mach Q one of those um it's pretty annoying to keep some of these versions",
    "start": "2802920",
    "end": "2809319"
  },
  {
    "text": "in sync and especially when you're doing like a net upgrade and you're like oh I need to move from uh you know version",
    "start": "2809319",
    "end": "2814880"
  },
  {
    "text": "seven to version eight uh that uh we had to do recently and now I got to go update uh these in all these different",
    "start": "2814880",
    "end": "2821200"
  },
  {
    "text": "spots it can be really annoying to keep those versions in sync and like I mentioned earlier especially test projects but like like I said too uh I",
    "start": "2821200",
    "end": "2828960"
  },
  {
    "text": "find most people I talk to maybe like one out of 10 maybe actually know that there's a solution to this problem",
    "start": "2828960",
    "end": "2835040"
  },
  {
    "text": "called Central package management so this actually got added in doet 6 so back in",
    "start": "2835040",
    "end": "2840200"
  },
  {
    "text": "2022 um and basically what you do is you can create a directory. packages. props at the root and Define all of your",
    "start": "2840200",
    "end": "2846240"
  },
  {
    "text": "packages and all your versions there as well you can technically not put it at the root you can put it like lower too",
    "start": "2846240",
    "end": "2852680"
  },
  {
    "text": "if you have like certain projects that you want kind of want to group together as long basically it'll kind of Traverse up your tree until it finds one of these",
    "start": "2852680",
    "end": "2859079"
  },
  {
    "text": "and then use that one so it'll just use one uh at the top but I find most applications you just need one at the",
    "start": "2859079",
    "end": "2864680"
  },
  {
    "text": "root and then basically what this looks like is then you can just omit the version attribute in the package reference which we'll take a look at",
    "start": "2864680",
    "end": "2870640"
  },
  {
    "text": "demo here in a sec um and then all packages uh will'll have to emit that",
    "start": "2870640",
    "end": "2876280"
  },
  {
    "text": "version attrib so you can't say oh I only want to manage this package uh using Central package management you",
    "start": "2876280",
    "end": "2882359"
  },
  {
    "text": "kind of have to Define all of them up front you can technically override this and say version override attribute and",
    "start": "2882359",
    "end": "2888680"
  },
  {
    "text": "say like hey nope I know my central package man management says it should be this version but I want to override it and use this particular version you can",
    "start": "2888680",
    "end": "2895240"
  },
  {
    "text": "technically use a version override attribute uh to do that so what that looks like is in your D directory",
    "start": "2895240",
    "end": "2901319"
  },
  {
    "text": "packages props uh you have this property group thing and say Hey I want to manage package version centrally true again",
    "start": "2901319",
    "end": "2907720"
  },
  {
    "text": "we've got true back like we were talking about earlier some of these are enabled some of these are true I have no clue why but this one is true and then you",
    "start": "2907720",
    "end": "2914760"
  },
  {
    "text": "can say hey I've got an item group and here's all the different packages I'm um going to reference here so I only have",
    "start": "2914760",
    "end": "2920400"
  },
  {
    "text": "one with xunit but you can imagine you've got a dozens of projects within here and then in your CS proes you just",
    "start": "2920400",
    "end": "2927160"
  },
  {
    "text": "say package reference include xunit and you emit the version entirely and I'll just implicitly use uh the one you've",
    "start": "2927160",
    "end": "2933359"
  },
  {
    "text": "defined in your directory packages props again you could put version override there and override that version uh if",
    "start": "2933359",
    "end": "2939720"
  },
  {
    "text": "you so choose okay now we're kind of on to the bonus topics so let's talk about some",
    "start": "2939720",
    "end": "2947559"
  },
  {
    "text": "bonus tips here the last 10 minutes so if you've ever wondered what SQL queries EF is making under the hood",
    "start": "2947559",
    "end": "2955040"
  },
  {
    "text": "it's pretty easy to find out you can just switch the log level of Microsoft any framework core database command to",
    "start": "2955040",
    "end": "2961680"
  },
  {
    "text": "information and boom you will get that information however don't do this for any any environment other than local",
    "start": "2961680",
    "end": "2968799"
  },
  {
    "text": "because in production you don't really need to see like all the SQL queries that are getting generated more than likely like you probably just need this",
    "start": "2968799",
    "end": "2976160"
  },
  {
    "text": "for local Dev like when you hit this mend point it returns this and kind of see what's being generated so that looks like it's kind",
    "start": "2976160",
    "end": "2983720"
  },
  {
    "text": "of hard to see um but in your app set Json you just do a logging log level and",
    "start": "2983720",
    "end": "2988839"
  },
  {
    "text": "say hey I'm targeting this particular namespace and you framewor core database command information and then down below",
    "start": "2988839",
    "end": "2994599"
  },
  {
    "text": "here you can see like there's like an insert state and select statement you can actually see what SQL queries get",
    "start": "2994599",
    "end": "3000079"
  },
  {
    "text": "generated so if you ever have a slow running query or you're wondering what it gets generated under the hood or a",
    "start": "3000079",
    "end": "3005520"
  },
  {
    "text": "DBA is bothering you because they say oh EF can't be performant you can literally flip this on and say nope here's my SQL",
    "start": "3005520",
    "end": "3012200"
  },
  {
    "text": "query uh what would you do different and the answer is probably nothing in my experience so uh that is uh logging out",
    "start": "3012200",
    "end": "3020440"
  },
  {
    "text": "any framework uh queries um so some more bonus tips uh cicd Pipelines you should",
    "start": "3020440",
    "end": "3027359"
  },
  {
    "text": "be doing them uh if you're not doing them today uh it's really usually not",
    "start": "3027359",
    "end": "3032400"
  },
  {
    "text": "that hard to do at least for sure the CI part of it but you should be creating cicd pipelines do automated builds and",
    "start": "3032400",
    "end": "3038400"
  },
  {
    "text": "deployments but something I don't see a lot of people do so when people say CD there's kind of that's kind of a loaded",
    "start": "3038400",
    "end": "3044079"
  },
  {
    "text": "term because it can mean continuous delivery which means basically I click a button to deploy to production or you",
    "start": "3044079",
    "end": "3050839"
  },
  {
    "text": "doing continuous deployment which basically means as long as the build's green it's going to deploy all the way",
    "start": "3050839",
    "end": "3056040"
  },
  {
    "text": "to production and so we try and promote continuous deployment as much as possible and what",
    "start": "3056040",
    "end": "3061839"
  },
  {
    "text": "I want you to think about because I find nine out of 10 companies aren't doing this is think about how you get to",
    "start": "3061839",
    "end": "3068440"
  },
  {
    "text": "confident green and what I mean by confident green is when the build pipeline's green why aren't you",
    "start": "3068440",
    "end": "3074960"
  },
  {
    "text": "confident to deploy to production and I find a lot of times it's like oh well we've got this one thing I want to test",
    "start": "3074960",
    "end": "3080760"
  },
  {
    "text": "manually or you know uh whatever the case is and you can kind of go through",
    "start": "3080760",
    "end": "3086799"
  },
  {
    "text": "this Loop of like oh I've got this one thing I want to test manually it's like cool write an automated test for that now it's your reason for why you don't",
    "start": "3086799",
    "end": "3093040"
  },
  {
    "text": "want to deploy to production and kind of keep on that continuous loop and usually the answer is write more tests to give",
    "start": "3093040",
    "end": "3098960"
  },
  {
    "text": "you that confidence that everything works adding health checks uh zero downtime deployments all of that kind of",
    "start": "3098960",
    "end": "3104640"
  },
  {
    "text": "stuff also feeds into a lot of this but some people will be like oh what do I do",
    "start": "3104640",
    "end": "3110200"
  },
  {
    "text": "though like uh you decid to use trunk based development but like how do I make sure these features that are kind of",
    "start": "3110200",
    "end": "3115720"
  },
  {
    "text": "inlight don't show up for users and uh the solution to that is using something",
    "start": "3115720",
    "end": "3121000"
  },
  {
    "text": "called feature toggles which is essentially just a fancy word for an if statement so you can say like hey when",
    "start": "3121000",
    "end": "3126359"
  },
  {
    "text": "I'm in uh production go ahead and don't turn this feature on or when I'm uh when",
    "start": "3126359",
    "end": "3131760"
  },
  {
    "text": "I'm in a lower environment turn this feature uh turn this feature on whatever the case is or for this particular user",
    "start": "3131760",
    "end": "3137720"
  },
  {
    "text": "these particular groups of people you can Target all sorts of different things and so if you're using feature toggles",
    "start": "3137720",
    "end": "3142920"
  },
  {
    "text": "religiously and that's kind of baked into the mindset of your team uh you can get some of these things where you're",
    "start": "3142920",
    "end": "3147960"
  },
  {
    "text": "deploying continuously uh all the time and actually have a family member who works at Amazon and Amazon forces them",
    "start": "3147960",
    "end": "3154839"
  },
  {
    "text": "to do continuous deployment so if the build is green it's going to prod so it kind of forces you to write really good",
    "start": "3154839",
    "end": "3160720"
  },
  {
    "text": "tests and also usually forces you to have conversations with users sooner um both of which in my opinion are very",
    "start": "3160720",
    "end": "3167200"
  },
  {
    "text": "good things also work in small batches uh so try and figure out like hey can I split",
    "start": "3167200",
    "end": "3173200"
  },
  {
    "text": "this up into multiple uh deliverables uh versus like showing up with a PR with",
    "start": "3173200",
    "end": "3178640"
  },
  {
    "text": "like 200 files change because nobody likes that again you should be deploying frequently ideally daily or even more",
    "start": "3178640",
    "end": "3185559"
  },
  {
    "text": "frequently um and this might be controversial to some people but let's say you've got a backend API like a",
    "start": "3185559",
    "end": "3192200"
  },
  {
    "text": "backend for front end scenario where that API is specific to a particular front end uh don't split that into",
    "start": "3192200",
    "end": "3198599"
  },
  {
    "text": "separate repos and have like a front-end repo and then a backend repo because often times you like have to make",
    "start": "3198599",
    "end": "3204160"
  },
  {
    "text": "changes to both and then you submit two PRS and kind of like all right let's merge them one two 3 Let's merge them",
    "start": "3204160",
    "end": "3209359"
  },
  {
    "text": "both at the same time and you just run into this weird scenario so instead I'd rather have it in the same repo have a",
    "start": "3209359",
    "end": "3214920"
  },
  {
    "text": "single PR kind of see everything at a glance and then it can be part of the same pipeline as well also if you got",
    "start": "3214920",
    "end": "3221799"
  },
  {
    "text": "infrastructure as code also don't put that in the same in another repo unless you have infrastructure that's like",
    "start": "3221799",
    "end": "3226960"
  },
  {
    "text": "shared like networking or things like that but if it's specific to your application don't put it in the same in",
    "start": "3226960",
    "end": "3232520"
  },
  {
    "text": "another repo put it in the same repo for all the reasons I just mentioned you can tie it to same cicd pipeline um and all",
    "start": "3232520",
    "end": "3238960"
  },
  {
    "text": "of that kind of stuff so uh some real benefits of doing",
    "start": "3238960",
    "end": "3244640"
  },
  {
    "text": "some of these practices uh one company we work with uh went from deploying to prod 12 times a year and about half the",
    "start": "3244640",
    "end": "3251480"
  },
  {
    "text": "time they rolled back those deployments to we started deploying over 2,000 times in a year and we roll back less than 1%",
    "start": "3251480",
    "end": "3258839"
  },
  {
    "text": "of those and again a lot of this comes down to having confidence writing tests",
    "start": "3258839",
    "end": "3264079"
  },
  {
    "text": "cscd pipelines uh checks all that kind of stuff um as well as just writing",
    "start": "3264079",
    "end": "3270720"
  },
  {
    "text": "maintainable code that's easy for people to extend because you can't deploy 2,000 times a year if you're dealing with a big Legacy uh ball of mud",
    "start": "3270720",
    "end": "3278119"
  },
  {
    "text": "usually and at the end of the day uh the only reason why any of us in this room are employed is because we deliver value",
    "start": "3278119",
    "end": "3284200"
  },
  {
    "text": "to users so at the end of the day this gets more uh faster uh value to users and more reliably so we're not rolling",
    "start": "3284200",
    "end": "3290559"
  },
  {
    "text": "back uh nearly as much um so with that we got about five",
    "start": "3290559",
    "end": "3296599"
  },
  {
    "text": "minutes for any questions um again I have posted these slides up on my blog uh just Scots sober.com and I left it",
    "start": "3296599",
    "end": "3302760"
  },
  {
    "text": "intentionally detailed so you knew kind of the gist of what I was saying uh in case so you don't have to go rewatch the",
    "start": "3302760",
    "end": "3308079"
  },
  {
    "text": "video",
    "start": "3308079",
    "end": "3310680"
  },
  {
    "text": "yeah",
    "start": "3316559",
    "end": "3319559"
  },
  {
    "text": "yep oh okay good good call uh so is more of a statement then question is more why do",
    "start": "3322240",
    "end": "3329280"
  },
  {
    "text": "some have true and some have enable uh so the enable ones have more options than just an onoff default now that you",
    "start": "3329280",
    "end": "3334359"
  },
  {
    "text": "say that I I do remember seeing seeing that uh in some cases but usually I'm just pure binary but yeah makes sense go",
    "start": "3334359",
    "end": "3340599"
  },
  {
    "text": "call out any other questions",
    "start": "3340599",
    "end": "3347558"
  },
  {
    "text": "yeah yep uh so yeah just repeat the question validate on build does that validate anything else uh just does the",
    "start": "3351680",
    "end": "3357839"
  },
  {
    "text": "captive dependency problem so making sure your Singleton don't depend on Scopes and transients so it's kind of a",
    "start": "3357839",
    "end": "3363680"
  },
  {
    "text": "a bad name in my opinion because you might think validate on build means like when you build your project but it actually means when it builds like uh",
    "start": "3363680",
    "end": "3371119"
  },
  {
    "text": "the ioc container basically um so yeah it just validates",
    "start": "3371119",
    "end": "3378319"
  },
  {
    "text": "that any other",
    "start": "3378319",
    "end": "3381760"
  },
  {
    "text": "questions what did people not agree with",
    "start": "3384039",
    "end": "3388240"
  },
  {
    "text": "nobody wants to be brave",
    "start": "3390720",
    "end": "3394280"
  },
  {
    "text": "yeah um what tools do you suggest for um the other two yeah so question uh know",
    "start": "3399760",
    "end": "3407880"
  },
  {
    "text": "we only got part of the question a question was like we talked about logs metrics audits I talked about s log using for logs but what do I use for",
    "start": "3407880",
    "end": "3413839"
  },
  {
    "text": "metrics and audits um so the audits one I use whatever database I'm using so if it's postgress or SQL Server like I'll",
    "start": "3413839",
    "end": "3420160"
  },
  {
    "text": "just uh use that particular database for those for metrics um it's kind of a",
    "start": "3420160",
    "end": "3426079"
  },
  {
    "text": "loaded question so for like application style metrics I'll lean on something like uh New Relic or Azure app insights",
    "start": "3426079",
    "end": "3432640"
  },
  {
    "text": "to give me like response times and CPU and memory and things like that when it comes to actual like business metrics",
    "start": "3432640",
    "end": "3438280"
  },
  {
    "text": "usually I end up using the same data store uh that I'm using so like SQL server postgress or whatever the case is",
    "start": "3438280",
    "end": "3444079"
  },
  {
    "text": "um if I need to like if the if the metric is actually valuable to the business long term and I need to like",
    "start": "3444079",
    "end": "3450119"
  },
  {
    "text": "Trend it over like a year or whatever the case is",
    "start": "3450119",
    "end": "3454960"
  },
  {
    "text": "so another",
    "start": "3455240",
    "end": "3458520"
  },
  {
    "text": "question yep yep so yeah the question was do you put code in uh do you put",
    "start": "3461000",
    "end": "3466920"
  },
  {
    "text": "code that says like hey save this metric and yep yep that's what I would do",
    "start": "3466920",
    "end": "3472119"
  },
  {
    "text": "yeah uh just building on what you said about uh auditing with SQL Server um are",
    "start": "3472760",
    "end": "3479760"
  },
  {
    "text": "you talking about making bespoke tables or are you talking about like temporal tables yes uh I guess it kind of depends",
    "start": "3479760",
    "end": "3489400"
  },
  {
    "text": "um so I know like EF fairly recently got support for temporal tables um you could write your own stuff too um I've",
    "start": "3489400",
    "end": "3497000"
  },
  {
    "text": "traditionally used more audit bespoke tables um I've only used temporal tables once um but I mean whatever gets the job",
    "start": "3497000",
    "end": "3504000"
  },
  {
    "text": "done and the team agrees with is perfectly fine by",
    "start": "3504000",
    "end": "3509680"
  },
  {
    "text": "me any other questions or disagreements we haven't had",
    "start": "3512200",
    "end": "3517480"
  },
  {
    "text": "disagreement yet that kind of makes me sad",
    "start": "3517480",
    "end": "3524280"
  },
  {
    "text": "yeah the um only having a single branch in git like I'm not going to argue with",
    "start": "3525359",
    "end": "3530839"
  },
  {
    "text": "you but that was the one that raised my eyebrows the most yep so I was more of a surprise though",
    "start": "3530839",
    "end": "3537960"
  },
  {
    "text": "disagreement yep thanks for being brave the the so sole Brave one who's going to uh bring",
    "start": "3537960",
    "end": "3545319"
  },
  {
    "text": "some something up it definitely is a big shift going from environment branches or",
    "start": "3545319",
    "end": "3551920"
  },
  {
    "text": "get flow to something else for sure even continuous deployment when I first heard about it I was like how can this",
    "start": "3551920",
    "end": "3557640"
  },
  {
    "text": "possibly work uh how is this safe to do and then once I started doing it I find I didn't want to get rid of it too so a",
    "start": "3557640",
    "end": "3564720"
  },
  {
    "text": "tip to when you're creating a new project is like put that stuff in early and I find you don't want to take it out",
    "start": "3564720",
    "end": "3570440"
  },
  {
    "text": "later once you once you actually start getting users um because honestly what's the harm of going to proda uh when you",
    "start": "3570440",
    "end": "3576319"
  },
  {
    "text": "don't have users probably very little just don't expose your database",
    "start": "3576319",
    "end": "3582079"
  },
  {
    "text": "with on off C be out",
    "start": "3582079",
    "end": "3585880"
  },
  {
    "text": "[Music] yeah so question was why s log over nlog",
    "start": "3587610",
    "end": "3594920"
  },
  {
    "text": "or log foret um um to be honest I I just like the API a little bit better with",
    "start": "3594920",
    "end": "3600440"
  },
  {
    "text": "Sarah log um my experience with log foret hasn't been for a while but I have",
    "start": "3600440",
    "end": "3605720"
  },
  {
    "text": "uh memories of like changing XML XML files to do things and I like sahog you",
    "start": "3605720",
    "end": "3611640"
  },
  {
    "text": "can configure it through code um log from net might be able to do that now I know nlog can um just I find the sarog",
    "start": "3611640",
    "end": "3618640"
  },
  {
    "text": "community is more vibrant too um so I know there's like uh an nlog I hit this",
    "start": "3618640",
    "end": "3624039"
  },
  {
    "text": "at a client they're using nlog and they need to call a bespoke HPM point and the",
    "start": "3624039",
    "end": "3629520"
  },
  {
    "text": "HP Target they were using uh was like an unmaintained package that was two years old that had like a socket exhaustion",
    "start": "3629520",
    "end": "3636359"
  },
  {
    "text": "problem uh the reason why HP client Factory exists and in Sarah log I haven't had that experience where it",
    "start": "3636359",
    "end": "3642240"
  },
  {
    "text": "seems like a lot of the packages are maintaining the community around it so that could be because there's technically kind of a company around it",
    "start": "3642240",
    "end": "3648599"
  },
  {
    "text": "uh as well but that's one of the reasons why one of a few reasons why I like s log",
    "start": "3648599",
    "end": "3655720"
  },
  {
    "text": "go for it got a disagreement",
    "start": "3660640",
    "end": "3667039"
  },
  {
    "text": "yed yep sorry uh so yeah why add in a",
    "start": "3676599",
    "end": "3683440"
  },
  {
    "text": "global fallback requiring an authorized user user if allow if allow uh Anonymous",
    "start": "3683440",
    "end": "3689799"
  },
  {
    "text": "is opt in instead of implicit are you talking for minimal apis or you talking",
    "start": "3689799",
    "end": "3696160"
  },
  {
    "text": "for uh uh even MVC okay in yeah for the",
    "start": "3696160",
    "end": "3701319"
  },
  {
    "text": "last couple of releases of aspnet core um you have to explicitly say that you",
    "start": "3701319",
    "end": "3706920"
  },
  {
    "text": "want to allow Anonymous on say a given action or controller so like requiring",
    "start": "3706920",
    "end": "3713000"
  },
  {
    "text": "authorization is is implicit the whole way through so why",
    "start": "3713000",
    "end": "3718880"
  },
  {
    "text": "have a global fallback um I guess in that case like let's say let's say you have like a",
    "start": "3718880",
    "end": "3724520"
  },
  {
    "text": "claim or custom claim or something that you want to be enforced um that could be a reason um or certain role or something",
    "start": "3724520",
    "end": "3730960"
  },
  {
    "text": "like that but yep that could be a reason all right I know we're like two minutes",
    "start": "3730960",
    "end": "3736039"
  },
  {
    "text": "over um so thanks everybody for coming and again if you want the slides uh they're up on my blog so thanks",
    "start": "3736039",
    "end": "3741200"
  },
  {
    "text": "everybody",
    "start": "3741200",
    "end": "3743960"
  }
]