[
  {
    "start": "0",
    "end": "72000"
  },
  {
    "text": "hey welcome welcome it's a full room this time",
    "start": "8109",
    "end": "14840"
  },
  {
    "text": "dining at the back hopefully it's exciting enough to keep you standing for a full hour",
    "start": "15350",
    "end": "20720"
  },
  {
    "text": "I am Damien Edwards David Felder it's mr. Fowler yep we're going to talk about",
    "start": "20720",
    "end": "26180"
  },
  {
    "text": "some stuff that we've seen nice kinetochores been out for six months six",
    "start": "26180",
    "end": "31490"
  },
  {
    "text": "months is that one six months feels like longer because we've been working on it for about four and a half years yeah and",
    "start": "31490",
    "end": "37670"
  },
  {
    "text": "we're still not quite finished yet so but we've seen a bunch of stuff now we've had calls internally from",
    "start": "37670",
    "end": "44750"
  },
  {
    "text": "Microsoft support engineers or the people who helped you when you have trouble with your apps who have seen some things with Team Lafleur get Stack",
    "start": "44750",
    "end": "51260"
  },
  {
    "text": "Overflow yeah github issues the slack Twitter and so you know in our own",
    "start": "51260",
    "end": "56300"
  },
  {
    "text": "experience as well we wanted to share a bunch of things that we've seen that are",
    "start": "56300",
    "end": "62000"
  },
  {
    "text": "either good or some things that aren't so good and what you should do to avoid are those pitfalls some of them are",
    "start": "62000",
    "end": "67520"
  },
  {
    "text": "pretty bad some of them are like just you could do it the better way so without further ado let's get into it",
    "start": "67520",
    "end": "73310"
  },
  {
    "start": "72000",
    "end": "313000"
  },
  {
    "text": "right into it first of all actually how many people are using hu neck or right now in production excellent that's like",
    "start": "73310",
    "end": "80030"
  },
  {
    "text": "half the room at least that's awesome that's fantastic alright very good logging you should always configure a",
    "start": "80030",
    "end": "87439"
  },
  {
    "text": "logger we added this new ilogger abstraction in the ethernet core technically you can use it anywhere but",
    "start": "87439",
    "end": "93799"
  },
  {
    "text": "it's used throughout Ethernet core and it's not only for you we use it so if you want to like diagnose stuff routing",
    "start": "93799",
    "end": "101899"
  },
  {
    "text": "or EF see the queries that are going over the wire the kestrel and",
    "start": "101899",
    "end": "107090"
  },
  {
    "text": "connections start and stop as well as requests all those things we log per dish ously from throughout the framework",
    "start": "107090",
    "end": "113899"
  },
  {
    "text": "and you can configure that stuff so you can see and obviously you can log yourself which you should probably do if you want to be able to diagnose stuff",
    "start": "113899",
    "end": "119840"
  },
  {
    "text": "later on in production so you should always have one set up in production now by default the application templates",
    "start": "119840",
    "end": "125719"
  },
  {
    "text": "that you've used so far do a terrible thing and they configure a console logger by default which runs even in",
    "start": "125719",
    "end": "134000"
  },
  {
    "text": "production now it does configure it I think at the information velocity level",
    "start": "134000",
    "end": "139180"
  },
  {
    "text": "for all log areas which is probably I mean that was really intended for you to",
    "start": "139180",
    "end": "144290"
  },
  {
    "text": "see it as a developer at the command line not really intended that you want to capture every",
    "start": "144290",
    "end": "149340"
  },
  {
    "text": "information level log forever with your app running in production and route it through the console which takes a global",
    "start": "149340",
    "end": "154770"
  },
  {
    "text": "lock doesn't do great things for your performance and so I would recommend you don't do that we actually have changed",
    "start": "154770",
    "end": "161010"
  },
  {
    "text": "the templates to only do that in development load and then we tweak the settings in production so that we only",
    "start": "161010",
    "end": "167130"
  },
  {
    "text": "capture warnings or higher the in production you should probably use a real logger and plug that into our",
    "start": "167130",
    "end": "172680"
  },
  {
    "text": "logging system behind the abstraction like Sarah log application insights or then pick your favorite logging technology and help elk you know",
    "start": "172680",
    "end": "179910"
  },
  {
    "text": "whatever log stash and whatever you want to use it's a great first step to use logging to help diagnose problems so in",
    "start": "179910",
    "end": "186900"
  },
  {
    "text": "the path for example if you were trying to diagnose route issues you might use the great route debugger utility I think",
    "start": "186900",
    "end": "192660"
  },
  {
    "text": "still hang hydro long road I can go but now because we log so much by default and it's very very easy to get to see",
    "start": "192660",
    "end": "198600"
  },
  {
    "text": "this stuff it's a really great first step to dial up the logging verbosity from information to like debug or even",
    "start": "198600",
    "end": "204930"
  },
  {
    "text": "trace if you'll just want to see everything that gets spat out by our stuff and then you can you know it",
    "start": "204930",
    "end": "210390"
  },
  {
    "text": "really shows you the steps going on inside the framework when you're trying to diagnose a problem you can change the",
    "start": "210390",
    "end": "216690"
  },
  {
    "text": "velocity without having to restart the app and so the templates are set up by default with a configuration file that",
    "start": "216690",
    "end": "222540"
  },
  {
    "text": "you can use and you can just flip those things on the fly and change the upload look at that the minute to avoid logging",
    "start": "222540",
    "end": "228120"
  },
  {
    "text": "too much you can also tweak the category so every log message goes through a specific category and you can change the",
    "start": "228120",
    "end": "234239"
  },
  {
    "text": "velocity per category and you can turn it off completely for other categories and again by default we kind of set up",
    "start": "234239",
    "end": "240180"
  },
  {
    "text": "the template to capture information for all logs and then the idea is that you",
    "start": "240180",
    "end": "246030"
  },
  {
    "text": "can go in and put specific categories and dial them all the way up and turn on the ones all the way down depending on what it is you're trying to do and then",
    "start": "246030",
    "end": "252600"
  },
  {
    "text": "the other thing is that there are other places that we do log so a NCM or the asp net core module which is the part of",
    "start": "252600",
    "end": "258989"
  },
  {
    "text": "IAS is the module we install into if's at launches net XE and runs your application that will log to the Windows",
    "start": "258989",
    "end": "264840"
  },
  {
    "text": "Event log when it fails to launch the process so if you get the dreaded white screen of death the iaf screen of death",
    "start": "264840",
    "end": "270780"
  },
  {
    "text": "with like 503 - whatever it is if if the app process can't be started which is a terrible thing to get because but I have",
    "start": "270780",
    "end": "276870"
  },
  {
    "text": "no idea what my app isn't running it means that it couldn't start the process it'll love to the Windows Event log only",
    "start": "276870",
    "end": "282580"
  },
  {
    "text": "give you a little bit more information as to why and then you can go in and turn on stand it out capturing which the",
    "start": "282580",
    "end": "288610"
  },
  {
    "text": "module allows you to do and then hope you'll get the stack like an exception in there and you can actually get a",
    "start": "288610",
    "end": "293830"
  },
  {
    "text": "really good idea of why that's there and if his unhandled exceptions a log to the configure blogger providers by default",
    "start": "293830",
    "end": "299410"
  },
  {
    "text": "that's request exception yet to be specific you guys on background thread in it throws and we're not going to know about it but if a request faults and the",
    "start": "299410",
    "end": "306610"
  },
  {
    "text": "exception unwinds all the way back to the host to kestrel all the while the hosting layer then we will log that by",
    "start": "306610",
    "end": "311890"
  },
  {
    "text": "default to the local providers so let's have a quick look at an example of that",
    "start": "311890",
    "end": "318060"
  },
  {
    "start": "313000",
    "end": "595000"
  },
  {
    "text": "I'll actually I'll create a new app it might be easier so I'm going to use 2017",
    "start": "318060",
    "end": "323350"
  },
  {
    "text": "here because you know why not I may as well just use the latest stuff and throw caution to the wind and hope that",
    "start": "323350",
    "end": "328990"
  },
  {
    "text": "nothing crashes anyone using 2017 RC yep they say as far as chilling ok is it",
    "start": "328990",
    "end": "334960"
  },
  {
    "text": "good yeah amazing I know it's wonderful yeah it's getting better there'll be a",
    "start": "334960",
    "end": "341200"
  },
  {
    "text": "new build soon very soon hopefully in the next week or so didn't hear the tourney fixes and has tons and tons and",
    "start": "341200",
    "end": "348910"
  },
  {
    "text": "tons of fixes especially kinetochore okay so the dotnet calling is getting better and better every day",
    "start": "348910",
    "end": "354070"
  },
  {
    "text": "I actually have a private internal build running down here which I'm not going to show you side by side which is a new",
    "start": "354070",
    "end": "361210"
  },
  {
    "text": "feature of Visual Studio 2017 you can run different builds side by side which is really nice so if I look inside my",
    "start": "361210",
    "end": "366700"
  },
  {
    "text": "apps settings here in a file new you can see I have this logging information so",
    "start": "366700",
    "end": "371950"
  },
  {
    "text": "here the log levels are being configured by this JSON file and that's passed into my startup CS all the way down here",
    "start": "371950",
    "end": "378460"
  },
  {
    "text": "where I configure the logger so I'm adding the console logger here and it passes in this logging section so if I",
    "start": "378460",
    "end": "385000"
  },
  {
    "text": "run this application and I'm going to run it directly rather than through ice Express so I can see the console I wash",
    "start": "385000",
    "end": "393610"
  },
  {
    "text": "the debugger I probably didn't have to do that did I could have just launched it alright I get the explain I can see this thing it's not a problem",
    "start": "393610",
    "end": "399280"
  },
  {
    "text": "so my application is going to start and I get the get a browser to do so we can",
    "start": "399280",
    "end": "405850"
  },
  {
    "text": "see some log information coming through here and by default we're just logging our info okay we're not logging any",
    "start": "405850",
    "end": "410950"
  },
  {
    "text": "higher than that we still get a fair bit of data which is going to know all the static files are going through",
    "start": "410950",
    "end": "416050"
  },
  {
    "text": "here as well so I'm getting every single request is being logged but I can choose to come in here and I could dial up this to like debug and then if I go back and",
    "start": "416050",
    "end": "424030"
  },
  {
    "text": "I run the request again you start seeing now we get these debug level messages as",
    "start": "424030",
    "end": "429340"
  },
  {
    "text": "well so we're getting a higher verbosity of messages from the framework so now kestrel is telling us about the tcp",
    "start": "429340",
    "end": "435909"
  },
  {
    "text": "connection not just the request okay so that's a really nice trick to when you start to try and diagnose stuff you can",
    "start": "435909",
    "end": "441310"
  },
  {
    "text": "see here that MVC is reporting that it's looking up the view and there was a cache hit so it doesn't have to",
    "start": "441310",
    "end": "446379"
  },
  {
    "text": "recompile the view okay so you get really really deep information about what's going on the application just by",
    "start": "446379",
    "end": "451449"
  },
  {
    "text": "tweaking some of these things that are in the default template now this file driven config for logging right now we",
    "start": "451449",
    "end": "457449"
  },
  {
    "text": "only support that for the console worker but we have a bag of logs and we intend to extend that support to more logger",
    "start": "457449",
    "end": "464620"
  },
  {
    "text": "providers because you know frankly to be really nice to be able to have application insights logging for example",
    "start": "464620",
    "end": "469830"
  },
  {
    "text": "you'd be able to tweak that on the fly without having to restart the app or any other logger for that example for that",
    "start": "469830",
    "end": "475150"
  },
  {
    "text": "matter - okay so the other last thing I want to show you quickly with logging is in the weather context file where you",
    "start": "475150",
    "end": "481960"
  },
  {
    "text": "configure a NCM the HP net core module that boots dotnet XE when you're running in is there's this flag over here",
    "start": "481960",
    "end": "489190"
  },
  {
    "text": "standard log enabled a sender Logan abled it's false what you can do here is set that to true and then when I'm",
    "start": "489190",
    "end": "495430"
  },
  {
    "text": "running under is when I flip this back to is Express it's going to try and",
    "start": "495430",
    "end": "500560"
  },
  {
    "text": "write out a file to this location here so I'm going to create a logs folder because it won't create the folder for",
    "start": "500560",
    "end": "507729"
  },
  {
    "text": "you although I think we have a bug to get that fixed and we know we don't know so if you can't figure out why it's not",
    "start": "507729",
    "end": "513459"
  },
  {
    "text": "working the folder has to be good this actually totally intuitively is the prefix for",
    "start": "513459",
    "end": "518890"
  },
  {
    "text": "the files that will be created not a folder alright as you'll see in a moment so if I run this now and of course I've",
    "start": "518890",
    "end": "524649"
  },
  {
    "text": "dialed my flag my logging up to like 400 right so I'm going to have lots and lots of information going into text files in",
    "start": "524649",
    "end": "532060"
  },
  {
    "text": "my app now so I'm the dotnet XE is logging to the console and then is is capturing that information for me and",
    "start": "532060",
    "end": "538540"
  },
  {
    "text": "not doing usual because I don't see a file there fala what I do the run huh what I do wrong better work then see it like it's",
    "start": "538540",
    "end": "544510"
  },
  {
    "text": "there oh it's right there there it is not looking yeah there it is and I my mouse to slid off",
    "start": "544510",
    "end": "550140"
  },
  {
    "text": "the podium which is why I'm making you fall through all this now and there it is right there so all the way to",
    "start": "550140",
    "end": "556500"
  },
  {
    "text": "clearest what's that kill the process now yeah because it's locked by the PSS so let me go ahead and stop debugging or",
    "start": "556500",
    "end": "562740"
  },
  {
    "text": "come down here and kill lice Express yes and then now I get come on like okay",
    "start": "562740",
    "end": "571800"
  },
  {
    "text": "that is the some other total problem with the build that I'm running let's just do the old-fashioned way so now I",
    "start": "571800",
    "end": "578040"
  },
  {
    "text": "can see all those logs as they were funneled through is Express again I don't recommend that you do that in",
    "start": "578040",
    "end": "583800"
  },
  {
    "text": "production because that's going to slow down your site considerably if you're capturing everything through all the",
    "start": "583800",
    "end": "589080"
  },
  {
    "text": "logs through console and you have a success and make it not be in line and lock in lines we do have trying to make",
    "start": "589080",
    "end": "594120"
  },
  {
    "text": "that better Andy yeah so we're actually going to fix in process now to make the console logger basically buffer and go",
    "start": "594120",
    "end": "599760"
  },
  {
    "start": "595000",
    "end": "926000"
  },
  {
    "text": "by background thread yeah so it doesn't lock so anyway all right configuration options we have a whole new config",
    "start": "599760",
    "end": "605610"
  },
  {
    "text": "system and this options strongly-typed binding system for flowing config throughout your app in Ethernet core",
    "start": "605610",
    "end": "611550"
  },
  {
    "text": "we've probably talked about conjugal lock we tend not to talk about options too much I think we should but we can",
    "start": "611550",
    "end": "617160"
  },
  {
    "text": "show you a couple things here configuration supports reloading based on file changes that's exactly what we",
    "start": "617160",
    "end": "622650"
  },
  {
    "text": "just showed you so that log file the app settings that Jason those settings were flowing through the config system into",
    "start": "622650",
    "end": "628410"
  },
  {
    "text": "the logging system and then when I change the file a change propagation takes place and that goes all the way through into the logging provider and",
    "start": "628410",
    "end": "635400"
  },
  {
    "text": "reloads those settings for you so that's kind of nice you can use that for your own stuff yeah so if you want to change the connection string on the fly while",
    "start": "635400",
    "end": "641250"
  },
  {
    "text": "the app is running for whatever reason you could do that for any setting that you have in a file based provider we",
    "start": "641250",
    "end": "646320"
  },
  {
    "text": "support that right out of the box in 1.1 we added support for reloading options",
    "start": "646320",
    "end": "652230"
  },
  {
    "text": "as well so the typical pattern is that you'll have configuration which you read from various providers the environment",
    "start": "652230",
    "end": "657420"
  },
  {
    "text": "variables files on disk whatever other provider that you write and then you bind those name value pairs because",
    "start": "657420",
    "end": "663390"
  },
  {
    "text": "they're just strings at that point on to rich objects going on to options objects using the options binding system in one",
    "start": "663390",
    "end": "670560"
  },
  {
    "text": "oh that was a one-way one-time thing and then the options object goes into the DI container cuz I've white and you resolve",
    "start": "670560",
    "end": "676860"
  },
  {
    "text": "it once and you use that throughout your app in one one we added the I option snapshot interface which allows you to get a snapshot of",
    "start": "676860",
    "end": "682899"
  },
  {
    "text": "the current options but then ask for it to be refreshed at any point in time which means that if the options",
    "start": "682899",
    "end": "689079"
  },
  {
    "text": "themselves were bound from a contact provider that supports changed notification you can now get your strongly type objects that represent",
    "start": "689079",
    "end": "695560"
  },
  {
    "text": "your conflict rebound on the fly while the application is running which is really really nice in cases where you",
    "start": "695560",
    "end": "702639"
  },
  {
    "text": "need to configure options objects and just to remind you options just aren't for your code we use the option system",
    "start": "702639",
    "end": "708519"
  },
  {
    "text": "to configure our own framework so when you use MVC and you want to change some features of MVC you'll often use the MVC",
    "start": "708519",
    "end": "715600"
  },
  {
    "text": "options type and you'll change settings on that okay in the startup code of your application if you have a complicated",
    "start": "715600",
    "end": "722139"
  },
  {
    "text": "set of logic that you need to set up an object or an options object you can actually put a service in the container",
    "start": "722139",
    "end": "728410"
  },
  {
    "text": "that says I configure options of this type and the advantage of that is now",
    "start": "728410",
    "end": "733480"
  },
  {
    "text": "you can activate that service if you depend on other services in DI because it's kind of this reentrant problem",
    "start": "733480",
    "end": "738819"
  },
  {
    "text": "right so you don't want to have to put a lamb's or inline in the configure services code I'll get services and then like get everything in the constructor",
    "start": "738819",
    "end": "745029"
  },
  {
    "text": "which you can't because the things won't be the container is not there yet how did this last time thing you have to worry about so if you when you're",
    "start": "745029",
    "end": "750309"
  },
  {
    "text": "configuring options if you need other things from the container you can simply create a type implement this interface",
    "start": "750309",
    "end": "755889"
  },
  {
    "text": "put that type in the container and then anytime anywhere in your app someone says I need this options object your",
    "start": "755889",
    "end": "761620"
  },
  {
    "text": "options configuration type will run okay that includes getting stuff out of the container I'll show you an example in a minute this is just a best practice type",
    "start": "761620",
    "end": "769540"
  },
  {
    "text": "of thing generally the the advice in terms of environmental configuration so that's",
    "start": "769540",
    "end": "774550"
  },
  {
    "text": "config that's unique to a specific environment so development staging test products cetera you want to keep that",
    "start": "774550",
    "end": "781029"
  },
  {
    "text": "configuration as close to the environment or in the environment if possible so that you don't have",
    "start": "781029",
    "end": "786660"
  },
  {
    "text": "configuration for one environment it has to be managed somewhere else and then flowed with your application and that's",
    "start": "786660",
    "end": "791709"
  },
  {
    "text": "one of the primary reasons we designed the context and the way we did and the whole environment name system in a",
    "start": "791709",
    "end": "797170"
  },
  {
    "text": "spinet course so you can have config that comes from places that traditionally live on the server or in",
    "start": "797170",
    "end": "803350"
  },
  {
    "text": "the environment that you're running in so for example use environment variables so that they live on the server so when",
    "start": "803350",
    "end": "808509"
  },
  {
    "text": "you set up the server if you're running in Asia or an environment like that you can set it once and then it flows in or use config stories that you'll",
    "start": "808509",
    "end": "815379"
  },
  {
    "text": "and provides so something like as your keyboard its escape yeah so keyboard",
    "start": "815379",
    "end": "831339"
  },
  {
    "text": "isn't the easiest system exterior today it's very secure very secure your own",
    "start": "831339",
    "end": "836709"
  },
  {
    "text": "car to use we have we we shipped a key volt config provider within worth in one",
    "start": "836709",
    "end": "842769"
  },
  {
    "text": "one to consider which the the costly the trouble there is it generally to connect to something as complicated as keyboard",
    "start": "842769",
    "end": "849519"
  },
  {
    "text": "you need config to control the keys and the connection string and stuff like that and so but there is a provider so",
    "start": "849519",
    "end": "856899"
  },
  {
    "text": "as long as you can get the connection string for your keyboard and this client cert or whatever it requires for you to connect from some other mechanism so",
    "start": "856899",
    "end": "862989"
  },
  {
    "text": "maybe you put it environment variable read it manually or create our first round of config that reads from the environment build that config object and",
    "start": "862989",
    "end": "869799"
  },
  {
    "text": "then flow that one into the second one so you can connect the keyboard are we support that now we have an inbuilt provider that you can certainly get",
    "start": "869799",
    "end": "875470"
  },
  {
    "text": "package you can grab and there is probably an example of the in the repo I",
    "start": "875470",
    "end": "881049"
  },
  {
    "text": "imagine all that there is our opening down there is there in the in the repo for that and if not just ping us and",
    "start": "881049",
    "end": "886359"
  },
  {
    "text": "we'll give you one the last thing that you can do is you can actually set environment variables that are local to",
    "start": "886359",
    "end": "891939"
  },
  {
    "text": "your application when you're running in is via the website config file which hasn't always been true in I fi think",
    "start": "891939",
    "end": "897639"
  },
  {
    "text": "this is added in is 1010 maybe but we can do it in the NCM module so if you're",
    "start": "897639",
    "end": "903249"
  },
  {
    "text": "running on dotnet core and you're running on is on Windows 2008 r2 or 2012 you can do this because the core module",
    "start": "903249",
    "end": "909729"
  },
  {
    "text": "itself supports ending environment forever we've seen lots of customers you go I need to set the environment variable they set it on the machine",
    "start": "909729",
    "end": "915399"
  },
  {
    "text": "that is is running on so just as it flows to the one app you don't need to do that you can just do in the web the",
    "start": "915399",
    "end": "920709"
  },
  {
    "text": "config file for that one app okay it's much more isolated so that's a good way of doing that as well oh I was going to",
    "start": "920709",
    "end": "926859"
  },
  {
    "start": "926000",
    "end": "1031000"
  },
  {
    "text": "do a demo here wasn't what we're going to do oh yes so just an example of this I configure option stuff that I was",
    "start": "926859",
    "end": "932139"
  },
  {
    "text": "talking about this is my project that runs the live asp net website that runs the community stand up every week and if",
    "start": "932139",
    "end": "938439"
  },
  {
    "text": "I look in my startup class here down in this section",
    "start": "938439",
    "end": "943739"
  },
  {
    "text": "oops that was the wrong key down in this section here arm I",
    "start": "943739",
    "end": "949120"
  },
  {
    "text": "and you do adding and I configure options here somewhere I saw it just",
    "start": "949120",
    "end": "954339"
  },
  {
    "text": "before right down down then down right there little there so this line here",
    "start": "954339",
    "end": "960130"
  },
  {
    "text": "this death by generics line 54 so I'm using a new version of the application",
    "start": "960130",
    "end": "966520"
  },
  {
    "text": "insights SDK for up the freights net core which is currently in Vida which will RPM soon which greatly simplifies",
    "start": "966520",
    "end": "972010"
  },
  {
    "text": "setting up a pin sites with a spinet core which is nice and it has an options object that you can use to configure it",
    "start": "972010",
    "end": "977020"
  },
  {
    "text": "which is great it's like a lot of the things but I needed to set options on that based on the current environment so",
    "start": "977020",
    "end": "982270"
  },
  {
    "text": "if I'm in production I want to do this if I'm in development all under that to get the current environment I need the I hosting environment interface which is",
    "start": "982270",
    "end": "988540"
  },
  {
    "text": "in the container so I could capture it kind of up here put it in a variable and then use in here but it just makes the",
    "start": "988540",
    "end": "994870"
  },
  {
    "text": "startup cost get a little messy so I encapsulated all that in this type which is in my application ok so it implements",
    "start": "994870",
    "end": "1001140"
  },
  {
    "text": "I configure options of application insert service options I take in on this case was actually deployment environment sorry not hosting environment it is my",
    "start": "1001140",
    "end": "1007560"
  },
  {
    "text": "type and so now I can set this option here and also get stuff from di it's",
    "start": "1007560",
    "end": "1013589"
  },
  {
    "text": "very very simple so there's generally a way in Ethernet call of either di system to register services does a whole bunch of other",
    "start": "1013589",
    "end": "1019350"
  },
  {
    "text": "things and it used the I container to get things that you need so that's a very very simple way of doing that ok",
    "start": "1019350",
    "end": "1027480"
  },
  {
    "text": "I'm not going to do the environment variable once more yeah I'm not going to do that alright file upload you can do this one",
    "start": "1027480",
    "end": "1033150"
  },
  {
    "start": "1031000",
    "end": "1626000"
  },
  {
    "text": "ok ok so the file it is pretty scary um anyone support support say that these handles are loads no one never did that",
    "start": "1033150",
    "end": "1040110"
  },
  {
    "text": "no no one has file no you've uploaded little islands so if you in a spec where",
    "start": "1040110",
    "end": "1045329"
  },
  {
    "text": "we have a slit between content route and web root whoever is for web possibly served by the by the web server the",
    "start": "1045329",
    "end": "1051000"
  },
  {
    "text": "country where source code and that's place because we want nan is based web service and not serve random files so in",
    "start": "1051000",
    "end": "1058230"
  },
  {
    "text": "the past I had a giant web as I said I can serve these file types and in the future all we want to do this a point is",
    "start": "1058230",
    "end": "1065130"
  },
  {
    "text": "to the web folder so it can only serve files or affricate files for content and your code files never actually got",
    "start": "1065130",
    "end": "1070920"
  },
  {
    "text": "served by the web browser so if you want to have your elbow default served by the web server you have to put in the web",
    "start": "1070920",
    "end": "1076290"
  },
  {
    "text": "root right all right so in nmbc there's a way to have to model bind an i form pub to the new your charts gonna be high",
    "start": "1076290",
    "end": "1082560"
  },
  {
    "text": "infinite core from getting files or you can bind a knife form collection in the",
    "start": "1082560",
    "end": "1088170"
  },
  {
    "text": "past in the past I think it with an eye for eye form motives are something that",
    "start": "1088170",
    "end": "1094190"
  },
  {
    "text": "a new type type for this thing if you if you're a middle where I get to get the form you call a read form a sink or but",
    "start": "1094190",
    "end": "1102570"
  },
  {
    "text": "form and that gives you the entire form its file as well if you start form is that a blocking call right so yes so",
    "start": "1102570",
    "end": "1109890"
  },
  {
    "text": "forms bad you want to use reform async first that's a blocking call very",
    "start": "1109890",
    "end": "1115320"
  },
  {
    "text": "promising you kind of want to use the async version if you can you should use",
    "start": "1115320",
    "end": "1120420"
  },
  {
    "text": "value how could it think it's bad yeah just to make that really clear yeah if you use HP context or form after",
    "start": "1120420",
    "end": "1125970"
  },
  {
    "text": "it'll wear and you haven't had something else for this read the reformatory for may think on your behalf it becomes yeah",
    "start": "1125970",
    "end": "1132570"
  },
  {
    "text": "then you've now blocked a thread yep while you upload your living area router to the server okay yeah doesn't all go",
    "start": "1132570",
    "end": "1139890"
  },
  {
    "text": "into memory which we'll talk about a minute but still you don't want to do that so those who call that please lower error if you aren't in a form based",
    "start": "1139890",
    "end": "1147300"
  },
  {
    "text": "request you have to check the has form content site before calling reform I think which happens in MC for you on",
    "start": "1147300",
    "end": "1152640"
  },
  {
    "text": "your behalf don't worry about a few tnbc it's interesting in if your net of the",
    "start": "1152640",
    "end": "1158550"
  },
  {
    "text": "past you can actually upload CSV files to app code or upload a view files to",
    "start": "1158550",
    "end": "1164220"
  },
  {
    "text": "the view folder and look at brenell on the server so if you're trying to actually build on that premise orchard",
    "start": "1164220",
    "end": "1169680"
  },
  {
    "text": "and other CMS's should I let you upload got a new kind of content have pretty much remote quit execution on the server",
    "start": "1169680",
    "end": "1176010"
  },
  {
    "text": "side so if you don't want to you kind of want to make sure you are you aren't allowing uploads of these kind of files",
    "start": "1176010",
    "end": "1181170"
  },
  {
    "text": "on your server so definitely what from by defaults for your server side stuff if the file uploaded is above 64 K I",
    "start": "1181170",
    "end": "1189300"
  },
  {
    "text": "believe we start buffering to disk on your behalf so when you call read stream we actually save the content on this so",
    "start": "1189300",
    "end": "1195090"
  },
  {
    "text": "you don't block memory with a giant piles of good can you change where it gets in change where it gets saved by changing out a",
    "start": "1195090",
    "end": "1200700"
  },
  {
    "text": "few on that core underscore 10th path I gotta fall asleep your temp folder",
    "start": "1200700",
    "end": "1205880"
  },
  {
    "text": "okay there's a pretty good one so when someone elbows the file the file name comes from the client side which can't",
    "start": "1205880",
    "end": "1211080"
  },
  {
    "text": "trust the client is untrustworthy so by default if you take that path and and you pass them by an escape to disk",
    "start": "1211080",
    "end": "1217380"
  },
  {
    "text": "and it has like a pot reversal to your C Drive you don't wanna save files like on your hard drive but of course your app",
    "start": "1217380",
    "end": "1224190"
  },
  {
    "text": "is running as a low mileage account so never happen don't sudo a run you're a server and like give admin privileges if",
    "start": "1224190",
    "end": "1232799"
  },
  {
    "text": "you're doing if you want to do very a manual parsing of the body we have type that leg you guys fit the actual",
    "start": "1232799",
    "end": "1238740"
  },
  {
    "text": "multi-part body so you can read the actual thing it's been 15 years one day and this is the first time we've had",
    "start": "1238740",
    "end": "1245309"
  },
  {
    "text": "anything in the framework that lets you do this it's super nice it's actually really does anyone ever tried to process like very large file uploads on a spur",
    "start": "1245309",
    "end": "1251760"
  },
  {
    "text": "net manually manually yeah yeah it's horrible if you have to pass my multi-part mime",
    "start": "1251760",
    "end": "1257789"
  },
  {
    "text": "encoding yourself whereas now we actually have a thing that does it for you which is great oh yeah I love life",
    "start": "1257789",
    "end": "1263460"
  },
  {
    "text": "and you're behind is yeah so request filtering tool applies 1963 on your house let's brighten it up I don't have",
    "start": "1263460",
    "end": "1270600"
  },
  {
    "text": "a Mac so I forgot to use this computer alright so here's the sample pretty",
    "start": "1270600",
    "end": "1275970"
  },
  {
    "text": "benign code file upload was pretty simple right gonna zoom slightly oh yeah oh good control skull control control",
    "start": "1275970",
    "end": "1283460"
  },
  {
    "text": "well that's not my goodness such a Mac user know the kind of this thing is",
    "start": "1283460",
    "end": "1289230"
  },
  {
    "text": "awful alright so upload the action takes a a nice warm file and I'm saying I want to",
    "start": "1289230",
    "end": "1296340"
  },
  {
    "text": "get it from the forum the name was defeatist data find an eye forum file get that file open the stream half",
    "start": "1296340",
    "end": "1302370"
  },
  {
    "text": "combine the content root which is my code root of the site and pop the file name and then create that file copies",
    "start": "1302370",
    "end": "1308520"
  },
  {
    "text": "copy the input stream into the AOPA stream pretty simple right alright let's hop there's no this hack make like so",
    "start": "1308520",
    "end": "1315990"
  },
  {
    "text": "I'm going to watch this in the browser some day",
    "start": "1315990",
    "end": "1321919"
  },
  {
    "text": "what oh I'm impacted already Oh God you money to reset it don't delete that follow my",
    "start": "1325549",
    "end": "1331679"
  },
  {
    "text": "carring ruin the entire demo get back right there in the root oh yeah delete",
    "start": "1331679",
    "end": "1340010"
  },
  {
    "text": "preserve didn't happen it was so easy to",
    "start": "1340010",
    "end": "1348990"
  },
  {
    "text": "hack even I did it oh this is I think start stuffing configuration all right",
    "start": "1348990",
    "end": "1357380"
  },
  {
    "text": "run it again and followed you know I",
    "start": "1357380",
    "end": "1364049"
  },
  {
    "text": "need fiddler to put all this stuff let's",
    "start": "1364049",
    "end": "1369450"
  },
  {
    "text": "upload your file submit what's the",
    "start": "1369450",
    "end": "1376730"
  },
  {
    "text": "market want to blame me somehow what did you do what you bark at you bark the",
    "start": "1376730",
    "end": "1383220"
  },
  {
    "text": "demo dude what a lot is it locked you know what",
    "start": "1383220",
    "end": "1388669"
  },
  {
    "text": "this is gonna work hit refresh try again five that's perfect",
    "start": "1388669",
    "end": "1399500"
  },
  {
    "text": "Longsight guess that works I have a file in my root benign find so",
    "start": "1400340",
    "end": "1405480"
  },
  {
    "text": "far nothing bad now I mean look you can't rename a file to have dot slash but what's flash of any flash or",
    "start": "1405480",
    "end": "1412110"
  },
  {
    "text": "something that I think even honest you can't do that icon so instead what a",
    "start": "1412110",
    "end": "1417330"
  },
  {
    "text": "good hacker would do is don't let's get it from telluric and change the request",
    "start": "1417330",
    "end": "1423240"
  },
  {
    "text": "that was needed zoom into this the control flux what's the green tool water",
    "start": "1423240",
    "end": "1428700"
  },
  {
    "text": "only minute applause all right right-click I'm going to edit this upload request replay edit and then I'm",
    "start": "1428700",
    "end": "1438900"
  },
  {
    "text": "going to change with the body this will raw alright let's change this to oh my good",
    "start": "1438900",
    "end": "1449240"
  },
  {
    "text": "yeah it kind of smells out the Lexus like it let me use this up good I got it",
    "start": "1449240",
    "end": "1454440"
  },
  {
    "text": "let's change this to fuse all caps fuse",
    "start": "1454440",
    "end": "1461040"
  },
  {
    "text": "a time home so that looks legit perfect",
    "start": "1461040",
    "end": "1470220"
  },
  {
    "text": "and this change the content hack",
    "start": "1470220",
    "end": "1476570"
  },
  {
    "text": "wonderful trend a few laughing Serge's okay let me zoom out change here and now",
    "start": "1478720",
    "end": "1489549"
  },
  {
    "text": "should I perfect alright so if i refresh this page now yeah wonderful",
    "start": "1489549",
    "end": "1496359"
  },
  {
    "text": "okay so don't take Stefan the cuts from the client and ever use it on the server side because clean the names right so so",
    "start": "1496359",
    "end": "1504460"
  },
  {
    "text": "I think that's probably if you want to serve these files you want to store it with a grid pick a random name that is",
    "start": "1504460",
    "end": "1512019"
  },
  {
    "text": "of that is that file map that the client file name for your random grid and then serve that via like started follow but",
    "start": "1512019",
    "end": "1519070"
  },
  {
    "text": "wherever by exclude something but don't use what the client sends you like verbatim this kind of league's best part in what scenarios I think that was the",
    "start": "1519070",
    "end": "1526419"
  },
  {
    "text": "only Center okay Wharton is one more sample we have a repository called entropy which is a I believe is",
    "start": "1526419",
    "end": "1532690"
  },
  {
    "text": "described as a chaotic playground some experimental safety net that's not how",
    "start": "1532690",
    "end": "1539769"
  },
  {
    "text": "you spell it there we go alright so here is a sample a sample ricotta that has a bunch of",
    "start": "1539769",
    "end": "1545889"
  },
  {
    "text": "samples of things that are kind of uh not at you but it kind of not the main",
    "start": "1545889",
    "end": "1551619"
  },
  {
    "text": "listener Scripps Networks Inc so as an example there is a multi-part fault load sample that shows you how to use the actual low-level API is to parse",
    "start": "1551619",
    "end": "1558159"
  },
  {
    "text": "the request body so as an example we have the text the the content styrofoam",
    "start": "1558159",
    "end": "1564849"
  },
  {
    "text": "depart content does the runners parts and using the most part Reader API we have in the framework no call it to be",
    "start": "1564849",
    "end": "1571479"
  },
  {
    "text": "nekked async so you can not be read the actual multi-part request without having to park yourself manually nice so this where entropy because",
    "start": "1571479",
    "end": "1578559"
  },
  {
    "text": "they're a bunch of cool samples in here that are kind of like fringe and the one yeah that's like doesn't those know dozens of samples give that follow",
    "start": "1578559",
    "end": "1584080"
  },
  {
    "text": "there's salt upload via middleware which is they're all sort of categorized yeah",
    "start": "1584080",
    "end": "1589720"
  },
  {
    "text": "upload those files someone do you can see request limit via is bump it because",
    "start": "1589720",
    "end": "1598149"
  },
  {
    "text": "my default is for Meg to make it like mark st. and then you keep going down",
    "start": "1598149",
    "end": "1603340"
  },
  {
    "text": "here you can see call reform async to get the actual form and you can",
    "start": "1603340",
    "end": "1608440"
  },
  {
    "text": "enumerate the form and the files in the form get my people on it yeah some modern",
    "start": "1608440",
    "end": "1613940"
  },
  {
    "text": "browsers yep yep I'm a very nice view here we bring the now if we round out",
    "start": "1613940",
    "end": "1619580"
  },
  {
    "text": "dot and have Raisa yep cool all right  perfect",
    "start": "1619580",
    "end": "1625580"
  },
  {
    "text": "alright VI who here uses our booking container who uses auto fat so this",
    "start": "1625580",
    "end": "1632540"
  },
  {
    "start": "1626000",
    "end": "1643000"
  },
  {
    "text": "applies to the booking container it may apply to other other content as well I'm not sure about their details but to get",
    "start": "1632540",
    "end": "1639140"
  },
  {
    "text": "as general general knowledge of how these things work in general ok so by",
    "start": "1639140",
    "end": "1644210"
  },
  {
    "text": "default keep your day factories class and synchronous we've seen cases where people have a sink batteries and they",
    "start": "1644210",
    "end": "1650510"
  },
  {
    "text": "have to blog because the call site actually synchronous see I'm doing in a way that results don't you thought result ever ever ever ever",
    "start": "1650510",
    "end": "1656840"
  },
  {
    "text": "you have to bid dummies ever don't try it like especially avoid it in a factory yeah in the beauty in the dialog you can",
    "start": "1656840",
    "end": "1663110"
  },
  {
    "text": "call it that lot we had a team in Microsoft sinister of factories and they definitely killed their entire service",
    "start": "1663110",
    "end": "1669080"
  },
  {
    "text": "we're doing a simple if think next call in di you know I will show them of that later today and it's kind of in a",
    "start": "1669080",
    "end": "1674720"
  },
  {
    "start": "1673000",
    "end": "1701000"
  },
  {
    "text": "sensation quark of our container but just don't block and if you ever find a files having to call result you don't",
    "start": "1674720",
    "end": "1681470"
  },
  {
    "text": "wait the task stop this thing superher take a 15-minute break and then come back and look at the code and think",
    "start": "1681470",
    "end": "1687110"
  },
  {
    "text": "really hard about whether that's you really should be doing that right now",
    "start": "1687110",
    "end": "1692080"
  },
  {
    "text": "yeah right",
    "start": "1694900",
    "end": "1700300"
  },
  {
    "text": "don't do it in the instructor you can defer it to be late not in the constructor right so you can do it later",
    "start": "1700300",
    "end": "1705860"
  },
  {
    "start": "1701000",
    "end": "1784000"
  },
  {
    "text": "on so this team actually had a bug with keyboard they were doing dot you've all get yes labs out results and it killed",
    "start": "1705860",
    "end": "1713150"
  },
  {
    "text": "the entire service I mean the point is just defer the expensive operation until after the object is constructed and then",
    "start": "1713150",
    "end": "1719210"
  },
  {
    "text": "sort of do it on so what you wait also you want to do if you is if you have something asynchronous you want that to run while you're in the request pipeline",
    "start": "1719210",
    "end": "1725300"
  },
  {
    "text": "or do it up front when the application is starting like just front loaded if you have to where it's safe to do dot",
    "start": "1725300",
    "end": "1730730"
  },
  {
    "text": "result yeah and then put the thing in the container and then go from there but yeah out the containers are lazily initialized and register a factory it's",
    "start": "1730730",
    "end": "1737360"
  },
  {
    "text": "not going to run until someone asks for it so the total hack is you could keep doing horrible factory and then the",
    "start": "1737360",
    "end": "1743570"
  },
  {
    "text": "config method you could resolve that service while you still haven't had the service start and that will work just fine yeah okay but you have to really understand",
    "start": "1743570",
    "end": "1750200"
  },
  {
    "text": "the lifecycle they don't make sure you do the right thing it's very easy to shoot if you're creator you can add it you can add a 52 gashel container yeah",
    "start": "1750200",
    "end": "1756700"
  },
  {
    "text": "but I mean so it's a lot of facts of worth lazy of T and you can do kind of cool stuff there no a boy : get serviced",
    "start": "1756700",
    "end": "1763550"
  },
  {
    "text": "because it's hard to tech stuff on it and the container that we have that's a good that's a better job if you can see the entire object graph if you have a B",
    "start": "1763550",
    "end": "1771080"
  },
  {
    "text": "and C all declare as Connect arguments it can generate a better code Beneke called get service from each time from",
    "start": "1771080",
    "end": "1777530"
  },
  {
    "text": "from each of those on different services it's basically avoid I want to do a service like ADA yeah like River that",
    "start": "1777530",
    "end": "1782930"
  },
  {
    "text": "pattern of what it try not to do that but if all our container stores all disposable transient services until this",
    "start": "1782930",
    "end": "1788870"
  },
  {
    "start": "1784000",
    "end": "1813000"
  },
  {
    "text": "until the containers is closed so it means if you have a disposable transient service that's resolved in the blue container of the of the application it",
    "start": "1788870",
    "end": "1794930"
  },
  {
    "text": "will never be just be disposed until the operation goes away and the issue there is if you end up resolving a bunch of",
    "start": "1794930",
    "end": "1800360"
  },
  {
    "text": "services it'll be complete so it'll be helpful forever so it's never it's kind of built in memory leaks yeah we may",
    "start": "1800360",
    "end": "1806690"
  },
  {
    "text": "look at tweaking this but right now it happens to this don't try to try to avoid if you can we have a new feature",
    "start": "1806690",
    "end": "1814010"
  },
  {
    "start": "1813000",
    "end": "1879000"
  },
  {
    "text": "in a snack or 1.1 that is scope validation so basically if you have a",
    "start": "1814010",
    "end": "1819050"
  },
  {
    "text": "thing where you have kind of a sculpture vez that captures as well another option",
    "start": "1819050",
    "end": "1826940"
  },
  {
    "text": "so we have a symptom service capturing a skull service that's probably a bug we had actually a bug in the framework is",
    "start": "1826940",
    "end": "1832340"
  },
  {
    "text": "pretty pretty bad if you're using NBC 1.0 please at this please updated on every bug",
    "start": "1832340",
    "end": "1837500"
  },
  {
    "text": "well what is the issue so this depends he should have been transient been said it was it was singleton and was",
    "start": "1837500",
    "end": "1843080"
  },
  {
    "text": "capturing a per request dependency so we captured the user wants and then we should have roll so we handle e-cash I",
    "start": "1843080",
    "end": "1849950"
  },
  {
    "text": "live in elevation it's kind of good caching first request yeah it was that was only in a certain case like you had",
    "start": "1849950",
    "end": "1855140"
  },
  {
    "text": "to it was only if you use this pipe the view component result executors right so it will only happen if you had a controller that had an action method",
    "start": "1855140",
    "end": "1861290"
  },
  {
    "text": "that returned a view complete when it results which was very rare like it was a very rarely rarely used feature yeah",
    "start": "1861290",
    "end": "1867530"
  },
  {
    "text": "and so we deemed it not a massively massively bad issue but it was bad enough to get fixed in 101",
    "start": "1867530",
    "end": "1874169"
  },
  {
    "text": "or to make sure you update that's why it's important to update your packages yeah all right this okay so here is kind of",
    "start": "1874169",
    "end": "1880889"
  },
  {
    "text": "the thing we're talking about if you declare a B and C in the Indies for that argument we can generate cool like this",
    "start": "1880889",
    "end": "1887580"
  },
  {
    "text": "our run time versus you doing together pattern where you taking tripping or you",
    "start": "1887580",
    "end": "1893190"
  },
  {
    "text": "call get serviced manually uppercase peas buggered me now which B that's that one there can you fix that one go to",
    "start": "1893190",
    "end": "1900059"
  },
  {
    "text": "your slide just just making me yeah that PJ oh my god damn you autocorrect there",
    "start": "1900059",
    "end": "1905970"
  },
  {
    "text": "we go a bombing why did I put code in a PowerPoint slides like vomiting like there we go okay so at each call to get",
    "start": "1905970",
    "end": "1912269"
  },
  {
    "text": "service that's the exchange look a bit slow so you're kind of paying the cost of the sham look up every time you call it you'll get service so if you can",
    "start": "1912269",
    "end": "1917789"
  },
  {
    "text": "declare your object graphs all in the same call tree is kind of a better better job we can do I'm making that",
    "start": "1917789",
    "end": "1922950"
  },
  {
    "text": "fact all right good demo no up di stuff so say map first thing transient without",
    "start": "1922950",
    "end": "1932429"
  },
  {
    "text": "disposable let's put F ten beads that",
    "start": "1932429",
    "end": "1937499"
  },
  {
    "text": "you saw that project oh cool it you've chosen to stop okay wonderful",
    "start": "1937499",
    "end": "1947929"
  },
  {
    "text": "let's do this f10 or f/11 I don't know it is anywhere all right",
    "start": "1947929",
    "end": "1954059"
  },
  {
    "text": "let's pack 1211 so right here I have a completely useless right now I have a",
    "start": "1954059",
    "end": "1961830"
  },
  {
    "text": "selection and by the weight you can use our container in any project it's not just an affinity for only container to",
    "start": "1961830",
    "end": "1967889"
  },
  {
    "text": "use in any project suppose I'm super here this is a call to application a new service selection I have I have 11 I'll",
    "start": "1967889",
    "end": "1974549"
  },
  {
    "text": "add a transient disposable service if we look here if disposable one says",
    "start": "1974549",
    "end": "1979919"
  },
  {
    "text": "disclose so it's not a big deal as transient I call those provider I guess",
    "start": "1979919",
    "end": "1986639"
  },
  {
    "text": "or supplier bag then I resolve it a thousand times and if I put a breakpoint here and just skip over it you'll see we have all this",
    "start": "1986639",
    "end": "1994440"
  },
  {
    "text": "called transient disposables and it's this stored so you should avoid doing that because unless your container is",
    "start": "1994440",
    "end": "2001369"
  },
  {
    "text": "sculpt it will never go away alright the end the application so we need to mail this thing if the most",
    "start": "2001369",
    "end": "2007960"
  },
  {
    "text": "earnest cut loose blowing away control",
    "start": "2007960",
    "end": "2013450"
  },
  {
    "text": "don't do it there you go teleswivel not good so the work around it you",
    "start": "2013450",
    "end": "2018940"
  },
  {
    "text": "really want to use your tribesmen so it's only in the end of sculpt container the pro request container because I get",
    "start": "2018940",
    "end": "2024159"
  },
  {
    "text": "this close if you if you dispose the service provider this is all go away",
    "start": "2024159",
    "end": "2034510"
  },
  {
    "text": "after that resolution right there you go so you know Nate's gonna tap that only",
    "start": "2034510",
    "end": "2040000"
  },
  {
    "text": "happens on the app shuts down right right if you do this in route so so avoid that pattern I think we that that",
    "start": "2040000",
    "end": "2047200"
  },
  {
    "text": "that presents itself if you do it accidentally as a memory leak yeah you'll just look and go why do I have so much memory being use my up for my",
    "start": "2047200",
    "end": "2052960"
  },
  {
    "text": "application and quick keep analysis will show you oh I have all these things being routed all right the fun one then",
    "start": "2052960",
    "end": "2061030"
  },
  {
    "text": "I'll we are through this is awesome all right so this is kind of a mind",
    "start": "2061030",
    "end": "2066700"
  },
  {
    "text": "bender so I create a service selection I'm gonna add a singleton this is the factory the factory taken in a search",
    "start": "2066700",
    "end": "2073898"
  },
  {
    "text": "provider and I'm gonna get so entry and be first a it takes would be very simple",
    "start": "2073899",
    "end": "2079030"
  },
  {
    "text": "object ref right now I go into my function I add singleton for a and in in",
    "start": "2079030",
    "end": "2090398"
  },
  {
    "text": "that in that song in that factory what it does is it get to be asynchronously does that result on creating you able to",
    "start": "2090399",
    "end": "2096520"
  },
  {
    "text": "be a breakpoint here you see what happens and then I call get service a",
    "start": "2096520",
    "end": "2103859"
  },
  {
    "text": "which calls get ba think and one get ba think does does it something I think it",
    "start": "2103859",
    "end": "2110880"
  },
  {
    "text": "comes back and then calls get service be so so if we this clone gets everything",
    "start": "2110880",
    "end": "2116050"
  },
  {
    "text": "to be after a fret hop and there you go we can sit and watch that now for a few",
    "start": "2116050",
    "end": "2122440"
  },
  {
    "text": "days but then I'm gonna go anyway wait for a 10 but it won't if I pause authorize and look at the like a prowler",
    "start": "2122440",
    "end": "2129609"
  },
  {
    "text": "stacks which is an awesome feature you should always use Carlos tax you know you're in trouble if you have to use parallel sex I like you",
    "start": "2129609",
    "end": "2136300"
  },
  {
    "text": "know you're really into one of those days right yeah okay it's a good day so igniting deadlocks is awesome so you",
    "start": "2136300",
    "end": "2143540"
  },
  {
    "start": "2141000",
    "end": "2197000"
  },
  {
    "text": "can't really see it but visit visit sculpt it's a lock on the container and we're currently waiting on the results",
    "start": "2143540",
    "end": "2149450"
  },
  {
    "text": "of that half that results are complete but since we did at a slight delay which did a thread hop to a different thread",
    "start": "2149450",
    "end": "2155839"
  },
  {
    "text": "and then we called gate service after that Fred hops but yet service is waiting for the same lock so we're in",
    "start": "2155839",
    "end": "2161359"
  },
  {
    "text": "this deadlock situation and it's super hard to - no one is - solution I avoid calling avoid cotton get serviced after",
    "start": "2161359",
    "end": "2168050"
  },
  {
    "text": "those async calls it will make things like horrible so the Tina did this and the devil like",
    "start": "2168050",
    "end": "2173240"
  },
  {
    "text": "this descent of happening on their service and it killed there in the entire website what it means that every",
    "start": "2173240",
    "end": "2178430"
  },
  {
    "text": "request this hangs completely basically any hole to get service now hang right there all waiting on the same block",
    "start": "2178430",
    "end": "2183650"
  },
  {
    "text": "right so so scary fun so don't do that",
    "start": "2183650",
    "end": "2189490"
  },
  {
    "text": "yes right it's fine it that works yeah",
    "start": "2191530",
    "end": "2198680"
  },
  {
    "text": "so the funny the funny thing is if I move this code like if I did this above the delay it's fine where you'll have",
    "start": "2198680",
    "end": "2204380"
  },
  {
    "text": "problems is if you take a third-party dependency they have a nice extension method that hangs off by service collection you say yeah and so party",
    "start": "2204380",
    "end": "2210920"
  },
  {
    "text": "libraries things and they register a crapload of factories they do some async stuff you'll have no idea yeah and I was",
    "start": "2210920",
    "end": "2217069"
  },
  {
    "text": "kind of lamenting this David before when we were looking at this I'm like want to be nice if the parallel stacks window or something in vs shows you and locks or",
    "start": "2217069",
    "end": "2223400"
  },
  {
    "text": "being acquired yeah and not because while we can look at those two threads and they're stacks and we know that",
    "start": "2223400",
    "end": "2228500"
  },
  {
    "text": "those two frames there we know they both share a same lock you have no idea like it's our code but that that information",
    "start": "2228500",
    "end": "2235609"
  },
  {
    "text": "is all tracked by the CLR like you can see all that stuff if you have the right tools so I'm going to work a bug yeah",
    "start": "2235609",
    "end": "2241040"
  },
  {
    "text": "Lucy will look out they sing it I mean so we do have a thing to look at ticking more granular locks and said locking the entire container but the thought was if",
    "start": "2241040",
    "end": "2248030"
  },
  {
    "text": "you have the constructor it should be fast or you can't do anything reductive but bright having Patrick and makes it go away because you can do anything in",
    "start": "2248030",
    "end": "2254599"
  },
  {
    "text": "here with code alright captive dependency",
    "start": "2254599",
    "end": "2261750"
  },
  {
    "text": "the term coined by mark humans who definitely here I think talking and doing other stuff what was here about this whole flow pattern so I have an",
    "start": "2261750",
    "end": "2269250"
  },
  {
    "start": "2268000",
    "end": "2361000"
  },
  {
    "text": "type an anti-pattern I have I have AV services a singleton via scoped remember",
    "start": "2269250",
    "end": "2275070"
  },
  {
    "text": "the thing it it could be so I have a cinnamon thing capturing a scope thing",
    "start": "2275070",
    "end": "2280530"
  },
  {
    "text": "and the problem is it'll it'll create the it'll create a once and it will capture whatever B happens to be less",
    "start": "2280530",
    "end": "2286650"
  },
  {
    "text": "cold at that point in time let's debug this and see what it does",
    "start": "2286650",
    "end": "2292670"
  },
  {
    "text": "so I did a made a resolve magics so now",
    "start": "2293750",
    "end": "2300270"
  },
  {
    "text": "I have okay it is a lot to be in my code but a now has captured be forever that's",
    "start": "2300270",
    "end": "2307320"
  },
  {
    "text": "bad in some cases so then one point one we have this new feature that says please check my hold my hands for me",
    "start": "2307320",
    "end": "2314880"
  },
  {
    "text": "check my work yeah make sure you got a and what it does is it checks with these",
    "start": "2314880",
    "end": "2321690"
  },
  {
    "text": "common patterns that end up being mistakes that says oh my god you can't consume a single turn from a",
    "start": "2321690",
    "end": "2328040"
  },
  {
    "text": "you can't see let's go from a single time what are you doing so I recommend turn it on just to see if your if you",
    "start": "2328040",
    "end": "2336119"
  },
  {
    "text": "configure your your bunnies properly in the container by default we haven't turned on by default because we're",
    "start": "2336119",
    "end": "2341700"
  },
  {
    "text": "scared of making breaking changes yeah we could do it into a tool it we might turn it on by default",
    "start": "2341700",
    "end": "2348800"
  },
  {
    "text": "yes yeah so we didn't want to walk the",
    "start": "2354200",
    "end": "2363890"
  },
  {
    "start": "2361000",
    "end": "2587000"
  },
  {
    "text": "entire object graph of the container at plenty call Bill because that's a perfect if you're walking because we this thing is super lazy so it kind of",
    "start": "2363890",
    "end": "2370819"
  },
  {
    "text": "watch the graph at the points I'm called get service and they want to change the designs to make it like have to walk the entire thing it would be better because",
    "start": "2370819",
    "end": "2377180"
  },
  {
    "text": "doing this you only catch it if you haven't call get service which is unfortunate but I mean we could",
    "start": "2377180",
    "end": "2382609"
  },
  {
    "text": "certainly add a method yeah well not kind of all right before you can count our I have its provider to alcholic",
    "start": "2382609",
    "end": "2388460"
  },
  {
    "text": "verify whole verify yeah and it would force evaluation we could do that yeah exactly yeah you could do that so you",
    "start": "2388460",
    "end": "2394039"
  },
  {
    "text": "would know immediately rather than because you're right because it's lazy but you guys have to run through the entire app yep before you see it yeah so",
    "start": "2394039",
    "end": "2399799"
  },
  {
    "text": "that's a good little bit for us a good thing we should do that all right the last one is also another category of",
    "start": "2399799",
    "end": "2406880"
  },
  {
    "text": "issues where the I just sound scary ways the yeah is monden least here I mean",
    "start": "2406880",
    "end": "2414170"
  },
  {
    "text": "it's awesome but it's like there are just subtle things that you can so sculpt service is a singleton within",
    "start": "2414170",
    "end": "2420769"
  },
  {
    "text": "that container what that means is that if you have a new container a scope",
    "start": "2420769",
    "end": "2426140"
  },
  {
    "text": "service will live for as long as a container lives so you'll have one into that container when you're per request this cool piece of request go up so you",
    "start": "2426140",
    "end": "2432799"
  },
  {
    "text": "have a single summit in a request so if you if you resolve it sculpt service from from the app container you have a",
    "start": "2432799",
    "end": "2438079"
  },
  {
    "text": "singleton right so that's mostly a mistake right if you have a scope service like B and you didn't create a",
    "start": "2438079",
    "end": "2446089"
  },
  {
    "text": "scope container and you call the resolve from the top level container you're kind",
    "start": "2446089",
    "end": "2452089"
  },
  {
    "text": "of capturing the scope sort of singleton forever that makes sense so in this example I",
    "start": "2452089",
    "end": "2458450"
  },
  {
    "text": "just felt service B and I've built it with about it scopes true and I created a child scope container to resolve that",
    "start": "2458450",
    "end": "2464599"
  },
  {
    "text": "dependency from and this is fine I made a child a child service provider I resolved B it went away all good but now",
    "start": "2464599",
    "end": "2472940"
  },
  {
    "text": "if I resolve these from the out level container which which is not in the scope it frozen says you can't resolve a",
    "start": "2472940",
    "end": "2478970"
  },
  {
    "text": "scoffer from the route provider and it's kind of another issue that we see in",
    "start": "2478970",
    "end": "2484430"
  },
  {
    "text": "application so now I mean I'm a little hard to see because we've boiled these demos down to their simplest",
    "start": "2484430",
    "end": "2489740"
  },
  {
    "text": "possible thing you need an ass in an app you'll have a bunch of service without those services like a bigger services",
    "start": "2489740",
    "end": "2494900"
  },
  {
    "text": "and the way you would run into this typically is in your configure method you will take in one of those scope services in like the next line",
    "start": "2494900",
    "end": "2501890"
  },
  {
    "text": "underneath so you'll set up a bunch of stuff something might be scoped then in your configure method you want to take in that service because you need it",
    "start": "2501890",
    "end": "2507830"
  },
  {
    "text": "while you're building the HTTP pipeline right and that's when you get into this situation okay what exactly not to get",
    "start": "2507830",
    "end": "2514550"
  },
  {
    "text": "starting from the app container otherwise if you add VB context and you get it in your configure method that",
    "start": "2514550",
    "end": "2520160"
  },
  {
    "text": "will be singleton run I know anyone never get this close which is often done for seeding for a right ample so you end",
    "start": "2520160",
    "end": "2526220"
  },
  {
    "text": "up licking the connection because you have a context open for the entire application lifetimes right so you can want to create a scope if you're doing",
    "start": "2526220",
    "end": "2532910"
  },
  {
    "text": "manual residue of services you want to call create school for scope services click Google EIN the scope that question",
    "start": "2532910",
    "end": "2540320"
  },
  {
    "text": "yeah",
    "start": "2540320",
    "end": "2542680"
  },
  {
    "text": "does every time it does every time yeah okay we could cash it I guess and make it you could we could cash it yeah where",
    "start": "2548180",
    "end": "2553760"
  },
  {
    "text": "today does every time you call resolve the container that'd be pretty clever it there to class late worse is when you",
    "start": "2553760",
    "end": "2560840"
  },
  {
    "text": "have an object a flow table and you call gate service the first time it uses reflection and then the second time it",
    "start": "2560840",
    "end": "2566450"
  },
  {
    "text": "says okay this has been resolved more than once so accuse a work item to the thread pool that compositing an entire",
    "start": "2566450",
    "end": "2572210"
  },
  {
    "text": "object graph into IL and then it says okay i'm going to replace the reflection based one with the eye of this one and that happened it's Leon's like so you",
    "start": "2572210",
    "end": "2578810"
  },
  {
    "text": "get really fast performance what do you call get service more than once it's kind of an interpret then zip style right top pattern so you just need to",
    "start": "2578810",
    "end": "2588800"
  },
  {
    "start": "2587000",
    "end": "2626000"
  },
  {
    "text": "create the scope yeah like if you want great then go configure you would call you would get you know I have services that I have builders application",
    "start": "2588800",
    "end": "2595640"
  },
  {
    "text": "services you would create a scope off that then resolve what you want there rather than just injecting in the DB",
    "start": "2595640",
    "end": "2600890"
  },
  {
    "text": "context directly into configure right and do it that way or create desire I mean you could try and create a service",
    "start": "2600890",
    "end": "2607190"
  },
  {
    "text": "that does it for you but that's a little warm on to you'd be trying to create a scope within your service which is a little weird but yes it's possible yeah",
    "start": "2607190",
    "end": "2613630"
  },
  {
    "text": "okay in this offered you or you seed lazily yep yes so yes",
    "start": "2613630",
    "end": "2625900"
  },
  {
    "start": "2626000",
    "end": "2700000"
  },
  {
    "text": "it's not nothing is implicit so okay so this is aptly important so the question was other is there always a scope to",
    "start": "2626029",
    "end": "2632809"
  },
  {
    "text": "request there is it looks good for requests I think we excited all by default yeah the big thing is if you have to resolve services from that goal",
    "start": "2632809",
    "end": "2639589"
  },
  {
    "text": "so if you don't call get service on that specific container you're going to get it from the application scope so for",
    "start": "2639589",
    "end": "2644659"
  },
  {
    "text": "example if I want to get a scope service I would close to be contacts that request services right like this is a",
    "start": "2644659",
    "end": "2650899"
  },
  {
    "text": "specific scope we create that we give it that we have to use to call resolve from the way where it's mostly is that we we",
    "start": "2650899",
    "end": "2658219"
  },
  {
    "text": "create stuff from request go up so once you're in the request cult like for controller if you get more things here",
    "start": "2658219",
    "end": "2663409"
  },
  {
    "text": "at our scope you you'll be in asked already so we resolve things from request services for you on your behalf you have",
    "start": "2663409",
    "end": "2669079"
  },
  {
    "text": "to call this yourself I'm not and it should be in the right field yeah I mean again this is you don't have to worry",
    "start": "2669079",
    "end": "2674209"
  },
  {
    "text": "about this if you don't use service locator if you don't use the service like get a patent you generally never to worry about this because you're using constructor injection and whoever is",
    "start": "2674209",
    "end": "2680539"
  },
  {
    "text": "building that pipeline right MVC is doing all this for you it's only when you take the I service provider yourself",
    "start": "2680539",
    "end": "2686089"
  },
  {
    "text": "and then you're saying I'm going to take control everything or you grab the HTTP context and you start digging around in there to find the right container is we",
    "start": "2686089",
    "end": "2692509"
  },
  {
    "text": "run into these issues yep okay good good",
    "start": "2692509",
    "end": "2698349"
  },
  {
    "text": "MVC organizers you hear all right so who's heard of mass assignment or over",
    "start": "2699309",
    "end": "2704869"
  },
  {
    "start": "2700000",
    "end": "2732000"
  },
  {
    "text": "binding okay one hand two hands three hands I hope more people will go and",
    "start": "2704869",
    "end": "2709909"
  },
  {
    "text": "look it up after this four hands because it's scary who uses their EF models and they're like model binding for inputs",
    "start": "2709909",
    "end": "2717469"
  },
  {
    "text": "who accepts their EF models in their action result and hey brunette or the ORM model no other use view models in",
    "start": "2717469",
    "end": "2724759"
  },
  {
    "text": "place or input okay you get a good who shares the same view model for the post and the gap don't be ashamed don't be",
    "start": "2724759",
    "end": "2732889"
  },
  {
    "text": "ashamed certify that that's that's usually the promoter and the judgment regression is you start out you watch a",
    "start": "2732889",
    "end": "2738049"
  },
  {
    "text": "demo from four years ago that's got handsome and did or me or you is it like it's so easy you scaffold out a the",
    "start": "2738049",
    "end": "2743539"
  },
  {
    "text": "credit classes scaffold out the database or scaffolds at the front end go home right fine and you go okay this isn't",
    "start": "2743539",
    "end": "2749329"
  },
  {
    "text": "good so then you create a view model and then you use a single view model for both the sort of reading part of the form or the API and the writing part of",
    "start": "2749329",
    "end": "2756259"
  },
  {
    "text": "the form and then over time you realize well maybe I should really have a separate model for handling the input and then in once the Apple and that's kind of the",
    "start": "2756259",
    "end": "2762200"
  },
  {
    "text": "the the the ultimate realization of this so the mobile was having a single model",
    "start": "2762200",
    "end": "2767299"
  },
  {
    "start": "2765000",
    "end": "2808000"
  },
  {
    "text": "that represents multiple operations obviously is when you're doing incoming binding when model binding is looking at",
    "start": "2767299",
    "end": "2773509"
  },
  {
    "text": "stuff in the request and saying I need to build a customer objective that's in your action method then it's just going",
    "start": "2773509",
    "end": "2778700"
  },
  {
    "text": "to take data from the input and try and match that with property names and bind that on there and if you don't",
    "start": "2778700",
    "end": "2784039"
  },
  {
    "text": "explicitly call out what you want mined in what you don't i can just bind stuff to any writable property on that",
    "start": "2784039",
    "end": "2790279"
  },
  {
    "text": "customer which you may not have intended you may only be displaying three fields for editing but it might have twenty fields and now i can over bind or max",
    "start": "2790279",
    "end": "2797390"
  },
  {
    "text": "assign those values and then you'll just screw all that away in the database and now i've done something you didn't intend github was hacked by the way via",
    "start": "2797390",
    "end": "2803930"
  },
  {
    "text": "this mechanism or well max very publicly about it twenty twelve i think yeah so",
    "start": "2803930",
    "end": "2808999"
  },
  {
    "start": "2808000",
    "end": "2837000"
  },
  {
    "text": "there's a way to I mean the way to protect against that is to use a separate input-output model so or you can use there's there's a notation that",
    "start": "2808999",
    "end": "2816650"
  },
  {
    "text": "we have using attributes to say bind to this thing but then you can pass strings to see which properties you want to bind",
    "start": "2816650",
    "end": "2822410"
  },
  {
    "text": "or you can decorate the properties that you don't want bound with never bind so there are ways to do it but I hate all",
    "start": "2822410",
    "end": "2827809"
  },
  {
    "text": "those ways because they're horrible this is a much nicer pure way of doing it just have separate types more classes",
    "start": "2827809",
    "end": "2832969"
  },
  {
    "text": "the references right it's a c-sharp you shouldn't be afraid of creating classes and we're glad tag helpers handling Akio",
    "start": "2832969",
    "end": "2840650"
  },
  {
    "start": "2837000",
    "end": "2919000"
  },
  {
    "text": "right who's written a custom tag helper anybody good okay so I'm not just talking to a bunch of people who have",
    "start": "2840650",
    "end": "2845719"
  },
  {
    "text": "never went to tackle it which is good but if you do cuz you will because they're great you'll find yourself going I really wish I could just do this once",
    "start": "2845719",
    "end": "2851029"
  },
  {
    "text": "throughout my app and this is a really good way to do it you need to handle attribute values if you're reading",
    "start": "2851029",
    "end": "2856299"
  },
  {
    "text": "values from an attribute on the HTML element one that isn't bound to a",
    "start": "2856299",
    "end": "2862099"
  },
  {
    "text": "property on the tag on the tag number itself then there's a special way to handle those values because with razor",
    "start": "2862099",
    "end": "2867319"
  },
  {
    "text": "it could be a literal string or it could be the result of C sharp right you could have at blablablablabla",
    "start": "2867319",
    "end": "2873019"
  },
  {
    "text": "as the HTML property and then that flows through to your tag hole but not just as a string but as a thing that hasn't been",
    "start": "2873019",
    "end": "2878749"
  },
  {
    "text": "evaluated yet it's like a special type and you have to handle that correctly if you're writing tag helpers where you",
    "start": "2878749",
    "end": "2885380"
  },
  {
    "text": "look at an HTML attribute and you assume that that's a path there for example if you write a tag help with it augmented",
    "start": "2885380",
    "end": "2892099"
  },
  {
    "text": "the script and you look at the source attribute you know it points to a path and you want to go and load the file and do stuff you",
    "start": "2892099",
    "end": "2897950"
  },
  {
    "text": "have to protect against whatever that thing is pointing to I've seen a lot of people write tagged helpers and they",
    "start": "2897950",
    "end": "2903050"
  },
  {
    "text": "don't properly validate that the thing that's being passed into the path is actually in the site okay it's a similar",
    "start": "2903050",
    "end": "2909980"
  },
  {
    "text": "problem to the path traversal issue but of course a lot of the time those attributes will point to other websites completely like a fully HDB address you",
    "start": "2909980",
    "end": "2916430"
  },
  {
    "text": "have to handle these things correctly another one is are using temp data for post redirect post redirect get",
    "start": "2916430",
    "end": "2923690"
  },
  {
    "start": "2919000",
    "end": "3002000"
  },
  {
    "text": "operation state so post redirect get for those who don't know is the operation where you say ok I've got a form I post",
    "start": "2923690",
    "end": "2929270"
  },
  {
    "text": "that to a controller I do my processing if everything is valid then rather than just returning from the post which means",
    "start": "2929270",
    "end": "2935870"
  },
  {
    "text": "I'm showing the user an HTML result as a result of a post which means if they hit f5 they'll get that hot water again the",
    "start": "2935870",
    "end": "2942410"
  },
  {
    "text": "relatives resend the request what you want to do is if the posts are successful you want to redirect as they",
    "start": "2942410",
    "end": "2948230"
  },
  {
    "text": "send a redirect response that goes back to maybe the original page or a different a success page or something to",
    "start": "2948230",
    "end": "2954950"
  },
  {
    "text": "force the browser to do a get so it's a nice clean state the problem is you generally want to give like some type of",
    "start": "2954950",
    "end": "2960440"
  },
  {
    "text": "success message you want to pass information through that post redirect get cycle maybe congratulations you",
    "start": "2960440",
    "end": "2966830"
  },
  {
    "text": "created your order or something like that some people use cookies to do that like a temporary cookie that goes in and",
    "start": "2966830",
    "end": "2972350"
  },
  {
    "text": "then comes out and they cleaned out maybe there's a query string to pass data using career strings a little yeah because now you can taking data from the",
    "start": "2972350",
    "end": "2978470"
  },
  {
    "text": "crew string if you're not using it properly you can open yourself up to issues or you might use session ok to do that stuff for a user profile temp data",
    "start": "2978470",
    "end": "2985610"
  },
  {
    "text": "in MVC is a really nice succinct crisp way of doing that that just manages the",
    "start": "2985610",
    "end": "2990770"
  },
  {
    "text": "whole problem of user makes one request I want some data that round trips for exactly one more request",
    "start": "2990770",
    "end": "2997370"
  },
  {
    "text": "that's what Ken's data does ok so using that for post redirect I get status quo nice so I'm going to show you the",
    "start": "2997370",
    "end": "3004420"
  },
  {
    "start": "3002000",
    "end": "3176000"
  },
  {
    "text": "examples of these in the live ace Connect website so let's look at mass assignment protection so in my admin",
    "start": "3004420",
    "end": "3010420"
  },
  {
    "text": "controller so I'll get my home controller first actually my home controller here no these are the real",
    "start": "3010420",
    "end": "3016300"
  },
  {
    "text": "site so there's a lot more code ok so let's have a look at what I'm returning so the index which is the home",
    "start": "3016300",
    "end": "3022030"
  },
  {
    "text": "page isn't taking anything it's just to get but can the home view model so I have a specific view model type that is for",
    "start": "3022030",
    "end": "3029110"
  },
  {
    "text": "displaying information on the home page okay it's just for doing that it's nothing to do with taking stuff in if I",
    "start": "3029110",
    "end": "3035560"
  },
  {
    "text": "go to the admin controller and I look at the a post that you can perform to actually update that stuff you can see",
    "start": "3035560",
    "end": "3042340"
  },
  {
    "text": "I've actually declared a class in line in my controller called the admin input model and then I take that in my save",
    "start": "3042340",
    "end": "3049090"
  },
  {
    "text": "method okay so the contract of what I want to be able to be posted into this action method is right next to it which",
    "start": "3049090",
    "end": "3055450"
  },
  {
    "text": "I kind of like mainly yes I could put the class in a different place but I like kind of like having it as a nested class of this controller and then in",
    "start": "3055450",
    "end": "3062980"
  },
  {
    "text": "terms of validation I can tell MVC to get its model metadata from a different",
    "start": "3062980",
    "end": "3068890"
  },
  {
    "text": "model this is the Buddy type system so rather than having to duplicate validation attributes I can say well the",
    "start": "3068890",
    "end": "3074950"
  },
  {
    "text": "admin input model just gets all of its validation from sort of this master admin view model okay because I want to",
    "start": "3074950",
    "end": "3080680"
  },
  {
    "text": "have validation on the way out so that when you render the admin screen validation works client-side validation",
    "start": "3080680",
    "end": "3086620"
  },
  {
    "text": "works it needs to send all the validation information down but then on the way in I need validation to be there",
    "start": "3086620",
    "end": "3091840"
  },
  {
    "text": "as well so I can run it when I check model state obviously so if I'm using two models I don't want to have to",
    "start": "3091840",
    "end": "3097030"
  },
  {
    "text": "duplicate that only one on one and this is one way of doing that you can also use inheritance so you can have sort of the base model which has the validation",
    "start": "3097030",
    "end": "3103600"
  },
  {
    "text": "and have a derive model and you only add the extra properties that you need for that one but I just find this one a",
    "start": "3103600",
    "end": "3109090"
  },
  {
    "text": "little cleaner this way yes so the",
    "start": "3109090",
    "end": "3117250"
  },
  {
    "text": "question will you anyone work with c-sharp seven value tuples rubbing that I don't think not yet no yet",
    "start": "3117250",
    "end": "3122350"
  },
  {
    "text": "that's a nice idea though yeah we would look up and know exactly okay so that that's using a separate model for input",
    "start": "3122350",
    "end": "3129040"
  },
  {
    "text": "versus viewing and you can see like I'm taking in output admin input model here but if there is an error I return the",
    "start": "3129040",
    "end": "3135760"
  },
  {
    "text": "admin view model okay so in this case model state is not valid so I am returning from the posts all right so the user can see validation errors I",
    "start": "3135760",
    "end": "3142900"
  },
  {
    "text": "create the view model I populate that from the input model and the the actual",
    "start": "3142900",
    "end": "3148240"
  },
  {
    "text": "live record so there's basically three bits of operative trooper to data right the record as it exists right now what the user posted and what I want to send",
    "start": "3148240",
    "end": "3154600"
  },
  {
    "text": "back to the user I merge all those things together and I send that through to the view all right who'd use something like Auto mapper",
    "start": "3154600",
    "end": "3160480"
  },
  {
    "text": "before okay great this is a great case for Auto mapper I am not using it this application I'm doing all the monkey",
    "start": "3160480",
    "end": "3167140"
  },
  {
    "text": "left hand right hand code as you can see down here I don't know why but you",
    "start": "3167140",
    "end": "3172300"
  },
  {
    "text": "should use something like Auto mapper to make this stuff simplistic okay I'm looking at our covers over custom a",
    "start": "3172300",
    "end": "3178300"
  },
  {
    "start": "3176000",
    "end": "3266000"
  },
  {
    "text": "couple of custom tag helpers down here I have a script inlining tab tag helper which you can probably guess what that",
    "start": "3178300",
    "end": "3184060"
  },
  {
    "text": "does if you have an attribute on your script tag that says inline and rather than rendering a normal script tag that makes a request back to the server it",
    "start": "3184060",
    "end": "3190690"
  },
  {
    "text": "just in lines the script in the HTML really nice for smaller file so you can avoid another request to the server so I",
    "start": "3190690",
    "end": "3196960"
  },
  {
    "text": "have to handle dealing with the source attribute okay as it is in the source",
    "start": "3196960",
    "end": "3202060"
  },
  {
    "text": "HTML now a script tag can point to a JavaScript file anywhere can point to a JavaScript file on my site it could be on a CDN it could be are a random other",
    "start": "3202060",
    "end": "3208960"
  },
  {
    "text": "side so I need to make sure I'm dealing with that properly this is the code that you need to write to correctly handle",
    "start": "3208960",
    "end": "3215369"
  },
  {
    "text": "getting the value from a raw attribute okay if I was declare if I was to",
    "start": "3215369",
    "end": "3221680"
  },
  {
    "text": "declare source as a property on here which I can do so I can do this okay",
    "start": "3221680",
    "end": "3227520"
  },
  {
    "text": "that will take care of that for me all right the tag hopper system will bind",
    "start": "3227520",
    "end": "3232660"
  },
  {
    "text": "the source attribute to my source property and it will do all this logic for me but I have an aversion to doing",
    "start": "3232660",
    "end": "3239320"
  },
  {
    "text": "that because if you do that then it shows up in the editor as purple because it now says well this property is from",
    "start": "3239320",
    "end": "3245980"
  },
  {
    "text": "the tag hole for an overrides the factors of HTML and that just annoys me so I do it manually and if you're",
    "start": "3245980",
    "end": "3251800"
  },
  {
    "text": "writing complex tag couples you need to do this anyway so just to walk through this what it's doing it says get the value of the tag hole but this attack up",
    "start": "3251800",
    "end": "3258190"
  },
  {
    "text": "or attribute it comes back as you can see here if i zoom in Mouse podium",
    "start": "3258190",
    "end": "3264910"
  },
  {
    "text": "situation is interesting so it's a tag helper attribute so when you say please get me the source attribute from the",
    "start": "3264910",
    "end": "3271720"
  },
  {
    "start": "3266000",
    "end": "3363000"
  },
  {
    "text": "rendered output and I'm going to render you get that as type tag helper attribute I pass that to a string if",
    "start": "3271720",
    "end": "3277869"
  },
  {
    "text": "it's null then I go okay well that's not a string I need to do something else let's try get it as an HTML string I do",
    "start": "3277869",
    "end": "3283420"
  },
  {
    "text": "that first because it's very cheap to get a real string from the National string I can just grab its value property so if its nature mile string",
    "start": "3283420",
    "end": "3289810"
  },
  {
    "text": "I'll do that if it's still not there my sort of second last-ditch effort is to get it as an IAC more content HTML",
    "start": "3289810",
    "end": "3296270"
  },
  {
    "text": "content is a new type into n razor that effectively represents razor code or",
    "start": "3296270",
    "end": "3301520"
  },
  {
    "text": "anything really that hasn't executed yet it's something that wants to write out HTML but in the old razor what would",
    "start": "3301520",
    "end": "3308119"
  },
  {
    "text": "happen is we would just do that when we encountered it and then things would get double triple quadruple buffered during",
    "start": "3308119",
    "end": "3313369"
  },
  {
    "text": "as they went through all the layers of razor and so you take a lot of strings basically to build HTML now we have this",
    "start": "3313369",
    "end": "3319490"
  },
  {
    "text": "nice deferred execution system so that we can avoid all the texture buffering so if it's an I HTML content you have to",
    "start": "3319490",
    "end": "3326000"
  },
  {
    "text": "do it's a little bit trickier because I system our content wants to be written to something you can't just get it as a string so I have to create a string",
    "start": "3326000",
    "end": "3332450"
  },
  {
    "text": "writer write it out to it with no encoding otherwise it'll try and encode it with HTML and coding which I don't",
    "start": "3332450",
    "end": "3337609"
  },
  {
    "text": "want in this case so it's not going to do it now then I can choose string that and if all that is false and I just add",
    "start": "3337609",
    "end": "3343400"
  },
  {
    "text": "screw it I'll just get to string I'm assuming as some other objects I can just to string it and I'll get it yeah",
    "start": "3343400",
    "end": "3351200"
  },
  {
    "text": "yes I'm expecting lots of pull requests from John skeet later on afterthought as",
    "start": "3351200",
    "end": "3356780"
  },
  {
    "text": "where to heard I think we should create a helper for this personally because that that saddened me when I had to",
    "start": "3356780",
    "end": "3362869"
  },
  {
    "text": "write that code out so the other thing here is dealing with the past so here's all the logic I'm doing to make sure",
    "start": "3362869",
    "end": "3368330"
  },
  {
    "start": "3363000",
    "end": "3418000"
  },
  {
    "text": "that once I actually have the source I'm validating that it actually maps to a file in this site okay and I have to",
    "start": "3368330",
    "end": "3375740"
  },
  {
    "text": "deal with things like past base where the site may be being hosted under a video in is so rather than being routed",
    "start": "3375740",
    "end": "3382940"
  },
  {
    "text": "at the root of the site it's like rooted at /foo I have to account for that and so I have to grab the pass space do a",
    "start": "3382940",
    "end": "3388520"
  },
  {
    "text": "whole bunch of files exist checking to actually realize that the file is there or isn't and once I've done all that work it's pretty straightforward it's",
    "start": "3388520",
    "end": "3395330"
  },
  {
    "text": "just you know going through the sort of a methodology the the method to go through ok",
    "start": "3395330",
    "end": "3400520"
  },
  {
    "text": "is it a very simple URI to the fool you are a well yes and I cannot wait to get that file is there something on disk in",
    "start": "3400520",
    "end": "3405950"
  },
  {
    "text": "my site yes or do I have to adjust the path but if I do go through all that if it's not there fail or just return and",
    "start": "3405950",
    "end": "3412970"
  },
  {
    "text": "do nothing if it is there go ahead and read it and append it to the output ok ok",
    "start": "3412970",
    "end": "3418090"
  },
  {
    "start": "3418000",
    "end": "3484000"
  },
  {
    "text": "lastly are using temp data for post redirect yet so if I go back to my admin control it's pretty straightforward so",
    "start": "3418090",
    "end": "3423920"
  },
  {
    "text": "down here you can see here in my save method after a successful save I wanted to show that the it",
    "start": "3423920",
    "end": "3432249"
  },
  {
    "text": "succeeded so I say okay shoving the temp data use the name of this the success",
    "start": "3432249",
    "end": "3437829"
  },
  {
    "text": "message property on my admin view model as the key and just say this is what I want and then when the get happens which",
    "start": "3437829",
    "end": "3444190"
  },
  {
    "text": "I come back up here I pull it back out again yeah and I just cast it I just",
    "start": "3444190",
    "end": "3450009"
  },
  {
    "text": "push the strain of that simple as that we are looking at a feature in the next version of MVC that allows you to do something like this so you'll be able to",
    "start": "3450009",
    "end": "3456910"
  },
  {
    "text": "do string success message and then you would just be able to do something like",
    "start": "3456910",
    "end": "3462009"
  },
  {
    "text": "this and then you would just be able to assign directly to a property on your controller and then we would take care",
    "start": "3462009",
    "end": "3467650"
  },
  {
    "text": "of the other way and temp data and then repopulating it for you on the next request okay we've actually really got a prototype of",
    "start": "3467650",
    "end": "3472989"
  },
  {
    "text": "that is part of our razor pages work and that's actually going to be really nice way of doing the happening and that'll be implemented using a filter so you",
    "start": "3472989",
    "end": "3478960"
  },
  {
    "text": "could actually use it anywhere in MVC which is kind of cool okay yes yeah so",
    "start": "3478960",
    "end": "3486130"
  },
  {
    "start": "3484000",
    "end": "3600000"
  },
  {
    "text": "temp data is totally pluggable in one oh we supported session only in one one we added a cookie based temp data provider",
    "start": "3486130",
    "end": "3492759"
  },
  {
    "text": "which is what I'm using so I don't need any extra set up it just encrypts it on the server signs it sends it down as a cookie it gets posted back up again red",
    "start": "3492759",
    "end": "3498910"
  },
  {
    "text": "and and cleared very very nice all right talking a pipeline we've got a minute and a half but I want to show everything",
    "start": "3498910",
    "end": "3506069"
  },
  {
    "text": "so we have a feature called aam catalyst which is basically a full a full in-memory web server so you can test the",
    "start": "3506069",
    "end": "3512229"
  },
  {
    "text": "entire pipeline I still putting up a web server having Network good for integrations everything right and I've been interesting to show it it show it",
    "start": "3512229",
    "end": "3519369"
  },
  {
    "text": "show it it's all over the card right now that's pretty easy to show there is a unit test and what it has is a simple",
    "start": "3519369",
    "end": "3525880"
  },
  {
    "text": "fact that has rep our response and I go to I post loader which is in my program and if you've seen a program man before",
    "start": "3525880",
    "end": "3532119"
  },
  {
    "text": "it has the code me builder here the server here is the content here is all",
    "start": "3532119",
    "end": "3537190"
  },
  {
    "text": "that stuff same idea but less thing so same though their stance at our class I'm planning to actually this class",
    "start": "3537190",
    "end": "3544150"
  },
  {
    "text": "right here which runs response which writes hello works with good response I'm going to do is put up the server the",
    "start": "3544150",
    "end": "3551049"
  },
  {
    "text": "test server hop in the Builder call create client and you get it should be client back which is super nice and",
    "start": "3551049",
    "end": "3556269"
  },
  {
    "text": "called get a sink with a this is a an important especially a really good demonstration of why there's a",
    "start": "3556269",
    "end": "3561430"
  },
  {
    "text": "separation between the web host building sort of phase and the startup class yeah so you can do everything in web host",
    "start": "3561430",
    "end": "3567249"
  },
  {
    "text": "yourself like you can just tag everything on but this separation allows you to say well my at Ramsey starts at startup and then I can take that up and",
    "start": "3567249",
    "end": "3573519"
  },
  {
    "text": "run it on a different host very simply by doing this so basically this would get from FTP client with around them URL",
    "start": "3573519",
    "end": "3579400"
  },
  {
    "text": "because it's not relevant anymore and get a response back I read a string and hello world for this she just run and",
    "start": "3579400",
    "end": "3585609"
  },
  {
    "text": "work actually a test run already run tests should be clear that's all in",
    "start": "3585609",
    "end": "3592539"
  },
  {
    "text": "memories and I know socket listening or anything it literally just run the server with all the memory caching and it even though WebSocket in-memory",
    "start": "3592539",
    "end": "3599440"
  },
  {
    "text": "client Leros kind of good like so you can test your entire and family without",
    "start": "3599440",
    "end": "3604509"
  },
  {
    "text": "ever going online cool here's an example of making an environment test specific",
    "start": "3604509",
    "end": "3613390"
  },
  {
    "text": "so in your application I can say I want to run tests for the code and I can write code that says come in environment",
    "start": "3613390",
    "end": "3618940"
  },
  {
    "text": "test using like this versus my prod service on all the service does is it has a string test regression based on",
    "start": "3618940",
    "end": "3626069"
  },
  {
    "text": "what's your run you're running in so the test it says I'm going to response all",
    "start": "3626069",
    "end": "3631359"
  },
  {
    "text": "right the service I get later so added service here got it into the config method and call get beta supersize yep",
    "start": "3631359",
    "end": "3640049"
  },
  {
    "text": "yep no hdvs mmm see me see me after yes",
    "start": "3643690",
    "end": "3650400"
  },
  {
    "text": "give me after class so yeah environment test it just print",
    "start": "3650400",
    "end": "3655780"
  },
  {
    "text": "so it adds attach service if it's not added to the prod service unless kind of the whole thing could here we go out of",
    "start": "3655780",
    "end": "3662020"
  },
  {
    "text": "time yep it's done and yeah step back of the slide there you all right we had more",
    "start": "3662020",
    "end": "3668200"
  },
  {
    "text": "than we have one more thing so just a bunch of a prayer request state it's a bunch of different ways that you can store stuff per request obviously can",
    "start": "3668200",
    "end": "3674440"
  },
  {
    "text": "shove it in the old you know in context of items has been there forever there's a new thing called features this is how we flow like stateful not just fateful",
    "start": "3674440",
    "end": "3681760"
  },
  {
    "text": "but things that have actions things that like do stuff on the request throughout the request lifetime middleware can add",
    "start": "3681760",
    "end": "3688150"
  },
  {
    "text": "these and read these you can add your own features to do complicated things but that's basically you add capabilities scope services we talked a",
    "start": "3688150",
    "end": "3695230"
  },
  {
    "text": "lot about ok things that live for the life of the request generally and then if you really really really really really need to get access to the HP",
    "start": "3695230",
    "end": "3701020"
  },
  {
    "text": "context from inside a service for example there is a thing called the HP",
    "start": "3701020",
    "end": "3706089"
  },
  {
    "text": "context accesses that lives inside the container that you can resolve and as long as your thing is resolved correctly so it just work the figures itself out",
    "start": "3706089",
    "end": "3712930"
  },
  {
    "text": "you will get the HP context inside your random service ok which is kind of nice that's the replacement for HD context",
    "start": "3712930",
    "end": "3719140"
  },
  {
    "text": "dot current current alright di friendly way of doing it and that's it so thank you very much all the code",
    "start": "3719140",
    "end": "3724750"
  },
  {
    "text": "that we showed you is in a repo up on Fowler's github so if you want to see that code [Applause]",
    "start": "3724750",
    "end": "3734140"
  }
]