[
  {
    "text": "all right I'm going to start just uh 30 seconds early just so I have tons of content I want to make sure I cover",
    "start": "5160",
    "end": "10679"
  },
  {
    "text": "cover all of it um first of all welcome I'm glad you're here I believe this could be pretty close to the last",
    "start": "10679",
    "end": "16440"
  },
  {
    "text": "session so that's nice a lot of lot of fun there I'll start with who I am um my",
    "start": "16440",
    "end": "21560"
  },
  {
    "text": "name is Jerry hello that's great yep I feel the same",
    "start": "21560",
    "end": "26599"
  },
  {
    "text": "way and uh I work at Microsoft so get that out of the way um I'm on the SQL",
    "start": "26599",
    "end": "32160"
  },
  {
    "text": "Server team I work specifically with developer experiences so all the developer tooling and all the special",
    "start": "32160",
    "end": "38239"
  },
  {
    "text": "features that come just for developers um those are my team and so it's a lot of fun and we'll cover a lot of those",
    "start": "38239",
    "end": "44920"
  },
  {
    "text": "little pieces along the way so that you can kind of see what your options are in",
    "start": "44920",
    "end": "50719"
  },
  {
    "text": "the concept of workflow for all data engineering and so this this session is",
    "start": "50719",
    "end": "56559"
  },
  {
    "text": "just tons of information about random things and so the fact that you're here is amazing I I really struggled to even",
    "start": "56559",
    "end": "62600"
  },
  {
    "text": "name it there were so many things I wanted to cover um that being said I was in field engineering for Microsoft for",
    "start": "62600",
    "end": "69320"
  },
  {
    "text": "before I came to to SQL two years ago and um a lot of this talk is really",
    "start": "69320",
    "end": "74759"
  },
  {
    "text": "about that experience really it's about the things that I got to do with some of the larger customers that Microsoft has",
    "start": "74759",
    "end": "82280"
  },
  {
    "text": "and that is going to be lessons learned that you guys can take and I'll say this probably a dozen times in this talk but",
    "start": "82280",
    "end": "89360"
  },
  {
    "text": "you'll find that just nibbling at some of the things that they have done allows you to put together a really reasonable",
    "start": "89360",
    "end": "97159"
  },
  {
    "text": "um data strategy for your own company and it doesn't make sense to look at the largest companies and see how they do",
    "start": "97159",
    "end": "103280"
  },
  {
    "text": "things and then just model immediately after them because they do crazy things",
    "start": "103280",
    "end": "108600"
  },
  {
    "text": "and just because they're doing it I can promise you it is not always based on the best technical reasoning sometimes",
    "start": "108600",
    "end": "115200"
  },
  {
    "text": "it's based off of politics sometimes it's based off the fact that they're going to be acquired in two years times it's based off the fact they need to",
    "start": "115200",
    "end": "121360"
  },
  {
    "text": "report a certain thing to the stock market there's always things that drive technical decisions and that's going to",
    "start": "121360",
    "end": "127399"
  },
  {
    "text": "be true with your company as well so just kind of hold that in your pocket and be comfortable with it because it's",
    "start": "127399",
    "end": "133040"
  },
  {
    "text": "okay that you don't necessarily match the cover of the magazine and that's",
    "start": "133040",
    "end": "138160"
  },
  {
    "text": "really a valuable kind of place to be and it's a difficult thing to speak to your manager about right because like oh",
    "start": "138160",
    "end": "143879"
  },
  {
    "text": "this is totally different than the rest of the industry yeah but this is what really makes sense for us and so it's nice hopefully we'll be able to talk",
    "start": "143879",
    "end": "149959"
  },
  {
    "text": "through some of the things that will be uh those arguments and those kind of considerations now the picture matters",
    "start": "149959",
    "end": "156080"
  },
  {
    "text": "for me because this tells you who I really am I'm a BigTime Star Trek fan all the way around my analogies are with",
    "start": "156080",
    "end": "162319"
  },
  {
    "text": "Star Trek everything is Star Trek my children we all went to ComicCon last year all of us were in a way team in",
    "start": "162319",
    "end": "170159"
  },
  {
    "text": "uniform it was fabulous everything was great about it and so anyway this if there's I like being the nerd side of",
    "start": "170159",
    "end": "176480"
  },
  {
    "text": "things and people are like what are your hobbies outside of work it's like software devel velopment and so it's weird to say that sort of thing but I",
    "start": "176480",
    "end": "182360"
  },
  {
    "text": "also love Star Trek so there you go and I like coming this side of the Atlantic because Star Trek is far more popular",
    "start": "182360",
    "end": "188120"
  },
  {
    "text": "outside of the United States than inside of the United States which is a fascinating thing depending on your little pocket where you happen to be",
    "start": "188120",
    "end": "195120"
  },
  {
    "text": "okay but that's not what we're going to talk about today chapter one data sources the way that you would come",
    "start": "195120",
    "end": "201640"
  },
  {
    "text": "across let's just pretend you're like me and you're a consultant that goes into a customer and you're there to do a lot of",
    "start": "201640",
    "end": "209080"
  },
  {
    "text": "different things usually the consultant is there to break a tie somebody inside the company is thinking about one thing",
    "start": "209080",
    "end": "215040"
  },
  {
    "text": "or another and you're there to say what it's supposed to be things they know or they're too afraid to say so they'll let",
    "start": "215040",
    "end": "220640"
  },
  {
    "text": "you say it to take the blame if it fails but that's what they wanted to do all along so they're willing to pay whatever crazy hourly amount they're going to pay",
    "start": "220640",
    "end": "227159"
  },
  {
    "text": "you perfect that's great so this is what you'll see most of the time all the way back to the uh Olympic Games in 20122 in",
    "start": "227159",
    "end": "235200"
  },
  {
    "text": "Tokyo if you've forgotten um it's funny the Olympics have totally taken on a new kind of thing haven't they but",
    "start": "235200",
    "end": "241640"
  },
  {
    "text": "regardless here we have the order of the metals based on the position on the",
    "start": "241640",
    "end": "247879"
  },
  {
    "text": "podium that's why they're like that right so gold is in the middle and then silver and bronze but this is The Medallion strategy that you'll see in",
    "start": "247879",
    "end": "254680"
  },
  {
    "text": "almost every company going forward as they start to think about how they're going to have their their uh their data",
    "start": "254680",
    "end": "260600"
  },
  {
    "text": "they will lay it out in this strategy anybody see this already you know what I'm about to say all right well this is",
    "start": "260600",
    "end": "266720"
  },
  {
    "text": "going to be a moment okay so they will bring their data in three different",
    "start": "266720",
    "end": "272800"
  },
  {
    "text": "times so the first time they'll bring it into a layer that they'll refer to as the bronze tier sometimes they'll refer",
    "start": "272800",
    "end": "279039"
  },
  {
    "text": "to it as the raw data layer and thank goodness we have uh data Lakes because",
    "start": "279039",
    "end": "284240"
  },
  {
    "text": "data Lakes have really changed the way we look at data copying data and storing data it used to be so expensive in order",
    "start": "284240",
    "end": "291160"
  },
  {
    "text": "for us to have data and to keep it now we would try and figure out ways to make it smaller and smaller and smaller and",
    "start": "291160",
    "end": "296880"
  },
  {
    "text": "often normalization the argument around normalization for data in the database is just to reduce the data footprint so",
    "start": "296880",
    "end": "302520"
  },
  {
    "text": "we can have it smaller a lot of those considerations are totally gone I mean now we just take everything explode it",
    "start": "302520",
    "end": "308080"
  },
  {
    "text": "we normalize it denormalize it now into like a paret text file and just jam it into another folder so it's amazing how",
    "start": "308080",
    "end": "314800"
  },
  {
    "text": "things have changed but what is the bronze layer the bronze layer is your line of business application your HR",
    "start": "314800",
    "end": "321639"
  },
  {
    "text": "System your sales system your factory system whatever it is and you are taking a copy of that data and you're just",
    "start": "321639",
    "end": "328280"
  },
  {
    "text": "dumping it into a data Lake that's the end you don't do anything to it there's no transformation along the way you're",
    "start": "328280",
    "end": "334479"
  },
  {
    "text": "literally just extracting it and loading it nothing else happens and maybe you'll do it nightly maybe you'll do it in a",
    "start": "334479",
    "end": "340440"
  },
  {
    "text": "batch process that makes it so that all the data comes in and goes out maybe you'll do it in a streaming process",
    "start": "340440",
    "end": "345759"
  },
  {
    "text": "which is very cool maybe you'll do it as some sort of like event will cause it so you'll do a quarterly dump or even an",
    "start": "345759",
    "end": "351919"
  },
  {
    "text": "annual dump it's not out of is not out of the realm of possibility certainly it happens the data that's inside your",
    "start": "351919",
    "end": "358960"
  },
  {
    "text": "first applic which is your HR System and the data that's in your second application which is let's say like",
    "start": "358960",
    "end": "364240"
  },
  {
    "text": "inventory or sales is not going to match it's not going to naturally relate to one another but that's okay that's not",
    "start": "364240",
    "end": "370160"
  },
  {
    "text": "the point of the bronze layer the bronze layer says just give it to me and it's this just dump truck that backs up and",
    "start": "370160",
    "end": "376599"
  },
  {
    "text": "just pours bits everywhere that is the bronze layer and it is awesome I mean if",
    "start": "376599",
    "end": "381880"
  },
  {
    "text": "you just think about all of a sudden you have access to data that you would otherwise not have access to I don't",
    "start": "381880",
    "end": "387800"
  },
  {
    "text": "mean that government governance is gone or any regul Regulatory Compliance around the data all the pii is still",
    "start": "387800",
    "end": "394240"
  },
  {
    "text": "protected that is the difficult part of implementing a bronze layer first of all but that's the reason we have things",
    "start": "394240",
    "end": "400520"
  },
  {
    "text": "like like lake houses or the one lake so that we can have um like data",
    "start": "400520",
    "end": "406000"
  },
  {
    "text": "dictionaries or purview things like that to still maintain governance that's not what I'm talking about it's not a",
    "start": "406000",
    "end": "411280"
  },
  {
    "text": "security playground it's just an area where all the data is there and you don't have to go to the owner of that",
    "start": "411280",
    "end": "416879"
  },
  {
    "text": "system the one who's responsible and always nervous that you're going slow their system down and ask for data so",
    "start": "416879",
    "end": "422240"
  },
  {
    "text": "that you can build a report so in that sense the bronze is really nice and just getting there is quite the",
    "start": "422240",
    "end": "427800"
  },
  {
    "text": "accomplishment for most companies now the next layer is the important one so if we're at bronze we go up to Silver so",
    "start": "427800",
    "end": "434000"
  },
  {
    "text": "the silver metal is the silver layer sometimes it's referred to as the cleansed layer so the cleansed layer",
    "start": "434000",
    "end": "440160"
  },
  {
    "text": "then we look at all the data and everything is sitting there just happy except we've also gone in and said said",
    "start": "440160",
    "end": "446599"
  },
  {
    "text": "all the duplicate data we've been able to identify it we've removed it all of the keys that relate between different",
    "start": "446599",
    "end": "452919"
  },
  {
    "text": "organization or different uh applications we've been able to find a surrogate key between the two of them so",
    "start": "452919",
    "end": "458879"
  },
  {
    "text": "they can be joined we've gone in and changed you know uh the the way countries are represented in this data",
    "start": "458879",
    "end": "464720"
  },
  {
    "text": "field and the way they're represented in this data field have kind of been worked together so that they can be matched now",
    "start": "464720",
    "end": "470120"
  },
  {
    "text": "so that they it's not just two letters but it's or whatever it is that you need to do and so the cleansed layer is",
    "start": "470120",
    "end": "476120"
  },
  {
    "text": "another amazing accomplishment for any Enterprise and if you think about it that I mean just getting to this is the",
    "start": "476120",
    "end": "482879"
  },
  {
    "text": "that's the Holy Grail like we're already there being able to write reports would you like to write a report against the bronze section or or the bronze layer or",
    "start": "482879",
    "end": "489840"
  },
  {
    "text": "the silver layer of course you'd want to write it against the silver because think of how little work or how much",
    "start": "489840",
    "end": "495080"
  },
  {
    "text": "less work you'd have to do because all the work's been done for you that's one of the reasons you see so little data in",
    "start": "495080",
    "end": "500720"
  },
  {
    "text": "a silver layer because so much work has to be done in order to even get it there so there's this issue of like not just",
    "start": "500720",
    "end": "506120"
  },
  {
    "text": "data size but also timing and cleanliness and all of those we'll talk about those in a second but we have a",
    "start": "506120",
    "end": "512080"
  },
  {
    "text": "silver layer now so we've gone from the bottom which we'll call bronze we've gone then up to a much better layer and",
    "start": "512080",
    "end": "519039"
  },
  {
    "text": "if you picture it as a triangle you're doing the right thing more and more data is being weaned out as we go to it then",
    "start": "519039",
    "end": "525160"
  },
  {
    "text": "we go to the gold layer this is nirvana itself so the gold layer is spectacular",
    "start": "525160",
    "end": "530200"
  },
  {
    "text": "because it is the curated layer where true business experts have gone in and done real data engineering to make it so",
    "start": "530200",
    "end": "537760"
  },
  {
    "text": "that not only the data itself is easy to use it is well documented it is laid out",
    "start": "537760",
    "end": "543720"
  },
  {
    "text": "in a in a very very useful way they've also pre-aggregated certain things because they know that you're going to",
    "start": "543720",
    "end": "549959"
  },
  {
    "text": "want to know the quarterly report for all of our sales across different regions so those are all pre-aggregated",
    "start": "549959",
    "end": "555640"
  },
  {
    "text": "and ready and even faster for you to be able to get you don't have to do certain algorithms inside your data because",
    "start": "555640",
    "end": "561600"
  },
  {
    "text": "those have been introduced for you that's the curated layer and we've even brought in additional data from the outside so if you wanted to say are our",
    "start": "561600",
    "end": "568760"
  },
  {
    "text": "sales up and what was the weather at the time all of that data is there as well so we enrich the data as well as cleanse",
    "start": "568760",
    "end": "575240"
  },
  {
    "text": "it and make it pated and ready for the business that's the gold layer excellent",
    "start": "575240",
    "end": "581120"
  },
  {
    "text": "by the way everybody wants to write reports against the gold layer it is a miracle if you have a",
    "start": "581120",
    "end": "588839"
  },
  {
    "text": "bronze layer it is it is a you have reinvented the entire universe if you",
    "start": "588839",
    "end": "595600"
  },
  {
    "text": "have a silver layer the gold layer is less common let me say it that way it's",
    "start": "595600",
    "end": "601600"
  },
  {
    "text": "just less common but we all are striving for it and that's really an important kind of part to think about all right so",
    "start": "601600",
    "end": "607480"
  },
  {
    "text": "what is in the way so here we are with three line of business apps each one on their way to the gold layer now this is",
    "start": "607480",
    "end": "615440"
  },
  {
    "text": "the this is the state of reality probably forever rather than just a snap in time but where the app one all that",
    "start": "615440",
    "end": "622800"
  },
  {
    "text": "team they were overfunded their budgets were incredible and they were able to go all the way to the curated layer with",
    "start": "622800",
    "end": "628079"
  },
  {
    "text": "all of their data they were able to manage each of these independently and now all of a sudden that project is",
    "start": "628079",
    "end": "633480"
  },
  {
    "text": "finished and it's beautiful unfortunately app 2 they that team turned over in the middle of the project",
    "start": "633480",
    "end": "639480"
  },
  {
    "text": "and who knows what else happened they were able to get to the silver layer so they get an accomplishment there not bad",
    "start": "639480",
    "end": "645839"
  },
  {
    "text": "and then we have this other be attempt that only got us the raw data dumped into a bronze tier right how valuable is",
    "start": "645839",
    "end": "654200"
  },
  {
    "text": "that still very valuable remember one of the hardest things to do is to be able to access data directly out of a line of",
    "start": "654200",
    "end": "660480"
  },
  {
    "text": "business system that's because if you own that system you realize that every time somebody other than your user base",
    "start": "660480",
    "end": "668120"
  },
  {
    "text": "interacts with your data it's going to cause your database to slow down one way or another there's a compromise that has",
    "start": "668120",
    "end": "673760"
  },
  {
    "text": "to be made and so if you have already made this compromis sitting here nobody asks if it's going to slow down the data",
    "start": "673760",
    "end": "680200"
  },
  {
    "text": "Lake because the data lake is already slow it's not like they're going to notice that's just the way it is when",
    "start": "680200",
    "end": "686040"
  },
  {
    "text": "you're reading text files and so now you have your entire Lake here that you can run incredible bi analytics if you're",
    "start": "686040",
    "end": "692040"
  },
  {
    "text": "willing to do extra query work here you can do incredible analysis and you have to do far less and worry about",
    "start": "692040",
    "end": "698959"
  },
  {
    "text": "repetition in the work or even getting the business rules wrong and then you go into the gold layer and it's fantastic",
    "start": "698959",
    "end": "704959"
  },
  {
    "text": "and waiting for you but this is the reality that the data isn't actually there this might be actionable and ready",
    "start": "704959",
    "end": "710639"
  },
  {
    "text": "to go but it's only this much that's actionable and ready to go this is where we spend a lot of our time right that's",
    "start": "710639",
    "end": "717240"
  },
  {
    "text": "just kind of how it goes so you're a consultant you come into one of these companies and they're like listen we",
    "start": "717240",
    "end": "722519"
  },
  {
    "text": "have we're using The Medallion strategy often they start with that and it's very like proud words to use and then they",
    "start": "722519",
    "end": "729760"
  },
  {
    "text": "describe it to you you're like oh you have a little ways to go that's the nice way to say it but the reality is it's",
    "start": "729760",
    "end": "735199"
  },
  {
    "text": "very difficult to get to the gold curated layer and very few end up getting there however we could see this",
    "start": "735199",
    "end": "741040"
  },
  {
    "text": "as different portions and maybe it makes sense to have a part of line of business get here I don't know it's really hard",
    "start": "741040",
    "end": "746560"
  },
  {
    "text": "and it's just a kind of a reality check of the whole thing so again the the idea of duplicating",
    "start": "746560",
    "end": "752480"
  },
  {
    "text": "your data that used to be one of the biggest and hardest parts you would have an ETL process that you would look at you'd be like this is going to take me a",
    "start": "752480",
    "end": "758639"
  },
  {
    "text": "long time and in order to copy all that over I'm going to have this go to here it's going to take not only will it take",
    "start": "758639",
    "end": "765279"
  },
  {
    "text": "many minutes because electrons don't flow for nothing and you have to put them somewhere and so we have this",
    "start": "765279",
    "end": "770760"
  },
  {
    "text": "beautiful CD ROM which is not what it's actually stored on but so much is Just stored in the lake and you'll find",
    "start": "770760",
    "end": "776839"
  },
  {
    "text": "yourself with h i don't it's like it's like my kid's bedroom right you just you",
    "start": "776839",
    "end": "782199"
  },
  {
    "text": "walk in and you just can't see I mean just there's more than there needs to be it just seems like and that is what",
    "start": "782199",
    "end": "788680"
  },
  {
    "text": "happens really all the way along because once storage is free it is irresistible to use and when it's a penny per",
    "start": "788680",
    "end": "796240"
  },
  {
    "text": "gigabyte per month it costs your company nothing and you're like just make a second copy ju actually let's make a",
    "start": "796240",
    "end": "802760"
  },
  {
    "text": "third copy I'll just change the second copy while the third copy is a backup of the first copy and that sort of language",
    "start": "802760",
    "end": "808279"
  },
  {
    "text": "just happens and now all of a sudden we have tons of data but it just the way that it works all right so another thing",
    "start": "808279",
    "end": "814519"
  },
  {
    "text": "that is at least worth remembering is your boss is going to show up and say I",
    "start": "814519",
    "end": "821800"
  },
  {
    "text": "would really like a dashboard you're like awesome good news I have tons of data from our line of Business Systems",
    "start": "821800",
    "end": "828320"
  },
  {
    "text": "in the bronze layer we can actually do that he's like no no I want to make sure it's curated so we have to go through the regular process your dashboard is",
    "start": "828320",
    "end": "834800"
  },
  {
    "text": "only going to be about 2third of all the business but I can still do it and then this is what they always say it has to",
    "start": "834800",
    "end": "840839"
  },
  {
    "text": "be real time and the problem with real time isn't that you can't do real time the problem with real time is just",
    "start": "840839",
    "end": "846680"
  },
  {
    "text": "getting it into this layer in the first place takes at minimum whatever period",
    "start": "846680",
    "end": "852920"
  },
  {
    "text": "that app that app owner will allow so is it a nightly dump is it an hourly dump",
    "start": "852920",
    "end": "858120"
  },
  {
    "text": "very unlikely is it a end of week they'll only do it on Saturday when nobody's working dump more than likely",
    "start": "858120",
    "end": "864360"
  },
  {
    "text": "that's what it's going to be something along the lines that you have all of these to negotiate just before you get",
    "start": "864360",
    "end": "869839"
  },
  {
    "text": "to hear now the next problem is whatever your ETL process is to get to the silver layer costs you not only the time to",
    "start": "869839",
    "end": "876800"
  },
  {
    "text": "move the data itself because the idea would be these are very large data sets you want to bring all of them over and",
    "start": "876800",
    "end": "882600"
  },
  {
    "text": "when you do you want to also transform them and make them so that they're usable you're not just copying them making the bronze over here still bronze",
    "start": "882600",
    "end": "888680"
  },
  {
    "text": "you want to make it silver you want to clean it remove the duplicates do all the things to make these this data actually usable silver is the like that",
    "start": "888680",
    "end": "896079"
  },
  {
    "text": "is truly the prime line if you ask me but nonetheless that introduces more",
    "start": "896079",
    "end": "901800"
  },
  {
    "text": "time does it introduce another couple of hours usually it it it's it's a long time and so when you are building these",
    "start": "901800",
    "end": "910000"
  },
  {
    "text": "out or you're seeing these build and somebody says okay it's time for our real-time dashboard so we can look at the analytics and have actionable",
    "start": "910000",
    "end": "915720"
  },
  {
    "text": "insights on our data I mean that's exactly the marketing language they're they're hearing so that's exactly what they're asking you for and then you're",
    "start": "915720",
    "end": "922120"
  },
  {
    "text": "like impossible they're like impossible we're going to need another consultant in here and so that's the way it goes in",
    "start": "922120",
    "end": "927920"
  },
  {
    "text": "the reality of time is just a difficult thing to swallow and what's what's true is When anybody says",
    "start": "927920",
    "end": "934319"
  },
  {
    "text": "real time we as Engineers we think about it or like real time you mean it moves here and so you see it move here like",
    "start": "934319",
    "end": "941440"
  },
  {
    "text": "the stock market that's real time that's never what people really mean because what they really mean is the word they",
    "start": "941440",
    "end": "947519"
  },
  {
    "text": "don't know they don't know near time right as close to real time as I can get without spending an extra million",
    "start": "947519",
    "end": "953440"
  },
  {
    "text": "dollars that's usually what they mean but they don't know how to say it so they say real time and what they really just mean is it's fast as fast as",
    "start": "953440",
    "end": "959839"
  },
  {
    "text": "possible but what we hear is what's impossible and so we get to this kind of inflexible crossing point where that's",
    "start": "959839",
    "end": "966680"
  },
  {
    "text": "very difficult only because we have this language problem just kind of the way it goes all right I do want to just point",
    "start": "966680",
    "end": "972720"
  },
  {
    "text": "out um that this is not ETL almost all the time it's not ETL because ETL is so",
    "start": "972720",
    "end": "979399"
  },
  {
    "text": "expensive right so first when you're coming from the app into the bronze layer this is just e there's no T it's",
    "start": "979399",
    "end": "985720"
  },
  {
    "text": "extract and load it's just a dump truck right beautiful then we also have ETL",
    "start": "985720",
    "end": "991040"
  },
  {
    "text": "which with ETL would probably be here so elt is extract load and then do some tinkering on the other side once it's",
    "start": "991040",
    "end": "997240"
  },
  {
    "text": "there the reason you have the te at the end is because really you have you're waiting for other systems to arrive",
    "start": "997240",
    "end": "1002639"
  },
  {
    "text": "before you can do the work it's really nice to think about doing it in flight so when the data lands it's already",
    "start": "1002639",
    "end": "1008079"
  },
  {
    "text": "ready to go but the truth is that's not the way things end up what happens is we have to wait for all the other",
    "start": "1008079",
    "end": "1014040"
  },
  {
    "text": "applications to land so we can finally make those surrogate Keys work or whatever it is we need to to make them",
    "start": "1014040",
    "end": "1019759"
  },
  {
    "text": "connect okay so that's just the idea of ETL and elt and how important that is",
    "start": "1019759",
    "end": "1025798"
  },
  {
    "text": "let this be the takeaway if nothing else from today that um Microsoft has a tool",
    "start": "1025799",
    "end": "1032280"
  },
  {
    "text": "called Azure data Factory this is not a recommendation to use out as your data Factory not at all but I want to explain",
    "start": "1032280",
    "end": "1037360"
  },
  {
    "text": "what it does it is an ETL management tool that allows you to figure out what the source is what the target is then",
    "start": "1037360",
    "end": "1043360"
  },
  {
    "text": "where the tables and kind of map some of the columns and things like that it does all of the orchestra ation that you",
    "start": "1043360",
    "end": "1049440"
  },
  {
    "text": "would need to complete one of the transitions from one state to another great whatever tool you use great",
    "start": "1049440",
    "end": "1058240"
  },
  {
    "text": "honestly I mean that with all my heart here's what I don't want you to do don't write your own tool it is so tempting to",
    "start": "1058240",
    "end": "1065200"
  },
  {
    "text": "write a whole bunch of Jupiter notebooks and execute them on a timer job inside data bricks to move all of your data",
    "start": "1065200",
    "end": "1071440"
  },
  {
    "text": "from one location to another because all you need to do is write some really nice Python and have it all clean and ready",
    "start": "1071440",
    "end": "1077039"
  },
  {
    "text": "to go and that feels like you've done it except for now suddenly you're missing something what about observability is",
    "start": "1077039",
    "end": "1083440"
  },
  {
    "text": "this full is this logged is this going to be loog well I'll add logging no problem and it is very easy to go in",
    "start": "1083440",
    "end": "1089320"
  },
  {
    "text": "import logging into your python notebooks and add some logging terrific all right this is audited as well okay",
    "start": "1089320",
    "end": "1095280"
  },
  {
    "text": "so here's what I'm going to do to make it audited and so you go and you build another contract now I'm going to need a paint a single paint of glass to be able",
    "start": "1095280",
    "end": "1101720"
  },
  {
    "text": "to see all of this okay so we're going to build a dashboarding service on top of our notebooks to make sure that you",
    "start": "1101720",
    "end": "1106880"
  },
  {
    "text": "can see what each one of is doing and it never ends and you ended up instead of spending all of your nice time",
    "start": "1106880",
    "end": "1113440"
  },
  {
    "text": "orchestrating the data from one place to another you built this subsystem that already exists and costs like $40 a",
    "start": "1113440",
    "end": "1119559"
  },
  {
    "text": "month I mean it makes no sense what you have done but it's so tempting that we as Engineers we see it we see the Gap we",
    "start": "1119559",
    "end": "1125799"
  },
  {
    "text": "build a little then we build a little more then we build a little more and then we get promoted and we leave and",
    "start": "1125799",
    "end": "1132400"
  },
  {
    "text": "the next guy comes in who happens to be an Axe Murderer and so he comes in and he looks at your work and he's like what",
    "start": "1132400",
    "end": "1138480"
  },
  {
    "text": "have you done and he also knows where your house is and so this is really for all of us just a safety thing to keep in",
    "start": "1138480",
    "end": "1146159"
  },
  {
    "text": "mind that you need to make choices that the maintenance developer who really is the person we screw the most is the one",
    "start": "1146159",
    "end": "1152799"
  },
  {
    "text": "that loves us because they're like thank you for making these choices this is maintainable this is not something that",
    "start": "1152799",
    "end": "1158720"
  },
  {
    "text": "I have to maint manage in house I don't need an entire development team just to handle your special ETL process I just",
    "start": "1158720",
    "end": "1165520"
  },
  {
    "text": "follow a normal standard procedure so please use Azure data Factory or",
    "start": "1165520",
    "end": "1170559"
  },
  {
    "text": "whatever the equivalent to Azure data Factory is out there I will say ADF is pretty nice this mean what I mean it's",
    "start": "1170559",
    "end": "1176720"
  },
  {
    "text": "not my tool but I'm still pretty nice so quick summary what's the quality of each",
    "start": "1176720",
    "end": "1181960"
  },
  {
    "text": "one it's raw in bronze not so great but not terrible right nice and clean in",
    "start": "1181960",
    "end": "1187600"
  },
  {
    "text": "silver pretty great too curated in Gold couldn't be better could not be better",
    "start": "1187600",
    "end": "1192720"
  },
  {
    "text": "is it enriched no is it enriched perhaps you know is it enriched yeah more than likely it is that's the reason you're",
    "start": "1192720",
    "end": "1198720"
  },
  {
    "text": "calling it The curated section enriched would be bringing in third-party data or outside data that's not necessarily part",
    "start": "1198720",
    "end": "1205120"
  },
  {
    "text": "of your line of Business Systems and then is it reliable maybe maybe because",
    "start": "1205120",
    "end": "1210400"
  },
  {
    "text": "there's special logic inside the line of Business Systems that rely on certain bugs in that system and they don't show",
    "start": "1210400",
    "end": "1217240"
  },
  {
    "text": "up in the reports because they have been written around those bugs however you don't see that necessarily in just a raw",
    "start": "1217240",
    "end": "1223919"
  },
  {
    "text": "dump of the data so now you're quering that data without knowledge of the bug nicely and the silver we brought that",
    "start": "1223919",
    "end": "1230880"
  },
  {
    "text": "knowledge over from your line of business system into the ETL process and now suddenly we have reliable data is it",
    "start": "1230880",
    "end": "1237080"
  },
  {
    "text": "super duper no is this super duper for sure very reliable and then we have what",
    "start": "1237080",
    "end": "1243000"
  },
  {
    "text": "the delay is and it's just short medium long I mean what does that even mean in time you can't measure it but just know",
    "start": "1243000",
    "end": "1249520"
  },
  {
    "text": "it's a lot and so by the time you get the data that you really love and you really like and you really can use it is",
    "start": "1249520",
    "end": "1255880"
  },
  {
    "text": "not last hours data anymore right it's it's there's a lot of time that has passed a lot of negotiating with a lot",
    "start": "1255880",
    "end": "1263000"
  },
  {
    "text": "of teams in a company in order to get your data to this point so just something to know all right little bonus",
    "start": "1263000",
    "end": "1269440"
  },
  {
    "text": "uh I use Jupiter notebooks obviously I write python I love it I understand the value but if you don't know there's a",
    "start": "1269440",
    "end": "1275960"
  },
  {
    "text": "thing called polyglot SQL notebooks if you like to write in SQL and interact with SQL just like you would a Jupiter",
    "start": "1275960",
    "end": "1282080"
  },
  {
    "text": "notebook goes to data bricks or something along those lines the polyot does the same thing also it it ALS you",
    "start": "1282080",
    "end": "1289400"
  },
  {
    "text": "can also write C in it it's spectacular it's great I'm also a professor of computer science at home I'm from",
    "start": "1289400",
    "end": "1295559"
  },
  {
    "text": "Colorado I guess I forgot to say that but I'm from Colorado and um we use notebooks all the time because uh C is",
    "start": "1295559",
    "end": "1301720"
  },
  {
    "text": "an important part of computer science and so at least I like to think so terrific little bonus at the end of",
    "start": "1301720",
    "end": "1308000"
  },
  {
    "text": "chapter one here's chapter two and just managing you as an engineer so now we'll",
    "start": "1308000",
    "end": "1313799"
  },
  {
    "text": "get down to a little lower level where we actually participate the other was just a politics game you can kind of see",
    "start": "1313799",
    "end": "1320720"
  },
  {
    "text": "all the things that happened there but now we're just thinking about how do we develop our database maybe we're",
    "start": "1320720",
    "end": "1326600"
  },
  {
    "text": "developing the next line of business system maybe we're developing a special third database that manages others who",
    "start": "1326600",
    "end": "1332799"
  },
  {
    "text": "knows what it is but let's just say we're about to build a database and we are the team pretty large team but let's",
    "start": "1332799",
    "end": "1338240"
  },
  {
    "text": "just say we have sub teams now here's the issue let's let's let SQL Server be",
    "start": "1338240",
    "end": "1343440"
  },
  {
    "text": "the database since SQL Server is my database and you come in and you make a change to the database I come in I make",
    "start": "1343440",
    "end": "1350640"
  },
  {
    "text": "a change to the database and by the end of the week it's really in good shape like we have made the changes that need",
    "start": "1350640",
    "end": "1355960"
  },
  {
    "text": "to be made however what were those changes that were made well I wrote them down in a nice word document you wrote",
    "start": "1355960",
    "end": "1362400"
  },
  {
    "text": "them also down in a Word document and we have seven Word documents at the end of the week that if we just compare we can",
    "start": "1362400",
    "end": "1367799"
  },
  {
    "text": "see all the changes that were made now a month passes and we have four weeks that",
    "start": "1367799",
    "end": "1372840"
  },
  {
    "text": "four different week sections that have happened each one is being very well documented but it's equally painful",
    "start": "1372840",
    "end": "1379080"
  },
  {
    "text": "because it's hard to know all the changes and here's the problem that you and I we look at a database a little bit",
    "start": "1379080",
    "end": "1384120"
  },
  {
    "text": "like a folder structure a little bit like it's just where you throw your data especially like if you think of Like New",
    "start": "1384120",
    "end": "1390279"
  },
  {
    "text": "in career developers what's a database it's a place where you store data is that wrong it is not wrong it is totally",
    "start": "1390279",
    "end": "1396640"
  },
  {
    "text": "not wrong however it's also not right there's so much more to a database to that and it's very difficult to have all",
    "start": "1396640",
    "end": "1403000"
  },
  {
    "text": "of those details codified in a place that we as a team can recreate the same database on all of our local",
    "start": "1403000",
    "end": "1410039"
  },
  {
    "text": "environments right very difficult so instead this is what we want this is the",
    "start": "1410039",
    "end": "1415200"
  },
  {
    "text": "problem right it's very difficult all those things and this is what we want we want to have a declarative approach",
    "start": "1415200",
    "end": "1420360"
  },
  {
    "text": "where we say I want it to be like this and then have that declaration be applied to a database for us that's what",
    "start": "1420360",
    "end": "1426320"
  },
  {
    "text": "I want I want to declare it here and then have a system do the work that touches the database for me because I",
    "start": "1426320",
    "end": "1431760"
  },
  {
    "text": "can read that declaration as if it's the word document that says what I want to do it also means that you can declare it",
    "start": "1431760",
    "end": "1437400"
  },
  {
    "text": "as well and then we can have a merge conflict in Source control until we get it right and we can all agree and so we",
    "start": "1437400",
    "end": "1443080"
  },
  {
    "text": "don't have these weird very difficult documentation scenarios I want to make sure that I can look at the schema that",
    "start": "1443080",
    "end": "1449720"
  },
  {
    "text": "you just did while I was on vacation and I can see the differences between my local environment and the new",
    "start": "1449720",
    "end": "1455159"
  },
  {
    "text": "environment I want to be able to see what's happened in the uh production environment versus when we had the hot",
    "start": "1455159",
    "end": "1461400"
  },
  {
    "text": "fix last month so I can see just those small little deltas and I can be able to address those as well that sort of",
    "start": "1461400",
    "end": "1466760"
  },
  {
    "text": "differencing system is very important important and then finally I want to be able to work offline and I want to make",
    "start": "1466760",
    "end": "1472640"
  },
  {
    "text": "sure that this all fits into my normal workflow my normal process my cicd pipeline that I would automate anyway I",
    "start": "1472640",
    "end": "1479200"
  },
  {
    "text": "don't want something new I want this to fit into my normal teamwork that's important this is not something that is",
    "start": "1479200",
    "end": "1486039"
  },
  {
    "text": "common by the way when you have a database more likely more than",
    "start": "1486039",
    "end": "1491679"
  },
  {
    "text": "likely you just can't say always but almost more than likely almost lots more",
    "start": "1491679",
    "end": "1497120"
  },
  {
    "text": "than likely not quite always that's what I mean to say not quite always teams",
    "start": "1497120",
    "end": "1502399"
  },
  {
    "text": "just work with the database directly the idea of having a declarative and Source controlled schema is UN is very very",
    "start": "1502399",
    "end": "1508679"
  },
  {
    "text": "unlikely unless it is changed extracted put into a file and added to Source",
    "start": "1508679",
    "end": "1513960"
  },
  {
    "text": "control then they change the database again extract it put into a file and have it in Source control and what's",
    "start": "1513960",
    "end": "1519799"
  },
  {
    "text": "nice is you're at a review meeting with your manager and they say uh are you using Source control for your schema you",
    "start": "1519799",
    "end": "1525679"
  },
  {
    "text": "could be like every day absolutely we are but you're really not because it's not declarative going into the database",
    "start": "1525679",
    "end": "1531799"
  },
  {
    "text": "you're just taking a snapshot every time requiring some reverse engineering if you ever needed to go back in time all",
    "start": "1531799",
    "end": "1537640"
  },
  {
    "text": "right so this is solved by the way with a SQL project and so I'll talk this is",
    "start": "1537640",
    "end": "1544440"
  },
  {
    "text": "it's beautiful gosh it's beautiful and the fact that it's so uncommon in uh",
    "start": "1544440",
    "end": "1549640"
  },
  {
    "text": "Team scenarios blows my mind so in Visual Studio which is what I prefer to use in Visual Studio you can add this as",
    "start": "1549640",
    "end": "1556159"
  },
  {
    "text": "an extension there's no cost to this this just a template it's an incredible tool and it basically you go and install",
    "start": "1556159",
    "end": "1563360"
  },
  {
    "text": "the uh let's see this is actually Visual Studio code so it's also in Visual Studio code I use Visual Studio here we",
    "start": "1563360",
    "end": "1568840"
  },
  {
    "text": "go here's the visual studio side all you have to do is go into the workflow workloads and make sure that you've",
    "start": "1568840",
    "end": "1574080"
  },
  {
    "text": "added the SQL data tools and so if you've added the SQL Server data tools ssdt you'll often see it in",
    "start": "1574080",
    "end": "1579600"
  },
  {
    "text": "documentation written that way then all of a sudden you have it and it gives you a brand new project type called database",
    "start": "1579600",
    "end": "1586440"
  },
  {
    "text": "and it's spectacular it's spectacular all right so some of the things that you can do after you create it so this is a",
    "start": "1586440",
    "end": "1591880"
  },
  {
    "text": "SQL Server database project and it's specific to SQL Server right that's",
    "start": "1591880",
    "end": "1596919"
  },
  {
    "text": "important um and you can figure out what the target is now this is a really big idea because it allows you as a team to",
    "start": "1596919",
    "end": "1604520"
  },
  {
    "text": "focus on the 2019 version of SQL Server that's in production while still being able to build to the 2022 version in the",
    "start": "1604520",
    "end": "1611640"
  },
  {
    "text": "same source file so it allows you to retarget and be able to see what the differences are so imagine this you have",
    "start": "1611640",
    "end": "1617559"
  },
  {
    "text": "a database and you have a whole bunch of store procedures and Views and things and",
    "start": "1617559",
    "end": "1622799"
  },
  {
    "text": "you've been clever and all the tooling and things that you've used inside it and all the functions that you've invoked and then you want to change it",
    "start": "1622799",
    "end": "1629919"
  },
  {
    "text": "back to one of your customers has asked that that they don't they don't have a license for 2022 so they have to do it",
    "start": "1629919",
    "end": "1635640"
  },
  {
    "text": "in 2019 and so you're like okay so I'm in 2022 let's back this down to 2019 now",
    "start": "1635640",
    "end": "1641279"
  },
  {
    "text": "tell me everything that doesn't work without breaking anything right because this works like a build system for your",
    "start": "1641279",
    "end": "1646600"
  },
  {
    "text": "code every time I say control control shift G no control shift B it builds my code as well as my database validating",
    "start": "1646600",
    "end": "1654440"
  },
  {
    "text": "everything every column use every name every view calling back to the tables nothing is wrong",
    "start": "1654440",
    "end": "1660679"
  },
  {
    "text": "then I can go in and say all of the features of the database are individually set here and so I can I can",
    "start": "1660679",
    "end": "1667720"
  },
  {
    "text": "change coalation I can CH everything that you can change inside a database you can change here as well so that",
    "start": "1667720",
    "end": "1672960"
  },
  {
    "text": "means I can take a completely vanilla database brand new just installed and I can apply this to it and it becomes the",
    "start": "1672960",
    "end": "1679640"
  },
  {
    "text": "perfect database for me right I exactly modeled whatever I have in Source control right so including my ability to",
    "start": "1679640",
    "end": "1686919"
  },
  {
    "text": "compare two different versions because even though you fix the bug I need to apply this now into production so I look",
    "start": "1686919",
    "end": "1693279"
  },
  {
    "text": "at your fixes and I can see all the subtle changes you've made in the database I can see what those differences are so I can write the",
    "start": "1693279",
    "end": "1699120"
  },
  {
    "text": "update script and by the way the tool writes the update script I just need to review it and make sure what it's about to do makes sense and I approve it",
    "start": "1699120",
    "end": "1705880"
  },
  {
    "text": "that's the important step all right so let me show you just uh at kind of a high level what this would look like for",
    "start": "1705880",
    "end": "1713200"
  },
  {
    "text": "you so this is a um this is a typical solution there's an error right now and the reason there's an error is just",
    "start": "1713200",
    "end": "1719080"
  },
  {
    "text": "simply because um it's not complete and I I know that it's not complete I'm about to show you and uh let me zoom in",
    "start": "1719080",
    "end": "1724559"
  },
  {
    "text": "just a little so it's slightly bigger and so it's a normal solution I have a my my app- DB is what I called it it's",
    "start": "1724559",
    "end": "1731960"
  },
  {
    "text": "just a database solution and you can see it has procedures and scripts and tables and Views these are these are folders I",
    "start": "1731960",
    "end": "1737760"
  },
  {
    "text": "created because I like to lay it out like this you might lay it out in a different way maybe it's by schema or something along",
    "start": "1737760",
    "end": "1743519"
  },
  {
    "text": "those lines or you like to make it look just like SQL Server management Studio whatever you like that's totally cool",
    "start": "1743519",
    "end": "1748880"
  },
  {
    "text": "and uh but I like it like this and so I go in and I see that I have well here's a great piece this error tells me that",
    "start": "1748880",
    "end": "1755960"
  },
  {
    "text": "there's a view referencing a table that doesn't exist I know that's an error because my table's folder is empty and I",
    "start": "1755960",
    "end": "1761960"
  },
  {
    "text": "also know that I deleted it just before my talk so I could show you and it's that sort of piece is where you can put",
    "start": "1761960",
    "end": "1767360"
  },
  {
    "text": "it in your cic C Pipeline and say Here's my database add it to my source code and",
    "start": "1767360",
    "end": "1772559"
  },
  {
    "text": "your cicd pipeline could be a gate that say your dat your database is invalid I won't even allow you to check it in now",
    "start": "1772559",
    "end": "1778320"
  },
  {
    "text": "that is really awesome right where you can reject somebody's PR automatically simply because the database is invalid",
    "start": "1778320",
    "end": "1783519"
  },
  {
    "text": "and you don't have to look over any of their SQL scripts that's not saying their SQL is smart I'm just saying it it",
    "start": "1783519",
    "end": "1788880"
  },
  {
    "text": "it can't be invalid right that's a big First Step just like CP can't be invalid",
    "start": "1788880",
    "end": "1794320"
  },
  {
    "text": "in order for it to build either so it's really great let's let's add one here so you you can see what it looks like so",
    "start": "1794320",
    "end": "1799399"
  },
  {
    "text": "I'll say right click add oh can't quite see it there we go good I'll add a new table now this is just a file there's",
    "start": "1799399",
    "end": "1806159"
  },
  {
    "text": "nothing special it's just a file and so it'll create a new file ask me the name and I have to zoom out so I can see it",
    "start": "1806159",
    "end": "1812559"
  },
  {
    "text": "too I'll call it users like so and this is the contents of the file",
    "start": "1812559",
    "end": "1820399"
  },
  {
    "text": "and then this is the designer you just sort of get for free because you have this type of a project so you can see",
    "start": "1820399",
    "end": "1825600"
  },
  {
    "text": "it's just create table users with the ID primary key nothing special and then up here you can see it's a designer though",
    "start": "1825600",
    "end": "1832440"
  },
  {
    "text": "what if I don't like SQL I could just go up here and do it it's whatever I want it's just like nice features we as",
    "start": "1832440",
    "end": "1837760"
  },
  {
    "text": "Engineers always like the code the designers sort of you know it's for it's for children you know but nonetheless",
    "start": "1837760",
    "end": "1844399"
  },
  {
    "text": "it's really nice sometimes okay so uh watch this I'll go in and I'll say this is going to be an uh",
    "start": "1844399",
    "end": "1851640"
  },
  {
    "text": "identity and then I'll add name as a varar let's say 255 all right",
    "start": "1851640",
    "end": "1859519"
  },
  {
    "text": "and not null great and let's add administrator",
    "start": "1859519",
    "end": "1866320"
  },
  {
    "text": "administrate or as a bit not null perfect actually let's not say it's not null let's default it to zero okay great",
    "start": "1866320",
    "end": "1874240"
  },
  {
    "text": "all right what's nice is as I make changes here obviously those changes are going to be reflected up there but more",
    "start": "1874240",
    "end": "1879360"
  },
  {
    "text": "importantly you can see that the views no longer has a red line under it because there's no longer an error I've created the table it was looking for",
    "start": "1879360",
    "end": "1885720"
  },
  {
    "text": "very simple of course but I just want you to see that one of the powers here is to be able to go in and see what what",
    "start": "1885720",
    "end": "1892919"
  },
  {
    "text": "changes have I made that are wrong here's another example how many store procedures and how many views are referencing this table anybody know I",
    "start": "1892919",
    "end": "1900480"
  },
  {
    "text": "can easily go in and I can ask for all references just like I do in C but watch this I can also do semantic renaming so",
    "start": "1900480",
    "end": "1907880"
  },
  {
    "text": "I can go in for example to name right here right click say refactor rename so",
    "start": "1907880",
    "end": "1913799"
  },
  {
    "text": "renaming is not the same as re as semantic renaming right so semantic raming relies on the compiler to do the",
    "start": "1913799",
    "end": "1920919"
  },
  {
    "text": "work for you regular renaming is a file find and search sort of thing right",
    "start": "1920919",
    "end": "1926080"
  },
  {
    "text": "where it's just finding or replacing in multiple files it's not reliable that's why we use semantic renaming because it",
    "start": "1926080",
    "end": "1931679"
  },
  {
    "text": "might be referenced by some of some other name or some other case other places so for example I'm going to",
    "start": "1931679",
    "end": "1937360"
  },
  {
    "text": "change name here to let's say full name and say okay and when it does it",
    "start": "1937360",
    "end": "1944440"
  },
  {
    "text": "pulls up the view any store procedure any trigger any absolutely everything",
    "start": "1944440",
    "end": "1950120"
  },
  {
    "text": "you can imagine inside this database that references that column and and changes all of them for me at once this",
    "start": "1950120",
    "end": "1956519"
  },
  {
    "text": "level of refactoring makes it so that being able to if you're working directly against the database and you go into a",
    "start": "1956519",
    "end": "1962159"
  },
  {
    "text": "store procedure or table and make a significant change the only way to find this sort of error is to run every",
    "start": "1962159",
    "end": "1968559"
  },
  {
    "text": "object and wait for it you don't get an error from SQL or any other database that has semantic connections to all the",
    "start": "1968559",
    "end": "1974559"
  },
  {
    "text": "other types so you have to like go through the pain of running all of our unit tests just to be able to figure out",
    "start": "1974559",
    "end": "1980799"
  },
  {
    "text": "if you broke anything in the first place this solves all of that Loop to make it nice and tight so you can make",
    "start": "1980799",
    "end": "1986519"
  },
  {
    "text": "everything together and I can say once I've made this change the full name I can then do a schema compare against my",
    "start": "1986519",
    "end": "1994120"
  },
  {
    "text": "uh developer database and I can come up with the update script that all developers on my team can run they can",
    "start": "1994120",
    "end": "1999600"
  },
  {
    "text": "all look and they can see the up the updated all the fields whatever they are and it only changes what needs to be",
    "start": "1999600",
    "end": "2005120"
  },
  {
    "text": "changed right it's it's really beautiful and solves a critically painful problem",
    "start": "2005120",
    "end": "2010559"
  },
  {
    "text": "that teams go through over and over again I I will just point out one other thing before I uh jump out of this not",
    "start": "2010559",
    "end": "2017559"
  },
  {
    "text": "that though this um so I can I can have there's nothing",
    "start": "2017559",
    "end": "2023440"
  },
  {
    "text": "in a database that you can have that you can't put in this that's important and everything is a create statement right",
    "start": "2023440",
    "end": "2028880"
  },
  {
    "text": "it's all declared like what do I want I want I want a table I'm not altering the table I'm not dropping the table I'm",
    "start": "2028880",
    "end": "2034760"
  },
  {
    "text": "only creating because I am using this as the Declaration of what it is I want to make and so it builds its own database",
    "start": "2034760",
    "end": "2042159"
  },
  {
    "text": "schema package that it Compares against the real database and it's called a DA pack DAC Pac I don't understand why it's",
    "start": "2042159",
    "end": "2049560"
  },
  {
    "text": "named that but I know that it is Data application tier it's I I don't know",
    "start": "2049560",
    "end": "2056520"
  },
  {
    "text": "where the tier went but it they Ed the word tier all that that part doesn't matter it's a DA pack file and it has",
    "start": "2056520",
    "end": "2062398"
  },
  {
    "text": "all of your schema and what's nice is I can take a DAC pack and it's the result of when I build right it's just regular",
    "start": "2062399",
    "end": "2067800"
  },
  {
    "text": "s build nothing special and when it executes IT produces a Dack pack that I could give to anybody including SQL",
    "start": "2067800",
    "end": "2073800"
  },
  {
    "text": "Server itself and it knows how to apply it right that's really really nice but I",
    "start": "2073800",
    "end": "2079158"
  },
  {
    "text": "also have the idea of scripts and so you might have for example in a developer environment you would have a empty",
    "start": "2079159",
    "end": "2086118"
  },
  {
    "text": "database but you would want some sample data and so I can have scripts that run ahead of time or after time they're pre",
    "start": "2086119",
    "end": "2092520"
  },
  {
    "text": "and post to to insert data after I've created the structures where they may go or I may want to set up um",
    "start": "2092520",
    "end": "2098960"
  },
  {
    "text": "authentication first so I may have a prescript that sets up authentication injects all my objects and then a",
    "start": "2098960",
    "end": "2104440"
  },
  {
    "text": "postcript that inserts a whole bunch of sample data because it's intended for the developer's desktop while they're working to make sure that their",
    "start": "2104440",
    "end": "2110640"
  },
  {
    "text": "experience is identical all the way around no matter where you are matter who you are all of your environments are the same okay let me uh let me back out",
    "start": "2110640",
    "end": "2119079"
  },
  {
    "text": "here well I got to show you this too all right so this wasn't I didn't want to show you",
    "start": "2119079",
    "end": "2124480"
  },
  {
    "text": "I do want to show you obviously I want to show you this so This XML file is the publish XML file that points to your",
    "start": "2124480",
    "end": "2129920"
  },
  {
    "text": "database and keeps all of your credentials secret but it allows you to specify all the extra pieces that you",
    "start": "2129920",
    "end": "2137160"
  },
  {
    "text": "want to that you all the extra rules that you want to obey as you're applying it so for example one of the things you",
    "start": "2137160",
    "end": "2143440"
  },
  {
    "text": "might do is you might set that you want to block incremental you want to block all deployments that might lose data",
    "start": "2143440",
    "end": "2149920"
  },
  {
    "text": "that's what it's saying right so if there's a possibility that you're going from varar 100 to varar 50 then you",
    "start": "2149920",
    "end": "2155160"
  },
  {
    "text": "could lose the last 50 of that field so it'll automatically be blocked if you go the other way from 50 to 100 that won't",
    "start": "2155160",
    "end": "2161760"
  },
  {
    "text": "happen everything's cool so that's nice and you can go on and on down you can say whether or not to recreate the",
    "start": "2161760",
    "end": "2166960"
  },
  {
    "text": "database from scratch every time and everything else you could possibly imagine skip different things include",
    "start": "2166960",
    "end": "2172480"
  },
  {
    "text": "different things and it gives you the sort of flexibility that makes it every time I rightclick that project and I say",
    "start": "2172480",
    "end": "2177800"
  },
  {
    "text": "publish it points to my SQL Server usually on my device or some close place on the network and just immediately",
    "start": "2177800",
    "end": "2184000"
  },
  {
    "text": "creates the perfect pristine database every single time now imagine this",
    "start": "2184000",
    "end": "2189520"
  },
  {
    "text": "scenario you're about to run unit tests unit tests against your database and you need the database to be reliable who",
    "start": "2189520",
    "end": "2196800"
  },
  {
    "text": "knows what the last developer was doing with your shared SQL Server I don't know if my tests are going to work that's not",
    "start": "2196800",
    "end": "2202280"
  },
  {
    "text": "the way it goes right before I run my unit tests I deploy my database and have the perfect database exactly the way I",
    "start": "2202280",
    "end": "2208720"
  },
  {
    "text": "need it to be probably completely empty and then when it runs the unit tests are responsible for injecting the sample",
    "start": "2208720",
    "end": "2214480"
  },
  {
    "text": "data they would use to be able to test themselves it's really really cool stuff okay let me uh let me keep going here",
    "start": "2214480",
    "end": "2222599"
  },
  {
    "text": "great SQL p is not the only thing that can do this there are other tools just like it um liquibase very popular",
    "start": "2222599",
    "end": "2230400"
  },
  {
    "text": "liquibase is nice if if you're not a SQL Server user has similar Integrations into Visual Studio not exactly the same",
    "start": "2230400",
    "end": "2237079"
  },
  {
    "text": "but similar for sure there's also Flyway and DB up those are all valid for sure",
    "start": "2237079",
    "end": "2242480"
  },
  {
    "text": "valid uh the Microsoft one is if you're a SQL Server user it makes no sense to",
    "start": "2242480",
    "end": "2247599"
  },
  {
    "text": "my mind not to use um SQL PR but all the rest are great too the important part is",
    "start": "2247599",
    "end": "2252960"
  },
  {
    "text": "this is an important like characteristic of data engineering on a team that is what's",
    "start": "2252960",
    "end": "2259560"
  },
  {
    "text": "important that we're not working directly against a database but instead we're working um in a source control",
    "start": "2259560",
    "end": "2265319"
  },
  {
    "text": "environment okay another cool little bonus at the end of this chapter if you've not come across whenit this is",
    "start": "2265319",
    "end": "2270960"
  },
  {
    "text": "the chocolatey for Windows already installed everybody who has Windows already has this and uh it's the easiest",
    "start": "2270960",
    "end": "2276680"
  },
  {
    "text": "quickest way to inst install basically everything you can imagine so if you can if you can spell it you could probably",
    "start": "2276680",
    "end": "2281960"
  },
  {
    "text": "install it this way so in this case it's when get install SS SMS SQL Server management St studio um you could just",
    "start": "2281960",
    "end": "2287920"
  },
  {
    "text": "as easily say SQL Server install uh SQL 2019 you could you could say Visual",
    "start": "2287920",
    "end": "2293839"
  },
  {
    "text": "Studio I mean it's insane what you can install and so if you haven't come across wingit it certainly makes installing especially Microsoft tools",
    "start": "2293839",
    "end": "2301079"
  },
  {
    "text": "very easy I mean you need to have SQL Server installed so needless to say you would go to the internet you would",
    "start": "2301079",
    "end": "2306960"
  },
  {
    "text": "Google download SQL Server you would go find the download link you would find the one that you want all of that is just basically taken away and it's also",
    "start": "2306960",
    "end": "2313680"
  },
  {
    "text": "made it so that you can create a script file to install everything you need whenever you repave a brand new machine",
    "start": "2313680",
    "end": "2319440"
  },
  {
    "text": "so it's really nice if you haven't found wingit does anybody use wingit okay all both of you okay great",
    "start": "2319440",
    "end": "2327319"
  },
  {
    "text": "all right so that's and do I I do too I do too all right so let's talk about pipelines once we get this into a cicd",
    "start": "2327319",
    "end": "2333920"
  },
  {
    "text": "pipeline this is really where it pays off the most so we we already had this incredible experience by putting",
    "start": "2333920",
    "end": "2339800"
  },
  {
    "text": "everything into Source control but now we have a cicd pipeline that we'll be able to use so I've built my DAC pack as",
    "start": "2339800",
    "end": "2345920"
  },
  {
    "text": "a developer and uh this is just representing the da pack itself but just imagine all of those files those SQL",
    "start": "2345920",
    "end": "2351079"
  },
  {
    "text": "files not the not the final build file but everything that I'm putting into Source control and I would create a PR",
    "start": "2351079",
    "end": "2357400"
  },
  {
    "text": "naturally and then that PR would go into my CI part of my cicd right and what",
    "start": "2357400",
    "end": "2362640"
  },
  {
    "text": "it's going to do is evaluate my PR and see if all the gates pass so it can go into maap",
    "start": "2362640",
    "end": "2368119"
  },
  {
    "text": "that's a reasonable thing to do so I it goes into my PR C the CI has to pass",
    "start": "2368119",
    "end": "2373760"
  },
  {
    "text": "first it's reviewed by whoever the code owners are hopefully it goes through a rigorous set of tests as well and then",
    "start": "2373760",
    "end": "2379720"
  },
  {
    "text": "because the CI includes all of that sort of thing then it goes into master and then it's not of course pushed into any",
    "start": "2379720",
    "end": "2385160"
  },
  {
    "text": "environment that users can see but I would have my CD push those on this is just as about as simple as high level as",
    "start": "2385160",
    "end": "2391359"
  },
  {
    "text": "we could go with cicd pipelines and it's brilliant all right so let's think about each of the individual Parts when we are",
    "start": "2391359",
    "end": "2399440"
  },
  {
    "text": "talking about um deploying the database itself okay so the",
    "start": "2399440",
    "end": "2407680"
  },
  {
    "text": "um the first step that you would never skip is linting so again these are just the workflows of a data engineering team",
    "start": "2408920",
    "end": "2415680"
  },
  {
    "text": "right the very first thing is to make it so that the fact that I like to do everything as lowercase and you like to do everything as uppercase means that we",
    "start": "2415680",
    "end": "2421920"
  },
  {
    "text": "will have to negotiate with a final solution and then we will apply that to the rules of our linting system and they",
    "start": "2421920",
    "end": "2427160"
  },
  {
    "text": "will will ensure that regardless of anybody on our team we're all doing it the same way so what's even nicer is you",
    "start": "2427160",
    "end": "2433040"
  },
  {
    "text": "can have linting tools refactor your code for you as well or rely on the developer to Simply match those rules",
    "start": "2433040",
    "end": "2440119"
  },
  {
    "text": "it's kind of up to you sort of like how a c analyzer works right where it finds the error gives you the option to fix it",
    "start": "2440119",
    "end": "2446160"
  },
  {
    "text": "or you could fix it and then we go through the build process script it we'll go through each of these individually so let me go ahead and",
    "start": "2446160",
    "end": "2452960"
  },
  {
    "text": "begin and um but start by saying this seems a little bit complicated I agree",
    "start": "2452960",
    "end": "2459079"
  },
  {
    "text": "it seems a smidgen complicated but it's very important and I just want to this isn't bragging this just making the",
    "start": "2459079",
    "end": "2464440"
  },
  {
    "text": "point that this is the result of where I've seen it so the largest Brewery in",
    "start": "2464440",
    "end": "2470599"
  },
  {
    "text": "the world does it exactly like this that is I can guarantee you man I know they do",
    "start": "2470599",
    "end": "2477200"
  },
  {
    "text": "now uh the second the largest insurance company in England does it this way",
    "start": "2477200",
    "end": "2482319"
  },
  {
    "text": "second in the world uh the largest uh airline in America they do it this way",
    "start": "2482319",
    "end": "2487440"
  },
  {
    "text": "right this now remember from the beginning where it is we don't we're not trying to copy them we're just trying to steal all of their good ideas they have",
    "start": "2487440",
    "end": "2494119"
  },
  {
    "text": "the endless wealth to be able to figure all this out we just take all their best things right uh the largest uh law",
    "start": "2494119",
    "end": "2499839"
  },
  {
    "text": "enforcement agency in America does it this way they have a lot of data on you probably uh the two largest grocery",
    "start": "2499839",
    "end": "2507160"
  },
  {
    "text": "stores in America they also do it this way and there's a software company that does it this way um so it's also very",
    "start": "2507160",
    "end": "2515040"
  },
  {
    "text": "big very very big with unexplainable stock price right now and so I say all",
    "start": "2515040",
    "end": "2522000"
  },
  {
    "text": "that to say this isn't just like arbitrary it's actually a pretty great set of like proven use cases that are",
    "start": "2522000",
    "end": "2529359"
  },
  {
    "text": "out there and even though I can't walk you through each of these companies I definitely abstracted out the uh or",
    "start": "2529359",
    "end": "2535680"
  },
  {
    "text": "extracted out all the important parts that make sense that are repeatable again and again and again so let's start",
    "start": "2535680",
    "end": "2541480"
  },
  {
    "text": "with linting tsql lint is the um uh this is the GitHub repo that has what has to",
    "start": "2541480",
    "end": "2548160"
  },
  {
    "text": "be the best of all the linting options out there it runs both on your machine as well as as as the command line inside",
    "start": "2548160",
    "end": "2554359"
  },
  {
    "text": "your pipeline it's easy to use you can make it as a subm module inside your normal repo if you want there's all",
    "start": "2554359",
    "end": "2559960"
  },
  {
    "text": "kinds of options but it's very straightforward to use if you don't already have some sort of SQL lenting",
    "start": "2559960",
    "end": "2565880"
  },
  {
    "text": "then your SQL starts to get goopy pretty quick and remember the guy who comes",
    "start": "2565880",
    "end": "2571640"
  },
  {
    "text": "after you is Axe Murderer and so you want to be as careful as possible with the nonsense that you leave behind Okay",
    "start": "2571640",
    "end": "2579160"
  },
  {
    "text": "so that's just linting we'll just leave that behind it obviously needs to be the first gate because we want all of our code to look nice right I mean we're",
    "start": "2579160",
    "end": "2585960"
  },
  {
    "text": "Engineers we're paid to write code we're paid to write good code and that's the way it goes all right so then Along",
    "start": "2585960",
    "end": "2591880"
  },
  {
    "text": "Comes build that well in this world just talking about da packs for a moment that",
    "start": "2591880",
    "end": "2597200"
  },
  {
    "text": "all you need is regular Ms build so the upside to that is all you need is regular Ms build it's the same thing",
    "start": "2597200",
    "end": "2603240"
  },
  {
    "text": "that you would use to do any of your Solutions the downside depending on how you look at things things is the container that you would use to execute",
    "start": "2603240",
    "end": "2609520"
  },
  {
    "text": "Ms build needs to be a Windows device is that a big deal it's inv invisible to you so why would you care so um it loads",
    "start": "2609520",
    "end": "2616040"
  },
  {
    "text": "the same speed it runs the same thing it just has to be a Windows device all right so then we get to building out the",
    "start": "2616040",
    "end": "2623079"
  },
  {
    "text": "script that shows what the incremental change is going to be and so now we have SQL publish SQL publish is the companion",
    "start": "2623079",
    "end": "2629480"
  },
  {
    "text": "the brother The Sibling to um the SQL project that basically can take a SQL",
    "start": "2629480",
    "end": "2635160"
  },
  {
    "text": "project and push it anywhere and and including push getting ready to push it stop and just produce the script that",
    "start": "2635160",
    "end": "2641440"
  },
  {
    "text": "was going to run so you can do either one you can actually do the up incremental upgrade or you can do the",
    "start": "2641440",
    "end": "2646480"
  },
  {
    "text": "script itself and so that's what SQL publish gives you brilliant again so handy of course this is what you want to",
    "start": "2646480",
    "end": "2652280"
  },
  {
    "text": "do because you want to be able to review this script rather than just apply it to wherever it's going to go but we'll",
    "start": "2652280",
    "end": "2658599"
  },
  {
    "text": "start with the with the the script then we'll go into deploying it and I'll make",
    "start": "2658599",
    "end": "2664319"
  },
  {
    "text": "one point that I'm surprised is not universally well known is that is that um SQL runs on Linux and it runs in a",
    "start": "2664319",
    "end": "2671079"
  },
  {
    "text": "container and so this is the MCR container used for um SQL Server every",
    "start": "2671079",
    "end": "2676280"
  },
  {
    "text": "version of SQL all run like this so you can do all of these in a tiny little container that you can run all of your",
    "start": "2676280",
    "end": "2681839"
  },
  {
    "text": "tests against and it's no big deal so what you can do is you can first deploy your production development your",
    "start": "2681839",
    "end": "2687800"
  },
  {
    "text": "production schema into this container and then you can deploy your development",
    "start": "2687800",
    "end": "2693079"
  },
  {
    "text": "schema on top of that to make sure that you never get to a point that you can't upgrade to it right you're never",
    "start": "2693079",
    "end": "2698880"
  },
  {
    "text": "creating a scenario where it's some sort of um some sort of loop or some sort of Deadlock so again this is the MCR",
    "start": "2698880",
    "end": "2706040"
  },
  {
    "text": "container for Microsoft Microsoft MCR Microsoft container service I think no",
    "start": "2706040",
    "end": "2711200"
  },
  {
    "text": "registry Microsoft con container registry but it it's it's all pointed from uh from Docker here all right so",
    "start": "2711200",
    "end": "2717119"
  },
  {
    "text": "nothing special with that but it's very important to know that what are we deploying to in our cicd pipeline is not",
    "start": "2717119",
    "end": "2723359"
  },
  {
    "text": "some development de database that's waiting for our cic pipeline to be for its use not at all th those can exist",
    "start": "2723359",
    "end": "2731599"
  },
  {
    "text": "but they shouldn't right this should be an ephemeral container that pops up and goes away right away after it proves",
    "start": "2731599",
    "end": "2738240"
  },
  {
    "text": "whatever it is that needs to happen all right so then we go through the update service we would use SQL publish again instead of creating the script now we're",
    "start": "2738240",
    "end": "2745040"
  },
  {
    "text": "actually executing it we want to have the script for later is the reason we created it before and so now I've run",
    "start": "2745040",
    "end": "2750760"
  },
  {
    "text": "the script against the database and basically upgraded it from being the",
    "start": "2750760",
    "end": "2755839"
  },
  {
    "text": "deployed production version and then I run a series of unit tests and I want to bring this up first but I",
    "start": "2755839",
    "end": "2761599"
  },
  {
    "text": "don't want to stay here so I want to say tsql t is a testing framework built for",
    "start": "2761599",
    "end": "2767680"
  },
  {
    "text": "testing SQL Server right tsql T and uh tsql means transact SQL t for test there",
    "start": "2767680",
    "end": "2774079"
  },
  {
    "text": "you go and it's free you can incorporate it people incorporate this all the time it's a wonderful framework I'll start",
    "start": "2774079",
    "end": "2780640"
  },
  {
    "text": "with saying that all right so after we've gone through automated testing then we go to the human process where",
    "start": "2780640",
    "end": "2785920"
  },
  {
    "text": "you decide whether or not the script that you're reviewing from the third step over here has everything okay",
    "start": "2785920",
    "end": "2791359"
  },
  {
    "text": "you're like well wait a minute wasn't it deployed and updated and tested successfully with all green lights that",
    "start": "2791359",
    "end": "2796480"
  },
  {
    "text": "doesn't mean that your database is really ready there are still people involved so until AI takes over the",
    "start": "2796480",
    "end": "2801839"
  },
  {
    "text": "world we need to review these sorts of things to make sure that something crazy isn't happening and just skipping",
    "start": "2801839",
    "end": "2807079"
  },
  {
    "text": "through some of the edge cases that we may not be testing for and then finally you get to the update and then the",
    "start": "2807079",
    "end": "2812319"
  },
  {
    "text": "update I don't know how that's going to run is a SQL publish again because it's automated or do you hand this off to an administrator because they say only our",
    "start": "2812319",
    "end": "2818960"
  },
  {
    "text": "team can execute scripts against production database that happens a lot so it's up to you on how the final",
    "start": "2818960",
    "end": "2824200"
  },
  {
    "text": "update happens this is a pretty normal process to go through by the way and so if your process looks something like",
    "start": "2824200",
    "end": "2830000"
  },
  {
    "text": "this then great job because this is both sensible and manageable it's not overly complex although it is very",
    "start": "2830000",
    "end": "2835839"
  },
  {
    "text": "sophisticated at the same time okay little bonus for this chapter is if you",
    "start": "2835839",
    "end": "2841160"
  },
  {
    "text": "haven't discovered there's a new SQL CMD SQL CMD is the CLI or the command line for SQL written in go crossplatform",
    "start": "2841160",
    "end": "2848240"
  },
  {
    "text": "freaking amazing interacts with Docker now so that you can spin up containers on the fly so you can use it inside your",
    "start": "2848240",
    "end": "2854880"
  },
  {
    "text": "cicd pipeline basically to create all of these in a single line it's really nice so if you haven't already found GH SQL",
    "start": "2854880",
    "end": "2860200"
  },
  {
    "text": "CMD it's worth finding all right now to testing let me uh start by saying that",
    "start": "2860200",
    "end": "2866839"
  },
  {
    "text": "let me show you this real quick all right so I have two let me see if I can zoom in one more",
    "start": "2866839",
    "end": "2872480"
  },
  {
    "text": "time I have two database projects I have the first primary database so this is",
    "start": "2872480",
    "end": "2878680"
  },
  {
    "text": "everything that makes up your line of business system and all the tables and scripts and the end and it's great and",
    "start": "2878680",
    "end": "2885559"
  },
  {
    "text": "this is this is the way it should be and I'll just show also that there's a store procedure that's called upgrade user",
    "start": "2885559",
    "end": "2892520"
  },
  {
    "text": "just is there's a view that's called administrators because remember the only thing special in that table was almost",
    "start": "2892520",
    "end": "2897599"
  },
  {
    "text": "empty was that it had an administrator bit and so it'd be very easy for me then to write a view that's called",
    "start": "2897599",
    "end": "2903599"
  },
  {
    "text": "administrators that only Waits if there's you know administrator equals one and then upgrade user you pass in the",
    "start": "2903599",
    "end": "2909040"
  },
  {
    "text": "user ID and we change their their bit from zero to one right so very simple if",
    "start": "2909040",
    "end": "2914200"
  },
  {
    "text": "you were to look at the code of that you'd be like this is kind of boring I meant to make it boring because I want to show you",
    "start": "2914200",
    "end": "2919680"
  },
  {
    "text": "this there are two database projects they both have this cute little icon you know little box with a with a database",
    "start": "2919680",
    "end": "2927559"
  },
  {
    "text": "and the second one is a list of tests that are in it and so testing your database this is interesting you can be",
    "start": "2927559",
    "end": "2934960"
  },
  {
    "text": "honest with me how many people test their database",
    "start": "2934960",
    "end": "2941240"
  },
  {
    "text": "objects oh fewer than before and that was only two count what's that does",
    "start": "2941240",
    "end": "2947000"
  },
  {
    "text": "integration test count well it depends on what the test is oh integration test no it doesn't Okay so no it has to be",
    "start": "2947000",
    "end": "2954280"
  },
  {
    "text": "automated to count right and I think automated test because we write a method in C and we test to see whether that",
    "start": "2954280",
    "end": "2961720"
  },
  {
    "text": "method can be called with good data bad data large ranges of data whether or not",
    "start": "2961720",
    "end": "2967280"
  },
  {
    "text": "it throws an exception in certain instances whether or not it even responds depending on different conditions and then we write a method in",
    "start": "2967280",
    "end": "2974359"
  },
  {
    "text": "our cql server that is just as important if not more important and we just we just know it",
    "start": "2974359",
    "end": "2981160"
  },
  {
    "text": "works and we just leave it alone right it's just amazing if you think about it and the problem is in us this is like",
    "start": "2981160",
    "end": "2986280"
  },
  {
    "text": "driving on the street the problem is in us we don't wear our seat Bel because we're bad drivers we wear our seat belts because everybody else is terrible",
    "start": "2986280",
    "end": "2992319"
  },
  {
    "text": "driver right we have unit tests not because we're not good at coding we're very good we're excellent Engineers this",
    "start": "2992319",
    "end": "2997359"
  },
  {
    "text": "whole room this is the cream of the crop but outside of this room I'm telling you",
    "start": "2997359",
    "end": "3003680"
  },
  {
    "text": "we need unit tests for those people because that is a serious problem they are not thinking like we're thinking",
    "start": "3003680",
    "end": "3009359"
  },
  {
    "text": "they are not dedicated to Excellence like we are dedicated to Excellence they are not even paying attention half the time and so they come in and they will",
    "start": "3009359",
    "end": "3016000"
  },
  {
    "text": "change your C method and you will catch it with a unit test because you have written enough unit test to be able to",
    "start": "3016000",
    "end": "3021400"
  },
  {
    "text": "track that and then they will go over to SQL and they will change your SQL statement and nobody will even know",
    "start": "3021400",
    "end": "3028520"
  },
  {
    "text": "right it's terrifying just terrifying ah because we don't write unit tests for them okay so an example of what so let's",
    "start": "3028520",
    "end": "3035119"
  },
  {
    "text": "start with one of the hardest things to deal with inside SQL is that there's no assert there's no framework to actually",
    "start": "3035119",
    "end": "3041799"
  },
  {
    "text": "do unit tests so these are the assert methods so this",
    "start": "3041799",
    "end": "3048720"
  },
  {
    "text": "is assert contains there's assert equals assert everything you can imagine right everything that basically matches how",
    "start": "3048720",
    "end": "3054160"
  },
  {
    "text": "you would do it in a regular o environment now you can do it in tsql because there's an entire assert",
    "start": "3054160",
    "end": "3060400"
  },
  {
    "text": "framework now that all you need to do is run this and you immediately have all of these store procedures waiting for you",
    "start": "3060400",
    "end": "3066119"
  },
  {
    "text": "well don't take a picture of this take it a picture in a minute when I show you where to get it and then listen you could have written this I mean honestly",
    "start": "3066119",
    "end": "3073040"
  },
  {
    "text": "I you might look at it right now you're like I don't know you trust me you could have written I mean us I we could do it",
    "start": "3073040",
    "end": "3079000"
  },
  {
    "text": "but the thing is I did for you now you can take it from here and you can make it even better and make it fit whatever",
    "start": "3079000",
    "end": "3085640"
  },
  {
    "text": "your C your your company needs and it's terrific and so we have the assert framework right here so you can do",
    "start": "3085640",
    "end": "3091520"
  },
  {
    "text": "everything at the end of your method so it would look like this I'll have a store procedure named like a like a unit test",
    "start": "3091520",
    "end": "3100559"
  },
  {
    "text": "upgrade user with an invalid user not upgraded okay great all right I see that",
    "start": "3100559",
    "end": "3106359"
  },
  {
    "text": "and so the important part is every unit test starts a transaction and begins to just monkey with the data all at once",
    "start": "3106359",
    "end": "3112960"
  },
  {
    "text": "because on the other end I can roll that back and everything is gone it's a perfect environment for testing because",
    "start": "3112960",
    "end": "3119359"
  },
  {
    "text": "I can literally set it to be everything I need it to be perfectly for the unit test so I can go in here and I can",
    "start": "3119359",
    "end": "3125440"
  },
  {
    "text": "truncate the table insert the users that I need go down and try to upgrade a user",
    "start": "3125440",
    "end": "3130559"
  },
  {
    "text": "that doesn't exist which is you this is user negative one right and then I could start",
    "start": "3130559",
    "end": "3138280"
  },
  {
    "text": "checking things I can look to see how many administrators are there and I can say assert do equal and I have my",
    "start": "3138280",
    "end": "3143920"
  },
  {
    "text": "expected in my actual values then I can say well how many how many wait that's non-administrators how many administrators are there and I should",
    "start": "3143920",
    "end": "3149960"
  },
  {
    "text": "have the same number or the you know same expected number and I could keep on going from there I could select from a",
    "start": "3149960",
    "end": "3155400"
  },
  {
    "text": "table and count its rows I could look to see whether or not fragments of strings are in other strings all the things you would expect in an assert statement I",
    "start": "3155400",
    "end": "3161799"
  },
  {
    "text": "can go on and on and on until I need it right that's all that like just do what you need but all all of it is sitting",
    "start": "3161799",
    "end": "3167319"
  },
  {
    "text": "there waiting for you to use if you need it then how do I execute these well this is what I want this is the whole reason",
    "start": "3167319",
    "end": "3173599"
  },
  {
    "text": "we're in this screen I want you to see this references. dialog see if I can",
    "start": "3173599",
    "end": "3178640"
  },
  {
    "text": "zoom in for you okay so this references dialogue is a lot like referring to a class library",
    "start": "3178640",
    "end": "3186319"
  },
  {
    "text": "in C or C except for this is referring to a database well when I refer to a",
    "start": "3186319",
    "end": "3191920"
  },
  {
    "text": "class library in an o in an in a language I get all of those classes and",
    "start": "3191920",
    "end": "3197160"
  },
  {
    "text": "types as if they were part of my application that's the exact same way it works when I have a database referenced",
    "start": "3197160",
    "end": "3204119"
  },
  {
    "text": "into another database and these projects just give you this capability so now I have all of the database from my line of",
    "start": "3204119",
    "end": "3210160"
  },
  {
    "text": "business application every table every view every store procedure except for I also have the assert framework in place",
    "start": "3210160",
    "end": "3217880"
  },
  {
    "text": "all the schema that has all of that and whatever store procedures that represent unit tests are for me and they all start",
    "start": "3217880",
    "end": "3226519"
  },
  {
    "text": "with let's see if I can there we go and they all just let me scroll to the top",
    "start": "3227480",
    "end": "3233359"
  },
  {
    "text": "there there you go and they all start with tests and that'll be important because somehow I've need to identify",
    "start": "3233359",
    "end": "3238960"
  },
  {
    "text": "what store procedures are intended to be unit tests and which ones aren't so done I've been able to separate all the logic",
    "start": "3238960",
    "end": "3244880"
  },
  {
    "text": "so that they don't convolute each other I can have one in a test database and I can have another in a not test database",
    "start": "3244880",
    "end": "3251119"
  },
  {
    "text": "and when I run or try to build the test database it includes all of the others as well so I able to test the exact same",
    "start": "3251119",
    "end": "3257599"
  },
  {
    "text": "one regular like it's they're just linked files they aren't copies so you're always testing the database as it",
    "start": "3257599",
    "end": "3263520"
  },
  {
    "text": "actually is in Source control right pretty neat stuff and okay now let me show you this one",
    "start": "3263520",
    "end": "3269799"
  },
  {
    "text": "other thing this is a this is a test Runner this is an xunit um class uh project",
    "start": "3269799",
    "end": "3277359"
  },
  {
    "text": "xunit Pro I've call it test Runner because it need you need to have a unit test to run so that you can integrate it",
    "start": "3277359",
    "end": "3284760"
  },
  {
    "text": "into your cicd now earlier I said you could use tsql T this does the same thing but not everybody's comfortable",
    "start": "3284760",
    "end": "3290640"
  },
  {
    "text": "with invisible like a lot of people will look at a black box and be I'm glad it does what it does but I wish owned it so",
    "start": "3290640",
    "end": "3296960"
  },
  {
    "text": "I could do it well how much would it cost you to be able to write your own Black Box well this is the unit test",
    "start": "3296960",
    "end": "3303880"
  },
  {
    "text": "that you must have and let me there you go this is the unit test that you must have in order to um run all of your",
    "start": "3303880",
    "end": "3311559"
  },
  {
    "text": "stored procedures right so you will have to have a theory the theory runs more than once because it's data driven right",
    "start": "3311559",
    "end": "3317480"
  },
  {
    "text": "the other was a fact so you only get a single value so then you set up what the data is and this in this case the data",
    "start": "3317480",
    "end": "3323799"
  },
  {
    "text": "is returns a type of theory data it's just part of the the xunit framework it's nothing special and it returns just",
    "start": "3323799",
    "end": "3329200"
  },
  {
    "text": "a string list of all of the store procedure names for it to run nothing",
    "start": "3329200",
    "end": "3334480"
  },
  {
    "text": "else right so I have a store I have a query written that says give me all the procedures that have test are in the",
    "start": "3334480",
    "end": "3341880"
  },
  {
    "text": "test schema that's it and so this returns that back here and it executes it the end because if it fails because",
    "start": "3341880",
    "end": "3348680"
  },
  {
    "text": "the assert uh schema throws an exception for one reason or another I want that unit test to also fail like I would in a",
    "start": "3348680",
    "end": "3355720"
  },
  {
    "text": "normal en enironment and if it doesn't fail if it just runs all the way through then that's a pass just like it would in",
    "start": "3355720",
    "end": "3361400"
  },
  {
    "text": "a normal environment so I could have five million store procedures executing",
    "start": "3361400",
    "end": "3367280"
  },
  {
    "text": "as a result of this oneline method that I have that would really be the testr runner for my entire database then I",
    "start": "3367280",
    "end": "3374000"
  },
  {
    "text": "could say to my you know Junior DBA get in there and write those tests and go to town and they can go to town and it",
    "start": "3374000",
    "end": "3380760"
  },
  {
    "text": "never really matters because I mean and of course it matters but you're never going to overwhelm anything unit tests",
    "start": "3380760",
    "end": "3386960"
  },
  {
    "text": "are meant to scale so you can have thousands and thousands and thousands um and earlier when I said 5 million I",
    "start": "3386960",
    "end": "3392280"
  },
  {
    "text": "don't actually know how that would perform but thousands and thousands and thousands of unit tests is pretty common",
    "start": "3392280",
    "end": "3397799"
  },
  {
    "text": "well I think net has three or 400,000 so you can go to half a million how about",
    "start": "3397799",
    "end": "3403559"
  },
  {
    "text": "that you I tell you what you guys get to half a million then we'll talk about millions and millions after that all right if you have that many unit tests",
    "start": "3403559",
    "end": "3409599"
  },
  {
    "text": "you should be uh talking next year for sure okay uh I just did brilliant",
    "start": "3409599",
    "end": "3417400"
  },
  {
    "text": "okay here's where you get it here it is akams SQL assert this will be everything",
    "start": "3417400",
    "end": "3423640"
  },
  {
    "text": "you need including the documentation to be able to use it and is fantastic by the way it's it works exactly the way",
    "start": "3423640",
    "end": "3429280"
  },
  {
    "text": "you want it to work and a lot of great ideas from around the internet have been coalesced into one final piece and so",
    "start": "3429280",
    "end": "3435880"
  },
  {
    "text": "it's very nice yeah I mean it's and if you're a CP or Java developer or",
    "start": "3435880",
    "end": "3441880"
  },
  {
    "text": "JavaScript developer and you're accustomed to a search then you'll be accustomed to how this works and the language behind it as well for",
    "start": "3441880",
    "end": "3449200"
  },
  {
    "text": "sure okay uh here we go this is the uh this is that method straightforward",
    "start": "3449200",
    "end": "3454599"
  },
  {
    "text": "method for sure um uh and here's if you want it I I I thought there might be a possibility that you guys wanted to",
    "start": "3454599",
    "end": "3460720"
  },
  {
    "text": "steal that as well so if you do that's a tiny URL the other one is official Microsoft stuff so tiny URL jerry-",
    "start": "3460720",
    "end": "3468880"
  },
  {
    "text": "nc- DB test right so it's it's not just that it's the piece above it just to interact with SQL Server nothing special",
    "start": "3468880",
    "end": "3475079"
  },
  {
    "text": "there's no exotic code it's just special it's just structured all right I want you to at least hear this whenever your",
    "start": "3475079",
    "end": "3481880"
  },
  {
    "text": "application interacts with the database use a middle layer to do that",
    "start": "3481880",
    "end": "3488720"
  },
  {
    "text": "right that's your data API however let me also say that the best advice I can",
    "start": "3488720",
    "end": "3494319"
  },
  {
    "text": "give you is not to write that middle layer because it is just crud code that you have written over and over again and",
    "start": "3494319",
    "end": "3500720"
  },
  {
    "text": "you might think to yourself I know how to write Cod Smith I know how to write uh all these generators don't worry I'll",
    "start": "3500720",
    "end": "3507039"
  },
  {
    "text": "point it to my Poco objects and it'll be like magic and we'll have all of these things Jerry don't don't fret great I",
    "start": "3507039",
    "end": "3513359"
  },
  {
    "text": "think that's totally okay except those now need unit tests and those now need documentation and all the other pieces",
    "start": "3513359",
    "end": "3519920"
  },
  {
    "text": "it makes way more sense to have an API layer that is Built For You by an engine",
    "start": "3519920",
    "end": "3526119"
  },
  {
    "text": "and so the data API Builder dab is um that tool takes in a description of your",
    "start": "3526119",
    "end": "3532240"
  },
  {
    "text": "database as Json and you don't get to code it right you give it to a container",
    "start": "3532240",
    "end": "3537799"
  },
  {
    "text": "as the entry point and then it opens up the graphql endpoints and the rest end points for you with the same type of",
    "start": "3537799",
    "end": "3544280"
  },
  {
    "text": "security that you would have built the same type of graphql resolvers that you would have built the same sort of uh",
    "start": "3544280",
    "end": "3550480"
  },
  {
    "text": "observability and Telemetry that you would have built all of those things have already been done and now you have it and it's done by the end of the",
    "start": "3550480",
    "end": "3557119"
  },
  {
    "text": "afternoon and you look like a hero it makes so much more sense to have an API engine that is built or configured for",
    "start": "3557119",
    "end": "3564640"
  },
  {
    "text": "you than anything else that it doesn't make sense to do it any other way like I",
    "start": "3564640",
    "end": "3570000"
  },
  {
    "text": "would like to have a conversation with anybody who's like I would rather hand coat all of this by heart and if you said I'm paid by the",
    "start": "3570000",
    "end": "3576400"
  },
  {
    "text": "hour then I would understand otherwise it makes no sense right and so I don't",
    "start": "3576400",
    "end": "3581480"
  },
  {
    "text": "want to take any food off of your plate for sure okay does this matter it does matter and I'll tell you why it matters",
    "start": "3581480",
    "end": "3588640"
  },
  {
    "text": "um for a beverage company in America we were able to change their sales so we",
    "start": "3588640",
    "end": "3594880"
  },
  {
    "text": "were able to get to them to a silver layer and be able to do some analytics on it and we quantitatively change their",
    "start": "3594880",
    "end": "3601160"
  },
  {
    "text": "sales by 8% $440 million so it was beautiful so",
    "start": "3601160",
    "end": "3607880"
  },
  {
    "text": "doesn't matter it totally matters because you have all this latent knowledge and latent data that you're",
    "start": "3607880",
    "end": "3613039"
  },
  {
    "text": "not really able to use today so uh a small amount of attention goes a long",
    "start": "3613039",
    "end": "3618359"
  },
  {
    "text": "way that's all there is to it just a small amount of attention uh goes a long way okay chapter 5 is going to be a",
    "start": "3618359",
    "end": "3624839"
  },
  {
    "text": "mystery I mean I'm going respect the time I can see what time it is and so we will have to just wonder what chapter 5",
    "start": "3624839",
    "end": "3632839"
  },
  {
    "text": "was going to be I'll just go really quick and I apologize for doing it this way but I mean it these things are worth",
    "start": "3632839",
    "end": "3638000"
  },
  {
    "text": "time all right so let's say that there was a change about to be made in your database and it's very significant they",
    "start": "3638000",
    "end": "3643359"
  },
  {
    "text": "want to change it so that the full name column is now broken apart into first name and last name that seems so easy",
    "start": "3643359",
    "end": "3649640"
  },
  {
    "text": "and so nice so all you have to do is just have two and then change your application to write to those two instead of writing to the one but that",
    "start": "3649640",
    "end": "3656160"
  },
  {
    "text": "you would never do that because we as a team know that's how you break and have nightmares so instead what you would do",
    "start": "3656160",
    "end": "3662160"
  },
  {
    "text": "is you would do the normal piece of adding the first and last name but you would not remove the full name and you",
    "start": "3662160",
    "end": "3667839"
  },
  {
    "text": "also wouldn't change your application you would instead change your database so the database now has full has regular",
    "start": "3667839",
    "end": "3674480"
  },
  {
    "text": "full name so just pretend that says full name and then you have first name and last name and to make those work you",
    "start": "3674480",
    "end": "3679599"
  },
  {
    "text": "don't change your application again remember this is temporary this is just what you're doing in the interim because",
    "start": "3679599",
    "end": "3684920"
  },
  {
    "text": "patience is the key to success and so we would have we would start with our application turning off the ability to",
    "start": "3684920",
    "end": "3692119"
  },
  {
    "text": "write the first and last name right so I go to my Dev team that's this side of the room I'm like guys we got to be able to write to first name and last name um",
    "start": "3692119",
    "end": "3699680"
  },
  {
    "text": "go ahead and write the application and I would go to this team and I would say okay we want to turn all the stuff they're about to do off right so they we",
    "start": "3699680",
    "end": "3705920"
  },
  {
    "text": "would not talk to you about it and we would do it all through feature management it's built in it's easy to do",
    "start": "3705920",
    "end": "3710960"
  },
  {
    "text": "it's just a yes no flag on whether or not you write to one field or the other so we make it to our application is",
    "start": "3710960",
    "end": "3716480"
  },
  {
    "text": "ready but not doing it right so we're testing it like crazy back in the dev room but we're not doing anything in",
    "start": "3716480",
    "end": "3722079"
  },
  {
    "text": "production but instead in production we have introduced a trigger that automatically splits first name and last",
    "start": "3722079",
    "end": "3729200"
  },
  {
    "text": "name for us and writes it into first name and last name now this is not a great solution but it's at least a temporary one and then eventually when",
    "start": "3729200",
    "end": "3735160"
  },
  {
    "text": "we have proven that everything works and everything is fine in the database all of our reports and all of our all of our",
    "start": "3735160",
    "end": "3741400"
  },
  {
    "text": "bronze layers and silver layers and gold layers still work even with these extra fields and they're able to read it then",
    "start": "3741400",
    "end": "3746799"
  },
  {
    "text": "all of a sudden I'm able to say okay let's flip that flag let's start using the new one because everything still works with it and now we our patience",
    "start": "3746799",
    "end": "3754480"
  },
  {
    "text": "has made it so that we don't have to roll anything back we don't have to go into any sort of nightmare scenario instead we've done a little bit here",
    "start": "3754480",
    "end": "3760359"
  },
  {
    "text": "I've held back the app a little bit more checking held back the app and then we released the app which was already tested because they were all written at",
    "start": "3760359",
    "end": "3766319"
  },
  {
    "text": "the same time that's really really nice one thing I do want to point out is Jerry Nixon which is my name is easy to",
    "start": "3766319",
    "end": "3774000"
  },
  {
    "text": "split the first name and last name uh my daughter is in college she has a roommate named Hannah Rose she goes by",
    "start": "3774000",
    "end": "3780839"
  },
  {
    "text": "her middle name Hannah Rose and so she would be Hannah Rose Nixon if we were just looking at her name and that would",
    "start": "3780839",
    "end": "3786920"
  },
  {
    "text": "be a frustration point for us when we're splitting by string there's no doubt it my oldest daughter's name is anaura",
    "start": "3786920",
    "end": "3793279"
  },
  {
    "text": "anaura so she would go anal Laura Rose Nixon which is really frustrating when",
    "start": "3793279",
    "end": "3798599"
  },
  {
    "text": "you think about having to split a name by space and then my wife's maiden name is is Van Eaton so it' be analore Rose",
    "start": "3798599",
    "end": "3806079"
  },
  {
    "text": "van Eaton now I'm going to give you the engineering task of please separate first name from last name so that we can",
    "start": "3806079",
    "end": "3812680"
  },
  {
    "text": "have all of our letter head say Mr and Mrs Smith right or whatever it is and you're like no problem and of course you",
    "start": "3812680",
    "end": "3819079"
  },
  {
    "text": "know your initial algorithm is split by space take first take last no problem",
    "start": "3819079",
    "end": "3824480"
  },
  {
    "text": "and then all of a sudden anal Laura Rose Nixon walks into the room and you're like is there any other developer who",
    "start": "3824480",
    "end": "3830000"
  },
  {
    "text": "can take this task because I I'm not feeling well today and it's the way it goes and it's crazy how such a such",
    "start": "3830000",
    "end": "3836799"
  },
  {
    "text": "simple things become such real nightmares so quickly and your manager is like how long's this going to take",
    "start": "3836799",
    "end": "3842680"
  },
  {
    "text": "well you mean to split the name I should be pretty quick yeah yeah let me think about it it could take a while actually it might I don't know if we can even do",
    "start": "3842680",
    "end": "3848880"
  },
  {
    "text": "it and that is the kind of weird conversation there're hearing from you and they're trying to make decisions on",
    "start": "3848880",
    "end": "3854200"
  },
  {
    "text": "budgeting and timing and talk to their boss and all the other things it's a terrible nightmare all the way around",
    "start": "3854200",
    "end": "3859599"
  },
  {
    "text": "thanks for listening to that part that's everything it does still matter and if there are any questions we can still",
    "start": "3859599",
    "end": "3865079"
  },
  {
    "text": "take them right now I'll stay until everybody's gone thank you [Applause]",
    "start": "3865079",
    "end": "3874459"
  }
]