[
  {
    "text": "okay good afternoon everybody my name is Steph amongst Landrum I'm going to talk",
    "start": "3500",
    "end": "8640"
  },
  {
    "text": "about Tyra form today and also about how to colonize Azure using it so terraform",
    "start": "8640",
    "end": "17280"
  },
  {
    "text": "was it it what is it it's a command line tool written and go so that basically",
    "start": "17280",
    "end": "22380"
  },
  {
    "text": "means it can run on pretty much any platform that you can imagine so it runs on OS X which I'm I'm going to use today",
    "start": "22380",
    "end": "29340"
  },
  {
    "text": "you can also run it on Windows Linux pretty much any operating system it's a",
    "start": "29340",
    "end": "35940"
  },
  {
    "text": "tool that's being actively developed by a company called Hoshi Corp which is famous for other DevOps tools like",
    "start": "35940",
    "end": "44460"
  },
  {
    "text": "vagrant Packer console Nomad Nomad is a it's a recent addition it's a container",
    "start": "44460",
    "end": "52499"
  },
  {
    "text": "scheduler so you can do docker containers and stuff like that Packer is used for building OS images",
    "start": "52499",
    "end": "59059"
  },
  {
    "text": "console can be used for service discovery kind of stuff vagrant I guess you all know a grid so what can you do",
    "start": "59059",
    "end": "67500"
  },
  {
    "text": "with terraform you can basically describe and define infrastructure as",
    "start": "67500",
    "end": "72780"
  },
  {
    "text": "code and that is cool stuff and you can use HCL formatted text files to do that",
    "start": "72780",
    "end": "79590"
  },
  {
    "text": "and HDL will we'll see lots of examples of the HCL syntax it's similar to Jatin",
    "start": "79590",
    "end": "86220"
  },
  {
    "text": "just way easier to read for a human and",
    "start": "86220",
    "end": "91400"
  },
  {
    "text": "you can use terraform to do stuff like provision servers networks load",
    "start": "91400",
    "end": "96930"
  },
  {
    "text": "balancers whatever stuff that you find with all the different cloud providers",
    "start": "96930",
    "end": "103380"
  },
  {
    "text": "and the cool thing about terraform is you can actually combine and use",
    "start": "103380",
    "end": "109590"
  },
  {
    "text": "different cloud providers in one big infrastructure and we're going to do",
    "start": "109590",
    "end": "115410"
  },
  {
    "text": "that today because this is going to be a massive live demo really and I'll be",
    "start": "115410",
    "end": "120870"
  },
  {
    "text": "launching a couple Linux virtual machines at digitalocean which is a",
    "start": "120870",
    "end": "126990"
  },
  {
    "text": "cloud provider in well they're worldwide that I'm going to launch them in Amsterdam then I'll make sense",
    "start": "126990",
    "end": "134629"
  },
  {
    "text": "some DNS with Amazon and then create a digital ocean similar set up over at",
    "start": "134629",
    "end": "141349"
  },
  {
    "text": "Azure in Ireland so I'll be launching Linux machines and starting Apache which",
    "start": "141349",
    "end": "148040"
  },
  {
    "text": "is a popular web server okay so what is",
    "start": "148040",
    "end": "153889"
  },
  {
    "text": "that reformed and how to use it so a provider is that the provider concept is",
    "start": "153889",
    "end": "158900"
  },
  {
    "text": "probably the most important concepts in anti-reform and the provider lets you",
    "start": "158900",
    "end": "163969"
  },
  {
    "text": "talk to different clouds so you can use a provide one provider to talk to AWS",
    "start": "163969",
    "end": "170389"
  },
  {
    "text": "and another one to talk to you let's say is Earth and there's lots of different",
    "start": "170389",
    "end": "175879"
  },
  {
    "text": "cloud providers that you can use web terraform pretty much all the major ones",
    "start": "175879",
    "end": "181430"
  },
  {
    "text": "and the provider shields you from the underlying details of the API so you",
    "start": "181430",
    "end": "188659"
  },
  {
    "text": "don't really have to know the internals of let's say the REST API of as are",
    "start": "188659",
    "end": "194389"
  },
  {
    "text": "being able to use terraform so let's have a look at some code so this is how",
    "start": "194389",
    "end": "203769"
  },
  {
    "text": "you configure the provider that lets you talk to digital ocean now I'm using",
    "start": "203769",
    "end": "212060"
  },
  {
    "text": "IntelliJ which has nice HCl support and",
    "start": "212060",
    "end": "217449"
  },
  {
    "text": "this is this is basically it so this piece of code will let me talk to you digital ocean I can use a code",
    "start": "217449",
    "end": "224750"
  },
  {
    "text": "completion functionality in the editor I could have used my secret key in here",
    "start": "224750",
    "end": "231109"
  },
  {
    "text": "but I'm not going to do that today because I don't want you folks to you hacked my account right so I'm I'm",
    "start": "231109",
    "end": "236870"
  },
  {
    "text": "keeping my secrets secret from you and using a hang on a an environment",
    "start": "236870",
    "end": "247519"
  },
  {
    "text": "variable instead and the way I'm going",
    "start": "247519",
    "end": "254539"
  },
  {
    "text": "to apply it now this configuration to the two digital ocean so let's get into",
    "start": "254539",
    "end": "263090"
  },
  {
    "text": "the command line so the way you use terraform is you you run a",
    "start": "263090",
    "end": "268400"
  },
  {
    "text": "you'd start out by running a dry run sort of which is called a plan entire form so let's see if everything is",
    "start": "268400",
    "end": "276590"
  },
  {
    "text": "correctly set up yes I'm all hooked up with where the digital ocean now but I",
    "start": "276590",
    "end": "282830"
  },
  {
    "text": "haven't defined any resources yet and there's it's all up to date but there is",
    "start": "282830",
    "end": "287990"
  },
  {
    "text": "nothing to do right I have I haven't configured anything yet except from the provider so let's have a",
    "start": "287990",
    "end": "297800"
  },
  {
    "text": "look at I'll just perform a quick code update here and let's look at some at the second most",
    "start": "297800",
    "end": "305180"
  },
  {
    "text": "important concept entire form which is called resources the resources are",
    "start": "305180",
    "end": "310490"
  },
  {
    "text": "actual things that you can provision within a cloud context so that could be things like a virtual machine IP address",
    "start": "310490",
    "end": "317620"
  },
  {
    "text": "pretty much anything right and the name of the resource is a",
    "start": "317620",
    "end": "325849"
  },
  {
    "text": "combination of the provider name which is used as a resource no graphics and a",
    "start": "325849",
    "end": "331910"
  },
  {
    "text": "unique ID is being you have to have a unique ID based on the resource name and",
    "start": "331910",
    "end": "338389"
  },
  {
    "text": "a ID you specify yourself and that's that's not going to be the unique ID that you typically find within the",
    "start": "338389",
    "end": "344930"
  },
  {
    "text": "context of a particular cloud provider but locally in your terraform configuration file so let's have a look",
    "start": "344930",
    "end": "351770"
  },
  {
    "text": "at that this looks like this in code so here I'm going to upload my SSH key I",
    "start": "351770",
    "end": "358550"
  },
  {
    "text": "guess you all do you all know SSH keys you come mostly from a Microsoft",
    "start": "358550",
    "end": "363590"
  },
  {
    "text": "background that maybe not what you use all the time but SSH keys are basically",
    "start": "363590",
    "end": "370430"
  },
  {
    "text": "public private key that you can keep in in a file which I'm going to do here and",
    "start": "370430",
    "end": "376389"
  },
  {
    "text": "I'm you typically share your public key with whoever you want so I'm going to",
    "start": "376389",
    "end": "381650"
  },
  {
    "text": "upload that to my my side' provider and I'm keeping my private key private",
    "start": "381650",
    "end": "386900"
  },
  {
    "text": "because it's well it's a private key so keep it private so let's try and",
    "start": "386900",
    "end": "392349"
  },
  {
    "text": "generate this resource with digitalocean so as we can see here by the way this is",
    "start": "392349",
    "end": "398590"
  },
  {
    "text": "the prefix of the Rhys there's pipe it's it reuses the name of",
    "start": "398590",
    "end": "405020"
  },
  {
    "text": "the provider okay and the combination of",
    "start": "405020",
    "end": "410650"
  },
  {
    "text": "this and that has to be unique within my terraform configuration setup and so",
    "start": "410860",
    "end": "419240"
  },
  {
    "text": "this this keyboard here file will actually load my public key from from",
    "start": "419240",
    "end": "425000"
  },
  {
    "text": "the directory where it is silas city okay so let's run a plan against and see",
    "start": "425000",
    "end": "432560"
  },
  {
    "text": "if terraform wants to do stuff and it's well it wanted to do stuff but my SSH",
    "start": "432560",
    "end": "439010"
  },
  {
    "text": "key is missing so I'm just quickly going to generate an SSH key I'm not using a",
    "start": "439010",
    "end": "447950"
  },
  {
    "text": "passphrase and so I now have a couple well I have a public key sitting here in",
    "start": "447950",
    "end": "455300"
  },
  {
    "text": "this file and the private key sitting in this file okay so nothing spectacular",
    "start": "455300",
    "end": "460610"
  },
  {
    "text": "about that but then I should be able to do a new plan and terraform will tell me",
    "start": "460610",
    "end": "468320"
  },
  {
    "text": "that it wants to generate or provision a SSH key resource where digitalocean",
    "start": "468320",
    "end": "476270"
  },
  {
    "text": "named SSH okay that so that that's the idea of the of my resource",
    "start": "476270",
    "end": "485590"
  },
  {
    "text": "okay so let's actually provision it and upload my key should be quick so that",
    "start": "485590",
    "end": "494660"
  },
  {
    "text": "was it so that just uploaded by H key to digital ocean nothing spectacular nice",
    "start": "494660",
    "end": "501350"
  },
  {
    "text": "and fast I'll quickly kick off a",
    "start": "501350",
    "end": "510340"
  },
  {
    "text": "terraform apply in the background because this is a live demo and things",
    "start": "510340",
    "end": "516740"
  },
  {
    "text": "take time to provision something okay so dependencies in terraform you can define",
    "start": "516740",
    "end": "521960"
  },
  {
    "text": "the tendencies between resources and Terra firme and a resource can therefore",
    "start": "521960",
    "end": "529010"
  },
  {
    "text": "depend on another resource and that will also determine the order of creation so it's a resource the",
    "start": "529010",
    "end": "534470"
  },
  {
    "text": "turns on another resource that well one of them will be created before the other one now I already have my my SSH key in",
    "start": "534470",
    "end": "543740"
  },
  {
    "text": "place so I can actually depend on that right here when I generate a droplet",
    "start": "543740",
    "end": "551560"
  },
  {
    "text": "resource here and their droplet is basically a virtual machine okay that's",
    "start": "551560",
    "end": "558890"
  },
  {
    "text": "a virtual machine they call them droplets I don't know why that's virtual machine and I'm going to use the ascent",
    "start": "558890",
    "end": "565160"
  },
  {
    "text": "OS image which is a Linux distro you'd I",
    "start": "565160",
    "end": "571430"
  },
  {
    "text": "support all kinds of distros or an even Microsoft stuff so they have a use huge",
    "start": "571430",
    "end": "579560"
  },
  {
    "text": "selection and you can even use your own images and generate them using let's say Packer or whatever and I'm going to",
    "start": "579560",
    "end": "587030"
  },
  {
    "text": "launch my my server in Amsterdam and it's going to be a pretty small VM and",
    "start": "587030",
    "end": "594260"
  },
  {
    "text": "that's about it so that should be the see what happen in Terra firme so",
    "start": "594260",
    "end": "601630"
  },
  {
    "text": "terraform just applied the change and I have a server running in Amsterdam so",
    "start": "601630",
    "end": "609590"
  },
  {
    "text": "where is it I don't know where it is right because I don't know its IP",
    "start": "609590",
    "end": "616160"
  },
  {
    "text": "address so well how do we sort of where the IP address is or what it what it is",
    "start": "616160",
    "end": "624670"
  },
  {
    "text": "so that's where the Terra firme show command come into comes into play so",
    "start": "624670",
    "end": "631430"
  },
  {
    "text": "whenever you perform a a apply the the tool will save its current state in the",
    "start": "631430",
    "end": "639170"
  },
  {
    "text": "cloud in a state file that you can keep locally or you can keep it in the cloud",
    "start": "639170",
    "end": "647170"
  },
  {
    "text": "all right so we're where the configuration file tells you or where",
    "start": "647170",
    "end": "655190"
  },
  {
    "text": "you in your configuration file you describe this state you want and in this",
    "start": "655190",
    "end": "660500"
  },
  {
    "text": "state file you have the actual state in the cloud all right so",
    "start": "660500",
    "end": "665580"
  },
  {
    "text": "it's two different things and you can keep the state let's say locally or",
    "start": "665580",
    "end": "672120"
  },
  {
    "text": "within s3 or console and there is",
    "start": "672120",
    "end": "677430"
  },
  {
    "text": "support for stuff like locking so that's kind of closer I can apply changes to to my infrastructure at the same time as",
    "start": "677430",
    "end": "683790"
  },
  {
    "text": "someone else is applying and well this this will all work out nicely you won't",
    "start": "683790",
    "end": "689310"
  },
  {
    "text": "get conflicting changes so that's kind of nice so let's find that IP address so",
    "start": "689310",
    "end": "701430"
  },
  {
    "text": "here it is so the terraform show command gives me the contents of my state file in a",
    "start": "701430",
    "end": "706920"
  },
  {
    "text": "readable format so this is the IP address and I can actually log in to",
    "start": "706920",
    "end": "711990"
  },
  {
    "text": "that now using SSH so the IP is probably",
    "start": "711990",
    "end": "721350"
  },
  {
    "text": "changed from last time I did this so this is it I'm connected to my web",
    "start": "721350",
    "end": "728850"
  },
  {
    "text": "server in Amsterdam it's a Linux machine up and running nothing spectacular you",
    "start": "728850",
    "end": "736620"
  },
  {
    "text": "can see they put the name of the the instance in the prompt so that's kind of",
    "start": "736620",
    "end": "742920"
  },
  {
    "text": "nice so let's just kick off one more",
    "start": "742920",
    "end": "749190"
  },
  {
    "text": "transformation or apply hang on what does that for yes",
    "start": "749190",
    "end": "755370"
  },
  {
    "text": "so kick that off in the background apply",
    "start": "755370",
    "end": "763430"
  },
  {
    "text": "okay so that was there from show syntax terraform is I provide you with a rich",
    "start": "763430",
    "end": "771030"
  },
  {
    "text": "expression language you can do stuff like variables you can get into spring interpolation you can do they provide",
    "start": "771030",
    "end": "778800"
  },
  {
    "text": "you with lots of the basic functions for doing math for doing base64 kind of",
    "start": "778800",
    "end": "784290"
  },
  {
    "text": "stuff hashing security things like that you can do join operations across lists",
    "start": "784290",
    "end": "790980"
  },
  {
    "text": "you can do lowercase uppercase etc basic function functions like that and there's also support for a special",
    "start": "790980",
    "end": "797460"
  },
  {
    "text": "keyword called count lets you define the number of instances of a particular resource which is kind",
    "start": "797460",
    "end": "804270"
  },
  {
    "text": "of nice because then you can easily scale up and down your infrastructure we'll see an example in just a few secs",
    "start": "804270",
    "end": "810960"
  },
  {
    "text": "and stuff like environments if you want to have let's say a production environment and a testing environment",
    "start": "810960",
    "end": "817110"
  },
  {
    "text": "etc you can use the well the functionality basics basically built into native syntax and terraform I'm not",
    "start": "817110",
    "end": "822960"
  },
  {
    "text": "going to demo that today but you can easily do that and terraform also supports stuff like modules so you can",
    "start": "822960",
    "end": "829950"
  },
  {
    "text": "define rima modules that will define infrastructure that you can reuse across",
    "start": "829950",
    "end": "837410"
  },
  {
    "text": "well let's have you really you can use it for pretty much anything so they're",
    "start": "837410",
    "end": "843180"
  },
  {
    "text": "pieces of code that are reusable just like any other we see reusable kind of software and that also supports",
    "start": "843180",
    "end": "851040"
  },
  {
    "text": "worsening which is kind of nice that's all get based so it's really cool",
    "start": "851040",
    "end": "857550"
  },
  {
    "text": "let's see so let's look at some code here's my code I just defined a couple",
    "start": "857550",
    "end": "866010"
  },
  {
    "text": "of variables so I traded one variable for holding the number of web servers",
    "start": "866010",
    "end": "872250"
  },
  {
    "text": "that I want to create and a variable for holding the name of the data center I'm",
    "start": "872250",
    "end": "879900"
  },
  {
    "text": "going to use in case it fails I can easily switch to another one okay so that's kind of nice and here I'm gone at",
    "start": "879900",
    "end": "891390"
  },
  {
    "text": "this time I'm going to use the account keyword for defining a variable number of servers and this so in this",
    "start": "891390",
    "end": "898890"
  },
  {
    "text": "particular instance I'm going to define to write because the value of of this variable is two right now okay and I'm",
    "start": "898890",
    "end": "909420"
  },
  {
    "text": "going to use string interpolation for using forgiving for generating my name",
    "start": "909420",
    "end": "916010"
  },
  {
    "text": "so I'm going to call one of my servers web zero and the other one web one",
    "start": "916010",
    "end": "923350"
  },
  {
    "text": "so that's about it let's see what happened so the existing web server just",
    "start": "923350",
    "end": "931549"
  },
  {
    "text": "got renamed from web to web zero so that would be an incremental change right",
    "start": "931549",
    "end": "937749"
  },
  {
    "text": "into my infrastructure and after that a new resource gets created and that's",
    "start": "937749",
    "end": "945319"
  },
  {
    "text": "about it okay so I now have two web servers sitting in Amsterdam instead of one and",
    "start": "945319",
    "end": "951470"
  },
  {
    "text": "I just renamed one of them let's see what the this interface is telling us",
    "start": "951470",
    "end": "957039"
  },
  {
    "text": "yeah so two two resources one got four in seven minutes ago and one three",
    "start": "957039",
    "end": "962419"
  },
  {
    "text": "minutes ago and we can actually see the IP address is circu so let's kick",
    "start": "962419",
    "end": "975079"
  },
  {
    "text": "there's some more transformations T or applies click that off in the background",
    "start": "975079",
    "end": "983889"
  },
  {
    "text": "provisioners a provisioner lets you provision on top of your resource after",
    "start": "984759",
    "end": "992449"
  },
  {
    "text": "its created or right after creation and terraform supports it has native support",
    "start": "992449",
    "end": "999739"
  },
  {
    "text": "for chef which is similar to puppet and ansible and tools like that but you can",
    "start": "999739",
    "end": "1007089"
  },
  {
    "text": "also use the remote xx provisioner to run a let's say a bash script on the",
    "start": "1007089",
    "end": "1013929"
  },
  {
    "text": "remote machines right after creation or you can have terraform run or execute a",
    "start": "1013929",
    "end": "1021309"
  },
  {
    "text": "script that you you run on your local machine so you could kick off let's say ansible ok so let's have a look at some",
    "start": "1021309",
    "end": "1031659"
  },
  {
    "text": "code so here it is I'm going to install",
    "start": "1031659",
    "end": "1037449"
  },
  {
    "text": "Apache using the remote xx provisioner some because this is all on centralized I'm",
    "start": "1037449",
    "end": "1044288"
  },
  {
    "text": "going to use I have to use the UM to install Apache which is this this software package HTTP",
    "start": "1044289",
    "end": "1051690"
  },
  {
    "text": "be and I'm going to give it SSL support and I'm going to enable the service so",
    "start": "1051690",
    "end": "1057750"
  },
  {
    "text": "it will restart automatically on reboot and I'll start it out and to provision",
    "start": "1057750",
    "end": "1065160"
  },
  {
    "text": "I'll be using SSH login is root or well terraform will login is root and it will",
    "start": "1065160",
    "end": "1072510"
  },
  {
    "text": "be using my private key to login as root ok so let's see what happens in",
    "start": "1072510",
    "end": "1080880"
  },
  {
    "text": "terraform well guess what nothing happened and that's because so why that",
    "start": "1080880",
    "end": "1086030"
  },
  {
    "text": "that's because the resources already existed and there's no support right now",
    "start": "1086030",
    "end": "1092580"
  },
  {
    "text": "and terraform for applying provisioners after mass so you have to provision as",
    "start": "1092580",
    "end": "1100550"
  },
  {
    "text": "part of or the provisioner will only run while you create the resource ok right",
    "start": "1100550",
    "end": "1109380"
  },
  {
    "text": "after so this was too late so so that's that's where this tool comes or this",
    "start": "1109380",
    "end": "1116940"
  },
  {
    "text": "command comes in handy so every time you have to recreate a resource from scratch",
    "start": "1116940",
    "end": "1122730"
  },
  {
    "text": "you can actually you have to taint it so it will be deleted and then recreated",
    "start": "1122730",
    "end": "1130170"
  },
  {
    "text": "from scratch and the provisioner will run so let's run that command paint will",
    "start": "1130170",
    "end": "1141540"
  },
  {
    "text": "take my two servers and then i'll kick off the terraform apply command",
    "start": "1141540",
    "end": "1148850"
  },
  {
    "text": "so what happens now first thing that happens is that the terraform will destroy my existing instances okay so",
    "start": "1152320",
    "end": "1161350"
  },
  {
    "text": "this is pretty quick if you compare this to observe this is digitalocean is way",
    "start": "1161350",
    "end": "1167890"
  },
  {
    "text": "faster okay you can do it yourself it takes 10 seconds to delete an instance",
    "start": "1167890",
    "end": "1176160"
  },
  {
    "text": "it takes should take around 40 seconds to launch new instances so it's much much faster",
    "start": "1176160",
    "end": "1183430"
  },
  {
    "text": "and much more demo friendly so that's why I am launching or starting out with",
    "start": "1183430",
    "end": "1189130"
  },
  {
    "text": "a my set up over at the digital ocean I wonder why xur is so slow this is okay",
    "start": "1189130",
    "end": "1200080"
  },
  {
    "text": "so here you can see the my instances got created one of them in 30 seconds and",
    "start": "1200080",
    "end": "1207480"
  },
  {
    "text": "now terraform is trying to connect to my server using SSH let's see how that goes",
    "start": "1207480",
    "end": "1214300"
  },
  {
    "text": "so there it got actually got connected to one of my instances and then it's",
    "start": "1214300",
    "end": "1220690"
  },
  {
    "text": "applying my provision provisioner on on that instance and these things happen in",
    "start": "1220690",
    "end": "1228670"
  },
  {
    "text": "parallel right so I'm having one server being provisioned and the second one in",
    "start": "1228670",
    "end": "1234370"
  },
  {
    "text": "parallel and they're both downloading stuff from the internet and installing it and bringing up everything so this",
    "start": "1234370",
    "end": "1240760"
  },
  {
    "text": "this is it hopefully should be pretty close to finished let's see",
    "start": "1240760",
    "end": "1252930"
  },
  {
    "text": "he's taking some time why that I don't know so so one of the instances is",
    "start": "1252970",
    "end": "1263799"
  },
  {
    "text": "probably finished already and the second one is being provisioned that's up there is so both up and running so I can run",
    "start": "1263799",
    "end": "1272710"
  },
  {
    "text": "the form show command it will give me the two IP addresses I'll just click on",
    "start": "1272710",
    "end": "1278679"
  },
  {
    "text": "one of these it should show me this is the Welcome page of Apache so Apache is running in Amsterdam okay yes so this is",
    "start": "1278679",
    "end": "1294759"
  },
  {
    "text": "all cool right but you might think well private keys keep them keeping them on",
    "start": "1294759",
    "end": "1302769"
  },
  {
    "text": "disk on my machine hmm maybe not that secure so this is where secure security",
    "start": "1302769",
    "end": "1312999"
  },
  {
    "text": "matters right cloud and security it really it's important to keep these",
    "start": "1312999",
    "end": "1320109"
  },
  {
    "text": "things secure with great power comes great potential for damage right so keep",
    "start": "1320109",
    "end": "1328539"
  },
  {
    "text": "your stuff secure and I'm going to demo using my yubikey for provisioning are",
    "start": "1328539",
    "end": "1333669"
  },
  {
    "text": "you all familiar with you because it lets you basically it's a it's a GPG",
    "start": "1333669",
    "end": "1341349"
  },
  {
    "text": "smart card that you can use as an SSH key so the private material is inside",
    "start": "1341349",
    "end": "1348460"
  },
  {
    "text": "this thing this hardware device I'm a public key as well wherever I want to keep it so let's have a look at that now",
    "start": "1348460",
    "end": "1357669"
  },
  {
    "text": "I'll have to take my resources again because this time I'm reprovision in",
    "start": "1357669",
    "end": "1362919"
  },
  {
    "text": "with my GPG key so this that Mike the",
    "start": "1362919",
    "end": "1373119"
  },
  {
    "text": "code looks a bit different this time I'll just kicked off at the apply",
    "start": "1373119",
    "end": "1379738"
  },
  {
    "text": "okay so my SSH key is kept in GPG I'm",
    "start": "1382260",
    "end": "1390580"
  },
  {
    "text": "going to export that nothing's crazy about that so this is my GPG public key",
    "start": "1390580",
    "end": "1397600"
  },
  {
    "text": "which is a match of the private key which is inside this thing so I'll just",
    "start": "1397600",
    "end": "1407320"
  },
  {
    "text": "keep my my my yubikey ready because the",
    "start": "1407320",
    "end": "1412630"
  },
  {
    "text": "terminal will ask for it and just a few sec okay let's look at some code so this",
    "start": "1412630",
    "end": "1420160"
  },
  {
    "text": "used to this piece of this code lock used to include the name of my private key right or the name of my private key",
    "start": "1420160",
    "end": "1427450"
  },
  {
    "text": "file and now I'm instead I'm going to use the SSH agent so that's why it says",
    "start": "1427450",
    "end": "1432850"
  },
  {
    "text": "it's the sage agent true instead so in a sec the thingy should pop up on my",
    "start": "1432850",
    "end": "1440890"
  },
  {
    "text": "screen asking for me to insert my yubikey so instances are being created",
    "start": "1440890",
    "end": "1448530"
  },
  {
    "text": "well I first got destroyed right as before and before that actually my my",
    "start": "1448530",
    "end": "1453970"
  },
  {
    "text": "new SSH key was uploaded okay so it gets replaced with a new one the and the",
    "start": "1453970",
    "end": "1461350"
  },
  {
    "text": "existing machines got wrote down you once get created so they're up and",
    "start": "1461350",
    "end": "1466990"
  },
  {
    "text": "running in 40 seconds again and now charm is trying to connect to my instances and in a sec it should prompt",
    "start": "1466990",
    "end": "1474940"
  },
  {
    "text": "me give me a book come on there is I'll",
    "start": "1474940",
    "end": "1480100"
  },
  {
    "text": "insert my yubikey I'll unlock it",
    "start": "1480100",
    "end": "1485820"
  },
  {
    "text": "what's going on oh come on",
    "start": "1486960",
    "end": "1491580"
  },
  {
    "text": "the wrists will ask me for my pin code and this is a variety only device okay",
    "start": "1495720",
    "end": "1506889"
  },
  {
    "text": "so you can't extract the private key material from my yubikey that's a right",
    "start": "1506889",
    "end": "1512559"
  },
  {
    "text": "only device so you better keep it backup of this so now I'm provisioning my",
    "start": "1512559",
    "end": "1520600"
  },
  {
    "text": "servers using my yubikey and this is way more secure than keeping your private keys on file right which is cool and I",
    "start": "1520600",
    "end": "1530169"
  },
  {
    "text": "really I highly recommend it the device it can be used well this there there are",
    "start": "1530169",
    "end": "1536440"
  },
  {
    "text": "several companies selling devices like this and they most of them support stuff",
    "start": "1536440",
    "end": "1543759"
  },
  {
    "text": "like this so GPG and you can also do universal second factor okay which is",
    "start": "1543759",
    "end": "1550960"
  },
  {
    "text": "making be supported by browsers so you can log into websites using it and stuff",
    "start": "1550960",
    "end": "1556360"
  },
  {
    "text": "like that it's really cool okay now I'm",
    "start": "1556360",
    "end": "1563740"
  },
  {
    "text": "pretty running running tear from show to",
    "start": "1563740",
    "end": "1568809"
  },
  {
    "text": "get all the details of all my stuff is kind of cumbersome so or it's a as a massive amount of output right so I want",
    "start": "1568809",
    "end": "1577360"
  },
  {
    "text": "to instead I want to have it presented to me in a way that I can that is more",
    "start": "1577360",
    "end": "1584490"
  },
  {
    "text": "well easily available so then I'm going to define outputs so an output or the",
    "start": "1584490",
    "end": "1592330"
  },
  {
    "text": "output keywords that you define values that will be output when when terraform",
    "start": "1592330",
    "end": "1597850"
  },
  {
    "text": "applies and you can easily clarity the output and we'll do that so let's have a",
    "start": "1597850",
    "end": "1604090"
  },
  {
    "text": "look at the code so i've defined an output so this will you use this join",
    "start": "1604090",
    "end": "1609820"
  },
  {
    "text": "method which is part of the expression language and it will actually join the",
    "start": "1609820",
    "end": "1615509"
  },
  {
    "text": "two IP addresses in a part of this list and the spring",
    "start": "1615509",
    "end": "1621120"
  },
  {
    "text": "comma-separated so let's do a tour from reply which will refresh stuff in the",
    "start": "1621120",
    "end": "1628529"
  },
  {
    "text": "background and so here it is here's the output so I have the wealth guess what I",
    "start": "1628529",
    "end": "1637830"
  },
  {
    "text": "still have enough actually running this time probably on a different IP address I don't know could be and I can also",
    "start": "1637830",
    "end": "1646289"
  },
  {
    "text": "query that using Terra from output and either as Jason like this which is nice",
    "start": "1646289",
    "end": "1653370"
  },
  {
    "text": "because then you can feed it into other tools or just like this it's handy okay",
    "start": "1653370",
    "end": "1665279"
  },
  {
    "text": "now I'm going to throw in some Amazon stuff we'll kick that off",
    "start": "1665279",
    "end": "1673278"
  },
  {
    "text": "hmm so the unique thing about terraformers you can combine resources found with different cloud providers and",
    "start": "1677040",
    "end": "1685650"
  },
  {
    "text": "one big infrastructure okay that's pretty unique you can't do that the",
    "start": "1685650",
    "end": "1691590"
  },
  {
    "text": "stuff that the the other guy was just presenting yeah before I came in here so",
    "start": "1691590",
    "end": "1697730"
  },
  {
    "text": "that's kind of cool and it's unique you",
    "start": "1697730",
    "end": "1703260"
  },
  {
    "text": "can't do it with negative tools from desert and attempted the weather negative tools that you find in in",
    "start": "1703260",
    "end": "1708720"
  },
  {
    "text": "Amazon you can't do this stuff like heat that is a similar tool that you use with OpenStack",
    "start": "1708720",
    "end": "1714500"
  },
  {
    "text": "so this is very cool it is pretty cool and I use this this particular feature",
    "start": "1714500",
    "end": "1722970"
  },
  {
    "text": "every day where I worked because we combine different clouds in one big",
    "start": "1722970",
    "end": "1729120"
  },
  {
    "text": "infrastructure so here I'm guess what",
    "start": "1729120",
    "end": "1735120"
  },
  {
    "text": "configuring the AWS provider okay it's going to run in well I'm going to talk",
    "start": "1735120",
    "end": "1741810"
  },
  {
    "text": "to you you central it turns out BNF is worldwide so it doesn't really matter thanks your propagate world worldwide",
    "start": "1741810",
    "end": "1749340"
  },
  {
    "text": "and this is the name or the the DNS zone",
    "start": "1749340",
    "end": "1755550"
  },
  {
    "text": "ID I looked it up manually in Amazon because it just takes two what too long to propagate the name server changes",
    "start": "1755550",
    "end": "1763800"
  },
  {
    "text": "with your register so when you buy domain name it takes like a day to just get it up and run so as I did that a",
    "start": "1763800",
    "end": "1773070"
  },
  {
    "text": "couple days ago just looked it up this idea manually have you launched lots of",
    "start": "1773070",
    "end": "1779730"
  },
  {
    "text": "new domain names every single day day you can you can use this resource",
    "start": "1779730",
    "end": "1785670"
  },
  {
    "text": "instead it depends on your business what you're into right so I'm just creating a",
    "start": "1785670",
    "end": "1794010"
  },
  {
    "text": "DNS record I'm going to check it up with my domain name called",
    "start": "1794010",
    "end": "1799529"
  },
  {
    "text": "land Rafael it's going to be a type a domain name record",
    "start": "1799529",
    "end": "1804899"
  },
  {
    "text": "so that's ipv4 ipv4 addresses TTL 60",
    "start": "1804899",
    "end": "1810539"
  },
  {
    "text": "seconds I'm putting in the two IP addresses of my two instances so that",
    "start": "1810539",
    "end": "1819840"
  },
  {
    "text": "should be all up and running so that was",
    "start": "1819840",
    "end": "1824999"
  },
  {
    "text": "it Amazon did that for me so I should be",
    "start": "1824999",
    "end": "1830009"
  },
  {
    "text": "able to use the main names now which is cool let's see oh there it is up and",
    "start": "1830009",
    "end": "1836460"
  },
  {
    "text": "running not I don't have to use the main net or well IP addresses anymore that's",
    "start": "1836460",
    "end": "1844379"
  },
  {
    "text": "nice okay apply that now this and that",
    "start": "1844379",
    "end": "1852960"
  },
  {
    "text": "comes what do you guys have all been waiting for which is I guess is right my turns out",
    "start": "1852960",
    "end": "1861570"
  },
  {
    "text": "as there is really slow to launch stuff right and I'm not very happy with it to",
    "start": "1861570",
    "end": "1867899"
  },
  {
    "text": "tell you the truth but well so you can",
    "start": "1867899",
    "end": "1874649"
  },
  {
    "text": "do well you can do multi provider and you can do multi Zdenek data center and you can do multi technology and you can",
    "start": "1874649",
    "end": "1880679"
  },
  {
    "text": "combine all kinds of stuff in one big terraform configuration and now I'm",
    "start": "1880679",
    "end": "1891749"
  },
  {
    "text": "going to use DNS weighted record sets in",
    "start": "1891749",
    "end": "1896850"
  },
  {
    "text": "order to direct half of the traffic to digital ocean and have the other half to",
    "start": "1896850",
    "end": "1902659"
  },
  {
    "text": "Azure okay one half goes there and the other half goes there and I use health",
    "start": "1902659",
    "end": "1909869"
  },
  {
    "text": "checks in order to to survive a data",
    "start": "1909869",
    "end": "1916409"
  },
  {
    "text": "center or cloud provider outage so in case let's say digitalocean goes down I",
    "start": "1916409",
    "end": "1922999"
  },
  {
    "text": "will still be able to handle customer traffic",
    "start": "1922999",
    "end": "1929250"
  },
  {
    "text": "okay cool stuff think about it and it's",
    "start": "1929250",
    "end": "1936130"
  },
  {
    "text": "quite easy and I could have used so this",
    "start": "1936130",
    "end": "1941289"
  },
  {
    "text": "this health check thingy or that feature is you find out only with Amazon right",
    "start": "1941289",
    "end": "1947500"
  },
  {
    "text": "now I think and so that's a unique feature of their cloud you don't find",
    "start": "1947500",
    "end": "1954279"
  },
  {
    "text": "that with Google or with the native DNS provider in digital ocean or in Azure",
    "start": "1954279",
    "end": "1963940"
  },
  {
    "text": "so that's kind of cool because then you can you can you can pick and choose stuff from the best stuffs that you can",
    "start": "1963940",
    "end": "1970659"
  },
  {
    "text": "find with the best cloud provider and plug it into your infrastructure and you'll be get super happy because you",
    "start": "1970659",
    "end": "1977169"
  },
  {
    "text": "yeah you get the best of all clouds okay",
    "start": "1977169",
    "end": "1982889"
  },
  {
    "text": "so here I'm going to start using Azure",
    "start": "1982889",
    "end": "1988019"
  },
  {
    "text": "I'm still keeping my my secret secret we're going to use the public",
    "start": "1989039",
    "end": "1995559"
  },
  {
    "text": "environment in as earth so not the German one I'm going to use the data",
    "start": "1995559",
    "end": "2002759"
  },
  {
    "text": "centers in Ireland and generating a new resource group and then I'm creating a",
    "start": "2002759",
    "end": "2011909"
  },
  {
    "text": "virtual network in that resource group so I'm depending on it here right then",
    "start": "2011909",
    "end": "2021000"
  },
  {
    "text": "I'm going to define a subnet which is part of this virtual network",
    "start": "2021000",
    "end": "2028518"
  },
  {
    "text": "I'm going to depend on a security group which is defined here and this security",
    "start": "2029779",
    "end": "2038629"
  },
  {
    "text": "group will allow inbound traffic on port 22 in order to let me provision stuff",
    "start": "2038629",
    "end": "2045669"
  },
  {
    "text": "and it will allow inbound traffic on port 80 to serve web content and HTTPS",
    "start": "2045700",
    "end": "2053179"
  },
  {
    "text": "and denied everything else how are we doing in the clouds let's check it out",
    "start": "2053179",
    "end": "2060789"
  },
  {
    "text": "so as I mentioned it takes time to launch virtual machines where the azure",
    "start": "2060789",
    "end": "2069020"
  },
  {
    "text": "takes like 4 minutes maybe as opposed to 40 seconds LED the digital ocean so here",
    "start": "2069020",
    "end": "2081049"
  },
  {
    "text": "I'm provisioning a couple IP addresses some provisioning actually two IP",
    "start": "2081049",
    "end": "2088279"
  },
  {
    "text": "addresses and then attaching these IP",
    "start": "2088279",
    "end": "2094789"
  },
  {
    "text": "addresses to two brand-new network interfaces that's happening right here",
    "start": "2094789",
    "end": "2104029"
  },
  {
    "text": "so where is the yeah the IP e that's that's here actually that's where I",
    "start": "2104029",
    "end": "2109460"
  },
  {
    "text": "attach the IP addresses to my network interface ok I'm in addition I'm",
    "start": "2109460",
    "end": "2118010"
  },
  {
    "text": "attaching my security group to this network interface as well and then I'm",
    "start": "2118010",
    "end": "2128720"
  },
  {
    "text": "going to put all of that inside a availability set because I don't want to go down all the time right right and I'm",
    "start": "2128720",
    "end": "2136819"
  },
  {
    "text": "going to use a managed availability set so I want azor to handle all of that for",
    "start": "2136819",
    "end": "2142490"
  },
  {
    "text": "me ok I could have done this myself using let's say terraform it's just",
    "start": "2142490",
    "end": "2149059"
  },
  {
    "text": "easier to do it with with a managed availability set let's see what's",
    "start": "2149059",
    "end": "2155630"
  },
  {
    "text": "happened what's happening in the background self rush machine is still being created",
    "start": "2155630",
    "end": "2162849"
  },
  {
    "text": "so this is my virtual machine and it's a standard a - I don't know really a",
    "start": "2166470",
    "end": "2173470"
  },
  {
    "text": "country memory of what that means but it's it's a nice little box and this",
    "start": "2173470",
    "end": "2180280"
  },
  {
    "text": "this is this is important this stuff so",
    "start": "2180280",
    "end": "2185440"
  },
  {
    "text": "this is the essence of DevOps I think you should never keep backups of your",
    "start": "2185440",
    "end": "2191470"
  },
  {
    "text": "machines you should instead delete them and make new ones okay",
    "start": "2191470",
    "end": "2196990"
  },
  {
    "text": "so you don't get slakey servers just kill machines and bring up new ones",
    "start": "2196990",
    "end": "2202330"
  },
  {
    "text": "instead of you know taking great care of them never take backups of virtual",
    "start": "2202330",
    "end": "2209710"
  },
  {
    "text": "machines take backups of your infrastructure code I'm going to launch",
    "start": "2209710",
    "end": "2219850"
  },
  {
    "text": "a sent to s image so the same stuff that I'm using in Amsterdam and here's my",
    "start": "2219850",
    "end": "2227620"
  },
  {
    "text": "storage disk and here is the name of my my computer and I'm going to be the",
    "start": "2227620",
    "end": "2235630"
  },
  {
    "text": "admin because I want to be the admin and here is my console login password and",
    "start": "2235630",
    "end": "2244360"
  },
  {
    "text": "here I'm reusing my yubikey down here so this is a linux specific functionality",
    "start": "2244360",
    "end": "2251860"
  },
  {
    "text": "there is a similar code block for Windows okay so this is taking time nice",
    "start": "2251860",
    "end": "2261790"
  },
  {
    "text": "so what at least one of the servers is one of them is ready that's good but the",
    "start": "2261790",
    "end": "2268270"
  },
  {
    "text": "other one is taking Wow six minutes never did that before okay and I'm going",
    "start": "2268270",
    "end": "2276100"
  },
  {
    "text": "to run the my provisioner just as before now the syntax is a little bit different",
    "start": "2276100",
    "end": "2282880"
  },
  {
    "text": "because turns out the templates that are provided by Microsoft or by this company",
    "start": "2282880",
    "end": "2288820"
  },
  {
    "text": "what they call open logic you have to use sudo to install stuff",
    "start": "2288820",
    "end": "2294690"
  },
  {
    "text": "but I'm pretty basic aliy installing the same piece of code on the other boxes",
    "start": "2294690",
    "end": "2302050"
  },
  {
    "text": "I'm installing Apache again with SSL support I'm starting up and I'm going to",
    "start": "2302050",
    "end": "2309640"
  },
  {
    "text": "connect it or actually terraform is going to connect it using SSH as my user",
    "start": "2309640",
    "end": "2319230"
  },
  {
    "text": "on these two public IP addresses using the SSH agent and now comes the magic so",
    "start": "2319230",
    "end": "2330250"
  },
  {
    "text": "here's where I do a I define a domain",
    "start": "2330250",
    "end": "2335980"
  },
  {
    "text": "name for my Azure stuff and down here I put in the health check down here it is",
    "start": "2335980",
    "end": "2345430"
  },
  {
    "text": "hang on where is it yeah here it is so AWS will ping my servers to see if",
    "start": "2345430",
    "end": "2353980"
  },
  {
    "text": "they're online and that's about it because this last lock is the equivalent for digitalocean is this up and running",
    "start": "2353980",
    "end": "2361390"
  },
  {
    "text": "yes so I should not be able to well I",
    "start": "2361390",
    "end": "2368170"
  },
  {
    "text": "now have a new domain name which is which is called WWN rafael which is either directing traffic to editor or or",
    "start": "2368170",
    "end": "2376960"
  },
  {
    "text": "digitalocean and I don't really care as a customer if it's if this guy's humming it original",
    "start": "2376960",
    "end": "2382510"
  },
  {
    "text": "or is this this guy is humming in okay",
    "start": "2382510",
    "end": "2389310"
  },
  {
    "text": "[Music] so how does this work so the health check is actually asking for this",
    "start": "2391350",
    "end": "2402010"
  },
  {
    "text": "resource on my web server to see if the data center is up so right now if I log",
    "start": "2402010",
    "end": "2409839"
  },
  {
    "text": "in to route 53 at Amazon let's eat",
    "start": "2409839",
    "end": "2420360"
  },
  {
    "text": "should be all green yes they're both green as you can see digitalocean has",
    "start": "2420360",
    "end": "2426990"
  },
  {
    "text": "been online for quite a while and azor just got online so now it's healthy",
    "start": "2426990",
    "end": "2433430"
  },
  {
    "text": "now let's say digitalocean goes down I",
    "start": "2433430",
    "end": "2441260"
  },
  {
    "text": "would be interesting to see what happens but where you can do it are you guys",
    "start": "2441260",
    "end": "2448500"
  },
  {
    "text": "familiar with this command dig yeah raise your hands yes one two not that",
    "start": "2448500",
    "end": "2456570"
  },
  {
    "text": "many it's a utility to look up the main aims so it basically lets you query the",
    "start": "2456570",
    "end": "2465660"
  },
  {
    "text": "IP addresses of your domain name and as we can see I defined a domain name",
    "start": "2465660",
    "end": "2474390"
  },
  {
    "text": "called land row dot well ww-why Oh which points at a cname record either this guy",
    "start": "2474390",
    "end": "2482750"
  },
  {
    "text": "that's half of the time this when I do a dig half of the time I should get the",
    "start": "2482750",
    "end": "2488130"
  },
  {
    "text": "the cname alias and the other half of the time I should get as ur it tends to",
    "start": "2488130",
    "end": "2495060"
  },
  {
    "text": "be I somehow I don't know why but tends to Amazon tends to give me digitalocean",
    "start": "2495060",
    "end": "2502620"
  },
  {
    "text": "IPS all the time I don't know why so this is but this could depend on where you are if you're in let's say northern",
    "start": "2502620",
    "end": "2509310"
  },
  {
    "text": "or in Ireland you'd probably get the IP addresses of of Azure but this can this",
    "start": "2509310",
    "end": "2517920"
  },
  {
    "text": "can basically should wait the traffic should be going half of it should be",
    "start": "2517920",
    "end": "2524070"
  },
  {
    "text": "going to Azure and half of it to digitalocean but it's for some reason",
    "start": "2524070",
    "end": "2529740"
  },
  {
    "text": "tend to get digitalocean mostly maybe they're just whoa there it changed",
    "start": "2529740",
    "end": "2535950"
  },
  {
    "text": "actually see T so the the that's kind of nice so this just got",
    "start": "2535950",
    "end": "2544190"
  },
  {
    "text": "switched over to observe and my IP address is completely changed so if I",
    "start": "2544190",
    "end": "2552200"
  },
  {
    "text": "hit if the main name again there should be Oh guess what they look the same because it's well it's running a desert",
    "start": "2552200",
    "end": "2559180"
  },
  {
    "text": "it's it's the same rent so that's how",
    "start": "2559180",
    "end": "2564770"
  },
  {
    "text": "you so half of the traffic is going to one datacenter and the other has to the other now let's take down let's take",
    "start": "2564770",
    "end": "2571970"
  },
  {
    "text": "down digitalocean let's take that digitalocean so I can log into digit my digitalocean",
    "start": "2571970",
    "end": "2578780"
  },
  {
    "text": "servers by let's do that so here's my",
    "start": "2578780",
    "end": "2585830"
  },
  {
    "text": "digitalocean IP addresses I'll take that",
    "start": "2585830",
    "end": "2591170"
  },
  {
    "text": "and log into it and shut down my Apache web servers I'll just do this manually",
    "start": "2591170",
    "end": "2600980"
  },
  {
    "text": "so you can see it so system control",
    "start": "2600980",
    "end": "2606369"
  },
  {
    "text": "that's how you shut down Apache and then I'm going to do the exact same thing",
    "start": "2608470",
    "end": "2614330"
  },
  {
    "text": "with the other IP address which was this one I guess 158 like what am I doing",
    "start": "2614330",
    "end": "2624140"
  },
  {
    "text": "here for me yeah this guy",
    "start": "2624140",
    "end": "2628900"
  },
  {
    "text": "so I'm just going to stop patchy like this so now I'm at the two digital",
    "start": "2632960",
    "end": "2642480"
  },
  {
    "text": "ocean servers have been brought down and my health checks should start failing",
    "start": "2642480",
    "end": "2649310"
  },
  {
    "text": "right so let's just quickly refresh I'm",
    "start": "2649310",
    "end": "2659730"
  },
  {
    "text": "still hoping text so this depends on on your it will take like maybe you have",
    "start": "2659730",
    "end": "2666930"
  },
  {
    "text": "half a minute or something like that depending on the frequency of your",
    "start": "2666930",
    "end": "2673380"
  },
  {
    "text": "health checks so this is probably going",
    "start": "2673380",
    "end": "2678600"
  },
  {
    "text": "down pretty soon and we can have a look at so this should be as where is it",
    "start": "2678600",
    "end": "2686070"
  },
  {
    "text": "alarms health checkers so as you can see here to the right there my checks are",
    "start": "2686070",
    "end": "2693750"
  },
  {
    "text": "starting to fail because the connection is refused and this should pretty soon",
    "start": "2693750",
    "end": "2699270"
  },
  {
    "text": "be brought or it will pretty soon be taken out of DNS so unhealthy",
    "start": "2699270",
    "end": "2709890"
  },
  {
    "text": "digitalocean is unhealthy and if I do",
    "start": "2709890",
    "end": "2715370"
  },
  {
    "text": "like be sorry I do a dig I should always",
    "start": "2715370",
    "end": "2724200"
  },
  {
    "text": "get a I should always get the IP",
    "start": "2724200",
    "end": "2729600"
  },
  {
    "text": "addresses of my Azure account controller servers consistently like all the time",
    "start": "2729600",
    "end": "2735770"
  },
  {
    "text": "so not just half of traffic all of the traffic should get deep directed to user now okay let's see I guess yeah that was",
    "start": "2735770",
    "end": "2747510"
  },
  {
    "text": "the end of the code we can have a look at this",
    "start": "2747510",
    "end": "2755000"
  },
  {
    "text": "so it's a terraform setup can get pretty large right it can contain lots of",
    "start": "2755000",
    "end": "2762090"
  },
  {
    "text": "resources and that's where this command comes in handy because it will generate",
    "start": "2762090",
    "end": "2770340"
  },
  {
    "text": "a nice little well it's not that little it's just nice their form",
    "start": "2770340",
    "end": "2777090"
  },
  {
    "text": "graph it's quite just so just this tiny",
    "start": "2777090",
    "end": "2782849"
  },
  {
    "text": "little setup will get quite massive so",
    "start": "2782849",
    "end": "2788970"
  },
  {
    "text": "but this will actually tell you the order of creation of stuff so my SSH key",
    "start": "2788970",
    "end": "2795240"
  },
  {
    "text": "will get uploaded first because my droplets dependent on it and then my",
    "start": "2795240",
    "end": "2804060"
  },
  {
    "text": "droplets also depend on my variable etc etc etc and now the cool thing I'm not",
    "start": "2804060",
    "end": "2813420"
  },
  {
    "text": "going to demonstrate that but you'll be if you use modules and terraform you will you'll get several of these graphs",
    "start": "2813420",
    "end": "2823710"
  },
  {
    "text": "in the same picture basically sitting next to each other and this is this is",
    "start": "2823710",
    "end": "2829980"
  },
  {
    "text": "actually the name of my my truth module which is called route and here's my",
    "start": "2829980",
    "end": "2836640"
  },
  {
    "text": "other stuff so it's similar just way more complex right it's not generating",
    "start": "2836640",
    "end": "2846300"
  },
  {
    "text": "more customer value it's just giving you lots of extra work to set up so how",
    "start": "2846300",
    "end": "2855300"
  },
  {
    "text": "about that Microsoft yes picked it down",
    "start": "2855300",
    "end": "2864710"
  },
  {
    "text": "so summary terraform is really great for defining infrastructure as code and",
    "start": "2865339",
    "end": "2872310"
  },
  {
    "text": "evolving infrastructure right I've been doing that throughout this presentation",
    "start": "2872310",
    "end": "2877520"
  },
  {
    "text": "and I wouldn't do it if I didn't know it would work right so this is this is good",
    "start": "2877520",
    "end": "2884070"
  },
  {
    "text": "stuff and you can perform incremental changes easily and you can version control them just like I",
    "start": "2884070",
    "end": "2890700"
  },
  {
    "text": "did by using it or you can use any any version control system and the cool",
    "start": "2890700",
    "end": "2897990"
  },
  {
    "text": "thing is you can again what is unique about this is you can combine stuff from",
    "start": "2897990",
    "end": "2903930"
  },
  {
    "text": "different clouds easily easily you can't",
    "start": "2903930",
    "end": "2909660"
  },
  {
    "text": "do that with the resource templates from Messer or cloud formation templates if",
    "start": "2909660",
    "end": "2915870"
  },
  {
    "text": "you're into if you want to look at the code you can find it on my github account it's all in there you can follow",
    "start": "2915870",
    "end": "2924060"
  },
  {
    "text": "me on on Twitter if you're keen to do",
    "start": "2924060",
    "end": "2929130"
  },
  {
    "text": "that and if you're into this kind of stuff come see me afterwards my company",
    "start": "2929130",
    "end": "2937890"
  },
  {
    "text": "is hiring and well I'll take some questions yes yes so the question was",
    "start": "2937890",
    "end": "2954120"
  },
  {
    "text": "what if someone for some reason changes something in the portal so first of all",
    "start": "2954120",
    "end": "2960030"
  },
  {
    "text": "you should never do that because it's",
    "start": "2960030",
    "end": "2965340"
  },
  {
    "text": "not version controlled it's not version control right that's terrible",
    "start": "2965340",
    "end": "2972620"
  },
  {
    "text": "that is terrible this is what DevOps is all about version controlling stuff",
    "start": "2972620",
    "end": "2981140"
  },
  {
    "text": "writing code automating things it kept gives you a higher level of",
    "start": "2981140",
    "end": "2988200"
  },
  {
    "text": "security a higher level of well uptime",
    "start": "2988200",
    "end": "2993630"
  },
  {
    "text": "I'd say you don't get flaky servers okay so don't do it so prevent people from",
    "start": "2993630",
    "end": "3003080"
  },
  {
    "text": "doing it using your policy files or whatever depending on which cloud you're using okay just don't do it so if you do",
    "start": "3003080",
    "end": "3011600"
  },
  {
    "text": "it you can do it still okay so there's actually functionality entire form for",
    "start": "3011600",
    "end": "3016790"
  },
  {
    "text": "importing resources and resource definitions",
    "start": "3016790",
    "end": "3021190"
  },
  {
    "text": "it'sit's a feature that got added maybe half a year ago so you can actually download the existing configuration so",
    "start": "3022100",
    "end": "3029550"
  },
  {
    "text": "from the cloud and save it locally and actually as part of now if you do what",
    "start": "3029550",
    "end": "3035580"
  },
  {
    "text": "you're from if you really do what you're doing you know you shouldn't be doing",
    "start": "3035580",
    "end": "3041640"
  },
  {
    "text": "that but hang on I'll show you something here terraform there is this refresh",
    "start": "3041640",
    "end": "3052290"
  },
  {
    "text": "command which actually will look at the current state in the cloud and download",
    "start": "3052290",
    "end": "3059640"
  },
  {
    "text": "it and sync it with your state okay so this refresh will actually pull it down",
    "start": "3059640",
    "end": "3065430"
  },
  {
    "text": "now you can either run that manually after you know clicking around if your",
    "start": "3065430",
    "end": "3070800"
  },
  {
    "text": "spend your time clicking around you can do it like this and actually refreshing",
    "start": "3070800",
    "end": "3079110"
  },
  {
    "text": "will occur when you apply to automatically so if you have if you perform an apply it will actually",
    "start": "3079110",
    "end": "3085800"
  },
  {
    "text": "perform a refresh first as you can see",
    "start": "3085800",
    "end": "3092880"
  },
  {
    "text": "the current state is actually being refreshed when I perform in the plant so",
    "start": "3092880",
    "end": "3098790"
  },
  {
    "text": "that's implicit yes more questions yes",
    "start": "3098790",
    "end": "3106890"
  },
  {
    "text": "can you define resources that you that don't exist already yes you can because",
    "start": "3106890",
    "end": "3113220"
  },
  {
    "text": "Terra firme is open source so you can use it to define whatever you want and",
    "start": "3113220",
    "end": "3119340"
  },
  {
    "text": "people do that okay people do that this is all open source it's written and go",
    "start": "3119340",
    "end": "3124380"
  },
  {
    "text": "it's easy to let's say if you have some",
    "start": "3124380",
    "end": "3129530"
  },
  {
    "text": "strange box doing I don't know whatever could be a webcam with a specific",
    "start": "3129530",
    "end": "3136260"
  },
  {
    "text": "protocol of some kind I don't know you can implement the provider to talk to that thing okay or you could even",
    "start": "3136260",
    "end": "3146330"
  },
  {
    "text": "provision you can use terraform to provision stuff inside your database",
    "start": "3146330",
    "end": "3151710"
  },
  {
    "text": "let's say a database table if you want to do so pretty much you can",
    "start": "3151710",
    "end": "3156730"
  },
  {
    "text": "use it to provision resources in general it's not only a cloud thing and by the",
    "start": "3156730",
    "end": "3163569"
  },
  {
    "text": "way I didn't show that yet but you can so terraform comes with lots of stuff",
    "start": "3163569",
    "end": "3169630"
  },
  {
    "text": "and if the open source community he's surrounding it is it's pretty amazing so",
    "start": "3169630",
    "end": "3176530"
  },
  {
    "text": "these are all look for hang on that with provisioners providers so this is if you",
    "start": "3176530",
    "end": "3181690"
  },
  {
    "text": "see in the left here this is all the stuff all the clouds that you can talk to you can do stuff like let's say if",
    "start": "3181690",
    "end": "3188380"
  },
  {
    "text": "you use graph on you can have terraform talk to your graph on the installation",
    "start": "3188380",
    "end": "3194260"
  },
  {
    "text": "and configure it so that could be you know defining let's say dashboards or",
    "start": "3194260",
    "end": "3200829"
  },
  {
    "text": "things like that I have looked into Griffin in particular but you can do that oh there's being an HTTP provider I",
    "start": "3200829",
    "end": "3207849"
  },
  {
    "text": "guess you can do HTTP call somewhere so that's what that would be provider to do",
    "start": "3207849",
    "end": "3214270"
  },
  {
    "text": "you know make things glue together real nicely yeah there's lots of stuff that",
    "start": "3214270",
    "end": "3222430"
  },
  {
    "text": "you can do right and it's easy to add more stuff okay more questions yes how",
    "start": "3222430",
    "end": "3236500"
  },
  {
    "text": "do you handle roll outs if changes are destructed yes so if you incremental",
    "start": "3236500",
    "end": "3247119"
  },
  {
    "text": "rollouts so life cycle things is that",
    "start": "3247119",
    "end": "3252670"
  },
  {
    "text": "what you're saying saying yeah yeah so let's say you you have a the classic",
    "start": "3252670",
    "end": "3258310"
  },
  {
    "text": "example would be you have a security group in Amazon or a real office scaling",
    "start": "3258310",
    "end": "3266740"
  },
  {
    "text": "group or stuff like that auto scaling group and you want to just get rid of it and bring up a new one that replaces the",
    "start": "3266740",
    "end": "3272230"
  },
  {
    "text": "existing one so you'd then bring up the new resource or the new auto scaling",
    "start": "3272230",
    "end": "3278410"
  },
  {
    "text": "group then you want before getting rid of the the old one and that's being",
    "start": "3278410",
    "end": "3285250"
  },
  {
    "text": "handled our there is a function in terraform for doing that kind of stuff that's called life cycles yes yes",
    "start": "3285250",
    "end": "3299090"
  },
  {
    "text": "can you use it to to migrate between providers yes it's easy so I pretty much",
    "start": "3299090",
    "end": "3306680"
  },
  {
    "text": "did that right because I had my existing set up at digitalocean and I spent a",
    "start": "3306680",
    "end": "3313820"
  },
  {
    "text": "couple afternoons just setting up my my other account and I kids easily well",
    "start": "3313820",
    "end": "3321590"
  },
  {
    "text": "just delete my old my old servers at",
    "start": "3321590",
    "end": "3327070"
  },
  {
    "text": "digitalocean just using this is that what you were saying okay so how similar",
    "start": "3327070",
    "end": "3337040"
  },
  {
    "text": "our cloud providers really yes so I get",
    "start": "3337040",
    "end": "3347600"
  },
  {
    "text": "I get your idea you basically you have a workload that you want to run I don't",
    "start": "3347600",
    "end": "3353540"
  },
  {
    "text": "really care where that's it and you pretty much want to run it with the cheapest provider because you want to",
    "start": "3353540",
    "end": "3358970"
  },
  {
    "text": "save money okay and so you let's say you have a virtual machine image and you just want to run it somewhere and you",
    "start": "3358970",
    "end": "3364730"
  },
  {
    "text": "don't really care you just wanted to have it up and running okay now it turns out cloud api's and cloud",
    "start": "3364730",
    "end": "3371540"
  },
  {
    "text": "functionality they're really similar but not identical okay first things like SLA",
    "start": "3371540",
    "end": "3378380"
  },
  {
    "text": "stats very just other concepts that are",
    "start": "3378380",
    "end": "3384140"
  },
  {
    "text": "just different between them they're similar so it's quite easy to move from one to another one it would take you a",
    "start": "3384140",
    "end": "3391310"
  },
  {
    "text": "few days let's say but you can't do it in like five minutes we can't do it in",
    "start": "3391310",
    "end": "3396860"
  },
  {
    "text": "five minutes we can do it in a couple days which is still much better than you know",
    "start": "3396860",
    "end": "3402740"
  },
  {
    "text": "a couple months or weeks or years or what we used to do I haven't seen any",
    "start": "3402740",
    "end": "3410330"
  },
  {
    "text": "questions from bacteria well okay any more questions yes yes",
    "start": "3410330",
    "end": "3419440"
  },
  {
    "text": "no so so the question is is this is terraform using what kind of API has",
    "start": "3423730",
    "end": "3429560"
  },
  {
    "text": "this how does it work so I haven't looked at the code really but normally what you do when you",
    "start": "3429560",
    "end": "3437600"
  },
  {
    "text": "implement the provider you use a API binding so that would be an SDK that",
    "start": "3437600",
    "end": "3444580"
  },
  {
    "text": "knows the API of this Azure and this particular Azure provider there's",
    "start": "3444580",
    "end": "3452900"
  },
  {
    "text": "actually two supported by terraform the legacy one ASM I've never used that don't know much about it but this is the",
    "start": "3452900",
    "end": "3462050"
  },
  {
    "text": "new one which I've been demonstrating is using the yeah why Maya the arm API okay",
    "start": "3462050",
    "end": "3470680"
  },
  {
    "text": "so it's just doing HTTP stuff in the background okay more questions one more",
    "start": "3470680",
    "end": "3480350"
  },
  {
    "text": "one yep last one yes how do you expand",
    "start": "3480350",
    "end": "3489560"
  },
  {
    "text": "it if you're more than one guy so so I work where I work we're well at least",
    "start": "3489560",
    "end": "3495410"
  },
  {
    "text": "three or four guys and it turns out we",
    "start": "3495410",
    "end": "3503290"
  },
  {
    "text": "there is locking functionality in terraform right as I mentioned you can you can keep your your state locked and",
    "start": "3503290",
    "end": "3511070"
  },
  {
    "text": "there's also enterprise features that you can you can buy from them in their",
    "start": "3511070",
    "end": "3516410"
  },
  {
    "text": "enterprise offering this is all free by the way right until now this is all been free there's an enterprise offering",
    "start": "3516410",
    "end": "3523400"
  },
  {
    "text": "which allows you to do more scroll aberration kind of stuff okay but",
    "start": "3523400",
    "end": "3528920"
  },
  {
    "text": "locking you can get that for free too basically the locking functionality that comes with a tool uses a anatomic",
    "start": "3528920",
    "end": "3536810"
  },
  {
    "text": "resource in in the clouds let's say or you could implement that yourself it's not hard to",
    "start": "3536810",
    "end": "3543930"
  },
  {
    "text": "implement okay that's the very last question",
    "start": "3543930",
    "end": "3550460"
  },
  {
    "text": "wow that's a long a question that's all that he was asking you how do you do",
    "start": "3575720",
    "end": "3581099"
  },
  {
    "text": "this in real world basically and what are good practices that would be you",
    "start": "3581099",
    "end": "3587910"
  },
  {
    "text": "know an hour taught I guess but we can come see me afterwards",
    "start": "3587910",
    "end": "3594330"
  },
  {
    "text": "and we'll talk more okay thanks guys",
    "start": "3594330",
    "end": "3598760"
  }
]