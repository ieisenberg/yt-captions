[
  {
    "text": "and what's that five minutes I was I was worried like is this talking to last for an hour that's a long time",
    "start": "0",
    "end": "6480"
  },
  {
    "text": "just save me five minutes all right so topic of today oppa everywhere exploring the open",
    "start": "6480",
    "end": "12660"
  },
  {
    "text": "intermediate representation or IR format there's going to be a lot of things covered here today so buckle up",
    "start": "12660",
    "end": "19080"
  },
  {
    "text": "uh first off amanders I work as a developer Advocate styra which is the founders of the open policy agent",
    "start": "19080",
    "end": "25560"
  },
  {
    "text": "project I have a quite long background in software development uh for the last",
    "start": "25560",
    "end": "31859"
  },
  {
    "text": "seven or eight years I've been working primarily with identity systems so basically proving who you are",
    "start": "31859",
    "end": "38780"
  },
  {
    "text": "in various digital systems uh that eventually led me into oppa",
    "start": "38780",
    "end": "45840"
  },
  {
    "text": "so when you're in identity and you work for identity vendors and your customers come up and they're like okay",
    "start": "45840",
    "end": "52200"
  },
  {
    "text": "identity is solved here but now do what do we do with that we know who the user is we have these",
    "start": "52200",
    "end": "58260"
  },
  {
    "text": "attributes we might have some roles we might have how do we use them that's our authorization right and as an identity",
    "start": "58260",
    "end": "64978"
  },
  {
    "text": "vendor the standard answer is pretty much like that's not our that's not our problem",
    "start": "64979",
    "end": "71820"
  },
  {
    "text": "that's your problem so after oh great uh",
    "start": "71820",
    "end": "78900"
  },
  {
    "text": "so after seven or eight years I got curious like what if that was my",
    "start": "78900",
    "end": "86040"
  },
  {
    "text": "problem so I kind of dropped out of that uh company started working at a corporation",
    "start": "86040",
    "end": "92640"
  },
  {
    "text": "where where we had uh teams working in 12 different countries",
    "start": "92640",
    "end": "98100"
  },
  {
    "text": "uh eight or nine different programming languages so pretty much the whole Spectrum",
    "start": "98100",
    "end": "103939"
  },
  {
    "text": "and we we had to solve authorization across that Tech stack so how how would",
    "start": "104220",
    "end": "110520"
  },
  {
    "text": "we do that that's how I ended up uh or that's how I found out about oppa and I've been",
    "start": "110520",
    "end": "115979"
  },
  {
    "text": "working on the project for I think I think it might be four years now even",
    "start": "115979",
    "end": "121140"
  },
  {
    "text": "uh so first as an implementer on the kind of user side of things and for the",
    "start": "121140",
    "end": "127200"
  },
  {
    "text": "last two years it's Tyra and when I'm not working with that I like cooking food and football",
    "start": "127200",
    "end": "134400"
  },
  {
    "text": "if you want to reach out later I'm uh just my first name and my last name and all these channels",
    "start": "134400",
    "end": "142760"
  },
  {
    "text": "all right so back to the problem how do we do authorization in distributed apis because that's basically what uh I had",
    "start": "143099",
    "end": "149580"
  },
  {
    "text": "to work with uh modern tech Stacks increasingly tend to be distributed",
    "start": "149580",
    "end": "157040"
  },
  {
    "text": "and that's a pretty complicated uh problem but first off since my background is an",
    "start": "157080",
    "end": "163680"
  },
  {
    "text": "identity I figured like maybe we can start there so uh basically the monolith model as as",
    "start": "163680",
    "end": "170940"
  },
  {
    "text": "at least folks as old as I am have some experience with it's basically the",
    "start": "170940",
    "end": "178680"
  },
  {
    "text": "transition transition to microservices basically just the same responsibilities but rather than function calls we have",
    "start": "178680",
    "end": "184920"
  },
  {
    "text": "Network calls and uh what we're in particular interested in today is of course uh",
    "start": "184920",
    "end": "191940"
  },
  {
    "text": "authentication and authorization so in the monolith architecture it's",
    "start": "191940",
    "end": "197220"
  },
  {
    "text": "it's a rather simple uh model you have one application that basically",
    "start": "197220",
    "end": "202800"
  },
  {
    "text": "does everything it it the user provides some credentials the application set up a session it checks obviously checks the",
    "start": "202800",
    "end": "209940"
  },
  {
    "text": "identity of the user verify the credentials uh once the credentials are verified we",
    "start": "209940",
    "end": "216360"
  },
  {
    "text": "check is the user allowed to do this operation and if if the user is",
    "start": "216360",
    "end": "222239"
  },
  {
    "text": "uh we send back some data or or we allow the operation",
    "start": "222239",
    "end": "228200"
  },
  {
    "text": "in a distributed application however authentication is commonly uh delegated elsewhere",
    "start": "228299",
    "end": "234840"
  },
  {
    "text": "but up until now uh we have not really had a good model for working with this and distributed architectures",
    "start": "234840",
    "end": "243180"
  },
  {
    "text": "so if we were to to make it a fairly naive translation of the kind of",
    "start": "243180",
    "end": "248700"
  },
  {
    "text": "monolith architecture we were to just translate what we just saw into a distributed architecture it would look",
    "start": "248700",
    "end": "254280"
  },
  {
    "text": "like this would have any number of services that all did all of these things they'd have",
    "start": "254280",
    "end": "260940"
  },
  {
    "text": "to verify credentials they'd have to verify permissions and eventually end up at some data store where we if",
    "start": "260940",
    "end": "267900"
  },
  {
    "text": "everything looks good we send back the data to the user so there's a couple of problems with",
    "start": "267900",
    "end": "273840"
  },
  {
    "text": "this model once we go distributed and the first one is of course uh it's it's pretty obvious for for",
    "start": "273840",
    "end": "280259"
  },
  {
    "text": "security-minded people which is of course like passing around credentials uh the users may have submitted like a",
    "start": "280259",
    "end": "288240"
  },
  {
    "text": "username a password or whatnot but there's really no reason that each of these services",
    "start": "288240",
    "end": "293460"
  },
  {
    "text": "uh should know about the user credentials and it's it's an obvious risk of information leakage and whatnot",
    "start": "293460",
    "end": "301680"
  },
  {
    "text": "so that that would be the first problem the next problem of course all these red",
    "start": "301680",
    "end": "306720"
  },
  {
    "text": "arrows once you once you start to add services and they all need to verify credentials",
    "start": "306720",
    "end": "312300"
  },
  {
    "text": "you have a lot of uh requests going to the user database in order to verify",
    "start": "312300",
    "end": "318060"
  },
  {
    "text": "those credentials so rather than passing around",
    "start": "318060",
    "end": "323340"
  },
  {
    "text": "credentials we gonna again we delegate that responsibility to an identity system",
    "start": "323340",
    "end": "330600"
  },
  {
    "text": "that was one of the one of the kind of great ideas with uh where identity",
    "start": "330600",
    "end": "337080"
  },
  {
    "text": "systems can attend to scale with any number of services because the services are no longer concerned with verifying",
    "start": "337080",
    "end": "344039"
  },
  {
    "text": "credentials so the user verifies or the identity system verifies",
    "start": "344039",
    "end": "349740"
  },
  {
    "text": "credentials and if you're good pass back a token and that token is carried across all these services",
    "start": "349740",
    "end": "355979"
  },
  {
    "text": "so no passwords no nothing in in our services",
    "start": "355979",
    "end": "361280"
  },
  {
    "text": "and of course everyone wants a token because that's really the keys to your assistant so how do we obtain one",
    "start": "363060",
    "end": "371400"
  },
  {
    "text": "that's basically what Olaf does of is a protocol which defines a set of flows so whether",
    "start": "371400",
    "end": "378600"
  },
  {
    "text": "you're a robot you're a human you're a mobile device or an iot device there is",
    "start": "378600",
    "end": "385440"
  },
  {
    "text": "a flow for you to obtain credentials so that you can access these systems",
    "start": "385440",
    "end": "391340"
  },
  {
    "text": "what's interesting about oauth it's all about tokens and that's really all there is about",
    "start": "391380",
    "end": "397380"
  },
  {
    "text": "oauth and at the same time Olaf says what a token is is left as an",
    "start": "397380",
    "end": "403680"
  },
  {
    "text": "implementation detail so it doesn't it doesn't ever say what a token actually is it's just page after",
    "start": "403680",
    "end": "410580"
  },
  {
    "text": "page after page about how you obtain one once you get one it doesn't say what it",
    "start": "410580",
    "end": "417000"
  },
  {
    "text": "actually is meant to be another interesting fact about oauth",
    "start": "417000",
    "end": "422880"
  },
  {
    "text": "it's labeled as an authorization framework it's like in the heading but it's not really about authorization it's",
    "start": "422880",
    "end": "428280"
  },
  {
    "text": "very very little uh around oauth uh rival also around authorization like",
    "start": "428280",
    "end": "434819"
  },
  {
    "text": "checking claims or attributes there's a basic uh basic feature of Scopes which is",
    "start": "434819",
    "end": "442319"
  },
  {
    "text": "basically you're saying this token is intended for this or that system and it can only be used for for those systems",
    "start": "442319",
    "end": "448259"
  },
  {
    "text": "but that's about as far as we get",
    "start": "448259",
    "end": "452360"
  },
  {
    "text": "another thing uh oauth doesn't say much about is who is this fella",
    "start": "455940",
    "end": "462440"
  },
  {
    "text": "so open ID connect added uh an identity layer on top of",
    "start": "463860",
    "end": "469139"
  },
  {
    "text": "oauth providing things like here are some standard claims that we",
    "start": "469139",
    "end": "474300"
  },
  {
    "text": "can expect to find on a user email address phone number what not",
    "start": "474300",
    "end": "480440"
  },
  {
    "text": "and another issue here these tokens if oauth doesn't say what a",
    "start": "480960",
    "end": "486900"
  },
  {
    "text": "token is how would we know how do we verify these tokens",
    "start": "486900",
    "end": "492560"
  },
  {
    "text": "the name model again this of course if you get a token it's just it's abc123 how do I know what that",
    "start": "493319",
    "end": "501120"
  },
  {
    "text": "means that's what we call an opaque token in order to verify that token I don't",
    "start": "501120",
    "end": "507660"
  },
  {
    "text": "know what it means uh I need to I need to ask someone else I need to ask whoever issued that token so I need to",
    "start": "507660",
    "end": "514320"
  },
  {
    "text": "go back to the identity system and say is this a valid token what user does that represent or what a client",
    "start": "514320",
    "end": "521459"
  },
  {
    "text": "and of course we're kind of back here at the original problem now we had to we",
    "start": "521459",
    "end": "527580"
  },
  {
    "text": "just kind of pointed our arrows elsewhere but if we all our services need to go back to the identity system",
    "start": "527580",
    "end": "534000"
  },
  {
    "text": "and ask we still have that problem selection of the uh the invention of the",
    "start": "534000",
    "end": "541440"
  },
  {
    "text": "Json web tokens there's been a few other formats for for doing this but the the main idea is largely that the tokens",
    "start": "541440",
    "end": "549240"
  },
  {
    "text": "should be self-contained so any data that we might need uh to know about this user or the client should be contained",
    "start": "549240",
    "end": "555360"
  },
  {
    "text": "in the token the token is digitally or cryptographically signed so we we can",
    "start": "555360",
    "end": "561660"
  },
  {
    "text": "verify the token or the uh we can verify the token without reaching",
    "start": "561660",
    "end": "567180"
  },
  {
    "text": "out all we need is just a public key we can verify the Integrity of the token without uh going to an external service",
    "start": "567180",
    "end": "576740"
  },
  {
    "text": "so uh with Json web tokens or any other kind of self-contained token we solve",
    "start": "579180",
    "end": "585060"
  },
  {
    "text": "that problem as well we have a good model for working with identity across",
    "start": "585060",
    "end": "590820"
  },
  {
    "text": "distributed systems foreign",
    "start": "590820",
    "end": "596279"
  },
  {
    "text": "so that's good how do we do authorization",
    "start": "596279",
    "end": "600680"
  },
  {
    "text": "so the name model again back to disconnect uh monolith monolithic model",
    "start": "603360",
    "end": "608700"
  },
  {
    "text": "where all our application we just send a request to a database somewhere",
    "start": "608700",
    "end": "614100"
  },
  {
    "text": "it doesn't scale well when when we have hundreds or thousands",
    "start": "614100",
    "end": "619440"
  },
  {
    "text": "of services and each of them wants to check permissions it doesn't scale at all",
    "start": "619440",
    "end": "625500"
  },
  {
    "text": "and of course if you're in a company like I was at the permission database is on on a",
    "start": "625500",
    "end": "632399"
  },
  {
    "text": "Mainframe somewhere and it's far away from this modern Cloud environment where we wanted to build our uh our new system",
    "start": "632399",
    "end": "641100"
  },
  {
    "text": "so those requests were super expensive and we have another uh another few",
    "start": "641100",
    "end": "646200"
  },
  {
    "text": "problems here offer all our authorization logic is embedded in these uh",
    "start": "646200",
    "end": "653100"
  },
  {
    "text": "applications uh it's a problem we will deal with in a minute",
    "start": "653100",
    "end": "658740"
  },
  {
    "text": "but first how do we solve these kind of red arrows and where should we do authorization",
    "start": "658740",
    "end": "666260"
  },
  {
    "text": "so this is kind of the the cheap way of solving this it's it's a bit of a",
    "start": "667800",
    "end": "673019"
  },
  {
    "text": "shortcut but it's been a very popular shortcut for the last 10 years or so",
    "start": "673019",
    "end": "678660"
  },
  {
    "text": "it basically says it's expensive to do these checks so let's just do them once",
    "start": "678660",
    "end": "684959"
  },
  {
    "text": "let's just do that in a gateway or somewhere in the perimeters of our systems and once you pass the Gateway",
    "start": "684959",
    "end": "692700"
  },
  {
    "text": "it's an open highway it's too expensive to do these checks we can't but we know",
    "start": "692700",
    "end": "699300"
  },
  {
    "text": "that the request must have passed the Gateway until of course uh that breaks somehow",
    "start": "699300",
    "end": "706140"
  },
  {
    "text": "and somebody manages to pass the Gateway but the good thing about it is really fast",
    "start": "706140",
    "end": "711899"
  },
  {
    "text": "there's only one lookup per request uh it however provides a single point of",
    "start": "711899",
    "end": "717420"
  },
  {
    "text": "failure if the Gateway is down everything goes down it's insecure of course uh because",
    "start": "717420",
    "end": "725180"
  },
  {
    "text": "if you do manage to find a way past the Gateway there's basically no access control it's just everything just",
    "start": "725180",
    "end": "731399"
  },
  {
    "text": "assumes that the Gateway must have must have done that for us",
    "start": "731399",
    "end": "736399"
  },
  {
    "text": "so the basic premise of the serial trust model it says this isn't good enough",
    "start": "742800",
    "end": "749399"
  },
  {
    "text": "and if you're in a regulated industry it's probably illegal you can't just you can't just ignore access control like in",
    "start": "749399",
    "end": "755519"
  },
  {
    "text": "your back ends you have to do it everywhere but it's slow if you if you were to do",
    "start": "755519",
    "end": "761519"
  },
  {
    "text": "it we kind of back where we started aren't we so we have we can verify the identity of",
    "start": "761519",
    "end": "767700"
  },
  {
    "text": "the user for sure we have that in the in the Json web token but but it doesn't that doesn't tell us",
    "start": "767700",
    "end": "775260"
  },
  {
    "text": "it just says this is the user this is the this is the role it's a developer it's an admin but it doesn't say what a",
    "start": "775260",
    "end": "782040"
  },
  {
    "text": "developer is allowed to do or not",
    "start": "782040",
    "end": "786620"
  },
  {
    "text": "so again we're pretty much back where we started the good thing about the model is that",
    "start": "789480",
    "end": "794820"
  },
  {
    "text": "it's secure it's slow but it's secure so how can we improve on this",
    "start": "794820",
    "end": "801019"
  },
  {
    "text": "I don't I don't I don't know if you if you all notice but the kind of direction of the arrows here",
    "start": "802440",
    "end": "808620"
  },
  {
    "text": "just got flipped so rather than having all of these Services created a database for",
    "start": "808620",
    "end": "814380"
  },
  {
    "text": "permissions a common solution to this is to rather have the database push those permissions",
    "start": "814380",
    "end": "820920"
  },
  {
    "text": "to any service that might need it so your services keeps a copy or a portion",
    "start": "820920",
    "end": "827220"
  },
  {
    "text": "of of the permission data in its memory or on disk so you don't need to do these",
    "start": "827220",
    "end": "833220"
  },
  {
    "text": "online lookup and this is surprisingly effective it works really well uh the case where this",
    "start": "833220",
    "end": "840839"
  },
  {
    "text": "might break down is of course if you have like hundreds of gigabytes of data and you need to and you need to push",
    "start": "840839",
    "end": "847680"
  },
  {
    "text": "that to hundreds of services that's going to be expensive and so on but for",
    "start": "847680",
    "end": "853079"
  },
  {
    "text": "for most kind of deployments this is this is a fairly good model so we can we kind of scratch the slow",
    "start": "853079",
    "end": "860639"
  },
  {
    "text": "thing here we don't have a single point of failure because even if the database goes down for a few minutes",
    "start": "860639",
    "end": "867120"
  },
  {
    "text": "uh each each service has a local cache of the data so it might be slightly stale but it's still going to be up and",
    "start": "867120",
    "end": "873839"
  },
  {
    "text": "running we still have our authorization logic embedded in into our applications though",
    "start": "873839",
    "end": "881100"
  },
  {
    "text": "it might be another problem again coming from where I did",
    "start": "881100",
    "end": "888060"
  },
  {
    "text": "in this uh in this organization where we had microservices in I think seven or",
    "start": "888060",
    "end": "893940"
  },
  {
    "text": "eight different programming languages and someone says Ah how do we solve",
    "start": "893940",
    "end": "899399"
  },
  {
    "text": "authorization and we had a fairly advanced set of requirements fairly Advanced set",
    "start": "899399",
    "end": "906300"
  },
  {
    "text": "of policies so of course we can go to the python team and say Here's here's our",
    "start": "906300",
    "end": "912180"
  },
  {
    "text": "requirements it's going to be like 20 pages of requirements and we bring that",
    "start": "912180",
    "end": "917699"
  },
  {
    "text": "set of requirements to the Java teams to the.net teams to close your teams the go teams",
    "start": "917699",
    "end": "924779"
  },
  {
    "text": "and what's we're what we're likely going to end up with is of course seven different entirely different",
    "start": "924779",
    "end": "930000"
  },
  {
    "text": "implementations of those requirements so that's really hard to get right and",
    "start": "930000",
    "end": "935040"
  },
  {
    "text": "each kind of each of them are just gonna have like their unique set of bugs unique unique set of uh",
    "start": "935040",
    "end": "941720"
  },
  {
    "text": "misinterpretation so the requirements and so on and of course so this this gonna require",
    "start": "941720",
    "end": "949139"
  },
  {
    "text": "some coordination between the teams but worst of all if you're in a regulated industry how do you audit this",
    "start": "949139",
    "end": "956160"
  },
  {
    "text": "if somebody comes to you three months later and they say we had a breach here",
    "start": "956160",
    "end": "961740"
  },
  {
    "text": "three months ago we don't know where but somehow some user got access to some data that we're",
    "start": "961740",
    "end": "968880"
  },
  {
    "text": "not supposed to right how do we how do we audit this",
    "start": "968880",
    "end": "974160"
  },
  {
    "text": "system we have seven different implementations they all do audit logging or decision logging in their own",
    "start": "974160",
    "end": "980459"
  },
  {
    "text": "unique way they all have their own unique implementations their own bugs and so on how do we audit that",
    "start": "980459",
    "end": "988699"
  },
  {
    "text": "well you can't so that is one problem uh that Still",
    "start": "988920",
    "end": "995220"
  },
  {
    "text": "Remains we have authorization logic embedded inside of our application if you have an entirely",
    "start": "995220",
    "end": "1001959"
  },
  {
    "text": "uh unified or uh architecture like you all have you we only have like Java in",
    "start": "1001959",
    "end": "1008720"
  },
  {
    "text": "our organization whatnot you this might not be as much of a problem but eventually I think it will be",
    "start": "1008720",
    "end": "1016579"
  },
  {
    "text": "and I think like with one one of the kind of uh one of the clean benefits of",
    "start": "1016579",
    "end": "1021980"
  },
  {
    "text": "microservices basically that it allows a greater level of Team autonomy",
    "start": "1021980",
    "end": "1027380"
  },
  {
    "text": "so one team should be able to make decisions on languages or Frameworks",
    "start": "1027380",
    "end": "1032480"
  },
  {
    "text": "without having to ask around what's what's the uh last one in the",
    "start": "1032480",
    "end": "1038959"
  },
  {
    "text": "organization so I think this this type of organization is not it's not uncommon",
    "start": "1038959",
    "end": "1045438"
  },
  {
    "text": "it's not unique it's basically where most of the industry is moving",
    "start": "1045439",
    "end": "1051220"
  },
  {
    "text": "so oppa finally what is open policy agent it's an open",
    "start": "1051980",
    "end": "1059000"
  },
  {
    "text": "source general purpose policy ending it provides a unified tool set and a",
    "start": "1059000",
    "end": "1064400"
  },
  {
    "text": "framework to work with policy and when I say policy it basically just means as a set of rules",
    "start": "1064400",
    "end": "1071179"
  },
  {
    "text": "so anywhere you have rules and of course what is authorization if not rules",
    "start": "1071179",
    "end": "1076460"
  },
  {
    "text": "that's basically what authorization is it just says if you are a doctor you can",
    "start": "1076460",
    "end": "1081860"
  },
  {
    "text": "see you can retrieve the medical journal of your patients but not of uh some",
    "start": "1081860",
    "end": "1087679"
  },
  {
    "text": "other patients that's basically a policy right and the policy subset of rules but it",
    "start": "1087679",
    "end": "1094280"
  },
  {
    "text": "doesn't have to be access control it could be policies around infrastructure",
    "start": "1094280",
    "end": "1099799"
  },
  {
    "text": "it could say you can't deploy on Fridays from the pub",
    "start": "1099799",
    "end": "1105740"
  },
  {
    "text": "or you can't you can't provision S3 buckets unless they have this or that",
    "start": "1105740",
    "end": "1111080"
  },
  {
    "text": "security configuration or you can't uh you can't say Cube CDL apply on on some",
    "start": "1111080",
    "end": "1118520"
  },
  {
    "text": "resource where it's not properly labeled with a team name or whatnot so policy is",
    "start": "1118520",
    "end": "1124340"
  },
  {
    "text": "is a is a broad topic but we'll mainly focus on access control and",
    "start": "1124340",
    "end": "1129620"
  },
  {
    "text": "authorization today but oppa is does not uh importantly it's a general purpose policy ending so it",
    "start": "1129620",
    "end": "1136280"
  },
  {
    "text": "does not decide this is this is the use case for you to to use this tool for if",
    "start": "1136280",
    "end": "1141799"
  },
  {
    "text": "you want to use it for all of these purposes all the better",
    "start": "1141799",
    "end": "1146500"
  },
  {
    "text": "so uh one kind of key item with oppa is this idea of",
    "start": "1147140",
    "end": "1153740"
  },
  {
    "text": "decoupling and for me as an identity nerd",
    "start": "1153740",
    "end": "1159559"
  },
  {
    "text": "it's basically what what I came from remember how this how we kind of decoupled identity we move that to a",
    "start": "1159559",
    "end": "1165440"
  },
  {
    "text": "separate system we said like the user can go there and do this",
    "start": "1165440",
    "end": "1170960"
  },
  {
    "text": "so we didn't have to deal with that in our services and uh even if you're not an identity",
    "start": "1170960",
    "end": "1176539"
  },
  {
    "text": "nerd you probably like that concept like I don't have to deal with this anymore we",
    "start": "1176539",
    "end": "1182720"
  },
  {
    "text": "just delegated out to some other system that's the best thing you can do you just delegate delegate delegate you got",
    "start": "1182720",
    "end": "1189080"
  },
  {
    "text": "a lot of tasks here just send them elsewhere so that concept of Delegation or",
    "start": "1189080",
    "end": "1196520"
  },
  {
    "text": "decoupling is uh is a key concept of oppa",
    "start": "1196520",
    "end": "1203120"
  },
  {
    "text": "so we wanted we want to kind of break out the policy or the decision making and move that out from your application",
    "start": "1203120",
    "end": "1209539"
  },
  {
    "text": "and that's basically the only way we can do that in a unified manner if we have microservices in all these different",
    "start": "1209539",
    "end": "1216440"
  },
  {
    "text": "languages we separate policy decision from enforcement it's another uh concept of",
    "start": "1216440",
    "end": "1224299"
  },
  {
    "text": "it basically means oppa makes decisions it says this user should not be allowed based on",
    "start": "1224299",
    "end": "1230419"
  },
  {
    "text": "the input I got here but it doesn't do anything with that it's just going to tell the service and then it's up to",
    "start": "1230419",
    "end": "1236539"
  },
  {
    "text": "that service how it should act on that policies the written in a declarative",
    "start": "1236539",
    "end": "1242900"
  },
  {
    "text": "language called Rego we'll take a look at that in a in a few minutes",
    "start": "1242900",
    "end": "1247940"
  },
  {
    "text": "and again since it's a general purpose policy Indian we'll see use cases like kubernetes admission control and I'm",
    "start": "1247940",
    "end": "1254000"
  },
  {
    "text": "sure a few of you have have used it for that purpose microservice or app authorization",
    "start": "1254000",
    "end": "1259240"
  },
  {
    "text": "infrastructure data source filtering CI CD pipeline policies",
    "start": "1259240",
    "end": "1264380"
  },
  {
    "text": "and much more",
    "start": "1264380",
    "end": "1267280"
  },
  {
    "text": "so to kind of summarize the product in the tweet",
    "start": "1270620",
    "end": "1275780"
  },
  {
    "text": "from County height or the open policything project is super dope I finally have a framework that helps me",
    "start": "1275780",
    "end": "1281299"
  },
  {
    "text": "translate written security policies into executable code for every layer of the stack",
    "start": "1281299",
    "end": "1286940"
  },
  {
    "text": "that's basically what what we're all about how does it work",
    "start": "1286940",
    "end": "1294020"
  },
  {
    "text": "how can it work with like so many different Technologies and so many very varied fields",
    "start": "1294020",
    "end": "1301700"
  },
  {
    "text": "I think like the key one key to that is basically this it's the policy decision model it's a very simple one it kind of",
    "start": "1301700",
    "end": "1307820"
  },
  {
    "text": "has to be in order to integrate with all these systems so we basically have a service that",
    "start": "1307820",
    "end": "1313760"
  },
  {
    "text": "could be our microservice or it could be anything really it could be a Kafka",
    "start": "1313760",
    "end": "1319460"
  },
  {
    "text": "broker it could be an API Gateway it could be a Linux Pam audio",
    "start": "1319460",
    "end": "1325220"
  },
  {
    "text": "could be yeah what have you it could be basically anything that Services a request from a user or a client",
    "start": "1325220",
    "end": "1332179"
  },
  {
    "text": "when that requests when we re receive that request",
    "start": "1332179",
    "end": "1337400"
  },
  {
    "text": "we say hey rather than trying to to decide whether we should allow this or not I'm going to delegate that",
    "start": "1337400",
    "end": "1344000"
  },
  {
    "text": "responsibility to Oppa and I do that by sending a policy query",
    "start": "1344000",
    "end": "1350620"
  },
  {
    "text": "basically saying I have this user I have this data and I have this endpoint or this",
    "start": "1350679",
    "end": "1357679"
  },
  {
    "text": "resource this action should we allow that or not that query is just a a piece",
    "start": "1357679",
    "end": "1364100"
  },
  {
    "text": "of Json data so oppa it takes a look at whatever policy we provided it and potentially",
    "start": "1364100",
    "end": "1371539"
  },
  {
    "text": "some other external data it makes a decision and it responds with",
    "start": "1371539",
    "end": "1377900"
  },
  {
    "text": "a a response in which is also just Json and of course any service",
    "start": "1377900",
    "end": "1385159"
  },
  {
    "text": "written in the last 20 years or so as a Json parser Jason marshaller",
    "start": "1385159",
    "end": "1392780"
  },
  {
    "text": "that's basically uh how we how we communicate between services",
    "start": "1392780",
    "end": "1398360"
  },
  {
    "text": "and most of these Services talk HTTP and rest so it's a very simple model but it",
    "start": "1398360",
    "end": "1405440"
  },
  {
    "text": "works surprisingly well across a whole set of of systems",
    "start": "1405440",
    "end": "1412900"
  },
  {
    "text": "so as for running oppa Opa itself it's it's a self-contained lightweight binary",
    "start": "1413120",
    "end": "1418340"
  },
  {
    "text": "I think it's like 50 megabytes or so so fairly lightweight so ideally again we're talking about",
    "start": "1418340",
    "end": "1424400"
  },
  {
    "text": "distributed system here so it's not like you have uh one big oppa server running somewhere",
    "start": "1424400",
    "end": "1431840"
  },
  {
    "text": "you will have hundreds of opas for each instance of your application you're gonna have at least one oppa because you",
    "start": "1431840",
    "end": "1438140"
  },
  {
    "text": "want these decisions to be passed you don't want to go uh you don't want to go a long distance to query oppa for",
    "start": "1438140",
    "end": "1445280"
  },
  {
    "text": "decisions it should be it should be uh as close as native as possible",
    "start": "1445280",
    "end": "1451039"
  },
  {
    "text": "so that usually entails run that you run over on the same host uh either it's a Daemon or maybe a sidecar if you're",
    "start": "1451039",
    "end": "1457820"
  },
  {
    "text": "familiar with with that from kubernetes and applications commonly communicate",
    "start": "1457820",
    "end": "1463039"
  },
  {
    "text": "with oppa across a rest API there's a go Library available for go applications there's Envoy istio",
    "start": "1463039",
    "end": "1470480"
  },
  {
    "text": "Integrations uh there's web assembly intermediate representation and and those are some of the topics we'll",
    "start": "1470480",
    "end": "1477200"
  },
  {
    "text": "explore in a bit just go back in going back here to the",
    "start": "1477200",
    "end": "1484220"
  },
  {
    "text": "topic of policy these policies are written in a declarative high level language it's",
    "start": "1484220",
    "end": "1489559"
  },
  {
    "text": "called Rego and again a policy consists of any number of rules as the exactly as of",
    "start": "1489559",
    "end": "1497059"
  },
  {
    "text": "what a policy is in real life and uh these rules when evaluated they",
    "start": "1497059",
    "end": "1503659"
  },
  {
    "text": "returned Json values so I could be a Boolean one which is pretty common you're gonna you",
    "start": "1503659",
    "end": "1509600"
  },
  {
    "text": "you're going to ask should the user be allowed or not it's a true or false a Boolean decision",
    "start": "1509600",
    "end": "1515120"
  },
  {
    "text": "but it could also be an object where we say no because the user must have this or that role in",
    "start": "1515120",
    "end": "1523760"
  },
  {
    "text": "order to to do this or it could be a set of obligations in order you must first do pass this or",
    "start": "1523760",
    "end": "1530720"
  },
  {
    "text": "that you must first log in using a multi-factor authentication or whatnot",
    "start": "1530720",
    "end": "1537580"
  },
  {
    "text": "uh so oppa comes with a unit test framework because of course policy is",
    "start": "1537740",
    "end": "1542840"
  },
  {
    "text": "code we treat policy as code one of the virtues of code is of course that it's testable",
    "start": "1542840",
    "end": "1548419"
  },
  {
    "text": "and this is uh even more important when you can when you're dealing with these",
    "start": "1548419",
    "end": "1554720"
  },
  {
    "text": "type of policies it's a fairly well documented project I",
    "start": "1554720",
    "end": "1560179"
  },
  {
    "text": "must say I kind of I've done a lot of that documentation myself so uh I guess",
    "start": "1560179",
    "end": "1565520"
  },
  {
    "text": "I'm biased but I think we we have a reached a pretty good level of our documentation there's also a playground",
    "start": "1565520",
    "end": "1571880"
  },
  {
    "text": "so you can try it out without without having to download anything",
    "start": "1571880",
    "end": "1577580"
  },
  {
    "text": "so how many of you have worked with Opa and orego in the past okay hands but but that's good and",
    "start": "1577580",
    "end": "1584960"
  },
  {
    "text": "because we're gonna we're gonna show here uh",
    "start": "1584960",
    "end": "1590659"
  },
  {
    "text": "I think I'm gonna have to zoom in here let's see",
    "start": "1590659",
    "end": "1596259"
  },
  {
    "text": "so what we're going to do here is we're gonna write a simple policy just to kind of get a feel for uh what",
    "start": "1596900",
    "end": "1603919"
  },
  {
    "text": "the policy language looked like and so on so I'm just gonna say that save it as a policy.rego",
    "start": "1603919",
    "end": "1610340"
  },
  {
    "text": "the first thing we do is we provide a package I'm just going to call it policy so this this would be similar to a",
    "start": "1610340",
    "end": "1616700"
  },
  {
    "text": "namespace or whatnot which you have in other languages or maybe a module or whatnot",
    "start": "1616700",
    "end": "1622700"
  },
  {
    "text": "so we have we have a package we have a policy what is a policy it's a",
    "start": "1622700",
    "end": "1627860"
  },
  {
    "text": "it's a series of rules so the first thing we likely want to do here is we want to offer a rule",
    "start": "1627860",
    "end": "1634340"
  },
  {
    "text": "we might call that one allow so the anatomy of a rule it's basically this it has a name",
    "start": "1634340",
    "end": "1641240"
  },
  {
    "text": "and it has it has some condition that needs to be if the if the rule evaluates to true",
    "start": "1641240",
    "end": "1649880"
  },
  {
    "text": "or ah let me rephrase that so a rule is basically a conditional",
    "start": "1649880",
    "end": "1655279"
  },
  {
    "text": "assignment so if you if you're uh if you're everybody knows what assignment",
    "start": "1655279",
    "end": "1661100"
  },
  {
    "text": "is so you might say allow is true I just mean we assign the value true to uh to the allow room",
    "start": "1661100",
    "end": "1667580"
  },
  {
    "text": "but rules are conditional so it means allow is true if",
    "start": "1667580",
    "end": "1674059"
  },
  {
    "text": "we write it like this if and then follows the conditions which",
    "start": "1674059",
    "end": "1680900"
  },
  {
    "text": "all need to be true in order for this this value to be assigned",
    "start": "1680900",
    "end": "1688159"
  },
  {
    "text": "so you can basically think of it as allow is equal to true if and then all the conditions in the block so if we",
    "start": "1688159",
    "end": "1694760"
  },
  {
    "text": "were to do like something very silly which we know to be true and we go back here and we we evaluate",
    "start": "1694760",
    "end": "1703220"
  },
  {
    "text": "this rule we say oppa eval and we say policy",
    "start": "1703220",
    "end": "1711200"
  },
  {
    "text": "Rodrigo data is it in bigger",
    "start": "1711200",
    "end": "1718480"
  },
  {
    "text": "oh I'm just gonna make that",
    "start": "1719600",
    "end": "1726080"
  },
  {
    "text": "prettier let's call that pretty okay so now we evaluated that we know that uh",
    "start": "1726080",
    "end": "1732260"
  },
  {
    "text": "one is equal to one so when we evaluate the LR rule uh we know that's going to be true",
    "start": "1732260",
    "end": "1738440"
  },
  {
    "text": "if we add something else here and which we know is not true",
    "start": "1738440",
    "end": "1744200"
  },
  {
    "text": "and again one thing to note here is that these conditions they're ended together so in order for uh the rule to evaluate",
    "start": "1744200",
    "end": "1752000"
  },
  {
    "text": "to true they all need to be true so you can you can think of each line here as",
    "start": "1752000",
    "end": "1757640"
  },
  {
    "text": "having an uh being added together",
    "start": "1757640",
    "end": "1763520"
  },
  {
    "text": "so so what now we have uh we the rule should no longer be true right because",
    "start": "1763520",
    "end": "1768980"
  },
  {
    "text": "we know one is not equal to true so what we get back here is nothing it didn't say false it's just nothing so",
    "start": "1768980",
    "end": "1775700"
  },
  {
    "text": "when you evaluate the rule and it's it's not true it's like an empty void",
    "start": "1775700",
    "end": "1781340"
  },
  {
    "text": "so what we what we commonly do here we say that by default allow",
    "start": "1781340",
    "end": "1786580"
  },
  {
    "text": "should be equal to false that's a pretty reasonable uh thing to",
    "start": "1786580",
    "end": "1792140"
  },
  {
    "text": "want in in Access Control right if you don't if you don't know how to do",
    "start": "1792140",
    "end": "1797480"
  },
  {
    "text": "something or it doesn't check out just fall back to false should not be that",
    "start": "1797480",
    "end": "1803120"
  },
  {
    "text": "should not be possible now of course in a real scenario you",
    "start": "1803120",
    "end": "1808159"
  },
  {
    "text": "wouldn't just compare integers of known values like this you'd probably want",
    "start": "1808159",
    "end": "1814220"
  },
  {
    "text": "something from the service the service sent us this request so we better I we",
    "start": "1814220",
    "end": "1819740"
  },
  {
    "text": "probably have some data to deal with so what I'm going to do here is I'm going to mock",
    "start": "1819740",
    "end": "1825980"
  },
  {
    "text": "what that might look like again input is just Json",
    "start": "1825980",
    "end": "1831640"
  },
  {
    "text": "so let's create some Json we might have a request",
    "start": "1832159",
    "end": "1837380"
  },
  {
    "text": "and that request probably has a method this could be a get one or the request",
    "start": "1837380",
    "end": "1843679"
  },
  {
    "text": "probably has a path as well and that would probably look something like users Anders",
    "start": "1843679",
    "end": "1850700"
  },
  {
    "text": "I'm gonna I'm gonna simplify this a bit here and make that an array of each path",
    "start": "1850700",
    "end": "1856820"
  },
  {
    "text": "component I think that makes for makes for an easier",
    "start": "1856820",
    "end": "1863260"
  },
  {
    "text": "data to work with Okay so we have a request we have a get request to the",
    "start": "1863260",
    "end": "1868580"
  },
  {
    "text": "user's endpoint where somebody is trying to read my data",
    "start": "1868580",
    "end": "1874159"
  },
  {
    "text": "and of course we have a user making this request as well so that user has some ID",
    "start": "1874159",
    "end": "1882020"
  },
  {
    "text": "I don't know abc123 again an epoc value can't really use that the user might",
    "start": "1882020",
    "end": "1887779"
  },
  {
    "text": "have a name as well so that user is Jane So Jane is trying",
    "start": "1887779",
    "end": "1893360"
  },
  {
    "text": "to read uh another user which could be might be",
    "start": "1893360",
    "end": "1898940"
  },
  {
    "text": "might be fine uh so we're basically going to change this here and we're going to use the input so",
    "start": "1898940",
    "end": "1904820"
  },
  {
    "text": "input to submit it's a global variable which we can reference anywhere from our policies",
    "start": "1904820",
    "end": "1910580"
  },
  {
    "text": "and we used like a common dot notation in order to do that so we just say input dot request",
    "start": "1910580",
    "end": "1917600"
  },
  {
    "text": "is equal to get and in this case",
    "start": "1917600",
    "end": "1923419"
  },
  {
    "text": "if we if we save this by now and we have reevaluated it's going to be true because that was uh that was a get",
    "start": "1923419",
    "end": "1930080"
  },
  {
    "text": "request but it but it's obviously going to be true for any get request so we might say that if the input path",
    "start": "1930080",
    "end": "1938899"
  },
  {
    "text": "component oops sorry this is equal to users",
    "start": "1938899",
    "end": "1946960"
  },
  {
    "text": "so if you if you're only reading uh on the user's endpoint and there's no more",
    "start": "1947120",
    "end": "1954080"
  },
  {
    "text": "data provided you're basically trying to list all the users so if we if we just remove this here",
    "start": "1954080",
    "end": "1962240"
  },
  {
    "text": "we could say that this policy should allow it anyone can read just just get the list of users",
    "start": "1962240",
    "end": "1968840"
  },
  {
    "text": "so let's see if we are allowed to that to do that no we're not because I did not provide",
    "start": "1968840",
    "end": "1976480"
  },
  {
    "text": "did I oh thanks",
    "start": "1977179",
    "end": "1983860"
  },
  {
    "text": "that's good",
    "start": "1984200",
    "end": "1987398"
  },
  {
    "text": "yeah sorry I wasn't a question it was someone there with good eyes noticing I",
    "start": "1991760",
    "end": "1997039"
  },
  {
    "text": "mistyped um the path here so you're absolutely right so we want to",
    "start": "1997039",
    "end": "2003220"
  },
  {
    "text": "check the request method which is equal that it's equal to get that the first path component is equal to users",
    "start": "2003220",
    "end": "2009760"
  },
  {
    "text": "and now with input provided we see that yes open made that the decision it says yes this is true",
    "start": "2009760",
    "end": "2017500"
  },
  {
    "text": "so what about what if the what if it's a put request or a delete request",
    "start": "2017500",
    "end": "2022600"
  },
  {
    "text": "what we do then how do we add more rules well we just repeat what we just did we just say allow it's equal to true and",
    "start": "2022600",
    "end": "2030940"
  },
  {
    "text": "then we add more conditions so uh inside of these blocks uh the rule",
    "start": "2030940",
    "end": "2037000"
  },
  {
    "text": "bodies we add together uh the conditions but outside of it we or them so if one",
    "start": "2037000",
    "end": "2043240"
  },
  {
    "text": "of the allow rules is equal to true we say that the the rule itself is true",
    "start": "2043240",
    "end": "2049658"
  },
  {
    "text": "so it's input requests see if I get it right this time it's",
    "start": "2049659",
    "end": "2055300"
  },
  {
    "text": "equal to put then we might want some more conditions",
    "start": "2055300",
    "end": "2060638"
  },
  {
    "text": "to be true I don't want the user Jane to be able to modify",
    "start": "2060639",
    "end": "2067118"
  },
  {
    "text": "my user or somebody else but she should be able to modify her own data",
    "start": "2067119",
    "end": "2073300"
  },
  {
    "text": "so we're gonna say input request path 0 is equal or the first",
    "start": "2073300",
    "end": "2082419"
  },
  {
    "text": "half component should be users and the next PATH component",
    "start": "2082419",
    "end": "2088000"
  },
  {
    "text": "should be the input request user name",
    "start": "2088000",
    "end": "2094720"
  },
  {
    "text": "so we're basically saying if this is a put request it should be allowed if the",
    "start": "2094720",
    "end": "2100720"
  },
  {
    "text": "path component corresp corresponds so if this component here",
    "start": "2100720",
    "end": "2106440"
  },
  {
    "text": "corresponds oh to this value down here",
    "start": "2106440",
    "end": "2111820"
  },
  {
    "text": "we should let it pass we're going to have to change the method",
    "start": "2111820",
    "end": "2116920"
  },
  {
    "text": "here into input as well there's a typo again",
    "start": "2116920",
    "end": "2124619"
  },
  {
    "text": "all right God floppy",
    "start": "2126339",
    "end": "2131260"
  },
  {
    "text": "oh you sold it so also a good demonstration on why you",
    "start": "2131859",
    "end": "2137560"
  },
  {
    "text": "want unit tests or policies right so if we are not to change this the",
    "start": "2137560",
    "end": "2143380"
  },
  {
    "text": "input here so uh our user Jane here she's trying to modify my data",
    "start": "2143380",
    "end": "2151480"
  },
  {
    "text": "we see that that's no longer allowed so that's a that's a really quick demonstration of Rego just for you to",
    "start": "2151480",
    "end": "2158920"
  },
  {
    "text": "get a sense of like what policy offering is about policy is again a set of rules",
    "start": "2158920",
    "end": "2165400"
  },
  {
    "text": "rules are basically just primitive assertions on on things like this so",
    "start": "2165400",
    "end": "2172119"
  },
  {
    "text": "it's basically uh a more convenient way of writing like if else statements but",
    "start": "2172119",
    "end": "2179079"
  },
  {
    "text": "it's it's kind of tailor made for that purpose where you kind of Flip or invert",
    "start": "2179079",
    "end": "2184359"
  },
  {
    "text": "the logic and you first say allow is true if you don't say if this and that and wrap condition because that's kind",
    "start": "2184359",
    "end": "2190780"
  },
  {
    "text": "of the heart of our problem if you were to write it like that you'd end up with",
    "start": "2190780",
    "end": "2196480"
  },
  {
    "text": "really long if else statements and then just uh tiny little assignment in the",
    "start": "2196480",
    "end": "2201880"
  },
  {
    "text": "bottom so we kind of inverted that but for most developers this should be fairly familiar uh at least given some",
    "start": "2201880",
    "end": "2209500"
  },
  {
    "text": "time but again of course uh Rego is much more",
    "start": "2209500",
    "end": "2214540"
  },
  {
    "text": "than this we have like 150 built-in functions for doing things like Json web token verification or decoding",
    "start": "2214540",
    "end": "2222520"
  },
  {
    "text": "uh string manipulation uh whatever you might need in order to work with an",
    "start": "2222520",
    "end": "2229420"
  },
  {
    "text": "advanced set of inputs and a vast set of policies",
    "start": "2229420",
    "end": "2234480"
  },
  {
    "text": "foreign",
    "start": "2235720",
    "end": "2238078"
  },
  {
    "text": "so what do we do again we we know what open Rego is",
    "start": "2241359",
    "end": "2246460"
  },
  {
    "text": "so that's good we now can inject it at inside each of these services",
    "start": "2246460",
    "end": "2252220"
  },
  {
    "text": "data from permissions we might still need data in order to make these decisions that's",
    "start": "2252220",
    "end": "2258540"
  },
  {
    "text": "propagated out to open and we kind of we solved all of these",
    "start": "2258540",
    "end": "2264820"
  },
  {
    "text": "problems that we set up to solve we no longer have our Precision logic embedded in in our applications so we can write",
    "start": "2264820",
    "end": "2273220"
  },
  {
    "text": "policy from from one place and deploy it to all services in the stack they might",
    "start": "2273220",
    "end": "2279400"
  },
  {
    "text": "be written in any number of languages it doesn't matter because we have one unified way of working with policy",
    "start": "2279400",
    "end": "2285280"
  },
  {
    "text": "across our whole stack",
    "start": "2285280",
    "end": "2288900"
  },
  {
    "text": "so distributed authorization solved pretty much you know and of course one",
    "start": "2290859",
    "end": "2296200"
  },
  {
    "text": "change I did here so it's in the real world scenario you probably would not have a database pushing data you'd have",
    "start": "2296200",
    "end": "2304000"
  },
  {
    "text": "something like a control pane or a service that would do that who are you so it would it would fetch",
    "start": "2304000",
    "end": "2311140"
  },
  {
    "text": "permissions from the database it would also fetch policies distribute that to Oppa so you got this kind of nice",
    "start": "2311140",
    "end": "2316720"
  },
  {
    "text": "decoupled model where a change to policy does not mean that you have to redeploy",
    "start": "2316720",
    "end": "2322240"
  },
  {
    "text": "your applications that's just an asynchronous process which goes on and",
    "start": "2322240",
    "end": "2328119"
  },
  {
    "text": "on and on and on these applications have no idea what the user is what a rule is",
    "start": "2328119",
    "end": "2334119"
  },
  {
    "text": "what permissions are required that's dealt with by oppa yes question",
    "start": "2334119",
    "end": "2341460"
  },
  {
    "text": "okay yeah preferably oppa",
    "start": "2348040",
    "end": "2353320"
  },
  {
    "text": "since if if you have a lot of complexities in your policies yeah of course we showed like a trivial example",
    "start": "2353320",
    "end": "2359680"
  },
  {
    "text": "of a policy but there are policies that are like 5 000 lines orego so there are",
    "start": "2359680",
    "end": "2366400"
  },
  {
    "text": "certainly examples of advanced policy but if you have that type of advanced policy just means like if you were to do",
    "start": "2366400",
    "end": "2373119"
  },
  {
    "text": "that in your services then you're going to have to solve that in all these different systems and the more advanced",
    "start": "2373119",
    "end": "2379300"
  },
  {
    "text": "it gets the harder it's going to be to do correctly in different systems",
    "start": "2379300",
    "end": "2385839"
  },
  {
    "text": "okay quick advertisement styra that's the commercial control pane",
    "start": "2385839",
    "end": "2391720"
  },
  {
    "text": "that's it that's end of the vendor page so okay we solved authorization",
    "start": "2391720",
    "end": "2400119"
  },
  {
    "text": "for 95 all deployments if you came this far you're in a good",
    "start": "2400119",
    "end": "2406540"
  },
  {
    "text": "place and most organizations are nowhere near this place",
    "start": "2406540",
    "end": "2413680"
  },
  {
    "text": "but even if you came this far there might still be some issues how does this perform",
    "start": "2413680",
    "end": "2420880"
  },
  {
    "text": "and for the absolute large majority of deployments it's good enough",
    "start": "2420880",
    "end": "2426960"
  },
  {
    "text": "so any overhead we might have had before where we used to query the database or query something uh elsewhere that's gone",
    "start": "2429700",
    "end": "2438099"
  },
  {
    "text": "what we do still have if if you're all familiar with kubernetes I I guess these would be pods",
    "start": "2438099",
    "end": "2444099"
  },
  {
    "text": "so you'd have one one uh one container running your application and inside of that pod you'd also have",
    "start": "2444099",
    "end": "2450880"
  },
  {
    "text": "oppa that's the the pattern which is called like the sidecar pattern",
    "start": "2450880",
    "end": "2456520"
  },
  {
    "text": "and when you run two containers in the same pod they will they will run on the same host",
    "start": "2456520",
    "end": "2463780"
  },
  {
    "text": "so when you Curry oppa that's going to be on the localhost interface so while",
    "start": "2463780",
    "end": "2469240"
  },
  {
    "text": "there is a network call it it's questionable uh if that can be really considered a network but it's still like",
    "start": "2469240",
    "end": "2476859"
  },
  {
    "text": "a rest call to Oppa so whatever performance penalty that is",
    "start": "2476859",
    "end": "2483099"
  },
  {
    "text": "it is in that call is going to be contained inside of our pods so no longer these arrows on the outside",
    "start": "2483099",
    "end": "2491880"
  },
  {
    "text": "so the absolute most common uh model and it says Java here but it could be any",
    "start": "2491980",
    "end": "2497320"
  },
  {
    "text": "programming language we're now inside of the pod we have a Java app or python app or",
    "start": "2497320",
    "end": "2502960"
  },
  {
    "text": "whatnot it's sending queries inside of the pod on the localhost interface that's going to be pretty fast I think",
    "start": "2502960",
    "end": "2509920"
  },
  {
    "text": "the overhead of that operation is commonly a millisecond or two",
    "start": "2509920",
    "end": "2515400"
  },
  {
    "text": "which again it's fine for most applications and and why it says 1 to 50 here is because obviously",
    "start": "2515619",
    "end": "2522640"
  },
  {
    "text": "not everyone is running kubernetes there might be examples of where you just can't run up on that same host",
    "start": "2522640",
    "end": "2530200"
  },
  {
    "text": "so you might need to go elsewhere to get a decision and then like the overhead is quickly going to add up",
    "start": "2530200",
    "end": "2537599"
  },
  {
    "text": "but again one millisecond is that so much ah not really for and again for for",
    "start": "2537940",
    "end": "2544180"
  },
  {
    "text": "your basic kind of banking app or whatnot it's not gonna matter",
    "start": "2544180",
    "end": "2550260"
  },
  {
    "text": "but if you have hundreds of services all all uh kind of included in the chain of",
    "start": "2551200",
    "end": "2557740"
  },
  {
    "text": "requests and they all add one milliseconds of latency just to do authorization",
    "start": "2557740",
    "end": "2563380"
  },
  {
    "text": "and well then you have hundreds of milliseconds just for doing authorization",
    "start": "2563380",
    "end": "2569520"
  },
  {
    "text": "so how can we solve that one one minute can I have one way of approaching this is",
    "start": "2571060",
    "end": "2576760"
  },
  {
    "text": "webassembly oppa allows you to say open build I want",
    "start": "2576760",
    "end": "2582460"
  },
  {
    "text": "to build I want to take this policy I wrote I just wrote and I want to converted it or I compile it to webassembly",
    "start": "2582460",
    "end": "2588760"
  },
  {
    "text": "then I can take that compiled webassembly and I can run it in any open any awesome runtime",
    "start": "2588760",
    "end": "2595180"
  },
  {
    "text": "this is going to shave off some latency it's still a run time so it's not it's not really native but it's but it's",
    "start": "2595180",
    "end": "2601720"
  },
  {
    "text": "getting closer and of course web browsers that's the",
    "start": "2601720",
    "end": "2609339"
  },
  {
    "text": "most common runtime the most well-known runtime everybody knows Wasim is originally found in web browsers but",
    "start": "2609339",
    "end": "2616660"
  },
  {
    "text": "most languages today allow you to integrate with a with a Watson runtime so if you if you're",
    "start": "2616660",
    "end": "2623740"
  },
  {
    "text": "running I don't know.net or whatnot you can rather than query Opa over a rest API",
    "start": "2623740",
    "end": "2629440"
  },
  {
    "text": "you can have that policy evaluated inside of your awesome runtime",
    "start": "2629440",
    "end": "2635200"
  },
  {
    "text": "it's gonna it's gonna be a somewhat faster model but it's going to be way more complex",
    "start": "2635200",
    "end": "2641020"
  },
  {
    "text": "because you can't just you can't just pull out that policy and see what's what's going on in there",
    "start": "2641020",
    "end": "2648040"
  },
  {
    "text": "if you're uh since Opa is written in go and your application is written and go",
    "start": "2648040",
    "end": "2654099"
  },
  {
    "text": "then you have the benefit of just you you can integrate it as a library and then we're back to where we started",
    "start": "2654099",
    "end": "2661119"
  },
  {
    "text": "with the monolith one we just have a function call can't get much faster than that so",
    "start": "2661119",
    "end": "2666339"
  },
  {
    "text": "there's basically no overhead at all in terms of of the request they're still they're it's",
    "start": "2666339",
    "end": "2673420"
  },
  {
    "text": "still going to take some time to evaluate the policy but that's unavoidable so our integration options here and this",
    "start": "2673420",
    "end": "2681400"
  },
  {
    "text": "does it mean like this is worse and this is best this is only in terms of latency",
    "start": "2681400",
    "end": "2686980"
  },
  {
    "text": "so obviously the further we get away from a service the longer it's going to take",
    "start": "2686980",
    "end": "2693040"
  },
  {
    "text": "a while some runtime is going to be somewhat faster but best of all is of course if we can",
    "start": "2693040",
    "end": "2698980"
  },
  {
    "text": "can have a native or integrated solution but of course not at any Services",
    "start": "2698980",
    "end": "2705819"
  },
  {
    "text": "written in gold so in terms of speed native integration",
    "start": "2705819",
    "end": "2711760"
  },
  {
    "text": "is what we aim for but of course not all not everything is about speed it could",
    "start": "2711760",
    "end": "2718420"
  },
  {
    "text": "be some other interesting things when we go native that we can't really do with",
    "start": "2718420",
    "end": "2724960"
  },
  {
    "text": "oppa today so a few uh requests that I've had",
    "start": "2724960",
    "end": "2730359"
  },
  {
    "text": "gotten recently it's like one from I think it",
    "start": "2730359",
    "end": "2736119"
  },
  {
    "text": "was Volvo where they want to run Opa in cars just like terrifying",
    "start": "2736119",
    "end": "2741819"
  },
  {
    "text": "see all some of my typos they're like wow you want you want that in cars but",
    "start": "2741819",
    "end": "2747220"
  },
  {
    "text": "it was it was apparently not for the steering system it was like just some something else so",
    "start": "2747220",
    "end": "2752440"
  },
  {
    "text": "so say no we probably can't do that it's like super limited what what kind of architecture they have like very limited",
    "start": "2752440",
    "end": "2758740"
  },
  {
    "text": "memory and so on so no we can probably not run Opa there",
    "start": "2758740",
    "end": "2763780"
  },
  {
    "text": "today can we run this on this microcontroller no can't so like a binary it's 50 megabytes and you only",
    "start": "2763780",
    "end": "2770260"
  },
  {
    "text": "have like two megabytes I don't know can we run Opa inside of the Linux kernel",
    "start": "2770260",
    "end": "2776800"
  },
  {
    "text": "which is like C nope can't",
    "start": "2776800",
    "end": "2781839"
  },
  {
    "text": "and so on and so forth we can't we can't really go native with oppa it's a it's",
    "start": "2781839",
    "end": "2786940"
  },
  {
    "text": "like for for most of these kind of kubernetes and like these type of deployment which I'm sure most of you",
    "start": "2786940",
    "end": "2793240"
  },
  {
    "text": "will be working with that's it's fine but there are a few of these kind of more extreme requirements where we can't",
    "start": "2793240",
    "end": "2800200"
  },
  {
    "text": "really uh can't really run Opa today which is a shame",
    "start": "2800200",
    "end": "2805420"
  },
  {
    "text": "so can we have Opa everywhere yes we can",
    "start": "2805420",
    "end": "2811000"
  },
  {
    "text": "so since I think like five or six releases ago when we released monthly so it's basically a half a year ago",
    "start": "2811000",
    "end": "2818560"
  },
  {
    "text": "a new feature uh of oppa is that we can in addition to warsim we can generate an",
    "start": "2818560",
    "end": "2825940"
  },
  {
    "text": "intermediate representation and from the Wikipedia article on the topic it says an intermediate",
    "start": "2825940",
    "end": "2831579"
  },
  {
    "text": "representation it's the data structure or code used internally by a compiler or virtual machine to represent source code",
    "start": "2831579",
    "end": "2837940"
  },
  {
    "text": "an IR is designed to be conductive for further processing such as optimization",
    "start": "2837940",
    "end": "2843040"
  },
  {
    "text": "and translation that's that sounds like what we're going for right so a good IR must be accurate capable of",
    "start": "2843040",
    "end": "2850000"
  },
  {
    "text": "representing the source code without loss of information and independent of any particular Source or Target language",
    "start": "2850000",
    "end": "2856780"
  },
  {
    "text": "great that's what we want we want to be native independent of any particular Source or Target language",
    "start": "2856780",
    "end": "2862960"
  },
  {
    "text": "so this this seems like it it's it",
    "start": "2862960",
    "end": "2868119"
  },
  {
    "text": "so since six months ago or so you can additionally say I want this policy",
    "start": "2868119",
    "end": "2873900"
  },
  {
    "text": "compiled to an intermediate representation format an intermediate representation format is",
    "start": "2873900",
    "end": "2880660"
  },
  {
    "text": "basically an evaluation plan the problem is",
    "start": "2880660",
    "end": "2887200"
  },
  {
    "text": "it's just that's just what it is it's a plan to how how would you evaluate this",
    "start": "2887200",
    "end": "2892300"
  },
  {
    "text": "there's it's not going to evaluate it for you there is no evaluator",
    "start": "2892300",
    "end": "2897520"
  },
  {
    "text": "so that's basically up to you that's entirely up to the implementation and we",
    "start": "2897520",
    "end": "2902920"
  },
  {
    "text": "did not provide a number of implementations at least not at this point in time",
    "start": "2902920",
    "end": "2908680"
  },
  {
    "text": "so it entails a whole lot more work to get this working but if you do take the time you can",
    "start": "2908680",
    "end": "2916420"
  },
  {
    "text": "achieve the same overhead as the native go integration which is basically not",
    "start": "2916420",
    "end": "2923520"
  },
  {
    "text": "so how does it look then there's a pretty common rule in Rego it",
    "start": "2923619",
    "end": "2928900"
  },
  {
    "text": "says if admin is in input user roles should be familiar we didn't we didn't",
    "start": "2928900",
    "end": "2935800"
  },
  {
    "text": "look at the in operator but I think it's fairly obvious what that does so if the admin is in the set of the",
    "start": "2935800",
    "end": "2942700"
  },
  {
    "text": "user rules we should allow that because the admin should always be allowed so Translating",
    "start": "2942700",
    "end": "2949180"
  },
  {
    "text": "that into an intermediate representation format might look something like this this basically just a very low level set",
    "start": "2949180",
    "end": "2956680"
  },
  {
    "text": "of instructions going from top to the bottom in a very procedural fashion so",
    "start": "2956680",
    "end": "2963220"
  },
  {
    "text": "up by itself and Rego is again it's a declarative language so when we had that rule",
    "start": "2963220",
    "end": "2970619"
  },
  {
    "text": "first we checked for a get request or and the other one would check for a put",
    "start": "2970619",
    "end": "2975640"
  },
  {
    "text": "request which one would be evaluated first",
    "start": "2975640",
    "end": "2980640"
  },
  {
    "text": "we don't know it's a declarative language it's not it's not read from top to bottom that's entirely up to Oppa to",
    "start": "2981040",
    "end": "2988660"
  },
  {
    "text": "decide and it could it could take any number of optimizations or have any",
    "start": "2988660",
    "end": "2994060"
  },
  {
    "text": "number of reasons for doing what it does so so it so it doesn't really follow and",
    "start": "2994060",
    "end": "2999220"
  },
  {
    "text": "and and one of the reasons why we can't just we can't just write rewrite oppa in another language is basically",
    "start": "2999220",
    "end": "3006540"
  },
  {
    "text": "that would be a million lines of code in each of these implementations well if we",
    "start": "3006540",
    "end": "3011760"
  },
  {
    "text": "do have something like this which isn't really it isn't unless you're you're familiar with compilers and this isn't",
    "start": "3011760",
    "end": "3018180"
  },
  {
    "text": "really readable but it makes perfect sense for a computer it's just first I'm going to",
    "start": "3018180",
    "end": "3025380"
  },
  {
    "text": "clear the Third location here and the next step I'm going to reference input.user",
    "start": "3025380",
    "end": "3032579"
  },
  {
    "text": "The Next Step I'm gonna in reference input.user.growth in The Next Step I'm",
    "start": "3032579",
    "end": "3038760"
  },
  {
    "text": "going to assign the value of that to location number six",
    "start": "3038760",
    "end": "3043859"
  },
  {
    "text": "and in The Next Step I'm going to make a call to internal member two which is a",
    "start": "3043859",
    "end": "3051059"
  },
  {
    "text": "cryptic way of saying in so I'm going to make a call and that's",
    "start": "3051059",
    "end": "3056579"
  },
  {
    "text": "going to return either true or false and I'm going to assign the result of that to",
    "start": "3056579",
    "end": "3062280"
  },
  {
    "text": "Target number three so it's basically just going from top to bottom",
    "start": "3062280",
    "end": "3068339"
  },
  {
    "text": "and while this might be hard for us to can you read and reason about the implementation for in code is fairly",
    "start": "3068339",
    "end": "3076800"
  },
  {
    "text": "trivial it's just implementing the basic commands here it's going to be a few",
    "start": "3076800",
    "end": "3083880"
  },
  {
    "text": "hundred lines of code and of course if you want to implement all the hundreds of built-in functions",
    "start": "3083880",
    "end": "3089880"
  },
  {
    "text": "Opa provides that's going to be way more but just to get something working it's it's a fairly trivial",
    "start": "3089880",
    "end": "3095640"
  },
  {
    "text": "implementation",
    "start": "3095640",
    "end": "3098180"
  },
  {
    "text": "so the evaluation plans they're not they're not really in an Excel sheet",
    "start": "3100740",
    "end": "3107240"
  },
  {
    "text": "surprisingly but they are in a in a Json format so in order to build one you just say",
    "start": "3107240",
    "end": "3113579"
  },
  {
    "text": "open build the target should be a plan and you need to provide an entry point you need to to tell the compiler where",
    "start": "3113579",
    "end": "3121140"
  },
  {
    "text": "should we start evaluating where should I build this plan from",
    "start": "3121140",
    "end": "3126540"
  },
  {
    "text": "so I think we're running out of time here but uh so a high level comparison of of",
    "start": "3126540",
    "end": "3131640"
  },
  {
    "text": "these kind of different models again we have in Rego we have a declarative model in the IR it's entirely procedural in",
    "start": "3131640",
    "end": "3139500"
  },
  {
    "text": "Wasim it's compiled into bytecode for Rego we have Rego obviously the IR",
    "start": "3139500",
    "end": "3145920"
  },
  {
    "text": "is in a Json format was missing binary format uh oppa has apparently a 160 built-in",
    "start": "3145920",
    "end": "3153960"
  },
  {
    "text": "functions the IR has none because it's you right that",
    "start": "3153960",
    "end": "3160859"
  },
  {
    "text": "implementation so presumably you're not using 160 different built-in functions so it would",
    "start": "3160859",
    "end": "3167099"
  },
  {
    "text": "make sense to to start widows that you actually make use of awesome on the other hand ships with",
    "start": "3167099",
    "end": "3174839"
  },
  {
    "text": "most of these compiled so management features there's a whole bunch of those in Opa as well like how",
    "start": "3174839",
    "end": "3181559"
  },
  {
    "text": "do we pull down bundles of code and policy from remote endpoints where do we send decision logs and so on Oppa has a",
    "start": "3181559",
    "end": "3189180"
  },
  {
    "text": "whole bunch of nice features for for managing that at scale if you're running the IR or the wassum version you have",
    "start": "3189180",
    "end": "3197220"
  },
  {
    "text": "nothing again you need to build that yourself and in terms of deployment",
    "start": "3197220",
    "end": "3203700"
  },
  {
    "text": "we saw that the server model uh it's an external one even if it's running on on localhost while the ir1 we can integrate",
    "start": "3203700",
    "end": "3212640"
  },
  {
    "text": "Opa or policy inside of our application so we basically achieved the native",
    "start": "3212640",
    "end": "3218339"
  },
  {
    "text": "requirement and performance of course it's gonna vary widely depending on your",
    "start": "3218339",
    "end": "3225059"
  },
  {
    "text": "implementation and so on uh another nice thing with the IR and",
    "start": "3225059",
    "end": "3231839"
  },
  {
    "text": "and a limitation of awesome is really that awesome by Design is meant to be sandboxed so if you if you want to do",
    "start": "3231839",
    "end": "3239040"
  },
  {
    "text": "HTTP requests you want to read a file or something that might not be possible",
    "start": "3239040",
    "end": "3244819"
  },
  {
    "text": "so of course if you are to to write your implementation the first",
    "start": "3246780",
    "end": "3251819"
  },
  {
    "text": "thing you want to ensure is of course that the one policy evaluated in oppa",
    "start": "3251819",
    "end": "3257099"
  },
  {
    "text": "evaluates the same way in your implementation that's going to be like the key the most",
    "start": "3257099",
    "end": "3264420"
  },
  {
    "text": "crucial thing if that doesn't hold performance doesn't matter if you get a",
    "start": "3264420",
    "end": "3269940"
  },
  {
    "text": "different result in your own implementation then what oppa would provide it doesn't matter if it's like",
    "start": "3269940",
    "end": "3275160"
  },
  {
    "text": "if it's if there's no overhead so what do you what you want to do in",
    "start": "3275160",
    "end": "3280740"
  },
  {
    "text": "order to test your implementation this of course your drudder is there a test Suite or",
    "start": "3280740",
    "end": "3286140"
  },
  {
    "text": "something and yes there is so oppa uh comes with its own test Suite which is",
    "start": "3286140",
    "end": "3291680"
  },
  {
    "text": "luckily provided uh as a whole bunch of of yaml files where kind of Rego is",
    "start": "3291680",
    "end": "3297119"
  },
  {
    "text": "embedded and that Rego we kind of can extract and",
    "start": "3297119",
    "end": "3302819"
  },
  {
    "text": "build into ir and that way we can run the same tests that we run in oppa",
    "start": "3302819",
    "end": "3308480"
  },
  {
    "text": "in our own custom implementation and if you're interested in building one",
    "start": "3308480",
    "end": "3313559"
  },
  {
    "text": "we have a repo for uh for compliance if you're not interested in building one",
    "start": "3313559",
    "end": "3320400"
  },
  {
    "text": "what can you do well luckily me and my colleague Johan uh we started",
    "start": "3320400",
    "end": "3328020"
  },
  {
    "text": "just as this kind of format became available we were like dude we're gonna",
    "start": "3328020",
    "end": "3333119"
  },
  {
    "text": "do something with this it's this seems like a lot of fun so we wrote uh the",
    "start": "3333119",
    "end": "3339660"
  },
  {
    "text": "Joel project which is a parser or an evaluator for uh jvm going Java or what",
    "start": "3339660",
    "end": "3345780"
  },
  {
    "text": "have you and javascript's environment so it's written in closure so it means we can Target both of those",
    "start": "3345780",
    "end": "3353280"
  },
  {
    "text": "platforms I think we support at least like 110 or so built-in functions uh already and",
    "start": "3353280",
    "end": "3359940"
  },
  {
    "text": "more to come we Pat we're already passing like a 1200 tests in this compliance Suite where we",
    "start": "3359940",
    "end": "3366240"
  },
  {
    "text": "talked about uh before it's really really fast uh so that's that's cool uh one thing of",
    "start": "3366240",
    "end": "3373920"
  },
  {
    "text": "course we've not got into the management features at this point so still a whole",
    "start": "3373920",
    "end": "3379200"
  },
  {
    "text": "lot of things to do so uh the CLR which is the.net runtime",
    "start": "3379200",
    "end": "3384300"
  },
  {
    "text": "that is another possible future targets uh via the closure CLR project",
    "start": "3384300",
    "end": "3389579"
  },
  {
    "text": "so hopefully we can add that to the list as well uh and and we still haven't kind of",
    "start": "3389579",
    "end": "3395700"
  },
  {
    "text": "published this the source code is out there if you want to run it and try it out you can do so but it's still not it's",
    "start": "3395700",
    "end": "3403020"
  },
  {
    "text": "definitely not production ready but it's getting there and I think like one of the nice things with doing this",
    "start": "3403020",
    "end": "3408960"
  },
  {
    "text": "enclosure is like that you got that you get all these kind of deployment targets you got the gvm you got CLR you got",
    "start": "3408960",
    "end": "3415020"
  },
  {
    "text": "JavaScript so we're not we're not covering uh all of these languages or so",
    "start": "3415020",
    "end": "3420240"
  },
  {
    "text": "but uh quite a fair amount of them all right so uh wrapping up",
    "start": "3420240",
    "end": "3427319"
  },
  {
    "text": "the Standalone service again 95 of you maybe all of you are probably best",
    "start": "3427319",
    "end": "3433020"
  },
  {
    "text": "serviced by this uh decoupled rest HTTP model or your",
    "start": "3433020",
    "end": "3440160"
  },
  {
    "text": "service just queries open for decisions but the IR offers a compelling alternative when the requirements demand",
    "start": "3440160",
    "end": "3447119"
  },
  {
    "text": "it and that could be native performance but it could be other use cases as well",
    "start": "3447119",
    "end": "3452819"
  },
  {
    "text": "you want to run Opa inside of the Linux kernel you want to run it in a car you want to run it everywhere",
    "start": "3452819",
    "end": "3459540"
  },
  {
    "text": "so Joel is the first implementation which is uh for the jvm JavaScript ventureless CLR",
    "start": "3459540",
    "end": "3465839"
  },
  {
    "text": "hopefully many more uh will follow I know there's a work in progress for a",
    "start": "3465839",
    "end": "3471300"
  },
  {
    "text": "few ones both like open source and Commercial ones and if you want to learn more about oppa",
    "start": "3471300",
    "end": "3476760"
  },
  {
    "text": "there's this dyra Academy which is a great Learning Resource",
    "start": "3476760",
    "end": "3483078"
  },
  {
    "text": "we have time for a few questions",
    "start": "3483119",
    "end": "3486920"
  },
  {
    "text": "yep",
    "start": "3490859",
    "end": "3493460"
  },
  {
    "text": "yeah yeah no that's a good that's a good question so the question was how does it compare to Sacramento and Alpha which is",
    "start": "3497640",
    "end": "3505460"
  },
  {
    "text": "uh for those who don't know it's an older authorization standard it was I",
    "start": "3505460",
    "end": "3510660"
  },
  {
    "text": "think it's from 2001 or so uh so it's it's and at least originally",
    "start": "3510660",
    "end": "3516599"
  },
  {
    "text": "it was all based on uh XML so you define your policies in excellent like at that",
    "start": "3516599",
    "end": "3521640"
  },
  {
    "text": "time if you were around you know like everything was about XML if it was an XML no like don't touch it it's like you",
    "start": "3521640",
    "end": "3528599"
  },
  {
    "text": "just want to do everything in XML and then once Json came along XML gonna turn into Pariah and so they",
    "start": "3528599",
    "end": "3537480"
  },
  {
    "text": "eventually try to kind of shift uh over to to Json and other ways of expressing",
    "start": "3537480",
    "end": "3542819"
  },
  {
    "text": "uh policy nothing wrong with it I think it's just",
    "start": "3542819",
    "end": "3549260"
  },
  {
    "text": "they were before they kind of came before the Advent of Jason they came",
    "start": "3549260",
    "end": "3555059"
  },
  {
    "text": "before the Advent of like highly distributed systems their model pretty much Builds on this",
    "start": "3555059",
    "end": "3561299"
  },
  {
    "text": "idea that you have one big server that everyone goes to uh they have tried to evolve and so on",
    "start": "3561299",
    "end": "3567240"
  },
  {
    "text": "but I think they're largely playing catch up at this point but they have played an important role in",
    "start": "3567240",
    "end": "3573180"
  },
  {
    "text": "authorization in the past",
    "start": "3573180",
    "end": "3576440"
  },
  {
    "text": "um doing authorization based on the plot or a URL externally from the application",
    "start": "3579900",
    "end": "3587220"
  },
  {
    "text": "it's pretty difficult because I never thought perverse of vulnerability will allow you to bypass",
    "start": "3587220",
    "end": "3592920"
  },
  {
    "text": "yep",
    "start": "3592920",
    "end": "3595920"
  },
  {
    "text": "production it's just an example yeah no it's it's",
    "start": "3606859",
    "end": "3612299"
  },
  {
    "text": "an example and I think like things like path normalization and oh sorry the question was like doing authorization",
    "start": "3612299",
    "end": "3618960"
  },
  {
    "text": "only based on like path like we did here could be problematic because yeah path traversals",
    "start": "3618960",
    "end": "3626280"
  },
  {
    "text": "and that and and whatnot could could make that problematic but I think",
    "start": "3626280",
    "end": "3632099"
  },
  {
    "text": "uh that we do that in oppa uh it's it's still uh there could still be other",
    "start": "3632099",
    "end": "3638460"
  },
  {
    "text": "places where we kind of uh normalize paths or make things like uh",
    "start": "3638460",
    "end": "3646079"
  },
  {
    "text": "kind of pre yeses I provided uh oh the path here in the form of an array rather",
    "start": "3646079",
    "end": "3651900"
  },
  {
    "text": "than just having like the raw string so that would obviously mean that we'd need to pre-process that somewhere else",
    "start": "3651900",
    "end": "3657780"
  },
  {
    "text": "before and I think uh that's probably where I would train uh",
    "start": "3657780",
    "end": "3663900"
  },
  {
    "text": "trying to normalize and whatnot that would be needed in order to avoid that",
    "start": "3663900",
    "end": "3670040"
  },
  {
    "text": "yeah that could be true it could be true yeah that's and if if we were to do it",
    "start": "3676260",
    "end": "3681420"
  },
  {
    "text": "in Rego yeah that would probably make things easier but I I it's hard to say without like knowing exactly what",
    "start": "3681420",
    "end": "3687680"
  },
  {
    "text": "specific problem we want to solve but",
    "start": "3687680",
    "end": "3692359"
  },
  {
    "text": "let's yeah let's talk later okay",
    "start": "3693780",
    "end": "3698720"
  },
  {
    "text": "how about contributing like the model or the permissions uh that are based on",
    "start": "3710059",
    "end": "3718020"
  },
  {
    "text": "dynamically updated user entrepreneursive roles yep",
    "start": "3718020",
    "end": "3724380"
  },
  {
    "text": "yep that's a good question so the question is basically how do we distribute data to Opera",
    "start": "3724380",
    "end": "3730819"
  },
  {
    "text": "yeah yeah that's that's a good question because what we what we don't what we what we",
    "start": "3734040",
    "end": "3739920"
  },
  {
    "text": "always want to avoid is like going to an external source and fetch data at the time of a policy evaluation so the",
    "start": "3739920",
    "end": "3746460"
  },
  {
    "text": "common the common way of doing it is normally that open polls uh an external endpoint asynchronously",
    "start": "3746460",
    "end": "3755099"
  },
  {
    "text": "uh for updates to policy and data and then it fetches those as soon as it's",
    "start": "3755099",
    "end": "3760740"
  },
  {
    "text": "made available and it stores it and it's kind of updates whatever it has in memory so that's done asynchronously and",
    "start": "3760740",
    "end": "3767339"
  },
  {
    "text": "it's not done at the time of the decision but of course it does mean that there",
    "start": "3767339",
    "end": "3772740"
  },
  {
    "text": "could be a few seconds of delay where it's like if this data is updated now",
    "start": "3772740",
    "end": "3780000"
  },
  {
    "text": "and you want you want that reflected immediately you need to you probably need to do that uh Network call but for",
    "start": "3780000",
    "end": "3787140"
  },
  {
    "text": "most deployments like permission data is is modified I don't know like",
    "start": "3787140",
    "end": "3793380"
  },
  {
    "text": "basically never you just have a role that role means this or that uh but",
    "start": "3793380",
    "end": "3799319"
  },
  {
    "text": "there could be new endpoints added new resources and whatnot but for most applications that kind of a",
    "start": "3799319",
    "end": "3806040"
  },
  {
    "text": "small delay in updates to data is fine but if you need kind of uh real-time",
    "start": "3806040",
    "end": "3812819"
  },
  {
    "text": "availability on data that's then you're going to have to work with some other models",
    "start": "3812819",
    "end": "3819319"
  },
  {
    "text": "yep that's a good question are there alternatives to Opa or competitors yeah for sure uh",
    "start": "3826859",
    "end": "3833400"
  },
  {
    "text": "so there's uh there's a few competitors or alternative ways of doing authorization",
    "start": "3833400",
    "end": "3840480"
  },
  {
    "text": "there's of course a few competitors or Alternatives doing admission control there's a few doing infrastructures code",
    "start": "3840480",
    "end": "3848460"
  },
  {
    "text": "and whatnot but I'm not aware of what I'm not aware of is any any alternative for doing policy across your whole stack",
    "start": "3848460",
    "end": "3856740"
  },
  {
    "text": "so it's basically one of the premises of oppa and why I I really like working",
    "start": "3856740",
    "end": "3863460"
  },
  {
    "text": "with this it's like it's so diverse you have one way of describing these rules across your whole system once you",
    "start": "3863460",
    "end": "3870900"
  },
  {
    "text": "invest the time in for sure it's it's a learning curve as with anything but once you know like you have one way",
    "start": "3870900",
    "end": "3877200"
  },
  {
    "text": "of describing rules whether it's Access Control whether it's infrastructure whether it's kubernetes whether it's",
    "start": "3877200",
    "end": "3883980"
  },
  {
    "text": "your GitHub actions or your Jenkins server anywhere you have rules you have one way of describing them and you have",
    "start": "3883980",
    "end": "3891119"
  },
  {
    "text": "one way to log decisions you have like a unified way of working with policy across the whole stack and for that I am",
    "start": "3891119",
    "end": "3898380"
  },
  {
    "text": "not aware of any competitors but I'd love to see one because the the more the",
    "start": "3898380",
    "end": "3903780"
  },
  {
    "text": "merrier and we can all learn from each other",
    "start": "3903780",
    "end": "3907520"
  },
  {
    "text": "um yeah that's an interesting idea so the question is since like the IR",
    "start": "3921240",
    "end": "3926640"
  },
  {
    "text": "representation it's not it's no longer Regal it's just can we use some other language to",
    "start": "3926640",
    "end": "3932640"
  },
  {
    "text": "generate that and uh yeah we could there's I'm not aware of any",
    "start": "3932640",
    "end": "3938180"
  },
  {
    "text": "implementation to do that but that could be an interesting uh topic to",
    "start": "3938180",
    "end": "3945000"
  },
  {
    "text": "explore that's for sure all right I think we're running out of",
    "start": "3945000",
    "end": "3950520"
  },
  {
    "text": "time but thank you very much",
    "start": "3950520",
    "end": "3954619"
  }
]