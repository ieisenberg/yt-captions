[
  {
    "text": "you can have me yes you can excellent okay great Wow good to see all you",
    "start": "9660",
    "end": "16250"
  },
  {
    "text": "people here today so I want to start with a little convention that I usually",
    "start": "16250",
    "end": "23060"
  },
  {
    "text": "have at the start of these kinds of talks I just want to know what kind of technology choices that you people in",
    "start": "23060",
    "end": "28730"
  },
  {
    "text": "the audience are making how many of you can you put your hands up are using some kind of single page application",
    "start": "28730",
    "end": "34790"
  },
  {
    "text": "technology today angular react view okay like 80 on 90 maybe percent people okay",
    "start": "34790",
    "end": "40489"
  },
  {
    "text": "that's quite reasonable that's why you're here in this talk okay and so specifically how many of you are using angular that's fire sixty percent maybe",
    "start": "40489",
    "end": "49370"
  },
  {
    "text": "how many using react probably the other 30% pretty much anyone here use knockout",
    "start": "49370",
    "end": "54890"
  },
  {
    "text": "yeah okay about 20% of people excellent okay brilliant",
    "start": "54890",
    "end": "60710"
  },
  {
    "text": "so I mean quickly introduce myself my name is Steve and I work at Microsoft and I'm on the asp net team and one of",
    "start": "60710",
    "end": "67880"
  },
  {
    "text": "the main focuses of my job is that I meant to make asp net core a really good platform for people who want to build",
    "start": "67880",
    "end": "74210"
  },
  {
    "text": "single page applications or other use other client-side technologies so I spent a lot of time focusing on that",
    "start": "74210",
    "end": "79490"
  },
  {
    "text": "partly developing technology that you can use and partly just trying to sort of investigate the problem and make sure",
    "start": "79490",
    "end": "85850"
  },
  {
    "text": "that you know we're doing the right stuff and that we're listening to you all and you know getting the right",
    "start": "85850",
    "end": "91100"
  },
  {
    "text": "features in the product now were any of you here last year and came to a very",
    "start": "91100",
    "end": "97970"
  },
  {
    "text": "similar talk that I did with a similar title yeah all right a good sort of 10%",
    "start": "97970",
    "end": "103280"
  },
  {
    "text": "of people were here similar talk last year okay so for you people the first 15",
    "start": "103280",
    "end": "109369"
  },
  {
    "text": "minutes or so of this talk is going to seem very familiar okay because I do have to start with some of the core concepts so I'm sorry you're gonna see a",
    "start": "109369",
    "end": "115579"
  },
  {
    "text": "bit of the same stuff but after the first 10 or 15 minutes we'll be moving on to some totally new stuff or things",
    "start": "115579",
    "end": "121159"
  },
  {
    "text": "that we've been focusing on over the last year so this plenty of stuff in there for you too okay",
    "start": "121159",
    "end": "126649"
  },
  {
    "text": "right then so what's what's the point of all this well the point of all this is that there are a lot so far it's been at",
    "start": "126649",
    "end": "133670"
  },
  {
    "text": "core developers out there who want to work with these single page application technologies now in this room it's maybe",
    "start": "133670",
    "end": "139579"
  },
  {
    "text": "80 to 90% of people but you're a bit of a sort of self selecting group so you don't completely represent averages we",
    "start": "139579",
    "end": "145610"
  },
  {
    "text": "think on average it's probably more like 50 60 percent of people who use asp net core also using one of",
    "start": "145610",
    "end": "151260"
  },
  {
    "text": "these technologies of them which is great people are generally pretty happy about that but this tends to be a lot of",
    "start": "151260",
    "end": "157470"
  },
  {
    "text": "other stuff that you need to know at the same time for example there's a whole bunch of different languages that are",
    "start": "157470",
    "end": "162770"
  },
  {
    "text": "JavaScript or variations on JavaScript or things that compile to JavaScript that you need to know that's a whole",
    "start": "162770",
    "end": "167910"
  },
  {
    "text": "load of concepts there's also many different ways of doing styling that are in the mainstream today more concepts",
    "start": "167910",
    "end": "174930"
  },
  {
    "text": "for you there as for actually making these things run in the browser for compiling that sass into CSS or that",
    "start": "174930",
    "end": "182040"
  },
  {
    "text": "type script into JavaScript there are various different build and bundling tools out there and you may be using any",
    "start": "182040",
    "end": "188190"
  },
  {
    "text": "number of those then there's various application architectures that are starting to catch on in front-end",
    "start": "188190",
    "end": "194040"
  },
  {
    "text": "development you might not have even heard of these that's absolutely fine weren't really be talking about it today but you know there's more concepts that",
    "start": "194040",
    "end": "200340"
  },
  {
    "text": "are out there that many people are talking about and finally there's loads of different testing tools and technologies that",
    "start": "200340",
    "end": "205709"
  },
  {
    "text": "people are using so there's just loads and loads of stuff going on so many concepts that you are supposed to know",
    "start": "205709",
    "end": "211800"
  },
  {
    "text": "and that raises this question of well do you really love that I mean is that",
    "start": "211800",
    "end": "216840"
  },
  {
    "text": "actually a great experience for you or is it actually a bit bit of a pain",
    "start": "216840",
    "end": "222450"
  },
  {
    "text": "really trying to make sense of all that stuff and when we talk to people they generally say to us you know any",
    "start": "222450",
    "end": "227519"
  },
  {
    "text": "individual one of these technologies is great on its own but the entire mass of all of this stuff together is a lot of",
    "start": "227519",
    "end": "233160"
  },
  {
    "text": "stuff for people to deal with so we say what can we do how can we help with that and one of the most common things that",
    "start": "233160",
    "end": "238980"
  },
  {
    "text": "people want us to do is to streamline this process of making your project people ask us can you just put it all in",
    "start": "238980",
    "end": "246810"
  },
  {
    "text": "the box can you make it really nice so that when I want to start my project it's just there for me so that is a",
    "start": "246810",
    "end": "252300"
  },
  {
    "text": "major thing that I've been focusing on over the last year and I'll be talking to you about some project templates in",
    "start": "252300",
    "end": "258000"
  },
  {
    "text": "this talk that'll be the first sort of 20 minutes or so at this talk so we've got project templates for the top six",
    "start": "258000",
    "end": "264030"
  },
  {
    "text": "single page application frameworks that are out there at the moment and the idea",
    "start": "264030",
    "end": "269940"
  },
  {
    "text": "with these is to give you a really streamlined and productive start when you want to build a new client-side",
    "start": "269940",
    "end": "275070"
  },
  {
    "text": "application with ASP know core to actually get these and use them you have",
    "start": "275070",
    "end": "280770"
  },
  {
    "text": "been able to do this using the line with dotnet new for about 12 months now but the cool thing that has changed",
    "start": "280770",
    "end": "287479"
  },
  {
    "text": "recently with the launch of dotnet core 2.0 SDK the top three of those templates",
    "start": "287479",
    "end": "294139"
  },
  {
    "text": "and now in the box with Visual Studio as well so you don't have to install anything special you just go file new MVS and you get your projects right",
    "start": "294139",
    "end": "301639"
  },
  {
    "text": "there now that's good some of you I'm sure in the audience are thinking well that's all very well but I don't really",
    "start": "301639",
    "end": "307279"
  },
  {
    "text": "want to use your project templates I want to build my own cool thing from scratch and do all kinds of remarkable",
    "start": "307279",
    "end": "313099"
  },
  {
    "text": "and advanced things so yeah we've tried to allow for that use case as well that's quite important as we've designed",
    "start": "313099",
    "end": "319309"
  },
  {
    "text": "this stuff we've made sure it's very straightforward to be able to get at the internal technologies there so",
    "start": "319309",
    "end": "325219"
  },
  {
    "text": "everything that the project templates used to accomplish the magic that I'll show you exists in the form of a bunch",
    "start": "325219",
    "end": "331339"
  },
  {
    "text": "of new get and NPM packages which you can use in a standalone way if you're building your own custom kind of project",
    "start": "331339",
    "end": "337789"
  },
  {
    "text": "structure all right right then so how are we going to spend the next 55",
    "start": "337789",
    "end": "343279"
  },
  {
    "text": "minutes of our lives we are going to look at a few different things I want to start by focusing on this most common",
    "start": "343279",
    "end": "351559"
  },
  {
    "text": "scenario of simply trying to get productive building your own single page application with a few different",
    "start": "351559",
    "end": "357079"
  },
  {
    "text": "technologies then after that I want to move on to focus on web pack a little bit web pack is quite important to a lot",
    "start": "357079",
    "end": "364099"
  },
  {
    "text": "of the stuff that I'll be talking to you about and a lot of people either don't really know what it is or they've got misconceptions or they find it",
    "start": "364099",
    "end": "370309"
  },
  {
    "text": "intimidating or something and I want to try and break that down a little bit and make sure that you really know what this",
    "start": "370309",
    "end": "375529"
  },
  {
    "text": "web pack thing is all about and how you can customize it and extend it in your own kinds of ways and then finally for",
    "start": "375529",
    "end": "381319"
  },
  {
    "text": "the more advanced people in the audience I want to look at one of the underlying technologies and show you some funky",
    "start": "381319",
    "end": "387019"
  },
  {
    "text": "things that we can do with that but we'll get to that in due course okay so what topics do we have for this first",
    "start": "387019",
    "end": "394789"
  },
  {
    "text": "section building your single page application well we will start not surprisingly with getting started so",
    "start": "394789",
    "end": "400610"
  },
  {
    "text": "let's say that you want to create for yourself a new single page application with asp net core as the server-side",
    "start": "400610",
    "end": "406069"
  },
  {
    "text": "technology well like i just said you can use Visual Studio to do that now as of",
    "start": "406069",
    "end": "412099"
  },
  {
    "text": "the.net core 2.0 SDK so if you're on Windows using the s then this is quite nice but",
    "start": "412099",
    "end": "418759"
  },
  {
    "text": "it's not the only way of doing it anyway let's create a new project or I'll pretend I'm going to I'm going to create",
    "start": "418759",
    "end": "423860"
  },
  {
    "text": "a new asp net core web application I'll hit OK and then you will see that the",
    "start": "423860",
    "end": "428930"
  },
  {
    "text": "list of project templates now well it used to be like this you used to have these three boring black and white ones",
    "start": "428930",
    "end": "434810"
  },
  {
    "text": "but now if you are using 2.0 you get these beautiful exciting colorful ones",
    "start": "434810",
    "end": "440120"
  },
  {
    "text": "which give you some single page application goodness as well okay so obviously we could build it make a new",
    "start": "440120",
    "end": "446780"
  },
  {
    "text": "project like that but people who are not on Windows are not using vs are not left",
    "start": "446780",
    "end": "451849"
  },
  {
    "text": "out you can also do the same thing with the command line so if you are on the command line and you run net new then",
    "start": "451849",
    "end": "458360"
  },
  {
    "text": "that's going to list all these many many project templates but that's too many to make sense off so I'm going to just list",
    "start": "458360",
    "end": "463699"
  },
  {
    "text": "the single page application ones and we will see that we are we have three built in to the SDK like that by default",
    "start": "463699",
    "end": "471169"
  },
  {
    "text": "without having to install anything special okay so that's three that's good but there are a few more as well that",
    "start": "471169",
    "end": "478009"
  },
  {
    "text": "we're releasing out-of-band and that is in a separate package that you can install and the way to install the extra",
    "start": "478009",
    "end": "483770"
  },
  {
    "text": "project templates is the same that it's been for a little bit we can say a dotnet new I want to install let's say",
    "start": "483770",
    "end": "490909"
  },
  {
    "text": "Microsoft or ASP net cord or spar templates and then you have to say which version of it you want and um you would",
    "start": "490909",
    "end": "497330"
  },
  {
    "text": "do : : star which is this utterly crazy syntax to mean the latest version that",
    "start": "497330",
    "end": "502580"
  },
  {
    "text": "there is okay and that would install it if you had an internet connection which I am not relying on so I I'm going to",
    "start": "502580",
    "end": "508909"
  },
  {
    "text": "install it from a local file that I've already got but it's exactly the same effect and now if I run dotnet news bar",
    "start": "508909",
    "end": "515839"
  },
  {
    "text": "again you'll see that we've got more templates now we've also got a really uh knockout and view in addition to those",
    "start": "515839",
    "end": "522169"
  },
  {
    "text": "other ones very good let's have a go a creating one the showi I'm going to",
    "start": "522169",
    "end": "527449"
  },
  {
    "text": "create a view j/s application right now so let's make a new site and I'll call",
    "start": "527449",
    "end": "533000"
  },
  {
    "text": "it my super app I like that sort of name and we'll go into that directory and",
    "start": "533000",
    "end": "539029"
  },
  {
    "text": "then I will run dotnet new view and that will create a project for us okay so",
    "start": "539029",
    "end": "546470"
  },
  {
    "text": "it's just restoring a little bit of dotnet packages it's also tells you that you have to run npm",
    "start": "546470",
    "end": "551779"
  },
  {
    "text": "install that's a unfortunate limitation of the.net new command-line tool at the moment we can't make that automated so",
    "start": "551779",
    "end": "557509"
  },
  {
    "text": "it tells you where there's massive capital letters do remember to do that if you're doing inside Visual Studio it",
    "start": "557509",
    "end": "562819"
  },
  {
    "text": "does do that for you automatically okay so what has that done it's added a load of files onto disk it's a bit difficult",
    "start": "562819",
    "end": "569269"
  },
  {
    "text": "to make sense of it like this so let's switch into an IDE I'm going to go over",
    "start": "569269",
    "end": "575000"
  },
  {
    "text": "here I've already got a view application which I created in exactly the same way and here it is in vs code okay",
    "start": "575000",
    "end": "583459"
  },
  {
    "text": "what I've got now then well if you are familiar with asp net MVC then you will recognize most of this stuff we've got",
    "start": "583459",
    "end": "589130"
  },
  {
    "text": "loads of typical MVC stuff like we've got controllers here we've got views and that sort of thing and the main thing",
    "start": "589130",
    "end": "595610"
  },
  {
    "text": "that's different is that we've also got this client app directory and this is where all the View j/s applications",
    "start": "595610",
    "end": "602149"
  },
  {
    "text": "stuff is various different components alright so let me just start that in a",
    "start": "602149",
    "end": "607250"
  },
  {
    "text": "browser so you can see what the running application looks like before we see the code in there and when that comes up we",
    "start": "607250",
    "end": "613190"
  },
  {
    "text": "should see that it's a pretty predictable looking single page application kind of design it's got",
    "start": "613190",
    "end": "618439"
  },
  {
    "text": "bootstrap that implements the layout there it's got this navigation sidebar here that does client-side navigation",
    "start": "618439",
    "end": "625399"
  },
  {
    "text": "and it's got some example components here such as this one that's going to fetch some data from the server and",
    "start": "625399",
    "end": "630649"
  },
  {
    "text": "render it in a table and also this counter component which just counts how many times you click on a button alright",
    "start": "630649",
    "end": "637759"
  },
  {
    "text": "so as you can see from this sort of design the expected use case would be for something like a dashboard or an",
    "start": "637759",
    "end": "643910"
  },
  {
    "text": "internet management site or that sort of thing but of course you can change that in whatever your way is just whatever way you want that's just a default",
    "start": "643910",
    "end": "650329"
  },
  {
    "text": "layout now how does the code for this counter component work well if you are",
    "start": "650329",
    "end": "655790"
  },
  {
    "text": "familiar with view j/s you will find this very unsurprising it's written in",
    "start": "655790",
    "end": "661459"
  },
  {
    "text": "typescript so we are importing the view libraries up at the top there and then we've got a class to represent that",
    "start": "661459",
    "end": "667910"
  },
  {
    "text": "counter component we're using this special annotation that view supplies there to tell view that this is a",
    "start": "667910",
    "end": "673310"
  },
  {
    "text": "component that can be rendered in the UI and it's got this current count property that tracks how many times you've",
    "start": "673310",
    "end": "678589"
  },
  {
    "text": "counted and an increment count method that will do exactly what the names gests and then in terms of the rendered",
    "start": "678589",
    "end": "686420"
  },
  {
    "text": "HTML for that well here's the template that produces that rendered HTML it uses view syntax as you would expect to",
    "start": "686420",
    "end": "693260"
  },
  {
    "text": "display the current count value and it's got a button that when you click it it's going to increment the count okay for it",
    "start": "693260",
    "end": "701029"
  },
  {
    "text": "he straight forwards and predictable stuff there okay so that is getting",
    "start": "701029",
    "end": "706940"
  },
  {
    "text": "started in the most basic kind of way with either vs or with the.net new command line right now what I want to",
    "start": "706940",
    "end": "715339"
  },
  {
    "text": "focus on for the next sort of 15 to 20 minutes is some of the features that are in these project templates because you",
    "start": "715339",
    "end": "721459"
  },
  {
    "text": "might well be thinking what is the point of this anyway because I could have just created my own new MVC application then",
    "start": "721459",
    "end": "727940"
  },
  {
    "text": "I could have put view into it or angular whatever I wanted why would I need to use a special template well the answer to that is that if you",
    "start": "727940",
    "end": "734720"
  },
  {
    "text": "want to have a modern and productive and streamlined development experience and you want your application to perform",
    "start": "734720",
    "end": "740089"
  },
  {
    "text": "really well in production there's quite a lot of stuff that you have to do and set up to make that work well and that's",
    "start": "740089",
    "end": "746810"
  },
  {
    "text": "what the template is providing for you it's providing quite a lot of features that give you a good dev experience and ensure your application performs well in",
    "start": "746810",
    "end": "752779"
  },
  {
    "text": "production so those are the features that I'm going to show you now and the first one of these features is a feature",
    "start": "752779",
    "end": "758450"
  },
  {
    "text": "that we get from web pack and it's called hot module replacement okay let me just quickly show you what that means",
    "start": "758450",
    "end": "765350"
  },
  {
    "text": "then so let's just look at this code and think for a second about how that's going to get executed inside the browser",
    "start": "765350",
    "end": "771829"
  },
  {
    "text": "well we've got a typescript file obviously the browser doesn't understand typescript natively and we've got this",
    "start": "771829",
    "end": "777020"
  },
  {
    "text": "series of little viuda HTML files or all separate little files again this is not",
    "start": "777020",
    "end": "782180"
  },
  {
    "text": "a concept that the browser understands natively so for this thing to run obviously the application has to be built in some way it has to be compiled",
    "start": "782180",
    "end": "788990"
  },
  {
    "text": "and structured into something that the browser can understand and so there's a",
    "start": "788990",
    "end": "794420"
  },
  {
    "text": "compilation process and if we left that and didn't do anything else to help then",
    "start": "794420",
    "end": "799850"
  },
  {
    "text": "every single time you made a change to your application code you would have to then remember to manually compile it and",
    "start": "799850",
    "end": "805010"
  },
  {
    "text": "then reload in the browser and that is a real waste of your time you could be doing better stuff than thinking about",
    "start": "805010",
    "end": "810589"
  },
  {
    "text": "boring menial tasks like that and that's what the hot module replacement feature deals with it simply watches for any",
    "start": "810589",
    "end": "816680"
  },
  {
    "text": "change that you make to your code and it immediately recompiles your application and it pushes the changed application",
    "start": "816680",
    "end": "823190"
  },
  {
    "text": "into the browser straight away without even having to reload the page for example let's say I change this file",
    "start": "823190",
    "end": "829069"
  },
  {
    "text": "here I'll change it to super counter and then when I press control s here you see",
    "start": "829069",
    "end": "834620"
  },
  {
    "text": "that the browser is immediately updated in the background and it's not just HTML stuff I can change I can also change",
    "start": "834620",
    "end": "840560"
  },
  {
    "text": "code let's say I want to change this current count so instead of going up in ones it's going to go up in tens instead",
    "start": "840560",
    "end": "846709"
  },
  {
    "text": "then when I come over here and I click this button you can see that it is going up in tens and it's only takes a",
    "start": "846709",
    "end": "852170"
  },
  {
    "text": "fraction of a second for the completion to go through because we keep a running instance of web pack in the background",
    "start": "852170",
    "end": "857750"
  },
  {
    "text": "that is able to do a very fast incremental build whenever it sees an individual module change and like I said",
    "start": "857750",
    "end": "864079"
  },
  {
    "text": "it doesn't even have to reload the page inside the browser which partly is good because it makes it faster but also it's",
    "start": "864079",
    "end": "869810"
  },
  {
    "text": "good because it means that if you're doing something else like you've got a form that's half filled in or you've got",
    "start": "869810",
    "end": "875089"
  },
  {
    "text": "a debugging session in process or something like that we don't have to lose any of that State we can just push the updated code straight into the",
    "start": "875089",
    "end": "881060"
  },
  {
    "text": "browser without having to refresh anything okay so that is the hot module",
    "start": "881060",
    "end": "886250"
  },
  {
    "text": "replacement feature now next I'm going to move on to show you a bunch of performance specific features but before",
    "start": "886250",
    "end": "893000"
  },
  {
    "text": "I do that I want to switch over away from this view project to an angular project instead so we've seen view and",
    "start": "893000",
    "end": "901040"
  },
  {
    "text": "we've been editing it using vs code and now want to do an angular project in Visual Studio the reason for that is a",
    "start": "901040",
    "end": "908029"
  },
  {
    "text": "couple of these features I'm going to show you a specific to the angular template so that's kind of important and the other reason for that is just for",
    "start": "908029",
    "end": "915170"
  },
  {
    "text": "the sake of variety you know we've seen it in vs code let's see that the experience is just the same in vs and that everything works the same in both",
    "start": "915170",
    "end": "922220"
  },
  {
    "text": "of them alright this is the angular project template and as you can see it looks and behaves exactly the same as",
    "start": "922220",
    "end": "928819"
  },
  {
    "text": "the view one and the project layout is again the same as we had before we've",
    "start": "928819",
    "end": "934730"
  },
  {
    "text": "got your usual MVC stuff and we've got client app and then all the angular related junk in there very good okay",
    "start": "934730",
    "end": "942500"
  },
  {
    "text": "first of these performance centric features that I want to show to you is a physical pre-rendering or server-side",
    "start": "942500",
    "end": "949069"
  },
  {
    "text": "pre-rendering to give it more elaborate name and the idea with that is that we can take your angular",
    "start": "949069",
    "end": "955440"
  },
  {
    "text": "components or your react components and normally they only run on the client their client-side code they run on the",
    "start": "955440",
    "end": "961770"
  },
  {
    "text": "client that's what you'd expect but wouldn't it be cool if we could also run them on the server if the server could",
    "start": "961770",
    "end": "967440"
  },
  {
    "text": "execute your angular in your a cube react components then we could send the pre-rendered HTML for the user interface",
    "start": "967440",
    "end": "973290"
  },
  {
    "text": "down to the browser and it could be displayed before even has to fetch and run any JavaScript now as for how that's",
    "start": "973290",
    "end": "980190"
  },
  {
    "text": "beneficial it's all about performance it's about well perceived performance at least it gets your user interface into",
    "start": "980190",
    "end": "986340"
  },
  {
    "text": "the users face very quickly much faster than you would do otherwise so to",
    "start": "986340",
    "end": "991350"
  },
  {
    "text": "demonstrate that I'm going to show you how long this thing takes to load normally now when you create an angular",
    "start": "991350",
    "end": "998820"
  },
  {
    "text": "application by default we have server-side pre-rendering turned on for you automatically in order for me to be",
    "start": "998820",
    "end": "1005270"
  },
  {
    "text": "able to demonstrate what effect that has I've turned it off in this application just so that you can see what happens if",
    "start": "1005270",
    "end": "1010820"
  },
  {
    "text": "you don't have it on and then I'll show you what difference it makes when I do turn it on so I'm in the angular application now and I'm gonna hit reload",
    "start": "1010820",
    "end": "1017120"
  },
  {
    "text": "and I'm gonna keep doing that a few times and you'll see every time I do hit reload we get this word loading that",
    "start": "1017120",
    "end": "1022280"
  },
  {
    "text": "appears in the top corner and it takes about one second or something to come up and you might think well that's fine",
    "start": "1022280",
    "end": "1029120"
  },
  {
    "text": "that's not a big deal it takes one second I think my users can afford to wait one second for this thing to load but in the real world it's probably",
    "start": "1029120",
    "end": "1036170"
  },
  {
    "text": "gonna take quite a lot longer than that because in the real world people are not loading your website from localhost",
    "start": "1036170",
    "end": "1042020"
  },
  {
    "text": "they're loading it over the Internet possibly over a mobile connection and also many of them are probably not using",
    "start": "1042020",
    "end": "1048140"
  },
  {
    "text": "very fast laptops they might be using a slow mobile device as well so in the real world it might take a lot longer to",
    "start": "1048140",
    "end": "1053780"
  },
  {
    "text": "load and to try and get a sense of that let's throttle the browser down to 3G network speed and I'm going to take the",
    "start": "1053780",
    "end": "1060290"
  },
  {
    "text": "CPU down by a factor of 10 just so that we can see what effect that has as well now how long does this take to load now",
    "start": "1060290",
    "end": "1067040"
  },
  {
    "text": "in a more real-world kind of condition I'm gonna start it now and and we're",
    "start": "1067040",
    "end": "1072830"
  },
  {
    "text": "waiting oh we've got the way to loading that's good but we are still waiting",
    "start": "1072830",
    "end": "1078220"
  },
  {
    "text": "that's still waiting and I am hoping that it does finish soon quite soon okay there we go finally it",
    "start": "1078220",
    "end": "1085600"
  },
  {
    "text": "came up alright that took about ten seconds and that is quite a realistic estimate of how long this sort of thing",
    "start": "1085600",
    "end": "1092050"
  },
  {
    "text": "is going to take or it would do if you didn't have server-side pre-rendering and you shipped it in development mode like this thing is running right now so",
    "start": "1092050",
    "end": "1098890"
  },
  {
    "text": "ten seconds is obviously much too long what can we do to make this thing load faster well this is where server-side",
    "start": "1098890",
    "end": "1105670"
  },
  {
    "text": "pre-rendering comes in as one of the first features and I'm going to turn that on for us right now so I'm going to",
    "start": "1105670",
    "end": "1112270"
  },
  {
    "text": "actually I'm going to turn off the throttling for one second I'll explain why in a minute and then I'm going to go to the place",
    "start": "1112270",
    "end": "1119350"
  },
  {
    "text": "where we control this this is index CS HTML which is the res of you that the",
    "start": "1119350",
    "end": "1124900"
  },
  {
    "text": "that is hosting the entire angular application it's all getting put into this app element there and if we want",
    "start": "1124900",
    "end": "1131350"
  },
  {
    "text": "server-side pre-rendering on which we do have by default when you create your project we would have this ASP now I",
    "start": "1131350",
    "end": "1137440"
  },
  {
    "text": "want you to pre render this module called main - server and what's inside",
    "start": "1137440",
    "end": "1143020"
  },
  {
    "text": "there it's a bit of bootstrapping code that knows how to run your angular application on the server so I'll hit",
    "start": "1143020",
    "end": "1149230"
  },
  {
    "text": "save on that and I come back and reload and I'm just waiting for the application to restart there and now it has",
    "start": "1149230",
    "end": "1155080"
  },
  {
    "text": "restarted let's get a sense of how fast it runs when I throttle it in exactly the same way as before I'm going to go",
    "start": "1155080",
    "end": "1161380"
  },
  {
    "text": "back to a blank page and I'm gonna start it loading now and we'll see how long it comes how long it takes to come up this",
    "start": "1161380",
    "end": "1167890"
  },
  {
    "text": "time and it's there in about two and a half maybe three seconds I'm not sure but it's certainly much much faster than",
    "start": "1167890",
    "end": "1173710"
  },
  {
    "text": "it was before now in the background we're still loading the JavaScript and running it which is not going to be any",
    "start": "1173710",
    "end": "1180070"
  },
  {
    "text": "faster than it was before but the user saw your user interface much much quicker so they are going to have a much",
    "start": "1180070",
    "end": "1186970"
  },
  {
    "text": "better perceived experience there and that is the the real benefit of",
    "start": "1186970",
    "end": "1192400"
  },
  {
    "text": "server-side pre-rendering that feature is available in the angular template and also in the react with redux template",
    "start": "1192400",
    "end": "1199090"
  },
  {
    "text": "and it also gives rise to some other performance benefits as well and the",
    "start": "1199090",
    "end": "1204940"
  },
  {
    "text": "next performance benefit I can show you is a very new thing called HTTP priming which we've just put in in the last",
    "start": "1204940",
    "end": "1210970"
  },
  {
    "text": "month or so and this is to do with reducing the number of network which Quest's that the browser needs to make",
    "start": "1210970",
    "end": "1217390"
  },
  {
    "text": "to show that I'm going to switch on to this fetch data page fetch data works by",
    "start": "1217390",
    "end": "1223809"
  },
  {
    "text": "making HTTP requests to the server to get a list of these weather forecasts and then renders it and we can see those",
    "start": "1223809",
    "end": "1230380"
  },
  {
    "text": "requests if I reload here and we'll have a look in the browser Network tab and you can see that there are two xhr or",
    "start": "1230380",
    "end": "1237820"
  },
  {
    "text": "Ajax requests whatever you want to call them we can own or this web pack one that's just a development time feature",
    "start": "1237820",
    "end": "1242890"
  },
  {
    "text": "the one that I'm interested in now is this one that's requesting API slash sample data slash weather forecasts and",
    "start": "1242890",
    "end": "1249010"
  },
  {
    "text": "that is returning this JSON data with all of the weather forecasts in it okay",
    "start": "1249010",
    "end": "1254380"
  },
  {
    "text": "so that is how this data is showing up and it's a very common pattern when you build a single page application but your",
    "start": "1254380",
    "end": "1261070"
  },
  {
    "text": "application first loads so your initial UI comes up in a blank state and then",
    "start": "1261070",
    "end": "1266110"
  },
  {
    "text": "immediately it starts making some network requests to the server to get some data that it then wants to render",
    "start": "1266110",
    "end": "1271570"
  },
  {
    "text": "which makes total sense but it's not very efficient because if you think about it",
    "start": "1271570",
    "end": "1277090"
  },
  {
    "text": "we just did server-side pre-rendering okay so when this was rendering on the server it already collected all the data",
    "start": "1277090",
    "end": "1282429"
  },
  {
    "text": "that it needed and then he sent that down in the form of HTML so when we run on the client why should we be fetching",
    "start": "1282429",
    "end": "1289299"
  },
  {
    "text": "the same data again a second time that seems kind of wasteful couldn't we use the server-side pre-rendering in some",
    "start": "1289299",
    "end": "1295960"
  },
  {
    "text": "way to capture all the data that's needed for the initial page load and then somehow bundled that up so that the",
    "start": "1295960",
    "end": "1302049"
  },
  {
    "text": "client-side code could use it without having to make extra Network requests well that's what HTTP priming is going",
    "start": "1302049",
    "end": "1308110"
  },
  {
    "text": "to do for us and to enable that we just have to configure that on a per request",
    "start": "1308110",
    "end": "1313270"
  },
  {
    "text": "basis by loading the data using a different API and that works like this",
    "start": "1313270",
    "end": "1318520"
  },
  {
    "text": "this here is the source code for the fetch data component I know it looks like quite a lot of code but it's not",
    "start": "1318520",
    "end": "1323799"
  },
  {
    "text": "too bad we've got this interface here that defines the structure of the weather forecast data object we've got",
    "start": "1323799",
    "end": "1330370"
  },
  {
    "text": "loads of angular related boilerplate that we can ignore up there and then we've got this property forecast which",
    "start": "1330370",
    "end": "1335830"
  },
  {
    "text": "is the array of weather forecast objects and then in the component constructor we're using angular's HTTP library to",
    "start": "1335830",
    "end": "1343030"
  },
  {
    "text": "make a get request to this URL and then we're using that as the resulting data that we bleh okay now if we want to use HTTP",
    "start": "1343030",
    "end": "1350870"
  },
  {
    "text": "priming then instead of using angular's HTTP library directly we can use HTTP",
    "start": "1350870",
    "end": "1356840"
  },
  {
    "text": "with state transfer now what that is is a very very simple wrapper around angular's HTTP library so it's",
    "start": "1356840",
    "end": "1363620"
  },
  {
    "text": "compatible in every way with everything that angular HTTP does it's just layering on a small extra",
    "start": "1363620",
    "end": "1369050"
  },
  {
    "text": "feature which is that when it runs on the server it captures the content transfers that to the client and then",
    "start": "1369050",
    "end": "1374450"
  },
  {
    "text": "what when first loads on the client it can reuse the same data without having to refactor so I'm going to use that now",
    "start": "1374450",
    "end": "1380600"
  },
  {
    "text": "as the HTTP library that I'm making the call through and I'll save that come back over here and then I'm going to hit",
    "start": "1380600",
    "end": "1387110"
  },
  {
    "text": "reload again and we should see in the list of network requests we've gone down",
    "start": "1387110",
    "end": "1392450"
  },
  {
    "text": "we were doing seven requests before we've now gone down to doing six requests and you can see that there is",
    "start": "1392450",
    "end": "1398360"
  },
  {
    "text": "no more requests to the weather forecast endpoint on the server because we've been able to pick up that data",
    "start": "1398360",
    "end": "1404230"
  },
  {
    "text": "automatically and if you wondering how that state is actually transferred to the client well you can just look at the",
    "start": "1404230",
    "end": "1409400"
  },
  {
    "text": "HTML source and you will see that after all the pre-rendered content here down at the very bottom we've got this big",
    "start": "1409400",
    "end": "1416320"
  },
  {
    "text": "blob of hard to read stuff which provides information about the initial",
    "start": "1416320",
    "end": "1421820"
  },
  {
    "text": "page load and it's telling the client-side code when you make your first request to this URL here is a",
    "start": "1421820",
    "end": "1427210"
  },
  {
    "text": "response that you can use in place of what the server would have returned to you okay there are various ways you can",
    "start": "1427210",
    "end": "1433610"
  },
  {
    "text": "then control whether that data is reused if the user never gets around and comes back or whether you want it to fetch new",
    "start": "1433610",
    "end": "1439520"
  },
  {
    "text": "content or whatever you can control that in various ways but there we go that's the basics of HTTP priming okay now next",
    "start": "1439520",
    "end": "1447860"
  },
  {
    "text": "feature ahead of time compilation and publishing what on earth is all that",
    "start": "1447860",
    "end": "1452930"
  },
  {
    "text": "well you can probably guess what the publishing stuff is about this application that I'm running right now",
    "start": "1452930",
    "end": "1459020"
  },
  {
    "text": "is running in development mode which is not designed for runtime performance it's designed for convenience for you as",
    "start": "1459020",
    "end": "1465080"
  },
  {
    "text": "a developer and the runtime performance is not awesome so for one thing the",
    "start": "1465080",
    "end": "1470420"
  },
  {
    "text": "application is kind of massive if I do a reload here we can see that the whole",
    "start": "1470420",
    "end": "1476000"
  },
  {
    "text": "application there is 1.1 megabytes which is kind of for a web page right but what is in",
    "start": "1476000",
    "end": "1482360"
  },
  {
    "text": "there then is things like the source maps for all your application source code which is pretty big and also all of",
    "start": "1482360",
    "end": "1488419"
  },
  {
    "text": "the code is not even minified so it's so you know way bigger than you would want",
    "start": "1488419",
    "end": "1493580"
  },
  {
    "text": "in production also if you were to measure the amount of CPU time that it takes to startup which I'm not going to",
    "start": "1493580",
    "end": "1500150"
  },
  {
    "text": "but I have done it comes out on this laptop anyway to take about 0.5 of a second of just pure CPU time in order to",
    "start": "1500150",
    "end": "1507700"
  },
  {
    "text": "parse all the initial code and render that initial UI ok so that's not great",
    "start": "1507700",
    "end": "1515630"
  },
  {
    "text": "what could we do to make that faster well let's think about what the application is doing when it starts up",
    "start": "1515630",
    "end": "1520789"
  },
  {
    "text": "what is this code running what are the expensive parts of it one of the expensive parts of it is to do with the",
    "start": "1520789",
    "end": "1526700"
  },
  {
    "text": "templates that we're rendering now I just want to show you what form these templates are when they get to the",
    "start": "1526700",
    "end": "1532010"
  },
  {
    "text": "browser so to do that I'm going to copy a bit of a string from here and I'm",
    "start": "1532010",
    "end": "1537620"
  },
  {
    "text": "going to go to the sources tab and I'm going to search for that string and we will find it here in one of the compiled",
    "start": "1537620",
    "end": "1543620"
  },
  {
    "text": "JavaScript bundles and let's have a look let's make this a bit bigger no that's",
    "start": "1543620",
    "end": "1548960"
  },
  {
    "text": "not okay so you can see if your eyesight is adequate that this is how the",
    "start": "1548960",
    "end": "1554870"
  },
  {
    "text": "template shows up as far as the browser is concerned it's a big string and inside that string are all the angular",
    "start": "1554870",
    "end": "1561590"
  },
  {
    "text": "directives that are needed to make that the template actually do something useful ok now that might seem reasonable",
    "start": "1561590",
    "end": "1568220"
  },
  {
    "text": "obviously the client-side code needs to have access to that Templer and it needs to know what all the directives are and",
    "start": "1568220",
    "end": "1573260"
  },
  {
    "text": "such in it but what's not really great is the fact that it's arriving in the form of this string because in order for",
    "start": "1573260",
    "end": "1579679"
  },
  {
    "text": "you to execute that it has to compile it into something that can be executed or at least has to parse it into some sort",
    "start": "1579679",
    "end": "1585500"
  },
  {
    "text": "of structure that it can do something meaningful with and it does in fact go through a sort of compilation process",
    "start": "1585500",
    "end": "1590539"
  },
  {
    "text": "there and that's a very CPU intensive business that it's doing and also it",
    "start": "1590539",
    "end": "1595880"
  },
  {
    "text": "comes with the drawback that because this string can't be statically analyzed during compilation we've no idea which",
    "start": "1595880",
    "end": "1602270"
  },
  {
    "text": "API is that you might be invoking from it so there's no possible way that we could strip out any code that you're not",
    "start": "1602270",
    "end": "1607909"
  },
  {
    "text": "using because you might be using anything we can't interpret that string in any meaningful way so we just have to",
    "start": "1607909",
    "end": "1614310"
  },
  {
    "text": "and the entire application down and then the browser has to do this client-side compilation process so this is a problem",
    "start": "1614310",
    "end": "1620790"
  },
  {
    "text": "that ahead of time compilation fixes instead of sending the template to the",
    "start": "1620790",
    "end": "1626760"
  },
  {
    "text": "browser as a string it's going to compile it at Build time and then will send it in a different format okay",
    "start": "1626760",
    "end": "1632910"
  },
  {
    "text": "now if you want to build your application for production you can do so in a couple of ways one of the ways you could do it is using Visual Studio you",
    "start": "1632910",
    "end": "1640080"
  },
  {
    "text": "can go to its publish UI like that and follow through one of these wizards and that will do it for you the other way",
    "start": "1640080",
    "end": "1645780"
  },
  {
    "text": "you can do it is on the command line so you can run let's see my angular app you",
    "start": "1645780",
    "end": "1652110"
  },
  {
    "text": "can run dart snare to publish configuration release like that and that's also going to produce a",
    "start": "1652110",
    "end": "1658140"
  },
  {
    "text": "production build of your application but it takes about two minutes so I'm not going to wait for that I've already got",
    "start": "1658140",
    "end": "1663510"
  },
  {
    "text": "a published version of this application running locally on my machine and I can bring that out for you it's on port 80",
    "start": "1663510",
    "end": "1669600"
  },
  {
    "text": "like that so when that runs it will come up and it will look exactly the same as before but this is now in production",
    "start": "1669600",
    "end": "1674850"
  },
  {
    "text": "mode so how is it different well let's compare the size remember it is 1.1 megabytes before it's now gone down to",
    "start": "1674850",
    "end": "1682100"
  },
  {
    "text": "410 kilobytes ok so it's still a substantial application but it's a major improvement the main gains there come",
    "start": "1682100",
    "end": "1689310"
  },
  {
    "text": "from the fact that we're not shipping source Maps and it's all fully minified and the way you'd expect but also the",
    "start": "1689310",
    "end": "1696000"
  },
  {
    "text": "templates are now pre compiled and if we want to see what effect that has let's do the same thing I did before let's",
    "start": "1696000",
    "end": "1702150"
  },
  {
    "text": "find how this looks as far as the browser is concerned at runtime so I'm going to search first string one more",
    "start": "1702150",
    "end": "1708360"
  },
  {
    "text": "time and we find it here now this is kind of hard to make any sense of because what we've got now is the",
    "start": "1708360",
    "end": "1715410"
  },
  {
    "text": "templates been split up into all kinds of strings and API calls and such so you can see that that line of text here is",
    "start": "1715410",
    "end": "1722100"
  },
  {
    "text": "now a JavaScript string and it's mixed in with all this crazy-looking code which represents the actual compiled",
    "start": "1722100",
    "end": "1727910"
  },
  {
    "text": "template that angular can just run immediately on the client without going through any sort of parsing or compilation process okay so that's good",
    "start": "1727910",
    "end": "1735900"
  },
  {
    "text": "but how much difference does this stuff make well I've tried to measure it a",
    "start": "1735900",
    "end": "1740910"
  },
  {
    "text": "little bit first we'll start with the effects on the page size as I just showed you when you are running a",
    "start": "1740910",
    "end": "1746970"
  },
  {
    "text": "development mobile you've got this roughly one point one megabyte application that if you do a",
    "start": "1746970",
    "end": "1752340"
  },
  {
    "text": "production build but without ahead of time compilation you just do the minification stuff then it will drop",
    "start": "1752340",
    "end": "1758429"
  },
  {
    "text": "down to about half of that about 500 kilobytes and when you enable the ahead of time compilation it can get a bit",
    "start": "1758429",
    "end": "1764309"
  },
  {
    "text": "smaller still so it takes about another 20% off and the main reason for that is a feature called tree shaking which is",
    "start": "1764309",
    "end": "1771509"
  },
  {
    "text": "that because these templates are now compiled it can be fully statically analyzed by web pack and that's going to",
    "start": "1771509",
    "end": "1777360"
  },
  {
    "text": "take some of the code out any parts of the angular libraries that you're not calling can be just stripped out now I",
    "start": "1777360",
    "end": "1782879"
  },
  {
    "text": "know that 20% might not seem like a big difference but of the original 500 kilobytes not all of it was angular in",
    "start": "1782879",
    "end": "1788759"
  },
  {
    "text": "the first place so we're stripping out a bigger chunk of angular then that looks like but also in",
    "start": "1788759",
    "end": "1794279"
  },
  {
    "text": "the real world you are going to invoke quite a large portion of angular surface area so you shouldn't expect it to remove you know like a hundred percent",
    "start": "1794279",
    "end": "1800970"
  },
  {
    "text": "of it you're gonna still have all the code that you invoke okay so that might not seem super amazingly impressive but",
    "start": "1800970",
    "end": "1807299"
  },
  {
    "text": "it's better when we look at it from a startup CPI CPU time point of view it does take on my laptop at least about",
    "start": "1807299",
    "end": "1814769"
  },
  {
    "text": "half a second to run through the application startup process in terms of CPU time consumed if we do a production",
    "start": "1814769",
    "end": "1821789"
  },
  {
    "text": "build on that but without t then it drops down a bit it drops down to about 400 milliseconds and that is basically",
    "start": "1821789",
    "end": "1829830"
  },
  {
    "text": "because the minified code is smaller so there's less work for the browser to do in terms of parsing gear it's it doesn't",
    "start": "1829830",
    "end": "1835980"
  },
  {
    "text": "make a big difference but it does strip off a little bit however when we turn ahead of time compilation on then it",
    "start": "1835980",
    "end": "1841289"
  },
  {
    "text": "drops down quite a lot more dramatically drop down so about half of the original time and that's what you should expect",
    "start": "1841289",
    "end": "1847230"
  },
  {
    "text": "right because we're removing a major part of the application startup process we're removing all the template",
    "start": "1847230",
    "end": "1852600"
  },
  {
    "text": "compilations so it should get a lot faster and it does and that is a valuable feature so that is ahead of",
    "start": "1852600",
    "end": "1859440"
  },
  {
    "text": "time compilation and publishing now ahead of time completion is an angular specific feature if you're using react",
    "start": "1859440",
    "end": "1864960"
  },
  {
    "text": "you might think hmmm I wonder if I could do the same there and the answer is you already are doing because react doesn't",
    "start": "1864960",
    "end": "1870809"
  },
  {
    "text": "have a concept of templates of strings everything in react is already code so there's no meaning to this feature in",
    "start": "1870809",
    "end": "1876509"
  },
  {
    "text": "the first place in react world but it is valuable if you're doing an angular template okay debugging yes that's",
    "start": "1876509",
    "end": "1883559"
  },
  {
    "text": "another thing that we all love doing right let me just show you very very quickly how that's going to work I have",
    "start": "1883559",
    "end": "1888960"
  },
  {
    "text": "got my application running here there are a couple of different ways that you can use a debugger with your application",
    "start": "1888960",
    "end": "1894360"
  },
  {
    "text": "the most obvious one is that you can use the one that's built into your browser so let's say I want to debug this counter thing here I'm going to open",
    "start": "1894360",
    "end": "1901429"
  },
  {
    "text": "counter counter component and what am i",
    "start": "1901429",
    "end": "1906780"
  },
  {
    "text": "doing that's the one counter component yes now as you can see we've got all the source maps set up so that we can see",
    "start": "1906780",
    "end": "1912600"
  },
  {
    "text": "the original types it's type script code in the browser you're not seeing the compiled code you'll see in your type",
    "start": "1912600",
    "end": "1917790"
  },
  {
    "text": "script and then you can set a breakpoint on that and then that breakpoint is going to here and you can inspect your",
    "start": "1917790",
    "end": "1923820"
  },
  {
    "text": "application and step and everything all in terms of the type script source code so that's good but one thing that people often tell us",
    "start": "1923820",
    "end": "1930330"
  },
  {
    "text": "is I don't want to do the debugging in the browser I want to do it in the IDE I wrote my code in the IDE why can't I",
    "start": "1930330",
    "end": "1937230"
  },
  {
    "text": "do it there - well the good news is that you can that's very straightforward for",
    "start": "1937230",
    "end": "1942929"
  },
  {
    "text": "you anyway because this feature is set up by default in the templates so if you",
    "start": "1942929",
    "end": "1948480"
  },
  {
    "text": "are in vs you set a breakpoint and then you start up your application with a debugger by pressing f5 then it will",
    "start": "1948480",
    "end": "1954390"
  },
  {
    "text": "launch a special instance of Chrome which is configured to listen for debugger connections and then when you",
    "start": "1954390",
    "end": "1960650"
  },
  {
    "text": "do the right thing you will hit your breakpoints and again you can inspect your application directly from vs and",
    "start": "1960650",
    "end": "1967110"
  },
  {
    "text": "that all works in exactly with it the way that you would want getting all this stuff to work together is a little bit",
    "start": "1967110",
    "end": "1972690"
  },
  {
    "text": "tricky to set up but that's the whole point of these templates we've figured out the details for you and made sure that it just works out of the box right",
    "start": "1972690",
    "end": "1980520"
  },
  {
    "text": "last thing another one of everyone's favorite tasks is tests how many of you",
    "start": "1980520",
    "end": "1985920"
  },
  {
    "text": "write automated tests for your client-side UI code well guys more than",
    "start": "1985920",
    "end": "1991020"
  },
  {
    "text": "I want to thought that's like a quarter of people no I'm sorry what is that",
    "start": "1991020",
    "end": "1998550"
  },
  {
    "text": "ah yes yes yes so many of the starting",
    "start": "1998550",
    "end": "2003950"
  },
  {
    "text": "points for applications do include tests these days so that is definitely going to to contribute to that ok that's great good job and also other people good job",
    "start": "2003950",
    "end": "2011330"
  },
  {
    "text": "because you're probably making a pragmatic business decision as well and we're not judging anyone okay so if",
    "start": "2011330",
    "end": "2016430"
  },
  {
    "text": "you want to write tests then there are obviously the many different testing technologies many different ways you can",
    "start": "2016430",
    "end": "2022160"
  },
  {
    "text": "set it up and we have got one such system set up for you out of the box here as well and if you want to do that",
    "start": "2022160",
    "end": "2028250"
  },
  {
    "text": "then you can go to your command line and you can run NPM test that is going to start up an instance of karma which many",
    "start": "2028250",
    "end": "2035270"
  },
  {
    "text": "of you will have heard of it's the most commonly used testing system for angular applications and the way that works is",
    "start": "2035270",
    "end": "2041150"
  },
  {
    "text": "that it launches a real browser and it runs your angular components or your other angular services or whatever",
    "start": "2041150",
    "end": "2046670"
  },
  {
    "text": "inside that real browser we're not seeing the UI because so it doesn't we don't need to see the UI it's pushing",
    "start": "2046670",
    "end": "2053450"
  },
  {
    "text": "the tests into the browser over a WebSocket connection executing them there and then getting the results out very quickly so we can see that it ran",
    "start": "2053450",
    "end": "2060080"
  },
  {
    "text": "our tests and it's executed to off two of them and they're both passed you're probably thinking what two tests did it",
    "start": "2060080",
    "end": "2067460"
  },
  {
    "text": "actually run I don't remember writing two tests well let me show you we've got two tests set up and by default just as",
    "start": "2067460",
    "end": "2074060"
  },
  {
    "text": "an example and they are tests for the counter component and they are written with chai the assertion framework and",
    "start": "2074060",
    "end": "2082010"
  },
  {
    "text": "karma that actually runs the tests there and what it does in this case is we've",
    "start": "2082010",
    "end": "2087230"
  },
  {
    "text": "got a set of specifications for the counter component and what it does is before each of the tests is going to",
    "start": "2087230",
    "end": "2092929"
  },
  {
    "text": "create an instance of that counter component and then do two specifications the first one it should display a title",
    "start": "2092929",
    "end": "2099530"
  },
  {
    "text": "and the way that works is we will do a little query over the Dom to find the h1 elements that's been rendered by that",
    "start": "2099530",
    "end": "2105710"
  },
  {
    "text": "template by that component and then we will check that the text in that equals a particular value that makes sense and",
    "start": "2105710",
    "end": "2111950"
  },
  {
    "text": "the other one is verifying that the count feature actually works and the count goes up when you click the button",
    "start": "2111950",
    "end": "2117290"
  },
  {
    "text": "and that works by finding the text element that is displaying this count and checking that the initial value is",
    "start": "2117290",
    "end": "2123170"
  },
  {
    "text": "zero and then it finds the increment button it does a click on that increment button it waits for angular to do all",
    "start": "2123170",
    "end": "2129590"
  },
  {
    "text": "its funky stuff in the background and update or everything in the UI and then it checks that the updated text content",
    "start": "2129590",
    "end": "2135590"
  },
  {
    "text": "in that element is now 1 which is nice ok now another thing that karma does",
    "start": "2135590",
    "end": "2141830"
  },
  {
    "text": "which is pretty cool it's kind of similar to the webpack hot module replacement feature is that it's watching you always",
    "start": "2141830",
    "end": "2148380"
  },
  {
    "text": "watching you waiting until you do something and then as soon as it sees that you've changed your code it jumps",
    "start": "2148380",
    "end": "2153840"
  },
  {
    "text": "into life and it's gonna run all your tests again immediately which is quite nice if you want to do your testing in a sort of test first kind of way if you",
    "start": "2153840",
    "end": "2160890"
  },
  {
    "text": "want to do like test-driven development let me show you a little example of that so we want to add a new feature to our",
    "start": "2160890",
    "end": "2166980"
  },
  {
    "text": "application we've already got this increment button on our counter need to",
    "start": "2166980",
    "end": "2172170"
  },
  {
    "text": "restart that okay so we've already got the increment feature on our application let's say that we want to also implement",
    "start": "2172170",
    "end": "2178860"
  },
  {
    "text": "a decrement feature because who knows maybe you incremented the counter too far and then you need to undo your",
    "start": "2178860",
    "end": "2184020"
  },
  {
    "text": "terrible mistake and go back to a lower number okay so I can increment an hour",
    "start": "2184020",
    "end": "2189150"
  },
  {
    "text": "what to decrement as well but I want to do this in a test first kind of way so I'm going to start by writing some tests",
    "start": "2189150",
    "end": "2194490"
  },
  {
    "text": "okay let's say that we also want to test also test decrement now like any high",
    "start": "2194490",
    "end": "2203700"
  },
  {
    "text": "quality developer the way that we're going to write some tests is by copying an existing test pasting it and then",
    "start": "2203700",
    "end": "2209940"
  },
  {
    "text": "making a very small or the smallest modification we can get away with so we're going to change this to a decrement button and we're going to say",
    "start": "2209940",
    "end": "2216990"
  },
  {
    "text": "we expect it to have a CSS class of Dec and we'll find that and then we're going to click on this decrement button we'll",
    "start": "2216990",
    "end": "2223500"
  },
  {
    "text": "wait for our angular to do its stuff and then we will check that the count goes back down from 1 to zero",
    "start": "2223500",
    "end": "2228660"
  },
  {
    "text": "I haven't saved that yet and before I do save it let me just rearrange my windows slightly so that we can see what's going",
    "start": "2228660",
    "end": "2235350"
  },
  {
    "text": "on in karma world as well let's make this go down to the bottom of the screen ok so we can now hit save in vs and when",
    "start": "2235350",
    "end": "2244470"
  },
  {
    "text": "we do hit save you'll see that karma jumps in and it says right you did something I ran your tests again we",
    "start": "2244470",
    "end": "2249840"
  },
  {
    "text": "executed two of two but oh no one of them failed now and you think ok why did my test fail and you look through the",
    "start": "2249840",
    "end": "2256200"
  },
  {
    "text": "list of errors and you see cannot read property click of null which makes sense because we are trying to click this",
    "start": "2256200",
    "end": "2262290"
  },
  {
    "text": "decrement button and that button does not exist so that's not going to work let's go and add the decrement button to",
    "start": "2262290",
    "end": "2268710"
  },
  {
    "text": "our view to our template that so I'm going to copy again the increment button",
    "start": "2268710",
    "end": "2274890"
  },
  {
    "text": "I'm going to change its class to Dec and we will invoke them called decrement counter and will change",
    "start": "2274890",
    "end": "2280380"
  },
  {
    "text": "the text on it to decrement and I'll hit save one more time and we'll see the test run again and oh dear it still",
    "start": "2280380",
    "end": "2286950"
  },
  {
    "text": "failed why did it fail well if we check the errors we'll find out it's because this method decrement counter does not",
    "start": "2286950",
    "end": "2292710"
  },
  {
    "text": "exist so we will go into our code and yet again do more copy paste and we will",
    "start": "2292710",
    "end": "2297900"
  },
  {
    "text": "change this to decrement counter and we will make that count go down by one now",
    "start": "2297900",
    "end": "2303300"
  },
  {
    "text": "I hit save again and this time array executed to of to success so we've done",
    "start": "2303300",
    "end": "2308610"
  },
  {
    "text": "a new feature and we proved it with tests ok and in fact in the background",
    "start": "2308610",
    "end": "2314700"
  },
  {
    "text": "hot module replacement has been watching us all this time and updating stuff in the background so without even reloading",
    "start": "2314700",
    "end": "2319740"
  },
  {
    "text": "we've already got our new decrement button and we know it's going to work right we've got a test that proves that",
    "start": "2319740",
    "end": "2324750"
  },
  {
    "text": "tests don't lie so we knew that was going to work but I'm just checking it manually to be sure ok right that is",
    "start": "2324750",
    "end": "2331770"
  },
  {
    "text": "tests and that is all the functionality that I want to show you in these project templates but now I want to talk a",
    "start": "2331770",
    "end": "2338310"
  },
  {
    "text": "little bit about web pack because web pack is really central to a lot of the functionality that I've been showing you",
    "start": "2338310",
    "end": "2344400"
  },
  {
    "text": "today but quite a few people are not totally sure it more shows of hands",
    "start": "2344400",
    "end": "2349560"
  },
  {
    "text": "please how many people are using webpack in somewhere today oh that's good that's 60% now ok that's probably like more",
    "start": "2349560",
    "end": "2357120"
  },
  {
    "text": "than doubling of the proportion over the last year so excellent ok now what I'm",
    "start": "2357120",
    "end": "2362520"
  },
  {
    "text": "going to show you now is a bit of the web pack for anyone who's not familiar with web pack I want to walk you through",
    "start": "2362520",
    "end": "2368700"
  },
  {
    "text": "what this thing is actually doing and how it differs from a different client-side build system like grunt or",
    "start": "2368700",
    "end": "2375060"
  },
  {
    "text": "gulp because web pack is often thought of as being in that family with grunt and gulp but it is not it is a different",
    "start": "2375060",
    "end": "2382260"
  },
  {
    "text": "kind of thing it's fundamentally trying to do stuff in a totally different way and I think it's important that you understand what that is and based on",
    "start": "2382260",
    "end": "2389130"
  },
  {
    "text": "that understanding we will then be able to look at extending that build system to do something useful for us ok to",
    "start": "2389130",
    "end": "2396210"
  },
  {
    "text": "understand what web pack is doing I think we shall start by looking at the",
    "start": "2396210",
    "end": "2401580"
  },
  {
    "text": "web pack configuration file so I'm gonna open up that right now and the first thing you will think if you've never",
    "start": "2401580",
    "end": "2407820"
  },
  {
    "text": "seen that sort of thing before is oh my goodness this is hideous what on earth is all that stuff",
    "start": "2407820",
    "end": "2413579"
  },
  {
    "text": "we've got 84 lines of just mysterious garbage and I don't know what any of that stuff is well that would be a very",
    "start": "2413579",
    "end": "2421109"
  },
  {
    "text": "reasonable thing to think the first time you see this Web configs are never elegant but they are very powerful and",
    "start": "2421109",
    "end": "2427710"
  },
  {
    "text": "in order to understand it I want you to just remember three key concepts all",
    "start": "2427710",
    "end": "2434250"
  },
  {
    "text": "right I'm gonna walk you through it in a minute but the three concepts that you need to burn into your brain are number one that your web.config has an entry",
    "start": "2434250",
    "end": "2441450"
  },
  {
    "text": "point in this case the webpack entry point is a file called boot browser dot TS I'll explain what that is used for in",
    "start": "2441450",
    "end": "2448290"
  },
  {
    "text": "a minute but that's fact one fact number two is that we've got some rules and each one of those rules tells web packed",
    "start": "2448290",
    "end": "2454349"
  },
  {
    "text": "what to do with a particular type of file and finally fact three we've got some plugins and as for what they do",
    "start": "2454349",
    "end": "2460500"
  },
  {
    "text": "I'll tell you in a minute okay three facts we've got an entry point we've got rules and we've got plugins what does all that do for us then okay this is",
    "start": "2460500",
    "end": "2467310"
  },
  {
    "text": "what web pack is doing when it runs it starts with your entry point which in our case was a typescript file and web",
    "start": "2467310",
    "end": "2474390"
  },
  {
    "text": "pack itself does not have any native understanding of typescript so in order to use it we used to use a typescript",
    "start": "2474390",
    "end": "2481050"
  },
  {
    "text": "loader which is something that you can get from NPM now you can have loaders for all kinds of different files in web",
    "start": "2481050",
    "end": "2487650"
  },
  {
    "text": "pack and they do two main things the first thing they do is not surprisingly",
    "start": "2487650",
    "end": "2492660"
  },
  {
    "text": "they deal with compiling that file in some way or put converting it into whatever sort of output format that",
    "start": "2492660",
    "end": "2498900"
  },
  {
    "text": "particular loader wants to produce so in the typescript loader case obviously it's going to do the types go",
    "start": "2498900",
    "end": "2504119"
  },
  {
    "text": "compilation and produce JavaScript so that's the first thing it does the second thing it does is it explains to",
    "start": "2504119",
    "end": "2509280"
  },
  {
    "text": "web pack how to detect the dependencies on other files so that web pack can know that this typescript file for example",
    "start": "2509280",
    "end": "2515849"
  },
  {
    "text": "might reference another type script file so the typescript loader tells web pack about that dependency and then maybe",
    "start": "2515849",
    "end": "2521700"
  },
  {
    "text": "you're on the time script file references some more typescript files and their reference and some more and you end up with this big dependency",
    "start": "2521700",
    "end": "2527280"
  },
  {
    "text": "graph of typescript stuff but that's not all because your typescript files mind",
    "start": "2527280",
    "end": "2532319"
  },
  {
    "text": "also representing reference something else like a JavaScript file and that's what we've been doing all along so far",
    "start": "2532319",
    "end": "2537540"
  },
  {
    "text": "when we reference angular for example angular is shipped as a NPM package which contains JavaScript files and",
    "start": "2537540",
    "end": "2543930"
  },
  {
    "text": "that's what these types could file our referencing and these they will be loaded by the JavaScript loader which",
    "start": "2543930",
    "end": "2550050"
  },
  {
    "text": "tells webpack how to detect more dependencies for example two more JavaScript files which could even be in",
    "start": "2550050",
    "end": "2556260"
  },
  {
    "text": "separate NPM packages so again you could have a chain of dependencies that runs through a set of third-party NPM",
    "start": "2556260",
    "end": "2562349"
  },
  {
    "text": "packages and webpack knows how to find all of that but it's not just code it might seem surprising but you could even",
    "start": "2562349",
    "end": "2568319"
  },
  {
    "text": "have a dependency from a typescript file on something like an HTML file for",
    "start": "2568319",
    "end": "2573390"
  },
  {
    "text": "example if you have got an angular component which references an HTML file as one of its templates and again web",
    "start": "2573390",
    "end": "2580980"
  },
  {
    "text": "pack does not understand that natively but you've got a loader that tells web pack what to do with that and how to detect the fact that maybe it depends on",
    "start": "2580980",
    "end": "2587819"
  },
  {
    "text": "a CSS file which could be loaded with the CSS loader maybe it depends on another CSS file through an import",
    "start": "2587819",
    "end": "2593520"
  },
  {
    "text": "statement and maybe the other CSS file references an image or more images and there are various different ways that",
    "start": "2593520",
    "end": "2599760"
  },
  {
    "text": "you can tell web pack to load and do useful things with images depending on exactly how you want them to be bundled and output and if you are totally mad",
    "start": "2599760",
    "end": "2607740"
  },
  {
    "text": "you could even go further and create your own completely custom type of file and as long as you implement a",
    "start": "2607740",
    "end": "2613410"
  },
  {
    "text": "corresponding loader for it that tells web pack how to detect those dependencies and what sort of output format you want then all of that stuff",
    "start": "2613410",
    "end": "2619559"
  },
  {
    "text": "is going to work as well so this is one of the core differences between web pack and something like a grunt or gulp is",
    "start": "2619559",
    "end": "2625530"
  },
  {
    "text": "that it's not just processing all the files in the directory it specifically understands all of the dependencies among your files and that",
    "start": "2625530",
    "end": "2632520"
  },
  {
    "text": "allows it to do some pretty cool stuff so what does it do with this big graph",
    "start": "2632520",
    "end": "2638160"
  },
  {
    "text": "of information about all the structure of your project well it takes all that and it makes it available to all of your",
    "start": "2638160",
    "end": "2644700"
  },
  {
    "text": "plugins and the plugins can process that graph of information in whatever they want and for example they might do stuff",
    "start": "2644700",
    "end": "2651240"
  },
  {
    "text": "like they might say well after the thing has been compiled I'm going to transform the code if it looks like JavaScript I'm",
    "start": "2651240",
    "end": "2657030"
  },
  {
    "text": "going to minify it or maybe they're going to change the structure of the graph all together so that they inject things like ladies lazy load and Lady",
    "start": "2657030",
    "end": "2663599"
  },
  {
    "text": "lawyer don't know what that would be but lazy loading and that would mean that when the user goes to a different part",
    "start": "2663599",
    "end": "2669450"
  },
  {
    "text": "of your application than a certain bundle could be loaded on demand so plugins can do whatever they want and",
    "start": "2669450",
    "end": "2674609"
  },
  {
    "text": "after they finish doing their stuff then pack can emit the resulting files to",
    "start": "2674609",
    "end": "2679690"
  },
  {
    "text": "disk according to however you have configured that okay that's reasonable I",
    "start": "2679690",
    "end": "2685059"
  },
  {
    "text": "know it doesn't explain the config syntax but you at least understand conceptually what web pack is trying to",
    "start": "2685059",
    "end": "2691359"
  },
  {
    "text": "do with your stuff okay so that's conceptually what web pack is doing and now you know that it's not completely",
    "start": "2691359",
    "end": "2697329"
  },
  {
    "text": "crazy to imagine that you could even edit that web pack config yourself in order to change the build pipeline and",
    "start": "2697329",
    "end": "2703839"
  },
  {
    "text": "do something new let me give you a little example of that let's imagine that you have implemented this counter",
    "start": "2703839",
    "end": "2709990"
  },
  {
    "text": "feature and you've got your in command and you've got your decrement and you're very very proud of it indeed and you",
    "start": "2709990",
    "end": "2715299"
  },
  {
    "text": "call a meeting with your board of directors and you say look at this awesome feature that I've implemented it's gonna be huge customers are gonna",
    "start": "2715299",
    "end": "2721089"
  },
  {
    "text": "love it and they say yes it's brilliant we love it - we're gonna do a massive ad campaign we're gonna make billions from",
    "start": "2721089",
    "end": "2727029"
  },
  {
    "text": "this counter think but there's just one little problem the little problem is we don't really like the graphic design of it very much",
    "start": "2727029",
    "end": "2733150"
  },
  {
    "text": "it looks like it's been designed by a developer we're not really into that sort of thing we need to make this thing look funky so we're gonna go and hire",
    "start": "2733150",
    "end": "2739599"
  },
  {
    "text": "the most expensive graphic designer we can and they are gonna give you an amazing design that you're gonna plug in",
    "start": "2739599",
    "end": "2745509"
  },
  {
    "text": "and so this graphic designer comes along and they look at it and they say hey I've made this amazing design for you",
    "start": "2745509",
    "end": "2751240"
  },
  {
    "text": "it's gonna be awesome people are gonna love it I'll send you the design it's a SAS file and you think oh yes SAS I've",
    "start": "2751240",
    "end": "2758440"
  },
  {
    "text": "heard about that's what's that thing that's like some sort of styling thing isn't it yeah I'll pretend I know what",
    "start": "2758440",
    "end": "2764259"
  },
  {
    "text": "that is and they'll send you the SAS file and you'll go right what I'm gonna do with this thing now I need to somehow get this sass file to work inside my",
    "start": "2764259",
    "end": "2771849"
  },
  {
    "text": "angular application so let's add a suss file in here I'm gonna add a new item",
    "start": "2771849",
    "end": "2776890"
  },
  {
    "text": "and I'm gonna call it styles dot SAS right and then I'm going to put in this",
    "start": "2776890",
    "end": "2782769"
  },
  {
    "text": "amazing design that we've got a great expense and it's gonna be work like this I'm going to define a variable called my",
    "start": "2782769",
    "end": "2788980"
  },
  {
    "text": "call and that's gonna take the file being read and then I'm gonna say all the elements are gonna have color my col",
    "start": "2788980",
    "end": "2796150"
  },
  {
    "text": "okay that's my design it's going to be great people are gonna love it all right but how are we going to make this work",
    "start": "2796150",
    "end": "2802119"
  },
  {
    "text": "how we're going to make it apply to the counter well we'll go into the counter code and if you know angular then you'll",
    "start": "2802119",
    "end": "2808599"
  },
  {
    "text": "know that the way to apply a style is to use this style URLs thing here and so I'm going to say the styles that we're",
    "start": "2808599",
    "end": "2814900"
  },
  {
    "text": "applying to this component here are Styles sass all right now",
    "start": "2814900",
    "end": "2819999"
  },
  {
    "text": "I haven't save that yeah but when I do hit save and go back to the browser we'll see the hot module replacement kicks in and it says ah no this is not",
    "start": "2819999",
    "end": "2826719"
  },
  {
    "text": "gonna work you're trying to load a sus file and I don't know what that is you may need an appropriate loader to handle",
    "start": "2826719",
    "end": "2832029"
  },
  {
    "text": "this file type okay so our list of rules does not include sass and web pack does",
    "start": "2832029",
    "end": "2837699"
  },
  {
    "text": "not know what to do with that so you think all right somehow I need to make web pack understand sass how do I do",
    "start": "2837699",
    "end": "2843160"
  },
  {
    "text": "that and obviously the way you're going to do that is you're gonna go to google and you're gonna type in web pack sass",
    "start": "2843160",
    "end": "2849359"
  },
  {
    "text": "like that and what Google is going to tell you is that you need to install the sass loader and so you will go to the",
    "start": "2849359",
    "end": "2856390"
  },
  {
    "text": "command line or use some IDE or something like that and you will type in MPM install save sass loader and that's",
    "start": "2856390",
    "end": "2864459"
  },
  {
    "text": "going to fetch and make the sass loader available to anything that wants it in your application and then you can go to",
    "start": "2864459",
    "end": "2871059"
  },
  {
    "text": "your web pack config and you can go to the list of rules and you can say okay I'm doing something that looks quite similar to CSS so let's start by copying",
    "start": "2871059",
    "end": "2878049"
  },
  {
    "text": "that and we will make a slight modification for sass and it's going to do all the same stuff that we do for CSS",
    "start": "2878049",
    "end": "2885219"
  },
  {
    "text": "except I'm also going to chain an extra loader on to a course SAS loader now web",
    "start": "2885219",
    "end": "2892689"
  },
  {
    "text": "pack loaders can be chained as I've just hinted each web pack loader is only responsible for one thing the SAS loader",
    "start": "2892689",
    "end": "2899319"
  },
  {
    "text": "is only responsible for converting sass syntax into CSS so once you've got it in",
    "start": "2899319",
    "end": "2904689"
  },
  {
    "text": "the form of CSS you would then want to push it through the CSS loader so that web pack can detect the dependencies on",
    "start": "2904689",
    "end": "2910809"
  },
  {
    "text": "all the CSS files or other sass files and then finally in this case we're also pushing it through this strange thing",
    "start": "2910809",
    "end": "2916479"
  },
  {
    "text": "called two string load up that's an angular specific thing because angular when it gets your Styles it does",
    "start": "2916479",
    "end": "2922630"
  },
  {
    "text": "not want them in the form of a file it wants them in the form of a big string and that's what the two string loader is",
    "start": "2922630",
    "end": "2927880"
  },
  {
    "text": "just going to convert that into a big string for use in the application alright so I'll save that and I'm going",
    "start": "2927880",
    "end": "2933549"
  },
  {
    "text": "to restart my application to pick up the updated web pack config and this time",
    "start": "2933549",
    "end": "2938829"
  },
  {
    "text": "hopefully instead of getting the you may need an appropriate oh that okay I'll save that let's just restart",
    "start": "2938829",
    "end": "2945320"
  },
  {
    "text": "that one more time this time instead of getting the error about you may need an appropriate loader hopefully our Styles",
    "start": "2945320",
    "end": "2952100"
  },
  {
    "text": "will actually be applied so I go to counter and we can see it's worked it's great it's all turned red and and that's",
    "start": "2952100",
    "end": "2958910"
  },
  {
    "text": "gonna be great the other cool thing about web pack and the way these features work is that they",
    "start": "2958910",
    "end": "2964130"
  },
  {
    "text": "all compose together very nicely so even though sass doesn't know anything about hot module reloading I can use the two",
    "start": "2964130",
    "end": "2971720"
  },
  {
    "text": "things together so if I go to make a small change to my sass file let's say I",
    "start": "2971720",
    "end": "2978200"
  },
  {
    "text": "change it from red to green then when I press save then in the browser I will see it",
    "start": "2978200",
    "end": "2984170"
  },
  {
    "text": "changes to green straightaway and it's not just green it even works with other colors too like a purple for example",
    "start": "2984170",
    "end": "2990440"
  },
  {
    "text": "just as an example all right so we've got sass added into our application and",
    "start": "2990440",
    "end": "2996380"
  },
  {
    "text": "that worked very nicely okay that's extending our build system right oh now",
    "start": "2996380",
    "end": "3002350"
  },
  {
    "text": "I want to move on to the final part of the talk where we go behind the scenes a little bit and think about how the stuff",
    "start": "3002350",
    "end": "3007930"
  },
  {
    "text": "actually is working internally and what you could do if you wanted to use some of this infrastructure to do some cool",
    "start": "3007930",
    "end": "3014230"
  },
  {
    "text": "and advanced stuff on your own and this is where we bring up the concept of node services so various points during this",
    "start": "3014230",
    "end": "3022060"
  },
  {
    "text": "talk I have been using features that rely on being able to execute JavaScript on the server for example the",
    "start": "3022060",
    "end": "3028660"
  },
  {
    "text": "server-side pre-rendering your components are obviously JavaScript things well they might start as tyo script but it's JavaScript at runtime",
    "start": "3028660",
    "end": "3034810"
  },
  {
    "text": "and so to run that on the server we need to be executing JavaScript on the server similarly web pack itself is all made of",
    "start": "3034810",
    "end": "3041230"
  },
  {
    "text": "JavaScript so in order to be able to doing that stuff and wires peanut into web pack pipeline it's been very useful",
    "start": "3041230",
    "end": "3047860"
  },
  {
    "text": "to be able to run JavaScript on the server side too but how can we run JavaScript on the server when we've got",
    "start": "3047860",
    "end": "3053230"
  },
  {
    "text": "a dotnet back-end well that's where node services come in and in fact the application architecture looks a little",
    "start": "3053230",
    "end": "3059710"
  },
  {
    "text": "bit like this you've got your application that's been generated by one of these templates or that you've made yourself and that is relying on a nougat",
    "start": "3059710",
    "end": "3066580"
  },
  {
    "text": "package called spar services that provides a set of features that are useful for building any sort of single",
    "start": "3066580",
    "end": "3072850"
  },
  {
    "text": "page application with whatever technology you want so that implements such things as the ability to do server-side pre-rendering the ability",
    "start": "3072850",
    "end": "3079539"
  },
  {
    "text": "to integrate with various bits of web pack stuff and also the ability to integrate a server-side routing config",
    "start": "3079539",
    "end": "3084940"
  },
  {
    "text": "with a client-side one I didn't talk about that because it's just far too boring but you can just have a happy feeling and knowing that that feature",
    "start": "3084940",
    "end": "3090400"
  },
  {
    "text": "exists even though I'm not going to show it to you all right now how does this work how is sparse services going to be",
    "start": "3090400",
    "end": "3096039"
  },
  {
    "text": "able to run JavaScript on the server well this depends on yet another new get package called node services that",
    "start": "3096039",
    "end": "3101200"
  },
  {
    "text": "doesn't know or care about single page applications all that cares about is the ability to run JavaScript on the server and as for how that works you can",
    "start": "3101200",
    "end": "3107710"
  },
  {
    "text": "probably guess from the name it works by using node.js so node services knows how",
    "start": "3107710",
    "end": "3113170"
  },
  {
    "text": "to create a hidden instance of node.js whenever it needs to and it knows how to do very fast remote procedure calls into",
    "start": "3113170",
    "end": "3119950"
  },
  {
    "text": "it how to structure all the requests and get the responses back out it knows how to do all kinds of fiddly annoying stuff",
    "start": "3119950",
    "end": "3125260"
  },
  {
    "text": "like dealing with errors that might occur it knows how to do process lifetime management so if stuff crashes and knows how to bring it back up that",
    "start": "3125260",
    "end": "3131710"
  },
  {
    "text": "kind of stuff that you don't want to deal with it just encapsulate all that so you can simply use JavaScript",
    "start": "3131710",
    "end": "3136869"
  },
  {
    "text": "directly in the middle of your asp net application on the server if you want to okay but why would you want to do that",
    "start": "3136869",
    "end": "3143740"
  },
  {
    "text": "we've I've given you some examples of why it's useful for doing server-side pre-rendering and webpack but are there",
    "start": "3143740",
    "end": "3148900"
  },
  {
    "text": "any other scenarios when you would ever want to use javascript well you might think no I do not want to use JavaScript",
    "start": "3148900",
    "end": "3154450"
  },
  {
    "text": "because I've got c-sharp and that's a perfectly competent language why would I want to complicate my life by introducing JavaScript as well well the",
    "start": "3154450",
    "end": "3160180"
  },
  {
    "text": "answer to that is npm npm node package manager is the largest collection of",
    "start": "3160180",
    "end": "3165880"
  },
  {
    "text": "open source packages in the world there are millions well not literally there are a very large number of packages that",
    "start": "3165880",
    "end": "3171880"
  },
  {
    "text": "implement everything you've ever thought of everything even thought of a fact implemented in 15 different ways and you",
    "start": "3171880",
    "end": "3177309"
  },
  {
    "text": "can have fun picking out which one of those is still going to be maintained in one year okay assuming that you're able to do that you",
    "start": "3177309",
    "end": "3183460"
  },
  {
    "text": "will be able to use whatever NPM packages you want in your application and I want to give you an example of",
    "start": "3183460",
    "end": "3189460"
  },
  {
    "text": "that now so I'm going to switch over to another application this will be our final demo application this is not a",
    "start": "3189460",
    "end": "3196779"
  },
  {
    "text": "single page application this just just a regular bog-standard it's that expression by the way over here",
    "start": "3196779",
    "end": "3202299"
  },
  {
    "text": "bog-standard yeah okay good good right it's a bog-standard asp net application not a single page application and I",
    "start": "3202299",
    "end": "3208220"
  },
  {
    "text": "to implement a bit of funky stuff to do with image recognition all right this is the problem I want to solve I want to be",
    "start": "3208220",
    "end": "3214640"
  },
  {
    "text": "able to implement a feature where users can identify things because people have got lots of objects in their life right",
    "start": "3214640",
    "end": "3220520"
  },
  {
    "text": "and they don't know what many of these objects are so wouldn't be cool if they could hold the object up to their webcam",
    "start": "3220520",
    "end": "3225710"
  },
  {
    "text": "and then the computer would just say here's what that thing is for example they could hold up maybe their hand and",
    "start": "3225710",
    "end": "3231859"
  },
  {
    "text": "we can click on what is this and it will say ah it's not implemented yet okay so the client-side code has sent that",
    "start": "3231859",
    "end": "3239090"
  },
  {
    "text": "picture to the server and the client is expecting the server to respond with some JSON describing the object but the",
    "start": "3239090",
    "end": "3246680"
  },
  {
    "text": "server is not responding with JSON yet it's responding with this silly string here okay so I want to put an",
    "start": "3246680",
    "end": "3253099"
  },
  {
    "text": "implementation of this in place but to make it a little easier for us to see what's going on I've also got this test page here and that just allows me to",
    "start": "3253099",
    "end": "3259790"
  },
  {
    "text": "select a predefined image and then upload it in the same way and we can see directly what this response from the",
    "start": "3259790",
    "end": "3265790"
  },
  {
    "text": "server is which in this case is that little string so why is the server responding with that string and not with",
    "start": "3265790",
    "end": "3272570"
  },
  {
    "text": "a useful JSON object well if we look at the code it will all become clear this is the embassy action that we're running",
    "start": "3272570",
    "end": "3279320"
  },
  {
    "text": "in this case we're passing the image to the server as a base64 encoded string and we're supposed to return JSON but",
    "start": "3279320",
    "end": "3285680"
  },
  {
    "text": "we're not we're just returning this string here okay so I want to put in an actual implementation of this now and",
    "start": "3285680",
    "end": "3291740"
  },
  {
    "text": "I'm sure it won't come as a surprise to you to hear that in order to do this image recognition I want to use some",
    "start": "3291740",
    "end": "3297650"
  },
  {
    "text": "neural network deep learning type of thing and if you want to do that well",
    "start": "3297650",
    "end": "3302690"
  },
  {
    "text": "there are a few neuron that word library is available for asp net core but not very many it's still kind of early days",
    "start": "3302690",
    "end": "3308510"
  },
  {
    "text": "there whereas in NPM there are dozens of the things not just loads of neural network libraries but also even things",
    "start": "3308510",
    "end": "3314780"
  },
  {
    "text": "like pre train models that you can use for stuff like image recognition so that's what I want to do right now I",
    "start": "3314780",
    "end": "3320030"
  },
  {
    "text": "want to invoke an NPM module so in order to do that and need to be invoking JavaScript to invoke JavaScript the way",
    "start": "3320030",
    "end": "3327710"
  },
  {
    "text": "I can do it using node services works like this first I'm going to say from the list of services that are registered",
    "start": "3327710",
    "end": "3333890"
  },
  {
    "text": "I want to get an instance of I node services okay and then when I've got that I can invoke some JavaScript",
    "start": "3333890",
    "end": "3342010"
  },
  {
    "text": "and yet I can say no services please invoke and it's going to be able to",
    "start": "3342010",
    "end": "3347950"
  },
  {
    "text": "invoke some javascript code and in fact what I want to do is this I'm gonna say alright the node services I want you to",
    "start": "3347950",
    "end": "3355210"
  },
  {
    "text": "invoke asynchronously some JavaScript that's in a file called recognized dot J s and I'm gonna pass you the image is",
    "start": "3355210",
    "end": "3362109"
  },
  {
    "text": "this base64 encoded string and you should return the result to me as a JSON string object and then instead of",
    "start": "3362109",
    "end": "3369580"
  },
  {
    "text": "returning this message I'm gonna return that result back to the client now this is all asynchronous I mean waiting it",
    "start": "3369580",
    "end": "3376630"
  },
  {
    "text": "here in order to make this compile I also have to mark the method as async and so it returns a task of I action",
    "start": "3376630",
    "end": "3382810"
  },
  {
    "text": "result great alright so I'll save that and then we will go and try that shall",
    "start": "3382810",
    "end": "3387940"
  },
  {
    "text": "we I'll go back to the browser and I'm going to go and I'm going to upload the same image one more time and we'll see",
    "start": "3387940",
    "end": "3393369"
  },
  {
    "text": "does it run some JavaScript for us when the application starts back up and the answer to that is no it does not because",
    "start": "3393369",
    "end": "3400600"
  },
  {
    "text": "error cannot find module bla bla bla bla bla cannot find recognize Jas okay that",
    "start": "3400600",
    "end": "3406300"
  },
  {
    "text": "makes sense we've told it to invoke recognized ojs but there is no such file so let's create that right now add a new",
    "start": "3406300",
    "end": "3413050"
  },
  {
    "text": "item which will be a JavaScript file called recognize EAS okay and then I can",
    "start": "3413050",
    "end": "3420430"
  },
  {
    "text": "start putting some JavaScript code in there and initially what I'm going to do is just return a hello world kind of",
    "start": "3420430",
    "end": "3426100"
  },
  {
    "text": "message so I'm exporting this function here and it's going to construct a message using javascript code and then",
    "start": "3426100",
    "end": "3432190"
  },
  {
    "text": "it's going to invoke this callback to send that back to asp net and i'm saying there's no error here's the result it's",
    "start": "3432190",
    "end": "3438100"
  },
  {
    "text": "just this message so I'll hit save on that and I'll go back and I'm going to send this one more time and this time",
    "start": "3438100",
    "end": "3443710"
  },
  {
    "text": "hopefully we will actually invoke some JavaScript now okay that's good so we can now call JavaScript directly from",
    "start": "3443710",
    "end": "3449800"
  },
  {
    "text": "the middle of our c-sharp code and it works nicely the fastest robust great so",
    "start": "3449800",
    "end": "3456400"
  },
  {
    "text": "since we can now run arbitrary JavaScript in a real node environment we can use arbitrary NPM packages to",
    "start": "3456400",
    "end": "3462820"
  },
  {
    "text": "implement whatever functionality we want and in this specific case I want to use something called caress j/s Kerris is a",
    "start": "3462820",
    "end": "3470770"
  },
  {
    "text": "fairly respected neural network in deep learning library and in I want to use it with a pre trained",
    "start": "3470770",
    "end": "3477010"
  },
  {
    "text": "model called squeeze net squeeze net is trained in order to do object",
    "start": "3477010",
    "end": "3482470"
  },
  {
    "text": "recognition so I can take that and I can say right Kerris I want you to predict what is in this image that I've supplied",
    "start": "3482470",
    "end": "3489340"
  },
  {
    "text": "by means of this base64 string and assuming that succeeds then I'm gonna send a call back with a JSON",
    "start": "3489340",
    "end": "3496240"
  },
  {
    "text": "representation of the result saying what is in the image and if there's an area then we're going to pass that arrow back",
    "start": "3496240",
    "end": "3501460"
  },
  {
    "text": "to SP now as well alright so let's try this I'll go back and I'm going to send this image one more time so I'm gonna",
    "start": "3501460",
    "end": "3508090"
  },
  {
    "text": "send this image of the beer and we'll start that and it takes a moment for the application to come up but when it does",
    "start": "3508090",
    "end": "3513490"
  },
  {
    "text": "hopefully we'll get some actual results back and we can see that with a 92 percent probability this was a beer",
    "start": "3513490",
    "end": "3519910"
  },
  {
    "text": "glass also with a 2 percent probability was eggnog whatever that is I don't know but anyway that's cool that now seems to",
    "start": "3519910",
    "end": "3526810"
  },
  {
    "text": "actually work so let's try this shall we let's try it with the webcam so I'm going to go okay what sort of objects",
    "start": "3526810",
    "end": "3533410"
  },
  {
    "text": "could I recognize well let's try one of these let's see if we can recognize something like that so I'm gonna hit can",
    "start": "3533410",
    "end": "3540070"
  },
  {
    "text": "you identify that and we will say that it is oh it's a remote control or maybe",
    "start": "3540070",
    "end": "3545470"
  },
  {
    "text": "a cellular telephone okay so that did actually work which is nice now I could",
    "start": "3545470",
    "end": "3551560"
  },
  {
    "text": "really use a service like this okay there are many scenarios in my life where I could use this for example whenever I go to software conferences I",
    "start": "3551560",
    "end": "3558880"
  },
  {
    "text": "keep finding these very very strange things in the hotel rooms in the bathrooms specifically and I do not know",
    "start": "3558880",
    "end": "3565210"
  },
  {
    "text": "what they are or why they keep putting them there or why I'm supposed to want it so finally I might be able to get an",
    "start": "3565210",
    "end": "3571000"
  },
  {
    "text": "answer to this question ok what is this things that I keep finding it is a",
    "start": "3571000",
    "end": "3577560"
  },
  {
    "text": "toilet tissue ok that doesn't really answer my questions but at least I've got a word for it now I can follow up",
    "start": "3577560",
    "end": "3583869"
  },
  {
    "text": "with someone else and find out what those and finally let's try recognizing me shall we so Karis is trained on lots",
    "start": "3583869",
    "end": "3591310"
  },
  {
    "text": "of pictures of objects and pictures of animals but not on pictures of humans so if I track and try to recognize myself",
    "start": "3591310",
    "end": "3597040"
  },
  {
    "text": "let's see what it thinks I am I",
    "start": "3597040",
    "end": "3601050"
  },
  {
    "text": "so does it look like I'm wearing a shower cap I mean I find that quite",
    "start": "3603410",
    "end": "3608970"
  },
  {
    "text": "offensive to be honest with you all right anyway so what's the point of all that",
    "start": "3608970",
    "end": "3614339"
  },
  {
    "text": "it's not specifically because I think the image recognition is a particularly important scenario or that you know",
    "start": "3614339",
    "end": "3619680"
  },
  {
    "text": "that's something that you necessarily should do the point of it is that you can use arbitrary third-party NPM",
    "start": "3619680",
    "end": "3624839"
  },
  {
    "text": "modules in the middle of your SP no application using node services and that creates a lot of opportunities for you",
    "start": "3624839",
    "end": "3630720"
  },
  {
    "text": "to do all kinds of cool new stuff all right so that is all we are going to",
    "start": "3630720",
    "end": "3636210"
  },
  {
    "text": "have time for in this talk to summarize for you we started off we spent the first third of the talk talking about",
    "start": "3636210",
    "end": "3641609"
  },
  {
    "text": "project templates or rather the in the box streamlined experience and all the features that are available for that how",
    "start": "3641609",
    "end": "3647430"
  },
  {
    "text": "you can create that using either dotnet new command line or Visual Studio and then we got into some web back stuff how",
    "start": "3647430",
    "end": "3652529"
  },
  {
    "text": "you can configure that then we looked at the internals of how this stuff works how you can use the underlying packages",
    "start": "3652529",
    "end": "3658739"
  },
  {
    "text": "like spar services and node services and I hope that is useful to you in some way",
    "start": "3658739",
    "end": "3664529"
  },
  {
    "text": "so if you want to learn more you can go to this github repo that's where you'll find all the code for everything I've",
    "start": "3664529",
    "end": "3669690"
  },
  {
    "text": "shown you today that is all the project templates are in there all of the implementation of node services and spar",
    "start": "3669690",
    "end": "3675210"
  },
  {
    "text": "services and stuff is in there so you can go and have a look at that and you can post some issues and start telling us how you feel about it and how you're",
    "start": "3675210",
    "end": "3681150"
  },
  {
    "text": "getting on with that and yeah so that's all we have time for please remember to evaluate this session as you walk out of the door that's very",
    "start": "3681150",
    "end": "3687989"
  },
  {
    "text": "useful to everyone and enjoy the rest of your conference [Applause]",
    "start": "3687989",
    "end": "3699100"
  }
]