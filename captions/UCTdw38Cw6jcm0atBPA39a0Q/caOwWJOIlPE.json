[
  {
    "text": "hello everybody good afternoon hope everyone's having a good NDC so far uh",
    "start": "5200",
    "end": "11599"
  },
  {
    "text": "anybody uh feeling a little bit full of information at this point in the conference all right well I appreciate",
    "start": "11599",
    "end": "18880"
  },
  {
    "text": "you still being here uh hopefully there'll be something really useful for you in this talk uh show of hands who's",
    "start": "18880",
    "end": "25320"
  },
  {
    "text": "a net developer in the room okay great we're going to be talking a lot about net today and specifically about what to",
    "start": "25320",
    "end": "33120"
  },
  {
    "text": "do with a legacy asp.net application that maybe is too big to migrate quickly",
    "start": "33120",
    "end": "40399"
  },
  {
    "text": "uh so we're going to be talking about a strategy that you can use and some tooling that you can use for Microsoft to do that",
    "start": "40399",
    "end": "47120"
  },
  {
    "text": "incrementally a lot of my clients uh at my consulting company Trailhead uh come",
    "start": "47120",
    "end": "52520"
  },
  {
    "text": "to us with this exact problem I'm guessing a lot of you probably have these Legacy applicationsn Net's been",
    "start": "52520",
    "end": "58800"
  },
  {
    "text": "around since around 2 2001 a lot of applications have",
    "start": "58800",
    "end": "64158"
  },
  {
    "text": "been built with it in those 24 years or so and a lot of those early applications",
    "start": "64159",
    "end": "70360"
  },
  {
    "text": "are still around who's still maintaining a web forms application and is willing to admit it all right so I I know those",
    "start": "70360",
    "end": "77560"
  },
  {
    "text": "exist out there um and you know what do you do to move forward you probably have",
    "start": "77560",
    "end": "83439"
  },
  {
    "text": "spent many years creating the functionality that's in that application and it's not going to happen overnight",
    "start": "83439",
    "end": "88759"
  },
  {
    "text": "for you to get from this rusty old car somewhere out here in the outback uh to",
    "start": "88759",
    "end": "94240"
  },
  {
    "text": "this Lamborghini overnight you're going to have to do that over time because it took you time to get where you are now",
    "start": "94240",
    "end": "101079"
  },
  {
    "text": "so how do you go about doing that that's what we're going to talk about today an agenda for what I want to talk",
    "start": "101079",
    "end": "108000"
  },
  {
    "text": "about first of all I want to talk about some different approaches that you may have seen for how to do a migration then",
    "start": "108000",
    "end": "113960"
  },
  {
    "text": "I want to talk about what a reverse proxy is because that's going to be one of the solutions that we're going to",
    "start": "113960",
    "end": "119360"
  },
  {
    "text": "talk about today uh using a reverse proxy to be able to make this migration process more",
    "start": "119360",
    "end": "124439"
  },
  {
    "text": "incremental uh the specific reverse proxy we're going to talk about today is called yarp uh yet another reverse proxy",
    "start": "124439",
    "end": "131520"
  },
  {
    "text": "which a great acronym great name and we're also going to talk about some other tooling from Microsoft that's",
    "start": "131520",
    "end": "137040"
  },
  {
    "text": "called the net Upgrade Assistant and how you can use that to do a net migration",
    "start": "137040",
    "end": "142920"
  },
  {
    "text": "we're going to actually do a migration live here together so that you can see the steps and you can see what the",
    "start": "142920",
    "end": "148760"
  },
  {
    "text": "tooling looks like you can see the easy parts and the hard parts and what reality will really be like when you try",
    "start": "148760",
    "end": "154080"
  },
  {
    "text": "and migrate your application and finally I want to tell you a little bit about some other tooling we won't have a lot",
    "start": "154080",
    "end": "160239"
  },
  {
    "text": "of time to go into the details of but I want to at least mention it to you so you're aware of something called system.web adapters uh that's an",
    "start": "160239",
    "end": "167159"
  },
  {
    "text": "important tool uh but before we get into all of those great details uh just a",
    "start": "167159",
    "end": "172560"
  },
  {
    "text": "quick introduction of who I am my name is Jonathan Tower I go by Jay for short uh so I know if any of you are Aussies I",
    "start": "172560",
    "end": "179879"
  },
  {
    "text": "know you like to shorten words so hopefully that makes sense to you calling me Jay uh but if we get a chance",
    "start": "179879",
    "end": "185319"
  },
  {
    "text": "to chat afterwards uh feel free to call me that uh you can also reach out to me online at any of these places and a",
    "start": "185319",
    "end": "191879"
  },
  {
    "text": "unique offering I like to give to anybody that comes to one of my talks if you have a question that is a burning",
    "start": "191879",
    "end": "197640"
  },
  {
    "text": "question you would really like to ask um maybe you need to show some of the existing system or maybe you're a little",
    "start": "197640",
    "end": "203519"
  },
  {
    "text": "embarrassed to ask the question in front of everyone else even though probably a lot of other people have the same",
    "start": "203519",
    "end": "209439"
  },
  {
    "text": "problem that you're facing at work but if you want to take advantage of this you can contact me using this QR code or",
    "start": "209439",
    "end": "216760"
  },
  {
    "text": "that bitly link there and get a free consultation just a chance to chat uh obviously at a an opportune uh time for",
    "start": "216760",
    "end": "224599"
  },
  {
    "text": "both of us depending on what time zones we're in U but a time to chat and ask those questions and go into a little bit",
    "start": "224599",
    "end": "230439"
  },
  {
    "text": "more detail if you'd like to do that finally on this slide I saw some of you taking pictures already this GitHub Link",
    "start": "230439",
    "end": "236319"
  },
  {
    "text": "at the bottom is where you can find all the code that we'll look at today as well well as the slides that I'm showing",
    "start": "236319",
    "end": "241519"
  },
  {
    "text": "you right now all right so let's jump into it before we get into all the nitty-gritty details I just want to make",
    "start": "241519",
    "end": "247879"
  },
  {
    "text": "sure we're all on the same page about this you know net core andet modern. net",
    "start": "247879",
    "end": "253920"
  },
  {
    "text": "have been around for quite a few years now seven or eight years so I sort of assume that all net developers know this",
    "start": "253920",
    "end": "260600"
  },
  {
    "text": "but I realize a lot of us are heads down in our organizations maybe you've learned a bunch of new stuff that's been",
    "start": "260600",
    "end": "267160"
  },
  {
    "text": "going on for a few years inet uh today and the last couple days uh and you",
    "start": "267160",
    "end": "272639"
  },
  {
    "text": "haven't had a chance to stay up on things so just to make sure we're all using the same terminology and you know what I'm talking about today I wanted to",
    "start": "272639",
    "end": "279160"
  },
  {
    "text": "show you this NET Framework this is the old windows only net that's been around",
    "start": "279160",
    "end": "285919"
  },
  {
    "text": "since 2201 and really just ends with 4.8 that's the last major version if you",
    "start": "285919",
    "end": "292199"
  },
  {
    "text": "didn't know that already that's the last major version of NET Framework that's going to be coming out there will be support for it for a very long time",
    "start": "292199",
    "end": "298840"
  },
  {
    "text": "security patches and so on uh but nothing new is happening in NET Framework around about 2015 uh net core",
    "start": "298840",
    "end": "307960"
  },
  {
    "text": "split off and that's when the Microsoft NET team went and basically said it's time to modernize net and they went and",
    "start": "307960",
    "end": "314000"
  },
  {
    "text": "rewrote it from scratch it's crossplatform performance is a key uh a",
    "start": "314000",
    "end": "320319"
  },
  {
    "text": "key indicator and then right about between version three and version five",
    "start": "320319",
    "end": "326240"
  },
  {
    "text": "of net core is where the rebranding happened that was maybe where a lot of us got confused and that's where they",
    "start": "326240",
    "end": "332440"
  },
  {
    "text": "basically said look if NET Framework is done then there really is only one net going forward and that's what we're",
    "start": "332440",
    "end": "338280"
  },
  {
    "text": "currently calling net core and that's when Microsoft said there's a this this marketing campaign they said is there's",
    "start": "338280",
    "end": "344639"
  },
  {
    "text": "only one net you might have seen that announced at a build a few years ago so",
    "start": "344639",
    "end": "350720"
  },
  {
    "text": "one net now we just basically call Net core.net sometimes to clarify I'll talk about Net Framework versus modern net um",
    "start": "350720",
    "end": "358440"
  },
  {
    "text": "what I'm talking about is basically net core or this modern version of net",
    "start": "358440",
    "end": "364000"
  },
  {
    "text": "further confusing things though is that asp.net what we use to build web applications on top of net uh for the",
    "start": "364000",
    "end": "370560"
  },
  {
    "text": "last 20 some years has a kind of a different relationship with the word core so ASP uh so net has dropped the",
    "start": "370560",
    "end": "378639"
  },
  {
    "text": "word core but asp.net core has not we of course all know about the Legacy version",
    "start": "378639",
    "end": "384440"
  },
  {
    "text": "of asp.net that is built on Net Framework uh that's probably what a lot of you are here hoping that you'll learn",
    "start": "384440",
    "end": "391319"
  },
  {
    "text": "an easier way to migrate away from at some point then when net core came out",
    "start": "391319",
    "end": "397880"
  },
  {
    "text": "asp.net core came out at the same time the first several versions of that you could actually compile against NET",
    "start": "397880",
    "end": "403639"
  },
  {
    "text": "Framework or against. net core now asp.net core all the modern versions of",
    "start": "403639",
    "end": "410080"
  },
  {
    "text": "that since version three have only been able to run onnet or what was called net core at the time so clear as mud",
    "start": "410080",
    "end": "416599"
  },
  {
    "text": "hopefully all right everybody on the same page so let's talk about migrating",
    "start": "416599",
    "end": "421759"
  },
  {
    "text": "a project and how you might go about doing that uh there's a million ways to do it these are some of the popular",
    "start": "421759",
    "end": "427000"
  },
  {
    "text": "options that I've seen you've probably seen some of these in some of your jobs in the past there's the Big Bang method",
    "start": "427000",
    "end": "433759"
  },
  {
    "text": "The evolutionary method and then the Strangler fig me method so I want to talk about each of these the Big Bang",
    "start": "433759",
    "end": "439720"
  },
  {
    "text": "method you know you're doing the big bang method at your job if you've been locked in the conference room with your",
    "start": "439720",
    "end": "445720"
  },
  {
    "text": "team and you're not allowed to come out until something is done that's usually a big bang migration",
    "start": "445720",
    "end": "453440"
  },
  {
    "text": "sometimes they'll slide Pizza under the door or do Australian developers drink Mountain Dew like American developers do",
    "start": "453440",
    "end": "460479"
  },
  {
    "text": "no okay I can't get it here h no okay too much caffeine right",
    "start": "460479",
    "end": "467360"
  },
  {
    "text": "none in the Mountain Dew oh that's not even really Mountain Dew then um so uh",
    "start": "467360",
    "end": "473680"
  },
  {
    "text": "you know this is not a very agile approach right this is a very waterfall approach if you just spent five to 10 to",
    "start": "473680",
    "end": "479159"
  },
  {
    "text": "15 years developing a legacy application you're not going to finish migrating it",
    "start": "479159",
    "end": "484560"
  },
  {
    "text": "locked in a conference room over the weekend in fact uh there's a word for that uh is called kidnapping and uh it's",
    "start": "484560",
    "end": "492199"
  },
  {
    "text": "not a really great approach and it's obviously not a very agile approach either The evolutionary approach this is",
    "start": "492199",
    "end": "498000"
  },
  {
    "text": "one you may have seen before uh this is where you sort of refactor things to move in a direction uh this direction in",
    "start": "498000",
    "end": "504159"
  },
  {
    "text": "this case might be to move to a modern framework like net core and as you're",
    "start": "504159",
    "end": "509520"
  },
  {
    "text": "moving to that you might make things a bit worse you might make performance a bit worse you might make maintenance a bit worse and then you'll refactor that",
    "start": "509520",
    "end": "516560"
  },
  {
    "text": "and so it's kind of an up and down uh kind of an up and down pattern where you move towards the goal makes things worse",
    "start": "516560",
    "end": "523560"
  },
  {
    "text": "you refactor to make things better then you move another step towards the goal and so on this is a great approach and",
    "start": "523560",
    "end": "528720"
  },
  {
    "text": "this can be very agile however it doesn't solve a lot of problems like how",
    "start": "528720",
    "end": "533800"
  },
  {
    "text": "do you do releases during the migration process right how do you take a half",
    "start": "533800",
    "end": "538959"
  },
  {
    "text": "migrated project that maybe doesn't have good performance right now because of some of the migration steps that you've",
    "start": "538959",
    "end": "545640"
  },
  {
    "text": "done and some that you haven't yet how do you actually release that into production so that you're not essentially doing a huge waterfall",
    "start": "545640",
    "end": "552360"
  },
  {
    "text": "project that releases just at the end of the the process uh so that's definitely",
    "start": "552360",
    "end": "557680"
  },
  {
    "text": "a downside to this approach the other one and I love giving this talk in Australia because you're probably all",
    "start": "557680",
    "end": "562800"
  },
  {
    "text": "familiar with this type of tree uh whereas when I give this talk in the US where I'm from uh this is more of",
    "start": "562800",
    "end": "569519"
  },
  {
    "text": "foreign concept to people I have to explain what a Strangler fig is but you might have heard of this approach it's a",
    "start": "569519",
    "end": "576000"
  },
  {
    "text": "popular architectural approach for migration projects basically comes from",
    "start": "576000",
    "end": "581440"
  },
  {
    "text": "this plant uh that you have a lot of here it's a category of plant that starts growing up in the in the branches",
    "start": "581440",
    "end": "588600"
  },
  {
    "text": "of a tree and it'll live quite fine up there for a while and eventually will reach some branches or Roots down the",
    "start": "588600",
    "end": "595200"
  },
  {
    "text": "tree wraps them around the host trees Roots eventually kills that host tree",
    "start": "595200",
    "end": "600680"
  },
  {
    "text": "and then basically forms like a hollow core of a new tree around the original host tree a bit of a slow motion violent",
    "start": "600680",
    "end": "609240"
  },
  {
    "text": "analogy but I think it's a very apt analogy for this Strangler fig approach to doing a migration which uh seems less",
    "start": "609240",
    "end": "617800"
  },
  {
    "text": "violent when I put it in boxes so here's some boxes uh version of that architectural diagram so imagine you",
    "start": "617800",
    "end": "624000"
  },
  {
    "text": "start with an application that has a lot of end points a lot of functionality in",
    "start": "624000",
    "end": "629360"
  },
  {
    "text": "the Legacy you create a new modern application as a maybe a placeholder it's empty at first and you put a facade",
    "start": "629360",
    "end": "636079"
  },
  {
    "text": "layer in front of that what's the facade layer there for well that's basically to make the client whether that's an end",
    "start": "636079",
    "end": "641519"
  },
  {
    "text": "user or whether that's API consumer or whatever your client is is to make them",
    "start": "641519",
    "end": "647000"
  },
  {
    "text": "numone the wiser about what's going on behind the scenes so you can actually make everything look and work the same",
    "start": "647000",
    "end": "653120"
  },
  {
    "text": "way that it has all along but you're actually moving things over into a modern application gradually over time",
    "start": "653120",
    "end": "659760"
  },
  {
    "text": "you get to step two you've moved more things into the modern application and",
    "start": "659760",
    "end": "665279"
  },
  {
    "text": "and all this time you can be pushing these things out into production because of that facade layer that's bringing",
    "start": "665279",
    "end": "671240"
  },
  {
    "text": "everything together that makes it look and feel like the same application it's always been uh and eventually you've",
    "start": "671240",
    "end": "677920"
  },
  {
    "text": "moved everything over into the modern app and you could potentially get rid of that facade layer at that point and",
    "start": "677920",
    "end": "683639"
  },
  {
    "text": "you're done with your migration so as you can see this is a much more incremental approach and it solves a lot",
    "start": "683639",
    "end": "690480"
  },
  {
    "text": "of those problems that the other approaches we just talked about have so let's talk about reverse proxies",
    "start": "690480",
    "end": "697399"
  },
  {
    "text": "now because this is that's the approach now this is the technology that we're going to use to do this approach has",
    "start": "697399",
    "end": "703639"
  },
  {
    "text": "anybody used a reverse proxy already all right anybody keep your hands up if you're using yarp already a little bit",
    "start": "703639",
    "end": "710360"
  },
  {
    "text": "okay A few of us great uh so for the rest of us that maybe are a little less familiar with a reverse proxy let's talk",
    "start": "710360",
    "end": "717240"
  },
  {
    "text": "about what that is if if anyone's as old as me in the room they might remember proxy servers or forward proxy servers",
    "start": "717240",
    "end": "724279"
  },
  {
    "text": "uh this is when there was one computer on a network that actually had internet access I know I sound old saying that",
    "start": "724279",
    "end": "730880"
  },
  {
    "text": "doesn't even sound real to the younger folks in the room but yes believe it or not at one point in the internet uh",
    "start": "730880",
    "end": "737360"
  },
  {
    "text": "there would be a whole local area network and only one computer would be granted access and if you wanted to",
    "start": "737360",
    "end": "742399"
  },
  {
    "text": "Grant access what you had to do was basically set that computer that was kind of on the edge of the network",
    "start": "742399",
    "end": "748600"
  },
  {
    "text": "facing the internet as a proxy server and your computer would make requests to that which would then proxy those",
    "start": "748600",
    "end": "754120"
  },
  {
    "text": "requests out to wherever on the internet and bring the results back to you multiple people could use the same proxy",
    "start": "754120",
    "end": "760600"
  },
  {
    "text": "server uh and that's basically what you see going on in this diagram here clients connecting out into the internet",
    "start": "760600",
    "end": "767279"
  },
  {
    "text": "through a proxy server out to whatever servers on the internet that's a forward or regular proxy a reverse proxy is just",
    "start": "767279",
    "end": "775040"
  },
  {
    "text": "taking those two things and swapping them around so now instead of the",
    "start": "775040",
    "end": "780079"
  },
  {
    "text": "clients coming uh through the proxy server to go out to the internet they're coming in from the internet and they're",
    "start": "780079",
    "end": "786279"
  },
  {
    "text": "hitting the proxy server first before they hit the servers uh so if you've ever used a load",
    "start": "786279",
    "end": "791920"
  },
  {
    "text": "balancer before or a firewall before that's really in a way acting as a proxy",
    "start": "791920",
    "end": "797240"
  },
  {
    "text": "server for you a reverse proxy server for you in that in that",
    "start": "797240",
    "end": "802600"
  },
  {
    "text": "application so in that case traffic comes into the internet it hits that reverse proxy first and uh goes then",
    "start": "802600",
    "end": "809440"
  },
  {
    "text": "into the correct internal server so that's what we're talking about when we talk about a proxy server if you've never used one before",
    "start": "809440",
    "end": "816000"
  },
  {
    "text": "if you're one that didn't raise your hand that you've been using one you might be wondering what would I use a",
    "start": "816000",
    "end": "821639"
  },
  {
    "text": "proxy server for well there's a bunch of different things you could use them for security is definitely one of them uh",
    "start": "821639",
    "end": "827880"
  },
  {
    "text": "load balancing is another one if you've ever used a load balancer it's essentially a reverse a reverse proxy",
    "start": "827880",
    "end": "833600"
  },
  {
    "text": "that has one job uh which is balancing traffic between multiple servers another",
    "start": "833600",
    "end": "838720"
  },
  {
    "text": "one that's less well known is AB testing what if you want to put 10% or 20% of",
    "start": "838720",
    "end": "844079"
  },
  {
    "text": "your users on a new feature and have the other 80% that are still using the old",
    "start": "844079",
    "end": "849480"
  },
  {
    "text": "one and find out whether people like it better is it performing better before you put 100% of your users on it another",
    "start": "849480",
    "end": "856440"
  },
  {
    "text": "one is uh URL rewriting or using it for a microservice API Gateway that's a",
    "start": "856440",
    "end": "862199"
  },
  {
    "text": "common use of them these days another one that I find really uh useful is feature Flags if you want to turn on uh",
    "start": "862199",
    "end": "870000"
  },
  {
    "text": "feature uh and if things go well you leave it on and if things don't go well you can turn it back off that's",
    "start": "870000",
    "end": "876320"
  },
  {
    "text": "something that you could do with a reverse proxy very easily as well and then the last one I've got on this side here is the one that we're mostly",
    "start": "876320",
    "end": "882440"
  },
  {
    "text": "focused on today which is doing incre incremental migrations Okay so we've talked about",
    "start": "882440",
    "end": "888320"
  },
  {
    "text": "the approach we've talked about how a reverse proxy server can fill the role of that facade layer and what a reverse",
    "start": "888320",
    "end": "894680"
  },
  {
    "text": "proxy is a little bit let's talk now about yarp specifically",
    "start": "894680",
    "end": "900199"
  },
  {
    "text": "so how does yarp work so if you imagine that diagram we were looking at before",
    "start": "900199",
    "end": "906199"
  },
  {
    "text": "uh basically you need to have something that receives the request first that would be the facade layer and in this",
    "start": "906199",
    "end": "913120"
  },
  {
    "text": "case yarp is actually going to be hosted right inside of your modern application so your aspnet core application uh if",
    "start": "913120",
    "end": "920160"
  },
  {
    "text": "you haven't started your migration yet this will be something that you would create first if you've started your migration already maybe you already have",
    "start": "920160",
    "end": "926480"
  },
  {
    "text": "this and you just add yarp as a new get package so it's very simple do maybe one",
    "start": "926480",
    "end": "931839"
  },
  {
    "text": "to five lines of configuration code and you're up and running so traffic coming",
    "start": "931839",
    "end": "937800"
  },
  {
    "text": "in from clients might uh hit the request response pipeline uh the middleware",
    "start": "937800",
    "end": "943240"
  },
  {
    "text": "pipeline that is in ASP net core and yarp actually goes very high in that Pipeline and so it'll hit yarp before it",
    "start": "943240",
    "end": "950120"
  },
  {
    "text": "hits MVC or your apis and that's where something called",
    "start": "950120",
    "end": "955600"
  },
  {
    "text": "the routing table comes into play you may or may not be totally aware that aspnet has something called a routing",
    "start": "955600",
    "end": "962160"
  },
  {
    "text": "table uh but basically any route that you create with a controller or all the different technology razor views and web",
    "start": "962160",
    "end": "969199"
  },
  {
    "text": "forms all of these things historically over the years uh create the same thing behind the scenes which is basically uh",
    "start": "969199",
    "end": "976240"
  },
  {
    "text": "here's all the routes that I can respond to all of those things are registered in kind of a in-memory database if you will",
    "start": "976240",
    "end": "982800"
  },
  {
    "text": "and that routing table then knows what endpoints it can respond to and which ones it should just do a 40 for so it's",
    "start": "982800",
    "end": "990120"
  },
  {
    "text": "going to look at that routing table and say do I have this endpoint that's being requested registered and if the answer",
    "start": "990120",
    "end": "996120"
  },
  {
    "text": "is yes then it's going to go ahead and forward that down the pipeline and eventually that's going to hit MVC which",
    "start": "996120",
    "end": "1002399"
  },
  {
    "text": "is going to say oh I have a controller for that it's going to forward it to your controller code uh or if you're",
    "start": "1002399",
    "end": "1007759"
  },
  {
    "text": "doing minimal apis to your minimal API endpoint whatever technology you're using it's going to forward that to your",
    "start": "1007759",
    "end": "1014360"
  },
  {
    "text": "code that you've written to handle that particular endpoint uh what happens if that requ comes in and there is no route",
    "start": "1014360",
    "end": "1023440"
  },
  {
    "text": "for that request in the route table well then it's not going to keep going down the pipeline the yarp middleware is",
    "start": "1023440",
    "end": "1030678"
  },
  {
    "text": "actually going to forward that or appr proxy it through to the Legacy application that you've configured in",
    "start": "1030679",
    "end": "1036880"
  },
  {
    "text": "this case to our asp.net Legacy application and that's going to do",
    "start": "1036880",
    "end": "1042240"
  },
  {
    "text": "whatever it does to that response it's going to respond to that and handle that",
    "start": "1042240",
    "end": "1047558"
  },
  {
    "text": "with whatever code that's written in there there and then send the response all the way back through yarp back to",
    "start": "1047559",
    "end": "1053720"
  },
  {
    "text": "your client so that's kind of how Yar works as a reverse proxy so if you go back to that architectural diagram that",
    "start": "1053720",
    "end": "1060400"
  },
  {
    "text": "I had where there's three boxes there's the facade layer the modern app and the Legacy app right well we only talked",
    "start": "1060400",
    "end": "1067200"
  },
  {
    "text": "about two boxes on that last side so how does that work well when you're doing Yar one of the benefits is that the",
    "start": "1067200",
    "end": "1074039"
  },
  {
    "text": "modern application or the asp.net core application actually hosts YP in inside",
    "start": "1074039",
    "end": "1079120"
  },
  {
    "text": "of it and so yarp there is your facade layer running inside of your modern app",
    "start": "1079120",
    "end": "1084559"
  },
  {
    "text": "MVC or whatever minimal API or whatever you're using in your modern app to respond to the requests is your modern",
    "start": "1084559",
    "end": "1090840"
  },
  {
    "text": "app uh and asp.net or whatever you're using for your legacy app is your legacy",
    "start": "1090840",
    "end": "1097960"
  },
  {
    "text": "app so you can actually see there's really only two boxes here which means there's only two things to deploy instead of three things to deploy which",
    "start": "1097960",
    "end": "1103919"
  },
  {
    "text": "is kind of nice all right so for those that raised their hand before that we're using a",
    "start": "1103919",
    "end": "1110480"
  },
  {
    "text": "proxy but not maybe using yarp yet you might be thinking like okay we've",
    "start": "1110480",
    "end": "1115799"
  },
  {
    "text": "already got a proxy why would I care about yarp you may be using one of these pretty popular proxies that are out",
    "start": "1115799",
    "end": "1122240"
  },
  {
    "text": "there reverse proxies so why would you use yarp well number one it's been written from the ground up with",
    "start": "1122240",
    "end": "1128880"
  },
  {
    "text": "performance in mind I know about 10 years ago that wasn't something we could as easily say about net but now I think",
    "start": "1128880",
    "end": "1136000"
  },
  {
    "text": "hopefully everyone that's doing net is very convinced that that it's very important at Microsoft so performance",
    "start": "1136000",
    "end": "1142039"
  },
  {
    "text": "it's extremely easy to use I mentioned it's just a Newgate package with a one to a few lines of code that you're going",
    "start": "1142039",
    "end": "1147760"
  },
  {
    "text": "to write to configure it it's extensible and configurable if you want to do all kinds of different scenarios a lot of",
    "start": "1147760",
    "end": "1154200"
  },
  {
    "text": "stuff is built in to do that and you can do it just through configuration but you can also totally customize it with your",
    "start": "1154200",
    "end": "1159880"
  },
  {
    "text": "own uh C and. Net code to make it do whatever scenario you want if you've got",
    "start": "1159880",
    "end": "1166000"
  },
  {
    "text": "some weird thing where there's some custom header that comes in and if that comes in it needs to be handled by one server and some other header value gets",
    "start": "1166000",
    "end": "1173760"
  },
  {
    "text": "forwarded to another server you can write any of that logic you want and you can use yarp to do that logic for",
    "start": "1173760",
    "end": "1180480"
  },
  {
    "text": "you then the last thing is when you are doing this type of a Strangler fig",
    "start": "1180480",
    "end": "1186080"
  },
  {
    "text": "pattern for a legacy migration you have three applications to deploy and configure all the time you've got your",
    "start": "1186080",
    "end": "1192000"
  },
  {
    "text": "facade layer you've got your modern and your legacy app and this really cuts it down to two which I think is great it's",
    "start": "1192000",
    "end": "1198039"
  },
  {
    "text": "a like 50% reduction okay so let's talk a little",
    "start": "1198039",
    "end": "1204120"
  },
  {
    "text": "bit about something called the net Upgrade Assistant um so the net Upgrade",
    "start": "1204120",
    "end": "1209919"
  },
  {
    "text": "Assistant is something I'm going to show you in just a minute here uh to actually do an upgrade this is something that's",
    "start": "1209919",
    "end": "1215919"
  },
  {
    "text": "built into Visual Studio as an extension and it's now also an extension for the",
    "start": "1215919",
    "end": "1222039"
  },
  {
    "text": "net CLI so if you're a command line interface person uh you can do all of the stuff that you're going to see today",
    "start": "1222039",
    "end": "1228039"
  },
  {
    "text": "at the command line as well uh but if you're more if you find the GUI to be a little more discoverable or easier to to",
    "start": "1228039",
    "end": "1234640"
  },
  {
    "text": "use no problem this extension works the same there both of them are first class citizens and have all the same",
    "start": "1234640",
    "end": "1241760"
  },
  {
    "text": "functionality uh you can it supports all kinds of different migrations we're obviously going to be focused on mostly",
    "start": "1241760",
    "end": "1247960"
  },
  {
    "text": "aspnet to aspnet core today but if you've got Wind forms that you want to",
    "start": "1247960",
    "end": "1253559"
  },
  {
    "text": "go you want to upgrade to run on.net or if you have uh WP PF applications or if",
    "start": "1253559",
    "end": "1259919"
  },
  {
    "text": "you have zamon that you want to upgrade to net Maui the list goes on and on and that even includes uh in recent months",
    "start": "1259919",
    "end": "1268480"
  },
  {
    "text": "there's a project called core WCF which is an open- Source WCF replacement anybody uh use WCF okay I'm sorry but uh",
    "start": "1268480",
    "end": "1278480"
  },
  {
    "text": "if you are using WCF and you're wondering like how are we going to get our WCF code to move on to something",
    "start": "1278480",
    "end": "1284880"
  },
  {
    "text": "more modern there is a open source libr Library called core WCF and Microsoft",
    "start": "1284880",
    "end": "1291120"
  },
  {
    "text": "actually supports that now in the net Upgrade Assistant as well to migrate your legacy WCF projects so lots of",
    "start": "1291120",
    "end": "1298039"
  },
  {
    "text": "great stuff supported there and I forgot to mention class libraries that's uh obviously a critical one for even a web",
    "start": "1298039",
    "end": "1304559"
  },
  {
    "text": "application you're probably going to have some of your own class libraries that you want to migrate as",
    "start": "1304559",
    "end": "1309760"
  },
  {
    "text": "well all right so let's actually get into this demo",
    "start": "1309760",
    "end": "1315600"
  },
  {
    "text": "now okay so I have a application here",
    "start": "1317320",
    "end": "1322440"
  },
  {
    "text": "which has two projects in it this one up here is called eShop Legacy utilities",
    "start": "1322440",
    "end": "1329200"
  },
  {
    "text": "and this one is called eShop Legacy MVC so obviously one of these is a class",
    "start": "1329200",
    "end": "1334559"
  },
  {
    "text": "library and the other one is an MBC project anybody seen the eShop uh samples before from the old",
    "start": "1334559",
    "end": "1342039"
  },
  {
    "text": "days a little bit okay so you might recognize some of this I literally just took Microsoft's old example examp of",
    "start": "1342039",
    "end": "1349080"
  },
  {
    "text": "MVC code uh because I wanted to show what it would be like if you have an old application running on NET Framework uh",
    "start": "1349080",
    "end": "1355600"
  },
  {
    "text": "so I took a real one that had been developed as a demo application and we're going to actually start upgrading",
    "start": "1355600",
    "end": "1361240"
  },
  {
    "text": "that and you can see that process so if I right click on this and go to the project properties you can see this",
    "start": "1361240",
    "end": "1367760"
  },
  {
    "text": "one's actually on net 4.7.2 so it's not even on the most modern version of NET Framework and that",
    "start": "1367760",
    "end": "1374760"
  },
  {
    "text": "just so happens to be the version that was available when I found it on GitHub",
    "start": "1374760",
    "end": "1380200"
  },
  {
    "text": "and if we look at our class Library here you can see this one's on 4.6.1 so it's",
    "start": "1380200",
    "end": "1386120"
  },
  {
    "text": "even a little bit older all right the other thing I want you to see is if we actually look at our",
    "start": "1386120",
    "end": "1392640"
  },
  {
    "text": "class Library you can see it's doing something that if you've been doing net core or",
    "start": "1392640",
    "end": "1398279"
  },
  {
    "text": "modern. net development for very long especially ASB net core you probably see",
    "start": "1398279",
    "end": "1403520"
  },
  {
    "text": "a red flag here for migration right away for those that aren't familiar ready",
    "start": "1403520",
    "end": "1408760"
  },
  {
    "text": "with that the red flag that the others are seeing here is that we're using the HTTP context and where is HTTP context",
    "start": "1408760",
    "end": "1417559"
  },
  {
    "text": "defined while it's defined in system.web and guess what doesn't exist",
    "start": "1417559",
    "end": "1422640"
  },
  {
    "text": "in asp.net core all of system.web okay so anything you might be",
    "start": "1422640",
    "end": "1428600"
  },
  {
    "text": "using that is like requests response HTTP context uh uh session all of those",
    "start": "1428600",
    "end": "1436000"
  },
  {
    "text": "things they don't exist in in modern asp.net core projects so how are you",
    "start": "1436000",
    "end": "1441640"
  },
  {
    "text": "going to if you have a class Library like this that's expecting that to exist how are you going to migrate that well",
    "start": "1441640",
    "end": "1447080"
  },
  {
    "text": "that's a common enough problem that Microsoft has an answer to that we're going to look at in just a second here",
    "start": "1447080",
    "end": "1452200"
  },
  {
    "text": "um but I want you to be aware of that and then let's see the last thing I want you to see",
    "start": "1452200",
    "end": "1459440"
  },
  {
    "text": "before we actually run this is that I created my own controller that I've added to this project and uh you can see",
    "start": "1459440",
    "end": "1469880"
  },
  {
    "text": "I zoom this in just a little more for you you can see here that this is using",
    "start": "1469880",
    "end": "1476559"
  },
  {
    "text": "that class library that we just looked at that has a dependency on system.web to basically get the user",
    "start": "1476559",
    "end": "1483240"
  },
  {
    "text": "agent for the current browser and set that into a viewbag",
    "start": "1483240",
    "end": "1489039"
  },
  {
    "text": "setting uh property and then if we look at the view for",
    "start": "1489039",
    "end": "1494720"
  },
  {
    "text": "this down here under system.web you can see that we've",
    "start": "1494720",
    "end": "1501679"
  },
  {
    "text": "just got a very simple page that is showing that viewb bag. user agent so",
    "start": "1501679",
    "end": "1506880"
  },
  {
    "text": "just some code here that's relying on system.web so that we can actually see what's going to happen in your code that",
    "start": "1506880",
    "end": "1512640"
  },
  {
    "text": "relies on system.web when you try and migrate it okay let's go ahead and run this so",
    "start": "1512640",
    "end": "1519240"
  },
  {
    "text": "you can see what this looks like while we're waiting for this to start up any questions so far about anything yeah",
    "start": "1519240",
    "end": "1529760"
  },
  {
    "text": "yeah so the question is is it just a dumb proxy uh and the answer is yes and",
    "start": "1535640",
    "end": "1541440"
  },
  {
    "text": "no so you can share whatever you can share through HTTP obviously that's how proxies work uh but you also there are",
    "start": "1541440",
    "end": "1549840"
  },
  {
    "text": "some other tools which we'll talk about towards the end that allow you to do a little bit more smart you know behind",
    "start": "1549840",
    "end": "1555679"
  },
  {
    "text": "the scenes data sharing so things like session state that I just mentioned",
    "start": "1555679",
    "end": "1560799"
  },
  {
    "text": "configuration uh authorization authentication all of those types of things that are cross cutting concerns",
    "start": "1560799",
    "end": "1566600"
  },
  {
    "text": "between the two applications uh there are some things that are built in that are available for you for that so hang",
    "start": "1566600",
    "end": "1572360"
  },
  {
    "text": "tight and we'll answer that at the end all right perfect killing time there while we waited for the project to start",
    "start": "1572360",
    "end": "1578480"
  },
  {
    "text": "up um and queuing up a topic for later I appreciate that uh but you can see the",
    "start": "1578480",
    "end": "1583520"
  },
  {
    "text": "application is now running here uh it's nothing fancy it's not going to win any design rewards but uh it works I can",
    "start": "1583520",
    "end": "1590919"
  },
  {
    "text": "come in here and I can edit my stock or change the description or whatever I",
    "start": "1590919",
    "end": "1596760"
  },
  {
    "text": "want to on these um on these different products that are in the shop all right so that's my legacy",
    "start": "1596760",
    "end": "1603880"
  },
  {
    "text": "application let's look at how we would actually upgrade this any guesses",
    "start": "1603880",
    "end": "1609200"
  },
  {
    "text": "between these two projects what would be the right place to start migrating",
    "start": "1609200",
    "end": "1614600"
  },
  {
    "text": "between these two options class library and MVC shout it out if you have the",
    "start": "1614600",
    "end": "1621240"
  },
  {
    "text": "answer I hear some murmuring of class libraries and yes that is correct and",
    "start": "1621240",
    "end": "1627039"
  },
  {
    "text": "that's of course just based on dependencies right everything else is going to be dependent on the class Library so I'm going to want to start",
    "start": "1627039",
    "end": "1633320"
  },
  {
    "text": "with the class libraries first now you may or may not be familiar with uh something",
    "start": "1633320",
    "end": "1640720"
  },
  {
    "text": "called um net standard but we're going to look at that in just a second here",
    "start": "1640720",
    "end": "1645840"
  },
  {
    "text": "but before we start I just do want to show you the fact that I have an extension installed called the net Upgrade",
    "start": "1645840",
    "end": "1652600"
  },
  {
    "text": "Assistant so if you come in here to visual studio and go to tools extensions and search online for net Upgrade",
    "start": "1652600",
    "end": "1659840"
  },
  {
    "text": "Assistant you can make sure you have this installed in your Vis Visual Studio as well there's also a command line tool",
    "start": "1659840",
    "end": "1667360"
  },
  {
    "text": "that you can use from the net CLI that has the same name that you can use there to do all the same things you can see",
    "start": "1667360",
    "end": "1673360"
  },
  {
    "text": "today in visual studio uh okay so uh those that that",
    "start": "1673360",
    "end": "1678760"
  },
  {
    "text": "said starting with the class Library are correct once I install that extension you'll actually notice something you",
    "start": "1678760",
    "end": "1684720"
  },
  {
    "text": "probably don't have in your right click menu if you haven't installed it yet which is this upgrade option so if I",
    "start": "1684720",
    "end": "1690919"
  },
  {
    "text": "pick that I get a new tab in my IDE and it shows me a couple of different",
    "start": "1690919",
    "end": "1697360"
  },
  {
    "text": "options for a class Library do I want to upgrade to a new version ofn net or do I want to upgrade project features well I",
    "start": "1697360",
    "end": "1704080"
  },
  {
    "text": "want to upgrade it to a new version of.net that's kind of the point here so I get a few different ways I can go",
    "start": "1704080",
    "end": "1709960"
  },
  {
    "text": "about doing it do I want to do it side by side incremental project upgrade that",
    "start": "1709960",
    "end": "1715279"
  },
  {
    "text": "means maybe this is going to be time consuming and I want to do have both available at the same time another one",
    "start": "1715279",
    "end": "1721240"
  },
  {
    "text": "is just a side by side upgrade so it's GNA basically copy this into another project for me uh now I know there's",
    "start": "1721240",
    "end": "1728919"
  },
  {
    "text": "only a few lines of code in this class Library so I suspect it's not going to be terrible migration process so I'm",
    "start": "1728919",
    "end": "1736080"
  },
  {
    "text": "going to just go ahead and be brave and do the in place migration I'm using git anyway I can always roll this back if I",
    "start": "1736080",
    "end": "1742399"
  },
  {
    "text": "need to but I'm going to be brave and do that in place migration so I pick next",
    "start": "1742399",
    "end": "1748200"
  },
  {
    "text": "and I get a bunch of different options of what I want to Target so I could just target. net8",
    "start": "1748200",
    "end": "1754600"
  },
  {
    "text": "because that's the newest long-term support version of net that's out right now but I actually want this to work",
    "start": "1754600",
    "end": "1761320"
  },
  {
    "text": "both for NET Framework and for net core applications I might have a little bit",
    "start": "1761320",
    "end": "1766799"
  },
  {
    "text": "of time where this class Library needs to be able to be called by my Net Framework Legacy app and by my net",
    "start": "1766799",
    "end": "1774720"
  },
  {
    "text": "modern app and so net standard is this thing I referred to earlier it sounds",
    "start": "1774720",
    "end": "1780240"
  },
  {
    "text": "like it's some other type of net like all the different Nets that used to be out there net mini net for micro all of",
    "start": "1780240",
    "end": "1788120"
  },
  {
    "text": "those things that you might have heard of um this is not that it is actually a standard as the name suggests that",
    "start": "1788120",
    "end": "1795000"
  },
  {
    "text": "different flavors of net can actually apply to and so if I picket net standard",
    "start": "1795000",
    "end": "1801200"
  },
  {
    "text": "what I'm actually saying is that I want to support a certain subset of net Frameworks and a certain subset of net",
    "start": "1801200",
    "end": "1807360"
  },
  {
    "text": "cores and and modern. Nets and you can actually go online and if you just search for",
    "start": "1807360",
    "end": "1813679"
  },
  {
    "text": "uh net standard um",
    "start": "1813679",
    "end": "1819840"
  },
  {
    "text": "version versions like that you will get to some nice documentation that shows",
    "start": "1819840",
    "end": "1825679"
  },
  {
    "text": "you uh how that actually applies to different versions so we picked 2.0 and",
    "start": "1825679",
    "end": "1831919"
  },
  {
    "text": "that shows me that I'm basically NET Framework 4.6 and above and I'm net Core",
    "start": "1831919",
    "end": "1838679"
  },
  {
    "text": "2 and all the way up to modern. net 8 okay so that's that's basically what I'm",
    "start": "1838679",
    "end": "1845320"
  },
  {
    "text": "saying by saying net standard is I'm saying I want to support all of those plus all those other ones that were listed there are supported as well okay",
    "start": "1845320",
    "end": "1852360"
  },
  {
    "text": "so I'll pick down that standard and now I get this page that kind of tells me hey here's all the code files and",
    "start": "1852360",
    "end": "1858320"
  },
  {
    "text": "dependencies and things that are in your project do you want to check or uncheck any of them if you know some of them are going to be problematic you could",
    "start": "1858320",
    "end": "1864399"
  },
  {
    "text": "uncheck them at this point I'm going to do everything and now I get a progress window that shows me both a progress bar",
    "start": "1864399",
    "end": "1871480"
  },
  {
    "text": "and uh shows me kind of check boxes appearing next to things as they complete and you can see it's taken",
    "start": "1871480",
    "end": "1879360"
  },
  {
    "text": "about 11 seconds and all 14 of the steps that it was migrating were",
    "start": "1879360",
    "end": "1885440"
  },
  {
    "text": "successful so if I go back in here and look at the",
    "start": "1885440",
    "end": "1890559"
  },
  {
    "text": "code you can see that the code looks pretty much the same as it did before in",
    "start": "1890559",
    "end": "1896960"
  },
  {
    "text": "my class library but if I go to the properties of this you can see it's now",
    "start": "1896960",
    "end": "1904880"
  },
  {
    "text": "targeting net standard 2.0 instead of net 4.6.1 that it was targeting before the",
    "start": "1904880",
    "end": "1912360"
  },
  {
    "text": "other thing I want to point out is if we actually go look at the project file you might know this already but the project",
    "start": "1912360",
    "end": "1918679"
  },
  {
    "text": "files are very different format between NET Framework and modern. net and as you",
    "start": "1918679",
    "end": "1924600"
  },
  {
    "text": "can see here this has been upgraded for me you can also see that I don't have a",
    "start": "1924600",
    "end": "1929880"
  },
  {
    "text": "a nit file as a separate file like used to for NET Framework projects it's",
    "start": "1929880",
    "end": "1935600"
  },
  {
    "text": "actually all been moved here all my n get packages have been moved here into my project file and then the last thing",
    "start": "1935600",
    "end": "1941200"
  },
  {
    "text": "I want to call out here is this ASP uh sorry microsoft. aspet core system web",
    "start": "1941200",
    "end": "1948039"
  },
  {
    "text": "adapters this is going to be very important uh because this is actually going to make all of my system.web code",
    "start": "1948039",
    "end": "1955039"
  },
  {
    "text": "work in my application if I go back here in fact if I clicked and to go to the",
    "start": "1955039",
    "end": "1960519"
  },
  {
    "text": "definition of this before where would it have said this was coming from anybody",
    "start": "1960519",
    "end": "1967760"
  },
  {
    "text": "know system. web. dll is where the definition of HTTP context would have",
    "start": "1967760",
    "end": "1973080"
  },
  {
    "text": "been before it's small text up here but can you see where that's actually coming from now in my class Library it's coming",
    "start": "1973080",
    "end": "1979080"
  },
  {
    "text": "from the Microsoft aspet core. system web adapters new get package so all",
    "start": "1979080",
    "end": "1987279"
  },
  {
    "text": "things that reference that system. webn namespace have now been redirected to that new get package the migration tool",
    "start": "1987279",
    "end": "1994519"
  },
  {
    "text": "actually recognized the fact that I was using system.web in my code and automatically applied that new get",
    "start": "1994519",
    "end": "2000679"
  },
  {
    "text": "package for me and added it to the project and it just made everything kind of magically work",
    "start": "2000679",
    "end": "2006559"
  },
  {
    "text": "so if if I even come here and now uh rebuild this project uh you'll see that everything",
    "start": "2006559",
    "end": "2014240"
  },
  {
    "text": "rebuilds successfully so I've now kind of migrated that class Library everything's also totally fine because",
    "start": "2014240",
    "end": "2021600"
  },
  {
    "text": "it's net standard and myet uh 4.7 web application is still referencing",
    "start": "2021600",
    "end": "2029000"
  },
  {
    "text": "this but now it's net standard instead of being net 4.6.1 that's fine because net standard",
    "start": "2029000",
    "end": "2035200"
  },
  {
    "text": "can be referenced by both NET Framework and net core so no problem there so I'm",
    "start": "2035200",
    "end": "2040880"
  },
  {
    "text": "good to go basically I've got that done now the hard part is the web application anybody who's learned asp.net for a long",
    "start": "2040880",
    "end": "2048480"
  },
  {
    "text": "time and then tried to learn asp.net core knows that there are quite a few differences between the two if you look",
    "start": "2048480",
    "end": "2054599"
  },
  {
    "text": "at a controller file it's going to look pretty much exactly the same uh but if you look at uh the startup code or if",
    "start": "2054599",
    "end": "2062158"
  },
  {
    "text": "you look at configuration or something like that it's going to be quite different the project file is going to be quite different so there are some",
    "start": "2062159",
    "end": "2068720"
  },
  {
    "text": "pretty heavy differences between the two which is why this is such a timec consuming process right it's not just a",
    "start": "2068720",
    "end": "2074760"
  },
  {
    "text": "an automatic upgrade change a few things here and there and you're just magically working it's a it's a little bit of a",
    "start": "2074760",
    "end": "2081079"
  },
  {
    "text": "lift and then obviously if you're using something like web forms which doesn't exist in net core then you know you have",
    "start": "2081079",
    "end": "2088560"
  },
  {
    "text": "to do much heavier lift because now you're rewriting stuff into something more modern so I'm going to click here",
    "start": "2088560",
    "end": "2094280"
  },
  {
    "text": "on my web project and pick upgrade again I get the list of options again I'm",
    "start": "2094280",
    "end": "2100480"
  },
  {
    "text": "going to say I want to upgrade this to a newer version ofn net you'll notice I get fewer options here in fact I get one",
    "start": "2100480",
    "end": "2107079"
  },
  {
    "text": "option which is to just do a side bys side incremental project upgrade incremental that's that word we had in",
    "start": "2107079",
    "end": "2112880"
  },
  {
    "text": "the title today that's kind of the magic word here I'm not gonna Pro if this is a",
    "start": "2112880",
    "end": "2118119"
  },
  {
    "text": "big project I'm not going to be able to do this in a weekend I'm GNA have to do this over maybe months or years and so",
    "start": "2118119",
    "end": "2125760"
  },
  {
    "text": "this is going to actually do a side by side upgrade it's going to set up yarp for me in fact if you read the",
    "start": "2125760",
    "end": "2131040"
  },
  {
    "text": "description it says it places aspet core app in front and falls back to an asp",
    "start": "2131040",
    "end": "2137599"
  },
  {
    "text": "net app via yarp proxy for routes not handled by the new application so just",
    "start": "2137599",
    "end": "2143280"
  },
  {
    "text": "exactly what we looked at in those diagrams a few minutes ago it's going to basically set all of that up for me with",
    "start": "2143280",
    "end": "2149280"
  },
  {
    "text": "this Legacy application so if I go ahead and pick pick next here I do get the",
    "start": "2149280",
    "end": "2154599"
  },
  {
    "text": "option to pick an existing project maybe you've already started creating the modern app and you just want to have it",
    "start": "2154599",
    "end": "2161319"
  },
  {
    "text": "plug yarp into that uh in my case I don't have anything so I'm going to go ahead and just do a new project and it",
    "start": "2161319",
    "end": "2168880"
  },
  {
    "text": "gives it a name automatically but I'm going to change the word legacy here to",
    "start": "2168880",
    "end": "2174640"
  },
  {
    "text": "core instead and it gives me a few options about which project template I want to",
    "start": "2174640",
    "end": "2180280"
  },
  {
    "text": "use I'm going to use the default and then I get a pick a version of net now this is a web application so you'll",
    "start": "2180280",
    "end": "2186839"
  },
  {
    "text": "notice net standard is not here net standard only applies to class libraries that can be shared across different",
    "start": "2186839",
    "end": "2192880"
  },
  {
    "text": "implementations but here uh this is actually going to be you know an application Level code and so it has to",
    "start": "2192880",
    "end": "2198839"
  },
  {
    "text": "be running against an actual framework so we have to pick which one I'm going to pick the newest long-term support of.",
    "start": "2198839",
    "end": "2205560"
  },
  {
    "text": "net version which is net 8 so I pick that it gives me a little bit of a preview here of what it's about",
    "start": "2205560",
    "end": "2211720"
  },
  {
    "text": "to do and when I click finish I'm going to get a similar screen that shows me progress um you see the output window",
    "start": "2211720",
    "end": "2219079"
  },
  {
    "text": "popping up occasionally as things are logging to that as well and you can see",
    "start": "2219079",
    "end": "2224160"
  },
  {
    "text": "this project only took seven seconds and uh went through all six St stages and all of them",
    "start": "2224160",
    "end": "2230440"
  },
  {
    "text": "succeeded so we're pretty excited about that now you can tell your boss you're done",
    "start": "2230440",
    "end": "2236920"
  },
  {
    "text": "right uh not exactly uh if we look here in the solution Explorer you see there's",
    "start": "2236920",
    "end": "2242480"
  },
  {
    "text": "a new project it's called eShop core MVC which is what I asked for it to be named",
    "start": "2242480",
    "end": "2248040"
  },
  {
    "text": "and if we look at the project properties you can see it is targeting net",
    "start": "2248040",
    "end": "2254040"
  },
  {
    "text": "8 but we also if we look inside of it we'll see that it's uh it's pretty light",
    "start": "2254040",
    "end": "2259880"
  },
  {
    "text": "inside of here there's a program CS file and that's about it so not not really",
    "start": "2259880",
    "end": "2265480"
  },
  {
    "text": "much going on here but uh what I do want to show you is that we're very close to having this actually working uh anyway",
    "start": "2265480",
    "end": "2272920"
  },
  {
    "text": "so let me go ahead and build the solution this way just see if we get any errors because we",
    "start": "2272920",
    "end": "2278240"
  },
  {
    "text": "will get a few and I'll show you uh how those how to handle",
    "start": "2278240",
    "end": "2285960"
  },
  {
    "text": "those uh okay yep I sorry I haven't actually done the step that'll give me",
    "start": "2288599",
    "end": "2293720"
  },
  {
    "text": "errors yet so let me actually just show you a couple configuration things and then I will show you um that we actually",
    "start": "2293720",
    "end": "2300400"
  },
  {
    "text": "have this working okay so if you'll notice here in my modern",
    "start": "2300400",
    "end": "2306960"
  },
  {
    "text": "application there is a map",
    "start": "2306960",
    "end": "2312079"
  },
  {
    "text": "forwarder right here app. map forwarder and it's got this kind of funny looking route being defined that says catchall",
    "start": "2312079",
    "end": "2319400"
  },
  {
    "text": "this is a hardcoded route that you can Define that basically says I want yarp",
    "start": "2319400",
    "end": "2325240"
  },
  {
    "text": "to handle all potential incoming requests I could filter that down to say",
    "start": "2325240",
    "end": "2330480"
  },
  {
    "text": "just things under a certain directory you know API slash or um whatever",
    "start": "2330480",
    "end": "2336880"
  },
  {
    "text": "particular path or pattern you want it to but I wanted to actually look at everything I wanted to compare that to",
    "start": "2336880",
    "end": "2342440"
  },
  {
    "text": "my route table like we saw in the diagram and if it can't find it in the route table then to forward it so I'm",
    "start": "2342440",
    "end": "2348160"
  },
  {
    "text": "just going to basically leave it this way and say compare everything to the route table go ahead and catch any",
    "start": "2348160",
    "end": "2354280"
  },
  {
    "text": "request and then the second thing I want you to notice here is that there's a configuration setting called proxy to",
    "start": "2354280",
    "end": "2359880"
  },
  {
    "text": "that's being inserted here as a parameter and that is actually the end point that I want it to proxy to should",
    "start": "2359880",
    "end": "2366560"
  },
  {
    "text": "it fail should fail to find the route in question in the route table for the current",
    "start": "2366560",
    "end": "2372240"
  },
  {
    "text": "APP now where that's actually defined right now is in my launch settings for",
    "start": "2372240",
    "end": "2379160"
  },
  {
    "text": "debugging purposes you would probably you could set this in an app settings file you could set you could hardcode",
    "start": "2379160",
    "end": "2385520"
  },
  {
    "text": "this please don't do that better yet you could actually code this into your cicd pipelines to be injected into your code",
    "start": "2385520",
    "end": "2392440"
  },
  {
    "text": "as it's being deployed that's probably the best way to do it uh you could put it in some sort of a configuration store",
    "start": "2392440",
    "end": "2397960"
  },
  {
    "text": "like an Azure all of those work totally this is just sort of the debug",
    "start": "2397960",
    "end": "2403119"
  },
  {
    "text": "environment way to do it uh so you can see that no matter how I'm launching this it's going to use Local Host",
    "start": "2403119",
    "end": "2412599"
  },
  {
    "text": "52429 and it's going to host the modern application on Local Host",
    "start": "2413200",
    "end": "2419680"
  },
  {
    "text": "7066 okay so those are kind of the two things to keep in mind if it's the four-digit uh Port then we're actually",
    "start": "2419680",
    "end": "2425839"
  },
  {
    "text": "looking at the Modern app application and if it's the five digigit port that starts with a five then we're looking at",
    "start": "2425839",
    "end": "2431760"
  },
  {
    "text": "the Legacy application so I'll go ahead and start this now we really haven't done any of the migration work except",
    "start": "2431760",
    "end": "2437040"
  },
  {
    "text": "for setting up the proxy at this point uh but you'll",
    "start": "2437040",
    "end": "2443400"
  },
  {
    "text": "notice go ahead and close that you'll notice here when it finishes compiling and launches first of all that I'm on",
    "start": "2444920",
    "end": "2452040"
  },
  {
    "text": "7066 so this is my modern application that I'm hitting right now and it's",
    "start": "2452040",
    "end": "2457599"
  },
  {
    "text": "taking a couple seconds longer because it's actually launching and compiling Two web applications the modern and the",
    "start": "2457599",
    "end": "2463480"
  },
  {
    "text": "Legacy and you'll notice that my joke about now telling your boss that you're",
    "start": "2463480",
    "end": "2468560"
  },
  {
    "text": "done is still wrong but it kind of looks like you're done in a way because you've",
    "start": "2468560",
    "end": "2474119"
  },
  {
    "text": "now you're hitting the modern application and everything looks like it's working uh correctly if I go edit",
    "start": "2474119",
    "end": "2480720"
  },
  {
    "text": "things it looks the same way that it did before why is it looking like it's done but it's not done well because it's",
    "start": "2480720",
    "end": "2487400"
  },
  {
    "text": "literally proxying 100% of the requests through so in a way what you've done is",
    "start": "2487400",
    "end": "2492480"
  },
  {
    "text": "you've slightly slowed down your legacy application uh so maybe you're not done here maybe you don't want to actually",
    "start": "2492480",
    "end": "2498400"
  },
  {
    "text": "launch this you could launch this and it would work just fine probably most people wouldn't notice um because yarp",
    "start": "2498400",
    "end": "2504359"
  },
  {
    "text": "is so fast it's not going to be a huge impact it's not something a human would notice uh but obviously we haven't",
    "start": "2504359",
    "end": "2510599"
  },
  {
    "text": "actually finished anything useful yet so let's look at doing something useful",
    "start": "2510599",
    "end": "2518400"
  },
  {
    "text": "so what I want to do is go into my legacy code and I want to go to that system.web",
    "start": "2518400",
    "end": "2523760"
  },
  {
    "text": "controller uh that was using my class library that in turn was using system.web to get the user",
    "start": "2523760",
    "end": "2531800"
  },
  {
    "text": "agent so I'm going to I could right click on this and say I want to upgrade this controller or I want you to see",
    "start": "2531800",
    "end": "2539720"
  },
  {
    "text": "here I can also just click on the project at any time and say upgrade and I kind of like to do it at",
    "start": "2539720",
    "end": "2546160"
  },
  {
    "text": "the project level and because it actually gives me this dashboard that shows me how my progress is going so far",
    "start": "2546160",
    "end": "2553559"
  },
  {
    "text": "uh you can see on the right hand side of this dashboard that I have 100% of my endpoints right now 15 of them are in",
    "start": "2553559",
    "end": "2561119"
  },
  {
    "text": "NET Framework and zero or 0% of them are in net so this might make it harder to",
    "start": "2561119",
    "end": "2567680"
  },
  {
    "text": "argue to your boss that you're done uh since it says 0% right there but it does give you kind of an idea of how how",
    "start": "2567680",
    "end": "2574319"
  },
  {
    "text": "you're Pro progressing on this process and what's really cool about this is this works all throughout the process it",
    "start": "2574319",
    "end": "2581280"
  },
  {
    "text": "could take you months or years and you can keep coming back to this dashboard and seeing how many endpoints are in",
    "start": "2581280",
    "end": "2587119"
  },
  {
    "text": "each of the applications now when I click on update upgrade controller here",
    "start": "2587119",
    "end": "2592200"
  },
  {
    "text": "it's going to give me a list of my controllers I'm going to P pick the system web controller and say I want to",
    "start": "2592200",
    "end": "2597839"
  },
  {
    "text": "upgrade it similar to before it's going to give me a list of things that I can check or uncheck I want it to go ahead",
    "start": "2597839",
    "end": "2604880"
  },
  {
    "text": "and do everything related to that controller so it's actually going to do quite a bit of things here it's going to do some um some of the dependencies it's",
    "start": "2604880",
    "end": "2612920"
  },
  {
    "text": "going to move some views over into my application right because system web had a view but that view was also using a",
    "start": "2612920",
    "end": "2620079"
  },
  {
    "text": "lay a layout View and so that also has a dependency that has to be moved over and then the controller itself has to be",
    "start": "2620079",
    "end": "2626359"
  },
  {
    "text": "moved over now this is where I'll tell you that when it comes to something as complex is a web application in asp.net",
    "start": "2626359",
    "end": "2633640"
  },
  {
    "text": "it doesn't get 100% of things correct and you're about to see one of those",
    "start": "2633640",
    "end": "2639040"
  },
  {
    "text": "things so if I go into my new application and the system web",
    "start": "2639040",
    "end": "2644680"
  },
  {
    "text": "controller now exists here you can see the views folder now exists with a whole bunch of things migrated into that as",
    "start": "2644680",
    "end": "2650319"
  },
  {
    "text": "well we'll look at that in just a minute but let's go look at the controller does anyone remember uh how this line of code",
    "start": "2650319",
    "end": "2657000"
  },
  {
    "text": "looked before it was setting a viewbag property equal to the result of that",
    "start": "2657000",
    "end": "2662359"
  },
  {
    "text": "some class. Geet header uh and then passing the HTTP context and it added a",
    "start": "2662359",
    "end": "2668119"
  },
  {
    "text": "bit of stuff here that doesn't make a lot of sense uh I'll tell you right now that it's uh you know still a",
    "start": "2668119",
    "end": "2674839"
  },
  {
    "text": "development in progress and so it's not perfect all the time it totally misinterpreted this code and this is",
    "start": "2674839",
    "end": "2683240"
  },
  {
    "text": "actually what it should have written so now if I do like that I now",
    "start": "2683240",
    "end": "2690040"
  },
  {
    "text": "I've almost got this line of code fixed you'll notice uh here and here I still have some red squigglies that tell me",
    "start": "2690040",
    "end": "2697160"
  },
  {
    "text": "that there's some sort of a problem with that uh with that eShop legacy. utilities class and it's quite simple uh",
    "start": "2697160",
    "end": "2705440"
  },
  {
    "text": "what's happened is I moved that to a net standard class Library which means it",
    "start": "2705440",
    "end": "2710760"
  },
  {
    "text": "could be referenced by net. net core or NET Framework now but I then created a",
    "start": "2710760",
    "end": "2717200"
  },
  {
    "text": "brand new ASP net core application and I never referenced it from there so that's all that's missing here if I go up uh to",
    "start": "2717200",
    "end": "2724680"
  },
  {
    "text": "my modern app and under dependen here I'll just say I want to add a project reference and I'll click the",
    "start": "2724680",
    "end": "2731480"
  },
  {
    "text": "utilities and now you can see that's working as expected so let's go ahead and just make",
    "start": "2731480",
    "end": "2738119"
  },
  {
    "text": "sure that this builds and assuming it's going to",
    "start": "2738119",
    "end": "2745280"
  },
  {
    "text": "worka there's a couple of things wrong so what's wrong well it doesn't",
    "start": "2745280",
    "end": "2751200"
  },
  {
    "text": "know what to do with some of these things that are from uh NET Framework Legacy syn text now I could we",
    "start": "2751200",
    "end": "2758280"
  },
  {
    "text": "could go through the process of fixing these I don't think it would be very interesting to do that so I'm just going to comment these out for now all it's",
    "start": "2758280",
    "end": "2764720"
  },
  {
    "text": "really doing is putting a machine name in the footer and maybe that's not important to me or I want to solve that",
    "start": "2764720",
    "end": "2770640"
  },
  {
    "text": "later this is an incremental process after all so I'll go ahead and comment that out and I'll I'll go look at my",
    "start": "2770640",
    "end": "2776400"
  },
  {
    "text": "error list and see that okay that seems to have solved that so let's go ahead and rebuild again and we'll see if we",
    "start": "2776400",
    "end": "2783839"
  },
  {
    "text": "got everything working this time everything works let's go ahead andun run it again this time we'll go to that",
    "start": "2783839",
    "end": "2789640"
  },
  {
    "text": "system.web endpoint while we're doing that though while we're waiting for that to come up",
    "start": "2789640",
    "end": "2796079"
  },
  {
    "text": "I want to actually grab this URL for the Legacy application as well so that we can go to both in the browser and see uh",
    "start": "2796079",
    "end": "2802880"
  },
  {
    "text": "how they look so the browser popped up behind here so here it's loading uh",
    "start": "2802880",
    "end": "2809319"
  },
  {
    "text": "7066 which is my modern app I'm going to open a new tab and paste in the URL for the Legacy app as well",
    "start": "2809319",
    "end": "2817000"
  },
  {
    "text": "okay so I can see here uh my legacy app is working as it was before if I go to",
    "start": "2817000",
    "end": "2822880"
  },
  {
    "text": "slash system web which is that controller I wrote you can see the user agent is being written",
    "start": "2822880",
    "end": "2830880"
  },
  {
    "text": "out and it's like all nice inside of the the page layout if I go to my modern app",
    "start": "2830880",
    "end": "2836599"
  },
  {
    "text": "you can see the landing page still looks great but if I go to system",
    "start": "2836599",
    "end": "2843599"
  },
  {
    "text": "web I get the content of the page but it looks a little goofy all right so what's",
    "start": "2843599",
    "end": "2850520"
  },
  {
    "text": "happening here maybe you saw it I I purposely didn't show you the screen for very long but maybe you saw in the code",
    "start": "2850520",
    "end": "2856920"
  },
  {
    "text": "if you're a quick reader that there's something missing in here do you",
    "start": "2856920",
    "end": "2862599"
  },
  {
    "text": "notice this or this when I was on the screen for just a few seconds well",
    "start": "2862599",
    "end": "2869400"
  },
  {
    "text": "that's our problem right we've moved this whole uh controller and its views and therefore its layout view into this",
    "start": "2869400",
    "end": "2876599"
  },
  {
    "text": "mod modern application but guess what asp.net core does not include same",
    "start": "2876599",
    "end": "2881920"
  },
  {
    "text": "bundling Library that's available in asp.net why well basically because there are a",
    "start": "2881920",
    "end": "2888160"
  },
  {
    "text": "million different ways that you can bundle resources in JavaScript and other web Technologies now uh web Optimizer",
    "start": "2888160",
    "end": "2895400"
  },
  {
    "text": "and all kinds of other things that exist out there for doing this uh that you've maybe used before and Microsoft I think",
    "start": "2895400",
    "end": "2902520"
  },
  {
    "text": "rightfully decided that for this front-end code bundling stuff it does not make sense to reinvent the wheel",
    "start": "2902520",
    "end": "2908920"
  },
  {
    "text": "that stuff exists uh so we're going to let you just use that modern stuff now that's kind of a pain for us because we",
    "start": "2908920",
    "end": "2915000"
  },
  {
    "text": "have this Legacy code that we actually want to migrate with as little work as possible I might be okay with the",
    "start": "2915000",
    "end": "2920599"
  },
  {
    "text": "bundling actually working the way that it did before and not using something more modern like Gulp or grunt or web",
    "start": "2920599",
    "end": "2927440"
  },
  {
    "text": "Optimizer great news there is a library that solves that problem for you and of",
    "start": "2927440",
    "end": "2934079"
  },
  {
    "text": "all things it's called liger shark uh so let's actually bring liger shark",
    "start": "2934079",
    "end": "2941520"
  },
  {
    "text": "here into this project so that we can uh we can actually use it the same way that",
    "start": "2941520",
    "end": "2947839"
  },
  {
    "text": "we were using it before in our Legacy code so if I come in to new get here and",
    "start": "2947839",
    "end": "2953680"
  },
  {
    "text": "I'll just search for liers shark here you see liers shark. web Optimizer doe",
    "start": "2953680",
    "end": "2959280"
  },
  {
    "text": "I'm going to add that to my modern application and I'll install the latest version right there so I have to accept",
    "start": "2959280",
    "end": "2966960"
  },
  {
    "text": "all the user license agreements and so on and then it installs it there okay",
    "start": "2966960",
    "end": "2975200"
  },
  {
    "text": "the next step is uh now before I actually configure lier shark and actually do the bundling in here I want",
    "start": "2975200",
    "end": "2981280"
  },
  {
    "text": "to show you another intermediate stage that you could do I'm just going to copy some code here that I have pre-written",
    "start": "2981280",
    "end": "2988359"
  },
  {
    "text": "so that I don't make you watch me just type through our precious time together",
    "start": "2988359",
    "end": "2994559"
  },
  {
    "text": "today okay so I'm going to put in a couple of things here some CSS up here",
    "start": "2994559",
    "end": "2999680"
  },
  {
    "text": "and I'm going to put in uh some scripts down here right where we had these",
    "start": "2999680",
    "end": "3005000"
  },
  {
    "text": "scripts before okay so I've replaced those now I haven't done anything with lier shark",
    "start": "3005000",
    "end": "3011520"
  },
  {
    "text": "yet to configure bundles to run in the modern application any guesses in the room as to what might happen",
    "start": "3011520",
    "end": "3019200"
  },
  {
    "text": "here what's that same as before that's a good guess so you think maybe we'll see that",
    "start": "3019200",
    "end": "3025280"
  },
  {
    "text": "system.web uh page and it will still look kind of fny without the CSS any",
    "start": "3025280",
    "end": "3030319"
  },
  {
    "text": "other gues nobody brave enough to guess and different guess than",
    "start": "3030319",
    "end": "3036359"
  },
  {
    "text": "that there's one guess out there just let that guy be wrong right",
    "start": "3036359",
    "end": "3041520"
  },
  {
    "text": "okay all right so you were maybe half right and half wrong with that guess so I'll give you",
    "start": "3041520",
    "end": "3048880"
  },
  {
    "text": "50% but it actually looks normal and anybody know why does it look normal",
    "start": "3048880",
    "end": "3055280"
  },
  {
    "text": "here on the modern application haven't done anything to bundle those in the modern",
    "start": "3055280",
    "end": "3061400"
  },
  {
    "text": "application it's it's using the proxy to forward those now to the Legacy",
    "start": "3061400",
    "end": "3067200"
  },
  {
    "text": "application yep so those bundles still exist in the Legacy application I could just be lazy and say I don't want to do",
    "start": "3067200",
    "end": "3073799"
  },
  {
    "text": "that migration today uh it's going to be a little bit too much work and so there",
    "start": "3073799",
    "end": "3079240"
  },
  {
    "text": "now I've solved it by just forwarding them through okay that's one way to do it a better way to do it might be to",
    "start": "3079240",
    "end": "3085839"
  },
  {
    "text": "actually migrate those through and so what I'm going to do I've got a a few steps to do this and then um we'll try",
    "start": "3085839",
    "end": "3094480"
  },
  {
    "text": "and have some time for some questions at the end all of the code that I want to bundle is coming from either the content",
    "start": "3094480",
    "end": "3101640"
  },
  {
    "text": "folder here or from the scripts folder so I'm just going to go ahead and copy",
    "start": "3101640",
    "end": "3108760"
  },
  {
    "text": "these into my modern app bunch of CSS and JavaScript files in these folders",
    "start": "3108760",
    "end": "3115680"
  },
  {
    "text": "you'll notice my project file just became a absolute disaster with all of those things pasted",
    "start": "3115680",
    "end": "3122559"
  },
  {
    "text": "in right so what I'm going to actually do is I'm going to just remove those and there's a much simpler",
    "start": "3122559",
    "end": "3129960"
  },
  {
    "text": "way to write this uh which if you if you're up on your XML of project files you might have seen this before where",
    "start": "3129960",
    "end": "3136799"
  },
  {
    "text": "you can do wild cards in there and so I can basically say anything that's under the content folder that's anything.",
    "start": "3136799",
    "end": "3142760"
  },
  {
    "text": "anything any number of levels below I want you to go ahead and copy that to the output folder uh and whoops I",
    "start": "3142760",
    "end": "3151319"
  },
  {
    "text": "missed I know some eagle-eyed person noticed that I missed that and they had they were like should I say",
    "start": "3151319",
    "end": "3158160"
  },
  {
    "text": "something okay so I've gone ahead and got all of the XML in there now and uh",
    "start": "3158160",
    "end": "3163960"
  },
  {
    "text": "that's a little prettier ah thank you",
    "start": "3163960",
    "end": "3171040"
  },
  {
    "text": "um so uh this is going to be a little prettier now when I go back and edit anything in the content fold fer or the",
    "start": "3171040",
    "end": "3176960"
  },
  {
    "text": "scripts folder that's not going to keep editing that over and over in the project file uh and I can have a much",
    "start": "3176960",
    "end": "3183920"
  },
  {
    "text": "simpler project file now the last step I have to do is actually set up the bundles you've seen this before in the Legacy code where usually in the app",
    "start": "3183920",
    "end": "3191760"
  },
  {
    "text": "start there'll be a bundle config and it'll basically say uh you know here's",
    "start": "3191760",
    "end": "3197119"
  },
  {
    "text": "the bundles collection passed into you and you'll say bundles. add a script bundle or a uh style",
    "start": "3197119",
    "end": "3204520"
  },
  {
    "text": "bundle the liger shark syntax is very similar it's not exactly the same and so",
    "start": "3204520",
    "end": "3209880"
  },
  {
    "text": "I've also pre-written that so we can just copy that in here uh and this actually will happen in startup there is",
    "start": "3209880",
    "end": "3216400"
  },
  {
    "text": "no bundle config to speak of so I'm just going to copy this",
    "start": "3216400",
    "end": "3221880"
  },
  {
    "text": "in and I'm going to go to my modern application and over to my program Cs",
    "start": "3221880",
    "end": "3228520"
  },
  {
    "text": "and right up here where Builder is defined I'm just going to paste in that code so you can see it's if I format",
    "start": "3228520",
    "end": "3236319"
  },
  {
    "text": "that that you can see that it is oh I missed some code",
    "start": "3236319",
    "end": "3241799"
  },
  {
    "text": "again there we go now it should format a little better uh so you can see it's adding a",
    "start": "3241880",
    "end": "3247920"
  },
  {
    "text": "JavaScript bundle another JavaScript bundle another one and then a CSS bundle at the end so it's basically the same",
    "start": "3247920",
    "end": "3254319"
  },
  {
    "text": "bundles as I had before but it's just using a different library to do it okay so now I've got that code in",
    "start": "3254319",
    "end": "3260240"
  },
  {
    "text": "there it's going to copy to the output directory so it'll be available during compilation uh to be made into a bundle",
    "start": "3260240",
    "end": "3267240"
  },
  {
    "text": "and uh I've gone ahead and optim or uh I've gone ahead and configured liger shark to uh create these the last thing",
    "start": "3267240",
    "end": "3275160"
  },
  {
    "text": "to do is to add it to the pipeline and so here in the program CS right under",
    "start": "3275160",
    "end": "3281000"
  },
  {
    "text": "static files I'm just going to do app. use web Optimizer so that's the",
    "start": "3281000",
    "end": "3288880"
  },
  {
    "text": "extension method that lier shark adds to the app class there and that's going to",
    "start": "3288880",
    "end": "3294559"
  },
  {
    "text": "add liger shark to the pipeline so when it sees a bundle it's going to know how to handle it you'll notice that I put it",
    "start": "3294559",
    "end": "3300520"
  },
  {
    "text": "after static files that's because at some point I might actually start moving these over into static files and if they",
    "start": "3300520",
    "end": "3306480"
  },
  {
    "text": "exist as a static file I want them to respond from that file first and then for it to go to lier shark uh so let's",
    "start": "3306480",
    "end": "3313480"
  },
  {
    "text": "go ahead and run this now and see if we have fixed our",
    "start": "3313480",
    "end": "3319119"
  },
  {
    "text": "problem all right so rebuild and relaunch this",
    "start": "3319760",
    "end": "3325760"
  },
  {
    "text": "and when this pops up we're on our modern app I'm going to go ahead and just go right to system",
    "start": "3326720",
    "end": "3332280"
  },
  {
    "text": "web and we can see that it's working just the way it was before now",
    "start": "3332280",
    "end": "3338319"
  },
  {
    "text": "theoretically all of that stuff is coming from the modern application the CSS and JavaScript and such is coming",
    "start": "3338319",
    "end": "3344480"
  },
  {
    "text": "from Modern application how do we know that's true well maybe the best way to do that is if I go back to the modern",
    "start": "3344480",
    "end": "3352359"
  },
  {
    "text": "app uh sorry to the Legacy app and if I go to the code here where it actually",
    "start": "3352359",
    "end": "3358559"
  },
  {
    "text": "calls my bundle config and comment this out now we rerun this now it wouldn't",
    "start": "3358559",
    "end": "3364119"
  },
  {
    "text": "work anymore if it was forwarding it to the Legacy application so let's see what",
    "start": "3364119",
    "end": "3369400"
  },
  {
    "text": "happens here so this first page that comes",
    "start": "3369400",
    "end": "3375760"
  },
  {
    "text": "up will be the homepage the default",
    "start": "3375760",
    "end": "3382839"
  },
  {
    "text": "route that hasn't been migrated yet",
    "start": "3382839",
    "end": "3388240"
  },
  {
    "text": "and then the if we go to system web uh",
    "start": "3389480",
    "end": "3394680"
  },
  {
    "text": "you can see that the the CSS is still working in both those places so I've now completed moving my JavaScript and CSS",
    "start": "3394680",
    "end": "3400599"
  },
  {
    "text": "bundles with liger shark and with yarp forwarding it to the old ones first uh",
    "start": "3400599",
    "end": "3406520"
  },
  {
    "text": "Now using it from the modern app all",
    "start": "3406520",
    "end": "3411799"
  },
  {
    "text": "right so I wanted to at least mention system. web adapters we don't have a lot of time to look at these uh but I want",
    "start": "3411920",
    "end": "3418160"
  },
  {
    "text": "to mention them because they're very important you saw me actually use them there in my class library to make my uh",
    "start": "3418160",
    "end": "3426079"
  },
  {
    "text": "my system.web call to http context to get the user agent to actually work if",
    "start": "3426079",
    "end": "3432000"
  },
  {
    "text": "you're doing a real migration you're probably going to have some things like session state or you're going to be using maybe authentication cookies or",
    "start": "3432000",
    "end": "3438599"
  },
  {
    "text": "something like that from your legacy application all of that functionality is",
    "start": "3438599",
    "end": "3443680"
  },
  {
    "text": "available in the system.web adapter if you if it's something from system.",
    "start": "3443680",
    "end": "3449920"
  },
  {
    "text": "webam space I would say 80% of that all of the stuff that's most commonly used has been moved over all of the apis look",
    "start": "3449920",
    "end": "3457640"
  },
  {
    "text": "exactly the same as they did when they were in system.web just like you saw on my code I didn't have to rewrite a line",
    "start": "3457640",
    "end": "3463160"
  },
  {
    "text": "of code in there it just uh retargeted to a different Nate package under the",
    "start": "3463160",
    "end": "3468400"
  },
  {
    "text": "covers you might not even notice that you're not referencing system.web there's other things though",
    "start": "3468400",
    "end": "3474280"
  },
  {
    "text": "that are a little more complicated if you're using session State and you want that to be shared between the two",
    "start": "3474280",
    "end": "3479400"
  },
  {
    "text": "applications if you're using authentication and you want that to be shared between the two applications",
    "start": "3479400",
    "end": "3484599"
  },
  {
    "text": "there's actually three different system web adapters new get packages there's",
    "start": "3484599",
    "end": "3489920"
  },
  {
    "text": "the general one which is the one we were just using now there's the core services",
    "start": "3489920",
    "end": "3495640"
  },
  {
    "text": "and there's the framework Services I think those names make it pretty obvious what they do but the core Services one",
    "start": "3495640",
    "end": "3501319"
  },
  {
    "text": "is if you want to do anything like session State synchronization or sharing authentication between the two",
    "start": "3501319",
    "end": "3507400"
  },
  {
    "text": "applications the core Services New get package goes into your uh modern core",
    "start": "3507400",
    "end": "3512839"
  },
  {
    "text": "application and the framework Services goes into your framework application a little bit of configuration for how that",
    "start": "3512839",
    "end": "3519760"
  },
  {
    "text": "data gets shared between those two there's a bunch of different ways that that data can be shared it could be all",
    "start": "3519760",
    "end": "3525160"
  },
  {
    "text": "hosted on one and the other one is always calling the other one uh over a certain port to get that data or um they",
    "start": "3525160",
    "end": "3532359"
  },
  {
    "text": "can be stored in a database to be accessed there's a bunch of different ways you can set that up uh but this is",
    "start": "3532359",
    "end": "3538440"
  },
  {
    "text": "the Nate package or packages that you're going to want to use if you're wanting to do that so where is yarp at right now well",
    "start": "3538440",
    "end": "3546799"
  },
  {
    "text": "yarp is on version two 2.1 most recently the system. web adapters are on version",
    "start": "3546799",
    "end": "3552599"
  },
  {
    "text": "1.3 so these are fairly uh long inth tooth products that you can use in",
    "start": "3552599",
    "end": "3558319"
  },
  {
    "text": "production uh as you noticed when we used the net Upgrade Assistant that is still in preview and so it's not perfect",
    "start": "3558319",
    "end": "3565480"
  },
  {
    "text": "and it probably never will be perfect because web applications are complicated uh I think it's at the point now where I",
    "start": "3565480",
    "end": "3571599"
  },
  {
    "text": "would recommend using it if you're doing a migration you might use it at the beginning and then use it less as you go",
    "start": "3571599",
    "end": "3577119"
  },
  {
    "text": "but I think it's a great way to get things bootstrapped at the beginning of the process and it is only getting",
    "start": "3577119",
    "end": "3583119"
  },
  {
    "text": "better every day you can go to these links here if you want to know more about any of those",
    "start": "3583119",
    "end": "3588240"
  },
  {
    "text": "projects I want to just remind you that the GitHub link here will have all of the stuff that we just looked at you can",
    "start": "3588240",
    "end": "3594920"
  },
  {
    "text": "feel free to contact me come up and chat afterwards or sign up for a free consultation if that would be",
    "start": "3594920",
    "end": "3601280"
  },
  {
    "text": "of value to you feel free to do this and with our a couple minutes left any",
    "start": "3601280",
    "end": "3606760"
  },
  {
    "text": "questions uh we've got a microphone in the back here if you just raise your",
    "start": "3606760",
    "end": "3612440"
  },
  {
    "text": "hand uh you mentioned overhead um early on you talking about just having a",
    "start": "3617039",
    "end": "3622400"
  },
  {
    "text": "legacy out with Y in front of it um do you know how much of a slow down that is or does y like add life cycle hooks to",
    "start": "3622400",
    "end": "3630359"
  },
  {
    "text": "measure that and so beware how much down great question yeah how much of a Slowdown is yarp to be there and the",
    "start": "3630359",
    "end": "3636880"
  },
  {
    "text": "answer is it depends right always a good engineering answer next question no I'm just kidding um uh the it depends on how",
    "start": "3636880",
    "end": "3645520"
  },
  {
    "text": "fast the hardware is how close the two systems are to each other how fast the back plane is that they're communicating",
    "start": "3645520",
    "end": "3650960"
  },
  {
    "text": "over it's going to add a few milliseconds to you know 10 or 20 milliseconds the worst in in your",
    "start": "3650960",
    "end": "3657240"
  },
  {
    "text": "typical case um now obviously if you put that in your core application and that core application gets extremely busy and",
    "start": "3657240",
    "end": "3664559"
  },
  {
    "text": "the hardware it's on is not capable of handling that that's going to create a bottleneck for the Legacy calls as well",
    "start": "3664559",
    "end": "3672119"
  },
  {
    "text": "so it's just something to be aware of um some people will actually use yarp and still and separate it out into a",
    "start": "3672119",
    "end": "3678400"
  },
  {
    "text": "separate application and forward things from that layer just so that they have more fine grained control over tuning",
    "start": "3678400",
    "end": "3685680"
  },
  {
    "text": "Prof performance like that yeah great question though other questions yeah one right",
    "start": "3685680",
    "end": "3694078"
  },
  {
    "text": "here hey good talk um so recently I've just done an upgrade and one of the",
    "start": "3694200",
    "end": "3699760"
  },
  {
    "text": "traps I found was that with the session state that the defaults are set for the",
    "start": "3699760",
    "end": "3704960"
  },
  {
    "text": "cookies so you actually have to turn them on so you can actually use them where in uh NET Framework that wasn't",
    "start": "3704960",
    "end": "3710559"
  },
  {
    "text": "the case so that's just a trap that going to be aware of here yeah that's a good point uh if you're going to be",
    "start": "3710559",
    "end": "3715920"
  },
  {
    "text": "doing any of that session state or uh authentication sharing you're going to want to read the documentation pretty",
    "start": "3715920",
    "end": "3721279"
  },
  {
    "text": "carefully because there are definitely some gotas in there uh net the way net core works and the way NET Framework",
    "start": "3721279",
    "end": "3726880"
  },
  {
    "text": "works by default net core is a lot more secure and so there's some things that are kind of turned off by default that",
    "start": "3726880",
    "end": "3733000"
  },
  {
    "text": "you might need to turn back on yeah great Point all right one more if there's if",
    "start": "3733000",
    "end": "3738559"
  },
  {
    "text": "there's any more we'll take one more all right right here",
    "start": "3738559",
    "end": "3746960"
  },
  {
    "text": "so you sort of touched on this brief briefly but is there any good solution for migrating web forms apps or do you",
    "start": "3747039",
    "end": "3753640"
  },
  {
    "text": "just give up and quit that's right how close are you to",
    "start": "3753640",
    "end": "3759240"
  },
  {
    "text": "retirement right uh no uh there are not a lot of great options uh for web forums",
    "start": "3759240",
    "end": "3766359"
  },
  {
    "text": "developers but there are new technologies that are more similar to that the one that Microsoft is pushing",
    "start": "3766359",
    "end": "3771599"
  },
  {
    "text": "and I think for for very good reason uh is Blazer which I'm I'm sure you've heard of you probably have seen some of",
    "start": "3771599",
    "end": "3777799"
  },
  {
    "text": "the talks the last few days about that here the thing that's nice about that is it's C front to back and so if you are a",
    "start": "3777799",
    "end": "3785200"
  },
  {
    "text": "web forms developer uh that's going to be a a programming model that you're going to be more comfortable with",
    "start": "3785200",
    "end": "3791200"
  },
  {
    "text": "however it's a totally different programming model you do still need to learn HTML and CSS better than you",
    "start": "3791200",
    "end": "3797000"
  },
  {
    "text": "probably would as a web forms developer um but there is no straight migration there are some third party tools out",
    "start": "3797000",
    "end": "3803400"
  },
  {
    "text": "there that try to uh make it easier uh but what I from what I've seen the best",
    "start": "3803400",
    "end": "3809119"
  },
  {
    "text": "option is probably to rewrite those things gradually in something more modern because even if you use a third",
    "start": "3809119",
    "end": "3814160"
  },
  {
    "text": "party that kind of makes web forums work on net core uh you still have to maintain that and now what happens if",
    "start": "3814160",
    "end": "3820480"
  },
  {
    "text": "that third party goes away uh when the demand goes down for that now you're just stuck doing the migration anyway so",
    "start": "3820480",
    "end": "3827760"
  },
  {
    "text": "that's kind of what I'm advising people to it's there's a little bit of bad news I'm sorry all right all right thank you very",
    "start": "3827760",
    "end": "3834599"
  },
  {
    "text": "much for coming enjoy the rest to the conference",
    "start": "3834599",
    "end": "3839240"
  }
]