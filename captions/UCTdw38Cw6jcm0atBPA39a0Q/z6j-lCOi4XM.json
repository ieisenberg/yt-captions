[
  {
    "text": "so good morning Norway uh t for having me I'm not sure if you say it like this",
    "start": "6600",
    "end": "12719"
  },
  {
    "text": "uh it's my first time in Norway I just arrived yesterday uh some Adventure it",
    "start": "12719",
    "end": "18160"
  },
  {
    "text": "was a journey in itself uh I will talk a bit about it but uh it's all related to",
    "start": "18160",
    "end": "23599"
  },
  {
    "text": "me uh but the talk is about uh us at TP building our web services on our back",
    "start": "23599",
    "end": "30199"
  },
  {
    "text": "end fully in C++ and uh uh pouring in some Rust at some point",
    "start": "30199",
    "end": "36640"
  },
  {
    "text": "um but uh basically we're showing how we did everything with C++ to get a web",
    "start": "36640",
    "end": "42520"
  },
  {
    "text": "service running how to get to scalability all the difficulties we had in the team to ARG about the",
    "start": "42520",
    "end": "48120"
  },
  {
    "text": "architecture and so on and a bit showing you what we use for Tech and how we solve things basically there um so we",
    "start": "48120",
    "end": "57039"
  },
  {
    "text": "have a small team that is growing uh there are some more interns and so that",
    "start": "57039",
    "end": "62199"
  },
  {
    "text": "we hope we can n at some point uh but for the moment we like 6 F full-time uh",
    "start": "62199",
    "end": "68360"
  },
  {
    "text": "people and um we have a very strong focus on C++ um um but also have people",
    "start": "68360",
    "end": "75000"
  },
  {
    "text": "that can do rest in the in the team and also happily we have Valentina that is uh also taking a step back and looking a",
    "start": "75000",
    "end": "82360"
  },
  {
    "text": "bit at what it looks like for users because us as developers we are more like interested in code lines than in",
    "start": "82360",
    "end": "88680"
  },
  {
    "text": "user experience sometimes uh oh by the way just just as I said I",
    "start": "88680",
    "end": "95439"
  },
  {
    "text": "broke the I broke the screen um so what we do at TP mainly uh remote C++ builds",
    "start": "95439",
    "end": "103360"
  },
  {
    "text": "um and that means we do actually remote cake builds which in turns bring us to allow",
    "start": "103360",
    "end": "111479"
  },
  {
    "text": "remote rest builds as well um via cake basically um without changing anything",
    "start": "111479",
    "end": "117840"
  },
  {
    "text": "to the r code base itself it's a very well integrated the logo comes from a project that helps us in that direction",
    "start": "117840",
    "end": "123479"
  },
  {
    "text": "I will speak about it later um the thing is I'm in a C++",
    "start": "123479",
    "end": "129520"
  },
  {
    "text": "conference right and I love C++ I'm a boost Fusion contributor also so this",
    "start": "129520",
    "end": "135560"
  },
  {
    "text": "camer this is not about this this is not about Evangel about the rust evangelic",
    "start": "135560",
    "end": "141680"
  },
  {
    "text": "task force trying to say C++ is so bad C++ is unsafe and so on I disagree with",
    "start": "141680",
    "end": "147360"
  },
  {
    "text": "that I think C++ can be safe on I think Al there is things that need to be improved but I also think that um it's",
    "start": "147360",
    "end": "155599"
  },
  {
    "text": "good to be able to mix things and so no don't rewrite it in Rust perhaps some",
    "start": "155599",
    "end": "162040"
  },
  {
    "text": "stuff you can write them from scratch in Rust but don't do that because you will just generate new bugs the same you add in C++ and yeah um but yeah it can be",
    "start": "162040",
    "end": "170599"
  },
  {
    "text": "fun sure for to learn the new languages but then the question is why",
    "start": "170599",
    "end": "176280"
  },
  {
    "text": "remote builds why do we need that basically why do we even care and why did we build that service for it the",
    "start": "176280",
    "end": "182280"
  },
  {
    "text": "reason is we don't want people to compromise actually because um you",
    "start": "182280",
    "end": "188519"
  },
  {
    "text": "always basically have in your build pipeline the choice to do a lot of checks and have a very slow build slow",
    "start": "188519",
    "end": "193879"
  },
  {
    "text": "release process but have a safer build have a safer more static analysis and so on or to build very fast in release mode",
    "start": "193879",
    "end": "200920"
  },
  {
    "text": "with optimization on and just don't care you know uh and ship it to the customer to see um and uh I think we we can avoid",
    "start": "200920",
    "end": "210959"
  },
  {
    "text": "this compromise if you have enough resources uh available and uh one of",
    "start": "210959",
    "end": "216959"
  },
  {
    "text": "my uh example that I have today is um using uh a project which is named",
    "start": "216959",
    "end": "224080"
  },
  {
    "text": "sanitizer cake um and that allows to basically add sanitization to your to",
    "start": "224080",
    "end": "230480"
  },
  {
    "text": "your build but before I speak about it I I will we look at the code so when I AR",
    "start": "230480",
    "end": "236280"
  },
  {
    "text": "arrived in Norway I don't know why I was probably pretty pretty tired but on my",
    "start": "236280",
    "end": "241799"
  },
  {
    "text": "way to the Zur airport in Switzerland I forgot my luggage in the train but I",
    "start": "241799",
    "end": "247159"
  },
  {
    "text": "thought about it and I run away I run back and I took it with me and then when",
    "start": "247159",
    "end": "252239"
  },
  {
    "text": "I was in the TR between Oso and ksbg imagine what I forgot my Lo the second",
    "start": "252239",
    "end": "258320"
  },
  {
    "text": "time but this time I didn't thought about it I was just thinking wow it's so cool no way oh it is like this and it",
    "start": "258320",
    "end": "263919"
  },
  {
    "text": "looks like in the video game where I played in some Norway things and so Norway Landscapes and then suddenly I",
    "start": "263919",
    "end": "270880"
  },
  {
    "text": "had I had meeting with users and with the team and at some point at five or so",
    "start": "270880",
    "end": "275919"
  },
  {
    "text": "I noticed ah by the way I forgot my luggage so I think my brain is not",
    "start": "275919",
    "end": "283199"
  },
  {
    "text": "implemented in proper C++ it seems it seems It's implemented in Old C code",
    "start": "283199",
    "end": "288440"
  },
  {
    "text": "weote error I I weot resour ization is initialization and I don't know if you can spot the the issue here but um",
    "start": "288440",
    "end": "297840"
  },
  {
    "text": "basically we are uh having a list of tasks things of not to not forget and uh",
    "start": "297840",
    "end": "304360"
  },
  {
    "text": "one of the thing I should not forget is taking my luggage when leaving the train so in the meantime I bought some clothes",
    "start": "304360",
    "end": "309759"
  },
  {
    "text": "because otherwise I would have been very ugly today uh and I just had my my my",
    "start": "309759",
    "end": "316000"
  },
  {
    "text": "clothes for travel and uh I I thought I would have time to go to Barber or so but sorry you have me like this um and",
    "start": "316000",
    "end": "324720"
  },
  {
    "text": "uh actually here we are basically doing a use after free um but it's not easy to",
    "start": "324720",
    "end": "330600"
  },
  {
    "text": "spot right um and uh what what is cool is if you enable a memory sanitizer like",
    "start": "330600",
    "end": "338039"
  },
  {
    "text": "uh if you run with a tool chain file that allows this for example you build on Mac OS with a memory sanitizer then",
    "start": "338039",
    "end": "345919"
  },
  {
    "text": "you can get out of your build on test execution basically the information that",
    "start": "345919",
    "end": "352280"
  },
  {
    "text": "um you uh you got to use after free um and uh you can also click where it was",
    "start": "352280",
    "end": "359319"
  },
  {
    "text": "like here we have this uh format library that is used but uh basically if we get",
    "start": "359319",
    "end": "365639"
  },
  {
    "text": "here we see there was the the delete that was done earlier and uh it was initially allocated here and actually",
    "start": "365639",
    "end": "372759"
  },
  {
    "text": "all these tools are available in C++ and we have Al UB sanitizer um which uh Al",
    "start": "372759",
    "end": "380280"
  },
  {
    "text": "catches a lot of uh of bugs ear on first I can un Zoom a bit um here we if we",
    "start": "380280",
    "end": "386919"
  },
  {
    "text": "take an integral that we overflow this is a a UB and uh actually if you would like to notice that you are not doing",
    "start": "386919",
    "end": "394599"
  },
  {
    "text": "any any mistakes basically you can also build for ma but with sanitize UB which is what is sad is you cannot uh run UB",
    "start": "394599",
    "end": "403319"
  },
  {
    "text": "sanitization on address sanitization in the same build like the two instrumentation are not compatible and",
    "start": "403319",
    "end": "409039"
  },
  {
    "text": "there is also a performance impact so you need to do another build again and this is where I say we have a tendency",
    "start": "409039",
    "end": "414560"
  },
  {
    "text": "to compromise because we on safety because then you have to build three four five six times",
    "start": "414560",
    "end": "420080"
  },
  {
    "text": "and uh what you you can see here is that it count that we incremented a bit too",
    "start": "420080",
    "end": "426199"
  },
  {
    "text": "much um the the int and that is actually overflowing and this could not have been",
    "start": "426199",
    "end": "432400"
  },
  {
    "text": "Cod at compile time because ARX is a runtime variable that is given to the main function at the",
    "start": "432400",
    "end": "437720"
  },
  {
    "text": "beginning um and so with these tools we can actually get a lot of the safety",
    "start": "437720",
    "end": "443639"
  },
  {
    "text": "that the rest people say oh it's unsafe it's unsafe and I think if you combine both and if you also bring to",
    "start": "443639",
    "end": "449879"
  },
  {
    "text": "to use that in Rust because in some nightly build of rust they start to be to allow to use UB S I mean address",
    "start": "449879",
    "end": "455720"
  },
  {
    "text": "sanitizer and so so if you comb in both you can also have it over boundary of uh your C++ on your rust basically and that",
    "start": "455720",
    "end": "463080"
  },
  {
    "text": "starts to be very uh a very safe world and uh what what we uh what we want to",
    "start": "463080",
    "end": "470759"
  },
  {
    "text": "to offer basically a TP is to offer this experience but um that every time you",
    "start": "470759",
    "end": "477599"
  },
  {
    "text": "type something you can get get all the like all the the checks that you get",
    "start": "477599",
    "end": "485680"
  },
  {
    "text": "uh from the sanitizer but also for your different crossplatform wield but you get them every time you write something",
    "start": "485680",
    "end": "491479"
  },
  {
    "text": "so if here I will just put an additional uh line it just rebs and I again have",
    "start": "491479",
    "end": "496560"
  },
  {
    "text": "the check running here and I have multiple times the UB here",
    "start": "496560",
    "end": "501680"
  },
  {
    "text": "um and uh what is cool is that uh in principle you can run at in parallel",
    "start": "501680",
    "end": "508240"
  },
  {
    "text": "sanitize UB ize memory and so on and that's why I think remote builds matters",
    "start": "508240",
    "end": "513719"
  },
  {
    "text": "and that's why I think we should not compromise on safety is the idea is to bring your CI to the fingertips and you",
    "start": "513719",
    "end": "519719"
  },
  {
    "text": "don't get any uh uh bugs in production then because you had all these test running on your on your end when you are",
    "start": "519719",
    "end": "526360"
  },
  {
    "text": "typing and you don't wait on your CI workflow you don't like push and then get back to home and then get a mail oh",
    "start": "526360",
    "end": "532000"
  },
  {
    "text": "no my bre is not finished you already change context and so uh you want you want basically the the result",
    "start": "532000",
    "end": "538360"
  },
  {
    "text": "immediately so now the thing is we have to make that",
    "start": "538360",
    "end": "544000"
  },
  {
    "text": "available right it's not like remote Builds on it's there so how we did that at TP is uh I AR with my co-founder",
    "start": "544000",
    "end": "550920"
  },
  {
    "text": "Yanik who is a kind of a polyglot uh Al lover of JavaScript um",
    "start": "550920",
    "end": "558480"
  },
  {
    "text": "sadly and uh so why compile languages for C++ some might say it's masochism um",
    "start": "558480",
    "end": "568240"
  },
  {
    "text": "like it's not easy you don't have the tools and so on actually it's not true in my eyes and",
    "start": "568240",
    "end": "575399"
  },
  {
    "text": "I can express myself way better in C++ and and I feel way safer like having",
    "start": "575399",
    "end": "580440"
  },
  {
    "text": "something that compiles and tell me that I forgot something in the syntax or in the method resolution when I have that",
    "start": "580440",
    "end": "586839"
  },
  {
    "text": "at run time being said way later when it's uh the user clicking on the button",
    "start": "586839",
    "end": "591880"
  },
  {
    "text": "so I think it's not but yeah sure when you get a lot of error message on when usually are used just to save a",
    "start": "591880",
    "end": "597279"
  },
  {
    "text": "Javascript file is not like the same and can be consider bit like masochism but",
    "start": "597279",
    "end": "602440"
  },
  {
    "text": "no there is a serious reason for this for me internet is also generator of",
    "start": "602440",
    "end": "609120"
  },
  {
    "text": "CO2 I spoke to people that are doing carbon capture so oh it's nothing but if you just just take uh not the video not",
    "start": "609120",
    "end": "617240"
  },
  {
    "text": "the audio streaming you just take um basically uh all the PHP website on the",
    "start": "617240",
    "end": "624880"
  },
  {
    "text": "like the 10 the top 10 million websites online and you just take like request that are sending text over or that doing",
    "start": "624880",
    "end": "631760"
  },
  {
    "text": "parameters you are basically having 47,000 uh CO2 tons yearly emitted if we",
    "start": "631760",
    "end": "639480"
  },
  {
    "text": "consider they all run on typical most sold um Dell servers and",
    "start": "639480",
    "end": "646000"
  },
  {
    "text": "so um and I think we can do something about it you have some responsibility as",
    "start": "646000",
    "end": "651040"
  },
  {
    "text": "software developer so better use that when we build not when every time a user clicks on the button um and uh if you",
    "start": "651040",
    "end": "659399"
  },
  {
    "text": "take a simple uh web services that is uh doing",
    "start": "659399",
    "end": "664680"
  },
  {
    "text": "some uh um database request on the replying with formatted in Json you can find it on this Tech EMP power web",
    "start": "664680",
    "end": "672040"
  },
  {
    "text": "framework Benchmark it's all available the L of of um Frameworks C++ JavaScript",
    "start": "672040",
    "end": "677720"
  },
  {
    "text": "and so on uh you simply need seven times less server to serve the same amount of",
    "start": "677720",
    "end": "684200"
  },
  {
    "text": "request with C++ so all the scalability topic also that you have for a startup",
    "start": "684200",
    "end": "689959"
  },
  {
    "text": "at the beginning say oh I have to write it in a way that it will be scalable for the day we are successful basically",
    "start": "689959",
    "end": "695279"
  },
  {
    "text": "actually you don't care because you you can already just if you write it in C++ you can already Ser",
    "start": "695279",
    "end": "701399"
  },
  {
    "text": "43,000 web requests per seconds doing Json generation uh uh post SQL query",
    "start": "701399",
    "end": "708079"
  },
  {
    "text": "behind whereas to do the same uh with python or PHP you need to basically uh",
    "start": "708079",
    "end": "713680"
  },
  {
    "text": "deploy seven times more servers but that that leads us to the",
    "start": "713680",
    "end": "720120"
  },
  {
    "text": "first part of our journey with uh with Yanik he's like mounder uh he said like yeah we should",
    "start": "720120",
    "end": "727040"
  },
  {
    "text": "do microservices all the way down I'm like no we cannot it's too complicated if we do that it will uh it it will be",
    "start": "727040",
    "end": "733839"
  },
  {
    "text": "will just be stuck uh like writing code to synchronize the state across the microservices and we don't have teams to",
    "start": "733839",
    "end": "740120"
  },
  {
    "text": "write each of the microservices um so yes monoliths are not so cool because",
    "start": "740120",
    "end": "747120"
  },
  {
    "text": "they don't scale that easily horizontally yeah I mean but you don't know before you have the performance",
    "start": "747120",
    "end": "753440"
  },
  {
    "text": "issue before you can measure a hot spot where you have to put the microservice actually to to uh or where you have to",
    "start": "753440",
    "end": "759639"
  },
  {
    "text": "separate things so that you can get horizontal scalability um you can have availability",
    "start": "759639",
    "end": "765040"
  },
  {
    "text": "is you if you have a monolit uh what I don't like with microservices is that it tends to be",
    "start": "765040",
    "end": "770560"
  },
  {
    "text": "Conway low basically like I am the person or I am the we are the team writing these microservice so we do",
    "start": "770560",
    "end": "775920"
  },
  {
    "text": "everything in New World on the way we communicate with these other team is going to be the API the rest API or",
    "start": "775920",
    "end": "782680"
  },
  {
    "text": "whatever API you are going to have between the microservices um in theory it forces you",
    "start": "782680",
    "end": "788800"
  },
  {
    "text": "to design the app in a scalable way but how can you know where you are your hpot before measuring and that's why I think",
    "start": "788800",
    "end": "794519"
  },
  {
    "text": "you should have uh the choice at deployment and not at compile time like",
    "start": "794519",
    "end": "799560"
  },
  {
    "text": "you should have the choice not when you write the app but later on to modify it easily to uh move to",
    "start": "799560",
    "end": "806839"
  },
  {
    "text": "microservices Sure uh mon you can also scale for a while with uh with big",
    "start": "806839",
    "end": "812040"
  },
  {
    "text": "servers it's also what we do for your builds when you do a remote build we give you like a very very very big",
    "start": "812040",
    "end": "817160"
  },
  {
    "text": "machines instead of uh splitting things up um because uh that way you don't have",
    "start": "817160",
    "end": "822880"
  },
  {
    "text": "the synchronization overhead between the nodes so you you get the faster builds",
    "start": "822880",
    "end": "828199"
  },
  {
    "text": "but you have limited we are limited so at some point we reach the 500 course limit of for cloud providers and uh",
    "start": "828199",
    "end": "833959"
  },
  {
    "text": "that's that's it so far um but we do caching also so it's it can be can be",
    "start": "833959",
    "end": "839639"
  },
  {
    "text": "solved um and uh we use a web framework which is named o and the author of this",
    "start": "839639",
    "end": "847240"
  },
  {
    "text": "web framework which is a C++ framework uh as kind of term that is named",
    "start": "847240",
    "end": "852839"
  },
  {
    "text": "monitization and uh here actually means that you can write each of your um",
    "start": "852839",
    "end": "858199"
  },
  {
    "text": "microservice uh architecture like you would usually do with a class architecture like defining the different",
    "start": "858199",
    "end": "864320"
  },
  {
    "text": "services and just have a build that differs like you build it once as a full executeable statically linked or and you",
    "start": "864320",
    "end": "870600"
  },
  {
    "text": "build it as Library so that you if you need to scale and you need to have multiple instance of the same service",
    "start": "870600",
    "end": "877519"
  },
  {
    "text": "you can decide just by configuration to run the app by loading the libraries instead of running the app by uh loading",
    "start": "877519",
    "end": "885519"
  },
  {
    "text": "the uh uh by recompiling the exit table rewriting everything and so and I find",
    "start": "885519",
    "end": "890920"
  },
  {
    "text": "that very cool and uh you can see that here is the number of requests s by seconds on the on the on the vertical",
    "start": "890920",
    "end": "899320"
  },
  {
    "text": "axis and you can see that basically uh the monolit is usually faster to serve",
    "start": "899320",
    "end": "906360"
  },
  {
    "text": "request when you are in the lower end but at some point you outscale the",
    "start": "906360",
    "end": "912880"
  },
  {
    "text": "the you you get actually to the to the load of the of the server so if you want to if you reach to to the load of your",
    "start": "912880",
    "end": "918920"
  },
  {
    "text": "server you need to go to microservices to some end but you can just configure that basically and see monolith is",
    "start": "918920",
    "end": "924759"
  },
  {
    "text": "better but so we have a compromise at TP in the in the terms of of what we do as micros service what we do as monolit",
    "start": "924759",
    "end": "931360"
  },
  {
    "text": "basically um and we try to apply that uh in in our code base so as we we we did",
    "start": "931360",
    "end": "939959"
  },
  {
    "text": "everything in C++ we said like reinvent all the wheels because there's not that much people doing uh websites in C++ I",
    "start": "939959",
    "end": "946639"
  },
  {
    "text": "mean there are big websit like Google but uh we don't have access to the web framework so what we did is uh combine a",
    "start": "946639",
    "end": "955000"
  },
  {
    "text": "bit of uh of text so we have some JavaScript um for just to bash a bit",
    "start": "955000",
    "end": "961000"
  },
  {
    "text": "JavaScript um the JavaScript service is rebooting like every now and then like",
    "start": "961000",
    "end": "966800"
  },
  {
    "text": "every two weeks or so or something and uh it's leaking actually memory and the",
    "start": "966800",
    "end": "972040"
  },
  {
    "text": "C++ Service uh it just like six month up time no no no leaks",
    "start": "972040",
    "end": "980959"
  },
  {
    "text": "and so on and we've wrote that with the we like the worst uh situation possible",
    "start": "980959",
    "end": "986199"
  },
  {
    "text": "we super stressed had lot to deliver to users that were waiting on us and so and U so C can be",
    "start": "986199",
    "end": "993759"
  },
  {
    "text": "safe uh and we use a Docker swarms on the TP itself to build TP because we dog",
    "start": "993759",
    "end": "1000120"
  },
  {
    "text": "food everything it's very important um I I I I really think that",
    "start": "1000120",
    "end": "1005319"
  },
  {
    "text": "in our team we are not like in this team that is saying that oh no we should use a product uh we use them it's sometimes",
    "start": "1005319",
    "end": "1011480"
  },
  {
    "text": "hard because building a tool that builds your code that is a tool to build is kind of uh kind of recursive but uh it's",
    "start": "1011480",
    "end": "1019480"
  },
  {
    "text": "manageable we did it and we continue to do it uh for everything we",
    "start": "1019480",
    "end": "1024558"
  },
  {
    "text": "do uh it sometimes brings you to a blind spot because you find walk around because you know the tool well so you",
    "start": "1024559",
    "end": "1029880"
  },
  {
    "text": "think oh yeah this is solve but it's not that's Al dangerous with do fooding but generally we we notice what the user",
    "start": "1029880",
    "end": "1035120"
  },
  {
    "text": "endure and we know where to fix things so this is a TP deps file uh this is",
    "start": "1035120",
    "end": "1041360"
  },
  {
    "text": "just to show you how to build a C++ web application with what PP so you can",
    "start": "1041360",
    "end": "1046798"
  },
  {
    "text": "naturally depend of what PP in another away this is just I'm I'm used to um to",
    "start": "1046799",
    "end": "1052480"
  },
  {
    "text": "uh to using my TP for for the depy management um so here I also added the",
    "start": "1052480",
    "end": "1059720"
  },
  {
    "text": "the Swagger uh to it um basically an application is uh like kind of a baller",
    "start": "1059720",
    "end": "1067760"
  },
  {
    "text": "plate code to uh uh send you uh to uh to a",
    "start": "1067760",
    "end": "1073559"
  },
  {
    "text": "controller um there is some macros uh there are some I I mean I've",
    "start": "1073559",
    "end": "1079000"
  },
  {
    "text": "been contributing to boost Fusion so I I like a lot macros I'm not saying it's",
    "start": "1079000",
    "end": "1084080"
  },
  {
    "text": "the best thing to do but it's sometimes helpful to do cool things uh and uh actually super nice to uh generate um um",
    "start": "1084080",
    "end": "1093840"
  },
  {
    "text": "Swagger on the open API uh rest API so basically you just uh Define your",
    "start": "1093840",
    "end": "1100280"
  },
  {
    "text": "endpoint with this macro endpoint info this is for the slash for the root of the website you say what is the",
    "start": "1100280",
    "end": "1105679"
  },
  {
    "text": "documentation of it you say what is the response type EX expected in case of a successful uh request and then you can",
    "start": "1105679",
    "end": "1113640"
  },
  {
    "text": "basically return what the what is named the dto uh on the dto is basically a",
    "start": "1113640",
    "end": "1119520"
  },
  {
    "text": "data transfer object which is kind of the the way this framework basically allows to automatically uh D Json or XML",
    "start": "1119520",
    "end": "1128799"
  },
  {
    "text": "or whatever and uh if you want to build the web app with uh with C++ it's pretty",
    "start": "1128799",
    "end": "1135760"
  },
  {
    "text": "cool you just uh do do this um and the test jobs",
    "start": "1135760",
    "end": "1142159"
  },
  {
    "text": "is just running one uh web service at a time and every time we change something it rebuilds so here it's now saying it's",
    "start": "1142159",
    "end": "1150120"
  },
  {
    "text": "listening on Port 80 8,000 so we can get here we get that H world but because we",
    "start": "1150120",
    "end": "1156440"
  },
  {
    "text": "have this Swagger that is automatically generated uh we can directly see the documentation of our API and uh we can",
    "start": "1156440",
    "end": "1164400"
  },
  {
    "text": "naturally uh try it out here execute and uh that's basically it you have a web",
    "start": "1164400",
    "end": "1170720"
  },
  {
    "text": "service uh in cace and I can guarantee you that scales well um and if you want",
    "start": "1170720",
    "end": "1176520"
  },
  {
    "text": "to add one endpoint is just like you add another controller or you add one to this and say",
    "start": "1176520",
    "end": "1182320"
  },
  {
    "text": "NDC and uh let's just uh say NDC here just save it uh recompile on the oh what",
    "start": "1182320",
    "end": "1190520"
  },
  {
    "text": "did I do uh so what did I",
    "start": "1190520",
    "end": "1200030"
  },
  {
    "text": "[Music]",
    "start": "1200030",
    "end": "1203470"
  },
  {
    "text": "break it did something",
    "start": "1207520",
    "end": "1211600"
  },
  {
    "text": "wrong okay oh uh I",
    "start": "1217520",
    "end": "1223320"
  },
  {
    "text": "think I copied uh yeah I'm missing the endpoint info in that regard I just",
    "start": "1223320",
    "end": "1228480"
  },
  {
    "text": "copied the the [Music]",
    "start": "1228480",
    "end": "1235460"
  },
  {
    "text": "the and I duplicated actually root which is yeah I need to give him a type A type",
    "start": "1235919",
    "end": "1241080"
  },
  {
    "text": "name that is valid okay so yeah he wants to to listen",
    "start": "1241080",
    "end": "1246600"
  },
  {
    "text": "on my and so suddenly we have get NDC and uh we can we can try it out and we",
    "start": "1246600",
    "end": "1254320"
  },
  {
    "text": "get the message as well and DC get back so this is available if you want to look",
    "start": "1254320",
    "end": "1259720"
  },
  {
    "text": "at it there's some boiler plate code in the to start all the components it's just like a main main function with like",
    "start": "1259720",
    "end": "1266080"
  },
  {
    "text": "20 lines I don't think it's necessary look at it together now and uh now let",
    "start": "1266080",
    "end": "1271600"
  },
  {
    "text": "me show you like an overview of O that get how this framework is used inside the TP build website and where it lands",
    "start": "1271600",
    "end": "1278200"
  },
  {
    "text": "basically so we have this Docker swarm uh which we can host anywhere uh and we",
    "start": "1278200",
    "end": "1283760"
  },
  {
    "text": "are kind of multicloud capable that means that uh in uh or um C++ web service that is here",
    "start": "1283760",
    "end": "1292039"
  },
  {
    "text": "like this big monolith um we have uh actually implemented a lot of cloud apis so that",
    "start": "1292039",
    "end": "1299520"
  },
  {
    "text": "whenever someone wants to do a remote build we actually create on the cloud vendor uh that is fitted for it um the",
    "start": "1299520",
    "end": "1306240"
  },
  {
    "text": "actual machine and we build the data there so we had to do some stuff and I",
    "start": "1306240",
    "end": "1311600"
  },
  {
    "text": "will get back to it later to uh send the code only to these machines and not to or backend so that we don't steel code",
    "start": "1311600",
    "end": "1318840"
  },
  {
    "text": "of people on so that it stays safe and always encrypted and not in the",
    "start": "1318840",
    "end": "1323960"
  },
  {
    "text": "facilities of TP directly and we have a ja JavaScript um web service for the",
    "start": "1323960",
    "end": "1331080"
  },
  {
    "text": "authentication of people against GitHub or gitlab klab is not rolled out yet but it's being rolled out next week um so we",
    "start": "1331080",
    "end": "1339559"
  },
  {
    "text": "basically use the typical libraries for that on I thought it will be super easy but it was harder to do open API rest",
    "start": "1339559",
    "end": "1346200"
  },
  {
    "text": "web service in JavaScript than it was to do it in C++ like you we had to build R",
    "start": "1346200",
    "end": "1351720"
  },
  {
    "text": "open API uh library and so on WE what PP was just like everything was there from the start and uh I was amazed if we",
    "start": "1351720",
    "end": "1359240"
  },
  {
    "text": "would have used typescript would have been a bit better we used JavaScript es6 so yeah uh but I would really didn't",
    "start": "1359240",
    "end": "1365440"
  },
  {
    "text": "expect that and uh yeah uh so cace is great for web development um we have",
    "start": "1365440",
    "end": "1371640"
  },
  {
    "text": "some databases um like uh like postgress",
    "start": "1371640",
    "end": "1376880"
  },
  {
    "text": "on uh um we we will come to it or we store data in it and we don't do",
    "start": "1376880",
    "end": "1382600"
  },
  {
    "text": "interprocess communication over the database but we have some state of the machines on that is skipped there and uh",
    "start": "1382600",
    "end": "1389320"
  },
  {
    "text": "yeah we have also a caching service for the for the code during the session and then it gets uh dumped after the session",
    "start": "1389320",
    "end": "1395360"
  },
  {
    "text": "of the build so basically when someone builds something it directly contacts this machine for building but it",
    "start": "1395360",
    "end": "1402039"
  },
  {
    "text": "contacts first this service to ask for a machine and this is deploying the machine and then you get the IP basically or the DNS at",
    "start": "1402039",
    "end": "1408480"
  },
  {
    "text": "of this machine and you directly contact it so that's basically it",
    "start": "1408480",
    "end": "1414960"
  },
  {
    "text": "um so I showed you already how to do that uh this is a just a summary of it",
    "start": "1414960",
    "end": "1422520"
  },
  {
    "text": "um and uh you you can uh I said add all the documentation there and you can add",
    "start": "1422520",
    "end": "1429000"
  },
  {
    "text": "security requirements to your endpoints and so it's as very nice to check if everything is like passing through the",
    "start": "1429000",
    "end": "1434559"
  },
  {
    "text": "same autentication method and and uh when we say when you speak about authentication let's speak about uh how",
    "start": "1434559",
    "end": "1442320"
  },
  {
    "text": "we handle actually password to access GitHub git cloning repositories and so on and for this we actually use web",
    "start": "1442320",
    "end": "1449440"
  },
  {
    "text": "assembly so when you first log in on the website here uh on in your web browser",
    "start": "1449440",
    "end": "1455080"
  },
  {
    "text": "on the TV build we actually create a VA in your browser with uh a C++ code base",
    "start": "1455080",
    "end": "1460840"
  },
  {
    "text": "uh that is open source and uh that actually encrypts all your tokens to",
    "start": "1460840",
    "end": "1466080"
  },
  {
    "text": "GitHub or to any source code repository uh in your browser and then",
    "start": "1466080",
    "end": "1471600"
  },
  {
    "text": "it sends it encrypted to the back end and so or back end never knows anything about your website about your password",
    "start": "1471600",
    "end": "1478559"
  },
  {
    "text": "for git or GitHub and so on the only who knows is your browser on your local",
    "start": "1478559",
    "end": "1484039"
  },
  {
    "text": "machine on the machines that you use for the build basically but this get like just started during the build deleted",
    "start": "1484039",
    "end": "1489799"
  },
  {
    "text": "after the build on it's hard disk encrypted on various encryption over the over the the",
    "start": "1489799",
    "end": "1495880"
  },
  {
    "text": "wire and so the code actually never leaves your safe space basically and this was a big topic uh Al Yanik is a",
    "start": "1495880",
    "end": "1503799"
  },
  {
    "text": "former hacker and he spent quite a lot of time on on forcing us to go in that direction I was like no we have to make",
    "start": "1503799",
    "end": "1509399"
  },
  {
    "text": "a puck and so on say no no no security matters before all and he was right um",
    "start": "1509399",
    "end": "1516039"
  },
  {
    "text": "so this uh when we when you look at this here if I go to the to the website to",
    "start": "1516039",
    "end": "1522000"
  },
  {
    "text": "the TP website and I sign in um with my GitHub this goes to app accounts it",
    "start": "1522000",
    "end": "1527919"
  },
  {
    "text": "backs then uh if you um look at the Vault here this is actually um the the",
    "start": "1527919",
    "end": "1536559"
  },
  {
    "text": "JavaScript service sending us um a blob that is encrypted and this",
    "start": "1536559",
    "end": "1542960"
  },
  {
    "text": "blob is getting decrypted with a web assembly code um which is uh which is a",
    "start": "1542960",
    "end": "1549000"
  },
  {
    "text": "hosted here um T TP build volt oh no that was",
    "start": "1549000",
    "end": "1554960"
  },
  {
    "text": "not what I'm intended to do and uh basically uh this is a very uh",
    "start": "1554960",
    "end": "1562480"
  },
  {
    "text": "simple code base with a with a class that provides you uh the different kind of endpoint we can connect to um the",
    "start": "1562480",
    "end": "1570360"
  },
  {
    "text": "different information the password and and it uses Crypt PP under the Ood to perform the",
    "start": "1570360",
    "end": "1576279"
  },
  {
    "text": "encryption um and uh what is cool with that is that you can actually use it from your uh web service for your web",
    "start": "1576279",
    "end": "1583720"
  },
  {
    "text": "page um PowerPoint",
    "start": "1583720",
    "end": "1588799"
  },
  {
    "text": "here is that uh this API um is actually usable from your web service when you",
    "start": "1588799",
    "end": "1594960"
  },
  {
    "text": "use M bind it's an ER from mcrip 10 um it's Al available by default in TP when you build by default it builds for WM uh",
    "start": "1594960",
    "end": "1602360"
  },
  {
    "text": "and it launches mcrip 10 you can basically declare all the function you want to expose to JavaScript so you",
    "start": "1602360",
    "end": "1608360"
  },
  {
    "text": "basically say uh okay I want the Constructor to be this one and then I want this function add to add a token to",
    "start": "1608360",
    "end": "1615039"
  },
  {
    "text": "the Vault like a GitHub or g g uh uh token to a clone code and uh Al like",
    "start": "1615039",
    "end": "1623039"
  },
  {
    "text": "then you can there is a function to get the encrypted buffer out because the only things that gets out are in in that",
    "start": "1623039",
    "end": "1628919"
  },
  {
    "text": "Library uh from the uh perspective of sending it online and basically in the",
    "start": "1628919",
    "end": "1634799"
  },
  {
    "text": "JavaScript code it looks like this you do a new TP TP volt there is a equal missing here sorry for the typo um and",
    "start": "1634799",
    "end": "1642679"
  },
  {
    "text": "uh then you get the data encrypted and we send it over uh update V which is",
    "start": "1642679",
    "end": "1647880"
  },
  {
    "text": "like a open API endpoint so this happens in the browser and uh that means never",
    "start": "1647880",
    "end": "1653600"
  },
  {
    "text": "any dat no data leaves your no secure data leaves uh leaves your browser or your local machine",
    "start": "1653600",
    "end": "1660159"
  },
  {
    "text": "basically but then we have as you SE have you seen uh as you have seen I have clicked on siging I used GitHub to",
    "start": "1660159",
    "end": "1667080"
  },
  {
    "text": "signal and I got basically a token and for this we use Json web tokens so Json web tokens is a standard",
    "start": "1667080",
    "end": "1675360"
  },
  {
    "text": "uh to actually say uh have between MOS Services have tokens that have",
    "start": "1675360",
    "end": "1681159"
  },
  {
    "text": "expiration time uh and that can be refreshed if you have uh if you have enough uh trust in the in the client um",
    "start": "1681159",
    "end": "1690159"
  },
  {
    "text": "that are used to actually authenticate you across all services so accounts generates this JWT and a PTP build for",
    "start": "1690159",
    "end": "1697640"
  },
  {
    "text": "example validates them and uh what we do is uh we use a library which is nam CPP",
    "start": "1697640",
    "end": "1704080"
  },
  {
    "text": "JWT um which in turns use enman Json and the open SSL we we do use the boring SSL",
    "start": "1704080",
    "end": "1710720"
  },
  {
    "text": "instead of open SSL but uh I know it's not fips and so but it's good uh and uh",
    "start": "1710720",
    "end": "1718919"
  },
  {
    "text": "uh we we then have in the O you just need to have this Bureau authorization",
    "start": "1718919",
    "end": "1724880"
  },
  {
    "text": "endler added and when you add the security requirement then basically every time an endpoint is contacted it",
    "start": "1724880",
    "end": "1730799"
  },
  {
    "text": "expect to have this be token uh in the request and then we can basically decode and check if uh the token is currently",
    "start": "1730799",
    "end": "1738480"
  },
  {
    "text": "correctly signed here it's there is actually a security issue in the actual code there is more it's just for the",
    "start": "1738480",
    "end": "1744360"
  },
  {
    "text": "purpose you have to check in the token has the right scope and if it's still valid because it's just checking if the token is signed so uh you have to have",
    "start": "1744360",
    "end": "1752320"
  },
  {
    "text": "some if uh my token contains this scope and so on in there but in the real code",
    "start": "1752320",
    "end": "1757399"
  },
  {
    "text": "it's not like this you can try I am happy if you if you try to access um and",
    "start": "1757399",
    "end": "1762960"
  },
  {
    "text": "then we have database so the thing is a lot of uh web Developers",
    "start": "1762960",
    "end": "1768200"
  },
  {
    "text": "they tend to use object relational mapping software there's a lot of tools in Java there is a lot of tool in",
    "start": "1768200",
    "end": "1774159"
  },
  {
    "text": "JavaScript and so on uh in C++ there are some um like there is ODB and others but",
    "start": "1774159",
    "end": "1783080"
  },
  {
    "text": "actually why do you need one that's my question things that Maps SQL tables to",
    "start": "1783080",
    "end": "1788840"
  },
  {
    "text": "classes I mean if you have the control on your database I would say you don't need one um we just store object",
    "start": "1788840",
    "end": "1796159"
  },
  {
    "text": "directly in the database like not C++ binary ABI objects uh we",
    "start": "1796159",
    "end": "1802840"
  },
  {
    "text": "use a small library that is relying on boo fusion um you can do that in in many",
    "start": "1802840",
    "end": "1808159"
  },
  {
    "text": "different ways but basically you have a on GitHub CP PR Json it handles like a lot of types uh automatically and have",
    "start": "1808159",
    "end": "1815640"
  },
  {
    "text": "some semantics for optional on that is very interesting and so you can have two Json or from Json just out of a type if",
    "start": "1815640",
    "end": "1822399"
  },
  {
    "text": "you have enough metadata if C++ uh at some point standardizes reflection you can get rid of line n uh but so so long",
    "start": "1822399",
    "end": "1831039"
  },
  {
    "text": "it doesn't let's let's keep with it and um for example for the machine table to",
    "start": "1831039",
    "end": "1836640"
  },
  {
    "text": "know which machine is running and which Cloud vendor what is the status should it be destroyed should it be uh re um",
    "start": "1836640",
    "end": "1843279"
  },
  {
    "text": "redeployed or should it be reconfigured uh we basically do it like this we have a struct basically in a source code uh",
    "start": "1843279",
    "end": "1850080"
  },
  {
    "text": "with uh the ID being generated from uh from from booster U ID um and have the",
    "start": "1850080",
    "end": "1857960"
  },
  {
    "text": "the the cloud vendor type that we use uh for this machine and which environment is being deployed and how long we need",
    "start": "1857960",
    "end": "1865480"
  },
  {
    "text": "to keep it alive when a user is running Builds on it and so and uh then we need",
    "start": "1865480",
    "end": "1871279"
  },
  {
    "text": "to write a bit of SQL which is uh basically uh always the same for table a",
    "start": "1871279",
    "end": "1878360"
  },
  {
    "text": "Json field uh like a data field which is a Json B and uh then we can also add",
    "start": "1878360",
    "end": "1884919"
  },
  {
    "text": "indexes because jsonb in pogress for example is uh able to index on your um on your",
    "start": "1884919",
    "end": "1891559"
  },
  {
    "text": "data and uh it Al possible to do special request directly on uh on the Json data",
    "start": "1891559",
    "end": "1898279"
  },
  {
    "text": "and uh here it's O again you give a query say create the query is create",
    "start": "1898279",
    "end": "1903639"
  },
  {
    "text": "machine and you just do the insert and we cast it in SQL as Json from something",
    "start": "1903639",
    "end": "1910320"
  },
  {
    "text": "that we get from our source code and uh we could just store binary blobs but",
    "start": "1910320",
    "end": "1916159"
  },
  {
    "text": "that would be dangerous right uh I mean would be hard to maintain the the the the ABI and so on um and when we need to",
    "start": "1916159",
    "end": "1924720"
  },
  {
    "text": "change a field or so we don't need to do database migration we have mechanism in it but I try to avoid that all the time",
    "start": "1924720",
    "end": "1931360"
  },
  {
    "text": "I'm trying to follow the fact that uh that the PE that you have optional on a",
    "start": "1931360",
    "end": "1937559"
  },
  {
    "text": "field that changes that is nor more news you just put it as optional put the new field and handle in your code the fact",
    "start": "1937559",
    "end": "1943039"
  },
  {
    "text": "that VAR is things with this optional field that perhaps you need to check still but it makes all the problem that",
    "start": "1943039",
    "end": "1948480"
  },
  {
    "text": "you have oh no we are deploying the website the database migration will break everything you don't have them if you tested your code on the on the",
    "start": "1948480",
    "end": "1954679"
  },
  {
    "text": "database uh State you you just know it works and this is the thing that the people at um grpc protobuf are using a",
    "start": "1954679",
    "end": "1963279"
  },
  {
    "text": "lot and that was my point why not takeing take it for uh for database and",
    "start": "1963279",
    "end": "1969679"
  },
  {
    "text": "actually it's um first he was like oh it won't be performant and so and actually it's as performant as SQL to tables and",
    "start": "1969679",
    "end": "1977840"
  },
  {
    "text": "so it's even better in some cases so then comes the point of yeah how do you",
    "start": "1977840",
    "end": "1984600"
  },
  {
    "text": "send exception stack trace and so if the service crashes so we have all these monitoring we have a log monitoring we",
    "start": "1984600",
    "end": "1990840"
  },
  {
    "text": "have uh graph showing of stuff um I can show it basically uh so we see oh yeah",
    "start": "1990840",
    "end": "2000279"
  },
  {
    "text": "what is happening of the different deployment if everything is fine if we have enough storage and so on um but how",
    "start": "2000279",
    "end": "2008399"
  },
  {
    "text": "do you send the the actual exception and so on to",
    "start": "2008399",
    "end": "2014279"
  },
  {
    "text": "the C++ uh developers so that they can fix bugs if that happens so for this we",
    "start": "2014279",
    "end": "2019880"
  },
  {
    "text": "use uh boost tax Trace um and uh this is uh and we basically because your service",
    "start": "2019880",
    "end": "2026799"
  },
  {
    "text": "the the the web service the back end is is running uh exclusively on Linux it do runs on Mac and it might run on Windows",
    "start": "2026799",
    "end": "2034200"
  },
  {
    "text": "for some for some part um we run machines for Windows Linux and Mac for builds but the web service itself is on",
    "start": "2034200",
    "end": "2040840"
  },
  {
    "text": "Linux we basically register for the different signals that are very bad like a segmentation fold like new pointer or",
    "start": "2040840",
    "end": "2048638"
  },
  {
    "text": "um memory uh alment issue with cab board or and uh we basically use a signal",
    "start": "2048639",
    "end": "2056200"
  },
  {
    "text": "Ender to trint the stack trace and so we have at least a log and Al a small dump that is save save to it but at the",
    "start": "2056200",
    "end": "2064638"
  },
  {
    "text": "beginning that we had that uh we got a very strange error like we",
    "start": "2064639",
    "end": "2072000"
  },
  {
    "text": "got some issue some n pointer so the 67 low was called all threads disappeared",
    "start": "2072000",
    "end": "2078560"
  },
  {
    "text": "except one and but the service was still replying so it was still working so like",
    "start": "2078560",
    "end": "2084240"
  },
  {
    "text": "what the hell like there is we looked at the threads there was only one thread instead of the 40 that which should be",
    "start": "2084240",
    "end": "2089280"
  },
  {
    "text": "be there in normal Idol situation and uh it was super slow but it was working and",
    "start": "2089280",
    "end": "2095960"
  },
  {
    "text": "at some point after some hours it started it it stopped working and it redeployed a new uh a new um service",
    "start": "2095960",
    "end": "2103240"
  },
  {
    "text": "directly the Swarm detected application exited so he he started a new one and",
    "start": "2103240",
    "end": "2108400"
  },
  {
    "text": "actually this was because we did not configure the build of the library correctly so for each of the stack Trace",
    "start": "2108400",
    "end": "2116079"
  },
  {
    "text": "uh entry it would like BR launch an ex an external process to transform the",
    "start": "2116079",
    "end": "2121359"
  },
  {
    "text": "address to a line that is readable and this was so slow even it was on a server Hardware even if it was uh like um but",
    "start": "2121359",
    "end": "2130680"
  },
  {
    "text": "and because it was in the signal endler it continued it continued and so the service was continuously leaving because",
    "start": "2130680",
    "end": "2136200"
  },
  {
    "text": "the thread to handle the signal when he was executing the process outside it could continue his normal operation",
    "start": "2136200",
    "end": "2141440"
  },
  {
    "text": "because signals are asking signal safe and U yeah that that was kind of fun",
    "start": "2141440",
    "end": "2147160"
  },
  {
    "text": "because we're like what's happening why is so slow but at the end it know even sends mails also in your case so you can",
    "start": "2147160",
    "end": "2155240"
  },
  {
    "text": "if you can find a have you know you get I get a mail and my phone rings very loud and I always have my laptop with me",
    "start": "2155240",
    "end": "2162359"
  },
  {
    "text": "so that we can fix things but as said we have six month um up time this is normal",
    "start": "2162359",
    "end": "2167920"
  },
  {
    "text": "like this we don't have zombies in TP anymore uh we track them all uh and uh",
    "start": "2167920",
    "end": "2174160"
  },
  {
    "text": "um people would say rewrite it in rest but I say no we have six months of time with C++ so we don't rewrite it in Rust",
    "start": "2174160",
    "end": "2181040"
  },
  {
    "text": "it's it's stable um that being said we had to introduce rust because I promised",
    "start": "2181040",
    "end": "2187599"
  },
  {
    "text": "I will talk about rust at the C+ conference which is very very tough don't burn me don't send me Flames so",
    "start": "2187599",
    "end": "2194560"
  },
  {
    "text": "who likes rust here it's quite a fair amount still huh",
    "start": "2194560",
    "end": "2199960"
  },
  {
    "text": "who hates rust nobody only only only only lover",
    "start": "2199960",
    "end": "2205119"
  },
  {
    "text": "okay and uh who prefer C++ over",
    "start": "2205119",
    "end": "2211040"
  },
  {
    "text": "rust ah okay interesting I won't say the counts I will ask uh the is committee if",
    "start": "2211040",
    "end": "2217720"
  },
  {
    "text": "I can tell just kidding um so the reason why",
    "start": "2217720",
    "end": "2224280"
  },
  {
    "text": "we introduce rust is that uh it's cool to be able to build on 500 cor machine it's super cool if you can do that but",
    "start": "2224280",
    "end": "2231160"
  },
  {
    "text": "the problem is how you do that if you do just an incremental build like yeah your clean build is faster but every time you",
    "start": "2231160",
    "end": "2238240"
  },
  {
    "text": "do another build you have to resend everything to the machine and to rebuild everything so we basically had to add a",
    "start": "2238240",
    "end": "2243560"
  },
  {
    "text": "strong uh cache uh for builds and it's also very useful to speed the builds in",
    "start": "2243560",
    "end": "2248760"
  },
  {
    "text": "general to have cash and so on so uh what we do to actually end low caching",
    "start": "2248760",
    "end": "2254560"
  },
  {
    "text": "is that we um have a system that is named TP environments which is basically",
    "start": "2254560",
    "end": "2259839"
  },
  {
    "text": "just a cake toolchain file containing all the flags that are basically",
    "start": "2259839",
    "end": "2266079"
  },
  {
    "text": "defining your build um and that is like impacting your ABI uh which then defines",
    "start": "2266079",
    "end": "2273400"
  },
  {
    "text": "if your cache entry is usable or not and perer file which is kind of a wrapper",
    "start": "2273400",
    "end": "2279280"
  },
  {
    "text": "around V machines or Dockers so by default Linux Builder on Dockers if you",
    "start": "2279280",
    "end": "2284599"
  },
  {
    "text": "do a Windows build on TP it's going to start a v machine that is uh provisioned with a script that is a packer script",
    "start": "2284599",
    "end": "2290720"
  },
  {
    "text": "that you can uh basically uh edit and that you can adapt to your own Windows environment and so and um so it's",
    "start": "2290720",
    "end": "2298240"
  },
  {
    "text": "basically a way to define like the envirment in which you build and then if your local environment matches that one",
    "start": "2298240",
    "end": "2304560"
  },
  {
    "text": "you can reuse Al uh cache entry that the cloud generated basically and so basically when you",
    "start": "2304560",
    "end": "2311920"
  },
  {
    "text": "start a build we send always like in a small zip the Packer file and the the",
    "start": "2311920",
    "end": "2317160"
  },
  {
    "text": "tool chain file on its Ash and uh then we deploy a machine based on this information if it's already a machine",
    "start": "2317160",
    "end": "2323960"
  },
  {
    "text": "that was generated or so then we take that from from the machine cache on so from the image caches but uh that's",
    "start": "2323960",
    "end": "2330160"
  },
  {
    "text": "basically the way you can add your own environment on like have an isolated reproducible atic build uh always have",
    "start": "2330160",
    "end": "2337520"
  },
  {
    "text": "the compiler at the same place and so on but then you have the source code of the people and uh the source code of the",
    "start": "2337520",
    "end": "2344119"
  },
  {
    "text": "people it's sometimes it's on workspace damin on my machine on the machine of Yanik it's on om Yanik uh uh um code uh",
    "start": "2344119",
    "end": "2354680"
  },
  {
    "text": "in in Luke we don't know why he codes in documents it's very strange but he has this code in documents uh and uh the",
    "start": "2354680",
    "end": "2362560"
  },
  {
    "text": "thing is if you don't control your code base completely you have like add the",
    "start": "2362560",
    "end": "2367640"
  },
  {
    "text": "absolute path to this to these folders so you cannot ruce cash entry of one user or the other because it's in the",
    "start": "2367640",
    "end": "2373359"
  },
  {
    "text": "wrong path basically so what we do is that we use git under the hood and we integrated git very deeply in in TP and",
    "start": "2373359",
    "end": "2381200"
  },
  {
    "text": "uh in ninja and Son um and we actually clone your workspace into a central",
    "start": "2381200",
    "end": "2389200"
  },
  {
    "text": "location um which is either on Windows CTP on unixes is user local share TP uh",
    "start": "2389200",
    "end": "2396920"
  },
  {
    "text": "and then for each of the builds you do we actually uh store a snapshot and here",
    "start": "2396920",
    "end": "2403880"
  },
  {
    "text": "it's taking uh the Assumption it's a llvm build because each llvm builds are like 10 gigs uh build trees and uh then",
    "start": "2403880",
    "end": "2413160"
  },
  {
    "text": "we basically uh allow to rebuild on the nearest commit or on nearest change set",
    "start": "2413160",
    "end": "2418760"
  },
  {
    "text": "Al if you didn't commit your change we commit them for you in this mirror you the user doesn't see it it just get get",
    "start": "2418760",
    "end": "2424920"
  },
  {
    "text": "uh get built and we have an ash on the content addressable uh cache entries so that we can re refine that thing so if",
    "start": "2424920",
    "end": "2431160"
  },
  {
    "text": "one colleague already buil that file in in the same uh set or constellation then",
    "start": "2431160",
    "end": "2436240"
  },
  {
    "text": "we actually uh take the cache entry and just rebuild the difference on top of it",
    "start": "2436240",
    "end": "2441839"
  },
  {
    "text": "and uh what we do is that we need to restore the machine the build the remote build machine fast or restore your",
    "start": "2441839",
    "end": "2448599"
  },
  {
    "text": "machine Al very fast like let's say you want to do a fork on llvm you want to do a patch you don't want to build llvm you",
    "start": "2448599",
    "end": "2455000"
  },
  {
    "text": "just want to take the L latest tag and have that um restored on your machine so",
    "start": "2455000",
    "end": "2460359"
  },
  {
    "text": "you can just edit and act on it and this is what we do with this cash packs we basically uh rely on a rust code base",
    "start": "2460359",
    "end": "2468480"
  },
  {
    "text": "that we eily modified uh that is named F shcker and that is also using Z St in",
    "start": "2468480",
    "end": "2474119"
  },
  {
    "text": "the in the in the under theud and basically",
    "start": "2474119",
    "end": "2480040"
  },
  {
    "text": "it's uh doing buckets of object files in the right uh way so that you uh get the",
    "start": "2480040",
    "end": "2485839"
  },
  {
    "text": "maximum compression and uh like if you take uh 300 times 10 GB bu trees you can get",
    "start": "2485839",
    "end": "2495200"
  },
  {
    "text": "to 100 megabytes cash back for all the revisions basically because of the the duplication and so and so that this de",
    "start": "2495200",
    "end": "2502319"
  },
  {
    "text": "duplication works we do it on a service on rent so that you don't have to wait",
    "start": "2502319",
    "end": "2507480"
  },
  {
    "text": "during the build process that this compression happen we just send the snapshots on the the services doing that",
    "start": "2507480",
    "end": "2513040"
  },
  {
    "text": "and so it's there that uh rust comes into into play and we needed to integrate it so it's open source as well",
    "start": "2513040",
    "end": "2520760"
  },
  {
    "text": "uh it allows to uh to track H build snapshot by G rision uh you can also",
    "start": "2520760",
    "end": "2525839"
  },
  {
    "text": "trace this object file comes from which uh sources and so so it can also provide a lot of safety in terms of uh uh doors",
    "start": "2525839",
    "end": "2532960"
  },
  {
    "text": "that Dr really come from these sources and um it is a a r base in that regard",
    "start": "2532960",
    "end": "2539720"
  },
  {
    "text": "but it's very mixed with C++ you have a lot of C+ there too because we have basically git using lip git 2",
    "start": "2539720",
    "end": "2546880"
  },
  {
    "text": "Al very modified uh Ninja and elf Checker together so we basically merge",
    "start": "2546880",
    "end": "2552960"
  },
  {
    "text": "them uh and uh so that you can track sources on binaries and that you can",
    "start": "2552960",
    "end": "2559280"
  },
  {
    "text": "know what you have to rebuild based on the cash interest and so we needed to basically",
    "start": "2559280",
    "end": "2564520"
  },
  {
    "text": "get a lot of calls into rust and a lot of calls into C++ from rust so we decided to use what is called 66 RS",
    "start": "2564520",
    "end": "2573000"
  },
  {
    "text": "which is um uh like um nice work uh in my eyes that did a lot of uh of work to",
    "start": "2573000",
    "end": "2580599"
  },
  {
    "text": "actually Define um the best ABI between rest and C++ there is other people that found out",
    "start": "2580599",
    "end": "2587240"
  },
  {
    "text": "that uh you can have C++ objects on the rest stack that's totally correct and that's not a problem and uh so it's a",
    "start": "2587240",
    "end": "2594359"
  },
  {
    "text": "way to specify the boundary of your API in a very Nimble and rust on C++ native",
    "start": "2594359",
    "end": "2601280"
  },
  {
    "text": "way I really think this is the the like",
    "start": "2601280",
    "end": "2606880"
  },
  {
    "text": "the Sha from the Liber author like they naturally said save straightforward API",
    "start": "2606880",
    "end": "2611920"
  },
  {
    "text": "on they say straight for C+ API I really think that actually uh both are safe or",
    "start": "2611920",
    "end": "2617119"
  },
  {
    "text": "both are unsafe in my eyes uh I worked on Hardware unbedded Hardware on so that uh sometimes have hardware issues on you",
    "start": "2617119",
    "end": "2623960"
  },
  {
    "text": "can have whatever safety checks in your code uh the hardware will do whatever you want with so uh yeah I think it's",
    "start": "2623960",
    "end": "2632000"
  },
  {
    "text": "sometimes it's a bit overstated there but uh it's very easy to use we uh we",
    "start": "2632000",
    "end": "2637119"
  },
  {
    "text": "use the corrosion ARS for that is a cake module so you basically say uh if you",
    "start": "2637119",
    "end": "2642920"
  },
  {
    "text": "have a a cargo build in rest which is the standard in rest you basically give in uh which uh cargo crate you want to",
    "start": "2642920",
    "end": "2650000"
  },
  {
    "text": "build and then you can uh use this al66 bridge so that allows you to uh",
    "start": "2650000",
    "end": "2656520"
  },
  {
    "text": "basically uh build that bridge and build uh your uh mixed C++ rest uh API and if",
    "start": "2656520",
    "end": "2666480"
  },
  {
    "text": "you take a a simple example uh you basically have like you may be used to",
    "start": "2666480",
    "end": "2671960"
  },
  {
    "text": "the linkage specifier in C++ or in C ex turn C for example so here the goal of",
    "start": "2671960",
    "end": "2677319"
  },
  {
    "text": "this C cxx RS is not to go back to C mangling is really to get to the C++ API",
    "start": "2677319",
    "end": "2682839"
  },
  {
    "text": "ABI sorry and the linkage and so basically if you want to expose a function in uh in rust or uh if you want",
    "start": "2682839",
    "end": "2690839"
  },
  {
    "text": "to expose C++ function then you do exter C++ if you do extern rest on you have",
    "start": "2690839",
    "end": "2696680"
  },
  {
    "text": "all in the same module and here we just printing C++ scent integer uh as a 64bit",
    "start": "2696680",
    "end": "2704920"
  },
  {
    "text": "sign integer um with uh with the LI print which is a a rest function and",
    "start": "2704920",
    "end": "2712640"
  },
  {
    "text": "that just works the other here 66 Bridge CPP lib is generated by corrosion on by",
    "start": "2712640",
    "end": "2718520"
  },
  {
    "text": "the tool so basically this code here six is brid generates a C++ header that you",
    "start": "2718520",
    "end": "2723760"
  },
  {
    "text": "can use from C++ and so you can call into it um if you uh here is the example",
    "start": "2723760",
    "end": "2730720"
  },
  {
    "text": "in question um we we have that here uh and you can",
    "start": "2730720",
    "end": "2736760"
  },
  {
    "text": "uh basically build that and then if you run it we should see yellow 66 Bridge",
    "start": "2736760",
    "end": "2742520"
  },
  {
    "text": "from Li ARS uh and uh yeah that's it and 136 comes",
    "start": "2742520",
    "end": "2749920"
  },
  {
    "text": "from uh from the uh from the the the the C plus a cus vector uh that is sliced uh",
    "start": "2749920",
    "end": "2758000"
  },
  {
    "text": "for rust but you have different way to uh communicate over there you can Define",
    "start": "2758000",
    "end": "2763160"
  },
  {
    "text": "types like native C++ types native rust types and that means that basically you",
    "start": "2763160",
    "end": "2768640"
  },
  {
    "text": "have um uh you can use a C++ struct in Rust",
    "start": "2768640",
    "end": "2774359"
  },
  {
    "text": "as if it was a struct a rust data type on on the on on the C+ side and there is no copy happening uh unless you need a",
    "start": "2774359",
    "end": "2782640"
  },
  {
    "text": "special uh special type uh and the if you need a special kind of construct",
    "start": "2782640",
    "end": "2788680"
  },
  {
    "text": "there is a basic set of types that is defined so you have like transparent",
    "start": "2788680",
    "end": "2794640"
  },
  {
    "text": "types and OPAC types and you can basically also provide if it's an OPAC type is a type that you didn't declare",
    "start": "2794640",
    "end": "2800960"
  },
  {
    "text": "in The Binding so you can basically send a reference or or um or a pointer to it",
    "start": "2800960",
    "end": "2807599"
  },
  {
    "text": "uh and uh you can uh also get access directly to vectoring uh elements from",
    "start": "2807599",
    "end": "2813440"
  },
  {
    "text": "C++ from rust from C Vector from rust and so on and uh you cannot throw",
    "start": "2813440",
    "end": "2819240"
  },
  {
    "text": "exception uh it it auto get CED into a result uh object and so but uh it's very",
    "start": "2819240",
    "end": "2826760"
  },
  {
    "text": "useful to build these blindings and uh it's actually very uh very safe there is",
    "start": "2826760",
    "end": "2833119"
  },
  {
    "text": "a lot of example on the website of the of the um of the auor um and if you see",
    "start": "2833119",
    "end": "2840920"
  },
  {
    "text": "for example 60 strings um you we basically have a here um a bridge object",
    "start": "2840920",
    "end": "2849559"
  },
  {
    "text": "that is uh basically saying it's this is the Eder that uh uh I want to actually",
    "start": "2849559",
    "end": "2855880"
  },
  {
    "text": "make available uh to rust uh on the types from the from this Eder that I",
    "start": "2855880",
    "end": "2861280"
  },
  {
    "text": "need to be available in Rust I Define them as this and uh then on the C on the",
    "start": "2861280",
    "end": "2867040"
  },
  {
    "text": "C++ on the rust side for example you can uh call in to that uh C++ object uh um",
    "start": "2867040",
    "end": "2876680"
  },
  {
    "text": "but the implementation is uh actually behind this is a C++ class that is using",
    "start": "2876680",
    "end": "2882720"
  },
  {
    "text": "a St variant and so on and uh you don't have much uh um overhead from that usage",
    "start": "2882720",
    "end": "2891079"
  },
  {
    "text": "and uh there is also a tool named Auto um Auto cx6 uh which is uh",
    "start": "2891079",
    "end": "2899880"
  },
  {
    "text": "automatically generating this uh bindings for uh for C++ which is made by Google so I mean",
    "start": "2899880",
    "end": "2908160"
  },
  {
    "text": "this one so here you always need to write which function you want to export",
    "start": "2908160",
    "end": "2913240"
  },
  {
    "text": "there is a way to also automatically generate all functions from the other basically and uh so it's pretty cool to",
    "start": "2913240",
    "end": "2920280"
  },
  {
    "text": "run things together and you don't see much run time over it's not like typically JavaScript C++ where you have",
    "start": "2920280",
    "end": "2926079"
  },
  {
    "text": "to copy things around uh so that was a pretty uh interesting for me and uh we",
    "start": "2926079",
    "end": "2932760"
  },
  {
    "text": "are uh rolling out a back end including that very soon uh for the moment we",
    "start": "2932760",
    "end": "2938119"
  },
  {
    "text": "still have uh C C++ code uh uh on the official one but we have the staging one",
    "start": "2938119",
    "end": "2943960"
  },
  {
    "text": "that is already with that and that some early adapter from us are are using um",
    "start": "2943960",
    "end": "2950720"
  },
  {
    "text": "so now if you want to test the scalability of a website I would say the",
    "start": "2950720",
    "end": "2955880"
  },
  {
    "text": "best is you register on the website and you and if you are among the two first",
    "start": "2955880",
    "end": "2960960"
  },
  {
    "text": "to register because that's always good for me uh you can get uh one of these two chocolate boxes uh if someone",
    "start": "2960960",
    "end": "2968680"
  },
  {
    "text": "registers uh no or today uh I will see it uh and uh I will try to find you in",
    "start": "2968680",
    "end": "2975440"
  },
  {
    "text": "the room or if you do it now you can get the chocolate so thank you very much and uh if there is any question I'm happy to",
    "start": "2975440",
    "end": "2982599"
  },
  {
    "text": "take them",
    "start": "2982599",
    "end": "2988559"
  }
]