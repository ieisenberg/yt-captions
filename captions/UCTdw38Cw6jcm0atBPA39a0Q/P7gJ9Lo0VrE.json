[
  {
    "text": "so while you're all here and you're fresh and I haven't either bored you to death or made your brains explode I have",
    "start": "5400",
    "end": "13880"
  },
  {
    "text": "to do my obligatory selfie with you now you've all spread out so I'm going to go over there I'm not going to fall off the",
    "start": "13880",
    "end": "19439"
  },
  {
    "text": "stage I have nearly done that before and you all have to wave this is",
    "start": "19439",
    "end": "24640"
  },
  {
    "text": "also if any of you give me a red out there I can hunt you down okay cuz I",
    "start": "24640",
    "end": "30279"
  },
  {
    "text": "have everyone's faces in here okay so nice big smiles and waves I compare",
    "start": "30279",
    "end": "38320"
  },
  {
    "text": "every audience so you want to be the best audience don't you all right so big",
    "start": "38320",
    "end": "44239"
  },
  {
    "text": "smiles big waves three two one yay thank you very much for",
    "start": "44239",
    "end": "50520"
  },
  {
    "text": "indulging me that I'll still hunt you down all righty so my name's Lea and you",
    "start": "50520",
    "end": "59120"
  },
  {
    "text": "are here for rri you ready with the modular monolith yay thank you for coming here there are a lot of other",
    "start": "59120",
    "end": "65320"
  },
  {
    "text": "awesome talks this morning at this time slot so I'm very pleased to see all your lovely faces here with",
    "start": "65320",
    "end": "72720"
  },
  {
    "text": "me so uh I feel like I need to give you a Content warning because I had a lot of",
    "start": "72720",
    "end": "80159"
  },
  {
    "text": "fun with um AI generated imagery like so many of us have and I've got some very",
    "start": "80159",
    "end": "88000"
  },
  {
    "text": "weird things in this slide deck but I enjoyed it and I hope you do too but yes",
    "start": "88000",
    "end": "94680"
  },
  {
    "text": "they are weird um these aren't real things some of these I've admitted some of them because they're just like a",
    "start": "94680",
    "end": "100320"
  },
  {
    "text": "little disturbing I I tell you AI generated imagery gets very very",
    "start": "100320",
    "end": "105680"
  },
  {
    "text": "strange all right so I want to start with this quote by uh Sir Richard",
    "start": "105680",
    "end": "111159"
  },
  {
    "text": "Branson and I think it's something to really bear in mind as you go through your software development and your",
    "start": "111159",
    "end": "117719"
  },
  {
    "text": "architecture that complexity is is your enemy it is so easy for us to make",
    "start": "117719",
    "end": "124520"
  },
  {
    "text": "things more complex add in yet another bit of tooling another library and just",
    "start": "124520",
    "end": "130800"
  },
  {
    "text": "keep adding to the overhead of your applications a and just because it seems",
    "start": "130800",
    "end": "136080"
  },
  {
    "text": "like the simple thing maybe someone's already made a library that does this but maybe it's not maintained or or",
    "start": "136080",
    "end": "142560"
  },
  {
    "text": "there's some other issues or it doesn't quite work or that you just have to learn how to use it but everything that",
    "start": "142560",
    "end": "149080"
  },
  {
    "text": "you add into your application is adding to its complexity and it's so easy to do",
    "start": "149080",
    "end": "156080"
  },
  {
    "text": "so I want you to keep this in mind as we talk about everything that we're going",
    "start": "156080",
    "end": "161560"
  },
  {
    "text": "to talk about today and it is really hard to keep things simple and if you",
    "start": "161560",
    "end": "167440"
  },
  {
    "text": "were in the keynote yesterday it's about thinking critically about do you actually need that does it actually",
    "start": "167440",
    "end": "173480"
  },
  {
    "text": "solve the problem and if you missed the keynote yesterday definitely watch it on catchup because there was so many things",
    "start": "173480",
    "end": "179920"
  },
  {
    "text": "that apply to software so that's the other Lila he gave the keyote and this",
    "start": "179920",
    "end": "185200"
  },
  {
    "text": "is this so you just have to remember to go watch lers or leeli as a colleague or",
    "start": "185200",
    "end": "190400"
  },
  {
    "text": "friend likes to call us so just bear this in mind as you go through this talk",
    "start": "190400",
    "end": "197400"
  },
  {
    "text": "or any talk okay so we are going to talk about modular monolith but that does mean that",
    "start": "197400",
    "end": "204640"
  },
  {
    "text": "we are going to be thinking about distributed systems and the typical",
    "start": "204640",
    "end": "210159"
  },
  {
    "text": "demonstration or imagery for uh monoliths and that is rocks so we have",
    "start": "210159",
    "end": "216480"
  },
  {
    "text": "this here with Stonehenge in the background and you can think of that as a distributed system with lots of rocks",
    "start": "216480",
    "end": "223879"
  },
  {
    "text": "I think those SARS and stones are actually coupled by the the linking",
    "start": "223879",
    "end": "229040"
  },
  {
    "text": "stones on the top but we won't go into that we won't go into that today that's a different talk um but we have our",
    "start": "229040",
    "end": "234120"
  },
  {
    "text": "monolith so we're going to be thinking about the differences between these and",
    "start": "234120",
    "end": "239239"
  },
  {
    "text": "how you can relate them as well so what is a monolith I'm sure most of you",
    "start": "239239",
    "end": "245640"
  },
  {
    "text": "started your development careers working on monoliths it's a single application",
    "start": "245640",
    "end": "250920"
  },
  {
    "text": "all in the same repository and it's a single executable now this comes with a",
    "start": "250920",
    "end": "256680"
  },
  {
    "text": "lot of benefits you don't have to learn how to talk between these you don't have",
    "start": "256680",
    "end": "261759"
  },
  {
    "text": "to secure between your different bits and pieces within it um it you have a",
    "start": "261759",
    "end": "267400"
  },
  {
    "text": "single thing to deploy there are so many many benefits to the monolith um but it",
    "start": "267400",
    "end": "275120"
  },
  {
    "text": "is difficult when you want to scale and it can be difficult to maintain because",
    "start": "275120",
    "end": "280919"
  },
  {
    "text": "everything is all in the one repository and we start to blur those lines between",
    "start": "280919",
    "end": "286960"
  },
  {
    "text": "different parts of the application so what is microservices",
    "start": "286960",
    "end": "292960"
  },
  {
    "text": "architecture well this is like the polar opposite you're starting to divide everything into lots of different",
    "start": "292960",
    "end": "300440"
  },
  {
    "text": "executables so you can just go and work on one single repository and then you",
    "start": "300440",
    "end": "307080"
  },
  {
    "text": "can deploy that independently of everything else that's a key point that it's independent of everything else uh",
    "start": "307080",
    "end": "314479"
  },
  {
    "text": "but it does have a load of drawbacks complexity is through the roof you have",
    "start": "314479",
    "end": "321880"
  },
  {
    "text": "to deploy multiple things now um it it's difficult to run locally on your system",
    "start": "321880",
    "end": "328479"
  },
  {
    "text": "you probably have to start a all manner of containers and services and it gets",
    "start": "328479",
    "end": "334000"
  },
  {
    "text": "really complicated uh but you do have that issue that it's really easy to",
    "start": "334000",
    "end": "340440"
  },
  {
    "text": "scale you can swap modules in and out so you've got that that easier sort of life",
    "start": "340440",
    "end": "346880"
  },
  {
    "text": "cycle management you know featur thing going on with it okay so a lot of people want to move towards",
    "start": "346880",
    "end": "354759"
  },
  {
    "text": "microservices so when you are thinking about what you need um um we generally",
    "start": "354759",
    "end": "360960"
  },
  {
    "text": "think of these two options we have well I want to scale and meet demand so well",
    "start": "360960",
    "end": "367440"
  },
  {
    "text": "we could go through our current monolith and we could scale it vertically or",
    "start": "367440",
    "end": "372840"
  },
  {
    "text": "horizontally make multiple different instances of it or give it more compute",
    "start": "372840",
    "end": "378000"
  },
  {
    "text": "uh we can go through the code we can try and optimize it find where the bottlenecks are where all those bits are",
    "start": "378000",
    "end": "384599"
  },
  {
    "text": "sort of you know just not working as smoothly as possible or we can go and",
    "start": "384599",
    "end": "390639"
  },
  {
    "text": "break apps into break into uh Individual Services that can all scale",
    "start": "390639",
    "end": "397000"
  },
  {
    "text": "independently now sometimes it won't be the best reason that you go towards",
    "start": "397000",
    "end": "403000"
  },
  {
    "text": "distributed uh systems it'll be because you want it on your resume don't do resume driven development definitely",
    "start": "403000",
    "end": "409479"
  },
  {
    "text": "don't do that don't do CTO driven development so you'll get CTO like oh um",
    "start": "409479",
    "end": "415560"
  },
  {
    "text": "I'm on the golf course and talking to this other CTO or c or SE Suite somebody",
    "start": "415560",
    "end": "421919"
  },
  {
    "text": "engineering manager and like I've got microservices and they're like yeah we're we're getting microservices okay",
    "start": "421919",
    "end": "428520"
  },
  {
    "text": "engineering team we need microservices now I've just told this big wig over here that we've got them so try not to",
    "start": "428520",
    "end": "435319"
  },
  {
    "text": "do that type of development as well that's it's not a good reason because",
    "start": "435319",
    "end": "440440"
  },
  {
    "text": "again complexity complexity is the enemy okay so if we compare the two",
    "start": "440440",
    "end": "448199"
  },
  {
    "text": "architectures this kind of makes them look like you know black and white uh",
    "start": "448199",
    "end": "453759"
  },
  {
    "text": "you know we have the ease of development with the monolith uh I've already said",
    "start": "453759",
    "end": "459560"
  },
  {
    "text": "that microservices are difficult we'll talk later about how that might be getting easier um updating maintaining",
    "start": "459560",
    "end": "467919"
  },
  {
    "text": "everything's easier in a microservice isn't it because it's all encapsulated you know you're not having to tease",
    "start": "467919",
    "end": "473599"
  },
  {
    "text": "through all your code uh well the monolith is restrictive you can't scale",
    "start": "473599",
    "end": "479199"
  },
  {
    "text": "it and this paints a picture that microservices is the The Way",
    "start": "479199",
    "end": "486240"
  },
  {
    "text": "Forward CU it does sound pretty straightforward doesn't it just DIY it all up all these executables and Away",
    "start": "486240",
    "end": "493080"
  },
  {
    "text": "you go but it does come at a cost Simplicity can you see the theme coming",
    "start": "493080",
    "end": "499800"
  },
  {
    "text": "through here okay we want to keep things as simple as",
    "start": "499800",
    "end": "505080"
  },
  {
    "text": "possible and microservices are just complex I know a lot of companies have",
    "start": "505080",
    "end": "510639"
  },
  {
    "text": "gone to microservices architecture and they're reeling it back in they're they're recomposing I guess would be the",
    "start": "510639",
    "end": "517360"
  },
  {
    "text": "way they're bringing all those Services back into a single executable or a few executables uh and that's not easy to do",
    "start": "517360",
    "end": "524880"
  },
  {
    "text": "just to back track on that so let's have a talk about the journey to distribution",
    "start": "524880",
    "end": "531720"
  },
  {
    "text": "you don't just suddenly get a distributed app we we have this",
    "start": "531720",
    "end": "538040"
  },
  {
    "text": "journey now I use this chart a lot I stole it so",
    "start": "538440",
    "end": "544519"
  },
  {
    "text": "I may as well use it a lot I stole it from a colleague who stole it from another colleague who stole it from",
    "start": "544519",
    "end": "549800"
  },
  {
    "text": "someone who owned it who knows I don't care it's mine and this is what you",
    "start": "549800",
    "end": "555920"
  },
  {
    "text": "think you're going to do you're going to take your monolithic application and it's going to become",
    "start": "555920",
    "end": "562320"
  },
  {
    "text": "microservices yeah okay this is where you're going to end up you are going to",
    "start": "562320",
    "end": "567839"
  },
  {
    "text": "end up at the distributed monolith that's a very bad place it's a really",
    "start": "567839",
    "end": "574320"
  },
  {
    "text": "awful place to be because now you haven't got a distributed system",
    "start": "574320",
    "end": "580600"
  },
  {
    "text": "and you don't have a monolith we we really don't want to be there now I will say you might go there on your way to",
    "start": "580600",
    "end": "588640"
  },
  {
    "text": "places because you got to break a few eggs to make an omelette haven't you I've been using that statement a lot",
    "start": "588640",
    "end": "594079"
  },
  {
    "text": "recently someone give me a different one that says the same thing you can find me afterwards but this is where your going",
    "start": "594079",
    "end": "599519"
  },
  {
    "text": "to end up if you go without proper planning and thinking okay",
    "start": "599519",
    "end": "607320"
  },
  {
    "text": "so I told you it got weird I warned you okay the dangers of the distributed",
    "start": "607320",
    "end": "614320"
  },
  {
    "text": "monolith creepy weird cotton monsters come out of your keyboard jump up behind",
    "start": "614320",
    "end": "620040"
  },
  {
    "text": "your desk and Savage you okay I thought it was quite cute I liked it so okay so",
    "start": "620040",
    "end": "628680"
  },
  {
    "text": "to understand where the danger comes from you kind of need to know what it is and people say okay what is it is it",
    "start": "628680",
    "end": "635519"
  },
  {
    "text": "like multiple monoliths spread around let's take this common scenario okay",
    "start": "635519",
    "end": "644360"
  },
  {
    "text": "because this is something people always ask me when I talk about distributed systems is yeah but they're both using",
    "start": "644360",
    "end": "652079"
  },
  {
    "text": "basically the same data do I have to duplicate my databases can they not just",
    "start": "652079",
    "end": "658720"
  },
  {
    "text": "both share the same database so let's say okay yes let them share the database",
    "start": "658720",
    "end": "665639"
  },
  {
    "text": "we got these two Services both working on this database now one service needs to update",
    "start": "665639",
    "end": "674560"
  },
  {
    "text": "that database they're going to do a migration whatever whatever needs to be done to it to make it work um what about",
    "start": "674560",
    "end": "682600"
  },
  {
    "text": "this one now we have to go and do that migration to the other service that",
    "start": "682600",
    "end": "690040"
  },
  {
    "text": "doesn't seem like it's in the spirit of distributed systems that's not where we",
    "start": "690040",
    "end": "695160"
  },
  {
    "text": "want to be now we've coupled our applications our our applications have a",
    "start": "695160",
    "end": "702600"
  },
  {
    "text": "friend a tag along that they have to go and deploy everywhere with okay we",
    "start": "702600",
    "end": "707720"
  },
  {
    "text": "cannot deploy our individual services without having to go and update and",
    "start": "707720",
    "end": "715320"
  },
  {
    "text": "deploy the other coupled services is okay that's what a",
    "start": "715320",
    "end": "720920"
  },
  {
    "text": "distributed monolith is we've got all those connections and now we have to deploy",
    "start": "720920",
    "end": "726519"
  },
  {
    "text": "them all we haven't got those benefits of Rapid development cycles and Rapid",
    "start": "726519",
    "end": "733279"
  },
  {
    "text": "releases and everything in capsulated that we wanted with microservices",
    "start": "733279",
    "end": "739639"
  },
  {
    "text": "okay so this is really hard we don't want this AI generated it's creepy isn't",
    "start": "739639",
    "end": "746160"
  },
  {
    "text": "it how good it is so we have all of that complexity that we've been trying to",
    "start": "746160",
    "end": "751360"
  },
  {
    "text": "avoid of our distributed system we've got to think about all these supporting services the deployment all of those",
    "start": "751360",
    "end": "758920"
  },
  {
    "text": "horrible things the the pain of debugging and writing code in it uh but",
    "start": "758920",
    "end": "764000"
  },
  {
    "text": "we have none of those benefits of independent discrete Services all right",
    "start": "764000",
    "end": "769519"
  },
  {
    "text": "because everything's coupled it's got friends and we don't have that lovely",
    "start": "769519",
    "end": "775360"
  },
  {
    "text": "debugging experience where you can just put a break point and follow the code path through as you're going with your your monolith",
    "start": "775360",
    "end": "782079"
  },
  {
    "text": "okay so you can see why we don't want to be there now the golden rule this sort",
    "start": "782079",
    "end": "787959"
  },
  {
    "text": "of comes from DDD domain driven design uh I know just enough of DDD to be",
    "start": "787959",
    "end": "793920"
  },
  {
    "text": "dangerous I have a colleague who is like worldclass DDD expert and he's always",
    "start": "793920",
    "end": "799880"
  },
  {
    "text": "like oh yes you must do this you must do that and I'm like yeah I don't want to do that no no that's no that doesn't",
    "start": "799880",
    "end": "805639"
  },
  {
    "text": "make sense to me and he's rolls his eyes at me so I know just enough and I think this is one of the rules that I think",
    "start": "805639",
    "end": "811560"
  },
  {
    "text": "you should always try to keep in mind and and it applies across so many different aspects of software so loose",
    "start": "811560",
    "end": "818880"
  },
  {
    "text": "coupling and high cohesion this is important remember it so what is the",
    "start": "818880",
    "end": "824120"
  },
  {
    "text": "more pleasant journey towards our distributed systems well remember this diagram we",
    "start": "824120",
    "end": "831199"
  },
  {
    "text": "now have the modula monolith on there okay so we've got this other option so",
    "start": "831199",
    "end": "837160"
  },
  {
    "text": "instead of going straight to Microsoft services or ending up in a distributed monolith we're going to move towards the",
    "start": "837160",
    "end": "843959"
  },
  {
    "text": "modular monolith okay so this is a much nicer Journey",
    "start": "843959",
    "end": "849399"
  },
  {
    "text": "because this has a natural path to being easier to distribute we're going to",
    "start": "849399",
    "end": "854959"
  },
  {
    "text": "learn how that happens and how you get there okay so this is the way that I",
    "start": "854959",
    "end": "860639"
  },
  {
    "text": "recommend you start moving all right and I always think of",
    "start": "860639",
    "end": "865839"
  },
  {
    "text": "this this little um diagram you know you see M of this everywhere you do not want",
    "start": "865839",
    "end": "870959"
  },
  {
    "text": "to be the miserable dude on the the left there with the distributed monolith okay",
    "start": "870959",
    "end": "876720"
  },
  {
    "text": "we want the modula monolith I'm a big fan of it can you tell so now back to this",
    "start": "876720",
    "end": "883720"
  },
  {
    "text": "chart we have this option we have the modular monolith Best of Both Worlds yay",
    "start": "883720",
    "end": "891160"
  },
  {
    "text": "no it has a lot of the problems okay so it's not all sunshine and Roses it does",
    "start": "891160",
    "end": "897560"
  },
  {
    "text": "come with a lot of problems we're going to be bringing that old friend in",
    "start": "897560",
    "end": "903759"
  },
  {
    "text": "complexity so what is a modular",
    "start": "903759",
    "end": "908839"
  },
  {
    "text": "monolith so this is a single executable but we've got a whole load of modules",
    "start": "908839",
    "end": "916519"
  },
  {
    "text": "we've encapsulated everything into individual modules we can change them out we can",
    "start": "916519",
    "end": "925120"
  },
  {
    "text": "just work on those in isolation we've got that sort of modul thinking that you",
    "start": "925120",
    "end": "930160"
  },
  {
    "text": "have in distributed systems but we haven't got that difficulty of lots of",
    "start": "930160",
    "end": "938000"
  },
  {
    "text": "individual executables that we need to deploy everything is in a single",
    "start": "938000",
    "end": "944519"
  },
  {
    "text": "runtime so I want to introduce you to the Kit Kat pattern okay this is",
    "start": "947519",
    "end": "952600"
  },
  {
    "text": "something I want you to adopt you will adopt you will adopt subliminal messages",
    "start": "952600",
    "end": "957639"
  },
  {
    "text": "uh because I think this really describes what we're trying to achieve with our",
    "start": "957639",
    "end": "963240"
  },
  {
    "text": "modular monolith so you all you all know a Kit Kat don't you yeah okay all right are",
    "start": "963240",
    "end": "971600"
  },
  {
    "text": "there any like monsters in here that just take a Kit Kat and take a big bite out the",
    "start": "971600",
    "end": "977639"
  },
  {
    "text": "corner oh you monsters absolute monsters I",
    "start": "977639",
    "end": "982720"
  },
  {
    "text": "mean ignore those those few very few thank goodness Monsters the right way",
    "start": "982720",
    "end": "988959"
  },
  {
    "text": "way to eat a Kit Kat the right way and I will die on this hill is to snap a finger off nibble all the chocolate off",
    "start": "988959",
    "end": "994240"
  },
  {
    "text": "around it and then eat the biscuit okay that's the way so if you're not a monster and you snap a finger off you",
    "start": "994240",
    "end": "1001600"
  },
  {
    "text": "can think of each finger as a module it's one whole complete thing but if you",
    "start": "1001600",
    "end": "1007720"
  },
  {
    "text": "separate a biscuit it's still the same thing it's all there but now we've got these two bits okay",
    "start": "1007720",
    "end": "1015079"
  },
  {
    "text": "so that means it's an entire Kit Kat bar the monolith you know each finger represents",
    "start": "1015079",
    "end": "1023120"
  },
  {
    "text": "a module and a finger can be broken off so you could swap that finger out you",
    "start": "1023120",
    "end": "1028280"
  },
  {
    "text": "can do whatever you want with that finger it's in completely encapsulated you could give it to a friend and",
    "start": "1028280",
    "end": "1033798"
  },
  {
    "text": "they've kind of got their own kitat bar okay but how does all this work in my",
    "start": "1033799",
    "end": "1041079"
  },
  {
    "text": "application because it's very easy for me to say yes here it is let's say this is your plain old",
    "start": "1041079",
    "end": "1047798"
  },
  {
    "text": "monolith I've got ener architecture here I mean I don't really care what you have",
    "start": "1047799",
    "end": "1054320"
  },
  {
    "text": "it could be enti onion carrot I'm sure there's going to be a carrot type",
    "start": "1054320",
    "end": "1059520"
  },
  {
    "text": "architecture one of these days there's all these names coming up so I don't care you can apply this to whatever",
    "start": "1059520",
    "end": "1065240"
  },
  {
    "text": "architecture you are using all right you can think about it however you want I'm not going to tell you what architecture",
    "start": "1065240",
    "end": "1071760"
  },
  {
    "text": "to use just start thinking about how you could apply these principles to whatever",
    "start": "1071760",
    "end": "1077720"
  },
  {
    "text": "you're doing uh I will use end here as an example because I think most people",
    "start": "1077720",
    "end": "1083039"
  },
  {
    "text": "will be familiar with that style of architecture so if you think about your",
    "start": "1083039",
    "end": "1089960"
  },
  {
    "text": "multiple tiers here we're going to divide them up into our modules and in",
    "start": "1089960",
    "end": "1095799"
  },
  {
    "text": "those modules they probably have the API the business logic all of their data",
    "start": "1095799",
    "end": "1102320"
  },
  {
    "text": "access excuse me now you may think this is well",
    "start": "1102320",
    "end": "1108240"
  },
  {
    "text": "vertical slice architecture they're not the same if you want to learn about",
    "start": "1108240",
    "end": "1113559"
  },
  {
    "text": "vertical slice architecture my good friend Chris he's sad over there I see you is giving a talk at 10:20 tomorrow",
    "start": "1113559",
    "end": "1120760"
  },
  {
    "text": "on vertical slice architecture go to that learn about that approach that is all about encapsulating features it's",
    "start": "1120760",
    "end": "1128400"
  },
  {
    "text": "not specific to monoliths or distributed systems you can apply it in both and it's a similar in the same vein but",
    "start": "1128400",
    "end": "1136159"
  },
  {
    "text": "still a different approach Okay so I I suggest you go and watch his",
    "start": "1136159",
    "end": "1142440"
  },
  {
    "text": "tomorrow so how do we decompose this application like actually start with it",
    "start": "1142440",
    "end": "1150240"
  },
  {
    "text": "remember the golden rule we have that loose coupling and high cohesion we need",
    "start": "1150240",
    "end": "1155640"
  },
  {
    "text": "to think about that so we need to start looking for the areas of high",
    "start": "1155640",
    "end": "1161840"
  },
  {
    "text": "cohesion so high cohesion means that we've got areas that are closely related",
    "start": "1161840",
    "end": "1167559"
  },
  {
    "text": "to each other they're all doing stuff around the same thing okay so if you",
    "start": "1167559",
    "end": "1174120"
  },
  {
    "text": "have I don't know a notifications feature in your",
    "start": "1174120",
    "end": "1179320"
  },
  {
    "text": "application everything that relates to sending emails or text messages",
    "start": "1179320",
    "end": "1184480"
  },
  {
    "text": "everything to do with notifications is highly cohesive so you start bringing all those bits together and then you",
    "start": "1184480",
    "end": "1192720"
  },
  {
    "text": "separate all of those highly cohesive things those nucleuses nuclei of sort of",
    "start": "1192720",
    "end": "1199960"
  },
  {
    "text": "topics and then you make sure that they're only Loosely coupled to everything else if you've got",
    "start": "1199960",
    "end": "1205760"
  },
  {
    "text": "notifications over here and something over here you don't want notifications to depend on something over here we need",
    "start": "1205760",
    "end": "1213240"
  },
  {
    "text": "that separation so there's this chart I think this is a bit pompous especially number",
    "start": "1213240",
    "end": "1219880"
  },
  {
    "text": "four it means higher quality code I mean it can do but it does seem a little bit",
    "start": "1219880",
    "end": "1225960"
  },
  {
    "text": "um pompous uh so we you can see what that says I'm not",
    "start": "1225960",
    "end": "1231600"
  },
  {
    "text": "going to go through it it it's just about bearing that in mind and looking",
    "start": "1231600",
    "end": "1237480"
  },
  {
    "text": "for those areas that you have high coupling and trying to tease those out",
    "start": "1237480",
    "end": "1242880"
  },
  {
    "text": "so you can start getting these nuclei of topics or modules as they will become so",
    "start": "1242880",
    "end": "1250640"
  },
  {
    "text": "let's have a a practical um think about this uh we want to",
    "start": "1250640",
    "end": "1256840"
  },
  {
    "text": "incrementally do this in the largest chunks possible so the largest chunk of",
    "start": "1256840",
    "end": "1264880"
  },
  {
    "text": "cohesion because we can start to further decompose so we take that we everything",
    "start": "1264880",
    "end": "1270159"
  },
  {
    "text": "to do with orders is one module everything to do with inventory is",
    "start": "1270159",
    "end": "1275840"
  },
  {
    "text": "another module and so on so we've got all of this highly cohesive areas and",
    "start": "1275840",
    "end": "1281000"
  },
  {
    "text": "they're sort of loosely coupled now you can further subdivide",
    "start": "1281000",
    "end": "1287120"
  },
  {
    "text": "those modules or those uh areas of cohesion as you go along and then you've",
    "start": "1287120",
    "end": "1292679"
  },
  {
    "text": "got all the different things that make up your ordering section now these can be modules in their own right you could",
    "start": "1292679",
    "end": "1299440"
  },
  {
    "text": "have them encapsulated in another one so there sort of everything else thinks it's one module there's different ways",
    "start": "1299440",
    "end": "1305919"
  },
  {
    "text": "that you can approach it um and that's your own decision on with your team on what suits you but you can start to take",
    "start": "1305919",
    "end": "1312960"
  },
  {
    "text": "these large areas and decompose them further now",
    "start": "1312960",
    "end": "1319120"
  },
  {
    "text": "that pesky database remember the shared database and things so we want to think",
    "start": "1319120",
    "end": "1324640"
  },
  {
    "text": "about how we can decompose the database and you will need to all right",
    "start": "1324640",
    "end": "1331760"
  },
  {
    "text": "not we'll get to when there's two approaches and you're as developers you are going to be",
    "start": "1331760",
    "end": "1338039"
  },
  {
    "text": "tempted to go code first we always want to get into the code well I do I hate touching the database I I'm I'm scared",
    "start": "1338039",
    "end": "1344960"
  },
  {
    "text": "to death of databases that was drummed into me as a junior developer oh you know make sure you run all your SQL",
    "start": "1344960",
    "end": "1351440"
  },
  {
    "text": "queries um before like you know test them before you actually run them and I've been in a situation where the live",
    "start": "1351440",
    "end": "1358840"
  },
  {
    "text": "database has been dropped in its entirety not by me not by me by the head",
    "start": "1358840",
    "end": "1363919"
  },
  {
    "text": "of my team and Nathaniel you might remember that it was um horrific and uh",
    "start": "1363919",
    "end": "1370240"
  },
  {
    "text": "there was a lot of blame my coming my way and I was like no it wasn't me someone did it on boxing day and it was a 10 days later in a jur and he kept",
    "start": "1370240",
    "end": "1377520"
  },
  {
    "text": "backups for a week another story for another time that was not good not good",
    "start": "1377520",
    "end": "1382880"
  },
  {
    "text": "so okay we have um code first so you go and look at your code base and you think",
    "start": "1382880",
    "end": "1389120"
  },
  {
    "text": "all right this is where we're going to start pulling this section out this module we're going to pull that out easy",
    "start": "1389120",
    "end": "1396799"
  },
  {
    "text": "yeah database first that sounds a little bit more complicated but let's think",
    "start": "1396799",
    "end": "1402559"
  },
  {
    "text": "about this you've got your code first you've pulled all your module out everything's great you've spent know how",
    "start": "1402559",
    "end": "1409039"
  },
  {
    "text": "many weeks doing your code and then you come to your",
    "start": "1409039",
    "end": "1414159"
  },
  {
    "text": "database what happens if that data can't be teased apart in the way you want it",
    "start": "1414159",
    "end": "1421120"
  },
  {
    "text": "to be because data is really difficult to decompose and separate so then you'll",
    "start": "1421120",
    "end": "1427159"
  },
  {
    "text": "have to backtrack and remove your put your module back in and rethink this",
    "start": "1427159",
    "end": "1432679"
  },
  {
    "text": "based on the data so this is where the database first approach data first",
    "start": "1432679",
    "end": "1438400"
  },
  {
    "text": "approach can be easier in the long run because you divide your data you're like okay I can see that the data is going to",
    "start": "1438400",
    "end": "1445520"
  },
  {
    "text": "work like this and then write your code accordingly so how would you choose one",
    "start": "1445520",
    "end": "1451880"
  },
  {
    "text": "over the other well if you are pretty sure that your data is straightforward",
    "start": "1451880",
    "end": "1457320"
  },
  {
    "text": "that you can it will follow along go with your code first all right if you think there's the database is going to",
    "start": "1457320",
    "end": "1464080"
  },
  {
    "text": "be difficult and pesky start there make your life easier because if you can't",
    "start": "1464080",
    "end": "1469200"
  },
  {
    "text": "separate the data you can go back to the drawing board and you haven't wasted any time with",
    "start": "1469200",
    "end": "1475399"
  },
  {
    "text": "code so that's what I just said if you have",
    "start": "1475399",
    "end": "1480799"
  },
  {
    "text": "that and you can't go so we'll skip over that and you may be asking again we're",
    "start": "1480799",
    "end": "1486080"
  },
  {
    "text": "not in a distributed system do we actually need to decompose the",
    "start": "1486080",
    "end": "1493320"
  },
  {
    "text": "database maybe not you need to think about are you actually",
    "start": "1495679",
    "end": "1502080"
  },
  {
    "text": "going to go distributed anytime soon if not well maybe you don't need to",
    "start": "1502080",
    "end": "1508240"
  },
  {
    "text": "decompose the database your two modules can use the same data store if you think",
    "start": "1508240",
    "end": "1515559"
  },
  {
    "text": "you are going to decompose uh sorry distribute this system sooner maybe you want to do this sooner or if you think",
    "start": "1515559",
    "end": "1522840"
  },
  {
    "text": "it's going to be a problem you want to do it I really want to drum in that you",
    "start": "1522840",
    "end": "1528080"
  },
  {
    "text": "should should be pragmatic not dogmatic and this is so",
    "start": "1528080",
    "end": "1534000"
  },
  {
    "text": "important I've worked for team leads who have been so dogmatic that it it's a",
    "start": "1534000",
    "end": "1540360"
  },
  {
    "text": "horrible place to work they um the example I can give you is um I was",
    "start": "1540360",
    "end": "1546039"
  },
  {
    "text": "learning to do tdd and I was kind of writing some of my codes first some of them after I've",
    "start": "1546039",
    "end": "1554480"
  },
  {
    "text": "written my code because I was learning and I was struggling with getting that code test first mentality he came over",
    "start": "1554480",
    "end": "1561039"
  },
  {
    "text": "to me at the end of the day and said I know that you didn't write your tests first okay yeah yeah I'm pretty open",
    "start": "1561039",
    "end": "1568720"
  },
  {
    "text": "about that next time you do that I'm deleting all your code okay that is being dogmatic do you know how that made",
    "start": "1568720",
    "end": "1575679"
  },
  {
    "text": "me feel table flip okay uh it's so unnecessary to be so dogmatic about",
    "start": "1575679",
    "end": "1583279"
  },
  {
    "text": "things be pragmatic think do I need to do this now all right is it more",
    "start": "1583279",
    "end": "1590000"
  },
  {
    "text": "complexity to bring this in or is it going to make life easier make the decision based on a each",
    "start": "1590000",
    "end": "1597640"
  },
  {
    "text": "individual situation you will acrw technical debt if you don't do it straight away",
    "start": "1597640",
    "end": "1605399"
  },
  {
    "text": "you will have that technical debt you know you will have to do that down the line if you decide to distribute your",
    "start": "1605399",
    "end": "1613240"
  },
  {
    "text": "system but knowing that you have that technical debt is half the battle what you do with with that another case",
    "start": "1613240",
    "end": "1620880"
  },
  {
    "text": "okay so how is this distribute ready that's",
    "start": "1620880",
    "end": "1627240"
  },
  {
    "text": "the title of the talk how do we actually start breaking up this system and making",
    "start": "1627240",
    "end": "1633600"
  },
  {
    "text": "it a distributable system now remember this last section",
    "start": "1633600",
    "end": "1639799"
  },
  {
    "text": "when we were talking about the Kit Kat pattern a finger can be broken off and",
    "start": "1639799",
    "end": "1645880"
  },
  {
    "text": "is in itself a self-contained chocolate bar just like your a module in your",
    "start": "1645880",
    "end": "1652200"
  },
  {
    "text": "application so we want to write our modules in such a way that I can take an",
    "start": "1652200",
    "end": "1657760"
  },
  {
    "text": "entire module make it an executable deploy it and nothing",
    "start": "1657760",
    "end": "1663960"
  },
  {
    "text": "changes that's the idea behind it and then that's why when you structure and",
    "start": "1663960",
    "end": "1669760"
  },
  {
    "text": "architect your distrib your distributed monolith not that your modular monolith",
    "start": "1669760",
    "end": "1676080"
  },
  {
    "text": "correctly and with thought you are ready to go distribute",
    "start": "1676080",
    "end": "1682120"
  },
  {
    "text": "it now dhh came up with the Citadel pattern I don't like that I don't think",
    "start": "1682120",
    "end": "1689080"
  },
  {
    "text": "that's a good name doesn't evoke what I'm trying to do so introducing the",
    "start": "1689080",
    "end": "1695679"
  },
  {
    "text": "satellite pattern I'm giving you all my latest patterns today so if you think of a",
    "start": "1695679",
    "end": "1703840"
  },
  {
    "text": "central doesn't always have to be a modular monolith with self-contained",
    "start": "1703840",
    "end": "1709279"
  },
  {
    "text": "modules that can be broken off now if you've got your monolith you can go and tease something out and make it a module",
    "start": "1709279",
    "end": "1715600"
  },
  {
    "text": "and then uh break it off and they become satellites all right so this is starting",
    "start": "1715600",
    "end": "1721720"
  },
  {
    "text": "to come partially distributed incrementally distributed so we carve",
    "start": "1721720",
    "end": "1727960"
  },
  {
    "text": "off bless you carve off that mod that satellite and now we've got our modular",
    "start": "1727960",
    "end": "1733159"
  },
  {
    "text": "monolith you can have a regular monolith and now we've got the satellite appli",
    "start": "1733159",
    "end": "1738320"
  },
  {
    "text": "ation um and that could be anything all right they they can be Standalone apps",
    "start": "1738320",
    "end": "1745000"
  },
  {
    "text": "they can be containerize they could be a serverless function and once you've got those you",
    "start": "1745000",
    "end": "1752399"
  },
  {
    "text": "can start to control them independently so you can scale them to zero you can um",
    "start": "1752399",
    "end": "1759360"
  },
  {
    "text": "just have them work as you need so you you need to be thinking well yeah this",
    "start": "1759360",
    "end": "1764760"
  },
  {
    "text": "one this notifications we want to have like a gajillion email sent out at",
    "start": "1764760",
    "end": "1771679"
  },
  {
    "text": "the end of the month so you scale up that notification service you pluck that out and start to have that as a",
    "start": "1771679",
    "end": "1778480"
  },
  {
    "text": "satellite project okay so this leads us to an important question the how we've sort of",
    "start": "1778480",
    "end": "1786000"
  },
  {
    "text": "talken about nebulous Theory and things like that but aset developers I'm going",
    "start": "1786000",
    "end": "1792679"
  },
  {
    "text": "to assume most of you are um how do we go about doing that so so we need to",
    "start": "1792679",
    "end": "1800720"
  },
  {
    "text": "ensure that modules remain completely independent so that we can just break",
    "start": "1800720",
    "end": "1806240"
  },
  {
    "text": "them off how do we do that how are all these modules going to",
    "start": "1806240",
    "end": "1811679"
  },
  {
    "text": "communicate uh are we just going to have some kind of interface or service how do",
    "start": "1811679",
    "end": "1818000"
  },
  {
    "text": "they communicate now that we're trying to encapsulate them and how do we enforce the architecture we've come up",
    "start": "1818000",
    "end": "1824720"
  },
  {
    "text": "with this whole new architecture we need to keep it and that takes",
    "start": "1824720",
    "end": "1830480"
  },
  {
    "text": "discipline now I have my little project that I've been working on for several years and if you were in my workshop",
    "start": "1830480",
    "end": "1836440"
  },
  {
    "text": "earlier in the week we kind of built out tacky tacos so I'm going to explain how",
    "start": "1836440",
    "end": "1841840"
  },
  {
    "text": "you can do it in your net applications using tacky tacos as an",
    "start": "1841840",
    "end": "1847279"
  },
  {
    "text": "example so this is our modular architecture and we have the client",
    "start": "1847279",
    "end": "1853159"
  },
  {
    "text": "whatever that may be and then we have a web API that is our single executable",
    "start": "1853159",
    "end": "1858960"
  },
  {
    "text": "that's the only executable apart from the client we're ignoring that that's something else that's off on a CDN",
    "start": "1858960",
    "end": "1864559"
  },
  {
    "text": "whatever but we have our web API as an executable and then all of our logic is",
    "start": "1864559",
    "end": "1871159"
  },
  {
    "text": "encapsulated into modules so um the API is going to extend",
    "start": "1871159",
    "end": "1880480"
  },
  {
    "text": "all of the endpoints that you need within each module uh and they all need",
    "start": "1880480",
    "end": "1886320"
  },
  {
    "text": "to be self-contained to be able ble to pluck them off into satellites okay so",
    "start": "1886320",
    "end": "1891519"
  },
  {
    "text": "you think you can't have all these end points in your web API that you might normally do and have a inject a service",
    "start": "1891519",
    "end": "1900320"
  },
  {
    "text": "say an order service into your web API and call that you can't do that because",
    "start": "1900320",
    "end": "1905559"
  },
  {
    "text": "that's now coupling your application so we have to think about how we encapsulate everything to do with your",
    "start": "1905559",
    "end": "1912320"
  },
  {
    "text": "orders into the order module but then call it within your executable okay",
    "start": "1912320",
    "end": "1918600"
  },
  {
    "text": "and we need to be strict we need to have rules laid out and I know we don't",
    "start": "1918600",
    "end": "1924559"
  },
  {
    "text": "always like rules but with this you need rules you need to follow",
    "start": "1924559",
    "end": "1930240"
  },
  {
    "text": "structure so how do we do that with net with projects that's the only real way",
    "start": "1930240",
    "end": "1936120"
  },
  {
    "text": "we have for creating modules in net architecture uh so each one of these",
    "start": "1936120",
    "end": "1943399"
  },
  {
    "text": "things I don't know if this yes it does so we've got um orders order tests order",
    "start": "1943399",
    "end": "1949840"
  },
  {
    "text": "contracts I don't know why I'm holding my arm weirdly um but each one of these things is an individual module and",
    "start": "1949840",
    "end": "1957440"
  },
  {
    "text": "that's a class Library if you're adding it to your net project so we have all of those projects",
    "start": "1957440",
    "end": "1964919"
  },
  {
    "text": "yes you have a lot of projects but it will make sense okay and then the web API is the only",
    "start": "1964919",
    "end": "1973720"
  },
  {
    "text": "project that can reference the actual main module so so if we look at this we've got orders and payments menu",
    "start": "1973720",
    "end": "1981039"
  },
  {
    "text": "kitchen notifications they're the main module and then the tests is supporting",
    "start": "1981039",
    "end": "1986240"
  },
  {
    "text": "the module and then the contracts is how things talk to the",
    "start": "1986240",
    "end": "1992080"
  },
  {
    "text": "module okay so our web API is the only thing that can actually",
    "start": "1992080",
    "end": "1998679"
  },
  {
    "text": "reference those individual modules because it's our executable it has to be able to access",
    "start": "1998679",
    "end": "2004840"
  },
  {
    "text": "those however the module project ref refences cannot be other modules they",
    "start": "2004840",
    "end": "2011799"
  },
  {
    "text": "can only reference the contracts that's the only way that we're allowing them to",
    "start": "2011799",
    "end": "2017039"
  },
  {
    "text": "communicate that's their their API the interface between",
    "start": "2017039",
    "end": "2023200"
  },
  {
    "text": "them so that leads us to how are these all going to",
    "start": "2025679",
    "end": "2030960"
  },
  {
    "text": "communicate well external communication that can still come through more or less as you would on a",
    "start": "2030960",
    "end": "2038200"
  },
  {
    "text": "regular application so the web client is going to talk to the web API via rest and that's going to come",
    "start": "2038200",
    "end": "2046120"
  },
  {
    "text": "through and then the web API will rout that request through to the",
    "start": "2046120",
    "end": "2051480"
  },
  {
    "text": "relevant uh endpoints in the module and that logic will run from",
    "start": "2051480",
    "end": "2056919"
  },
  {
    "text": "there uh and we can keep doing that for all the different ones we can do that for the post it can come through uh and",
    "start": "2056919",
    "end": "2063760"
  },
  {
    "text": "it does all of those requests for it that's single executable is rooting",
    "start": "2063760",
    "end": "2068839"
  },
  {
    "text": "everything through to the relevant module okay nothing's sort of going across so that that seems pretty",
    "start": "2068839",
    "end": "2075398"
  },
  {
    "text": "standard now in our modules we can start to write our end",
    "start": "2075399",
    "end": "2082000"
  },
  {
    "text": "points now these are minimal apis I think that they lend themselves really well to this because they're really easy",
    "start": "2082000",
    "end": "2088240"
  },
  {
    "text": "to write in such a manner uh and there are quite a few",
    "start": "2088240",
    "end": "2094320"
  },
  {
    "text": "libraries remember complexity when you start bringing in libraries but it may be something you wish to do I believe",
    "start": "2094320",
    "end": "2100440"
  },
  {
    "text": "there's fast end points uh Jeff Fritz has a library that goes through looks at",
    "start": "2100440",
    "end": "2106200"
  },
  {
    "text": "your DB sets and creates all the crud for you your create read update and",
    "start": "2106200",
    "end": "2111320"
  },
  {
    "text": "delete um endpoints on your behalf so maybe you want to do that but there's a",
    "start": "2111320",
    "end": "2116480"
  },
  {
    "text": "whole load of nice features around minimal apis and you can start to sort",
    "start": "2116480",
    "end": "2122119"
  },
  {
    "text": "of collect them into your module and just have all of those in there",
    "start": "2122119",
    "end": "2129200"
  },
  {
    "text": "and then you can bring them all together in an extension of web application and",
    "start": "2129200",
    "end": "2134960"
  },
  {
    "text": "um add those there and then via your reference you can also do this with all",
    "start": "2134960",
    "end": "2140480"
  },
  {
    "text": "of your uh services that you need to instantiate because they all have to be",
    "start": "2140480",
    "end": "2145880"
  },
  {
    "text": "available for your web API because we've got that single executable and you can see how the complexity is coming in now",
    "start": "2145880",
    "end": "2152240"
  },
  {
    "text": "so we also have our um dependency injection stuff so we've created all of",
    "start": "2152240",
    "end": "2157280"
  },
  {
    "text": "these extension methods within the module and then in the executable we can",
    "start": "2157280",
    "end": "2164000"
  },
  {
    "text": "add those in so there's our everything that we need to register for dependency",
    "start": "2164000",
    "end": "2169640"
  },
  {
    "text": "injection and then we have everything that we need for our end points so your",
    "start": "2169640",
    "end": "2174839"
  },
  {
    "text": "web API is as the executable is responsible for instantiating everything",
    "start": "2174839",
    "end": "2180800"
  },
  {
    "text": "that your modules need now when you come to break one of",
    "start": "2180800",
    "end": "2185960"
  },
  {
    "text": "these off you've already got the extension modules so you can add a new executable sorry extension methods and",
    "start": "2185960",
    "end": "2193319"
  },
  {
    "text": "you can add a new executable to your module so let's say we were doing the um",
    "start": "2193319",
    "end": "2199040"
  },
  {
    "text": "order module you could add an orders web API to that and then you've already got",
    "start": "2199040",
    "end": "2206280"
  },
  {
    "text": "the extension methods to register inside that one's program so you you don't have",
    "start": "2206280",
    "end": "2212040"
  },
  {
    "text": "to do any different work you just take your your um these two extension methods",
    "start": "2212040",
    "end": "2217880"
  },
  {
    "text": "out of your web API program and put them in your new executable program bless you",
    "start": "2217880",
    "end": "2225400"
  },
  {
    "text": "all so how do we do the intermodule",
    "start": "2225680",
    "end": "2231160"
  },
  {
    "text": "communication so if we have module a and module B are we going to do this direct",
    "start": "2231400",
    "end": "2237200"
  },
  {
    "text": "call we've got some kind of public interface for them to chat to each other",
    "start": "2237200",
    "end": "2242359"
  },
  {
    "text": "uh possibly in that contracts folder or something like that that seems",
    "start": "2242359",
    "end": "2248119"
  },
  {
    "text": "kind of feasible yeah that's what you're going to end up",
    "start": "2248119",
    "end": "2253240"
  },
  {
    "text": "with do we like the look of that who wants that as their architecture who's already got that",
    "start": "2253240",
    "end": "2259960"
  },
  {
    "text": "trying to move away from that okay yeah bus it does it does so we have that this",
    "start": "2259960",
    "end": "2267640"
  },
  {
    "text": "isn't ideal if you end up a bit of like that if that's your pragmatic approach",
    "start": "2267640",
    "end": "2273119"
  },
  {
    "text": "to it that's okay but we're trying to avoid stuff that looks like this boxes",
    "start": "2273119",
    "end": "2278720"
  },
  {
    "text": "with multiple lines going everywhere this is not a fun place to be so rather than direct calls between",
    "start": "2278720",
    "end": "2287079"
  },
  {
    "text": "our modules we might use the mediator",
    "start": "2287079",
    "end": "2292400"
  },
  {
    "text": "pattern for example Okay so we've have our mediator you could use mediator from",
    "start": "2292400",
    "end": "2299560"
  },
  {
    "text": "Jimmy Bogart if you like but again that's complexity a standard mediator is quite simple to implement okay I say",
    "start": "2299560",
    "end": "2308240"
  },
  {
    "text": "simple because everything's always difficult and it depends what you're where you're coming from but it's it's",
    "start": "2308240",
    "end": "2314720"
  },
  {
    "text": "not excessive to implement and it's good to understand how a mediator works so",
    "start": "2314720",
    "end": "2321000"
  },
  {
    "text": "what this does is each individual module can talk with the mediator and then the",
    "start": "2321000",
    "end": "2327240"
  },
  {
    "text": "mediator will pass that on to the other module okay so they talk via this",
    "start": "2327240",
    "end": "2333200"
  },
  {
    "text": "mediator which is we've decoupled the modules from each other and we've just got this one sort of",
    "start": "2333200",
    "end": "2340440"
  },
  {
    "text": "layer that's uh handling all of that communication a bit like the web API",
    "start": "2340440",
    "end": "2347079"
  },
  {
    "text": "okay we can use messaging so with that we have a producer they add a message to",
    "start": "2347079",
    "end": "2354520"
  },
  {
    "text": "a message CU and then we can DQ it in a consumer so a similar approach but again",
    "start": "2354520",
    "end": "2361440"
  },
  {
    "text": "now we've added complexity but it may be necessary",
    "start": "2361440",
    "end": "2368440"
  },
  {
    "text": "so how this works is we have uh a module uh talk to the message broker and say",
    "start": "2368440",
    "end": "2374520"
  },
  {
    "text": "Hey I want you to pass this message onto um kitchen they it doesn't quite work",
    "start": "2374520",
    "end": "2380040"
  },
  {
    "text": "like that but it it's basically got a little envelope with the address anyone who's interested in this can have it and",
    "start": "2380040",
    "end": "2386640"
  },
  {
    "text": "then kitchen could go say yes that's me I'm interested in that and grab that message okay so we've again kept that",
    "start": "2386640",
    "end": "2393480"
  },
  {
    "text": "decoupling between our modules so this is what that looks like",
    "start": "2393480",
    "end": "2398880"
  },
  {
    "text": "so all of our um modules communicate via the message bus kind of looks like that",
    "start": "2398880",
    "end": "2404319"
  },
  {
    "text": "doesn't it I mean mediator message bus yeah very similar so you can start with",
    "start": "2404319",
    "end": "2412400"
  },
  {
    "text": "the mediator pattern Which is less moving Parts than having a message broker that hugely adds to the",
    "start": "2412400",
    "end": "2418520"
  },
  {
    "text": "complexity the message broker but you can keep that decoupling by having this Loosely",
    "start": "2418520",
    "end": "2425920"
  },
  {
    "text": "coupled connect ction between your modules and then when you want to start",
    "start": "2425920",
    "end": "2431400"
  },
  {
    "text": "going into a a partially distributed or a distributed system you can then switch",
    "start": "2431400",
    "end": "2437079"
  },
  {
    "text": "to your message bus much more easily than if you had all your modules talking",
    "start": "2437079",
    "end": "2442520"
  },
  {
    "text": "directly with each other okay so it's about the thoughtful process of thinking",
    "start": "2442520",
    "end": "2447960"
  },
  {
    "text": "what you might need to do in the future against what you need to do now so uh a system like this is often",
    "start": "2447960",
    "end": "2455920"
  },
  {
    "text": "called event driven or message driven uh you may have been to uh james' session",
    "start": "2455920",
    "end": "2461520"
  },
  {
    "text": "uh this morning on event driven architecture if you didn't you can catch up with it on the YouTube Stu and he",
    "start": "2461520",
    "end": "2467760"
  },
  {
    "text": "covered event driven architecture I believe that Ian Cooper covers that as well there's quite a few people doing",
    "start": "2467760",
    "end": "2474200"
  },
  {
    "text": "doing that there's lots of talks on it I suggest you go and watch them it's really interesting we'll Loosely go into",
    "start": "2474200",
    "end": "2479599"
  },
  {
    "text": "some of the aspects of it so in our modular monolith we do have",
    "start": "2479599",
    "end": "2488000"
  },
  {
    "text": "some things to note that the web API is our only executable so if we are going",
    "start": "2488000",
    "end": "2493720"
  },
  {
    "text": "through the uh message broker route everything needs to be registered in the",
    "start": "2493720",
    "end": "2499280"
  },
  {
    "text": "web API so that you're like but now we've got message broker in a modular",
    "start": "2499280",
    "end": "2504400"
  },
  {
    "text": "monolith oh what what do we need that message Brokers are highly scalable okay",
    "start": "2504400",
    "end": "2510040"
  },
  {
    "text": "they're very resilient so you're adding those things into your modular monolith",
    "start": "2510040",
    "end": "2515240"
  },
  {
    "text": "only if you need it and also so when you start going for your satellite pattern and breaking those individual modules",
    "start": "2515240",
    "end": "2521280"
  },
  {
    "text": "off you don't have to think any further about the communication it's already there okay so it's up to you whether you",
    "start": "2521280",
    "end": "2527760"
  },
  {
    "text": "think well I'm going to go straight for the message broker or if you're going to keep your complexity lower and go with",
    "start": "2527760",
    "end": "2534359"
  },
  {
    "text": "the mediator pattern okay but just knowing that you can do it is important",
    "start": "2534359",
    "end": "2539920"
  },
  {
    "text": "um we have some types of messaging um there's a lot of different communication patterns uh that's a whole talk or",
    "start": "2539920",
    "end": "2547200"
  },
  {
    "text": "Workshop in itself um but I want you to think about these two CU I'm going to",
    "start": "2547200",
    "end": "2552520"
  },
  {
    "text": "show you an example in a minute we've got thin messages uh sometimes known as events you're very similar you've got",
    "start": "2552520",
    "end": "2559240"
  },
  {
    "text": "like an ID and a status or something like that very very small all right um",
    "start": "2559240",
    "end": "2566640"
  },
  {
    "text": "it reduces the traffic and it can be very performant because it's such a small tiny bit of",
    "start": "2566640",
    "end": "2573119"
  },
  {
    "text": "data sometimes you actually need to pass along big chunks of data to your modules",
    "start": "2573119",
    "end": "2579400"
  },
  {
    "text": "because remember we've got these highly cohesive sections if you think about our",
    "start": "2579400",
    "end": "2584640"
  },
  {
    "text": "order module it owns everything to do with an order so it has all the order",
    "start": "2584640",
    "end": "2590559"
  },
  {
    "text": "data but if we have the kitchen service that kind of needs to know what's on the order doesn't it to cook it so how does",
    "start": "2590559",
    "end": "2598280"
  },
  {
    "text": "it get the order data well one approach is to send it a fat message I don't like",
    "start": "2598280",
    "end": "2605119"
  },
  {
    "text": "the naming I I think there might be other the names but I haven't found them um but this is kind of a recognized name",
    "start": "2605119",
    "end": "2611720"
  },
  {
    "text": "uh so we've got a message that has the entire model in it and then that's put",
    "start": "2611720",
    "end": "2617079"
  },
  {
    "text": "on to the message broker so that's quite a big chunk of data and that can have more overhead but you know that may be",
    "start": "2617079",
    "end": "2624680"
  },
  {
    "text": "what you need to do so if we look into our um tacky Taco system and this is",
    "start": "2624680",
    "end": "2633200"
  },
  {
    "text": "just one way of doing it and this is a little bit contrived because you might not need to do this um but just to",
    "start": "2633200",
    "end": "2641000"
  },
  {
    "text": "um past an example we create an order so we've now got an order ID and then we go",
    "start": "2641000",
    "end": "2647000"
  },
  {
    "text": "and say I'd like a payment okay now we want to send out an update saying the",
    "start": "2647000",
    "end": "2653480"
  },
  {
    "text": "order has been paid so then that's where we go and put out a message saying or an",
    "start": "2653480",
    "end": "2659400"
  },
  {
    "text": "event saying orders update paid for this order so if I show you uh down here you",
    "start": "2659400",
    "end": "2664800"
  },
  {
    "text": "can see we've got a a tag a name on the message these are rooting keys if you're",
    "start": "2664800",
    "end": "2670359"
  },
  {
    "text": "using something like rabbit um and this is saying ID of this is now",
    "start": "2670359",
    "end": "2676040"
  },
  {
    "text": "paid and if we go over to our order module now it's listening for any sort",
    "start": "2676040",
    "end": "2682160"
  },
  {
    "text": "of order updates because it needs to go and update the order record to say what",
    "start": "2682160",
    "end": "2688119"
  },
  {
    "text": "status that order is in and so it's listening for that now we also have our",
    "start": "2688119",
    "end": "2694599"
  },
  {
    "text": "kitchen module and this is our Q our top topic exchange cuz this is a rabbit mq",
    "start": "2694599",
    "end": "2699960"
  },
  {
    "text": "example and we have our orders detail request so that's our request for the",
    "start": "2699960",
    "end": "2705720"
  },
  {
    "text": "fat message it's saying I've got this order ID but no details of what I need",
    "start": "2705720",
    "end": "2711119"
  },
  {
    "text": "to cook so hey can someone send me some order information so it sends out this",
    "start": "2711119",
    "end": "2717400"
  },
  {
    "text": "request and then our order module is listening for that request and it",
    "start": "2717400",
    "end": "2725240"
  },
  {
    "text": "creates the message that has all the response and then our kitchen is",
    "start": "2725240",
    "end": "2730280"
  },
  {
    "text": "listening for that okay so there's a sort of possible system of communicating",
    "start": "2730280",
    "end": "2736200"
  },
  {
    "text": "between your modules all right so we're saying we're passing around these super lightweight events and going Yep this is",
    "start": "2736200",
    "end": "2742960"
  },
  {
    "text": "paid Yep this is processing Yep this is collected and then we've got these other",
    "start": "2742960",
    "end": "2748079"
  },
  {
    "text": "messages going around okay I need a little bit more information can you send that to me now you may choose to do that",
    "start": "2748079",
    "end": "2754240"
  },
  {
    "text": "differently you may keep it super lightweight on your message broker just sending these events around and then the kitchen maybe you set up an HTTP call to",
    "start": "2754240",
    "end": "2762640"
  },
  {
    "text": "it or something like that maybe that's the approach you want to do or you have that go and make the request via mediator because you can start to have",
    "start": "2762640",
    "end": "2769160"
  },
  {
    "text": "these things in parallel uh you got to think of good reasons why you want to do that but you may well that may be the",
    "start": "2769160",
    "end": "2775800"
  },
  {
    "text": "pragmatic approach that you still have a mediator for the kitchen to talk to the order to get the the order details and",
    "start": "2775800",
    "end": "2783720"
  },
  {
    "text": "you keep your message broker super lightweight Okay so you can sort of blend these all together uh and do what",
    "start": "2783720",
    "end": "2791160"
  },
  {
    "text": "suits you best right so we have drastically",
    "start": "2791160",
    "end": "2796720"
  },
  {
    "text": "increased the complexity of the system you need to know that we've now got a message broker we've got these strict",
    "start": "2796720",
    "end": "2803960"
  },
  {
    "text": "rules that we have to adhere to um this is much more complex uh we have to",
    "start": "2803960",
    "end": "2810240"
  },
  {
    "text": "consider error handling implementation details of message-based architecture",
    "start": "2810240",
    "end": "2815559"
  },
  {
    "text": "and now you need to go and do a workshop and another talk on like event driven architecture and messaging and all of",
    "start": "2815559",
    "end": "2821359"
  },
  {
    "text": "that okay that's the next one you need to do but we",
    "start": "2821359",
    "end": "2828040"
  },
  {
    "text": "have thank you our modules are now Loosely coupled and we're distribute",
    "start": "2828040",
    "end": "2833559"
  },
  {
    "text": "ready because we can easily convert them into satellites all right so what's the Lesser evil here so that's",
    "start": "2833559",
    "end": "2841440"
  },
  {
    "text": "where you need to keep that pragmatic approach preventing the inevitable big",
    "start": "2841440",
    "end": "2847280"
  },
  {
    "text": "ball of mud how do we stop it that's not a place",
    "start": "2847280",
    "end": "2852640"
  },
  {
    "text": "we want to be and we always start with the best intentions when we architect these systems and then we get sloppy we",
    "start": "2852640",
    "end": "2857800"
  },
  {
    "text": "get lazy there's deadlines we need this yesterday and that starts to have an effect on your",
    "start": "2857800",
    "end": "2864040"
  },
  {
    "text": "architecture so enforcing architecture you have code review automated tests",
    "start": "2864040",
    "end": "2869480"
  },
  {
    "text": "compile time style gu these are just some of the ways that you can start to enforce your architecture um so let's go through",
    "start": "2869480",
    "end": "2876200"
  },
  {
    "text": "those code review i' I'd like to class pair programming in this I think pair",
    "start": "2876200",
    "end": "2881960"
  },
  {
    "text": "programming is a great way of uh ideation and approach and getting a second set of eyes on your work um but",
    "start": "2881960",
    "end": "2889480"
  },
  {
    "text": "you shouldn't depend on uh pair programming that's putting a lot of load on someone else to also know the the",
    "start": "2889480",
    "end": "2895920"
  },
  {
    "text": "architecture of the system they need to know it they need to be on the ball maybe they had a you know binged on",
    "start": "2895920",
    "end": "2902480"
  },
  {
    "text": "Netflix night before till 4 in the morning and now they're a bit tied yeah yeah look great yeah commit off you go",
    "start": "2902480",
    "end": "2909559"
  },
  {
    "text": "um it can have a slow turnaround you're waiting on that person uh to be available to review your code and things",
    "start": "2909559",
    "end": "2915520"
  },
  {
    "text": "like that but I do like that you can challenge the status quo we don't want to be in the situation where we are",
    "start": "2915520",
    "end": "2922319"
  },
  {
    "text": "going to do it this way because that's the way we've always done it and I think pair programming is a way to have open",
    "start": "2922319",
    "end": "2928880"
  },
  {
    "text": "discussion in a small environment like one like two or three people where you can feel like it's safer to have these",
    "start": "2928880",
    "end": "2935559"
  },
  {
    "text": "discussions all right and then you can bubble those up now compile time we do this through",
    "start": "2935559",
    "end": "2943799"
  },
  {
    "text": "um encapsulating uh by having things private by default or internal um and I",
    "start": "2943799",
    "end": "2951359"
  },
  {
    "text": "I got in a a bit of a an argument last year I think it was where someone said",
    "start": "2951359",
    "end": "2956960"
  },
  {
    "text": "don't bother making anything private or internal because you can just use",
    "start": "2956960",
    "end": "2962799"
  },
  {
    "text": "reflection okay all right so when I'm a developer and I'm using this other thing and I'd",
    "start": "2964160",
    "end": "2971040"
  },
  {
    "text": "like some feedback whether I should be using this public thing I yes I could go",
    "start": "2971040",
    "end": "2977720"
  },
  {
    "text": "and break the rules and get it via reflection or the unsafe tag thingy that came in Neta but at least I know I",
    "start": "2977720",
    "end": "2985400"
  },
  {
    "text": "shouldn't be doing that okay so go and use the minimum required access for your",
    "start": "2985400",
    "end": "2992760"
  },
  {
    "text": "your application for your code I mean the a lot of the code edit says default to private leave them defaulted to",
    "start": "2992760",
    "end": "3000079"
  },
  {
    "text": "private until you need to open up that access so if you remember this our um orders is completely",
    "start": "3000079",
    "end": "3008440"
  },
  {
    "text": "internal or private order tests has um is exposed we we put a tag in the Cs Pro",
    "start": "3008440",
    "end": "3016559"
  },
  {
    "text": "of order saying yeah you know what tests can view our internals okay you can put a tag like that so you can have your",
    "start": "3016559",
    "end": "3022359"
  },
  {
    "text": "test project looking at your internal code and then the contract is public because we want to allow stuff to share",
    "start": "3022359",
    "end": "3029400"
  },
  {
    "text": "that so uh we encapsulate that as you can see we've got our internal class and",
    "start": "3029400",
    "end": "3034599"
  },
  {
    "text": "our contracts are the way that our other modules know how to talk to each other",
    "start": "3034599",
    "end": "3042480"
  },
  {
    "text": "uh and that can look like this so back to tacky",
    "start": "3042480",
    "end": "3047880"
  },
  {
    "text": "tacos we have our dto data transfer objects in our contracts so we know what",
    "start": "3048480",
    "end": "3055520"
  },
  {
    "text": "we're sending them and what we're we're decoding to so we create a message publish that to the broker the kitchen",
    "start": "3055520",
    "end": "3061680"
  },
  {
    "text": "module is going to pluck that off and it's like okay because I have access to",
    "start": "3061680",
    "end": "3067160"
  },
  {
    "text": "the other um contracts of that module I know what",
    "start": "3067160",
    "end": "3072760"
  },
  {
    "text": "this is and I can use it this is your bounded context that's your interface between things all right so that's how",
    "start": "3072760",
    "end": "3078640"
  },
  {
    "text": "we're starting to um enable the communication language between our",
    "start": "3078640",
    "end": "3084440"
  },
  {
    "text": "modules so uh compile time immediate feedback uh the drawbacks we need our",
    "start": "3084440",
    "end": "3090240"
  },
  {
    "text": "code to conform to the architecture so you all have to write it that way uh it",
    "start": "3090240",
    "end": "3096240"
  },
  {
    "text": "as I said it can be circumnavigated it's undocumented all right so new people coming in they're like H what do I do",
    "start": "3096240",
    "end": "3103040"
  },
  {
    "text": "what does this mean we can have automated tests got static code analysis",
    "start": "3103040",
    "end": "3108480"
  },
  {
    "text": "tools and architecture test so if we look at the first one automated yay",
    "start": "3108480",
    "end": "3113880"
  },
  {
    "text": "self-documenting often they can do report uh they are often integrated into your",
    "start": "3113880",
    "end": "3120319"
  },
  {
    "text": "IDE you've already got them it's great use them now uh they can also highlight",
    "start": "3120319",
    "end": "3127520"
  },
  {
    "text": "um vulnerabilities any anti patterns um and if you sort of set them up uh you",
    "start": "3127520",
    "end": "3134280"
  },
  {
    "text": "can put in your standards and best practices in that you can configure them",
    "start": "3134280",
    "end": "3139520"
  },
  {
    "text": "how you want and then you can share that amongst your team so you're all on the same page architecture tests Al automated",
    "start": "3139520",
    "end": "3147319"
  },
  {
    "text": "self-documenting as much as any type of testing is self-documenting fast",
    "start": "3147319",
    "end": "3152440"
  },
  {
    "text": "feedback you get a green tick or a Red Cross uh and they have all of the",
    "start": "3152440",
    "end": "3157880"
  },
  {
    "text": "benefits of like unit tests but they're just few architecture they do take time",
    "start": "3157880",
    "end": "3163040"
  },
  {
    "text": "and discipline to implement and you do need to have good code coverage but that goes for any tests no point just having",
    "start": "3163040",
    "end": "3169839"
  },
  {
    "text": "a few you need to build that code coverage so this is an example of an",
    "start": "3169839",
    "end": "3175839"
  },
  {
    "text": "architecture test uh so you can start to see you go like well I've got stuff in this",
    "start": "3175839",
    "end": "3181559"
  },
  {
    "text": "assembly shouldn't have any dependencies on stuff in this um namespace or this",
    "start": "3181559",
    "end": "3187280"
  },
  {
    "text": "assembly so you can start being very explicit so if people start referencing something that they shouldn't your test",
    "start": "3187280",
    "end": "3193720"
  },
  {
    "text": "is going to fail like no you're not supposed to be able to access this or",
    "start": "3193720",
    "end": "3199079"
  },
  {
    "text": "have this name space in this namespace or whatever okay so you can start to go",
    "start": "3199079",
    "end": "3204359"
  },
  {
    "text": "through them uh I have a YouTube video that goes through two libraries and sort of does a whole demo so if you're more",
    "start": "3204359",
    "end": "3210640"
  },
  {
    "text": "interested in that you can check out uh that video and then we have a style guide now",
    "start": "3210640",
    "end": "3216440"
  },
  {
    "text": "this is documented it's a great resource for everyone to go look at and remind yourself how you should be writing your",
    "start": "3216440",
    "end": "3223720"
  },
  {
    "text": "code this is the uh C style guide at Google um and you can start to you can",
    "start": "3223720",
    "end": "3230040"
  },
  {
    "text": "build on this um you can see it goes in file names organization loads of stuff",
    "start": "3230040",
    "end": "3236280"
  },
  {
    "text": "go go look at that you can have a play and see oh yeah we can adopt that we can use that uh and Carry On from",
    "start": "3236280",
    "end": "3244160"
  },
  {
    "text": "there than you to summarize the modular monolith I nearly got the words that",
    "start": "3244160",
    "end": "3249839"
  },
  {
    "text": "this is where modularity is important so you want to be able to encapsulate things you want to be able to go and",
    "start": "3249839",
    "end": "3257200"
  },
  {
    "text": "distribute things at a later date but the overhead and complexity put that in",
    "start": "3257200",
    "end": "3262520"
  },
  {
    "text": "there of deploying microservices is not justified I can not stress this enough",
    "start": "3262520",
    "end": "3267640"
  },
  {
    "text": "if you do not need to go into a distributed architecture do not go into",
    "start": "3267640",
    "end": "3273119"
  },
  {
    "text": "a distributed architecture remember those CTO on the golf course say no or",
    "start": "3273119",
    "end": "3278520"
  },
  {
    "text": "try to at least argue made a lie so you just need to think well we",
    "start": "3278520",
    "end": "3287280"
  },
  {
    "text": "may want to go this you think yes we are expecting huge growth so let's design",
    "start": "3287280",
    "end": "3292799"
  },
  {
    "text": "our our software to support that to have minimal technical debt that we can do",
    "start": "3292799",
    "end": "3298119"
  },
  {
    "text": "this easily at a future date if and when we need to okay so the key things to",
    "start": "3298119",
    "end": "3304240"
  },
  {
    "text": "remember be pragmatic not dogmatic I think I drummed that in enough okay that was like a favorite saying of it just be",
    "start": "3304240",
    "end": "3312599"
  },
  {
    "text": "pragmatic uh and be aware of the technical debt because every decision",
    "start": "3312599",
    "end": "3317680"
  },
  {
    "text": "you make may have a a sort of consequence down the line it may be the",
    "start": "3317680",
    "end": "3324079"
  },
  {
    "text": "most pragmatic approach now but but know that that may cause knock and effects",
    "start": "3324079",
    "end": "3329839"
  },
  {
    "text": "down the line and that high cohesion lease coupling so those are the sort of things that you should take away to",
    "start": "3329839",
    "end": "3336160"
  },
  {
    "text": "whatever architecture you're doing whatever you're doing remember these things they don't just apply to this",
    "start": "3336160",
    "end": "3341880"
  },
  {
    "text": "think about these as you're writing your code always now for the question you want to",
    "start": "3341880",
    "end": "3347880"
  },
  {
    "text": "ask even if you didn't know you want to ask it can I use NP in a modular monolith yes you can not right now cuz",
    "start": "3347880",
    "end": "3356319"
  },
  {
    "text": "it doesn't support half the things as i' I've leared recently and there still s",
    "start": "3356319",
    "end": "3361640"
  },
  {
    "text": "preview too but yes you can you can put your modular monolith in there and then",
    "start": "3361640",
    "end": "3367400"
  },
  {
    "text": "all of the things if you're starting to have multiple uh Services you've got caching your database engines uh your",
    "start": "3367400",
    "end": "3375720"
  },
  {
    "text": "message Brokers it can start them all up for you okay you probably have a few executables you've got your web API and",
    "start": "3375720",
    "end": "3382319"
  },
  {
    "text": "then your like web clients and maybe your satellites now you can bring them all in there and start to to build them",
    "start": "3382319",
    "end": "3388640"
  },
  {
    "text": "up there okay so yes I do think it's quite well suited to that um so yeah",
    "start": "3388640",
    "end": "3394400"
  },
  {
    "text": "give it a go uh that's my YouTube uh you can go and find it Lea codes it uh and I",
    "start": "3394400",
    "end": "3401160"
  },
  {
    "text": "say I've got um an architecture uh video on there for architecture testing and uh",
    "start": "3401160",
    "end": "3407400"
  },
  {
    "text": "with that here's one final weird AI generated thing it made me look like some Demon that's going to come and you",
    "start": "3407400",
    "end": "3414440"
  },
  {
    "text": "know like I said hunt you down if there's a red thing over there um thank you so much uh for coming and joining me",
    "start": "3414440",
    "end": "3422880"
  },
  {
    "text": "uh and I I hope you have a great rest of your",
    "start": "3422880",
    "end": "3428090"
  },
  {
    "text": "[Applause]",
    "start": "3428090",
    "end": "3436389"
  },
  {
    "text": "conference",
    "start": "3443000",
    "end": "3446000"
  }
]