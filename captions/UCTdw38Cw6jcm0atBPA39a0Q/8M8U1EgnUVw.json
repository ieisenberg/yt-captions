[
  {
    "text": "so everyone here's uh me talking about the Octo project",
    "start": "7379",
    "end": "12480"
  },
  {
    "text": "and um this is going to be a bit of a Hands-On well not my hands aren't actually not",
    "start": "12480",
    "end": "19260"
  },
  {
    "text": "yours but there's going to be a live demo because what I want to do is to show you not only talk about what yocto",
    "start": "19260",
    "end": "26939"
  },
  {
    "text": "is I want to show you how it works and I want to persuade you that yocto is not",
    "start": "26939",
    "end": "33000"
  },
  {
    "text": "at all scary like everybody said it is so",
    "start": "33000",
    "end": "38460"
  },
  {
    "text": "let's see how this goes let's get back right so these are the",
    "start": "38460",
    "end": "44520"
  },
  {
    "text": "topics um so I'm going to start off with just a general chat about yokto and embedded",
    "start": "44520",
    "end": "50820"
  },
  {
    "text": "and why we need it but the main thing I want to talk about is how do we use the Octo to do",
    "start": "50820",
    "end": "57120"
  },
  {
    "text": "something useful and I'm going to build some images and run them on my laptop using the qemu",
    "start": "57120",
    "end": "64860"
  },
  {
    "text": "emulator and just to prove that I'm doing something slightly unusual here I'm",
    "start": "64860",
    "end": "70439"
  },
  {
    "text": "going to be using an arm-based emulator so we're going to be running arm 32-bit code",
    "start": "70439",
    "end": "77479"
  },
  {
    "text": "let's talk a little bit though about embedded and what this is all about",
    "start": "79439",
    "end": "85460"
  },
  {
    "text": "so these are the sorts of Hardware that we're going to be running Linux on and in particular embedded Linux",
    "start": "86460",
    "end": "94200"
  },
  {
    "text": "so we have first of all what I call commodity Hardware so this is stuff that you buy and you",
    "start": "94200",
    "end": "101220"
  },
  {
    "text": "kind of plug and play um the most obvious thing here would be a PC",
    "start": "101220",
    "end": "106680"
  },
  {
    "text": "all PCS are roughly speaking the same",
    "start": "106680",
    "end": "111500"
  },
  {
    "text": "um so their x86 based um they have fairly powerful processors",
    "start": "111720",
    "end": "118439"
  },
  {
    "text": "but they're quite expensive and quite power hungry so they're not suitable for",
    "start": "118439",
    "end": "123720"
  },
  {
    "text": "every job um we have things like Raspberry Pi",
    "start": "123720",
    "end": "130800"
  },
  {
    "text": "so Raspberry Pi is also a commodity Hardware you can buy it quite easily well if you used to actually they're out of stock at the moment",
    "start": "130800",
    "end": "137340"
  },
  {
    "text": "um but it's pretty much Plug and Play you plug it in plug some keyboard and whatever in and you've got a working",
    "start": "137340",
    "end": "142379"
  },
  {
    "text": "system and you can use Raspberry Pi's for embedded use",
    "start": "142379",
    "end": "147540"
  },
  {
    "text": "hopefully not the pie itself although I do know people who do use off-the-shelf Raspberry Pi's for inverted but they do",
    "start": "147540",
    "end": "154800"
  },
  {
    "text": "a thing called the compute module the CM stands for compute module that's essentially an industrial strength",
    "start": "154800",
    "end": "161160"
  },
  {
    "text": "Raspberry Pi so in these cases you can use standard",
    "start": "161160",
    "end": "167099"
  },
  {
    "text": "distros and it should pretty much work then we have bespoke Hardware so by",
    "start": "167099",
    "end": "174599"
  },
  {
    "text": "bespoke I mean Custom Design boards and actually this is the majority of what embedded really is",
    "start": "174599",
    "end": "180900"
  },
  {
    "text": "so why do we go to the trouble of Designing our own computer board when there are computers readily available",
    "start": "180900",
    "end": "187800"
  },
  {
    "text": "and really it becomes if you have large enough volumes it's actually cheaper to",
    "start": "187800",
    "end": "193860"
  },
  {
    "text": "manufacture your own boards and customize them to exactly your own requirements rather than buying off the",
    "start": "193860",
    "end": "199860"
  },
  {
    "text": "shelf boards so to a certain extent it's a question of volume and economics",
    "start": "199860",
    "end": "206780"
  },
  {
    "text": "uh these things for reasons of course mostly um are tend to be based on arm-based systems",
    "start": "207000",
    "end": "214140"
  },
  {
    "text": "um although risk five is a another architecture that's been around for a while but it's really catching on over",
    "start": "214140",
    "end": "220860"
  },
  {
    "text": "the last two three years so I expect us when I do this presentation in a couple of years time",
    "start": "220860",
    "end": "226680"
  },
  {
    "text": "I'll be putting risk five there up there alongside arm",
    "start": "226680",
    "end": "231799"
  },
  {
    "text": "and then there's something in the middle which I call Semi bespoke so this is sbc's and soms so an SBC is a",
    "start": "232680",
    "end": "241560"
  },
  {
    "text": "single board computer in other words it's basically everything you need on a board",
    "start": "241560",
    "end": "247620"
  },
  {
    "text": "and you plug in some peripherals and Away you go and in that sense a Raspberry Pi is a",
    "start": "247620",
    "end": "252959"
  },
  {
    "text": "single board computer and there's also soms system on module",
    "start": "252959",
    "end": "258600"
  },
  {
    "text": "so the system on module you have a little module which contains the processor and all the all the expensive",
    "start": "258600",
    "end": "265680"
  },
  {
    "text": "parts and then it has a connector at the bottom and you plug it into a baseboard and that baseboard then has your Custom",
    "start": "265680",
    "end": "272580"
  },
  {
    "text": "Electronics and the advantage here is that the Som",
    "start": "272580",
    "end": "278040"
  },
  {
    "text": "that has the expensive multi-layer board so 10 layers 14 layers",
    "start": "278040",
    "end": "285600"
  },
  {
    "text": "or whatever they're quite expensive and quite tricky to manufacture and then the baseboard has the cheaper",
    "start": "285600",
    "end": "291840"
  },
  {
    "text": "Electronics running at lower frequencies and doing the custom stuff you need so it's a halfway house it's great again",
    "start": "291840",
    "end": "298500"
  },
  {
    "text": "for fairly low volume systems where you don't have the in-house resource to do a CPU design",
    "start": "298500",
    "end": "306020"
  },
  {
    "text": "so um yeah",
    "start": "307919",
    "end": "313320"
  },
  {
    "text": "so PCS will be great um but not really flexible enough to expand save two power hungry for the",
    "start": "313320",
    "end": "320100"
  },
  {
    "text": "majority of applications so we end up using arm socs SOC as a",
    "start": "320100",
    "end": "326039"
  },
  {
    "text": "system on chip so essentially that's a CPU and lots of peripherals integrated onto the same package",
    "start": "326039",
    "end": "332759"
  },
  {
    "text": "so the peripherals will include typically a GPU USB controllers Ram controllers flash controllers I squared",
    "start": "332759",
    "end": "339960"
  },
  {
    "text": "C loads and loads of different interfaces just ready to go",
    "start": "339960",
    "end": "345320"
  },
  {
    "text": "so you want to run Linux on this thing obviously um",
    "start": "349380",
    "end": "355020"
  },
  {
    "text": "so what are you going to do if it's a commodity system then probably somebody's already implemented something",
    "start": "355020",
    "end": "361560"
  },
  {
    "text": "like Debian to run on their or Ubuntu or something so it's quite common with commodity",
    "start": "361560",
    "end": "367919"
  },
  {
    "text": "Hardware like x86 and Raspberry Pi to use just a standard distro",
    "start": "367919",
    "end": "375199"
  },
  {
    "text": "but if you're not using that then you've got to make your own distro somehow so you could actually sit down and Port",
    "start": "375960",
    "end": "382440"
  },
  {
    "text": "Debbie into your Hardware turns out there's a non-trivial exercise that most people wouldn't want to do",
    "start": "382440",
    "end": "389340"
  },
  {
    "text": "so instead we have these um systems like yocto which will allow us",
    "start": "389340",
    "end": "396539"
  },
  {
    "text": "to generate a distro to our own requirements",
    "start": "396539",
    "end": "402020"
  },
  {
    "text": "which brings me on to the Octo project so yokto project",
    "start": "403080",
    "end": "410639"
  },
  {
    "text": "so this is basically a set of tools that will allow you to generate a Linux",
    "start": "410639",
    "end": "416340"
  },
  {
    "text": "distro so if you go look at the Octo website that it says somewhere on the front page",
    "start": "416340",
    "end": "421880"
  },
  {
    "text": "yocto is not a distro but yocto allows you to create your own distro",
    "start": "421880",
    "end": "428280"
  },
  {
    "text": "so with the Octo you feed it some rules and specifications of what you want to",
    "start": "428280",
    "end": "433740"
  },
  {
    "text": "build and then you set it building and then you come back three or four hours later hopefully it's done what you",
    "start": "433740",
    "end": "440819"
  },
  {
    "text": "had to do and you now have some images which you can just flash into your system or put into an SD card and boot",
    "start": "440819",
    "end": "446699"
  },
  {
    "text": "your your target device from",
    "start": "446699",
    "end": "450259"
  },
  {
    "text": "um so yorktail is used in many many things",
    "start": "452520",
    "end": "459419"
  },
  {
    "text": "you use the Octo every day even though you don't realize it",
    "start": "459419",
    "end": "464699"
  },
  {
    "text": "so just as an example these actually are also open source projects which in turn",
    "start": "464699",
    "end": "469979"
  },
  {
    "text": "are based on yocto I put this up there up here because well partly because there's nice logos I",
    "start": "469979",
    "end": "476460"
  },
  {
    "text": "wanted to use um so web OS webos is used for lots of things in",
    "start": "476460",
    "end": "482340"
  },
  {
    "text": "particular it's used by LG for their Smart TVs so if you have an LG TV it's",
    "start": "482340",
    "end": "487800"
  },
  {
    "text": "running yocto Automotive grade Linux",
    "start": "487800",
    "end": "492979"
  },
  {
    "text": "that also is based on the Octo it's used in the head units of vehicles especially",
    "start": "492979",
    "end": "499139"
  },
  {
    "text": "the Japanese manufacturers particularly like this so if you have a Toyota you are running yocto in Your Entertainment",
    "start": "499139",
    "end": "504900"
  },
  {
    "text": "System and the one you can't see because of the",
    "start": "504900",
    "end": "510599"
  },
  {
    "text": "lighting is called oniro so Nero is a fairly new eclipse-based",
    "start": "510599",
    "end": "516120"
  },
  {
    "text": "project um and it's it's only towards this iot Internet of Things idea",
    "start": "516120",
    "end": "523260"
  },
  {
    "text": "and it has integration with Zephyr which somebody was speaking about yesterday and also with the Octo project the yocto",
    "start": "523260",
    "end": "530640"
  },
  {
    "text": "part of it typically is used as a Gateway and the Zephyr part is typically used for the for the remote sensors",
    "start": "530640",
    "end": "537980"
  },
  {
    "text": "and oh just back to that um yeah so how many devices are running yocto in the world today well the answer",
    "start": "540300",
    "end": "546959"
  },
  {
    "text": "is nobody knows because nobody actually counts um but a rough estimate I would say 100",
    "start": "546959",
    "end": "552360"
  },
  {
    "text": "million plus um it's you know there are more things running yocto uh than",
    "start": "552360",
    "end": "559740"
  },
  {
    "text": "um okay I wish I said that now I was trying to think of an analogy that's roughly a hundred thousand but I can't think of",
    "start": "559740",
    "end": "564959"
  },
  {
    "text": "one imagine something a little history so actually knowing a",
    "start": "564959",
    "end": "572820"
  },
  {
    "text": "little of the history does help in this case because it helps explain some of the terminology which the names of",
    "start": "572820",
    "end": "579480"
  },
  {
    "text": "things that kind of got mangled a little bit over the last few decades",
    "start": "579480",
    "end": "584240"
  },
  {
    "text": "so yokto started off actually as a project called open embedded 2003.",
    "start": "584700",
    "end": "591120"
  },
  {
    "text": "now for those of you who remember 2003 that is the time at which it became",
    "start": "591120",
    "end": "596459"
  },
  {
    "text": "possible to run Linux on mobile devices so 2003 we had the Compaq ipac we had",
    "start": "596459",
    "end": "604740"
  },
  {
    "text": "the sharp zorus and we had the Sim pad by whoever made the Sim pad I don't",
    "start": "604740",
    "end": "610680"
  },
  {
    "text": "remember so these are all handheld devices arm processors obviously arm socs",
    "start": "610680",
    "end": "618540"
  },
  {
    "text": "um I think they are typically four or eight megabytes of RAM and a few megabytes of flash memory which at that",
    "start": "618540",
    "end": "624420"
  },
  {
    "text": "time was ample to run Linux so there's a whole bunch of people hacking around with their stuff and",
    "start": "624420",
    "end": "631320"
  },
  {
    "text": "producing Linux distros to run on these and they came together 2003 pulled all",
    "start": "631320",
    "end": "636540"
  },
  {
    "text": "the resources and they produced open embedded now it turns out many of the problems",
    "start": "636540",
    "end": "642660"
  },
  {
    "text": "that they had solved were also relevant to more traditional embedded devices so",
    "start": "642660",
    "end": "647940"
  },
  {
    "text": "not just mobile but just anything that has constrained resources",
    "start": "647940",
    "end": "653660"
  },
  {
    "text": "next interesting thing is um around about the same time there was a British company called opened hand",
    "start": "654540",
    "end": "661860"
  },
  {
    "text": "and they had a contract amongst others with Nokia to help with the software for",
    "start": "661860",
    "end": "669480"
  },
  {
    "text": "the Nokia n770 webpad which if you've ever had one of these things it's a really nice",
    "start": "669480",
    "end": "674640"
  },
  {
    "text": "little devices and it's an iPad before iPads existed",
    "start": "674640",
    "end": "679519"
  },
  {
    "text": "the guy who was working on that is a guy called Richard Purdy and um one of the things he did is he",
    "start": "680459",
    "end": "687720"
  },
  {
    "text": "created a fork of open embedded and he started doing QA and kind of managing it a little bit because opening Betty was",
    "start": "687720",
    "end": "694440"
  },
  {
    "text": "kind of chaotic at that time so he produced a stable version of open embedded and he called it Pocky Linux",
    "start": "694440",
    "end": "702720"
  },
  {
    "text": "and a lot of people actually myself included switched to using poki Linux because it was guaranteed to work from",
    "start": "702720",
    "end": "709320"
  },
  {
    "text": "day to day whereas Oakland Betty typically didn't",
    "start": "709320",
    "end": "713240"
  },
  {
    "text": "um somewhere along the line opened hand got bought out by Intel but for some of those technology they",
    "start": "715440",
    "end": "721200"
  },
  {
    "text": "they had but Intel weren't really interested in poki Linux so 2010 they came together with Linux",
    "start": "721200",
    "end": "729000"
  },
  {
    "text": "foundation and they spun out what used to be called Pocky Linux and they called it yocto project",
    "start": "729000",
    "end": "735959"
  },
  {
    "text": "so the key thing to remember here we have three different names basically for the same thing we have open embedded we",
    "start": "735959",
    "end": "741959"
  },
  {
    "text": "have we have Pocky and we have the Octo and those names get rather confused",
    "start": "741959",
    "end": "747180"
  },
  {
    "text": "because even the people who work in those areas use them somewhat interchangeably",
    "start": "747180",
    "end": "754639"
  },
  {
    "text": "I mean it's Pocky Pocky is a very tasty a breadstick and chocolate",
    "start": "755160",
    "end": "762060"
  },
  {
    "text": "based snack popular in Japan and other places and Richard tells me that it is",
    "start": "762060",
    "end": "767760"
  },
  {
    "text": "definitely pronounced Pocky not Pokey a lot of people pronounce it Pokey doesn't really matter but the official",
    "start": "767760",
    "end": "775200"
  },
  {
    "text": "pronouncement is Pocky",
    "start": "775200",
    "end": "778760"
  },
  {
    "text": "so now we have the Octo project it has a stable release cycle now it",
    "start": "782040",
    "end": "789899"
  },
  {
    "text": "releases twice per year on a six month cycle in roughly speaking uh April and",
    "start": "789899",
    "end": "795899"
  },
  {
    "text": "October although sometimes there are maybe a month late so these are the most recent versions",
    "start": "795899",
    "end": "802380"
  },
  {
    "text": "there are more but they wouldn't fit on the slide these are the most recent versions now over here on the right hand",
    "start": "802380",
    "end": "809399"
  },
  {
    "text": "side you can see the status so each version is maintained by the",
    "start": "809399",
    "end": "816240"
  },
  {
    "text": "Developers for 12 months and then it's end of life so these are all marked EOL",
    "start": "816240",
    "end": "823079"
  },
  {
    "text": "but every now and again they choose a version that will have long-term support LTS",
    "start": "823079",
    "end": "829139"
  },
  {
    "text": "and they are supported for 24 months still not a huge length of time but hey",
    "start": "829139",
    "end": "835560"
  },
  {
    "text": "is an improvement",
    "start": "835560",
    "end": "838339"
  },
  {
    "text": "okay so so that's a little bit of the background on yocto and white exists and",
    "start": "841620",
    "end": "848040"
  },
  {
    "text": "a little bit about how it's managed so let's start off then by getting a",
    "start": "848040",
    "end": "855300"
  },
  {
    "text": "copy of yocto and doing something with it so yokto you can get um by doing a git",
    "start": "855300",
    "end": "863100"
  },
  {
    "text": "clone as shown here there are also tar balls you can download but it's simpler to use a git Repository",
    "start": "863100",
    "end": "869700"
  },
  {
    "text": "and with a minus B option you specify the version notice the versions are given using code names such as kirkstone",
    "start": "869700",
    "end": "877560"
  },
  {
    "text": "not the version numbers I find this kind of annoying because it means I've got to remember both the version numbers and",
    "start": "877560",
    "end": "883920"
  },
  {
    "text": "the code names and remember which one is which and yeah so I do",
    "start": "883920",
    "end": "890220"
  },
  {
    "text": "I'll get clone minus B Kirk Stone which is the latest version and I get about 250 megabytes uh in the",
    "start": "890220",
    "end": "898440"
  },
  {
    "text": "git Repository of which 55 megabytes is actual code and",
    "start": "898440",
    "end": "905519"
  },
  {
    "text": "the rest is just the git history so yomto is actually quite small that's because it doesn't contain any",
    "start": "905519",
    "end": "911699"
  },
  {
    "text": "source code it just contains the metadata the rules on how to build source code",
    "start": "911699",
    "end": "918620"
  },
  {
    "text": "you have to do a little bit of mucking around to get the environment set up so you have to initialize your shell by",
    "start": "921180",
    "end": "927899"
  },
  {
    "text": "sourcing this script in order to set up various variables and other things that are needed by the Octo",
    "start": "927899",
    "end": "934260"
  },
  {
    "text": "build system so you begin by doing source uh OE init build end",
    "start": "934260",
    "end": "941880"
  },
  {
    "text": "and optionally where it says build there you can give the name of a directory",
    "start": "941880",
    "end": "947040"
  },
  {
    "text": "where you want to create your project if you don't do anything it defaults to build",
    "start": "947040",
    "end": "954019"
  },
  {
    "text": "and then it will create a directory by default called build it will CD into that directory so that's",
    "start": "954959",
    "end": "961860"
  },
  {
    "text": "now your current directory and it will create um a couple of configuration files which",
    "start": "961860",
    "end": "968040"
  },
  {
    "text": "you can edit to set up exactly what you want",
    "start": "968040",
    "end": "973040"
  },
  {
    "text": "one thing that people often forget is you have to do this every time you come to yocto with a new shell",
    "start": "974639",
    "end": "982320"
  },
  {
    "text": "uh so yeah you always need to Source um OE net build and the environment for",
    "start": "982320",
    "end": "989579"
  },
  {
    "text": "every new shell and what do you get",
    "start": "989579",
    "end": "996779"
  },
  {
    "text": "um so this is the kind of layout you're going to end up with so here is the top level so if you just do the get clone",
    "start": "996779",
    "end": "1003259"
  },
  {
    "text": "without giving any directory name it's going to end up being called Pro key again you can see the conversion the",
    "start": "1003259",
    "end": "1008839"
  },
  {
    "text": "confusion here really should be called yocto but it's called Pocky um",
    "start": "1008839",
    "end": "1013940"
  },
  {
    "text": "then there's the build directory we just created these are the configuration files which I'm going to look at in a",
    "start": "1013940",
    "end": "1019399"
  },
  {
    "text": "moment or two and then here we have uh in this case three directories called meta something",
    "start": "1019399",
    "end": "1026178"
  },
  {
    "text": "so these are meta layers um and I'll describe what the layers are about in a few slides of time",
    "start": "1026179",
    "end": "1034780"
  },
  {
    "text": "so in your conf directory you have bblayers.com for local.conf",
    "start": "1038120",
    "end": "1045980"
  },
  {
    "text": "so bblayers.com is just a list of all of those meta layers",
    "start": "1045980",
    "end": "1051260"
  },
  {
    "text": "and you'll all start off with the three we just looked at and then local.com is additional",
    "start": "1051260",
    "end": "1057020"
  },
  {
    "text": "configuration so here we're going to set the machine and the distro and various other things",
    "start": "1057020",
    "end": "1064000"
  },
  {
    "text": "um here's a diagram which is meant to show how this all links together so here's maybe layers.com file that is",
    "start": "1066500",
    "end": "1074299"
  },
  {
    "text": "literally just a list of directories which contain uh recipes",
    "start": "1074299",
    "end": "1079520"
  },
  {
    "text": "So Meta and metapocky are examples of that",
    "start": "1079520",
    "end": "1085220"
  },
  {
    "text": "and then Within These meta layers we just have um a",
    "start": "1085220",
    "end": "1092000"
  },
  {
    "text": "a Shoal of BB files so BB stands for bitbag which is the build tool and these are bit bait",
    "start": "1092000",
    "end": "1099020"
  },
  {
    "text": "recipes so each one of those BB files is going to create some kind of buildable",
    "start": "1099020",
    "end": "1104960"
  },
  {
    "text": "artifact in this case here it's going to build g-lib C the C library for me",
    "start": "1104960",
    "end": "1111639"
  },
  {
    "text": "so BB layers is pointing to my uh my layers and then local.conf that has that",
    "start": "1114919",
    "end": "1122419"
  },
  {
    "text": "is the local configuration which includes things like the machine and the distro that I want to base my my build",
    "start": "1122419",
    "end": "1128419"
  },
  {
    "text": "on so this brings us then to",
    "start": "1128419",
    "end": "1135799"
  },
  {
    "text": "three Central Concepts to yocto the distro the machine and the image",
    "start": "1135799",
    "end": "1145299"
  },
  {
    "text": "and these are kind of three variables you can change them independently with each other which is quite neat",
    "start": "1145539",
    "end": "1151760"
  },
  {
    "text": "so let's just go through them so the distro is how do I want to put my system together",
    "start": "1151760",
    "end": "1157220"
  },
  {
    "text": "so the distro has is a configuration which sets some policy decisions so",
    "start": "1157220",
    "end": "1163100"
  },
  {
    "text": "it'll be things like do I want to use the latest version of every library or do I want to be more conservative and",
    "start": "1163100",
    "end": "1168860"
  },
  {
    "text": "used all the more tested versions um",
    "start": "1168860",
    "end": "1173960"
  },
  {
    "text": "which init manager do you want to use do I want to use system D or system five init or some other init diben",
    "start": "1173960",
    "end": "1180799"
  },
  {
    "text": "yeah policy decisions of that sort which then apply to everything you build",
    "start": "1180799",
    "end": "1187000"
  },
  {
    "text": "the time you don't need to fiddle with the distro so at least for beginners you can ignore distro and just leave it as",
    "start": "1187400",
    "end": "1193520"
  },
  {
    "text": "the default which is called Pocky then machine",
    "start": "1193520",
    "end": "1199340"
  },
  {
    "text": "this is a pointer to the board you're going to build for",
    "start": "1199340",
    "end": "1204799"
  },
  {
    "text": "so machine is going to be Raspberry Pi or beaglebone or any other of the machines that are",
    "start": "1204799",
    "end": "1210380"
  },
  {
    "text": "supported so that's the hardware and then image image is really just a",
    "start": "1210380",
    "end": "1217520"
  },
  {
    "text": "list of packages that I want to build so it's the list of all the things I",
    "start": "1217520",
    "end": "1222679"
  },
  {
    "text": "want installed into my um into my image and therefore will be available to me at runtime",
    "start": "1222679",
    "end": "1232059"
  },
  {
    "text": "so just to quickly clarify that then distro you said in your local dot conf",
    "start": "1234200",
    "end": "1239299"
  },
  {
    "text": "with a term like this distro Pocky um I'm not going to go into the question",
    "start": "1239299",
    "end": "1245539"
  },
  {
    "text": "mark equals bit one of the interesting things about bitbake is it has 10 different ways of",
    "start": "1245539",
    "end": "1252200"
  },
  {
    "text": "assigning variables this is one of them I'm really not going to go into that because",
    "start": "1252200",
    "end": "1257360"
  },
  {
    "text": "we don't have time",
    "start": "1257360",
    "end": "1260200"
  },
  {
    "text": "then for machine you select the machine you want to build for so machine beagle bone yocto in this",
    "start": "1263960",
    "end": "1270380"
  },
  {
    "text": "case this actually is referring to a file so that is actually referring to a",
    "start": "1270380",
    "end": "1277539"
  },
  {
    "text": "configuration file be called beaglebone yocto which in this case would be in",
    "start": "1277539",
    "end": "1282799"
  },
  {
    "text": "this meta layer and actually the same with as I meant to say this with um uh with distro the name",
    "start": "1282799",
    "end": "1290000"
  },
  {
    "text": "of the distro is just actually a configuration file so somewhere in a distro directory there is a pocky.conf",
    "start": "1290000",
    "end": "1298299"
  },
  {
    "text": "and then we come to the tool that does the building which is called bitbake",
    "start": "1300760",
    "end": "1307240"
  },
  {
    "text": "um so bitbake processes recipes and also",
    "start": "1307520",
    "end": "1312919"
  },
  {
    "text": "the the contents of these configuration files it will it will build a dependency tree",
    "start": "1312919",
    "end": "1320000"
  },
  {
    "text": "and then it will uh schedule those jobs in the fastest sequence possible to get",
    "start": "1320000",
    "end": "1326480"
  },
  {
    "text": "the the work done now the images",
    "start": "1326480",
    "end": "1333380"
  },
  {
    "text": "uh they are specified by recipes not by a configuration in your local.conf",
    "start": "1333380",
    "end": "1341200"
  },
  {
    "text": "so there are recipes called things like core Dash image Dash something so for",
    "start": "1341900",
    "end": "1346940"
  },
  {
    "text": "example call Image minimal is the minimum thing you need to boot up and get a command shell",
    "start": "1346940",
    "end": "1354760"
  },
  {
    "text": "um core image base does the same but a little bit more it has some functionality including things like being able to load kernel modules",
    "start": "1355400",
    "end": "1363320"
  },
  {
    "text": "and then there are more sophisticated images with more and more functionality within them typically what you'll do is",
    "start": "1363320",
    "end": "1369380"
  },
  {
    "text": "you will take one of these that most closely matches what you want to achieve and then you'll modify that to add in",
    "start": "1369380",
    "end": "1375980"
  },
  {
    "text": "the particular packages you need to do your particular job",
    "start": "1375980",
    "end": "1381100"
  },
  {
    "text": "so to build an image you just do this bit core image many more and",
    "start": "1382640",
    "end": "1388760"
  },
  {
    "text": "like I say the bills typically take several hours so you come back later and you'll find it's uh it's built",
    "start": "1388760",
    "end": "1394580"
  },
  {
    "text": "everything and I should say that when it's doing the build not only is it just combining those recipes the first thing it does",
    "start": "1394580",
    "end": "1401120"
  },
  {
    "text": "actually is to build the cross compiler so we start off with nothing we build the cross compilers from Source",
    "start": "1401120",
    "end": "1407179"
  },
  {
    "text": "typically GCC but can also be clang um then we build any other tools required for build time and only then",
    "start": "1407179",
    "end": "1414020"
  },
  {
    "text": "can we start actually compiling code for the Target machine",
    "start": "1414020",
    "end": "1419080"
  },
  {
    "text": "oops so demo build an image for qemu arm this is where your all goes wrong",
    "start": "1422539",
    "end": "1429200"
  },
  {
    "text": "so bear with me right so I have here a copy of Pocky",
    "start": "1429200",
    "end": "1435679"
  },
  {
    "text": "kirkster which I downloaded earlier and this is more or less as I showed on the slides",
    "start": "1435679",
    "end": "1442100"
  },
  {
    "text": "um so we have these various meta directories and we have over here a I know we don't have a build directory because I haven't actually set this up",
    "start": "1442100",
    "end": "1448280"
  },
  {
    "text": "yet okay so we're starting from a blank slate so I'm going to do Dot",
    "start": "1448280",
    "end": "1453679"
  },
  {
    "text": "o e init whatever and I'm going to call build Q E Nu",
    "start": "1453679",
    "end": "1460539"
  },
  {
    "text": "okay so that is now um put me into the direct into that directory we have the conf directory",
    "start": "1462320",
    "end": "1470179"
  },
  {
    "text": "if we look in conf we have BB layers and local.com and one other random file which I'm not interested in",
    "start": "1470179",
    "end": "1477200"
  },
  {
    "text": "now I need to make a couple of changes to the configuration so I need to edit",
    "start": "1477200",
    "end": "1482480"
  },
  {
    "text": "Comfort local comps and I need to add a couple of things in here and I've got a crib sheet over here",
    "start": "1482480",
    "end": "1488059"
  },
  {
    "text": "which I'm going to from",
    "start": "1488059",
    "end": "1491620"
  },
  {
    "text": "I'll explain exactly why I'm doing this later on I think",
    "start": "1493520",
    "end": "1498159"
  },
  {
    "text": "oops",
    "start": "1500780",
    "end": "1503380"
  },
  {
    "text": "so I'm sending a couple of pointers and then down here I need to select the machine",
    "start": "1506299",
    "end": "1512240"
  },
  {
    "text": "so the machine I want is going to be the first one in this list qemu arm is going to be a 32-bit Arm System",
    "start": "1512240",
    "end": "1519980"
  },
  {
    "text": "um I could have chosen arm64 also mips powerpc x86 and there are other things I",
    "start": "1519980",
    "end": "1527539"
  },
  {
    "text": "could add in by adding an appropriate meta layers",
    "start": "1527539",
    "end": "1531640"
  },
  {
    "text": "okay so if everything's done right I can now type bit cool",
    "start": "1533900",
    "end": "1541059"
  },
  {
    "text": "base and I'll just hang on a second to see if it actually starts up",
    "start": "1541100",
    "end": "1547520"
  },
  {
    "text": "so if anybody here was on my workshop we did Monday Tuesday where we're doing",
    "start": "1547520",
    "end": "1553100"
  },
  {
    "text": "this for the Raspberry Pi you'll know that I got this entirely wrong and the",
    "start": "1553100",
    "end": "1558919"
  },
  {
    "text": "builds which were meant to take about five minutes actually took like four hours",
    "start": "1558919",
    "end": "1564158"
  },
  {
    "text": "I'm hoping this is going to take more like five minutes",
    "start": "1564620",
    "end": "1568720"
  },
  {
    "text": "so you see now it says parsing recipes so um it's going through all the recipes it's got It's building a big long list",
    "start": "1569840",
    "end": "1576799"
  },
  {
    "text": "of them and working out dependencies and now it's working out what it needs to do in order to build the thing I wanted and",
    "start": "1576799",
    "end": "1583940"
  },
  {
    "text": "see up here it says machine is QE mu arm uh distribution is Pocky 401",
    "start": "1583940",
    "end": "1591559"
  },
  {
    "text": "and now you can see it's kind of running through very very quickly um all of the tasks it has to build this",
    "start": "1591559",
    "end": "1600700"
  },
  {
    "text": "yeah so we'll leave that running for a little while I'll come back to that in a slide or two",
    "start": "1601039",
    "end": "1608320"
  },
  {
    "text": "so what I'm hoping we're going to find at the end of this is that",
    "start": "1611299",
    "end": "1618158"
  },
  {
    "text": "um so this is my build directory which I call build qemu and it will have well okay",
    "start": "1618380",
    "end": "1626600"
  },
  {
    "text": "the stuff it downloads in order to build stuff ends up in a DirecTV called downloads there's a thing called the shared State cache",
    "start": "1626600",
    "end": "1633500"
  },
  {
    "text": "but the real interesting stuff is in a directory rather confusingly called temp TMP",
    "start": "1633500",
    "end": "1640400"
  },
  {
    "text": "um only part of its temporary some of it is kind of useful so if you look in TMP we have a",
    "start": "1640400",
    "end": "1646220"
  },
  {
    "text": "directory called deploy there's a subdirectory to that called images and a subdirectory to that called",
    "start": "1646220",
    "end": "1652220"
  },
  {
    "text": "qemu arm so that contains the compiled image which I can use for my target",
    "start": "1652220",
    "end": "1659799"
  },
  {
    "text": "the next three slides are going through that in slightly more detail I'm slipping a little bit behind schedule so",
    "start": "1662659",
    "end": "1668840"
  },
  {
    "text": "I'm going to skip these a little bit um I think it will become obvious when we see the result",
    "start": "1668840",
    "end": "1674960"
  },
  {
    "text": "hopefully of that bit bake",
    "start": "1674960",
    "end": "1678940"
  },
  {
    "text": "let me just say a little bit about these image formats so when I say bit big something image what actually is going",
    "start": "1681260",
    "end": "1687020"
  },
  {
    "text": "to happen well it depends on the configuration of the machine so essentially bit bake is",
    "start": "1687020",
    "end": "1693020"
  },
  {
    "text": "going to build an image of a format suitable for your Target Hardware",
    "start": "1693020",
    "end": "1698679"
  },
  {
    "text": "the kind of formats you're going to have then are going to be things like maybe just a pure tar file",
    "start": "1698720",
    "end": "1703760"
  },
  {
    "text": "so you can then untie that into an appropriate file system and there's your",
    "start": "1703760",
    "end": "1708919"
  },
  {
    "text": "root file system or you can tell it to generate",
    "start": "1708919",
    "end": "1714520"
  },
  {
    "text": "the root file system in a formatted image format",
    "start": "1714520",
    "end": "1719659"
  },
  {
    "text": "so for example ext4 or maybe jff S2 which is for flash memory or ubfs which",
    "start": "1719659",
    "end": "1725419"
  },
  {
    "text": "is another flash format and various others",
    "start": "1725419",
    "end": "1729880"
  },
  {
    "text": "in that case you would just do a DD or equivalent onto your your target device",
    "start": "1730580",
    "end": "1738220"
  },
  {
    "text": "um or you can actually use something called Wick which is the actually I don't remember what week stands for it",
    "start": "1738740",
    "end": "1743960"
  },
  {
    "text": "doesn't matter but it's the it's an image Creator which will create disk images in other words including a",
    "start": "1743960",
    "end": "1750020"
  },
  {
    "text": "partition table and you can just DD the the entire disk image to the root of a",
    "start": "1750020",
    "end": "1755120"
  },
  {
    "text": "block device hopefully an SD card and um you can then",
    "start": "1755120",
    "end": "1760279"
  },
  {
    "text": "plug that into your target device and the way it goes",
    "start": "1760279",
    "end": "1764980"
  },
  {
    "text": "so just for reference then these the types of image that are generated for",
    "start": "1767799",
    "end": "1772880"
  },
  {
    "text": "any particular machine are set up in the configuration file for your machine and you have imagefs types ext3",
    "start": "1772880",
    "end": "1781520"
  },
  {
    "text": "tar bz2 or whatever now normally this is given to you as part of",
    "start": "1781520",
    "end": "1789020"
  },
  {
    "text": "the board support package for whichever board you're using you don't normally have to go and edit this stuff",
    "start": "1789020",
    "end": "1795880"
  },
  {
    "text": "let me just say a little bit about the shared State cache so as bitbake is going through building",
    "start": "1797539",
    "end": "1804200"
  },
  {
    "text": "stuff it takes a copy of all the build artifacts and puts them into a directory",
    "start": "1804200",
    "end": "1810020"
  },
  {
    "text": "called s State cache and the nice thing about this is that",
    "start": "1810020",
    "end": "1815240"
  },
  {
    "text": "once you have warmed up the cache or pre-filled it you can then rebuild the same thing again uh much more quickly",
    "start": "1815240",
    "end": "1821720"
  },
  {
    "text": "because you're missing out the compile stage you just need to copy the appropriate objects so that's why it was",
    "start": "1821720",
    "end": "1826820"
  },
  {
    "text": "chugging through really quickly on my laptop it's not my laptop is particularly fast it's just that",
    "start": "1826820",
    "end": "1832159"
  },
  {
    "text": "actually I'm cheating a little bit by using a shared State cache which has",
    "start": "1832159",
    "end": "1837380"
  },
  {
    "text": "already been primed with all the stuff I know we need",
    "start": "1837380",
    "end": "1841179"
  },
  {
    "text": "and you kind of saw when I did that paste from the crib sheet I was setting",
    "start": "1844480",
    "end": "1850520"
  },
  {
    "text": "a couple of variables uh one is called estate deer another one is DL deer",
    "start": "1850520",
    "end": "1857299"
  },
  {
    "text": "um so I set them two paths which um point to pre-loaded Shared State",
    "start": "1857299",
    "end": "1862700"
  },
  {
    "text": "cache and downloads",
    "start": "1862700",
    "end": "1866019"
  },
  {
    "text": "so hopefully yes um so coming back here then we can see that",
    "start": "1868940",
    "end": "1875840"
  },
  {
    "text": "that has all completed and if I look into the TMP whoops",
    "start": "1875840",
    "end": "1881779"
  },
  {
    "text": "DMP um deploy images",
    "start": "1881779",
    "end": "1887620"
  },
  {
    "text": "help you in your arm so these are the images it has generated",
    "start": "1887659",
    "end": "1894080"
  },
  {
    "text": "um the one we need actually for runtime is going to be this ext4 image because we're going to pass that as a parameter",
    "start": "1894080",
    "end": "1900200"
  },
  {
    "text": "to QE mu um there should be somewhere here yeah there's a kernel image so Z image is",
    "start": "1900200",
    "end": "1906679"
  },
  {
    "text": "there is Linux and there's some modules and various other bits and pieces",
    "start": "1906679",
    "end": "1912860"
  },
  {
    "text": "so I'm going to run that now I'm going to run [Music]",
    "start": "1912860",
    "end": "1917899"
  },
  {
    "text": "so I can use a command called runq emu which a little a little script a little wrapper program",
    "start": "1917899",
    "end": "1925039"
  },
  {
    "text": "and I'm going to say no graphic because I just want a text console",
    "start": "1925039",
    "end": "1932020"
  },
  {
    "text": "uh so now you can see it's booting up so that's the Linux boot messages",
    "start": "1936140",
    "end": "1941740"
  },
  {
    "text": "um now it's starting user space and now we've got a login prompt",
    "start": "1943940",
    "end": "1950480"
  },
  {
    "text": "login as root there's no password because this is a debug version",
    "start": "1950480",
    "end": "1956799"
  },
  {
    "text": "um so there's not a lot going on here there is udev tasks RPC bind I'm not exactly sure",
    "start": "1959059",
    "end": "1966020"
  },
  {
    "text": "why we're doing that there's a log Daemon there's a couple of network configuration daemons and whatever",
    "start": "1966020",
    "end": "1972080"
  },
  {
    "text": "but apart from that there's not a lot going on oh and I can prove this as arm we look",
    "start": "1972080",
    "end": "1978500"
  },
  {
    "text": "at proc CPU info",
    "start": "1978500",
    "end": "1982179"
  },
  {
    "text": "and scroll back a little bit so yeah it's an arm V7 processor and",
    "start": "1984020",
    "end": "1991340"
  },
  {
    "text": "it's emulating that quad core arm V7 and it's 32 bits",
    "start": "1991340",
    "end": "1998860"
  },
  {
    "text": "Okay so that's got the system up and running that's told you a little bit about",
    "start": "2002679",
    "end": "2008500"
  },
  {
    "text": "um machines and distros and images so now let's talk a little bit more",
    "start": "2008500",
    "end": "2013779"
  },
  {
    "text": "about these meta layers The Meta layer is one of the most useful things really um that yocto gives us",
    "start": "2013779",
    "end": "2021600"
  },
  {
    "text": "so this is what you see inside your bblayers.com file and it's a pretty simple format it's",
    "start": "2022659",
    "end": "2029919"
  },
  {
    "text": "just BB layers one of these funny assignment things and then a list of",
    "start": "2029919",
    "end": "2035080"
  },
  {
    "text": "meta-somethings or others so this is just a directory which contains a layer a bunch of recipes",
    "start": "2035080",
    "end": "2043000"
  },
  {
    "text": "and when I want to add to this essentially I just need to add an extra line to this file",
    "start": "2043000",
    "end": "2050638"
  },
  {
    "text": "um yeah we can characteristic we can characterize layers into three basic",
    "start": "2053440",
    "end": "2061540"
  },
  {
    "text": "types there's bsps there's distros and there's everything else",
    "start": "2061540",
    "end": "2068618"
  },
  {
    "text": "so the first bunch then the bsps bsp stands for board support package so this",
    "start": "2068619",
    "end": "2074378"
  },
  {
    "text": "contains the components the recipe is needed to build yocto for your particular Hardware",
    "start": "2074379",
    "end": "2082780"
  },
  {
    "text": "so the bsp at the very least must contain a configuration file for your Hardware so for the Raspberry Pi meta",
    "start": "2082780",
    "end": "2089440"
  },
  {
    "text": "layer there'll be a raspberry pi.conf for machine equals Raspberry Pi",
    "start": "2089440",
    "end": "2096658"
  },
  {
    "text": "in addition to that it probably will contain some additional stuff so probably there's some code in there's a recipe in there to build a bootloader",
    "start": "2098560",
    "end": "2104560"
  },
  {
    "text": "maybe a custom kernel maybe some graphics drivers or whatever special",
    "start": "2104560",
    "end": "2109660"
  },
  {
    "text": "about that particular board distribution layers Define a distro so",
    "start": "2109660",
    "end": "2118119"
  },
  {
    "text": "at the very least distribution layers much contain a confidystro and then the name of the distro.com file",
    "start": "2118119",
    "end": "2125640"
  },
  {
    "text": "um so Pocky is a distro there's also one called angstrom we",
    "start": "2125680",
    "end": "2132160"
  },
  {
    "text": "looked at AGL earlier on so there's an AGL distro which is the automotive grade Linux thing and so on",
    "start": "2132160",
    "end": "2139680"
  },
  {
    "text": "and then everything else well that is everything else so if it's not a bsp and",
    "start": "2140920",
    "end": "2146560"
  },
  {
    "text": "it's not a distro it's and everything else so this can contain libraries such",
    "start": "2146560",
    "end": "2151599"
  },
  {
    "text": "as cute um it can contain support for languages so Java and Python",
    "start": "2151599",
    "end": "2158980"
  },
  {
    "text": "and whatever languages there may be um and also tools like meta",
    "start": "2158980",
    "end": "2164740"
  },
  {
    "text": "virtualization which contains stuff for containers and things meta SE Linux",
    "start": "2164740",
    "end": "2170020"
  },
  {
    "text": "contains well SE Linux",
    "start": "2170020",
    "end": "2173640"
  },
  {
    "text": "so there is a repository for these layers and hopefully this is going to",
    "start": "2177099",
    "end": "2182380"
  },
  {
    "text": "work if I actually go yes it does work",
    "start": "2182380",
    "end": "2189220"
  },
  {
    "text": "so this is the open embedded layer index and",
    "start": "2189220",
    "end": "2195220"
  },
  {
    "text": "it lists a whole bunch of layers I've not counted but there's several hundred of them",
    "start": "2195220",
    "end": "2201280"
  },
  {
    "text": "and you can see that they're characterized so these are bsp layers",
    "start": "2201280",
    "end": "2206380"
  },
  {
    "text": "and these are for various um boards and chips you may recognize some",
    "start": "2206380",
    "end": "2213700"
  },
  {
    "text": "maybe not but somewhere down here for example let's scroll on down a bit we should see",
    "start": "2213700",
    "end": "2220480"
  },
  {
    "text": "metal Raspberry Pi yeah there it is so that contains the board support package for Raspberry Pi's",
    "start": "2220480",
    "end": "2227500"
  },
  {
    "text": "and yeah and so on and so on and as you can see there is quite a lot from there's at least 100 of those",
    "start": "2227500",
    "end": "2234780"
  },
  {
    "text": "then we have the various distros um",
    "start": "2236920",
    "end": "2242880"
  },
  {
    "text": "including AGL for automotive grade Linux and I noticed angstrom is here I think",
    "start": "2243660",
    "end": "2250060"
  },
  {
    "text": "angstrom is probably not particularly supported anymore but it's the way",
    "start": "2250060",
    "end": "2255099"
  },
  {
    "text": "and then way down here we get software so this is things like well whatever",
    "start": "2255099",
    "end": "2262720"
  },
  {
    "text": "like I say there's someone amongst this stuff that's cute and there's I just saw metago go past",
    "start": "2262720",
    "end": "2268420"
  },
  {
    "text": "I thought go along it actually I think that's probably out of date I think golang is now integrated into the the",
    "start": "2268420",
    "end": "2274720"
  },
  {
    "text": "core layers anyhow you get the point",
    "start": "2274720",
    "end": "2279880"
  },
  {
    "text": "so we use this when we want to add software to our project so let's do this",
    "start": "2279880",
    "end": "2288160"
  },
  {
    "text": "uh so I can select either layers or recipes",
    "start": "2288160",
    "end": "2294820"
  },
  {
    "text": "let's choose a recipe and I can just do a search for whatever",
    "start": "2294820",
    "end": "2300160"
  },
  {
    "text": "it is I'm looking for so I'm going to take a simple example suppose we want to add the Nano Editor",
    "start": "2300160",
    "end": "2305980"
  },
  {
    "text": "to our system so search for Nano",
    "start": "2305980",
    "end": "2312160"
  },
  {
    "text": "I'd like to think for a little while and it says yeah okay we have a recipe called Nano",
    "start": "2312160",
    "end": "2317980"
  },
  {
    "text": "um it is a small and friendly console editor and I can click on this link here",
    "start": "2317980",
    "end": "2324339"
  },
  {
    "text": "and it gives me a bit more detail and it should tell me",
    "start": "2324339",
    "end": "2331780"
  },
  {
    "text": "should tell me which would tell me should tell me somewhere the layer I should get it from I guess I get it from meta Oe",
    "start": "2331780",
    "end": "2337900"
  },
  {
    "text": "so this is part of a layer called meta OE so I need to go into I need to get do",
    "start": "2337900",
    "end": "2343720"
  },
  {
    "text": "a git clone of that repository there that includes the entire meta OE layer",
    "start": "2343720",
    "end": "2348940"
  },
  {
    "text": "which I can then which includes the the Nano recipe",
    "start": "2348940",
    "end": "2355839"
  },
  {
    "text": "so demo adding a layer so what I want to do then I've already kind of done the",
    "start": "2357820",
    "end": "2363220"
  },
  {
    "text": "download to make life a little bit easier but I should be able to",
    "start": "2363220",
    "end": "2369579"
  },
  {
    "text": "quit out of that and again I'm going to cheat a little bit",
    "start": "2369579",
    "end": "2375339"
  },
  {
    "text": "but I need just need to go into my uh sorry I need to add the layer first",
    "start": "2375339",
    "end": "2381099"
  },
  {
    "text": "which I should be able to do using this command",
    "start": "2381099",
    "end": "2385500"
  },
  {
    "text": "yeah I think so I'm using bit layers and layer and",
    "start": "2390280",
    "end": "2398140"
  },
  {
    "text": "then a pointer to the directory which contains the mayor I need layer I need which you may remember is called meta",
    "start": "2398140",
    "end": "2403960"
  },
  {
    "text": "Dash Oe and then doing the wrong thing again",
    "start": "2403960",
    "end": "2411599"
  },
  {
    "text": "uh yep so I can now run this command here just to show that the Nano recipe is available",
    "start": "2413859",
    "end": "2420720"
  },
  {
    "text": "did that yeah unfortunately whenever you do something",
    "start": "2422200",
    "end": "2428980"
  },
  {
    "text": "it rebuilds a dependency cache which takes a moment or two um",
    "start": "2428980",
    "end": "2434859"
  },
  {
    "text": "and then I just need to add the uh a a thing to the",
    "start": "2434859",
    "end": "2441579"
  },
  {
    "text": "um uh to my local.com that will include the",
    "start": "2441579",
    "end": "2447520"
  },
  {
    "text": "Nano uh recipe so I was just stumbling there because I",
    "start": "2447520",
    "end": "2452980"
  },
  {
    "text": "was looking at the time and I was just trying to remember what time I finished I think I've got a few minutes left yet",
    "start": "2452980",
    "end": "2458880"
  },
  {
    "text": "so when you're doing stuff with um you octo and open embedded um it's really important to have some",
    "start": "2460960",
    "end": "2467500"
  },
  {
    "text": "kind of hobby um such as plain chess or yoga or meditation anything that you can use to",
    "start": "2467500",
    "end": "2474700"
  },
  {
    "text": "fill in the gaps while you're waiting for things to happen um if all else fails you can always fall",
    "start": "2474700",
    "end": "2480339"
  },
  {
    "text": "back to uh sword fights on on office chairs as",
    "start": "2480339",
    "end": "2486180"
  },
  {
    "text": "popularized in the the famous cartoon okay right so that finished and you can",
    "start": "2486180",
    "end": "2493480"
  },
  {
    "text": "just about see here we now have a matching recipe and it's in that",
    "start": "2493480",
    "end": "2498820"
  },
  {
    "text": "directory there and it's nano version 6.2 so I want to add that to my",
    "start": "2498820",
    "end": "2506579"
  },
  {
    "text": "emu build so conf local conf",
    "start": "2506579",
    "end": "2511960"
  },
  {
    "text": "and again I'm going to use a crib just to make sure I don't get it wrong",
    "start": "2511960",
    "end": "2518280"
  },
  {
    "text": "continue doing that",
    "start": "2523420",
    "end": "2527040"
  },
  {
    "text": "so I've added the text in here image install colon append equals space Nano",
    "start": "2529359",
    "end": "2535599"
  },
  {
    "text": "in double quotes I will briefly explain what that means later on but for the moment we can be",
    "start": "2535599",
    "end": "2543040"
  },
  {
    "text": "happy I think that image install is a variable it's a bit big variable and it's basically a list of all the recipes",
    "start": "2543040",
    "end": "2549579"
  },
  {
    "text": "it's going to build uh the append operator is going to add to the end of that list",
    "start": "2549579",
    "end": "2555940"
  },
  {
    "text": "so we're just adding Nano to the list of recipes that bit Baker is going to build for me",
    "start": "2555940",
    "end": "2562859"
  },
  {
    "text": "so I should be able to do",
    "start": "2567220",
    "end": "2570720"
  },
  {
    "text": "if I do it right there we go I'll just do a bit big Cornish base it",
    "start": "2575980",
    "end": "2582579"
  },
  {
    "text": "shouldn't take so long this time I mean it took maybe three or four minutes last time so I'll probably hang around just to see",
    "start": "2582579",
    "end": "2588579"
  },
  {
    "text": "you to see it work and again this is going to work quite quickly because I've done this",
    "start": "2588579",
    "end": "2594760"
  },
  {
    "text": "previously about an hour ago in fact just to make sure that the shared State",
    "start": "2594760",
    "end": "2600040"
  },
  {
    "text": "cash was up to date um yeah unfortunately whenever you",
    "start": "2600040",
    "end": "2606040"
  },
  {
    "text": "change any file anywhere it seems to go through and regenerate the shared State cash but hey that's it",
    "start": "2606040",
    "end": "2613019"
  },
  {
    "text": "okay I'm really going to wait for this so apologies",
    "start": "2615460",
    "end": "2620640"
  },
  {
    "text": "okay so now it's burst into action um",
    "start": "2624640",
    "end": "2630760"
  },
  {
    "text": "and it very quickly obtained the Nano packages from the",
    "start": "2630760",
    "end": "2636220"
  },
  {
    "text": "shared State cache and now it's doing a task called do root FS so this is assembling the root file",
    "start": "2636220",
    "end": "2644200"
  },
  {
    "text": "system from all the various components that we've specified including Nano in",
    "start": "2644200",
    "end": "2649480"
  },
  {
    "text": "this case and when this is finished I can just",
    "start": "2649480",
    "end": "2655480"
  },
  {
    "text": "do a run queue emu",
    "start": "2655480",
    "end": "2659579"
  },
  {
    "text": "boots up",
    "start": "2661240",
    "end": "2664020"
  },
  {
    "text": "on and hopefully I can now go Nano",
    "start": "2673960",
    "end": "2681060"
  },
  {
    "text": "oops and I guess control Xbox",
    "start": "2690880",
    "end": "2699359"
  },
  {
    "text": "dude",
    "start": "2700119",
    "end": "2702720"
  },
  {
    "text": "and there we go so hey we can create text",
    "start": "2705220",
    "end": "2710319"
  },
  {
    "text": "files and edit them using Nano probably not that useful in the grand",
    "start": "2710319",
    "end": "2715599"
  },
  {
    "text": "scheme of things but it was a good little demonstration I think",
    "start": "2715599",
    "end": "2721078"
  },
  {
    "text": "so hopefully then you get this idea about layers containing recipes and then we add recipes by",
    "start": "2723460",
    "end": "2730180"
  },
  {
    "text": "essentially adding a dependency on that recipe which we did in this case by using that image install append syntax",
    "start": "2730180",
    "end": "2739119"
  },
  {
    "text": "so for the final section yeah we can do this",
    "start": "2740440",
    "end": "2746980"
  },
  {
    "text": "um I need to talk a little bit about recipes so I want you to see what a",
    "start": "2746980",
    "end": "2752020"
  },
  {
    "text": "recipe is um at least in in principle and um yeah",
    "start": "2752020",
    "end": "2757720"
  },
  {
    "text": "we'll try adding a recipe of Our Own so a recipe contains the instructions on",
    "start": "2757720",
    "end": "2764619"
  },
  {
    "text": "how to fetch configure compile and install a software component so this can be a library can be an",
    "start": "2764619",
    "end": "2770920"
  },
  {
    "text": "executable it can just be a script or a configuration file it doesn't have to have the compile stage if you don't want",
    "start": "2770920",
    "end": "2777099"
  },
  {
    "text": "to actually compile it um",
    "start": "2777099",
    "end": "2783480"
  },
  {
    "text": "at the base a recipe is a list of tasks and tasks are called things like do",
    "start": "2783760",
    "end": "2791579"
  },
  {
    "text": "compile or do install or something generally speaking you don't need to",
    "start": "2791579",
    "end": "2797260"
  },
  {
    "text": "specify every single task in every recipe because you and you will inherit",
    "start": "2797260",
    "end": "2802319"
  },
  {
    "text": "behavior from bitbake which will fill in most of the default but most of the",
    "start": "2802319",
    "end": "2807760"
  },
  {
    "text": "tasks with defaults so you just need to add in overrides for the things that are special for your",
    "start": "2807760",
    "end": "2814300"
  },
  {
    "text": "recipe so here is a simple recipe",
    "start": "2814300",
    "end": "2820720"
  },
  {
    "text": "and this is going to build a hello world program for us",
    "start": "2820720",
    "end": "2825359"
  },
  {
    "text": "um so we start off with some just human",
    "start": "2827020",
    "end": "2832780"
  },
  {
    "text": "readable description staff um these first two lines are not strictly speaking necessary but they're",
    "start": "2832780",
    "end": "2839020"
  },
  {
    "text": "handy then we have some stuff to do with licenses so",
    "start": "2839020",
    "end": "2844900"
  },
  {
    "text": "it's a build error not to specify a license everything has a license",
    "start": "2844900",
    "end": "2849940"
  },
  {
    "text": "so in this case we have an MIT license and not only do you need to see what the license is you need to give a pointer to",
    "start": "2849940",
    "end": "2856780"
  },
  {
    "text": "the text of that license and also a check sum of that text so you can't cheat the system",
    "start": "2856780",
    "end": "2862359"
  },
  {
    "text": "you have to have an actual license with an actual checksum",
    "start": "2862359",
    "end": "2867540"
  },
  {
    "text": "and it's a build error if none of that works then we have Source URI so the source",
    "start": "2869500",
    "end": "2876520"
  },
  {
    "text": "Uris is a list of places to go get things um in a more realistic case the source",
    "start": "2876520",
    "end": "2881680"
  },
  {
    "text": "of your eyes would be web addresses or git archives or something but in this",
    "start": "2881680",
    "end": "2887079"
  },
  {
    "text": "simple case we are using a local file mime type so this is going to go and grab a file called hello world.c from",
    "start": "2887079",
    "end": "2895240"
  },
  {
    "text": "within uh well okay actually comes from within a directory called files in the",
    "start": "2895240",
    "end": "2902680"
  },
  {
    "text": "directory that contains the BB file then we have do compile and do install",
    "start": "2902680",
    "end": "2910359"
  },
  {
    "text": "so these are the special things that we need to do for this recipe so do compile is going to compile hello",
    "start": "2910359",
    "end": "2916960"
  },
  {
    "text": "world and output an executable called hello world and then do install is going to install",
    "start": "2916960",
    "end": "2922660"
  },
  {
    "text": "that executable into dollar binder so dollar bindia is going to work out to",
    "start": "2922660",
    "end": "2928660"
  },
  {
    "text": "be uh user bin so we create the user bin directory here and then we install the executable into",
    "start": "2928660",
    "end": "2935800"
  },
  {
    "text": "that directory",
    "start": "2935800",
    "end": "2938520"
  },
  {
    "text": "now when you build a recipe it will generate packages",
    "start": "2944380",
    "end": "2951280"
  },
  {
    "text": "and this is a thing that's not particularly well described in the open",
    "start": "2951280",
    "end": "2956619"
  },
  {
    "text": "embedded documentation and even the developers tend to misuse these",
    "start": "2956619",
    "end": "2962800"
  },
  {
    "text": "terms in my opinion um so just just be clear a recipe is something not BB it's a file",
    "start": "2962800",
    "end": "2970180"
  },
  {
    "text": "but the packages it generates are multiple um so this is a case of a library uh Zed",
    "start": "2970180",
    "end": "2977319"
  },
  {
    "text": "lib sorry lib Zed which is the compression Library you get in in this example at least you",
    "start": "2977319",
    "end": "2982780"
  },
  {
    "text": "get six different packages you get the runtime which contains the dot ISO file",
    "start": "2982780",
    "end": "2988060"
  },
  {
    "text": "you get the debug which contains the so file with debug symbols",
    "start": "2988060",
    "end": "2993339"
  },
  {
    "text": "you get the dev which contains the header file uh you get the dark which contains",
    "start": "2993339",
    "end": "2998680"
  },
  {
    "text": "basically the Man pages actually nobody cares um you get the source so that's handy",
    "start": "2998680",
    "end": "3004680"
  },
  {
    "text": "for debugging because you need a source code if you're using Source level debugging and you get static Dev which nobody ever",
    "start": "3004680",
    "end": "3011400"
  },
  {
    "text": "uses but that includes the um the a file the archive if you want to",
    "start": "3011400",
    "end": "3017040"
  },
  {
    "text": "statically link against uh lib Zed which probably you don't want to do but you",
    "start": "3017040",
    "end": "3022440"
  },
  {
    "text": "can if you want so the point is then a single recipe",
    "start": "3022440",
    "end": "3027839"
  },
  {
    "text": "typically generates multiple packages and notice these are these are in a",
    "start": "3027839",
    "end": "3033300"
  },
  {
    "text": "format called RPM the red hat package manager is just a standard container for",
    "start": "3033300",
    "end": "3039240"
  },
  {
    "text": "uh yeah for packages",
    "start": "3039240",
    "end": "3044960"
  },
  {
    "text": "and then to add a package um",
    "start": "3048599",
    "end": "3053940"
  },
  {
    "text": "to our Target there are multiple ways of doing this the way I'm doing it here is using this",
    "start": "3053940",
    "end": "3059819"
  },
  {
    "text": "image install variable so we have things like image install append and we can give a list of",
    "start": "3059819",
    "end": "3066660"
  },
  {
    "text": "packages in this case drop bear which is an SSH Daemon and like ttpd which is a little web server",
    "start": "3066660",
    "end": "3074960"
  },
  {
    "text": "there are other ways of doing it which I'm not going to differentiate with right now and notice we're using a",
    "start": "3075720",
    "end": "3082140"
  },
  {
    "text": "different Syntax for adding here than here for obscure reasons which I'm really not going to go into",
    "start": "3082140",
    "end": "3088640"
  },
  {
    "text": "so yeah um final demo then I'm going to add that",
    "start": "3092400",
    "end": "3099420"
  },
  {
    "text": "hello world to my octo",
    "start": "3099420",
    "end": "3106160"
  },
  {
    "text": "okay so the first thing I need to do actually is to create a layer because recipes live within layers",
    "start": "3108119",
    "end": "3116520"
  },
  {
    "text": "so I want to create my own layer where I can put this stuff and again if I just grip this",
    "start": "3116520",
    "end": "3123000"
  },
  {
    "text": "I'm going to call my layer meta example",
    "start": "3123000",
    "end": "3127339"
  },
  {
    "text": "so do that so bit layers create layer oh I've missed the ER never mind",
    "start": "3131880",
    "end": "3140119"
  },
  {
    "text": "and it actually it tells me what to do next it says I need to add bit layers add layer meta example",
    "start": "3140280",
    "end": "3146940"
  },
  {
    "text": "without the e hoping that works yep so now I have",
    "start": "3146940",
    "end": "3155520"
  },
  {
    "text": "forgot the level it uh whoops",
    "start": "3155520",
    "end": "3164660"
  },
  {
    "text": "example and that contains a configuration file you also get for free recipes Dash",
    "start": "3165720",
    "end": "3172859"
  },
  {
    "text": "something which contains a does nothing recipe so I'm just going to copy",
    "start": "3172859",
    "end": "3181160"
  },
  {
    "text": "and oops why isn't that there",
    "start": "3181559",
    "end": "3189078"
  },
  {
    "text": "yes I thought it was in this directory",
    "start": "3194900",
    "end": "3199460"
  },
  {
    "text": "should be here okay this is going somewhat wrong",
    "start": "3209880",
    "end": "3216140"
  },
  {
    "text": "oh well okay we can do it the hard way um if I go into meta",
    "start": "3218760",
    "end": "3223980"
  },
  {
    "text": "example this",
    "start": "3223980",
    "end": "3229040"
  },
  {
    "text": "um actually I can cheat I know I've got a copy hidden away somewhere bear with me it's a fairly long path name",
    "start": "3229500",
    "end": "3237140"
  },
  {
    "text": "not uh",
    "start": "3240859",
    "end": "3244220"
  },
  {
    "text": "Solutions I think um kind of recipes",
    "start": "3246680",
    "end": "3252200"
  },
  {
    "text": "do it went yeah thank you",
    "start": "3255660",
    "end": "3264059"
  },
  {
    "text": "very good so there's my hello world I just want to treat",
    "start": "3264059",
    "end": "3269760"
  },
  {
    "text": "oh I'm in the wrong director and that's the problem oh dear okay demo effect",
    "start": "3269760",
    "end": "3278040"
  },
  {
    "text": "um example um",
    "start": "3278040",
    "end": "3282380"
  },
  {
    "text": "yeah okay so now I've got hello world files there's the hello world C file and",
    "start": "3291119",
    "end": "3296460"
  },
  {
    "text": "there's the recipe okay so CD dollar bill dear",
    "start": "3296460",
    "end": "3303500"
  },
  {
    "text": "going to conf ident on here",
    "start": "3303900",
    "end": "3311420"
  },
  {
    "text": "and then do a bit big",
    "start": "3315059",
    "end": "3318200"
  },
  {
    "text": "okay and that is now going to pick up my recipe I hope and add a hello world",
    "start": "3322740",
    "end": "3328980"
  },
  {
    "text": "program to my target come back to that in a moment or two",
    "start": "3328980",
    "end": "3334440"
  },
  {
    "text": "pretty much done um I'd like to add a couple of minutes for questions although we're running out",
    "start": "3334440",
    "end": "3339839"
  },
  {
    "text": "of time a little bit um conclusions well so the Octo project is industry standard",
    "start": "3339839",
    "end": "3348059"
  },
  {
    "text": "um pretty much anybody doing embedded Linux systems is going to be using yocto at some point or other",
    "start": "3348059",
    "end": "3355039"
  },
  {
    "text": "um good things about the Octo project is first of all it produces reproducible builds so because we're building from",
    "start": "3355079",
    "end": "3361319"
  },
  {
    "text": "source code each time we know that when we do the build we know exactly what's on the build we know the ancestry of",
    "start": "3361319",
    "end": "3367440"
  },
  {
    "text": "every single component it gives us a license manifest because all this licensed stuff we kind of",
    "start": "3367440",
    "end": "3373260"
  },
  {
    "text": "looked at so you can just uh run a command and it dumps out all the licenses you're using",
    "start": "3373260",
    "end": "3378780"
  },
  {
    "text": "and it can also generate an uh software bill of materials an s-bomb",
    "start": "3378780",
    "end": "3384000"
  },
  {
    "text": "which is becoming more and more important as we want to track the uh the",
    "start": "3384000",
    "end": "3389160"
  },
  {
    "text": "ancestry and and the the dependencies we have on a particular project",
    "start": "3389160",
    "end": "3396720"
  },
  {
    "text": "layers key concept allows us to add recipes from third parties and also scales well to large teams we can have",
    "start": "3396960",
    "end": "3404280"
  },
  {
    "text": "multiple teams each working in their own layer and then they don't tread onto each turbo each other's toes too often",
    "start": "3404280",
    "end": "3412079"
  },
  {
    "text": "finally I haven't mentioned sdks at all but you can generate an SDK from yocto",
    "start": "3412079",
    "end": "3418740"
  },
  {
    "text": "which essentially just the cross compilers and necessary libraries and you can then give that to the people",
    "start": "3418740",
    "end": "3425520"
  },
  {
    "text": "in your project who don't really care about your octo and don't need to know about yocto but simply want to write",
    "start": "3425520",
    "end": "3430800"
  },
  {
    "text": "applications in queued or whatever for your Target product",
    "start": "3430800",
    "end": "3436160"
  },
  {
    "text": "so a quick looks if my build finished do around qemu",
    "start": "3438480",
    "end": "3444720"
  },
  {
    "text": "dot the dark why is not there",
    "start": "3444720",
    "end": "3450440"
  },
  {
    "text": "no I think and the major thing is going to happen",
    "start": "3451559",
    "end": "3458640"
  },
  {
    "text": "is our Filipino world and it will say hello world but hey I will say that the hello world",
    "start": "3458640",
    "end": "3464640"
  },
  {
    "text": "is kind of the gateway drug for programmers if you can write hello world you can write any program anywhere",
    "start": "3464640",
    "end": "3471059"
  },
  {
    "text": "so that's that's why we always start by writing hello world",
    "start": "3471059",
    "end": "3475640"
  },
  {
    "text": "they were it worked so thank you all very much",
    "start": "3478619",
    "end": "3485160"
  },
  {
    "text": "um we have pretty much zero time for questions I'm sorry about that but we could maybe squeeze a couple in slides",
    "start": "3485160",
    "end": "3491400"
  },
  {
    "text": "are available here uh you can contact me via Twitter and Twitter Twitter",
    "start": "3491400",
    "end": "3497119"
  },
  {
    "text": "and or Twitter in if you like um uh at tunet software and you can link",
    "start": "3497119",
    "end": "3502380"
  },
  {
    "text": "with me on LinkedIn so we have time for maybe a couple of",
    "start": "3502380",
    "end": "3507720"
  },
  {
    "text": "questions without intruding too much onto the next link so any questions very quickly",
    "start": "3507720",
    "end": "3513839"
  },
  {
    "text": "are we all totally overwhelmed yes sir",
    "start": "3513839",
    "end": "3517940"
  },
  {
    "text": "tricky question um so the question is if I'm if the",
    "start": "3523319",
    "end": "3529799"
  },
  {
    "text": "board support package I'm given has a vendor kernel in it can I replace that with a Mainline kernel",
    "start": "3529799",
    "end": "3536900"
  },
  {
    "text": "because not really",
    "start": "3538319",
    "end": "3543540"
  },
  {
    "text": "so it it all comes down to the board support package so the bsp recipe you have",
    "start": "3543540",
    "end": "3548780"
  },
  {
    "text": "will amongst other things um Define the Linux kernel it's going to",
    "start": "3548780",
    "end": "3553799"
  },
  {
    "text": "use so if you get a recipe for an a free scale or sorry an nxp imx8 then that",
    "start": "3553799",
    "end": "3562380"
  },
  {
    "text": "will use the free scale kernel if you get a recipe for Raspberry Pi that will use the Raspberry Pi kernel and so on",
    "start": "3562380",
    "end": "3568319"
  },
  {
    "text": "and so on so generally speaking the vendor Colonel comes as part of the part of the deal",
    "start": "3568319",
    "end": "3575838"
  },
  {
    "text": "okay",
    "start": "3575880",
    "end": "3578298"
  },
  {
    "text": "okay question if I use the set if I put the shared State cash onto an NFS servers I kind of hinted",
    "start": "3586920",
    "end": "3593880"
  },
  {
    "text": "in the slides can that mess things up and that I guess the simple answer is yes",
    "start": "3593880",
    "end": "3599700"
  },
  {
    "text": "it can definitely mess things up um if you do things right you can keep",
    "start": "3599700",
    "end": "3604740"
  },
  {
    "text": "the Clash clean and and you can everybody can uh who's using that file",
    "start": "3604740",
    "end": "3610260"
  },
  {
    "text": "can can benefit from it um but there are if you look at the mail list one of the most common uh questions",
    "start": "3610260",
    "end": "3617099"
  },
  {
    "text": "on the mail list is you know how do I how do I set up my shared State cache correctly so it doesn't uh screw up",
    "start": "3617099",
    "end": "3624839"
  },
  {
    "text": "so I'm just going to say that yes it is a potential problem if you do it right it's a huge benefit",
    "start": "3624839",
    "end": "3632160"
  },
  {
    "text": "um but if not you can waste a lot of time regenerating the cash because someone somewhere has messed it up",
    "start": "3632160",
    "end": "3639480"
  },
  {
    "text": "sorry I can't go any more detail than that just now is that",
    "start": "3639480",
    "end": "3646818"
  },
  {
    "text": "uh yeah okay so I kind of skipped over that a little bit when I talked about the licensing so everything must have a",
    "start": "3649740",
    "end": "3655799"
  },
  {
    "text": "license with um closed source code you have basically two options uh you can use a",
    "start": "3655799",
    "end": "3663480"
  },
  {
    "text": "license type called proprietary um and then you just get the text and",
    "start": "3663480",
    "end": "3668819"
  },
  {
    "text": "check some of the license file so this assumes you have uh the license files as",
    "start": "3668819",
    "end": "3673980"
  },
  {
    "text": "a text file that's that's accessible to you or you can set the license to be closed",
    "start": "3673980",
    "end": "3679380"
  },
  {
    "text": "in uppercase which means you don't have to have a license file so either way around you can supply",
    "start": "3679380",
    "end": "3686880"
  },
  {
    "text": "either your own license or you can just put close which says this is closed Source um and the license is defined",
    "start": "3686880",
    "end": "3692760"
  },
  {
    "text": "somewhere else okay",
    "start": "3692760",
    "end": "3699660"
  },
  {
    "text": "um okay two more and then we'll finish so uh yes sir",
    "start": "3699660",
    "end": "3705140"
  },
  {
    "text": "so do you build in a container or do you build a native on on Linux",
    "start": "3712460",
    "end": "3718380"
  },
  {
    "text": "um probably is worthwhile putting it into a container so you can so I mean the the",
    "start": "3718380",
    "end": "3725280"
  },
  {
    "text": "build system is sensitive to the operating system it's running on top of so typically",
    "start": "3725280",
    "end": "3732480"
  },
  {
    "text": "the yocto developers support the three most recent versions of Ubuntu Susie",
    "start": "3732480",
    "end": "3740760"
  },
  {
    "text": "percent also something I don't remember exactly this list but if you are trying to build an older version which is using",
    "start": "3740760",
    "end": "3746700"
  },
  {
    "text": "an older operating system which you may not have available to you then yes a container would help you avoid some of",
    "start": "3746700",
    "end": "3753000"
  },
  {
    "text": "those dependencies okay last question",
    "start": "3753000",
    "end": "3759140"
  },
  {
    "text": "uh there is a so it's not built so the s-bomb is not generated every time you",
    "start": "3765960",
    "end": "3771720"
  },
  {
    "text": "do a build there is a special thing you do and off the top of my head I can't remember what it is to cause it to spit",
    "start": "3771720",
    "end": "3777240"
  },
  {
    "text": "out the the s-bomb so yeah it's it's on demand",
    "start": "3777240",
    "end": "3782359"
  },
  {
    "text": "okay so thank you all very much for uh for listening to me hope that was in some way useful",
    "start": "3783839",
    "end": "3789720"
  },
  {
    "text": "and um I shall be doing a further talk on embedded Linux in about 50 minutes time",
    "start": "3789720",
    "end": "3797400"
  },
  {
    "text": "so thank you very much",
    "start": "3797400",
    "end": "3800240"
  }
]