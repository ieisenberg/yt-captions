[
  {
    "start": "0",
    "end": "155000"
  },
  {
    "text": "hello welcome everybody today I will tell you a bit about different security",
    "start": "10030",
    "end": "15639"
  },
  {
    "text": "tests that we can run against our products but hopefully I will not",
    "start": "15639",
    "end": "21490"
  },
  {
    "text": "lecture you about different features and boring options I want to tell you a real",
    "start": "21490",
    "end": "27190"
  },
  {
    "text": "story of the attack that it took part and on this example I will try to show",
    "start": "27190",
    "end": "33309"
  },
  {
    "text": "different approaches differences between different security tests a few words",
    "start": "33309",
    "end": "40900"
  },
  {
    "text": "about myself my name is Pavel Savitsky the surname is not cryptid is it just polish cause I'm",
    "start": "40900",
    "end": "47200"
  },
  {
    "text": "come from Poland I'm working currently for Intel as a security researcher and the red teamer I used to be retinal for",
    "start": "47200",
    "end": "54430"
  },
  {
    "text": "a number of years and that's used to be my dream job I'm playing right now on",
    "start": "54430",
    "end": "59500"
  },
  {
    "text": "more on the offensive side and it's much harder really what it's also less fun I",
    "start": "59500",
    "end": "65220"
  },
  {
    "text": "used to be also a project manager so hacking executives for resources that",
    "start": "65220",
    "end": "71710"
  },
  {
    "text": "was also a part of my life and try always doing my 20 years of IT career",
    "start": "71710",
    "end": "77880"
  },
  {
    "text": "was developer and reverse engineer would help me also to get into red team and as",
    "start": "77880",
    "end": "84460"
  },
  {
    "text": "I said that's my dream job and you will see this on my presentation",
    "start": "84460",
    "end": "90570"
  },
  {
    "text": "so first disclaimer everything you'll see on this presentation",
    "start": "90570",
    "end": "95950"
  },
  {
    "text": "it did happen just the names of the tables servers columns and so on was",
    "start": "95950",
    "end": "102070"
  },
  {
    "text": "changed hopefully in all places so no real data will leak so what I will show",
    "start": "102070",
    "end": "109840"
  },
  {
    "text": "first I will show what kind of the approach I would like to show you for",
    "start": "109840",
    "end": "115570"
  },
  {
    "text": "the comparison of different security tests what does it really mean what does it mean to choose what kind of tests do",
    "start": "115570",
    "end": "122799"
  },
  {
    "text": "we want to run against our product later on I will drill to the most exciting at least for me part so what was the target",
    "start": "122799",
    "end": "130239"
  },
  {
    "text": "what we tried to achieve and then I will guide you through all the paths that we",
    "start": "130239",
    "end": "136630"
  },
  {
    "text": "took to achieve our objectives of the tests all of the mistakes that we did and hopefully",
    "start": "136630",
    "end": "143530"
  },
  {
    "text": "come to the happy end and then hopefully I will use this approach to compare",
    "start": "143530",
    "end": "150880"
  },
  {
    "text": "different security tests that we can run so let's take a look we can run a number",
    "start": "150880",
    "end": "158470"
  },
  {
    "start": "155000",
    "end": "155000"
  },
  {
    "text": "of security tests I have grouped that into three categories so under white box I mean just regular",
    "start": "158470",
    "end": "167670"
  },
  {
    "text": "code reviews we can have black box so we'll treat the product as we do not",
    "start": "167670",
    "end": "174190"
  },
  {
    "text": "know the code but we still try to check whether it works whether it has some security objectives that we claim it to",
    "start": "174190",
    "end": "180550"
  },
  {
    "text": "be and then there is also my beloved red teaming what whatever test we take at",
    "start": "180550",
    "end": "187300"
  },
  {
    "text": "the end of the day will get from the tests the findings and the question is what we do with the findings hopefully",
    "start": "187300",
    "end": "194500"
  },
  {
    "text": "it's not that we put it into the crush and just release whatever we have also I've seen this approach not more than",
    "start": "194500",
    "end": "200320"
  },
  {
    "text": "once but if we go to the findings and we take a look at them we have to think",
    "start": "200320",
    "end": "206110"
  },
  {
    "text": "whether we want to spend money or other resources like time people to fix them",
    "start": "206110",
    "end": "211660"
  },
  {
    "text": "or not and what can help us with deciding which findings are relevant and",
    "start": "211660",
    "end": "218650"
  },
  {
    "text": "which are not I wonder whether you have seen any of the reports from penetration",
    "start": "218650",
    "end": "227049"
  },
  {
    "text": "findings or from security code review who has seen such things okay I've seen",
    "start": "227049",
    "end": "234310"
  },
  {
    "text": "a number of hence the biggest report that I have seen it had twenty-seven",
    "start": "234310",
    "end": "240280"
  },
  {
    "text": "thousands of pages and the company who got the sweep out for setting up from us",
    "start": "240280",
    "end": "245320"
  },
  {
    "text": "asked us as a red team what does it mean so sometimes it comes to that that we",
    "start": "245320",
    "end": "253420"
  },
  {
    "text": "have tons of findings and what we can do one of the things that we can do and what the management understands is that",
    "start": "253420",
    "end": "260739"
  },
  {
    "text": "we can try to apply the risk associated with the findings and when we want to impress the executives the management we",
    "start": "260739",
    "end": "268300"
  },
  {
    "text": "can explain the risk in terms of numbers because the numbers that's what you do",
    "start": "268300",
    "end": "273789"
  },
  {
    "text": "not easily question so we can think about funny formula and",
    "start": "273789",
    "end": "279960"
  },
  {
    "text": "fortunately it's not from what that will bring out the focus to this presentation but what we can do with this formula",
    "start": "279960",
    "end": "286720"
  },
  {
    "text": "first we'll check what is the severity of the finding of the security finding that we report so severity it means",
    "start": "286720",
    "end": "294280"
  },
  {
    "text": "whether what is the damage if such finding will be exploited on production",
    "start": "294280",
    "end": "299700"
  },
  {
    "text": "then we can count in also likelihood what is likelihood that it will happen",
    "start": "299700",
    "end": "305770"
  },
  {
    "text": "maybe it will happen just for one or equation two million so we might think",
    "start": "305770",
    "end": "311110"
  },
  {
    "text": "okay we'll just keep an eye on it but we will not fix it at this time maybe later",
    "start": "311110",
    "end": "316570"
  },
  {
    "text": "what if it's quite likely maybe we should bring our attention and fix it much sooner and the third component is a",
    "start": "316570",
    "end": "324880"
  },
  {
    "text": "detection difficulty because sometimes we can find very clever way to hack the",
    "start": "324880",
    "end": "330310"
  },
  {
    "text": "system but we can think that if such hack leaves a lot of traces then we can",
    "start": "330310",
    "end": "338800"
  },
  {
    "text": "find it easily and hopefully act quickly but if we report an issue that ends up",
    "start": "338800",
    "end": "345520"
  },
  {
    "text": "in a serious hack and which does not leave any traces then the problem is",
    "start": "345520",
    "end": "352390"
  },
  {
    "text": "real serious and that's why we want to express that with a number so it will be",
    "start": "352390",
    "end": "357820"
  },
  {
    "text": "much more easy to just able by executive and management so bear in mind these",
    "start": "357820",
    "end": "364120"
  },
  {
    "text": "three categories which we want to get from the security tests so hopefully our",
    "start": "364120",
    "end": "371050"
  },
  {
    "text": "testers also security testers will not only report that they found a funny way",
    "start": "371050",
    "end": "376860"
  },
  {
    "text": "exciting way to hack our system but they will also be able to show us what is the",
    "start": "376860",
    "end": "383170"
  },
  {
    "text": "severity what is the aqueous and detection difficulty of the findings so",
    "start": "383170",
    "end": "389290"
  },
  {
    "start": "389000",
    "end": "389000"
  },
  {
    "text": "let's take a look at the landscape that I would like to use to make a comparison",
    "start": "389290",
    "end": "395230"
  },
  {
    "text": "so under white box test I mean just the static our source code review under",
    "start": "395230",
    "end": "402130"
  },
  {
    "text": "black box testing I mean the penetration testing so we bring the test instance of",
    "start": "402130",
    "end": "407500"
  },
  {
    "text": "our product we show what are the interfaces we show",
    "start": "407500",
    "end": "412720"
  },
  {
    "text": "even the internals of our code and give the pen testers full access to the",
    "start": "412720",
    "end": "418479"
  },
  {
    "text": "environment and let them unleash all the tools that they can use under red",
    "start": "418479",
    "end": "423610"
  },
  {
    "text": "teaming I mean that we are defining for the red team just these three things",
    "start": "423610",
    "end": "431080"
  },
  {
    "text": "so Frank first what is the threat actor so who they should simulate whether we",
    "start": "431080",
    "end": "437289"
  },
  {
    "text": "as the organization are afraid of maybe organized crimes maybe we are afraid of",
    "start": "437289",
    "end": "443759"
  },
  {
    "text": "IPT so maybe state-sponsored hackers maybe we are just afraid of our internal",
    "start": "443759",
    "end": "450699"
  },
  {
    "text": "employees who might be disgruntled because of some job cuts so first we",
    "start": "450699",
    "end": "456819"
  },
  {
    "text": "define to it actor then we define the target and the target is very specific",
    "start": "456819",
    "end": "461949"
  },
  {
    "text": "so it means that for example we can define that if our organization is a",
    "start": "461949",
    "end": "467440"
  },
  {
    "text": "bank then we are typically afraid that the personal data of our customers who",
    "start": "467440",
    "end": "473259"
  },
  {
    "text": "leaked or maybe the credit cards which are stored in our systems will leak so as a target we specify very detailed way",
    "start": "473259",
    "end": "482469"
  },
  {
    "text": "for example specific table in the database which contains such data or",
    "start": "482469",
    "end": "488469"
  },
  {
    "text": "maybe we define specific file share and the files were such data is third and then the third component of the red",
    "start": "488469",
    "end": "495759"
  },
  {
    "text": "teaming is dead under the scope we define the whole production environment",
    "start": "495759",
    "end": "501819"
  },
  {
    "text": "and production it's very important because of the red team we don't want to get into discussion ok it was just the",
    "start": "501819",
    "end": "510340"
  },
  {
    "text": "test instance nobody cared about the logs so that's why you were able to hack it so then any findings from the red",
    "start": "510340",
    "end": "517120"
  },
  {
    "text": "team would become irrelevant say I wonder how many of you did or took part",
    "start": "517120",
    "end": "522849"
  },
  {
    "text": "in a static code review ok a lot of people and how many of you took part or",
    "start": "522849",
    "end": "531100"
  },
  {
    "text": "were under penetration tests a bit less and how many of you",
    "start": "531100",
    "end": "536640"
  },
  {
    "text": "experienced red teaming even less hopefully other people were also subject",
    "start": "536640",
    "end": "543660"
  },
  {
    "text": "but the red team did the good job of hiding their activities okay so here we",
    "start": "543660",
    "end": "550800"
  },
  {
    "text": "have the landscape and let's try to find out what the attack we did so as a",
    "start": "550800",
    "end": "557610"
  },
  {
    "start": "557000",
    "end": "557000"
  },
  {
    "text": "target you can see on the right hand side there was a database and we were",
    "start": "557610",
    "end": "562680"
  },
  {
    "text": "asked to put very specific data into one of the tables which would trigger the",
    "start": "562680",
    "end": "568140"
  },
  {
    "text": "actual payments to some accounts so if we would succeed we would put the data into the table we would put our bank",
    "start": "568140",
    "end": "575670"
  },
  {
    "text": "accounts and then the accounting systems of the company would automatically trigger such such money transfer so that",
    "start": "575670",
    "end": "584940"
  },
  {
    "text": "was our ultimate target but this database had also an application and in",
    "start": "584940",
    "end": "592200"
  },
  {
    "text": "the middle of that you can see application server which was storing some front-end for this application and",
    "start": "592200",
    "end": "599010"
  },
  {
    "text": "this application had all types of access checking and so on so of course there",
    "start": "599010",
    "end": "605460"
  },
  {
    "text": "was no direct access to the database so as a red team we did not attack the",
    "start": "605460",
    "end": "611610"
  },
  {
    "text": "company from outside but we assumed the initial breach so we started from the",
    "start": "611610",
    "end": "616650"
  },
  {
    "text": "workstation of compromised workstation of one of the regular employees and what",
    "start": "616650",
    "end": "622080"
  },
  {
    "text": "we tried to achieve of course we first tried the application server so we tried to get through the",
    "start": "622080",
    "end": "628530"
  },
  {
    "text": "front-end check whether there are any stupid mistakes like leaving the for",
    "start": "628530",
    "end": "635070"
  },
  {
    "text": "example object ID in URL so we can switch it and just change whatever data we can do but this application went",
    "start": "635070",
    "end": "644310"
  },
  {
    "text": "through a number of security tests and such low-hanging fruits were not available to us so then we unleashed as",
    "start": "644310",
    "end": "651510"
  },
  {
    "text": "a red team some infrastructure attacks so we tried to reach the database",
    "start": "651510",
    "end": "657480"
  },
  {
    "text": "directly but then we hit the firewall because all these layers of application",
    "start": "657480",
    "end": "663030"
  },
  {
    "text": "were completely correctly separated so there was no direct access the database itself so as a red team we",
    "start": "663030",
    "end": "672470"
  },
  {
    "text": "have in scope whole production environment so what we did as a red team we started to look around and when we",
    "start": "672470",
    "end": "680690"
  },
  {
    "text": "started to look around we found on a lonely share file a jar which name was",
    "start": "680690",
    "end": "687139"
  },
  {
    "text": "related somehow to the application that we tried to bridge and disappeared to be",
    "start": "687139",
    "end": "693110"
  },
  {
    "text": "crucial because when we looked further into the jar and associated script files it seemed to do some operations through",
    "start": "693110",
    "end": "701959"
  },
  {
    "text": "the application server but not with the features that were available for all the",
    "start": "701959",
    "end": "709699"
  },
  {
    "text": "users to the front end so we had a jar what we could do further we dived into",
    "start": "709699",
    "end": "717680"
  },
  {
    "start": "716000",
    "end": "716000"
  },
  {
    "text": "the jar and the Java jar files are so kind that we don't have to go through",
    "start": "717680",
    "end": "724579"
  },
  {
    "text": "this assembly process what we have to simply revert it and the compiled it back to the source code and what we",
    "start": "724579",
    "end": "731779"
  },
  {
    "text": "found interesting is that this jar file it exposed specific additional interface",
    "start": "731779",
    "end": "739880"
  },
  {
    "text": "to this application server and as you can see here the the Java code is making",
    "start": "739880",
    "end": "745850"
  },
  {
    "text": "some RPC call and making some eczema's what interface looks like I will drill",
    "start": "745850",
    "end": "753380"
  },
  {
    "text": "into that further but the interface that's just another interface so we had",
    "start": "753380",
    "end": "760010"
  },
  {
    "text": "to drill down what it does and it seems to be really innocent",
    "start": "760010",
    "end": "766130"
  },
  {
    "text": "it was just returning some dictionaries from the database probably it was used",
    "start": "766130",
    "end": "771649"
  },
  {
    "text": "to fill some Excel sheets with the data directly from the dictionaries in the application so nobody would have to copy",
    "start": "771649",
    "end": "780260"
  },
  {
    "text": "it in the number of places what brought our attention is this mic list to SQL string function when we",
    "start": "780260",
    "end": "788480"
  },
  {
    "text": "drill down into that we found that's just a concatenation of the list",
    "start": "788480",
    "end": "794449"
  },
  {
    "text": "elements so this code just represent that we take whatever is in the list and",
    "start": "794449",
    "end": "799730"
  },
  {
    "text": "we put in to come separated string and then we send it somewhere to the server so if we would",
    "start": "799730",
    "end": "807200"
  },
  {
    "text": "run this code through some static code automatic analyzer then the code this is",
    "start": "807200",
    "end": "814640"
  },
  {
    "text": "pretty well written there is nothing suspicious if we do not",
    "start": "814640",
    "end": "820610"
  },
  {
    "text": "know the context but the context was not pretty clear to us so we started to",
    "start": "820610",
    "end": "827330"
  },
  {
    "text": "think what we can do and let's break for a moment here so we found a jar file we",
    "start": "827330",
    "end": "834440"
  },
  {
    "text": "found specific code which seems to be pretty promising to us as a red team but",
    "start": "834440",
    "end": "840980"
  },
  {
    "text": "let's take a look what we would how we would approach this code if we would run",
    "start": "840980",
    "end": "846230"
  },
  {
    "text": "into these three categories so if we would do the static code analysis we",
    "start": "846230",
    "end": "851390"
  },
  {
    "text": "would just report the bug we would think whether it is informative or low",
    "start": "851390",
    "end": "856790"
  },
  {
    "text": "priority back let's just developers deal with that hopefully the developers will",
    "start": "856790",
    "end": "862880"
  },
  {
    "text": "know all the context and will figure out whether this code needs to be fixed or not when it comes to penetration testing",
    "start": "862880",
    "end": "870470"
  },
  {
    "text": "and red teaming that's just the beginning yeah that's the entry point maybe it will prove successful maybe not",
    "start": "870470",
    "end": "878030"
  },
  {
    "text": "but it's worth to exploit it so what is this XML RPC invocation that we saw in",
    "start": "878030",
    "end": "885920"
  },
  {
    "start": "882000",
    "end": "882000"
  },
  {
    "text": "the java code we can trigger it easily with just a curl command all we can do",
    "start": "885920",
    "end": "891170"
  },
  {
    "text": "is add the HTTP header content type text XML and then in the post we can specify",
    "start": "891170",
    "end": "898220"
  },
  {
    "text": "specific XML and within this XML we provide the method name that we want to",
    "start": "898220",
    "end": "905480"
  },
  {
    "text": "call in this case it's equipment we can specify the parameters and the",
    "start": "905480",
    "end": "911240"
  },
  {
    "text": "parameters is where this list concatenation was used so we try to run",
    "start": "911240",
    "end": "918530"
  },
  {
    "text": "it and put the output into XML file why",
    "start": "918530",
    "end": "923990"
  },
  {
    "text": "it's important I will tell you in a moment when I was showing this first time a friend of mine told me ok but",
    "start": "923990",
    "end": "931040"
  },
  {
    "text": "where is the host name and then I said yeah at least here an ammonite anonymized this slide",
    "start": "931040",
    "end": "939170"
  },
  {
    "text": "properly so what happens next we can",
    "start": "939170",
    "end": "944270"
  },
  {
    "text": "also provide some parameters here so for example you can put a number 100 or put",
    "start": "944270",
    "end": "950090"
  },
  {
    "text": "any other comma separated values and then we can filter out the equipments",
    "start": "950090",
    "end": "955610"
  },
  {
    "text": "for the type 100 and we can also redirect the output to the file and if",
    "start": "955610",
    "end": "961820"
  },
  {
    "text": "we take a look at the file it will look like that that we are getting the",
    "start": "961820",
    "end": "967730"
  },
  {
    "text": "results from the database that there are three properties for every row returned",
    "start": "967730",
    "end": "974510"
  },
  {
    "text": "and they are just some unknown for us values maybe they are important maybe",
    "start": "974510",
    "end": "981470"
  },
  {
    "text": "they are not they are defense in not related to the payment that we would like to achieve but that's just the",
    "start": "981470",
    "end": "988490"
  },
  {
    "text": "beginning it means that we have a way to execute something on the database to get",
    "start": "988490",
    "end": "994160"
  },
  {
    "text": "the results without any authentication because all we specify here is just an",
    "start": "994160",
    "end": "999290"
  },
  {
    "text": "XML so that sounds promising so what we",
    "start": "999290",
    "end": "1004420"
  },
  {
    "text": "can do next next we can think about what happens in the background because that's",
    "start": "1004420",
    "end": "1010990"
  },
  {
    "text": "the XML that we are sending is being processed by some java code but at the end of the day we know that it hits the",
    "start": "1010990",
    "end": "1017860"
  },
  {
    "text": "oracle database so then there is definitely some SQL on the way to the",
    "start": "1017860",
    "end": "1023920"
  },
  {
    "text": "database so we can think about how these parameters used for filtering are being",
    "start": "1023920",
    "end": "1030819"
  },
  {
    "text": "used in SQL so at the previous presentation I found out that not all",
    "start": "1030820",
    "end": "1037839"
  },
  {
    "text": "the people use SQL so it was pretty surprising for me but some people if",
    "start": "1037839",
    "end": "1044589"
  },
  {
    "text": "they operate with databases they just stick with object relational model so",
    "start": "1044589",
    "end": "1049780"
  },
  {
    "text": "there is no need for SQL but a debugger if we use relational databases SQL",
    "start": "1049780",
    "end": "1055440"
  },
  {
    "text": "that's what happens so a bit information",
    "start": "1055440",
    "end": "1061150"
  },
  {
    "start": "1057000",
    "end": "1057000"
  },
  {
    "text": "about simple SQL select statement if we have a table which has particular",
    "start": "1061150",
    "end": "1066610"
  },
  {
    "text": "columns and rows then we would like to select just a subset of the data we can do some",
    "start": "1066610",
    "end": "1073090"
  },
  {
    "text": "filtering so what we execute on the database is a select statement in select",
    "start": "1073090",
    "end": "1078160"
  },
  {
    "text": "statement we define what columns from the database we would like to fetch and",
    "start": "1078160",
    "end": "1083440"
  },
  {
    "text": "then we can also specify which particular rows we would like to fetch",
    "start": "1083440",
    "end": "1089380"
  },
  {
    "text": "from the database and we can tell in the where Clause particle that particular",
    "start": "1089380",
    "end": "1096310"
  },
  {
    "text": "columns should be equal to particular number but we can also use the in phrase and as you can see then we can supply a",
    "start": "1096310",
    "end": "1103930"
  },
  {
    "text": "comma separated values so the return that result will contain only the IDS",
    "start": "1103930",
    "end": "1110470"
  },
  {
    "text": "which will list it so come on separated values that seems pretty promising",
    "start": "1110470",
    "end": "1116110"
  },
  {
    "text": "because it looks like it's something that was that Java code was tried to",
    "start": "1116110",
    "end": "1121480"
  },
  {
    "text": "achieve so what we can do with that we",
    "start": "1121480",
    "end": "1126520"
  },
  {
    "start": "1124000",
    "end": "1124000"
  },
  {
    "text": "can think that the equipment types that we can supply an XML is a comma",
    "start": "1126520",
    "end": "1131680"
  },
  {
    "text": "separated value and we can think about okay so we have a string with comma separated values so how it can be",
    "start": "1131680",
    "end": "1138820"
  },
  {
    "text": "processed on the database side we can think that probably it is being",
    "start": "1138820",
    "end": "1144160"
  },
  {
    "text": "concatenated with the Select statement that I have shown before so there is some select phrase then in phrase and",
    "start": "1144160",
    "end": "1151630"
  },
  {
    "text": "then the parameter that we have supplied from outside is concatenated and then",
    "start": "1151630",
    "end": "1158800"
  },
  {
    "text": "just the ending bracket is added and then such newly formatted string",
    "start": "1158800",
    "end": "1164200"
  },
  {
    "text": "containing the query can be executed so this is the assumption that's the",
    "start": "1164200",
    "end": "1170230"
  },
  {
    "text": "educated guess so how we can prove whether this educated guess is correct",
    "start": "1170230",
    "end": "1176140"
  },
  {
    "text": "or not so we can try to put under this equipment types something else something",
    "start": "1176140",
    "end": "1182830"
  },
  {
    "text": "else that we know that will be actually interpreted by the database and some",
    "start": "1182830",
    "end": "1188650"
  },
  {
    "text": "more logic will be executed so for that because we know that it's Oracle",
    "start": "1188650",
    "end": "1193720"
  },
  {
    "text": "database we can use something like the code statement and the code statement",
    "start": "1193720",
    "end": "1199570"
  },
  {
    "text": "it's a bit like switch-case from other languages so it",
    "start": "1199570",
    "end": "1205320"
  },
  {
    "text": "evaluates first expression and according to the expression value it returned it",
    "start": "1205320",
    "end": "1212580"
  },
  {
    "text": "kind of returned different results so for example if we decode column one",
    "start": "1212580",
    "end": "1218430"
  },
  {
    "text": "value and if it is 100 then it will return CRT if it is 101 it will return",
    "start": "1218430",
    "end": "1225090"
  },
  {
    "text": "high at the end if the column value is not listed then it will return unknown",
    "start": "1225090",
    "end": "1231320"
  },
  {
    "text": "so we can also try to find out and use",
    "start": "1231320",
    "end": "1237050"
  },
  {
    "text": "such a phrase like select one from DOOL DOOL isn't just an abstract table on the",
    "start": "1237050",
    "end": "1243000"
  },
  {
    "text": "oracle it is not really a table it's something that we can just use as a table name and this statement select",
    "start": "1243000",
    "end": "1251040"
  },
  {
    "text": "well from doors should always return one and we can put it under the code evaluation and we should get some",
    "start": "1251040",
    "end": "1258570"
  },
  {
    "text": "results so the point is to just execute anything that should be properly",
    "start": "1258570",
    "end": "1263730"
  },
  {
    "text": "interpreted by Oracle if we succeed then it means the equipment types is not",
    "start": "1263730",
    "end": "1269910"
  },
  {
    "text": "properly sanitized before concatenated with the rest of the SQL query so that's",
    "start": "1269910",
    "end": "1277200"
  },
  {
    "text": "the SQL select statement that we would like to execute so if this code that we",
    "start": "1277200",
    "end": "1284400"
  },
  {
    "text": "are injecting is properly properly it's",
    "start": "1284400",
    "end": "1290040"
  },
  {
    "text": "properly decoded on the database side that it should shrink into just 101 value and what it means it means that we",
    "start": "1290040",
    "end": "1299580"
  },
  {
    "text": "can supply into this XML the code statement in the way like that and when",
    "start": "1299580",
    "end": "1306240"
  },
  {
    "text": "we execute it we got the output and the output you can see that we redirected",
    "start": "1306240",
    "end": "1311670"
  },
  {
    "text": "that into a quick point 101 XML with a suffix it appeared that the output is",
    "start": "1311670",
    "end": "1318300"
  },
  {
    "text": "exactly the same like we did for 101 filtering so we proved that it works so",
    "start": "1318300",
    "end": "1325920"
  },
  {
    "text": "we can think what we really achieved we have extracted one bit of information",
    "start": "1325920",
    "end": "1331260"
  },
  {
    "text": "from the database because we executed the code which would which",
    "start": "1331260",
    "end": "1338640"
  },
  {
    "text": "would work differently whether they would would be returning zero or one so one bit of information that might be not",
    "start": "1338640",
    "end": "1345810"
  },
  {
    "text": "a big finding but we can think what else we can do with that so instead of just",
    "start": "1345810",
    "end": "1355620"
  },
  {
    "text": "looking for returning zero one we can for example select all the attributes",
    "start": "1355620",
    "end": "1362850"
  },
  {
    "text": "from the user privileges for the user that is running all these queries and we can check whether this user has admin",
    "start": "1362850",
    "end": "1369660"
  },
  {
    "text": "option and this is one bit of information if this admin option is 0 or more but",
    "start": "1369660",
    "end": "1376650"
  },
  {
    "text": "that's pretty significant information that we can take from database you can also run more complicated query for",
    "start": "1376650",
    "end": "1383430"
  },
  {
    "text": "example this query it checks whether there are Java packages enabled on the Oracle database because that's one of",
    "start": "1383430",
    "end": "1390630"
  },
  {
    "text": "the way of escalating privileges on the Oracle database and this also what we",
    "start": "1390630",
    "end": "1395820"
  },
  {
    "text": "can get significant information using just one bit here really two bits as you",
    "start": "1395820",
    "end": "1402090"
  },
  {
    "text": "can see in the code of information so not much but still some additional",
    "start": "1402090",
    "end": "1408300"
  },
  {
    "text": "information that we can get because somebody left xml interface and authenticated so what different security",
    "start": "1408300",
    "end": "1418620"
  },
  {
    "text": "tests would do in the static code analysis those guys would be already on",
    "start": "1418620",
    "end": "1424080"
  },
  {
    "text": "the vacation or on interesting developers conference because they already reported the bug but we've been",
    "start": "1424080",
    "end": "1430410"
  },
  {
    "text": "testing that's the beginning of the story they have the test instances they",
    "start": "1430410",
    "end": "1435540"
  },
  {
    "text": "have unleash all the tools the tools like SQL map which would use this one",
    "start": "1435540",
    "end": "1441750"
  },
  {
    "text": "bit of information per query and just get all the data they could using this",
    "start": "1441750",
    "end": "1447330"
  },
  {
    "text": "particular user connection with the red teaming we have to think that we are",
    "start": "1447330",
    "end": "1454020"
  },
  {
    "text": "simulating an article an attacker will not unleash all the tools just to get caught they have to think roughly and",
    "start": "1454020",
    "end": "1461630"
  },
  {
    "text": "just think about the ways that would do something similar but silently",
    "start": "1461630",
    "end": "1467610"
  },
  {
    "text": "so we can try something else we can try something like SQL Union and SQL Union",
    "start": "1467610",
    "end": "1474660"
  },
  {
    "start": "1470000",
    "end": "1470000"
  },
  {
    "text": "allows us to fetch the data from two different tables so we have seen that we",
    "start": "1474660",
    "end": "1481410"
  },
  {
    "text": "could get the data from the equipment table but it was not really interesting",
    "start": "1481410",
    "end": "1486690"
  },
  {
    "text": "maybe we could try to use the Union statement to fetch some additional data",
    "start": "1486690",
    "end": "1492150"
  },
  {
    "text": "from different tables so what the Union does when we add the Union statement",
    "start": "1492150",
    "end": "1500040"
  },
  {
    "text": "then we can specify additional select additional select from a different table",
    "start": "1500040",
    "end": "1505080"
  },
  {
    "text": "we just have to make sure that the column names returned by those this",
    "start": "1505080",
    "end": "1510840"
  },
  {
    "text": "additional select match is the first one also in terms of the types returned so",
    "start": "1510840",
    "end": "1518100"
  },
  {
    "text": "if we execute that we'll get the result which will look like the results from",
    "start": "1518100",
    "end": "1523650"
  },
  {
    "text": "the first table but will in fact include the rows from both of them so let's try",
    "start": "1523650",
    "end": "1530130"
  },
  {
    "start": "1529000",
    "end": "1529000"
  },
  {
    "text": "to think how we should craft our select statement so we would achieve this Union",
    "start": "1530130",
    "end": "1536250"
  },
  {
    "text": "so here we can see what we think the database does so what we should do we",
    "start": "1536250",
    "end": "1544680"
  },
  {
    "text": "should end we should close the bracket we can just put 0 there so no results",
    "start": "1544680",
    "end": "1551520"
  },
  {
    "text": "will be returned and well at the Union we'll add all those selects we'll put at",
    "start": "1551520",
    "end": "1557640"
  },
  {
    "text": "the end where 1 equals 1 just to do something that will match the ending bracket what's important is that we must",
    "start": "1557640",
    "end": "1566460"
  },
  {
    "text": "know what is the number of columns and we must know the name of columns what we",
    "start": "1566460",
    "end": "1573360"
  },
  {
    "text": "knew at the beginning is just the XML column names but when we took a look",
    "start": "1573360",
    "end": "1579210"
  },
  {
    "text": "further into jar files it appeared that the build process has clobbered not only",
    "start": "1579210",
    "end": "1586770"
  },
  {
    "text": "the client side of the XML interface but also the server side sometimes I used to",
    "start": "1586770",
    "end": "1592890"
  },
  {
    "text": "jog from that especially on the security conferences but a friend of mine told me",
    "start": "1592890",
    "end": "1598830"
  },
  {
    "text": "that ok used to be developer you know how it works when it comes to deployment we",
    "start": "1598830",
    "end": "1604110"
  },
  {
    "text": "just put all the code because it's easier to deploy all the security objectives that might come later and",
    "start": "1604110",
    "end": "1609570"
  },
  {
    "text": "that's what happened here so in the jar file we had also the application server",
    "start": "1609570",
    "end": "1615210"
  },
  {
    "text": "code side and you can see how the actual database side saw stored procedure was",
    "start": "1615210",
    "end": "1622620"
  },
  {
    "text": "called and we can see what were the column names returned by the stored",
    "start": "1622620",
    "end": "1628320"
  },
  {
    "text": "procedure so using this information so again recon recon will come we have",
    "start": "1628320",
    "end": "1635610"
  },
  {
    "text": "crafted this additional statement that was that used the column names that we",
    "start": "1635610",
    "end": "1641400"
  },
  {
    "text": "extracted from the journal file so that how it looks in the XML so our filter",
    "start": "1641400",
    "end": "1649950"
  },
  {
    "start": "1645000",
    "end": "1645000"
  },
  {
    "text": "becomes more and more interesting and when we executed that on the database",
    "start": "1649950",
    "end": "1656030"
  },
  {
    "text": "then in return we got it XML but not really with the data that we expected so",
    "start": "1656030",
    "end": "1662700"
  },
  {
    "text": "we ended the SQL commands somehow incorrectly at least we got also",
    "start": "1662700",
    "end": "1669780"
  },
  {
    "text": "information that it was really the procedure that we expected to be called and that was the prod environment that",
    "start": "1669780",
    "end": "1677010"
  },
  {
    "text": "we were hitting so in every mistake there is a bit of more information but",
    "start": "1677010",
    "end": "1683850"
  },
  {
    "text": "it means that our indigenous education guys was good enough to select one bit",
    "start": "1683850",
    "end": "1688919"
  },
  {
    "text": "of information but not to properly add a union statement so what next with the",
    "start": "1688919",
    "end": "1698549"
  },
  {
    "start": "1695000",
    "end": "1695000"
  },
  {
    "text": "white box analysis we can tell okay there is additional procedure it returns",
    "start": "1698549",
    "end": "1704000"
  },
  {
    "text": "strange errors so we should analyze this particular procedure and report",
    "start": "1704000",
    "end": "1709260"
  },
  {
    "text": "additional box with the black box testing ok we have procedure we know",
    "start": "1709260",
    "end": "1716460"
  },
  {
    "text": "what are the parameters so we can just fuzz it and take a look where it is",
    "start": "1716460",
    "end": "1721919"
  },
  {
    "text": "breaking and when it is returning interesting results of the red teaming yeah we have to think before we act",
    "start": "1721919",
    "end": "1731320"
  },
  {
    "text": "so what else we could do so our initial assumption that it was just the simple",
    "start": "1731320",
    "end": "1738730"
  },
  {
    "text": "filtering proved not to be completely correct because our inject has returned",
    "start": "1738730",
    "end": "1746290"
  },
  {
    "text": "an error so maybe this SQL statement on the database site is put the filtering",
    "start": "1746290",
    "end": "1753220"
  },
  {
    "text": "is put somewhere else maybe it is put into the sub-query in the where",
    "start": "1753220",
    "end": "1758320"
  },
  {
    "text": "statement maybe it is a sub-query in the from part of the Select statement so we",
    "start": "1758320",
    "end": "1766750"
  },
  {
    "text": "tried all those educated guesses so it writes some tweaks like adding an SQL",
    "start": "1766750",
    "end": "1772930"
  },
  {
    "text": "comment too quickly and the Select statement we try to use the double",
    "start": "1772930",
    "end": "1779020"
  },
  {
    "text": "brackets on the assumption that you can see here in this sub selects so we tried",
    "start": "1779020",
    "end": "1785110"
  },
  {
    "text": "also more complicated stuff like with function statement which is available in Oracle starting from version 12 but all",
    "start": "1785110",
    "end": "1793510"
  },
  {
    "text": "of this approaches failed so we tried that a couple of times but of course we",
    "start": "1793510",
    "end": "1798550"
  },
  {
    "text": "were afraid that it will start to trigger some investigation because it was live system it's supposed to have",
    "start": "1798550",
    "end": "1804400"
  },
  {
    "text": "live monitoring administrators which cared about this system because it was",
    "start": "1804400",
    "end": "1809680"
  },
  {
    "text": "very important for the company that's why the red team was it was selected as",
    "start": "1809680",
    "end": "1815200"
  },
  {
    "text": "a target for the red team so we had to think more so with the white box testing",
    "start": "1815200",
    "end": "1822910"
  },
  {
    "text": "they already reported that there is probably an issue in procedure so they",
    "start": "1822910",
    "end": "1828160"
  },
  {
    "text": "don't have to do anything else with the black box testing they have test instances that so they don't care",
    "start": "1828160",
    "end": "1834790"
  },
  {
    "text": "whether they will fall or not even if the database will crash they will just ask kindly to restore it what with the",
    "start": "1834790",
    "end": "1841870"
  },
  {
    "text": "red teaming there is always red team is tempted that if we fail then maybe we'll",
    "start": "1841870",
    "end": "1848770"
  },
  {
    "text": "get louder maybe we'll do something that will be more efficient and maybe we'll",
    "start": "1848770",
    "end": "1854920"
  },
  {
    "text": "be lucky and will not get caught so what we couldn't do you can use something specific specific",
    "start": "1854920",
    "end": "1862910"
  },
  {
    "start": "1859000",
    "end": "1859000"
  },
  {
    "text": "table on the oracle database called user source this table holds the actual",
    "start": "1862910",
    "end": "1868700"
  },
  {
    "text": "content of all the objects including storage procedure so if we would fetch from this table the storage procedure",
    "start": "1868700",
    "end": "1876350"
  },
  {
    "text": "code then we would be able to craft our inject better and this way maybe obtain",
    "start": "1876350",
    "end": "1883090"
  },
  {
    "text": "additional data but right now we have the access just one bit of information",
    "start": "1883090",
    "end": "1889000"
  },
  {
    "text": "so how we can use it to read the whole context whole a content of the storage",
    "start": "1889000",
    "end": "1895550"
  },
  {
    "text": "procedure so we can try to select from this table but we know that we have to",
    "start": "1895550",
    "end": "1902330"
  },
  {
    "text": "wrap it so we will select just one line at the time we'll really select just one",
    "start": "1902330",
    "end": "1910400"
  },
  {
    "text": "character at the time and then we will run it through the code statement and we",
    "start": "1910400",
    "end": "1915980"
  },
  {
    "text": "will check if it is a then we will return the whole list of equipments type",
    "start": "1915980",
    "end": "1921020"
  },
  {
    "text": "100 if it is something else we return the whole list of equipment 101 and",
    "start": "1921020",
    "end": "1927170"
  },
  {
    "text": "we'll try again so we can wrap it into a loop but then there is a question that",
    "start": "1927170",
    "end": "1935300"
  },
  {
    "text": "eventually will get there right it's just the case of a number of queries but",
    "start": "1935300",
    "end": "1941120"
  },
  {
    "text": "the question is how many queries we need how much traffic it will generate on the network whether it will be suspicious or",
    "start": "1941120",
    "end": "1947990"
  },
  {
    "text": "not whether we'll be caught or not and there is also questions how many exceptions it will raise on the database",
    "start": "1947990",
    "end": "1955280"
  },
  {
    "text": "side because even if the regular traffic will not be seen because this is the",
    "start": "1955280",
    "end": "1960380"
  },
  {
    "text": "live system the data is flowing in and out of database all the time but the exceptions that's something that really",
    "start": "1960380",
    "end": "1967010"
  },
  {
    "text": "stands out in the database logs so that's really can bring an attention of",
    "start": "1967010",
    "end": "1972770"
  },
  {
    "text": "administrators so we decided that it's not the road that will go forward with",
    "start": "1972770",
    "end": "1980710"
  },
  {
    "text": "so what we could do next with this with",
    "start": "1980710",
    "end": "1986150"
  },
  {
    "text": "these guys they already gone to another conference with the black box testing if",
    "start": "1986150",
    "end": "1992000"
  },
  {
    "text": "they are brute-forcing have all the power and resources they will find what's wrong with the code and",
    "start": "1992000",
    "end": "1998330"
  },
  {
    "text": "they will report it back with the red teaming come on it's not the only way",
    "start": "1998330",
    "end": "2004120"
  },
  {
    "text": "that we can reach what we need because the whole environment is in our scope so",
    "start": "2004120",
    "end": "2009820"
  },
  {
    "text": "let's do some additional recon so it appeared that using different techniques",
    "start": "2009820",
    "end": "2016000"
  },
  {
    "start": "2014000",
    "end": "2014000"
  },
  {
    "text": "we are able to bridge some additional users workstation and at the end of the day we have retrieved this particular",
    "start": "2016000",
    "end": "2023320"
  },
  {
    "text": "storage procedure code just from the code repository so we still didn't have the access to the database but we",
    "start": "2023320",
    "end": "2030940"
  },
  {
    "text": "breached the source code repository and I really not breach the gate but simply",
    "start": "2030940",
    "end": "2037540"
  },
  {
    "text": "the code was client on some workstations so using this information we're finally",
    "start": "2037540",
    "end": "2043060"
  },
  {
    "text": "able to find all these building blocks of the SQL statement that made our",
    "start": "2043060",
    "end": "2049740"
  },
  {
    "text": "previous approaches failed so what we found is that okay in the stored",
    "start": "2049740",
    "end": "2056050"
  },
  {
    "text": "procedure there is no just a simple select there is also a cursor used so",
    "start": "2056050",
    "end": "2063310"
  },
  {
    "text": "that's why some of our approaches attempts failed we seen that there are",
    "start": "2063310",
    "end": "2070179"
  },
  {
    "text": "actually six columns returned not three it's just three that were handled in",
    "start": "2070179",
    "end": "2075490"
  },
  {
    "text": "this XML interface but when we tried to do the Union then we had to supply",
    "start": "2075490",
    "end": "2080740"
  },
  {
    "text": "particular number of columns and we were not aware that there are six not just three we also found where the injection",
    "start": "2080740",
    "end": "2089820"
  },
  {
    "text": "happens so where this parameter this comma separated list is concatenated",
    "start": "2089820",
    "end": "2095740"
  },
  {
    "text": "with the rest of the statement and at least here our educated guess was right because you can see that it's in phrase",
    "start": "2095740",
    "end": "2103350"
  },
  {
    "text": "and then you can see that at the end of the query there is also ordering it was",
    "start": "2103350",
    "end": "2108760"
  },
  {
    "text": "also something that we didn't anticipate and it was messing up with our attempts",
    "start": "2108760",
    "end": "2114010"
  },
  {
    "text": "to breach the database so using this source code we are finally able to",
    "start": "2114010",
    "end": "2119950"
  },
  {
    "text": "define what the real injector should be but here also in the code we can see",
    "start": "2119950",
    "end": "2125950"
  },
  {
    "text": "that there is the limit 4000 characters so our exploits cannot be too long so what the",
    "start": "2125950",
    "end": "2135040"
  },
  {
    "start": "2134000",
    "end": "2134000"
  },
  {
    "text": "real attack looks like so we can see the whole statement that is being",
    "start": "2135040",
    "end": "2140740"
  },
  {
    "text": "concatenated so what we can do to make it work in the way that we control so",
    "start": "2140740",
    "end": "2148720"
  },
  {
    "text": "first what we do we'll just this close this opening bracket so we can start our",
    "start": "2148720",
    "end": "2155260"
  },
  {
    "text": "own stuff then we will deal with this cursor so we'll just close it so it will",
    "start": "2155260",
    "end": "2162280"
  },
  {
    "text": "be flushed out of any select statement previously put into it will open it",
    "start": "2162280",
    "end": "2167650"
  },
  {
    "text": "immediately but for our own statement and then we will try to select these",
    "start": "2167650",
    "end": "2176830"
  },
  {
    "text": "three columns that we've seen in the XML interface and now we know what types are",
    "start": "2176830",
    "end": "2184630"
  },
  {
    "text": "there so we know that there are two columns which return strings and the",
    "start": "2184630",
    "end": "2189970"
  },
  {
    "text": "third column which returns numbers so again try to make a simple exploit",
    "start": "2189970",
    "end": "2195700"
  },
  {
    "text": "selecting from dwell just to check whether it works or not and then at the",
    "start": "2195700",
    "end": "2200800"
  },
  {
    "text": "end we have to deal with this closing bracket so we'll do it with a trick with this where one equals one so then the",
    "start": "2200800",
    "end": "2208090"
  },
  {
    "text": "closing bracket will close the one that we opened so our final exploit has two",
    "start": "2208090",
    "end": "2214440"
  },
  {
    "text": "interesting properties one is that here we can put put any select query as long",
    "start": "2214440",
    "end": "2222730"
  },
  {
    "text": "as we are returning three columns two of them are strings and one of them is numbers we can select from any table",
    "start": "2222730",
    "end": "2228970"
  },
  {
    "text": "which is available to the user that we that is holding this connection but there is also another interesting thing",
    "start": "2228970",
    "end": "2235200"
  },
  {
    "text": "that here between closing and opening a cursor we can put any select statement",
    "start": "2235200",
    "end": "2242380"
  },
  {
    "text": "so we can put beloved delete tables but we are writing we are not breaking the",
    "start": "2242380",
    "end": "2249100"
  },
  {
    "text": "systems of our we are breaching but we are not breaking the systems of our customers but we can put here for",
    "start": "2249100",
    "end": "2256270"
  },
  {
    "text": "example creating a new user in the database changing the credentials if we have enough privileges so we can",
    "start": "2256270",
    "end": "2263920"
  },
  {
    "text": "put any SQL statement not just querying the database so let's take a look what",
    "start": "2263920",
    "end": "2270670"
  },
  {
    "start": "2269000",
    "end": "2269000"
  },
  {
    "text": "how we can use it so for example we can find out what are all privileges of the",
    "start": "2270670",
    "end": "2277000"
  },
  {
    "text": "users not just by counting them but actually listing them so what we will do",
    "start": "2277000",
    "end": "2284040"
  },
  {
    "text": "will use the Select statement but we will convert it so it will return three",
    "start": "2284040",
    "end": "2290200"
  },
  {
    "text": "column names as they are designed in this interface and because the last",
    "start": "2290200",
    "end": "2295870"
  },
  {
    "text": "option which returns yes or no link that's designed from Oracle so we will",
    "start": "2295870",
    "end": "2302050"
  },
  {
    "text": "translate it into some numbers so I've chosen arbitrarily ten and seven okay",
    "start": "2302050",
    "end": "2307570"
  },
  {
    "text": "and then we put it into our exploit so you can see here that as a parameter",
    "start": "2307570",
    "end": "2313960"
  },
  {
    "text": "there is a code that was reset on the previous slide and as a select statement I have put this one listing the user",
    "start": "2313960",
    "end": "2321010"
  },
  {
    "text": "privileges so when we executed that finally we got note the equipment list",
    "start": "2321010",
    "end": "2328150"
  },
  {
    "text": "but the actual privileges from the database there are two interesting",
    "start": "2328150",
    "end": "2333640"
  },
  {
    "text": "privileges listing listed here after any trigger create any index so that's",
    "start": "2333640",
    "end": "2339370"
  },
  {
    "text": "additional elite additional information that the red team can use to elevate the privileges further but the main point",
    "start": "2339370",
    "end": "2346060"
  },
  {
    "text": "here is that we switched from accessing one bit of information at a time to",
    "start": "2346060",
    "end": "2353260"
  },
  {
    "text": "actually selecting the data from the database from any table that our user",
    "start": "2353260",
    "end": "2360130"
  },
  {
    "text": "can reach with that you can also select some other data so for example we can",
    "start": "2360130",
    "end": "2366490"
  },
  {
    "text": "use specific things to Oracle like selecting user environment so you can select the actual host and IP",
    "start": "2366490",
    "end": "2373720"
  },
  {
    "text": "address of the database server so we again translate that to these three",
    "start": "2373720",
    "end": "2379930"
  },
  {
    "text": "columns that we have to return we put it into our XML and also return we will get",
    "start": "2379930",
    "end": "2387130"
  },
  {
    "text": "an XML that will contain the name and the IP of the",
    "start": "2387130",
    "end": "2393490"
  },
  {
    "text": "server so if we take a look at our security test what does it mean if we",
    "start": "2393490",
    "end": "2401170"
  },
  {
    "text": "achieve this kind of result for white boxing and black boxing so for static",
    "start": "2401170",
    "end": "2407230"
  },
  {
    "text": "code analysis and penetration tests they're not so relevant because they already reported the issue they reported",
    "start": "2407230",
    "end": "2414610"
  },
  {
    "text": "the back which should be fixed and would have stopped the red team from achieving such access but with the red team",
    "start": "2414610",
    "end": "2422320"
  },
  {
    "text": "we of course Tekamah document defining but that's not the end because we're not",
    "start": "2422320",
    "end": "2428110"
  },
  {
    "text": "tasked with breaching the database reading all the data we have completely different target in mind you have to add",
    "start": "2428110",
    "end": "2434980"
  },
  {
    "text": "some data to the database so it will trigger the payment which will appear on our bank account that's our ultimate",
    "start": "2434980",
    "end": "2441280"
  },
  {
    "text": "goal so this thing that we breached the database that's something that can",
    "start": "2441280",
    "end": "2448210"
  },
  {
    "text": "enable us to do the ultimate thing but not really the end of the story but",
    "start": "2448210",
    "end": "2455320"
  },
  {
    "start": "2455000",
    "end": "2455000"
  },
  {
    "text": "that's something that I will not continue so as a teaser I can tell that",
    "start": "2455320",
    "end": "2461020"
  },
  {
    "text": "with this database access we later on elevated privileges so we have obtained",
    "start": "2461020",
    "end": "2468369"
  },
  {
    "text": "the database administrator access to the database later on from the point of being able to",
    "start": "2468369",
    "end": "2475840"
  },
  {
    "text": "execute select statement as the DBA we're able to bridge to OS level access",
    "start": "2475840",
    "end": "2481300"
  },
  {
    "text": "so we ultimately got the access to SSH blade later on we compromised the server",
    "start": "2481300",
    "end": "2489240"
  },
  {
    "text": "obtaining the root access and then we were able to spread to other servers all",
    "start": "2489240",
    "end": "2495310"
  },
  {
    "text": "behind those firewalls but let's compute a different story so maybe another time",
    "start": "2495310",
    "end": "2503560"
  },
  {
    "text": "in other conference so though I would like to summarize what were the results",
    "start": "2503560",
    "end": "2510070"
  },
  {
    "start": "2506000",
    "end": "2506000"
  },
  {
    "text": "of these three types of findings so first if we take a look whether all",
    "start": "2510070",
    "end": "2516340"
  },
  {
    "text": "these tests can find the bugs of course they can because we could spot the the",
    "start": "2516340",
    "end": "2524320"
  },
  {
    "text": "string concatenation and putting that into select statement that much might",
    "start": "2524320",
    "end": "2529420"
  },
  {
    "text": "not be the best way to use it during penetration testing that's the interface",
    "start": "2529420",
    "end": "2535480"
  },
  {
    "text": "that could also be found and the issues with it could be reported with red",
    "start": "2535480",
    "end": "2542619"
  },
  {
    "text": "teaming we found it but the point is that with red teaming we just looked at",
    "start": "2542619",
    "end": "2548020"
  },
  {
    "text": "this one particular function at this one particular issue why because we try to",
    "start": "2548020",
    "end": "2554470"
  },
  {
    "text": "breach database we are not tasked with listing all the issues in all the code of all the interfaces so if we would",
    "start": "2554470",
    "end": "2562570"
  },
  {
    "text": "look just at the box found whether red teaming is important or not then it's",
    "start": "2562570",
    "end": "2569770"
  },
  {
    "text": "really not what we should expect from red teaming because white boxing and",
    "start": "2569770",
    "end": "2575260"
  },
  {
    "text": "white box testing black box testing they are much more efficient way to find the",
    "start": "2575260",
    "end": "2580270"
  },
  {
    "text": "bugs and not just a single bug but they should find all the bugs in all our code",
    "start": "2580270",
    "end": "2587100"
  },
  {
    "text": "but as we talked as I showed at the beginning number of findings is not the",
    "start": "2587100",
    "end": "2594460"
  },
  {
    "text": "ultimate value that we show later on to the management or executives we also have to think about what risk is",
    "start": "2594460",
    "end": "2601090"
  },
  {
    "text": "associated with particular finding so we take a look at severity likelihood and",
    "start": "2601090",
    "end": "2607090"
  },
  {
    "text": "detection and if we talk about severity as you've seen on the static code",
    "start": "2607090",
    "end": "2613270"
  },
  {
    "text": "analysis we would be able to find it may be string concatenation is not the best",
    "start": "2613270",
    "end": "2620680"
  },
  {
    "text": "way to do it but whether it leads to actual breach of the database it's",
    "start": "2620680",
    "end": "2626530"
  },
  {
    "text": "pretty hard to tell just from the database code or from the java code",
    "start": "2626530",
    "end": "2631780"
  },
  {
    "text": "that's not something the severity of the issue is not easy obtainable",
    "start": "2631780",
    "end": "2637869"
  },
  {
    "text": "from just looking at the source code if we take a look at the penetration testing I have witnessed a couple of",
    "start": "2637869",
    "end": "2646240"
  },
  {
    "text": "time that people were saying oh okay it just happened on a test environment it would not be really issue on the",
    "start": "2646240",
    "end": "2653260"
  },
  {
    "text": "production because and there is a number of excuses so something like denial",
    "start": "2653260",
    "end": "2658330"
  },
  {
    "text": "phase that Troy was talking about during his presentation but to any talk about red",
    "start": "2658330",
    "end": "2664269"
  },
  {
    "text": "teaming and we show that we breached production database then there is much",
    "start": "2664269",
    "end": "2670059"
  },
  {
    "text": "less excuses to not treat it seriously if we take a look at the likelihood",
    "start": "2670059",
    "end": "2676469"
  },
  {
    "text": "again with the static code analysis it's really hard to tell whether it's likely",
    "start": "2676469",
    "end": "2681640"
  },
  {
    "text": "that somebody will breach this interface or not because we just see the code and",
    "start": "2681640",
    "end": "2686739"
  },
  {
    "text": "we it's very hard to see the whole context with the penetration testing",
    "start": "2686739",
    "end": "2691920"
  },
  {
    "text": "it's really possible to show whether we can breach with this particular issue or",
    "start": "2691920",
    "end": "2697660"
  },
  {
    "text": "not three depends how much time we give to our pen testers and how much they are",
    "start": "2697660",
    "end": "2702819"
  },
  {
    "text": "passionate about the work and what we achieve we can take a look how much",
    "start": "2702819",
    "end": "2708249"
  },
  {
    "text": "effort they spend to actually breach particularly in this case the database",
    "start": "2708249",
    "end": "2714069"
  },
  {
    "text": "with red teaming it's not just the effort that we'll see we'll also see it",
    "start": "2714069",
    "end": "2719829"
  },
  {
    "text": "through a specific threat actor that red team was tasked to simulate so hopefully",
    "start": "2719829",
    "end": "2725650"
  },
  {
    "text": "if our red team is mature enough we'll be able to tell whether it was achievable by state-sponsored hackers",
    "start": "2725650",
    "end": "2734289"
  },
  {
    "text": "whether it will be achievable by cyber criminals cause red team can tell that",
    "start": "2734289",
    "end": "2740380"
  },
  {
    "text": "for example to obtain this access they had to use some cracking machines which would not be available by a regular",
    "start": "2740380",
    "end": "2747309"
  },
  {
    "text": "employee or only of able to really well sponsored or desperate cyber criminals",
    "start": "2747309",
    "end": "2753489"
  },
  {
    "text": "so that's the additional information that red team brings when it comes to",
    "start": "2753489",
    "end": "2758859"
  },
  {
    "text": "detection we have much more information from red teaming the information which",
    "start": "2758859",
    "end": "2764380"
  },
  {
    "text": "is not really available in other security tests because with code",
    "start": "2764380",
    "end": "2769779"
  },
  {
    "text": "analysis nobody really cares whether some information of that is some issues",
    "start": "2769779",
    "end": "2775079"
  },
  {
    "text": "during the breaching can be found in the logs or not with the penetration test",
    "start": "2775079",
    "end": "2780400"
  },
  {
    "text": "it's also the same because even sometimes we take a look at the logs",
    "start": "2780400",
    "end": "2785559"
  },
  {
    "text": "which are produced by pen testing team but because they used a lot of tools and",
    "start": "2785559",
    "end": "2791710"
  },
  {
    "text": "they unleashed a lot of conor's then the logs can be really messy and it's really hard to get any",
    "start": "2791710",
    "end": "2798600"
  },
  {
    "text": "observable data from that what with red teaming its life its production they",
    "start": "2798600",
    "end": "2805950"
  },
  {
    "text": "simulate the actual attackers so they should have been detected so the",
    "start": "2805950",
    "end": "2811920"
  },
  {
    "text": "database administrator should have seen that there is a strange exception in the u-lock files they should react and I",
    "start": "2811920",
    "end": "2819540"
  },
  {
    "text": "must tell that in couple of situations I was actually cut off the database",
    "start": "2819540",
    "end": "2824820"
  },
  {
    "text": "because administrators spotted that but that's the human factor and that's",
    "start": "2824820",
    "end": "2830280"
  },
  {
    "text": "something that can be obtained only with the red teaming and in such cases when I",
    "start": "2830280",
    "end": "2835410"
  },
  {
    "text": "was caught during such exploitation we were able to show ok you have an issue",
    "start": "2835410",
    "end": "2842370"
  },
  {
    "text": "with this interface but you have also very strong administrative team who is",
    "start": "2842370",
    "end": "2847830"
  },
  {
    "text": "able to monitor their system efficiently and they are able to cut such issues so",
    "start": "2847830",
    "end": "2854250"
  },
  {
    "text": "this gives additional information to our customers where they should spend resources which interfaces they should",
    "start": "2854250",
    "end": "2860730"
  },
  {
    "text": "fix first and when it comes to resources and money it also you can take a look",
    "start": "2860730",
    "end": "2868170"
  },
  {
    "text": "that all of these issues could have been found pretty quickly maybe doing design",
    "start": "2868170",
    "end": "2873420"
  },
  {
    "text": "size but definitely doing code analysis and when it comes to the cost I was a",
    "start": "2873420",
    "end": "2879240"
  },
  {
    "text": "bit joking that the people from static code analysis they are already on the developers conference and so on but",
    "start": "2879240",
    "end": "2886020"
  },
  {
    "text": "because they were able to point out these issues pretty quickly efficiently",
    "start": "2886020",
    "end": "2891330"
  },
  {
    "text": "and without much cost so it means that they budget coolers could have been",
    "start": "2891330",
    "end": "2898260"
  },
  {
    "text": "spent on the developers conference what we've been testing the cost was much higher and with red teaming we spend a",
    "start": "2898260",
    "end": "2906390"
  },
  {
    "text": "lot of money on red teaming and if we think that we will just have one or two",
    "start": "2906390",
    "end": "2912810"
  },
  {
    "text": "bucks found in the systems maybe that's not the wisest way to spend money and that's why it's important that if we do",
    "start": "2912810",
    "end": "2919920"
  },
  {
    "text": "red teaming we do not expect just the box to be found we have to think about all this likelihood and",
    "start": "2919920",
    "end": "2926940"
  },
  {
    "text": "detection mechanism that's what we should expect from the red team not just the bridge but how our organization",
    "start": "2926940",
    "end": "2934220"
  },
  {
    "text": "reacts to all of these actions that threatened us so these are my thoughts",
    "start": "2934220",
    "end": "2941760"
  },
  {
    "text": "about all these different tests in all of this kind of categories I took part",
    "start": "2941760",
    "end": "2948210"
  },
  {
    "text": "red team was closest to my heart but right now I'm more to the light side of",
    "start": "2948210",
    "end": "2954540"
  },
  {
    "text": "security protection but hopefully these faults will also give some insight to",
    "start": "2954540",
    "end": "2960930"
  },
  {
    "text": "you and you'll be able to use them in your jobs if you have any questions please ask now or find me later at the",
    "start": "2960930",
    "end": "2968130"
  },
  {
    "text": "conference",
    "start": "2968130",
    "end": "2970578"
  },
  {
    "text": "so doing the red team engagements that I took part in it were typically two to",
    "start": "2979530",
    "end": "2985920"
  },
  {
    "text": "four weeks so when we started from initial point of reach inside the",
    "start": "2985920",
    "end": "2991260"
  },
  {
    "text": "company that was enough time and in this particular case it took me about a week",
    "start": "2991260",
    "end": "2997740"
  },
  {
    "text": "from initial finding of this jar file so analyzing the jar suit on Isaac the Java",
    "start": "2997740",
    "end": "3004340"
  },
  {
    "text": "code then trying pretty quietly all of this interfaces to the ultimate bridge",
    "start": "3004340",
    "end": "3010820"
  },
  {
    "text": "and during this one week I was focused on this database interface but for",
    "start": "3010820",
    "end": "3017240"
  },
  {
    "text": "example this database code that was supplied by my another colleague from the team",
    "start": "3017240",
    "end": "3023120"
  },
  {
    "text": "she was actually looking at some other accesses and she was able to breach the",
    "start": "3023120",
    "end": "3029060"
  },
  {
    "text": "workstation where the database stored procedure code was found so it was a",
    "start": "3029060",
    "end": "3035180"
  },
  {
    "text": "one-week time and what you made such success was obtained because of two of",
    "start": "3035180",
    "end": "3042560"
  },
  {
    "text": "us working together okay so thank you",
    "start": "3042560",
    "end": "3050060"
  },
  {
    "text": "very much and see you on the conference [Applause]",
    "start": "3050060",
    "end": "3059070"
  }
]