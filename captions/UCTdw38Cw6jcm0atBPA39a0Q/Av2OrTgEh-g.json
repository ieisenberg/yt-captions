[
  {
    "text": "all right well thank you for oh let's",
    "start": "1319",
    "end": "3840"
  },
  {
    "text": "start the timer as well",
    "start": "3840",
    "end": "5880"
  },
  {
    "text": "thank you for being here uh my name is",
    "start": "5880",
    "end": "8280"
  },
  {
    "text": "Eugene Romero and what I'm going to talk",
    "start": "8280",
    "end": "10320"
  },
  {
    "text": "about is securing your app's",
    "start": "10320",
    "end": "12420"
  },
  {
    "text": "Communications with kubernetes Azure key",
    "start": "12420",
    "end": "15299"
  },
  {
    "text": "Vault and TLS certificates now I'm using",
    "start": "15299",
    "end": "18180"
  },
  {
    "text": "TLS certificates because it's a cool",
    "start": "18180",
    "end": "19920"
  },
  {
    "text": "keyword but really the solution I'm",
    "start": "19920",
    "end": "21660"
  },
  {
    "text": "going to show works for any kind of",
    "start": "21660",
    "end": "23880"
  },
  {
    "text": "secrets that you might need to inject",
    "start": "23880",
    "end": "25560"
  },
  {
    "text": "into your applications",
    "start": "25560",
    "end": "27539"
  },
  {
    "text": "before I start who is Eugene Romero and",
    "start": "27539",
    "end": "30420"
  },
  {
    "text": "why should you be here listening to me",
    "start": "30420",
    "end": "31740"
  },
  {
    "text": "today then why well you're already here",
    "start": "31740",
    "end": "33660"
  },
  {
    "text": "so it doesn't really matter I work at",
    "start": "33660",
    "end": "36300"
  },
  {
    "text": "capgemony as a senior cloud and devops",
    "start": "36300",
    "end": "39120"
  },
  {
    "text": "engineer I've been in the industry for",
    "start": "39120",
    "end": "41520"
  },
  {
    "text": "about 15 a little bit longer than 15",
    "start": "41520",
    "end": "43739"
  },
  {
    "text": "years and when I am not doing",
    "start": "43739",
    "end": "46379"
  },
  {
    "text": "development I lost a sign over there I",
    "start": "46379",
    "end": "50520"
  },
  {
    "text": "enjoy restoring and modifying old gaming",
    "start": "50520",
    "end": "52620"
  },
  {
    "text": "systems so especially if you like game",
    "start": "52620",
    "end": "54719"
  },
  {
    "text": "boys do come talk to me after I got",
    "start": "54719",
    "end": "57000"
  },
  {
    "text": "plenty of pictures to show you",
    "start": "57000",
    "end": "59340"
  },
  {
    "text": "so the problem that we are trying to",
    "start": "59340",
    "end": "61860"
  },
  {
    "text": "solve here",
    "start": "61860",
    "end": "63539"
  },
  {
    "text": "Secrets management Secrets management is",
    "start": "63539",
    "end": "66540"
  },
  {
    "text": "difficult if you are a developer I'm",
    "start": "66540",
    "end": "69060"
  },
  {
    "text": "sure you know this how do you get",
    "start": "69060",
    "end": "71159"
  },
  {
    "text": "secrets into your applications without",
    "start": "71159",
    "end": "73619"
  },
  {
    "text": "exposing these secrets to people who",
    "start": "73619",
    "end": "75840"
  },
  {
    "text": "should not have access to them",
    "start": "75840",
    "end": "78320"
  },
  {
    "text": "usually something that you hear right",
    "start": "78320",
    "end": "80700"
  },
  {
    "text": "away is make sure you don't check in",
    "start": "80700",
    "end": "82680"
  },
  {
    "text": "your secrets into code control for",
    "start": "82680",
    "end": "84840"
  },
  {
    "text": "example this is a very basic thing right",
    "start": "84840",
    "end": "86759"
  },
  {
    "text": "but how can we take these secrets then",
    "start": "86759",
    "end": "89159"
  },
  {
    "text": "and make our applications use them when",
    "start": "89159",
    "end": "91500"
  },
  {
    "text": "they need them",
    "start": "91500",
    "end": "93600"
  },
  {
    "text": "secrets and code they should be kept",
    "start": "93600",
    "end": "95579"
  },
  {
    "text": "separate from each other so our code",
    "start": "95579",
    "end": "97500"
  },
  {
    "text": "should be able to be cloned by anyone",
    "start": "97500",
    "end": "99180"
  },
  {
    "text": "without them actually having access to",
    "start": "99180",
    "end": "101579"
  },
  {
    "text": "these secrets it might also be that if",
    "start": "101579",
    "end": "103860"
  },
  {
    "text": "you have different environments for your",
    "start": "103860",
    "end": "105540"
  },
  {
    "text": "applications you are also going to have",
    "start": "105540",
    "end": "107579"
  },
  {
    "text": "different kinds or different Secrets or",
    "start": "107579",
    "end": "110100"
  },
  {
    "text": "different values for these secrets let's",
    "start": "110100",
    "end": "111899"
  },
  {
    "text": "say to differentiate between a",
    "start": "111899",
    "end": "113880"
  },
  {
    "text": "development or a production environment",
    "start": "113880",
    "end": "115380"
  },
  {
    "text": "and so on",
    "start": "115380",
    "end": "117060"
  },
  {
    "text": "finally to be able to automate",
    "start": "117060",
    "end": "119040"
  },
  {
    "text": "everything you should be able to",
    "start": "119040",
    "end": "120780"
  },
  {
    "text": "automate the injection of the secrets",
    "start": "120780",
    "end": "123060"
  },
  {
    "text": "into your application you don't want to",
    "start": "123060",
    "end": "125280"
  },
  {
    "text": "have a manual step every time you do a",
    "start": "125280",
    "end": "127259"
  },
  {
    "text": "deploy of an application where you go in",
    "start": "127259",
    "end": "129119"
  },
  {
    "text": "and you copy in all your secrets by hand",
    "start": "129119",
    "end": "131280"
  },
  {
    "text": "because this is just not going to work",
    "start": "131280",
    "end": "133080"
  },
  {
    "text": "it's going to be error prone it's going",
    "start": "133080",
    "end": "134879"
  },
  {
    "text": "to take way too much time and you're",
    "start": "134879",
    "end": "136620"
  },
  {
    "text": "just going to be unhappy you're going to",
    "start": "136620",
    "end": "138120"
  },
  {
    "text": "start looking for a new job",
    "start": "138120",
    "end": "140160"
  },
  {
    "text": "so here is a solution and I'm saying",
    "start": "140160",
    "end": "142860"
  },
  {
    "text": "it's a solution a as in one off not as",
    "start": "142860",
    "end": "145860"
  },
  {
    "text": "in A and B uh because there are a few",
    "start": "145860",
    "end": "148739"
  },
  {
    "text": "different ways of solving this issue",
    "start": "148739",
    "end": "150239"
  },
  {
    "text": "right but this is one that I've been",
    "start": "150239",
    "end": "151620"
  },
  {
    "text": "using in some projects I've been",
    "start": "151620",
    "end": "153300"
  },
  {
    "text": "involved in and it has worked quite well",
    "start": "153300",
    "end": "155520"
  },
  {
    "text": "so I that's why I'm talking about it",
    "start": "155520",
    "end": "157680"
  },
  {
    "text": "today",
    "start": "157680",
    "end": "159120"
  },
  {
    "text": "the solution first off is based on an",
    "start": "159120",
    "end": "162300"
  },
  {
    "text": "application running in kubernetes so by",
    "start": "162300",
    "end": "164640"
  },
  {
    "text": "show of hands are there many here who",
    "start": "164640",
    "end": "166140"
  },
  {
    "text": "work with kubernetes on a regular basis",
    "start": "166140",
    "end": "168959"
  },
  {
    "text": "all right I see about three hands so",
    "start": "168959",
    "end": "170940"
  },
  {
    "text": "well I hope the rest of you have a",
    "start": "170940",
    "end": "172980"
  },
  {
    "text": "general idea of kubernetes because I",
    "start": "172980",
    "end": "174360"
  },
  {
    "text": "have very little time uh but yeah we're",
    "start": "174360",
    "end": "176519"
  },
  {
    "text": "talking about an application that runs",
    "start": "176519",
    "end": "178080"
  },
  {
    "text": "aspots inside of kubernetes",
    "start": "178080",
    "end": "180780"
  },
  {
    "text": "then our secrets are going to be living",
    "start": "180780",
    "end": "183660"
  },
  {
    "text": "in an Asher key Vault and if you're not",
    "start": "183660",
    "end": "185760"
  },
  {
    "text": "familiar with what this is it's just a",
    "start": "185760",
    "end": "187440"
  },
  {
    "text": "secure location for secrets that runs in",
    "start": "187440",
    "end": "190019"
  },
  {
    "text": "this case in Azure this is just what I'm",
    "start": "190019",
    "end": "192060"
  },
  {
    "text": "using for my example but the tool I'm",
    "start": "192060",
    "end": "194040"
  },
  {
    "text": "going to show can actually connect to",
    "start": "194040",
    "end": "195780"
  },
  {
    "text": "many different kinds of key vaults so no",
    "start": "195780",
    "end": "198239"
  },
  {
    "text": "matter what your organization uses you",
    "start": "198239",
    "end": "200040"
  },
  {
    "text": "can use this as well",
    "start": "200040",
    "end": "202260"
  },
  {
    "text": "finally the glue that joins these two",
    "start": "202260",
    "end": "204540"
  },
  {
    "text": "things together and the tool really that",
    "start": "204540",
    "end": "206280"
  },
  {
    "text": "I'm talking about is called The",
    "start": "206280",
    "end": "207780"
  },
  {
    "text": "kubernetes Secret store CSI driver those",
    "start": "207780",
    "end": "211260"
  },
  {
    "text": "people did not have a marketer because",
    "start": "211260",
    "end": "212879"
  },
  {
    "text": "that name is a mouthful and I have to",
    "start": "212879",
    "end": "215040"
  },
  {
    "text": "read it every single time I still don't",
    "start": "215040",
    "end": "216900"
  },
  {
    "text": "remember what it's called but the",
    "start": "216900",
    "end": "218220"
  },
  {
    "text": "secrets provider is what I like to call",
    "start": "218220",
    "end": "219780"
  },
  {
    "text": "it",
    "start": "219780",
    "end": "220860"
  },
  {
    "text": "so what is this cool we're not a secret",
    "start": "220860",
    "end": "222480"
  },
  {
    "text": "store CSI driver",
    "start": "222480",
    "end": "224580"
  },
  {
    "text": "according to its documentation is a tool",
    "start": "224580",
    "end": "227940"
  },
  {
    "text": "that integrates secret stores with",
    "start": "227940",
    "end": "230220"
  },
  {
    "text": "kubernetes via a container storage",
    "start": "230220",
    "end": "233159"
  },
  {
    "text": "interface or CSI volume",
    "start": "233159",
    "end": "236099"
  },
  {
    "text": "CSI is one type of thing in kubernetes",
    "start": "236099",
    "end": "240360"
  },
  {
    "text": "that allows you to mount something into",
    "start": "240360",
    "end": "243299"
  },
  {
    "text": "a pod it can be a disk it can be a file",
    "start": "243299",
    "end": "247260"
  },
  {
    "text": "it can be just a variable but something",
    "start": "247260",
    "end": "250200"
  },
  {
    "text": "that is mounted into your pod and that",
    "start": "250200",
    "end": "252599"
  },
  {
    "text": "appears as a file inside of your pod so",
    "start": "252599",
    "end": "255780"
  },
  {
    "text": "this tool is able to take these secrets",
    "start": "255780",
    "end": "257699"
  },
  {
    "text": "and make them appear as files inside of",
    "start": "257699",
    "end": "259979"
  },
  {
    "text": "your little pod with your application in",
    "start": "259979",
    "end": "261900"
  },
  {
    "text": "kubernetes",
    "start": "261900",
    "end": "264060"
  },
  {
    "text": "yes I did mention this basically it",
    "start": "264060",
    "end": "266520"
  },
  {
    "text": "mounts them as volumes",
    "start": "266520",
    "end": "268919"
  },
  {
    "text": "so I have a tiny demo about this and in",
    "start": "268919",
    "end": "273120"
  },
  {
    "text": "this demo let's talk about the scenario",
    "start": "273120",
    "end": "275280"
  },
  {
    "text": "that I'm going to show first off let's",
    "start": "275280",
    "end": "277139"
  },
  {
    "text": "imagine that we have a company with",
    "start": "277139",
    "end": "278880"
  },
  {
    "text": "internal resources Now by show of hands",
    "start": "278880",
    "end": "282180"
  },
  {
    "text": "again do many of you work in a company",
    "start": "282180",
    "end": "284160"
  },
  {
    "text": "or a project where you have internal",
    "start": "284160",
    "end": "286259"
  },
  {
    "text": "resources and by by that I mean for",
    "start": "286259",
    "end": "288960"
  },
  {
    "text": "example an internal website that only",
    "start": "288960",
    "end": "291780"
  },
  {
    "text": "works if your computer has been set up",
    "start": "291780",
    "end": "294000"
  },
  {
    "text": "with a certificate for your company the",
    "start": "294000",
    "end": "296100"
  },
  {
    "text": "little local certificate for your",
    "start": "296100",
    "end": "297419"
  },
  {
    "text": "company does that even make sense yeah I",
    "start": "297419",
    "end": "299580"
  },
  {
    "text": "see a few hands okay very nice usually",
    "start": "299580",
    "end": "301800"
  },
  {
    "text": "if you work in a medium to large",
    "start": "301800",
    "end": "303720"
  },
  {
    "text": "organization you're going to have this",
    "start": "303720",
    "end": "305220"
  },
  {
    "text": "right there's some internal services",
    "start": "305220",
    "end": "306720"
  },
  {
    "text": "that require internal certificates if",
    "start": "306720",
    "end": "309240"
  },
  {
    "text": "you just take a random computer from a",
    "start": "309240",
    "end": "310919"
  },
  {
    "text": "store and try to access them https will",
    "start": "310919",
    "end": "313740"
  },
  {
    "text": "not work because you require the",
    "start": "313740",
    "end": "315479"
  },
  {
    "text": "internal security right very good so",
    "start": "315479",
    "end": "318180"
  },
  {
    "text": "that's the first assumption",
    "start": "318180",
    "end": "320040"
  },
  {
    "text": "internal CA Authority as I mentioned and",
    "start": "320040",
    "end": "322919"
  },
  {
    "text": "now you are building an application that",
    "start": "322919",
    "end": "324840"
  },
  {
    "text": "needs to access some of these internal",
    "start": "324840",
    "end": "326940"
  },
  {
    "text": "sites internal services and of course we",
    "start": "326940",
    "end": "329039"
  },
  {
    "text": "want them to use https right for the",
    "start": "329039",
    "end": "331440"
  },
  {
    "text": "case of this demo and for using a TLS",
    "start": "331440",
    "end": "333900"
  },
  {
    "text": "certificate",
    "start": "333900",
    "end": "335100"
  },
  {
    "text": "uh I built this scenario because this is",
    "start": "335100",
    "end": "337500"
  },
  {
    "text": "a situation that I had at a client I was",
    "start": "337500",
    "end": "339840"
  },
  {
    "text": "working with where they had a",
    "start": "339840",
    "end": "343100"
  },
  {
    "text": "elasticsearch instance which is used for",
    "start": "343100",
    "end": "345479"
  },
  {
    "text": "collecting logs but to be able to send",
    "start": "345479",
    "end": "348180"
  },
  {
    "text": "logs to the elasticsearch instance we",
    "start": "348180",
    "end": "350580"
  },
  {
    "text": "needed to have the custom certificate",
    "start": "350580",
    "end": "352620"
  },
  {
    "text": "that elasticsearch was using for",
    "start": "352620",
    "end": "354720"
  },
  {
    "text": "authenticating its https so this was a",
    "start": "354720",
    "end": "358320"
  },
  {
    "text": "scenario that we encountered and we",
    "start": "358320",
    "end": "360419"
  },
  {
    "text": "encountered and we were able to fix it",
    "start": "360419",
    "end": "362580"
  },
  {
    "text": "in this way",
    "start": "362580",
    "end": "364620"
  },
  {
    "text": "the components for this particular demo",
    "start": "364620",
    "end": "366840"
  },
  {
    "text": "running locally in my machine I'm going",
    "start": "366840",
    "end": "368639"
  },
  {
    "text": "to use minicube if you're familiar with",
    "start": "368639",
    "end": "370680"
  },
  {
    "text": "minicube uh great if not it's basically",
    "start": "370680",
    "end": "373919"
  },
  {
    "text": "just a tiny kubernetes you can run on",
    "start": "373919",
    "end": "375600"
  },
  {
    "text": "your computer but it is fully featured",
    "start": "375600",
    "end": "377340"
  },
  {
    "text": "this exact same thing will also work if",
    "start": "377340",
    "end": "379500"
  },
  {
    "text": "you're using your own kubernetes that",
    "start": "379500",
    "end": "381840"
  },
  {
    "text": "you uh deploy by hand or if you're using",
    "start": "381840",
    "end": "384780"
  },
  {
    "text": "uh one of them what are they called",
    "start": "384780",
    "end": "386819"
  },
  {
    "text": "manage ones like Azure kubernetes",
    "start": "386819",
    "end": "389039"
  },
  {
    "text": "services and so on",
    "start": "389039",
    "end": "391139"
  },
  {
    "text": "I also use the Azure CLI now if this uh",
    "start": "391139",
    "end": "394319"
  },
  {
    "text": "if you were here for the longer version",
    "start": "394319",
    "end": "395699"
  },
  {
    "text": "of the talk you would see me run all the",
    "start": "395699",
    "end": "397500"
  },
  {
    "text": "commands you're not going to see it",
    "start": "397500",
    "end": "398819"
  },
  {
    "text": "today you're just going to have to take",
    "start": "398819",
    "end": "399720"
  },
  {
    "text": "my word for it and finally the demo",
    "start": "399720",
    "end": "402660"
  },
  {
    "text": "itself I built it as a Helm chart so at",
    "start": "402660",
    "end": "405360"
  },
  {
    "text": "the end of the talk I will show the",
    "start": "405360",
    "end": "406680"
  },
  {
    "text": "repository for it you can clone it play",
    "start": "406680",
    "end": "408720"
  },
  {
    "text": "around with it and get an idea of how it",
    "start": "408720",
    "end": "411180"
  },
  {
    "text": "works",
    "start": "411180",
    "end": "412500"
  },
  {
    "text": "so let's get a the very abbreviated demo",
    "start": "412500",
    "end": "415800"
  },
  {
    "text": "and uh I wrote very abbreviated because",
    "start": "415800",
    "end": "419039"
  },
  {
    "text": "again this is a lightning talk you will",
    "start": "419039",
    "end": "421319"
  },
  {
    "text": "not get to see me actually building the",
    "start": "421319",
    "end": "423060"
  },
  {
    "text": "thing I will just show you how it works",
    "start": "423060",
    "end": "424919"
  },
  {
    "text": "and you will have to take my word for it",
    "start": "424919",
    "end": "426960"
  },
  {
    "text": "that it works I also want an excuse to",
    "start": "426960",
    "end": "429180"
  },
  {
    "text": "use this GIF because I love this GIF I",
    "start": "429180",
    "end": "431580"
  },
  {
    "text": "don't know if you're familiar with the",
    "start": "431580",
    "end": "432840"
  },
  {
    "text": "history of this GIF but turns out that",
    "start": "432840",
    "end": "435780"
  },
  {
    "text": "the script for that particular scene",
    "start": "435780",
    "end": "437940"
  },
  {
    "text": "said that he had to look disappointed",
    "start": "437940",
    "end": "439560"
  },
  {
    "text": "but uh you know big Hollywood actor he",
    "start": "439560",
    "end": "441840"
  },
  {
    "text": "didn't care he just saw the word",
    "start": "441840",
    "end": "442979"
  },
  {
    "text": "disappointed he actually yelled",
    "start": "442979",
    "end": "444300"
  },
  {
    "text": "disappointed instead and they filmed it",
    "start": "444300",
    "end": "446639"
  },
  {
    "text": "and it actually made television so I",
    "start": "446639",
    "end": "448560"
  },
  {
    "text": "absolutely love this gif so the demo uh",
    "start": "448560",
    "end": "452039"
  },
  {
    "text": "went too far let's see",
    "start": "452039",
    "end": "454380"
  },
  {
    "text": "where is my mouse there we go so first",
    "start": "454380",
    "end": "456840"
  },
  {
    "text": "off the first thing I have built already",
    "start": "456840",
    "end": "459680"
  },
  {
    "text": "is a key Vault so if you're familiar",
    "start": "459680",
    "end": "462300"
  },
  {
    "text": "with the Azure interface what I have",
    "start": "462300",
    "end": "464460"
  },
  {
    "text": "here is just a standard key Vault it's",
    "start": "464460",
    "end": "466440"
  },
  {
    "text": "just a standard store for secrets",
    "start": "466440",
    "end": "469680"
  },
  {
    "text": "inside of my key Vault I have created a",
    "start": "469680",
    "end": "472800"
  },
  {
    "text": "certificate",
    "start": "472800",
    "end": "475460"
  },
  {
    "text": "and this certificate is uh it's",
    "start": "475620",
    "end": "478259"
  },
  {
    "text": "self-signed I created by hand earlier uh",
    "start": "478259",
    "end": "481620"
  },
  {
    "text": "you can actually see that it will help",
    "start": "481620",
    "end": "483720"
  },
  {
    "text": "me authenticate a site called",
    "start": "483720",
    "end": "485280"
  },
  {
    "text": "company.com this certificate is for a",
    "start": "485280",
    "end": "487860"
  },
  {
    "text": "very important company to the point that",
    "start": "487860",
    "end": "489360"
  },
  {
    "text": "they actually own company.com right so",
    "start": "489360",
    "end": "491520"
  },
  {
    "text": "very very good here",
    "start": "491520",
    "end": "493500"
  },
  {
    "text": "now one important element then or what I",
    "start": "493500",
    "end": "496740"
  },
  {
    "text": "will need to do to be able to connect my",
    "start": "496740",
    "end": "499919"
  },
  {
    "text": "kubernetes pod with this keyboard is I",
    "start": "499919",
    "end": "503819"
  },
  {
    "text": "will need to create a service principle",
    "start": "503819",
    "end": "507660"
  },
  {
    "text": "please raise your hand if you do not",
    "start": "507660",
    "end": "509340"
  },
  {
    "text": "know what a service principle is in",
    "start": "509340",
    "end": "511740"
  },
  {
    "text": "azure",
    "start": "511740",
    "end": "513360"
  },
  {
    "text": "all right a few hands as service",
    "start": "513360",
    "end": "514919"
  },
  {
    "text": "principle in very simple terms is a",
    "start": "514919",
    "end": "517979"
  },
  {
    "text": "username and a password it's just an",
    "start": "517979",
    "end": "520140"
  },
  {
    "text": "identity that you create in Azure and",
    "start": "520140",
    "end": "522180"
  },
  {
    "text": "you can give it specific permissions so",
    "start": "522180",
    "end": "524339"
  },
  {
    "text": "you create this let's call it a system",
    "start": "524339",
    "end": "526680"
  },
  {
    "text": "username and you can say you have access",
    "start": "526680",
    "end": "528899"
  },
  {
    "text": "to this and to this and that thing will",
    "start": "528899",
    "end": "531060"
  },
  {
    "text": "only be used for those few things so",
    "start": "531060",
    "end": "534540"
  },
  {
    "text": "I did create earlier a service principle",
    "start": "534540",
    "end": "537540"
  },
  {
    "text": "and now in my keyboard and it's a text",
    "start": "537540",
    "end": "540240"
  },
  {
    "text": "too small can you see it in the back can",
    "start": "540240",
    "end": "541860"
  },
  {
    "text": "you see it well or should I zoom in a",
    "start": "541860",
    "end": "543360"
  },
  {
    "text": "little bit",
    "start": "543360",
    "end": "545339"
  },
  {
    "text": "it's a little small okay I'll see if I",
    "start": "545339",
    "end": "547620"
  },
  {
    "text": "can make a little bit bigger while",
    "start": "547620",
    "end": "548640"
  },
  {
    "text": "breaking everything there we go",
    "start": "548640",
    "end": "550620"
  },
  {
    "text": "all right so if I go to my access",
    "start": "550620",
    "end": "554160"
  },
  {
    "text": "policies you can see here here is my",
    "start": "554160",
    "end": "556980"
  },
  {
    "text": "service principle that's also my user",
    "start": "556980",
    "end": "558600"
  },
  {
    "text": "and my email so please send me some",
    "start": "558600",
    "end": "560160"
  },
  {
    "text": "emails",
    "start": "560160",
    "end": "561360"
  },
  {
    "text": "um my service principal and I have given",
    "start": "561360",
    "end": "563220"
  },
  {
    "text": "it just get permissions on key secrets",
    "start": "563220",
    "end": "566580"
  },
  {
    "text": "and certificates right",
    "start": "566580",
    "end": "568440"
  },
  {
    "text": "so once I have created that uh service",
    "start": "568440",
    "end": "571980"
  },
  {
    "text": "principle I can get on with actually",
    "start": "571980",
    "end": "574220"
  },
  {
    "text": "connecting my application to",
    "start": "574220",
    "end": "577620"
  },
  {
    "text": "um the um yeah the keyboard let's zoom",
    "start": "577620",
    "end": "580920"
  },
  {
    "text": "in on this one as well",
    "start": "580920",
    "end": "583440"
  },
  {
    "text": "so and here I have the a little bit more",
    "start": "583440",
    "end": "588620"
  },
  {
    "text": "the definition for my this is a Helm",
    "start": "588620",
    "end": "592920"
  },
  {
    "text": "chart let's see first of all this is a",
    "start": "592920",
    "end": "594180"
  },
  {
    "text": "Helm chart where I have the definition",
    "start": "594180",
    "end": "595680"
  },
  {
    "text": "for the client or my application that is",
    "start": "595680",
    "end": "598980"
  },
  {
    "text": "running in kubernetes if you're not",
    "start": "598980",
    "end": "600959"
  },
  {
    "text": "familiar with Helm charts I won't get",
    "start": "600959",
    "end": "602399"
  },
  {
    "text": "into it now again because of time but",
    "start": "602399",
    "end": "604380"
  },
  {
    "text": "it's basically just a way of putting",
    "start": "604380",
    "end": "606240"
  },
  {
    "text": "things into kubernetes",
    "start": "606240",
    "end": "609180"
  },
  {
    "text": "the things that are special about it are",
    "start": "609180",
    "end": "612120"
  },
  {
    "text": "three things that I have needed to add",
    "start": "612120",
    "end": "614040"
  },
  {
    "text": "to be able to connect these two things",
    "start": "614040",
    "end": "615779"
  },
  {
    "text": "so first off I need to create a secret",
    "start": "615779",
    "end": "618779"
  },
  {
    "text": "inside of kubernetes and in this secret",
    "start": "618779",
    "end": "622560"
  },
  {
    "text": "what I am putting is the client ID and",
    "start": "622560",
    "end": "626160"
  },
  {
    "text": "client secret these are the username and",
    "start": "626160",
    "end": "628620"
  },
  {
    "text": "password of my service principle so the",
    "start": "628620",
    "end": "632700"
  },
  {
    "text": "user I created to access the key Vault I",
    "start": "632700",
    "end": "636240"
  },
  {
    "text": "created kubernetes secret where I put",
    "start": "636240",
    "end": "639240"
  },
  {
    "text": "the username and the password these can",
    "start": "639240",
    "end": "641820"
  },
  {
    "text": "be injected for example from a pipeline",
    "start": "641820",
    "end": "643980"
  },
  {
    "text": "so that you don't have them in code",
    "start": "643980",
    "end": "646399"
  },
  {
    "text": "then the next thing you do once you have",
    "start": "646399",
    "end": "649079"
  },
  {
    "text": "those things in place",
    "start": "649079",
    "end": "650459"
  },
  {
    "text": "you create whoops you create a what is",
    "start": "650459",
    "end": "654000"
  },
  {
    "text": "called a secret provider class this is a",
    "start": "654000",
    "end": "657420"
  },
  {
    "text": "custom kubernetes resource that is",
    "start": "657420",
    "end": "660779"
  },
  {
    "text": "provided by this tool this uh CSI",
    "start": "660779",
    "end": "663000"
  },
  {
    "text": "Secrets provider whatever the the one",
    "start": "663000",
    "end": "665160"
  },
  {
    "text": "with the really long name right",
    "start": "665160",
    "end": "666779"
  },
  {
    "text": "a few things to notice in here you can",
    "start": "666779",
    "end": "669480"
  },
  {
    "text": "say which kind of Provider it is that",
    "start": "669480",
    "end": "671579"
  },
  {
    "text": "you're targeting in our case we're going",
    "start": "671579",
    "end": "673140"
  },
  {
    "text": "with azure",
    "start": "673140",
    "end": "674399"
  },
  {
    "text": "you give it the name of the key Vault",
    "start": "674399",
    "end": "676680"
  },
  {
    "text": "where your secrets are and also you say",
    "start": "676680",
    "end": "679440"
  },
  {
    "text": "which kind of objects or which things",
    "start": "679440",
    "end": "681480"
  },
  {
    "text": "you want to pull from the key vault in",
    "start": "681480",
    "end": "684600"
  },
  {
    "text": "this case I am pulling a certificate you",
    "start": "684600",
    "end": "687000"
  },
  {
    "text": "see the object type of certificate and",
    "start": "687000",
    "end": "689100"
  },
  {
    "text": "it is called company certificate if you",
    "start": "689100",
    "end": "691260"
  },
  {
    "text": "remember that was a name we gave it over",
    "start": "691260",
    "end": "693779"
  },
  {
    "text": "here somewhere",
    "start": "693779",
    "end": "695660"
  },
  {
    "text": "right there company Dash certificate",
    "start": "695660",
    "end": "699060"
  },
  {
    "text": "right",
    "start": "699060",
    "end": "700079"
  },
  {
    "text": "very good and at the most basic that's",
    "start": "700079",
    "end": "702779"
  },
  {
    "text": "all I need to do to have my secrets",
    "start": "702779",
    "end": "704880"
  },
  {
    "text": "already now in my kubernetes cluster but",
    "start": "704880",
    "end": "707399"
  },
  {
    "text": "how do I consume these let's go now to",
    "start": "707399",
    "end": "710279"
  },
  {
    "text": "the definition of the application itself",
    "start": "710279",
    "end": "713000"
  },
  {
    "text": "so this is just a standard kubernetes",
    "start": "713000",
    "end": "715500"
  },
  {
    "text": "pod as you can see nothing too special",
    "start": "715500",
    "end": "717120"
  },
  {
    "text": "here",
    "start": "717120",
    "end": "718860"
  },
  {
    "text": "um",
    "start": "718860",
    "end": "719700"
  },
  {
    "text": "side note if you're wondering how my app",
    "start": "719700",
    "end": "722040"
  },
  {
    "text": "is actually resolving my internal",
    "start": "722040",
    "end": "723899"
  },
  {
    "text": "company.com there's this little trick",
    "start": "723899",
    "end": "725760"
  },
  {
    "text": "here called host aliases where you can",
    "start": "725760",
    "end": "728279"
  },
  {
    "text": "pass custom DNS entries so this is",
    "start": "728279",
    "end": "731160"
  },
  {
    "text": "similar to a hosts file in a Linux",
    "start": "731160",
    "end": "733620"
  },
  {
    "text": "system so in here I am saying",
    "start": "733620",
    "end": "735779"
  },
  {
    "text": "company.com should resolve to this IP",
    "start": "735779",
    "end": "738180"
  },
  {
    "text": "address instead of whatever the real",
    "start": "738180",
    "end": "739980"
  },
  {
    "text": "company.com is right side note but",
    "start": "739980",
    "end": "742740"
  },
  {
    "text": "inside of my container then the first",
    "start": "742740",
    "end": "745260"
  },
  {
    "text": "thing I do is let's see where is this",
    "start": "745260",
    "end": "748079"
  },
  {
    "text": "stuff now maybe it's further down no is",
    "start": "748079",
    "end": "749579"
  },
  {
    "text": "it further up yes",
    "start": "749579",
    "end": "752160"
  },
  {
    "text": "so I create a or I declare a volume",
    "start": "752160",
    "end": "756240"
  },
  {
    "text": "my volume is going to be of type",
    "start": "756240",
    "end": "760700"
  },
  {
    "text": "secretstore.csi.ks.io that is the",
    "start": "760760",
    "end": "762899"
  },
  {
    "text": "specific name of the custom CSI provider",
    "start": "762899",
    "end": "767279"
  },
  {
    "text": "also I tell it that it should use the",
    "start": "767279",
    "end": "770339"
  },
  {
    "text": "secret called key Vault credentials down",
    "start": "770339",
    "end": "772320"
  },
  {
    "text": "here that is again the username and the",
    "start": "772320",
    "end": "775620"
  },
  {
    "text": "password of the service principle right",
    "start": "775620",
    "end": "777720"
  },
  {
    "text": "so in this way I can tell it and of",
    "start": "777720",
    "end": "780360"
  },
  {
    "text": "course yes I need to say which secret",
    "start": "780360",
    "end": "781920"
  },
  {
    "text": "provider class it is that I am attaching",
    "start": "781920",
    "end": "784380"
  },
  {
    "text": "if you remember it was the one right",
    "start": "784380",
    "end": "787399"
  },
  {
    "text": "here I'm gonna say it's this one I",
    "start": "787399",
    "end": "790860"
  },
  {
    "text": "believe",
    "start": "790860",
    "end": "793040"
  },
  {
    "text": "very good so by doing this now I make",
    "start": "794519",
    "end": "796620"
  },
  {
    "text": "the volume available in my kubernetes",
    "start": "796620",
    "end": "799139"
  },
  {
    "text": "and then finally how do I consume it I",
    "start": "799139",
    "end": "802139"
  },
  {
    "text": "just mount it like you would Mount any",
    "start": "802139",
    "end": "803760"
  },
  {
    "text": "regular kubernetes volume you just say",
    "start": "803760",
    "end": "806100"
  },
  {
    "text": "I'm gonna mount it I'm gonna Mount this",
    "start": "806100",
    "end": "809100"
  },
  {
    "text": "volume that's when we declared a little",
    "start": "809100",
    "end": "810720"
  },
  {
    "text": "higher up in the file I'm gonna Mount",
    "start": "810720",
    "end": "812880"
  },
  {
    "text": "this specific thing from inside the",
    "start": "812880",
    "end": "814560"
  },
  {
    "text": "volume so this will Mount just the file",
    "start": "814560",
    "end": "816720"
  },
  {
    "text": "of the certificate itself and I'm gonna",
    "start": "816720",
    "end": "819540"
  },
  {
    "text": "mount it on this path and then the last",
    "start": "819540",
    "end": "821760"
  },
  {
    "text": "thing I do is I just run this update CA",
    "start": "821760",
    "end": "824220"
  },
  {
    "text": "certificates which if you're familiar",
    "start": "824220",
    "end": "826079"
  },
  {
    "text": "with Linux systems that's just a way of",
    "start": "826079",
    "end": "827940"
  },
  {
    "text": "adding a new certificate to your",
    "start": "827940",
    "end": "830100"
  },
  {
    "text": "applications key store so at the end of",
    "start": "830100",
    "end": "832500"
  },
  {
    "text": "it what my application is doing you can",
    "start": "832500",
    "end": "834540"
  },
  {
    "text": "see it's very simple it's just curling",
    "start": "834540",
    "end": "836880"
  },
  {
    "text": "the URL of the backend service which",
    "start": "836880",
    "end": "839639"
  },
  {
    "text": "already has this certificate in place",
    "start": "839639",
    "end": "841620"
  },
  {
    "text": "and if we actually check the logs I had",
    "start": "841620",
    "end": "844920"
  },
  {
    "text": "already checked them here but the magic",
    "start": "844920",
    "end": "846420"
  },
  {
    "text": "is gone but anyways the logs of my",
    "start": "846420",
    "end": "848700"
  },
  {
    "text": "application you can see it's actually",
    "start": "848700",
    "end": "850560"
  },
  {
    "text": "reaching the URL and it is obtaining the",
    "start": "850560",
    "end": "853620"
  },
  {
    "text": "content which in this case is just a",
    "start": "853620",
    "end": "855000"
  },
  {
    "text": "little bit of assy art right",
    "start": "855000",
    "end": "856800"
  },
  {
    "text": "if you want to see it in action clone",
    "start": "856800",
    "end": "859320"
  },
  {
    "text": "the repo it has very clear instructions",
    "start": "859320",
    "end": "861120"
  },
  {
    "text": "on how to do every single step from",
    "start": "861120",
    "end": "863399"
  },
  {
    "text": "creating the key Vault creating the",
    "start": "863399",
    "end": "865079"
  },
  {
    "text": "certificate creating the service",
    "start": "865079",
    "end": "866339"
  },
  {
    "text": "principle you can also pass a flag to",
    "start": "866339",
    "end": "869459"
  },
  {
    "text": "allow you to turn off and on the um",
    "start": "869459",
    "end": "873060"
  },
  {
    "text": "kubernetes Secret store CSI driver stuff",
    "start": "873060",
    "end": "876420"
  },
  {
    "text": "so that you can also see the difference",
    "start": "876420",
    "end": "878820"
  },
  {
    "text": "between those two",
    "start": "878820",
    "end": "880380"
  },
  {
    "text": "and that is basically it I believe uh",
    "start": "880380",
    "end": "884160"
  },
  {
    "text": "let's see yes so there's more",
    "start": "884160",
    "end": "886079"
  },
  {
    "text": "information if you go on my website this",
    "start": "886079",
    "end": "888420"
  },
  {
    "text": "damn dot engineer you will find these",
    "start": "888420",
    "end": "890699"
  },
  {
    "text": "slides you will find those URLs in there",
    "start": "890699",
    "end": "893639"
  },
  {
    "text": "um yeah get in touch you got my Twitter",
    "start": "893639",
    "end": "895199"
  },
  {
    "text": "there before Elon destroys it you got my",
    "start": "895199",
    "end": "897180"
  },
  {
    "text": "URL there as well and I got some",
    "start": "897180",
    "end": "899880"
  },
  {
    "text": "stickers in the back and also some with",
    "start": "899880",
    "end": "901500"
  },
  {
    "text": "me here if you want a sticker coming",
    "start": "901500",
    "end": "903120"
  },
  {
    "text": "over let me know if there's no one in",
    "start": "903120",
    "end": "904620"
  },
  {
    "text": "the back thank you very much",
    "start": "904620",
    "end": "906380"
  },
  {
    "text": "[Applause]",
    "start": "906380",
    "end": "913179"
  }
]