[
  {
    "text": "hello everyone thank you for being here you all are here which means that you want to learn about this cool nice U",
    "start": "8400",
    "end": "16520"
  },
  {
    "text": "resource in Azure called Azia static web apps and truth be told Azure static web",
    "start": "16520",
    "end": "21640"
  },
  {
    "text": "apps is like a heaven for speakers like me because there's so many focused areas in aesthetic web apps that you can learn",
    "start": "21640",
    "end": "28519"
  },
  {
    "text": "about and we can focus own and today my focus will be about the integrated API",
    "start": "28519",
    "end": "34800"
  },
  {
    "text": "support that ships with Azure static web app but for those who don't know what atic appap is I will give you a primer",
    "start": "34800",
    "end": "42520"
  },
  {
    "text": "um so let us start first of all why should you listen to me who am I for",
    "start": "42520",
    "end": "47719"
  },
  {
    "text": "those who don't know me I am Pima ner I'm a freelance net developer but hey I",
    "start": "47719",
    "end": "53280"
  },
  {
    "text": "do have a site by-side carrier of speaking at a lot of events like today",
    "start": "53280",
    "end": "58840"
  },
  {
    "text": "and meetups and I speak about a variety of topics I live in baksh UK and I'm a",
    "start": "58840",
    "end": "64878"
  },
  {
    "text": "Microsoft M MVP for developer Technologies and I'm also an Amco MVP for those who don't know what umrao is",
    "start": "64879",
    "end": "71360"
  },
  {
    "text": "Amco is a net based open source EMS and I've got a devil from umrao sitting right here in front of me someone who",
    "start": "71360",
    "end": "77920"
  },
  {
    "text": "have known for ages hi s so it's good to be here and non workor me I'm a mother I",
    "start": "77920",
    "end": "85000"
  },
  {
    "text": "have a daughter who is nearly nine so all my time goes into her funnily enough",
    "start": "85000",
    "end": "91119"
  },
  {
    "text": "the talk about Disney Princesses brought back memories because I have seen Frozen",
    "start": "91119",
    "end": "96399"
  },
  {
    "text": "at least 50 times in this lifetime of mine I read a lot that's my trick to",
    "start": "96399",
    "end": "102640"
  },
  {
    "text": "unwind at the end of the day and as much as I develop I'm also a student because I've been training in ktic music which",
    "start": "102640",
    "end": "108960"
  },
  {
    "text": "is a stream of Indian classical music for the past five years and that's my Twitter handle should you wish to",
    "start": "108960",
    "end": "114399"
  },
  {
    "text": "connect with me on Twitter I haven't moved on from Twitter I am just staying",
    "start": "114399",
    "end": "119439"
  },
  {
    "text": "there or should we call it X whatever so why do we have Azure static",
    "start": "119439",
    "end": "125960"
  },
  {
    "text": "web apps so SWA is static web apps so modern web development it has absolutely",
    "start": "125960",
    "end": "133000"
  },
  {
    "text": "no boundaries these days we are talking about life coming back a full circle",
    "start": "133000",
    "end": "138720"
  },
  {
    "text": "where you are no longer looking at a traditional request response pattern when it comes to web apps we have much",
    "start": "138720",
    "end": "144760"
  },
  {
    "text": "more than that we have static side generators hey that is Life coming back full Circle for us developers then we",
    "start": "144760",
    "end": "152440"
  },
  {
    "text": "have a lot of JavaScript libraries to the point that what is PR JS today is",
    "start": "152440",
    "end": "158680"
  },
  {
    "text": "past JS probably by tomorrow so I don't envy frend developers at all then we",
    "start": "158680",
    "end": "164879"
  },
  {
    "text": "have Blazer which brought cop into the browser and made me feel like full stack",
    "start": "164879",
    "end": "170760"
  },
  {
    "text": "developer and generally speaking browsers have a lot more compute power",
    "start": "170760",
    "end": "176440"
  },
  {
    "text": "than it had in the olden days so if you look at a traditional say MVC application it is doing the it is it is",
    "start": "176440",
    "end": "184519"
  },
  {
    "text": "doing too much heavy lifting it has multiple responsibilities it is fulfilling the P",
    "start": "184519",
    "end": "189879"
  },
  {
    "text": "the role of someone who is serving up static content secondly it is um doing",
    "start": "189879",
    "end": "195760"
  },
  {
    "text": "the heavy lifting of what an API does so too many responsibility responsibilities",
    "start": "195760",
    "end": "201480"
  },
  {
    "text": "on a single shoulder what if we split that we segregate the API part from the",
    "start": "201480",
    "end": "207720"
  },
  {
    "text": "static content uh what if we globally distribute the static content and leave",
    "start": "207720",
    "end": "213200"
  },
  {
    "text": "the API to work on its own that is where Azure static web apps comes in but it is",
    "start": "213200",
    "end": "219720"
  },
  {
    "text": "a lot more than what I'm just telling you right now so what is azure static",
    "start": "219720",
    "end": "224840"
  },
  {
    "text": "web app it is a turnkey service for developing and deploying modern fullstack apps the idea is that as",
    "start": "224840",
    "end": "231519"
  },
  {
    "text": "developers we can focus on code more than anything around it hosting devops",
    "start": "231519",
    "end": "238319"
  },
  {
    "text": "pipelines that is all managed for you hence a turnkey and you are given a",
    "start": "238319",
    "end": "244239"
  },
  {
    "text": "solid starting point for this because as your static web apps is seen as a complete solution starting from local",
    "start": "244239",
    "end": "251280"
  },
  {
    "text": "development to Global serverless hosting a scale so it's green as",
    "start": "251280",
    "end": "256440"
  },
  {
    "text": "well to help you with that you have GitHub starter templates which can which",
    "start": "256440",
    "end": "261720"
  },
  {
    "text": "can be found in a variety of Frameworks out there we have a CLI tool which AIDS",
    "start": "261720",
    "end": "267160"
  },
  {
    "text": "you in local development we will touch based on the that very briefly in this talk but it helps you replicate the",
    "start": "267160",
    "end": "274280"
  },
  {
    "text": "Azure platform that you have with st static web apps on your local development machine and a third thing",
    "start": "274280",
    "end": "280280"
  },
  {
    "text": "which I haven't added here is a visual Visual Studio code plugin for Azure static web apps which again helps you",
    "start": "280280",
    "end": "286479"
  },
  {
    "text": "create a resource develop and deploy to Cloud what you also get with aure static",
    "start": "286479",
    "end": "293280"
  },
  {
    "text": "web apps is it out of the box understands what is needed to develop and deploy most of the Frameworks out",
    "start": "293280",
    "end": "300440"
  },
  {
    "text": "there so Blazer a ton of JavaScript Frameworks a ton of static side",
    "start": "300440",
    "end": "306120"
  },
  {
    "text": "generators it knows what is needed to build and deploy it so this is what you get out of the box but of course you can",
    "start": "306120",
    "end": "313560"
  },
  {
    "text": "add your own bells and whistles to it if you want to and you have a workflow",
    "start": "313560",
    "end": "318919"
  },
  {
    "text": "tailored to a developer's daily workflow to help you with the deployments so simply speaking as your static web app",
    "start": "318919",
    "end": "325400"
  },
  {
    "text": "as a resource is tied up to a repository of your choice keeps a watch on a branch of your choice say Main and every time",
    "start": "325400",
    "end": "332560"
  },
  {
    "text": "there's a change pushed into the main branch it triggers a devops pipeline deploy and deploy all the way to the",
    "start": "332560",
    "end": "339199"
  },
  {
    "text": "cloud this is out of the box as soon as you set up but as I said everything can",
    "start": "339199",
    "end": "345080"
  },
  {
    "text": "be kind of customized the way you want it to be so what it actually does is it lowers",
    "start": "345080",
    "end": "352639"
  },
  {
    "text": "the barrier to entry for cloud devops and Global hosting at scale and the global hosting at scale is a feature",
    "start": "352639",
    "end": "359160"
  },
  {
    "text": "that you get even in the free tier of the app so what is as static web app what",
    "start": "359160",
    "end": "365919"
  },
  {
    "text": "are the components the first one is the app your static assets which is geographically distributed that is",
    "start": "365919",
    "end": "371840"
  },
  {
    "text": "available in the free tier as well and you have your serverless API typically it is azure function in the free tier",
    "start": "371840",
    "end": "379400"
  },
  {
    "text": "but that's optional so it's not going to tie you down if you don't have an API this is what actually makes up the Azure",
    "start": "379400",
    "end": "385800"
  },
  {
    "text": "static web app but rather than seeing it as just like a hosting platform I would",
    "start": "385800",
    "end": "391160"
  },
  {
    "text": "say think of this red line around it that is your a static web app because if",
    "start": "391160",
    "end": "397199"
  },
  {
    "text": "you look at it it is kind of a low code solution it does a lot of heavy lifting the integrated API support and there are",
    "start": "397199",
    "end": "404120"
  },
  {
    "text": "so many goodies which the platform gives you out of the box so that it gels the",
    "start": "404120",
    "end": "409639"
  },
  {
    "text": "two component part together that is what Azure static web app is if you don't",
    "start": "409639",
    "end": "414919"
  },
  {
    "text": "understand it you've got the basics wrong of a static web apps so that is a primer and where can",
    "start": "414919",
    "end": "421840"
  },
  {
    "text": "you use Astic web apps it's ideal for libraries like Blazer or angular or",
    "start": "421840",
    "end": "427440"
  },
  {
    "text": "react or View Press where you don't need server side rendering so anything that",
    "start": "427440",
    "end": "433120"
  },
  {
    "text": "is pre-built and pre pre-rendered as static web app is a great",
    "start": "433120",
    "end": "438520"
  },
  {
    "text": "choice so what is my agenda for the day we are done with the primer if you want to know more about a static web app I",
    "start": "438520",
    "end": "445720"
  },
  {
    "text": "have done a getting started talk about it which I will to you at the end of my talk but today is all about the API",
    "start": "445720",
    "end": "453120"
  },
  {
    "text": "support that Azure static web apps give you the platform has integrated API support which is like a goodie it gives",
    "start": "453120",
    "end": "459560"
  },
  {
    "text": "you and we'll talk about how I looked into aure static web app and tying it to",
    "start": "459560",
    "end": "465000"
  },
  {
    "text": "ANP API a grpc API as well as a graph equal end point and we will learn about",
    "start": "465000",
    "end": "471039"
  },
  {
    "text": "the challenges or if if I had any challenges what are the challenges that I had and we will also talk about a new",
    "start": "471039",
    "end": "477879"
  },
  {
    "text": "feature that is currently improving VI which is database connections because it is also mly related to",
    "start": "477879",
    "end": "485720"
  },
  {
    "text": "apis talking about apis the first and foremost thing API is completely",
    "start": "485720",
    "end": "490759"
  },
  {
    "text": "optional you can just have a bunch of HTML and CSS files and just drop it into as static web app the platform is not",
    "start": "490759",
    "end": "497440"
  },
  {
    "text": "going to hold you up just because you don't have an API it is completely optional but when you have an API it is",
    "start": "497440",
    "end": "503840"
  },
  {
    "text": "completely integrated in the sense that you get seamless routing so the path is",
    "start": "503840",
    "end": "509840"
  },
  {
    "text": "always SL API whenever the static web app issues a request to your API it",
    "start": "509840",
    "end": "515120"
  },
  {
    "text": "always is prefixed with/ API and it also is made from the same domain as your app",
    "start": "515120",
    "end": "522279"
  },
  {
    "text": "so you have your app and your API the calls to the API is always made from the same domain which means that there is no",
    "start": "522279",
    "end": "529279"
  },
  {
    "text": "course issues at all which you need to deal with secondly you have the Integrated Security so on the static app",
    "start": "529279",
    "end": "536080"
  },
  {
    "text": "side you get access to authentication and role-based author ization data and the same information is made available",
    "start": "536080",
    "end": "543839"
  },
  {
    "text": "to the API by the Azure static web app platform we will talk about that as well in a",
    "start": "543839",
    "end": "549959"
  },
  {
    "text": "bit so talking about the integration options itself the integrated API there",
    "start": "549959",
    "end": "555560"
  },
  {
    "text": "are two ways you can have your API in a static web app the first one is managed API this is what is available in the",
    "start": "555560",
    "end": "562519"
  },
  {
    "text": "free tier where the API and the app are the part of the same single a static web",
    "start": "562519",
    "end": "567880"
  },
  {
    "text": "app resource so is deployed together you cannot selectively deploy one or the",
    "start": "567880",
    "end": "573440"
  },
  {
    "text": "other and the API is completely managed by the static web app platform itself so",
    "start": "573440",
    "end": "579399"
  },
  {
    "text": "you cannot uh have access to that API beneath the scenes only your static web",
    "start": "579399",
    "end": "585920"
  },
  {
    "text": "app platform can actually manage that API of course your app can call it but",
    "start": "585920",
    "end": "590959"
  },
  {
    "text": "outside the Azure static web app that Azure function is not available for you and just jumping the gun with managed",
    "start": "590959",
    "end": "597880"
  },
  {
    "text": "API you only get a Azure functions that is by default that cannot be changed and",
    "start": "597880",
    "end": "603920"
  },
  {
    "text": "as I said the Azure function cannot be changed outside the static web app",
    "start": "603920",
    "end": "609200"
  },
  {
    "text": "environment and then you have the bring your own API where you can bring in any API of your choice which is what I'll be",
    "start": "609200",
    "end": "616000"
  },
  {
    "text": "demoing today as well where the API and app are two separate Azure resources you",
    "start": "616000",
    "end": "621920"
  },
  {
    "text": "manage them you are in charge of their deployment everything that you have here",
    "start": "621920",
    "end": "627519"
  },
  {
    "text": "is your own responsibility the app is deployed separately from the API and what you can do is you can link your",
    "start": "627519",
    "end": "635120"
  },
  {
    "text": "static web app to an existing API of your choice it can be an Azure function it can be Azure app service container",
    "start": "635120",
    "end": "642600"
  },
  {
    "text": "app API management so you have all this linking feature and again if you want to",
    "start": "642600",
    "end": "648279"
  },
  {
    "text": "bring in Azure keyword references that is available only in bring your own you cannot have it in the managed API that",
    "start": "648279",
    "end": "654480"
  },
  {
    "text": "is more a part of the production hosting plan but I just thought it's better to be put down",
    "start": "654480",
    "end": "660079"
  },
  {
    "text": "there but there are APA constraints that we need to be aware of as I said there are two um so with a static web app",
    "start": "660079",
    "end": "668240"
  },
  {
    "text": "there are two hosting plans there's the free tier which is for your hob or personal projects and you have your",
    "start": "668240",
    "end": "674040"
  },
  {
    "text": "production plan which is the standard tier with free tier you only have the managed AP option which is azure",
    "start": "674040",
    "end": "680240"
  },
  {
    "text": "functions underneath the hood and at any point of time a single",
    "start": "680240",
    "end": "685480"
  },
  {
    "text": "SWA or a single web app environment can be linked only lead to a single type of backend so you cannot have a production",
    "start": "685480",
    "end": "692680"
  },
  {
    "text": "app where it is talking to a Azure function as well as a container app or an app service that's not possible it's",
    "start": "692680",
    "end": "698880"
  },
  {
    "text": "just one type of API at one point of time the route prefix is always SL API",
    "start": "698880",
    "end": "705360"
  },
  {
    "text": "this is set in stone it cannot be changed you can only have HTTP requests",
    "start": "705360",
    "end": "711600"
  },
  {
    "text": "so if you bring in your own Azure function which say reacts to a q Trigger or something like that is not possible",
    "start": "711600",
    "end": "717959"
  },
  {
    "text": "the static web can only requ um issue HTTP requests and for that same reason",
    "start": "717959",
    "end": "723399"
  },
  {
    "text": "you cannot have something like web sockets on your aure static web",
    "start": "723399",
    "end": "728600"
  },
  {
    "text": "app the max duration for any HTTP request is 45 seconds and with asure static web app",
    "start": "728600",
    "end": "736240"
  },
  {
    "text": "you get access to a config file using which you can actually play with the routes that you have in your static web",
    "start": "736240",
    "end": "742519"
  },
  {
    "text": "app but when it comes to API the only rules that you are given or you have is",
    "start": "742519",
    "end": "747959"
  },
  {
    "text": "to secure the rul s or have redirects in place so these are some of the API constraints or",
    "start": "747959",
    "end": "754639"
  },
  {
    "text": "goas and we will talk about managed API so this is the default integration option for Azure static web apps where",
    "start": "754639",
    "end": "761760"
  },
  {
    "text": "you have your uh a app as well as the API as a part of the single resource and",
    "start": "761760",
    "end": "767000"
  },
  {
    "text": "that's the default integration option this is only Azure functions which is fully managed and deployed by the static",
    "start": "767000",
    "end": "773920"
  },
  {
    "text": "web app and the Azure functions uses the consumption plan uh hosting plan you",
    "start": "773920",
    "end": "781639"
  },
  {
    "text": "cannot change that it is set in stone again and it follows the runtime 4.x and",
    "start": "781639",
    "end": "787279"
  },
  {
    "text": "you are limited to the run times and the the platforms that you can use it as",
    "start": "787279",
    "end": "793360"
  },
  {
    "text": "well you cannot just use any old functions run time you have to stick to that with managed",
    "start": "793360",
    "end": "799920"
  },
  {
    "text": "API um it is a single function app um you can connect to so your app can",
    "start": "799920",
    "end": "805560"
  },
  {
    "text": "connect to a single function app but multiple functions are possible ible and if you want any loging then you need to",
    "start": "805560",
    "end": "812440"
  },
  {
    "text": "turn on application insights inside your static web app that is how you get access to logs so let's have a quick",
    "start": "812440",
    "end": "819639"
  },
  {
    "text": "demo of this um show taskar let us first have a",
    "start": "819639",
    "end": "826959"
  },
  {
    "text": "look at the app itself so let me bring that up in a",
    "start": "826959",
    "end": "832300"
  },
  {
    "text": "[Music] browser oopsie",
    "start": "832300",
    "end": "840759"
  },
  {
    "text": "yeah okay so this is a very simple Blazer app which is talking to an API",
    "start": "841839",
    "end": "848320"
  },
  {
    "text": "Bene the scenes what it does is it reaches out to the managed API function and I've got a dictionary which tells me",
    "start": "848320",
    "end": "855160"
  },
  {
    "text": "hello in various different languages so whenever I click the say",
    "start": "855160",
    "end": "860279"
  },
  {
    "text": "hello it it should bring back hello in some language and say hello CPS deest",
    "start": "860279",
    "end": "867880"
  },
  {
    "text": "now if we inser insect the network Tab and see where the request is going",
    "start": "867880",
    "end": "875120"
  },
  {
    "text": "to it is going to something/ API random hello So Random Hello is my function",
    "start": "875120",
    "end": "883040"
  },
  {
    "text": "name but this domain that it is issued from is the same domain as my app so",
    "start": "883040",
    "end": "891279"
  },
  {
    "text": "that is course rule got and rate for you um just having a look at the",
    "start": "891279",
    "end": "897959"
  },
  {
    "text": "resource itself itself this is the one so as you can see it is tied up to a",
    "start": "897959",
    "end": "904199"
  },
  {
    "text": "repo and every time there's a commit to the master Branch it spins up a deploy and deploys if I look at the apis it",
    "start": "904199",
    "end": "911360"
  },
  {
    "text": "should say managed or it should just say there yeah it it says managed but I",
    "start": "911360",
    "end": "916920"
  },
  {
    "text": "can't do anything more here it's just managed function and that is about it to",
    "start": "916920",
    "end": "923000"
  },
  {
    "text": "see the code what I have beneath the hood so is this the right one yeah",
    "start": "923000",
    "end": "928680"
  },
  {
    "text": "managed function so I have the function app as well as my blazer app in a single",
    "start": "928680",
    "end": "935319"
  },
  {
    "text": "solution in my random hello function which is here I have a dictionary",
    "start": "935319",
    "end": "942040"
  },
  {
    "text": "which which has the languages and the corresponding hello in that language and",
    "start": "942040",
    "end": "947959"
  },
  {
    "text": "all I'm doing is randomizing it and sending that back as a response very",
    "start": "947959",
    "end": "953440"
  },
  {
    "text": "simple function in my blazer app just to prove the point point that I'm not hardcoding",
    "start": "953440",
    "end": "960360"
  },
  {
    "text": "anything any links to the to the Blazer app itself you if you see my HTTP client",
    "start": "960360",
    "end": "966120"
  },
  {
    "text": "The Base address is set to the host environment's Base address so it is as",
    "start": "966120",
    "end": "971399"
  },
  {
    "text": "simple and as vanilla as you can get with the Blazer web assembly by the way this is a Blazer web assembly app and",
    "start": "971399",
    "end": "977639"
  },
  {
    "text": "all my demos today are Blazer web assembly app based and in my index. Riser what I'm",
    "start": "977639",
    "end": "985519"
  },
  {
    "text": "doing is oninitialized aing life cycle Evin so this is the Blazer life cycle",
    "start": "985519",
    "end": "991720"
  },
  {
    "text": "which kicks in as soon as your component starts to gets initialized I am reaching out to/ API random hello because I've",
    "start": "991720",
    "end": "998639"
  },
  {
    "text": "already got the Base address in my HTTP client which has been injected here so",
    "start": "998639",
    "end": "1003920"
  },
  {
    "text": "this HTTP that you see here is the HTTP client injected all I am doing is",
    "start": "1003920",
    "end": "1009120"
  },
  {
    "text": "reaching out to the API random hello function and using that to display the",
    "start": "1009120",
    "end": "1015600"
  },
  {
    "text": "hello in some random language uh one other thing that needs to be spoken here",
    "start": "1015600",
    "end": "1021120"
  },
  {
    "text": "is that so this is the yaml file which helps with my cicd pipeline I'm not",
    "start": "1021120",
    "end": "1027918"
  },
  {
    "text": "going to go into great detail of it but I didn't put it together the platform put it together for me the main thing",
    "start": "1027919",
    "end": "1034600"
  },
  {
    "text": "here is that there's the app location which denotes where the code for my app",
    "start": "1034600",
    "end": "1040720"
  },
  {
    "text": "is and in the API location I've got managed function which is the folder which contains my API code",
    "start": "1040720",
    "end": "1049080"
  },
  {
    "text": "and the output location is my static assets folder because it's Blazer it is dubd Du root depending upon the",
    "start": "1049080",
    "end": "1056600"
  },
  {
    "text": "framework or static side generator that you are using that value can vary so",
    "start": "1056600",
    "end": "1062200"
  },
  {
    "text": "that's one thing that I wanted to show you here so that is managed API for you",
    "start": "1062200",
    "end": "1067320"
  },
  {
    "text": "is there anything I missed um uh I think so I have covered everything so let us",
    "start": "1067320",
    "end": "1074440"
  },
  {
    "text": "talk about bring your own Azure function so with bring your own you can as I said",
    "start": "1074440",
    "end": "1080480"
  },
  {
    "text": "you can have access to any API of your choice but let us first focus on Azure function because there's a couple of",
    "start": "1080480",
    "end": "1086360"
  },
  {
    "text": "things here so here the Azure function the API and the app are managed and",
    "start": "1086360",
    "end": "1091799"
  },
  {
    "text": "deployed separately from the static web app uh your sorry I went too fast there",
    "start": "1091799",
    "end": "1099640"
  },
  {
    "text": "with the Azure functions in this case because it's your own Azure function that you're connecting to you can have",
    "start": "1099640",
    "end": "1106080"
  },
  {
    "text": "consumption or premium or dedicated plant you can also have durable functions supported um anything that is",
    "start": "1106080",
    "end": "1112520"
  },
  {
    "text": "existing at the moment in your resource portal bring it on you can connect to it and of course if you want logging the",
    "start": "1112520",
    "end": "1118760"
  },
  {
    "text": "application insights is on the Azure function app itself rather than the static web app and what happens",
    "start": "1118760",
    "end": "1125840"
  },
  {
    "text": "underneath the hood is when your static web app is linked to a function of your choice it again takes care of the/ API",
    "start": "1125840",
    "end": "1132679"
  },
  {
    "text": "path so that is available for you in your Azure functions you don't have to bring in CES or anything on your",
    "start": "1132679",
    "end": "1138120"
  },
  {
    "text": "function function app static web app manages that for you it will again make calls to your existing Azure functions",
    "start": "1138120",
    "end": "1145200"
  },
  {
    "text": "app from the same domain as your static web app and this is available only in the",
    "start": "1145200",
    "end": "1152000"
  },
  {
    "text": "standard plan which is the production tier and if you have any function keys",
    "start": "1152000",
    "end": "1158080"
  },
  {
    "text": "with your function app they should be passed in as well uh with your request",
    "start": "1158080",
    "end": "1163400"
  },
  {
    "text": "from your uh static SS so this is one place where I went wrong when I was working initially on the demos so that's",
    "start": "1163400",
    "end": "1170200"
  },
  {
    "text": "why I put it in here so let us see this in action I've got a very similar demo",
    "start": "1170200",
    "end": "1175320"
  },
  {
    "text": "as before show taskbar and let me bring up the",
    "start": "1175320",
    "end": "1182399"
  },
  {
    "text": "app so that is the app it is again same as before give it a minute it should communicate with the API and bring it uh",
    "start": "1186559",
    "end": "1194039"
  },
  {
    "text": "bring some data so every time so every time I",
    "start": "1194039",
    "end": "1200799"
  },
  {
    "text": "communicate or say hello it is actually talking to my existing Azure function app and bringing back the data and if I",
    "start": "1200799",
    "end": "1207799"
  },
  {
    "text": "look at the network Tab and click the hello as you can see",
    "start": "1207799",
    "end": "1215159"
  },
  {
    "text": "it is made from the same domain as my uh as your static web app and going into",
    "start": "1215159",
    "end": "1221760"
  },
  {
    "text": "the resource itself let us see how this plays up so bring your own function",
    "start": "1221760",
    "end": "1227039"
  },
  {
    "text": "app uh um the apis here it no longer says managed it says it's linked to a",
    "start": "1227039",
    "end": "1233280"
  },
  {
    "text": "backend resource asure static web app BYO function demo and if I go into this",
    "start": "1233280",
    "end": "1239240"
  },
  {
    "text": "what happens when a static web app links to your Azure app service is that in the",
    "start": "1239240",
    "end": "1244480"
  },
  {
    "text": "authentication it adds an identity provider for on behalf of the static web apps so this means that your function",
    "start": "1244480",
    "end": "1252480"
  },
  {
    "text": "app as soon as it is linked is not available to any apps outside or other than the static web app so if you want",
    "start": "1252480",
    "end": "1259159"
  },
  {
    "text": "to continue using your Azure function app for any other apps in your organization you need to turn on",
    "start": "1259159",
    "end": "1266600"
  },
  {
    "text": "unauthenticated access or you need to bring in another identity provider for your app so that is another thing that",
    "start": "1266600",
    "end": "1273200"
  },
  {
    "text": "you need to be aware of here and um to show you the code the",
    "start": "1273200",
    "end": "1280480"
  },
  {
    "text": "function is um similar as before that's my function it is two",
    "start": "1280480",
    "end": "1286279"
  },
  {
    "text": "different projects it's two different solutions and I'm managing and deploying the code myself it is the same code it's",
    "start": "1286279",
    "end": "1293000"
  },
  {
    "text": "just that I've split it up again I've got the dictionary of hello and corresponding language which I am",
    "start": "1293000",
    "end": "1300200"
  },
  {
    "text": "randomizing and sending back and in my app again this is the",
    "start": "1300200",
    "end": "1306760"
  },
  {
    "text": "program.cs where I don't have anything apart from the Base address of my HTTP",
    "start": "1306760",
    "end": "1312320"
  },
  {
    "text": "client and same as before in my index. Riser I am I'm reaching out to/ aa/",
    "start": "1312320",
    "end": "1319960"
  },
  {
    "text": "random hello on initialize in initialization of the component and displaying the data however in the",
    "start": "1319960",
    "end": "1328320"
  },
  {
    "text": "GitHub actions file there's one thing that you need to be aware of when you have your um API separate from your",
    "start": "1328320",
    "end": "1336039"
  },
  {
    "text": "Azure static web app that's bring your own the API location must be Li left to an empty string so that you can link it",
    "start": "1336039",
    "end": "1343760"
  },
  {
    "text": "up otherwise it'll just error out again I did not put this y file together it",
    "start": "1343760",
    "end": "1348880"
  },
  {
    "text": "was done by the platform for me now let me close a couple of things here before",
    "start": "1348880",
    "end": "1354720"
  },
  {
    "text": "I move on bring your own function bring your own app don't say don't save it's",
    "start": "1354720",
    "end": "1363520"
  },
  {
    "text": "fine yeah back to my slides so that is bring your own function um and let's move on",
    "start": "1363520",
    "end": "1372000"
  },
  {
    "text": "so let's take a slight detour at this point because I don't want to leave this to the last which is authentication and",
    "start": "1372000",
    "end": "1378080"
  },
  {
    "text": "authorization this is one of the goodies that Azure static web app gives you as a",
    "start": "1378080",
    "end": "1383120"
  },
  {
    "text": "platform this is like a low code solution so even for me who I'm I'm not",
    "start": "1383120",
    "end": "1388440"
  },
  {
    "text": "an expert in Identity or authentication and authorization I am best not doing",
    "start": "1388440",
    "end": "1393559"
  },
  {
    "text": "that but even for someone like me I can get things up and running fairly quickly",
    "start": "1393559",
    "end": "1399240"
  },
  {
    "text": "with authentication and authorization so how does that work first of all there's no password",
    "start": "1399240",
    "end": "1405960"
  },
  {
    "text": "management so I don't have the headache of managing and the security of the password and all the things around it it",
    "start": "1405960",
    "end": "1412559"
  },
  {
    "text": "is left to the platform and in fact we are not even having any login on the app",
    "start": "1412559",
    "end": "1418799"
  },
  {
    "text": "itself because as a platform aure static web app gives you access to a series of",
    "start": "1418799",
    "end": "1424200"
  },
  {
    "text": "preconfigured providers this is not my app this is the platform itself that does it for you so this is at the Azure",
    "start": "1424200",
    "end": "1431360"
  },
  {
    "text": "level you get access to Azure ad GitHub and Twitter and you have Facebook and",
    "start": "1431360",
    "end": "1436960"
  },
  {
    "text": "Google currently in preview and you can bring in your own custom identity provider uh if it isn't",
    "start": "1436960",
    "end": "1444559"
  },
  {
    "text": "a standard plan and by default as as soon as you put a button to login on",
    "start": "1444559",
    "end": "1450960"
  },
  {
    "text": "your app any you any user can actually log in because they are logging in with GitHub or Twitter or Azure or Google but",
    "start": "1450960",
    "end": "1459799"
  },
  {
    "text": "what you can do is U yeah of course once they log in they are in the authenticated and Anonymous roles by",
    "start": "1459799",
    "end": "1466279"
  },
  {
    "text": "default but this also means that you can bring in custom roles of your choice",
    "start": "1466279",
    "end": "1471840"
  },
  {
    "text": "because users can log in because they might have a GitHub or a Twitter login",
    "start": "1471840",
    "end": "1477720"
  },
  {
    "text": "but to make sure that you only allow the right people or authorized people to",
    "start": "1477720",
    "end": "1484000"
  },
  {
    "text": "view your protected content you can bring in custom roles and custom roles can be created by inviting users into",
    "start": "1484000",
    "end": "1491559"
  },
  {
    "text": "the static web app which is what you get in the free tier I think you have 25",
    "start": "1491559",
    "end": "1496600"
  },
  {
    "text": "invitations I and I think thing for a personal project that should surface or if you have a standard plan production",
    "start": "1496600",
    "end": "1503480"
  },
  {
    "text": "tier you can bring in custom authentication and authorization as well you can't still bring in um any login it",
    "start": "1503480",
    "end": "1511200"
  },
  {
    "text": "has to be oidc but it is possible with the standard plan and of course there's a big config",
    "start": "1511200",
    "end": "1519279"
  },
  {
    "text": "file called Static web app config Json you can talk just about that configuration file for an hour and using",
    "start": "1519279",
    "end": "1526720"
  },
  {
    "text": "this config file you can make sure that only authorized users gain access to",
    "start": "1526720",
    "end": "1532279"
  },
  {
    "text": "restricted rules so that is possible now how do we access all this",
    "start": "1532279",
    "end": "1538799"
  },
  {
    "text": "information on the app side your static asset side all the authorization and",
    "start": "1538799",
    "end": "1543960"
  },
  {
    "text": "authenticated authentication related apis are in a folder called slash. o",
    "start": "1543960",
    "end": "1549399"
  },
  {
    "text": "that is the system folder available for you and the information is available as",
    "start": "1549399",
    "end": "1554720"
  },
  {
    "text": "a client principal object it is nothing but a Json object object and if you issue a get request to",
    "start": "1554720",
    "end": "1562000"
  },
  {
    "text": "sl. o/ me if you're logged in using one of the providers you get access to that",
    "start": "1562000",
    "end": "1567720"
  },
  {
    "text": "client principal data so this is on the app side and this is what a client",
    "start": "1567720",
    "end": "1573640"
  },
  {
    "text": "principal object looks like so I've logged into a static web app and issued a get request sl. slme and this is what",
    "start": "1573640",
    "end": "1581720"
  },
  {
    "text": "I see this user ID differs on the basis of static web app so even if if I am",
    "start": "1581720",
    "end": "1588039"
  },
  {
    "text": "logged in using GitHub using the same handle that I have to two different static web app this user ID will be",
    "start": "1588039",
    "end": "1594559"
  },
  {
    "text": "different and what you get back as my user details will also be different based on what the provider is I think",
    "start": "1594559",
    "end": "1602159"
  },
  {
    "text": "for Google you get back an email address for GitHub what you get is uh this my",
    "start": "1602159",
    "end": "1608120"
  },
  {
    "text": "handle and of course the user roles that you are available or that you are in",
    "start": "1608120",
    "end": "1613320"
  },
  {
    "text": "that is also available to you I am in the admin role so I see admin but but just a logged in user without an",
    "start": "1613320",
    "end": "1620279"
  },
  {
    "text": "invitation will just have the anonymous and authenticated so that is on the app side",
    "start": "1620279",
    "end": "1627200"
  },
  {
    "text": "the same information is available on the API side as well now you must be wondering how secure is it because my",
    "start": "1627200",
    "end": "1634039"
  },
  {
    "text": "static app is on the client shouldn't be a worry because it's not the browser which adds that authorization",
    "start": "1634039",
    "end": "1640360"
  },
  {
    "text": "information for you it is the static web app which passes that information to the API so API has the same",
    "start": "1640360",
    "end": "1648240"
  },
  {
    "text": "um data available to it and what the swap platform does is it adds a special",
    "start": "1648240",
    "end": "1654360"
  },
  {
    "text": "header called XMS client principle with every request to the API it's not the",
    "start": "1654360",
    "end": "1659520"
  },
  {
    "text": "browser it's the platform that does it and this XMS client principle is a base",
    "start": "1659520",
    "end": "1664679"
  },
  {
    "text": "64 encoded version of the client principal object that we just saw so you can decode it and use it to your hearts",
    "start": "1664679",
    "end": "1672080"
  },
  {
    "text": "content so let us have a quick look at the demo now now this one I'm a bit nervous",
    "start": "1672080",
    "end": "1678880"
  },
  {
    "text": "about because it's authentication and authorization but let us see let me close this what I have is a",
    "start": "1678880",
    "end": "1687960"
  },
  {
    "text": "managed function um based or managed function B aure static web",
    "start": "1687960",
    "end": "1695000"
  },
  {
    "text": "app uh and I have I have a GitHub login enabled on it",
    "start": "1695000",
    "end": "1701840"
  },
  {
    "text": "so it says hello CPS def Fest if you want to say hello just proceed to login",
    "start": "1701840",
    "end": "1706960"
  },
  {
    "text": "let me just see one thing um so role management there's nothing here so that's fine so uh I don't have any",
    "start": "1706960",
    "end": "1714159"
  },
  {
    "text": "invitations on this app at the moment but even then if I go in here it should",
    "start": "1714159",
    "end": "1719760"
  },
  {
    "text": "let me log in so this is a page with the static web app presence you with I can",
    "start": "1719760",
    "end": "1724919"
  },
  {
    "text": "grant consent and it'll log me in but I cannot see anything it says no",
    "start": "1724919",
    "end": "1731840"
  },
  {
    "text": "brownies for you because I have locked everything down uh even if I'm logged in",
    "start": "1731840",
    "end": "1736880"
  },
  {
    "text": "because I don't don't have the correct authorization I cannot see anything but if I go",
    "start": "1736880",
    "end": "1743000"
  },
  {
    "text": "into here and say slash o slme that is the client principal object",
    "start": "1743000",
    "end": "1750480"
  },
  {
    "text": "I am just logged in so I have Anonymous and authenticated now let us go back to the app and invite me as a user to this",
    "start": "1750480",
    "end": "1758159"
  },
  {
    "text": "app let us say GitHub so as you can see this's Azure active directory GitHub",
    "start": "1758159",
    "end": "1763679"
  },
  {
    "text": "Twitter and Facebook and Google in preview there's GitHub I'm inviting",
    "start": "1763679",
    "end": "1770480"
  },
  {
    "text": "myself admin generate so that gives me a link",
    "start": "1770480",
    "end": "1775679"
  },
  {
    "text": "which is hidden before that let me just log out if I go in here and have the",
    "start": "1775679",
    "end": "1784240"
  },
  {
    "text": "invitation pasted",
    "start": "1784240",
    "end": "1787278"
  },
  {
    "text": "in because I've already granted consent ah it didn't work oh it it did so now we",
    "start": "1789559",
    "end": "1796120"
  },
  {
    "text": "can see that it does doesn't say log out it says admin log out and it says say",
    "start": "1796120",
    "end": "1802039"
  },
  {
    "text": "proceed to say hello to say hello in various different languages ah it didn't work this is what I was con concerned",
    "start": "1802039",
    "end": "1807559"
  },
  {
    "text": "about sorry about that I'll have to fix it and come back to you later but let's just move on uh but if I go into slash",
    "start": "1807559",
    "end": "1816159"
  },
  {
    "text": "slashme again hopefully yes so I'm certainly",
    "start": "1816159",
    "end": "1823320"
  },
  {
    "text": "logged in with the correct authorization roles because it says admin there can you see that that says admin there so I",
    "start": "1823320",
    "end": "1830840"
  },
  {
    "text": "do have the right permissions at the moment um now to see a bit of code in action I'm not going to explain the",
    "start": "1830840",
    "end": "1837240"
  },
  {
    "text": "entire thing because there's too much going on behind the scenes uh I think I'll skip the Blazer part just because",
    "start": "1837240",
    "end": "1844240"
  },
  {
    "text": "of time constraints but we'll show you the API part and how I am using the XMS",
    "start": "1844240",
    "end": "1851080"
  },
  {
    "text": "client principle there we go so this is the function which handles most of the stuff",
    "start": "1851080",
    "end": "1857440"
  },
  {
    "text": "it's just a static class with a parse method and what it gives me back is a claims principle so in the HTTP request",
    "start": "1857440",
    "end": "1864279"
  },
  {
    "text": "data because I'm using a net isolated function what we have is an HTTP request data I'm checking for the headers and if",
    "start": "1864279",
    "end": "1872200"
  },
  {
    "text": "I have the header I am decoding it and then deserializing that Json object into",
    "start": "1872200",
    "end": "1878360"
  },
  {
    "text": "a client principle and then I am getting rid of the anonymous roles and I'm",
    "start": "1878360",
    "end": "1884159"
  },
  {
    "text": "checking whether I have the admin role in my user roles and if I do have I am",
    "start": "1884159",
    "end": "1890880"
  },
  {
    "text": "creating a claims identity uh I'm creating a claims identity and then creating a claims principle based on",
    "start": "1890880",
    "end": "1897720"
  },
  {
    "text": "that identity at this point I can use the user information say if you want to",
    "start": "1897720",
    "end": "1902760"
  },
  {
    "text": "do some processing and say save some data to a database or something you can by all means do that but again it's not",
    "start": "1902760",
    "end": "1909600"
  },
  {
    "text": "the password it's probably a user ID or a user handle that you will be storing behind the",
    "start": "1909600",
    "end": "1914679"
  },
  {
    "text": "scenes so that is the um API and the header if you want to see the Blazer",
    "start": "1914679",
    "end": "1920639"
  },
  {
    "text": "code just come find me after the session I can happily take you through it but it is nothing more than box standard Blazer",
    "start": "1920639",
    "end": "1928080"
  },
  {
    "text": "authorized view that is in there and an authentication State provider now moving on the login um",
    "start": "1928080",
    "end": "1937000"
  },
  {
    "text": "links so the login links in Azure static web app follows the same pattern so it",
    "start": "1937000",
    "end": "1942600"
  },
  {
    "text": "is sl. o/ login SL the provider name so be it get ithub or Twitter it follows",
    "start": "1942600",
    "end": "1948440"
  },
  {
    "text": "the same pattern except that the provider name changes and this is what I",
    "start": "1948440",
    "end": "1953480"
  },
  {
    "text": "use the O login GitHub and the log out is always at sl. o/ logout it will log",
    "start": "1953480",
    "end": "1959519"
  },
  {
    "text": "you out completely of the static web app now moving on let us now look at",
    "start": "1959519",
    "end": "1966000"
  },
  {
    "text": "linking Azure static web app with Azure app service or container apps this is where I can bring in an sttp API or a",
    "start": "1966000",
    "end": "1973480"
  },
  {
    "text": "graphql or grpc service this requires Asha static uh web app",
    "start": "1973480",
    "end": "1980279"
  },
  {
    "text": "standard plan because it's production tier and there are some knowledge Basics",
    "start": "1980279",
    "end": "1985639"
  },
  {
    "text": "that we need to cover off again here first of all the slash API is again routed to your app service or container",
    "start": "1985639",
    "end": "1992399"
  },
  {
    "text": "app regardless of whether it is your own the static web app platform does that for",
    "start": "1992399",
    "end": "1997799"
  },
  {
    "text": "you and because the/ API is the prefix your app service or your container app",
    "start": "1997799",
    "end": "2004240"
  },
  {
    "text": "the endpoint must have a/ API prefix which is one of the challenges that I had with couple of things which I will",
    "start": "2004240",
    "end": "2011519"
  },
  {
    "text": "talk to you and again just like the bring your own Azure function what this",
    "start": "2011519",
    "end": "2017080"
  },
  {
    "text": "does is the minute you link your Azure static web app to a container app or an Azure app service it adds a custom",
    "start": "2017080",
    "end": "2024279"
  },
  {
    "text": "identity on behalf of azure static web apps for you so at that point your Azure app service and container app is not",
    "start": "2024279",
    "end": "2030760"
  },
  {
    "text": "available to anything any app outside static web app so you need to turn on",
    "start": "2030760",
    "end": "2036000"
  },
  {
    "text": "unauthenticated access or bring in another custom provider identity provider based on your other apps which",
    "start": "2036000",
    "end": "2042840"
  },
  {
    "text": "are using the API so let us look at Azure static web app with Azure container",
    "start": "2042840",
    "end": "2049280"
  },
  {
    "text": "app so for this I have two demos first is my static web app talking to a minimal API to prove the HTTP API point",
    "start": "2049280",
    "end": "2057679"
  },
  {
    "text": "and I also have an Azure static web app talking to a graph Q in an Azure container app to come up with the",
    "start": "2057679",
    "end": "2063960"
  },
  {
    "text": "graphql service I used hot chocolate which is an implementation of graphql in",
    "start": "2063960",
    "end": "2069000"
  },
  {
    "text": "net and to issue graphql requests from my blazer app I used graphql Donnet",
    "start": "2069000",
    "end": "2075720"
  },
  {
    "text": "client um I could bring in strawberry shake which is hot chocolate but this was far more simpler to explain so I",
    "start": "2075720",
    "end": "2082280"
  },
  {
    "text": "just stuck with that for the time being the main challenge for me was to",
    "start": "2082280",
    "end": "2088000"
  },
  {
    "text": "come up with a cicd pipeline which deploys to Azure container app because I'm not a devops expert I had to come up",
    "start": "2088000",
    "end": "2094280"
  },
  {
    "text": "with something after referring to a lot of things but if you are in Net 7 you have built-in container support which",
    "start": "2094280",
    "end": "2101240"
  },
  {
    "text": "means that with a few msuil properties and a publish profile. net publish I",
    "start": "2101240",
    "end": "2107480"
  },
  {
    "text": "could run that as a GitHub yaml actions file and then get my code deployed into",
    "start": "2107480",
    "end": "2113200"
  },
  {
    "text": "Azure container app and truth be told what I found that is even if you have a publish directly from visual studio all",
    "start": "2113200",
    "end": "2119960"
  },
  {
    "text": "the way to container app stick to a devops pipeline that will actually take",
    "start": "2119960",
    "end": "2125599"
  },
  {
    "text": "care of the revisions a lot more better for you because a lot of things are not",
    "start": "2125599",
    "end": "2130839"
  },
  {
    "text": "available on the portal for you to manage the pain is pretty uh plain and",
    "start": "2130839",
    "end": "2136160"
  },
  {
    "text": "simple at the moment but if you have GitHub actions or rure devops pipeline that is very very helpful I also figured",
    "start": "2136160",
    "end": "2144200"
  },
  {
    "text": "out that there is actually a GitHub actions available which you can make use of but I didn't strike much luck with",
    "start": "2144200",
    "end": "2151160"
  },
  {
    "text": "that I have asked April for help but I'm still yet to sit down with her and go through this but I've got this working",
    "start": "2151160",
    "end": "2158400"
  },
  {
    "text": "which I will show you so let's have a look at the code no before the code let us have a",
    "start": "2158400",
    "end": "2166000"
  },
  {
    "text": "look at the app itself to show you what I have for you today so that's my",
    "start": "2166000",
    "end": "2172280"
  },
  {
    "text": "minimal API app come",
    "start": "2172280",
    "end": "2178960"
  },
  {
    "text": "on so all the graphql and the to-do uh the minimal API demos are very similar",
    "start": "2180280",
    "end": "2186760"
  },
  {
    "text": "in the sense that it is a database that I'm talking to the database contains a single table which is a list of to-do",
    "start": "2186760",
    "end": "2193800"
  },
  {
    "text": "items and I'm trying to display that give it a minute or two it should load up it is just dummy data that I'm",
    "start": "2193800",
    "end": "2200200"
  },
  {
    "text": "loading just because I had that database around come on it's probably the Azure app service",
    "start": "2200200",
    "end": "2207640"
  },
  {
    "text": "which is starting up there we go so it's just dummy data it's a long list it's a read list nothing fancy about it because",
    "start": "2207640",
    "end": "2215119"
  },
  {
    "text": "I want to be talking about the code part part of it so if I go into my API app",
    "start": "2215119",
    "end": "2222359"
  },
  {
    "text": "API app service this is just a plain asp.net core API minimal API uh which",
    "start": "2222359",
    "end": "2230720"
  },
  {
    "text": "has a map get method on/ too items to get me the list of the to-do items and",
    "start": "2230720",
    "end": "2236520"
  },
  {
    "text": "because I need that/ API prefix on my app service I have used the map group",
    "start": "2236520",
    "end": "2243119"
  },
  {
    "text": "here so it gives me that prefix of/ AP i/ too items the main challenge with",
    "start": "2243119",
    "end": "2250240"
  },
  {
    "text": "this was the actions file that I had to write this I had to come up with after a",
    "start": "2250240",
    "end": "2256839"
  },
  {
    "text": "lot of research and the basis of all this is what you have in your CS Pro so",
    "start": "2256839",
    "end": "2264280"
  },
  {
    "text": "it's a Net 7 asp.net core service and I have this package reference Microsoft",
    "start": "2264280",
    "end": "2271079"
  },
  {
    "text": "NET built containers uh now if you are in 702 of the phame framework you do not",
    "start": "2271079",
    "end": "2277520"
  },
  {
    "text": "need this package but when I got rid of this I couldn't run my GitHub actions",
    "start": "2277520",
    "end": "2282760"
  },
  {
    "text": "file anymore so I had to keep this in place because this package is what",
    "start": "2282760",
    "end": "2287839"
  },
  {
    "text": "actually contains the publish profile that it is looking for so a few Ms build",
    "start": "2287839",
    "end": "2293599"
  },
  {
    "text": "properties that we need to look at the container base image which is Microsoft MCR Microsoft com.net aspet 7 this is",
    "start": "2293599",
    "end": "2301640"
  },
  {
    "text": "the base image that I'm using based upon which the image will be built the next thing is the publish profile which is",
    "start": "2301640",
    "end": "2308000"
  },
  {
    "text": "the publish profile I'm going to be using for publishing this app into a container format and the container",
    "start": "2308000",
    "end": "2314119"
  },
  {
    "text": "repository which is now changed from container image name to container repository which is a name I have come",
    "start": "2314119",
    "end": "2320319"
  },
  {
    "text": "up with and what I'm doing in my yaml file is every time I push a tag in it logs",
    "start": "2320319",
    "end": "2328200"
  },
  {
    "text": "into the ACR registry which is the Azure container registry using a couple of uh",
    "start": "2328200",
    "end": "2334280"
  },
  {
    "text": "secrets that I've have stored in GitHub I build and publish and note that for",
    "start": "2334280",
    "end": "2339760"
  },
  {
    "text": "publishing I'm using net publish with the publish profile set to default container because that is the target",
    "start": "2339760",
    "end": "2347119"
  },
  {
    "text": "needed the published profile needed and then I tag the image to match",
    "start": "2347119",
    "end": "2352400"
  },
  {
    "text": "the Azure container registry URL and I push that contain that image",
    "start": "2352400",
    "end": "2359119"
  },
  {
    "text": "into Azure uh Azure container registry it should have be the image here and then what I do is I log into",
    "start": "2359119",
    "end": "2366520"
  },
  {
    "text": "Azure and the image that I've currently built that is deployed into Azure container apps so when I do it this way",
    "start": "2366520",
    "end": "2373280"
  },
  {
    "text": "the revisions are taken care of for me I found that deploying from Visual Studio",
    "start": "2373280",
    "end": "2378359"
  },
  {
    "text": "into Azure container app was a bit flaky it was not managing the revisions properly for me but this was quite good",
    "start": "2378359",
    "end": "2385119"
  },
  {
    "text": "if you want to have a better read at this if you go into the blog post and Dev blocks where they introduced this",
    "start": "2385119",
    "end": "2391319"
  },
  {
    "text": "functionality a lot of this build pipeline or the GitHub actions that I just showed you is in there so this was",
    "start": "2391319",
    "end": "2398560"
  },
  {
    "text": "my biggest challenge here because I knew the API part I knew the SWA part this",
    "start": "2398560",
    "end": "2404200"
  },
  {
    "text": "was the biggest challenge for me and on the app",
    "start": "2404200",
    "end": "2409640"
  },
  {
    "text": "side it is again plain basic Blazer to just prove that I don't have anything",
    "start": "2409640",
    "end": "2415920"
  },
  {
    "text": "special in my HTTP client it is again the Base address I'm using and in my",
    "start": "2415920",
    "end": "2421160"
  },
  {
    "text": "index file where you show where you saw the list upon on initial stay sync I'm",
    "start": "2421160",
    "end": "2427200"
  },
  {
    "text": "reaching out to API too items and getting the data out and displaying it",
    "start": "2427200",
    "end": "2433200"
  },
  {
    "text": "so that is the a uh the minimal APA part now with graphql it is entirely",
    "start": "2433200",
    "end": "2438839"
  },
  {
    "text": "different story if you have worked with graphql you might know that it is very different from rest in the in the sense",
    "start": "2438839",
    "end": "2445079"
  },
  {
    "text": "that graphql is based upon what you send in as a request with rest it is a set",
    "start": "2445079",
    "end": "2451280"
  },
  {
    "text": "request and a set response and you have multiple or different endp points but with graphql you get a single endpoint",
    "start": "2451280",
    "end": "2458960"
  },
  {
    "text": "that is something/ graphql and you you actually issue your vared flexible",
    "start": "2458960",
    "end": "2465480"
  },
  {
    "text": "request to it and it builds you the output based on your request I'm not",
    "start": "2465480",
    "end": "2470520"
  },
  {
    "text": "going to go into great detail because talking about how to build a graph qel endpoint is a talk in itself but just to",
    "start": "2470520",
    "end": "2477480"
  },
  {
    "text": "give you some keywords to search and Google about I using hot chocolate which is a",
    "start": "2477480",
    "end": "2485000"
  },
  {
    "text": "implementation of of graphql in net graphql is a standard is the",
    "start": "2485000",
    "end": "2490520"
  },
  {
    "text": "specification so that your server understands the queries that you're sending in how a service must be built",
    "start": "2490520",
    "end": "2497520"
  },
  {
    "text": "that is a specification and hot chocolate does that for me and what hot chocolate helps me is that using the",
    "start": "2497520",
    "end": "2504319"
  },
  {
    "text": "programming paradigms that I know classes properties Fields it helps me",
    "start": "2504319",
    "end": "2509440"
  },
  {
    "text": "come up with a graphql server and again I'm using the container",
    "start": "2509440",
    "end": "2515160"
  },
  {
    "text": "app here uh for deploying I didn't have to do anything different than having the",
    "start": "2515160",
    "end": "2520760"
  },
  {
    "text": "yaml file that I just showed you but there is one thing in here which is the map graphql this is",
    "start": "2520760",
    "end": "2528960"
  },
  {
    "text": "what establishes an endpoint for you it is typically SLG graphql but of course I",
    "start": "2528960",
    "end": "2534880"
  },
  {
    "text": "can prepend it with/ API and that'll help things get going so once I had the",
    "start": "2534880",
    "end": "2541640"
  },
  {
    "text": "yaml file for container apps up and running this was pretty simple and easy",
    "start": "2541640",
    "end": "2547480"
  },
  {
    "text": "but if you're new to graphql this can be a very steep learning curve for you because it's very unlike HTTP API or",
    "start": "2547480",
    "end": "2555319"
  },
  {
    "text": "rest and on the app side this is the this is the app no this is not the",
    "start": "2555319",
    "end": "2562640"
  },
  {
    "text": "app there is it graphql app there we go to communicate with a",
    "start": "2562640",
    "end": "2570920"
  },
  {
    "text": "graphql server you need a graphql client you can have HTTP client but then you'll have to do more work work around issuing",
    "start": "2570920",
    "end": "2577079"
  },
  {
    "text": "the graphql request so I brought in this package called graphql Donnet client as",
    "start": "2577079",
    "end": "2583800"
  },
  {
    "text": "much as hot chocolate is open source graphql net is also open source this was one of the first libraries in net to",
    "start": "2583800",
    "end": "2591280"
  },
  {
    "text": "come up with a graphql implementation I'm using the client aspect of it to Issue graphql request to my service and",
    "start": "2591280",
    "end": "2597640"
  },
  {
    "text": "for that in my program.cs I'm using a special HTTP client called graphql HTTP",
    "start": "2597640",
    "end": "2603280"
  },
  {
    "text": "client and I'm using the current host environment based address followed by the API and/ graphql where my graphql",
    "start": "2603280",
    "end": "2610839"
  },
  {
    "text": "endpoint is and in my index. Razer again in oninitialized async that is my query",
    "start": "2610839",
    "end": "2619240"
  },
  {
    "text": "I am saying hey I have got a query called to-do items which looks at a field called to-do items and I want the",
    "start": "2619240",
    "end": "2626079"
  },
  {
    "text": "ID name and due date so that is my query and using the injected graphql client",
    "start": "2626079",
    "end": "2632680"
  },
  {
    "text": "which is an instance of graphql HTTP client that we just saw I have injected",
    "start": "2632680",
    "end": "2638480"
  },
  {
    "text": "that using that graph uh client send this query that I have into my server",
    "start": "2638480",
    "end": "2643880"
  },
  {
    "text": "and get me back the data and the data comes back in a particular hierarchy which is what you you are seeing here I",
    "start": "2643880",
    "end": "2652079"
  },
  {
    "text": "will not go beyond that but then I'm using that to-do items list to display that data and to see this in action let",
    "start": "2652079",
    "end": "2659200"
  },
  {
    "text": "us go into my portal which is",
    "start": "2659200",
    "end": "2665000"
  },
  {
    "text": "here and go into the app it should take a minute again to",
    "start": "2665000",
    "end": "2671119"
  },
  {
    "text": "come back with data because the app service probably in a basic plan or",
    "start": "2671119",
    "end": "2676640"
  },
  {
    "text": "something while that is up and running let us just move on uh to Azure static",
    "start": "2676640",
    "end": "2683280"
  },
  {
    "text": "web app and Azure app service now this was a learning path for me because I wanted to try out how you can have an",
    "start": "2683280",
    "end": "2690200"
  },
  {
    "text": "Azure static web app communicating with the grpc service and it was a learning exercise for myself and this had quite a",
    "start": "2690200",
    "end": "2696760"
  },
  {
    "text": "few challenges as well the first thing was hosting the grpc service it was",
    "start": "2696760",
    "end": "2703240"
  },
  {
    "text": "quite recently that Microsoft announced that you can actually host a grpc service in an Azure app service and that",
    "start": "2703240",
    "end": "2709680"
  },
  {
    "text": "too it is in a Linux plan so you can either host it in an app service or container apps it will work for you but",
    "start": "2709680",
    "end": "2716240"
  },
  {
    "text": "Windows they have to do a huge roll out of something to all the windows app",
    "start": "2716240",
    "end": "2721559"
  },
  {
    "text": "Services across the world or across the cloud for it to work so this was a",
    "start": "2721559",
    "end": "2726720"
  },
  {
    "text": "challenge but once I understood what is going on beneath the hood it was fine but there were other challenges which",
    "start": "2726720",
    "end": "2732640"
  },
  {
    "text": "was fun the first one is grpc is not meant for browser apps it is for",
    "start": "2732640",
    "end": "2738000"
  },
  {
    "text": "microservices to communicate with each other so I cannot bring in grpc down to",
    "start": "2738000",
    "end": "2744520"
  },
  {
    "text": "the browser it has to be grpc web which I'm using today it gives me just the",
    "start": "2744520",
    "end": "2749680"
  },
  {
    "text": "request response grpc or the server streaming or I can bring in grpc Json",
    "start": "2749680",
    "end": "2755040"
  },
  {
    "text": "transcoding which actually is nothing but grpc service with a couple of endpoint and annotations which acts as",
    "start": "2755040",
    "end": "2762240"
  },
  {
    "text": "an sttp API that would be cheating so I st to grpc web the next thing is",
    "start": "2762240",
    "end": "2767359"
  },
  {
    "text": "prefixing the grpc empo with/ API this was total fun because if you have worked",
    "start": "2767359",
    "end": "2772680"
  },
  {
    "text": "with grpc the path the way the client works out the path to the server is fun you",
    "start": "2772680",
    "end": "2779520"
  },
  {
    "text": "don't have any control over it because everything is based on something called a package name in proto",
    "start": "2779520",
    "end": "2786599"
  },
  {
    "text": "and the service name itself I don't have any control over it uh so that was fun",
    "start": "2786599",
    "end": "2792880"
  },
  {
    "text": "and the third and third thing is to make sure that when the grpc client",
    "start": "2792880",
    "end": "2798640"
  },
  {
    "text": "communicates with your server it actually respects that SL API because with grpc the server and the client has",
    "start": "2798640",
    "end": "2806920"
  },
  {
    "text": "generated code and from there it just works out the path itself and goes and",
    "start": "2806920",
    "end": "2812079"
  },
  {
    "text": "issues requests so making sure the SL API request is respected that is another",
    "start": "2812079",
    "end": "2817839"
  },
  {
    "text": "challenge and finally exposing the special grpc headers with course to have",
    "start": "2817839",
    "end": "2823480"
  },
  {
    "text": "grpc web uh in place and a client to communicate with grpc service using grpc",
    "start": "2823480",
    "end": "2829040"
  },
  {
    "text": "web you need a special set of headers exposed that's not something static web app can handle for you at this point of",
    "start": "2829040",
    "end": "2835920"
  },
  {
    "text": "time so which means that you have to do that in code so it is a bit of cheating that I have done there truth be told so",
    "start": "2835920",
    "end": "2843400"
  },
  {
    "text": "let us go into it and see some code in",
    "start": "2843400",
    "end": "2848720"
  },
  {
    "text": "action so that is my graphql uh app service static web app which is bringing",
    "start": "2848720",
    "end": "2854760"
  },
  {
    "text": "back the same data and just so to save time let me also bring up the grpc app",
    "start": "2854760",
    "end": "2860520"
  },
  {
    "text": "which is here it is the same to-do items data that it is trying to load but while this is loading let us have a look at",
    "start": "2860520",
    "end": "2866800"
  },
  {
    "text": "the app and the API beneath the scenes so that is my grpc",
    "start": "2866800",
    "end": "2873160"
  },
  {
    "text": "service uh yes it in need is so here is my Proto file uh this is a standard",
    "start": "2873160",
    "end": "2879880"
  },
  {
    "text": "Proto file nothing special about it I have a package name called to-do a service with a couple of rpcs in place",
    "start": "2879880",
    "end": "2888040"
  },
  {
    "text": "and of course the request and responses uh in Native format when you",
    "start": "2888040",
    "end": "2893280"
  },
  {
    "text": "have a grpc service the the path or the route that it works out is the Base",
    "start": "2893280",
    "end": "2898800"
  },
  {
    "text": "address of the server slash the package name which is too dot the service name",
    "start": "2898800",
    "end": "2904160"
  },
  {
    "text": "here slash the RPC name that is how it works out the path because location transparency is one of the greatest",
    "start": "2904160",
    "end": "2910680"
  },
  {
    "text": "features with grpc so we are looking at grpc web and some special things in",
    "start": "2910680",
    "end": "2916319"
  },
  {
    "text": "place so first of all I needed to bring in this package called grpc ASP not as.",
    "start": "2916319",
    "end": "2923079"
  },
  {
    "text": "web which actually kind of translate an HTTP 1.1 request to an HTTP 2",
    "start": "2923079",
    "end": "2930280"
  },
  {
    "text": "internally and the rest of the magic goes in my program.cs so the first things first",
    "start": "2930280",
    "end": "2936599"
  },
  {
    "text": "first I have my grpc service mapped and to make sure that I give it a prefix I",
    "start": "2936599",
    "end": "2943559"
  },
  {
    "text": "came up with this map Group which was suggested to be by James Newton King so thanks James for that and I'm enabling",
    "start": "2943559",
    "end": "2950440"
  },
  {
    "text": "grpc web on this service of mine and I'm having some required course which is",
    "start": "2950440",
    "end": "2956559"
  },
  {
    "text": "what I have here so as a part of my course policy I am exposing some special",
    "start": "2956559",
    "end": "2963040"
  },
  {
    "text": "headers like grpc status mage encoding and the accept encoding without this",
    "start": "2963040",
    "end": "2968400"
  },
  {
    "text": "grpc web will not work so finding the information around this was one of the",
    "start": "2968400",
    "end": "2973680"
  },
  {
    "text": "greatest challenges that I had with grpc before I go into the app of course",
    "start": "2973680",
    "end": "2979520"
  },
  {
    "text": "my app is loaded it's the same data that I'm displaying nothing special it's just a read list but to look at the app",
    "start": "2979520",
    "end": "2987160"
  },
  {
    "text": "itself because it's grpc I'm sharing the Proto that is how grpc works even with",
    "start": "2987160",
    "end": "2993119"
  },
  {
    "text": "grpc web that is the case and I also have grpc net client web which is the client",
    "start": "2993119",
    "end": "3001599"
  },
  {
    "text": "library for grpc web and in my",
    "start": "3001599",
    "end": "3006839"
  },
  {
    "text": "program.cs when I add the grpc client I I added a special HTTP message Handler",
    "start": "3007520",
    "end": "3013720"
  },
  {
    "text": "this is documented in Microsoft docs and I gave it a special prefix of/ API so",
    "start": "3013720",
    "end": "3021040"
  },
  {
    "text": "the delegating Handler here when it sends the request it makes sure that that/ API prefix is actually uh",
    "start": "3021040",
    "end": "3028920"
  },
  {
    "text": "preserved for you and in my own initialized async method I'm using the injected client",
    "start": "3028920",
    "end": "3036400"
  },
  {
    "text": "which is the to-do client here uh in my own own initialized tasing method to",
    "start": "3036400",
    "end": "3042920"
  },
  {
    "text": "list the items and read from it so that is the grpc side of things moving on",
    "start": "3042920",
    "end": "3050559"
  },
  {
    "text": "very quickly because I might uh lose all the time that I have left the other option if you want to use grpc service",
    "start": "3050559",
    "end": "3057240"
  },
  {
    "text": "in a static web app is grpc Json transcoding which means that it brings down your grpc service to nothing but a",
    "start": "3057240",
    "end": "3064799"
  },
  {
    "text": "restful or HTTP API and from there on your static web app can communicate just freely to an HTTP API using an HTTP",
    "start": "3064799",
    "end": "3073160"
  },
  {
    "text": "client now we saw all of this in action on the portal itself what if you want to",
    "start": "3073160",
    "end": "3078760"
  },
  {
    "text": "make use of a local development tool what if you want to simulate and replicate this static web app platform",
    "start": "3078760",
    "end": "3086079"
  },
  {
    "text": "into your local development cycle that is where the SW CLI comes in it is quite",
    "start": "3086079",
    "end": "3091319"
  },
  {
    "text": "a comprehensive tool which can do a lot of things because it's regarded as a complete local development tool it can",
    "start": "3091319",
    "end": "3097720"
  },
  {
    "text": "help with local SWA initialization so you can create your project you can",
    "start": "3097720",
    "end": "3103240"
  },
  {
    "text": "actually create a resource itself on the cloud you can emulate the authentication and authorization locally because",
    "start": "3103240",
    "end": "3110040"
  },
  {
    "text": "everything is done by the platform rather than the app and the API you can test your routing and redirects you can",
    "start": "3110040",
    "end": "3117000"
  },
  {
    "text": "serve the app and the API from a single platform and it is a node based tool",
    "start": "3117000",
    "end": "3123040"
  },
  {
    "text": "which you have to install and that is the GitHub repository for it this in itself is a one hour topic to talk about",
    "start": "3123040",
    "end": "3129359"
  },
  {
    "text": "because there's so much to cover with it I'm not going to go into great detail but what happens at the heart of this is",
    "start": "3129359",
    "end": "3136559"
  },
  {
    "text": "sorry about this this is kind of blurred out it is actually the browser sitting",
    "start": "3136559",
    "end": "3141799"
  },
  {
    "text": "here what you have is something on Port for 40 to 80 so a reverse proxy is at",
    "start": "3141799",
    "end": "3147839"
  },
  {
    "text": "the heart of the CLI tool and when request comes in it checks where in what",
    "start": "3147839",
    "end": "3153359"
  },
  {
    "text": "part the requests are come coming in if it is on slash. oath the request is",
    "start": "3153359",
    "end": "3158599"
  },
  {
    "text": "given to the authentication and authorization emulator part of the C CLI tool and if there is an API prefix it's",
    "start": "3158599",
    "end": "3165319"
  },
  {
    "text": "given to the functions score tools runtime or your apis so if even if you",
    "start": "3165319",
    "end": "3170440"
  },
  {
    "text": "are bringing in your own API you can run it all as a package with this s",
    "start": "3170440",
    "end": "3175960"
  },
  {
    "text": "and anything apart from that is given to your static app so this port 4280 the",
    "start": "3175960",
    "end": "3181319"
  },
  {
    "text": "reverse proxy is at the heart the 4280 Port is the default one you can change it if if you want no problem with",
    "start": "3181319",
    "end": "3188720"
  },
  {
    "text": "it um let me just go through one more thing be before I come back to the demo",
    "start": "3188720",
    "end": "3194400"
  },
  {
    "text": "of this the last thing is the database connections that I wanted to talk about because this is kind of distinctly",
    "start": "3194400",
    "end": "3200200"
  },
  {
    "text": "related to the API part what if you don't want to code an API you just don't",
    "start": "3200200",
    "end": "3205960"
  },
  {
    "text": "want to have any Azure app service or Azure functions but you just have a database like I had my to-do items",
    "start": "3205960",
    "end": "3213240"
  },
  {
    "text": "database and I want to convert that to the API that is what this feature does for you so underneath the hood it uses a",
    "start": "3213240",
    "end": "3220559"
  },
  {
    "text": "tool called Data API Builder which is open source and what that can that tool",
    "start": "3220559",
    "end": "3226280"
  },
  {
    "text": "can do for you is expose your database objects as rest or graphql end points so",
    "start": "3226280",
    "end": "3231839"
  },
  {
    "text": "that is quite a nice feature and the hot chocolate package that I just showed you is actually used in the graphql aspect",
    "start": "3231839",
    "end": "3238480"
  },
  {
    "text": "of it and the rest part is web APA controllers and this data API Builder is",
    "start": "3238480",
    "end": "3245240"
  },
  {
    "text": "a project on its own you can come up with that and deploy that to aure container apps or even app service or",
    "start": "3245240",
    "end": "3250680"
  },
  {
    "text": "even have it on on premise I think but the data API Builder is available as a",
    "start": "3250680",
    "end": "3256280"
  },
  {
    "text": "managed feature to Azure static web app called the databased connections and that is a feature currently in",
    "start": "3256280",
    "end": "3262799"
  },
  {
    "text": "preview and features include the the Integrated Security that we show we saw",
    "start": "3262799",
    "end": "3268079"
  },
  {
    "text": "the CI operations that is supported and you get S CLI support as well so",
    "start": "3268079",
    "end": "3273480"
  },
  {
    "text": "everything is kind of coming together with the CLI support and in order to work with the",
    "start": "3273480",
    "end": "3281200"
  },
  {
    "text": "database uh the data API builder in the database connections you need to make sure that the database can accept",
    "start": "3281200",
    "end": "3287880"
  },
  {
    "text": "connections from the static web apps so that can be done in the portal or by some",
    "start": "3287880",
    "end": "3293680"
  },
  {
    "text": "Scripts unlik like the API where the prefix is/ API here the API prefix is",
    "start": "3293680",
    "end": "3299559"
  },
  {
    "text": "slash data hyphen API and then you need to come up with",
    "start": "3299559",
    "end": "3304799"
  },
  {
    "text": "rest in graphql end points like/ data hyen API graphql or HTTP API something",
    "start": "3304799",
    "end": "3311760"
  },
  {
    "text": "of your own choice and the whole thing can be initialized and converted into a config",
    "start": "3311760",
    "end": "3318520"
  },
  {
    "text": "file using this particular command SW DB init datab database type Ms SQL what",
    "start": "3318520",
    "end": "3325079"
  },
  {
    "text": "what it gives you is a configuration file in which you can configure your options before we look into",
    "start": "3325079",
    "end": "3331359"
  },
  {
    "text": "that the supported database at this point of time are these Cosmos DB SQL",
    "start": "3331359",
    "end": "3336880"
  },
  {
    "text": "Azure database for my SQL and post SQL to just show you",
    "start": "3336880",
    "end": "3342720"
  },
  {
    "text": "the file uh let me open up have I opened up data p no",
    "start": "3342720",
    "end": "3351720"
  },
  {
    "text": "so",
    "start": "3354000",
    "end": "3357000"
  },
  {
    "text": "this is the API uh the config file that you get the minute you put in that swwa",
    "start": "3362839",
    "end": "3369319"
  },
  {
    "text": "command here I am specifying my rest and graphql end points I also need to make",
    "start": "3369319",
    "end": "3375839"
  },
  {
    "text": "sure that when I run this locally the course is taken care of so I am inputting my local path here and how do",
    "start": "3375839",
    "end": "3383839"
  },
  {
    "text": "I actually give per missions and I how do I come up with end points and specify",
    "start": "3383839",
    "end": "3389079"
  },
  {
    "text": "my entities so in the entity section I have a to-do items this is where the end",
    "start": "3389079",
    "end": "3395000"
  },
  {
    "text": "point or the resource will leave so if you look at to-do items you can consider it as something like um a list of to-do",
    "start": "3395000",
    "end": "3402400"
  },
  {
    "text": "items and then you can control permissions on it as well if you want and the source it is looking at is to-do",
    "start": "3402400",
    "end": "3409599"
  },
  {
    "text": "items so in the index. Riser what I'm then doing is using a step standard HTTP",
    "start": "3409599",
    "end": "3415760"
  },
  {
    "text": "client I'm reaching out to data API rest because that is my end point and the to-do items getting the data and then",
    "start": "3415760",
    "end": "3423119"
  },
  {
    "text": "displaying that and that can be found here where is it data API",
    "start": "3423119",
    "end": "3429820"
  },
  {
    "text": "[Music] Builder while it gives me the time to load no that is not the one I just add",
    "start": "3429820",
    "end": "3438480"
  },
  {
    "text": "there we go this one come on",
    "start": "3438480",
    "end": "3445839"
  },
  {
    "text": "it should load in a minute that that's the data coming in",
    "start": "3445839",
    "end": "3452359"
  },
  {
    "text": "from my data API Builder and that's it from me today that was a whirlwind tour of the integrated",
    "start": "3452359",
    "end": "3459680"
  },
  {
    "text": "API support thank you for being here and that's all the resources for the day today thank you very much come find me",
    "start": "3459680",
    "end": "3466520"
  },
  {
    "text": "after the session if you have any",
    "start": "3466520",
    "end": "3470000"
  },
  {
    "text": "questions",
    "start": "3473799",
    "end": "3476799"
  }
]