[
  {
    "text": "good afternoon everyone welcome to",
    "start": "9889",
    "end": "13240"
  },
  {
    "text": "websites down stories and lessons on how",
    "start": "13240",
    "end": "15910"
  },
  {
    "text": "to keep your website up my name is",
    "start": "15910",
    "end": "19599"
  },
  {
    "text": "Adrian and Balda and I'm a site",
    "start": "19599",
    "end": "21490"
  },
  {
    "text": "reliability engineer for the property",
    "start": "21490",
    "end": "23950"
  },
  {
    "text": "website domain so I'm gonna start off by",
    "start": "23950",
    "end": "26890"
  },
  {
    "text": "talking about particularly stressful",
    "start": "26890",
    "end": "30960"
  },
  {
    "text": "exciting time at domain earlier this",
    "start": "30960",
    "end": "34180"
  },
  {
    "text": "February where the website went down a",
    "start": "34180",
    "end": "38290"
  },
  {
    "text": "handful of times in in that one week",
    "start": "38290",
    "end": "40480"
  },
  {
    "text": "occurred and I now refer to its hell",
    "start": "40480",
    "end": "43300"
  },
  {
    "text": "week and then I'm gonna talk about how",
    "start": "43300",
    "end": "46870"
  },
  {
    "text": "we faced those challenges and had to",
    "start": "46870",
    "end": "50530"
  },
  {
    "text": "figure out how to improve our current",
    "start": "50530",
    "end": "53650"
  },
  {
    "text": "website in terms of liability and",
    "start": "53650",
    "end": "56229"
  },
  {
    "text": "resilience to failure and how we were",
    "start": "56229",
    "end": "60640"
  },
  {
    "text": "able to apply those lessons to",
    "start": "60640",
    "end": "63689"
  },
  {
    "text": "applications that we would build from",
    "start": "63689",
    "end": "65500"
  },
  {
    "text": "now on so hell week it was a let's just",
    "start": "65500",
    "end": "71590"
  },
  {
    "text": "say it was a really bad time in terms of",
    "start": "71590",
    "end": "74439"
  },
  {
    "text": "availability the website went down on",
    "start": "74439",
    "end": "76810"
  },
  {
    "text": "three separate days in the space of that",
    "start": "76810",
    "end": "79509"
  },
  {
    "text": "one week so we had a brilliant start to",
    "start": "79509",
    "end": "84130"
  },
  {
    "text": "the week out with our first outage",
    "start": "84130",
    "end": "86219"
  },
  {
    "text": "around 14 minutes that Monday evening",
    "start": "86219",
    "end": "91229"
  },
  {
    "text": "thankfully we were able to bring the",
    "start": "91229",
    "end": "93460"
  },
  {
    "text": "site back online by simply resetting our",
    "start": "93460",
    "end": "96130"
  },
  {
    "text": "web servers and afterwards after looking",
    "start": "96130",
    "end": "101049"
  },
  {
    "text": "through our logs and looking at all the",
    "start": "101049",
    "end": "103899"
  },
  {
    "text": "system health data for our various",
    "start": "103899",
    "end": "105609"
  },
  {
    "text": "back-end api's one of which is a Redis",
    "start": "105609",
    "end": "108460"
  },
  {
    "text": "cluster that we use for storing user",
    "start": "108460",
    "end": "110979"
  },
  {
    "text": "session data we we were you know being a",
    "start": "110979",
    "end": "117850"
  },
  {
    "text": "pretty high traffic website you were",
    "start": "117850",
    "end": "120999"
  },
  {
    "text": "expecting to see quite a lot of traffic",
    "start": "120999",
    "end": "123670"
  },
  {
    "text": "to the Redis cluster we get you know",
    "start": "123670",
    "end": "126399"
  },
  {
    "text": "upwards of a thousand Jesus sessions",
    "start": "126399",
    "end": "128920"
  },
  {
    "text": "during peak time but after looking at",
    "start": "128920",
    "end": "133000"
  },
  {
    "text": "the data we noticed an abnormally high",
    "start": "133000",
    "end": "136440"
  },
  {
    "text": "spike in CPU and read requests so our",
    "start": "136440",
    "end": "140830"
  },
  {
    "text": "hypothesis was that there was a problem",
    "start": "140830",
    "end": "143350"
  },
  {
    "text": "with how our website was using our Redis",
    "start": "143350",
    "end": "145690"
  },
  {
    "text": "cluster",
    "start": "145690",
    "end": "146770"
  },
  {
    "text": "for session state so unfortunately just",
    "start": "146770",
    "end": "154330"
  },
  {
    "text": "two days later we had our next outage",
    "start": "154330",
    "end": "157260"
  },
  {
    "text": "but unfortunately no amount of resetting",
    "start": "157260",
    "end": "161860"
  },
  {
    "text": "our web service was bringing back our",
    "start": "161860",
    "end": "163780"
  },
  {
    "text": "website online at least not in a stable",
    "start": "163780",
    "end": "166030"
  },
  {
    "text": "way for more than a few minutes in fact",
    "start": "166030",
    "end": "169720"
  },
  {
    "text": "we had a total of 21 outages in that one",
    "start": "169720",
    "end": "173110"
  },
  {
    "text": "afternoon for a total of about an hour",
    "start": "173110",
    "end": "176920"
  },
  {
    "text": "of downtime so we had an emergency",
    "start": "176920",
    "end": "182230"
  },
  {
    "text": "meeting that afternoon where we came",
    "start": "182230",
    "end": "185110"
  },
  {
    "text": "together to diagnose those outages and",
    "start": "185110",
    "end": "188370"
  },
  {
    "text": "try to figure out a way to stabilize our",
    "start": "188370",
    "end": "192580"
  },
  {
    "text": "website and after going through the",
    "start": "192580",
    "end": "195460"
  },
  {
    "text": "various options we had we decided that",
    "start": "195460",
    "end": "198910"
  },
  {
    "text": "we would replace our Redis session store",
    "start": "198910",
    "end": "201810"
  },
  {
    "text": "with a DynamoDB managed service session",
    "start": "201810",
    "end": "205510"
  },
  {
    "text": "store and in the meantime while we were",
    "start": "205510",
    "end": "210280"
  },
  {
    "text": "developing that code change we were",
    "start": "210280",
    "end": "212050"
  },
  {
    "text": "going to switch over to an imprecise",
    "start": "212050",
    "end": "213670"
  },
  {
    "text": "memory session store and thankfully that",
    "start": "213670",
    "end": "218350"
  },
  {
    "text": "brought back our website and stabilized",
    "start": "218350",
    "end": "221200"
  },
  {
    "text": "it and after about an hour after we'd",
    "start": "221200",
    "end": "226570"
  },
  {
    "text": "finished the code change we switched it",
    "start": "226570",
    "end": "228070"
  },
  {
    "text": "to have our servers over to DynamoDB and",
    "start": "228070",
    "end": "232680"
  },
  {
    "text": "crossed our fingers and thankfully our",
    "start": "232680",
    "end": "235210"
  },
  {
    "text": "website remained stable and upper did",
    "start": "235210",
    "end": "239860"
  },
  {
    "text": "about this time of that day was about",
    "start": "239860",
    "end": "243340"
  },
  {
    "text": "9:30 so we decided all right we're just",
    "start": "243340",
    "end": "245200"
  },
  {
    "text": "gonna leave it as is and monitor it",
    "start": "245200",
    "end": "246910"
  },
  {
    "text": "overnight and then the next morning we",
    "start": "246910",
    "end": "249280"
  },
  {
    "text": "switched all our servers over to",
    "start": "249280",
    "end": "251080"
  },
  {
    "text": "dynamodb so all was good until two days",
    "start": "251080",
    "end": "257140"
  },
  {
    "text": "later we had our final outage of that",
    "start": "257140",
    "end": "260890"
  },
  {
    "text": "week like the previous incidents we saw",
    "start": "260890",
    "end": "265780"
  },
  {
    "text": "a dramatic spike in the number of read",
    "start": "265780",
    "end": "268560"
  },
  {
    "text": "requests to our session store so that's",
    "start": "268560",
    "end": "273700"
  },
  {
    "text": "when we decided we'll just switch over",
    "start": "273700",
    "end": "275290"
  },
  {
    "text": "to a pure in-memory session store mode",
    "start": "275290",
    "end": "279700"
  },
  {
    "text": "and then would go through our website",
    "start": "279700",
    "end": "282460"
  },
  {
    "text": "functionality and just try to remove or",
    "start": "282460",
    "end": "286690"
  },
  {
    "text": "at least refactor anywhere we relied on",
    "start": "286690",
    "end": "289540"
  },
  {
    "text": "session state so now that we we came out",
    "start": "289540",
    "end": "294490"
  },
  {
    "text": "of that week of outages we now had a had",
    "start": "294490",
    "end": "296920"
  },
  {
    "text": "the chance to step back and and look for",
    "start": "296920",
    "end": "300850"
  },
  {
    "text": "ways that we could improve our website",
    "start": "300850",
    "end": "304150"
  },
  {
    "text": "in terms of reliability and resilience",
    "start": "304150",
    "end": "306880"
  },
  {
    "text": "to failure but not just our current",
    "start": "306880",
    "end": "308650"
  },
  {
    "text": "website but any of the applications",
    "start": "308650",
    "end": "311470"
  },
  {
    "text": "would be building from now on but as",
    "start": "311470",
    "end": "314710"
  },
  {
    "text": "part of that we wanted to also evaluate",
    "start": "314710",
    "end": "316570"
  },
  {
    "text": "how well we did in terms of reacting and",
    "start": "316570",
    "end": "320170"
  },
  {
    "text": "handling theirs outages during that week",
    "start": "320170",
    "end": "322960"
  },
  {
    "text": "and one of the biggest one of the",
    "start": "322960",
    "end": "326770"
  },
  {
    "text": "biggest challenges was how hot and how",
    "start": "326770",
    "end": "330090"
  },
  {
    "text": "hot it was",
    "start": "330090",
    "end": "331420"
  },
  {
    "text": "- like quickly and and effectively go",
    "start": "331420",
    "end": "335260"
  },
  {
    "text": "through our log files and one of the",
    "start": "335260",
    "end": "340780"
  },
  {
    "text": "challenges was that we just had all",
    "start": "340780",
    "end": "342580"
  },
  {
    "text": "these all these log files spread across",
    "start": "342580",
    "end": "345220"
  },
  {
    "text": "all our all our servers and now the",
    "start": "345220",
    "end": "348850"
  },
  {
    "text": "challenge was that not all our",
    "start": "348850",
    "end": "350260"
  },
  {
    "text": "developers had access to our logs and",
    "start": "350260",
    "end": "354240"
  },
  {
    "text": "once yeah once a once he had your hands",
    "start": "354240",
    "end": "357580"
  },
  {
    "text": "on those logs like searching and sorting",
    "start": "357580",
    "end": "359770"
  },
  {
    "text": "and filtering through those logs was",
    "start": "359770",
    "end": "361720"
  },
  {
    "text": "really cumbersome with the tool set that",
    "start": "361720",
    "end": "364090"
  },
  {
    "text": "we had so that's when we decided would",
    "start": "364090",
    "end": "366610"
  },
  {
    "text": "start looking into Amazon Elastic",
    "start": "366610",
    "end": "369760"
  },
  {
    "text": "searches managed service as a way of",
    "start": "369760",
    "end": "372610"
  },
  {
    "text": "addressing these problems so we started",
    "start": "372610",
    "end": "376240"
  },
  {
    "text": "writing our application logs and our",
    "start": "376240",
    "end": "379510"
  },
  {
    "text": "incoming traffic logs to an",
    "start": "379510",
    "end": "380950"
  },
  {
    "text": "elasticsearch DB and that replaced the",
    "start": "380950",
    "end": "386500"
  },
  {
    "text": "need for for us to have to search across",
    "start": "386500",
    "end": "389680"
  },
  {
    "text": "multiple files",
    "start": "389680",
    "end": "391210"
  },
  {
    "text": "spread across multiple servers and",
    "start": "391210",
    "end": "392830"
  },
  {
    "text": "instead be able to search sort and",
    "start": "392830",
    "end": "397570"
  },
  {
    "text": "filter from a central location using a",
    "start": "397570",
    "end": "400900"
  },
  {
    "text": "user interface that both our developers",
    "start": "400900",
    "end": "405190"
  },
  {
    "text": "and our DevOps teams could both access",
    "start": "405190",
    "end": "407950"
  },
  {
    "text": "and by using caba√±a which comes",
    "start": "407950",
    "end": "411490"
  },
  {
    "text": "out-of-the-box with Emma",
    "start": "411490",
    "end": "414150"
  },
  {
    "text": "elasticsearch has managed service we",
    "start": "414150",
    "end": "417930"
  },
  {
    "text": "could like filter easily by time by",
    "start": "417930",
    "end": "422100"
  },
  {
    "text": "selecting the right bar or a period of",
    "start": "422100",
    "end": "424500"
  },
  {
    "text": "time in that section if you wanted to",
    "start": "424500",
    "end": "427919"
  },
  {
    "text": "you could sort sort by a particular",
    "start": "427919",
    "end": "432360"
  },
  {
    "text": "piece of log data so for example if you",
    "start": "432360",
    "end": "435840"
  },
  {
    "text": "wanted to find out what the most the",
    "start": "435840",
    "end": "437850"
  },
  {
    "text": "slowest end points in your application",
    "start": "437850",
    "end": "439830"
  },
  {
    "text": "were then you could sort by time taken",
    "start": "439830",
    "end": "442800"
  },
  {
    "text": "in descending order and finally you",
    "start": "442800",
    "end": "446160"
  },
  {
    "text": "could also easily filter your logs by",
    "start": "446160",
    "end": "450180"
  },
  {
    "text": "using elastic searches querying",
    "start": "450180",
    "end": "451800"
  },
  {
    "text": "capabilities the problem was when we",
    "start": "451800",
    "end": "457440"
  },
  {
    "text": "went with this logging solution we we",
    "start": "457440",
    "end": "459600"
  },
  {
    "text": "ran into out of disk space issues",
    "start": "459600",
    "end": "461970"
  },
  {
    "text": "earlier on because we weren't entirely",
    "start": "461970",
    "end": "463590"
  },
  {
    "text": "sure how much how much space we needed",
    "start": "463590",
    "end": "465960"
  },
  {
    "text": "to store all that data it was a ideally",
    "start": "465960",
    "end": "470010"
  },
  {
    "text": "we wanted to store at least a couple of",
    "start": "470010",
    "end": "471690"
  },
  {
    "text": "weeks worth of data so we could do a",
    "start": "471690",
    "end": "473250"
  },
  {
    "text": "week-to-week comparisons so to get",
    "start": "473250",
    "end": "477840"
  },
  {
    "text": "around that we started by fixing the",
    "start": "477840",
    "end": "479820"
  },
  {
    "text": "most commonly occurring errors and that",
    "start": "479820",
    "end": "482940"
  },
  {
    "text": "saved a significant amount of disk space",
    "start": "482940",
    "end": "484560"
  },
  {
    "text": "and the second thing we did was reduce",
    "start": "484560",
    "end": "488160"
  },
  {
    "text": "the number of data nodes in our",
    "start": "488160",
    "end": "490050"
  },
  {
    "text": "elasticsearch cluster from two to one",
    "start": "490050",
    "end": "493099"
  },
  {
    "text": "effectively removing replication so",
    "start": "493099",
    "end": "496370"
  },
  {
    "text": "although we traded off having you know",
    "start": "496370",
    "end": "500820"
  },
  {
    "text": "redundant copy of our logs and some",
    "start": "500820",
    "end": "504240"
  },
  {
    "text": "search through port and performance we",
    "start": "504240",
    "end": "506880"
  },
  {
    "text": "effectively have the amount of disk",
    "start": "506880",
    "end": "508949"
  },
  {
    "text": "space that we required for storing our",
    "start": "508949",
    "end": "511470"
  },
  {
    "text": "logs so now we had a better way of a",
    "start": "511470",
    "end": "515789"
  },
  {
    "text": "more quick way of analyzing our logs but",
    "start": "515789",
    "end": "520589"
  },
  {
    "text": "the thing was we still didn't know",
    "start": "520589",
    "end": "521729"
  },
  {
    "text": "exactly what had caused those outages",
    "start": "521729",
    "end": "524250"
  },
  {
    "text": "during that week even after spending",
    "start": "524250",
    "end": "526650"
  },
  {
    "text": "quite a bit of time poring over our logs",
    "start": "526650",
    "end": "529230"
  },
  {
    "text": "and looking at the system health data",
    "start": "529230",
    "end": "532339"
  },
  {
    "text": "for clues so what do you do when you're",
    "start": "532339",
    "end": "536700"
  },
  {
    "text": "not entirely sure what the problem is so",
    "start": "536700",
    "end": "539420"
  },
  {
    "text": "what we did we we took a step back and",
    "start": "539420",
    "end": "544079"
  },
  {
    "text": "and looked at the problem by starting",
    "start": "544079",
    "end": "547200"
  },
  {
    "text": "with what we",
    "start": "547200",
    "end": "548040"
  },
  {
    "text": "had in place so we had a asp.net",
    "start": "548040",
    "end": "551420"
  },
  {
    "text": "application deployed across a load",
    "start": "551420",
    "end": "555060"
  },
  {
    "text": "balance set of servers it's called that",
    "start": "555060",
    "end": "556680"
  },
  {
    "text": "to a handful of api's and our",
    "start": "556680",
    "end": "559980"
  },
  {
    "text": "application was proxy by a CDN and by",
    "start": "559980",
    "end": "565139"
  },
  {
    "text": "looking at this we asked ourselves was",
    "start": "565139",
    "end": "566610"
  },
  {
    "text": "there a way to protect our end users",
    "start": "566610",
    "end": "568889"
  },
  {
    "text": "from an outage in our asp.net",
    "start": "568889",
    "end": "571610"
  },
  {
    "text": "application that's when we we started",
    "start": "571610",
    "end": "576029"
  },
  {
    "text": "wondering what role our CDN could play",
    "start": "576029",
    "end": "579019"
  },
  {
    "text": "in giving us this insurance policy so",
    "start": "579019",
    "end": "583579"
  },
  {
    "text": "first of all what's a CDN CDN is",
    "start": "583579",
    "end": "586470"
  },
  {
    "text": "basically a proxy that sits in between",
    "start": "586470",
    "end": "588060"
  },
  {
    "text": "your end users and your back-end",
    "start": "588060",
    "end": "591000"
  },
  {
    "text": "application a CDN has the ability to",
    "start": "591000",
    "end": "594660"
  },
  {
    "text": "cache resources like HTML Javascript",
    "start": "594660",
    "end": "597930"
  },
  {
    "text": "images CSS which comes in really handy",
    "start": "597930",
    "end": "601230"
  },
  {
    "text": "in the event that your back-end",
    "start": "601230",
    "end": "603240"
  },
  {
    "text": "application goes down your CDN is able",
    "start": "603240",
    "end": "606540"
  },
  {
    "text": "to offload traffic to your from your",
    "start": "606540",
    "end": "609089"
  },
  {
    "text": "back-end application and then as an",
    "start": "609089",
    "end": "614670"
  },
  {
    "text": "example we had a breaking change to one",
    "start": "614670",
    "end": "616620"
  },
  {
    "text": "of the micro services that powers our",
    "start": "616620",
    "end": "619589"
  },
  {
    "text": "property details page on domain where",
    "start": "619589",
    "end": "622500"
  },
  {
    "text": "there was an update to the data returned",
    "start": "622500",
    "end": "624449"
  },
  {
    "text": "from the micro service back to our",
    "start": "624449",
    "end": "626100"
  },
  {
    "text": "website in a way that it broke it start",
    "start": "626100",
    "end": "628769"
  },
  {
    "text": "a contract between the two so how did",
    "start": "628769",
    "end": "632160"
  },
  {
    "text": "that look and user makes a request to a",
    "start": "632160",
    "end": "636839"
  },
  {
    "text": "property details page which gets handled",
    "start": "636839",
    "end": "640170"
  },
  {
    "text": "by the CDN CDN makes a call out to our",
    "start": "640170",
    "end": "643769"
  },
  {
    "text": "website our website then calls our micro",
    "start": "643769",
    "end": "647370"
  },
  {
    "text": "service for property details data which",
    "start": "647370",
    "end": "650310"
  },
  {
    "text": "returns a JSON response which no longer",
    "start": "650310",
    "end": "653279"
  },
  {
    "text": "adheres to its data contract with the",
    "start": "653279",
    "end": "655019"
  },
  {
    "text": "website website generates an error upon",
    "start": "655019",
    "end": "660329"
  },
  {
    "text": "seeing that era the CDN will check if",
    "start": "660329",
    "end": "663000"
  },
  {
    "text": "it's if it's got a copy cached copy of",
    "start": "663000",
    "end": "667139"
  },
  {
    "text": "that requested page from a previous",
    "start": "667139",
    "end": "670290"
  },
  {
    "text": "request and if it if it does then it",
    "start": "670290",
    "end": "673199"
  },
  {
    "text": "will return our successful response back",
    "start": "673199",
    "end": "674939"
  },
  {
    "text": "to the user so great",
    "start": "674939",
    "end": "679160"
  },
  {
    "text": "and this number roughly 400,000 is the",
    "start": "679220",
    "end": "682970"
  },
  {
    "text": "number of successful property details",
    "start": "682970",
    "end": "685759"
  },
  {
    "text": "pages that would have otherwise been",
    "start": "685759",
    "end": "687290"
  },
  {
    "text": "error pages if it hadn't been for the",
    "start": "687290",
    "end": "690259"
  },
  {
    "text": "offloading and the caching that we'd set",
    "start": "690259",
    "end": "692329"
  },
  {
    "text": "up in our CDN so great now we have a",
    "start": "692329",
    "end": "698060"
  },
  {
    "text": "more effective way of analyzing our logs",
    "start": "698060",
    "end": "700519"
  },
  {
    "text": "so we could more quickly react to",
    "start": "700519",
    "end": "704240"
  },
  {
    "text": "outages we had a way of protecting our",
    "start": "704240",
    "end": "707839"
  },
  {
    "text": "end-users from a back-end application",
    "start": "707839",
    "end": "710620"
  },
  {
    "text": "outage but how could we improve the",
    "start": "710620",
    "end": "715699"
  },
  {
    "text": "resiliency and the reliability of any",
    "start": "715699",
    "end": "719449"
  },
  {
    "text": "new applications that we that would",
    "start": "719449",
    "end": "722180"
  },
  {
    "text": "build from then on so no long after the",
    "start": "722180",
    "end": "726589"
  },
  {
    "text": "there's outages of that week we began",
    "start": "726589",
    "end": "728660"
  },
  {
    "text": "the rebuild of our home page and with",
    "start": "728660",
    "end": "733730"
  },
  {
    "text": "resilience as a top priority we began by",
    "start": "733730",
    "end": "736250"
  },
  {
    "text": "asking ourselves what well a couple of",
    "start": "736250",
    "end": "739250"
  },
  {
    "text": "basic questions first of all what could",
    "start": "739250",
    "end": "741019"
  },
  {
    "text": "go wrong and then second of all what",
    "start": "741019",
    "end": "744559"
  },
  {
    "text": "happens if X Y or Z goes wrong so we",
    "start": "744559",
    "end": "749389"
  },
  {
    "text": "began by looking at what we had already",
    "start": "749389",
    "end": "751639"
  },
  {
    "text": "in place you've already seen this we",
    "start": "751639",
    "end": "753410"
  },
  {
    "text": "have an asp.net application deploy to",
    "start": "753410",
    "end": "755990"
  },
  {
    "text": "multiple low balance servers calling out",
    "start": "755990",
    "end": "759680"
  },
  {
    "text": "to a handful of api's and you know we're",
    "start": "759680",
    "end": "762889"
  },
  {
    "text": "proxy by our CDN so it's quite clear to",
    "start": "762889",
    "end": "767089"
  },
  {
    "text": "see from this picture there are quite a",
    "start": "767089",
    "end": "769519"
  },
  {
    "text": "few things that could go wrong each of",
    "start": "769519",
    "end": "771139"
  },
  {
    "text": "those calls to those api's is a",
    "start": "771139",
    "end": "772879"
  },
  {
    "text": "potential point of failure so in the new",
    "start": "772879",
    "end": "777949"
  },
  {
    "text": "design we decided that we'll pre",
    "start": "777949",
    "end": "779990"
  },
  {
    "text": "generate the HTML for our home page",
    "start": "779990",
    "end": "783250"
  },
  {
    "text": "would host it in an AWS s3 bucket which",
    "start": "783250",
    "end": "786889"
  },
  {
    "text": "has which is basically a static file",
    "start": "786889",
    "end": "790069"
  },
  {
    "text": "hosting service it's got a virtually a",
    "start": "790069",
    "end": "793629"
  },
  {
    "text": "100% uptime SLA stores redundant copies",
    "start": "793629",
    "end": "797089"
  },
  {
    "text": "of your files across multiple data",
    "start": "797089",
    "end": "800029"
  },
  {
    "text": "facilities and within each of those",
    "start": "800029",
    "end": "801949"
  },
  {
    "text": "facilities across multiple devices and",
    "start": "801949",
    "end": "804819"
  },
  {
    "text": "are also order scales to handle incoming",
    "start": "804819",
    "end": "807620"
  },
  {
    "text": "traffic",
    "start": "807620",
    "end": "810100"
  },
  {
    "text": "as another layer of redundancy we also",
    "start": "811279",
    "end": "813519"
  },
  {
    "text": "cache our homepage in our CDN for an",
    "start": "813519",
    "end": "816829"
  },
  {
    "text": "hour sir",
    "start": "816829",
    "end": "818060"
  },
  {
    "text": "if there's ever an an outage without",
    "start": "818060",
    "end": "821509"
  },
  {
    "text": "back-end application or or something",
    "start": "821509",
    "end": "826370"
  },
  {
    "text": "else goes wrong with that connection the",
    "start": "826370",
    "end": "829939"
  },
  {
    "text": "end user could still see a cache copy of",
    "start": "829939",
    "end": "831649"
  },
  {
    "text": "our homepage as another layer of",
    "start": "831649",
    "end": "836059"
  },
  {
    "text": "redundancy we also cache our home page",
    "start": "836059",
    "end": "838279"
  },
  {
    "text": "in the end users browser for an hour so",
    "start": "838279",
    "end": "841009"
  },
  {
    "text": "that in the event that we've miss",
    "start": "841009",
    "end": "844339"
  },
  {
    "text": "configured our city and for example or",
    "start": "844339",
    "end": "846230"
  },
  {
    "text": "the end users having internet",
    "start": "846230",
    "end": "849259"
  },
  {
    "text": "connectivity issues as long as they",
    "start": "849259",
    "end": "851420"
  },
  {
    "text": "visited the website of all the home page",
    "start": "851420",
    "end": "853610"
  },
  {
    "text": "before they should still be able to load",
    "start": "853610",
    "end": "855740"
  },
  {
    "text": "up the home page so in our new design",
    "start": "855740",
    "end": "860899"
  },
  {
    "text": "and user makes a request for the home",
    "start": "860899",
    "end": "863660"
  },
  {
    "text": "page which gets handled by our CDN CDN",
    "start": "863660",
    "end": "867069"
  },
  {
    "text": "makes a call to s3 which returns the pre",
    "start": "867069",
    "end": "870439"
  },
  {
    "text": "generated HTML which goes back to the",
    "start": "870439",
    "end": "873589"
  },
  {
    "text": "CDN where its cache for an hour which is",
    "start": "873589",
    "end": "876860"
  },
  {
    "text": "then returned back to the end user where",
    "start": "876860",
    "end": "878420"
  },
  {
    "text": "it's also cached for an hour and so",
    "start": "878420",
    "end": "884120"
  },
  {
    "text": "comparing the two we've we've reduced",
    "start": "884120",
    "end": "887720"
  },
  {
    "text": "the number of things that could go wrong",
    "start": "887720",
    "end": "889160"
  },
  {
    "text": "by reducing the number of AP is that we",
    "start": "889160",
    "end": "892040"
  },
  {
    "text": "depend on and by reducing the number of",
    "start": "892040",
    "end": "894740"
  },
  {
    "text": "API as we depend on we're also as a",
    "start": "894740",
    "end": "897529"
  },
  {
    "text": "bonus improving the response time for",
    "start": "897529",
    "end": "900529"
  },
  {
    "text": "loading up the home page and not long",
    "start": "900529",
    "end": "906500"
  },
  {
    "text": "after we started to rebuild all our home",
    "start": "906500",
    "end": "909199"
  },
  {
    "text": "page we also started the rebuild of our",
    "start": "909199",
    "end": "911509"
  },
  {
    "text": "property details page so like before we",
    "start": "911509",
    "end": "915829"
  },
  {
    "text": "asked ourselves the same questions what",
    "start": "915829",
    "end": "918620"
  },
  {
    "text": "could go wrong and what happens if X Y",
    "start": "918620",
    "end": "921529"
  },
  {
    "text": "or Z goes wrong and like before we",
    "start": "921529",
    "end": "925519"
  },
  {
    "text": "looked at what we already had in place",
    "start": "925519",
    "end": "928360"
  },
  {
    "text": "load balance asp.net application calls",
    "start": "928360",
    "end": "931279"
  },
  {
    "text": "out to some API which is proxy by a CDN",
    "start": "931279",
    "end": "936040"
  },
  {
    "text": "like before a lot of things could go",
    "start": "936040",
    "end": "939050"
  },
  {
    "text": "wrong each of those API calls is a",
    "start": "939050",
    "end": "941389"
  },
  {
    "text": "potential point of failure so in the new",
    "start": "941389",
    "end": "944360"
  },
  {
    "text": "design",
    "start": "944360",
    "end": "945259"
  },
  {
    "text": "we've replaced that with a single call",
    "start": "945259",
    "end": "949139"
  },
  {
    "text": "to a dynamodb table where we've where we",
    "start": "949139",
    "end": "953009"
  },
  {
    "text": "store all the listing data for all the",
    "start": "953009",
    "end": "956730"
  },
  {
    "text": "listings across our side which we've pre",
    "start": "956730",
    "end": "959970"
  },
  {
    "text": "aggregated in a separate offline task",
    "start": "959970",
    "end": "962249"
  },
  {
    "text": "and because it's in we're using DynamoDB",
    "start": "962249",
    "end": "967949"
  },
  {
    "text": "which is a managed service it means that",
    "start": "967949",
    "end": "969660"
  },
  {
    "text": "we don't have to spend as much time",
    "start": "969660",
    "end": "971839"
  },
  {
    "text": "maintaining that infrastructure",
    "start": "971839",
    "end": "973949"
  },
  {
    "text": "it also lets us provision pre provision",
    "start": "973949",
    "end": "977249"
  },
  {
    "text": "its capacity according to our throughput",
    "start": "977249",
    "end": "979170"
  },
  {
    "text": "needs and like before in the home page",
    "start": "979170",
    "end": "983850"
  },
  {
    "text": "now that we're just calling one API",
    "start": "983850",
    "end": "985860"
  },
  {
    "text": "we've also improved the response time",
    "start": "985860",
    "end": "988920"
  },
  {
    "text": "for loading the page back to the",
    "start": "988920",
    "end": "990179"
  },
  {
    "text": "end-user and we also decided that we",
    "start": "990179",
    "end": "993509"
  },
  {
    "text": "would build a new front-end application",
    "start": "993509",
    "end": "997019"
  },
  {
    "text": "for the property details page and by",
    "start": "997019",
    "end": "1000800"
  },
  {
    "text": "doing that we effectively built a",
    "start": "1000800",
    "end": "1003800"
  },
  {
    "text": "bulkhead in our website",
    "start": "1003800",
    "end": "1006290"
  },
  {
    "text": "much like the bulkheads there's metal",
    "start": "1006290",
    "end": "1008839"
  },
  {
    "text": "partitions you find that you could seal",
    "start": "1008839",
    "end": "1012589"
  },
  {
    "text": "shut and use to divide your ship in two",
    "start": "1012589",
    "end": "1018699"
  },
  {
    "text": "separate watertight containers so in",
    "start": "1018699",
    "end": "1022369"
  },
  {
    "text": "order to basically contain the damage to",
    "start": "1022369",
    "end": "1027110"
  },
  {
    "text": "one compartment and keep it from",
    "start": "1027110",
    "end": "1028459"
  },
  {
    "text": "spreading to the rest of the ship in our",
    "start": "1028459",
    "end": "1031250"
  },
  {
    "text": "case to the rest of the website",
    "start": "1031250",
    "end": "1034538"
  },
  {
    "text": "we don't only do that for for the",
    "start": "1037610",
    "end": "1040699"
  },
  {
    "text": "property details page we've also we do",
    "start": "1040699",
    "end": "1042798"
  },
  {
    "text": "it across a lot of our website the home",
    "start": "1042799",
    "end": "1046130"
  },
  {
    "text": "page as an example it's a pre generated",
    "start": "1046130",
    "end": "1049730"
  },
  {
    "text": "static home page HTML page which is",
    "start": "1049730",
    "end": "1052490"
  },
  {
    "text": "hosted in an s3 bucket we also do it for",
    "start": "1052490",
    "end": "1056029"
  },
  {
    "text": "our property profiles section of the",
    "start": "1056029",
    "end": "1059990"
  },
  {
    "text": "website we also do it for our search",
    "start": "1059990",
    "end": "1063200"
  },
  {
    "text": "results page and our new homes page so",
    "start": "1063200",
    "end": "1065659"
  },
  {
    "text": "by having all these separate microsites",
    "start": "1065659",
    "end": "1069460"
  },
  {
    "text": "what that allows us to do is for for the",
    "start": "1069460",
    "end": "1074929"
  },
  {
    "text": "property details page we could provision",
    "start": "1074929",
    "end": "1077480"
  },
  {
    "text": "it and scale it independently",
    "start": "1077480",
    "end": "1079760"
  },
  {
    "text": "of the others parts of the website we",
    "start": "1079760",
    "end": "1084590"
  },
  {
    "text": "could also release it independently and",
    "start": "1084590",
    "end": "1088370"
  },
  {
    "text": "this is one of the main ways that at the",
    "start": "1088370",
    "end": "1091549"
  },
  {
    "text": "Maine were able to release as frequently",
    "start": "1091549",
    "end": "1093650"
  },
  {
    "text": "as we do into production without with",
    "start": "1093650",
    "end": "1096380"
  },
  {
    "text": "minimal risk of a site-wide",
    "start": "1096380",
    "end": "1098780"
  },
  {
    "text": "catastrophic catastrophic failure",
    "start": "1098780",
    "end": "1103030"
  },
  {
    "text": "another way we enforce the damage",
    "start": "1103570",
    "end": "1105830"
  },
  {
    "text": "containment is by the by using circuit",
    "start": "1105830",
    "end": "1108770"
  },
  {
    "text": "breakers whenever we make an API call in",
    "start": "1108770",
    "end": "1111409"
  },
  {
    "text": "our system so the way circuit breakers",
    "start": "1111409",
    "end": "1114559"
  },
  {
    "text": "work that they sit between your upstream",
    "start": "1114559",
    "end": "1118940"
  },
  {
    "text": "services and its clients they start off",
    "start": "1118940",
    "end": "1122360"
  },
  {
    "text": "in a clear state client makes a call to",
    "start": "1122360",
    "end": "1127450"
  },
  {
    "text": "service and if the service returns an",
    "start": "1127450",
    "end": "1131330"
  },
  {
    "text": "error the circuit breaker keeps track of",
    "start": "1131330",
    "end": "1133460"
  },
  {
    "text": "that error and once the number of",
    "start": "1133460",
    "end": "1135559"
  },
  {
    "text": "consecutive errors reaches a particular",
    "start": "1135559",
    "end": "1138590"
  },
  {
    "text": "threshold that's when the circuit",
    "start": "1138590",
    "end": "1141980"
  },
  {
    "text": "breaker goes from a closed state to an",
    "start": "1141980",
    "end": "1144770"
  },
  {
    "text": "open state for a predetermined amount of",
    "start": "1144770",
    "end": "1147440"
  },
  {
    "text": "time say a minute during which any calls",
    "start": "1147440",
    "end": "1150710"
  },
  {
    "text": "from the client to the service are",
    "start": "1150710",
    "end": "1153380"
  },
  {
    "text": "automatically stopped and what this does",
    "start": "1153380",
    "end": "1155929"
  },
  {
    "text": "is it means that you're struggling",
    "start": "1155929",
    "end": "1158630"
  },
  {
    "text": "service is given time to either order",
    "start": "1158630",
    "end": "1163130"
  },
  {
    "text": "correct order heal itself or it gives",
    "start": "1163130",
    "end": "1166100"
  },
  {
    "text": "the development team that's responsible",
    "start": "1166100",
    "end": "1168169"
  },
  {
    "text": "for that service time to manually",
    "start": "1168169",
    "end": "1170780"
  },
  {
    "text": "intervene and diagnose and address the",
    "start": "1170780",
    "end": "1173539"
  },
  {
    "text": "issue and the final way that we enforce",
    "start": "1173539",
    "end": "1179330"
  },
  {
    "text": "the damage containment in our sites is",
    "start": "1179330",
    "end": "1181370"
  },
  {
    "text": "by making sure we explicitly set",
    "start": "1181370",
    "end": "1183860"
  },
  {
    "text": "timeouts whenever an API call is made",
    "start": "1183860",
    "end": "1186770"
  },
  {
    "text": "and what this means is any slow",
    "start": "1186770",
    "end": "1190580"
  },
  {
    "text": "responding services don't result in",
    "start": "1190580",
    "end": "1195070"
  },
  {
    "text": "downstream clients from having their",
    "start": "1195070",
    "end": "1198169"
  },
  {
    "text": "outgoing requests cue start to build up",
    "start": "1198169",
    "end": "1201250"
  },
  {
    "text": "or other resources like memory to start",
    "start": "1201250",
    "end": "1205580"
  },
  {
    "text": "maxing out okay we have a way of",
    "start": "1205580",
    "end": "1211309"
  },
  {
    "text": "containing damage to",
    "start": "1211309",
    "end": "1212900"
  },
  {
    "text": "a particular part of our website and we",
    "start": "1212900",
    "end": "1217850"
  },
  {
    "text": "also have a better way of doing log",
    "start": "1217850",
    "end": "1220370"
  },
  {
    "text": "analysis we have a way of protecting our",
    "start": "1220370",
    "end": "1223340"
  },
  {
    "text": "end-users from an outage from our",
    "start": "1223340",
    "end": "1225110"
  },
  {
    "text": "back-end application one area we I often",
    "start": "1225110",
    "end": "1230120"
  },
  {
    "text": "see overlooked is is making sure that is",
    "start": "1230120",
    "end": "1233150"
  },
  {
    "text": "the right alerting putting put into",
    "start": "1233150",
    "end": "1234950"
  },
  {
    "text": "place for a new application so at the",
    "start": "1234950",
    "end": "1239030"
  },
  {
    "text": "main we have a set of uptime targets and",
    "start": "1239030",
    "end": "1242750"
  },
  {
    "text": "and and and user satisfaction targets",
    "start": "1242750",
    "end": "1245540"
  },
  {
    "text": "based on response times so we need a way",
    "start": "1245540",
    "end": "1249110"
  },
  {
    "text": "of measuring how well we're doing and be",
    "start": "1249110",
    "end": "1251960"
  },
  {
    "text": "notified of when we're starting to",
    "start": "1251960",
    "end": "1253940"
  },
  {
    "text": "deviate from their targets and we uses a",
    "start": "1253940",
    "end": "1258950"
  },
  {
    "text": "number of services for that we use",
    "start": "1258950",
    "end": "1262940"
  },
  {
    "text": "Pingdom to maintain a set of uptime",
    "start": "1262940",
    "end": "1266030"
  },
  {
    "text": "checks against our various websites and",
    "start": "1266030",
    "end": "1269620"
  },
  {
    "text": "against various endpoints within each of",
    "start": "1269620",
    "end": "1272420"
  },
  {
    "text": "those websites we also used New Relic",
    "start": "1272420",
    "end": "1276710"
  },
  {
    "text": "to basically alert us about any errors",
    "start": "1276710",
    "end": "1281980"
  },
  {
    "text": "or regressions in response times you",
    "start": "1281980",
    "end": "1288260"
  },
  {
    "text": "know stuff that our Pingdom alerts",
    "start": "1288260",
    "end": "1290330"
  },
  {
    "text": "wouldn't tell us about and we also use",
    "start": "1290330",
    "end": "1296330"
  },
  {
    "text": "ops trini to make sure that our on-call",
    "start": "1296330",
    "end": "1300110"
  },
  {
    "text": "enginee gets notified of production",
    "start": "1300110",
    "end": "1303680"
  },
  {
    "text": "incidents directed at phone well one",
    "start": "1303680",
    "end": "1307910"
  },
  {
    "text": "thing we wanted to make sure was that",
    "start": "1307910",
    "end": "1309290"
  },
  {
    "text": "when we were setting there's alert",
    "start": "1309290",
    "end": "1311180"
  },
  {
    "text": "thresholds that we don't set them too",
    "start": "1311180",
    "end": "1312620"
  },
  {
    "text": "low so infact drowning out our team with",
    "start": "1312620",
    "end": "1317180"
  },
  {
    "text": "although it's every few minutes which is",
    "start": "1317180",
    "end": "1319670"
  },
  {
    "text": "a good way to have them completely",
    "start": "1319670",
    "end": "1321110"
  },
  {
    "text": "completely ignored eventually when",
    "start": "1321110",
    "end": "1324470"
  },
  {
    "text": "there's no real need for for",
    "start": "1324470",
    "end": "1326890"
  },
  {
    "text": "intervention but you also don't want to",
    "start": "1326890",
    "end": "1329000"
  },
  {
    "text": "set them too high because you might",
    "start": "1329000",
    "end": "1331550"
  },
  {
    "text": "actually miss out on a genuine",
    "start": "1331550",
    "end": "1333080"
  },
  {
    "text": "production incident so we started off by",
    "start": "1333080",
    "end": "1335360"
  },
  {
    "text": "setting them lower than usual and really",
    "start": "1335360",
    "end": "1337580"
  },
  {
    "text": "having theirs alerts sent out to a",
    "start": "1337580",
    "end": "1339110"
  },
  {
    "text": "handful of people warning them you know",
    "start": "1339110",
    "end": "1342500"
  },
  {
    "text": "you're probably going to get more or",
    "start": "1342500",
    "end": "1343580"
  },
  {
    "text": "less than needed and we're gonna work on",
    "start": "1343580",
    "end": "1346700"
  },
  {
    "text": "tweaking those thresholds says new",
    "start": "1346700",
    "end": "1348920"
  },
  {
    "text": "traffic came in cool so just a quick",
    "start": "1348920",
    "end": "1357710"
  },
  {
    "text": "recap I start off by telling the story",
    "start": "1357710",
    "end": "1361910"
  },
  {
    "text": "of all those outages during hell week",
    "start": "1361910",
    "end": "1364150"
  },
  {
    "text": "how it forced us to figure out how to",
    "start": "1364150",
    "end": "1366890"
  },
  {
    "text": "improve the way we do a loggers analysis",
    "start": "1366890",
    "end": "1368810"
  },
  {
    "text": "so we could get to the root cause of a",
    "start": "1368810",
    "end": "1370700"
  },
  {
    "text": "future outage how we used our CDN to",
    "start": "1370700",
    "end": "1374570"
  },
  {
    "text": "give us an insurance policy against the",
    "start": "1374570",
    "end": "1377080"
  },
  {
    "text": "another back-end application outage then",
    "start": "1377080",
    "end": "1381590"
  },
  {
    "text": "I talked about the the rebuilding of our",
    "start": "1381590",
    "end": "1383990"
  },
  {
    "text": "homepage and our property details page",
    "start": "1383990",
    "end": "1386530"
  },
  {
    "text": "to be more resilient basically by",
    "start": "1386530",
    "end": "1389270"
  },
  {
    "text": "reducing the number of points of failure",
    "start": "1389270",
    "end": "1392140"
  },
  {
    "text": "and finally talked about the need for",
    "start": "1392140",
    "end": "1397400"
  },
  {
    "text": "putting in the right amount of loading",
    "start": "1397400",
    "end": "1399620"
  },
  {
    "text": "and the tools that we use that domain",
    "start": "1399620",
    "end": "1403600"
  },
  {
    "text": "and if there's if you're interested in",
    "start": "1403600",
    "end": "1407900"
  },
  {
    "text": "jumping into some of these topics a",
    "start": "1407900",
    "end": "1410030"
  },
  {
    "text": "little bit more like reliability and",
    "start": "1410030",
    "end": "1412280"
  },
  {
    "text": "resilience there's a couple of resources",
    "start": "1412280",
    "end": "1414800"
  },
  {
    "text": "I highly recommend the first one is a",
    "start": "1414800",
    "end": "1417590"
  },
  {
    "text": "book called and release it design and",
    "start": "1417590",
    "end": "1419990"
  },
  {
    "text": "deploy production ready software it's",
    "start": "1419990",
    "end": "1422830"
  },
  {
    "text": "actually it was published a quite a long",
    "start": "1422830",
    "end": "1425600"
  },
  {
    "text": "time ago but its content is still really",
    "start": "1425600",
    "end": "1428770"
  },
  {
    "text": "applicable to today and the second one",
    "start": "1428770",
    "end": "1432530"
  },
  {
    "text": "is a website called high very high",
    "start": "1432530",
    "end": "1434890"
  },
  {
    "text": "scalability calm which has a lot of",
    "start": "1434890",
    "end": "1438790"
  },
  {
    "text": "interesting case studies for for real",
    "start": "1438790",
    "end": "1441830"
  },
  {
    "text": "high traffic websites that need to scale",
    "start": "1441830",
    "end": "1445010"
  },
  {
    "text": "well and need to handle failures in",
    "start": "1445010",
    "end": "1447950"
  },
  {
    "text": "production really well so that brings us",
    "start": "1447950",
    "end": "1456650"
  },
  {
    "text": "to the end of my talk thanks for",
    "start": "1456650",
    "end": "1459800"
  },
  {
    "text": "listening if there's any questions happy",
    "start": "1459800",
    "end": "1462860"
  },
  {
    "text": "to answer them",
    "start": "1462860",
    "end": "1465370"
  }
]