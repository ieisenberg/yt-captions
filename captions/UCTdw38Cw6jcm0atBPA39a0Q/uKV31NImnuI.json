[
  {
    "text": "hi everybody oh it works so I was told it should start at the exact time so",
    "start": "3840",
    "end": "9540"
  },
  {
    "text": "it's time I should start thanks to be here for this talk",
    "start": "9540",
    "end": "15000"
  },
  {
    "text": "um I'm Nicola Frankel this is actually my first time at NDC so I'm very very happy I submitted for a couple of years",
    "start": "15000",
    "end": "21359"
  },
  {
    "text": "first time I'm selected I'm very very happy um I was a consultant for 17 years and who was at",
    "start": "21359",
    "end": "29820"
  },
  {
    "text": "the keynote I guess everybody was at the Keynotes yeah Philip was not at the keynote probably but",
    "start": "29820",
    "end": "35940"
  },
  {
    "text": "um and actually it rang a bell because everything that he explained I felt deep",
    "start": "35940",
    "end": "42300"
  },
  {
    "text": "in my skin and I actually was like I quit the",
    "start": "42300",
    "end": "47760"
  },
  {
    "text": "consulting job though I liked it it's because every time I had organizational",
    "start": "47760",
    "end": "52800"
  },
  {
    "text": "issues so most of the time you had to find like Technical Solutions because that your if",
    "start": "52800",
    "end": "59399"
  },
  {
    "text": "you are a tech person then you are like pushed toward Tech solution but actually it would have been much easier to change",
    "start": "59399",
    "end": "64978"
  },
  {
    "text": "the organization but organization at the hardest to change right so now I work as a developer Advocate",
    "start": "64979",
    "end": "72060"
  },
  {
    "text": "it's much easier if I tell you something well you are free to apply it or not",
    "start": "72060",
    "end": "77159"
  },
  {
    "text": "it's your problem now um so your first API who here has like",
    "start": "77159",
    "end": "85439"
  },
  {
    "text": "created an fgb or a rest or restful API already",
    "start": "85439",
    "end": "90479"
  },
  {
    "text": "yeah okay so probably you are in the good room I hope you will",
    "start": "90479",
    "end": "95820"
  },
  {
    "text": "learn something so the first time you do that actually you",
    "start": "95820",
    "end": "101640"
  },
  {
    "text": "are focused on a lot of different issues that like the correct modeling or you of",
    "start": "101640",
    "end": "107280"
  },
  {
    "text": "your business the name of the entities and then you have not you you need to think about the correct semantics the",
    "start": "107280",
    "end": "114000"
  },
  {
    "text": "verbs is it is it a post is it a put should we Implement patch this is really",
    "start": "114000",
    "end": "120119"
  },
  {
    "text": "involved stuff not because in general you you don't want um to to redo it afterwards so you want",
    "start": "120119",
    "end": "126840"
  },
  {
    "text": "to stick to it for a long time so you're focused on that but then at some point probably your",
    "start": "126840",
    "end": "133980"
  },
  {
    "text": "business or your team leads or somebody will say hey we need to deploy version two",
    "start": "133980",
    "end": "140940"
  },
  {
    "text": "and the fact that your API is easy to migrate or as the capability to like a",
    "start": "140940",
    "end": "149160"
  },
  {
    "text": "law for a very like nice flow to migration is not something",
    "start": "149160",
    "end": "154860"
  },
  {
    "text": "you plan for so the idea of this talk is that you",
    "start": "154860",
    "end": "160620"
  },
  {
    "text": "don't get this kind of like reaction",
    "start": "160620",
    "end": "164659"
  },
  {
    "text": "so this is your initial situation you've got an upstream you've got like some",
    "start": "165840",
    "end": "173220"
  },
  {
    "text": "back-end service and you've got endpoints and people can access the endpoints and everything",
    "start": "173220",
    "end": "179819"
  },
  {
    "text": "works like this right and my solution is hey",
    "start": "179819",
    "end": "185879"
  },
  {
    "text": "please introduce an API getaway that's the end of the talk",
    "start": "185879",
    "end": "193400"
  },
  {
    "text": "now in general when I say that people tell me hey like here you were very polite I see that we",
    "start": "194700",
    "end": "201360"
  },
  {
    "text": "are in Denmark is it the truth yes no in general that's not the truth the truth",
    "start": "201360",
    "end": "207180"
  },
  {
    "text": "is something like this this is the truth and now it's a trap question and you",
    "start": "207180",
    "end": "213420"
  },
  {
    "text": "know yeah no in general you have a reverse proxy and my ID is hey sorry not this one this",
    "start": "213420",
    "end": "220860"
  },
  {
    "text": "one Napier getaway should help who knows about the difference between a reverse",
    "start": "220860",
    "end": "226379"
  },
  {
    "text": "proxy and an API Gateway Victor please don't say anything okay so I will develop a bit",
    "start": "226379",
    "end": "235439"
  },
  {
    "text": "so I'm yeah you have old speakers here so I",
    "start": "235439",
    "end": "240720"
  },
  {
    "text": "also have gray hair I started using the internet more than 20 years ago",
    "start": "240720",
    "end": "245939"
  },
  {
    "text": "some of you I see are not much older than that",
    "start": "245939",
    "end": "250819"
  },
  {
    "text": "um and I used at the time I I created my own web page",
    "start": "251040",
    "end": "257940"
  },
  {
    "text": "can you imagine that so I have no like Computer Science Education I created my",
    "start": "257940",
    "end": "263340"
  },
  {
    "text": "own web page I learned everything on the spots and at the time HTML it was only static files and you you had",
    "start": "263340",
    "end": "270360"
  },
  {
    "text": "like HTML files you had images like crazy you had images imagine that",
    "start": "270360",
    "end": "276919"
  },
  {
    "text": "therefore the people who came before that time it was probably a revolution for me I started with images and we had",
    "start": "276919",
    "end": "284160"
  },
  {
    "text": "audio files so that the good stuff is when you open the page you could put an audio midi file and it would yeah it",
    "start": "284160",
    "end": "290580"
  },
  {
    "text": "sucked right who did it yeah I can understand that and no CSS so",
    "start": "290580",
    "end": "299280"
  },
  {
    "text": "to have like buttons like that to to make the buttons to have a bevel effect",
    "start": "299280",
    "end": "305039"
  },
  {
    "text": "we use table with different colors okay who is laughing",
    "start": "305039",
    "end": "310259"
  },
  {
    "text": "you did it right I did also and and imagine that no JavaScript",
    "start": "310259",
    "end": "317340"
  },
  {
    "text": "yeah that was the life then no JavaScript now we have a lot of JavaScript and um oh since there are",
    "start": "317340",
    "end": "323639"
  },
  {
    "text": "some people who are laughing because they did the same mistake who remembered this stuff like this stuff here",
    "start": "323639",
    "end": "330860"
  },
  {
    "text": "wow amazing hot dog Pro yeah so you you don't see the screenshot but",
    "start": "330979",
    "end": "337440"
  },
  {
    "text": "you remember the name so hot dog Pro was uh it was not with seaweed at all it was",
    "start": "337440",
    "end": "343680"
  },
  {
    "text": "an editor where you could select the tag that you wanted to insert",
    "start": "343680",
    "end": "350039"
  },
  {
    "text": "that was like super super complex software at the time and actually you",
    "start": "350039",
    "end": "355139"
  },
  {
    "text": "also had to remember to close the tag he didn't do it well it was fun so that's",
    "start": "355139",
    "end": "361860"
  },
  {
    "text": "funny because I've done this talk a couple of times and there is always somebody in the room already like who",
    "start": "361860",
    "end": "367860"
  },
  {
    "text": "used oddog for that was fun anyway so the idea at the time is that the web server",
    "start": "367860",
    "end": "374160"
  },
  {
    "text": "was actually designed to serve static content to be honest at the time I",
    "start": "374160",
    "end": "379199"
  },
  {
    "text": "didn't care that much I created my HTML files I use FTP to upload them somewhere",
    "start": "379199",
    "end": "384900"
  },
  {
    "text": "and then I was happy to see the results over the internet and when I say over the internet I mean",
    "start": "384900",
    "end": "392160"
  },
  {
    "text": "I like the modem yeah that was the internet at the time",
    "start": "392160",
    "end": "399539"
  },
  {
    "text": "actually that was not my case because I was using it at my University when people outside wanted to check my",
    "start": "399539",
    "end": "404819"
  },
  {
    "text": "webpage they're there to do this but the ID still stands that was very",
    "start": "404819",
    "end": "410580"
  },
  {
    "text": "simple serve static content and then because well we are Engineers",
    "start": "410580",
    "end": "417360"
  },
  {
    "text": "we are Developers somebody decided it's not enough probably we want to have something more",
    "start": "417360",
    "end": "423960"
  },
  {
    "text": "we want to insert something dynamic we want to have the time completely useless right but we",
    "start": "423960",
    "end": "431099"
  },
  {
    "text": "want to have the time yeah yeah who did it",
    "start": "431099",
    "end": "438020"
  },
  {
    "text": "yeah the I mean the term like user experience didn't appear until much much",
    "start": "438780",
    "end": "444900"
  },
  {
    "text": "later so it was more about hey it's fun let's do it so the idea that at the time you had",
    "start": "444900",
    "end": "450539"
  },
  {
    "text": "like CGI scripts to generate your web page but yeah written in Pearl",
    "start": "450539",
    "end": "456360"
  },
  {
    "text": "the thing is it was not a great idea because you actually had to learn per and you had to learn like",
    "start": "456360",
    "end": "464220"
  },
  {
    "text": "HTML and it was hard to update hard to maintain not super great ID",
    "start": "464220",
    "end": "472259"
  },
  {
    "text": "so somebody came up with a good idea like let's have the same HTML stuff adds",
    "start": "472259",
    "end": "478379"
  },
  {
    "text": "like one tag one opening tag one ending tag and then the porcer will actually read the HTML",
    "start": "478379",
    "end": "485759"
  },
  {
    "text": "and just render like in between tanks and it was the beginning of PHP which",
    "start": "485759",
    "end": "492780"
  },
  {
    "text": "began as an Apache module inside the Apache web server and PHP stands for",
    "start": "492780",
    "end": "501919"
  },
  {
    "text": "um thanks and who said something else yeah so here you see that like the",
    "start": "502919",
    "end": "510060"
  },
  {
    "text": "generation gap the young person here say it's hypertext preprocessor looks very serious the old guy here knows that it",
    "start": "510060",
    "end": "517860"
  },
  {
    "text": "stood as personal home page and they decided to change it because it didn't look that great for like a professional",
    "start": "517860",
    "end": "524399"
  },
  {
    "text": "technology I'm not kidding and you can look",
    "start": "524399",
    "end": "531720"
  },
  {
    "text": "and we started to use this stuff over and over again and it was really really the rise and company started to use it",
    "start": "531720",
    "end": "540180"
  },
  {
    "text": "as their official Communication channel which means that well you had two like",
    "start": "540180",
    "end": "546120"
  },
  {
    "text": "baking some reliability in it because if you have a web server and people want to",
    "start": "546120",
    "end": "551760"
  },
  {
    "text": "access your Communication channel to see your latest promos or your comment whatever",
    "start": "551760",
    "end": "557040"
  },
  {
    "text": "then if it's down it's not a good advertisement so the idea is that",
    "start": "557040",
    "end": "563760"
  },
  {
    "text": "we had the web server layer like to serve the web content and then we we",
    "start": "563760",
    "end": "569700"
  },
  {
    "text": "added another layer on top or on bottom right it depends how you see it to actually like add reliability add",
    "start": "569700",
    "end": "577680"
  },
  {
    "text": "resiliency to do some load balancing and now we see that we added one more",
    "start": "577680",
    "end": "585540"
  },
  {
    "text": "capability to the web server so and afterwards well you're like you",
    "start": "585540",
    "end": "594060"
  },
  {
    "text": "probably were born in that area like the web wolves everywhere um and now we we add even more",
    "start": "594060",
    "end": "601260"
  },
  {
    "text": "capabilities because before all the nodes they were the same they served the",
    "start": "601260",
    "end": "606420"
  },
  {
    "text": "same contents but now we already add One Singular trim point to add the load balancer and the routing and um sorry",
    "start": "606420",
    "end": "612300"
  },
  {
    "text": "towards the load balancer and now we we want to have like",
    "start": "612300",
    "end": "617459"
  },
  {
    "text": "different nodes that serve different contents and then we need to add routing to to the capabilities",
    "start": "617459",
    "end": "623880"
  },
  {
    "text": "and so that's actually the evolution of the web server first we served static",
    "start": "623880",
    "end": "629880"
  },
  {
    "text": "contents then we served Dynamic contents then we added load balancing and now we add",
    "start": "629880",
    "end": "636779"
  },
  {
    "text": "routing and it's easy because we are Engineers we see a single entry point and say all",
    "start": "636779",
    "end": "642060"
  },
  {
    "text": "right this is like a cross-contin concern we can put more stuff here",
    "start": "642060",
    "end": "647279"
  },
  {
    "text": "so we put more stuff every time like authentication why should the",
    "start": "647279",
    "end": "654540"
  },
  {
    "text": "application care about authentication it's a cross-cutting concern or authorization or caching or IP blocking",
    "start": "654540",
    "end": "661200"
  },
  {
    "text": "or whatever so we remove all those like features from our web application",
    "start": "661200",
    "end": "666600"
  },
  {
    "text": "probably they didn't have them well like IP blocking and caching they didn't have them in the first place but we remove as",
    "start": "666600",
    "end": "673680"
  },
  {
    "text": "much as possible and we put everything on the like web server which doesn't",
    "start": "673680",
    "end": "680160"
  },
  {
    "text": "serve anything but it's still a web server anyhow",
    "start": "680160",
    "end": "685399"
  },
  {
    "text": "and now because the web is everywhere it's not only about human to human it's about machine to machine and the first",
    "start": "686160",
    "end": "693600"
  },
  {
    "text": "integration way that we did was hey you create a file you put it in the FTP",
    "start": "693600",
    "end": "702060"
  },
  {
    "text": "folder there is a batch job on the other side that reads the content of the folder",
    "start": "702060",
    "end": "708000"
  },
  {
    "text": "it reads probably the content of the file like gets the data and when the job has finished",
    "start": "708000",
    "end": "713760"
  },
  {
    "text": "it renames the file old people who did that",
    "start": "713760",
    "end": "718980"
  },
  {
    "text": "yeah we're still doing that oh sorry sorry",
    "start": "718980",
    "end": "725120"
  },
  {
    "text": "for that and well it works it's reliable but of course it depends on the job frequency",
    "start": "725120",
    "end": "731760"
  },
  {
    "text": "meaning that if you want to have like real-time data it doesn't work that well",
    "start": "731760",
    "end": "736920"
  },
  {
    "text": "so of course every stack like dotnet Java Ruby python have their own ways of",
    "start": "736920",
    "end": "744240"
  },
  {
    "text": "communicating but you probably want to interact with interior General systems",
    "start": "744240",
    "end": "750000"
  },
  {
    "text": "and like the lowest common denominator in that case is our old friend HTP",
    "start": "750000",
    "end": "757560"
  },
  {
    "text": "and for that you have an API Gateway because when you",
    "start": "757560",
    "end": "762720"
  },
  {
    "text": "start to integrate stuff with http then you have new concerns and those",
    "start": "762720",
    "end": "768060"
  },
  {
    "text": "concerns that could be actually addressed by a reverse proxy for example",
    "start": "768060",
    "end": "774720"
  },
  {
    "text": "you have an API getaway and you decide that well probably you will Bill uh",
    "start": "774720",
    "end": "782100"
  },
  {
    "text": "clients of your API depending on their usage or perhaps they",
    "start": "782100",
    "end": "787139"
  },
  {
    "text": "have like I don't know they subscribe to some like fixed price and then they have a limit all of like 1 000 calls per hour",
    "start": "787139",
    "end": "794639"
  },
  {
    "text": "or per day whatever you can bake that in in a regular reverse proxy you use nginx you write",
    "start": "794639",
    "end": "801480"
  },
  {
    "text": "your C module who is a c developer nobody",
    "start": "801480",
    "end": "808320"
  },
  {
    "text": "oh well I'm relieved but there is always one or two but that's",
    "start": "808320",
    "end": "814019"
  },
  {
    "text": "good who is a Java developer by the way yeah",
    "start": "814019",
    "end": "820220"
  },
  {
    "text": "I know but I I just.net.net C sharp",
    "start": "820339",
    "end": "826920"
  },
  {
    "text": "okay Ruby python",
    "start": "826920",
    "end": "833420"
  },
  {
    "text": "yeah and I see that I can C sharp yes python not that much",
    "start": "834000",
    "end": "839639"
  },
  {
    "text": "yeah yeah yeah it's it's a net conference that's fine my my Gmail will",
    "start": "839639",
    "end": "844860"
  },
  {
    "text": "be will you you won't see much of java code anyway um so the idea is that you can back that in",
    "start": "844860",
    "end": "852420"
  },
  {
    "text": "into your reverse proxy you can write your own nginx module it's an open source project and that means that you",
    "start": "852420",
    "end": "859139"
  },
  {
    "text": "need to compile it and compile it with the server probably which means that if you want to change the business logic",
    "start": "859139",
    "end": "865680"
  },
  {
    "text": "because your business has such an ID that hey let's create another pricing for whatever reason",
    "start": "865680",
    "end": "872579"
  },
  {
    "text": "then you will need to bring your server down and like bring it up again after compiling which is not super great you",
    "start": "872579",
    "end": "878699"
  },
  {
    "text": "want the pricing to be like easily changeable and and you you want to not",
    "start": "878699",
    "end": "884639"
  },
  {
    "text": "to have zero downtime you can also have like complex rate",
    "start": "884639",
    "end": "890760"
  },
  {
    "text": "limiting again what is the same reason you might want that people who are not",
    "start": "890760",
    "end": "895920"
  },
  {
    "text": "registered they get certain number of calls and people register they have another limit or perhaps they have no",
    "start": "895920",
    "end": "902279"
  },
  {
    "text": "limit at all again you can do that just create the code but it's not as",
    "start": "902279",
    "end": "908519"
  },
  {
    "text": "great so the idea of the API Gateway is just like the reverse proxy added",
    "start": "908519",
    "end": "914459"
  },
  {
    "text": "features after features the the API Gateway adds features that are related to apis such as like billing and complex",
    "start": "914459",
    "end": "921420"
  },
  {
    "text": "thread click emitting there are a couple of API getaways on the market Victor it's it's your time to",
    "start": "921420",
    "end": "928019"
  },
  {
    "text": "shine look no it's your time look your friend is here",
    "start": "928019",
    "end": "935600"
  },
  {
    "text": "um so I work on the Apache api6 project Victor works on the con ghetto web",
    "start": "935820",
    "end": "941399"
  },
  {
    "text": "project you've got others they are also like cloud provider based one",
    "start": "941399",
    "end": "947040"
  },
  {
    "text": "I don't cite them because I'm I mean I've known about Windows on the desktop",
    "start": "947040",
    "end": "952980"
  },
  {
    "text": "in the like 2000s and I don't want to use any Cloud profile that locks me in",
    "start": "952980",
    "end": "959100"
  },
  {
    "text": "but of course your mileage may vary apk6 it's an Apache project so top level",
    "start": "959100",
    "end": "967220"
  },
  {
    "text": "who knows about the Apache API 6 by the way one person two person yeah obviously",
    "start": "967220",
    "end": "975000"
  },
  {
    "text": "okay great um I won't talk about it much I would",
    "start": "975000",
    "end": "980100"
  },
  {
    "text": "just use it for the demo but I mean that's not an advertisement though I work for the project",
    "start": "980100",
    "end": "985699"
  },
  {
    "text": "the architecture is actually pretty pretty similar to all others so we have",
    "start": "985699",
    "end": "991500"
  },
  {
    "text": "oh sorry here it's here yes we have nginx at the bottom like open source",
    "start": "991500",
    "end": "997980"
  },
  {
    "text": "version open Rusty which is a lower engine meaning you need to write your for most of the plugins though you can",
    "start": "997980",
    "end": "1004459"
  },
  {
    "text": "we can accept like a couple of other languages then you've got a couple of out of the box plugin",
    "start": "1004459",
    "end": "1012199"
  },
  {
    "text": "and so now that I hope that I explained why an API Gateway is different from a reverse",
    "start": "1012199",
    "end": "1018560"
  },
  {
    "text": "proxy and now that probably you have a reverse proxy in front you will change to an API Gateway the first step is to",
    "start": "1018560",
    "end": "1026058"
  },
  {
    "text": "introduce the API getaway so let's do the demo I will be very happy if you have",
    "start": "1026059",
    "end": "1032839"
  },
  {
    "text": "questions in the meanwhile because well you know lockdown and stuff all remote",
    "start": "1032839",
    "end": "1039020"
  },
  {
    "text": "is not fun whereas here we can have some degree of interaction I understand that in direction are very uh specific to the",
    "start": "1039020",
    "end": "1046400"
  },
  {
    "text": "country I know that countries on the North well interaction probably not that",
    "start": "1046400",
    "end": "1051620"
  },
  {
    "text": "but it's fine I mean everything is fine so",
    "start": "1051620",
    "end": "1057140"
  },
  {
    "text": "here I created my architecture I'm using Docker compose because it's easier of",
    "start": "1057140",
    "end": "1063140"
  },
  {
    "text": "course you probably shouldn't run in production but anyway I have the Apache rpi6 image uh API 6 stores its",
    "start": "1063140",
    "end": "1072200"
  },
  {
    "text": "configuration in etcd who knows about etcd by the way wow a couple of people not not you are",
    "start": "1072200",
    "end": "1079520"
  },
  {
    "text": "expert but you know what it is because I'm not expert but I can tell you etcd is a key value store that is",
    "start": "1079520",
    "end": "1085640"
  },
  {
    "text": "distributed it's the same one that is used by kubernetes inside to store its",
    "start": "1085640",
    "end": "1091220"
  },
  {
    "text": "configuration and more than that I don't know it took me quite a quite some tries to make it work anyway",
    "start": "1091220",
    "end": "1098200"
  },
  {
    "text": "so we have etcd we have the Apache API 6 dashboard that allows well there is a",
    "start": "1098200",
    "end": "1104299"
  },
  {
    "text": "GUI on top of API 6. I want to monitor the stuff so I have added from ethios and grafana and then I I have my two",
    "start": "1104299",
    "end": "1112280"
  },
  {
    "text": "Services the old API and the new API both run on different port probably for",
    "start": "1112280",
    "end": "1117980"
  },
  {
    "text": "production you should prevent a direct Port access but for this demo it will be easier to do it like this so here",
    "start": "1117980",
    "end": "1125660"
  },
  {
    "text": "ah no not yet never update during your demo so here",
    "start": "1125660",
    "end": "1131780"
  },
  {
    "text": "I will Docker compose up the stuff",
    "start": "1131780",
    "end": "1136240"
  },
  {
    "text": "and regarding the code so I know you are not Java developer so I",
    "start": "1137240",
    "end": "1142460"
  },
  {
    "text": "who is interested in the code oh okay good so I have the old API this",
    "start": "1142460",
    "end": "1149120"
  },
  {
    "text": "is if you probably have heard even if you have not used it this is a spring boots application so coding in Java and",
    "start": "1149120",
    "end": "1156500"
  },
  {
    "text": "because it's spring boot there are a lot of annotation and stuff like this so here I can try to curl the stuff",
    "start": "1156500",
    "end": "1163400"
  },
  {
    "text": "kill local hosts 8081 and I say hello",
    "start": "1163400",
    "end": "1169940"
  },
  {
    "text": "wow I'm really a good developer and then I can perhaps pass some like parameter",
    "start": "1169940",
    "end": "1177200"
  },
  {
    "text": "and because I don't know any typical Danish name I will use my own",
    "start": "1177200",
    "end": "1183140"
  },
  {
    "text": "Okay so who hires me right now",
    "start": "1183140",
    "end": "1189160"
  },
  {
    "text": "and people who are in the Java World they say oh spring boot is good but we have so many annotations and myself I'm",
    "start": "1189160",
    "end": "1196520"
  },
  {
    "text": "more of like a cutting guy so I taught myself Kathleen a couple of years ago",
    "start": "1196520",
    "end": "1202760"
  },
  {
    "text": "and I really really love how it looks and so you have this DSL so instead of",
    "start": "1202760",
    "end": "1208280"
  },
  {
    "text": "having annotations you have like code and so you can check add compile time whether it works or not and here it",
    "start": "1208280",
    "end": "1215299"
  },
  {
    "text": "looks super nice and of course we have the same stuff on a different port",
    "start": "1215299",
    "end": "1222020"
  },
  {
    "text": "yeah yeah obviously better right",
    "start": "1222020",
    "end": "1227799"
  },
  {
    "text": "okay so the idea is that now we are in this situation and we want to use the",
    "start": "1228020",
    "end": "1233780"
  },
  {
    "text": "API Gateway to help us so we can like curl again localhost so",
    "start": "1233780",
    "end": "1240679"
  },
  {
    "text": "the port number is 9080 and we can say hello and now it tells us hey",
    "start": "1240679",
    "end": "1247700"
  },
  {
    "text": "what happens I don't know you because we just installed the API",
    "start": "1247700",
    "end": "1253039"
  },
  {
    "text": "Gateway and so we must configure it to say hey this route should be forwarded",
    "start": "1253039",
    "end": "1258980"
  },
  {
    "text": "to this Upstream so let's do it and the good thing with Apache API 6 is",
    "start": "1258980",
    "end": "1265460"
  },
  {
    "text": "that everything is actually a rest call away",
    "start": "1265460",
    "end": "1272679"
  },
  {
    "text": "everything is on GitHub so I don't want you to install anything so here I'm using Docker for everything",
    "start": "1273860",
    "end": "1279799"
  },
  {
    "text": "so that's why the reason why I have like this like Network evolved API default",
    "start": "1279799",
    "end": "1285559"
  },
  {
    "text": "because I like composed up one net one one architecture if I want to use Docker",
    "start": "1285559",
    "end": "1291620"
  },
  {
    "text": "using the same architecture I need to use the same network so I need to pass the Network's name here curl image if",
    "start": "1291620",
    "end": "1298400"
  },
  {
    "text": "you already have curl you don't need to do anything of this then I have these route endpoints",
    "start": "1298400",
    "end": "1306140"
  },
  {
    "text": "I will be putting a new route so here I can set the ID directly and here because",
    "start": "1306140",
    "end": "1313760"
  },
  {
    "text": "it's a like it's a sensitive operation you can break stuff you can really do bad stuff you need to be authenticated",
    "start": "1313760",
    "end": "1320179"
  },
  {
    "text": "here I'm using the API Key by the way I'm using the default API key don't do",
    "start": "1320179",
    "end": "1325640"
  },
  {
    "text": "that in production um and now you define your routes so you",
    "start": "1325640",
    "end": "1330679"
  },
  {
    "text": "can tell its name you can tell a methods you can tell the uri's here I Define the",
    "start": "1330679",
    "end": "1337100"
  },
  {
    "text": "Upstream that's why I use the name Upstream basically it's just a cluster of nodes in this case I have one single",
    "start": "1337100",
    "end": "1343940"
  },
  {
    "text": "node because again it's a hello world demo but you can define a cluster of different nodes you can like set which",
    "start": "1343940",
    "end": "1351280"
  },
  {
    "text": "algorithm algorithm you want so here run Robin but again completely useless with",
    "start": "1351280",
    "end": "1356600"
  },
  {
    "text": "a weight of one but we have multiple like algorithm to balance between the different nodes and here you I'm using",
    "start": "1356600",
    "end": "1363860"
  },
  {
    "text": "the Prometheus plugin so I can get like some metrics out of it so now it has",
    "start": "1363860",
    "end": "1369320"
  },
  {
    "text": "like pests and if I kill again",
    "start": "1369320",
    "end": "1374440"
  },
  {
    "text": "amazing that's really high engineering what's a",
    "start": "1374900",
    "end": "1380360"
  },
  {
    "text": "typical Danish name could you repeat but slowly or and",
    "start": "1380360",
    "end": "1386720"
  },
  {
    "text": "without the accents like this",
    "start": "1386720",
    "end": "1393520"
  },
  {
    "text": "not like this probably Weaver",
    "start": "1395780",
    "end": "1401559"
  },
  {
    "text": "ah better like this",
    "start": "1403659",
    "end": "1408039"
  },
  {
    "text": "that's the only Erasmus that I know so it will be like this works for you",
    "start": "1410299",
    "end": "1417820"
  },
  {
    "text": "I'm sorry at my age you are too far away I cannot cannot hear you correctly and it's guessing because I have no",
    "start": "1418220",
    "end": "1423860"
  },
  {
    "text": "reference okay let's let's let's use Erasmus for the rest of the talk so",
    "start": "1423860",
    "end": "1430580"
  },
  {
    "text": "this was my first step and basically I did do nothing I mean I didn't improve",
    "start": "1430580",
    "end": "1435980"
  },
  {
    "text": "the situation I didn't make it first I just enabled the rest so so the first real step is actually",
    "start": "1435980",
    "end": "1442940"
  },
  {
    "text": "we want people to use a version a real version because right now there",
    "start": "1442940",
    "end": "1450740"
  },
  {
    "text": "we have a single one we didn't think about versioning and now we know that we will be migrating to a new version and",
    "start": "1450740",
    "end": "1457340"
  },
  {
    "text": "at some point probably people will use the V1 and our new clients will use the V2 so we must introduce this version",
    "start": "1457340",
    "end": "1465799"
  },
  {
    "text": "there are multiple ways to version an HTTP API here I will be using the pause because I",
    "start": "1465799",
    "end": "1472220"
  },
  {
    "text": "mean it's the easiest one but you can also use Query parameters you can use",
    "start": "1472220",
    "end": "1477740"
  },
  {
    "text": "header you can use well those are the three main options so the idea let's introduce some version",
    "start": "1477740",
    "end": "1484640"
  },
  {
    "text": "link",
    "start": "1484640",
    "end": "1487059"
  },
  {
    "text": "what I did previously is I created the routes and the upstream and everything in one go but probably we don't want to",
    "start": "1490400",
    "end": "1497419"
  },
  {
    "text": "do that we can create some abstractions to be reused so I will create",
    "start": "1497419",
    "end": "1503419"
  },
  {
    "text": "here the Upstream first and for that we have another route",
    "start": "1503419",
    "end": "1509659"
  },
  {
    "text": "called upstreams what a surprise we will still be putting it so we set the ID",
    "start": "1509659",
    "end": "1516260"
  },
  {
    "text": "here and it does the exact same stuff but now you've got a new abstraction and by the",
    "start": "1516260",
    "end": "1522140"
  },
  {
    "text": "way this might be a good time to show you about the the dashboard so if I",
    "start": "1522140",
    "end": "1528260"
  },
  {
    "text": "remember well yes and now you can guess that the default",
    "start": "1528260",
    "end": "1534559"
  },
  {
    "text": "login and password is admin admin again not in production",
    "start": "1534559",
    "end": "1541159"
  },
  {
    "text": "and here we can see that the the first route that I created you can configure",
    "start": "1541159",
    "end": "1547039"
  },
  {
    "text": "it here or you can view the Json that is stored and well you can see everything",
    "start": "1547039",
    "end": "1553100"
  },
  {
    "text": "here you can directly change the stuff the direct uh road yeah why not",
    "start": "1553100",
    "end": "1559580"
  },
  {
    "text": "so it updates directly and we can see the Upstream that I created just before",
    "start": "1559580",
    "end": "1566360"
  },
  {
    "text": "okay so the next step is we create the plugin configuration again new route put",
    "start": "1566360",
    "end": "1573740"
  },
  {
    "text": "with id1 and the only thing that we add so far is the plugin is Prometheus",
    "start": "1573740",
    "end": "1582100"
  },
  {
    "text": "and now finally what we can do is we can create the version route and now we can",
    "start": "1583240",
    "end": "1589700"
  },
  {
    "text": "reference the upstream and the plugin config that we did before",
    "start": "1589700",
    "end": "1594799"
  },
  {
    "text": "so this is very similar but instead of creating One Big Blob of configuration I create like abstractions that I can",
    "start": "1594799",
    "end": "1601580"
  },
  {
    "text": "reuse across my rods or whatever what I will be doing too is on the",
    "start": "1601580",
    "end": "1608120"
  },
  {
    "text": "plugin config that I create previously I will add this proxy rewrite the reason",
    "start": "1608120",
    "end": "1613760"
  },
  {
    "text": "for this is now my call will start with V1 so it will be V1 hello",
    "start": "1613760",
    "end": "1621500"
  },
  {
    "text": "the apai getaway will like forward V1 hello to the Upstream the Upstream",
    "start": "1621500",
    "end": "1627740"
  },
  {
    "text": "doesn't know about V1 hello it does it knows only about hello so I need to somehow like remove the",
    "start": "1627740",
    "end": "1634460"
  },
  {
    "text": "prefix which is the case here so I will I will say hey if it starts with V1 something just like forward to something",
    "start": "1634460",
    "end": "1644620"
  },
  {
    "text": "let's do that so normally on my Gateway now I should",
    "start": "1644620",
    "end": "1650659"
  },
  {
    "text": "have two rounds one that is do you see well in the back or because",
    "start": "1650659",
    "end": "1655760"
  },
  {
    "text": "I'm afraid that if I make it a bit bigger that it breaks the UI yeah it breaks the UI I'm sorry",
    "start": "1655760",
    "end": "1663080"
  },
  {
    "text": "um so here you have the the first one that I already created this is the one that I just created V1 something",
    "start": "1663080",
    "end": "1669919"
  },
  {
    "text": "and still the Upstream is here ah sorry for that",
    "start": "1669919",
    "end": "1675759"
  },
  {
    "text": "um now I can curl it again",
    "start": "1676820",
    "end": "1683620"
  },
  {
    "text": "and it still works so now I have two routes that point to the same Upstream",
    "start": "1685299",
    "end": "1691279"
  },
  {
    "text": "the thing is if I have two routes that point to the same upstream and developers being naturally lazy they",
    "start": "1691279",
    "end": "1697820"
  },
  {
    "text": "will probably use the one that has the less characters makes sense right yeah I do the same so",
    "start": "1697820",
    "end": "1705559"
  },
  {
    "text": "we don't want to uh let the laziness of developers impair our migration so what",
    "start": "1705559",
    "end": "1711440"
  },
  {
    "text": "I want to do now is to tell people dear folks you should stop using the inversion",
    "start": "1711440",
    "end": "1718039"
  },
  {
    "text": "routes and in order to do that we fall back on HTTP which has a nice status quo for",
    "start": "1718039",
    "end": "1724820"
  },
  {
    "text": "that 301 so now the inversion routes we will",
    "start": "1724820",
    "end": "1730159"
  },
  {
    "text": "update it so that so the Reds here is the first one",
    "start": "1730159",
    "end": "1738200"
  },
  {
    "text": "and we patch it and we patch it with the redirect plugin",
    "start": "1738200",
    "end": "1743480"
  },
  {
    "text": "so if we use these routes it will tell us three one and in the location header",
    "start": "1743480",
    "end": "1750440"
  },
  {
    "text": "we will have V1 the URI okay",
    "start": "1750440",
    "end": "1756880"
  },
  {
    "text": "so now I go here and",
    "start": "1758480",
    "end": "1764240"
  },
  {
    "text": "nope doesn't work now you've got two kind of clients",
    "start": "1764240",
    "end": "1769760"
  },
  {
    "text": "the first one of clients are very smart and",
    "start": "1769760",
    "end": "1774980"
  },
  {
    "text": "they will actually follow the redirection and it will work but they won't know about it so they",
    "start": "1774980",
    "end": "1782360"
  },
  {
    "text": "will keep using the old Route and we automatically redirect it",
    "start": "1782360",
    "end": "1787640"
  },
  {
    "text": "the other kind of clients are also very smart they are monitoring",
    "start": "1787640",
    "end": "1794360"
  },
  {
    "text": "notice that there are two only two kind of clients and the one that are very smart and the one that are very smart",
    "start": "1794360",
    "end": "1800419"
  },
  {
    "text": "so there is no other categories and basically in the header they will notice",
    "start": "1800419",
    "end": "1805580"
  },
  {
    "text": "that a something is wrong I have a 301 in the stages I have the new location so they will probably need to update their",
    "start": "1805580",
    "end": "1812240"
  },
  {
    "text": "client code so call the right one the problem is we cannot communicate to",
    "start": "1812240",
    "end": "1818539"
  },
  {
    "text": "the clients directly because we don't know them because we were so happy creating our API we just left it to the",
    "start": "1818539",
    "end": "1826340"
  },
  {
    "text": "world to use and we were super happy when we saw our first request that were not not the test",
    "start": "1826340",
    "end": "1831860"
  },
  {
    "text": "one hey we have a like a normal customer but unfortunately after we got some",
    "start": "1831860",
    "end": "1837679"
  },
  {
    "text": "traction then it became a hindrance we want to know who the people are and at the moment we don't know them so the",
    "start": "1837679",
    "end": "1844399"
  },
  {
    "text": "next step is actually to make people register",
    "start": "1844399",
    "end": "1850640"
  },
  {
    "text": "who likes to register nobody wants to register I don't want to",
    "start": "1850640",
    "end": "1856520"
  },
  {
    "text": "give my email so you can pester me with your irrelevant marketing campaigns",
    "start": "1856520",
    "end": "1861559"
  },
  {
    "text": "about some hot stuff and whatever no no I don't want to spend 10 minutes with you to that you tell me about your",
    "start": "1861559",
    "end": "1869059"
  },
  {
    "text": "super nice product I don't care I have a job to do nobody wants to register but who wants free stuff",
    "start": "1869059",
    "end": "1877840"
  },
  {
    "text": "of course so we need to find these like past the human brain that say hey",
    "start": "1879679",
    "end": "1887120"
  },
  {
    "text": "we give you free stuff but if you register you have like more free stuff so this is you can use our API but it's",
    "start": "1887120",
    "end": "1894860"
  },
  {
    "text": "severally limited if you want to use it like above a certain threshold then you",
    "start": "1894860",
    "end": "1900440"
  },
  {
    "text": "need to register for that",
    "start": "1900440",
    "end": "1905779"
  },
  {
    "text": "so so far we had we had like plugins for everything for that one for this exact",
    "start": "1905779",
    "end": "1911360"
  },
  {
    "text": "use case we don't have an out of a box plugin I created my own plugin in Lua who here",
    "start": "1911360",
    "end": "1918980"
  },
  {
    "text": "is a Lua developer good so please don't be too harsh",
    "start": "1918980",
    "end": "1924559"
  },
  {
    "text": "because that's the first time I read your stuff what I did however",
    "start": "1924559",
    "end": "1930500"
  },
  {
    "text": "I did like typical like developer stuff I copy paste it from something that",
    "start": "1930500",
    "end": "1936919"
  },
  {
    "text": "worked and I try to have my logic in it so basically there is like one plugin that",
    "start": "1936919",
    "end": "1945080"
  },
  {
    "text": "does like limitation of course per period of time and I added everything I",
    "start": "1945080",
    "end": "1950600"
  },
  {
    "text": "I wanted so for the records here you can Define your schema so what is like what",
    "start": "1950600",
    "end": "1956779"
  },
  {
    "text": "properties are available for your plugin whether they are required or optional",
    "start": "1956779",
    "end": "1961940"
  },
  {
    "text": "then here we have this like uh metadata about your",
    "start": "1961940",
    "end": "1968120"
  },
  {
    "text": "plugin the version priority whatever oh thanks a lot",
    "start": "1968120",
    "end": "1973580"
  },
  {
    "text": "thanks for your feedback I always forget that PowerPoint doesn't allow me so here",
    "start": "1973580",
    "end": "1980899"
  },
  {
    "text": "so you have the schema again the the parameters that you plug in will accept when people configure it",
    "start": "1980899",
    "end": "1987500"
  },
  {
    "text": "some required ones then you've got the metadata version priority the name of",
    "start": "1987500",
    "end": "1993679"
  },
  {
    "text": "the plugin the schema itself and then the rest is like copy pasted from the",
    "start": "1993679",
    "end": "1999799"
  },
  {
    "text": "like the plugin this is the main like this is the main function or method I don't know how it's called ninoa",
    "start": "1999799",
    "end": "2005919"
  },
  {
    "text": "functional method I'm talking to the Lua developer",
    "start": "2005919",
    "end": "2011019"
  },
  {
    "text": "okay that's fine so let's let's accept that it's function for the sake of this",
    "start": "2011019",
    "end": "2016600"
  },
  {
    "text": "talk I promise I will get better next year in Lua at least",
    "start": "2016600",
    "end": "2022899"
  },
  {
    "text": "um and then I've I've added these like block of code what this block of code",
    "start": "2022899",
    "end": "2028659"
  },
  {
    "text": "does is actually I will be getting the configuration for another plugin so here",
    "start": "2028659",
    "end": "2034179"
  },
  {
    "text": "I will be very simple I will be using the key auth plugin and I will check if",
    "start": "2034179",
    "end": "2039340"
  },
  {
    "text": "inside this key of plugin I find a consumer with this key if I find the consumer",
    "start": "2039340",
    "end": "2045640"
  },
  {
    "text": "with this key I live immediately otherwise I apply the normal oauth plugin the normal limit plugin which",
    "start": "2045640",
    "end": "2052000"
  },
  {
    "text": "means that I will be limited to use it",
    "start": "2052000",
    "end": "2057099"
  },
  {
    "text": "I have this additional stuff so here again I kept the initial plugin so I",
    "start": "2057099",
    "end": "2062560"
  },
  {
    "text": "have a lot of parameters it tells me that if I call for more than twice in a",
    "start": "2062560",
    "end": "2068020"
  },
  {
    "text": "like 60 second time window I will be limited and I will give the 429 HTTP",
    "start": "2068020",
    "end": "2075638"
  },
  {
    "text": "status and the most important one is the message saying hey please register at this dummy address",
    "start": "2075639",
    "end": "2082720"
  },
  {
    "text": "so let's run it and this is the route",
    "start": "2082720",
    "end": "2089500"
  },
  {
    "text": "this is a plugin config number one so here if we get back to now",
    "start": "2089500",
    "end": "2096099"
  },
  {
    "text": "I can go to V1 I will remove the V",
    "start": "2096099",
    "end": "2101980"
  },
  {
    "text": "AP so now I'm limited",
    "start": "2101980",
    "end": "2107500"
  },
  {
    "text": "I need to register somehow so let's register",
    "start": "2107500",
    "end": "2113380"
  },
  {
    "text": "and this is outside the scuff of this talk so I will be using as I mentioned the",
    "start": "2113380",
    "end": "2118720"
  },
  {
    "text": "the easiest like uh authentication like possible which is actually what we call",
    "start": "2118720",
    "end": "2125740"
  },
  {
    "text": "a consumers we have a consumer's route I will put it so I don't care about its ID",
    "start": "2125740",
    "end": "2131260"
  },
  {
    "text": "the username will be John do but again we don't care that is the most important we will be using the key oauth plugin",
    "start": "2131260",
    "end": "2137440"
  },
  {
    "text": "and the key will be named my key so if at any point I pass an HTTP header",
    "start": "2137440",
    "end": "2144700"
  },
  {
    "text": "with name API key and value my key I will be authenticated as John do",
    "start": "2144700",
    "end": "2152619"
  },
  {
    "text": "let's run it",
    "start": "2152619",
    "end": "2155640"
  },
  {
    "text": "the key the key's name can be overridden but",
    "start": "2161560",
    "end": "2167800"
  },
  {
    "text": "because I'm lazy I kept the same and now I'm authenticated as John do and then I",
    "start": "2167800",
    "end": "2173800"
  },
  {
    "text": "kill can call it like to my heart's content unlimited that's",
    "start": "2173800",
    "end": "2181180"
  },
  {
    "text": "fine that's pretty good so now we probably should know a lot of our users",
    "start": "2181180",
    "end": "2188619"
  },
  {
    "text": "it's time to think about deploying the V2 um",
    "start": "2188619",
    "end": "2194220"
  },
  {
    "text": "if I tell you deploy the V2 and I'll give you this step probably you think about Canary release",
    "start": "2195460",
    "end": "2201520"
  },
  {
    "text": "that's a good idea but actually we can do better before doing kind of release",
    "start": "2201520",
    "end": "2206680"
  },
  {
    "text": "what you probably should do is to get like the same um production workloads directed to our V2",
    "start": "2206680",
    "end": "2215619"
  },
  {
    "text": "and disregard the results but we can monitor the HTTP status and I don't know",
    "start": "2215619",
    "end": "2220720"
  },
  {
    "text": "the depending on your stack the needle pointer in Java or whatever the same stuff is in c-sharp",
    "start": "2220720",
    "end": "2227619"
  },
  {
    "text": "and then we can compare them so basically you will receive the same workload you will send it to like the V1",
    "start": "2227619",
    "end": "2233740"
  },
  {
    "text": "and the V2 and you will monitor if you have the same curves that's a good thing if you have like stuff that is",
    "start": "2233740",
    "end": "2240040"
  },
  {
    "text": "completely uncorrelated that's a bad thing the reason for that is that who here",
    "start": "2240040",
    "end": "2246339"
  },
  {
    "text": "does unit testing okay who here does integration testing",
    "start": "2246339",
    "end": "2253180"
  },
  {
    "text": "oh good who here testing production yeah I mean everybody does testing in",
    "start": "2253180",
    "end": "2260260"
  },
  {
    "text": "production at L1 points so you need to be smart about it so to decrease the risk you send the workloads to like the",
    "start": "2260260",
    "end": "2268359"
  },
  {
    "text": "two versions and you check the differences in the response code and whatever",
    "start": "2268359",
    "end": "2274180"
  },
  {
    "text": "so here I will be doing the same and oops",
    "start": "2274180",
    "end": "2279220"
  },
  {
    "text": "mirror traffic",
    "start": "2279220",
    "end": "2282359"
  },
  {
    "text": "and now I can show you the dashboards the Prometheus dashboard",
    "start": "2284380",
    "end": "2290800"
  },
  {
    "text": "so it's 3000 if I remember well MP6",
    "start": "2290800",
    "end": "2296800"
  },
  {
    "text": "so this is the default API 6 dashboard that I copy pasted because again I'm super lazy and here I added two widgets",
    "start": "2296800",
    "end": "2303640"
  },
  {
    "text": "again big enough I hope so can make perhaps a bit bigger but not by much",
    "start": "2303640",
    "end": "2311020"
  },
  {
    "text": "um so all the API that we've tested so far so here we have all our codes and",
    "start": "2311020",
    "end": "2316540"
  },
  {
    "text": "here the V2 and we can rewrite it",
    "start": "2316540",
    "end": "2322720"
  },
  {
    "text": "so I can send it to I will just do that because it will be easier attack",
    "start": "2322720",
    "end": "2329260"
  },
  {
    "text": "I send a couple of requests and I hope that my curves would be the same and I I'm",
    "start": "2329260",
    "end": "2335740"
  },
  {
    "text": "telling you there is uh it won't work we have a bug at the moment",
    "start": "2335740",
    "end": "2341140"
  },
  {
    "text": "and so this is being handled this is being fixed but let's pretend that we",
    "start": "2341140",
    "end": "2346960"
  },
  {
    "text": "have everything so you should see your like the new calls that I've just made here and calls that I've made here",
    "start": "2346960",
    "end": "2353920"
  },
  {
    "text": "the reason for that is that API 6 handles the plugin in priority order and",
    "start": "2353920",
    "end": "2359619"
  },
  {
    "text": "as I've shown you the priority is backed in the plugin so basically what happens is that first",
    "start": "2359619",
    "end": "2366060"
  },
  {
    "text": "it's like duplicates the loads and then it applies the plugins that",
    "start": "2366060",
    "end": "2373060"
  },
  {
    "text": "does like the removal of the V1 so the new API the old API received the stuff",
    "start": "2373060",
    "end": "2380440"
  },
  {
    "text": "without the V1 but the all the new API received the stiff the stuff the path",
    "start": "2380440",
    "end": "2385900"
  },
  {
    "text": "with the V1 and ends it's a 404. it's being addressed but you I mean",
    "start": "2385900",
    "end": "2393339"
  },
  {
    "text": "again this is not to talk about a Bashi API six so this is the kind of stuff you should do like you should my road the",
    "start": "2393339",
    "end": "2399460"
  },
  {
    "text": "traffic first because there is no other test than production but you don't want",
    "start": "2399460",
    "end": "2404800"
  },
  {
    "text": "to uh like take much of a risk once you have made sure that everything",
    "start": "2404800",
    "end": "2410920"
  },
  {
    "text": "works as expected and you're still a bit risk adverse I am then it's time for",
    "start": "2410920",
    "end": "2416260"
  },
  {
    "text": "real current release so there are several strategies for that you can say hey I will geolocate my users so only",
    "start": "2416260",
    "end": "2423160"
  },
  {
    "text": "people in Denmark will receive the new low the new version I will do that if I",
    "start": "2423160",
    "end": "2428500"
  },
  {
    "text": "have a header so that only people who know about it can test the new version or you can do like run Robin whatever or",
    "start": "2428500",
    "end": "2435579"
  },
  {
    "text": "whatever everything is possible we support a lot of them but for the",
    "start": "2435579",
    "end": "2441520"
  },
  {
    "text": "purpose of this demo I've just added the defaults",
    "start": "2441520",
    "end": "2447460"
  },
  {
    "text": "like round robin so basically I have two upstreams I've created a new Upstream",
    "start": "2447460",
    "end": "2453579"
  },
  {
    "text": "here Upstream number two and what I'm doing is I will have give",
    "start": "2453579",
    "end": "2459579"
  },
  {
    "text": "50 of weight to my old upstring 50 way to my new Upstream so basically I have a",
    "start": "2459579",
    "end": "2466420"
  },
  {
    "text": "chance over to to get to the new um to the new node of course in real life",
    "start": "2466420",
    "end": "2471640"
  },
  {
    "text": "you should probably start with five percent or like very low number but it's a demo if I give you five percent I have",
    "start": "2471640",
    "end": "2477280"
  },
  {
    "text": "to press 20 times you won't be super happy so I don't know if I run it already so",
    "start": "2477280",
    "end": "2482980"
  },
  {
    "text": "let's run it again and here oh",
    "start": "2482980",
    "end": "2490260"
  },
  {
    "text": "so yeah about 50 of the time I've got the old Upstream fifty percent of the",
    "start": "2490900",
    "end": "2496300"
  },
  {
    "text": "time I got the new Upstream at that point you should increase the weight of the new Upstream so that everything",
    "start": "2496300",
    "end": "2502599"
  },
  {
    "text": "works as expected now I can finally create the V2 route",
    "start": "2502599",
    "end": "2508920"
  },
  {
    "text": "so I copy paste everything that I created for the V1 and I duplicate",
    "start": "2511240",
    "end": "2517000"
  },
  {
    "text": "everything so I have like V2 and I can do the same",
    "start": "2517000",
    "end": "2523480"
  },
  {
    "text": "and now finally",
    "start": "2523480",
    "end": "2526560"
  },
  {
    "text": "so now I'm always on the V2 so I have a V1 that use Canary release",
    "start": "2528940",
    "end": "2536920"
  },
  {
    "text": "at this point I should probably remove the um like the the split the the split",
    "start": "2536920",
    "end": "2543099"
  },
  {
    "text": "traffic and now I have the V2 now comes the real problem now I have two versions in parallel",
    "start": "2543099",
    "end": "2549940"
  },
  {
    "text": "and probably over time I will have three I will have four and but nobody likes to have all this stuff so first nobody",
    "start": "2549940",
    "end": "2556720"
  },
  {
    "text": "wants to work on the V1 probably as Engineers we want to work on the latest and for an engineering manager it's just",
    "start": "2556720",
    "end": "2562780"
  },
  {
    "text": "like additional costs so there is nothing in HTTP that allows",
    "start": "2562780",
    "end": "2568900"
  },
  {
    "text": "you to duplicate endpoints but there is an ietf draft that's called Hey duplicate deprecation header it allows",
    "start": "2568900",
    "end": "2576579"
  },
  {
    "text": "you to set a date or a Boolean here for the demo I use the Boolean but probably you should set a date meaning hey you",
    "start": "2576579",
    "end": "2584020"
  },
  {
    "text": "will warn your user in advance when the endpoint will be deprecated and then you",
    "start": "2584020",
    "end": "2589900"
  },
  {
    "text": "have a link that points to the resource that people should use something that you can additionally add",
    "start": "2589900",
    "end": "2596980"
  },
  {
    "text": "also is a sunset header like deprecation is hey folks you shouldn't use it really",
    "start": "2596980",
    "end": "2602140"
  },
  {
    "text": "and sunset is uh it's gone again it's a good idea to forewarn your",
    "start": "2602140",
    "end": "2608920"
  },
  {
    "text": "of your clients that you will be removing it so here what I did is I only did the",
    "start": "2608920",
    "end": "2615160"
  },
  {
    "text": "deprecation because I'm super lazy but you can do the same we can create like change our header so",
    "start": "2615160",
    "end": "2622480"
  },
  {
    "text": "here you have one that is like static static but here you can reused some of",
    "start": "2622480",
    "end": "2628300"
  },
  {
    "text": "the variables from like nginx so you don't need to write every endpoint by",
    "start": "2628300",
    "end": "2634180"
  },
  {
    "text": "hand so if we run it foreign and we can try so this is V1",
    "start": "2634180",
    "end": "2643740"
  },
  {
    "text": "and I need to set Dash V to have verbose and here you can see here I have the",
    "start": "2644500",
    "end": "2651700"
  },
  {
    "text": "link to the new version of the application and this one is deprecated",
    "start": "2651700",
    "end": "2657540"
  },
  {
    "text": "last step enjoy I hope that at this point if you have",
    "start": "2663160",
    "end": "2668920"
  },
  {
    "text": "handled all the steps that I have shown you and business comes for V3 well",
    "start": "2668920",
    "end": "2675880"
  },
  {
    "text": "you will know everything it will make your life much easier like people would",
    "start": "2675880",
    "end": "2680980"
  },
  {
    "text": "probably have registered by then or like the bulk of your user will have a register meaning that if you need to",
    "start": "2680980",
    "end": "2686200"
  },
  {
    "text": "change something that might be a breaking change you might send them an email because not knowing your clients is a",
    "start": "2686200",
    "end": "2692800"
  },
  {
    "text": "real problem thanks for your attention you can read my blog you can follow me on Twitter if",
    "start": "2692800",
    "end": "2698680"
  },
  {
    "text": "you're interested about the codes well I really encourage you to use it um it's on GitHub so please open it run",
    "start": "2698680",
    "end": "2706180"
  },
  {
    "text": "it play with it brackets and if I got you interested in Apache API 6 well you",
    "start": "2706180",
    "end": "2711819"
  },
  {
    "text": "are happy to have a look Apache projects everything is free everything is open source and forever",
    "start": "2711819",
    "end": "2718599"
  },
  {
    "text": "and now I think that we have some time for question",
    "start": "2718599",
    "end": "2724480"
  },
  {
    "text": "and again it's like Denmark so yes thank you very much",
    "start": "2724480",
    "end": "2731880"
  },
  {
    "text": "so sorry I will come closer to you because as I mentioned my earring is not what this used to be",
    "start": "2733000",
    "end": "2739240"
  },
  {
    "text": "a lot and contact them and say hey so the",
    "start": "2739240",
    "end": "2745420"
  },
  {
    "text": "question is whether I thought about which user are using which version of",
    "start": "2745420",
    "end": "2750819"
  },
  {
    "text": "the endpoint and yeah you you can actually do that when Once people are authenticated it's a no-brainer to just",
    "start": "2750819",
    "end": "2757060"
  },
  {
    "text": "dump it into some logs or then Prometheus or whatever and then you can like have like profiling yes it's",
    "start": "2757060",
    "end": "2764099"
  },
  {
    "text": "possible I didn't do it but it's possible however I assume that most people will",
    "start": "2764099",
    "end": "2770859"
  },
  {
    "text": "do a one-time migration and this is something you really really want they will use V1 and then V2 and probably",
    "start": "2770859",
    "end": "2778060"
  },
  {
    "text": "never come back again so people that are part of organization will probably like only upgrade and not downgrades if they",
    "start": "2778060",
    "end": "2786099"
  },
  {
    "text": "don't grade yeah there is something wrong but probably you are aware of it already yes how would you keep track of",
    "start": "2786099",
    "end": "2792760"
  },
  {
    "text": "documentation per API if you're using several versions of an API and you're maintaining maybe different endpoints",
    "start": "2792760",
    "end": "2799900"
  },
  {
    "text": "you could have an endpoint that's B6 and an endpoint that's still G1 would you if you're using something like open API",
    "start": "2799900",
    "end": "2805780"
  },
  {
    "text": "yeah yeah I would I mean depending on your stack you probably should start with your open API definition file then",
    "start": "2805780",
    "end": "2811900"
  },
  {
    "text": "write your code but here again Demo World hello world Gmail not necessary",
    "start": "2811900",
    "end": "2817240"
  },
  {
    "text": "but yeah yeah I mean you should have like real live documentation so it",
    "start": "2817240",
    "end": "2823000"
  },
  {
    "text": "always starts from the documentation and then generates the code and not the other way around",
    "start": "2823000",
    "end": "2829180"
  },
  {
    "text": "yes okay I won't no it seems to be a tricky question I I",
    "start": "2829180",
    "end": "2835960"
  },
  {
    "text": "know it already",
    "start": "2835960",
    "end": "2838440"
  },
  {
    "text": "so the question is whether to use dotnet or Docker I think it's irrelevant to the",
    "start": "2850059",
    "end": "2855880"
  },
  {
    "text": "concept of API it's relevant to how you want to apply your Tech stack to be do",
    "start": "2855880",
    "end": "2861280"
  },
  {
    "text": "you want to stay on like bare metal with net do you want to allow yourself more flexibility at the cost of additional",
    "start": "2861280",
    "end": "2868119"
  },
  {
    "text": "complexity and that's a problem that only your organization can answer I",
    "start": "2868119",
    "end": "2873220"
  },
  {
    "text": "cannot answer it for you like uh you need to have more inputs to say I think it's better to do this this way or this",
    "start": "2873220",
    "end": "2879700"
  },
  {
    "text": "way but like in general I cannot answer your question I mean do you have any pain points right",
    "start": "2879700",
    "end": "2886240"
  },
  {
    "text": "now that could be solved with Docker or not",
    "start": "2886240",
    "end": "2890700"
  },
  {
    "text": "I understand your point and my answer is I I hate when people say this is good this",
    "start": "2897099",
    "end": "2904000"
  },
  {
    "text": "is bad my experience as a consultant is in this context the same solution can be",
    "start": "2904000",
    "end": "2909280"
  },
  {
    "text": "good in another context can be the worst ever yeah it looks a bit like it depends",
    "start": "2909280",
    "end": "2915940"
  },
  {
    "text": "but actually it is um so answering it depends",
    "start": "2915940",
    "end": "2921280"
  },
  {
    "text": "is just a stupid answer but it's only normally it's the beginning of the conversation",
    "start": "2921280",
    "end": "2926980"
  },
  {
    "text": "so you can actually hire or perhaps you already have somebody who can like take",
    "start": "2926980",
    "end": "2932740"
  },
  {
    "text": "a step back in general to be honest consultant are better because they are they come with a fresh eye and then you",
    "start": "2932740",
    "end": "2938980"
  },
  {
    "text": "can ask them this question give them I don't know two weeks and then then they can answer the question but I cannot",
    "start": "2938980",
    "end": "2945160"
  },
  {
    "text": "without knowing any of the context especially since.net is not my like Tech stack by default",
    "start": "2945160",
    "end": "2951579"
  },
  {
    "text": "but even in Java I cannot I can't understand I mean I can't answer that question in general",
    "start": "2951579",
    "end": "2957640"
  },
  {
    "text": "sorry it's it's based on your pain points and",
    "start": "2957640",
    "end": "2964119"
  },
  {
    "text": "in your like skill sets if you are all like Docker experts and you feel the pain point that",
    "start": "2964119",
    "end": "2972280"
  },
  {
    "text": "could be solved by Docker like yeah please go if you need to train your troops and if you don't feel any pain",
    "start": "2972280",
    "end": "2979000"
  },
  {
    "text": "points so forth then why because everybody does it no that's the worst",
    "start": "2979000",
    "end": "2984040"
  },
  {
    "text": "thing possible don't do micro Services because everybody does it probably don't",
    "start": "2984040",
    "end": "2989680"
  },
  {
    "text": "do micro Services because your organization cannot cope with microservices because you are not organized into pizza steam",
    "start": "2989680",
    "end": "2997799"
  },
  {
    "text": "yes sounds so nice with the API Gateway and you can redirect all production load to",
    "start": "2998740",
    "end": "3005579"
  },
  {
    "text": "both V1 and V2 until B2 behaved correctly but a lot of apis the impact",
    "start": "3005579",
    "end": "3011460"
  },
  {
    "text": "would actually change some state so how do you cope with that that's a good",
    "start": "3011460",
    "end": "3016680"
  },
  {
    "text": "question here you notice that I I kept everything in one go like I mean it's a hello world",
    "start": "3016680",
    "end": "3024480"
  },
  {
    "text": "no State I didn't change the semantics everything was fine so depending on",
    "start": "3024480",
    "end": "3031079"
  },
  {
    "text": "where you store the state or not but it could be possible to have like a",
    "start": "3031079",
    "end": "3036240"
  },
  {
    "text": "dummy database where basically you can store the state and discard it afterwards you can have like I don't",
    "start": "3036240",
    "end": "3042359"
  },
  {
    "text": "know in the Java world we can use hsqldb which basically is an in-memory database so after each restart you don't care so",
    "start": "3042359",
    "end": "3049380"
  },
  {
    "text": "you could read from the production database and write to another database it's more effort I completely agree but",
    "start": "3049380",
    "end": "3057119"
  },
  {
    "text": "depends again how much risk you are you want to cope with like how much effort versus the risk it's an engineering",
    "start": "3057119",
    "end": "3063900"
  },
  {
    "text": "decision and it depends on your situation",
    "start": "3063900",
    "end": "3068900"
  },
  {
    "text": "makes sense to you",
    "start": "3069300",
    "end": "3072319"
  },
  {
    "text": "exactly exactly that at some point it's uh it's going to cost that much and the risk",
    "start": "3078599",
    "end": "3085200"
  },
  {
    "text": "like of stuff happening is like not huge and the impact is low oh then why do it",
    "start": "3085200",
    "end": "3091380"
  },
  {
    "text": "on the opposite side if the risk is low but the impact can be huge",
    "start": "3091380",
    "end": "3096420"
  },
  {
    "text": "then again it's another like Risk Management is an undervalued skill in my opinion",
    "start": "3096420",
    "end": "3102660"
  },
  {
    "text": "foreign",
    "start": "3102660",
    "end": "3105619"
  },
  {
    "text": "yes",
    "start": "3107760",
    "end": "3110420"
  },
  {
    "text": "registering and all of that but like if you showed here",
    "start": "3114920",
    "end": "3121160"
  },
  {
    "text": "and I would like like to focus on on building the service that gets",
    "start": "3123359",
    "end": "3130640"
  },
  {
    "text": "something out of the box that is I'm not sure I understand your question",
    "start": "3130640",
    "end": "3138480"
  },
  {
    "text": "and more other blocks so about about registering users no registering is",
    "start": "3138480",
    "end": "3144660"
  },
  {
    "text": "something completely different it's another system we don't care the idea is how to get to the registry of users so",
    "start": "3144660",
    "end": "3151680"
  },
  {
    "text": "here I've showed you like the simplest one which basically you create one with one code but we integrate with uh oidc",
    "start": "3151680",
    "end": "3159960"
  },
  {
    "text": "we integrate with key clock we integrate with many different identity providers so basically you can like read the stuff",
    "start": "3159960",
    "end": "3167160"
  },
  {
    "text": "and know whether this person is load or not if they are authenticated I'm not sure I understood the question",
    "start": "3167160",
    "end": "3174119"
  },
  {
    "text": "so I hope I answered it right but from your face I'm not sure at all",
    "start": "3174119",
    "end": "3180920"
  },
  {
    "text": "okay that's a no that's a polite note um come to me afterwards and because",
    "start": "3181079",
    "end": "3187380"
  },
  {
    "text": "afterwards I need to like catch my flight but I have five minutes and then we can discuss",
    "start": "3187380",
    "end": "3193319"
  },
  {
    "text": "other questions yes",
    "start": "3193319",
    "end": "3199160"
  },
  {
    "text": "without impacting the consequences I have another talk on what's called",
    "start": "3212900",
    "end": "3218339"
  },
  {
    "text": "chopping the monolith um check my blog it will be there there is",
    "start": "3218339",
    "end": "3225480"
  },
  {
    "text": "not I mean I have the talk but it's not recorded yet but you can check the article I think it answers your question",
    "start": "3225480",
    "end": "3234140"
  },
  {
    "text": "yes",
    "start": "3236819",
    "end": "3239420"
  },
  {
    "text": "generation one except that you know a lot about the apis you here and I have",
    "start": "3244260",
    "end": "3251220"
  },
  {
    "text": "to do research about the automated documentation okay",
    "start": "3251220",
    "end": "3256940"
  },
  {
    "text": "and something that you just brought me you said the through the documentation first and then you will delete it yeah",
    "start": "3260880",
    "end": "3270800"
  },
  {
    "text": "and Technologies so first it depends on your tax tag a lot really really a lot",
    "start": "3295980",
    "end": "3302040"
  },
  {
    "text": "then I have been younger I have been I've been making mistakes",
    "start": "3302040",
    "end": "3309780"
  },
  {
    "text": "that the things and because I'm not too stupid I learned from my mistakes so when I was younger we used soap",
    "start": "3309780",
    "end": "3317839"
  },
  {
    "text": "and of course as a developer you wanted to write the code first and that the",
    "start": "3319020",
    "end": "3324839"
  },
  {
    "text": "soap crap was developed for you and the problem it makes it makes the the soap",
    "start": "3324839",
    "end": "3331380"
  },
  {
    "text": "like definition very tight to the language basically we were using Java it",
    "start": "3331380",
    "end": "3337140"
  },
  {
    "text": "was not impossible much much harder to call that outside of the Java ecosystem",
    "start": "3337140",
    "end": "3342540"
  },
  {
    "text": "so that's the reason why you shouldn't start in sorry why my now my stance is",
    "start": "3342540",
    "end": "3348960"
  },
  {
    "text": "you start from the contract first because you focus on what is the more important which is like actually the",
    "start": "3348960",
    "end": "3354839"
  },
  {
    "text": "contracts and in a very agnostic way and then you generate the skeleton for the",
    "start": "3354839",
    "end": "3360000"
  },
  {
    "text": "code and then you paste the codes that I mean that that makes sense but if you start with the text tags and you want to",
    "start": "3360000",
    "end": "3367140"
  },
  {
    "text": "generate the open API definition file you're gonna find out very soon that it was not the greatest IDE",
    "start": "3367140",
    "end": "3374700"
  },
  {
    "text": "that's my lesson that I learned of course you are welcome to like try it",
    "start": "3374700",
    "end": "3380280"
  },
  {
    "text": "and learn by yourself which is very fine believe me",
    "start": "3380280",
    "end": "3385160"
  },
  {
    "text": "exactly so that the thing about experience some people might learn from",
    "start": "3386960",
    "end": "3392339"
  },
  {
    "text": "the experience of others my son doesn't so he needs to like do his own mistakes that's fine",
    "start": "3392339",
    "end": "3398160"
  },
  {
    "text": "but then he tells me hey you were right okay okay so",
    "start": "3398160",
    "end": "3404359"
  },
  {
    "text": "because then because it promised kind of leftover architecture over there then One Direction it's the same concept so",
    "start": "3405059",
    "end": "3412980"
  },
  {
    "text": "either your contract first or you are cut first contracts first all the time for me unless you have very very good",
    "start": "3412980",
    "end": "3419040"
  },
  {
    "text": "reason which I didn't find yet and you're welcome",
    "start": "3419040",
    "end": "3425760"
  },
  {
    "text": "other questions Ben thanks a lot enjoy the conference",
    "start": "3425760",
    "end": "3434780"
  }
]