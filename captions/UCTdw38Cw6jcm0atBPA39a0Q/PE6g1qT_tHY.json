[
  {
    "text": "all right testing this thing is on good afternoon",
    "start": "6440",
    "end": "13160"
  },
  {
    "text": "everyone um one of the things I usually do before I start presenting like this is I do a quick head count of the",
    "start": "13160",
    "end": "19720"
  },
  {
    "text": "audience since I can't see most of you because of the bright lights that are in my face I'm just going to assume there's",
    "start": "19720",
    "end": "25199"
  },
  {
    "text": "about 700 of you sounds about right awesome all right uh again good",
    "start": "25199",
    "end": "31679"
  },
  {
    "text": "afternoon thank you so much for joining me here in this uh one hour about Doom",
    "start": "31679",
    "end": "36680"
  },
  {
    "text": "um so I'm going to try my best to see you all who is here just to see doom on a big",
    "start": "36680",
    "end": "42879"
  },
  {
    "text": "screen okay who's here for the technology behind it all that's the best I've got so far nice",
    "start": "42879",
    "end": "50719"
  },
  {
    "text": "all right so um this is about how we brought Doom to Maui it's running on my",
    "start": "50719",
    "end": "57520"
  },
  {
    "text": "phone uh in the demos I'm doing I'm going to show the windows version just because it compiles faster runs faster",
    "start": "57520",
    "end": "63800"
  },
  {
    "text": "and it's easier to show uh should you want to see it running on like a medium level Android phone come talk to me",
    "start": "63800",
    "end": "70560"
  },
  {
    "text": "afterwards I can show it on my Motorola works pretty well um now since we're in",
    "start": "70560",
    "end": "76080"
  },
  {
    "text": "the age of AI just let's just AI this and get it over",
    "start": "76080",
    "end": "82560"
  },
  {
    "text": "with so I asked co-pilot hey can you pour Doom to Maui for me and he replied",
    "start": "82560",
    "end": "88360"
  },
  {
    "text": "to it well I can't but these guys did it so maybe you can talk to them um that's",
    "start": "88360",
    "end": "93680"
  },
  {
    "text": "me up there so okay so where did this story start",
    "start": "93680",
    "end": "99680"
  },
  {
    "text": "this all started with a friend of mine named Wesley who you might also run into at different conferences that told me",
    "start": "99680",
    "end": "106640"
  },
  {
    "text": "hey you know what would be fun there's this game called Doom it's completely",
    "start": "106640",
    "end": "112040"
  },
  {
    "text": "open source how about we take it and report it to",
    "start": "112040",
    "end": "117840"
  },
  {
    "text": "net so I clear my schedule and we went to work and the thing we did that's what",
    "start": "117840",
    "end": "124640"
  },
  {
    "text": "I'm going to talk about today in part and this is all about setting expectations in in a bit of a a more",
    "start": "124640",
    "end": "131680"
  },
  {
    "text": "funny way um what I'm going to talk about here is not how we ported code to",
    "start": "131680",
    "end": "138879"
  },
  {
    "text": "net that's the part that Wesley did that was the hard part I did the easy part I",
    "start": "138879",
    "end": "144160"
  },
  {
    "text": "took his. net code which was a WPF application which is what you saw running when you entered the room and",
    "start": "144160",
    "end": "150360"
  },
  {
    "text": "you saw the Doom demo running that was WPF code I took that code and ported that to Maui and that's what this talk",
    "start": "150360",
    "end": "157080"
  },
  {
    "text": "is about how did I take a WPF application ported that to Maui um and",
    "start": "157080",
    "end": "163480"
  },
  {
    "text": "this is an extreme example of an application because it does some graphic stuff it does some stuff that your",
    "start": "163480",
    "end": "168680"
  },
  {
    "text": "average business application doesn't and that's what this makes an an interesting",
    "start": "168680",
    "end": "174879"
  },
  {
    "text": "use case right again nice to meet you all my name is Nico I'm a net architect at inum",
    "start": "174879",
    "end": "182800"
  },
  {
    "text": "Belgium which is a big consultancy company I've been a Microsoft MVP since",
    "start": "182800",
    "end": "188159"
  },
  {
    "text": "2014 in developer technologies that is um in Belgium I'm part of a visual",
    "start": "188159",
    "end": "193680"
  },
  {
    "text": "studio User Group where one of the biggest net communities over there and I'm also part of teorama Belgium and",
    "start": "193680",
    "end": "200040"
  },
  {
    "text": "Netherlands crew which is a conference uh similar to this one um I wrote a couple of books none of",
    "start": "200040",
    "end": "206760"
  },
  {
    "text": "those matter anymore um I brew my own beer I ride a bike I play guitar not all",
    "start": "206760",
    "end": "212080"
  },
  {
    "text": "three at the same time um you can find me on some Social Media stuff uh reach out",
    "start": "212080",
    "end": "218000"
  },
  {
    "text": "there now who has not heard of Maui so far and I'm not talking about the",
    "start": "218000",
    "end": "225920"
  },
  {
    "text": "island so not this one anyone no one couple of people all",
    "start": "225920",
    "end": "232319"
  },
  {
    "text": "right um so the problem is with Maui uh if you want to look into it and you",
    "start": "232319",
    "end": "238760"
  },
  {
    "text": "search for it and you enter Maui in your search engine you basically get information about the",
    "start": "238760",
    "end": "245560"
  },
  {
    "text": "islands and that's not the Maui that we mean now if you want to look for net Maui you just enter problems with Maui",
    "start": "245560",
    "end": "252319"
  },
  {
    "text": "and then you find links to net",
    "start": "252319",
    "end": "257519"
  },
  {
    "text": "Maui right kiding aside uh Maui is the successor to zamarin uh in particular",
    "start": "257519",
    "end": "263919"
  },
  {
    "text": "zarine forms it's the newest version uh it's been around for like two years now",
    "start": "263919",
    "end": "270160"
  },
  {
    "text": "I guess uh some of the Maui folks are running around here somewhere um so Maui is your",
    "start": "270160",
    "end": "279320"
  },
  {
    "text": "multi-platform application meaning that we can write",
    "start": "279320",
    "end": "284400"
  },
  {
    "text": "platform native applications and run them on Android iOS Windows Mac OS and",
    "start": "284400",
    "end": "291320"
  },
  {
    "text": "probably even more that I'm not aware of uh and that's important to know uh these are native applications this is not a",
    "start": "291320",
    "end": "299919"
  },
  {
    "text": "web view rendering HTML and whatnot this is actually native stuff and this is how",
    "start": "299919",
    "end": "305680"
  },
  {
    "text": "they do it um so starting at the bottom um let me see if I can laser point",
    "start": "305680",
    "end": "314320"
  },
  {
    "text": "this there we go bottom layer these are your operating systems your mobile your",
    "start": "314320",
    "end": "320880"
  },
  {
    "text": "desktop operating systems on top of Android iOS and Macos there is the monor run time uh which is now also just net I",
    "start": "320880",
    "end": "329880"
  },
  {
    "text": "guess since Microsoft owns mono now on top of Windows sits the net core CLR",
    "start": "329880",
    "end": "335120"
  },
  {
    "text": "which is used by the wiui um SDK and wiui framework on top of",
    "start": "335120",
    "end": "341160"
  },
  {
    "text": "that is your net Base Class library and that's where it gets interesting on top of that layer sits",
    "start": "341160",
    "end": "348440"
  },
  {
    "text": "net for Android net for iOS net for Mac this used to be zarine Android zarine",
    "start": "348440",
    "end": "354240"
  },
  {
    "text": "iOS zarine Mac they just renamed it but it's the same thing uh and for the",
    "start": "354240",
    "end": "360360"
  },
  {
    "text": "windows part this is just winui 3 um in case you haven't heard of winui winui is",
    "start": "360360",
    "end": "366599"
  },
  {
    "text": "the the most recent uh desktop framework uh so you have win forms",
    "start": "366599",
    "end": "373199"
  },
  {
    "text": "WPF um and then there's wi UI those are your supported options for writing",
    "start": "373199",
    "end": "379360"
  },
  {
    "text": "desktop applications for Windows and wiui is a target that Maui uses if you want to deploy to",
    "start": "379360",
    "end": "385800"
  },
  {
    "text": "Windows so four different targets on top of that it's an abstraction layer and",
    "start": "385800",
    "end": "391199"
  },
  {
    "text": "that one is called net Maui it abstracts away those four separate layers into one",
    "start": "391199",
    "end": "396800"
  },
  {
    "text": "common uh API Target on top of that Mai abstraction",
    "start": "396800",
    "end": "401960"
  },
  {
    "text": "layer that's where we write our codes that code gets compiled into thei into",
    "start": "401960",
    "end": "407160"
  },
  {
    "text": "platform native and so on and so on so on and at the end you have you're",
    "start": "407160",
    "end": "412280"
  },
  {
    "text": "calling into Java methods for Android you're calling into your",
    "start": "412280",
    "end": "417960"
  },
  {
    "text": "um forgot what Swift methods for iOS and for mac and you're basically already",
    "start": "417960",
    "end": "423960"
  },
  {
    "text": "calling C for Windows so no need to translate that so that's a bit of setting the scene uh good news I only",
    "start": "423960",
    "end": "431680"
  },
  {
    "text": "have about two or three slides left so the rest of this uh talk is mostly live",
    "start": "431680",
    "end": "437440"
  },
  {
    "text": "coding what I did to present uh or to build this presentation is um all of",
    "start": "437440",
    "end": "443759"
  },
  {
    "text": "this stuff that we did all of this porting it to Maui is on GitHub and I will share the link at the end uh so I",
    "start": "443759",
    "end": "450240"
  },
  {
    "text": "went back through the commits and all the I bundled most of the commits",
    "start": "450240",
    "end": "455360"
  },
  {
    "text": "together into demo steps and I'm just going to repeat what we did the problems we we run into and how we fixed",
    "start": "455360",
    "end": "463199"
  },
  {
    "text": "them so with that let's jump to visual",
    "start": "463199",
    "end": "469599"
  },
  {
    "text": "studio and I just realized I forgot to increase my font size sorry for",
    "start": "469840",
    "end": "476440"
  },
  {
    "text": "that all right let's see",
    "start": "478440",
    "end": "483319"
  },
  {
    "text": "uh is that big enough it's okay I can't even see you so",
    "start": "486240",
    "end": "493120"
  },
  {
    "text": "I saw I saw thumbs up here somewhere um if if it's if it gets too small just",
    "start": "493120",
    "end": "498440"
  },
  {
    "text": "shouts I'll increase the font size that's okay all right so um let's talk about",
    "start": "498440",
    "end": "505479"
  },
  {
    "text": "this solution this was the starting point so this is a solution with two projects",
    "start": "505479",
    "end": "512159"
  },
  {
    "text": "uh a class Library called Doom sharp core and a WPF application called Doom sharp windows and this was the one you",
    "start": "512159",
    "end": "519080"
  },
  {
    "text": "saw running it was running in debug mode so when you enter the room this is what was",
    "start": "519080",
    "end": "524720"
  },
  {
    "text": "running Doom sharp core is the actual Doom engine that was ported over from",
    "start": "524720",
    "end": "529760"
  },
  {
    "text": "the C codes to net codes this was basically done line by line we did some",
    "start": "529760",
    "end": "535120"
  },
  {
    "text": "optimizations to get it a bit more object oriented but it's B basically a one-on-one clone on how the original",
    "start": "535120",
    "end": "541640"
  },
  {
    "text": "Doom engine works and that all starts with the Doom",
    "start": "541640",
    "end": "546920"
  },
  {
    "text": "game class this one contains the the game Loop and everything starts",
    "start": "546920",
    "end": "554720"
  },
  {
    "text": "in the Run methods this is your entry point into",
    "start": "554720",
    "end": "560560"
  },
  {
    "text": "the game the first thing it does is it tries to identify what version of Doom you're trying to run and it does this",
    "start": "560560",
    "end": "567560"
  },
  {
    "text": "based on a what file what file is basically a small database",
    "start": "567560",
    "end": "573839"
  },
  {
    "text": "is thing what stands for where's all the data and this contains all the maps the",
    "start": "573839",
    "end": "580399"
  },
  {
    "text": "uh the Sprites the the positioning of enemies of weapons powerups and whatnot everything is in there so we really",
    "start": "580399",
    "end": "587399"
  },
  {
    "text": "depend on this file now um you will not find this file on our GitHub for the",
    "start": "587399",
    "end": "593000"
  },
  {
    "text": "simple reason that Doom is open source and is freely distributed the what file",
    "start": "593000",
    "end": "598480"
  },
  {
    "text": "isn't you can find it online and that will be the shareware version um if you want to",
    "start": "598480",
    "end": "605600"
  },
  {
    "text": "to use the full version with the modified Source engine um then you need",
    "start": "605600",
    "end": "611360"
  },
  {
    "text": "to buy it still that's the way the the open source license works now what we are doing is we're",
    "start": "611360",
    "end": "618720"
  },
  {
    "text": "checking the name of the what file uh so in case it's just called",
    "start": "618720",
    "end": "624000"
  },
  {
    "text": "doom. what it's a registered version if it's Doom one it's shareware there's the",
    "start": "624000",
    "end": "629880"
  },
  {
    "text": "retail version and then there's Doom 2 doom and Doom 2 are basically the same",
    "start": "629880",
    "end": "636959"
  },
  {
    "text": "game small optimizations in the engine but it's basically the same game loading in a different what",
    "start": "636959",
    "end": "643320"
  },
  {
    "text": "file um going into the file system I have a wat folder and here it is this is my w file",
    "start": "643320",
    "end": "650600"
  },
  {
    "text": "so I'm running the Chev version here in this demo so that's important to know now how",
    "start": "650600",
    "end": "657200"
  },
  {
    "text": "does my application know where this file livs it's in the launch settings. Json",
    "start": "657200",
    "end": "662800"
  },
  {
    "text": "we add an environment variable that we can use to pick it up and this was one of the first problems we encountered",
    "start": "662800",
    "end": "669040"
  },
  {
    "text": "this is a WPF application this is Windows full admin right uh full steam",
    "start": "669040",
    "end": "674959"
  },
  {
    "text": "ahead this works Maui is sandboxed when you run an application through Maui or",
    "start": "674959",
    "end": "680440"
  },
  {
    "text": "wi UI you get a Sandbox environment you don't just get access to the file system not with the same apis so that was the",
    "start": "680440",
    "end": "687560"
  },
  {
    "text": "first big problem and we'll fix that in a couple of",
    "start": "687560",
    "end": "694079"
  },
  {
    "text": "minutes um all right as for the zaml in this WPF thing it's basically just an",
    "start": "694279",
    "end": "702240"
  },
  {
    "text": "image it's an image element and we're just swapping out bit Maps we're using writable bit map for WPF part which was",
    "start": "702240",
    "end": "709040"
  },
  {
    "text": "yet again another problem because writable bit map doesn't exist in Maui uh but it's just a writable bit map",
    "start": "709040",
    "end": "715200"
  },
  {
    "text": "we're just replacing the the pixels in it and just swapping out the image uh x amount of times per second which is",
    "start": "715200",
    "end": "722399"
  },
  {
    "text": "what gives you your game playay all",
    "start": "722399",
    "end": "727720"
  },
  {
    "text": "right let's start doing this so for starters I'm going to add a new project to the solution and this is going to be",
    "start": "727720",
    "end": "734240"
  },
  {
    "text": "a Maui app which I will call Doom sharp.",
    "start": "734240",
    "end": "740440"
  },
  {
    "text": "Maui okay um for those of you who had have never",
    "start": "741079",
    "end": "748440"
  },
  {
    "text": "done Maui have done zarine you will notice that the template has",
    "start": "748440",
    "end": "753680"
  },
  {
    "text": "changed I was getting some so let's see if this builds while this is building uh so you",
    "start": "753680",
    "end": "761000"
  },
  {
    "text": "used to get ah what",
    "start": "761000",
    "end": "767079"
  },
  {
    "text": "now oh I see there's some stuff left behind",
    "start": "774040",
    "end": "779639"
  },
  {
    "text": "right this will end up working um what you get is now only one project with",
    "start": "779639",
    "end": "786600"
  },
  {
    "text": "zarine you used to get multiple projects a shared one an iOS one Android one a Windows one uh and you need to set one",
    "start": "786600",
    "end": "793920"
  },
  {
    "text": "specific uh head or project as a startup project and that's the platform you're building and running on with Maui they",
    "start": "793920",
    "end": "800440"
  },
  {
    "text": "they've done some project magic and it's all bundled together in one project now which simplifies this thing greatly if",
    "start": "800440",
    "end": "807639"
  },
  {
    "text": "you want to do Platform specifics stuff that's the platforms folder which contains all the platforms and in there",
    "start": "807639",
    "end": "814240"
  },
  {
    "text": "you can do your platform specific stuff only the specific platform folder will",
    "start": "814240",
    "end": "819320"
  },
  {
    "text": "be included in your build if you're building for a platform uh as you can see up here",
    "start": "819320",
    "end": "826880"
  },
  {
    "text": "um once I change the startup project that is there we go I'm currently",
    "start": "826880",
    "end": "833160"
  },
  {
    "text": "running on windows so if I buil now then my windows version will be built if I",
    "start": "833160",
    "end": "838639"
  },
  {
    "text": "change to an Android emulator then Android will be built if I change to an iOS device then iOS and so you you got",
    "start": "838639",
    "end": "845959"
  },
  {
    "text": "this um as mentioned I will keep doing the windows",
    "start": "845959",
    "end": "852800"
  },
  {
    "text": "stuff now um before we can get started I I need a reference to the Doom engine",
    "start": "853399",
    "end": "859199"
  },
  {
    "text": "right the Doom core thing and did you know that you can just drag and drop projects onto each other to add a",
    "start": "859199",
    "end": "867120"
  },
  {
    "text": "reference mind blown I discovered this like three weeks",
    "start": "867120",
    "end": "872440"
  },
  {
    "text": "ago so that works uh let's just zoom in again um in the WPF version there's a",
    "start": "874199",
    "end": "880600"
  },
  {
    "text": "folder called view models we are not doing mvvm in any way we're just calling",
    "start": "880600",
    "end": "885639"
  },
  {
    "text": "it view models because it's kind of what we're doing with it uh but I'm copying this folder into the Mari project and",
    "start": "885639",
    "end": "893360"
  },
  {
    "text": "I'm kicking out the console view model console view model um if I would relaunch the WPF project you would see a",
    "start": "893360",
    "end": "900399"
  },
  {
    "text": "console popping up for all the logging stuff uh we're not doing that for Maui to keep things",
    "start": "900399",
    "end": "905800"
  },
  {
    "text": "simple which also means I need to remove it from the",
    "start": "905800",
    "end": "911480"
  },
  {
    "text": "locator there we",
    "start": "911480",
    "end": "914839"
  },
  {
    "text": "go let's see if we can build still",
    "start": "916759",
    "end": "922160"
  },
  {
    "text": "uh all right errors that's good that's exactly what we need it so if I open up",
    "start": "924800",
    "end": "930360"
  },
  {
    "text": "the main view model that just copied from the WPF project into the Maui project you will start seeing a lot of",
    "start": "930360",
    "end": "936560"
  },
  {
    "text": "Errors because writable bit map doesn't exist for example uh and I can already",
    "start": "936560",
    "end": "941839"
  },
  {
    "text": "remove this so now we got the task of cleaning",
    "start": "941839",
    "end": "947800"
  },
  {
    "text": "this thing up um and before we do I need to make sure that our view model",
    "start": "947800",
    "end": "954399"
  },
  {
    "text": "locator is well known so I'm adding a static property into the app class thank",
    "start": "954399",
    "end": "961079"
  },
  {
    "text": "you",
    "start": "961079",
    "end": "963399"
  },
  {
    "text": "co-pilot uh let's change this name space let's change this name",
    "start": "969839",
    "end": "979839"
  },
  {
    "text": "space and remove ah sharp is not working with me",
    "start": "982199",
    "end": "989160"
  },
  {
    "text": "uh there we go there we go using Doom sharp. Maui Fu",
    "start": "991720",
    "end": "1001120"
  },
  {
    "text": "models there we go so I got my locator static properly set",
    "start": "1001120",
    "end": "1007399"
  },
  {
    "text": "up let's jump back here and remove some usings that we're not",
    "start": "1007399",
    "end": "1013160"
  },
  {
    "text": "using there we go all right so writable bit map I try to find a substitute for",
    "start": "1013160",
    "end": "1020399"
  },
  {
    "text": "writable bit map in Maui um there is a 2d Library included in Maui but that did",
    "start": "1020399",
    "end": "1027400"
  },
  {
    "text": "not suffice it did not do the things we wanted to do for example if I scroll down a bit uh",
    "start": "1027400",
    "end": "1034038"
  },
  {
    "text": "there are two methods here that are really important for running our game that's the update pallet method and the",
    "start": "1034039",
    "end": "1040240"
  },
  {
    "text": "screen ready method now what this does is uh for the updat pallet I'm I'm just",
    "start": "1040240",
    "end": "1045480"
  },
  {
    "text": "going to pull up the next slide here uh just like this so the writable bit map",
    "start": "1045480",
    "end": "1053000"
  },
  {
    "text": "or Doom works with an indexed eight8 image meaning that we are not getting a",
    "start": "1053000",
    "end": "1059400"
  },
  {
    "text": "um an array of pixels we are getting an array of addresses and there is a table",
    "start": "1059400",
    "end": "1065520"
  },
  {
    "text": "filled with this address means this color which is what you see in a simplified version here on the slide so",
    "start": "1065520",
    "end": "1072799"
  },
  {
    "text": "this is our pallet the image on the right here it says zero is blue what one",
    "start": "1072799",
    "end": "1078960"
  },
  {
    "text": "is red two is green then we get our image our um array of pixels basically",
    "start": "1078960",
    "end": "1085280"
  },
  {
    "text": "and that just contains zeros ones and twos writeable bit map will take those addresses and replace them with the",
    "start": "1085280",
    "end": "1091679"
  },
  {
    "text": "colors thus creating the actual image that's index8 image um it's an older way",
    "start": "1091679",
    "end": "1098320"
  },
  {
    "text": "of doing things which is why it's less supported these days but writable bit",
    "start": "1098320",
    "end": "1103600"
  },
  {
    "text": "map can still do it we can pass the index 8 format here uh on WPF again so",
    "start": "1103600",
    "end": "1110760"
  },
  {
    "text": "update pallets uh means create a new pallet in case the the the table of",
    "start": "1110760",
    "end": "1116480"
  },
  {
    "text": "colors and addresses needs to change different colors more addresses something like that and Screen ready the",
    "start": "1116480",
    "end": "1123320"
  },
  {
    "text": "outputs bite array that we get here is the actual uh array of images or of um",
    "start": "1123320",
    "end": "1129159"
  },
  {
    "text": "addresses that we need to replace with pixels so in the screen ready method we do the actual replacement uh bit map",
    "start": "1129159",
    "end": "1136559"
  },
  {
    "text": "here is the right will bit map it has a right pix method we pass in the um the array uh of",
    "start": "1136559",
    "end": "1144720"
  },
  {
    "text": "well addresses we pass in the pallet which it's which it already knows and",
    "start": "1144720",
    "end": "1149799"
  },
  {
    "text": "then it will do all the magic now this is one of the things the uh image or the 2D Library included in",
    "start": "1149799",
    "end": "1157080"
  },
  {
    "text": "Maui cannot do uh among other things and then the replacement I found for writable bit map",
    "start": "1157080",
    "end": "1164159"
  },
  {
    "text": "and you might have heard of this is a library called skia sharp SK skarp is a",
    "start": "1164159",
    "end": "1169679"
  },
  {
    "text": "CP version of the skia library which is uh made by Google um that can do all sorts of fun",
    "start": "1169679",
    "end": "1178240"
  },
  {
    "text": "stuff uh with Graphics so first I install the skia",
    "start": "1178240",
    "end": "1184280"
  },
  {
    "text": "sharp Library into my Maui project followed by the skar views. ma.",
    "start": "1184280",
    "end": "1193720"
  },
  {
    "text": "controls so I need the library in order to do all my manipulations and then I",
    "start": "1193720",
    "end": "1199240"
  },
  {
    "text": "need the controls Library so I can uh put a canvas on screen and render my",
    "start": "1199240",
    "end": "1204679"
  },
  {
    "text": "images onto that canvas that's why I needed",
    "start": "1204679",
    "end": "1209519"
  },
  {
    "text": "to going back to the main view model scrolling up a bit I should be able to",
    "start": "1209720",
    "end": "1216159"
  },
  {
    "text": "replace this with an SK bit",
    "start": "1216159",
    "end": "1221480"
  },
  {
    "text": "map and a using statement um before I forget in order to use skia sharp I need",
    "start": "1227360",
    "end": "1234640"
  },
  {
    "text": "to use or add this methods into the startup",
    "start": "1234640",
    "end": "1239960"
  },
  {
    "text": "uh again for people not used to Maui um they've reused the Builder pattern that",
    "start": "1239960",
    "end": "1245960"
  },
  {
    "text": "is becoming quite common thanks to asp.net so in order to set up a mai",
    "start": "1245960",
    "end": "1251000"
  },
  {
    "text": "project you can now also use a create Builder pattern and just add or or just chain extra setup methods in there",
    "start": "1251000",
    "end": "1259400"
  },
  {
    "text": "um with this um fun fact couple of conferences",
    "start": "1259400",
    "end": "1264640"
  },
  {
    "text": "ago uh I forgot this line and I blamed the Maui folks that it wasn't working and then they came to me hey did you add",
    "start": "1264640",
    "end": "1270960"
  },
  {
    "text": "this line uh yeah sorry so I will never again forget that",
    "start": "1270960",
    "end": "1277919"
  },
  {
    "text": "line all right rable bit Maps let's replace rable bit map with es bit map",
    "start": "1277919",
    "end": "1284400"
  },
  {
    "text": "wherever all right um the invoke methods um dispatcher do invoke in WPF means",
    "start": "1284400",
    "end": "1292279"
  },
  {
    "text": "that take whatever code is in this block and just run it on the UI thread no",
    "start": "1292279",
    "end": "1298000"
  },
  {
    "text": "matter where you are now this needs to run on the UI thread if you've ever done zaml and you've played around with with",
    "start": "1298000",
    "end": "1304440"
  },
  {
    "text": "datab binding you will have run into this probably uh invoke doesn't exist in",
    "start": "1304440",
    "end": "1310279"
  },
  {
    "text": "Maui uh it's called dispatch because using the same things",
    "start": "1310279",
    "end": "1317640"
  },
  {
    "text": "matter there we go um don't worry about these lines we will replace them in a",
    "start": "1317640",
    "end": "1325640"
  },
  {
    "text": "sec we are getting there the only thing missing in the main view model is the int 32 rect a rectangle this is an",
    "start": "1325640",
    "end": "1333440"
  },
  {
    "text": "included uh thing in the WPF SDK it's there it exists it doesn't exist in Maui",
    "start": "1333440",
    "end": "1339320"
  },
  {
    "text": "but it's also a very simple struct so I prepared it here as a",
    "start": "1339320",
    "end": "1344360"
  },
  {
    "text": "snippet and I will add it at the bottom of the file it's a struct that takes an",
    "start": "1344360",
    "end": "1352080"
  },
  {
    "text": "X and Y coordinates and a width and height it's a rectangle simple as",
    "start": "1352080",
    "end": "1358120"
  },
  {
    "text": "that with that I'm almost there uh WR pixels all right so the bitmap.",
    "start": "1361080",
    "end": "1370000"
  },
  {
    "text": "write pixels the part that will actually use writeable bit map to create whatever we can replace with bit map equals skia",
    "start": "1370000",
    "end": "1380039"
  },
  {
    "text": "bit map dot decodes that's way too much Code Pilot",
    "start": "1380039",
    "end": "1387919"
  },
  {
    "text": "output is enough and then we no longer need",
    "start": "1387919",
    "end": "1394080"
  },
  {
    "text": "this there we go so there's that uh and then we need",
    "start": "1394400",
    "end": "1401799"
  },
  {
    "text": "some zaml I'm going to walk you through this but I've I've prepared some Snippets",
    "start": "1401799",
    "end": "1408559"
  },
  {
    "text": "just to not type everything there we",
    "start": "1408559",
    "end": "1416960"
  },
  {
    "text": "go uh I do have some stuff missing that I will just copy",
    "start": "1417080",
    "end": "1424240"
  },
  {
    "text": "in and explain to you replace files there we",
    "start": "1425159",
    "end": "1431480"
  },
  {
    "text": "go so what I did here I made a custom control called game control uh because",
    "start": "1431480",
    "end": "1437080"
  },
  {
    "text": "this thing will run a mobile device devices you don't have a keyboard you don't have your error keys so you need a way to control it which means virtual",
    "start": "1437080",
    "end": "1443360"
  },
  {
    "text": "buttons virtual buttons are not a default control in Maui which makes sense um so I created a game control and",
    "start": "1443360",
    "end": "1451960"
  },
  {
    "text": "the reason this exists now because it was in the folder that I just copyed in and it should live right here and it's",
    "start": "1451960",
    "end": "1458919"
  },
  {
    "text": "basically an image uh an image that contains a key property um what I will do is I will add",
    "start": "1458919",
    "end": "1465840"
  },
  {
    "text": "uh listeners to the image in order for touch events and because of the key which is defined for every image on",
    "start": "1465840",
    "end": "1474919"
  },
  {
    "text": "here uh every key references a certain physical key on a keyboard we just pass",
    "start": "1474919",
    "end": "1481480"
  },
  {
    "text": "that into the Doom engine and it knows how to handle it um so quickly looking back to the",
    "start": "1481480",
    "end": "1488000"
  },
  {
    "text": "main view model uh every key press will trigger an event which is a custom event",
    "start": "1488000",
    "end": "1494320"
  },
  {
    "text": "system it's nothing to do with net events and that event gets queed into the events queue of Doom uh and",
    "start": "1494320",
    "end": "1502039"
  },
  {
    "text": "every tick we will DQ the next event and just push it into the engine and the",
    "start": "1502039",
    "end": "1507720"
  },
  {
    "text": "engine will take care of it uh and since that is all in the shared Library we I had nothing to fix there that just",
    "start": "1507720",
    "end": "1514799"
  },
  {
    "text": "worked which was",
    "start": "1514799",
    "end": "1518039"
  },
  {
    "text": "great all right some stuff",
    "start": "1520600",
    "end": "1525600"
  },
  {
    "text": "left uh uh let's see here main window in WPF",
    "start": "1527080",
    "end": "1535320"
  },
  {
    "text": "this will actually well no longer be called run but will be called run",
    "start": "1535320",
    "end": "1541600"
  },
  {
    "text": "async uh no not there but here there we go um so when I",
    "start": "1542960",
    "end": "1550960"
  },
  {
    "text": "copied in the folder just now I also copied in a new version of the Doom game class um and the run method I showed in",
    "start": "1550960",
    "end": "1558440"
  },
  {
    "text": "the beginning is now I run a sync method uh it's an overload so it can take in some extra",
    "start": "1558440",
    "end": "1564279"
  },
  {
    "text": "parameters which I will show you later um this will actually uninitialize",
    "start": "1564279",
    "end": "1571240"
  },
  {
    "text": "in WPF Run the game so we need something similar in Maui which is here",
    "start": "1571240",
    "end": "1578960"
  },
  {
    "text": "called onappearing",
    "start": "1578960",
    "end": "1582720"
  },
  {
    "text": "and this needs to be async",
    "start": "1584240",
    "end": "1588840"
  },
  {
    "text": "there we go",
    "start": "1589720",
    "end": "1596520"
  },
  {
    "text": "uh yep something like that let's go back to the main view model just comment",
    "start": "1597559",
    "end": "1603760"
  },
  {
    "text": "these out so we can build this thing",
    "start": "1603760",
    "end": "1611279"
  },
  {
    "text": "hopefully all right we have duplicate file names uh resources images",
    "start": "1612039",
    "end": "1619279"
  },
  {
    "text": "do nut bot is in there two times let's get rid of that try this",
    "start": "1619279",
    "end": "1625440"
  },
  {
    "text": "again yeah yeah why are my builds",
    "start": "1626960",
    "end": "1633960"
  },
  {
    "text": "failing right no matter we'll just continue it",
    "start": "1644399",
    "end": "1649480"
  },
  {
    "text": "will start working initially eventually all right um so remember when",
    "start": "1649480",
    "end": "1657000"
  },
  {
    "text": "we started and I was showing you the Run methods there was this identify version method that looked at the W file uh the",
    "start": "1657000",
    "end": "1663880"
  },
  {
    "text": "W file is not there yet um so I'm just going to add it into the resources folder now the resources folder in Maui",
    "start": "1663880",
    "end": "1671240"
  },
  {
    "text": "is something specific uh it's a folder where you can add images or fonts um or",
    "start": "1671240",
    "end": "1677360"
  },
  {
    "text": "icons or what whatever and depending on the subfolder you put it in it will the your build pipeline will",
    "start": "1677360",
    "end": "1686320"
  },
  {
    "text": "do different things with it uh so if I want to keep the file as this and just put it into the Container I need to put",
    "start": "1686320",
    "end": "1692960"
  },
  {
    "text": "it into the raw folder so this is now there if I build this and ship this the what file is included in the actual",
    "start": "1692960",
    "end": "1699960"
  },
  {
    "text": "application which is what I wanted but now um I need to take this",
    "start": "1699960",
    "end": "1708159"
  },
  {
    "text": "identify version thing that was also in the engine but",
    "start": "1708159",
    "end": "1714640"
  },
  {
    "text": "actually uses uh win 32 apis to check the file system which is not usable in",
    "start": "1714640",
    "end": "1719960"
  },
  {
    "text": "Maui I need I need to do it a different way uh I need this to be in my main page",
    "start": "1719960",
    "end": "1729200"
  },
  {
    "text": "let's close some tabs do some clean up there we go so the way to do it in",
    "start": "1729200",
    "end": "1736559"
  },
  {
    "text": "Maui is to use your file system apis uh and there they have a method that says",
    "start": "1736559",
    "end": "1742760"
  },
  {
    "text": "app package file exists I think so this checks if these files all exist and",
    "start": "1742760",
    "end": "1748559"
  },
  {
    "text": "based on the name they will set a version which is a tuple of game mode and string and just set it to whatever",
    "start": "1748559",
    "end": "1756039"
  },
  {
    "text": "version this is and what's the path of the what file is or the name it will return that",
    "start": "1756039",
    "end": "1764000"
  },
  {
    "text": "version and then I've got yet another s",
    "start": "1764000",
    "end": "1770039"
  },
  {
    "text": "bits it will take that version and pass it into the overload of the run a sync",
    "start": "1780440",
    "end": "1785559"
  },
  {
    "text": "method uh basically taking the identify version responsibility away from the engine and putting it into the Maui",
    "start": "1785559",
    "end": "1791720"
  },
  {
    "text": "project itself",
    "start": "1791720",
    "end": "1795158"
  },
  {
    "text": "right um so this also means that the Doom engine can no longer load the wat file in one particular way we need two",
    "start": "1799720",
    "end": "1806960"
  },
  {
    "text": "ways of doing this which is why it got abstracted um the core engine now has a",
    "start": "1806960",
    "end": "1815279"
  },
  {
    "text": "what file collection uh it has a uh what an IW stream provider which gets",
    "start": "1815279",
    "end": "1821480"
  },
  {
    "text": "implemented both by Maui and WPF and provides a way using the respective apis",
    "start": "1821480",
    "end": "1827760"
  },
  {
    "text": "to to actually open the file as well once it's loaded once the data is in memory we can just go ahead and use the",
    "start": "1827760",
    "end": "1834240"
  },
  {
    "text": "same way we were using before uh but the loading itself was particular to",
    "start": "1834240",
    "end": "1841880"
  },
  {
    "text": "Maui all right and we do need some more setup right",
    "start": "1844519",
    "end": "1851240"
  },
  {
    "text": "here we need to we need to initialize our W file collection",
    "start": "1851240",
    "end": "1857840"
  },
  {
    "text": "new W stream",
    "start": "1858360",
    "end": "1862200"
  },
  {
    "text": "provider uh like this and then there's the Doom",
    "start": "1864799",
    "end": "1871480"
  },
  {
    "text": "game set output render which will be the main",
    "start": "1871480",
    "end": "1877200"
  },
  {
    "text": "view model do instance not main",
    "start": "1877200",
    "end": "1883120"
  },
  {
    "text": "activity main view model",
    "start": "1883399",
    "end": "1887919"
  },
  {
    "text": "like this and what this does is we're basically telling the Doom engine whenever you call your rendering methods",
    "start": "1889799",
    "end": "1895960"
  },
  {
    "text": "call them onto this instance onto this class um and that will make sure that",
    "start": "1895960",
    "end": "1901600"
  },
  {
    "text": "the updates pallet and the screen ready methods are getting",
    "start": "1901600",
    "end": "1906120"
  },
  {
    "text": "triggered and then don't forget your binding",
    "start": "1908360",
    "end": "1913799"
  },
  {
    "text": "context uh and that will also be the main view model do",
    "start": "1916639",
    "end": "1922518"
  },
  {
    "text": "instance just adding some missing",
    "start": "1928760",
    "end": "1932880"
  },
  {
    "text": "usings there we",
    "start": "1935720",
    "end": "1939200"
  },
  {
    "text": "go of course it does this does as",
    "start": "1942360",
    "end": "1948919"
  },
  {
    "text": "well all right I'm quickly going to restart Visual Studio because something is messed",
    "start": "1948919",
    "end": "1956278"
  },
  {
    "text": "up all right um we should be getting to the point where this is actually runs",
    "start": "1965480",
    "end": "1971000"
  },
  {
    "text": "and renders if it builds uh which also shows that software",
    "start": "1971000",
    "end": "1977519"
  },
  {
    "text": "develop is not an exact",
    "start": "1977519",
    "end": "1980880"
  },
  {
    "text": "science let's give it some time to load um let's see we done that we done",
    "start": "1990399",
    "end": "1998720"
  },
  {
    "text": "that build solution while this is going I'm going to prepare",
    "start": "2005039",
    "end": "2011159"
  },
  {
    "text": "the next snippet uh and maybe I can just show you here so now we're going to replace the update pallet and the screen",
    "start": "2011159",
    "end": "2017760"
  },
  {
    "text": "ready methods because I just commented out some code in those two methods just to make sure it builds but it's not",
    "start": "2017760",
    "end": "2023919"
  },
  {
    "text": "actually running um I still need to find a way to do the uh pallet Replacements",
    "start": "2023919",
    "end": "2029080"
  },
  {
    "text": "or to to take the addresses and put the pixels in place there's no support for index 8 in skia sharp as I've mentioned",
    "start": "2029080",
    "end": "2036679"
  },
  {
    "text": "so we need to do this our eles which basically means creating a bit map with",
    "start": "2036679",
    "end": "2042440"
  },
  {
    "text": "the correct width and height and just Loop over um the widths and the heights",
    "start": "2042440",
    "end": "2048919"
  },
  {
    "text": "so we're basically going row by row uh of for every screen that we're rendering",
    "start": "2048919",
    "end": "2054599"
  },
  {
    "text": "and we are replacing the RGB values with the correct values from the pallet",
    "start": "2054599",
    "end": "2060679"
  },
  {
    "text": "manually so we've basically buil our own index St",
    "start": "2060679",
    "end": "2065799"
  },
  {
    "text": "system I want once the once the bit map is created we're setting it to the output and the output property um is a",
    "start": "2066440",
    "end": "2074358"
  },
  {
    "text": "skia bit map that we're binding onto a skia canvas on screen which in theory",
    "start": "2074359",
    "end": "2080240"
  },
  {
    "text": "should make sure everything",
    "start": "2080240",
    "end": "2083200"
  },
  {
    "text": "renders something is off anyway",
    "start": "2089320",
    "end": "2094919"
  },
  {
    "text": "oh that was the wrong",
    "start": "2101599",
    "end": "2104560"
  },
  {
    "text": "one copy and paste there we",
    "start": "2108240",
    "end": "2113720"
  },
  {
    "text": "go the same but with colors uh let me just",
    "start": "2114320",
    "end": "2122880"
  },
  {
    "text": "clean up small little tool I wrote to remove",
    "start": "2122880",
    "end": "2128160"
  },
  {
    "text": "all the bin and OBG folders from a folder that you",
    "start": "2128160",
    "end": "2135000"
  },
  {
    "text": "select I tried this demo this morning um as a as a form of dry run and what I",
    "start": "2139200",
    "end": "2145960"
  },
  {
    "text": "what I then usually do is I get reset everything to throw everything away but some things some symbols might have been",
    "start": "2145960",
    "end": "2152560"
  },
  {
    "text": "left behind",
    "start": "2152560",
    "end": "2155839"
  },
  {
    "text": "so what you will see if this actually compiles and runs is you will actually see Doom running um and if I wait for",
    "start": "2161119",
    "end": "2168720"
  },
  {
    "text": "the Doom demo to run it will work but it will and it's not really that noticeable",
    "start": "2168720",
    "end": "2175800"
  },
  {
    "text": "but it will be slow it it will stutter a bit um which has to do with what we're",
    "start": "2175800",
    "end": "2183200"
  },
  {
    "text": "doing here in the screen ready method uh with a manual replacing of of the pixel",
    "start": "2183200",
    "end": "2188319"
  },
  {
    "text": "hey build succeeded look at that now let's see if this",
    "start": "2188319",
    "end": "2197079"
  },
  {
    "text": "runs come",
    "start": "2197480",
    "end": "2200720"
  },
  {
    "text": "on that's a good sign that's even a better sign there we go we got some virtual buttons we got Doom there we go",
    "start": "2202880",
    "end": "2210440"
  },
  {
    "text": "I don't know if you can see it on on the projection but it it stutters a bit it's not as fluent as it should be even",
    "start": "2210440",
    "end": "2215640"
  },
  {
    "text": "though this is a really old game um so in order to fix this I did what every smart developer does and I asked",
    "start": "2215640",
    "end": "2222880"
  },
  {
    "text": "someone else to fix it um I went to Wesley and said I don't",
    "start": "2222880",
    "end": "2228440"
  },
  {
    "text": "know what to do anymore you know more about Graphics than I do can you help me",
    "start": "2228440",
    "end": "2233760"
  },
  {
    "text": "uh so he went to work and he fixed it",
    "start": "2233760",
    "end": "2240359"
  },
  {
    "text": "uh and I'm just going to add some more Snippets and then talk you through the",
    "start": "2240359",
    "end": "2245599"
  },
  {
    "text": "fix um it was not an easy fix we we spent some time uh figuring this",
    "start": "2245599",
    "end": "2253560"
  },
  {
    "text": "out and this is where the magic",
    "start": "2253560",
    "end": "2257720"
  },
  {
    "text": "is uh so again we replace",
    "start": "2258920",
    "end": "2263559"
  },
  {
    "text": "this and here's an unsafe statement and unsafe is not supported by default I you",
    "start": "2265280",
    "end": "2271599"
  },
  {
    "text": "need to add something to your CSR file in order for this to work what unsafe does is whatever code is in this unsaved",
    "start": "2271599",
    "end": "2279000"
  },
  {
    "text": "block will not be managed memory you're basically on your own you're telling",
    "start": "2279000",
    "end": "2285160"
  },
  {
    "text": "your garbage um collector I know what I'm doing leave me alone you're in",
    "start": "2285160",
    "end": "2290599"
  },
  {
    "text": "pointer land here which is why I asked someone",
    "start": "2290599",
    "end": "2296079"
  },
  {
    "text": "else uh so we're basically doing the same thing we're manually copying pixels over pixel addresses but in an unmanaged",
    "start": "2296079",
    "end": "2303200"
  },
  {
    "text": "way now um which made quite a big difference",
    "start": "2303200",
    "end": "2308520"
  },
  {
    "text": "um just need to fix some more",
    "start": "2308520",
    "end": "2313319"
  },
  {
    "text": "stuff instance map rendered we need this one this is a a",
    "start": "2315200",
    "end": "2320520"
  },
  {
    "text": "new um event that was just added by the Snippets and then there's just one more",
    "start": "2320520",
    "end": "2329359"
  },
  {
    "text": "snippet number seven which we need to add uh on paint",
    "start": "2329359",
    "end": "2338440"
  },
  {
    "text": "service surface right here so this is the um the actual event that's being",
    "start": "2338440",
    "end": "2344240"
  },
  {
    "text": "triggered in order to um uh let's just take a step back going to the zeml",
    "start": "2344240",
    "end": "2350240"
  },
  {
    "text": "there's a canvas view um whenever this canvas view gets um invalidated it needs",
    "start": "2350240",
    "end": "2356440"
  },
  {
    "text": "to rerender it calls this method what that method does is um it it takes the",
    "start": "2356440",
    "end": "2364440"
  },
  {
    "text": "uh the data from The View model and renders it uh on certain place in a certain width a",
    "start": "2364440",
    "end": "2370960"
  },
  {
    "text": "certain height um some graphic",
    "start": "2370960",
    "end": "2376280"
  },
  {
    "text": "magic all right let's see did I forget anything I think not let's try this",
    "start": "2376960",
    "end": "2385119"
  },
  {
    "text": "again and if everything goes well this should still work but",
    "start": "2385119",
    "end": "2393200"
  },
  {
    "text": "faster there we go very smooth and now that you see this version you can actually see the big difference between",
    "start": "2394839",
    "end": "2400599"
  },
  {
    "text": "the two um so that that got fixed um the only problem we had this when we run",
    "start": "2400599",
    "end": "2406800"
  },
  {
    "text": "this on Windows it looked perfectly fine but then we run it on",
    "start": "2406800",
    "end": "2412079"
  },
  {
    "text": "Android [Music] um wait do I have that screenshot somewhere I think so uh let's go here",
    "start": "2412079",
    "end": "2419880"
  },
  {
    "text": "let's go here then there there I think it's number",
    "start": "2419880",
    "end": "2425160"
  },
  {
    "text": "two this is what it looked like to on Android not what you would",
    "start": "2425160",
    "end": "2431119"
  },
  {
    "text": "expect um turns out that and the code is already in here to fix this uh if you",
    "start": "2431119",
    "end": "2437680"
  },
  {
    "text": "create a skia color on Androids the r and the B value are",
    "start": "2437680",
    "end": "2446319"
  },
  {
    "text": "inverted uh is it R&B uh yes it is yeah so those are",
    "start": "2446440",
    "end": "2453119"
  },
  {
    "text": "inverted so if Androids do it like this if window or if not Android do it like",
    "start": "2453119",
    "end": "2458400"
  },
  {
    "text": "this I don't know why uh it was it was a fun thing to see",
    "start": "2458400",
    "end": "2465400"
  },
  {
    "text": "happen all right so with that we now have Doom running we have performance",
    "start": "2465400",
    "end": "2471440"
  },
  {
    "text": "version of Doom running uh we even have the correct colors on Android imagine that but we cannot control it because",
    "start": "2471440",
    "end": "2479040"
  },
  {
    "text": "our game controls our images our virtual touch buttons are not doing anything yet",
    "start": "2479040",
    "end": "2484440"
  },
  {
    "text": "so we need to fix that and in order to fix that that there is a slid detailing",
    "start": "2484440",
    "end": "2490640"
  },
  {
    "text": "how this works this is how controls work on",
    "start": "2490640",
    "end": "2496000"
  },
  {
    "text": "Maui uh so again uh at the bottom you have your native fuse uh and in this",
    "start": "2496000",
    "end": "2501400"
  },
  {
    "text": "example it's a button you have your native UI button on iOS you have your native app compat button on Android and",
    "start": "2501400",
    "end": "2508200"
  },
  {
    "text": "you have your button on Windows on top of that are uh abstractions called",
    "start": "2508200",
    "end": "2515000"
  },
  {
    "text": "handlers the and handlers are Maui classes just calling into the native",
    "start": "2515000",
    "end": "2520800"
  },
  {
    "text": "platform controls every uh every Handler has an abstraction in the form of an interface",
    "start": "2520800",
    "end": "2527119"
  },
  {
    "text": "which in this case is I button and I button gets implemented by button which is abstraction on the highest level so",
    "start": "2527119",
    "end": "2534640"
  },
  {
    "text": "if in zaml in Maui we add a button we add a button element this gets called into an i button which becomes a button",
    "start": "2534640",
    "end": "2541400"
  },
  {
    "text": "Handler which becomes the native button on whatever platform you're running on why is this important",
    "start": "2541400",
    "end": "2547960"
  },
  {
    "text": "because we can use these handlers to extend what these controls can",
    "start": "2547960",
    "end": "2554480"
  },
  {
    "text": "do for example every control in Maui has a touch event you can add touch to",
    "start": "2554480",
    "end": "2561960"
  },
  {
    "text": "anything but we don't just want touch this is a game we want to be able to",
    "start": "2561960",
    "end": "2567559"
  },
  {
    "text": "keep a button pressed so we can run forward that's not supported but every platform by itself",
    "start": "2567559",
    "end": "2575680"
  },
  {
    "text": "does contain key up and key down events which is what we need but there's no abstraction on Maui level so we need to",
    "start": "2575680",
    "end": "2581760"
  },
  {
    "text": "add that ourselves going back to code how do we do",
    "start": "2581760",
    "end": "2587800"
  },
  {
    "text": "this we go to the main page to the onappearing which will",
    "start": "2587800",
    "end": "2593280"
  },
  {
    "text": "trigger whenever the page is rendering and then we add let's add it",
    "start": "2593280",
    "end": "2599520"
  },
  {
    "text": "here at the bottom we take our image",
    "start": "2599520",
    "end": "2605838"
  },
  {
    "text": "Handler we take the mapper and then we can append to the",
    "start": "2605880",
    "end": "2611520"
  },
  {
    "text": "mapping it needs a key which we will call Touch",
    "start": "2611520",
    "end": "2617440"
  },
  {
    "text": "supports and then we can add in action to",
    "start": "2617440",
    "end": "2625480"
  },
  {
    "text": "it like",
    "start": "2625680",
    "end": "2629800"
  },
  {
    "text": "this two parameters Handler and view Handler is just your I image Handler",
    "start": "2631559",
    "end": "2636720"
  },
  {
    "text": "which is Maui land view is your image your Maui",
    "start": "2636720",
    "end": "2644960"
  },
  {
    "text": "image uh like this we have yet another snippet",
    "start": "2647040",
    "end": "2652640"
  },
  {
    "text": "to add now we only want this codes to",
    "start": "2652640",
    "end": "2659880"
  },
  {
    "text": "run um in case we are actually having a game control this this",
    "start": "2659880",
    "end": "2667200"
  },
  {
    "text": "will now run for every single image because it's an image Handler there's no such thing as a game control Handler",
    "start": "2667200",
    "end": "2673319"
  },
  {
    "text": "because game control is just a class that that inherits from image so we do a",
    "start": "2673319",
    "end": "2678680"
  },
  {
    "text": "type check if we have an actual game control and we're running on",
    "start": "2678680",
    "end": "2684000"
  },
  {
    "text": "Windows then we can use the platform View and if you zoom in a bit you will see this is",
    "start": "2684000",
    "end": "2690480"
  },
  {
    "text": "an actual Microsoft UI ZL control this is a win UI um image another Mai image",
    "start": "2690480",
    "end": "2698559"
  },
  {
    "text": "wiui if I would switch here to uh Android for example then this will Li up",
    "start": "2698559",
    "end": "2706119"
  },
  {
    "text": "and the platform view will be an Android image view if we would add iOS here as well",
    "start": "2706119",
    "end": "2712800"
  },
  {
    "text": "then platform view will be an iOS UI image probably uh but I'm going to stick to",
    "start": "2712800",
    "end": "2718319"
  },
  {
    "text": "Windows for now there we go so now we can call into the events of",
    "start": "2718319",
    "end": "2724960"
  },
  {
    "text": "the Native platform control which is perfect exactly what we",
    "start": "2724960",
    "end": "2730280"
  },
  {
    "text": "needed let's take this one scroll a bit and this goes into the",
    "start": "2731800",
    "end": "2739079"
  },
  {
    "text": "main view model somewhere at the",
    "start": "2739079",
    "end": "2744559"
  },
  {
    "text": "bottom like this so what this does is um it's the Onkey action and the translate",
    "start": "2746920",
    "end": "2752760"
  },
  {
    "text": "key so we will take the virtual button that was pressed the virtual key we will translate it into a physical key",
    "start": "2752760",
    "end": "2761000"
  },
  {
    "text": "and that will go straight into the event queue of",
    "start": "2761000",
    "end": "2765920"
  },
  {
    "text": "Doom there we go now if I did everything correctly which I apparently",
    "start": "2772040",
    "end": "2778640"
  },
  {
    "text": "didn't all right it added a using statement that doesn't exist on",
    "start": "2778640",
    "end": "2785599"
  },
  {
    "text": "Windows and so some other",
    "start": "2785599",
    "end": "2789319"
  },
  {
    "text": "stuff what do you mean you don't know what initialized component is of course you",
    "start": "2800040",
    "end": "2805880"
  },
  {
    "text": "do what going on all of a",
    "start": "2815599",
    "end": "2819680"
  },
  {
    "text": "sudden oh well let's just try this one again clean everything there we",
    "start": "2824119",
    "end": "2829680"
  },
  {
    "text": "go",
    "start": "2829680",
    "end": "2832680"
  },
  {
    "text": "build if this doesn't if this doesn't work doesn't really matter",
    "start": "2838520",
    "end": "2844040"
  },
  {
    "text": "um I can promise you that this does work buttons are actually working",
    "start": "2844040",
    "end": "2850359"
  },
  {
    "text": "now whatever let's just skip that part um one thing I was thinking when",
    "start": "2851480",
    "end": "2858079"
  },
  {
    "text": "building this is okay we now have touch controls on our mobile platforms but we",
    "start": "2858079",
    "end": "2863880"
  },
  {
    "text": "need actual button support as well I'm running on a Windows machine I have a physical keyboard I need to be able to",
    "start": "2863880",
    "end": "2869960"
  },
  {
    "text": "do this now um You There is inputs",
    "start": "2869960",
    "end": "2876079"
  },
  {
    "text": "control in Maui uh but it's only when you have focus in like a text box for",
    "start": "2876079",
    "end": "2882200"
  },
  {
    "text": "example then you can enter with with a physical keyboard there is no way to say",
    "start": "2882200",
    "end": "2888440"
  },
  {
    "text": "hey I'm on a screen and nothing has Focus please read my keys that doesn't",
    "start": "2888440",
    "end": "2895640"
  },
  {
    "text": "work out of the box so I need to find a way around this and what I did was I",
    "start": "2895640",
    "end": "2901319"
  },
  {
    "text": "wrote a behavior and a behavior is a way to",
    "start": "2901319",
    "end": "2906839"
  },
  {
    "text": "write a platform specific logic and create an abstraction so that you can",
    "start": "2906839",
    "end": "2912319"
  },
  {
    "text": "use it in multiplatform PL so in this case I got a keyboard Behavior that's",
    "start": "2912319",
    "end": "2918319"
  },
  {
    "text": "not supported on Android and not supported on iOS um pretty naive I know",
    "start": "2918319",
    "end": "2923440"
  },
  {
    "text": "iOS Android have keyboards uh but it didn't I didn't feel like implementing those so Windows only and they have two",
    "start": "2923440",
    "end": "2931079"
  },
  {
    "text": "events key up key down and if I go to the windows implementation on comment",
    "start": "2931079",
    "end": "2939160"
  },
  {
    "text": "it you can um you need to inherit from platform behavior and then you have your",
    "start": "2939400",
    "end": "2944440"
  },
  {
    "text": "Maui element and your native element and it will merge those two kind of together",
    "start": "2944440",
    "end": "2950359"
  },
  {
    "text": "and I'm doing this on UI element if you look at the Microsoft UI zaml UI element",
    "start": "2950359",
    "end": "2955400"
  },
  {
    "text": "is somewhere up there in the visual tree some somewhere on top almost everything inherits from UI element so we're good",
    "start": "2955400",
    "end": "2962799"
  },
  {
    "text": "with that one um so what I'm doing is I need to find the outermost element in my",
    "start": "2962799",
    "end": "2969480"
  },
  {
    "text": "visual tree so visual tree for those of you are not familiar with zaml uh it's kind of",
    "start": "2969480",
    "end": "2975520"
  },
  {
    "text": "like you're dumb in HTML but then for z uh and there are like helpers like the",
    "start": "2975520",
    "end": "2981520"
  },
  {
    "text": "visual tree helper uh that you can use to inspect that visual tree and change",
    "start": "2981520",
    "end": "2986880"
  },
  {
    "text": "it at runtime reflection but for UI so what I when looking at the visual",
    "start": "2986880",
    "end": "2993160"
  },
  {
    "text": "tree of a Maui application you're you have quite a big tree and and it's elements",
    "start": "2993160",
    "end": "2999640"
  },
  {
    "text": "elements elements elements and it's all Maui Maui Maui Maui until you get to the topmost element the root element of",
    "start": "2999640",
    "end": "3006720"
  },
  {
    "text": "everything is a native element always so what I did was I traversed the visual",
    "start": "3006720",
    "end": "3013839"
  },
  {
    "text": "three all the way to the top to get that native element once I had",
    "start": "3013839",
    "end": "3020160"
  },
  {
    "text": "that I could add the key up and key down events on that element",
    "start": "3020160",
    "end": "3028640"
  },
  {
    "text": "now the that element always has some form of focus because it's the outermost",
    "start": "3028720",
    "end": "3034079"
  },
  {
    "text": "so those events will always trigger whenever they get triggered I",
    "start": "3034079",
    "end": "3039760"
  },
  {
    "text": "would invoke the key up and key down event that is here in my uh",
    "start": "3039760",
    "end": "3047880"
  },
  {
    "text": "abstraction and then",
    "start": "3047880",
    "end": "3052240"
  },
  {
    "text": "here I would create a behavior",
    "start": "3053079",
    "end": "3058040"
  },
  {
    "text": "take this snippet and put it somewhere right here",
    "start": "3058520",
    "end": "3066040"
  },
  {
    "text": "for example right so I would create a behavior wire up those two events uh and",
    "start": "3066040",
    "end": "3072920"
  },
  {
    "text": "then there's a behavior list uh on every element every every Maui element has",
    "start": "3072920",
    "end": "3078720"
  },
  {
    "text": "behaviors you can just add to it and now these things will fire when I hit my",
    "start": "3078720",
    "end": "3084680"
  },
  {
    "text": "Hardware keys and they will go in the on key action the exact same one that's being used here by the virtual keys and",
    "start": "3084680",
    "end": "3092520"
  },
  {
    "text": "from that point on it's again the engines problem and everything is working one more try to make it work it",
    "start": "3092520",
    "end": "3099400"
  },
  {
    "text": "will probably fail because this is not",
    "start": "3099400",
    "end": "3105160"
  },
  {
    "text": "here doesn't recognize initialized component now so who",
    "start": "3105160",
    "end": "3111040"
  },
  {
    "text": "knows oh there we go",
    "start": "3114200",
    "end": "3118520"
  },
  {
    "text": "it's working again I'm pressing the space bar on my keyboard that's working clicking the a",
    "start": "3119760",
    "end": "3126480"
  },
  {
    "text": "button that's working uh pushing escape the menu loads so I have both physical",
    "start": "3126480",
    "end": "3132400"
  },
  {
    "text": "and virtual Keys running now and with that my my uh Port was completed",
    "start": "3132400",
    "end": "3139079"
  },
  {
    "text": "afterwards we added sound and everything as well uh so that's also working in the",
    "start": "3139079",
    "end": "3144680"
  },
  {
    "text": "in the version that's out on GitHub uh but I did not put it into the demo because it would be too",
    "start": "3144680",
    "end": "3150480"
  },
  {
    "text": "long all right going back to the last couple of",
    "start": "3150480",
    "end": "3155558"
  },
  {
    "text": "slides so my key takeaway in all of this",
    "start": "3155839",
    "end": "3161200"
  },
  {
    "text": "is that this project was incredibly fun to do I spent a lot of free time on this",
    "start": "3161200",
    "end": "3168480"
  },
  {
    "text": "and this was so much fun every step that you made and you run into the next problem was like a small victory because",
    "start": "3168480",
    "end": "3174520"
  },
  {
    "text": "we got further the next problem is there until there was no more problem everything was working so the key",
    "start": "3174520",
    "end": "3180920"
  },
  {
    "text": "takeaway that I want you to to take in from this session is that we as developers we have an entire playground",
    "start": "3180920",
    "end": "3187720"
  },
  {
    "text": "to have fun don't forget to have fun with what you can do with what you know",
    "start": "3187720",
    "end": "3193599"
  },
  {
    "text": "try and do these things that are basically completely useless but are so much fun to do don't forget the fun",
    "start": "3193599",
    "end": "3200760"
  },
  {
    "text": "factor in your job it's the best part of it that's a major takeaway",
    "start": "3200760",
    "end": "3206880"
  },
  {
    "text": "uh this is here for some reason I don't know why just remember this slide when you walk",
    "start": "3206880",
    "end": "3213040"
  },
  {
    "text": "out right really important uh this is the link to the",
    "start": "3213040",
    "end": "3218200"
  },
  {
    "text": "GitHub feel free to take a picture of it um go and see what we've done clone it",
    "start": "3218200",
    "end": "3224559"
  },
  {
    "text": "play around with it um sound is in that version uh there are even some ideas of",
    "start": "3224559",
    "end": "3231680"
  },
  {
    "text": "adding accelerometer supports so that if you're running on your phone you can actually walk around",
    "start": "3231680",
    "end": "3236960"
  },
  {
    "text": "and the game will follow you that apparently acceler meter didn't work yet in Maui so need to find some time to fix",
    "start": "3236960",
    "end": "3244720"
  },
  {
    "text": "that if you if you are interested do it send a pool request we would be happy to merge it",
    "start": "3244720",
    "end": "3250559"
  },
  {
    "text": "in I got about five minutes left are there any questions but you need to be loud",
    "start": "3250559",
    "end": "3256960"
  },
  {
    "text": "because there's a lot of noise coming from the back did",
    "start": "3256960",
    "end": "3262480"
  },
  {
    "text": "youf Library yes uh so how did I implement the sound um we did use a specific Library F mod I",
    "start": "3262480",
    "end": "3270079"
  },
  {
    "text": "believe it was uh which is not available as a nuget package so we actually had to pull the dll into the application dll",
    "start": "3270079",
    "end": "3276760"
  },
  {
    "text": "hell all over again um and that actually did also work on Maui so we first did it",
    "start": "3276760",
    "end": "3282599"
  },
  {
    "text": "in WPF and then we took fot into Maui as well and that made it it took some",
    "start": "3282599",
    "end": "3287799"
  },
  {
    "text": "tweaks here and there but we made it work using that one all right yes",
    "start": "3287799",
    "end": "3296119"
  },
  {
    "text": "for Hardware acceleration um I don't think so I'm not sure it Maui is not a",
    "start": "3297920",
    "end": "3305079"
  },
  {
    "text": "game engine uh so we and you've seen this in the code um uh so so the",
    "start": "3305079",
    "end": "3310480"
  },
  {
    "text": "question was is there Hardware acceleration support in Maui um I don't think so because it's not a game engine we're basically just messing around with",
    "start": "3310480",
    "end": "3317480"
  },
  {
    "text": "bit Maps um so I don't think we can make it hard to",
    "start": "3317480",
    "end": "3323520"
  },
  {
    "text": "accelerate yes I I did not understand that",
    "start": "3324960",
    "end": "3331599"
  },
  {
    "text": "one can can you speak up a bit is the app available in the App",
    "start": "3334520",
    "end": "3340960"
  },
  {
    "text": "Stores uh no it's not because we are not allowed to ship the what file um if that wasn't an issue then it",
    "start": "3340960",
    "end": "3347079"
  },
  {
    "text": "would have been available in the App Stores probably yeah um fun thing is that uh Wesley ran actually ran into",
    "start": "3347079",
    "end": "3354359"
  },
  {
    "text": "John carmac a while back and let him play our clone so that was fun um all right with that thank you all",
    "start": "3354359",
    "end": "3363000"
  },
  {
    "text": "so much for being here I hope you enjoyed it don't forget to takeway uh and please vote on your way out if you",
    "start": "3363000",
    "end": "3368839"
  },
  {
    "text": "have any other questions I'm here for most of the conference so feel free to come up to me and have a chat thank you",
    "start": "3368839",
    "end": "3375079"
  },
  {
    "text": "so much",
    "start": "3375079",
    "end": "3378240"
  }
]