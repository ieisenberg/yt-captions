[
  {
    "text": "all right like many good things it all started",
    "start": "640",
    "end": "6080"
  },
  {
    "text": "with a tweet in august of 2019 i replied to a tweet",
    "start": "6080",
    "end": "11440"
  },
  {
    "text": "and mentioned that i had tried out a relatively new yarn feature plug and",
    "start": "11440",
    "end": "16800"
  },
  {
    "text": "play now the lead maintainer of yarn replied encouraging me to try out",
    "start": "16800",
    "end": "23439"
  },
  {
    "text": "darn 2. now yarn 2 was still pre-release at that",
    "start": "23439",
    "end": "29679"
  },
  {
    "text": "time but i decided to give it a try and i was impressed",
    "start": "29679",
    "end": "35040"
  },
  {
    "text": "i also fairly quickly encountered a minor edge case bug which got fixed quite promptly",
    "start": "35040",
    "end": "42239"
  },
  {
    "text": "that was almost three years ago and yarnberry has come a long way since then",
    "start": "42239",
    "end": "48079"
  },
  {
    "text": "it's more appropriate actually to call it yarn berry than yarn two because barry",
    "start": "48079",
    "end": "53280"
  },
  {
    "text": "was the project name for the yarn rewrite yarn three has now been released and",
    "start": "53280",
    "end": "59199"
  },
  {
    "text": "it's still built on top of that berry code base hi i'm michael richardson and this is",
    "start": "59199",
    "end": "66720"
  },
  {
    "text": "yarnberry a next generation package manager",
    "start": "66720",
    "end": "72240"
  },
  {
    "text": "i get too far ahead of myself let's talk about yarn classic the one.x version",
    "start": "72240",
    "end": "78479"
  },
  {
    "text": "yarn made a big splash when it came on the scene a few years back it was an alternative to the default package",
    "start": "78479",
    "end": "84159"
  },
  {
    "text": "manager at the ben and now npm yarn promised better performance and",
    "start": "84159",
    "end": "89200"
  },
  {
    "text": "more reliable repeatable builds in part due to a unique lock file",
    "start": "89200",
    "end": "95119"
  },
  {
    "text": "now i've used yarn fairly consistently for several years now and i've really",
    "start": "95119",
    "end": "100240"
  },
  {
    "text": "enjoyed using it overall as proof of yarn success many of the innovations developed by yarn have now",
    "start": "100240",
    "end": "107920"
  },
  {
    "text": "been incorporated into modern versions of npm npm now supports lock files and has",
    "start": "107920",
    "end": "114159"
  },
  {
    "text": "significantly performed it's improved its performance since yarn was",
    "start": "114159",
    "end": "119280"
  },
  {
    "text": "released now yarnberry is the name for a significant re-architecture and rewrite",
    "start": "119280",
    "end": "126640"
  },
  {
    "text": "of the yarn project it improves on a variety of features from the original yarn adds a few more features and",
    "start": "126640",
    "end": "134160"
  },
  {
    "text": "encourages a really impressive strat package install strategy called plug and play",
    "start": "134160",
    "end": "140000"
  },
  {
    "text": "now in prior iterations of this talk i've simply used the name yarn two and like i said this is no longer accurate",
    "start": "140000",
    "end": "146640"
  },
  {
    "text": "the difference between two and because yarn three has been released the difference between two and three is",
    "start": "146640",
    "end": "153040"
  },
  {
    "text": "comparatively insignificant almost nothing like the changes from one to two",
    "start": "153040",
    "end": "158480"
  },
  {
    "text": "for that reason and for clarity i'll do my best to use the name yarnberry throughout the talk",
    "start": "158480",
    "end": "164400"
  },
  {
    "text": "you may also see barrier referred to as yarn modern to distinguish it from yarn classy classic",
    "start": "164400",
    "end": "171519"
  },
  {
    "text": "so the first and most important thing to remember is don't panic yarn classic is not going away",
    "start": "171519",
    "end": "178959"
  },
  {
    "text": "when yarnberry was first released there was significant concern in the node ecosystem a lot of people were concerned",
    "start": "178959",
    "end": "185360"
  },
  {
    "text": "that things would break and the ecosystem would be harmed as a result now when we get to the demo you'll",
    "start": "185360",
    "end": "191120"
  },
  {
    "text": "notice that i'm still using yarn classic as my global yarn installation that",
    "start": "191120",
    "end": "196720"
  },
  {
    "text": "hasn't changed but also at the same time it's important",
    "start": "196720",
    "end": "202879"
  },
  {
    "text": "to be aware that yarn classic isn't unlikely to receive any significant new",
    "start": "202879",
    "end": "209200"
  },
  {
    "text": "features it's where it is and it's not going to make much changes from there it may be",
    "start": "209200",
    "end": "215040"
  },
  {
    "text": "upgraded for certain compatibility with yarnberry things like that but it's not going to receive any big changes",
    "start": "215040",
    "end": "223760"
  },
  {
    "text": "to use yarnberry we're gonna install it in a specific project now since the release of yarn 1.0 way back yarn has",
    "start": "223760",
    "end": "231519"
  },
  {
    "text": "supported a feature that i like to call version pinning with version pinning you can simply embed a specific version of",
    "start": "231519",
    "end": "239120"
  },
  {
    "text": "yarn into your project once you've done this everyone who clones your project and runs yarn",
    "start": "239120",
    "end": "247040"
  },
  {
    "text": "will use that embedded version regardless of what version they have installed globally on their machine",
    "start": "247040",
    "end": "253120"
  },
  {
    "text": "we've been using this feature for some time at kroger and it's worked really well for us and avoid a lot of issues",
    "start": "253120",
    "end": "259600"
  },
  {
    "text": "in the same way that a lock file ensures repeatable builds this makes all your package management more",
    "start": "259600",
    "end": "266840"
  },
  {
    "text": "consistent so let's talk about what's new in yarnberry",
    "start": "266840",
    "end": "272320"
  },
  {
    "text": "first of all the yarn source code has been refactored to be highly modular utilizing a plug-in based architecture",
    "start": "272320",
    "end": "278880"
  },
  {
    "text": "much of what we would see is the core functionality of yarn is implemented as plugins if yarn doesn't offer a feature",
    "start": "278880",
    "end": "285040"
  },
  {
    "text": "or command that you want you can add it yourself as a plugin i hope to see a lot of interesting",
    "start": "285040",
    "end": "291440"
  },
  {
    "text": "developments in this space i've already seen some cool stuff coming out and i think it'll start getting more",
    "start": "291440",
    "end": "296639"
  },
  {
    "text": "press now yarnberry's console output is very clean and easy to read it clearly",
    "start": "296639",
    "end": "303360"
  },
  {
    "text": "identifies each step in the process bracketed on the side and the associated",
    "start": "303360",
    "end": "308400"
  },
  {
    "text": "warnings or errors you'll see this as i'm running it later each output message has a specific code",
    "start": "308400",
    "end": "314400"
  },
  {
    "text": "which can be easily referenced in the documentation or searched online in some cases it even has a little underline you",
    "start": "314400",
    "end": "321440"
  },
  {
    "text": "can click it and that link will take you to a description of that message that error",
    "start": "321440",
    "end": "327120"
  },
  {
    "text": "depending on this case now yarnberry offers also offers enhanced support for workspaces",
    "start": "327120",
    "end": "334720"
  },
  {
    "text": "workspaces were already a big selling point for yarn classic",
    "start": "334720",
    "end": "340479"
  },
  {
    "text": "but yarnberry has made some big advancements in this area and for improved developer experiences",
    "start": "340479",
    "end": "346720"
  },
  {
    "text": "if this is important to you you may want to consider yarnberry just for this reason alone",
    "start": "346720",
    "end": "353440"
  },
  {
    "text": "if you use workspaces or i think they might be useful you do definitely check it out",
    "start": "353440",
    "end": "359360"
  },
  {
    "text": "now yarnberry also contains the new command yarn dlx which can be used to run one-off scripts a lot like npx but a",
    "start": "359360",
    "end": "367120"
  },
  {
    "text": "little bit safer they also have new protocols like patch and portal which are",
    "start": "367120",
    "end": "373919"
  },
  {
    "text": "generally better than so patch is brand new it's kind of cool it allows you to patch a package this is",
    "start": "373919",
    "end": "381759"
  },
  {
    "text": "actually used in yarn to make it more compatible with typescript which is super cool portal is a different version",
    "start": "381759",
    "end": "388560"
  },
  {
    "text": "of link which is just handles things a lot better in a lot of",
    "start": "388560",
    "end": "393600"
  },
  {
    "text": "cases it also includes constraints and these are an interesting experimental feature",
    "start": "393600",
    "end": "400880"
  },
  {
    "text": "constraints allow you to specify rules about your package dependencies that",
    "start": "400880",
    "end": "406160"
  },
  {
    "text": "yarn will run then yarn will ensure that those rules are not violated",
    "start": "406160",
    "end": "411360"
  },
  {
    "text": "for example you might want to make sure that all the packages in your workspace depend on the same version of a specific",
    "start": "411360",
    "end": "418240"
  },
  {
    "text": "package or that they specifically don't depend on a specific package",
    "start": "418240",
    "end": "425120"
  },
  {
    "text": "constraints are written in a language named prologue a logic based programming language the yarn team caught some flack",
    "start": "425120",
    "end": "432160"
  },
  {
    "text": "for going this direction but i think it's kind of brilliant prologue is specifically designed for",
    "start": "432160",
    "end": "437360"
  },
  {
    "text": "these kind of scenarios so what about performance let's take a look",
    "start": "437360",
    "end": "444319"
  },
  {
    "text": "real quick oh one moment so the yarn package actually",
    "start": "444319",
    "end": "451360"
  },
  {
    "text": "goes ahead and publishes performance characteristics",
    "start": "451360",
    "end": "458479"
  },
  {
    "text": "for their packages at this point so we can take a look at that",
    "start": "458560",
    "end": "465680"
  },
  {
    "text": "the truth is that many things are relatively similar um this can be a little tough to read and",
    "start": "465680",
    "end": "471599"
  },
  {
    "text": "dig into but for a lot of cases yarn even using node modules is often going",
    "start": "471599",
    "end": "477120"
  },
  {
    "text": "to be the fast fastest or comparable to the fastest ones",
    "start": "477120",
    "end": "482639"
  },
  {
    "text": "so depending on which ones you're looking at and the scenarios that are most important to you you can kind of go",
    "start": "482639",
    "end": "488879"
  },
  {
    "text": "through here so for example in this case where you only have a cache but you don't have a lock",
    "start": "488879",
    "end": "495039"
  },
  {
    "text": "file which is pretty rare honestly npm and yarn in this case is not",
    "start": "495039",
    "end": "500720"
  },
  {
    "text": "particularly fast but in other cases you'll see that",
    "start": "500720",
    "end": "506479"
  },
  {
    "text": "yarn significantly beats out npm or pnpm for that matter which is listed",
    "start": "506479",
    "end": "511840"
  },
  {
    "text": "in a lot of places here so but interestingly pnpm does their own",
    "start": "511840",
    "end": "519919"
  },
  {
    "text": "benchmarks and in several cases their yarn is actually the fastest but again",
    "start": "519919",
    "end": "525839"
  },
  {
    "text": "they're pretty comparable most of the time with yarn and darn and pnpm being",
    "start": "525839",
    "end": "531360"
  },
  {
    "text": "the fastest and npm a little bit behind cool",
    "start": "531360",
    "end": "537200"
  },
  {
    "text": "we'll jump back in here",
    "start": "537200",
    "end": "541720"
  },
  {
    "text": "so all the things that i talked about so far are nice they improve the developer",
    "start": "552080",
    "end": "558160"
  },
  {
    "text": "experience in a variety of ways and just make yarn a little better and uh",
    "start": "558160",
    "end": "564800"
  },
  {
    "text": "easier to use but the real star in my mind is the use and plug and play as the encouraged",
    "start": "564800",
    "end": "571760"
  },
  {
    "text": "install strategy now plug and play is often shortened to pnp",
    "start": "571760",
    "end": "576880"
  },
  {
    "text": "and you might see that acronym occasionally in various places so in order to understand plug and play",
    "start": "576880",
    "end": "583680"
  },
  {
    "text": "we should first understand what it's not why it's different from the current method of package installation",
    "start": "583680",
    "end": "591279"
  },
  {
    "text": "to do that we have to talk about node when resolving module references node",
    "start": "591279",
    "end": "596880"
  },
  {
    "text": "looks for the appropriate file in the node modules folder using a method called require.resolve now for our",
    "start": "596880",
    "end": "604560"
  },
  {
    "text": "purposes we don't need to know the ugly details of how resolve works frankly i don't know how it works",
    "start": "604560",
    "end": "610880"
  },
  {
    "text": "because i haven't had a need to i leave that to package manager authors who handle that well until i do have a",
    "start": "610880",
    "end": "617680"
  },
  {
    "text": "need i have better things to do like building software taking hikes in the woods and watching movies with my family",
    "start": "617680",
    "end": "624640"
  },
  {
    "text": "node has resolved modules this way since the very beginning package managers have",
    "start": "624640",
    "end": "629920"
  },
  {
    "text": "to be compatible with nodes resolution logic they have to do it node's way and",
    "start": "629920",
    "end": "635120"
  },
  {
    "text": "that means copying files into node modules now this copying takes time and",
    "start": "635120",
    "end": "640800"
  },
  {
    "text": "introduces a variety of issues some of which you may be familiar with for",
    "start": "640800",
    "end": "646320"
  },
  {
    "text": "example creating folders so deeply nested that they can't be easily when easily deleted",
    "start": "646320",
    "end": "652320"
  },
  {
    "text": "thank you windows for that one or a node modules folder with more than a hundred and sixty thousand files and over a",
    "start": "652320",
    "end": "659600"
  },
  {
    "text": "gigabyte in size now that's what i work with sometimes in my day job a web of package depend the web of",
    "start": "659600",
    "end": "666000"
  },
  {
    "text": "package dependencies creates complex folder structures and they always seem",
    "start": "666000",
    "end": "671040"
  },
  {
    "text": "to get messed up now you yourself may have been through this scenario if you if you work with node",
    "start": "671040",
    "end": "677279"
  },
  {
    "text": "you're about to tear your hair out you're trying to get your project to run now in desperation you delete the node",
    "start": "677279",
    "end": "683680"
  },
  {
    "text": "modules folder reinstall your packages and magically everything",
    "start": "683680",
    "end": "688720"
  },
  {
    "text": "starts working again why we have no idea now all of this sounds like a fantastic",
    "start": "688720",
    "end": "696320"
  },
  {
    "text": "system right just perfect in every way",
    "start": "696320",
    "end": "701040"
  },
  {
    "text": "not so much so how do we solve this problem let's say that we want to avoid these",
    "start": "701600",
    "end": "708079"
  },
  {
    "text": "issues how do we get around the various complications they create",
    "start": "708079",
    "end": "714560"
  },
  {
    "text": "the problem may seem intractable we need packages life would be terrible without them",
    "start": "714560",
    "end": "720639"
  },
  {
    "text": "node needs them to be properly arranged in node module no no modules folder in a way we're stuck",
    "start": "720639",
    "end": "727279"
  },
  {
    "text": "but how can we stop playing by nodes rules and start playing by our own rules with plug and play yarn uses the unique",
    "start": "727279",
    "end": "734000"
  },
  {
    "text": "and innovative strategy it simply overrides node's built-in methods for",
    "start": "734000",
    "end": "739200"
  },
  {
    "text": "module resolution javascript is so flexible that you can override core pieces of the functionality and",
    "start": "739200",
    "end": "745440"
  },
  {
    "text": "essentially say hey that that thing over there you normally do do don't do that do this instead now",
    "start": "745440",
    "end": "752639"
  },
  {
    "text": "in many cases this can seem to be a bit ridiculous but in this case it's ridiculously useful",
    "start": "752639",
    "end": "758720"
  },
  {
    "text": "yarn overrides these apis and that allows it to get right in the",
    "start": "758720",
    "end": "763920"
  },
  {
    "text": "middle of the module resolution process enforcing its own rules and implementation now as a result yarn can",
    "start": "763920",
    "end": "770480"
  },
  {
    "text": "store the packages however is most convenient for yarn and for the user",
    "start": "770480",
    "end": "775839"
  },
  {
    "text": "so let's think about what a better system might look like here's the way the yarn plug and play",
    "start": "775839",
    "end": "780880"
  },
  {
    "text": "lays it out yarn stores each package is a single file a compressed zip archive in a",
    "start": "780880",
    "end": "788320"
  },
  {
    "text": "dedicated yarn cache folder when node needs a file from a package yarn intercepts the request reaches into the",
    "start": "788320",
    "end": "795600"
  },
  {
    "text": "zip archive pulls out the requested file then hands it to node",
    "start": "795600",
    "end": "801279"
  },
  {
    "text": "node gets the file that it wants darn can do perfect module resolution and everyone is happy",
    "start": "801279",
    "end": "809040"
  },
  {
    "text": "this system is so much more compact than traditional node modules it enables you to commit the package cache like we saw",
    "start": "809200",
    "end": "816800"
  },
  {
    "text": "there to your get repository yarn supports a workflow called zero install where a repository can be cloned and",
    "start": "816800",
    "end": "823440"
  },
  {
    "text": "then the application can be run immediately with no install step necessary now",
    "start": "823440",
    "end": "830399"
  },
  {
    "text": "i know what you're thinking because i'm thinking it too we've always been told that committing packages to source",
    "start": "830399",
    "end": "836800"
  },
  {
    "text": "control is an anti-pattern something we want to avoid with node modules that was absolutely",
    "start": "836800",
    "end": "842959"
  },
  {
    "text": "problematic there were so many files taking up so much space but the plug and play cache is very",
    "start": "842959",
    "end": "850160"
  },
  {
    "text": "compact so it works quite smoothly now zero install is not a required",
    "start": "850160",
    "end": "855680"
  },
  {
    "text": "workflow you don't have to commit your packages to to package cache to your source",
    "start": "855680",
    "end": "860959"
  },
  {
    "text": "control but it's a really convenient reliable workflow that means that your builds are no longer dependent on an",
    "start": "860959",
    "end": "867120"
  },
  {
    "text": "external package repository or network access for that matter everything that you need to build and",
    "start": "867120",
    "end": "873279"
  },
  {
    "text": "run your application is part of the source control repo in this scenario you only need the package repository when",
    "start": "873279",
    "end": "880480"
  },
  {
    "text": "adding or upgrading packages now this has some really cool positive side effects",
    "start": "880480",
    "end": "886320"
  },
  {
    "text": "switching between branches forget having to do the package install step the necessary packages are already",
    "start": "886320",
    "end": "893199"
  },
  {
    "text": "there need to run some old code even if npm disappeared entirely your packages would",
    "start": "893199",
    "end": "900160"
  },
  {
    "text": "still be right there this also speeds up your continuous integration the pipeline can clone the",
    "start": "900160",
    "end": "906079"
  },
  {
    "text": "project and get right to work now the bad news not every project works with plug and play right out of the box",
    "start": "906079",
    "end": "913040"
  },
  {
    "text": "the node ecosystem has been working with node modules for a long time some packages and tools have come to expect",
    "start": "913040",
    "end": "920320"
  },
  {
    "text": "that folder and have implemented code that wasn't compatible with plug and play",
    "start": "920320",
    "end": "927360"
  },
  {
    "text": "another potential challenge is that plug and play is more strict than node modules the node modules folder allows",
    "start": "927360",
    "end": "935040"
  },
  {
    "text": "packages to reference other packages without specifically declaring them as a",
    "start": "935040",
    "end": "940480"
  },
  {
    "text": "dependency doing this has always been an unsafe behavior",
    "start": "940480",
    "end": "946240"
  },
  {
    "text": "with plug and play these unsafe access attempts are now called out as errors so",
    "start": "946240",
    "end": "952320"
  },
  {
    "text": "that the package authors can fix them properly the yarn team has made huge efforts",
    "start": "952320",
    "end": "959360"
  },
  {
    "text": "on fixing these kinds of problems in other popular projects raising issues and then making pull",
    "start": "959360",
    "end": "965600"
  },
  {
    "text": "requests to help bring those projects into compliance the changes that they made benefit not",
    "start": "965600",
    "end": "971759"
  },
  {
    "text": "just yarn users but all package users now because of this should you encounter",
    "start": "971759",
    "end": "978880"
  },
  {
    "text": "an error using a certain package with plug and play you should first check that you're using the most recent",
    "start": "978880",
    "end": "984240"
  },
  {
    "text": "version of that package most popular libraries and frameworks",
    "start": "984240",
    "end": "991120"
  },
  {
    "text": "are now compatible with plug and play and many of them are moving to using yarnberry for building the projects",
    "start": "991120",
    "end": "997519"
  },
  {
    "text": "themselves projects such as babel and jest are now using yarnberry internally",
    "start": "997519",
    "end": "1004079"
  },
  {
    "text": "now there are a couple standouts that still don't support plug and play namely react native and flow",
    "start": "1004079",
    "end": "1010480"
  },
  {
    "text": "both of these are still completely compatible with yarnberry by using the",
    "start": "1010480",
    "end": "1015600"
  },
  {
    "text": "built-in node modules linker which generates the classic node modules folder",
    "start": "1015600",
    "end": "1021759"
  },
  {
    "text": "that's actually the default for for an old project now when you install you'll see this later",
    "start": "1021759",
    "end": "1027918"
  },
  {
    "text": "but when we install yarnberry it will default to using the node modules linker",
    "start": "1027919",
    "end": "1035839"
  },
  {
    "text": "let's talk real quick about upgrading to yarnberry with plug and play now upgrading to your project to",
    "start": "1035919",
    "end": "1041600"
  },
  {
    "text": "yarnberry is for the most part pretty simple but like i said making your project",
    "start": "1041600",
    "end": "1046640"
  },
  {
    "text": "compatible with plug and play is the complex part you should definitely try using plug and play if you can it is wonderful and it",
    "start": "1046640",
    "end": "1054000"
  },
  {
    "text": "makes lots of errors go away but yarnberry also supports working with node modules if necessary",
    "start": "1054000",
    "end": "1060160"
  },
  {
    "text": "if you have a relatively simple project perhaps a simple react app or an express server upgrading to use plug and play",
    "start": "1060160",
    "end": "1066799"
  },
  {
    "text": "may be trivial that was my experience in some cases other projects may encounter more challenges and i've definitely seen that",
    "start": "1066799",
    "end": "1075039"
  },
  {
    "text": "another great feature of yarnberry like we discussed is that it's designed",
    "start": "1075039",
    "end": "1080080"
  },
  {
    "text": "to be enabled per project if you are upgrading a project to",
    "start": "1080080",
    "end": "1085280"
  },
  {
    "text": "yarnberry i highly recommend that you reference the migration docs these docs have improved drastically over time and",
    "start": "1085280",
    "end": "1091919"
  },
  {
    "text": "i can tell you from experience they are instructive and helpful when you encounter errors we're going to take a look at those uh as well when we're",
    "start": "1091919",
    "end": "1098160"
  },
  {
    "text": "doing the upgrades so let's do a demo",
    "start": "1098160",
    "end": "1103679"
  },
  {
    "text": "i'm going to go ahead and switch to mirroring",
    "start": "1104240",
    "end": "1111200"
  },
  {
    "text": "so i have created a standard react app which you can create react app",
    "start": "1115440",
    "end": "1121440"
  },
  {
    "text": "nothing fancy here i used yarn to create it and so you'll see there is a yarn lock file",
    "start": "1121440",
    "end": "1127760"
  },
  {
    "text": "and this has already been committed to source control [Music]",
    "start": "1127760",
    "end": "1133679"
  },
  {
    "text": "nothing interesting here let's take a look real quick we'll see how much space",
    "start": "1133679",
    "end": "1139760"
  },
  {
    "text": "the node modules folder is using so for create react app 223 megs",
    "start": "1139760",
    "end": "1147919"
  },
  {
    "text": "for node modules and just to recount the files in here",
    "start": "1147919",
    "end": "1154480"
  },
  {
    "text": "there's 30 almost 33 000 files in node modules so",
    "start": "1161120",
    "end": "1169360"
  },
  {
    "text": "cool now so all our changes are committed so that we're going to use commits to kind",
    "start": "1171919",
    "end": "1178000"
  },
  {
    "text": "of track the changes that we're making as we go along so in order to upgrade to berry we'll",
    "start": "1178000",
    "end": "1184400"
  },
  {
    "text": "just say yarn set version barry and that will download the latest release of",
    "start": "1184400",
    "end": "1190400"
  },
  {
    "text": "barry three two one in this case and then save it into the project",
    "start": "1190400",
    "end": "1197520"
  },
  {
    "text": "you'll see we've added a yarn path to our yarnrc.yaml we have added a package manager to",
    "start": "1197520",
    "end": "1204320"
  },
  {
    "text": "package json this is using uh taking advantage of core pack when it's available which is a new node feature",
    "start": "1204320",
    "end": "1211600"
  },
  {
    "text": "that allows you to specify your package manager and then you can see in this case it's actually",
    "start": "1211600",
    "end": "1218840"
  },
  {
    "text": "um downloaded yarn 321 and is uh has installed it into the project so",
    "start": "1218840",
    "end": "1227360"
  },
  {
    "text": "we'll just commit this so those changes are",
    "start": "1227520",
    "end": "1233520"
  },
  {
    "text": "saved now we're going to go ahead and do a new install with barry",
    "start": "1233520",
    "end": "1239760"
  },
  {
    "text": "you see we're doing the resolution step which is figuring out the packages that need to be installed",
    "start": "1239760",
    "end": "1247158"
  },
  {
    "text": "as you can see kind of on the edge here the various yarn",
    "start": "1249919",
    "end": "1255280"
  },
  {
    "text": "output one thing you can do with these if you plug these into yarn explain which is a",
    "start": "1255280",
    "end": "1260880"
  },
  {
    "text": "new command it will tell you exactly what's going on there so",
    "start": "1260880",
    "end": "1266080"
  },
  {
    "text": "resolution is completed it fetched all the necessary packages and now it's doing a link",
    "start": "1266080",
    "end": "1272480"
  },
  {
    "text": "step now the link in this case is with the note with the node modules",
    "start": "1272480",
    "end": "1278080"
  },
  {
    "text": "linker which is the default for a existing project is to copy those files",
    "start": "1278080",
    "end": "1283679"
  },
  {
    "text": "into node modules so we'll take a look here at the files",
    "start": "1283679",
    "end": "1288960"
  },
  {
    "text": "the changes that we have you might see there are a lot of changes so",
    "start": "1288960",
    "end": "1294799"
  },
  {
    "text": "right now we still have our node modules folder we have um the yarn release 32 yarn",
    "start": "1294799",
    "end": "1301280"
  },
  {
    "text": "3.2.1 and then we've got this interesting cache folder which was created by yarn",
    "start": "1301280",
    "end": "1307360"
  },
  {
    "text": "so before we do anything else we're going to go ahead and grab a get ignore",
    "start": "1307360",
    "end": "1314159"
  },
  {
    "text": "from the yarn migration docs",
    "start": "1314159",
    "end": "1318679"
  },
  {
    "text": "so",
    "start": "1325280",
    "end": "1328280"
  },
  {
    "text": "we at this point we need to choose uh our strategy and",
    "start": "1332480",
    "end": "1338559"
  },
  {
    "text": "we'll copy this here so we're going to drop this into the git ignore and then i will explain what's",
    "start": "1339039",
    "end": "1346400"
  },
  {
    "text": "going on",
    "start": "1346400",
    "end": "1348880"
  },
  {
    "text": "obviously you want to comment your git ignore so you know what's going on here so this thing",
    "start": "1353679",
    "end": "1359200"
  },
  {
    "text": "ignore everything in the yarn.yarn folder to start",
    "start": "1359200",
    "end": "1364559"
  },
  {
    "text": "but include the yarn cache and patches plugins releases sdks and",
    "start": "1364559",
    "end": "1371360"
  },
  {
    "text": "versions so you'll see this releases here we definitely want to include uh the pinned version of yarn",
    "start": "1371360",
    "end": "1379120"
  },
  {
    "text": "it's also saying to include the uh cache so this is a choice that",
    "start": "1379120",
    "end": "1384559"
  },
  {
    "text": "you can make whether you want to keep that in or not what this will do for you",
    "start": "1384559",
    "end": "1389600"
  },
  {
    "text": "is you can use that regardless of whether you're using plug and play or not",
    "start": "1389600",
    "end": "1395440"
  },
  {
    "text": "if you commit the cache to your repository that means that it never has to go out and fetch those packages when",
    "start": "1395440",
    "end": "1402799"
  },
  {
    "text": "you clone the repo they're just already there waiting to be installed",
    "start": "1402799",
    "end": "1408960"
  },
  {
    "text": "you can see those are zip folders and so zip files and so we can actually",
    "start": "1409360",
    "end": "1415520"
  },
  {
    "text": "we can dive into those later we'll do that when we're talking about the yarn sdks",
    "start": "1415520",
    "end": "1422400"
  },
  {
    "text": "so we'll go ahead and leave our leave it like that but we could choose",
    "start": "1422400",
    "end": "1428840"
  },
  {
    "text": "to remove the yarn cache so it's no longer looking at those files in that case we only have three and that's our",
    "start": "1428840",
    "end": "1436000"
  },
  {
    "text": "changes to the git ignore our changes the rnrc.yaml which specified a node linker of node",
    "start": "1436000",
    "end": "1442159"
  },
  {
    "text": "modules and then changes to the yarn.lock you'll see that this is specifically",
    "start": "1442159",
    "end": "1448480"
  },
  {
    "text": "versioned and it is a true yaml file at this point it used to be with yarn classic it was",
    "start": "1448480",
    "end": "1453919"
  },
  {
    "text": "kind of yaml but there were some slight differences so we'll go ahead and",
    "start": "1453919",
    "end": "1460640"
  },
  {
    "text": "omit this as the yarnberry install and",
    "start": "1461279",
    "end": "1467440"
  },
  {
    "text": "then we will go ahead and let's go ahead and add that cache back in and commit those files too",
    "start": "1468159",
    "end": "1476480"
  },
  {
    "text": "because that makes things a lot easier",
    "start": "1476480",
    "end": "1481200"
  },
  {
    "text": "cool so just to prove that everything is still working with yarn bearing let's go ahead and do a yarn start",
    "start": "1484799",
    "end": "1491600"
  },
  {
    "text": "now we haven't changed anything significant at this point we're still using node modules so",
    "start": "1491600",
    "end": "1499600"
  },
  {
    "text": "there's no particular reason that you would have any problems",
    "start": "1499600",
    "end": "1505600"
  },
  {
    "text": "so here we go you can see it's working well in the browser no problem",
    "start": "1505600",
    "end": "1511039"
  },
  {
    "text": "we can also go ahead and check about the size of node modules 268 megs in this",
    "start": "1511039",
    "end": "1518320"
  },
  {
    "text": "case pretty large and then",
    "start": "1518320",
    "end": "1522880"
  },
  {
    "text": "let's actually also check the size that yarn cache that we committed so that's only 40 megabytes which is",
    "start": "1525440",
    "end": "1531600"
  },
  {
    "text": "i think we would all admit is quite a bit smaller we can also count the number of files in known modules in this case",
    "start": "1531600",
    "end": "1538480"
  },
  {
    "text": "there's 31 713 slightly different from before this is i believe this is actually",
    "start": "1538480",
    "end": "1544559"
  },
  {
    "text": "because of the upgrades to yarns resolution strategy to make it more reliable and better",
    "start": "1544559",
    "end": "1550559"
  },
  {
    "text": "and then we can look at the number of files in that cache folder",
    "start": "1550559",
    "end": "1557720"
  },
  {
    "text": "so only about 1200 files in that cache folder not nearly as much as you would",
    "start": "1558400",
    "end": "1563760"
  },
  {
    "text": "see if you're trying to get commit node modules all right",
    "start": "1563760",
    "end": "1570360"
  },
  {
    "text": "now we start to get fancy this is now we try to let's let's see if we can use plug and play",
    "start": "1570559",
    "end": "1577520"
  },
  {
    "text": "with this so once we remove the that linker that should default it to using",
    "start": "1577520",
    "end": "1583520"
  },
  {
    "text": "the plug-and-play strategy which means that it will no longer need that node modules",
    "start": "1583520",
    "end": "1589679"
  },
  {
    "text": "folder",
    "start": "1589679",
    "end": "1592000"
  },
  {
    "text": "so you can see it this case everything went super fast there was not nothing to fetch it did a resolution but um",
    "start": "1595200",
    "end": "1603039"
  },
  {
    "text": "because it already had that cache there you can see it batch completed in 252 milliseconds and",
    "start": "1603039",
    "end": "1608240"
  },
  {
    "text": "it built the project so all right you'll see now it has",
    "start": "1608240",
    "end": "1613600"
  },
  {
    "text": "generated this pnp.cg.pnp.cjs file",
    "start": "1613600",
    "end": "1619679"
  },
  {
    "text": "that file exists to specify what is needed how to do the",
    "start": "1619679",
    "end": "1628000"
  },
  {
    "text": "module resolution this is generated by yarn and this is what allows it to grab",
    "start": "1628000",
    "end": "1633679"
  },
  {
    "text": "those files out of the zip at runtime",
    "start": "1633679",
    "end": "1638840"
  },
  {
    "text": "so make sure i'm not off track on anything here",
    "start": "1638840",
    "end": "1644320"
  },
  {
    "text": "we've got the get ignore we've discussed the files and now we look at the cache size",
    "start": "1644320",
    "end": "1650640"
  },
  {
    "text": "so we can go ahead and commit these changes actually",
    "start": "1650640",
    "end": "1656000"
  },
  {
    "text": "we're gonna np install",
    "start": "1656000",
    "end": "1661440"
  },
  {
    "text": "all right so let's make sure that everything still runs",
    "start": "1663600",
    "end": "1671760"
  },
  {
    "text": "sweet our create react app still works perfectly no problems we have no no",
    "start": "1679120",
    "end": "1684399"
  },
  {
    "text": "modules folder or it's very small at this point i believe these are actually created by",
    "start": "1684399",
    "end": "1691120"
  },
  {
    "text": "another pack another thing in here not specifically yarn",
    "start": "1691120",
    "end": "1696880"
  },
  {
    "text": "and everything's working just fine so we can also",
    "start": "1696880",
    "end": "1703360"
  },
  {
    "text": "if we want test the other functionality for instance we can instead of just",
    "start": "1703360",
    "end": "1708399"
  },
  {
    "text": "doing a dev start we can actually do a full production build",
    "start": "1708399",
    "end": "1713279"
  },
  {
    "text": "now in this case it seems that we've encountered an error and so let's let's take a look at this",
    "start": "1714480",
    "end": "1720159"
  },
  {
    "text": "maybe we can do a quick google and see if we see what might be going on here",
    "start": "1720159",
    "end": "1727039"
  },
  {
    "text": "sorry so we'll looks like we've found pretty quickly",
    "start": "1731919",
    "end": "1739200"
  },
  {
    "text": "uh a error describing exactly the same bug you'll notice that it's talking about",
    "start": "1739200",
    "end": "1745200"
  },
  {
    "text": "yarnberry and we can see that people are discussing what's going on here",
    "start": "1745200",
    "end": "1751679"
  },
  {
    "text": "so people talking about attempted fixes",
    "start": "1751679",
    "end": "1757039"
  },
  {
    "text": "and what we'll discover is that um",
    "start": "1757039",
    "end": "1762640"
  },
  {
    "text": "essentially this is a mistake by the create react dab team they have not add there's not or",
    "start": "1762640",
    "end": "1769360"
  },
  {
    "text": "actually it's they've not added the appropriate config",
    "start": "1769360",
    "end": "1774559"
  },
  {
    "text": "to the file so we're going to go ahead and add",
    "start": "1774559",
    "end": "1781840"
  },
  {
    "text": "this package to it that should help things along",
    "start": "1781840",
    "end": "1790240"
  },
  {
    "text": "super quick no problem let's try and build again",
    "start": "1791200",
    "end": "1797039"
  },
  {
    "text": "but this is an outcome of plug and play being more strict in general",
    "start": "1798640",
    "end": "1804159"
  },
  {
    "text": "all right at that point at this point our build is completed successfully so that worked no problem",
    "start": "1804159",
    "end": "1812880"
  },
  {
    "text": "you can see that there's a slight change now to the pmp.cjs that helps it to locate those files",
    "start": "1817520",
    "end": "1824320"
  },
  {
    "text": "also some new stuff in the package.json and changes to the yard lock so",
    "start": "1824320",
    "end": "1830960"
  },
  {
    "text": "we can go ahead and commit that we'll be good to go",
    "start": "1830960",
    "end": "1837840"
  },
  {
    "text": "all right what else do we want to look at oh yes so a really",
    "start": "1839120",
    "end": "1844480"
  },
  {
    "text": "interesting thing is because most editors are set up to work with node modules it some of them may not work",
    "start": "1844480",
    "end": "1850480"
  },
  {
    "text": "properly for certain scenarios uh like for example one that i encountered is prettier",
    "start": "1850480",
    "end": "1856559"
  },
  {
    "text": "if you use prettier in your projects you might notice that um",
    "start": "1856559",
    "end": "1863360"
  },
  {
    "text": "the the extensions don't quite work correctly so there's a easy solution to that that's been designed by the arm",
    "start": "1863360",
    "end": "1870080"
  },
  {
    "text": "team um we can just install the editor sdks",
    "start": "1870080",
    "end": "1876159"
  },
  {
    "text": "so if we take a look here at our migration guide or we'll talk take a look at our editor",
    "start": "1876159",
    "end": "1881679"
  },
  {
    "text": "sdks very simple we're going to say yarn sdks vs code and",
    "start": "1881679",
    "end": "1887440"
  },
  {
    "text": "it's that's going to install the sdks for our favorite editor to make",
    "start": "1887440",
    "end": "1893039"
  },
  {
    "text": "things work oh i'm running",
    "start": "1893039",
    "end": "1899120"
  },
  {
    "text": "this in the wrong place",
    "start": "1899120",
    "end": "1901919"
  },
  {
    "text": "ah here we go first we go ahead and we say",
    "start": "1904240",
    "end": "1912398"
  },
  {
    "text": "all right we're going to download and execute the yarn packages xdks",
    "start": "1913600",
    "end": "1920679"
  },
  {
    "text": "okay and we're going to say darn sdks",
    "start": "1927120",
    "end": "1933440"
  },
  {
    "text": "yes code if that works no i think i'm doing something wrong",
    "start": "1933440",
    "end": "1939039"
  },
  {
    "text": "what am i messing up here i did this just recently",
    "start": "1939039",
    "end": "1945200"
  },
  {
    "text": "if we do this one",
    "start": "1947519",
    "end": "1951039"
  },
  {
    "text": "what am i missing here something silly",
    "start": "1957120",
    "end": "1962840"
  },
  {
    "text": "so ah yes okay that's what we provide i was copying the wrong code essentially",
    "start": "1965120",
    "end": "1971679"
  },
  {
    "text": "as we pre done run yarn dlx which i as i said were",
    "start": "1971679",
    "end": "1976720"
  },
  {
    "text": "the is the npx equivalent now we can see that we've made some",
    "start": "1976720",
    "end": "1982240"
  },
  {
    "text": "changes here to our vs code extensions.json these are both in that dot vs code",
    "start": "1982240",
    "end": "1988720"
  },
  {
    "text": "folder so this is going to install this zip via zip fs",
    "start": "1988720",
    "end": "1994159"
  },
  {
    "text": "and a couple others you can see i've installed this vs code integration into",
    "start": "1994159",
    "end": "1999679"
  },
  {
    "text": "the project itself so that and it's going to pro so these things are going to prompt other users of the project to",
    "start": "1999679",
    "end": "2005840"
  },
  {
    "text": "go ahead and install these packages to make their life easier so",
    "start": "2005840",
    "end": "2011840"
  },
  {
    "text": "this is all just set up to make it easier to manage the project",
    "start": "2011840",
    "end": "2017360"
  },
  {
    "text": "because these this ide expects you to have a",
    "start": "2017360",
    "end": "2024480"
  },
  {
    "text": "node modules folder which we've already discussed some of the problems inheriting that",
    "start": "2024480",
    "end": "2030720"
  },
  {
    "text": "so installed the vs code sdk one of the things that we can look at now is for example we can",
    "start": "2030720",
    "end": "2038320"
  },
  {
    "text": "dive into some of these",
    "start": "2038320",
    "end": "2044159"
  },
  {
    "text": "zip files in various ways so if you have a listing where it shows you an error you",
    "start": "2044159",
    "end": "2050720"
  },
  {
    "text": "can actually dive into that zip file and it will allow you to access it which i think is is pretty darn cool",
    "start": "2050720",
    "end": "2058720"
  },
  {
    "text": "um i also want to show off if we take a look here at this yarn explain",
    "start": "2059520",
    "end": "2066878"
  },
  {
    "text": "it'll tell you exactly what's going on in each step of the process so this user code is used to log regular",
    "start": "2066879",
    "end": "2073118"
  },
  {
    "text": "messages mostly to align all the lines you'll see all these lines are similarly aligned",
    "start": "2073119",
    "end": "2078960"
  },
  {
    "text": "just really easy to read and those brackets make it super simple to know what's going on there we can actually",
    "start": "2078960",
    "end": "2084398"
  },
  {
    "text": "scroll up a bit and see some other ones for example this one and it will tell us",
    "start": "2084399",
    "end": "2090398"
  },
  {
    "text": "what is going on in that step missing peer dependency so it's giving",
    "start": "2090399",
    "end": "2096240"
  },
  {
    "text": "us a warning hey there's something wrong with your project if this project has a pure dependency and uh",
    "start": "2096240",
    "end": "2103680"
  },
  {
    "text": "it's not being fulfilled we can also do things like yarn y",
    "start": "2103680",
    "end": "2109839"
  },
  {
    "text": "we can ask it to tell us why it's using a specific package if it is",
    "start": "2109839",
    "end": "2116400"
  },
  {
    "text": "and this tells us hey so lowdash is being imported by all these packages at these versions and that's why uh",
    "start": "2116400",
    "end": "2123760"
  },
  {
    "text": "you've you're seeing it installed it's a really nice feature",
    "start": "2123760",
    "end": "2129680"
  },
  {
    "text": "so at this point we've migrate switched our app to yarnberry we've measured it to",
    "start": "2129680",
    "end": "2135520"
  },
  {
    "text": "plug and play everything is working great",
    "start": "2135520",
    "end": "2139680"
  },
  {
    "text": "and we've installed our editor support you'll see there's basically no node modules folder that is actually some",
    "start": "2141119",
    "end": "2147359"
  },
  {
    "text": "file there are is a small one here because those files aren't added by our package manager",
    "start": "2147359",
    "end": "2152960"
  },
  {
    "text": "and then um we're using note yarn to call everything so",
    "start": "2152960",
    "end": "2158960"
  },
  {
    "text": "in other some cases you may need to use package extensions which is another scenario where your package which is",
    "start": "2158960",
    "end": "2165760"
  },
  {
    "text": "using a scenario where your package is depending on something that it doesn't specify and we just kind of have to",
    "start": "2165760",
    "end": "2172880"
  },
  {
    "text": "paper over that for that package until they get that fixed in their code",
    "start": "2172880",
    "end": "2180160"
  },
  {
    "text": "all right questions about the demo",
    "start": "2180960",
    "end": "2187320"
  },
  {
    "text": "cool we'll jump back into a little bit more",
    "start": "2189680",
    "end": "2194960"
  },
  {
    "text": "discussion and then i'll let you all get to the party because i know that's what you're really excited about",
    "start": "2194960",
    "end": "2201720"
  },
  {
    "text": "cool so the question becomes should you use yarnberry and the first thing that i'd say is yeah if",
    "start": "2211760",
    "end": "2217359"
  },
  {
    "text": "you are using yarn if you like yarn definitely consider you should",
    "start": "2217359",
    "end": "2223200"
  },
  {
    "text": "strongly consider upgrading yarnberry yarnberry is the currently maintained branch it is going to be",
    "start": "2223200",
    "end": "2230560"
  },
  {
    "text": "continually improved and developed upon and you'll see the best performance and",
    "start": "2230560",
    "end": "2237599"
  },
  {
    "text": "the best characteristics that said the next question becomes should you use plug and play now",
    "start": "2237599",
    "end": "2244880"
  },
  {
    "text": "you should go ahead and try it at the very least and see if it works for your scenario without any problems",
    "start": "2244880",
    "end": "2251280"
  },
  {
    "text": "i have definitely encountered errors like you saw there that where",
    "start": "2251280",
    "end": "2257040"
  },
  {
    "text": "something isn't working quite right but i have usually been able to get through those errors without many",
    "start": "2257040",
    "end": "2262720"
  },
  {
    "text": "problems and if i did it did i could file an issue or talk about it in the r discord and be able to solve that",
    "start": "2262720",
    "end": "2270800"
  },
  {
    "text": "it makes your life really easy in a lot of ways where you don't have to continually worry about blowing away",
    "start": "2270800",
    "end": "2277040"
  },
  {
    "text": "your node modules or caching them in your in your cli sorry your ci workflow",
    "start": "2277040",
    "end": "2283760"
  },
  {
    "text": "you can simply have your ci download your thing maybe run a yarn",
    "start": "2283760",
    "end": "2289680"
  },
  {
    "text": "install if you need to but it will only take a second and then go get right to work so there's those",
    "start": "2289680",
    "end": "2295680"
  },
  {
    "text": "cat packages are already included into your files you should also consider",
    "start": "2295680",
    "end": "2301040"
  },
  {
    "text": "adding that yarn cache folder to the",
    "start": "2301040",
    "end": "2306400"
  },
  {
    "text": "even if you're using the node modules because yarn will grab onto that and install those packages almost instantly",
    "start": "2306880",
    "end": "2314160"
  },
  {
    "text": "so i do like to talk about what makes yarn different because npm is",
    "start": "2314160",
    "end": "2319200"
  },
  {
    "text": "really still the default a lot of people are pushing that direction but i do love that yarn is always",
    "start": "2319200",
    "end": "2325280"
  },
  {
    "text": "innovating pushing the boundaries and not just accepting the status quo that's something that i am seeing a lot",
    "start": "2325280",
    "end": "2332480"
  },
  {
    "text": "male the lead maintainer really knows a lot about the package manager ecosystem",
    "start": "2332480",
    "end": "2337839"
  },
  {
    "text": "and is focused on improving things and making things more reliable",
    "start": "2337839",
    "end": "2345040"
  },
  {
    "text": "they also they continue to release a solid fast polished package manager you",
    "start": "2345040",
    "end": "2350240"
  },
  {
    "text": "can see from the the various commands they have and the output that it's really easy to work with and makes",
    "start": "2350240",
    "end": "2356640"
  },
  {
    "text": "in my opinion the developer experience a lot better so obviously i think you should give yarnberry a try",
    "start": "2356640",
    "end": "2363119"
  },
  {
    "text": "it has a lot of great new features and the potential to make building node apps more convenient and more reliable",
    "start": "2363119",
    "end": "2370079"
  },
  {
    "text": "if there is something you don't like in yarn you can help to make it better",
    "start": "2370079",
    "end": "2375200"
  },
  {
    "text": "you can contribute to the project or even build a plug-in now i've contributed a few times myself by opening issues and making updates to the",
    "start": "2375200",
    "end": "2381280"
  },
  {
    "text": "documentation i've always found the main mail and the rest of the team to be helpful and eager",
    "start": "2381280",
    "end": "2386880"
  },
  {
    "text": "to collaborate they release copious documentation and release notes all the",
    "start": "2386880",
    "end": "2392000"
  },
  {
    "text": "time so actually coming up we're coming up on the release of v4 which will change some",
    "start": "2392000",
    "end": "2397359"
  },
  {
    "text": "things to make it easier to migrate which is super cool i want to thank you all so much for",
    "start": "2397359",
    "end": "2403280"
  },
  {
    "text": "attending my talk feel free to reach out to me on social media and let me know what you think of yarnberry and if you have any",
    "start": "2403280",
    "end": "2408800"
  },
  {
    "text": "suggestions on how to improve this i do also want to thank my employer kroger for giving me the flexibility to come",
    "start": "2408800",
    "end": "2414640"
  },
  {
    "text": "all the way here and present to you today cool",
    "start": "2414640",
    "end": "2420880"
  },
  {
    "text": "any questions yeah thank you",
    "start": "2420880",
    "end": "2425318"
  },
  {
    "text": "so if you use the plug-and-play strategy you",
    "start": "2431760",
    "end": "2437280"
  },
  {
    "text": "can avoid using the node modules folder",
    "start": "2437280",
    "end": "2442319"
  },
  {
    "text": "sorry completely",
    "start": "2442319",
    "end": "2446440"
  },
  {
    "text": "uh-huh",
    "start": "2456480",
    "end": "2459480"
  },
  {
    "text": "so that's going to depend on a variety of things but yes if you're using plug and play the",
    "start": "2467040",
    "end": "2472480"
  },
  {
    "text": "link linking process is just writing it that javascript file and if you're using xero",
    "start": "2472480",
    "end": "2478800"
  },
  {
    "text": "installs you're checking in that file anyway so there's nothing real new to create you can literally i've done this",
    "start": "2478800",
    "end": "2486800"
  },
  {
    "text": "down clone the repository and do a yarn start and it runs now if",
    "start": "2486800",
    "end": "2492880"
  },
  {
    "text": "you have packages that need built for that specific architecture it's possible that you'll see that you need to to do",
    "start": "2492880",
    "end": "2498880"
  },
  {
    "text": "to run install for that or those kind of things but in my experience uh a lot of",
    "start": "2498880",
    "end": "2504400"
  },
  {
    "text": "times you can just clone and run",
    "start": "2504400",
    "end": "2509838"
  },
  {
    "text": "certainly keep go ahead we have plenty of time",
    "start": "2511280",
    "end": "2516200"
  },
  {
    "text": "hmm i appreciate i am",
    "start": "2533920",
    "end": "2540720"
  },
  {
    "text": "no that's great excellent point so there is a specific command for that there's a yarn install",
    "start": "2541440",
    "end": "2548240"
  },
  {
    "text": "verify cache and that will check your entire cache and compare the checksums",
    "start": "2548240",
    "end": "2554640"
  },
  {
    "text": "for each of those to the canonical version and so",
    "start": "2554640",
    "end": "2560160"
  },
  {
    "text": "they strongly recommend using that anytime that you're receiving prs from an untrusted person",
    "start": "2560160",
    "end": "2566079"
  },
  {
    "text": "so if it's if it's a maintainer or something you know you're trusting them anyway as",
    "start": "2566079",
    "end": "2571599"
  },
  {
    "text": "a general rule and so you can usually accept their changes to the cache files but in",
    "start": "2571599",
    "end": "2577359"
  },
  {
    "text": "the case of a you know new committer or something like that if they're making changes adding packages that kind of",
    "start": "2577359",
    "end": "2583359"
  },
  {
    "text": "thing um you definitely want part of your workflow to be that verify cache now",
    "start": "2583359",
    "end": "2588640"
  },
  {
    "text": "in a company you're gonna you know you're kind of implicitly trusting them",
    "start": "2588640",
    "end": "2594160"
  },
  {
    "text": "to start um but it's probably not a bad thing to run on occasion as well",
    "start": "2594160",
    "end": "2600078"
  },
  {
    "text": "say that one more time yeah so running the verify caches means",
    "start": "2603440",
    "end": "2609280"
  },
  {
    "text": "that you are downloading those files again so that you can actually check the checksums of those files",
    "start": "2609280",
    "end": "2617040"
  },
  {
    "text": "yarn will on every install is checking those file checksums",
    "start": "2617040",
    "end": "2623839"
  },
  {
    "text": "so if something does get corrupted you'll know about that if a malicious actor were involved",
    "start": "2623839",
    "end": "2631040"
  },
  {
    "text": "though they could as they were adding the package just use the checksum from their package",
    "start": "2631040",
    "end": "2636880"
  },
  {
    "text": "right and then it would uh be in that cache you know if you didn't verify the",
    "start": "2636880",
    "end": "2642480"
  },
  {
    "text": "cache you wouldn't detect that because",
    "start": "2642480",
    "end": "2647680"
  },
  {
    "text": "the standard install package is all process is if you have that package cache it's just going to use it",
    "start": "2647680",
    "end": "2654800"
  },
  {
    "text": "which makes a lot of sense it's super fast that way",
    "start": "2654800",
    "end": "2659880"
  },
  {
    "text": "i think there's a certainly yeah so",
    "start": "2665760",
    "end": "2671200"
  },
  {
    "text": "i definitely get it um so there's a few things your ci gets a lot quicker for one thing",
    "start": "2671200",
    "end": "2678079"
  },
  {
    "text": "you don't have to worry about downloading that um the can you know because ci processes",
    "start": "2678079",
    "end": "2683920"
  },
  {
    "text": "will cache your node modules etc but a lot of times",
    "start": "2683920",
    "end": "2689520"
  },
  {
    "text": "that's not perfect or the cash goes away or because of changes it upgrades and",
    "start": "2689520",
    "end": "2694560"
  },
  {
    "text": "stuff you know it's not the cash doesn't really match um so in that way there's performance",
    "start": "2694560",
    "end": "2701119"
  },
  {
    "text": "also if there's a reliability aspect so whether you're using npm or you're using",
    "start": "2701119",
    "end": "2707200"
  },
  {
    "text": "a locally hosted version of npm that you're proxying through or something like that",
    "start": "2707200",
    "end": "2714960"
  },
  {
    "text": "you're relying on that as part of your build process so this by checking in that cache now you're",
    "start": "2715119",
    "end": "2721680"
  },
  {
    "text": "removing a point of failure in that process um also",
    "start": "2721680",
    "end": "2728640"
  },
  {
    "text": "you um for instance in in workflow like switching between branches i've",
    "start": "2728640",
    "end": "2734720"
  },
  {
    "text": "encountered this a lot where i'll switch branches and then i discovered oh i forgot to run",
    "start": "2734720",
    "end": "2740720"
  },
  {
    "text": "uh you know an install or i discover i really have to delete my node modules as",
    "start": "2740720",
    "end": "2746079"
  },
  {
    "text": "a result because something's just not right and and yarn or npm just can't get it right when it's using that uh",
    "start": "2746079",
    "end": "2754000"
  },
  {
    "text": "when the node modules are messed up like that and so you your rim raft node modules and you keep on working but that takes you a",
    "start": "2754000",
    "end": "2761119"
  },
  {
    "text": "while so with checking in that cache you know especially if you're using plug and play where that yarn install is",
    "start": "2761119",
    "end": "2768640"
  },
  {
    "text": "almost instant does that answer your question about why",
    "start": "2768640",
    "end": "2774400"
  },
  {
    "text": "to check in the cash so and and like i said that is controversial it is definitely not something you have to do but",
    "start": "2774400",
    "end": "2781119"
  },
  {
    "text": "if if you have particularly if you have a small project it's worth giving it a try um",
    "start": "2781119",
    "end": "2786240"
  },
  {
    "text": "we found it to work right really well in our workflow and just we removed the yarn install from the from the ci",
    "start": "2786240",
    "end": "2791760"
  },
  {
    "text": "process and just go about our business",
    "start": "2791760",
    "end": "2795760"
  },
  {
    "text": "so the as you can see the file sizes are a lot smaller and um",
    "start": "2800319",
    "end": "2805839"
  },
  {
    "text": "you know it's comparatively let's take a look at that and take a look at that output here",
    "start": "2805839",
    "end": "2811680"
  },
  {
    "text": "if you like so okay i'm still extending we'll bring",
    "start": "2811680",
    "end": "2820079"
  },
  {
    "text": "that back okay so",
    "start": "2820079",
    "end": "2826480"
  },
  {
    "text": "go up here a little bit actually we'll just run them again how about that so will you do it just usage on the yarn",
    "start": "2826480",
    "end": "2832079"
  },
  {
    "text": "cache so in that case it's it's only 40 mags which is not",
    "start": "2832079",
    "end": "2837280"
  },
  {
    "text": "tiny but it's also not huge compared to a lot of files that we deal with these days and then we check into source",
    "start": "2837280",
    "end": "2842640"
  },
  {
    "text": "control i mean we'll check in image files even videos sometimes i've seen checked into a get repository and",
    "start": "2842640",
    "end": "2850160"
  },
  {
    "text": "you know you take depending on the size of your photos maybe 4",
    "start": "2850160",
    "end": "2855920"
  },
  {
    "text": "photos or 10 photos something like that in size and it is a decent amount of",
    "start": "2855920",
    "end": "2862160"
  },
  {
    "text": "files but definitely not an abnormal an outrageous amount",
    "start": "2862160",
    "end": "2868240"
  },
  {
    "text": "so if we look at file account on that cache 1200 files okay it's a few but",
    "start": "2868240",
    "end": "2874400"
  },
  {
    "text": "i've seen code repositories with a hundred thousand files um you know and then so",
    "start": "2874400",
    "end": "2881599"
  },
  {
    "text": "adding you know a thousand to it is not to be overloading for git i haven't",
    "start": "2881599",
    "end": "2887599"
  },
  {
    "text": "encountered any problems myself the yarn repository actually uses this if you go into github right now and you look at",
    "start": "2887599",
    "end": "2894400"
  },
  {
    "text": "yarnberry we'll go right here",
    "start": "2894400",
    "end": "2899960"
  },
  {
    "text": "you'll see that they have their yarn folder and then they've got a cache folder",
    "start": "2900319",
    "end": "2907280"
  },
  {
    "text": "and right there is all the packages that that that yarn itself depends on",
    "start": "2907839",
    "end": "2912960"
  },
  {
    "text": "for building and maintaining that kind of thing so um there was a i'm not sure if it's",
    "start": "2912960",
    "end": "2919839"
  },
  {
    "text": "mentioned in the documentation but i did see a note at one point that",
    "start": "2919839",
    "end": "2925040"
  },
  {
    "text": "uh the maintainer mail he actually reached out to github and was like hey is this gonna be a problem and they're",
    "start": "2925040",
    "end": "2930559"
  },
  {
    "text": "like yeah no you're fine not a big deal so i think uh",
    "start": "2930559",
    "end": "2936079"
  },
  {
    "text": "that's a a pretty ringing endorsement generally",
    "start": "2936079",
    "end": "2941240"
  },
  {
    "text": "so yes i actually implemented at one point at an old job uh you know deleting",
    "start": "2942000",
    "end": "2947440"
  },
  {
    "text": "all the packages that we checked into source control and then running that restore as part of the",
    "start": "2947440",
    "end": "2953680"
  },
  {
    "text": "cicd process and there's a few differences in that these",
    "start": "2953680",
    "end": "2959839"
  },
  {
    "text": "files those weren't zipped for example these are actually zipped files so they're compressed and",
    "start": "2959839",
    "end": "2967920"
  },
  {
    "text": "you know there's just a single file per package",
    "start": "2967920",
    "end": "2972880"
  },
  {
    "text": "any other questions i love questions good stuff thank you",
    "start": "2977839",
    "end": "2985000"
  },
  {
    "text": "well who uses this yarn today anybody all right cool all right do you also use mpm or just",
    "start": "2986240",
    "end": "2993040"
  },
  {
    "text": "primarily yarn okay great it works well pretty pretty",
    "start": "2993040",
    "end": "2999200"
  },
  {
    "text": "well for you overall all right",
    "start": "2999200",
    "end": "3005000"
  },
  {
    "text": "mhm",
    "start": "3017359",
    "end": "3020359"
  },
  {
    "text": "so i'd say performance reliability repeatability so",
    "start": "3028319",
    "end": "3033599"
  },
  {
    "text": "you're remove you know so you're no longer continually reaching out to the package repository nearly as",
    "start": "3033599",
    "end": "3040640"
  },
  {
    "text": "much if you're checking in your cache um and and",
    "start": "3040640",
    "end": "3045760"
  },
  {
    "text": "you um are not you don't have this massive file structure that",
    "start": "3045760",
    "end": "3052400"
  },
  {
    "text": "always seems to cause problems and so that reliability is there um",
    "start": "3052400",
    "end": "3059119"
  },
  {
    "text": "you know i'm not sure i think this is really interesting i think it's groundbreaking and and i i've definitely",
    "start": "3061119",
    "end": "3068400"
  },
  {
    "text": "seen adoption come along for this um because a couple years ago it was",
    "start": "3068400",
    "end": "3075040"
  },
  {
    "text": "a big deal and but the the the ecosystem keeps moving forward and",
    "start": "3075040",
    "end": "3080240"
  },
  {
    "text": "more things are adopting this you know you'll see that they continually run",
    "start": "3080240",
    "end": "3087200"
  },
  {
    "text": "end-to-end tests against a lot of common uh projects to make sure that they",
    "start": "3087520",
    "end": "3093359"
  },
  {
    "text": "he continues working with plug and play so",
    "start": "3093359",
    "end": "3097839"
  },
  {
    "text": "i think that this could also be applied to other ecosystems as well yarn is actually",
    "start": "3100079",
    "end": "3106559"
  },
  {
    "text": "designed in a way that it could work for other um programming languages besides node um",
    "start": "3106559",
    "end": "3113760"
  },
  {
    "text": "but obviously the primary focus is node",
    "start": "3113760",
    "end": "3118480"
  },
  {
    "text": "so it's something to try out at the very least it's a very minimal",
    "start": "3121760",
    "end": "3127119"
  },
  {
    "text": "cost frankly just upgrading to yarnberry without considering plug-and-play at all",
    "start": "3127119",
    "end": "3134240"
  },
  {
    "text": "is not you know doesn't make your life harder really in any way you get to use all the new",
    "start": "3134240",
    "end": "3140240"
  },
  {
    "text": "features and a lot of you know you can check in that cache if you'd like or not um or you can",
    "start": "3140240",
    "end": "3147040"
  },
  {
    "text": "still prefer to use global cache there's there's options to do whatever you like there um and it's gonna you're gonna be",
    "start": "3147040",
    "end": "3153599"
  },
  {
    "text": "able to use all the new features with yarn workspaces and uh i think the output is actually super helpful the way",
    "start": "3153599",
    "end": "3161359"
  },
  {
    "text": "that yarn uh structures that and tells you what's going on",
    "start": "3161359",
    "end": "3167720"
  },
  {
    "text": "so the if if you also if you have not",
    "start": "3167920",
    "end": "3173920"
  },
  {
    "text": "used um the version pinning thing even if you decide to stay on the",
    "start": "3173920",
    "end": "3179119"
  },
  {
    "text": "classic line definitely least pin your your yarn version i don't know if you've",
    "start": "3179119",
    "end": "3184480"
  },
  {
    "text": "ever encountered the scenario where um somebody makes a chain so he runs yarn and it ends up updating the lock file in",
    "start": "3184480",
    "end": "3191599"
  },
  {
    "text": "strange ways now you've got lock file conflicts if if you embed that",
    "start": "3191599",
    "end": "3198000"
  },
  {
    "text": "version of yarn you just don't have those issues because everyone's running the same version all the time",
    "start": "3198000",
    "end": "3205319"
  },
  {
    "text": "yes so it's it's still yarn.lock you can actually change the name interestingly",
    "start": "3208559",
    "end": "3214880"
  },
  {
    "text": "enough if you really prefer and there's some reasons i've seen people do that",
    "start": "3214880",
    "end": "3221040"
  },
  {
    "text": "i didn't haven't dug into it too much yet but it's uh the format is just",
    "start": "3221040",
    "end": "3226640"
  },
  {
    "text": "slightly changed in the past it was a yaml like file and now it is truly a",
    "start": "3226640",
    "end": "3234000"
  },
  {
    "text": "yaml file so you could parse it with the yaml parser if you'd like",
    "start": "3234000",
    "end": "3240000"
  },
  {
    "text": "but it is a updated version of the",
    "start": "3240000",
    "end": "3245680"
  },
  {
    "text": "log file",
    "start": "3245680",
    "end": "3249000"
  },
  {
    "text": "[Music] you see where it's reaching that three two one 3.2.1",
    "start": "3257340",
    "end": "3263760"
  },
  {
    "text": "yarn version there from the releases",
    "start": "3263760",
    "end": "3268240"
  },
  {
    "text": "that help good awesome",
    "start": "3270079",
    "end": "3275359"
  },
  {
    "text": "anything else anything else you want to talk about we got we got a few minutes here if you want to chat but",
    "start": "3275760",
    "end": "3281359"
  },
  {
    "text": "cool yeah welcome",
    "start": "3281839",
    "end": "3287160"
  },
  {
    "text": "you",
    "start": "3292400",
    "end": "3294480"
  }
]