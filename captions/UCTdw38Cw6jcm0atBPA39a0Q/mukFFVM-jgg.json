[
  {
    "start": "0",
    "end": "77000"
  },
  {
    "text": "thank you for joining me this rather unique experience I'm in the NDC DevOps",
    "start": "4560",
    "end": "11250"
  },
  {
    "text": "Conference of any and I'm staring at an empty room so we all appreciate that the",
    "start": "11250",
    "end": "17250"
  },
  {
    "text": "last 24 hours has been quite a challenging experience so I just want to take a quick minute just to say thank",
    "start": "17250",
    "end": "22500"
  },
  {
    "text": "you so much to the NDC team for doing an amazing job of switching this conference to a fully virtual event the AV team",
    "start": "22500",
    "end": "29400"
  },
  {
    "text": "here have been amazing as well and of course you folks at home who are joining us remotely you know thank you so much",
    "start": "29400",
    "end": "35780"
  },
  {
    "text": "so with that let's crack on so we'll be doing QA using slider so you can see the",
    "start": "35780",
    "end": "43559"
  },
  {
    "text": "details there I've also got the videos on bottom of every slide and I've got the slider window available to me as",
    "start": "43559",
    "end": "48690"
  },
  {
    "text": "well so please do you go and ask questions as we go along and I'll try and answer as much as I can so what",
    "start": "48690",
    "end": "56550"
  },
  {
    "text": "we're going to talk about today so I want to talk about how we provision cloud infrastructure well actually generally infrastructure",
    "start": "56550",
    "end": "63239"
  },
  {
    "text": "in general I want to talk about some of the limitations we have with that",
    "start": "63239",
    "end": "68939"
  },
  {
    "text": "approach we use and then I want to talk about a tool that I found extremely helpful called plumie it's a couple of",
    "start": "68939",
    "end": "76890"
  },
  {
    "text": "caveats I'm going to focus on Asia and net but the principles I'm talking about",
    "start": "76890",
    "end": "82350"
  },
  {
    "start": "77000",
    "end": "77000"
  },
  {
    "text": "apply to everything so it doesn't matter what platform you're using and does matter what language most of what I talk",
    "start": "82350",
    "end": "89070"
  },
  {
    "text": "about is applicable so this talk is inspired by some of the work I do with smaller clients who have to deal with",
    "start": "89070",
    "end": "94890"
  },
  {
    "text": "clarity infrastructure and I did want to also specify that I don't work for plumie I'm in no ways incentivized by",
    "start": "94890",
    "end": "102570"
  },
  {
    "text": "plumie so this is not a sales pitch so Who am I well I'm a freelance as a",
    "start": "102570",
    "end": "108420"
  },
  {
    "text": "consultant I specialize in Azure kubernetes and cloud native technologies",
    "start": "108420",
    "end": "113490"
  },
  {
    "text": "so over the decades over the decade I've been mostly Donaire developer I also",
    "start": "113490",
    "end": "118979"
  },
  {
    "text": "dabble in some other languages I'm an MVP and I also co-organized the meetup",
    "start": "118979",
    "end": "124920"
  },
  {
    "text": "in the UK so Milton Keynes taught net main reason really for this slide is my contact details oops",
    "start": "124920",
    "end": "131100"
  },
  {
    "text": "apologies let's go back as I said I'll try and answer questions and slider as we go along and please do ask questions",
    "start": "131100",
    "end": "137700"
  },
  {
    "text": "on there if I don't get chance to answer your question or you just didn't want to ask ask it on slide I'll do free free to get",
    "start": "137700",
    "end": "144570"
  },
  {
    "text": "in touch with me so when we think about provisioning infrastructure particularly",
    "start": "144570",
    "end": "151290"
  },
  {
    "text": "in the cloud the first option that most people start with is they turn to the portals and the",
    "start": "151290",
    "end": "158010"
  },
  {
    "text": "portals are a great way to get started provisioning resources for a number of reasons firstly they're discoverable so",
    "start": "158010",
    "end": "166500"
  },
  {
    "start": "164000",
    "end": "164000"
  },
  {
    "text": "you can figure out what resources and what options and services that your cloud provider has by visiting the",
    "start": "166500",
    "end": "172140"
  },
  {
    "text": "portal they also give you wizards that allow you to start creating these",
    "start": "172140",
    "end": "177209"
  },
  {
    "text": "resources in a very clean stepwise manner and because they have options within those wizards you can also ensure",
    "start": "177209",
    "end": "183990"
  },
  {
    "text": "that you pick the right options they can filter drop-down lists and they can make sure that you are creating the resource",
    "start": "183990",
    "end": "189330"
  },
  {
    "text": "exactly the way you want without ever selecting anything invalid another reason portals are great is",
    "start": "189330",
    "end": "195510"
  },
  {
    "text": "because some people are generally more comfortable with gooeys now I tend to like the command line but there's",
    "start": "195510",
    "end": "200820"
  },
  {
    "text": "nothing wrong people who like to prefer to use the gooeys now there's a few challenges with the portal the first one",
    "start": "200820",
    "end": "207720"
  },
  {
    "text": "being that it's not easy to repeat what you did consistently so we as humans are",
    "start": "207720",
    "end": "213060"
  },
  {
    "text": "terrible at repeating things especially boring mundane tasks sometimes options",
    "start": "213060",
    "end": "218760"
  },
  {
    "text": "you want in the portal can be buried two or three layers deep and submenus and you have to click through all of those",
    "start": "218760",
    "end": "224550"
  },
  {
    "text": "to get to those options also if you want to provision multiple resources things",
    "start": "224550",
    "end": "229920"
  },
  {
    "text": "can be tricky very because there's only one of you doing the clicking maybe if you're ambidextrous get yourself a",
    "start": "229920",
    "end": "235650"
  },
  {
    "text": "couple of mice and try and do two deployments in parallel but that's about",
    "start": "235650",
    "end": "241290"
  },
  {
    "text": "the best you're going to manage and also you have to figure out the dependency free so if you let's say you're",
    "start": "241290",
    "end": "248430"
  },
  {
    "text": "deploying the website you probably need to deploy a storage account first so you probably need to go and deploy that first and then deploy your website so",
    "start": "248430",
    "end": "256919"
  },
  {
    "text": "it's with these challenges in mind that we've come across this term infrastructures code in the last few years in particular and essentially what",
    "start": "256919",
    "end": "263729"
  },
  {
    "text": "this says is that rather than manually or interactively deploying resources we",
    "start": "263729",
    "end": "268919"
  },
  {
    "text": "use some kind of definition for and of course the first port of call for these is usually the cloud providers so",
    "start": "268919",
    "end": "276669"
  },
  {
    "start": "274000",
    "end": "274000"
  },
  {
    "text": "we have the agile resource manager we have AWS CloudFormation and we have Google deployment manager and of course",
    "start": "276669",
    "end": "282550"
  },
  {
    "text": "I'm sure the cloud provided you use will have the same and again various private cloud offerings also have exactly the",
    "start": "282550",
    "end": "289300"
  },
  {
    "text": "same types of options so let's take a look at a as your resource manager",
    "start": "289300",
    "end": "294879"
  },
  {
    "text": "template now that text is very small but don't worry we'll dive in a bit closer I just want you to get a feel for the size",
    "start": "294879",
    "end": "301360"
  },
  {
    "text": "of the template so let's take a look this a bit closer so here we are we're",
    "start": "301360",
    "end": "307180"
  },
  {
    "text": "setting up some parameters the first option we're setting up a storage account type as a parameter we're saying",
    "start": "307180",
    "end": "314169"
  },
  {
    "text": "it's a string and we're giving it a default value and notice the default value is a very precise string because",
    "start": "314169",
    "end": "321430"
  },
  {
    "text": "when we are using these templates we don't have the benefit of the UI giving us drop-down lists so instead we have to",
    "start": "321430",
    "end": "328479"
  },
  {
    "text": "ensure that people who are using our template can only select the valued values so we can do that and we can see",
    "start": "328479",
    "end": "334990"
  },
  {
    "text": "that we can also provide a list of other options that people can use now as a",
    "start": "334990",
    "end": "340210"
  },
  {
    "text": "template author you need to ensure that you are using the correct strings there you need to ensure that you've checked",
    "start": "340210",
    "end": "345939"
  },
  {
    "text": "with the cloud provider and also if they add any new options you need to ensure they're available in your now",
    "start": "345939",
    "end": "352139"
  },
  {
    "text": "out-of-date list okay so that's one parameter let's take a look at another",
    "start": "352139",
    "end": "357789"
  },
  {
    "text": "one so here we're defining a another screen parameter for the location and",
    "start": "357789",
    "end": "363250"
  },
  {
    "text": "we're setting a default value of something called a resource group and we're taking the location from that now",
    "start": "363250",
    "end": "369520"
  },
  {
    "text": "if you haven't noticed already this template was essentially a JSON file but when we look at that default value line",
    "start": "369520",
    "end": "375810"
  },
  {
    "text": "what we're seeing there isn't what we normally seen Jason Falls we're seeing what looks like a function and that's",
    "start": "375810",
    "end": "382000"
  },
  {
    "text": "the first clue really to where some of the challenges line using these templating languages ok so we've got our",
    "start": "382000",
    "end": "388979"
  },
  {
    "text": "parameters we can also create variables so here what we're doing is we're concatenating a string called store with",
    "start": "388979",
    "end": "396639"
  },
  {
    "text": "another string that we're deriving from some kind of function of an ID but again we're now starting to see these unique",
    "start": "396639",
    "end": "404039"
  },
  {
    "text": "languages syntax that we're seeing that's built into what is essentially a screen value",
    "start": "404039",
    "end": "410550"
  },
  {
    "text": "once we have that we can now go ahead and provision our resources so here",
    "start": "410550",
    "end": "415569"
  },
  {
    "text": "we're creating a storage account and you'll notice that what we're doing is we're taking those variables for the",
    "start": "415569",
    "end": "421509"
  },
  {
    "text": "storage account name and we're taking the location and we're also adding that the SKU we were picking the value that",
    "start": "421509",
    "end": "428409"
  },
  {
    "text": "somebody would have chosen from that drop-down list oh it's not a drop-down list but a list of options and also once",
    "start": "428409",
    "end": "436270"
  },
  {
    "text": "we've created this we can also output certain values because what we want to do is potentially pass values from",
    "start": "436270",
    "end": "443319"
  },
  {
    "text": "provisioned resources into other tools in our tool chain so once we have this",
    "start": "443319",
    "end": "449110"
  },
  {
    "text": "template what we can do is we can now go and execute we have a number of options here but in this example we're going to",
    "start": "449110",
    "end": "455559"
  },
  {
    "text": "use the agency Ally are we going to do a Zed group deployment create and we're going to pass in the template and the",
    "start": "455559",
    "end": "463029"
  },
  {
    "text": "nice thing with this line is this is automatable there's nothing special in this line everything we need to create",
    "start": "463029",
    "end": "468819"
  },
  {
    "text": "the resource is described within the template file so that's great so we look",
    "start": "468819",
    "end": "475270"
  },
  {
    "start": "475000",
    "end": "475000"
  },
  {
    "text": "at some of these pros we can automate these and that's precisely what we want because automation will give us",
    "start": "475270",
    "end": "480639"
  },
  {
    "text": "consistency and of course it stops the human hand to do the boring things",
    "start": "480639",
    "end": "486249"
  },
  {
    "text": "there can be identity so what this means is when we deploy the resource once if we don't change anything and we deploy a",
    "start": "486249",
    "end": "492339"
  },
  {
    "text": "second time nothing changes we don't create a second instance of everything they're declarative so you notice in",
    "start": "492339",
    "end": "499990"
  },
  {
    "text": "that markup file we described the state we wanted we didn't describe how we",
    "start": "499990",
    "end": "505089"
  },
  {
    "text": "achieve this so we didn't say first make this then make this then make this and join them together we just said I want",
    "start": "505089",
    "end": "510729"
  },
  {
    "text": "this and that's exactly what you want because the underlying mechanism of how those things are created can change and",
    "start": "510729",
    "end": "516880"
  },
  {
    "text": "you don't care and of course as you've seen now it's very easy to recreate multiple resources because we have the",
    "start": "516880",
    "end": "523870"
  },
  {
    "text": "template we can execute that with different parameters every time and we get more and more resources and largely",
    "start": "523870",
    "end": "531730"
  },
  {
    "text": "the resource dependency is resolved for us so we've told as a resource manager we want a storage account and maybe some",
    "start": "531730",
    "end": "538720"
  },
  {
    "text": "other things and it figure out that we need to create the dependencies first and then the storage you can there are some downsides to",
    "start": "538720",
    "end": "547000"
  },
  {
    "start": "547000",
    "end": "547000"
  },
  {
    "text": "cloud templating and we'll spend a bit longer on these in a few minutes as well first things they're verbose you saw",
    "start": "547000",
    "end": "554740"
  },
  {
    "text": "that for creating essentially a single resource we had a whole page of Jason",
    "start": "554740",
    "end": "559980"
  },
  {
    "text": "you also saw that even though it was Jason there was some very domain-specific syntax in there so we'd",
    "start": "559980",
    "end": "566050"
  },
  {
    "text": "have to learn this particular syntax now if we're only using one cloud provider maybe that's acceptable if you're using",
    "start": "566050",
    "end": "574000"
  },
  {
    "text": "multiple cloud providers that may not be such a great option of course if it's not something you do day in day out then",
    "start": "574000",
    "end": "581350"
  },
  {
    "text": "remembering that syntax may also be a challenge the other the other issue is",
    "start": "581350",
    "end": "587920"
  },
  {
    "text": "that the azure resource manager is closed source if you wanted to implement some specific functionality you can't",
    "start": "587920",
    "end": "594370"
  },
  {
    "text": "just contribute a patch or something so try and tackle some of these issues",
    "start": "594370",
    "end": "600480"
  },
  {
    "text": "people often turn to a tool typically terraform is one of the most well known",
    "start": "600480",
    "end": "605500"
  },
  {
    "text": "tools so the terraform is corrected by hoshi cope and it uses its own markup language called HCL the key difference",
    "start": "605500",
    "end": "612940"
  },
  {
    "text": "with terraform is you can use the same language the same syntax but target multiple clouds or multiple platforms",
    "start": "612940",
    "end": "620130"
  },
  {
    "text": "it's open source so if you want to modify or add additional functionality",
    "start": "620130",
    "end": "625390"
  },
  {
    "text": "you can submit a pull request and hopefully that gets merged in and you have the new functionality it's raining",
    "start": "625390",
    "end": "631480"
  },
  {
    "text": "go which is a modern cloud native language that lots of people are turning to you so the performance is pretty good",
    "start": "631480",
    "end": "636730"
  },
  {
    "text": "as well of course it depends on the underlying cloud provider as to whether you get exactly what you expect so let's",
    "start": "636730",
    "end": "644740"
  },
  {
    "text": "take a look at a resource manager sorry a terraform template here we're looking",
    "start": "644740",
    "end": "652750"
  },
  {
    "text": "at terraform template which is creating a resource group and then a storage account and what we can see is we are",
    "start": "652750",
    "end": "662470"
  },
  {
    "text": "referencing that resource group we Pro created earlier and we are pulling out the name and the location from that so",
    "start": "662470",
    "end": "669010"
  },
  {
    "text": "we're saying resource group example the name and example location so this allows us to create a",
    "start": "669010",
    "end": "677250"
  },
  {
    "text": "nice template which will have the dependencies referenced similar to we had with the arm templates as well so",
    "start": "677250",
    "end": "686460"
  },
  {
    "text": "there are some downsides with terraform so again it's another special language and it's a language that only works with",
    "start": "686460",
    "end": "692430"
  },
  {
    "start": "687000",
    "end": "687000"
  },
  {
    "text": "terraform as I said terraform is is better in the sense that you can a lot",
    "start": "692430",
    "end": "697950"
  },
  {
    "text": "of the syntax you learn a lot of the functions the special concatenation functions and everything else will now be applicable across multiple platforms",
    "start": "697950",
    "end": "703950"
  },
  {
    "text": "and of course as you've seen the template is is more more concise in my",
    "start": "703950",
    "end": "710100"
  },
  {
    "text": "opinion terraform and many tools like terraform will have a problem in the",
    "start": "710100",
    "end": "715830"
  },
  {
    "text": "sense that they will always lag behind the cloud provider so every time a new functionality or new feature is is added",
    "start": "715830",
    "end": "722070"
  },
  {
    "text": "to the cloud there's inevitably going to be a degree of lag until a feature is implemented in in the tool now of course",
    "start": "722070",
    "end": "730350"
  },
  {
    "text": "being open-source if there's something you want desperately urgently cause open",
    "start": "730350",
    "end": "735690"
  },
  {
    "text": "an issue grab pull request and hopefully you'll have that functionality as quick as you can write it tariff room also has",
    "start": "735690",
    "end": "742560"
  },
  {
    "text": "to deal with state and state managing me management can be an issue in particular",
    "start": "742560",
    "end": "747810"
  },
  {
    "text": "if you're not careful you can have sensitive information appearing in some state files which are stored outside of",
    "start": "747810",
    "end": "754050"
  },
  {
    "text": "maybe your normal secrets management",
    "start": "754050",
    "end": "759140"
  },
  {
    "text": "what if you have more complex deployment scenarios so typically and I'll show an",
    "start": "759800",
    "end": "765210"
  },
  {
    "start": "762000",
    "end": "762000"
  },
  {
    "text": "example of this later we have to do things like conditional logic so we have to deploy resources based on a parameter",
    "start": "765210",
    "end": "773250"
  },
  {
    "text": "for example for example we may need to have loops we may want to have numerous",
    "start": "773250",
    "end": "779910"
  },
  {
    "text": "resources provision in a loop of some kind and we may need to invoke third-party code and all of these are",
    "start": "779910",
    "end": "787260"
  },
  {
    "text": "possible with arm templates and terraform but they introduce a syntax",
    "start": "787260",
    "end": "792330"
  },
  {
    "text": "which is maybe not the most understandable so let's take a look an arm template which is doing conditional",
    "start": "792330",
    "end": "798870"
  },
  {
    "text": "logic so here we've got a parameter called production is type string and",
    "start": "798870",
    "end": "804860"
  },
  {
    "text": "we've said it can be yes and now we're deploying the website and",
    "start": "804860",
    "end": "811260"
  },
  {
    "text": "we're using a condition element sorry I'll just click through that condition",
    "start": "811260",
    "end": "817170"
  },
  {
    "text": "element and we're saying if this condition if the parameter production is equal to yes then the condition is true",
    "start": "817170",
    "end": "824310"
  },
  {
    "text": "and the resource will get deployed obviously if that's not yes then you won't get deployed we look at this and",
    "start": "824310",
    "end": "832200"
  },
  {
    "text": "you'll say well is that yes and no is that case sensitive I'm not sure if you",
    "start": "832200",
    "end": "838170"
  },
  {
    "text": "work with arm day-in day-out you'll know this off the back of you back of your hand and that's fantastic but if you don't then you have to go",
    "start": "838170",
    "end": "845580"
  },
  {
    "text": "back and look at the documentation remind yourself and it's easy to make lots of mistakes like this so let's take",
    "start": "845580",
    "end": "852900"
  },
  {
    "text": "a look at the equivalent example using Terfel so now Tara forms got a variable",
    "start": "852900",
    "end": "858510"
  },
  {
    "text": "called his prod it's a boolean type and now what we're doing is in our resource",
    "start": "858510",
    "end": "865250"
  },
  {
    "text": "we say if the if the boolean is true",
    "start": "865250",
    "end": "871080"
  },
  {
    "text": "then it equates to 1 otherwise it's zero so it's a ternary expression here and that value is set as a count so what's",
    "start": "871080",
    "end": "879810"
  },
  {
    "text": "happening here is if if it's not prod we get back a zero so the count is 0 and terraform won't deploy the resource",
    "start": "879810",
    "end": "886200"
  },
  {
    "text": "because the count is zero so you can see this is this is a little bit of a hack really but maybe it's a bit easier to",
    "start": "886200",
    "end": "893310"
  },
  {
    "text": "understand let's have a look at loops so we're back to arm again we have an array",
    "start": "893310",
    "end": "900840"
  },
  {
    "text": "and it says production or development and now what we want to do is we want to",
    "start": "900840",
    "end": "905970"
  },
  {
    "text": "loop over this array and we want to provision resources it's what we're doing here is we're collecting the name",
    "start": "905970",
    "end": "913050"
  },
  {
    "text": "of the resource by concatenating my app with the array and then we're indexing",
    "start": "913050",
    "end": "919710"
  },
  {
    "text": "into the array based on the loop we're currently in and then further down we have a copy element are essentially",
    "start": "919710",
    "end": "927090"
  },
  {
    "text": "telling the resource manager to copy this resource any number of times which",
    "start": "927090",
    "end": "933330"
  },
  {
    "text": "is the length of the purpose array",
    "start": "933330",
    "end": "937430"
  },
  {
    "text": "I've been speaking for two days and I have a bit of a cough so please don't panic everyone I'm plus for your you",
    "start": "938730",
    "end": "945070"
  },
  {
    "text": "know many miles apart now so we should be fine let's take a look at the",
    "start": "945070",
    "end": "953589"
  },
  {
    "text": "equivalent so how we do loops in terraform so now we have a variable it's",
    "start": "953589",
    "end": "959230"
  },
  {
    "text": "a type list and we have dev staging and prod so now what we're doing is we're",
    "start": "959230",
    "end": "966040"
  },
  {
    "text": "doing a count again and we're doing the length of the array and we're just picking the name out from",
    "start": "966040",
    "end": "971560"
  },
  {
    "text": "the index of that Neroni so as I said these things are achievable",
    "start": "971560",
    "end": "976839"
  },
  {
    "text": "in terraform and arm but if you don't work with our Foreman arm on a daily",
    "start": "976839",
    "end": "981910"
  },
  {
    "text": "basis they are not the easiest things to understand so we come back to that",
    "start": "981910",
    "end": "987100"
  },
  {
    "text": "statement about infrastructure as code and one word stands out to me more than",
    "start": "987100",
    "end": "992110"
  },
  {
    "text": "any other which is the code so I'm a developer this talk is pretty biased",
    "start": "992110",
    "end": "997990"
  },
  {
    "text": "towards developer perspective in my opinion and when I look at code I expect",
    "start": "997990",
    "end": "1004440"
  },
  {
    "text": "to see modern programming languages I expect to see constructs I'm familiar with conditional blocks loops boolean",
    "start": "1004440",
    "end": "1011190"
  },
  {
    "text": "statements that are recognizable what I really see is arm and the equivalent in",
    "start": "1011190",
    "end": "1019380"
  },
  {
    "text": "terraform soaring terraform and in cloud formation and Google is essentially markup languages which have had these",
    "start": "1019380",
    "end": "1026520"
  },
  {
    "text": "programming constructs shoehorn into them so instead of in fresh Air's code",
    "start": "1026520",
    "end": "1033089"
  },
  {
    "text": "what about infrastructure software so it's not - excuse me it's not a term",
    "start": "1033089",
    "end": "1041010"
  },
  {
    "text": "I've come up with but it's the time they're starting to gain a bit of traction so in particular there's a tool that",
    "start": "1041010",
    "end": "1047159"
  },
  {
    "text": "I've been starting to use called plumie so plumies an open source tool and it's",
    "start": "1047159",
    "end": "1054090"
  },
  {
    "text": "used for provisioning resources and the key difference with plumie is it uses modern programming languages so it",
    "start": "1054090",
    "end": "1060570"
  },
  {
    "text": "sports many platforms and although the code you will see looks like a declarative code it's not it is it's",
    "start": "1060570",
    "end": "1071299"
  },
  {
    "text": "yes exactly the same as the arm templates it's the desired state so I said it's open source it's free there is",
    "start": "1071299",
    "end": "1078980"
  },
  {
    "text": "one component within plumie which isn't free but as I'll talk about later this is in no way hampers your usage of glue",
    "start": "1078980",
    "end": "1085730"
  },
  {
    "text": "me if you want to get started with it so plume eSports node - don't Niko and go at the moment",
    "start": "1085730",
    "end": "1094210"
  },
  {
    "start": "1089000",
    "end": "1089000"
  },
  {
    "text": "don't Niko and go are currently in preview I believe that do you - maybe go",
    "start": "1094210",
    "end": "1099679"
  },
  {
    "text": "GA in within about a month or so now the model is open and we'll discuss the",
    "start": "1099679",
    "end": "1104809"
  },
  {
    "text": "model in in a few minutes so if there's a language you like and you want to implement it you can go ahead and implement our language to tie",
    "start": "1104809",
    "end": "1111679"
  },
  {
    "text": "in typically me terms of platforms plumie sports a number of platforms you",
    "start": "1111679",
    "end": "1118429"
  },
  {
    "start": "1115000",
    "end": "1115000"
  },
  {
    "text": "can see the main cloud providers are there we can see some infrastructure providers compared to terraform plumie",
    "start": "1118429",
    "end": "1125450"
  },
  {
    "text": "doesn't support anywhere near the same number of platforms but there's a decent amount here and once again the model is",
    "start": "1125450",
    "end": "1131480"
  },
  {
    "text": "open much like terraform is if you want to support a new platform you can implement and provider yourself and have",
    "start": "1131480",
    "end": "1138320"
  },
  {
    "text": "support now one half time today to discuss it but if you've known if you've followed",
    "start": "1138320",
    "end": "1143600"
  },
  {
    "text": "my my talks you know that every other talk I've given our conference has always mentioned kubernetes in some way",
    "start": "1143600",
    "end": "1149539"
  },
  {
    "text": "form or fashion so you'll notice that one of the core providers here is kubernetes so just to tease you imagine",
    "start": "1149539",
    "end": "1157549"
  },
  {
    "text": "the concept of using kubernetes and configuring kubernetes without having to write a line of yama that sounds quite",
    "start": "1157549",
    "end": "1164179"
  },
  {
    "text": "interesting and I'll be something I'll be looking into a lot more going forwards so how do I get started with",
    "start": "1164179",
    "end": "1171049"
  },
  {
    "text": "plumie the first thing I need to do is I need to install the plumie CLI it's",
    "start": "1171049",
    "end": "1176510"
  },
  {
    "text": "cross-platform CLI and you can just download that from the plumie website if",
    "start": "1176510",
    "end": "1182419"
  },
  {
    "text": "you're on Windows I recommend using chocolaty and you can just do chalk or install plumie and within a few seconds",
    "start": "1182419",
    "end": "1188299"
  },
  {
    "text": "you'll be up and running so what I want to get started what I can do is I can do plumie new and pass in the name of the",
    "start": "1188299",
    "end": "1195649"
  },
  {
    "text": "template so in this case it's a c-sharp template ice asking me for some",
    "start": "1195649",
    "end": "1201590"
  },
  {
    "text": "parameters and I can just accept the defaults after a few seconds it's going to give me basically a don't need a core project",
    "start": "1201590",
    "end": "1208980"
  },
  {
    "text": "a c-sharp don't nee core project that's targeting Asia so we can see there tells",
    "start": "1208980",
    "end": "1216690"
  },
  {
    "text": "me I'm ready to go so let's take a look at this project is just created so here",
    "start": "1216690",
    "end": "1222870"
  },
  {
    "text": "I am in Visual Studio code and you can see on the left hand side we've got a",
    "start": "1222870",
    "end": "1227970"
  },
  {
    "text": "program that's es we have a couple of Yama files and then we have the CS proach just want to briefly show you the",
    "start": "1227970",
    "end": "1234690"
  },
  {
    "text": "CS proj so this is the dotnet call 3.1 application and essentially it's a",
    "start": "1234690",
    "end": "1241020"
  },
  {
    "text": "console application you can see that there it says output XE and it has a new gear package reference added plumie",
    "start": "1241020",
    "end": "1246930"
  },
  {
    "text": "taraji so that's all that is there so let's dive into the code there's been",
    "start": "1246930",
    "end": "1252240"
  },
  {
    "text": "enough talking so this is the program CS",
    "start": "1252240",
    "end": "1257270"
  },
  {
    "text": "and what we're looking at here is the entry point to the application and what",
    "start": "1257270",
    "end": "1264840"
  },
  {
    "text": "we can see first of all is we're creating a resource group so we're doing new resource group and that resource",
    "start": "1264840",
    "end": "1270720"
  },
  {
    "text": "group object is coming from the plumie NuGet package we're passing in a screen as the name of the resource and we're",
    "start": "1270720",
    "end": "1278220"
  },
  {
    "text": "creating the variable so the next thing we're doing is we're creating a storage account and again we're new in caps",
    "start": "1278220",
    "end": "1284820"
  },
  {
    "text": "storage you can we're passing on the screen has the storage account name and then we're passing these augs so this is",
    "start": "1284820",
    "end": "1291390"
  },
  {
    "text": "a very common pattern in in plumie in net you will create the object I mean pass in an object which contains all of",
    "start": "1291390",
    "end": "1298560"
  },
  {
    "text": "the options and parameters you want to set so here what we're doing is we're setting the resource group name to be",
    "start": "1298560",
    "end": "1304470"
  },
  {
    "text": "the name from the variable that we assigned earlier so you notice that we assigned a variable called resource",
    "start": "1304470",
    "end": "1309510"
  },
  {
    "text": "group and we're now taking the name object out of there we're setting replication type and you account here so",
    "start": "1309510",
    "end": "1318360"
  },
  {
    "text": "now I've written my code in fact that's the sample code that gets created as soon as you create a plumie new template",
    "start": "1318360",
    "end": "1325160"
  },
  {
    "text": "so what do I do now so if you try and compile and run that code it's just the",
    "start": "1325160",
    "end": "1330360"
  },
  {
    "text": "next C you won't do anything because essentially what's happening there is that code is being compiled into a",
    "start": "1330360",
    "end": "1337140"
  },
  {
    "text": "resource graph you sense that helps plumie figure out what he needs to create so we come back to the",
    "start": "1337140",
    "end": "1342629"
  },
  {
    "text": "plumie command-line tool and we run plumie up and what this will do is",
    "start": "1342629",
    "end": "1350519"
  },
  {
    "text": "compile the code and then offers compiled it it will tell us what it thinks is going to do with this code so",
    "start": "1350519",
    "end": "1356970"
  },
  {
    "text": "what state is it going to create so after a few seconds we'll see that it's telling me I'm going to create a",
    "start": "1356970",
    "end": "1364080"
  },
  {
    "text": "resource group and a storage account now I can preview what it's going to do but in this case I'm just going to go ahead",
    "start": "1364080",
    "end": "1369509"
  },
  {
    "text": "and say yes so now it's going to compile the code again I think that's just to make sure that nobody has changed the",
    "start": "1369509",
    "end": "1376350"
  },
  {
    "text": "code in the meantime and now you can see it's going away and it's now creating these resources so this is talking to my",
    "start": "1376350",
    "end": "1383399"
  },
  {
    "text": "Azure subscription you can configure this in a number of ways on your local machine you can pick up environment",
    "start": "1383399",
    "end": "1389399"
  },
  {
    "text": "variables if you're using this for any kind of CI CD system you can use service",
    "start": "1389399",
    "end": "1396539"
  },
  {
    "text": "principal account so as I'm talking we are now have the resource group created",
    "start": "1396539",
    "end": "1402450"
  },
  {
    "text": "and you can see the storage accounts already created as well and I've asked bloomie to output the connection screen",
    "start": "1402450",
    "end": "1408629"
  },
  {
    "text": "from the storage account so that I can then use it for something else now don't worry I know the secrets are",
    "start": "1408629",
    "end": "1414090"
  },
  {
    "text": "visible on the screen but the storage account doesn't exist anymore so I'm not concerned and all of that took 33",
    "start": "1414090",
    "end": "1420210"
  },
  {
    "text": "seconds ok great that was easy because we're just creating something so let's",
    "start": "1420210",
    "end": "1425909"
  },
  {
    "text": "take another look and let's make some changes here so what I'm going to do is I'm going to add some tags and what you",
    "start": "1425909",
    "end": "1432840"
  },
  {
    "text": "notice is I'm getting intelligence here so tells me I can do some tags so I'm going to add some tags of owner equals",
    "start": "1432840",
    "end": "1439590"
  },
  {
    "text": "foo okay so now I did the tags I can go back and run flew me up again and let's",
    "start": "1439590",
    "end": "1447720"
  },
  {
    "text": "see what's going to happen is it going to recreate everything",
    "start": "1447720",
    "end": "1451970"
  },
  {
    "text": "so once again it's gonna claw the code",
    "start": "1455769",
    "end": "1460090"
  },
  {
    "text": "and it's going to tell me that there's one resource to update I can dive into",
    "start": "1463779",
    "end": "1469489"
  },
  {
    "text": "the details of this so if I go down to the details gives me much more information and I can see they're just",
    "start": "1469489",
    "end": "1475669"
  },
  {
    "text": "gonna add some tags to this resource so it's not going to recreate the resource it's not going to delete anything it's",
    "start": "1475669",
    "end": "1481940"
  },
  {
    "text": "just gonna add the the missing elements so I can go ahead now and do yes confirm",
    "start": "1481940",
    "end": "1488840"
  },
  {
    "text": "that I want to do the update and bloom we will go away and now do the update",
    "start": "1488840",
    "end": "1495070"
  },
  {
    "text": "and I will take you know number of seconds and there we are so we're done now so far you haven't seen the",
    "start": "1495549",
    "end": "1502759"
  },
  {
    "text": "resources is created so this could all be smoke and mirrors so let's talking to the portal and take a closer look so",
    "start": "1502759",
    "end": "1509509"
  },
  {
    "text": "here I am in my resource group that pluming created and there's the storage account so just make that bit clearer so",
    "start": "1509509",
    "end": "1515749"
  },
  {
    "text": "there we are now you'll notice that the resource group name has this string appended at the end and so does a",
    "start": "1515749",
    "end": "1521659"
  },
  {
    "text": "storage account name we said storage was storage account was called storage so by",
    "start": "1521659",
    "end": "1527929"
  },
  {
    "text": "default plumie will append random strings to the end of resource names to prevent naming collisions now I know",
    "start": "1527929",
    "end": "1535909"
  },
  {
    "text": "most of you out there or certainly of coiffure they normally have very strong naming conventions so you concerned",
    "start": "1535909",
    "end": "1543739"
  },
  {
    "text": "about well how do I name my resource but you still have that prefix available so you can still put the naming convention",
    "start": "1543739",
    "end": "1549590"
  },
  {
    "text": "in the prefix and just ignore the additional strings you can override that behavior and there are very few reasons",
    "start": "1549590",
    "end": "1556820"
  },
  {
    "text": "why you would so some examples of my PA domain name and domain name you probably",
    "start": "1556820",
    "end": "1561950"
  },
  {
    "text": "don't want the random strings at the end of especially if it's con client visible but most other things you shouldn't care",
    "start": "1561950",
    "end": "1567739"
  },
  {
    "text": "about the name of the resource to that level if you do is probably an indication that you are heading towards",
    "start": "1567739",
    "end": "1574309"
  },
  {
    "text": "kind of the pets vs. cattle problem so",
    "start": "1574309",
    "end": "1581450"
  },
  {
    "text": "once I finished so for example I'm doing a test or I'm just checking this what I can do is tear down my resources very",
    "start": "1581450",
    "end": "1587480"
  },
  {
    "text": "simply so I can run bloom destroy and I go tell me it's gonna",
    "start": "1587480",
    "end": "1593470"
  },
  {
    "text": "delete everything I can just go ahead and say yes and then that will go and delete the resources now you have to",
    "start": "1593470",
    "end": "1600669"
  },
  {
    "text": "recognize that it's going to call the cloud provider and that can take some time cloud providers are notoriously",
    "start": "1600669",
    "end": "1608400"
  },
  {
    "text": "challenging in terms of the amount of time it takes to for things to run so in this example that video all the other",
    "start": "1608400",
    "end": "1614380"
  },
  {
    "text": "videos you saw were not in any way cropped this one was paused and it took 55 seconds but now the resource is gone",
    "start": "1614380",
    "end": "1620820"
  },
  {
    "text": "so I can see a question from Oleg asking is there any performance penalty in terms of deployment time when using",
    "start": "1620820",
    "end": "1626980"
  },
  {
    "text": "terraform or plumie instead of directly using arm templates I don't know exactly",
    "start": "1626980",
    "end": "1632320"
  },
  {
    "text": "to be honest I suspect there are there's probably marginal differences in there I",
    "start": "1632320",
    "end": "1639610"
  },
  {
    "text": "haven't had a chance to compare them myself but yeah I suspect this marginal if you've got something that's very time",
    "start": "1639610",
    "end": "1647020"
  },
  {
    "text": "consuming it would be quite an interesting one to cry so thank you for that holic so let's have let's have a",
    "start": "1647020",
    "end": "1653530"
  },
  {
    "text": "look at the plumie components so I talked about this language you know you can write your own language so there's a",
    "start": "1653530",
    "end": "1659290"
  },
  {
    "start": "1654000",
    "end": "1654000"
  },
  {
    "text": "language host the language hosts job is to take the language you've written and essentially convert it into some kind of",
    "start": "1659290",
    "end": "1665530"
  },
  {
    "text": "resource tree and that gets passed to the CLI and actually the plumie engine",
    "start": "1665530",
    "end": "1670600"
  },
  {
    "text": "and that's really the brains of the operation and what that does is that will then invoke your particular provider and",
    "start": "1670600",
    "end": "1678419"
  },
  {
    "text": "essentially do crud operations on that now the state much like terraform",
    "start": "1678419",
    "end": "1684130"
  },
  {
    "text": "there's a state file created and that state is stored in some back-end store so pluming has a number of options here",
    "start": "1684130",
    "end": "1690549"
  },
  {
    "text": "you can store it in a local disk on the local machine you can store in a cloud storage back-end well plumie also have a",
    "start": "1690549",
    "end": "1698049"
  },
  {
    "text": "console so when i touched on the fact that a plumie was free and open source there's one component which isn't which",
    "start": "1698049",
    "end": "1703929"
  },
  {
    "text": "is this console the console you are allowed to use as an individual and we'll take a look at in a second you can",
    "start": "1703929",
    "end": "1710410"
  },
  {
    "text": "use it in a company setting that has an individual Omni and you can have as many projects as you want but if you want to",
    "start": "1710410",
    "end": "1716830"
  },
  {
    "text": "use it as a team you have to pay for that additionally unlike many projects",
    "start": "1716830",
    "end": "1722049"
  },
  {
    "text": "that have a kind of commerce side to them plumie doesn't in any way hamper or restrict the core functionality of the application you can",
    "start": "1722049",
    "end": "1729100"
  },
  {
    "text": "use the private backing stores and get the same behavior as you want without ever using plumie itself one of the",
    "start": "1729100",
    "end": "1735280"
  },
  {
    "text": "reasons where people don't necessarily want to use the plumie provided service is because your secrets may be sent up",
    "start": "1735280",
    "end": "1741580"
  },
  {
    "text": "there so plumie does encrypt all the secrets using a per stack encryption key",
    "start": "1741580",
    "end": "1746710"
  },
  {
    "text": "so there can be stored in source control if you wanted safely but obviously some",
    "start": "1746710",
    "end": "1752740"
  },
  {
    "text": "people don't prefer that if you want to use plumie on on a on premise system you",
    "start": "1752740",
    "end": "1758080"
  },
  {
    "text": "can also get an on-premise version of the primi system if you wanted so let's",
    "start": "1758080",
    "end": "1766900"
  },
  {
    "text": "take a look at that dashboard that I talked about the plumie console the so this is the plumie console and it's the",
    "start": "1766900",
    "end": "1774150"
  },
  {
    "text": "it's just me using it so it's not causing anything and what I can see is I can see some stacks I've clicked through",
    "start": "1774150",
    "end": "1781060"
  },
  {
    "text": "to one of the stacks than one I've deployed earlier because I have some other projects on there I didn't want to",
    "start": "1781060",
    "end": "1786070"
  },
  {
    "text": "show everyone so what I can see here is that when I ran it I saw the resource group was created I can see the details",
    "start": "1786070",
    "end": "1792520"
  },
  {
    "text": "of that and then I can click through and see the individual steps that were taken so then I did the tag update so I can",
    "start": "1792520",
    "end": "1799210"
  },
  {
    "text": "see that and then I can see that it was deleted so if you're a small team and you have predominantly one person",
    "start": "1799210",
    "end": "1805090"
  },
  {
    "text": "responsible for managing infrastructure you can use this console for free and it's a great way of keeping track of",
    "start": "1805090",
    "end": "1810970"
  },
  {
    "text": "what's been going on in your infrastructure so one of the other",
    "start": "1810970",
    "end": "1816250"
  },
  {
    "text": "challenges I mentioned was about invoking third-party api's so using",
    "start": "1816250",
    "end": "1821670"
  },
  {
    "start": "1817000",
    "end": "1817000"
  },
  {
    "text": "templates or terraform usually what you need to do in this situation is drop",
    "start": "1821670",
    "end": "1826780"
  },
  {
    "text": "down into some kind of script inside the template the challenge with this is you can't easily test that script you often",
    "start": "1826780",
    "end": "1836230"
  },
  {
    "text": "rely on third-party infrastructure to be available on the machine that you're running on and often you have to write",
    "start": "1836230",
    "end": "1842320"
  },
  {
    "text": "this in a different language so you've now learnt the syntax for the for the templating language and now you have to",
    "start": "1842320",
    "end": "1848200"
  },
  {
    "text": "switch to bash or PowerShell and again you know people who do this day and",
    "start": "1848200",
    "end": "1853330"
  },
  {
    "text": "there as their job that may be absolutely foreign I'm really talking to people whose job",
    "start": "1853330",
    "end": "1858870"
  },
  {
    "text": "isn't day in day out to be managing the infrastructure I mean this is very applicable to everyone but this is a special case that I've",
    "start": "1858870",
    "end": "1866010"
  },
  {
    "text": "been finding this really powerful for so it's giving you more concrete example I was deploying an azure storage account",
    "start": "1866010",
    "end": "1873960"
  },
  {
    "start": "1871000",
    "end": "1871000"
  },
  {
    "text": "and I want you to enable the static hosting a static hosting and Azure storage is fantastic way of running",
    "start": "1873960",
    "end": "1880020"
  },
  {
    "text": "websites static websites and spas because you run it straight from storage",
    "start": "1880020",
    "end": "1885990"
  },
  {
    "text": "account you don't have to pay for a web server and it's fantastically cheap one",
    "start": "1885990",
    "end": "1891690"
  },
  {
    "text": "of the challenges or the challenge with with this particular feature is that it can't be enabled through the resource",
    "start": "1891690",
    "end": "1897360"
  },
  {
    "text": "manager API that particular option is not surfaced for some reason so what",
    "start": "1897360",
    "end": "1902640"
  },
  {
    "text": "this means is arm templates no terraform no plumie out of the box can actually enable this feature so if you want to",
    "start": "1902640",
    "end": "1909780"
  },
  {
    "text": "enable this feature what you have to normally do is invoke some kind of script or CLI command so fork out a",
    "start": "1909780",
    "end": "1915870"
  },
  {
    "text": "process and call the azure CLI and ask her to enable this feature but I was",
    "start": "1915870",
    "end": "1921720"
  },
  {
    "text": "thinking well I'm working in a dotnet core project and I know there's a dotnet core storage SDK so can I use that so",
    "start": "1921720",
    "end": "1930630"
  },
  {
    "text": "the example I'm about to show you is available at that link it's part of the plumie examples which has got a",
    "start": "1930630",
    "end": "1935640"
  },
  {
    "text": "repository of quite a large a number of examples on across the different cloud providers so let's take a look at what's",
    "start": "1935640",
    "end": "1942120"
  },
  {
    "text": "going on here so what we're seeing here is we're creating a resource group like before recurring a storage account like",
    "start": "1942120",
    "end": "1948360"
  },
  {
    "text": "we did before I've specified a couple of other things that I wanted to have in this particular",
    "start": "1948360",
    "end": "1953430"
  },
  {
    "text": "storage account but then interestingly it comes on the next page so we're now",
    "start": "1953430",
    "end": "1959610"
  },
  {
    "text": "doing this let's dive in a bit closer first so what we're now doing is doing a deployment the instant store is dry run",
    "start": "1959610",
    "end": "1966330"
  },
  {
    "text": "that deployment object is coming from the plumie environment systolic instance",
    "start": "1966330",
    "end": "1972960"
  },
  {
    "text": "and it's telling me if I'm running plumie am i running plumie preview which is a",
    "start": "1972960",
    "end": "1978180"
  },
  {
    "text": "way of checking that you your resources are going to be created as you expect I'm actually invoking this for real and",
    "start": "1978180",
    "end": "1984300"
  },
  {
    "text": "what I want to do is I only want to run this if it's a real deployment and not",
    "start": "1984300",
    "end": "1989780"
  },
  {
    "text": "and what i'm doing here is i'm taking the storage account I'm taking the connection string more specifically and",
    "start": "1989780",
    "end": "1995130"
  },
  {
    "text": "I'm invoking a function and I'm passing in the storage connection string so",
    "start": "1995130",
    "end": "2003740"
  },
  {
    "text": "we'll come back to this snippet in a second but let's have a look at that method so this method is now receiving",
    "start": "2003740",
    "end": "2009980"
  },
  {
    "text": "that connection string and it's using the azure dominant call SDKs and it's creating a cloud",
    "start": "2009980",
    "end": "2015799"
  },
  {
    "text": "storage account using the connection string what we're doing now is creating a blob client and we're basically",
    "start": "2015799",
    "end": "2022309"
  },
  {
    "text": "setting up the static hosting feature and so we're sending it in able to true we're giving you some values for the",
    "start": "2022309",
    "end": "2028370"
  },
  {
    "text": "default documents and we're updating our storage account once we have that we",
    "start": "2028370",
    "end": "2035660"
  },
  {
    "text": "come back to our main plumie code and now we've got an array of files so in",
    "start": "2035660",
    "end": "2040760"
  },
  {
    "text": "this demo example we've just hard-coded the list of files the files are in this repository as well and now we're for",
    "start": "2040760",
    "end": "2047390"
  },
  {
    "text": "reaching over those files using for each code that every see shop developer will",
    "start": "2047390",
    "end": "2052820"
  },
  {
    "text": "we'll know from day one and we're creating a new blob so this is another plumie resource object and then we're",
    "start": "2052820",
    "end": "2059628"
  },
  {
    "text": "setting the storage account name and we're essentially copying the content into that blob and what we can then do",
    "start": "2059629",
    "end": "2069230"
  },
  {
    "text": "is output the resources so when I go and deploy that eventually will tell me you created my static site it's created the",
    "start": "2069230",
    "end": "2075618"
  },
  {
    "text": "blobs and I get back a URL I'm not showing it here but it's giving me a URL",
    "start": "2075619",
    "end": "2081260"
  },
  {
    "text": "which lets me then access that static site so if you want to have a look at that you can go to the examples repo",
    "start": "2081260",
    "end": "2087740"
  },
  {
    "text": "I'll put the link up again towards the end for that so I want to talk about so",
    "start": "2087740",
    "end": "2093590"
  },
  {
    "text": "far what I've shown you is reasonably trivial examples so again you could argue that the plumie code I showed you",
    "start": "2093590",
    "end": "2098900"
  },
  {
    "text": "is very similar or the start the initial pluming example of showed you is no more",
    "start": "2098900",
    "end": "2104480"
  },
  {
    "text": "simpler than the terraform example I showed you and I would completely agree with you so I want to talk about a real scenario",
    "start": "2104480",
    "end": "2111080"
  },
  {
    "text": "here that I work with so I have a client who has to deploy a number of web sites",
    "start": "2111080",
    "end": "2117830"
  },
  {
    "text": "web apps and api's and they put the application gate in front of it so the gateway axe has",
    "start": "2117830",
    "end": "2124770"
  },
  {
    "text": "predominantly a layer 7 load balancer and also has a Web Application Firewall and we also have a database so this",
    "start": "2124770",
    "end": "2134099"
  },
  {
    "text": "client deploys this application in different environments so prod staging but they also deploy for different",
    "start": "2134099",
    "end": "2141180"
  },
  {
    "text": "clients sometimes they have to deploy a highly available version of this application and in that situation what",
    "start": "2141180",
    "end": "2148950"
  },
  {
    "text": "we have to do is we have to additionally create a traffic manager which is now the entry point if you like into the",
    "start": "2148950",
    "end": "2156690"
  },
  {
    "text": "application and that traffic manager will route or route people to a specific",
    "start": "2156690",
    "end": "2162839"
  },
  {
    "text": "region so in this example we're setting up as a a chase a highly available active active configuration so depending",
    "start": "2162839",
    "end": "2171059"
  },
  {
    "text": "on where the user is they may get sent to either the primary or the secondary region the reason we're doing this is",
    "start": "2171059",
    "end": "2177750"
  },
  {
    "text": "one the users will get better performance but also if we have an outage on one of the regions we will",
    "start": "2177750",
    "end": "2183240"
  },
  {
    "text": "fail over to the secondary region so another thing we have to do here is we have to ensure that the database is geo",
    "start": "2183240",
    "end": "2189180"
  },
  {
    "text": "replicated and that we've set up a sequel server fail of a group so the",
    "start": "2189180",
    "end": "2194640"
  },
  {
    "text": "fail of a group specifically is designed that if the data centers offline it will automatically fail the database",
    "start": "2194640",
    "end": "2200460"
  },
  {
    "text": "connections over to the secondary region so let's have a think about steps we",
    "start": "2200460",
    "end": "2206490"
  },
  {
    "text": "need to do to get this to work and then we think about how we would have done this using the templating approach so",
    "start": "2206490",
    "end": "2214619"
  },
  {
    "start": "2214000",
    "end": "2214000"
  },
  {
    "text": "first of all we need to provision a map service plan and then provision n number of web apps so with this client they",
    "start": "2214619",
    "end": "2221339"
  },
  {
    "text": "sometimes have a variable number of web apps they have to deploy we then provision the application",
    "start": "2221339",
    "end": "2227760"
  },
  {
    "text": "gateway now if you've ever had to provision the application gateway you know that doing in the portal is an",
    "start": "2227760",
    "end": "2233220"
  },
  {
    "text": "absolute pain doing with templates is also quite challenging because there are a large number of sub resources you have",
    "start": "2233220",
    "end": "2239760"
  },
  {
    "text": "to specify and implement one of the challenging bits with it is you have to ensure that each each web app is",
    "start": "2239760",
    "end": "2247410"
  },
  {
    "text": "configured as a route through the application gateway so if you do add a new website you need to ensure that you",
    "start": "2247410",
    "end": "2253890"
  },
  {
    "text": "update the application gateway to also have a route to that McKean website you also have to",
    "start": "2253890",
    "end": "2259950"
  },
  {
    "text": "configure SSL Certificates security headers and health checks so the",
    "start": "2259950",
    "end": "2265290"
  },
  {
    "text": "application gateway template becomes extremely large and excrete extremely unwieldy you also have to configure the",
    "start": "2265290",
    "end": "2272160"
  },
  {
    "text": "sequel server database and you have to capture the details of that because you'll need that later now if we look at",
    "start": "2272160",
    "end": "2279270"
  },
  {
    "text": "the multi region deployment we do everything we do in a single region but",
    "start": "2279270",
    "end": "2284490"
  },
  {
    "start": "2280000",
    "end": "2280000"
  },
  {
    "text": "now we need to also capture the Gateway addresses we need to add sequel geo replication we need to configure the",
    "start": "2284490",
    "end": "2291210"
  },
  {
    "text": "fail of a group and then we need to configure the traffic manager to point to those application gateways so there's",
    "start": "2291210",
    "end": "2299070"
  },
  {
    "text": "a lot of things going on here there's a lot of conditional logic there's a lot of loops so I'm sure you're dying to see",
    "start": "2299070",
    "end": "2306240"
  },
  {
    "start": "2306000",
    "end": "2306000"
  },
  {
    "text": "the code for this sorry to disappoint you at the moment I can't show you the",
    "start": "2306240",
    "end": "2311340"
  },
  {
    "text": "code for this the code is currently specific to my client and I am going to turn it into an example and submit it to",
    "start": "2311340",
    "end": "2317940"
  },
  {
    "text": "the examples repo but suffice it to say that what I'll talk about in the next",
    "start": "2317940",
    "end": "2323250"
  },
  {
    "text": "couple of slides is the reason why I looked at using plumie so the clients I",
    "start": "2323250",
    "end": "2328380"
  },
  {
    "text": "work with often small teams they don't have dedicated people whose job it is to",
    "start": "2328380",
    "end": "2333750"
  },
  {
    "start": "2329000",
    "end": "2329000"
  },
  {
    "text": "manage the infrastructure so these people are not spending their day day and they are looking at terraform or arm",
    "start": "2333750",
    "end": "2340410"
  },
  {
    "text": "templates what I showed you just now to do in a terraform an arm template is",
    "start": "2340410",
    "end": "2346050"
  },
  {
    "text": "non-trivial and worse than that once you've created it if you need to add an",
    "start": "2346050",
    "end": "2351540"
  },
  {
    "text": "additional root into it you have to modify multiple places in the template",
    "start": "2351540",
    "end": "2357560"
  },
  {
    "text": "you often end up having multiple templates and you have to coordinate then and sometimes you just copy chunks",
    "start": "2357860",
    "end": "2363840"
  },
  {
    "text": "of code because there's no other way the",
    "start": "2363840",
    "end": "2371760"
  },
  {
    "text": "other challenge here is that the team their primary job is to write code and there may be using c-sharp and in this",
    "start": "2371760",
    "end": "2377340"
  },
  {
    "text": "case they are and some front-end code and now if they want to be responsible",
    "start": "2377340",
    "end": "2384030"
  },
  {
    "text": "citizens managing the infrastructure using the templating and everything else they need to understand the cloud platform",
    "start": "2384030",
    "end": "2390030"
  },
  {
    "text": "and they need to understand the templating language so of course what most people do is they'll just use the portal and every time they need to do",
    "start": "2390030",
    "end": "2396090"
  },
  {
    "text": "again they find that it's just going to be quicker as painful as it is just to use the portal again then it needs to",
    "start": "2396090",
    "end": "2401760"
  },
  {
    "text": "create the scripts because let's be honest when you create those scripts it takes a number of iterations to get them",
    "start": "2401760",
    "end": "2407940"
  },
  {
    "text": "right if anybody can get the arm template a complex one like that working first time around you deserve a gold star because I",
    "start": "2407940",
    "end": "2414330"
  },
  {
    "text": "certainly can't do it so when I saw that and I recognized that I was going to",
    "start": "2414330",
    "end": "2420540"
  },
  {
    "text": "potentially leave this client with some really complex templates and I was concerned about that and thankfully",
    "start": "2420540",
    "end": "2426390"
  },
  {
    "text": "plumie came along just at the right time so I knew that this team was a dotnet",
    "start": "2426390",
    "end": "2432240"
  },
  {
    "text": "team of course they didn't have to be we have tied script you have go you have",
    "start": "2432240",
    "end": "2437550"
  },
  {
    "text": "Python so I knew that the team as the general team would be able to recognize",
    "start": "2437550",
    "end": "2442800"
  },
  {
    "text": "the code now they're not necessarily going to understand the specific parameters of storage accounts and web",
    "start": "2442800",
    "end": "2449160"
  },
  {
    "text": "servers but that's a problem every team was gonna have to understand anyway if we can get away from the noise of the",
    "start": "2449160",
    "end": "2455910"
  },
  {
    "text": "syntax the weird syntax and everything else and we're looking at loops and if blocks that they're very comfortable with they can then hopefully get the",
    "start": "2455910",
    "end": "2463200"
  },
  {
    "text": "heads around what's going on with the rest of the syntax and as I said if you",
    "start": "2463200",
    "end": "2468390"
  },
  {
    "text": "want if you're a big team and you want to have lots of people managing resources then you do need to pay for",
    "start": "2468390",
    "end": "2473490"
  },
  {
    "text": "that but with the smaller teams I work with we've been able to get away with without paying anything to bloomie so",
    "start": "2473490",
    "end": "2482280"
  },
  {
    "text": "let's have a look at some other things and some other elements and of course",
    "start": "2482280",
    "end": "2487620"
  },
  {
    "start": "2483000",
    "end": "2483000"
  },
  {
    "text": "I'll just remind everyone that again do feel free to ask questions that slide or the details at the bottom of every slide so one of the nice things with",
    "start": "2487620",
    "end": "2495330"
  },
  {
    "text": "preemies and again you can do this with the other platforms you can create some really useable components so with",
    "start": "2495330",
    "end": "2501330"
  },
  {
    "text": "include me there's a stack and the stack is essentially a group of resources that can be deployed together and often",
    "start": "2501330",
    "end": "2506970"
  },
  {
    "text": "stacks are used to deploy the same set of resources to different environments whether this is dev staging production",
    "start": "2506970",
    "end": "2513360"
  },
  {
    "text": "or whether this is a multi tentative application and you're deploying individual resources to different",
    "start": "2513360",
    "end": "2520050"
  },
  {
    "text": "tenants you can create components get them into a new game file and then",
    "start": "2520050",
    "end": "2525690"
  },
  {
    "text": "share them with other people in your organization so put them on your private registry and share them that way put",
    "start": "2525690",
    "end": "2531510"
  },
  {
    "text": "them on a public registry if you're happy to share resources and the nice thing with this is you can now compose",
    "start": "2531510",
    "end": "2537150"
  },
  {
    "text": "more complex applications by reusing these stacks you've created and you can",
    "start": "2537150",
    "end": "2542250"
  },
  {
    "text": "ensure that everyone gets consistent configurations now one interesting",
    "start": "2542250",
    "end": "2548070"
  },
  {
    "text": "challenger can crop up with this is there's a tendency for some teams or some some people to create an",
    "start": "2548070",
    "end": "2555150"
  },
  {
    "text": "abstraction on top of plumie so create an entirely new abstraction that's deriving from the plumie code because",
    "start": "2555150",
    "end": "2562080"
  },
  {
    "text": "they want to restrict access to certain properties you know for example the amount to ensure that certain features",
    "start": "2562080",
    "end": "2567840"
  },
  {
    "text": "and never have any Nabal by somebody so they create an abstraction on top of the plumie code to hide that particular",
    "start": "2567840",
    "end": "2573900"
  },
  {
    "text": "feature and while that's entirely doable one of the challenges you're face by",
    "start": "2573900",
    "end": "2578940"
  },
  {
    "text": "doing that is you are creating a whole heap of work for yourself when the plumie code and the underlying called",
    "start": "2578940",
    "end": "2584550"
  },
  {
    "text": "moves forward and it's worth mentioning at this point that the plumie code and pluming service and everything else is",
    "start": "2584550",
    "end": "2590730"
  },
  {
    "text": "beneath writing very quickly it's been fantastic to see there's been new versions updated on a regular basis",
    "start": "2590730",
    "end": "2596580"
  },
  {
    "text": "several times a week and sometimes so instead of doing that there's a",
    "start": "2596580",
    "end": "2602790"
  },
  {
    "text": "relatively new feature and Flemmi called policy as code this allows you to create policies which can then intercept the",
    "start": "2602790",
    "end": "2610320"
  },
  {
    "start": "2604000",
    "end": "2604000"
  },
  {
    "text": "plumie deployments and validate that what's being created is acceptable to",
    "start": "2610320",
    "end": "2615450"
  },
  {
    "text": "you or not so an example before where you want to disable a feature rather than necessarily doing it that way you",
    "start": "2615450",
    "end": "2622470"
  },
  {
    "text": "can set a default value for example that hits it to be off you can use a policy which prevents somebody from ever",
    "start": "2622470",
    "end": "2628470"
  },
  {
    "text": "switching it on the advantage of doing it this way is that you're not creating a whole nother layer of abstraction",
    "start": "2628470",
    "end": "2634830"
  },
  {
    "text": "around the plumie code I remember that is also an abstraction on top of other providers and other things ultimately",
    "start": "2634830",
    "end": "2639900"
  },
  {
    "text": "said an abstraction on top of the cloud provider and also what often happens",
    "start": "2639900",
    "end": "2646890"
  },
  {
    "text": "when you create these abstractions is you will find a legitimate reason to use feature X that you disabled you have to",
    "start": "2646890",
    "end": "2652440"
  },
  {
    "text": "cry yet another abstraction which then does enable that feature maybe disable something else and you'll get yourself in a mess so the",
    "start": "2652440",
    "end": "2659430"
  },
  {
    "text": "polytheist code is really powerful concept and I'm really excited to see the support for that I don't believe",
    "start": "2659430",
    "end": "2665099"
  },
  {
    "text": "you're currently has they don't name call support or certainly there's not many examples in the documentation but I'd be looking at that so this all",
    "start": "2665099",
    "end": "2675089"
  },
  {
    "text": "sounds really great but you've got a whole heap of existing resources and you're thinking about what do I do",
    "start": "2675089",
    "end": "2680960"
  },
  {
    "text": "luckily you've actually got quite a flexible approach to this so you have three and broadly three options what you",
    "start": "2680960",
    "end": "2688799"
  },
  {
    "start": "2682000",
    "end": "2682000"
  },
  {
    "text": "can do is you can leave your existing resources exactly as they are and let them Koya guests alongside plumie and",
    "start": "2688799",
    "end": "2694890"
  },
  {
    "text": "plumie won't interfere with them we can also do is adopt existing resources now",
    "start": "2694890",
    "end": "2702000"
  },
  {
    "text": "this doesn't generate the dotnet code for you unfortunately but what it does let you do is essentially reference that",
    "start": "2702000",
    "end": "2707279"
  },
  {
    "text": "resource and then use it in some of the other code examples and let plumie take over the kind of lifetime of that of",
    "start": "2707279",
    "end": "2712770"
  },
  {
    "text": "that resource then the final option is you either rewrite or you generate your",
    "start": "2712770",
    "end": "2720059"
  },
  {
    "text": "plumie code if you are using something like terraform so there's a tool that generates a pluming code from terraform",
    "start": "2720059",
    "end": "2725220"
  },
  {
    "text": "and you can have a look at that now I don't think I've done this topic justice",
    "start": "2725220",
    "end": "2730380"
  },
  {
    "text": "there was a a guide published literally a couple of days ago which is fantastic",
    "start": "2730380",
    "end": "2735990"
  },
  {
    "text": "and I recommend having a look at that if you're looking at adopting this so",
    "start": "2735990",
    "end": "2743339"
  },
  {
    "start": "2743000",
    "end": "2743000"
  },
  {
    "text": "hopefully I've shown you that I think there's quite a few pros here so using plumie lets you use the",
    "start": "2743339",
    "end": "2749609"
  },
  {
    "text": "languages you're familiar with and that's really powerful for teams and especially for teams who don't spend the",
    "start": "2749609",
    "end": "2754740"
  },
  {
    "text": "day dealing with arm and terraform because you have the power of modern",
    "start": "2754740",
    "end": "2760109"
  },
  {
    "text": "languages as long as they have SDKs that run in the same language you can build them into the same pipeline into the",
    "start": "2760109",
    "end": "2766740"
  },
  {
    "text": "same lifecycle management and it's all integrated I think it's quite easy to",
    "start": "2766740",
    "end": "2773039"
  },
  {
    "text": "get started with plumie as well because again I'm not having to learn the syntax all I'm focusing on is what's the",
    "start": "2773039",
    "end": "2778319"
  },
  {
    "text": "parameters I need for a storage account what's the parameters I need for a database and as I said it's free and",
    "start": "2778319",
    "end": "2786270"
  },
  {
    "text": "open source and the only option are the only component you don't have access to is this bloom",
    "start": "2786270",
    "end": "2791430"
  },
  {
    "text": "but it doesn't in any way hamper you from using clue me there isn't a bunch of features which are disabled because",
    "start": "2791430",
    "end": "2797790"
  },
  {
    "text": "you don't you haven't paid for them so everything is fantastic obviously unicorns and rainbows you know",
    "start": "2797790",
    "end": "2805260"
  },
  {
    "text": "there are some drawbacks so there's fewer platforms compared to terraform",
    "start": "2805260",
    "end": "2811340"
  },
  {
    "text": "now of course if your platform supported then hey that's not a problem",
    "start": "2811340",
    "end": "2816530"
  },
  {
    "text": "much like terraform there is a lag between the release of a feature and support for really me and the azure",
    "start": "2816530",
    "end": "2825960"
  },
  {
    "text": "provider now in fact I think some of the other providers as well they are actually using the terraform provider",
    "start": "2825960",
    "end": "2830970"
  },
  {
    "text": "behind the scenes and I do want to take a moment to to really call this out because I don't want this talk to be",
    "start": "2830970",
    "end": "2837270"
  },
  {
    "text": "terraform is terrible and gloomy is fantastic because plumie the donate call",
    "start": "2837270",
    "end": "2842910"
  },
  {
    "text": "support include me wouldn't exist if it wasn't for all the amazing work that terraform team do and because it's open",
    "start": "2842910",
    "end": "2848790"
  },
  {
    "text": "source plumie have been able to use it so a big shout out there to the terraform team and again you still need",
    "start": "2848790",
    "end": "2857070"
  },
  {
    "text": "to learn and discover the cloud providers kind of resource IP on you need to figure out what parameters they want for a storage account and again",
    "start": "2857070",
    "end": "2863760"
  },
  {
    "text": "that's not a plumie specific problem but I just thought I'd mention it I've done",
    "start": "2863760",
    "end": "2870869"
  },
  {
    "text": "it earlier but of course when you're writing c-sharp code you have syntax checking and you have a compiler so if",
    "start": "2870869",
    "end": "2876570"
  },
  {
    "text": "you try and reference a resource that doesn't exist or more likely if you make a typo and you don't create type the correct name you'll get a compile error",
    "start": "2876570",
    "end": "2883500"
  },
  {
    "text": "which is fantastic so you'll catch a lot more errors much much sooner so your",
    "start": "2883500",
    "end": "2888780"
  },
  {
    "text": "loop your controller your feedback loop rather is much much smaller but there",
    "start": "2888780",
    "end": "2894359"
  },
  {
    "text": "are still some errors that won't crop up until you try and actually deploy the code which blew me up now this isn't",
    "start": "2894359",
    "end": "2900330"
  },
  {
    "text": "necessarily a problem with plumie it's not their fault it's usually because the cloud providers API doesn't surface this",
    "start": "2900330",
    "end": "2906720"
  },
  {
    "text": "option or doesn't surface this validation logic in any way and you only discover the problem when she try and actually deploy the resource it's also",
    "start": "2906720",
    "end": "2914640"
  },
  {
    "text": "possible to get plumie into a bit of a bad state the way I've done it quite often is by canceling a deployment",
    "start": "2914640",
    "end": "2921240"
  },
  {
    "text": "Midway and what usually happens here is the the call to the cloud provider has",
    "start": "2921240",
    "end": "2927269"
  },
  {
    "text": "already been made the cloud provider is busy provisioning the resource and obviously everything's happening any synchronously and now I",
    "start": "2927269",
    "end": "2933089"
  },
  {
    "text": "cancel the plumie up command plumies now got in a bit of a mixed state it doesn't",
    "start": "2933089",
    "end": "2939210"
  },
  {
    "text": "quite understand what state the cloud providers in what state it's in so they're very clearly warning not to do",
    "start": "2939210",
    "end": "2944819"
  },
  {
    "text": "this but when you're doing a dev or a very kind of proof-of-concept deployment it's just a quicker way sometimes to",
    "start": "2944819",
    "end": "2950789"
  },
  {
    "text": "stop fix your mistake and start again when it does go wrong there are ways of recovering that so this point when",
    "start": "2950789",
    "end": "2960690"
  },
  {
    "text": "you're looking at me using c-sharp code and don't man you've probably familiar with some of the SDKs are available so",
    "start": "2960690",
    "end": "2966059"
  },
  {
    "start": "2964000",
    "end": "2964000"
  },
  {
    "text": "there's an azure net SDK so you might be thinking about why don't I use the Agora SDK why do I need to use this",
    "start": "2966059",
    "end": "2972749"
  },
  {
    "text": "third-party tool fundamentally what most of these SDKs do is they are they're",
    "start": "2972749",
    "end": "2979200"
  },
  {
    "text": "abstracting a rest call behind the scenes most of the time what you're actually doing is issuing imperative",
    "start": "2979200",
    "end": "2985829"
  },
  {
    "text": "rest commands to provision resources so you're not giving them a desired state you are issuing step-by-step what you",
    "start": "2985829",
    "end": "2991650"
  },
  {
    "text": "want to create they're not necessarily idempotent so what might be happening is",
    "start": "2991650",
    "end": "2996809"
  },
  {
    "text": "you may see the command twice you'll get two sets of resources and also because",
    "start": "2996809",
    "end": "3002089"
  },
  {
    "text": "the imperative and because they are not tracking the current state they're not a desired state you don't know what your",
    "start": "3002089",
    "end": "3008390"
  },
  {
    "text": "current state is when you are making a change you can only really reason about the new to new state you're making",
    "start": "3008390",
    "end": "3015730"
  },
  {
    "text": "alongside this is another class of tools which generally take a general-purpose",
    "start": "3015730",
    "end": "3022670"
  },
  {
    "text": "language and turn it into the templating language of the cloud provider AWS has",
    "start": "3022670",
    "end": "3029059"
  },
  {
    "text": "this cdk and again it looks fantastic because you're using c-sharp code and",
    "start": "3029059",
    "end": "3034210"
  },
  {
    "text": "everything's wonderful ultimately it generates cloud formation templates behind the scenes if you're on the AWS",
    "start": "3034210",
    "end": "3042230"
  },
  {
    "text": "fantastic that might be the perfect option for you but of course it only works on AWS another option is farmer",
    "start": "3042230",
    "end": "3050239"
  },
  {
    "text": "which uses f-sharp code and this generates arm templates and again both",
    "start": "3050239",
    "end": "3055910"
  },
  {
    "text": "of these options if you have existing deployment pipelines and mechanisms that",
    "start": "3055910",
    "end": "3060920"
  },
  {
    "text": "deploy templates then these can slot into that very nicely and they're a",
    "start": "3060920",
    "end": "3065960"
  },
  {
    "text": "perfectly valid option incidentally the dotnet support does include f-sharp if",
    "start": "3065960",
    "end": "3071510"
  },
  {
    "text": "you are on a flop folk and I know there's quite a few out there you can use F sharp to use with blue me as well",
    "start": "3071510",
    "end": "3077680"
  },
  {
    "text": "so the way I like to think of this and and I promise you this is slightly tongue-in-cheek but when I look at the",
    "start": "3077680",
    "end": "3084050"
  },
  {
    "text": "evolution of this cloud provisioning we start with the portals kind of move up",
    "start": "3084050",
    "end": "3089510"
  },
  {
    "text": "to this templating are we coming on to terraform and then eventually we're now evolved to using plumie if you want to",
    "start": "3089510",
    "end": "3098600"
  },
  {
    "text": "learn more the examples I showed the example I showed you is on the github there I will add the multi region",
    "start": "3098600",
    "end": "3106670"
  },
  {
    "text": "example um they as soon as I've done it and and checked over my client the slack",
    "start": "3106670",
    "end": "3112700"
  },
  {
    "text": "channel for plumie is fantastic I have to say massive shout out to the folks on the slack Channel they've answered",
    "start": "3112700",
    "end": "3119210"
  },
  {
    "text": "questions within minutes of me posting them they fixed bugs the next day and",
    "start": "3119210",
    "end": "3124250"
  },
  {
    "text": "they've helped me figure out some of the more quirky syntax within pulling me so thank you so much for them I really made",
    "start": "3124250",
    "end": "3130700"
  },
  {
    "text": "it my life a lot easier and I have blogged at least one example that stores you can example I've blogged in a little",
    "start": "3130700",
    "end": "3136670"
  },
  {
    "text": "bit more detail on my blog and I'll probably be adding more examples as we go along so with that we'll say thank",
    "start": "3136670",
    "end": "3143810"
  },
  {
    "text": "you very much my contact details are here and I'll leave that slide up and",
    "start": "3143810",
    "end": "3150290"
  },
  {
    "text": "again if you've got questions please do use the slider link so you can join it slider comm and it's y8 6:04 the code I",
    "start": "3150290",
    "end": "3159950"
  },
  {
    "text": "can stay here for a couple of minutes and see if any questions pop up if not",
    "start": "3159950",
    "end": "3166100"
  },
  {
    "text": "we can we can wrap up and if you've got any questions I don't get to you then feel free to ping me an email or tweet",
    "start": "3166100",
    "end": "3171170"
  },
  {
    "text": "or DM",
    "start": "3171170",
    "end": "3173619"
  }
]