[
  {
    "text": "all right there's still a few more people coming in but that's fine I can just talk over them while they do that",
    "start": "4720",
    "end": "9800"
  },
  {
    "text": "uh no problem all right so hello everybody Welcome to this talk thank you for coming yes uh I know You' just had",
    "start": "9800",
    "end": "16358"
  },
  {
    "text": "your lunch so I'm sure that that will filled you up with loads of energy to ingest as many fast demos as you",
    "start": "16359",
    "end": "23000"
  },
  {
    "text": "possibly can that's how it works I understand um so nice to meet you all my",
    "start": "23000",
    "end": "28400"
  },
  {
    "text": "name is Steve and uh I am a developer architect type guy at Microsoft and I",
    "start": "28400",
    "end": "33960"
  },
  {
    "text": "work on the net team uh particularly focusing on web related stuff and that's what we're going to talk about today now",
    "start": "33960",
    "end": "40800"
  },
  {
    "text": "I imagine that this is largely a room full of web developers so let's find out give me a hands up if you do something",
    "start": "40800",
    "end": "47120"
  },
  {
    "text": "related to the web in your job yeah it's like basically everyone all right um so that's not really surprising because the",
    "start": "47120",
    "end": "52960"
  },
  {
    "text": "web is obviously a very dominant part of the software ecosystem there's a lot of hype around other areas of the software",
    "start": "52960",
    "end": "59120"
  },
  {
    "text": "ecosystem at the moment but the web is still where a very large proportion of overall activity is taking place and",
    "start": "59120",
    "end": "67159"
  },
  {
    "text": "because there's so many people working in this area people just keep inventing new stuff all the time like they're",
    "start": "67159",
    "end": "73000"
  },
  {
    "text": "constantly incentivized to come up with the next new thing and in some ways that's a bit annoying because we keep",
    "start": "73000",
    "end": "78600"
  },
  {
    "text": "having to learn new stuff but in another ways it's great because we get better and better ways to do stuff and obviously it keeps us in a job as we",
    "start": "78600",
    "end": "85079"
  },
  {
    "text": "keep moving one from one framework to the next so that's really going to be",
    "start": "85079",
    "end": "90320"
  },
  {
    "text": "the subject matter of this talk what's going on with the web industry at the moment where is it likely to head over",
    "start": "90320",
    "end": "96240"
  },
  {
    "text": "the next few years so to set your expectations there's kind of two main",
    "start": "96240",
    "end": "101640"
  },
  {
    "text": "parts to this talk we are going to start by talking about web applications and",
    "start": "101640",
    "end": "107079"
  },
  {
    "text": "what I mean by that is something that has some kind of user interface that shows up in a browser and then after",
    "start": "107079",
    "end": "113320"
  },
  {
    "text": "that we're going to change our Focus to stuff that's happening on the back end in the server and we'll look at ways",
    "start": "113320",
    "end": "119479"
  },
  {
    "text": "that we technology like web assembly is changing the way that server programming is happening and I know that some of you",
    "start": "119479",
    "end": "125399"
  },
  {
    "text": "will have already heard of things like wzy uh if you haven't that's fine we'll introduce that uh but what you might not",
    "start": "125399",
    "end": "130560"
  },
  {
    "text": "know is that wzy is changing at the moment or it has just changed in the last couple of weeks Wazi Preview 2 has",
    "start": "130560",
    "end": "135720"
  },
  {
    "text": "been standardized and that changes quite significantly what it is what it can do",
    "start": "135720",
    "end": "140879"
  },
  {
    "text": "and so we're going to look at what new possibilities now emerge for us okay so",
    "start": "140879",
    "end": "147080"
  },
  {
    "text": "let's get started by talking a bit about web applications and to understand",
    "start": "147080",
    "end": "152720"
  },
  {
    "text": "really where we are in the whole sort of timeline of the web ecosystem let's look",
    "start": "152720",
    "end": "158200"
  },
  {
    "text": "at a timeline specifically right back to where things started so the web was",
    "start": "158200",
    "end": "163920"
  },
  {
    "text": "invented right at the start of the early '90s and if you wanted to create some kind of web UI at that time there was",
    "start": "163920",
    "end": "169800"
  },
  {
    "text": "only one way to do it you had to write server rendered HTML so you would use a",
    "start": "169800",
    "end": "175159"
  },
  {
    "text": "technology like CGI which is a way of connecting your web server to an arbitrary EX utable to produce some",
    "start": "175159",
    "end": "181040"
  },
  {
    "text": "content and then you would use something like Pearl or PHP to actually script your server to emit some HTML and then",
    "start": "181040",
    "end": "187720"
  },
  {
    "text": "later on people moved to things like web forms D Jango rails and other stuff like that and that was all we could do back",
    "start": "187720",
    "end": "193599"
  },
  {
    "text": "then it was all we knew but eventually people started to outgrow this because",
    "start": "193599",
    "end": "199080"
  },
  {
    "text": "there was this movement around 2005 for a few years which was called Web 2.0 at",
    "start": "199080",
    "end": "204200"
  },
  {
    "text": "that time and this was a time when people were really strongly incentivized to produce better and better user",
    "start": "204200",
    "end": "210319"
  },
  {
    "text": "interfaces in order to try and drive more engagement with their web applications and so at this point people",
    "start": "210319",
    "end": "216159"
  },
  {
    "text": "really started to write some JavaScript and at that time it was a horrible language of course it's not now it's",
    "start": "216159",
    "end": "221200"
  },
  {
    "text": "great now but it was an Abomination back then and so in order to try and cope with this people had to use libraries",
    "start": "221200",
    "end": "227200"
  },
  {
    "text": "like jQuery that made the thing manageable and that was great for about 5 years until people started to outgrow",
    "start": "227200",
    "end": "233640"
  },
  {
    "text": "it because they started to write so much code that their application just became an unmaintainable mess and that's when",
    "start": "233640",
    "end": "241159"
  },
  {
    "text": "the first client rendering Frameworks came in they tried to bring some kind of structure to client side code structures",
    "start": "241159",
    "end": "247120"
  },
  {
    "text": "like MVC mvvm running in the browser and we had names like backbone knockout angular this first wave of client",
    "start": "247120",
    "end": "254200"
  },
  {
    "text": "rendering Technologies again it was great for a little while until people outgrew it by about 2015 people's client",
    "start": "254200",
    "end": "261720"
  },
  {
    "text": "side applications were too big even for these early client side architectures and that brought us into the era of",
    "start": "261720",
    "end": "268919"
  },
  {
    "text": "modern client side rendering and I think the biggest gamechanging thing there was react when that was introduced in about",
    "start": "268919",
    "end": "275400"
  },
  {
    "text": "2015 that showed people a whole different component oriented way of building their client side applications",
    "start": "275400",
    "end": "281880"
  },
  {
    "text": "with a new kind of syntax and it was very popular and a lot of other Frameworks came along to try and follow",
    "start": "281880",
    "end": "287199"
  },
  {
    "text": "on from that and refine that technique and again that's been great but we're starting to outgrow it again and this",
    "start": "287199",
    "end": "294600"
  },
  {
    "text": "time it's because we've got so much code running in the browser now that it's starting to become a performance issue",
    "start": "294600",
    "end": "300880"
  },
  {
    "text": "it's starting to become a usability issue for people with low-end devices as well and so there's an emerging",
    "start": "300880",
    "end": "306680"
  },
  {
    "text": "collection of web Frameworks which are now starting to move things to the server as well so we went from server to",
    "start": "306680",
    "end": "313160"
  },
  {
    "text": "the client and we're now trying to do server and client at the same time and that's going to be one of the main",
    "start": "313160",
    "end": "318919"
  },
  {
    "text": "focuses for the first half an hour or so of this talk we'll look at several different Frameworks we'll see how",
    "start": "318919",
    "end": "324479"
  },
  {
    "text": "they're similar to each other and we'll see some of the differences between them as well",
    "start": "324479",
    "end": "330280"
  },
  {
    "text": "okay so I'm going to do a series of demos but the first thing to really understand about this is just this one",
    "start": "330280",
    "end": "336400"
  },
  {
    "text": "very simple idea which is that most of these new Frameworks are favoring rendering on the server first and only",
    "start": "336400",
    "end": "343039"
  },
  {
    "text": "enabling interactivity for small pieces that are let up to run on the client so",
    "start": "343039",
    "end": "348720"
  },
  {
    "text": "the easiest way to see that is just to look at a demo so I'm going to show you a demo of that now and we're going to start with the one of the most popular",
    "start": "348720",
    "end": "354720"
  },
  {
    "text": "Frameworks in this area which which is called nextjs a way of running JavaScript components on on the server",
    "start": "354720",
    "end": "360479"
  },
  {
    "text": "and combine it with running on the client as well okay so I've got my I've got this next dashboard application here",
    "start": "360479",
    "end": "367000"
  },
  {
    "text": "in fact I'm just going to start it in a browser so we can see what's in there okay and we're going to see how it's",
    "start": "367000",
    "end": "374599"
  },
  {
    "text": "server rendered but we can enable parts of it to run on the client and how we can control that as well so when that",
    "start": "374599",
    "end": "380880"
  },
  {
    "text": "comes up okay here we go we've got our Dev Team Management Hub because what we're building here is some sort of",
    "start": "380880",
    "end": "386599"
  },
  {
    "text": "management portal for a software team where the engineering manager need to keep track of all the stuff that's going on we'll add more stuff later but right",
    "start": "386599",
    "end": "393199"
  },
  {
    "text": "now just look at this little message that says too okay well where's that in the code that is here",
    "start": "393199",
    "end": "399840"
  },
  {
    "text": "inside uh where is it inside app page. TSX all right so this is like I said a",
    "start": "399840",
    "end": "406039"
  },
  {
    "text": "react component next is a framework for running react server and client side all right but this is not sending any code",
    "start": "406039",
    "end": "413120"
  },
  {
    "text": "for this component down into the browser it's just server rendered so if we look at the HTML that's coming back in the",
    "start": "413120",
    "end": "419080"
  },
  {
    "text": "browser here here bit hard to read obviously but if we search then we can just about make out that here's where",
    "start": "419080",
    "end": "424720"
  },
  {
    "text": "that message is showing up in the HTTP response and there's no script related to that component going to the browser",
    "start": "424720",
    "end": "431120"
  },
  {
    "text": "the only scripts that we do have are stuff to do with hot reload and things like that you can ignore that CU it wouldn't be there in",
    "start": "431120",
    "end": "436639"
  },
  {
    "text": "production okay so since this allows us to use arbitrary react components let's",
    "start": "436639",
    "end": "442599"
  },
  {
    "text": "have a go and put in one n and I've got this one over here called clock. TSX which is going to display the current",
    "start": "442599",
    "end": "449599"
  },
  {
    "text": "time all right we'll look at that more in a second but let's just add clock in",
    "start": "449599",
    "end": "454639"
  },
  {
    "text": "here all right save that back over here we now see the current time extremely",
    "start": "454639",
    "end": "460440"
  },
  {
    "text": "precisely great very useful and like I said that is not sending any code for this component into the browser it's up",
    "start": "460440",
    "end": "467479"
  },
  {
    "text": "to the developer to choose whether to do that now here's the source code for that component you can see that it knows",
    "start": "467479",
    "end": "474280"
  },
  {
    "text": "whether or not it's running on the client if it's not well then it's just going to render statically just going to",
    "start": "474280",
    "end": "479800"
  },
  {
    "text": "render this HTML and and then it's finished but if I want to I can have it run on the client as well and then it",
    "start": "479800",
    "end": "486080"
  },
  {
    "text": "can use logic like this where it's going to use set interval to update the time in real time all right so if I want to",
    "start": "486080",
    "end": "492720"
  },
  {
    "text": "change this over to run on the client I'm going to add this magic marker use client and then back over here you'll",
    "start": "492720",
    "end": "499080"
  },
  {
    "text": "see that looks horrible there we go you can see it now is actually sending the code to the client which allows that to",
    "start": "499080",
    "end": "504960"
  },
  {
    "text": "run interactively there so that's pretty easy for the developer",
    "start": "504960",
    "end": "510000"
  },
  {
    "text": "okay that's pretty good so why would somebody want to do this why would you want to favor running",
    "start": "510000",
    "end": "516240"
  },
  {
    "text": "stuff on the server when you could just run everything on the client like we used to in the past well a couple of",
    "start": "516240",
    "end": "521399"
  },
  {
    "text": "advantages to do with performance so of course since we're sending less code over the wire we're not using as much",
    "start": "521399",
    "end": "527839"
  },
  {
    "text": "bandwidth we should be able to load faster we should reduce our Network egress costs from cloud hosting or",
    "start": "527839",
    "end": "533800"
  },
  {
    "text": "whatever you're using so that's clearly some sort of Advantage okay it also means that it's a lot more like likely",
    "start": "533800",
    "end": "539720"
  },
  {
    "text": "to work even if the users on a very low-end device with a poor network connection because it's just doing some",
    "start": "539720",
    "end": "545000"
  },
  {
    "text": "old school HTML rendering and it just has to light up small pieces interactively according to what you need",
    "start": "545000",
    "end": "552120"
  },
  {
    "text": "it's got another Advantage which some people are really into some people don't quite get it but it means that as a developer you are mostly going to",
    "start": "552120",
    "end": "559079"
  },
  {
    "text": "structure your application in terms of simple HTML Primitives Pages links forms",
    "start": "559079",
    "end": "564760"
  },
  {
    "text": "and such like that rather than things that are specific to a particular client side technology so arguably you might",
    "start": "564760",
    "end": "571040"
  },
  {
    "text": "count that as an advantage and then of course the fact that you're doing this doesn't stop you from enabling whatever",
    "start": "571040",
    "end": "577399"
  },
  {
    "text": "client side interactivity you want uh we've had this term Progressive enhancement for quite a long time you",
    "start": "577399",
    "end": "582560"
  },
  {
    "text": "could argue that's what I've just done when I caused one of my components to run client side okay right so that is",
    "start": "582560",
    "end": "589279"
  },
  {
    "text": "just one framework nextjs but there's a lot of different Frameworks that are emerging that are sharing some of the",
    "start": "589279",
    "end": "595720"
  },
  {
    "text": "same ideas next like I said is running react on the server no is running view on the server spel kit is running spelt",
    "start": "595720",
    "end": "603079"
  },
  {
    "text": "on the server Blazer is Blazer on the server as well as on the client and and so on we're going to look at some of",
    "start": "603079",
    "end": "609160"
  },
  {
    "text": "these other ones as we go on um but really what we've got now is a sort of like honeycomb of different Frameworks",
    "start": "609160",
    "end": "615000"
  },
  {
    "text": "that are all following a similar pattern to each other even though they have slightly different characteristics among",
    "start": "615000",
    "end": "621399"
  },
  {
    "text": "themselves okay and they are kind of all agreeing on what the main features would",
    "start": "621399",
    "end": "626560"
  },
  {
    "text": "be that you would need if you want to productive following this kind of architecture uh we just looked at",
    "start": "626560",
    "end": "632040"
  },
  {
    "text": "service side rendering uh just there uh that makes sense hopefully but there's a slightly more advanced version of this",
    "start": "632040",
    "end": "637600"
  },
  {
    "text": "called streaming server side rendering what is that then well this is something that allows you to overcome one of the",
    "start": "637600",
    "end": "644519"
  },
  {
    "text": "traditional limitations of server rendering so traditionally with server rendering if you want to show some kind",
    "start": "644519",
    "end": "651120"
  },
  {
    "text": "of data in your page you have to fetch all the data before you can render the HTML obviously uh if you need to do an",
    "start": "651120",
    "end": "657920"
  },
  {
    "text": "expensive database query or an expensive API call your user just has to wait for that to complete before you can render",
    "start": "657920",
    "end": "663959"
  },
  {
    "text": "the HTML and return it to the browser and maybe that takes a little while and maybe it's not a great experience for",
    "start": "663959",
    "end": "669120"
  },
  {
    "text": "the end user so streaming server side rendering is a way of overcoming that by rendering the page first without waiting",
    "start": "669120",
    "end": "675880"
  },
  {
    "text": "for anything and then patching in different bits of content as it becomes available so I'll show you that in a",
    "start": "675880",
    "end": "681279"
  },
  {
    "text": "couple of different Frameworks now and then we'll see how it actually works behind the scenes by implementing it ourselves from scratch so you can see",
    "start": "681279",
    "end": "687760"
  },
  {
    "text": "it's not actually Magic all right so the first example of how that can be used is over here on this dashboard page so I'm",
    "start": "687760",
    "end": "694600"
  },
  {
    "text": "going to click that and I want you to just try and pay attention to how long it takes to load so I'm clicking now and",
    "start": "694600",
    "end": "700560"
  },
  {
    "text": "we wait we're waiting we're still waiting and eventually it shows up all right so it took about three seconds or",
    "start": "700560",
    "end": "706600"
  },
  {
    "text": "so all right so what have we gotten there why did it take so long to load well this is showing information from a",
    "start": "706600",
    "end": "711639"
  },
  {
    "text": "few different backend sources some of which take a while for example we're displaying our current Bild status and",
    "start": "711639",
    "end": "716839"
  },
  {
    "text": "you know we see we've got some failures it's probably not a problem problem because as long as the executive Netflix thing is fine we'll be all right uh",
    "start": "716839",
    "end": "723160"
  },
  {
    "text": "we've got a list of incoming issues um which uh you know again it's probably how to call out to GitHub or something",
    "start": "723160",
    "end": "728760"
  },
  {
    "text": "like that and then finally my favorite bit we've got this team activity which shows us what each of the different",
    "start": "728760",
    "end": "733800"
  },
  {
    "text": "employees are doing like exactly how many lines of code they've written today how much time they've unprofessionally",
    "start": "733800",
    "end": "738959"
  },
  {
    "text": "wasted doing personal web browsing and then we got cameras that will show us you know what their current mood is and",
    "start": "738959",
    "end": "744600"
  },
  {
    "text": "how we should manage them so anyway that's that's a separate thing that's an emerging field of Engineering Management",
    "start": "744600",
    "end": "749959"
  },
  {
    "text": "called surveillance driven development and I think that's probably the future but you know I can't see any disadvantages anyway right so the the",
    "start": "749959",
    "end": "758440"
  },
  {
    "text": "point behind all this is really that it takes a little while to get all this data and if we have a look in the code",
    "start": "758440",
    "end": "764160"
  },
  {
    "text": "for that let's see why it takes a little while so here's our page which has got the build status team activity and",
    "start": "764160",
    "end": "769199"
  },
  {
    "text": "things like that and if we look in team activity you'll see the way it gets its data is by doing this API call to a",
    "start": "769199",
    "end": "775360"
  },
  {
    "text": "backend service there and that takes a few seconds to come back CU you know it's got a communicate with AI systems",
    "start": "775360",
    "end": "780839"
  },
  {
    "text": "and things like that right so how about what if we just don't wait for that to load what if we show the page first even",
    "start": "780839",
    "end": "787639"
  },
  {
    "text": "before it's loaded now traditionally you can't do that with server rendering you would need some sort of client rendering",
    "start": "787639",
    "end": "793079"
  },
  {
    "text": "technology to do that but streaming server side rendering allows us to do it so what we can do is use this component",
    "start": "793079",
    "end": "799120"
  },
  {
    "text": "which is built into react server components called suspense and what that means is don't wait for this subtree to",
    "start": "799120",
    "end": "805320"
  },
  {
    "text": "actually load its content instead just initially render this fallback you u i which in this case I've set to be a",
    "start": "805320",
    "end": "810839"
  },
  {
    "text": "spinner and then when it's loaded swap it in so let's see how that looks now if we move away from here and then I move",
    "start": "810839",
    "end": "817920"
  },
  {
    "text": "back we still wait a minute for the other stuff to load but then you see we see a spinner around that slow loading",
    "start": "817920",
    "end": "823160"
  },
  {
    "text": "part of the page and we're not limited to just a single suspense we could have a few of them if we want to so let's put",
    "start": "823160",
    "end": "829760"
  },
  {
    "text": "one around build status there like that and we'll put another one around incoming",
    "start": "829760",
    "end": "837160"
  },
  {
    "text": "issues okay and now if we zoom out a little bit and we",
    "start": "837160",
    "end": "843120"
  },
  {
    "text": "reload you see we see a few different Spinners and all the different parts of the UI kind of pop into place as they",
    "start": "843959",
    "end": "850720"
  },
  {
    "text": "become available all right so that's pretty nice let's now dig a little bit further into how that's working behind",
    "start": "850720",
    "end": "857160"
  },
  {
    "text": "the scenes and let's see how that can be used in other Frameworks as well and we're going to switch over now to Blazer",
    "start": "857160",
    "end": "863199"
  },
  {
    "text": "which I happen to work on so that's convenient to me uh but if you don't know about that it's just a net uh web",
    "start": "863199",
    "end": "868680"
  },
  {
    "text": "UI framework which works in a similar way to many of these other ones all right so I've got uh actually we need a",
    "start": "868680",
    "end": "875040"
  },
  {
    "text": "scenario don't we for our for our web application and I always like having a great business idea uh to back up my",
    "start": "875040",
    "end": "880720"
  },
  {
    "text": "demos so I've got an amazing idea for this one right now which I think I'm going to make a lot of money out of uh",
    "start": "880720",
    "end": "885920"
  },
  {
    "text": "but I I really hope that no one copies my idea please don't um because it's clearly uh pretty revolutionary so how",
    "start": "885920",
    "end": "892680"
  },
  {
    "text": "many of you have heard of this okay Twin Peaks right it's a cult classic TV show",
    "start": "892680",
    "end": "898519"
  },
  {
    "text": "from the 90s I see not many of you have heard of it like I heard of it I'm I'm a big fan uh you know I I even wear ' 90s",
    "start": "898519",
    "end": "905079"
  },
  {
    "text": "shirts as you can see to to try and fit into the theme of this um it's it's an amazing TV show but if you haven't heard",
    "start": "905079",
    "end": "911079"
  },
  {
    "text": "of it it doesn't matter all you need to know is that it's a TV show and in this TV show people quite often drink coffee",
    "start": "911079",
    "end": "918240"
  },
  {
    "text": "now anyone heard of coffee yeah all right yeah now if you haven't heard of it don't worry it's just a drink all",
    "start": "918240",
    "end": "924079"
  },
  {
    "text": "right and in this TV show people quite often drink coffee and loads of people are really obsessive about this they're",
    "start": "924079",
    "end": "930920"
  },
  {
    "text": "really big fans of that and so I thought you know the next big business idea could be a web application that keeps",
    "start": "930920",
    "end": "937160"
  },
  {
    "text": "track of when people drink coffee in Twin Peaks all right so here's my web app called Twin Peaks Coffee and I'm",
    "start": "937160",
    "end": "943600"
  },
  {
    "text": "going to open this in my browser here and what you'll see is zoom in a bit yeah there we go right so it keeps",
    "start": "943600",
    "end": "950800"
  },
  {
    "text": "track of all the different coffee moments starting from the very first heartwarming scene where Laura Palmer",
    "start": "950800",
    "end": "955959"
  },
  {
    "text": "got killed there in the first episode right down to the very very final episode where Cooper gets attacked while",
    "start": "955959",
    "end": "961959"
  },
  {
    "text": "drinking a coffee and all the other coffee moments that we know and love throughout the years it's quite",
    "start": "961959",
    "end": "967040"
  },
  {
    "text": "emotional isn't it when you think about all of them okay and we can search through all these different coffee",
    "start": "967040",
    "end": "972079"
  },
  {
    "text": "moments using whatever we want um but it can take a little bit of a while to load because you know there's a lot that our database has to query over and also",
    "start": "972079",
    "end": "978920"
  },
  {
    "text": "because I've slowed it down on purpose to make the demo make sense all right so look how long it takes to load if I press that button we wait and then it",
    "start": "978920",
    "end": "985519"
  },
  {
    "text": "loads it takes about 1 second if I do a search like let's see for all the cases where someone was having a donut and",
    "start": "985519",
    "end": "991120"
  },
  {
    "text": "coffee at the same time and I click and I wait and then about 1 second later it swaps in and you can see it's basically",
    "start": "991120",
    "end": "997399"
  },
  {
    "text": "all the law enforcement people that have donuts and coffee so you know some good cliches all right cool now we want to",
    "start": "997399",
    "end": "1003079"
  },
  {
    "text": "make this a better user experience by using some streaming server side rendering let's see how we can add that",
    "start": "1003079",
    "end": "1009000"
  },
  {
    "text": "into our application right so this is Blazer on. net 8 and this is purely a",
    "start": "1009000",
    "end": "1014120"
  },
  {
    "text": "serers side server rendered application right now if you've used Blazer in the past you probably know that used either",
    "start": "1014120",
    "end": "1019519"
  },
  {
    "text": "web assembly or web sockets to create interactive UI as ofet 8 you can still use those and you will do for many",
    "start": "1019519",
    "end": "1025959"
  },
  {
    "text": "things but you can also just do Straight server rendering with techniques like streaming rendering as I'm going to show",
    "start": "1025959",
    "end": "1031558"
  },
  {
    "text": "you now so in this case when you click on that search button it's going to perform a query against the coffee",
    "start": "1031559",
    "end": "1037720"
  },
  {
    "text": "database uh with your search options and get the results and that's initially going to be a null variable and in the",
    "start": "1037720",
    "end": "1044438"
  },
  {
    "text": "UI rendering logic if the results are null then we'll display this loading message otherwise will display the",
    "start": "1044439",
    "end": "1049760"
  },
  {
    "text": "actual results okay make sense we never actually saw it say loading and that's because it's not streaming yet it's",
    "start": "1049760",
    "end": "1056280"
  },
  {
    "text": "waiting until all the tasks have resolved before it renders the HTML but we can turn on streaming really easily",
    "start": "1056280",
    "end": "1062400"
  },
  {
    "text": "and we don't even have to use something like a suspense component because net has a really well understood system of using tasks for tracking all the",
    "start": "1062400",
    "end": "1069080"
  },
  {
    "text": "different background work so we can just hook into that and we know when your application is ready to render so I'm",
    "start": "1069080",
    "end": "1074520"
  },
  {
    "text": "going to add an attribute called stream rendering onto my P page like that and",
    "start": "1074520",
    "end": "1079919"
  },
  {
    "text": "then when I go back and reload you'll see that we now see the word loading appears while we're waiting for that to",
    "start": "1079919",
    "end": "1085600"
  },
  {
    "text": "happen and when I click on this button loading shows up there so it starts to feel a little bit more fluid to the user",
    "start": "1085600",
    "end": "1091760"
  },
  {
    "text": "you don't have to wait as long for things to actually load all right that's nice but again how does this actually",
    "start": "1091760",
    "end": "1098400"
  },
  {
    "text": "work is this some sort of dark magic that we've done is this a special browser feature that we're using or something like that given that it's not",
    "start": "1098400",
    "end": "1104880"
  },
  {
    "text": "any client rendering technology well it's pretty simple browser technology that's been there since the very",
    "start": "1104880",
    "end": "1110360"
  },
  {
    "text": "beginning of browsers even though people didn't really use it up until this point so let me show you an example of how we",
    "start": "1110360",
    "end": "1116520"
  },
  {
    "text": "could create our own streaming rendering feature from scratch without using any framework features I'm going to do that",
    "start": "1116520",
    "end": "1122919"
  },
  {
    "text": "inside this program CS file here right now and I'm going to add an endpoint onto my server which is called my",
    "start": "1122919",
    "end": "1129919"
  },
  {
    "text": "streaming and it's going to work like this it's going to write a message to the console hello not to the console to",
    "start": "1129919",
    "end": "1136360"
  },
  {
    "text": "the response then it's going to wait a little bit and then it's going to write it again and then it's keep going to keep doing that for 5 seconds okay so if",
    "start": "1136360",
    "end": "1143919"
  },
  {
    "text": "that has now worked I should be able to go in my browser to my streaming and we'll see Hello 0 1 two 3 and so on",
    "start": "1143919",
    "end": "1151120"
  },
  {
    "text": "right so you can see it's kind of updating the the display in the browser dynamically but it's not really all it's",
    "start": "1151120",
    "end": "1158440"
  },
  {
    "text": "doing is a very slow HTTP response and the browser is just showing you everything that it's got up until the",
    "start": "1158440",
    "end": "1163840"
  },
  {
    "text": "current moment in fact it's even easier to see that there's no magic if we do it inside curl on the command",
    "start": "1163840",
    "end": "1170840"
  },
  {
    "text": "line like this okay so you can see again nothing",
    "start": "1170840",
    "end": "1176159"
  },
  {
    "text": "magic it's just a slow HTTP response and that's fine if all you want to do is just add more and more content",
    "start": "1176159",
    "end": "1182360"
  },
  {
    "text": "incrementally to the page that's not what we want to do we want to update content that's already there based on",
    "start": "1182360",
    "end": "1188080"
  },
  {
    "text": "our loading state so how can we do that well not too hard actually what I'm going to do is I am going to add a",
    "start": "1188080",
    "end": "1194559"
  },
  {
    "text": "little bit of extra code uh firstly what I'm going to do is set the response content type to HTML just so that we can",
    "start": "1194559",
    "end": "1200880"
  },
  {
    "text": "use some formatted elements and I'm going to say hello the time is and then I'm going to say loading dot dot dot so",
    "start": "1200880",
    "end": "1208200"
  },
  {
    "text": "that's our fake loading status and then back in the browser you can see it does indeed show that but I want to populate",
    "start": "1208200",
    "end": "1215000"
  },
  {
    "text": "this part of the UI dynamically while the page is loading and we can do that by adding a little bit of extra content",
    "start": "1215000",
    "end": "1222679"
  },
  {
    "text": "to the response so what I'm going to do is add a template element which won't show up in the UI it's completely",
    "start": "1222679",
    "end": "1228960"
  },
  {
    "text": "invisible it's just a template and that's going to contain the content that we want to put in the UI there so it's",
    "start": "1228960",
    "end": "1234080"
  },
  {
    "text": "going to uh contain a bold element with the current time and then where should that actually go in the UI well to",
    "start": "1234080",
    "end": "1240000"
  },
  {
    "text": "Define that I've added this other element called ad streaming block which is just a madeup name the browser doesn't know about that and it says the",
    "start": "1240000",
    "end": "1246679"
  },
  {
    "text": "destination is going to be an element called time which is this one up here now that won't make any difference",
    "start": "1246679",
    "end": "1252360"
  },
  {
    "text": "initially because the template element is invisible and AD streaming block doesn't even exist so the browser will",
    "start": "1252360",
    "end": "1257799"
  },
  {
    "text": "just do nothing if I reload you won't see any difference at all uh but you should be able to see in curl that it is",
    "start": "1257799",
    "end": "1263840"
  },
  {
    "text": "in fact sending that content to the response string all right so now all I",
    "start": "1263840",
    "end": "1268960"
  },
  {
    "text": "have to do is my make my own fake little bit of framework feature that is going to take these ad streaming blocks and",
    "start": "1268960",
    "end": "1275400"
  },
  {
    "text": "use it as an instruction to add this template content into the Dom and that's not specific to my application it could",
    "start": "1275400",
    "end": "1281600"
  },
  {
    "text": "be shared across all applications it's pretty simple it's defining a custom element called ad streaming block and it",
    "start": "1281600",
    "end": "1287960"
  },
  {
    "text": "says when we see one of those elements we'll find the content which is the template element that immediately",
    "start": "1287960",
    "end": "1293520"
  },
  {
    "text": "precedes it we'll find the destination by looking at that attribute and then we'll use this extremely naive technique",
    "start": "1293520",
    "end": "1300240"
  },
  {
    "text": "for copying that content into the Dom a real implementation could be a little bit more sophisticated than that but",
    "start": "1300240",
    "end": "1305799"
  },
  {
    "text": "anyway that should be enough for what we want so if I go back and reload",
    "start": "1305799",
    "end": "1311720"
  },
  {
    "text": "now then we see it does in fact actually work so the clock is updating as the",
    "start": "1312120",
    "end": "1317240"
  },
  {
    "text": "page is loading and we can use that technique to paste in arbitrary content to the response as part of our long",
    "start": "1317240",
    "end": "1323679"
  },
  {
    "text": "running response uh and that's exactly how this is working here so when the response initially goes out it contains",
    "start": "1323679",
    "end": "1330679"
  },
  {
    "text": "these empty placeholders and then as more and more data becomes available the server is sending more chunks of",
    "start": "1330679",
    "end": "1336679"
  },
  {
    "text": "response and causing them to get patched in to different parts of the page all right so there's no real magic to it",
    "start": "1336679",
    "end": "1342559"
  },
  {
    "text": "it's fairly simple you could Implement that yourself uh you might want a real implementation to be a bit more sophisticated like preserving other",
    "start": "1342559",
    "end": "1349279"
  },
  {
    "text": "parts of the Dom that aren't affected things like that uh but you know you get the idea of it okay so let's move on to",
    "start": "1349279",
    "end": "1356080"
  },
  {
    "text": "the next feature which is common to all these different Frameworks which is called enhanced navigation or enhanced",
    "start": "1356080",
    "end": "1361919"
  },
  {
    "text": "form posts in some cases and this again is to overcome another one of the",
    "start": "1361919",
    "end": "1367440"
  },
  {
    "text": "limitations of server side rendering so traditionally with server side rendering",
    "start": "1367440",
    "end": "1373080"
  },
  {
    "text": "every page is completely independent of every other page if the user follows a link the browser will throw away the",
    "start": "1373080",
    "end": "1378640"
  },
  {
    "text": "completely it'll throw away all the JavaScript State and create a new page from scratch potentially reload a load",
    "start": "1378640",
    "end": "1383799"
  },
  {
    "text": "of static content and set up the new page and that can be quite a slow and jarring experience for the end user so",
    "start": "1383799",
    "end": "1390960"
  },
  {
    "text": "enhanced nav is a way of getting the kind of fluidity that you have with a client side router even though you're",
    "start": "1390960",
    "end": "1396480"
  },
  {
    "text": "doing server side page loading so let me show you that and I'm going to show you that from the point of view of a",
    "start": "1396480",
    "end": "1402120"
  },
  {
    "text": "different framework called um selet selet I think is the one that introduced",
    "start": "1402120",
    "end": "1407840"
  },
  {
    "text": "this termin enhan nav even though lots of others now use it so let me start up",
    "start": "1407840",
    "end": "1413480"
  },
  {
    "text": "that one let's get out of here and go into spelt demo and I don't have a cute",
    "start": "1413480",
    "end": "1419960"
  },
  {
    "text": "scenario for this one it's pretty much just what you get when you create the the project from their template all right so when you create a new spelt",
    "start": "1419960",
    "end": "1426200"
  },
  {
    "text": "project you get something like this it's got a nice little counter example which I always love it's got an about page",
    "start": "1426200",
    "end": "1432080"
  },
  {
    "text": "it's got a Wordle clone for some reason and it's got a to-do list which is important all Frameworks need to have a",
    "start": "1432080",
    "end": "1437960"
  },
  {
    "text": "to-do list and this if we look at it is just a plain HTML form because once again this",
    "start": "1437960",
    "end": "1444120"
  },
  {
    "text": "is just doing server rendering it's not actually doing client side stuff right now so this is the HTML form that you",
    "start": "1444120",
    "end": "1450919"
  },
  {
    "text": "can see there and because there's nothing special about it when I submit that form the browser will throw the",
    "start": "1450919",
    "end": "1456000"
  },
  {
    "text": "whole page away and create another one from scratch and reload all the stuff and to see that more clearly let's check",
    "start": "1456000",
    "end": "1463080"
  },
  {
    "text": "out the network Tab and see how many files get requested all right so when I load the page you can see the browser's",
    "start": "1463080",
    "end": "1469000"
  },
  {
    "text": "done 64 requests there uh it would be smaller if I made an optimized production Bild but that's not important",
    "start": "1469000",
    "end": "1474440"
  },
  {
    "text": "the important thing is just that you remember that number 64 and see how it changes as we do this stuff all right so",
    "start": "1474440",
    "end": "1481120"
  },
  {
    "text": "let's clear that out and I'm going to add a new thing let's put hey n DC and then I'm going to press enter and we see",
    "start": "1481120",
    "end": "1487600"
  },
  {
    "text": "that the browser submits the form throws the page away and does another 63 requests to load the updated page so it",
    "start": "1487600",
    "end": "1494279"
  },
  {
    "text": "cached one thing apparently but everything else had to be reloaded and all the other state will have been thrown away but with enhanced nav or",
    "start": "1494279",
    "end": "1501600"
  },
  {
    "text": "enhanced form posts we can intercept that form post and resolve it without a full page load without really having to",
    "start": "1501600",
    "end": "1507640"
  },
  {
    "text": "change very much of the developer code so let's add that in now I'm going to go",
    "start": "1507640",
    "end": "1512880"
  },
  {
    "text": "over to the code for that which is in here that would be inside the to-do page",
    "start": "1512880",
    "end": "1520720"
  },
  {
    "text": "okay here we go right so here's our HTML form that we just submitted there you can see there's nothing you know unusual",
    "start": "1520720",
    "end": "1526840"
  },
  {
    "text": "or magic about it and we can can add this special attribute called use enhance which is built into spelit and",
    "start": "1526840",
    "end": "1534360"
  },
  {
    "text": "that is going to tell it that we want it to upgrade this form when scripts are available to resolve it using client",
    "start": "1534360",
    "end": "1540360"
  },
  {
    "text": "side code without having to you know change other aspects of our server side code all right so let's try that now so",
    "start": "1540360",
    "end": "1546399"
  },
  {
    "text": "I've reloaded you'll see it's done 64 requests again if you can see the bottom left corner and then I'll add another",
    "start": "1546399",
    "end": "1551799"
  },
  {
    "text": "thing and I'll hit enter and you can see now it only had to do two requests to",
    "start": "1551799",
    "end": "1557000"
  },
  {
    "text": "resolve that form post this time a single request to send the data and then it does another request to get like the",
    "start": "1557000",
    "end": "1562520"
  },
  {
    "text": "updated page St from the server okay and that creates a much more fluid user experience for the end user because you",
    "start": "1562520",
    "end": "1569840"
  },
  {
    "text": "know they don't have to watch the browser sort of unload and reload a new page okay now we're going to look at how",
    "start": "1569840",
    "end": "1576320"
  },
  {
    "text": "that works behind the scenes as well in a minute but I want to show you that from the Blazer point of view now",
    "start": "1576320",
    "end": "1581880"
  },
  {
    "text": "because I want to show you that that's not just about performance it's also about changing the actual practical user",
    "start": "1581880",
    "end": "1588760"
  },
  {
    "text": "experience as well so let me show you an example of why it's going to make a difference so notice that in my form",
    "start": "1588760",
    "end": "1596039"
  },
  {
    "text": "here I've got this Advanced check box here and when I click that it's going to open up this extra part of the form",
    "start": "1596039",
    "end": "1602279"
  },
  {
    "text": "where we can pick a location so let's look for I don't know a crime scene I always love coffee at crime scenes and",
    "start": "1602279",
    "end": "1608760"
  },
  {
    "text": "there was two of those apparently or it was the same incident where two people were having coffee good to know all",
    "start": "1608760",
    "end": "1613919"
  },
  {
    "text": "right but did you notice that the advanced checkbox became unchecked when I did that what's going on I didn't",
    "start": "1613919",
    "end": "1619960"
  },
  {
    "text": "uncheck it let's just try that one more time I'll click it to open it and then I'll submit and notice it just becomes",
    "start": "1619960",
    "end": "1625600"
  },
  {
    "text": "unchecked Again by itself so what's that about is that a bug well it's not really a bug this is just how server rendering",
    "start": "1625600",
    "end": "1632320"
  },
  {
    "text": "works and has always worked because we're throwing the page away then we'll lose all the state of things like",
    "start": "1632320",
    "end": "1637600"
  },
  {
    "text": "whether a checkbox is checked or not and of course as the developer you can do some work to manually preserve that",
    "start": "1637600",
    "end": "1643600"
  },
  {
    "text": "state across page loads if you want you can store in local storage you can try and round trip it through the form post",
    "start": "1643600",
    "end": "1649679"
  },
  {
    "text": "data or whatever you want but it's quite a pain to have to do that and with enhanced navigation and enhanced form",
    "start": "1649679",
    "end": "1655159"
  },
  {
    "text": "posts it's much simpler B because you can just retain any part of the page you want when things like forms are posted",
    "start": "1655159",
    "end": "1662240"
  },
  {
    "text": "so let's do that right now I'm going to go into the source code for that which",
    "start": "1662240",
    "end": "1668080"
  },
  {
    "text": "is back here you saw that before okay and on our actual form element here I'm",
    "start": "1668080",
    "end": "1673120"
  },
  {
    "text": "going to use Blaze's equivalent to use enhance which is data- enhance",
    "start": "1673120",
    "end": "1679159"
  },
  {
    "text": "all right and that again is going to tell the framework to resolve that fo poost using client side code which is",
    "start": "1679159",
    "end": "1684880"
  },
  {
    "text": "built into the framework so now when I open this check boox this uh this",
    "start": "1684880",
    "end": "1690399"
  },
  {
    "text": "location area down here and then I click the button notice that it does not lose the state of the checkbox anymore and",
    "start": "1690399",
    "end": "1697120"
  },
  {
    "text": "everything just works in the way that the user expects so now we've got the ability to retain parts of the page when",
    "start": "1697120",
    "end": "1704080"
  },
  {
    "text": "we're doing things like form posts and we can do streaming rendering to update the UI during different loading phases",
    "start": "1704080",
    "end": "1710159"
  },
  {
    "text": "it really starts to feel like quite a fluid user experience it feels basically identical to a client side Spa",
    "start": "1710159",
    "end": "1717320"
  },
  {
    "text": "application even though we're not relying on any client side Spar technology uh this is Blazer and it's",
    "start": "1717320",
    "end": "1722519"
  },
  {
    "text": "not using any web assembly it's not using any websockets in this case it's just using these techniques of streaming",
    "start": "1722519",
    "end": "1728240"
  },
  {
    "text": "rendering and enhanced nav okay all right so let's now dig a little bit",
    "start": "1728240",
    "end": "1735159"
  },
  {
    "text": "deeper into how this is really working behind this scenes now you probably don't really need to know this but you",
    "start": "1735159",
    "end": "1740840"
  },
  {
    "text": "know you're an advanced bunch of people and I'm sure you want to know like what is going on here how does this actually work behind the scenes and you'll find",
    "start": "1740840",
    "end": "1747760"
  },
  {
    "text": "out that it's not very difficult and in fact again you could implement this from scratch without needing the framework if",
    "start": "1747760",
    "end": "1753120"
  },
  {
    "text": "you wanted to and to prove that we're really doing it from scratch I'm going to take Blazer's standard JavaScript",
    "start": "1753120",
    "end": "1758679"
  },
  {
    "text": "library Blazer web.js and just delete it from my application completely which I very much don't recommend normally but",
    "start": "1758679",
    "end": "1765159"
  },
  {
    "text": "we we're going to do that just now because we can then see that everything that happens is stuff that we've",
    "start": "1765159",
    "end": "1770399"
  },
  {
    "text": "implemented ourselves all right so let's go over here onto this chat page and I want to show you um what happens when we",
    "start": "1770399",
    "end": "1777000"
  },
  {
    "text": "navigate from one place to another okay so because I have just turned off the",
    "start": "1777000",
    "end": "1783080"
  },
  {
    "text": "Blazer standard um enhanced navigation thing when I navigate from one page to another it's going to have to reload",
    "start": "1783080",
    "end": "1789760"
  },
  {
    "text": "everything from scratch so if I load you'll see that it's done 13 requests to",
    "start": "1789760",
    "end": "1795240"
  },
  {
    "text": "load that page just then and I'll clear that and then I'm going to navigate to another page like that and you will see",
    "start": "1795240",
    "end": "1803120"
  },
  {
    "text": "now it's done 12 requests to resolve that so again one thing was cached but everything else had to be fetched again",
    "start": "1803120",
    "end": "1809120"
  },
  {
    "text": "and it's thrown away the whole page State and created another one so let's Implement our own enhanced navigation to",
    "start": "1809120",
    "end": "1814880"
  },
  {
    "text": "fix that right now it's not very difficult so we will add a little bit of standard script which is going to look",
    "start": "1814880",
    "end": "1821080"
  },
  {
    "text": "like this a bit of JavaScript that's going to detect any click events in this document and we're going to check was",
    "start": "1821080",
    "end": "1827519"
  },
  {
    "text": "that a click event on a link tag an a tag and if it was we're going to say hey",
    "start": "1827519",
    "end": "1832559"
  },
  {
    "text": "don't do your normal thing don't follow that link don't update the URL just do nothing right apart from alert the fact",
    "start": "1832559",
    "end": "1839120"
  },
  {
    "text": "that we know that this has happened right so it's just just a starting point for us so now when I click on this link",
    "start": "1839120",
    "end": "1845440"
  },
  {
    "text": "to chat up here you'll see that it does not update the URL it's still where it was before and it just displays this",
    "start": "1845440",
    "end": "1851720"
  },
  {
    "text": "alert box instead all right so next step I do want it to actually update the URL",
    "start": "1851720",
    "end": "1857480"
  },
  {
    "text": "and I want affect the content dynamically using client side code so let's add a bit more JavaScript we are",
    "start": "1857480",
    "end": "1864240"
  },
  {
    "text": "going to push the URL that you just click the link for into the history stack like that and then we're going to",
    "start": "1864240",
    "end": "1870159"
  },
  {
    "text": "call perform enhanced nav which I haven't implemented yet that's going to do the main body of the work right and",
    "start": "1870159",
    "end": "1876279"
  },
  {
    "text": "the initial perform and enhanced nav is going to look like this we're going to fetch the contents that come back from",
    "start": "1876279",
    "end": "1882600"
  },
  {
    "text": "the server at that URL and read that as a string called HTML and we're going to display it in a minute but for for now",
    "start": "1882600",
    "end": "1888159"
  },
  {
    "text": "let's just alert it onto the screen to check this is working right come back over here and I will click this now and",
    "start": "1888159",
    "end": "1894480"
  },
  {
    "text": "you'll see this time the URL did update it did update to chat which is what I just clicked on uh but it doesn't",
    "start": "1894480",
    "end": "1899960"
  },
  {
    "text": "display the do the content in the browser it's just alerting uh it onto the screen like that so finally all we",
    "start": "1899960",
    "end": "1906440"
  },
  {
    "text": "have to do is simply update the Dom using the content that we've just fetched and there are many ways you",
    "start": "1906440",
    "end": "1912039"
  },
  {
    "text": "could do that some of which are much more sophisticated than others uh this is an incredibly naive technique all",
    "start": "1912039",
    "end": "1917480"
  },
  {
    "text": "we're doing is just pausing the HTML and just completely overriding the entire document body with it but you can",
    "start": "1917480",
    "end": "1923600"
  },
  {
    "text": "imagine a more sophisticated way of doing it through some sort of diffing algorithm that retains the parts of the page that don't need to change and in",
    "start": "1923600",
    "end": "1930120"
  },
  {
    "text": "fact that's exactly what Blazer does do behind the scenes but this will give you the idea of what's going on so now if",
    "start": "1930120",
    "end": "1936440"
  },
  {
    "text": "I'm over here on chat and I click onto merchandise it updates the URL and the content like that and if we have a look",
    "start": "1936440",
    "end": "1943200"
  },
  {
    "text": "in our Network tab uh I've done a Reload you'll see it's done 13 requests there and then I'm going to go and click on",
    "start": "1943200",
    "end": "1950639"
  },
  {
    "text": "the merchandise page and you'll see it's only done one more request there uh because we intercepted everything and",
    "start": "1950639",
    "end": "1957320"
  },
  {
    "text": "just implemented it ourselves okay so that really is pretty much all there is to enhanced navigation a little bit more",
    "start": "1957320",
    "end": "1964000"
  },
  {
    "text": "is needed for a real implementation to do with like integrating with back and forwards and things like that but you've",
    "start": "1964000",
    "end": "1969279"
  },
  {
    "text": "got the core idea of it right there okay so that's enough about enhanced",
    "start": "1969279",
    "end": "1976679"
  },
  {
    "text": "navigation let's move move on to our last topic which is interactive Islands",
    "start": "1976679",
    "end": "1982120"
  },
  {
    "text": "now you might think that we've already talked about that because you know that's where we started when we looked at that clock thing at the beginning um",
    "start": "1982120",
    "end": "1988080"
  },
  {
    "text": "but I want to show you this a little bit more from the perspective of a couple of other Frameworks as well I'm going to finish off showing you Blazer and then",
    "start": "1988080",
    "end": "1994360"
  },
  {
    "text": "we're going to move on to look at Astro which is a little bit different still and has got some interesting characteristics of its own so to",
    "start": "1994360",
    "end": "2001080"
  },
  {
    "text": "complete the story for Blazer uh we've got a page over here called chat which",
    "start": "2001080",
    "end": "2006279"
  },
  {
    "text": "uh it does work as a pure static server rendered page but it doesn't work very well and to show you what I mean by that",
    "start": "2006279",
    "end": "2013159"
  },
  {
    "text": "let's say that we want to uh participate in this fascinating discussion about do they film with real coffee and can you",
    "start": "2013159",
    "end": "2019000"
  },
  {
    "text": "see at the bottom it counts the number of characters left that you can type in let's say yes it's all LS like that uh",
    "start": "2019000",
    "end": "2028000"
  },
  {
    "text": "it's not updating the number of characters at all as I type and I can submit that yeah and it does show up on",
    "start": "2028000",
    "end": "2034080"
  },
  {
    "text": "the screen great but it doesn't work so well if there's multiple people on the site at once for example I'm going to",
    "start": "2034080",
    "end": "2040799"
  },
  {
    "text": "open a sec second window here like this all right and then I'll say down here",
    "start": "2040799",
    "end": "2046919"
  },
  {
    "text": "from Starbucks like that and then I'm going to send that and that last message",
    "start": "2046919",
    "end": "2053000"
  },
  {
    "text": "that I've just added in this window does show up here but it doesn't show up to the other person why doesn't it show up",
    "start": "2053000",
    "end": "2058839"
  },
  {
    "text": "to the other person because why would it like there's no live connection from this page to the server how would it",
    "start": "2058839",
    "end": "2064040"
  },
  {
    "text": "even know that another message has come in if the user manually reloads like like that then they'll get to see the updated message but that's not really",
    "start": "2064040",
    "end": "2070760"
  },
  {
    "text": "what you want for a chat experience so Blazer like many of these other Frameworks has got the ability to mark",
    "start": "2070760",
    "end": "2077679"
  },
  {
    "text": "parts of your page as running interactively and if you've used Blazer before you'll know that it can work with either web assembly or with server",
    "start": "2077679",
    "end": "2084280"
  },
  {
    "text": "rendering uh so I'll show you how we can add that quite straightforwardly right now here's my chat thread uh page which",
    "start": "2084280",
    "end": "2090440"
  },
  {
    "text": "Loops over all the messages and displays then and I'm going to add a render mode directive here and I can mark it as",
    "start": "2090440",
    "end": "2096878"
  },
  {
    "text": "being interactive on web assembly or server or even Auto which switches between the two depending on caching",
    "start": "2096879",
    "end": "2103280"
  },
  {
    "text": "state but I'm going to pick server okay and then let's see if that actually works now so",
    "start": "2103280",
    "end": "2109680"
  },
  {
    "text": "hopefully oh wait hold on I need to uh restart because of removing that script",
    "start": "2109680",
    "end": "2114839"
  },
  {
    "text": "earlier let's see if this works",
    "start": "2114839",
    "end": "2118720"
  },
  {
    "text": "now yeah so now can you see that the number of characters remaining is updating as I type that's good and",
    "start": "2120240",
    "end": "2126920"
  },
  {
    "text": "what's more if we've got multiple people on the site at once let's",
    "start": "2126920",
    "end": "2132160"
  },
  {
    "text": "reload uh then if I it's difficult to see isn't it but if I send that there",
    "start": "2132160",
    "end": "2138119"
  },
  {
    "text": "then you'll see it's immediately on the other window behind the scenes as well because we do now have this live",
    "start": "2138119",
    "end": "2143280"
  },
  {
    "text": "websocket connection between the browser and the server because that's what bler server does and it's smart enough to",
    "start": "2143280",
    "end": "2149160"
  },
  {
    "text": "start and stop that connection as the user navigates around so when the user on this page the websocket connections",
    "start": "2149160",
    "end": "2154359"
  },
  {
    "text": "there if they go over onto the search page then the framework will say hey I don't need that websocket connection",
    "start": "2154359",
    "end": "2159920"
  },
  {
    "text": "anymore it'll shut it down or it would restart it if the user comes back so you only pay for that server connectivity at",
    "start": "2159920",
    "end": "2166079"
  },
  {
    "text": "the time you're actually using that okay so let's now move on to another framework Astro and that's quite",
    "start": "2166079",
    "end": "2173040"
  },
  {
    "text": "interesting because it's it's Unique among all these different Frameworks and that it's not tied to any particular",
    "start": "2173040",
    "end": "2178839"
  },
  {
    "text": "client rendering technology Astro itself started as a simple static site",
    "start": "2178839",
    "end": "2183880"
  },
  {
    "text": "generator and then over the years they added more and more functionality to integrate with client rendering",
    "start": "2183880",
    "end": "2188960"
  },
  {
    "text": "Technologies let me show you what we can do with that and how it is a little bit different let's get rid of some of this",
    "start": "2188960",
    "end": "2195400"
  },
  {
    "text": "and here's my Astro team portal which we're going to add some stuff into Let's uh start that",
    "start": "2195400",
    "end": "2202760"
  },
  {
    "text": "up like so and once again I didn't really do any",
    "start": "2202760",
    "end": "2207960"
  },
  {
    "text": "cool design on this this is just the standard project template that you get when you create a new astro project the",
    "start": "2207960",
    "end": "2213200"
  },
  {
    "text": "only thing I've added is this link to exciting counters because I love counter based demos and um we're going to add",
    "start": "2213200",
    "end": "2219560"
  },
  {
    "text": "some counters to that uh to that page there right let's see the code inside there",
    "start": "2219560",
    "end": "2225400"
  },
  {
    "text": "inside uh Pages counters all right here's the code for that you'll recognize that message fam earliar and",
    "start": "2225400",
    "end": "2231800"
  },
  {
    "text": "you might look at that and say okay so what is this syntax then is that react maybe it looks a lot like react um the",
    "start": "2231800",
    "end": "2238839"
  },
  {
    "text": "answer is no it's not react it's not view it's not anything else it's just Astro's own builtin template syntax and",
    "start": "2238839",
    "end": "2246079"
  },
  {
    "text": "this only does serve and static rendering this is not doing anything on the client it's just a way of",
    "start": "2246079",
    "end": "2251680"
  },
  {
    "text": "constructing HTML using templates okay but I've also got this folder over here called components and inside there I've",
    "start": "2251680",
    "end": "2259240"
  },
  {
    "text": "got a react counter and a view counter because Astro itself is not tied to any client framework it allows you to work",
    "start": "2259240",
    "end": "2265359"
  },
  {
    "text": "with whichever ones you want or even multiple ones so here I've got a counter implemented in react which has got a",
    "start": "2265359",
    "end": "2271200"
  },
  {
    "text": "button which you click it and it increases account and it uses use State and things like that okay and then I've",
    "start": "2271200",
    "end": "2276920"
  },
  {
    "text": "also got a view counter which does the same thing using view as well and",
    "start": "2276920",
    "end": "2282240"
  },
  {
    "text": "because Astro integrates with these things I can add a react counter to my",
    "start": "2282240",
    "end": "2287960"
  },
  {
    "text": "page here and you can see the tooling automatically Imports that for me and then back in the browser we've now got",
    "start": "2287960",
    "end": "2293319"
  },
  {
    "text": "our react counter in the page there and I could do the same thing with the view counter as well like that if I want to",
    "start": "2293319",
    "end": "2299560"
  },
  {
    "text": "and now we've got react and View at the same time but that is not sending any code for these to the browser just like",
    "start": "2299560",
    "end": "2306359"
  },
  {
    "text": "these other Frameworks that talked about it's server rendering first and if I click the button nothing happens at all",
    "start": "2306359",
    "end": "2312839"
  },
  {
    "text": "if we want it to send the code for these into the browser we have to tell it to do that specifically so I'm going to",
    "start": "2312839",
    "end": "2318599"
  },
  {
    "text": "tell it that I want it to load these component instances in the browser and if I do that then once I go over here",
    "start": "2318599",
    "end": "2325560"
  },
  {
    "text": "now you'll see they do actually work and just to emphasize that this is a little bit different from what we would do with",
    "start": "2325560",
    "end": "2331720"
  },
  {
    "text": "other Frameworks I'll show you a weird thing we can do so since in my react component I've given it the ability to",
    "start": "2331720",
    "end": "2337760"
  },
  {
    "text": "render child content like that I can pass anything into it to render it inside that react component so if I",
    "start": "2337760",
    "end": "2344000"
  },
  {
    "text": "wanted to for some reason I could take my react component and put a view component inside it as a child and it",
    "start": "2344000",
    "end": "2350359"
  },
  {
    "text": "and it's there yeah so that's nice yeah what do you mean this is the the future I'm sure combining as many Frameworks as",
    "start": "2350359",
    "end": "2356960"
  },
  {
    "text": "you can and in fact in fact you if you really crazy which of course you are we could put a react component inside that",
    "start": "2356960",
    "end": "2363560"
  },
  {
    "text": "as well so now we've got react inside view inside react inside Astro and",
    "start": "2363560",
    "end": "2369040"
  },
  {
    "text": "everything just works together okay right thank you okay so uh that",
    "start": "2369040",
    "end": "2375119"
  },
  {
    "text": "just goes to show that we've got a lot of flexibility with these kinds of things and it's up to you the developer to choose what runs on the server what's",
    "start": "2375119",
    "end": "2381160"
  },
  {
    "text": "runs on the client what technolog is used for what and you've got a lot of flexibility with all that so there we go",
    "start": "2381160",
    "end": "2387200"
  },
  {
    "text": "that is what we're going to look at in terms of web applications today uh hopefully you can see there's a lot of commonality among these things in many",
    "start": "2387200",
    "end": "2394359"
  },
  {
    "text": "ways it makes your life more difficult as a developer because there's just so many different ways of doing things now",
    "start": "2394359",
    "end": "2399800"
  },
  {
    "text": "but it does also give you the power to tune that user experience to be as lightweight as you want uh while still",
    "start": "2399800",
    "end": "2406160"
  },
  {
    "text": "having whatever level of interactivity you want okay so let's move on a little bit from web UI stuff and we'll change",
    "start": "2406160",
    "end": "2412760"
  },
  {
    "text": "our Focus now to stuff that's happening on the server and I know that you'll have heard of web assembly before I'll",
    "start": "2412760",
    "end": "2419720"
  },
  {
    "text": "introduce it in a second just in case you haven't um most of you will have heard of wazzy web assembly system interface which is a way of running web",
    "start": "2419720",
    "end": "2426640"
  },
  {
    "text": "assembly code on a server in order to do servery things so why would anyone want",
    "start": "2426640",
    "end": "2431720"
  },
  {
    "text": "to do that and why am I talking about this now the the reason I'm talking about this now is because stuff is changing in this space right now and I'm",
    "start": "2431720",
    "end": "2438400"
  },
  {
    "text": "going to show you how it's changing all right so to understand the background of this let's do another timeline web",
    "start": "2438400",
    "end": "2444200"
  },
  {
    "text": "assembly itself has been around for quite a long time now so it first sort of appeared around 2015 and it actually",
    "start": "2444200",
    "end": "2449880"
  },
  {
    "text": "became available by Del by default in all the browsers in 2017 and that's the",
    "start": "2449880",
    "end": "2454960"
  },
  {
    "text": "thing that if you've ever used Blazer web assembly is what's allowing net to run in the browser there and the core",
    "start": "2454960",
    "end": "2460319"
  },
  {
    "text": "goal of this at that time was to make it possible to run arbitary code in a browser so in 2017 if you wanted to run",
    "start": "2460319",
    "end": "2467640"
  },
  {
    "text": "JavaScript in a browser obviously you could because that was what it was designed to do but if you wanted to use C or rust or go or whatever else then",
    "start": "2467640",
    "end": "2475119"
  },
  {
    "text": "web assembly was the way that that was possible you could compile from another language to web assembly a bite code",
    "start": "2475119",
    "end": "2480599"
  },
  {
    "text": "that runs inside a browser that's great it's fast it's sandboxed lovely but then a few years later people started to say",
    "start": "2480599",
    "end": "2488240"
  },
  {
    "text": "hey this stuff is really good wouldn't it be nice if we could use web assembly to do our server side code as well",
    "start": "2488240",
    "end": "2494720"
  },
  {
    "text": "because then we could write our code in any language we want and it would work on any operating system on any CPU type",
    "start": "2494720",
    "end": "2502119"
  },
  {
    "text": "it would still be like nearly native speed and it would be more secure because of all the sandboxing and people",
    "start": "2502119",
    "end": "2508000"
  },
  {
    "text": "said yeah that would be kind of cool but what would it even be able to do anyway because web assembly doesn't have a way",
    "start": "2508000",
    "end": "2513599"
  },
  {
    "text": "of interacting with the outside world in a browser all it can do is communic Comm unicate to JavaScript because it's",
    "start": "2513599",
    "end": "2518640"
  },
  {
    "text": "inside that sandbox what can web assembly do when it's on the server nothing so that's why wazzy came along",
    "start": "2518640",
    "end": "2525720"
  },
  {
    "text": "web assembly system interface gave web assembly on the server a way of doing useful stuff it was a set of standard",
    "start": "2525720",
    "end": "2531800"
  },
  {
    "text": "apis for doing server type stuff like working with files network sockets clock clocks environment variables stuff like",
    "start": "2531800",
    "end": "2538839"
  },
  {
    "text": "that okay and the design of this was inspired by posix uh that's a a standard",
    "start": "2538839",
    "end": "2545200"
  },
  {
    "text": "set of operating system apis that's widely used in Linux it's also available on Windows and Mac and this design has",
    "start": "2545200",
    "end": "2551559"
  },
  {
    "text": "been around for a long time so posix is like a 1970s technology pretty much and it made sense for wazzy to start with",
    "start": "2551559",
    "end": "2558319"
  },
  {
    "text": "that because the goal was to be able to get existing code to run and it was successful but it's not the future of",
    "start": "2558319",
    "end": "2565000"
  },
  {
    "text": "Wazi the reason why posx is not the future of Wazi is one it's a sort of many decades old view of computing it",
    "start": "2565000",
    "end": "2571720"
  },
  {
    "text": "doesn't really represent the modern era of cloud programming you know it's just about file handles and not about things",
    "start": "2571720",
    "end": "2577359"
  },
  {
    "text": "like distributed cues and blob stores and AI inference and stuff like that uh secondly because it's not extensible in",
    "start": "2577359",
    "end": "2584520"
  },
  {
    "text": "any way uh all you could use is just the standard apis that were built in and there's no way of standardizing your own",
    "start": "2584520",
    "end": "2590200"
  },
  {
    "text": "other apis on top of it but it wasn't the long-term Vision the longer term vision is something that we're just",
    "start": "2590200",
    "end": "2595720"
  },
  {
    "text": "coming to now and this has just been standardized in the last couple of weeks wiy Preview 2 and that brings a new",
    "start": "2595720",
    "end": "2601599"
  },
  {
    "text": "programming model that allows us to do some new things and the core idea in that is something called the comp",
    "start": "2601599",
    "end": "2607079"
  },
  {
    "text": "component model so let me introduce that to you now this is how different pieces of web assembly can work together so the",
    "start": "2607079",
    "end": "2613520"
  },
  {
    "text": "central thing behind this is a new interface definition language called wit",
    "start": "2613520",
    "end": "2618599"
  },
  {
    "text": "web assembly interface types and here's an example of that so you can imagine this is part of some kind of e-commerce",
    "start": "2618599",
    "end": "2624440"
  },
  {
    "text": "system and I've defined an interface called ordering and inside that we've got this type called Product with a few",
    "start": "2624440",
    "end": "2630240"
  },
  {
    "text": "different fields on it and I've also defined a function called add to car which takes an item and it returns some",
    "start": "2630240",
    "end": "2636200"
  },
  {
    "text": "kind of result okay now what language is that written in no language it's not",
    "start": "2636200",
    "end": "2642079"
  },
  {
    "text": "rust it's not C it's just a language independent format for defining a set of",
    "start": "2642079",
    "end": "2647480"
  },
  {
    "text": "functions and data types but you can use that with any language that you want for",
    "start": "2647480",
    "end": "2653280"
  },
  {
    "text": "example you could take that wit file and you could have some go code and compile them together to produce a web assembly",
    "start": "2653280",
    "end": "2659800"
  },
  {
    "text": "component that uses those apis you could also take some Rust code and compile it",
    "start": "2659800",
    "end": "2665640"
  },
  {
    "text": "with that wit file to produce a different web assembly component or you can take some C code and again use the",
    "start": "2665640",
    "end": "2671480"
  },
  {
    "text": "same wh file to produce another web assembly component and because all of these share the same API definitions we",
    "start": "2671480",
    "end": "2678160"
  },
  {
    "text": "know for sure that they can actually work together at runtime so uh obviously",
    "start": "2678160",
    "end": "2683880"
  },
  {
    "text": "that gives you cross language interrupt but it's not just about cross language interrupt that's been a solved problem for decades the main new innovation that",
    "start": "2683880",
    "end": "2691240"
  },
  {
    "text": "this is bringing is that it's still taking advantage of all the benefits of web assembly so even though all the",
    "start": "2691240",
    "end": "2697079"
  },
  {
    "text": "these components are working together they can still be independently sandboxed and they can only communicate through the channel defined in these wit",
    "start": "2697079",
    "end": "2703839"
  },
  {
    "text": "files so when you take a dependency on a web assembly component you don't actually have to trust it really you",
    "start": "2703839",
    "end": "2709240"
  },
  {
    "text": "don't have to trust that it won't read your memory space or mutate your data when you didn't expect it to you don't",
    "start": "2709240",
    "end": "2714599"
  },
  {
    "text": "have to trust that it won't access the file system or the network or whatever else because you know that all the components are running in their own",
    "start": "2714599",
    "end": "2720640"
  },
  {
    "text": "little sandboxes and all they can do is communicate across the API interfaces",
    "start": "2720640",
    "end": "2725800"
  },
  {
    "text": "that are defined in the whip files that you know about so to understand that a bit more let's have a go at building",
    "start": "2725800",
    "end": "2732240"
  },
  {
    "text": "something with it shall we and we're going to build uh a little web server now which uses components written in",
    "start": "2732240",
    "end": "2738280"
  },
  {
    "text": "multiple different languages working together and the main language we're going to use is C because I know that",
    "start": "2738280",
    "end": "2744359"
  },
  {
    "text": "most of you in here will see that as your main language uh but just before we get to that we're going to write a bit of rust code for our actual web server",
    "start": "2744359",
    "end": "2751839"
  },
  {
    "text": "now don't worry if you don't know rust you never seen it or you hate it or whatever doesn't matter it's not going to be very much code it's just going to",
    "start": "2751839",
    "end": "2757680"
  },
  {
    "text": "be a little web server and we're going to make it extensible and pluggable so that we can ball other functionality",
    "start": "2757680",
    "end": "2762760"
  },
  {
    "text": "into it using other languages okay so let's find our starting point for this",
    "start": "2762760",
    "end": "2768319"
  },
  {
    "text": "I'll close some things down and have a look over here all right okay so here is our rust",
    "start": "2768319",
    "end": "2776800"
  },
  {
    "text": "web server it doesn't have very much code in it it's just a single function which takes an incoming request and it's",
    "start": "2776800",
    "end": "2783160"
  },
  {
    "text": "going to read the current URL in that's coming in from the browser or whatever it's also going to determine the current",
    "start": "2783160",
    "end": "2789319"
  },
  {
    "text": "Tim stamp or it will do later it's just hardcoded right now and it's going to print a message to the console and then",
    "start": "2789319",
    "end": "2796319"
  },
  {
    "text": "it's going to determine what the response content should be and it's going to send that response back to the",
    "start": "2796319",
    "end": "2801920"
  },
  {
    "text": "browser with a 200 status all right hopefully that makes sense even if you don't really know Russ syntax we're",
    "start": "2801920",
    "end": "2807400"
  },
  {
    "text": "going to compile that now and rather than compiling to native code I'm going to compile it to a Wy preview2 component",
    "start": "2807400",
    "end": "2814440"
  },
  {
    "text": "now this talk is not really about the build systems so I'm not really going to talk about how that works I'm just going",
    "start": "2814440",
    "end": "2821200"
  },
  {
    "text": "to use a little script that I already prepared that builds stuff converts it",
    "start": "2821200",
    "end": "2826480"
  },
  {
    "text": "into a preview2 component and starts it up inside this little runtime called spin which allows web assembly",
    "start": "2826480",
    "end": "2832119"
  },
  {
    "text": "components to interact with a network listener okay so when I open this in a browser now you'll see it says to do",
    "start": "2832119",
    "end": "2838839"
  },
  {
    "text": "call external component and that is not very surprising because that's exactly what we hardcoded into our source code",
    "start": "2838839",
    "end": "2845640"
  },
  {
    "text": "all right makes sense but we want to make this into a pluggable web server now where you can add functionality",
    "start": "2845640",
    "end": "2852480"
  },
  {
    "text": "using any other language as a web assembly component and to do that we are going to need to define a wit file to",
    "start": "2852480",
    "end": "2859520"
  },
  {
    "text": "define the API contract that we're allowing people to use and in fact I've already written this whip file it's over",
    "start": "2859520",
    "end": "2865640"
  },
  {
    "text": "here you can see web server. Whip and it's got this interface web app and it says that to be a plugin for a web app",
    "start": "2865640",
    "end": "2872040"
  },
  {
    "text": "you need to do two things you need to be able to give a Tim stamp you also need to be able to give the current uh to",
    "start": "2872040",
    "end": "2877880"
  },
  {
    "text": "give some response for a given request so a URL comes in and you need to return a string which is the HTML that you want",
    "start": "2877880",
    "end": "2883880"
  },
  {
    "text": "to send back to the response and then this other stuff down here is quite a weird syntax I don't know why they use the word world but basically uh you can",
    "start": "2883880",
    "end": "2891200"
  },
  {
    "text": "decide when you're consuming this do you want to work on the web app provider side which means you're going to export",
    "start": "2891200",
    "end": "2896800"
  },
  {
    "text": "an implementation of this stuff so that people can call you or do you want to be the server which means you import this",
    "start": "2896800",
    "end": "2902559"
  },
  {
    "text": "stuff so that you can call into it uh so that's what this is doing it just allows you to specify which side of the",
    "start": "2902559",
    "end": "2908160"
  },
  {
    "text": "contract you want to be on okay so let's have a go actually using these functions from our rust code so I want to call",
    "start": "2908160",
    "end": "2915079"
  },
  {
    "text": "into this get timestamp which I'll do there and I want to call into get response HTML which I'll do that now",
    "start": "2915079",
    "end": "2921599"
  },
  {
    "text": "initially the rust tooling will display these R squigglies and it'll say like what on Earth are you talking about I",
    "start": "2921599",
    "end": "2926920"
  },
  {
    "text": "don't know what get Tim stamp is that's not defined anywhere you obviously doing something wrong and that's because I",
    "start": "2926920",
    "end": "2932359"
  },
  {
    "text": "haven't wired it up to this WID file in any way yet the way we do that in trust is using this markup sorry this macro",
    "start": "2932359",
    "end": "2939960"
  },
  {
    "text": "called wit bind gen which allows us to point to a particular wit file which I've done in my build config file and",
    "start": "2939960",
    "end": "2945319"
  },
  {
    "text": "say which side of the contract we want to be on okay so now I've done that i' still get squigglies but it's a little",
    "start": "2945319",
    "end": "2950839"
  },
  {
    "text": "different this time it says hey I do know what that is actually because there's just been some code generated",
    "start": "2950839",
    "end": "2956160"
  },
  {
    "text": "for that in the background do you want to import it so I'll say yeah I do want to import that and and this one as well",
    "start": "2956160",
    "end": "2961400"
  },
  {
    "text": "and now the squigglies will go away because we are actually referencing this API okay now let's try and rebuild and",
    "start": "2961400",
    "end": "2967799"
  },
  {
    "text": "restart and it's actually not going to work now it won't be able to start the server you see we'll get a build error",
    "start": "2967799",
    "end": "2973400"
  },
  {
    "text": "and it will say hey you're trying to use this thing call get Tim stamp I went looking for that and I got nothing like",
    "start": "2973400",
    "end": "2979599"
  },
  {
    "text": "what do you mean you're trying to reference something but you haven't provided an implementation for it so that makes sense hopefully we can't call",
    "start": "2979599",
    "end": "2985559"
  },
  {
    "text": "something without having an implementation for it let's provide an implementation and we're going to do that using C so I'm going to switch over",
    "start": "2985559",
    "end": "2993400"
  },
  {
    "text": "to visual studio now and I've got a project here it's kind of an unusual project because it doesn't contain any",
    "start": "2993400",
    "end": "2999319"
  },
  {
    "text": "source code whatsoever there's no C files in there because I really want to do this from scratch so you can see",
    "start": "2999319",
    "end": "3004520"
  },
  {
    "text": "everything and if we look in the Cs project file you'll see there's not a lot in there it's just a pretty standard",
    "start": "3004520",
    "end": "3010079"
  },
  {
    "text": "UHA class Library project okay so first thing I want to do is compile this as a",
    "start": "3010079",
    "end": "3015640"
  },
  {
    "text": "web assembly component uh we could do that in a few different ways but I'm going to use this experimental package called wasm component SDK and what that",
    "start": "3015640",
    "end": "3023319"
  },
  {
    "text": "is going to do is it's not going to use the monor runtime which we Norm use uh for net and web assembly it's going to",
    "start": "3023319",
    "end": "3029000"
  },
  {
    "text": "use native aot compilation instead to produce a fully aotd web assembly file just an experiment we're working through",
    "start": "3029000",
    "end": "3034920"
  },
  {
    "text": "at the moment and then I'm also going to configure the fact that I want the output to be wazzy flavored wasm okay so",
    "start": "3034920",
    "end": "3042359"
  },
  {
    "text": "once I've done that if I rebuild we should see that the build process goes through a few extra steps compared to",
    "start": "3042359",
    "end": "3048640"
  },
  {
    "text": "what you'd normally see and it's gone through this llvm phase and it's eventually produced a file which is a",
    "start": "3048640",
    "end": "3055400"
  },
  {
    "text": "web assembly file but it's not a traditional web assembly file it's a wazzy preview2 component which knows how",
    "start": "3055400",
    "end": "3061520"
  },
  {
    "text": "to be linked up to other whip files okay so let's uh actually link it up with a",
    "start": "3061520",
    "end": "3067559"
  },
  {
    "text": "wit file now how do we do that well with this tooling we can add a wit into one of our item groups and here you'll see",
    "start": "3067559",
    "end": "3075040"
  },
  {
    "text": "that here's my reference to the web server. wit file and I've defined that I'm on the web app provider side of this",
    "start": "3075040",
    "end": "3081079"
  },
  {
    "text": "contract which means that I'm going to implement stuff and if I try and build now we should now get some build errors",
    "start": "3081079",
    "end": "3087319"
  },
  {
    "text": "because it'll say hey that contract says that you need to implement this thing but you haven't done so I can't build",
    "start": "3087319",
    "end": "3092520"
  },
  {
    "text": "this anymore so let's Implement that I'm going to add a new C class and I'm going",
    "start": "3092520",
    "end": "3098799"
  },
  {
    "text": "to call it uh web app impul you can actually call anything you want that doesn't matter and then I'll go into",
    "start": "3098799",
    "end": "3105839"
  },
  {
    "text": "here and I'm going to drop in uh a starting point so because of this build tooling behind the scenes it's code",
    "start": "3105839",
    "end": "3112480"
  },
  {
    "text": "generated an interface that matches the thing that we're supposed to implement it's the naming is a bit weird that it",
    "start": "3112480",
    "end": "3118079"
  },
  {
    "text": "doesn't start with i but that's being fixed at the moment if I go in there you'll see this is the interface that's been generated and it looks just like",
    "start": "3118079",
    "end": "3124040"
  },
  {
    "text": "that width file so if I come back here and do a control dot I can say right I",
    "start": "3124040",
    "end": "3129200"
  },
  {
    "text": "need to implement this now generate the outline for that and let's put in an implementation this is going to be quite",
    "start": "3129200",
    "end": "3134319"
  },
  {
    "text": "easy let's just have date time now ticks I don't need that that'll do okay and for get response HTML I'll say hey NDC",
    "start": "3134319",
    "end": "3143559"
  },
  {
    "text": "from.net okay nice and I'm going to rebuild that now okay so hopefully",
    "start": "3143559",
    "end": "3149920"
  },
  {
    "text": "because of the fact that my build script wires these two components together I shouldn't get a build error from this",
    "start": "3149920",
    "end": "3155359"
  },
  {
    "text": "anymore it should now actually start up the web server and it does so open up in",
    "start": "3155359",
    "end": "3160839"
  },
  {
    "text": "my browser and you can see we've now got our rust web server which is able to call into our C code to provide part of",
    "start": "3160839",
    "end": "3167079"
  },
  {
    "text": "the response that's good but I don't just want to return a hard coder string I want to make this into a little static",
    "start": "3167079",
    "end": "3172880"
  },
  {
    "text": "file server you'll see I've got a couple of markdown files right here uh such as this one here and I want it to serve",
    "start": "3172880",
    "end": "3179400"
  },
  {
    "text": "whichever markdown file corresponds to the current request so I am going to paste in a little bit more",
    "start": "3179400",
    "end": "3185359"
  },
  {
    "text": "implementation here which is going to take that URL and it will say if it ends with a slash we'll normalize it by",
    "start": "3185359",
    "end": "3190960"
  },
  {
    "text": "adding index onto it because I want the homepage to serve index.md then we'll have a look and see if that file exists",
    "start": "3190960",
    "end": "3197920"
  },
  {
    "text": "if it does we're going to return it to the response otherwise we'll say not found okay so we we'll start our web",
    "start": "3197920",
    "end": "3204520"
  },
  {
    "text": "server again and we'll see if our updated logic now actually gets used",
    "start": "3204520",
    "end": "3209680"
  },
  {
    "text": "let's find out come over here and reload and it does it's now serving our markdown to the response now of course",
    "start": "3209680",
    "end": "3215520"
  },
  {
    "text": "it looks absolutely disgusting that's because I haven't formatted it as HTML yet it's just returning markdown string",
    "start": "3215520",
    "end": "3221480"
  },
  {
    "text": "into the browser and I could implement the markdown formatting in C there are",
    "start": "3221480",
    "end": "3226640"
  },
  {
    "text": "markdown formatters available for net it's not difficult but that's not really the point of this talk I want to show",
    "start": "3226640",
    "end": "3231760"
  },
  {
    "text": "that we can work with yet another technology or another ecosystem so what I want to to do is Define the abstract",
    "start": "3231760",
    "end": "3238680"
  },
  {
    "text": "notion of markdown formatting as yet another wit file and then I'm going to provide an implementation for that in go",
    "start": "3238680",
    "end": "3245599"
  },
  {
    "text": "in this case right now you won't be surprised to hear that I've already done that uh that's over here and if we look",
    "start": "3245599",
    "end": "3253160"
  },
  {
    "text": "in there you'll see here is the markdown format WID file it defines a single function format as HTML which takes the",
    "start": "3253160",
    "end": "3259119"
  },
  {
    "text": "markdown as a string and returns another string which is the HTML and once again you can decide which side of the",
    "start": "3259119",
    "end": "3264960"
  },
  {
    "text": "contract you want to be on and uh here's the actual implementation in go don't worry if you don't know go",
    "start": "3264960",
    "end": "3271119"
  },
  {
    "text": "there's nothing clever about this this is just using an open source Library called go markdown which will do the",
    "start": "3271119",
    "end": "3276160"
  },
  {
    "text": "formatting and then it's got all this block of code down here uh which is what's needed to actually instantiate",
    "start": "3276160",
    "end": "3281920"
  },
  {
    "text": "that and push the incoming string through the markdown format okay now don't worry about reading that we want",
    "start": "3281920",
    "end": "3287520"
  },
  {
    "text": "to consume that now from our C code so to do that we will go over here and add",
    "start": "3287520",
    "end": "3293079"
  },
  {
    "text": "a reference to yet another WID file like that and we'll say this time we're going to be on the consumer side of it and one",
    "start": "3293079",
    "end": "3299599"
  },
  {
    "text": "minor weird glitch at the moment which is a bug that should hopefully be fixed is that whenever you import something",
    "start": "3299599",
    "end": "3304799"
  },
  {
    "text": "you have to manually add this weird definition uh in order for it to actually work but you can ignore that because hopefully that would just go",
    "start": "3304799",
    "end": "3310119"
  },
  {
    "text": "away right so I can now compile my C code and I've got a reference to this markdown format even though I haven't",
    "start": "3310119",
    "end": "3317079"
  },
  {
    "text": "called it there's no build error because you don't have to call something just because you've implemented it but it will be there and available for me to",
    "start": "3317079",
    "end": "3322960"
  },
  {
    "text": "call now and I happen to know that the naming convention it uses uh for something like this uh markdown",
    "start": "3322960",
    "end": "3329839"
  },
  {
    "text": "functions will look like this in C markdown uh what is it functions",
    "start": "3329839",
    "end": "3336640"
  },
  {
    "text": "interop like that and as long as I've spilled that correctly then I should be able to import the name space for that",
    "start": "3336640",
    "end": "3342680"
  },
  {
    "text": "and then I can call format as HTML like that and then hopefully everything will",
    "start": "3342680",
    "end": "3348079"
  },
  {
    "text": "be wired up to call across uh into go like that all right let's see if this",
    "start": "3348079",
    "end": "3353400"
  },
  {
    "text": "works we're going to shut down the server one more time and start it and then go back into our browser and reload",
    "start": "3353400",
    "end": "3361039"
  },
  {
    "text": "and indeed it did actually work so we've successfully got our rust web server as a web assembly component calling into a",
    "start": "3361039",
    "end": "3368640"
  },
  {
    "text": "net plugin another web assembly component calling into a go Library another web assembly component and we",
    "start": "3368640",
    "end": "3374760"
  },
  {
    "text": "can serve multiple pages and things like that okay so obviously it's a kind of a a very basic and and small example there",
    "start": "3374760",
    "end": "3381599"
  },
  {
    "text": "but it leads to you know potentially quite an interesting future for these kind of technology so the overall goal",
    "start": "3381599",
    "end": "3388960"
  },
  {
    "text": "of something like this like the kind of dream you could imagine for it would be a sort of cross- language package",
    "start": "3388960",
    "end": "3394720"
  },
  {
    "text": "ecosystem so right now we've got package managers called things like cargo and mpm and net and they're all tied to",
    "start": "3394720",
    "end": "3401760"
  },
  {
    "text": "specific languages but you could imagine a future one which is based on web assembly and wit where you can consume",
    "start": "3401760",
    "end": "3408760"
  },
  {
    "text": "those components from any language you want without needing to care what it's written in and if you want to contribute",
    "start": "3408760",
    "end": "3414280"
  },
  {
    "text": "a component again you can do that from any language you want without having to uh you know align with what your",
    "start": "3414280",
    "end": "3419799"
  },
  {
    "text": "consumers of that are doing and then at runtime this stuff can run in any operating system on any CPU type at high",
    "start": "3419799",
    "end": "3426559"
  },
  {
    "text": "speed and with full sandboxing so will that be the future of server cloud programming don't know but that is what",
    "start": "3426559",
    "end": "3433559"
  },
  {
    "text": "wazzy is trying to achieve at the moment and where it's just going right now okay",
    "start": "3433559",
    "end": "3438680"
  },
  {
    "text": "so that is all we've got time for I hope that's been of some use to you I hope you've seen something new at least um",
    "start": "3438680",
    "end": "3446400"
  },
  {
    "text": "I'm around if you want to come and ask me questions or whatever that's fine uh but other than that I hope you have a really good rest of the conference and I",
    "start": "3446400",
    "end": "3453440"
  },
  {
    "text": "will see you all around",
    "start": "3453440",
    "end": "3457240"
  }
]