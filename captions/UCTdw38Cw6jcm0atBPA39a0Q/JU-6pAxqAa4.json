[
  {
    "text": "yeah all right good all right excellent we're gonna get started then I know a few people are still filtering but it's",
    "start": "5200",
    "end": "11830"
  },
  {
    "text": "a good time to start so hello nice to see you all I really love coming to NDC conferences they are",
    "start": "11830",
    "end": "17860"
  },
  {
    "text": "among my favorite of all the software conferences which is why I've particularly wanted to come out to this",
    "start": "17860",
    "end": "23320"
  },
  {
    "text": "one and I hope you have a gonna have a really good time especially if it's your first NDC and now before we get started",
    "start": "23320",
    "end": "30130"
  },
  {
    "text": "I'd really just like to get a bit of a sense of who's in the room so can you give me a signal but of your hand if you",
    "start": "30130",
    "end": "35890"
  },
  {
    "text": "do any sort of client-side web development today with some framework like angular react view knockout Elm",
    "start": "35890",
    "end": "42540"
  },
  {
    "text": "yeah anything like that yeah all right so I'd say that's about half of the room maybe a touch over hand and how many of",
    "start": "42540",
    "end": "49900"
  },
  {
    "text": "you are dotnet developers that's like two-thirds ok cool so we've got some",
    "start": "49900",
    "end": "55870"
  },
  {
    "text": "good overlap there and finally how many of you I've ever heard of this blazer thing and have some sort of vague sense",
    "start": "55870",
    "end": "61900"
  },
  {
    "text": "of what that is all right that's about the third of you might be maybe close to a half as well okay good all right so I",
    "start": "61900",
    "end": "67930"
  },
  {
    "text": "think you are in the right room and this should be fun so my name is Steve and I",
    "start": "67930",
    "end": "73090"
  },
  {
    "text": "work at Microsoft and I'm on the asp net team and I've had quite a lot of",
    "start": "73090",
    "end": "79000"
  },
  {
    "text": "different roles on the ASP Knut team over the years but mostly I focused on client-side scenarios things where",
    "start": "79000",
    "end": "85960"
  },
  {
    "text": "people are trying to write JavaScript in a browser historically and I've done a bunch of stuff on that but more recently",
    "start": "85960",
    "end": "92950"
  },
  {
    "text": "I've had this opportunity to work on a very exciting new experimental project to bring dotnet into the browser and",
    "start": "92950",
    "end": "99670"
  },
  {
    "text": "that's what this is all about today so we're going to get into that into in a lot of detail obviously that's what the",
    "start": "99670",
    "end": "105490"
  },
  {
    "text": "talk is about but before we get to it I just want to raise this question of why on earth is this relevant why should",
    "start": "105490",
    "end": "112299"
  },
  {
    "text": "anybody be trying to push this sort of thing why should you care and and is this really relevant to our industry so",
    "start": "112299",
    "end": "120039"
  },
  {
    "text": "let's take a step back and think about software more generally what kind of software exists what sort of platforms",
    "start": "120039",
    "end": "126159"
  },
  {
    "text": "can people target what kind of languages can people use well of course software",
    "start": "126159",
    "end": "131319"
  },
  {
    "text": "can run on personal computers desktops or laptops that's a very traditional way of thinking about software",
    "start": "131319",
    "end": "138490"
  },
  {
    "text": "and as well as that since the late 90s at least there's been a strong market for native mobile apps as well which is",
    "start": "138490",
    "end": "145000"
  },
  {
    "text": "you know more or less the same thing but just on a smaller screen and that's not all besides that a lot of us write code",
    "start": "145000",
    "end": "152140"
  },
  {
    "text": "that's designed to run on servers and of course those servers these days there's a good chance they're going to be in the",
    "start": "152140",
    "end": "157270"
  },
  {
    "text": "cloud but maybe it's just some machine that's under someone's desk somewhere but basically writing code that runs on",
    "start": "157270",
    "end": "162940"
  },
  {
    "text": "a server also takes up a lot of our time there are other types of software too for example games of course there are",
    "start": "162940",
    "end": "169300"
  },
  {
    "text": "many different game consoles and different pieces of gaming hardware as well as writing games for mobiles and",
    "start": "169300",
    "end": "175360"
  },
  {
    "text": "other types of devices and finally there's software that runs on embedded devices so that might be embedded into",
    "start": "175360",
    "end": "182170"
  },
  {
    "text": "some kind of scientific equipment like on this icon or maybe it's software that powers a car or a space shuttle or a",
    "start": "182170",
    "end": "188890"
  },
  {
    "text": "children's toy or anything else like that embedded software okay so lots of different types of software and one",
    "start": "188890",
    "end": "194590"
  },
  {
    "text": "thing that all the things have got in common is that when you're building this software you've got a wide range of",
    "start": "194590",
    "end": "199630"
  },
  {
    "text": "choices of languages and technology platforms that you can choose to use you",
    "start": "199630",
    "end": "204760"
  },
  {
    "text": "can use very high-level languages like manage languages such as Java or.net or you could use very low-level languages",
    "start": "204760",
    "end": "210850"
  },
  {
    "text": "like you could write plain machine code if you wanted or something in C and as well as that there are lots of languages",
    "start": "210850",
    "end": "217750"
  },
  {
    "text": "that target specific specializations such as scientific programming or",
    "start": "217750",
    "end": "223170"
  },
  {
    "text": "functional program if you if you want to think of that as a specialization with languages like Haskell so the software",
    "start": "223170",
    "end": "229450"
  },
  {
    "text": "industry is pretty maturing there's a wide range of choices for you for your team to decide what's best for the kind",
    "start": "229450",
    "end": "234970"
  },
  {
    "text": "of problems you're solving and what skill set your background is but there's another type of software as well that",
    "start": "234970",
    "end": "242200"
  },
  {
    "text": "greatly concerns me and that is software that's designed to run in a browser and you could make the argument that browser",
    "start": "242200",
    "end": "248800"
  },
  {
    "text": "is the biggest runtime there is in the world there are more people who can run software in a browser than anything else",
    "start": "248800",
    "end": "255040"
  },
  {
    "text": "but one thing that's not so cool about browser development is that until very recently you're essentially limited to",
    "start": "255040",
    "end": "261489"
  },
  {
    "text": "one language it's been the domain exclusively of JavaScript now I know that there are other languages that",
    "start": "261489",
    "end": "267550"
  },
  {
    "text": "compile to JavaScript and the Riva some edge case type things like elm but more or less everyone is doing stuff",
    "start": "267550",
    "end": "273409"
  },
  {
    "text": "that resembles JavaScript even if it compiles to JavaScript it's the same runtime the same basic set of",
    "start": "273409",
    "end": "279409"
  },
  {
    "text": "constraints the same basic kind of feel and that is a shame for us as an industry because it means that we're not",
    "start": "279409",
    "end": "285469"
  },
  {
    "text": "able to take advantage of all the advances that are taking place in the rest of software wouldn't it be nicer if",
    "start": "285469",
    "end": "292129"
  },
  {
    "text": "web development could grow up a little bit and join the rest of the software industry with a much broader spectrum of",
    "start": "292129",
    "end": "298460"
  },
  {
    "text": "choices for developers and that wasn't really possible until recently because of this marvelous thing that's swooping",
    "start": "298460",
    "end": "304340"
  },
  {
    "text": "in to save us all which is web assembling I'm sure you've heard of it web assembly is a bytecode format that",
    "start": "304340",
    "end": "309919"
  },
  {
    "text": "is now supported in all up-to-date browsers including mobiles and the idea with web assembly is you can compile",
    "start": "309919",
    "end": "316099"
  },
  {
    "text": "from whenever language you want to web assembly and then you can run that code directly in the browser and you don't",
    "start": "316099",
    "end": "321949"
  },
  {
    "text": "have to just use one specific type of thing so that is a very promising development for web developers and that",
    "start": "321949",
    "end": "328759"
  },
  {
    "text": "of course gets us thinking what sort of things would we like to run our web",
    "start": "328759",
    "end": "333949"
  },
  {
    "text": "assembly and I'm part of the.net team so of course for me one of my main interests is well could we run no on web",
    "start": "333949",
    "end": "342020"
  },
  {
    "text": "assembly and would anyone want to do that what sort of benefits would there be well I think we can probably agree",
    "start": "342020",
    "end": "347750"
  },
  {
    "text": "that there is a bunch of benefits that would be of interest to web developers if this was a realistic option for",
    "start": "347750",
    "end": "353319"
  },
  {
    "text": "example unlike the world of JavaScript dotnet is relatively stable and mature",
    "start": "353319",
    "end": "358580"
  },
  {
    "text": "it's been around for what 18 years now and it's largely maintained about compatibility throughout that process",
    "start": "358580",
    "end": "365150"
  },
  {
    "text": "it's very very constant and reliable year after year for getting your work done as well as that it's maintained a",
    "start": "365150",
    "end": "372800"
  },
  {
    "text": "reputation of being very fast and secure the current don't net core runtimes is",
    "start": "372800",
    "end": "378199"
  },
  {
    "text": "going to be able to run your code just about as fast as any code that you're gonna write in a much lower level language while giving you a much higher",
    "start": "378199",
    "end": "384919"
  },
  {
    "text": "level of productivity as a developer but you know that if you rode on a developer and the rest of you would probably agree that it can be said for other managed",
    "start": "384919",
    "end": "391310"
  },
  {
    "text": "languages as well okay there's been tons of innovation in the languages in dotnet space of course",
    "start": "391310",
    "end": "397879"
  },
  {
    "text": "in C sharp and F sharp they're always adding new features pretty much on a monthly basis so that's always remaining",
    "start": "397879",
    "end": "403459"
  },
  {
    "text": "up to date and then finally the thing that Microsoft's developed division has always had a reputation for",
    "start": "403459",
    "end": "409550"
  },
  {
    "text": "its building first-rate development tooling so industry-leading productivity in your IDs there so quite a bundle of",
    "start": "409550",
    "end": "417230"
  },
  {
    "text": "benefits that if it were realistically possible to run in a browser would hopefully be interesting and until a few",
    "start": "417230",
    "end": "424130"
  },
  {
    "text": "years ago it was possible because we had Silverlight and you could run dotnet in the browser on a plugin but that doesn't",
    "start": "424130",
    "end": "429980"
  },
  {
    "text": "really work in the modern world plugins so webassembly gives us a new opportunity to reinvent the idea of",
    "start": "429980",
    "end": "436820"
  },
  {
    "text": "dotnet in a browser but purely based on open standards and running on any device and that's what brings us to blazer",
    "start": "436820",
    "end": "444340"
  },
  {
    "text": "blazer is our experimental project from the dotnet from the asp net team",
    "start": "444340",
    "end": "449660"
  },
  {
    "text": "specifically that's looking into what would it be like to build daunt",
    "start": "449660",
    "end": "454880"
  },
  {
    "text": "applications in the black browser in a very modern way so it's a user interface stack that runs on net which itself runs",
    "start": "454880",
    "end": "463100"
  },
  {
    "text": "on web assembly in any browser okay now if you're wondering where the name for",
    "start": "463100",
    "end": "468800"
  },
  {
    "text": "blazer comes from well it's a composition of two words the A's apart of it comes from Razer which is the",
    "start": "468800",
    "end": "475490"
  },
  {
    "text": "c-sharp and HTML syntax that we'll be seeing a lot of in this talk and the",
    "start": "475490",
    "end": "480500"
  },
  {
    "text": "blue part of it obviously comes from blockchain because you know what chains really cool and everything should be",
    "start": "480500",
    "end": "486890"
  },
  {
    "text": "block sharing these days right and we haven't admittedly figured out how blockchain is involved in this yet but",
    "start": "486890",
    "end": "492680"
  },
  {
    "text": "when we do we'll add that into a future version not really not really of course that becomes from browser because we're",
    "start": "492680",
    "end": "498680"
  },
  {
    "text": "ruining Razer inside a browser and the L it just sounds better there we go that's",
    "start": "498680",
    "end": "503840"
  },
  {
    "text": "a perfectly good business justification all right so that's a blazer and that's why I want to show you in some detail in",
    "start": "503840",
    "end": "510230"
  },
  {
    "text": "this talk the way we're gonna structure this talk is in two parts so in the first part I want to show you what it's",
    "start": "510230",
    "end": "516919"
  },
  {
    "text": "like to create a new blazer application I'll show you what the project templates are like and I'll use that as an",
    "start": "516919",
    "end": "522349"
  },
  {
    "text": "opportunity to explain to you how it's working behind the scenes and after we've got some of that basic level",
    "start": "522349",
    "end": "528410"
  },
  {
    "text": "information about how this is working I want to move on to building a bigger application so don't want to just get",
    "start": "528410",
    "end": "534410"
  },
  {
    "text": "stuck at the hello world level and when I show you some more interesting architectural questions",
    "start": "534410",
    "end": "539600"
  },
  {
    "text": "and some of the more advanced things that you can do with laser so we'll move",
    "start": "539600",
    "end": "544639"
  },
  {
    "text": "on to them but let's get started with creating a new project and there are a couple of different project types",
    "start": "544639",
    "end": "550009"
  },
  {
    "text": "available in Glaser right now the simplest one is to create a pure client-side application that's just",
    "start": "550009",
    "end": "555889"
  },
  {
    "text": "running Donna in the browser and doesn't have any opinions about what you're doing on the server so I'm going to",
    "start": "555889",
    "end": "561529"
  },
  {
    "text": "create a project and I'm gonna do it using visual studio on Windows now that's what we've got the best tooling for at the moment longer term we hope to",
    "start": "561529",
    "end": "568399"
  },
  {
    "text": "expand that to to be more cross-platform and to be support other kinds of development environments but where we're",
    "start": "568399",
    "end": "574639"
  },
  {
    "text": "starting right now in this project is envious of Windows so what I've done already is I've installed the blazer",
    "start": "574639",
    "end": "580730"
  },
  {
    "text": "extension for visual studio and at the end of this talk I'll give you the link so you can go and download that as well",
    "start": "580730",
    "end": "586069"
  },
  {
    "text": "yourself and once I've done that I can create a new project so I'll go file new project and from the list of project",
    "start": "586069",
    "end": "592730"
  },
  {
    "text": "types I'll choose an ASP neck or web application and we'll give it a name let's call it NDC blaze or and also go",
    "start": "592730",
    "end": "600529"
  },
  {
    "text": "on that and then it'll say alright what kind of ASP nut core application do you want to produce and we've got all the",
    "start": "600529",
    "end": "607069"
  },
  {
    "text": "usual choices but because I've installed this extension we've also got these two Blazer options as well so I'm going to",
    "start": "607069",
    "end": "613130"
  },
  {
    "text": "choose a plain blazer standalone client-side application first and it's",
    "start": "613130",
    "end": "618740"
  },
  {
    "text": "going to create that project for me and it's going to fetch and install all of the dependencies necessary so I should",
    "start": "618740",
    "end": "624290"
  },
  {
    "text": "be able to compile this and get it running okay now first I want to show it",
    "start": "624290",
    "end": "630889"
  },
  {
    "text": "running in a browser so you can see what the application starting point UI looks like and then we'll jump into the code",
    "start": "630889",
    "end": "637310"
  },
  {
    "text": "and see how it's actually implemented and how you can build more stuff with it so I'm gonna pop that up in a browser",
    "start": "637310",
    "end": "643639"
  },
  {
    "text": "and when my server starts responding to me in a few seconds we should see the",
    "start": "643639",
    "end": "650029"
  },
  {
    "text": "initial UI coming up there okay so as you can see the project template creates",
    "start": "650029",
    "end": "656990"
  },
  {
    "text": "something that's a bit like a dashboard type application because that's a very common scenario for this sort of",
    "start": "656990",
    "end": "663319"
  },
  {
    "text": "technology and what's in there well we've got side back forward navigation might you'd",
    "start": "663319",
    "end": "668480"
  },
  {
    "text": "expect and we've got a couple of examples of components so we've got this counter component here that just counts",
    "start": "668480",
    "end": "674629"
  },
  {
    "text": "the number of times that you've clicked on a button and we've also got the simple fetch data example which makes an",
    "start": "674629",
    "end": "681230"
  },
  {
    "text": "HTTP request to some location on a server fetches some JSON data and renders it as an HTML table okay pretty",
    "start": "681230",
    "end": "689269"
  },
  {
    "text": "simple stuff so this is the sort of application that traditionally people would build with a JavaScript library",
    "start": "689269",
    "end": "695689"
  },
  {
    "text": "like view or react or angular or that sort of thing so let's have a look in our project and we'll try and spot the",
    "start": "695689",
    "end": "702079"
  },
  {
    "text": "JavaScript shall we let's see what files we've got in here well we've got some CSS and some HTML we've got the CS HTML",
    "start": "702079",
    "end": "710240"
  },
  {
    "text": "files that's RAZR files which I'll show you in a second and we've got jason config and we've got a c-sharp file so",
    "start": "710240",
    "end": "717019"
  },
  {
    "text": "there's no JavaScript at all in this application it's purely a dotnet plus",
    "start": "717019",
    "end": "722600"
  },
  {
    "text": "HTML and CSS application and as for what these components are and what they do",
    "start": "722600",
    "end": "728269"
  },
  {
    "text": "and how they work well let's take a look at one let's start with the counter component so if you recall it just",
    "start": "728269",
    "end": "733309"
  },
  {
    "text": "counts the number of times that you click on a button the implementation for that looks like this okay so this is",
    "start": "733309",
    "end": "739999"
  },
  {
    "text": "razor I expect a lot have you've seen it but if you haven't raised there is a syntax for combining HTML and C sharp in",
    "start": "739999",
    "end": "745639"
  },
  {
    "text": "a pretty natural kind of way and what we're doing here is at the top we've got this directive called page and this",
    "start": "745639",
    "end": "751220"
  },
  {
    "text": "tells the router that this component acts as the handler for a particular URL so any Blaser component can act as a",
    "start": "751220",
    "end": "757610"
  },
  {
    "text": "handler for URL if you want it to but they don't all have to it's up to you this one listens for the counter URL and",
    "start": "757610",
    "end": "764209"
  },
  {
    "text": "it's going to display a little bit of HTML it's also got some c-sharp so we've got this variable current count that's",
    "start": "764209",
    "end": "769759"
  },
  {
    "text": "going to show how many times you've clicked we'll use razor syntax to display that current count value and we've got a",
    "start": "769759",
    "end": "775370"
  },
  {
    "text": "button that says when you click it we're going to call this c-sharp method increment count and that will increment",
    "start": "775370",
    "end": "780860"
  },
  {
    "text": "it and everything will update okay that makes sense reasonable clear yeah no no",
    "start": "780860",
    "end": "787249"
  },
  {
    "text": "obvious objections all right so let's have a look at another one let's have a look at this fetch data on this is an",
    "start": "787249",
    "end": "792559"
  },
  {
    "text": "example of making an HTTP request and again it's got the page directive up at the top there this has also got an",
    "start": "792559",
    "end": "799160"
  },
  {
    "text": "injector because blazer applications support dependency injection so we can inject",
    "start": "799160",
    "end": "804240"
  },
  {
    "text": "services into components here we're injecting an HTTP client that lets us make requests that's the standard dotnet",
    "start": "804240",
    "end": "810509"
  },
  {
    "text": "HTTP client that a lot of you will be familiar with and then down at the bottom we've got some c-sharp code we're",
    "start": "810509",
    "end": "815699"
  },
  {
    "text": "declaring a class to specify what kind of data we're expecting to get back from the server and then we can use normal C",
    "start": "815699",
    "end": "821579"
  },
  {
    "text": "sharp programming like a sink and a weight and HTTP GET requests to fetch some data turn it into an array of",
    "start": "821579",
    "end": "828360"
  },
  {
    "text": "weather forecasts and then up here we can use some razor code to render an",
    "start": "828360",
    "end": "833670"
  },
  {
    "text": "HTML table very straightforward kind of things now because this is a standalone",
    "start": "833670",
    "end": "838709"
  },
  {
    "text": "client only application there's no server to get data from so we're just fetching the static JSON file from disk",
    "start": "838709",
    "end": "845130"
  },
  {
    "text": "but in other cases you would call a actual server-side end point but the client-side code doesn't know or care",
    "start": "845130",
    "end": "851279"
  },
  {
    "text": "about that all right so that's some basics now let me show you a little bit more stuff that you can do with",
    "start": "851279",
    "end": "856560"
  },
  {
    "text": "components so I'm going to be trying to impress upon you the fact that components are a very flexible concept",
    "start": "856560",
    "end": "864029"
  },
  {
    "text": "that you can do almost anything that you want to with components for example one",
    "start": "864029",
    "end": "869040"
  },
  {
    "text": "of the most basic and useful things you can do is use one component inside another here's the index page this is",
    "start": "869040",
    "end": "874920"
  },
  {
    "text": "like the home page here so as you can see it's displaying this how is Blaser working for you thing down there and",
    "start": "874920",
    "end": "880769"
  },
  {
    "text": "that is coming from another component which is called survey prompt and we can trivially just use any component inside",
    "start": "880769",
    "end": "886649"
  },
  {
    "text": "another so if for whatever crazy reason I decide that I want to have a counter on my home page I can simply type out",
    "start": "886649",
    "end": "893579"
  },
  {
    "text": "counter I get intellisense and then my counter is going to be added to the application right there",
    "start": "893579",
    "end": "900300"
  },
  {
    "text": "so if I come back and I reload in the browser now we should see we've got a counter right there on the home page as",
    "start": "900300",
    "end": "907170"
  },
  {
    "text": "well and of course it's a functional counter because all components just encapsulate their own behaviors and",
    "start": "907170",
    "end": "912240"
  },
  {
    "text": "that's going to work fine but we can do more stuff with it than that for example we can pass parameters into",
    "start": "912240",
    "end": "917610"
  },
  {
    "text": "them let's say instead of incrementing by one every time I want it to go up by a variable amount so I'm going to go to",
    "start": "917610",
    "end": "923850"
  },
  {
    "text": "my counter and I'm going to add a parameter parameter of type int and I'll",
    "start": "923850",
    "end": "929550"
  },
  {
    "text": "call it increment amount and we'll give that some getters and setters and an in default value of",
    "start": "929550",
    "end": "936820"
  },
  {
    "text": "one and I'll say when we call this method we're going to increase by the increment amount okay and so now here",
    "start": "936820",
    "end": "944950"
  },
  {
    "text": "where I've got this counter I want to use this increment amount parameter so I",
    "start": "944950",
    "end": "950200"
  },
  {
    "text": "can just use the intellisense pick the parameter that I want to pass let's say I want it to increment by eights now and",
    "start": "950200",
    "end": "956200"
  },
  {
    "text": "then hopefully it will do what I have told it so let's come back and reload",
    "start": "956200",
    "end": "961600"
  },
  {
    "text": "and now when I click this you'll see it's going up in eighths rather than once where is this other",
    "start": "961600",
    "end": "967000"
  },
  {
    "text": "counter it still goes up in once because I haven't passed any parameter to that okay so that gives you a bit of sense of",
    "start": "967000",
    "end": "974830"
  },
  {
    "text": "some things that you can do with components but I ever really explained very much about how this works behind the scenes yeah I'm sure some of you are",
    "start": "974830",
    "end": "981280"
  },
  {
    "text": "thinking well hang on this is dotnet and it's running on web assembly but how does that work like how does the browser",
    "start": "981280",
    "end": "987430"
  },
  {
    "text": "know to run dotnet what what are you even sending to the browser anyway is this running on the server in some way",
    "start": "987430",
    "end": "993130"
  },
  {
    "text": "well let me show you okay probably the easiest way to understand it is by looking at the browser's network tab so",
    "start": "993130",
    "end": "998860"
  },
  {
    "text": "we can see exactly what stuff we're sending to the browser so I'm gonna do a hard reload there and let's start by",
    "start": "998860",
    "end": "1004740"
  },
  {
    "text": "talking about how big this thing is so we're embedding an entire dotnet runtime into a page here so what's that",
    "start": "1004740",
    "end": "1010560"
  },
  {
    "text": "going to be like hundreds of Meg's well firstly we can see it's 18 HTTP requests",
    "start": "1010560",
    "end": "1015630"
  },
  {
    "text": "totaling 1.8 one megabytes so 1.8 one makes it's pretty small for a dotnet",
    "start": "1015630",
    "end": "1021480"
  },
  {
    "text": "runtime but it's also and still a little bit big for a web application so I'm sure some of you would like it to be",
    "start": "1021480",
    "end": "1027660"
  },
  {
    "text": "smaller than that we want it to be smaller than that as well sometimes we talk to customers in the say hey I don't",
    "start": "1027660",
    "end": "1032730"
  },
  {
    "text": "care I'm writing internal apps I don't mind if it's 10 Meg's it's no problem for me but at least those of us on the",
    "start": "1032730",
    "end": "1038130"
  },
  {
    "text": "team are very determined that we're going to make this number quite a lot smaller we've got lots of optimizations lined up that we intend to get this",
    "start": "1038130",
    "end": "1044040"
  },
  {
    "text": "number out of the box to be a much lower value than 1.8 Meg's but anyway we're only just getting",
    "start": "1044040",
    "end": "1049380"
  },
  {
    "text": "started with the optimizations right now so this is what we've got and what does 1.8 Meg's buy you these days well what",
    "start": "1049380",
    "end": "1055950"
  },
  {
    "text": "do you get for your 1.8 Meg's you get some HTML that we're initially sending down to the browser we're getting some",
    "start": "1055950",
    "end": "1061290"
  },
  {
    "text": "CSS as well we got some JavaScript so blazer doc Jas where's that coming from we don't have",
    "start": "1061290",
    "end": "1067800"
  },
  {
    "text": "any JavaScript in our solution so where's this Jas coming from and what's this thing mono wasum what's mono",
    "start": "1067800",
    "end": "1074670"
  },
  {
    "text": "involved in this for this is webassembly of course so why some is the file extension work",
    "start": "1074670",
    "end": "1079680"
  },
  {
    "text": "for web assembly binaries and mono is the dotnet runtime that we are using here as I'm sure many of you will be",
    "start": "1079680",
    "end": "1086190"
  },
  {
    "text": "aware there are lots of different at runtime available there's not that framework that's done at core there's",
    "start": "1086190",
    "end": "1092310"
  },
  {
    "text": "core Artie there's mono and there's probably loads of other ones as well the idea with all of this is that there's a",
    "start": "1092310",
    "end": "1099480"
  },
  {
    "text": "standard it's called dotnet standard and when you write your code and compile it against dotnet standard then your code",
    "start": "1099480",
    "end": "1105240"
  },
  {
    "text": "can run on any dotnet standard compliant run type a mono is for dotnet runtime it",
    "start": "1105240",
    "end": "1111750"
  },
  {
    "text": "in fact is Microsoft's official preferred dotnet runtime for client scenarios so for things like native",
    "start": "1111750",
    "end": "1118380"
  },
  {
    "text": "mobile apps and for things like games on unity so mono is an incredibly widely",
    "start": "1118380",
    "end": "1124320"
  },
  {
    "text": "used incredibly mature and stable dotnet runtime it's been around for a long time and the current versions of it are",
    "start": "1124320",
    "end": "1130890"
  },
  {
    "text": "compliant with dotnet standard 2 or 2 1 or whatever they've got too right now so",
    "start": "1130890",
    "end": "1135990"
  },
  {
    "text": "that's what we use in here we've got a build of mono which is compiled to web assembly and so it can run inside the",
    "start": "1135990",
    "end": "1142080"
  },
  {
    "text": "browser and because we've got that we can send regular dotnet assemblies down into the browser so when you compile",
    "start": "1142080",
    "end": "1148530"
  },
  {
    "text": "your a blazer application we're not compiling your c-sharp into JavaScript",
    "start": "1148530",
    "end": "1153540"
  },
  {
    "text": "or web assembly or anything like that we're just compiling normal dotnet assemblies and that's why the build times can be so fast it just uses all",
    "start": "1153540",
    "end": "1160680"
  },
  {
    "text": "the existing tool chain and then we send these normal dotnet assemblies down into the browser and we load them into mono",
    "start": "1160680",
    "end": "1166620"
  },
  {
    "text": "Dasom and it just runs them and we are very happy about that ok so that's some",
    "start": "1166620",
    "end": "1173220"
  },
  {
    "text": "of what's going on but let's understand a little bit more where were these J's files coming from and how does the",
    "start": "1173220",
    "end": "1179040"
  },
  {
    "text": "browser even know to load all this stuff well let's have a look in here let's",
    "start": "1179040",
    "end": "1184080"
  },
  {
    "text": "have a look at this index dot HTML file this is the initial HTML that gets sent",
    "start": "1184080",
    "end": "1189300"
  },
  {
    "text": "down to the browser when the user loads your page and the idea here is that this is your HTML and you can do",
    "start": "1189300",
    "end": "1195510"
  },
  {
    "text": "whatever you want with that so you can come to this file and you can add your own CSS your own references or the",
    "start": "1195510",
    "end": "1201150"
  },
  {
    "text": "JavaScript or meta tags or whatever you want entirely up to you the only special but is this script type",
    "start": "1201150",
    "end": "1206640"
  },
  {
    "text": "equals blazer boot and that is the magic thing that knows how to load and kickstart the blazer application so what",
    "start": "1206640",
    "end": "1213810"
  },
  {
    "text": "happens is when you compile your application we replace that script tag with something that the browser can",
    "start": "1213810",
    "end": "1219240"
  },
  {
    "text": "understand so by the time this gets to the browser it looks slightly different it looks like this so it's the same",
    "start": "1219240",
    "end": "1224730"
  },
  {
    "text": "content that you just saw before but the script type equals blazer boot has been replaced by this other script tag which",
    "start": "1224730",
    "end": "1230940"
  },
  {
    "text": "loads a file that's embedded into the framework called blazer J s and that in turn knows how to load and start up the",
    "start": "1230940",
    "end": "1237960"
  },
  {
    "text": "mono web assembly runtime it also gets a bit of configure bout like what your application entry point is and what",
    "start": "1237960",
    "end": "1244020"
  },
  {
    "text": "you're referencing things like that so that is how the browser is able to load and start up the Dom app runtime there",
    "start": "1244020",
    "end": "1251310"
  },
  {
    "text": "so I hope that makes sense to you and that's how we can create a pure",
    "start": "1251310",
    "end": "1256710"
  },
  {
    "text": "client-side application when you publish this application what you get out of it is a set of static files and you can",
    "start": "1256710",
    "end": "1262950"
  },
  {
    "text": "deploy those static files to any web server that can serve static files which is all of them so you don't need to have",
    "start": "1262950",
    "end": "1269370"
  },
  {
    "text": "dotnet on the server you can deploy to anything that you feel like it could be github pages if you want to we've got an",
    "start": "1269370",
    "end": "1275610"
  },
  {
    "text": "example of that it could be as a blob storage anything at all you don't need our net on the server if you don't want",
    "start": "1275610",
    "end": "1281100"
  },
  {
    "text": "to but we know that a lot of people do want to have Donna and the server and there are some significant advantages to",
    "start": "1281100",
    "end": "1287790"
  },
  {
    "text": "using the same platform for both server and client so we've got another project template as well an example of setting",
    "start": "1287790",
    "end": "1294960"
  },
  {
    "text": "up a blazer application that is connected to an asp net core back end let me show you that I'm gonna close",
    "start": "1294960",
    "end": "1301230"
  },
  {
    "text": "this solution and then I'm gonna go a file new project and this time I'm going",
    "start": "1301230",
    "end": "1306750"
  },
  {
    "text": "to choose blazer asp net core hosted okay and we'll see what comes out of",
    "start": "1306750",
    "end": "1313740"
  },
  {
    "text": "there will be a little bit different from what we had before although when it's running it will",
    "start": "1313740",
    "end": "1320130"
  },
  {
    "text": "hopefully look exactly the same should have the same functionality as far as an",
    "start": "1320130",
    "end": "1325440"
  },
  {
    "text": "end user so I'm just bringing that up in a browser to show you that right now and",
    "start": "1325440",
    "end": "1331200"
  },
  {
    "text": "we can see that it looks exactly the same bus before it's got the same functionality the only thing that's",
    "start": "1331200",
    "end": "1336240"
  },
  {
    "text": "really different is this time instead of fetching a plain JSON file from disk it's making a request to a real API",
    "start": "1336240",
    "end": "1342120"
  },
  {
    "text": "endpoint on the ESPN app server so let's have a quick look at some of the codes",
    "start": "1342120",
    "end": "1347910"
  },
  {
    "text": "that we've got up here you can see that unlike where we just had one project before we've now got three different",
    "start": "1347910",
    "end": "1353670"
  },
  {
    "text": "projects client-server and shared now you can probably guess what each of",
    "start": "1353670",
    "end": "1359370"
  },
  {
    "text": "those three things are but in case you're being a little bit dim this morning I'm going to just quickly run through each of those client obviously",
    "start": "1359370",
    "end": "1366680"
  },
  {
    "text": "is the Blazer client application it's the same thing that we saw before it's got the same set of components in it it",
    "start": "1366680",
    "end": "1372900"
  },
  {
    "text": "works basically the same apart from when it's talking to the server then we've got the server project which is a normal",
    "start": "1372900",
    "end": "1378630"
  },
  {
    "text": "dotnet core SP net core web application the only thing that's a little bit special about it is that this thing",
    "start": "1378630",
    "end": "1385650"
  },
  {
    "text": "knows how to host the blazer user interface so this is the application that we're actually starting up and",
    "start": "1385650",
    "end": "1390990"
  },
  {
    "text": "running there and it returns the Blazer UI and the way it knows how to do that is that it detect it takes a dependency",
    "start": "1390990",
    "end": "1397740"
  },
  {
    "text": "on the Blazer client application we've got a project reference to it there and then when we configure the application",
    "start": "1397740",
    "end": "1405170"
  },
  {
    "text": "request processing pipeline down here in this configure method we're configuring usual SP nightcore stuff but then we've",
    "start": "1405170",
    "end": "1412800"
  },
  {
    "text": "got this exciting little thing down here this new bit of middleware use blazer takes a reference it says well which",
    "start": "1412800",
    "end": "1419670"
  },
  {
    "text": "blazer application do you want me to host and then it's going to return the user interface for that and this is set",
    "start": "1419670",
    "end": "1425820"
  },
  {
    "text": "up to work correctly both when you're building and running locally it also works correctly with publishing so when",
    "start": "1425820",
    "end": "1430950"
  },
  {
    "text": "you publish this server project it's going to automatically include everything it needs from the client",
    "start": "1430950",
    "end": "1436410"
  },
  {
    "text": "application as well so when you deploy it your client app will just show up okay and then the third and final",
    "start": "1436410",
    "end": "1441870"
  },
  {
    "text": "project perhaps the most interesting Ron conceptually at least is this shared project now this is just a standard",
    "start": "1441870",
    "end": "1448460"
  },
  {
    "text": "dotnet standard class library and you can just put all normal class library things in there and as you can probably",
    "start": "1448460",
    "end": "1455010"
  },
  {
    "text": "guess the whole point of this is that we can share code now trivially between server and client and that's really",
    "start": "1455010",
    "end": "1460860"
  },
  {
    "text": "useful particularly for things like domain classes so here I've got this weather forecast class that defines the",
    "start": "1460860",
    "end": "1467460"
  },
  {
    "text": "information that the server and client will be exchanging and then we can use this in both the server and client",
    "start": "1467460",
    "end": "1473340"
  },
  {
    "text": "projects so here's the server-side code here that's going to return a set of",
    "start": "1473340",
    "end": "1478950"
  },
  {
    "text": "weather forecasts just random data but you get the idea and then on the client we don't have to define another copy of",
    "start": "1478950",
    "end": "1486419"
  },
  {
    "text": "that type definition inside fetch data here you'll see we don't have our own fetch data class we just use the one",
    "start": "1486419",
    "end": "1492989"
  },
  {
    "text": "from the shared project so getting some data from the server is trivial it's just give me a bunch of weather",
    "start": "1492989",
    "end": "1498539"
  },
  {
    "text": "forecasts please and the server does and that makes the development experience really really convenient because you're",
    "start": "1498539",
    "end": "1505019"
  },
  {
    "text": "not dealing with this awkward mismatch between server and client technologies you're not having to worry about like",
    "start": "1505019",
    "end": "1511379"
  },
  {
    "text": "how stuff is represented differently in different ways and about trying to keep stuff in sync between your server-side",
    "start": "1511379",
    "end": "1517200"
  },
  {
    "text": "code and your client-side code it's always in sync it's literally just the same class and you can just exchange",
    "start": "1517200",
    "end": "1522919"
  },
  {
    "text": "instances as long as they're Jason serializable so that makes things very straight forwards for you as a developer",
    "start": "1522919",
    "end": "1529820"
  },
  {
    "text": "ok so that's some basic hello world type stuff but you're you're not a beginner",
    "start": "1529820",
    "end": "1537539"
  },
  {
    "text": "audience right you're a fairly advanced bunch of people and you're hopefully going to be interested in taking this a",
    "start": "1537539",
    "end": "1543059"
  },
  {
    "text": "little bit further I want to show you now a bigger more sophisticated application that gives me an opportunity",
    "start": "1543059",
    "end": "1549419"
  },
  {
    "text": "to talk about some architectural stuff with you and about some of the more advanced features inside blazer so I'm",
    "start": "1549419",
    "end": "1556799"
  },
  {
    "text": "going to show you a sample application that we've been working on it's called flight finder and the idea with flight finder it's a bit like a",
    "start": "1556799",
    "end": "1563249"
  },
  {
    "text": "sort of travel booking tool so you can go and search for flights and then when you see some flights that you like you can add them to a shortlist and compare",
    "start": "1563249",
    "end": "1570059"
  },
  {
    "text": "them and decide which fly is the best one for you I think you want to book ok so I'm going to walk you through a",
    "start": "1570059",
    "end": "1576210"
  },
  {
    "text": "series of different features and functionality that we're going to add to this application starting with how it is",
    "start": "1576210",
    "end": "1582330"
  },
  {
    "text": "structured and how it managers state within the application ok so let's open",
    "start": "1582330",
    "end": "1587669"
  },
  {
    "text": "the source code for this right now where is it it's right here okay and",
    "start": "1587669",
    "end": "1594740"
  },
  {
    "text": "like usual I want to start by running it in a browser so that you can see what",
    "start": "1594740",
    "end": "1599750"
  },
  {
    "text": "sort of thing this is so we popping that open here can close these other tabs",
    "start": "1599750",
    "end": "1605240"
  },
  {
    "text": "probably and you will see here's the initial UI and it lets us search for flight so for example let's say that I",
    "start": "1605240",
    "end": "1612620"
  },
  {
    "text": "want to go from Minneapolis st. Paul's there and I would like to go to I don't",
    "start": "1612620",
    "end": "1618350"
  },
  {
    "text": "know Miami International why not and I would like to depart when would I like to depart maybe tomorrow and then I'll",
    "start": "1618350",
    "end": "1625490"
  },
  {
    "text": "come back on I don't know oh there's a bit of a book here I've just noticed at",
    "start": "1625490",
    "end": "1630800"
  },
  {
    "text": "this exact moment that should probably say return not arrived because it we had to be able to specify when you arrive",
    "start": "1630800",
    "end": "1636650"
  },
  {
    "text": "like oh I want to be in the eighth of nine days please that'll be fun anyway let's not worry about that let's",
    "start": "1636650",
    "end": "1642800"
  },
  {
    "text": "imagine that this is a business trip okay so our employers are paying for it so I think quite legitimately we can go",
    "start": "1642800",
    "end": "1649070"
  },
  {
    "text": "with first riah corporate travel policy probably allows that I would hope and then we'll click on search and we'll get",
    "start": "1649070",
    "end": "1654770"
  },
  {
    "text": "back some data from the server now if I click this more than once it would sound completely different day two each time",
    "start": "1654770",
    "end": "1661040"
  },
  {
    "text": "and if you know the airline industry you'll know it's kind of matter the idea that Qantas would be flying that route",
    "start": "1661040",
    "end": "1666680"
  },
  {
    "text": "and that the price differences would be like this so as you can probably guess this is not real data this talk is not",
    "start": "1666680",
    "end": "1672320"
  },
  {
    "text": "about the complicated world of airline pricing algorithms or airline routing or",
    "start": "1672320",
    "end": "1678140"
  },
  {
    "text": "anything like that so I'm just returning random data but you get the idea this is about building the actual client-side UI",
    "start": "1678140",
    "end": "1683450"
  },
  {
    "text": "so we can do searches and then we can eventually add some flights to our short list but how is it implemented well",
    "start": "1683450",
    "end": "1690650"
  },
  {
    "text": "let's have a look okay as you see it's the same project structure that I just",
    "start": "1690650",
    "end": "1696710"
  },
  {
    "text": "showed you before in the Blazer hosted template so we've got a client project a server and a shared and like you'd",
    "start": "1696710",
    "end": "1702470"
  },
  {
    "text": "expect the client project has got a bunch of Blaser components that represent different parts of the UI",
    "start": "1702470",
    "end": "1708530"
  },
  {
    "text": "things like the search area and search results and other things like that we'll get to more of that in a minute",
    "start": "1708530",
    "end": "1713930"
  },
  {
    "text": "then we've also got a server project which is a normal asp net core server",
    "start": "1713930",
    "end": "1719060"
  },
  {
    "text": "and it's got a couple of different controllers that can return data when you issue searches and then finally we've",
    "start": "1719060",
    "end": "1725789"
  },
  {
    "text": "got our shared project and inside shared we can add all the stuff that's common",
    "start": "1725789",
    "end": "1730860"
  },
  {
    "text": "to both server and clone so in this case my domain types are things like airport",
    "start": "1730860",
    "end": "1737070"
  },
  {
    "text": "airports have got a code in the name we've got flight segment which has got like airline departure Day arrival date",
    "start": "1737070",
    "end": "1744120"
  },
  {
    "text": "that sort of thing and we've got an itinerary which combines an outbound segment and a return segment and has a",
    "start": "1744120",
    "end": "1750840"
  },
  {
    "text": "price we've got search criteria and that models the stuff that the user would",
    "start": "1750840",
    "end": "1756000"
  },
  {
    "text": "type into the search controls such as which Airport they're going from and - and oh look I got the type name correct",
    "start": "1756000",
    "end": "1762270"
  },
  {
    "text": "there so that's the return date and we've got a ticket class which itself is an enum and then we've got some",
    "start": "1762270",
    "end": "1768029"
  },
  {
    "text": "extension methods on that to render that out to some nice human readable strings okay so that's some what makes sense and",
    "start": "1768029",
    "end": "1776580"
  },
  {
    "text": "the point of having all of these types inside our shared project is that we can",
    "start": "1776580",
    "end": "1781649"
  },
  {
    "text": "use them on our server and we can exchange data in a very convenient way with the client for example here's the",
    "start": "1781649",
    "end": "1788789"
  },
  {
    "text": "flight search controller on the server it's a normal asp net core api endpoint",
    "start": "1788789",
    "end": "1794250"
  },
  {
    "text": "and it's going to receive from the client a strongly typed search criteria",
    "start": "1794250",
    "end": "1799679"
  },
  {
    "text": "object containing all the information that the user entered into that box and it's going to return a set of",
    "start": "1799679",
    "end": "1805590"
  },
  {
    "text": "itineraries and like I said before the data returns it just random but it's up",
    "start": "1805590",
    "end": "1811020"
  },
  {
    "text": "to you as an exercise to put in a real crisis accrual system if you actually want to do that kind of thing and then",
    "start": "1811020",
    "end": "1817200"
  },
  {
    "text": "on the client we can of course make requests and we get back our data in a nice strongly tight way and we can just",
    "start": "1817200",
    "end": "1823110"
  },
  {
    "text": "render it okay so I hope that makes sense but let's have a look at some of these",
    "start": "1823110",
    "end": "1828870"
  },
  {
    "text": "plays or components now in fact the only one that I really want to focus on initially is this one down here main dot",
    "start": "1828870",
    "end": "1835289"
  },
  {
    "text": "CSS HTML because that's where the application all comes together inside",
    "start": "1835289",
    "end": "1840390"
  },
  {
    "text": "main we're defining the overall structure of the UI and as you can see",
    "start": "1840390",
    "end": "1845399"
  },
  {
    "text": "at the top we've got this search component there whether user types in their search criteria below that we've",
    "start": "1845399",
    "end": "1851340"
  },
  {
    "text": "got search results and below that we've got shortlist or rather we will do later when",
    "start": "1851340",
    "end": "1856480"
  },
  {
    "text": "Herman today in about five minutes but there's some other pretty weird stuff in here as well that's probably making you",
    "start": "1856480",
    "end": "1862929"
  },
  {
    "text": "wonder what on earth is going on so what is this what is an app state why are we",
    "start": "1862929",
    "end": "1868179"
  },
  {
    "text": "injecting it what are we injecting it with is that morally acceptable and what is this thing down here at the bottom",
    "start": "1868179",
    "end": "1873850"
  },
  {
    "text": "what is this on in it what is the state that might change and what is state has changed a lot of weird",
    "start": "1873850",
    "end": "1879250"
  },
  {
    "text": "stuff going on there so this opens up the question of how we're going to",
    "start": "1879250",
    "end": "1885220"
  },
  {
    "text": "manage track states within the application how do we know when things change who's responsible for maintaining",
    "start": "1885220",
    "end": "1891940"
  },
  {
    "text": "that state over time now if you look at the wider landscape of single page",
    "start": "1891940",
    "end": "1897400"
  },
  {
    "text": "application frameworks like react for your angular and all the others there are many many different ways of managing",
    "start": "1897400",
    "end": "1903190"
  },
  {
    "text": "client-side States everyone's got their own way of doing it and it keeps changing all the time what people think",
    "start": "1903190",
    "end": "1908890"
  },
  {
    "text": "the best way of doing it is but there's one pattern in particular that has risen to the top in the last couple years and",
    "start": "1908890",
    "end": "1915580"
  },
  {
    "text": "has largely become accepted as probably the best way to do this thing and this is the idea of a state container a state",
    "start": "1915580",
    "end": "1923860"
  },
  {
    "text": "container is a fairly simple concept it's just the idea that instead of having all of your states scattered",
    "start": "1923860",
    "end": "1929020"
  },
  {
    "text": "through all your different components you would centralize that stay into one place that deals with the business logic",
    "start": "1929020",
    "end": "1934330"
  },
  {
    "text": "around how it should update and it should have a way of issuing notifications to tell all the different",
    "start": "1934330",
    "end": "1940450"
  },
  {
    "text": "parts of the UI when they should update and that's what I'm doing here now if I",
    "start": "1940450",
    "end": "1946059"
  },
  {
    "text": "was implementing this in something like view or react I would probably use a state container framework because there",
    "start": "1946059",
    "end": "1952840"
  },
  {
    "text": "are plenty of them out there and some of them are pretty good but I'm not I'm doing this in dotnet and in the.net",
    "start": "1952840",
    "end": "1958840"
  },
  {
    "text": "world there aren't really very many mature State container frameworks I expect there probably will be fairly",
    "start": "1958840",
    "end": "1964120"
  },
  {
    "text": "soon when people decide that they want to start making them and building open source projects around that and some of them have actually started but it's",
    "start": "1964120",
    "end": "1970840"
  },
  {
    "text": "still early days for that right now so rather than using one of them I want to just write my own state container just",
    "start": "1970840",
    "end": "1976929"
  },
  {
    "text": "as a simple trivial c-sharp class it's gonna be super super basic and hopefully",
    "start": "1976929",
    "end": "1981970"
  },
  {
    "text": "expresses the basic concepts so I've got this class called app state here and my app stay like I said is responsible for",
    "start": "1981970",
    "end": "1989260"
  },
  {
    "text": "tracking day and knowing when it changes and the only state I need to track right now are what are the search results we're",
    "start": "1989260",
    "end": "1994660"
  },
  {
    "text": "currently displaying and this boolean flag that says is the search currently in progress or not and the other thing",
    "start": "1994660",
    "end": "2001290"
  },
  {
    "text": "we have to do is have a way of issuing notifications when things change and there are loads of different ways you could do that you could use observables",
    "start": "2001290",
    "end": "2008220"
  },
  {
    "text": "you could use inotify property changed or other patterns like that but I wanted to keep this really basic",
    "start": "2008220",
    "end": "2014040"
  },
  {
    "text": "so I'm going to use a good old fashioned c-sharp event that says that stuff has changed and of course I could have",
    "start": "2014040",
    "end": "2019860"
  },
  {
    "text": "different events to say when this different things have changed but for now is completely sufficient just to have one event okay so that is how we're",
    "start": "2019860",
    "end": "2027870"
  },
  {
    "text": "basically structuring this application and managing its state but it's kind of",
    "start": "2027870",
    "end": "2033420"
  },
  {
    "text": "a bit hard to get all that into your head at once you might feel that you don't have a really good handle on how all this stuff is really working so to",
    "start": "2033420",
    "end": "2039900"
  },
  {
    "text": "give you a better sense of what this is really like I think we should now add a new feature of our own and then you'll",
    "start": "2039900",
    "end": "2046290"
  },
  {
    "text": "get a sense of whether this is really a nice sort of technology to work with and whether these kind of patterns are going",
    "start": "2046290",
    "end": "2052408"
  },
  {
    "text": "to scale to the sort of applications that you want to do okay so what feature do we want to add well I want to",
    "start": "2052409",
    "end": "2058200"
  },
  {
    "text": "implement the short list over here right now it's not implemented so when I click on these add bones you'll see and click",
    "start": "2058200",
    "end": "2064440"
  },
  {
    "text": "in and nothing is happening well actually something is happening but you just can't see it if you want to see",
    "start": "2064440",
    "end": "2070560"
  },
  {
    "text": "it we need to open up the browsers console here and then when I click on add you'll see it displays this message",
    "start": "2070560",
    "end": "2076500"
  },
  {
    "text": "to do implement shortlist okay so why is it displaying that why is it logging",
    "start": "2076500",
    "end": "2081690"
  },
  {
    "text": "that message well if we look in our state container down here you'll see we've got this method add to shortlist",
    "start": "2081690",
    "end": "2086850"
  },
  {
    "text": "and it's not a very complete method right now all it does is it logs this message okay so we want to implement",
    "start": "2086850",
    "end": "2093540"
  },
  {
    "text": "that and to implement it first we're going to have to have a place to store the state relating to the short list",
    "start": "2093540",
    "end": "2099690"
  },
  {
    "text": "that is we're going to have a list of itineraries that the user is added and I want to store that so I'm going to go up",
    "start": "2099690",
    "end": "2105420"
  },
  {
    "text": "here to the place where I'm storing all these states in properties and I'm going to add a couple more properties I'm",
    "start": "2105420",
    "end": "2112620"
  },
  {
    "text": "going to add this one firstly so privately we can have a list of itineraries and we can modify this list",
    "start": "2112620",
    "end": "2118920"
  },
  {
    "text": "over time it's not a redundant list it's a readwrite list we can add and remove stuff - and then publicly we're going to",
    "start": "2118920",
    "end": "2125680"
  },
  {
    "text": "expose a read-only view of the same data so in general you'll want your state",
    "start": "2125680",
    "end": "2130750"
  },
  {
    "text": "containers to be encapsulated so the state container itself is the only thing that can modify its own state and that",
    "start": "2130750",
    "end": "2136300"
  },
  {
    "text": "gives you confidence that you've got a central place to put any business logic associated with those state changes and",
    "start": "2136300",
    "end": "2142480"
  },
  {
    "text": "that you can ensure that notifications are raised correctly so anyway we've got our place to store the short list now so",
    "start": "2142480",
    "end": "2148810"
  },
  {
    "text": "very trivially inside our two short list I can just say short list to add",
    "start": "2148810",
    "end": "2154290"
  },
  {
    "text": "itinerary and then if we want anyone to know that we've just done that we will call notify state changed and all that",
    "start": "2154290",
    "end": "2161710"
  },
  {
    "text": "is is a method that raises the on church event and like I said there are lots of different ways that you could do this but if you're going to do it as a simple",
    "start": "2161710",
    "end": "2168040"
  },
  {
    "text": "c-sharp event this is a very basic way of doing it okay so we are now tracking",
    "start": "2168040",
    "end": "2173290"
  },
  {
    "text": "the state of the short list but we're not displaying anything on the UI yet so I want to make a new UI component that's",
    "start": "2173290",
    "end": "2179109"
  },
  {
    "text": "actually going to display the short list okay so I'm going to add a new component using add new item and we haven't yet",
    "start": "2179109",
    "end": "2186190"
  },
  {
    "text": "implemented any item template for Blaser components we probably should get on with doing that we haven't done it's",
    "start": "2186190",
    "end": "2192010"
  },
  {
    "text": "good enough at the moment just to create a raise of you and I'm gonna call this one shortlist okay so when that has been created we've",
    "start": "2192010",
    "end": "2199990"
  },
  {
    "text": "got a new razor file here and we can type anything we want to so I'm going to put a little message hello from from the",
    "start": "2199990",
    "end": "2207849"
  },
  {
    "text": "new short list very good okay and then I want to use that so I'll go back to main",
    "start": "2207849",
    "end": "2213190"
  },
  {
    "text": "dot CSS HTML I'm gonna say we'll have a short list right there if you please and",
    "start": "2213190",
    "end": "2219160"
  },
  {
    "text": "so when I go back to the browser and reload now we should see did I not do that what did I not do that let's try",
    "start": "2219160",
    "end": "2229119"
  },
  {
    "text": "that one more time if I reload then we'll get okay hello from the new short list so it's",
    "start": "2229119",
    "end": "2234369"
  },
  {
    "text": "using our new component that very good but I don't just want display the message I want to display the actual",
    "start": "2234369",
    "end": "2239770"
  },
  {
    "text": "short list contents so I'm going to pass the data that I want my short list to have into it I don't want to wire up my",
    "start": "2239770",
    "end": "2246970"
  },
  {
    "text": "short list directly to the state container I could but it's generally considered good practice not to wire up",
    "start": "2246970",
    "end": "2252640"
  },
  {
    "text": "everything individually because then you end up with this complex of lots of stuff updating independently",
    "start": "2252640",
    "end": "2257920"
  },
  {
    "text": "it's generally simpler for you if you just wire up a few things few top-level things to your state",
    "start": "2257920",
    "end": "2263020"
  },
  {
    "text": "container and then pass the data that each the component needs into end just like I'm passing the itineraries into",
    "start": "2263020",
    "end": "2269110"
  },
  {
    "text": "search results here I want to pass the short list into the short list component so just like I showed you before I can",
    "start": "2269110",
    "end": "2275860"
  },
  {
    "text": "define what parameters my short list component takes and I'm going to say it's going to take something called",
    "start": "2275860",
    "end": "2281680"
  },
  {
    "text": "itineraries which is going to be a collection of itineraries and when I've got that I can display something from",
    "start": "2281680",
    "end": "2288220"
  },
  {
    "text": "there so let's say a short list and to get started I'm just gonna display itineraries dot count so we know how",
    "start": "2288220",
    "end": "2296050"
  },
  {
    "text": "many things are in it and now on the short list here I want to make use of",
    "start": "2296050",
    "end": "2301420"
  },
  {
    "text": "this itineraries property so I will here",
    "start": "2301420",
    "end": "2306880"
  },
  {
    "text": "we go okay so I'm going to add itineraries and I'm gonna pass state dart short list into it so my short list",
    "start": "2306880",
    "end": "2314980"
  },
  {
    "text": "should get the data and it should be updated when that changes okay so if I've done this correctly then when I",
    "start": "2314980",
    "end": "2321520"
  },
  {
    "text": "come back and reload it's now going to say a short list zero and then when I start clicking on these buttons you'll see that that number is going to",
    "start": "2321520",
    "end": "2328180"
  },
  {
    "text": "increase because it's adding stuff into that collection and it's updating good right this is a good start but we don't",
    "start": "2328180",
    "end": "2335050"
  },
  {
    "text": "want to just display a number we want to display the actual contents of the short list so I'll go back over here and I'm",
    "start": "2335050",
    "end": "2340270"
  },
  {
    "text": "going to drop in a little bit of markup that have prepared so simply using razor syntax I can say for each of the",
    "start": "2340270",
    "end": "2346420"
  },
  {
    "text": "itineraries I'm gonna display a little box that displays initially I'm just going to display the airline that you",
    "start": "2346420",
    "end": "2352750"
  },
  {
    "text": "are traveling with just so that we can check that this is working correctly so now when I click these buttons let's get",
    "start": "2352750",
    "end": "2358390"
  },
  {
    "text": "some more stuff okay we'll get KLM and then we'll get Emirates and then we'll",
    "start": "2358390",
    "end": "2364150"
  },
  {
    "text": "get ba and we can just keep on going like that okay so it's working but we don't just want to display the airline",
    "start": "2364150",
    "end": "2369940"
  },
  {
    "text": "name we want to display all the information about the itinerary so to do that we just need to add more Ray's a",
    "start": "2369940",
    "end": "2376930"
  },
  {
    "text": "markup and that's kind of boring so I'm not going to go through it step-by-step instead I'm just going to dump a massive",
    "start": "2376930",
    "end": "2382630"
  },
  {
    "text": "pile of markup that's way too much for you to read but you're just gonna have to trust me that there's nothing actually difficult about it all it does",
    "start": "2382630",
    "end": "2389569"
  },
  {
    "text": "is it iterates over the itineraries and for each one it displays loads of bootstrapped related elements that's",
    "start": "2389569",
    "end": "2396079"
  },
  {
    "text": "going to displace to flight the airport codes we're using this other component to display the flight segments and then",
    "start": "2396079",
    "end": "2402229"
  },
  {
    "text": "we're displaying the airline name and the price and things like that so assuming all that works correctly then",
    "start": "2402229",
    "end": "2407690"
  },
  {
    "text": "back in the browser when I add stuff to my shortlist we're now going to get these attractive looking cards popping",
    "start": "2407690",
    "end": "2413329"
  },
  {
    "text": "up that show us the stuff that's been added to the shortlist there okay so",
    "start": "2413329",
    "end": "2419450"
  },
  {
    "text": "that is an example of how we can add a new feature to our application and how",
    "start": "2419450",
    "end": "2424579"
  },
  {
    "text": "we can tie it into the existing structure of state management that's in that okay that's good but hey let's do",
    "start": "2424579",
    "end": "2433130"
  },
  {
    "text": "something a little bit more interesting still let's build an even more advanced component now I keep claiming to you",
    "start": "2433130",
    "end": "2439729"
  },
  {
    "text": "that components are very flexible and can do lots of things but so far I've all I've shown you is that you can use",
    "start": "2439729",
    "end": "2444799"
  },
  {
    "text": "one component inside another and you can pass parameters into them what are the cool things can we do with components let's see well to give it to invent a",
    "start": "2444799",
    "end": "2454789"
  },
  {
    "text": "reason for why we should do this let's think a little bit about the user experience of this website right now",
    "start": "2454789",
    "end": "2461380"
  },
  {
    "text": "excuse me there's one or two UX problems there's probably loads of problems really but one assume that I want to",
    "start": "2461380",
    "end": "2467779"
  },
  {
    "text": "focus on right now is what happens when I click this search button repeatedly now as you know it's going to return",
    "start": "2467779",
    "end": "2473150"
  },
  {
    "text": "different random dates or each time and it takes about half a second to return every time and the reason for that is",
    "start": "2473150",
    "end": "2479869"
  },
  {
    "text": "because I just put in a hard code at half second delay but of course in the real world that things do take a nonzero",
    "start": "2479869",
    "end": "2485150"
  },
  {
    "text": "amount of time so the user probably will have to wait for some amount of time for their search results to come back but",
    "start": "2485150",
    "end": "2490400"
  },
  {
    "text": "we're not displaying any kind of indication that we're loading and waiting so the user has no idea that",
    "start": "2490400",
    "end": "2496309"
  },
  {
    "text": "we've really even acknowledged their click on the button also while they are waiting for the new state to arrive the",
    "start": "2496309",
    "end": "2503239"
  },
  {
    "text": "old results below and now stale and obsolete and useless but we're still presenting them as if they're up today",
    "start": "2503239",
    "end": "2509690"
  },
  {
    "text": "so that's really strange and misleading that you can click on the button and it shows your old results and you don't even know that they're not the new ones",
    "start": "2509690",
    "end": "2515479"
  },
  {
    "text": "so to solve these UX problems want to do a different thing when you",
    "start": "2515479",
    "end": "2521359"
  },
  {
    "text": "click on the search button I want to gray out all the stuff in the UI below it so that you can see that",
    "start": "2521359",
    "end": "2527000"
  },
  {
    "text": "it's old data you don't need it anymore and we're loading something in the background ok but since I'm a programmer",
    "start": "2527000",
    "end": "2534200"
  },
  {
    "text": "I don't just want to implement grey and Gao in a sort of one-off way I want to invent a general framework for graying",
    "start": "2534200",
    "end": "2541609"
  },
  {
    "text": "out anything anytime anywhere on no notice I can just grow your stuff out anytime I like with a general system ok",
    "start": "2541609",
    "end": "2549950"
  },
  {
    "text": "and I'm gonna do that using a blazer component that can gray stuff out how",
    "start": "2549950",
    "end": "2555410"
  },
  {
    "text": "could a component do that let's see I'm gonna add a new item and I'm gonna call this one gray out zone and I know that",
    "start": "2555410",
    "end": "2563930"
  },
  {
    "text": "text is too small to read anyway here's our gray out zone and I want the gray",
    "start": "2563930",
    "end": "2569420"
  },
  {
    "text": "zone to be able to toggle whether or not stuff is currently grayed out so I want",
    "start": "2569420",
    "end": "2574970"
  },
  {
    "text": "it to have this boolean parameter called is grayed out that can get passed in from outside and then as for what markup",
    "start": "2574970",
    "end": "2582619"
  },
  {
    "text": "that should render is going to be like this now if you know CSS this will",
    "start": "2582619",
    "end": "2588230"
  },
  {
    "text": "probably seem quite straightforward to you and if you don't it might be that you don't really get what I'm doing but don't worry about it it's not hugely",
    "start": "2588230",
    "end": "2593660"
  },
  {
    "text": "interesting it's just some fairly basic CSS stuff so what I'm doing here I'm saying that we've got a CSS class of",
    "start": "2593660",
    "end": "2599420"
  },
  {
    "text": "gray out but only if that boolean flag is true and when that flag is true we're",
    "start": "2599420",
    "end": "2606410"
  },
  {
    "text": "going to have this element here called cover or with this with a style named cover and I've set up the CSS already so",
    "start": "2606410",
    "end": "2613069"
  },
  {
    "text": "that the cover element completely fills up the boundaries of its parent using absolute positioning and it displays a",
    "start": "2613069",
    "end": "2620270"
  },
  {
    "text": "sort of translucent gray box so it covers things over and prevents you from interacting with the stuff that's behind",
    "start": "2620270",
    "end": "2626630"
  },
  {
    "text": "it and it's only going to be there if this gray out class is enabled so",
    "start": "2626630",
    "end": "2632920"
  },
  {
    "text": "whatever goes here is the thing that's going to get grayed out which is good so",
    "start": "2632920",
    "end": "2638329"
  },
  {
    "text": "I can put my UI in there but remember I want a completely general system for graying out anything",
    "start": "2638329",
    "end": "2643940"
  },
  {
    "text": "so what UI is going to go in there well I don't know I just need some sort of placeholder to represent the idea of an",
    "start": "2643940",
    "end": "2651740"
  },
  {
    "text": "arbitrary piece user interface and that's a feature that we have that's quite convenient so I can",
    "start": "2651740",
    "end": "2658360"
  },
  {
    "text": "take another parameter of type render fragment and a render fragment represents an arbitrary piece of user",
    "start": "2658360",
    "end": "2665230"
  },
  {
    "text": "interface that can be rendered and you can choose wherever you want to render it so I've got some child content and I",
    "start": "2665230",
    "end": "2671650"
  },
  {
    "text": "want to render that child content right there so it's the child content that's going to be grayed out and now I've done",
    "start": "2671650",
    "end": "2679030"
  },
  {
    "text": "that I can go back to my main and I can use my gray out zone so what do I want",
    "start": "2679030",
    "end": "2684610"
  },
  {
    "text": "to grow out I want to grow out the search results so I'm going to wrap a gray out zone around the search results",
    "start": "2684610",
    "end": "2690880"
  },
  {
    "text": "like that okay and then I want to pass this boolean flag is grayed out there",
    "start": "2690880",
    "end": "2697930"
  },
  {
    "text": "and I'm going to say that this thing is grayed out if and only if we've currently got a search in progress okay",
    "start": "2697930",
    "end": "2705670"
  },
  {
    "text": "let's see if it works shall we back in the browser going to reload and now when I click on the search bar and you'll see",
    "start": "2705670",
    "end": "2711940"
  },
  {
    "text": "that that bit of the UI below gets nicely grayed out while ever we've got a search in progress and we can of course",
    "start": "2711940",
    "end": "2718240"
  },
  {
    "text": "reuse our gray out zone wherever we want to do the same trick elsewhere so that's",
    "start": "2718240",
    "end": "2723790"
  },
  {
    "text": "another cool thing that we can do with components okay let's move on to our",
    "start": "2723790",
    "end": "2729640"
  },
  {
    "text": "fourth thing that we can do in Blazer applications and that is JavaScript",
    "start": "2729640",
    "end": "2735580"
  },
  {
    "text": "Interop okay so I'm sure that you can probably anticipate scenarios where you",
    "start": "2735580",
    "end": "2740830"
  },
  {
    "text": "would need to call into JavaScript code from your.net for example you might want",
    "start": "2740830",
    "end": "2746200"
  },
  {
    "text": "to call browser api's browsers have got lots of api's that let your applications do all kinds of things from very simple",
    "start": "2746200",
    "end": "2752050"
  },
  {
    "text": "things like just focusing an element to things like switching into full screen merge or even using the payment requests",
    "start": "2752050",
    "end": "2759460"
  },
  {
    "text": "API to ask your user to give them some to give you some money and you might want to use any of those api's or you",
    "start": "2759460",
    "end": "2766180"
  },
  {
    "text": "might want to integrate with third-party JavaScript libraries so that is a thing that we want to let you do so what's the",
    "start": "2766180",
    "end": "2774700"
  },
  {
    "text": "scenario for JavaScript Interop in flight finder well let's imagine that I",
    "start": "2774700",
    "end": "2780100"
  },
  {
    "text": "am a very price-sensitive user and I want to get the cheapest flight I can and since I know that this is just",
    "start": "2780100",
    "end": "2785580"
  },
  {
    "text": "random data I'm just going to keep clicking the search button over and over again until I eventually find a really",
    "start": "2785580",
    "end": "2791160"
  },
  {
    "text": "good deal okay so I've got a very cheap deal here one hundred and sixty seven dollars for this fly I'm really pleased",
    "start": "2791160",
    "end": "2796440"
  },
  {
    "text": "with myself finding that so I'm gonna add that into my short list brilliant super happy about that but then since",
    "start": "2796440",
    "end": "2803520"
  },
  {
    "text": "I'm a user and users are generally just Matt and they do crazy things for no reason at all for for no reason that",
    "start": "2803520",
    "end": "2810690"
  },
  {
    "text": "anyone can think of I'm now going to reload the page okay and when I reload the page what's going to happen to my",
    "start": "2810690",
    "end": "2815940"
  },
  {
    "text": "short list well it's gonna get lost oh no I'm a very sad user now so clearly",
    "start": "2815940",
    "end": "2822780"
  },
  {
    "text": "what we want to do is it have some way of preserving the short list across page loads and most of the web developers in",
    "start": "2822780",
    "end": "2830070"
  },
  {
    "text": "the audience will probably think that's going to be easy if we can use JavaScript then we can just store stuff",
    "start": "2830070",
    "end": "2835320"
  },
  {
    "text": "in local storage and it's just going to be there and it'll be nice and persistent and you're right and that's",
    "start": "2835320",
    "end": "2840690"
  },
  {
    "text": "exactly what we're going to do so we want to use JavaScript Interop to source um store some stuff in browser local",
    "start": "2840690",
    "end": "2848250"
  },
  {
    "text": "storage but do you know what's even easier than using javascript interrupts",
    "start": "2848250",
    "end": "2853530"
  },
  {
    "text": "api's it's not using JavaScript Interop here guys it's just letting someone else do that",
    "start": "2853530",
    "end": "2858690"
  },
  {
    "text": "work for you that's a general tip for life by the way I would strongly recommend always just let other people",
    "start": "2858690",
    "end": "2863970"
  },
  {
    "text": "do stuff for you and that's a thing that we're going to be able to do right now so I want to add local storage",
    "start": "2863970",
    "end": "2871350"
  },
  {
    "text": "capabilities to my application but I want someone else to do that for me so I'm going to go and have a look at what",
    "start": "2871350",
    "end": "2876960"
  },
  {
    "text": "NuGet packages exist new Gary's dotnet package management system if you didn't know and I can go in there I can see",
    "start": "2876960",
    "end": "2882840"
  },
  {
    "text": "what packages exist well let's have a look I happen to know that there's this thing that I found earlier called cloud",
    "start": "2882840",
    "end": "2889590"
  },
  {
    "text": "crate asp net core blazer browser storage super name i imagine some kind",
    "start": "2889590",
    "end": "2894720"
  },
  {
    "text": "of PR agency came up with that really cool and he adds blazer local and sessions storage support alright and",
    "start": "2894720",
    "end": "2901890"
  },
  {
    "text": "it's made by this wonderful person called florian door and off and that is going to give us just the functionality",
    "start": "2901890",
    "end": "2907110"
  },
  {
    "text": "that we want so the point I'm making with all this is although you can do JavaScript interrupts directly yourself",
    "start": "2907110",
    "end": "2913170"
  },
  {
    "text": "and I'm going to show you that in like five minutes we also want to make sure that you don't always have to it should be possible to",
    "start": "2913170",
    "end": "2919859"
  },
  {
    "text": "pull in packages where other people have figured out the details for you and there just give you some nice dotnet api's to work with and that's what I'm",
    "start": "2919859",
    "end": "2926730"
  },
  {
    "text": "gonna do now so I've read the docs for this package already and I know that the way to use",
    "start": "2926730",
    "end": "2931800"
  },
  {
    "text": "it is to register local storage as a service in my dependency injection system so in Blaser the dependency",
    "start": "2931800",
    "end": "2940170"
  },
  {
    "text": "injection system is configured here in programmed RCS and so for example this",
    "start": "2940170",
    "end": "2945540"
  },
  {
    "text": "is where I'm telling you the apps there is one of the singletons that can get injected into any of my components and I",
    "start": "2945540",
    "end": "2951840"
  },
  {
    "text": "can add other stuff here as well so now I've got that package installed I'm gonna say services dot add storage",
    "start": "2951840",
    "end": "2960260"
  },
  {
    "text": "alright and I need a namespace import for that and that's gonna make local and session storage available as a DI",
    "start": "2960260",
    "end": "2967080"
  },
  {
    "text": "service so I could now use that in any of my components or in my state container and I want to use it in the",
    "start": "2967080",
    "end": "2972510"
  },
  {
    "text": "state container so I'm going to change the constructor parameters for app state",
    "start": "2972510",
    "end": "2977700"
  },
  {
    "text": "I'm going to say I want to get an instance of local storage bank being",
    "start": "2977700",
    "end": "2983609"
  },
  {
    "text": "passed in here and I'll call that local storage instance ok and then I need to",
    "start": "2983609",
    "end": "2989369"
  },
  {
    "text": "store that in a field on my class here so I can use it and I'll make a private read-only local storage call that local",
    "start": "2989369",
    "end": "2997950"
  },
  {
    "text": "storage and I'm going to set the value of that to be whatever gets passed in to the constructor all right so now I've",
    "start": "2997950",
    "end": "3004130"
  },
  {
    "text": "got my local storage I can use that where do I want to use that well I want to use it here inside might add to",
    "start": "3004130",
    "end": "3009380"
  },
  {
    "text": "shortlist I'm going to say whenever you add stuff to a short list I want to save the updated version of it so I'm going",
    "start": "3009380",
    "end": "3014900"
  },
  {
    "text": "to say local storage dot set item and then it wants me to give a key so let's call it I don't know a short list that",
    "start": "3014900",
    "end": "3022220"
  },
  {
    "text": "would make sense and then what do we want to store in there well we store everything that's in this short list right now ok let's see if",
    "start": "3022220",
    "end": "3030440"
  },
  {
    "text": "this works then shall we I'm gonna go back into my browser now and I want to show you firstly what",
    "start": "3030440",
    "end": "3037550"
  },
  {
    "text": "happens when I try to evaluate what's in local storage already and the answer is",
    "start": "3037550",
    "end": "3042710"
  },
  {
    "text": "nothing I've got nothing in local storage yet but when I click on one of the",
    "start": "3042710",
    "end": "3048249"
  },
  {
    "text": "add buttons now to add something to shortlist and we evaluate it again you'll see we've now got all this stuff",
    "start": "3048249",
    "end": "3053739"
  },
  {
    "text": "in there we've got all this JSON serialize representation of the data that I've just added okay so it's",
    "start": "3053739",
    "end": "3060219"
  },
  {
    "text": "working we're interoperating with local storage so does that mean we're done if I hit reload right now is my $549",
    "start": "3060219",
    "end": "3068709"
  },
  {
    "text": "flight still going to be there let's find out the answer is no why is it not there that's because although we've",
    "start": "3068709",
    "end": "3076209"
  },
  {
    "text": "implemented some logic for saving something in local storage we've not implemented any logic for loading it",
    "start": "3076209",
    "end": "3081219"
  },
  {
    "text": "back it's not very difficult though we'll do that as follows we will say ok",
    "start": "3081219",
    "end": "3086949"
  },
  {
    "text": "local storage please have a look is there anything that's stored under this key of short list if there is",
    "start": "3086949",
    "end": "3092369"
  },
  {
    "text": "deserialize it's going to be an array of itineraries and then if you've got that we're going to add it into the new short",
    "start": "3092369",
    "end": "3098680"
  },
  {
    "text": "list array that's in the new instance of the application ok so now if I hit",
    "start": "3098680",
    "end": "3104529"
  },
  {
    "text": "reload one more time instead of starting off empty you'll see it starts off with the stuff that's been loaded back from",
    "start": "3104529",
    "end": "3110769"
  },
  {
    "text": "local storage so that does work and well done cloud create people for making that",
    "start": "3110769",
    "end": "3115989"
  },
  {
    "text": "lovely thing for us that's all very good but I know you're thinking oh that's",
    "start": "3115989",
    "end": "3121779"
  },
  {
    "text": "very nice but that's cheating because you're just using a package that our execs already exists what if I have to",
    "start": "3121779",
    "end": "3127690"
  },
  {
    "text": "write the JavaScript Interop stuff myself what if I want to do something that there is no package for or I just",
    "start": "3127690",
    "end": "3133150"
  },
  {
    "text": "need to do some other custom thing so I will show you but I'm going to show you in the context of another hopefully",
    "start": "3133150",
    "end": "3140859"
  },
  {
    "text": "interesting scenario and that is library projects so you're familiar with the idea of normal class library projects",
    "start": "3140859",
    "end": "3147489"
  },
  {
    "text": "that allow you to reuse chunks of c-sharp in other projects well there's a",
    "start": "3147489",
    "end": "3152890"
  },
  {
    "text": "blazer equivalent to that it's called a blazer library project and it lets you include not only just regular dotnet",
    "start": "3152890",
    "end": "3158680"
  },
  {
    "text": "code but also you can include blazer UI components in there as well and reuse",
    "start": "3158680",
    "end": "3164499"
  },
  {
    "text": "them and share them and also you can include static content such as CSS or",
    "start": "3164499",
    "end": "3169930"
  },
  {
    "text": "images or JavaScript whatever you want and you can bundle all that stuff into a project that you reuse and if you're",
    "start": "3169930",
    "end": "3175959"
  },
  {
    "text": "feeling particularly generous you can even publish it to NuGet so that other people can use it as well and that is how the class",
    "start": "3175959",
    "end": "3181690"
  },
  {
    "text": "a package was created so let me give you an example of doing that now you",
    "start": "3181690",
    "end": "3187390"
  },
  {
    "text": "probably would think that the way to create a blazer library project if you know a visual studio would be to go add",
    "start": "3187390",
    "end": "3192640"
  },
  {
    "text": "new project and go through there well that is the way it should work but we haven't yet implemented AVS template for",
    "start": "3192640",
    "end": "3199150"
  },
  {
    "text": "it we really ought to get on with doing that but we just haven't done yeah so for now the only way to create a blazing a library project is on the command line",
    "start": "3199150",
    "end": "3206380"
  },
  {
    "text": "in fact you can create any blazer project on the command line once you've installed the blazer packages when you",
    "start": "3206380",
    "end": "3213310"
  },
  {
    "text": "go net new you'll see that alongside all the other things you can create we can create some blazer stuff so we can",
    "start": "3213310",
    "end": "3219700"
  },
  {
    "text": "create a blazer hostert projects we can create a blazer standalone project and most relevant for us right now we can",
    "start": "3219700",
    "end": "3226930"
  },
  {
    "text": "create a blazer library or blazer live for short so I want to do that right now Frank let me zoom back in so you can see",
    "start": "3226930",
    "end": "3233530"
  },
  {
    "text": "what I'm typing and when I say a.net new blazer lib and we specify where we want",
    "start": "3233530",
    "end": "3238750"
  },
  {
    "text": "that to go and I want it to be called my blazer library okay so we'll create that",
    "start": "3238750",
    "end": "3244000"
  },
  {
    "text": "and that will put all the files on disk and then we will need to go into vs and add that to our solution so I'm going to",
    "start": "3244000",
    "end": "3251050"
  },
  {
    "text": "go add existing project and then I'll quickly skip through all these menus to",
    "start": "3251050",
    "end": "3256870"
  },
  {
    "text": "find the one I want which is this one and then that is now added as a fourth project now a solution and obviously",
    "start": "3256870",
    "end": "3263680"
  },
  {
    "text": "that would be all automated when we've got a vs template okay now I want to add a reference from my client library to my",
    "start": "3263680",
    "end": "3271660"
  },
  {
    "text": "new blazer library so that I can start to use it so I'm going to go add reference and then I'll choose my blazer",
    "start": "3271660",
    "end": "3278080"
  },
  {
    "text": "library up there ok very good okay so we've got a reference and there's one",
    "start": "3278080",
    "end": "3283210"
  },
  {
    "text": "other thing that you need to do right now if you want to consume a blazer library project and it's pretty weird",
    "start": "3283210",
    "end": "3288970"
  },
  {
    "text": "and it's not very nice and we need to fix this and make it so you don't have to do it but I'm afraid right now when",
    "start": "3288970",
    "end": "3295900"
  },
  {
    "text": "you add a new blazer library project you have to go to your view imports file and manually add this weird thing outside",
    "start": "3295900",
    "end": "3301930"
  },
  {
    "text": "helper everything from my blazer library okay so I appreciate that strange and",
    "start": "3301930",
    "end": "3308770"
  },
  {
    "text": "we'll come up with some solution that means you don't have to do that but for now you do alright so now I've added a",
    "start": "3308770",
    "end": "3314200"
  },
  {
    "text": "reference to this my Blaser library and since I've done that I can consume whatever's in",
    "start": "3314200",
    "end": "3320120"
  },
  {
    "text": "there let's see what is in there shall we so what we've got inside that is we've got a blazer component component",
    "start": "3320120",
    "end": "3326510"
  },
  {
    "text": "one or CS HTML and what's that well it just displays some static HTML but it's",
    "start": "3326510",
    "end": "3332420"
  },
  {
    "text": "a normal blazer component and it can do anything that blazer components can do also we've got some static content we've",
    "start": "3332420",
    "end": "3337910"
  },
  {
    "text": "got some CSS we've got a background PNG image and we've got some stuff for Jace interrupts I'll show you in a minute",
    "start": "3337910",
    "end": "3343340"
  },
  {
    "text": "okay so let's have a go at using component 1 inside our flight finder",
    "start": "3343340",
    "end": "3349070"
  },
  {
    "text": "client let's say that for whatever reason I want to put component 1 at the top of my search resource so I'm going",
    "start": "3349070",
    "end": "3355370"
  },
  {
    "text": "to go in here and I'm going to say please give me a component 1 right there if you don't mind now I've done that if",
    "start": "3355370",
    "end": "3362660"
  },
  {
    "text": "I come back and reload then we should see here we go here's our component 1 this plays a component is defined in the",
    "start": "3362660",
    "end": "3368660"
  },
  {
    "text": "my Blaser library package and that shows you that you can put whatever stuff you want in there including static content",
    "start": "3368660",
    "end": "3375080"
  },
  {
    "text": "because you can see the red dotted outline there that's defined in the CSS file and you can see the stripey",
    "start": "3375080",
    "end": "3380360"
  },
  {
    "text": "background that's defined as a PNG a PNG image inside the package as well so you",
    "start": "3380360",
    "end": "3388160"
  },
  {
    "text": "can bundle everything that you need for your components into libraries and then you can reuse them across projects if",
    "start": "3388160",
    "end": "3393950"
  },
  {
    "text": "you want to and you can publish them to new gap if you want to okay so that's",
    "start": "3393950",
    "end": "3399230"
  },
  {
    "text": "using components but let's get back to the JavaScript Interop ok how does that really work so here's an example of",
    "start": "3399230",
    "end": "3405680"
  },
  {
    "text": "doing it manually so I've got here this static c-sharp method called prompt and",
    "start": "3405680",
    "end": "3412010"
  },
  {
    "text": "it's going to take a message as yeah message which is a type string and it's going to return a string and what it",
    "start": "3412010",
    "end": "3418250"
  },
  {
    "text": "actually does is it's going to invoke some JavaScript and the syntax for invoking JavaScript is like this",
    "start": "3418250",
    "end": "3423680"
  },
  {
    "text": "registered function dot invoke and then you can pass some stuff into it and you can get some stuff back out and you have",
    "start": "3423680",
    "end": "3429740"
  },
  {
    "text": "to give the identify over a thing that's being registered and then to actually render it register it you write some",
    "start": "3429740",
    "end": "3435170"
  },
  {
    "text": "JavaScript or type script or CoffeeScript or every other thing you like so here I've got a JavaScript file",
    "start": "3435170",
    "end": "3440420"
  },
  {
    "text": "and it registers this function with that identifier and it's a normal JavaScript function which takes",
    "start": "3440420",
    "end": "3446390"
  },
  {
    "text": "message parameter and the implementation is very simple it's simply going to display a prompt using the browsers",
    "start": "3446390",
    "end": "3453500"
  },
  {
    "text": "native prompt feature so it calls prompt passes the message and it's going to return whatever value gets returned so",
    "start": "3453500",
    "end": "3460309"
  },
  {
    "text": "that's how you can do JavaScript and drop and you don't have to do it in library packages if you don't want you can put these files in your main project",
    "start": "3460309",
    "end": "3466490"
  },
  {
    "text": "but I just wanted to show you the library packages as well so let's try and use it shall we I'm going to try and use this inside my",
    "start": "3466490",
    "end": "3473420"
  },
  {
    "text": "state container I'll say that when you've done a search and whenever we've got some results come back I want to say",
    "start": "3473420",
    "end": "3478460"
  },
  {
    "text": "example J's Interop I want to call prompt and I'll pass my message okay so",
    "start": "3478460",
    "end": "3488390"
  },
  {
    "text": "if that works then when I'm back in the browser now and I click on search and we get some results you'll see it's worked",
    "start": "3488390",
    "end": "3495859"
  },
  {
    "text": "it's called into the JavaScript it's passed through my message from the dotnet code and whatever the user types",
    "start": "3495859",
    "end": "3501670"
  },
  {
    "text": "whatever the user types in here will get passed back into the dotnet code so that's a very simple example but",
    "start": "3501670",
    "end": "3507859"
  },
  {
    "text": "hopefully you can see that you can put completely arbitrary JavaScript logic in there to interact with third-party",
    "start": "3507859",
    "end": "3513319"
  },
  {
    "text": "libraries or to call any browser API that you want to and then you can if you want to put it in a library package",
    "start": "3513319",
    "end": "3519289"
  },
  {
    "text": "reuse it publish it to new gap if you feel like all right so we are basically",
    "start": "3519289",
    "end": "3525470"
  },
  {
    "text": "out of time now so I've shown you a whole bunch of things that you can do with a slightly more advanced project",
    "start": "3525470",
    "end": "3531349"
  },
  {
    "text": "that hopefully gives you a sense of what it's like to build this sort of thing now I need to remind you one further",
    "start": "3531349",
    "end": "3538940"
  },
  {
    "text": "time that this is not a shipping product this is an experimental idea and it's my",
    "start": "3538940",
    "end": "3544490"
  },
  {
    "text": "hope at least and the hope of many of us that this will become a shipping product but that's not decided yet we honestly",
    "start": "3544490",
    "end": "3551329"
  },
  {
    "text": "don't know and whether or not that happens is largely going to depend and what feedback we get from potential",
    "start": "3551329",
    "end": "3557720"
  },
  {
    "text": "customers potential users of this product so I really would like you as",
    "start": "3557720",
    "end": "3563329"
  },
  {
    "text": "much as possible to give us feedback through any channels that you can about whether you think this is useful to you",
    "start": "3563329",
    "end": "3568339"
  },
  {
    "text": "whether you would use it what you don't like about it maybe just give us some ideas what you think about this thing to",
    "start": "3568339",
    "end": "3574940"
  },
  {
    "text": "give you a slightly broader picture of all the functionality we would have in mind for a sort of version one of if it was to become a thing well",
    "start": "3574940",
    "end": "3581330"
  },
  {
    "text": "obviously I've been showing you this component model in some detail but there's other more basic features as well like layout some routing they'd be",
    "start": "3581330",
    "end": "3588170"
  },
  {
    "text": "familiar to most web developers they're already implemented I didn't bother showing nukes it's just not very interesting what else is there well",
    "start": "3588170",
    "end": "3594470"
  },
  {
    "text": "obviously there needs to be very first-class tooling support we haven't got everything in there yet so we haven't got all the project templates",
    "start": "3594470",
    "end": "3600020"
  },
  {
    "text": "right there's still one or two quirks in the intellisense but you know we've got a lot of the basics in there already",
    "start": "3600020",
    "end": "3605690"
  },
  {
    "text": "we've got dependency injection which I've shown you using we have not yet got but obviously we would need for typical",
    "start": "3605690",
    "end": "3612860"
  },
  {
    "text": "business applications a comprehensive system of working with entering data so all your usual forms and validation",
    "start": "3612860",
    "end": "3620000"
  },
  {
    "text": "stuff needs to be very slick and nice to work with obviously you would have to have debugging support now at the moment",
    "start": "3620000",
    "end": "3626270"
  },
  {
    "text": "we don't have support for debugging the.net that's running in your browser we do have a proof-of-concept of it",
    "start": "3626270",
    "end": "3631700"
  },
  {
    "text": "actually so you know when you open your browser dev tools and you can see your JavaScript you can set breakpoints on it",
    "start": "3631700",
    "end": "3637370"
  },
  {
    "text": "and step through it and so on we've got a prototype already of making it so that you see your c-sharp source",
    "start": "3637370",
    "end": "3644090"
  },
  {
    "text": "code inside the dev tools and you can set breakpoints on it there and step through it and that's really lovely so",
    "start": "3644090",
    "end": "3649640"
  },
  {
    "text": "hopefully we will do something like that but there's quite a lot of work involved in making that really robust stone to",
    "start": "3649640",
    "end": "3654830"
  },
  {
    "text": "end so that's another thing that's in progress auto rebuild means whenever you change your sources it just",
    "start": "3654830",
    "end": "3660680"
  },
  {
    "text": "automatically builds and updates in the browser JavaScript Interop I showed you some of that server-side rendering I didn't show you",
    "start": "3660680",
    "end": "3666950"
  },
  {
    "text": "it's not implemented yet but it would very very simple for us to implement because Blaser components can run on the server just as well as they can run on",
    "start": "3666950",
    "end": "3673370"
  },
  {
    "text": "the client salt now after all if you've got that done out on the server so we can easily render the initial",
    "start": "3673370",
    "end": "3678800"
  },
  {
    "text": "application UI on the server so the user can see that without even having to download any of the JavaScript and web",
    "start": "3678800",
    "end": "3685010"
  },
  {
    "text": "assembly component packages I showed you that publishing just works when you publish it gets all the right files in",
    "start": "3685010",
    "end": "3690410"
  },
  {
    "text": "the right place whether you're deploying to Azure or your own servers or anything else assembly trimming that means that",
    "start": "3690410",
    "end": "3696740"
  },
  {
    "text": "every time you build we figure out which parts of the assemblies you're not using and we strip them out because it's very",
    "start": "3696740",
    "end": "3702320"
  },
  {
    "text": "important that the resulting application is as small as it needs to be when it runs in the browser so we've already",
    "start": "3702320",
    "end": "3707900"
  },
  {
    "text": "implemented some of that but we have got plans to take that even further and then finally what",
    "start": "3707900",
    "end": "3712920"
  },
  {
    "text": "browsers that don't even support webassembly you probably would think that there's no way they're going to run these applications but the cool thing is",
    "start": "3712920",
    "end": "3719310"
  },
  {
    "text": "they will they will run it and that's because webassembly is designed to fall back on an older standard called Assam",
    "start": "3719310",
    "end": "3725670"
  },
  {
    "text": "jeaious and we've got that already so when the application is started up it detects whether the browser supports",
    "start": "3725670",
    "end": "3731340"
  },
  {
    "text": "webassembly and if it doesn't it loads a different version of the mono runtime which is compiled to Assam je s so even on older",
    "start": "3731340",
    "end": "3737910"
  },
  {
    "text": "browsers like I 11 are probably older the applications will work as well so that is all we have time for I hope that",
    "start": "3737910",
    "end": "3745350"
  },
  {
    "text": "is of some interest to you and I hope you'll try it out and give us some feedback if you go to this website laser",
    "start": "3745350",
    "end": "3750780"
  },
  {
    "text": "dot now you'll get all the instructions for downloading it and there's a lot of documentation about how to use it so um",
    "start": "3750780",
    "end": "3757020"
  },
  {
    "text": "so yeah that's it we're out of time I hope that's been fun and I hope you enjoy the rest of the conference",
    "start": "3757020",
    "end": "3762300"
  },
  {
    "text": "please remember to evaluate the session on the way out to determine what the agenda is going to be next year and have",
    "start": "3762300",
    "end": "3767850"
  },
  {
    "text": "a really good rest of your time here [Applause]",
    "start": "3767850",
    "end": "3774790"
  },
  {
    "text": "[Music]",
    "start": "3774790",
    "end": "3778309"
  }
]