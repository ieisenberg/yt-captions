[
  {
    "text": "so welcome everyone I've got about one more minute by my judgment and I heard a",
    "start": "7439",
    "end": "12840"
  },
  {
    "text": "bell outside so I'll just give people a few more minutes for the people who are here just a reminder of the voting system at the",
    "start": "12840",
    "end": "20560"
  },
  {
    "text": "end the green ones are the only valid ones to put in the box if you want to put the other ones in",
    "start": "20560",
    "end": "27400"
  },
  {
    "text": "then you can just skip that bit that's fine",
    "start": "27400",
    "end": "31960"
  },
  {
    "text": "three green ones equals a red by the way you can all",
    "start": "32640",
    "end": "39039"
  },
  {
    "text": "right we might get started um welcome everybody um today we are going to go",
    "start": "39039",
    "end": "45640"
  },
  {
    "text": "through continuous deployment in 60 minutes with octopus deploy um my name's Damen Brady I'm a Microsoft MVP um I'm",
    "start": "45640",
    "end": "53800"
  },
  {
    "text": "also a solution architect for octopus deploy and you might have seen a few octopus deploy people around wearing these kind of hoodies um one thing about",
    "start": "53800",
    "end": "61239"
  },
  {
    "text": "octopus deploy is that we don't really have any um salese so nobody's really",
    "start": "61239",
    "end": "67040"
  },
  {
    "text": "sitting there trying to make money off everybody so I'm going to as much as",
    "start": "67040",
    "end": "72520"
  },
  {
    "text": "possible make this not a product pitch um I'm going to show you how octopus deploy works and explain some of the",
    "start": "72520",
    "end": "77880"
  },
  {
    "text": "reasoning behind the decisions but if you're not going to pay money for it fantastic that's awesome if you just",
    "start": "77880",
    "end": "84119"
  },
  {
    "text": "want to use some of the principles and use other products that's great as well um so I'm not going to try and tell you",
    "start": "84119",
    "end": "90159"
  },
  {
    "text": "anything the first question I guess that you would be expecting to hear is what is octopus deploy and I might just get a",
    "start": "90159",
    "end": "96159"
  },
  {
    "text": "bit of a gauge right now who uses octopus deployed now okay that's probably about a third of the room who",
    "start": "96159",
    "end": "102399"
  },
  {
    "text": "has heard of it but doesn't use it okay a few more people and who has never heard of octopus deploy before a",
    "start": "102399",
    "end": "109799"
  },
  {
    "text": "couple of people all right okay so um octopus deploy probably the easiest way",
    "start": "109799",
    "end": "115680"
  },
  {
    "text": "to explain what it is is to just grab the text from the website which is octopus deploy is a friendly deployment",
    "start": "115680",
    "end": "121399"
  },
  {
    "text": "automation tool for net developers so number one it's friendly and so that",
    "start": "121399",
    "end": "126560"
  },
  {
    "text": "means that you can do a demo in 60 minutes from start to finish we like to think that um it's easy to use and um we",
    "start": "126560",
    "end": "133480"
  },
  {
    "text": "have a lot of feedback from our customers that says that it is easy to use so most people have a deployment up",
    "start": "133480",
    "end": "138519"
  },
  {
    "text": "and running within a few days of getting started for the first time so we we aim to make it very friendly and easy to use",
    "start": "138519",
    "end": "145280"
  },
  {
    "text": "uh deployment automation tool is kind of self-explanatory it automates and orchestrates the deployment of the",
    "start": "145280",
    "end": "150720"
  },
  {
    "text": "applications you write as a developer so whether that's dropping files on a server and setting up IIs um updating",
    "start": "150720",
    "end": "157959"
  },
  {
    "text": "databases running some scripts you know setting up load balances all that kind of stuff we automate that deployment",
    "start": "157959",
    "end": "164000"
  },
  {
    "text": "process of your application and the final part here actually gets less true as we go on in time so originally it was",
    "start": "164000",
    "end": "170280"
  },
  {
    "text": "for net developers so you write C or other languages and it's net code and we",
    "start": "170280",
    "end": "176959"
  },
  {
    "text": "deploy IAS websites and things like that but as of a few versions ago we've started supporting SSH end points you",
    "start": "176959",
    "end": "183120"
  },
  {
    "text": "don't need to use new get to package anymore you can use um tballs if you have that um you can run bash scripts um",
    "start": "183120",
    "end": "189879"
  },
  {
    "text": "so we're less and less net developers but um that's where we started so that's",
    "start": "189879",
    "end": "194959"
  },
  {
    "text": "where we have the most power the next question obviously is why would I use octopus deploy as opposed to",
    "start": "194959",
    "end": "201720"
  },
  {
    "text": "just whatever the um the current method of deploying our applications are and probably the best way to explain why is",
    "start": "201720",
    "end": "207640"
  },
  {
    "text": "to talk about what deployment currently look like in a lot of organizations so",
    "start": "207640",
    "end": "212920"
  },
  {
    "text": "let's do one um here's my app I wrote an app specifically for this and several",
    "start": "212920",
    "end": "218599"
  },
  {
    "text": "other talks um this is my app it's a weather app um I'm going to make",
    "start": "218599",
    "end": "224040"
  },
  {
    "text": "millions off this thing and it basically just gives me the weather where I come from right now now this isn't actually",
    "start": "224040",
    "end": "229560"
  },
  {
    "text": "getting real data because it's changing um pretty it's just getting random numbers on my local one if this",
    "start": "229560",
    "end": "236400"
  },
  {
    "text": "was Melbourne it's probably correct but it's um negative four um so this is my app and I've got",
    "start": "236400",
    "end": "243560"
  },
  {
    "text": "it running just locally here my test server is over here I've just got a test",
    "start": "243560",
    "end": "248760"
  },
  {
    "text": "server on local host for the purposes of demo and it's not working at the moment there's nothing there and production obviously is not working we've got an",
    "start": "248760",
    "end": "255319"
  },
  {
    "text": "Azure VM for production so um not running so I need to deploy this thing",
    "start": "255319",
    "end": "260400"
  },
  {
    "text": "so the first thing I would do obviously is come in here and right click publish right which is a terrible way of",
    "start": "260400",
    "end": "265919"
  },
  {
    "text": "deploying stuff if you see demos run with right click publish that's fine if you don't care what happens on the other",
    "start": "265919",
    "end": "271560"
  },
  {
    "text": "end but not great otherwise so instead I'm going to do the real way which is to change this to release mode and then",
    "start": "271560",
    "end": "278440"
  },
  {
    "text": "build so um this is obviously you know some very important person in the company's machine you can't build from",
    "start": "278440",
    "end": "284880"
  },
  {
    "text": "just everybody's developer machine it's got to be you know Steve's machine doing the development or doing the build so",
    "start": "284880",
    "end": "290720"
  },
  {
    "text": "then you go and you grab the output of this so where the view here we go we've got that one there's a whole lot of Cs",
    "start": "290720",
    "end": "296560"
  },
  {
    "text": "files in there so we'd probably trying rather than just collecting everything we'd probably take the Cs files out",
    "start": "296560",
    "end": "301960"
  },
  {
    "text": "because we don't want them in production and then we'd RDP to our production box to copy them on and we need to make sure",
    "start": "301960",
    "end": "308280"
  },
  {
    "text": "that we're not going to make any mistakes here so let's RDP to the production server which is this guy here",
    "start": "308280",
    "end": "315000"
  },
  {
    "text": "just bear with me copy that this is the best way to to",
    "start": "315000",
    "end": "320039"
  },
  {
    "text": "make sure you're on production obviously there we go and I'm logging in",
    "start": "320039",
    "end": "325720"
  },
  {
    "text": "as me long password which means it's secure",
    "start": "325720",
    "end": "331720"
  },
  {
    "text": "um and you need to make sure it's production I'm not going to deploy somewhere else so I've done this so it's super safe and then so I'll",
    "start": "331720",
    "end": "338919"
  },
  {
    "text": "grab all those files and I'll log on I'll go to C drive inep hub www root and",
    "start": "338919",
    "end": "344160"
  },
  {
    "text": "paste them in and then fiddle around a bit and there's some web config settings that need to change for production so",
    "start": "344160",
    "end": "350000"
  },
  {
    "text": "I'll go through my little checklist and I'll make sure that I'm changing all the web config settings because we've got a an environment variable and we've got a",
    "start": "350000",
    "end": "356960"
  },
  {
    "text": "API key that we need to set which I've cheated a little bit we're going to set that in octopus in a little bit um some",
    "start": "356960",
    "end": "362720"
  },
  {
    "text": "other API Keys some file locations and stuff so I'm going through all of these little steps and getting it right and",
    "start": "362720",
    "end": "368440"
  },
  {
    "text": "getting it ready so you know what what is wrong with that process um there's",
    "start": "368440",
    "end": "375199"
  },
  {
    "text": "obviously a lot wrong that's the creepiest gift ever I love it um yeah so what's wrong with that",
    "start": "375199",
    "end": "381919"
  },
  {
    "text": "process and there's a lot wrong with it um ultimately I'm just sitting there going through this script right this list of tasks that need to happen um the",
    "start": "381919",
    "end": "389639"
  },
  {
    "text": "first thing I'm doing is IDP onto another server and that's okay because I'm deploying one website and I know I",
    "start": "389639",
    "end": "396240"
  },
  {
    "text": "have one environment it's got prod written across the desktop so I know that it's the right one um but imagine",
    "start": "396240",
    "end": "402520"
  },
  {
    "text": "if I had two or three web servers and now I have to do it again and again so we've got a repetition problem I have to",
    "start": "402520",
    "end": "408160"
  },
  {
    "text": "make sure I hit all of those servers and if I'm hitting all of them and running through all of those little steps manually I have a consistency problem",
    "start": "408160",
    "end": "415720"
  },
  {
    "text": "right I need to make sure that I do exactly the same thing on all of those service otherwise you know some things",
    "start": "415720",
    "end": "422360"
  },
  {
    "text": "can go wrong and this is generally why people do their deployments who does their deployments generally on a",
    "start": "422360",
    "end": "427720"
  },
  {
    "text": "Saturday or Sunday yeah that's kind of half the people were willing to put",
    "start": "427720",
    "end": "433039"
  },
  {
    "text": "their hand up then and the reason is the diploma itself probably only takes a couple of minutes but you need the rest",
    "start": "433039",
    "end": "439280"
  },
  {
    "text": "of the weekend to make sure that you can find the little problems that you came up with on the way through um who's",
    "start": "439280",
    "end": "444720"
  },
  {
    "text": "heard of this company KN Capital group anyone couple of hands good I like seeing almost no No Hands cuz it's a fun",
    "start": "444720",
    "end": "450560"
  },
  {
    "text": "story um so night Capital group wrote some software for uh share trading New",
    "start": "450560",
    "end": "455800"
  },
  {
    "text": "York Stock Exchange share trading stuff um and they passed billions of dollars worth of Trades through every day um and",
    "start": "455800",
    "end": "462560"
  },
  {
    "text": "they had a a application change they needed to make so in 2012 they repurposed a flag in their code so they",
    "start": "462560",
    "end": "469639"
  },
  {
    "text": "had this flag that took the code down a particular path and it hadn't been used for ages and ages so they thought we'll",
    "start": "469639",
    "end": "476720"
  },
  {
    "text": "just repurpose that flag and use it for our new code so they did that and because they're putting billions of dollars worth of you",
    "start": "476720",
    "end": "483599"
  },
  {
    "text": "know trades through every day they needed to make sure it worked so they tested it really really really really",
    "start": "483599",
    "end": "488960"
  },
  {
    "text": "thoroughly and the code worked it was great so they deployed it overnight and",
    "start": "488960",
    "end": "494400"
  },
  {
    "text": "um when the market opened in the morning um they lost about $440 million in a bit",
    "start": "494400",
    "end": "500240"
  },
  {
    "text": "under 45 minutes before somebody worked out what was happening and flick the kill switch so the company went bankrupt",
    "start": "500240",
    "end": "506879"
  },
  {
    "text": "in 45 minutes now there was nothing wrong with the code actually the code was fine they tested it really",
    "start": "506879",
    "end": "512959"
  },
  {
    "text": "thoroughly but what happened is when they deployed the guy doing the deployment deployed the new code to",
    "start": "512959",
    "end": "518560"
  },
  {
    "text": "seven of their eight servers so the eighth server was going down this code path that hadn't been run for years and",
    "start": "518560",
    "end": "524800"
  },
  {
    "text": "was reporting the wrong values for these share trades so they basically went bankrupt straight away because of a",
    "start": "524800",
    "end": "531480"
  },
  {
    "text": "human error a deployment problem what was that sorry was he fired was he fired um I don't think he needed",
    "start": "531480",
    "end": "538279"
  },
  {
    "text": "to be fired because the didn't exist anymore so you know win-win",
    "start": "538279",
    "end": "544760"
  },
  {
    "text": "um yeah so I mean that's why there's a problem with this process because people can make mistakes and when I did that",
    "start": "544760",
    "end": "551720"
  },
  {
    "text": "you know I did it as a human and I'm not great at following these instructions absolutely correctly consistently every",
    "start": "551720",
    "end": "557320"
  },
  {
    "text": "single time so that's something that we want some automation tools to do um so",
    "start": "557320",
    "end": "564120"
  },
  {
    "text": "this is kind of a better workflow what we're going to look at today um the workflow I was looking at then you had",
    "start": "564120",
    "end": "569440"
  },
  {
    "text": "these developers they do all their work they test it locally and then one guy will do the deployment by running",
    "start": "569440",
    "end": "574519"
  },
  {
    "text": "through this script what we want to look at today and what we want to try and get to today is this workflow so number one",
    "start": "574519",
    "end": "582000"
  },
  {
    "text": "we're going to commit our code we're going to make a change commit it and push it up to our source control I'm",
    "start": "582000",
    "end": "587160"
  },
  {
    "text": "using vsts uh with Git as Source control mainly because I'm familiar with it but it doesn't matter what you're using um",
    "start": "587160",
    "end": "594320"
  },
  {
    "text": "we're going to do a build automatically continuous integration build and then we're going to package it into a pack",
    "start": "594320",
    "end": "599399"
  },
  {
    "text": "package of you know the artifacts from our build we're going to push that package to octopus deploy so say this is",
    "start": "599399",
    "end": "606000"
  },
  {
    "text": "version 1 Point whatever it is and say give that to octopus deploy in octopus",
    "start": "606000",
    "end": "611079"
  },
  {
    "text": "we're then going to create a release now a release in octopus is basically a",
    "start": "611079",
    "end": "616240"
  },
  {
    "text": "snapshot of both the artifacts from your build so version whatever it is of your build plus all the steps that need to",
    "start": "616240",
    "end": "623000"
  },
  {
    "text": "run for that release and what that means is you have this snapshot that you can then move through your environments so",
    "start": "623000",
    "end": "629480"
  },
  {
    "text": "when we deploy to test we're deploying those same artifacts in the same way and when we go to production later on we're",
    "start": "629480",
    "end": "635920"
  },
  {
    "text": "going to deploy those same artifacts in the same way but to a new environment so not only will we have tested the code",
    "start": "635920",
    "end": "642800"
  },
  {
    "text": "but we will have tested the way we put our code on our machines so we that's a really important thing which we'll look",
    "start": "642800",
    "end": "648399"
  },
  {
    "text": "at in a sec all right so today this is what we're going to do to achieve that workflow I'm going to install octopus",
    "start": "648399",
    "end": "655160"
  },
  {
    "text": "those machines I had before don't have octopus on them at all um we're going to configure the environments because",
    "start": "655160",
    "end": "660720"
  },
  {
    "text": "octopus needs to know where to deploy to we're going to configure our build so we have a build um already but it doesn't",
    "start": "660720",
    "end": "668000"
  },
  {
    "text": "package our application doesn't know anything about octopus so we're going to set that up um we're going to set up the octopus project so this is the steps",
    "start": "668000",
    "end": "674680"
  },
  {
    "text": "that we need to run to deploy our package to our environments um and then",
    "start": "674680",
    "end": "680480"
  },
  {
    "text": "we're actually going to do a deployment but we're going to do it using that workflow where I just make a change and commit it and it will go all the way to",
    "start": "680480",
    "end": "686800"
  },
  {
    "text": "test we'll have a look to make sure it's okay press a button and it'll go to production so that's what we're going to",
    "start": "686800",
    "end": "692240"
  },
  {
    "text": "do in the following 50 minutes um now as I'm going as well by the way obviously",
    "start": "692240",
    "end": "698000"
  },
  {
    "text": "there's a lot to cover so if you have questions that are really quick please feel free to ask them but if it's going",
    "start": "698000",
    "end": "703680"
  },
  {
    "text": "to take me more than a minute or so I'm probably going to ignore you and um just",
    "start": "703680",
    "end": "708920"
  },
  {
    "text": "redirect you to the booth where we have 20 odd octopus employees including myself straight afterwards um so go and",
    "start": "708920",
    "end": "716440"
  },
  {
    "text": "speak to us and ask us the hard questions then I'll be around straight after this as well just a bit of warning",
    "start": "716440",
    "end": "723000"
  },
  {
    "text": "there right that's enough talking so I'm just going to do the",
    "start": "723000",
    "end": "728959"
  },
  {
    "text": "stuff first installing octopus all right so if who's been using the uh Wi-Fi",
    "start": "728959",
    "end": "736800"
  },
  {
    "text": "here it's a couple of hands all right so normally you would come here click to",
    "start": "736800",
    "end": "742680"
  },
  {
    "text": "the octopus. comom click on downloads and grab these files but this is 119 Meg",
    "start": "742680",
    "end": "748680"
  },
  {
    "text": "so I'm not going to do that because that'll take the rest of the 50 minutes so I've already done this so number one",
    "start": "748680",
    "end": "754360"
  },
  {
    "text": "we're going to install octopus so this is an MSI it basically all this MSI does is just drop some files on and then we",
    "start": "754360",
    "end": "761279"
  },
  {
    "text": "configure so I'm just going to skip through this really quickly there's really not much to do I totally read all",
    "start": "761279",
    "end": "766480"
  },
  {
    "text": "of that license agreement and we're going to do it in that default location um all right so that's the MSI",
    "start": "766480",
    "end": "772839"
  },
  {
    "text": "bit done and you can do that silently as well so um you can script this install um and now we need to get started",
    "start": "772839",
    "end": "779279"
  },
  {
    "text": "configuring a couple of things this is a really not interesting part of installing you of actually this demo so",
    "start": "779279",
    "end": "785199"
  },
  {
    "text": "I'm just going to skip through a lot of this um my full name is Doo I work for",
    "start": "785199",
    "end": "790760"
  },
  {
    "text": "octopus uh and then it's Damian plus n",
    "start": "790760",
    "end": "797920"
  },
  {
    "text": "DC there we go so what that will do is it'll go to the octus server and get a trial license so we get a 45-day trial",
    "start": "799519",
    "end": "806519"
  },
  {
    "text": "which gives you unlimited targets and all that sort of stuff and after that we revert to the Community Edition which is",
    "start": "806519",
    "end": "812480"
  },
  {
    "text": "uh five projects five users and 10 um deployment targets so you can use it as",
    "start": "812480",
    "end": "818199"
  },
  {
    "text": "a proof of concept really really easily as well okay so um the next thing we get",
    "start": "818199",
    "end": "823680"
  },
  {
    "text": "asked is where we want to keep all of octopus's files that we need on the file system so um configuration files logs",
    "start": "823680",
    "end": "830480"
  },
  {
    "text": "packages all that kind of stuff goes in here I'll just choose the default the octopus uh service itself on the server",
    "start": "830480",
    "end": "837839"
  },
  {
    "text": "runs as a Windows serice that just listens over um HTTP ports or TCP ports",
    "start": "837839",
    "end": "844199"
  },
  {
    "text": "so we can run that service itself as a local system account or as a domain account it's up to us I'm just going to",
    "start": "844199",
    "end": "850360"
  },
  {
    "text": "leave it as a local system account um and then our data sits in a SQL Server database and once again I'm sure you",
    "start": "850360",
    "end": "857040"
  },
  {
    "text": "didn't really want me to walk through the SQL Server install process so I've already put SQL Express and I'm going to",
    "start": "857040",
    "end": "864160"
  },
  {
    "text": "give it a new database name called octopus deploy so what octopus does when it",
    "start": "864160",
    "end": "869959"
  },
  {
    "text": "upgrades database details and things when we release a new version is it will run scripts on behalf of that user and",
    "start": "869959",
    "end": "876839"
  },
  {
    "text": "run migration script so we need that um local system to have access full control",
    "start": "876839",
    "end": "883279"
  },
  {
    "text": "over that database so we can run our update scripts and things like that so the first thing is it says I'm going to create the database and then it's going",
    "start": "883279",
    "end": "889199"
  },
  {
    "text": "to say I need that account that you chose to give um full access to the database so we'll let it do that now our",
    "start": "889199",
    "end": "896880"
  },
  {
    "text": "test server for octopus is um sorry for our application is going to be Local Host so I don't want to use port 80 for",
    "start": "896880",
    "end": "903399"
  },
  {
    "text": "octopus so I'm just going to use port 8,000 so there's a UI a web UI for octopus deploy and it just calls our API",
    "start": "903399",
    "end": "911279"
  },
  {
    "text": "and it just listens on that same port as well so this is the main site we're going to go to so Port 8,000 on Local",
    "start": "911279",
    "end": "917480"
  },
  {
    "text": "Host we'll do that and finally we need to decide how we're going to authenticate with octopus we can do",
    "start": "917480",
    "end": "922839"
  },
  {
    "text": "active directory accounts or username password so I'm just going to make an admin account",
    "start": "922839",
    "end": "930759"
  },
  {
    "text": "and type my password and we're done I don't want to help us out um so before I",
    "start": "931639",
    "end": "937680"
  },
  {
    "text": "click the big you should leave those checked by the way um before I click the Big Green install button I just want to",
    "start": "937680",
    "end": "943319"
  },
  {
    "text": "show you this um there's a show script link there and I don't know whether you can see that very well but um all that",
    "start": "943319",
    "end": "950639"
  },
  {
    "text": "does is so this wizard we've just gone through all it's done is generate a whole lot of command line um commands",
    "start": "950639",
    "end": "957120"
  },
  {
    "text": "basically so I can grab all this quit out of my um installer there and then",
    "start": "957120",
    "end": "962519"
  },
  {
    "text": "just run that on the command line and it will do exactly the same thing so this is really handy an octopus does this",
    "start": "962519",
    "end": "968199"
  },
  {
    "text": "pretty much throughout this is really handy if you want to build this as part of your provisioning script so if you",
    "start": "968199",
    "end": "973360"
  },
  {
    "text": "need a new octopus server you can script the entire thing and on provisioning just run these commands and you'll have",
    "start": "973360",
    "end": "979000"
  },
  {
    "text": "a brand new octopus server so I'm going to install and it's going to run those scripts all it's really doing is hitting",
    "start": "979000",
    "end": "985040"
  },
  {
    "text": "the command line and running those things and when we're done we will end up with an octopus server that is up and",
    "start": "985040",
    "end": "993160"
  },
  {
    "text": "running so finish and open this in browser and we have octopus super zoomed",
    "start": "993360",
    "end": "1001680"
  },
  {
    "text": "in and obviously there's nothing in it yet so that's octopus itself so this is the server side I'm going to do one more",
    "start": "1002160",
    "end": "1008920"
  },
  {
    "text": "thing and then we're going to talk about the client side as well so we want to deploy to Virtual machines to do that we",
    "start": "1008920",
    "end": "1014319"
  },
  {
    "text": "need to run an agent on those machines which we call a tentacle so the idea is the octop was controls a whole bunch of",
    "start": "1014319",
    "end": "1020600"
  },
  {
    "text": "tentacles so once again it's a much smaller package it's only 3 Meg but I'm",
    "start": "1020600",
    "end": "1026319"
  },
  {
    "text": "still not going to use the um internet here I read that license agreement once",
    "start": "1026319",
    "end": "1031480"
  },
  {
    "text": "again the MSI really just drops files in a location and tells windows that you've got this thing installed and we have a",
    "start": "1031480",
    "end": "1037760"
  },
  {
    "text": "get started button here as well now it's going to ask me some similar questions things like where do you want the",
    "start": "1037760",
    "end": "1043240"
  },
  {
    "text": "configuration files and the log files by default at C drive octopus and then when you install application so when the",
    "start": "1043240",
    "end": "1050240"
  },
  {
    "text": "octopus server gives me something to deploy where should that go by default and you can override that on a on a",
    "start": "1050240",
    "end": "1056160"
  },
  {
    "text": "project by project basis but I'm just going to use the default here now there's two types of tentacles that we",
    "start": "1056160",
    "end": "1062559"
  },
  {
    "text": "have um there's a listening tentacle and a polling tentacle the main difference is a listening tentacle opens up a port",
    "start": "1062559",
    "end": "1069640"
  },
  {
    "text": "an incoming port and when the octopus server has some tasks for that tentacle agent to perform it will hit that port",
    "start": "1069640",
    "end": "1077640"
  },
  {
    "text": "and immediately the tacal agent will respond and say yeah I'm I'm going to do this stuff but if you can't open an",
    "start": "1077640",
    "end": "1083159"
  },
  {
    "text": "inbound port for whatever reason for um you know the security theater or the you know whatever happens in your",
    "start": "1083159",
    "end": "1088960"
  },
  {
    "text": "organization you can set up a polling tentacle and that polling tentacle the way it works is periodically it'll just",
    "start": "1088960",
    "end": "1095080"
  },
  {
    "text": "hit octopus and say hey do you have any tasks for me to perform and if it does you know it'll run those tasks there so",
    "start": "1095080",
    "end": "1101520"
  },
  {
    "text": "you can keep this pretty isolated if you can't open firewall ports on your target machines but we're going to choose a",
    "start": "1101520",
    "end": "1107480"
  },
  {
    "text": "listening tentacle um and by default that will listen on Port 10933 if you can't see that we've",
    "start": "1107480",
    "end": "1114360"
  },
  {
    "text": "also got a checkbox to add a firewall exception now I'll talk about the security in just a sec but we need to",
    "start": "1114360",
    "end": "1120520"
  },
  {
    "text": "tell it this is the tacal agent we need to tell it what octopus server it should trust because remember we're just",
    "start": "1120520",
    "end": "1126120"
  },
  {
    "text": "sending kind of commands over to a Target machine we don't want anybody to be able to just send commands we need to",
    "start": "1126120",
    "end": "1131919"
  },
  {
    "text": "be able to tell it this is the octopus server you care about so to find that thumb print for the octopus server we",
    "start": "1131919",
    "end": "1138000"
  },
  {
    "text": "got a certificate in configuration I'll just grab that paste it in there and paste it here and",
    "start": "1138000",
    "end": "1145960"
  },
  {
    "text": "once again we have a show script so all that did that wizard basically generated",
    "start": "1145960",
    "end": "1151080"
  },
  {
    "text": "these command line things and then um we're going to run that now I'm actually going to copy",
    "start": "1151080",
    "end": "1157039"
  },
  {
    "text": "this and I will run it here as an install but I'm also going to go to my",
    "start": "1157039",
    "end": "1163440"
  },
  {
    "text": "production machine and I'm going to go to C drive Mo",
    "start": "1163440",
    "end": "1171640"
  },
  {
    "text": "somewhere oops it's going to be somewhere here",
    "start": "1172159",
    "end": "1178039"
  },
  {
    "text": "downloads there we go so I've got this install technical script I'm just going to edit that the first one is the silent",
    "start": "1178039",
    "end": "1183640"
  },
  {
    "text": "MSI and the second one is going to be our commands now the reason I copied and pasted that was because we have a",
    "start": "1183640",
    "end": "1190039"
  },
  {
    "text": "different thumb print from the last time I ran this demo so our thumb print",
    "start": "1190039",
    "end": "1195240"
  },
  {
    "text": "is oh that's the new one for the tentacle all right I'm just going to assume that worked people who are paying",
    "start": "1195240",
    "end": "1201240"
  },
  {
    "text": "attention did I do that properly yes good it's always good when Vanessa tells me that I did things",
    "start": "1201240",
    "end": "1207600"
  },
  {
    "text": "properly all right so I'm just going to run this command line and we're going to go back to our slides and I'm just going to totally trust that that's going to",
    "start": "1207600",
    "end": "1213600"
  },
  {
    "text": "work perfectly so we've installed octopus we've set up the tentacle and the um server as well and I just want to",
    "start": "1213600",
    "end": "1219080"
  },
  {
    "text": "talk about that a little bit because that's an important part of octopus so we have our server with a server agent",
    "start": "1219080",
    "end": "1226080"
  },
  {
    "text": "and we have our Target machines with the with the agents running on those so",
    "start": "1226080",
    "end": "1231320"
  },
  {
    "text": "there's a little tentacle agent running on all of these Target servers and in this case we have a couple of web servers and a database server and they",
    "start": "1231320",
    "end": "1238159"
  },
  {
    "text": "all run an agent now to make sure that we're sending commands only to and from the right machines each of these agents",
    "start": "1238159",
    "end": "1245880"
  },
  {
    "text": "has a thumb print has an x509 certificate which means that we can communicate over a secure uh transport",
    "start": "1245880",
    "end": "1253039"
  },
  {
    "text": "layer security TLS 1.2 you know SSL https those kind of words um over that",
    "start": "1253039",
    "end": "1259880"
  },
  {
    "text": "kind of channel to make sure that the server is the only thing that can send information to the tentacle and the",
    "start": "1259880",
    "end": "1264919"
  },
  {
    "text": "tentacle knows that that information is coming from the server so when you establish this communication mechanism",
    "start": "1264919",
    "end": "1270320"
  },
  {
    "text": "here to all of your different servers that channel is a secure Channel now this gives you another really cool",
    "start": "1270320",
    "end": "1276480"
  },
  {
    "text": "benefit as well that agent we just installed actually runs as a local",
    "start": "1276480",
    "end": "1282960"
  },
  {
    "text": "account the way I've set it up now now you can run it as a domain account that's not a problem but we're running",
    "start": "1282960",
    "end": "1288320"
  },
  {
    "text": "as a local system account by default which means that we don't need to worry about a domain account that has access",
    "start": "1288320",
    "end": "1294679"
  },
  {
    "text": "to our test servers and our production database and all of the things across Network boundaries you know across",
    "start": "1294679",
    "end": "1302159"
  },
  {
    "text": "outside the DMZ and also inside the DMZ so this kind of can exist in its own little bubble we just need to punch that",
    "start": "1302159",
    "end": "1307720"
  },
  {
    "text": "one hole through the firewall Port so that gives us a lot of advantages as",
    "start": "1307720",
    "end": "1312799"
  },
  {
    "text": "well doing that does that all make sense is everybody clear on how that",
    "start": "1312799",
    "end": "1317880"
  },
  {
    "text": "communication works Yeah question is SQL Server database a hard",
    "start": "1317880",
    "end": "1325200"
  },
  {
    "text": "requirement uh yes it is for version 3.x but you can use SQL Express which doesn't cost you any money um octopus",
    "start": "1325200",
    "end": "1332919"
  },
  {
    "text": "deploy itself doesn't actually um have a lot of resource usage on SQL Server I",
    "start": "1332919",
    "end": "1338520"
  },
  {
    "text": "mean lots of stuff is stored in there but it's not going to hammer the thing I mean you don't need your own separate",
    "start": "1338520",
    "end": "1343600"
  },
  {
    "text": "SQL Server I'm running this SQL uh instance at SQL Express running on a",
    "start": "1343600",
    "end": "1349360"
  },
  {
    "text": "local VM on my MacBook alongside other VMS it's really not very resource",
    "start": "1349360",
    "end": "1355159"
  },
  {
    "text": "intensive so SQL Express is perfectly fine for that kind of stuff unless you're doing hundreds and thousands of",
    "start": "1355159",
    "end": "1360919"
  },
  {
    "text": "deployments a lot of the time yeah but yes we do need SQL",
    "start": "1360919",
    "end": "1366039"
  },
  {
    "text": "Server cool me just grab some coffee and then we're going to do these next three steps all together and I'm going to",
    "start": "1366039",
    "end": "1371960"
  },
  {
    "text": "explain a little bit more about them we'll get to some deployment very",
    "start": "1371960",
    "end": "1377360"
  },
  {
    "text": "very soon don't worry right configuring our environment so we're going to tell octopus about those tentacles we installed we're going to",
    "start": "1377360",
    "end": "1384720"
  },
  {
    "text": "change our build so we're packaging our application and sending it to octopus and then we're going to tell octopus how",
    "start": "1384720",
    "end": "1389799"
  },
  {
    "text": "to deploy that package so what was the first one configure our environments cool you think I would know these demos",
    "start": "1389799",
    "end": "1395400"
  },
  {
    "text": "wouldn't you um all right so let's go to our environments Tab and we're going to have a test environment and a production",
    "start": "1395400",
    "end": "1401880"
  },
  {
    "text": "environment so test is our first one just going to zoom out a bit and",
    "start": "1401880",
    "end": "1408679"
  },
  {
    "text": "second environment will be production now in our test environment",
    "start": "1408679",
    "end": "1414640"
  },
  {
    "text": "we need to connect to that tentacle that we installed so let's add that deployment Target it was a listening tentacle and you can see we have the",
    "start": "1414640",
    "end": "1421240"
  },
  {
    "text": "ability to add SSH connections you can ignore these two because they're being deprecated um offline package drops if",
    "start": "1421240",
    "end": "1427840"
  },
  {
    "text": "you really have an air gaap server you can drop it to a USB key go to another server somewhere and run a Powershell",
    "start": "1427840",
    "end": "1433840"
  },
  {
    "text": "script and it will do the same thing um or a polling tentacle so we have a listening tentacle",
    "start": "1433840",
    "end": "1439279"
  },
  {
    "text": "uh it's at localhost oops and it's listening on that default port and the",
    "start": "1439279",
    "end": "1445320"
  },
  {
    "text": "server found it it's been able to communicate um this is our test web server and we're also going to give it a",
    "start": "1445320",
    "end": "1451799"
  },
  {
    "text": "roll now the idea of roles in um octopus deploy means that during your deployment",
    "start": "1451799",
    "end": "1458000"
  },
  {
    "text": "process you might have a number of steps that need to run on your web servers and a number of steps that need to run on an application server and some steps that",
    "start": "1458000",
    "end": "1464760"
  },
  {
    "text": "need to run on a database server by giving each one of these machines role it means that all of the tasks for a web",
    "start": "1464760",
    "end": "1471159"
  },
  {
    "text": "server will run on the all of the web server machines so it's a really nice way of being able to scale out",
    "start": "1471159",
    "end": "1477279"
  },
  {
    "text": "especially so if you add a new web server you just add a new machine and all of the web server tasks will run for that machine as well so we only have a",
    "start": "1477279",
    "end": "1485120"
  },
  {
    "text": "web server here we've exchanged Thum print already um so let's save that we have our test web server and I'm going",
    "start": "1485120",
    "end": "1491279"
  },
  {
    "text": "to do the same for the production server which once again is over here",
    "start": "1491279",
    "end": "1499039"
  },
  {
    "text": "and it's listening there we're going to discover and the internet's worked great",
    "start": "1500960",
    "end": "1506000"
  },
  {
    "text": "um so that's our production web server it's also a web server but we're in the production environment for this one so",
    "start": "1506000",
    "end": "1512080"
  },
  {
    "text": "we've got one web server in our test environment one in our production environment and we can see we got one",
    "start": "1512080",
    "end": "1517600"
  },
  {
    "text": "there and one in the production environment now there's a note here about calamari that we need to update",
    "start": "1517600",
    "end": "1523720"
  },
  {
    "text": "calamari I don't want to go into it in too much detail but more or less previous versions of octopus deploy employe the tacal agent itself did a lot",
    "start": "1523720",
    "end": "1531000"
  },
  {
    "text": "of work so it would communicate and it would know how to do things like set up I and all that kind of stuff we decided",
    "start": "1531000",
    "end": "1537399"
  },
  {
    "text": "that especially as we moved away from Windows as a requirement that that bit",
    "start": "1537399",
    "end": "1542840"
  },
  {
    "text": "of code that does the work could probably be shared amongst all of the different locations so the tentacle",
    "start": "1542840",
    "end": "1549120"
  },
  {
    "text": "itself we kind of sliced it up hence the name calamari we have fun with names we sliced it up so the tentacle itself",
    "start": "1549120",
    "end": "1556039"
  },
  {
    "text": "really just deals with the communication calamari that bit of codee and that bit of binary that does the work we actually",
    "start": "1556039",
    "end": "1562640"
  },
  {
    "text": "put that sorry we actually pass that over the wire and then tell it to do the work and that gives us the advantage",
    "start": "1562640",
    "end": "1568480"
  },
  {
    "text": "that if we update the bit that does most of the work we only need to update the server and we can push that updated",
    "start": "1568480",
    "end": "1574600"
  },
  {
    "text": "version to our Target machines as part of the work we're doing so it's telling",
    "start": "1574600",
    "end": "1580159"
  },
  {
    "text": "me that this target machine that I've got has an older version of calamari but it's going to push that out the first",
    "start": "1580159",
    "end": "1585640"
  },
  {
    "text": "time I do a deployment anyway so I'm just going to ignore that for the moment does that make sense calamari and",
    "start": "1585640",
    "end": "1594640"
  },
  {
    "text": "tentacles yeah so Cal uh the question was will the calamari be sitting on the tentacle and yes it we have a copy of it",
    "start": "1596799",
    "end": "1602520"
  },
  {
    "text": "on the server and then when we do a deployment we make sure that the calamari that's on the tentacle so that",
    "start": "1602520",
    "end": "1607960"
  },
  {
    "text": "executable that's on the tentacle is up to date and if it's not we send an up toate version along with our tasks",
    "start": "1607960",
    "end": "1614640"
  },
  {
    "text": "yeah all right so we've got our environments uh we've done that bit what was next build and package so let's go",
    "start": "1614640",
    "end": "1620320"
  },
  {
    "text": "and have a look at our build and right now we have our build which just does a compile um and it put some stuff in a",
    "start": "1620320",
    "end": "1627200"
  },
  {
    "text": "drop folder and so on we need to add some stuff to it to be able to package up our application now there's a few",
    "start": "1627200",
    "end": "1634080"
  },
  {
    "text": "ways to do this but I think I'm going to use the easiest and most common way and that's to add octopack to our to our",
    "start": "1634080",
    "end": "1640440"
  },
  {
    "text": "project now octopack is a new get package which creates new get packages",
    "start": "1640440",
    "end": "1646520"
  },
  {
    "text": "so it's a bit meta um basically we add it to our",
    "start": "1646520",
    "end": "1651760"
  },
  {
    "text": "project and what it will do when we build is it plugs into the MS build process and it'll take our build",
    "start": "1651760",
    "end": "1658600"
  },
  {
    "text": "artifact so our result from our build and put it in a versioned new getap package it'll also let us do things like",
    "start": "1658600",
    "end": "1665159"
  },
  {
    "text": "push it to octopus and so on but for the moment I'm just going to get it to package our application so let's um",
    "start": "1665159",
    "end": "1671640"
  },
  {
    "text": "install that and we need to push that to our",
    "start": "1671640",
    "end": "1678320"
  },
  {
    "text": "to our server and you'll see me do this a lot I don't test anything I'm just going to added",
    "start": "1678720",
    "end": "1684519"
  },
  {
    "text": "octopack and I will commit and push so that's going to go up a new version um",
    "start": "1684519",
    "end": "1689600"
  },
  {
    "text": "to our build we need to add a couple of arguments to our MS build stuff so our actual build definition now let's do",
    "start": "1689600",
    "end": "1698200"
  },
  {
    "text": "that so the first com first argument is that readable we zoom in a bit is run",
    "start": "1698200",
    "end": "1703760"
  },
  {
    "text": "octo pack equals true so that's going to say say when you finish with your build",
    "start": "1703760",
    "end": "1709880"
  },
  {
    "text": "package it up for me I'm going to add one more argument which I like to do especially for vsts which is octo pack",
    "start": "1709880",
    "end": "1717320"
  },
  {
    "text": "package version and I'm going to tell it to use the build build",
    "start": "1717320",
    "end": "1723880"
  },
  {
    "text": "number so the build number that we're using for for TFS or for our team build",
    "start": "1723880",
    "end": "1729960"
  },
  {
    "text": "is going to be become the package version as well so if we have a look at our build number format here it's 1.0 do",
    "start": "1729960",
    "end": "1736519"
  },
  {
    "text": "the build ID so every time we do a new build that build ID is just going to increment and because of this packaging",
    "start": "1736519",
    "end": "1742880"
  },
  {
    "text": "here it means that the new get package we produce as part of our build is going to be 1.0 do whatever the build ID is so",
    "start": "1742880",
    "end": "1750880"
  },
  {
    "text": "we'll save that and I'm just going to cure build now this will take a second because it",
    "start": "1750880",
    "end": "1757240"
  },
  {
    "text": "has to use the internet which is fun so while that's running hopefully it is running um I'm just going to have a look",
    "start": "1757240",
    "end": "1764159"
  },
  {
    "text": "at we've got build 1032 that's going to run hopefully in a sec we have a look at 1031 and have a look",
    "start": "1764159",
    "end": "1770919"
  },
  {
    "text": "at the artifacts that got produced before we added octopack so we have our drop folder we'll have a look in there",
    "start": "1770919",
    "end": "1777559"
  },
  {
    "text": "and in weather view we see we've got our bin folder we've got all our dlls and things like that we don't actually even",
    "start": "1777559",
    "end": "1783799"
  },
  {
    "text": "have our content files so we would have had to do some more work to get the content files for our web application as",
    "start": "1783799",
    "end": "1788840"
  },
  {
    "text": "well it's not really what we want it's not packaged up in a way that we can deploy later on so how's our build going",
    "start": "1788840",
    "end": "1797080"
  },
  {
    "text": "is it actually working oh it is yeah yay technology um so what",
    "start": "1797080",
    "end": "1802640"
  },
  {
    "text": "we're doing is we're building we're restoring our new get packages we're building our application and we're creating a new get package and pushing",
    "start": "1802640",
    "end": "1808919"
  },
  {
    "text": "that up to the server so pushing that up to the server to that artifact that drop",
    "start": "1808919",
    "end": "1814240"
  },
  {
    "text": "folder is probably what's going to take most of the time so for subsequent runs I'm just going to disable that step we",
    "start": "1814240",
    "end": "1819279"
  },
  {
    "text": "don't need it up to 25 let's have a look to see if we can can't see the artifacts",
    "start": "1819279",
    "end": "1826080"
  },
  {
    "text": "yet so what this is doing just to remind you as well it's taking the output of our build grabbing all of the files we",
    "start": "1826080",
    "end": "1833320"
  },
  {
    "text": "need and packaging them up into a new get package and it's going to version that and send that up to the server",
    "start": "1833320",
    "end": "1839440"
  },
  {
    "text": "we're going to need to do one thing in a sec as well which is to tell octopus about that so push the package to",
    "start": "1839440",
    "end": "1844960"
  },
  {
    "text": "octopus so we finished that we'll have a look and we can have a look at the artifacts as well and we'll see the same",
    "start": "1844960",
    "end": "1850320"
  },
  {
    "text": "files except there's also going to be a weatherview",
    "start": "1850320",
    "end": "1856279"
  },
  {
    "text": "1.032 new get package now octop Pac has the other Advantage where it adds all the content files and",
    "start": "1856279",
    "end": "1862000"
  },
  {
    "text": "all the things it can see that it's a web application so it adds the dlls plus all the content stuff that you would",
    "start": "1862000",
    "end": "1867320"
  },
  {
    "text": "need to deploy so that's why I used octop pack I don't need to worry about that so we've got our new get package",
    "start": "1867320",
    "end": "1874200"
  },
  {
    "text": "the next thing we need to do is tell octopus that we've got a new get package and so to do that I'm going to add",
    "start": "1874200",
    "end": "1879480"
  },
  {
    "text": "another build step now this build step doesn't come out of the box uh package it's an octopus one",
    "start": "1879480",
    "end": "1886919"
  },
  {
    "text": "saying push that package to octopus which is what we want to do to get that build step in there you need to add an",
    "start": "1886919",
    "end": "1893559"
  },
  {
    "text": "extension from the marketplace so if you browse to the marketplace in vs team",
    "start": "1893559",
    "end": "1898639"
  },
  {
    "text": "Services you can see octopus deploy build and release tasks which will give you all of those",
    "start": "1898639",
    "end": "1904120"
  },
  {
    "text": "tasks so I've already installed that to save some time we can add that build step and say when we've got this new get",
    "start": "1904120",
    "end": "1910840"
  },
  {
    "text": "package we want to push that to octopus to tell octopus about it now we need to",
    "start": "1910840",
    "end": "1917880"
  },
  {
    "text": "set up an octopus server um and we can do that using a feature of vsts called",
    "start": "1917880",
    "end": "1923639"
  },
  {
    "text": "um endpoints so we'll just manage that and the reason we need to manage this is we need to set up some credentials",
    "start": "1923639",
    "end": "1929320"
  },
  {
    "text": "because I've just installed octopus so our credentials it's Local Host 8,000 octopus and our password our API key",
    "start": "1929320",
    "end": "1936919"
  },
  {
    "text": "comes from our user so I'm logged in as admin and you",
    "start": "1936919",
    "end": "1942039"
  },
  {
    "text": "can add some API keys to your account what that means is when you hit the octopus API if you use that API key you",
    "start": "1942039",
    "end": "1949000"
  },
  {
    "text": "are acting on behalf of that user so if I add a new API key here for vsts",
    "start": "1949000",
    "end": "1955240"
  },
  {
    "text": "build just so I can remember what it's for I'll grab that API key and I'll use",
    "start": "1955240",
    "end": "1961600"
  },
  {
    "text": "that for my octopus endpoint so we're authenticating as that user when we do this",
    "start": "1961600",
    "end": "1968799"
  },
  {
    "text": "work that's saved so we'll kill that and come back to our build so that's going to use those",
    "start": "1968799",
    "end": "1975600"
  },
  {
    "text": "credentials when it connects to octopus so so interestingly I I mentioned that the API key acts on behalf of that user",
    "start": "1975600",
    "end": "1981960"
  },
  {
    "text": "and I think I mentioned before that everything in octopus deploy actually hits the API so we have our UI and all",
    "start": "1981960",
    "end": "1987000"
  },
  {
    "text": "it does is hit the API behind the scenes and this is just a Json like a rest API",
    "start": "1987000",
    "end": "1992960"
  },
  {
    "text": "so we can use API you know slash uh users and that'll give us all our users",
    "start": "1992960",
    "end": "1999200"
  },
  {
    "text": "slme and so on so the whole thing everything with octopus deploy is scriptable you can hit that API and",
    "start": "1999200",
    "end": "2005519"
  },
  {
    "text": "that's ultimately what our extensions are doing what this step is doing is just hitting our API using that API key",
    "start": "2005519",
    "end": "2011240"
  },
  {
    "text": "I just provided uh we need to give it the package that we're going to push to octopus in this step um and oh my God",
    "start": "2011240",
    "end": "2019159"
  },
  {
    "text": "I'm cheating I'm just going to do this you don't want to see me type that and get it wrong so let's just paste that so",
    "start": "2019159",
    "end": "2025760"
  },
  {
    "text": "that's just a pointer to the new get package we created and so it's going to push that to octopus we'll save that",
    "start": "2025760",
    "end": "2033080"
  },
  {
    "text": "that was a super exciting part of the demo by the way but the ultimate a aim of that is in our build we're packaging",
    "start": "2033080",
    "end": "2039240"
  },
  {
    "text": "up everything we built and at the end of that we're pushing that package to octopus so octopus knows about it so I'm",
    "start": "2039240",
    "end": "2046039"
  },
  {
    "text": "just going to cue a build and we'll move on to the next step while that's",
    "start": "2046039",
    "end": "2052118"
  },
  {
    "text": "running there agents that are not online that's",
    "start": "2052119",
    "end": "2057638"
  },
  {
    "text": "awesome so when I ran through this demo plenty of times the vsts build agent",
    "start": "2057639",
    "end": "2063079"
  },
  {
    "text": "kept just quitting which is great for demos so I'm just going to restart that",
    "start": "2063079",
    "end": "2068800"
  },
  {
    "text": "we'll try it again okay it's back online hopefully it's going to get",
    "start": "2068800",
    "end": "2074398"
  },
  {
    "text": "started so the end point of that should be build our application end up with a new get package and it gets pushed to",
    "start": "2074399",
    "end": "2080520"
  },
  {
    "text": "octopus so now what do we need to do we need to get octopus to do something with",
    "start": "2080520",
    "end": "2085760"
  },
  {
    "text": "that package so let's go back to our octopus application we'll create a new project",
    "start": "2085760",
    "end": "2092240"
  },
  {
    "text": "called weather view and we will add some steps that are",
    "start": "2092240",
    "end": "2098280"
  },
  {
    "text": "going to tell us how to deploy that package First Step will be deploy a",
    "start": "2098280",
    "end": "2103480"
  },
  {
    "text": "package so pretty self-explanatory um deploy weather view um and now remember how I spoke",
    "start": "2103480",
    "end": "2110920"
  },
  {
    "text": "about roles we're going to deploy that to all of the web server roles so when we deploy a test it's going to go to our",
    "start": "2110920",
    "end": "2116599"
  },
  {
    "text": "test web server when we deploy to a production it's going to go to our production web server so that's this",
    "start": "2116599",
    "end": "2121920"
  },
  {
    "text": "step will only run on the web server roles if we had a database one it wouldn't run there the package we're",
    "start": "2121920",
    "end": "2126960"
  },
  {
    "text": "going to add is weather view and normally this gives you auto complete but that build is still running we don't",
    "start": "2126960",
    "end": "2132240"
  },
  {
    "text": "actually have that package in octopus yet and we have a couple of other features that octopus gives us as well",
    "start": "2132240",
    "end": "2137880"
  },
  {
    "text": "so being able to replace application settings so I spoke before about having to modify that web config to make sure",
    "start": "2137880",
    "end": "2144440"
  },
  {
    "text": "that production looks at production databases and all that kind of stuff octopus will do that for you it'll also",
    "start": "2144440",
    "end": "2149800"
  },
  {
    "text": "run config transforms which I don't have any config transforms so I'm just going to kill that feature but one feature I",
    "start": "2149800",
    "end": "2157119"
  },
  {
    "text": "do want to add is the idea of an i website an application so I have created",
    "start": "2157119",
    "end": "2162640"
  },
  {
    "text": "a web application that's what I'm deploying I need to tell I about that and octopus knows how to do that so I'm",
    "start": "2162640",
    "end": "2168920"
  },
  {
    "text": "just going to add that feature and that gives me the ability to add some things like the website",
    "start": "2168920",
    "end": "2176200"
  },
  {
    "text": "name um we're going to install that to the root because it's the only application running on this machine I'm",
    "start": "2176200",
    "end": "2181599"
  },
  {
    "text": "going to call it call the application pool weather app Weather VI app pool",
    "start": "2181599",
    "end": "2189560"
  },
  {
    "text": "um and we've got some bindings we can change the ports if we need to on a environment by environment or Machine by",
    "start": "2189640",
    "end": "2195599"
  },
  {
    "text": "Machine basis uh we don't want windows or we want Anonymous or and that's it we have",
    "start": "2195599",
    "end": "2202560"
  },
  {
    "text": "this one step in there that does that work I'm going to add one more step as well which makes it much nicer for demos",
    "start": "2202560",
    "end": "2208119"
  },
  {
    "text": "and that's basically just one bit of script that hits that endpoint URL and just make sure that it is up and running",
    "start": "2208119",
    "end": "2214560"
  },
  {
    "text": "it also gives the added advantage that um it spins up I and makes sure that",
    "start": "2214560",
    "end": "2220480"
  },
  {
    "text": "it's actually running again now I could add a script step here and write my own",
    "start": "2220480",
    "end": "2225960"
  },
  {
    "text": "Powershell or C or very very soon f as well but instead of doing that somebody's done that for me so I can go",
    "start": "2225960",
    "end": "2233280"
  },
  {
    "text": "to library. octopus deo.com and somebody has already written a",
    "start": "2233280",
    "end": "2238680"
  },
  {
    "text": "script that does this so I'm going to reuse theirs um so there's an",
    "start": "2238680",
    "end": "2244640"
  },
  {
    "text": "HTTP test URL one that somebody else has written so I'll copy that to my",
    "start": "2244640",
    "end": "2251720"
  },
  {
    "text": "clipboard we'll go back to our library of Step templates and import",
    "start": "2251720",
    "end": "2258440"
  },
  {
    "text": "that save and now when I go back to my project I have another step type that I",
    "start": "2258440",
    "end": "2265119"
  },
  {
    "text": "can add down the bottom HTTP test URL so I'll add that that's going to run",
    "start": "2265119",
    "end": "2272319"
  },
  {
    "text": "I'm going to run this on the octopus server because there's no point running it from that Target machine it's probably going to work if you're hitting",
    "start": "2272319",
    "end": "2277520"
  },
  {
    "text": "Local Host going to run it from the octopus server but on behalf of each of those web servers so on behalf of the",
    "start": "2277520",
    "end": "2284680"
  },
  {
    "text": "web server and the URL I want to hit is going to change depending on our environments so now we need to think",
    "start": "2284680",
    "end": "2290319"
  },
  {
    "text": "about environment specific variables so let's just put something in there and",
    "start": "2290319",
    "end": "2296000"
  },
  {
    "text": "say this is going to be the server URL that we want to hit we'll save this and we'll go and",
    "start": "2296000",
    "end": "2303160"
  },
  {
    "text": "have a look at setting up that server URL for different environments",
    "start": "2303160",
    "end": "2308200"
  },
  {
    "text": "so octopus has the idea of variables which you can scope to various things so we've got a server URL and in uh for",
    "start": "2308200",
    "end": "2316839"
  },
  {
    "text": "test that's going to be Local Host and so the scope of that variable",
    "start": "2316839",
    "end": "2321880"
  },
  {
    "text": "here is the test environment you can also scope based on roles targets steps",
    "start": "2321880",
    "end": "2327800"
  },
  {
    "text": "channels if you're using channels um you can scope on a lot of different things here but we're just going to do it on",
    "start": "2327800",
    "end": "2333400"
  },
  {
    "text": "the environment which is the most common and for",
    "start": "2333400",
    "end": "2339119"
  },
  {
    "text": "production the value is this thing that I constantly copy and",
    "start": "2339119",
    "end": "2345318"
  },
  {
    "text": "paste so that's our production one now I mentioned that we know how to do",
    "start": "2346160",
    "end": "2352280"
  },
  {
    "text": "upsetting changes and things like that so if we have a look back over here in our web config we also want to change",
    "start": "2352280",
    "end": "2359319"
  },
  {
    "text": "our EnV environment variable so our app setting that says the you know environment that we're in and also our",
    "start": "2359319",
    "end": "2366960"
  },
  {
    "text": "API key from our Weather Service so the Weather Service API key is going to be the same for test and production because",
    "start": "2366960",
    "end": "2373079"
  },
  {
    "text": "it's just pulling some weather information we don't care so luckily I'm going to cheat again because I couldn't",
    "start": "2373079",
    "end": "2379359"
  },
  {
    "text": "remember that so that's going to be what was the weather API key so what octopus will",
    "start": "2379359",
    "end": "2387760"
  },
  {
    "text": "do is it'll actually match any app settings that match that",
    "start": "2387760",
    "end": "2393560"
  },
  {
    "text": "variable Name by default now this is a sensitive variable you guys didn't see that um so we want to hide that from",
    "start": "2393560",
    "end": "2401240"
  },
  {
    "text": "everybody as well we don't want to share that around so that's a secret one um and then we have our EnV which is",
    "start": "2401240",
    "end": "2407640"
  },
  {
    "text": "testing server for our test machine or our test",
    "start": "2407640",
    "end": "2413119"
  },
  {
    "text": "environment and in production we",
    "start": "2413119",
    "end": "2418160"
  },
  {
    "text": "have super super professional so let's save all those variables so what will",
    "start": "2419839",
    "end": "2425520"
  },
  {
    "text": "happen now is that step that we've got got to hit the URL to make sure everything's up and running we'll use Local Host if we're deploying to test",
    "start": "2425520",
    "end": "2432480"
  },
  {
    "text": "but our production machine if we're deploying to production the environment variables in our config files will use",
    "start": "2432480",
    "end": "2438400"
  },
  {
    "text": "testing server for that n um thing in test and prod for our production one and",
    "start": "2438400",
    "end": "2445040"
  },
  {
    "text": "our weather API key will match for both environments because we haven't scoped that so when we actually do a deployment",
    "start": "2445040",
    "end": "2452599"
  },
  {
    "text": "um these these settings will get get set per per um environment that we're going",
    "start": "2452599",
    "end": "2458319"
  },
  {
    "text": "to now let's just have a look in our library and see whether there we go so that build has succeeded and we've got",
    "start": "2458319",
    "end": "2464760"
  },
  {
    "text": "our weather view package in there as well yeah there's a",
    "start": "2464760",
    "end": "2468880"
  },
  {
    "text": "question yeah so the question was um in the HTTP step uh can I explain a bit",
    "start": "2474640",
    "end": "2479680"
  },
  {
    "text": "more about what I mean by running on behalf of server so um usually the task",
    "start": "2479680",
    "end": "2485880"
  },
  {
    "text": "will run um from the tendle agent so when I have this step here which is",
    "start": "2485880",
    "end": "2492839"
  },
  {
    "text": "our deploy package any script and stuff that that",
    "start": "2492839",
    "end": "2498160"
  },
  {
    "text": "run um as part of that deployment will run on the web server as that agent task",
    "start": "2498160",
    "end": "2504680"
  },
  {
    "text": "which means they'll run under that local account on that Target server when I say run on behalf of it's going to run from",
    "start": "2504680",
    "end": "2511359"
  },
  {
    "text": "the octopus server but if I have five web servers it's going to run for each of those five web servers and then some",
    "start": "2511359",
    "end": "2517880"
  },
  {
    "text": "of the octopus variables that we give you things like what's the environment we're going to what's the machine name",
    "start": "2517880",
    "end": "2523440"
  },
  {
    "text": "and so on even though we're running locally those are going to be set to the context of where I'm going to go to so",
    "start": "2523440",
    "end": "2531040"
  },
  {
    "text": "in the case of deploying the web application it's important that that runs on that Target server to set up I",
    "start": "2531040",
    "end": "2537000"
  },
  {
    "text": "and things like that but when I'm just testing a URL I can run that from my octopus server it's really handy",
    "start": "2537000",
    "end": "2542760"
  },
  {
    "text": "especially for deploying to databases so if you have a database server that's over there you can just run SQL commands remotely",
    "start": "2542760",
    "end": "2549880"
  },
  {
    "text": "if you want to and so you can run them from the server there's no point installing a tentacle on that agent and",
    "start": "2549880",
    "end": "2555520"
  },
  {
    "text": "doing that so yeah that's what we mean by running on behalf of that's a",
    "start": "2555520",
    "end": "2560760"
  },
  {
    "text": "relatively new feature too I think 3 three 3.3 which is cool all right so we've got",
    "start": "2560760",
    "end": "2568119"
  },
  {
    "text": "our process um we haven't done a deployment yet but let's do one we'll create a release which is what I what I",
    "start": "2568119",
    "end": "2573839"
  },
  {
    "text": "talked about before Oh I got to change one more thing in our settings we can say the version in octopus we want it to",
    "start": "2573839",
    "end": "2581280"
  },
  {
    "text": "match the version of the package so this is something that sometimes people don't do you have a new get package created by",
    "start": "2581280",
    "end": "2587800"
  },
  {
    "text": "your build called 1.29 but in octopus deploy it's 0.0.1 so we want to just",
    "start": "2587800",
    "end": "2593359"
  },
  {
    "text": "line them up so we'll save that and we'll create a new release and this release is going to be 1033 same as our",
    "start": "2593359",
    "end": "2600559"
  },
  {
    "text": "new get package we're going to choose that new get package remember this is a snapshot of the artifacts we want to",
    "start": "2600559",
    "end": "2606119"
  },
  {
    "text": "deploy so we're going to say this release that we're creating has a snapshot with that package in it 1033 so",
    "start": "2606119",
    "end": "2614160"
  },
  {
    "text": "if we do more builds this release itself is not going to change we can keep moving this through our",
    "start": "2614160",
    "end": "2619359"
  },
  {
    "text": "environments so create that release and deploy it to our test environment it's",
    "start": "2619359",
    "end": "2624680"
  },
  {
    "text": "warning me about upgrading calamari which I I mentioned before and then we can follow through as it goes through",
    "start": "2624680",
    "end": "2630280"
  },
  {
    "text": "that deployment process and everything goes green with green ticks and there's no problems did cool that wasn't I",
    "start": "2630280",
    "end": "2637760"
  },
  {
    "text": "wasn't meant to sound surprised then um we can actually go a little bit further and we can watch the logs as they happen",
    "start": "2637760",
    "end": "2645079"
  },
  {
    "text": "so all of the steps that do a number of scripts and things all of the all of the uh logs that happen on that Target",
    "start": "2645079",
    "end": "2651640"
  },
  {
    "text": "server get sent back to octopus so octopus collects all of these uh logs",
    "start": "2651640",
    "end": "2656760"
  },
  {
    "text": "that happened on all of the remote machines and puts them in one spot and these are just text it's just raw logs",
    "start": "2656760",
    "end": "2663480"
  },
  {
    "text": "you can look at so we don't hide anything from you there's no magic that happens that you don't see as a result",
    "start": "2663480",
    "end": "2670040"
  },
  {
    "text": "so we've got a green deployment here everything went well let's go back to Local Host which is where our test",
    "start": "2670040",
    "end": "2676040"
  },
  {
    "text": "server is and we can see that we have our running application so those variables I set",
    "start": "2676040",
    "end": "2682480"
  },
  {
    "text": "before testing server because we're on test that environment variable is there um we're clearly getting the absolute",
    "start": "2682480",
    "end": "2689160"
  },
  {
    "text": "accurate temperature from our weather Weather Service because we've got the API key um but production again is just",
    "start": "2689160",
    "end": "2695720"
  },
  {
    "text": "is still not running so we need to promote to production we can do that by",
    "start": "2695720",
    "end": "2700920"
  },
  {
    "text": "clicking the button that says promote to Pro production so let's deploy that and it's going to go to the Azure web uh the",
    "start": "2700920",
    "end": "2707960"
  },
  {
    "text": "Azure VM that we set up with the tentacle and the variables are going to change value because we're now going to",
    "start": "2707960",
    "end": "2714480"
  },
  {
    "text": "production so again we can watch this as it goes through um there's some really cool stuff that happens with acquiring",
    "start": "2714480",
    "end": "2720520"
  },
  {
    "text": "the package where we say you need this version of calamari so we'll be push",
    "start": "2720520",
    "end": "2726119"
  },
  {
    "text": "we'll push that up but you also need this version of the new get package and we'll push that up now if you have like",
    "start": "2726119",
    "end": "2732559"
  },
  {
    "text": "a couple of hundred Meg in your application and you just change one file then it seems a bit stupid to send that",
    "start": "2732559",
    "end": "2738440"
  },
  {
    "text": "another couple of hundred Meg to that Target so a little while ago um Henrik was one of the main guys who did Delta",
    "start": "2738440",
    "end": "2745359"
  },
  {
    "text": "compression so basically we look at that zipped up new get package or zip file or tball or whatever it is and we do a",
    "start": "2745359",
    "end": "2752040"
  },
  {
    "text": "comparison of what's changed at a binary level and we only send that change up",
    "start": "2752040",
    "end": "2757119"
  },
  {
    "text": "because the server already has potentially you know 1032 so there's a tiny change we send",
    "start": "2757119",
    "end": "2763800"
  },
  {
    "text": "that change up apply the change and then use that whole package so this gets much much faster as you go as well all right",
    "start": "2763800",
    "end": "2770839"
  },
  {
    "text": "so we've done that we're still waiting for our HTP um 200 to come back because I'm",
    "start": "2770839",
    "end": "2776680"
  },
  {
    "text": "cheap and I got a cheap VM on Azure that might take a couple of seconds but when that comes up and we get a a 200",
    "start": "2776680",
    "end": "2783440"
  },
  {
    "text": "response we should be able to refresh our production one",
    "start": "2783440",
    "end": "2788920"
  },
  {
    "text": "so while that's happening I'm just going to go and do a couple of things to our build we want to um we want to set up a",
    "start": "2788920",
    "end": "2795640"
  },
  {
    "text": "CI build so when we check in it does this stuff automatically and we also want to add a couple of steps to the end",
    "start": "2795640",
    "end": "2801200"
  },
  {
    "text": "of our build to say all right I don't need to press the release button and the deploy button I just want you to do that",
    "start": "2801200",
    "end": "2807599"
  },
  {
    "text": "for me before we do that I just want to highlight a couple of things to do with this",
    "start": "2807599",
    "end": "2812839"
  },
  {
    "text": "build so octopus has the idea of life cycles as well and what that means is we",
    "start": "2812839",
    "end": "2819400"
  },
  {
    "text": "have to set we can set our life cycle up so when we do our deployment to test and",
    "start": "2819400",
    "end": "2824599"
  },
  {
    "text": "that succeeds only then are we allowed to go to production so if that deployment failed to test I wouldn't",
    "start": "2824599",
    "end": "2831400"
  },
  {
    "text": "have had that promote to production button and what that means as well is that you can add the ability to click",
    "start": "2831400",
    "end": "2837599"
  },
  {
    "text": "that button to people who are non-technical like your manager your manager can click the well everyone's",
    "start": "2837599",
    "end": "2844200"
  },
  {
    "text": "manager is probably you know really smart sure but the CEO maybe is the guy who clicks the deploy to production",
    "start": "2844200",
    "end": "2850800"
  },
  {
    "text": "button which means that all of the ideas around oh that developer stuffed up you",
    "start": "2850800",
    "end": "2856200"
  },
  {
    "text": "know it goes away a little bit because they were the ones who clicked the button and I've heard it goes away",
    "start": "2856200",
    "end": "2862200"
  },
  {
    "text": "course yeah um I've heard stories as well about companies as well where they're at the pub doing a release party",
    "start": "2862200",
    "end": "2868359"
  },
  {
    "text": "and stuff like that and one of them hands the manager an iPad and just say oh just press that and he's like oh okay",
    "start": "2868359",
    "end": "2873920"
  },
  {
    "text": "what's this presses it and he goes we went to production that's what you did while everyone's holding holding beer",
    "start": "2873920",
    "end": "2879960"
  },
  {
    "text": "but it's it's safe because you've run this in your test environment before so when you click that button it's going to do the same thing and go to production",
    "start": "2879960",
    "end": "2886599"
  },
  {
    "text": "and so your production deployment itself runs the same steps with the same package and will deploy successfully so",
    "start": "2886599",
    "end": "2893559"
  },
  {
    "text": "let's come back and have we deployed that yet I'll K that one there we go we're",
    "start": "2893559",
    "end": "2899960"
  },
  {
    "text": "green so we've gone to production if we refresh this one we can see zoom in and now we're in so that",
    "start": "2899960",
    "end": "2907280"
  },
  {
    "text": "variable was applied for production as well and the temperature hasn't really Chang oh it's",
    "start": "2907280",
    "end": "2912880"
  },
  {
    "text": "changed a little bit tiny little bit there it's gone up by a few thousandth of a degree Yeah",
    "start": "2912880",
    "end": "2921759"
  },
  {
    "text": "question so the question was do we push those bits to each server individually",
    "start": "2927960",
    "end": "2933400"
  },
  {
    "text": "um and there's two kind of options the the answer in General is yes each of those servers needs their own copy of",
    "start": "2933400",
    "end": "2939599"
  },
  {
    "text": "the package but um we can also uh set a checkbox to say that that Target server",
    "start": "2939599",
    "end": "2946799"
  },
  {
    "text": "can just pull it directly from a newg get feed somewhere so we're using an internal octopus deploy newg get feed",
    "start": "2946799",
    "end": "2952680"
  },
  {
    "text": "here but you can also point at an external feed so if you have your own newg get repository somewhere else in",
    "start": "2952680",
    "end": "2958200"
  },
  {
    "text": "your environment you can tell octopus to tell the tacles to go and get that file for themselves so rather than the server",
    "start": "2958200",
    "end": "2965640"
  },
  {
    "text": "pushing it out to 10 Machin Mach those 10 machines will just go and get it from your and you get repository but each of",
    "start": "2965640",
    "end": "2970920"
  },
  {
    "text": "those machines does need their own copy of the the package to deploy that answer",
    "start": "2970920",
    "end": "2976000"
  },
  {
    "text": "the question so we don't push it to a blob",
    "start": "2976000",
    "end": "2981079"
  },
  {
    "text": "store or something The Blob store is actually the file system on the um octopus deploy server so if we went and",
    "start": "2981079",
    "end": "2987559"
  },
  {
    "text": "had a look in um that home directory that we set up there's just going to be newg get files in there and then we",
    "start": "2987559",
    "end": "2993119"
  },
  {
    "text": "index them in the database in new get as well so it's really really really fast that way if you had another n get server",
    "start": "2993119",
    "end": "2999680"
  },
  {
    "text": "that uses a blob store somewhere you can tell octopus to use that as its new get repository and so when we get new",
    "start": "2999680",
    "end": "3005680"
  },
  {
    "text": "versions for new releases you can get them from that new get repository so we",
    "start": "3005680",
    "end": "3011000"
  },
  {
    "text": "you don't have to use the internal one it's just very convenient cool all right so we got prod",
    "start": "3011000",
    "end": "3017559"
  },
  {
    "text": "um we've deployed one set of steps and there's another couple of things that are really important about having that",
    "start": "3017559",
    "end": "3023240"
  },
  {
    "text": "one project that has one set of steps across your environment and number one is that practice makes perfect right so",
    "start": "3023240",
    "end": "3030240"
  },
  {
    "text": "we want to be able to fail um in early environment so we want to be able to prove that not just our code Works in",
    "start": "3030240",
    "end": "3036319"
  },
  {
    "text": "test but the way we put our code into test works because we're going to do that process again when we put it into",
    "start": "3036319",
    "end": "3042400"
  },
  {
    "text": "production so we want to practice that and the other advantage of that or the",
    "start": "3042400",
    "end": "3047799"
  },
  {
    "text": "other side effect of that is that it gives us the opportunity to fail early when it doesn't matter so so far all",
    "start": "3047799",
    "end": "3053880"
  },
  {
    "text": "these demos have worked really well but when um I did this in the hotel room I failed early a few times actually so but",
    "start": "3053880",
    "end": "3061839"
  },
  {
    "text": "that doesn't matter because that's in the hotel room like nobody knows that I fail heaps in the hotel room until I",
    "start": "3061839",
    "end": "3067440"
  },
  {
    "text": "Told You So if you fail in your test environments and your staging environments it doesn't matter right but",
    "start": "3067440",
    "end": "3074599"
  },
  {
    "text": "if you fail in production that's why you're there all weekend because if you fail in production you absolutely need",
    "start": "3074599",
    "end": "3080880"
  },
  {
    "text": "to get that working so failing early is a really really handy thing and that's",
    "start": "3080880",
    "end": "3086079"
  },
  {
    "text": "what having that same process is really important for all",
    "start": "3086079",
    "end": "3092280"
  },
  {
    "text": "right it's a great gift um all right so let's put all this",
    "start": "3092280",
    "end": "3097480"
  },
  {
    "text": "together so the the other things I said I was going to add we're going to add a CI trigger for this so when I check in",
    "start": "3097480",
    "end": "3104240"
  },
  {
    "text": "it's going to um going to build every time so we'll do that um so when I",
    "start": "3104240",
    "end": "3109960"
  },
  {
    "text": "commit a change it's going to do that and I'm going to add two more build steps so the two things I did in octopus create a release and deploy a test we",
    "start": "3109960",
    "end": "3116760"
  },
  {
    "text": "have steps for those so in our deploy tab these got added with that extension",
    "start": "3116760",
    "end": "3122240"
  },
  {
    "text": "create an octopus release and deploy that octopus release so create we're going to use the same octopus server I",
    "start": "3122240",
    "end": "3129319"
  },
  {
    "text": "think we called it weather view is that right weather view we did cool um",
    "start": "3129319",
    "end": "3135720"
  },
  {
    "text": "release number gets set automatically so I can just leave that blank um and then deploy that release we just created to",
    "start": "3135720",
    "end": "3143280"
  },
  {
    "text": "weather view and we're going to deploy it to test and make sure it works and then we're going to click the button to go to production and we're going to use",
    "start": "3143280",
    "end": "3150119"
  },
  {
    "text": "the latest one cuz we just created a release but I could also put that build number in there because we know what",
    "start": "3150119",
    "end": "3155400"
  },
  {
    "text": "know what that was so we'll save that and then we'll do the grand finale",
    "start": "3155400",
    "end": "3162160"
  },
  {
    "text": "kind of demo which is do a deployment but do it using that that workflow that",
    "start": "3162160",
    "end": "3167799"
  },
  {
    "text": "we mentioned before where I just make a change now can anybody see anything you'd like to change with this",
    "start": "3167799",
    "end": "3174200"
  },
  {
    "text": "application maybe that um so let's do",
    "start": "3174200",
    "end": "3179920"
  },
  {
    "text": "that luckily I know exactly where to change that which is down here when we",
    "start": "3179920",
    "end": "3185319"
  },
  {
    "text": "pass our view model through to our thing the actual change doesn't really make make much of a difference but we're",
    "start": "3185319",
    "end": "3190359"
  },
  {
    "text": "going to do a math. round we're going to round it to what one decimal place is",
    "start": "3190359",
    "end": "3195440"
  },
  {
    "text": "probably enough uh and we are going to because I'm such a hardcore developer I'm not",
    "start": "3195440",
    "end": "3200839"
  },
  {
    "text": "even going to compile that there's no red squiggly lines so it's probably fine um",
    "start": "3200839",
    "end": "3208240"
  },
  {
    "text": "and we are going to commit that and push and let's watch it go all the way through that process still got a few",
    "start": "3208240",
    "end": "3214200"
  },
  {
    "text": "minutes so there's also some other reasons I might watch this go through as well so",
    "start": "3214200",
    "end": "3221200"
  },
  {
    "text": "we have our build it's waiting for an agent I may",
    "start": "3221200",
    "end": "3227559"
  },
  {
    "text": "need to restart that service again we'll",
    "start": "3227559",
    "end": "3232319"
  },
  {
    "text": "see let me just bounce that",
    "start": "3233359",
    "end": "3238318"
  },
  {
    "text": "this is the uh vsts agent that does the build and I'm running it locally so I can say that octopus is at Local Host if",
    "start": "3238440",
    "end": "3245160"
  },
  {
    "text": "I was running their Cloud hosted build which is also cool um it would work the same way but Local Host is not going to",
    "start": "3245160",
    "end": "3251040"
  },
  {
    "text": "resolve to my octopus deploy server so the octopus I just installed I'd have to make publicly available which is boring",
    "start": "3251040",
    "end": "3258520"
  },
  {
    "text": "and I don't want to do that okay so we're building so we're building our project creating a new new get package",
    "start": "3258520",
    "end": "3265280"
  },
  {
    "text": "and I really should have disbled that step because now I have to upload all of those artifacts back up to vsts where",
    "start": "3265280",
    "end": "3271119"
  },
  {
    "text": "I'm not going to use them anyway uh so we're on file number 18 of TW of",
    "start": "3271119",
    "end": "3276319"
  },
  {
    "text": "46 it's going a little bit faster we'll just um wait for that to",
    "start": "3276319",
    "end": "3281880"
  },
  {
    "text": "finish but when that finishes we'll have our new get package our next step is to push that new get package to octopus so",
    "start": "3281880",
    "end": "3288480"
  },
  {
    "text": "over in octopus remember we had version 1033 when this actually ends up pushing",
    "start": "3288480",
    "end": "3295599"
  },
  {
    "text": "it to octopus will have a 1034 when we create our octopus release",
    "start": "3295599",
    "end": "3301000"
  },
  {
    "text": "by default it's going to grab the latest versions of all the packages we use so in octopus we will now see in our",
    "start": "3301000",
    "end": "3307640"
  },
  {
    "text": "project weather viiew has a 1034 release which is currently deploying to test",
    "start": "3307640",
    "end": "3313359"
  },
  {
    "text": "because we said now deploy the latest version of that release to test so it's going there we're just going to go back",
    "start": "3313359",
    "end": "3318920"
  },
  {
    "text": "to the dashboard so we can see this go through so 1034 is going to test it's",
    "start": "3318920",
    "end": "3324559"
  },
  {
    "text": "succeeded so let's go and have a look look to make sure that it's changed and wow we're right on 17° so",
    "start": "3324559",
    "end": "3332559"
  },
  {
    "text": "either the rounding didn't work or we're right on 17 degrees um but I'm happy enough with that I'm going to promote",
    "start": "3332559",
    "end": "3338039"
  },
  {
    "text": "that to production I'm actually going to do that a different way and just click the deploy button in our overview for that",
    "start": "3338039",
    "end": "3343720"
  },
  {
    "text": "project deploy it again and we'll wait for that to go through and we should see the same change once we spin up I again",
    "start": "3343720",
    "end": "3350799"
  },
  {
    "text": "in production so any questions about that process because remember all I did then",
    "start": "3350799",
    "end": "3357200"
  },
  {
    "text": "was make a change commit and push it to the server we ended up with it in test tested it was fine and press the button",
    "start": "3357200",
    "end": "3363119"
  },
  {
    "text": "to go to production and now we're going to production hopefully",
    "start": "3363119",
    "end": "3369640"
  },
  {
    "text": "yeah yeah so the first question was um how does",
    "start": "3374839",
    "end": "3381960"
  },
  {
    "text": "this change if you're in team City and it will change if you're in team City this is like Plan D by the way team City",
    "start": "3381960",
    "end": "3389359"
  },
  {
    "text": "so the build definition here I have another build and there's an extension in team city which means that my build",
    "start": "3389359",
    "end": "3395520"
  },
  {
    "text": "steps in team City are run the build and then there's some other build steps from",
    "start": "3395520",
    "end": "3401520"
  },
  {
    "text": "the octopus um extension for team City that are the same so the ones in vsts",
    "start": "3401520",
    "end": "3408039"
  },
  {
    "text": "are actually the um they came more recently and we patch them back to match what's in Te City so same process just",
    "start": "3408039",
    "end": "3415000"
  },
  {
    "text": "obviously a different product",
    "start": "3415000",
    "end": "3418240"
  },
  {
    "text": "yep y yeah so the question was if we're",
    "start": "3426599",
    "end": "3433880"
  },
  {
    "text": "deploying to say 10 servers it deploys to three and then it fails on the fourth one so by default when you deploy to you",
    "start": "3433880",
    "end": "3441359"
  },
  {
    "text": "know five web servers for example it will do that those deployments in parallel and I'm waiting for these guys",
    "start": "3441359",
    "end": "3446680"
  },
  {
    "text": "to correct me if I get something wrong um it'll do those in parallel so it'll send the files out and run those deployments and stuff on each machine at",
    "start": "3446680",
    "end": "3453200"
  },
  {
    "text": "the same time if one of those fails though the deployment itself gets marked as failed now there's a couple of things",
    "start": "3453200",
    "end": "3459839"
  },
  {
    "text": "you can do at that point because we don't really know the state of that deployment you know some of the machines",
    "start": "3459839",
    "end": "3465839"
  },
  {
    "text": "have succeeded maybe you got three qus of the way through that deployment and then that server ran out of dis space so",
    "start": "3465839",
    "end": "3472440"
  },
  {
    "text": "there's a couple of things you can do you can set up a manual intervention um in there so a guided failure mode is",
    "start": "3472440",
    "end": "3479000"
  },
  {
    "text": "what we call it and that means that when something fails we give you the opportunity to try again or fix it or",
    "start": "3479000",
    "end": "3486280"
  },
  {
    "text": "just you know fail the deployment itself so in a production environment it's really handy to have that um manual",
    "start": "3486280",
    "end": "3493200"
  },
  {
    "text": "intervention kind of um the guided failure mode on because you get halfway through you go oh run out of dis space",
    "start": "3493200",
    "end": "3499280"
  },
  {
    "text": "let me just jump onto that machine clear some space and then say all right try it again um and then continue on with that",
    "start": "3499280",
    "end": "3505400"
  },
  {
    "text": "deployment if it's in a test environment or something like that then you know you",
    "start": "3505400",
    "end": "3510640"
  },
  {
    "text": "probably don't have guided valy mode on you can the important thing of course though is that ideally in an ideal",
    "start": "3510640",
    "end": "3517079"
  },
  {
    "text": "situation those kind of failures when you get to that last hurdle you're going to get a lot less of them because you've",
    "start": "3517079",
    "end": "3523480"
  },
  {
    "text": "tested that same process with the same bits in all your previous environments so yeah that's generally how you do it",
    "start": "3523480",
    "end": "3530319"
  },
  {
    "text": "rolling back is a whole different thing you shouldn't roll back you should roll forward previous versions and things so",
    "start": "3530319",
    "end": "3535599"
  },
  {
    "text": "I can actually in octopus I can go back to and that one's worked we'll just refresh prod yay 17 um so in octopus I",
    "start": "3535599",
    "end": "3545039"
  },
  {
    "text": "can actually go back to this overview grab 1033 uh and deploy that again to",
    "start": "3545039",
    "end": "3552680"
  },
  {
    "text": "production so I can roll a previous version over the top because that's a snapshot remember snapshot of the bits and the process yeah there's another",
    "start": "3552680",
    "end": "3559839"
  },
  {
    "text": "question up yeah",
    "start": "3559839",
    "end": "3564280"
  },
  {
    "text": "um yeah so this is Chang was changing with 3.5 I think isn't it so right now",
    "start": "3572920",
    "end": "3578000"
  },
  {
    "text": "octopus needs I'm looking at these guys um right now octopus needs to be able to communicate to those tentacles so if you",
    "start": "3578000",
    "end": "3584200"
  },
  {
    "text": "run a deployment or try to run a deployment um and it can't communicate with one of those machines right now it",
    "start": "3584200",
    "end": "3591400"
  },
  {
    "text": "will ignore that machine or it won't let you deploy which one won't let you Dey deploy right so you can disable that",
    "start": "3591400",
    "end": "3598000"
  },
  {
    "text": "machine and say just deploy to the remainders but in 3.5 which should be out at some point soon 3.4 sorry 3.4 I",
    "start": "3598000",
    "end": "3605799"
  },
  {
    "text": "said that twice um in 3.4 which should be out very soon and there's a beta 2 if you want to play with it as well we have",
    "start": "3605799",
    "end": "3612039"
  },
  {
    "text": "the idea of machine policies and things like that with projects where you can say for this project and I'm if I'm",
    "start": "3612039",
    "end": "3619039"
  },
  {
    "text": "deploying to this environment I don't care that I can't contact those machines just deploy to the remainders you can",
    "start": "3619039",
    "end": "3624119"
  },
  {
    "text": "even say things like if that machine comes back back online then deploy it to that machine as well so a lot more kind",
    "start": "3624119",
    "end": "3630039"
  },
  {
    "text": "of elastic and acknowledgement of transient machines and things like that cool so I'm running out of time I don't",
    "start": "3630039",
    "end": "3636319"
  },
  {
    "text": "really have much more content but one other thing I wanted to mention as well is if you have more questions you're probably sitting there saying Daman you",
    "start": "3636319",
    "end": "3643440"
  },
  {
    "text": "you didn't talk about this thing um and first of all I don't appreciate being called an idiot so but secondly um I",
    "start": "3643440",
    "end": "3649960"
  },
  {
    "text": "have a really good answer for that which is that our basically our entire team is here so there's a booth out there we've",
    "start": "3649960",
    "end": "3657039"
  },
  {
    "text": "got 20 of us still remaining here we are also doing if you haven't used octopus",
    "start": "3657039",
    "end": "3662359"
  },
  {
    "text": "before at all we're also doing some usability testing so if you go up and speak to Jess who's in the back of the room there with a hand up um we'd love",
    "start": "3662359",
    "end": "3670880"
  },
  {
    "text": "to run through you know trying to do some things with octopus to see how easy it is to use remember we wanted it to be",
    "start": "3670880",
    "end": "3676599"
  },
  {
    "text": "friendly so it would be great if you could help us out with that if you don't have a lot of experience with octopus deploy um but any of those deeper",
    "start": "3676599",
    "end": "3683640"
  },
  {
    "text": "questions you can ask anybody with an octopus to play t-shirt or hoodie or something like that and we're happy to",
    "start": "3683640",
    "end": "3689319"
  },
  {
    "text": "answer those questions so that is all I have for you thank you very",
    "start": "3689319",
    "end": "3695760"
  },
  {
    "text": "much that I can breathe now yeah",
    "start": "3704799",
    "end": "3710559"
  }
]