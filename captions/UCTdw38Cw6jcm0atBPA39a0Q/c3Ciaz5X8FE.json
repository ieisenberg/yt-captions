[
  {
    "start": "0",
    "end": "35000"
  },
  {
    "text": "all right hello everyone I'm Carlos I work at github and today we're gonna go on a tour of a few educators that and",
    "start": "9480",
    "end": "16260"
  },
  {
    "text": "unusual situations that happen when you provide kid hosting to the world at large so just in case a bit about github",
    "start": "16260",
    "end": "21330"
  },
  {
    "text": "with the repository in the world with over 67 million projects and 30 million",
    "start": "21330",
    "end": "26790"
  },
  {
    "text": "users right now and with this numbers you can you can be sure that we see our share of situations that we didn't",
    "start": "26790",
    "end": "31860"
  },
  {
    "text": "expect when we initially wrote the budgeting services so I work in the kid",
    "start": "31860",
    "end": "36870"
  },
  {
    "start": "35000",
    "end": "35000"
  },
  {
    "text": "infrastructure team we're the ones providing the gate service both to internal and external users so that's",
    "start": "36870",
    "end": "42840"
  },
  {
    "text": "the website the API any github pages and in general customers and also any",
    "start": "42840",
    "end": "48240"
  },
  {
    "text": "external customers such as any of you that runs git clone or even if you run",
    "start": "48240",
    "end": "53400"
  },
  {
    "text": "subversion checkout we also are in charge of that one we're also handle we're also the ones handling the support",
    "start": "53400",
    "end": "59400"
  },
  {
    "text": "escalation for any technical issues or questions about key performance or don't come performance that kind of thing that that all gets back to us and then we",
    "start": "59400",
    "end": "66540"
  },
  {
    "text": "also provide input on technical aspects in support replies so given how popular",
    "start": "66540",
    "end": "74340"
  },
  {
    "start": "72000",
    "end": "72000"
  },
  {
    "text": "the website is we run into a fair share of unexpected use cases and people having you know ideas about what service",
    "start": "74340",
    "end": "81090"
  },
  {
    "text": "we're actually trying to provide sometimes it's just not obvious at first glance that something is actually going",
    "start": "81090",
    "end": "87270"
  },
  {
    "text": "to cause an issue because like I said people make assumptions about how a service operates and sometimes it's that's not quite correct",
    "start": "87270",
    "end": "93889"
  },
  {
    "text": "now I'm gonna name a few reports during this talk there there's the ones that are public so necessary when I have too",
    "start": "93889",
    "end": "100020"
  },
  {
    "text": "much on them specifically these are some of the ones we have to intervene on and",
    "start": "100020",
    "end": "106020"
  },
  {
    "text": "definitely not the only ones that are behaving in an expected ways and most of them aren t been doing anything",
    "start": "106020",
    "end": "111899"
  },
  {
    "text": "particularly that we call inappropriate it's just that they we didn't expect them when we only should build some of",
    "start": "111899",
    "end": "118889"
  },
  {
    "text": "these services and you know sometimes the the solution to some of these issues",
    "start": "118889",
    "end": "125159"
  },
  {
    "text": "is just social or educational right where we just have to tell the user okay well this is how git actually works or",
    "start": "125159",
    "end": "131220"
  },
  {
    "text": "this is how we build github with these assumptions in mind and you're breaking",
    "start": "131220",
    "end": "136980"
  },
  {
    "text": "them so let's let's figure out a way not to do that so let's start with our own repository",
    "start": "136980",
    "end": "142880"
  },
  {
    "text": "get up get up we deploy to about 600 machines only to deploy and we deploy",
    "start": "142880",
    "end": "149540"
  },
  {
    "start": "143000",
    "end": "143000"
  },
  {
    "text": "maybe a hundred times a day in a typical day and this is one that we're very proud of this is something we've spoken",
    "start": "149540",
    "end": "154640"
  },
  {
    "text": "about publicly quite a bit and we definitely want to keep enabling the dynamism that such a deploy rate allows",
    "start": "154640",
    "end": "162050"
  },
  {
    "text": "us but as a machine account increases that puts more load on the servers that",
    "start": "162050",
    "end": "167090"
  },
  {
    "text": "are hosting the github github and now we're using kubernetes so the number is",
    "start": "167090",
    "end": "172280"
  },
  {
    "text": "fast here but this one hasn't become any any smaller so this kind of issue where",
    "start": "172280",
    "end": "178400"
  },
  {
    "text": "everyone tries to fetch at the same time this is what you call a thundering health issue in systems so let's see",
    "start": "178400",
    "end": "187190"
  },
  {
    "text": "well all of the machines that are the last deploy and they all want to update",
    "start": "187190",
    "end": "192800"
  },
  {
    "text": "to the new commit so they all need the same objects here is where get due to",
    "start": "192800",
    "end": "199850"
  },
  {
    "text": "several technical reasons can't guarantee that it's always going to produce the same data for the same",
    "start": "199850",
    "end": "205250"
  },
  {
    "text": "requests so by default you can really cache responses but we so we had to",
    "start": "205250",
    "end": "211430"
  },
  {
    "text": "build our own little tool that sits in the middle called lariat because it deals with hurts and when we detect",
    "start": "211430",
    "end": "220400"
  },
  {
    "text": "multiple identical requests coming in like the second or third one will will actually detect that it's concurrent we",
    "start": "220400",
    "end": "228530"
  },
  {
    "text": "can then cache that response in a way that we know that we can actually replay",
    "start": "228530",
    "end": "234739"
  },
  {
    "text": "that one so this allows us to only create two or three times this back file",
    "start": "234739",
    "end": "241910"
  },
  {
    "text": "and then we were able to cache it and then send it out from disk instead of having to ask it every single time for a",
    "start": "241910",
    "end": "247550"
  },
  {
    "text": "four-for-one and this allows us to actually perform the deploy fairly quickly and service aren't overloaded",
    "start": "247550",
    "end": "253459"
  },
  {
    "text": "anymore and this is something that we also could give the customers in the",
    "start": "253459",
    "end": "260169"
  },
  {
    "text": "on-prem version so that because this is also very typical in an internal tool",
    "start": "260169",
    "end": "267490"
  },
  {
    "text": "someone in somewhere in the in a big organization also tries to deploy all",
    "start": "267490",
    "end": "272870"
  },
  {
    "text": "constantly we see it with a table us our customers also see them with their clients so this",
    "start": "272870",
    "end": "279620"
  },
  {
    "text": "is something that we're we're happy that we can provide to anyone even if they're running get up on their own machines so",
    "start": "279620",
    "end": "287330"
  },
  {
    "start": "286000",
    "end": "286000"
  },
  {
    "text": "this the second example is the kubernetes k8s cube however you pronounce it this is a project that",
    "start": "287330",
    "end": "294260"
  },
  {
    "text": "makes very extensive use of pull requests and which is good right we like pull requests but every time that you",
    "start": "294260",
    "end": "301630"
  },
  {
    "text": "update the base branch the any tab where you have the pull request page open it",
    "start": "301630",
    "end": "308330"
  },
  {
    "text": "will notice this and then it will ask the server hey can I paint the merge",
    "start": "308330",
    "end": "313670"
  },
  {
    "text": "button green now and that you know from every tab from every person that's",
    "start": "313670",
    "end": "318890"
  },
  {
    "text": "opening it and that's a lot of requests and that requires a bit that we do a",
    "start": "318890",
    "end": "324530"
  },
  {
    "text": "test merge and a test rebase and it's not easy to coordinate all of this because they all have completely",
    "start": "324530",
    "end": "331880"
  },
  {
    "text": "different jobs with no notion that any other job is actually happening so this",
    "start": "331880",
    "end": "338750"
  },
  {
    "text": "isn't so much of an issue most we are so small so the actual merging processing isn't that bad but because we run a",
    "start": "338750",
    "end": "345590"
  },
  {
    "text": "distributed system we need to reach consensus on reference updates this is",
    "start": "345590",
    "end": "350870"
  },
  {
    "text": "where when you say three-phase commit because it's proven it works but it's a bit slow so the this is the",
    "start": "350870",
    "end": "356960"
  },
  {
    "text": "system we call spokes and as part of that we are limited to maybe a couple of",
    "start": "356960",
    "end": "363490"
  },
  {
    "text": "reference updates a second when you update the base branch and all of the tabs ask at the same time that can be a",
    "start": "363490",
    "end": "371660"
  },
  {
    "text": "few hundred and that's when it starts going wrong because we didn't build it",
    "start": "371660",
    "end": "377240"
  },
  {
    "text": "with with enough slack unfortunately to actually deal with this",
    "start": "377240",
    "end": "383300"
  },
  {
    "text": "so the bottleneck becomes actually creating the reference update so this is the ref spool namespace that you might",
    "start": "383300",
    "end": "389120"
  },
  {
    "text": "have seen that ci uses this is something that we're still working on so part of",
    "start": "389120",
    "end": "395840"
  },
  {
    "text": "the the issue part of the solution is already there right so that's grouping together whenever possible but also the",
    "start": "395840",
    "end": "403160"
  },
  {
    "text": "client knows that it's okay to retry this is something where we're also building more smarts into",
    "start": "403160",
    "end": "410210"
  },
  {
    "text": "into the code so that we can avoid denying any updates to real users and to",
    "start": "410210",
    "end": "416690"
  },
  {
    "text": "be able to detect when it's a robot doing the update and then we can tell the robot okay try again later it didn't",
    "start": "416690",
    "end": "423650"
  },
  {
    "text": "work out this time because the robot doesn't care and it's probably some tapped someone opened an hour ago and they've completely forgotten about it",
    "start": "423650",
    "end": "429860"
  },
  {
    "text": "anyway so the human is even looking at it so the you know just the robots don't",
    "start": "429860",
    "end": "435110"
  },
  {
    "text": "care about them and then if you don't care about robots the scalability issues",
    "start": "435110",
    "end": "440770"
  },
  {
    "text": "become a lot simpler usually so from some there are sort of more of our our",
    "start": "440770",
    "end": "446150"
  },
  {
    "text": "issue with the increasing scalability of the or scale of our customers here's",
    "start": "446150",
    "end": "455150"
  },
  {
    "text": "something be interesting so a user wrote to us and usually these are people who",
    "start": "455150",
    "end": "461600"
  },
  {
    "start": "457000",
    "end": "457000"
  },
  {
    "text": "are too conscientious to actually have any particular effect on our service",
    "start": "461600",
    "end": "466910"
  },
  {
    "text": "they're usually not much of issue but in this case they were asking if it's okay to have a github raffle in their",
    "start": "466910",
    "end": "474140"
  },
  {
    "text": "hackathon so they wanted to have the 300 people or so that we're going to the hackathon to push to a particular",
    "start": "474140",
    "end": "481190"
  },
  {
    "text": "repository all at the same time and then the winner of the raffle will be the person who pushed last before a",
    "start": "481190",
    "end": "486289"
  },
  {
    "text": "particular timestamp now they asked us if it was okay for them to do this we",
    "start": "486289",
    "end": "492380"
  },
  {
    "text": "tell them no for multiple reasons one of which just being that keep time thumbs",
    "start": "492380",
    "end": "497570"
  },
  {
    "text": "are completely fake able so they won't even know who won it and we have not we don't have the capacity to deal with 300",
    "start": "497570",
    "end": "503690"
  },
  {
    "text": "pushes simultaneously we told them they did anyway I think they changed a tiny",
    "start": "503690",
    "end": "510470"
  },
  {
    "text": "little detail about what was going on there but yeah they just went ahead with it and we saw this right so this is what",
    "start": "510470",
    "end": "517969"
  },
  {
    "text": "that looks like the red bar you can barely see at the bottom that's that's",
    "start": "517969",
    "end": "523580"
  },
  {
    "text": "the usual alert level and this went way beyond that so they try to do 7,000",
    "start": "523580",
    "end": "529730"
  },
  {
    "text": "pushes in an hour they fail obviously I mean even if we didn't have our three",
    "start": "529730",
    "end": "536839"
  },
  {
    "text": "phase commit system it would this there's no way we would work",
    "start": "536839",
    "end": "542030"
  },
  {
    "text": "so that's you know at least you know the far from this being just a weird",
    "start": "542030",
    "end": "548120"
  },
  {
    "text": "situation this allows us to at least",
    "start": "548120",
    "end": "553220"
  },
  {
    "text": "know that hey this actually failed in exactly the way we predicted and no one",
    "start": "553220",
    "end": "558230"
  },
  {
    "text": "else was affected right because all of these requests rate and update rate this depends on this hangs of a particular",
    "start": "558230",
    "end": "566180"
  },
  {
    "text": "repository so no one else not even any fork from that repository would have been affected by but by them not being",
    "start": "566180",
    "end": "574070"
  },
  {
    "text": "able to commit because they're basically abusing the system so this give us a lot of confidence that you know the system",
    "start": "574070",
    "end": "581450"
  },
  {
    "text": "we had built we knew how how it behaves",
    "start": "581450",
    "end": "585790"
  },
  {
    "text": "next up this name this is a repository with a bunch of it's called who's on",
    "start": "587200",
    "end": "595910"
  },
  {
    "text": "first data venue us so this is about this New York data it's not too big for",
    "start": "595910",
    "end": "603950"
  },
  {
    "text": "a repository holding data and they actually even use multiple nested directory so that it actually performs",
    "start": "603950",
    "end": "609830"
  },
  {
    "text": "well so all the trees and all of the objects internally are kind of small so it's not too heavy maintenance but",
    "start": "609830",
    "end": "616089"
  },
  {
    "text": "that's almost a million object optimism your files in each commit and that adds",
    "start": "616089",
    "end": "623480"
  },
  {
    "text": "up because the way we we do updates via the the web UI is the same way that get",
    "start": "623480",
    "end": "633800"
  },
  {
    "text": "does it what it does locally is reads in all of the files in the into the index",
    "start": "633800",
    "end": "640330"
  },
  {
    "text": "updates one and then writes it all back out now locally does it works mostly",
    "start": "640330",
    "end": "645800"
  },
  {
    "text": "fine just because you keep that file around this is not something we can actually do on the server side because",
    "start": "645800",
    "end": "653300"
  },
  {
    "text": "we don't we have thousands of users that are acting on and everything so after a",
    "start": "653300",
    "end": "659900"
  },
  {
    "text": "while we're looking okay and figure out what the difference was now here yeah this is just on us so we made the code a",
    "start": "659900",
    "end": "669020"
  },
  {
    "text": "bit smarter right so we read only the the affected paths this were about six",
    "start": "669020",
    "end": "675889"
  },
  {
    "start": "671000",
    "end": "671000"
  },
  {
    "text": "files in and to directories at the root so like why are we and why are we also",
    "start": "675889",
    "end": "682309"
  },
  {
    "text": "reading everything else well that's how git does it basically so we built a bunch of code that you know is smarter",
    "start": "682309",
    "end": "688429"
  },
  {
    "text": "than just plain local git and this made everything better for everyone so that",
    "start": "688429",
    "end": "695480"
  },
  {
    "text": "was a really great case to run into because it just made us it let us make",
    "start": "695480",
    "end": "702859"
  },
  {
    "text": "it better for everyone who updates via the API so this is both the the UI which uses the same API as to update things",
    "start": "702859",
    "end": "709639"
  },
  {
    "text": "and also any changes via our API TOCOM and the code is in the lipcott to",
    "start": "709639",
    "end": "716899"
  },
  {
    "text": "library which we're using to to create this tree so anyone can actually use this code if they are if they have a similar need on their system right next",
    "start": "716899",
    "end": "725720"
  },
  {
    "text": "up we have one which you know it's actually a bit big about 365 gigabytes",
    "start": "725720",
    "end": "732139"
  },
  {
    "start": "729000",
    "end": "729000"
  },
  {
    "text": "I found it as one of the largest repositories in one of our partitions so I wouldn't seem to investigate like well",
    "start": "732139",
    "end": "739579"
  },
  {
    "text": "what could possibly could you possibly be doing that requires normal 400 gigabytes and as first I can tell turns",
    "start": "739579",
    "end": "746989"
  },
  {
    "text": "out mangog this website where people put images think they're funny they used to",
    "start": "746989",
    "end": "753110"
  },
  {
    "text": "have a feed and then they changes to an app that showed you ads so people got angry about this and built their own",
    "start": "753110",
    "end": "759139"
  },
  {
    "text": "fields without ads now one of them was this but this wasn't just the feed this",
    "start": "759139",
    "end": "764749"
  },
  {
    "text": "was also all of the pictures and videos so this user was up pushing three to four hundred megabytes every 10 minutes",
    "start": "764749",
    "end": "771439"
  },
  {
    "text": "every time to happen at the RSS feed now the reach of they were forced pushing so the reachable size for the repository",
    "start": "771439",
    "end": "778759"
  },
  {
    "text": "whenever you cloned it this wasn't this was about you know half a gig a but",
    "start": "778759",
    "end": "784189"
  },
  {
    "text": "because we've we've built github with the assumption that you actually care about the data you're pushing to us more",
    "start": "784189",
    "end": "789679"
  },
  {
    "text": "than 10 minutes so we want links to objects PRS all that kind of stuff to continue working so we don't actually",
    "start": "789679",
    "end": "796459"
  },
  {
    "text": "delete objects this is how we get to 365 gigabytes of repository in this case the",
    "start": "796459",
    "end": "803539"
  },
  {
    "text": "solution is just to tell the user please don't do that because this is just no it's not",
    "start": "803539",
    "end": "809420"
  },
  {
    "text": "not useful to anybody so yeah that was they stopped which is good right",
    "start": "809420",
    "end": "816890"
  },
  {
    "text": "I think they're still using us to host the RSS feed but using ec2 or something",
    "start": "816890",
    "end": "821900"
  },
  {
    "text": "to to actually host the images so you know it's nice when the user says okay yeah we're doing something silly and I'm",
    "start": "821900",
    "end": "827870"
  },
  {
    "text": "gonna stop the next one you might have seen in the in the news I see where this",
    "start": "827870",
    "end": "834020"
  },
  {
    "start": "830000",
    "end": "830000"
  },
  {
    "text": "is cocoapod specs so cocoapods is a package management package manager for",
    "start": "834020",
    "end": "841340"
  },
  {
    "text": "Objective C and Swift and these repositories where it stores the it specs right that's where it shows the",
    "start": "841340",
    "end": "847760"
  },
  {
    "text": "manifests what report what packages there are what the versions are how to",
    "start": "847760",
    "end": "853040"
  },
  {
    "text": "find them so you know they have a lot of them and they update them quite quite",
    "start": "853040",
    "end": "860320"
  },
  {
    "text": "quite often so there's about 260 thousand commits which is about half of",
    "start": "860320",
    "end": "869960"
  },
  {
    "text": "the github repository and we'll be working on it every day for you know the last nine years so you know it's a lot",
    "start": "869960",
    "end": "876980"
  },
  {
    "text": "it's a multi-year so we're except they'd reach it in just like one year or something and they have across all about",
    "start": "876980",
    "end": "883520"
  },
  {
    "text": "175 thousand files now similarly to or rather I mentioned before with the New",
    "start": "883520",
    "end": "889850"
  },
  {
    "text": "York data to actually have multiple sub directories that are so hashing just like you would in in a file system set",
    "start": "889850",
    "end": "895820"
  },
  {
    "text": "before as well in this case they didn't they had a single directory or a tree",
    "start": "895820",
    "end": "901310"
  },
  {
    "text": "ask it has it with every single package that they had so these were like you",
    "start": "901310",
    "end": "907160"
  },
  {
    "text": "know several thousand so every time anybody updates any of the packages get",
    "start": "907160",
    "end": "913160"
  },
  {
    "text": "needs to rewrite anything leading up to that tree which means the base tree with all of the different projects it also",
    "start": "913160",
    "end": "922100"
  },
  {
    "text": "has to update it which is a huge for you know tree stand that's huge files and huge obvious the kid needs to repack",
    "start": "922100",
    "end": "928580"
  },
  {
    "text": "whenever we do maintenance and needs to find used to infect them check for",
    "start": "928580",
    "end": "934490"
  },
  {
    "text": "compare against other big trees and see if there's any differences to so that I",
    "start": "934490",
    "end": "940520"
  },
  {
    "text": "can see compressed data this was failing maintenance constantly",
    "start": "940520",
    "end": "945620"
  },
  {
    "text": "and they the rate of commute is about a thousand commits a week mostly from robots as far as I can tell it just",
    "start": "945620",
    "end": "953000"
  },
  {
    "text": "meant that they were constantly failing maintenance however how it really came to tow attention properly was that every",
    "start": "953000",
    "end": "962570"
  },
  {
    "text": "cocoapods user whenever they run an update so that they can update their current they're sorry the local list of",
    "start": "962570",
    "end": "970040"
  },
  {
    "text": "what versions of what packages there are they fetch from github now this is every",
    "start": "970040",
    "end": "975110"
  },
  {
    "text": "single user whenever they run an update command and programmers love to have the",
    "start": "975110",
    "end": "981140"
  },
  {
    "text": "things the registry at least up-to-date so this this happen quite a bit and we",
    "start": "981140",
    "end": "986300"
  },
  {
    "text": "have a monitoring system that actually intercepts and says okay well you've actually this repository has there been",
    "start": "986300",
    "end": "992660"
  },
  {
    "text": "fetching constantly for the last week so I'm just going to stop it well not",
    "start": "992660",
    "end": "997670"
  },
  {
    "text": "completely stop it but it what we do is delay fetches or a bunch of other",
    "start": "997670",
    "end": "1004540"
  },
  {
    "text": "commands until the quota which is a certain level so this they the uses of",
    "start": "1004540",
    "end": "1010210"
  },
  {
    "text": "cocoapods complain to them and hey this takes forever and so it's just times out so",
    "start": "1010210",
    "end": "1015360"
  },
  {
    "text": "then they they come to us and say hey our users are unhappy so and that's when",
    "start": "1015360",
    "end": "1021520"
  },
  {
    "text": "we went go into investigate so there's a couple of posts in this issue from engineers in our team explaining how",
    "start": "1021520",
    "end": "1029970"
  },
  {
    "text": "they cocoapods had managed to almost make every decision to make it harder",
    "start": "1029970",
    "end": "1035140"
  },
  {
    "text": "for us to host so they have this huge trees users constantly fetching from it",
    "start": "1035140",
    "end": "1042579"
  },
  {
    "text": "and also they had decided to do shallow clones so this is where you do get clone",
    "start": "1042580",
    "end": "1049450"
  },
  {
    "text": "- - depth one for example initially this can actually help to reduce how much you",
    "start": "1049450",
    "end": "1055060"
  },
  {
    "text": "download however due to the way they were merging the pull requests they had and to do with the graph ended up they",
    "start": "1055060",
    "end": "1061990"
  },
  {
    "text": "were end ended up always fetching all of the history anyway but because they had",
    "start": "1061990",
    "end": "1067150"
  },
  {
    "text": "done this depth option in the beginning that meant that our lariat caching layer was unable to cache because whenever you",
    "start": "1067150",
    "end": "1075140"
  },
  {
    "text": "all of this the shadow clone a lot more computation has to happen server-side so",
    "start": "1075140",
    "end": "1081320"
  },
  {
    "text": "now not only could we not use the the caching the actual fetch that was",
    "start": "1081320",
    "end": "1086600"
  },
  {
    "text": "happening was more expensive than it would have been otherwise and to both they weren't actually serve it saving",
    "start": "1086600",
    "end": "1092420"
  },
  {
    "text": "any space in their clients machines so yeah this is a fun one so you know we",
    "start": "1092420",
    "end": "1099350"
  },
  {
    "text": "asked them to do the the fetches more efficiently and to use smaller and nested directors right this is just",
    "start": "1099350",
    "end": "1105380"
  },
  {
    "text": "called shouting this is what you do for a file system as well right a file system with a directory with thousands",
    "start": "1105380",
    "end": "1111050"
  },
  {
    "text": "of entries doesn't perform well it doesn't either because it's basically a representation of a file system so I think it still it",
    "start": "1111050",
    "end": "1120140"
  },
  {
    "text": "took a while for everything to get you know getting land because then you know people had to update their clients and",
    "start": "1120140",
    "end": "1126200"
  },
  {
    "text": "then undo the the DEP thing but I mean it's it's gonna ride however one of the",
    "start": "1126200",
    "end": "1132410"
  },
  {
    "text": "other things we did because that would still been pretty pretty expensive we also spread the load around all all",
    "start": "1132410",
    "end": "1139100"
  },
  {
    "text": "machines so we we have distribute this this really case of each repository and",
    "start": "1139100",
    "end": "1147920"
  },
  {
    "text": "we generally read from just a single one so that we can make use of the caching in each machine so that the file system",
    "start": "1147920",
    "end": "1154400"
  },
  {
    "text": "is cached in RAM and then everything can be a bit faster but that means that the quotas are also applied on per machine",
    "start": "1154400",
    "end": "1160970"
  },
  {
    "text": "which means if if all of the cocoapods users are going to the same machine they",
    "start": "1160970",
    "end": "1166310"
  },
  {
    "text": "fetch from the same machine right and all of the quotas are being applied to",
    "start": "1166310",
    "end": "1172190"
  },
  {
    "text": "everyone from the same machine so we spread it out currently they're on six different machines that we read from",
    "start": "1172190",
    "end": "1177710"
  },
  {
    "text": "which means that we almost never actually apply any quotas so I mean we",
    "start": "1177710",
    "end": "1183830"
  },
  {
    "text": "definitely decide not to like you know banned them or anything because it was well this it's it's a it's a big useful project so we definitely wanted them to",
    "start": "1183830",
    "end": "1190400"
  },
  {
    "text": "you know and their users to be able to keep using their cocoapods packages this",
    "start": "1190400",
    "end": "1198890"
  },
  {
    "start": "1198000",
    "end": "1198000"
  },
  {
    "text": "is where I start cheating a little bit and at halves for honorable mentions this is for a it's a couple of things",
    "start": "1198890",
    "end": "1205400"
  },
  {
    "text": "that have happened or reports that we've discovered since I last wrote the talk so this Hubble is",
    "start": "1205400",
    "end": "1214670"
  },
  {
    "text": "a security compliance stack it contains",
    "start": "1214670",
    "end": "1219770"
  },
  {
    "text": "configuration this repository in particular contains configuration for this however they had set up their",
    "start": "1219770",
    "end": "1226190"
  },
  {
    "text": "client similar to to cocoa pods to test",
    "start": "1226190",
    "end": "1232030"
  },
  {
    "text": "every minute whether to try to update every minute write test whether there's any any updates across all clients so",
    "start": "1232030",
    "end": "1240410"
  },
  {
    "text": "they had you know thirteen point seven million features in a day that's three percent of all fetches across all of",
    "start": "1240410",
    "end": "1245750"
  },
  {
    "text": "github so you know we were not amused however the monitoring layer code days",
    "start": "1245750",
    "end": "1252560"
  },
  {
    "text": "so we were able to actually so so we will to avoid the servers being actually",
    "start": "1252560",
    "end": "1260150"
  },
  {
    "text": "overloaded so you know they had similar",
    "start": "1260150",
    "end": "1265610"
  },
  {
    "text": "issues where there are clients would just stall because the the way we we",
    "start": "1265610",
    "end": "1271670"
  },
  {
    "text": "enforce this quota is like I said we stopped operations from happening for a",
    "start": "1271670",
    "end": "1276980"
  },
  {
    "text": "while until the quota is back edge and to an acceptable level and then we don't",
    "start": "1276980",
    "end": "1282140"
  },
  {
    "text": "throw any more because then we want the clients to have the the data as fast as they can and then you know go away so we",
    "start": "1282140",
    "end": "1289660"
  },
  {
    "text": "kept you know throwing for a while and then you know contacted the the owners of the project and said hey what are you",
    "start": "1289660",
    "end": "1295550"
  },
  {
    "text": "doing can you maybe fetch less often so they changed it to to think twice a day",
    "start": "1295550",
    "end": "1302180"
  },
  {
    "text": "and they're also looking moving to something that's more that's actually a",
    "start": "1302180",
    "end": "1307970"
  },
  {
    "text": "CDN rather than us which is sort of accidentally a CDN for anyone who wants to push data to us we also did like with",
    "start": "1307970",
    "end": "1315200"
  },
  {
    "text": "cocoa pods move the replica to move the reading to all six replicas so now we",
    "start": "1315200",
    "end": "1321530"
  },
  {
    "text": "barely enforce the the quotas and you know this is what that looks like you can hopefully tell without the arrow",
    "start": "1321530",
    "end": "1328010"
  },
  {
    "text": "when we spread the load around to the six replicas so you know everyone's",
    "start": "1328010",
    "end": "1334130"
  },
  {
    "text": "happy for a while hopefully we don't have to you know do this again for for them",
    "start": "1334130",
    "end": "1340780"
  },
  {
    "text": "so here's this next one's a bit of an interesting case because no one's really trying to",
    "start": "1340780",
    "end": "1347179"
  },
  {
    "text": "do anything and usually subtly very very helpful right so this is Barry Clark jerkle now",
    "start": "1347179",
    "end": "1353299"
  },
  {
    "start": "1351000",
    "end": "1351000"
  },
  {
    "text": "this is a repository that you can fork and then you have your own get a page a",
    "start": "1353299",
    "end": "1359000"
  },
  {
    "text": "site that's set up with Jekyll a lot more than if you just create a new repo locally so the issue here or one",
    "start": "1359000",
    "end": "1369770"
  },
  {
    "text": "issue here is that each fork is someone's website which means that they",
    "start": "1369770",
    "end": "1374900"
  },
  {
    "text": "all have different contents and we've built github and git itself is built in the with the assumption that you know",
    "start": "1374900",
    "end": "1382250"
  },
  {
    "text": "when you fork that's gonna be the same project so most things are going to be the same most files are going to have",
    "start": "1382250",
    "end": "1388610"
  },
  {
    "text": "the same content and then you know someone's going to do a small change and then you know maybe people request or",
    "start": "1388610",
    "end": "1394820"
  },
  {
    "text": "not but it's going to be all very similar this is quite the opposite from",
    "start": "1394820",
    "end": "1400820"
  },
  {
    "text": "the point that they fork everything is completely different this means that it's it's more expensive to store it's",
    "start": "1400820",
    "end": "1408860"
  },
  {
    "text": "more expensive to perform a chrome for each of these repositories but it's not too bad I mean if it's fine as long as",
    "start": "1408860",
    "end": "1416890"
  },
  {
    "text": "you you clone every once in a while you know whatever some updates we clone it through our github pages workers and",
    "start": "1416890",
    "end": "1422990"
  },
  {
    "text": "then render it however we found that",
    "start": "1422990",
    "end": "1428419"
  },
  {
    "text": "there were a group of servers that attempted to clone all of them at the same time because we serve forks all",
    "start": "1428419",
    "end": "1435049"
  },
  {
    "text": "from the same machine for the caching reasons I mentioned earlier it got a bit busy right so this is our 32 core",
    "start": "1435049",
    "end": "1440870"
  },
  {
    "text": "machine with a load average of 400 and that was they because of the particular",
    "start": "1440870",
    "end": "1447320"
  },
  {
    "text": "way they had done of this cloning they had actually managed to bypass the quotas a little bit and because we know",
    "start": "1447320",
    "end": "1453950"
  },
  {
    "text": "we were already past the applying quotas we let all of them run run wild and try",
    "start": "1453950",
    "end": "1460370"
  },
  {
    "text": "and get as quickly tried to get done with the clone as quick as possible now in this case there were so many that we",
    "start": "1460370",
    "end": "1466010"
  },
  {
    "text": "could barely do any progress and here well this we did we saw this is a small",
    "start": "1466010",
    "end": "1473630"
  },
  {
    "text": "group of IPs in the same data centers we figure maybe this is no actually a",
    "start": "1473630",
    "end": "1479399"
  },
  {
    "text": "user that's really interesting in all of these people's blogs so we just banned the IP addresses and everything when",
    "start": "1479399",
    "end": "1485549"
  },
  {
    "text": "when well in immediately like okay so yeah we've actually been playing around",
    "start": "1485549",
    "end": "1491940"
  },
  {
    "text": "with expanding the scope of the quotas",
    "start": "1491940",
    "end": "1497389"
  },
  {
    "text": "from from the monitoring but this is something that happens very very rarely",
    "start": "1497389",
    "end": "1502919"
  },
  {
    "text": "and it has no knock-on effect on other networks where really there are actually",
    "start": "1502919",
    "end": "1508529"
  },
  {
    "text": "multiple very active Forex adrenals colonel for example so we just figured",
    "start": "1508529",
    "end": "1516779"
  },
  {
    "text": "well sometimes you just have to burn a few a piece and move on so that's what we did this next one was an interesting",
    "start": "1516779",
    "end": "1526499"
  },
  {
    "text": "interaction so we had this repository that we're pushing multiple times a",
    "start": "1526499",
    "end": "1532769"
  },
  {
    "text": "minute which is fine we can deal with that on the reference update side however that means that we were",
    "start": "1532769",
    "end": "1539369"
  },
  {
    "text": "accumulating small chunks of changes so we want to run maintenance on this so that we can package everything up together all right this is the same",
    "start": "1539369",
    "end": "1545820"
  },
  {
    "text": "thing that gets us when you fetch a lot and after a few commands get would say oh hey there's too many objects here I'm",
    "start": "1545820",
    "end": "1552269"
  },
  {
    "text": "gonna run a garbage collection run we do kind of the same on the server just a",
    "start": "1552269",
    "end": "1558719"
  },
  {
    "text": "lot more controlled there's a lot more data now this meant but so this",
    "start": "1558719",
    "end": "1566070"
  },
  {
    "text": "repository because they were constantly pushing like all the time for days",
    "start": "1566070",
    "end": "1571320"
  },
  {
    "text": "straight it means that whenever by the time we finished maintenance there were already",
    "start": "1571320",
    "end": "1576570"
  },
  {
    "text": "too many incremental updates that so that we had to run maintenance all over again and to make it worse one of the",
    "start": "1576570",
    "end": "1583919"
  },
  {
    "text": "Machine one of the replicas fell fell behind and that one could never catch up",
    "start": "1583919",
    "end": "1590849"
  },
  {
    "text": "because by the time we managed to sync everything over to the new machine again we had already accumulated so much data",
    "start": "1590849",
    "end": "1597269"
  },
  {
    "text": "that they could just never keep up so we and especially with with the name",
    "start": "1597269",
    "end": "1603089"
  },
  {
    "text": "hey CI logs okay what are you doing here so we email the the unearthed repository",
    "start": "1603089",
    "end": "1609880"
  },
  {
    "text": "asking them hey were you doing like maybe could you not they they come back",
    "start": "1609880",
    "end": "1615130"
  },
  {
    "text": "and say well yeah we tried this experiment like 6 days ago we turn it",
    "start": "1615130",
    "end": "1621160"
  },
  {
    "text": "off mmm are you sure about that can you doubt like double check and they're like",
    "start": "1621160",
    "end": "1626950"
  },
  {
    "text": "yeah sure enough this was like a an academic IPA range so we figure it was some some grad student that had not been",
    "start": "1626950",
    "end": "1635440"
  },
  {
    "text": "careful enough when they thought they shut down their experiment yeah so you",
    "start": "1635440",
    "end": "1640720"
  },
  {
    "text": "know once they I double checked turns out they had a process pushing to github",
    "start": "1640720",
    "end": "1645970"
  },
  {
    "text": "it's also empty Kermit was also extra weird and then that process was for some",
    "start": "1645970",
    "end": "1651160"
  },
  {
    "text": "reason spawning other processes which were also pushing and also spawning other processes so at one point it just",
    "start": "1651160",
    "end": "1657730"
  },
  {
    "text": "reached like you know hundreds of of processes all trying to push at the same time to get up or a bunch of empty",
    "start": "1657730",
    "end": "1664300"
  },
  {
    "text": "commits I don't know Academy experiments I guess not sure this big risk there's a",
    "start": "1664300",
    "end": "1671560"
  },
  {
    "text": "big lesson to you know get out of this just you know make sure you turn off your things and speaking of commit rates",
    "start": "1671560",
    "end": "1679600"
  },
  {
    "text": "from academic projects this tool is from a university group as well believe in Canada we found they were pushing about",
    "start": "1679600",
    "end": "1686020"
  },
  {
    "text": "four commits a minute it's not a problematic rate but you have to wonder",
    "start": "1686020",
    "end": "1691300"
  },
  {
    "text": "what they're actually doing alright so discover this I was I was looking through backup blokes and I said",
    "start": "1691300",
    "end": "1697390"
  },
  {
    "text": "okay turns out every hour when trying to run some garbage collection there's like over 200 incremental updates from this",
    "start": "1697390",
    "end": "1704700"
  },
  {
    "text": "right which means 200 commits from this particular repository what are they doing so you know I go look in like okay",
    "start": "1704700",
    "end": "1712810"
  },
  {
    "text": "this is like a weird contents and you know there are two accumulate 110,000",
    "start": "1712810",
    "end": "1718240"
  },
  {
    "text": "commits which is multiple years of an actual software development and yeah",
    "start": "1718240",
    "end": "1724600"
  },
  {
    "text": "this is one of those cases where you try locally to use git as a database and it",
    "start": "1724600",
    "end": "1730000"
  },
  {
    "text": "works great because you have you know five things and then you try and use it in production and it breaks down",
    "start": "1730000",
    "end": "1736350"
  },
  {
    "text": "unfortunately this time we broke down on our servers instead of tears so they had no idea",
    "start": "1736350",
    "end": "1742090"
  },
  {
    "text": "you know that is actually causing people to have to run maintenance manually and",
    "start": "1742090",
    "end": "1748210"
  },
  {
    "text": "actually you know distract him from actually trying to to you know make the system bearings instead of trying to deal with this so as far as I can tell",
    "start": "1748210",
    "end": "1756370"
  },
  {
    "text": "that what they were actually trying to do a workflow cue essentially a job",
    "start": "1756370",
    "end": "1762429"
  },
  {
    "text": "queue and this was slow of the metadata so instead of using a database like hey it helps kind of like a free database",
    "start": "1762429",
    "end": "1768190"
  },
  {
    "text": "for us so you know we email them and hey you know it's cool if you want to do",
    "start": "1768190",
    "end": "1773380"
  },
  {
    "text": "this but like not on our servers and please stop recommending on the readme for the tool that you usually don't get",
    "start": "1773380",
    "end": "1778480"
  },
  {
    "text": "hub because that's not gonna go well so you know they're okay fine sorry and then you know they stopped which is good",
    "start": "1778480",
    "end": "1785529"
  },
  {
    "text": "and I think hopefully they can actually they're now using natural database with database semantics instead of trying to",
    "start": "1785529",
    "end": "1791529"
  },
  {
    "text": "you know to push get into being a database right this is not the same issue that that happens with cocoa pods",
    "start": "1791529",
    "end": "1798130"
  },
  {
    "text": "and something else we'll see later on you know so this was finally said okay",
    "start": "1798130",
    "end": "1804159"
  },
  {
    "text": "you're doing something silly and they stopped so it's fine so here I have a standing for a bunch of like any large",
    "start": "1804159",
    "end": "1811090"
  },
  {
    "start": "1807000",
    "end": "1807000"
  },
  {
    "text": "network so for example surface index is",
    "start": "1811090",
    "end": "1816789"
  },
  {
    "text": "about one gigabyte to clone roughly it has 18,000 Forks as you might guess we",
    "start": "1816789",
    "end": "1822850"
  },
  {
    "text": "don't use 18 18 terabytes on it because we just ran out of this space if we did",
    "start": "1822850",
    "end": "1829450"
  },
  {
    "text": "for every popular fork so network report so say network I mean repository network this is whenever you fork all of these",
    "start": "1829450",
    "end": "1836590"
  },
  {
    "text": "Forks are called reported net work and then what we do there is to duplicate",
    "start": "1836590",
    "end": "1842230"
  },
  {
    "text": "the the actual contents of the data so this is using fifty five gigabytes the reason it's not you know just just over",
    "start": "1842230",
    "end": "1849100"
  },
  {
    "text": "one is that the people do have folks and actually have so there are companies",
    "start": "1849100",
    "end": "1854980"
  },
  {
    "text": "starting still having their own thing they fork from turbos Linux and actually",
    "start": "1854980",
    "end": "1860740"
  },
  {
    "text": "apply their changes on this to their Fork of the Linux kernel so which is how",
    "start": "1860740",
    "end": "1866080"
  },
  {
    "text": "it's supposed to work right but this means that yeah we're usually about fifty five gigabytes to store multiple",
    "start": "1866080",
    "end": "1872169"
  },
  {
    "text": "copies of the one gigabyte now yeah some of this is just internal",
    "start": "1872169",
    "end": "1879270"
  },
  {
    "text": "bookkeeping that we're also trying to improve we keep like lists of all of the references from all forks which will",
    "start": "1879270",
    "end": "1886500"
  },
  {
    "text": "seal it now in IntelliJ how that's a bit of an issue so IntelliJ is about three gigabytes one point eight thousand Forks",
    "start": "1886500",
    "end": "1894090"
  },
  {
    "text": "but it's about the same size now the report itself is bigger but it's not you",
    "start": "1894090",
    "end": "1899610"
  },
  {
    "text": "know enough to make up for a difference now the interesting thing about IntelliJ is that they really love tags they tag",
    "start": "1899610",
    "end": "1906360"
  },
  {
    "text": "everything so they put a the the main forked a isn't just brings a community",
    "start": "1906360",
    "end": "1912180"
  },
  {
    "text": "that one has 52,000 tags and now when",
    "start": "1912180",
    "end": "1917990"
  },
  {
    "text": "you fork a repo we copy our of attacks well that's a good idea is a different",
    "start": "1917990",
    "end": "1923490"
  },
  {
    "text": "discussion but that's what we do which means that for the one point 8,000 Forks",
    "start": "1923490",
    "end": "1928950"
  },
  {
    "text": "were doing bookkeeping for one point eight thousand times for two thousand times so we have a master list of all of",
    "start": "1928950",
    "end": "1936540"
  },
  {
    "text": "the references here that's about seven gigabytes out of the five gigabyte 55",
    "start": "1936540",
    "end": "1942060"
  },
  {
    "text": "gigabyte sighs now get being get this in",
    "start": "1942060",
    "end": "1947820"
  },
  {
    "text": "order to fork get needs to read this file into memory multiple times which",
    "start": "1947820",
    "end": "1954300"
  },
  {
    "text": "meant that earlier earlier this year it actually became impossible to fork IntelliJ and so we apply the small",
    "start": "1954300",
    "end": "1959460"
  },
  {
    "text": "optimization and this is only we're still working on because it's still way too big and maintenance is still way too",
    "start": "1959460",
    "end": "1965610"
  },
  {
    "text": "expensive in this repository and something to really show how I mean it's",
    "start": "1965610",
    "end": "1971820"
  },
  {
    "text": "still more efficient but still not as the features a bit like how they this this bookkeeping that we do on the whole",
    "start": "1971820",
    "end": "1980190"
  },
  {
    "text": " thing so the octocat spoon knife that's if you've done any training with",
    "start": "1980190",
    "end": "1987540"
  },
  {
    "text": "us you might know about it it's what is the one we use to teach forking pull requests so you know this one has ninety",
    "start": "1987540",
    "end": "1993990"
  },
  {
    "text": "three thousand Forks this is also an issue on the on the website I think if",
    "start": "1993990",
    "end": "1999000"
  },
  {
    "text": "it shows just five thousand plus per requests because it's too expensive to just even count them and the database",
    "start": "1999000",
    "end": "2004940"
  },
  {
    "text": "and yeah so you can see this is a hundred sixty k5m if think is a single file or 260k if",
    "start": "2004940",
    "end": "2013190"
  },
  {
    "text": "you clone it we're spending men gigabytes of it for it in its own just",
    "start": "2013190",
    "end": "2019250"
  },
  {
    "text": "for the network or anything this is just well we have a lot of Forks which means",
    "start": "2019250",
    "end": "2025220"
  },
  {
    "text": "we have a lot of different changes real change that people have made all of the pull requests have extra bookkeeping",
    "start": "2025220",
    "end": "2031460"
  },
  {
    "text": "costs and here is just something you always have to be on the lookout for",
    "start": "2031460",
    "end": "2037400"
  },
  {
    "text": "small t mutations because they when you run at the scale of all these files I mean gigabytes maybe let's write it a",
    "start": "2037400",
    "end": "2043520"
  },
  {
    "text": "little less that that immediately helps a lot so my last example here is an",
    "start": "2043520",
    "end": "2050898"
  },
  {
    "start": "2049000",
    "end": "2049000"
  },
  {
    "text": "interesting one it brings up this sort of Oh weird use cases and things you",
    "start": "2050899",
    "end": "2056270"
  },
  {
    "text": "definitely didn't envision this one where we have three hundred forty five thousand files overall or in each commit",
    "start": "2056270",
    "end": "2064669"
  },
  {
    "text": "I mean right 150,000 commits in a few weeks and 26 26 thousand individual",
    "start": "2064669",
    "end": "2071570"
  },
  {
    "text": "authors in their repository so this is weird right there's like 26,000 people",
    "start": "2071570",
    "end": "2077929"
  },
  {
    "text": "for a small I mean say small hello first but it's it's not a big it's not know so",
    "start": "2077929",
    "end": "2085580"
  },
  {
    "text": "I'm like IntelliJ where all you have a lot of or the current where you have a lot of people contributing to it right",
    "start": "2085580",
    "end": "2091158"
  },
  {
    "text": "this is an unknown thing so turns out this is a repository for a companion app",
    "start": "2091159",
    "end": "2099020"
  },
  {
    "text": "to a programming learning website and they were in repository for their users",
    "start": "2099020",
    "end": "2104390"
  },
  {
    "text": "to read about what they'd learned so this is like a like a blogging thing like it's tiny thing right but what they",
    "start": "2104390",
    "end": "2111110"
  },
  {
    "text": "were trying to do is is commit in each user's name so that it would actually",
    "start": "2111110",
    "end": "2116300"
  },
  {
    "text": "appear on their contribution graph right that's the different shapes of green boxes that we shown the profile and",
    "start": "2116300",
    "end": "2124810"
  },
  {
    "text": "their idea was like well if they if they if they block with their app and then",
    "start": "2124810",
    "end": "2131570"
  },
  {
    "text": "they push it up to our servers that will count them as their contribution and then that means that they'll actually",
    "start": "2131570",
    "end": "2137420"
  },
  {
    "text": "get a green square and those stay committed right so the commits here for can tell refers to being committed to to",
    "start": "2137420",
    "end": "2144310"
  },
  {
    "text": "learning now everything putting everything the same place has some of the similar",
    "start": "2144310",
    "end": "2152530"
  },
  {
    "text": "situations that I mentioned before where maintenance is really really expensive and this also meant that we had for the",
    "start": "2152530",
    "end": "2159790"
  },
  {
    "text": "contributions were also very expensive because there were a lot of contributors in the same repository constantly",
    "start": "2159790",
    "end": "2165370"
  },
  {
    "text": "obtaining again they had 26,000 contributors so they have 26,000 entries",
    "start": "2165370",
    "end": "2171520"
  },
  {
    "text": "in a particular directory that we have to keep updating so other things we've already seen before and",
    "start": "2171520",
    "end": "2178500"
  },
  {
    "text": "here like ok maybe you want to teach people about programming you want them to commit but this isn't this is really",
    "start": "2178500",
    "end": "2184840"
  },
  {
    "text": "not not the way to do it like please don't do this we're we're happy to host their blog or whatever if if they want",
    "start": "2184840",
    "end": "2193000"
  },
  {
    "text": "to have it right like I mean their app can even create the reporter for them and commit on their behalf they just",
    "start": "2193000",
    "end": "2198940"
  },
  {
    "text": "need to authorize it right but we're this is so beyond what we're what we",
    "start": "2198940",
    "end": "2204970"
  },
  {
    "text": "expect people to do this is not something that we're and there's a bit of way right so this is not something where this is my use case that we're",
    "start": "2204970",
    "end": "2211060"
  },
  {
    "text": "gonna be supporting here they also got",
    "start": "2211060",
    "end": "2216730"
  },
  {
    "text": "to write a blog post about how they broke it up which I mean fair enough it they broke their bit of github I mean",
    "start": "2216730",
    "end": "2222940"
  },
  {
    "text": "thankfully we're still after that it didn't actually affect the other repositories so just a bit of a",
    "start": "2222940",
    "end": "2229990"
  },
  {
    "text": "conclusion at the end what do we what do we take from all of these right well first off when you're running this this",
    "start": "2229990",
    "end": "2236350"
  },
  {
    "start": "2230000",
    "end": "2230000"
  },
  {
    "text": "kind of service for everyone your users are going to surprise you and that's ok right part of the job is to learn from",
    "start": "2236350",
    "end": "2243280"
  },
  {
    "text": "what users are trying to do with your service right they they come in they",
    "start": "2243280",
    "end": "2249730"
  },
  {
    "text": "learn about what you do and then the deterrent push the edges that's ok and the job is to learn from that and try to",
    "start": "2249730",
    "end": "2255190"
  },
  {
    "text": "make it work as long as it's within reason some of these use cases were just not a natural extension to what get up",
    "start": "2255190",
    "end": "2261520"
  },
  {
    "text": "the collaboration side does and sometimes you know just reach out to the",
    "start": "2261520",
    "end": "2266770"
  },
  {
    "text": "user ask them what are you doing why are you doing this and you know a few places",
    "start": "2266770",
    "end": "2272440"
  },
  {
    "text": "okay well we work with you to make it that actually behaves the way that",
    "start": "2272440",
    "end": "2278020"
  },
  {
    "text": "github that github actually behaves so that you actually make use of get up in a proper way and we're not you know",
    "start": "2278020",
    "end": "2284200"
  },
  {
    "text": "having to wake up three and to fix your repository now yeah there's always",
    "start": "2284200",
    "end": "2289540"
  },
  {
    "text": "something new and you're going to be learning a lot if you just let people give you data and just push to you thank",
    "start": "2289540",
    "end": "2298450"
  },
  {
    "text": "you [Applause]",
    "start": "2298450",
    "end": "2304769"
  },
  {
    "text": "right repeat the question for them okay",
    "start": "2312710",
    "end": "2329490"
  },
  {
    "text": "so it's about the custom fixes whether wish we dad's taking all that to us",
    "start": "2329490",
    "end": "2335359"
  },
  {
    "text": "some of them do some of them are quick fixes a lot of this stuff however is",
    "start": "2335359",
    "end": "2340800"
  },
  {
    "text": "working with upstream get and you know so Larry what we're trying to fix up the",
    "start": "2340800",
    "end": "2347339"
  },
  {
    "text": "the patches make them prettier for upstream so that we can actually send them for example the thing for the",
    "start": "2347339",
    "end": "2353609"
  },
  {
    "text": "process that creates the pack files for you when you clone there's a few performance improvements we have that",
    "start": "2353609",
    "end": "2359819"
  },
  {
    "text": "we're slowly you know sending back upstream there's the thing with the New",
    "start": "2359819",
    "end": "2365069"
  },
  {
    "text": "York data that you know make it more efficient to create new trees out of old ones that stuff that's upstream now and",
    "start": "2365069",
    "end": "2371819"
  },
  {
    "text": "you get to and you can do it now if you have that nning you can you can use the library to do that kind of thing",
    "start": "2371819",
    "end": "2377190"
  },
  {
    "text": "sometimes it's just how we run things like the whole network thing it's it's",
    "start": "2377190",
    "end": "2383280"
  },
  {
    "text": "just how we do things so it's not it's not adding anything it's not it's not adding any other versions from upstream",
    "start": "2383280",
    "end": "2389970"
  },
  {
    "text": "because it's just what we do and I think so and because we have this",
    "start": "2389970",
    "end": "2396089"
  },
  {
    "text": "seven-year but foul and you know Google also has these issues were in working",
    "start": "2396089",
    "end": "2402030"
  },
  {
    "text": "with them to provide to have a new database format essentially for for the",
    "start": "2402030",
    "end": "2407190"
  },
  {
    "text": "references so that we can you know be a lot more efficient server-side and there's also some patches that will",
    "start": "2407190",
    "end": "2412859"
  },
  {
    "text": "apply even to the current system for everyone like like the original idea was to M map so to directly read the files",
    "start": "2412859",
    "end": "2419400"
  },
  {
    "text": "from disk where we store all these references that never actually happened so what kit does is really doll into",
    "start": "2419400",
    "end": "2425309"
  },
  {
    "text": "memory and then pass it so we're creating someone else in my team is creating patches to actually run a map",
    "start": "2425309",
    "end": "2433380"
  },
  {
    "text": "on that file so that we can actually read straight from disk and only the bits that we actually need and that",
    "start": "2433380",
    "end": "2438450"
  },
  {
    "text": "should be making it upstream at some point soon hopefully after we've tested out on our machines yeah yeah so the",
    "start": "2438450",
    "end": "2462449"
  },
  {
    "text": "questions about the 9gag repo where it's three hundred and sixty five gigabytes whether that's about the binary size yeah",
    "start": "2462449",
    "end": "2467729"
  },
  {
    "text": "so that was because of all the this this user was uploading it was pushing to us",
    "start": "2467729",
    "end": "2473249"
  },
  {
    "text": "all of the files or all of the images all of the videos so those add up and because we don't actually eat them when",
    "start": "2473249",
    "end": "2479369"
  },
  {
    "text": "you first portion overwrite the history so where it just keeps accumulating and",
    "start": "2479369",
    "end": "2484920"
  },
  {
    "text": "that's yeah that's how it gets to three hundred I mean I discovered think last night another hundred odd gigabyte repo",
    "start": "2484920",
    "end": "2491339"
  },
  {
    "text": "with a name like backup something something so like it's private so I can't look into what's actually inside",
    "start": "2491339",
    "end": "2497459"
  },
  {
    "text": "but I email the user asking hey what's up yes the questions about these large",
    "start": "2497459",
    "end": "2526109"
  },
  {
    "text": "files and whether that's why LFS exists yes one of the the things we keep",
    "start": "2526109",
    "end": "2532079"
  },
  {
    "text": "hearing about when we show up to like games conferences is like developers are like yeah we love gates but like we have",
    "start": "2532079",
    "end": "2538130"
  },
  {
    "text": "gigabytes of you know just designs that the like models pictures you know that's",
    "start": "2538130",
    "end": "2545819"
  },
  {
    "text": "you know things you have in a game so it looks pretty so and that's basically how it came about say okay well now we're",
    "start": "2545819",
    "end": "2551849"
  },
  {
    "text": "gonna have a tiny file and then push it up and then the the real file actually exists somewhere else that's one of the",
    "start": "2551849",
    "end": "2557699"
  },
  {
    "text": "main reasons for the LFS is the the need to have large files in in some trees",
    "start": "2557699",
    "end": "2563640"
  },
  {
    "text": "that you don't necessarily want to put in to get",
    "start": "2563640",
    "end": "2567229"
  },
  {
    "text": "well if there's no more questions then I'll take my leave",
    "start": "2575950",
    "end": "2582359"
  }
]