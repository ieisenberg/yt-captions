[
  {
    "start": "0",
    "end": "177000"
  },
  {
    "text": "how many of you are from Oslo by the way oh okay a lot of you okay uh it's been a",
    "start": "4839",
    "end": "10679"
  },
  {
    "text": "while since I've been back to NDC uh for those you who don't know me my name is Udi Dahan uh Twitter I'm at udid Dahan I",
    "start": "10679",
    "end": "17080"
  },
  {
    "text": "work at a company called particular software and we make in service bus but that's not what I'm going to be talking about today uh Myck is microservices and",
    "start": "17080",
    "end": "26359"
  },
  {
    "text": "service oriented architecture and in general building complex and entprise grade software and my guess is that most",
    "start": "26359",
    "end": "34680"
  },
  {
    "text": "of you have already heard of microservices before who's heard of micro Services before yes okay that's",
    "start": "34680",
    "end": "40239"
  },
  {
    "text": "pretty much everybody now for those of you who know a little bit about me you know that I tend to take a contrary",
    "start": "40239",
    "end": "47239"
  },
  {
    "text": "Viewpoint so if I say something about microservices which is different from",
    "start": "47239",
    "end": "52760"
  },
  {
    "text": "what you've heard about before that's normal okay so what I'm going to be",
    "start": "52760",
    "end": "59440"
  },
  {
    "text": "talking about today is a different kind of microservices approach and then from",
    "start": "59440",
    "end": "64920"
  },
  {
    "text": "there I'm going to be introducing something that my guess is a lot of you haven't heard about for a long time this",
    "start": "64920",
    "end": "70600"
  },
  {
    "text": "thing called rules engines and seeing how these engines and micro Services end",
    "start": "70600",
    "end": "76840"
  },
  {
    "text": "up working together to solve a a special category of business problem that most",
    "start": "76840",
    "end": "83920"
  },
  {
    "text": "people run into when they've already really committed to their architecture and it's kind of too late to make any",
    "start": "83920",
    "end": "90320"
  },
  {
    "text": "changes to that so answer me this raise your hand if you've ever had to deal",
    "start": "90320",
    "end": "97079"
  },
  {
    "text": "with a feature that didn't really fit with your architecture and then you told",
    "start": "97079",
    "end": "102360"
  },
  {
    "text": "the other stakeholders on the project it would be faster to write the system from scratch than to implement this feature",
    "start": "102360",
    "end": "108399"
  },
  {
    "text": "on the current codebase yes raise your hand if you've said that before okay this talk is for",
    "start": "108399",
    "end": "114840"
  },
  {
    "text": "you by the way don't go doing big bang rewrites they are always end in tears",
    "start": "114840",
    "end": "120119"
  },
  {
    "text": "but that's the topic for another talk so first of all before getting into the whole rules engine side of things I want",
    "start": "120119",
    "end": "126000"
  },
  {
    "text": "to set the record straight on microservices microservices originally",
    "start": "126000",
    "end": "131280"
  },
  {
    "text": "was meant to be SOA Done",
    "start": "131280",
    "end": "136440"
  },
  {
    "text": "Right another blast from the past remember him why did we need SOA done right to be",
    "start": "136560",
    "end": "144319"
  },
  {
    "text": "rebranded because just SOA turned into a big pile of crap that everyone was like",
    "start": "144319",
    "end": "149599"
  },
  {
    "text": "ah I don't want to do SOA it's crap it's heavyweight it's complex microservices",
    "start": "149599",
    "end": "154959"
  },
  {
    "text": "they're small they're agile they're fun so rebranding is something that we tend to do a lot of in this industry roughly",
    "start": "154959",
    "end": "161840"
  },
  {
    "text": "every 5 to 10 years we take the last good idea and then we give it a different name now the problem with any",
    "start": "161840",
    "end": "170760"
  },
  {
    "text": "type of good idea is that it starts to get popular the more popular it gets you",
    "start": "170760",
    "end": "176159"
  },
  {
    "text": "end up with everybody's doing it and you know what the problem is when everybody does something it's kind of",
    "start": "176159",
    "end": "182519"
  },
  {
    "start": "177000",
    "end": "177000"
  },
  {
    "text": "like agile for those you are who's in an agile sorry who's in a company that",
    "start": "182519",
    "end": "188799"
  },
  {
    "text": "calls themselves agile let's ask it that way all right most companies call",
    "start": "188799",
    "end": "194480"
  },
  {
    "text": "themselves agile all right now raise your hand again if you think your company is actually",
    "start": "194480",
    "end": "201040"
  },
  {
    "text": "agile okay I'm getting maybe like a tenth of the hands that are going up so",
    "start": "201040",
    "end": "206720"
  },
  {
    "text": "that's kind of the thing with microservices it's this very popular term that everybody needs to have on",
    "start": "206720",
    "end": "212920"
  },
  {
    "text": "their CV so oh yeah we're doing microservices too just like everybody was doing agile",
    "start": "212920",
    "end": "219560"
  },
  {
    "text": "a long time ago now a lot of times the contrast the why are we doing agile why",
    "start": "219560",
    "end": "224959"
  },
  {
    "text": "are we doing microservices you know the problem when something gets too popular is that we",
    "start": "224959",
    "end": "231319"
  },
  {
    "text": "kind of lose rational discourse around it so imagine if I came to your company",
    "start": "231319",
    "end": "238000"
  },
  {
    "text": "and I said to one of the the management guy said you know what you guys you're not really",
    "start": "238000",
    "end": "244000"
  },
  {
    "text": "agile just are you saying we're fat right agile is such a good thing",
    "start": "244000",
    "end": "252200"
  },
  {
    "text": "that the alternative is being fat and slow and ugly and all those types of things and that's kind of how we've",
    "start": "252200",
    "end": "258759"
  },
  {
    "text": "ended up with microservices as well is that everybody needs to have the",
    "start": "258759",
    "end": "263880"
  },
  {
    "text": "microservices brand where the alternative is the bad big monolithic everything in one place in short",
    "start": "263880",
    "end": "271680"
  },
  {
    "text": "fat so we're like oh no no monoliths those are bad we don't want to do any of those anymore instead we're going to",
    "start": "271680",
    "end": "279400"
  },
  {
    "text": "repackage things in such a way that now all of the different pieces of code are",
    "start": "279400",
    "end": "285919"
  },
  {
    "text": "in their own processes and look at me microservice right so we got bad on the one hand",
    "start": "285919",
    "end": "293680"
  },
  {
    "text": "which is everything monolithically together and then we've got good on the other hand where everything is these small tight little dockerized containers",
    "start": "293680",
    "end": "301759"
  },
  {
    "text": "orchestrated with Docker swarm or meos or kubernetes or some other new fancy technology that nobody can",
    "start": "301759",
    "end": "309199"
  },
  {
    "text": "pronounce and we're like yes this is it this is the future we're going to be so",
    "start": "309199",
    "end": "314560"
  },
  {
    "text": "agile and scalable Netflix watch out right but looking at this picture for a",
    "start": "314560",
    "end": "320759"
  },
  {
    "text": "second how is the coupling any different and is the fact that I'm doing the call",
    "start": "320759",
    "end": "326400"
  },
  {
    "start": "321000",
    "end": "321000"
  },
  {
    "text": "remotely Json over http does that magically make my coupling",
    "start": "326400",
    "end": "333880"
  },
  {
    "text": "disappear how does that actually change the quality of my",
    "start": "333880",
    "end": "339800"
  },
  {
    "text": "software and I got a short answer for you all of this microservices stuff it's",
    "start": "339800",
    "end": "345319"
  },
  {
    "text": "not going to make your coupling any different all you're doing is rearranging the mess that you've got if",
    "start": "345319",
    "end": "352120"
  },
  {
    "text": "you have kids I have kids four kids by the way it's like asking them to clean their",
    "start": "352120",
    "end": "357919"
  },
  {
    "text": "room they don't actually clean it they just sort of spread the mess around differently or shove it all in the",
    "start": "357919",
    "end": "363960"
  },
  {
    "text": "closet that's kind of what we do as software developers when we're doing some sort of re architecture effort is",
    "start": "363960",
    "end": "370400"
  },
  {
    "text": "we take all the coupling and kind of spread it around and hope that nobody notices sprinkle on some nice Docker",
    "start": "370400",
    "end": "377240"
  },
  {
    "text": "over the top of it it's kind of putting like a carpet on top of a mound of",
    "start": "377240",
    "end": "382280"
  },
  {
    "text": "dirt and there you go your microservice is ready now some people will say no you",
    "start": "382280",
    "end": "389160"
  },
  {
    "text": "you can't do it that way obviously you've got too much coupling between your services what you need to do is you",
    "start": "389160",
    "end": "396680"
  },
  {
    "text": "need to put all of the data that you want to transmit in some database and",
    "start": "396680",
    "end": "402479"
  },
  {
    "text": "then you call the other microservice and tell them hey okay you go do something with this ID they'll go to the database",
    "start": "402479",
    "end": "409560"
  },
  {
    "text": "read out the data that they need and Presto change your coupling",
    "start": "409560",
    "end": "415039"
  },
  {
    "start": "413000",
    "end": "413000"
  },
  {
    "text": "disappearo right look at how decoupled my microservices are I I'm only sharing",
    "start": "415039",
    "end": "420240"
  },
  {
    "text": "IDs my apis are never going to change now you know we've heard yeah you",
    "start": "420240",
    "end": "428199"
  },
  {
    "text": "shouldn't share databases between microservices so yeah doing that that's that's a bad",
    "start": "428199",
    "end": "434120"
  },
  {
    "text": "thing but then people say Hey you know maybe if we put a rest service around",
    "start": "434120",
    "end": "441120"
  },
  {
    "text": "the database nobody will notice right that's like putting a carpet over",
    "start": "441120",
    "end": "448000"
  },
  {
    "text": "the mess in our room and voila",
    "start": "448000",
    "end": "453319"
  },
  {
    "text": "microservices so let me summarize this whole micros",
    "start": "453319",
    "end": "458919"
  },
  {
    "text": "service how you're doing it wrong thing bottom line services micro macro micro",
    "start": "458919",
    "end": "465440"
  },
  {
    "text": "or otherwise are not about remote calls that is so important I'm going to",
    "start": "465440",
    "end": "472879"
  },
  {
    "text": "say that again microservices are not about remote calls calling something remotely does",
    "start": "472879",
    "end": "480520"
  },
  {
    "text": "not change any logical coupling so I know I'm flogging a dead horse here and",
    "start": "480520",
    "end": "486280"
  },
  {
    "text": "if you've seen me talk before I've mentioned this over and over again but I keep seeing it happen over and over",
    "start": "486280",
    "end": "492000"
  },
  {
    "text": "again so this kind of thing that we were talking about before where you've got",
    "start": "492000",
    "end": "497400"
  },
  {
    "text": "one process calling another process remotely calling some kind of code that's not a service similarly if you",
    "start": "497400",
    "end": "504759"
  },
  {
    "text": "put a rest API around the database and call that remotely that's not a service",
    "start": "504759",
    "end": "511159"
  },
  {
    "text": "if you host everything in Docker kubernetes Docker swarm all that kind of stuff containerize it run it on Azure",
    "start": "511159",
    "end": "517440"
  },
  {
    "text": "stack scale it up down inside and out that's not",
    "start": "517440",
    "end": "523360"
  },
  {
    "text": "services so you're saying we're fat right ultimately it comes down to",
    "start": "523720",
    "end": "531680"
  },
  {
    "text": "logical coupling we need to have services that are fundamentally",
    "start": "531680",
    "end": "537200"
  },
  {
    "text": "decoupled from each other we need to hack away that chain of logical coupling",
    "start": "537200",
    "end": "542640"
  },
  {
    "text": "and it really is a great deal of effort it's not the kind of thing that you can just sort of spread the mess around",
    "start": "542640",
    "end": "549320"
  },
  {
    "text": "differently so let's talk coupling starting with layers who doesn't love",
    "start": "549320",
    "end": "557399"
  },
  {
    "text": "layers I don't love layers by the way so layers what we've noticed over and over",
    "start": "557399",
    "end": "565160"
  },
  {
    "text": "again is that with all of these layers the business still comes to us and says",
    "start": "565160",
    "end": "570800"
  },
  {
    "text": "you know what I need another field to appear on this",
    "start": "570800",
    "end": "576240"
  },
  {
    "text": "screen and then we're like okay so I add that field to the database and then I",
    "start": "576240",
    "end": "581560"
  },
  {
    "text": "add that field to my mapping logic in my om and then I add that field to my domain objects and then I add that field",
    "start": "581560",
    "end": "588200"
  },
  {
    "text": "to the dto that are exposed by my API and then I add that field to the view model and then I add that field to the",
    "start": "588200",
    "end": "594880"
  },
  {
    "text": "view I say that's maintainable coat",
    "start": "594880",
    "end": "601120"
  },
  {
    "text": "right you know what I need code generator who's ever built a code",
    "start": "601360",
    "end": "606839"
  },
  {
    "text": "generator to do one of these things come on raise your hands those of you who rais your hands",
    "start": "606839",
    "end": "612360"
  },
  {
    "text": "who would do it again yeah I got a couple of hands up",
    "start": "612360",
    "end": "617519"
  },
  {
    "text": "there you must be",
    "start": "617519",
    "end": "620560"
  },
  {
    "text": "Consultants then you got some people come along and say you know what the problem is we don't have enough layers",
    "start": "623720",
    "end": "631040"
  },
  {
    "text": "right five layers wasn't enough right we started with three layers remember the good old days where it was client server",
    "start": "631560",
    "end": "637440"
  },
  {
    "text": "two-tier then we moved to the three- tier architecture and that wasn't enough",
    "start": "637440",
    "end": "643200"
  },
  {
    "text": "and then it was end tier because once we realized one two three we better just abstract this away to n right we're good",
    "start": "643200",
    "end": "650240"
  },
  {
    "text": "at doing that so we add layer after layer after layer some anti-corruption layers so that we can say that we're",
    "start": "650240",
    "end": "656440"
  },
  {
    "text": "doing DDD right who likes doing d DD yeah okay good the problem is you will",
    "start": "656440",
    "end": "664519"
  },
  {
    "text": "have this kind of coupling top to bottom no matter what we've tried for roughly",
    "start": "664519",
    "end": "669880"
  },
  {
    "text": "20 years since the early days of client server to somehow get that coupling to",
    "start": "669880",
    "end": "675279"
  },
  {
    "text": "disappear it's never worked and this is one of those moments where we kind of need to move through",
    "start": "675279",
    "end": "682519"
  },
  {
    "text": "those seven levels or it may be it's the 12-step process where in the beginning",
    "start": "682519",
    "end": "689240"
  },
  {
    "text": "there's denial what do you mean there's coupling there is no coupling it's all encapsulated step two anger how dare you",
    "start": "689240",
    "end": "696720"
  },
  {
    "text": "say that there's coupling in there and gradually we move through grief oh my God I can't believe I have all of this",
    "start": "696720",
    "end": "702639"
  },
  {
    "text": "coupling and finally there's acceptance yes there is coupling it's a",
    "start": "702639",
    "end": "709240"
  },
  {
    "text": "fact of life move on but I'd like you to take a step Beyond just",
    "start": "709240",
    "end": "715600"
  },
  {
    "text": "acceptance go into kind of a Zen State be one with the coupling truly embrace it into",
    "start": "715600",
    "end": "723839"
  },
  {
    "text": "your being and from that state you might have",
    "start": "723839",
    "end": "729480"
  },
  {
    "text": "an epiphany that while there is lots of coupling top to bottom when we look side",
    "start": "729480",
    "end": "735880"
  },
  {
    "text": "to side sometimes there isn't very much coupling in there at",
    "start": "735880",
    "end": "741600"
  },
  {
    "text": "all that bits of logic that deal with say a product's price couldn't care less",
    "start": "741600",
    "end": "747800"
  },
  {
    "text": "about the number of stars that the product has and vice versa that the bit",
    "start": "747800",
    "end": "753079"
  },
  {
    "text": "of logic that deals with the customer's shipping address really couldn't care less about what the customer status",
    "start": "753079",
    "end": "760079"
  },
  {
    "text": "is so yes this is related to customer and that's related to customer and this is related to product and that's related",
    "start": "760079",
    "end": "765760"
  },
  {
    "text": "to product but when we look more deeply into the transactions that are operating",
    "start": "765760",
    "end": "771160"
  },
  {
    "text": "through these entities we kind of realize you know we just sort of lump them together by",
    "start": "771160",
    "end": "776279"
  },
  {
    "text": "convenience what if we split them apart what if the services that we were",
    "start": "776279",
    "end": "782079"
  },
  {
    "text": "looking for were never a layer maybe there are these kinds of",
    "start": "782079",
    "end": "788199"
  },
  {
    "text": "vertical slices that just kind of happen to have",
    "start": "788199",
    "end": "793440"
  },
  {
    "text": "a lot of the same layers with each other and we can take them apart not only at the business logic layer and at",
    "start": "793440",
    "end": "801880"
  },
  {
    "text": "the data access layer and at the API level we can go all the way up to the UI",
    "start": "801880",
    "end": "807720"
  },
  {
    "text": "and say even a single screen that we're looking at even a single controller that we might have written in the past maybe",
    "start": "807720",
    "end": "815079"
  },
  {
    "text": "that's not actually a single controller anymore maybe the product catalog pieces the product name the description the",
    "start": "815079",
    "end": "822079"
  },
  {
    "text": "image that's in one service and the ratings are in another service and the",
    "start": "822079",
    "end": "828399"
  },
  {
    "text": "price is in yet another service and the inventory is yet in another service and yeah they're all Associated",
    "start": "828399",
    "end": "836000"
  },
  {
    "text": "by the same product ID but really realistically when a customer is making",
    "start": "836000",
    "end": "841600"
  },
  {
    "text": "a purchase we don't need to know what the image of the book is when we're replenishing the inventory",
    "start": "841600",
    "end": "848199"
  },
  {
    "text": "of a product we don't need to know how many stars it has there's lots of stuff over here that",
    "start": "848199",
    "end": "855079"
  },
  {
    "text": "both at a UI level and a business logic level can really be kept apart now if you want to see what it's",
    "start": "855079",
    "end": "862480"
  },
  {
    "text": "like to build this type of composite UI I've put together a kind of um holding",
    "start": "862480",
    "end": "869120"
  },
  {
    "text": "your hand model so put this up bitly /-",
    "start": "869120",
    "end": "874720"
  },
  {
    "text": "microservices to show you how you can do this type of composite UI with angular",
    "start": "874720",
    "end": "880839"
  },
  {
    "text": "now there's a whole bunch of other stuff in that GitHub repository so feel free to kind of go around and there there a",
    "start": "880839",
    "end": "886440"
  },
  {
    "text": "whole bunch of exercises but it'll give you a model where you can see what this",
    "start": "886440",
    "end": "891560"
  },
  {
    "text": "type of Micro view/ microcontroller UI type of thing how you can build",
    "start": "891560",
    "end": "898079"
  },
  {
    "text": "something like that and then how to flow that type of decoupling all the way",
    "start": "898079",
    "end": "904240"
  },
  {
    "text": "through to your back end now the same as and again this is sort of an easy UI to look at because",
    "start": "904240",
    "end": "911920"
  },
  {
    "text": "everything kind of has its own widget that is laid out separately on the page",
    "start": "911920",
    "end": "917360"
  },
  {
    "text": "but we can take this a step further and arrange these types of things in a grid as well where we've got product catalog",
    "start": "917360",
    "end": "924639"
  },
  {
    "text": "and image information as sort of one part of the grid and then ratings as",
    "start": "924639",
    "end": "929800"
  },
  {
    "text": "another part of the grid and prices as another part of the grid so we can do this exact same model even though the",
    "start": "929800",
    "end": "936839"
  },
  {
    "text": "layout is kind of more intertwined and you'll see that also in that bitly link",
    "start": "936839",
    "end": "942560"
  },
  {
    "text": "that I showed you before now where this leads us to is an",
    "start": "942560",
    "end": "949880"
  },
  {
    "text": "important conclusion about what the term service means and it doesn't mean so",
    "start": "949880",
    "end": "955959"
  },
  {
    "text": "when you think about it in the browser we're going to have JavaScript code that",
    "start": "955959",
    "end": "962600"
  },
  {
    "text": "angular code those angular modules from a whole bunch of microservices we're",
    "start": "962600",
    "end": "968160"
  },
  {
    "text": "going to have the yellow microservice that's telling us the product catalog information we're going to have the orange microservice with its bit of",
    "start": "968160",
    "end": "975040"
  },
  {
    "text": "JavaScript in the same browser telling us about the price information we're going to have that gray microservice",
    "start": "975040",
    "end": "982040"
  },
  {
    "text": "that is showing us the information about the inventory levels so in essence when we look at at",
    "start": "982040",
    "end": "988680"
  },
  {
    "text": "the runtime environment a service isn't necessarily running by itself it's running alongside",
    "start": "988680",
    "end": "997040"
  },
  {
    "text": "components from other microservices in the same host and that's not just true",
    "start": "997040",
    "end": "1002120"
  },
  {
    "text": "about the browser the same thing can happen on the web server so if we're doing server side",
    "start": "1002120",
    "end": "1007880"
  },
  {
    "text": "composition rather than client side composition the same type of thing happens very often what we'll see is",
    "start": "1007880",
    "end": "1015759"
  },
  {
    "text": "that we will be taking a component or two from service a with a component or",
    "start": "1015759",
    "end": "1020959"
  },
  {
    "text": "two from service B and putting them in the same process and the same thing when we look",
    "start": "1020959",
    "end": "1027600"
  },
  {
    "text": "farther back from the web server into app servers or any type of logic like that you'll very often see that these",
    "start": "1027600",
    "end": "1034558"
  },
  {
    "text": "type of logical microservices are not physically",
    "start": "1034559",
    "end": "1039798"
  },
  {
    "text": "deployed by themselves in fact most of the time in order to do any type of UI",
    "start": "1039799",
    "end": "1046760"
  },
  {
    "text": "type of work we're going to need them to be hosted together",
    "start": "1046760",
    "end": "1052919"
  },
  {
    "text": "so beyond just the hosting side of things I'm going to get back to that in a little bit I want to talk about the",
    "start": "1052919",
    "end": "1060240"
  },
  {
    "text": "data side of things so yeah you might have heard of terms like polyglot persistence that I'm kind of",
    "start": "1060240",
    "end": "1065760"
  },
  {
    "text": "illustrating over here where one microservice has a SQL database and another microservice is a sharded",
    "start": "1065760",
    "end": "1071600"
  },
  {
    "text": "database and a third one has a graph database the important thing here is that these Services own their dat data",
    "start": "1071600",
    "end": "1079640"
  },
  {
    "text": "entirely and that means a lot to actually own your data because a lot of",
    "start": "1079640",
    "end": "1084960"
  },
  {
    "text": "times there's that element as we said before okay we're not going to share a database but then we end up just sending",
    "start": "1084960",
    "end": "1092880"
  },
  {
    "text": "all of our data from one micros service to another via an API call so the fact that we're not talking through a",
    "start": "1092880",
    "end": "1099400"
  },
  {
    "text": "database but we're sending effectively all of the business data via an API call we've still shared our data we just",
    "start": "1099400",
    "end": "1106679"
  },
  {
    "text": "didn't do it via database we did it an API call so when we say that Services",
    "start": "1106679",
    "end": "1112080"
  },
  {
    "text": "own their data what that means is that the data remains encapsulated in that",
    "start": "1112080",
    "end": "1118320"
  },
  {
    "text": "service the service doesn't share that data it doesn't send it out to other",
    "start": "1118320",
    "end": "1125159"
  },
  {
    "text": "microservices and that means not by an API call not by a shared database and for those of you that are using some",
    "start": "1125159",
    "end": "1131480"
  },
  {
    "start": "1130000",
    "end": "1130000"
  },
  {
    "text": "kind of public subscribe event driven infrastructure same thing not going to",
    "start": "1131480",
    "end": "1137080"
  },
  {
    "text": "be sharing all of that data via an event mechanism so yes these types of Highly",
    "start": "1137080",
    "end": "1143440"
  },
  {
    "text": "encapsulated Services can Pub sub with each other and will need to Pub sub with each",
    "start": "1143440",
    "end": "1149799"
  },
  {
    "text": "other but be very careful about the amount of data that you're transmitting",
    "start": "1149799",
    "end": "1154919"
  },
  {
    "text": "across ideally you want to be sending nothing more than some",
    "start": "1154919",
    "end": "1160520"
  },
  {
    "text": "identifiers so an identifier maybe a date time something like that if you",
    "start": "1160520",
    "end": "1166679"
  },
  {
    "text": "start sharing data that's volatile like a price or an address",
    "start": "1166679",
    "end": "1173480"
  },
  {
    "text": "that's when you start getting into trouble and again the issue here is not about how you share it but the fact that",
    "start": "1173480",
    "end": "1179840"
  },
  {
    "text": "you're sharing it in the first place so this element of encapsulation is super",
    "start": "1179840",
    "end": "1185159"
  },
  {
    "text": "important that's the number one Touchstone of logical decoupling you",
    "start": "1185159",
    "end": "1190240"
  },
  {
    "text": "want to decouple things don't share so much stuff between them now the other",
    "start": "1190240",
    "end": "1196559"
  },
  {
    "text": "area where people kind kind of get a little bit thrown off about",
    "start": "1196559",
    "end": "1202400"
  },
  {
    "text": "microservices and this is where microservices ultimately meets the SOA done right it's not just about a single",
    "start": "1202400",
    "end": "1210080"
  },
  {
    "text": "system because what we're looking at so far might give you the impression that",
    "start": "1210080",
    "end": "1215120"
  },
  {
    "text": "we're designing microservices for system a in and of itself without taking into",
    "start": "1215120",
    "end": "1221000"
  },
  {
    "text": "account anything else in the organization but we need to take a much wider perspective the problem that we",
    "start": "1221000",
    "end": "1227679"
  },
  {
    "start": "1225000",
    "end": "1225000"
  },
  {
    "text": "have and this isn't entirely our fault this is how it as a whole is structured",
    "start": "1227679",
    "end": "1233120"
  },
  {
    "text": "is that you know your team is given a project and that project is to build one system and that's what you focus on for",
    "start": "1233120",
    "end": "1240520"
  },
  {
    "text": "the next year and a half of your life and whatever other teams and other projects are going on it's like well you",
    "start": "1240520",
    "end": "1246159"
  },
  {
    "text": "know they do their own stuff and if you need to integrate with them okay so you call their API they call your API but",
    "start": "1246159",
    "end": "1252360"
  },
  {
    "text": "really we tend to have our blinders put on in order for us to have proper and",
    "start": "1252360",
    "end": "1257679"
  },
  {
    "text": "complete data encapsulation we need to look Beyond just one system we need to",
    "start": "1257679",
    "end": "1263760"
  },
  {
    "start": "1260000",
    "end": "1260000"
  },
  {
    "text": "look across the entire Enterprise for all of the different kinds of systems that are there and often times what",
    "start": "1263760",
    "end": "1270480"
  },
  {
    "text": "we'll see is the exact same data is used and modified in a bunch of different",
    "start": "1270480",
    "end": "1276720"
  },
  {
    "text": "systems so if we're talking about price information yeah it's going to be available via mobile app and that's",
    "start": "1276720",
    "end": "1282600"
  },
  {
    "text": "going to be available in our back end and that's going to be available over a portal and that's going to be available in a key",
    "start": "1282600",
    "end": "1288679"
  },
  {
    "text": "application the same data ends up traveling across all of these",
    "start": "1288679",
    "end": "1294559"
  },
  {
    "text": "systems so if we're going to say that a service owns its own data and doesn't",
    "start": "1294559",
    "end": "1302120"
  },
  {
    "text": "want to share it then the only way that something like that's going to work is",
    "start": "1302120",
    "end": "1307760"
  },
  {
    "text": "that if our services extend beyond the boundary of a single system such that if",
    "start": "1307760",
    "end": "1315240"
  },
  {
    "text": "there's price information there is one service that owns that whether that's in the mobile app the kiosk application the",
    "start": "1315240",
    "end": "1322960"
  },
  {
    "text": "single page application the internal Oracle forms Finance thing that we've got Services as a logical",
    "start": "1322960",
    "end": "1331240"
  },
  {
    "text": "construct own their data wherever it may be even if those different systems are",
    "start": "1331240",
    "end": "1337559"
  },
  {
    "text": "written in different programming languages so it doesn't matter that the mobile app is written by iOS developers",
    "start": "1337559",
    "end": "1343960"
  },
  {
    "text": "and the portal is written by Java developers and the back end is written by doet Developers velers the focus here",
    "start": "1343960",
    "end": "1350320"
  },
  {
    "text": "is on logical ownership so as you can understand where that's leading to is that if we have a",
    "start": "1350320",
    "end": "1358679"
  },
  {
    "text": "team that is focused on a microservice then that team will likely make be made",
    "start": "1358679",
    "end": "1365120"
  },
  {
    "text": "up of developers that have Objective C knowledge net knowledge Java knowledge",
    "start": "1365120",
    "end": "1370640"
  },
  {
    "text": "JavaScript knowledge and all of them need to work together on that same business domain",
    "start": "1370640",
    "end": "1378760"
  },
  {
    "text": "now where this leads us to is kind of a very different state with regard to our",
    "start": "1378760",
    "end": "1384520"
  },
  {
    "text": "systems because after we've taken out all of those components so the part that deals with the price and the part that",
    "start": "1384520",
    "end": "1390799"
  },
  {
    "text": "deals with the address and the part that deals with the product name and image and description and inventory and the",
    "start": "1390799",
    "end": "1397039"
  },
  {
    "text": "ratings really what's left of the system in essence the system kind of",
    "start": "1397039",
    "end": "1404360"
  },
  {
    "text": "becomes this green Lego board if you will that we take a red Lego brick from the",
    "start": "1404360",
    "end": "1411600"
  },
  {
    "start": "1407000",
    "end": "1407000"
  },
  {
    "text": "red service and a blue Lego brick from the blue service and we arrange all of",
    "start": "1411600",
    "end": "1417039"
  },
  {
    "text": "these things together on that platform but that fundamentally the",
    "start": "1417039",
    "end": "1422919"
  },
  {
    "text": "system doesn't really have its own code very much all of the code is belonging",
    "start": "1422919",
    "end": "1430000"
  },
  {
    "text": "to the services the system doesn't really own its own data the data is owned by those services",
    "start": "1430000",
    "end": "1439240"
  },
  {
    "text": "and if you follow that model you'll end up with a very different style of architecture and that's actually what's",
    "start": "1439240",
    "end": "1445840"
  },
  {
    "text": "going to give you the benefit of microservices because that way when you make a change to the blue you're not",
    "start": "1445840",
    "end": "1452240"
  },
  {
    "text": "going to break the red because you're just not sharing stuff between blue and red and when when you make a change to",
    "start": "1452240",
    "end": "1457799"
  },
  {
    "text": "the red you're not going to break the yellow etc etc this is what makes doing",
    "start": "1457799",
    "end": "1463840"
  },
  {
    "text": "microservices slash service oriented architecture done right hard because ultimately it's different",
    "start": "1463840",
    "end": "1471799"
  },
  {
    "text": "from everything that we've been doing so far kind of like agile right if you want to get the",
    "start": "1471799",
    "end": "1479159"
  },
  {
    "text": "benefits of agile you got to work differently just as a quick anecdote I was at a client uh maybe a year ago that",
    "start": "1479159",
    "end": "1486880"
  },
  {
    "text": "was doing agile and I sat in in one of their standup meetings it was hilarious",
    "start": "1486880",
    "end": "1493120"
  },
  {
    "text": "everybody was standing up everybody was saying this is what I did yesterday this is what I'm going to be doing today this is what I'm blocked on but nobody was",
    "start": "1493120",
    "end": "1499880"
  },
  {
    "text": "listening to anybody else everyone's just kind of on their phones in the stand up oh my turn",
    "start": "1499880",
    "end": "1507559"
  },
  {
    "text": "yesterday I did X today I'm going to still do X I'm not blocked on anything and they went back look at me agile",
    "start": "1507559",
    "end": "1515640"
  },
  {
    "text": "right if you want to get benefits you need to do things differently the same thing with microservices a lot of this",
    "start": "1515640",
    "end": "1522279"
  },
  {
    "text": "stuff it's a fundamental architectural shift and that doesn't just happen",
    "start": "1522279",
    "end": "1529480"
  },
  {
    "text": "overnight now that's all of the microservices stuff now I want to tell",
    "start": "1529480",
    "end": "1535000"
  },
  {
    "text": "you well where this type of model kind of runs into difficulty so this model",
    "start": "1535000",
    "end": "1540760"
  },
  {
    "text": "does break down unfortunately you can have a high level of encapsulation but",
    "start": "1540760",
    "end": "1546039"
  },
  {
    "text": "invariably you'll end up with some slightly more complex business domain",
    "start": "1546039",
    "end": "1552320"
  },
  {
    "text": "where you're going to try to keep things all separate and encapsulated and not sharing data with each other and then",
    "start": "1552320",
    "end": "1558240"
  },
  {
    "text": "there's going to be the sense of but I can't I I have to send data across and",
    "start": "1558240",
    "end": "1564799"
  },
  {
    "text": "that's what I'm going to be talking about for the second half of the talk it's the where this type of",
    "start": "1564799",
    "end": "1571120"
  },
  {
    "text": "encapsulation runs into problems so starting with search who needs to do",
    "start": "1571120",
    "end": "1578120"
  },
  {
    "start": "1576000",
    "end": "1576000"
  },
  {
    "text": "search on their system yes search Okay",
    "start": "1578120",
    "end": "1584279"
  },
  {
    "text": "so the problem with search well there are multiple problems with search the biggest problem with",
    "start": "1584279",
    "end": "1590360"
  },
  {
    "text": "search is that Google has spoiled the world right the average",
    "start": "1590360",
    "end": "1597760"
  },
  {
    "text": "user picks up their phone types in some random crappy string of text that isn't",
    "start": "1597760",
    "end": "1603880"
  },
  {
    "text": "even correctly spelled and Google in subsecond time",
    "start": "1603880",
    "end": "1609200"
  },
  {
    "text": "frame knows what they meant to search for and finds the most relevant result",
    "start": "1609200",
    "end": "1614320"
  },
  {
    "text": "for them and it's just there on their phone they're like oh great once upon a time that was considered",
    "start": "1614320",
    "end": "1621880"
  },
  {
    "text": "magic Once Upon a Time people appreciated just how hard it was to do something like that but after you've",
    "start": "1621880",
    "end": "1629399"
  },
  {
    "text": "gone through that process as an end user 50 times a day for the past five years",
    "start": "1629399",
    "end": "1635640"
  },
  {
    "text": "you just kind of expect it and then they turn around to us and",
    "start": "1635640",
    "end": "1641120"
  },
  {
    "text": "say I want search we're like Okay um did I mention that I'm not",
    "start": "1641120",
    "end": "1649360"
  },
  {
    "text": "Google did I mention I don't have 20,000 engineers and 100,000 servers and a data",
    "start": "1649360",
    "end": "1656720"
  },
  {
    "text": "set from all of the users on the planet searches over the past 20",
    "start": "1656720",
    "end": "1663039"
  },
  {
    "text": "years like I'm sorry I tuned out after the part that you said Google I was looking something up on my",
    "start": "1663080",
    "end": "1669080"
  },
  {
    "text": "phone they just expect us to do that so here's a a small tip don't try to rec",
    "start": "1669080",
    "end": "1677640"
  },
  {
    "text": "create the same level of magic that Google has you're not going to succeed",
    "start": "1677640",
    "end": "1684480"
  },
  {
    "text": "so one small thing that I want you to know about search for those of you because a lot of you are trying to do search",
    "start": "1684480",
    "end": "1690440"
  },
  {
    "text": "okay understand that search is not just about the free Tech search there's this important part",
    "start": "1690440",
    "end": "1697399"
  },
  {
    "text": "called relevance if you have a data set that's large enough then your users want relevant",
    "start": "1697399",
    "end": "1703640"
  },
  {
    "text": "results not just matching results here's relevant in a nutshell 30 seconds or less what",
    "start": "1703640",
    "end": "1710519"
  },
  {
    "text": "you need to do to return relevant search results ready go every time the user",
    "start": "1710519",
    "end": "1715600"
  },
  {
    "text": "clicks a search result you need to increase the relevance of that result every time they click back and click on",
    "start": "1715600",
    "end": "1722360"
  },
  {
    "text": "a different search result you need to decrease the relevance of the previous click for all future searches anytime",
    "start": "1722360",
    "end": "1729159"
  },
  {
    "text": "they do a text search and then they change the text again you need to reduce the ranking of all of the results that",
    "start": "1729159",
    "end": "1735640"
  },
  {
    "text": "you showed them for both of those textt search results are you getting an idea of how",
    "start": "1735640",
    "end": "1742200"
  },
  {
    "text": "hard this stuff is that will give you Google as of 20",
    "start": "1742200",
    "end": "1747320"
  },
  {
    "text": "years ago in the best case all right this stuff is damn hard",
    "start": "1747320",
    "end": "1754559"
  },
  {
    "text": "now what I'm going to be talking about here is a different category of search for example a product specific search",
    "start": "1754559",
    "end": "1761919"
  },
  {
    "text": "where users want the ability to say okay I'm looking for a product let's say it's a it's a watch and I would like to see",
    "start": "1761919",
    "end": "1769960"
  },
  {
    "text": "watches with a a blue face on them I'd like to see them made out of metal uh",
    "start": "1769960",
    "end": "1775760"
  },
  {
    "text": "I'd like the price of the product to be I don't know between $100 and $200 that",
    "start": "1775760",
    "end": "1781360"
  },
  {
    "text": "kind of search now the issue that we have with this kind of search is that well now I'm",
    "start": "1781360",
    "end": "1788279"
  },
  {
    "text": "dealing with colors and I'm dealing with the metal band or the leather band or in",
    "start": "1788279",
    "end": "1793600"
  },
  {
    "text": "the in the color of the band and how much it cost and while historically I",
    "start": "1793600",
    "end": "1798840"
  },
  {
    "text": "would have said hey color is in one service and the the the manufacturer of",
    "start": "1798840",
    "end": "1804000"
  },
  {
    "text": "the watch is in another service and the price is in another service all of a sudden I got this search that needs to",
    "start": "1804000",
    "end": "1811080"
  },
  {
    "text": "operate across all of these fields now I have a problem how do I keep my up until now separate",
    "start": "1811080",
    "end": "1819240"
  },
  {
    "text": "microservices from becoming entangled again let me give you another problem",
    "start": "1819240",
    "end": "1825279"
  },
  {
    "text": "customer specific pricing so there's this new thing it's called",
    "start": "1825279",
    "end": "1831720"
  },
  {
    "text": "the internet you might have heard of it where users can't see the prices that",
    "start": "1831720",
    "end": "1838039"
  },
  {
    "text": "other users got so we can actually charge different people different prices for the same",
    "start": "1838039",
    "end": "1844320"
  },
  {
    "text": "product isn't it awesome now some of you in Europe might be saying that's against the",
    "start": "1844320",
    "end": "1850200"
  },
  {
    "text": "law which is why e-commerce goes so well in North America and you don't really",
    "start": "1850200",
    "end": "1856120"
  },
  {
    "text": "have really strong eom Commerce play in Europe or not the same level but customer specific pricing is that same",
    "start": "1856120",
    "end": "1862919"
  },
  {
    "text": "kind of thing where in the past we would have said sure a product has a price and a customer has an",
    "start": "1862919",
    "end": "1868360"
  },
  {
    "text": "address but then someone in the business says you know what customers in Oslo",
    "start": "1868360",
    "end": "1873480"
  },
  {
    "text": "they're a rich Bunch we can charge them more customers who are living on the",
    "start": "1873480",
    "end": "1880039"
  },
  {
    "text": "outskirts of Oslo we'll charge them a little bit less customers who live way up north in Norway we're going to charge",
    "start": "1880039",
    "end": "1886600"
  },
  {
    "text": "them in deer pellets so this element of saying the",
    "start": "1886600",
    "end": "1894600"
  },
  {
    "text": "customers address is now going to influence the price that we show them or for example this customer bought a lot",
    "start": "1894600",
    "end": "1901519"
  },
  {
    "text": "of stuff from us we should give them discounts to keep that Flywheel spinning",
    "start": "1901519",
    "end": "1906720"
  },
  {
    "text": "this customer hasn't really bought very much from us yet so don't give them any special discounts unless it's Easter and",
    "start": "1906720",
    "end": "1914360"
  },
  {
    "text": "then in Easter we're going to have some other kind of special PR otion that's going on once again what started out as a nice",
    "start": "1914360",
    "end": "1923000"
  },
  {
    "text": "simple separation where sure customer addresses are in service a and the product price is in service B and you",
    "start": "1923000",
    "end": "1930440"
  },
  {
    "text": "know all of that kind of very nice cleanly separated and now we get these",
    "start": "1930440",
    "end": "1935519"
  },
  {
    "text": "requirements from the business and they're saying nope sorry you got to tangle it all back up together",
    "start": "1935519",
    "end": "1940960"
  },
  {
    "text": "again I'm going to give you a third category just to make sure because everything needs to be done in threes",
    "start": "1940960",
    "end": "1947120"
  },
  {
    "text": "fraud detection fraud detection something that's very important anytime you're dealing with money and lots of",
    "start": "1947120",
    "end": "1953960"
  },
  {
    "text": "Business Systems end up dealing with money somehow so let's talk about fraud for a second fraud is one of those",
    "start": "1953960",
    "end": "1960600"
  },
  {
    "text": "really difficult types of domains where once again the business starts looking",
    "start": "1960600",
    "end": "1966080"
  },
  {
    "text": "at all sorts of weird patterns so for example it's say this customer all",
    "start": "1966080",
    "end": "1971399"
  },
  {
    "text": "they've ever bought from us is books and then one day out of the blue they're",
    "start": "1971399",
    "end": "1976720"
  },
  {
    "text": "buying a fridge now that wouldn't be so odd but",
    "start": "1976720",
    "end": "1982440"
  },
  {
    "text": "the shipping address that they've selected from the fridge is different from all of the other previous books",
    "start": "1982440",
    "end": "1989519"
  },
  {
    "text": "we've all sent them to a different address and on top of that all the IP",
    "start": "1989519",
    "end": "1995880"
  },
  {
    "text": "address that they're using for making this purchase is out of",
    "start": "1995880",
    "end": "2000840"
  },
  {
    "text": "Nigeria so we we're getting to this point where we're saying you know something weird is going on here",
    "start": "2001799",
    "end": "2007679"
  },
  {
    "text": "maybe we should flag that as a potential fraud and ask ask the customer to",
    "start": "2007679",
    "end": "2013519"
  },
  {
    "text": "approve it via two-factor authentication on their phone so whatever these types of rules",
    "start": "2013519",
    "end": "2020399"
  },
  {
    "text": "that we're dealing with fraud are again I hope you're getting that impression of we're going to get these categories of",
    "start": "2020399",
    "end": "2026120"
  },
  {
    "text": "requirements that say data that would have been nicely separated between different Services now kind of ends up",
    "start": "2026120",
    "end": "2034440"
  },
  {
    "text": "intermingled in a bunch of different places and that's really the problem with most",
    "start": "2034440",
    "end": "2040960"
  },
  {
    "text": "type of architectures is that in the beginning of the project because we're nice and agile and we want to focus on",
    "start": "2040960",
    "end": "2048118"
  },
  {
    "text": "you know you aren't going to need it just ship it focus on agile delivery we usually tend to pick the simplest",
    "start": "2048119",
    "end": "2055118"
  },
  {
    "text": "easiest requirements at the beginning of the project right and then we deliver",
    "start": "2055119",
    "end": "2061040"
  },
  {
    "text": "those and we feel good about ourselves and then we pick some more simple requirements and then we deliver those",
    "start": "2061040",
    "end": "2066440"
  },
  {
    "text": "and after after a year we finished all of the simple stuff and we're feeling good about",
    "start": "2066440",
    "end": "2072280"
  },
  {
    "text": "ourselves and then we start having to deal with these kind of more complex",
    "start": "2072280",
    "end": "2077638"
  },
  {
    "text": "ones and that's the issue that we get blindsided by this complex domain and by",
    "start": "2077639",
    "end": "2084280"
  },
  {
    "text": "that time we've already kind of put a whole bunch of puzzle pieces together and now we have just a bunch of puzzle",
    "start": "2084280",
    "end": "2090520"
  },
  {
    "text": "pieces and they just don't fit and we keep trying to kind of turn the",
    "start": "2090520",
    "end": "2095720"
  },
  {
    "text": "microservices around and say maybe if we do this and maybe if we publish that event and maybe if we do this UI",
    "start": "2095720",
    "end": "2102200"
  },
  {
    "text": "composition eventually you kind of just throw up our hands in there and say look it would be faster to write the system",
    "start": "2102200",
    "end": "2109040"
  },
  {
    "text": "from scratch than to implement these requirements on top of the existing code",
    "start": "2109040",
    "end": "2114079"
  },
  {
    "text": "base at which point in typ people saying what microservices didn't do it for you",
    "start": "2114079",
    "end": "2119280"
  },
  {
    "text": "your answer is ah the solution is",
    "start": "2119280",
    "end": "2124240"
  },
  {
    "text": "actors everything needs to run an earling that's how you build the next",
    "start": "2124800",
    "end": "2130599"
  },
  {
    "text": "whats up and get bought by Facebook for $19 billion right so how do we go and do",
    "start": "2130599",
    "end": "2136200"
  },
  {
    "text": "that next project on top of actors and earling again we pick the simplest possible",
    "start": "2136200",
    "end": "2142040"
  },
  {
    "text": "requirements and go through this process over and over and over again only this time where are my Consultants who's the",
    "start": "2142040",
    "end": "2147800"
  },
  {
    "text": "consultants in the room raise your hand if you're a consultant then we go do it at another client right we can rinse and repeat the",
    "start": "2147800",
    "end": "2156440"
  },
  {
    "text": "exact in practices over and over again only this time it needs to be written in F why because I don't have F on my",
    "start": "2156440",
    "end": "2163599"
  },
  {
    "text": "resume yet right got to stay current but we're back to the",
    "start": "2163599",
    "end": "2170640"
  },
  {
    "text": "fundamental problem that how do we build these requirements how can we prevent",
    "start": "2170640",
    "end": "2177720"
  },
  {
    "text": "creating a tightly coupled mess when the requirements seem to force us into that",
    "start": "2177720",
    "end": "2184640"
  },
  {
    "text": "position of tying everything back together again so this is not just the",
    "start": "2184640",
    "end": "2190319"
  },
  {
    "text": "talk where I say sucks doesn't it have a good conference right or I used to be",
    "start": "2190319",
    "end": "2197920"
  },
  {
    "text": "consultant if you want the answer to this question you're going to have to hire",
    "start": "2197920",
    "end": "2202760"
  },
  {
    "text": "me there is a way out and I already told you what it going",
    "start": "2203400",
    "end": "2210040"
  },
  {
    "text": "to be right at the beginning of this talk rules",
    "start": "2210040",
    "end": "2215440"
  },
  {
    "start": "2213000",
    "end": "2213000"
  },
  {
    "text": "engines now who's heard of rules engines before today okay most of you have who's used a",
    "start": "2215440",
    "end": "2222800"
  },
  {
    "text": "rules engine in the past okay fewer hands are going up keep your hand up if",
    "start": "2222800",
    "end": "2229160"
  },
  {
    "text": "you enjoyed using a rules engine okay I've got one out of a room",
    "start": "2229160",
    "end": "2235680"
  },
  {
    "text": "of maybe 300 okay you're the same one that like to do the code generation",
    "start": "2235680",
    "end": "2243359"
  },
  {
    "text": "right now the thing about these rules engines again a long time ago rules engines got",
    "start": "2245319",
    "end": "2253160"
  },
  {
    "text": "really popular and then kind of they fell out of fashion kind of like service",
    "start": "2253160",
    "end": "2258680"
  },
  {
    "text": "oriented architecture so I figure it's just about time for a rebranding of rules engines",
    "start": "2258680",
    "end": "2266079"
  },
  {
    "text": "maybe we should call them micro rules right what do you think you think",
    "start": "2266079",
    "end": "2271359"
  },
  {
    "text": "that domain is taken somebody check that for me right that's how you know how to Brand something first you check if the",
    "start": "2271359",
    "end": "2277200"
  },
  {
    "text": "domain is taken then you find out it is and then you come up with a different name right so when talking about rules",
    "start": "2277200",
    "end": "2283960"
  },
  {
    "text": "engines I want to talk about rules engines not as like a full-blown rules",
    "start": "2283960",
    "end": "2289040"
  },
  {
    "text": "IDE that you're dragging and dropping things and authoring all sorts of crappy stuff in XML and not that kind of rules",
    "start": "2289040",
    "end": "2296720"
  },
  {
    "text": "engine stuff I'm talking more at the level of design patterns so you might",
    "start": "2296720",
    "end": "2303160"
  },
  {
    "start": "2299000",
    "end": "2299000"
  },
  {
    "text": "have heard of the gang of four design patterns or patterns of enterprise applic architecture all that kind of",
    "start": "2303160",
    "end": "2308520"
  },
  {
    "text": "stuff that's what you need to think of it's a pattern of",
    "start": "2308520",
    "end": "2313800"
  },
  {
    "text": "implementation where you want to have this kind of decoupling from the rules",
    "start": "2313800",
    "end": "2320359"
  },
  {
    "text": "engine the sort of generic piece of infrastructure and the rules themselves",
    "start": "2320359",
    "end": "2327079"
  },
  {
    "text": "that are executed by that rules engine that's in a nutshell what we're talking",
    "start": "2327079",
    "end": "2332160"
  },
  {
    "text": "about here so some type of generic infrastructure that you can plug",
    "start": "2332160",
    "end": "2338920"
  },
  {
    "text": "into from different services so let's start with that search",
    "start": "2338920",
    "end": "2344760"
  },
  {
    "start": "2343000",
    "end": "2343000"
  },
  {
    "text": "that we were talking about before fundamentally the search process can be thought of as a kind of filter or a",
    "start": "2344760",
    "end": "2352599"
  },
  {
    "text": "collection of filters that gradually take different steps along the way and",
    "start": "2352599",
    "end": "2357640"
  },
  {
    "text": "say okay first thing we need to do out of all of the product IDs let's do some",
    "start": "2357640",
    "end": "2363520"
  },
  {
    "text": "free text analysis and see what are thect IDs that match that from there",
    "start": "2363520",
    "end": "2370319"
  },
  {
    "text": "let's go through a different rule which filters out the products that have the",
    "start": "2370319",
    "end": "2376800"
  },
  {
    "text": "right price or filters out the products that have the wrong price and then we go look at the brand of the product that",
    "start": "2376800",
    "end": "2383359"
  },
  {
    "text": "they've selected and then we look at the color of the product that they've selected but the thing that I want you to think about over here and that's the",
    "start": "2383359",
    "end": "2390240"
  },
  {
    "text": "important distinction is that this search engine not search service",
    "start": "2390240",
    "end": "2397520"
  },
  {
    "text": "this search engine what it does is it allows each",
    "start": "2397520",
    "end": "2402960"
  },
  {
    "text": "microservice to put a component into it and then that search engine will run",
    "start": "2402960",
    "end": "2409400"
  },
  {
    "text": "that set of rules so in terms of just regular software design imagine if there",
    "start": "2409400",
    "end": "2416040"
  },
  {
    "text": "was an ifilter product IDs interface and each of those Services",
    "start": "2416040",
    "end": "2424119"
  },
  {
    "text": "wrote a component that imp elemented I filter product IDs that's really all",
    "start": "2424119",
    "end": "2430240"
  },
  {
    "text": "that we're talking about over here a generic type of search interface that is",
    "start": "2430240",
    "end": "2436240"
  },
  {
    "text": "implemented by each one of those microservices and then we take the",
    "start": "2436240",
    "end": "2441640"
  },
  {
    "text": "component from red and the component for blue and the component from Green and the component from yellow and we put",
    "start": "2441640",
    "end": "2447319"
  },
  {
    "text": "them all in this generic search engine and that's what allows us to be",
    "start": "2447319",
    "end": "2452880"
  },
  {
    "text": "able to have this kind of search which is taking into account price and color and brand and all that kind of stuff",
    "start": "2452880",
    "end": "2460760"
  },
  {
    "text": "without creating any additional dependencies because now the thing that's dealing with price doesn't need",
    "start": "2460760",
    "end": "2466599"
  },
  {
    "text": "to know about the color and the thing that deals with the color doesn't need to know about the",
    "start": "2466599",
    "end": "2471720"
  },
  {
    "text": "brand each microservice can remain largely autonomous but again what we're",
    "start": "2471720",
    "end": "2477400"
  },
  {
    "text": "talking about here is not the whole microservice but the search component of that",
    "start": "2477400",
    "end": "2484680"
  },
  {
    "text": "service right so when you're thinking of how you end up building this kind of stuff it's one component out of that",
    "start": "2484680",
    "end": "2492839"
  },
  {
    "text": "service and once we get all of these search result IDs that kind of filter",
    "start": "2492839",
    "end": "2498000"
  },
  {
    "text": "out the very bottom of this then we can go back to the grid that we saw from",
    "start": "2498000",
    "end": "2503200"
  },
  {
    "text": "before and say great now I know these are all the product IDs that match that let's do that same UI composition from",
    "start": "2503200",
    "end": "2509920"
  },
  {
    "text": "before where we're going to have the blue service that shows the product catalog information of the images of the",
    "start": "2509920",
    "end": "2515480"
  },
  {
    "text": "book and the names of the the book and the authors of the book and we're going to have the yellow service that's showing the ratings and we're going to",
    "start": "2515480",
    "end": "2520760"
  },
  {
    "text": "have the green service which is showing the prices so that way the search engine",
    "start": "2520760",
    "end": "2527240"
  },
  {
    "text": "doesn't necessarily need in and of itself access to all of the data directly going to reiterate that the",
    "start": "2527240",
    "end": "2535440"
  },
  {
    "text": "search engine is generic and doesn't take a",
    "start": "2535440",
    "end": "2540480"
  },
  {
    "text": "dependency on all of that data all that's doing is generically calling and",
    "start": "2540480",
    "end": "2546359"
  },
  {
    "text": "looping through all of these I I filter product ID",
    "start": "2546359",
    "end": "2553240"
  },
  {
    "text": "interfaces so search check that box let's talk about customer specific",
    "start": "2553240",
    "end": "2560160"
  },
  {
    "text": "pricing we can follow that same sort of model just with a slight",
    "start": "2560160",
    "end": "2566079"
  },
  {
    "text": "twist where we have one component that provides us the list price so how much",
    "start": "2566079",
    "end": "2572800"
  },
  {
    "text": "would this product cost if there were no discounts and none of the other customer specific pricing so what we'd have here",
    "start": "2572800",
    "end": "2580640"
  },
  {
    "text": "is not a price service but a pricing engine a pricing engine that exposes",
    "start": "2580640",
    "end": "2589440"
  },
  {
    "text": "interfaces that each service can plug into so after the search uh after that",
    "start": "2589440",
    "end": "2596400"
  },
  {
    "text": "pricing engine gets that original list price from the I provide list price",
    "start": "2596400",
    "end": "2601720"
  },
  {
    "text": "interface then it Loops through all of the implementation of I provide price",
    "start": "2601720",
    "end": "2609680"
  },
  {
    "text": "Factor so what we have here is a type of model where instead of the special",
    "start": "2609680",
    "end": "2616000"
  },
  {
    "text": "offers saying okay what we're going to do is decrement the value by",
    "start": "2616000",
    "end": "2622240"
  },
  {
    "text": "X instead it's better to operate at the level of a multiplication where each of these",
    "start": "2622240",
    "end": "2628880"
  },
  {
    "text": "components is giving us a price Factor So based on the Easter special offer",
    "start": "2628880",
    "end": "2634480"
  },
  {
    "text": "that's 10% off based based on the fact that the customer lives in Oslo that's 20% more expensive the fact that this",
    "start": "2634480",
    "end": "2641640"
  },
  {
    "text": "customer has purchased a lot of stuff from us over time and they qualify for something there that's 25%",
    "start": "2641640",
    "end": "2649000"
  },
  {
    "text": "off and the nice thing about this type of multiplicative Factor it doesn't",
    "start": "2649000",
    "end": "2655599"
  },
  {
    "text": "matter which order we run the rules in right in other words if you take $10 and",
    "start": "2655599",
    "end": "2661040"
  },
  {
    "text": "then you multiply that by 0.9 and then you multiply that by 1.2 and then you multiply that by 0 .75 it doesn't matter",
    "start": "2661040",
    "end": "2667960"
  },
  {
    "text": "which order you're doing that multiplication in so once again that",
    "start": "2667960",
    "end": "2673119"
  },
  {
    "text": "pricing engine can largely be agnostic which services are providing the rules",
    "start": "2673119",
    "end": "2678520"
  },
  {
    "text": "and what are they doing in what order do those rules need to be run in so what comes out at the other end is",
    "start": "2678520",
    "end": "2684640"
  },
  {
    "text": "a price that is",
    "start": "2684640",
    "end": "2687680"
  },
  {
    "text": "$876,000 imagine that there's anybody in that company's back office that decided",
    "start": "2694960",
    "end": "2700119"
  },
  {
    "text": "that this product should really cost $8.7 but that's that customer specific",
    "start": "2700119",
    "end": "2706640"
  },
  {
    "text": "pricing in action so when looking at these types of",
    "start": "2706640",
    "end": "2713240"
  },
  {
    "text": "engines always try to think when you're designing them this is just a design pattern what is that interface that",
    "start": "2713240",
    "end": "2720079"
  },
  {
    "text": "they're going to expose and how can you set it up so that it doesn't really matter which order the rules are",
    "start": "2720079",
    "end": "2726559"
  },
  {
    "text": "executed in so that's customer specific pricing",
    "start": "2726559",
    "end": "2731800"
  },
  {
    "text": "let's talk fraud detection for a second we can do the same kind of thing where",
    "start": "2731800",
    "end": "2737240"
  },
  {
    "start": "2732000",
    "end": "2732000"
  },
  {
    "text": "there's some base fraud score that everything starts from let's say 1.0 and",
    "start": "2737240",
    "end": "2742280"
  },
  {
    "text": "then we have information about the shipping address then we can say okay if the shipping address is in Nigeria but the",
    "start": "2742280",
    "end": "2749920"
  },
  {
    "text": "customer's regular address is in Oslo Norway then that increases the fraud",
    "start": "2749920",
    "end": "2755559"
  },
  {
    "text": "score or by 200% and then we look at the credit card",
    "start": "2755559",
    "end": "2760640"
  },
  {
    "text": "information let's say where the credit card was issued and the IP address of where it's currently being used from say",
    "start": "2760640",
    "end": "2768400"
  },
  {
    "text": "okay it seems to be being used from some place in the British Isles um that is a",
    "start": "2768400",
    "end": "2775240"
  },
  {
    "text": "tax Haven so well I don't know maybe this is fraud maybe this",
    "start": "2775240",
    "end": "2781520"
  },
  {
    "text": "person just decided to move to someplace in the middle of nowhere for tax reason reasons but let's increase the fraud",
    "start": "2781520",
    "end": "2788559"
  },
  {
    "text": "score a little bit let's make that say 25% bigger and let's look at the order history what type of products have they",
    "start": "2788559",
    "end": "2795280"
  },
  {
    "text": "bought in the past what type of product are they buying now and again each",
    "start": "2795280",
    "end": "2801359"
  },
  {
    "text": "service with its own data has its own fraud",
    "start": "2801359",
    "end": "2807559"
  },
  {
    "text": "component and again it's not looking at what any of the other services are doing it's just saying based on the data that",
    "start": "2807559",
    "end": "2814200"
  },
  {
    "text": "I have how much am I going to increase or decrease this fraud score and then",
    "start": "2814200",
    "end": "2820079"
  },
  {
    "text": "what comes out at the other end is that based on all of these generic I provide",
    "start": "2820079",
    "end": "2825480"
  },
  {
    "text": "fraud multiple rules the fraud score ended up being I don't know",
    "start": "2825480",
    "end": "2832680"
  },
  {
    "text": "126 and because that number is greater than some threshold that we've defined",
    "start": "2832680",
    "end": "2838160"
  },
  {
    "text": "therefore we're going to require two Factor authentication so again what I want you",
    "start": "2838160",
    "end": "2844160"
  },
  {
    "text": "to take away from this is that even though we get requirements that say fraud pricing",
    "start": "2844160",
    "end": "2851599"
  },
  {
    "text": "search all require data for multiple Services the way that we resolve this",
    "start": "2851599",
    "end": "2857440"
  },
  {
    "text": "conflict in terms of the coupling is by recognizing that search isn't a service",
    "start": "2857440",
    "end": "2862920"
  },
  {
    "text": "that pricing isn't a service that fraud isn't a service",
    "start": "2862920",
    "end": "2868559"
  },
  {
    "text": "rather it's a composition of this generic rules engine type thing and all",
    "start": "2868559",
    "end": "2876520"
  },
  {
    "text": "of the components from all of the other services that are plugging into that",
    "start": "2876520",
    "end": "2881720"
  },
  {
    "text": "again I want to reiterate the reason why this works the reason why this holds up is that a",
    "start": "2881720",
    "end": "2888200"
  },
  {
    "text": "service isn't necessarily A runtime separately",
    "start": "2888200",
    "end": "2893359"
  },
  {
    "text": "deployed component the way you need to think about Services is they are a collection",
    "start": "2893359",
    "end": "2901400"
  },
  {
    "text": "of components where some of these components are going to be deployed together in the pricing engine and some",
    "start": "2901400",
    "end": "2907800"
  },
  {
    "text": "of these components are going to be deployed together in the search engine and some of these components are going to be deployed together in the web front",
    "start": "2907800",
    "end": "2914200"
  },
  {
    "text": "end for just doing some UI composition the service is not a unit of",
    "start": "2914200",
    "end": "2923760"
  },
  {
    "text": "deployment I said that earlier in the talk I'm saying it again a service is not your unit of",
    "start": "2923760",
    "end": "2930760"
  },
  {
    "text": "deployment you take these components from multiple services and you create",
    "start": "2930760",
    "end": "2936240"
  },
  {
    "text": "a process that is your runtime deployment the process not the",
    "start": "2936240",
    "end": "2943040"
  },
  {
    "text": "service there's this many to many relationship a given service will be deployed to multiple processes and in a",
    "start": "2943040",
    "end": "2950599"
  },
  {
    "text": "given process you're going to have components from multiple Services if you follow those two",
    "start": "2950599",
    "end": "2957960"
  },
  {
    "text": "separate degrees of freedom in your architecture you will be able to avoid creating all of that logical coupling",
    "start": "2957960",
    "end": "2964680"
  },
  {
    "text": "mess that we talked about before so just want to add some really small bits of",
    "start": "2964680",
    "end": "2971680"
  },
  {
    "text": "stuff just from the framework design perspective what you're going to want to",
    "start": "2971680",
    "end": "2977520"
  },
  {
    "text": "have in these generic engines is some code that at startup of that generic",
    "start": "2977520",
    "end": "2983640"
  },
  {
    "text": "framework e process you're going into the runtime directory of that engine and",
    "start": "2983640",
    "end": "2988839"
  },
  {
    "text": "say okay find me all of the assemblies which are over here scan each one of",
    "start": "2988839",
    "end": "2993920"
  },
  {
    "text": "those assemblies see if there there are any types in it that Implement I provide",
    "start": "2993920",
    "end": "2998960"
  },
  {
    "text": "price factor I provide fraud multiple I filter product IDs whatever that generic",
    "start": "2998960",
    "end": "3004799"
  },
  {
    "text": "interface is for that specific engine and once you have all of that",
    "start": "3004799",
    "end": "3011280"
  },
  {
    "text": "then in essence when you want to plug in more rules all you need to do effectively is to drop another assembly",
    "start": "3011280",
    "end": "3018359"
  },
  {
    "text": "in the runtime directory now you may want to add later",
    "start": "3018359",
    "end": "3023839"
  },
  {
    "text": "on some more man agement around this to say well what what rules are running in",
    "start": "3023839",
    "end": "3029760"
  },
  {
    "text": "each one of these places and that's when you start moving out of say the sort of really generic design pattern type of",
    "start": "3029760",
    "end": "3037040"
  },
  {
    "text": "world into more proper rules engines with management and the ability to turn",
    "start": "3037040",
    "end": "3043599"
  },
  {
    "text": "on or off a given rule in a given place but you don't need to start with all of",
    "start": "3043599",
    "end": "3049720"
  },
  {
    "text": "that heavyweight infrastructure it can really be as simple as a loop at startup",
    "start": "3049720",
    "end": "3055520"
  },
  {
    "text": "up scan the assembly scan the types find an interface so I hope I've given you some",
    "start": "3055520",
    "end": "3063480"
  },
  {
    "text": "idea about how that really old rules engine approach can be connected to the",
    "start": "3063480",
    "end": "3072000"
  },
  {
    "text": "more modern microservices approach and really help get rid of a lot of the coupling that we would have otherwise",
    "start": "3072000",
    "end": "3078160"
  },
  {
    "text": "had now my guess is that you still have a ton of questions and you're wondering all that sounds great but how do I do",
    "start": "3078160",
    "end": "3084960"
  },
  {
    "text": "this in my domain so if you want to find out how to find microservice boundaries",
    "start": "3084960",
    "end": "3090760"
  },
  {
    "text": "and how to combine all this stuff together I've got a five-day course and you can sign up for that my guess is",
    "start": "3090760",
    "end": "3098240"
  },
  {
    "text": "that most of you you know you got to go to NDC oo that's kind of it so what I",
    "start": "3098240",
    "end": "3105200"
  },
  {
    "text": "have is a bunch of videos from that 5-day course available at that URL go",
    "start": "3105200",
    "end": "3111440"
  },
  {
    "text": "particular.net nc17 so so go in there sign up and",
    "start": "3111440",
    "end": "3117839"
  },
  {
    "text": "you'll get videos that go through a lot of these types of patterns and practices and a lot more detail than I can cover",
    "start": "3117839",
    "end": "3125400"
  },
  {
    "text": "in just the 54 minutes that I have over here for you if you do have questions",
    "start": "3125400",
    "end": "3131319"
  },
  {
    "text": "feel free to come up and talk to me afterwards um once again my name is Udi",
    "start": "3131319",
    "end": "3136920"
  },
  {
    "text": "Dahan I'm uh on Twitter at Udi danan and uh working at particular software and we",
    "start": "3136920",
    "end": "3143559"
  },
  {
    "text": "try to make building these types of really complex Business Systems easier whether it's through these types of",
    "start": "3143559",
    "end": "3151240"
  },
  {
    "text": "talks the types of videos that we have available or infrastructure that enables",
    "start": "3151240",
    "end": "3156280"
  },
  {
    "text": "building these types of loosely coupled systems better so have a great rest of your conference thanks for having me and",
    "start": "3156280",
    "end": "3161760"
  },
  {
    "text": "have a great day [Applause] bye-bye thank you",
    "start": "3161760",
    "end": "3169920"
  }
]