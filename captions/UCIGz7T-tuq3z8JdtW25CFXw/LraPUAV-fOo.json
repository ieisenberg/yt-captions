[
  {
    "text": "[Music]",
    "start": "290",
    "end": "7080"
  },
  {
    "text": "all right hello welcome if you expected this",
    "start": "7080",
    "end": "13160"
  },
  {
    "text": "you're in the right place I'm Jonas and I'm going to talk to you about what I spend the better half of you know a year",
    "start": "13160",
    "end": "20680"
  },
  {
    "text": "doing uh which is building an operating system that runs web assembly very",
    "start": "20680",
    "end": "25720"
  },
  {
    "text": "quickly this is me I you know whatever you can read it uh favorite vampire week wolf G of ma",
    "start": "25720",
    "end": "34960"
  },
  {
    "text": "boom to the point if you forget everything that I'm",
    "start": "35079",
    "end": "42000"
  },
  {
    "text": "going to talk about right I want you to like see those two things and kind of",
    "start": "42000",
    "end": "48960"
  },
  {
    "text": "marel at it right that one and this one right that's",
    "start": "48960",
    "end": "56039"
  },
  {
    "text": "the Apollo guidance computer and this is a milk V",
    "start": "56039",
    "end": "61160"
  },
  {
    "text": "and this cost me4 and it's widely more powerful than",
    "start": "61160",
    "end": "66200"
  },
  {
    "text": "that right which I that's I I find that incredible right like insane is it's so",
    "start": "66200",
    "end": "73200"
  },
  {
    "text": "cool right there's I have a you know better picture of it so well better in some",
    "start": "73200",
    "end": "79840"
  },
  {
    "text": "regards um and you know to me like the questions really like you know why and",
    "start": "79840",
    "end": "86920"
  },
  {
    "text": "you know what what we we've seen over the years is that you know it turns out hey if I can put a thing on the moon you",
    "start": "86920",
    "end": "94600"
  },
  {
    "text": "know and it does that by itself which if you know the history didn't whatever um",
    "start": "94600",
    "end": "101920"
  },
  {
    "text": "then that's really useful right that's something that you know we want more of",
    "start": "101920",
    "end": "107479"
  },
  {
    "text": "we really want more of and we've seen that right like computers are everywhere now and",
    "start": "107479",
    "end": "112920"
  },
  {
    "text": "so the hardware designers were kind of at you know at a problem right how how",
    "start": "112920",
    "end": "118520"
  },
  {
    "text": "do we make the thing go fast faster right like I need more of what we have",
    "start": "118520",
    "end": "124280"
  },
  {
    "text": "and at the start of it that was you know making the clock speeds higher you know putting more sort of compute into the",
    "start": "124280",
    "end": "131360"
  },
  {
    "text": "same course single core scaling right the problem with that you know we quite",
    "start": "131360",
    "end": "137640"
  },
  {
    "text": "quickly reach the end of that the problem is that it's very expensive and also like heat turns out like you know",
    "start": "137640",
    "end": "143879"
  },
  {
    "text": "if you do things it heats up and what we ended up doing is you know",
    "start": "143879",
    "end": "150680"
  },
  {
    "text": "instead of doing the one thing faster we started doing a lot more of you know easier things gpus is best example right",
    "start": "150680",
    "end": "158640"
  },
  {
    "text": "and uh or simd for example and and simd is actually you know quite quite a good",
    "start": "158640",
    "end": "165239"
  },
  {
    "text": "example of of what I mean because it sucks right it's very difficult because",
    "start": "165239",
    "end": "171599"
  },
  {
    "text": "we as you know meat machines are really really bad at parel thinking right we",
    "start": "171599",
    "end": "178480"
  },
  {
    "text": "like you know sequential not it's easy I kind of think about it right I one I do one thing I do another thing instead of",
    "start": "178480",
    "end": "185400"
  },
  {
    "text": "like you know trees and and stuff like that and you know here's",
    "start": "185400",
    "end": "191159"
  },
  {
    "text": "a some science to back that up right we've seen",
    "start": "191159",
    "end": "196400"
  },
  {
    "text": "that even while you know transistor counts are linearly rising the single",
    "start": "196400",
    "end": "202200"
  },
  {
    "text": "threat performance in blue kind of plau it off right you know single scaling stad instead of you know what we do is",
    "start": "202200",
    "end": "209080"
  },
  {
    "text": "the black thing on the bottom right like we have more course we do more",
    "start": "209080",
    "end": "214200"
  },
  {
    "text": "things so that right oh and by the way if you you know have any questions or or",
    "start": "215720",
    "end": "223120"
  },
  {
    "text": "anything we have plenty of time uh I don't have that many slides so just raise your hand like I don't want to",
    "start": "223120",
    "end": "229280"
  },
  {
    "text": "like it's boring right like questions at the end boring ask away now do you have",
    "start": "229280",
    "end": "234439"
  },
  {
    "text": "any opy yes well that is the heat problem",
    "start": "234439",
    "end": "241599"
  },
  {
    "text": "right if you increase the frequency of your cores then it makes them way hotter to the point where you you really can't",
    "start": "241599",
    "end": "249079"
  },
  {
    "text": "right and we're actually what we're seeing right now is sort of we we're going back in clock speed right like",
    "start": "249079",
    "end": "254439"
  },
  {
    "text": "cores are going getting slower because we have such a big problem with heat and if you do like you",
    "start": "254439",
    "end": "260199"
  },
  {
    "text": "know memory layering and three-dimensional dice it it gets even worse right like heat is sort of the big",
    "start": "260199",
    "end": "266120"
  },
  {
    "text": "issue and and yeah clock speed is is sort of big factor of that",
    "start": "266120",
    "end": "272199"
  },
  {
    "text": "um right that another thing that sort of I care",
    "start": "272199",
    "end": "278520"
  },
  {
    "text": "about a lot and that came up is cyber security right you know I'm probably you",
    "start": "278520",
    "end": "284919"
  },
  {
    "text": "know don't really need to tell you about it but it's important and it's only like",
    "start": "284919",
    "end": "291080"
  },
  {
    "text": "be going to become more important you know as we move into like the next five",
    "start": "291080",
    "end": "297479"
  },
  {
    "text": "10 years whatever right and both of those things is kind of",
    "start": "297479",
    "end": "304240"
  },
  {
    "text": "where existing you know operating systems are kind of struggling at right",
    "start": "304240",
    "end": "310479"
  },
  {
    "text": "scheduling in operating systems is still very much stuck in the kind of like",
    "start": "310479",
    "end": "316199"
  },
  {
    "text": "symmetric multiprocessing like you have a few you know four eight big cores they",
    "start": "316199",
    "end": "322440"
  },
  {
    "text": "you know struggle with like efficiency course or what you know we we're seeing like specialized Computing units right",
    "start": "322440",
    "end": "329840"
  },
  {
    "text": "like a specialized co-processor does something or like maybe you mix like arm",
    "start": "329840",
    "end": "334880"
  },
  {
    "text": "and risk five on the samec and like have to get like the benefits of both but",
    "start": "334880",
    "end": "340039"
  },
  {
    "text": "like that is something that you know traditional like Linux for example really struggles with and then cyber",
    "start": "340039",
    "end": "346400"
  },
  {
    "text": "security like same thing right I I don't know I'm not happy with the current",
    "start": "346400",
    "end": "351520"
  },
  {
    "text": "state but that's cool right like that's very exciting that's something we can",
    "start": "351520",
    "end": "356800"
  },
  {
    "text": "solve right like that's that's a problem to be solved and this is sort of why I started that",
    "start": "356800",
    "end": "362759"
  },
  {
    "text": "right and so I realize like my left alignment is",
    "start": "362759",
    "end": "370479"
  },
  {
    "text": "kind of like I'm I'm always in the way it's great anyway um k23 that's the",
    "start": "370479",
    "end": "376039"
  },
  {
    "text": "project I've been working on uh sort of self-funded that like for the last half",
    "start": "376039",
    "end": "381319"
  },
  {
    "text": "a year um and the idea is really that we want you know I want to try",
    "start": "381319",
    "end": "389000"
  },
  {
    "text": "something that solves those problems and I really think web assembly is kind of",
    "start": "389000",
    "end": "394639"
  },
  {
    "text": "well you know yesterday I said it's both important and very unimportant at the same time but it's important because",
    "start": "394639",
    "end": "401440"
  },
  {
    "text": "essentially what web assembly allows you to do if you switch from Elf or PE right like on Windows to wasm as your binary",
    "start": "401440",
    "end": "410639"
  },
  {
    "text": "format for your programs right what you get from that is like you get more",
    "start": "410639",
    "end": "416080"
  },
  {
    "text": "knowledge about your program right like suddenly we have like defined linear memories we have tables we have like functions we can sort of all inspect",
    "start": "416080",
    "end": "423039"
  },
  {
    "text": "that we get like of course the sandboxing and then turns out like",
    "start": "423039",
    "end": "428400"
  },
  {
    "text": "having a jit compiler in like you know just at your disposal as an operating system is incredibly powerful we can do",
    "start": "428400",
    "end": "435919"
  },
  {
    "text": "stuff like you know if I'm under memory pressure I can generate code that consumes less memory right like I can",
    "start": "435919",
    "end": "441680"
  },
  {
    "text": "make my programs consume less memory or you know the example I mentioned if I have an so that has both an arm and a",
    "start": "441680",
    "end": "449199"
  },
  {
    "text": "risk five chip in it like I can you know I can just do that because I I have a compile at my disposal you know I can",
    "start": "449199",
    "end": "455879"
  },
  {
    "text": "even if like you know for example someone were to like solder a different chip on the S so on the Fly I could just",
    "start": "455879",
    "end": "462560"
  },
  {
    "text": "like generate new code if I wanted to right so having a jet compiler incredibly powerful very cool",
    "start": "462560",
    "end": "470840"
  },
  {
    "text": "and that sort of you know leads to to an architecture where",
    "start": "470840",
    "end": "478240"
  },
  {
    "text": "essentially you know you can think of it kernel like Hardware at the bottom right and then you have your lower level",
    "start": "478240",
    "end": "485039"
  },
  {
    "text": "kernel functions like virtual memory and and on top of that essentially",
    "start": "485039",
    "end": "490840"
  },
  {
    "text": "everything is web assemblying right I always sort of explain it in a way like you all are all familiar with like you",
    "start": "490840",
    "end": "496960"
  },
  {
    "text": "know traditional wasm deployment right like say like wasm time you know if your lipc",
    "start": "496960",
    "end": "504319"
  },
  {
    "text": "all your rust stuff Linux right and then drivers right and so you take that stack",
    "start": "504319",
    "end": "511520"
  },
  {
    "text": "then you just of take all the layers out right like and collapse your Stacks to",
    "start": "511520",
    "end": "517240"
  },
  {
    "text": "where it's just like the operating system is the web assembly runtime right",
    "start": "517240",
    "end": "524120"
  },
  {
    "text": "yes what do you mean",
    "start": "526680",
    "end": "530240"
  },
  {
    "text": "exactly you yes so I want to do scheduling also as a plug plugable",
    "start": "534399",
    "end": "539839"
  },
  {
    "text": "component I think that's very cool right say like normal server environment you",
    "start": "539839",
    "end": "545600"
  },
  {
    "text": "have one schedule but then you kind of move into like an rtos like real time OS situation and you just switch out the",
    "start": "545600",
    "end": "552120"
  },
  {
    "text": "schedule because it's a different component um that's something I you know I I wish I you know can try at some",
    "start": "552120",
    "end": "559519"
  },
  {
    "text": "point for sure because it's very interesting and very cool problem is that scheduling is like very deeply",
    "start": "559519",
    "end": "565519"
  },
  {
    "text": "ingrained at least like right now into like what you do right and so kind of",
    "start": "565519",
    "end": "571920"
  },
  {
    "text": "that mostly it's just hard to you know Factor it out into like a component and",
    "start": "571920",
    "end": "577600"
  },
  {
    "text": "I have a lot of like stuff to do and so that's kind of why I draw the line JW",
    "start": "577600",
    "end": "583519"
  },
  {
    "text": "the line at that point in particular like scheduling but a lot of",
    "start": "583519",
    "end": "588720"
  },
  {
    "text": "the sort of Architecture is it's sort of it's a microcon right so essentially I I",
    "start": "588720",
    "end": "596720"
  },
  {
    "text": "try to have the kernel be as Slim as possible which I you know I realiz realize it's quite funny because like",
    "start": "596720",
    "end": "602680"
  },
  {
    "text": "you know you have your very slim kernel and you put like a whole compiler into it but hey you know um the idea is to",
    "start": "602680",
    "end": "609560"
  },
  {
    "text": "have like a very thin sort of Kernel right and then everything on top of that",
    "start": "609560",
    "end": "614880"
  },
  {
    "text": "is like web assembly right as much as possible and whenever it is like feasible I want it to be web assembly if",
    "start": "614880",
    "end": "622560"
  },
  {
    "text": "it's not then maybe that's for later or for not at all the question goes down to",
    "start": "622560",
    "end": "631320"
  },
  {
    "text": "going what yes well I will I",
    "start": "634600",
    "end": "639199"
  },
  {
    "text": "will right I will I will get to that there is limitations in web",
    "start": "643000",
    "end": "648480"
  },
  {
    "text": "assembly definitely um I mean I",
    "start": "648480",
    "end": "653839"
  },
  {
    "text": "can I can also talk about it now doesn't matter whatever I like that that's this is cool",
    "start": "653839",
    "end": "660279"
  },
  {
    "text": "so what I really want right is to have even like drivers implemented in web",
    "start": "660279",
    "end": "667160"
  },
  {
    "text": "assembly which that is tricky to do mostly because like you need very like",
    "start": "667160",
    "end": "674360"
  },
  {
    "text": "tight control over the memory right like sort of I need to have like a specialized region of my virtual memory",
    "start": "674360",
    "end": "681320"
  },
  {
    "text": "that is mapped to like you know my U output or my you know whatever and right",
    "start": "681320",
    "end": "688160"
  },
  {
    "text": "now that there's no such thing in web assembly right like you just ask for a",
    "start": "688160",
    "end": "693600"
  },
  {
    "text": "linear memory and you are provided one and there's no control of like for the",
    "start": "693600",
    "end": "699480"
  },
  {
    "text": "web assembly module to tell the runtime hey I actually want this to be mapped to like a special place in in memory um and",
    "start": "699480",
    "end": "706839"
  },
  {
    "text": "then the other one is memory ordering where you need like volatile memory ordering if you do any kind of like",
    "start": "706839",
    "end": "714360"
  },
  {
    "text": "writing to memory mapped IO right so if my the memory I have and I and I want to",
    "start": "714360",
    "end": "721880"
  },
  {
    "text": "Rite to as a as a driver right that always requires like volatile",
    "start": "721880",
    "end": "728040"
  },
  {
    "text": "access because it's you know I'm just writing to a device essentially right like I'm just writing ones and zeros to",
    "start": "728040",
    "end": "733680"
  },
  {
    "text": "like wires so um the the web assem like memory",
    "start": "733680",
    "end": "739279"
  },
  {
    "text": "ordering that is sort of assumed and baked into it by default kind of like is",
    "start": "739279",
    "end": "744320"
  },
  {
    "text": "is a bit odds with that but but honestly like I'm willing to just ignore ignore",
    "start": "744320",
    "end": "749560"
  },
  {
    "text": "that right because at the end of the day like yes having this microcon is cool to",
    "start": "749560",
    "end": "757480"
  },
  {
    "text": "where everybody could be drive like writing a driver right you could be driving everybody you all could be",
    "start": "757480",
    "end": "763600"
  },
  {
    "text": "driving writing drivers for this operating system right very easy to distribute but realistically speaking",
    "start": "763600",
    "end": "770680"
  },
  {
    "text": "like who's going to do that right and the few people probably just me you know",
    "start": "770680",
    "end": "777040"
  },
  {
    "text": "forever that will actually do that just have to be careful about you know how to do it and actually sort of to get",
    "start": "777040",
    "end": "783720"
  },
  {
    "text": "to the how you get you know a linear memory that is actually ma to some specific point the way I solve that for",
    "start": "783720",
    "end": "792079"
  },
  {
    "text": "now inste of in a in a prototype is that I just have a sort of special naming",
    "start": "792079",
    "end": "797120"
  },
  {
    "text": "convention for the linear memories right like I import a specially named memory",
    "start": "797120",
    "end": "802440"
  },
  {
    "text": "from the host and then the host just knows what to do with that and then give me the right kind of memory um um not",
    "start": "802440",
    "end": "810399"
  },
  {
    "text": "awfully convenient but it works um definitely though an area where like",
    "start": "810399",
    "end": "817279"
  },
  {
    "text": "there's there's the the web assembly uh what's that memory management proposal I",
    "start": "817279",
    "end": "822920"
  },
  {
    "text": "think is called right definitely an area where like Improvement could could definitely happen",
    "start": "822920",
    "end": "829759"
  },
  {
    "text": "um all right this is more what I want right I",
    "start": "829759",
    "end": "835240"
  },
  {
    "text": "think the the future that we're moving towards right Mass m l parallel requires",
    "start": "835240",
    "end": "840920"
  },
  {
    "text": "us to also you know respond in kind in software right like make our system benefit from this kind of like many",
    "start": "840920",
    "end": "848320"
  },
  {
    "text": "cores many many many many cores and again like web assembly is quite",
    "start": "848320",
    "end": "855079"
  },
  {
    "text": "nice for that and I will I will I will get to why just you know I have a nice",
    "start": "855079",
    "end": "860759"
  },
  {
    "text": "slide that just sums this all up this is the idea basically this is the plan",
    "start": "860759",
    "end": "866320"
  },
  {
    "text": "um it's written in Rust by the way I don't like you know a lot of people like put that you know front and center I",
    "start": "866320",
    "end": "873079"
  },
  {
    "text": "don't really care about it I like Russ but it's you know a language um and one",
    "start": "873079",
    "end": "878959"
  },
  {
    "text": "thing that sort of I put in the site just this morning actually because of yesterday is debugging profiling and",
    "start": "878959",
    "end": "886639"
  },
  {
    "text": "observability which I realized you know I was always like oh you know debugging web assembly that is so",
    "start": "886639",
    "end": "892720"
  },
  {
    "text": "easy compared to like the insanity that is debugging like you know lowlevel like",
    "start": "892720",
    "end": "898240"
  },
  {
    "text": "code in qm you but I realized that it's actually you know not great but we can do much much much much better",
    "start": "898240",
    "end": "906040"
  },
  {
    "text": "and I think like [Music] one area where sort of I want to put focus with with this project is just",
    "start": "906040",
    "end": "912959"
  },
  {
    "text": "like driving debugging you know profiling all of that with web assembly",
    "start": "912959",
    "end": "918160"
  },
  {
    "text": "more because it's not only interesting for for an operating system it's like you know it's broadly useful for us as",
    "start": "918160",
    "end": "924440"
  },
  {
    "text": "an ecosystem and as a community um and then",
    "start": "924440",
    "end": "930360"
  },
  {
    "text": "yeah maybe interesting like Arch 64 uh risk 5 and x86 is the targeted you know",
    "start": "930360",
    "end": "938720"
  },
  {
    "text": "uh instructions that architectures the targeted computers um with like x86 sort",
    "start": "938720",
    "end": "944319"
  },
  {
    "text": "of being at the end because I don't really care about it um which needs to Le to",
    "start": "944319",
    "end": "952639"
  },
  {
    "text": "like this is all cool right this sounds good but you know what's the project",
    "start": "952639",
    "end": "957680"
  },
  {
    "text": "actually like right now and I made a bunch of progress over the",
    "start": "957680",
    "end": "963720"
  },
  {
    "text": "last half a year that I've worked on it full time uh you know we now have full",
    "start": "963720",
    "end": "969000"
  },
  {
    "text": "like the virtual memory subsystem you know like mapping memory getting memory",
    "start": "969000",
    "end": "974279"
  },
  {
    "text": "all of that works the the schedule is set up it's based on ASN rust right it's",
    "start": "974279",
    "end": "979480"
  },
  {
    "text": "sort of a Tokyo kind of thing not not really but",
    "start": "979480",
    "end": "986120"
  },
  {
    "text": "kind of and we also have support for Io well you know interrupts right like you",
    "start": "986120",
    "end": "992000"
  },
  {
    "text": "can subscribe to an interrupt and then async wait for it until it happens uh",
    "start": "992000",
    "end": "997279"
  },
  {
    "text": "and you can also have timers which is just an extension of interrupts but in a nice sort of package right you can wait",
    "start": "997279",
    "end": "1003480"
  },
  {
    "text": "for timeouts that's quite useful and then the sort of part that's probably interesting to you is the web assembly",
    "start": "1003480",
    "end": "1011199"
  },
  {
    "text": "engine right and that is built on cran lift",
    "start": "1011199",
    "end": "1016959"
  },
  {
    "text": "um sort of architect similar to wasm time just because it's you know the same",
    "start": "1016959",
    "end": "1022399"
  },
  {
    "text": "code generation back end and you I looked at it a whole bunch but it's sort of custom and it actually needs to be",
    "start": "1022399",
    "end": "1029600"
  },
  {
    "text": "because you do all of the like interrupts handling right and all of that is custom um and then yeah so",
    "start": "1029600",
    "end": "1039199"
  },
  {
    "text": "so almost all of wasm MVP should be supported uh except for one very",
    "start": "1039199",
    "end": "1046438"
  },
  {
    "text": "important part which is host functions that's why I'm is also saying like it should be supported because like the",
    "start": "1046439",
    "end": "1052919"
  },
  {
    "text": "test runner for the spec Suite requires host functions and I don't have them",
    "start": "1052919",
    "end": "1058679"
  },
  {
    "text": "right now and so I don't really run any tests aside from like the one I have",
    "start": "1058679",
    "end": "1064600"
  },
  {
    "text": "myself what difference between import and a function so importing from other",
    "start": "1064600",
    "end": "1069760"
  },
  {
    "text": "web assembly modules is much much easier because all of the machinery for like you know having the function pointers in",
    "start": "1069760",
    "end": "1076280"
  },
  {
    "text": "the VM context and like managing and moving those around already has to exist",
    "start": "1076280",
    "end": "1081320"
  },
  {
    "text": "anyway but if you want to import a rust function and you know from the host",
    "start": "1081320",
    "end": "1087440"
  },
  {
    "text": "environment then that requires you to like set up you know a whole like fake VM context for the r side and then do",
    "start": "1087440",
    "end": "1094880"
  },
  {
    "text": "and manage that and uh I have a prototype it's in a PR it doesn't work",
    "start": "1094880",
    "end": "1100280"
  },
  {
    "text": "yet um but you know yeah it's actually I you know was surprised myself it's like",
    "start": "1100280",
    "end": "1106880"
  },
  {
    "text": "substantially different to uh just regular WM Imports uh function Imports",
    "start": "1106880",
    "end": "1113159"
  },
  {
    "text": "um which but yeah so imports and exports linking all of that works and I will you",
    "start": "1113159",
    "end": "1119120"
  },
  {
    "text": "know get to it and show you how that actually looks in code in a demo",
    "start": "1119120",
    "end": "1124520"
  },
  {
    "text": "um but yeah so host functions missing I don't really have any drivers right now",
    "start": "1124520",
    "end": "1129919"
  },
  {
    "text": "to speak of and then a million other things right it's it's an operating system it's never done like I can I",
    "start": "1129919",
    "end": "1135000"
  },
  {
    "text": "could work on this for 100 years and not be done probably uh sorry I have this one why not um I want to I want to sort",
    "start": "1135000",
    "end": "1142480"
  },
  {
    "text": "of emphasize one thing and that sort of is important for the example I'm going",
    "start": "1142480",
    "end": "1147559"
  },
  {
    "text": "to give now which is the microcal architecture right that quite sort of naturally fults out of web asembly but I",
    "start": "1147559",
    "end": "1155200"
  },
  {
    "text": "want to you know just so we're all on the same page the idea of micr kernels right is",
    "start": "1155200",
    "end": "1161480"
  },
  {
    "text": "that as I said like you keep the kernel as thin and lightweight as possible to reduce the attack surface of the kernel",
    "start": "1161480",
    "end": "1168159"
  },
  {
    "text": "itself and then you layer the sort of modules on top of that the the the advantage of",
    "start": "1168159",
    "end": "1175520"
  },
  {
    "text": "that is that all those modules you can manage individually right like you have very",
    "start": "1175520",
    "end": "1181280"
  },
  {
    "text": "sort of tight control over what parts of your code are on your machine what gets run and then you can potentially even",
    "start": "1181280",
    "end": "1188360"
  },
  {
    "text": "sandbox them right like you have very strong isolation very high reliability that's why people like microcon the",
    "start": "1188360",
    "end": "1196240"
  },
  {
    "text": "problem with them traditionally and that's that's quite crucial the traditionally the problem with Micron is",
    "start": "1196240",
    "end": "1203400"
  },
  {
    "text": "that all of these components you know nice cool works",
    "start": "1203400",
    "end": "1209360"
  },
  {
    "text": "great but it requires message passing right like it requires the components to",
    "start": "1209360",
    "end": "1214720"
  },
  {
    "text": "send M messages like through like a you know zebus for example Linux like messages between the components and that",
    "start": "1214720",
    "end": "1223159"
  },
  {
    "text": "always requires a round trip through the kernel right if like component a wants to talk",
    "start": "1223159",
    "end": "1230480"
  },
  {
    "text": "to component B right say like hey you know I'm you know I'm a program and that's the file system right and I want",
    "start": "1230480",
    "end": "1236400"
  },
  {
    "text": "to read a file and I need to send a message to the file system to retrieve data and then it sends that back right",
    "start": "1236400",
    "end": "1243280"
  },
  {
    "text": "and that you can see why that is kind of inefficient right because it requires",
    "start": "1243280",
    "end": "1248440"
  },
  {
    "text": "like four CIS calls right like one to send the message one to send to the other program one back and like four CIS",
    "start": "1248440",
    "end": "1255640"
  },
  {
    "text": "CS versus what you would have in Linux where where it's one right and so",
    "start": "1255640",
    "end": "1260880"
  },
  {
    "text": "traditionally the problem is that that is just performance-wise not competitive you cannot get it to go fast enough like",
    "start": "1260880",
    "end": "1267640"
  },
  {
    "text": "people have tried to where it's you know good enough and I want to sort of given give",
    "start": "1267640",
    "end": "1276640"
  },
  {
    "text": "two examples of that um sort of you know more in detail because that is sort of",
    "start": "1276640",
    "end": "1282360"
  },
  {
    "text": "the the core outcome of what I've worked on and you know let's start sort of with",
    "start": "1282360",
    "end": "1288320"
  },
  {
    "text": "a quite simple example it's just like get random right I want to get a random number or fill my buffer with random",
    "start": "1288320",
    "end": "1295600"
  },
  {
    "text": "bites but it's that's just a CIS call right I asked the colonel hey can you",
    "start": "1295600",
    "end": "1301679"
  },
  {
    "text": "give me random BS Colonel's like sure yeah here you go and how that looks on a",
    "start": "1301679",
    "end": "1309000"
  },
  {
    "text": "stack right this is a stack it grows from the top stack frames so get put on",
    "start": "1309000",
    "end": "1315320"
  },
  {
    "text": "it and then at some point it reaches the bottom right you kind of fill it up from the",
    "start": "1315320",
    "end": "1321399"
  },
  {
    "text": "top on the left like in blue that's my program right and it now wants to do a c",
    "start": "1321600",
    "end": "1327400"
  },
  {
    "text": "call right it tells the colonel hey give me random bites it does that and then you know the colonel does its thing has",
    "start": "1327400",
    "end": "1333880"
  },
  {
    "text": "a separate stack for it because it needs to write like kernel stack user space stack uh it returns and now we can use a",
    "start": "1333880",
    "end": "1340240"
  },
  {
    "text": "random number right that's Linux now with web",
    "start": "1340240",
    "end": "1347080"
  },
  {
    "text": "assembly the it looks like that right we have a function and then we ask the host",
    "start": "1347080",
    "end": "1354120"
  },
  {
    "text": "hey can you give me random numbers and the host function that we just imported gets run on the same stack",
    "start": "1354120",
    "end": "1362120"
  },
  {
    "text": "right it returns we can use the random numbers more complicated",
    "start": "1362120",
    "end": "1369279"
  },
  {
    "text": "example we have a file server right that sends out files of HTTP and we have the",
    "start": "1369279",
    "end": "1374640"
  },
  {
    "text": "file system you know in a microc Coronel that would be its own component and we want to read a file from the file system",
    "start": "1374640",
    "end": "1380880"
  },
  {
    "text": "right so it's program a and program B totally different they do not trust each other you know just like random",
    "start": "1380880",
    "end": "1388360"
  },
  {
    "text": "programs in the middle we have the kernel to the right we have the file system so program a you know the web",
    "start": "1388360",
    "end": "1394679"
  },
  {
    "text": "server like okay I'm going to ask the colonel to ask the file system to give",
    "start": "1394679",
    "end": "1400520"
  },
  {
    "text": "me the file right the colonel does IPC dispatch right finds out to which program it needs to Route the request",
    "start": "1400520",
    "end": "1408559"
  },
  {
    "text": "finds the file system sends them message right then the file system does its thing you know whatever file systems do",
    "start": "1408559",
    "end": "1416039"
  },
  {
    "text": "returns IPC routing needs to go the other way then uh you know return boom",
    "start": "1416039",
    "end": "1422200"
  },
  {
    "text": "we can print our file or you know send it um now",
    "start": "1422200",
    "end": "1429000"
  },
  {
    "text": "Linux here's how that looks in you know web assemly we have a function right and",
    "start": "1429000",
    "end": "1435360"
  },
  {
    "text": "then we call out to file system",
    "start": "1435360",
    "end": "1441679"
  },
  {
    "text": "because when I have a component or a module in web assembly right I just import a function from the other program",
    "start": "1441679",
    "end": "1449799"
  },
  {
    "text": "and then I call it right and then you know we can send it",
    "start": "1449799",
    "end": "1455320"
  },
  {
    "text": "off whatever crucially this right would be insane to",
    "start": "1455320",
    "end": "1462600"
  },
  {
    "text": "do in a traditional operating system right like this is this would be wildly unsafe because I'm giving my sort of",
    "start": "1462600",
    "end": "1469880"
  },
  {
    "text": "private stack data which is usually like the most sort of relevant like the most",
    "start": "1469880",
    "end": "1475159"
  },
  {
    "text": "sort of at risk of I compromise right like the stuff I have on my stack I'm giving access of my stack to another",
    "start": "1475159",
    "end": "1482960"
  },
  {
    "text": "program right I have a random program I do not trust mess with my stack that's like",
    "start": "1482960",
    "end": "1490039"
  },
  {
    "text": "that would be insane to do but because we are webm right and the stack is",
    "start": "1490039",
    "end": "1496880"
  },
  {
    "text": "managed webm programs cannot interact with a stack at all this is fine this is",
    "start": "1496880",
    "end": "1504960"
  },
  {
    "text": "safe and the cool part about this is that you know how I told you like you",
    "start": "1504960",
    "end": "1510000"
  },
  {
    "text": "know the round trip the WM round the IPC round trip for",
    "start": "1510000",
    "end": "1515200"
  },
  {
    "text": "micronal that just goes away right because I have my program a and it wants",
    "start": "1515200",
    "end": "1522679"
  },
  {
    "text": "to do a request to another program but it just like it Imports a web assembly function and just like runs the that",
    "start": "1522679",
    "end": "1528600"
  },
  {
    "text": "function as if it were any other function right and so this is what I'm",
    "start": "1528600",
    "end": "1534039"
  },
  {
    "text": "excited about right like this is the cool part is that this is microc kernels the the Holy Grail of microc kernels",
    "start": "1534039",
    "end": "1541279"
  },
  {
    "text": "right like this is microc kernels without the performance overhead right",
    "start": "1541279",
    "end": "1546360"
  },
  {
    "text": "this is sort of what what people are chasing and it's possible again because of web",
    "start": "1546360",
    "end": "1551919"
  },
  {
    "text": "assembly more because of the jet compiler but because of web assembly right this is what I'm excited about",
    "start": "1551919",
    "end": "1560240"
  },
  {
    "text": "all right demo time want to see some actual code and on",
    "start": "1560480",
    "end": "1566360"
  },
  {
    "text": "ugly drawings yes all right I let me try",
    "start": "1566360",
    "end": "1572559"
  },
  {
    "text": "to move this to where you can actually see it and",
    "start": "1572559",
    "end": "1579919"
  },
  {
    "text": "also yes",
    "start": "1582960",
    "end": "1586960"
  },
  {
    "text": "there is probably a better way to do this I do not know the way it's all",
    "start": "1589000",
    "end": "1594039"
  },
  {
    "text": "right okay so this is the repo right and if we go into kernel and then",
    "start": "1594039",
    "end": "1601960"
  },
  {
    "text": "kernel source",
    "start": "1601960",
    "end": "1607080"
  },
  {
    "text": "wasm oh let me show you actually let me show you the web assembly first all right so the test case I'm going to show",
    "start": "1607080",
    "end": "1612679"
  },
  {
    "text": "you is it's two web assic modules right it is this one which is is a C++",
    "start": "1612679",
    "end": "1619760"
  },
  {
    "text": "Fibonacci number you know calculation function very simple that I compiled to",
    "start": "1619760",
    "end": "1625760"
  },
  {
    "text": "uh web assembly and then took out the WB from it because it's easier to manage um",
    "start": "1625760",
    "end": "1631200"
  },
  {
    "text": "you know it's this function is not really important it just does things and I can test it and then I have another",
    "start": "1631200",
    "end": "1637720"
  },
  {
    "text": "module right that I don't think I can increase the font size no uh but okay so",
    "start": "1637720",
    "end": "1644640"
  },
  {
    "text": "one function or here we import that Fibonacci function right and then we",
    "start": "1644640",
    "end": "1650720"
  },
  {
    "text": "just test it with a bunch of inputs right like we just throw numbers at it and test",
    "start": "1650720",
    "end": "1655960"
  },
  {
    "text": "it I'm I'm not sure how in I",
    "start": "1655960",
    "end": "1664240"
  },
  {
    "text": "yes better yeah so you know this is just",
    "start": "1664240",
    "end": "1669399"
  },
  {
    "text": "this is the check function right it just like calls the fibon function and then if the output is not what I expected",
    "start": "1669399",
    "end": "1674880"
  },
  {
    "text": "then it just traps right very simple and then we just test it with a whole bunch of inputs and see that actually yes it",
    "start": "1674880",
    "end": "1681399"
  },
  {
    "text": "generates the right numbers which this is very trivial but it's kind of it's exercising like the linking and the",
    "start": "1681399",
    "end": "1687840"
  },
  {
    "text": "function calling right and and all that so because I like component like real",
    "start": "1687840",
    "end": "1696360"
  },
  {
    "text": "web summary components the cool stuff isn't supported yet I have to like do",
    "start": "1696360",
    "end": "1703399"
  },
  {
    "text": "the the linking myself if I can find it",
    "start": "1703399",
    "end": "1710120"
  },
  {
    "text": "yes yeah so I hope this is I can maybe can I zoom in a bit more so here",
    "start": "1711880",
    "end": "1719200"
  },
  {
    "text": "basically we load the first module right we load it from bytes then we",
    "start": "1719200",
    "end": "1726039"
  },
  {
    "text": "instantiate it and then we Define it inside of the Linker so it's available",
    "start": "1726039",
    "end": "1731760"
  },
  {
    "text": "right and then we you know do the same thing for the second module get you know",
    "start": "1731760",
    "end": "1737679"
  },
  {
    "text": "a function fun the function from it and then you know call call the function that's sort",
    "start": "1737679",
    "end": "1745320"
  },
  {
    "text": "of the all it does right",
    "start": "1745320",
    "end": "1749880"
  },
  {
    "text": "yes no actually um it's kind of like that that was like when I raced sort of",
    "start": "1751600",
    "end": "1757840"
  },
  {
    "text": "my idea with them two years ago almost that was like part of the discussions I think kind of like led into the no SD",
    "start": "1757840",
    "end": "1764679"
  },
  {
    "text": "support now because I actually had to like the crane lift back end I had to like Port myself because uh you know it",
    "start": "1764679",
    "end": "1771600"
  },
  {
    "text": "didn't support it C like it claimed to support nod but it actually didn't not a big deal you know it's just like a port",
    "start": "1771600",
    "end": "1778760"
  },
  {
    "text": "whatever but it's kind of interesting that all of the stuff that I want to do",
    "start": "1778760",
    "end": "1784519"
  },
  {
    "text": "with was like you know the web assembly runtime is actually what was and time no",
    "start": "1784519",
    "end": "1789640"
  },
  {
    "text": "CG does not right what they do is like they do um software traps right so you",
    "start": "1789640",
    "end": "1797399"
  },
  {
    "text": "don't rely on on Hardware traps and a whole bunch of other things but kind of my the whole point you know why I want",
    "start": "1797399",
    "end": "1804320"
  },
  {
    "text": "this to be an operating system is because I want control over the hardware traps right I want that that that's what",
    "start": "1804320",
    "end": "1809440"
  },
  {
    "text": "I what I need and so in a in a funny way it's kind of like actually actually like the opposite of what I want from it but",
    "start": "1809440",
    "end": "1816840"
  },
  {
    "text": "it's good I think it's useful for for for people just not for for me",
    "start": "1816840",
    "end": "1822559"
  },
  {
    "text": "um okay so you know very simple this is all it does right defines two modules",
    "start": "1822559",
    "end": "1830679"
  },
  {
    "text": "then you know calls it and has like a call chain cool",
    "start": "1830679",
    "end": "1838480"
  },
  {
    "text": "so let's do this I big recommendation if you want to",
    "start": "1839679",
    "end": "1845200"
  },
  {
    "text": "you know try it maybe it's very easy it should be very easy to get started just clone it you need Nix because on some",
    "start": "1845200",
    "end": "1852679"
  },
  {
    "text": "Linux versions The the qmu that's in sort of the package uh repo is very",
    "start": "1852679",
    "end": "1859919"
  },
  {
    "text": "outdated and so if you want to try it use NYX because it has the versions of",
    "start": "1859919",
    "end": "1865200"
  },
  {
    "text": "qmu that actually work um you do that and then you just",
    "start": "1865200",
    "end": "1872080"
  },
  {
    "text": "type just run is that I can also make that bigger if that",
    "start": "1872080",
    "end": "1877159"
  },
  {
    "text": "helps this like that and then boom We boot it",
    "start": "1877159",
    "end": "1886440"
  },
  {
    "text": "right um I let me see I want to move the interesting stuff",
    "start": "1886440",
    "end": "1896200"
  },
  {
    "text": "up yeah so we're basically we booted into like you know a very EAS very sort",
    "start": "1897279",
    "end": "1902720"
  },
  {
    "text": "of simple debug shell uh it doesn't support you know a whole bunch of things",
    "start": "1902720",
    "end": "1909320"
  },
  {
    "text": "you can Panic the the the kernel you can crash the kernel you can shut down the",
    "start": "1909320",
    "end": "1915080"
  },
  {
    "text": "kernel but you can do one interesting thing which is execute the web assembly test that I just talked",
    "start": "1915080",
    "end": "1921880"
  },
  {
    "text": "about right if we do that what you will see is that right and and what just happened",
    "start": "1921880",
    "end": "1929880"
  },
  {
    "text": "is that you know we compiled everything here here you can see like the debug output right like this is what cran lift",
    "start": "1929880",
    "end": "1936120"
  },
  {
    "text": "generated a whole bunch of machine instructions and then you can [Music]",
    "start": "1936120",
    "end": "1941159"
  },
  {
    "text": "see sort of this is a debug dump of the VM context right that manages all the",
    "start": "1941159",
    "end": "1946760"
  },
  {
    "text": "state of your module and you know all the pointers and the function references",
    "start": "1946760",
    "end": "1952880"
  },
  {
    "text": "and then it just runs it right and one thing I'm I'm",
    "start": "1952880",
    "end": "1959600"
  },
  {
    "text": "quite sort of fascinated by as sort of you know didn't really plan for it but kind of turned out to be that way is",
    "start": "1959600",
    "end": "1966320"
  },
  {
    "text": "that this you know is all like debug mode with incredibly you know many debug",
    "start": "1966320",
    "end": "1972000"
  },
  {
    "text": "symbols and quite slow and it's still very fast to start up right like the",
    "start": "1972000",
    "end": "1977200"
  },
  {
    "text": "startup time because you're not booting a big kernel right like it's a very thin kernel you just boot into it and it's",
    "start": "1977200",
    "end": "1983399"
  },
  {
    "text": "very fast it's kind of interesting because you know web assembly is also very fast to boot right like it's like a",
    "start": "1983399",
    "end": "1989039"
  },
  {
    "text": "perfect fit it's like a fast starting system that just like from metal and",
    "start": "1989039",
    "end": "1994159"
  },
  {
    "text": "like keep in mind this is like a fully cold start right like there are no caches there's nothing you know the",
    "start": "1994159",
    "end": "1999559"
  },
  {
    "text": "compilation has to be done like from scratch and everything and yeah kind of kind of",
    "start": "1999559",
    "end": "2005279"
  },
  {
    "text": "interesting let's uh any any questions any comments so far",
    "start": "2005279",
    "end": "2012639"
  },
  {
    "text": "before I before I move on no did I did I go too fast no yes this",
    "start": "2012639",
    "end": "2021600"
  },
  {
    "text": "is this is like question what's what's stopping of a micro arure from",
    "start": "2021600",
    "end": "2030399"
  },
  {
    "text": "having separation from theal file system and sort of having a bunch of user",
    "start": "2030399",
    "end": "2038880"
  },
  {
    "text": "to each other so you know for something like reading on this right you could in",
    "start": "2038880",
    "end": "2045240"
  },
  {
    "text": "theory",
    "start": "2045240",
    "end": "2047639"
  },
  {
    "text": "right access get yeah that that's a very good",
    "start": "2054919",
    "end": "2062040"
  },
  {
    "text": "very good idea I mean totally that's one thing I think why this is kind of cool right like that you can do that right I",
    "start": "2062040",
    "end": "2068679"
  },
  {
    "text": "can give like programs similar to so what I think and we see that with like",
    "start": "2068679",
    "end": "2074599"
  },
  {
    "text": "you know Windows what I forget the name the new Windows application system where they",
    "start": "2074599",
    "end": "2081158"
  },
  {
    "text": "sandbox your app right and you get sort of your own subfolder I think we're going to move into a future what sorry",
    "start": "2081159",
    "end": "2086679"
  },
  {
    "text": "whatp yes exactly uwp yeah and we G to we're going to move into a future where",
    "start": "2086679",
    "end": "2093358"
  },
  {
    "text": "similar to IOS and Android right even on desktop your app will be",
    "start": "2093359",
    "end": "2098480"
  },
  {
    "text": "you know very siloed right like having one sort of big shared file system I",
    "start": "2098480",
    "end": "2104560"
  },
  {
    "text": "think that's sort of a relic of the past and you know we see that with Mecha as well like you know big operating systems",
    "start": "2104560",
    "end": "2110320"
  },
  {
    "text": "are already moving that way and I think it makes a lot of sense to have like you know instead of one big file system",
    "start": "2110320",
    "end": "2116480"
  },
  {
    "text": "maybe and it might be under the hood still like one big file system right but exposing that into like sort of like",
    "start": "2116480",
    "end": "2122440"
  },
  {
    "text": "bubbles of data that you can like access by you know movies or whatever yeah in a",
    "start": "2122440",
    "end": "2128240"
  },
  {
    "text": "more practical way so is there an example mical architecture ignoring web assembly where there are instances of",
    "start": "2128240",
    "end": "2135000"
  },
  {
    "text": "sort of components talking to each other strictly in user space and essentially then agreeing to do",
    "start": "2135000",
    "end": "2140480"
  },
  {
    "text": "assist right because some of the problems that the components talk have to",
    "start": "2140480",
    "end": "2146920"
  },
  {
    "text": "right yeah is there the can you do like some of consensus like",
    "start": "2146920",
    "end": "2152079"
  },
  {
    "text": "essentially do the IPC do the do the message passing and then",
    "start": "2152079",
    "end": "2158079"
  },
  {
    "text": "ESS are going to I that that's interesting I don't",
    "start": "2158079",
    "end": "2166640"
  },
  {
    "text": "know that's I've not so most of the microcon the way they sort of designed",
    "start": "2166640",
    "end": "2171760"
  },
  {
    "text": "is like a very simple server client model right where if I'm an IPC sort of",
    "start": "2171760",
    "end": "2177200"
  },
  {
    "text": "program that exposes something I'm basically a server right and I just have a function that gets called whenever I",
    "start": "2177200",
    "end": "2184000"
  },
  {
    "text": "receive messages and then the client just like you know http just send messages I don't know if I mean that",
    "start": "2184000",
    "end": "2190599"
  },
  {
    "text": "sounds interesting but you know maybe okay yeah yeah so you know I think",
    "start": "2190599",
    "end": "2199280"
  },
  {
    "text": "we are all excited about components probably and but sort of I want to emphasize that a bit that when I read",
    "start": "2199280",
    "end": "2205880"
  },
  {
    "text": "the component specification you know sort of the first draft or whatever that I saw like I was",
    "start": "2205880",
    "end": "2211319"
  },
  {
    "text": "like this is made to be an operating system right like this is well and like you can make the case that like any web",
    "start": "2211319",
    "end": "2218280"
  },
  {
    "text": "assembly runtime is sort of an operating system right in a in a way where but I was like this is made to be",
    "start": "2218280",
    "end": "2226240"
  },
  {
    "text": "an operating system and so what you can see sort of on on the side like that's one example of how an application would",
    "start": "2226240",
    "end": "2233200"
  },
  {
    "text": "kind of look right it's like you have your root application that does something useful and then you know it",
    "start": "2233200",
    "end": "2238800"
  },
  {
    "text": "might need to do like network communication it Imports like wasi sockets or wasi HTTP right it might need",
    "start": "2238800",
    "end": "2245280"
  },
  {
    "text": "to do some file system writing it Imports was FS right and under the hood",
    "start": "2245280",
    "end": "2250880"
  },
  {
    "text": "those implementations themselves go out and like import an nvme driver right like import like a time driver import",
    "start": "2250880",
    "end": "2257839"
  },
  {
    "text": "the network driver itself what's cool about that is think",
    "start": "2257839",
    "end": "2263200"
  },
  {
    "text": "about you know with Linux or any other traditional operating system when I install Theos right I get every",
    "start": "2263200",
    "end": "2271000"
  },
  {
    "text": "driver that exists right and that the maintainance like chose to compile into my distribution because I have to right",
    "start": "2271000",
    "end": "2278000"
  },
  {
    "text": "like it's like one monolithic thing but with components all I need is sort of",
    "start": "2278000",
    "end": "2283440"
  },
  {
    "text": "this base set of drivers that gets me booted and access to the network and I",
    "start": "2283440",
    "end": "2289319"
  },
  {
    "text": "can just you know fetch only the things you actually need right like in this",
    "start": "2289319",
    "end": "2294400"
  },
  {
    "text": "sort of scenario you will only ever get the drivers and the packages and like sort of all the infrastructure of your",
    "start": "2294400",
    "end": "2300119"
  },
  {
    "text": "system that you actually need for your particular Hardware right which I find that quite interesting and then of",
    "start": "2300119",
    "end": "2306960"
  },
  {
    "text": "course you know you can compose it you can like you know just import the",
    "start": "2306960",
    "end": "2312359"
  },
  {
    "text": "interface and then you know the user or the the runtime can decide which component to choose to implement that",
    "start": "2312359",
    "end": "2319800"
  },
  {
    "text": "right and at the end sort of what you see is like a micronel right and that's sort of",
    "start": "2319800",
    "end": "2326839"
  },
  {
    "text": "that's what I'm going to what I'm working towards is a microcel that has",
    "start": "2326839",
    "end": "2332119"
  },
  {
    "text": "like full nixos right like strong hash based dependent Tree Management but down",
    "start": "2332119",
    "end": "2339400"
  },
  {
    "text": "to the driver level right which that is like great for reproducible builds right",
    "start": "2339400",
    "end": "2345119"
  },
  {
    "text": "great for reliability you can just roll back and like includes the drivers and all that and yes I said like fetch only",
    "start": "2345119",
    "end": "2351599"
  },
  {
    "text": "what you need um yes I think I went quite fast how",
    "start": "2351599",
    "end": "2358480"
  },
  {
    "text": "much time do I have I don't know doesn't",
    "start": "2358480",
    "end": "2363720"
  },
  {
    "text": "matter because coffee that's it thank you and happy to",
    "start": "2364359",
    "end": "2371400"
  },
  {
    "text": "chat after as well hear your ideas yes if you want to see the GitHub then",
    "start": "2371400",
    "end": "2378359"
  },
  {
    "text": "that's there as well all right",
    "start": "2378359",
    "end": "2383318"
  }
]