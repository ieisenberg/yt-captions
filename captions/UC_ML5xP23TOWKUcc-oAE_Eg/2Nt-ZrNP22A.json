[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "websocket technology is a bi-directional full-duplex protocol for communication between the client and server over the",
    "start": "30",
    "end": "6000"
  },
  {
    "text": "web it has been standardized in 2011 and it's fully compatible with HTTP this",
    "start": "6000",
    "end": "11250"
  },
  {
    "text": "protocol enables real-time applications such as chatting notifications live feed",
    "start": "11250",
    "end": "18080"
  },
  {
    "text": "multiplayer gaming and other use cases as well in this video we will explain",
    "start": "18080",
    "end": "23189"
  },
  {
    "text": "what WebSockets are why it was invented and we will build actually an example",
    "start": "23189",
    "end": "29099"
  },
  {
    "text": "with WebSockets a client and server using WebSocket I'm gonna use node.js for that and we will also talk about the",
    "start": "29099",
    "end": "36450"
  },
  {
    "text": "pros and cons of WebSockets because let's be honest guys there is no technology that is perfect everything has a pros and cons right if",
    "start": "36450",
    "end": "43559"
  },
  {
    "text": "you new here welcome my name is russain and in this channel we discuss all sorts of software engineering by example so if",
    "start": "43559",
    "end": "49920"
  },
  {
    "text": "you're gonna become a better software engineer consider subscribing hit that Bell like and so you get notified whenever I head and you video would that",
    "start": "49920",
    "end": "57930"
  },
  {
    "text": "said let's just jump into this video guys WebSockets here's the agenda here's what we're gonna discuss before we jump",
    "start": "57930",
    "end": "65670"
  },
  {
    "text": "into any technology I like to go back and say why did we invent this thing",
    "start": "65670",
    "end": "73890"
  },
  {
    "text": "okay and that brings us back to http ok I need to talk about HTTP a little bit",
    "start": "73890",
    "end": "80490"
  },
  {
    "text": "ok I'm gonna talk about HTTP what is it ok not in details just a little bit ok",
    "start": "80490",
    "end": "86580"
  },
  {
    "text": "because well this will allow us to jump into why we have WebSockets now we're gonna discuss this concept of all",
    "start": "86580",
    "end": "93210"
  },
  {
    "text": "sockets handshake then we're gonna discuss a little bit for use case of WebSocket we're gonna",
    "start": "93210",
    "end": "98759"
  },
  {
    "text": "talk about an example some code yay gonna show some code and we're gonna",
    "start": "98759",
    "end": "105360"
  },
  {
    "text": "show you like well the pros and cons of this technology we're going to talk about these pros and cons of this",
    "start": "105360",
    "end": "110700"
  },
  {
    "text": "technology and you guys are gonna see the jump codes here under the screen where you can just go to that or minute",
    "start": "110700",
    "end": "118469"
  },
  {
    "text": "seconds to watch any of these topics that you're interested and you don't have to watch the whole thing so it's",
    "start": "118469",
    "end": "124110"
  },
  {
    "start": "120000",
    "end": "340000"
  },
  {
    "text": "really up to you ok guys why do we have we got to talk about first of all HTTP 100k he was like",
    "start": "124110",
    "end": "132050"
  },
  {
    "text": "why why are we talking about technology from 1995 very good point there was a",
    "start": "132050",
    "end": "137420"
  },
  {
    "text": "lot of while researching this video was watching a lot of videos and there is a lot of misconception and wrong",
    "start": "137420",
    "end": "143690"
  },
  {
    "text": "information okay so I just wanted to just literally just clarify some of the",
    "start": "143690",
    "end": "149450"
  },
  {
    "text": "things HTTP I know which is the first technology that was invented and there are here's what how it works okay it's",
    "start": "149450",
    "end": "155900"
  },
  {
    "text": "to the vehicles obviously guys it's built on the TCP protocol and we made another video about HTTP I'm gonna",
    "start": "155900",
    "end": "162080"
  },
  {
    "text": "reference if you want to learn more about that but in a nutshell it's built on the TCP corner when we first invented",
    "start": "162080",
    "end": "167510"
  },
  {
    "text": "this HTTP first version we said it's gonna be a request response system so",
    "start": "167510",
    "end": "174230"
  },
  {
    "text": "the client always makes a request and the server responds to that request it's",
    "start": "174230",
    "end": "180500"
  },
  {
    "text": "not the other way around okay the server doesn't just randomly send the information to that client it",
    "start": "180500",
    "end": "186020"
  },
  {
    "text": "always the client has to initiate that request and it worked great and it's still working great however when we",
    "start": "186020",
    "end": "193370"
  },
  {
    "text": "built this the first version we said okay let's be smart okay TCP is is",
    "start": "193370",
    "end": "198680"
  },
  {
    "text": "expensive it require memory it require all this descriptors to be set in the",
    "start": "198680",
    "end": "203989"
  },
  {
    "text": "server so when the client opens the TCP connection and since the first two get",
    "start": "203989",
    "end": "209540"
  },
  {
    "text": "request okay and the server responds like say hey I'm going to get the extra",
    "start": "209540",
    "end": "214970"
  },
  {
    "text": "- tml the server responds back with - - at the actual data and then what we're",
    "start": "214970",
    "end": "220340"
  },
  {
    "text": "gonna do we're gonna be smart hey we just finished a request let's close the connection and then if you wanted to make another request just go ahead and",
    "start": "220340",
    "end": "227390"
  },
  {
    "text": "open another TCP connection okay and then request the second thing you want",
    "start": "227390",
    "end": "232489"
  },
  {
    "text": "okay and now imagine guys you have an image you have a website okay with like 330",
    "start": "232489",
    "end": "239660"
  },
  {
    "text": "images and you can open and close connection for every single thing yeah",
    "start": "239660",
    "end": "244880"
  },
  {
    "text": "we just literally killed the performance okay that was quickly revised and this",
    "start": "244880",
    "end": "251750"
  },
  {
    "text": "model of opening and closing connection did not scale at all okay so we said 1:1",
    "start": "251750",
    "end": "258410"
  },
  {
    "text": "to the rescue okay and and I want to talk about one one because this is what",
    "start": "258410",
    "end": "263919"
  },
  {
    "text": "WebSockets was built on and you need that you cannot do WebSockets on one zero because of what",
    "start": "263919",
    "end": "270370"
  },
  {
    "text": "we gonna discuss now so we said we're gonna be a small about it if you're gonna make one request the first request",
    "start": "270370",
    "end": "275889"
  },
  {
    "text": "you establish a TCP connection and leave it open make all the requests under this",
    "start": "275889",
    "end": "282280"
  },
  {
    "text": "TCP connection ok do not close it unless you're absolutely done with it okay and",
    "start": "282280",
    "end": "288790"
  },
  {
    "text": "that was using the header called keep alive okay and it's gonna think",
    "start": "288790",
    "end": "293919"
  },
  {
    "text": "it's an ephemeral header so that means it cannot be propagated through the proxies okay but what happens here is",
    "start": "293919",
    "end": "299830"
  },
  {
    "text": "like you send a request you get the index.html and you find that there's images that you need to load CSS files",
    "start": "299830",
    "end": "305020"
  },
  {
    "text": "JavaScript you go ahead and request response request response and that that's great works fine",
    "start": "305020",
    "end": "311380"
  },
  {
    "text": "and we cause the connection okay this model still working fine till today but",
    "start": "311380",
    "end": "317320"
  },
  {
    "text": "there are use cases that need some real-time interaction from the server",
    "start": "317320",
    "end": "324160"
  },
  {
    "text": "there are use cases that the server needs to send me information despite me",
    "start": "324160",
    "end": "329440"
  },
  {
    "text": "not requesting it okay as a client okay and that's why we invented other",
    "start": "329440",
    "end": "334450"
  },
  {
    "text": "technologies are the before web sockets but WebSockets is became the dominant",
    "start": "334450",
    "end": "341289"
  },
  {
    "start": "340000",
    "end": "480000"
  },
  {
    "text": "one here okay let's talk about WebSockets now so what WebSockets does it is that essentially uses the HTTP 1 1",
    "start": "341289",
    "end": "349060"
  },
  {
    "text": "this is persistent TCP connection as a vehicle to send data from the client to",
    "start": "349060",
    "end": "356590"
  },
  {
    "text": "server and the server con kind they both aware of him each other that means it's",
    "start": "356590",
    "end": "361720"
  },
  {
    "text": "no longer stateless it's a stateful right because the server is aware of the client the client server the server the",
    "start": "361720",
    "end": "366880"
  },
  {
    "text": "moment this awareness happens it's a stateful ok it's as if a stateful time",
    "start": "366880",
    "end": "372100"
  },
  {
    "text": "HTTP or another on the other hand is a stateless because you don't really have this awareness you can kill the server",
    "start": "372100",
    "end": "379419"
  },
  {
    "text": "or start and the next request would just be served normally so how does web",
    "start": "379419",
    "end": "386020"
  },
  {
    "text": "circuits work the first thing happens we do the same thing right we about just send an HTTP request we do",
    "start": "386020",
    "end": "393310"
  },
  {
    "text": "the WebSocket handshake which involves a little bit of information that we're going to talk about it's still",
    "start": "393310",
    "end": "399520"
  },
  {
    "text": "HTTP requests okay an ample great request with some salt and pepper there",
    "start": "399520",
    "end": "406629"
  },
  {
    "text": "but what will happen here this handshake will first happen between the server the",
    "start": "406629",
    "end": "412060"
  },
  {
    "text": "client would say hey I would like to do a WebSocket connection if you would mind okay let's serve would say hey I don't",
    "start": "412060",
    "end": "418810"
  },
  {
    "text": "support it or hey I support it cool let's do that and then what will happen is there is no there's no order",
    "start": "418810",
    "end": "425949"
  },
  {
    "text": "it's a binary protocol this WebSockets becomes a binary protocol it's detached from HTTP okay and then it's the Wild",
    "start": "425949",
    "end": "435400"
  },
  {
    "text": "West anyone can send data to anyone the server since climate data because both",
    "start": "435400",
    "end": "442060"
  },
  {
    "text": "know of each other now they have the API access to the underlining TCP connection",
    "start": "442060",
    "end": "448599"
  },
  {
    "text": "okay with a little bit beautiful API it's not as ugly as TCP with segments",
    "start": "448599",
    "end": "454719"
  },
  {
    "text": "right so server sends permission to the client client sends information to the server client sends another stuff to the",
    "start": "454719",
    "end": "460870"
  },
  {
    "text": "server server sends back something client since that there's no order okay and the server sends twice and client",
    "start": "460870",
    "end": "468759"
  },
  {
    "text": "and server sends information concurrently who cares as well WebSockets okay and based on that",
    "start": "468759",
    "end": "475469"
  },
  {
    "text": "interactivity a lot of use cases were born okay so let's talk about a little",
    "start": "475469",
    "end": "481659"
  },
  {
    "start": "480000",
    "end": "680000"
  },
  {
    "text": "bit more about the handshake itself and when we talk about the handshake and the first thing we need to talk about is",
    "start": "481659",
    "end": "488440"
  },
  {
    "text": "this protocol which is WS which stands for WebSockets okay and if you do what",
    "start": "488440",
    "end": "494440"
  },
  {
    "text": "WebSockets on TLS then it becomes double WebSocket secure okay we talked about TLS I'm",
    "start": "494440",
    "end": "500919"
  },
  {
    "text": "gonna reference it here good go watch that video but here's what we do guys here's what makes WebSockets really",
    "start": "500919",
    "end": "507009"
  },
  {
    "text": "awesome the first requests that we make is an HTTP normal get request right that",
    "start": "507009",
    "end": "515950"
  },
  {
    "text": "means when we make that request it's an HTTP 1 1 so I mean I'm gonna",
    "start": "515950",
    "end": "522399"
  },
  {
    "text": "establish the persisted connection that we talked about but here's the special",
    "start": "522399",
    "end": "528070"
  },
  {
    "text": "thing there is an upgrade header in that in that request and that's really",
    "start": "528070",
    "end": "535160"
  },
  {
    "text": "powerful stuff okay so it's really a good request a simple request the server takes that because it's a web server we",
    "start": "535160",
    "end": "542540"
  },
  {
    "text": "talked about web server I'm gonna reference it about a lot of stuff in this channel right and it's a web server",
    "start": "542540",
    "end": "548810"
  },
  {
    "text": "so it consumes that but here's what if the server knows that there is that",
    "start": "548810",
    "end": "554450"
  },
  {
    "text": "client is trying to upgrade this one one connection to something else to WebSocket in this case the server will",
    "start": "554450",
    "end": "561380"
  },
  {
    "text": "reply either cool I'm switching the protocol and the code status code is 101",
    "start": "561380",
    "end": "568850"
  },
  {
    "text": "101 you know the status codes guys for 404 200 201 this is a special status",
    "start": "568850",
    "end": "575210"
  },
  {
    "text": "code says 101 switching protocol you cool and once we switch to the protocol",
    "start": "575210",
    "end": "580880"
  },
  {
    "text": "then we start communicating with this binary protocol so that's the handshake",
    "start": "580880",
    "end": "587089"
  },
  {
    "text": "essentially and it has to work on one one because of this persistence that we",
    "start": "587089",
    "end": "592460"
  },
  {
    "text": "talked about guys right it will never work with one zero yeah it recently I think also WebSockets work with HTTP two",
    "start": "592460",
    "end": "600260"
  },
  {
    "text": "because it's the same cancer price it's still persistent connection and we call the connection and here's a here's how",
    "start": "600260",
    "end": "607070"
  },
  {
    "text": "the actual handshake looks like right I took this from Wikipedia okay and then",
    "start": "607070",
    "end": "612470"
  },
  {
    "text": "you do a get request on for example any endpoint doesn't have to be checked you",
    "start": "612470",
    "end": "617540"
  },
  {
    "text": "can name it literally anything you want it has to be HTTP 1 1 and you say hey I'm this host you can block this host if",
    "start": "617540",
    "end": "624800"
  },
  {
    "text": "you don't want to and you want to upgrade this to WebSocket you wanna upgrade connection upgrade that's",
    "start": "624800",
    "end": "630050"
  },
  {
    "text": "special that and there's these keys right and using these keys the server",
    "start": "630050",
    "end": "635150"
  },
  {
    "text": "will take them well does some seeding and hashing and then send back a new",
    "start": "635150",
    "end": "640610"
  },
  {
    "text": "WebSocket accept ok so that it takes the value and the client will verify that",
    "start": "640610",
    "end": "646070"
  },
  {
    "text": "it's actually that server is the one who sent me that value ok this is just for",
    "start": "646070",
    "end": "652820"
  },
  {
    "text": "the server receive information from the actual client we got that what's okay and that's it okay so we receive one",
    "start": "652820",
    "end": "659570"
  },
  {
    "text": "zero one switching protocol and we're good so that's you can build your own web server or sock",
    "start": "659570",
    "end": "666889"
  },
  {
    "text": "server that does know how to deal with that but you can always use an existing",
    "start": "666889",
    "end": "673029"
  },
  {
    "text": "library that does that for you because slow tricky to do the binary protocol",
    "start": "673029",
    "end": "678949"
  },
  {
    "text": "right and use cases why do I need this duplex full duplex or whatever you",
    "start": "678949",
    "end": "686149"
  },
  {
    "start": "680000",
    "end": "870000"
  },
  {
    "text": "called it I saying why do we need that chatting right you know chatting is not",
    "start": "686149",
    "end": "691489"
  },
  {
    "text": "something great for request response it's not you're not loading a page the",
    "start": "691489",
    "end": "697549"
  },
  {
    "text": "client can receive a message like whatsapp right someone can send you a message without you requesting it right",
    "start": "697549",
    "end": "703579"
  },
  {
    "text": "you don't want to say hey is that a message for me is there a message for me is that a message for me you don't want",
    "start": "703579",
    "end": "708829"
  },
  {
    "text": "to ask for that right you want the message to get code and code pushed for",
    "start": "708829",
    "end": "713959"
  },
  {
    "text": "you when there is a message right so Channing is perfect example for this right and having the client request",
    "start": "713959",
    "end": "723019"
  },
  {
    "text": "something only to find out there there is no chat for you it's just not working okay and live feed hey I want to connect",
    "start": "723019",
    "end": "730489"
  },
  {
    "text": "to this feed and whenever there is a blog post just let me know okay or any any notification Facebook notification",
    "start": "730489",
    "end": "737589"
  },
  {
    "text": "right I'm not saying that what Facebook uses WebSockets for this but I'm saying that's one way of doing it I think",
    "start": "737589",
    "end": "743929"
  },
  {
    "text": "Google Wave when the first launches I do remember them using WebSockets and was really amazing back in 2011 right and",
    "start": "743929",
    "end": "752540"
  },
  {
    "text": "like I still remember that video and I was watching that video and they were just typing and the immediate window you",
    "start": "752540",
    "end": "759980"
  },
  {
    "text": "can see that earth-type the person once typing a message and that was really",
    "start": "759980",
    "end": "765529"
  },
  {
    "text": "mind-blowing because I know that HTTP couldn't do that obviously right so I",
    "start": "765529",
    "end": "772069"
  },
  {
    "text": "was a little worried about that multiplayer gaming obviously can build",
    "start": "772069",
    "end": "777079"
  },
  {
    "text": "gaming multiplayer game is like a multiple players they send input and the second client can receive information",
    "start": "777079",
    "end": "784789"
  },
  {
    "text": "right so here's a little bit tricky okay when you when you have multiple clients",
    "start": "784789",
    "end": "790189"
  },
  {
    "text": "connecting to one WebSocket server this whoops socket server have to maintain multiple connections multiple TCP",
    "start": "790189",
    "end": "797629"
  },
  {
    "text": "connections with each of those guys okay and I was makes it also more stateful and",
    "start": "797629",
    "end": "804810"
  },
  {
    "text": "statefulness means what guys we talked about this you cannot easily horizontally scale stateful application",
    "start": "804810",
    "end": "812260"
  },
  {
    "text": "because the moment you destroy the server all those guys just dead right",
    "start": "812260",
    "end": "817300"
  },
  {
    "text": "you can't obviously write it in a stateful way but it requires not it's not natural right you have to write more",
    "start": "817300",
    "end": "825310"
  },
  {
    "text": "code to make it stateless in order for it to horizontal scale doesn't mean that",
    "start": "825310",
    "end": "830410"
  },
  {
    "text": "it cannot horizontally scale okay show client progress log in you know when you",
    "start": "830410",
    "end": "835660"
  },
  {
    "text": "upload a file you want the server to send you updates that hey the file has",
    "start": "835660",
    "end": "841150"
  },
  {
    "text": "been 70% uploaded 80% upload or you rendering a video you like make this mp4",
    "start": "841150",
    "end": "847480"
  },
  {
    "text": "into a Jif or gif whatever party you are ok so if you upload that video you want",
    "start": "847480",
    "end": "855100"
  },
  {
    "text": "the client server to send you information about that ok so yeah you",
    "start": "855100",
    "end": "860350"
  },
  {
    "text": "can use all circuits for that you don't have to though I want you to keep that in mind WebSocket is not solution for everything",
    "start": "860350",
    "end": "867010"
  },
  {
    "text": "ok don't get attached to anything guys don't get attached to a technology called time WebSocket example here's",
    "start": "867010",
    "end": "875380"
  },
  {
    "start": "870000",
    "end": "2200000"
  },
  {
    "text": "what I want to do guys ok I want to show you an example of a raw WebSocket client server ok and to do that I'm going to do",
    "start": "875380",
    "end": "883750"
  },
  {
    "text": "it in very bare bone of people make the mistake of when they want to learn",
    "start": "883750",
    "end": "889630"
  },
  {
    "text": "WebSocket they go download some sample that has a chatty application and that's like to me at least it was like the",
    "start": "889630",
    "end": "896950"
  },
  {
    "text": "worst way to learn ok because what chatting application is not is not easy",
    "start": "896950",
    "end": "901980"
  },
  {
    "text": "to implement WebSockets because you have to have multiple array of connections",
    "start": "901980",
    "end": "907150"
  },
  {
    "text": "and all that stuff - it's not easy to understand so in my opinion I'd like to show you how this server talks to a",
    "start": "907150",
    "end": "914680"
  },
  {
    "text": "client client talk to server would with very basic stuff so we're gonna write the server and the client will be guess",
    "start": "914680",
    "end": "920560"
  },
  {
    "text": "what it will be the browser from the console window because we can write",
    "start": "920560",
    "end": "926200"
  },
  {
    "text": "JavaScript code there and beautiful dice how powerful javascript is because this",
    "start": "926200",
    "end": "932140"
  },
  {
    "text": "whoops aw it client is available it's really on your browser so I'm not gonna about it -",
    "start": "932140",
    "end": "937390"
  },
  {
    "text": "I'm not gonna let you raw forces you to write HTML code and script tags and all",
    "start": "937390",
    "end": "942850"
  },
  {
    "text": "that stuff right so we've tried to make the right as as less code as possible let's just jump into it",
    "start": "942850",
    "end": "948070"
  },
  {
    "text": "alright guys so I have Visual Studio code here because it's the best editor ever you can argue with that you want to",
    "start": "948070",
    "end": "953920"
  },
  {
    "text": "but Visual Studio code I really like it because it's very lightweight and supports a lot of scripting languages",
    "start": "953920",
    "end": "959740"
  },
  {
    "text": "Python JavaScript typescript name it alright so I like it and we're gonna",
    "start": "959740",
    "end": "965410"
  },
  {
    "text": "build our own WebSocket server okay using Visual Studio code using node.js",
    "start": "965410",
    "end": "972820"
  },
  {
    "text": "ok so again I build that so you have to install you have to have no J's and installed obviously on this machine in",
    "start": "972820",
    "end": "979899"
  },
  {
    "text": "order to build that okay so let's start with that I'm gonna start from scratch gonna obviously go to open I'm gonna",
    "start": "979899",
    "end": "986920"
  },
  {
    "text": "create a brand new folder here on my JavaScript folder here I'm gonna create let's call it web socket demo ok and",
    "start": "986920",
    "end": "997209"
  },
  {
    "text": "then just like that open and then here's what I want to do I want to create a new",
    "start": "997209",
    "end": "1002970"
  },
  {
    "text": "file called index J s okay cuz it's no",
    "start": "1002970",
    "end": "1008670"
  },
  {
    "text": "no js' right and then what else do we need let's initialize this project with NPM",
    "start": "1008670",
    "end": "1017100"
  },
  {
    "text": "so go to terminal and then literally we don't really care just do NPM - in it -",
    "start": "1017100",
    "end": "1025770"
  },
  {
    "text": "why that means hey initial initialize this project good whatever and this will create as the package - Jason we don't",
    "start": "1025770",
    "end": "1032760"
  },
  {
    "text": "really care about that this is just for us to debug okay and then here's what we want to do guys okay zoom in so you guys",
    "start": "1032760",
    "end": "1040110"
  },
  {
    "text": "can see we will create the HTTP server",
    "start": "1040110",
    "end": "1046500"
  },
  {
    "text": "and this is using the HTTP library here and that will have the persisted web",
    "start": "1046500",
    "end": "1054000"
  },
  {
    "text": "server that we talked about okay so that's the web server that we're gonna create we're gonna create a server using",
    "start": "1054000",
    "end": "1059970"
  },
  {
    "text": "this native thing okay which is the HTTP server we're gonna spin up a little bit",
    "start": "1059970",
    "end": "1065370"
  },
  {
    "text": "of me server mini web server and then take that server inject it into another",
    "start": "1065370",
    "end": "1071850"
  },
  {
    "text": "library that will allow us to do that handshake we talked about so let's do that so HTTP and here's what we do",
    "start": "1071850",
    "end": "1078810"
  },
  {
    "text": "right Const I'm gonna create HTTP server equal HTTP dot create server and that",
    "start": "1078810",
    "end": "1085070"
  },
  {
    "text": "essentially takes a request and response function and then I am going to just",
    "start": "1085070",
    "end": "1091470"
  },
  {
    "text": "literally just log it here we have received a request and we will add a",
    "start": "1091470",
    "end": "1099540"
  },
  {
    "text": "breakpoint here because here's the first call of the request will come here",
    "start": "1099540",
    "end": "1107010"
  },
  {
    "text": "because specifically if we create a well new WebSocket the first call is what guys they get upgrade remember so I want",
    "start": "1107010",
    "end": "1115140"
  },
  {
    "text": "to show you that Gator upgrade here and when we have a server we can't just listen unless you is a poor that I dare",
    "start": "1115140",
    "end": "1123420"
  },
  {
    "text": "news before I think 8080 is a free ok and then let's just say console log my",
    "start": "1123420",
    "end": "1132150"
  },
  {
    "text": "server is last inning on port 8080 don't make fun of me ok listening if it's",
    "start": "1132150",
    "end": "1140910"
  },
  {
    "text": "funny because that's when I first learned English I used to literally read this listening and it was that was funny",
    "start": "1140910",
    "end": "1147900"
  },
  {
    "text": "ok yeah laughing guys ok so that's the first thing we need to do right let's",
    "start": "1147900",
    "end": "1154320"
  },
  {
    "text": "just run it make sure it works ok obviously there's nothing a ok my server is listening that's not the WebSocket",
    "start": "1154320",
    "end": "1160470"
  },
  {
    "text": "though right guys that's not a WebSocket let's make a web socket and here's how we do it ok we're gonna do web socket",
    "start": "1160470",
    "end": "1168750"
  },
  {
    "text": "let's make it capitals because it's a class WebSocket server it will require what socket dot server okay and that",
    "start": "1168750",
    "end": "1177660"
  },
  {
    "text": "will give us the class which will have this beautiful events like sake hey if",
    "start": "1177660",
    "end": "1184710"
  },
  {
    "text": "you received a message do this if you received connection do this for you do this and all that events which makes its",
    "start": "1184710",
    "end": "1190770"
  },
  {
    "text": "tasteful obviously guys right so we have a WebSocket server is what you do next",
    "start": "1190770",
    "end": "1195950"
  },
  {
    "text": "we're gonna create web socket if I can spell it right whip socket",
    "start": "1195950",
    "end": "1203610"
  },
  {
    "text": "server and here's what it takes it takes a Jason and that Jason is HTTP server",
    "start": "1203610",
    "end": "1210929"
  },
  {
    "text": "and you pass it the HTTP server you just created is it it needs that it's just remember guys",
    "start": "1210929",
    "end": "1217500"
  },
  {
    "text": "this is just the handshake part and the messaging right we're gonna use that protocol to to actually authenticate",
    "start": "1217500",
    "end": "1225659"
  },
  {
    "text": "right do the handshake so we need to send it the HTTP server that we just use",
    "start": "1225659",
    "end": "1230940"
  },
  {
    "text": "which underneath it has a socket which has the TCP connection so we send it",
    "start": "1230940",
    "end": "1236039"
  },
  {
    "text": "that thing sweet what else what should I do next next what do you do is you have",
    "start": "1236039",
    "end": "1242190"
  },
  {
    "text": "to have an event here on request if",
    "start": "1242190",
    "end": "1247529"
  },
  {
    "text": "someone requests this WebSocket right go",
    "start": "1247529",
    "end": "1255210"
  },
  {
    "text": "ahead and call this function here's what",
    "start": "1255210",
    "end": "1260429"
  },
  {
    "text": "happens here does so the first thing we do we make this get request right and that I did which was AB upgrade it comes",
    "start": "1260429",
    "end": "1267750"
  },
  {
    "text": "here and then you decide as the server whether you want to accept this",
    "start": "1267750",
    "end": "1273000"
  },
  {
    "text": "WebSocket request from the client or not and guess what guys I'm gonna accept it I am going to accept",
    "start": "1273000",
    "end": "1281279"
  },
  {
    "text": "it because I accept everything and then let's this this parameter is interesting",
    "start": "1281279",
    "end": "1287880"
  },
  {
    "text": "you can create your own like fancy protocols like if your server supports like gaming you build like a gaming",
    "start": "1287880",
    "end": "1294840"
  },
  {
    "text": "protocol you built like a chatting protocol you can you can accept whatever the client sends you you cannot just",
    "start": "1294840",
    "end": "1302190"
  },
  {
    "text": "accept any WebSockets that that won't be secure right so you can kick you can kind of accept the things that the",
    "start": "1302190",
    "end": "1309029"
  },
  {
    "text": "client will support okay and we're gonna accept anything because it's just an example here so now okay and then the",
    "start": "1309029",
    "end": "1316710"
  },
  {
    "text": "origin here which is requested origin do you want to you can check the origin if that Rick origin is not trusted or you",
    "start": "1316710",
    "end": "1323340"
  },
  {
    "text": "don't like it you can just say yeah I don't want to accept that and here is the interesting part guys is we're gonna",
    "start": "1323340",
    "end": "1329580"
  },
  {
    "text": "get a connection of this connection okay I know people",
    "start": "1329580",
    "end": "1334820"
  },
  {
    "text": "make fun of my accents like connections and I don't know how to say connection connection okay okay so connection we",
    "start": "1334820",
    "end": "1341750"
  },
  {
    "text": "gotta get the crisis I'm gonna make this as a the cordon call global variable whatever right so let's connect really",
    "start": "1341750",
    "end": "1348590"
  },
  {
    "text": "cool now and I used let here because I'm gonna override it I cannot use Const because I'm gonna override this",
    "start": "1348590",
    "end": "1354440"
  },
  {
    "text": "literally so I'm gonna do connection equal that and that is the thing if you do connection you can add other stuff on",
    "start": "1354440",
    "end": "1362420"
  },
  {
    "text": "on open if the connection has been opened call this function right consult",
    "start": "1362420",
    "end": "1369200"
  },
  {
    "text": "the log open a little bit I think you",
    "start": "1369200",
    "end": "1375110"
  },
  {
    "text": "can read it this way guys right then if the connection is closed do this closed",
    "start": "1375110",
    "end": "1381500"
  },
  {
    "text": "right and you can do some other stuff here maybe notify the database to do",
    "start": "1381500",
    "end": "1386690"
  },
  {
    "text": "something right so you can write any function you want here you know we don't really need to do a variable in your",
    "start": "1386690",
    "end": "1392900"
  },
  {
    "text": "range and here's the most important function of M also own message if you",
    "start": "1392900",
    "end": "1399260"
  },
  {
    "text": "receive a message get me their message and here's what I want to do with this",
    "start": "1399260",
    "end": "1404360"
  },
  {
    "text": "message what are we gonna do it with the message okay I'm not fancy this message will just",
    "start": "1404360",
    "end": "1411320"
  },
  {
    "text": "literally print it right I'm gonna print whatever I receive from the client and it has to be an event guys right so",
    "start": "1411320",
    "end": "1419440"
  },
  {
    "text": "received message and then we can say",
    "start": "1419440",
    "end": "1425830"
  },
  {
    "text": "message dot I think it's called utf-8 that's something like that all right",
    "start": "1425830",
    "end": "1431510"
  },
  {
    "text": "what we'll find out okay I don't remember what the property is but we're gonna find out guys don't worry about it",
    "start": "1431510",
    "end": "1438050"
  },
  {
    "text": "do not worry about it okay and then obviously that's it I think that's it we",
    "start": "1438050",
    "end": "1446630"
  },
  {
    "text": "receive a request open closed message and that's it right and here's let's let's run let's run",
    "start": "1446630",
    "end": "1452630"
  },
  {
    "text": "that's right we got an error Kenneth find module WebSocket well Wow",
    "start": "1452630",
    "end": "1459440"
  },
  {
    "text": "what do we do guys simple NPM install",
    "start": "1459440",
    "end": "1465650"
  },
  {
    "text": "in the same folder so we can install this technology install this model for me that's one of the modules guys",
    "start": "1465650",
    "end": "1472490"
  },
  {
    "text": "there's socket IO there's other other stuff but that's that's what I saw that it's like a simplest one really it's big",
    "start": "1472490",
    "end": "1479780"
  },
  {
    "text": "though I don't know why yeah can you build your own of course you can go",
    "start": "1479780",
    "end": "1486080"
  },
  {
    "text": "ahead and try that download are the RFC and then write your own but it's up to",
    "start": "1486080",
    "end": "1494420"
  },
  {
    "text": "you if you want to write your own ok but ok let's try it I'm going to listen to 8080",
    "start": "1494420",
    "end": "1499760"
  },
  {
    "text": "and we're listening yeah our web socket server is ready guys ok let's go through",
    "start": "1499760",
    "end": "1506660"
  },
  {
    "text": "the code a little bit quick before we jump into the client and write that so we have the HTTP server which is like",
    "start": "1506660",
    "end": "1512900"
  },
  {
    "text": "the raw server ok we have the WebSocket server which allow us to do this what",
    "start": "1512900",
    "end": "1519170"
  },
  {
    "text": "the handshake right because exactly this thing right on request when I do accept",
    "start": "1519170",
    "end": "1525650"
  },
  {
    "text": "that will send back the switching protocol that we talked about and we get a connection as a result and that",
    "start": "1525650",
    "end": "1531350"
  },
  {
    "text": "connection we're going to do beautiful stuff with it and that connection we're gonna take that connection there is a",
    "start": "1531350",
    "end": "1537170"
  },
  {
    "text": "method called send and we can use it to send information from the server to the client remember guys I am in the server",
    "start": "1537170",
    "end": "1543740"
  },
  {
    "text": "here this is the server code ok let's go to the client I'm gonna create a new",
    "start": "1543740",
    "end": "1552610"
  },
  {
    "text": "page here and literally go here and then",
    "start": "1552610",
    "end": "1557930"
  },
  {
    "text": "more tools developer tools or in Firefox",
    "start": "1557930",
    "end": "1563240"
  },
  {
    "text": "you can I think called web console or something like that and here's the beauty of this thing guys since this JavaScript since WebSocket comes with",
    "start": "1563240",
    "end": "1570020"
  },
  {
    "text": "every single browser you can write this WebSocket client right there ok and I'm",
    "start": "1570020",
    "end": "1575750"
  },
  {
    "text": "not gonna bother writing HTML code let's do that okay so I'm gonna do a let ws equal new web socket guess what that's",
    "start": "1575750",
    "end": "1586160"
  },
  {
    "text": "that's how I do you do what's the protocol WS right cuz this is a web socket what's the IP err what's the",
    "start": "1586160",
    "end": "1593510"
  },
  {
    "text": "hostname it's localhost it's on the same machine what's the IP address 8080",
    "start": "1593510",
    "end": "1599240"
  },
  {
    "text": "right I was like this is the thing we're working on it's running on 8080 and then",
    "start": "1599240",
    "end": "1605300"
  },
  {
    "text": "we do that let's make sure we had all the let's make sure we have all that",
    "start": "1605300",
    "end": "1613460"
  },
  {
    "text": "breakpoints so we don't miss anything so here we wanna do hit enter first",
    "start": "1613460",
    "end": "1620150"
  },
  {
    "text": "thing we did what we got a request guys we can use that request to guess what",
    "start": "1620150",
    "end": "1628040"
  },
  {
    "text": "get the origin we have the comb search wherever the origin is that and then when I do that I accept the connection I",
    "start": "1628040",
    "end": "1635150"
  },
  {
    "text": "just got the connection now all right and then we said the events obviously",
    "start": "1635150",
    "end": "1641030"
  },
  {
    "text": "just why are the events and guess what we received it here's what I want to do",
    "start": "1641030",
    "end": "1649220"
  },
  {
    "text": "now guys I'm not gonna stop I'm not gonna stop debugging I'm gonna go back to the client and he's what I want to do",
    "start": "1649220",
    "end": "1655630"
  },
  {
    "text": "when I do WS I want to wire the events",
    "start": "1655630",
    "end": "1661910"
  },
  {
    "text": "on the client which I did not do on message if someone sends me a message I want to take that message and then guess",
    "start": "1661910",
    "end": "1670070"
  },
  {
    "text": "what I wanna print that I wanna print a message we received a message from",
    "start": "1670070",
    "end": "1676580"
  },
  {
    "text": "server and the message is that's hot by the way how do you how do you do what is",
    "start": "1676580",
    "end": "1681620"
  },
  {
    "text": "called the text which is like an inline formatting so I just want to print the",
    "start": "1681620",
    "end": "1687590"
  },
  {
    "text": "message to data I think that's why how you do it okay and if we do that nothing will happen we just were the",
    "start": "1687590",
    "end": "1693440"
  },
  {
    "text": "events who win someone from the server from the server since the client a message we should get something printed",
    "start": "1693440",
    "end": "1700700"
  },
  {
    "text": "here how about we test guys I'm gonna go to that server here and in the debug I",
    "start": "1700700",
    "end": "1706730"
  },
  {
    "text": "have access to that connection right guys I'm gonna do connection that's sent",
    "start": "1706730",
    "end": "1712360"
  },
  {
    "text": "what hello client it's me I Sarah and",
    "start": "1712360",
    "end": "1717910"
  },
  {
    "text": "then hit enter let's go back what look at that we",
    "start": "1717910",
    "end": "1726920"
  },
  {
    "text": "received a message from the server hello client it's me as of how about that guys",
    "start": "1726920",
    "end": "1733240"
  },
  {
    "text": "should we do the other thing let's do it guys let's continue continue that go",
    "start": "1733240",
    "end": "1739460"
  },
  {
    "text": "back this to the client and they say WS dot how do you do this send hello a server it's me client baby",
    "start": "1739460",
    "end": "1749350"
  },
  {
    "text": "alright and then let's make sure we have the break point we do have a break what",
    "start": "1749350",
    "end": "1757250"
  },
  {
    "text": "so this function should be called because on message right on messages the function that will be called when the",
    "start": "1757250",
    "end": "1764300"
  },
  {
    "text": "server receive the message let's receive a message and soon we sent a message and we didn't",
    "start": "1764300",
    "end": "1773360"
  },
  {
    "text": "get it what's going on so apparently I I",
    "start": "1773360",
    "end": "1779620"
  },
  {
    "text": "typed the wrong event name it's not called on message or on open or own",
    "start": "1779620",
    "end": "1785450"
  },
  {
    "text": "cause it's just message closed open right let's gonna start and let's try",
    "start": "1785450",
    "end": "1791210"
  },
  {
    "text": "again since we are restarting guys obviously that's just proves my point that is this",
    "start": "1791210",
    "end": "1796880"
  },
  {
    "text": "thing is stateful look at that there's a word stayed there okay so it's just dead",
    "start": "1796880",
    "end": "1803450"
  },
  {
    "text": "so how do we do this again it's okay just good not again let's just do it again alright so let's establish the",
    "start": "1803450",
    "end": "1811190"
  },
  {
    "text": "connection once again okay let's just do it WS OOP we go come here we forgot we",
    "start": "1811190",
    "end": "1821060"
  },
  {
    "text": "remove that connection then that just like that we have a connection now let's",
    "start": "1821060",
    "end": "1826610"
  },
  {
    "text": "do the message and then we have the log here let's go ahead and everybody used",
    "start": "1826610",
    "end": "1833780"
  },
  {
    "text": "to send hello server it's me client baby this time it should",
    "start": "1833780",
    "end": "1840920"
  },
  {
    "text": "work what look at that it immediately boom boom alright got it",
    "start": "1840920",
    "end": "1847700"
  },
  {
    "text": "and now here's what I didn't know is like what is this cold right so a message is essentially a JSON object and",
    "start": "1847700",
    "end": "1854780"
  },
  {
    "text": "there is something called dot utf-8 data okay so that's what we sent utf-8 data",
    "start": "1854780",
    "end": "1861170"
  },
  {
    "text": "so we can do dot u TF u TF",
    "start": "1861170",
    "end": "1866870"
  },
  {
    "text": "eight data okay so now if I do this it should just print it okay let's get",
    "start": "1866870",
    "end": "1872720"
  },
  {
    "text": "started one more time one more time right one more time guys we're getting deep we're",
    "start": "1872720",
    "end": "1879320"
  },
  {
    "text": "gonna get it alright who requests except that request let's do this again",
    "start": "1879320",
    "end": "1886240"
  },
  {
    "text": "did my the message on the client and then how about we clear this and then",
    "start": "1886240",
    "end": "1893570"
  },
  {
    "text": "soon and we get it we print it and there you go we have the message here",
    "start": "1893570",
    "end": "1898910"
  },
  {
    "text": "received message from the client it's make live baby alright guys so here's what I want to do now okay I want you",
    "start": "1898910",
    "end": "1905300"
  },
  {
    "text": "can you know you can take this and run with it right the trick here is the connection if you want to build a",
    "start": "1905300",
    "end": "1911990"
  },
  {
    "text": "chatting application you have to build an hour array of connection and every time a client comes you add it to this",
    "start": "1911990",
    "end": "1917960"
  },
  {
    "text": "array you push this connection to an array and then you start maintaining these states of connections pool of",
    "start": "1917960",
    "end": "1924020"
  },
  {
    "text": "connections and then every time someone sends a message you can send the group message back to all the connections okay",
    "start": "1924020",
    "end": "1929750"
  },
  {
    "text": "so we cancel build something like that I'd rather build it in another video and we focus on just the raw WebSockets here",
    "start": "1929750",
    "end": "1936680"
  },
  {
    "text": "I want you to understand that it's a connection you can send information from both states okay and let's build one",
    "start": "1936680",
    "end": "1944510"
  },
  {
    "text": "more function here I want to build this I want to configure the server to send a message to the client every five second",
    "start": "1944510",
    "end": "1951830"
  },
  {
    "text": "like a random number so how do I do that okay so I want to build a function like stop this function function send every",
    "start": "1951830",
    "end": "1963710"
  },
  {
    "text": "five seconds okay and then here's what I wanna do I want to literally do",
    "start": "1963710",
    "end": "1972470"
  },
  {
    "text": "connection that's in and then message I'm gonna send a message and then math",
    "start": "1972470",
    "end": "1978770"
  },
  {
    "text": "dot random literally any random number I just want to send a message to this to",
    "start": "1978770",
    "end": "1984230"
  },
  {
    "text": "the client okay I don't know this could be logging this could be anything you want right so we're sending the connection to the",
    "start": "1984230",
    "end": "1990740"
  },
  {
    "text": "server the clients messages right all the time after I've every so how do we do that it",
    "start": "1990740",
    "end": "1996830"
  },
  {
    "text": "said timeout yeah and let's really just call yourself every 5,000 milliseconds and I said",
    "start": "1996830",
    "end": "2004660"
  },
  {
    "text": "that's it but this function is never called so after a connection is accepted",
    "start": "2004660",
    "end": "2010060"
  },
  {
    "text": "go ahead and call this function which will always send a message to the client",
    "start": "2010060",
    "end": "2015480"
  },
  {
    "text": "let's do this again guys so guys can we build application that havoc a decent",
    "start": "2015480",
    "end": "2021520"
  },
  {
    "text": "client our client is lame but you can't you get the idea right you can't build a",
    "start": "2021520",
    "end": "2026890"
  },
  {
    "text": "script that actually does exactly what we're writing I just want I don't want to write a lot of code I try to minimize",
    "start": "2026890",
    "end": "2033880"
  },
  {
    "text": "the number of code that we write okay obviously this thing is broken now write",
    "start": "2033880",
    "end": "2038980"
  },
  {
    "text": "the ready state is 3 we need to establish a brand new shiny object go",
    "start": "2038980",
    "end": "2044860"
  },
  {
    "text": "ahead and write that and now the client by the way the server started sending us",
    "start": "2044860",
    "end": "2049898"
  },
  {
    "text": "messages but we cannot receive them you know why guys because we didn't wire the own message event here",
    "start": "2049899",
    "end": "2055300"
  },
  {
    "text": "that's what confused me on messages in the client right on the servers don't call them message just called message",
    "start": "2055300",
    "end": "2061030"
  },
  {
    "text": "okay yep let's do this now yep",
    "start": "2061030",
    "end": "2066220"
  },
  {
    "text": "we got a message we received message from server a message function random yikes I know what's going on here guys",
    "start": "2066220",
    "end": "2072820"
  },
  {
    "text": "we're sending that entire function Jason all right let's fix this yeah I forgot",
    "start": "2072820",
    "end": "2080350"
  },
  {
    "text": "to invoke the function you know the difference guys right I am sending literally the string defied",
    "start": "2080350",
    "end": "2086500"
  },
  {
    "text": "jason of the function right i didn't invoke the random function to give me a",
    "start": "2086500",
    "end": "2094120"
  },
  {
    "text": "random number I literally just sent of the function which was dumb okay guys let's do this",
    "start": "2094120",
    "end": "2101860"
  },
  {
    "text": "again by the way guys I'm gonna make the code available so don't worry about having to pause the video right but yeah",
    "start": "2101860",
    "end": "2110350"
  },
  {
    "text": "we receive the message except that let's go ahead and accept it wire the message and there you go one",
    "start": "2110350",
    "end": "2119200"
  },
  {
    "text": "two three four five five there you go one two three four and five all right",
    "start": "2119200",
    "end": "2127660"
  },
  {
    "text": "guys okay you got the idea guys so you can we send something in there to the server",
    "start": "2127660",
    "end": "2132790"
  },
  {
    "text": "while we're doing this hello babes you get on that can right",
    "start": "2132790",
    "end": "2140960"
  },
  {
    "text": "yeah sure we can receive message just remove these break points and you can see that babes receive a message we send",
    "start": "2140960",
    "end": "2148410"
  },
  {
    "text": "another babe message we can get it here right we get the messages and this it's",
    "start": "2148410",
    "end": "2154500"
  },
  {
    "text": "a two-way communication between a client and server so now guys if you want to build like multiple clients one server",
    "start": "2154500",
    "end": "2161609"
  },
  {
    "text": "you gotta you can always do that right okay our server currently does not support",
    "start": "2161609",
    "end": "2168960"
  },
  {
    "text": "multiple client if you do it will accept it but it's gonna be very bad because we're we're having just one variable one",
    "start": "2168960",
    "end": "2176640"
  },
  {
    "text": "object maintaining the connection and whoever lasts twins essentially and you're gonna leak stuff and it's it's",
    "start": "2176640",
    "end": "2183420"
  },
  {
    "text": "really bad yeah if you close the connection obviously let's try that close the connection is that how you do",
    "start": "2183420",
    "end": "2189000"
  },
  {
    "text": "it close and if you close essentially close and you know what how this what",
    "start": "2189000",
    "end": "2196079"
  },
  {
    "text": "happened are you right we called this function essentially okay sweet guys",
    "start": "2196079",
    "end": "2202220"
  },
  {
    "start": "2200000",
    "end": "2530000"
  },
  {
    "text": "let's go back and talk about pros and cons alright guys we'll learn about WebSockets we saw an example now we need",
    "start": "2202220",
    "end": "2212430"
  },
  {
    "text": "to learn about this pros and cons with this technology because there's nothing perfect there's always pros and cons",
    "start": "2212430",
    "end": "2217529"
  },
  {
    "text": "yeah so what's bad about this what's good about this what's good about this pros its full duplex so if you are",
    "start": "2217529",
    "end": "2225480"
  },
  {
    "text": "building an application that requires the server to send you updates okay you",
    "start": "2225480",
    "end": "2231210"
  },
  {
    "text": "do not need to do polling essentially and you don't need to ask the server hey server do you have this do you have",
    "start": "2231210",
    "end": "2237690"
  },
  {
    "text": "this do you have this do you have this are we there yet are we there yet you don't you don't have to do that and",
    "start": "2237690",
    "end": "2242700"
  },
  {
    "text": "that's it you have to do that which HTTP with this gt3 because it's a request",
    "start": "2242700",
    "end": "2247799"
  },
  {
    "text": "response system right full duplex on the other hand you don't have to server can",
    "start": "2247799",
    "end": "2253380"
  },
  {
    "text": "send you information client can send you information right and you can build it for gaming and you can build really cool",
    "start": "2253380",
    "end": "2260490"
  },
  {
    "text": "apps with this technology it's HTTP compatible because of the upgrade header without that proxies will fail",
    "start": "2260490",
    "end": "2268259"
  },
  {
    "text": "things can go bad nobody can know this is actually a WebSocket right if you",
    "start": "2268259",
    "end": "2273329"
  },
  {
    "text": "started just creating a socket right and then sending binding on information the",
    "start": "2273329",
    "end": "2279930"
  },
  {
    "text": "the fire will start blocking this is like what the heck is this right what are you sending me right but because it",
    "start": "2279930",
    "end": "2286589"
  },
  {
    "text": "started with an upgrade with an legette HTTP request and then we upgraded it to",
    "start": "2286589",
    "end": "2292109"
  },
  {
    "text": "a WebSocket that kind of passes all the Internet infrastructure and a wolf should should",
    "start": "2292109",
    "end": "2300329"
  },
  {
    "text": "work with the wood anything right there are problems there but we're going to",
    "start": "2300329",
    "end": "2305369"
  },
  {
    "text": "talk about it it's far for flimsy because it's a standard HT HT DB it's",
    "start": "2305369",
    "end": "2310799"
  },
  {
    "text": "only 443 or 80 well you can listen an onion on the report and that's how HTTP",
    "start": "2310799",
    "end": "2316229"
  },
  {
    "text": "works right HTTP web server you can listen to any port you want but usually",
    "start": "2316229",
    "end": "2321660"
  },
  {
    "text": "it's just 40 if it's just 40 usually it's 80 when it's insecure its 443 when",
    "start": "2321660",
    "end": "2329849"
  },
  {
    "text": "it's secure okay and what else oh we",
    "start": "2329849",
    "end": "2336749"
  },
  {
    "text": "already a lot of good things I can probably think of more good things I",
    "start": "2336749",
    "end": "2342210"
  },
  {
    "text": "just didn't add it cons proxying is very tricky guys nginx just recently started",
    "start": "2342210",
    "end": "2348869"
  },
  {
    "text": "adding this to the to its socket support right it's it's real tricky to know that",
    "start": "2348869",
    "end": "2355200"
  },
  {
    "text": "hey you're you're you're receiving a WebSocket request and you have to do",
    "start": "2355200",
    "end": "2361589"
  },
  {
    "text": "like HTTP upgrade and the client the server has to respond to the hdbo",
    "start": "2361589",
    "end": "2366960"
  },
  {
    "text": "especially if it's the proxy is the layer 7 proxy because you know we talked",
    "start": "2366960",
    "end": "2372119"
  },
  {
    "text": "about layer 7 and layer for load balancing and proxying guys and we reference the video here and what",
    "start": "2372119",
    "end": "2378150"
  },
  {
    "text": "happens essentially wood layer 7 is proxy has to break the TLS right it has",
    "start": "2378150",
    "end": "2384150"
  },
  {
    "text": "to terminate the TLS most of the time in order to look at the layer 7 ADA which",
    "start": "2384150",
    "end": "2390180"
  },
  {
    "text": "is HTTP and the moment it does that it has to create its own TCP connection",
    "start": "2390180",
    "end": "2395549"
  },
  {
    "text": "with the destination server and God knows how you can handle this",
    "start": "2395549",
    "end": "2401070"
  },
  {
    "text": "whoops socket and because there will be a bi-directional between the proxy and the server and then a another",
    "start": "2401070",
    "end": "2406980"
  },
  {
    "text": "y-direction between the client and and the proxy is just a mess right okay so I",
    "start": "2406980",
    "end": "2413400"
  },
  {
    "text": "really recommend just doing a layer for load balancer or proxying and just never",
    "start": "2413400",
    "end": "2419700"
  },
  {
    "text": "worrying about it okay yeah layer seven load balancing is very challenging dealing with timeouts",
    "start": "2419700",
    "end": "2426030"
  },
  {
    "text": "because proxy HTTP or normally have our timeouts right server timeout okay but",
    "start": "2426030",
    "end": "2432950"
  },
  {
    "text": "OOP socket shouldn't have timeouts because you're using the connection yes",
    "start": "2432950",
    "end": "2438120"
  },
  {
    "text": "of course it's gonna take a long time it's gonna stay open for a long time even if it's not used you shouldn't",
    "start": "2438120",
    "end": "2443730"
  },
  {
    "text": "terminate that for me because I can use it at any second right so timeout is tricky right and you probably don't care",
    "start": "2443730",
    "end": "2451650"
  },
  {
    "text": "about these things but it's good to mention it's a stateful protocol right",
    "start": "2451650",
    "end": "2457110"
  },
  {
    "text": "we talked we saw this literally this variable called connection and it's literally on my server so if I sort of",
    "start": "2457110",
    "end": "2465300"
  },
  {
    "text": "start my server my connection is dead the client is dead and you just you just",
    "start": "2465300",
    "end": "2472680"
  },
  {
    "text": "lost the connection essentially right you have to re-establish that okay so it since it's tasteful it's really hard to",
    "start": "2472680",
    "end": "2479610"
  },
  {
    "text": "horizontally scale yeah does that mean you cannot horizontally scale no it does",
    "start": "2479610",
    "end": "2485160"
  },
  {
    "text": "not mean that you can write WebSockets in you can persist the sockets you can",
    "start": "2485160",
    "end": "2491100"
  },
  {
    "text": "you can write smart application to use a third like a server database service",
    "start": "2491100",
    "end": "2497310"
  },
  {
    "text": "like a Postgres to kind of will persist the connection IDs and have numbers in",
    "start": "2497310",
    "end": "2503370"
  },
  {
    "text": "them and then you read the connection and then you have to maintain the state in the database and even if the database",
    "start": "2503370",
    "end": "2508980"
  },
  {
    "text": "died it will just if this another day if the server died it can read back all the",
    "start": "2508980",
    "end": "2515190"
  },
  {
    "text": "connections from the database and do smart thing and re-establish those right if you want to right it's still it's",
    "start": "2515190",
    "end": "2521400"
  },
  {
    "text": "still not easy the client has to be written in our way to do the statelessness thing okay it's not",
    "start": "2521400",
    "end": "2528840"
  },
  {
    "text": "impossible what is very tricky okay so that's essentially frozen cones",
    "start": "2528840",
    "end": "2534460"
  },
  {
    "start": "2530000",
    "end": "2853000"
  },
  {
    "text": "do you have to use WebSocket guys do you have to use it no okay I know I know all",
    "start": "2534460",
    "end": "2543480"
  },
  {
    "text": "right it's a cool technology but doesn't mean we have to use it okay it really",
    "start": "2543480",
    "end": "2549849"
  },
  {
    "text": "depends on what you're trying to do right the question is like do you absolutely need bi-directional",
    "start": "2549849",
    "end": "2555099"
  },
  {
    "text": "communication that's the rule of thumb that's I just came up with that right so if you want the server to send you",
    "start": "2555099",
    "end": "2561460"
  },
  {
    "text": "information and the client to send information to the server like gaming absolutely it's cool you can use",
    "start": "2561460",
    "end": "2567160"
  },
  {
    "text": "WebSockets but if you only want like request response like you're hosting a",
    "start": "2567160",
    "end": "2572829"
  },
  {
    "text": "webpage don't use WebSockets right because why just use a normal view",
    "start": "2572829",
    "end": "2579160"
  },
  {
    "text": "tafolla stateless HTTP right that's why HTTP survived this long because it's so",
    "start": "2579160",
    "end": "2586020"
  },
  {
    "text": "beautiful and simple simplicity rules guys simplicity rules okay WebSockets",
    "start": "2586020",
    "end": "2591640"
  },
  {
    "text": "also simpler right but still it's more complex than HTTP right so if you",
    "start": "2591640",
    "end": "2598000"
  },
  {
    "text": "absolutely need to move tube or directional communication that was a",
    "start": "2598000",
    "end": "2603940"
  },
  {
    "text": "terrible British accent I'm sorry so if you absolutely need to move to bi-directional communication then you",
    "start": "2603940",
    "end": "2610569"
  },
  {
    "text": "use WebSocket but there are still stuff that we invented guys that is long",
    "start": "2610569",
    "end": "2616510"
  },
  {
    "text": "polling okay I don't I don't think I made a video about one point but essentially the client can send a",
    "start": "2616510",
    "end": "2622000"
  },
  {
    "text": "request and just wait until the server",
    "start": "2622000",
    "end": "2627460"
  },
  {
    "text": "has information okay to to essentially",
    "start": "2627460",
    "end": "2632640"
  },
  {
    "text": "to avoid this misses right if I if I want to make a request to get the data",
    "start": "2632640",
    "end": "2638500"
  },
  {
    "text": "and the data is not available yet you can use long polling it's against tricky",
    "start": "2638500",
    "end": "2644109"
  },
  {
    "text": "but the server will not send you information until it gets you get some",
    "start": "2644109",
    "end": "2649329"
  },
  {
    "text": "information Kafka uses long polling and they have good reasons about that because",
    "start": "2649329",
    "end": "2654490"
  },
  {
    "text": "WebSockets the problem of the WebSocket is the server doesn't know that the client has disconnected as well as say",
    "start": "2654490",
    "end": "2661299"
  },
  {
    "text": "it's likely really weird to push data to the client if you don't know if the client is there or not you cannot assume",
    "start": "2661299",
    "end": "2668290"
  },
  {
    "text": "you can use the socket connection obviously to to tell you that but you",
    "start": "2668290",
    "end": "2673420"
  },
  {
    "text": "cannot rely on that okay long polling is one even sources another thing I'm gonna make a video about it but it's pretty",
    "start": "2673420",
    "end": "2679990"
  },
  {
    "text": "cool if you want just the other way you want the server to always send you information like notification you don't",
    "start": "2679990",
    "end": "2687130"
  },
  {
    "text": "have to use WebSocket it's the one way but the other way it's the server sending you request all the time okay",
    "start": "2687130",
    "end": "2693460"
  },
  {
    "text": "you can send client server by the server always pushes your information if there",
    "start": "2693460",
    "end": "2699340"
  },
  {
    "text": "isn't for me if there is data like notification or push notification that's perfect and you can use events or so",
    "start": "2699340",
    "end": "2705430"
  },
  {
    "text": "it's like the other way okay long polling is just hey give me information of this available but if answers is",
    "start": "2705430",
    "end": "2711820"
  },
  {
    "text": "really powerful stuff so we're gonna make a video but most most most most use",
    "start": "2711820",
    "end": "2716950"
  },
  {
    "text": "cases you can solve the moment event source except chatting right where I mean even chatting you can solve it with",
    "start": "2716950",
    "end": "2723820"
  },
  {
    "text": "even source because if the server receive information just send it to me okay all right so complexity versus",
    "start": "2723820",
    "end": "2732310"
  },
  {
    "text": "simplicity guys okay summary what we have done what we have learned on those value guys we learned HTTP okay we",
    "start": "2732310",
    "end": "2741130"
  },
  {
    "text": "talked about HTTP the basis of all thing the simplest protocol ever the most",
    "start": "2741130",
    "end": "2746470"
  },
  {
    "text": "beautiful protocol ever and then we talk about WebSockets this bi-directional",
    "start": "2746470",
    "end": "2751840"
  },
  {
    "text": "full duplex thing right we don't grab more that we talking about the handshake which is the upgrade protocol switching protocol 101 code we talk about use",
    "start": "2751840",
    "end": "2758800"
  },
  {
    "text": "cases real-time live feed right don't have to use WebSocket but you can use",
    "start": "2758800",
    "end": "2764230"
  },
  {
    "text": "them for that right really think hard about use case guys now example with",
    "start": "2764230",
    "end": "2771340"
  },
  {
    "text": "birth in a node.js application that is a web server essentially WebSocket server okay the client was so simple was just",
    "start": "2771340",
    "end": "2778780"
  },
  {
    "text": "literally three lines of code and we did not even open visual studio code to",
    "start": "2778780",
    "end": "2785050"
  },
  {
    "text": "write that code we wrote it in my Chrome browser how kulish is that guys say with",
    "start": "2785050",
    "end": "2790180"
  },
  {
    "text": "me it's cool ish okay it's very cool ish so there's a difference between cool there is not cool way in the bottom",
    "start": "2790180",
    "end": "2797140"
  },
  {
    "text": "there is cool way dub and kulish is a little bit below cool right it's almost cool but it's",
    "start": "2797140",
    "end": "2804340"
  },
  {
    "text": "just cool ish right it's the ultimate state of the mind you want to reach you want to reach kulish",
    "start": "2804340",
    "end": "2809590"
  },
  {
    "text": "you don't want to be cool right you want to be cool ish so websocket pros and",
    "start": "2809590",
    "end": "2815800"
  },
  {
    "text": "cons we talked about all I said we talked about when do you use WebSocket all right guys if you enjoyed this video",
    "start": "2815800",
    "end": "2821890"
  },
  {
    "text": "give it a like and share with your friends and hope you really enjoyed this video and you learned and subscribe to",
    "start": "2821890",
    "end": "2829870"
  },
  {
    "text": "learn more about software engineering from becoming better software engineer and I'm gonna see you in the next one you guys leave me a comment in the below",
    "start": "2829870",
    "end": "2837490"
  },
  {
    "text": "if you want to learn anything if you want a new video about anything that is in your mind I'm doing some research and",
    "start": "2837490",
    "end": "2845440"
  },
  {
    "text": "talk about if I if that interest me right alright guys you guys stay awesome and I",
    "start": "2845440",
    "end": "2851410"
  },
  {
    "text": "see you in the next one good bye",
    "start": "2851410",
    "end": "2854490"
  }
]