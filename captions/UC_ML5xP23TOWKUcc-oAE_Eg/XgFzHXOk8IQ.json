[
  {
    "start": "0",
    "end": "166000"
  },
  {
    "text": "what is going on guys happy new year this is a very very small gift",
    "start": "320",
    "end": "6879"
  },
  {
    "text": "from me from me to you in this 2021 uh this was",
    "start": "6879",
    "end": "13840"
  },
  {
    "text": "one of my udemy courses is called the complete guide to websockets and i'm making it",
    "start": "13840",
    "end": "19920"
  },
  {
    "text": "available here for free on youtube it's a little bit more than five hours",
    "start": "19920",
    "end": "26880"
  },
  {
    "text": "take your time enjoy and uh the reason i'm i'm not making that a free on youtube because",
    "start": "26880",
    "end": "32880"
  },
  {
    "text": "guess what udemy sucks as a platform and they change their rules so that only two hours you can only make",
    "start": "32880",
    "end": "40399"
  },
  {
    "text": "courses that are two hours or less free so huh so alas anyway so that's why i i",
    "start": "40399",
    "end": "48239"
  },
  {
    "text": "privated that course on udemy but it's now available here for youtube in youtube hope you enjoyed guys and uh so let's",
    "start": "48239",
    "end": "55680"
  },
  {
    "text": "talk through about the curriculum on this course a little bit um first of all there will be and you'll",
    "start": "55680",
    "end": "62800"
  },
  {
    "text": "start seeing chapters youtube chapters where you can jump to the interesting part of the video at any time your leisure so the first",
    "start": "62800",
    "end": "70799"
  },
  {
    "text": "section is just an introduction to http and web servers stuff like that because this is",
    "start": "70799",
    "end": "78080"
  },
  {
    "text": "very critical in order to understand what sockets the second section talked about",
    "start": "78080",
    "end": "83119"
  },
  {
    "text": "an introduction about websocket what is this thing uh why do we need it stuff like that",
    "start": "83119",
    "end": "89360"
  },
  {
    "text": "with a little bit of practical uh slides and code and all that stuff",
    "start": "89360",
    "end": "94640"
  },
  {
    "text": "the third section talking about scaling web sockets how we can actually go you deploy reverse proxies and load",
    "start": "94640",
    "end": "100720"
  },
  {
    "text": "balancers to scale whoop sockets because that's a little bit tricky since bob sockets is um",
    "start": "100720",
    "end": "106560"
  },
  {
    "text": "a little bit uh stateful so it's has it's not easy to scale right and um",
    "start": "106560",
    "end": "114799"
  },
  {
    "text": "then there is next section i'm going to talk about securing web sockets because a little",
    "start": "114799",
    "end": "120560"
  },
  {
    "text": "bit different than http but nevertheless it's it's very easy to secure you can use",
    "start": "120560",
    "end": "126479"
  },
  {
    "text": "tls on top of websockets then i have a final section which i called",
    "start": "126479",
    "end": "132080"
  },
  {
    "text": "advanced websocket topics which is just a collection of my different youtube",
    "start": "132080",
    "end": "137200"
  },
  {
    "text": "videos where i talked about websockets and the future of websockets",
    "start": "137200",
    "end": "142800"
  },
  {
    "text": "and then advanced topics of websockets like like websockets on top of hdb2 and and",
    "start": "142800",
    "end": "150239"
  },
  {
    "text": "what's the future of websocket and how would as wob socket really look like under the hood with",
    "start": "150239",
    "end": "155440"
  },
  {
    "text": "wireshark so all these fancy stuff that are really optional but i hope you enjoyed this course",
    "start": "155440",
    "end": "160720"
  },
  {
    "text": "i'm gonna see you in the next one and let's just jump in the course",
    "start": "160720",
    "end": "166640"
  },
  {
    "start": "166000",
    "end": "2900000"
  },
  {
    "text": "qn http is a protocol for transferring web pages",
    "start": "168840",
    "end": "174160"
  },
  {
    "text": "text images media binary files and much much much more",
    "start": "174160",
    "end": "179360"
  },
  {
    "text": "it stands for hypertext transfer protocol it is what the internet pretty",
    "start": "179360",
    "end": "186400"
  },
  {
    "text": "much runs on everything you're using that is pretty much runs on the http in this video we will learn how",
    "start": "186400",
    "end": "193040"
  },
  {
    "text": "http works how it is secure with https this green lock that you see when you browse",
    "start": "193040",
    "end": "198959"
  },
  {
    "text": "for example google or gmail right or any website that is secure for that matter we'll also learn how to spin up your own",
    "start": "198959",
    "end": "206159"
  },
  {
    "text": "http web server we're going to talk what is an http web server to begin we're going to talk about that we'll also",
    "start": "206159",
    "end": "212799"
  },
  {
    "text": "learn very quickly about the evolution of http 17.10 what changes",
    "start": "212799",
    "end": "219760"
  },
  {
    "text": "what bad decisions those guys made to 1 1 and then http 2 which google basically",
    "start": "219760",
    "end": "226000"
  },
  {
    "text": "helped with speedy and eventually http slash 3 which is still experimental by the way",
    "start": "226000",
    "end": "232879"
  },
  {
    "text": "as of the making of this video right has been up i think approved by the internet engineering task force but",
    "start": "232879",
    "end": "239760"
  },
  {
    "text": "it's still under experimental if you're new here welcome my name is hussein and in this channel",
    "start": "239760",
    "end": "246879"
  },
  {
    "text": "we discuss all sorts of software engineering by example so if you want to become a better software engineer consider",
    "start": "246879",
    "end": "252879"
  },
  {
    "text": "subscribing hit that bell icon and like this video if you like it that's it let's just jump into the video",
    "start": "252879",
    "end": "259440"
  },
  {
    "text": "guys so here's the agenda we're going to talk about the http anatomy right so the essentially this layer",
    "start": "259440",
    "end": "266400"
  },
  {
    "text": "7 concept right and how it is actually a client server architecture",
    "start": "266400",
    "end": "272880"
  },
  {
    "text": "mainly and uh we're going to talk about that a little bit we're going to show you how our http request show looks like how a",
    "start": "272880",
    "end": "280320"
  },
  {
    "text": "response looks like and then we're going to talk about the http 100 over tcp okay so that's the first",
    "start": "280320",
    "end": "287600"
  },
  {
    "text": "version i think it was 1996 when it was first released there was a version before that but i'm not gonna",
    "start": "287600",
    "end": "292800"
  },
  {
    "text": "go through that that's like pretty much that's the was the popular version oh no then there was a lot of problem",
    "start": "292800",
    "end": "298800"
  },
  {
    "text": "with this thing they invented one one still for a long time",
    "start": "298800",
    "end": "303840"
  },
  {
    "text": "1.1 most of the site now running still 1.1 over tcp i'm going to talk about what that mean really over tcp",
    "start": "303840",
    "end": "310479"
  },
  {
    "text": "right and uh http 2 over tcpn and finally we're going to talk about http",
    "start": "310479",
    "end": "316639"
  },
  {
    "text": "2 over quake which is a udp version that google is experimenting on",
    "start": "316639",
    "end": "323360"
  },
  {
    "text": "so it's a udb protocol okay and it has actually has more features right",
    "start": "323360",
    "end": "328880"
  },
  {
    "text": "and i'm gonna reference a video that movement tcp versus youtube i really highly recommend you watch that guys",
    "start": "328880",
    "end": "334160"
  },
  {
    "text": "it's like a like a mini course 40 minutes it's a free you can watch it and i talk about the details of tcp",
    "start": "334160",
    "end": "340320"
  },
  {
    "text": "versus udpn and i really really if you know the basics you can jump into the video that's okay but",
    "start": "340320",
    "end": "345919"
  },
  {
    "text": "really take some time and watch that tcp versus udp this is the experimental version they're",
    "start": "345919",
    "end": "350960"
  },
  {
    "text": "renaming it to http 3. all right so it is client server architecture",
    "start": "350960",
    "end": "356000"
  },
  {
    "text": "we know how client server architecture works there is a client somewhere there is a server somewhere you as a",
    "start": "356000",
    "end": "362160"
  },
  {
    "text": "client request something that is only available on the server you send the request",
    "start": "362160",
    "end": "367440"
  },
  {
    "text": "the server responds with the response okay that's a client server architecture",
    "start": "367440",
    "end": "372479"
  },
  {
    "text": "for the web for the http the client is guess what",
    "start": "372479",
    "end": "377680"
  },
  {
    "text": "your browser most 99 of cases like you're browsing something right if you",
    "start": "377680",
    "end": "383600"
  },
  {
    "text": "go to google.com you're making an http get request okay and there is eventually a server that lands",
    "start": "383600",
    "end": "392319"
  },
  {
    "text": "that request goes through proxies and switches and go through tcps and and get packets final reaches the",
    "start": "392319",
    "end": "398800"
  },
  {
    "text": "destination server where it is an http web server okay that finds that request",
    "start": "398800",
    "end": "406479"
  },
  {
    "text": "you want index.html you want a js json file you want an image and that takes that",
    "start": "406479",
    "end": "414880"
  },
  {
    "text": "shoves it up back to this vehicle which is mostly tcp and then sends it over to you",
    "start": "414880",
    "end": "420800"
  },
  {
    "text": "okay it's a client server it's a request response architecture it's always been the case",
    "start": "420800",
    "end": "427039"
  },
  {
    "text": "okay does that mean that's the only thing i can request with browser no you can make a http request",
    "start": "427039",
    "end": "432800"
  },
  {
    "text": "from python you can make an extruder code from a javascript application you can make an http works and you are",
    "start": "432800",
    "end": "439360"
  },
  {
    "text": "actually making an http request from your phone if you're watching this in your phone for some for some reason ios or android you're",
    "start": "439360",
    "end": "446160"
  },
  {
    "text": "making http request to the service right if you're watching through through youtube for example there are some http",
    "start": "446160",
    "end": "452080"
  },
  {
    "text": "requests going to the back end okay so http request essentially is is this medium that",
    "start": "452080",
    "end": "458000"
  },
  {
    "text": "we we just uh shove everything it's a standard everybody knows how to understand it",
    "start": "458000",
    "end": "463280"
  },
  {
    "text": "right and how to talk through it that's why we're using it everywhere there are some limitations we're",
    "start": "463280",
    "end": "468319"
  },
  {
    "text": "improving it google has a huge contribution it's actually almost",
    "start": "468319",
    "end": "473520"
  },
  {
    "text": "scary how a lot of contribution has google on this thing okay like especially with speedy with 200 and",
    "start": "473520",
    "end": "480400"
  },
  {
    "text": "300. it's like almost most of the thing is just google is going to take over the world dude",
    "start": "480400",
    "end": "486160"
  },
  {
    "text": "all right so server i don't know if you're from the 90s like me right when i started the university in",
    "start": "486160",
    "end": "493599"
  },
  {
    "text": "the 90s you probably used apache somewhere all right php",
    "start": "493599",
    "end": "498720"
  },
  {
    "text": "right the lamp stack or wamp stack we didn't have linux mac i i worked with",
    "start": "498720",
    "end": "504960"
  },
  {
    "text": "one dozen mainly but lamp stack wamp stack whatever right so apache that's a web server iis this",
    "start": "504960",
    "end": "511440"
  },
  {
    "text": "is internet information services that's a windows thing that comes with your windows you can enable on windows features and you get boo",
    "start": "511440",
    "end": "517200"
  },
  {
    "text": "you get a web server you can write your own web server from scratch using node.js there's certain apis that",
    "start": "517200",
    "end": "524720"
  },
  {
    "text": "allow you to do that right and there's like a when we're going to show that you can actually build your own you can",
    "start": "524720",
    "end": "531440"
  },
  {
    "text": "just use a ready-made web server and node.js we're going to use the shittyb dash server to show that python tornado",
    "start": "531440",
    "end": "537040"
  },
  {
    "text": "i made a course called python on the backend little plug here guys check that of",
    "start": "537040",
    "end": "542080"
  },
  {
    "text": "course out it's just showing you how to build a web server using python and details about how you can serve content",
    "start": "542080",
    "end": "549440"
  },
  {
    "text": "from python it's a it's a i i really proud of that course go check it out it's going to help me all right",
    "start": "549440",
    "end": "555040"
  },
  {
    "text": "i'm going to leave a coupon code right here python on the backend i think it's just on turn dollars don't buy it from udemy",
    "start": "555040",
    "end": "561680"
  },
  {
    "text": "it's going to show you like 200 or whatever so use my coupon code if you want if you want to check out that",
    "start": "561680",
    "end": "567200"
  },
  {
    "text": "course right http request fewer american requests these are the four",
    "start": "567200",
    "end": "572320"
  },
  {
    "text": "items properties in http request there are many others but i would like to just",
    "start": "572320",
    "end": "578880"
  },
  {
    "text": "talk about these things only right there's the url obviously right you're going http",
    "start": "578880",
    "end": "585560"
  },
  {
    "text": "husseinnowser.com http google.com okay example.com that's",
    "start": "585560",
    "end": "591440"
  },
  {
    "text": "a url slash whatever twitter.com that's that's a url",
    "start": "591440",
    "end": "597120"
  },
  {
    "text": "the auto has a lot of components it has like the whole path the arguments all right we don't really need to talk",
    "start": "597120",
    "end": "602320"
  },
  {
    "text": "about that i made another video i'm gonna reference it here just breaking down the url really yeah",
    "start": "602320",
    "end": "608320"
  },
  {
    "text": "it's a it's a long thing okay is this url you're making a request you have to tell me what you are you're gonna make you have to tell me",
    "start": "608320",
    "end": "615040"
  },
  {
    "text": "what method you're talking about and these methods are really interesting i made certain videos like to explain the",
    "start": "615040",
    "end": "622160"
  },
  {
    "text": "differences between these detailed methods basically mostly get post put delete and i think",
    "start": "622160",
    "end": "629920"
  },
  {
    "text": "options and there are a lot of http method and each method has some semantic git mainly says hey please give me",
    "start": "629920",
    "end": "638480"
  },
  {
    "text": "an a page or an image so reading essentially like almost like",
    "start": "638480",
    "end": "644480"
  },
  {
    "text": "if you know sql database there's like this semantic where select is actually a query right get is",
    "start": "644480",
    "end": "651200"
  },
  {
    "text": "the select version of the sql if you want all right and insert is basically post and",
    "start": "651200",
    "end": "657680"
  },
  {
    "text": "update is basically put and delete is basically delete right so that's kind of if you want to it's just",
    "start": "657680",
    "end": "664160"
  },
  {
    "text": "a different semantics right get we made a video about uh git versus post and the details differences semantically",
    "start": "664160",
    "end": "671360"
  },
  {
    "text": "between those two okay but you're gonna tell me what do you want right what method are you executing",
    "start": "671360",
    "end": "676560"
  },
  {
    "text": "okay and then url method right because these two things will give your",
    "start": "676560",
    "end": "681839"
  },
  {
    "text": "essential results headers what kind of content are you sending to me uh",
    "start": "681839",
    "end": "687040"
  },
  {
    "text": "are you sending any cookies it goes in the headers uh what else it goes a lot of things here",
    "start": "687040",
    "end": "692560"
  },
  {
    "text": "host where which host are you going to if in case of proxies right you want to if you want to use a",
    "start": "692560",
    "end": "699360"
  },
  {
    "text": "layer 7 proxy and to kind of navigate yourself you need to support the header host here and",
    "start": "699360",
    "end": "705760"
  },
  {
    "text": "location other stuff as well buddy certain method types have but that's",
    "start": "705760",
    "end": "711440"
  },
  {
    "text": "where the difference comes right here like get has doesn't have a body it will it will give you an error if you",
    "start": "711440",
    "end": "717680"
  },
  {
    "text": "try to send a body with a get you have to send it through the url and we talked about this in the video git versus post",
    "start": "717680",
    "end": "723760"
  },
  {
    "text": "all right and uh post will have a body because hey i'm gonna upload an image",
    "start": "723760",
    "end": "729920"
  },
  {
    "text": "that's a post right okay the post request you're gonna send the content type of the image's image",
    "start": "729920",
    "end": "736399"
  },
  {
    "text": "and then you're gonna send the binary stuff in the body so it's gonna be long right the body http response",
    "start": "736399",
    "end": "742079"
  },
  {
    "text": "i am going to hopefully make a series about all the beautiful stat status codes that are there are oh plan",
    "start": "742079",
    "end": "749040"
  },
  {
    "text": "i'm just gonna talk through uh one video as each status quo to win video i'm gonna make a series i'm really",
    "start": "749040",
    "end": "754160"
  },
  {
    "text": "excited uh tell me in the comment section if you were excited to see that series showing i get motivated to make it sooner",
    "start": "754160",
    "end": "759519"
  },
  {
    "text": "okay but i'm gonna make it anyway so static code this is guys you probably know it if you make a",
    "start": "759519",
    "end": "765120"
  },
  {
    "text": "request to a web server it responds with three things",
    "start": "765120",
    "end": "770160"
  },
  {
    "text": "status code headers and the body so the body is the actual image that you",
    "start": "770160",
    "end": "775839"
  },
  {
    "text": "requested the actual json content the actual index.html file or",
    "start": "775839",
    "end": "780959"
  },
  {
    "text": "html form headers is hey this is the content type is actually application slash json application slash",
    "start": "780959",
    "end": "787200"
  },
  {
    "text": "text whatever and applications like octa binary status code is actually whether that",
    "start": "787200",
    "end": "793839"
  },
  {
    "text": "succeeded or not or warning or all this kind of things 200 is basically hey success okay",
    "start": "793839",
    "end": "800240"
  },
  {
    "text": "that means you're cool 201 means oh hey you created it 404 it's very popular",
    "start": "800240",
    "end": "805760"
  },
  {
    "text": "status quo it's pretty much used everywhere 404 i couldn't find that url that you requested",
    "start": "805760",
    "end": "811120"
  },
  {
    "text": "whatever you requested here i couldn't find it so we return 404 and the web server has to be authored in",
    "start": "811120",
    "end": "817440"
  },
  {
    "text": "a smart way to actually handle those things iis apache pretty much http server",
    "start": "817440",
    "end": "823839"
  },
  {
    "text": "node.js is going to do that for you but if you're writing your own web server right which we kind of did in one of",
    "start": "823839",
    "end": "830720"
  },
  {
    "text": "those videos i'm gonna find it i'm gonna reference it here okay then you have to handle those status codes for you which is",
    "start": "830720",
    "end": "836720"
  },
  {
    "text": "which is pretty cool if you ask me right so if you're like you're creating like if you're building a service like a normal service a web",
    "start": "836720",
    "end": "843440"
  },
  {
    "text": "service a micro service right you want to handle your own status codes right",
    "start": "843440",
    "end": "849600"
  },
  {
    "text": "you're writing everything's from scratch right you're making a request you're getting a request you have to return",
    "start": "849600",
    "end": "854720"
  },
  {
    "text": "and you tell me that what kind of status you're returning based on that so that client actually understand other",
    "start": "854720",
    "end": "861600"
  },
  {
    "text": "clients understand all right let's show some example guys we're going to show two examples we're going to show you how to browse because",
    "start": "861600",
    "end": "867680"
  },
  {
    "text": "you guys obviously don't know how to use the internet i'm going to show you how to navigate the internet and just browse",
    "start": "867680",
    "end": "873519"
  },
  {
    "text": "using the browser okay because that's what you came for this video for i just kidding all right we're going to",
    "start": "873519",
    "end": "879920"
  },
  {
    "text": "show you the browser going to show you the request that's going on right i'm going to show you how to spin up your own hdtv web server",
    "start": "879920",
    "end": "886320"
  },
  {
    "text": "okay let's get into it i'm here open to chrome and i am i just want to incognito just so i",
    "start": "886320",
    "end": "892880"
  },
  {
    "text": "don't have any caches or anything right so i want to just start from scratch and i want to go to my website which is",
    "start": "892880",
    "end": "900800"
  },
  {
    "text": "www.husainnowser.com can't even spell my name okay and this is this is the request that we made all",
    "start": "902279",
    "end": "908639"
  },
  {
    "text": "right we went to husseinus.com and this is what we got back okay let's analyze that if you go to this",
    "start": "908639",
    "end": "914320"
  },
  {
    "text": "three dots right i think it's called burger button whatever more tools developer tools let's see",
    "start": "914320",
    "end": "921920"
  },
  {
    "text": "what happened here you go to network and you say if you go after the fact that you",
    "start": "921920",
    "end": "926959"
  },
  {
    "text": "browse you're not gonna see anything but if the movie refresh you're gonna see the whole those requests oh my god look at that look at that my",
    "start": "926959",
    "end": "934399"
  },
  {
    "text": "website actually sucks man i'm using blogspot and look at all this this request this is slow right because",
    "start": "934399",
    "end": "940320"
  },
  {
    "text": "you're making a lot of requests but that's the first request that goes here",
    "start": "940320",
    "end": "945519"
  },
  {
    "text": "okay and let's talk about these things real bit okay that's the request okay so we made",
    "start": "945519",
    "end": "952639"
  },
  {
    "text": "a request to hussein also dot com right let's look at the request headers what",
    "start": "952639",
    "end": "957759"
  },
  {
    "text": "do we have we have a lot of stuff guys we are going to say nasa.com the method",
    "start": "957759",
    "end": "963199"
  },
  {
    "text": "that we talked about is git the path the url is just slash right uh whether you're using https",
    "start": "963199",
    "end": "969440"
  },
  {
    "text": "we're going to talk about a little bit about https actually we talked about tls and another video we're going to reference that as well but",
    "start": "969440",
    "end": "976160"
  },
  {
    "text": "what do you expect except as a result okay encoding and cache whether you want to cache it or not and so many other",
    "start": "976160",
    "end": "982639"
  },
  {
    "text": "things the user agent so this is a request right the response is the actual",
    "start": "982639",
    "end": "990240"
  },
  {
    "text": "the response headers right say i'm sending you back what text html because that's the index.html",
    "start": "990240",
    "end": "997040"
  },
  {
    "text": "or whatever the page was as you can see you can even tell that i'm using blogger right",
    "start": "997040",
    "end": "1002720"
  },
  {
    "text": "and uh the date etag for caching we made a video about etag i'm going to reference it here",
    "start": "1002720",
    "end": "1008000"
  },
  {
    "text": "how cash actually works pretty cool stuff really guys and the status 200 i mean it is coolish",
    "start": "1008000",
    "end": "1014560"
  },
  {
    "text": "that means it is coolish and this is just like a general uh summary of all the requests right so we",
    "start": "1014560",
    "end": "1019839"
  },
  {
    "text": "have status 200 git and all that stuff remote server like what is the remote address actually",
    "start": "1019839",
    "end": "1026160"
  },
  {
    "text": "served you this could be a little bit uh different because it could be actually",
    "start": "1026160",
    "end": "1032400"
  },
  {
    "text": "it might be the proxy ip address but nevertheless right",
    "start": "1032400",
    "end": "1037760"
  },
  {
    "text": "cookies whether you have used cookies whether the server created cookies guys i'm going to reference oh my god i",
    "start": "1037760",
    "end": "1043760"
  },
  {
    "text": "referenced a lot of videos right we made a lot of videos cookies we made a course about cookies actually just",
    "start": "1043760",
    "end": "1049679"
  },
  {
    "text": "it's just a free course check it out it's just talking about the different kind of cookies you would think a simple",
    "start": "1049679",
    "end": "1055520"
  },
  {
    "text": "concept like cookies is just a simple thing but it has a lot of thing and we talked about that as",
    "start": "1055520",
    "end": "1061600"
  },
  {
    "text": "well and the response look at that that's our html for you",
    "start": "1061600",
    "end": "1067039"
  },
  {
    "text": "and you can see this is just the first request guys right after that after we got that we got a",
    "start": "1067039",
    "end": "1072080"
  },
  {
    "text": "bunch of index.html and the browser says ooh that's just there's a lot of url",
    "start": "1072080",
    "end": "1077919"
  },
  {
    "text": "here right i need to stop pulling some stuff so the browser said oh let's go ahead and make other requests",
    "start": "1077919",
    "end": "1084559"
  },
  {
    "text": "started with css for some reason right so it looks like it looked at the first thing it looks like the headers of this",
    "start": "1084559",
    "end": "1090720"
  },
  {
    "text": "thing right and started pulling one of them one by one manually oh css let's put the",
    "start": "1090720",
    "end": "1096240"
  },
  {
    "text": "css and then the plus one dot js what's this thing plus one.js i don't even see it but",
    "start": "1096240",
    "end": "1102880"
  },
  {
    "text": "somewhere here okay so start pulling all these uh files or resources okay okay now",
    "start": "1102880",
    "end": "1110080"
  },
  {
    "text": "let's make another get request to blogger.com css right plus1.js and then",
    "start": "1110080",
    "end": "1115919"
  },
  {
    "text": "images now let's talk about images how does the image looks like here yay the content type look at that image",
    "start": "1115919",
    "end": "1122960"
  },
  {
    "text": "png right so you're going to receive different response response things here and some of these will get",
    "start": "1122960",
    "end": "1130240"
  },
  {
    "text": "cached based on your e-tags right if you receive an e-tag or not it's going to hit cash so the browser",
    "start": "1130240",
    "end": "1136160"
  },
  {
    "text": "doesn't have to make these requests obviously it's more performed this way and then you get the idea right so we get a lot of requests",
    "start": "1136160",
    "end": "1142960"
  },
  {
    "text": "do we have any other kind of status quo that i can show maybe if i refresh again do i get any fancier status codes",
    "start": "1142960",
    "end": "1150160"
  },
  {
    "text": "no it's all yeah there you go there you go 302 found right so i don't remember what that",
    "start": "1150160",
    "end": "1156320"
  },
  {
    "text": "means three or two found obviously it's found i think this is um this is the redirection thing there was",
    "start": "1156320",
    "end": "1162960"
  },
  {
    "text": "another request that actually shows uh the the three",
    "start": "1162960",
    "end": "1169679"
  },
  {
    "text": "two all four there you go what is this 204 so 204 yeah i forgot what that means",
    "start": "1169679",
    "end": "1177600"
  },
  {
    "text": "okay guys all right so this is a request we talked about requests we have a response how do i spend my",
    "start": "1177600",
    "end": "1184320"
  },
  {
    "text": "own web server this is this is connecting to a server that already exists i want to spin my own servers sir okay",
    "start": "1184320",
    "end": "1192000"
  },
  {
    "text": "let's show you how to do that what i'm gonna do here guys is actually i'm gonna open visual studio code",
    "start": "1192000",
    "end": "1197600"
  },
  {
    "text": "you can download it for free it's the best editor out there in my opinion okay you can disagree with",
    "start": "1197600",
    "end": "1203440"
  },
  {
    "text": "that if you want to but and i'm gonna spin up and i'm gonna write a simple html page",
    "start": "1203440",
    "end": "1209120"
  },
  {
    "text": "and now i'm going to spin up my own web server on my machine and i am going to request it from the",
    "start": "1209120",
    "end": "1216640"
  },
  {
    "text": "browser let's do that okay so let's go ahead and open a new folder all right guys so i'm gonna go ahead and",
    "start": "1216640",
    "end": "1222400"
  },
  {
    "text": "create a new folder call it http tutorial",
    "start": "1222400",
    "end": "1227520"
  },
  {
    "text": "and then i'm gonna open this folder i am going to create a new brand new index.html doesn't have to be index.html",
    "start": "1227520",
    "end": "1235039"
  },
  {
    "text": "but you can call it anything you want i'm going to do html5 tab and i'm going to go",
    "start": "1235039",
    "end": "1240480"
  },
  {
    "text": "hello world and i'm going to do it i know hello guys",
    "start": "1240480",
    "end": "1247120"
  },
  {
    "text": "this is my first website then yeah right and then i'm gonna use",
    "start": "1247120",
    "end": "1253840"
  },
  {
    "text": "the terminal here and this is a trick here i have installed a plugin with node.js",
    "start": "1253840",
    "end": "1259039"
  },
  {
    "text": "called http server you can go to the same path to the folder that you have and you go",
    "start": "1259039",
    "end": "1264400"
  },
  {
    "text": "to terminal then when you do that is your http server done i'm gonna reference a video that it's",
    "start": "1264400",
    "end": "1270960"
  },
  {
    "text": "like literally a three minute video to show you how to set up this thing it's literally install node.js do i think",
    "start": "1270960",
    "end": "1277039"
  },
  {
    "text": "it's called npm install g http.server to install it globally",
    "start": "1277039",
    "end": "1282240"
  },
  {
    "text": "and then voila we have running web server on port 8080 it's a little bit ugly it's not",
    "start": "1282240",
    "end": "1288400"
  },
  {
    "text": "just without a port but we talked about how to forward ports and on other videos check out the other content of this",
    "start": "1288400",
    "end": "1294480"
  },
  {
    "text": "channel guys there's a lot if you consider subscribing you're gonna learn a lot of stuff so i'm gonna use my own",
    "start": "1294480",
    "end": "1301840"
  },
  {
    "text": "ip address localhost 8080 and if i do that oh that's my beautiful webpage",
    "start": "1301840",
    "end": "1308320"
  },
  {
    "text": "look at that let's take a look at the request there's one should be one request right that's",
    "start": "1308320",
    "end": "1314240"
  },
  {
    "text": "it one request there's no other thing to request and then there's like these are the requests that uh that chrome sent",
    "start": "1314240",
    "end": "1320880"
  },
  {
    "text": "you can make the same request using uh using the fetch api which we talked",
    "start": "1320880",
    "end": "1327120"
  },
  {
    "text": "about the fetch api i'm gonna reference it here so let's go ahead and actually show you how to write javascript code to actually",
    "start": "1327120",
    "end": "1332880"
  },
  {
    "text": "pull no not necessarily uh the browser right but i'm gonna",
    "start": "1332880",
    "end": "1338000"
  },
  {
    "text": "write code to pull this thing okay so i'm gonna do http localhost 8080",
    "start": "1338000",
    "end": "1343600"
  },
  {
    "text": "the fetch api and then close this thing and then then if that's okay go ahead and i'm",
    "start": "1343600",
    "end": "1349120"
  },
  {
    "text": "expecting text back right and then go ahead then console.log just printed that thing and then",
    "start": "1349120",
    "end": "1355039"
  },
  {
    "text": "boop look at that guys so i just made a request using javascript here because",
    "start": "1355039",
    "end": "1360400"
  },
  {
    "text": "javascript is the best language ever okay because you can open a browser on any machine and you can write code immediately no",
    "start": "1360400",
    "end": "1366960"
  },
  {
    "text": "plugin no have to install anything it just works right that's why i like javascript okay",
    "start": "1366960",
    "end": "1372320"
  },
  {
    "text": "python it's a great language but that barrier that doesn't allow me to work on any machine",
    "start": "1372320",
    "end": "1378400"
  },
  {
    "text": "i want this thing any machine just walk in a library and you can start writing",
    "start": "1378400",
    "end": "1383840"
  },
  {
    "text": "javascript code right there without installing a single anything okay that's the cool thing about it okay",
    "start": "1383840",
    "end": "1389520"
  },
  {
    "text": "all right guys let's jump back to boring slides how about that all right so we talked about http",
    "start": "1389520",
    "end": "1395120"
  },
  {
    "text": "responses requests web servers we showed you how to make a feature request we showed you how to make",
    "start": "1395120",
    "end": "1400400"
  },
  {
    "text": "a web server spin up your own web server redo all of that stuff but how does it work",
    "start": "1400400",
    "end": "1406000"
  },
  {
    "text": "how does it really work how does this http work usually you have a client that's your",
    "start": "1406000",
    "end": "1411120"
  },
  {
    "text": "browser or that's your javascript application or that's your python application or that's your i don't know c-sharp",
    "start": "1411120",
    "end": "1418480"
  },
  {
    "text": "application that makes a request that's your mobile app that your ios app that makes a request to a server",
    "start": "1418480",
    "end": "1423600"
  },
  {
    "text": "you get the idea right and this is our aws or the web server or anything that hosts a web server an http",
    "start": "1423600",
    "end": "1430240"
  },
  {
    "text": "web server has to be an http web server understands how to deal with http requests okay",
    "start": "1430240",
    "end": "1436720"
  },
  {
    "text": "and here's what what we really need to talk about it http is the layer 7 protocol so what",
    "start": "1436720",
    "end": "1443360"
  },
  {
    "text": "does that mean what are these layers that you talked about i'm glad you asked because we made a video",
    "start": "1443360",
    "end": "1449440"
  },
  {
    "text": "about this osi model opera interconnection uh um interconnection protocol and model",
    "start": "1449440",
    "end": "1455919"
  },
  {
    "text": "which has this desire layer seven is the http smtp and all that stuff we have layer",
    "start": "1455919",
    "end": "1461760"
  },
  {
    "text": "four which has the tcp udp we have layer two which has the data link the frames",
    "start": "1461760",
    "end": "1467120"
  },
  {
    "text": "the mac addresses and physical layer one which is the actual fiber optics or",
    "start": "1467120",
    "end": "1472480"
  },
  {
    "text": "or or ethernet the actual electricity going down or the light okay so we",
    "start": "1472480",
    "end": "1478080"
  },
  {
    "text": "talked about this in another video i'm gonna reference it here okay gonna reference the osi model please please take a look at it",
    "start": "1478080",
    "end": "1484559"
  },
  {
    "text": "so it will actually explain to you how how this tcp connection works what are we",
    "start": "1484559",
    "end": "1489600"
  },
  {
    "text": "how's this russian doll effect where we can put a packet inside another package or another",
    "start": "1489600",
    "end": "1494640"
  },
  {
    "text": "packet and then unpack it and shows another it's exactly like a russian doll thing http is this",
    "start": "1494640",
    "end": "1500159"
  },
  {
    "text": "layer 7 protocol it's the logical layer where we have the application where we we talked about",
    "start": "1500159",
    "end": "1505440"
  },
  {
    "text": "headers and what we talked about urls we talked about method types we talked about body the",
    "start": "1505440",
    "end": "1512080"
  },
  {
    "text": "wires the actual internet connection if you look at that layer",
    "start": "1512080",
    "end": "1517360"
  },
  {
    "text": "one it's just a bunch of ones and zero and you probably know that guys it's like okay oh you know this is one since we're always saying",
    "start": "1517360",
    "end": "1523039"
  },
  {
    "text": "you didn't see anything new right but it is actually a bunch of phones in zero",
    "start": "1523039",
    "end": "1528159"
  },
  {
    "text": "but that's at that level it is actually literally it's just electricity to be honest right or just light",
    "start": "1528159",
    "end": "1534080"
  },
  {
    "text": "and that light has some ones and zeros snuck into that and to it that only the",
    "start": "1534080",
    "end": "1540799"
  },
  {
    "text": "destination actually can parse and make sense of it there's a lot of garbage",
    "start": "1540799",
    "end": "1546559"
  },
  {
    "text": "so there's a there's the devices that switches actually just can extract meaningful data of this",
    "start": "1546559",
    "end": "1552799"
  },
  {
    "text": "light and electricity once we do that the layer two that actually takes",
    "start": "1552799",
    "end": "1557840"
  },
  {
    "text": "actually makes a logical frame which is still doesn't make sense to this application because it's",
    "start": "1557840",
    "end": "1563200"
  },
  {
    "text": "it's still ones and zeros but it has metadata called mac address which is a physical network",
    "start": "1563200",
    "end": "1568400"
  },
  {
    "text": "layer network address okay then upper leather level ip address oh i",
    "start": "1568400",
    "end": "1573440"
  },
  {
    "text": "i know what an ip address is at the layer 3 you start seeing ip addresses and the layer 4 you start seeing even more cool stuff you start",
    "start": "1573440",
    "end": "1580080"
  },
  {
    "text": "seeing the ports port 80 i don't think we talk about ports but ports essentially is the",
    "start": "1580080",
    "end": "1585279"
  },
  {
    "text": "application level concept right once you see at the tcp layer you start seeing these ports",
    "start": "1585279",
    "end": "1591200"
  },
  {
    "text": "okay and then what we're going up that other layer this encryption layer session layer and then",
    "start": "1591200",
    "end": "1596880"
  },
  {
    "text": "go all the way and then unpack all the dolls the session doll until we found a bunch of blob string that actually",
    "start": "1596880",
    "end": "1606080"
  },
  {
    "text": "looks like an http request tcp is the vehicle that transports",
    "start": "1606080",
    "end": "1613600"
  },
  {
    "text": "this blob of string for us the http that we talked about right it's just blindly transport this thing",
    "start": "1613600",
    "end": "1620640"
  },
  {
    "text": "it does it has no idea what it's transported it's a stupid layer it is it's a smart layer i'm sorry",
    "start": "1620640",
    "end": "1626400"
  },
  {
    "text": "there's a smart layer that does its job very well okay let's rephrase it okay but it's",
    "start": "1626400",
    "end": "1631840"
  },
  {
    "text": "just like a bus just like a bus send send me data i'm gonna receive it i'm gonna send it i'm",
    "start": "1631840",
    "end": "1638000"
  },
  {
    "text": "gonna send it in a way that it is received correctly at the at the other end",
    "start": "1638000",
    "end": "1645679"
  },
  {
    "text": "and we talked about tcp and udb tcp is a little bit expensive because to ensure this integrity it has to do a",
    "start": "1645679",
    "end": "1652480"
  },
  {
    "text": "lot of stuff it has to do a lot a lot a lot of stuff okay and uh congestion control and all",
    "start": "1652480",
    "end": "1659279"
  },
  {
    "text": "that stuff but tcp it uses tcp in a nutshell okay that's what i want to talk about so",
    "start": "1659279",
    "end": "1665360"
  },
  {
    "text": "a tcp as this vehicle is that the the the boss that carries this",
    "start": "1665360",
    "end": "1671279"
  },
  {
    "text": "data right around okay so it just chunks this data and then into packets and then shove this data",
    "start": "1671279",
    "end": "1676960"
  },
  {
    "text": "into tcp and shoot but to to start the tcp connection",
    "start": "1676960",
    "end": "1682080"
  },
  {
    "text": "we really need to essentially do some sort of a handshake first okay we have to like",
    "start": "1682080",
    "end": "1688080"
  },
  {
    "text": "essentially a three-way handshake okay open a connection to open a connection between the client and server and that's the first thing we",
    "start": "1688080",
    "end": "1693520"
  },
  {
    "text": "do we open a connection because we're about to send a get request we just we're going to hussein nasa.com",
    "start": "1693520",
    "end": "1700559"
  },
  {
    "text": "right and we're going to that site and the first thing i do get slash dot com that's the only thing",
    "start": "1700559",
    "end": "1706559"
  },
  {
    "text": "i sent okay this string of thing will get converted into bytes and as bytes will become",
    "start": "1706559",
    "end": "1712640"
  },
  {
    "text": "such a bits bones and zeros and zeros tcp and then will get sent across to the",
    "start": "1712640",
    "end": "1719039"
  },
  {
    "text": "server and then the get request will be received by the server and the server will make the process",
    "start": "1719039",
    "end": "1726080"
  },
  {
    "text": "this request make sense of it responds with the headers and the index.html send it over to the tcp",
    "start": "1726080",
    "end": "1731679"
  },
  {
    "text": "connection this could be one package it could be multiple packets if you have a lot right",
    "start": "1731679",
    "end": "1737120"
  },
  {
    "text": "because tcp just breaks things down okay but that's the idea make the request send it back close it",
    "start": "1737120",
    "end": "1744399"
  },
  {
    "text": "that's what http actually does okay we're gonna talk about the differences a little bit differences here between one",
    "start": "1744399",
    "end": "1749440"
  },
  {
    "text": "zero and one but that's that's it open tcp close dcp that has a cost",
    "start": "1749440",
    "end": "1754880"
  },
  {
    "text": "open and close okay https",
    "start": "1754880",
    "end": "1760080"
  },
  {
    "text": "it's exactly like http but there is something happens at the beginning it's called the handshake it's a tls",
    "start": "1760080",
    "end": "1766000"
  },
  {
    "text": "handshake or ssl handshake and we're going to reference the video that we made on tls guys talk about how we actually establish",
    "start": "1766000",
    "end": "1773520"
  },
  {
    "text": "a secure communication so all of the reason of this hashtag is for",
    "start": "1773520",
    "end": "1778720"
  },
  {
    "text": "those two to have the same key that's the all what it is tls and we talked about the details that we",
    "start": "1778720",
    "end": "1785039"
  },
  {
    "text": "actually zoomed in in this thing and we talked about it in details in that video so i'm not gonna go with that in there",
    "start": "1785039",
    "end": "1791279"
  },
  {
    "text": "but essentially the the goal of this is let both party have a key",
    "start": "1791279",
    "end": "1796960"
  },
  {
    "text": "the same key symmetrical key encryption okay and then let them exchange it now if the client want to",
    "start": "1796960",
    "end": "1803120"
  },
  {
    "text": "send as usually encrypts where to encrypt that send the request get request and then the server will actually if",
    "start": "1803120",
    "end": "1810480"
  },
  {
    "text": "someone if someone starts to sniff it will not understand it take that request",
    "start": "1810480",
    "end": "1816159"
  },
  {
    "text": "response include the response send it back and then close the connection okay now",
    "start": "1816159",
    "end": "1825279"
  },
  {
    "text": "talk about http www.https now what is http",
    "start": "1825279",
    "end": "1833120"
  },
  {
    "text": "1oh the first version 1996. for some reason okay it was a good idea",
    "start": "1833120",
    "end": "1840640"
  },
  {
    "text": "right so remember guys this is 1996. ram was what i think the maximum number",
    "start": "1840640",
    "end": "1846320"
  },
  {
    "text": "of ram was it was 64 megabytes right back then i think that's the first computer i got right",
    "start": "1846320",
    "end": "1852399"
  },
  {
    "text": "so tcp connections established tcp connection was expensive in in terms of",
    "start": "1852399",
    "end": "1857760"
  },
  {
    "text": "ram because htc actually takes some memory okay and we didn't want to leave all these",
    "start": "1857760",
    "end": "1864559"
  },
  {
    "text": "tcp connections open so what do we do we we thought that we are smart back in 1996 and said okay",
    "start": "1864559",
    "end": "1870159"
  },
  {
    "text": "let's for each request we're going to open a connection send the request response and then once we're done we're",
    "start": "1870159",
    "end": "1875840"
  },
  {
    "text": "going to close the connection and not",
    "start": "1875840",
    "end": "1878799"
  },
  {
    "text": "100 available where it has like marquee text and and what with blinking things and",
    "start": "1891120",
    "end": "1898159"
  },
  {
    "text": "you know the 1019 96 kind of websites if you're from that era",
    "start": "1898159",
    "end": "1903440"
  },
  {
    "text": "right so it doesn't have a lot of stuff but as internet became more popular people start putting images in their",
    "start": "1903440",
    "end": "1908720"
  },
  {
    "text": "index.js you know people start doing a lot of stuff so this index.html has a lot of stuff so guess what that's not the first",
    "start": "1908720",
    "end": "1915519"
  },
  {
    "text": "request and the only request we're going to make yes you just closed the tcp connection here right",
    "start": "1915519",
    "end": "1920960"
  },
  {
    "text": "by the way the cp connection is actually both side right so this is here and there's another one here so i just",
    "start": "1920960",
    "end": "1926159"
  },
  {
    "text": "didn't show it but that's the most critical one the one that is here that's the memory",
    "start": "1926159",
    "end": "1931519"
  },
  {
    "text": "second so we close it so we receive the reserve the memory and then the memory can be used for something",
    "start": "1931519",
    "end": "1937039"
  },
  {
    "text": "other thing like playing minecraft or where minecraft wasn't invented in 1996.",
    "start": "1937039",
    "end": "1942399"
  },
  {
    "text": "never mind playing playing prance if you guys know that game friends prince of persia so close that thing",
    "start": "1942399",
    "end": "1950080"
  },
  {
    "text": "and then guess what i'm about to send another request because there's an image that user need",
    "start": "1950080",
    "end": "1956080"
  },
  {
    "text": "to see that image i have to request it at some point so go ahead and open another connection",
    "start": "1956080",
    "end": "1961760"
  },
  {
    "text": "request that image1.jpg the server will open that connection on that side and then responds with the image",
    "start": "1961760",
    "end": "1969840"
  },
  {
    "text": "and then guess what we close it again and then hey by the way i forgot there's an image you want to and then we close it",
    "start": "1969840",
    "end": "1978320"
  },
  {
    "text": "you can see how expensive this gets right if you watch if you watch my tcp versus",
    "start": "1978320",
    "end": "1983600"
  },
  {
    "text": "udbv tcp is very slow to start it is literally there is a problem called with tcl",
    "start": "1983600",
    "end": "1989360"
  },
  {
    "text": "tcp slow start okay because it has to do a bunch of things and tcp is slow",
    "start": "1989360",
    "end": "1995440"
  },
  {
    "text": "in general because sending it has to do all this congestion control or",
    "start": "1995440",
    "end": "2000720"
  },
  {
    "text": "reordering packets and all that things and making sure everything is in order so that's very expensive so http 100",
    "start": "2000720",
    "end": "2007519"
  },
  {
    "text": "didn't last a year right 1997 that doesn't make any sense guys we",
    "start": "2007519",
    "end": "2013760"
  },
  {
    "text": "really need to fix that right so we'll see how to fix it so it establishes a new tcp connection with hr",
    "start": "2013760",
    "end": "2020080"
  },
  {
    "text": "quest which is slow and what it does is like it is buffering the responses",
    "start": "2020080",
    "end": "2025440"
  },
  {
    "text": "okay at the back end so if you have like a large uh results like that like a huge",
    "start": "2025440",
    "end": "2031240"
  },
  {
    "text": "index.html what it's gonna do is we'll literally buffers wait for the server to build all that",
    "start": "2031240",
    "end": "2038279"
  },
  {
    "text": "index.html and then sends it slowly to the service okay uh html a little bit",
    "start": "2038279",
    "end": "2046080"
  },
  {
    "text": "improved on that using streaming but instead this is using buffering okay one one all our problems are sold this",
    "start": "2046080",
    "end": "2053520"
  },
  {
    "text": "is the only protocol that survived what 20 years because 2015 http 2 became",
    "start": "2053520",
    "end": "2060079"
  },
  {
    "text": "the dominant ones i don't know if this is still dominant or not but 2015 let's do the math 2015 to",
    "start": "2060079",
    "end": "2066720"
  },
  {
    "text": "1997. that's 20 years old more than that even okay this guy survived 20 years okay",
    "start": "2066720",
    "end": "2074000"
  },
  {
    "text": "and it invented something called keep alive header so it's a header but the server it's a",
    "start": "2074000",
    "end": "2080158"
  },
  {
    "text": "server the header for the server to know that oh i probably shouldn't close that connection huh",
    "start": "2080159",
    "end": "2085839"
  },
  {
    "text": "right so we open a connection normally we send a request but we send it i forgot to add it here i keep a live",
    "start": "2085839",
    "end": "2091358"
  },
  {
    "text": "header which is part of the http request right and then at the server what we do is we will leave that",
    "start": "2091359",
    "end": "2099680"
  },
  {
    "text": "connection we're not going to close it i'm going to keep it for you sir right as long as we d",
    "start": "2099680",
    "end": "2105599"
  },
  {
    "text": "as we as as long as we agree that both this connection are kept on both",
    "start": "2105599",
    "end": "2110880"
  },
  {
    "text": "sides so that's why the client's always the is the person all right that's",
    "start": "2110880",
    "end": "2116000"
  },
  {
    "text": "tells the server hey please keep it alive please don't kill me right",
    "start": "2116000",
    "end": "2122480"
  },
  {
    "text": "and then we made another request i don't need to create a new stupid connection right",
    "start": "2122480",
    "end": "2129440"
  },
  {
    "text": "fast fast stuff guys right and then finally when we're done",
    "start": "2129440",
    "end": "2135040"
  },
  {
    "text": "right we close it and whenever that means right when we're done okay http one one introduced caching with",
    "start": "2135040",
    "end": "2143040"
  },
  {
    "text": "tags i forgot to mention that so so one o didn't have really good caching this etas concept which",
    "start": "2143040",
    "end": "2149520"
  },
  {
    "text": "which we talked about right so in the description guys there will be a bunch of links to my videos",
    "start": "2149520",
    "end": "2155200"
  },
  {
    "text": "right to talk about all of that stuff right hopefully youtube will also suggest some some of that stuff for you",
    "start": "2155200",
    "end": "2160640"
  },
  {
    "text": "from my channel which will be if you go to watch it you're gonna support me thank you so much right one one",
    "start": "2160640",
    "end": "2167599"
  },
  {
    "text": "we moved to this persisted tvs db connection or persisted connection model if you heard this term before that's what it means we persist now",
    "start": "2167599",
    "end": "2175440"
  },
  {
    "text": "we're gonna persist the connection so we have lower latency and then we",
    "start": "2175440",
    "end": "2180720"
  },
  {
    "text": "have streaming with truck transfer that we talked about instead of buffering so the moment we have part of the html",
    "start": "2180720",
    "end": "2187119"
  },
  {
    "text": "page we're going to send it we're going to send it through the connection we're not going to wait right okay so that's",
    "start": "2187119",
    "end": "2193920"
  },
  {
    "text": "and then we're going to tell the client that hey by the way uh this is part one part two part three part four so so at least",
    "start": "2193920",
    "end": "2200400"
  },
  {
    "text": "if you want to show an image you can show part of the image i don't know if you guys remember back and when you had a slow dial up",
    "start": "2200400",
    "end": "2206720"
  },
  {
    "text": "connection the image will literally just you can see the image loading okay and",
    "start": "2206720",
    "end": "2212640"
  },
  {
    "text": "that's because of the streaming chunk transfer okay which by the way has been replaced",
    "start": "2212640",
    "end": "2217680"
  },
  {
    "text": "with two all with a better multiplexing functionality but that's when you when you remember",
    "start": "2217680",
    "end": "2223760"
  },
  {
    "text": "this is like the images just do i'll try to put a jeff here or something the image loading showing you the image",
    "start": "2223760",
    "end": "2230480"
  },
  {
    "text": "actually loading remember dial up days no you don't okay sorry pipelining i don't want to talk about this because",
    "start": "2230480",
    "end": "2236400"
  },
  {
    "text": "this is like smooth uh it was it was a smart idea i won but",
    "start": "2236400",
    "end": "2242880"
  },
  {
    "text": "it made more problems than than good like this http pipeline it has been",
    "start": "2242880",
    "end": "2248640"
  },
  {
    "text": "actually disabled by default and and think of 2015 or 2017 so you don't watch gtp live point lighting",
    "start": "2248640",
    "end": "2255119"
  },
  {
    "text": "is having this problem called head of line problem which where where clients keeps waiting for",
    "start": "2255119",
    "end": "2261200"
  },
  {
    "text": "the packets to reorder themselves and which is which is i might make another video just talking",
    "start": "2261200",
    "end": "2266320"
  },
  {
    "text": "about that actual problem but pipelining where we send in",
    "start": "2266320",
    "end": "2271440"
  },
  {
    "text": "this request right instead of sending and then waiting for the response sending and waiting for response sending",
    "start": "2271440",
    "end": "2276880"
  },
  {
    "text": "in the waiting for response that the the three blue lines will come first and then the three red lines will",
    "start": "2276880",
    "end": "2282480"
  },
  {
    "text": "come after okay so we'll send them in parallel essentially okay this could be multiple threads because",
    "start": "2282480",
    "end": "2288320"
  },
  {
    "text": "this could be like the loop event the loop mechanism where",
    "start": "2288320",
    "end": "2294320"
  },
  {
    "text": "we actually send them all of white once and then wait for the result the problem with that is the ordering really so we have really to guarantee",
    "start": "2294320",
    "end": "2300880"
  },
  {
    "text": "that all that and that and that become really problematic that's essentially pop lining in a nutshell right",
    "start": "2300880",
    "end": "2306480"
  },
  {
    "text": "let's hopefully we're gonna close the video a little little short here right i know i talked a lot",
    "start": "2306480",
    "end": "2312480"
  },
  {
    "text": "but i hope i hope you guys uh really enjoyed this video i know my videos are long in general but",
    "start": "2312480",
    "end": "2317920"
  },
  {
    "text": "i hope there are a lot of content for you that actually valuable right i don't make two or three",
    "start": "2317920",
    "end": "2324240"
  },
  {
    "text": "for fair five even seven minutes video i think i couldn't i i'm not good enough",
    "start": "2324240",
    "end": "2329920"
  },
  {
    "text": "to make that short video delivering good content for you that's why i",
    "start": "2329920",
    "end": "2335359"
  },
  {
    "text": "i need to talk about a lot of other things because if i made a seven five six minutes video then i'm gonna cut a",
    "start": "2335359",
    "end": "2341760"
  },
  {
    "text": "lot of things and and to me that was that isn't a valuable video because this channel is designed to make",
    "start": "2341760",
    "end": "2350240"
  },
  {
    "text": "me a better software engineer to make you a better software engineer so you need to understand the details and nuts",
    "start": "2350240",
    "end": "2355359"
  },
  {
    "text": "and bolts of things right that's why i need to talk about detailed things okay and and and that's okay and",
    "start": "2355359",
    "end": "2361440"
  },
  {
    "text": "if you disagree i i totally respect that right but that's why my videos are long a lot of people",
    "start": "2361440",
    "end": "2366960"
  },
  {
    "text": "complain about that a lot of people of you guys love that i have made 20 30 minutes",
    "start": "2366960",
    "end": "2372400"
  },
  {
    "text": "videos but that's essentially my my points of this right so i make longer videos because there",
    "start": "2372400",
    "end": "2378880"
  },
  {
    "text": "are a lot to talk about okay i can make break them into multiple videos but you have to jump through",
    "start": "2378880",
    "end": "2384079"
  },
  {
    "text": "multiple hoops to get one answer uh http 2",
    "start": "2384079",
    "end": "2389520"
  },
  {
    "text": "i don't remember the timeline i'm sorry guys for this but uh it was designed to solve our problems in",
    "start": "2389520",
    "end": "2395280"
  },
  {
    "text": "one one and one one no one but one uh compression is one of them but i",
    "start": "2395280",
    "end": "2400880"
  },
  {
    "text": "really should put multiplex as the first one multiplexing is id essentially an idea where multiple",
    "start": "2400880",
    "end": "2408079"
  },
  {
    "text": "requests come and get shoved into one channel",
    "start": "2408079",
    "end": "2413280"
  },
  {
    "text": "that's that's what multiplexing is like you go like a lot of wires coming into one place and you",
    "start": "2413280",
    "end": "2418640"
  },
  {
    "text": "multiplex them into one okay that's the same thing here so if you remember our",
    "start": "2418640",
    "end": "2424079"
  },
  {
    "text": "request think of multiplexing like the client will join these requests and shove them into",
    "start": "2424079",
    "end": "2431119"
  },
  {
    "text": "one tcp request one tcp packet if you will",
    "start": "2431119",
    "end": "2436640"
  },
  {
    "text": "not one tcp packet multiple tcp packets as a one request it goes as a one request so logically the http protocol two two oh",
    "start": "2436640",
    "end": "2445200"
  },
  {
    "text": "well which is called speedy by the way and then it was renamed to http2 it was just shoved into multi one",
    "start": "2445200",
    "end": "2452480"
  },
  {
    "text": "connection and that's you can see it just just like doing that we solve the head of line problem which",
    "start": "2452480",
    "end": "2458240"
  },
  {
    "text": "is like the ordering of thing because i'm saying one request right it looks like three requests but it's actually",
    "start": "2458240",
    "end": "2463839"
  },
  {
    "text": "uh it looks like one request but it's actually three requests or four or five right so we start doing that stuff",
    "start": "2463839",
    "end": "2469440"
  },
  {
    "text": "multiplexing and then we find a way to compress these things because everything is now uh protocol buffers",
    "start": "2469440",
    "end": "2477359"
  },
  {
    "text": "which is that uh pro the open source uh format for um was like google that uh",
    "start": "2477359",
    "end": "2483920"
  },
  {
    "text": "designed it instead of using json or anything so it's using uh binary format it's not recently",
    "start": "2483920",
    "end": "2489280"
  },
  {
    "text": "portable buffer you can't support that if you want to uh it uses service push so if you don't",
    "start": "2489280",
    "end": "2494800"
  },
  {
    "text": "have to wait for the the request to come the actual server will push request because",
    "start": "2494800",
    "end": "2500319"
  },
  {
    "text": "it's a bi-direction almost like a bi-directional request again that looks like a request",
    "start": "2500319",
    "end": "2507200"
  },
  {
    "text": "response to a fetch api to a browser but internally it's a server push which",
    "start": "2507200",
    "end": "2512800"
  },
  {
    "text": "is slightly faster okay i'm really think i'm still thinking http 2 is stateless",
    "start": "2512800",
    "end": "2518720"
  },
  {
    "text": "right i although under the hood it is stateful because of think about it all protocols",
    "start": "2518720",
    "end": "2525119"
  },
  {
    "text": "are stateful because using tcp which is stateful but it gives you that the impression that is stateless at the end and i",
    "start": "2525119",
    "end": "2532079"
  },
  {
    "text": "think http 2 is still applicable to stateless because if you if you destroy the server and you",
    "start": "2532079",
    "end": "2538160"
  },
  {
    "text": "spin it up again i can it doesn't hold information about that or even",
    "start": "2538160",
    "end": "2543680"
  },
  {
    "text": "it can resume my session my http session quickly right without me even noticing",
    "start": "2543680",
    "end": "2549680"
  },
  {
    "text": "that something has broken okay that's the idea it uses speedy and it's always they does this those",
    "start": "2549680",
    "end": "2555520"
  },
  {
    "text": "guys decide to secure by default so it's always https okay because and the reason because of",
    "start": "2555520",
    "end": "2561440"
  },
  {
    "text": "this protocol negotiation and the protocol negotiation is because we have a lot of old servers now 1.0 and 0.0.9",
    "start": "2561440",
    "end": "2570800"
  },
  {
    "text": "right but we have to really negotiate guys the protocol that we're going to use",
    "start": "2570800",
    "end": "2575839"
  },
  {
    "text": "with the server okay so the client have says okay can you support 2o can you support http",
    "start": "2575839",
    "end": "2582560"
  },
  {
    "text": "2 please so this protocol is called next protocol negotiation and which has been replaced with the",
    "start": "2582560",
    "end": "2589680"
  },
  {
    "text": "application layer protocol negotiation which is a little bit better this this thing was trying to encrypt",
    "start": "2589680",
    "end": "2597280"
  },
  {
    "text": "uh the the requested protocol which is kind of useless right because like but this one is like",
    "start": "2597280",
    "end": "2603440"
  },
  {
    "text": "transfers and declare right so i'm going to make a video just about these two essentially all right but essentially an idea is",
    "start": "2603440",
    "end": "2609280"
  },
  {
    "text": "like you make a request and say hey this is the list of protocols that i",
    "start": "2609280",
    "end": "2614319"
  },
  {
    "text": "support okay the server picks one and then that happens during the tls negotiation",
    "start": "2614319",
    "end": "2621119"
  },
  {
    "text": "okay there's tls handshake which that's why these two things which is just let's talk about",
    "start": "2621119",
    "end": "2626319"
  },
  {
    "text": "this because that's the new version and that's an extension of tls alpn is actually",
    "start": "2626319",
    "end": "2631359"
  },
  {
    "text": "an extension of tls that allows you to pick that and and it does it very",
    "start": "2631359",
    "end": "2637440"
  },
  {
    "text": "quickly because it's part of tls and because part of tls always is always https right",
    "start": "2637440",
    "end": "2644160"
  },
  {
    "text": "right if it's not then they have to do this other stuff to pick the protocol",
    "start": "2644160",
    "end": "2649200"
  },
  {
    "text": "and all that stuff right guys finally http 2 over quick",
    "start": "2649200",
    "end": "2654480"
  },
  {
    "text": "okay or recently actually i think 2018 september has been renamed to http 3 it",
    "start": "2654480",
    "end": "2659599"
  },
  {
    "text": "has been adopted by the internet task force internet engineering task for i",
    "start": "2659599",
    "end": "2665520"
  },
  {
    "text": "etf right iatf okay it's been renamed to http 3 now",
    "start": "2665520",
    "end": "2671359"
  },
  {
    "text": "okay and the idea is it's exactly like hdb2 but it's instead of using tcp which is",
    "start": "2671359",
    "end": "2676880"
  },
  {
    "text": "slow because of all this uh frame ordering and and and",
    "start": "2676880",
    "end": "2682640"
  },
  {
    "text": "the conjunction control and a lot of other pro cons of the tcp protocol the slow start",
    "start": "2682640",
    "end": "2689520"
  },
  {
    "text": "and all that stem from they decide to use udp instead they use their different but the problem with udp",
    "start": "2689520",
    "end": "2696160"
  },
  {
    "text": "just using the udp it is lossy right you're gonna lose you don't",
    "start": "2696160",
    "end": "2701839"
  },
  {
    "text": "guarantee that you're gonna receive the request in in intact right correctly",
    "start": "2701839",
    "end": "2707359"
  },
  {
    "text": "right it doesn't have conjunction conditions i have anything just send the data and you just hope that you're gonna receive it correctly right so google",
    "start": "2707359",
    "end": "2713839"
  },
  {
    "text": "came up with a quick right which i think stands for quick use udp internet connection which",
    "start": "2713839",
    "end": "2721599"
  },
  {
    "text": "people don't like to you call it that is that's not an acronym for anything it's just literally called quick okay and then udp",
    "start": "2721599",
    "end": "2729440"
  },
  {
    "text": "with conjunction control that's what it is essentially and there's a lot of going on i'm not going",
    "start": "2729440",
    "end": "2735200"
  },
  {
    "text": "to go through details but it has all the http features but it replaces the tcp as this",
    "start": "2735200",
    "end": "2740960"
  },
  {
    "text": "vehicle that transfers thing instead of this tcp let's use quick which is the udp with",
    "start": "2740960",
    "end": "2747119"
  },
  {
    "text": "some features that makes it uh uh reliable if you will",
    "start": "2747119",
    "end": "2752800"
  },
  {
    "text": "okay this still this is still experimental it did not uh hit the road yet right uh",
    "start": "2752800",
    "end": "2760160"
  },
  {
    "text": "google is still i think they're still using it though internally in google server but uh it didn't see a wi-bet option yet",
    "start": "2760160",
    "end": "2768960"
  },
  {
    "text": "right so it's still experimental http 3 is still experimental but if you saw http 3 that's that's it it's just hdb2",
    "start": "2768960",
    "end": "2774720"
  },
  {
    "text": "over quick okay uh if i missed anything guys do let me know in the comment section below",
    "start": "2774720",
    "end": "2780319"
  },
  {
    "text": "right obviously not perfect yeah this is my research this is the research i did and then that's what i found",
    "start": "2780319",
    "end": "2785440"
  },
  {
    "text": "okay we talked about http and now tell me it's a long video we talked about request response we talked about 100",
    "start": "2785440",
    "end": "2791119"
  },
  {
    "text": "we talked about one one over tcp http 2 over tcp and all the problems",
    "start": "2791119",
    "end": "2796640"
  },
  {
    "text": "that we solved the speed that we got with each one of those right",
    "start": "2796640",
    "end": "2802160"
  },
  {
    "text": "and then we're almost here hdb2 and we're moving to http 3 in the future all right guys hope you",
    "start": "2802160",
    "end": "2808800"
  },
  {
    "text": "enjoyed this video if you enjoyed it give it a like subscribe to this channel hit that notification bell",
    "start": "2808800",
    "end": "2814400"
  },
  {
    "text": "to uh check out the other content of this channel we have we talked about all sorts of",
    "start": "2814400",
    "end": "2819760"
  },
  {
    "text": "software engineering right that's the goal of the software this channel right i want to become a better",
    "start": "2819760",
    "end": "2825119"
  },
  {
    "text": "software engineer i want you to join me in this journey right we're gonna learn everything that is to",
    "start": "2825119",
    "end": "2831520"
  },
  {
    "text": "software engineering and uh i know that we're not gonna get there ever right because",
    "start": "2831520",
    "end": "2838720"
  },
  {
    "text": "there's a lot to learn and that's the beauty of it it's an unlimited game it's an unlimited",
    "start": "2838720",
    "end": "2844079"
  },
  {
    "text": "game we can never be the best because there is literally infinite information",
    "start": "2844079",
    "end": "2851440"
  },
  {
    "text": "out there okay and it's like pokemon we're gonna catch them all okay hopefully but you know ash never",
    "start": "2851440",
    "end": "2858240"
  },
  {
    "text": "caught them all did he i don't know there are a lot of pokemons out there but we try to cut or",
    "start": "2858240",
    "end": "2863359"
  },
  {
    "text": "catch all the software engineering uh pokemons out there but i don't i really doubt it but",
    "start": "2863359",
    "end": "2869440"
  },
  {
    "text": "that kind of make me want to push more and learn and learn learn more",
    "start": "2869440",
    "end": "2874559"
  },
  {
    "text": "all right i'm going to stop talking right now guys sorry and thank you so much if you really made it to this end",
    "start": "2874559",
    "end": "2881280"
  },
  {
    "text": "thank you so much for making it all this way to the end of this video",
    "start": "2881280",
    "end": "2886559"
  },
  {
    "text": "you guys rock leave a comment in this section if you want any say anything",
    "start": "2886559",
    "end": "2891760"
  },
  {
    "text": "okay if you want to troll me feel free good for you if you want to say that you suck feel free",
    "start": "2891760",
    "end": "2897520"
  },
  {
    "text": "if you like this video say so all right and uh love you so much stay awesome gonna see",
    "start": "2897520",
    "end": "2903520"
  },
  {
    "start": "2900000",
    "end": "5135000"
  },
  {
    "text": "you in the next one goodbye",
    "start": "2903520",
    "end": "2906720"
  },
  {
    "text": "a web server is a software that serves web content through the http protocol it is the foundation of the internet and",
    "start": "2908800",
    "end": "2914880"
  },
  {
    "text": "any website out there must be sitting and hosted by a web server web apis like rest apis",
    "start": "2914880",
    "end": "2921599"
  },
  {
    "text": "can also be hosted on some sort of variation of op server as well web servers can serve static and dynamic",
    "start": "2921599",
    "end": "2929200"
  },
  {
    "text": "content we're going to talk a little about that and you can use an out of the box web",
    "start": "2929200",
    "end": "2934319"
  },
  {
    "text": "servers like tomcat or apache or lighty as i would call i think it's called",
    "start": "2934319",
    "end": "2940319"
  },
  {
    "text": "lightly or you can build your own from scratch like you build the using a framework like node.js or",
    "start": "2940319",
    "end": "2945920"
  },
  {
    "text": "express.js or python tornado right you can do all that stuff with a web server okay",
    "start": "2945920",
    "end": "2951680"
  },
  {
    "text": "in this video we will explain what is a web server how it works and we'll go through and",
    "start": "2951680",
    "end": "2958000"
  },
  {
    "text": "spin off two types of web servers one of those like ready-made web servers which you can",
    "start": "2958000",
    "end": "2963680"
  },
  {
    "text": "just install and just put static content on it and let it work and we can also we're",
    "start": "2963680",
    "end": "2970400"
  },
  {
    "text": "gonna also explain how you can write almost your own web server from scratch using the web framework we're gonna use",
    "start": "2970400",
    "end": "2977119"
  },
  {
    "text": "express.js for that okay but i've made a lot of videos about python and web",
    "start": "2977119",
    "end": "2983520"
  },
  {
    "text": "vendor known to check out the content in this channel right so speaking of which if you're new here",
    "start": "2983520",
    "end": "2989760"
  },
  {
    "text": "welcome my name is hussein and this channel will discuss all sorts of software engineering by example we have tutorials programming",
    "start": "2989760",
    "end": "2996720"
  },
  {
    "text": "we got software engineering concepts like what would observe was it proxy nat right anything that particularly",
    "start": "2996720",
    "end": "3002960"
  },
  {
    "text": "interests me i just added as a thing to do in this channel and in order for me to learn if you're",
    "start": "3002960",
    "end": "3008480"
  },
  {
    "text": "interested in that kind of things hit that subscribe button and hit that bell icon so you can get notified whenever i upload a",
    "start": "3008480",
    "end": "3015520"
  },
  {
    "text": "video that's it let's just jump into this video guys all right let's just jump into some uh",
    "start": "3015520",
    "end": "3021520"
  },
  {
    "text": "hopefully go through this theoretical part so we can show you some cool-ish stuff and i'm gonna add some jump codes",
    "start": "3021520",
    "end": "3026720"
  },
  {
    "text": "here you're gonna see it here so you can just jump to your favorite part of this video all right",
    "start": "3026720",
    "end": "3032640"
  },
  {
    "text": "we're gonna talk about what is a web server in this agenda we're gonna talk about how uh web servers work and we're to",
    "start": "3032640",
    "end": "3039040"
  },
  {
    "text": "show you the examples right this is our agenda for this video okay what is a web server it is a software",
    "start": "3039040",
    "end": "3045599"
  },
  {
    "text": "essential that says web content period okay define what web content could be your",
    "start": "3045599",
    "end": "3052319"
  },
  {
    "text": "html pages could be just images pdf right anything that can live",
    "start": "3052319",
    "end": "3058880"
  },
  {
    "text": "as a web and transferred as a web content is defined as web content okay your api",
    "start": "3058880",
    "end": "3064480"
  },
  {
    "text": "could be web content right your json document is a web content okay anything has sent back text right can be",
    "start": "3064480",
    "end": "3070800"
  },
  {
    "text": "web content that's that's the and uh that's the definition of that okay and it's consumed",
    "start": "3070800",
    "end": "3076480"
  },
  {
    "text": "by clients who knows how to consume up content okay let's talk more about that",
    "start": "3076480",
    "end": "3081599"
  },
  {
    "text": "that's why it uses the http protocol and guess what we have made a video about the http",
    "start": "3081599",
    "end": "3087680"
  },
  {
    "text": "protocol i'm going to make it a reference here so if you want deep dive into what http exactly",
    "start": "3087680",
    "end": "3093760"
  },
  {
    "text": "exactly exactly is with examples go watch that video i'm going to reference it here but essentially it's the hyper text",
    "start": "3093760",
    "end": "3101440"
  },
  {
    "text": "transfer protocol quasi design and there's different versions the different semantics right but we are now in http",
    "start": "3101440",
    "end": "3108640"
  },
  {
    "text": "2 http 3 is coming http 1 1 has been living for almost 20 years",
    "start": "3108640",
    "end": "3115280"
  },
  {
    "text": "and essentially this is what the web runs on okay right and that's when you say like",
    "start": "3115280",
    "end": "3120319"
  },
  {
    "text": "http slash that's you're using http vertical okay if you don't want to more learn more about it go there",
    "start": "3120319",
    "end": "3126400"
  },
  {
    "text": "and uh all right static versus dynamic content so what does that mean okay if you're like me born a millennial born in 1983",
    "start": "3126400",
    "end": "3134640"
  },
  {
    "text": "or a little bit earlier a little bit after that you would remember the early days of the",
    "start": "3134640",
    "end": "3140559"
  },
  {
    "text": "web where those flashy marquee texts and the moving stuff where the web was",
    "start": "3140559",
    "end": "3147520"
  },
  {
    "text": "essentially just you consume stuff okay you cannot really change anything in the web as a user you can just",
    "start": "3147520",
    "end": "3153359"
  },
  {
    "text": "consume it's a static content there's a just a bunch of static content html pages right most of the off watch or run on",
    "start": "3153359",
    "end": "3160640"
  },
  {
    "text": "apache by the way all right so that's like the the state state-of-the-art in the 90s",
    "start": "3160640",
    "end": "3166480"
  },
  {
    "text": "if you remember okay so all these flashy images and and essentially static",
    "start": "3166480",
    "end": "3172559"
  },
  {
    "text": "content is like index.html index pages html pages pdf",
    "start": "3172559",
    "end": "3178240"
  },
  {
    "text": "images css right i don't know if the css existed in the 90s or not",
    "start": "3178240",
    "end": "3183359"
  },
  {
    "text": "javascript files also considered as a static files which is funny because it's actually code but it",
    "start": "3183359",
    "end": "3189520"
  },
  {
    "text": "is not nevertheless it's a static file it's a file that you can download and that's it okay and uh",
    "start": "3189520",
    "end": "3196559"
  },
  {
    "text": "here's the interesting part with that static file so you can host a web server and you can",
    "start": "3196559",
    "end": "3202079"
  },
  {
    "text": "put static files on and you can serve those very easily we can show that okay that's the cool part",
    "start": "3202079",
    "end": "3207599"
  },
  {
    "text": "of the webinar so you author content you paste it in a folder in your web server and then your web",
    "start": "3207599",
    "end": "3214240"
  },
  {
    "text": "server will immediately generate that these nice urls for you as http slash whatever the folder you",
    "start": "3214240",
    "end": "3221599"
  },
  {
    "text": "created and then blah you can you can host your pages which is pretty cool",
    "start": "3221599",
    "end": "3226640"
  },
  {
    "text": "right so people instead of sending files by emails you can let just be",
    "start": "3226640",
    "end": "3232880"
  },
  {
    "text": "send people link you are else or you are eyes okay and then they will go to your",
    "start": "3232880",
    "end": "3239040"
  },
  {
    "text": "content so static files are cool because they can be cached because no matter they can if they change you can detect this change using",
    "start": "3239040",
    "end": "3245839"
  },
  {
    "text": "e-tags and caching okay and i'm gonna reference this caching concept here if you want to learn more about it",
    "start": "3245839",
    "end": "3251280"
  },
  {
    "text": "dynamic content on the other hand is is when things like blog posts right it's a it's a query to",
    "start": "3251280",
    "end": "3257920"
  },
  {
    "text": "the database and will retrieve certain results so",
    "start": "3257920",
    "end": "3263200"
  },
  {
    "text": "based on the login user you can get different content different page facebook is an",
    "start": "3263200",
    "end": "3269359"
  },
  {
    "text": "example of this right it's a dynamic you know nobody has the same web page ever okay",
    "start": "3269359",
    "end": "3275760"
  },
  {
    "text": "so caching this is a little bit tricky okay so that dynamic content dynamic content is generated as a part",
    "start": "3275760",
    "end": "3282400"
  },
  {
    "text": "of a language that you write you write code in the backend that generates different content",
    "start": "3282400",
    "end": "3287839"
  },
  {
    "text": "different page or web content",
    "start": "3287839",
    "end": "3293119"
  },
  {
    "text": "based on a different context like could be the user or it could be just the location if you're",
    "start": "3293119",
    "end": "3298240"
  },
  {
    "text": "coming from uh asia you're going to get a certain like look and feel if you're coming from",
    "start": "3298240",
    "end": "3303760"
  },
  {
    "text": "america you're going to get different look of it so that's the dynamic content essentially okay all right uh used to host web pages we",
    "start": "3303760",
    "end": "3312319"
  },
  {
    "text": "talked about that right see we can use to host four pages you can use that's the one oh era just web pages",
    "start": "3312319",
    "end": "3319839"
  },
  {
    "text": "yeah you used to have you can use blogs and forums right where you can that's the web 200",
    "start": "3319839",
    "end": "3326079"
  },
  {
    "text": "right web210 is everything static tool is when things",
    "start": "3326079",
    "end": "3331200"
  },
  {
    "text": "started to allow users to actually interact with these pages like create a comment post it post right do",
    "start": "3331200",
    "end": "3339359"
  },
  {
    "text": "something and then and then you can see these changes so there's an interactivity between the web",
    "start": "3339359",
    "end": "3345200"
  },
  {
    "text": "right and you can also build apis right we talked about apis on this channel i'm",
    "start": "3345200",
    "end": "3351440"
  },
  {
    "text": "gonna reference some videos here we made about how to build the rest api uh with python",
    "start": "3351440",
    "end": "3356799"
  },
  {
    "text": "you can also check my course there python on the back end if you're interested it's all about apis",
    "start": "3356799",
    "end": "3362240"
  },
  {
    "text": "and how you can write by phone on the back end little plug there all right so how absorbers work guys how",
    "start": "3362240",
    "end": "3369119"
  },
  {
    "text": "do this thing work i'm going to talk about concepts here that i explained before so i'm going to gloss",
    "start": "3369119",
    "end": "3375359"
  },
  {
    "text": "over them like tcp or tcps right so if you want to learn more about tcp connections",
    "start": "3375359",
    "end": "3381119"
  },
  {
    "text": "check it out here but essentially what happens here is if a web server there's a client this",
    "start": "3381119",
    "end": "3387520"
  },
  {
    "text": "is your web server this is your client it could be a laptop could be a mobile phone and it's requesting a page and what it",
    "start": "3387520",
    "end": "3394079"
  },
  {
    "text": "happens here is your ip address have you you have an ip address that site will have a domain name",
    "start": "3394079",
    "end": "3402799"
  },
  {
    "text": "it could be having a host name and then it is running on a port usually this",
    "start": "3402799",
    "end": "3409359"
  },
  {
    "text": "port is 80 for web servers okay that's the default port and if you don't see a port on the url",
    "start": "3409359",
    "end": "3416720"
  },
  {
    "text": "that means it's port 80 but you can also run web server on any port you want okay that's not that's just the standard 84",
    "start": "3416720",
    "end": "3424400"
  },
  {
    "text": "http 4434 https all right so and when when you have a web server",
    "start": "3424400",
    "end": "3430960"
  },
  {
    "text": "running and listening on this board that there is a tcp",
    "start": "3430960",
    "end": "3436160"
  },
  {
    "text": "socket or connection ready right and if you make a request let's say git",
    "start": "3436160",
    "end": "3442559"
  },
  {
    "text": "that's the http semantic we talked about get me the index.html page on the",
    "start": "3442559",
    "end": "3447920"
  },
  {
    "text": "example right and this is a syntax for http and when you do that the server will process that request",
    "start": "3447920",
    "end": "3455920"
  },
  {
    "text": "perhaps maybe query the database if it doesn't need to just pull it from a cache or or just pull",
    "start": "3455920",
    "end": "3461760"
  },
  {
    "text": "from the directory and this serves you back the result and then when you send you back since you're the index.html or",
    "start": "3461760",
    "end": "3467440"
  },
  {
    "text": "whatever that html page and it also sends you a bunch of stuff and that response",
    "start": "3467440",
    "end": "3475440"
  },
  {
    "text": "we call this the hitters and status code okay and the status quo is like you might",
    "start": "3475440",
    "end": "3480799"
  },
  {
    "text": "have seen the 200 okay or 404 not found things like that right so the",
    "start": "3480799",
    "end": "3485839"
  },
  {
    "text": "web servers have this http codes that and i want to make a series about all",
    "start": "3485839",
    "end": "3491119"
  },
  {
    "text": "type of http codes hopefully okay so that's the nutshell of that but let's go dive",
    "start": "3491119",
    "end": "3496640"
  },
  {
    "text": "deeper for those who are daring to dive deeper into this okay so another example of a web server",
    "start": "3496640",
    "end": "3505440"
  },
  {
    "text": "one example of this is what i call a blocking single threaded web server and i i decided to",
    "start": "3505440",
    "end": "3511839"
  },
  {
    "text": "explain that because it's the easiest to explain okay obviously",
    "start": "3511839",
    "end": "3517359"
  },
  {
    "text": "none of the web servers work like that and well i take that back so some web servers work like that and",
    "start": "3517359",
    "end": "3523839"
  },
  {
    "text": "there's benefits of that but most work servers have different implementations so let's let's talk about it what exactly",
    "start": "3523839",
    "end": "3529599"
  },
  {
    "text": "happened when i make that get request okay so this is my web server i just made it into a box so we can draw",
    "start": "3529599",
    "end": "3535520"
  },
  {
    "text": "stuff in it okay and then when you first a client makes a request whether this",
    "start": "3535520",
    "end": "3540880"
  },
  {
    "text": "get request there is something happening before that okay http oracle runs on a transport layer",
    "start": "3540880",
    "end": "3548720"
  },
  {
    "text": "called the tcp transmission control protocol okay so a transmission control protocol what it",
    "start": "3548720",
    "end": "3555200"
  },
  {
    "text": "does is it establishes a two-way communication between a server or client",
    "start": "3555200",
    "end": "3560880"
  },
  {
    "text": "okay but the http protocol is just a request response so if you make a request",
    "start": "3560880",
    "end": "3566160"
  },
  {
    "text": "the first thing it does is establish this tcp connection so this is like handshaking going on if there's a tls",
    "start": "3566160",
    "end": "3572559"
  },
  {
    "text": "you need to establish the tls there's a secure thing and once you do that",
    "start": "3572559",
    "end": "3577760"
  },
  {
    "text": "the server creates in its memory and very important here memory let's focus",
    "start": "3577760",
    "end": "3584240"
  },
  {
    "text": "on the board memory every client that connects reserves a",
    "start": "3584240",
    "end": "3589599"
  },
  {
    "text": "little bit of a memory on the server okay that's where",
    "start": "3589599",
    "end": "3594720"
  },
  {
    "text": "things can get a little tricky right that's where all the attacks denial of",
    "start": "3594720",
    "end": "3600559"
  },
  {
    "text": "attack happens because of this reservation of memory okay reserve a lot of memory and your server",
    "start": "3600559",
    "end": "3606480"
  },
  {
    "text": "crashes okay but okay your client connects you reserve a little bit of a memory",
    "start": "3606480",
    "end": "3612240"
  },
  {
    "text": "and this thing is called tcp socket you just have a socket for that client okay okay and once you reserve a socket for",
    "start": "3612240",
    "end": "3619119"
  },
  {
    "text": "that client now you see okay we have one thread one process with one thread that is",
    "start": "3619119",
    "end": "3626720"
  },
  {
    "text": "allowed to execute stuff okay you can have 10 of those circuits but they are sitting in memory they are just",
    "start": "3626720",
    "end": "3632720"
  },
  {
    "text": "idle okay but your process can only execute one at a time okay so let's oh i'm free your thread is three",
    "start": "3632720",
    "end": "3640079"
  },
  {
    "text": "let's say there's a thread here let's start executing and says okay oh you want me to get in this html okay let me go do an io",
    "start": "3640079",
    "end": "3647200"
  },
  {
    "text": "desk or whatever right and then start getting busy that thread means it's it's this sock is busy",
    "start": "3647200",
    "end": "3652880"
  },
  {
    "text": "it's doing something that process is busy doing that and that means that thread cannot do",
    "start": "3652880",
    "end": "3660319"
  },
  {
    "text": "anything else while it's doing that okay so based on that request that's a very",
    "start": "3660319",
    "end": "3666480"
  },
  {
    "text": "simple request but there are many requests that actually pulls from the database or or does a processing i don't know prime",
    "start": "3666480",
    "end": "3673119"
  },
  {
    "text": "number right do do your web api thingy okay that's the tricky part where you need to",
    "start": "3673119",
    "end": "3680319"
  },
  {
    "text": "do short circuit uh breaking say a circuit circuit break and just break the circuit if",
    "start": "3680319",
    "end": "3686960"
  },
  {
    "text": "if the client executes for a long time you execute that you release the third is back and it's",
    "start": "3686960",
    "end": "3693520"
  },
  {
    "text": "back in normal there's the client guide response and we're good to go so what happened now okay so",
    "start": "3693520",
    "end": "3699920"
  },
  {
    "text": "let's say i wanna the kind works on another request it can use its the existing tcp connection it doesn't",
    "start": "3699920",
    "end": "3706799"
  },
  {
    "text": "have to create a brand new tcp connection which is kind of fast so having a connection tcp connection",
    "start": "3706799",
    "end": "3714000"
  },
  {
    "text": "open with the server is a kind of nice thing there's a bad thing about it is just",
    "start": "3714000",
    "end": "3719119"
  },
  {
    "text": "you have your reserving memory on the server so if you have a tcp connection that is open and you're not using it you're wasting",
    "start": "3719119",
    "end": "3726160"
  },
  {
    "text": "server memory okay but yeah pros and cons of this and we talked about the http",
    "start": "3726160",
    "end": "3732319"
  },
  {
    "text": "and then we go execute and then release all right let's make this a little bit",
    "start": "3732319",
    "end": "3737520"
  },
  {
    "text": "spicy let's add another client okay one client may makes a post request that's the right request to the server",
    "start": "3737520",
    "end": "3744799"
  },
  {
    "text": "okay so i want to write something like i want to create a new to-do list in my api and the web server takes that start",
    "start": "3744799",
    "end": "3751280"
  },
  {
    "text": "processing and guess what as a poor joe slob here",
    "start": "3751280",
    "end": "3756319"
  },
  {
    "text": "want to connect to the web server okay and the server is a little bit busy and now",
    "start": "3756319",
    "end": "3762880"
  },
  {
    "text": "the web server implementations shine what do you do",
    "start": "3762880",
    "end": "3769119"
  },
  {
    "text": "what do you do as a web server implementer apache does one thing tomcat does the same thing right node.js",
    "start": "3769119",
    "end": "3776240"
  },
  {
    "text": "does another thing python does another thing you can do whatever you want if you write your own as well okay",
    "start": "3776240",
    "end": "3782160"
  },
  {
    "text": "you can do whatever you want and but here's what here's what a blocking single threaded",
    "start": "3782160",
    "end": "3788400"
  },
  {
    "text": "does okay it creates that tcp socket for you and that's it it just just does that it creates a",
    "start": "3788400",
    "end": "3795440"
  },
  {
    "text": "place of memory for you but guess what sorry i can't serve you",
    "start": "3795440",
    "end": "3800480"
  },
  {
    "text": "yeah the only thing i could do is just create that socket for you yeah you have a tcp connection booyah that's it but",
    "start": "3800480",
    "end": "3808400"
  },
  {
    "text": "i'm busy serving this guy now okay that one thread is busy serving that okay and then once you basically",
    "start": "3808400",
    "end": "3816319"
  },
  {
    "text": "done right this guy can be served and then you release and you're done",
    "start": "3816319",
    "end": "3822799"
  },
  {
    "text": "okay some you some of you might say now okay can you just spin up another thread",
    "start": "3822799",
    "end": "3827839"
  },
  {
    "text": "sure that's what apache does is spin up a new thread for every single request",
    "start": "3827839",
    "end": "3834640"
  },
  {
    "text": "okay and that's why you will you'll see when you go to apache or tonka there is a parameter called maximum thread",
    "start": "3834640",
    "end": "3842000"
  },
  {
    "text": "numbers or maximum connections right how many how many of those do you want right i cannot just",
    "start": "3842000",
    "end": "3847920"
  },
  {
    "text": "have unlimited right well you can change the element if you want if you have unlimited memory here but think about that when",
    "start": "3847920",
    "end": "3854480"
  },
  {
    "text": "you really work with web servers i like you to think about all of that stuff",
    "start": "3854480",
    "end": "3859760"
  },
  {
    "text": "it is really interesting to know how stuff works especially web servers because we",
    "start": "3859760",
    "end": "3865200"
  },
  {
    "text": "work with these as with software engineers i mean writing rest apis this is very critical to understand guys",
    "start": "3865200",
    "end": "3872000"
  },
  {
    "text": "okay so your implementation of how looks like is very critical so",
    "start": "3872000",
    "end": "3877039"
  },
  {
    "text": "you might be happy with a single threaded blocking okay but you might say okay i'm gonna spin",
    "start": "3877039",
    "end": "3883359"
  },
  {
    "text": "multiple observers like that okay so i'm gonna put them behind a load balancer",
    "start": "3883359",
    "end": "3888799"
  },
  {
    "text": "and that's fine why not right i don't see anything wrong with that",
    "start": "3888799",
    "end": "3894240"
  },
  {
    "text": "must be some limitations right you can put in docker containers you can spin up as many containers you want off single",
    "start": "3894240",
    "end": "3900720"
  },
  {
    "text": "threaded i find this way more simple than having complex thread multi-threaded app",
    "start": "3900720",
    "end": "3908480"
  },
  {
    "text": "web server right uh let's have a discussion in the comment section guys what do you think is is a better way of doing things okay",
    "start": "3908480",
    "end": "3915839"
  },
  {
    "text": "there is no right answers or wrong answers here okay people still debating this okay don't",
    "start": "3915839",
    "end": "3921280"
  },
  {
    "text": "think this is set on stones right don't just absorb information discuss",
    "start": "3921280",
    "end": "3926559"
  },
  {
    "text": "right challenge everything that you read okay nobody's perfect example",
    "start": "3926559",
    "end": "3935440"
  },
  {
    "text": "all right example i love this part i love so much okay so i did a google search on some of the",
    "start": "3935440",
    "end": "3941520"
  },
  {
    "text": "web servers right the one i knew was to be honest i knew http i didn't know it was called",
    "start": "3941520",
    "end": "3948160"
  },
  {
    "text": "http by the way it's this is apache it is the other name for this called httpd",
    "start": "3948160",
    "end": "3954160"
  },
  {
    "text": "i know iis i work with iis most of my time i work with tomcat almost at a daily",
    "start": "3954160",
    "end": "3960960"
  },
  {
    "text": "basis my current job right uh i use http server",
    "start": "3960960",
    "end": "3966640"
  },
  {
    "text": "all the time when on my youtube videos because it's the easiest thing ever in life okay",
    "start": "3966640",
    "end": "3973760"
  },
  {
    "text": "light httpd which i think they they force you to say glighty i don't",
    "start": "3973760",
    "end": "3979280"
  },
  {
    "text": "know why it's called lighty there's there is there is an h there is a g there is a p",
    "start": "3979280",
    "end": "3984319"
  },
  {
    "text": "there is a d as as a foreign like non-english speaker this is all wrong by all means you know",
    "start": "3984319",
    "end": "3991440"
  },
  {
    "text": "so write your own that's another way of writing so so you can you can use an existing web server or you can",
    "start": "3991440",
    "end": "3997520"
  },
  {
    "text": "write your own you can you can just use node.js as a framework a web framework or you can use",
    "start": "3997520",
    "end": "4002559"
  },
  {
    "text": "python tornado so guys you can write your own web server as well right and you can",
    "start": "4002559",
    "end": "4008240"
  },
  {
    "text": "use node.js for that you can use python tornado and that gives you the bare metal bones of things again",
    "start": "4008240",
    "end": "4015440"
  },
  {
    "text": "it gives you how to listen to a port gives you how to send statuses it gives you how hey there",
    "start": "4015440",
    "end": "4022000"
  },
  {
    "text": "is a request and a response game do your thing okay it can div so it gives you essentially a blocking uh",
    "start": "4022000",
    "end": "4029680"
  },
  {
    "text": "single threaded okay server but you have to write all of that stuff",
    "start": "4029680",
    "end": "4035039"
  },
  {
    "text": "to yourself okay these guys does most of the work for you",
    "start": "4035039",
    "end": "4040400"
  },
  {
    "text": "if you have iis you can just write an asp application i forgot what asp stands for",
    "start": "4040400",
    "end": "4045760"
  },
  {
    "text": "asp.net active server pages i think says that i think something silly like that so yeah for",
    "start": "4045760",
    "end": "4052240"
  },
  {
    "text": "microsoft you can just really enable iis and just copy i asp.net pages and then there",
    "start": "4052240",
    "end": "4058559"
  },
  {
    "text": "works like that for the demo part of this guys i'm going to show you how to spin up apache 2 which is",
    "start": "4058559",
    "end": "4064319"
  },
  {
    "text": "httpd also okay and we're going to show you",
    "start": "4064319",
    "end": "4070000"
  },
  {
    "text": "i'm going to show you how to spend that in my raspberry pi because i have linux there okay that's the easiest thing all right",
    "start": "4070000",
    "end": "4076559"
  },
  {
    "text": "and i'm going to show you how to do your own web server using node.js express",
    "start": "4076559",
    "end": "4081680"
  },
  {
    "text": "all right guys so here's what i want to do i am logged in here to my raspberry",
    "start": "4081680",
    "end": "4087280"
  },
  {
    "text": "pi which has a debian distribution and i'm going to install apache 2 which",
    "start": "4087280",
    "end": "4094960"
  },
  {
    "text": "is httpd which is the apache web server okay and this is one of those",
    "start": "4094960",
    "end": "4100318"
  },
  {
    "text": "would ready made web server where you can just throw a web content at it like",
    "start": "4100319",
    "end": "4105758"
  },
  {
    "text": "html images and it just will serve it for you very simple stuff right and uh so that's",
    "start": "4105759",
    "end": "4113199"
  },
  {
    "text": "like the easiest way of hosting a web page or hosting in a blog or things that",
    "start": "4113199",
    "end": "4120159"
  },
  {
    "text": "if you want to host a web page or some some like a company website this is the easiest thing you can do right",
    "start": "4120159",
    "end": "4125600"
  },
  {
    "text": "so let's let's let's learn how to do that okay so to do that since i'm using debian i'm gonna do the",
    "start": "4125600",
    "end": "4131758"
  },
  {
    "text": "apt-get here sudo apt-get install it's called apache 2 for some reason",
    "start": "4131759",
    "end": "4138000"
  },
  {
    "text": "okay maybe the first version sucked so they made another version it's called apache 2. okay uh if you're using docker",
    "start": "4138000",
    "end": "4145440"
  },
  {
    "text": "it's called httpd maybe maybe we'll show you how to do that on docker so let's go ahead and install",
    "start": "4145440",
    "end": "4150960"
  },
  {
    "text": "it's going to take a while i'm going to pause the video show you back whenever this is done",
    "start": "4150960",
    "end": "4157920"
  },
  {
    "text": "i really can't believe that this is only 361 kilobytes which is pretty amazing if you ask me right this",
    "start": "4157920",
    "end": "4164480"
  },
  {
    "text": "is really it's written in c i think so or c velocity i forgot last time i checked it it's written in c",
    "start": "4164480",
    "end": "4170880"
  },
  {
    "text": "so it's like very very small footprint right unlike tomcat tomcat is",
    "start": "4170880",
    "end": "4177920"
  },
  {
    "text": "driven written in java and it is really heavy stuff but you can do way more stuff in topcat obviously",
    "start": "4177920",
    "end": "4185440"
  },
  {
    "text": "but yeah it's done that's it okay we just installed it well",
    "start": "4185440",
    "end": "4193199"
  },
  {
    "text": "in your case i haven't installed it before and then i just uninstall it so you might know what to do and so do up",
    "start": "4193199",
    "end": "4198400"
  },
  {
    "text": "apt-get updates and then sudo upd get install apache 2 and then you will have it so",
    "start": "4198400",
    "end": "4204159"
  },
  {
    "text": "what do we do once you install it you go to a folder called var www",
    "start": "4204159",
    "end": "4209440"
  },
  {
    "text": "root and there is a folder called html okay and there is literally a page called",
    "start": "4209440",
    "end": "4215360"
  },
  {
    "text": "index.html they give you for free to test your stuff so let's go ahead and see if that",
    "start": "4215360",
    "end": "4220560"
  },
  {
    "text": "works alright guys so i am here on my mac my mac and my raspberry pi on the same",
    "start": "4220560",
    "end": "4226560"
  },
  {
    "text": "wi-fi so i can access that stuff right so i'm going to do go with raspberry",
    "start": "4226560",
    "end": "4232480"
  },
  {
    "text": "pi dol local and by default the apache 2 listens on port 80 so this",
    "start": "4232480",
    "end": "4239360"
  },
  {
    "text": "spins up the server on port 80 by default okay so if i do that and then runs and you can see",
    "start": "4239360",
    "end": "4248480"
  },
  {
    "text": "it works and i'm using debian obviously okay it tells you that you hey you have your debian",
    "start": "4248480",
    "end": "4255840"
  },
  {
    "text": "distribution but as usual tells you what to do as well copy stuff in that and you get yourself a web server that",
    "start": "4255840",
    "end": "4263600"
  },
  {
    "text": "can serve anything you want okay so since we guys are curious let's do that okay first of all",
    "start": "4263600",
    "end": "4270960"
  },
  {
    "text": "uh i'm not the owner of that thing for some reason so what i want to do is i want to change the owner of this thing",
    "start": "4270960",
    "end": "4277440"
  },
  {
    "text": "all right guys so before we create our own html page and do fancy",
    "start": "4277440",
    "end": "4282480"
  },
  {
    "text": "stuff i want to own that html folder here because uh i'm not the owner of it",
    "start": "4282480",
    "end": "4287920"
  },
  {
    "text": "okay as pi the user okay so what i want to do is go back a little bit and then i want to",
    "start": "4287920",
    "end": "4293360"
  },
  {
    "text": "do a pseudo channel which is change owner and the channel this thing",
    "start": "4293360",
    "end": "4298960"
  },
  {
    "text": "in from pi on this folder okay so that means",
    "start": "4298960",
    "end": "4305840"
  },
  {
    "text": "the owner of this is okay moi can now write stuff in it because",
    "start": "4305840",
    "end": "4312880"
  },
  {
    "text": "previously i couldn't so first thing i'm gonna do first order of business remove this file okay and i'm gonna",
    "start": "4312880",
    "end": "4319280"
  },
  {
    "text": "create a one from scratch called index.html okay and uh it's fancier",
    "start": "4319280",
    "end": "4327600"
  },
  {
    "text": "it's gonna be fancier i'm going to do hello world",
    "start": "4327600",
    "end": "4335120"
  },
  {
    "text": "this is my page hosted on http",
    "start": "4335199",
    "end": "4342000"
  },
  {
    "text": "or apache 2 because the first version sucked",
    "start": "4342000",
    "end": "4349120"
  },
  {
    "text": "okay buddy uh did we close that yes we calls this",
    "start": "4349120",
    "end": "4356400"
  },
  {
    "text": "and then we do did it and then that's it we just created an index.html",
    "start": "4356400",
    "end": "4362480"
  },
  {
    "text": "let's go back to my mac all right we are in my mac i am about to hit refresh hopefully",
    "start": "4362480",
    "end": "4370080"
  },
  {
    "text": "my server is smart enough to not cache that page and guess what it worked it worked",
    "start": "4370080",
    "end": "4378000"
  },
  {
    "text": "alright and you can pretty much put any stuff there and it will just get hosted",
    "start": "4378000",
    "end": "4384880"
  },
  {
    "text": "for you okay and let's say for example i don't know let's do a",
    "start": "4384880",
    "end": "4391120"
  },
  {
    "text": "main.js file here and that does literally an alert hello",
    "start": "4391120",
    "end": "4396840"
  },
  {
    "text": "world i'm js okay",
    "start": "4396840",
    "end": "4402400"
  },
  {
    "text": "and then we can edit more indexed html and then we can do fancy stuff like that",
    "start": "4402400",
    "end": "4409120"
  },
  {
    "text": "here in the body saying script uh source equal what's it what's it",
    "start": "4409120",
    "end": "4414719"
  },
  {
    "text": "called main.js since it's in the same folder we can get away with that so let's do",
    "start": "4414719",
    "end": "4420320"
  },
  {
    "text": "that and then when we refresh we're gonna get",
    "start": "4420320",
    "end": "4426880"
  },
  {
    "text": "an alert because my javascript got executed so what happened here if you literally",
    "start": "4426880",
    "end": "4433199"
  },
  {
    "text": "took a look of that right when you refresh",
    "start": "4433199",
    "end": "4438239"
  },
  {
    "text": "two requests made right the first request is to get the index.html this is the 200",
    "start": "4438239",
    "end": "4443520"
  },
  {
    "text": "okay obviously we talked about that we got back and index.html it's a text",
    "start": "4443520",
    "end": "4450320"
  },
  {
    "text": "right and that thing when paused by the browser discovered",
    "start": "4450320",
    "end": "4457440"
  },
  {
    "text": "that there is another thing that needs to pull so that's back to our tcp connection",
    "start": "4457440",
    "end": "4464800"
  },
  {
    "text": "thing guys so if initially 0 these two was two tcp connections which",
    "start": "4464800",
    "end": "4473520"
  },
  {
    "text": "is extremely slow because every connection every request will start the tcp connection and close it at the same time",
    "start": "4473520",
    "end": "4480159"
  },
  {
    "text": "now there's something called keep alive i'm alive oh my god this video gonna get",
    "start": "4480159",
    "end": "4487440"
  },
  {
    "text": "demonetized all right keep alive all right so it's gonna keep it alive keep the connection alive baby that's",
    "start": "4487440",
    "end": "4493840"
  },
  {
    "text": "what it yeah keep the spark alive so once it's keep the connection alive the second request",
    "start": "4493840",
    "end": "4499760"
  },
  {
    "text": "okay we'll actually make that request to get that main dot ajs okay",
    "start": "4499760",
    "end": "4506239"
  },
  {
    "text": "obviously when you write your own observer there you have to do all of that manually you have to do the caching",
    "start": "4506239",
    "end": "4512239"
  },
  {
    "text": "manual you have to do all that stuff but this guy that apache does caching for you okay",
    "start": "4512239",
    "end": "4518159"
  },
  {
    "text": "and let's prove it so 304 not modified that's the e-tag okay guys i'm going to reference the",
    "start": "4518159",
    "end": "4524239"
  },
  {
    "text": "e-tag here go check it out what is what the concept of that but in a nutshell this is a caching mechanism so",
    "start": "4524239",
    "end": "4530480"
  },
  {
    "text": "what what the first thing the first time let's disable caching and let's let's show you that if i the first time i make a request",
    "start": "4530480",
    "end": "4537360"
  },
  {
    "text": "okay to any content i get back an etag okay and the client then",
    "start": "4537360",
    "end": "4545600"
  },
  {
    "text": "use that e tag with every single request it makes okay so if i make a request now",
    "start": "4545600",
    "end": "4553120"
  },
  {
    "text": "and it sends the client since that request says hey if not match",
    "start": "4553120",
    "end": "4558320"
  },
  {
    "text": "tell me did this detect change tell me if it didn't change coolish okay but in this case the",
    "start": "4558320",
    "end": "4565440"
  },
  {
    "text": "javascript didn't change so it says nah you're good whatever you have is good okay so let's see how good the apache",
    "start": "4565440",
    "end": "4573600"
  },
  {
    "text": "implementation is so i'm going to go ahead and do main.js and i'm going to edit that thing",
    "start": "4573600",
    "end": "4579199"
  },
  {
    "text": "to say alert hello word i am js",
    "start": "4579199",
    "end": "4584640"
  },
  {
    "text": "and i just changed baby okay and sure let's do",
    "start": "4584640",
    "end": "4590960"
  },
  {
    "text": "i don't know another alert message because that's the only javascript code i know i'm kidding guys i'm kidding oh my god",
    "start": "4590960",
    "end": "4597760"
  },
  {
    "text": "all right that's another gis right let's see if the implementation",
    "start": "4597760",
    "end": "4605920"
  },
  {
    "text": "of the thingy is smart so i'm gonna go ahead and what was the our original",
    "start": "4605920",
    "end": "4613280"
  },
  {
    "text": "i lost it gosh okay no problem it wasn't certainly tag the client will",
    "start": "4613280",
    "end": "4618880"
  },
  {
    "text": "attempt to send the same e tag but what what what what what look at",
    "start": "4618880",
    "end": "4623920"
  },
  {
    "text": "that we got the new stuff that's another js right so what happened here is we",
    "start": "4623920",
    "end": "4630400"
  },
  {
    "text": "sent it the same he tag but we thought nope nope nope nope nope we got a new a",
    "start": "4630400",
    "end": "4637600"
  },
  {
    "text": "tag okay i don't know what gzip is we're zipping this thing that's what it's just like the implementation of the",
    "start": "4637600",
    "end": "4644080"
  },
  {
    "text": "actual observer here okay so the web server says nope it has been modified",
    "start": "4644080",
    "end": "4649520"
  },
  {
    "text": "all right so that's that's essentially the trick guys that's it simple stuff let's show you how node.js",
    "start": "4649520",
    "end": "4656320"
  },
  {
    "text": "works how about that right so we're gonna write our own implementation here so in",
    "start": "4656320",
    "end": "4662719"
  },
  {
    "text": "order to write our implementation we need some decent editor we can we cannot do use vim i mean we can but",
    "start": "4662719",
    "end": "4669840"
  },
  {
    "text": "yeah it's just a lot of work oh yeah all right so i have visual",
    "start": "4669840",
    "end": "4676400"
  },
  {
    "text": "studio code here i have node.js and installed go ahead and check it out i'm going to reference a video that we have installed with",
    "start": "4676400",
    "end": "4682159"
  },
  {
    "text": "node.js and all that stuff what i what i want to do essentially is just create a brand new folder with visual studio code",
    "start": "4682159",
    "end": "4689600"
  },
  {
    "text": "let's call this web server from scratch",
    "start": "4689600",
    "end": "4695920"
  },
  {
    "text": "okay and then just a brand new folder there's nothing in it okay",
    "start": "4695920",
    "end": "4701360"
  },
  {
    "text": "and you go here and then you click on this guy and you will create a new folder file",
    "start": "4701360",
    "end": "4708000"
  },
  {
    "text": "and that file because i'm writing javascript on the backend you have to write your own code here to do everything okay to server what's the",
    "start": "4708000",
    "end": "4715120"
  },
  {
    "text": "content here so i'm going to say index.index.js and i'm going to create our index.html",
    "start": "4715120",
    "end": "4722960"
  },
  {
    "text": "page here and since we are in the editor we can actually write the entire html with just one",
    "start": "4722960",
    "end": "4730239"
  },
  {
    "text": "click instead of having it to write everything hey h1 hey i wrote",
    "start": "4730239",
    "end": "4738320"
  },
  {
    "text": "all of this myself no js babes okay so",
    "start": "4738320",
    "end": "4746239"
  },
  {
    "text": "that's the html that we want to serve but we need to listen to a port we need to",
    "start": "4746239",
    "end": "4753600"
  },
  {
    "text": "receive requests we need to send requests we have to do all of that stuff so let's get into it",
    "start": "4753600",
    "end": "4760159"
  },
  {
    "text": "guys so and you pick then at the end of the day do you pick what what is the favorite part for you okay",
    "start": "4760159",
    "end": "4765760"
  },
  {
    "text": "so i'm gonna do an app here const app equal require express okay and that's",
    "start": "4765760",
    "end": "4773280"
  },
  {
    "text": "just the bundle so we need the app we spin up a version of that okay that's like literally a function call or",
    "start": "4773280",
    "end": "4779199"
  },
  {
    "text": "con constructor or tor con see tor and why every everything is",
    "start": "4779199",
    "end": "4784480"
  },
  {
    "text": "an abbreviation with people okay constructor can't you say constructor really you have to type",
    "start": "4784480",
    "end": "4789920"
  },
  {
    "text": "torque ah i know man api people guys i'm telling you",
    "start": "4789920",
    "end": "4796080"
  },
  {
    "text": "app dot is what i'm gonna do app.listen you're gonna listen to port 8080 because",
    "start": "4796080",
    "end": "4802880"
  },
  {
    "text": "80 is kind of reserved for highly privileged apps and i'm not one of them so i can't",
    "start": "4802880",
    "end": "4809840"
  },
  {
    "text": "listen to them i have to run as a rules and i don't want to so let's just dress in 8080 and when",
    "start": "4809840",
    "end": "4815199"
  },
  {
    "text": "you're done you say console.log sup i'm listening yes",
    "start": "4815199",
    "end": "4824400"
  },
  {
    "text": "what what do you want okay this is just for what the heck is",
    "start": "4824880",
    "end": "4830639"
  },
  {
    "text": "happening okay this is just for us to know that we're listening correctly but that's not enough",
    "start": "4830639",
    "end": "4836639"
  },
  {
    "text": "okay well the restaurants can show you okay i have expressed and installed globally",
    "start": "4836639",
    "end": "4841840"
  },
  {
    "text": "so that will work right but that's it sup i'm listening yes sir what do you want okay that's it okay but",
    "start": "4841840",
    "end": "4848480"
  },
  {
    "text": "that's not enough right we need to really accept the request that's if i do that now let's see if i do that and",
    "start": "4848480",
    "end": "4856800"
  },
  {
    "text": "let's say run let's just say localhost",
    "start": "4856800",
    "end": "4863040"
  },
  {
    "text": "right see the error i'm getting",
    "start": "4863600",
    "end": "4867360"
  },
  {
    "text": "so now guys if i go and try to go to localhost which is my machine",
    "start": "4869920",
    "end": "4876480"
  },
  {
    "text": "8080. i'm getting this error cannot get",
    "start": "4876480",
    "end": "4881600"
  },
  {
    "text": "why because you didn't implement anything right there's nothing there okay if you refresh there look at all",
    "start": "4881600",
    "end": "4888239"
  },
  {
    "text": "these errors forget about those but look at that 404. because that's the only thing that the",
    "start": "4888239",
    "end": "4893600"
  },
  {
    "text": "application does it says hey i there's no there's nothing on that server the server is dead",
    "start": "4893600",
    "end": "4898639"
  },
  {
    "text": "okay so here's one we need to implement to implement a get method a git slash method on the root okay",
    "start": "4898639",
    "end": "4905679"
  },
  {
    "text": "so that's the first thing we need to implement remember we didn't have to do any of that okay we have an index.html it didn't get",
    "start": "4905679",
    "end": "4912080"
  },
  {
    "text": "served we have to tell it to get served how we can do after get",
    "start": "4912080",
    "end": "4917280"
  },
  {
    "text": "on the slash if someone visited me on the slash on the root i want you to call this function and",
    "start": "4917280",
    "end": "4923280"
  },
  {
    "text": "this function always has to take two parameters request and response okay and then",
    "start": "4923280",
    "end": "4928960"
  },
  {
    "text": "what you do essentially for simplicity is you don't really care about the request",
    "start": "4928960",
    "end": "4934719"
  },
  {
    "text": "sometimes you do obviously but here we don't there's nothing in the request i just want if someone visited me i just want",
    "start": "4934719",
    "end": "4941360"
  },
  {
    "text": "to send file and then you send the index to html file okay",
    "start": "4941360",
    "end": "4946480"
  },
  {
    "text": "and to do that we have to do all that stuff where it's in my directory this is to avoid",
    "start": "4946480",
    "end": "4953280"
  },
  {
    "text": "hackers pulling all your stuff so you have to specify you cannot use relative files here so you have to do that okay",
    "start": "4953280",
    "end": "4960880"
  },
  {
    "text": "so that will take the directory name and then index.html okay so that will serve the index.html",
    "start": "4960880",
    "end": "4966960"
  },
  {
    "text": "page okay let's try this restart and now if i refresh",
    "start": "4966960",
    "end": "4972159"
  },
  {
    "text": "hey i wrote all of this myself not just bibs okay you like this babes you like it",
    "start": "4972159",
    "end": "4979920"
  },
  {
    "text": "this is the best right this is the best and if you've served another file you have to do the",
    "start": "4979920",
    "end": "4985520"
  },
  {
    "text": "same thing again okay anything okay there's obviously regular expressions that you have like",
    "start": "4985520",
    "end": "4991199"
  },
  {
    "text": "any if someone visited anything then serve them anything a little bit dangerous but you",
    "start": "4991199",
    "end": "4997280"
  },
  {
    "text": "have to do know what you're doing but that's essentially how you write a web content can you do something else",
    "start": "4997280",
    "end": "5004239"
  },
  {
    "text": "sure sir you can do get slash sub anything you want really then",
    "start": "5004239",
    "end": "5011920"
  },
  {
    "text": "request response you can do we have the function here we can for",
    "start": "5011920",
    "end": "5017440"
  },
  {
    "text": "example just send a result anything we want text hello",
    "start": "5017440",
    "end": "5023280"
  },
  {
    "text": "okay then if i do that all right if i go to localhost 8080 i get this",
    "start": "5023280",
    "end": "5028560"
  },
  {
    "text": "if i do sub i get hello and let's see what what did we get back",
    "start": "5028560",
    "end": "5034880"
  },
  {
    "text": "from the headers what did we get back from the headers we get bad 304 not modified",
    "start": "5034880",
    "end": "5042239"
  },
  {
    "text": "and we got back the results okay and now can i change that yeah sure you",
    "start": "5042239",
    "end": "5048639"
  },
  {
    "text": "can you can do result dot status code",
    "start": "5048639",
    "end": "5053679"
  },
  {
    "text": "and instead of 304 you can change it to anything 404 what is the 404",
    "start": "5053679",
    "end": "5061440"
  },
  {
    "text": "you guys know right 404 is not found although it was found but you",
    "start": "5061440",
    "end": "5068080"
  },
  {
    "text": "can tell it whatever you want that's the flexibility you get when you write your own web server okay",
    "start": "5068080",
    "end": "5073679"
  },
  {
    "text": "although the document is there you can you can have an if statement hey if this this exists do that if let's do that you",
    "start": "5073679",
    "end": "5079760"
  },
  {
    "text": "can add all of kind of stuff like like 201 code which is i forgot what it has i",
    "start": "5079760",
    "end": "5085679"
  },
  {
    "text": "think accept it or something like that and create it right you can do",
    "start": "5085679",
    "end": "5091120"
  },
  {
    "text": "anything you want all this stuff if you change this to 418 for instance",
    "start": "5091120",
    "end": "5096320"
  },
  {
    "text": "right this is one of the april fool's status calls that have been",
    "start": "5096320",
    "end": "5102400"
  },
  {
    "text": "created look look what you get i'm a teapot i don't know what the heck is that you",
    "start": "5102400",
    "end": "5109679"
  },
  {
    "text": "can actually change it to whatever you want okay good 401 it i am a teapot that's one of the status",
    "start": "5109679",
    "end": "5116320"
  },
  {
    "text": "quo that is being documented and it's going to be there forever all right guys that is our video today hope you enjoyed",
    "start": "5116320",
    "end": "5123280"
  },
  {
    "text": "it give it a like you do and if you learned something subscribe to learn more",
    "start": "5123280",
    "end": "5129040"
  },
  {
    "text": "and share this with your friends and i'm gonna see you in the next one you guys stay awesome",
    "start": "5129040",
    "end": "5136960"
  },
  {
    "start": "5135000",
    "end": "7993000"
  },
  {
    "text": "websocket technology is a bi-directional full duplex protocol for communication between the client and server",
    "start": "5139120",
    "end": "5144719"
  },
  {
    "text": "over the web it has been standardized in 2011 and it's fully compatible with http",
    "start": "5144719",
    "end": "5150239"
  },
  {
    "text": "this protocol enables real-time applications such as chatting notifications live",
    "start": "5150239",
    "end": "5156480"
  },
  {
    "text": "feed multiplayer gaming and other use cases as well in this video we",
    "start": "5156480",
    "end": "5161840"
  },
  {
    "text": "will explain what web circuits are why it was invented and we will build",
    "start": "5161840",
    "end": "5167120"
  },
  {
    "text": "actually an example would websockets a client and server using websocket i'm going to use node.js",
    "start": "5167120",
    "end": "5172880"
  },
  {
    "text": "for that and we will also talk about the pros and cons of websockets because let's be honest guys",
    "start": "5172880",
    "end": "5178560"
  },
  {
    "text": "there's no technology that is perfect everything has a pros and cons right if you're new here welcome my name",
    "start": "5178560",
    "end": "5184719"
  },
  {
    "text": "is hussein and in this channel we discuss all sorts of software engineering by example so if you want to become",
    "start": "5184719",
    "end": "5189840"
  },
  {
    "text": "a better software engineer consider subscribing hit that bell icon so you get notified whenever i",
    "start": "5189840",
    "end": "5194960"
  },
  {
    "text": "head and you video with that said let's just jump into this video guys websockets here's the agenda here's what",
    "start": "5194960",
    "end": "5201520"
  },
  {
    "text": "we're going to discuss before we jump into any",
    "start": "5201520",
    "end": "5206800"
  },
  {
    "text": "technology i like to go back and say why did we invent this thing okay",
    "start": "5206800",
    "end": "5213920"
  },
  {
    "text": "and that brings us back to http okay i need to talk about http",
    "start": "5213920",
    "end": "5219040"
  },
  {
    "text": "a little bit okay we're gonna talk about http what is it okay not in details just a little bit",
    "start": "5219040",
    "end": "5225520"
  },
  {
    "text": "okay because we'll this will allow us to jump into why we have web sockets now we're going to discuss this concept",
    "start": "5225520",
    "end": "5232080"
  },
  {
    "text": "of a sockets handshake then we're going to discuss a little bit of a use case of websocket",
    "start": "5232080",
    "end": "5237520"
  },
  {
    "text": "we're gonna talk about an example some code yay i'm gonna show some code and we're",
    "start": "5237520",
    "end": "5244320"
  },
  {
    "text": "gonna show you like the pros and cons of this technology we're gonna talk about these pros and",
    "start": "5244320",
    "end": "5249440"
  },
  {
    "text": "cons of this technology and you guys are going to see the jump codes here under the screen",
    "start": "5249440",
    "end": "5254560"
  },
  {
    "text": "where you can just go to that for minute seconds to watch any of these topics",
    "start": "5254560",
    "end": "5260480"
  },
  {
    "text": "that you're interested in you don't have to watch the whole thing so it's really up to you okay guys what do we",
    "start": "5260480",
    "end": "5266159"
  },
  {
    "text": "have we're going to talk about first of all http 100. okay he was like why why are we",
    "start": "5266159",
    "end": "5272239"
  },
  {
    "text": "talking about technology from 1995 very good point okay there was a lot of",
    "start": "5272239",
    "end": "5277280"
  },
  {
    "text": "wild research in this video was watching a lot of videos and there is a lot of misconception and",
    "start": "5277280",
    "end": "5282639"
  },
  {
    "text": "wrong information okay so i just wanted to just literally just clarify some of the",
    "start": "5282639",
    "end": "5288639"
  },
  {
    "text": "things http 10 which is the first technology that was invented and there here's how it works okay http",
    "start": "5288639",
    "end": "5295440"
  },
  {
    "text": "recalls obviously guys it's built on the tcp protocol and we made another video about http i'm going to reference if you want",
    "start": "5295440",
    "end": "5302000"
  },
  {
    "text": "to learn more about it but in a nutshell it's built on the tcp current when we first invented this http",
    "start": "5302000",
    "end": "5308239"
  },
  {
    "text": "first version we said it's going to be a request response system so the client always makes a",
    "start": "5308239",
    "end": "5315440"
  },
  {
    "text": "request and the server responds to that request it's not the other way around okay",
    "start": "5315440",
    "end": "5321360"
  },
  {
    "text": "the server doesn't just randomly send the information to the client it always the client has to initiate the",
    "start": "5321360",
    "end": "5327440"
  },
  {
    "text": "request and it worked great and it's still working great however when we built",
    "start": "5327440",
    "end": "5332960"
  },
  {
    "text": "this the first version we said okay let's be smart okay tcp is expensive it require memory",
    "start": "5332960",
    "end": "5340560"
  },
  {
    "text": "it require all these descriptors to be saved in the server so when the client opens the uh the tcp",
    "start": "5340560",
    "end": "5346960"
  },
  {
    "text": "connection and sends the first get request okay and the server response let's say",
    "start": "5346960",
    "end": "5352480"
  },
  {
    "text": "hey i'm going to get the index.html the server responds back with the actual data and then what we're going to",
    "start": "5352480",
    "end": "5359679"
  },
  {
    "text": "do we're going to be smart hey we just finished the request let's close the connection and then if you wanted to make another request",
    "start": "5359679",
    "end": "5365600"
  },
  {
    "text": "just go ahead and open another tcp connection okay and then request the second thing you",
    "start": "5365600",
    "end": "5371600"
  },
  {
    "text": "want okay and now imagine guys you have an image you have a website okay with like three uh 30 images",
    "start": "5371600",
    "end": "5380320"
  },
  {
    "text": "and you can open and close connection for every single thing okay we just literally killed the",
    "start": "5380320",
    "end": "5386320"
  },
  {
    "text": "performance okay that was quickly revised and this model of opening and closed",
    "start": "5386320",
    "end": "5392719"
  },
  {
    "text": "connection did not scale at all okay so we said one one to the rescue okay",
    "start": "5392719",
    "end": "5399679"
  },
  {
    "text": "and and i want to talk about one one because this is what the websockets was built on and you need",
    "start": "5399679",
    "end": "5406080"
  },
  {
    "text": "that you cannot do web sockets on one zero because of what we're going to discuss now so we said",
    "start": "5406080",
    "end": "5411440"
  },
  {
    "text": "we're going to be smart about it if you're going to make one request the first request you establish a tcp connection",
    "start": "5411440",
    "end": "5417120"
  },
  {
    "text": "and leave it open make all the requests under this tcp connection okay",
    "start": "5417120",
    "end": "5423840"
  },
  {
    "text": "do not close it unless you're absolutely done with it okay and that was using the header",
    "start": "5423840",
    "end": "5429679"
  },
  {
    "text": "called uh keep alive okay and it's kind of i think it's an ephemeral header so that means",
    "start": "5429679",
    "end": "5435040"
  },
  {
    "text": "it cannot be propagated through the proxies okay but what happens here is like you send a request you get the index.html",
    "start": "5435040",
    "end": "5441280"
  },
  {
    "text": "and you find that there's images that you need to load css files javascript you go ahead and request response request response and",
    "start": "5441280",
    "end": "5448239"
  },
  {
    "text": "that that's great works fine and we close the connection okay this model still working fine till today",
    "start": "5448239",
    "end": "5456239"
  },
  {
    "text": "but there are use cases that need some real real-time interaction",
    "start": "5456239",
    "end": "5462639"
  },
  {
    "text": "from the server there are use cases that the server needs to send me information",
    "start": "5462639",
    "end": "5467840"
  },
  {
    "text": "despite me not requesting it okay as a client okay and that's why we invented other",
    "start": "5467840",
    "end": "5473679"
  },
  {
    "text": "technologies the before websockets but websockets is",
    "start": "5473679",
    "end": "5479440"
  },
  {
    "text": "became the dominant one here okay let's talk about web sockets now so what whoop sockets does it",
    "start": "5479440",
    "end": "5485679"
  },
  {
    "text": "essentially uses the http one one this persistent tcp connection",
    "start": "5485679",
    "end": "5491760"
  },
  {
    "text": "as a vehicle to send data from the client to server and the server and",
    "start": "5491760",
    "end": "5497040"
  },
  {
    "text": "guide they both aware of each other that means it's no longer stateless it's a stateful",
    "start": "5497040",
    "end": "5503120"
  },
  {
    "text": "right because the server is aware of the client the client's aware of the server the moment this awareness happens it's a stateful okay it's a",
    "start": "5503120",
    "end": "5510719"
  },
  {
    "text": "stateful thing http i don't know on the other hand is stateless because you don't really have",
    "start": "5510719",
    "end": "5516400"
  },
  {
    "text": "this awareness you can kill the server restart and the next request would just be served normally",
    "start": "5516400",
    "end": "5524320"
  },
  {
    "text": "so how does web circuits work the first thing happens we do the same thing right we about to send",
    "start": "5524320",
    "end": "5530480"
  },
  {
    "text": "a http request we do the web socket handshake which involves a little bit of",
    "start": "5530480",
    "end": "5536239"
  },
  {
    "text": "information that we're going to talk about it's still an http request okay an upgrade request with some",
    "start": "5536239",
    "end": "5543920"
  },
  {
    "text": "salt and pepper there but what will happen here this handshake will first happen between",
    "start": "5543920",
    "end": "5550239"
  },
  {
    "text": "the server the client would say hey i would like to do a websocket connection if you would mind",
    "start": "5550239",
    "end": "5555360"
  },
  {
    "text": "okay the server say hey i don't support it or hey i support it cool let's do that and then what will happen",
    "start": "5555360",
    "end": "5562239"
  },
  {
    "text": "is there's no there's no order it's a binary protocol this web socket",
    "start": "5562239",
    "end": "5567679"
  },
  {
    "text": "becomes a binary protocol it's detached from http okay and then it's the wild west",
    "start": "5567679",
    "end": "5575520"
  },
  {
    "text": "anyone can send data to anyone the server sends client decline the data because both",
    "start": "5575520",
    "end": "5581440"
  },
  {
    "text": "know of each other now they have the api access to the underlining tcp connection",
    "start": "5581440",
    "end": "5588000"
  },
  {
    "text": "okay with a little bit beautiful apm it's not as ugly as tcp with segments",
    "start": "5588000",
    "end": "5593920"
  },
  {
    "text": "right so the server sends permission to the client client sends information to the server client sends another stuff to the server",
    "start": "5593920",
    "end": "5600560"
  },
  {
    "text": "server sends back something client sends that there's no order okay and the server sends twice and client",
    "start": "5600560",
    "end": "5607840"
  },
  {
    "text": "and server sends information concurrently who cares that's what websockets okay",
    "start": "5607840",
    "end": "5613679"
  },
  {
    "text": "and based on that interactivity a lot of use cases were born okay so let's talk about a",
    "start": "5613679",
    "end": "5620719"
  },
  {
    "text": "little bit more about the handshake itself and when we talk about the handshake and the first",
    "start": "5620719",
    "end": "5626400"
  },
  {
    "text": "thing we need to talk about is this protocol which is ws which stands for web sockets okay and if you",
    "start": "5626400",
    "end": "5633120"
  },
  {
    "text": "do what websockets on tls then it becomes w websocket secure okay we talked about",
    "start": "5633120",
    "end": "5639520"
  },
  {
    "text": "tls i'm going to reference it here go go watch that video but here's what we do guys here's what makes websockets really",
    "start": "5639520",
    "end": "5646239"
  },
  {
    "text": "awesome the first request that we make is an http normal get request",
    "start": "5646239",
    "end": "5654400"
  },
  {
    "text": "right that means when we make that request it's an http11 so i mean i'm gonna",
    "start": "5654400",
    "end": "5661920"
  },
  {
    "text": "establish the persisted connection that we talked about but here's the special thing there is an upgrade header",
    "start": "5661920",
    "end": "5670080"
  },
  {
    "text": "in that um in that request and that's really powerful stuff okay so",
    "start": "5670080",
    "end": "5676080"
  },
  {
    "text": "it's really a good request a simple request the server takes that because it's a web",
    "start": "5676080",
    "end": "5681119"
  },
  {
    "text": "server we talked about web server i'm gonna reference it here we talked about a lot of stuff in this channel right",
    "start": "5681119",
    "end": "5686639"
  },
  {
    "text": "and it's a web server so it consumes that but here's what if the server knows that there is",
    "start": "5686639",
    "end": "5693440"
  },
  {
    "text": "the client is trying to upgrade this one one connection to something else to websocket in this case the server",
    "start": "5693440",
    "end": "5700400"
  },
  {
    "text": "will reply either cool i'm switching the protocol",
    "start": "5700400",
    "end": "5706239"
  },
  {
    "text": "and the code status code is one 101. you know the status goes guys four 404 200 201 this is a special status quo",
    "start": "5706239",
    "end": "5714639"
  },
  {
    "text": "says 101 switching protocol you cool and once we switch the protocol",
    "start": "5714639",
    "end": "5720480"
  },
  {
    "text": "then we start communicating with this binary protocol so that's the handshake",
    "start": "5720480",
    "end": "5726320"
  },
  {
    "text": "essentially and it has to work on one one because of this persistence that we talked about",
    "start": "5726320",
    "end": "5732320"
  },
  {
    "text": "guys right it will never work with one zero okay and recently i think uh also",
    "start": "5732320",
    "end": "5737679"
  },
  {
    "text": "websockets work with http too because it's the same concept right it's still persistent connection",
    "start": "5737679",
    "end": "5743040"
  },
  {
    "text": "and we close the connection and here's uh here's how the actual handshake looks like right i took",
    "start": "5743040",
    "end": "5749520"
  },
  {
    "text": "this from wikipedia okay and then you do a get request on for example any",
    "start": "5749520",
    "end": "5755199"
  },
  {
    "text": "endpoint doesn't have to be chat you can name it literally anything you want it has to be http one one",
    "start": "5755199",
    "end": "5760320"
  },
  {
    "text": "and you say hey i'm this host uh you can block this host if you don't want to and you wanna upgrade this to",
    "start": "5760320",
    "end": "5766000"
  },
  {
    "text": "warp socket you wanna upgrade connection upgrade that's the special hit and there's these keys right and using these keys",
    "start": "5766000",
    "end": "5773840"
  },
  {
    "text": "the server will take them will do does some seeding and hashing and then send",
    "start": "5773840",
    "end": "5778960"
  },
  {
    "text": "back a new websocket accept okay so that you take the value and the",
    "start": "5778960",
    "end": "5784320"
  },
  {
    "text": "client will verify that it's actually that server is the one who sent me that",
    "start": "5784320",
    "end": "5790000"
  },
  {
    "text": "value okay this is just for the server receive information from the actual client we got that websocket",
    "start": "5790000",
    "end": "5796960"
  },
  {
    "text": "and that's it okay so we receive 101 switching protocol and we're good so that's you can build",
    "start": "5796960",
    "end": "5803199"
  },
  {
    "text": "your own web server or socket server that does know how to deal with that but you can",
    "start": "5803199",
    "end": "5810480"
  },
  {
    "text": "always use an existing library that does that for you because it's a little tricky to do the",
    "start": "5810480",
    "end": "5816800"
  },
  {
    "text": "binary protocol right and uh use cases why do i need this",
    "start": "5816800",
    "end": "5823440"
  },
  {
    "text": "duplex full duplex or whatever you called it hussein why do we need that chatting right you know chatting is not",
    "start": "5823440",
    "end": "5830800"
  },
  {
    "text": "something great for request response it's not you're not loading a page",
    "start": "5830800",
    "end": "5836560"
  },
  {
    "text": "the client can receive a message like whatsapp right someone can send you a message without",
    "start": "5836560",
    "end": "5841600"
  },
  {
    "text": "you requesting it right you don't want to say hey is there a message for me is there a message for me is there a",
    "start": "5841600",
    "end": "5846719"
  },
  {
    "text": "message for me is that you don't want to ask for that right you want the message to get quote unquote pushed",
    "start": "5846719",
    "end": "5852960"
  },
  {
    "text": "for you when there is a message right so channing is a perfect example for this right",
    "start": "5852960",
    "end": "5858800"
  },
  {
    "text": "and uh having the client request something only to find out that there is",
    "start": "5858800",
    "end": "5864400"
  },
  {
    "text": "no chat for you is just not working okay and live feed hey i want to connect to this feed and",
    "start": "5864400",
    "end": "5870320"
  },
  {
    "text": "whenever there is a blog post just let me know okay or any any notification facebook",
    "start": "5870320",
    "end": "5876159"
  },
  {
    "text": "notification all right i'm not saying that what facebook uses websockets for this but i'm saying that's one way of doing",
    "start": "5876159",
    "end": "5882880"
  },
  {
    "text": "it i think google wave when it first launches i do remember them using websockets and was",
    "start": "5882880",
    "end": "5888080"
  },
  {
    "text": "really amazing back in 2011 right and i like i still remember that video",
    "start": "5888080",
    "end": "5893600"
  },
  {
    "text": "and i was watching that video and they were just typing and the immediate window you can",
    "start": "5893600",
    "end": "5899520"
  },
  {
    "text": "see that oh type the person one is typing a message and that was really mind-blowing because i",
    "start": "5899520",
    "end": "5907600"
  },
  {
    "text": "know that http couldn't do that obviously right so it was a little awesome to do the",
    "start": "5907600",
    "end": "5913040"
  },
  {
    "text": "interior of that multiplayer gaming obviously you can build gaming multiplayer game is like hey multiple",
    "start": "5913040",
    "end": "5918560"
  },
  {
    "text": "players they send input and the second client can receive information right so",
    "start": "5918560",
    "end": "5925119"
  },
  {
    "text": "here's a little bit tricky okay when you when you have multiple clients connecting to one",
    "start": "5925119",
    "end": "5930400"
  },
  {
    "text": "websocket server this whoops socket server have to maintain multiple connections multiple tcp connections",
    "start": "5930400",
    "end": "5938159"
  },
  {
    "text": "with each of those guys okay and that was makes it also more stateful",
    "start": "5938159",
    "end": "5943760"
  },
  {
    "text": "and statefulness means what guys we talked about this you cannot easily horizontally scale",
    "start": "5943760",
    "end": "5950320"
  },
  {
    "text": "stateful application because the moment you destroy the server all those guys just dead right",
    "start": "5950320",
    "end": "5957040"
  },
  {
    "text": "you can obviously write it in a stateful way but it requires not it's not natural right you have to write",
    "start": "5957040",
    "end": "5964320"
  },
  {
    "text": "more code to make it stateless in order for it to horizontal scale doesn't mean that it cannot horizontally",
    "start": "5964320",
    "end": "5971040"
  },
  {
    "text": "scale okay show client progress login you know when you upload a file you want the server to send you",
    "start": "5971040",
    "end": "5978639"
  },
  {
    "text": "updates that hey the file has been seventy percent uploaded eighty percent uploaded or you're rendering a video",
    "start": "5978639",
    "end": "5984719"
  },
  {
    "text": "you're like make this mp4 into a jeff or gif uh whatever party you are okay",
    "start": "5984719",
    "end": "5991199"
  },
  {
    "text": "so if you upload that video you want the client server to send you information about",
    "start": "5991199",
    "end": "5996639"
  },
  {
    "text": "that okay so yeah you can use websockets for that you don't have to though i want you to",
    "start": "5996639",
    "end": "6003280"
  },
  {
    "text": "keep that in mind websocket is not solution for everything okay don't get attached to anything guys",
    "start": "6003280",
    "end": "6008480"
  },
  {
    "text": "don't get attached to that technology core time websocket example here's what",
    "start": "6008480",
    "end": "6014639"
  },
  {
    "text": "i want to do guys okay i want to show you an example of a raw websocket client server okay",
    "start": "6014639",
    "end": "6020239"
  },
  {
    "text": "and to do that i'm going to do it in a very bare bone if people",
    "start": "6020239",
    "end": "6026560"
  },
  {
    "text": "make the mistake of when they want to learn websocket they go download some sample that has a chatting",
    "start": "6026560",
    "end": "6032400"
  },
  {
    "text": "application and that's like to me at least it was like the worst way to learn okay because",
    "start": "6032400",
    "end": "6037840"
  },
  {
    "text": "what chatting application is not it's not easy to implement into loop sockets because",
    "start": "6037840",
    "end": "6043520"
  },
  {
    "text": "you have to have multiple array of connections and all that stuff too it's not easy to understand",
    "start": "6043520",
    "end": "6048960"
  },
  {
    "text": "so in my opinion i'd like to show you how this server talks to a client client talk to",
    "start": "6048960",
    "end": "6054719"
  },
  {
    "text": "server with with the very basic stuff so we're going to write the server and the client will be guess what",
    "start": "6054719",
    "end": "6060719"
  },
  {
    "text": "it will be the browser from the console window because we can write javascript code",
    "start": "6060719",
    "end": "6066239"
  },
  {
    "text": "there and it's beautiful guys how powerful javascript is because this",
    "start": "6066239",
    "end": "6071360"
  },
  {
    "text": "websocket client is available literally on your browser so i'm not gonna allow you to i'm not going to let you ra",
    "start": "6071360",
    "end": "6078800"
  },
  {
    "text": "forces you to write html code and script tags and all that stuff right so we'll try to write as as less code as possible let's",
    "start": "6078800",
    "end": "6086320"
  },
  {
    "text": "just jump into it all right guys so i have visual studio code here because it's the best editor ever you can argue with that if you want",
    "start": "6086320",
    "end": "6092960"
  },
  {
    "text": "to but visual studio code i really like it because it's very lightweight and supports a lot of",
    "start": "6092960",
    "end": "6098080"
  },
  {
    "text": "scripting languages python javascript typescript name it right so i like it",
    "start": "6098080",
    "end": "6103679"
  },
  {
    "text": "and we're gonna build our own web circuit server okay using visual studio code",
    "start": "6103679",
    "end": "6111360"
  },
  {
    "text": "using node.js okay so we're gonna build that so you have to install you have to have node.js installed",
    "start": "6111360",
    "end": "6117119"
  },
  {
    "text": "obviously on this machine in order to build that okay so let's start with that i'm gonna start from scratch i'm gonna",
    "start": "6117119",
    "end": "6123119"
  },
  {
    "text": "obviously go to open i'm gonna create a brand new folder here",
    "start": "6123119",
    "end": "6128159"
  },
  {
    "text": "on my javascript folder here i'm gonna create uh let's call it web socket",
    "start": "6128159",
    "end": "6134480"
  },
  {
    "text": "demo okay and then just like that open and then here's what i want to do i",
    "start": "6134480",
    "end": "6140880"
  },
  {
    "text": "want to create a new file called index.js okay because it's the node.js right",
    "start": "6140880",
    "end": "6149520"
  },
  {
    "text": "and then what else do we need let's initialize this project with npm",
    "start": "6149520",
    "end": "6156480"
  },
  {
    "text": "so go to terminal and then literally we don't really care just do npm dash init",
    "start": "6156480",
    "end": "6164719"
  },
  {
    "text": "dash y that means hey initially let's initialize this project with whatever and this will create us the package.json",
    "start": "6164719",
    "end": "6171600"
  },
  {
    "text": "we don't really care about that this is just for us to debug okay and then here's what we want to do",
    "start": "6171600",
    "end": "6176960"
  },
  {
    "text": "guys okay let's zoom in so you guys you can see we will create uh the http",
    "start": "6176960",
    "end": "6185199"
  },
  {
    "text": "server here and this is using the http library here and that will",
    "start": "6185199",
    "end": "6190880"
  },
  {
    "text": "have that persisted web server that we talked about okay so that's the web server that we're",
    "start": "6190880",
    "end": "6196880"
  },
  {
    "text": "going to create we're going to create a server using this native thing okay which is the http server",
    "start": "6196880",
    "end": "6203119"
  },
  {
    "text": "we're going to spin up a little bit of a mini server mini web server and then take that server inject it",
    "start": "6203119",
    "end": "6210400"
  },
  {
    "text": "into another library that will allow us to do that handshake we talked about so let's do that guys so http and here's what we do right",
    "start": "6210400",
    "end": "6218239"
  },
  {
    "text": "const i'm going to create http server equal http dot create server",
    "start": "6218239",
    "end": "6224000"
  },
  {
    "text": "and that essentially takes a request and response function and then i am going to just literally",
    "start": "6224000",
    "end": "6231440"
  },
  {
    "text": "just log it here we have received a request and we will add a break point here",
    "start": "6231440",
    "end": "6240000"
  },
  {
    "text": "because here is the first call of the request will come here because",
    "start": "6240000",
    "end": "6247119"
  },
  {
    "text": "specifically if we create a new websocket the first call is what guys the get upgrade remember so i want to",
    "start": "6247119",
    "end": "6254320"
  },
  {
    "text": "show you that get upgrade here and when we have a server we can just",
    "start": "6254320",
    "end": "6259760"
  },
  {
    "text": "listen unless you use a port that i never used before i think 8080 is free okay",
    "start": "6259760",
    "end": "6265440"
  },
  {
    "text": "and then let's just say console.log",
    "start": "6265440",
    "end": "6271199"
  },
  {
    "text": "my server is less thinning on port 8080 don't make fun of me",
    "start": "6271199",
    "end": "6277280"
  },
  {
    "text": "okay listening it's funny because that's when i first learned english",
    "start": "6277280",
    "end": "6282400"
  },
  {
    "text": "i used to literally read this listening and it was it was funny okay yeah laughing",
    "start": "6282400",
    "end": "6288880"
  },
  {
    "text": "guys okay so that's the first thing we need to do right let's just run it make sure it works",
    "start": "6288880",
    "end": "6295199"
  },
  {
    "text": "okay obviously there's nothing hey okay my server's listening that's not a web socket though right guys that's not a websocket",
    "start": "6295199",
    "end": "6302320"
  },
  {
    "text": "let's make a websocket and here's how we do it okay we're going to do web socket let's make it capitals",
    "start": "6302320",
    "end": "6309199"
  },
  {
    "text": "because it's a class websocket server equal require web socket",
    "start": "6309199",
    "end": "6314880"
  },
  {
    "text": "dot server okay and that will give us the class which will have this",
    "start": "6314880",
    "end": "6320560"
  },
  {
    "text": "beautiful uh events let's say hey if you receive that message do this if you received a",
    "start": "6320560",
    "end": "6325840"
  },
  {
    "text": "connection do this if you do this and all that events which makes it stateful obviously guys right",
    "start": "6325840",
    "end": "6331760"
  },
  {
    "text": "so we have a websocket server here's what you do next we're gonna create a web socket",
    "start": "6331760",
    "end": "6339920"
  },
  {
    "text": "if i can spell it right web socket server and here's what it takes it takes a json",
    "start": "6339920",
    "end": "6346560"
  },
  {
    "text": "and that json is http server and you pass it that http server",
    "start": "6346560",
    "end": "6352639"
  },
  {
    "text": "you just created it's it it needs that it's just remember guys this is just the handshake part and the",
    "start": "6352639",
    "end": "6359280"
  },
  {
    "text": "messaging right we're going to use that protocol to to actually uh authenticate right",
    "start": "6359280",
    "end": "6366000"
  },
  {
    "text": "do the handshake so we need to send it the http server that we just used which underneath it has a socket which",
    "start": "6366000",
    "end": "6373040"
  },
  {
    "text": "has the tcp connection so we send it that thing sweet what else what should i do next",
    "start": "6373040",
    "end": "6378800"
  },
  {
    "text": "next what you do is you have to have a an event here on",
    "start": "6378800",
    "end": "6385760"
  },
  {
    "text": "request if someone requests this websocket right",
    "start": "6385760",
    "end": "6394239"
  },
  {
    "text": "go ahead and call this function here's what happens here guys so the",
    "start": "6394239",
    "end": "6401040"
  },
  {
    "text": "first thing we do we make this guess request right and uh that'll get workshops have upper grade",
    "start": "6401040",
    "end": "6406159"
  },
  {
    "text": "it comes here and then you decide as the server whether you want to accept",
    "start": "6406159",
    "end": "6412000"
  },
  {
    "text": "this websocket request from the client or not and guess what guys i'm gonna accept it",
    "start": "6412000",
    "end": "6419119"
  },
  {
    "text": "i am going to accept it because i accept everything and then this this uh this parameter is",
    "start": "6419119",
    "end": "6426560"
  },
  {
    "text": "interesting you can create your own like fancy protocols like if your server supports",
    "start": "6426560",
    "end": "6431600"
  },
  {
    "text": "like gaming you build like a gaming protocol you build like a chatting protocol you can you can",
    "start": "6431600",
    "end": "6438080"
  },
  {
    "text": "accept whatever the client sends you you cannot just accept any websockets that",
    "start": "6438080",
    "end": "6443280"
  },
  {
    "text": "that won't be secure right so you can you can kind of accept the things that the client will support",
    "start": "6443280",
    "end": "6449440"
  },
  {
    "text": "okay and we're gonna accept anything because it's just an example here so no",
    "start": "6449440",
    "end": "6454560"
  },
  {
    "text": "okay and then the origin here which is request.origin do you want to you can check the origin if that origin",
    "start": "6454560",
    "end": "6461600"
  },
  {
    "text": "is not trusted or you don't like it you can just say nah i don't want to accept that and here is the interesting part guys we're",
    "start": "6461600",
    "end": "6468560"
  },
  {
    "text": "going get a connection of this connection okay i know people make fun of my accents",
    "start": "6468560",
    "end": "6475040"
  },
  {
    "text": "like connections and i don't know how to say connection connection okay okay so connection we're",
    "start": "6475040",
    "end": "6480880"
  },
  {
    "text": "gonna get the connection i'm gonna make this is it to code and call global variable whatever right",
    "start": "6480880",
    "end": "6486880"
  },
  {
    "text": "so let's connection equal no and i use let here because i'm going to override it i cannot use const",
    "start": "6486880",
    "end": "6492400"
  },
  {
    "text": "because i'm going to override this literally so i'm going to do connection equal that and then here's",
    "start": "6492400",
    "end": "6497520"
  },
  {
    "text": "the thing if you do connection you can add other stuff on on open if the connection has been",
    "start": "6497520",
    "end": "6504560"
  },
  {
    "text": "opened call this function right console.log open",
    "start": "6504560",
    "end": "6512719"
  },
  {
    "text": "let's zoom out a little bit i think you can read it in this way guys right then if the connection is closed",
    "start": "6512719",
    "end": "6519600"
  },
  {
    "text": "do this close right and you can do some other stuff here maybe notify the",
    "start": "6519600",
    "end": "6524880"
  },
  {
    "text": "database to do something right so you can write any function you want here you know we don't really need to do",
    "start": "6524880",
    "end": "6531199"
  },
  {
    "text": "a variable here right and here's the most important function of them all it's",
    "start": "6531199",
    "end": "6536480"
  },
  {
    "text": "called onmessage if you receive a message get me that message",
    "start": "6536480",
    "end": "6542400"
  },
  {
    "text": "and here's what i want to do with this message what are we going to do with the message okay i'm not fancy this",
    "start": "6542400",
    "end": "6549600"
  },
  {
    "text": "message will just literally print it right i'm going to print whatever i receive from the client and it has to be an",
    "start": "6549600",
    "end": "6555840"
  },
  {
    "text": "event guys right so uh received",
    "start": "6555840",
    "end": "6561840"
  },
  {
    "text": "message and then we can say message dot i think it's called utf",
    "start": "6561840",
    "end": "6568960"
  },
  {
    "text": "dead or something like that all right we'll find out okay i don't remember what the property is",
    "start": "6568960",
    "end": "6574239"
  },
  {
    "text": "but we're gonna find out guys don't worry about it do not worry about it okay and then obviously that's it",
    "start": "6574239",
    "end": "6582560"
  },
  {
    "text": "i think that's it we receive a request open close message and that's it right",
    "start": "6582560",
    "end": "6589360"
  },
  {
    "text": "and here is let's let's run let's run let's run",
    "start": "6589360",
    "end": "6594639"
  },
  {
    "text": "we got an error can we find module websocket well what what do we do guys simple",
    "start": "6594639",
    "end": "6601360"
  },
  {
    "text": "npm install oops socket in the same folder so we can install",
    "start": "6601360",
    "end": "6606880"
  },
  {
    "text": "this technology install this model for me okay that's one of the modules guys there's",
    "start": "6606880",
    "end": "6612239"
  },
  {
    "text": "socket io there's other other stuff but that's that's what i saw that it's like the simplest one",
    "start": "6612239",
    "end": "6617360"
  },
  {
    "text": "really uh it's big though i don't know why can you build your own of course you can",
    "start": "6617360",
    "end": "6625040"
  },
  {
    "text": "go ahead and try that download the uh the rfc and then write your own",
    "start": "6625040",
    "end": "6631119"
  },
  {
    "text": "but it's up to you if you want to write your own okay but",
    "start": "6631119",
    "end": "6636159"
  },
  {
    "text": "okay let's try it i'm going to listen to 8080 and we're listening okay our whoop",
    "start": "6636159",
    "end": "6643280"
  },
  {
    "text": "circuit server is ready guys okay let's go through the code a little bit quick before we jump into the client and write that so",
    "start": "6643280",
    "end": "6650320"
  },
  {
    "text": "we have the http server which is like that raw server okay we have the web circuit server which allows us to do",
    "start": "6650320",
    "end": "6656560"
  },
  {
    "text": "this uh what uh the handshake right because because exactly this thing",
    "start": "6656560",
    "end": "6662800"
  },
  {
    "text": "right on request when i do accept that will send back the switching protocol that we",
    "start": "6662800",
    "end": "6667920"
  },
  {
    "text": "talked about and we get a connection as a result and that connection we're gonna do beautiful stuff with it and that",
    "start": "6667920",
    "end": "6673520"
  },
  {
    "text": "connection we're gonna take that connection there is a method called send and we can use it to send information",
    "start": "6673520",
    "end": "6680000"
  },
  {
    "text": "from the server to the client remember guys i am in the server here this is the server code",
    "start": "6680000",
    "end": "6685760"
  },
  {
    "text": "okay let's go to the client i'm going to create a new page here",
    "start": "6685760",
    "end": "6693679"
  },
  {
    "text": "and literally go here and then more tools developer tools",
    "start": "6693679",
    "end": "6700560"
  },
  {
    "text": "or in firefox you can i think build web console or something like that and here's the beauty of this thing guys",
    "start": "6700560",
    "end": "6706800"
  },
  {
    "text": "since this javascript since websocket comes with every single browser you can write",
    "start": "6706800",
    "end": "6711920"
  },
  {
    "text": "this websocket client right there okay and i'm not gonna bother writing html code let's do that",
    "start": "6711920",
    "end": "6717440"
  },
  {
    "text": "okay so i'm gonna do a let ws equal new web socket",
    "start": "6717440",
    "end": "6723840"
  },
  {
    "text": "guess what that's that's what you do what's the protocol ws right because",
    "start": "6723840",
    "end": "6729679"
  },
  {
    "text": "this is a websocket what's the ipl what's the host name it's localhost it's on the same machine",
    "start": "6729679",
    "end": "6735599"
  },
  {
    "text": "what's the ip address 8080 right i was like this is the thing we're",
    "start": "6735599",
    "end": "6740639"
  },
  {
    "text": "running on it's running on 8080 and then when we do that",
    "start": "6740639",
    "end": "6747360"
  },
  {
    "text": "let's make sure we have all the let's make sure we have all the",
    "start": "6747440",
    "end": "6752639"
  },
  {
    "text": "breakpoints so we don't miss anything so here we are gonna do hit enter",
    "start": "6752639",
    "end": "6758880"
  },
  {
    "text": "the first thing we get what we got a request guys we can use that request",
    "start": "6758880",
    "end": "6766400"
  },
  {
    "text": "so guess what we get the origin we have the chrome search wherever the origin is that and then when i do that",
    "start": "6766400",
    "end": "6773119"
  },
  {
    "text": "i accept the connection i just got the connection now right and then we set the events",
    "start": "6773119",
    "end": "6780239"
  },
  {
    "text": "obviously just why are the events and guess what we received it here's what i want to do",
    "start": "6780239",
    "end": "6788400"
  },
  {
    "text": "now guys i'm not going to stop i'm not going to stop debugging i'm gonna go back to the client",
    "start": "6788400",
    "end": "6793679"
  },
  {
    "text": "and here's what i wanna do when i do ws i want to wire the events on the",
    "start": "6793679",
    "end": "6801440"
  },
  {
    "text": "client which i did not do on message if someone sent me a message i want",
    "start": "6801440",
    "end": "6806719"
  },
  {
    "text": "to take that message and then guess what i want to print it i want to print that",
    "start": "6806719",
    "end": "6812000"
  },
  {
    "text": "message we received a message from server",
    "start": "6812000",
    "end": "6817199"
  },
  {
    "text": "and the message is let's have by the way how do you how do you do what is called the text which is like inline",
    "start": "6817199",
    "end": "6824960"
  },
  {
    "text": "formatting so i just want to print the message.data i think that's how you do it okay and if we do that",
    "start": "6824960",
    "end": "6830639"
  },
  {
    "text": "nothing will happen we just wire the event so when someone from the server from the server sends",
    "start": "6830639",
    "end": "6836400"
  },
  {
    "text": "the client a message we should get something printed here",
    "start": "6836400",
    "end": "6841520"
  },
  {
    "text": "how about we test guys i'm going to go to the server here and in the debug i have access to that",
    "start": "6841520",
    "end": "6846800"
  },
  {
    "text": "connection right guys i'm gonna do connection that's send",
    "start": "6846800",
    "end": "6852320"
  },
  {
    "text": "what hello client it's me essa",
    "start": "6852320",
    "end": "6857760"
  },
  {
    "text": "and then hit enter go back what",
    "start": "6857760",
    "end": "6865119"
  },
  {
    "text": "look at that we received a message from the server hello client it's me as of how about that guys",
    "start": "6865119",
    "end": "6872239"
  },
  {
    "text": "should we do should we do the other thing let's do it guys let's continue to continue that let's go back",
    "start": "6872239",
    "end": "6878719"
  },
  {
    "text": "to this to the client and then say ws dot how do you do that send hello server it's me",
    "start": "6878719",
    "end": "6886560"
  },
  {
    "text": "client baby all right and then let's make sure we have the",
    "start": "6886560",
    "end": "6894800"
  },
  {
    "text": "break point we do have a break once so this function should be called because on message right on message is the function that",
    "start": "6894800",
    "end": "6901360"
  },
  {
    "text": "will be called when the server received the message let's receive a message",
    "start": "6901360",
    "end": "6907679"
  },
  {
    "text": "and send we sent a message and we didn't get it what's going on",
    "start": "6907679",
    "end": "6915440"
  },
  {
    "text": "so apparently i i typed the wrong event name it's not",
    "start": "6915440",
    "end": "6922239"
  },
  {
    "text": "called on message or on open or on close it's just message close open right",
    "start": "6922239",
    "end": "6928960"
  },
  {
    "text": "let's restart and let's try again since we were starting guys obviously that's just proves my",
    "start": "6928960",
    "end": "6935040"
  },
  {
    "text": "point that is this thing is stateful look at that there's a word state there",
    "start": "6935040",
    "end": "6940880"
  },
  {
    "text": "okay so it's just dead so how do we do this again it's okay just come on again let's just do it",
    "start": "6940880",
    "end": "6947440"
  },
  {
    "text": "again all right so let's establish the connection once again okay",
    "start": "6947440",
    "end": "6952480"
  },
  {
    "text": "let's just do le ws whoop we go come here",
    "start": "6952480",
    "end": "6959040"
  },
  {
    "text": "we forgot we removed the connection then that just like that we have a connection now",
    "start": "6959520",
    "end": "6965599"
  },
  {
    "text": "let's do the message and then we have the log here let's go ahead and the values",
    "start": "6965599",
    "end": "6973040"
  },
  {
    "text": "to send hello server it's me client",
    "start": "6973040",
    "end": "6978080"
  },
  {
    "text": "baby this time it should work what look at that immediately boom boom",
    "start": "6978080",
    "end": "6985760"
  },
  {
    "text": "all right got it and now here's what uh what i didn't know is like what is this called right",
    "start": "6985760",
    "end": "6991280"
  },
  {
    "text": "so message is essentially a json object and there is something called dot utf-8",
    "start": "6991280",
    "end": "6997440"
  },
  {
    "text": "data okay so that's where we sent utf-8 data so we can do dot utf utf",
    "start": "6997440",
    "end": "7006320"
  },
  {
    "text": "8 data okay so now if i do this it should just print it okay let's",
    "start": "7006320",
    "end": "7011840"
  },
  {
    "text": "start it one more time one more time right one more time guys",
    "start": "7011840",
    "end": "7017440"
  },
  {
    "text": "we'll get into we're gonna get it all right whoo request accept that request",
    "start": "7017440",
    "end": "7022960"
  },
  {
    "text": "let's do this again do the wire the message on the client",
    "start": "7022960",
    "end": "7028960"
  },
  {
    "text": "and then how about we clear this and then soon",
    "start": "7028960",
    "end": "7034480"
  },
  {
    "text": "and we get it we print it and there you go we have the message here receive message from the client it's me",
    "start": "7034480",
    "end": "7040159"
  },
  {
    "text": "client baby all right guys so here's what i want to do now okay i want you can you now you can take this and run with it",
    "start": "7040159",
    "end": "7047040"
  },
  {
    "text": "right the trick here is the connection if you want to build a chatting application you",
    "start": "7047040",
    "end": "7052239"
  },
  {
    "text": "have to build an array of connection and every time a client comes you add it to this array you push this",
    "start": "7052239",
    "end": "7058080"
  },
  {
    "text": "connection to an array and then you start maintaining these states of connections pool of",
    "start": "7058080",
    "end": "7063199"
  },
  {
    "text": "connections and then every time someone sends a message you can send the group message back to all the",
    "start": "7063199",
    "end": "7068320"
  },
  {
    "text": "connections okay so we can build something like that i'd rather build it in another video and we focus on just the raw web",
    "start": "7068320",
    "end": "7075199"
  },
  {
    "text": "sockets here i want you to understand that it's a connection you can send information from both states",
    "start": "7075199",
    "end": "7081679"
  },
  {
    "text": "okay and let's build one more function here i want to build this i want to configure the server to",
    "start": "7081679",
    "end": "7088080"
  },
  {
    "text": "send a message to the client every five second like a random number so how do i do that okay",
    "start": "7088080",
    "end": "7093679"
  },
  {
    "text": "so i want to build a function like stop this function uh function send",
    "start": "7093679",
    "end": "7102000"
  },
  {
    "text": "uh every five seconds okay and then here's what i wanna do i want",
    "start": "7102000",
    "end": "7108239"
  },
  {
    "text": "to literally do connection dot send",
    "start": "7108239",
    "end": "7113520"
  },
  {
    "text": "and then message i'm gonna send the message and then math.random literally any random number",
    "start": "7113520",
    "end": "7120719"
  },
  {
    "text": "i just want to send a message to to this to the client okay i don't know this could be logging",
    "start": "7120719",
    "end": "7126400"
  },
  {
    "text": "this could be anything you want right so we're sending the connection to the server uh the client messages",
    "start": "7126400",
    "end": "7133199"
  },
  {
    "text": "right all the time after every second how do we do that set timeout okay and literally just call yourself",
    "start": "7133199",
    "end": "7141119"
  },
  {
    "text": "every five thousand milliseconds and that's it that's it but this function is never",
    "start": "7141119",
    "end": "7146480"
  },
  {
    "text": "called so after a connection is accepted go ahead and call this function which will always send a message to the",
    "start": "7146480",
    "end": "7153840"
  },
  {
    "text": "client let's do this again guys so guys can we build an application that have a decent",
    "start": "7153840",
    "end": "7160719"
  },
  {
    "text": "client our client is lame but you can you get the idea right you can't build a script",
    "start": "7160719",
    "end": "7166800"
  },
  {
    "text": "that actually does exactly what we're writing i just want i don't want to write a lot of code i try to minimize",
    "start": "7166800",
    "end": "7173360"
  },
  {
    "text": "the number of code that we write okay obviously this thing is broken now right the ready state is three",
    "start": "7173360",
    "end": "7179760"
  },
  {
    "text": "we need to establish a brand new shiny object go ahead and write that",
    "start": "7179760",
    "end": "7186080"
  },
  {
    "text": "and now the client by the way the server started sending us messages but we cannot receive them you know why guys",
    "start": "7186080",
    "end": "7191920"
  },
  {
    "text": "because we didn't wire their own message event here that's what confused me on messages in the client",
    "start": "7191920",
    "end": "7197599"
  },
  {
    "text": "right on the server it's not called a message just called message okay yep let's do this now yep",
    "start": "7197599",
    "end": "7205840"
  },
  {
    "text": "we got a message we received message from server message function random yikes i know what's going on here guys",
    "start": "7205840",
    "end": "7212320"
  },
  {
    "text": "we're sending the entire function jason all right let's fix this yeah i forgot",
    "start": "7212320",
    "end": "7219599"
  },
  {
    "text": "to invoke the function you know the difference guys right i am sending literally the stringify json",
    "start": "7219599",
    "end": "7227520"
  },
  {
    "text": "of the function right i didn't invoke the random function to give me a",
    "start": "7227520",
    "end": "7233360"
  },
  {
    "text": "random number i literally just sent off the function which was dumb",
    "start": "7233360",
    "end": "7239280"
  },
  {
    "text": "okay guys let's do this again by the way guys i'm gonna make the code available so don't worry",
    "start": "7239280",
    "end": "7244719"
  },
  {
    "text": "about having just to pause the video right but yeah we",
    "start": "7244719",
    "end": "7249760"
  },
  {
    "text": "received a message accept that let's go ahead and accept it uh wire the message and there you go",
    "start": "7249760",
    "end": "7258159"
  },
  {
    "text": "one two three four five five there you go one two",
    "start": "7258159",
    "end": "7264560"
  },
  {
    "text": "three and four and five all right guys okay you got the idea guys so you can we send something in there to",
    "start": "7264560",
    "end": "7271599"
  },
  {
    "text": "the server while we're doing that sure hello babes",
    "start": "7271599",
    "end": "7277280"
  },
  {
    "text": "you can oh if only i can write if only i can write yeah sure we can receive a message just",
    "start": "7277280",
    "end": "7283360"
  },
  {
    "text": "remove these break points and you can see that babes receive a message we send another babe message we can",
    "start": "7283360",
    "end": "7289280"
  },
  {
    "text": "get it here right we get the messages and there's it's a two-way communication between a",
    "start": "7289280",
    "end": "7295119"
  },
  {
    "text": "client and server so now guys if you want to build like multiple clients",
    "start": "7295119",
    "end": "7300239"
  },
  {
    "text": "one server you're gonna you can always do that right okay our server",
    "start": "7300239",
    "end": "7306880"
  },
  {
    "text": "currently does not support multiple client if you do it will accept it but it's going to be very bad because",
    "start": "7306880",
    "end": "7313119"
  },
  {
    "text": "we're we're having just one variable one object maintaining the connection and whoever last twins essentially and",
    "start": "7313119",
    "end": "7320719"
  },
  {
    "text": "you're gonna leak stuff and it's it's really bad okay if you close the connection obviously",
    "start": "7320719",
    "end": "7325760"
  },
  {
    "text": "let's try that close the connection is that how you do it close and if you close essentially closed and you know what how",
    "start": "7325760",
    "end": "7334639"
  },
  {
    "text": "this what happened here right we called this function essentially okay sweet guys",
    "start": "7334639",
    "end": "7342159"
  },
  {
    "text": "let's go back and talk about pros and cons all right guys we learned about websockets we saw an",
    "start": "7342159",
    "end": "7348560"
  },
  {
    "text": "example now we need to learn about this pros and cons of this technology because",
    "start": "7348560",
    "end": "7354080"
  },
  {
    "text": "there's nothing perfect there's always pros and cons okay so what's bad about this what's good",
    "start": "7354080",
    "end": "7359360"
  },
  {
    "text": "about this what's good about this pros it's full duplex so if you are building",
    "start": "7359360",
    "end": "7365119"
  },
  {
    "text": "an application that requires the server to send you updates okay you do not need to do polling",
    "start": "7365119",
    "end": "7371760"
  },
  {
    "text": "essentially and you do not need to ask the server hey server do you have this do you have this do you have this do you",
    "start": "7371760",
    "end": "7378239"
  },
  {
    "text": "have this are we there yet are we there yet you don't you don't have to do that and that's you have to do that with http",
    "start": "7378239",
    "end": "7384320"
  },
  {
    "text": "with with http because it's a request response system right full duplex",
    "start": "7384320",
    "end": "7390000"
  },
  {
    "text": "on the other hand you don't have to server can send you information client can send you information right",
    "start": "7390000",
    "end": "7396080"
  },
  {
    "text": "and you can build it for gaming and you can build really cool apps with this technology",
    "start": "7396080",
    "end": "7402159"
  },
  {
    "text": "it's http compatible because of the upgrade header without that proxies will fail things",
    "start": "7402159",
    "end": "7408080"
  },
  {
    "text": "can go bad nobody can know this is actually a websocket right if you started just",
    "start": "7408080",
    "end": "7414159"
  },
  {
    "text": "creating a socket right and then sending binary information the the the firewall start blocking",
    "start": "7414159",
    "end": "7420960"
  },
  {
    "text": "because it's like what the heck is this right what are you sending me all right but because it started with an upgrade",
    "start": "7420960",
    "end": "7427280"
  },
  {
    "text": "with an legit http request and then we upgraded it to a websocket",
    "start": "7427280",
    "end": "7432880"
  },
  {
    "text": "that kind of passes all the internet infrastructure and it will should should",
    "start": "7432880",
    "end": "7440000"
  },
  {
    "text": "work with the with anything right there are problems there but we're going to talk about it",
    "start": "7440000",
    "end": "7446320"
  },
  {
    "text": "it's far more friendly because it's a standard http it's only 443 or 80 well you can listen",
    "start": "7446320",
    "end": "7452800"
  },
  {
    "text": "on any other port and that's how http works right htv web server you can listen to any port you want but",
    "start": "7452800",
    "end": "7460639"
  },
  {
    "text": "usually it's just 40 if it's just uh 40. usually it's 80 when it's insecure",
    "start": "7460639",
    "end": "7467840"
  },
  {
    "text": "it's 443 when it's suck your okay and what else",
    "start": "7467840",
    "end": "7475440"
  },
  {
    "text": "oh we're already out of good things i can probably think of more good things",
    "start": "7475440",
    "end": "7481280"
  },
  {
    "text": "i just didn't add it cons proxying is very tricky guys engine x just recently started adding",
    "start": "7481280",
    "end": "7488560"
  },
  {
    "text": "this to to the to its uh socket support right it's it's real tricky to know that hey you're",
    "start": "7488560",
    "end": "7496239"
  },
  {
    "text": "you're you're you're receiving a websocket request and you have to do like http upgrade and",
    "start": "7496239",
    "end": "7502320"
  },
  {
    "text": "the client the server has to respond to the http especially if the proxy is a",
    "start": "7502320",
    "end": "7508000"
  },
  {
    "text": "layer 7 proxy because you know we talked about layer 7 and layer 4 load balancing and proxying",
    "start": "7508000",
    "end": "7514560"
  },
  {
    "text": "guys i'm going to reference the video here and what happens essentially with layer 7 is",
    "start": "7514560",
    "end": "7520239"
  },
  {
    "text": "proxy has to break the tls right it has to terminate the tls most of the time in order to look at the",
    "start": "7520239",
    "end": "7527920"
  },
  {
    "text": "layer 7 data which is http and the moment it does that it has to create its own tcp connection",
    "start": "7527920",
    "end": "7534719"
  },
  {
    "text": "with the destination server and god knows how you can handle",
    "start": "7534719",
    "end": "7539760"
  },
  {
    "text": "this whoop socket and and because there will be a bi-directional between the proxy and the server and then another",
    "start": "7539760",
    "end": "7546239"
  },
  {
    "text": "bi-direction between the client and and the and the proxy is just a mess all right",
    "start": "7546239",
    "end": "7551440"
  },
  {
    "text": "okay so i really recommend just doing a layer for load balancer or",
    "start": "7551440",
    "end": "7557679"
  },
  {
    "text": "proxying and just never worrying about it okay yeah layer seven load balancing is very",
    "start": "7557679",
    "end": "7563199"
  },
  {
    "text": "challenging dealing with timeouts because proxy http or normally have a timeout",
    "start": "7563199",
    "end": "7570000"
  },
  {
    "text": "right server timeout okay but sockets shouldn't have timeouts",
    "start": "7570000",
    "end": "7575040"
  },
  {
    "text": "because you're using the connection yes of course it's going to take a long time it's going to stay open for a long time",
    "start": "7575040",
    "end": "7581280"
  },
  {
    "text": "even if it's not used you shouldn't terminate that for me because i can use it at any second right",
    "start": "7581280",
    "end": "7586960"
  },
  {
    "text": "so timeout is tricky right and you probably don't care about these things but it's",
    "start": "7586960",
    "end": "7592320"
  },
  {
    "text": "good to mention it's a stateful protocol right we talked we saw this literally",
    "start": "7592320",
    "end": "7598159"
  },
  {
    "text": "this variable called connection it is literally on my server",
    "start": "7598159",
    "end": "7603760"
  },
  {
    "text": "so if i sort of start my server my connection is dead the client is dead and",
    "start": "7603760",
    "end": "7610560"
  },
  {
    "text": "you just you just lost the connection essentially right you have to re-establish that okay",
    "start": "7610560",
    "end": "7615760"
  },
  {
    "text": "so since it's stateful it's really hard to horizontally scale okay does that mean you cannot",
    "start": "7615760",
    "end": "7622560"
  },
  {
    "text": "horizontally scale no it does not mean that you can write web sockets",
    "start": "7622560",
    "end": "7627920"
  },
  {
    "text": "in you can persist the sockets you can you can write smart application to use a third like a server",
    "start": "7627920",
    "end": "7635599"
  },
  {
    "text": "a database service like a postgres to kind of persist the connection ids",
    "start": "7635599",
    "end": "7641199"
  },
  {
    "text": "and have numbers in them and then you read the connection and then you have to maintain the state in the database and even if the database",
    "start": "7641199",
    "end": "7648320"
  },
  {
    "text": "died it will just if this another if the server died it can read back all the connections",
    "start": "7648320",
    "end": "7654880"
  },
  {
    "text": "from the database and do a smart thing and re-establish those right if you want to right it's still it's still not easy the",
    "start": "7654880",
    "end": "7661679"
  },
  {
    "text": "client has to be written in a way to do the statelessness thing",
    "start": "7661679",
    "end": "7666800"
  },
  {
    "text": "okay it's not impossible but it's very tricky okay so that's essentially",
    "start": "7666800",
    "end": "7672239"
  },
  {
    "text": "pros and cons do you have to use warp socket guys do you have to use it no",
    "start": "7672239",
    "end": "7680320"
  },
  {
    "text": "okay i know i know all right it's a cool technology but it",
    "start": "7680320",
    "end": "7686480"
  },
  {
    "text": "doesn't mean we have to use it okay it really depends on what you're trying to do right the question is like do you",
    "start": "7686480",
    "end": "7692480"
  },
  {
    "text": "absolutely need bi-directional communication that's the rule of thumb that's i just came up with that right so if you want",
    "start": "7692480",
    "end": "7699520"
  },
  {
    "text": "the server to send you information and the client to send information to the server like gaming",
    "start": "7699520",
    "end": "7704639"
  },
  {
    "text": "absolutely it's cool you can use websockets but if you only want like request response like",
    "start": "7704639",
    "end": "7710880"
  },
  {
    "text": "you're hosting a web page don't use websockets right because",
    "start": "7710880",
    "end": "7716719"
  },
  {
    "text": "why just use a normal beautiful stateless http right that's why http survived this long",
    "start": "7716719",
    "end": "7724320"
  },
  {
    "text": "because it's so beautiful and simple simplicity rules guys simplicity",
    "start": "7724320",
    "end": "7729599"
  },
  {
    "text": "rules okay whoops it's also simpler right but still it's more complex than",
    "start": "7729599",
    "end": "7735520"
  },
  {
    "text": "http right so if you absolutely need to move to bi-directional communication i",
    "start": "7735520",
    "end": "7742880"
  },
  {
    "text": "was a terrible british accent i'm sorry so if you absolutely need to move to bi-directional communication",
    "start": "7742880",
    "end": "7749360"
  },
  {
    "text": "then you use websocket but there are still stuff that we invented guys that is long",
    "start": "7749360",
    "end": "7755840"
  },
  {
    "text": "polling okay i don't i don't think i made a video about long point but essentially the client can send a request and just",
    "start": "7755840",
    "end": "7763360"
  },
  {
    "text": "wait until the server has information",
    "start": "7763360",
    "end": "7768719"
  },
  {
    "text": "okay to to essentially uh to avoid this messes right if i if i",
    "start": "7768719",
    "end": "7775599"
  },
  {
    "text": "want to make a request to get the data and the data is not available yet you can use long polling it's against",
    "start": "7775599",
    "end": "7782880"
  },
  {
    "text": "tricky but the server will not send you information until it gets you it gets some information kafka uses",
    "start": "7782880",
    "end": "7790480"
  },
  {
    "text": "long polling and they have good reasons about that okay because web sockets the problem with whoop socket is",
    "start": "7790480",
    "end": "7796480"
  },
  {
    "text": "the server doesn't know that the client has disconnected as well it's like it's like really weird to push",
    "start": "7796480",
    "end": "7803280"
  },
  {
    "text": "data to the client if you don't know if the client is there or not you cannot assume that you can use the circuit connection",
    "start": "7803280",
    "end": "7809520"
  },
  {
    "text": "obviously to to tell you that but you cannot rely on that okay long polling is one event source is",
    "start": "7809520",
    "end": "7816719"
  },
  {
    "text": "another thing i'm going to make a video about it but it's it's pretty cool if you want just the other way you want the server to always send you",
    "start": "7816719",
    "end": "7823760"
  },
  {
    "text": "information like notification you don't have to use websocket it's the one way but the other way",
    "start": "7823760",
    "end": "7829679"
  },
  {
    "text": "it's the server sending your request all the time okay you can send client server but the",
    "start": "7829679",
    "end": "7835840"
  },
  {
    "text": "server always pushes your information if there is informat if there is data like notification or push notification",
    "start": "7835840",
    "end": "7842079"
  },
  {
    "text": "that's perfect and you can use event source so it's like the other way okay long polling is just",
    "start": "7842079",
    "end": "7847920"
  },
  {
    "text": "hey give me information if that's available but event source is really powerful stuff so we can make a video",
    "start": "7847920",
    "end": "7853599"
  },
  {
    "text": "but most most most most used cases you can solve them with a different source except chatting right where",
    "start": "7853599",
    "end": "7860960"
  },
  {
    "text": "i mean even chatting you can solve it with even sorts because if the server receive information just",
    "start": "7860960",
    "end": "7866480"
  },
  {
    "text": "send it to me okay right so complexity versus simplicity",
    "start": "7866480",
    "end": "7872000"
  },
  {
    "text": "guys okay summary what we have done what we have learned on this video guys",
    "start": "7872000",
    "end": "7877599"
  },
  {
    "text": "we learned http okay we talked about http the basis of all things",
    "start": "7877599",
    "end": "7882719"
  },
  {
    "text": "the simplest protocol ever the most beautiful protocol ever",
    "start": "7882719",
    "end": "7888400"
  },
  {
    "text": "and then we talk about websockets this bi-directional full duplex thing right we talked about that we talked about the handshake which is the upgrade",
    "start": "7888400",
    "end": "7894880"
  },
  {
    "text": "protocol switching protocol 101 code we talked about use cases real time live",
    "start": "7894880",
    "end": "7900239"
  },
  {
    "text": "feed right you don't have to use websocket but you can use them for that right really think hard about use cases",
    "start": "7900239",
    "end": "7907520"
  },
  {
    "text": "guys now example we've written a node.js application that is a web server essentially a",
    "start": "7907520",
    "end": "7914400"
  },
  {
    "text": "websocket server okay the client was so simple it was just literally three lines of code",
    "start": "7914400",
    "end": "7919840"
  },
  {
    "text": "and we did not even open visual studio code to write that code we wrote it in",
    "start": "7919840",
    "end": "7926159"
  },
  {
    "text": "my chrome browser how cool-ish is that guys say with me it's cool-ish okay it's very cool-ish so there's a",
    "start": "7926159",
    "end": "7932560"
  },
  {
    "text": "difference between cool there is not cool way in the bottom there is cool way in the up",
    "start": "7932560",
    "end": "7938079"
  },
  {
    "text": "and cool-ish is a little bit below cool right it's almost cool but it's just",
    "start": "7938079",
    "end": "7943920"
  },
  {
    "text": "coolish right it's the ultimate state of the mind you want to reach you want to reach coolish",
    "start": "7943920",
    "end": "7949440"
  },
  {
    "text": "you don't want to be cool right you want to be coolish so whoopsocket pros and cons we talked",
    "start": "7949440",
    "end": "7955520"
  },
  {
    "text": "about olessa and we talked about when do you use websocket all right guys if you enjoyed this video give it a like",
    "start": "7955520",
    "end": "7962079"
  },
  {
    "text": "and share with your friends and hope you really enjoyed this video and you learn and uh subscribe to learn more about",
    "start": "7962079",
    "end": "7969599"
  },
  {
    "text": "software engineering to become a better software engineer and i'm going to see you in the next one you guys leave me a comment and below",
    "start": "7969599",
    "end": "7977119"
  },
  {
    "text": "if you want to learn anything if you want a new video about anything that is in your mind",
    "start": "7977119",
    "end": "7982960"
  },
  {
    "text": "um then do some research and talk about if i if that interests me right all right guys you guys stay",
    "start": "7982960",
    "end": "7989760"
  },
  {
    "text": "awesome and i see you in the next one goodbye",
    "start": "7989760",
    "end": "7996000"
  },
  {
    "start": "7993000",
    "end": "9210000"
  },
  {
    "text": "what is going on guys my name is hussain and in this video i want to talk about how you scale websocket connections guys",
    "start": "7996000",
    "end": "8003520"
  },
  {
    "text": "to run on multiple servers and i'm going to show you how uh first",
    "start": "8003520",
    "end": "8008880"
  },
  {
    "text": "illustrate that how websocket works i'm going to illustrate how you scale",
    "start": "8008880",
    "end": "8014239"
  },
  {
    "text": "websocket connection with a with a reverse proxy such as a haproxy or nginx",
    "start": "8014239",
    "end": "8020239"
  },
  {
    "text": "and once we do that i'm going to show you exactly a demo or some some code that i wrote that",
    "start": "8020239",
    "end": "8025440"
  },
  {
    "text": "simulates a live chat application that is scalable with docker right so i'm going to",
    "start": "8025440",
    "end": "8030880"
  },
  {
    "text": "spin up a little bit of a multiple servers with multiple websockets servers and one redis connection and",
    "start": "8030880",
    "end": "8037679"
  },
  {
    "text": "one reverse proxy and we're gonna distribute all this beautiful connection websockety stuff and that's",
    "start": "8037679",
    "end": "8043040"
  },
  {
    "text": "gonna be fun right how about we do that right you can skip to the code part if you're interested i'm gonna put the",
    "start": "8043040",
    "end": "8048560"
  },
  {
    "text": "jump code below and that's it let's just jump into it alright guys so a whoops whoop sockets",
    "start": "8048560",
    "end": "8054400"
  },
  {
    "text": "connection here's how websocket can actually work i made a video about websockets go ahead and check them out if you want details but in a nutshell",
    "start": "8054400",
    "end": "8061440"
  },
  {
    "text": "if you have a client here and you have a web server that's the normal observer the first thing that",
    "start": "8061440",
    "end": "8067520"
  },
  {
    "text": "the client does is it tries to establish just a normal http connection and it does hey i want",
    "start": "8067520",
    "end": "8075119"
  },
  {
    "text": "to do a get request but that get request has something very special in it it has something called the upgrade",
    "start": "8075119",
    "end": "8082079"
  },
  {
    "text": "header right and that upgrades here is like hey sir web server i know we just",
    "start": "8082079",
    "end": "8087520"
  },
  {
    "text": "established a tcp connection for the http session but is there a chance i can upgrade that",
    "start": "8087520",
    "end": "8092880"
  },
  {
    "text": "to a websocket the server says wait a second upgrade websocket yeah i",
    "start": "8092880",
    "end": "8098480"
  },
  {
    "text": "do support that right go ahead and let's reuse this connection for websocket from now on",
    "start": "8098480",
    "end": "8104480"
  },
  {
    "text": "that http session is now hijacked just for websocket now this is",
    "start": "8104480",
    "end": "8111040"
  },
  {
    "text": "only true for http 1 1. this is not true in case http 2 http 2 a",
    "start": "8111040",
    "end": "8117040"
  },
  {
    "text": "little bit more nuanced the one stream of http 2 one almost like one thread of http 2",
    "start": "8117040",
    "end": "8125520"
  },
  {
    "text": "right the stream will be used for warp socket connection because this will will be just a waste to waste the whole",
    "start": "8125520",
    "end": "8131199"
  },
  {
    "text": "tcp connection just for a warp socket right but that's another topic for another day",
    "start": "8131199",
    "end": "8136560"
  },
  {
    "text": "all right so what are we gonna do is like the server now can send information just randomly to the client",
    "start": "8136560",
    "end": "8142239"
  },
  {
    "text": "the client can send information to the server it's just a bi-directional thing right and that's how websockets",
    "start": "8142239",
    "end": "8148239"
  },
  {
    "text": "generally work right so it's a very stateful thing so we're using we're aware of this connection",
    "start": "8148239",
    "end": "8154159"
  },
  {
    "text": "we are aware of this connection and the client just sends information to this connection",
    "start": "8154159",
    "end": "8159199"
  },
  {
    "text": "it checks the state of the connection right so how do you scale something that is stateful right",
    "start": "8159199",
    "end": "8165040"
  },
  {
    "text": "with http it's very simple right because it it's uh just make a request to the",
    "start": "8165040",
    "end": "8170320"
  },
  {
    "text": "reverse proxy and the reverse proxy can load balance and hit that request",
    "start": "8170320",
    "end": "8175679"
  },
  {
    "text": "to any web server by the back end and they will be able to re serve us my website is a little bit",
    "start": "8175679",
    "end": "8182000"
  },
  {
    "text": "different right so let's let's take the same example with whoop socket and here's what we're going to do i am",
    "start": "8182000",
    "end": "8188000"
  },
  {
    "text": "going to simulate three clients the first client is the red client right we have red",
    "start": "8188000",
    "end": "8193280"
  },
  {
    "text": "here's what we're going to do we will have some sort of a reverse proxy here and",
    "start": "8193281",
    "end": "8198638"
  },
  {
    "text": "listening certain port let's say 80 or 443 probably 443 for security reasons",
    "start": "8198639",
    "end": "8203678"
  },
  {
    "text": "and that reverse proxy will establish that connection on our behalf to the",
    "start": "8203679",
    "end": "8210240"
  },
  {
    "text": "backend server so these guys are the websocket servers now right websockets websocket websockets right",
    "start": "8210240",
    "end": "8217120"
  },
  {
    "text": "so these are the websocket servers so how do i scale here's the interesting part here if the",
    "start": "8217120",
    "end": "8222880"
  },
  {
    "text": "first client made a request and says git upgrade right that reverse proxy if it supports",
    "start": "8222880",
    "end": "8230160"
  },
  {
    "text": "websocket and there's a big f not all reverse proxies support uh",
    "start": "8230160",
    "end": "8235678"
  },
  {
    "text": "whoop socket connection so you need to find some someone that does right so i know hi proxy does nginx does i",
    "start": "8235679",
    "end": "8242478"
  },
  {
    "text": "think uh i'm not sure about the rest right so now we have a request here",
    "start": "8242479",
    "end": "8247598"
  },
  {
    "text": "and it checks the reverse proxy says oh you want to upgrade the header huh i know how to deal with this let me",
    "start": "8247599",
    "end": "8254719"
  },
  {
    "text": "just a second let me let me connect to one of the servers and let's say the load load balancing algorithm is round robin",
    "start": "8254719",
    "end": "8261439"
  },
  {
    "text": "so it's going to connect you to this server and now there is one tcp connection between the reverse",
    "start": "8261440",
    "end": "8268240"
  },
  {
    "text": "proxy and that and the backend server and there's a one tcp connection between you",
    "start": "8268240",
    "end": "8273840"
  },
  {
    "text": "and the reverse proxy right but since this is warp sockets right",
    "start": "8273840",
    "end": "8279359"
  },
  {
    "text": "protocol that reverse proxy will act like a layer 4 proxy so it will stream every single",
    "start": "8279360",
    "end": "8286319"
  },
  {
    "text": "packet that you send from now on to always go to the server that's it",
    "start": "8286320",
    "end": "8291518"
  },
  {
    "text": "that there's a dedicated tcp connection to this client so it's like an almost almost act like a one one tcp",
    "start": "8291519",
    "end": "8298880"
  },
  {
    "text": "connection but it's really not there are some implementation that where this is physically one tcp",
    "start": "8298880",
    "end": "8305840"
  },
  {
    "text": "connections where this guy acts like a gateway just like a router but this is outside the scope of this video but",
    "start": "8305840",
    "end": "8312638"
  },
  {
    "text": "let's just say for simplicity you now you understand that right okay let's pick my second beautiful",
    "start": "8312639",
    "end": "8320399"
  },
  {
    "text": "yellow client my yellow client here now makes another tcp connection well",
    "start": "8320400",
    "end": "8327200"
  },
  {
    "text": "once a websocket right so that reverse proxy will say okay round robin i the first request was to",
    "start": "8327200",
    "end": "8333678"
  },
  {
    "text": "this guy so now the second request goes to this guy and so on right so let's just go the",
    "start": "8333679",
    "end": "8341120"
  },
  {
    "text": "blue guy sha this guy this is the websocket connection so now",
    "start": "8341120",
    "end": "8347920"
  },
  {
    "text": "let's just uh simulate what would happen here if i start sending a request right",
    "start": "8347920",
    "end": "8353439"
  },
  {
    "text": "that's what happened if i start sending so let's say the server starts sending information to the client right",
    "start": "8353440",
    "end": "8359200"
  },
  {
    "text": "so we'll start sending information the reverse proxy will say oh wait a second this is part of this so it will link it somehow",
    "start": "8359200",
    "end": "8365840"
  },
  {
    "text": "to this right so it's like almost like one connection any request that you send will go to",
    "start": "8365840",
    "end": "8371120"
  },
  {
    "text": "this client now this client if it sends information to that tcp connection it will go",
    "start": "8371120",
    "end": "8377120"
  },
  {
    "text": "through that pipe right and let's say the client the yellow client now sends",
    "start": "8377120",
    "end": "8382800"
  },
  {
    "text": "information here it will go through this and the blue will go through where this right so frequent request will not",
    "start": "8382800",
    "end": "8391200"
  },
  {
    "text": "be load balanced that that's that's what you need to understand with warp sockets because you cannot just",
    "start": "8391200",
    "end": "8396960"
  },
  {
    "text": "the yellow client suddenly jump to go to the other server because there is state here guys there",
    "start": "8396960",
    "end": "8402240"
  },
  {
    "text": "is state that these guys agree on like if you're building a chatting application or a game there's a state",
    "start": "8402240",
    "end": "8407600"
  },
  {
    "text": "that is here you cannot just abandon that state and just jump to another one you can but it's",
    "start": "8407600",
    "end": "8412800"
  },
  {
    "text": "it's really really hard to build right it's just it's almost impossible to do that right",
    "start": "8412800",
    "end": "8418319"
  },
  {
    "text": "so you do that and that's the idea that's how you scale websocket connection so you're this guy's acting",
    "start": "8418319",
    "end": "8424080"
  },
  {
    "text": "essentially as a layer 4 load balancer but the configuration is technically a layer seven because why",
    "start": "8424080",
    "end": "8432000"
  },
  {
    "text": "because this guy actually looked at the header and says oh what um",
    "start": "8432000",
    "end": "8437120"
  },
  {
    "text": "this is upper grade connection how does it know it's upgrade it looks it looks at the header and sees right so and uh i'm no i'm i'm i'm omitting a",
    "start": "8437120",
    "end": "8445120"
  },
  {
    "text": "lot of details guys i know this probably this guy is a tls terminator where it actually has a secure",
    "start": "8445120",
    "end": "8451439"
  },
  {
    "text": "certificate serving the certificate but at the back end you can either be secure or unsecured really",
    "start": "8451439",
    "end": "8457280"
  },
  {
    "text": "up to you guys all right all right guys to the fun part the coding part so",
    "start": "8457280",
    "end": "8463359"
  },
  {
    "text": "i'm going to spend a few minutes explaining the architecture of the application the live chatting application that i built and",
    "start": "8463359",
    "end": "8469920"
  },
  {
    "text": "then we will essentially just show you the code how about we do that guys all right so here's what i have here i have a",
    "start": "8469920",
    "end": "8476319"
  },
  {
    "text": "redis instance here right and i have the same thing these guys w",
    "start": "8476319",
    "end": "8482160"
  },
  {
    "text": "web circuit servers right it's a bunch of uh websocket servers and this is the reverse proxy which in",
    "start": "8482160",
    "end": "8488319"
  },
  {
    "text": "my case h a proxy these are the clients so these clients want to communicate",
    "start": "8488319",
    "end": "8494080"
  },
  {
    "text": "with each other right they all entered at like a lobby and they want to start",
    "start": "8494080",
    "end": "8500319"
  },
  {
    "text": "chatting with each other so that's the application so the red guy connects obviously which will obviously",
    "start": "8500319",
    "end": "8506240"
  },
  {
    "text": "be streamed to one of those servers and that's it now one tcp connection almost like a logical tcp connection",
    "start": "8506240",
    "end": "8513359"
  },
  {
    "text": "between the client and this server one okay let's take the second",
    "start": "8513359",
    "end": "8518560"
  },
  {
    "text": "client which is blue in this case",
    "start": "8518560",
    "end": "8523200"
  },
  {
    "text": "communicate it's the second server and the final client is the green",
    "start": "8524319",
    "end": "8531720"
  },
  {
    "text": "client so this guy connected this guy and this guy to connect to this guy right and that's that's absolutely fine",
    "start": "8531720",
    "end": "8537920"
  },
  {
    "text": "so the first problem here if this guy started to send chat messages says hi",
    "start": "8537920",
    "end": "8543359"
  },
  {
    "text": "right how do this hi propagates to this guy and this guy the",
    "start": "8543359",
    "end": "8550080"
  },
  {
    "text": "client number this these two clients right these are completely different servers guys so here's what i did right i used redis",
    "start": "8550080",
    "end": "8557439"
  },
  {
    "text": "as a pop sub system in this case i know i talked about writers guys check out the video i made about writers and whoop sockets i i",
    "start": "8557439",
    "end": "8563439"
  },
  {
    "text": "really generally encourage you to to read about this back in technology it's really really",
    "start": "8563439",
    "end": "8568720"
  },
  {
    "text": "pretty cool technologies right i'm gonna use another color here for the back end",
    "start": "8568720",
    "end": "8573760"
  },
  {
    "text": "and here's what i'm gonna do i use the pops up technology and we talked about pops up in this channel guys right",
    "start": "8573760",
    "end": "8579520"
  },
  {
    "text": "and what we're gonna do here i created a channel called live chat right",
    "start": "8579520",
    "end": "8586399"
  },
  {
    "text": "and i made all these guys when they spin up i made them subscribe to this live chat",
    "start": "8586399",
    "end": "8592640"
  },
  {
    "text": "channel to this channel okay and when what does it mean to subscribe that means if someone published something to",
    "start": "8592640",
    "end": "8599520"
  },
  {
    "text": "this those three guys will see it immediately and here's what we're gonna do",
    "start": "8599520",
    "end": "8604640"
  },
  {
    "text": "so this client sends a message says hi which will be transferred to this guy",
    "start": "8604640",
    "end": "8611200"
  },
  {
    "text": "which then is responsible to publish the high message to the live chat",
    "start": "8611200",
    "end": "8616640"
  },
  {
    "text": "which will the redis uh code will trigger and it will say okay who's subscribed to the live chat oh",
    "start": "8616640",
    "end": "8623040"
  },
  {
    "text": "this guy this guy's this guy so this guy will get it this guy will get it also this guy will get it as well",
    "start": "8623040",
    "end": "8630560"
  },
  {
    "text": "and what will happen is like okay there will be code that would say whenever we receive a message from the",
    "start": "8630560",
    "end": "8635840"
  },
  {
    "text": "channel go ahead and push it to all my clients so in this case hi",
    "start": "8635840",
    "end": "8642160"
  },
  {
    "text": "hi will be transferred back to everybody so well this is a decline",
    "start": "8642160",
    "end": "8648800"
  },
  {
    "text": "this client will get the message this message also this client will get the message because",
    "start": "8648800",
    "end": "8654160"
  },
  {
    "text": "we'll just get his message back right because we don't know right we just subscribe and the message will be",
    "start": "8654160",
    "end": "8660160"
  },
  {
    "text": "distributed to all of these guys how about we actually show you the code that's the most fun part it's really really simple because i just",
    "start": "8660160",
    "end": "8667120"
  },
  {
    "text": "use docker for the whole thing that's it you just need docker and visual studio code to write the code how about we jump",
    "start": "8667120",
    "end": "8672240"
  },
  {
    "text": "into it so here's the code guys i'm gonna go through the docker compose and guys you",
    "start": "8672240",
    "end": "8677920"
  },
  {
    "text": "might say what the heck is docker compose check out the video i made here micro services and how to spin up all this",
    "start": "8677920",
    "end": "8683359"
  },
  {
    "text": "stuff so the first thing is the load balancer which is this puppy right and i'm going to use hi proxy and",
    "start": "8683359",
    "end": "8690080"
  },
  {
    "text": "i talked about it your proxy in this channel go check out the course i built and share proxy and we're going to listen in",
    "start": "8690080",
    "end": "8695760"
  },
  {
    "text": "port 8080 and here's the hi proxy configuration we'll go go through that and what we're building here we are",
    "start": "8695760",
    "end": "8702319"
  },
  {
    "text": "spinning four or three actually four huh four websocket servers right",
    "start": "8702319",
    "end": "8710640"
  },
  {
    "text": "and the websocket logic server is actually in this image which we are about to show that that's the code we written that oh",
    "start": "8710640",
    "end": "8718000"
  },
  {
    "text": "connect to this redis instance and and publish and connect and send information back to all this logic",
    "start": "8718000",
    "end": "8723680"
  },
  {
    "text": "lives in that in the world circuit deserver itself and i'm just sending some app id here so we know which server",
    "start": "8723680",
    "end": "8729600"
  },
  {
    "text": "we're connecting to it's just uh mumbo jumbo nothing fancy here and then finally there is server that does",
    "start": "8729600",
    "end": "8735840"
  },
  {
    "text": "all this magic right and here's the host names these are host names essentially okay",
    "start": "8735840",
    "end": "8741439"
  },
  {
    "text": "and now go let's go to the it's a proxy configuration the hi proxy configuration you see large",
    "start": "8741439",
    "end": "8747200"
  },
  {
    "text": "timeouts and these are very very critical because the hr proxy will terminate the connection if",
    "start": "8747200",
    "end": "8752319"
  },
  {
    "text": "nobody's communicating for x amount of time right and we don't want that because",
    "start": "8752319",
    "end": "8757359"
  },
  {
    "text": "this is a stateful connection and there will always be some people not sending messages for a",
    "start": "8757359",
    "end": "8762880"
  },
  {
    "text": "long time right so we need to keep this connection open so what do we need to do is like configure a back-end and this back-end",
    "start": "8762880",
    "end": "8768880"
  },
  {
    "text": "will have four servers server ws and ws1 ws2 ws3 ws4 listening",
    "start": "8768880",
    "end": "8775359"
  },
  {
    "text": "on port 8080 8880 right and this is just like logical server names that is",
    "start": "8775359",
    "end": "8780399"
  },
  {
    "text": "for the configuration all right and what is the final piece the docker file which will build our application all right",
    "start": "8780399",
    "end": "8787680"
  },
  {
    "text": "this will be building a node.js application that will have the websocket server which we discussed in",
    "start": "8787680",
    "end": "8794560"
  },
  {
    "text": "another video right how to build it and this is the node.js application itself we are",
    "start": "8794560",
    "end": "8800399"
  },
  {
    "text": "using http module we are using the websocket module obviously we need the redis as well and we're taking the app id",
    "start": "8800399",
    "end": "8806720"
  },
  {
    "text": "and here's what we're gonna do we'll create two connections from the websockets a",
    "start": "8806720",
    "end": "8813200"
  },
  {
    "text": "subscriber connection and a publisher connection and that's too bad because i don't like this but",
    "start": "8813200",
    "end": "8819040"
  },
  {
    "text": "i think i guess this is just the limitation that the red esteem have right because this is what we're talking",
    "start": "8819040",
    "end": "8824479"
  },
  {
    "text": "about because this guy is also a publisher and a subscriber you need two tcp connection and the",
    "start": "8824479",
    "end": "8829760"
  },
  {
    "text": "reason is the moment you subscribe you cannot publish on the same tcp connection for limitation reasons",
    "start": "8829760",
    "end": "8835600"
  },
  {
    "text": "obviously quick will definitely solve this problem i have no idea if freddy's team will",
    "start": "8835600",
    "end": "8841600"
  },
  {
    "text": "ever move too quick but that's definitely one solution right there will be one tcp connection well",
    "start": "8841600",
    "end": "8847439"
  },
  {
    "text": "udp in this case but a stream will be reserved for a subscriber and the other stream will be",
    "start": "8847439",
    "end": "8852640"
  },
  {
    "text": "reserved for a publisher i think that's a great solution uh rabbitmq came up with the idea of channels so i don't know why",
    "start": "8852640",
    "end": "8859280"
  },
  {
    "text": "uh the radius team can also implement that channels in the tcp right so they need to augment their risk",
    "start": "8859280",
    "end": "8865520"
  },
  {
    "text": "protocol to do that anyway so sorry about guys guys i just ramble a lot when it comes to these technical",
    "start": "8865520",
    "end": "8871600"
  },
  {
    "text": "details i love this stuff guys all right so we'd have publisher and subscriber for each one",
    "start": "8871600",
    "end": "8876960"
  },
  {
    "text": "on subscribe if someone subscribed to you just immediately publish a message that's just garbage there's nothing really",
    "start": "8876960",
    "end": "8883439"
  },
  {
    "text": "special about this but if i receive a message from the subscriber this is this way",
    "start": "8883439",
    "end": "8888560"
  },
  {
    "text": "right if i'm going this way right from the list to this if i received a message go ahead and",
    "start": "8888560",
    "end": "8894800"
  },
  {
    "text": "loop through every single websocket connection that i have and send that message to my subscriber so in this case i'm",
    "start": "8894800",
    "end": "8902240"
  },
  {
    "text": "gonna send it to the reverse proxy the reverse proxy obviously is smart enough to serve it to the right client",
    "start": "8902240",
    "end": "8908319"
  },
  {
    "text": "right because it's although this logic is lives and probably the nat right network",
    "start": "8908319",
    "end": "8913439"
  },
  {
    "text": "allocation table i might be wrong there and we're subscribing to the live chat",
    "start": "8913439",
    "end": "8918720"
  },
  {
    "text": "and uh on the radio server okay uh we created this is just a warp socket",
    "start": "8918720",
    "end": "8924080"
  },
  {
    "text": "logic connection we created a bland tcp connection and then inherit that",
    "start": "8924080",
    "end": "8929520"
  },
  {
    "text": "logic in the http server listening on port 8080 that explains why we have all bunch of",
    "start": "8929520",
    "end": "8936160"
  },
  {
    "text": "8080s here right and uh on request this is the connection upgrade",
    "start": "8936160",
    "end": "8941600"
  },
  {
    "text": "if i am open close or do this event if someone just sent me a message do",
    "start": "8941600",
    "end": "8948240"
  },
  {
    "text": "this right and publish that message to the redis server on the live chat channel",
    "start": "8948240",
    "end": "8954800"
  },
  {
    "text": "channel is very overloaded huh channel on rabbitmq means differently completely different thing than",
    "start": "8954800",
    "end": "8960880"
  },
  {
    "text": "a channel on writers all right so set timeout obviously and this is just a",
    "start": "8960880",
    "end": "8966880"
  },
  {
    "text": "a timeout that whenever your connection after five second i will tell you hey you're connected to server",
    "start": "8966880",
    "end": "8972080"
  },
  {
    "text": "one or two or three and then you can as obviously have many connections so i'm going to add this",
    "start": "8972080",
    "end": "8978319"
  },
  {
    "text": "connection to a pool of connection array that i have here and that's it and that's the client code how about we actually test that thing guys",
    "start": "8978319",
    "end": "8984960"
  },
  {
    "text": "so to do that we need to do two things let's clear all my previous attempts here we",
    "start": "8984960",
    "end": "8990720"
  },
  {
    "text": "are gonna do docker dash docker build dash t uh ws app",
    "start": "8990720",
    "end": "8997920"
  },
  {
    "text": "is that what i called it ws app that's the image right so ws app and then dot",
    "start": "8997920",
    "end": "9004960"
  },
  {
    "text": "this will build the late that's the first thing you need to do build the docker image for the websocket and we'll",
    "start": "9004960",
    "end": "9011439"
  },
  {
    "text": "build it from basically from this guy right the second thing we need to do is docker compose uh",
    "start": "9011439",
    "end": "9019600"
  },
  {
    "text": "up that's it that will start spinning up all those beautiful websocket servers",
    "start": "9019600",
    "end": "9026640"
  },
  {
    "text": "all those beautiful ha proxies and redis and everything so it looks like we're up and running",
    "start": "9026640",
    "end": "9032399"
  },
  {
    "text": "how about we start testing this thing i'm going to open a brand new chrome i'm going to go to the developer tools",
    "start": "9032399",
    "end": "9038479"
  },
  {
    "text": "clear that thing and here's what i'm going to do const let's zoom in here so you guys can see",
    "start": "9038479",
    "end": "9043680"
  },
  {
    "text": "ws or just say ws because i'm going to do this a lot obviously equal new whoop socket",
    "start": "9043680",
    "end": "9052399"
  },
  {
    "text": "ws local host because it's running on my machine right and it's exposed right that's it and then",
    "start": "9052560",
    "end": "9060640"
  },
  {
    "text": "i just connect it to the server we need to set up the message obviously and then finally we need to",
    "start": "9060640",
    "end": "9066800"
  },
  {
    "text": "start sending so this is client number one i'm gonna say hello i am client number one okay and",
    "start": "9066800",
    "end": "9074640"
  },
  {
    "text": "immediately i got the same message obviously we have one client so we just need to do this all over again",
    "start": "9074640",
    "end": "9081120"
  },
  {
    "text": "on another client all right guys let's do this",
    "start": "9081120",
    "end": "9086479"
  },
  {
    "text": "again right guys now i'm i open to chrome the views here i'm gonna",
    "start": "9086479",
    "end": "9091680"
  },
  {
    "text": "establish a connection right here and then i'm gonna wire the message and",
    "start": "9091680",
    "end": "9097600"
  },
  {
    "text": "i'm gonna send hey i'm client number one immediately i got it and the five second immediately got it",
    "start": "9097600",
    "end": "9103120"
  },
  {
    "text": "oh you're connected to server four right by the way this is all round drop in but",
    "start": "9103120",
    "end": "9108319"
  },
  {
    "text": "let's check now i'm going to connect from client to here",
    "start": "9108319",
    "end": "9116000"
  },
  {
    "text": "all right and send i am client number two i am connected to client number one in this case all right",
    "start": "9116000",
    "end": "9121600"
  },
  {
    "text": "look at this we got the message now if i do ws.send message",
    "start": "9121600",
    "end": "9129200"
  },
  {
    "text": "another message immediately i got it here and i got it",
    "start": "9129200",
    "end": "9134960"
  },
  {
    "text": "here despite us connected to different servers right and you can scale this to as many as you",
    "start": "9134960",
    "end": "9142000"
  },
  {
    "text": "want i can open many many server many web pages like this and i start playing with this thing",
    "start": "9142000",
    "end": "9147439"
  },
  {
    "text": "and i want you to play with this thing now so now if i send the message from here if i do ws dot send",
    "start": "9147439",
    "end": "9155040"
  },
  {
    "text": "hey immediately i get it here and i get it here despite me and the other client on a completely",
    "start": "9155040",
    "end": "9162560"
  },
  {
    "text": "different server because we just proved it right we were connected to server number one here container number one to be specific",
    "start": "9162560",
    "end": "9169120"
  },
  {
    "text": "and this guy's connected to container number 444 and we communicate together with the power of radius right in this",
    "start": "9169120",
    "end": "9176640"
  },
  {
    "text": "case all right guys and and final thing before we end this video guys uh yeah obviously we have read this as a",
    "start": "9176640",
    "end": "9183920"
  },
  {
    "text": "kind of a central point of failure here but red is support clustering and replication to allow us",
    "start": "9183920",
    "end": "9190720"
  },
  {
    "text": "to scale right so what you're going to do is i could spin up multiple radius but instances in order to essentially",
    "start": "9190720",
    "end": "9196720"
  },
  {
    "text": "scale that but i rarely really really doubt that you're going to need that",
    "start": "9196720",
    "end": "9202319"
  },
  {
    "text": "except you're going to have thousands and thousands of connections scaling just just",
    "start": "9202319",
    "end": "9208080"
  },
  {
    "text": "this layer is enough to me to scale websocket connections all right guys so that's it for me today",
    "start": "9208080",
    "end": "9214560"
  },
  {
    "start": "9210000",
    "end": "10410000"
  },
  {
    "text": "hope you enjoyed this video websocket have a great weekend i'm gonna see you",
    "start": "9214560",
    "end": "9219600"
  },
  {
    "text": "in the next one you guys stay awesome throw in all your questions that you have below what should i make",
    "start": "9219600",
    "end": "9226399"
  },
  {
    "text": "next i am going to see in the next one you guys stay awesome",
    "start": "9226399",
    "end": "9232479"
  },
  {
    "text": "hey guys what's up i want to make a new video talking about websockets but uh",
    "start": "9235120",
    "end": "9243120"
  },
  {
    "text": "i wanted to dive into an area that we haven't talked about",
    "start": "9243120",
    "end": "9248319"
  },
  {
    "text": "in our previous videos about websockets which is i'm going to reference below detailing about the pros and cons of",
    "start": "9248319",
    "end": "9254640"
  },
  {
    "text": "websockets and applications and the all the code that we have written right but we have not talked about",
    "start": "9254640",
    "end": "9262640"
  },
  {
    "text": "how to do wss which is websocket secure and that's why i want to make this video",
    "start": "9262640",
    "end": "9268960"
  },
  {
    "text": "in order to show you guys how to do web circuits secure or essentially it's just warp socket",
    "start": "9268960",
    "end": "9275760"
  },
  {
    "text": "over tls uh connections and i'm gonna use uh a chair proxy to do that",
    "start": "9275760",
    "end": "9281439"
  },
  {
    "text": "i'm gonna show you how to do that right i'm not going to write any code i'm going to reference the code",
    "start": "9281439",
    "end": "9287120"
  },
  {
    "text": "we have done in the previous episodes right where we talked about websocket",
    "start": "9287120",
    "end": "9292640"
  },
  {
    "text": "and here's the code i'm going to reference the github repo and i'm going to show you how it works and then slowly",
    "start": "9292640",
    "end": "9298240"
  },
  {
    "text": "we're going to add a public ip address and we're going to add a domain",
    "start": "9298240",
    "end": "9303840"
  },
  {
    "text": "a public domain that points to the public happy address and then we're going to essentially use a certificate to secure",
    "start": "9303840",
    "end": "9310479"
  },
  {
    "text": "my public domain all that jazz and then essentially just used wss because now we're gonna listen to",
    "start": "9310479",
    "end": "9317120"
  },
  {
    "text": "port 443 and all that jazz so how about we just jump into it guys all right so here what i have here node.js",
    "start": "9317120",
    "end": "9324000"
  },
  {
    "text": "application that acts as a no uh as a websocket server okay",
    "start": "9324000",
    "end": "9329439"
  },
  {
    "text": "and websocket servers it's very simple it listens it hijacks the tcp connection",
    "start": "9329439",
    "end": "9337520"
  },
  {
    "text": "that you make as a first upgrade http request and make use that tcp connection as a",
    "start": "9337520",
    "end": "9344800"
  },
  {
    "text": "bi-directional communication right so let's go ahead and just show that part the vanilla stuff",
    "start": "9344800",
    "end": "9350640"
  },
  {
    "text": "and see how this server works right so i'm gonna go ahead and start debugging here",
    "start": "9350640",
    "end": "9355840"
  },
  {
    "text": "and when i start debugging i'm gonna listen to port 8080 on my macbook here on my machine which",
    "start": "9355840",
    "end": "9361680"
  },
  {
    "text": "is one two seven zero zero one or the local ip address so how about we go to chrome and consume them",
    "start": "9361680",
    "end": "9367600"
  },
  {
    "text": "what that what this application does is the moment you start connecting to this server it will essentially have",
    "start": "9367600",
    "end": "9374160"
  },
  {
    "text": "some events and we talked about all these events in the previous video but it will what we'll do is essentially",
    "start": "9374160",
    "end": "9381840"
  },
  {
    "text": "if you send a message it will reply back with the same message and it also sends a message every five seconds the server",
    "start": "9381840",
    "end": "9388800"
  },
  {
    "text": "sends a message to the server to the client every five seconds because that's that's the beauty of websockets it's a bi-directional",
    "start": "9388800",
    "end": "9395040"
  },
  {
    "text": "system okay right so how about we go to the client here and my client in this case i'm just",
    "start": "9395040",
    "end": "9402319"
  },
  {
    "text": "gonna use chrome's console here and if you don't know how to get to chrome's console you",
    "start": "9402319",
    "end": "9408000"
  },
  {
    "text": "can go to more tools developer tool and this gives you this puppy right and i'm going to write all the code that i",
    "start": "9408000",
    "end": "9414399"
  },
  {
    "text": "need from here because i'm i'm a i'm an uh i'm a simple guy like that okay so let's",
    "start": "9414399",
    "end": "9421439"
  },
  {
    "text": "go ahead and declare a websocket here and then what i'm going to do is",
    "start": "9421439",
    "end": "9426800"
  },
  {
    "text": "websocket equal new web socket that's a built-in class in every browser and you",
    "start": "9426800",
    "end": "9433280"
  },
  {
    "text": "can just do ws which is stands for websocket okay this is the protocol and then we'll do",
    "start": "9433280",
    "end": "9439920"
  },
  {
    "text": "seven seven seven eleven eighty eighty okay and when you do that the browser will",
    "start": "9439920",
    "end": "9446080"
  },
  {
    "text": "send and the first http request as a plain http git request",
    "start": "9446080",
    "end": "9452240"
  },
  {
    "text": "with an upgrade header saying hey by the way it's an extreme request but i want to upgrade this to a",
    "start": "9452240",
    "end": "9458880"
  },
  {
    "text": "websocket connection and the and if the server is smart enough to understand what a protocol upgrade",
    "start": "9458880",
    "end": "9466160"
  },
  {
    "text": "is it will upgrade the the protocol and return a code 101 was as i wanted one i forgot what the",
    "start": "9466160",
    "end": "9473200"
  },
  {
    "text": "switching protocol header status code and this will teleport my server which i just wrote is smart it understands",
    "start": "9473200",
    "end": "9481120"
  },
  {
    "text": "upgrade so we'll actually upgrade the connection right so we'll do that and let's just listen on a message",
    "start": "9481120",
    "end": "9486880"
  },
  {
    "text": "on the client itself say hey they call console.log that essentially means the function you",
    "start": "9486880",
    "end": "9492720"
  },
  {
    "text": "can just essentially assign a function that will be called every time the client receives a message",
    "start": "9492720",
    "end": "9497760"
  },
  {
    "text": "okay and then in this case it's just hey you can see right every five second we start getting a",
    "start": "9497760",
    "end": "9502960"
  },
  {
    "text": "message so again we're getting these messages from the server pretty cool all right",
    "start": "9502960",
    "end": "9508080"
  },
  {
    "text": "pretty cool so if i clear this thing we'll start getting the message but if i do ws.send i can send something",
    "start": "9508080",
    "end": "9513840"
  },
  {
    "text": "to the server hello and i'm gonna say get your message hello got your message",
    "start": "9513840",
    "end": "9519120"
  },
  {
    "text": "hello the server sent back the message right so that's whoop socket in a nutshell boring",
    "start": "9519120",
    "end": "9526319"
  },
  {
    "text": "boring stuff okay so here's what i want to do i want to do this as a websocket secure",
    "start": "9526319",
    "end": "9533920"
  },
  {
    "text": "but there are so many layers because this is a first of all this is a a private connection right this is",
    "start": "9533920",
    "end": "9541520"
  },
  {
    "text": "on my local machine so what i have done is the first step is i",
    "start": "9541520",
    "end": "9549520"
  },
  {
    "text": "added on my router a rule that says hey every time",
    "start": "9549520",
    "end": "9557280"
  },
  {
    "text": "someone requests on port 80 or port for free on the router please forward them to",
    "start": "9557280",
    "end": "9564479"
  },
  {
    "text": "this laptop this local machine which is jose mc which is the machine i'm running web sockets on",
    "start": "9564479",
    "end": "9570160"
  },
  {
    "text": "okay so that's the thing we want to do first okay i want to forward everything to this",
    "start": "9570160",
    "end": "9576800"
  },
  {
    "text": "public eye to this local ipad so port 80 from the public internet on this public ipad is",
    "start": "9576800",
    "end": "9581920"
  },
  {
    "text": "we'll go to this this will go to this this is very critical for the the for the next piece okay",
    "start": "9581920",
    "end": "9587840"
  },
  {
    "text": "but hussein there is nothing running port 80 on your machine right now and that's true",
    "start": "9587840",
    "end": "9593920"
  },
  {
    "text": "there's nothing there is something running on 8080 but there's a beauty part so how about we go to our beautiful ha",
    "start": "9593920",
    "end": "9601040"
  },
  {
    "text": "proxy which is a beautiful badass proxy right and i made a video about",
    "start": "9601040",
    "end": "9607760"
  },
  {
    "text": "achieve proxy i had a video about nginx i'm gonna made a video about comparing those two proxies and which is",
    "start": "9607760",
    "end": "9614319"
  },
  {
    "text": "better in my opinion personal opinion but spoiler alert i prefer jproxy",
    "start": "9614319",
    "end": "9620960"
  },
  {
    "text": "okay so let's go ahead and uh go to the command prompt and write a config that",
    "start": "9620960",
    "end": "9628800"
  },
  {
    "text": "listens on port 80 on my machine and forwards the",
    "start": "9628800",
    "end": "9636240"
  },
  {
    "text": "traffic to my websocket server how do we do that very",
    "start": "9636240",
    "end": "9642880"
  },
  {
    "text": "very simple hey proxy supports that i'm going to explain how it does that okay so obviously we're going to need to create",
    "start": "9642880",
    "end": "9649439"
  },
  {
    "text": "a config so i'm going to create ws.cfg a config foil it's an empty i'm going to create a",
    "start": "9649439",
    "end": "9655279"
  },
  {
    "text": "front end i'm called ws and the mode is hdb i'm playing on the layer seven here",
    "start": "9655279",
    "end": "9662399"
  },
  {
    "text": "and you might say hussain websocket is technically yeah it's a layer of seven protocol but",
    "start": "9662399",
    "end": "9669120"
  },
  {
    "text": "most of the stuff is a stateful how do you gonna do that we're gonna show you how uh",
    "start": "9669120",
    "end": "9674960"
  },
  {
    "text": "haproxy is smart and does that very very intelligently so i'm gonna create a",
    "start": "9674960",
    "end": "9680479"
  },
  {
    "text": "timeout client timeout i don't know 10 seconds whatever that's the time out after which we will give up the",
    "start": "9680479",
    "end": "9687359"
  },
  {
    "text": "connection and that's this these timers are very important guys we're going to talk about them in a minute right so i'm going to bind",
    "start": "9687359",
    "end": "9693680"
  },
  {
    "text": "on all ports 80 and i think that's it right and the back",
    "start": "9693680",
    "end": "9699760"
  },
  {
    "text": "end i'm going to create a ws back end right and let's do default back and here",
    "start": "9699760",
    "end": "9705439"
  },
  {
    "text": "is the w is back end right just point this guy to always to go to this guy and what is the back end here well you",
    "start": "9705439",
    "end": "9712240"
  },
  {
    "text": "guessed it guys it's a server that is named s1 whatever you can create multiple",
    "start": "9712240",
    "end": "9718000"
  },
  {
    "text": "s-ones as servers here and it's on port zero zero one um one two seven",
    "start": "9718000",
    "end": "9723680"
  },
  {
    "text": "zero zero one okay and it's listening on port",
    "start": "9723680",
    "end": "9728880"
  },
  {
    "text": "you guessed that 8080. nice we need some timeouts here timeout uh",
    "start": "9728880",
    "end": "9736240"
  },
  {
    "text": "connect how long should i wait before i give up connecting to that",
    "start": "9736240",
    "end": "9742000"
  },
  {
    "text": "backend server okay 10 seconds whatever and timeout uh",
    "start": "9742000",
    "end": "9748560"
  },
  {
    "text": "server and this should be really high okay ah okay important",
    "start": "9748560",
    "end": "9755680"
  },
  {
    "text": "hundred seconds this this is the timeout after which if i didn't receive anything from the",
    "start": "9755680",
    "end": "9761680"
  },
  {
    "text": "back end which is this guy as a ha proxy if it didn't receive anything from this guy kill it all right so let's do that",
    "start": "9761680",
    "end": "9769920"
  },
  {
    "text": "and let's test this out guys let's test this out right so let's go ahead and do hi proxy dash",
    "start": "9769920",
    "end": "9776000"
  },
  {
    "text": "f ws.cfg and we gotta get the elder because we",
    "start": "9776000",
    "end": "9781439"
  },
  {
    "text": "didn't we forgot to do the mode for",
    "start": "9781439",
    "end": "9787359"
  },
  {
    "text": "we forgot to do the mode on the server okay it's an incompatible",
    "start": "9787760",
    "end": "9795120"
  },
  {
    "text": "mode both of them are playing on the http layer here on the on the layer seven okay so if i do this now",
    "start": "9795120",
    "end": "9802479"
  },
  {
    "text": "it's working it's listening on port 80. right so technically any request http requests",
    "start": "9802479",
    "end": "9809840"
  },
  {
    "text": "right right anything that goes into this port",
    "start": "9809840",
    "end": "9816000"
  },
  {
    "text": "port 80 will be forwarded to untested including websockets requests so let's let's test",
    "start": "9816000",
    "end": "9823520"
  },
  {
    "text": "that out so now if i do this",
    "start": "9823520",
    "end": "9828800"
  },
  {
    "text": "right instead of doing 8080 i can do this right because port 80 will be forwarded",
    "start": "9828800",
    "end": "9834960"
  },
  {
    "text": "to port 8080 right on the back end okay and this will be clarifying in a minute this",
    "start": "9834960",
    "end": "9842800"
  },
  {
    "text": "is the local because the shape process is running locally so that i would assume this will also work right and what happened here guys",
    "start": "9842800",
    "end": "9850479"
  },
  {
    "text": "what exactly happened my client which is the browser since a git request says hey i want to",
    "start": "9850479",
    "end": "9857120"
  },
  {
    "text": "upgrade the connection it's a http request hi proxy detected that and says oh it's",
    "start": "9857120",
    "end": "9862560"
  },
  {
    "text": "a normal http request so yeah i'm gonna do a load balancing on the back end but wait a second there is an upgrade header",
    "start": "9862560",
    "end": "9868319"
  },
  {
    "text": "there okay i don't know if we can see it actually there you go so we give but we made a",
    "start": "9868319",
    "end": "9875279"
  },
  {
    "text": "request right that's the request header i want to upgrade the connection",
    "start": "9875279",
    "end": "9880479"
  },
  {
    "text": "and look at that i want to upgrade the connection and the server replied back",
    "start": "9880479",
    "end": "9885520"
  },
  {
    "text": "with switching protocol 101 okay so this did work haproxy did establish the",
    "start": "9885520",
    "end": "9891680"
  },
  {
    "text": "connection but here's what hape proxy also does so it's a proxy remember as a layer 7",
    "start": "9891680",
    "end": "9897840"
  },
  {
    "text": "proxy it terminates the connection right between the client and itself",
    "start": "9897840",
    "end": "9903600"
  },
  {
    "text": "and establishes a brand new connection and plays with those in the back end right as a round robin or base based on",
    "start": "9903600",
    "end": "9909920"
  },
  {
    "text": "the back end load balancing algorithm okay but here's the problem now whoop",
    "start": "9909920",
    "end": "9917279"
  },
  {
    "text": "socket is a stateful protocol right so nha proxy knows that so it says okay once i upgrade the connection i'm gonna",
    "start": "9917279",
    "end": "9924479"
  },
  {
    "text": "hook you up with one tcp connection there's magic there i don't know what is going on",
    "start": "9924479",
    "end": "9930319"
  },
  {
    "text": "but if i'm gonna guess i'm gonna there will be a nat table that says hey this client ip address always goes to",
    "start": "9930319",
    "end": "9937200"
  },
  {
    "text": "back to this connection so you're always connecting to one server and one server only okay",
    "start": "9937200",
    "end": "9943520"
  },
  {
    "text": "because you cannot every web socket connection not connection every",
    "start": "9943520",
    "end": "9949760"
  },
  {
    "text": "websocket request right doesn't shouldn't go to another",
    "start": "9949760",
    "end": "9955359"
  },
  {
    "text": "server otherwise the whole thing is going to blow up right because uh the back-end server servers could be used for",
    "start": "9955359",
    "end": "9961040"
  },
  {
    "text": "other stuff as well so let's just test this thing in message equal console.log and you can see that",
    "start": "9961040",
    "end": "9966399"
  },
  {
    "text": "it's it's just normally working okay cool we have port 80 okay",
    "start": "9966399",
    "end": "9974800"
  },
  {
    "text": "running still this is boring that comes back to our public ip address what",
    "start": "9974800",
    "end": "9981439"
  },
  {
    "text": "is my public ipad is you can just google it you can just say ip and it will tell you the public ip",
    "start": "9981439",
    "end": "9987760"
  },
  {
    "text": "address that's my public ip address right in this case so if i do this",
    "start": "9987760",
    "end": "9993680"
  },
  {
    "text": "and i put my public ip address and i give you this right right now this second because that's",
    "start": "9994319",
    "end": "10001279"
  },
  {
    "text": "my public ip errors on this second right guys you can do this on the cloud as well right",
    "start": "10001279",
    "end": "10006319"
  },
  {
    "text": "but i just like to break things down into its",
    "start": "10006319",
    "end": "10011439"
  },
  {
    "text": "smaller smallest pieces and understand everything right i don't like magic okay and that that works too",
    "start": "10011439",
    "end": "10020880"
  },
  {
    "text": "and that's the step one we're one step closer to the final goal to do a wss",
    "start": "10020880",
    "end": "10027120"
  },
  {
    "text": "right i like to explain everything guys and if i do they test",
    "start": "10027120",
    "end": "10033040"
  },
  {
    "text": "look at that it works and if i do this if my for example i have my phone supports web circuit as a client i can",
    "start": "10033040",
    "end": "10039279"
  },
  {
    "text": "do this today anyone now with this url can do this right",
    "start": "10039279",
    "end": "10045200"
  },
  {
    "text": "take it one step further guys if i",
    "start": "10045200",
    "end": "10051760"
  },
  {
    "text": "have a domain which i did create this domain this no ip domains free thing that",
    "start": "10053200",
    "end": "10059920"
  },
  {
    "text": "points to my public ip address so this is the domain it's just literally a pointer a dns",
    "start": "10059920",
    "end": "10066399"
  },
  {
    "text": "entry that points to this it's an ugly domain but who cares right my whoop socket side the dds.net",
    "start": "10066399",
    "end": "10072880"
  },
  {
    "text": "so if i go here and i do this and i say pushed",
    "start": "10072880",
    "end": "10081120"
  },
  {
    "text": "so you can see if i do this that works too because that domain is",
    "start": "10081120",
    "end": "10087279"
  },
  {
    "text": "also pointing to my public iop address which points to my router right and says okay port 80 because ws right we're",
    "start": "10087279",
    "end": "10094240"
  },
  {
    "text": "still unsecured here insecure the port 80 on router points to my ha proxy",
    "start": "10094240",
    "end": "10102240"
  },
  {
    "text": "for learning on port 80. hi proxy looks at that it says okay this is port 80. i'm supposed to forward",
    "start": "10102240",
    "end": "10108640"
  },
  {
    "text": "it to this thing one two seven port 8080 which is my code here and this is all happening",
    "start": "10108640",
    "end": "10116479"
  },
  {
    "text": "right this is all happening right now okay i do that console.log",
    "start": "10116479",
    "end": "10123279"
  },
  {
    "text": "and you can see i'm receiving the messages final step final step how about we secure this",
    "start": "10123279",
    "end": "10129120"
  },
  {
    "text": "thing guys okay i am not going to go through the process of creating the certificate because i",
    "start": "10129120",
    "end": "10135840"
  },
  {
    "text": "have done this so many times again check out the nginx proxy uh check out the ha proxy and there is a",
    "start": "10135840",
    "end": "10143760"
  },
  {
    "text": "specific way of creating a certificate using the let's encrypt uh certificate authority and i have already",
    "start": "10143760",
    "end": "10150560"
  },
  {
    "text": "done that and i have generated a file right which is my certificate public key",
    "start": "10150560",
    "end": "10155600"
  },
  {
    "text": "and private key on the server and that will be enough for us to actually secure my server",
    "start": "10155600",
    "end": "10161040"
  },
  {
    "text": "so let's go back to the terminal kill this thing yeah right and i'm go to w",
    "start": "10161040",
    "end": "10169520"
  },
  {
    "text": "this is my certificate my websocket site.pem again referring to the video to",
    "start": "10169520",
    "end": "10176080"
  },
  {
    "text": "know exactly how i generated that but once i do that cfg okay",
    "start": "10176080",
    "end": "10181279"
  },
  {
    "text": "what i want to do here is listen to an additional port and what is the secure version of http",
    "start": "10181279",
    "end": "10186960"
  },
  {
    "text": "guys which port is that that's right it is 443",
    "start": "10186960",
    "end": "10193439"
  },
  {
    "text": "and to hi proxy this is just another port you have to tell it that by the way this port is special because",
    "start": "10193439",
    "end": "10200479"
  },
  {
    "text": "it is an ssl port okay this is where i'm going to do the secure circuit layer or tls right",
    "start": "10200479",
    "end": "10206560"
  },
  {
    "text": "this is just legacy stuff they cannot just change it out of the blue so that's why they have to say this as",
    "start": "10206560",
    "end": "10211680"
  },
  {
    "text": "well that's why you have to say ssl and then you have to tell me which certificate ssl is not enough right",
    "start": "10211680",
    "end": "10217359"
  },
  {
    "text": "because well who are you as a server i need to trust you all right this this is why we have a",
    "start": "10217359",
    "end": "10222880"
  },
  {
    "text": "certificate authority to begin with and where is my certificate it's in their users i say nassar",
    "start": "10222880",
    "end": "10228479"
  },
  {
    "text": "it's a proxy and hopefully i can remember my websocket side.bm",
    "start": "10228479",
    "end": "10235200"
  },
  {
    "text": "okay and that's it i'm not gonna play with http 2",
    "start": "10235200",
    "end": "10241040"
  },
  {
    "text": "yet alpn and all that stuff so this is enough for me still let's play on h1 because it",
    "start": "10241040",
    "end": "10246720"
  },
  {
    "text": "doesn't really matter because webstock has its own protocol right and save and if i do he proxy dash",
    "start": "10246720",
    "end": "10254640"
  },
  {
    "text": "f ws dead soft joy you can see i'm going to get the ldap",
    "start": "10254640",
    "end": "10260080"
  },
  {
    "text": "saying hey this certificate that you generated is actually a difficult man",
    "start": "10260080",
    "end": "10265120"
  },
  {
    "text": "but the film is actually i i think it's just sitting to 1024 which is weak maybe you",
    "start": "10265120",
    "end": "10271520"
  },
  {
    "text": "want to upgrade that and that's that's easy we can set that tune that but i don't really care because my side my",
    "start": "10271520",
    "end": "10278160"
  },
  {
    "text": "side is shady anyway okay all right guys how about",
    "start": "10278160",
    "end": "10284080"
  },
  {
    "text": "we test this thing final thing okay so now my whoops sockets technically is secure so i can",
    "start": "10284080",
    "end": "10290840"
  },
  {
    "text": "do this i still can't do this that works see it's not yelling at me but",
    "start": "10290840",
    "end": "10300000"
  },
  {
    "text": "i can also do this ws s and what websocket",
    "start": "10300000",
    "end": "10306640"
  },
  {
    "text": "client will do okay you want to wss protocol that means um the default port for wss443 so i'm",
    "start": "10306640",
    "end": "10313920"
  },
  {
    "text": "gonna try to connect to w443 it's gonna ask the dns get the public ip",
    "start": "10313920",
    "end": "10320000"
  },
  {
    "text": "address which is my router ipad and then it's going to establish a tcp connection",
    "start": "10320000",
    "end": "10325680"
  },
  {
    "text": "okay 243 which is on my router and there's a rule remember 443",
    "start": "10325680",
    "end": "10331680"
  },
  {
    "text": "forwarded to 443 on my macbook which is running a jproxy which is listening on",
    "start": "10331680",
    "end": "10338319"
  },
  {
    "text": "port 443 which is a secure security beautiful stuff",
    "start": "10338319",
    "end": "10343520"
  },
  {
    "text": "so if i do that it works and now you're secure babes you're all secure and you're safe",
    "start": "10343520",
    "end": "10351520"
  },
  {
    "text": "okay that's creepy and look at that works and now this is how you do",
    "start": "10351520",
    "end": "10358160"
  },
  {
    "text": "websocket secure guys okay it's funny how i made this video because",
    "start": "10358160",
    "end": "10363760"
  },
  {
    "text": "i i was researching the grpc video and how to do that and that thing is a beast",
    "start": "10363760",
    "end": "10369680"
  },
  {
    "text": "and i am i'm not i'm not ready to make a video about that but i started comparing it with",
    "start": "10369680",
    "end": "10375439"
  },
  {
    "text": "websocket because it's very analogous to these swaps um to these protocols it rests and and then well the rest is not",
    "start": "10375439",
    "end": "10381200"
  },
  {
    "text": "protocol but sure uh yeah so rest and uh graphql and websocket and grpc they are all related",
    "start": "10381200",
    "end": "10388080"
  },
  {
    "text": "so it's like it's like let me just make a video for you guys for this friday i don't know",
    "start": "10388080",
    "end": "10393279"
  },
  {
    "text": "which 27 whatever right and then talk about just websocket secure and talk about a",
    "start": "10393279",
    "end": "10398800"
  },
  {
    "text": "little bit of how warp sockets works and then maybe next week we're going to talk about",
    "start": "10398800",
    "end": "10404000"
  },
  {
    "text": "grpc when i'm ready okay when i'm a little bit more educated about the topic all right",
    "start": "10404000",
    "end": "10409680"
  },
  {
    "text": "guys hope you enjoyed this video give it a like and i'm going to see you on the next one you guys will stay",
    "start": "10409680",
    "end": "10416840"
  },
  {
    "start": "10410000",
    "end": "12320000"
  },
  {
    "text": "awesome what is going on guys in this video i",
    "start": "10416840",
    "end": "10423040"
  },
  {
    "text": "want to go through a system design exercise i have never done this before",
    "start": "10423040",
    "end": "10430319"
  },
  {
    "text": "in this channel this is it will be a new uh fresh perspective of how to actually",
    "start": "10430319",
    "end": "10436479"
  },
  {
    "text": "uh do a system design and i picked in this case uh how to do a",
    "start": "10436479",
    "end": "10441840"
  },
  {
    "text": "multiplayer game design okay and uh i'm gonna go through some expectation for you guys uh just",
    "start": "10441840",
    "end": "10449040"
  },
  {
    "text": "to talk through what are you gonna expect to get out of this video and um and uh we're gonna pick up",
    "start": "10449040",
    "end": "10455840"
  },
  {
    "text": "a game that we're gonna build and there will be some expectation that",
    "start": "10455840",
    "end": "10461520"
  },
  {
    "text": "comes with it and if you're interested stay tuned so here's where we're going to build",
    "start": "10461520",
    "end": "10466720"
  },
  {
    "text": "guys the expectation here is gonna we're gonna build a a multiplayer game right and we're",
    "start": "10466720",
    "end": "10473359"
  },
  {
    "text": "going to go through what game it exactly is but what we're going to get a text is we're not going to talk about products",
    "start": "10473359",
    "end": "10479760"
  },
  {
    "text": "per se like we're just going to talk about software engineering technology so for example i'm not going to mention",
    "start": "10479760",
    "end": "10486399"
  },
  {
    "text": "redis or postgres i'm going to say database that gives you the flexibility",
    "start": "10486399",
    "end": "10491680"
  },
  {
    "text": "as a as an implementer to kind of pick any technology you want to implement right",
    "start": "10491680",
    "end": "10496880"
  },
  {
    "text": "this is just we're talking about the the aspect of the technology it's like no not the actual product okay so if",
    "start": "10496880",
    "end": "10504960"
  },
  {
    "text": "you see me like oh this is a communication protocol you can use websockets grpc it depends on what or really on",
    "start": "10504960",
    "end": "10512160"
  },
  {
    "text": "where you want to go and this is where you shine as a software engineer right picking the right piece of",
    "start": "10512160",
    "end": "10518800"
  },
  {
    "text": "product that actually fits your use cases and what are you trying to build okay so this is what",
    "start": "10518800",
    "end": "10525359"
  },
  {
    "text": "we're going to talk about it's going to be a high level design discussion that doesn't mean that there will not be",
    "start": "10525359",
    "end": "10530399"
  },
  {
    "text": "engineering talk i'll talk a lot a lot about engineering but it's going to be a high level design",
    "start": "10530399",
    "end": "10535439"
  },
  {
    "text": "there will be no implementation detail like all you have to send a json",
    "start": "10535439",
    "end": "10541200"
  },
  {
    "text": "or for example or you have to for example establish a two-way communication right",
    "start": "10541200",
    "end": "10548080"
  },
  {
    "text": "it's gonna be a little bit of high level design and i'm gonna propose two designs to solve this",
    "start": "10548080",
    "end": "10554319"
  },
  {
    "text": "problem okay and uh we're gonna show the pros and cons of this design right and uh let's just",
    "start": "10554319",
    "end": "10560479"
  },
  {
    "text": "jump into it so this is the game we are trying to build guys and you can imagine this as a",
    "start": "10560479",
    "end": "10566720"
  },
  {
    "text": "multiplayer game it could be a mobile game could be a browser based game",
    "start": "10566720",
    "end": "10572000"
  },
  {
    "text": "desktop only it's up to you right so here's the game uh the four",
    "start": "10572000",
    "end": "10578479"
  },
  {
    "text": "clients player one two three four i'm sorry i'm using colors here",
    "start": "10578479",
    "end": "10583760"
  },
  {
    "text": "um i apologize for the color blind but this is a red player player two is blue",
    "start": "10583760",
    "end": "10588960"
  },
  {
    "text": "player three is green and player four is orange and each player has a board uh with sales",
    "start": "10588960",
    "end": "10595040"
  },
  {
    "text": "and numbers and this you can you can imagine this board to have unlimited number of size depends on your requirement so i",
    "start": "10595040",
    "end": "10602960"
  },
  {
    "text": "have nine cells here and let's say player one want to capture cell five",
    "start": "10602960",
    "end": "10608479"
  },
  {
    "text": "right so if it does that it will essentially capture cell five and then",
    "start": "10608479",
    "end": "10614000"
  },
  {
    "text": "broadcast somehow to all clients that cell 5 has been captured by player 1",
    "start": "10614000",
    "end": "10620240"
  },
  {
    "text": "which is the red player and then player 4 comes in let's say you want to capture",
    "start": "10620240",
    "end": "10625520"
  },
  {
    "text": "itself 7 right so it becomes orange and then it will broadcast the state to",
    "start": "10625520",
    "end": "10631040"
  },
  {
    "text": "all of them so now seven is now belong to orange and then player two recaptures cell five which belongs to",
    "start": "10631040",
    "end": "10639200"
  },
  {
    "text": "player one and that's perfectly fine and now you broadcast the state that oh it's",
    "start": "10639200",
    "end": "10644560"
  },
  {
    "text": "still five and now belong to two and you get the idea right you can go uh like this until someone",
    "start": "10644560",
    "end": "10650960"
  },
  {
    "text": "eventually uh win the whole board after 30 seconds",
    "start": "10650960",
    "end": "10656000"
  },
  {
    "text": "that's the game the game ends after 30 seconds and the moment the 30 second attack done you can either result in a draw or",
    "start": "10656000",
    "end": "10663279"
  },
  {
    "text": "one of them player game ones like in this case this player one win uh with four cells okay so that's the",
    "start": "10663279",
    "end": "10670800"
  },
  {
    "text": "game so let's imagine how i can implement this game",
    "start": "10670800",
    "end": "10676560"
  },
  {
    "text": "what kind of features we have we have a create game right i want to create a new game",
    "start": "10676560",
    "end": "10681680"
  },
  {
    "text": "i want to have nine cells i want for example yeah i want to have nine",
    "start": "10681680",
    "end": "10687200"
  },
  {
    "text": "cells i want this kind of configuration and you create a game and then once you create a game you get some sort of a",
    "start": "10687200",
    "end": "10694080"
  },
  {
    "text": "handle i guess to share this game with other players so they can join the",
    "start": "10694080",
    "end": "10700160"
  },
  {
    "text": "game so you can share this uh handle or could be url or anything like that and",
    "start": "10700160",
    "end": "10707359"
  },
  {
    "text": "then people can join the game okay so create game obviously that's very",
    "start": "10707359",
    "end": "10712800"
  },
  {
    "text": "important feature join game and play there's a an act of a play and",
    "start": "10712800",
    "end": "10718399"
  },
  {
    "text": "what does that mean right and then the final one is actually",
    "start": "10718399",
    "end": "10723439"
  },
  {
    "text": "how to broadcast the score right this is also one of the features a little bit of a technical feature if you",
    "start": "10723439",
    "end": "10730080"
  },
  {
    "text": "think about it these are this is called user features and this is called technical features yeah technical",
    "start": "10730080",
    "end": "10736640"
  },
  {
    "text": "if you if you work with as a product owner if you own a product you'll always separate",
    "start": "10736640",
    "end": "10743120"
  },
  {
    "text": "uh your your features into two types your there are features that are user-faced like these",
    "start": "10743120",
    "end": "10748319"
  },
  {
    "text": "and there is a feature that are kind of hidden from the user but you have to implement it this is called this",
    "start": "10748319",
    "end": "10753520"
  },
  {
    "text": "is an example score broadcasting has nothing to do with the user they usually just expect it but it's a",
    "start": "10753520",
    "end": "10759760"
  },
  {
    "text": "technical feature to implement right so how do you broadcast a score uh",
    "start": "10759760",
    "end": "10764800"
  },
  {
    "text": "i am using in this case the server authoritative multiplayer model where the server",
    "start": "10764800",
    "end": "10770240"
  },
  {
    "text": "pushes the state to the client instead of only the changes",
    "start": "10770240",
    "end": "10775600"
  },
  {
    "text": "all right so this is this is one of the model and you can shine here guys as a software engineer",
    "start": "10775600",
    "end": "10782080"
  },
  {
    "text": "you can just pick there are literally unlimited ways of solving a problem",
    "start": "10782080",
    "end": "10787520"
  },
  {
    "text": "and that's what makes us uh the software engineering is is a great",
    "start": "10787520",
    "end": "10794560"
  },
  {
    "text": "artistic effort in my opinion i i really believe that and i and",
    "start": "10794560",
    "end": "10799920"
  },
  {
    "text": "abide by it i think that i think software engineering design is a very artistic way of solving things",
    "start": "10799920",
    "end": "10805680"
  },
  {
    "text": "there's so many ways to solve a problem and each one kind of tells about the",
    "start": "10805680",
    "end": "10810880"
  },
  {
    "text": "personality of of the designer i might be going too deep there all right this is the first proposed",
    "start": "10810880",
    "end": "10818319"
  },
  {
    "text": "design that i have thought about guys i'm proposing two but as you will go through that you will",
    "start": "10818319",
    "end": "10825200"
  },
  {
    "text": "have your own ideas and maybe they are way better than mine hundred percent",
    "start": "10825200",
    "end": "10830720"
  },
  {
    "text": "i will i will guarantee that some of you guys will come up with better designs so please leave them in the comment section",
    "start": "10830720",
    "end": "10837439"
  },
  {
    "text": "below so we can have a discussion and and grow as software engineers because i learn from you guys as well okay",
    "start": "10837439",
    "end": "10843840"
  },
  {
    "text": "so let's come up with a proposed design that i have came up with my first design is to go with a stateful",
    "start": "10843840",
    "end": "10851359"
  },
  {
    "text": "application design and when i say stateful or stateless here i'm talking about the application",
    "start": "10851359",
    "end": "10858240"
  },
  {
    "text": "server that actually have the game code itself",
    "start": "10858240",
    "end": "10865439"
  },
  {
    "text": "okay the statelessness or statefulness here is with regard to the application server",
    "start": "10865439",
    "end": "10872640"
  },
  {
    "text": "right the whole system is always going to be stateful that's a very important point",
    "start": "10872640",
    "end": "10878399"
  },
  {
    "text": "guys there is no system that i at least ran into that is absolutely stateless you're gonna store some sort of a state",
    "start": "10878399",
    "end": "10884960"
  },
  {
    "text": "in a database eventually right but i'm talking about the application",
    "start": "10884960",
    "end": "10891200"
  },
  {
    "text": "here the application is stateful the system is also stateful in this case we're going to go through the other case all",
    "start": "10891200",
    "end": "10897680"
  },
  {
    "text": "right so stateful what happens here is all players",
    "start": "10897680",
    "end": "10903520"
  },
  {
    "text": "in a particular game that you create must reside in the same server and there are",
    "start": "10903520",
    "end": "10909760"
  },
  {
    "text": "advantages of this that's why i picked up this design there are also disadvantages we're going to go through so that's the first design",
    "start": "10909760",
    "end": "10916160"
  },
  {
    "text": "any player that gum comes and for example you want to create a game all of them will reside in the same",
    "start": "10916160",
    "end": "10923439"
  },
  {
    "text": "server we're going to make sure to cluster them in the kimser server and use you might say how hussein",
    "start": "10923439",
    "end": "10929200"
  },
  {
    "text": "and that we have a unique identifier which is the game itself the game id",
    "start": "10929200",
    "end": "10934399"
  },
  {
    "text": "right and the game state also reside in the same server and that",
    "start": "10934399",
    "end": "10940160"
  },
  {
    "text": "gives us kind of data locality which is kind of attractive feature all right so that's the first design",
    "start": "10940160",
    "end": "10946000"
  },
  {
    "text": "the second design is a stateless design where again the application level",
    "start": "10946000",
    "end": "10952560"
  },
  {
    "text": "is stateless that means this we're not storing state in the application or at least uh we're",
    "start": "10952560",
    "end": "10958399"
  },
  {
    "text": "starting maybe ephemeral state we're cached but the actual state is stored in",
    "start": "10958399",
    "end": "10964160"
  },
  {
    "text": "the database somewhere it could be redis mysql anything you can imagine",
    "start": "10964160",
    "end": "10971200"
  },
  {
    "text": "right and these guys are stateless that means",
    "start": "10971200",
    "end": "10976880"
  },
  {
    "text": "any that you can create a game and this request can go to this server and you can join a game you can go to this",
    "start": "10976880",
    "end": "10983279"
  },
  {
    "text": "server and you can see this the scaling that you can actually go through the load balance and the load",
    "start": "10983279",
    "end": "10988800"
  },
  {
    "text": "balancer can actually have a more uh distribution of the",
    "start": "10988800",
    "end": "10994080"
  },
  {
    "text": "request right versus the older design which all of the requests that has to do with one game will always go",
    "start": "10994080",
    "end": "11001680"
  },
  {
    "text": "to one server okay you can start seeing the advantage and disadvantages going with this right",
    "start": "11001680",
    "end": "11008080"
  },
  {
    "text": "so yeah so the state started here and the statelessness is here right so i can destroy the",
    "start": "11008080",
    "end": "11015040"
  },
  {
    "text": "server and absolutely my application will just heal itself which is beautiful",
    "start": "11015040",
    "end": "11020080"
  },
  {
    "text": "all right how about we go through each design in detail",
    "start": "11020080",
    "end": "11025279"
  },
  {
    "text": "and we'll have some discussions and see the pros and cons of each of them the first design",
    "start": "11025279",
    "end": "11032479"
  },
  {
    "text": "which is the stateful design right i am player a which is the blue color",
    "start": "11032479",
    "end": "11039200"
  },
  {
    "text": "and i want to create a new game and i'm going to call it ga you can you can choose not to give a",
    "start": "11039200",
    "end": "11046399"
  },
  {
    "text": "game name but that's also part of the features that you need to implement right by the way this this thing is a",
    "start": "11046399",
    "end": "11053200"
  },
  {
    "text": "load balancer that's why it's a reverse proxy not necessarily load balancer let's be very specific here so i'm going",
    "start": "11053200",
    "end": "11060160"
  },
  {
    "text": "to create a game guys right and then when we create a game i",
    "start": "11060160",
    "end": "11065520"
  },
  {
    "text": "am going to take that game id somehow and hash it",
    "start": "11065520",
    "end": "11074000"
  },
  {
    "text": "so that i always result consistently on a server right this is called consistent hashing",
    "start": "11074000",
    "end": "11080240"
  },
  {
    "text": "and now once i get that this game id will always point me to the server okay",
    "start": "11080240",
    "end": "11085279"
  },
  {
    "text": "the act of making this request are stateless but the routing",
    "start": "11085279",
    "end": "11091840"
  },
  {
    "text": "will become stateful and will always end up into one server good so i created a game and i end up with",
    "start": "11091840",
    "end": "11098319"
  },
  {
    "text": "this server okay that's the first act i'm gonna store the game",
    "start": "11098319",
    "end": "11103359"
  },
  {
    "text": "ga in this server you notice that i don't even have a database here okay and you might say oh saying you",
    "start": "11103359",
    "end": "11110960"
  },
  {
    "text": "don't have a database what if the application dies yeah i lose i lose the score and i am okay with that join game so that's the second feature",
    "start": "11110960",
    "end": "11117920"
  },
  {
    "text": "if you want to join the game player a who created the game can actually decide to join the game id and this game",
    "start": "11117920",
    "end": "11125359"
  },
  {
    "text": "id you can share it via i don't know whatsapp or messaging right and they go it gets",
    "start": "11125359",
    "end": "11130800"
  },
  {
    "text": "the game id and you share it url you can use your imagination right and now i have that game idea and i want",
    "start": "11130800",
    "end": "11136720"
  },
  {
    "text": "to join that game and if you get during this game that reverse proxy is smart enough to",
    "start": "11136720",
    "end": "11143520"
  },
  {
    "text": "take that game and oh last game id i'm going to hash it and i'm going to end up in the same",
    "start": "11143520",
    "end": "11149120"
  },
  {
    "text": "server the act by ending up in the same server",
    "start": "11149120",
    "end": "11154319"
  },
  {
    "text": "is beautiful because i have the state here and i'm sure that the state is here so i can look up",
    "start": "11154319",
    "end": "11160800"
  },
  {
    "text": "this state very quickly and i join and i updated that hey player a just joined the game this is the blue",
    "start": "11160800",
    "end": "11167920"
  },
  {
    "text": "player and now you can just join player b and c and d the green the red the orange and all of",
    "start": "11167920",
    "end": "11175680"
  },
  {
    "text": "them will use the same code and they will go to the same server which is awesome now all of the players",
    "start": "11175680",
    "end": "11182720"
  },
  {
    "text": "we updated the game state so now all the players are in the same game all player on the same server and they",
    "start": "11182720",
    "end": "11188800"
  },
  {
    "text": "are essentially rock and rolling all right all right how about we actually put this to test",
    "start": "11188800",
    "end": "11194800"
  },
  {
    "text": "we're gonna play the game with design one so if i want to play a game you would",
    "start": "11194800",
    "end": "11200319"
  },
  {
    "text": "say player a which is the blue player want to play on game",
    "start": "11200319",
    "end": "11206560"
  },
  {
    "text": "ga and you want to capture cell number five so you can you can have your imagination",
    "start": "11206560",
    "end": "11213920"
  },
  {
    "text": "run wild here this could be protocol buffer communication this could be a rest endpoint this could be",
    "start": "11213920",
    "end": "11219840"
  },
  {
    "text": "websocket or grpc anything right and then the moment i do",
    "start": "11219840",
    "end": "11226080"
  },
  {
    "text": "that i will obviously since i send the ga now i can consistently hash to the server",
    "start": "11226080",
    "end": "11232800"
  },
  {
    "text": "that is available right hopefully still available and i'm gonna get to the server i have",
    "start": "11232800",
    "end": "11239200"
  },
  {
    "text": "the game state i'm gonna update the game state locally because it's locally in the",
    "start": "11239200",
    "end": "11245120"
  },
  {
    "text": "state in the in the server itself memory and then i'm gonna update that hey the blue player is now captured",
    "start": "11245120",
    "end": "11252319"
  },
  {
    "text": "cell five and then let's play the red player b is calculating four well yeah let's go",
    "start": "11252319",
    "end": "11259359"
  },
  {
    "text": "ahead and update four same thing we're gonna hash the same server remember if i had this server there's nothing for me to update there",
    "start": "11259359",
    "end": "11265439"
  },
  {
    "text": "is no game right because the game is here all right so then i'm going to play with",
    "start": "11265439",
    "end": "11271840"
  },
  {
    "text": "a uh sorry player player c ga and then i'm gonna",
    "start": "11271840",
    "end": "11278000"
  },
  {
    "text": "capture five which happened to be the pl uh a cell that uh player",
    "start": "11278000",
    "end": "11284640"
  },
  {
    "text": "the blue player has captured so we're going to capture it again and then the orange player captures one",
    "start": "11284640",
    "end": "11290000"
  },
  {
    "text": "so this is the state of the game is now this see these numbers these are things that i",
    "start": "11290000",
    "end": "11295760"
  },
  {
    "text": "will get update hey all right also number one belongs to the yu bello cell number five belongs to green",
    "start": "11295760",
    "end": "11302240"
  },
  {
    "text": "so number four belongs to red and the blue guy has no cells right",
    "start": "11302240",
    "end": "11308800"
  },
  {
    "text": "how about we talk about broadcast broadcasting the score of broadcasting the state right brother says state is actually",
    "start": "11308800",
    "end": "11315279"
  },
  {
    "text": "reverse the server will talk to the reverse proxy or the load ban so it says hey",
    "start": "11315279",
    "end": "11321520"
  },
  {
    "text": "by the way i have everything here on me literally everything in my",
    "start": "11321520",
    "end": "11329120"
  },
  {
    "text": "server so it is very efficient to just send the whole dang state",
    "start": "11329120",
    "end": "11336560"
  },
  {
    "text": "down the wire and essentially to all the players because i",
    "start": "11336560",
    "end": "11342880"
  },
  {
    "text": "have the sockets of those players assuming this is warp socket you can send all this information to to",
    "start": "11342880",
    "end": "11350880"
  },
  {
    "text": "all the players if you're not using a bi-directional protocols then this is not possible",
    "start": "11350880",
    "end": "11357840"
  },
  {
    "text": "so you might want these guys will stop pulling information or use event sourcing to",
    "start": "11357840",
    "end": "11364319"
  },
  {
    "text": "push this information down or maybe http to push okay but",
    "start": "11364319",
    "end": "11369359"
  },
  {
    "text": "to me websockets is is is the most elegant one to design here you don't have to use it",
    "start": "11369359",
    "end": "11375040"
  },
  {
    "text": "but definitely it's one of the best right definitely works on in everything",
    "start": "11375040",
    "end": "11380720"
  },
  {
    "text": "client right what browsers and all that stuff right this just will work all right so that's how broadcast states",
    "start": "11380720",
    "end": "11387120"
  },
  {
    "text": "how about we go to the stateless design and see how it will work",
    "start": "11387120",
    "end": "11393040"
  },
  {
    "text": "okay let's take this design we're gonna have a database here where we're gonna store the state",
    "start": "11393040",
    "end": "11398160"
  },
  {
    "text": "right and when i create a game i can hit any server the load balancer",
    "start": "11398160",
    "end": "11405520"
  },
  {
    "text": "doesn't have this weird hashing thing that it does right it's just literally just does a round robin and hits you the",
    "start": "11405520",
    "end": "11413359"
  },
  {
    "text": "first server which will just act like a dumb uh database connection and just store",
    "start": "11413359",
    "end": "11420720"
  },
  {
    "text": "just literally just store the results in the database right so now we have a game that is here okay",
    "start": "11420720",
    "end": "11427600"
  },
  {
    "text": "and now we have the game id i want to join the game and i have ga this is the game doesn't",
    "start": "11427600",
    "end": "11434080"
  },
  {
    "text": "matter i don't have knowledge of the game in the lord balancer or the reverse",
    "start": "11434080",
    "end": "11440800"
  },
  {
    "text": "proxy anymore that complexity has been removed but if i make a request i can hit this",
    "start": "11440800",
    "end": "11448080"
  },
  {
    "text": "server or this and i want to join because this server now will query oh where is this game",
    "start": "11448080",
    "end": "11454399"
  },
  {
    "text": "stored oh this is the game okay now it exists let me store it now you store that player a has just",
    "start": "11454399",
    "end": "11462239"
  },
  {
    "text": "joined the game which is awesome how about we follow up with another player",
    "start": "11462239",
    "end": "11467279"
  },
  {
    "text": "that wants to join the game absolutely okay player b which is direct player wanted j in the game",
    "start": "11467279",
    "end": "11472479"
  },
  {
    "text": "well i'm gonna hit this server and that's okay you start load balancing your servers which is awesome right now",
    "start": "11472479",
    "end": "11478560"
  },
  {
    "text": "you're kind of load balancing your even in a single game right",
    "start": "11478560",
    "end": "11485439"
  },
  {
    "text": "in the previous design you're still load balancing by the way guys but it's a pair game load balancer the whole",
    "start": "11485439",
    "end": "11492560"
  },
  {
    "text": "players if you create a new game you will hit another server right but all the players must be in the same",
    "start": "11492560",
    "end": "11499600"
  },
  {
    "text": "game and the same server in this case no not necessarily even players on the same",
    "start": "11499600",
    "end": "11505520"
  },
  {
    "text": "game will hit multiple server which will scale but there are some disadvantages to this",
    "start": "11505520",
    "end": "11511680"
  },
  {
    "text": "let's join some other player okay green we'll hit the first server the the yellow will hit the second",
    "start": "11511680",
    "end": "11518239"
  },
  {
    "text": "server and all the people have joined and we have the states persist in a database actually",
    "start": "11518239",
    "end": "11525840"
  },
  {
    "text": "persist so the whole thing that goes down and i rebooted the whole system",
    "start": "11525840",
    "end": "11531359"
  },
  {
    "text": "still okay i can somehow resume the game if i wanted to i'm like the first design play game",
    "start": "11531359",
    "end": "11538160"
  },
  {
    "text": "let's actually play i want player a want to capture cell 5 well",
    "start": "11538160",
    "end": "11543520"
  },
  {
    "text": "let's hit the first server and i want to update that entry in the database that now cell",
    "start": "11543520",
    "end": "11550319"
  },
  {
    "text": "5 is belong to me sir right and then player b",
    "start": "11550319",
    "end": "11556479"
  },
  {
    "text": "want to actually capture cell for number four well i can hit any server that's okay and",
    "start": "11556479",
    "end": "11562720"
  },
  {
    "text": "that will hit eventually the database which could be by the way horizontally scale",
    "start": "11562720",
    "end": "11567760"
  },
  {
    "text": "if you have like a kind of a master backup scenario it doesn't have to be one node",
    "start": "11567760",
    "end": "11573439"
  },
  {
    "text": "right just think about it this way you if your readers you can have backups that actually read from read",
    "start": "11573439",
    "end": "11579840"
  },
  {
    "text": "from the backups and the rights goes to the master absolutely fine all right so player",
    "start": "11579840",
    "end": "11586640"
  },
  {
    "text": "b captures cell 4 player c captures cell 5 again so we're",
    "start": "11586640",
    "end": "11592880"
  },
  {
    "text": "overriding that so you'll notice that this is like a last win in kind of a thing",
    "start": "11592880",
    "end": "11598080"
  },
  {
    "text": "right so this is the game is like every the last one will win the the one the",
    "start": "11598080",
    "end": "11604160"
  },
  {
    "text": "cell so you will have to always keep clicking clicking clicking in order to win the game that's that's the idea of",
    "start": "11604160",
    "end": "11610160"
  },
  {
    "text": "the game kind of silly but uh just something i came up with so play",
    "start": "11610160",
    "end": "11616000"
  },
  {
    "text": "game g a and d obviously this is capturing still one and you can hit",
    "start": "11616000",
    "end": "11621279"
  },
  {
    "text": "anything server and awesome all right let's see how we can broadcast the score in this",
    "start": "11621279",
    "end": "11626880"
  },
  {
    "text": "architecture and design so the game state is here right nothing is stored here maybe you can catch some",
    "start": "11626880",
    "end": "11632640"
  },
  {
    "text": "stuff but it's not reliable per se so what happened here is periodically maybe every 500",
    "start": "11632640",
    "end": "11639840"
  },
  {
    "text": "milliseconds the servers will query the database for the latest state",
    "start": "11639840",
    "end": "11648840"
  },
  {
    "text": "and whomever is on this server connected because it could be two player one",
    "start": "11648840",
    "end": "11655120"
  },
  {
    "text": "player or three or all of them doesn't matter right and we're gonna tell those players",
    "start": "11655120",
    "end": "11660319"
  },
  {
    "text": "that hey by the way the state is now this so the clients can update their view",
    "start": "11660319",
    "end": "11666800"
  },
  {
    "text": "so there's oh this is the now whatever right uh the yellow is now belong to the the one",
    "start": "11666800",
    "end": "11672880"
  },
  {
    "text": "cellular number one belongs to the orange so number five belong to the green cell number four belongs to the red",
    "start": "11672880",
    "end": "11678239"
  },
  {
    "text": "so this is how i represented it looks like very jasini but it could be",
    "start": "11678239",
    "end": "11683520"
  },
  {
    "text": "protocol buffer any format will work okay",
    "start": "11683520",
    "end": "11688640"
  },
  {
    "text": "and the other server has to do the same thing every single server has to query the",
    "start": "11688640",
    "end": "11694239"
  },
  {
    "text": "database and you can start seeing this will begin become a bad bad i cannot talk it's gonna become a",
    "start": "11694239",
    "end": "11702160"
  },
  {
    "text": "bottleneck if you don't have some horizontal scalability going on there",
    "start": "11702160",
    "end": "11707840"
  },
  {
    "text": "so you need some sort of a replication which which could be achieved all right",
    "start": "11707840",
    "end": "11714560"
  },
  {
    "text": "so now queries this database and send all that information so you can see that there's",
    "start": "11714560",
    "end": "11720000"
  },
  {
    "text": "some chatter going on here there's to build the state i have to query the",
    "start": "11720000",
    "end": "11726720"
  },
  {
    "text": "database which i have to jump to the network to do it okay so there is some latency added",
    "start": "11726720",
    "end": "11733520"
  },
  {
    "text": "right and we can talk about that now pros and cons let's talk about the pros",
    "start": "11733520",
    "end": "11741279"
  },
  {
    "text": "and cons of each of these designs and you can guys run wild with your imagination and come",
    "start": "11741279",
    "end": "11747200"
  },
  {
    "text": "up with more designs and i'm pretty sure you already as you're reading this and you as you're watching this you are having",
    "start": "11747200",
    "end": "11754000"
  },
  {
    "text": "some ideas to improve this and even to to become way better than i whatever i propose but",
    "start": "11754000",
    "end": "11761040"
  },
  {
    "text": "let's let's come up maybe some some hybrid approach let's go through the bad things or the good thing about the",
    "start": "11761040",
    "end": "11767359"
  },
  {
    "text": "stateful the stateful architecture is definitely easier to build if you think about right i don't have to maintain a",
    "start": "11767359",
    "end": "11773200"
  },
  {
    "text": "database right so it is it will make make things very simple the assembly of the",
    "start": "11773200",
    "end": "11780720"
  },
  {
    "text": "state the broadcasting of the state will be simple because i have everything in memory literally",
    "start": "11780720",
    "end": "11786560"
  },
  {
    "text": "just dump it to all my players which are in my i loop through all the game state all",
    "start": "11786560",
    "end": "11793840"
  },
  {
    "text": "the players and and send them information immediately if you have a push communication protocol a communication",
    "start": "11793840",
    "end": "11800160"
  },
  {
    "text": "protocol that supports push low latency there is absolutely no latency because the game state",
    "start": "11800160",
    "end": "11806319"
  },
  {
    "text": "is in me it's data locality 101 right all the data is in my server so i",
    "start": "11806319",
    "end": "11813120"
  },
  {
    "text": "don't have to jump hoops to collect things definitely list network bandwidth",
    "start": "11813120",
    "end": "11818560"
  },
  {
    "text": "because uh there won't be chatter compared to the stateless approach right",
    "start": "11818560",
    "end": "11824239"
  },
  {
    "text": "not just data between the server and the database chatter between all the servers trying",
    "start": "11824239",
    "end": "11830000"
  },
  {
    "text": "to assemble the game state between that earth fraction",
    "start": "11830000",
    "end": "11835279"
  },
  {
    "text": "across all the servers right if the game server goes down the problem with this is there is no",
    "start": "11835279",
    "end": "11842239"
  },
  {
    "text": "scalability right when i say no scalability is",
    "start": "11842239",
    "end": "11847760"
  },
  {
    "text": "well that server if that game server goes down which has",
    "start": "11847760",
    "end": "11853680"
  },
  {
    "text": "the state you're done you're done absolutely you're done that's it",
    "start": "11853680",
    "end": "11858880"
  },
  {
    "text": "the game is end right and i kind of willing to take that",
    "start": "11858880",
    "end": "11864399"
  },
  {
    "text": "right because the game finishes in 30 seconds and the the fact that the idea that the game the",
    "start": "11864399",
    "end": "11869920"
  },
  {
    "text": "server can go in 30 seconds i don't know about that right if i have a lot of servers i might not have this",
    "start": "11869920",
    "end": "11876399"
  },
  {
    "text": "problem but might be wrong but there's no scalability here nevertheless right the server goes down",
    "start": "11876399",
    "end": "11883520"
  },
  {
    "text": "that's it you cannot kind of fix and and assemble pieces together to resume the game right",
    "start": "11883520",
    "end": "11888960"
  },
  {
    "text": "it's just gone right and another another problem is here is just you can",
    "start": "11888960",
    "end": "11894319"
  },
  {
    "text": "see that all the games might lead to the same server because of a hashing",
    "start": "11894319",
    "end": "11899439"
  },
  {
    "text": "consistent hashing might give you not correctly hitting the same server which",
    "start": "11899439",
    "end": "11905279"
  },
  {
    "text": "can overwhelm the server right but these are docker containers who cares right",
    "start": "11905279",
    "end": "11910800"
  },
  {
    "text": "if this is like a part of a docker container you can spin up really a lot of containers and i was i",
    "start": "11910800",
    "end": "11916960"
  },
  {
    "text": "am imagining this to be a very low application level the code won't be",
    "start": "11916960",
    "end": "11924000"
  },
  {
    "text": "heavy and the process will be very quick so as i'm expecting this the footprint of",
    "start": "11924000",
    "end": "11929680"
  },
  {
    "text": "the game to be very very light right so i kind of like this a lot but let's talk about the stateless the state",
    "start": "11929680",
    "end": "11936239"
  },
  {
    "text": "lab architecture definitely scales because i can literally kill one of the servers",
    "start": "11936239",
    "end": "11941920"
  },
  {
    "text": "and the next request will just go to another server and eventually mix itself down to the",
    "start": "11941920",
    "end": "11947520"
  },
  {
    "text": "database which will query so it's definitely definitely e uh scales right and",
    "start": "11947520",
    "end": "11956319"
  },
  {
    "text": "yeah but it is harder to build when i say harder guys it's just more components right because you need",
    "start": "11956319",
    "end": "11962560"
  },
  {
    "text": "to worry about a database now and you need to know about latency definitely higher latency now",
    "start": "11962560",
    "end": "11968080"
  },
  {
    "text": "you have a networking going on between the server and the database you and you have a lot of networking",
    "start": "11968080",
    "end": "11973760"
  },
  {
    "text": "between the server and the proxy which is the load balancer",
    "start": "11973760",
    "end": "11979439"
  },
  {
    "text": "the load balancer has to kind of will be a lot of chatter between the server and",
    "start": "11979439",
    "end": "11984880"
  },
  {
    "text": "all the servers to be honest right if the game server goes down definitely you can resume the game there",
    "start": "11984880",
    "end": "11990319"
  },
  {
    "text": "is no problem with this design definitely just kill any server and then",
    "start": "11990319",
    "end": "11995359"
  },
  {
    "text": "resume the game completely right so i'm kind of torn between these two designs guys and",
    "start": "11995359",
    "end": "12003439"
  },
  {
    "text": "i think i lean towards the stateful but i still think it's not straightforward to",
    "start": "12003439",
    "end": "12010880"
  },
  {
    "text": "implement this hashing thing that we talked about so that the game i took the game state",
    "start": "12010880",
    "end": "12016479"
  },
  {
    "text": "and hash it talk always goes to a single server i think he proxy",
    "start": "12016479",
    "end": "12021520"
  },
  {
    "text": "can achieve that even nginx hand achieved that with some scripting i think lua",
    "start": "12021520",
    "end": "12027200"
  },
  {
    "text": "nginx have some lua scripting they can't allow you to do that but i might be wrong but",
    "start": "12027200",
    "end": "12034479"
  },
  {
    "text": "nevertheless the stateless architecture is also attractive because",
    "start": "12034479",
    "end": "12039520"
  },
  {
    "text": "you can you can just make the load balancer literally a dumb",
    "start": "12039520",
    "end": "12045680"
  },
  {
    "text": "reverse proxy that doesn't have any knowledge of your game right and have the application logic",
    "start": "12045680",
    "end": "12053040"
  },
  {
    "text": "on the on the server itself right that's another kind of a disadvantage of the stateful architecture where your code is",
    "start": "12053040",
    "end": "12059520"
  },
  {
    "text": "split between the load balancer and also the application logic is also",
    "start": "12059520",
    "end": "12065040"
  },
  {
    "text": "on the server right so their complexity and i i can't i prefer the stateful but i think i'm",
    "start": "12065040",
    "end": "12071920"
  },
  {
    "text": "torn i don't know which one to pick to be honest what do you guys think what third and fourth and fifth design",
    "start": "12071920",
    "end": "12079120"
  },
  {
    "text": "do you guys propose right let's just keep thinking let's keep those discussions coming this uh",
    "start": "12079120",
    "end": "12085439"
  },
  {
    "text": "in the comment section below and uh what do you guys think about this episode did you like this video uh",
    "start": "12085439",
    "end": "12092239"
  },
  {
    "text": "do you want me to make more of this system design kind of videos i'm happy to do that i'm",
    "start": "12092239",
    "end": "12098160"
  },
  {
    "text": "picking another another uh another design to actually implement like twitter or or or",
    "start": "12098160",
    "end": "12105680"
  },
  {
    "text": "youtube or maybe even whatsapp or chat chatting application",
    "start": "12105680",
    "end": "12112319"
  },
  {
    "text": "and we can just think it's i want you to understand guys that this is",
    "start": "12112319",
    "end": "12117359"
  },
  {
    "text": "there's no one way to build application there's no war definitely there's no one right way if",
    "start": "12117359",
    "end": "12124080"
  },
  {
    "text": "you're going to an interview design interview uh the interviewer will have something in",
    "start": "12124080",
    "end": "12129920"
  },
  {
    "text": "his mind or her mind but you have to stay true to yourself and",
    "start": "12129920",
    "end": "12135600"
  },
  {
    "text": "just be honest just don't don't expect to answer what is",
    "start": "12135600",
    "end": "12142319"
  },
  {
    "text": "what in the interviewer's mind just lay all the cards on the table",
    "start": "12142319",
    "end": "12149840"
  },
  {
    "text": "discuss everything you know and if there is something you don't know that's a great opportunity to",
    "start": "12149840",
    "end": "12156399"
  },
  {
    "text": "learn right learn from the interviews like hey if i go now to an interview and someone i will tell them like this is",
    "start": "12156399",
    "end": "12163840"
  },
  {
    "text": "what i know i would prefer this approach because of this this is this uh there's this approach but this is this is it",
    "start": "12163840",
    "end": "12169279"
  },
  {
    "text": "really depends i don't know what to but i'm gonna say i don't know what to pick i'm gonna if if push",
    "start": "12169279",
    "end": "12176560"
  },
  {
    "text": "comes to shove i'm gonna pick one and run with it to be honest i am totally fine with this approach",
    "start": "12176560",
    "end": "12182399"
  },
  {
    "text": "right sometimes you will have to just you know pick something and don't paralyze",
    "start": "12182399",
    "end": "12188160"
  },
  {
    "text": "yourself right because you will never get it right you will never get it right",
    "start": "12188160",
    "end": "12194479"
  },
  {
    "text": "no don't don't ever think that the companies know what they're doing right",
    "start": "12194479",
    "end": "12200479"
  },
  {
    "text": "they will go through a design and they will run into a",
    "start": "12200479",
    "end": "12205520"
  },
  {
    "text": "trouble and they will tweak things and will move forward so if you're interviewing",
    "start": "12205520",
    "end": "12210880"
  },
  {
    "text": "if you're on an interview and you're and the trivia is asking you something in an hour and they",
    "start": "12210880",
    "end": "12216239"
  },
  {
    "text": "expect you to to come up with a perfect solution they are delusional right because people",
    "start": "12216239",
    "end": "12223439"
  },
  {
    "text": "take months to just research and design something and you're not gonna get it in an hour",
    "start": "12223439",
    "end": "12229520"
  },
  {
    "text": "they know that they should know that they want you to know",
    "start": "12229520",
    "end": "12234640"
  },
  {
    "text": "how you're thinking and that what matters they want you to have a flexible fluid",
    "start": "12234640",
    "end": "12240720"
  },
  {
    "text": "kind of thinking right think about all the possibilities the pros and cons right",
    "start": "12240720",
    "end": "12247439"
  },
  {
    "text": "what as you can see i'm i'm still torn what what to pick right pick first one second",
    "start": "12247439",
    "end": "12253920"
  },
  {
    "text": "maybe a hybrid maybe i still gotta keep a database with a stateful approach and periodically store the",
    "start": "12253920",
    "end": "12260000"
  },
  {
    "text": "state in a database but keep the state in in a server somewhere yeah it's uh that's how how would the",
    "start": "12260000",
    "end": "12267760"
  },
  {
    "text": "system design works is there is no one way to solve the problem and that what makes us",
    "start": "12267760",
    "end": "12273760"
  },
  {
    "text": "software engineer a very creative field to be in just and don't don't beat yourself up if",
    "start": "12273760",
    "end": "12281279"
  },
  {
    "text": "you can't think of a solution that is absolutely perfect if you're if you're torn and you're thinking",
    "start": "12281279",
    "end": "12288000"
  },
  {
    "text": "as you keep designing and as you keep working the problem and you keep getting more problem you're",
    "start": "12288000",
    "end": "12294560"
  },
  {
    "text": "absolutely normal because that's the state of software engineering there is sometimes you kind of get this nice",
    "start": "12294560",
    "end": "12301200"
  },
  {
    "text": "click that's perfect but there won't be a perfect solution",
    "start": "12301200",
    "end": "12306399"
  },
  {
    "text": "that's that that's what i what i notice in the all the videos that i watch in the software",
    "start": "12306399",
    "end": "12312000"
  },
  {
    "text": "engineering they they ship you this design as if it's the perfect one and i don't i i don't i don't know if i",
    "start": "12312000",
    "end": "12319840"
  },
  {
    "text": "agree with that right it's just oh this is the way to do it perfect yeah i don't know about that they're",
    "start": "12319840",
    "end": "12327520"
  },
  {
    "start": "12320000",
    "end": "18720000"
  },
  {
    "text": "always going to be a better way of doing anything all right guys sorry i i mumbled there in the end if",
    "start": "12327520",
    "end": "12334479"
  },
  {
    "text": "you enjoyed this video give it a like and suggest what should i do next",
    "start": "12334479",
    "end": "12339600"
  },
  {
    "text": "tell me in the comment section below you guys stay safe out there",
    "start": "12339600",
    "end": "12345200"
  },
  {
    "text": "in this video i want to do something that i'm completely uncomfortable with building multi-player",
    "start": "12348399",
    "end": "12356000"
  },
  {
    "text": "game let's get into it so here's the game that i actually built but i want to build from scratch",
    "start": "12356000",
    "end": "12362319"
  },
  {
    "text": "with you guys so it will be essentially a multiplayer game using the server authoritative model",
    "start": "12362319",
    "end": "12370080"
  },
  {
    "text": "and there are three clients and i'm using websocket as a as a as a medium of this multiplayer",
    "start": "12370080",
    "end": "12375520"
  },
  {
    "text": "communication so a client create a game and creates a url and this url is sent to any client",
    "start": "12375520",
    "end": "12382479"
  },
  {
    "text": "really could be a mobile phone could be any desktop application it's a completely browser-based game",
    "start": "12382479",
    "end": "12389120"
  },
  {
    "text": "and once the the client receives the url you can click join game and they",
    "start": "12389120",
    "end": "12395439"
  },
  {
    "text": "will start the game so and if each game each client will get a color and if they click that color will",
    "start": "12395439",
    "end": "12402239"
  },
  {
    "text": "propagate to everything right and this guy is like for example the red guy uh that the same cell",
    "start": "12402239",
    "end": "12408479"
  },
  {
    "text": "will basically turn all red based on this and the game essentially is fighting",
    "start": "12408479",
    "end": "12413760"
  },
  {
    "text": "between all of these clients so they can dominate the board",
    "start": "12413760",
    "end": "12419040"
  },
  {
    "text": "so that's the game essentially so as you click right imagine multiplayer because i'm obviously a single guy here but",
    "start": "12419040",
    "end": "12425760"
  },
  {
    "text": "imagine all of these will essentially try to dominate the board with their",
    "start": "12425760",
    "end": "12432560"
  },
  {
    "text": "color that's the idea and the full game will should have a score obviously it should",
    "start": "12432560",
    "end": "12438319"
  },
  {
    "text": "have a timer because that's the the you're fighting for this the the board and every client will have a",
    "start": "12438319",
    "end": "12446239"
  },
  {
    "text": "share of the of the board and if they have the most they are the winner essentially or could be a draw okay",
    "start": "12446239",
    "end": "12451840"
  },
  {
    "text": "so that's what i want to build this is completely built with the native websockets i'm not using socket audio on anything like that i'm using plain",
    "start": "12451840",
    "end": "12459200"
  },
  {
    "text": "javascript i'm using plain warp sockets it's a and i end up for the back and i'm using",
    "start": "12459200",
    "end": "12464800"
  },
  {
    "text": "node.js for persistent or anything like that i don't know i'm just using a stateful application we can",
    "start": "12464800",
    "end": "12471680"
  },
  {
    "text": "obviously build the application better ways but this is just for educational purposes",
    "start": "12471680",
    "end": "12477520"
  },
  {
    "text": "right i'm gonna talk through in this video how i can build this application in a",
    "start": "12477520",
    "end": "12483359"
  },
  {
    "text": "better way right it's gonna be a long video guys obviously if you're interested stay tuned enjoy if you're new here",
    "start": "12483359",
    "end": "12490479"
  },
  {
    "text": "welcome my name is hussain in this channel we discuss all sorts of software engineering by example so if you want to become a better",
    "start": "12490479",
    "end": "12496399"
  },
  {
    "text": "software engineer consider subscribing hit that bell icon so you get notified every time i upload a new video would i say let's",
    "start": "12496399",
    "end": "12504080"
  },
  {
    "text": "just jump into this video so let's just jump into it guys we're gonna build a",
    "start": "12504080",
    "end": "12510120"
  },
  {
    "text": "multiplayer gaming application browser based when i say browser based i mean it works",
    "start": "12510120",
    "end": "12517520"
  },
  {
    "text": "on any device that has a browser that's the beauty of this thing all",
    "start": "12517520",
    "end": "12522640"
  },
  {
    "text": "right that's like or moving away from native applications and just trying things out",
    "start": "12522640",
    "end": "12529359"
  },
  {
    "text": "trying things out right there's always pros and cons for to everything but the web man it's getting really strong",
    "start": "12529359",
    "end": "12536960"
  },
  {
    "text": "and let's see how good this thing is so we're going to use whoop socket a technology has been released for a long time right without any fancy term",
    "start": "12536960",
    "end": "12544239"
  },
  {
    "text": "and we're going to build a multiplayer game let's just jump into it guys so here's the agenda here's",
    "start": "12544239",
    "end": "12549680"
  },
  {
    "text": "the things the design of the game i went ahead and created the design of the game because obviously",
    "start": "12549680",
    "end": "12555680"
  },
  {
    "text": "for every software you want to create you have to design it you cannot just jump into coding i've",
    "start": "12555680",
    "end": "12561279"
  },
  {
    "text": "made this mistake before jumping into code you get confused because you have no idea what you're",
    "start": "12561279",
    "end": "12566720"
  },
  {
    "text": "building right that's why you have to kind of break down your application into kind of this basic component so",
    "start": "12566720",
    "end": "12573520"
  },
  {
    "text": "that's what i'm going to do i'm going to go through the design of the game right and then after that we're going to show",
    "start": "12573520",
    "end": "12579200"
  },
  {
    "text": "an example again of the game and finally we're going to code so",
    "start": "12579200",
    "end": "12584319"
  },
  {
    "text": "so the first component here is is connecting to the server right so it",
    "start": "12584319",
    "end": "12590399"
  },
  {
    "text": "will be some sort of a server i'm going to connect to it so that's one piece of the puzzle okay",
    "start": "12590399",
    "end": "12596080"
  },
  {
    "text": "we need to implement the connection from the client to the server okay and then when i say connection here",
    "start": "12596080",
    "end": "12601840"
  },
  {
    "text": "it could be any protocol but the protocol that i'm going to use is web sockets okay and then the other component is creating",
    "start": "12601840",
    "end": "12608880"
  },
  {
    "text": "the game i want to create the new game okay and the game will have some semantic the",
    "start": "12608880",
    "end": "12615520"
  },
  {
    "text": "game will have some state okay uh the the description of the state",
    "start": "12615520",
    "end": "12620880"
  },
  {
    "text": "will be hey this board game now has seven rich cells three blue and",
    "start": "12620880",
    "end": "12628160"
  },
  {
    "text": "two greens right so that's a state okay and the idea here is the status on the",
    "start": "12628160",
    "end": "12633600"
  },
  {
    "text": "server join a game that's another action that the client need to take",
    "start": "12633600",
    "end": "12639040"
  },
  {
    "text": "to do right because it's really interesting if you think about it playing right now i want to actually",
    "start": "12639040",
    "end": "12645520"
  },
  {
    "text": "play i want to set one of these cells or balls or whatever we want to call them",
    "start": "12645520",
    "end": "12651279"
  },
  {
    "text": "to my color as a player okay so that's called a play and then we're going to talk about that a little bit and then",
    "start": "12651279",
    "end": "12658720"
  },
  {
    "text": "the final step of the game design is the broadcast state wow much better fixed",
    "start": "12658720",
    "end": "12666399"
  },
  {
    "text": "thank god of editing man so broadcast the state of the game from the server to all clients and",
    "start": "12666399",
    "end": "12672640"
  },
  {
    "text": "we're going to discuss that as well okay that comes back to what kind of game design",
    "start": "12672640",
    "end": "12678080"
  },
  {
    "text": "would you choose right there are many multiplayer game design there's lockstep there's a server authoritative and then",
    "start": "12678080",
    "end": "12684960"
  },
  {
    "text": "there are like a hybrid approach as well i'm choosing the server authoritative",
    "start": "12684960",
    "end": "12690160"
  },
  {
    "text": "approach here i'm going to discuss all that stuff don't worry about it and i'm going to talk about a full",
    "start": "12690160",
    "end": "12695279"
  },
  {
    "text": "example show example of how the game will actually conduct and then once we are ready we'll feel",
    "start": "12695279",
    "end": "12700880"
  },
  {
    "text": "confident we'll jump to the code and we'll write some code guys how about",
    "start": "12700880",
    "end": "12706479"
  },
  {
    "text": "we do this thing the first thing connection i want to connect as a client",
    "start": "12706479",
    "end": "12713760"
  },
  {
    "text": "i want to connect to the server and you will notice that i am a client",
    "start": "12713760",
    "end": "12719760"
  },
  {
    "text": "in this case most probably it's a browser but doesn't have to be right any client that understands how to talk web",
    "start": "12719760",
    "end": "12725840"
  },
  {
    "text": "sockets could be a potential client of your game the websocket server",
    "start": "12725840",
    "end": "12731200"
  },
  {
    "text": "in this case here i'm gonna not use node.js as my websocket server",
    "start": "12731200",
    "end": "12737200"
  },
  {
    "text": "and then notice what will happen here i am communicating with jason",
    "start": "12737200",
    "end": "12742479"
  },
  {
    "text": "here and i chose this protocol you can choose anything you want the",
    "start": "12742479",
    "end": "12747840"
  },
  {
    "text": "what the beauty of loop socket is a it's a blob of text or binary that you send",
    "start": "12747840",
    "end": "12754000"
  },
  {
    "text": "across the wire you are responsible of choosing the format of what you send",
    "start": "12754000",
    "end": "12760640"
  },
  {
    "text": "okay and you pick a format it could be xml i don't know why would you do that could",
    "start": "12760640",
    "end": "12766000"
  },
  {
    "text": "be json like what i'm doing right now could be protocol buffers right",
    "start": "12766000",
    "end": "12772239"
  },
  {
    "text": "nothing stopping you from doing any of that stuff whatever is comfortable since i'm using javascript in the client",
    "start": "12772239",
    "end": "12778000"
  },
  {
    "text": "and javascript the server javascript is the best language for this because it's the code i write on the",
    "start": "12778000",
    "end": "12783359"
  },
  {
    "text": "server will be used in the client and by us so here's what i'm going to do when i",
    "start": "12783359",
    "end": "12789439"
  },
  {
    "text": "attempt to connect to my websocket server that connection will essentially",
    "start": "12789439",
    "end": "12796319"
  },
  {
    "text": "be up will upgrade the http normal connection to a websocket right",
    "start": "12796319",
    "end": "12802000"
  },
  {
    "text": "but the first response that come from my web server will be to uniquely",
    "start": "12802000",
    "end": "12807600"
  },
  {
    "text": "identify the client and that's a very critical point you want your clients to",
    "start": "12807600",
    "end": "12813920"
  },
  {
    "text": "be identifiable with each request they make so you so you can look up",
    "start": "12813920",
    "end": "12819840"
  },
  {
    "text": "which connection to use on the server in order to communicate with that client",
    "start": "12819840",
    "end": "12826000"
  },
  {
    "text": "okay so that's the first point you really need to understand because think about it guys",
    "start": "12826000",
    "end": "12831279"
  },
  {
    "text": "there will be many many connections here many connections from many games many",
    "start": "12831279",
    "end": "12836800"
  },
  {
    "text": "servers how do i know that this connection this tcp full state full connection is belongs to",
    "start": "12836800",
    "end": "12843840"
  },
  {
    "text": "this client so you need some sort of a hash table and we're going to build that okay so that client id and i'm going to use grid",
    "start": "12843840",
    "end": "12850560"
  },
  {
    "text": "because it's the easiest way to identify things right obviously this is",
    "start": "12850560",
    "end": "12858080"
  },
  {
    "text": "whatever i'm gonna design now today is not the most performant nor efficient we can always make things",
    "start": "12858080",
    "end": "12864880"
  },
  {
    "text": "more efficient i just want the most simple way it's not even scalable",
    "start": "12864880",
    "end": "12870160"
  },
  {
    "text": "the way the way the design i'm doing today okay it's just it's very stateful but we can do all of",
    "start": "12870160",
    "end": "12876319"
  },
  {
    "text": "that stuff and we can discuss in another video but let's just build what we can",
    "start": "12876319",
    "end": "12882000"
  },
  {
    "text": "build right the idea of the game without actually adding more complexity",
    "start": "12882000",
    "end": "12888479"
  },
  {
    "text": "all right so when when i attempt to connect i'm going to respond with a single json response",
    "start": "12888479",
    "end": "12893520"
  },
  {
    "text": "right as part of the websocket connection remember guys and if you if you if you want to know",
    "start": "12893520",
    "end": "12898720"
  },
  {
    "text": "more about websocket i'm going to reference the video that i made here dedicated just for about websockets crash course",
    "start": "12898720",
    "end": "12904000"
  },
  {
    "text": "and i also talked about how to make websocket uh secured using tls right i'm going to",
    "start": "12904000",
    "end": "12909120"
  },
  {
    "text": "reference all the videos here but once i ended fire the client and i",
    "start": "12909120",
    "end": "12914720"
  },
  {
    "text": "made build this hash table on my server i'm going to return this payload to the",
    "start": "12914720",
    "end": "12920000"
  },
  {
    "text": "server to the client says it's immediate response kind response kind of a thing here for",
    "start": "12920000",
    "end": "12925439"
  },
  {
    "text": "just that all right so now the client knows its ids the server know that there is a tcp",
    "start": "12925439",
    "end": "12931279"
  },
  {
    "text": "connection associated with that line the next component of the game is to",
    "start": "12931279",
    "end": "12937359"
  },
  {
    "text": "create a new game okay i know what does that mean a game is kind of a state that",
    "start": "12937359",
    "end": "12943120"
  },
  {
    "text": "represents the uh the board in this case like the",
    "start": "12943120",
    "end": "12948479"
  },
  {
    "text": "the border we're building it has certain number of balls or cells or whatever you want to call it",
    "start": "12948479",
    "end": "12954479"
  },
  {
    "text": "okay it has an id it has certain players and all that stuff so",
    "start": "12954479",
    "end": "12959680"
  },
  {
    "text": "one client assume they already connected they can issue a command to actually",
    "start": "12959680",
    "end": "12967359"
  },
  {
    "text": "make a request to create a new game okay and the method that they can choose here",
    "start": "12967359",
    "end": "12973840"
  },
  {
    "text": "is called create and you might say what the heck is a method it's nothing it's a json payload that i",
    "start": "12973840",
    "end": "12980160"
  },
  {
    "text": "decided i am building the protocol here guys that's the thing here and you can do whatever you want i chose to call",
    "start": "12980160",
    "end": "12988239"
  },
  {
    "text": "this thing method and this is so that i can identify it on the server",
    "start": "12988239",
    "end": "12993359"
  },
  {
    "text": "so i'm going to send the client to create a game you want to send me a json payload with a key called method and the",
    "start": "12993359",
    "end": "13000960"
  },
  {
    "text": "value is created and i'm going to know that you want to create a new game but you gotta tell me with every single",
    "start": "13000960",
    "end": "13007840"
  },
  {
    "text": "request what client id are you okay and you might argue that hey say hussain",
    "start": "13007840",
    "end": "13014319"
  },
  {
    "text": "you don't really need the client id you can't derive it from the connection and i agree with you i just want to make",
    "start": "13014319",
    "end": "13019520"
  },
  {
    "text": "this as simple as possible we can do so much optimization but let's make it thing simple",
    "start": "13019520",
    "end": "13024880"
  },
  {
    "text": "so you tell me who you are you tell me what you want okay so that's the create and when you do that that web server",
    "start": "13024880",
    "end": "13031760"
  },
  {
    "text": "will create a new game state right and when i say",
    "start": "13031760",
    "end": "13036960"
  },
  {
    "text": "create use your imagination you can be you can have it stateful in",
    "start": "13036960",
    "end": "13043520"
  },
  {
    "text": "memory of the server which is what i'm gonna do you can save it in a redis instance",
    "start": "13043520",
    "end": "13049600"
  },
  {
    "text": "that's another better way of doing things but i don't have seven hours to do this video so i'm",
    "start": "13049600",
    "end": "13056560"
  },
  {
    "text": "gonna try to simplify this video as much as possible but think about it use your imagination and do a lot of things here okay and once we",
    "start": "13056560",
    "end": "13065120"
  },
  {
    "text": "create that instance we're gonna create a game okay we're gonna have a new id for the game which",
    "start": "13065120",
    "end": "13070560"
  },
  {
    "text": "is very important to identify the game id here and here's the response i'm gonna return",
    "start": "13070560",
    "end": "13077040"
  },
  {
    "text": "to the user um immediately we're gonna response to the user that",
    "start": "13077040",
    "end": "13082239"
  },
  {
    "text": "made that request with the game id and how many balls did we create for this game and you can",
    "start": "13082239",
    "end": "13087840"
  },
  {
    "text": "make this configurable i am gonna hardcore this thing to 20 balls or 15 okay but we can make things configurable",
    "start": "13087840",
    "end": "13095279"
  },
  {
    "text": "so i'm going to return a game payload here object and it's called id that's id and has a number of balls and",
    "start": "13095279",
    "end": "13102239"
  },
  {
    "text": "that again we have to return the comp method so that client knows that hey when it receives a",
    "start": "13102239",
    "end": "13107920"
  },
  {
    "text": "response from the server which was because this is a bi-directional thing we have no idea which response is for which request so",
    "start": "13107920",
    "end": "13114800"
  },
  {
    "text": "that's why we have to kind of identify things uniquely okay so when i send that back",
    "start": "13114800",
    "end": "13121040"
  },
  {
    "text": "i'm gonna return this result to the server to the client and now i know the client",
    "start": "13121040",
    "end": "13126479"
  },
  {
    "text": "knows that oh there is a game id and now this is the beauty of this thing we have",
    "start": "13126479",
    "end": "13132960"
  },
  {
    "text": "the game id the client can choose to share this game id as a url with other",
    "start": "13132960",
    "end": "13140080"
  },
  {
    "text": "clients and they can join the game remember that that client has",
    "start": "13140080",
    "end": "13146640"
  },
  {
    "text": "just created the game it didn't really join it okay to join a game you have to call this method you have to do this",
    "start": "13146640",
    "end": "13152800"
  },
  {
    "text": "protocol that i'm building the whole thing here i'm building from scratch right guys so to request",
    "start": "13152800",
    "end": "13159439"
  },
  {
    "text": "a new join request right you build this json again there is another method here that",
    "start": "13159439",
    "end": "13165920"
  },
  {
    "text": "i created and i call the string join and then you have to tell me who you are notice there is always a pattern",
    "start": "13165920",
    "end": "13172560"
  },
  {
    "text": "but you also have to tell me what game id you want to join okay and you probably will get this somewhere",
    "start": "13172560",
    "end": "13180080"
  },
  {
    "text": "from a create game previous great game and someone shared share the url through",
    "start": "13180080",
    "end": "13185359"
  },
  {
    "text": "whatsapp or whatever right any any medium once they get the url or the game",
    "start": "13185359",
    "end": "13191279"
  },
  {
    "text": "id we can essentially join the game and when you send me this request and here's the interesting part",
    "start": "13191279",
    "end": "13197600"
  },
  {
    "text": "if you send me that payload through the web server okay to the web server",
    "start": "13197600",
    "end": "13204239"
  },
  {
    "text": "i'm gonna respond with this payload i am going to tell you that hey this the",
    "start": "13204239",
    "end": "13210720"
  },
  {
    "text": "method is join okay and this is the game the id with the same thing the number of balls because you're a new",
    "start": "13210720",
    "end": "13217600"
  },
  {
    "text": "client right you might be a new client and you don't know",
    "start": "13217600",
    "end": "13222640"
  },
  {
    "text": "how many balls in this game or other state of the game you don't know anything about this game so what you're gonna receive here",
    "start": "13222640",
    "end": "13230640"
  },
  {
    "text": "is this and you're gonna receive all the current client currently joined this game okay",
    "start": "13230640",
    "end": "13238880"
  },
  {
    "text": "who actually joined this game so if you're the first guy to join you will only see yourself here",
    "start": "13238880",
    "end": "13245040"
  },
  {
    "text": "okay so the grid will be the client id of the of the client who joined this game and",
    "start": "13245040",
    "end": "13252880"
  },
  {
    "text": "an automatically assigned color and the server assigns the color for the game so the first guy gets a red",
    "start": "13252880",
    "end": "13258640"
  },
  {
    "text": "the second one gets a green and the third one get the blue and so on okay you can you can check",
    "start": "13258640",
    "end": "13264239"
  },
  {
    "text": "this i'm gonna limit the game to three players only and then that's it you",
    "start": "13264239",
    "end": "13269520"
  },
  {
    "text": "return this but here's the thing this is a special request this is a special",
    "start": "13269520",
    "end": "13275920"
  },
  {
    "text": "request and response the server will not only respond to this",
    "start": "13275920",
    "end": "13281359"
  },
  {
    "text": "client it will check the from the game id will check who else",
    "start": "13281359",
    "end": "13288000"
  },
  {
    "text": "is a client for this game who already joined the game and i'm gonna tell them that there is a",
    "start": "13288000",
    "end": "13294080"
  },
  {
    "text": "new player so i'm gonna send the same respond to all the participants of the game so",
    "start": "13294080",
    "end": "13300960"
  },
  {
    "text": "that's why this will be sent to all game clients right if it's none",
    "start": "13300960",
    "end": "13306479"
  },
  {
    "text": "then we're going to send it only to this guy who just joined if it's another one then i'm going to send two and so on this we're going to be clear",
    "start": "13306479",
    "end": "13313359"
  },
  {
    "text": "with with more of an example okay so let's join let's talk about play",
    "start": "13313359",
    "end": "13318880"
  },
  {
    "text": "to play a game here guys what you do is i'm gonna send the same thing it's a",
    "start": "13318880",
    "end": "13325120"
  },
  {
    "text": "method that's a json respond and there is a method i'm gonna call it a play",
    "start": "13325120",
    "end": "13330479"
  },
  {
    "text": "that's what i called it you have to tell me who you are and you have to tell me what game are you playing and you have to tell me",
    "start": "13330479",
    "end": "13338560"
  },
  {
    "text": "what ball or which cell you want to capture or you want to set so i can pick",
    "start": "13338560",
    "end": "13346080"
  },
  {
    "text": "your color and mark it and you might say hussein you didn't send the color",
    "start": "13346080",
    "end": "13351279"
  },
  {
    "text": "in the request how do you know what color is this client that's a good question there will be a",
    "start": "13351279",
    "end": "13356640"
  },
  {
    "text": "mapping on the server in this case right and you might as easily set that",
    "start": "13356640",
    "end": "13362080"
  },
  {
    "text": "on the client as well notice that there is no response in this case this is just like a beacon right",
    "start": "13362080",
    "end": "13369359"
  },
  {
    "text": "it's like i talked about the beacon api it's like at the beginning but you send information without actually expecting a",
    "start": "13369359",
    "end": "13375760"
  },
  {
    "text": "response and that's very critical for latency because this is gonna be a busy request this is the",
    "start": "13375760",
    "end": "13384160"
  },
  {
    "text": "one of the most requests that will be uh click throughed the most right",
    "start": "13384160",
    "end": "13390880"
  },
  {
    "text": "this is where people will just keep clicking right so this is the most you need to make this compact you need",
    "start": "13390880",
    "end": "13397439"
  },
  {
    "text": "to make this fast as fast as possible that's why you made you need to make this",
    "start": "13397439",
    "end": "13403840"
  },
  {
    "text": "there will be a client-side work that you need to do and then you send the request immediately",
    "start": "13403840",
    "end": "13409040"
  },
  {
    "text": "like a like almost like a right through cache right so that's that's that's the very important point here okay and then",
    "start": "13409040",
    "end": "13415439"
  },
  {
    "text": "the server doesn't respond with anything and you might say jose how do you know what other players has actually played",
    "start": "13415439",
    "end": "13421279"
  },
  {
    "text": "right because this will be by multiple players this player one will play player two and and so on okay and",
    "start": "13421279",
    "end": "13429840"
  },
  {
    "text": "this is it so this is the broadcast state where the server after each number of millisecond number",
    "start": "13429840",
    "end": "13436960"
  },
  {
    "text": "of seconds or number of frames if you're playing with that right it will group it will will batch these",
    "start": "13436960",
    "end": "13444800"
  },
  {
    "text": "frames and all the states that has been received from all clients and will send",
    "start": "13444800",
    "end": "13450399"
  },
  {
    "text": "one response including all of these changes right with the final state this is",
    "start": "13450399",
    "end": "13457680"
  },
  {
    "text": "called essentially the batching right so this the the the server will batch all the",
    "start": "13457680",
    "end": "13464160"
  },
  {
    "text": "uh all the changes that happened and we'll send one final state to all client",
    "start": "13464160",
    "end": "13470720"
  },
  {
    "text": "of that game okay so here's the thing so it was going to every every half a",
    "start": "13470720",
    "end": "13476800"
  },
  {
    "text": "second 300 millisecond whatever you want to set it that server will start sending these",
    "start": "13476800",
    "end": "13482479"
  },
  {
    "text": "updates right and this is also a very important thing you have to",
    "start": "13482479",
    "end": "13487920"
  },
  {
    "text": "make this as efficient as possible i'm not going to make it efficient this is going to be a little bit",
    "start": "13487920",
    "end": "13493600"
  },
  {
    "text": "large but we there are some tricks we can play with bit wise operators and",
    "start": "13493600",
    "end": "13499359"
  },
  {
    "text": "making the state as simple as small as possible out of the stop of scope of the video",
    "start": "13499359",
    "end": "13504640"
  },
  {
    "text": "but do ask me in the comments below if you if you're interested to know more so i'm gonna send all that stuff right so",
    "start": "13504640",
    "end": "13510960"
  },
  {
    "text": "that's that's like a kind of a broadcasting to all client kind of a thing and here's the response this is a method",
    "start": "13510960",
    "end": "13518080"
  },
  {
    "text": "that actually the server sends not the client it's not a response to an existing request it's just a",
    "start": "13518080",
    "end": "13525199"
  },
  {
    "text": "server-side right that's the beauty of the circuit so there is something that the client only sends",
    "start": "13525199",
    "end": "13530720"
  },
  {
    "text": "there is something that the server only sends there is a there is just the normal client server uh client request response kind",
    "start": "13530720",
    "end": "13538560"
  },
  {
    "text": "of a thing as well okay and we're going to send here the update we're going to send the game id and the",
    "start": "13538560",
    "end": "13546000"
  },
  {
    "text": "state and the status an array of all the current game",
    "start": "13546000",
    "end": "13552080"
  },
  {
    "text": "essentially what the canon game look like if you have 20 balls or 20 cells you're gonna have",
    "start": "13552080",
    "end": "13558080"
  },
  {
    "text": "20 elements in this element and we'll tell you that this ball",
    "start": "13558080",
    "end": "13563520"
  },
  {
    "text": "okay this cell number one or ball number one is red ball number two is blue pole number three is green and",
    "start": "13563520",
    "end": "13570239"
  },
  {
    "text": "so on and all the clients are responsible to update that state right and immediately once you receive",
    "start": "13570239",
    "end": "13576640"
  },
  {
    "text": "this you'll you'll immediately refresh that and you'll see that oh there's something changing",
    "start": "13576640",
    "end": "13582080"
  },
  {
    "text": "okay so that's the broadcast state okay and this is what we call the server",
    "start": "13582080",
    "end": "13587720"
  },
  {
    "text": "authoritative model where the clients send changes it sends input the client only",
    "start": "13587720",
    "end": "13596080"
  },
  {
    "text": "sends an input he said hey i want to play this ball i want to play this ball i want to play this ball that's what the client sends",
    "start": "13596080",
    "end": "13602399"
  },
  {
    "text": "and the server groups all that stuff and then the servers send the full state back to the server",
    "start": "13602399",
    "end": "13610319"
  },
  {
    "text": "to the clients right so that's called the server authoritative model in game multiplier gaming",
    "start": "13610319",
    "end": "13616080"
  },
  {
    "text": "where the server actually is the authoritative of the state okay clients cannot cheat",
    "start": "13616080",
    "end": "13622880"
  },
  {
    "text": "as easily because the state is calculated on the",
    "start": "13622880",
    "end": "13628000"
  },
  {
    "text": "server not on the client the opposite of that is the lock step approach where the clients",
    "start": "13628000",
    "end": "13635439"
  },
  {
    "text": "still send inputs but the server instead of calculating the state it actually sends the input of all",
    "start": "13635439",
    "end": "13643359"
  },
  {
    "text": "grouped uh client inputs back to all clients so and the clients once",
    "start": "13643359",
    "end": "13648960"
  },
  {
    "text": "they receive all the changes all these inputs they are responsible to calculate the state right so it's a it's",
    "start": "13648960",
    "end": "13655760"
  },
  {
    "text": "the opposite so that a client is authoritative in this case to calculate the state",
    "start": "13655760",
    "end": "13661439"
  },
  {
    "text": "and the clients can't cheat in this case because hey so it's like hey i i own this i own the state in this case so i can",
    "start": "13661439",
    "end": "13667520"
  },
  {
    "text": "play with this and change it yeah which is kind of not good but the the the good thing about it is the bandwidth",
    "start": "13667520",
    "end": "13674239"
  },
  {
    "text": "becomes really really small because you're sending inputs instead of sending a full state right and we are this",
    "start": "13674239",
    "end": "13680000"
  },
  {
    "text": "all going to become very clear guys as we go through the game example let's go through an example and",
    "start": "13680000",
    "end": "13686080"
  },
  {
    "text": "start coding guys so three clients connect to a server okay random clients they know the address of",
    "start": "13686080",
    "end": "13692319"
  },
  {
    "text": "the server and they want to establish a connect request okay and that's the websocket connect request guys okay",
    "start": "13692319",
    "end": "13700399"
  },
  {
    "text": "the first client request i connect a connection and the server will respond with the",
    "start": "13700399",
    "end": "13706399"
  },
  {
    "text": "client id and it will give it a grid in this case it's called a okay so this is a client a and this guy",
    "start": "13706399",
    "end": "13712319"
  },
  {
    "text": "will be client b and this guy will call we'll call him client c okay cool so that's easy all right so we",
    "start": "13712319",
    "end": "13718800"
  },
  {
    "text": "have three clients a b c that's it we have three stateful tcp connection",
    "start": "13718800",
    "end": "13724080"
  },
  {
    "text": "that acts like a websocket okay and we have a handle of this and we have a handle to these connections and we have now an",
    "start": "13724080",
    "end": "13730960"
  },
  {
    "text": "array in memory with a hash map not really an array it's a hash map that",
    "start": "13730960",
    "end": "13736800"
  },
  {
    "text": "says client a is this connection client b is this connection client c is this connection",
    "start": "13736800",
    "end": "13741840"
  },
  {
    "text": "it's very very very important to identify this",
    "start": "13741840",
    "end": "13746641"
  },
  {
    "text": "client a decide to create a game okay client creates a game it sends a request like this the json is beautiful jason",
    "start": "13747040",
    "end": "13754160"
  },
  {
    "text": "right and it says hey method create okay and the cli i am client a again we you have to",
    "start": "13754160",
    "end": "13761920"
  },
  {
    "text": "identify yourself who are you so i can locate which connection i should use",
    "start": "13761920",
    "end": "13767439"
  },
  {
    "text": "right and which stuff i can do with you right this is very very important okay again",
    "start": "13767439",
    "end": "13773120"
  },
  {
    "text": "guys you can get rid of the client id if you want to but it's it's way easier to have an",
    "start": "13773120",
    "end": "13778399"
  },
  {
    "text": "identifier and you'll know why okay once you do that the server will immediately respond",
    "start": "13778399",
    "end": "13784560"
  },
  {
    "text": "it will create a new game it's an again as a hash map with the game id it's gonna generate a",
    "start": "13784560",
    "end": "13789920"
  },
  {
    "text": "number of balls or cells and we'll tell the client hey by the way i'm responding to your creator quiz",
    "start": "13789920",
    "end": "13795760"
  },
  {
    "text": "and here it is okay i just you just created a request yeah i know",
    "start": "13795760",
    "end": "13800800"
  },
  {
    "text": "and here's the game id and the game now can be shared with other clients",
    "start": "13800800",
    "end": "13805840"
  },
  {
    "text": "remember client a did not join the game it merely merely created it",
    "start": "13805840",
    "end": "13811520"
  },
  {
    "text": "which is very important client b joins game game z in this case",
    "start": "13811520",
    "end": "13818160"
  },
  {
    "text": "which is the game created by by client a okay i don't know client a sentence through through whatsapp right or",
    "start": "13818160",
    "end": "13825120"
  },
  {
    "text": "whatever and uh we received the game now we have the game id and i want to join it and to join what",
    "start": "13825120",
    "end": "13831279"
  },
  {
    "text": "do we do you have to send me this exact json payload method i want to",
    "start": "13831279",
    "end": "13836960"
  },
  {
    "text": "join who are you i'm client b what game you want to join i want a game i",
    "start": "13836960",
    "end": "13842000"
  },
  {
    "text": "i want to join join game id z and when you do that what do we do",
    "start": "13842000",
    "end": "13849359"
  },
  {
    "text": "we the server will check okay who are the current member of uh game z no one okay",
    "start": "13849359",
    "end": "13856720"
  },
  {
    "text": "in this case i will join you sir you are now a member and yours you happen to be the",
    "start": "13856720",
    "end": "13863920"
  },
  {
    "text": "first member so you get the first color which is red so we assign the the client b",
    "start": "13863920",
    "end": "13870239"
  },
  {
    "text": "the red color and we update the game state right so that",
    "start": "13870239",
    "end": "13876880"
  },
  {
    "text": "the clients we update the game client state so that with the first client which is client b",
    "start": "13876880",
    "end": "13883040"
  },
  {
    "text": "okay and we check are there any clients nope that's the",
    "start": "13883040",
    "end": "13889120"
  },
  {
    "text": "only time we loop through all the clients that are currently here and literally get the connections and send",
    "start": "13889120",
    "end": "13895120"
  },
  {
    "text": "this new change to all the clients right and the client in this case is",
    "start": "13895120",
    "end": "13900960"
  },
  {
    "text": "only b right so this json response will only be sent to client b and b will receive it and we'll say okay",
    "start": "13900960",
    "end": "13906960"
  },
  {
    "text": "oh i i got red and i will just display it in the ui for example",
    "start": "13906960",
    "end": "13912880"
  },
  {
    "text": "let's join client c joins the game now same thing i'm going to send a method",
    "start": "13912880",
    "end": "13918640"
  },
  {
    "text": "join imc i want to join game z oh okay we'll see all right let me add",
    "start": "13918640",
    "end": "13926800"
  },
  {
    "text": "you to the existing game which happens to have already one player so you're",
    "start": "13926800",
    "end": "13932000"
  },
  {
    "text": "the second one so you get the second color green okay and i'm going to add you so b is c and",
    "start": "13932000",
    "end": "13937439"
  },
  {
    "text": "then i'm going to loop through all the current clients which is b and c and send them the game because b",
    "start": "13937439",
    "end": "13942880"
  },
  {
    "text": "needs to know that c has joined right so both of them will get this new join request right so you'll start",
    "start": "13942880",
    "end": "13950319"
  },
  {
    "text": "getting this joiner code so b will get it and also c will get it that's very important that's i'm writing",
    "start": "13950319",
    "end": "13956319"
  },
  {
    "text": "the algorithm guys as i speak that's very important to iterate these things and reiterate them finally",
    "start": "13956319",
    "end": "13964800"
  },
  {
    "text": "client a who actually creates the game just decided to join and if it joins this does the same exact",
    "start": "13964800",
    "end": "13971120"
  },
  {
    "text": "thing so it gets the last color which is blue and then the servo will loop through all clients which is",
    "start": "13971120",
    "end": "13976960"
  },
  {
    "text": "b c a for this game only and will broadcast all their response this",
    "start": "13976960",
    "end": "13983760"
  },
  {
    "text": "response to all client so now a and b and c will get this response and all of them will see that",
    "start": "13983760",
    "end": "13990319"
  },
  {
    "text": "oh there are three players and here where we can actually decide to play the game let's actually play guys",
    "start": "13990319",
    "end": "13996560"
  },
  {
    "text": "so client a decides to play ball six which is like cell number six i want to set it this is mine it's a",
    "start": "13996560",
    "end": "14003040"
  },
  {
    "text": "blue so what do we do we set a request right and the request is called play the",
    "start": "14003040",
    "end": "14008880"
  },
  {
    "text": "method play and i am a client a and i want i'm playing on game z and",
    "start": "14008880",
    "end": "14016239"
  },
  {
    "text": "i want to set i own ball six now okay so what will happen here is the",
    "start": "14016239",
    "end": "14022080"
  },
  {
    "text": "server will say okay got it six this is the game state this",
    "start": "14022080",
    "end": "14027600"
  },
  {
    "text": "is now the this the first time we actually changed the game state here so ball six is now on and think of it",
    "start": "14027600",
    "end": "14034080"
  },
  {
    "text": "like an array or a json hash map anything you want right ball six now is owned by the color blue",
    "start": "14034080",
    "end": "14041760"
  },
  {
    "text": "and you can decide to say hey by owned by client uh hey",
    "start": "14041760",
    "end": "14047040"
  },
  {
    "text": "don't really care here so that's enough just to have blue here we don't really need more information so that sets it",
    "start": "14047040",
    "end": "14053920"
  },
  {
    "text": "okay that now the state is saved on the server okay it's a stateful thing which is a little",
    "start": "14053920",
    "end": "14059359"
  },
  {
    "text": "bit bad because that's the easiest implementation you can as is as",
    "start": "14059359",
    "end": "14064640"
  },
  {
    "text": "similarly use redis to store the state and that is a better solution okay but",
    "start": "14064640",
    "end": "14070720"
  },
  {
    "text": "that will take more time to actually implement okay client b decides to set",
    "start": "14070720",
    "end": "14077760"
  },
  {
    "text": "play ball say seven okay so current b who says okay send the request and then the method is play and am b",
    "start": "14077760",
    "end": "14086080"
  },
  {
    "text": "z m seven so the current state is six still blue and seven is now red right because b is",
    "start": "14086080",
    "end": "14093760"
  },
  {
    "text": "was the red one and the third one is client c is now playing ball six so",
    "start": "14093760",
    "end": "14100640"
  },
  {
    "text": "what will happen here six is already set to a well what will happen here is i am using",
    "start": "14100640",
    "end": "14108399"
  },
  {
    "text": "a last one last in wayne kind of a solution so ball 6 will",
    "start": "14108399",
    "end": "14115040"
  },
  {
    "text": "now be owned by green and and you can play with this the way you",
    "start": "14115040",
    "end": "14120960"
  },
  {
    "text": "want guys you can design your game the way you want i decided to overwrite the result because this is",
    "start": "14120960",
    "end": "14127439"
  },
  {
    "text": "kind of the easiest and kind of fairest right because whoever comes last wins that's it move on right",
    "start": "14127439",
    "end": "14135520"
  },
  {
    "text": "all right so you notice that there are no responses from the server right and all of these three things happen",
    "start": "14135520",
    "end": "14142399"
  },
  {
    "text": "within the half a second right let's say this all of them happen and they have a second",
    "start": "14142399",
    "end": "14147600"
  },
  {
    "text": "after that five millisecond happened right the server kicks in and starts",
    "start": "14147600",
    "end": "14153920"
  },
  {
    "text": "broadcasting the state to all the clients that are in the game",
    "start": "14153920",
    "end": "14159279"
  },
  {
    "text": "okay which are a and b and c so it will send a respon a response to a",
    "start": "14159279",
    "end": "14165840"
  },
  {
    "text": "with this state which is 6 is now owned by green and 7 is our by red and the same state will go to b",
    "start": "14165840",
    "end": "14172560"
  },
  {
    "text": "since they will go to c so this is quite large right if you're sending it",
    "start": "14172560",
    "end": "14177600"
  },
  {
    "text": "a lot right so the network bandwidth will be affected as a result so you want",
    "start": "14177600",
    "end": "14183520"
  },
  {
    "text": "to make this as small as possible and i have ideas to do that it's just it's out of the scope of the",
    "start": "14183520",
    "end": "14189439"
  },
  {
    "text": "video okay and we can play with this and i might make this game actually a legit game and",
    "start": "14189439",
    "end": "14194960"
  },
  {
    "text": "i make it into its own repo but i'm not gonna make a video about it because it's gonna take me weeks",
    "start": "14194960",
    "end": "14200479"
  },
  {
    "text": "to do that okay and i can't explain every single decision i make right it's just it's just all subjective to be honest",
    "start": "14200479",
    "end": "14207600"
  },
  {
    "text": "and that's it all of this gamestay will just send right how about we jump in",
    "start": "14207600",
    "end": "14214160"
  },
  {
    "text": "and we start coding guys all right let's go to this thing all right guys so to code we need to",
    "start": "14214160",
    "end": "14220720"
  },
  {
    "text": "create a server and we also need to create a client and",
    "start": "14220720",
    "end": "14226319"
  },
  {
    "text": "the client in this case is going to be just a dumb html page to be honest and the server will be our node.js",
    "start": "14226319",
    "end": "14232319"
  },
  {
    "text": "right so make sure you have node.js installed make sure you have visual studio code",
    "start": "14232319",
    "end": "14238080"
  },
  {
    "text": "and let's get into it so let's create a websocket server how about that",
    "start": "14238080",
    "end": "14243920"
  },
  {
    "text": "file open javascript and you see i've created so many cool",
    "start": "14243920",
    "end": "14250080"
  },
  {
    "text": "projects let's go up socket sell game whatever you want to call it right",
    "start": "14250080",
    "end": "14256399"
  },
  {
    "text": "and that's it and uh i'm going to create a new index.js file",
    "start": "14256399",
    "end": "14264398"
  },
  {
    "text": "let's initialize in npm it's a good idea npm init y",
    "start": "14265840",
    "end": "14272640"
  },
  {
    "text": "and that's it so how do you create a websocket server and what is warp sockets right guys",
    "start": "14272640",
    "end": "14279040"
  },
  {
    "text": "websocket is nothing but an existing http",
    "start": "14279040",
    "end": "14284319"
  },
  {
    "text": "connection that have been upgraded to a websocket okay so how do we do http",
    "start": "14284319",
    "end": "14292080"
  },
  {
    "text": "well aj is let's start with that building an http server in node.js and",
    "start": "14292080",
    "end": "14297199"
  },
  {
    "text": "we have done this a lot of time so i'm going to create an http let's require the http library it's a",
    "start": "14297199",
    "end": "14303920"
  },
  {
    "text": "built-in thing in node.js okay and using that i'm going to create an http server",
    "start": "14303920",
    "end": "14310160"
  },
  {
    "text": "by doing http.createserver okay and you can choose to actually give it a",
    "start": "14310160",
    "end": "14317600"
  },
  {
    "text": "function we don't really care because what the websocket will actually override that function",
    "start": "14317600",
    "end": "14322720"
  },
  {
    "text": "anyway so what do we do next is http server dot start listening right just listen",
    "start": "14322720",
    "end": "14328000"
  },
  {
    "text": "to port i don't know 1990 just for change because i'm pretty sure 8080 is",
    "start": "14328000",
    "end": "14334319"
  },
  {
    "text": "used on my machine and we say like i don't know console.log i am listening on 1990.",
    "start": "14334319",
    "end": "14344560"
  },
  {
    "text": "sweet let's close this so that's a websocket no that's not",
    "start": "14345199",
    "end": "14350960"
  },
  {
    "text": "website that's just a server okay and that saw server when you first",
    "start": "14350960",
    "end": "14356000"
  },
  {
    "text": "do it okay when you first establish a connection with the with the server it will create a tcp connection and",
    "start": "14356000",
    "end": "14361840"
  },
  {
    "text": "that's what we need to pass into our web socket logic okay",
    "start": "14361840",
    "end": "14367199"
  },
  {
    "text": "so how do we do that let's create a const uh web socket server",
    "start": "14367199",
    "end": "14373760"
  },
  {
    "text": "equal require websocket dot server okay so that's the library",
    "start": "14373760",
    "end": "14379680"
  },
  {
    "text": "i'm gonna use and i'm gonna create a websocket server in this case and to do that we can create a websocket",
    "start": "14379680",
    "end": "14386640"
  },
  {
    "text": "server by doing new websocket server and now what do we in a pass it is a",
    "start": "14386640",
    "end": "14393439"
  },
  {
    "text": "json file and we need to pass it the http server essentially and i think it's",
    "start": "14393439",
    "end": "14398479"
  },
  {
    "text": "case sensitive so we have to do like http server like that and then just pass it that object that",
    "start": "14398479",
    "end": "14404160"
  },
  {
    "text": "we just initialized right and when you do that this has become this guy's property",
    "start": "14404160",
    "end": "14412479"
  },
  {
    "text": "that's it it owns it okay so that's the websocket server in this up until here the",
    "start": "14412479",
    "end": "14418080"
  },
  {
    "text": "websocket server has n we are not listening to a",
    "start": "14418080",
    "end": "14423600"
  },
  {
    "text": "change of the request to upgrade that connection into the websocket so to do that there is something called",
    "start": "14423600",
    "end": "14429920"
  },
  {
    "text": "there's an event there is an event called on request and when you do an on request you get a",
    "start": "14429920",
    "end": "14437920"
  },
  {
    "text": "request object and when you do a request object right you will have a very",
    "start": "14437920",
    "end": "14445600"
  },
  {
    "text": "important thing here the request object here you can accept the connection and we talked about all the protocols",
    "start": "14445600",
    "end": "14452239"
  },
  {
    "text": "you can create your own protocol here i i won't accept any kind of uh warp socket protocol",
    "start": "14452239",
    "end": "14458239"
  },
  {
    "text": "so i'm going to say null and then i can say dot accept the origin right and when you do that you will get",
    "start": "14458239",
    "end": "14464560"
  },
  {
    "text": "a beautiful tcp connection which is this bi-directional thing",
    "start": "14464560",
    "end": "14470399"
  },
  {
    "text": "that you have to capture and you have to keep with you and the each client that's the connect",
    "start": "14470399",
    "end": "14478000"
  },
  {
    "text": "guys by the way that's someone trying to connect that's the first function right and what",
    "start": "14478000",
    "end": "14484560"
  },
  {
    "text": "do we do when we connect we gotta generate a new id for our client okay so that's we're",
    "start": "14484560",
    "end": "14491840"
  },
  {
    "text": "gonna do next okay so we have the connection but this connection is still not enough right because",
    "start": "14491840",
    "end": "14497120"
  },
  {
    "text": "that connection we need to listen on events that happen on that connection so that first event",
    "start": "14497120",
    "end": "14502479"
  },
  {
    "text": "is on so the first event is open what do you want me to do when i open the connection yeah i don't care just",
    "start": "14502479",
    "end": "14509040"
  },
  {
    "text": "say open whatever what do you want me to do when i close",
    "start": "14509040",
    "end": "14514319"
  },
  {
    "text": "the connection probably a good idea to clean things up but let's just say closed okay and the",
    "start": "14514319",
    "end": "14521120"
  },
  {
    "text": "most important one message what do you want me to do when i actually message you",
    "start": "14521120",
    "end": "14526560"
  },
  {
    "text": "and that's the most important function of all of them okay if you if this connection received",
    "start": "14526560",
    "end": "14533760"
  },
  {
    "text": "something from the client i have received a message from the client that's what it",
    "start": "14533760",
    "end": "14541199"
  },
  {
    "text": "means here okay that's where most of our code will live but here this is not activated",
    "start": "14541199",
    "end": "14548319"
  },
  {
    "text": "yet nobody actually sent me a message okay but we need to actually send back",
    "start": "14548319",
    "end": "14554720"
  },
  {
    "text": "uh a connect uh send back the results to the client right with with their client id remember",
    "start": "14554720",
    "end": "14562399"
  },
  {
    "text": "because everything we're going to communicate with json guys remember that's the protocol here we need to",
    "start": "14562399",
    "end": "14568000"
  },
  {
    "text": "create a new unique id for the client who just connected to us okay and how do you do that let's go to",
    "start": "14568000",
    "end": "14575040"
  },
  {
    "text": "grid we're gonna enjoy the grid i'm gonna steal a function for generally good because uh i'm gonna steal this",
    "start": "14575040",
    "end": "14580319"
  },
  {
    "text": "function from stack exchange someone wrote this and i'm just gonna use it to be honest is",
    "start": "14580319",
    "end": "14585600"
  },
  {
    "text": "that grid it's a functional good it's not perfect function but it's just demonstrate that it can generate a",
    "start": "14585600",
    "end": "14591199"
  },
  {
    "text": "unique grid and that's what i want i want to generate a good grid okay and that's that's it sorry",
    "start": "14591199",
    "end": "14596640"
  },
  {
    "text": "so that's where we're going to create a new id okay so let's add some comments here generate a new",
    "start": "14596640",
    "end": "14603359"
  },
  {
    "text": "client id okay and yeah const client id equal good",
    "start": "14603359",
    "end": "14611680"
  },
  {
    "text": "so that's a new brand new client id and what i want to do here is this is where the state the first state",
    "start": "14611680",
    "end": "14620239"
  },
  {
    "text": "we're gonna store is like the list hash map of all the clients and their connections because",
    "start": "14620239",
    "end": "14625600"
  },
  {
    "text": "this grid is now associated with this connection how do i build this thing well",
    "start": "14625600",
    "end": "14633760"
  },
  {
    "text": "we can do it right here const clients and we can do it as an object here right",
    "start": "14633760",
    "end": "14641279"
  },
  {
    "text": "and when you do it as an object it essentially becomes a hash map right",
    "start": "14641279",
    "end": "14647840"
  },
  {
    "text": "well where you do this client id and this will give you kind of the key",
    "start": "14647840",
    "end": "14653439"
  },
  {
    "text": "of that and the object and the value will become the connection or even more information so clients in this",
    "start": "14653439",
    "end": "14660560"
  },
  {
    "text": "case sub client id equal",
    "start": "14660560",
    "end": "14665600"
  },
  {
    "text": "connection and just like that i built a mapping between the connection and the client id",
    "start": "14665600",
    "end": "14672080"
  },
  {
    "text": "we might need to add more information than just the connection itself so i am",
    "start": "14672080",
    "end": "14677920"
  },
  {
    "text": "going to actually make this into an object right and the first value of the",
    "start": "14677920",
    "end": "14683040"
  },
  {
    "text": "object is the connection and we might add something else i'm not",
    "start": "14683040",
    "end": "14688239"
  },
  {
    "text": "quite sure yet maybe the color of the client maybe something else some metadata maybe a nickname right so you don't have",
    "start": "14688239",
    "end": "14694880"
  },
  {
    "text": "to have it one-to-one right so that's it now now the clients is mapped with a connection",
    "start": "14694880",
    "end": "14700640"
  },
  {
    "text": "and that's perfect so next time a client send me the uh the connection or send me a request i",
    "start": "14700640",
    "end": "14706880"
  },
  {
    "text": "can find their connection i can loop through the clients and send everybody uh requests right because i can loop",
    "start": "14706880",
    "end": "14713439"
  },
  {
    "text": "through this very easily okay we're going to show you how as well sweet now we build there that's the",
    "start": "14713439",
    "end": "14720720"
  },
  {
    "text": "connect we need to send back the response to the client how do we do that so let's build",
    "start": "14720720",
    "end": "14726560"
  },
  {
    "text": "a payload right that's with a payload that we're gonna send to the user and what do we do here",
    "start": "14726560",
    "end": "14732640"
  },
  {
    "text": "what was the payload looks like remember guys the method was connect right so someone connected to me",
    "start": "14732640",
    "end": "14740720"
  },
  {
    "text": "right i'm sending this back from the server okay and user",
    "start": "14740720",
    "end": "14745760"
  },
  {
    "text": "is a client okay id and that's your client id okay and how do i send this to the user",
    "start": "14745760",
    "end": "14753359"
  },
  {
    "text": "very simple i have a connection because i am still in this closure right so i can do",
    "start": "14753359",
    "end": "14758560"
  },
  {
    "text": "connection dot send and literally do json.stringify you might say why do you",
    "start": "14758560",
    "end": "14765600"
  },
  {
    "text": "don't send the object directly because it will yell at me right this thing only understand bytes",
    "start": "14765600",
    "end": "14771359"
  },
  {
    "text": "okay json is now really directly correlated with bytes right you have to turn it into something that is a string",
    "start": "14771359",
    "end": "14778000"
  },
  {
    "text": "or numbers or something like that okay so once you turn it into a string you send it back and then we're gonna",
    "start": "14778000",
    "end": "14784720"
  },
  {
    "text": "parse it okay this is the protocol that i'm talking about we are agreeing that the server and the",
    "start": "14784720",
    "end": "14790560"
  },
  {
    "text": "client are stoking jason here right that's kind of an implicit contract that we have",
    "start": "14790560",
    "end": "14796080"
  },
  {
    "text": "okay send back the client connect right so that's the first thing we did",
    "start": "14796080",
    "end": "14803120"
  },
  {
    "text": "client connect sir client connect we still don't have a client to be honest so we have still have a server",
    "start": "14803120",
    "end": "14809840"
  },
  {
    "text": "so we have this and uh that's it let's do one thing before we actually",
    "start": "14809840",
    "end": "14815120"
  },
  {
    "text": "start testing this thing message okay when you receive a message there is something called utf-8 data that's the",
    "start": "14815120",
    "end": "14821600"
  },
  {
    "text": "data that the server will receive if you send something from the client to the server",
    "start": "14821600",
    "end": "14826800"
  },
  {
    "text": "you receive it here and i am going to assume that",
    "start": "14826800",
    "end": "14832640"
  },
  {
    "text": "uh response",
    "start": "14832720",
    "end": "14836720"
  },
  {
    "text": "result right if i do the result here and i do json.pours this is",
    "start": "14838399",
    "end": "14845120"
  },
  {
    "text": "big you're assuming that everything that is sent is actually adjacent so this might fail",
    "start": "14845120",
    "end": "14850640"
  },
  {
    "text": "if you have a bad client that actually didn't send a json said something else right but i'm i all my clients are good",
    "start": "14850640",
    "end": "14857760"
  },
  {
    "text": "clients so i would assume that they are sending json okay i have received a message from the",
    "start": "14857760",
    "end": "14862880"
  },
  {
    "text": "client here and let's just uh oh no let's just print it here okay let's just print",
    "start": "14862880",
    "end": "14868560"
  },
  {
    "text": "result which is the json object in this case how about that",
    "start": "14868560",
    "end": "14873680"
  },
  {
    "text": "how about we test this thing guys right so all we did is we created a server we created a",
    "start": "14873680",
    "end": "14880159"
  },
  {
    "text": "hashmap for the clients right and we're accepting the request",
    "start": "14880159",
    "end": "14885520"
  },
  {
    "text": "and we did implement the first thing which is the connect right which returns the client id and tells us",
    "start": "14885520",
    "end": "14891120"
  },
  {
    "text": "which method right so the client can actually listen to that and do stuff with it how about we test",
    "start": "14891120",
    "end": "14897680"
  },
  {
    "text": "so if i run here i'm accepting i'm expecting that i'm going to yell guilty ldap and because of",
    "start": "14897680",
    "end": "14903520"
  },
  {
    "text": "who cannot find more devops socket right that makes sense we didn't install",
    "start": "14903520",
    "end": "14909760"
  },
  {
    "text": "this guy so how do we install npm install whoop socket that's not hard",
    "start": "14909760",
    "end": "14917359"
  },
  {
    "text": "at all now we ran oh",
    "start": "14917359",
    "end": "14923840"
  },
  {
    "text": "we're gonna yell that for some other reasons now all right 1990 we're listening",
    "start": "14923840",
    "end": "14930800"
  },
  {
    "text": "sweet so now we have the server how do we actually test this thing we need a client right so let's build the client guys the",
    "start": "14930800",
    "end": "14937040"
  },
  {
    "text": "client is i think about an html page index.html okay and html5 will give us",
    "start": "14937040",
    "end": "14944159"
  },
  {
    "text": "like the template for the html5 thing okay and",
    "start": "14944159",
    "end": "14949199"
  },
  {
    "text": "we need to actually connect and you can assume that the moment you open the browser we can",
    "start": "14949199",
    "end": "14956080"
  },
  {
    "text": "actually directly connect bad idea to be honest but we're still testing so",
    "start": "14956080",
    "end": "14963359"
  },
  {
    "text": "sure so i'm gonna write a script so that it will automatically connect",
    "start": "14963359",
    "end": "14970560"
  },
  {
    "text": "to the websocket right when it first opened the page right so equal new",
    "start": "14970560",
    "end": "14976720"
  },
  {
    "text": "op socket ws localhost again not a good idea to do a",
    "start": "14976720",
    "end": "14983680"
  },
  {
    "text": "localhost we can use the host name in this case but we're in the same machine so this might work",
    "start": "14983680",
    "end": "14989279"
  },
  {
    "text": "so ws dot the event on the client now on message",
    "start": "14989279",
    "end": "14997359"
  },
  {
    "text": "if the user sent me that the server sent me a message what do you want me to do okay i want to",
    "start": "14997359",
    "end": "15005359"
  },
  {
    "text": "see that message the message.data is actually the string that the server has sent okay",
    "start": "15005359",
    "end": "15014239"
  },
  {
    "text": "and what did we decide guys anything that comes from the server should be json that's the contract",
    "start": "15014239",
    "end": "15020399"
  },
  {
    "text": "between me and the client and the server so if i can i can safely do that response equal json.parse",
    "start": "15020399",
    "end": "15029841"
  },
  {
    "text": "message.data just bring me everything from the client from the server so now i have response and i can just",
    "start": "15030040",
    "end": "15038080"
  },
  {
    "text": "decide to print it how about that let's just print what we received from the client as as a console output",
    "start": "15038080",
    "end": "15046000"
  },
  {
    "text": "yeah how about we test that thing and there's one small thing guys one small thing",
    "start": "15046000",
    "end": "15052720"
  },
  {
    "text": "what i want to do is serve this html page but this html page have to be served how do",
    "start": "15052720",
    "end": "15058239"
  },
  {
    "text": "you serve things right you can decide to serve it with http but",
    "start": "15058239",
    "end": "15063680"
  },
  {
    "text": "why not just use express right app equal require express boom so i'm gonna just serve",
    "start": "15063680",
    "end": "15071279"
  },
  {
    "text": "this page on another port uh with express so what i'm gonna do is",
    "start": "15071279",
    "end": "15076560"
  },
  {
    "text": "app.listen 1991. is the port that",
    "start": "15076560",
    "end": "15082159"
  },
  {
    "text": "will actually host the page okay so that's the page we visit in order just to get the",
    "start": "15082159",
    "end": "15087760"
  },
  {
    "text": "html and the html page will have a code to actually connect to port 909.99",
    "start": "15087760",
    "end": "15094000"
  },
  {
    "text": "1990 okay and that's just like a console.log and listening on http port because",
    "start": "15094000",
    "end": "15101279"
  },
  {
    "text": "that's just another one okay 1991 right and obviously",
    "start": "15101279",
    "end": "15106479"
  },
  {
    "text": "we need app.get when someone visits slash just give them request",
    "start": "15106479",
    "end": "15114239"
  },
  {
    "text": "response and immediately response dot send file index.html how do you do that",
    "start": "15114239",
    "end": "15122960"
  },
  {
    "text": "diy name there index.html this will immediately",
    "start": "15122960",
    "end": "15128399"
  },
  {
    "text": "send that and we have done so much of that stuff right so i'm i'm just not going through easy stuff here i'm trying",
    "start": "15128399",
    "end": "15134159"
  },
  {
    "text": "to explain the complexity stuff all right so this will serve me the html page right",
    "start": "15134159",
    "end": "15139199"
  },
  {
    "text": "so how about we do that if i run this now we'll be listening to two parts 1990",
    "start": "15139199",
    "end": "15145040"
  },
  {
    "text": "1991 okay 1991 is where we're going to visit now where we actually can consume all",
    "start": "15145040",
    "end": "15150720"
  },
  {
    "text": "right so now if i go http localhost 90 91",
    "start": "15150720",
    "end": "15157600"
  },
  {
    "text": "right which is the express page i'll be served the html code right and let's just for fun let's add",
    "start": "15157600",
    "end": "15166159"
  },
  {
    "text": "something in the html so we know that it's actually a page right header one it's like ah",
    "start": "15166159",
    "end": "15173279"
  },
  {
    "text": "ball game whatever right when i restart there you go ball game",
    "start": "15173279",
    "end": "15180640"
  },
  {
    "text": "and when i go to the developer tools here let's see what we have here where we're going hey we got something",
    "start": "15180640",
    "end": "15187760"
  },
  {
    "text": "back guys it worked",
    "start": "15187760",
    "end": "15193120"
  },
  {
    "text": "remember what happened here right let's actually debug to show actually i can show you if i look at the code here and i do this",
    "start": "15193120",
    "end": "15201439"
  },
  {
    "text": "the moment i serve this page i get this page the code will start executing which is",
    "start": "15201439",
    "end": "15206560"
  },
  {
    "text": "the script which will make a request to the websocket which will immediately get a a response",
    "start": "15206560",
    "end": "15212560"
  },
  {
    "text": "from the client from the server giving the client its own unique id so how about we debug this if i do this",
    "start": "15212560",
    "end": "15219199"
  },
  {
    "text": "the moment you refresh you can actually debug right you get a boof create a websocket success right",
    "start": "15219199",
    "end": "15227279"
  },
  {
    "text": "because it's a local host it's on the same machine that will work and then create the event and then once we create the event the",
    "start": "15227279",
    "end": "15233840"
  },
  {
    "text": "server actually already responded oh god damn grammarly all right and now this is what it responded to",
    "start": "15233840",
    "end": "15239199"
  },
  {
    "text": "respond with a json object which we parsed successfully into an actual json object now saying that",
    "start": "15239199",
    "end": "15246399"
  },
  {
    "text": "method is connect and client is actually this thing and we printed it how coolish is this",
    "start": "15246399",
    "end": "15254319"
  },
  {
    "text": "guy how just coolish now we have the client id i want to keep the client id handy for",
    "start": "15254319",
    "end": "15261279"
  },
  {
    "text": "me okay in in the in in the script so i'm gonna",
    "start": "15261279",
    "end": "15266319"
  },
  {
    "text": "create let client id equal no here and when i set it here i want to get the",
    "start": "15266319",
    "end": "15273680"
  },
  {
    "text": "client id and save it in my global namespace here so what do i",
    "start": "15273680",
    "end": "15278960"
  },
  {
    "text": "do if response dot method and i can do that because",
    "start": "15278960",
    "end": "15284080"
  },
  {
    "text": "i built the protocol right equal equal equal connect was it lowercase or uppercase i",
    "start": "15284080",
    "end": "15290720"
  },
  {
    "text": "don't remember if that's the connect method that's the first thing we're building",
    "start": "15290720",
    "end": "15297359"
  },
  {
    "text": "right if the connect method then the client id called response.clientid",
    "start": "15297359",
    "end": "15303680"
  },
  {
    "text": "that's it we built it console.log client id set successfully",
    "start": "15303680",
    "end": "15310640"
  },
  {
    "text": "and we can just do plus client id cool now i know myself so now",
    "start": "15310640",
    "end": "15317199"
  },
  {
    "text": "every request that i send actually i can send my client id to the server which is",
    "start": "15317199",
    "end": "15324159"
  },
  {
    "text": "amazing amazing okay now we we're building some sort of",
    "start": "15324159",
    "end": "15330640"
  },
  {
    "text": "almost like a bi-directional thing so we build the connect i think we're ready with the connect we can move on run",
    "start": "15330640",
    "end": "15337840"
  },
  {
    "text": "refresh you can see",
    "start": "15338880",
    "end": "15344000"
  },
  {
    "text": "client id sits successfully and that's my client id amazing it's a normal grid that we",
    "start": "15344840",
    "end": "15350560"
  },
  {
    "text": "generated what's the next step guys what are we to build next this is what we need to build next create",
    "start": "15350560",
    "end": "15355760"
  },
  {
    "text": "game right so we need to make a request from the client like this could be a button right",
    "start": "15355760",
    "end": "15362960"
  },
  {
    "text": "that says create a game that actually sends this to the server how about we do that that",
    "start": "15362960",
    "end": "15369040"
  },
  {
    "text": "doesn't sound hard let's do the client code first so to do the client for code first we go to the steamer right",
    "start": "15369040",
    "end": "15374640"
  },
  {
    "text": "and it's a button so button id equal button create right and they say",
    "start": "15374640",
    "end": "15381760"
  },
  {
    "text": "new game how about that",
    "start": "15381760",
    "end": "15385120"
  },
  {
    "text": "new game and this is the buttons what i want to do here is just build a",
    "start": "15387600",
    "end": "15394800"
  },
  {
    "text": "list of all my buttons here button create equal document or get element by id",
    "start": "15394800",
    "end": "15401120"
  },
  {
    "text": "button create right i'm only using plain beautiful javascript stuff nothing",
    "start": "15401120",
    "end": "15407439"
  },
  {
    "text": "else okay once we do that right that's just like i said i don't know buttons",
    "start": "15407439",
    "end": "15413120"
  },
  {
    "text": "or html elements we can call it right and then we start wiring the",
    "start": "15413120",
    "end": "15419040"
  },
  {
    "text": "events button create dot add event listener",
    "start": "15419040",
    "end": "15425920"
  },
  {
    "text": "e if someone clicks on me what do you want me to do i want you to send a request sir okay",
    "start": "15425920",
    "end": "15433920"
  },
  {
    "text": "and here's the thing guys this actually needs to be up this needs to be up here and i'll tell",
    "start": "15433920",
    "end": "15439760"
  },
  {
    "text": "you why because i'm gonna use ws all right so what do you want to do",
    "start": "15439760",
    "end": "15445120"
  },
  {
    "text": "we're going to build the payload right how does the payload look like we're going to method",
    "start": "15445120",
    "end": "15450560"
  },
  {
    "text": "and the method is create right i'm going to create a new game who are you i am this guy client id",
    "start": "15450560",
    "end": "15460239"
  },
  {
    "text": "that's the only two pieces of information that we need we're gonna send this to the server how do we send this to the server",
    "start": "15460239",
    "end": "15466399"
  },
  {
    "text": "ws which is the websocket that we created dot send and we're gonna jason.s stringify",
    "start": "15466399",
    "end": "15474800"
  },
  {
    "text": "payload is in this awesome guys so we're gonna send the request to create a game to the server the server",
    "start": "15474800",
    "end": "15481520"
  },
  {
    "text": "has no idea what the hell is a create method so we have to teach it all that stuff",
    "start": "15481520",
    "end": "15487199"
  },
  {
    "text": "coolish coolish all right so we're sending that thing still this is useless let's build a",
    "start": "15487199",
    "end": "15492399"
  },
  {
    "text": "server piece here okay and you can choose to build all the client pieces or the server piece you",
    "start": "15492399",
    "end": "15498319"
  },
  {
    "text": "can build the server and the client in parallel it's up to you really right normally this is",
    "start": "15498319",
    "end": "15503600"
  },
  {
    "text": "in a scrum system this uh this will be like kind of its own issues",
    "start": "15503600",
    "end": "15509600"
  },
  {
    "text": "and each each each developer will pick one and work on it right",
    "start": "15509600",
    "end": "15515040"
  },
  {
    "text": "so one message here that's the interesting part right and we",
    "start": "15515040",
    "end": "15521120"
  },
  {
    "text": "will receive that i'm not going to print anything what we want to do here if result dot",
    "start": "15521120",
    "end": "15527760"
  },
  {
    "text": "method equal equal equal create if someone want to create",
    "start": "15527760",
    "end": "15534720"
  },
  {
    "text": "right a user want to create a new game",
    "start": "15534720",
    "end": "15542720"
  },
  {
    "text": "so we're recreating a new game first of all who the heck are you",
    "start": "15542720",
    "end": "15548000"
  },
  {
    "text": "right who the heck are you i want to know who you are fair enough that's who i am client id",
    "start": "15548000",
    "end": "15554319"
  },
  {
    "text": "result of client id is who i am okay so you can know your client",
    "start": "15554319",
    "end": "15559439"
  },
  {
    "text": "very simply like that so this is you right but you want to create a game okay",
    "start": "15559439",
    "end": "15566880"
  },
  {
    "text": "and i am responsible to create actually a new game for you so i'm gonna create a new game id here and it's just a random grid",
    "start": "15566880",
    "end": "15575600"
  },
  {
    "text": "okay just create a new grid that's it once we create a new grid that",
    "start": "15575600",
    "end": "15582000"
  },
  {
    "text": "will that's just the quit that's just the idea of the game i need way more information what do we",
    "start": "15582000",
    "end": "15588640"
  },
  {
    "text": "need else we need the idea of the game and how many balls the game have and",
    "start": "15588640",
    "end": "15593760"
  },
  {
    "text": "that's pretty much it i think we don't need more information that's the game state it's a game object",
    "start": "15593760",
    "end": "15599680"
  },
  {
    "text": "that we need to return so we're going to return method create and we're going to return the game state",
    "start": "15599680",
    "end": "15606399"
  },
  {
    "text": "and we better have this game state handy huh so looks like another hash map right guys",
    "start": "15606399",
    "end": "15612880"
  },
  {
    "text": "so how about we build that so right here i can do games equal this",
    "start": "15612880",
    "end": "15617920"
  },
  {
    "text": "very similarly right and i can say games sub game id equal",
    "start": "15617920",
    "end": "15626000"
  },
  {
    "text": "object and i can start building this thing right i can do id of the game is game id",
    "start": "15626000",
    "end": "15635600"
  },
  {
    "text": "what else was there balls",
    "start": "15636000",
    "end": "15641439"
  },
  {
    "text": "20 hardcoded just 20 games 20 20 cells we return to the server",
    "start": "15641439",
    "end": "15649040"
  },
  {
    "text": "and the method really that that's the payload we're gonna take care of that right later okay",
    "start": "15649040",
    "end": "15655359"
  },
  {
    "text": "but that yeah that's that's essentially it that's the only two pieces of information that we actually need all right and that's it so let's",
    "start": "15655359",
    "end": "15663359"
  },
  {
    "text": "build a payload right so let's pay build the payload and the payload is method create",
    "start": "15663359",
    "end": "15671439"
  },
  {
    "text": "and the game is actually this right hold that's the",
    "start": "15671439",
    "end": "15678319"
  },
  {
    "text": "actual object which has the game which will have the game id and balls that's that's okay",
    "start": "15678319",
    "end": "15683920"
  },
  {
    "text": "and that's it i think that's the two information that we need from the user right to the user and then here",
    "start": "15683920",
    "end": "15691840"
  },
  {
    "text": "i need the connection where do we can get the connection here the safest way is actually to use the client id to",
    "start": "15691840",
    "end": "15697600"
  },
  {
    "text": "retrieve the connection but otherwise i have no idea where is this connection right you can use closures to",
    "start": "15697600",
    "end": "15702800"
  },
  {
    "text": "actually get a handle to this but it's just safer to actually know what you're doing",
    "start": "15702800",
    "end": "15709120"
  },
  {
    "text": "okay plus when you move to as uh a scalable format a scalable",
    "start": "15709120",
    "end": "15715279"
  },
  {
    "text": "architecture where multiple servers have multiple ids this you're going to need to i uniquely identify the client",
    "start": "15715279",
    "end": "15721680"
  },
  {
    "text": "and so you can retrieve which server actually had the connection so that's actually always a better idea so",
    "start": "15721680",
    "end": "15729040"
  },
  {
    "text": "i can do like a connect cons connection equal",
    "start": "15729040",
    "end": "15736319"
  },
  {
    "text": "clients of client id dot connection right that will give me the",
    "start": "15736319",
    "end": "15743040"
  },
  {
    "text": "connection id remember because that's the object that we received it's an object",
    "start": "15743040",
    "end": "15748720"
  },
  {
    "text": "within with a with a key called connection that will give me the connection right and once i get the connection i",
    "start": "15748720",
    "end": "15755120"
  },
  {
    "text": "can do send right json.string5 always stringify when",
    "start": "15755120",
    "end": "15760319"
  },
  {
    "text": "we send we always parse when we receive okay and then we send back the payload which",
    "start": "15760319",
    "end": "15767279"
  },
  {
    "text": "is this thing okay now this will create a new game and you know you might say hussein we still don't see beautiful stuff it",
    "start": "15767279",
    "end": "15773680"
  },
  {
    "text": "will come it will come yeah we'll come everything will come so we have the client we on the server",
    "start": "15773680",
    "end": "15779840"
  },
  {
    "text": "okay so the server sent this create but we never actually",
    "start": "15779840",
    "end": "15784880"
  },
  {
    "text": "listened coding code listened to a method for the create so what do you",
    "start": "15784880",
    "end": "15790880"
  },
  {
    "text": "want me to do when i receive the create command when someone when the when the server",
    "start": "15790880",
    "end": "15797680"
  },
  {
    "text": "sends the information to the client which is a create right that's clam html right i'm the",
    "start": "15797680",
    "end": "15804000"
  },
  {
    "text": "client every time i say html i'm a client index.js is the server okay i",
    "start": "15804000",
    "end": "15809920"
  },
  {
    "text": "what do i want to do here the response in this case i'm creating i will say",
    "start": "15809920",
    "end": "15818319"
  },
  {
    "text": "just game successfully created with id",
    "start": "15818319",
    "end": "15825198"
  },
  {
    "text": "response.game.id right and we can just print the whole state we can do that i guess right",
    "start": "15827960",
    "end": "15836319"
  },
  {
    "text": "game doubles like we can we can even say uh with",
    "start": "15836319",
    "end": "15844318"
  },
  {
    "text": "response to game.balls balls",
    "start": "15844880",
    "end": "15851840"
  },
  {
    "text": "sweet i should stop saying balls and you change it to cells i know you",
    "start": "15851840",
    "end": "15857439"
  },
  {
    "text": "guys are giggling right now all right let's do this thing",
    "start": "15857439",
    "end": "15862960"
  },
  {
    "text": "refresh hey we have a shiny new button called new game well what was that when",
    "start": "15862960",
    "end": "15869680"
  },
  {
    "text": "i visited i got a client id and if i say new game a game",
    "start": "15869680",
    "end": "15874720"
  },
  {
    "text": "successfully created with id burberry with 20 balls nice nice i have this id",
    "start": "15874720",
    "end": "15881600"
  },
  {
    "text": "we can start by just literally copy and paste the game id right that's not hard let's",
    "start": "15881600",
    "end": "15888960"
  },
  {
    "text": "start with that without doing the whole url which is a little bit tricky let's just do",
    "start": "15888960",
    "end": "15894080"
  },
  {
    "text": "a copy and paste of the game id and that will actually allow us to join a game how about we build join game",
    "start": "15894080",
    "end": "15899920"
  },
  {
    "text": "join game guys to join a game you need to send out a quest and that's the little bit tricky part to join a game",
    "start": "15899920",
    "end": "15908000"
  },
  {
    "text": "you make a request and you tell me the method join the client id",
    "start": "15908000",
    "end": "15914720"
  },
  {
    "text": "what are who are you good and the game id which game you want to join and when you",
    "start": "15914720",
    "end": "15920080"
  },
  {
    "text": "do that i will send this information to the",
    "start": "15920080",
    "end": "15926000"
  },
  {
    "text": "server and the server will respond with the join to all active game participants",
    "start": "15926000",
    "end": "15934080"
  },
  {
    "text": "with a color assigned to the game so this is the most complex code let's let's let's start writing it so sending",
    "start": "15934080",
    "end": "15940880"
  },
  {
    "text": "that join go my mid so how do i do the game id i'm not going to complicate it i'm going",
    "start": "15940880",
    "end": "15946239"
  },
  {
    "text": "to have a text box where you paste the game id and click join so how about we build the client first and then we build",
    "start": "15946239",
    "end": "15952080"
  },
  {
    "text": "a server so i'm gonna build another button called join game",
    "start": "15952080",
    "end": "15959920"
  },
  {
    "text": "button join and i'm going to build input text type equal text",
    "start": "15959920",
    "end": "15967520"
  },
  {
    "text": "an id equal text game id just a game id really where you can just",
    "start": "15967520",
    "end": "15974000"
  },
  {
    "text": "paste it here right here it's just uh literally nothing fancy",
    "start": "15974000",
    "end": "15980000"
  },
  {
    "text": "and that's the idea of the game id right now that that's where we were",
    "start": "15980000",
    "end": "15985760"
  },
  {
    "text": "going to get the game all day from okay we're gonna do this this uh button join",
    "start": "15985760",
    "end": "15992960"
  },
  {
    "text": "equal button join and text uh game id just uh these regular stuff guys",
    "start": "15992960",
    "end": "16000000"
  },
  {
    "text": "you know all that stuff right stuff rocket science everything is simple so",
    "start": "16000000",
    "end": "16005359"
  },
  {
    "text": "far let's wire the event for button join dot add event listener",
    "start": "16005359",
    "end": "16014000"
  },
  {
    "text": "join what do you want me to do and join we're going to send it a quiz we'll come to that okay but we need to get",
    "start": "16016159",
    "end": "16023199"
  },
  {
    "text": "right let's send let's send this let's just copy and paste here we're going to send that payload it's",
    "start": "16023199",
    "end": "16028640"
  },
  {
    "text": "not created we're joining right what else do you want spent that client i need the client id i need i need you",
    "start": "16028640",
    "end": "16034080"
  },
  {
    "text": "right i also need the game id what's the game id guys there's something we missed we",
    "start": "16034080",
    "end": "16040479"
  },
  {
    "text": "missed to actually store the game id in a nice variable up there okay so",
    "start": "16040479",
    "end": "16046159"
  },
  {
    "text": "let's store game id equal null here and then when we join",
    "start": "16046159",
    "end": "16054399"
  },
  {
    "text": "right when we receive a message of create we're gonna get the game id and that",
    "start": "16054399",
    "end": "16059920"
  },
  {
    "text": "game id called response.game.id that's very important to actually save the game id so we can",
    "start": "16059920",
    "end": "16066399"
  },
  {
    "text": "globally access it in the client right sweet now i can just say this",
    "start": "16066399",
    "end": "16073359"
  },
  {
    "text": "because i have access to it it's right there right and we know if if if you want to join the button there",
    "start": "16073359",
    "end": "16080000"
  },
  {
    "text": "this is one case when you actually create the game and join it right when you create a game",
    "start": "16080000",
    "end": "16087120"
  },
  {
    "text": "you want to actually populate that text box with the actual game id",
    "start": "16087120",
    "end": "16092319"
  },
  {
    "text": "right so that's one way or you can save it as we did but if you actually open a new page and",
    "start": "16092319",
    "end": "16098399"
  },
  {
    "text": "you click join you're going to get an error because game id is now so what do we do here if game id",
    "start": "16098399",
    "end": "16104720"
  },
  {
    "text": "right is not like or if it's null then actually you might be a good idea",
    "start": "16104720",
    "end": "16112880"
  },
  {
    "text": "to actually read it from the text right which is what text game id the value game id equal this",
    "start": "16112880",
    "end": "16120800"
  },
  {
    "text": "just read it from there if it's now if it's not then like i created the same i created the game from the same",
    "start": "16120800",
    "end": "16128560"
  },
  {
    "text": "page then i uh this will be populated right so i have this and we can send it over",
    "start": "16128560",
    "end": "16135840"
  },
  {
    "text": "send the payload i think that's all we need it's a join that's it",
    "start": "16135840",
    "end": "16143120"
  },
  {
    "text": "what do we write on the server there a server on the other hand will be expecting a join request oh",
    "start": "16143120",
    "end": "16150960"
  },
  {
    "text": "fancy that's uh okay why do we do that here we have a create method right and that's",
    "start": "16150960",
    "end": "16158000"
  },
  {
    "text": "it we don't have anything else so how about we do another method boom if",
    "start": "16158000",
    "end": "16166159"
  },
  {
    "text": "the server want to join not the server the client a client want to join if the card want",
    "start": "16167600",
    "end": "16174880"
  },
  {
    "text": "to join in this case let's",
    "start": "16174880",
    "end": "16180159"
  },
  {
    "text": "what do we need to do right we need const client id i need to know who you are so response dot client id",
    "start": "16180159",
    "end": "16188159"
  },
  {
    "text": "i need to i know what game you want right game id right and that's the two",
    "start": "16188159",
    "end": "16195040"
  },
  {
    "text": "information that we have if you're joining a game it's probably in the array of lists and",
    "start": "16195040",
    "end": "16201439"
  },
  {
    "text": "guys there will be a lot of things i have missed right a lot of bugs a lot of bugs but you guys are good",
    "start": "16201439",
    "end": "16209040"
  },
  {
    "text": "you're gonna you're gonna take care of a lot of stuff for me so how do i get the game i get the game",
    "start": "16209040",
    "end": "16215040"
  },
  {
    "text": "object by saying const game equal games off game id okay that will give me the game object",
    "start": "16215040",
    "end": "16222319"
  },
  {
    "text": "and now i need to also get the connection right the actual connection",
    "start": "16222319",
    "end": "16227680"
  },
  {
    "text": "the user connection so now this client is actually joining the game okay well we need to",
    "start": "16227680",
    "end": "16233840"
  },
  {
    "text": "assign a color for this client in order to assign a color for this client we need to know",
    "start": "16233840",
    "end": "16239840"
  },
  {
    "text": "how many actual clients are there in this game well game.clients is actually empty if we",
    "start": "16239840",
    "end": "16246000"
  },
  {
    "text": "think about it right because i don't even believe we actually set that thing so it might be a good idea",
    "start": "16246000",
    "end": "16252080"
  },
  {
    "text": "when we actually build that game object here to actually build an empty array",
    "start": "16252080",
    "end": "16258319"
  },
  {
    "text": "right which is always when you create a game sit then clients which is an empty",
    "start": "16258319",
    "end": "16265520"
  },
  {
    "text": "there's no not a single client and that's important because i'm lazy",
    "start": "16265520",
    "end": "16271120"
  },
  {
    "text": "because i want i don't want to check for things like if it's null or not i mean with optional chaining which is",
    "start": "16271120",
    "end": "16278560"
  },
  {
    "text": "should be there it should be easy but you know me guys you know me by now right",
    "start": "16278560",
    "end": "16283600"
  },
  {
    "text": "i'm lazy all right so what we want to do here is",
    "start": "16283600",
    "end": "16288960"
  },
  {
    "text": "dot length will tell us what color what what how many clients do",
    "start": "16288960",
    "end": "16296159"
  },
  {
    "text": "you have and based on that we can just assign you the color",
    "start": "16296159",
    "end": "16302880"
  },
  {
    "text": "how do we do that okay there are some tricks up my sleeve uh some hacky tricks like",
    "start": "16302880",
    "end": "16309520"
  },
  {
    "text": "this right i can do less right red",
    "start": "16309520",
    "end": "16315840"
  },
  {
    "text": "there are many ways this is just one of them red one is green",
    "start": "16319199",
    "end": "16326800"
  },
  {
    "text": "and two is blue i'm assuming just three colors right and if i do this",
    "start": "16326800",
    "end": "16333279"
  },
  {
    "text": "and i do sub this what will i have guys this",
    "start": "16333279",
    "end": "16342479"
  },
  {
    "text": "will be the subset 0 in this case will give me red 1 will",
    "start": "16342479",
    "end": "16348399"
  },
  {
    "text": "give me this 2 will give me this but if it's more than 3 i need to fail if",
    "start": "16348399",
    "end": "16356000"
  },
  {
    "text": "greater than three actually greater than or equal three",
    "start": "16356000",
    "end": "16361920"
  },
  {
    "text": "then sorry",
    "start": "16361920",
    "end": "16368479"
  },
  {
    "text": "max players reached right i just decided to do three right and it's a good idea to have a",
    "start": "16368479",
    "end": "16373600"
  },
  {
    "text": "limit on your players you don't have to but your web server will run out of memory at some point",
    "start": "16373600",
    "end": "16379920"
  },
  {
    "text": "right and then you can do const color let's see if this is goes there okay that'll go the way now okay",
    "start": "16379920",
    "end": "16386000"
  },
  {
    "text": "so now this is the color gives me the color of the player okay and did you get the idea here what",
    "start": "16386000",
    "end": "16391119"
  },
  {
    "text": "i did like it's just a trick guys yeah just one of the trick so now this will give me the color of the",
    "start": "16391119",
    "end": "16396480"
  },
  {
    "text": "player where do i store this color of the player well along with the player right",
    "start": "16396480",
    "end": "16401600"
  },
  {
    "text": "i'm assuming so we got the game here how about we actually update the game",
    "start": "16401600",
    "end": "16407279"
  },
  {
    "text": "state here right because we need to game dot client dot push see i mean this",
    "start": "16407279",
    "end": "16412561"
  },
  {
    "text": "is an array right i'm gonna push another an object and the object is client id",
    "start": "16412561",
    "end": "16420639"
  },
  {
    "text": "which is client id right and color what color are you sad what color",
    "start": "16420639",
    "end": "16428080"
  },
  {
    "text": "are you this is exactly what we returned guys if you remember this is just an array of all the clients",
    "start": "16428080",
    "end": "16434400"
  },
  {
    "text": "and this is there sweet we built this thing",
    "start": "16434400",
    "end": "16439439"
  },
  {
    "text": "now right we can just decide to return for example here just like yeah",
    "start": "16439439",
    "end": "16445279"
  },
  {
    "text": "just exit now i want to send this thing back to all players",
    "start": "16445279",
    "end": "16454240"
  },
  {
    "text": "wow what how do i do that well not very hard you can do this",
    "start": "16454240",
    "end": "16461439"
  },
  {
    "text": "for each loop through all the array that you currently have okay and if there are some clients",
    "start": "16461439",
    "end": "16468240"
  },
  {
    "text": "already you're going to loop through all of the clients right and see look through all clients",
    "start": "16468240",
    "end": "16475199"
  },
  {
    "text": "loop through all clients and tell them that people has joined",
    "start": "16475199",
    "end": "16482879"
  },
  {
    "text": "so some new game players have joined and we have a client this is c which is this",
    "start": "16482879",
    "end": "16489279"
  },
  {
    "text": "right i need to get c dot client id right and i need to get that",
    "start": "16489279",
    "end": "16497600"
  },
  {
    "text": "connection of that guy dot send and i am gonna send jason.stringify",
    "start": "16497600",
    "end": "16504639"
  },
  {
    "text": "i'm gonna send the game not the game actually i need a payload did i prepare a payload uh i didn't prepare",
    "start": "16504639",
    "end": "16511680"
  },
  {
    "text": "the payload let me let me prepare a payload maybe it's a good idea to prepare the payload right here not really it's just",
    "start": "16511680",
    "end": "16517279"
  },
  {
    "text": "the exact same payload so we can just do that payload the method is",
    "start": "16517279",
    "end": "16523359"
  },
  {
    "text": "join and the game state is game haha exactly",
    "start": "16523359",
    "end": "16531760"
  },
  {
    "text": "and then stringify the whole payload and send it sounds good right because that's the game id bull",
    "start": "16531760",
    "end": "16537680"
  },
  {
    "text": "clients grid and color sweet all right how about we test this",
    "start": "16537680",
    "end": "16543119"
  },
  {
    "text": "beast all right",
    "start": "16543119",
    "end": "16548799"
  },
  {
    "text": "when i run this now what we're gonna do we're gonna join right first we're gonna create a game",
    "start": "16549359",
    "end": "16555439"
  },
  {
    "text": "and then join it so refresh",
    "start": "16555439",
    "end": "16561119"
  },
  {
    "text": "let's remove the breakpoints create a new game",
    "start": "16561279",
    "end": "16566719"
  },
  {
    "text": "that just created a new game that is the game id",
    "start": "16567119",
    "end": "16572639"
  },
  {
    "text": "i am going to join the game i didn't get anything back",
    "start": "16572639",
    "end": "16580799"
  },
  {
    "text": "from the server oh there's an error response is not defined ooh and the server crashed",
    "start": "16580799",
    "end": "16588400"
  },
  {
    "text": "response is not defined where did we do sir what did we do why is response not",
    "start": "16589039",
    "end": "16594480"
  },
  {
    "text": "defined why is response not divine result why",
    "start": "16594480",
    "end": "16601119"
  },
  {
    "text": "did i say response uh",
    "start": "16601119",
    "end": "16606160"
  },
  {
    "text": "a problem okay do it again refresh",
    "start": "16606160",
    "end": "16613680"
  },
  {
    "text": "new game join and crush the again cannot read property",
    "start": "16613680",
    "end": "16620320"
  },
  {
    "text": "connection of undefined we'll get to it we'll get to it maybe this is undefined right",
    "start": "16620320",
    "end": "16626320"
  },
  {
    "text": "so let's check where do we have here what do we have here it's time to actually debug guys right",
    "start": "16626320",
    "end": "16632080"
  },
  {
    "text": "let's just this is the bug have a break point refresh this babe",
    "start": "16632080",
    "end": "16637119"
  },
  {
    "text": "new game and all good and join we will should get out of here result",
    "start": "16637119",
    "end": "16643680"
  },
  {
    "text": "the client id oh coin that is not defined why okay guys i think i found the problem is that",
    "start": "16643680",
    "end": "16651119"
  },
  {
    "text": "on the create we actually expected a client id from the server",
    "start": "16651119",
    "end": "16657119"
  },
  {
    "text": "which is wrong right we shouldn't do that guys that's the bug",
    "start": "16657119",
    "end": "16662240"
  },
  {
    "text": "took me a while to find out but yeah we did it we did find it so that's the bug we are we we're taking",
    "start": "16662240",
    "end": "16668879"
  },
  {
    "text": "the response from the create protocol and we are assuming there is a client are we overriding our good client",
    "start": "16668879",
    "end": "16674799"
  },
  {
    "text": "id to undefined bad just remove that stuff hopefully that will do the trick",
    "start": "16674799",
    "end": "16684080"
  },
  {
    "text": "refresh right new game",
    "start": "16684080",
    "end": "16690719"
  },
  {
    "text": "join game boom boom boom that will take us to the server anytime",
    "start": "16690719",
    "end": "16696799"
  },
  {
    "text": "soon yep there you go we have a client id now yay",
    "start": "16696799",
    "end": "16702561"
  },
  {
    "text": "got the game id let's get the hash map get the game",
    "start": "16702959",
    "end": "16709520"
  },
  {
    "text": "there is no client zero is the client's greater than zero nope we still have it get the color which",
    "start": "16709520",
    "end": "16715520"
  },
  {
    "text": "color do we get we got red the trick worked you got the idea right because it's zero it's gonna find the",
    "start": "16715520",
    "end": "16723359"
  },
  {
    "text": "zero hash right key and then find the value of this which is red okay and and so on so this will work up",
    "start": "16723359",
    "end": "16730240"
  },
  {
    "text": "to two and then we'll break because we we essentially zero one and two we ah",
    "start": "16730240",
    "end": "16737359"
  },
  {
    "text": "now come think about it actually we'll yeah yeah that's okay that will work so client id and color add it push it",
    "start": "16737359",
    "end": "16745600"
  },
  {
    "text": "now we have clients we have one and three i want you to send that to all clients and now if i do this",
    "start": "16745600",
    "end": "16753439"
  },
  {
    "text": "go here and we should start seeing",
    "start": "16753439",
    "end": "16761840"
  },
  {
    "text": "well we didn't actually do it any code for the client that's why we did the client didn't do anything so for the client we need to now add a",
    "start": "16762639",
    "end": "16770480"
  },
  {
    "text": "code for join what do you want to do when you receive a join request right when you receive a join request",
    "start": "16770480",
    "end": "16776799"
  },
  {
    "text": "right what do you expect here you have the game id right which game do you want right this one's the game that id that's",
    "start": "16776799",
    "end": "16783440"
  },
  {
    "text": "correct you also need to tell me that hey",
    "start": "16783440",
    "end": "16789120"
  },
  {
    "text": "this these are the players how about we actually how about we actually do something",
    "start": "16789120",
    "end": "16794958"
  },
  {
    "text": "better this time how about we have a dev element with the",
    "start": "16794958",
    "end": "16800480"
  },
  {
    "text": "actual colors of the players right let's do that",
    "start": "16800480",
    "end": "16807760"
  },
  {
    "text": "so i'm gonna do uh dev id equal players you can call them dev",
    "start": "16808560",
    "end": "16816320"
  },
  {
    "text": "players right and then do that thing right dev players",
    "start": "16816320",
    "end": "16824638"
  },
  {
    "text": "players players and then here's what i'm going to when someone",
    "start": "16824638",
    "end": "16829840"
  },
  {
    "text": "joins a game i want to lu i want first to get the game id the game object right",
    "start": "16829840",
    "end": "16836480"
  },
  {
    "text": "give me the game give me the game right when i have the game i can loop through",
    "start": "16836480",
    "end": "16842638"
  },
  {
    "text": "all the clients of the game right for each c and if i loop i can create",
    "start": "16842638",
    "end": "16851520"
  },
  {
    "text": "elements on this thing but before i create i'm going to make sure that this is empty so in order to do that i do what was the",
    "start": "16851520",
    "end": "16859120"
  },
  {
    "text": "trick while uh not dot first",
    "start": "16859120",
    "end": "16865440"
  },
  {
    "text": "child i think that's is that how you do it well this is not the first child of this",
    "start": "16865440",
    "end": "16871520"
  },
  {
    "text": "is is not empty go ahead and do div players dot remove",
    "start": "16871520",
    "end": "16876958"
  },
  {
    "text": "child uh remove the first child i think that's the code to remove all",
    "start": "16876958",
    "end": "16882958"
  },
  {
    "text": "the elements right i might be wrong is the first coil is a function",
    "start": "16882958",
    "end": "16888878"
  },
  {
    "text": "i don't even know i think it's called dot first child yeah it is it is just a property",
    "start": "16888878",
    "end": "16895440"
  },
  {
    "text": "all right while not just do this right clear all the children and",
    "start": "16895440",
    "end": "16901680"
  },
  {
    "text": "once you clear it start building the children here which is like uh const what do we build labels devs",
    "start": "16901680",
    "end": "16908320"
  },
  {
    "text": "another devs element yeah how about we just do devil not sure b equal document.createelement",
    "start": "16908320",
    "end": "16918160"
  },
  {
    "text": "dev and then we do d dot style dot width equal",
    "start": "16918160",
    "end": "16925360"
  },
  {
    "text": "i don't know 200 px that's a little bit much i think",
    "start": "16925360",
    "end": "16933200"
  },
  {
    "text": "d dot style the background color background killer equal",
    "start": "16933200",
    "end": "16940240"
  },
  {
    "text": "what is it equal c dot color right and",
    "start": "16940958",
    "end": "16947840"
  },
  {
    "text": "d dot text content is actually equals c dot client id which is an ugly grid",
    "start": "16947840",
    "end": "16956480"
  },
  {
    "text": "yeah that might do it and then obviously we have to do like uh div players destined",
    "start": "16956480",
    "end": "16963440"
  },
  {
    "text": "child i pin the d right makes sense plus this is wrong we should",
    "start": "16963440",
    "end": "16970000"
  },
  {
    "text": "not do it in the loop we should do it outside the loop right clear all the children and then keep adding all children at a time",
    "start": "16970000",
    "end": "16976798"
  },
  {
    "text": "okay that's why because we're gonna join and then join and then join that's why we get we get new clients every time how about we",
    "start": "16976798",
    "end": "16983680"
  },
  {
    "text": "actually test this thing guys boom refresh i'm gonna close this",
    "start": "16983680",
    "end": "16991120"
  },
  {
    "text": "because it's annoying and then i'm gonna open another browser another browser and then create a new game and obviously",
    "start": "16991120",
    "end": "16998160"
  },
  {
    "text": "i don't know the game id so i have to open this again like an idiot okay and i could be this guy",
    "start": "16998160",
    "end": "17005280"
  },
  {
    "text": "and you saw we're gonna join the game oh something is happening it's taking a",
    "start": "17005280",
    "end": "17011360"
  },
  {
    "text": "while did anything happen did anything fail",
    "start": "17011360",
    "end": "17017600"
  },
  {
    "text": "did anything fail what did fail fail remove child is not defined damn it",
    "start": "17017600",
    "end": "17024000"
  },
  {
    "text": "i i thought it's called remove child isn't called remove child",
    "start": "17024000",
    "end": "17030320"
  },
  {
    "text": "isn't it called the remove child wait a second what is it called it's not",
    "start": "17030798",
    "end": "17036160"
  },
  {
    "text": "removed child oh i have to do that remove child",
    "start": "17036160",
    "end": "17041840"
  },
  {
    "text": "what the hell i thought i did that all right guys it was a stupid mistake",
    "start": "17041840",
    "end": "17047360"
  },
  {
    "text": "it should not have been not while there is a child remove it all right",
    "start": "17048240",
    "end": "17055680"
  },
  {
    "text": "at least we have this now that's pretty cool right so now if i take the same guide",
    "start": "17055680",
    "end": "17062240"
  },
  {
    "text": "and go to another user and i say join",
    "start": "17062240",
    "end": "17069840"
  },
  {
    "text": "it's happening flip is slow i need to find out why there we go i got green and the guy",
    "start": "17070798",
    "end": "17078160"
  },
  {
    "text": "join that's probably the debugger slowing things down and",
    "start": "17080840",
    "end": "17087600"
  },
  {
    "text": "blue three clients three beautiful clients this guy and this guy",
    "start": "17087600",
    "end": "17093680"
  },
  {
    "text": "and this guy so we have the game we joined there those guys now can build the state",
    "start": "17093680",
    "end": "17101520"
  },
  {
    "text": "actually so the client can not just build the colors like we were doing right now we actually can",
    "start": "17101520",
    "end": "17107440"
  },
  {
    "text": "build the state of the game how many balls do we have in the game okay",
    "start": "17107440",
    "end": "17112480"
  },
  {
    "text": "they have enough balls well let's find out let's find out",
    "start": "17112480",
    "end": "17120798"
  },
  {
    "text": "the players div board okay and the boards very similarly",
    "start": "17120798",
    "end": "17130318"
  },
  {
    "text": "is um i'm going to use this code again when we join we need to rebuild that",
    "start": "17130638",
    "end": "17137920"
  },
  {
    "text": "state of the game right so we're gonna call this gold",
    "start": "17137920",
    "end": "17144350"
  },
  {
    "text": "[Music] we're gonna call it div board",
    "start": "17144350",
    "end": "17153040"
  },
  {
    "text": "there's a div board div board div board right",
    "start": "17153040",
    "end": "17160958"
  },
  {
    "text": "and this guy's the board the board the board yeah div board so we're gonna",
    "start": "17161040",
    "end": "17167120"
  },
  {
    "text": "do is essentially a loop let uh let i equal zero",
    "start": "17167120",
    "end": "17172718"
  },
  {
    "text": "let's make this a little bit bigger i is less than",
    "start": "17172718",
    "end": "17177920"
  },
  {
    "text": "the number of balls in the game which is game.balls i plus plus sweet",
    "start": "17177920",
    "end": "17184400"
  },
  {
    "text": "that's what we do we look through all of the games and the balls and we start building these things and",
    "start": "17184400",
    "end": "17191680"
  },
  {
    "text": "it depends what you want to build this as i'm going to build them as buttons okay document",
    "start": "17191680",
    "end": "17198798"
  },
  {
    "text": "and we can do cons b equal document.createelement and that's a button and then button.id",
    "start": "17198798",
    "end": "17207520"
  },
  {
    "text": "we need an id right because the idea is essentially is going to be ball plus whatever right the i",
    "start": "17207520",
    "end": "17215360"
  },
  {
    "text": "okay because this will be very useful in the case where we",
    "start": "17215360",
    "end": "17221840"
  },
  {
    "text": "want to play right when i click on this button what's the id of that button right",
    "start": "17221840",
    "end": "17228320"
  },
  {
    "text": "let's call it a tag right i plus one because we're gonna start from one whatever",
    "start": "17228320",
    "end": "17235520"
  },
  {
    "text": "so now be dot add event listener if someone click on you what are you going to do that's a mess",
    "start": "17235520",
    "end": "17242718"
  },
  {
    "text": "that's that's something we're going to do when do we do the play right but we're building here stuff",
    "start": "17242718",
    "end": "17248798"
  },
  {
    "text": "we're just building it so now uh the board dot add uh",
    "start": "17248798",
    "end": "17255360"
  },
  {
    "text": "the append child b append the child b oh yeah we're building our stuff that's",
    "start": "17255360",
    "end": "17262160"
  },
  {
    "text": "it i mean we can do if you click b dot",
    "start": "17262160",
    "end": "17267440"
  },
  {
    "text": "uh style the background color equal your color right player color",
    "start": "17267440",
    "end": "17274718"
  },
  {
    "text": "which guess what i do not know what's my color is it is fascinating that you don't know",
    "start": "17274718",
    "end": "17281600"
  },
  {
    "text": "what your color is so you can find out easily because guess",
    "start": "17281600",
    "end": "17286878"
  },
  {
    "text": "what from the game state you can actually find out your color right because you can loop through all",
    "start": "17286878",
    "end": "17292320"
  },
  {
    "text": "the clients and if the client that is equal to your client id then that's you right",
    "start": "17292320",
    "end": "17298160"
  },
  {
    "text": "so and that's here right exactly so you can actually let's build a let's build this because we need to do",
    "start": "17298160",
    "end": "17303760"
  },
  {
    "text": "it all the time right this player color equal note and",
    "start": "17303760",
    "end": "17309840"
  },
  {
    "text": "not this let and here when we loop and we join this is a good loop because",
    "start": "17309840",
    "end": "17315840"
  },
  {
    "text": "we're looping and this is the color we're using the color right if the client dot client id",
    "start": "17315840",
    "end": "17322878"
  },
  {
    "text": "equal equal equal client id which is me right then the player color is equal c",
    "start": "17322878",
    "end": "17329360"
  },
  {
    "text": "dot color that's how i capture my color that's very important because here when you click i want to save my color",
    "start": "17329360",
    "end": "17335840"
  },
  {
    "text": "but we're not sending anything to the server yet i'm just setting my own color so let's see if all of that",
    "start": "17335840",
    "end": "17341360"
  },
  {
    "text": "stuff actually works steve almost there guys almost there",
    "start": "17341360",
    "end": "17350318"
  },
  {
    "text": "sweet client generated new game created copy the new game",
    "start": "17351600",
    "end": "17358480"
  },
  {
    "text": "refresh this guy join the game let's remove this because we don't you",
    "start": "17358480",
    "end": "17364480"
  },
  {
    "text": "no longer need that and we got all the buttons we need to",
    "start": "17364480",
    "end": "17369680"
  },
  {
    "text": "put some sizes there okay and then i can join this game too look at that it's faster without the debug",
    "start": "17369680",
    "end": "17375440"
  },
  {
    "text": "now right and i can just just join it's way match faster guys",
    "start": "17375440",
    "end": "17381600"
  },
  {
    "text": "without that okay let's fix the button size it's so small be the style",
    "start": "17381600",
    "end": "17388798"
  },
  {
    "text": "the width and equal to i don't know it's just 150 px let's see",
    "start": "17388798",
    "end": "17395040"
  },
  {
    "text": "150 by 150. yeah does that looks good does that look",
    "start": "17395040",
    "end": "17402320"
  },
  {
    "text": "good does that look good i thought i added oh we didn't add even a uh an id for that i guess we don't",
    "start": "17402320",
    "end": "17410240"
  },
  {
    "text": "have to but sure this is like the text content right we didn't add that all right refresh refresh",
    "start": "17410240",
    "end": "17418958"
  },
  {
    "text": "refresh new game boom",
    "start": "17418958",
    "end": "17424520"
  },
  {
    "text": "[Music] we didn't create it did we i think we did okay join oh my god",
    "start": "17424520",
    "end": "17433520"
  },
  {
    "text": "oh my god actually works nice okay nice nice join the game i'm a green guy nice",
    "start": "17433520",
    "end": "17440878"
  },
  {
    "text": "and join the game i am the blue guy obviously those guys are not",
    "start": "17440878",
    "end": "17446320"
  },
  {
    "text": "communicating with each other plus the colors are disappearing for some reason right no it doesn't disappear we actually",
    "start": "17446320",
    "end": "17453680"
  },
  {
    "text": "redrew them because new people joined so we redrew the whole thing remember guys",
    "start": "17453680",
    "end": "17458718"
  },
  {
    "text": "sweet sweet sweet sweet sweet okay that was the join i think we got that we nailed the join",
    "start": "17458718",
    "end": "17464958"
  },
  {
    "text": "guys we nailed the join we nailed it the final piece not the final piece the",
    "start": "17464958",
    "end": "17472560"
  },
  {
    "text": "piece before the final piece is the play i want to start updating the state",
    "start": "17472560",
    "end": "17477840"
  },
  {
    "text": "let's do this so when i click no no i said my color i won't actually",
    "start": "17477840",
    "end": "17483920"
  },
  {
    "text": "build a payload that i want to send to the server and the method is",
    "start": "17483920",
    "end": "17488958"
  },
  {
    "text": "remember go to play play you need to send the method grid and",
    "start": "17488958",
    "end": "17495120"
  },
  {
    "text": "which ball are you editing easy we have all this information uh client id",
    "start": "17495120",
    "end": "17500840"
  },
  {
    "text": "equal client id which game are we adding well this is",
    "start": "17500840",
    "end": "17506160"
  },
  {
    "text": "game id right did we ever save the game id because it's good it's going to be a",
    "start": "17506160",
    "end": "17512000"
  },
  {
    "text": "good idea to actually save it right because we we're going to need it guys right because this",
    "start": "17512000",
    "end": "17517440"
  },
  {
    "text": "is going to be saved anyway if you joined it it's going to be here definitely click join or create it i",
    "start": "17517440",
    "end": "17522878"
  },
  {
    "text": "think we're going to have it the game id as a variable that's good another thing we need is like which ball id",
    "start": "17522878",
    "end": "17529200"
  },
  {
    "text": "the ball that you actually playing or the cell whatever you want to call it it is b dot tag that's",
    "start": "17529200",
    "end": "17537280"
  },
  {
    "text": "the trusted property that's the beat of tag very very critical and then all we need",
    "start": "17537280",
    "end": "17544798"
  },
  {
    "text": "to do is just basically us as a client dbs.send",
    "start": "17544798",
    "end": "17551600"
  },
  {
    "text": "right is it called ws i think right let's just send it",
    "start": "17551600",
    "end": "17558080"
  },
  {
    "text": "yeah there bill yes dot's send we're gonna send jason the string",
    "start": "17558080",
    "end": "17564080"
  },
  {
    "text": "stringify fellow and that is the client side obviously",
    "start": "17564080",
    "end": "17570400"
  },
  {
    "text": "every client side has a server side what do we do when we receive",
    "start": "17570400",
    "end": "17578000"
  },
  {
    "text": "a request not to join join was actually a big function huh that's the join it ends here let's add",
    "start": "17581440",
    "end": "17589040"
  },
  {
    "text": "an if statement for the play a user plays okay the user plays",
    "start": "17589040",
    "end": "17597760"
  },
  {
    "text": "who are you client id equal result dot client id",
    "start": "17597760",
    "end": "17605600"
  },
  {
    "text": "const game id i need to know which game are you playing so i can i can find it what else do we",
    "start": "17605600",
    "end": "17614320"
  },
  {
    "text": "do we're building a game client id game id and i need to know which ball id you're",
    "start": "17614320",
    "end": "17620320"
  },
  {
    "text": "touching boom all right sweet so i need these",
    "start": "17620320",
    "end": "17626400"
  },
  {
    "text": "three information once i know this one first i can start building the state which is",
    "start": "17626400",
    "end": "17631680"
  },
  {
    "text": "awesome",
    "start": "17631680",
    "end": "17634560"
  },
  {
    "text": "and remember this is a global state that will be changed on the server okay so let's get the game which is game",
    "start": "17637440",
    "end": "17645520"
  },
  {
    "text": "z off game id right dot state which it doesn't exist to be",
    "start": "17645520",
    "end": "17650958"
  },
  {
    "text": "honest right let's just do this con state equal get the state currently i know sometimes it's not set",
    "start": "17650958",
    "end": "17657040"
  },
  {
    "text": "so if the state if the state is not set set it",
    "start": "17657040",
    "end": "17662480"
  },
  {
    "text": "as an object let's use an object let's just follow the hashmap idea right so state",
    "start": "17662480",
    "end": "17670560"
  },
  {
    "text": "sub ball id which is which ball equal the client id oh",
    "start": "17670560",
    "end": "17678480"
  },
  {
    "text": "how do i know what color is the client from the server side i do not believe we",
    "start": "17678480",
    "end": "17684878"
  },
  {
    "text": "actually persist this information it's actually in the game if we think about it so",
    "start": "17684878",
    "end": "17690080"
  },
  {
    "text": "it's games yeah we need to do a lot of stuff maybe it's just easier to send",
    "start": "17690080",
    "end": "17695760"
  },
  {
    "text": "the color on the payload right it's just way easier right guys let's actually do",
    "start": "17695760",
    "end": "17701760"
  },
  {
    "text": "with that i mean yeah i mean we have it here right we just literally have it player color just send",
    "start": "17701760",
    "end": "17708480"
  },
  {
    "text": "it it's just easier instead of doing stuff like that goofy stuff",
    "start": "17708480",
    "end": "17714240"
  },
  {
    "text": "so yeah so stay the ball as i call just literally",
    "start": "17714240",
    "end": "17719600"
  },
  {
    "text": "uh const color equal result dot color yeah it's just easier right to stay the",
    "start": "17719600",
    "end": "17725280"
  },
  {
    "text": "ball id we didn't use it so that's now that's good so that's it",
    "start": "17725280",
    "end": "17731120"
  },
  {
    "text": "and then once we're done we actually set that state back as the user equal stay",
    "start": "17731120",
    "end": "17740320"
  },
  {
    "text": "and that is sir almost the payload is ready what's the",
    "start": "17740320",
    "end": "17746400"
  },
  {
    "text": "pillow the pill is very similar to the uh to the join payload to be honest right",
    "start": "17746400",
    "end": "17753040"
  },
  {
    "text": "it's like that which contains the game which we said cons the game equal",
    "start": "17753040",
    "end": "17760160"
  },
  {
    "text": "this guy and just send it back it's not join it's actually play right",
    "start": "17760160",
    "end": "17767360"
  },
  {
    "text": "what else are we expecting to send to the client to the user actually nothing to be honest we're not",
    "start": "17767360",
    "end": "17773600"
  },
  {
    "text": "sending the play doesn't actually send anything to the user to the to the to the",
    "start": "17773600",
    "end": "17779840"
  },
  {
    "text": "client we just update the state and that's it right because this this will happen",
    "start": "17779840",
    "end": "17785280"
  },
  {
    "text": "often very very often okay this is not that the state of the actual array",
    "start": "17785280",
    "end": "17790320"
  },
  {
    "text": "will get updated all the time okay and now this comes back to the",
    "start": "17790320",
    "end": "17795680"
  },
  {
    "text": "final thing which is the server now sending the state",
    "start": "17795680",
    "end": "17800878"
  },
  {
    "text": "to the client every 500 milliseconds which is the final final play how about",
    "start": "17800878",
    "end": "17806958"
  },
  {
    "text": "we do that guys let's build a function called function",
    "start": "17806958",
    "end": "17812480"
  },
  {
    "text": "update gamestate and what we do essentially is loop",
    "start": "17812480",
    "end": "17818080"
  },
  {
    "text": "through all the games that we have which is what for",
    "start": "17818080",
    "end": "17824480"
  },
  {
    "text": "g for cons g off games right which is an array that will",
    "start": "17824480",
    "end": "17830560"
  },
  {
    "text": "give us the key of the games right and what we want to do is get the g",
    "start": "17830560",
    "end": "17837440"
  },
  {
    "text": "which is games sub g which is the actual game right object",
    "start": "17837440",
    "end": "17846000"
  },
  {
    "text": "dot all the clients we want to loop through all the clients",
    "start": "17846638",
    "end": "17852000"
  },
  {
    "text": "and send them [Music]",
    "start": "17852000",
    "end": "17858468"
  },
  {
    "text": "when loop through all the clients right and send them the state",
    "start": "17858878",
    "end": "17865520"
  },
  {
    "text": "updated state of the game right and this is something we do every now or then all",
    "start": "17865520",
    "end": "17871280"
  },
  {
    "text": "right we're gonna determine when do we do that okay maybe when there are three players",
    "start": "17871280",
    "end": "17876480"
  },
  {
    "text": "we'll just we'll decide that okay we did this code before so it's like uh client",
    "start": "17876480",
    "end": "17881920"
  },
  {
    "text": "sub c right which is the client id it's actually c dot client id all right",
    "start": "17881920",
    "end": "17888958"
  },
  {
    "text": "and then dot connection dot send right we're sending what we're sending",
    "start": "17888958",
    "end": "17895520"
  },
  {
    "text": "guys we're sending the state of the game",
    "start": "17895520",
    "end": "17900638"
  },
  {
    "text": "which is this puppy",
    "start": "17900638",
    "end": "17906400"
  },
  {
    "text": "boom just send it the whole thing the actual game i'm going to test that in a minute but",
    "start": "17907040",
    "end": "17913360"
  },
  {
    "text": "this is going to happen every i don't know a set timeout",
    "start": "17913360",
    "end": "17922000"
  },
  {
    "text": "call this guy every 500 milliseconds",
    "start": "17922000",
    "end": "17927120"
  },
  {
    "text": "and nobody actually called this function so we need a place where i actually call this function what is the best",
    "start": "17927120",
    "end": "17934320"
  },
  {
    "text": "time to actually call it this function well we can decide to actually call the",
    "start": "17934320",
    "end": "17939920"
  },
  {
    "text": "function when we have enough clients right when you have three clients let's call the function and start sending people",
    "start": "17939920",
    "end": "17946560"
  },
  {
    "text": "there and they can start the game right away if",
    "start": "17946560",
    "end": "17951638"
  },
  {
    "text": "game.clients.length equal equal equal three then start the game",
    "start": "17951638",
    "end": "17958000"
  },
  {
    "text": "start of the game when we have three clients exactly how about we test this thing this is",
    "start": "17958000",
    "end": "17964000"
  },
  {
    "text": "gonna be interesting let's see if actually it works and uh",
    "start": "17964000",
    "end": "17969840"
  },
  {
    "text": "here's the thing what are we sending back to the client we're sending just the game state but we didn't actually build a",
    "start": "17969840",
    "end": "17977760"
  },
  {
    "text": "payload to be honest so we need a playload const payload in the method",
    "start": "17977760",
    "end": "17984480"
  },
  {
    "text": "right which is to update the state which is like i don't know what's gonna call it update i think the final thing we need",
    "start": "17984480",
    "end": "17990798"
  },
  {
    "text": "to send a method called update with the game state that's exactly that way okay and that's the game state",
    "start": "17990798",
    "end": "17998240"
  },
  {
    "text": "so we can actually just do it once right here right",
    "start": "17998718",
    "end": "18006958"
  },
  {
    "text": "const game equal this game game",
    "start": "18006958",
    "end": "18013840"
  },
  {
    "text": "and then payload this could be a game we stringify the actual payload right",
    "start": "18013840",
    "end": "18021200"
  },
  {
    "text": "and that we need the final piece from the client to actually respond to whatever the server sends right what does the",
    "start": "18021200",
    "end": "18028638"
  },
  {
    "text": "server send here guys we're going to send the join noob join we did the join",
    "start": "18028638",
    "end": "18035600"
  },
  {
    "text": "we need to do the update if that client receives an update we",
    "start": "18035600",
    "end": "18042958"
  },
  {
    "text": "need to kind of do whatever we did in join to be honest guys but with",
    "start": "18042958",
    "end": "18048320"
  },
  {
    "text": "some more a little bit we're not really removing and adding the cha children to",
    "start": "18048320",
    "end": "18055040"
  },
  {
    "text": "be honest right as actually i find i find removing the children now is just kind",
    "start": "18055040",
    "end": "18060560"
  },
  {
    "text": "of useless so what do we do we receive the game right the game state",
    "start": "18060560",
    "end": "18065760"
  },
  {
    "text": "have i would assume a state object which is essentially",
    "start": "18065760",
    "end": "18073040"
  },
  {
    "text": "almost like a key so we can loop through all of that stuff right so",
    "start": "18073040",
    "end": "18078560"
  },
  {
    "text": "for const s which is the ball actually if",
    "start": "18078560",
    "end": "18083840"
  },
  {
    "text": "you think about it off this right because remember it's gonna be something like that zero red",
    "start": "18083840",
    "end": "18092718"
  },
  {
    "text": "uh one ball one is whatever right i think it's just start from one i think",
    "start": "18092718",
    "end": "18098320"
  },
  {
    "text": "we built the whole thing start to to be an indexed so so what we need to do is find take this",
    "start": "18098320",
    "end": "18106160"
  },
  {
    "text": "this is b and b is the index so we need actually the actual value right",
    "start": "18106160",
    "end": "18113760"
  },
  {
    "text": "const ball id equal this right we need the actual value and that",
    "start": "18113760",
    "end": "18121360"
  },
  {
    "text": "we're going to do a lot of debugging after all this code we written guys we're gonna go go and find",
    "start": "18121360",
    "end": "18127958"
  },
  {
    "text": "document.getelementbyid we need to find the ball that is titled bowl id",
    "start": "18127958",
    "end": "18134320"
  },
  {
    "text": "this",
    "start": "18134320",
    "end": "18136718"
  },
  {
    "text": "and give me a b object",
    "start": "18140080",
    "end": "18146160"
  },
  {
    "text": "object right which is the button and we need to make this button",
    "start": "18146160",
    "end": "18153600"
  },
  {
    "text": "style the background color equal to so the id",
    "start": "18153600",
    "end": "18160638"
  },
  {
    "text": "will be b i think right that's that that's the i miss them something and the b the color will be",
    "start": "18160638",
    "end": "18167680"
  },
  {
    "text": "actually the value of this we're gonna check this out and see if it actually works who knows",
    "start": "18167680",
    "end": "18175120"
  },
  {
    "text": "all right almost there guys",
    "start": "18175120",
    "end": "18178796"
  },
  {
    "text": "it's gonna be a lot of testing refresh refresh",
    "start": "18180320",
    "end": "18186840"
  },
  {
    "text": "refresh new game and we can join the same game",
    "start": "18186840",
    "end": "18194876"
  },
  {
    "text": "that's the idea of the game and that's a 20 balls right 1 to 20. and you can join",
    "start": "18197280",
    "end": "18204958"
  },
  {
    "text": "and you can join too you can just i didn't refresh this oh oh",
    "start": "18204958",
    "end": "18210798"
  },
  {
    "text": "crashed something crashed games is not an iterable that's good so",
    "start": "18210798",
    "end": "18216160"
  },
  {
    "text": "something crashed update game state actually failed guys what we need to do is essentially the problem with this is",
    "start": "18216160",
    "end": "18222638"
  },
  {
    "text": "we need to get the keys of this right object to keys right we're looping through this is",
    "start": "18222638",
    "end": "18228240"
  },
  {
    "text": "this is the games is actually an object of the game id",
    "start": "18228240",
    "end": "18235760"
  },
  {
    "text": "and the content right so we we need these guys the actual values right so",
    "start": "18235760",
    "end": "18241200"
  },
  {
    "text": "we're looping through all the keys itself which is just an array so we can just do so that does the trick",
    "start": "18241200",
    "end": "18247280"
  },
  {
    "text": "and i know i had a similar bug with the states in the index",
    "start": "18247280",
    "end": "18255440"
  },
  {
    "text": "dot html object dot keys loop through all the",
    "start": "18255440",
    "end": "18262718"
  },
  {
    "text": "keys okay",
    "start": "18262718",
    "end": "18266480"
  },
  {
    "text": "will this work",
    "start": "18268878",
    "end": "18273842"
  },
  {
    "text": "join game and you should go join as well and you should join as well and we go that's a game state",
    "start": "18283520",
    "end": "18292160"
  },
  {
    "text": "got the clients we have two clients nice i want you to update the clients boom",
    "start": "18292160",
    "end": "18299200"
  },
  {
    "text": "oh oh the game started i don't see any crashes oh it looks like the game started",
    "start": "18299200",
    "end": "18306320"
  },
  {
    "text": "there's a failure cannot compete on define the note object oh we're getting ours man we're getting",
    "start": "18306320",
    "end": "18313760"
  },
  {
    "text": "errors state sweared yeah yeah that's the error",
    "start": "18313760",
    "end": "18321040"
  },
  {
    "text": "response that game does state is an error why why don't you like this so you're",
    "start": "18321040",
    "end": "18327520"
  },
  {
    "text": "receiving that",
    "start": "18327520",
    "end": "18330400"
  },
  {
    "text": "yeah this is just failing see i got an error cannot convert undefined",
    "start": "18332798",
    "end": "18339520"
  },
  {
    "text": "or null to object why would i want to convert undefined or",
    "start": "18339520",
    "end": "18344638"
  },
  {
    "text": "not to an object response that is a response",
    "start": "18344638",
    "end": "18351920"
  },
  {
    "text": "right don't we shouldn't we get response",
    "start": "18352320",
    "end": "18359762"
  },
  {
    "text": "okay we have an error on the client in this case same error",
    "start": "18359920",
    "end": "18365200"
  },
  {
    "text": "okay was was i was a little bit too late so i didn't catch the actual error here but",
    "start": "18368480",
    "end": "18376000"
  },
  {
    "text": "it seems that this is null which is odd because that's what i'm",
    "start": "18376638",
    "end": "18382958"
  },
  {
    "text": "going to send right here the payload is game update and there is a game state",
    "start": "18382958",
    "end": "18389760"
  },
  {
    "text": "all right all right let's do it again it's our versatile we have assignment to",
    "start": "18389760",
    "end": "18395120"
  },
  {
    "text": "a constant constant oh why is this a constant that's a problem",
    "start": "18395120",
    "end": "18400560"
  },
  {
    "text": "should be let that's the problem all right maybe that could have caused the problem",
    "start": "18400560",
    "end": "18406878"
  },
  {
    "text": "updating the state and refresh",
    "start": "18406878",
    "end": "18413840"
  },
  {
    "text": "boom and again boom",
    "start": "18413840",
    "end": "18420798"
  },
  {
    "text": "we get a const",
    "start": "18420798",
    "end": "18427760"
  },
  {
    "text": "and refresh join game",
    "start": "18427760",
    "end": "18433280"
  },
  {
    "text": "refresh join game and join game that will just immediately give us a",
    "start": "18433520",
    "end": "18439840"
  },
  {
    "text": "result yes sir do we have a state oh the state is undefined",
    "start": "18439840",
    "end": "18446560"
  },
  {
    "text": "i looks like we didn't even have a state we're assuming that we're having a state",
    "start": "18446560",
    "end": "18451760"
  },
  {
    "text": "which is wrong",
    "start": "18451760",
    "end": "18455840"
  },
  {
    "text": "yeah we don't have states on we do not have a state that's the problem oh my god look at",
    "start": "18460560",
    "end": "18468080"
  },
  {
    "text": "that i'm overriding this oh that is the problem oh my god",
    "start": "18468080",
    "end": "18475680"
  },
  {
    "text": "okay you saw what i did right i overrode the actual game with the state which is null in this",
    "start": "18475680",
    "end": "18482878"
  },
  {
    "text": "case so the whole thing was just the whole thing just crashed",
    "start": "18482878",
    "end": "18488876"
  },
  {
    "text": "so again third time is the charm",
    "start": "18489440",
    "end": "18497840"
  },
  {
    "text": "and join refresh and join refresh",
    "start": "18498958",
    "end": "18506638"
  },
  {
    "text": "and join i don't see any errors",
    "start": "18506638",
    "end": "18511840"
  },
  {
    "text": "oops we still have theirs guys really i expected that",
    "start": "18512000",
    "end": "18519440"
  },
  {
    "text": "why is that",
    "start": "18519440",
    "end": "18525840"
  },
  {
    "text": "maybe i have to add like a check",
    "start": "18528240",
    "end": "18531680"
  },
  {
    "text": "what do you do we need a play let's play boom boom there you go we at least have a state",
    "start": "18536320",
    "end": "18541680"
  },
  {
    "text": "now hey we have state now yeah okay all",
    "start": "18541680",
    "end": "18548160"
  },
  {
    "text": "right we just we forgot to play i guess i have to to capture the state when when",
    "start": "18548160",
    "end": "18554638"
  },
  {
    "text": "we don't have anything really oh my god looks like it's working guys",
    "start": "18554638",
    "end": "18562000"
  },
  {
    "text": "it looks like it's working we just got one and this is blue oh there's a bug",
    "start": "18562000",
    "end": "18570320"
  },
  {
    "text": "i know what this is i know exactly what's going on",
    "start": "18570320",
    "end": "18575122"
  },
  {
    "text": "i know what's going on we're starting from zero this is like a zero index kind of a bug",
    "start": "18575840",
    "end": "18581280"
  },
  {
    "text": "right so when we're building uh the uh what is it id that id",
    "start": "18581280",
    "end": "18587760"
  },
  {
    "text": "equal ball i let's just do this i plus one that that should fix the problem and",
    "start": "18587760",
    "end": "18594480"
  },
  {
    "text": "while we're at it dot state well",
    "start": "18594480",
    "end": "18600240"
  },
  {
    "text": "if this is if this is null i'm such a",
    "start": "18600560",
    "end": "18608000"
  },
  {
    "text": "born head all right so then should be not",
    "start": "18608000",
    "end": "18615360"
  },
  {
    "text": "okay we knew we get a new game i shouldn't fail",
    "start": "18616080",
    "end": "18623600"
  },
  {
    "text": "that error doesn't really matter guys to be honest because it's just once you start playing",
    "start": "18623600",
    "end": "18629840"
  },
  {
    "text": "now you don't see the error right but once you start playing now everybody",
    "start": "18629840",
    "end": "18635040"
  },
  {
    "text": "should get this stuff holy moly that is nice that is nice",
    "start": "18635040",
    "end": "18642320"
  },
  {
    "text": "guys now i have these three puppies look at that guys so this guy is the red",
    "start": "18642320",
    "end": "18649840"
  },
  {
    "text": "this is green see you can see directly everything is updated",
    "start": "18649840",
    "end": "18655680"
  },
  {
    "text": "that's exactly right websockets multiplayer game and you can",
    "start": "18655680",
    "end": "18662638"
  },
  {
    "text": "take this source code guys and build on top of it anything you want you can make it into a url like i did",
    "start": "18662638",
    "end": "18669840"
  },
  {
    "text": "right i'm not gonna make this video any longer than it already is it's probably like seven hours now okay",
    "start": "18669840",
    "end": "18675760"
  },
  {
    "text": "but you get the idea right you can take this code okay and just build on top of it and just",
    "start": "18675760",
    "end": "18681040"
  },
  {
    "text": "have the idea of what we built here it's just using just raw web sockets you can do",
    "start": "18681040",
    "end": "18686240"
  },
  {
    "text": "all of that stuff i understand that building or like socket io can kind of simplify some of the stuff",
    "start": "18686240",
    "end": "18693760"
  },
  {
    "text": "we did today but still it's really your choice you can choose any technology you want but",
    "start": "18693760",
    "end": "18699120"
  },
  {
    "text": "that is what we build essentially right there might be some bugs but let me know guys and we're gonna",
    "start": "18699120",
    "end": "18706560"
  },
  {
    "text": "see you in the next one how did you like this video hope you like it and see you in the next",
    "start": "18706560",
    "end": "18712320"
  },
  {
    "text": "one you guys stay awesome",
    "start": "18712320",
    "end": "18721840"
  },
  {
    "start": "18720000",
    "end": "20085000"
  },
  {
    "text": "what is going on guys my name is hussein and in this video i want to know what is going on behind",
    "start": "18724400",
    "end": "18730560"
  },
  {
    "text": "the scenes when we establish a new websocket connection when we send data between the client the",
    "start": "18730560",
    "end": "18737600"
  },
  {
    "text": "websocket client to the websocket server and what happened when you actually close the websocket",
    "start": "18737600",
    "end": "18743920"
  },
  {
    "text": "connection and i'm gonna do that with the beautiful new toy that i just discovered that i'm",
    "start": "18743920",
    "end": "18750718"
  },
  {
    "text": "really excited about it's called wireshark so it's actually going to show us exactly what's going to happen in the",
    "start": "18750718",
    "end": "18755920"
  },
  {
    "text": "network and we're going to see all the calls and we're going to explain every single thing because that's what we do on this",
    "start": "18755920",
    "end": "18762080"
  },
  {
    "text": "channel we try to demystify everything so guys what i have here is a beautiful websocket",
    "start": "18762080",
    "end": "18768798"
  },
  {
    "text": "server and we talked about websocket in this channel check out this playlist right how to start with websocket what is",
    "start": "18768798",
    "end": "18774878"
  },
  {
    "text": "socket really you need to understand all of stuff if you're a backend engineer all right and once you understand that",
    "start": "18774878",
    "end": "18781440"
  },
  {
    "text": "you know how a websocket server starts and what does it know the connection upgrades and all that stuff",
    "start": "18781440",
    "end": "18787680"
  },
  {
    "text": "you want to watch this video you cannot just jump into this video because without knowing what how websockets work",
    "start": "18787680",
    "end": "18793840"
  },
  {
    "text": "but i'm going to explain it anyway in this video so stay tuned so i have here a beautiful websocket server",
    "start": "18793840",
    "end": "18799120"
  },
  {
    "text": "running and listening on port it it because it's the best port ever",
    "start": "18799120",
    "end": "18804160"
  },
  {
    "text": "and it's on my old raspberry pi this raspberry pi pi is from 2013 i believe it's so slow",
    "start": "18804160",
    "end": "18812240"
  },
  {
    "text": "i mean it took me 13 seconds just to start the server so i have here websocket",
    "start": "18812240",
    "end": "18820160"
  },
  {
    "text": "wireshark listening and i have here chrome because you know what because i'm going to write beautiful code here and as i write code",
    "start": "18820160",
    "end": "18827040"
  },
  {
    "text": "to connect to that server you're going to start seeing the packets showing up here so the first code we're going to not write is uh let",
    "start": "18827040",
    "end": "18835360"
  },
  {
    "text": "ws or connection i'm going to create a new connection and i misspelled connection",
    "start": "18835360",
    "end": "18840638"
  },
  {
    "text": "that's embarrassing and then we're going to do connection equal new",
    "start": "18840638",
    "end": "18845760"
  },
  {
    "text": "websocket object and the address is literally raspberry pi 1",
    "start": "18845760",
    "end": "18852320"
  },
  {
    "text": "and import 8080. and we're going to use the websocket protocol i'm going to zoom in here so you can see that",
    "start": "18852320",
    "end": "18857360"
  },
  {
    "text": "now when i do that you can start seeing the flood of stuff that happening i'm going to explain every single thing that",
    "start": "18857360",
    "end": "18863200"
  },
  {
    "text": "happened there right no worries the second thing i'm going to do here is i am going to",
    "start": "18863200",
    "end": "18869040"
  },
  {
    "text": "hook in the message so that i receive stuff from the server",
    "start": "18869040",
    "end": "18875120"
  },
  {
    "text": "just an event right and the final thing i'm going to do is i see you're going to start seeing",
    "start": "18875120",
    "end": "18881520"
  },
  {
    "text": "some stuff there and then final thing i'm going to do is i'm going to send some information to the server i'm going to say",
    "start": "18881520",
    "end": "18887680"
  },
  {
    "text": "sub server and the server is configured so that anything that it receives it",
    "start": "18887680",
    "end": "18893040"
  },
  {
    "text": "sends it back with say got your message sub it's just a bunch of string and the final thing is close the",
    "start": "18893040",
    "end": "18900840"
  },
  {
    "text": "connection awesome and here's our",
    "start": "18900840",
    "end": "18908080"
  },
  {
    "text": "wireshark log how about we jump into it and demystify everything that has happened",
    "start": "18908400",
    "end": "18913840"
  },
  {
    "text": "right and obviously at the other end you can see there's some messages here in the console we",
    "start": "18913840",
    "end": "18918878"
  },
  {
    "text": "don't really care about what happened in the server we really care what happened on wireshark so let's stop the log",
    "start": "18918878",
    "end": "18925120"
  },
  {
    "text": "and let's take a look at this beautiful thing all right so guys the first thing that",
    "start": "18925120",
    "end": "18930560"
  },
  {
    "text": "happens and you guys first of all i want to thank every network engineer on my channel",
    "start": "18930560",
    "end": "18935600"
  },
  {
    "text": "uh for correcting my stupid mistakes and and my uh really insufficiency when it",
    "start": "18935600",
    "end": "18942080"
  },
  {
    "text": "comes to networking and i learned so much from you guys so thank you so much and now i i i can read the scrap better",
    "start": "18942080",
    "end": "18950240"
  },
  {
    "text": "all right so the first thing what is this what is these three beautiful things why are they three it's",
    "start": "18950240",
    "end": "18956000"
  },
  {
    "text": "called a beautiful three-way handshake because that's the first thing it's well wob sockets is built on",
    "start": "18956000",
    "end": "18961840"
  },
  {
    "text": "http and which is built on tcp at least for http 2 right or an http one so this is built on tcp",
    "start": "18961840",
    "end": "18968240"
  },
  {
    "text": "and tcp what do you do the first thing three-way handshake check out the video three one hand check how it works",
    "start": "18968240",
    "end": "18973760"
  },
  {
    "text": "so the client which is 10 ip10 and the server is",
    "start": "18973760",
    "end": "18981200"
  },
  {
    "text": "81. what's 81 in french i forgot",
    "start": "18981200",
    "end": "18986636"
  },
  {
    "text": "never mind so 81 turn to 81. so sin and the server responds with",
    "start": "18989440",
    "end": "18995200"
  },
  {
    "text": "synack obviously right i'm gonna i'm gonna start my own sin sequence numbers and then i'm going to",
    "start": "18995200",
    "end": "19000638"
  },
  {
    "text": "acknowledge the send that i just did and then the final thing is like okay acknowledging",
    "start": "19000638",
    "end": "19006080"
  },
  {
    "text": "the send of the server so now the client and the servers are synchronized with the sequence numbers both of them",
    "start": "19006080",
    "end": "19012798"
  },
  {
    "text": "know their each sequence numbers and they know where to start right so they can send a packet",
    "start": "19012798",
    "end": "19017840"
  },
  {
    "text": "who's sending the first packet guess what it's the client and what's this a get request hey we know this stuff",
    "start": "19017840",
    "end": "19024160"
  },
  {
    "text": "it's a get request yes that's the first request that there were that's the client does and it's called",
    "start": "19024160",
    "end": "19032000"
  },
  {
    "text": "an http upgrade right it's an amp great hitter says hey i am about to establish we just",
    "start": "19032000",
    "end": "19037920"
  },
  {
    "text": "establish a connection and hey server i want to upgrade this connection to a websocket connection so",
    "start": "19037920",
    "end": "19044480"
  },
  {
    "text": "from now on we want to use the raw tcp connection as a websocket pipe right",
    "start": "19044480",
    "end": "19052480"
  },
  {
    "text": "that is not true in hdb2 that is a little bit different it uses streams right this in http 1 1 which is what",
    "start": "19052480",
    "end": "19060400"
  },
  {
    "text": "we're seeing here right where is the version 1 1 there you go right it actually",
    "start": "19060400",
    "end": "19065680"
  },
  {
    "text": "hijacks the whole tcp connection which is extremely inefficient that's a different topic i talked about",
    "start": "19065680",
    "end": "19071920"
  },
  {
    "text": "it a little bit but ask questions in the comment section so we can have a discussion",
    "start": "19071920",
    "end": "19076958"
  },
  {
    "text": "all right i'm sending a good request it's around 500 bytes that's big like see all right and the server says",
    "start": "19076958",
    "end": "19084480"
  },
  {
    "text": "yo i acknowledge your uh res that i acknowledge your request i just acknowledged",
    "start": "19084480",
    "end": "19089760"
  },
  {
    "text": "i don't have a response for you now after a little bit of a time the server responds with switching",
    "start": "19089760",
    "end": "19096080"
  },
  {
    "text": "protocol it says yeah now i do support web sockets and i'm going to switch the protocol",
    "start": "19096080",
    "end": "19102160"
  },
  {
    "text": "and this is the text says okay i'm going to switch the protocol and from now on let's communicate with websocket right",
    "start": "19102160",
    "end": "19107840"
  },
  {
    "text": "and this the client obviously now responses hey i acknowledge your acknowledgement of my",
    "start": "19107840",
    "end": "19113680"
  },
  {
    "text": "acknowledgement that's switching the protocol right so it's just acknowledging the switching protocol all",
    "start": "19113680",
    "end": "19118878"
  },
  {
    "text": "right and then everyone has like a acknowledgement number we don't really need to look at this anymore because",
    "start": "19118878",
    "end": "19124878"
  },
  {
    "text": "we understand them and here's the thing we this is something i didn't run into",
    "start": "19124878",
    "end": "19131920"
  },
  {
    "text": "when i actually first made the video offline this is like just not and it makes sense so this is a feature of",
    "start": "19131920",
    "end": "19139200"
  },
  {
    "text": "the websocket is called ping-ponging so what the client what is actually not",
    "start": "19139200",
    "end": "19144878"
  },
  {
    "text": "the client actually the server says hey because what i kept talking i established the connection and i kept",
    "start": "19144878",
    "end": "19150560"
  },
  {
    "text": "talking talking and it says okay client are you alive and that's how the server know if the client is alive it",
    "start": "19150560",
    "end": "19157440"
  },
  {
    "text": "pings it and what is it what this ping is it's a very small packet that just have very",
    "start": "19157440",
    "end": "19165280"
  },
  {
    "text": "how how big is it it's really it's like a look it's just two by two bytes it's very small so the client",
    "start": "19165280",
    "end": "19170878"
  },
  {
    "text": "pings it the server pings the client says are you alive and then the servers uh that cl so the server pings the",
    "start": "19170878",
    "end": "19178638"
  },
  {
    "text": "client are you alive the client acknowledges the ping right see how how much shadiness",
    "start": "19178638",
    "end": "19186480"
  },
  {
    "text": "is there guys when we make requests as software engineers we don't understand what's going on",
    "start": "19186480",
    "end": "19191920"
  },
  {
    "text": "behind the scenes so now we're gonna we're gonna appreciate what's going on once you understand what's happening",
    "start": "19191920",
    "end": "19197280"
  },
  {
    "text": "right so now i appreciate the ping i'm gonna pong you because the acknowledgements is not enough for some",
    "start": "19197280",
    "end": "19203680"
  },
  {
    "text": "reason you can argue that this should be enough right why should actually send data if i",
    "start": "19203680",
    "end": "19208798"
  },
  {
    "text": "acknowledge it that means i received it right so we can actually tweak the websocket protocols as like oh",
    "start": "19208798",
    "end": "19215040"
  },
  {
    "text": "is the point really necessary and why is the pong six bytes jesus",
    "start": "19215040",
    "end": "19222160"
  },
  {
    "text": "that is big pong man okay that's uh all right i'm not gonna say that because",
    "start": "19222160",
    "end": "19227360"
  },
  {
    "text": "this video is gonna get more demonetized all right so yeah and then the server",
    "start": "19227360",
    "end": "19233840"
  },
  {
    "text": "acknowledges the pong and then hey oops i get text obviously this is an unsecure connection i'm going",
    "start": "19233840",
    "end": "19240320"
  },
  {
    "text": "to make another video wire sharking tls 1.2 or wireshark dls 1.3 but",
    "start": "19240320",
    "end": "19245520"
  },
  {
    "text": "for now look the client is sending some text and it's around 9 bytes what's the text",
    "start": "19245520",
    "end": "19252480"
  },
  {
    "text": "says sup it says sub it's nine bytes but i",
    "start": "19252480",
    "end": "19258080"
  },
  {
    "text": "sent three bytes so the rest of stuff is just garbage of the websocket header i guess",
    "start": "19258080",
    "end": "19263440"
  },
  {
    "text": "and the server now says yo i acknowledge your sub that's not a response that's just an",
    "start": "19263440",
    "end": "19269760"
  },
  {
    "text": "acknowledgement of the request i say i got it i'm processing it now that's our code",
    "start": "19269760",
    "end": "19275920"
  },
  {
    "text": "kicking in on the back end and the server is now sending some data to the",
    "start": "19275920",
    "end": "19282080"
  },
  {
    "text": "client and the client says get your message shop that's the exactly the message that we got from the",
    "start": "19282080",
    "end": "19288480"
  },
  {
    "text": "server and we saw it in chrome right so yeah we got the message back it's awesome",
    "start": "19288480",
    "end": "19294400"
  },
  {
    "text": "right and then the client sends something else what is that what does the client send",
    "start": "19294400",
    "end": "19301120"
  },
  {
    "text": "it acknowledges the get message that's just just an acknowledgement that we receive",
    "start": "19301120",
    "end": "19306480"
  },
  {
    "text": "your got your message stop right so the server knows okay we got it",
    "start": "19306480",
    "end": "19311600"
  },
  {
    "text": "now this is the exciting that's the most exciting part here and afterwards so here's the thing the",
    "start": "19311600",
    "end": "19318320"
  },
  {
    "text": "client initiates the close remember when we said it's right there right connection to",
    "start": "19318320",
    "end": "19325280"
  },
  {
    "text": "close right that's the client that's me and closing the tcp this web socket connection",
    "start": "19325280",
    "end": "19330558"
  },
  {
    "text": "all right so the the websocket connection is now the client actually sends is just",
    "start": "19330558",
    "end": "19337200"
  },
  {
    "text": "another websocket data to the tcp stack",
    "start": "19337200",
    "end": "19342638"
  },
  {
    "text": "right i am sending a request to close the connection okay and uh yeah that's just the headers",
    "start": "19342638",
    "end": "19348480"
  },
  {
    "text": "of the websocket stuff and the server acknowledges",
    "start": "19348480",
    "end": "19353520"
  },
  {
    "text": "that we received your request that happens to be just data for us that you want to close and now i",
    "start": "19353520",
    "end": "19361440"
  },
  {
    "text": "as a server i also want to close and here's the message that i want to close that",
    "start": "19361440",
    "end": "19367280"
  },
  {
    "text": "connection so it's almost like the fin and finag but at the data the edible",
    "start": "19367280",
    "end": "19372878"
  },
  {
    "text": "application layer right we're at the warp socket here and we're just playing here so the connection",
    "start": "19372878",
    "end": "19378638"
  },
  {
    "text": "technically is not really closed it's just a bunch of data right and now at the websocket protocols cleaning",
    "start": "19378638",
    "end": "19385280"
  },
  {
    "text": "stuff up right and here's the here's the most this is the most powerful part and",
    "start": "19385280",
    "end": "19391360"
  },
  {
    "text": "i think whoever designed the websocket protocol is smart because of that the client initiate the close but look",
    "start": "19391360",
    "end": "19398878"
  },
  {
    "text": "at this the server obviously there's an acknowledgement obviously",
    "start": "19398878",
    "end": "19404400"
  },
  {
    "text": "that from the client that we received the the last message but here's the thing",
    "start": "19404400",
    "end": "19409600"
  },
  {
    "text": "the server is doing the actual physical thing to close the physical tcp",
    "start": "19409600",
    "end": "19417120"
  },
  {
    "text": "connection so here's the was like a logical close and here we flipped it",
    "start": "19417120",
    "end": "19422160"
  },
  {
    "text": "the server is closing the connection and i'm going to explain why and i think i i think that's the reason when the",
    "start": "19422160",
    "end": "19429200"
  },
  {
    "text": "server closes the connection whoever closes the connection first end up",
    "start": "19429200",
    "end": "19434558"
  },
  {
    "text": "the other party end up in a in a tcp weight state which will be there for",
    "start": "19434558",
    "end": "19440000"
  },
  {
    "text": "around four minutes to receive all the garbage delayed segments and all that stuff and",
    "start": "19440000",
    "end": "19446000"
  },
  {
    "text": "i didn't really talk about tcp waiting and i'm going to talk about another video but that's a state where every tcp",
    "start": "19446000",
    "end": "19451520"
  },
  {
    "text": "connection will go to in in order to clean things up it's a lingering mode",
    "start": "19451520",
    "end": "19456558"
  },
  {
    "text": "right so what we happen here is like the server is doing a fin act and we know why every",
    "start": "19456558",
    "end": "19463440"
  },
  {
    "text": "what every data that server does is always acknowledgement so that's that's just a free bit that we",
    "start": "19463440",
    "end": "19469760"
  },
  {
    "text": "set to acknowledge stuff that we haven't done in the past right you might and",
    "start": "19469760",
    "end": "19475200"
  },
  {
    "text": "acknowledge my got lost right because there is no acknowledgement of an acknowledgement unfortunately right",
    "start": "19475200",
    "end": "19481040"
  },
  {
    "text": "here's that so yeah finnec the server is doing the finance the client says okay i acknowledge your",
    "start": "19481040",
    "end": "19487600"
  },
  {
    "text": "fan and here's my fin x so i am responding to your fan and the server acknowledges and",
    "start": "19487600",
    "end": "19494718"
  },
  {
    "text": "immediately terminates safely right this way the server the websocket server especially right if",
    "start": "19494718",
    "end": "19501840"
  },
  {
    "text": "the client initiate the close the connections it will not be it will not it will not end up in a state where the",
    "start": "19501840",
    "end": "19508878"
  },
  {
    "text": "all this tcp weight state or or overwhelming the",
    "start": "19508878",
    "end": "19514080"
  },
  {
    "text": "memory of the server right in this case this the tcp weight state will be in the client side and that",
    "start": "19514080",
    "end": "19520240"
  },
  {
    "text": "that will be a little bit better and that i didn't know that to be honest i just know it when i made this video all right guys so that was the wire",
    "start": "19520240",
    "end": "19526798"
  },
  {
    "text": "sharking web sockets uh just a little bit of closer look of what's happening",
    "start": "19526798",
    "end": "19532558"
  },
  {
    "text": "in the back end when you really establish a tcp connection and do some websocket connections right",
    "start": "19532558",
    "end": "19538958"
  },
  {
    "text": "right so yeah i'm i'm not sure what happened if that cli if the server initiates the close",
    "start": "19538958",
    "end": "19544160"
  },
  {
    "text": "that would be an interesting video to make and then just analysis and let me know guys if you",
    "start": "19544160",
    "end": "19550000"
  },
  {
    "text": "like this kind of content and uh i'm gonna see you in the next one you guys stay awesome goodbye",
    "start": "19550000",
    "end": "19561200"
  },
  {
    "text": "what is going on guys my name is hussain in this video i want to talk about how websockets work with http 2 yes",
    "start": "19561200",
    "end": "19569440"
  },
  {
    "text": "it for a longest time we always thought that why reinvent the wheel we know how web",
    "start": "19569440",
    "end": "19575520"
  },
  {
    "text": "sockets work with http one which is i'm gonna explain now in a second why can't we just use the same method",
    "start": "19575520",
    "end": "19581920"
  },
  {
    "text": "there's a very very good reason there are a lot of smart engineers sitting down and building",
    "start": "19581920",
    "end": "19587520"
  },
  {
    "text": "great spec to squeeze every single performance out of",
    "start": "19587520",
    "end": "19594638"
  },
  {
    "text": "everything right and this is one of them this is the what i'm gonna about to explain is",
    "start": "19594638",
    "end": "19600000"
  },
  {
    "text": "rfc request for comment eight four four one how about we jump into it",
    "start": "19600000",
    "end": "19606798"
  },
  {
    "text": "lights on guys all right so uh this rfc is called the bootstrap boot",
    "start": "19609120",
    "end": "19616080"
  },
  {
    "text": "scrapping bootstrapping websockets with http 2. all right guys but before we talked about that i want",
    "start": "19616080",
    "end": "19623120"
  },
  {
    "text": "you to have a little bit of an idea how http 2 works if you don't check out the video here right",
    "start": "19623120",
    "end": "19629760"
  },
  {
    "text": "here i think it's right here yeah check out the video right here to learn more about httpc is very critical",
    "start": "19629760",
    "end": "19636160"
  },
  {
    "text": "for then for the point i'm about to make however http",
    "start": "19636160",
    "end": "19641760"
  },
  {
    "text": "normal http traffic one one with all pop sockets work as follows okay",
    "start": "19641760",
    "end": "19648000"
  },
  {
    "text": "i am a client this is a mobile phone and this is a websocket server say this",
    "start": "19648000",
    "end": "19654240"
  },
  {
    "text": "is the websocket server what you every websocket server is a web",
    "start": "19654240",
    "end": "19659520"
  },
  {
    "text": "server that means it's listen usually in port 80 or 443 and you can listen to any port really",
    "start": "19659520",
    "end": "19665680"
  },
  {
    "text": "really and what would we do with the client establishes a tcp connection between uh",
    "start": "19665680",
    "end": "19672400"
  },
  {
    "text": "itself and the web server and then it attempts to communicate using just normal git",
    "start": "19672400",
    "end": "19678958"
  },
  {
    "text": "request and the first get request that sends it says hey get request this is a normal http",
    "start": "19678958",
    "end": "19686798"
  },
  {
    "text": "traffic right get request and in the header says here's an upgrade header i want to",
    "start": "19686798",
    "end": "19694320"
  },
  {
    "text": "upgrade this pipe that i just created right between moir and",
    "start": "19694320",
    "end": "19702878"
  },
  {
    "text": "and i want to make it into a websocket server do you support this",
    "start": "19703040",
    "end": "19710240"
  },
  {
    "text": "or not that upgrade request which is nominal good request that upgrade request reaches the web",
    "start": "19710240",
    "end": "19716958"
  },
  {
    "text": "server and the web server says wait a second i don't know what the heck is the swap socket thing so",
    "start": "19716958",
    "end": "19722240"
  },
  {
    "text": "i don't know it will just ignore it or if it does know what a websocket says",
    "start": "19722240",
    "end": "19727920"
  },
  {
    "text": "look yes i know this is going to reply with 101 i believe for the status quo says",
    "start": "19727920",
    "end": "19733440"
  },
  {
    "text": "switching protocol sun it's going to say that and then from now on that tcp that beautiful tcp",
    "start": "19733440",
    "end": "19740798"
  },
  {
    "text": "connection that we created is just now reserved for this websocket",
    "start": "19740798",
    "end": "19747440"
  },
  {
    "text": "you can't do anything with them so if you want to send a git request to obtain a css file or javascript use",
    "start": "19747440",
    "end": "19754400"
  },
  {
    "text": "another size use another tcp connection you cannot use this this is reserved for the web sockets right",
    "start": "19754400",
    "end": "19760400"
  },
  {
    "text": "and that's uh that's essentially how websockets so now the server can send garbage to the client the client can",
    "start": "19760400",
    "end": "19766320"
  },
  {
    "text": "send garbage to the server and they can communicate with information all right so that's the idea of",
    "start": "19766320",
    "end": "19774000"
  },
  {
    "text": "websocket obviously with http one",
    "start": "19774000",
    "end": "19780638"
  },
  {
    "text": "one one establishing tcp and having it only does one thing",
    "start": "19780638",
    "end": "19787840"
  },
  {
    "text": "is a little bit waste of memory right and waste of resources because tcp can does",
    "start": "19787840",
    "end": "19793280"
  },
  {
    "text": "can do so much for us right and we're using it for just a request response and yeah the browser does this silly thing",
    "start": "19793280",
    "end": "19800958"
  },
  {
    "text": "that's called pipelining and and it just establishes six tcp connections but where this is over now http 2",
    "start": "19800958",
    "end": "19809360"
  },
  {
    "text": "have one tcp connection between the client and the server and you can multiplex",
    "start": "19809360",
    "end": "19817200"
  },
  {
    "text": "multiple multiple from the site multiplex multiple requests into the single pipe",
    "start": "19817200",
    "end": "19823680"
  },
  {
    "text": "that we built so you can sell a request to get the index to html a request to get this uh",
    "start": "19823680",
    "end": "19830798"
  },
  {
    "text": "javascript file and the css and and your pdfs and everything your apis your jsons all of",
    "start": "19830798",
    "end": "19838240"
  },
  {
    "text": "them can be multiplexed together and you might say who's saying how though right how how do i know if there",
    "start": "19838240",
    "end": "19844558"
  },
  {
    "text": "if you're sending everything in the almost in parallel how do i know that the reque the",
    "start": "19844558",
    "end": "19850080"
  },
  {
    "text": "responses that comes back from the observer are for which request you don't know",
    "start": "19850080",
    "end": "19855120"
  },
  {
    "text": "right because they can come out out of order here is where the idea of",
    "start": "19855120",
    "end": "19861280"
  },
  {
    "text": "stream tagging and i don't like that war stream to be honest i i prefer what rabbit mcq named it",
    "start": "19861280",
    "end": "19869040"
  },
  {
    "text": "channel but it is what it is that's what google did right google is all mighty sam they",
    "start": "19869040",
    "end": "19876718"
  },
  {
    "text": "decided speedy is called this these are called streams so we're following those call streams so yeah these are called streams and every",
    "start": "19876718",
    "end": "19883360"
  },
  {
    "text": "single stinking request will get a stream id so if the request resp the server responds",
    "start": "19883360",
    "end": "19890080"
  },
  {
    "text": "back with the data for that request it will tag it with that stream id i don't know what the hell what is that about sorry",
    "start": "19890080",
    "end": "19896878"
  },
  {
    "text": "so yeah we'll see every response will have a stream id so if the client will come back we'll say",
    "start": "19896878",
    "end": "19903040"
  },
  {
    "text": "okay this is stream id oh this is for this guy this is for this client this is for this client and i will start doing that it's",
    "start": "19903040",
    "end": "19910080"
  },
  {
    "text": "beautiful it's a beautiful design a little bit of unlimited limitations that i talked about here tcp and http 2 limitation check out this",
    "start": "19910080",
    "end": "19917760"
  },
  {
    "text": "video but regardless it's beautiful one tcp connection for many requests websocket",
    "start": "19917760",
    "end": "19926798"
  },
  {
    "text": "right the og websocket client comes it's like yo what's up i want to make um upgrade",
    "start": "19926798",
    "end": "19933760"
  },
  {
    "text": "request and goes into the pipe right imagine we don't have this new rfc and the server go that says yeah i",
    "start": "19933760",
    "end": "19941440"
  },
  {
    "text": "support websocket server and we'll reply back with the websocket upgrade and they will say yeah okay let's do",
    "start": "19941440",
    "end": "19947120"
  },
  {
    "text": "that okay let's use this tcp connection as a whop socket i was like whoa he's like the browser",
    "start": "19947120",
    "end": "19952160"
  },
  {
    "text": "says wait wait a minute wait a minute what the heck are you talking about i'm using the same tcp connection for",
    "start": "19952160",
    "end": "19958718"
  },
  {
    "text": "70 other streams and requests you cannot just hijack the whole tcp connection for your",
    "start": "19958718",
    "end": "19963920"
  },
  {
    "text": "stinking websockets chatting gaming session no sir no",
    "start": "19963920",
    "end": "19969280"
  },
  {
    "text": "we need to find a solution and that's what browsers do and i'm not sure if actually they implemented this or not it says here",
    "start": "19969280",
    "end": "19978718"
  },
  {
    "text": "mozilla actually proposed this thing pretty neat huh so mozilla proposed this this like you",
    "start": "19978958",
    "end": "19986240"
  },
  {
    "text": "know what web sockets will act differently we want websockets to act",
    "start": "19986240",
    "end": "19992958"
  },
  {
    "text": "differently in http 2. and here's what we want you can still do the same thing we cannot",
    "start": "19992958",
    "end": "19998000"
  },
  {
    "text": "no we can no longer do this upgrade thingy because it's a little bit different upgrade behave differently but you can",
    "start": "19998000",
    "end": "20004878"
  },
  {
    "text": "still use another git request using another method called connect and using that tell us what what protocol",
    "start": "20004878",
    "end": "20012638"
  },
  {
    "text": "you want to use and when we get it to the the other side if the web server supports http 2 it",
    "start": "20012638",
    "end": "20019680"
  },
  {
    "text": "will know to use one stream",
    "start": "20019680",
    "end": "20024798"
  },
  {
    "text": "one thread just for warp sockets on the same tcp connection isn't that",
    "start": "20024798",
    "end": "20031360"
  },
  {
    "text": "cool right this is pretty cool so they have to see the cmtcp connection one stream one channel i i'm gonna call",
    "start": "20031360",
    "end": "20038400"
  },
  {
    "text": "it channel because i hate the word stream stream what the heck stream means or is it river no",
    "start": "20038400",
    "end": "20043840"
  },
  {
    "text": "i don't like the stream i'm gonna call it channel so yeah so that stream will be",
    "start": "20043840",
    "end": "20049440"
  },
  {
    "text": "essentially just for websocket another stream for your get request another stream for the post request another stream for the put request",
    "start": "20049440",
    "end": "20055920"
  },
  {
    "text": "another request for the delete another request for everything right so we still want tcp connection",
    "start": "20055920",
    "end": "20061440"
  },
  {
    "text": "with every single thing so that's an idea of bootstrapping websockets with gdb2",
    "start": "20061440",
    "end": "20067520"
  },
  {
    "text": "instead of hijacking the whole socket to do one single thing",
    "start": "20067520",
    "end": "20072878"
  },
  {
    "text": "right we're gonna reuse it and reuse it to do multiple things all right guys gonna see you in the next",
    "start": "20072878",
    "end": "20078160"
  },
  {
    "text": "one you guys stay awesome",
    "start": "20078160",
    "end": "20086558"
  }
]