[
  {
    "text": "[Music]",
    "start": "250",
    "end": "1220"
  },
  {
    "text": "now we need to learn about this pros and",
    "start": "1220",
    "end": "4890"
  },
  {
    "text": "cons with this technology because",
    "start": "4890",
    "end": "5970"
  },
  {
    "text": "there's nothing perfect there's always",
    "start": "5970",
    "end": "7980"
  },
  {
    "text": "pros and cons yeah so what's bad about",
    "start": "7980",
    "end": "10050"
  },
  {
    "text": "this what's good about this what's good",
    "start": "10050",
    "end": "12719"
  },
  {
    "text": "about this pros it's full duplex so if",
    "start": "12719",
    "end": "15410"
  },
  {
    "text": "you are building an application that",
    "start": "15410",
    "end": "18060"
  },
  {
    "text": "requires the server to send you updates",
    "start": "18060",
    "end": "20750"
  },
  {
    "text": "okay you do not need to do polling",
    "start": "20750",
    "end": "23609"
  },
  {
    "text": "essentially and you don't need to ask",
    "start": "23609",
    "end": "25890"
  },
  {
    "text": "the server",
    "start": "25890",
    "end": "26519"
  },
  {
    "text": "hey server do you have this do you have",
    "start": "26519",
    "end": "28920"
  },
  {
    "text": "this do you have this do you have this",
    "start": "28920",
    "end": "30630"
  },
  {
    "text": "are we there yet with area you don't you",
    "start": "30630",
    "end": "32668"
  },
  {
    "text": "don't have to do that and that's it you",
    "start": "32669",
    "end": "35010"
  },
  {
    "text": "have to do that with HTTP with HTTP",
    "start": "35010",
    "end": "37710"
  },
  {
    "text": "because it's a request response system",
    "start": "37710",
    "end": "40230"
  },
  {
    "text": "right full duplex on the other hand you",
    "start": "40230",
    "end": "42899"
  },
  {
    "text": "don't have to server can send you",
    "start": "42899",
    "end": "44969"
  },
  {
    "text": "information client can send you",
    "start": "44969",
    "end": "46920"
  },
  {
    "text": "information right and you can build it",
    "start": "46920",
    "end": "48960"
  },
  {
    "text": "for gaming and you can build really cool",
    "start": "48960",
    "end": "51719"
  },
  {
    "text": "apps with this technology",
    "start": "51719",
    "end": "53449"
  },
  {
    "text": "it's HTTP compatible because of the",
    "start": "53449",
    "end": "55890"
  },
  {
    "text": "upgrade hitter",
    "start": "55890",
    "end": "56610"
  },
  {
    "text": "without that proxies will fail things",
    "start": "56610",
    "end": "60090"
  },
  {
    "text": "can go bad nobody can know this is",
    "start": "60090",
    "end": "63030"
  },
  {
    "text": "actually a WebSocket right if you",
    "start": "63030",
    "end": "64559"
  },
  {
    "text": "started just creating a socket right and",
    "start": "64559",
    "end": "68490"
  },
  {
    "text": "then sending going on formation the the",
    "start": "68490",
    "end": "71820"
  },
  {
    "text": "fire will start blocking this is like",
    "start": "71820",
    "end": "73500"
  },
  {
    "text": "what the heck is this right what are you",
    "start": "73500",
    "end": "75780"
  },
  {
    "text": "sending me right but because it's",
    "start": "75780",
    "end": "77850"
  },
  {
    "text": "started with an upgrade with an legette",
    "start": "77850",
    "end": "80460"
  },
  {
    "text": "HTTP request and then we upgraded it to",
    "start": "80460",
    "end": "83310"
  },
  {
    "text": "a WebSocket",
    "start": "83310",
    "end": "84180"
  },
  {
    "text": "that kind of passes all the Internet",
    "start": "84180",
    "end": "87420"
  },
  {
    "text": "infrastructure and a wolf should should",
    "start": "87420",
    "end": "91560"
  },
  {
    "text": "work with the wood anything right there",
    "start": "91560",
    "end": "95159"
  },
  {
    "text": "are problems there are we gonna talk",
    "start": "95159",
    "end": "96720"
  },
  {
    "text": "about it it's far more friendly because",
    "start": "96720",
    "end": "99930"
  },
  {
    "text": "it's a standard HT HT DB it's only 443",
    "start": "99930",
    "end": "103020"
  },
  {
    "text": "or 80 well you can listen to an onion on",
    "start": "103020",
    "end": "105540"
  },
  {
    "text": "the report and that's how HTTP works",
    "start": "105540",
    "end": "107670"
  },
  {
    "text": "right HTTP webserver you can listen to",
    "start": "107670",
    "end": "109380"
  },
  {
    "text": "any port you want but usually it's just",
    "start": "109380",
    "end": "113430"
  },
  {
    "text": "40 if it's just 40 usually it's 80 when",
    "start": "113430",
    "end": "118590"
  },
  {
    "text": "it's insecure its 443 when it's secure",
    "start": "118590",
    "end": "122189"
  },
  {
    "text": "okay and what else oh we already out of",
    "start": "122189",
    "end": "129330"
  },
  {
    "text": "good things I can probably think of more",
    "start": "129330",
    "end": "132660"
  },
  {
    "text": "good things I just didn't",
    "start": "132660",
    "end": "134270"
  },
  {
    "text": "Conn's proxying is very tricky guys",
    "start": "134270",
    "end": "137930"
  },
  {
    "text": "nginx just recently started adding this",
    "start": "137930",
    "end": "140840"
  },
  {
    "text": "to the to its socket support try it it's",
    "start": "140840",
    "end": "144450"
  },
  {
    "text": "it's real tricky to know that hey you're",
    "start": "144450",
    "end": "147830"
  },
  {
    "text": "you're you're receiving a WebSocket",
    "start": "147830",
    "end": "151050"
  },
  {
    "text": "request and you have to do like HTTP",
    "start": "151050",
    "end": "153510"
  },
  {
    "text": "upgrade and the client the server has to",
    "start": "153510",
    "end": "155910"
  },
  {
    "text": "respond to the hdbo especially if it's",
    "start": "155910",
    "end": "159330"
  },
  {
    "text": "the proxy is the layer seven proxy",
    "start": "159330",
    "end": "161459"
  },
  {
    "text": "because you know we talked about layer",
    "start": "161459",
    "end": "163770"
  },
  {
    "text": "seven and layer for load balancing and",
    "start": "163770",
    "end": "166020"
  },
  {
    "text": "proxying guys and we reference the video",
    "start": "166020",
    "end": "168030"
  },
  {
    "text": "here and what happens essentially with",
    "start": "168030",
    "end": "170370"
  },
  {
    "text": "layer seven is",
    "start": "170370",
    "end": "171680"
  },
  {
    "text": "proxy has to break the TLS right it has",
    "start": "171680",
    "end": "175380"
  },
  {
    "text": "to terminate the TLS most of the time in",
    "start": "175380",
    "end": "178170"
  },
  {
    "text": "order to look at the layer seven ADA",
    "start": "178170",
    "end": "181050"
  },
  {
    "text": "which is HTTP and the moment it does",
    "start": "181050",
    "end": "183330"
  },
  {
    "text": "that it has to create its own TCP",
    "start": "183330",
    "end": "186390"
  },
  {
    "text": "connection with the destination server",
    "start": "186390",
    "end": "188070"
  },
  {
    "text": "and God knows how you can handle this",
    "start": "188070",
    "end": "192060"
  },
  {
    "text": "whoops socket and because there will be",
    "start": "192060",
    "end": "194580"
  },
  {
    "text": "a bi-directional between the proxy and",
    "start": "194580",
    "end": "196769"
  },
  {
    "text": "the server and then a another PI",
    "start": "196769",
    "end": "198510"
  },
  {
    "text": "direction between the client and and the",
    "start": "198510",
    "end": "200690"
  },
  {
    "text": "proxy is just a mess all right okay so I",
    "start": "200690",
    "end": "204630"
  },
  {
    "text": "really recommend just doing a layer for",
    "start": "204630",
    "end": "207590"
  },
  {
    "text": "load balancer or proxying and just never",
    "start": "207590",
    "end": "210959"
  },
  {
    "text": "worrying about it okay yeah layer seven",
    "start": "210959",
    "end": "214260"
  },
  {
    "text": "load balancing is very challenging",
    "start": "214260",
    "end": "215450"
  },
  {
    "text": "dealing with timeouts because proxy HTTP",
    "start": "215450",
    "end": "220739"
  },
  {
    "text": "or normally have our timeouts right",
    "start": "220739",
    "end": "222269"
  },
  {
    "text": "server timeout okay",
    "start": "222269",
    "end": "223650"
  },
  {
    "text": "but OOP socket shouldn't have timeouts",
    "start": "223650",
    "end": "226739"
  },
  {
    "text": "because you're using the connection yes",
    "start": "226739",
    "end": "229380"
  },
  {
    "text": "of course it's gonna take a long time",
    "start": "229380",
    "end": "231090"
  },
  {
    "text": "it's gonna stay open for a long time",
    "start": "231090",
    "end": "233070"
  },
  {
    "text": "even if it's not used you shouldn't",
    "start": "233070",
    "end": "234959"
  },
  {
    "text": "terminate that for me because I can use",
    "start": "234959",
    "end": "237180"
  },
  {
    "text": "it at any second right so timeout is",
    "start": "237180",
    "end": "239910"
  },
  {
    "text": "tricky right and you probably don't care",
    "start": "239910",
    "end": "242880"
  },
  {
    "text": "about these things but it's good to",
    "start": "242880",
    "end": "244650"
  },
  {
    "text": "mention it's a stateful protocol right",
    "start": "244650",
    "end": "248370"
  },
  {
    "text": "we talked we saw this literally this",
    "start": "248370",
    "end": "250410"
  },
  {
    "text": "variable called connection and it's",
    "start": "250410",
    "end": "252720"
  },
  {
    "text": "literally on my server so if I sort of",
    "start": "252720",
    "end": "256560"
  },
  {
    "text": "start my server my connection is dead",
    "start": "256560",
    "end": "259019"
  },
  {
    "text": "the client is dead and you just you just",
    "start": "259019",
    "end": "263700"
  },
  {
    "text": "lost the connection essentially right",
    "start": "263700",
    "end": "265470"
  },
  {
    "text": "you have to re-establish that",
    "start": "265470",
    "end": "267360"
  },
  {
    "text": "okay so it since it's tasteful it's",
    "start": "267360",
    "end": "269699"
  },
  {
    "text": "really hard to horizontally scale yeah",
    "start": "269699",
    "end": "272900"
  },
  {
    "text": "does that mean you cannot horizontally",
    "start": "272900",
    "end": "275280"
  },
  {
    "text": "scale no it does not mean that you can",
    "start": "275280",
    "end": "277800"
  },
  {
    "text": "write WebSockets in you can persist the",
    "start": "277800",
    "end": "281400"
  },
  {
    "text": "circuits you can you can write smart",
    "start": "281400",
    "end": "284030"
  },
  {
    "text": "application to use a third like a server",
    "start": "284030",
    "end": "287669"
  },
  {
    "text": "database service like a Postgres to kind",
    "start": "287669",
    "end": "290370"
  },
  {
    "text": "of will persist the connection IDs and",
    "start": "290370",
    "end": "293009"
  },
  {
    "text": "have numbers in them and then you read",
    "start": "293009",
    "end": "295409"
  },
  {
    "text": "the connection and then you have to",
    "start": "295409",
    "end": "296580"
  },
  {
    "text": "maintain the state and the database and",
    "start": "296580",
    "end": "298770"
  },
  {
    "text": "even if the database died it will just",
    "start": "298770",
    "end": "301469"
  },
  {
    "text": "if this another if the the server died",
    "start": "301469",
    "end": "304050"
  },
  {
    "text": "it can read back all the connections",
    "start": "304050",
    "end": "306900"
  },
  {
    "text": "from the database and do smart thing and",
    "start": "306900",
    "end": "309270"
  },
  {
    "text": "re-establish those right if you want to",
    "start": "309270",
    "end": "311340"
  },
  {
    "text": "write it's still it's still not easy the",
    "start": "311340",
    "end": "313710"
  },
  {
    "text": "client has to be written in our way to",
    "start": "313710",
    "end": "316979"
  },
  {
    "text": "do the statelessness thing okay it's not",
    "start": "316979",
    "end": "320069"
  },
  {
    "text": "impossible but is very tricky",
    "start": "320069",
    "end": "321820"
  },
  {
    "text": "[Music]",
    "start": "321820",
    "end": "341889"
  }
]