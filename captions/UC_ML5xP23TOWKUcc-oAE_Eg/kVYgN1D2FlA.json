[
  {
    "text": "here's a problem nobody has except",
    "start": "80",
    "end": "1920"
  },
  {
    "text": "google",
    "start": "1920",
    "end": "2960"
  },
  {
    "text": "uh linux is taking a minute to restart",
    "start": "2960",
    "end": "7120"
  },
  {
    "text": "you might say why",
    "start": "7120",
    "end": "8639"
  },
  {
    "text": "my linux bug sticks",
    "start": "8639",
    "end": "10559"
  },
  {
    "text": "seconds to restart so those guys have 16",
    "start": "10559",
    "end": "14880"
  },
  {
    "text": "and plus drives nvme pcie",
    "start": "14880",
    "end": "18800"
  },
  {
    "text": "ssd drives uh on their linux boxes and",
    "start": "18800",
    "end": "22560"
  },
  {
    "text": "each drive when linux sends a signal to",
    "start": "22560",
    "end": "25760"
  },
  {
    "text": "that drive to shut down and what flush",
    "start": "25760",
    "end": "28480"
  },
  {
    "text": "whatever it has in its cache that takes",
    "start": "28480",
    "end": "30960"
  },
  {
    "text": "around 4.5 to 5 seconds i was surprised",
    "start": "30960",
    "end": "34320"
  },
  {
    "text": "just like it was like five seconds to",
    "start": "34320",
    "end": "35680"
  },
  {
    "text": "shut out drive so it adds up when you",
    "start": "35680",
    "end": "38160"
  },
  {
    "text": "have 16 plus drives that just adds up to",
    "start": "38160",
    "end": "41440"
  },
  {
    "text": "a minute right because linux is doing",
    "start": "41440",
    "end": "44320"
  },
  {
    "text": "this synchronously",
    "start": "44320",
    "end": "46320"
  },
  {
    "text": "and",
    "start": "46320",
    "end": "47120"
  },
  {
    "text": "it's fascinating to me reading these",
    "start": "47120",
    "end": "49280"
  },
  {
    "text": "kind of articles",
    "start": "49280",
    "end": "51039"
  },
  {
    "text": "and how google is trying to optimize the",
    "start": "51039",
    "end": "54399"
  },
  {
    "text": "heck of every single piece of the",
    "start": "54399",
    "end": "57840"
  },
  {
    "text": "software stack i'm just fascinated by",
    "start": "57840",
    "end": "60000"
  },
  {
    "text": "this how about we go into this article",
    "start": "60000",
    "end": "61600"
  },
  {
    "text": "and discuss",
    "start": "61600",
    "end": "63120"
  },
  {
    "text": "all right this comes from for onyx now",
    "start": "63120",
    "end": "65360"
  },
  {
    "text": "guys i really",
    "start": "65360",
    "end": "67360"
  },
  {
    "text": "encourage you to subscribe to this",
    "start": "67360",
    "end": "70479"
  },
  {
    "text": "blog i mean i i usually find it from",
    "start": "70479",
    "end": "72640"
  },
  {
    "text": "google news and that's how i find my",
    "start": "72640",
    "end": "75200"
  },
  {
    "text": "news essentially for onyx has been",
    "start": "75200",
    "end": "77759"
  },
  {
    "text": "cranking great articles about linux and",
    "start": "77759",
    "end": "81119"
  },
  {
    "text": "frankly speaking i'm not really expert",
    "start": "81119",
    "end": "83280"
  },
  {
    "text": "in linux but i'm learning so much so",
    "start": "83280",
    "end": "85600"
  },
  {
    "text": "let's read a blurb about this and",
    "start": "85600",
    "end": "88080"
  },
  {
    "text": "discuss about",
    "start": "88080",
    "end": "89600"
  },
  {
    "text": "this synchronicity",
    "start": "89600",
    "end": "91439"
  },
  {
    "text": "in",
    "start": "91439",
    "end": "92159"
  },
  {
    "text": "linux",
    "start": "92159",
    "end": "94159"
  },
  {
    "text": "google has a problem with linux server",
    "start": "94159",
    "end": "95840"
  },
  {
    "text": "reboots too slow due to too many nvme",
    "start": "95840",
    "end": "98799"
  },
  {
    "text": "drives hyperscale problems these days",
    "start": "98799",
    "end": "100960"
  },
  {
    "text": "linux servers taking too long to reboot",
    "start": "100960",
    "end": "104479"
  },
  {
    "text": "due to having too many",
    "start": "104479",
    "end": "106399"
  },
  {
    "text": "nvme intros thankfully google is working",
    "start": "106399",
    "end": "108399"
  },
  {
    "text": "on an improvement to address this where",
    "start": "108399",
    "end": "110799"
  },
  {
    "text": "some of their many driver server can",
    "start": "110799",
    "end": "113840"
  },
  {
    "text": "take more than one minute",
    "start": "113840",
    "end": "116240"
  },
  {
    "text": "for linux to kernel to shut down so",
    "start": "116240",
    "end": "119920"
  },
  {
    "text": "nobody cares like we're starting service",
    "start": "119920",
    "end": "122320"
  },
  {
    "text": "like if i'm if i'm starting a server",
    "start": "122320",
    "end": "125280"
  },
  {
    "text": "you know how often your start actual",
    "start": "125280",
    "end": "127840"
  },
  {
    "text": "server you keep them running for months",
    "start": "127840",
    "end": "129679"
  },
  {
    "text": "and if you actually want to restore them",
    "start": "129679",
    "end": "131680"
  },
  {
    "text": "yeah that'll take a minute or two but",
    "start": "131680",
    "end": "133840"
  },
  {
    "text": "google cannot afford that right",
    "start": "133840",
    "end": "135840"
  },
  {
    "text": "especially if you",
    "start": "135840",
    "end": "137360"
  },
  {
    "text": "if you want to",
    "start": "137360",
    "end": "139200"
  },
  {
    "text": "have",
    "start": "139200",
    "end": "140239"
  },
  {
    "text": "availability and high availability all",
    "start": "140239",
    "end": "142400"
  },
  {
    "text": "the time you want these machines to come",
    "start": "142400",
    "end": "144160"
  },
  {
    "text": "back as fast as possible one minute can",
    "start": "144160",
    "end": "146160"
  },
  {
    "text": "cost you a lot of money",
    "start": "146160",
    "end": "148560"
  },
  {
    "text": "if you're google so google engine are",
    "start": "148560",
    "end": "150080"
  },
  {
    "text": "proposing an asynchronous shutdown",
    "start": "150080",
    "end": "152000"
  },
  {
    "text": "interface",
    "start": "152000",
    "end": "153760"
  },
  {
    "text": "for the next corner currently the linux",
    "start": "153760",
    "end": "155840"
  },
  {
    "text": "kernel shutdown api and the bus level",
    "start": "155840",
    "end": "159120"
  },
  {
    "text": "are synchronous what does that mean i",
    "start": "159120",
    "end": "161680"
  },
  {
    "text": "talked about synchronous and",
    "start": "161680",
    "end": "163360"
  },
  {
    "text": "asynchronous i'm going to reference the",
    "start": "163360",
    "end": "164640"
  },
  {
    "text": "video here but which can cause problems",
    "start": "164640",
    "end": "166400"
  },
  {
    "text": "like google reports with having too many",
    "start": "166400",
    "end": "168400"
  },
  {
    "text": "nvme storage drives in a single server",
    "start": "168400",
    "end": "171840"
  },
  {
    "text": "due to synchronous nature during the",
    "start": "171840",
    "end": "173519"
  },
  {
    "text": "shutdown handling each nvme can",
    "start": "173519",
    "end": "176319"
  },
  {
    "text": "take about 4.5 seconds to shut down so",
    "start": "176319",
    "end": "178800"
  },
  {
    "text": "add that up and and you're going to get",
    "start": "178800",
    "end": "181360"
  },
  {
    "text": "around a minute look at this there's a",
    "start": "181360",
    "end": "183519"
  },
  {
    "text": "uh actually a picture here with this",
    "start": "183519",
    "end": "186640"
  },
  {
    "text": "list i don't know if this is actually",
    "start": "186640",
    "end": "188480"
  },
  {
    "text": "google or it's just uh the for onyx",
    "start": "188480",
    "end": "191200"
  },
  {
    "text": "guys just brought showed up a picture of",
    "start": "191200",
    "end": "193440"
  },
  {
    "text": "16 in vme",
    "start": "193440",
    "end": "195360"
  },
  {
    "text": "but guys um",
    "start": "195360",
    "end": "197040"
  },
  {
    "text": "this this is really",
    "start": "197040",
    "end": "198720"
  },
  {
    "text": "interesting when i so this this brings",
    "start": "198720",
    "end": "201040"
  },
  {
    "text": "us back to just the nature of",
    "start": "201040",
    "end": "203200"
  },
  {
    "text": "programming you know not uh when you",
    "start": "203200",
    "end": "205840"
  },
  {
    "text": "have synchronous apis and let's assume",
    "start": "205840",
    "end": "209519"
  },
  {
    "text": "the linux operating system is doing a",
    "start": "209519",
    "end": "211760"
  },
  {
    "text": "loop it's like hey i have 16 devices",
    "start": "211760",
    "end": "214080"
  },
  {
    "text": "let's loop through each one of them and",
    "start": "214080",
    "end": "216080"
  },
  {
    "text": "send this shutdown signal right send",
    "start": "216080",
    "end": "218560"
  },
  {
    "text": "this shutdown signal and you have to",
    "start": "218560",
    "end": "220959"
  },
  {
    "text": "wait for the sync",
    "start": "220959",
    "end": "222799"
  },
  {
    "text": "for the signal to come back for the api",
    "start": "222799",
    "end": "225599"
  },
  {
    "text": "to respond to you that okay the shutdown",
    "start": "225599",
    "end": "227440"
  },
  {
    "text": "has happened right and that takes five",
    "start": "227440",
    "end": "229760"
  },
  {
    "text": "seconds then you only then you can move",
    "start": "229760",
    "end": "233519"
  },
  {
    "text": "out of your loop and go to the next item",
    "start": "233519",
    "end": "236239"
  },
  {
    "text": "effectively right that's how synchronous",
    "start": "236239",
    "end": "238879"
  },
  {
    "text": "apis work right you you send and it's",
    "start": "238879",
    "end": "241599"
  },
  {
    "text": "blocking you blocked you cannot move to",
    "start": "241599",
    "end": "243920"
  },
  {
    "text": "the next uh thing unless you actually",
    "start": "243920",
    "end": "246799"
  },
  {
    "text": "wait for it so four point five second",
    "start": "246799",
    "end": "248799"
  },
  {
    "text": "and then four point five seconds four",
    "start": "248799",
    "end": "250319"
  },
  {
    "text": "point seven four four five second five",
    "start": "250319",
    "end": "252239"
  },
  {
    "text": "second then a minute later",
    "start": "252239",
    "end": "254560"
  },
  {
    "text": "you're just stuck so changing that to",
    "start": "254560",
    "end": "256720"
  },
  {
    "text": "asynchronous will just",
    "start": "256720",
    "end": "259519"
  },
  {
    "text": "loop all of them",
    "start": "259519",
    "end": "261120"
  },
  {
    "text": "send a signal to all of them",
    "start": "261120",
    "end": "262960"
  },
  {
    "text": "concurrently almost concurrently not",
    "start": "262960",
    "end": "265360"
  },
  {
    "text": "quite",
    "start": "265360",
    "end": "266240"
  },
  {
    "text": "but at the same time send a signal to",
    "start": "266240",
    "end": "268479"
  },
  {
    "text": "all of them you know i'm not i don't",
    "start": "268479",
    "end": "270240"
  },
  {
    "text": "care about the result yet i need the",
    "start": "270240",
    "end": "272240"
  },
  {
    "text": "result don't get me wrong but",
    "start": "272240",
    "end": "275360"
  },
  {
    "text": "in paris and all these requests just",
    "start": "275360",
    "end": "278000"
  },
  {
    "text": "sent in and you loop and then you send",
    "start": "278000",
    "end": "279919"
  },
  {
    "text": "all these requests you don't wait for",
    "start": "279919",
    "end": "282560"
  },
  {
    "text": "everyone and you get to get back come",
    "start": "282560",
    "end": "284639"
  },
  {
    "text": "sort of i call back whatever the",
    "start": "284639",
    "end": "286400"
  },
  {
    "text": "implementation is right but then",
    "start": "286400",
    "end": "288560"
  },
  {
    "text": "eventually once you have all of these",
    "start": "288560",
    "end": "291440"
  },
  {
    "text": "jobs",
    "start": "291440",
    "end": "293199"
  },
  {
    "text": "you're gonna get back the events",
    "start": "293199",
    "end": "295199"
  },
  {
    "text": "but eventually",
    "start": "295199",
    "end": "296960"
  },
  {
    "text": "the the devices will shut down",
    "start": "296960",
    "end": "300800"
  },
  {
    "text": "locally you know",
    "start": "300800",
    "end": "302880"
  },
  {
    "text": "in parallel so the entire fleet of",
    "start": "302880",
    "end": "306800"
  },
  {
    "text": "devices will shut down in around five",
    "start": "306800",
    "end": "309039"
  },
  {
    "text": "five five seconds or less be generous",
    "start": "309039",
    "end": "312160"
  },
  {
    "text": "maybe six or seven you know take take",
    "start": "312160",
    "end": "314639"
  },
  {
    "text": "into consideration the actual time to",
    "start": "314639",
    "end": "316320"
  },
  {
    "text": "loop and send the signal and get the",
    "start": "316320",
    "end": "318639"
  },
  {
    "text": "callback logic and all that so yeah the",
    "start": "318639",
    "end": "320560"
  },
  {
    "text": "whole thing just you can shave an entire",
    "start": "320560",
    "end": "322960"
  },
  {
    "text": "minute obviously there's there must be",
    "start": "322960",
    "end": "324880"
  },
  {
    "text": "logic to handle that right at the api",
    "start": "324880",
    "end": "328479"
  },
  {
    "text": "level you know uh it's like to wait for",
    "start": "328479",
    "end": "331600"
  },
  {
    "text": "all of these devices you know or you",
    "start": "331600",
    "end": "334080"
  },
  {
    "text": "cannot just send this and go to shutdown",
    "start": "334080",
    "end": "336800"
  },
  {
    "text": "you have to actually wait you still need",
    "start": "336800",
    "end": "338320"
  },
  {
    "text": "to wait for all these devices",
    "start": "338320",
    "end": "340479"
  },
  {
    "text": "to actually shut down",
    "start": "340479",
    "end": "342000"
  },
  {
    "text": "you know but the weight here is now",
    "start": "342000",
    "end": "346000"
  },
  {
    "text": "much quicker because now you sent these",
    "start": "346000",
    "end": "349120"
  },
  {
    "text": "requests and then you're now waiting",
    "start": "349120",
    "end": "352479"
  },
  {
    "text": "for all of them to reply to you you know",
    "start": "352479",
    "end": "354639"
  },
  {
    "text": "you're not just sending one request and",
    "start": "354639",
    "end": "356479"
  },
  {
    "text": "you're waiting and then sending and",
    "start": "356479",
    "end": "357680"
  },
  {
    "text": "waiting and saying wait no you just sent",
    "start": "357680",
    "end": "359520"
  },
  {
    "text": "everything and then you wait so yeah the",
    "start": "359520",
    "end": "361520"
  },
  {
    "text": "fix looks simple enough i think it's",
    "start": "361520",
    "end": "363759"
  },
  {
    "text": "safe",
    "start": "363759",
    "end": "365120"
  },
  {
    "text": "i just don't know if theoretically",
    "start": "365120",
    "end": "367039"
  },
  {
    "text": "speaking if you have like a thousands of",
    "start": "367039",
    "end": "369759"
  },
  {
    "text": "nvme drives or a lot of these drives in",
    "start": "369759",
    "end": "373360"
  },
  {
    "text": "the one server",
    "start": "373360",
    "end": "374960"
  },
  {
    "text": "i don't know if we'll be",
    "start": "374960",
    "end": "377520"
  },
  {
    "text": "still it will still have the same effect",
    "start": "377520",
    "end": "380560"
  },
  {
    "text": "can you",
    "start": "380560",
    "end": "381520"
  },
  {
    "text": "send thousand",
    "start": "381520",
    "end": "383440"
  },
  {
    "text": "concurrent",
    "start": "383440",
    "end": "386000"
  },
  {
    "text": "shutdown signals to",
    "start": "386000",
    "end": "387840"
  },
  {
    "text": "in parallel almost to all those devices",
    "start": "387840",
    "end": "391680"
  },
  {
    "text": "and just wait and then how how does this",
    "start": "391680",
    "end": "395039"
  },
  {
    "text": "the linux manage that",
    "start": "395039",
    "end": "397440"
  },
  {
    "text": "uh i know there is all this asynchronous",
    "start": "397440",
    "end": "399680"
  },
  {
    "text": "io on linux and there is the new iou",
    "start": "399680",
    "end": "402400"
  },
  {
    "text": "ring thing",
    "start": "402400",
    "end": "403840"
  },
  {
    "text": "that allows you to do that but uh yeah",
    "start": "403840",
    "end": "405759"
  },
  {
    "text": "i'm just not quite sure about that and",
    "start": "405759",
    "end": "409840"
  },
  {
    "text": "yeah 16 devices is not really that bad",
    "start": "409840",
    "end": "412720"
  },
  {
    "text": "it's just",
    "start": "412720",
    "end": "414880"
  },
  {
    "text": "that's that's where where you really",
    "start": "414880",
    "end": "416720"
  },
  {
    "text": "need to you know can balance synchronous",
    "start": "416720",
    "end": "418960"
  },
  {
    "text": "workload versus asynchronous you know",
    "start": "418960",
    "end": "420880"
  },
  {
    "text": "yeah asynchronous is great you just send",
    "start": "420880",
    "end": "422800"
  },
  {
    "text": "all these requests and i don't care i",
    "start": "422800",
    "end": "424240"
  },
  {
    "text": "can do some other things but",
    "start": "424240",
    "end": "426560"
  },
  {
    "text": "if you send too many",
    "start": "426560",
    "end": "429759"
  },
  {
    "text": "requests",
    "start": "429759",
    "end": "431199"
  },
  {
    "text": "too many",
    "start": "431199",
    "end": "432800"
  },
  {
    "text": "then you really need to come back and",
    "start": "432800",
    "end": "435039"
  },
  {
    "text": "manage those",
    "start": "435039",
    "end": "436479"
  },
  {
    "text": "right this this request and then it",
    "start": "436479",
    "end": "439199"
  },
  {
    "text": "depends on the in the asynchronous",
    "start": "439199",
    "end": "441759"
  },
  {
    "text": "uh program itself and",
    "start": "441759",
    "end": "443759"
  },
  {
    "text": "linux might have a great one that",
    "start": "443759",
    "end": "445759"
  },
  {
    "text": "doesn't have any side effects right but",
    "start": "445759",
    "end": "448160"
  },
  {
    "text": "i can't imagine that sending like i",
    "start": "448160",
    "end": "450560"
  },
  {
    "text": "don't know 10 000 requests at the same",
    "start": "450560",
    "end": "453759"
  },
  {
    "text": "time",
    "start": "453759",
    "end": "454680"
  },
  {
    "text": "asynchronously it would be a good idea",
    "start": "454680",
    "end": "457199"
  },
  {
    "text": "right",
    "start": "457199",
    "end": "458639"
  },
  {
    "text": "at the end of the day you need to mix",
    "start": "458639",
    "end": "461280"
  },
  {
    "text": "synchronous which is",
    "start": "461280",
    "end": "462960"
  },
  {
    "text": "you know the the synchronous semantic is",
    "start": "462960",
    "end": "464800"
  },
  {
    "text": "much simpler",
    "start": "464800",
    "end": "466240"
  },
  {
    "text": "uh",
    "start": "466240",
    "end": "467199"
  },
  {
    "text": "definitely memory efficient i would i",
    "start": "467199",
    "end": "469120"
  },
  {
    "text": "would assume you know because of this is",
    "start": "469120",
    "end": "472000"
  },
  {
    "text": "increased you still need some sort of a",
    "start": "472000",
    "end": "473599"
  },
  {
    "text": "structure to manage the out that the",
    "start": "473599",
    "end": "476240"
  },
  {
    "text": "result that come back to you but yeah i",
    "start": "476240",
    "end": "478160"
  },
  {
    "text": "don't know anything about linux internal",
    "start": "478160",
    "end": "480319"
  },
  {
    "text": "so i might be just speaking out my ass",
    "start": "480319",
    "end": "482639"
  },
  {
    "text": "here",
    "start": "482639",
    "end": "483520"
  },
  {
    "text": "but uh yeah guys what do you think about",
    "start": "483520",
    "end": "485440"
  },
  {
    "text": "this i found this fascinating i love",
    "start": "485440",
    "end": "487360"
  },
  {
    "text": "this stuff and uh",
    "start": "487360",
    "end": "489360"
  },
  {
    "text": "yeah a lot of people ask ask me how do",
    "start": "489360",
    "end": "491599"
  },
  {
    "text": "you",
    "start": "491599",
    "end": "493680"
  },
  {
    "text": "where do you get the news i literally",
    "start": "493680",
    "end": "495680"
  },
  {
    "text": "have google news and when you when you",
    "start": "495680",
    "end": "498560"
  },
  {
    "text": "have when you set up google news",
    "start": "498560",
    "end": "501280"
  },
  {
    "text": "basically",
    "start": "501280",
    "end": "502479"
  },
  {
    "text": "whatever you're interested in google",
    "start": "502479",
    "end": "504720"
  },
  {
    "text": "will show you more and you can kind of",
    "start": "504720",
    "end": "506879"
  },
  {
    "text": "feed the algorithm",
    "start": "506879",
    "end": "508479"
  },
  {
    "text": "and uh google news has been showing me",
    "start": "508479",
    "end": "511280"
  },
  {
    "text": "great stuff",
    "start": "511280",
    "end": "512800"
  },
  {
    "text": "you know i've been playing now elder",
    "start": "512800",
    "end": "514560"
  },
  {
    "text": "rank right",
    "start": "514560",
    "end": "516000"
  },
  {
    "text": "the game",
    "start": "516000",
    "end": "517120"
  },
  {
    "text": "the the half an hour i have a day after",
    "start": "517120",
    "end": "519919"
  },
  {
    "text": "the baby",
    "start": "519919",
    "end": "521279"
  },
  {
    "text": "and the google news knows that i i play",
    "start": "521279",
    "end": "524720"
  },
  {
    "text": "right because i search and google about",
    "start": "524720",
    "end": "526800"
  },
  {
    "text": "certain guides and if i'm stuck in a",
    "start": "526800",
    "end": "528720"
  },
  {
    "text": "certain area",
    "start": "528720",
    "end": "530320"
  },
  {
    "text": "so uh i i just",
    "start": "530320",
    "end": "532839"
  },
  {
    "text": "um so google news shows me about elden",
    "start": "532839",
    "end": "535920"
  },
  {
    "text": "ring news as well so check it out if",
    "start": "535920",
    "end": "538720"
  },
  {
    "text": "you're interested and i'm gonna i'm",
    "start": "538720",
    "end": "540640"
  },
  {
    "text": "gonna see you on the next one you guys",
    "start": "540640",
    "end": "542000"
  },
  {
    "text": "stay awesome goodbye",
    "start": "542000",
    "end": "544640"
  }
]