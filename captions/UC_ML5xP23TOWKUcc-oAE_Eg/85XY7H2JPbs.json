[
  {
    "text": "[Music]",
    "start": "190",
    "end": "770"
  },
  {
    "text": "and this because it's very critical that",
    "start": "770",
    "end": "3330"
  },
  {
    "text": "you guys understand this for the next",
    "start": "3330",
    "end": "5400"
  },
  {
    "text": "point which is the virtual IP address ok",
    "start": "5400",
    "end": "8730"
  },
  {
    "text": "let's assume this scenario okay I have",
    "start": "8730",
    "end": "11940"
  },
  {
    "text": "two machines here they each have their",
    "start": "11940",
    "end": "15059"
  },
  {
    "text": "own physical IP address 1000 won this",
    "start": "15059",
    "end": "18660"
  },
  {
    "text": "has 1000 - this has MAC address AAA",
    "start": "18660",
    "end": "21630"
  },
  {
    "text": "this has MAC address BBB okay and those",
    "start": "21630",
    "end": "25500"
  },
  {
    "text": "machines are special they have a special",
    "start": "25500",
    "end": "27060"
  },
  {
    "text": "software okay and this software allows",
    "start": "27060",
    "end": "30359"
  },
  {
    "text": "this two machines to communicate with",
    "start": "30359",
    "end": "32790"
  },
  {
    "text": "each other game and this is called",
    "start": "32790",
    "end": "34910"
  },
  {
    "text": "heartbeat listen help be to each other",
    "start": "34910",
    "end": "37380"
  },
  {
    "text": "hey sup sup so they just talk to each",
    "start": "37380",
    "end": "39930"
  },
  {
    "text": "other and they agree on a master node or",
    "start": "39930",
    "end": "44489"
  },
  {
    "text": "you called a leader node right or a main",
    "start": "44489",
    "end": "47940"
  },
  {
    "text": "low node and they agree also who are the",
    "start": "47940",
    "end": "51420"
  },
  {
    "text": "backup nodes right once do they do that",
    "start": "51420",
    "end": "54780"
  },
  {
    "text": "they also agree on a single virtual IP",
    "start": "54780",
    "end": "58890"
  },
  {
    "text": "address that resin really exists in the",
    "start": "58890",
    "end": "62309"
  },
  {
    "text": "real world it's just they agree between",
    "start": "62309",
    "end": "64320"
  },
  {
    "text": "each other okay you put in the",
    "start": "64320",
    "end": "66420"
  },
  {
    "text": "configuration that's hey I want you to",
    "start": "66420",
    "end": "68520"
  },
  {
    "text": "have a virtual IP address of 1000",
    "start": "68520",
    "end": "71430"
  },
  {
    "text": "hundred and I want you to have a 1000",
    "start": "71430",
    "end": "73409"
  },
  {
    "text": "hundred it's like oh saying that's bad",
    "start": "73409",
    "end": "75930"
  },
  {
    "text": "idea",
    "start": "75930",
    "end": "76560"
  },
  {
    "text": "I I configured IP addresses back in the",
    "start": "76560",
    "end": "80130"
  },
  {
    "text": "90s and you get conflict IP address nope",
    "start": "80130",
    "end": "82979"
  },
  {
    "text": "you don't and I'm gonna tell you how",
    "start": "82979",
    "end": "85490"
  },
  {
    "text": "because there is no single there is no",
    "start": "85490",
    "end": "89880"
  },
  {
    "text": "two machines with the same virtual IP",
    "start": "89880",
    "end": "92939"
  },
  {
    "text": "address in this case there's only one",
    "start": "92939",
    "end": "94740"
  },
  {
    "text": "those guys communicate and they say ok",
    "start": "94740",
    "end": "97979"
  },
  {
    "text": "you're the master node I'm gonna be",
    "start": "97979",
    "end": "100710"
  },
  {
    "text": "their cup you answer the requests for",
    "start": "100710",
    "end": "105299"
  },
  {
    "text": "this IP address this virtual IP address",
    "start": "105299",
    "end": "108210"
  },
  {
    "text": "because it's just an ARP request guys",
    "start": "108210",
    "end": "111110"
  },
  {
    "text": "it's all software it's not magic right",
    "start": "111110",
    "end": "115560"
  },
  {
    "text": "because now what will happen is this",
    "start": "115560",
    "end": "119549"
  },
  {
    "text": "male this virtual IP suddenly appeared",
    "start": "119549",
    "end": "122369"
  },
  {
    "text": "in existence all of a sudden okay now if",
    "start": "122369",
    "end": "125820"
  },
  {
    "text": "the client asks a question who has the",
    "start": "125820",
    "end": "128250"
  },
  {
    "text": "IP address 1000 - 100 it's gonna ask",
    "start": "128250",
    "end": "131660"
  },
  {
    "text": "everybody in the network",
    "start": "131660",
    "end": "133700"
  },
  {
    "text": "guess what it's gonna get this guy gonna",
    "start": "133700",
    "end": "135830"
  },
  {
    "text": "get a question",
    "start": "135830",
    "end": "137270"
  },
  {
    "text": "this guy's the end of the question this",
    "start": "137270",
    "end": "139790"
  },
  {
    "text": "guy is small enough says okay yeah I do",
    "start": "139790",
    "end": "142640"
  },
  {
    "text": "have the 1000 hundred but I am NOT the",
    "start": "142640",
    "end": "146300"
  },
  {
    "text": "master know it for this virtual IP",
    "start": "146300",
    "end": "149599"
  },
  {
    "text": "address there is someone else I'm not",
    "start": "149599",
    "end": "151430"
  },
  {
    "text": "gonna tell you anything",
    "start": "151430",
    "end": "152900"
  },
  {
    "text": "so I'm just gonna drop that question",
    "start": "152900",
    "end": "154459"
  },
  {
    "text": "this guy receives that question says yup",
    "start": "154459",
    "end": "156860"
  },
  {
    "text": "I am the main I'm your main and it's",
    "start": "156860",
    "end": "160489"
  },
  {
    "text": "gonna respond with machine a and once I",
    "start": "160489",
    "end": "164000"
  },
  {
    "text": "do that I'm gonna put the destination",
    "start": "164000",
    "end": "165410"
  },
  {
    "text": "MAC address as a I'm gonna just put the",
    "start": "165410",
    "end": "167900"
  },
  {
    "text": "destination virtual IP address or IP",
    "start": "167900",
    "end": "169670"
  },
  {
    "text": "address as 1000 100 I'm gonna send that",
    "start": "169670",
    "end": "173090"
  },
  {
    "text": "over and then you just funnel the",
    "start": "173090",
    "end": "175610"
  },
  {
    "text": "request to anything on the back end that",
    "start": "175610",
    "end": "177739"
  },
  {
    "text": "could be no js' that could be nginx that",
    "start": "177739",
    "end": "181040"
  },
  {
    "text": "could be a proxy caddy anything really",
    "start": "181040",
    "end": "184579"
  },
  {
    "text": "right but that's the trick is just at",
    "start": "184579",
    "end": "187010"
  },
  {
    "text": "the lower level of this low-level",
    "start": "187010",
    "end": "189739"
  },
  {
    "text": "protocol ARP we played that trick okay",
    "start": "189739",
    "end": "193160"
  },
  {
    "text": "so let's throw in some monkey wrenches",
    "start": "193160",
    "end": "195769"
  },
  {
    "text": "here let's assume the master died I",
    "start": "195769",
    "end": "199010"
  },
  {
    "text": "don't know we unplugged it it became",
    "start": "199010",
    "end": "203769"
  },
  {
    "text": "unresponsive right it just died you",
    "start": "203769",
    "end": "208310"
  },
  {
    "text": "unplugged it or just become overloaded",
    "start": "208310",
    "end": "210709"
  },
  {
    "text": "and CP over over a flow of memory",
    "start": "210709",
    "end": "213109"
  },
  {
    "text": "anything right just died remember those",
    "start": "213109",
    "end": "216950"
  },
  {
    "text": "guys always send heartbeat to each other",
    "start": "216950",
    "end": "218870"
  },
  {
    "text": "so hey what's up what's up what's up",
    "start": "218870",
    "end": "220549"
  },
  {
    "text": "what's up what's up what's up that other",
    "start": "220549",
    "end": "223639"
  },
  {
    "text": "machine machine BBB you said ask his",
    "start": "223639",
    "end": "226310"
  },
  {
    "text": "question hey what's up and didn't get",
    "start": "226310",
    "end": "228650"
  },
  {
    "text": "any response hey are you there are you",
    "start": "228650",
    "end": "231440"
  },
  {
    "text": "there",
    "start": "231440",
    "end": "231680"
  },
  {
    "text": "yep it's dead call it call it on the",
    "start": "231680",
    "end": "235940"
  },
  {
    "text": "master now so it's gonna assume the role",
    "start": "235940",
    "end": "238849"
  },
  {
    "text": "of the master node for the IP address",
    "start": "238849",
    "end": "243950"
  },
  {
    "text": "1000 hundred guess what and it's gonna",
    "start": "243950",
    "end": "248030"
  },
  {
    "text": "tell the entire network that hey by the",
    "start": "248030",
    "end": "250160"
  },
  {
    "text": "way it's now me right I'm the og now",
    "start": "250160",
    "end": "253579"
  },
  {
    "text": "okay it's gonna say that by the way 100",
    "start": "253579",
    "end": "256910"
  },
  {
    "text": "1000 hundred it's more it's BBB now it's",
    "start": "256910",
    "end": "261799"
  },
  {
    "text": "not a right and everybody was gonna",
    "start": "261799",
    "end": "264110"
  },
  {
    "text": "update their off tables and all that",
    "start": "264110",
    "end": "265820"
  },
  {
    "text": "jazz and now for my cool",
    "start": "265820",
    "end": "267949"
  },
  {
    "text": "automatically the request goes there",
    "start": "267949",
    "end": "270009"
  },
  {
    "text": "here is that there is the here's the",
    "start": "270009",
    "end": "272870"
  },
  {
    "text": "deal guys that takes fraction of a",
    "start": "272870",
    "end": "276860"
  },
  {
    "text": "second obviously because you're gonna",
    "start": "276860",
    "end": "278810"
  },
  {
    "text": "tell people that hey it's dead it's now",
    "start": "278810",
    "end": "282319"
  },
  {
    "text": "me right I'm the og now don't trust that",
    "start": "282319",
    "end": "285050"
  },
  {
    "text": "og okay so and everybody was just to",
    "start": "285050",
    "end": "287180"
  },
  {
    "text": "kind of talk each other and they had my",
    "start": "287180",
    "end": "288919"
  },
  {
    "text": "take split of a second so you might in a",
    "start": "288919",
    "end": "292490"
  },
  {
    "text": "high availability you might still see",
    "start": "292490",
    "end": "295969"
  },
  {
    "text": "some the clients my still older clients",
    "start": "295969",
    "end": "300469"
  },
  {
    "text": "Dale Coyne that still think that a",
    "start": "300469",
    "end": "303830"
  },
  {
    "text": "hundred the 1000 hundred has the MAC",
    "start": "303830",
    "end": "307580"
  },
  {
    "text": "address of a a will still send requests",
    "start": "307580",
    "end": "310819"
  },
  {
    "text": "to that and they will be dead",
    "start": "310819",
    "end": "313009"
  },
  {
    "text": "essentially until their ARP table gets",
    "start": "313009",
    "end": "315169"
  },
  {
    "text": "updated with the new MAC address they",
    "start": "315169",
    "end": "317990"
  },
  {
    "text": "will essentially forward a request to",
    "start": "317990",
    "end": "320750"
  },
  {
    "text": "that question so that whole thing right",
    "start": "320750",
    "end": "323810"
  },
  {
    "text": "is called the whole protocol that we",
    "start": "323810",
    "end": "327710"
  },
  {
    "text": "discussed it's called virtual router",
    "start": "327710",
    "end": "329599"
  },
  {
    "text": "redundancy protocol those guys are",
    "start": "329599",
    "end": "332150"
  },
  {
    "text": "acting our virtual router does that how",
    "start": "332150",
    "end": "334909"
  },
  {
    "text": "what altar works right guys it's a",
    "start": "334909",
    "end": "337039"
  },
  {
    "text": "gateway it's like thinking of a gateway",
    "start": "337039",
    "end": "339550"
  },
  {
    "text": "okay so that vrrp is what we talked",
    "start": "339550",
    "end": "343279"
  },
  {
    "text": "about there is a group of machines there",
    "start": "343279",
    "end": "346339"
  },
  {
    "text": "are multiple machines they all share the",
    "start": "346339",
    "end": "348139"
  },
  {
    "text": "same VIP and they talk within each other",
    "start": "348139",
    "end": "350599"
  },
  {
    "text": "and they gossip and agree on a master",
    "start": "350599",
    "end": "354289"
  },
  {
    "text": "parallax you keeper in a sense right but",
    "start": "354289",
    "end": "357020"
  },
  {
    "text": "it's an lower level than zookeeper and",
    "start": "357020",
    "end": "359689"
  },
  {
    "text": "they agree",
    "start": "359689",
    "end": "360500"
  },
  {
    "text": "so say hey it's me it's me it's me right",
    "start": "360500",
    "end": "363110"
  },
  {
    "text": "that's a master that's the backup and",
    "start": "363110",
    "end": "366409"
  },
  {
    "text": "once you do that that's it that's called",
    "start": "366409",
    "end": "368779"
  },
  {
    "text": "the virtual router redundancy protocol",
    "start": "368779",
    "end": "370909"
  },
  {
    "text": "so that's where the vrrp and that's what",
    "start": "370909",
    "end": "373159"
  },
  {
    "text": "a VIP so if ever if someone asks you",
    "start": "373159",
    "end": "374750"
  },
  {
    "text": "what their virtual IP address is it's",
    "start": "374750",
    "end": "376610"
  },
  {
    "text": "essentially it's just a fictitious thing",
    "start": "376610",
    "end": "378830"
  },
  {
    "text": "that machines advertised as their answer",
    "start": "378830",
    "end": "383089"
  },
  {
    "text": "to our request right that's why you guys",
    "start": "383089",
    "end": "385669"
  },
  {
    "text": "you have to understand ARP requests all",
    "start": "385669",
    "end": "387289"
  },
  {
    "text": "produces very network specific but",
    "start": "387289",
    "end": "389930"
  },
  {
    "text": "software engineers you guys really need",
    "start": "389930",
    "end": "392000"
  },
  {
    "text": "to understand this stuff right let's",
    "start": "392000",
    "end": "396229"
  },
  {
    "text": "take an example a real-life high",
    "start": "396229",
    "end": "399050"
  },
  {
    "text": "availability examples let's this",
    "start": "399050",
    "end": "401510"
  },
  {
    "text": "what do we have here there's a lot of",
    "start": "401510",
    "end": "402950"
  },
  {
    "text": "garbage there are bunch of machines",
    "start": "402950",
    "end": "405220"
  },
  {
    "text": "there is a load balancer there is our",
    "start": "405220",
    "end": "409070"
  },
  {
    "text": "back-end service and there is a database",
    "start": "409070",
    "end": "412130"
  },
  {
    "text": "okay and you can just basically you can",
    "start": "412130",
    "end": "414650"
  },
  {
    "text": "do primary secondary database if you",
    "start": "414650",
    "end": "417710"
  },
  {
    "text": "like I just have the one but here is a",
    "start": "417710",
    "end": "420260"
  },
  {
    "text": "lesson struggle this is a Postgres",
    "start": "420260",
    "end": "421580"
  },
  {
    "text": "database",
    "start": "421580",
    "end": "422120"
  },
  {
    "text": "these guys are docker containers for",
    "start": "422120",
    "end": "424670"
  },
  {
    "text": "example or could be like different",
    "start": "424670",
    "end": "426590"
  },
  {
    "text": "machines in the same machine who cares",
    "start": "426590",
    "end": "428690"
  },
  {
    "text": "they're the same machine spinning",
    "start": "428690",
    "end": "430430"
  },
  {
    "text": "different ports different plication we",
    "start": "430430",
    "end": "432260"
  },
  {
    "text": "have done that in the this channel so",
    "start": "432260",
    "end": "434480"
  },
  {
    "text": "many times so I'm gonna reference the",
    "start": "434480",
    "end": "435980"
  },
  {
    "text": "video here if you're interested so you",
    "start": "435980",
    "end": "437510"
  },
  {
    "text": "spin upon ljs no yes they I don't know",
    "start": "437510",
    "end": "441020"
  },
  {
    "text": "if they serve employees rest endpoint",
    "start": "441020",
    "end": "443480"
  },
  {
    "text": "right if you're still doing the rest",
    "start": "443480",
    "end": "445310"
  },
  {
    "text": "right and very then load balancer could",
    "start": "445310",
    "end": "449810"
  },
  {
    "text": "be a chair proxy to be nginx could be",
    "start": "449810",
    "end": "452060"
  },
  {
    "text": "caddy could be H anything right to be",
    "start": "452060",
    "end": "455930"
  },
  {
    "text": "envoi could be linker D what happened",
    "start": "455930",
    "end": "458990"
  },
  {
    "text": "here is this is a proxy for example",
    "start": "458990",
    "end": "461120"
  },
  {
    "text": "right to be anything else and that let's",
    "start": "461120",
    "end": "463970"
  },
  {
    "text": "let's say this is a layer seven load",
    "start": "463970",
    "end": "465980"
  },
  {
    "text": "balancer yeah it acts a because it knows",
    "start": "465980",
    "end": "469010"
  },
  {
    "text": "that there won't want to look at the",
    "start": "469010",
    "end": "471110"
  },
  {
    "text": "content and makes decisions based on the",
    "start": "471110",
    "end": "474140"
  },
  {
    "text": "header headers and URLs and maybe route",
    "start": "474140",
    "end": "478700"
  },
  {
    "text": "requests and maybe load balances",
    "start": "478700",
    "end": "481550"
  },
  {
    "text": "different algorithm based on that okay",
    "start": "481550",
    "end": "483800"
  },
  {
    "text": "so it looks at that stuff and you have",
    "start": "483800",
    "end": "488600"
  },
  {
    "text": "another software installed called Kiba",
    "start": "488600",
    "end": "490160"
  },
  {
    "text": "life that's one of the software's that",
    "start": "490160",
    "end": "493280"
  },
  {
    "text": "can you say software's I don't think",
    "start": "493280",
    "end": "495350"
  },
  {
    "text": "that's a word okay that's one of the",
    "start": "495350",
    "end": "497180"
  },
  {
    "text": "software that allow you to do high",
    "start": "497180",
    "end": "499460"
  },
  {
    "text": "availability and supports this thing we",
    "start": "499460",
    "end": "502610"
  },
  {
    "text": "talked about the vrrp which is the",
    "start": "502610",
    "end": "504200"
  },
  {
    "text": "virtual router redundancy protocol yeah",
    "start": "504200",
    "end": "506690"
  },
  {
    "text": "this is software that supports the vrrp",
    "start": "506690",
    "end": "509030"
  },
  {
    "text": "and you give it a group of machines and",
    "start": "509030",
    "end": "512390"
  },
  {
    "text": "you give it the same VIP which is the",
    "start": "512390",
    "end": "514280"
  },
  {
    "text": "virtual IP address and it just just just",
    "start": "514280",
    "end": "517760"
  },
  {
    "text": "does a job it will give you one master",
    "start": "517760",
    "end": "521180"
  },
  {
    "text": "virtual IP address and you share this",
    "start": "521180",
    "end": "524120"
  },
  {
    "text": "virtual IP with people to the public you",
    "start": "524120",
    "end": "526970"
  },
  {
    "text": "put it as a DNS a record and people will",
    "start": "526970",
    "end": "530660"
  },
  {
    "text": "connect to DNS will connect to the",
    "start": "530660",
    "end": "532820"
  },
  {
    "text": "virtual IP will hit that keep",
    "start": "532820",
    "end": "535370"
  },
  {
    "text": "we'll decide who was the master based on",
    "start": "535370",
    "end": "539000"
  },
  {
    "text": "an answer to an RPR call and we'll give",
    "start": "539000",
    "end": "541520"
  },
  {
    "text": "you the MAC address communicate with",
    "start": "541520",
    "end": "543200"
  },
  {
    "text": "that once you do that then load balancer",
    "start": "543200",
    "end": "547070"
  },
  {
    "text": "will take over take that request and",
    "start": "547070",
    "end": "549830"
  },
  {
    "text": "then follow on it that's the second",
    "start": "549830",
    "end": "551180"
  },
  {
    "text": "example I'm making a get request",
    "start": "551180",
    "end": "552470"
  },
  {
    "text": "employees look at that look what",
    "start": "552470",
    "end": "554000"
  },
  {
    "text": "happened I'm gonna do it again so we had",
    "start": "554000",
    "end": "557810"
  },
  {
    "text": "this one so we hit that right",
    "start": "557810",
    "end": "559880"
  },
  {
    "text": "they keep alive that decide this is the",
    "start": "559880",
    "end": "562100"
  },
  {
    "text": "master this is the secondary node it's",
    "start": "562100",
    "end": "564529"
  },
  {
    "text": "exactly the same software copy and paste",
    "start": "564529",
    "end": "567470"
  },
  {
    "text": "different machine so it's a proxy the",
    "start": "567470",
    "end": "569690"
  },
  {
    "text": "same configuration this guy communicate",
    "start": "569690",
    "end": "571940"
  },
  {
    "text": "with these guys this guy communicating",
    "start": "571940",
    "end": "573950"
  },
  {
    "text": "with these guys but this guy is the",
    "start": "573950",
    "end": "575690"
  },
  {
    "text": "active what does that mean active this",
    "start": "575690",
    "end": "578300"
  },
  {
    "text": "is like a more like an active passive",
    "start": "578300",
    "end": "581020"
  },
  {
    "text": "another another complication called",
    "start": "581020",
    "end": "583490"
  },
  {
    "text": "active passive there's another computer",
    "start": "583490",
    "end": "585830"
  },
  {
    "text": "called active active which we can talk",
    "start": "585830",
    "end": "588380"
  },
  {
    "text": "about in another video but active",
    "start": "588380",
    "end": "590750"
  },
  {
    "text": "passive is this is active this is the",
    "start": "590750",
    "end": "592640"
  },
  {
    "text": "passive all the request comes to this",
    "start": "592640",
    "end": "594140"
  },
  {
    "text": "guy first and once it can request a good",
    "start": "594140",
    "end": "598010"
  },
  {
    "text": "back that JSON response and you make",
    "start": "598010",
    "end": "599570"
  },
  {
    "text": "another request and a proxy decides to",
    "start": "599570",
    "end": "602360"
  },
  {
    "text": "send this request to this node this time",
    "start": "602360",
    "end": "604310"
  },
  {
    "text": "and you get the exit result and if your",
    "start": "604310",
    "end": "606440"
  },
  {
    "text": "proxy can send it back to the Snowden",
    "start": "606440",
    "end": "608390"
  },
  {
    "text": "estate and so on",
    "start": "608390",
    "end": "609290"
  },
  {
    "text": "you can throw in an HTTP ex later in the",
    "start": "609290",
    "end": "612290"
  },
  {
    "text": "middle right maybe here right to cache",
    "start": "612290",
    "end": "615520"
  },
  {
    "text": "employees request because you don't",
    "start": "615520",
    "end": "617900"
  },
  {
    "text": "really want to hit the database every",
    "start": "617900",
    "end": "619310"
  },
  {
    "text": "time right like varnish you can put",
    "start": "619310",
    "end": "620930"
  },
  {
    "text": "varnish here okay and then cache this",
    "start": "620930",
    "end": "623450"
  },
  {
    "text": "stuff and secure then determinant the",
    "start": "623450",
    "end": "625100"
  },
  {
    "text": "TLS and the Jazz right and then that's",
    "start": "625100",
    "end": "628190"
  },
  {
    "text": "how it works basically right let's throw",
    "start": "628190",
    "end": "630140"
  },
  {
    "text": "in a monkey wrench",
    "start": "630140",
    "end": "631100"
  },
  {
    "text": "let's kill server one I don't know how a",
    "start": "631100",
    "end": "633170"
  },
  {
    "text": "proxy died the on this machine right",
    "start": "633170",
    "end": "635300"
  },
  {
    "text": "what will happen keep alive",
    "start": "635300",
    "end": "637270"
  },
  {
    "text": "[Music]",
    "start": "637270",
    "end": "657340"
  }
]