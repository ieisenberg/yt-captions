[
  {
    "text": "what's going on guys my name is hussain",
    "start": "320",
    "end": "3439"
  },
  {
    "text": "and we have some",
    "start": "3439",
    "end": "4880"
  },
  {
    "text": "a little bit of a old news it's a 2017",
    "start": "4880",
    "end": "9599"
  },
  {
    "text": "news but still news nevertheless",
    "start": "9599",
    "end": "14160"
  },
  {
    "text": "discord how this course stores billions",
    "start": "14160",
    "end": "18000"
  },
  {
    "text": "of their beautiful messages what",
    "start": "18000",
    "end": "20800"
  },
  {
    "text": "database they use is",
    "start": "20800",
    "end": "22480"
  },
  {
    "text": "and how do they do it",
    "start": "22480",
    "end": "25760"
  },
  {
    "text": "this article is one of the best article",
    "start": "25760",
    "end": "28800"
  },
  {
    "text": "i ever",
    "start": "28800",
    "end": "29599"
  },
  {
    "text": "ever read in a long time this is really",
    "start": "29599",
    "end": "32640"
  },
  {
    "text": "well written",
    "start": "32640",
    "end": "33680"
  },
  {
    "text": "yeah it's old but you know guys i don't",
    "start": "33680",
    "end": "36399"
  },
  {
    "text": "really care",
    "start": "36399",
    "end": "37280"
  },
  {
    "text": "because if you find gold gyms like this",
    "start": "37280",
    "end": "40879"
  },
  {
    "text": "even if it's 20 years old please send",
    "start": "40879",
    "end": "43280"
  },
  {
    "text": "them my way so",
    "start": "43280",
    "end": "44000"
  },
  {
    "text": "i appreciate let me credit who sent",
    "start": "44000",
    "end": "47680"
  },
  {
    "text": "this to me because i appreciate you",
    "start": "47680",
    "end": "50960"
  },
  {
    "text": "so much guys actually this was sent in",
    "start": "50960",
    "end": "53520"
  },
  {
    "text": "discord",
    "start": "53520",
    "end": "55440"
  },
  {
    "text": "his name is yeti yeti 93 thank you so",
    "start": "55440",
    "end": "58480"
  },
  {
    "text": "much",
    "start": "58480",
    "end": "59039"
  },
  {
    "text": "and if you found any uh interesting",
    "start": "59039",
    "end": "62640"
  },
  {
    "text": "articles like this",
    "start": "62640",
    "end": "63840"
  },
  {
    "text": "please send them my way so this chord",
    "start": "63840",
    "end": "66960"
  },
  {
    "text": "moves from mongodb",
    "start": "66960",
    "end": "71119"
  },
  {
    "text": "to cassandra it's a",
    "start": "71119",
    "end": "74240"
  },
  {
    "text": "very interesting read and the reason i",
    "start": "74240",
    "end": "77040"
  },
  {
    "text": "want to cover this is because it",
    "start": "77040",
    "end": "79040"
  },
  {
    "text": "overlaps with with",
    "start": "79040",
    "end": "80320"
  },
  {
    "text": "very recent topics that i'm discussing",
    "start": "80320",
    "end": "82560"
  },
  {
    "text": "recently in the channel and",
    "start": "82560",
    "end": "84000"
  },
  {
    "text": "and in my course introduction to",
    "start": "84000",
    "end": "85600"
  },
  {
    "text": "database engineering",
    "start": "85600",
    "end": "87280"
  },
  {
    "text": "and then it says it's a very good read",
    "start": "87280",
    "end": "89200"
  },
  {
    "text": "so i'll reference the article below for",
    "start": "89200",
    "end": "91360"
  },
  {
    "text": "you",
    "start": "91360",
    "end": "91680"
  },
  {
    "text": "to read it but meanwhile how about we",
    "start": "91680",
    "end": "94799"
  },
  {
    "text": "jump into it",
    "start": "94799",
    "end": "96560"
  },
  {
    "text": "so let's read this introduction a little",
    "start": "96560",
    "end": "100640"
  },
  {
    "text": "bit guys",
    "start": "100640",
    "end": "101680"
  },
  {
    "text": "discord continues to grow faster than we",
    "start": "101680",
    "end": "104799"
  },
  {
    "text": "expected and so does our user generated",
    "start": "104799",
    "end": "108399"
  },
  {
    "text": "content",
    "start": "108399",
    "end": "109360"
  },
  {
    "text": "with more users comes more chat messages",
    "start": "109360",
    "end": "113360"
  },
  {
    "text": "that's what discord is chat or voice in",
    "start": "113360",
    "end": "116399"
  },
  {
    "text": "july",
    "start": "116399",
    "end": "116960"
  },
  {
    "text": "we announced 40 million messages a day",
    "start": "116960",
    "end": "120560"
  },
  {
    "text": "that's july 2017 or maybe july 2016 i",
    "start": "120560",
    "end": "125280"
  },
  {
    "text": "think",
    "start": "125280",
    "end": "125600"
  },
  {
    "text": "because this is this article came on",
    "start": "125600",
    "end": "128560"
  },
  {
    "text": "january",
    "start": "128560",
    "end": "129520"
  },
  {
    "text": "2017. so that must be 2016. and then",
    "start": "129520",
    "end": "133120"
  },
  {
    "text": "they announced 1100 million messages a",
    "start": "133120",
    "end": "136959"
  },
  {
    "text": "day and now",
    "start": "136959",
    "end": "138080"
  },
  {
    "text": "in 2017 they were 120 million messenger",
    "start": "138080",
    "end": "141280"
  },
  {
    "text": "now they easily i i i think they passed",
    "start": "141280",
    "end": "144800"
  },
  {
    "text": "half a billion messages a day i would",
    "start": "144800",
    "end": "147760"
  },
  {
    "text": "not be surprised",
    "start": "147760",
    "end": "149200"
  },
  {
    "text": "especially with the with the explosion",
    "start": "149200",
    "end": "151440"
  },
  {
    "text": "of of",
    "start": "151440",
    "end": "152640"
  },
  {
    "text": "twitch streamers and and and discord",
    "start": "152640",
    "end": "155680"
  },
  {
    "text": "servers being used all the time",
    "start": "155680",
    "end": "157920"
  },
  {
    "text": "so how are they doing this so they are",
    "start": "157920",
    "end": "160879"
  },
  {
    "text": "storing",
    "start": "160879",
    "end": "161360"
  },
  {
    "text": "i'm not going to read the actual article",
    "start": "161360",
    "end": "163120"
  },
  {
    "text": "for you but i'm going to summarize it",
    "start": "163120",
    "end": "164560"
  },
  {
    "text": "for you",
    "start": "164560",
    "end": "165840"
  },
  {
    "text": "so they are storing prior to",
    "start": "165840",
    "end": "170160"
  },
  {
    "text": "2015 i believe early 2015",
    "start": "170160",
    "end": "173360"
  },
  {
    "text": "they started working with mongodb that's",
    "start": "173360",
    "end": "176160"
  },
  {
    "text": "the database they",
    "start": "176160",
    "end": "177360"
  },
  {
    "text": "started using it and they are",
    "start": "177360",
    "end": "181760"
  },
  {
    "text": "storing the messages with a simple",
    "start": "182080",
    "end": "185519"
  },
  {
    "text": "collection",
    "start": "185519",
    "end": "186480"
  },
  {
    "text": "mongodb collection and it has two fields",
    "start": "186480",
    "end": "189920"
  },
  {
    "text": "multiple fields but two fields that are",
    "start": "189920",
    "end": "192000"
  },
  {
    "text": "interesting channel id",
    "start": "192000",
    "end": "194319"
  },
  {
    "text": "and created at you might say why did",
    "start": "194319",
    "end": "197360"
  },
  {
    "text": "they create an",
    "start": "197360",
    "end": "198000"
  },
  {
    "text": "index on these two particular columns",
    "start": "198000",
    "end": "200000"
  },
  {
    "text": "well if you if you used discord",
    "start": "200000",
    "end": "202879"
  },
  {
    "text": "the most important queries are give me",
    "start": "202879",
    "end": "206480"
  },
  {
    "text": "the chat messages for this particular",
    "start": "206480",
    "end": "209360"
  },
  {
    "text": "channel you're not going to ask",
    "start": "209360",
    "end": "210799"
  },
  {
    "text": "for messages for multiple channels so",
    "start": "210799",
    "end": "212640"
  },
  {
    "text": "that's the first question",
    "start": "212640",
    "end": "214400"
  },
  {
    "text": "and the most important thing is why",
    "start": "214400",
    "end": "216640"
  },
  {
    "text": "created ad",
    "start": "216640",
    "end": "217519"
  },
  {
    "text": "is i want recent messages only so if you",
    "start": "217519",
    "end": "221840"
  },
  {
    "text": "i think slack works exactly the same",
    "start": "221840",
    "end": "224560"
  },
  {
    "text": "teams work exactly the same",
    "start": "224560",
    "end": "226239"
  },
  {
    "text": "you're always seeing the latest messages",
    "start": "226239",
    "end": "228319"
  },
  {
    "text": "if you want you can scroll up and pull",
    "start": "228319",
    "end": "230159"
  },
  {
    "text": "them",
    "start": "230159",
    "end": "230480"
  },
  {
    "text": "all this but by default the",
    "start": "230480",
    "end": "233840"
  },
  {
    "text": "the most exercise query exercised",
    "start": "233840",
    "end": "237519"
  },
  {
    "text": "query is uh on recent only so",
    "start": "237519",
    "end": "241439"
  },
  {
    "text": "creating an index on on the created at",
    "start": "241439",
    "end": "244000"
  },
  {
    "text": "date",
    "start": "244000",
    "end": "244799"
  },
  {
    "text": "is very important so the date field is",
    "start": "244799",
    "end": "246640"
  },
  {
    "text": "very very critical",
    "start": "246640",
    "end": "249280"
  },
  {
    "text": "so that's that's the index they have on",
    "start": "249280",
    "end": "251280"
  },
  {
    "text": "mongodb",
    "start": "251280",
    "end": "253760"
  },
  {
    "text": "in and here's what the article gets",
    "start": "253760",
    "end": "256880"
  },
  {
    "text": "very interesting in november 2015",
    "start": "256880",
    "end": "260639"
  },
  {
    "text": "i i'm quoting we reached 100 million",
    "start": "260639",
    "end": "263919"
  },
  {
    "text": "stored messages",
    "start": "263919",
    "end": "265600"
  },
  {
    "text": "and at that at this time we started to",
    "start": "265600",
    "end": "267759"
  },
  {
    "text": "see their",
    "start": "267759",
    "end": "268800"
  },
  {
    "text": "expected issues appearing they started",
    "start": "268800",
    "end": "271440"
  },
  {
    "text": "seeing some issues up here and they they",
    "start": "271440",
    "end": "273360"
  },
  {
    "text": "looks like they anticipated for this",
    "start": "273360",
    "end": "274880"
  },
  {
    "text": "issue you might say hussain what's the",
    "start": "274880",
    "end": "276800"
  },
  {
    "text": "issue",
    "start": "276800",
    "end": "278639"
  },
  {
    "text": "the data and the index could no longer",
    "start": "278639",
    "end": "282080"
  },
  {
    "text": "fit in ram and latency is starting to",
    "start": "282080",
    "end": "284960"
  },
  {
    "text": "become unpredictable",
    "start": "284960",
    "end": "286320"
  },
  {
    "text": "for mongodb again guys this is 2017",
    "start": "286320",
    "end": "289360"
  },
  {
    "text": "mongodb",
    "start": "289360",
    "end": "290320"
  },
  {
    "text": "right and before we jump into anything",
    "start": "290320",
    "end": "292960"
  },
  {
    "text": "guys",
    "start": "292960",
    "end": "294080"
  },
  {
    "text": "you have to know that take this with a",
    "start": "294080",
    "end": "295600"
  },
  {
    "text": "grain of salt if this works for",
    "start": "295600",
    "end": "298720"
  },
  {
    "text": "for discord does not that does not mean",
    "start": "298720",
    "end": "301360"
  },
  {
    "text": "mongodb",
    "start": "301360",
    "end": "302320"
  },
  {
    "text": "is a bad database yeah i have criticized",
    "start": "302320",
    "end": "304800"
  },
  {
    "text": "mongodb",
    "start": "304800",
    "end": "305600"
  },
  {
    "text": "many times on this channel for certain",
    "start": "305600",
    "end": "308080"
  },
  {
    "text": "design choices",
    "start": "308080",
    "end": "309520"
  },
  {
    "text": "but it doesn't mean that it's a bad",
    "start": "309520",
    "end": "312160"
  },
  {
    "text": "database it's just",
    "start": "312160",
    "end": "313199"
  },
  {
    "text": "use cases same thing with uber in 2016",
    "start": "313199",
    "end": "316160"
  },
  {
    "text": "moving from postgres",
    "start": "316160",
    "end": "317759"
  },
  {
    "text": "to to to to my sequel they moved because",
    "start": "317759",
    "end": "321840"
  },
  {
    "text": "of their special circumstances and their",
    "start": "321840",
    "end": "324960"
  },
  {
    "text": "special use cases just postgres didn't",
    "start": "324960",
    "end": "327120"
  },
  {
    "text": "work for them that's why they moved",
    "start": "327120",
    "end": "329039"
  },
  {
    "text": "right and we can get into that it's just",
    "start": "329039",
    "end": "331360"
  },
  {
    "text": "they were creating",
    "start": "331360",
    "end": "332560"
  },
  {
    "text": "insane number of indexes and and postcas",
    "start": "332560",
    "end": "335120"
  },
  {
    "text": "does not",
    "start": "335120",
    "end": "335680"
  },
  {
    "text": "do well when you write and",
    "start": "335680",
    "end": "339120"
  },
  {
    "text": "need to update many many indexes because",
    "start": "339120",
    "end": "341039"
  },
  {
    "text": "each index points to the table directly",
    "start": "341039",
    "end": "343039"
  },
  {
    "text": "and you have to",
    "start": "343039",
    "end": "344080"
  },
  {
    "text": "it it just thrashes everything right",
    "start": "344080",
    "end": "346720"
  },
  {
    "text": "doesn't mean that",
    "start": "346720",
    "end": "347759"
  },
  {
    "text": "postgres is bad so mongodb here is the",
    "start": "347759",
    "end": "350639"
  },
  {
    "text": "same thing so i might say",
    "start": "350639",
    "end": "352960"
  },
  {
    "text": "what's the problem if the index does not",
    "start": "352960",
    "end": "355680"
  },
  {
    "text": "fit in ram",
    "start": "355680",
    "end": "357120"
  },
  {
    "text": "well if you want to search against",
    "start": "357120",
    "end": "359440"
  },
  {
    "text": "anything",
    "start": "359440",
    "end": "360880"
  },
  {
    "text": "the index usually the index is always",
    "start": "360880",
    "end": "365120"
  },
  {
    "text": "almost most of the time entirely",
    "start": "365120",
    "end": "368319"
  },
  {
    "text": "is in the memory why because",
    "start": "368319",
    "end": "371440"
  },
  {
    "text": "that's the most stuff you're searching",
    "start": "371440",
    "end": "373120"
  },
  {
    "text": "on you're searching on the index all the",
    "start": "373120",
    "end": "374800"
  },
  {
    "text": "time",
    "start": "374800",
    "end": "375360"
  },
  {
    "text": "so if it's in ram that's beautiful",
    "start": "375360",
    "end": "379120"
  },
  {
    "text": "right and i made a video about indexing",
    "start": "379120",
    "end": "381039"
  },
  {
    "text": "guys if you're interested to",
    "start": "381039",
    "end": "382240"
  },
  {
    "text": "know more about check out this video",
    "start": "382240",
    "end": "383919"
  },
  {
    "text": "right here indexing",
    "start": "383919",
    "end": "385919"
  },
  {
    "text": "so yeah so we want the database tries",
    "start": "385919",
    "end": "389520"
  },
  {
    "text": "to fit the index as much as possible in",
    "start": "389520",
    "end": "391600"
  },
  {
    "text": "the ram",
    "start": "391600",
    "end": "392560"
  },
  {
    "text": "right so that sort of so that it becomes",
    "start": "392560",
    "end": "395759"
  },
  {
    "text": "essentially free to scan everything and",
    "start": "395759",
    "end": "399039"
  },
  {
    "text": "in this case it becomes kind of the",
    "start": "399039",
    "end": "400960"
  },
  {
    "text": "limitation there is no memory if the",
    "start": "400960",
    "end": "402800"
  },
  {
    "text": "index can fit",
    "start": "402800",
    "end": "404479"
  },
  {
    "text": "if the index can fully fit in the ram",
    "start": "404479",
    "end": "407360"
  },
  {
    "text": "there is no",
    "start": "407360",
    "end": "408560"
  },
  {
    "text": "limitation anymore the only limitation",
    "start": "408560",
    "end": "410560"
  },
  {
    "text": "is the cpu that's why this",
    "start": "410560",
    "end": "412400"
  },
  {
    "text": "scenario is called cpu bound a cpo bound",
    "start": "412400",
    "end": "416080"
  },
  {
    "text": "database architecture or setup is",
    "start": "416080",
    "end": "419120"
  },
  {
    "text": "when your index or data maybe",
    "start": "419120",
    "end": "423039"
  },
  {
    "text": "fully is fitting in their arm so you",
    "start": "423039",
    "end": "424720"
  },
  {
    "text": "have like i don't know",
    "start": "424720",
    "end": "426479"
  },
  {
    "text": "three terabytes worth of ram can you do",
    "start": "426479",
    "end": "428639"
  },
  {
    "text": "that i don't know",
    "start": "428639",
    "end": "429520"
  },
  {
    "text": "i think i know i saw i saw a one",
    "start": "429520",
    "end": "430960"
  },
  {
    "text": "terabyte ram",
    "start": "430960",
    "end": "432800"
  },
  {
    "text": "but i don't know if you can go the",
    "start": "432800",
    "end": "434479"
  },
  {
    "text": "multiple if you're going to do it then",
    "start": "434479",
    "end": "436479"
  },
  {
    "text": "then then the index is everything in the",
    "start": "436479",
    "end": "438800"
  },
  {
    "text": "ram so the only limitation you have is",
    "start": "438800",
    "end": "440720"
  },
  {
    "text": "how much cpu how many threads can you",
    "start": "440720",
    "end": "443520"
  },
  {
    "text": "spin up",
    "start": "443520",
    "end": "444319"
  },
  {
    "text": "to to scan the index in memory as fast",
    "start": "444319",
    "end": "446960"
  },
  {
    "text": "as far as possible",
    "start": "446960",
    "end": "448080"
  },
  {
    "text": "however if the memory does not",
    "start": "448080",
    "end": "451599"
  },
  {
    "text": "uh if the index does not fit in",
    "start": "451599",
    "end": "454960"
  },
  {
    "text": "fully in the ram then you are",
    "start": "454960",
    "end": "457360"
  },
  {
    "text": "essentially called i o bound why because",
    "start": "457360",
    "end": "459599"
  },
  {
    "text": "the",
    "start": "459599",
    "end": "460080"
  },
  {
    "text": "operating system will start paging some",
    "start": "460080",
    "end": "463039"
  },
  {
    "text": "some",
    "start": "463039",
    "end": "463520"
  },
  {
    "text": "some pages to disk that are not used and",
    "start": "463520",
    "end": "467360"
  },
  {
    "text": "you start going i o that's called i o",
    "start": "467360",
    "end": "469599"
  },
  {
    "text": "bound so the cpu is not the",
    "start": "469599",
    "end": "471759"
  },
  {
    "text": "threshold the limitation that in this",
    "start": "471759",
    "end": "474400"
  },
  {
    "text": "case",
    "start": "474400",
    "end": "474879"
  },
  {
    "text": "the the database uh the the",
    "start": "474879",
    "end": "478240"
  },
  {
    "text": "memory is the limitation and this is",
    "start": "478240",
    "end": "479599"
  },
  {
    "text": "what they hit this is what they hit",
    "start": "479599",
    "end": "482000"
  },
  {
    "text": "the index will become so large 100",
    "start": "482000",
    "end": "484400"
  },
  {
    "text": "message 100 million",
    "start": "484400",
    "end": "485840"
  },
  {
    "text": "a day right so the index imagine how big",
    "start": "485840",
    "end": "488800"
  },
  {
    "text": "the index that contains channel id and",
    "start": "488800",
    "end": "490720"
  },
  {
    "text": "created ad became so huge",
    "start": "490720",
    "end": "492800"
  },
  {
    "text": "and that's not a big problem usually",
    "start": "492800",
    "end": "495039"
  },
  {
    "text": "mysql has",
    "start": "495039",
    "end": "496800"
  },
  {
    "text": "test i think percona uh",
    "start": "496800",
    "end": "500080"
  },
  {
    "text": "database uh it's a company that they",
    "start": "500080",
    "end": "502560"
  },
  {
    "text": "they do",
    "start": "502560",
    "end": "503199"
  },
  {
    "text": "kind of beautiful tests check out check",
    "start": "503199",
    "end": "505520"
  },
  {
    "text": "them out guys",
    "start": "505520",
    "end": "506639"
  },
  {
    "text": "they they check mysql on when it's",
    "start": "506639",
    "end": "510960"
  },
  {
    "text": "i o bound that means the index does not",
    "start": "510960",
    "end": "514320"
  },
  {
    "text": "cannot fit in memory",
    "start": "514320",
    "end": "517440"
  },
  {
    "text": "and they test when it's cpu bond where",
    "start": "517440",
    "end": "519599"
  },
  {
    "text": "they can fit everything in memory so",
    "start": "519599",
    "end": "521279"
  },
  {
    "text": "they have",
    "start": "521279",
    "end": "521839"
  },
  {
    "text": "they give the database huge amount of",
    "start": "521839",
    "end": "523599"
  },
  {
    "text": "memory and and they state test the",
    "start": "523599",
    "end": "525760"
  },
  {
    "text": "performance and they compare",
    "start": "525760",
    "end": "527519"
  },
  {
    "text": "the why is it called pulse because they",
    "start": "527519",
    "end": "529200"
  },
  {
    "text": "all built so that they can",
    "start": "529200",
    "end": "531760"
  },
  {
    "text": "essentially work in both scenarios",
    "start": "531760",
    "end": "534720"
  },
  {
    "text": "effectively right because",
    "start": "534720",
    "end": "536000"
  },
  {
    "text": "you cannot purchase all the ram in the",
    "start": "536000",
    "end": "537600"
  },
  {
    "text": "world right at one point",
    "start": "537600",
    "end": "539839"
  },
  {
    "text": "you will run out of ram",
    "start": "539839",
    "end": "544000"
  },
  {
    "text": "so this is what happened discord ran",
    "start": "544000",
    "end": "546959"
  },
  {
    "text": "this and they started seeing",
    "start": "546959",
    "end": "548880"
  },
  {
    "text": "completely unpredictable things because",
    "start": "548880",
    "end": "551120"
  },
  {
    "text": "probably mongodb had a bug at that point",
    "start": "551120",
    "end": "553760"
  },
  {
    "text": "it did not do well with",
    "start": "553760",
    "end": "557920"
  },
  {
    "text": "io bound scenarios it just started to",
    "start": "558800",
    "end": "562080"
  },
  {
    "text": "thrash and",
    "start": "562080",
    "end": "565120"
  },
  {
    "text": "the the first thing i i started to ask",
    "start": "565120",
    "end": "567440"
  },
  {
    "text": "myself so",
    "start": "567440",
    "end": "568560"
  },
  {
    "text": "as i was skimming and reading this",
    "start": "568560",
    "end": "570959"
  },
  {
    "text": "database like wait a second",
    "start": "570959",
    "end": "574080"
  },
  {
    "text": "why do you have a single index",
    "start": "574080",
    "end": "578160"
  },
  {
    "text": "that's a huge index like we talked about",
    "start": "578160",
    "end": "581519"
  },
  {
    "text": "this guys",
    "start": "581519",
    "end": "582080"
  },
  {
    "text": "the first thing we do is okay create an",
    "start": "582080",
    "end": "583839"
  },
  {
    "text": "index and there are some tricks you can",
    "start": "583839",
    "end": "585839"
  },
  {
    "text": "do",
    "start": "585839",
    "end": "586959"
  },
  {
    "text": "why don't you do partitioning forget",
    "start": "586959",
    "end": "589040"
  },
  {
    "text": "about sharding shouting is the last",
    "start": "589040",
    "end": "590320"
  },
  {
    "text": "thing you can do a mangodb",
    "start": "590320",
    "end": "592480"
  },
  {
    "text": "supports sharding but they claim that it",
    "start": "592480",
    "end": "595600"
  },
  {
    "text": "was",
    "start": "595600",
    "end": "596000"
  },
  {
    "text": "so complicated to set up there you go we",
    "start": "596000",
    "end": "598720"
  },
  {
    "text": "knew we were not going to use mongodb",
    "start": "598720",
    "end": "601360"
  },
  {
    "text": "because it's complicating to use and not",
    "start": "601360",
    "end": "604160"
  },
  {
    "text": "known for stability again 2017's",
    "start": "604160",
    "end": "606399"
  },
  {
    "text": "uh speak right this might have changed",
    "start": "606399",
    "end": "609680"
  },
  {
    "text": "i tried to stay impartial as much as",
    "start": "609680",
    "end": "612240"
  },
  {
    "text": "possible",
    "start": "612240",
    "end": "613360"
  },
  {
    "text": "okay so yeah sharding was not a choice",
    "start": "613360",
    "end": "616399"
  },
  {
    "text": "for them apparently",
    "start": "616399",
    "end": "617440"
  },
  {
    "text": "and then but but i don't care about",
    "start": "617440",
    "end": "619600"
  },
  {
    "text": "sharing partitioning",
    "start": "619600",
    "end": "620880"
  },
  {
    "text": "does mongodb support partitioning if",
    "start": "620880",
    "end": "622800"
  },
  {
    "text": "anyone knows let me know in the comment",
    "start": "622800",
    "end": "624640"
  },
  {
    "text": "section below guys",
    "start": "624640",
    "end": "625760"
  },
  {
    "text": "i would love to know uh if if it did in",
    "start": "625760",
    "end": "629040"
  },
  {
    "text": "2017 or if it does in",
    "start": "629040",
    "end": "630959"
  },
  {
    "text": "2020 i have no idea but",
    "start": "630959",
    "end": "634399"
  },
  {
    "text": "that's the first thing you need to do",
    "start": "634399",
    "end": "635519"
  },
  {
    "text": "you need to partition okay",
    "start": "635519",
    "end": "637440"
  },
  {
    "text": "and and make your indexes are smaller",
    "start": "637440",
    "end": "639440"
  },
  {
    "text": "and smaller and possible so they",
    "start": "639440",
    "end": "640959"
  },
  {
    "text": "can fit in memory so that you don't have",
    "start": "640959",
    "end": "644000"
  },
  {
    "text": "io",
    "start": "644000",
    "end": "644800"
  },
  {
    "text": "bound essentially situations right",
    "start": "644800",
    "end": "647279"
  },
  {
    "text": "that's that's that's that's what we try",
    "start": "647279",
    "end": "648720"
  },
  {
    "text": "to do",
    "start": "648720",
    "end": "649279"
  },
  {
    "text": "we try to do as much as possible",
    "start": "649279",
    "end": "651120"
  },
  {
    "text": "beautiful things",
    "start": "651120",
    "end": "652800"
  },
  {
    "text": "so they talk about choosing their",
    "start": "652800",
    "end": "654160"
  },
  {
    "text": "databases what what's their criteria",
    "start": "654160",
    "end": "656240"
  },
  {
    "text": "here and stuff i'm not going to go",
    "start": "656240",
    "end": "657600"
  },
  {
    "text": "through this you can read it through",
    "start": "657600",
    "end": "658640"
  },
  {
    "text": "yourself",
    "start": "658640",
    "end": "660880"
  },
  {
    "text": "and me it's cassandra so",
    "start": "660880",
    "end": "664640"
  },
  {
    "text": "i'm i don't know much about cassandra i",
    "start": "664640",
    "end": "667600"
  },
  {
    "text": "know",
    "start": "667600",
    "end": "667920"
  },
  {
    "text": "it's it's built by facebook inspired by",
    "start": "667920",
    "end": "670880"
  },
  {
    "text": "amazon",
    "start": "670880",
    "end": "672079"
  },
  {
    "text": "dynamodb it's built by facebook it's an",
    "start": "672079",
    "end": "674720"
  },
  {
    "text": "open source product",
    "start": "674720",
    "end": "675760"
  },
  {
    "text": "it's a good database that's what from",
    "start": "675760",
    "end": "677920"
  },
  {
    "text": "what i hear",
    "start": "677920",
    "end": "679920"
  },
  {
    "text": "and it's by default support sharding and",
    "start": "679920",
    "end": "682320"
  },
  {
    "text": "partitioning sorry",
    "start": "682320",
    "end": "683440"
  },
  {
    "text": "so the idea here is it's a kkv",
    "start": "683440",
    "end": "686959"
  },
  {
    "text": "store it's a cave key value store",
    "start": "686959",
    "end": "690640"
  },
  {
    "text": "however there are multiple layers",
    "start": "690640",
    "end": "693760"
  },
  {
    "text": "so the first k is a partition key",
    "start": "693760",
    "end": "696480"
  },
  {
    "text": "followed by a primary key followed by",
    "start": "696480",
    "end": "698880"
  },
  {
    "text": "clustering key so now you you can",
    "start": "698880",
    "end": "702079"
  },
  {
    "text": "see that you're partitioned by default",
    "start": "702079",
    "end": "704160"
  },
  {
    "text": "which is beautiful",
    "start": "704160",
    "end": "705519"
  },
  {
    "text": "beautiful right when you want to know",
    "start": "705519",
    "end": "708160"
  },
  {
    "text": "exactly what you read",
    "start": "708160",
    "end": "709839"
  },
  {
    "text": "you hit the node that actually",
    "start": "709839",
    "end": "713360"
  },
  {
    "text": "has that particular content right if",
    "start": "713360",
    "end": "715920"
  },
  {
    "text": "mongodb supported partition they",
    "start": "715920",
    "end": "717600"
  },
  {
    "text": "wouldn't have seen this problem right",
    "start": "717600",
    "end": "719040"
  },
  {
    "text": "because",
    "start": "719040",
    "end": "719440"
  },
  {
    "text": "they would partition on i don't know",
    "start": "719440",
    "end": "720959"
  },
  {
    "text": "channel id for example",
    "start": "720959",
    "end": "722480"
  },
  {
    "text": "and every table will have i'm saying",
    "start": "722480",
    "end": "725760"
  },
  {
    "text": "there because i'm used to relational",
    "start": "725760",
    "end": "727519"
  },
  {
    "text": "model right",
    "start": "727519",
    "end": "728639"
  },
  {
    "text": "table will have oh this is the channel i",
    "start": "728639",
    "end": "731440"
  },
  {
    "text": "don't know",
    "start": "731440",
    "end": "731839"
  },
  {
    "text": "this channel id and messages and you can",
    "start": "731839",
    "end": "734240"
  },
  {
    "text": "just grow as much as possible so if the",
    "start": "734240",
    "end": "736320"
  },
  {
    "text": "channel has",
    "start": "736320",
    "end": "737200"
  },
  {
    "text": "a lot of messages only that channel will",
    "start": "737200",
    "end": "740320"
  },
  {
    "text": "get effect and we're going to see",
    "start": "740320",
    "end": "741600"
  },
  {
    "text": "there is a limitation on casa casandra",
    "start": "741600",
    "end": "743279"
  },
  {
    "text": "wasn't perfect by the way they moved",
    "start": "743279",
    "end": "745279"
  },
  {
    "text": "to cassandra but it wasn't perfect",
    "start": "745279",
    "end": "747839"
  },
  {
    "text": "anyway long story short they created a",
    "start": "747839",
    "end": "749760"
  },
  {
    "text": "table",
    "start": "749760",
    "end": "750639"
  },
  {
    "text": "uh on channel id and",
    "start": "750639",
    "end": "754240"
  },
  {
    "text": "the key becomes channel id message id",
    "start": "754240",
    "end": "756800"
  },
  {
    "text": "right so that's how they",
    "start": "756800",
    "end": "758000"
  },
  {
    "text": "partitioned you the moment they did that",
    "start": "758000",
    "end": "762720"
  },
  {
    "text": "immediately they got an error",
    "start": "762920",
    "end": "765920"
  },
  {
    "text": "after a few tests right i'm gonna say",
    "start": "765920",
    "end": "769279"
  },
  {
    "text": "i'm gonna",
    "start": "769279",
    "end": "770079"
  },
  {
    "text": "make it sure so what's the problem when",
    "start": "770079",
    "end": "773279"
  },
  {
    "text": "you",
    "start": "773279",
    "end": "773760"
  },
  {
    "text": "partition on the channel id that's what",
    "start": "773760",
    "end": "776399"
  },
  {
    "text": "they did at first right",
    "start": "776399",
    "end": "778560"
  },
  {
    "text": "they started getting an error saying hey",
    "start": "778560",
    "end": "781440"
  },
  {
    "text": "your partitions are",
    "start": "781440",
    "end": "783440"
  },
  {
    "text": "increasing more than 100 megabytes in",
    "start": "783440",
    "end": "785600"
  },
  {
    "text": "size",
    "start": "785600",
    "end": "787040"
  },
  {
    "text": "it was like i was like what who cares",
    "start": "787040",
    "end": "789839"
  },
  {
    "text": "and then",
    "start": "789839",
    "end": "790560"
  },
  {
    "text": "then they imagine say who gives",
    "start": "790560",
    "end": "792079"
  },
  {
    "text": "cassandra advertise that it can support",
    "start": "792079",
    "end": "794000"
  },
  {
    "text": "two",
    "start": "794000",
    "end": "795040"
  },
  {
    "text": "ged partitions so why do we have why are",
    "start": "795040",
    "end": "797839"
  },
  {
    "text": "you",
    "start": "797839",
    "end": "798240"
  },
  {
    "text": "yelling at us when we did reach 100",
    "start": "798240",
    "end": "801600"
  },
  {
    "text": "megabytes worth of partition who cares",
    "start": "801600",
    "end": "805120"
  },
  {
    "text": "of course my channel is going to have a",
    "start": "805120",
    "end": "806800"
  },
  {
    "text": "lot of messages",
    "start": "806800",
    "end": "808399"
  },
  {
    "text": "right so so why they said wait a second",
    "start": "808399",
    "end": "812480"
  },
  {
    "text": "that is that is bad practice doesn't if",
    "start": "812480",
    "end": "815200"
  },
  {
    "text": "if they support something doesn't mean",
    "start": "815200",
    "end": "816639"
  },
  {
    "text": "that's a good idea",
    "start": "816639",
    "end": "818000"
  },
  {
    "text": "cassandra by the way is built with java",
    "start": "818000",
    "end": "820320"
  },
  {
    "text": "and java",
    "start": "820320",
    "end": "821279"
  },
  {
    "text": "you know it's very infamous for their",
    "start": "821279",
    "end": "823680"
  },
  {
    "text": "jvm",
    "start": "823680",
    "end": "825279"
  },
  {
    "text": "and and and their jaw jarvish collector",
    "start": "825279",
    "end": "829360"
  },
  {
    "text": "garbage collector right if you write to",
    "start": "829360",
    "end": "832480"
  },
  {
    "text": "memory a lot",
    "start": "832480",
    "end": "834000"
  },
  {
    "text": "with java there is something called the",
    "start": "834000",
    "end": "837120"
  },
  {
    "text": "jarbitch",
    "start": "837120",
    "end": "837760"
  },
  {
    "text": "collector i can't say garbage collector",
    "start": "837760",
    "end": "841680"
  },
  {
    "text": "right which it says okay it scans your",
    "start": "841680",
    "end": "844560"
  },
  {
    "text": "memory says okay what is the orphan",
    "start": "844560",
    "end": "846240"
  },
  {
    "text": "stuff and start",
    "start": "846240",
    "end": "847199"
  },
  {
    "text": "cleaning up garbage and when that",
    "start": "847199",
    "end": "849760"
  },
  {
    "text": "happens",
    "start": "849760",
    "end": "850560"
  },
  {
    "text": "when you write to a memory a lot and you",
    "start": "850560",
    "end": "852880"
  },
  {
    "text": "kind of",
    "start": "852880",
    "end": "853680"
  },
  {
    "text": "de-reference memory location that you no",
    "start": "853680",
    "end": "856240"
  },
  {
    "text": "longer use",
    "start": "856240",
    "end": "858079"
  },
  {
    "text": "the garbage collector wake up and does",
    "start": "858079",
    "end": "860320"
  },
  {
    "text": "something called stop the world",
    "start": "860320",
    "end": "861760"
  },
  {
    "text": "it says hey wait a second everyone stop",
    "start": "861760",
    "end": "864560"
  },
  {
    "text": "i talk about this many times in my",
    "start": "864560",
    "end": "865920"
  },
  {
    "text": "channel right",
    "start": "865920",
    "end": "867360"
  },
  {
    "text": "and that's one of the reasons why",
    "start": "867360",
    "end": "869199"
  },
  {
    "text": "linkerd",
    "start": "869199",
    "end": "870720"
  },
  {
    "text": "moved from java as their sidecar proxy",
    "start": "870720",
    "end": "874079"
  },
  {
    "text": "to rust as their as their sidecar proxy",
    "start": "874079",
    "end": "877440"
  },
  {
    "text": "and i think uh go was it go yeah go as a",
    "start": "877440",
    "end": "880639"
  },
  {
    "text": "control plane",
    "start": "880639",
    "end": "882639"
  },
  {
    "text": "that's one reason because stop the word",
    "start": "882639",
    "end": "885600"
  },
  {
    "text": "everybody",
    "start": "885600",
    "end": "886240"
  },
  {
    "text": "stop hold on for ten five seconds",
    "start": "886240",
    "end": "889680"
  },
  {
    "text": "let me clean up if you pose a database",
    "start": "889680",
    "end": "893279"
  },
  {
    "text": "for five seconds",
    "start": "893279",
    "end": "894320"
  },
  {
    "text": "that is bad right imagine i i have a",
    "start": "894320",
    "end": "897519"
  },
  {
    "text": "query i'm asking for",
    "start": "897519",
    "end": "898720"
  },
  {
    "text": "for my messages and look all of a sudden",
    "start": "898720",
    "end": "902000"
  },
  {
    "text": "that is why cassandra",
    "start": "902000",
    "end": "905760"
  },
  {
    "text": "limits partition size to only hundred",
    "start": "905760",
    "end": "907680"
  },
  {
    "text": "megabytes they don't want you to go up",
    "start": "907680",
    "end": "909920"
  },
  {
    "text": "beyond that because the moment you go",
    "start": "909920",
    "end": "911519"
  },
  {
    "text": "beyond that then the garbage collector",
    "start": "911519",
    "end": "912959"
  },
  {
    "text": "will start",
    "start": "912959",
    "end": "913519"
  },
  {
    "text": "getting nuts right but start cleaning",
    "start": "913519",
    "end": "916240"
  },
  {
    "text": "yeah",
    "start": "916240",
    "end": "917279"
  },
  {
    "text": "so so they did something very nice they",
    "start": "917279",
    "end": "920240"
  },
  {
    "text": "said okay",
    "start": "920240",
    "end": "921360"
  },
  {
    "text": "let's introduce this idea of buckets",
    "start": "921360",
    "end": "924160"
  },
  {
    "text": "right",
    "start": "924160",
    "end": "925040"
  },
  {
    "text": "and that from what i understood is they",
    "start": "925040",
    "end": "927760"
  },
  {
    "text": "partitioned",
    "start": "927760",
    "end": "929120"
  },
  {
    "text": "they did a subpartition they said okay",
    "start": "929120",
    "end": "931680"
  },
  {
    "text": "not only channel id i'm going to",
    "start": "931680",
    "end": "933279"
  },
  {
    "text": "partition",
    "start": "933279",
    "end": "934079"
  },
  {
    "text": "pair bucket and a bucket is i think a 10",
    "start": "934079",
    "end": "937519"
  },
  {
    "text": "day worth of",
    "start": "937519",
    "end": "938800"
  },
  {
    "text": "messages that's it so now they are using",
    "start": "938800",
    "end": "941920"
  },
  {
    "text": "the created",
    "start": "941920",
    "end": "943040"
  },
  {
    "text": "date to create some sort of this virtual",
    "start": "943040",
    "end": "945600"
  },
  {
    "text": "thing that's called bucket",
    "start": "945600",
    "end": "947040"
  },
  {
    "text": "and the bucket plus the channel id",
    "start": "947040",
    "end": "948959"
  },
  {
    "text": "becomes a partition obviously the",
    "start": "948959",
    "end": "950160"
  },
  {
    "text": "partition becomes",
    "start": "950160",
    "end": "951120"
  },
  {
    "text": "very very small in this case because",
    "start": "951120",
    "end": "952720"
  },
  {
    "text": "you're not going to fit 100 megs",
    "start": "952720",
    "end": "954399"
  },
  {
    "text": "worth of content in a 10 days period",
    "start": "954399",
    "end": "957440"
  },
  {
    "text": "per channel unless this channel is very",
    "start": "957440",
    "end": "960720"
  },
  {
    "text": "very very very popular right",
    "start": "960720",
    "end": "964079"
  },
  {
    "text": "so that's their idea they test i bet",
    "start": "964079",
    "end": "966720"
  },
  {
    "text": "that in 2020 they",
    "start": "966720",
    "end": "968079"
  },
  {
    "text": "they bumped this little bit up from 10",
    "start": "968079",
    "end": "970399"
  },
  {
    "text": "days to",
    "start": "970399",
    "end": "971360"
  },
  {
    "text": "i don't know or maybe they made it",
    "start": "971360",
    "end": "973120"
  },
  {
    "text": "shorter five ten days to five days",
    "start": "973120",
    "end": "974800"
  },
  {
    "text": "because",
    "start": "974800",
    "end": "975600"
  },
  {
    "text": "they will definitely have a channel with",
    "start": "975600",
    "end": "977839"
  },
  {
    "text": "millions and millions",
    "start": "977839",
    "end": "979120"
  },
  {
    "text": "of uh users that will hit them 100",
    "start": "979120",
    "end": "981759"
  },
  {
    "text": "megabyte",
    "start": "981759",
    "end": "982399"
  },
  {
    "text": "partition size so they invented this",
    "start": "982399",
    "end": "984880"
  },
  {
    "text": "idea of partition everything become rosy",
    "start": "984880",
    "end": "986880"
  },
  {
    "text": "and everything is",
    "start": "986880",
    "end": "987680"
  },
  {
    "text": "nice everything is beautiful",
    "start": "987680",
    "end": "991600"
  },
  {
    "text": "they launched they run into",
    "start": "991600",
    "end": "995440"
  },
  {
    "text": "what we call the eventual consistency",
    "start": "995600",
    "end": "997440"
  },
  {
    "text": "problem which we talked about",
    "start": "997440",
    "end": "998800"
  },
  {
    "text": "right here go check that video out",
    "start": "998800",
    "end": "1000639"
  },
  {
    "text": "eventual consistent cassandra is an",
    "start": "1000639",
    "end": "1002240"
  },
  {
    "text": "invention in the consistent database why",
    "start": "1002240",
    "end": "1004240"
  },
  {
    "text": "because they",
    "start": "1004240",
    "end": "1005759"
  },
  {
    "text": "they are no sequel if you're gonna put",
    "start": "1005759",
    "end": "1008160"
  },
  {
    "text": "in that family",
    "start": "1008160",
    "end": "1009440"
  },
  {
    "text": "if you put in that family they are",
    "start": "1009440",
    "end": "1011519"
  },
  {
    "text": "eventually consistent by default",
    "start": "1011519",
    "end": "1013839"
  },
  {
    "text": "that means when you write the next three",
    "start": "1013839",
    "end": "1016160"
  },
  {
    "text": "does not",
    "start": "1016160",
    "end": "1017199"
  },
  {
    "text": "guarantee that you're gonna see what",
    "start": "1017199",
    "end": "1019680"
  },
  {
    "text": "you're reading so that's",
    "start": "1019680",
    "end": "1020959"
  },
  {
    "text": "thus it's not consistent but they prove",
    "start": "1020959",
    "end": "1023120"
  },
  {
    "text": "that it's gonna eventually",
    "start": "1023120",
    "end": "1024959"
  },
  {
    "text": "be uh converge and gives you the results",
    "start": "1024959",
    "end": "1028640"
  },
  {
    "text": "that you want",
    "start": "1028640",
    "end": "1031199"
  },
  {
    "text": "and start creating some problems that i",
    "start": "1031199",
    "end": "1033839"
  },
  {
    "text": "don't want to get into",
    "start": "1033839",
    "end": "1034798"
  },
  {
    "text": "but like here's i apologize for",
    "start": "1034799",
    "end": "1038000"
  },
  {
    "text": "the podcast listeners but what we're",
    "start": "1038000",
    "end": "1039839"
  },
  {
    "text": "looking at here is",
    "start": "1039839",
    "end": "1041199"
  },
  {
    "text": "two people one creating a message",
    "start": "1041199",
    "end": "1044640"
  },
  {
    "text": "and then the other person is is deleting",
    "start": "1044640",
    "end": "1047600"
  },
  {
    "text": "that message",
    "start": "1047600",
    "end": "1048799"
  },
  {
    "text": "and while that the first person is is",
    "start": "1048799",
    "end": "1051600"
  },
  {
    "text": "just creating the message now they are",
    "start": "1051600",
    "end": "1053120"
  },
  {
    "text": "updating that message",
    "start": "1053120",
    "end": "1054640"
  },
  {
    "text": "right and bringing a field in that",
    "start": "1054640",
    "end": "1056320"
  },
  {
    "text": "message and now",
    "start": "1056320",
    "end": "1058240"
  },
  {
    "text": "when you update that field the message",
    "start": "1058240",
    "end": "1059840"
  },
  {
    "text": "already deleted so what the people",
    "start": "1059840",
    "end": "1061919"
  },
  {
    "text": "see is everything is nulled out",
    "start": "1061919",
    "end": "1064080"
  },
  {
    "text": "including the author id",
    "start": "1064080",
    "end": "1066160"
  },
  {
    "text": "and and this is impossible because",
    "start": "1066160",
    "end": "1068320"
  },
  {
    "text": "author id cannot be null it's",
    "start": "1068320",
    "end": "1069760"
  },
  {
    "text": "not now so how do you get this situation",
    "start": "1069760",
    "end": "1071760"
  },
  {
    "text": "is is so weird",
    "start": "1071760",
    "end": "1073840"
  },
  {
    "text": "and then so they had to write scripts to",
    "start": "1073840",
    "end": "1076799"
  },
  {
    "text": "kind of",
    "start": "1076799",
    "end": "1077360"
  },
  {
    "text": "kill these things to to to actually",
    "start": "1077360",
    "end": "1080640"
  },
  {
    "text": "physically delete these things",
    "start": "1080640",
    "end": "1082400"
  },
  {
    "text": "because cassandra doesn't actually",
    "start": "1082400",
    "end": "1084799"
  },
  {
    "text": "physically delete the road they mark it",
    "start": "1084799",
    "end": "1086960"
  },
  {
    "text": "as deleted just like we've seen this",
    "start": "1086960",
    "end": "1089120"
  },
  {
    "text": "many times and they call this raw",
    "start": "1089120",
    "end": "1091200"
  },
  {
    "text": "tombstone right because it's very",
    "start": "1091200",
    "end": "1093840"
  },
  {
    "text": "expensive to actually delete something",
    "start": "1093840",
    "end": "1095679"
  },
  {
    "text": "physically",
    "start": "1095679",
    "end": "1096480"
  },
  {
    "text": "so they actually mark it as deleted",
    "start": "1096480",
    "end": "1098880"
  },
  {
    "text": "marker markers deleted",
    "start": "1098880",
    "end": "1100000"
  },
  {
    "text": "and during reads they they know that oh",
    "start": "1100000",
    "end": "1103360"
  },
  {
    "text": "this row is actually deleted",
    "start": "1103360",
    "end": "1105360"
  },
  {
    "text": "so let me actually just ignore it so",
    "start": "1105360",
    "end": "1108160"
  },
  {
    "text": "they took the hit to actually",
    "start": "1108160",
    "end": "1109760"
  },
  {
    "text": "pull it into memory and pay attention to",
    "start": "1109760",
    "end": "1112880"
  },
  {
    "text": "this because it's gonna come",
    "start": "1112880",
    "end": "1114160"
  },
  {
    "text": "to the next problem that they had which",
    "start": "1114160",
    "end": "1116240"
  },
  {
    "text": "is absolutely amazing",
    "start": "1116240",
    "end": "1118240"
  },
  {
    "text": "i love how this blog is written i love",
    "start": "1118240",
    "end": "1120720"
  },
  {
    "text": "it i love it i love it because they go",
    "start": "1120720",
    "end": "1122320"
  },
  {
    "text": "into details and i love it",
    "start": "1122320",
    "end": "1125600"
  },
  {
    "text": "so now you pull these tombstones which",
    "start": "1126559",
    "end": "1129360"
  },
  {
    "text": "are",
    "start": "1129360",
    "end": "1130080"
  },
  {
    "text": "if you have a lot of tombstones then you",
    "start": "1130080",
    "end": "1132559"
  },
  {
    "text": "just allocated",
    "start": "1132559",
    "end": "1133600"
  },
  {
    "text": "memory for literally nothing",
    "start": "1133600",
    "end": "1137280"
  },
  {
    "text": "in your in your in your desk right in",
    "start": "1137280",
    "end": "1140000"
  },
  {
    "text": "your computer in your machine your host",
    "start": "1140000",
    "end": "1141600"
  },
  {
    "text": "a new node",
    "start": "1141600",
    "end": "1143840"
  },
  {
    "text": "meet their next problem performance they",
    "start": "1143840",
    "end": "1146960"
  },
  {
    "text": "talk about the right performance because",
    "start": "1146960",
    "end": "1149440"
  },
  {
    "text": "cassandra is very well known for writes",
    "start": "1149440",
    "end": "1151679"
  },
  {
    "text": "and from the",
    "start": "1151679",
    "end": "1152559"
  },
  {
    "text": "from what i read and listened from",
    "start": "1152559",
    "end": "1154640"
  },
  {
    "text": "podcasts",
    "start": "1154640",
    "end": "1156559"
  },
  {
    "text": "is cassandra is very good for read",
    "start": "1156559",
    "end": "1158480"
  },
  {
    "text": "because they have like a append only",
    "start": "1158480",
    "end": "1160720"
  },
  {
    "text": "uh log structure merge three they use an",
    "start": "1160720",
    "end": "1162880"
  },
  {
    "text": "sm mode and we talked about",
    "start": "1162880",
    "end": "1164559"
  },
  {
    "text": "sm in this channel a little bit not a",
    "start": "1164559",
    "end": "1166320"
  },
  {
    "text": "dedicated video but",
    "start": "1166320",
    "end": "1167600"
  },
  {
    "text": "lux structure merch tree is is beautiful",
    "start": "1167600",
    "end": "1169919"
  },
  {
    "text": "for right because",
    "start": "1169919",
    "end": "1170880"
  },
  {
    "text": "it doesn't have a b3 it doesn't have to",
    "start": "1170880",
    "end": "1173200"
  },
  {
    "text": "re-balance itself and then just move",
    "start": "1173200",
    "end": "1175200"
  },
  {
    "text": "stuff along and yeah it doesn't have",
    "start": "1175200",
    "end": "1176720"
  },
  {
    "text": "that stuff it's just always up and up",
    "start": "1176720",
    "end": "1178320"
  },
  {
    "text": "and up and happen",
    "start": "1178320",
    "end": "1179679"
  },
  {
    "text": "pins are beautiful because we know",
    "start": "1179679",
    "end": "1182000"
  },
  {
    "text": "what's the last",
    "start": "1182000",
    "end": "1183360"
  },
  {
    "text": "position of the of the file is and we",
    "start": "1183360",
    "end": "1186160"
  },
  {
    "text": "can write very quickly",
    "start": "1186160",
    "end": "1187600"
  },
  {
    "text": "right we don't need to seek and in place",
    "start": "1187600",
    "end": "1190400"
  },
  {
    "text": "update like",
    "start": "1190400",
    "end": "1191039"
  },
  {
    "text": "v3s v3s yeah v3 is a pin at the end but",
    "start": "1191039",
    "end": "1194640"
  },
  {
    "text": "sometimes",
    "start": "1194640",
    "end": "1195679"
  },
  {
    "text": "an append can trigger a rebalance and",
    "start": "1195679",
    "end": "1198480"
  },
  {
    "text": "that rebalance need to go seek back",
    "start": "1198480",
    "end": "1200559"
  },
  {
    "text": "and change the tree location and that's",
    "start": "1200559",
    "end": "1202799"
  },
  {
    "text": "an that kills the ssd if you do it a lot",
    "start": "1202799",
    "end": "1205280"
  },
  {
    "text": "of time that's why it's",
    "start": "1205280",
    "end": "1206640"
  },
  {
    "text": "uh is great for right so that's that's",
    "start": "1206640",
    "end": "1208960"
  },
  {
    "text": "basically they don't actually go into",
    "start": "1208960",
    "end": "1210559"
  },
  {
    "text": "that much detail but i i just",
    "start": "1210559",
    "end": "1212159"
  },
  {
    "text": "gave you the idea me the big surprise",
    "start": "1212159",
    "end": "1215360"
  },
  {
    "text": "when they moved to production after i",
    "start": "1215360",
    "end": "1216880"
  },
  {
    "text": "think uh",
    "start": "1216880",
    "end": "1217440"
  },
  {
    "text": "i don't know how many days was it six",
    "start": "1217440",
    "end": "1219360"
  },
  {
    "text": "months after six months they run into",
    "start": "1219360",
    "end": "1220799"
  },
  {
    "text": "this problem",
    "start": "1220799",
    "end": "1222720"
  },
  {
    "text": "they noticed that cassandra just stops",
    "start": "1222720",
    "end": "1224720"
  },
  {
    "text": "the ward",
    "start": "1224720",
    "end": "1226400"
  },
  {
    "text": "10 second garbage collection start",
    "start": "1226400",
    "end": "1229280"
  },
  {
    "text": "cleaning up",
    "start": "1229280",
    "end": "1230559"
  },
  {
    "text": "and then you notice that there is one",
    "start": "1230559",
    "end": "1232480"
  },
  {
    "text": "there's this one channel that just",
    "start": "1232480",
    "end": "1234240"
  },
  {
    "text": "kills the performance of that particular",
    "start": "1234240",
    "end": "1236320"
  },
  {
    "text": "node when it happens",
    "start": "1236320",
    "end": "1237440"
  },
  {
    "text": "it's called puzzles and dragons",
    "start": "1237440",
    "end": "1239120"
  },
  {
    "text": "subreddit subreddit",
    "start": "1239120",
    "end": "1241200"
  },
  {
    "text": "public discord so what happened they go",
    "start": "1241200",
    "end": "1244400"
  },
  {
    "text": "to that",
    "start": "1244400",
    "end": "1245039"
  },
  {
    "text": "message they go to that channel so they",
    "start": "1245039",
    "end": "1247440"
  },
  {
    "text": "joined the channel",
    "start": "1247440",
    "end": "1248400"
  },
  {
    "text": "the the the developers they joined this",
    "start": "1248400",
    "end": "1250159"
  },
  {
    "text": "channel are we still recording yeah",
    "start": "1250159",
    "end": "1251679"
  },
  {
    "text": "they join this challenge is they view",
    "start": "1251679",
    "end": "1253919"
  },
  {
    "text": "the channel and says",
    "start": "1253919",
    "end": "1255440"
  },
  {
    "text": "after 20 second they get a single",
    "start": "1255440",
    "end": "1258320"
  },
  {
    "text": "stinking message",
    "start": "1258320",
    "end": "1259840"
  },
  {
    "text": "that's it there's one message why would",
    "start": "1259840",
    "end": "1262080"
  },
  {
    "text": "a one message take 10 20 seconds to load",
    "start": "1262080",
    "end": "1266320"
  },
  {
    "text": "look what they did they had millions",
    "start": "1267280",
    "end": "1271360"
  },
  {
    "text": "millions of messages in that channel",
    "start": "1271360",
    "end": "1274799"
  },
  {
    "text": "but what they did they deleted all of",
    "start": "1274799",
    "end": "1277200"
  },
  {
    "text": "them and left one",
    "start": "1277200",
    "end": "1279600"
  },
  {
    "text": "so the channel is still valid but they",
    "start": "1279600",
    "end": "1281679"
  },
  {
    "text": "just deleted",
    "start": "1281679",
    "end": "1283679"
  },
  {
    "text": "everything so we might say who's saying",
    "start": "1283679",
    "end": "1285919"
  },
  {
    "text": "what",
    "start": "1285919",
    "end": "1286880"
  },
  {
    "text": "what's the problem i can delete stuff",
    "start": "1286880",
    "end": "1288720"
  },
  {
    "text": "remember what we said with cassandra",
    "start": "1288720",
    "end": "1291039"
  },
  {
    "text": "deletes are marked as tombstones and",
    "start": "1291039",
    "end": "1293760"
  },
  {
    "text": "what do we do with",
    "start": "1293760",
    "end": "1294720"
  },
  {
    "text": "tombstones since because of eventual",
    "start": "1294720",
    "end": "1297679"
  },
  {
    "text": "consistency we had",
    "start": "1297679",
    "end": "1298880"
  },
  {
    "text": "we don't know if this deleted unless we",
    "start": "1298880",
    "end": "1300960"
  },
  {
    "text": "read it so they",
    "start": "1300960",
    "end": "1302240"
  },
  {
    "text": "read it puts it in memory",
    "start": "1302240",
    "end": "1305840"
  },
  {
    "text": "they read all this millions of messages",
    "start": "1305840",
    "end": "1310720"
  },
  {
    "text": "and only one is active so they have to",
    "start": "1310720",
    "end": "1313600"
  },
  {
    "text": "filter everything in memory",
    "start": "1313600",
    "end": "1316559"
  },
  {
    "text": "and just like that you had all this",
    "start": "1316559",
    "end": "1319360"
  },
  {
    "text": "garbage in your memory",
    "start": "1319360",
    "end": "1321360"
  },
  {
    "text": "and the garbage collection wakes up it",
    "start": "1321360",
    "end": "1322960"
  },
  {
    "text": "says holy",
    "start": "1322960",
    "end": "1324559"
  },
  {
    "text": "[ __ ] i need to clean up all this garbage",
    "start": "1324559",
    "end": "1327679"
  },
  {
    "text": "right now",
    "start": "1327679",
    "end": "1328559"
  },
  {
    "text": "guys stop the war let me clean up java",
    "start": "1328559",
    "end": "1332480"
  },
  {
    "text": "so it will start cleaning up all this",
    "start": "1332480",
    "end": "1334080"
  },
  {
    "text": "mess and it will do all that stuff",
    "start": "1334080",
    "end": "1337039"
  },
  {
    "text": "and it will do a lot of them so yeah",
    "start": "1337039",
    "end": "1339520"
  },
  {
    "text": "that's what happened",
    "start": "1339520",
    "end": "1342080"
  },
  {
    "text": "so that's essentially what i'm gonna i",
    "start": "1342080",
    "end": "1344159"
  },
  {
    "text": "summarize what happened here",
    "start": "1344159",
    "end": "1346400"
  },
  {
    "text": "so what how did they solve this they",
    "start": "1346400",
    "end": "1348799"
  },
  {
    "text": "lowered the life",
    "start": "1348799",
    "end": "1349919"
  },
  {
    "text": "span of tombstone from 10 days to two",
    "start": "1349919",
    "end": "1352400"
  },
  {
    "text": "days so that they physically removed",
    "start": "1352400",
    "end": "1354159"
  },
  {
    "text": "that stuff",
    "start": "1354159",
    "end": "1355360"
  },
  {
    "text": "i don't know why would you keep those",
    "start": "1355360",
    "end": "1358159"
  },
  {
    "text": "tombstone alive and i guess for",
    "start": "1358159",
    "end": "1359840"
  },
  {
    "text": "restoring purposes",
    "start": "1359840",
    "end": "1361840"
  },
  {
    "text": "if someone deletes i was like shut up",
    "start": "1361840",
    "end": "1363760"
  },
  {
    "text": "dude you cannot restore anything",
    "start": "1363760",
    "end": "1366080"
  },
  {
    "text": "but i i guess they want to support that",
    "start": "1366080",
    "end": "1368080"
  },
  {
    "text": "feature",
    "start": "1368080",
    "end": "1369360"
  },
  {
    "text": "and guys here's a beautiful things that",
    "start": "1369360",
    "end": "1371679"
  },
  {
    "text": "in the future they want to upgrade from",
    "start": "1371679",
    "end": "1373120"
  },
  {
    "text": "casa and i took it",
    "start": "1373120",
    "end": "1374320"
  },
  {
    "text": "to three and what i really",
    "start": "1374320",
    "end": "1377440"
  },
  {
    "text": "was interested in they want to explore",
    "start": "1377440",
    "end": "1379679"
  },
  {
    "text": "cella db",
    "start": "1379679",
    "end": "1381280"
  },
  {
    "text": "so cella is very similar to cassandra",
    "start": "1381280",
    "end": "1384559"
  },
  {
    "text": "and i still remember in 2015 and 2016.",
    "start": "1384559",
    "end": "1387280"
  },
  {
    "text": "it was like it was it was very just like",
    "start": "1387280",
    "end": "1390080"
  },
  {
    "text": "so an",
    "start": "1390080",
    "end": "1390559"
  },
  {
    "text": "infant database was born and it started",
    "start": "1390559",
    "end": "1393440"
  },
  {
    "text": "to get a lot of",
    "start": "1393440",
    "end": "1394720"
  },
  {
    "text": "uh fame and fortune",
    "start": "1394720",
    "end": "1398000"
  },
  {
    "text": "seller db so it looks like uh they might",
    "start": "1398000",
    "end": "1401280"
  },
  {
    "text": "move to cellar db why because sela is",
    "start": "1401280",
    "end": "1404000"
  },
  {
    "text": "written in c plus plus",
    "start": "1404000",
    "end": "1405280"
  },
  {
    "text": "and ziploc does not have garbage",
    "start": "1405280",
    "end": "1407360"
  },
  {
    "text": "collecting",
    "start": "1407360",
    "end": "1408799"
  },
  {
    "text": "that means we rely on zela to clean up",
    "start": "1408799",
    "end": "1412159"
  },
  {
    "text": "their mess",
    "start": "1412159",
    "end": "1414000"
  },
  {
    "text": "after after every operation instead of",
    "start": "1414000",
    "end": "1417200"
  },
  {
    "text": "uh having a java like a garbage",
    "start": "1417200",
    "end": "1419440"
  },
  {
    "text": "collection right",
    "start": "1419440",
    "end": "1421120"
  },
  {
    "text": "so they think uh moving to salon might",
    "start": "1421120",
    "end": "1423360"
  },
  {
    "text": "help i don't know",
    "start": "1423360",
    "end": "1426320"
  },
  {
    "text": "maybe maybe not but that's it guys",
    "start": "1426320",
    "end": "1430400"
  },
  {
    "text": "i really enjoyed reading this article i",
    "start": "1430400",
    "end": "1432799"
  },
  {
    "text": "know it's old but i don't care because",
    "start": "1432799",
    "end": "1434799"
  },
  {
    "text": "it's beautiful it's if you guys found an",
    "start": "1434799",
    "end": "1438159"
  },
  {
    "text": "article from",
    "start": "1438159",
    "end": "1439120"
  },
  {
    "text": "2015 please send it my way uh whether",
    "start": "1439120",
    "end": "1442799"
  },
  {
    "text": "or not on twitter you you can see my",
    "start": "1442799",
    "end": "1444880"
  },
  {
    "text": "twitter here hnasr",
    "start": "1444880",
    "end": "1447600"
  },
  {
    "text": "and anywhere email me i love these",
    "start": "1447600",
    "end": "1450320"
  },
  {
    "text": "messages because",
    "start": "1450320",
    "end": "1451200"
  },
  {
    "text": "i really appreciate them thank you so",
    "start": "1451200",
    "end": "1452720"
  },
  {
    "text": "much to",
    "start": "1452720",
    "end": "1454240"
  },
  {
    "text": "to whoever sent me this ma to this",
    "start": "1454240",
    "end": "1456720"
  },
  {
    "text": "article",
    "start": "1456720",
    "end": "1457279"
  },
  {
    "text": "keep the uh bringing those right because",
    "start": "1457279",
    "end": "1460320"
  },
  {
    "text": "the other day i covered whatsapp moving",
    "start": "1460320",
    "end": "1462880"
  },
  {
    "text": "to 10 million",
    "start": "1462880",
    "end": "1464559"
  },
  {
    "text": "tcp connection uh per server",
    "start": "1464559",
    "end": "1468159"
  },
  {
    "text": "that was like a 2011 article i don't",
    "start": "1468159",
    "end": "1471440"
  },
  {
    "text": "care i don't i don't cover",
    "start": "1471440",
    "end": "1473039"
  },
  {
    "text": "recent news as long as it's quality good",
    "start": "1473039",
    "end": "1475600"
  },
  {
    "text": "news",
    "start": "1475600",
    "end": "1476240"
  },
  {
    "text": "i'm gonna cover it thank you so much for",
    "start": "1476240",
    "end": "1478240"
  },
  {
    "text": "watching thank you very much for",
    "start": "1478240",
    "end": "1479760"
  },
  {
    "text": "listening on the podcast",
    "start": "1479760",
    "end": "1481360"
  },
  {
    "text": "i'm gonna see you on the next one guys",
    "start": "1481360",
    "end": "1483120"
  },
  {
    "text": "uh to support this channel just",
    "start": "1483120",
    "end": "1485120"
  },
  {
    "text": "consider hitting like and subscribe",
    "start": "1485120",
    "end": "1488320"
  },
  {
    "text": "because this supports the channel this",
    "start": "1488320",
    "end": "1489760"
  },
  {
    "text": "lets youtube that there is this",
    "start": "1489760",
    "end": "1491600"
  },
  {
    "text": "uh this this this douchebag that is",
    "start": "1491600",
    "end": "1494159"
  },
  {
    "text": "talking about software",
    "start": "1494159",
    "end": "1495679"
  },
  {
    "text": "and uh ma some of some of you guys might",
    "start": "1495679",
    "end": "1498480"
  },
  {
    "text": "might enjoy this content so",
    "start": "1498480",
    "end": "1500480"
  },
  {
    "text": "appreciate you thank you so much stay",
    "start": "1500480",
    "end": "1502720"
  },
  {
    "text": "awesome goodbye",
    "start": "1502720",
    "end": "1508080"
  }
]