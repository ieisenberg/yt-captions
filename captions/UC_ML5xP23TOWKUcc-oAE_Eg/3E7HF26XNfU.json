[
  {
    "start": "0",
    "end": "42000"
  },
  {
    "text": "what's going on guys my name is hussain",
    "start": "0",
    "end": "1920"
  },
  {
    "text": "and i have talked about stateless versus",
    "start": "1920",
    "end": "4319"
  },
  {
    "text": "stateful",
    "start": "4319",
    "end": "5040"
  },
  {
    "text": "protocols uh here on this channel many",
    "start": "5040",
    "end": "7440"
  },
  {
    "text": "many times",
    "start": "7440",
    "end": "8720"
  },
  {
    "text": "uh stateless protocols such as http",
    "start": "8720",
    "end": "11840"
  },
  {
    "text": "have advantages and disadvantages uh",
    "start": "11840",
    "end": "14799"
  },
  {
    "text": "mainly is horizontal scalability",
    "start": "14799",
    "end": "17520"
  },
  {
    "text": "but the problem is local cash",
    "start": "17520",
    "end": "22080"
  },
  {
    "text": "cannot be stored as easily so we kind of",
    "start": "22080",
    "end": "24640"
  },
  {
    "text": "suffer of that",
    "start": "24640",
    "end": "25840"
  },
  {
    "text": "cash locality problem and the",
    "start": "25840",
    "end": "27840"
  },
  {
    "text": "performance versus the stateful worker",
    "start": "27840",
    "end": "30240"
  },
  {
    "text": "which is great for",
    "start": "30240",
    "end": "31679"
  },
  {
    "text": "cash locality you have the same",
    "start": "31679",
    "end": "33680"
  },
  {
    "text": "information on the same",
    "start": "33680",
    "end": "35440"
  },
  {
    "text": "host machine container however it",
    "start": "35440",
    "end": "38239"
  },
  {
    "text": "doesn't scale horizontally as",
    "start": "38239",
    "end": "40239"
  },
  {
    "text": "good right now we talked about that",
    "start": "40239",
    "end": "41840"
  },
  {
    "text": "stuff so we need both we need stateless",
    "start": "41840",
    "end": "44559"
  },
  {
    "start": "42000",
    "end": "111000"
  },
  {
    "text": "and stateful brokers stateful broker tcp",
    "start": "44559",
    "end": "47120"
  },
  {
    "text": "grpc websockets stateless is",
    "start": "47120",
    "end": "49680"
  },
  {
    "text": "hdtv right so guys",
    "start": "49680",
    "end": "53920"
  },
  {
    "text": "we build application and build protocols",
    "start": "53920",
    "end": "57840"
  },
  {
    "text": "kind of on top of each other so",
    "start": "57840",
    "end": "60000"
  },
  {
    "text": "for example http yeah it is a stateless",
    "start": "60000",
    "end": "63840"
  },
  {
    "text": "protocol",
    "start": "63840",
    "end": "65040"
  },
  {
    "text": "but is built on top of a stateful",
    "start": "65040",
    "end": "67520"
  },
  {
    "text": "protocol and that's",
    "start": "67520",
    "end": "68960"
  },
  {
    "text": "very easy to do right the protocol",
    "start": "68960",
    "end": "72080"
  },
  {
    "text": "semantics of http says hey do not store",
    "start": "72080",
    "end": "75360"
  },
  {
    "text": "anything on the server",
    "start": "75360",
    "end": "76640"
  },
  {
    "text": "if the client needs information that is",
    "start": "76640",
    "end": "80240"
  },
  {
    "text": "being stored on the server then you have",
    "start": "80240",
    "end": "83360"
  },
  {
    "text": "to",
    "start": "83360",
    "end": "83920"
  },
  {
    "text": "transmit this information transmits this",
    "start": "83920",
    "end": "87040"
  },
  {
    "text": "state state transfer risk right",
    "start": "87040",
    "end": "90320"
  },
  {
    "text": "with every request so that we do not",
    "start": "90320",
    "end": "93680"
  },
  {
    "text": "uh suffer from uh the scalability",
    "start": "93680",
    "end": "97119"
  },
  {
    "text": "problem we need to be stateless with",
    "start": "97119",
    "end": "98880"
  },
  {
    "text": "every request",
    "start": "98880",
    "end": "99680"
  },
  {
    "text": "so that's the semantics of http it was",
    "start": "99680",
    "end": "102560"
  },
  {
    "text": "designed",
    "start": "102560",
    "end": "103200"
  },
  {
    "text": "because of the web it was designed",
    "start": "103200",
    "end": "105040"
  },
  {
    "text": "because we could hit",
    "start": "105040",
    "end": "106640"
  },
  {
    "text": "any server and being served by that",
    "start": "106640",
    "end": "109280"
  },
  {
    "text": "server",
    "start": "109280",
    "end": "110399"
  },
  {
    "text": "okay so this protocol which is stateless",
    "start": "110399",
    "end": "114000"
  },
  {
    "start": "111000",
    "end": "175000"
  },
  {
    "text": "was built on a stateful protocol which",
    "start": "114000",
    "end": "115920"
  },
  {
    "text": "is tcp right",
    "start": "115920",
    "end": "117680"
  },
  {
    "text": "from for the longest time i know http3",
    "start": "117680",
    "end": "120479"
  },
  {
    "text": "is built on udv but",
    "start": "120479",
    "end": "121840"
  },
  {
    "text": "it's a different question i'm gonna get",
    "start": "121840",
    "end": "123119"
  },
  {
    "text": "to that so",
    "start": "123119",
    "end": "124960"
  },
  {
    "text": "tcp is stateful and stores",
    "start": "124960",
    "end": "128879"
  },
  {
    "text": "state so it's very very you know",
    "start": "128879",
    "end": "132720"
  },
  {
    "text": "very very well known for state right",
    "start": "132720",
    "end": "135360"
  },
  {
    "text": "because it first of all there is a",
    "start": "135360",
    "end": "136640"
  },
  {
    "text": "connection",
    "start": "136640",
    "end": "137599"
  },
  {
    "text": "there is a physical connection and",
    "start": "137599",
    "end": "140080"
  },
  {
    "text": "second",
    "start": "140080",
    "end": "140800"
  },
  {
    "text": "we store sequence numbers on right we",
    "start": "140800",
    "end": "143520"
  },
  {
    "text": "store window sizes",
    "start": "143520",
    "end": "145040"
  },
  {
    "text": "so we cannot all of a sudden decide nah",
    "start": "145040",
    "end": "148239"
  },
  {
    "text": "i want to go to another host mid",
    "start": "148239",
    "end": "149840"
  },
  {
    "text": "connection",
    "start": "149840",
    "end": "150640"
  },
  {
    "text": "no doesn't work right and the advantage",
    "start": "150640",
    "end": "153519"
  },
  {
    "text": "of that is",
    "start": "153519",
    "end": "154239"
  },
  {
    "text": "you can safely store data in the same",
    "start": "154239",
    "end": "157440"
  },
  {
    "text": "host and and guarantee",
    "start": "157440",
    "end": "159280"
  },
  {
    "text": "it's going to be there because the",
    "start": "159280",
    "end": "161200"
  },
  {
    "text": "internet is going to route you all the",
    "start": "161200",
    "end": "162879"
  },
  {
    "text": "way to the same host",
    "start": "162879",
    "end": "164160"
  },
  {
    "text": "all the time okay so that's the the",
    "start": "164160",
    "end": "167200"
  },
  {
    "text": "trick",
    "start": "167200",
    "end": "167840"
  },
  {
    "text": "uh for for stateful persistence and you",
    "start": "167840",
    "end": "170879"
  },
  {
    "text": "can build",
    "start": "170879",
    "end": "172080"
  },
  {
    "text": "stateless protocol on top of stateful as",
    "start": "172080",
    "end": "174000"
  },
  {
    "text": "i said http over tcp",
    "start": "174000",
    "end": "176080"
  },
  {
    "text": "you can also build state full protocols",
    "start": "176080",
    "end": "180000"
  },
  {
    "text": "over stateless protocols that's just",
    "start": "180000",
    "end": "182800"
  },
  {
    "text": "easily just store states",
    "start": "182800",
    "end": "184239"
  },
  {
    "text": "example web sockets right well check out",
    "start": "184239",
    "end": "187519"
  },
  {
    "text": "the bad example because it just uses it",
    "start": "187519",
    "end": "189360"
  },
  {
    "text": "reuses the same tcp connection so it",
    "start": "189360",
    "end": "191360"
  },
  {
    "text": "just",
    "start": "191360",
    "end": "192080"
  },
  {
    "text": "downgrades itself but nevertheless",
    "start": "192080",
    "end": "195280"
  },
  {
    "text": "it is stateful protocol on top of http",
    "start": "195280",
    "end": "197519"
  },
  {
    "text": "because that's the first thing that we",
    "start": "197519",
    "end": "199200"
  },
  {
    "text": "built",
    "start": "199200",
    "end": "200400"
  },
  {
    "text": "so another example is grpc grpc is a",
    "start": "200400",
    "end": "203120"
  },
  {
    "text": "stateful protocol",
    "start": "203120",
    "end": "204799"
  },
  {
    "text": "you agree right and it's built on top",
    "start": "204799",
    "end": "208319"
  },
  {
    "text": "of http 2 which is stateless protocol",
    "start": "208319",
    "end": "211200"
  },
  {
    "text": "which is",
    "start": "211200",
    "end": "212000"
  },
  {
    "text": "built on top of tcp which is stateful",
    "start": "212000",
    "end": "214720"
  },
  {
    "text": "protocol right",
    "start": "214720",
    "end": "215920"
  },
  {
    "text": "so all of this stuff guys",
    "start": "215920",
    "end": "218959"
  },
  {
    "text": "right there's all like turtles and",
    "start": "218959",
    "end": "221040"
  },
  {
    "text": "turtles when it comes to this and and my",
    "start": "221040",
    "end": "222560"
  },
  {
    "text": "favorite is actually",
    "start": "222560",
    "end": "223599"
  },
  {
    "text": "http 3 which is a stateless protocol",
    "start": "223599",
    "end": "227040"
  },
  {
    "text": "which is built on top of quick right",
    "start": "227040",
    "end": "230799"
  },
  {
    "text": "which is actually a state full protocol",
    "start": "230799",
    "end": "234480"
  },
  {
    "text": "which is built on top of udp udp is what",
    "start": "234480",
    "end": "238319"
  },
  {
    "text": "stateless protocol right we talked about",
    "start": "238319",
    "end": "240640"
  },
  {
    "text": "ddv versus tcp check out the video here",
    "start": "240640",
    "end": "243280"
  },
  {
    "text": "right which is built on a udb which is a",
    "start": "243280",
    "end": "245280"
  },
  {
    "text": "stateless protocol so",
    "start": "245280",
    "end": "247760"
  },
  {
    "start": "247000",
    "end": "300000"
  },
  {
    "text": "at some point you you have to think",
    "start": "247760",
    "end": "251519"
  },
  {
    "text": "the these guys will build these",
    "start": "251519",
    "end": "254640"
  },
  {
    "text": "protocols actually understand what they",
    "start": "254640",
    "end": "257199"
  },
  {
    "text": "want",
    "start": "257199",
    "end": "258400"
  },
  {
    "text": "and the underlying protocols do not give",
    "start": "258400",
    "end": "260479"
  },
  {
    "text": "you this so",
    "start": "260479",
    "end": "262479"
  },
  {
    "text": "first of all ask yourself your",
    "start": "262479",
    "end": "264240"
  },
  {
    "text": "application that you're building",
    "start": "264240",
    "end": "266320"
  },
  {
    "text": "do i need statelessness does do i need",
    "start": "266320",
    "end": "270479"
  },
  {
    "text": "to be scaled horizontally do i need",
    "start": "270479",
    "end": "273040"
  },
  {
    "text": "bi-directional communication because as",
    "start": "273040",
    "end": "274639"
  },
  {
    "text": "far as i know",
    "start": "274639",
    "end": "275520"
  },
  {
    "text": "it's very very hard to build the",
    "start": "275520",
    "end": "277440"
  },
  {
    "text": "stateless application that's",
    "start": "277440",
    "end": "278800"
  },
  {
    "text": "bi-directional communication",
    "start": "278800",
    "end": "280639"
  },
  {
    "text": "all right i'll be surprised if someone",
    "start": "280639",
    "end": "282479"
  },
  {
    "text": "built that i'll actually love to know",
    "start": "282479",
    "end": "284720"
  },
  {
    "text": "how do you build a stateless application",
    "start": "284720",
    "end": "286479"
  },
  {
    "text": "a chatting stateless application",
    "start": "286479",
    "end": "288960"
  },
  {
    "text": "it's a state you you have to store",
    "start": "288960",
    "end": "290639"
  },
  {
    "text": "states somewhere unless you're",
    "start": "290639",
    "end": "292080"
  },
  {
    "text": "constantly disconnecting and",
    "start": "292080",
    "end": "293360"
  },
  {
    "text": "reconnecting",
    "start": "293360",
    "end": "294639"
  },
  {
    "text": "back i know actually that i might",
    "start": "294639",
    "end": "296560"
  },
  {
    "text": "actually check xmpp and see if that",
    "start": "296560",
    "end": "298320"
  },
  {
    "text": "might",
    "start": "298320",
    "end": "298639"
  },
  {
    "text": "be a stateless who knows but yeah guys",
    "start": "298639",
    "end": "301680"
  },
  {
    "text": "uh your back end essentially",
    "start": "301680",
    "end": "304960"
  },
  {
    "text": "you have to evaluate what kind of",
    "start": "304960",
    "end": "307919"
  },
  {
    "text": "protocols you need and",
    "start": "307919",
    "end": "310080"
  },
  {
    "text": "do you need statelessness in this case",
    "start": "310080",
    "end": "312639"
  },
  {
    "text": "use http",
    "start": "312639",
    "end": "314160"
  },
  {
    "text": "or use udp directly youtube is very raw",
    "start": "314160",
    "end": "318400"
  },
  {
    "text": "right i think we need a little bit",
    "start": "318400",
    "end": "320639"
  },
  {
    "text": "another stateless protocol",
    "start": "320639",
    "end": "323360"
  },
  {
    "text": "uh that is essentially not as",
    "start": "323360",
    "end": "327039"
  },
  {
    "text": "thick as http thick",
    "start": "327039",
    "end": "331280"
  },
  {
    "text": "and uh as as not as simple as ddb",
    "start": "331600",
    "end": "335440"
  },
  {
    "start": "335000",
    "end": "360000"
  },
  {
    "text": "i mean http 2 is getting better now",
    "start": "335440",
    "end": "338080"
  },
  {
    "text": "streams and whatnot so",
    "start": "338080",
    "end": "340160"
  },
  {
    "text": "but that's good right but if you need a",
    "start": "340160",
    "end": "342240"
  },
  {
    "text": "stateful protocol and you need",
    "start": "342240",
    "end": "344400"
  },
  {
    "text": "yours your host to always go to the same",
    "start": "344400",
    "end": "347520"
  },
  {
    "text": "machine",
    "start": "347520",
    "end": "348479"
  },
  {
    "text": "because and i actually built a built a",
    "start": "348479",
    "end": "351120"
  },
  {
    "text": "game",
    "start": "351120",
    "end": "352240"
  },
  {
    "text": "that i wanted to be stateful right you",
    "start": "352240",
    "end": "355520"
  },
  {
    "text": "want",
    "start": "355520",
    "end": "356080"
  },
  {
    "text": "statefulness so all every request goes",
    "start": "356080",
    "end": "358479"
  },
  {
    "text": "to the same machine stickiness",
    "start": "358479",
    "end": "361039"
  },
  {
    "start": "360000",
    "end": "431000"
  },
  {
    "text": "right i mean you can configure reverse",
    "start": "361039",
    "end": "363280"
  },
  {
    "text": "proxies to be",
    "start": "363280",
    "end": "364880"
  },
  {
    "text": "stateful and enforce http request to be",
    "start": "364880",
    "end": "368319"
  },
  {
    "text": "stateful",
    "start": "368319",
    "end": "369120"
  },
  {
    "text": "right this is against the semantic of",
    "start": "369120",
    "end": "371199"
  },
  {
    "text": "the web but",
    "start": "371199",
    "end": "372319"
  },
  {
    "text": "what's what's n what is anyway",
    "start": "372319",
    "end": "375039"
  },
  {
    "text": "everything is against these days",
    "start": "375039",
    "end": "376400"
  },
  {
    "text": "nobody's following standards",
    "start": "376400",
    "end": "378160"
  },
  {
    "text": "but yeah reverse proxies can be",
    "start": "378160",
    "end": "379919"
  },
  {
    "text": "configured to route",
    "start": "379919",
    "end": "381520"
  },
  {
    "text": "http traffic to always the same machine",
    "start": "381520",
    "end": "383440"
  },
  {
    "text": "based on hashes based on certain",
    "start": "383440",
    "end": "385520"
  },
  {
    "text": "values in the request and the the game i",
    "start": "385520",
    "end": "388560"
  },
  {
    "text": "built",
    "start": "388560",
    "end": "389919"
  },
  {
    "text": "was uh as actually i made a video about",
    "start": "389919",
    "end": "392479"
  },
  {
    "text": "it right",
    "start": "392479",
    "end": "393199"
  },
  {
    "text": "i wanted the participants of a certain",
    "start": "393199",
    "end": "397199"
  },
  {
    "text": "game so you",
    "start": "397199",
    "end": "397919"
  },
  {
    "text": "you want to create a game and certain",
    "start": "397919",
    "end": "401360"
  },
  {
    "text": "people",
    "start": "401360",
    "end": "402160"
  },
  {
    "text": "join the game right and i wanted",
    "start": "402160",
    "end": "405759"
  },
  {
    "text": "all of these people to be in the same",
    "start": "405759",
    "end": "409520"
  },
  {
    "text": "machine",
    "start": "409520",
    "end": "410240"
  },
  {
    "text": "because i want to use this memory",
    "start": "410240",
    "end": "412720"
  },
  {
    "text": "structure in the host",
    "start": "412720",
    "end": "414400"
  },
  {
    "text": "so that i don't go to a redis cluster to",
    "start": "414400",
    "end": "416960"
  },
  {
    "text": "ask for a state",
    "start": "416960",
    "end": "418639"
  },
  {
    "text": "right i want the state to be in the host",
    "start": "418639",
    "end": "420400"
  },
  {
    "text": "and in the game stayed as the host",
    "start": "420400",
    "end": "422080"
  },
  {
    "text": "and if the if i'm i was okay if the",
    "start": "422080",
    "end": "425199"
  },
  {
    "text": "server was destroyed yeah the game ends",
    "start": "425199",
    "end": "427840"
  },
  {
    "text": "i'm fine with that because the game",
    "start": "427840",
    "end": "429199"
  },
  {
    "text": "lasts i don't think 30 seconds anyway",
    "start": "429199",
    "end": "431360"
  },
  {
    "start": "431000",
    "end": "497000"
  },
  {
    "text": "so there was a perfect example where i",
    "start": "431360",
    "end": "433440"
  },
  {
    "text": "needed",
    "start": "433440",
    "end": "434800"
  },
  {
    "text": "a stateful protocol and",
    "start": "434800",
    "end": "437919"
  },
  {
    "text": "uh i used web sockets for that",
    "start": "437919",
    "end": "441520"
  },
  {
    "text": "right but whoops even socket is not",
    "start": "441520",
    "end": "444080"
  },
  {
    "text": "really enough",
    "start": "444080",
    "end": "445280"
  },
  {
    "text": "because reverse proxy will just load",
    "start": "445280",
    "end": "447919"
  },
  {
    "text": "balance your",
    "start": "447919",
    "end": "449120"
  },
  {
    "text": "your your request right uh",
    "start": "449120",
    "end": "452160"
  },
  {
    "text": "to your your websocket request to",
    "start": "452160",
    "end": "453759"
  },
  {
    "text": "different hosts",
    "start": "453759",
    "end": "455280"
  },
  {
    "text": "you want given request",
    "start": "455280",
    "end": "458560"
  },
  {
    "text": "you want certain requests to go to",
    "start": "458560",
    "end": "461680"
  },
  {
    "text": "certain hosts and that's very difficult",
    "start": "461680",
    "end": "463680"
  },
  {
    "text": "to build with websocket but i think",
    "start": "463680",
    "end": "465199"
  },
  {
    "text": "there is a way",
    "start": "465199",
    "end": "466720"
  },
  {
    "text": "but that's guys that's it i wanted to",
    "start": "466720",
    "end": "468479"
  },
  {
    "text": "talk about how statefulness how do you",
    "start": "468479",
    "end": "470479"
  },
  {
    "text": "build stateful application",
    "start": "470479",
    "end": "472080"
  },
  {
    "text": "or stateful protocol on top of stateless",
    "start": "472080",
    "end": "474560"
  },
  {
    "text": "that's easy just store the state right",
    "start": "474560",
    "end": "476479"
  },
  {
    "text": "and how do you build stateless protocol",
    "start": "476479",
    "end": "479039"
  },
  {
    "text": "on top of state four protocol",
    "start": "479039",
    "end": "480720"
  },
  {
    "text": "that's also easy just basically do not",
    "start": "480720",
    "end": "483120"
  },
  {
    "text": "store anything",
    "start": "483120",
    "end": "484000"
  },
  {
    "text": "at that layer right http doesn't store",
    "start": "484000",
    "end": "486560"
  },
  {
    "text": "anything",
    "start": "486560",
    "end": "487120"
  },
  {
    "text": "all right guys that's it for me today",
    "start": "487120",
    "end": "488639"
  },
  {
    "text": "hope you enjoyed this video subscribe",
    "start": "488639",
    "end": "490720"
  },
  {
    "text": "for more",
    "start": "490720",
    "end": "491440"
  },
  {
    "text": "backend topics and i'm gonna see you in",
    "start": "491440",
    "end": "494639"
  },
  {
    "text": "the next one",
    "start": "494639",
    "end": "495919"
  },
  {
    "text": "you guys stay awesome goodbye",
    "start": "495919",
    "end": "499440"
  }
]