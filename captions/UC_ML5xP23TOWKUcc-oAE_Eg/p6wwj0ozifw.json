[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "in a previous episode of the vacuum",
    "start": "80",
    "end": "1439"
  },
  {
    "text": "engineering show i talked about hash",
    "start": "1439",
    "end": "3040"
  },
  {
    "text": "tables",
    "start": "3040",
    "end": "4080"
  },
  {
    "text": "and how",
    "start": "4080",
    "end": "5680"
  },
  {
    "text": "uh powerful and very commonly used they",
    "start": "5680",
    "end": "8720"
  },
  {
    "text": "are",
    "start": "8720",
    "end": "9920"
  },
  {
    "text": "given a key",
    "start": "9920",
    "end": "11599"
  },
  {
    "text": "we can find its corresponding value",
    "start": "11599",
    "end": "15200"
  },
  {
    "text": "in no time in zero seek time we're not",
    "start": "15200",
    "end": "18400"
  },
  {
    "text": "searching we're not scanning we're not",
    "start": "18400",
    "end": "19920"
  },
  {
    "text": "doing anything it's a single axis",
    "start": "19920",
    "end": "22560"
  },
  {
    "text": "in memory retrieving that value the",
    "start": "22560",
    "end": "25199"
  },
  {
    "text": "power behind hash tables is the use of",
    "start": "25199",
    "end": "29199"
  },
  {
    "text": "the arrays which is a very common data",
    "start": "29199",
    "end": "31199"
  },
  {
    "text": "structure obviously very",
    "start": "31199",
    "end": "33280"
  },
  {
    "text": "very common data structure right knowing",
    "start": "33280",
    "end": "35680"
  },
  {
    "text": "the array position the",
    "start": "35680",
    "end": "38079"
  },
  {
    "text": "the index",
    "start": "38079",
    "end": "39360"
  },
  {
    "text": "you can get the value of the array",
    "start": "39360",
    "end": "42000"
  },
  {
    "text": "immediately because you know how how",
    "start": "42000",
    "end": "44719"
  },
  {
    "text": "does memory work if you know the address",
    "start": "44719",
    "end": "47039"
  },
  {
    "text": "of the ram",
    "start": "47039",
    "end": "48320"
  },
  {
    "text": "where your",
    "start": "48320",
    "end": "49600"
  },
  {
    "text": "cell exists where your values exist",
    "start": "49600",
    "end": "52239"
  },
  {
    "text": "you can get the value immediately right",
    "start": "52239",
    "end": "54320"
  },
  {
    "text": "the cpu can fetch the value immediately",
    "start": "54320",
    "end": "56399"
  },
  {
    "text": "for you right so once you find the index",
    "start": "56399",
    "end": "59680"
  },
  {
    "text": "you find the address you can value so",
    "start": "59680",
    "end": "61600"
  },
  {
    "text": "what the hash table guys did it says",
    "start": "61600",
    "end": "63680"
  },
  {
    "text": "okay we're gonna",
    "start": "63680",
    "end": "65280"
  },
  {
    "text": "take your name your string your color",
    "start": "65280",
    "end": "67920"
  },
  {
    "text": "your car your va anything that has been",
    "start": "67920",
    "end": "70960"
  },
  {
    "text": "this key we're going to hash it using a",
    "start": "70960",
    "end": "72799"
  },
  {
    "text": "one-way function and then convert that",
    "start": "72799",
    "end": "74960"
  },
  {
    "text": "into an index using a modulo function",
    "start": "74960",
    "end": "77119"
  },
  {
    "text": "based on the array size so we eventually",
    "start": "77119",
    "end": "79840"
  },
  {
    "text": "from the name we convert and continue an",
    "start": "79840",
    "end": "81680"
  },
  {
    "text": "index and that will give us the address",
    "start": "81680",
    "end": "84560"
  },
  {
    "text": "and the memory and we can get the value",
    "start": "84560",
    "end": "86080"
  },
  {
    "text": "so that's the trick the hash table guys",
    "start": "86080",
    "end": "88159"
  },
  {
    "text": "use you know so the only cost you add is",
    "start": "88159",
    "end": "90880"
  },
  {
    "text": "like what the hashing function which is",
    "start": "90880",
    "end": "92799"
  },
  {
    "text": "not really that bad but that's the power",
    "start": "92799",
    "end": "95439"
  },
  {
    "text": "of the hash table but the problem is the",
    "start": "95439",
    "end": "97600"
  },
  {
    "text": "moment the size of the array changes the",
    "start": "97600",
    "end": "101040"
  },
  {
    "text": "hash table size changes",
    "start": "101040",
    "end": "103200"
  },
  {
    "text": "this all forms apart",
    "start": "103200",
    "end": "105119"
  },
  {
    "text": "because what what the if blue the key",
    "start": "105119",
    "end": "108720"
  },
  {
    "text": "blue used to fit in index number 11",
    "start": "108720",
    "end": "112880"
  },
  {
    "text": "if you increased or decreased the array",
    "start": "112880",
    "end": "115360"
  },
  {
    "text": "size and i you know where i'm going with",
    "start": "115360",
    "end": "117600"
  },
  {
    "text": "this then the blue will fit into index",
    "start": "117600",
    "end": "120799"
  },
  {
    "start": "120000",
    "end": "300000"
  },
  {
    "text": "99 now and as a result",
    "start": "120799",
    "end": "123439"
  },
  {
    "text": "right you either won't find the value or",
    "start": "123439",
    "end": "125600"
  },
  {
    "text": "you're gonna start writing the values",
    "start": "125600",
    "end": "127439"
  },
  {
    "text": "duplicate",
    "start": "127439",
    "end": "128479"
  },
  {
    "text": "and",
    "start": "128479",
    "end": "129360"
  },
  {
    "text": "everything will basically",
    "start": "129360",
    "end": "131120"
  },
  {
    "text": "be bad so you now have to really move",
    "start": "131120",
    "end": "133520"
  },
  {
    "text": "things around your resize and it's a",
    "start": "133520",
    "end": "136239"
  },
  {
    "text": "really big problem so why i'm mentioning",
    "start": "136239",
    "end": "138720"
  },
  {
    "text": "that the problem that we are seeing",
    "start": "138720",
    "end": "141200"
  },
  {
    "text": "today with distributive system is as",
    "start": "141200",
    "end": "143360"
  },
  {
    "text": "follows",
    "start": "143360",
    "end": "144560"
  },
  {
    "text": "if my database are increasing in size",
    "start": "144560",
    "end": "147840"
  },
  {
    "text": "and it no longer can fit in a single",
    "start": "147840",
    "end": "150800"
  },
  {
    "text": "instance i i bumped up the vertical",
    "start": "150800",
    "end": "154080"
  },
  {
    "text": "scaling to its maximum it's now 48 core",
    "start": "154080",
    "end": "158000"
  },
  {
    "text": "cpu",
    "start": "158000",
    "end": "159200"
  },
  {
    "text": "three gigahertz whatever you know it's",
    "start": "159200",
    "end": "162840"
  },
  {
    "text": "512 gigabyte or even one terabyte",
    "start": "162840",
    "end": "166959"
  },
  {
    "text": "ram but still i have billions of rows",
    "start": "166959",
    "end": "170879"
  },
  {
    "text": "i cannot i added all the indexes i try",
    "start": "170879",
    "end": "173840"
  },
  {
    "text": "to partition it horizontally in the same",
    "start": "173840",
    "end": "175920"
  },
  {
    "text": "instance by range so but still the even",
    "start": "175920",
    "end": "179120"
  },
  {
    "text": "the partitions are so large so i that",
    "start": "179120",
    "end": "182159"
  },
  {
    "text": "machine cannot handle the queries um",
    "start": "182159",
    "end": "185680"
  },
  {
    "text": "throwing at my beautiful database so",
    "start": "185680",
    "end": "188400"
  },
  {
    "text": "what do we do we distribute it we shard",
    "start": "188400",
    "end": "191599"
  },
  {
    "text": "the database that's",
    "start": "191599",
    "end": "193280"
  },
  {
    "text": "i really don't like to go there unless i",
    "start": "193280",
    "end": "195519"
  },
  {
    "text": "kind of exhaust all my options and",
    "start": "195519",
    "end": "198000"
  },
  {
    "text": "believe me people don't even look at the",
    "start": "198000",
    "end": "200319"
  },
  {
    "text": "options anymore people are very quick to",
    "start": "200319",
    "end": "203440"
  },
  {
    "text": "follow modern things you know without",
    "start": "203440",
    "end": "205760"
  },
  {
    "text": "actually going to the basics and",
    "start": "205760",
    "end": "207599"
  },
  {
    "text": "trying to tune your database and getting",
    "start": "207599",
    "end": "209440"
  },
  {
    "text": "a better performance but regardless",
    "start": "209440",
    "end": "211120"
  },
  {
    "text": "let's assume you're a youtube scale",
    "start": "211120",
    "end": "212400"
  },
  {
    "text": "let's give you a google scale and you",
    "start": "212400",
    "end": "214959"
  },
  {
    "text": "run out ideas that single instance can't",
    "start": "214959",
    "end": "217360"
  },
  {
    "text": "handle anymore you need to distribute",
    "start": "217360",
    "end": "219280"
  },
  {
    "text": "the billions of rows table",
    "start": "219280",
    "end": "222239"
  },
  {
    "text": "or key dictionary or collection into",
    "start": "222239",
    "end": "225440"
  },
  {
    "text": "multiple",
    "start": "225440",
    "end": "226400"
  },
  {
    "text": "servers right so instead of having",
    "start": "226400",
    "end": "228640"
  },
  {
    "text": "billions let's have i know a few",
    "start": "228640",
    "end": "230159"
  },
  {
    "text": "millions on this server and few millions",
    "start": "230159",
    "end": "232000"
  },
  {
    "text": "on this server a few millions on the",
    "start": "232000",
    "end": "233120"
  },
  {
    "text": "server female in the server",
    "start": "233120",
    "end": "235040"
  },
  {
    "text": "immediately a problem occur the problem",
    "start": "235040",
    "end": "237680"
  },
  {
    "text": "is like how do i know",
    "start": "237680",
    "end": "239599"
  },
  {
    "text": "right",
    "start": "239599",
    "end": "240879"
  },
  {
    "text": "if i have a key i want to look it up",
    "start": "240879",
    "end": "243760"
  },
  {
    "text": "we introduced an intermediately an",
    "start": "243760",
    "end": "246959"
  },
  {
    "text": "intermediary problem right that didn't",
    "start": "246959",
    "end": "249680"
  },
  {
    "text": "exist before",
    "start": "249680",
    "end": "251599"
  },
  {
    "text": "well first if i have a key i go to my",
    "start": "251599",
    "end": "254640"
  },
  {
    "text": "database server and i ask it and i",
    "start": "254640",
    "end": "256479"
  },
  {
    "text": "immediately give it to me i only go to",
    "start": "256479",
    "end": "258880"
  },
  {
    "text": "one hop now",
    "start": "258880",
    "end": "260959"
  },
  {
    "text": "if you're distributed and you only have",
    "start": "260959",
    "end": "263360"
  },
  {
    "text": "the key",
    "start": "263360",
    "end": "264880"
  },
  {
    "text": "you have to answer the first question",
    "start": "264880",
    "end": "267360"
  },
  {
    "text": "which server should i connect",
    "start": "267360",
    "end": "270400"
  },
  {
    "text": "to to retrieve the key which server",
    "start": "270400",
    "end": "273759"
  },
  {
    "text": "hosts my key",
    "start": "273759",
    "end": "275919"
  },
  {
    "text": "and that is the problem here that is the",
    "start": "275919",
    "end": "278240"
  },
  {
    "text": "original and only problem that we have",
    "start": "278240",
    "end": "281040"
  },
  {
    "text": "in distributed system which",
    "start": "281040",
    "end": "283600"
  },
  {
    "text": "server should i connect to to fetch that",
    "start": "283600",
    "end": "286639"
  },
  {
    "text": "key",
    "start": "286639",
    "end": "288880"
  },
  {
    "text": "so the trick was always",
    "start": "289440",
    "end": "292560"
  },
  {
    "text": "let's figure out the server from the key",
    "start": "292560",
    "end": "295840"
  },
  {
    "text": "and that is the concept of hashing",
    "start": "295840",
    "end": "297680"
  },
  {
    "text": "hashing tables appear here so in this",
    "start": "297680",
    "end": "300240"
  },
  {
    "start": "300000",
    "end": "420000"
  },
  {
    "text": "episode of the vacancy show i'd like to",
    "start": "300240",
    "end": "302080"
  },
  {
    "text": "talk about that a little bit distributed",
    "start": "302080",
    "end": "304479"
  },
  {
    "text": "hashing and then",
    "start": "304479",
    "end": "306960"
  },
  {
    "text": "what problems did we have and how",
    "start": "306960",
    "end": "308800"
  },
  {
    "text": "consistent hashing solves this problem",
    "start": "308800",
    "end": "312400"
  },
  {
    "text": "and obviously",
    "start": "312400",
    "end": "313919"
  },
  {
    "text": "nothing is perfect in this world so i'd",
    "start": "313919",
    "end": "316080"
  },
  {
    "text": "also like like to talk about the",
    "start": "316080",
    "end": "318479"
  },
  {
    "text": "problems consisting hashing actually",
    "start": "318479",
    "end": "320639"
  },
  {
    "text": "have today welcome to the backend",
    "start": "320639",
    "end": "322639"
  },
  {
    "text": "engineering show with your host hussein",
    "start": "322639",
    "end": "324000"
  },
  {
    "text": "nelson and the concept of distributed",
    "start": "324000",
    "end": "326720"
  },
  {
    "text": "system is a must when you get to a",
    "start": "326720",
    "end": "329039"
  },
  {
    "text": "certain scale yeah i always try as much",
    "start": "329039",
    "end": "332479"
  },
  {
    "text": "as possible",
    "start": "332479",
    "end": "333759"
  },
  {
    "text": "to",
    "start": "333759",
    "end": "334560"
  },
  {
    "text": "you know",
    "start": "334560",
    "end": "335520"
  },
  {
    "text": "push people against being distributed if",
    "start": "335520",
    "end": "338880"
  },
  {
    "text": "they can do things to have their single",
    "start": "338880",
    "end": "341360"
  },
  {
    "text": "instance you know be more performant",
    "start": "341360",
    "end": "343680"
  },
  {
    "text": "when it comes to query because you see a",
    "start": "343680",
    "end": "346160"
  },
  {
    "text": "lot of",
    "start": "346160",
    "end": "347120"
  },
  {
    "text": "a lot of people",
    "start": "347120",
    "end": "348479"
  },
  {
    "text": "our engineers",
    "start": "348479",
    "end": "350000"
  },
  {
    "text": "are hurry up to scale right and spend",
    "start": "350000",
    "end": "353280"
  },
  {
    "text": "more money",
    "start": "353280",
    "end": "354639"
  },
  {
    "text": "to start to work with the distributor",
    "start": "354639",
    "end": "357039"
  },
  {
    "text": "without actually while their query is",
    "start": "357039",
    "end": "359280"
  },
  {
    "text": "actually",
    "start": "359280",
    "end": "360160"
  },
  {
    "text": "using 500 of their cpu and then doing",
    "start": "360160",
    "end": "363759"
  },
  {
    "text": "like",
    "start": "363759",
    "end": "364560"
  },
  {
    "text": "a million logical reads you know where",
    "start": "364560",
    "end": "367600"
  },
  {
    "text": "they can",
    "start": "367600",
    "end": "368639"
  },
  {
    "text": "tweak it a little bit and",
    "start": "368639",
    "end": "371440"
  },
  {
    "text": "tweak it and tune the database a little",
    "start": "371440",
    "end": "373199"
  },
  {
    "text": "bit understand their queries so they can",
    "start": "373199",
    "end": "376720"
  },
  {
    "text": "have or even you know",
    "start": "376720",
    "end": "378720"
  },
  {
    "text": "lower that cost you know as a result but",
    "start": "378720",
    "end": "381919"
  },
  {
    "text": "we don't think this way anymore we",
    "start": "381919",
    "end": "383600"
  },
  {
    "text": "always take the shortcut unfortunately",
    "start": "383600",
    "end": "386240"
  },
  {
    "text": "but regardless so",
    "start": "386240",
    "end": "387840"
  },
  {
    "text": "usually advanced and adept dpas try to",
    "start": "387840",
    "end": "392080"
  },
  {
    "text": "optimize a single coin as a result if",
    "start": "392080",
    "end": "394319"
  },
  {
    "text": "you if you can get a query to consume",
    "start": "394319",
    "end": "397039"
  },
  {
    "text": "less cpu even if it's a small query",
    "start": "397039",
    "end": "400319"
  },
  {
    "text": "scaling that query right will eventually",
    "start": "400319",
    "end": "403199"
  },
  {
    "text": "give you better scaling on your instance",
    "start": "403199",
    "end": "405759"
  },
  {
    "text": "but that's not our topic that's another",
    "start": "405759",
    "end": "407919"
  },
  {
    "text": "day but let's say you reached the state",
    "start": "407919",
    "end": "409520"
  },
  {
    "text": "where you exhausted all your options you",
    "start": "409520",
    "end": "412560"
  },
  {
    "text": "know when it comes to a single instance",
    "start": "412560",
    "end": "415120"
  },
  {
    "text": "right then you moved he says hey i have",
    "start": "415120",
    "end": "417759"
  },
  {
    "text": "to move to and uh distribute the system",
    "start": "417759",
    "end": "419919"
  },
  {
    "text": "it's just too large",
    "start": "419919",
    "end": "421599"
  },
  {
    "start": "420000",
    "end": "570000"
  },
  {
    "text": "you gotta move",
    "start": "421599",
    "end": "422800"
  },
  {
    "text": "so people what they did says okay i have",
    "start": "422800",
    "end": "425199"
  },
  {
    "text": "a key",
    "start": "425199",
    "end": "426880"
  },
  {
    "text": "and now i don't know which i have",
    "start": "426880",
    "end": "429440"
  },
  {
    "text": "10 servers right i don't know where this",
    "start": "429440",
    "end": "432479"
  },
  {
    "text": "key lives in distant server environment",
    "start": "432479",
    "end": "434479"
  },
  {
    "text": "so i'll say all right so we're going to",
    "start": "434479",
    "end": "436560"
  },
  {
    "text": "do let's say i have four server a",
    "start": "436560",
    "end": "438720"
  },
  {
    "text": "cluster with four servers and i want to",
    "start": "438720",
    "end": "440720"
  },
  {
    "text": "distribute my values across these four",
    "start": "440720",
    "end": "444080"
  },
  {
    "text": "servers so server s0 s1 s2 and s3 right",
    "start": "444080",
    "end": "448960"
  },
  {
    "text": "what we're gonna do is like giving the",
    "start": "448960",
    "end": "450560"
  },
  {
    "text": "key i need to know the server",
    "start": "450560",
    "end": "452960"
  },
  {
    "text": "name the server ip and that's something",
    "start": "452960",
    "end": "455599"
  },
  {
    "text": "that we are introducing as a problem",
    "start": "455599",
    "end": "458080"
  },
  {
    "text": "like we introduced a friction that",
    "start": "458080",
    "end": "461520"
  },
  {
    "text": "didn't exist before first",
    "start": "461520",
    "end": "463440"
  },
  {
    "text": "previously so i just one server we know",
    "start": "463440",
    "end": "465520"
  },
  {
    "text": "the server right but now we have to",
    "start": "465520",
    "end": "468400"
  },
  {
    "text": "figure out from the key we have to",
    "start": "468400",
    "end": "470319"
  },
  {
    "text": "figure out the iprs of the server to",
    "start": "470319",
    "end": "472560"
  },
  {
    "text": "connect to in order where our key",
    "start": "472560",
    "end": "475039"
  },
  {
    "text": "actually exists",
    "start": "475039",
    "end": "476479"
  },
  {
    "text": "that answer can be answered using a very",
    "start": "476479",
    "end": "479680"
  },
  {
    "text": "simple hashing function so we're going",
    "start": "479680",
    "end": "481759"
  },
  {
    "text": "to hash the value let's say i'm have",
    "start": "481759",
    "end": "483599"
  },
  {
    "text": "value number four uh gonna hash it get",
    "start": "483599",
    "end": "486400"
  },
  {
    "text": "some value and then that value we're",
    "start": "486400",
    "end": "488479"
  },
  {
    "text": "gonna do modulo number four and that",
    "start": "488479",
    "end": "490879"
  },
  {
    "text": "gives you server zero so",
    "start": "490879",
    "end": "493360"
  },
  {
    "text": "store server zero right here right",
    "start": "493360",
    "end": "496400"
  },
  {
    "text": "in this case right so four modulo four",
    "start": "496400",
    "end": "498160"
  },
  {
    "text": "is zero and then okay how about key",
    "start": "498160",
    "end": "500080"
  },
  {
    "text": "number five right",
    "start": "500080",
    "end": "502240"
  },
  {
    "text": "or even whatever that key used to be",
    "start": "502240",
    "end": "504800"
  },
  {
    "text": "maybe let's say it's a it's a blue or",
    "start": "504800",
    "end": "507039"
  },
  {
    "text": "red right red you're gonna hash it get",
    "start": "507039",
    "end": "509199"
  },
  {
    "text": "that value number five which is a number",
    "start": "509199",
    "end": "511360"
  },
  {
    "text": "and then five modulo four will give you",
    "start": "511360",
    "end": "513518"
  },
  {
    "text": "s1",
    "start": "513519",
    "end": "514640"
  },
  {
    "text": "and s1 will go right here right so",
    "start": "514640",
    "end": "517518"
  },
  {
    "text": "five",
    "start": "517519",
    "end": "518560"
  },
  {
    "text": "right lives in s1 and same thing 6 will",
    "start": "518560",
    "end": "521360"
  },
  {
    "text": "live in s2 and 7 will live in",
    "start": "521360",
    "end": "524240"
  },
  {
    "text": "s3 you're just gonna do module four",
    "start": "524240",
    "end": "526640"
  },
  {
    "text": "because four is your server pool size",
    "start": "526640",
    "end": "529200"
  },
  {
    "text": "right and then let's say going back",
    "start": "529200",
    "end": "530959"
  },
  {
    "text": "let's say eight then eight module four",
    "start": "530959",
    "end": "532959"
  },
  {
    "text": "oh so back to zero and then",
    "start": "532959",
    "end": "535040"
  },
  {
    "text": "use get the point which is which works",
    "start": "535040",
    "end": "537040"
  },
  {
    "text": "perfectly from the key",
    "start": "537040",
    "end": "539839"
  },
  {
    "text": "i was able to figure out",
    "start": "539839",
    "end": "543680"
  },
  {
    "text": "the server",
    "start": "543920",
    "end": "545040"
  },
  {
    "text": "so cost is zero is nothing here's we",
    "start": "545040",
    "end": "548000"
  },
  {
    "text": "solve distributed system right there",
    "start": "548000",
    "end": "551519"
  },
  {
    "text": "here's one problem though as long as you",
    "start": "551519",
    "end": "553200"
  },
  {
    "text": "have four servers your love is beautiful",
    "start": "553200",
    "end": "556080"
  },
  {
    "text": "you don't have to worry about anything",
    "start": "556080",
    "end": "558959"
  },
  {
    "text": "but now",
    "start": "558959",
    "end": "561279"
  },
  {
    "text": "even those four servers reach their",
    "start": "561279",
    "end": "562880"
  },
  {
    "text": "limit again",
    "start": "562880",
    "end": "564560"
  },
  {
    "text": "whatever reason limit that means you're",
    "start": "564560",
    "end": "566720"
  },
  {
    "text": "you're at the globe scale you know you",
    "start": "566720",
    "end": "569360"
  },
  {
    "text": "have so many users right so",
    "start": "569360",
    "end": "572640"
  },
  {
    "start": "570000",
    "end": "700000"
  },
  {
    "text": "to me",
    "start": "572640",
    "end": "574080"
  },
  {
    "text": "that i need four machine more than four",
    "start": "574080",
    "end": "576320"
  },
  {
    "text": "machines database instance that means",
    "start": "576320",
    "end": "578480"
  },
  {
    "text": "i'm at the global scale and i have",
    "start": "578480",
    "end": "580640"
  },
  {
    "text": "users",
    "start": "580640",
    "end": "581760"
  },
  {
    "text": "left and right millions of heads you",
    "start": "581760",
    "end": "584080"
  },
  {
    "text": "know so that's the scale we're talking",
    "start": "584080",
    "end": "586160"
  },
  {
    "text": "about right so i say okay okay all right",
    "start": "586160",
    "end": "588560"
  },
  {
    "text": "let's just add another server",
    "start": "588560",
    "end": "591040"
  },
  {
    "text": "server 4 s4 so we have s0 s1 s2 s3 and",
    "start": "591040",
    "end": "596720"
  },
  {
    "text": "s4 sounds good",
    "start": "596720",
    "end": "599519"
  },
  {
    "text": "comes back to the problem with hashing",
    "start": "599519",
    "end": "600720"
  },
  {
    "text": "tables",
    "start": "600720",
    "end": "602560"
  },
  {
    "text": "the moment you change the size",
    "start": "602560",
    "end": "604880"
  },
  {
    "text": "the whatever value where original so",
    "start": "604880",
    "end": "609040"
  },
  {
    "text": "the values their original key values are",
    "start": "609040",
    "end": "611600"
  },
  {
    "text": "now all shuffled right previously value",
    "start": "611600",
    "end": "614640"
  },
  {
    "text": "number four",
    "start": "614640",
    "end": "615920"
  },
  {
    "text": "used you do for modulo 4 the key four",
    "start": "615920",
    "end": "619680"
  },
  {
    "text": "used to live on server s0 because 4",
    "start": "619680",
    "end": "621680"
  },
  {
    "text": "modulo 4 is zero but now for modulo 5",
    "start": "621680",
    "end": "626240"
  },
  {
    "text": "which is now the new server we have five",
    "start": "626240",
    "end": "628160"
  },
  {
    "text": "servers",
    "start": "628160",
    "end": "629279"
  },
  {
    "text": "is actually gives you value four so it's",
    "start": "629279",
    "end": "631360"
  },
  {
    "text": "now as an s4",
    "start": "631360",
    "end": "633839"
  },
  {
    "text": "so now what you need to do is like move",
    "start": "633839",
    "end": "636240"
  },
  {
    "text": "the key",
    "start": "636240",
    "end": "637360"
  },
  {
    "text": "with",
    "start": "637360",
    "end": "638160"
  },
  {
    "text": "a value four from the server zero to",
    "start": "638160",
    "end": "641920"
  },
  {
    "text": "server four",
    "start": "641920",
    "end": "643440"
  },
  {
    "text": "and now you have to move everything else",
    "start": "643440",
    "end": "646480"
  },
  {
    "text": "and this is this is basically the same",
    "start": "646480",
    "end": "648320"
  },
  {
    "text": "thing five modulo five right the server",
    "start": "648320",
    "end": "650959"
  },
  {
    "text": "five the the key four will move to",
    "start": "650959",
    "end": "653360"
  },
  {
    "text": "server four",
    "start": "653360",
    "end": "654800"
  },
  {
    "text": "the key eight will move to server three",
    "start": "654800",
    "end": "658399"
  },
  {
    "text": "the key 5 will move to server 0 the key",
    "start": "658399",
    "end": "661519"
  },
  {
    "text": "6 will move to server",
    "start": "661519",
    "end": "663760"
  },
  {
    "text": "1 and the key 7 will move to the key 7",
    "start": "663760",
    "end": "666800"
  },
  {
    "text": "will move to s1 right so everything will",
    "start": "666800",
    "end": "669680"
  },
  {
    "text": "be shuffled and the operation of adding",
    "start": "669680",
    "end": "673360"
  },
  {
    "text": "a new server",
    "start": "673360",
    "end": "674640"
  },
  {
    "text": "will cost us a huge amount of effort",
    "start": "674640",
    "end": "678399"
  },
  {
    "text": "to kind of shuffle things around so look",
    "start": "678399",
    "end": "680880"
  },
  {
    "text": "think about networking think about",
    "start": "680880",
    "end": "682800"
  },
  {
    "text": "database usage just to add another",
    "start": "682800",
    "end": "684880"
  },
  {
    "text": "server to not only bothering one server",
    "start": "684880",
    "end": "687519"
  },
  {
    "text": "you're bothering the entire cluster with",
    "start": "687519",
    "end": "691040"
  },
  {
    "text": "your operation because you have to",
    "start": "691040",
    "end": "692640"
  },
  {
    "text": "shuffle things around right because your",
    "start": "692640",
    "end": "694880"
  },
  {
    "text": "key no longer maps",
    "start": "694880",
    "end": "697040"
  },
  {
    "text": "so what what people think what the smart",
    "start": "697040",
    "end": "698880"
  },
  {
    "text": "people say okay let's invent something",
    "start": "698880",
    "end": "701600"
  },
  {
    "start": "700000",
    "end": "1080000"
  },
  {
    "text": "that might solve this problem which is",
    "start": "701600",
    "end": "703200"
  },
  {
    "text": "called consistent hashing so how does it",
    "start": "703200",
    "end": "705680"
  },
  {
    "text": "really work so they go they went back to",
    "start": "705680",
    "end": "709200"
  },
  {
    "text": "the idea of having so they went back to",
    "start": "709200",
    "end": "712160"
  },
  {
    "text": "idea the core idea",
    "start": "712160",
    "end": "714480"
  },
  {
    "text": "we use the index",
    "start": "714480",
    "end": "716480"
  },
  {
    "text": "as the server names here right",
    "start": "716480",
    "end": "719600"
  },
  {
    "text": "let's",
    "start": "719600",
    "end": "720399"
  },
  {
    "text": "flip this let's change this a little bit",
    "start": "720399",
    "end": "722959"
  },
  {
    "text": "let's not be very discreet like oh",
    "start": "722959",
    "end": "725200"
  },
  {
    "text": "server 0 1 2 3 4.",
    "start": "725200",
    "end": "727600"
  },
  {
    "text": "let's build",
    "start": "727600",
    "end": "729279"
  },
  {
    "text": "a ring",
    "start": "729279",
    "end": "730720"
  },
  {
    "text": "let's actually build a ring of these",
    "start": "730720",
    "end": "732320"
  },
  {
    "text": "servers all right so",
    "start": "732320",
    "end": "734639"
  },
  {
    "text": "instead they think of this idea as an",
    "start": "734639",
    "end": "736639"
  },
  {
    "text": "actual rank as an actual circle so",
    "start": "736639",
    "end": "738880"
  },
  {
    "text": "values go back",
    "start": "738880",
    "end": "740639"
  },
  {
    "text": "right and",
    "start": "740639",
    "end": "742959"
  },
  {
    "text": "remember a lot of people thought a lot",
    "start": "742959",
    "end": "744959"
  },
  {
    "text": "about this to solve this problem and the",
    "start": "744959",
    "end": "747519"
  },
  {
    "text": "key here is",
    "start": "747519",
    "end": "749279"
  },
  {
    "text": "instead of",
    "start": "749279",
    "end": "750639"
  },
  {
    "text": "the output of the key hash going to a",
    "start": "750639",
    "end": "753440"
  },
  {
    "text": "server",
    "start": "753440",
    "end": "754560"
  },
  {
    "text": "we're going to approximate it you know",
    "start": "754560",
    "end": "757519"
  },
  {
    "text": "by by using this",
    "start": "757519",
    "end": "759680"
  },
  {
    "text": "concept of the rank so let's take an",
    "start": "759680",
    "end": "762000"
  },
  {
    "text": "example so clarify the first thing we're",
    "start": "762000",
    "end": "764399"
  },
  {
    "text": "going to do is the servers themselves",
    "start": "764399",
    "end": "767680"
  },
  {
    "text": "we need to fit them on the ring which",
    "start": "767680",
    "end": "769920"
  },
  {
    "text": "this is something we didn't do before so",
    "start": "769920",
    "end": "772480"
  },
  {
    "text": "the ring is think of this rank as a",
    "start": "772480",
    "end": "774880"
  },
  {
    "text": "circle so",
    "start": "774880",
    "end": "776480"
  },
  {
    "text": "the degrees based on the degrees this is",
    "start": "776480",
    "end": "778399"
  },
  {
    "text": "a 360 degrees right so server let's say",
    "start": "778399",
    "end": "781360"
  },
  {
    "text": "server one you're going to do a modulo",
    "start": "781360",
    "end": "783200"
  },
  {
    "text": "360.",
    "start": "783200",
    "end": "784639"
  },
  {
    "text": "let's say we're gonna get a zero right",
    "start": "784639",
    "end": "786480"
  },
  {
    "text": "so we're gonna put servers server one",
    "start": "786480",
    "end": "789120"
  },
  {
    "text": "and as we're gonna call it s0 based on",
    "start": "789120",
    "end": "791680"
  },
  {
    "text": "the degree here right and then let's say",
    "start": "791680",
    "end": "794240"
  },
  {
    "text": "server two ip address ten zero zero",
    "start": "794240",
    "end": "796320"
  },
  {
    "text": "three modulo 360 we got 90 right and",
    "start": "796320",
    "end": "799519"
  },
  {
    "text": "again i'm picking",
    "start": "799519",
    "end": "801040"
  },
  {
    "text": "i'm picking values that are so",
    "start": "801040",
    "end": "803680"
  },
  {
    "text": "rounded up this is just for example",
    "start": "803680",
    "end": "805680"
  },
  {
    "text": "you're never going to get you're hardly",
    "start": "805680",
    "end": "807279"
  },
  {
    "text": "going to get s 90 right exactly right",
    "start": "807279",
    "end": "809839"
  },
  {
    "text": "you're going to probably get x is 27",
    "start": "809839",
    "end": "812959"
  },
  {
    "text": "right but yeah x90",
    "start": "812959",
    "end": "815360"
  },
  {
    "text": "same thing server 3 or server 4 you're",
    "start": "815360",
    "end": "817839"
  },
  {
    "text": "going to get s 180 if after you do that",
    "start": "817839",
    "end": "820720"
  },
  {
    "text": "and then server 3 gonna get",
    "start": "820720",
    "end": "823399"
  },
  {
    "text": "s2270 we have s0 s90 s180 and s270",
    "start": "823399",
    "end": "829760"
  },
  {
    "text": "you know that's that completes an actual",
    "start": "829760",
    "end": "832160"
  },
  {
    "text": "range and for people listening in the",
    "start": "832160",
    "end": "834079"
  },
  {
    "text": "podcast think of this as an actual ring",
    "start": "834079",
    "end": "836000"
  },
  {
    "text": "with the values for servers and each",
    "start": "836000",
    "end": "838240"
  },
  {
    "text": "corner effectively so why are we doing",
    "start": "838240",
    "end": "840560"
  },
  {
    "text": "this the beauty here is we have values",
    "start": "840560",
    "end": "844160"
  },
  {
    "text": "and this is the key here",
    "start": "844160",
    "end": "846320"
  },
  {
    "text": "let's have a key value of",
    "start": "846320",
    "end": "848800"
  },
  {
    "text": "a thousand same thing you're gonna do",
    "start": "848800",
    "end": "850959"
  },
  {
    "text": "right",
    "start": "850959",
    "end": "851920"
  },
  {
    "text": "the thousand the key value thousand",
    "start": "851920",
    "end": "855199"
  },
  {
    "text": "right however this key exists maybe it",
    "start": "855199",
    "end": "857600"
  },
  {
    "text": "was blue and then you did a hash and",
    "start": "857600",
    "end": "859440"
  },
  {
    "text": "then got you got the number thousand you",
    "start": "859440",
    "end": "861920"
  },
  {
    "text": "take that thousand right and you do a",
    "start": "861920",
    "end": "864160"
  },
  {
    "text": "modular 360.",
    "start": "864160",
    "end": "865920"
  },
  {
    "text": "will you get an actual server",
    "start": "865920",
    "end": "868320"
  },
  {
    "text": "immediately the server index no you're",
    "start": "868320",
    "end": "870000"
  },
  {
    "text": "not going to get that",
    "start": "870000",
    "end": "871360"
  },
  {
    "text": "so now let's let's actually put it in an",
    "start": "871360",
    "end": "873120"
  },
  {
    "text": "actual example right here right",
    "start": "873120",
    "end": "876000"
  },
  {
    "text": "so",
    "start": "876000",
    "end": "876720"
  },
  {
    "text": "now i'm about to insert the value i'm",
    "start": "876720",
    "end": "878639"
  },
  {
    "text": "going to insert a new key",
    "start": "878639",
    "end": "881040"
  },
  {
    "text": "value 1 500. that's that's my key right",
    "start": "881040",
    "end": "884160"
  },
  {
    "text": "there so what you're going to do is",
    "start": "884160",
    "end": "885760"
  },
  {
    "text": "you're going to do modulo 360 which is",
    "start": "885760",
    "end": "887600"
  },
  {
    "text": "the circle again",
    "start": "887600",
    "end": "889920"
  },
  {
    "text": "don't don't be very",
    "start": "889920",
    "end": "891920"
  },
  {
    "text": "uh specific on the the value 360. you",
    "start": "891920",
    "end": "894639"
  },
  {
    "text": "can double this and double this and",
    "start": "894639",
    "end": "896079"
  },
  {
    "text": "double this to get more values but i'm",
    "start": "896079",
    "end": "898240"
  },
  {
    "text": "again this is just an example so 360",
    "start": "898240",
    "end": "900399"
  },
  {
    "text": "here",
    "start": "900399",
    "end": "901279"
  },
  {
    "text": "so if i take",
    "start": "901279",
    "end": "902800"
  },
  {
    "text": "1500 right",
    "start": "902800",
    "end": "904800"
  },
  {
    "text": "and modulo 360",
    "start": "904800",
    "end": "907040"
  },
  {
    "text": "i'm going to get",
    "start": "907040",
    "end": "908320"
  },
  {
    "text": "a value of 60.",
    "start": "908320",
    "end": "910480"
  },
  {
    "text": "if you think about it s60 doesn't exist",
    "start": "910480",
    "end": "912480"
  },
  {
    "text": "there is no server marked 60 but",
    "start": "912480",
    "end": "916160"
  },
  {
    "text": "here's a trick we do have a server mark",
    "start": "916160",
    "end": "918560"
  },
  {
    "text": "as zero and we have an s90 so s60 really",
    "start": "918560",
    "end": "922560"
  },
  {
    "text": "fits between the 0 and the 90. and what",
    "start": "922560",
    "end": "925120"
  },
  {
    "text": "you do is you pick the next one so 60 if",
    "start": "925120",
    "end": "927680"
  },
  {
    "text": "it's between 0 and 90",
    "start": "927680",
    "end": "929440"
  },
  {
    "text": "immediately so that key will go to the",
    "start": "929440",
    "end": "931600"
  },
  {
    "text": "next value which is s90 and that's",
    "start": "931600",
    "end": "934240"
  },
  {
    "text": "that's how you do it basically",
    "start": "934240",
    "end": "936320"
  },
  {
    "text": "now",
    "start": "936320",
    "end": "938560"
  },
  {
    "text": "visually this is easy to understand",
    "start": "938560",
    "end": "941279"
  },
  {
    "text": "right computationally this is not as",
    "start": "941279",
    "end": "944320"
  },
  {
    "text": "simple because",
    "start": "944320",
    "end": "945839"
  },
  {
    "text": "what does that mean between 0 and 90 i",
    "start": "945839",
    "end": "947759"
  },
  {
    "text": "have i have four servers that's that's",
    "start": "947759",
    "end": "949920"
  },
  {
    "text": "easy to find where where your value",
    "start": "949920",
    "end": "953839"
  },
  {
    "text": "how 60 fits between 0 and 90 is actually",
    "start": "953839",
    "end": "956240"
  },
  {
    "text": "computational and that's another binary",
    "start": "956240",
    "end": "958560"
  },
  {
    "text": "search to actually find that value",
    "start": "958560",
    "end": "960399"
  },
  {
    "text": "that's a little bit outscale outside the",
    "start": "960399",
    "end": "962480"
  },
  {
    "text": "scope of this video but now once we have",
    "start": "962480",
    "end": "964480"
  },
  {
    "text": "that value we have the 60 now okay oh 60",
    "start": "964480",
    "end": "967600"
  },
  {
    "text": "is like",
    "start": "967600",
    "end": "968639"
  },
  {
    "text": "what's right after 60 is 90.",
    "start": "968639",
    "end": "971360"
  },
  {
    "text": "now okay so the value of 1500 fits on",
    "start": "971360",
    "end": "974000"
  },
  {
    "text": "server s90",
    "start": "974000",
    "end": "975519"
  },
  {
    "text": "that's how we solve it so",
    "start": "975519",
    "end": "978079"
  },
  {
    "text": "by doing this scan",
    "start": "978079",
    "end": "980639"
  },
  {
    "text": "what is the next one",
    "start": "980639",
    "end": "982720"
  },
  {
    "text": "we really removed that discrete value",
    "start": "982720",
    "end": "986639"
  },
  {
    "text": "lookup you know we instead changed it",
    "start": "986639",
    "end": "989680"
  },
  {
    "text": "with a scan and the beauty of this scan",
    "start": "989680",
    "end": "993839"
  },
  {
    "text": "is going to save us a lot of things in",
    "start": "993839",
    "end": "995839"
  },
  {
    "text": "the future let's continue these examples",
    "start": "995839",
    "end": "997920"
  },
  {
    "text": "all right 1500 let's take another",
    "start": "997920",
    "end": "1000000"
  },
  {
    "text": "example as a 2000 2000 modular 360 is",
    "start": "1000000",
    "end": "1002959"
  },
  {
    "text": "200 200 fits between server s180 and",
    "start": "1002959",
    "end": "1006880"
  },
  {
    "text": "server s270 again 180 and 270 think of",
    "start": "1006880",
    "end": "1010160"
  },
  {
    "text": "the as degrees right so right there in",
    "start": "1010160",
    "end": "1013759"
  },
  {
    "text": "this case okay what's exactly right",
    "start": "1013759",
    "end": "1015920"
  },
  {
    "text": "after 200 it's 270 so 2000 less than",
    "start": "1015920",
    "end": "1019279"
  },
  {
    "text": "270. okay so",
    "start": "1019279",
    "end": "1021680"
  },
  {
    "text": "think of it like you're looking at",
    "start": "1021680",
    "end": "1022880"
  },
  {
    "text": "clockwise so whatever is the next value",
    "start": "1022880",
    "end": "1025360"
  },
  {
    "text": "you're going to get that and then you",
    "start": "1025360",
    "end": "1026480"
  },
  {
    "text": "put another value say 3000 modular 360.",
    "start": "1026480",
    "end": "1029360"
  },
  {
    "text": "that's 120",
    "start": "1029360",
    "end": "1030720"
  },
  {
    "text": "120 if it's between server 90 and server",
    "start": "1030720",
    "end": "1033280"
  },
  {
    "text": "180 select moves directly to the 180 and",
    "start": "1033280",
    "end": "1036720"
  },
  {
    "text": "then you store the value 3000 there how",
    "start": "1036720",
    "end": "1039199"
  },
  {
    "text": "about a thousand thousand modular 360 is",
    "start": "1039199",
    "end": "1041438"
  },
  {
    "text": "actually gives you 280 wait a minute 280",
    "start": "1041439",
    "end": "1043918"
  },
  {
    "text": "is the",
    "start": "1043919",
    "end": "1044959"
  },
  {
    "text": "there are no server after the last",
    "start": "1044959",
    "end": "1047438"
  },
  {
    "text": "server the largest value is actually",
    "start": "1047439",
    "end": "1049400"
  },
  {
    "text": "s270 there is no larger after that",
    "start": "1049400",
    "end": "1052400"
  },
  {
    "text": "right there is no larger than two server",
    "start": "1052400",
    "end": "1054880"
  },
  {
    "text": "217 this is values 280. so what do you",
    "start": "1054880",
    "end": "1057600"
  },
  {
    "text": "do",
    "start": "1057600",
    "end": "1058559"
  },
  {
    "text": "if there's no larger values you go back",
    "start": "1058559",
    "end": "1060880"
  },
  {
    "text": "to the circle right and this is very",
    "start": "1060880",
    "end": "1063520"
  },
  {
    "text": "nicely when you actually draw the circle",
    "start": "1063520",
    "end": "1065679"
  },
  {
    "text": "you see that s 280 is between s270 and",
    "start": "1065679",
    "end": "1069840"
  },
  {
    "text": "s0 so you immediately go and put the",
    "start": "1069840",
    "end": "1072880"
  },
  {
    "text": "value 1000",
    "start": "1072880",
    "end": "1074400"
  },
  {
    "text": "in server 0 and that's how you build the",
    "start": "1074400",
    "end": "1077440"
  },
  {
    "text": "ring let's take another example for",
    "start": "1077440",
    "end": "1079600"
  },
  {
    "text": "completeness here uh four thousand four",
    "start": "1079600",
    "end": "1081840"
  },
  {
    "start": "1080000",
    "end": "1275000"
  },
  {
    "text": "thousand modulo 360 it gives you 40 40",
    "start": "1081840",
    "end": "1085360"
  },
  {
    "text": "is between 0 and 90 right oh that's very",
    "start": "1085360",
    "end": "1089360"
  },
  {
    "text": "nice so for so now we have two keys",
    "start": "1089360",
    "end": "1092400"
  },
  {
    "text": "slips in server s90 in this case",
    "start": "1092400",
    "end": "1096240"
  },
  {
    "text": "yeah that's very interesting",
    "start": "1096240",
    "end": "1098480"
  },
  {
    "text": "let's spice things up now what if",
    "start": "1098480",
    "end": "1102080"
  },
  {
    "text": "i added a new server here look at the",
    "start": "1102080",
    "end": "1105280"
  },
  {
    "text": "beauty of this here now if i add a new",
    "start": "1105280",
    "end": "1108160"
  },
  {
    "text": "server here let's say it's ipa this is",
    "start": "1108160",
    "end": "1110559"
  },
  {
    "text": "at 10 0 0 13 right",
    "start": "1110559",
    "end": "1114240"
  },
  {
    "text": "i do it modulo 3 360 and i got 50. so",
    "start": "1114240",
    "end": "1118559"
  },
  {
    "text": "now my server is actually s50 fits right",
    "start": "1118559",
    "end": "1122320"
  },
  {
    "text": "between s0 and s90 keep that in mind",
    "start": "1122320",
    "end": "1126400"
  },
  {
    "text": "now",
    "start": "1126400",
    "end": "1128160"
  },
  {
    "text": "things change because we",
    "start": "1128160",
    "end": "1131120"
  },
  {
    "text": "still need to move data around but not",
    "start": "1131120",
    "end": "1134799"
  },
  {
    "text": "as much let's figure that out how much",
    "start": "1134799",
    "end": "1137679"
  },
  {
    "text": "data",
    "start": "1137679",
    "end": "1138799"
  },
  {
    "text": "i need to move around well the algorithm",
    "start": "1138799",
    "end": "1142400"
  },
  {
    "text": "goes like this right",
    "start": "1142400",
    "end": "1145280"
  },
  {
    "text": "remember if you have values if you add",
    "start": "1145280",
    "end": "1147919"
  },
  {
    "text": "value says 50 in this case anything",
    "start": "1147919",
    "end": "1150160"
  },
  {
    "text": "between the 0 and the 50",
    "start": "1150160",
    "end": "1152880"
  },
  {
    "text": "really needs to be fit in server 50",
    "start": "1152880",
    "end": "1156240"
  },
  {
    "text": "right because that's the algorithm",
    "start": "1156240",
    "end": "1158000"
  },
  {
    "text": "that's the range here that we're looking",
    "start": "1158000",
    "end": "1159760"
  },
  {
    "text": "at right here",
    "start": "1159760",
    "end": "1161200"
  },
  {
    "text": "and so if you the the algorithms look",
    "start": "1161200",
    "end": "1164320"
  },
  {
    "text": "like this like okay so",
    "start": "1164320",
    "end": "1166640"
  },
  {
    "text": "what is the server right after me well",
    "start": "1166640",
    "end": "1169120"
  },
  {
    "text": "the server right after me is right here",
    "start": "1169120",
    "end": "1170720"
  },
  {
    "text": "is 90 right",
    "start": "1170720",
    "end": "1172400"
  },
  {
    "text": "so let's query that server find out",
    "start": "1172400",
    "end": "1176000"
  },
  {
    "text": "all the hash values and out all the hash",
    "start": "1176000",
    "end": "1178799"
  },
  {
    "text": "values",
    "start": "1178799",
    "end": "1180000"
  },
  {
    "text": "where the actual hash value is less than",
    "start": "1180000",
    "end": "1182400"
  },
  {
    "text": "40 right because s90 would have stored",
    "start": "1182400",
    "end": "1185200"
  },
  {
    "text": "everything between 0 and 90 right so",
    "start": "1185200",
    "end": "1188160"
  },
  {
    "text": "find out everything that is less than",
    "start": "1188160",
    "end": "1190640"
  },
  {
    "text": "50 because i i should store these now",
    "start": "1190640",
    "end": "1194160"
  },
  {
    "text": "right",
    "start": "1194160",
    "end": "1194960"
  },
  {
    "text": "so we found one entry which is 40. oh 40",
    "start": "1194960",
    "end": "1198000"
  },
  {
    "text": "doesn't belong 90 anymore so go ahead",
    "start": "1198000",
    "end": "1200000"
  },
  {
    "text": "and talk to server 90 establish a",
    "start": "1200000",
    "end": "1202799"
  },
  {
    "text": "communication could be tcp could be",
    "start": "1202799",
    "end": "1204559"
  },
  {
    "text": "anything and then start moving data",
    "start": "1204559",
    "end": "1206159"
  },
  {
    "text": "around right hey it's 90. and do you",
    "start": "1206159",
    "end": "1209039"
  },
  {
    "text": "have anything with a hash value that is",
    "start": "1209039",
    "end": "1211520"
  },
  {
    "text": "less than 40 is this less than 50 which",
    "start": "1211520",
    "end": "1213679"
  },
  {
    "text": "is me oh yeah i have this value",
    "start": "1213679",
    "end": "1216080"
  },
  {
    "text": "move it to me and as a result we just",
    "start": "1216080",
    "end": "1219200"
  },
  {
    "text": "established the data here so now think",
    "start": "1219200",
    "end": "1221600"
  },
  {
    "text": "of it as",
    "start": "1221600",
    "end": "1223280"
  },
  {
    "text": "as i add another server",
    "start": "1223280",
    "end": "1226159"
  },
  {
    "text": "the only change is my neighbor really",
    "start": "1226159",
    "end": "1228960"
  },
  {
    "text": "i'm only gonna bother my neighbor and",
    "start": "1228960",
    "end": "1231200"
  },
  {
    "text": "it's only the neighbor right after me",
    "start": "1231200",
    "end": "1233280"
  },
  {
    "text": "right that's that's what i'm gonna",
    "start": "1233280",
    "end": "1235919"
  },
  {
    "text": "do in this case right",
    "start": "1235919",
    "end": "1237600"
  },
  {
    "text": "and",
    "start": "1237600",
    "end": "1238640"
  },
  {
    "text": "so instead of actually",
    "start": "1238640",
    "end": "1241280"
  },
  {
    "text": "bothering all the servers in my cluster",
    "start": "1241280",
    "end": "1243120"
  },
  {
    "text": "i'm only bothering one server so that's",
    "start": "1243120",
    "end": "1246159"
  },
  {
    "text": "much much much better than actual",
    "start": "1246159",
    "end": "1248400"
  },
  {
    "text": "hashing but still there is a cost to it",
    "start": "1248400",
    "end": "1251280"
  },
  {
    "text": "right",
    "start": "1251280",
    "end": "1252159"
  },
  {
    "text": "there is complexity you need to build",
    "start": "1252159",
    "end": "1254720"
  },
  {
    "text": "all that out what if the operation",
    "start": "1254720",
    "end": "1257679"
  },
  {
    "text": "failed how do you roll back what if do",
    "start": "1257679",
    "end": "1260559"
  },
  {
    "text": "you add the server anyway what if one of",
    "start": "1260559",
    "end": "1263039"
  },
  {
    "text": "the keys didn't transmit so we're adding",
    "start": "1263039",
    "end": "1266080"
  },
  {
    "text": "so much complexity so distributed",
    "start": "1266080",
    "end": "1268240"
  },
  {
    "text": "systems are not easy you guys right",
    "start": "1268240",
    "end": "1271679"
  },
  {
    "text": "even if you think about it let's take",
    "start": "1271679",
    "end": "1273919"
  },
  {
    "text": "another example where we're removing a",
    "start": "1273919",
    "end": "1275919"
  },
  {
    "start": "1275000",
    "end": "1350000"
  },
  {
    "text": "server if we go back to our original",
    "start": "1275919",
    "end": "1277919"
  },
  {
    "text": "case where we have s0",
    "start": "1277919",
    "end": "1280360"
  },
  {
    "text": "s90 s180 and s27 and let's say i'm going",
    "start": "1280360",
    "end": "1284320"
  },
  {
    "text": "to remove s90 altogether so now what",
    "start": "1284320",
    "end": "1287520"
  },
  {
    "text": "happens here if you remove s90 then",
    "start": "1287520",
    "end": "1290240"
  },
  {
    "text": "anything that s90 had must go to s180 if",
    "start": "1290240",
    "end": "1294880"
  },
  {
    "text": "you think about it right because any",
    "start": "1294880",
    "end": "1296720"
  },
  {
    "text": "value so now what what happens is the",
    "start": "1296720",
    "end": "1299520"
  },
  {
    "text": "operation should go okay remove server",
    "start": "1299520",
    "end": "1301360"
  },
  {
    "text": "s90",
    "start": "1301360",
    "end": "1302480"
  },
  {
    "text": "that operation that we need to do right",
    "start": "1302480",
    "end": "1304720"
  },
  {
    "text": "i'm gonna remove that physically remove",
    "start": "1304720",
    "end": "1307039"
  },
  {
    "text": "it not talking about a crash that's a",
    "start": "1307039",
    "end": "1309200"
  },
  {
    "text": "completely different story right",
    "start": "1309200",
    "end": "1311360"
  },
  {
    "text": "crash you don't even have time to move",
    "start": "1311360",
    "end": "1313039"
  },
  {
    "text": "anything right",
    "start": "1313039",
    "end": "1314480"
  },
  {
    "text": "so if you",
    "start": "1314480",
    "end": "1315600"
  },
  {
    "text": "that's why you have to have redundancy",
    "start": "1315600",
    "end": "1317280"
  },
  {
    "text": "that's another complication right there",
    "start": "1317280",
    "end": "1319280"
  },
  {
    "text": "but if you have a physical operation",
    "start": "1319280",
    "end": "1321760"
  },
  {
    "text": "that say okay i want to remove this for",
    "start": "1321760",
    "end": "1323679"
  },
  {
    "text": "maintenance remove s90 well it's 90",
    "start": "1323679",
    "end": "1327440"
  },
  {
    "text": "holes and all values between 0 and 90 so",
    "start": "1327440",
    "end": "1331200"
  },
  {
    "text": "all of those should go directly to the",
    "start": "1331200",
    "end": "1333120"
  },
  {
    "text": "server right after me clockwise which is",
    "start": "1333120",
    "end": "1336000"
  },
  {
    "text": "180 so remove all those puppies",
    "start": "1336000",
    "end": "1339600"
  },
  {
    "text": "and stick them to where to server 180.",
    "start": "1339600",
    "end": "1342400"
  },
  {
    "text": "that's a very expensive operation as",
    "start": "1342400",
    "end": "1344400"
  },
  {
    "text": "well so if you think about it",
    "start": "1344400",
    "end": "1346400"
  },
  {
    "text": "consistent hashing are powerful is",
    "start": "1346400",
    "end": "1348480"
  },
  {
    "text": "powerful the algorithm of consistency",
    "start": "1348480",
    "end": "1350400"
  },
  {
    "start": "1350000",
    "end": "1434000"
  },
  {
    "text": "are very powerful but the limitation",
    "start": "1350400",
    "end": "1352559"
  },
  {
    "text": "here becomes you still need to move data",
    "start": "1352559",
    "end": "1355280"
  },
  {
    "text": "around and the more data you have you",
    "start": "1355280",
    "end": "1358640"
  },
  {
    "text": "know in these instances then the",
    "start": "1358640",
    "end": "1361440"
  },
  {
    "text": "transmit of these will take more time so",
    "start": "1361440",
    "end": "1364640"
  },
  {
    "text": "adding or removing server is actually",
    "start": "1364640",
    "end": "1366880"
  },
  {
    "text": "not a trivial operation you know and",
    "start": "1366880",
    "end": "1370159"
  },
  {
    "text": "then you really think need to think",
    "start": "1370159",
    "end": "1372159"
  },
  {
    "text": "about",
    "start": "1372159",
    "end": "1374240"
  },
  {
    "text": "another thing that is called",
    "start": "1374240",
    "end": "1376240"
  },
  {
    "text": "replication you need to duplicate this",
    "start": "1376240",
    "end": "1378159"
  },
  {
    "text": "data as much as possible because a",
    "start": "1378159",
    "end": "1380240"
  },
  {
    "text": "server might crash so you need to have a",
    "start": "1380240",
    "end": "1382080"
  },
  {
    "text": "backup so",
    "start": "1382080",
    "end": "1384000"
  },
  {
    "text": "just using this algorithm blindly is not",
    "start": "1384000",
    "end": "1386320"
  },
  {
    "text": "enough you have to cater for crashes you",
    "start": "1386320",
    "end": "1390240"
  },
  {
    "text": "know and as a result you have to have a",
    "start": "1390240",
    "end": "1391840"
  },
  {
    "text": "backup oh if this server is not",
    "start": "1391840",
    "end": "1393039"
  },
  {
    "text": "available let's let's have a mapping",
    "start": "1393039",
    "end": "1394799"
  },
  {
    "text": "server that actually",
    "start": "1394799",
    "end": "1397280"
  },
  {
    "text": "directly copies that data immediately",
    "start": "1397280",
    "end": "1399919"
  },
  {
    "text": "right so that's what you do you have to",
    "start": "1399919",
    "end": "1402159"
  },
  {
    "text": "do that well what if two servers map to",
    "start": "1402159",
    "end": "1404240"
  },
  {
    "text": "the same",
    "start": "1404240",
    "end": "1405440"
  },
  {
    "text": "hash you can't have it if you have a lot",
    "start": "1405440",
    "end": "1407600"
  },
  {
    "text": "of more than 360 servers you're gonna",
    "start": "1407600",
    "end": "1410400"
  },
  {
    "text": "you're bound to have the value that fits",
    "start": "1410400",
    "end": "1412159"
  },
  {
    "text": "in the same server and i'm not sure what",
    "start": "1412159",
    "end": "1415039"
  },
  {
    "text": "you can do here you can what you can do",
    "start": "1415039",
    "end": "1416960"
  },
  {
    "text": "is like i suppose in this case you can",
    "start": "1416960",
    "end": "1418799"
  },
  {
    "text": "treat it as a",
    "start": "1418799",
    "end": "1420320"
  },
  {
    "text": "as a replication so you have like a a",
    "start": "1420320",
    "end": "1423679"
  },
  {
    "text": "backup scenario where we have this",
    "start": "1423679",
    "end": "1425440"
  },
  {
    "text": "server you can either put it in both",
    "start": "1425440",
    "end": "1428000"
  },
  {
    "text": "right that was an episode of the",
    "start": "1428000",
    "end": "1429360"
  },
  {
    "text": "consistent hashing hope you enjoyed this",
    "start": "1429360",
    "end": "1431200"
  },
  {
    "text": "video i'm gonna see on the next one guys",
    "start": "1431200",
    "end": "1432960"
  },
  {
    "text": "thousand goodbye",
    "start": "1432960",
    "end": "1435679"
  }
]