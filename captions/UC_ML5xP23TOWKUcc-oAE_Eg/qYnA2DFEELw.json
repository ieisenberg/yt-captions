[
  {
    "start": "0",
    "end": "150000"
  },
  {
    "text": "a chair proxy is a free open-source software written in C that provides high availability layer 4 and layer 7 load",
    "start": "30",
    "end": "8130"
  },
  {
    "text": "balancing and proxy it has a reputation for being fast and efficient in terms",
    "start": "8130",
    "end": "13530"
  },
  {
    "text": "processor and memory usage and this video I want to go through the following",
    "start": "13530",
    "end": "18539"
  },
  {
    "text": "it's gonna be a long video I have so much good stuff for you guys in this course right I want to go through first",
    "start": "18539",
    "end": "25439"
  },
  {
    "text": "the gist of how we do things today like the current architecture and the desired architecture of things like how do you",
    "start": "25439",
    "end": "32160"
  },
  {
    "text": "how would you solve load balancing right then I'm gonna go through the proxy architecture talk about key concept and",
    "start": "32160",
    "end": "39450"
  },
  {
    "text": "component that is a proxy have and as I am talking you're gonna start seeing timecode so you can jump in the",
    "start": "39450",
    "end": "45480"
  },
  {
    "text": "interesting bit part of the video guys we're gonna show how each a proxy can act as a TCP proxy an HTTP proxy or a",
    "start": "45480",
    "end": "52770"
  },
  {
    "text": "layer 4 proxy or layer 7 proxy which acts both as a TCP layer or as an",
    "start": "52770",
    "end": "59370"
  },
  {
    "text": "application layer like HTTP and a TCP layer like databases for example right",
    "start": "59370",
    "end": "64920"
  },
  {
    "text": "and we're gonna show this cool concept called ACL access control lists right",
    "start": "64920",
    "end": "70500"
  },
  {
    "text": "but I talked about a little bit about the TLS and termination versus TLS pass-through because I found this very",
    "start": "70500",
    "end": "75990"
  },
  {
    "text": "fascinating in H a proxy right and finally we're gonna go through an",
    "start": "75990",
    "end": "81540"
  },
  {
    "text": "example which is more the most interesting part we're gonna install a a proxy I'm gonna do a little bit of basic configuration we're gonna enable HTTPS",
    "start": "81540",
    "end": "88490"
  },
  {
    "text": "an iShare proxy goes back where we like like to take it up a notch a little bit",
    "start": "88490",
    "end": "94110"
  },
  {
    "text": "ok I'm gonna use let's encrypt I'm gonna use a no IP which is like a free thing right you can do this today you don't",
    "start": "94110",
    "end": "100799"
  },
  {
    "text": "have to buy anything you can do everything on your Mac I'm gonna do everything on my Mac I'm not gonna do a cloud architecture or anything",
    "start": "100799",
    "end": "106920"
  },
  {
    "text": "everything all the examples is on my Mac right if you have Windows it also works",
    "start": "106920",
    "end": "112229"
  },
  {
    "text": "too ok then final I'm gonna enable HTTP to initiate proxy which is something you",
    "start": "112229",
    "end": "117270"
  },
  {
    "text": "can do but it's not very clear out there people tell you that oh a checkbox it doesn't support HTTP - no that's not",
    "start": "117270",
    "end": "122729"
  },
  {
    "text": "true right the latest version of it a proxy actually do that which is version I think I'm gonna use - oh right but",
    "start": "122729",
    "end": "129479"
  },
  {
    "text": "yeah finally I'm gonna summarize the whole thing if you're interested stay tuned Fuhrer here welcome my name is Hussein and this",
    "start": "129479",
    "end": "136609"
  },
  {
    "text": "channel will discuss all sorts of software engineering by example so if we're gonna become a better software engineer consider subscribing and hit",
    "start": "136609",
    "end": "142879"
  },
  {
    "text": "that like and so you get notified every time I upload a new video with that said let's just jump into a chair proxy guys",
    "start": "142879",
    "end": "150769"
  },
  {
    "start": "150000",
    "end": "350000"
  },
  {
    "text": "alright so here's the current lecture architecture right before any load balancing or anything you have a",
    "start": "150769",
    "end": "157040"
  },
  {
    "text": "beautiful application here right it's probably running you just pure vanilla HTTP maybe an arrest API that you built",
    "start": "157040",
    "end": "165049"
  },
  {
    "text": "on Express or Django whatever right and that is hitting a database on the back",
    "start": "165049",
    "end": "171109"
  },
  {
    "text": "end could be post Chris could be MongoDB it could be anything else right and then you have your clients and you give them",
    "start": "171109",
    "end": "176209"
  },
  {
    "text": "this ugly URL that has a port in it and you say okay I want to get the employees",
    "start": "176209",
    "end": "181549"
  },
  {
    "text": "right let me do that I don't you noticed what happened is we can hit the server and then that server heads the database",
    "start": "181549",
    "end": "187730"
  },
  {
    "text": "right and then you will get the server responds with a representation of the database results which is usually",
    "start": "187730",
    "end": "194750"
  },
  {
    "text": "arrests that's what the representation stands for usually this is Jason you get back to Jason and you ask another",
    "start": "194750",
    "end": "201349"
  },
  {
    "text": "question proof proof hit the database right get back the result if you hit it again same thing right that's the",
    "start": "201349",
    "end": "206780"
  },
  {
    "text": "current architecture we all know it right problem is like we have one central point of failure where this the",
    "start": "206780",
    "end": "213769"
  },
  {
    "text": "server is overloaded with all these beautiful requests right what do we do here's what we want to do we spin up",
    "start": "213769",
    "end": "220129"
  },
  {
    "text": "multiple servers with your application that's very easy recently and we have showed how to spin up multiple version",
    "start": "220129",
    "end": "227689"
  },
  {
    "text": "of your application in different ports using docker just like literally just",
    "start": "227689",
    "end": "232879"
  },
  {
    "text": "spin up another thing and you have a version of your application a copy that's amazing guys right I'm gonna",
    "start": "232879",
    "end": "238939"
  },
  {
    "text": "reference the video that how we did that right because we're gonna use that ok so we have now version of your application running three three thousand one three",
    "start": "238939",
    "end": "245750"
  },
  {
    "text": "one two or three thousand and three and they are exactly the same they're hurting the same exact database right and you put a proxy on top of this thing",
    "start": "245750",
    "end": "254209"
  },
  {
    "text": "okay then share proxy have two pieces of components the backend which you",
    "start": "254209",
    "end": "260269"
  },
  {
    "text": "configure says hey it's a proxy I have these three servers on the backend 0 0",
    "start": "260269",
    "end": "266180"
  },
  {
    "text": "one two and three okay I want you to load balance these things and you have you can you have no idea how much",
    "start": "266180",
    "end": "271699"
  },
  {
    "text": "configuration you can do on the backing guys it's amazing what we want to do in the backend is this I'm connect",
    "start": "271699",
    "end": "277370"
  },
  {
    "text": "communicating on vanilla and interrupted HTTP but on the front end that's what's",
    "start": "277370",
    "end": "282380"
  },
  {
    "text": "callin front end I want to listen on port 443 I wanted this to be secure I want this to be certificates and all",
    "start": "282380",
    "end": "289009"
  },
  {
    "text": "that jazz right and I won't use h2 because why not because we're fancy like that okay and you if you want to make a",
    "start": "289009",
    "end": "298400"
  },
  {
    "text": "request now look what happened right you ain't gonna apply your request you make a request it goes to this server right and you get back to the presentation if",
    "start": "298400",
    "end": "305210"
  },
  {
    "text": "you make another request goes to the other server right if you make another request it goes to the server and this",
    "start": "305210",
    "end": "312169"
  },
  {
    "text": "algorithm is called round robin and we're gonna show how we can change the algorithm which is pretty cool - guys",
    "start": "312169",
    "end": "317419"
  },
  {
    "text": "alright so that's what we desire that's what we're gonna build here okay there won't be no databases that work uh but",
    "start": "317419",
    "end": "324050"
  },
  {
    "text": "you get the idea should be very very simple and straight forward application okay let's just jump into it okay so as",
    "start": "324050",
    "end": "332930"
  },
  {
    "text": "we said this is the front end this this part is the front end right and this part is called the back end try this and",
    "start": "332930",
    "end": "339169"
  },
  {
    "text": "this is very key in a nature program pretty much all all proxies have this",
    "start": "339169",
    "end": "344659"
  },
  {
    "text": "concept there's a back end anything behind you there's a phone in anything on the front of the edge a proxy or the",
    "start": "344659",
    "end": "350090"
  },
  {
    "start": "350000",
    "end": "1020000"
  },
  {
    "text": "proxy right AJ proxy architecture let's talk about least a little bit of things",
    "start": "350090",
    "end": "356120"
  },
  {
    "text": "right so there is a concept of a front-end and we're gonna talk about some configuration that are very",
    "start": "356120",
    "end": "361490"
  },
  {
    "text": "specific to H a proxy here okay so in front-end anything in the front or a",
    "start": "361490",
    "end": "368389"
  },
  {
    "text": "proxy usually this is where the HF proxy listens to which ports of HT a proxy",
    "start": "368389",
    "end": "373400"
  },
  {
    "text": "listens to a I'm listening to port 80 for example or 443 and clients",
    "start": "373400",
    "end": "378889"
  },
  {
    "text": "communicate with that front end essentially okay and when they communicate with that front end right",
    "start": "378889",
    "end": "385009"
  },
  {
    "text": "that's where the HT a proxy exposes these ports right and there is some of",
    "start": "385009",
    "end": "390440"
  },
  {
    "text": "the configuration that you can do on the front there's a timeout client let's talk about that one right because we're",
    "start": "390440",
    "end": "396260"
  },
  {
    "text": "gonna use all of these and our computation when we get to the example name the time of coins is like how long",
    "start": "396260",
    "end": "403099"
  },
  {
    "text": "how long do you want me to wait before I can disconnect the client if it's not",
    "start": "403099",
    "end": "408970"
  },
  {
    "text": "doing anything right because when you in the client like a mobile phone connects to a shared proxy right establish a TCP",
    "start": "408970",
    "end": "415879"
  },
  {
    "text": "connection right and when you do that it's a stateful TCP connection that is alive let's living right and when when",
    "start": "415879",
    "end": "424340"
  },
  {
    "text": "you do that usually this is memory consumption right imagine you have 10,000 of those right so timeout client",
    "start": "424340",
    "end": "431599"
  },
  {
    "text": "will allow actually a proxy to disconnect that TCP connection if the client is not is idle it's not doing",
    "start": "431599",
    "end": "438979"
  },
  {
    "text": "anything it's like hey if the court didn't do anything in one minute kill it that client is dead for me right very",
    "start": "438979",
    "end": "446690"
  },
  {
    "text": "useful timeout that's why you have to specify these timer so that's front end because remember front end the clients",
    "start": "446690",
    "end": "452630"
  },
  {
    "text": "connect to me the front end the bind which probably I should have mentioned",
    "start": "452630",
    "end": "457759"
  },
  {
    "text": "this first the point is which port on which IP and which interface are you",
    "start": "457759",
    "end": "462949"
  },
  {
    "text": "listening to right on on the front and in the share proxy hey I'm listening to port 80 hey I'm listening to port 443 so all the",
    "start": "462949",
    "end": "470569"
  },
  {
    "text": "clients connect to port 80 or 443 right 443 for HTTPS 84 in fake yourself",
    "start": "470569",
    "end": "477229"
  },
  {
    "text": "a CEO that you can do here and you can I don't believe you can do a CL on the",
    "start": "477229",
    "end": "482690"
  },
  {
    "text": "backend right might be wrong but on the front end you can do hey access control",
    "start": "482690",
    "end": "487699"
  },
  {
    "text": "list right I mean hey if the client is going through a slash admin I don't want it to",
    "start": "487699",
    "end": "495949"
  },
  {
    "text": "go through that path right or throw in if the page does is no fun",
    "start": "495949",
    "end": "501099"
  },
  {
    "text": "throw a pager 404 okay something like that so you want to do some conditionals when your font ends like hey if this",
    "start": "501099",
    "end": "509060"
  },
  {
    "text": "this clients coming from this country block this guy right I don't want anyone",
    "start": "509060",
    "end": "515450"
  },
  {
    "text": "accessing from this country right this content let's say you're building Netflix and this particular slash I",
    "start": "515450",
    "end": "522649"
  },
  {
    "text": "don't know the morning show and more show it's not a Netflix it's an Apple TV but sure yeah so you you don't want",
    "start": "522649",
    "end": "529100"
  },
  {
    "text": "anyone from Asia to access them morning show right you want only from",
    "start": "529100",
    "end": "535260"
  },
  {
    "text": "America you can do this from front end with AC else I'm something like that okay back end anything behind the proxy",
    "start": "535260",
    "end": "542220"
  },
  {
    "text": "and usually you can do sake this is a logical back and I'm gonna create a backing called everything all my notes",
    "start": "542220",
    "end": "547950"
  },
  {
    "text": "right and you can you can specify multiple servers on the back and I've",
    "start": "547950",
    "end": "553020"
  },
  {
    "text": "forgot the actual most importantly which is the server property okay the server properly tells you how many",
    "start": "553020",
    "end": "559950"
  },
  {
    "text": "so what is the server that is in the backend right and this is a beauty of this you can specify server one server to server",
    "start": "559950",
    "end": "566610"
  },
  {
    "text": "three and you can start doing balance and all that jazz right on the back end so a front and also connects always to a",
    "start": "566610",
    "end": "574920"
  },
  {
    "text": "back and you have to specify which back and you want me to connect to right and this become more this wall I'm going to",
    "start": "574920",
    "end": "581640"
  },
  {
    "text": "become more clear as we go through guys right so essentially if I specify a front end I I can specify a default",
    "start": "581640",
    "end": "589410"
  },
  {
    "text": "backing like hey anything connect to always this back end right but you can't",
    "start": "589410",
    "end": "594570"
  },
  {
    "text": "specify it back in with with a set of servers like server one server so server three right running application one",
    "start": "594570",
    "end": "600600"
  },
  {
    "text": "right and server to server like nine eight eight nine ten running application",
    "start": "600600",
    "end": "607740"
  },
  {
    "text": "to and that's another back-end you can enter it to create two backends room and you can say hey if the user doing an ACL",
    "start": "607740",
    "end": "615390"
  },
  {
    "text": "/a app one is trying to access app one take them to this back-end if they're trying to extra step to take this back",
    "start": "615390",
    "end": "621540"
  },
  {
    "text": "and we're going to show that an example guys okay and what kind of properties you can do in the backend you can you",
    "start": "621540",
    "end": "628050"
  },
  {
    "text": "cannot bind to anything because you're not really listening right so you're just basically forwarding stuff to the",
    "start": "628050",
    "end": "634050"
  },
  {
    "text": "backend right so you can specify the server time out connect right this is a very important thing you are in the",
    "start": "634050",
    "end": "640650"
  },
  {
    "text": "backend now rise so the H a proxy is connecting to your back-end servers",
    "start": "640650",
    "end": "646500"
  },
  {
    "text": "these express this Django servers okay and when they try to connect when it's a",
    "start": "646500",
    "end": "653400"
  },
  {
    "text": "process to be nice to connect how long do you want it a proxy to wait before it gave this up connecting because it's",
    "start": "653400",
    "end": "659430"
  },
  {
    "text": "connecting right it's a client edge a proxy is now a client trying to connect your back-end do you want to just wait forever",
    "start": "659430",
    "end": "666660"
  },
  {
    "text": "bad idea right so you want this to be as minimal as possible so like hey naked it's like in 300-millisecond if you",
    "start": "666660",
    "end": "673380"
  },
  {
    "text": "couldn't connect colette this server is probably did write this backends probably dead okay use another one",
    "start": "673380",
    "end": "678649"
  },
  {
    "text": "another one did you thought it time out server okay here's an interesting one",
    "start": "678649",
    "end": "685290"
  },
  {
    "text": "right so if you're connecting in the back end you're having like a this back in application running on port 7777 and",
    "start": "685290",
    "end": "692370"
  },
  {
    "text": "this is a huge application that i mean if you make a request to this application it's gonna take a long time",
    "start": "692370",
    "end": "698639"
  },
  {
    "text": "right I don't know it's crunching some machine learning stuff right and it's",
    "start": "698639",
    "end": "704339"
  },
  {
    "text": "doing some training if you do that you're synchronously waiting so the back end how long do you want each a proxy to",
    "start": "704339",
    "end": "711690"
  },
  {
    "text": "wait for a response from that back end from back-end server do you want me to wait for 10 seconds 30 seconds 1 minute",
    "start": "711690",
    "end": "718680"
  },
  {
    "text": "1 hour ok that's a probably good idea to",
    "start": "718680",
    "end": "723930"
  },
  {
    "text": "specify these numbers but you might say no who say this back-end should take 30",
    "start": "723930",
    "end": "730110"
  },
  {
    "text": "milliseconds to execute this application if it's taking more than 30 I want to know I want to timeout right I want the",
    "start": "730110",
    "end": "737009"
  },
  {
    "text": "chip proxy to kill that connection because that is bad right that application app to for example",
    "start": "737009",
    "end": "743880"
  },
  {
    "text": "supposed to query and immediately give me the results right if it's taking a long time I want to know about I wanted",
    "start": "743880",
    "end": "749579"
  },
  {
    "text": "to log that tells me that hey timeout please so all this nice configuration",
    "start": "749579",
    "end": "754680"
  },
  {
    "text": "guys and bands we're gonna have multiple servers are playing with right in a given back-end how do you want me to",
    "start": "754680",
    "end": "760680"
  },
  {
    "text": "balance them right default if you don't specify that that's round-robin round-robin you guys like one two three",
    "start": "760680",
    "end": "766529"
  },
  {
    "text": "one two three three one two three one two three three chandelier okay Ron",
    "start": "766529",
    "end": "773490"
  },
  {
    "text": "Roberts like a one two three one two three just like literally just like jumps you want a server to another so",
    "start": "773490",
    "end": "780360"
  },
  {
    "text": "yeah that's what it does right so round-robin very simple stuff default stuff you can always use it you can also rely on leased connection we talked",
    "start": "780360",
    "end": "787949"
  },
  {
    "text": "about these TCP full state full connections right they are both on the client and on the server how do you want",
    "start": "787949",
    "end": "796470"
  },
  {
    "text": "me to connect to these things as you start connecting and stuff the stateful connection you can tell H a",
    "start": "796470",
    "end": "803399"
  },
  {
    "text": "proxy to say hey you know what I want to connect to the least do the connection",
    "start": "803399",
    "end": "809940"
  },
  {
    "text": "to the server with the least amount of TCP connections that it has right and",
    "start": "809940",
    "end": "815160"
  },
  {
    "text": "you might see how though how our forward using round-robin then isn't isn't isn't",
    "start": "815160",
    "end": "820680"
  },
  {
    "text": "that it's gonna be balanced known really because some requests gonna take more time than other requests and some",
    "start": "820680",
    "end": "826709"
  },
  {
    "text": "requests will will stay alive longer so you want to hit another server that has been least number of connections right",
    "start": "826709",
    "end": "833129"
  },
  {
    "text": "and obviously there's another thing called sources like that means it's just if you make a request right you want to",
    "start": "833129",
    "end": "841709"
  },
  {
    "text": "all go to a specific server and that's called a sticky sticky session essentially right if you're coming from",
    "start": "841709",
    "end": "847170"
  },
  {
    "text": "this IP the HF proxy takes the hash of this IP and then there's a consistent hashing and hits one of the server and",
    "start": "847170",
    "end": "854879"
  },
  {
    "text": "every time every request comes from that IP address it's gonna always go to that",
    "start": "854879",
    "end": "860699"
  },
  {
    "text": "server right and some people like that I personally think it's a bad idea all right",
    "start": "860699",
    "end": "865740"
  },
  {
    "text": "just stick to a server but sometimes you really need to write to do that like okay all my stuff my application is a",
    "start": "865740",
    "end": "874110"
  },
  {
    "text": "stateful application right the moment I put stuff on the server on the memory of the server I expect it to be there so",
    "start": "874110",
    "end": "881339"
  },
  {
    "text": "I'm bad like that right I'm doing it for my own reason just please connect me all",
    "start": "881339",
    "end": "887310"
  },
  {
    "text": "this to that machine right so that's the source algorithm okay HF processor architecture let's continue",
    "start": "887310",
    "end": "893220"
  },
  {
    "text": "multiple front end you can have multiple front ends you can have multiple backends and this is it I really there's",
    "start": "893220",
    "end": "899130"
  },
  {
    "text": "a really good use case I'm not gonna go through in this video but there is use cases where you can't put actually",
    "start": "899130",
    "end": "905430"
  },
  {
    "text": "multiple front ends listening on a different port right and varnish is",
    "start": "905430",
    "end": "910559"
  },
  {
    "text": "actually a one example of this right you can have you can have a proxy listening on port 443 as a front end call it HTTP",
    "start": "910559",
    "end": "918300"
  },
  {
    "text": "only for example and then put another front end listening on port 80 right",
    "start": "918300",
    "end": "924000"
  },
  {
    "text": "that's the vanilla and encrypted one okay and you can have varnish which is a reverse proxy connect to the H a proxy",
    "start": "924000",
    "end": "931860"
  },
  {
    "text": "unencrypted one because varnish only ports HTTP backends its unencrypted in",
    "start": "931860",
    "end": "937930"
  },
  {
    "text": "the free version that in the pro version varnish actually said the HTTP accelerator supports SSL backends so you",
    "start": "937930",
    "end": "946060"
  },
  {
    "text": "can have varnish connects to the HTTP front-end in bash a proxy which is",
    "start": "946060",
    "end": "951400"
  },
  {
    "text": "allowed right and then you can have h a proxy forward all the requests from the",
    "start": "951400",
    "end": "957280"
  },
  {
    "text": "HTTP unencrypted fronting to the secure encrypted back-end which turns around",
    "start": "957280",
    "end": "964570"
  },
  {
    "text": "and connect to the HTTP h a proxy front end because it's just it's like loops in",
    "start": "964570",
    "end": "970810"
  },
  {
    "text": "zone itself and then you can just can communicate and resume the connection and encrypted yeah yeah a frontal can",
    "start": "970810",
    "end": "977290"
  },
  {
    "text": "bind to one or more ports that's totally normal okay and you can have two front",
    "start": "977290",
    "end": "983290"
  },
  {
    "text": "ends point to do two different ports as well okay a frontal connects to a back-end right always although at the",
    "start": "983290",
    "end": "989530"
  },
  {
    "text": "time right and you can have two two fronting as we explained right you can have front-end lessons or port 80 and",
    "start": "989530",
    "end": "996190"
  },
  {
    "text": "that forwards to an HTTP back-end right and that HTTP back and is actually",
    "start": "996190",
    "end": "1001560"
  },
  {
    "text": "nothing but the H a proxy itself right so will connect to itself and we'll OH",
    "start": "1001560",
    "end": "1007380"
  },
  {
    "text": "finally I have I don't have a frontal collision T TPS on board for for later so let me connect to that and then it",
    "start": "1007380",
    "end": "1012780"
  },
  {
    "text": "will just resume that connection let's talk about modes a little bit TCP and",
    "start": "1012780",
    "end": "1018860"
  },
  {
    "text": "HTTP moods right so H aprox is one of those fewer proxy that actually supports",
    "start": "1018860",
    "end": "1024329"
  },
  {
    "start": "1020000",
    "end": "1160000"
  },
  {
    "text": "layer 4 and layer 7 proxying what the heck does that mean it means that when",
    "start": "1024330",
    "end": "1030390"
  },
  {
    "text": "when you play at the TCP layer you have very few things to work with you have",
    "start": "1030390",
    "end": "1036689"
  },
  {
    "text": "the IP address you can see the IP address and you can see the port and that's said you cannot see anything else",
    "start": "1036690",
    "end": "1042360"
  },
  {
    "text": "you can see the IP address you're coming from you can see IP address you're going to that's pretty much it you cannot see",
    "start": "1042360",
    "end": "1047550"
  },
  {
    "text": "the content you cannot trust looking at the packets because they do not make any sense at that layer ok layer 4 right",
    "start": "1047550",
    "end": "1054240"
  },
  {
    "text": "there you cannot see you cannot do rerouting you cannot do hitter rewrites any of that stuff right and there's a",
    "start": "1054240",
    "end": "1061050"
  },
  {
    "text": "benefits of doing that there's cons of doing that as well so that's the word",
    "start": "1061050",
    "end": "1066630"
  },
  {
    "text": "the layer 7 layer 4 TCP proxy right layer 7 which is the HTTP proxy works at the layer 7 that",
    "start": "1066630",
    "end": "1075030"
  },
  {
    "text": "means it can actually well it can look at the data you can see oh you're going to actually slash search slash this",
    "start": "1075030",
    "end": "1081540"
  },
  {
    "text": "right or such slash a porn slash app - you're going to that thing oh I can read",
    "start": "1081540",
    "end": "1086940"
  },
  {
    "text": "this stuff right so you can do some very clever maneuvering especially with",
    "start": "1086940",
    "end": "1092400"
  },
  {
    "text": "microservices layer 7 proxies almost a must right but it is the bad thing about",
    "start": "1092400",
    "end": "1098040"
  },
  {
    "text": "layer 7 proxy right layer 7 has to look at the data to look at the data if you",
    "start": "1098040",
    "end": "1104250"
  },
  {
    "text": "are using TLS you got to decrypt that name ok and if you're decrypting that means you're terminating the TLS that",
    "start": "1104250",
    "end": "1110730"
  },
  {
    "text": "means your proxy is looking through your data maybe you're ok with that but you just",
    "start": "1110730",
    "end": "1117870"
  },
  {
    "text": "just so you know the H a proxy layer engine X pretty much caddy I think all",
    "start": "1117870",
    "end": "1125280"
  },
  {
    "text": "of those stuff look through your data yeah so if you don't if you don't trust",
    "start": "1125280",
    "end": "1131220"
  },
  {
    "text": "your proxy for some reason and you only you haven't back and that is secure ok and that has a certificate and you just",
    "start": "1131220",
    "end": "1138390"
  },
  {
    "text": "want the proxy to actually do a load load balancing and a round robin right and you don't want it to look you don't",
    "start": "1138390",
    "end": "1144810"
  },
  {
    "text": "want to reroute doing around any of that stuff use a layer 4 proxy because it",
    "start": "1144810",
    "end": "1150060"
  },
  {
    "text": "will do SSL pass through I'm gonna talk about that right it will not terminate the TLS right so you can play with TCP",
    "start": "1150060",
    "end": "1156300"
  },
  {
    "text": "and HTTP I'm going to talk about that in examples access control is conditionals",
    "start": "1156300",
    "end": "1161790"
  },
  {
    "start": "1160000",
    "end": "1240000"
  },
  {
    "text": "that applies to the to reroute the traffic hey if you're going to this endpoint I want you for example to block that",
    "start": "1161790",
    "end": "1168990"
  },
  {
    "text": "right if you don't want to know it to admin through a proxy they are not allowed to go to this endpoint I just",
    "start": "1168990",
    "end": "1175470"
  },
  {
    "text": "want to block them hedeman access has to go through the server correctly for example yeah you just want to make my",
    "start": "1175470",
    "end": "1182220"
  },
  {
    "text": "own rules you can start following all these beautiful rules guys if you're going to app 1 slash up 1 go to this",
    "start": "1182220",
    "end": "1189870"
  },
  {
    "text": "back-end if you're going to this to app to go to this back into these servers right you can do so much clearer stuff",
    "start": "1189870",
    "end": "1197240"
  },
  {
    "text": "ACL can also be applied at the node just as a HTTP module which is layer 7",
    "start": "1197240",
    "end": "1204780"
  },
  {
    "text": "you can apply to the layer 4 mode you might say we're saying if I'm a layer 4 I don't see any data why is this useful",
    "start": "1204780",
    "end": "1211890"
  },
  {
    "text": "well you can do some basic stuff you know like hey I can look at the IP at least that's useful people coming from",
    "start": "1211890",
    "end": "1219419"
  },
  {
    "text": "Asia I want them to go to this back-end which is all servers going in the Asia right it's old Asian I don't know in",
    "start": "1219419",
    "end": "1226620"
  },
  {
    "text": "Singapore somewhere right and if someone coming from America I want the backend",
    "start": "1226620",
    "end": "1232590"
  },
  {
    "text": "to go through I don't know these servers that are in in North Virginia ok and so",
    "start": "1232590",
    "end": "1239549"
  },
  {
    "text": "on so it's really cool for microSD atavism so a little bit about TLS termination TLS pass-through very",
    "start": "1239549",
    "end": "1246870"
  },
  {
    "start": "1240000",
    "end": "1463000"
  },
  {
    "text": "powerful concepts right to do TLS termination sometimes very useful right",
    "start": "1246870",
    "end": "1252559"
  },
  {
    "text": "and the front end is TLS the back end is HTTP right how the heck can you",
    "start": "1252559",
    "end": "1259080"
  },
  {
    "text": "communicate to the HTTP if you're HTTPS that's impossible right you gotta terminate the TLS and finish",
    "start": "1259080",
    "end": "1266460"
  },
  {
    "text": "the communication in a pure unencrypted way because your back-end is unsecure right sometimes this is a bad idea but",
    "start": "1266460",
    "end": "1273809"
  },
  {
    "text": "this is what can happen right the automation is is a necessary evil",
    "start": "1273809",
    "end": "1281100"
  },
  {
    "text": "you need to terminate the TLS because I need to look right because what I need to do is I need to look at your data I",
    "start": "1281100",
    "end": "1288600"
  },
  {
    "text": "need to look at your headers I need sometimes to rewrite your head is like varnish right I need to cash right if",
    "start": "1288600",
    "end": "1295740"
  },
  {
    "text": "you want me to cash don't you if you don't want me to cash I can't I can I have to look at your data right and",
    "start": "1295740",
    "end": "1303620"
  },
  {
    "text": "here's the thing it requires certification because you want to terminate the TLS that's your",
    "start": "1303620",
    "end": "1309750"
  },
  {
    "text": "final destination as a client the client connect to hae proxy and 8 to minutes",
    "start": "1309750",
    "end": "1315000"
  },
  {
    "text": "the TLS is yo that's me I'm the same old J right you connect to me here's your",
    "start": "1315000",
    "end": "1321960"
  },
  {
    "text": "certificate son that's me I don't talk to the backend server ten minutes talk to me and then if your",
    "start": "1321960",
    "end": "1328230"
  },
  {
    "text": "trusted obviously most of the time which the layer this layer of proxying is trusted so you're going to talk to it",
    "start": "1328230",
    "end": "1335500"
  },
  {
    "text": "and then and then essentially communicate with a client and then you trust it and you continue all right and",
    "start": "1335500",
    "end": "1343240"
  },
  {
    "text": "then how about TLS pass through I don't trust my load balancer I don't want I",
    "start": "1343240",
    "end": "1349120"
  },
  {
    "text": "want I don't I want my back-end servers already HTTPS why should I terminate and I don't want a cool caching I'm doing",
    "start": "1349120",
    "end": "1355659"
  },
  {
    "text": "enough caching on the backend please you are dumb proxy just forward my package",
    "start": "1355659",
    "end": "1363130"
  },
  {
    "text": "and shut up okay that's when we want to use TLS pass-through which is the mode",
    "start": "1363130",
    "end": "1368409"
  },
  {
    "text": "that's called tcp mode right so the my back in this TLS and the chair proxy just proxies the packets directly write",
    "start": "1368409",
    "end": "1376480"
  },
  {
    "text": "the voltage proxies the packet it creates a single into end TCP connection so even the handshake happens in two end",
    "start": "1376480",
    "end": "1383980"
  },
  {
    "text": "and the proxy just say just forwards the connections immediately okay and this",
    "start": "1383980",
    "end": "1391210"
  },
  {
    "text": "becomes kind of a sticky thing right not really cold sticky but if I'm connecting",
    "start": "1391210",
    "end": "1397150"
  },
  {
    "text": "if I'm at the layer four I better forward everything I create an app table",
    "start": "1397150",
    "end": "1403000"
  },
  {
    "text": "essentially it's I know it's very primitive way of describing it but a network address translation and the a",
    "start": "1403000",
    "end": "1408490"
  },
  {
    "text": "proxy level one implementation at least I don't know what's the internal implementation but I think this is one",
    "start": "1408490",
    "end": "1413799"
  },
  {
    "text": "of them you can create a an IP a table says hey this IP address goes to the",
    "start": "1413799",
    "end": "1419440"
  },
  {
    "text": "server just like the router does right this IP address goes to this server these ideas do from this port goes to",
    "start": "1419440",
    "end": "1426220"
  },
  {
    "text": "this IP address to this port so internal port is really important here as well there's no caching dah friggin da L for",
    "start": "1426220",
    "end": "1434980"
  },
  {
    "text": "a CL only so you can play with the IP that's pretty much it it's more secure",
    "start": "1434980",
    "end": "1440620"
  },
  {
    "text": "because well I'm gonna looking at your data right it's your proxy in this case also doesn't need a certificate which is",
    "start": "1440620",
    "end": "1447250"
  },
  {
    "text": "beautiful so if you back in server has HTTPS we only need that thing the back end and",
    "start": "1447250",
    "end": "1455159"
  },
  {
    "text": "end certification we I don't need to put a certification on my a proxy but in our",
    "start": "1455159",
    "end": "1460600"
  },
  {
    "text": "example we're going to use the termination finally the cool part it's a",
    "start": "1460600",
    "end": "1465850"
  },
  {
    "start": "1463000",
    "end": "1551000"
  },
  {
    "text": "proxy installation let's go through this and guys right when I install a proxy right I'm",
    "start": "1465850",
    "end": "1472180"
  },
  {
    "text": "gonna use Mac for this so I'm gonna use brew which is this thing that install stuff right you can pretty much do the",
    "start": "1472180",
    "end": "1479050"
  },
  {
    "text": "same tutorial with with with a bun to",
    "start": "1479050",
    "end": "1485350"
  },
  {
    "text": "Raspberry Pi or anything like that right just as if the only difference really is just the installation of that stuff",
    "start": "1485350",
    "end": "1491110"
  },
  {
    "text": "right install it a proxy then we're gonna do a simple front end on port 80",
    "start": "1491110",
    "end": "1496710"
  },
  {
    "text": "right and then we're gonna have time back end with many servers because I",
    "start": "1496710",
    "end": "1501790"
  },
  {
    "text": "have I have spin up on multiple application spend multiple lightweight applications that I've created that just",
    "start": "1501790",
    "end": "1509200"
  },
  {
    "text": "do simple stuff and then we're getting round-robin through them we're gonna do a conditional app one app to forgot to",
    "start": "1509200",
    "end": "1515350"
  },
  {
    "text": "app one I'm going to go to this set of servers if the user goes to app - we're gonna go to this user servers",
    "start": "1515350",
    "end": "1520480"
  },
  {
    "text": "we're gonna prevent admin access going to show you how to do that and almost there",
    "start": "1520480",
    "end": "1525610"
  },
  {
    "text": "we're gonna do is GPS right we're going to show how to do enable HTTPS when I",
    "start": "1525610",
    "end": "1531490"
  },
  {
    "text": "share proxy I'm gonna use let's encrypt for that beautiful beautiful certificate of authority for free we can also use",
    "start": "1531490",
    "end": "1537940"
  },
  {
    "text": "obviously and no IP comm to get UPS like a bogus DNS right because I'm gonna",
    "start": "1537940",
    "end": "1543730"
  },
  {
    "text": "connect it to my Mac right and why we're gonna go an HTTP - we're gonna enable HTTP - that's just some pin to it",
    "start": "1543730",
    "end": "1551050"
  },
  {
    "start": "1551000",
    "end": "1680000"
  },
  {
    "text": "alright guys what do we want to do first first of all I'm gonna spin up let's say",
    "start": "1551050",
    "end": "1558520"
  },
  {
    "text": "for applications that I've written before I'm not gonna go through the",
    "start": "1558520",
    "end": "1563980"
  },
  {
    "text": "process because I've done it I'm gonna reference the video here you can go check it out but essentially I have a docker image",
    "start": "1563980",
    "end": "1570490"
  },
  {
    "text": "that I created with an application that listens on certain port I'm gonna spin",
    "start": "1570490",
    "end": "1576280"
  },
  {
    "text": "up for applications of those then we're going to spin them on different ports so how about we do that so we're gonna do",
    "start": "1576280",
    "end": "1583300"
  },
  {
    "text": "docker run - P and the first application I'm gonna run it on port - - - you write",
    "start": "1583300",
    "end": "1589480"
  },
  {
    "text": "the application servers running on port nine nine nine nine okay but the exposed port is actually two - two - okay and I",
    "start": "1589480",
    "end": "1597460"
  },
  {
    "text": "wanna make it be touched and environment variable so we can know what",
    "start": "1597460",
    "end": "1602770"
  },
  {
    "text": "application is this I'm gonna call it 2 2 2 2 so we can know right and then call North Apple and then spin it up we have",
    "start": "1602770",
    "end": "1610000"
  },
  {
    "text": "one application let's spin up application 3 3 3 3 right on 3 3 3 3",
    "start": "1610000",
    "end": "1618900"
  },
  {
    "text": "let's do 4 4 4 4 almost there",
    "start": "1618900",
    "end": "1623430"
  },
  {
    "text": "these are just literally Express applications listening on certain ports",
    "start": "1627960",
    "end": "1634660"
  },
  {
    "text": "and just app one I'm gonna show you that now in a second right so I have four application let's go to the browser and",
    "start": "1634660",
    "end": "1640630"
  },
  {
    "text": "show it to you so 2 2 2 2 3 3 3 4 4 4 5 5 5 and it's all running on my machine",
    "start": "1640630",
    "end": "1646330"
  },
  {
    "text": "to darker instances right on Hussein Mac which is localhost right so if I go to",
    "start": "1646330",
    "end": "1651430"
  },
  {
    "text": "the browser and say localhost 2 2 2 2 you can say that this is the application",
    "start": "1651430",
    "end": "1656980"
  },
  {
    "text": "localhost to to to to app ID to to to to homepage say hello right",
    "start": "1656980",
    "end": "1662920"
  },
  {
    "text": "if I do slash app 1 there is an application on that called app 1 says hey app 1 hey hello it's very simple",
    "start": "1662920",
    "end": "1671620"
  },
  {
    "text": "right if I do app - it says app to page and finally admin right and the admin page I",
    "start": "1671620",
    "end": "1680230"
  },
  {
    "start": "1680000",
    "end": "1751000"
  },
  {
    "text": "said just like replayed like hey very few people should see this very simple thing so if I do 3 3 3 3 app on same",
    "start": "1680230",
    "end": "1688750"
  },
  {
    "text": "thing if I do 4 4 4 4 same thing 5 5 5 5 it just tells me the application",
    "start": "1688750",
    "end": "1694990"
  },
  {
    "text": "number is very simple and I deliberately printed out the application so I can know which application I'm hearing ok",
    "start": "1694990",
    "end": "1701440"
  },
  {
    "text": "it's boring right it's very boring I'm not gonna give you my users these ports",
    "start": "1701440",
    "end": "1707890"
  },
  {
    "text": "right it's very ugly so what do we do what we do guys is we spin up actually a",
    "start": "1707890",
    "end": "1713920"
  },
  {
    "text": "proxy we start balancing those stuff let's get into it so go to the terminal let's install a",
    "start": "1713920",
    "end": "1720640"
  },
  {
    "text": "chair proxy very simple to do in Mac you do brew if you don't have brew just installed on your Mac very simple once",
    "start": "1720640",
    "end": "1727750"
  },
  {
    "text": "you have that you do a brew install each a proxy ok as simple as that and in a",
    "start": "1727750",
    "end": "1734260"
  },
  {
    "text": "bun - it's I think abt get the check box right and once you have it you have it",
    "start": "1734260",
    "end": "1739800"
  },
  {
    "text": "I have ads of making on this video is version 2 o 10 pretty good enough right",
    "start": "1739800",
    "end": "1746520"
  },
  {
    "text": "it works now I have a chat proxy what I need to do it's a proxy doesn't run",
    "start": "1746520",
    "end": "1752940"
  },
  {
    "start": "1751000",
    "end": "2340000"
  },
  {
    "text": "without configuration you have to configure SCIM something ok let's create a configuration folder that's going to",
    "start": "1752940",
    "end": "1758010"
  },
  {
    "text": "create a folder here called make directory I'm going to call it proxy",
    "start": "1758010",
    "end": "1763920"
  },
  {
    "text": "right clear so I have a folder called",
    "start": "1763920",
    "end": "1771030"
  },
  {
    "text": "proxy and I'm gonna create a test dot CFG file ok I'm using them for that but",
    "start": "1771030",
    "end": "1777990"
  },
  {
    "text": "you can use vs code you can use any your favorite editor ok here's what we need to do guys remember remember what we",
    "start": "1777990",
    "end": "1784440"
  },
  {
    "text": "have what is what matters with a CH a proxy there's a front end and a back end",
    "start": "1784440",
    "end": "1789660"
  },
  {
    "text": "guys if you have watched some actual proxies I will read the document there are also default and global I'm not",
    "start": "1789660",
    "end": "1796770"
  },
  {
    "text": "going to explain that because I found them confusing game because it just muddies the water let's understand what",
    "start": "1796770",
    "end": "1803130"
  },
  {
    "text": "we actually need then introduce other stuff as we need them default and global",
    "start": "1803130",
    "end": "1808500"
  },
  {
    "text": "and all that stuff and listen right front end which listens to a port that's what matters let's do that I'm gonna",
    "start": "1808500",
    "end": "1815070"
  },
  {
    "text": "create front-end called I know HTTP 80",
    "start": "1815070",
    "end": "1822080"
  },
  {
    "text": "you can name it anything you want nor do you do that the first parameter you want",
    "start": "1822080",
    "end": "1828330"
  },
  {
    "text": "to do is actually bind what are you listening on this front end so your",
    "start": "1828330",
    "end": "1833460"
  },
  {
    "text": "consumers can connect you well I'm listening to port 80 because that's my vanilla port frame so you can do either",
    "start": "1833460",
    "end": "1840600"
  },
  {
    "text": "0 0 0 0 2 0 2 0 0 verb 80 okay",
    "start": "1840600",
    "end": "1846120"
  },
  {
    "text": "which means listen to all the interfaces that you have in neural network we can just do this store whatever it's easy",
    "start": "1846120",
    "end": "1852630"
  },
  {
    "text": "right sometimes your your application especially in the cloud you will have",
    "start": "1852630",
    "end": "1857760"
  },
  {
    "text": "multiple network interfaces as you have multiple network cards right and you want to know which network are you",
    "start": "1857760",
    "end": "1864000"
  },
  {
    "text": "referring to I have just the one so I'm gonna say Oh listening to this right",
    "start": "1864000",
    "end": "1870120"
  },
  {
    "text": "what's the next thing remember guys there is a time out very important in the client it's called time out very",
    "start": "1870120",
    "end": "1877090"
  },
  {
    "text": "simple it's called client because the time out here the client I want to",
    "start": "1877090",
    "end": "1884530"
  },
  {
    "text": "disconnect the client if they don't communicate with me in 60 seconds right",
    "start": "1884530",
    "end": "1889840"
  },
  {
    "text": "that's what it means very simple stuff right cool that's the front airport",
    "start": "1889840",
    "end": "1895750"
  },
  {
    "text": "let's build one back end back end if you can read I think you can read by MJ zoom",
    "start": "1895750",
    "end": "1901690"
  },
  {
    "text": "in just in case I'm gonna create a back-end called all servers this well",
    "start": "1901690",
    "end": "1909040"
  },
  {
    "text": "this will literally have all my servers and my servers are called server I'm going to create a server one",
    "start": "1909040",
    "end": "1916140"
  },
  {
    "text": "server two two two two and that's why we're is my server server two two two two it is 127.0.0.1 because",
    "start": "1916140",
    "end": "1925600"
  },
  {
    "text": "it's the running a semi machine and it's running on port two two two two remember guys that's my application that we just",
    "start": "1925600",
    "end": "1932500"
  },
  {
    "text": "execute you can either use localhost or 127.0.0.1 two seven zero zero two sorry",
    "start": "1932500",
    "end": "1945600"
  },
  {
    "text": "server server four four four four 127.0.0.1 four four four four and",
    "start": "1945600",
    "end": "1952600"
  },
  {
    "text": "finally server five five five five one two seven zero zero one five five five",
    "start": "1952600",
    "end": "1959290"
  },
  {
    "text": "five cool we have something missing here bunch of",
    "start": "1959290",
    "end": "1964930"
  },
  {
    "text": "things actually game what how many times do we have back-end we have two timeouts",
    "start": "1964930",
    "end": "1970050"
  },
  {
    "text": "timeout how how much do you want me to wait",
    "start": "1970050",
    "end": "1975550"
  },
  {
    "text": "before I give up connecting to the server for the backend servers all these guys for the first time so if I am",
    "start": "1975550",
    "end": "1981370"
  },
  {
    "text": "attempt to this time how long how long do you want me to wait I mean 10 seconds",
    "start": "1981370",
    "end": "1986560"
  },
  {
    "text": "is really a lot but let's say just 10 seconds if the back end doesn't respond within 10 seconds give up guys ok and",
    "start": "1986560",
    "end": "1994300"
  },
  {
    "text": "then timeout server if I'm communicating with the back end and I made a request",
    "start": "1994300",
    "end": "1999490"
  },
  {
    "text": "how long do you want me to wait before I give up right say I made a request to server 333 on",
    "start": "1999490",
    "end": "2005700"
  },
  {
    "text": "app one an app one was taking a long time to to respond I would say like I",
    "start": "2005700",
    "end": "2011070"
  },
  {
    "text": "don't know 100 seconds just kill the server right you can see that this is a very general timeout right as you make",
    "start": "2011070",
    "end": "2018090"
  },
  {
    "text": "your back and specialized right you can make backends for application one which you know it takes more time you can have",
    "start": "2018090",
    "end": "2025049"
  },
  {
    "text": "more better and more timeouts and back and one for application one which you know is like very fast it could be like",
    "start": "2025049",
    "end": "2030960"
  },
  {
    "text": "hey this has to be like text one second or two seconds it's more than 2 seconds",
    "start": "2030960",
    "end": "2036080"
  },
  {
    "text": "probably is very slow right and guys I'm talking in seconds this probably should",
    "start": "2036080",
    "end": "2041970"
  },
  {
    "text": "be way less right if you think about it alright the final piece I think I miss",
    "start": "2041970",
    "end": "2047580"
  },
  {
    "text": "anything is the fronton has nothing to do with the backend how do I connect them default default back-end what's the",
    "start": "2047580",
    "end": "2057148"
  },
  {
    "text": "default back-end for this front end the default backin is all servers and that's",
    "start": "2057149",
    "end": "2063330"
  },
  {
    "text": "that let's save escape the value Q right how do I run",
    "start": "2063330",
    "end": "2069148"
  },
  {
    "text": "let's see hopefully I don't have any errors eh a proxy because we installed it we can do that - f what configuration",
    "start": "2069149",
    "end": "2077250"
  },
  {
    "text": "do you want to consume test CFG and it",
    "start": "2077250",
    "end": "2082349"
  },
  {
    "text": "looks like I don't have any errors how about we go and test this thing localhost 80",
    "start": "2082349",
    "end": "2088589"
  },
  {
    "text": "or just nothing I do localhost 81 served",
    "start": "2088589",
    "end": "2095368"
  },
  {
    "text": "by the node to to lose you and if i refresh I hit the second one but look at",
    "start": "2095369",
    "end": "2102240"
  },
  {
    "text": "that guy's this is not the round robin you Hossein you promise that round robin",
    "start": "2102240",
    "end": "2107369"
  },
  {
    "text": "this is not round robin i'm stuck to port three or four I'm stuck to some know is why is it like that very good",
    "start": "2107369",
    "end": "2114060"
  },
  {
    "text": "question right we're gonna come to that because the default mode of communication is TCP",
    "start": "2114060",
    "end": "2123200"
  },
  {
    "text": "we're using a cheap proxy as a layer for a proxy as a layer for proxy that means",
    "start": "2123200",
    "end": "2129330"
  },
  {
    "text": "the moment the browser communicate with the H a proxy it says hey this is a chip this is a layer four so it will for me",
    "start": "2129330",
    "end": "2136410"
  },
  {
    "text": "to one of the back ends and we'll create a stateful TCP connection that's the browser right the browser is creating a",
    "start": "2136410",
    "end": "2144330"
  },
  {
    "text": "TCP because assuming HTTP use TCP the underlying TCP is now connected and it's",
    "start": "2144330",
    "end": "2150000"
  },
  {
    "text": "alive because the browser wants to keep connections as alive as possible right",
    "start": "2150000",
    "end": "2155340"
  },
  {
    "text": "so when you do that the next request the browser is not gonna create another connection it's gonna just use the same",
    "start": "2155340",
    "end": "2162180"
  },
  {
    "text": "connection which is has been established to a certain back-end server so that's why you always sometimes when you",
    "start": "2162180",
    "end": "2168510"
  },
  {
    "text": "refresh sometimes you see it sometimes we don't because the browser has six connections to work with this is",
    "start": "2168510",
    "end": "2173910"
  },
  {
    "text": "something we talked to you about right as I we see it's sometimes confusing here but if you go to telnet right you",
    "start": "2173910",
    "end": "2181620"
  },
  {
    "text": "see this very clear right let's go to telnet browser and let's do this",
    "start": "2181620",
    "end": "2187400"
  },
  {
    "text": "telnet it's clear I'm gonna do telling it and I'm gonna connect to 127.0.0.1 on",
    "start": "2187400",
    "end": "2196950"
  },
  {
    "text": "port 80 right and I'm connected I am connected already because this is an HTTP server I'm gonna do a get right why",
    "start": "2196950",
    "end": "2203550"
  },
  {
    "text": "do I get see where again we got three three three three immediately right if I do it again I do I get I get four four",
    "start": "2203550",
    "end": "2210660"
  },
  {
    "text": "four four if I do it again I don't get I get five five five five this time it's",
    "start": "2210660",
    "end": "2216720"
  },
  {
    "text": "actually round-robin II right it is actually a round row because every telnet is actually a new TCP socket",
    "start": "2216720",
    "end": "2222570"
  },
  {
    "text": "created right that's why it's it's it's a it's round opening ranga ranga Rosie",
    "start": "2222570",
    "end": "2229200"
  },
  {
    "text": "look at that cool stuff now we know this is a tcp might as well we don't want to",
    "start": "2229200",
    "end": "2234930"
  },
  {
    "text": "reuse tcp how about I want to use I want to use HTTP mode",
    "start": "2234930",
    "end": "2241050"
  },
  {
    "text": "how do you do this to me more very simple we say that sir the mode is HTTP",
    "start": "2241050",
    "end": "2249900"
  },
  {
    "text": "right if you don't specify the mode the mode it becomes TCP by default okay my mode is HTTP right and here my models",
    "start": "2249900",
    "end": "2260670"
  },
  {
    "text": "also has to match guys you don't want to mix mode that's bad right especially I",
    "start": "2260670",
    "end": "2266310"
  },
  {
    "text": "mean you can have mixed mode if your front end and back and have the same mode right but",
    "start": "2266310",
    "end": "2273339"
  },
  {
    "text": "you don't have the front and connects the back in with different modes that's just the recipe for the desk disaster I",
    "start": "2273339",
    "end": "2279069"
  },
  {
    "text": "have no idea what will happen okay let's run it now I was listening then",
    "start": "2279069",
    "end": "2288309"
  },
  {
    "text": "boo refresh now it's more like it it's",
    "start": "2288309",
    "end": "2293859"
  },
  {
    "text": "round-robin now you know why guys because the teal the final destination",
    "start": "2293859",
    "end": "2299799"
  },
  {
    "text": "here is actually a Shia proxy browser connects to a proxy says hey connect to",
    "start": "2299799",
    "end": "2304809"
  },
  {
    "text": "me that's one connection to the TCP connection ends at their proxy and it",
    "start": "2304809",
    "end": "2309940"
  },
  {
    "text": "says please send me this request and the proxy in the HT a proxy house now to have have the ability to to funnel and",
    "start": "2309940",
    "end": "2317260"
  },
  {
    "text": "and load balance because it owns their stuff right so once the receiver of course this",
    "start": "2317260",
    "end": "2323140"
  },
  {
    "text": "isn't a new request every request is a new request to it because it's triste it",
    "start": "2323140",
    "end": "2328839"
  },
  {
    "text": "treats it as a stateless as possible unlike the tcp the tcp more releases are",
    "start": "2328839",
    "end": "2334930"
  },
  {
    "text": "almost stateful it just creates a table NAT and then forwards it to the always",
    "start": "2334930",
    "end": "2340270"
  },
  {
    "start": "2340000",
    "end": "2880000"
  },
  {
    "text": "do the same back end here no it's using the actual round-robin so like every",
    "start": "2340270",
    "end": "2346390"
  },
  {
    "text": "time i refresh every request goes to that or a proxy - a proxy funnels it to",
    "start": "2346390",
    "end": "2351579"
  },
  {
    "text": "the backend which is amazing guys all right isn't that amazing",
    "start": "2351579",
    "end": "2357180"
  },
  {
    "text": "all right so we did that we did that HTTP we did the layer seven proxying layer seven proxying we did the layer",
    "start": "2357180",
    "end": "2366130"
  },
  {
    "text": "four proxying right how about we do this",
    "start": "2366130",
    "end": "2372010"
  },
  {
    "text": "how about we actually create two backends one back-end for application",
    "start": "2372010",
    "end": "2379089"
  },
  {
    "text": "one and one back-end for application - so that if an application one some one",
    "start": "2379089",
    "end": "2385390"
  },
  {
    "text": "user want to go to the application one right what will happen is I want to",
    "start": "2385390",
    "end": "2390579"
  },
  {
    "text": "always go to I don't know these two applications - 2 - 2 or 3 33 will be a",
    "start": "2390579",
    "end": "2395799"
  },
  {
    "text": "responsible application one these guys will be a responsible application - how do I do that if I today if I do",
    "start": "2395799",
    "end": "2403780"
  },
  {
    "text": "application one localhost app one oh I",
    "start": "2403780",
    "end": "2409720"
  },
  {
    "text": "just told the server that's running again if I do that it's still round row",
    "start": "2409720",
    "end": "2418960"
  },
  {
    "text": "burning on all of the servers I don't want that application one I want just 2 2 2 & 3 3 3 okay how do I do that",
    "start": "2418960",
    "end": "2425140"
  },
  {
    "text": "application - obviously it's doing the same thing it's just round draw burning on everything okay I don't want that so",
    "start": "2425140",
    "end": "2431950"
  },
  {
    "text": "what I want to do I want to create two",
    "start": "2431950",
    "end": "2437110"
  },
  {
    "text": "backends back-end app 1 servers let's be fancier like that camelcase and I'm",
    "start": "2437110",
    "end": "2445690"
  },
  {
    "text": "gonna create another back-end called back-end app 2 servers and you guessed",
    "start": "2445690",
    "end": "2450760"
  },
  {
    "text": "it right I want to use for app 1 Connect is the same time out for app 1 I know a",
    "start": "2450760",
    "end": "2457960"
  },
  {
    "text": "point should not take more than 10 second right to come to - to execute any",
    "start": "2457960",
    "end": "2464230"
  },
  {
    "text": "request so I'm gonna use a different timeout for the server and server server 2 2 2 2 1 2 7.0 2 0 1 2 2 2 2 and then I",
    "start": "2464230",
    "end": "2474430"
  },
  {
    "text": "want didn't name it correctly 3 127.0.0.1 3 so that's my back end up 1",
    "start": "2474430",
    "end": "2484540"
  },
  {
    "text": "and I want the timeout for app - I know",
    "start": "2484540",
    "end": "2491220"
  },
  {
    "text": "let's put it more than that I don't know 300 seconds up to is just",
    "start": "2491220",
    "end": "2497260"
  },
  {
    "text": "very expensive some I don't know color it's prime numbers and stuff so server 4",
    "start": "2497260",
    "end": "2503470"
  },
  {
    "text": "4 4 4 127.0.0.1 + 4 4 4 4 and then you",
    "start": "2503470",
    "end": "2509260"
  },
  {
    "text": "do server five five five five one two seven two zero two zero two one five five five five sweet sweet guys that",
    "start": "2509260",
    "end": "2516250"
  },
  {
    "text": "looks good all that stuff is good right so now that all what we need is them for in the",
    "start": "2516250",
    "end": "2521650"
  },
  {
    "text": "front end we need to do a condition here guys and the condition is here's a thing",
    "start": "2521650",
    "end": "2527230"
  },
  {
    "text": "I want to use an ACL which is the access control lists right and I'm gonna create",
    "start": "2527230",
    "end": "2533590"
  },
  {
    "text": "a new control s called Airport right this is a brand new controllers called and that app 1 is nothing but path and",
    "start": "2533590",
    "end": "2541599"
  },
  {
    "text": "if the path ends with app 1 I want you",
    "start": "2541599",
    "end": "2547779"
  },
  {
    "text": "to call this request app 1 and if that",
    "start": "2547779",
    "end": "2553470"
  },
  {
    "text": "path ends with app - I want you to call",
    "start": "2553470",
    "end": "2559089"
  },
  {
    "text": "it app - and here's stealth this doesn't really flips the back ends right and",
    "start": "2559089",
    "end": "2564430"
  },
  {
    "text": "here's the cool part there is a command called use backend use underscore back-end I want you to use the back end",
    "start": "2564430",
    "end": "2572140"
  },
  {
    "text": "that is called app 1 servers which is this guy if app 1 if the request is of type app 1",
    "start": "2572140",
    "end": "2582910"
  },
  {
    "text": "then use this app 1 servers forgot to add one and I want you to use app 2",
    "start": "2582910",
    "end": "2593079"
  },
  {
    "text": "servers if the request of type app 2 K in other ways that you can do the whole",
    "start": "2593079",
    "end": "2599079"
  },
  {
    "text": "thing here as a curly brace say I'm gonna show how to do that you don't have to define it this way this is just one",
    "start": "2599079",
    "end": "2604539"
  },
  {
    "text": "way to doing things right and there's all the exact examples in the configuration I took it and made it my",
    "start": "2604539",
    "end": "2610480"
  },
  {
    "text": "own obviously I took it from the actual edge a proxy so I'd documentation I'm gonna reference it below right and I",
    "start": "2610480",
    "end": "2617170"
  },
  {
    "text": "just took it and just roll my own essentially ideas ok around it okay so",
    "start": "2617170",
    "end": "2623079"
  },
  {
    "text": "how about we test this thing now anything that goes enjoyed app 1 will go",
    "start": "2623079",
    "end": "2628779"
  },
  {
    "text": "to this server back-end which is just 2 2 & 3 3 if it's app 2 it will goes to",
    "start": "2628779",
    "end": "2634599"
  },
  {
    "text": "this guy - these puppies right if it's anything else it will use what the",
    "start": "2634599",
    "end": "2639700"
  },
  {
    "text": "default back-end which is what all the servers how about we do that save who we",
    "start": "2639700",
    "end": "2644999"
  },
  {
    "text": "can yell that let's see what's going on tries to use in compare TCB back-end",
    "start": "2644999",
    "end": "2650430"
  },
  {
    "text": "that's what we'll talk about if you're using a tcp back and for an HDTV front",
    "start": "2650430",
    "end": "2656019"
  },
  {
    "text": "end i'm glad that we run into this problem guys so the problem is here is",
    "start": "2656019",
    "end": "2661599"
  },
  {
    "text": "you're using an HTTP front-end but the back end is actually TCP right because that's the default right so how do you",
    "start": "2661599",
    "end": "2667239"
  },
  {
    "text": "fix it I want mode HTTP ok and I won't here mod HTV now oh guys the",
    "start": "2667239",
    "end": "2677810"
  },
  {
    "text": "default section becomes very handy because like a everything if I don't specify use this defaults please right",
    "start": "2677810",
    "end": "2684980"
  },
  {
    "text": "that's what were the defaults come in handy but I didn't want to introduce it in the beginning because it will be confusing and I think I think you agree",
    "start": "2684980",
    "end": "2691280"
  },
  {
    "text": "with me guys right now you really know when to what to add right please guys do",
    "start": "2691280",
    "end": "2697040"
  },
  {
    "text": "yourself a favor never copy anything and paste it and run with it right d please use collateral knowledge right",
    "start": "2697040",
    "end": "2704330"
  },
  {
    "text": "anything you want to learn learn it and then understand why are you doing it",
    "start": "2704330",
    "end": "2709610"
  },
  {
    "text": "this way because every code you put there's a meaning for it and when you understand and you become a better",
    "start": "2709610",
    "end": "2715310"
  },
  {
    "text": "software engine you become a better it's our engineer better developer never",
    "start": "2715310",
    "end": "2720350"
  },
  {
    "text": "copy stuff from Stack Exchange I beg you guys never do this ok let's do this say",
    "start": "2720350",
    "end": "2727520"
  },
  {
    "text": "no more errors because if you get an error you understand you'll learn that's how life works for God's sake right",
    "start": "2727520",
    "end": "2735970"
  },
  {
    "text": "let's do this now now Oh up to we're only round dropping from four four four",
    "start": "2736450",
    "end": "2743420"
  },
  {
    "text": "and five five five five how foolish is this guys right how cool",
    "start": "2743420",
    "end": "2749210"
  },
  {
    "text": "is this right and Happ one is actually it's just",
    "start": "2749210",
    "end": "2756950"
  },
  {
    "text": "round row in front 2 2 & 3 3 and if I do just the homepage it's going through all",
    "start": "2756950",
    "end": "2762620"
  },
  {
    "text": "of them two three four five two three four five two three four out two three",
    "start": "2762620",
    "end": "2768020"
  },
  {
    "text": "four hut two three but okay sweet sweet",
    "start": "2768020",
    "end": "2774140"
  },
  {
    "text": "sweet okay I want to do one more thing I want to do I don't show the balancing algorithms okay let's see app one is a",
    "start": "2774140",
    "end": "2781430"
  },
  {
    "text": "bad application that it's written very stateful II okay I'm not saying mistakes",
    "start": "2781430",
    "end": "2786590"
  },
  {
    "text": "for applications or bad I'm just exactly saying that states for application all bad that's contradictory right so our",
    "start": "2786590",
    "end": "2794420"
  },
  {
    "text": "porn is a stateful application and requires to be sticky right and that means if you connect to me for the first",
    "start": "2794420",
    "end": "2801620"
  },
  {
    "text": "time from the client right I'm always been forward all the requests to",
    "start": "2801620",
    "end": "2807099"
  },
  {
    "text": "one and only one back-end okay so in this case I'm gonna use the balance called a node Bansi called source I",
    "start": "2807099",
    "end": "2813760"
  },
  {
    "text": "think there is a least connect you can play with those guys that is the round robin is the default if I don't specify",
    "start": "2813760",
    "end": "2818859"
  },
  {
    "text": "but the balance called source here that means app 1 let's see I didn't really",
    "start": "2818859",
    "end": "2825220"
  },
  {
    "text": "test that so it'll be interesting ok so if I go here I'm going through all of",
    "start": "2825220",
    "end": "2830769"
  },
  {
    "text": "them if I go to app 1 I didn't do I didn't change the I'll go them so I'm up to let's go dive to app - flipping app",
    "start": "2830769",
    "end": "2839529"
  },
  {
    "text": "one stuck to three because we told AJ proxy and since my client IPL is not",
    "start": "2839529",
    "end": "2847180"
  },
  {
    "text": "changing obviously unless I this can restore my perhaps my router to get a",
    "start": "2847180",
    "end": "2852190"
  },
  {
    "text": "brand new IP address that will change but as long as I have the same client IP address this is gonna remain the same",
    "start": "2852190",
    "end": "2858910"
  },
  {
    "text": "thing okay okay probably if I connect from my phone this is gonna be different right I didn't try it but I'm gonna try",
    "start": "2858910",
    "end": "2866680"
  },
  {
    "text": "it I might show it here okay I'm not sure but it's gonna be the same thing essentially okay so that's that's the",
    "start": "2866680",
    "end": "2874599"
  },
  {
    "text": "idea so we've shown this stuff we shown all that stuff what's next guys the",
    "start": "2874599",
    "end": "2880720"
  },
  {
    "start": "2880000",
    "end": "3180000"
  },
  {
    "text": "admin page I want to block this thing guys I don't want anyone to access admin",
    "start": "2880720",
    "end": "2886829"
  },
  {
    "text": "so again I don't want anyone to access the admin from the localhost perspective",
    "start": "2886829",
    "end": "2892779"
  },
  {
    "text": "okay I want no one to access this really",
    "start": "2892779",
    "end": "2897940"
  },
  {
    "text": "okay only when they go directly to to the application like five five five five",
    "start": "2897940",
    "end": "2905440"
  },
  {
    "text": "five slash admin they can access that I want to do just that right so this this",
    "start": "2905440",
    "end": "2911079"
  },
  {
    "text": "is open but I want to block this how do I do this okay",
    "start": "2911079",
    "end": "2917319"
  },
  {
    "text": "very simple stuff let's do it them tested CFG I'm gonna copy oh by the way",
    "start": "2917319",
    "end": "2923349"
  },
  {
    "text": "guys all this configuration will be available for you guys on the description I'm gonna do a github page all that jazz still recording cool what",
    "start": "2923349",
    "end": "2932470"
  },
  {
    "text": "else yes so what I want to do here is do another ACL where",
    "start": "2932470",
    "end": "2938380"
  },
  {
    "text": "if the path begins with a admin I want",
    "start": "2938380",
    "end": "2945039"
  },
  {
    "text": "to block it how do I do that but I'm gonna do it in a fancier way now you can do it still a CL and define like I don't",
    "start": "2945039",
    "end": "2951219"
  },
  {
    "text": "know block admin whatever but you can do it this way as well HTTP sir HTTP request",
    "start": "2951219",
    "end": "2958900"
  },
  {
    "text": "I want to deny any requests if and you can put the ACL between brackets like",
    "start": "2958900",
    "end": "2964539"
  },
  {
    "text": "that this is exactly like that right alright so what I want to do if that",
    "start": "2964539",
    "end": "2969549"
  },
  {
    "text": "path has in it here's the thing f - I - M begins with",
    "start": "2969549",
    "end": "2977829"
  },
  {
    "text": "admin I want to block that thing okay how do we do that let's let's start to",
    "start": "2977829",
    "end": "2984519"
  },
  {
    "text": "do it okay alright I do look at most we go",
    "start": "2984519",
    "end": "2990459"
  },
  {
    "text": "forbidden that's pretty cool guys isn't it so now anything that begins with",
    "start": "2990459",
    "end": "2996130"
  },
  {
    "text": "admin will be blocked right and you can I'm gonna reference all these ACLs guys",
    "start": "2996130",
    "end": "3001170"
  },
  {
    "text": "all right you can do so much stuff with H a proxy it's amazing guys really for an open",
    "start": "3001170",
    "end": "3007949"
  },
  {
    "text": "source software man kudos for everyone who worked on this beast of a software",
    "start": "3007949",
    "end": "3013459"
  },
  {
    "text": "alright so what if I do I can access",
    "start": "3013459",
    "end": "3019019"
  },
  {
    "text": "that directly and probably if you have access to the backend server that means you are already at menu SSA store stuff",
    "start": "3019019",
    "end": "3024690"
  },
  {
    "text": "right but public people cannot access this stuff anymore all right Before we jump to the other top which is",
    "start": "3024690",
    "end": "3031559"
  },
  {
    "text": "doing HTTP how about we create a domain okay and using go to the know IP comm create",
    "start": "3031559",
    "end": "3040410"
  },
  {
    "text": "a domain and then make it point to my public IP address right my public IP",
    "start": "3040410",
    "end": "3045690"
  },
  {
    "text": "address connects to my router obviously my router I open to port 80 and 443 to",
    "start": "3045690",
    "end": "3052739"
  },
  {
    "text": "flow through my machine which is MAC address let's go show you that part alright guys so I'm here in my router I",
    "start": "3052739",
    "end": "3059160"
  },
  {
    "text": "have done this before you probably can do this as a same thing right my device is called has a Mac this is my public IP",
    "start": "3059160",
    "end": "3065880"
  },
  {
    "text": "address right currently and I made two rules if it's HTTP anyone coming to",
    "start": "3065880",
    "end": "3072090"
  },
  {
    "text": "public IP address going through port 80 I wanted to forward it to Hussein Mac to",
    "start": "3072090",
    "end": "3078210"
  },
  {
    "text": "my machine which is also will be running hae proxy probably on port 80 and if say they doing through 443 take them to my",
    "start": "3078210",
    "end": "3085680"
  },
  {
    "text": "machine as well so that's the two rules I have here so if I took my public IP address now just as it is yeah",
    "start": "3085680",
    "end": "3092940"
  },
  {
    "text": "and let's first run are we running at a proxy yes we are okay Jeff Fox is",
    "start": "3092940",
    "end": "3098040"
  },
  {
    "text": "running so if I took my public IP address and you do that it works right even from my phone if I did that worse",
    "start": "3098040",
    "end": "3106470"
  },
  {
    "text": "but public IP addresses are ugly so what we do we go to new IP to come create a",
    "start": "3106470",
    "end": "3112320"
  },
  {
    "text": "domain for us and then have that domain points to the IP address all right so this is probably the easiest thing go to",
    "start": "3112320",
    "end": "3119040"
  },
  {
    "text": "no IP comm guys and just sign ants free and what I'm gonna do here is create a",
    "start": "3119040",
    "end": "3124920"
  },
  {
    "text": "hostname essentially I'm gonna go ahead and create a new hostname DNS right and",
    "start": "3124920",
    "end": "3130460"
  },
  {
    "text": "I don't care anything really and you get a bogus free domain right because you",
    "start": "3130460",
    "end": "3137010"
  },
  {
    "text": "don't care because you're not paying for this thing right so you get a bogus a record that's what we want we're gonna get created a record host hostname so",
    "start": "3137010",
    "end": "3144330"
  },
  {
    "text": "ddns dotnet I'm gonna call it a sane HAF proxy I was saying proxy something like",
    "start": "3144330",
    "end": "3151950"
  },
  {
    "text": "that right anything I don't think anyone there's a H Hossein proxy the DNS doesn't it that's more that would be my",
    "start": "3151950",
    "end": "3158280"
  },
  {
    "text": "website and we're going to be pointing to my IP address which we just proved it works right so I'm gonna go ahead and",
    "start": "3158280",
    "end": "3164910"
  },
  {
    "text": "create a hostname and now this thing if I do this after a while takes time to",
    "start": "3164910",
    "end": "3170700"
  },
  {
    "text": "update I'm gonna refresh whenever it's happened right whatever this updates it's gonna take some time but once it",
    "start": "3170700",
    "end": "3176790"
  },
  {
    "text": "updates it works immediately it's gonna work okay so that took about three minutes or so actually less than that",
    "start": "3176790",
    "end": "3183900"
  },
  {
    "start": "3180000",
    "end": "3930000"
  },
  {
    "text": "now I have a public website Hossein proxy dot DNS dotnet it's not",
    "start": "3183900",
    "end": "3191040"
  },
  {
    "text": "secure why it's something it's working right so now you have the basic pieces",
    "start": "3191040",
    "end": "3197520"
  },
  {
    "text": "right so let's talk through this a little bit I have a DNS oh no I Peter",
    "start": "3197520",
    "end": "3202590"
  },
  {
    "text": "calm that points to my public IP address which is my router my local router on my machine",
    "start": "3202590",
    "end": "3208109"
  },
  {
    "text": "my local network my router I can forget a rule to forward port 80 and 443",
    "start": "3208109",
    "end": "3214040"
  },
  {
    "text": "obviously this is just port 80 because it's not secure and 443 will come in the",
    "start": "3214040",
    "end": "3219270"
  },
  {
    "text": "future when we enable HTTPS in a minute but port 80 forwards to my machine which",
    "start": "3219270",
    "end": "3224940"
  },
  {
    "text": "is forward to localhost right if I do localhost right that's my machine or just the same Mac",
    "start": "3224940",
    "end": "3230220"
  },
  {
    "text": "is another thing you can do it this way all of them goes to my machine right",
    "start": "3230220",
    "end": "3235910"
  },
  {
    "text": "cool my machine essentially goes to the a proxy it's a proxy talk to five for",
    "start": "3235910",
    "end": "3242420"
  },
  {
    "text": "back-end servers ghoulish goulash how about we start enabling my HTTP these",
    "start": "3242420",
    "end": "3250740"
  },
  {
    "text": "are the basic stuff do you need the next step we're gonna connect to a let's",
    "start": "3250740",
    "end": "3255900"
  },
  {
    "text": "encrypt gets a certificate get a probably key to the private key okay",
    "start": "3255900",
    "end": "3261200"
  },
  {
    "text": "merge them into one file give it to a chair proxy since hecha proxy please",
    "start": "3261200",
    "end": "3266730"
  },
  {
    "text": "listen on port 443 because now you're dope like that okay you can listen on that thing you're gonna start encrypting",
    "start": "3266730",
    "end": "3273630"
  },
  {
    "text": "stuff for me okay and then we're gonna finish this sheet TPS how about that",
    "start": "3273630",
    "end": "3280320"
  },
  {
    "text": "let's do it okay so first thing you want to do is kill a a proxy now because nothing is knowing",
    "start": "3280320",
    "end": "3287010"
  },
  {
    "text": "on port 80 so if I do if I start doing this this will fail right this will stay connecting will say connecting and then",
    "start": "3287010",
    "end": "3293580"
  },
  {
    "text": "I will just die right because it's not running cool what we want to do is",
    "start": "3293580",
    "end": "3299520"
  },
  {
    "text": "actually in a store a library called let's encrypt so we're gonna go on as",
    "start": "3299520",
    "end": "3305130"
  },
  {
    "text": "install it brew install let's encrypt encrypt so that will install something",
    "start": "3305130",
    "end": "3310830"
  },
  {
    "text": "called cert bot which will create a certificate for us okay so let's go",
    "start": "3310830",
    "end": "3317369"
  },
  {
    "text": "ahead and install it I'm not sure about the commands for abt for for a bunt or",
    "start": "3317369",
    "end": "3322950"
  },
  {
    "text": "other time but just look them up it's just like we're gonna install this lesson credit I'm gonna difference.the",
    "start": "3322950",
    "end": "3328940"
  },
  {
    "text": "the libraries to do that thing okay now we have third pot this will allow us to",
    "start": "3328940",
    "end": "3334770"
  },
  {
    "text": "generate a certificate and the certificate is which identifies a server as a public IP as a certificate",
    "start": "3334770",
    "end": "3341430"
  },
  {
    "text": "authority let's encrypt is a certificate authority that tells that Hussein proxy",
    "start": "3341430",
    "end": "3346739"
  },
  {
    "text": "das dotnet is a legit thing that is registered with us and we know him and",
    "start": "3346739",
    "end": "3352289"
  },
  {
    "text": "he's good and he's a good guy right so that's what the certificate is essentially generates to file so let's",
    "start": "3352289",
    "end": "3358979"
  },
  {
    "text": "go ahead and generate this public key private and you're a few confuse about public and privately we made a video about encryption I'm gonna reference it",
    "start": "3358979",
    "end": "3364829"
  },
  {
    "text": "here guys go check them out I really recommend you understand that stuff and TLS all that stuff I really recommend",
    "start": "3364829",
    "end": "3371309"
  },
  {
    "text": "you stand how the stuff works try it because I have once of my time I didn't understand I just got that rumor",
    "start": "3371309",
    "end": "3378029"
  },
  {
    "text": "research and learned it and I made a video so everybody can also learn because that's the goal of this channel",
    "start": "3378029",
    "end": "3383190"
  },
  {
    "text": "everybody can learn become a better software engineer altogether alright so",
    "start": "3383190",
    "end": "3388559"
  },
  {
    "text": "now what we need to do is generate essentially yeah a certificate and in",
    "start": "3388559",
    "end": "3394710"
  },
  {
    "text": "order to do that we need to use sudo because it's going through a certain directories and this general this if you",
    "start": "3394710",
    "end": "3401249"
  },
  {
    "text": "think about it these private key public key are very secure you probably only need your root to access those stuff",
    "start": "3401249",
    "end": "3407460"
  },
  {
    "text": "right so if you do sudo cert bot right",
    "start": "3407460",
    "end": "3412519"
  },
  {
    "text": "cert only you can do cert but because you just installed a sink read/write on your Mac ok and you do - - standalone",
    "start": "3412519",
    "end": "3419640"
  },
  {
    "text": "and here's the thing you're gonna get asked some questions guys ok you gonna",
    "start": "3419640",
    "end": "3424920"
  },
  {
    "text": "stay for your password just wanna tell your password for that that's the Mac password right plug is whining here's",
    "start": "3424920",
    "end": "3438930"
  },
  {
    "text": "the thing now it's asking for my email",
    "start": "3438930",
    "end": "3444359"
  },
  {
    "text": "address okay you can leave it but you can you can also put in an email address",
    "start": "3444359",
    "end": "3449400"
  },
  {
    "text": "I'm gonna put my email address feel free to contact me it's okay guys now even just so they can email you in case",
    "start": "3449400",
    "end": "3455700"
  },
  {
    "text": "something happened right and this is my email address and the next step is like what is it okay please read this first",
    "start": "3455700",
    "end": "3462989"
  },
  {
    "text": "can again I agree to the things right I agree right the next thing is like hey",
    "start": "3462989",
    "end": "3469769"
  },
  {
    "text": "would you be willing to share your email address with Electric no I don't want to share okay and now",
    "start": "3469769",
    "end": "3476490"
  },
  {
    "text": "please enter your domain name comma separator you can have multiple domain names what's my domain name is called the same",
    "start": "3476490",
    "end": "3483180"
  },
  {
    "text": "proxy I hope I don't butcher it's called dot d DNS and it's very critical guys",
    "start": "3483180",
    "end": "3489990"
  },
  {
    "text": "that you're not already listening to port 80 because what this thing does it actually listens to port 80 is that",
    "start": "3489990",
    "end": "3495720"
  },
  {
    "text": "that's probably why it's running a sudo right as well because it needs to the students on port 80 so it can",
    "start": "3495720",
    "end": "3502200"
  },
  {
    "text": "communicate with the lesson encrypt and it just just does some negotiation it's like okay this machine is actually",
    "start": "3502200",
    "end": "3507710"
  },
  {
    "text": "Hossein proxy DNS dotnet we believe this guy he's cool right we do that and just",
    "start": "3507710",
    "end": "3515430"
  },
  {
    "text": "like that it's just communicating listening to port 80 and we have two beautiful things here guys we get this",
    "start": "3515430",
    "end": "3524300"
  },
  {
    "text": "public key with this this private key yeah public key private key private key",
    "start": "3524300",
    "end": "3530760"
  },
  {
    "text": "just your server knows about it public key everybody should know about it it's okay we don't care okay but here's the thing",
    "start": "3530760",
    "end": "3539310"
  },
  {
    "text": "about H a proxy I don't really like but sure they won't click this way AJ proxy",
    "start": "3539310",
    "end": "3545190"
  },
  {
    "text": "won't one file only they don't like the two files right so you have to merge",
    "start": "3545190",
    "end": "3550200"
  },
  {
    "text": "this two files into one it's no really big deal but what do you do essentially is you cat this with this and you T it",
    "start": "3550200",
    "end": "3557730"
  },
  {
    "text": "into another file that's just a common thing right so you take the content of this take the content of this merge it",
    "start": "3557730",
    "end": "3564180"
  },
  {
    "text": "right to twinam file and give that file to H a a proxy right so how about we do",
    "start": "3564180",
    "end": "3569609"
  },
  {
    "text": "that guys okay so we're gonna do is I'm gonna copy this guy OOP then and do sudo",
    "start": "3569609",
    "end": "3577400"
  },
  {
    "text": "because all of these locations are very secure they are Etsy stuff right so you",
    "start": "3577400",
    "end": "3583890"
  },
  {
    "text": "cannot just exited without you so you have to need sudo Ram so you sudo cat take the content of this thing all right",
    "start": "3583890",
    "end": "3590430"
  },
  {
    "text": "and take the content of this thing copy don't listen take the content of this",
    "start": "3590430",
    "end": "3597660"
  },
  {
    "text": "thing and type it this will give you a results right because this will cat will",
    "start": "3597660",
    "end": "3602910"
  },
  {
    "text": "take the content take the content and will give you the result and that I don't want to print it I want to",
    "start": "3602910",
    "end": "3608250"
  },
  {
    "text": "write to another file I want to write it to pseudo T right T is actually right",
    "start": "3608250",
    "end": "3615300"
  },
  {
    "text": "takes the input from this first parameter and write it somewhere else I just want to write it okay bad idea",
    "start": "3615300",
    "end": "3622290"
  },
  {
    "text": "but you can just decide to write it anywhere you want right what I'm gonna write it in a",
    "start": "3622290",
    "end": "3629690"
  },
  {
    "text": "specific directory right let's do that so I'm gonna write it to users Hossein Nasr proxy which is the folder",
    "start": "3629690",
    "end": "3637170"
  },
  {
    "text": "we're in it I'm gonna call it h a proxy dot PE M which is the which is this",
    "start": "3637170",
    "end": "3642810"
  },
  {
    "text": "extension the same thing but now this guy have both a private key and a public",
    "start": "3642810",
    "end": "3648030"
  },
  {
    "text": "key right and it is in the same directory how about that guys right so",
    "start": "3648030",
    "end": "3655800"
  },
  {
    "text": "now if I do LS you have the H a proxy door boom so technically you can go to",
    "start": "3655800",
    "end": "3664530"
  },
  {
    "text": "test to see if E is a CFG the configuration and let's bind four four",
    "start": "3664530",
    "end": "3670740"
  },
  {
    "text": "three guys okay I'm gonna bind and the same you can",
    "start": "3670740",
    "end": "3676080"
  },
  {
    "text": "do the same let's change the front end here I call it now HTTP and HTTP",
    "start": "3676080",
    "end": "3682400"
  },
  {
    "text": "whatever right because now it's actually there 443 and here's the thing you can stop",
    "start": "3682400",
    "end": "3688410"
  },
  {
    "text": "here but that's what you're not gonna have any TLS right",
    "start": "3688410",
    "end": "3693690"
  },
  {
    "text": "we won't TLS baby we won't deal it so how do we do TLS very simple let's let's",
    "start": "3693690",
    "end": "3700320"
  },
  {
    "text": "try I'm good again all these configuration won't be in the description guys okay so what do you do",
    "start": "3700320",
    "end": "3705710"
  },
  {
    "text": "for four three you bind it for was a but you want this SL right and so that means",
    "start": "3705710",
    "end": "3712140"
  },
  {
    "text": "you want I don't want suppose it says SSL but it's actually TLS nobody uses SSL three version that's bad idea you",
    "start": "3712140",
    "end": "3718500"
  },
  {
    "text": "don't want to be down you don't do a downgrade attack right that will be bad and then CRT okay the certificate",
    "start": "3718500",
    "end": "3726660"
  },
  {
    "text": "where's my certificate man where is it it's on users the same nozzle proxy it's",
    "start": "3726660",
    "end": "3735600"
  },
  {
    "text": "called H a proxy dot P no.4 I nailed that path I'm sure okay and that's it really right",
    "start": "3735600",
    "end": "3742700"
  },
  {
    "text": "that's the only thing we need just to support HTTP 1 1 right 1 GB 2 is a",
    "start": "3742700",
    "end": "3749249"
  },
  {
    "text": "little bit extra parameter that we're gonna talk about that in a minute let's do that now if I do actually a proxy - f",
    "start": "3749249",
    "end": "3758190"
  },
  {
    "text": "test look at that oh guys look at that we're getting a new message now it says",
    "start": "3758190",
    "end": "3766249"
  },
  {
    "text": "son 200 s is of the default D H parameter it says 1024 by default if your workload",
    "start": "3766249",
    "end": "3774239"
  },
  {
    "text": "permits it one bit up to do what the heck does a me so TLS by default",
    "start": "3774239",
    "end": "3780739"
  },
  {
    "text": "especially the latest version 1.5 which which is a proxy thankfully supports right uses diffie-hellman that's what",
    "start": "3780739",
    "end": "3789059"
  },
  {
    "text": "the D H stands for diffie-hellman and we talked about that and the encryption video in the TLS video and every Hellman",
    "start": "3789059",
    "end": "3795420"
  },
  {
    "text": "ephemeral specifically different human uses it hi there's like a bit size of the keys right 1024 2048 right so the",
    "start": "3795420",
    "end": "3804089"
  },
  {
    "text": "default for my computer for some reasons it's 1,024 it's a proxy still telling us this is a bad idea because thousand 24",
    "start": "3804089",
    "end": "3811200"
  },
  {
    "text": "we're gonna take I don't know five years to break right we won't use 2020 2048 so",
    "start": "3811200",
    "end": "3818160"
  },
  {
    "text": "it can take 35 years to break a key okay I'm being sarcastic here what it is just",
    "start": "3818160",
    "end": "3825180"
  },
  {
    "text": "a good idea to make your bit sizes as high as possible take one into",
    "start": "3825180",
    "end": "3831479"
  },
  {
    "text": "consideration that means if your processor support said because that's a",
    "start": "3831479",
    "end": "3837119"
  },
  {
    "text": "crypto stuff right more bits more power more money more problem right that's",
    "start": "3837119",
    "end": "3842789"
  },
  {
    "text": "what happens right so if you have more money just add more or more bits okay good stuff I'm gonna shut up right now",
    "start": "3842789",
    "end": "3849599"
  },
  {
    "text": "all right guys were secured now let's just it alright so this is the HTTP",
    "start": "3849599",
    "end": "3857219"
  },
  {
    "text": "version not secure what happen if I do aesthetically else holy moly look at",
    "start": "3857219",
    "end": "3863999"
  },
  {
    "text": "that I'm secure babes I'm secure valid certificate and stuff look at that",
    "start": "3863999",
    "end": "3872820"
  },
  {
    "text": "look at that and you can access from my phone as secure um this sort of is valid all that jazz and",
    "start": "3872820",
    "end": "3879660"
  },
  {
    "text": "this is public I can give you this link and will work right all the logic we did app one app one our Z app one is now",
    "start": "3879660",
    "end": "3889830"
  },
  {
    "text": "stuck to to to to to right uh did I change my IP address I don't think I remember changing it looks like it did",
    "start": "3889830",
    "end": "3896450"
  },
  {
    "text": "app - is doing that thing home is just funneling through all that stuff and",
    "start": "3896450",
    "end": "3904620"
  },
  {
    "text": "admin is inaccessible because I'm secure I'm sending this publicly to people -",
    "start": "3904620",
    "end": "3910290"
  },
  {
    "text": "shady people right you don't want to see shady people to access admin right but shady people will never have access to",
    "start": "3910290",
    "end": "3917730"
  },
  {
    "text": "your localhost five five five five admin right they don't have access to this thing anymore right why is this oh this",
    "start": "3917730",
    "end": "3924660"
  },
  {
    "text": "is HTTP so ya get it guys alright I'm",
    "start": "3924660",
    "end": "3930900"
  },
  {
    "start": "3930000",
    "end": "4339000"
  },
  {
    "text": "secure all that jazz but it is my beef with this thing if i go here and i",
    "start": "3930900",
    "end": "3938130"
  },
  {
    "text": "refresh what do this thing what century is this HDTV 1-1 seriously i'm secure",
    "start": "3938130",
    "end": "3947610"
  },
  {
    "text": "and you're telling me i this is secure with HTTP 1-1 boo we want to be two",
    "start": "3947610",
    "end": "3955500"
  },
  {
    "text": "babes how do we do it - dB - easy-peasy japanesey you go to tester config and mr. h a",
    "start": "3955500",
    "end": "3964950"
  },
  {
    "text": "proxy version - I think one point eight support is actually but you can just add an extra parameter here on the end and",
    "start": "3964950",
    "end": "3975540"
  },
  {
    "text": "here's what we're gonna do we're gonna explain this thing okay application",
    "start": "3975540",
    "end": "3980640"
  },
  {
    "text": "layer protocol negotiation we're gonna talk we talked about application layer protocol negotiation this is the coolest",
    "start": "3980640",
    "end": "3987900"
  },
  {
    "text": "thing that underappreciated protocol and the entire software engineering okay",
    "start": "3987900",
    "end": "3994410"
  },
  {
    "text": "nobody gives rat's ass about this protocol but it's one of the most important thing right application layer",
    "start": "3994410",
    "end": "4002060"
  },
  {
    "text": "protocol negotiation is an extension of TLS and since you're doing tier especially 1.3 which is what a share",
    "start": "4002060",
    "end": "4008890"
  },
  {
    "text": "proxy does we're doing in one round-trip versus what - and back in one - right",
    "start": "4008890",
    "end": "4015810"
  },
  {
    "text": "now someone I think Google this I think Google cranium might be wrong correct me",
    "start": "4015810",
    "end": "4022420"
  },
  {
    "text": "if I'm wrong Google said screw this I don't want to negotiate my protocol after TLS right",
    "start": "4022420",
    "end": "4031090"
  },
  {
    "text": "because that's just another just another request because they say hey HTTP upgrade WebSocket HTTP our grid h2 right",
    "start": "4031090",
    "end": "4040720"
  },
  {
    "text": "I want to go to http to upgrade me this stuff is nasty guys you do not do",
    "start": "4040720",
    "end": "4046870"
  },
  {
    "text": "another request because you'll be you will be essentially a victim could be",
    "start": "4046870",
    "end": "4053470"
  },
  {
    "text": "potentially a victim office SSL stripping right because an man-in-the-middle attack can sniff that",
    "start": "4053470",
    "end": "4060040"
  },
  {
    "text": "HTTP up a greater course and say nope right the server doesn't support HTTP 2",
    "start": "4060040",
    "end": "4066040"
  },
  {
    "text": "there and then they force the client to communicate with HTTP and then kind of",
    "start": "4066040",
    "end": "4071290"
  },
  {
    "text": "this is a kind of downgrade attack if you think about it right it will just more like a down a great effect yeah",
    "start": "4071290",
    "end": "4077110"
  },
  {
    "text": "well for it's decided it's did a downgrade attack right and also it will strip the SSL and things it's actually",
    "start": "4077110",
    "end": "4082330"
  },
  {
    "text": "both attacks yeah that's why Google said you know what what if all of this deals negotiation we",
    "start": "4082330",
    "end": "4092530"
  },
  {
    "text": "said let us do this thing during",
    "start": "4092530",
    "end": "4097830"
  },
  {
    "text": "negotiation so TLS is an extension al PN is an extension of TLS that can",
    "start": "4097830",
    "end": "4103088"
  },
  {
    "text": "negotiate protocols during handshake how powerful is this stuff guys okay",
    "start": "4103089",
    "end": "4110290"
  },
  {
    "text": "and after they OPN you can negotiate what h2 which we made a video about",
    "start": "4110290",
    "end": "4117400"
  },
  {
    "text": "because we may with you about everything software engineering because we want to become the best stuff for engineers on",
    "start": "4117400",
    "end": "4122500"
  },
  {
    "text": "the war guys okay so you can do this guy's ALP n h2 right and I want to also",
    "start": "4122500",
    "end": "4131080"
  },
  {
    "text": "support because you might want to remove this but sure you want to support HTTP",
    "start": "4131080",
    "end": "4137770"
  },
  {
    "text": "1-1 how you support both of them right and all of this will happen during TLS",
    "start": "4137770",
    "end": "4144258"
  },
  {
    "text": "negotiation for you guys a fuel confused about TLS watch the video we did on TLS right it's very over it's like a lot of people",
    "start": "4144259",
    "end": "4151190"
  },
  {
    "text": "yell at me because I don't go very deep on that video but I'm comfortable that level I go there because I'm a software",
    "start": "4151190",
    "end": "4158270"
  },
  {
    "text": "engineer I'm not good and not work engineering I don't know how the headers look like and I don't care frankly okay",
    "start": "4158270",
    "end": "4164359"
  },
  {
    "text": "I am a software engineer I need to know how many round trips happening and that's pretty much it okay if you get",
    "start": "4164359",
    "end": "4171440"
  },
  {
    "text": "the general idea and that's what matters okay all right might be wrong there let's",
    "start": "4171440",
    "end": "4176929"
  },
  {
    "text": "save this thing and let's upgrade ourselves to http e0 are we CTB to yet",
    "start": "4176929",
    "end": "4185920"
  },
  {
    "text": "are we HTTP to sir are we not touched a bit",
    "start": "4185920",
    "end": "4191179"
  },
  {
    "text": "here babe we're HTTP to son we are HTTP",
    "start": "4191179",
    "end": "4196820"
  },
  {
    "text": "to done how kulish is all the stuff guys alright go back to slide let's summarize",
    "start": "4196820",
    "end": "4203840"
  },
  {
    "text": "this time summary oh my god guys this was awesome right I'm happy I did this",
    "start": "4203840",
    "end": "4209570"
  },
  {
    "text": "video right I'm really happy right I learned a lot I'm gonna reference all the resources",
    "start": "4209570",
    "end": "4215719"
  },
  {
    "text": "all the blogs I read during this research so you get you can go stake I",
    "start": "4215719",
    "end": "4221659"
  },
  {
    "text": "credit all of that stuff right okay none of the examples are copy and paste all of the examples are mine",
    "start": "4221659",
    "end": "4226820"
  },
  {
    "text": "right all of the examples you see here are actually I wrote and I never copied anything great I read the ideas I",
    "start": "4226820",
    "end": "4233420"
  },
  {
    "text": "obviously I cannot make it off my ass right I have to read okay unless you were just kind of psychic you and just",
    "start": "4233420",
    "end": "4239630"
  },
  {
    "text": "understand how stuff works right so most of my my stuff I read it from the",
    "start": "4239630",
    "end": "4244820"
  },
  {
    "text": "documentation couple of blogs in that sec okay current and desired the",
    "start": "4244820",
    "end": "4250070"
  },
  {
    "text": "architecture right so we discussed that that's the current that's the design we",
    "start": "4250070",
    "end": "4255260"
  },
  {
    "text": "want to be you enable H a proxy as a layer seven wrote proxy the load balancer that's what we did we talked",
    "start": "4255260",
    "end": "4262100"
  },
  {
    "text": "about the shape proxy you the front-end the backends is all this configuration jazz ACLs right we made a proxy as a TC",
    "start": "4262100",
    "end": "4270800"
  },
  {
    "text": "proxy we saw how it works for full stuff we HGTV proxy later seven proxy as well we",
    "start": "4270800",
    "end": "4277610"
  },
  {
    "text": "don't know about any CLS we did we blocked the admin page like with a CL because now I can look right I can do it",
    "start": "4277610",
    "end": "4284330"
  },
  {
    "text": "if we enable TCP and we didn't SEL it will will not work because proxy a proxy",
    "start": "4284330",
    "end": "4291470"
  },
  {
    "text": "will not have access to the headers or or the geta parameters to do that for you TLS termination cheerless path",
    "start": "4291470",
    "end": "4297830"
  },
  {
    "text": "through powerful concepts guys right and finally we did in a very lengthy example",
    "start": "4297830",
    "end": "4303890"
  },
  {
    "text": "I hope you guys enjoy this share with your friends I'm gonna break this video down and go into my highlight channel if",
    "start": "4303890",
    "end": "4310460"
  },
  {
    "text": "you're interested to actually look for people who just want to learn piece of it right it's obviously not gonna watch",
    "start": "4310460",
    "end": "4316970"
  },
  {
    "text": "the whole video but if you orange that all over you thank you so much really appreciate your support give it a like",
    "start": "4316970",
    "end": "4323810"
  },
  {
    "text": "share with your friend let's make this channel reach as many people as possible so we can help change the lives from",
    "start": "4323810",
    "end": "4330980"
  },
  {
    "text": "their software GA we collectively become better software engineers so you know",
    "start": "4330980",
    "end": "4336650"
  },
  {
    "text": "the next one you guys stay awesome",
    "start": "4336650",
    "end": "4340090"
  }
]