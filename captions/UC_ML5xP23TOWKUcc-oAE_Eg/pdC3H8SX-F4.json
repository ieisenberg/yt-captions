[
  {
    "start": "0",
    "end": "76000"
  },
  {
    "text": "what is going on guys uh this is a compilation of many videos that i have recorded for the past three years",
    "start": "1040",
    "end": "8080"
  },
  {
    "text": "uh specifically to uh uh in the topic of web attacks web",
    "start": "8080",
    "end": "14639"
  },
  {
    "text": "attacks so there are many kind of attacks specifically to networking but i have compiled this video uh for you",
    "start": "14639",
    "end": "20640"
  },
  {
    "text": "guys to just kind of uh uh discuss the web sphere of attack that",
    "start": "20640",
    "end": "28480"
  },
  {
    "text": "could be uh possible in this uh era of the internet and uh it's very interesting uh",
    "start": "28480",
    "end": "34880"
  },
  {
    "text": "you might agree or disagree these are uh popular most popular or not",
    "start": "34880",
    "end": "40399"
  },
  {
    "text": "definitely these are some of the most popular web attacks there will be youtube chapters where you",
    "start": "40399",
    "end": "46480"
  },
  {
    "text": "can jump into a specific attack that you want to learn more about there are some of the videos most of",
    "start": "46480",
    "end": "52320"
  },
  {
    "text": "them have code examples of how you can and to understand better understand how these",
    "start": "52320",
    "end": "58640"
  },
  {
    "text": "attacks are carried out but this is just all for educational purposes i hope you enjoyed this video it's",
    "start": "58640",
    "end": "65518"
  },
  {
    "text": "around 1 hour 15 minutes thank you so much for for checking out this video and enjoy the content",
    "start": "65519",
    "end": "73840"
  },
  {
    "start": "76000",
    "end": "1187000"
  },
  {
    "text": "what is going on guys my name is hussein and in this video i want to discuss xss or cross side scripting",
    "start": "79200",
    "end": "86240"
  },
  {
    "text": "attacks in this video i want to describe two of three known cross side scripting",
    "start": "86240",
    "end": "94320"
  },
  {
    "text": "attack one is called the stored attack excesses stored attack and the second was called the reflected excesses",
    "start": "94320",
    "end": "100320"
  },
  {
    "text": "attacks and then there's a third one that i'm not gonna go through this video because it's my most obvious one is called the dom based",
    "start": "100320",
    "end": "107360"
  },
  {
    "text": "exercise attack where you manipulate the dome so and finally at the end of the video i'm gonna show you how you can mitigate",
    "start": "107360",
    "end": "114240"
  },
  {
    "text": "this attack by adding some headers at the server side to prevent execution of",
    "start": "114240",
    "end": "119600"
  },
  {
    "text": "scripts so how about we jump into it so might as well define",
    "start": "119600",
    "end": "124640"
  },
  {
    "text": "what xss cross site scripting is the ability for you have a legitimate website which",
    "start": "124640",
    "end": "130239"
  },
  {
    "text": "is in my case this is my product catalog website and it's a legitimate site but",
    "start": "130239",
    "end": "136480"
  },
  {
    "text": "with legitimate entries like ad or input or function search",
    "start": "136480",
    "end": "143920"
  },
  {
    "text": "attackers can inject scripts that aren't supposed to execute but they're going to",
    "start": "143920",
    "end": "149040"
  },
  {
    "text": "execute on your on your client side which will essentially cause havoc right they can",
    "start": "149040",
    "end": "157519"
  },
  {
    "text": "javascript executing on the client side that is not your code it's a bad idea it can sniff your",
    "start": "157519",
    "end": "162720"
  },
  {
    "text": "cookies and send them to the server it can cause a repeating attack right it",
    "start": "162720",
    "end": "169040"
  },
  {
    "text": "can take down the server it can take down your api rates it's a mess",
    "start": "169040",
    "end": "174239"
  },
  {
    "text": "right so we want to prevent this attack as much as possible but how about we just describe this kind of attack but let's",
    "start": "174239",
    "end": "180560"
  },
  {
    "text": "go through my beautiful server here uh i have a node.js server i'm going to share with the code with you guys but",
    "start": "180560",
    "end": "187120"
  },
  {
    "text": "what it does essentially it's a very simple thing it shows this html page and if i can add some products peach",
    "start": "187120",
    "end": "194400"
  },
  {
    "text": "and just like that i added it to the backend right and then refresh it shows you hey you added peach let's add some bata",
    "start": "194400",
    "end": "201440"
  },
  {
    "text": "right i don't know why it's called a product might as well just grocery i don't know",
    "start": "201440",
    "end": "208159"
  },
  {
    "text": "all right so legit website right there's another search function that i did where you can do",
    "start": "208159",
    "end": "214400"
  },
  {
    "text": "q you do like that search q equal i don't know uh",
    "start": "214400",
    "end": "221080"
  },
  {
    "text": "pineapple right and it says hey i cannot find product pineapple that's what it",
    "start": "221080",
    "end": "226799"
  },
  {
    "text": "does right so it it it just basically tells you what it couldn't find right",
    "start": "226799",
    "end": "232400"
  },
  {
    "text": "this seems innocent right all right so that was that seems innocent so let's talk about",
    "start": "232400",
    "end": "238560"
  },
  {
    "text": "the first kai buff attack which is xss stored attack right when i add this",
    "start": "238560",
    "end": "246640"
  },
  {
    "text": "puppy i'll be prompted to enter the name of the product and if the users",
    "start": "246640",
    "end": "253040"
  },
  {
    "text": "typed this script right an actual script tag let's say i'm going to just say alert",
    "start": "253040",
    "end": "259680"
  },
  {
    "text": "for simplicity here excess says babes right",
    "start": "259680",
    "end": "266720"
  },
  {
    "text": "and i said this this is the product right but this also is a script right",
    "start": "266720",
    "end": "272720"
  },
  {
    "text": "when you do that and i send it the server stored that entry in the database right that's i",
    "start": "272720",
    "end": "280240"
  },
  {
    "text": "don't have a database but you get the idea it's story now if i refresh the page",
    "start": "280240",
    "end": "285759"
  },
  {
    "text": "oh mama look at this the script has been executed just by",
    "start": "285759",
    "end": "291360"
  },
  {
    "text": "refreshing now you karen wreck",
    "start": "291360",
    "end": "297199"
  },
  {
    "text": "anyone who views this page immediately get this script executed and that's what happened to",
    "start": "297199",
    "end": "302560"
  },
  {
    "text": "twitter someone actually injected an xss tweet and then anyone who viewed this",
    "start": "302560",
    "end": "309360"
  },
  {
    "text": "tweet will execute the script and that script essentially",
    "start": "309360",
    "end": "314639"
  },
  {
    "text": "retweeted that same tweet by the user because it's just it's it's basically javascript right you",
    "start": "314639",
    "end": "320800"
  },
  {
    "text": "can click the button you can do everything you want with javascript right so yeah so that's the first",
    "start": "320800",
    "end": "326320"
  },
  {
    "text": "kind of attack xss stored attack why is it called store because the the attack that xss is stored at the",
    "start": "326320",
    "end": "333280"
  },
  {
    "text": "server the script is started the server and any client who consumes that actually",
    "start": "333280",
    "end": "338880"
  },
  {
    "text": "uh will execute the script so how do you mitigate that obviously you need to sanitize your your",
    "start": "338880",
    "end": "345199"
  },
  {
    "text": "input as much as possible right if i send something to server the server should clean it up",
    "start": "345199",
    "end": "350240"
  },
  {
    "text": "or get rid of any unwanted scripts even that doesn't sometimes work because",
    "start": "350240",
    "end": "355360"
  },
  {
    "text": "people are clever they they observe what's the word up suffocate up",
    "start": "355360",
    "end": "361360"
  },
  {
    "text": "suffocate observation yeah we do have suffocation to the javascript to change it to",
    "start": "361360",
    "end": "366720"
  },
  {
    "text": "include like these weird hexadecimal stuff right like like that right so yeah so that's the",
    "start": "366720",
    "end": "373360"
  },
  {
    "text": "first attack the second attack is called reflected excesses attack and that's a little bit more dangerous",
    "start": "373360",
    "end": "379600"
  },
  {
    "text": "in my opinion you know how we made this search right cue equal test right if the attacker",
    "start": "379600",
    "end": "387520"
  },
  {
    "text": "took this url and let's go to",
    "start": "387520",
    "end": "392479"
  },
  {
    "text": "example.com right i'm just going to another side assume this is the bad side right",
    "start": "392840",
    "end": "399199"
  },
  {
    "text": "and i'm just gonna edit this stuff right and i'm gonna edit the",
    "start": "399199",
    "end": "406240"
  },
  {
    "text": "html here and then to say",
    "start": "406240",
    "end": "411440"
  },
  {
    "text": "href right it says hey click here to download",
    "start": "411680",
    "end": "423360"
  },
  {
    "text": "a cpu booster because that's what ads do right oh click here to speed up",
    "start": "423360",
    "end": "429280"
  },
  {
    "text": "your computer right and and and the attacker will what he or she will do is it will say okay",
    "start": "429280",
    "end": "435520"
  },
  {
    "text": "instead of test do this alert oh let's do this test",
    "start": "435520",
    "end": "441680"
  },
  {
    "text": "it's a michelin script and now",
    "start": "442240",
    "end": "447599"
  },
  {
    "text": "boom let's copy this just in case and just like that i have now this assume this is the bad",
    "start": "448400",
    "end": "455280"
  },
  {
    "text": "website right and poor joe here says okay oh god this ad and there's",
    "start": "455280",
    "end": "461919"
  },
  {
    "text": "flashy and he's just like oh click here oh that seems this seems legit let's click and when you click it will",
    "start": "461919",
    "end": "470080"
  },
  {
    "text": "direct you to the website which is your legit website and you know it's a legit",
    "start": "470080",
    "end": "475440"
  },
  {
    "text": "website but this might be your bank of america website this might be your your twitter",
    "start": "475440",
    "end": "481919"
  },
  {
    "text": "might be anything that is legit and now he injected a script or she injected a",
    "start": "481919",
    "end": "488560"
  },
  {
    "text": "script in that legitimate website running as you if you're authenticated that script have",
    "start": "488560",
    "end": "496319"
  },
  {
    "text": "access to your cookies not none of they are http cookies right their tv only they cannot read it but",
    "start": "496319",
    "end": "504319"
  },
  {
    "text": "if if you have like local storage stuff they have access to that stuff they can read it they can send it to",
    "start": "504319",
    "end": "510400"
  },
  {
    "text": "to belize right they can send it to anywhere so yeah that's called the reflected and",
    "start": "510400",
    "end": "517680"
  },
  {
    "text": "i don't know why it's called reflected because like it's like like a matter you have like a link and it reflects",
    "start": "517680",
    "end": "523599"
  },
  {
    "text": "the website all right so that's the other attack so reflected is a url that points to the site which",
    "start": "523599",
    "end": "529839"
  },
  {
    "text": "injects scrim and that's that's the fault of both actually right that's the fault maybe of the server and",
    "start": "529839",
    "end": "537680"
  },
  {
    "text": "the fault of the client because the server actually took this input and didn't sanitize it and just really reflect it back to the client and",
    "start": "537680",
    "end": "545440"
  },
  {
    "text": "and and we printed it right here right because that's what we did right we just print whatever here and when you do that that would is",
    "start": "545440",
    "end": "552720"
  },
  {
    "text": "execute the attack that script all right how do how do i prevent this kind of attacks",
    "start": "552720",
    "end": "560399"
  },
  {
    "text": "let's go to the code guys i'll show you the code so here's my call this is the html page right",
    "start": "560399",
    "end": "565839"
  },
  {
    "text": "and uh my page have uh basically it's a html5 page this is the header this is",
    "start": "565839",
    "end": "571839"
  },
  {
    "text": "the button the ad and this is then ordered list which i show this and there is where i load my javascript",
    "start": "571839",
    "end": "579120"
  },
  {
    "text": "slash js will go to my source right uh we'll go to my index.js which will",
    "start": "579120",
    "end": "585279"
  },
  {
    "text": "load this file source.js which is this puppy that's the",
    "start": "585279",
    "end": "590480"
  },
  {
    "text": "source code right i'm gonna tell you why i didn't do it in line in a minute but",
    "start": "590480",
    "end": "595760"
  },
  {
    "text": "that's always the best idea is to always load scripts from",
    "start": "595760",
    "end": "602399"
  },
  {
    "text": "urls download don't write this i know i i i am guilty of this but",
    "start": "602399",
    "end": "608640"
  },
  {
    "text": "don't do this right because i'm going to tell you why always load it from well-known urls",
    "start": "608640",
    "end": "614320"
  },
  {
    "text": "so that the client can verify the identity of the script if you do it this way",
    "start": "614320",
    "end": "620079"
  },
  {
    "text": "then you allow pretty much anybody including you to ex",
    "start": "620079",
    "end": "625199"
  },
  {
    "text": "execute any script that that you can execute right so now",
    "start": "626000",
    "end": "633440"
  },
  {
    "text": "here is what you can do there is when you let's go through the",
    "start": "633440",
    "end": "639360"
  },
  {
    "text": "rest of the script first there is the slash which reads the",
    "start": "639360",
    "end": "644680"
  },
  {
    "text": "index.html and basically loop through all the products and then",
    "start": "644680",
    "end": "649839"
  },
  {
    "text": "reduce it and replace the says this is server-side rendering uh in a in a in a very primitive way",
    "start": "649839",
    "end": "658480"
  },
  {
    "text": "okay and then run sending back the results right and when we do that that's the product",
    "start": "658480",
    "end": "664800"
  },
  {
    "text": "that's just the api and that's the search api where we say cannot find a product that's",
    "start": "664800",
    "end": "670959"
  },
  {
    "text": "exactly what we did right when we send back the html page whether here",
    "start": "670959",
    "end": "677519"
  },
  {
    "text": "or in the search page we should assign a header and that header is",
    "start": "677519",
    "end": "684560"
  },
  {
    "text": "called content security policy or csp so that content security policy",
    "start": "684560",
    "end": "695920"
  },
  {
    "text": "so content security policy and what that hitter says",
    "start": "698480",
    "end": "706160"
  },
  {
    "text": "it has i'm gonna go through the uh the details of this header this header was",
    "start": "706160",
    "end": "712079"
  },
  {
    "text": "introduced to prevent some of the excess attack it basically was like okay for a",
    "start": "712079",
    "end": "717760"
  },
  {
    "text": "script execution please don't execute any there is something called none literally",
    "start": "717760",
    "end": "724480"
  },
  {
    "text": "says hey my website don't have any javascript i know that as",
    "start": "724480",
    "end": "730639"
  },
  {
    "text": "a server i know that what i'm going to send you doesn't have any script so don't attempt to execute any script",
    "start": "730639",
    "end": "738000"
  },
  {
    "text": "that's very good some websites don't have it just have css and html right and and they don't",
    "start": "738000",
    "end": "744160"
  },
  {
    "text": "have scripts so you might want to do that it's actually like that script dash source and then you say none right",
    "start": "744160",
    "end": "750240"
  },
  {
    "text": "this is the correct method of doing it right so that's means hey my i don't have any uh scripts",
    "start": "750240",
    "end": "758160"
  },
  {
    "text": "on my website don't attempt to actually if you if we do that none of the website our website will not",
    "start": "758160",
    "end": "763600"
  },
  {
    "text": "work obviously but there is another thing you can do where you say okay",
    "start": "763600",
    "end": "769120"
  },
  {
    "text": "my script source should only come from this source and this in case",
    "start": "769120",
    "end": "775680"
  },
  {
    "text": "in this case it's localhost right 8080 right this is the only place",
    "start": "775680",
    "end": "782399"
  },
  {
    "text": "you go to execute script don't execute any inline scripts",
    "start": "782399",
    "end": "787440"
  },
  {
    "text": "that means if someone injected a script or even like if you did that right it will not work it will",
    "start": "787440",
    "end": "794560"
  },
  {
    "text": "immediately fail that script will fail it will only attempt to execute scripts from this url",
    "start": "794560",
    "end": "803200"
  },
  {
    "text": "and that's it right and you can be fancy here like where you can put your",
    "start": "803200",
    "end": "808320"
  },
  {
    "text": "website in your script in a completely different domain right some people do that",
    "start": "808320",
    "end": "813360"
  },
  {
    "text": "for for caching reasons for or for security reasons for monitoring reasons really after i set",
    "start": "813360",
    "end": "820240"
  },
  {
    "text": "this header what will happen is only scripts coming",
    "start": "820240",
    "end": "825519"
  },
  {
    "text": "from my local host from the server from the javascript side will be executed anything else in line",
    "start": "825519",
    "end": "833519"
  },
  {
    "text": "when i say online means injected or even you if you wrote html code that is here",
    "start": "833519",
    "end": "840000"
  },
  {
    "text": "script alert that is legit you you wrote it that will fail and i'm gonna show that",
    "start": "840000",
    "end": "846800"
  },
  {
    "text": "so how about we actually execute that code and uh show you",
    "start": "846800",
    "end": "852720"
  },
  {
    "text": "what will happen refresh this puppy go back",
    "start": "852720",
    "end": "860000"
  },
  {
    "text": "awesome so now let's add hussain that's not really a problem",
    "start": "865440",
    "end": "872560"
  },
  {
    "text": "but let's add a script alert but but i don't want to add it like that",
    "start": "872560",
    "end": "878320"
  },
  {
    "text": "i want i want to open this so you can you guys can see the the errors that",
    "start": "878320",
    "end": "883680"
  },
  {
    "text": "happens here because we want to see this error so i'm going to add a script alert",
    "start": "883680",
    "end": "888800"
  },
  {
    "text": "test script when i do that",
    "start": "888800",
    "end": "893839"
  },
  {
    "text": "and i refresh the page look at this beautiful refuse to execute",
    "start": "893839",
    "end": "899120"
  },
  {
    "text": "inline skip because it violates the following content security policy directive",
    "start": "899120",
    "end": "904160"
  },
  {
    "text": "this is my directive script source only execute from localhost which we saw right it did execute",
    "start": "904160",
    "end": "911839"
  },
  {
    "text": "scripts from us the prompt the adding the fetch command all of that stuff actually worked right",
    "start": "911839",
    "end": "918399"
  },
  {
    "text": "so if you want to execute this use unsafe inline right but bad idea do not use",
    "start": "918399",
    "end": "925199"
  },
  {
    "text": "that okay you can use a hash of the script itself by the way",
    "start": "925199",
    "end": "931360"
  },
  {
    "text": "right if you want to execute it you can just use a hash of the script",
    "start": "931360",
    "end": "936480"
  },
  {
    "text": "or or hash the script and put it in the server so that only that script get executed right",
    "start": "936480",
    "end": "942639"
  },
  {
    "text": "it says okay that particular script is okay right so you can do so many things i'm gonna go",
    "start": "942639",
    "end": "947920"
  },
  {
    "text": "through them but let's finish this up so i can also do this right",
    "start": "947920",
    "end": "953360"
  },
  {
    "text": "boom doesn't work doesn't work same error same error",
    "start": "953360",
    "end": "959839"
  },
  {
    "text": "right and if we look at the network and now let's just search",
    "start": "959839",
    "end": "966800"
  },
  {
    "text": "we look at the response header that's that beautiful new puppy that we just added content security policy browsers",
    "start": "967680",
    "end": "975519"
  },
  {
    "text": "have this code to respect that has nothing to do with the server the server just is a just tells the browser to respect",
    "start": "975519",
    "end": "982399"
  },
  {
    "text": "it but browsers that's where building browsers is hard man this is like you have to know all that",
    "start": "982399",
    "end": "989199"
  },
  {
    "text": "stuff right so yeah content security policy that's",
    "start": "989199",
    "end": "995040"
  },
  {
    "text": "essentially one example let's go through the other examples here i'm going to show you",
    "start": "995040",
    "end": "1001680"
  },
  {
    "text": "look at this stuff this is the page uh content security policy you can do just script dash source and",
    "start": "1001680",
    "end": "1008000"
  },
  {
    "text": "you can add multiple sources like let's say hey hussein my script has actually lived in multiple places",
    "start": "1008000",
    "end": "1014399"
  },
  {
    "text": "it lives here lives here lives here right on these domains sorry no problem you can",
    "start": "1014399",
    "end": "1019759"
  },
  {
    "text": "just add multiple domains uh i think you can use a wild card",
    "start": "1019759",
    "end": "1025520"
  },
  {
    "text": "but only in certain sub-domains right ports all that stuff you can use self that",
    "start": "1025520",
    "end": "1031280"
  },
  {
    "text": "means hey only stuff from me as a domain uh prevent unsafe evals hashes in line",
    "start": "1031280",
    "end": "1039438"
  },
  {
    "text": "none like if you if you don't have scratch just it's like boop no if we replace this to none our",
    "start": "1039439",
    "end": "1046959"
  },
  {
    "text": "website will break right how about actually show that we're just a little bit [Music]",
    "start": "1046959",
    "end": "1052640"
  },
  {
    "text": "adventurous so i'm gonna comment this out code for you guys so you can see it you",
    "start": "1052640",
    "end": "1060160"
  },
  {
    "text": "can uncomment it back but what i'm gonna do here is do this none",
    "start": "1060160",
    "end": "1067840"
  },
  {
    "text": "right and then we go to the this puppy",
    "start": "1067840",
    "end": "1073120"
  },
  {
    "text": "and then do that none awesome let's ren node.js",
    "start": "1073760",
    "end": "1082240"
  },
  {
    "text": "let's do this now the xss will not work and our code will",
    "start": "1083120",
    "end": "1089600"
  },
  {
    "text": "not work look at this nothing works that is awesome you can add products you",
    "start": "1089600",
    "end": "1096480"
  },
  {
    "text": "cannot search you cannot do anything this is a completely",
    "start": "1096480",
    "end": "1102640"
  },
  {
    "text": "blocked site you see refuse to load script even our decent script was",
    "start": "1102640",
    "end": "1110640"
  },
  {
    "text": "refused to god load right because the security says like no it says no you didn't set any of that",
    "start": "1110640",
    "end": "1117280"
  },
  {
    "text": "stuff right all right guys that's it for me xss cross-site scripting attacks",
    "start": "1117280",
    "end": "1123520"
  },
  {
    "text": "and how to prevent them right uh i'm gonna see you in the next one what should i talk about next uh",
    "start": "1123520",
    "end": "1131039"
  },
  {
    "text": "comment below in the comment section check out the other content of this channel most of my videos are actually back in engineering this is kind of back",
    "start": "1131039",
    "end": "1137440"
  },
  {
    "text": "indy but it's also front endy but it's back indy because we are here right and we need to know",
    "start": "1137440",
    "end": "1145280"
  },
  {
    "text": "how our web servers behave right that's why i prefer to to play with like",
    "start": "1145280",
    "end": "1151280"
  },
  {
    "text": "low-level frameworks like like express right that allows you to kind of",
    "start": "1151280",
    "end": "1157600"
  },
  {
    "text": "tweak these things right with iis you have to go through like internet",
    "start": "1157760",
    "end": "1163360"
  },
  {
    "text": "information services the microsoft one that's the first web server that's the second web server i worked with",
    "start": "1163360",
    "end": "1169120"
  },
  {
    "text": "right after apache right it's just it's just hidden this these options are",
    "start": "1169120",
    "end": "1174160"
  },
  {
    "text": "hidden in a ui which i don't like all right so let's let's set this back so we can push the",
    "start": "1174160",
    "end": "1180320"
  },
  {
    "text": "code and um the code will be available uh below guys for you and uh",
    "start": "1180320",
    "end": "1186640"
  },
  {
    "text": "i'm gonna see you on the next one you guys stay awesome goodbye",
    "start": "1186640",
    "end": "1191840"
  },
  {
    "start": "1187000",
    "end": "1450000"
  },
  {
    "text": "is going on guys my name is hussein and in this video i want to discuss the difference between",
    "start": "1191840",
    "end": "1197120"
  },
  {
    "text": "cross site request forgery and server side request forgery uh how about we",
    "start": "1197120",
    "end": "1203520"
  },
  {
    "text": "jump into it guys so i'm going to start with cross site request forgery so think about this way",
    "start": "1203520",
    "end": "1211360"
  },
  {
    "text": "guys cross site request for forgery happens usually at the client side",
    "start": "1211360",
    "end": "1216720"
  },
  {
    "text": "the forgery happened at the client side all right so that's how i remember it right and what we do",
    "start": "1216720",
    "end": "1223679"
  },
  {
    "text": "is assume we have an application here this is the browser and we're kind of authenticated to my",
    "start": "1223679",
    "end": "1230799"
  },
  {
    "text": "website let's say uh example.com",
    "start": "1230799",
    "end": "1235840"
  },
  {
    "text": "i'm already authenticated and this is example.com right",
    "start": "1235840",
    "end": "1240799"
  },
  {
    "text": "i'm already authenticated and i have let's say i have a cookie here that has this authentication right and",
    "start": "1241360",
    "end": "1249600"
  },
  {
    "text": "let's assume it's not same site cookie because that actually solves the problem right but",
    "start": "1249600",
    "end": "1255200"
  },
  {
    "text": "yeah i have this uh uh this cookie that essentially authenticate me so if i'm if i'm if i",
    "start": "1255200",
    "end": "1261760"
  },
  {
    "text": "click a button says get i don't know orders right i'm going to make a request",
    "start": "1261760",
    "end": "1267120"
  },
  {
    "text": "and since the http protocol is stateless it's going to send all the time it's going to send the",
    "start": "1267120",
    "end": "1272159"
  },
  {
    "text": "cookie header right i'm going to send the cookie here and that's how the server actually recognized me",
    "start": "1272159",
    "end": "1278640"
  },
  {
    "text": "the cross site request forgery is the ability of a completely different site here",
    "start": "1278640",
    "end": "1286360"
  },
  {
    "text": "evil.com right having the ability to send a request",
    "start": "1286360",
    "end": "1292960"
  },
  {
    "text": "on your behalf while sending also the cookie right so somehow",
    "start": "1292960",
    "end": "1301360"
  },
  {
    "text": "this website which is the dot com manage to god get your cookie",
    "start": "1301360",
    "end": "1306559"
  },
  {
    "text": "and when it does that you can the site can actually make requests on your behalf",
    "start": "1306559",
    "end": "1311919"
  },
  {
    "text": "right so this could happen even by even just clicking a link going to that web page",
    "start": "1311919",
    "end": "1318159"
  },
  {
    "text": "and that website when it makes a request to example.com if the browser was dumb enough",
    "start": "1318159",
    "end": "1326400"
  },
  {
    "text": "to send that cookie and we know cases where this is actually possible right we need for example if the same",
    "start": "1326400",
    "end": "1332720"
  },
  {
    "text": "site cookie is none then we always gonna send that cookie right we talked about same site go check",
    "start": "1332720",
    "end": "1338799"
  },
  {
    "text": "that video out right here but yeah say cross side request forger can happen",
    "start": "1338799",
    "end": "1344880"
  },
  {
    "text": "as a result this is one example another example is xss right a cross-site scripting is that how",
    "start": "1344880",
    "end": "1352480"
  },
  {
    "text": "you spell yes cross cycle scripting right so i am this is even more dangerous right",
    "start": "1352480",
    "end": "1357600"
  },
  {
    "text": "so chris such scripting can allow the user to inject code into your application",
    "start": "1357600",
    "end": "1366640"
  },
  {
    "text": "right and when you when i as a bad actor i inject code into the application i can make",
    "start": "1366640",
    "end": "1373440"
  },
  {
    "text": "requests on your behalf in the application and even the same site property for the",
    "start": "1373440",
    "end": "1380799"
  },
  {
    "text": "cookie will not protect you this cross-site reque scripting is the worst right that's why we have to sanitize",
    "start": "1380799",
    "end": "1386000"
  },
  {
    "text": "input you have to do all that stuff here right so yeah crosstalk scripting or that",
    "start": "1386000",
    "end": "1391039"
  },
  {
    "text": "can lead to cross-site request forgery so the attacker is forging a request so",
    "start": "1391039",
    "end": "1397919"
  },
  {
    "text": "technically you didn't make that request right this request is evil but someone else made that request",
    "start": "1397919",
    "end": "1405440"
  },
  {
    "text": "on you on your behalf they forged the request and it happened completely at the client side that's how",
    "start": "1405440",
    "end": "1412640"
  },
  {
    "text": "i remember cross site requests forgery so it's a cross site well it can happen in the same site as",
    "start": "1412640",
    "end": "1419760"
  },
  {
    "text": "well if you injected some xss and you sent some results here and and posted the",
    "start": "1419760",
    "end": "1425039"
  },
  {
    "text": "output somewhere else you might say what what's wrong with making a get request to get an order well this site can get the request",
    "start": "1425039",
    "end": "1431600"
  },
  {
    "text": "and display the orders in their website and then save it to desk right and then uh not really save to this",
    "start": "1431600",
    "end": "1438320"
  },
  {
    "text": "because it's your desk right but yes save it can have the information",
    "start": "1438320",
    "end": "1443440"
  },
  {
    "text": "locally and then upload it later to their evil dot com website all right guys so that was the cross side request",
    "start": "1443440",
    "end": "1449919"
  },
  {
    "text": "for julie real quick server side request forgery is is one of those names that i believe",
    "start": "1449919",
    "end": "1457200"
  },
  {
    "start": "1450000",
    "end": "1930000"
  },
  {
    "text": "they are given name for the sake of just having a name to be honest i i don't think they deserve a name but",
    "start": "1457200",
    "end": "1464159"
  },
  {
    "text": "sure since we name everything on the web let's let's name this attack too so server side request forgery",
    "start": "1464159",
    "end": "1470400"
  },
  {
    "text": "is the ability of the forgery is happening on the server",
    "start": "1470400",
    "end": "1476159"
  },
  {
    "text": "side so let's let's explain what that means so let's assume you are a client here not",
    "start": "1476159",
    "end": "1482080"
  },
  {
    "text": "necessarily a web server or a browser it's just a client and we're making a request",
    "start": "1482080",
    "end": "1489679"
  },
  {
    "text": "and the api here that api that you make a request to",
    "start": "1489679",
    "end": "1495840"
  },
  {
    "text": "actually the servers is designed to make another api to other servers right let's say this is another server",
    "start": "1495840",
    "end": "1502720"
  },
  {
    "text": "all right so this is the api let's this is not a database right let's say this is another",
    "start": "1502720",
    "end": "1508640"
  },
  {
    "text": "api server that happens to i don't know check the prices or",
    "start": "1508640",
    "end": "1515120"
  },
  {
    "text": "something right so that to make this get request successful the server take that get",
    "start": "1515120",
    "end": "1521279"
  },
  {
    "text": "request and makes another call to another api this is how microservices does all the job most of the time",
    "start": "1521279",
    "end": "1527840"
  },
  {
    "text": "some implementation if if you have implemented this in a way such that you actually specify",
    "start": "1527840",
    "end": "1535760"
  },
  {
    "text": "the api the backend api as part of your body or part of the url",
    "start": "1535760",
    "end": "1543039"
  },
  {
    "text": "even get request or post requests let's say let's say this says",
    "start": "1543039",
    "end": "1548158"
  },
  {
    "text": "http at price.com",
    "start": "1548520",
    "end": "1556320"
  },
  {
    "text": "right this is the api whatever api.price.com and this is the the server of the price",
    "start": "1556320",
    "end": "1565120"
  },
  {
    "text": "dot com api right that's the server so what you do is like hey i'm gonna i",
    "start": "1565120",
    "end": "1570799"
  },
  {
    "text": "want all the products right and here's the api for the price",
    "start": "1570799",
    "end": "1578240"
  },
  {
    "text": "right i have no idea why would you do something like that that's bad practice in general but some",
    "start": "1578240",
    "end": "1585840"
  },
  {
    "text": "apis does that right they actually me for flexibility reason you you can",
    "start": "1585840",
    "end": "1591279"
  },
  {
    "text": "specify your own api if you want to what api endpoint you want to use",
    "start": "1591279",
    "end": "1596799"
  },
  {
    "text": "if you want to do that never actually specify the url that's the problem and we're going to explain why in a second so",
    "start": "1596799",
    "end": "1603200"
  },
  {
    "text": "what happened here i'm making a list all the products and the server will say okay i have the",
    "start": "1603200",
    "end": "1608240"
  },
  {
    "text": "products right here because i'm local database but to get the prices of the product i need to call in",
    "start": "1608240",
    "end": "1614080"
  },
  {
    "text": "the price.api product get that result",
    "start": "1614080",
    "end": "1619120"
  },
  {
    "text": "cache the result and then response with everything to the client so what's wrong",
    "start": "1619120",
    "end": "1624559"
  },
  {
    "text": "with this hussein so here's here's the problem right since you gave me a big hole",
    "start": "1624559",
    "end": "1632559"
  },
  {
    "text": "right here i can specify anything right here right i can specify",
    "start": "1632559",
    "end": "1640000"
  },
  {
    "text": "http i want you to go i want you to make a call to localhost",
    "start": "1640000",
    "end": "1648080"
  },
  {
    "text": "slash admin right or 12700 admin and",
    "start": "1648080",
    "end": "1654480"
  },
  {
    "text": "what the heck is localhost if you make a quest localhost right here it's going to fail because you don't",
    "start": "1654480",
    "end": "1660320"
  },
  {
    "text": "have anything running right however if you do like slash admin localhost admin and",
    "start": "1660320",
    "end": "1666240"
  },
  {
    "text": "guess what the server happened to have and a web server running and it's running",
    "start": "1666240",
    "end": "1672480"
  },
  {
    "text": "localhost admin endpoint",
    "start": "1672480",
    "end": "1676880"
  },
  {
    "text": "guess what the server will make a request to itself right as admin and who is better to be",
    "start": "1677919",
    "end": "1685440"
  },
  {
    "text": "trusted than the server itself so it's going to make a request to the admin if that admin endpoint exists and guess what it's",
    "start": "1685440",
    "end": "1693039"
  },
  {
    "text": "going to return all the content right because you don't have to log in because your admin you're literally in",
    "start": "1693039",
    "end": "1698880"
  },
  {
    "text": "the admin space right that's one way of doing so so what happened here the server is",
    "start": "1698880",
    "end": "1704080"
  },
  {
    "text": "doing the forgery right this it's a server side forgery request forgery so",
    "start": "1704080",
    "end": "1709440"
  },
  {
    "text": "we're making a legit request as far as we are concerned right however the server",
    "start": "1709440",
    "end": "1716480"
  },
  {
    "text": "is making that forgery right the forgery happening in the server side right it's it's purely a bug at the server side",
    "start": "1716480",
    "end": "1725200"
  },
  {
    "text": "right because we're allowing that so another thing we can do is i can",
    "start": "1725200",
    "end": "1730320"
  },
  {
    "text": "for example allow http slash what",
    "start": "1730320",
    "end": "1735919"
  },
  {
    "text": "another website or server that only the server have access to",
    "start": "1736000",
    "end": "1741200"
  },
  {
    "text": "right i don't know some other services here that is private to this resource right",
    "start": "1741200",
    "end": "1747360"
  },
  {
    "text": "and you can just make a request and pull that information ftp perhaps right pull an ftp service",
    "start": "1747360",
    "end": "1753840"
  },
  {
    "text": "and pull some local resources if there is an ftp service running around so you can make requests on behalf of",
    "start": "1753840",
    "end": "1760080"
  },
  {
    "text": "the server and that's extremely dangerous you can go all the way and if you good obviously you're going",
    "start": "1760080",
    "end": "1765919"
  },
  {
    "text": "to get the admin result or get the ftp results you can go all the way also and make a",
    "start": "1765919",
    "end": "1771520"
  },
  {
    "text": "ddos attacks if you own many of these requests",
    "start": "1771520",
    "end": "1776880"
  },
  {
    "text": "you can you can essentially ddos a poor slop",
    "start": "1776880",
    "end": "1783120"
  },
  {
    "text": "right here a server that is just completely normal and make a request so that the server makes",
    "start": "1783120",
    "end": "1789919"
  },
  {
    "text": "that request to the ser to that uh third party service that you want to",
    "start": "1789919",
    "end": "1795200"
  },
  {
    "text": "take down instead of you so that's another way where server side request forgery",
    "start": "1795200",
    "end": "1801039"
  },
  {
    "text": "also uh can take effect right so in a shortcut summary all right so quick",
    "start": "1801039",
    "end": "1808159"
  },
  {
    "text": "summary guys cross site request for jury the forgery happening at the client side you are as as an as a bad",
    "start": "1808159",
    "end": "1815440"
  },
  {
    "text": "user you are making you are hijacking an authenticated user an",
    "start": "1815440",
    "end": "1821919"
  },
  {
    "text": "already authenticated user request and making a request on on their behalf so you're",
    "start": "1821919",
    "end": "1827039"
  },
  {
    "text": "making it a cross site at a client side right the server side you are just a normal",
    "start": "1827039",
    "end": "1833600"
  },
  {
    "text": "you are the bad guy and you are connecting to the server as the bad guy right and you are making a request",
    "start": "1833600",
    "end": "1841600"
  },
  {
    "text": "and forging the request at the server side right so you don't really the server side request forgery is more",
    "start": "1841600",
    "end": "1847039"
  },
  {
    "text": "dangerous because you don't really care about cookies or anything you don't need anyone authenticated you can do it",
    "start": "1847039",
    "end": "1853840"
  },
  {
    "text": "yourself as a bad user as a bad hacker right you can just hit the server",
    "start": "1853840",
    "end": "1859120"
  },
  {
    "text": "immediately and just do the bad stuff immediately with the crosstalk request forger you know you're hijacking an existing user",
    "start": "1859120",
    "end": "1866080"
  },
  {
    "text": "and login right you're sending a user someone and says hey user go ahead and uh click",
    "start": "1866080",
    "end": "1872640"
  },
  {
    "text": "on this link in emails right for example and and this way they you can do a cross-site request forgery",
    "start": "1872640",
    "end": "1877919"
  },
  {
    "text": "well the server side is like so back in engineers guys you have to watch out for this",
    "start": "1877919",
    "end": "1883679"
  },
  {
    "text": "front-end engineers you have to watch us for this right this is for back-end engineers this is for front-end engineers right so",
    "start": "1883679",
    "end": "1890559"
  },
  {
    "text": "back-engineers make good apis don't never never let the client specify a url",
    "start": "1890559",
    "end": "1896960"
  },
  {
    "text": "always specify i don't know some sort of a lookup right it says okay the pro price api and",
    "start": "1896960",
    "end": "1903120"
  },
  {
    "text": "then look it up at the back end if it's not supported return an error never allow your apis to expose uh",
    "start": "1903120",
    "end": "1910960"
  },
  {
    "text": "essentially just plain urls all of th just like that plain sir so yeah",
    "start": "1910960",
    "end": "1917600"
  },
  {
    "text": "so server side versus client side guys hope you enjoyed this video very quick i'm gonna see on the next one you guys",
    "start": "1917600",
    "end": "1924000"
  },
  {
    "text": "stay awesome goodbye check out the other content in this channel i appreciate all the love and subscription guys",
    "start": "1924000",
    "end": "1930640"
  },
  {
    "start": "1930000",
    "end": "2553000"
  },
  {
    "text": "goodbye stay awesome sql injection is a type of an attack",
    "start": "1930640",
    "end": "1937039"
  },
  {
    "text": "where an attacker can compromise a back end database this is usually done by using",
    "start": "1937039",
    "end": "1943279"
  },
  {
    "text": "application input simple application input to sneak in malicious code which can",
    "start": "1943279",
    "end": "1950559"
  },
  {
    "text": "alter the back in sql 2 one do damage like drop a",
    "start": "1950559",
    "end": "1957360"
  },
  {
    "text": "table or insert bad data two it could be used to retrieve",
    "start": "1957360",
    "end": "1964559"
  },
  {
    "text": "more information than the original query was intended to do the third one",
    "start": "1964559",
    "end": "1971279"
  },
  {
    "text": "is to just overload the database and do bad things right in this video we will learn and we",
    "start": "1971279",
    "end": "1978320"
  },
  {
    "text": "will demonstrate how one can execute a sql injection and uh we will go through",
    "start": "1978320",
    "end": "1986000"
  },
  {
    "text": "three points i'm gonna talk about a sql injection example then we're going to show you",
    "start": "1986000",
    "end": "1991120"
  },
  {
    "text": "actual code of how this actually happened using express and postgres and",
    "start": "1991120",
    "end": "1997519"
  },
  {
    "text": "finally we'll go through how can you prevent sql injection attack this is",
    "start": "1997519",
    "end": "2003519"
  },
  {
    "text": "coming up what's up y'all this is hussein nasser from igeometry where we discuss software engineering",
    "start": "2003519",
    "end": "2008640"
  },
  {
    "text": "by example if you're new here welcome my name is hussein and in this channel we discuss all kind",
    "start": "2008640",
    "end": "2014399"
  },
  {
    "text": "of software engineering uh content and videos by example so",
    "start": "2014399",
    "end": "2019840"
  },
  {
    "text": "if you're interested to become a better software engineer consider subscribing with that said let's just jump into the video so the first thing we're going to",
    "start": "2019840",
    "end": "2025279"
  },
  {
    "text": "talk about here is an actual sql injection example and here i have an api which retrieves",
    "start": "2025279",
    "end": "2033760"
  },
  {
    "text": "it looks like a very simple api okay which literally takes an id",
    "start": "2033760",
    "end": "2040240"
  },
  {
    "text": "queries the database at the back and and then retr retrieve to me the details of that",
    "start": "2040240",
    "end": "2047279"
  },
  {
    "text": "person okay so it's like it's a profile id essentially so you give me an id",
    "start": "2047279",
    "end": "2052638"
  },
  {
    "text": "i'll give you the information right so id number nine is harper id number 10 is amelia",
    "start": "2052639",
    "end": "2060560"
  },
  {
    "text": "okay and so on so that is the scope of the api it wasn't intended to do anything else",
    "start": "2060560",
    "end": "2067200"
  },
  {
    "text": "so one might if if you really understand how sql works you will imagine that there is",
    "start": "2067200",
    "end": "2075358"
  },
  {
    "text": "a where clause at the back and where id equal 10 right so something at the back end is",
    "start": "2075359",
    "end": "2081839"
  },
  {
    "text": "querying a database so what do you what if if you really",
    "start": "2081839",
    "end": "2086960"
  },
  {
    "text": "no basic sql what you can do is malform the query in order",
    "start": "2086960",
    "end": "2094638"
  },
  {
    "text": "to retrieve more information so what you would do is say okay id is equal 10",
    "start": "2094639",
    "end": "2102720"
  },
  {
    "text": "or 1 is equal one so basic discrete mathematics tells us",
    "start": "2102720",
    "end": "2108640"
  },
  {
    "text": "like if you're using or that means if this condition is true or this condition is true the",
    "start": "2108640",
    "end": "2116480"
  },
  {
    "text": "statement is true that means for every row in the database this statement will always be true",
    "start": "2116480",
    "end": "2123440"
  },
  {
    "text": "because one is always equal to one right and what will happen is",
    "start": "2123440",
    "end": "2129359"
  },
  {
    "text": "i just got all the profiles in this database",
    "start": "2129359",
    "end": "2134720"
  },
  {
    "text": "you just you just literally stole everything and a lot of databases has been compromised by",
    "start": "2134720",
    "end": "2140960"
  },
  {
    "text": "literally just using that okay so how does this work guys so let's just jump",
    "start": "2140960",
    "end": "2147200"
  },
  {
    "text": "into point two where we actually show you the code and uh just describe how this happens all right",
    "start": "2147200",
    "end": "2153119"
  },
  {
    "text": "guys so this is the code that allows us to basically connect to a poster's database",
    "start": "2153119",
    "end": "2158240"
  },
  {
    "text": "from express and from node.js essentially and then make a query and then return",
    "start": "2158240",
    "end": "2163520"
  },
  {
    "text": "back a result so we have made a a very popular video called javascript",
    "start": "2163520",
    "end": "2168880"
  },
  {
    "text": "and postgres i'm going to reference the video there so you can learn about that so i'm not going to go through the code",
    "start": "2168880",
    "end": "2174400"
  },
  {
    "text": "here but in general you you would specify the at the back end here you will connect to the database",
    "start": "2174400",
    "end": "2181520"
  },
  {
    "text": "and then you will receive a get request which is our profile api here and then what we're going to do",
    "start": "2181520",
    "end": "2187599"
  },
  {
    "text": "here receive the id that's the property this one in",
    "start": "2187599",
    "end": "2193440"
  },
  {
    "text": "particular give me the value of the id which is 10 in this case and then store it in this uh const and",
    "start": "2193440",
    "end": "2201520"
  },
  {
    "text": "then make a query and this is the query select star from profile where id is equal literally equals this and",
    "start": "2201520",
    "end": "2209119"
  },
  {
    "text": "that's the bad query here that we have made because we have made this into a string",
    "start": "2209119",
    "end": "2215200"
  },
  {
    "text": "what happened here is when when you do a basically a safe number let's let's say let's put a",
    "start": "2215200",
    "end": "2223040"
  },
  {
    "text": "breakpoint here so i can show you guys what's going on here if if i literally execute that i will",
    "start": "2223040",
    "end": "2229119"
  },
  {
    "text": "basically got a breakpoint here id will be 10 as you can see and this query will",
    "start": "2229119",
    "end": "2236880"
  },
  {
    "text": "replace will be replaced with 10 right so id will be equal to 10",
    "start": "2236880",
    "end": "2242240"
  },
  {
    "text": "execute that thing return the headers and you can see there's one row only",
    "start": "2242240",
    "end": "2247680"
  },
  {
    "text": "okay because obviously it's a primary key so there is one id but what what what",
    "start": "2247680",
    "end": "2254079"
  },
  {
    "text": "an attacker will do is basically hold the or one equal one or just two equal to",
    "start": "2254079",
    "end": "2260400"
  },
  {
    "text": "literally any statement that is always true if you do that come back here and guess",
    "start": "2260400",
    "end": "2266240"
  },
  {
    "text": "what that's the bad thing here guys id is now look at what id is id is equal 10 or 2",
    "start": "2266240",
    "end": "2273760"
  },
  {
    "text": "equal to so you injected that where close into your statement and that became",
    "start": "2273760",
    "end": "2282160"
  },
  {
    "text": "essentially an entire become part of the equator which is the worst thing you can do guys",
    "start": "2282160",
    "end": "2288400"
  },
  {
    "text": "so what happens here is like okay i'm gonna execute that but guess what results now is thousand",
    "start": "2288400",
    "end": "2297359"
  },
  {
    "text": "rose because i think i have thousand roles in this database right and then i've essentially returned",
    "start": "2297359",
    "end": "2303119"
  },
  {
    "text": "everything [Music] to that client look at that violet",
    "start": "2303119",
    "end": "2309119"
  },
  {
    "text": "mila we got them all we got all their email addresses all of them living in california for",
    "start": "2309119",
    "end": "2314880"
  },
  {
    "text": "some reason because i was just lazy i didn't want to pull different states when i just",
    "start": "2314880",
    "end": "2320240"
  },
  {
    "text": "mileformed this sequel all right port point number three guys point number three how can i protect myself against it so so",
    "start": "2320240",
    "end": "2328160"
  },
  {
    "text": "there are many ways to fix this right guys obviously that's the bad thing here right there",
    "start": "2328160",
    "end": "2334480"
  },
  {
    "text": "you just don't take input from the web and then just shove it into a sequel",
    "start": "2334480",
    "end": "2340320"
  },
  {
    "text": "never you have to sanitize it check that id must be a number that's one solution check that id",
    "start": "2340320",
    "end": "2346880"
  },
  {
    "text": "doesn't have it's not longer than blah right check that if it's a string it becomes more",
    "start": "2346880",
    "end": "2353440"
  },
  {
    "text": "problematic right but id is in case of id it's number it's like easy to check if it's numbered just have to be a number",
    "start": "2353440",
    "end": "2359920"
  },
  {
    "text": "that's one check and the best solution is the client that you're using whether in case i'm using a pg in",
    "start": "2359920",
    "end": "2369040"
  },
  {
    "text": "the nodejs library and they give you this guy i think his name brian and he",
    "start": "2369040",
    "end": "2375040"
  },
  {
    "text": "actually sanitized his um your input for you so you don't have to worry about any of that stuff and to do",
    "start": "2375040",
    "end": "2380640"
  },
  {
    "text": "that is don't do that and instead of just shoving the id here what you do is",
    "start": "2380640",
    "end": "2387040"
  },
  {
    "text": "you put a parameter wait i think it's like that so parameter number one problem number",
    "start": "2387040",
    "end": "2392880"
  },
  {
    "text": "two you can put as many parameter as you want in this string but you add a parameter here is",
    "start": "2392880",
    "end": "2399280"
  },
  {
    "text": "the query takes another function and that's an array of parameters and then put your id here that's what",
    "start": "2399280",
    "end": "2405440"
  },
  {
    "text": "you do here now what happens here is they will",
    "start": "2405440",
    "end": "2410480"
  },
  {
    "text": "he will take that sequel take all that and he will sanitize make sure the id is actually number and",
    "start": "2410480",
    "end": "2416240"
  },
  {
    "text": "actually he might actually query the sukima and see what's the type of this",
    "start": "2416240",
    "end": "2421440"
  },
  {
    "text": "field and accordingly do stuff with it all right guys so we have restarted the server now this is my new code what i will do",
    "start": "2421440",
    "end": "2429280"
  },
  {
    "text": "is just i'm gonna do the normal okay give me just nine make sure the query executes",
    "start": "2429280",
    "end": "2434880"
  },
  {
    "text": "right and that actually executes give me harper okay now let's try to sneak in uh",
    "start": "2434880",
    "end": "2441119"
  },
  {
    "text": "as a sql injection here okay and that's what i'm gonna do then enter comes back here what are we",
    "start": "2441119",
    "end": "2448480"
  },
  {
    "text": "gonna do id is actually nine or three equal three but if i do that what gonna do we caught it we got",
    "start": "2448480",
    "end": "2456560"
  },
  {
    "text": "an error guys invalid input syntax for integers so so brian here actually found that id is",
    "start": "2456560",
    "end": "2464400"
  },
  {
    "text": "supposed to be an integer but you guys passed me a string so he failed okay",
    "start": "2464400",
    "end": "2470480"
  },
  {
    "text": "and you're gonna do all kind of sanitizing if it's a string especially if it's a name if it's it's",
    "start": "2470480",
    "end": "2476000"
  },
  {
    "text": "like a name or string then it's gonna become really challenging so you really need to be careful that and just like that we're protected now",
    "start": "2476000",
    "end": "2483280"
  },
  {
    "text": "guys all right guys so what do we have learned today what have we learned we have learned about",
    "start": "2483280",
    "end": "2489040"
  },
  {
    "text": "the sql injection what is this definition means right so either you can destroy the database right uh",
    "start": "2489040",
    "end": "2496000"
  },
  {
    "text": "retrieve more information that you intended to or or actually just overload the database and in this",
    "start": "2496000",
    "end": "2502640"
  },
  {
    "text": "case literally guys if if you do one equal one you're essentially doing a full table",
    "start": "2502640",
    "end": "2508800"
  },
  {
    "text": "scan on the database do a couple of those couple of hundreds of those your database is done right so anyone",
    "start": "2508800",
    "end": "2516000"
  },
  {
    "text": "can literally take down the database by executing these queries because if i have now i have like a thousand",
    "start": "2516000",
    "end": "2522000"
  },
  {
    "text": "rows but if you have 100 000 million rows then definitely the database is going",
    "start": "2522000",
    "end": "2527680"
  },
  {
    "text": "down by simple like simple and sql injections it doesn't have to return this",
    "start": "2527680",
    "end": "2533440"
  },
  {
    "text": "information as long as it's the query is chugging at the back end that can be really harmful all right so",
    "start": "2533440",
    "end": "2540319"
  },
  {
    "text": "we learned about that we learned how to actually do a sql injection and code right and we also learn how to prevent",
    "start": "2540319",
    "end": "2547599"
  },
  {
    "text": "it alright guys if you like this video give it a like subscribe if you for more software engineering content and like that",
    "start": "2547599",
    "end": "2553920"
  },
  {
    "start": "2553000",
    "end": "3190000"
  },
  {
    "text": "and i'm going to see you in the next one you guys stay awesome mime snapping or content also known as",
    "start": "2553920",
    "end": "2560079"
  },
  {
    "text": "content sniffing is an approach done by the uh browser in order to identify",
    "start": "2560079",
    "end": "2568720"
  },
  {
    "text": "what kind of content it's being served right so if you make a request to a server",
    "start": "2568720",
    "end": "2574000"
  },
  {
    "text": "and the browser make a request to a server like you're downloading an image or you're done in html file or text or css or",
    "start": "2574000",
    "end": "2582079"
  },
  {
    "text": "whatever file you're downloading right it usually the server the web server",
    "start": "2582079",
    "end": "2588480"
  },
  {
    "text": "usually returns some metadata about this content that is",
    "start": "2588480",
    "end": "2593839"
  },
  {
    "text": "down as being sent right uh hey this is an html hey this is a jipping hey this is",
    "start": "2593839",
    "end": "2599599"
  },
  {
    "text": "uh i don't know an application extension all right so that's the m-i-m-e",
    "start": "2599599",
    "end": "2607440"
  },
  {
    "text": "which is the multi-purpose internet mail exchange terrible name right",
    "start": "2607440",
    "end": "2614079"
  },
  {
    "text": "but uh so the browser relies on this content type",
    "start": "2614079",
    "end": "2621200"
  },
  {
    "text": "in order to see hey oh i'm getting an image let me preview this",
    "start": "2621200",
    "end": "2626960"
  },
  {
    "text": "image right a browser does that oh this is an html file let me render that html file",
    "start": "2626960",
    "end": "2634720"
  },
  {
    "text": "and there's code javascript code i'm going to go ahead and execute it oh this is an xml do this oh this is",
    "start": "2634720",
    "end": "2642400"
  },
  {
    "text": "json do this oh this is just a binary file exe let me actually download",
    "start": "2642400",
    "end": "2647599"
  },
  {
    "text": "it so based on the content type it knows what to do right and we will go through that some",
    "start": "2647599",
    "end": "2653920"
  },
  {
    "text": "examples here right the mime sniffing or or content sniffing which is the topic here is",
    "start": "2653920",
    "end": "2659839"
  },
  {
    "text": "when the server when the webmasters when the web administrator is lazy and they did",
    "start": "2659839",
    "end": "2666480"
  },
  {
    "text": "not decide to return those content type as part of their content serving",
    "start": "2666480",
    "end": "2672880"
  },
  {
    "text": "like uh they just returned the content the browser doesn't know what's going on",
    "start": "2672880",
    "end": "2679680"
  },
  {
    "text": "so browsers decided to be too clever by half and hmm",
    "start": "2679680",
    "end": "2686880"
  },
  {
    "text": "so there's no content type what should i do oh let me actually sniff the body of that request",
    "start": "2686880",
    "end": "2693920"
  },
  {
    "text": "right and by sniffing the body right and just trying to parse the body",
    "start": "2693920",
    "end": "2699920"
  },
  {
    "text": "and says that looks like a jpeg oh so let me preview that so internet explorer explorer started",
    "start": "2699920",
    "end": "2707520"
  },
  {
    "text": "doing that i think chrome also doing that with their uh extensions right and then started to",
    "start": "2707520",
    "end": "2713839"
  },
  {
    "text": "create a lot of trouble so we'll get into that let's jump to our examples guys",
    "start": "2713839",
    "end": "2720720"
  },
  {
    "text": "so that's an example here so we have a browser and we have a server the server i i have a web server maybe not js or",
    "start": "2720800",
    "end": "2727839"
  },
  {
    "text": "whatever apache and there's a pic.jpg there's index.html",
    "start": "2727839",
    "end": "2733040"
  },
  {
    "text": "there's user.json right simple basic and my browser is requesting",
    "start": "2733040",
    "end": "2738240"
  },
  {
    "text": "pic.jpg remember guys we can't rely on the jpeg extension for the browser to",
    "start": "2738240",
    "end": "2745119"
  },
  {
    "text": "identify that hey i am actually requesting an image so i'm expecting an image nah not really because you can just",
    "start": "2745119",
    "end": "2752160"
  },
  {
    "text": "literally remove that right and the the browser doesn't really look for a single file this is an actual",
    "start": "2752160",
    "end": "2759200"
  },
  {
    "text": "execution right so that goes to that page and then that",
    "start": "2759200",
    "end": "2764319"
  },
  {
    "text": "path or that route or that route will take you to somewhere else so you return the image uh take the",
    "start": "2764319",
    "end": "2771520"
  },
  {
    "text": "request the server says okay i'm gonna return you this pic dot jpeg the actual image and",
    "start": "2771520",
    "end": "2778640"
  },
  {
    "text": "by the way i'm gonna add an header http header say hey this is an image jpeg right i'm",
    "start": "2778640",
    "end": "2784720"
  },
  {
    "text": "gonna reference all the headers for the http from the wikipedia article",
    "start": "2784720",
    "end": "2789839"
  },
  {
    "text": "for your reference guys but so the browser says oh let me look at the content type the content type looks like an image",
    "start": "2789839",
    "end": "2796560"
  },
  {
    "text": "so yeah oh the image oh let me render it in this box or let me just preview open a new file",
    "start": "2796560",
    "end": "2803760"
  },
  {
    "text": "show it and uh whatever right so it knows what to do because it's an image because there's",
    "start": "2803760",
    "end": "2809839"
  },
  {
    "text": "always like this code in the browser that oh that's an image do this right so",
    "start": "2809839",
    "end": "2815520"
  },
  {
    "text": "and that's then reads the image accordingly if it's an index.html hey i'm i'm",
    "start": "2815520",
    "end": "2821200"
  },
  {
    "text": "loading this index.html or just like my site get send a get request right and",
    "start": "2821200",
    "end": "2828160"
  },
  {
    "text": "it will start making that request obviously it doesn't know what it is but it comes back same thing server says",
    "start": "2828160",
    "end": "2834560"
  },
  {
    "text": "hey by the way this is content type text.html and then it will send the html",
    "start": "2834560",
    "end": "2839680"
  },
  {
    "text": "text right and then the browser says oh it's an html let me actually render that",
    "start": "2839680",
    "end": "2845200"
  },
  {
    "text": "and then show that and then there's javascript let me execute that javascript as well right nothing wrong with that right",
    "start": "2845200",
    "end": "2853599"
  },
  {
    "text": "what some what breaks is in this case if",
    "start": "2853599",
    "end": "2860480"
  },
  {
    "text": "i am requesting so let's say i i'm sneaky and i uploaded an html file",
    "start": "2860480",
    "end": "2868079"
  },
  {
    "text": "with the malicious javascript code that reads for example my cookies",
    "start": "2868079",
    "end": "2873680"
  },
  {
    "text": "the user cookies and send them to my server or like it's it's it starts to parse and",
    "start": "2873680",
    "end": "2880800"
  },
  {
    "text": "and scrub all the pages and my stuff and send send it to some server right it does all",
    "start": "2880800",
    "end": "2885920"
  },
  {
    "text": "that kind of stuff right it's execute if something executes it does stuff on your server right",
    "start": "2885920",
    "end": "2891520"
  },
  {
    "text": "so that's my code that's html code but i just renamed it to jpeg and then actually upload it to the",
    "start": "2891520",
    "end": "2897680"
  },
  {
    "text": "server and the server was stupid enough to accept it as a jpeg so what it does",
    "start": "2897680",
    "end": "2903200"
  },
  {
    "text": "is okay let me upload it so the browser naively requesting all the",
    "start": "2903200",
    "end": "2909119"
  },
  {
    "text": "images and one of the images says html.jpg thinking it's an image the server",
    "start": "2909119",
    "end": "2915839"
  },
  {
    "text": "let's say this this server now does not actually return any content type right",
    "start": "2915839",
    "end": "2921440"
  },
  {
    "text": "the administrator was lazy they didn't go and set any content type on that stuff right",
    "start": "2921440",
    "end": "2927920"
  },
  {
    "text": "so they didn't do anything so we're going to return the actual content of that",
    "start": "2927920",
    "end": "2934000"
  },
  {
    "text": "which guess what it's not actually an image it's just a bunch of html code and there is a javascript",
    "start": "2934000",
    "end": "2941040"
  },
  {
    "text": "bad.js let's say bad javascript code here in the middle right",
    "start": "2941040",
    "end": "2947760"
  },
  {
    "text": "can't spill anymore all right let's assume there is some bad",
    "start": "2950559",
    "end": "2957920"
  },
  {
    "text": "javascript here right so the browser using mime sniffing you",
    "start": "2957920",
    "end": "2965359"
  },
  {
    "text": "will decide hey i don't have a content type like those guys right",
    "start": "2965359",
    "end": "2971040"
  },
  {
    "text": "anymore so i am going to try to sniff this thing right remember this is an image guys",
    "start": "2971040",
    "end": "2977760"
  },
  {
    "text": "right it's supposed to be an image so but instead the browser is trying to be",
    "start": "2977760",
    "end": "2982800"
  },
  {
    "text": "too clever by have and says you know what oh it turns out oh it's actually an html",
    "start": "2982800",
    "end": "2988559"
  },
  {
    "text": "wow i found that you have an html sir let me go ahead and execute it for you",
    "start": "2988559",
    "end": "2994960"
  },
  {
    "text": "how about that um just there executed that",
    "start": "2994960",
    "end": "3003440"
  },
  {
    "text": "and you just got hacked essentially right that's that",
    "start": "3003440",
    "end": "3008480"
  },
  {
    "text": "cross side referencing so that's the security flaw here so browsers",
    "start": "3008480",
    "end": "3013520"
  },
  {
    "text": "usually is the way you if if you're not doing anything wrong right if you're like just executing jpeg",
    "start": "3013520",
    "end": "3020720"
  },
  {
    "text": "and then the actual jpeg is a jpeg then that's the browser is actually doing doing you a favor",
    "start": "3020720",
    "end": "3027280"
  },
  {
    "text": "right it's better than failing remember before content sniffing there was if",
    "start": "3027280",
    "end": "3033680"
  },
  {
    "text": "there's no content type the browser word fails is up i can't i can't load this image because i don't",
    "start": "3033680",
    "end": "3039359"
  },
  {
    "text": "know that doesn't look like an image it looks like a text so it will load a bunch of just garbage on the screen",
    "start": "3039359",
    "end": "3045440"
  },
  {
    "text": "for you so internet explorer and other browsers start implementing the sniffing to avoid a problem which is laziness",
    "start": "3045440",
    "end": "3053839"
  },
  {
    "text": "right by by the administrator to adding those content types right which introduces all this uh",
    "start": "3053839",
    "end": "3063119"
  },
  {
    "text": "stuff problems so how to mitigate this problem yeah my videos just got",
    "start": "3063119",
    "end": "3070720"
  },
  {
    "text": "rendered nice so the solution is for the server i imagine like guys",
    "start": "3070720",
    "end": "3076960"
  },
  {
    "text": "you have like millions or millions thousands of files you can't just",
    "start": "3076960",
    "end": "3082720"
  },
  {
    "text": "sometimes it's very tedious to go and set the content type correctly on all those files",
    "start": "3082720",
    "end": "3088319"
  },
  {
    "text": "so what you do is you do this he said the browser hey browsers guys",
    "start": "3088319",
    "end": "3094960"
  },
  {
    "text": "don't attempt to sniff anything please don't sniff anything my files if",
    "start": "3094960",
    "end": "3101920"
  },
  {
    "text": "it if you can't if you don't find the content type go ahead and just fail right",
    "start": "3101920",
    "end": "3108559"
  },
  {
    "text": "don't try to sniff things don't don't expose my users right so that's what it will return we add",
    "start": "3108559",
    "end": "3115760"
  },
  {
    "text": "one line of code into the every single request right",
    "start": "3115760",
    "end": "3122160"
  },
  {
    "text": "especially of things that we don't we don't really know uh like jpeg images or something like",
    "start": "3122160",
    "end": "3128880"
  },
  {
    "text": "that or html file or css or styles right you want to add this x content",
    "start": "3128880",
    "end": "3134800"
  },
  {
    "text": "type options no sniff right if the server returns that their browsers all the browsers now respect that if it",
    "start": "3134800",
    "end": "3141280"
  },
  {
    "text": "finds that no sniff it will not attempt to sniff so you opt out essentially of the",
    "start": "3141280",
    "end": "3146960"
  },
  {
    "text": "schniffin oh man i said sniffing so many times man",
    "start": "3146960",
    "end": "3153359"
  },
  {
    "text": "all right guys so that's it that's it so that's the mime content sniffing",
    "start": "3153359",
    "end": "3159599"
  },
  {
    "text": "and how do you avoid uh the problems essentially hope you enjoyed this video check out the other",
    "start": "3159599",
    "end": "3166160"
  },
  {
    "text": "content in this channel uh we talk about software engineering by example on this",
    "start": "3166160",
    "end": "3171520"
  },
  {
    "text": "channel there's a lot of videos and i enjoy i love software engineering i love",
    "start": "3171520",
    "end": "3177040"
  },
  {
    "text": "programming so take a look at the channel subscribe if you like this video like like this video if you like it and",
    "start": "3177040",
    "end": "3184480"
  },
  {
    "text": "i'm gonna see you in the next one you guys stay awesome",
    "start": "3184480",
    "end": "3189920"
  },
  {
    "start": "3190000",
    "end": "3820000"
  },
  {
    "text": "what is going on guys quick video discussing http smuggling so this is an attack where",
    "start": "3190160",
    "end": "3198480"
  },
  {
    "text": "someone a hacker can sneak in a request that they are not supposed to",
    "start": "3198480",
    "end": "3207119"
  },
  {
    "text": "execute and make the server executed like access an admin page or maybe",
    "start": "3207119",
    "end": "3213680"
  },
  {
    "text": "poison some cookies uh poison some cash cookies how do you poison cookies jeez all right",
    "start": "3213680",
    "end": "3219760"
  },
  {
    "text": "yeah so you can poison a cache so you can essentially serve some other content",
    "start": "3219760",
    "end": "3225680"
  },
  {
    "text": "to legitimate users and i'm gonna take a few minutes to describe how this attack",
    "start": "3225680",
    "end": "3230720"
  },
  {
    "text": "works and then why is it bad and what is how to prevent",
    "start": "3230720",
    "end": "3235920"
  },
  {
    "text": "it the first thing to discuss that first of all we need to understand how what is an",
    "start": "3235920",
    "end": "3243200"
  },
  {
    "text": "http request right and this is only applicable to http one",
    "start": "3243200",
    "end": "3248559"
  },
  {
    "text": "one doesn't exist in http 2 because we solve this problem with streams",
    "start": "3248559",
    "end": "3255200"
  },
  {
    "text": "every request is a stream right with http on one we don't know what is a request we don't have",
    "start": "3255200",
    "end": "3263119"
  },
  {
    "text": "a boundary for the request oh this is where the request starts and this is where it ends",
    "start": "3263119",
    "end": "3268240"
  },
  {
    "text": "it's all up in the air it's very ambiguous and i'm gonna talk about it right so the first part of the request is what",
    "start": "3268240",
    "end": "3275599"
  },
  {
    "text": "i'm making a get request or a post request the first thing you send is what the headers right and these are few if you think this is a",
    "start": "3275599",
    "end": "3282960"
  },
  {
    "text": "bunch of strings right just just a bunch of bytes so i don't know content type",
    "start": "3282960",
    "end": "3289200"
  },
  {
    "text": "all right or cookies as a header or other stuff content length right so that's the headers are is not really",
    "start": "3289200",
    "end": "3296160"
  },
  {
    "text": "a problem we have will define and even nginx and actually a proxy",
    "start": "3296160",
    "end": "3301359"
  },
  {
    "text": "have specific timer to read the headers because we know how to read the headers they",
    "start": "3301359",
    "end": "3307200"
  },
  {
    "text": "have a start and an end okay the start is get a method whatever in the http one one or http two whatever",
    "start": "3307200",
    "end": "3314319"
  },
  {
    "text": "and then the rest of the stuff is basically the rest of the headers just string colon",
    "start": "3314319",
    "end": "3320319"
  },
  {
    "text": "up until the end of the header is a new line so we know where to stop this is we know",
    "start": "3320319",
    "end": "3325839"
  },
  {
    "text": "the headers the problem is the content the body the url parameters all that stuff we don't know how to",
    "start": "3325839",
    "end": "3334000"
  },
  {
    "text": "what is the end we cannot put in new lines because the content might have in you might have new lines",
    "start": "3334000",
    "end": "3340480"
  },
  {
    "text": "right so we cannot do that so what we did is we had a header special header called",
    "start": "3340480",
    "end": "3345920"
  },
  {
    "text": "content length and that's the length of the content we use that to determine that the length of the content there are",
    "start": "3345920",
    "end": "3352400"
  },
  {
    "text": "other methods i'm not going to go like transfer chunk encoding but that's one way the",
    "start": "3352400",
    "end": "3357520"
  },
  {
    "text": "content length hey the content is 20 bytes read 20 bytes in this big ass string right",
    "start": "3357520",
    "end": "3365359"
  },
  {
    "text": "because that's where the server is getting get it gets good it's all tcp packets guys right it's there's no",
    "start": "3365359",
    "end": "3372559"
  },
  {
    "text": "say oh that's the end of understar it's just a stream of bytes that comes to the",
    "start": "3372559",
    "end": "3377760"
  },
  {
    "text": "server and the server has to determine where to start and end right so that's that's the problem with http1",
    "start": "3377760",
    "end": "3383280"
  },
  {
    "text": "one okay so content length we know it's like what's the problem saying content length yeah we have the header",
    "start": "3383280",
    "end": "3388640"
  },
  {
    "text": "problem is like bad actors they say okay i am as a bad",
    "start": "3388640",
    "end": "3395119"
  },
  {
    "text": "hacker i'm gonna do the following i'm gonna see send you the headers but i'm gonna put",
    "start": "3395119",
    "end": "3401680"
  },
  {
    "text": "two content lengths one with five bytes and",
    "start": "3401680",
    "end": "3407680"
  },
  {
    "text": "other with 30 bytes just to confuse the  out of you okay and here's here's the problem",
    "start": "3407680",
    "end": "3414960"
  },
  {
    "text": "because we have this ambiguity now there is no standard says that http say",
    "start": "3414960",
    "end": "3421599"
  },
  {
    "text": "oh okay content legs read the first one or the content line read the second content length",
    "start": "3421599",
    "end": "3427280"
  },
  {
    "text": "how do i know should i read the first one should i edit the second one so serve it's it's basically the wild wild",
    "start": "3427280",
    "end": "3432799"
  },
  {
    "text": "west node.js does it differently pick the first one sha proxy picks the",
    "start": "3432799",
    "end": "3437839"
  },
  {
    "text": "second one nginx picks the i don't know uh the the largest who cares right so there's",
    "start": "3437839",
    "end": "3445200"
  },
  {
    "text": "the different implementation and here's where the bug and if you know this stuff",
    "start": "3445200",
    "end": "3450240"
  },
  {
    "text": "god you can make so much money with bug bounties right so what happened here is",
    "start": "3450240",
    "end": "3457280"
  },
  {
    "text": "you can do two content length and one with a short one and one with a long",
    "start": "3457280",
    "end": "3462640"
  },
  {
    "text": "one and sneaking a completely different request",
    "start": "3462640",
    "end": "3467680"
  },
  {
    "text": "i don't know get slash admin which is completely internal gnated and cannot be",
    "start": "3467680",
    "end": "3474400"
  },
  {
    "text": "accessed from the public internet and sneak it in as content as just data",
    "start": "3474400",
    "end": "3479760"
  },
  {
    "text": "right so and this happens only in in a proxy configuration i should have",
    "start": "3479760",
    "end": "3486079"
  },
  {
    "text": "mentioned that because there is a proxy has to be a layer 7 tls",
    "start": "3486079",
    "end": "3491839"
  },
  {
    "text": "terminating proxy doesn't happen with the layer 4 proxy right so if you have this layer 7",
    "start": "3491839",
    "end": "3497680"
  },
  {
    "text": "proxy that just terminates stuff reads interprets the request on its behalf so okay here's",
    "start": "3497680",
    "end": "3504559"
  },
  {
    "text": "where the request starts so the request that the ha proxy or nginx or caddy or",
    "start": "3504559",
    "end": "3509920"
  },
  {
    "text": "or or or traffic might interpret content length as the first content link so it",
    "start": "3509920",
    "end": "3515760"
  },
  {
    "text": "reads the short one so iphone decided to shut down because the temperature is too high and",
    "start": "3515760",
    "end": "3522319"
  },
  {
    "text": "because california so i'm going to make it sure guys so what happened here is the proxy receives",
    "start": "3522319",
    "end": "3528400"
  },
  {
    "text": "their malformed request which has two content length one the short one which has some",
    "start": "3528400",
    "end": "3535200"
  },
  {
    "text": "of it and then one has the long one which has which kind of takes another request",
    "start": "3535200",
    "end": "3541200"
  },
  {
    "text": "which goes to the admin git admin right but what happens here is",
    "start": "3541200",
    "end": "3546960"
  },
  {
    "text": "the proxy nginx or any proxy here right if the proxy decide to take the content",
    "start": "3546960",
    "end": "3554400"
  },
  {
    "text": "link that is longer it will treat the whole request including that",
    "start": "3554400",
    "end": "3560079"
  },
  {
    "text": "get request as just a whole one request so it will take that okay here's one",
    "start": "3560079",
    "end": "3566559"
  },
  {
    "text": "request take it i'm gonna it's gonna send it to the backend server node.js right caddy whatever but here's the thing",
    "start": "3566559",
    "end": "3574720"
  },
  {
    "text": "that backend node.js server will start getting getting getting",
    "start": "3574720",
    "end": "3580000"
  },
  {
    "text": "reading the headers first and says okay get content length what is gonna do is gonna pick the first one",
    "start": "3580000",
    "end": "3587359"
  },
  {
    "text": "right the shorter who knows that's when it happens if there's discrepancy between the two",
    "start": "3587359",
    "end": "3593040"
  },
  {
    "text": "and they are sent on the same channel the same tcp connection connection",
    "start": "3593040",
    "end": "3598640"
  },
  {
    "text": "pooling we talked about pulling in this channel right so in this case this don't just say okay",
    "start": "3598640",
    "end": "3604960"
  },
  {
    "text": "well stop that's the first request it's going to take the short one and it's going to pick whatever the content",
    "start": "3604960",
    "end": "3611119"
  },
  {
    "text": "that is like it would be a garbage request right but it also will",
    "start": "3611119",
    "end": "3617280"
  },
  {
    "text": "start reading that begin to start reading the second request which is what the git admin which is what which",
    "start": "3617280",
    "end": "3623839"
  },
  {
    "text": "was supposed to be blocked by the proxy right you should never read that content",
    "start": "3623839",
    "end": "3630319"
  },
  {
    "text": "advent is is a private it's a one two seven zero zero one kind of thing you should never read it but the",
    "start": "3630319",
    "end": "3636160"
  },
  {
    "text": "node.js oh the proxy i the proxy sent me this i trust the proxy the proxy is king let me do this thing",
    "start": "3636160",
    "end": "3644240"
  },
  {
    "text": "i will do it for you my friend okay so that so now just like okay let me exclude the",
    "start": "3644240",
    "end": "3649440"
  },
  {
    "text": "get admin so you will build the admin page whatever the credentials is right",
    "start": "3649440",
    "end": "3655200"
  },
  {
    "text": "it doesn't have to be credentials just access to local resources and send it to the proxy and the proxy says",
    "start": "3655200",
    "end": "3660799"
  },
  {
    "text": "yeah oh all right it's i just sent some requests to their this is this is this guy all right",
    "start": "3660799",
    "end": "3666880"
  },
  {
    "text": "it's gonna start sending the hacker the content of the admin i think what",
    "start": "3666880",
    "end": "3672160"
  },
  {
    "text": "will happen here is the last twin end kind of a deal right or maybe we're going to get two or",
    "start": "3672160",
    "end": "3677680"
  },
  {
    "text": "two responses right this is the problem with html one if pipelining and all this stuff right",
    "start": "3677680",
    "end": "3683680"
  },
  {
    "text": "so yeah just like that the hacker managed to smuggle content",
    "start": "3683680",
    "end": "3688880"
  },
  {
    "text": "in a form of just a normal http request right and it happens when you have this",
    "start": "3688880",
    "end": "3694960"
  },
  {
    "text": "discrepancy in in determining where the request starts and where the request in and i talked about",
    "start": "3694960",
    "end": "3700240"
  },
  {
    "text": "what is a request in this channel it's a very philosophical question not really but you you get the",
    "start": "3700240",
    "end": "3707119"
  },
  {
    "text": "point so http 2 i don't know whom to give the credit to",
    "start": "3707119",
    "end": "3712960"
  },
  {
    "text": "who invented the idea of having one tcp connection with channels in it okay ssh",
    "start": "3712960",
    "end": "3720559"
  },
  {
    "text": "had this idea of channels a rabbit mq with with the advanced message q",
    "start": "3720559",
    "end": "3725599"
  },
  {
    "text": "protocol have it http 2 with speedy or the google have it so now every quiz is tagged right",
    "start": "3725599",
    "end": "3733359"
  },
  {
    "text": "with with content as the stream id or the channel id so now we know that is if you were to start",
    "start": "3733359",
    "end": "3741039"
  },
  {
    "text": "receiving content on there's a stream id like and this is unique every request has a",
    "start": "3741039",
    "end": "3746319"
  },
  {
    "text": "unique stream right so it's impossible to overlap requests right because we",
    "start": "3746319",
    "end": "3751680"
  },
  {
    "text": "know as all this content belongs to stream one so all right this is the request right so we get you know what they're",
    "start": "3751680",
    "end": "3757760"
  },
  {
    "text": "quit so if you're using http 2 all the way i better be all the way then you don't have this",
    "start": "3757760",
    "end": "3764000"
  },
  {
    "text": "should be smuggling attack right so yeah that's why it's very important for proxies to use",
    "start": "3764000",
    "end": "3770240"
  },
  {
    "text": "not just http 2 at the front end it should use http 2 at the back end and guys this is not advertised people",
    "start": "3770240",
    "end": "3777119"
  },
  {
    "text": "don't talk about this proxies don't brag about this because they don't brag about the missing features right they brag about the things they have",
    "start": "3777119",
    "end": "3783520"
  },
  {
    "text": "right so pay attention learn that's why i always keep blabbing about fundamentals",
    "start": "3783520",
    "end": "3789839"
  },
  {
    "text": "learn this beautiful basic thing forget about frameworks and stuff",
    "start": "3789839",
    "end": "3794960"
  },
  {
    "text": "right tools are just fluff learn the fundamentals all right guys",
    "start": "3794960",
    "end": "3800880"
  },
  {
    "text": "short video talking about http smuggling this this thing is a beast guys and",
    "start": "3800880",
    "end": "3806160"
  },
  {
    "text": "people are just still uh tasting it right so yeah",
    "start": "3806160",
    "end": "3811200"
  },
  {
    "text": "guys see in the next one guys you guys stay awesome fantastic",
    "start": "3811200",
    "end": "3818000"
  },
  {
    "text": "goodbye love you",
    "start": "3818000",
    "end": "3824079"
  },
  {
    "start": "3820000",
    "end": "4719000"
  },
  {
    "text": "are all entitled for some privacy and if i ask a website to please delete all my",
    "start": "3824079",
    "end": "3830880"
  },
  {
    "text": "cookies i do not wish to be tracked the website should honor that and stop",
    "start": "3830880",
    "end": "3838160"
  },
  {
    "text": "tracking me however some media companies found ways to recreate your",
    "start": "3838160",
    "end": "3845280"
  },
  {
    "text": "cookies even after you delete them so they can keep tracking you",
    "start": "3845280",
    "end": "3851599"
  },
  {
    "text": "and keep selling you ads these are called zombie cookies",
    "start": "3851599",
    "end": "3859680"
  },
  {
    "text": "zombie cookies are cookies that are recreated after being deleted",
    "start": "3859680",
    "end": "3864880"
  },
  {
    "text": "they are like a zombie in that regard can't be killed well unless you stab it stab them",
    "start": "3864880",
    "end": "3872000"
  },
  {
    "text": "with a wooden stick wait i'm thinking about vampire never mind well",
    "start": "3872000",
    "end": "3878160"
  },
  {
    "text": "zombie cookies are specifically specially used by malicious website who",
    "start": "3878160",
    "end": "3884160"
  },
  {
    "text": "want to always track their users regardless of their cookie status they use other method of storing metadata",
    "start": "3884160",
    "end": "3892480"
  },
  {
    "text": "permanently on their computer so that they use that info to recreate their cookies in",
    "start": "3892480",
    "end": "3899039"
  },
  {
    "text": "this video we will discuss how good old cookies work and then we're going to talk about",
    "start": "3899039",
    "end": "3905920"
  },
  {
    "text": "how zombie cookies work we're going to talk a lot about a little bit about the implementation",
    "start": "3905920",
    "end": "3911520"
  },
  {
    "text": "and show you the source code and how actually you can write zombie copies i don't want to go to",
    "start": "3911520",
    "end": "3916960"
  },
  {
    "text": "detail that obviously this is bad practice guys don't use this video this is for educational",
    "start": "3916960",
    "end": "3922000"
  },
  {
    "text": "purposes otherwise this video will get demonetized if you're new here welcome my name is hussein and in this",
    "start": "3922000",
    "end": "3928240"
  },
  {
    "text": "channel we discuss all sort of software engineering by example so if you want to become a better software engineer subscribe and",
    "start": "3928240",
    "end": "3934640"
  },
  {
    "text": "hit that bell icon so you don't miss any videos in the future if you like this video give it a like",
    "start": "3934640",
    "end": "3940400"
  },
  {
    "text": "that's it let's just jump into the video so i want to start by actually showing",
    "start": "3940400",
    "end": "3946559"
  },
  {
    "text": "you how normal cookies work right so i have written a website here and i'm",
    "start": "3946559",
    "end": "3952799"
  },
  {
    "text": "going to show you how how normal cookies behave all right so here's",
    "start": "3952799",
    "end": "3957920"
  },
  {
    "text": "here i have a website that have authored locally on my machine it has some index page it has some",
    "start": "3957920",
    "end": "3965359"
  },
  {
    "text": "server side code and essentially when you're of when you refresh the page",
    "start": "3965359",
    "end": "3970559"
  },
  {
    "text": "it says hey i don't know who you are please log in okay and the moment i log in and i say i'm",
    "start": "3970559",
    "end": "3975599"
  },
  {
    "text": "gonna put my name right and then i say okay",
    "start": "3975599",
    "end": "3982319"
  },
  {
    "text": "i'm gonna get back that the cookie has been set the next time i refresh this",
    "start": "3982319",
    "end": "3989599"
  },
  {
    "text": "the application knows who i am okay and this is very simple logic guys right",
    "start": "3989599",
    "end": "3995359"
  },
  {
    "text": "we have all done applications like that and the way we detect that is by using",
    "start": "3995359",
    "end": "4003119"
  },
  {
    "text": "cookies essentially so when i logged in i created something at the back and the back end",
    "start": "4003119",
    "end": "4008640"
  },
  {
    "text": "asked my browser to create a cookie for me and every time i refresh i check do this",
    "start": "4008640",
    "end": "4014079"
  },
  {
    "text": "this guy have a cookie if a cookie try to read their name and then display it on the page",
    "start": "4014079",
    "end": "4019119"
  },
  {
    "text": "let's see the cookie that have been created here if i go to the application i go to under",
    "start": "4019119",
    "end": "4025520"
  },
  {
    "text": "cookies here you can find that there is a cookie user",
    "start": "4025520",
    "end": "4033680"
  },
  {
    "text": "and the minute name we're provided simple enough right so this is how cookies work right so every time i refresh we're",
    "start": "4033680",
    "end": "4040480"
  },
  {
    "text": "gonna use that value but if i",
    "start": "4040480",
    "end": "4045680"
  },
  {
    "text": "said clear delete all cookies once you delete all",
    "start": "4045680",
    "end": "4051359"
  },
  {
    "text": "cookies and you refresh the website doesn't",
    "start": "4051359",
    "end": "4057280"
  },
  {
    "text": "do do not no longer know who you are okay so that's basic stuff right so if you go",
    "start": "4057280",
    "end": "4063599"
  },
  {
    "text": "back there is no cookie obviously and the website no longer knows who you are right so let's show",
    "start": "4063599",
    "end": "4070799"
  },
  {
    "text": "you how zombie cookies i've written the very similar version of this application and this is called",
    "start": "4070799",
    "end": "4078400"
  },
  {
    "text": "the zombie cookies version and what i'm gonna do i'm gonna log it as",
    "start": "4078400",
    "end": "4084319"
  },
  {
    "text": "uh i need a name abbasiel okay or jaffar",
    "start": "4084319",
    "end": "4091520"
  },
  {
    "text": "i should have used jaffer okay no problem so now i i logged in the website knows who i",
    "start": "4091520",
    "end": "4097920"
  },
  {
    "text": "am my name is abbas ali all right now if i go to the developer",
    "start": "4097920",
    "end": "4104238"
  },
  {
    "text": "tools click here and you can see there is a cookie all",
    "start": "4104239",
    "end": "4111199"
  },
  {
    "text": "right no problem let's go kill this cookie right",
    "start": "4111199",
    "end": "4116719"
  },
  {
    "text": "and then refresh what how how do you still know me i just",
    "start": "4116719",
    "end": "4122719"
  },
  {
    "text": "deleted you how do you still know me sir",
    "start": "4122719",
    "end": "4128560"
  },
  {
    "text": "how do you still know me what i swear i deleted that guys",
    "start": "4128560",
    "end": "4135679"
  },
  {
    "text": "i deleted this thing okay let's try it again maybe what it was recreated again",
    "start": "4135679",
    "end": "4143278"
  },
  {
    "text": "you get the idea you still the website somehow knows who you are okay all right",
    "start": "4143279",
    "end": "4150480"
  },
  {
    "text": "i am going to go incognito sure they will not know me there",
    "start": "4150480",
    "end": "4155679"
  },
  {
    "text": "okay let's just go incognito that's what i thought they don't know wait",
    "start": "4155679",
    "end": "4160719"
  },
  {
    "text": "what they still know who you are even in cognito mood",
    "start": "4160719",
    "end": "4169080"
  },
  {
    "text": "nasty nasty very nasty sir that is very nasty how",
    "start": "4169080",
    "end": "4176400"
  },
  {
    "text": "are you able to do that huh how are you able to do that this is what",
    "start": "4176400",
    "end": "4182640"
  },
  {
    "text": "i'm gonna talk about guys so what i'm using essentially here to simulate this is",
    "start": "4182640",
    "end": "4188159"
  },
  {
    "text": "one implementations of zombie cookies there are a lot of implementations of zombie cookies",
    "start": "4188159",
    "end": "4195280"
  },
  {
    "text": "and uh with what i'm using here is essentially a uh concealer called",
    "start": "4195280",
    "end": "4201040"
  },
  {
    "text": "e-tax which is the caching mechanism in the http platform and the protocol and we talked",
    "start": "4201040",
    "end": "4207040"
  },
  {
    "text": "about that in another video i'm gonna reference it here what what are e-tags and what what do they do and",
    "start": "4207040",
    "end": "4214239"
  },
  {
    "text": "all that stuff all right so so if i make a request here so here's the threat let's just",
    "start": "4214239",
    "end": "4220800"
  },
  {
    "text": "show you how this is happening you see this request 304 not modified this is",
    "start": "4220800",
    "end": "4226000"
  },
  {
    "text": "this is all because of this i was able to do that and what happens is the first time",
    "start": "4226000",
    "end": "4233440"
  },
  {
    "text": "ever you visit a page it gives you back it gives the browser back an e-tag think",
    "start": "4233440",
    "end": "4241360"
  },
  {
    "text": "of it think of this as a cache to that particular page so that what happens is with every",
    "start": "4241360",
    "end": "4248480"
  },
  {
    "text": "subsequent request the browser sends that e-tag to the",
    "start": "4248480",
    "end": "4255040"
  },
  {
    "text": "to the server it's very tricky because this is supposed to be used for",
    "start": "4255040",
    "end": "4260880"
  },
  {
    "text": "caching so every time you send that etag the server takes it and",
    "start": "4260880",
    "end": "4268880"
  },
  {
    "text": "checks with its hashed version of that page if it changed you're gonna send you",
    "start": "4268880",
    "end": "4274880"
  },
  {
    "text": "a new version if it doesn't change it tells you hey nothing changed but as a trick you",
    "start": "4274880",
    "end": "4280640"
  },
  {
    "text": "just created some sort of identity and those guys the evil media companies just the evil",
    "start": "4280640",
    "end": "4287840"
  },
  {
    "text": "ones are using this to identify you all right and even if you don't send the",
    "start": "4287840",
    "end": "4295040"
  },
  {
    "text": "cookie to the server just sending that they will look up through a database or",
    "start": "4295040",
    "end": "4300080"
  },
  {
    "text": "something at the back end and they oh w389 1601 c1 c1 fbd",
    "start": "4300080",
    "end": "4307600"
  },
  {
    "text": "is actually a boss alley all right and they will say okay go ahead and recreate that",
    "start": "4307600",
    "end": "4312960"
  },
  {
    "text": "attack so that's that's essentially how it works okay are e-tax the only way",
    "start": "4312960",
    "end": "4319679"
  },
  {
    "text": "to simulate or implement zombie cookies obviously not guys look at how much",
    "start": "4319679",
    "end": "4326880"
  },
  {
    "text": "storage mechanism we have here we can use web sql some people who use index tv",
    "start": "4326880",
    "end": "4332159"
  },
  {
    "text": "which we talked about i'm gonna reference the video there index tv uh we you can use session",
    "start": "4332159",
    "end": "4338159"
  },
  {
    "text": "storage local storage anything really to persist on your client",
    "start": "4338159",
    "end": "4343520"
  },
  {
    "text": "and use some javascript to tell the back and that hey please recreate my",
    "start": "4343520",
    "end": "4348560"
  },
  {
    "text": "cookie so i can i can track you okay so evil will always use",
    "start": "4348560",
    "end": "4353840"
  },
  {
    "text": "all of that so how could how can i really know how can i know if i am using a zombie",
    "start": "4353840",
    "end": "4359760"
  },
  {
    "text": "okay how can you really rid of that well to know you can check obviously your all these kind of",
    "start": "4359760",
    "end": "4366400"
  },
  {
    "text": "storages but if you want to absolutely get rid of any wave to be tried is to clear everything",
    "start": "4366400",
    "end": "4374640"
  },
  {
    "text": "right and that i'm talking about images right anything caches let's go ahead and",
    "start": "4374640",
    "end": "4381280"
  },
  {
    "text": "show you like say if you go to sitting you go to clear browser history go to advanced you gotta check",
    "start": "4381280",
    "end": "4387360"
  },
  {
    "text": "everything here and don't leave anything right delete everything essentially",
    "start": "4387360",
    "end": "4394239"
  },
  {
    "text": "clear all of those and what are you gonna do is essentially get rid of all possible ways that the browser",
    "start": "4394239",
    "end": "4401520"
  },
  {
    "text": "caches your stuff and obviously right uh can be tracked as",
    "start": "4401520",
    "end": "4406800"
  },
  {
    "text": "a result right so that's the best way clear everything guys let's just jump and show you some coding all right",
    "start": "4406800",
    "end": "4413679"
  },
  {
    "text": "so here's we're going to show you i'm going to show you two approaches to do the cookies",
    "start": "4413679",
    "end": "4419440"
  },
  {
    "text": "there is a file here that i created called normalcookie.js and there is a zombie cookie.js two server files",
    "start": "4419440",
    "end": "4425679"
  },
  {
    "text": "okay now let's go through just how a normal cookie application looks like and this is how it looks like you're",
    "start": "4425679",
    "end": "4432640"
  },
  {
    "text": "gonna require the application which is express i'm using node.js here and essentially",
    "start": "4432640",
    "end": "4438000"
  },
  {
    "text": "if someone requests this the root page which is what we did we're gonna send the index.html file",
    "start": "4438000",
    "end": "4444560"
  },
  {
    "text": "if someone requests the login page we're gonna send back nothing but set",
    "start": "4444560",
    "end": "4451679"
  },
  {
    "text": "just a message and then we will send this particular header which is a smart",
    "start": "4451679",
    "end": "4456960"
  },
  {
    "text": "header that tells the client to create a cookie with that username which has been given to us okay we're",
    "start": "4456960",
    "end": "4464000"
  },
  {
    "text": "going to go through the index.html page uh code now to actually complete that picture and then",
    "start": "4464000",
    "end": "4470239"
  },
  {
    "text": "i'm listening to port 8081 okay so that's how a normal application looks like",
    "start": "4470239",
    "end": "4475440"
  },
  {
    "text": "okay the index.html page it's very simple essentially there is a two i have a",
    "start": "4475440",
    "end": "4482640"
  },
  {
    "text": "development here which shows hey i know who you are all this kind of",
    "start": "4482640",
    "end": "4487679"
  },
  {
    "text": "thing and there is another uh button here button login and then i'm gonna get that",
    "start": "4487679",
    "end": "4495280"
  },
  {
    "text": "get that tournament if there is a cookie then i know who you are okay if there is a",
    "start": "4495280",
    "end": "4500360"
  },
  {
    "text": "document.kiki i know who you are go and just split give me that",
    "start": "4500360",
    "end": "4507120"
  },
  {
    "text": "user and then hey i know who you are okay and then i hide the button that the login button because we don't really",
    "start": "4507120",
    "end": "4513520"
  },
  {
    "text": "need to see it right if i know who you are you don't need to log in and uh if there is no cookie then",
    "start": "4513520",
    "end": "4521679"
  },
  {
    "text": "that button will show up after which the user might click on that button login and i created an event here i'm going to",
    "start": "4521679",
    "end": "4528880"
  },
  {
    "text": "ask you a question prompt this is a browser javascript thingy which gives you the",
    "start": "4528880",
    "end": "4535040"
  },
  {
    "text": "prompt who you are give get the user and then we will use the fetch api command i'm going to",
    "start": "4535040",
    "end": "4541040"
  },
  {
    "text": "refresh the video we talked about fetch we talked about even cookies right i'm gonna i'm not gonna go through details in the cookies",
    "start": "4541040",
    "end": "4547040"
  },
  {
    "text": "itself because we had almost a course 40 minute course on cookies so go watch that",
    "start": "4547040",
    "end": "4552080"
  },
  {
    "text": "if you're interested and then what we want to do is here is just use the same url that the user",
    "start": "4552080",
    "end": "4558480"
  },
  {
    "text": "visited and i reason i did this because i want to reuse the index.html page here and then log in and then send the user",
    "start": "4558480",
    "end": "4565120"
  },
  {
    "text": "here okay and obviously just alert and that's it that will call that",
    "start": "4565120",
    "end": "4571120"
  },
  {
    "text": "method essentially right which will set the cookie okay how and if you clear the cookie",
    "start": "4571120",
    "end": "4577280"
  },
  {
    "text": "obviously that's it's clear right but here's here's here's what happens here if you do the zombie version of things",
    "start": "4577280",
    "end": "4585120"
  },
  {
    "text": "what are we doing here is having a global variable think of this as a database okay i just",
    "start": "4585120",
    "end": "4591280"
  },
  {
    "text": "stored it in a stateful manner in the same memory but what i what i want",
    "start": "4591280",
    "end": "4598000"
  },
  {
    "text": "what i wanted to do is essentially simulate a storing of that e tag right so same thing",
    "start": "4598000",
    "end": "4604560"
  },
  {
    "text": "you're gonna get the page and then here's the difference what we want to do is first give me",
    "start": "4604560",
    "end": "4611199"
  },
  {
    "text": "the e tag and you can always have an e tag if you're caching",
    "start": "4611199",
    "end": "4616320"
  },
  {
    "text": "okay this has nothing to do with zom because it's just something you're always going to see if none match which",
    "start": "4616320",
    "end": "4621440"
  },
  {
    "text": "is that e tag if we got the e tag good okay if there is a cookie",
    "start": "4621440",
    "end": "4628320"
  },
  {
    "text": "sent to me then probably everything is okay right if there is a cookie that",
    "start": "4628320",
    "end": "4634560"
  },
  {
    "text": "got sent to me that i mean like okay i've been pre-created before that's pretty good i'm going to get that",
    "start": "4634560",
    "end": "4642159"
  },
  {
    "text": "cookie get the user from the cookie and then i'm going to create link the e-tag with that user and that's",
    "start": "4642159",
    "end": "4649520"
  },
  {
    "text": "the trick here and that method is just think of it as storing a new row in the database",
    "start": "4649520",
    "end": "4655920"
  },
  {
    "text": "with the user and the e-tag now i know the e-tag and i know which user belongs",
    "start": "4655920",
    "end": "4661040"
  },
  {
    "text": "to which e-tag that's the trick if there's no cookie",
    "start": "4661040",
    "end": "4666159"
  },
  {
    "text": "no problem i know the e-tag because we always have an e-tag right",
    "start": "4666159",
    "end": "4671679"
  },
  {
    "text": "query the database for etag give me the user from the e-tag okay and then i get the user and",
    "start": "4671679",
    "end": "4678000"
  },
  {
    "text": "if the user is there guess what that's the method that we we sell in their normal one if there is",
    "start": "4678000",
    "end": "4684560"
  },
  {
    "text": "an e tag go ahead and boo send it back and send cookies and then create the cookies on",
    "start": "4684560",
    "end": "4691440"
  },
  {
    "text": "the client all right and that's the trick that's the if statement that did all of that guys obviously login is just",
    "start": "4691440",
    "end": "4698640"
  },
  {
    "text": "normal and that's basically the create and get right think of this as just literally an insert statement and this",
    "start": "4698640",
    "end": "4705040"
  },
  {
    "text": "is like a like a select statement right all right guys i'm gonna leave you here guys hope",
    "start": "4705040",
    "end": "4710960"
  },
  {
    "text": "you enjoyed this video give it a like and uh i'm gonna see you in the next one",
    "start": "4710960",
    "end": "4716320"
  },
  {
    "text": "you guys stay awesome",
    "start": "4716320",
    "end": "4720159"
  }
]