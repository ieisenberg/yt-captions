[
  {
    "start": "0",
    "end": "60000"
  },
  {
    "text": "you know guys as I uh try to dive deep",
    "start": "0",
    "end": "4259"
  },
  {
    "text": "into how",
    "start": "4259",
    "end": "6180"
  },
  {
    "text": "disk drive Works how",
    "start": "6180",
    "end": "9679"
  },
  {
    "text": "disk controller drivers work",
    "start": "9679",
    "end": "14160"
  },
  {
    "text": "how the operating systems work and how",
    "start": "14160",
    "end": "17160"
  },
  {
    "text": "the database work",
    "start": "17160",
    "end": "18920"
  },
  {
    "text": "the whole thing is so",
    "start": "18920",
    "end": "22740"
  },
  {
    "text": "confusing is really putting in lightly",
    "start": "22740",
    "end": "25980"
  },
  {
    "text": "but that just tells me that we really",
    "start": "25980",
    "end": "30779"
  },
  {
    "text": "don't talk to each other as Engineers",
    "start": "30779",
    "end": "33059"
  },
  {
    "text": "you know they're disk drivers does its",
    "start": "33059",
    "end": "35760"
  },
  {
    "text": "own thing the operating system",
    "start": "35760",
    "end": "38760"
  },
  {
    "text": "developed as its own thing the database",
    "start": "38760",
    "end": "40920"
  },
  {
    "text": "developer does a thing and of course the",
    "start": "40920",
    "end": "42600"
  },
  {
    "text": "package engineer does definitely we do",
    "start": "42600",
    "end": "45239"
  },
  {
    "text": "our own thing and and we never talk to",
    "start": "45239",
    "end": "47640"
  },
  {
    "text": "each other and as a result",
    "start": "47640",
    "end": "50180"
  },
  {
    "text": "so much",
    "start": "50180",
    "end": "52980"
  },
  {
    "text": "things that we assume",
    "start": "52980",
    "end": "55500"
  },
  {
    "text": "are true or not really true and I'll",
    "start": "55500",
    "end": "58800"
  },
  {
    "text": "give you an example like the title of",
    "start": "58800",
    "end": "60660"
  },
  {
    "start": "60000",
    "end": "120000"
  },
  {
    "text": "this video is like how the disc lies",
    "start": "60660",
    "end": "62219"
  },
  {
    "text": "right the lies of the disk drives if you",
    "start": "62219",
    "end": "66420"
  },
  {
    "text": "actually write something to disk",
    "start": "66420",
    "end": "69600"
  },
  {
    "text": "forget about this if you actually in the",
    "start": "69600",
    "end": "72600"
  },
  {
    "text": "app says hey open file and write blah to",
    "start": "72600",
    "end": "76560"
  },
  {
    "text": "this file",
    "start": "76560",
    "end": "78060"
  },
  {
    "text": "you would think and save that file",
    "start": "78060",
    "end": "80340"
  },
  {
    "text": "actually Ctrl s on that file right or",
    "start": "80340",
    "end": "83759"
  },
  {
    "text": "whatever the operation on on the API you",
    "start": "83759",
    "end": "88080"
  },
  {
    "text": "would think that is actually saved right",
    "start": "88080",
    "end": "90720"
  },
  {
    "text": "on disk",
    "start": "90720",
    "end": "93540"
  },
  {
    "text": "there are literally",
    "start": "93540",
    "end": "97320"
  },
  {
    "text": "many layers of caching going on the",
    "start": "97439",
    "end": "101220"
  },
  {
    "text": "first layer of defense is if you're",
    "start": "101220",
    "end": "102960"
  },
  {
    "text": "using a database that's the buffer the",
    "start": "102960",
    "end": "105600"
  },
  {
    "text": "shared buffer cache which is a shared",
    "start": "105600",
    "end": "109079"
  },
  {
    "text": "memory allocated by the database usually",
    "start": "109079",
    "end": "111840"
  },
  {
    "text": "using a map and then that's my multiple",
    "start": "111840",
    "end": "114659"
  },
  {
    "text": "process of that databases will write to",
    "start": "114659",
    "end": "116460"
  },
  {
    "text": "this beautiful shared place and this is",
    "start": "116460",
    "end": "118979"
  },
  {
    "text": "a single place for all the pages and",
    "start": "118979",
    "end": "121920"
  },
  {
    "start": "120000",
    "end": "360000"
  },
  {
    "text": "index Pages goes there so that's one",
    "start": "121920",
    "end": "124079"
  },
  {
    "text": "layer of Defense it's a cache then when",
    "start": "124079",
    "end": "127920"
  },
  {
    "text": "when the database says Hey right the",
    "start": "127920",
    "end": "130440"
  },
  {
    "text": "operating system has its own layer",
    "start": "130440",
    "end": "132300"
  },
  {
    "text": "called the file system cache because",
    "start": "132300",
    "end": "135060"
  },
  {
    "text": "most databases are built on operating",
    "start": "135060",
    "end": "138000"
  },
  {
    "text": "systems and most operating systems use",
    "start": "138000",
    "end": "140040"
  },
  {
    "text": "file systems to write to yeah well block",
    "start": "140040",
    "end": "143580"
  },
  {
    "text": "devices right so you need a file system",
    "start": "143580",
    "end": "146300"
  },
  {
    "text": "I say need",
    "start": "146300",
    "end": "148560"
  },
  {
    "text": "I don't agree with that you know I see",
    "start": "148560",
    "end": "151440"
  },
  {
    "text": "that a lot of people just use file",
    "start": "151440",
    "end": "153000"
  },
  {
    "text": "system but",
    "start": "153000",
    "end": "154680"
  },
  {
    "text": "I'm yet to see a database that doesn't",
    "start": "154680",
    "end": "157260"
  },
  {
    "text": "use a file system and I'm go I know I'm",
    "start": "157260",
    "end": "159360"
  },
  {
    "text": "talking",
    "start": "159360",
    "end": "160680"
  },
  {
    "text": "out of my ass because I don't know",
    "start": "160680",
    "end": "162599"
  },
  {
    "text": "anything about this but just objectively",
    "start": "162599",
    "end": "165420"
  },
  {
    "text": "looking at this stuff the database does",
    "start": "165420",
    "end": "167879"
  },
  {
    "text": "not need a file system it just happened",
    "start": "167879",
    "end": "170340"
  },
  {
    "text": "that we databases are built on top of",
    "start": "170340",
    "end": "172860"
  },
  {
    "text": "general purpose operating systems",
    "start": "172860",
    "end": "176519"
  },
  {
    "text": "and as a result general purpose",
    "start": "176519",
    "end": "178260"
  },
  {
    "text": "operating system give you a file system",
    "start": "178260",
    "end": "180060"
  },
  {
    "text": "to write files with and database is used",
    "start": "180060",
    "end": "182700"
  },
  {
    "text": "there I don't see any reason why the",
    "start": "182700",
    "end": "184980"
  },
  {
    "text": "database just talk directly to the disk",
    "start": "184980",
    "end": "187200"
  },
  {
    "text": "drive you build an operating system as a",
    "start": "187200",
    "end": "190140"
  },
  {
    "text": "database that's a fantastic idea",
    "start": "190140",
    "end": "192720"
  },
  {
    "text": "cut the middleman",
    "start": "192720",
    "end": "194400"
  },
  {
    "text": "right and do exactly what the database",
    "start": "194400",
    "end": "197640"
  },
  {
    "text": "need anyway this is another topic for",
    "start": "197640",
    "end": "199500"
  },
  {
    "text": "another day I want to I want to just",
    "start": "199500",
    "end": "200940"
  },
  {
    "text": "explore it and just think about it right",
    "start": "200940",
    "end": "203159"
  },
  {
    "text": "it might be",
    "start": "203159",
    "end": "205500"
  },
  {
    "text": "people might have thought about it but",
    "start": "205500",
    "end": "207239"
  },
  {
    "text": "I'm just thinking out loud here you see",
    "start": "207239",
    "end": "209879"
  },
  {
    "text": "that when I do the right these",
    "start": "209879",
    "end": "212700"
  },
  {
    "text": "rights go to the file system page cache",
    "start": "212700",
    "end": "216840"
  },
  {
    "text": "it refers to the file system page cache",
    "start": "216840",
    "end": "219659"
  },
  {
    "text": "which is mapping the virtual memory",
    "start": "219659",
    "end": "221900"
  },
  {
    "text": "Pages effectively right because we're",
    "start": "221900",
    "end": "224819"
  },
  {
    "text": "using almost always the virtual memory",
    "start": "224819",
    "end": "227700"
  },
  {
    "text": "when operating systems",
    "start": "227700",
    "end": "229799"
  },
  {
    "text": "okay",
    "start": "229799",
    "end": "230879"
  },
  {
    "text": "and as a result when we do that the file",
    "start": "230879",
    "end": "234120"
  },
  {
    "text": "system caches this okay this file",
    "start": "234120",
    "end": "237480"
  },
  {
    "text": "right that you write you wrote These",
    "start": "237480",
    "end": "239700"
  },
  {
    "text": "blocks and it's mapping to these pages",
    "start": "239700",
    "end": "242580"
  },
  {
    "text": "and it writes it there and it keeps us",
    "start": "242580",
    "end": "245220"
  },
  {
    "text": "in its own memory cache another place",
    "start": "245220",
    "end": "248700"
  },
  {
    "text": "for the file system page cache and then",
    "start": "248700",
    "end": "253200"
  },
  {
    "text": "later",
    "start": "253200",
    "end": "255780"
  },
  {
    "text": "the hope is these pages in memory will",
    "start": "255780",
    "end": "259320"
  },
  {
    "text": "receive more rights from the application",
    "start": "259320",
    "end": "261479"
  },
  {
    "text": "such that the operating system will",
    "start": "261479",
    "end": "264180"
  },
  {
    "text": "finally buffer all these rights and then",
    "start": "264180",
    "end": "267360"
  },
  {
    "text": "write it once to the disk right so",
    "start": "267360",
    "end": "270180"
  },
  {
    "text": "that's the whole it's called buffer dial",
    "start": "270180",
    "end": "272060"
  },
  {
    "text": "why because if you just if the app just",
    "start": "272060",
    "end": "275100"
  },
  {
    "text": "directly right every right will go",
    "start": "275100",
    "end": "277199"
  },
  {
    "text": "directly to the database",
    "start": "277199",
    "end": "278940"
  },
  {
    "text": "oh",
    "start": "278940",
    "end": "280139"
  },
  {
    "text": "not the best to the desk",
    "start": "280139",
    "end": "283139"
  },
  {
    "text": "while this is good for persistent",
    "start": "283139",
    "end": "285600"
  },
  {
    "text": "durability it's chatty and it will",
    "start": "285600",
    "end": "290160"
  },
  {
    "text": "reduce the life's lifespan of the disk",
    "start": "290160",
    "end": "293520"
  },
  {
    "text": "eventually because",
    "start": "293520",
    "end": "297120"
  },
  {
    "text": "while we claim we're good as Engineers",
    "start": "297120",
    "end": "299660"
  },
  {
    "text": "we're rarely you know know what we're",
    "start": "299660",
    "end": "302699"
  },
  {
    "text": "doing we we will do mistakes such as do",
    "start": "302699",
    "end": "306240"
  },
  {
    "text": "a loop and write to the same file a",
    "start": "306240",
    "end": "308699"
  },
  {
    "text": "hundred million times in a second and if",
    "start": "308699",
    "end": "311280"
  },
  {
    "text": "we do that and the OS is not there to",
    "start": "311280",
    "end": "313620"
  },
  {
    "text": "protect us that disk will be",
    "start": "313620",
    "end": "317360"
  },
  {
    "text": "thrashed with rights",
    "start": "317360",
    "end": "319680"
  },
  {
    "text": "for the same lbas effectively moving",
    "start": "319680",
    "end": "324180"
  },
  {
    "text": "things around doing all sorts of",
    "start": "324180",
    "end": "327660"
  },
  {
    "text": "you know garbage collection and",
    "start": "327660",
    "end": "330180"
  },
  {
    "text": "yeah moving thanks to the upper",
    "start": "330180",
    "end": "331740"
  },
  {
    "text": "provisioning and you know racing blocks",
    "start": "331740",
    "end": "335220"
  },
  {
    "text": "and moving thing moving valid Pages it",
    "start": "335220",
    "end": "337620"
  },
  {
    "text": "just does a lot of work to to keep the",
    "start": "337620",
    "end": "341100"
  },
  {
    "text": "to to to satisfy your stuff and",
    "start": "341100",
    "end": "344280"
  },
  {
    "text": "so that's why we have a operating system",
    "start": "344280",
    "end": "346560"
  },
  {
    "text": "page",
    "start": "346560",
    "end": "347820"
  },
  {
    "text": "but then eventually the OS would say",
    "start": "347820",
    "end": "349919"
  },
  {
    "text": "okay I'm thinking good and this is up to",
    "start": "349919",
    "end": "352740"
  },
  {
    "text": "the OS the others will say okay let's",
    "start": "352740",
    "end": "355320"
  },
  {
    "text": "write let's actually",
    "start": "355320",
    "end": "357900"
  },
  {
    "text": "sync",
    "start": "357900",
    "end": "359880"
  },
  {
    "text": "they say it's called fsync YF maybe it's",
    "start": "359880",
    "end": "363660"
  },
  {
    "start": "360000",
    "end": "450000"
  },
  {
    "text": "called Force this f-sync operation",
    "start": "363660",
    "end": "366840"
  },
  {
    "text": "right will synchronize what I have in",
    "start": "366840",
    "end": "369900"
  },
  {
    "text": "the file",
    "start": "369900",
    "end": "371100"
  },
  {
    "text": "page",
    "start": "371100",
    "end": "372500"
  },
  {
    "text": "data and guess what the file system is",
    "start": "372500",
    "end": "376139"
  },
  {
    "text": "not free it comes with its own overhead",
    "start": "376139",
    "end": "377940"
  },
  {
    "text": "it comes with its own metadata right all",
    "start": "377940",
    "end": "381300"
  },
  {
    "text": "the inodes and the b3s you know to",
    "start": "381300",
    "end": "384720"
  },
  {
    "text": "maintain the directories and you know",
    "start": "384720",
    "end": "387120"
  },
  {
    "text": "all that stuff the information the",
    "start": "387120",
    "end": "388919"
  },
  {
    "text": "permissions the owner of the file all",
    "start": "388919",
    "end": "392039"
  },
  {
    "text": "this stuff all the metadata right so if",
    "start": "392039",
    "end": "394740"
  },
  {
    "text": "you Stuart ifsync or the OS decides to",
    "start": "394740",
    "end": "397020"
  },
  {
    "text": "do an fsync or just slam everything says",
    "start": "397020",
    "end": "400860"
  },
  {
    "text": "Hey disc right now I want you to flush",
    "start": "400860",
    "end": "404759"
  },
  {
    "text": "all this stuff right now to disk just or",
    "start": "404759",
    "end": "408720"
  },
  {
    "text": "just write everything right you will",
    "start": "408720",
    "end": "411240"
  },
  {
    "text": "synchronize anything that is in its",
    "start": "411240",
    "end": "413039"
  },
  {
    "text": "memory",
    "start": "413039",
    "end": "414060"
  },
  {
    "text": "to the disk drive",
    "start": "414060",
    "end": "417000"
  },
  {
    "text": "Here's the final level of Defense",
    "start": "417000",
    "end": "421199"
  },
  {
    "text": "when the disc",
    "start": "421199",
    "end": "423720"
  },
  {
    "text": "when the disk driver the driver is in",
    "start": "423720",
    "end": "426600"
  },
  {
    "text": "the kernel right the operating system",
    "start": "426600",
    "end": "428280"
  },
  {
    "text": "right that will receive that operation",
    "start": "428280",
    "end": "430259"
  },
  {
    "text": "Operation and it will transmit that",
    "start": "430259",
    "end": "433080"
  },
  {
    "text": "request and with all the data",
    "start": "433080",
    "end": "435780"
  },
  {
    "text": "to the drive so the SSD or the hard",
    "start": "435780",
    "end": "438479"
  },
  {
    "text": "drive will receive this stuff",
    "start": "438479",
    "end": "441120"
  },
  {
    "text": "and it actually gets a choice",
    "start": "441120",
    "end": "444479"
  },
  {
    "text": "because the first thing that these",
    "start": "444479",
    "end": "447300"
  },
  {
    "text": "rights goes to is goes to the",
    "start": "447300",
    "end": "449639"
  },
  {
    "text": "yes another cache the disk cache",
    "start": "449639",
    "end": "453720"
  },
  {
    "start": "450000",
    "end": "560000"
  },
  {
    "text": "themselves",
    "start": "453720",
    "end": "455280"
  },
  {
    "text": "it's a small tiny I think I don't know a",
    "start": "455280",
    "end": "457560"
  },
  {
    "text": "Honda makes maybe in certain devices",
    "start": "457560",
    "end": "460740"
  },
  {
    "text": "and those data goes there including the",
    "start": "460740",
    "end": "464039"
  },
  {
    "text": "file system because at the disk we don't",
    "start": "464039",
    "end": "466800"
  },
  {
    "text": "really know what is a file what is an",
    "start": "466800",
    "end": "469259"
  },
  {
    "text": "auto file it's just",
    "start": "469259",
    "end": "470940"
  },
  {
    "text": "blocks not all lbas which translates to",
    "start": "470940",
    "end": "475860"
  },
  {
    "text": "PBA physical block addresses here which",
    "start": "475860",
    "end": "478740"
  },
  {
    "text": "is the blocks which translates to pages",
    "start": "478740",
    "end": "482759"
  },
  {
    "text": "and I'm not going to go there",
    "start": "482759",
    "end": "484560"
  },
  {
    "text": "the page the word page is so overloaded",
    "start": "484560",
    "end": "487500"
  },
  {
    "text": "when it comes to this stuff",
    "start": "487500",
    "end": "489599"
  },
  {
    "text": "so",
    "start": "489599",
    "end": "491699"
  },
  {
    "text": "uh so so now when you do these rights",
    "start": "491699",
    "end": "495960"
  },
  {
    "text": "the the disk driver will say ah",
    "start": "495960",
    "end": "499620"
  },
  {
    "text": "you know what you'll be writing to me a",
    "start": "499620",
    "end": "501960"
  },
  {
    "text": "lot I'd rather keep the stuff in my",
    "start": "501960",
    "end": "504479"
  },
  {
    "text": "cache",
    "start": "504479",
    "end": "505620"
  },
  {
    "text": "and that's the lie here that's the LIE",
    "start": "505620",
    "end": "508800"
  },
  {
    "text": "we'll always say we write the disc will",
    "start": "508800",
    "end": "513360"
  },
  {
    "text": "keep this data in its own cache until",
    "start": "513360",
    "end": "516240"
  },
  {
    "text": "later it will flush it to the media hey",
    "start": "516240",
    "end": "519000"
  },
  {
    "text": "desk go and actually flush what do you",
    "start": "519000",
    "end": "522300"
  },
  {
    "text": "whatever you have",
    "start": "522300",
    "end": "524339"
  },
  {
    "text": "whatever you have go and flush it right",
    "start": "524339",
    "end": "527459"
  },
  {
    "text": "now now the SSD setting there with",
    "start": "527459",
    "end": "530940"
  },
  {
    "text": "you know uh tons of megabytes of cash",
    "start": "530940",
    "end": "534720"
  },
  {
    "text": "I'm gonna take everything I have and I'm",
    "start": "534720",
    "end": "537360"
  },
  {
    "text": "flushing to disk",
    "start": "537360",
    "end": "538800"
  },
  {
    "text": "here is where the i o will suffer",
    "start": "538800",
    "end": "541800"
  },
  {
    "text": "because that operation is going to be",
    "start": "541800",
    "end": "543180"
  },
  {
    "text": "expensive because I can have 100 200",
    "start": "543180",
    "end": "546480"
  },
  {
    "text": "megabytes of cash and now I'm actually",
    "start": "546480",
    "end": "548580"
  },
  {
    "text": "writing it to the media and so here's",
    "start": "548580",
    "end": "552720"
  },
  {
    "text": "the second light of the ssds and disks",
    "start": "552720",
    "end": "555180"
  },
  {
    "text": "do",
    "start": "555180",
    "end": "556500"
  },
  {
    "text": "some ssds will ignore the flush and",
    "start": "556500",
    "end": "559440"
  },
  {
    "text": "we'll just know up it says hey I know",
    "start": "559440",
    "end": "561060"
  },
  {
    "start": "560000",
    "end": "570000"
  },
  {
    "text": "you're flushing but you've been flushing",
    "start": "561060",
    "end": "562620"
  },
  {
    "text": "a lot you don't know what you're doing",
    "start": "562620",
    "end": "564200"
  },
  {
    "text": "Os or whoever is calling the OS you",
    "start": "564200",
    "end": "568440"
  },
  {
    "text": "don't know what you're doing",
    "start": "568440",
    "end": "569880"
  },
  {
    "text": "I'm just gonna ignore you Hussein from",
    "start": "569880",
    "end": "572100"
  },
  {
    "start": "570000",
    "end": "750000"
  },
  {
    "text": "editing coming in here after I edited",
    "start": "572100",
    "end": "574560"
  },
  {
    "text": "the video I found an article a bug from",
    "start": "574560",
    "end": "579080"
  },
  {
    "text": "Mozilla Firefox version three",
    "start": "579080",
    "end": "583320"
  },
  {
    "text": "posted 15 years ago 27 27 28 on that",
    "start": "583320",
    "end": "588360"
  },
  {
    "text": "time frame where we're gonna read the",
    "start": "588360",
    "end": "591540"
  },
  {
    "text": "bug right now and boy it's interesting",
    "start": "591540",
    "end": "595019"
  },
  {
    "text": "let's read it let's read the book and",
    "start": "595019",
    "end": "597120"
  },
  {
    "text": "then we're gonna come back to the video",
    "start": "597120",
    "end": "598140"
  },
  {
    "text": "it's it's a it's",
    "start": "598140",
    "end": "600959"
  },
  {
    "text": "I love this stuff this comes from Nathan",
    "start": "600959",
    "end": "603839"
  },
  {
    "text": "G Gren he's a reporter he's the he's the",
    "start": "603839",
    "end": "608580"
  },
  {
    "text": "one reported this book",
    "start": "608580",
    "end": "610680"
  },
  {
    "text": "I have been using Firefox 3 night leads",
    "start": "610680",
    "end": "613500"
  },
  {
    "text": "for a while five was three I was like",
    "start": "613500",
    "end": "616500"
  },
  {
    "text": "what is the current wait a minute 500 is",
    "start": "616500",
    "end": "619200"
  },
  {
    "text": "now 112 right this is Firefox version",
    "start": "619200",
    "end": "622740"
  },
  {
    "text": "three right so do you know how old this",
    "start": "622740",
    "end": "626160"
  },
  {
    "text": "issue is I've been using Firefox 3",
    "start": "626160",
    "end": "628140"
  },
  {
    "text": "nightly it's not even the the stable",
    "start": "628140",
    "end": "630420"
  },
  {
    "text": "version he's using a knight yet I have a",
    "start": "630420",
    "end": "632459"
  },
  {
    "text": "recently experiencing really bad system",
    "start": "632459",
    "end": "634560"
  },
  {
    "text": "responsiveness and have been pulling my",
    "start": "634560",
    "end": "637800"
  },
  {
    "text": "hair out to figure out why I know",
    "start": "637800",
    "end": "640740"
  },
  {
    "text": "Firefox 3 seemed to be worse affected I",
    "start": "640740",
    "end": "643740"
  },
  {
    "text": "then found out the uh and then I found",
    "start": "643740",
    "end": "646680"
  },
  {
    "text": "mention of the issue I was seeing was",
    "start": "646680",
    "end": "650040"
  },
  {
    "text": "related to F sank which is the same",
    "start": "650040",
    "end": "652740"
  },
  {
    "text": "function that we talked about that",
    "start": "652740",
    "end": "654480"
  },
  {
    "text": "actually causes a flush to disk right",
    "start": "654480",
    "end": "656640"
  },
  {
    "text": "and and it blocks until everything is",
    "start": "656640",
    "end": "659339"
  },
  {
    "text": "written to this I used estrace which is",
    "start": "659339",
    "end": "662040"
  },
  {
    "text": "a Linux function that can trace what the",
    "start": "662040",
    "end": "665459"
  },
  {
    "text": "application is doing to check Firefox 3",
    "start": "665459",
    "end": "668100"
  },
  {
    "text": "and found it's using fsync like eight",
    "start": "668100",
    "end": "670860"
  },
  {
    "text": "times for every new page every new page",
    "start": "670860",
    "end": "675600"
  },
  {
    "text": "I write it calls fsync like eight times",
    "start": "675600",
    "end": "677700"
  },
  {
    "text": "on it",
    "start": "677700",
    "end": "679019"
  },
  {
    "text": "and that was that really",
    "start": "679019",
    "end": "681920"
  },
  {
    "text": "exacerbated the problem because",
    "start": "681920",
    "end": "685140"
  },
  {
    "text": "again this is 15 years ago when disk",
    "start": "685140",
    "end": "688320"
  },
  {
    "text": "drives I don't know ssd's worth there I",
    "start": "688320",
    "end": "690420"
  },
  {
    "text": "think this is this was just",
    "start": "690420",
    "end": "692160"
  },
  {
    "text": "coming to life right at that age at that",
    "start": "692160",
    "end": "696320"
  },
  {
    "text": "era but man",
    "start": "696320",
    "end": "699079"
  },
  {
    "text": "fsync a thumbs per page that just kills",
    "start": "699079",
    "end": "702180"
  },
  {
    "text": "the performance because now you're",
    "start": "702180",
    "end": "703260"
  },
  {
    "text": "telling this cash it's like flash flash",
    "start": "703260",
    "end": "705380"
  },
  {
    "text": "not only the cash you're telling",
    "start": "705380",
    "end": "707700"
  },
  {
    "text": "everything on the page the OS cache",
    "start": "707700",
    "end": "711540"
  },
  {
    "text": "to flush the disk and then actually",
    "start": "711540",
    "end": "714120"
  },
  {
    "text": "forcing the disk driver cache to flush",
    "start": "714120",
    "end": "717480"
  },
  {
    "text": "everything it has not from you from",
    "start": "717480",
    "end": "720420"
  },
  {
    "text": "every other host from every other",
    "start": "720420",
    "end": "722459"
  },
  {
    "text": "application that has cash just a bunch",
    "start": "722459",
    "end": "725459"
  },
  {
    "text": "of log to flush the disk and that is the",
    "start": "725459",
    "end": "728220"
  },
  {
    "text": "result so this case was received",
    "start": "728220",
    "end": "730680"
  },
  {
    "text": "received all sorts of attention and I",
    "start": "730680",
    "end": "733680"
  },
  {
    "text": "think it's main reason why disk drivers",
    "start": "733680",
    "end": "736320"
  },
  {
    "text": "now ignore flush most of the time",
    "start": "736320",
    "end": "738600"
  },
  {
    "text": "because they say hey the application",
    "start": "738600",
    "end": "740220"
  },
  {
    "text": "developer definitely doesn't most of it",
    "start": "740220",
    "end": "742320"
  },
  {
    "text": "doesn't know what's behind it so the",
    "start": "742320",
    "end": "745920"
  },
  {
    "text": "cost becomes very very expensive and as",
    "start": "745920",
    "end": "748860"
  },
  {
    "text": "a result we added to this back to the",
    "start": "748860",
    "end": "750480"
  },
  {
    "start": "750000",
    "end": "900000"
  },
  {
    "text": "video so you know you don't know what",
    "start": "750480",
    "end": "751920"
  },
  {
    "text": "you're doing my friend you don't know",
    "start": "751920",
    "end": "753660"
  },
  {
    "text": "what you're doing",
    "start": "753660",
    "end": "754740"
  },
  {
    "text": "so I'm gonna ignore it but Hussein isn't",
    "start": "754740",
    "end": "757260"
  },
  {
    "text": "that dangerous it is dangerous because",
    "start": "757260",
    "end": "759000"
  },
  {
    "text": "if I told you to flush let's say these",
    "start": "759000",
    "end": "760800"
  },
  {
    "text": "are actually wall",
    "start": "760800",
    "end": "762620"
  },
  {
    "text": "Journal",
    "start": "762620",
    "end": "764459"
  },
  {
    "text": "redo logs right which is very critical",
    "start": "764459",
    "end": "767700"
  },
  {
    "text": "if the database tell you to write he you",
    "start": "767700",
    "end": "771120"
  },
  {
    "text": "better write them to you better durable",
    "start": "771120",
    "end": "773760"
  },
  {
    "text": "you better be durable right when I tell",
    "start": "773760",
    "end": "776339"
  },
  {
    "text": "you to write this wall records are the",
    "start": "776339",
    "end": "778320"
  },
  {
    "text": "most important thing if you lose the",
    "start": "778320",
    "end": "780180"
  },
  {
    "text": "wall you're done right when it comes to",
    "start": "780180",
    "end": "783360"
  },
  {
    "text": "the databases you're just corrupted",
    "start": "783360",
    "end": "785040"
  },
  {
    "text": "right so if I",
    "start": "785040",
    "end": "789660"
  },
  {
    "text": "um",
    "start": "789660",
    "end": "791160"
  },
  {
    "text": "if that if the drive is actually",
    "start": "791160",
    "end": "793440"
  },
  {
    "text": "ignoring the flush I'm going to come to",
    "start": "793440",
    "end": "795060"
  },
  {
    "text": "Y then we lose power whatever is in the",
    "start": "795060",
    "end": "799380"
  },
  {
    "text": "disk cache",
    "start": "799380",
    "end": "801240"
  },
  {
    "text": "will be lost right",
    "start": "801240",
    "end": "804120"
  },
  {
    "text": "and whatever in the OS cache of course",
    "start": "804120",
    "end": "806459"
  },
  {
    "text": "will be lost and what about in the",
    "start": "806459",
    "end": "807959"
  },
  {
    "text": "database cache will be lost so this",
    "start": "807959",
    "end": "810060"
  },
  {
    "text": "persistent is is that the final thing",
    "start": "810060",
    "end": "812160"
  },
  {
    "text": "when I tell you to flush the disk",
    "start": "812160",
    "end": "816240"
  },
  {
    "text": "is ignoring flush and we lose power",
    "start": "816240",
    "end": "818820"
  },
  {
    "text": "we're going to lose the data here's some",
    "start": "818820",
    "end": "820860"
  },
  {
    "text": "the the reason some ssds ignore this is",
    "start": "820860",
    "end": "824279"
  },
  {
    "text": "because they",
    "start": "824279",
    "end": "825899"
  },
  {
    "text": "know",
    "start": "825899",
    "end": "827880"
  },
  {
    "text": "they do that because they have a",
    "start": "827880",
    "end": "829980"
  },
  {
    "text": "capability that even if power is lost",
    "start": "829980",
    "end": "831839"
  },
  {
    "text": "they have battery included with it",
    "start": "831839",
    "end": "833820"
  },
  {
    "text": "temporary battery such that even if I",
    "start": "833820",
    "end": "836579"
  },
  {
    "text": "lost the power I still can live I will",
    "start": "836579",
    "end": "839639"
  },
  {
    "text": "detect the loss but I'll be still",
    "start": "839639",
    "end": "841920"
  },
  {
    "text": "running on the battery and while our",
    "start": "841920",
    "end": "844980"
  },
  {
    "text": "running I was like oh I need to",
    "start": "844980",
    "end": "846839"
  },
  {
    "text": "write this stuff both is gonna write",
    "start": "846839",
    "end": "849720"
  },
  {
    "text": "immediately after uh",
    "start": "849720",
    "end": "852300"
  },
  {
    "text": "uh after after the the detection that",
    "start": "852300",
    "end": "855839"
  },
  {
    "text": "the power loss right",
    "start": "855839",
    "end": "858120"
  },
  {
    "text": "and we're good right so we can ignore",
    "start": "858120",
    "end": "861600"
  },
  {
    "text": "the flush commands because most of the",
    "start": "861600",
    "end": "863760"
  },
  {
    "text": "time",
    "start": "863760",
    "end": "865519"
  },
  {
    "text": "that's that comes because the desk",
    "start": "865519",
    "end": "868200"
  },
  {
    "text": "doesn't trust the OS or the host right",
    "start": "868200",
    "end": "870959"
  },
  {
    "text": "we say the host mostly not OS because",
    "start": "870959",
    "end": "873959"
  },
  {
    "text": "you can have disks that",
    "start": "873959",
    "end": "877139"
  },
  {
    "text": "run directly on an application I mean",
    "start": "877139",
    "end": "879779"
  },
  {
    "text": "you can literally",
    "start": "879779",
    "end": "882240"
  },
  {
    "text": "never done this but you can write your",
    "start": "882240",
    "end": "884399"
  },
  {
    "text": "own apps such as it uses the nvme driver",
    "start": "884399",
    "end": "887220"
  },
  {
    "text": "directly without the OS right without",
    "start": "887220",
    "end": "889860"
  },
  {
    "text": "any file system you can just build a",
    "start": "889860",
    "end": "892500"
  },
  {
    "text": "block",
    "start": "892500",
    "end": "893880"
  },
  {
    "text": "and then write it to the nvme I don't",
    "start": "893880",
    "end": "896459"
  },
  {
    "text": "see why not",
    "start": "896459",
    "end": "897779"
  },
  {
    "text": "pretty sure all these Cloud providers do",
    "start": "897779",
    "end": "901079"
  },
  {
    "start": "900000",
    "end": "930000"
  },
  {
    "text": "that at the low level and that's just",
    "start": "901079",
    "end": "903779"
  },
  {
    "text": "another ball game right",
    "start": "903779",
    "end": "906420"
  },
  {
    "text": "so yeah",
    "start": "906420",
    "end": "907860"
  },
  {
    "text": "disk slides and when you and that's",
    "start": "907860",
    "end": "911760"
  },
  {
    "text": "where all the configuration",
    "start": "911760",
    "end": "914940"
  },
  {
    "text": "where postgres comes in just an example",
    "start": "914940",
    "end": "918120"
  },
  {
    "text": "because I'm trying to learn more about",
    "start": "918120",
    "end": "919980"
  },
  {
    "text": "this database",
    "start": "919980",
    "end": "922320"
  },
  {
    "text": "like",
    "start": "922320",
    "end": "923399"
  },
  {
    "text": "like Oscars gives you all these",
    "start": "923399",
    "end": "925139"
  },
  {
    "text": "fine-tuning abilities",
    "start": "925139",
    "end": "927180"
  },
  {
    "text": "right",
    "start": "927180",
    "end": "928980"
  },
  {
    "text": "there is an option when you open a file",
    "start": "928980",
    "end": "933959"
  },
  {
    "start": "930000",
    "end": "975000"
  },
  {
    "text": "for wall writing wal",
    "start": "933959",
    "end": "937320"
  },
  {
    "text": "says Hey I want to open with osync which",
    "start": "937320",
    "end": "940199"
  },
  {
    "text": "is open",
    "start": "940199",
    "end": "941519"
  },
  {
    "text": "underscore sync and that means every",
    "start": "941519",
    "end": "945120"
  },
  {
    "text": "right that I do just don't think don't",
    "start": "945120",
    "end": "948000"
  },
  {
    "text": "don't put it in your cash yeah you can",
    "start": "948000",
    "end": "950339"
  },
  {
    "text": "put in the cash but the moment I say",
    "start": "950339",
    "end": "951720"
  },
  {
    "text": "right block me please I want you to",
    "start": "951720",
    "end": "953639"
  },
  {
    "text": "block me and tell me when you actually",
    "start": "953639",
    "end": "956040"
  },
  {
    "text": "FL if you wrote everything into the desk",
    "start": "956040",
    "end": "959040"
  },
  {
    "text": "and then come back and when you return",
    "start": "959040",
    "end": "961380"
  },
  {
    "text": "you say hey",
    "start": "961380",
    "end": "963899"
  },
  {
    "text": "all good postgres has another option",
    "start": "963899",
    "end": "966240"
  },
  {
    "text": "where we'll give you",
    "start": "966240",
    "end": "968399"
  },
  {
    "text": "no I want to open the file which is the",
    "start": "968399",
    "end": "971940"
  },
  {
    "text": "walls with an option called the desync",
    "start": "971940",
    "end": "976079"
  },
  {
    "start": "975000",
    "end": "1030000"
  },
  {
    "text": "or desync which is",
    "start": "976079",
    "end": "979079"
  },
  {
    "text": "the first the difference between all",
    "start": "979079",
    "end": "980639"
  },
  {
    "text": "sync and or",
    "start": "980639",
    "end": "982459"
  },
  {
    "text": "osengan or desync means",
    "start": "982459",
    "end": "985560"
  },
  {
    "text": "all sync means if I want you to write",
    "start": "985560",
    "end": "988019"
  },
  {
    "text": "and flush everything right there and",
    "start": "988019",
    "end": "990360"
  },
  {
    "text": "write and when I write write everything",
    "start": "990360",
    "end": "992639"
  },
  {
    "text": "that you have in your files in the page",
    "start": "992639",
    "end": "995100"
  },
  {
    "text": "that includes my data and the metadata",
    "start": "995100",
    "end": "999120"
  },
  {
    "text": "with for the file the permissions and",
    "start": "999120",
    "end": "1001759"
  },
  {
    "text": "owners and all that other stuff the",
    "start": "1001759",
    "end": "1003860"
  },
  {
    "text": "group permission of the file system",
    "start": "1003860",
    "end": "1006139"
  },
  {
    "text": "metadata which can be large right so",
    "start": "1006139",
    "end": "1009380"
  },
  {
    "text": "there is another option that say hey",
    "start": "1009380",
    "end": "1011480"
  },
  {
    "text": "oh do you think I want to open this file",
    "start": "1011480",
    "end": "1014120"
  },
  {
    "text": "such that every right",
    "start": "1014120",
    "end": "1016220"
  },
  {
    "text": "only write the data you can lazily write",
    "start": "1016220",
    "end": "1020300"
  },
  {
    "text": "the metadata later so that's another",
    "start": "1020300",
    "end": "1022940"
  },
  {
    "text": "thing there is another option to open or",
    "start": "1022940",
    "end": "1025760"
  },
  {
    "text": "direct",
    "start": "1025760",
    "end": "1027020"
  },
  {
    "text": "what is the most confusing option in",
    "start": "1027020",
    "end": "1029240"
  },
  {
    "text": "existence right I can make a whole video",
    "start": "1029240",
    "end": "1032240"
  },
  {
    "start": "1030000",
    "end": "1140000"
  },
  {
    "text": "a podcast just talking about order act",
    "start": "1032240",
    "end": "1034760"
  },
  {
    "text": "or direct is",
    "start": "1034760",
    "end": "1037699"
  },
  {
    "text": "is a a way for the app in this case the",
    "start": "1037699",
    "end": "1043400"
  },
  {
    "text": "database to directly",
    "start": "1043400",
    "end": "1046240"
  },
  {
    "text": "bypass all the cash and write directly",
    "start": "1046240",
    "end": "1050540"
  },
  {
    "text": "to the disk right and this is done",
    "start": "1050540",
    "end": "1053059"
  },
  {
    "text": "through something called the dma the",
    "start": "1053059",
    "end": "1054740"
  },
  {
    "text": "direct memory access that there is a",
    "start": "1054740",
    "end": "1057320"
  },
  {
    "text": "coordination happening with the",
    "start": "1057320",
    "end": "1058760"
  },
  {
    "text": "operating system here such that the the",
    "start": "1058760",
    "end": "1060980"
  },
  {
    "text": "the the database will will ask the OS",
    "start": "1060980",
    "end": "1065000"
  },
  {
    "text": "says hey give me a local nice contiguous",
    "start": "1065000",
    "end": "1068000"
  },
  {
    "text": "contiguous memory and then asks then uh",
    "start": "1068000",
    "end": "1071900"
  },
  {
    "text": "the disk if I want to write for example",
    "start": "1071900",
    "end": "1074840"
  },
  {
    "text": "the OS the database will write to this",
    "start": "1074840",
    "end": "1077660"
  },
  {
    "text": "location and then the memory no the disk",
    "start": "1077660",
    "end": "1081500"
  },
  {
    "text": "controller will immediately read",
    "start": "1081500",
    "end": "1084520"
  },
  {
    "text": "directly from this so you're writing",
    "start": "1084520",
    "end": "1087980"
  },
  {
    "text": "directly to the disk there is no page",
    "start": "1087980",
    "end": "1090020"
  },
  {
    "text": "cache at all right and this and vice",
    "start": "1090020",
    "end": "1092720"
  },
  {
    "text": "versa when you read you read directly",
    "start": "1092720",
    "end": "1094760"
  },
  {
    "text": "from",
    "start": "1094760",
    "end": "1096020"
  },
  {
    "text": "uh",
    "start": "1096020",
    "end": "1097280"
  },
  {
    "text": "from the desk directly to the user space",
    "start": "1097280",
    "end": "1100220"
  },
  {
    "text": "there is no kernel space when it comes",
    "start": "1100220",
    "end": "1102860"
  },
  {
    "text": "to order act it's just a direct thing",
    "start": "1102860",
    "end": "1105020"
  },
  {
    "text": "direct memory is so fast and there is",
    "start": "1105020",
    "end": "1107980"
  },
  {
    "text": "absolutely no page cache you're",
    "start": "1107980",
    "end": "1110299"
  },
  {
    "text": "backpassing all that stuff and that's",
    "start": "1110299",
    "end": "1112580"
  },
  {
    "text": "the power of Iraq what's what's the",
    "start": "1112580",
    "end": "1114260"
  },
  {
    "text": "problem with that the database better",
    "start": "1114260",
    "end": "1116480"
  },
  {
    "text": "know or the app in this case",
    "start": "1116480",
    "end": "1118780"
  },
  {
    "text": "[Music]",
    "start": "1118780",
    "end": "1120740"
  },
  {
    "text": "what it's doing because now",
    "start": "1120740",
    "end": "1123380"
  },
  {
    "text": "the OS is not there to protect you you",
    "start": "1123380",
    "end": "1125660"
  },
  {
    "text": "wrote something you corrupted it's your",
    "start": "1125660",
    "end": "1127640"
  },
  {
    "text": "fault huh",
    "start": "1127640",
    "end": "1129260"
  },
  {
    "text": "all of this stuff now how what happens",
    "start": "1129260",
    "end": "1131900"
  },
  {
    "text": "to a file metadata and all that other",
    "start": "1131900",
    "end": "1134000"
  },
  {
    "text": "stuff",
    "start": "1134000",
    "end": "1135380"
  },
  {
    "text": "again it's very complex all that stuff",
    "start": "1135380",
    "end": "1139220"
  },
  {
    "text": "so yeah that's another option or direct",
    "start": "1139220",
    "end": "1141679"
  },
  {
    "start": "1140000",
    "end": "1250000"
  },
  {
    "text": "um",
    "start": "1141679",
    "end": "1142820"
  },
  {
    "text": "uh some",
    "start": "1142820",
    "end": "1144740"
  },
  {
    "text": "postgres also gives you another option",
    "start": "1144740",
    "end": "1146960"
  },
  {
    "text": "such that",
    "start": "1146960",
    "end": "1148700"
  },
  {
    "text": "if you enable this fsync you can say you",
    "start": "1148700",
    "end": "1153380"
  },
  {
    "text": "know what I want you to delay all this",
    "start": "1153380",
    "end": "1156380"
  },
  {
    "text": "wall writing it's expensive for every",
    "start": "1156380",
    "end": "1159260"
  },
  {
    "text": "imagine every wall highlight every",
    "start": "1159260",
    "end": "1161179"
  },
  {
    "text": "transaction that I execute every update",
    "start": "1161179",
    "end": "1163100"
  },
  {
    "text": "I do it just writes to the disk directly",
    "start": "1163100",
    "end": "1166220"
  },
  {
    "text": "no no no it's okay I'm a transactional",
    "start": "1166220",
    "end": "1169160"
  },
  {
    "text": "assistant what I want you to guarantee",
    "start": "1169160",
    "end": "1171440"
  },
  {
    "text": "is if I say commit then everything",
    "start": "1171440",
    "end": "1175700"
  },
  {
    "text": "gets committed actually written that's",
    "start": "1175700",
    "end": "1179000"
  },
  {
    "text": "all that's all what I'm asking for",
    "start": "1179000",
    "end": "1181520"
  },
  {
    "text": "and",
    "start": "1181520",
    "end": "1182780"
  },
  {
    "text": "here's where you can also play games",
    "start": "1182780",
    "end": "1185120"
  },
  {
    "text": "right",
    "start": "1185120",
    "end": "1186620"
  },
  {
    "text": "so you can you can you can open so you",
    "start": "1186620",
    "end": "1189559"
  },
  {
    "text": "can open the file normally for right but",
    "start": "1189559",
    "end": "1192980"
  },
  {
    "text": "the the the the",
    "start": "1192980",
    "end": "1194980"
  },
  {
    "text": "commit when you actually physically do a",
    "start": "1194980",
    "end": "1197240"
  },
  {
    "text": "transactional commit the",
    "start": "1197240",
    "end": "1200120"
  },
  {
    "text": "back end which is the database will",
    "start": "1200120",
    "end": "1202400"
  },
  {
    "text": "issue a command says okay I'm now I'm",
    "start": "1202400",
    "end": "1204620"
  },
  {
    "text": "gonna call fsync only at the commit",
    "start": "1204620",
    "end": "1207440"
  },
  {
    "text": "physically call ifscync only at the",
    "start": "1207440",
    "end": "1209480"
  },
  {
    "text": "command not for every single right",
    "start": "1209480",
    "end": "1212000"
  },
  {
    "text": "right and that is so powerful because",
    "start": "1212000",
    "end": "1215720"
  },
  {
    "text": "now",
    "start": "1215720",
    "end": "1217400"
  },
  {
    "text": "uh all the transactions that's a long",
    "start": "1217400",
    "end": "1220160"
  },
  {
    "text": "transaction",
    "start": "1220160",
    "end": "1221360"
  },
  {
    "text": "this can be written to memory when I say",
    "start": "1221360",
    "end": "1223580"
  },
  {
    "text": "memory God what is memory anymore right",
    "start": "1223580",
    "end": "1227000"
  },
  {
    "text": "is it the buffer shared buffer or is it",
    "start": "1227000",
    "end": "1230240"
  },
  {
    "text": "the page cache oh that's what we mean",
    "start": "1230240",
    "end": "1233000"
  },
  {
    "text": "basically to the to the page cache right",
    "start": "1233000",
    "end": "1236480"
  },
  {
    "text": "at the kernel page cache and that's fine",
    "start": "1236480",
    "end": "1239120"
  },
  {
    "text": "then later we'll flush it when we do a",
    "start": "1239120",
    "end": "1243440"
  },
  {
    "text": "commit that I better you better block me",
    "start": "1243440",
    "end": "1246620"
  },
  {
    "text": "when I say commit block me until",
    "start": "1246620",
    "end": "1248960"
  },
  {
    "text": "everything is written and that there is",
    "start": "1248960",
    "end": "1251059"
  },
  {
    "start": "1250000",
    "end": "1273000"
  },
  {
    "text": "another option",
    "start": "1251059",
    "end": "1252380"
  },
  {
    "text": "which is called ifsync Data if data sync",
    "start": "1252380",
    "end": "1255620"
  },
  {
    "text": "right which tells you which on command",
    "start": "1255620",
    "end": "1260480"
  },
  {
    "text": "on when you try when you commit",
    "start": "1260480",
    "end": "1262100"
  },
  {
    "text": "transaction it will only flush the data",
    "start": "1262100",
    "end": "1266600"
  },
  {
    "text": "which is the wall entries not the",
    "start": "1266600",
    "end": "1268940"
  },
  {
    "text": "metadata of the files that belong to the",
    "start": "1268940",
    "end": "1271940"
  },
  {
    "text": "wall does that make sense there is one",
    "start": "1271940",
    "end": "1274880"
  },
  {
    "start": "1273000",
    "end": "1410000"
  },
  {
    "text": "final option in postgres that I forgot",
    "start": "1274880",
    "end": "1277160"
  },
  {
    "text": "to mention is you can turn ifsync off",
    "start": "1277160",
    "end": "1280340"
  },
  {
    "text": "all together",
    "start": "1280340",
    "end": "1282380"
  },
  {
    "text": "for wall writing what does that mean it",
    "start": "1282380",
    "end": "1285559"
  },
  {
    "text": "means that",
    "start": "1285559",
    "end": "1286700"
  },
  {
    "text": "you don't care",
    "start": "1286700",
    "end": "1288140"
  },
  {
    "text": "if you commit",
    "start": "1288140",
    "end": "1290000"
  },
  {
    "text": "a transaction or you write anything to",
    "start": "1290000",
    "end": "1292460"
  },
  {
    "text": "the wall",
    "start": "1292460",
    "end": "1293419"
  },
  {
    "text": "it is point for you",
    "start": "1293419",
    "end": "1297100"
  },
  {
    "text": "to write the information to the page",
    "start": "1297100",
    "end": "1301100"
  },
  {
    "text": "cache in the file system and",
    "start": "1301100",
    "end": "1304159"
  },
  {
    "text": "return immediately",
    "start": "1304159",
    "end": "1306140"
  },
  {
    "text": "it is okay not to run fsync and actually",
    "start": "1306140",
    "end": "1310100"
  },
  {
    "text": "write all these pages to the disk",
    "start": "1310100",
    "end": "1313039"
  },
  {
    "text": "controller which will eventually get",
    "start": "1313039",
    "end": "1314900"
  },
  {
    "text": "flush from the cache down to the media",
    "start": "1314900",
    "end": "1317360"
  },
  {
    "text": "the nand cells that is fine",
    "start": "1317360",
    "end": "1321260"
  },
  {
    "text": "um the danger of course you are getting",
    "start": "1321260",
    "end": "1325580"
  },
  {
    "text": "the situation where if the crash happens",
    "start": "1325580",
    "end": "1328039"
  },
  {
    "text": "it's on you as a as the person who have",
    "start": "1328039",
    "end": "1331520"
  },
  {
    "text": "done this I have my postgres runs with",
    "start": "1331520",
    "end": "1336679"
  },
  {
    "text": "fsync equal off",
    "start": "1336679",
    "end": "1339260"
  },
  {
    "text": "and the other option page full page",
    "start": "1339260",
    "end": "1342440"
  },
  {
    "text": "rights are off and the reason is because",
    "start": "1342440",
    "end": "1344659"
  },
  {
    "text": "these are I want my test runs to run as",
    "start": "1344659",
    "end": "1347539"
  },
  {
    "text": "fast as possible in postgres and",
    "start": "1347539",
    "end": "1349520"
  },
  {
    "text": "absolutely I don't care if the database",
    "start": "1349520",
    "end": "1352520"
  },
  {
    "text": "crashes because if a crashes my whole",
    "start": "1352520",
    "end": "1354860"
  },
  {
    "text": "test is is done I create the database",
    "start": "1354860",
    "end": "1357080"
  },
  {
    "text": "from scratch anyway it's all test data",
    "start": "1357080",
    "end": "1359000"
  },
  {
    "text": "and I'm not testing really performance",
    "start": "1359000",
    "end": "1361159"
  },
  {
    "text": "or anything I want my test cases to run",
    "start": "1361159",
    "end": "1364220"
  },
  {
    "text": "as fast as possible so",
    "start": "1364220",
    "end": "1366799"
  },
  {
    "text": "uh I that's the goal so I I turned this",
    "start": "1366799",
    "end": "1371240"
  },
  {
    "text": "option off in my podcast instances for",
    "start": "1371240",
    "end": "1373280"
  },
  {
    "text": "these test cases that I write on",
    "start": "1373280",
    "end": "1375440"
  },
  {
    "text": "postcode and I see a significant",
    "start": "1375440",
    "end": "1378200"
  },
  {
    "text": "difference it makes sense right for that",
    "start": "1378200",
    "end": "1380780"
  },
  {
    "text": "case for other cases a production",
    "start": "1380780",
    "end": "1383000"
  },
  {
    "text": "absolutely have to have it on and then",
    "start": "1383000",
    "end": "1385220"
  },
  {
    "text": "you have to take at least have it on and",
    "start": "1385220",
    "end": "1388520"
  },
  {
    "text": "configure it such that on Commit at",
    "start": "1388520",
    "end": "1391700"
  },
  {
    "text": "least",
    "start": "1391700",
    "end": "1392780"
  },
  {
    "text": "blush those changes to desk right I",
    "start": "1392780",
    "end": "1396380"
  },
  {
    "text": "think the the option to have it on Open",
    "start": "1396380",
    "end": "1399320"
  },
  {
    "text": "is slightly",
    "start": "1399320",
    "end": "1400940"
  },
  {
    "text": "costly and the reason is because every",
    "start": "1400940",
    "end": "1404720"
  },
  {
    "text": "single right is doing an fsync",
    "start": "1404720",
    "end": "1406760"
  },
  {
    "text": "technically right whether that's a data",
    "start": "1406760",
    "end": "1408919"
  },
  {
    "text": "of sync or a full fsync with the",
    "start": "1408919",
    "end": "1410600"
  },
  {
    "start": "1410000",
    "end": "1560000"
  },
  {
    "text": "metadata of the file system and that's",
    "start": "1410600",
    "end": "1412159"
  },
  {
    "text": "something you have to kind of watch that",
    "start": "1412159",
    "end": "1414380"
  },
  {
    "text": "and you can configure that parameter on",
    "start": "1414380",
    "end": "1416720"
  },
  {
    "text": "postgres again this is not a",
    "start": "1416720",
    "end": "1419539"
  },
  {
    "text": "configuration or tuning",
    "start": "1419539",
    "end": "1422020"
  },
  {
    "text": "but boy you can do so much in that case",
    "start": "1422020",
    "end": "1425120"
  },
  {
    "text": "right this thing is just so interesting",
    "start": "1425120",
    "end": "1429020"
  },
  {
    "text": "but it tells you there are so many",
    "start": "1429020",
    "end": "1430880"
  },
  {
    "text": "layers to this thing right so as a",
    "start": "1430880",
    "end": "1433340"
  },
  {
    "text": "summary the disk lies definitely lines",
    "start": "1433340",
    "end": "1436159"
  },
  {
    "text": "and the database definitely suffers as a",
    "start": "1436159",
    "end": "1438799"
  },
  {
    "text": "result that's why we expose all these uh",
    "start": "1438799",
    "end": "1442220"
  },
  {
    "text": "configurations to the user like to us we",
    "start": "1442220",
    "end": "1445760"
  },
  {
    "text": "need to know about this stuff that's the",
    "start": "1445760",
    "end": "1447980"
  },
  {
    "text": "truth the truth is we are dealing with",
    "start": "1447980",
    "end": "1450380"
  },
  {
    "text": "these many layers so to hide all of this",
    "start": "1450380",
    "end": "1454520"
  },
  {
    "text": "is such",
    "start": "1454520",
    "end": "1456620"
  },
  {
    "text": "a lie",
    "start": "1456620",
    "end": "1458360"
  },
  {
    "text": "right to the application developer we",
    "start": "1458360",
    "end": "1460460"
  },
  {
    "text": "should never hide anything right that's",
    "start": "1460460",
    "end": "1463340"
  },
  {
    "text": "why I wrote it I wrote a Blog about that",
    "start": "1463340",
    "end": "1465679"
  },
  {
    "text": "never don't never make your API simple",
    "start": "1465679",
    "end": "1468080"
  },
  {
    "text": "if you're",
    "start": "1468080",
    "end": "1470000"
  },
  {
    "text": "think that you're building is complex by",
    "start": "1470000",
    "end": "1472640"
  },
  {
    "text": "Nature right it's just it's the way it",
    "start": "1472640",
    "end": "1475460"
  },
  {
    "text": "is expose almost everything to the user",
    "start": "1475460",
    "end": "1478520"
  },
  {
    "text": "to the consumer",
    "start": "1478520",
    "end": "1480140"
  },
  {
    "text": "You can disagree with me but by by",
    "start": "1480140",
    "end": "1483380"
  },
  {
    "text": "exposing everything you show the",
    "start": "1483380",
    "end": "1486620"
  },
  {
    "text": "consumer everything and that's what",
    "start": "1486620",
    "end": "1489679"
  },
  {
    "text": "databases do the database never hide it",
    "start": "1489679",
    "end": "1491720"
  },
  {
    "text": "like in fact they add more and more",
    "start": "1491720",
    "end": "1493460"
  },
  {
    "text": "configuration and options because",
    "start": "1493460",
    "end": "1496039"
  },
  {
    "text": "you will never know how people will use",
    "start": "1496039",
    "end": "1498260"
  },
  {
    "text": "your API",
    "start": "1498260",
    "end": "1500720"
  },
  {
    "text": "it's such a complex thing when we're",
    "start": "1500720",
    "end": "1503780"
  },
  {
    "text": "dealing with complex thing you have two",
    "start": "1503780",
    "end": "1505880"
  },
  {
    "text": "options",
    "start": "1505880",
    "end": "1507080"
  },
  {
    "text": "it if it's if it's in complex by Nature",
    "start": "1507080",
    "end": "1510799"
  },
  {
    "text": "then expose this complexity to the user",
    "start": "1510799",
    "end": "1513559"
  },
  {
    "text": "let the user feel it let the user have",
    "start": "1513559",
    "end": "1516020"
  },
  {
    "text": "the option to pick and choose you can't",
    "start": "1516020",
    "end": "1518539"
  },
  {
    "text": "say oh just right boom no what does that",
    "start": "1518539",
    "end": "1522440"
  },
  {
    "text": "mean like there's there's all sort of",
    "start": "1522440",
    "end": "1524179"
  },
  {
    "text": "magic happening behind this API you have",
    "start": "1524179",
    "end": "1527179"
  },
  {
    "text": "to tell me what's going on right",
    "start": "1527179",
    "end": "1528500"
  },
  {
    "text": "otherwise I call right and then oh my I",
    "start": "1528500",
    "end": "1532400"
  },
  {
    "text": "but I call right my data is not in this",
    "start": "1532400",
    "end": "1534620"
  },
  {
    "text": "why I thought I called right no because",
    "start": "1534620",
    "end": "1536659"
  },
  {
    "text": "you don't understand all this",
    "start": "1536659",
    "end": "1538880"
  },
  {
    "text": "things behind that good",
    "start": "1538880",
    "end": "1542059"
  },
  {
    "text": "is this interesting to to go through all",
    "start": "1542059",
    "end": "1545120"
  },
  {
    "text": "this and",
    "start": "1545120",
    "end": "1546620"
  },
  {
    "text": "trying to make sense of all that stuff",
    "start": "1546620",
    "end": "1549020"
  },
  {
    "text": "the other option as I said is",
    "start": "1549020",
    "end": "1552320"
  },
  {
    "text": "try to make the whole thing simpler",
    "start": "1552320",
    "end": "1554840"
  },
  {
    "text": "which is also an option",
    "start": "1554840",
    "end": "1557360"
  },
  {
    "text": "but that my friend you are alone because",
    "start": "1557360",
    "end": "1560360"
  },
  {
    "start": "1560000",
    "end": "1756000"
  },
  {
    "text": "nobody did that nobody have written as",
    "start": "1560360",
    "end": "1563900"
  },
  {
    "text": "far as I know",
    "start": "1563900",
    "end": "1566559"
  },
  {
    "text": "system",
    "start": "1567860",
    "end": "1569419"
  },
  {
    "text": "that talks directly",
    "start": "1569419",
    "end": "1572419"
  },
  {
    "text": "to the disk drive directly",
    "start": "1572419",
    "end": "1575480"
  },
  {
    "text": "because it's a very big task you have no",
    "start": "1575480",
    "end": "1578360"
  },
  {
    "text": "idea how much work the operating system",
    "start": "1578360",
    "end": "1581240"
  },
  {
    "text": "is doing",
    "start": "1581240",
    "end": "1582440"
  },
  {
    "text": "if you do you want to skip the OS",
    "start": "1582440",
    "end": "1585740"
  },
  {
    "text": "or you want to skip part of the",
    "start": "1585740",
    "end": "1588260"
  },
  {
    "text": "scheduling the CPU you know the",
    "start": "1588260",
    "end": "1591080"
  },
  {
    "text": "instruction management all this",
    "start": "1591080",
    "end": "1593419"
  },
  {
    "text": "you know the the the memory controller",
    "start": "1593419",
    "end": "1596480"
  },
  {
    "text": "the virtual memory system it's a complex",
    "start": "1596480",
    "end": "1598880"
  },
  {
    "text": "thing if you want to discard all that",
    "start": "1598880",
    "end": "1603919"
  },
  {
    "text": "and make your app simpler but I say I",
    "start": "1603919",
    "end": "1607039"
  },
  {
    "text": "don't need any of that",
    "start": "1607039",
    "end": "1610700"
  },
  {
    "text": "just give me a direct access to the",
    "start": "1610700",
    "end": "1612799"
  },
  {
    "text": "physical memory direct access to the CPU",
    "start": "1612799",
    "end": "1615440"
  },
  {
    "text": "I'm gonna write my own instruction set",
    "start": "1615440",
    "end": "1617799"
  },
  {
    "text": "for that CPU right",
    "start": "1617799",
    "end": "1621320"
  },
  {
    "text": "and",
    "start": "1621320",
    "end": "1623539"
  },
  {
    "text": "I'm going to write directly to this disk",
    "start": "1623539",
    "end": "1626059"
  },
  {
    "text": "you can kiss portability goodbye of",
    "start": "1626059",
    "end": "1628820"
  },
  {
    "text": "course that and that's what Apple",
    "start": "1628820",
    "end": "1630880"
  },
  {
    "text": "innocence is doing they're just",
    "start": "1630880",
    "end": "1634520"
  },
  {
    "text": "making their own proprietary stuff such",
    "start": "1634520",
    "end": "1638299"
  },
  {
    "text": "that all this CPU the disk drive the the",
    "start": "1638299",
    "end": "1642140"
  },
  {
    "text": "memory everything is in one chip right",
    "start": "1642140",
    "end": "1645740"
  },
  {
    "text": "but the desk is a and another but then",
    "start": "1645740",
    "end": "1648440"
  },
  {
    "text": "the if they have control over all of",
    "start": "1648440",
    "end": "1650779"
  },
  {
    "text": "this stuff",
    "start": "1650779",
    "end": "1651860"
  },
  {
    "text": "then",
    "start": "1651860",
    "end": "1654140"
  },
  {
    "text": "they can",
    "start": "1654140",
    "end": "1656980"
  },
  {
    "text": "maximize",
    "start": "1656980",
    "end": "1658880"
  },
  {
    "text": "the performance there because they know",
    "start": "1658880",
    "end": "1661340"
  },
  {
    "text": "every in and out there there's no like",
    "start": "1661340",
    "end": "1664100"
  },
  {
    "text": "open portability of this that that's",
    "start": "1664100",
    "end": "1666320"
  },
  {
    "text": "another trade-off you're playing but if",
    "start": "1666320",
    "end": "1669440"
  },
  {
    "text": "you want to really jump",
    "start": "1669440",
    "end": "1672620"
  },
  {
    "text": "to the absolute performance",
    "start": "1672620",
    "end": "1677000"
  },
  {
    "text": "you have to cut the Metal Man",
    "start": "1677000",
    "end": "1679480"
  },
  {
    "text": "that's not an easy job at the end of the",
    "start": "1679480",
    "end": "1682340"
  },
  {
    "text": "day",
    "start": "1682340",
    "end": "1683360"
  },
  {
    "text": "the disk lies",
    "start": "1683360",
    "end": "1685039"
  },
  {
    "text": "so watch out for the lies of the disc",
    "start": "1685039",
    "end": "1688820"
  },
  {
    "text": "how do you know I'm gonna reference by",
    "start": "1688820",
    "end": "1691520"
  },
  {
    "text": "the way a Blog hopefully I can find it",
    "start": "1691520",
    "end": "1694220"
  },
  {
    "text": "about",
    "start": "1694220",
    "end": "1695539"
  },
  {
    "text": "exactly that problem how flush actually",
    "start": "1695539",
    "end": "1698179"
  },
  {
    "text": "is just doing ignored right even if the",
    "start": "1698179",
    "end": "1701000"
  },
  {
    "text": "SSD doesn't have a battery powered",
    "start": "1701000",
    "end": "1703760"
  },
  {
    "text": "system sometimes just decide to ignore",
    "start": "1703760",
    "end": "1706460"
  },
  {
    "text": "it and says hey I'm gonna buffer it for",
    "start": "1706460",
    "end": "1709340"
  },
  {
    "text": "a few more milliseconds",
    "start": "1709340",
    "end": "1711620"
  },
  {
    "text": "and this is a decision that this is the",
    "start": "1711620",
    "end": "1713900"
  },
  {
    "text": "controller does can you crash in the",
    "start": "1713900",
    "end": "1716419"
  },
  {
    "text": "middle of this and lose data sure",
    "start": "1716419",
    "end": "1719600"
  },
  {
    "text": "that's why you take other contingencies",
    "start": "1719600",
    "end": "1722299"
  },
  {
    "text": "right that's why building a production",
    "start": "1722299",
    "end": "1724039"
  },
  {
    "text": "system is complex right you have okay",
    "start": "1724039",
    "end": "1726500"
  },
  {
    "text": "you can't lose power because even if you",
    "start": "1726500",
    "end": "1728419"
  },
  {
    "text": "lose power there is a another system",
    "start": "1728419",
    "end": "1730340"
  },
  {
    "text": "that immediately generates the power so",
    "start": "1730340",
    "end": "1732679"
  },
  {
    "text": "you don't lose it immediately the the",
    "start": "1732679",
    "end": "1735440"
  },
  {
    "text": "server itself had a battery packed",
    "start": "1735440",
    "end": "1739400"
  },
  {
    "text": "right the backup battery such that even",
    "start": "1739400",
    "end": "1743480"
  },
  {
    "text": "if a few lows power there is a backup",
    "start": "1743480",
    "end": "1746179"
  },
  {
    "text": "place so there's always a backup of the",
    "start": "1746179",
    "end": "1748760"
  },
  {
    "text": "backup of the backup uh and and the",
    "start": "1748760",
    "end": "1751940"
  },
  {
    "text": "whole thing is very interesting to me",
    "start": "1751940",
    "end": "1753380"
  },
  {
    "text": "all right guys see you in the next one",
    "start": "1753380",
    "end": "1757179"
  }
]