[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "I absolutely enjoy a Dropbox technology block they write about very unique",
    "start": "0",
    "end": "7940"
  },
  {
    "text": "engineering problems that we don't run into you know in our daily lives it's a",
    "start": "7940",
    "end": "14580"
  },
  {
    "text": "very specific to their environment being a storage company right so and this",
    "start": "14580",
    "end": "22920"
  },
  {
    "text": "particular article they talk about how their magic pocket which is I suppose this is their storage engine",
    "start": "22920",
    "end": "30140"
  },
  {
    "text": "had suffered some right throughput latencies that they want to solve",
    "start": "30140",
    "end": "36960"
  },
  {
    "text": "uh and they were using an SSD cache disk so it's interesting using SSD itself as",
    "start": "36960",
    "end": "46980"
  },
  {
    "text": "a cache well we know SSD is actually a persisted model right it's a persistent storage where you can write and",
    "start": "46980",
    "end": "53100"
  },
  {
    "text": "guarantee that the stuff will be there but they're using it actually just at a",
    "start": "53100",
    "end": "58199"
  },
  {
    "text": "temporary cash in order to fully persisted to a",
    "start": "58199",
    "end": "65518"
  },
  {
    "text": "back-end larger density storage called a hard",
    "start": "65519",
    "end": "71040"
  },
  {
    "text": "drive SMR hard drive I'm going to talk about all of that so so in this particular block they they talk about",
    "start": "71040",
    "end": "77340"
  },
  {
    "text": "how they actually removed this SSD disk all together and they purely switch to",
    "start": "77340",
    "end": "82979"
  },
  {
    "text": "hard drives only you know because this is really counter-intuitive like if we know hard",
    "start": "82979",
    "end": "89700"
  },
  {
    "text": "drives are actually slower then this is D what are we talking about here we're removing ssds and using hard drives",
    "start": "89700",
    "end": "96180"
  },
  {
    "text": "isn't that going to be slower apparently it's actually not it's gonna be faster in the long run right so how about we",
    "start": "96180",
    "end": "103860"
  },
  {
    "text": "actually go there and and discuss uh this article and I'm gonna summarize it",
    "start": "103860",
    "end": "109460"
  },
  {
    "text": "and uh give my points as well let's get into it well welcome to the back engineering show with your host Jose",
    "start": "109460",
    "end": "115619"
  },
  {
    "text": "Nasser and I love absolutely love these things when I first read this uh title",
    "start": "115619",
    "end": "120899"
  },
  {
    "start": "120000",
    "end": "180000"
  },
  {
    "text": "increasing magic Pockets right throughput by removing our SSD cache",
    "start": "120899",
    "end": "126180"
  },
  {
    "text": "I have no idea why my brain went to the cache in the SSD itself this article has",
    "start": "126180",
    "end": "133980"
  },
  {
    "text": "nothing to do with that they're talking about a logical SSD cache that they",
    "start": "133980",
    "end": "140520"
  },
  {
    "text": "built themselves where they write as to a SSD drive and use it as a cache right",
    "start": "140520",
    "end": "147060"
  },
  {
    "text": "so as a summary to this article I'm going to summarize a little bit and",
    "start": "147060",
    "end": "153959"
  },
  {
    "text": "then go through Port by port and then Port by Port by port and and actually",
    "start": "153959",
    "end": "159420"
  },
  {
    "text": "tear it apart right so here's here's the cliff note of the whole article if you",
    "start": "159420",
    "end": "164519"
  },
  {
    "text": "don't want to watch the whole thing or listen to the whole thing uh there is this technology called SMR drives",
    "start": "164519",
    "end": "171000"
  },
  {
    "text": "introduced in 2017. it's a hard drive right hard drives how does how do hard",
    "start": "171000",
    "end": "176459"
  },
  {
    "text": "drive works so there's a needle there is desk and there is like a little bit slivers of areas where you can write to",
    "start": "176459",
    "end": "184920"
  },
  {
    "start": "180000",
    "end": "360000"
  },
  {
    "text": "these uh to the to that drive right and you can",
    "start": "184920",
    "end": "190819"
  },
  {
    "text": "physically put this uh I suppose they are called sectors or tracks next to",
    "start": "190819",
    "end": "197760"
  },
  {
    "text": "each other right until there's like no possible way that you can make them so",
    "start": "197760",
    "end": "203940"
  },
  {
    "text": "close to each other because they they can interfere with each other so technically speaking if you pushed these",
    "start": "203940",
    "end": "209940"
  },
  {
    "text": "tracks together to a small area there's only physically you can only go so small after which",
    "start": "209940",
    "end": "217379"
  },
  {
    "text": "you're gonna start losing data so there is a limit to hard drives so",
    "start": "217379",
    "end": "223799"
  },
  {
    "text": "what what people find out is like okay sure we cannot put them as close this is as close as we can get them together you",
    "start": "223799",
    "end": "230879"
  },
  {
    "text": "know and of course there's like all those they put them prophetic these tracks are actually perpendicular to",
    "start": "230879",
    "end": "236819"
  },
  {
    "text": "each other so they can even put them closer and closer together but there's always comes to the physical space you",
    "start": "236819",
    "end": "243120"
  },
  {
    "text": "don't have space anymore right so what people discovered is this technology called shingen shingled magnetic",
    "start": "243120",
    "end": "249900"
  },
  {
    "text": "recording where you know what let's actually put them on top of each other it's like what is it isn't that actually",
    "start": "249900",
    "end": "255599"
  },
  {
    "text": "override data sure but this will allow us to increase the density",
    "start": "255599",
    "end": "261180"
  },
  {
    "text": "so on one condition if I shingle these things like a house like almost like a",
    "start": "261180",
    "end": "267060"
  },
  {
    "text": "like a rooftop right if I shingle them there is a rule if I write to the first track you can override the next one",
    "start": "267060",
    "end": "274860"
  },
  {
    "text": "because technically speaking you're writing on top of each other right so here is the condition you're you're",
    "start": "274860",
    "end": "281580"
  },
  {
    "text": "changing the whole game here are they changing the software the client side software that rise to the shingle",
    "start": "281580",
    "end": "286680"
  },
  {
    "text": "completely change now you have to write in sequence you have to write in the first one the second the third until you",
    "start": "286680",
    "end": "293699"
  },
  {
    "text": "finish it so if you want to change anything in the middle sorry you have to change anything after that so there is",
    "start": "293699",
    "end": "299460"
  },
  {
    "text": "you have to read and rewrite so that's the condition that will",
    "start": "299460",
    "end": "304560"
  },
  {
    "text": "introduced us that's shingle magnetic recording it's been popular there is always limitation to it you know because",
    "start": "304560",
    "end": "311520"
  },
  {
    "text": "you can't just use something right you have to rewrite the software so they start using it because now you you can",
    "start": "311520",
    "end": "318060"
  },
  {
    "text": "get a hard drive up to 20 terabyte which is wow so naturally SMR is the way to go",
    "start": "318060",
    "end": "324300"
  },
  {
    "text": "we have higher capacity and Dropbox so that and says oh that's",
    "start": "324300",
    "end": "329580"
  },
  {
    "text": "actually fantastic let's go let's go ahead and use it because we can we need more space of course we're a storage",
    "start": "329580",
    "end": "335400"
  },
  {
    "text": "company we're gonna need more space a cheaper the problem with this amount is it's slow to ride too and because it",
    "start": "335400",
    "end": "341699"
  },
  {
    "text": "depends on even how the client is configured because of this ordered reading if you have random forget about",
    "start": "341699",
    "end": "348720"
  },
  {
    "text": "using SMR random workloads right you have to rewrite your whole software stack so write sequentially to take full",
    "start": "348720",
    "end": "356880"
  },
  {
    "text": "advantage of that so they said uh you know what SMR is not for us I mean yeah sure it's a good thing we're going to",
    "start": "356880",
    "end": "362759"
  },
  {
    "start": "360000",
    "end": "480000"
  },
  {
    "text": "keep using it but we can't directly write to it because the clients will",
    "start": "362759",
    "end": "368039"
  },
  {
    "text": "feel it right if I'm committing something and I'm uploading a file and I write it",
    "start": "368039",
    "end": "374220"
  },
  {
    "text": "to SMR it's going to take a long time right maybe 100 millisecond 150",
    "start": "374220",
    "end": "381479"
  },
  {
    "text": "millisecond I don't know exact numbers but that's that's the rough speak right compared to SSD which is blazing fast",
    "start": "381479",
    "end": "387960"
  },
  {
    "text": "right because it's just flash there's no moving part so SSD so naturally what they decided to do and that's that's",
    "start": "387960",
    "end": "394680"
  },
  {
    "text": "that's a long time ago right they decided to As Long As I say long",
    "start": "394680",
    "end": "400259"
  },
  {
    "text": "time it's 2017. they said you know what let's put an SSD cache layer",
    "start": "400259",
    "end": "405660"
  },
  {
    "text": "and write to the SSD and once we arrive to the SSD we consider this a commit because we know it it's persisted our",
    "start": "405660",
    "end": "412620"
  },
  {
    "text": "SSD is not like it's gonna crash even if it's crashed we're gonna use multiple hosts right we're going to write the",
    "start": "412620",
    "end": "418620"
  },
  {
    "text": "same thing twice so that in case of a crash we still have durability right so they have like redundancy and stuff like",
    "start": "418620",
    "end": "424500"
  },
  {
    "text": "that once I arrive to the SSD I'm done both exit right acknowledge the to the user to the client right I don't",
    "start": "424500",
    "end": "431580"
  },
  {
    "text": "necessarily as a user but whoever the backend application called that so then in the background I am going to",
    "start": "431580",
    "end": "439319"
  },
  {
    "text": "take the cache from the SSD and write it asynchronously to the ASMR to SMI ASMR",
    "start": "439319",
    "end": "448020"
  },
  {
    "text": "right today I was gonna write to the ASMR Drive this technology is used as a single",
    "start": "448020",
    "end": "453539"
  },
  {
    "text": "magnetic recording okay I'm stopped uh so on the background we're going to use asynchronous writing",
    "start": "453539",
    "end": "460460"
  },
  {
    "text": "background writing to to the SMR drives and life is happy right this is called",
    "start": "460460",
    "end": "465479"
  },
  {
    "text": "right back technology right back cache I suppose instead of right through where you write to the cache and then you",
    "start": "465479",
    "end": "471599"
  },
  {
    "text": "write to the actual backend store so this worked for them except here's the",
    "start": "471599",
    "end": "476819"
  },
  {
    "text": "thing as the summer get cheaper and cheaper to manufacture they get larger and larger they said you know what",
    "start": "476819",
    "end": "484680"
  },
  {
    "start": "480000",
    "end": "570000"
  },
  {
    "text": "we have a hard drive we have a host with close to two petabytes of data so what's",
    "start": "484680",
    "end": "491160"
  },
  {
    "text": "that's 2 000 terabytes right but we now they started becoming",
    "start": "491160",
    "end": "496580"
  },
  {
    "text": "the bottleneck became the SSD itself right because now we have this huge host",
    "start": "496580",
    "end": "503280"
  },
  {
    "text": "right with so much data right so we need less servers but now everything goes to",
    "start": "503280",
    "end": "508620"
  },
  {
    "text": "the SSD the SSD became a bottleneck so now what they are suggesting is like",
    "start": "508620",
    "end": "513959"
  },
  {
    "text": "you know what I'm going to get rid of the SSD and we're going to write to that directly to the smrs right and",
    "start": "513959",
    "end": "520339"
  },
  {
    "text": "surprisingly they saw fantastic results because at the end of the day yeah SSD",
    "start": "520339",
    "end": "526800"
  },
  {
    "text": "is faster right but what happened if you saturated you have",
    "start": "526800",
    "end": "532860"
  },
  {
    "text": "you know 20 gig per second that's it you cannot get more than 20 gig per second from an SSD but I have",
    "start": "532860",
    "end": "540480"
  },
  {
    "text": "two petabytes per host like 20 gigabyte is nothing you need the the more data I",
    "start": "540480",
    "end": "547140"
  },
  {
    "text": "have you need the host needs to give me more throughput so that's the problem",
    "start": "547140",
    "end": "553080"
  },
  {
    "text": "right that's the problem they said so they got rid of the SSD short long story short and they uh changed the technology",
    "start": "553080",
    "end": "559980"
  },
  {
    "text": "their storage engine so that it writes to the SMR so that's and they they saw what 10 percent right throughput at the",
    "start": "559980",
    "end": "567600"
  },
  {
    "text": "maximum tail latencies so let's go ahead and get uh that's the story right",
    "start": "567600",
    "end": "572700"
  },
  {
    "start": "570000",
    "end": "870000"
  },
  {
    "text": "so let's go ahead and read through this and discuss a little bit and when magic when magic pocket adapted SMR drives in",
    "start": "572700",
    "end": "579899"
  },
  {
    "text": "2017 one of the design decision was to use ssds at a right back cache for live right as I talked about that the main",
    "start": "579899",
    "end": "586260"
  },
  {
    "text": "motivation that it's a more disk have a reputation for being slower for random rides than PMR which is the",
    "start": "586260",
    "end": "592080"
  },
  {
    "text": "perpendicular magnetic recording right I talked about that a little bit in the summary to compensate live rights magic",
    "start": "592080",
    "end": "598560"
  },
  {
    "text": "we're committed to ssds First and acknowledgment were sent Upstream Services immediately",
    "start": "598560",
    "end": "603600"
  },
  {
    "text": "just just acknowledge that an asynchronous background process would then flush a set of random rides to smrs",
    "start": "603600",
    "end": "611160"
  },
  {
    "text": "sequential right so now in the background we're going to be smart okay these are all random but I'm going to",
    "start": "611160",
    "end": "617100"
  },
  {
    "text": "collect them such that they are sequential because it's a more love sequencer SMR loves sequential",
    "start": "617100",
    "end": "624720"
  },
  {
    "text": "um right magic pocket was able to support higher disk density densities while maintaining our durability and",
    "start": "624720",
    "end": "630779"
  },
  {
    "text": "available guarantee so this is in 2017 but hey we want higher density we got it",
    "start": "630779",
    "end": "636720"
  },
  {
    "text": "right and this is D saved us this design worked well for us over the years our",
    "start": "636720",
    "end": "642000"
  },
  {
    "text": "new generation storage platform were able to support disk with greater density",
    "start": "642000",
    "end": "647399"
  },
  {
    "text": "10 to 20 terabyte per disk and I suppose this this they mean here the of course",
    "start": "647399",
    "end": "653339"
  },
  {
    "text": "the shingled right I don't think there is an SSD was 20 terabyte I might be wrong a single storage host",
    "start": "653339",
    "end": "660300"
  },
  {
    "text": "because think of this this storage horse is actually where the is a server that",
    "start": "660300",
    "end": "665519"
  },
  {
    "text": "accepts requests to store data so it's a completely custom thing they built a",
    "start": "665519",
    "end": "672180"
  },
  {
    "text": "storage a single storage host with more than hundreds such disk and a single SSD",
    "start": "672180",
    "end": "677459"
  },
  {
    "text": "so they have a single SSD pair hose one SSD right was able to support 1.5 to 2",
    "start": "677459",
    "end": "684360"
  },
  {
    "text": "petabyte of raw data but as the density increased we started to hit our maximum",
    "start": "684360",
    "end": "691019"
  },
  {
    "text": "right throughput per Host this was probably because all live rights would",
    "start": "691019",
    "end": "696300"
  },
  {
    "text": "pass through a single SSD and the host is as strong as its SSD of course right",
    "start": "696300",
    "end": "702300"
  },
  {
    "text": "you can add all the back end SMR uh drive as as you wish but if your troop",
    "start": "702300",
    "end": "709500"
  },
  {
    "text": "is your bottleneck is SSD you're gonna of course suffer the consequences of",
    "start": "709500",
    "end": "714600"
  },
  {
    "text": "that of course they say hey we tried to optimize that Max through but we only",
    "start": "714600",
    "end": "719940"
  },
  {
    "text": "got so far even with a typical nvme SSD can handle up to 50 to 15 to 20 gigabit",
    "start": "719940",
    "end": "728160"
  },
  {
    "text": "in right throughput so that's their maximum you cannot get more than 20 gigabit",
    "start": "728160",
    "end": "734220"
  },
  {
    "text": "in right through before a single SSD that's very low for a horse with two",
    "start": "734220",
    "end": "739620"
  },
  {
    "text": "petabyte right this was still far lower than the cumulative disk right the button like",
    "start": "739620",
    "end": "746339"
  },
  {
    "text": "only became more apparent as the density of our storage host increase all right so here's a a graph for those listening",
    "start": "746339",
    "end": "753540"
  },
  {
    "text": "we're looking at a graph where the x-axis is then the year so 2019 2020",
    "start": "753540",
    "end": "758940"
  },
  {
    "text": "2021 2022 and the Y X is actually two there is the number of servers",
    "start": "758940",
    "end": "766620"
  },
  {
    "text": "and the number of i o operation per second per single server so we're",
    "start": "766620",
    "end": "772980"
  },
  {
    "text": "looking at the the at 20 in 2019 they had around 13 000 servers right and and each server",
    "start": "772980",
    "end": "782339"
  },
  {
    "text": "were getting around 20 i o operation per second that seems very low I don't know",
    "start": "782339",
    "end": "788360"
  },
  {
    "text": "only 20 all right maybe there's something else here but only 20 per server and move forward to 2022 of",
    "start": "788360",
    "end": "796680"
  },
  {
    "text": "course they lowered their server by half so they have around six grand six",
    "start": "796680",
    "end": "801839"
  },
  {
    "text": "thousand servers but each server now getting of course more IO right because technically",
    "start": "801839",
    "end": "809940"
  },
  {
    "text": "speaking you lower the number of servers but now you have more requests coming in per server so they have around 240 i o",
    "start": "809940",
    "end": "817380"
  },
  {
    "text": "operation per second right that's fantastic so we have more but what they",
    "start": "817380",
    "end": "822420"
  },
  {
    "text": "are not showing in the graph is the throughput the throughput remain unchanged but they didn't show us right",
    "start": "822420",
    "end": "827519"
  },
  {
    "text": "the throughput they didn't change the troubles like how much can I actually execute right in 2020 we decided to",
    "start": "827519",
    "end": "834420"
  },
  {
    "text": "address this bottleneck by bypassing our SSD cache disk for live rights entirely",
    "start": "834420",
    "end": "839519"
  },
  {
    "text": "we reimagined the magic pocket storage architecture to write directly to the SMR drug while maintaining the same",
    "start": "839519",
    "end": "845519"
  },
  {
    "text": "durability availability latency guarantees as a result we were not only able to increase right throughput by 15",
    "start": "845519",
    "end": "852420"
  },
  {
    "text": "to 20 seconds you see 50 to 20 percent but also improve the reliability of our",
    "start": "852420",
    "end": "858660"
  },
  {
    "text": "storage infrastructure and reduce our storage cost why did we did it so that's",
    "start": "858660",
    "end": "863760"
  },
  {
    "text": "the question here why did you guys do this right throughput wasn't the only problem we were grappling with in early",
    "start": "863760",
    "end": "870420"
  },
  {
    "start": "870000",
    "end": "900000"
  },
  {
    "text": "2020 magic pocket experienced an incident where a large number of SSD failed of course drives fails right",
    "start": "870420",
    "end": "878160"
  },
  {
    "text": "but this is this is something we never run you and I don't run into this it is like big companies that write fill the",
    "start": "878160",
    "end": "885240"
  },
  {
    "text": "SSD maybe in seconds they feel can they can fill a SSD right within a short period of time",
    "start": "885240",
    "end": "891839"
  },
  {
    "text": "these ssds were added to our Fleet roughly around the same time and followed similar right pattern through",
    "start": "891839",
    "end": "898440"
  },
  {
    "text": "their life as a result many of these SSD reach their maximum right endurance around the same time and there's",
    "start": "898440",
    "end": "906360"
  },
  {
    "start": "900000",
    "end": "1170000"
  },
  {
    "text": "something that they don't mention here but of course we have big limitations to",
    "start": "906360",
    "end": "911399"
  },
  {
    "text": "like conventional ssds and I talked about this in other episodes right where",
    "start": "911399",
    "end": "917279"
  },
  {
    "text": "ssds don't like random right and as you write to these",
    "start": "917279",
    "end": "926459"
  },
  {
    "text": "things you have you have to erase and write right to write to a new thing",
    "start": "926459",
    "end": "931740"
  },
  {
    "text": "to a new block okay you have to have a clean block",
    "start": "931740",
    "end": "937019"
  },
  {
    "text": "and if the as you fill up a block right and if you invalidate something in this block you",
    "start": "937019",
    "end": "943560"
  },
  {
    "text": "write pages and some of these pages are now invalid right you have to erase this",
    "start": "943560",
    "end": "949860"
  },
  {
    "text": "block in order to write to it so you will find this as the as the data started as this started to fill up you",
    "start": "949860",
    "end": "957060"
  },
  {
    "text": "you will notice the as SSD doing something called garbage collection says okay we want to write to this but I only",
    "start": "957060",
    "end": "963240"
  },
  {
    "text": "have one page I only have one page free here I'm gonna move all these valid data",
    "start": "963240",
    "end": "968940"
  },
  {
    "text": "to somewhere else it is this block and then write your stuff so this additional",
    "start": "968940",
    "end": "974459"
  },
  {
    "text": "IO it's not something you did but it's a side effect from the garbage collection",
    "start": "974459",
    "end": "981240"
  },
  {
    "text": "process and do this a lot you you will get a get extreme uh slow performance at",
    "start": "981240",
    "end": "989160"
  },
  {
    "text": "the end the latencies of the SSD what also is a another problem is the over provisioning right where in order to for",
    "start": "989160",
    "end": "996899"
  },
  {
    "text": "the garbage collection to move stuff around to make space for you you have to have a space to move this",
    "start": "996899",
    "end": "1004100"
  },
  {
    "text": "stuff around and this isn't called the over provision so it's around 10 to 20 percent of your SSD that you cannot use",
    "start": "1004100",
    "end": "1010759"
  },
  {
    "text": "not your data as the system data that moves stuff around up and down",
    "start": "1010759",
    "end": "1016579"
  },
  {
    "text": "to keep this right so that's one problem another problem is of course the flash translation layer where you mapping a",
    "start": "1016579",
    "end": "1023839"
  },
  {
    "text": "block I think it's a block page translation to the LBA is mapped to a physical LBA so what you what do you",
    "start": "1023839",
    "end": "1030860"
  },
  {
    "text": "write to it's very similar to how virtual memory work in the operating system you write to a logical LPA right",
    "start": "1030860",
    "end": "1036678"
  },
  {
    "text": "this logical will be it's not like logical or beer number seven it doesn't mean physical LBA number seven and desk",
    "start": "1036679",
    "end": "1044000"
  },
  {
    "text": "they could be anywhere in this and they do it this way for the garbage collection to work right so if you write",
    "start": "1044000",
    "end": "1050660"
  },
  {
    "text": "it somewhere they can move your data around and they can just change that mapping layer if you will this mapping",
    "start": "1050660",
    "end": "1057860"
  },
  {
    "text": "is costly because you have to map a block to a block a block to a block so you need to store it somewhere where do",
    "start": "1057860",
    "end": "1063380"
  },
  {
    "text": "you store it you need a ram you need the memory you need a dram so there is a space in the SSD allocated just for this",
    "start": "1063380",
    "end": "1070760"
  },
  {
    "text": "FTL The Flash station so there is a lot of costs a lot of technology has been uh",
    "start": "1070760",
    "end": "1076460"
  },
  {
    "text": "improving the SSD and I'm still reading about this still I'm not very educated in that but there's something called The",
    "start": "1076460",
    "end": "1082640"
  },
  {
    "text": "Zone there's something called The Zone namespaces where",
    "start": "1082640",
    "end": "1088120"
  },
  {
    "text": "they function very similarly to SMR where do you have a big Zone and the",
    "start": "1088120",
    "end": "1094280"
  },
  {
    "text": "only map zone so you have fewer zones than blocks of course so you need a little bit less mura dram you don't no",
    "start": "1094280",
    "end": "1101240"
  },
  {
    "text": "longer need over provisioning because everything is now host managed you",
    "start": "1101240",
    "end": "1106280"
  },
  {
    "text": "basically take care of the Eraser and the writing and you have to write in",
    "start": "1106280",
    "end": "1111740"
  },
  {
    "text": "sequence similar very similar to shingle magnetic recording they don't mention",
    "start": "1111740",
    "end": "1116780"
  },
  {
    "text": "any of this here so I don't know if they tried zoned uh",
    "start": "1116780",
    "end": "1123220"
  },
  {
    "text": "so Zone storage and there before they moved there I would be surprised after maybe three years they say you know what",
    "start": "1123220",
    "end": "1129980"
  },
  {
    "text": "we were wrong we're gonna move back to SSD but we're gonna use the zoned namespaces uh because it's very similar",
    "start": "1129980",
    "end": "1136640"
  },
  {
    "text": "to shingle right and maybe I don't know this can change and and I think their",
    "start": "1136640",
    "end": "1142460"
  },
  {
    "text": "architecture allows easily to switch things backward and forward right so it's going to be interesting to see",
    "start": "1142460",
    "end": "1148520"
  },
  {
    "text": "where they go with that so this is they talk about this here we tried a lot of things we removed SSD",
    "start": "1148520",
    "end": "1155480"
  },
  {
    "text": "and then we're now happier we got that we got a better result updating our storage engines is they",
    "start": "1155480",
    "end": "1162740"
  },
  {
    "text": "show you how to up they updated their storage engine uh this is another thing that is interesting so all these files",
    "start": "1162740",
    "end": "1169880"
  },
  {
    "text": "that you upload they arrange it into logical blocks",
    "start": "1169880",
    "end": "1176559"
  },
  {
    "start": "1170000",
    "end": "1350000"
  },
  {
    "text": "the word block is the most overloaded ward in software engineering right if I",
    "start": "1176559",
    "end": "1183380"
  },
  {
    "text": "say block like to a to a software engineer this means something to a programming this means another thing to",
    "start": "1183380",
    "end": "1189380"
  },
  {
    "text": "uh to an SSD driver author this means a completely different thing right to have",
    "start": "1189380",
    "end": "1195200"
  },
  {
    "text": "operating system uh kernel developer this means a completely different thing so I really need to talk about like what",
    "start": "1195200",
    "end": "1201919"
  },
  {
    "text": "does it mean to a block here a block is a user thing for this magic pocket right",
    "start": "1201919",
    "end": "1207500"
  },
  {
    "text": "and they arrange these blocks which is like a fixed size of some sort into",
    "start": "1207500",
    "end": "1215200"
  },
  {
    "text": "extents right and it could an extent is like basically a collection of these",
    "start": "1215200",
    "end": "1220220"
  },
  {
    "text": "blocks so they have a around two gigs of these extents each size",
    "start": "1220220",
    "end": "1225620"
  },
  {
    "text": "right and you have an extent open and you have to write sequentially again and this the beauty of sequential writes is",
    "start": "1225620",
    "end": "1233960"
  },
  {
    "text": "the goal so that they can write to the smrs in sequence again everything has to",
    "start": "1233960",
    "end": "1240080"
  },
  {
    "text": "be in sequence that's that's the condition here you have to write in sequence to take full advantage of these",
    "start": "1240080",
    "end": "1245539"
  },
  {
    "text": "things so they they open very similar to terminology to the Zone name spaces",
    "start": "1245539",
    "end": "1251539"
  },
  {
    "text": "where you open a Zone and you ride to the zone and you close the zone so you open an extent and you write or extend",
    "start": "1251539",
    "end": "1256880"
  },
  {
    "text": "and then the extent is full and then you close the extent and then here's another thing they make the extent uh immutable",
    "start": "1256880",
    "end": "1265820"
  },
  {
    "text": "so you can't change it and they this is how we show this is the old storage host for those listening",
    "start": "1265820",
    "end": "1272360"
  },
  {
    "text": "we're looking at the share this is D which is that that SSD that is used for",
    "start": "1272360",
    "end": "1277580"
  },
  {
    "text": "caching and then you you write to the SSD and you get an acknowledgment immediately and then on the background",
    "start": "1277580",
    "end": "1283760"
  },
  {
    "text": "they flush things to the smrs yeah in the new storage host what they do is",
    "start": "1283760",
    "end": "1289760"
  },
  {
    "text": "there's nothing you just immediately write to the storage uh SMR immediately",
    "start": "1289760",
    "end": "1296740"
  },
  {
    "text": "so that's the hundreds of disks here that's the architecture here they talk about like how they change the extent I",
    "start": "1296740",
    "end": "1304039"
  },
  {
    "text": "think I I suppose not an accident the block metadata so they can add the",
    "start": "1304039",
    "end": "1309380"
  },
  {
    "text": "metadata itself of the block inside the block right whereas in the original",
    "start": "1309380",
    "end": "1314860"
  },
  {
    "text": "storage design they kind of they had the metadata and the cache but the raw data",
    "start": "1314860",
    "end": "1321020"
  },
  {
    "text": "and the SMR and there's no point of doing that why don't just put everything in one place and sounds like an a better",
    "start": "1321020",
    "end": "1327980"
  },
  {
    "text": "design right have everything in line so that when you read something you have everything it's always a good idea to",
    "start": "1327980",
    "end": "1334039"
  },
  {
    "text": "have things in line for performance but of course you increase the size of that",
    "start": "1334039",
    "end": "1339260"
  },
  {
    "text": "it's fantastic I think you hear something in the background there's my kid",
    "start": "1339260",
    "end": "1346340"
  },
  {
    "text": "all right so now the more I think about is like really if you really really think about it how does writing to a",
    "start": "1346340",
    "end": "1354260"
  },
  {
    "start": "1350000",
    "end": "1560000"
  },
  {
    "text": "hard drive is faster than writing the SSD here's where I was really",
    "start": "1354260",
    "end": "1360679"
  },
  {
    "text": "fascinating well true I write to an SSD a single right is",
    "start": "1360679",
    "end": "1366320"
  },
  {
    "text": "faster right than writing to a to a disk to a hard disk but we're talking about",
    "start": "1366320",
    "end": "1372500"
  },
  {
    "text": "100 milliseconds versus making microseconds right like in milliseconds versus in microseconds to SSD but once",
    "start": "1372500",
    "end": "1382280"
  },
  {
    "text": "you fill it up right and you hit this ceiling of the where the garbage",
    "start": "1382280",
    "end": "1388100"
  },
  {
    "text": "collection in the SSD started rearing its head and start moving thing around and and these are algorithm of even wear",
    "start": "1388100",
    "end": "1394820"
  },
  {
    "text": "leveling if theirs were leveling algorithms implemented in the SSD start moving things around you will get slower",
    "start": "1394820",
    "end": "1401059"
  },
  {
    "text": "and slower rights and SSD so the ordered architecture",
    "start": "1401059",
    "end": "1406520"
  },
  {
    "text": "they were getting the latency was around what I'm reading",
    "start": "1406520",
    "end": "1412340"
  },
  {
    "text": "750 millisecond with the SSD which is wow that's that's really slow right seven 50 minutes but we're talking P99",
    "start": "1412340",
    "end": "1419900"
  },
  {
    "text": "here's like that means if you translate this that means 99 of their requests are",
    "start": "1419900",
    "end": "1425419"
  },
  {
    "text": "are lower than 70 750 milliseconds that means the highest were 750 milliseconds",
    "start": "1425419",
    "end": "1431659"
  },
  {
    "text": "that's what how this is how we translate it basically right with their",
    "start": "1431659",
    "end": "1437059"
  },
  {
    "text": "with their new architecture they went down to I can't read this man it's like what 250 millisecond I think I think",
    "start": "1437059",
    "end": "1444200"
  },
  {
    "text": "that's like half of that yeah 250 milliseconds they're P99 so that's a way",
    "start": "1444200",
    "end": "1449539"
  },
  {
    "text": "lower latency although a single operation is faster than SSD than hard",
    "start": "1449539",
    "end": "1454640"
  },
  {
    "text": "drive which is I was talking Micron mainly accumulatively they they were better in",
    "start": "1454640",
    "end": "1460460"
  },
  {
    "text": "the long run and the throughputs whoa we're talking 1.5",
    "start": "1460460",
    "end": "1466220"
  },
  {
    "text": "uh one or 1500 uh",
    "start": "1466220",
    "end": "1471860"
  },
  {
    "text": "robot which is like rights per second versus only 500 that's like what 3x so",
    "start": "1471860",
    "end": "1478820"
  },
  {
    "text": "writing with other SSD is actually faster why because the SSD were at the bottom now we don't have that we just don't",
    "start": "1478820",
    "end": "1485900"
  },
  {
    "text": "write parallel to all these beautiful disk right we we almost like fanned out",
    "start": "1485900",
    "end": "1491539"
  },
  {
    "text": "in this case it's fascinating to read about all this stuff but again I don't know what would happen",
    "start": "1491539",
    "end": "1498039"
  },
  {
    "text": "if they experimented with like the same",
    "start": "1498039",
    "end": "1503299"
  },
  {
    "text": "caching layer welcome multiple ssds with his own namespaces",
    "start": "1503299",
    "end": "1509840"
  },
  {
    "text": "would they would definitely get more disk space more density with zoned",
    "start": "1509840",
    "end": "1515600"
  },
  {
    "text": "namespace based SSD but I wouldn't know I don't know they would get definitely",
    "start": "1515600",
    "end": "1520880"
  },
  {
    "text": "they get better and I think their latency was going to be better while they would not do any well they will not",
    "start": "1520880",
    "end": "1527600"
  },
  {
    "text": "need to do any of these changes Right add a couple of instead of a single SSD add a couple of them",
    "start": "1527600",
    "end": "1533299"
  },
  {
    "text": "uh yeah that'll be interesting to see what would happen in that case I wish I wish they actually had a section where",
    "start": "1533299",
    "end": "1539840"
  },
  {
    "text": "they say hey by the way we explored with these Technologies and it didn't work for us but again uh everything is new",
    "start": "1539840",
    "end": "1545779"
  },
  {
    "text": "we're talking The Zone name spaces working what 2020 maybe like that's when I started learning about it and reading",
    "start": "1545779",
    "end": "1552740"
  },
  {
    "text": "about it so it's actually interesting so let's they're all out what did they do to roll this up with",
    "start": "1552740",
    "end": "1558620"
  },
  {
    "text": "the success of our hack week project we decided to prepare the future for production the feature sorry we started",
    "start": "1558620",
    "end": "1565940"
  },
  {
    "start": "1560000",
    "end": "1680000"
  },
  {
    "text": "with a subset magic pocket host the more confidence we gain the more host we include this is a standard rollout",
    "start": "1565940",
    "end": "1572120"
  },
  {
    "text": "process where he of course the API should never change here the API should be identical right only the back end",
    "start": "1572120",
    "end": "1579200"
  },
  {
    "text": "change that's standard you know whatever you call Blue Green uh deployment and or",
    "start": "1579200",
    "end": "1586039"
  },
  {
    "text": "a B testing every every day they change the name so it's like you you introduce a new",
    "start": "1586039",
    "end": "1592520"
  },
  {
    "text": "version and then the API doesn't really change so your clients doesn't really",
    "start": "1592520",
    "end": "1597620"
  },
  {
    "text": "change so your your end client right that that the how the function is",
    "start": "1597620",
    "end": "1603320"
  },
  {
    "text": "executed changed so the new host will take this and at the end of the day if the read function and the right function",
    "start": "1603320",
    "end": "1609440"
  },
  {
    "text": "is the same nothing changes right so as long as the return format is the same nothing will",
    "start": "1609440",
    "end": "1616820"
  },
  {
    "text": "break right so that's how they by the end of q1 2020 all ssds have been successfully removed so by the end of q1",
    "start": "1616820",
    "end": "1624380"
  },
  {
    "text": "so it says early 2022 huh magic pocket and our storage course",
    "start": "1624380",
    "end": "1629480"
  },
  {
    "text": "we're writing directly to SMR drives now that we are no longer limited by the",
    "start": "1629480",
    "end": "1634520"
  },
  {
    "text": "throughput of our SSD our right throughput access storage fleet has extra increased by 20 this has helped us",
    "start": "1634520",
    "end": "1643159"
  },
  {
    "text": "meet the overall increasing throughput new magic workload while keeping our storage Fleet the same size there have",
    "start": "1643159",
    "end": "1650840"
  },
  {
    "text": "been other benefits too on average 8 to SSD 8 to 10 is this D disk would fail",
    "start": "1650840",
    "end": "1657140"
  },
  {
    "text": "each month wow really so already SSD fail more frequent than",
    "start": "1657140",
    "end": "1663260"
  },
  {
    "text": "this huh than hard drive requiring the data center operation to manually inspect repair and replace each drive",
    "start": "1663260",
    "end": "1669380"
  },
  {
    "text": "for removing our SSD cache disk eliminate the single point of failure and has also reduced our repair rate and",
    "start": "1669380",
    "end": "1676400"
  },
  {
    "text": "the one less component to design removing SSD has also reduced the complexity of our Hardware platform",
    "start": "1676400",
    "end": "1683240"
  },
  {
    "start": "1680000",
    "end": "1830000"
  },
  {
    "text": "design so this tells me that they are not going to introduce us as it is back I don't think so because now their",
    "start": "1683240",
    "end": "1689840"
  },
  {
    "text": "Hardware team is now more specialized everyone in the hardest team has nothing to do with ssds yeah here and there but",
    "start": "1689840",
    "end": "1696159"
  },
  {
    "text": "primarily now everything is SMR so they need to learn everything about SMR they invested a lot about this technology",
    "start": "1696159",
    "end": "1702620"
  },
  {
    "text": "but uh yeah I don't know how SMR drives last fantastic eight to ten SD fails that's I",
    "start": "1702620",
    "end": "1711260"
  },
  {
    "text": "never heard about this that's actually interesting the product has been a big win for reality again this is a",
    "start": "1711260",
    "end": "1716299"
  },
  {
    "text": "fantastic article and all I I I'm gonna link it below for you to to read through but uh yeah it's a it's interesting",
    "start": "1716299",
    "end": "1726200"
  },
  {
    "text": "reading through these you know special cases you know like again this is a huge",
    "start": "1726200",
    "end": "1731419"
  },
  {
    "text": "project and even writing this article so let's shout out the authors here uh anchor called share star rajat ghoul and",
    "start": "1731419",
    "end": "1739520"
  },
  {
    "text": "Sandeep Ahmadi right uh fantastic work writing on this article but yeah it's",
    "start": "1739520",
    "end": "1745820"
  },
  {
    "text": "just like fascinating there's always things you can improve there's also things you can net pick",
    "start": "1745820",
    "end": "1752059"
  },
  {
    "text": "right I'm I didn't make this video to net pack I'll just really admiring uh",
    "start": "1752059",
    "end": "1757400"
  },
  {
    "text": "we first transpilatory writing about your technology like not a lot of people do",
    "start": "1757400",
    "end": "1763700"
  },
  {
    "text": "that no because you say hey this is what you did this is what we learned this is what we were doing maybe we're going to",
    "start": "1763700",
    "end": "1769220"
  },
  {
    "text": "do better right in the future so it's just this 2015 percent like is it too",
    "start": "1769220",
    "end": "1774620"
  },
  {
    "text": "much maybe it's not right like on the gun scheme of things but it is",
    "start": "1774620",
    "end": "1780740"
  },
  {
    "text": "fascinating to see this change and I'm pretty sure they're going to continue improving this architecture I found it",
    "start": "1780740",
    "end": "1787399"
  },
  {
    "text": "very interesting I thought I'd share my my two cents on this uh yeah again it would be nice to see how zoned",
    "start": "1787399",
    "end": "1794360"
  },
  {
    "text": "namespaces for example uh performed right as a cache layer I'll be interesting to see but it seems like",
    "start": "1794360",
    "end": "1801440"
  },
  {
    "text": "their main problem were the ssds were failing a lot so introducing Zone I",
    "start": "1801440",
    "end": "1806899"
  },
  {
    "text": "don't think zone is basically are any better compared to the regular ssds right",
    "start": "1806899",
    "end": "1812779"
  },
  {
    "text": "again there's so much unknown and I'm not really a storage engineer right now",
    "start": "1812779",
    "end": "1817820"
  },
  {
    "text": "A Hardware engineer but I love reading from you know the experts and just",
    "start": "1817820",
    "end": "1822860"
  },
  {
    "text": "learning about these new things right and uh yeah hope you enjoyed enjoyed this episode I'll see you in the next",
    "start": "1822860",
    "end": "1828500"
  },
  {
    "text": "one goodbye",
    "start": "1828500",
    "end": "1831220"
  }
]