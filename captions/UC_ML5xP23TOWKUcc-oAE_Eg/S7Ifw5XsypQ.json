[
  {
    "text": "in this episode of the back engineering",
    "start": "80",
    "end": "1599"
  },
  {
    "text": "show i'd like to talk about udp hole",
    "start": "1599",
    "end": "4160"
  },
  {
    "text": "punching",
    "start": "4160",
    "end": "5279"
  },
  {
    "text": "why does it exist what problems does it",
    "start": "5279",
    "end": "7919"
  },
  {
    "text": "solve",
    "start": "7919",
    "end": "8960"
  },
  {
    "text": "let's jump into it welcome to the",
    "start": "8960",
    "end": "10400"
  },
  {
    "text": "backend engineering show with your host",
    "start": "10400",
    "end": "11759"
  },
  {
    "text": "hussein nasser and to talk about udp",
    "start": "11759",
    "end": "14240"
  },
  {
    "text": "hole punching we need to address the",
    "start": "14240",
    "end": "17039"
  },
  {
    "text": "original problem that led to this",
    "start": "17039",
    "end": "20080"
  },
  {
    "text": "tech if you will you see the problem was",
    "start": "20080",
    "end": "22880"
  },
  {
    "text": "that two machines wanted to",
    "start": "22880",
    "end": "26720"
  },
  {
    "text": "establish udp sessions between each",
    "start": "26720",
    "end": "28880"
  },
  {
    "text": "other and that wasn't really a problem",
    "start": "28880",
    "end": "31519"
  },
  {
    "text": "in early 1990s because",
    "start": "31519",
    "end": "34880"
  },
  {
    "text": "when",
    "start": "34880",
    "end": "36000"
  },
  {
    "text": "each one of the homes had one machine",
    "start": "36000",
    "end": "39280"
  },
  {
    "text": "and that is connected directly to either",
    "start": "39280",
    "end": "41520"
  },
  {
    "text": "dsl or dial up and the machine had a",
    "start": "41520",
    "end": "44719"
  },
  {
    "text": "public ip address immediately you know",
    "start": "44719",
    "end": "48079"
  },
  {
    "text": "it it's directly had a public ip errors",
    "start": "48079",
    "end": "51440"
  },
  {
    "text": "right there is no private addressing per",
    "start": "51440",
    "end": "54320"
  },
  {
    "text": "se",
    "start": "54320",
    "end": "55520"
  },
  {
    "text": "that such as what we have today was like",
    "start": "55520",
    "end": "57760"
  },
  {
    "text": "192.168.1.3",
    "start": "57760",
    "end": "60160"
  },
  {
    "text": "and my phone has",
    "start": "60160",
    "end": "61879"
  },
  {
    "text": "10.0.0.3 and my other laptops tend to",
    "start": "61879",
    "end": "64680"
  },
  {
    "text": "0.04 there isn't",
    "start": "64680",
    "end": "67280"
  },
  {
    "text": "none of that",
    "start": "67280",
    "end": "68560"
  },
  {
    "text": "because like computing was very limited",
    "start": "68560",
    "end": "72400"
  },
  {
    "text": "and",
    "start": "72400",
    "end": "73119"
  },
  {
    "text": "so each machine had a public presence in",
    "start": "73119",
    "end": "75840"
  },
  {
    "text": "the internet so if i want to have two",
    "start": "75840",
    "end": "79520"
  },
  {
    "text": "computers talk to each other directly to",
    "start": "79520",
    "end": "81520"
  },
  {
    "text": "build let's say a game",
    "start": "81520",
    "end": "83200"
  },
  {
    "text": "you know using udp protocol where i can",
    "start": "83200",
    "end": "87119"
  },
  {
    "text": "send certain commands through a udp",
    "start": "87119",
    "end": "89759"
  },
  {
    "text": "datagram right i can put the public ipad",
    "start": "89759",
    "end": "93360"
  },
  {
    "text": "as of the other machine i want to talk",
    "start": "93360",
    "end": "94880"
  },
  {
    "text": "to",
    "start": "94880",
    "end": "95680"
  },
  {
    "text": "granted that i need to know the public",
    "start": "95680",
    "end": "97280"
  },
  {
    "text": "ips which is not hard",
    "start": "97280",
    "end": "99280"
  },
  {
    "text": "and then i put this the destination port",
    "start": "99280",
    "end": "102560"
  },
  {
    "text": "where the application is running on the",
    "start": "102560",
    "end": "104560"
  },
  {
    "text": "destination remote source the remote",
    "start": "104560",
    "end": "106960"
  },
  {
    "text": "server",
    "start": "106960",
    "end": "108079"
  },
  {
    "text": "and then i put my source",
    "start": "108079",
    "end": "110079"
  },
  {
    "text": "port which is some port that i decide to",
    "start": "110079",
    "end": "113520"
  },
  {
    "text": "where i can accept communication back if",
    "start": "113520",
    "end": "116320"
  },
  {
    "text": "the server decides to reply back and",
    "start": "116320",
    "end": "118719"
  },
  {
    "text": "there's no concept of server or client",
    "start": "118719",
    "end": "120479"
  },
  {
    "text": "per se because this is kind of a client",
    "start": "120479",
    "end": "122159"
  },
  {
    "text": "to client communication if you want",
    "start": "122159",
    "end": "124960"
  },
  {
    "text": "they want to directly communicate to",
    "start": "124960",
    "end": "126560"
  },
  {
    "text": "each other so there's no problem right",
    "start": "126560",
    "end": "129119"
  },
  {
    "text": "because the packet will go to the public",
    "start": "129119",
    "end": "131440"
  },
  {
    "text": "ip address it will traverse the internet",
    "start": "131440",
    "end": "134319"
  },
  {
    "text": "the routers and then it will route the",
    "start": "134319",
    "end": "136400"
  },
  {
    "text": "udp packet well they route the ip packet",
    "start": "136400",
    "end": "139440"
  },
  {
    "text": "underneath it because they don't really",
    "start": "139440",
    "end": "141599"
  },
  {
    "text": "care if it's this is udp or tcp per say",
    "start": "141599",
    "end": "144800"
  },
  {
    "text": "and they will just to travel until it",
    "start": "144800",
    "end": "146879"
  },
  {
    "text": "reaches the destination machine and that",
    "start": "146879",
    "end": "149599"
  },
  {
    "text": "once it reaches that the os will take",
    "start": "149599",
    "end": "151840"
  },
  {
    "text": "care of that ippecube crack it up and",
    "start": "151840",
    "end": "154720"
  },
  {
    "text": "find that as the udp find the",
    "start": "154720",
    "end": "157040"
  },
  {
    "text": "destination port where the process is",
    "start": "157040",
    "end": "159360"
  },
  {
    "text": "running and then deliver the udp",
    "start": "159360",
    "end": "163280"
  },
  {
    "text": "datagram to the destination process",
    "start": "163280",
    "end": "165519"
  },
  {
    "text": "that's that's how it works and it's very",
    "start": "165519",
    "end": "167360"
  },
  {
    "text": "simple and if you will reply back easy",
    "start": "167360",
    "end": "171200"
  },
  {
    "text": "in the udp packet there was the source",
    "start": "171200",
    "end": "173840"
  },
  {
    "text": "port and there was a source ip",
    "start": "173840",
    "end": "176800"
  },
  {
    "text": "we just reply back to those pieces of",
    "start": "176800",
    "end": "179200"
  },
  {
    "text": "information craft a new edp diagram and",
    "start": "179200",
    "end": "182239"
  },
  {
    "text": "send them back and all behold we have a",
    "start": "182239",
    "end": "185360"
  },
  {
    "text": "bi-directional udb channel that we",
    "start": "185360",
    "end": "189200"
  },
  {
    "text": "fictitiously created in order to create",
    "start": "189200",
    "end": "192000"
  },
  {
    "text": "this",
    "start": "192000",
    "end": "192720"
  },
  {
    "text": "unique protocol to build a game or",
    "start": "192720",
    "end": "194959"
  },
  {
    "text": "real-time chatting or anything",
    "start": "194959",
    "end": "197040"
  },
  {
    "text": "beautiful right",
    "start": "197040",
    "end": "198959"
  },
  {
    "text": "that's essentially like how webrtc and",
    "start": "198959",
    "end": "202319"
  },
  {
    "text": "the modern era works",
    "start": "202319",
    "end": "204080"
  },
  {
    "text": "through udp you know",
    "start": "204080",
    "end": "207040"
  },
  {
    "text": "so what's the problem now",
    "start": "207040",
    "end": "208959"
  },
  {
    "text": "well the problem is in this day and age",
    "start": "208959",
    "end": "212480"
  },
  {
    "text": "we almost never have a public iprs",
    "start": "212480",
    "end": "216080"
  },
  {
    "text": "uh we're connected to our wi-fi",
    "start": "216080",
    "end": "220000"
  },
  {
    "text": "in home and we have",
    "start": "220080",
    "end": "222720"
  },
  {
    "text": "dozens of",
    "start": "222720",
    "end": "224480"
  },
  {
    "text": "machines",
    "start": "224480",
    "end": "225680"
  },
  {
    "text": "right",
    "start": "225680",
    "end": "226480"
  },
  {
    "text": "and all these machines",
    "start": "226480",
    "end": "228000"
  },
  {
    "text": "they don't have public presence they",
    "start": "228000",
    "end": "230239"
  },
  {
    "text": "have private ip addresses",
    "start": "230239",
    "end": "233519"
  },
  {
    "text": "and we created this to",
    "start": "233519",
    "end": "236080"
  },
  {
    "text": "limit the",
    "start": "236080",
    "end": "238319"
  },
  {
    "text": "ipv4 scarcity if you will",
    "start": "238319",
    "end": "241120"
  },
  {
    "text": "okay",
    "start": "241120",
    "end": "241920"
  },
  {
    "text": "so now",
    "start": "241920",
    "end": "242879"
  },
  {
    "text": "each machine all of these tens of",
    "start": "242879",
    "end": "245599"
  },
  {
    "text": "machines will be assigned a private",
    "start": "245599",
    "end": "248480"
  },
  {
    "text": "network",
    "start": "248480",
    "end": "249840"
  },
  {
    "text": "and this could be a specific subnet",
    "start": "249840",
    "end": "252159"
  },
  {
    "text": "let's say",
    "start": "252159",
    "end": "253120"
  },
  {
    "text": "zero zero",
    "start": "253120",
    "end": "254319"
  },
  {
    "text": "one",
    "start": "254319",
    "end": "255200"
  },
  {
    "text": "that's a lot of zeros",
    "start": "255200",
    "end": "256880"
  },
  {
    "text": "and then",
    "start": "256880",
    "end": "257919"
  },
  {
    "text": "uh the router will use dhcp and assign",
    "start": "257919",
    "end": "261040"
  },
  {
    "text": "these unique addresses that are private",
    "start": "261040",
    "end": "263600"
  },
  {
    "text": "they are not publicly addressable",
    "start": "263600",
    "end": "265680"
  },
  {
    "text": "no packet will ever go to the internet",
    "start": "265680",
    "end": "268080"
  },
  {
    "text": "with this private ip address it doesn't",
    "start": "268080",
    "end": "270240"
  },
  {
    "text": "make any sense because it's not routable",
    "start": "270240",
    "end": "272160"
  },
  {
    "text": "in the internet because it's private",
    "start": "272160",
    "end": "275280"
  },
  {
    "text": "so what do we do",
    "start": "275280",
    "end": "276880"
  },
  {
    "text": "right so what if if this is a private",
    "start": "276880",
    "end": "279440"
  },
  {
    "text": "epis how do i talk to google or how do i",
    "start": "279440",
    "end": "282560"
  },
  {
    "text": "talk to a service or how do i do dns how",
    "start": "282560",
    "end": "285520"
  },
  {
    "text": "do i do that well",
    "start": "285520",
    "end": "287280"
  },
  {
    "text": "you you send your packet normally right",
    "start": "287280",
    "end": "291600"
  },
  {
    "text": "and because the router is the gateway",
    "start": "291600",
    "end": "295280"
  },
  {
    "text": "the ip packet with your udp package or",
    "start": "295280",
    "end": "298560"
  },
  {
    "text": "utcp segment will pass through the",
    "start": "298560",
    "end": "300960"
  },
  {
    "text": "router",
    "start": "300960",
    "end": "302000"
  },
  {
    "text": "and the router will say wait a minute",
    "start": "302000",
    "end": "303919"
  },
  {
    "text": "your source port is cool and all but",
    "start": "303919",
    "end": "306800"
  },
  {
    "text": "your source ip is private i can't let",
    "start": "306800",
    "end": "309680"
  },
  {
    "text": "you go naked like that in the internet i",
    "start": "309680",
    "end": "312479"
  },
  {
    "text": "need to change your source ip so i can",
    "start": "312479",
    "end": "315520"
  },
  {
    "text": "present to you in the public world",
    "start": "315520",
    "end": "318479"
  },
  {
    "text": "you know dangerous internet i'm your",
    "start": "318479",
    "end": "320639"
  },
  {
    "text": "public ip address",
    "start": "320639",
    "end": "322479"
  },
  {
    "text": "granted your router in this case has a",
    "start": "322479",
    "end": "326240"
  },
  {
    "text": "public presence and that public iprs is",
    "start": "326240",
    "end": "329680"
  },
  {
    "text": "assigned by your isp",
    "start": "329680",
    "end": "332000"
  },
  {
    "text": "now granted that some isps",
    "start": "332000",
    "end": "334479"
  },
  {
    "text": "uh",
    "start": "334479",
    "end": "335280"
  },
  {
    "text": "for their customers create another",
    "start": "335280",
    "end": "337600"
  },
  {
    "text": "isolated uh network to save on money so",
    "start": "337600",
    "end": "341120"
  },
  {
    "text": "that they assign one instead of",
    "start": "341120",
    "end": "343520"
  },
  {
    "text": "assigning like let's say the isp has a",
    "start": "343520",
    "end": "345440"
  },
  {
    "text": "thousand customers",
    "start": "345440",
    "end": "347120"
  },
  {
    "text": "they",
    "start": "347120",
    "end": "347919"
  },
  {
    "text": "put all these thousand customers on a",
    "start": "347919",
    "end": "349680"
  },
  {
    "text": "single ip address",
    "start": "349680",
    "end": "351440"
  },
  {
    "text": "you know and they create those public",
    "start": "351440",
    "end": "354400"
  },
  {
    "text": "the routers as its own another private",
    "start": "354400",
    "end": "357039"
  },
  {
    "text": "network that the isp manages",
    "start": "357039",
    "end": "360800"
  },
  {
    "text": "but it is what it is so let's assume",
    "start": "360960",
    "end": "363360"
  },
  {
    "text": "there is a public presence",
    "start": "363360",
    "end": "365680"
  },
  {
    "text": "now the router will change the ip",
    "start": "365680",
    "end": "367600"
  },
  {
    "text": "address to its own public ip address and",
    "start": "367600",
    "end": "371120"
  },
  {
    "text": "then",
    "start": "371120",
    "end": "372560"
  },
  {
    "text": "it will also change the source port",
    "start": "372560",
    "end": "375759"
  },
  {
    "text": "and it creates a new port",
    "start": "375759",
    "end": "377919"
  },
  {
    "text": "and then",
    "start": "377919",
    "end": "379039"
  },
  {
    "text": "because we change something we need to",
    "start": "379039",
    "end": "381600"
  },
  {
    "text": "store the fact that we changed it",
    "start": "381600",
    "end": "384720"
  },
  {
    "text": "so a mapping is created between the",
    "start": "384720",
    "end": "387360"
  },
  {
    "text": "source",
    "start": "387360",
    "end": "388400"
  },
  {
    "text": "port the original source port and the",
    "start": "388400",
    "end": "390319"
  },
  {
    "text": "original private ip address",
    "start": "390319",
    "end": "392720"
  },
  {
    "text": "and the new source port and the new",
    "start": "392720",
    "end": "397759"
  },
  {
    "text": "ip public ips which is the routers",
    "start": "397759",
    "end": "401280"
  },
  {
    "text": "and a record is created in a table that",
    "start": "401280",
    "end": "403759"
  },
  {
    "text": "is called network address translation",
    "start": "403759",
    "end": "406400"
  },
  {
    "text": "table or nat",
    "start": "406400",
    "end": "408880"
  },
  {
    "text": "and then the",
    "start": "408880",
    "end": "410479"
  },
  {
    "text": "packet goes off",
    "start": "410479",
    "end": "412160"
  },
  {
    "text": "goes to any machine any server on the",
    "start": "412160",
    "end": "413919"
  },
  {
    "text": "internet",
    "start": "413919",
    "end": "415280"
  },
  {
    "text": "the",
    "start": "415280",
    "end": "416000"
  },
  {
    "text": "the server will reply back to what",
    "start": "416000",
    "end": "419360"
  },
  {
    "text": "not the private ips it will reply back",
    "start": "419360",
    "end": "421440"
  },
  {
    "text": "to the router",
    "start": "421440",
    "end": "422800"
  },
  {
    "text": "and whatever port is there",
    "start": "422800",
    "end": "425199"
  },
  {
    "text": "and the router in this case will receive",
    "start": "425199",
    "end": "426960"
  },
  {
    "text": "that packet and we'll look at the nat",
    "start": "426960",
    "end": "429280"
  },
  {
    "text": "table this is all wait a minute i",
    "start": "429280",
    "end": "431199"
  },
  {
    "text": "received",
    "start": "431199",
    "end": "432400"
  },
  {
    "text": "a yes",
    "start": "432400",
    "end": "433680"
  },
  {
    "text": "this uh this is intended to me as a",
    "start": "433680",
    "end": "435840"
  },
  {
    "text": "public ipl this is intended to me as",
    "start": "435840",
    "end": "438479"
  },
  {
    "text": "this is the destination pool but it's",
    "start": "438479",
    "end": "441199"
  },
  {
    "text": "this i know as a router",
    "start": "441199",
    "end": "444720"
  },
  {
    "text": "nothing is sent to me that is ever",
    "start": "444720",
    "end": "447360"
  },
  {
    "text": "actually",
    "start": "447360",
    "end": "448240"
  },
  {
    "text": "to me address to me as a router it's",
    "start": "448240",
    "end": "450560"
  },
  {
    "text": "someone behind me",
    "start": "450560",
    "end": "452800"
  },
  {
    "text": "so we'll look up this table and we'll",
    "start": "452800",
    "end": "454479"
  },
  {
    "text": "say okay",
    "start": "454479",
    "end": "456880"
  },
  {
    "text": "uh",
    "start": "456880",
    "end": "458000"
  },
  {
    "text": "it's kind of sad in a way if you think",
    "start": "458000",
    "end": "459919"
  },
  {
    "text": "about it that the routers receives",
    "start": "459919",
    "end": "462880"
  },
  {
    "text": "millions of packets",
    "start": "462880",
    "end": "464960"
  },
  {
    "text": "but none of these are for",
    "start": "464960",
    "end": "468160"
  },
  {
    "text": "the router",
    "start": "468160",
    "end": "469360"
  },
  {
    "text": "it's actually just routing",
    "start": "469360",
    "end": "471599"
  },
  {
    "text": "kind of sad in a way you know",
    "start": "471599",
    "end": "475120"
  },
  {
    "text": "but the router will take that and does",
    "start": "475120",
    "end": "477039"
  },
  {
    "text": "it job and then we'll remap that packet",
    "start": "477039",
    "end": "480560"
  },
  {
    "text": "back to a",
    "start": "480560",
    "end": "482240"
  },
  {
    "text": "to the its original destination",
    "start": "482240",
    "end": "485520"
  },
  {
    "text": "and that's how nat works",
    "start": "485520",
    "end": "488720"
  },
  {
    "text": "so what happens if i",
    "start": "488720",
    "end": "491520"
  },
  {
    "text": "want to do the same thing that we",
    "start": "491520",
    "end": "493120"
  },
  {
    "text": "originally talked about client to client",
    "start": "493120",
    "end": "495520"
  },
  {
    "text": "communication",
    "start": "495520",
    "end": "497120"
  },
  {
    "text": "but both of my clients are private",
    "start": "497120",
    "end": "499759"
  },
  {
    "text": "addresses",
    "start": "499759",
    "end": "500879"
  },
  {
    "text": "they are behind routers they are behind",
    "start": "500879",
    "end": "503919"
  },
  {
    "text": "net",
    "start": "503919",
    "end": "506720"
  },
  {
    "text": "well",
    "start": "506720",
    "end": "508960"
  },
  {
    "text": "this machine and this machine",
    "start": "510000",
    "end": "512240"
  },
  {
    "text": "can try to talk to each other out of",
    "start": "512240",
    "end": "514159"
  },
  {
    "text": "bounds",
    "start": "514159",
    "end": "515599"
  },
  {
    "text": "but they can't really",
    "start": "515599",
    "end": "518000"
  },
  {
    "text": "rain because if you send a packet even",
    "start": "518000",
    "end": "520800"
  },
  {
    "text": "if you know well well first of all you",
    "start": "520800",
    "end": "523360"
  },
  {
    "text": "all you need to know the public ip",
    "start": "523360",
    "end": "524880"
  },
  {
    "text": "address of that router",
    "start": "524880",
    "end": "527040"
  },
  {
    "text": "right",
    "start": "527040",
    "end": "528399"
  },
  {
    "text": "because you never know the private ipad",
    "start": "528399",
    "end": "531279"
  },
  {
    "text": "of that guy",
    "start": "531279",
    "end": "532880"
  },
  {
    "text": "that doesn't make any sense",
    "start": "532880",
    "end": "534880"
  },
  {
    "text": "so even if you send something",
    "start": "534880",
    "end": "537600"
  },
  {
    "text": "the router will look at it and says okay",
    "start": "537600",
    "end": "539440"
  },
  {
    "text": "you want to go to this uh public ipa",
    "start": "539440",
    "end": "542000"
  },
  {
    "text": "which is me and you want to go to a",
    "start": "542000",
    "end": "544160"
  },
  {
    "text": "certain port",
    "start": "544160",
    "end": "546640"
  },
  {
    "text": "but i have nothing for you here",
    "start": "546640",
    "end": "550000"
  },
  {
    "text": "what are you going there is nothing on",
    "start": "550000",
    "end": "552000"
  },
  {
    "text": "my net",
    "start": "552000",
    "end": "553440"
  },
  {
    "text": "that tells me to route this to this",
    "start": "553440",
    "end": "556880"
  },
  {
    "text": "and that's the problem",
    "start": "556880",
    "end": "559519"
  },
  {
    "text": "so the router just drops everything",
    "start": "559519",
    "end": "561600"
  },
  {
    "text": "right there",
    "start": "561600",
    "end": "562880"
  },
  {
    "text": "the there is a wall",
    "start": "562880",
    "end": "565200"
  },
  {
    "text": "that the router pulls and",
    "start": "565200",
    "end": "567760"
  },
  {
    "text": "kind of a firewall if you will",
    "start": "567760",
    "end": "570080"
  },
  {
    "text": "you cannot just send",
    "start": "570080",
    "end": "572000"
  },
  {
    "text": "packets to anyone",
    "start": "572000",
    "end": "574480"
  },
  {
    "text": "right",
    "start": "574480",
    "end": "575440"
  },
  {
    "text": "in this private",
    "start": "575440",
    "end": "577360"
  },
  {
    "text": "uh network",
    "start": "577360",
    "end": "578959"
  },
  {
    "text": "unless an entry in the net exists",
    "start": "578959",
    "end": "584000"
  },
  {
    "text": "so what happens here is",
    "start": "584000",
    "end": "586720"
  },
  {
    "text": "we need to solve this",
    "start": "586720",
    "end": "588640"
  },
  {
    "text": "so this wall need to be",
    "start": "588640",
    "end": "591680"
  },
  {
    "text": "punched",
    "start": "591680",
    "end": "594320"
  },
  {
    "text": "what happens here is the machine here",
    "start": "594560",
    "end": "597200"
  },
  {
    "text": "will send a packet",
    "start": "597200",
    "end": "600320"
  },
  {
    "text": "to somewhere outside of the internet",
    "start": "600320",
    "end": "603200"
  },
  {
    "text": "specifying its source port says",
    "start": "603200",
    "end": "607600"
  },
  {
    "text": "you will say hey send it",
    "start": "607600",
    "end": "610320"
  },
  {
    "text": "and the fact that we send something out",
    "start": "610320",
    "end": "614079"
  },
  {
    "text": "through my router",
    "start": "614079",
    "end": "616079"
  },
  {
    "text": "will",
    "start": "616079",
    "end": "616839"
  },
  {
    "text": "punch a",
    "start": "616839",
    "end": "619040"
  },
  {
    "text": "metaphorical hole",
    "start": "619040",
    "end": "621760"
  },
  {
    "text": "in my router's wall",
    "start": "621760",
    "end": "624480"
  },
  {
    "text": "because an entry will be created that",
    "start": "624480",
    "end": "626880"
  },
  {
    "text": "says",
    "start": "626880",
    "end": "627680"
  },
  {
    "text": "hey this machine this private machine",
    "start": "627680",
    "end": "631200"
  },
  {
    "text": "and this is my udp port",
    "start": "631200",
    "end": "634880"
  },
  {
    "text": "you send it up",
    "start": "634880",
    "end": "637279"
  },
  {
    "text": "so now a record is created so anytime",
    "start": "637279",
    "end": "642000"
  },
  {
    "text": "a udp",
    "start": "642160",
    "end": "644079"
  },
  {
    "text": "packet receives on the router we will",
    "start": "644079",
    "end": "646240"
  },
  {
    "text": "look up this",
    "start": "646240",
    "end": "647680"
  },
  {
    "text": "table",
    "start": "647680",
    "end": "648720"
  },
  {
    "text": "because an entry exists",
    "start": "648720",
    "end": "651120"
  },
  {
    "text": "we will send that packet to",
    "start": "651120",
    "end": "654160"
  },
  {
    "text": "its destination so it's like oh it is",
    "start": "654160",
    "end": "656720"
  },
  {
    "text": "almost like punching a hole through the",
    "start": "656720",
    "end": "659920"
  },
  {
    "text": "router",
    "start": "659920",
    "end": "661920"
  },
  {
    "text": "right",
    "start": "661920",
    "end": "662800"
  },
  {
    "text": "so what happens here is this is solved",
    "start": "662800",
    "end": "665120"
  },
  {
    "text": "was",
    "start": "665120",
    "end": "666800"
  },
  {
    "text": "with what we call a stun",
    "start": "666800",
    "end": "669200"
  },
  {
    "text": "uh session try a traversal of",
    "start": "669200",
    "end": "673360"
  },
  {
    "text": "i forgot the rest sergeant traversal",
    "start": "673360",
    "end": "675440"
  },
  {
    "text": "i'll put in the screen",
    "start": "675440",
    "end": "677040"
  },
  {
    "text": "stun",
    "start": "677040",
    "end": "679440"
  },
  {
    "text": "session traversal utilities are for nat",
    "start": "679440",
    "end": "681600"
  },
  {
    "text": "something like that and what what what",
    "start": "681600",
    "end": "683839"
  },
  {
    "text": "do you do is",
    "start": "683839",
    "end": "685680"
  },
  {
    "text": "both of these private machines just",
    "start": "685680",
    "end": "688880"
  },
  {
    "text": "talk to",
    "start": "688880",
    "end": "689839"
  },
  {
    "text": "one public presence",
    "start": "689839",
    "end": "692240"
  },
  {
    "text": "by the fact you're sending a udp packet",
    "start": "692240",
    "end": "694399"
  },
  {
    "text": "to this public presence you just punched",
    "start": "694399",
    "end": "696959"
  },
  {
    "text": "holes into your routers",
    "start": "696959",
    "end": "699360"
  },
  {
    "text": "and now",
    "start": "699360",
    "end": "700640"
  },
  {
    "text": "you can exchange this information",
    "start": "700640",
    "end": "703839"
  },
  {
    "text": "exchange your source port",
    "start": "703839",
    "end": "707519"
  },
  {
    "text": "for this machine exchange your source",
    "start": "707519",
    "end": "710480"
  },
  {
    "text": "port for this machine and then transfer",
    "start": "710480",
    "end": "713120"
  },
  {
    "text": "this knowledge to the",
    "start": "713120",
    "end": "715200"
  },
  {
    "text": "to each other",
    "start": "715200",
    "end": "716480"
  },
  {
    "text": "and now just that you know the public",
    "start": "716480",
    "end": "719839"
  },
  {
    "text": "ipad is you know the port you know the",
    "start": "719839",
    "end": "722639"
  },
  {
    "text": "public area",
    "start": "722639",
    "end": "723839"
  },
  {
    "text": "of this guy you know the poor you guys",
    "start": "723839",
    "end": "726079"
  },
  {
    "text": "can talk directly",
    "start": "726079",
    "end": "728480"
  },
  {
    "text": "right because now this machine will send",
    "start": "728480",
    "end": "731680"
  },
  {
    "text": "a packet to this",
    "start": "731680",
    "end": "734000"
  },
  {
    "text": "distant to that port and because there",
    "start": "734000",
    "end": "737040"
  },
  {
    "text": "is a hole that has been punched there is",
    "start": "737040",
    "end": "738720"
  },
  {
    "text": "a record that has been added in that",
    "start": "738720",
    "end": "742560"
  },
  {
    "text": "it will go right through that hole in",
    "start": "742560",
    "end": "744959"
  },
  {
    "text": "the router",
    "start": "744959",
    "end": "747120"
  },
  {
    "text": "to the destination machine",
    "start": "747120",
    "end": "750240"
  },
  {
    "text": "and then the sec same thing can happen",
    "start": "750240",
    "end": "752240"
  },
  {
    "text": "on the other hand and i talked about all",
    "start": "752240",
    "end": "753920"
  },
  {
    "text": "of that in my webrtc course check it out",
    "start": "753920",
    "end": "756320"
  },
  {
    "text": "here if you want one more",
    "start": "756320",
    "end": "758560"
  },
  {
    "text": "it's fascinating stuff indeed",
    "start": "758560",
    "end": "760480"
  },
  {
    "text": "but one thing we need we need to learn",
    "start": "760480",
    "end": "762240"
  },
  {
    "text": "here is",
    "start": "762240",
    "end": "763920"
  },
  {
    "text": "this is udp hole punching",
    "start": "763920",
    "end": "766160"
  },
  {
    "text": "doesn't always work",
    "start": "766160",
    "end": "768240"
  },
  {
    "text": "because you see when we punch that hole",
    "start": "768240",
    "end": "771120"
  },
  {
    "text": "we punch that hole",
    "start": "771120",
    "end": "774320"
  },
  {
    "text": "going to a specific public presence",
    "start": "774320",
    "end": "777519"
  },
  {
    "text": "first right",
    "start": "777519",
    "end": "779600"
  },
  {
    "text": "some routers",
    "start": "779600",
    "end": "781680"
  },
  {
    "text": "implement certain nat type that is too",
    "start": "781680",
    "end": "784399"
  },
  {
    "text": "strict that's called symmetric net",
    "start": "784399",
    "end": "787360"
  },
  {
    "text": "which means that",
    "start": "787360",
    "end": "789680"
  },
  {
    "text": "yeah",
    "start": "789680",
    "end": "790560"
  },
  {
    "text": "if you try to talk to this public ips",
    "start": "790560",
    "end": "793519"
  },
  {
    "text": "the stun server only that server can",
    "start": "793519",
    "end": "796560"
  },
  {
    "text": "reply back to you",
    "start": "796560",
    "end": "798560"
  },
  {
    "text": "right which is not what we talked about",
    "start": "798560",
    "end": "801279"
  },
  {
    "text": "because yeah i talked to this public ips",
    "start": "801279",
    "end": "803360"
  },
  {
    "text": "and i open an a port",
    "start": "803360",
    "end": "807040"
  },
  {
    "text": "but the other machine tried to talk to",
    "start": "807360",
    "end": "809440"
  },
  {
    "text": "me some nat allows that",
    "start": "809440",
    "end": "812240"
  },
  {
    "text": "but symmetric net doesn't allow it",
    "start": "812240",
    "end": "814399"
  },
  {
    "text": "symmetric that means if you",
    "start": "814399",
    "end": "816800"
  },
  {
    "text": "if someone you send a packet to a",
    "start": "816800",
    "end": "819120"
  },
  {
    "text": "certain public ipad list only that",
    "start": "819120",
    "end": "821199"
  },
  {
    "text": "public ips can talk to you",
    "start": "821199",
    "end": "823519"
  },
  {
    "text": "and some routers enforce that",
    "start": "823519",
    "end": "826560"
  },
  {
    "text": "in that case udp hole punching doesn't",
    "start": "826560",
    "end": "828720"
  },
  {
    "text": "work in symmetric net configuration and",
    "start": "828720",
    "end": "831600"
  },
  {
    "text": "that's where you need something called",
    "start": "831600",
    "end": "833920"
  },
  {
    "text": "the turn",
    "start": "833920",
    "end": "835120"
  },
  {
    "text": "again i forgot the",
    "start": "835120",
    "end": "837279"
  },
  {
    "text": "the actual naming for that and and the",
    "start": "837279",
    "end": "839279"
  },
  {
    "text": "turn server is basically you use a",
    "start": "839279",
    "end": "841040"
  },
  {
    "text": "centralized server to relay",
    "start": "841040",
    "end": "843519"
  },
  {
    "text": "packets",
    "start": "843519",
    "end": "844880"
  },
  {
    "text": "to each other instead of doing",
    "start": "844880",
    "end": "846560"
  },
  {
    "text": "peer-to-peer like we talked about",
    "start": "846560",
    "end": "850079"
  },
  {
    "text": "so why isn't there anything",
    "start": "850079",
    "end": "853040"
  },
  {
    "text": "that's called tcp",
    "start": "853040",
    "end": "854959"
  },
  {
    "text": "hole punching why is it always udp",
    "start": "854959",
    "end": "857920"
  },
  {
    "text": "i",
    "start": "857920",
    "end": "858720"
  },
  {
    "text": "you will never see or maybe",
    "start": "858720",
    "end": "861360"
  },
  {
    "text": "almost",
    "start": "861360",
    "end": "862399"
  },
  {
    "text": "very rarely see the or hear",
    "start": "862399",
    "end": "865279"
  },
  {
    "text": "tcp hole punching",
    "start": "865279",
    "end": "867360"
  },
  {
    "text": "the reason is",
    "start": "867360",
    "end": "869199"
  },
  {
    "text": "it doesn't make sense to do tcp hole",
    "start": "869199",
    "end": "871519"
  },
  {
    "text": "punching tcp",
    "start": "871519",
    "end": "873839"
  },
  {
    "text": "is by design",
    "start": "873839",
    "end": "875839"
  },
  {
    "text": "stateful",
    "start": "875839",
    "end": "878399"
  },
  {
    "text": "which means",
    "start": "878399",
    "end": "880000"
  },
  {
    "text": "if i want to talk",
    "start": "880000",
    "end": "882480"
  },
  {
    "text": "to a machine",
    "start": "882480",
    "end": "884399"
  },
  {
    "text": "and i open the tcp port",
    "start": "884399",
    "end": "887519"
  },
  {
    "text": "only that process will ever make sense",
    "start": "887519",
    "end": "891120"
  },
  {
    "text": "to talk to me not anyone yeah it is a",
    "start": "891120",
    "end": "894000"
  },
  {
    "text": "whole per se but that hole is just",
    "start": "894000",
    "end": "896839"
  },
  {
    "text": "designed for certain",
    "start": "896839",
    "end": "899920"
  },
  {
    "text": "okay that sounds very dirty right now",
    "start": "899920",
    "end": "902240"
  },
  {
    "text": "okay",
    "start": "902240",
    "end": "904560"
  },
  {
    "text": "that hole is designed for that person",
    "start": "906800",
    "end": "910560"
  },
  {
    "text": "eew okay so the tcp hole punching",
    "start": "910560",
    "end": "913600"
  },
  {
    "text": "because it's a stateful",
    "start": "913600",
    "end": "916079"
  },
  {
    "text": "uh",
    "start": "916079",
    "end": "917199"
  },
  {
    "text": "only",
    "start": "917199",
    "end": "918399"
  },
  {
    "text": "the",
    "start": "918399",
    "end": "919600"
  },
  {
    "text": "the counters are",
    "start": "919600",
    "end": "922480"
  },
  {
    "text": "just designed for this certain processes",
    "start": "922480",
    "end": "925279"
  },
  {
    "text": "to talk to each other",
    "start": "925279",
    "end": "927199"
  },
  {
    "text": "that's it right because there's specific",
    "start": "927199",
    "end": "929519"
  },
  {
    "text": "sequences there's a port there is window",
    "start": "929519",
    "end": "932160"
  },
  {
    "text": "sizes all these parameters must exist on",
    "start": "932160",
    "end": "935920"
  },
  {
    "text": "on both machines unlike udp udb is",
    "start": "935920",
    "end": "938959"
  },
  {
    "text": "completely stateless you don't even need",
    "start": "938959",
    "end": "941199"
  },
  {
    "text": "to apply",
    "start": "941199",
    "end": "942480"
  },
  {
    "text": "a new db you can just do a one-way",
    "start": "942480",
    "end": "944720"
  },
  {
    "text": "directional communication",
    "start": "944720",
    "end": "947040"
  },
  {
    "text": "as long as you keep it alive obviously",
    "start": "947040",
    "end": "949519"
  },
  {
    "text": "right and you send something from the",
    "start": "949519",
    "end": "951199"
  },
  {
    "text": "other end such such that you keep that",
    "start": "951199",
    "end": "954240"
  },
  {
    "text": "entry that record in the nat table alive",
    "start": "954240",
    "end": "957360"
  },
  {
    "text": "but most of the time",
    "start": "957360",
    "end": "960160"
  },
  {
    "text": "it doesn't matter who talks to you",
    "start": "960160",
    "end": "962560"
  },
  {
    "text": "because there's everything you need is",
    "start": "962560",
    "end": "965120"
  },
  {
    "text": "in the udp packet there is no",
    "start": "965120",
    "end": "967519"
  },
  {
    "text": "information",
    "start": "967519",
    "end": "968480"
  },
  {
    "text": "stored in the process about a connection",
    "start": "968480",
    "end": "971440"
  },
  {
    "text": "just like tcp that's why tcp whole",
    "start": "971440",
    "end": "974320"
  },
  {
    "text": "punching doesn't make any sense right",
    "start": "974320",
    "end": "977279"
  },
  {
    "text": "because it's like yeah you're gonna",
    "start": "977279",
    "end": "979120"
  },
  {
    "text": "punch a hole but only that process will",
    "start": "979120",
    "end": "982240"
  },
  {
    "text": "need to ever communicate to you",
    "start": "982240",
    "end": "984560"
  },
  {
    "text": "it's like almost like symmetric nat in a",
    "start": "984560",
    "end": "987680"
  },
  {
    "text": "sense dcb whole country",
    "start": "987680",
    "end": "991040"
  },
  {
    "text": "so if i talk to google through port 443",
    "start": "991040",
    "end": "993839"
  },
  {
    "text": "only google can reply to that hole that",
    "start": "993839",
    "end": "997360"
  },
  {
    "text": "i punched",
    "start": "997360",
    "end": "998720"
  },
  {
    "text": "so to speak",
    "start": "998720",
    "end": "1001040"
  },
  {
    "text": "all right",
    "start": "1001040",
    "end": "1002720"
  },
  {
    "text": "my brain is filled with holes right now",
    "start": "1002720",
    "end": "1005839"
  },
  {
    "text": "okay guys that's enough for today",
    "start": "1005839",
    "end": "1008959"
  },
  {
    "text": "see you in the nether goodbye",
    "start": "1008959",
    "end": "1012880"
  }
]