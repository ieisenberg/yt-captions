[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "what's going on guys my name is hussain",
    "start": "80",
    "end": "2159"
  },
  {
    "text": "and in this video i want to discuss",
    "start": "2159",
    "end": "4560"
  },
  {
    "text": "indexing database indexing it's a very",
    "start": "4560",
    "end": "7440"
  },
  {
    "text": "interesting topic and i think every",
    "start": "7440",
    "end": "8880"
  },
  {
    "text": "backend engineer",
    "start": "8880",
    "end": "10160"
  },
  {
    "text": "specifically if you are",
    "start": "10160",
    "end": "13280"
  },
  {
    "text": "involved with databases and relational",
    "start": "13280",
    "end": "15519"
  },
  {
    "text": "databases or any kind of databases you",
    "start": "15519",
    "end": "17520"
  },
  {
    "text": "need to know what indexes and",
    "start": "17520",
    "end": "19279"
  },
  {
    "text": "how indexings work and what is the",
    "start": "19279",
    "end": "21520"
  },
  {
    "text": "benefit of indexing so in this video",
    "start": "21520",
    "end": "23920"
  },
  {
    "text": "we'll describe what is indexing we're",
    "start": "23920",
    "end": "26640"
  },
  {
    "text": "going to work with indexes we're going",
    "start": "26640",
    "end": "28000"
  },
  {
    "text": "to work without indexing",
    "start": "28000",
    "end": "29679"
  },
  {
    "text": "and we're going to see how the",
    "start": "29679",
    "end": "31119"
  },
  {
    "start": "30000",
    "end": "135000"
  },
  {
    "text": "performance",
    "start": "31119",
    "end": "32800"
  },
  {
    "text": "differ whether you have an index or you",
    "start": "32800",
    "end": "34960"
  },
  {
    "text": "don't have an index so first of all",
    "start": "34960",
    "end": "36800"
  },
  {
    "text": "what is an index guy an index is",
    "start": "36800",
    "end": "40160"
  },
  {
    "text": "is a data structure that you build and",
    "start": "40160",
    "end": "42960"
  },
  {
    "text": "you assign",
    "start": "42960",
    "end": "44079"
  },
  {
    "text": "on top of an existing table that",
    "start": "44079",
    "end": "47200"
  },
  {
    "text": "basically looks through your table and",
    "start": "47200",
    "end": "49840"
  },
  {
    "text": "then",
    "start": "49840",
    "end": "50480"
  },
  {
    "text": "tries to analyze it and summarizes so",
    "start": "50480",
    "end": "53600"
  },
  {
    "text": "that",
    "start": "53600",
    "end": "54320"
  },
  {
    "text": "it it can create kind of shortcuts right",
    "start": "54320",
    "end": "57680"
  },
  {
    "text": "the the best way i can think of an index",
    "start": "57680",
    "end": "59920"
  },
  {
    "text": "is like if you you know these",
    "start": "59920",
    "end": "61359"
  },
  {
    "text": "uh uh if you have a if you ever seen a",
    "start": "61359",
    "end": "64080"
  },
  {
    "text": "character is a",
    "start": "64080",
    "end": "66159"
  },
  {
    "text": "handbook or phone book where you have",
    "start": "66159",
    "end": "68159"
  },
  {
    "text": "like thick big",
    "start": "68159",
    "end": "70159"
  },
  {
    "text": "book and it is labeled there's like a",
    "start": "70159",
    "end": "72640"
  },
  {
    "text": "label color with a",
    "start": "72640",
    "end": "74479"
  },
  {
    "text": "b c d until z right so",
    "start": "74479",
    "end": "78240"
  },
  {
    "text": "the the the letter a starts with all the",
    "start": "78240",
    "end": "81920"
  },
  {
    "text": "companies phone books that uh that start",
    "start": "81920",
    "end": "84479"
  },
  {
    "text": "with the letter a and b",
    "start": "84479",
    "end": "86000"
  },
  {
    "text": "so with all the b's right and c is all",
    "start": "86000",
    "end": "88159"
  },
  {
    "text": "the c so if you want to",
    "start": "88159",
    "end": "89600"
  },
  {
    "text": "look through uh find a specific company",
    "start": "89600",
    "end": "93360"
  },
  {
    "text": "name phone number",
    "start": "93360",
    "end": "94560"
  },
  {
    "text": "and you know it's like oh it's i don't",
    "start": "94560",
    "end": "96479"
  },
  {
    "text": "know it's called zebra",
    "start": "96479",
    "end": "97920"
  },
  {
    "text": "so you go immediately you go to the z",
    "start": "97920",
    "end": "100400"
  },
  {
    "text": "right",
    "start": "100400",
    "end": "100960"
  },
  {
    "text": "and then you start searching there it's",
    "start": "100960",
    "end": "102960"
  },
  {
    "text": "that's the simplest thing i can think of",
    "start": "102960",
    "end": "104799"
  },
  {
    "text": "that index right",
    "start": "104799",
    "end": "106000"
  },
  {
    "text": "and basically the index guys are are",
    "start": "106000",
    "end": "109439"
  },
  {
    "text": "are two types so far that we know of uh",
    "start": "109439",
    "end": "112720"
  },
  {
    "text": "something called",
    "start": "112720",
    "end": "113439"
  },
  {
    "text": "b3 and lsm trees",
    "start": "113439",
    "end": "116560"
  },
  {
    "text": "and i'm not going to go through that the",
    "start": "116560",
    "end": "119439"
  },
  {
    "text": "depth",
    "start": "119439",
    "end": "120000"
  },
  {
    "text": "of how they are constructed this is",
    "start": "120000",
    "end": "122079"
  },
  {
    "text": "outside the scope of this video but",
    "start": "122079",
    "end": "124240"
  },
  {
    "text": "essentially it's a it's a data structure",
    "start": "124240",
    "end": "126320"
  },
  {
    "text": "and you can look it up it's basically",
    "start": "126320",
    "end": "129440"
  },
  {
    "text": "allowing you to search very effectively",
    "start": "129440",
    "end": "132000"
  },
  {
    "text": "right",
    "start": "132000",
    "end": "132800"
  },
  {
    "text": "and you find quickly what you're looking",
    "start": "132800",
    "end": "136160"
  },
  {
    "start": "135000",
    "end": "240000"
  },
  {
    "text": "for",
    "start": "136160",
    "end": "136720"
  },
  {
    "text": "so guys here i have a table",
    "start": "136720",
    "end": "139920"
  },
  {
    "text": "called employees with around 11",
    "start": "139920",
    "end": "142959"
  },
  {
    "text": "million uh rows okay",
    "start": "142959",
    "end": "146000"
  },
  {
    "text": "it's a quite large table okay",
    "start": "146000",
    "end": "149440"
  },
  {
    "text": "so i have a an id field",
    "start": "149440",
    "end": "152800"
  },
  {
    "text": "is integer it's not null and it's",
    "start": "152800",
    "end": "155680"
  },
  {
    "text": "sequential so every time i insert a row",
    "start": "155680",
    "end": "157760"
  },
  {
    "text": "i don't touch this field it will",
    "start": "157760",
    "end": "159200"
  },
  {
    "text": "automatically insert and",
    "start": "159200",
    "end": "161120"
  },
  {
    "text": "increment the value and it's also a",
    "start": "161120",
    "end": "163440"
  },
  {
    "text": "primary key",
    "start": "163440",
    "end": "164959"
  },
  {
    "text": "that means unique right and it also",
    "start": "164959",
    "end": "168640"
  },
  {
    "text": "has an index by default every primary",
    "start": "168640",
    "end": "171920"
  },
  {
    "text": "key has an index by default",
    "start": "171920",
    "end": "173519"
  },
  {
    "text": "and it's a b3 index right so",
    "start": "173519",
    "end": "177599"
  },
  {
    "text": "that's what i have here and i also have",
    "start": "177599",
    "end": "180879"
  },
  {
    "text": "a name",
    "start": "180879",
    "end": "181760"
  },
  {
    "text": "field on this which is what doesn't have",
    "start": "181760",
    "end": "183760"
  },
  {
    "text": "an index it's just a bunch of characters",
    "start": "183760",
    "end": "186400"
  },
  {
    "text": "nothing fancy it's not really the actual",
    "start": "186400",
    "end": "188080"
  },
  {
    "text": "name i just spent some time",
    "start": "188080",
    "end": "189840"
  },
  {
    "text": "generating 100 million random strings",
    "start": "189840",
    "end": "193519"
  },
  {
    "text": "right so so now if i for example do",
    "start": "193519",
    "end": "197440"
  },
  {
    "text": "let's clear this up and do select id",
    "start": "197440",
    "end": "200400"
  },
  {
    "text": "from",
    "start": "200400",
    "end": "201360"
  },
  {
    "text": "employees where id equal",
    "start": "201360",
    "end": "205120"
  },
  {
    "text": "thousand i will",
    "start": "205120",
    "end": "208319"
  },
  {
    "text": "return the thousands id",
    "start": "208319",
    "end": "211360"
  },
  {
    "text": "right that's that's not fancy right so",
    "start": "211360",
    "end": "214000"
  },
  {
    "text": "if i do",
    "start": "214000",
    "end": "214640"
  },
  {
    "text": "select star it will get everything",
    "start": "214640",
    "end": "218480"
  },
  {
    "text": "back idn name and nn1",
    "start": "218480",
    "end": "222000"
  },
  {
    "text": "is the name so don't don't pay attention",
    "start": "222000",
    "end": "224159"
  },
  {
    "text": "to the actual name it's just the",
    "start": "224159",
    "end": "225280"
  },
  {
    "text": "strength and that's the idea of the",
    "start": "225280",
    "end": "226560"
  },
  {
    "text": "string here",
    "start": "226560",
    "end": "227599"
  },
  {
    "text": "so guys what i want to do here is i'm",
    "start": "227599",
    "end": "230080"
  },
  {
    "text": "going to go through",
    "start": "230080",
    "end": "231200"
  },
  {
    "text": "steps of different queries i'm going to",
    "start": "231200",
    "end": "233280"
  },
  {
    "text": "show you the performance of",
    "start": "233280",
    "end": "234560"
  },
  {
    "text": "each of these queries right in order to",
    "start": "234560",
    "end": "236959"
  },
  {
    "text": "do that in postgres",
    "start": "236959",
    "end": "238239"
  },
  {
    "text": "that's the database i'm using by the way",
    "start": "238239",
    "end": "240400"
  },
  {
    "start": "240000",
    "end": "390000"
  },
  {
    "text": "uh paul's grace",
    "start": "240400",
    "end": "242560"
  },
  {
    "text": "i'm gonna do explain analyze",
    "start": "242560",
    "end": "246480"
  },
  {
    "text": "which will actually explain the query",
    "start": "246480",
    "end": "249200"
  },
  {
    "text": "that i'm gonna do",
    "start": "249200",
    "end": "250159"
  },
  {
    "text": "and gonna tell me how long it took right",
    "start": "250159",
    "end": "252239"
  },
  {
    "text": "which is which is really neat",
    "start": "252239",
    "end": "254080"
  },
  {
    "text": "so i'm going to do select id from",
    "start": "254080",
    "end": "256000"
  },
  {
    "text": "employees where id",
    "start": "256000",
    "end": "257759"
  },
  {
    "text": "equal let's say 2 000 because the first",
    "start": "257759",
    "end": "260639"
  },
  {
    "text": "one is cached i don't want to",
    "start": "260639",
    "end": "262000"
  },
  {
    "text": "mess up the statistics all right so what",
    "start": "262000",
    "end": "264880"
  },
  {
    "text": "happened here guys",
    "start": "264880",
    "end": "266479"
  },
  {
    "text": "let's let's decipher what happened it",
    "start": "266479",
    "end": "268720"
  },
  {
    "text": "says okay",
    "start": "268720",
    "end": "270240"
  },
  {
    "text": "your predicate filter you're trying to",
    "start": "270240",
    "end": "273600"
  },
  {
    "text": "find",
    "start": "273600",
    "end": "274080"
  },
  {
    "text": "id 2000 that's the employee with id",
    "start": "274080",
    "end": "276720"
  },
  {
    "text": "2000.",
    "start": "276720",
    "end": "277680"
  },
  {
    "text": "you know in order i in order to find",
    "start": "277680",
    "end": "280000"
  },
  {
    "text": "that",
    "start": "280000",
    "end": "280720"
  },
  {
    "text": "i didn't go through the actual table 11",
    "start": "280720",
    "end": "284479"
  },
  {
    "text": "million",
    "start": "284479",
    "end": "285120"
  },
  {
    "text": "and i searched sequentially no i",
    "start": "285120",
    "end": "288080"
  },
  {
    "text": "actually",
    "start": "288080",
    "end": "289199"
  },
  {
    "text": "scanned the index which is way faster",
    "start": "289199",
    "end": "293040"
  },
  {
    "text": "because the index is always smaller than",
    "start": "293040",
    "end": "295600"
  },
  {
    "text": "the actual",
    "start": "295600",
    "end": "296400"
  },
  {
    "text": "table because it tells you that okay it",
    "start": "296400",
    "end": "298960"
  },
  {
    "text": "is structured in a way so that",
    "start": "298960",
    "end": "300639"
  },
  {
    "text": "if you search and i'm going to put an",
    "start": "300639",
    "end": "302720"
  },
  {
    "text": "animation here a little bit",
    "start": "302720",
    "end": "304160"
  },
  {
    "text": "so you can see like if i want to find id",
    "start": "304160",
    "end": "306800"
  },
  {
    "text": "number 2000",
    "start": "306800",
    "end": "307840"
  },
  {
    "text": "it starts searching okay 2000 is between",
    "start": "307840",
    "end": "310400"
  },
  {
    "text": "four thousand",
    "start": "310400",
    "end": "311360"
  },
  {
    "text": "and and one thousand so it was okay",
    "start": "311360",
    "end": "314400"
  },
  {
    "text": "uh let me go to this three so it goes it",
    "start": "314400",
    "end": "316960"
  },
  {
    "text": "goes to another three and then search",
    "start": "316960",
    "end": "318560"
  },
  {
    "text": "for",
    "start": "318560",
    "end": "318960"
  },
  {
    "text": "from another between this number and",
    "start": "318960",
    "end": "321039"
  },
  {
    "text": "this number so until you actually find",
    "start": "321039",
    "end": "323199"
  },
  {
    "text": "the number right that's",
    "start": "323199",
    "end": "324479"
  },
  {
    "text": "how b3s basically work right so now what",
    "start": "324479",
    "end": "327759"
  },
  {
    "text": "i did i",
    "start": "327759",
    "end": "328479"
  },
  {
    "text": "i only scanned the index which is",
    "start": "328479",
    "end": "331759"
  },
  {
    "text": "very very effective right he pitches",
    "start": "331759",
    "end": "335120"
  },
  {
    "text": "that's another interesting thing so it",
    "start": "335120",
    "end": "337440"
  },
  {
    "text": "says the value that i actually queried",
    "start": "337440",
    "end": "340479"
  },
  {
    "text": "which is the id i did not have to go to",
    "start": "340479",
    "end": "343600"
  },
  {
    "text": "the heap to fetch this information",
    "start": "343600",
    "end": "345440"
  },
  {
    "text": "because",
    "start": "345440",
    "end": "346160"
  },
  {
    "text": "the id since that's the only thing",
    "start": "346160",
    "end": "348240"
  },
  {
    "text": "you're selecting",
    "start": "348240",
    "end": "349360"
  },
  {
    "text": "is in the index so i just pulled it in",
    "start": "349360",
    "end": "351840"
  },
  {
    "text": "line that's called",
    "start": "351840",
    "end": "352639"
  },
  {
    "text": "inline query if the information is",
    "start": "352639",
    "end": "355039"
  },
  {
    "text": "available in the index",
    "start": "355039",
    "end": "356400"
  },
  {
    "text": "that is the sweetest query to a database",
    "start": "356400",
    "end": "359120"
  },
  {
    "text": "engineer",
    "start": "359120",
    "end": "360000"
  },
  {
    "text": "if you can put as much information as",
    "start": "360000",
    "end": "362880"
  },
  {
    "text": "you can in the index",
    "start": "362880",
    "end": "364400"
  },
  {
    "text": "so that as i as i scan the index and you",
    "start": "364400",
    "end": "367120"
  },
  {
    "text": "only select the led",
    "start": "367120",
    "end": "368960"
  },
  {
    "text": "that is the sweetest thing you can do so",
    "start": "368960",
    "end": "370960"
  },
  {
    "text": "the whole thing took",
    "start": "370960",
    "end": "372160"
  },
  {
    "text": "0.6 millisecond and uh to plan the query",
    "start": "372160",
    "end": "376000"
  },
  {
    "text": "and and to",
    "start": "376000",
    "end": "376880"
  },
  {
    "text": "to study what we go through the the i",
    "start": "376880",
    "end": "380400"
  },
  {
    "text": "the the fact of oh should we use the",
    "start": "380400",
    "end": "383520"
  },
  {
    "text": "index or should you",
    "start": "383520",
    "end": "384720"
  },
  {
    "text": "scan the table is a query is a decision",
    "start": "384720",
    "end": "387600"
  },
  {
    "text": "and that's called the planning time",
    "start": "387600",
    "end": "389039"
  },
  {
    "text": "the execution is the actual work to go",
    "start": "389039",
    "end": "391680"
  },
  {
    "start": "390000",
    "end": "560000"
  },
  {
    "text": "and do the work all right",
    "start": "391680",
    "end": "394080"
  },
  {
    "text": "so let's sparse things a little bit what",
    "start": "394080",
    "end": "396240"
  },
  {
    "text": "i want to do here in this case",
    "start": "396240",
    "end": "398400"
  },
  {
    "text": "i want to i want to select",
    "start": "398400",
    "end": "403759"
  },
  {
    "text": "3000 in this case",
    "start": "403759",
    "end": "406880"
  },
  {
    "text": "and you can see that took 0.1.8",
    "start": "406880",
    "end": "410000"
  },
  {
    "text": "what i want to do is i'm going to change",
    "start": "410000",
    "end": "412240"
  },
  {
    "text": "the id",
    "start": "412240",
    "end": "413360"
  },
  {
    "text": "5000 and instead this time i'm going to",
    "start": "413360",
    "end": "416560"
  },
  {
    "text": "ask for the name",
    "start": "416560",
    "end": "417840"
  },
  {
    "text": "and compare that cost here guys",
    "start": "417840",
    "end": "421280"
  },
  {
    "text": "look how long it took so",
    "start": "421280",
    "end": "424479"
  },
  {
    "text": "selecting only the id where you know the",
    "start": "424479",
    "end": "427680"
  },
  {
    "text": "id which is a kasily query",
    "start": "427680",
    "end": "429360"
  },
  {
    "text": "if you ask me right it's a little bit of",
    "start": "429360",
    "end": "431280"
  },
  {
    "text": "silicon because you know the id why are",
    "start": "431280",
    "end": "432960"
  },
  {
    "text": "you just selecting the id but",
    "start": "432960",
    "end": "434560"
  },
  {
    "text": "it's just for science guys we're doing",
    "start": "434560",
    "end": "436400"
  },
  {
    "text": "this for science so it's",
    "start": "436400",
    "end": "437840"
  },
  {
    "text": "pretty cool right it's 0.1 milliseconds",
    "start": "437840",
    "end": "440080"
  },
  {
    "text": "less than a millisecond which is",
    "start": "440080",
    "end": "441599"
  },
  {
    "text": "quite fast however when we actually",
    "start": "441599",
    "end": "444880"
  },
  {
    "text": "selected the name",
    "start": "444880",
    "end": "446720"
  },
  {
    "text": "which is a column in the table it is not",
    "start": "446720",
    "end": "450639"
  },
  {
    "text": "the column is not in the index it is in",
    "start": "450639",
    "end": "452639"
  },
  {
    "text": "the table it's in the heap it's in a",
    "start": "452639",
    "end": "454720"
  },
  {
    "text": "different data structure",
    "start": "454720",
    "end": "456160"
  },
  {
    "text": "right and in this case",
    "start": "456160",
    "end": "460000"
  },
  {
    "text": "it took us two stinking two and a half",
    "start": "460000",
    "end": "463199"
  },
  {
    "text": "milliseconds not",
    "start": "463199",
    "end": "464319"
  },
  {
    "text": "m not seconds two and a half millisecond",
    "start": "464319",
    "end": "466639"
  },
  {
    "text": "which is which is quite",
    "start": "466639",
    "end": "467919"
  },
  {
    "text": "fast but still database speak it's a",
    "start": "467919",
    "end": "470879"
  },
  {
    "text": "little bit slow",
    "start": "470879",
    "end": "471759"
  },
  {
    "text": "this is a slower query and you guys need",
    "start": "471759",
    "end": "474400"
  },
  {
    "text": "to understand when you execute these",
    "start": "474400",
    "end": "476000"
  },
  {
    "text": "queries what it is really mean because",
    "start": "476000",
    "end": "478319"
  },
  {
    "text": "i found the id in the index but i had to",
    "start": "478319",
    "end": "481680"
  },
  {
    "text": "jump into the table",
    "start": "481680",
    "end": "485840"
  },
  {
    "text": "row on disk which is a different",
    "start": "485840",
    "end": "488160"
  },
  {
    "text": "structure by the way the table is in",
    "start": "488160",
    "end": "490000"
  },
  {
    "text": "in a different place than the index the",
    "start": "490000",
    "end": "492560"
  },
  {
    "text": "index is a data structure",
    "start": "492560",
    "end": "494000"
  },
  {
    "text": "and the table is a different data",
    "start": "494000",
    "end": "495199"
  },
  {
    "text": "structure right table is actually the",
    "start": "495199",
    "end": "497280"
  },
  {
    "text": "heavier thing",
    "start": "497280",
    "end": "498240"
  },
  {
    "text": "we try to avoid going to the table as",
    "start": "498240",
    "end": "500160"
  },
  {
    "text": "much as possible because it's there's a",
    "start": "500160",
    "end": "502160"
  },
  {
    "text": "11 stinking million rows there",
    "start": "502160",
    "end": "505280"
  },
  {
    "text": "so we try not to touch it as much as pop",
    "start": "505280",
    "end": "507280"
  },
  {
    "text": "but sometimes we do",
    "start": "507280",
    "end": "508720"
  },
  {
    "text": "so what we did is we found the id and",
    "start": "508720",
    "end": "511120"
  },
  {
    "text": "then we",
    "start": "511120",
    "end": "512080"
  },
  {
    "text": "actually tried to go and seek to the",
    "start": "512080",
    "end": "515360"
  },
  {
    "text": "disk",
    "start": "515360",
    "end": "517120"
  },
  {
    "text": "i mean i have an ssd so there is no seek",
    "start": "517120",
    "end": "519200"
  },
  {
    "text": "we go to the page",
    "start": "519200",
    "end": "520240"
  },
  {
    "text": "that has this information and we",
    "start": "520240",
    "end": "522479"
  },
  {
    "text": "retrieve it from disk",
    "start": "522479",
    "end": "524240"
  },
  {
    "text": "so that's another read from this so it's",
    "start": "524240",
    "end": "526399"
  },
  {
    "text": "a little bit slower took us two",
    "start": "526399",
    "end": "527680"
  },
  {
    "text": "milliseconds",
    "start": "527680",
    "end": "528720"
  },
  {
    "text": "and obviously if i execute the same",
    "start": "528720",
    "end": "530160"
  },
  {
    "text": "thing again",
    "start": "530160",
    "end": "531920"
  },
  {
    "text": "it's faster why because caching because",
    "start": "531920",
    "end": "534160"
  },
  {
    "text": "we cache things",
    "start": "534160",
    "end": "535360"
  },
  {
    "text": "cache there's so many cachings going on",
    "start": "535360",
    "end": "538080"
  },
  {
    "text": "ssd caches the control ssd",
    "start": "538080",
    "end": "540560"
  },
  {
    "text": "caches the the database caches everyone",
    "start": "540560",
    "end": "543120"
  },
  {
    "text": "caches",
    "start": "543120",
    "end": "543760"
  },
  {
    "text": "so god knows what the why is faster now",
    "start": "543760",
    "end": "546880"
  },
  {
    "text": "right but",
    "start": "546880",
    "end": "547519"
  },
  {
    "text": "that's why because i'm excluding the",
    "start": "547519",
    "end": "549120"
  },
  {
    "text": "same query but if i",
    "start": "549120",
    "end": "550560"
  },
  {
    "text": "change this to something else uh",
    "start": "550560",
    "end": "555360"
  },
  {
    "text": "i might not get it right but you get the",
    "start": "555360",
    "end": "557519"
  },
  {
    "text": "idea right two milliseconds again",
    "start": "557519",
    "end": "560160"
  },
  {
    "start": "560000",
    "end": "672000"
  },
  {
    "text": "all right so now let's splice things a",
    "start": "560160",
    "end": "562399"
  },
  {
    "text": "little bit i'm going to do",
    "start": "562399",
    "end": "563760"
  },
  {
    "text": "explain analyze select",
    "start": "563760",
    "end": "567440"
  },
  {
    "text": "id from employees",
    "start": "567440",
    "end": "572720"
  },
  {
    "text": "where name is equal zs",
    "start": "572720",
    "end": "576800"
  },
  {
    "text": "let's do it oh guys are you feeling it",
    "start": "576800",
    "end": "580320"
  },
  {
    "text": "you're feeling it right that was",
    "start": "580320",
    "end": "583440"
  },
  {
    "text": "slow that was that was",
    "start": "583440",
    "end": "586959"
  },
  {
    "text": "deeply slow why because guess what",
    "start": "586959",
    "end": "590560"
  },
  {
    "text": "the name column does not have an",
    "start": "590560",
    "end": "593680"
  },
  {
    "text": "index and that means the only way to",
    "start": "593680",
    "end": "596480"
  },
  {
    "text": "actually search",
    "start": "596480",
    "end": "598160"
  },
  {
    "text": "through the name the value zs",
    "start": "598160",
    "end": "601680"
  },
  {
    "text": "is to actually go one by one and do",
    "start": "601680",
    "end": "605279"
  },
  {
    "text": "a sequential scan on employees",
    "start": "605279",
    "end": "608560"
  },
  {
    "text": "table that's the worst thing it's called",
    "start": "608560",
    "end": "610560"
  },
  {
    "text": "the full table scan",
    "start": "610560",
    "end": "612240"
  },
  {
    "text": "you want to avoid full table scans as",
    "start": "612240",
    "end": "614079"
  },
  {
    "text": "much as possible",
    "start": "614079",
    "end": "615279"
  },
  {
    "text": "however postgres tries to be a little",
    "start": "615279",
    "end": "617200"
  },
  {
    "text": "bit smarter by executing",
    "start": "617200",
    "end": "618959"
  },
  {
    "text": "multiple threads worker threads and does",
    "start": "618959",
    "end": "622000"
  },
  {
    "text": "does the sequential uh scan on parallel",
    "start": "622000",
    "end": "624720"
  },
  {
    "text": "which is",
    "start": "624720",
    "end": "625440"
  },
  {
    "text": "still good right so the planning took",
    "start": "625440",
    "end": "627680"
  },
  {
    "text": "0.83 milliseconds which is not much",
    "start": "627680",
    "end": "629839"
  },
  {
    "text": "because",
    "start": "629839",
    "end": "630640"
  },
  {
    "text": "well is does this ha does this column",
    "start": "630640",
    "end": "633120"
  },
  {
    "text": "which is the name equal",
    "start": "633120",
    "end": "634800"
  },
  {
    "text": "this will filter does this have a where",
    "start": "634800",
    "end": "637200"
  },
  {
    "text": "clause does this have an index",
    "start": "637200",
    "end": "638880"
  },
  {
    "text": "nope it does not have an index move on",
    "start": "638880",
    "end": "641440"
  },
  {
    "text": "full table score doesn't have a choice",
    "start": "641440",
    "end": "643120"
  },
  {
    "text": "all right so it went through and scanned",
    "start": "643120",
    "end": "645360"
  },
  {
    "text": "11 million",
    "start": "645360",
    "end": "646560"
  },
  {
    "text": "rows well not necessary",
    "start": "646560",
    "end": "649839"
  },
  {
    "text": "well yeah it is necessary i had to scan",
    "start": "649839",
    "end": "651920"
  },
  {
    "text": "the whole thing otherwise how do you",
    "start": "651920",
    "end": "653519"
  },
  {
    "text": "know that",
    "start": "653519",
    "end": "655120"
  },
  {
    "text": "all of them right you have to check",
    "start": "655120",
    "end": "656720"
  },
  {
    "text": "every single one of them which is the",
    "start": "656720",
    "end": "658399"
  },
  {
    "text": "slowest thing",
    "start": "658399",
    "end": "660000"
  },
  {
    "text": "how long did it took it took three",
    "start": "660000",
    "end": "662560"
  },
  {
    "text": "seconds",
    "start": "662560",
    "end": "663680"
  },
  {
    "text": "yikesy yike c that is",
    "start": "663680",
    "end": "667120"
  },
  {
    "text": "so slow yeah so it is pretty slow guys",
    "start": "667120",
    "end": "671600"
  },
  {
    "text": "to do this another another thing that we",
    "start": "671600",
    "end": "674560"
  },
  {
    "start": "672000",
    "end": "720000"
  },
  {
    "text": "notice all the time",
    "start": "674560",
    "end": "675760"
  },
  {
    "text": "is uh i i used to do this all the time",
    "start": "675760",
    "end": "678720"
  },
  {
    "text": "without knowing",
    "start": "678720",
    "end": "679760"
  },
  {
    "text": "this there's there is a command in sql",
    "start": "679760",
    "end": "681680"
  },
  {
    "text": "called like",
    "start": "681680",
    "end": "682880"
  },
  {
    "text": "like if you don't know hey is zs before",
    "start": "682880",
    "end": "686079"
  },
  {
    "text": "and after",
    "start": "686079",
    "end": "687120"
  },
  {
    "text": "you just add this percentage like",
    "start": "687120",
    "end": "690720"
  },
  {
    "text": "this is the worst query",
    "start": "690720",
    "end": "694320"
  },
  {
    "text": "why because it is literally",
    "start": "694320",
    "end": "697519"
  },
  {
    "text": "has to go through all the rows and and",
    "start": "697519",
    "end": "700320"
  },
  {
    "text": "and",
    "start": "700320",
    "end": "700800"
  },
  {
    "text": "does matching in this case right it",
    "start": "700800",
    "end": "703360"
  },
  {
    "text": "doesn't really matter",
    "start": "703360",
    "end": "704399"
  },
  {
    "text": "because we don't have an index but i'm",
    "start": "704399",
    "end": "705680"
  },
  {
    "text": "going to show you within index how does",
    "start": "705680",
    "end": "707279"
  },
  {
    "text": "it does it do right",
    "start": "707279",
    "end": "708640"
  },
  {
    "text": "so this what this does is it will return",
    "start": "708640",
    "end": "711279"
  },
  {
    "text": "all rows that have anything in the",
    "start": "711279",
    "end": "712959"
  },
  {
    "text": "beginning anything at the end but",
    "start": "712959",
    "end": "714560"
  },
  {
    "text": "has to have zid capital as small in the",
    "start": "714560",
    "end": "717680"
  },
  {
    "text": "middle",
    "start": "717680",
    "end": "718160"
  },
  {
    "text": "slow took 1.1 second",
    "start": "718160",
    "end": "721200"
  },
  {
    "start": "720000",
    "end": "770000"
  },
  {
    "text": "to do all that stuff but yeah still 11",
    "start": "721200",
    "end": "723440"
  },
  {
    "text": "million row but",
    "start": "723440",
    "end": "724639"
  },
  {
    "text": "we had two workers to do that work for",
    "start": "724639",
    "end": "726480"
  },
  {
    "text": "us all right guys all right guys so what",
    "start": "726480",
    "end": "728160"
  },
  {
    "text": "i want to do here is actually going to",
    "start": "728160",
    "end": "729680"
  },
  {
    "text": "create",
    "start": "729680",
    "end": "730079"
  },
  {
    "text": "an index on",
    "start": "730079",
    "end": "733440"
  },
  {
    "text": "i'm going to name it employees name",
    "start": "733440",
    "end": "736880"
  },
  {
    "text": "on employees and it is on the name",
    "start": "736880",
    "end": "740880"
  },
  {
    "text": "column so this was going to take some",
    "start": "740880",
    "end": "743680"
  },
  {
    "text": "time",
    "start": "743680",
    "end": "744000"
  },
  {
    "text": "to create why because guess what guys it",
    "start": "744000",
    "end": "746560"
  },
  {
    "text": "is building the b3",
    "start": "746560",
    "end": "748160"
  },
  {
    "text": "bitmap index on top of all the stuff",
    "start": "748160",
    "end": "751600"
  },
  {
    "text": "right so it has to fetch all the 11",
    "start": "751600",
    "end": "753680"
  },
  {
    "text": "million rows and",
    "start": "753680",
    "end": "754880"
  },
  {
    "text": "does all this magic to actually create",
    "start": "754880",
    "end": "757519"
  },
  {
    "text": "the the fancy",
    "start": "757519",
    "end": "759600"
  },
  {
    "text": "uh index",
    "start": "759600",
    "end": "762880"
  },
  {
    "text": "so let's wait for it all right guys we",
    "start": "762880",
    "end": "766079"
  },
  {
    "text": "finished",
    "start": "766079",
    "end": "767040"
  },
  {
    "text": "creating our index so now let's try the",
    "start": "767040",
    "end": "770000"
  },
  {
    "start": "770000",
    "end": "870000"
  },
  {
    "text": "same",
    "start": "770000",
    "end": "770480"
  },
  {
    "text": "query that we have done just without the",
    "start": "770480",
    "end": "772880"
  },
  {
    "text": "like just",
    "start": "772880",
    "end": "774079"
  },
  {
    "text": "directly equal so now if i do this query",
    "start": "774079",
    "end": "778320"
  },
  {
    "text": "look how fast it is still a little bit",
    "start": "778320",
    "end": "780800"
  },
  {
    "text": "slow",
    "start": "780800",
    "end": "781519"
  },
  {
    "text": "47 millisecond but damn",
    "start": "781519",
    "end": "785360"
  },
  {
    "text": "that was quick why because now we're",
    "start": "785360",
    "end": "788399"
  },
  {
    "text": "doing a bitmap heap",
    "start": "788399",
    "end": "790000"
  },
  {
    "text": "scan on employees right so we're using",
    "start": "790000",
    "end": "793519"
  },
  {
    "text": "the actual bitmap index scan on",
    "start": "793519",
    "end": "796240"
  },
  {
    "text": "employee's name",
    "start": "796240",
    "end": "797519"
  },
  {
    "text": "so we're actually scanning the",
    "start": "797519",
    "end": "799920"
  },
  {
    "text": "employee's name",
    "start": "799920",
    "end": "801600"
  },
  {
    "text": "index that we created and this is way",
    "start": "801600",
    "end": "804560"
  },
  {
    "text": "faster because",
    "start": "804560",
    "end": "805519"
  },
  {
    "text": "we have fewer rows to work with and",
    "start": "805519",
    "end": "808240"
  },
  {
    "text": "we're gonna",
    "start": "808240",
    "end": "809279"
  },
  {
    "text": "actually jump between few rows until we",
    "start": "809279",
    "end": "812959"
  },
  {
    "text": "find exactly",
    "start": "812959",
    "end": "814639"
  },
  {
    "text": "what we're looking for right and",
    "start": "814639",
    "end": "818160"
  },
  {
    "text": "obviously guys the same thing applies",
    "start": "818160",
    "end": "820959"
  },
  {
    "text": "where",
    "start": "820959",
    "end": "821680"
  },
  {
    "text": "hey if you only pill pull the name which",
    "start": "821680",
    "end": "824320"
  },
  {
    "text": "is already in this",
    "start": "824320",
    "end": "825360"
  },
  {
    "text": "index is going to be faster than pulling",
    "start": "825360",
    "end": "827519"
  },
  {
    "text": "the id and the name",
    "start": "827519",
    "end": "829040"
  },
  {
    "text": "i'm i'm not quite sure about this maybe",
    "start": "829040",
    "end": "832000"
  },
  {
    "text": "this actually doesn't hit the",
    "start": "832000",
    "end": "833760"
  },
  {
    "text": "heap because the index the primary key",
    "start": "833760",
    "end": "838000"
  },
  {
    "text": "i know this is a mysql i'm not sure",
    "start": "838000",
    "end": "839600"
  },
  {
    "text": "about postgres but the primary key is",
    "start": "839600",
    "end": "841839"
  },
  {
    "text": "usually stored with every single index",
    "start": "841839",
    "end": "845040"
  },
  {
    "text": "in uh in in in other databases right so",
    "start": "845040",
    "end": "849760"
  },
  {
    "text": "the name index here the primary key will",
    "start": "849760",
    "end": "852000"
  },
  {
    "text": "be stored so",
    "start": "852000",
    "end": "852959"
  },
  {
    "text": "pulling the primary key from the name",
    "start": "852959",
    "end": "855600"
  },
  {
    "text": "index",
    "start": "855600",
    "end": "856320"
  },
  {
    "text": "will be fast because it's it's right",
    "start": "856320",
    "end": "858480"
  },
  {
    "text": "there right",
    "start": "858480",
    "end": "859600"
  },
  {
    "text": "with it so however if you're if you have",
    "start": "859600",
    "end": "862160"
  },
  {
    "text": "more than other tables",
    "start": "862160",
    "end": "863600"
  },
  {
    "text": "then we had to go to the table structure",
    "start": "863600",
    "end": "865440"
  },
  {
    "text": "and that will be a little bit slow",
    "start": "865440",
    "end": "867040"
  },
  {
    "text": "all right guys so what will happen if i",
    "start": "867040",
    "end": "870800"
  },
  {
    "start": "870000",
    "end": "960000"
  },
  {
    "text": "add",
    "start": "870800",
    "end": "871199"
  },
  {
    "text": "like here what do you think will happen",
    "start": "871199",
    "end": "875199"
  },
  {
    "text": "back to the slow query back to the exact",
    "start": "876320",
    "end": "879600"
  },
  {
    "text": "same slow query guys",
    "start": "879600",
    "end": "881519"
  },
  {
    "text": "why let's clear this again let's do",
    "start": "881519",
    "end": "883920"
  },
  {
    "text": "let's do something else",
    "start": "883920",
    "end": "885839"
  },
  {
    "text": "so we don't have we had the cache look",
    "start": "885839",
    "end": "888399"
  },
  {
    "text": "at this",
    "start": "888399",
    "end": "889199"
  },
  {
    "text": "back to the same slow query why because",
    "start": "889199",
    "end": "892639"
  },
  {
    "text": "we could not scan the index why",
    "start": "892639",
    "end": "895680"
  },
  {
    "text": "this is this is a lot of people make",
    "start": "895680",
    "end": "897839"
  },
  {
    "text": "this mistake",
    "start": "897839",
    "end": "898959"
  },
  {
    "text": "yeah the name column has an index",
    "start": "898959",
    "end": "902880"
  },
  {
    "text": "but what you did is you're not actually",
    "start": "902880",
    "end": "905680"
  },
  {
    "text": "asking for a",
    "start": "905680",
    "end": "906800"
  },
  {
    "text": "for literal value you're asking for an",
    "start": "906800",
    "end": "910240"
  },
  {
    "text": "expression",
    "start": "910240",
    "end": "911600"
  },
  {
    "text": "and there is no index",
    "start": "911600",
    "end": "914639"
  },
  {
    "text": "that will satisfy this expression",
    "start": "914639",
    "end": "917120"
  },
  {
    "text": "because",
    "start": "917120",
    "end": "917920"
  },
  {
    "text": "we cannot search the index on this on",
    "start": "917920",
    "end": "920000"
  },
  {
    "text": "this expression because",
    "start": "920000",
    "end": "921760"
  },
  {
    "text": "this is not a single value so",
    "start": "921760",
    "end": "925199"
  },
  {
    "text": "the planner quickly detects this says",
    "start": "925199",
    "end": "927760"
  },
  {
    "text": "okay planning time",
    "start": "927760",
    "end": "928880"
  },
  {
    "text": "we check less than that oh sorry the",
    "start": "928880",
    "end": "931759"
  },
  {
    "text": "filter",
    "start": "931759",
    "end": "932240"
  },
  {
    "text": "sucks and that's why you have to do",
    "start": "932240",
    "end": "935360"
  },
  {
    "text": "explain on your queries and see why are",
    "start": "935360",
    "end": "938160"
  },
  {
    "text": "they actually slow",
    "start": "938160",
    "end": "940000"
  },
  {
    "text": "because of this because look at this we",
    "start": "940000",
    "end": "942320"
  },
  {
    "text": "did a parallel",
    "start": "942320",
    "end": "943440"
  },
  {
    "text": "sequential scan again parallel not all",
    "start": "943440",
    "end": "945839"
  },
  {
    "text": "databases do parallel scanning by the",
    "start": "945839",
    "end": "947600"
  },
  {
    "text": "way but that",
    "start": "947600",
    "end": "948480"
  },
  {
    "text": "postgres though we did we had to do it",
    "start": "948480",
    "end": "951199"
  },
  {
    "text": "we had to go to the",
    "start": "951199",
    "end": "952320"
  },
  {
    "text": "stinking table and scan my 11 million",
    "start": "952320",
    "end": "955360"
  },
  {
    "text": "rows if i have a billion dollars it's",
    "start": "955360",
    "end": "956800"
  },
  {
    "text": "going to be even slower than that",
    "start": "956800",
    "end": "958639"
  },
  {
    "text": "so yeah going through all that stuff and",
    "start": "958639",
    "end": "960880"
  },
  {
    "start": "960000",
    "end": "1099000"
  },
  {
    "text": "i'm going to explain all this number in",
    "start": "960880",
    "end": "962160"
  },
  {
    "text": "another videos because i don't want to",
    "start": "962160",
    "end": "963519"
  },
  {
    "text": "make this video longer than that i'm",
    "start": "963519",
    "end": "964880"
  },
  {
    "text": "going to make an advanced video",
    "start": "964880",
    "end": "966480"
  },
  {
    "text": "discussing these actual numbers what do",
    "start": "966480",
    "end": "968399"
  },
  {
    "text": "they mean all that stuff but",
    "start": "968399",
    "end": "969920"
  },
  {
    "text": "but yeah we did a parallel scan on",
    "start": "969920",
    "end": "972320"
  },
  {
    "text": "employees guys look at",
    "start": "972320",
    "end": "974000"
  },
  {
    "text": "that it's so slow we couldn't do any",
    "start": "974000",
    "end": "976240"
  },
  {
    "text": "lining we couldn't do any optimizations",
    "start": "976240",
    "end": "978800"
  },
  {
    "text": "and this is an expression obviously so",
    "start": "978800",
    "end": "980480"
  },
  {
    "text": "that's we had we had to",
    "start": "980480",
    "end": "982000"
  },
  {
    "text": "do all that stuff so we took a hit we",
    "start": "982000",
    "end": "984480"
  },
  {
    "text": "took a hit",
    "start": "984480",
    "end": "985279"
  },
  {
    "text": "despite us having an index guys despite",
    "start": "985279",
    "end": "988720"
  },
  {
    "text": "axe",
    "start": "988720",
    "end": "989519"
  },
  {
    "text": "having an index so guys that's",
    "start": "989519",
    "end": "992720"
  },
  {
    "text": "very quickly indexing in a nutshell in a",
    "start": "992720",
    "end": "995360"
  },
  {
    "text": "very very quick video i wanted to",
    "start": "995360",
    "end": "997120"
  },
  {
    "text": "explain of that yeah having an index",
    "start": "997120",
    "end": "1000079"
  },
  {
    "text": "does not mean that",
    "start": "1000079",
    "end": "1001279"
  },
  {
    "text": "the database will always use it it's",
    "start": "1001279",
    "end": "1003360"
  },
  {
    "text": "gonna plan",
    "start": "1003360",
    "end": "1004480"
  },
  {
    "text": "and according the to the planner will",
    "start": "1004480",
    "end": "1006480"
  },
  {
    "text": "decide to use the index or not",
    "start": "1006480",
    "end": "1008240"
  },
  {
    "text": "it's up to you as as the engineer",
    "start": "1008240",
    "end": "1011440"
  },
  {
    "text": "uh who's executing queries against the",
    "start": "1011440",
    "end": "1013839"
  },
  {
    "text": "database",
    "start": "1013839",
    "end": "1014639"
  },
  {
    "text": "to actually give hints to the database",
    "start": "1014639",
    "end": "1016959"
  },
  {
    "text": "to actually use the index or not",
    "start": "1016959",
    "end": "1018880"
  },
  {
    "text": "right this is a bad query in general",
    "start": "1018880",
    "end": "1021839"
  },
  {
    "text": "select star is a bad query in general",
    "start": "1021839",
    "end": "1024319"
  },
  {
    "text": "why because if you because if you think",
    "start": "1024319",
    "end": "1027199"
  },
  {
    "text": "about the cost",
    "start": "1027199",
    "end": "1028400"
  },
  {
    "text": "to go to the actual disk and pull all",
    "start": "1028400",
    "end": "1030959"
  },
  {
    "text": "the information",
    "start": "1030959",
    "end": "1033520"
  },
  {
    "text": "that is expensive right really really",
    "start": "1033520",
    "end": "1036558"
  },
  {
    "text": "depends on how much like let's say you",
    "start": "1036559",
    "end": "1038160"
  },
  {
    "text": "have a blob",
    "start": "1038160",
    "end": "1039918"
  },
  {
    "text": "on a column on the field or on the table",
    "start": "1039919",
    "end": "1043120"
  },
  {
    "text": "that is expensive to pull up so if you",
    "start": "1043120",
    "end": "1045120"
  },
  {
    "text": "don't need it don't ask for it",
    "start": "1045120",
    "end": "1046880"
  },
  {
    "text": "right and only ask for things that",
    "start": "1046880",
    "end": "1049039"
  },
  {
    "text": "absolutely",
    "start": "1049039",
    "end": "1049919"
  },
  {
    "text": "there and if you can ask for things that",
    "start": "1049919",
    "end": "1053600"
  },
  {
    "text": "are in the index right",
    "start": "1053600",
    "end": "1054960"
  },
  {
    "text": "i'm going to talk about that in another",
    "start": "1054960",
    "end": "1056320"
  },
  {
    "text": "video where just like multi-column index",
    "start": "1056320",
    "end": "1058320"
  },
  {
    "text": "where you can",
    "start": "1058320",
    "end": "1059280"
  },
  {
    "text": "add other columns in the index that",
    "start": "1059280",
    "end": "1062960"
  },
  {
    "text": "you're about to create this is called",
    "start": "1062960",
    "end": "1064559"
  },
  {
    "text": "inlining where where",
    "start": "1064559",
    "end": "1066320"
  },
  {
    "text": "as i search my beautiful index my neat",
    "start": "1066320",
    "end": "1069120"
  },
  {
    "text": "efficient index",
    "start": "1069120",
    "end": "1070559"
  },
  {
    "text": "uh i want the name for example right",
    "start": "1070559",
    "end": "1073360"
  },
  {
    "text": "that's a bad example but",
    "start": "1073360",
    "end": "1074720"
  },
  {
    "text": "i want the name i am searching for the",
    "start": "1074720",
    "end": "1076320"
  },
  {
    "text": "id and i don't want the name",
    "start": "1076320",
    "end": "1078000"
  },
  {
    "text": "oh the name is right there it's just",
    "start": "1078000",
    "end": "1080000"
  },
  {
    "text": "literally sitting",
    "start": "1080000",
    "end": "1081200"
  },
  {
    "text": "in my index so i just pull it and",
    "start": "1081200",
    "end": "1082799"
  },
  {
    "text": "retrieve it to the user i don't have to",
    "start": "1082799",
    "end": "1084240"
  },
  {
    "text": "go back",
    "start": "1084240",
    "end": "1085120"
  },
  {
    "text": "on disk and find the location seek and",
    "start": "1085120",
    "end": "1087520"
  },
  {
    "text": "disk if that's the mechanical drive",
    "start": "1087520",
    "end": "1089679"
  },
  {
    "text": "or pull the page in case of ssd guys",
    "start": "1089679",
    "end": "1093280"
  },
  {
    "text": "alright guys that's it for me today i'm",
    "start": "1093280",
    "end": "1095360"
  },
  {
    "text": "gonna see you in the next one",
    "start": "1095360",
    "end": "1096480"
  },
  {
    "text": "you guys stay awesome goodbye",
    "start": "1096480",
    "end": "1100160"
  }
]