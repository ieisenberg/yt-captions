[
  {
    "text": "you know guys uh uber in 2016",
    "start": "160",
    "end": "4400"
  },
  {
    "text": "moved from postgres to my sequel",
    "start": "4400",
    "end": "8000"
  },
  {
    "text": "and one of their claim as to why",
    "start": "8000",
    "end": "12080"
  },
  {
    "text": "my sequel is better was this thing",
    "start": "12080",
    "end": "15200"
  },
  {
    "text": "that's called statement based",
    "start": "15200",
    "end": "16400"
  },
  {
    "text": "replication",
    "start": "16400",
    "end": "17520"
  },
  {
    "text": "i remember it was the thing and i also",
    "start": "17520",
    "end": "20160"
  },
  {
    "text": "made a video about it",
    "start": "20160",
    "end": "21359"
  },
  {
    "text": "talking about these benefits of my",
    "start": "21359",
    "end": "24400"
  },
  {
    "text": "sequel",
    "start": "24400",
    "end": "25199"
  },
  {
    "text": "right versus postgres and then we know",
    "start": "25199",
    "end": "27279"
  },
  {
    "text": "that",
    "start": "27279",
    "end": "28880"
  },
  {
    "text": "most of these benefits are not really",
    "start": "28880",
    "end": "31039"
  },
  {
    "text": "that's very",
    "start": "31039",
    "end": "32160"
  },
  {
    "text": "unique to uber's case but this is not",
    "start": "32160",
    "end": "34320"
  },
  {
    "text": "out of question this is not the topic",
    "start": "34320",
    "end": "36239"
  },
  {
    "text": "but the topic is really i want to talk",
    "start": "36239",
    "end": "38079"
  },
  {
    "text": "about is how",
    "start": "38079",
    "end": "40160"
  },
  {
    "text": "really bad statement based replication",
    "start": "40160",
    "end": "44320"
  },
  {
    "text": "really is i i just discovered this",
    "start": "44320",
    "end": "47039"
  },
  {
    "text": "really recently",
    "start": "47039",
    "end": "48239"
  },
  {
    "text": "when facebook actually upgraded to uh",
    "start": "48239",
    "end": "51280"
  },
  {
    "text": "mysql version 8. uh some of you guys",
    "start": "51280",
    "end": "54480"
  },
  {
    "text": "thank you thank you by the way sent me",
    "start": "54480",
    "end": "56480"
  },
  {
    "text": "this article that facebook is migrating",
    "start": "56480",
    "end": "58960"
  },
  {
    "text": "to mysql",
    "start": "58960",
    "end": "60000"
  },
  {
    "text": "version 8 and and one blib in that",
    "start": "60000",
    "end": "62239"
  },
  {
    "text": "article is like hey",
    "start": "62239",
    "end": "63359"
  },
  {
    "text": "we're ditching the statement based",
    "start": "63359",
    "end": "65518"
  },
  {
    "text": "replication",
    "start": "65519",
    "end": "67119"
  },
  {
    "text": "uh to to row based replication which is",
    "start": "67119",
    "end": "70560"
  },
  {
    "text": "equivalent to logical replication in",
    "start": "70560",
    "end": "73520"
  },
  {
    "text": "postgres or streaming replication i",
    "start": "73520",
    "end": "75360"
  },
  {
    "text": "believe",
    "start": "75360",
    "end": "76400"
  },
  {
    "text": "but why are we talking about this",
    "start": "76400",
    "end": "79680"
  },
  {
    "text": "statement based on replication is turns",
    "start": "79680",
    "end": "82720"
  },
  {
    "text": "out",
    "start": "82720",
    "end": "83200"
  },
  {
    "text": "when i actually looked at the",
    "start": "83200",
    "end": "84840"
  },
  {
    "text": "disadvantages",
    "start": "84840",
    "end": "86880"
  },
  {
    "text": "uh versus its advantages like yxe",
    "start": "86880",
    "end": "90479"
  },
  {
    "text": "this is the topic of this episode of the",
    "start": "90479",
    "end": "93439"
  },
  {
    "text": "backend engineering show",
    "start": "93439",
    "end": "95360"
  },
  {
    "text": "stay tuned and let's have fun",
    "start": "95360",
    "end": "99119"
  },
  {
    "text": "learning about statement-based",
    "start": "99119",
    "end": "100320"
  },
  {
    "text": "replication camera was so bright i don't",
    "start": "100320",
    "end": "102240"
  },
  {
    "text": "know why",
    "start": "102240",
    "end": "103280"
  },
  {
    "text": "i'm recording this early morning so",
    "start": "103280",
    "end": "105119"
  },
  {
    "text": "there is sun",
    "start": "105119",
    "end": "106479"
  },
  {
    "text": "uh what is going on guys my name is",
    "start": "106479",
    "end": "108320"
  },
  {
    "text": "hussein and welcome to the backend",
    "start": "108320",
    "end": "110079"
  },
  {
    "text": "engineering show and today's episode is",
    "start": "110079",
    "end": "112479"
  },
  {
    "text": "statement based replication and how",
    "start": "112479",
    "end": "116159"
  },
  {
    "text": "really nasty it is statement-based",
    "start": "116159",
    "end": "118079"
  },
  {
    "text": "replication first of all replication is",
    "start": "118079",
    "end": "119840"
  },
  {
    "text": "the idea of",
    "start": "119840",
    "end": "120880"
  },
  {
    "text": "having your beautiful dmls",
    "start": "120880",
    "end": "124799"
  },
  {
    "text": "going to a master node and this master",
    "start": "124799",
    "end": "128080"
  },
  {
    "text": "node subsequently push these changes",
    "start": "128080",
    "end": "131440"
  },
  {
    "text": "these dmls to some worker nodes",
    "start": "131440",
    "end": "134640"
  },
  {
    "text": "thus this is the idea of replication you",
    "start": "134640",
    "end": "137360"
  },
  {
    "text": "need",
    "start": "137360",
    "end": "137680"
  },
  {
    "text": "more nodes having your data so that you",
    "start": "137680",
    "end": "140319"
  },
  {
    "text": "can scale",
    "start": "140319",
    "end": "141560"
  },
  {
    "text": "horizontally just saying the masternode",
    "start": "141560",
    "end": "145200"
  },
  {
    "text": "pushes these changes",
    "start": "145200",
    "end": "148319"
  },
  {
    "text": "to worker nodes means that you really",
    "start": "148319",
    "end": "151200"
  },
  {
    "text": "don't know anything what you're talking",
    "start": "151200",
    "end": "152959"
  },
  {
    "text": "about",
    "start": "152959",
    "end": "153519"
  },
  {
    "text": "you're talking abstractly you're like a",
    "start": "153519",
    "end": "155599"
  },
  {
    "text": "manager talking about stuff",
    "start": "155599",
    "end": "158000"
  },
  {
    "text": "that they don't know they don't",
    "start": "158000",
    "end": "159519"
  },
  {
    "text": "understand right you need to dig deep",
    "start": "159519",
    "end": "162480"
  },
  {
    "text": "that's the job of an engineer what does",
    "start": "162480",
    "end": "165519"
  },
  {
    "text": "that mean",
    "start": "165519",
    "end": "166480"
  },
  {
    "text": "changes right do you actually",
    "start": "166480",
    "end": "170239"
  },
  {
    "text": "push the statement the sequel statement",
    "start": "170239",
    "end": "175440"
  },
  {
    "text": "as a string down the throat of these",
    "start": "175440",
    "end": "178480"
  },
  {
    "text": "worker replicas",
    "start": "178480",
    "end": "180080"
  },
  {
    "text": "or do you execute the statement",
    "start": "180080",
    "end": "183120"
  },
  {
    "text": "in the uh master node give the wall",
    "start": "183120",
    "end": "186879"
  },
  {
    "text": "changes or the radio changes and these",
    "start": "186879",
    "end": "189280"
  },
  {
    "text": "just",
    "start": "189280",
    "end": "189680"
  },
  {
    "text": "just the changes and then push these",
    "start": "189680",
    "end": "192560"
  },
  {
    "text": "changes across",
    "start": "192560",
    "end": "193760"
  },
  {
    "text": "the wire to the replicas or",
    "start": "193760",
    "end": "197040"
  },
  {
    "text": "do you do this asynchronously or do you",
    "start": "197040",
    "end": "200080"
  },
  {
    "text": "do this",
    "start": "200080",
    "end": "200640"
  },
  {
    "text": "synchronously do you block the writer",
    "start": "200640",
    "end": "203200"
  },
  {
    "text": "until",
    "start": "203200",
    "end": "203680"
  },
  {
    "text": "all the rides of the replicas succeed or",
    "start": "203680",
    "end": "206319"
  },
  {
    "text": "do you just",
    "start": "206319",
    "end": "207040"
  },
  {
    "text": "wait right or or you fail if any of them",
    "start": "207040",
    "end": "210159"
  },
  {
    "text": "fail",
    "start": "210159",
    "end": "210560"
  },
  {
    "text": "or do you like take the maximum so many",
    "start": "210560",
    "end": "214159"
  },
  {
    "text": "variables and refactors to do this thing",
    "start": "214159",
    "end": "216720"
  },
  {
    "text": "this stuff is not",
    "start": "216720",
    "end": "218599"
  },
  {
    "text": "straightforward right yeah this is where",
    "start": "218599",
    "end": "221360"
  },
  {
    "text": "tuning comes into play but our topic is",
    "start": "221360",
    "end": "224239"
  },
  {
    "text": "statement-based application where you",
    "start": "224239",
    "end": "225920"
  },
  {
    "text": "essentially",
    "start": "225920",
    "end": "227599"
  },
  {
    "text": "copy you replicate these sql statements",
    "start": "227599",
    "end": "231040"
  },
  {
    "text": "and not necessarily as a string",
    "start": "231040",
    "end": "233040"
  },
  {
    "text": "per say because dumping a string is not",
    "start": "233040",
    "end": "236319"
  },
  {
    "text": "really",
    "start": "236319",
    "end": "237360"
  },
  {
    "text": "it's not a good idea you parse the",
    "start": "237360",
    "end": "240239"
  },
  {
    "text": "logical",
    "start": "240239",
    "end": "241439"
  },
  {
    "text": "concept of the statement right the the",
    "start": "241439",
    "end": "244480"
  },
  {
    "text": "the actual commands that the sql",
    "start": "244480",
    "end": "247680"
  },
  {
    "text": "statement represents",
    "start": "247680",
    "end": "248799"
  },
  {
    "text": "right so now i almost thought that this",
    "start": "248799",
    "end": "251760"
  },
  {
    "text": "is",
    "start": "251760",
    "end": "252080"
  },
  {
    "text": "always the superior better approach uh",
    "start": "252080",
    "end": "254959"
  },
  {
    "text": "because",
    "start": "254959",
    "end": "256320"
  },
  {
    "text": "one benefits uber uh actually liked what",
    "start": "256320",
    "end": "259519"
  },
  {
    "text": "statement based replication",
    "start": "259519",
    "end": "261120"
  },
  {
    "text": "compared to postgres which i believe",
    "start": "261120",
    "end": "264000"
  },
  {
    "text": "didn't have that",
    "start": "264000",
    "end": "266080"
  },
  {
    "text": "back in 92 or 9-1 right i forgot which",
    "start": "266080",
    "end": "268960"
  },
  {
    "text": "which version",
    "start": "268960",
    "end": "269759"
  },
  {
    "text": "pulse uh uber was on low bandwidth",
    "start": "269759",
    "end": "273280"
  },
  {
    "text": "when you send the statements down the",
    "start": "273280",
    "end": "277120"
  },
  {
    "text": "wire the network",
    "start": "277120",
    "end": "280720"
  },
  {
    "text": "usage between the master and the",
    "start": "280720",
    "end": "283919"
  },
  {
    "text": "replicas are very minimum because",
    "start": "283919",
    "end": "286960"
  },
  {
    "text": "you're not sending the actual content",
    "start": "286960",
    "end": "290000"
  },
  {
    "text": "that changed",
    "start": "290000",
    "end": "290720"
  },
  {
    "text": "if you're executing this statement and",
    "start": "290720",
    "end": "292880"
  },
  {
    "text": "resulted to a million rights",
    "start": "292880",
    "end": "295520"
  },
  {
    "text": "i don't know why you're changing a",
    "start": "295520",
    "end": "296880"
  },
  {
    "text": "million things in an",
    "start": "296880",
    "end": "298639"
  },
  {
    "text": "oltp database but let's say you do",
    "start": "298639",
    "end": "302000"
  },
  {
    "text": "and you ch shove these million changes",
    "start": "302000",
    "end": "305759"
  },
  {
    "text": "down the network",
    "start": "305759",
    "end": "306880"
  },
  {
    "text": "yikes a lot of stuff and then uh one of",
    "start": "306880",
    "end": "308960"
  },
  {
    "text": "the things that uber complained about",
    "start": "308960",
    "end": "310880"
  },
  {
    "text": "postcards",
    "start": "310880",
    "end": "311600"
  },
  {
    "text": "postcards had this thing that's called",
    "start": "311600",
    "end": "312880"
  },
  {
    "text": "write amplification which i talked about",
    "start": "312880",
    "end": "315280"
  },
  {
    "text": "which any anything you touch has to",
    "start": "315280",
    "end": "318479"
  },
  {
    "text": "touch multiple",
    "start": "318479",
    "end": "319520"
  },
  {
    "text": "indexes updates all this stuff so there",
    "start": "319520",
    "end": "321600"
  },
  {
    "text": "is a right amplification as a result of",
    "start": "321600",
    "end": "324560"
  },
  {
    "text": "a single thing",
    "start": "324560",
    "end": "325680"
  },
  {
    "text": "which doubles this amount or even triple",
    "start": "325680",
    "end": "327840"
  },
  {
    "text": "the amount of rights",
    "start": "327840",
    "end": "329360"
  },
  {
    "text": "so there is a lot of activity going on",
    "start": "329360",
    "end": "332080"
  },
  {
    "text": "so statement based replication was",
    "start": "332080",
    "end": "333680"
  },
  {
    "text": "always the best thing yeah just executed",
    "start": "333680",
    "end": "335840"
  },
  {
    "text": "in the master and then send the",
    "start": "335840",
    "end": "337039"
  },
  {
    "text": "statement and then",
    "start": "337039",
    "end": "338080"
  },
  {
    "text": "re-execute it on the replicas and",
    "start": "338080",
    "end": "340639"
  },
  {
    "text": "another benefit",
    "start": "340639",
    "end": "342240"
  },
  {
    "text": "this besides the uh the the bandwidth",
    "start": "342240",
    "end": "345039"
  },
  {
    "text": "thing",
    "start": "345039",
    "end": "345840"
  },
  {
    "text": "is since it's now it's just another",
    "start": "345840",
    "end": "348240"
  },
  {
    "text": "statement",
    "start": "348240",
    "end": "348960"
  },
  {
    "text": "you can just shove it in just",
    "start": "348960",
    "end": "352240"
  },
  {
    "text": "like another query and as a result you",
    "start": "352240",
    "end": "355199"
  },
  {
    "text": "get the",
    "start": "355199",
    "end": "355759"
  },
  {
    "text": "multi-version concurrency control",
    "start": "355759",
    "end": "357440"
  },
  {
    "text": "because like hey someone is executing",
    "start": "357440",
    "end": "359039"
  },
  {
    "text": "this",
    "start": "359039",
    "end": "359600"
  },
  {
    "text": "query so you have full contents as to",
    "start": "359600",
    "end": "362400"
  },
  {
    "text": "what you need to lock",
    "start": "362400",
    "end": "364000"
  },
  {
    "text": "want to need what what do you need to",
    "start": "364000",
    "end": "365840"
  },
  {
    "text": "isolate",
    "start": "365840",
    "end": "367120"
  },
  {
    "text": "uh from this transaction you're going to",
    "start": "367120",
    "end": "369680"
  },
  {
    "text": "respect the isolation levels",
    "start": "369680",
    "end": "371520"
  },
  {
    "text": "you're going to respect the consistency",
    "start": "371520",
    "end": "373600"
  },
  {
    "text": "rules you're going to respect the",
    "start": "373600",
    "end": "374800"
  },
  {
    "text": "atomicity you can stretch or",
    "start": "374800",
    "end": "376639"
  },
  {
    "text": "respect and acquire all the locks that",
    "start": "376639",
    "end": "378960"
  },
  {
    "text": "you need effectively",
    "start": "378960",
    "end": "380720"
  },
  {
    "text": "for for the other transactions to be in",
    "start": "380720",
    "end": "382880"
  },
  {
    "text": "the proper isolation",
    "start": "382880",
    "end": "384720"
  },
  {
    "text": "level this is as opposed to",
    "start": "384720",
    "end": "387919"
  },
  {
    "text": "just shoving the binary changes without",
    "start": "387919",
    "end": "390639"
  },
  {
    "text": "any context",
    "start": "390639",
    "end": "391680"
  },
  {
    "text": "when you essentially just write the",
    "start": "391680",
    "end": "393759"
  },
  {
    "text": "binary files",
    "start": "393759",
    "end": "395520"
  },
  {
    "text": "that's what uh that's what postgres used",
    "start": "395520",
    "end": "397919"
  },
  {
    "text": "to do by the way it's not",
    "start": "397919",
    "end": "399360"
  },
  {
    "text": "it's just like hey these are the changes",
    "start": "399360",
    "end": "401759"
  },
  {
    "text": "right",
    "start": "401759",
    "end": "402400"
  },
  {
    "text": "it's it's a very low level changes that",
    "start": "402400",
    "end": "404560"
  },
  {
    "text": "hey this is how it changes and when you",
    "start": "404560",
    "end": "405919"
  },
  {
    "text": "do that",
    "start": "405919",
    "end": "407280"
  },
  {
    "text": "you can't you don't really need know",
    "start": "407280",
    "end": "409440"
  },
  {
    "text": "what the context of these changes are",
    "start": "409440",
    "end": "411360"
  },
  {
    "text": "okay change these values uh just just",
    "start": "411360",
    "end": "414560"
  },
  {
    "text": "shove this page",
    "start": "414560",
    "end": "416560"
  },
  {
    "text": "wait wait a second what should i lock",
    "start": "416560",
    "end": "418240"
  },
  {
    "text": "again",
    "start": "418240",
    "end": "420240"
  },
  {
    "text": "you don't have content as a result you",
    "start": "420240",
    "end": "421759"
  },
  {
    "text": "have to block everything it's like wait",
    "start": "421759",
    "end": "424240"
  },
  {
    "text": "a second",
    "start": "424240",
    "end": "424800"
  },
  {
    "text": "anyone that was trying to write wait a",
    "start": "424800",
    "end": "427120"
  },
  {
    "text": "second let me write this page",
    "start": "427120",
    "end": "428880"
  },
  {
    "text": "to desk and then i'm going to do with my",
    "start": "428880",
    "end": "430560"
  },
  {
    "text": "stuff right so mvcc was very hard in",
    "start": "430560",
    "end": "432960"
  },
  {
    "text": "postcards back in nine five this is no",
    "start": "432960",
    "end": "434800"
  },
  {
    "text": "longer the case",
    "start": "434800",
    "end": "436400"
  },
  {
    "text": "now logical replication is is a thing",
    "start": "436400",
    "end": "440000"
  },
  {
    "text": "built in postgres so no longer a problem",
    "start": "440000",
    "end": "442240"
  },
  {
    "text": "right",
    "start": "442240",
    "end": "443120"
  },
  {
    "text": "we have this context now that we talked",
    "start": "443120",
    "end": "446080"
  },
  {
    "text": "about the good thing about",
    "start": "446080",
    "end": "447280"
  },
  {
    "text": "statement-based replication i was really",
    "start": "447280",
    "end": "449199"
  },
  {
    "text": "surprised when i",
    "start": "449199",
    "end": "450000"
  },
  {
    "text": "read the disadvantage and and i gotta",
    "start": "450000",
    "end": "452319"
  },
  {
    "text": "get kudos to my sql team",
    "start": "452319",
    "end": "454560"
  },
  {
    "text": "for actually being very explicit and",
    "start": "454560",
    "end": "456720"
  },
  {
    "text": "explaining",
    "start": "456720",
    "end": "458240"
  },
  {
    "text": "how really bad statement based",
    "start": "458240",
    "end": "460880"
  },
  {
    "text": "replication",
    "start": "460880",
    "end": "462400"
  },
  {
    "text": "can be that's why facebook is moving",
    "start": "462400",
    "end": "464800"
  },
  {
    "text": "away",
    "start": "464800",
    "end": "465680"
  },
  {
    "text": "and i'm i can make a bet that",
    "start": "465680",
    "end": "468879"
  },
  {
    "text": "uber is going to move away from",
    "start": "468879",
    "end": "470240"
  },
  {
    "text": "statement based replication to raw base",
    "start": "470240",
    "end": "472000"
  },
  {
    "text": "application which is the logical version",
    "start": "472000",
    "end": "474639"
  },
  {
    "text": "uh of of of uh",
    "start": "474639",
    "end": "478479"
  },
  {
    "text": "my sequel so what's wrong with it",
    "start": "478479",
    "end": "482720"
  },
  {
    "text": "well let's take the first one the first",
    "start": "482720",
    "end": "484960"
  },
  {
    "text": "thing is when you execute the",
    "start": "484960",
    "end": "487120"
  },
  {
    "text": "beautiful your beautiful statement on",
    "start": "487120",
    "end": "489520"
  },
  {
    "text": "the master",
    "start": "489520",
    "end": "490840"
  },
  {
    "text": "node and let's say this is a",
    "start": "490840",
    "end": "494319"
  },
  {
    "text": "expensive equator you have joins and",
    "start": "494319",
    "end": "496319"
  },
  {
    "text": "stuff you're you're reading from other",
    "start": "496319",
    "end": "498000"
  },
  {
    "text": "tables or you're updating something but",
    "start": "498000",
    "end": "500000"
  },
  {
    "text": "this update",
    "start": "500000",
    "end": "501039"
  },
  {
    "text": "is is dependent on some query that you",
    "start": "501039",
    "end": "503759"
  },
  {
    "text": "need to execute which is expensive which",
    "start": "503759",
    "end": "506000"
  },
  {
    "text": "does a failed full table scan or certain",
    "start": "506000",
    "end": "507919"
  },
  {
    "text": "index it touches a lot of stuff",
    "start": "507919",
    "end": "509599"
  },
  {
    "text": "you're doing so much stuff expensive",
    "start": "509599",
    "end": "512959"
  },
  {
    "text": "so you're executing this in master and",
    "start": "512959",
    "end": "515200"
  },
  {
    "text": "you get",
    "start": "515200",
    "end": "516000"
  },
  {
    "text": "a small set of rows two or three",
    "start": "516000",
    "end": "520399"
  },
  {
    "text": "tops and now all the costs that you just",
    "start": "520399",
    "end": "524000"
  },
  {
    "text": "did",
    "start": "524000",
    "end": "525200"
  },
  {
    "text": "you have to do it again on replica one",
    "start": "525200",
    "end": "528240"
  },
  {
    "text": "and replica two and lubricant three so",
    "start": "528240",
    "end": "531279"
  },
  {
    "text": "it is the re-execution of the statement",
    "start": "531279",
    "end": "534800"
  },
  {
    "text": "is cpu ram",
    "start": "534800",
    "end": "538320"
  },
  {
    "text": "resources right time and",
    "start": "538320",
    "end": "541440"
  },
  {
    "text": "if it's and as a result if you're using",
    "start": "541440",
    "end": "544480"
  },
  {
    "text": "synchronous replication",
    "start": "544480",
    "end": "546240"
  },
  {
    "text": "then you are blocked as a user you're",
    "start": "546240",
    "end": "548000"
  },
  {
    "text": "just waiting for",
    "start": "548000",
    "end": "549279"
  },
  {
    "text": "all these statements to be executed all",
    "start": "549279",
    "end": "552320"
  },
  {
    "text": "of these",
    "start": "552320",
    "end": "553680"
  },
  {
    "text": "replicas to get a consist a strongly",
    "start": "553680",
    "end": "556480"
  },
  {
    "text": "consistent",
    "start": "556480",
    "end": "557360"
  },
  {
    "text": "view right so state-based replication",
    "start": "557360",
    "end": "561839"
  },
  {
    "text": "can be very nasty right especially with",
    "start": "561839",
    "end": "564560"
  },
  {
    "text": "latency",
    "start": "564560",
    "end": "565680"
  },
  {
    "text": "and resources and stuff like that",
    "start": "565680",
    "end": "569200"
  },
  {
    "text": "right let's say oh saying i can deal",
    "start": "569200",
    "end": "572080"
  },
  {
    "text": "with the execution it's not really a big",
    "start": "572080",
    "end": "574839"
  },
  {
    "text": "deal another thing",
    "start": "574839",
    "end": "578480"
  },
  {
    "text": "when you use functions in your sql",
    "start": "578560",
    "end": "580720"
  },
  {
    "text": "statement",
    "start": "580720",
    "end": "582959"
  },
  {
    "text": "right like now for example function like",
    "start": "582959",
    "end": "586560"
  },
  {
    "text": "now or function like date or function",
    "start": "586560",
    "end": "588480"
  },
  {
    "text": "functions that are non-deterministic",
    "start": "588480",
    "end": "591200"
  },
  {
    "text": "right",
    "start": "591200",
    "end": "592640"
  },
  {
    "text": "and let's take now as an example if you",
    "start": "592640",
    "end": "594959"
  },
  {
    "text": "have a",
    "start": "594959",
    "end": "596000"
  },
  {
    "text": "a query that says okay select from blah",
    "start": "596000",
    "end": "598080"
  },
  {
    "text": "blah blah where",
    "start": "598080",
    "end": "599120"
  },
  {
    "text": "date equal now and you execute this",
    "start": "599120",
    "end": "602160"
  },
  {
    "text": "on master and now you have to send that",
    "start": "602160",
    "end": "605360"
  },
  {
    "text": "statement down",
    "start": "605360",
    "end": "607120"
  },
  {
    "text": "all the way to the replica the now on",
    "start": "607120",
    "end": "610800"
  },
  {
    "text": "the master is different than the noun",
    "start": "610800",
    "end": "612720"
  },
  {
    "text": "the replica",
    "start": "612720",
    "end": "615040"
  },
  {
    "text": "that is scary you're going to get a",
    "start": "615040",
    "end": "617519"
  },
  {
    "text": "different results",
    "start": "617519",
    "end": "618800"
  },
  {
    "text": "on the replica versus different results",
    "start": "618800",
    "end": "622880"
  },
  {
    "text": "on the on on the other versus the master",
    "start": "622880",
    "end": "626480"
  },
  {
    "text": "you get a different result so if you're",
    "start": "626480",
    "end": "628079"
  },
  {
    "text": "updating something",
    "start": "628079",
    "end": "629680"
  },
  {
    "text": "based on a value of now like the date",
    "start": "629680",
    "end": "632640"
  },
  {
    "text": "currently",
    "start": "632640",
    "end": "634000"
  },
  {
    "text": "that is gonna most of the time give you",
    "start": "634000",
    "end": "637360"
  },
  {
    "text": "different results you don't want that so",
    "start": "637360",
    "end": "640399"
  },
  {
    "text": "bicycle fix this actually",
    "start": "640399",
    "end": "642399"
  },
  {
    "text": "by by parsing the value of now",
    "start": "642399",
    "end": "645600"
  },
  {
    "text": "and sending the raw value and so",
    "start": "645600",
    "end": "648560"
  },
  {
    "text": "replacing the variable the vane",
    "start": "648560",
    "end": "650640"
  },
  {
    "text": "variable for instead of now to actually",
    "start": "650640",
    "end": "652320"
  },
  {
    "text": "the value itself when he sees now",
    "start": "652320",
    "end": "654560"
  },
  {
    "text": "but the problem still exists with all",
    "start": "654560",
    "end": "656480"
  },
  {
    "text": "the functions really most of the",
    "start": "656480",
    "end": "657920"
  },
  {
    "text": "functions that",
    "start": "657920",
    "end": "658640"
  },
  {
    "text": "the non-deterministic and depends on the",
    "start": "658640",
    "end": "660560"
  },
  {
    "text": "environment that you're execution in",
    "start": "660560",
    "end": "662800"
  },
  {
    "text": "so this non-deterministic behavior is",
    "start": "662800",
    "end": "666000"
  },
  {
    "text": "scary",
    "start": "666000",
    "end": "667040"
  },
  {
    "text": "so all of a sudden this leaky",
    "start": "667040",
    "end": "669360"
  },
  {
    "text": "abstraction",
    "start": "669360",
    "end": "670240"
  },
  {
    "text": "jumps in front of your face as a",
    "start": "670240",
    "end": "672560"
  },
  {
    "text": "developer and you have to deal with it",
    "start": "672560",
    "end": "674399"
  },
  {
    "text": "as a developer right",
    "start": "674399",
    "end": "677440"
  },
  {
    "text": "not fun another thing is limits",
    "start": "677440",
    "end": "681519"
  },
  {
    "text": "so when you don't have an order by and",
    "start": "681519",
    "end": "684640"
  },
  {
    "text": "let's say",
    "start": "684640",
    "end": "685200"
  },
  {
    "text": "for example i don't know you're",
    "start": "685200",
    "end": "687440"
  },
  {
    "text": "inserting something into the",
    "start": "687440",
    "end": "689040"
  },
  {
    "text": "master where select by",
    "start": "689040",
    "end": "692240"
  },
  {
    "text": "uh and you have an inner select that",
    "start": "692240",
    "end": "695200"
  },
  {
    "text": "does a limit",
    "start": "695200",
    "end": "696079"
  },
  {
    "text": "like give me first thousand rows update",
    "start": "696079",
    "end": "698240"
  },
  {
    "text": "the first thousand rows",
    "start": "698240",
    "end": "699600"
  },
  {
    "text": "right when you do a limit without an",
    "start": "699600",
    "end": "701440"
  },
  {
    "text": "order by",
    "start": "701440",
    "end": "702720"
  },
  {
    "text": "you are at the mercy of how the database",
    "start": "702720",
    "end": "705440"
  },
  {
    "text": "decided to store these rows",
    "start": "705440",
    "end": "708160"
  },
  {
    "text": "you cannot guarantee the order of the",
    "start": "708160",
    "end": "710959"
  },
  {
    "text": "rows",
    "start": "710959",
    "end": "711920"
  },
  {
    "text": "in the table in the index yeah they are",
    "start": "711920",
    "end": "715040"
  },
  {
    "text": "ordered but in the table",
    "start": "715040",
    "end": "716560"
  },
  {
    "text": "not really right the entries you cannot",
    "start": "716560",
    "end": "719600"
  },
  {
    "text": "guarantee the order of the entries you",
    "start": "719600",
    "end": "721279"
  },
  {
    "text": "have to order them",
    "start": "721279",
    "end": "722399"
  },
  {
    "text": "by by yourself and we can get to that",
    "start": "722399",
    "end": "724240"
  },
  {
    "text": "why the order or not",
    "start": "724240",
    "end": "726240"
  },
  {
    "text": "really it just depends on the scheduling",
    "start": "726240",
    "end": "728880"
  },
  {
    "text": "aspects of the database like",
    "start": "728880",
    "end": "730800"
  },
  {
    "text": "even if you insert the statements at the",
    "start": "730800",
    "end": "733120"
  },
  {
    "text": "same time you can have a lock at a",
    "start": "733120",
    "end": "734880"
  },
  {
    "text": "certain time which have",
    "start": "734880",
    "end": "736399"
  },
  {
    "text": "one statement getting delayed after the",
    "start": "736399",
    "end": "738560"
  },
  {
    "text": "other and you get",
    "start": "738560",
    "end": "739760"
  },
  {
    "text": "you know you're not going to get the",
    "start": "739760",
    "end": "740639"
  },
  {
    "text": "same order at the table that's why",
    "start": "740639",
    "end": "742079"
  },
  {
    "text": "people use order buy",
    "start": "742079",
    "end": "743440"
  },
  {
    "text": "so you guarantee the actual order",
    "start": "743440",
    "end": "746639"
  },
  {
    "text": "so if you're using limit without order",
    "start": "746639",
    "end": "748320"
  },
  {
    "text": "buy don't",
    "start": "748320",
    "end": "750480"
  },
  {
    "text": "mysql actually gives you a warning says",
    "start": "750480",
    "end": "752880"
  },
  {
    "text": "hey stop doing that",
    "start": "752880",
    "end": "754320"
  },
  {
    "text": "a bad idea don't do limit without an",
    "start": "754320",
    "end": "756800"
  },
  {
    "text": "order by because i can't guarantee that",
    "start": "756800",
    "end": "758480"
  },
  {
    "text": "these",
    "start": "758480",
    "end": "758959"
  },
  {
    "text": "you're going to get the same exact",
    "start": "758959",
    "end": "760240"
  },
  {
    "text": "result in my",
    "start": "760240",
    "end": "762320"
  },
  {
    "text": "and the master versus the replica right",
    "start": "762320",
    "end": "764320"
  },
  {
    "text": "this is just different",
    "start": "764320",
    "end": "765519"
  },
  {
    "text": "you're going to get different results",
    "start": "765519",
    "end": "767200"
  },
  {
    "text": "this has come back to the re-execution",
    "start": "767200",
    "end": "769360"
  },
  {
    "text": "cost of this and another thing is when",
    "start": "769360",
    "end": "771920"
  },
  {
    "text": "you when you execute a statement",
    "start": "771920",
    "end": "774399"
  },
  {
    "text": "the database needs to acquire certain",
    "start": "774399",
    "end": "778320"
  },
  {
    "text": "amount of locks",
    "start": "778320",
    "end": "779920"
  },
  {
    "text": "shared locks access locks",
    "start": "779920",
    "end": "783120"
  },
  {
    "text": "to to guarantee these kind of",
    "start": "783120",
    "end": "786160"
  },
  {
    "text": "values that you're going to get back",
    "start": "786160",
    "end": "787680"
  },
  {
    "text": "right that's just how the database works",
    "start": "787680",
    "end": "789920"
  },
  {
    "text": "but if you're going to execute the",
    "start": "789920",
    "end": "792560"
  },
  {
    "text": "statement and acquire",
    "start": "792560",
    "end": "793680"
  },
  {
    "text": "all these logs and then all of a sudden",
    "start": "793680",
    "end": "796480"
  },
  {
    "text": "you found out that you're updating a",
    "start": "796480",
    "end": "798160"
  },
  {
    "text": "single row",
    "start": "798160",
    "end": "799680"
  },
  {
    "text": "and you only lock that row right",
    "start": "799680",
    "end": "802800"
  },
  {
    "text": "you have to dispose of all these locks",
    "start": "802800",
    "end": "804959"
  },
  {
    "text": "right because hey i didn't really touch",
    "start": "804959",
    "end": "806560"
  },
  {
    "text": "any of them",
    "start": "806560",
    "end": "807120"
  },
  {
    "text": "i just temporarily locked them because i",
    "start": "807120",
    "end": "809279"
  },
  {
    "text": "i thought that i'm gonna need them",
    "start": "809279",
    "end": "811440"
  },
  {
    "text": "and i didn't so i just released them so",
    "start": "811440",
    "end": "813680"
  },
  {
    "text": "you did all this work so you",
    "start": "813680",
    "end": "814959"
  },
  {
    "text": "acquire this log and then release them",
    "start": "814959",
    "end": "816480"
  },
  {
    "text": "back and then and then you have now",
    "start": "816480",
    "end": "818240"
  },
  {
    "text": "one lock right eventually effectively",
    "start": "818240",
    "end": "821920"
  },
  {
    "text": "now and then sql server does does",
    "start": "821920",
    "end": "824639"
  },
  {
    "text": "something called the lock escalations",
    "start": "824639",
    "end": "826240"
  },
  {
    "text": "like oh",
    "start": "826240",
    "end": "826800"
  },
  {
    "text": "i'm turning a lot of locks you know what",
    "start": "826800",
    "end": "828800"
  },
  {
    "text": "i'm gonna",
    "start": "828800",
    "end": "829920"
  },
  {
    "text": "lock the whole table instead you can",
    "start": "829920",
    "end": "832079"
  },
  {
    "text": "disable that by",
    "start": "832079",
    "end": "833120"
  },
  {
    "text": "by the way so all the stuff have to be",
    "start": "833120",
    "end": "836160"
  },
  {
    "text": "re-executed",
    "start": "836160",
    "end": "837360"
  },
  {
    "text": "in the replica as well so you're gonna",
    "start": "837360",
    "end": "839920"
  },
  {
    "text": "reacquire all these locks again",
    "start": "839920",
    "end": "842000"
  },
  {
    "text": "only to find out that you need only one",
    "start": "842000",
    "end": "845360"
  },
  {
    "text": "yeah so more locks equal",
    "start": "845360",
    "end": "848399"
  },
  {
    "text": "more memory right depends on you how",
    "start": "848399",
    "end": "850959"
  },
  {
    "text": "your dbms does your locking",
    "start": "850959",
    "end": "853519"
  },
  {
    "text": "and as a result you're gonna you're",
    "start": "853519",
    "end": "855519"
  },
  {
    "text": "gonna increase the resources the part of",
    "start": "855519",
    "end": "857680"
  },
  {
    "text": "the re-execution thing",
    "start": "857680",
    "end": "859120"
  },
  {
    "text": "again yes statement based replication",
    "start": "859120",
    "end": "862399"
  },
  {
    "text": "yikes see man and finally there's",
    "start": "862399",
    "end": "864480"
  },
  {
    "text": "another one that i liked is",
    "start": "864480",
    "end": "866560"
  },
  {
    "text": "when you do this uh select for update",
    "start": "866560",
    "end": "869839"
  },
  {
    "text": "kind of queries like okay i'm going to",
    "start": "869839",
    "end": "871360"
  },
  {
    "text": "select these kind of rows but i wanted",
    "start": "871360",
    "end": "873040"
  },
  {
    "text": "to update them so i want to",
    "start": "873040",
    "end": "874320"
  },
  {
    "text": "obtain an exclusive locks to uh",
    "start": "874320",
    "end": "877680"
  },
  {
    "text": "did you guys see this this is actually i",
    "start": "877680",
    "end": "879600"
  },
  {
    "text": "don't know if you notice this is mickey",
    "start": "879600",
    "end": "880959"
  },
  {
    "text": "mouse",
    "start": "880959",
    "end": "881680"
  },
  {
    "text": "band-aid i have a kit now so yeah",
    "start": "881680",
    "end": "885519"
  },
  {
    "text": "so yeah when when you do a select for",
    "start": "885519",
    "end": "888639"
  },
  {
    "text": "update to exp to select fields and rows",
    "start": "888639",
    "end": "891199"
  },
  {
    "text": "but you want to obtain exclusive locks",
    "start": "891199",
    "end": "892800"
  },
  {
    "text": "on these",
    "start": "892800",
    "end": "893360"
  },
  {
    "text": "rows right and there's an option to say",
    "start": "893360",
    "end": "896399"
  },
  {
    "text": "okay no wait",
    "start": "896399",
    "end": "897440"
  },
  {
    "text": "if if if i can lock it fine if i don't",
    "start": "897440",
    "end": "901120"
  },
  {
    "text": "then fail and this is the scary part the",
    "start": "901120",
    "end": "904160"
  },
  {
    "text": "no weight",
    "start": "904160",
    "end": "905360"
  },
  {
    "text": "can actually fail the sequel if it can't",
    "start": "905360",
    "end": "908240"
  },
  {
    "text": "obtain the extra",
    "start": "908240",
    "end": "909600"
  },
  {
    "text": "exclusive locks you",
    "start": "909600",
    "end": "912639"
  },
  {
    "text": "can get into a situation where the",
    "start": "912639",
    "end": "914800"
  },
  {
    "text": "statement will succeed and master",
    "start": "914800",
    "end": "917040"
  },
  {
    "text": "but will fail on the replica because of",
    "start": "917040",
    "end": "920000"
  },
  {
    "text": "couldn't obtain the lock for one other",
    "start": "920000",
    "end": "921839"
  },
  {
    "text": "reason or another",
    "start": "921839",
    "end": "922880"
  },
  {
    "text": "right you cannot guarantee that this",
    "start": "922880",
    "end": "925279"
  },
  {
    "text": "will be identical",
    "start": "925279",
    "end": "926639"
  },
  {
    "text": "right especially if you're executing",
    "start": "926639",
    "end": "929360"
  },
  {
    "text": "reads on the other",
    "start": "929360",
    "end": "931120"
  },
  {
    "text": "replica concurrently right people are",
    "start": "931120",
    "end": "933680"
  },
  {
    "text": "reading from your replica right so",
    "start": "933680",
    "end": "935600"
  },
  {
    "text": "you're just not you're just not leaving",
    "start": "935600",
    "end": "937759"
  },
  {
    "text": "it like that people are reading from it",
    "start": "937759",
    "end": "939360"
  },
  {
    "text": "right and some",
    "start": "939360",
    "end": "940480"
  },
  {
    "text": "situation if you have an active active",
    "start": "940480",
    "end": "941920"
  },
  {
    "text": "cluster which is very hard to get right",
    "start": "941920",
    "end": "944320"
  },
  {
    "text": "you're even writing to the replica",
    "start": "944320",
    "end": "946160"
  },
  {
    "text": "yikesy so you cannot guarantee that the",
    "start": "946160",
    "end": "948560"
  },
  {
    "text": "state of the replica is equal to the",
    "start": "948560",
    "end": "950320"
  },
  {
    "text": "master",
    "start": "950320",
    "end": "950880"
  },
  {
    "text": "and as a result fail if it fails then it",
    "start": "950880",
    "end": "953440"
  },
  {
    "text": "depends on",
    "start": "953440",
    "end": "954000"
  },
  {
    "text": "what kind of uh replication you have if",
    "start": "954000",
    "end": "956880"
  },
  {
    "text": "it's asynchronous then you got",
    "start": "956880",
    "end": "958399"
  },
  {
    "text": "eventual consistency i don't i really",
    "start": "958399",
    "end": "961040"
  },
  {
    "text": "doubt you're gonna get eventually you're",
    "start": "961040",
    "end": "962240"
  },
  {
    "text": "gonna get weak consistency in this case",
    "start": "962240",
    "end": "964720"
  },
  {
    "text": "unless you retry somehow right if if you",
    "start": "964720",
    "end": "968399"
  },
  {
    "text": "have retry and place yeah you're gonna",
    "start": "968399",
    "end": "969920"
  },
  {
    "text": "get a strong eventual consistency at the",
    "start": "969920",
    "end": "971680"
  },
  {
    "text": "end of the day everything will consume",
    "start": "971680",
    "end": "973519"
  },
  {
    "text": "if you have synchronous replication then",
    "start": "973519",
    "end": "975759"
  },
  {
    "text": "your right will fail",
    "start": "975759",
    "end": "977040"
  },
  {
    "text": "and the application have to retry all",
    "start": "977040",
    "end": "979519"
  },
  {
    "text": "right guys",
    "start": "979519",
    "end": "980079"
  },
  {
    "text": "that's it for me today i wanted to talk",
    "start": "980079",
    "end": "981680"
  },
  {
    "text": "about statement-based application",
    "start": "981680",
    "end": "983360"
  },
  {
    "text": "i was surprised reading about that",
    "start": "983360",
    "end": "984800"
  },
  {
    "text": "apparently people are moving away",
    "start": "984800",
    "end": "987360"
  },
  {
    "text": "from statement based replication for",
    "start": "987360",
    "end": "989839"
  },
  {
    "text": "these kind of reasons right",
    "start": "989839",
    "end": "991440"
  },
  {
    "text": "just you cannot guarantee it yeah it's",
    "start": "991440",
    "end": "993600"
  },
  {
    "text": "very sexy",
    "start": "993600",
    "end": "994480"
  },
  {
    "text": "that it's it's very slim to send across",
    "start": "994480",
    "end": "997199"
  },
  {
    "text": "the network",
    "start": "997199",
    "end": "998000"
  },
  {
    "text": "as a tiny thing but the costs",
    "start": "998000",
    "end": "1001440"
  },
  {
    "text": "uh people are moving to logical",
    "start": "1001440",
    "end": "1003360"
  },
  {
    "text": "replication",
    "start": "1003360",
    "end": "1004720"
  },
  {
    "text": "parts the statement executed tell me",
    "start": "1004720",
    "end": "1007920"
  },
  {
    "text": "what it",
    "start": "1007920",
    "end": "1008480"
  },
  {
    "text": "does and then replicate that these",
    "start": "1008480",
    "end": "1011120"
  },
  {
    "text": "changes",
    "start": "1011120",
    "end": "1011759"
  },
  {
    "text": "right uh this is part of the logical",
    "start": "1011759",
    "end": "1014399"
  },
  {
    "text": "replication or raw based look",
    "start": "1014399",
    "end": "1016399"
  },
  {
    "text": "replication and mysql logical",
    "start": "1016399",
    "end": "1018079"
  },
  {
    "text": "replication and postgres all right guys",
    "start": "1018079",
    "end": "1019680"
  },
  {
    "text": "that's it for me today i'm gonna see you",
    "start": "1019680",
    "end": "1021440"
  },
  {
    "text": "in the next one you guys stay awesome",
    "start": "1021440",
    "end": "1022959"
  },
  {
    "text": "goodbye",
    "start": "1022959",
    "end": "1025759"
  }
]