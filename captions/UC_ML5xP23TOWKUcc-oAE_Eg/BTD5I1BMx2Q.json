[
  {
    "start": "0",
    "end": "150000"
  },
  {
    "text": "when building back an application one of",
    "start": "120",
    "end": "2520"
  },
  {
    "text": "the most critical things",
    "start": "2520",
    "end": "4279"
  },
  {
    "text": "to identify is what kind of workload is",
    "start": "4279",
    "end": "9840"
  },
  {
    "text": "your backend application use and and",
    "start": "9840",
    "end": "13200"
  },
  {
    "text": "basically there are two types is it is",
    "start": "13200",
    "end": "15599"
  },
  {
    "text": "your back end mainly i o bound that",
    "start": "15599",
    "end": "18240"
  },
  {
    "text": "means is it mostly relying on uh you",
    "start": "18240",
    "end": "23039"
  },
  {
    "text": "know IO that whether that is to desk or",
    "start": "23039",
    "end": "26340"
  },
  {
    "text": "network or is it more you know CPU heavy",
    "start": "26340",
    "end": "32160"
  },
  {
    "text": "it needs the precious CPU time for",
    "start": "32160",
    "end": "36660"
  },
  {
    "text": "effective execution you know and and",
    "start": "36660",
    "end": "39660"
  },
  {
    "text": "this comes down to scaling because how",
    "start": "39660",
    "end": "42120"
  },
  {
    "text": "do you actually scale your backend",
    "start": "42120",
    "end": "43980"
  },
  {
    "text": "application and when I say say a skill I",
    "start": "43980",
    "end": "46079"
  },
  {
    "text": "mean like vertical scaling like how much",
    "start": "46079",
    "end": "49260"
  },
  {
    "text": "juice if you will resources do I need",
    "start": "49260",
    "end": "53180"
  },
  {
    "text": "for one box",
    "start": "53180",
    "end": "55860"
  },
  {
    "text": "so that my application runs efficiently",
    "start": "55860",
    "end": "59039"
  },
  {
    "text": "and it doesn't die and I spend as as",
    "start": "59039",
    "end": "62399"
  },
  {
    "text": "little amount of money as possible so",
    "start": "62399",
    "end": "64799"
  },
  {
    "text": "that you can kick in the latter part of",
    "start": "64799",
    "end": "67680"
  },
  {
    "text": "things where you can scale you know",
    "start": "67680",
    "end": "70760"
  },
  {
    "text": "horizontally so in this video I try to",
    "start": "70760",
    "end": "73140"
  },
  {
    "text": "explore the two types of workload i o",
    "start": "73140",
    "end": "75360"
  },
  {
    "text": "bound I'm going to show you an example",
    "start": "75360",
    "end": "76799"
  },
  {
    "text": "uh using postgres because it is an i o",
    "start": "76799",
    "end": "80100"
  },
  {
    "text": "bound app and I'm going to show you",
    "start": "80100",
    "end": "82439"
  },
  {
    "text": "another app that I wrote in C that is",
    "start": "82439",
    "end": "86040"
  },
  {
    "text": "essentially CPU Bond it it sucks all the",
    "start": "86040",
    "end": "89159"
  },
  {
    "text": "CPU out of your machine and you can use",
    "start": "89159",
    "end": "90900"
  },
  {
    "text": "that with this beautiful top command",
    "start": "90900",
    "end": "92820"
  },
  {
    "text": "which is available in every Linux",
    "start": "92820",
    "end": "94259"
  },
  {
    "text": "machine Let's jump into it alright so",
    "start": "94259",
    "end": "97140"
  },
  {
    "text": "now I'm looking at the top command which",
    "start": "97140",
    "end": "101100"
  },
  {
    "text": "you can literally execute by",
    "start": "101100",
    "end": "104220"
  },
  {
    "text": "by running the command top I know there",
    "start": "104220",
    "end": "106920"
  },
  {
    "text": "is like another command called HTA which",
    "start": "106920",
    "end": "108420"
  },
  {
    "text": "is like a little bit prettier but top",
    "start": "108420",
    "end": "110640"
  },
  {
    "text": "will give you all your processes all the",
    "start": "110640",
    "end": "113340"
  },
  {
    "text": "CPUs how much memory is each using but",
    "start": "113340",
    "end": "116820"
  },
  {
    "text": "I'm really interested in this line",
    "start": "116820",
    "end": "118619"
  },
  {
    "text": "essentially that's pretty much it I'm",
    "start": "118619",
    "end": "120479"
  },
  {
    "text": "going to explain that and even in that",
    "start": "120479",
    "end": "122399"
  },
  {
    "text": "line I'm really interested in this guy",
    "start": "122399",
    "end": "125000"
  },
  {
    "text": "and this guy and this guy right the rest",
    "start": "125000",
    "end": "129840"
  },
  {
    "text": "maybe are more relevant for you know",
    "start": "129840",
    "end": "132840"
  },
  {
    "text": "system you know Engineers or Hardware",
    "start": "132840",
    "end": "135599"
  },
  {
    "text": "Engineers is more it's more appropriate",
    "start": "135599",
    "end": "138000"
  },
  {
    "text": "for this parameter all right so let's",
    "start": "138000",
    "end": "139680"
  },
  {
    "text": "get started in explaining the different",
    "start": "139680",
    "end": "142640"
  },
  {
    "text": "type of CPU metrics that we have here",
    "start": "142640",
    "end": "146459"
  },
  {
    "text": "right so the first metric is this which",
    "start": "146459",
    "end": "150840"
  },
  {
    "start": "150000",
    "end": "600000"
  },
  {
    "text": "stands for us or user processes this is",
    "start": "150840",
    "end": "155220"
  },
  {
    "text": "a percentage of",
    "start": "155220",
    "end": "158340"
  },
  {
    "text": "all the cores right in your machine",
    "start": "158340",
    "end": "162599"
  },
  {
    "text": "of how much uh CPU usage user processes",
    "start": "162599",
    "end": "168840"
  },
  {
    "text": "have used so this is also a percentage",
    "start": "168840",
    "end": "171180"
  },
  {
    "text": "that's a 0.1 percent and I've seen this",
    "start": "171180",
    "end": "174900"
  },
  {
    "text": "different depends on the app you're",
    "start": "174900",
    "end": "176700"
  },
  {
    "text": "using so top will show this as a",
    "start": "176700",
    "end": "180239"
  },
  {
    "text": "percentage from zero to a hundred zero",
    "start": "180239",
    "end": "182940"
  },
  {
    "text": "means you're not using anything 100",
    "start": "182940",
    "end": "185160"
  },
  {
    "text": "means you're using 100 of all cores",
    "start": "185160",
    "end": "189780"
  },
  {
    "text": "right so if you see this as 100 them and",
    "start": "189780",
    "end": "193739"
  },
  {
    "text": "you have like four core machine like in",
    "start": "193739",
    "end": "195659"
  },
  {
    "text": "my Raspberry Pi that means uh you're",
    "start": "195659",
    "end": "199080"
  },
  {
    "text": "using hundred percent on the first score",
    "start": "199080",
    "end": "200879"
  },
  {
    "text": "100 on the second and 100 a third and so",
    "start": "200879",
    "end": "204239"
  },
  {
    "text": "on okay so that's critical sometimes",
    "start": "204239",
    "end": "207239"
  },
  {
    "text": "like h-top I think if I'm not mistaken",
    "start": "207239",
    "end": "209819"
  },
  {
    "text": "we'll show you that as 400 which is to",
    "start": "209819",
    "end": "212700"
  },
  {
    "text": "be honest it's like nicer right not a",
    "start": "212700",
    "end": "215459"
  },
  {
    "text": "nicer view like so you see 400 percent",
    "start": "215459",
    "end": "218519"
  },
  {
    "text": "means oh you're losing 400 percent of",
    "start": "218519",
    "end": "221519"
  },
  {
    "text": "you you have four cores and all of them",
    "start": "221519",
    "end": "223620"
  },
  {
    "text": "are essentially occupied right so that's",
    "start": "223620",
    "end": "226019"
  },
  {
    "text": "the first one user the second portion",
    "start": "226019",
    "end": "229799"
  },
  {
    "text": "here is the system so this is how much",
    "start": "229799",
    "end": "232620"
  },
  {
    "text": "time all the cores again the CPU has",
    "start": "232620",
    "end": "236280"
  },
  {
    "text": "spent on system operations right so",
    "start": "236280",
    "end": "239459"
  },
  {
    "text": "that's the when you Swip swipe from user",
    "start": "239459",
    "end": "242280"
  },
  {
    "text": "mode to Kernel mode and you start",
    "start": "242280",
    "end": "245459"
  },
  {
    "text": "executing system calls the kernel needs",
    "start": "245459",
    "end": "249780"
  },
  {
    "text": "it's the CPU as well but that's a",
    "start": "249780",
    "end": "252180"
  },
  {
    "text": "different metric we count that such that",
    "start": "252180",
    "end": "254459"
  },
  {
    "text": "we don't pollute your",
    "start": "254459",
    "end": "256320"
  },
  {
    "text": "percentage would tell you that hey the",
    "start": "256320",
    "end": "258299"
  },
  {
    "text": "kernel U is this much",
    "start": "258299",
    "end": "259859"
  },
  {
    "text": "so if you see this uh using hired amount",
    "start": "259859",
    "end": "265139"
  },
  {
    "text": "I don't know what to do you need a",
    "start": "265139",
    "end": "267120"
  },
  {
    "text": "kernel developer to start debugging that",
    "start": "267120",
    "end": "269759"
  },
  {
    "text": "stuff right so it means there is",
    "start": "269759",
    "end": "271740"
  },
  {
    "text": "somewhere inefficiency in the kernel",
    "start": "271740",
    "end": "274259"
  },
  {
    "text": "that we're using or maybe you're doing a",
    "start": "274259",
    "end": "277020"
  },
  {
    "text": "lot of system calls perhaps so yeah so",
    "start": "277020",
    "end": "279540"
  },
  {
    "text": "that's that's what it is essentially uh",
    "start": "279540",
    "end": "282300"
  },
  {
    "text": "ni or nice",
    "start": "282300",
    "end": "286080"
  },
  {
    "text": "um this one to be honest I don't have a",
    "start": "286080",
    "end": "288419"
  },
  {
    "text": "lot of it you know examples for it but",
    "start": "288419",
    "end": "291540"
  },
  {
    "text": "it seems like you can tag a processor",
    "start": "291540",
    "end": "294960"
  },
  {
    "text": "with a specific priorities and these are",
    "start": "294960",
    "end": "297540"
  },
  {
    "text": "cool for some reason nice right values",
    "start": "297540",
    "end": "300540"
  },
  {
    "text": "and anything that was above zero is an",
    "start": "300540",
    "end": "303860"
  },
  {
    "text": "will be counted here as its own",
    "start": "303860",
    "end": "306600"
  },
  {
    "text": "percentages so maybe you have like a",
    "start": "306600",
    "end": "308880"
  },
  {
    "text": "specific process with certain Affinity",
    "start": "308880",
    "end": "311120"
  },
  {
    "text": "right and you can assign certain",
    "start": "311120",
    "end": "314100"
  },
  {
    "text": "affinity for processes and this will",
    "start": "314100",
    "end": "316320"
  },
  {
    "text": "increment that counter so that it gives",
    "start": "316320",
    "end": "319560"
  },
  {
    "text": "you like a nice specific custom",
    "start": "319560",
    "end": "322160"
  },
  {
    "text": "percentage of CPU usage for them",
    "start": "322160",
    "end": "325500"
  },
  {
    "text": "ID which stands for idle this is how",
    "start": "325500",
    "end": "329100"
  },
  {
    "text": "much time we stayed idle essentially so",
    "start": "329100",
    "end": "332759"
  },
  {
    "text": "at this moment we're looking at top we",
    "start": "332759",
    "end": "336120"
  },
  {
    "text": "are 99.7 percent idle on my Raspberry Pi",
    "start": "336120",
    "end": "340320"
  },
  {
    "text": "I'm not using any almost no CPU right",
    "start": "340320",
    "end": "344100"
  },
  {
    "text": "so that's it and this is the one of the",
    "start": "344100",
    "end": "347160"
  },
  {
    "text": "important one that we need to talk about",
    "start": "347160",
    "end": "349680"
  },
  {
    "text": "is which is weight this is",
    "start": "349680",
    "end": "353940"
  },
  {
    "text": "all right the percentage of CPU",
    "start": "353940",
    "end": "358500"
  },
  {
    "text": "time that is spent waiting the CPU is",
    "start": "358500",
    "end": "363000"
  },
  {
    "text": "actually waiting for an i o specifically",
    "start": "363000",
    "end": "366900"
  },
  {
    "text": "from disk this does not count network i",
    "start": "366900",
    "end": "370380"
  },
  {
    "text": "o as far as as I'm when I say Network I",
    "start": "370380",
    "end": "373199"
  },
  {
    "text": "don't mean I mean",
    "start": "373199",
    "end": "375500"
  },
  {
    "text": "socket TCP or UDP you know socket it",
    "start": "375500",
    "end": "380880"
  },
  {
    "text": "does not count as that if you send if",
    "start": "380880",
    "end": "382979"
  },
  {
    "text": "you send a request in HTTP and your CPU",
    "start": "382979",
    "end": "386160"
  },
  {
    "text": "is just waiting that doesn't increment",
    "start": "386160",
    "end": "388560"
  },
  {
    "text": "that at all right this only get",
    "start": "388560",
    "end": "390660"
  },
  {
    "text": "incremented when you're like the CPU is",
    "start": "390660",
    "end": "393060"
  },
  {
    "text": "making a file read to disk or if that",
    "start": "393060",
    "end": "397199"
  },
  {
    "text": "disk is mounted to like a network",
    "start": "397199",
    "end": "399080"
  },
  {
    "text": "mounted device that network is just you",
    "start": "399080",
    "end": "402960"
  },
  {
    "text": "know",
    "start": "402960",
    "end": "403639"
  },
  {
    "text": "uh that causes just eaten as if you're",
    "start": "403639",
    "end": "407100"
  },
  {
    "text": "doing a file disc i o right so what does",
    "start": "407100",
    "end": "410699"
  },
  {
    "text": "that mean this is essentially a way to",
    "start": "410699",
    "end": "413759"
  },
  {
    "text": "distinguish idleness because technically",
    "start": "413759",
    "end": "416699"
  },
  {
    "text": "the CPU Wireless is waiting doesn't mean",
    "start": "416699",
    "end": "419759"
  },
  {
    "text": "it's blocked the kernel can technically",
    "start": "419759",
    "end": "423240"
  },
  {
    "text": "switch another process to to uh to do",
    "start": "423240",
    "end": "428759"
  },
  {
    "text": "other tasks on it right so it is it is",
    "start": "428759",
    "end": "431699"
  },
  {
    "text": "technically idle but we want to identify",
    "start": "431699",
    "end": "435259"
  },
  {
    "text": "that the idleness such that this",
    "start": "435259",
    "end": "439740"
  },
  {
    "text": "particular CPU has issued an i o and",
    "start": "439740",
    "end": "443400"
  },
  {
    "text": "it's waiting for and a result before it",
    "start": "443400",
    "end": "445740"
  },
  {
    "text": "can continue other things so that time",
    "start": "445740",
    "end": "448919"
  },
  {
    "text": "until we get the i o back that counter",
    "start": "448919",
    "end": "451740"
  },
  {
    "text": "essentially stops right so I think if",
    "start": "451740",
    "end": "454620"
  },
  {
    "text": "I'm not mistaken the counter always gets",
    "start": "454620",
    "end": "456780"
  },
  {
    "text": "incremented like",
    "start": "456780",
    "end": "458039"
  },
  {
    "text": "if you see a CPU idle which is this case",
    "start": "458039",
    "end": "461280"
  },
  {
    "text": "like the kernel of this season a CPU is",
    "start": "461280",
    "end": "464099"
  },
  {
    "text": "Idle or a horiz idle",
    "start": "464099",
    "end": "466199"
  },
  {
    "text": "and",
    "start": "466199",
    "end": "467819"
  },
  {
    "text": "it just has issued an i o then it starts",
    "start": "467819",
    "end": "471060"
  },
  {
    "text": "incrementing this time or this counter",
    "start": "471060",
    "end": "473220"
  },
  {
    "text": "essentially okay the higher the value",
    "start": "473220",
    "end": "475259"
  },
  {
    "text": "here the that means your desk IO is it's",
    "start": "475259",
    "end": "481620"
  },
  {
    "text": "slow right essentially and I'm gonna",
    "start": "481620",
    "end": "484199"
  },
  {
    "text": "demonstrate this with postgres because",
    "start": "484199",
    "end": "486060"
  },
  {
    "text": "this Raspberry Pi has an emmc you know",
    "start": "486060",
    "end": "489599"
  },
  {
    "text": "Drive",
    "start": "489599",
    "end": "491759"
  },
  {
    "text": "card I suppose it's not really a drive",
    "start": "491759",
    "end": "494419"
  },
  {
    "text": "and and that is really slow and I'm",
    "start": "494419",
    "end": "497699"
  },
  {
    "text": "gonna issue a lot of rides and you can",
    "start": "497699",
    "end": "500280"
  },
  {
    "text": "see that the CPU",
    "start": "500280",
    "end": "502379"
  },
  {
    "text": "is is is just waiting most of the time",
    "start": "502379",
    "end": "505860"
  },
  {
    "text": "spent waiting for Io bound workloads",
    "start": "505860",
    "end": "510000"
  },
  {
    "text": "right so so essentially that's what it's",
    "start": "510000",
    "end": "512820"
  },
  {
    "text": "doing if you if you see that in that",
    "start": "512820",
    "end": "514680"
  },
  {
    "text": "area then if you see that value high",
    "start": "514680",
    "end": "517380"
  },
  {
    "text": "that means your disk reads are slow",
    "start": "517380",
    "end": "520320"
  },
  {
    "text": "essentially or maybe you're issuing so",
    "start": "520320",
    "end": "523680"
  },
  {
    "text": "much so many reads right maybe you can",
    "start": "523680",
    "end": "526800"
  },
  {
    "text": "do like a little bit more efficient in",
    "start": "526800",
    "end": "528959"
  },
  {
    "text": "your i o right to desk and that becomes",
    "start": "528959",
    "end": "532200"
  },
  {
    "text": "like are you building a database or",
    "start": "532200",
    "end": "534060"
  },
  {
    "text": "building a like something in that in",
    "start": "534060",
    "end": "536519"
  },
  {
    "text": "that regard right all right so hi High",
    "start": "536519",
    "end": "539880"
  },
  {
    "text": "Hardware interrupts the CPU has spent",
    "start": "539880",
    "end": "543180"
  },
  {
    "text": "some time",
    "start": "543180",
    "end": "544640"
  },
  {
    "text": "servicing Hardware interrupts like I",
    "start": "544640",
    "end": "547920"
  },
  {
    "text": "suppose a keyboard a mouse is a hardware",
    "start": "547920",
    "end": "550200"
  },
  {
    "text": "interrupt right there's a software",
    "start": "550200",
    "end": "552120"
  },
  {
    "text": "interrupt as well I suppose this is the",
    "start": "552120",
    "end": "553980"
  },
  {
    "text": "software the service interrupt routines",
    "start": "553980",
    "end": "556080"
  },
  {
    "text": "right and there's the St which is the",
    "start": "556080",
    "end": "558480"
  },
  {
    "text": "steel and this is",
    "start": "558480",
    "end": "561080"
  },
  {
    "text": "essentially if you're in a virtual",
    "start": "561080",
    "end": "563459"
  },
  {
    "text": "environment",
    "start": "563459",
    "end": "564920"
  },
  {
    "text": "you have multiple operating systems",
    "start": "564920",
    "end": "567779"
  },
  {
    "text": "right sharing that course that you have",
    "start": "567779",
    "end": "571560"
  },
  {
    "text": "and what will happen in this case like",
    "start": "571560",
    "end": "574380"
  },
  {
    "text": "the core the CPUs will be stolen from",
    "start": "574380",
    "end": "577920"
  },
  {
    "text": "One processor from process to another",
    "start": "577920",
    "end": "580100"
  },
  {
    "text": "right and when it's being stolen for to",
    "start": "580100",
    "end": "584580"
  },
  {
    "text": "execute other things this counter gets",
    "start": "584580",
    "end": "586620"
  },
  {
    "text": "increased right but we're really",
    "start": "586620",
    "end": "588240"
  },
  {
    "text": "interested in is really the weight and",
    "start": "588240",
    "end": "591120"
  },
  {
    "text": "idle and the user okay so you can easily",
    "start": "591120",
    "end": "595500"
  },
  {
    "text": "know that if you're a CPU Bond or i o",
    "start": "595500",
    "end": "600540"
  },
  {
    "start": "600000",
    "end": "740000"
  },
  {
    "text": "bound right in this particular case I O",
    "start": "600540",
    "end": "603839"
  },
  {
    "text": "bond to disk right how about we jump",
    "start": "603839",
    "end": "606060"
  },
  {
    "text": "into it and do some examples all right",
    "start": "606060",
    "end": "607620"
  },
  {
    "text": "with that all the way now that we know",
    "start": "607620",
    "end": "609480"
  },
  {
    "text": "this how about we try our first workload",
    "start": "609480",
    "end": "612839"
  },
  {
    "text": "which is uh doing a CPU bound workload",
    "start": "612839",
    "end": "616500"
  },
  {
    "text": "right so I'm going to go here and I have",
    "start": "616500",
    "end": "619220"
  },
  {
    "text": "a basically a c program",
    "start": "619220",
    "end": "624680"
  },
  {
    "text": "here very simple that just literally",
    "start": "625500",
    "end": "628260"
  },
  {
    "text": "loops",
    "start": "628260",
    "end": "630620"
  },
  {
    "text": "bazillion times and then just create a",
    "start": "630620",
    "end": "633600"
  },
  {
    "text": "sound so if I run this program",
    "start": "633600",
    "end": "636959"
  },
  {
    "text": "it's going to stay running but that is",
    "start": "636959",
    "end": "640019"
  },
  {
    "text": "absolutely almost using the CPU all the",
    "start": "640019",
    "end": "643080"
  },
  {
    "text": "time yeah there is like uh traps to the",
    "start": "643080",
    "end": "646260"
  },
  {
    "text": "memory of course to to set the variable",
    "start": "646260",
    "end": "648720"
  },
  {
    "text": "the local variable that is the sum but",
    "start": "648720",
    "end": "651959"
  },
  {
    "text": "you can see that now there's a program",
    "start": "651959",
    "end": "653700"
  },
  {
    "text": "called a DOT out and it is using some",
    "start": "653700",
    "end": "656880"
  },
  {
    "text": "part of the CPU right it's using one",
    "start": "656880",
    "end": "660000"
  },
  {
    "text": "hundred percent of one core of the CPU",
    "start": "660000",
    "end": "662459"
  },
  {
    "text": "because it's a single threaded uh",
    "start": "662459",
    "end": "664620"
  },
  {
    "text": "process right so we're using 25 makes",
    "start": "664620",
    "end": "668339"
  },
  {
    "text": "sense because uh this is a four core",
    "start": "668339",
    "end": "670860"
  },
  {
    "text": "Raspberry Pi and so you can see that now",
    "start": "670860",
    "end": "674880"
  },
  {
    "text": "we are jumping to 50 something happened",
    "start": "674880",
    "end": "677220"
  },
  {
    "text": "right other other processes got kicked",
    "start": "677220",
    "end": "679740"
  },
  {
    "text": "postgres is interfering but we're we're",
    "start": "679740",
    "end": "682620"
  },
  {
    "text": "averaging 25 which is nice now what I'm",
    "start": "682620",
    "end": "685860"
  },
  {
    "text": "gonna do is I'm gonna kill this process",
    "start": "685860",
    "end": "688019"
  },
  {
    "text": "and before we do that see the idle time",
    "start": "688019",
    "end": "690839"
  },
  {
    "text": "is around 75 right so it's like almost",
    "start": "690839",
    "end": "693180"
  },
  {
    "text": "like a full sum game here so I'm gonna",
    "start": "693180",
    "end": "696240"
  },
  {
    "text": "kill that process and uh you can see",
    "start": "696240",
    "end": "698700"
  },
  {
    "text": "we're back to normal right so we're no",
    "start": "698700",
    "end": "701399"
  },
  {
    "text": "longer CPU bound all right so we're",
    "start": "701399",
    "end": "704040"
  },
  {
    "text": "gonna do is I'm gonna start running the",
    "start": "704040",
    "end": "706579"
  },
  {
    "text": "processes essentially a multi-process of",
    "start": "706579",
    "end": "711060"
  },
  {
    "text": "the same job for the same process I'm",
    "start": "711060",
    "end": "712860"
  },
  {
    "text": "gonna spin up multiple processes on the",
    "start": "712860",
    "end": "715380"
  },
  {
    "text": "background so we Sprint on process",
    "start": "715380",
    "end": "717420"
  },
  {
    "text": "number 38 39 and 4 should essentially",
    "start": "717420",
    "end": "722180"
  },
  {
    "text": "max out my CPU anyway as we can see now",
    "start": "722180",
    "end": "725700"
  },
  {
    "text": "my CPU is fully maxed out 99.8 user",
    "start": "725700",
    "end": "730380"
  },
  {
    "text": "space you know the user processes and",
    "start": "730380",
    "end": "733800"
  },
  {
    "text": "there's no idle time and you can see",
    "start": "733800",
    "end": "735839"
  },
  {
    "text": "that all of these guys are fully fully",
    "start": "735839",
    "end": "738779"
  },
  {
    "text": "using the CPU now guys what I want to",
    "start": "738779",
    "end": "741480"
  },
  {
    "start": "740000",
    "end": "885000"
  },
  {
    "text": "talk about here is",
    "start": "741480",
    "end": "743760"
  },
  {
    "text": "for a brief second is",
    "start": "743760",
    "end": "747480"
  },
  {
    "text": "while true we have",
    "start": "747480",
    "end": "751680"
  },
  {
    "text": "we have we're seeing hundred percent of",
    "start": "751680",
    "end": "754079"
  },
  {
    "text": "CPU",
    "start": "754079",
    "end": "755579"
  },
  {
    "text": "it doesn't tell us",
    "start": "755579",
    "end": "758420"
  },
  {
    "text": "that other processes",
    "start": "758420",
    "end": "761700"
  },
  {
    "text": "has been waiting for CPU time",
    "start": "761700",
    "end": "766800"
  },
  {
    "text": "it doesn't tell us that metric",
    "start": "766800",
    "end": "768860"
  },
  {
    "text": "unfortunately that metric is missing",
    "start": "768860",
    "end": "772320"
  },
  {
    "text": "right while you can technically you can",
    "start": "772320",
    "end": "776339"
  },
  {
    "text": "have a hundred percent",
    "start": "776339",
    "end": "778459"
  },
  {
    "text": "all maybe 98 let's say utilization of",
    "start": "778459",
    "end": "782820"
  },
  {
    "text": "your CPU",
    "start": "782820",
    "end": "784200"
  },
  {
    "text": "and you'll be absolutely fine no",
    "start": "784200",
    "end": "786899"
  },
  {
    "text": "processes are starving for CPU time",
    "start": "786899",
    "end": "790500"
  },
  {
    "text": "for but",
    "start": "790500",
    "end": "792360"
  },
  {
    "text": "so just seeing 100 or 98 doesn't mean I",
    "start": "792360",
    "end": "796200"
  },
  {
    "text": "am lacking CPU and I need to add more",
    "start": "796200",
    "end": "799620"
  },
  {
    "text": "CPUs that that's not always the case for",
    "start": "799620",
    "end": "802680"
  },
  {
    "text": "that you actually need another parameter",
    "start": "802680",
    "end": "805079"
  },
  {
    "text": "that is not available here as I was",
    "start": "805079",
    "end": "808079"
  },
  {
    "text": "saying 100 percent CPU or let's say 98",
    "start": "808079",
    "end": "811860"
  },
  {
    "text": "doesn't always mean other processors are",
    "start": "811860",
    "end": "814860"
  },
  {
    "text": "starving right to actually see their",
    "start": "814860",
    "end": "818940"
  },
  {
    "text": "starving or stalling processes you need",
    "start": "818940",
    "end": "821339"
  },
  {
    "text": "something called performing stole",
    "start": "821339",
    "end": "823620"
  },
  {
    "text": "information or PSI and Linux is an",
    "start": "823620",
    "end": "827040"
  },
  {
    "text": "extension or or an add-in",
    "start": "827040",
    "end": "829920"
  },
  {
    "text": "is it called an add-in something you",
    "start": "829920",
    "end": "831959"
  },
  {
    "text": "enable in Linux you enable it in Linux",
    "start": "831959",
    "end": "834600"
  },
  {
    "text": "and that will show you hey these",
    "start": "834600",
    "end": "836820"
  },
  {
    "text": "processors are are stalling you do not",
    "start": "836820",
    "end": "839220"
  },
  {
    "text": "want stalling processes because that's",
    "start": "839220",
    "end": "841560"
  },
  {
    "text": "when you're doing context switches left",
    "start": "841560",
    "end": "844500"
  },
  {
    "text": "and right you are starving other",
    "start": "844500",
    "end": "848100"
  },
  {
    "text": "processes and you don't want to do that",
    "start": "848100",
    "end": "850440"
  },
  {
    "text": "and that's actually how you can you know",
    "start": "850440",
    "end": "853560"
  },
  {
    "text": "figure out how many threads",
    "start": "853560",
    "end": "855899"
  },
  {
    "text": "right how how much can you push your",
    "start": "855899",
    "end": "859320"
  },
  {
    "text": "back end how many threads can I you know",
    "start": "859320",
    "end": "861779"
  },
  {
    "text": "kind of spin up before my backend is",
    "start": "861779",
    "end": "864060"
  },
  {
    "text": "fully saturated like almost fully",
    "start": "864060",
    "end": "867060"
  },
  {
    "text": "saturated because again you want to stay",
    "start": "867060",
    "end": "869160"
  },
  {
    "text": "efficient and by efficient means I want",
    "start": "869160",
    "end": "871260"
  },
  {
    "text": "to use everything that I have to for",
    "start": "871260",
    "end": "874079"
  },
  {
    "text": "maximel",
    "start": "874079",
    "end": "875639"
  },
  {
    "text": "uh you know Effectiveness right back to",
    "start": "875639",
    "end": "878459"
  },
  {
    "text": "the screen",
    "start": "878459",
    "end": "881480"
  },
  {
    "text": "all right so now let's kill this",
    "start": "881760",
    "end": "885480"
  },
  {
    "start": "885000",
    "end": "1190000"
  },
  {
    "text": "f",
    "start": "885480",
    "end": "886980"
  },
  {
    "text": "all right",
    "start": "886980",
    "end": "888240"
  },
  {
    "text": "all right we killed all the four",
    "start": "888240",
    "end": "890279"
  },
  {
    "text": "processes nice we're back to normal ish",
    "start": "890279",
    "end": "894120"
  },
  {
    "text": "right",
    "start": "894120",
    "end": "895079"
  },
  {
    "text": "good stuff now let's do an i o process",
    "start": "895079",
    "end": "898500"
  },
  {
    "text": "you guys right I'm gonna do an i o",
    "start": "898500",
    "end": "900800"
  },
  {
    "text": "process all right so now I have logged",
    "start": "900800",
    "end": "904139"
  },
  {
    "text": "into my postgres instance on the Spy I'm",
    "start": "904139",
    "end": "907980"
  },
  {
    "text": "gonna do the most i o bound that it is",
    "start": "907980",
    "end": "911160"
  },
  {
    "text": "I'm gonna start and insert a workload",
    "start": "911160",
    "end": "915660"
  },
  {
    "text": "that inserts like I don't know a billion",
    "start": "915660",
    "end": "918120"
  },
  {
    "text": "rows right because because I'm gonna",
    "start": "918120",
    "end": "919860"
  },
  {
    "text": "talk a lot so I don't wanna I wanna I",
    "start": "919860",
    "end": "922199"
  },
  {
    "text": "don't want it to finish because I want",
    "start": "922199",
    "end": "923639"
  },
  {
    "text": "to see what's happening to the CPU",
    "start": "923639",
    "end": "925920"
  },
  {
    "text": "meanwhile so let's do a insert in two",
    "start": "925920",
    "end": "928199"
  },
  {
    "text": "tests there's a table I have called test",
    "start": "928199",
    "end": "930620"
  },
  {
    "text": "uh from no select store from generate",
    "start": "930620",
    "end": "935459"
  },
  {
    "text": "series",
    "start": "935459",
    "end": "938360"
  },
  {
    "text": "yeah whatever it's gonna take a while",
    "start": "939620",
    "end": "942779"
  },
  {
    "text": "but while it's taking a while",
    "start": "942779",
    "end": "946380"
  },
  {
    "text": "let's take a look at what's happening",
    "start": "946380",
    "end": "948060"
  },
  {
    "text": "here now guys see there's some CPUs",
    "start": "948060",
    "end": "950639"
  },
  {
    "text": "being taken 20 comes back up and down",
    "start": "950639",
    "end": "953760"
  },
  {
    "text": "but look at this guy",
    "start": "953760",
    "end": "956519"
  },
  {
    "text": "this is what we want if you ever see",
    "start": "956519",
    "end": "959399"
  },
  {
    "text": "this guy stuck at 50 40 then whatever",
    "start": "959399",
    "end": "963660"
  },
  {
    "text": "workload you're running is probably i o",
    "start": "963660",
    "end": "966360"
  },
  {
    "text": "bound right that means most of the",
    "start": "966360",
    "end": "969120"
  },
  {
    "text": "operation is being uh the CPU is barely",
    "start": "969120",
    "end": "974940"
  },
  {
    "text": "doing any work right into disk or and",
    "start": "974940",
    "end": "979380"
  },
  {
    "text": "just waiting for the result and and this",
    "start": "979380",
    "end": "981839"
  },
  {
    "text": "guy essentially this is a uh the the",
    "start": "981839",
    "end": "984959"
  },
  {
    "text": "pause using an emmc as type of a storage",
    "start": "984959",
    "end": "989360"
  },
  {
    "text": "and that is not really",
    "start": "989360",
    "end": "993600"
  },
  {
    "text": "um that's how do I say",
    "start": "993600",
    "end": "995339"
  },
  {
    "text": "it's not really fast per se right so you",
    "start": "995339",
    "end": "998220"
  },
  {
    "text": "can see this goes up to 24 and it",
    "start": "998220",
    "end": "1001399"
  },
  {
    "text": "depends on the operations that I'm doing",
    "start": "1001399",
    "end": "1004300"
  },
  {
    "text": "I've seen this go up to 80 to be honest",
    "start": "1004300",
    "end": "1008480"
  },
  {
    "text": "right and it it really depends like what",
    "start": "1008480",
    "end": "1011600"
  },
  {
    "text": "are we doing on the background process",
    "start": "1011600",
    "end": "1014600"
  },
  {
    "text": "so like when postgres writes all this",
    "start": "1014600",
    "end": "1016880"
  },
  {
    "text": "stuff it actually writes it right so if",
    "start": "1016880",
    "end": "1018800"
  },
  {
    "text": "I even if I cancel this operation right",
    "start": "1018800",
    "end": "1021259"
  },
  {
    "text": "well postgres will try to cancel it but",
    "start": "1021259",
    "end": "1023540"
  },
  {
    "text": "that the data that you wrote is not",
    "start": "1023540",
    "end": "1025880"
  },
  {
    "text": "gonna go away right because it's still",
    "start": "1025880",
    "end": "1028220"
  },
  {
    "text": "there but then it's subsequent processes",
    "start": "1028220",
    "end": "1030558"
  },
  {
    "text": "will start to now kick in to clean up",
    "start": "1030559",
    "end": "1033620"
  },
  {
    "text": "right the auto vacuum will start to kick",
    "start": "1033620",
    "end": "1036319"
  },
  {
    "text": "in there's another process called check",
    "start": "1036319",
    "end": "1038120"
  },
  {
    "text": "pointer will start to kick in so the",
    "start": "1038120",
    "end": "1040579"
  },
  {
    "text": "more we wait the more this goes up",
    "start": "1040579",
    "end": "1044900"
  },
  {
    "text": "essentially",
    "start": "1044900",
    "end": "1046400"
  },
  {
    "text": "because you're going to do more and more",
    "start": "1046400",
    "end": "1048260"
  },
  {
    "text": "iOS so let's do that one more time right",
    "start": "1048260",
    "end": "1052059"
  },
  {
    "text": "and you can see that watch watch that go",
    "start": "1052059",
    "end": "1055520"
  },
  {
    "text": "up again like you can see post because",
    "start": "1055520",
    "end": "1058460"
  },
  {
    "text": "she does use the CPU right efficiently",
    "start": "1058460",
    "end": "1061220"
  },
  {
    "text": "in certain operations but most of the",
    "start": "1061220",
    "end": "1064280"
  },
  {
    "text": "time and we can't really tell",
    "start": "1064280",
    "end": "1067039"
  },
  {
    "text": "here what is what is what post what",
    "start": "1067039",
    "end": "1071240"
  },
  {
    "text": "process is actually that but there is",
    "start": "1071240",
    "end": "1074720"
  },
  {
    "text": "tricks we can play I suppose we can do",
    "start": "1074720",
    "end": "1079520"
  },
  {
    "text": "that in another window right while this",
    "start": "1079520",
    "end": "1081919"
  },
  {
    "text": "runs how about we do this grip",
    "start": "1081919",
    "end": "1086139"
  },
  {
    "text": "four screws good anything that's",
    "start": "1086480",
    "end": "1088940"
  },
  {
    "text": "possible there you go that's what I want",
    "start": "1088940",
    "end": "1090200"
  },
  {
    "text": "to do so now that we have more details",
    "start": "1090200",
    "end": "1092660"
  },
  {
    "text": "about what what is these things now we",
    "start": "1092660",
    "end": "1094640"
  },
  {
    "text": "can see this there's the check pointer",
    "start": "1094640",
    "end": "1096380"
  },
  {
    "text": "there's the background writer and I",
    "start": "1096380",
    "end": "1098059"
  },
  {
    "text": "talked about this in another video guys",
    "start": "1098059",
    "end": "1099740"
  },
  {
    "text": "where I talk about all the processes and",
    "start": "1099740",
    "end": "1102020"
  },
  {
    "text": "postgres and what are what does each one",
    "start": "1102020",
    "end": "1104480"
  },
  {
    "text": "do so we have uh you know we're up to 50",
    "start": "1104480",
    "end": "1107419"
  },
  {
    "text": "nice nice so we're way we have a weight",
    "start": "1107419",
    "end": "1110419"
  },
  {
    "text": "events and CPU 50 of the CPU that is the",
    "start": "1110419",
    "end": "1114140"
  },
  {
    "text": "entire CPU so two cores",
    "start": "1114140",
    "end": "1116539"
  },
  {
    "text": "fully just waiting on i o yeah I was",
    "start": "1116539",
    "end": "1120080"
  },
  {
    "text": "still running this operation there is a",
    "start": "1120080",
    "end": "1122240"
  },
  {
    "text": "postgres I want to take this guy",
    "start": "1122240",
    "end": "1124940"
  },
  {
    "text": "right two six",
    "start": "1124940",
    "end": "1127940"
  },
  {
    "text": "was that was that it two six one four",
    "start": "1127940",
    "end": "1130460"
  },
  {
    "text": "two right and we'll tell us",
    "start": "1130460",
    "end": "1133100"
  },
  {
    "text": "two six one four two is actually the",
    "start": "1133100",
    "end": "1135200"
  },
  {
    "text": "postgres",
    "start": "1135200",
    "end": "1137740"
  },
  {
    "text": "and it tells oh my God it tells you even",
    "start": "1138320",
    "end": "1140120"
  },
  {
    "text": "what is it doing I think this is the",
    "start": "1140120",
    "end": "1141980"
  },
  {
    "text": "background uh there's the back end",
    "start": "1141980",
    "end": "1144140"
  },
  {
    "text": "process itself that's the process that",
    "start": "1144140",
    "end": "1146780"
  },
  {
    "text": "you that posca spins up",
    "start": "1146780",
    "end": "1149059"
  },
  {
    "text": "for each connection",
    "start": "1149059",
    "end": "1150860"
  },
  {
    "text": "and it's actually that's what it's doing",
    "start": "1150860",
    "end": "1152960"
  },
  {
    "text": "right",
    "start": "1152960",
    "end": "1153980"
  },
  {
    "text": "so this is not a system process that's",
    "start": "1153980",
    "end": "1156380"
  },
  {
    "text": "doing that's the back end user process",
    "start": "1156380",
    "end": "1158480"
  },
  {
    "text": "right but yeah that's what I wanted to",
    "start": "1158480",
    "end": "1160760"
  },
  {
    "text": "explain actually essentially guys right",
    "start": "1160760",
    "end": "1162740"
  },
  {
    "text": "so we talked about the CPU bound every",
    "start": "1162740",
    "end": "1166340"
  },
  {
    "text": "time you see this as a you know closing",
    "start": "1166340",
    "end": "1169039"
  },
  {
    "text": "to the high percentage that means your",
    "start": "1169039",
    "end": "1171740"
  },
  {
    "text": "your application is essentially uh CPU",
    "start": "1171740",
    "end": "1174919"
  },
  {
    "text": "bound if you see this guy goes high that",
    "start": "1174919",
    "end": "1177679"
  },
  {
    "text": "means your applications mostly doing IO",
    "start": "1177679",
    "end": "1180520"
  },
  {
    "text": "and rarely using the CPU are actually",
    "start": "1180520",
    "end": "1183740"
  },
  {
    "text": "waiting for CPU time right so",
    "start": "1183740",
    "end": "1187100"
  },
  {
    "text": "I hope you enjoyed this video and see",
    "start": "1187100",
    "end": "1189020"
  },
  {
    "text": "you in the next one goodbye",
    "start": "1189020",
    "end": "1191620"
  }
]