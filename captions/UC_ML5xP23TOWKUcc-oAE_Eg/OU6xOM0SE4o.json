[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "I've been playing with Docker networking for the past week or so and I thought I'll make a quick tutorial",
    "start": "0",
    "end": "6200"
  },
  {
    "text": "to show how Docker networking actually works so we're gonna play with the uh",
    "start": "6200",
    "end": "13019"
  },
  {
    "text": "with custom networking I'm gonna spin up a Docker container put in a network gonna spin up another container put",
    "start": "13019",
    "end": "19500"
  },
  {
    "text": "another Network and we're gonna show how we can eventually make those two talk to",
    "start": "19500",
    "end": "25140"
  },
  {
    "text": "each other we're gonna kind of demystify uh some of this stuff behind Docker",
    "start": "25140",
    "end": "30900"
  },
  {
    "start": "30000",
    "end": "315000"
  },
  {
    "text": "networking and um if you're interested in this into the details of doing things",
    "start": "30900",
    "end": "36059"
  },
  {
    "text": "um this might be for you let's jump into it okay let's start by spinning up a new",
    "start": "36059",
    "end": "41160"
  },
  {
    "text": "container Apache web server and expose it to our host through published Port 80 right",
    "start": "41160",
    "end": "48000"
  },
  {
    "text": "very simple stuff we used to do this all the time right so I'm gonna do a Docker run Dash p I am going to expose Port 80",
    "start": "48000",
    "end": "57719"
  },
  {
    "text": "which is what is running on my container to Port 80 on my host which is basically",
    "start": "57719",
    "end": "66540"
  },
  {
    "text": "running Docker right the application that's called Docker which means anyone",
    "start": "66540",
    "end": "72360"
  },
  {
    "text": "who tries to access port 80 on the public machine Hussain Mac will be",
    "start": "72360",
    "end": "77820"
  },
  {
    "text": "forwarded to this container inside it right that request would go right there",
    "start": "77820",
    "end": "83159"
  },
  {
    "text": "and that that's basically what what publishing really does port",
    "start": "83159",
    "end": "88920"
  },
  {
    "text": "then I'm going to do Dash D httpd HD means hey detach so I can do more stuff",
    "start": "88920",
    "end": "95159"
  },
  {
    "text": "in my terminal hdb is the image that's the official Apache image which is the",
    "start": "95159",
    "end": "102659"
  },
  {
    "text": "HTTP name in and when we do that we gonna get a beautiful new container Fido Docker PS",
    "start": "102659",
    "end": "111540"
  },
  {
    "text": "you can find this is my container ID I didn't give it a name it was wonderful Feast feistel so if I do a curl on my",
    "start": "111540",
    "end": "120720"
  },
  {
    "text": "machine right it works if I go to the browser and I go",
    "start": "120720",
    "end": "126960"
  },
  {
    "text": "Hussein Mac on Port 80 it works and it only worked because",
    "start": "126960",
    "end": "132540"
  },
  {
    "text": "there isn't anyone running Port 80 on my machine right",
    "start": "132540",
    "end": "139379"
  },
  {
    "text": "but this when we actually did this the container was placed in a network",
    "start": "139379",
    "end": "145319"
  },
  {
    "text": "technically what is this network if we do inspect this container you can basically take",
    "start": "145319",
    "end": "153300"
  },
  {
    "text": "the first two letters of a container ID and it will it will take you if I can",
    "start": "153300",
    "end": "159000"
  },
  {
    "text": "type right so that's that's the network so",
    "start": "159000",
    "end": "164040"
  },
  {
    "text": "but notice that it's a network it's a Json right and you can be in multiple",
    "start": "164040",
    "end": "170040"
  },
  {
    "text": "networks yeah sure why not so in this case this container that I",
    "start": "170040",
    "end": "175140"
  },
  {
    "text": "just spent is in a network called bridge and that's the default Network and this bridge Network that is basically inside",
    "start": "175140",
    "end": "181980"
  },
  {
    "text": "the stalker host right on my Docker for Mac as a gateway called",
    "start": "181980",
    "end": "188900"
  },
  {
    "text": "172.17.01 and that's the IEP address of the container now",
    "start": "188900",
    "end": "194640"
  },
  {
    "text": "what happened if I do a curl http 172.17.0.2",
    "start": "194640",
    "end": "200220"
  },
  {
    "text": "from my host you notice that it didn't work why and the reason is because there",
    "start": "201780",
    "end": "207780"
  },
  {
    "text": "is no at least in Mac Docker format there is no bridge that takes you from",
    "start": "207780",
    "end": "214980"
  },
  {
    "text": "my Mac which hosts Docker for Mac down to the container what what Docker does",
    "start": "214980",
    "end": "221340"
  },
  {
    "text": "is actually spends about a virtual machine and there is where Docker actually live inside my Mac and in that",
    "start": "221340",
    "end": "229379"
  },
  {
    "text": "if I managed to get into that Network then I'll be able to do it but from public my machine I can do that if you",
    "start": "229379",
    "end": "236099"
  },
  {
    "text": "have Linux you can easily access that because it will be native installation",
    "start": "236099",
    "end": "242040"
  },
  {
    "text": "of Docker right Mac doesn't have that unfortunately so that's the bridge Network",
    "start": "242040",
    "end": "247980"
  },
  {
    "text": "it also mean that if you go to The Container the container actually is",
    "start": "247980",
    "end": "253439"
  },
  {
    "text": "bridged back out the bridge the container can go out but you cannot go",
    "start": "253439",
    "end": "258780"
  },
  {
    "text": "into the Container that's the only difference here when it comes to Mac and the reason it can go out is because",
    "start": "258780",
    "end": "265820"
  },
  {
    "text": "a few less for example you did uh Google the pen pen Google from the container",
    "start": "265820",
    "end": "272639"
  },
  {
    "text": "we're going to show how to do that let me try to open Google it's going to do a DNS even before before pinging the the",
    "start": "272639",
    "end": "279479"
  },
  {
    "text": "DNS call will have to go outside right to the host and to do that you need to",
    "start": "279479",
    "end": "286259"
  },
  {
    "text": "go through the Gateway and then you go to through the actual host right and",
    "start": "286259",
    "end": "291840"
  },
  {
    "text": "then the host will resolve the DNS is a this is IPS of Google 144 331122 and",
    "start": "291840",
    "end": "299280"
  },
  {
    "text": "then that will also the request will go out right to the Gateway and then",
    "start": "299280",
    "end": "305759"
  },
  {
    "text": "all the way to the internet through my MacBook through the basically the router",
    "start": "305759",
    "end": "311460"
  },
  {
    "text": "my router and then ISP and goes all the way there I need to actually have certain tools to debug my container",
    "start": "311460",
    "end": "319800"
  },
  {
    "start": "315000",
    "end": "540000"
  },
  {
    "text": "right like Ping and trace it out and let's look up containers don't have that by default",
    "start": "319800",
    "end": "326340"
  },
  {
    "text": "for good reasons I don't really need these utilities but I actually do right because I'm gonna do a debugging I'm",
    "start": "326340",
    "end": "333180"
  },
  {
    "text": "gonna say hey where are you now in this thing so we're gonna do here is that effectively I'm gonna build my own image",
    "start": "333180",
    "end": "341160"
  },
  {
    "text": "from httpd that has a little bit of a fanciness to it so I",
    "start": "341160",
    "end": "346500"
  },
  {
    "text": "built up a Docker file here where I'm gonna inherit from the httpd image and",
    "start": "346500",
    "end": "352199"
  },
  {
    "text": "the moment we build the image right at that time we're building this image right we're going to build a brand new",
    "start": "352199",
    "end": "357900"
  },
  {
    "text": "image from this we're gonna run a APT git update right there and then because",
    "start": "357900",
    "end": "363479"
  },
  {
    "text": "the hdbd runs on Debian right so that is similar to Ubuntu it's gonna do an",
    "start": "363479",
    "end": "368520"
  },
  {
    "text": "update it's gonna run another run again run",
    "start": "368520",
    "end": "373860"
  },
  {
    "text": "what run does is it will execute whatever command this at the time of",
    "start": "373860",
    "end": "379139"
  },
  {
    "text": "building the image right the other one is it's called CMD CMD will run at the",
    "start": "379139",
    "end": "385259"
  },
  {
    "text": "time of running the container right so be careful with these two so I don't",
    "start": "385259",
    "end": "391319"
  },
  {
    "text": "care about anything here when it comes to running the container I'm good there but I want to install IP utils ping I",
    "start": "391319",
    "end": "399300"
  },
  {
    "text": "want Trace Road I want IP route I want curl I want telnet I want DNS utils for",
    "start": "399300",
    "end": "406020"
  },
  {
    "text": "an slookup I want them to edit right so all of this stuff once you build all that stuff I'm gonna share it with you",
    "start": "406020",
    "end": "411660"
  },
  {
    "text": "guys you save it and quit and then you do Docker build that I'm in this",
    "start": "411660",
    "end": "418440"
  },
  {
    "text": "location Dash T I'm going to call it n HTTP video that's for networked httpd",
    "start": "418440",
    "end": "425280"
  },
  {
    "text": "right so it has more tools for me to do stuff and now at that time of building all",
    "start": "425280",
    "end": "431940"
  },
  {
    "text": "that stuff everything is Cash because I did this before now I have an a beautiful new image so what we're going",
    "start": "431940",
    "end": "438240"
  },
  {
    "text": "to do is I'm gonna remove my container what was it called Docker RM 5A let's go",
    "start": "438240",
    "end": "445620"
  },
  {
    "text": "ahead and delete that of course we gotta stop it first 5A and then we're gonna remove it",
    "start": "445620",
    "end": "454680"
  },
  {
    "text": "now let's go ahead and spin up a Docker and I'm gonna get start giving them names now we're going to call it S1",
    "start": "454680",
    "end": "462240"
  },
  {
    "text": "server one okay I'm not gonna publish it right now and I'm gonna spin it up right there call it",
    "start": "462240",
    "end": "468180"
  },
  {
    "text": "S1 I'm gonna detach it and I am going to",
    "start": "468180",
    "end": "473580"
  },
  {
    "text": "call it nhttpd now we're gonna create the",
    "start": "473580",
    "end": "479039"
  },
  {
    "text": "container from this particular image did I explain the difference between an image and a container well very quick an",
    "start": "479039",
    "end": "485759"
  },
  {
    "text": "image is basically the template where you can spin up in number of container any number of containers right think of",
    "start": "485759",
    "end": "492000"
  },
  {
    "text": "it a few few code and program and object oriented programming and images like a",
    "start": "492000",
    "end": "497340"
  },
  {
    "text": "class you build a you you created a class and then the containers are objects instances of the those class so",
    "start": "497340",
    "end": "505259"
  },
  {
    "text": "containers are instances for those images think of them think of it this way right so you can build you can spin",
    "start": "505259",
    "end": "511379"
  },
  {
    "text": "up many containers and we're gonna do this right I'm gonna spin up one container called S1 from an edge in",
    "start": "511379",
    "end": "518120"
  },
  {
    "text": "httpd which is the one we built it's it's identical but with a little bit",
    "start": "518120",
    "end": "523260"
  },
  {
    "text": "tooling so that we can test stuff and and I'm gonna spin up another one right",
    "start": "523260",
    "end": "529920"
  },
  {
    "text": "so now we have two containers S1 and S2 and the sources in httpd so technically",
    "start": "529920",
    "end": "537860"
  },
  {
    "text": "now notice what I did I did not publish it to the server right I did not publish",
    "start": "537860",
    "end": "543000"
  },
  {
    "start": "540000",
    "end": "810000"
  },
  {
    "text": "it publish any port so technically I cannot curl anything right doesn't make",
    "start": "543000",
    "end": "548700"
  },
  {
    "text": "any sense of course this won't work says hey what are you talking about there isn't no path to access these guys right",
    "start": "548700",
    "end": "556860"
  },
  {
    "text": "right but what did we say when we spin up a container by default it goes to",
    "start": "556860",
    "end": "562380"
  },
  {
    "text": "this bridged Network right so if I inspect uh S1 now",
    "start": "562380",
    "end": "568260"
  },
  {
    "text": "notice that got IP address 172.17.0.2 it's in the bridge Network",
    "start": "568260",
    "end": "575160"
  },
  {
    "text": "if I inspect is 2 it has",
    "start": "575160",
    "end": "580440"
  },
  {
    "text": "172.70.0.3 right so I have ipd IP address 2 IP",
    "start": "580440",
    "end": "586320"
  },
  {
    "text": "address three and both of them are in this network",
    "start": "586320",
    "end": "591360"
  },
  {
    "text": "and another way to do this is good you can actually inspect the network that's",
    "start": "591360",
    "end": "597360"
  },
  {
    "text": "called bridge I think that's how you do it right or is it flipped no that's right if you expect the network you can see",
    "start": "597360",
    "end": "604740"
  },
  {
    "text": "all your networks and this is we have one network current is called bridge and",
    "start": "604740",
    "end": "610140"
  },
  {
    "text": "this bridge has network has two containers S1 and S2 that's another view",
    "start": "610140",
    "end": "615720"
  },
  {
    "text": "if to view your containers so now you notice that how many",
    "start": "615720",
    "end": "622320"
  },
  {
    "text": "people users will be spin up up containers and everyone will go into this default branched Network",
    "start": "622320",
    "end": "630000"
  },
  {
    "text": "right could be bad if you have sensitive containers with sensitive information",
    "start": "630000",
    "end": "635240"
  },
  {
    "text": "that's why we're going to learn how to spin up our own custom Network and then put our stuff",
    "start": "635240",
    "end": "641339"
  },
  {
    "text": "there but still too early for that so how about we actually bash into my",
    "start": "641339",
    "end": "646980"
  },
  {
    "text": "container here in interactive terminal uh it's called S1 and Bash into it now if I do that I",
    "start": "646980",
    "end": "654839"
  },
  {
    "text": "can ping I can ping uh google.com wait a minute how can I paint google.com",
    "start": "654839",
    "end": "662760"
  },
  {
    "text": "that's actually interesting right I am inside the network that's called",
    "start": "662760",
    "end": "668579"
  },
  {
    "text": "bridge I am my IP address this is my host name it's gibberish 849 and",
    "start": "668579",
    "end": "677100"
  },
  {
    "text": "this is my IP address 172.70.02 that means the reason we got",
    "start": "677100",
    "end": "682320"
  },
  {
    "text": "access to the internet is because of our Gateway our Gateway is dot one and our Gateway in itself has another interface",
    "start": "682320",
    "end": "690060"
  },
  {
    "text": "that exposes it to our my network which is my MacBook right here and then my",
    "start": "690060",
    "end": "696000"
  },
  {
    "text": "MacBook is connected to my Wi-Fi which connected to my router which connected to my ISP right so there is like a line",
    "start": "696000",
    "end": "702360"
  },
  {
    "text": "that takes me right out there and the way it works is just the default gateway",
    "start": "702360",
    "end": "707760"
  },
  {
    "text": "concept right if you're going to google.com this is the IP address",
    "start": "707760",
    "end": "714360"
  },
  {
    "text": "how does networking work says Hey every network has very simple logic at least",
    "start": "714360",
    "end": "720360"
  },
  {
    "text": "locally right I'm go I want to go to 142 to 250.21 7142. it will ask this",
    "start": "720360",
    "end": "726720"
  },
  {
    "text": "question it will do a subnet mask on itself says okay is this guy in my Subnet",
    "start": "726720",
    "end": "732420"
  },
  {
    "text": "how does it know that basically does a slash 16 on its uh on its uh on IP",
    "start": "732420",
    "end": "740100"
  },
  {
    "text": "that's basically where the subnet mask is right so my seven network is 255.255",
    "start": "740100",
    "end": "745560"
  },
  {
    "text": "right because it's live 16.0.0 so we'll do that two five five two two five five do an end is 142 250 is the same as",
    "start": "745560",
    "end": "754940"
  },
  {
    "text": "172.17 nope nope that has not definitely the moment says Nope all bets are off",
    "start": "754940",
    "end": "761519"
  },
  {
    "text": "it's send it it sends the IP packet to the Gateway and the Gateway will just do",
    "start": "761519",
    "end": "766740"
  },
  {
    "text": "the same logic over and over again until eventually the the packet will reach",
    "start": "766740",
    "end": "774120"
  },
  {
    "text": "someone who is in its no network it's not quite that way in the internet it uses something called the a bgp uh",
    "start": "774120",
    "end": "780720"
  },
  {
    "text": "border Gateway equivalent protocol but that's uh outside there uh the discussion here for now",
    "start": "780720",
    "end": "787200"
  },
  {
    "text": "but yeah that's basically the simple logic right so now uh cool I can ping S1",
    "start": "787200",
    "end": "793980"
  },
  {
    "text": "which is uh well like wait a minute",
    "start": "793980",
    "end": "799440"
  },
  {
    "text": "a pinging is one I can't ping is one how about S2 back can't Bing is one Oris too why",
    "start": "799440",
    "end": "808260"
  },
  {
    "text": "well if you think about it let's do an endless lookup yeah and let's look at basically the way to get give me the IP",
    "start": "808260",
    "end": "815339"
  },
  {
    "start": "810000",
    "end": "1080000"
  },
  {
    "text": "address what is the DNS address for Google",
    "start": "815339",
    "end": "820800"
  },
  {
    "text": "look what happened it gave me the IP address right we're going to come to like why I couldn't ping my containers",
    "start": "820800",
    "end": "827100"
  },
  {
    "text": "right in a minute when I did an endless lookup this was the DNS server that",
    "start": "827100",
    "end": "832980"
  },
  {
    "text": "hosted me I have no idea what's this because that's not my Subnet and my host",
    "start": "832980",
    "end": "838019"
  },
  {
    "text": "my 7 is 192.168.255.254.",
    "start": "838019",
    "end": "842220"
  },
  {
    "text": "right so this is what this is is actually this is the VM that I talked to",
    "start": "843240",
    "end": "849480"
  },
  {
    "text": "about this exists inside my Docker for mac and that is basically where Docker",
    "start": "849480",
    "end": "856620"
  },
  {
    "text": "is running okay and that is the DNS server for Docker when it comes to",
    "start": "856620",
    "end": "862320"
  },
  {
    "text": "accessing Bridging the internet so if you want to do any DNS it goes to this query right why because that's the",
    "start": "862320",
    "end": "869579"
  },
  {
    "text": "bridge Network the bridge network is lives there and as a result all the DNA",
    "start": "869579",
    "end": "875220"
  },
  {
    "text": "Square will go to that well that's why when I do at NS lookup on my",
    "start": "875220",
    "end": "881880"
  },
  {
    "text": "own hostname S1 you might say Jose is and Swan is not really a host name right well",
    "start": "881880",
    "end": "888300"
  },
  {
    "text": "we can do this right and let's look up and then do this same thing",
    "start": "888300",
    "end": "895500"
  },
  {
    "text": "even that one won't work and the reason is because that query goes to this",
    "start": "895500",
    "end": "903240"
  },
  {
    "text": "well think about it this way this query this DNS query will go where we'll ask",
    "start": "903240",
    "end": "908880"
  },
  {
    "text": "the same question I need to go to 192168.1.65.5 right where is this it's",
    "start": "908880",
    "end": "916560"
  },
  {
    "text": "not in my Subnet same question right it's not online let me set it to the Gateway the Gateway is",
    "start": "916560",
    "end": "922100"
  },
  {
    "text": "172.0.1 right and that will take you out to this and until it reaches the host",
    "start": "922100",
    "end": "929100"
  },
  {
    "text": "the docker hose which is this guy now this guy is going to ask the question what is this DNS it doesn't know because",
    "start": "929100",
    "end": "935279"
  },
  {
    "text": "that is you're asking someone outside your network for your hosts that are",
    "start": "935279",
    "end": "940440"
  },
  {
    "text": "Disneyland they don't know that and that's the way you cannot access things",
    "start": "940440",
    "end": "945959"
  },
  {
    "text": "by hostname inside the braged network because the DNS is just outside right",
    "start": "945959",
    "end": "951779"
  },
  {
    "text": "and that's why but but if you want you can ping the IP address normally",
    "start": "951779",
    "end": "961079"
  },
  {
    "text": "camping yourself you can ping this guy the Gateway you can ping three",
    "start": "961079",
    "end": "967019"
  },
  {
    "text": "which is the other container that's definitely fine you can curl",
    "start": "967019",
    "end": "972920"
  },
  {
    "text": "172.17.0.3 yay that is pretty cool right and that's myself",
    "start": "973279",
    "end": "979620"
  },
  {
    "text": "we're gonna change them so they give you a different result so we know where are we right uh we're gonna do that right",
    "start": "979620",
    "end": "985440"
  },
  {
    "text": "now I am an S1 right now okay so now I can't access anything by hostname which",
    "start": "985440",
    "end": "990720"
  },
  {
    "text": "is very uh limited right that's the limitation here",
    "start": "990720",
    "end": "996660"
  },
  {
    "text": "but we cannot we can definitely access by IP right and the problem here is also",
    "start": "996660",
    "end": "1002240"
  },
  {
    "text": "you not only you can access by IP everybody in this network can access your stuff",
    "start": "1002240",
    "end": "1008240"
  },
  {
    "text": "nope we want to limit that right so let's go ahead and actually change a",
    "start": "1008240",
    "end": "1013279"
  },
  {
    "text": "little bit here I want to go to the what is it called the HT docs here and there's an index",
    "start": "1013279",
    "end": "1019579"
  },
  {
    "text": "dot document and I'm going to change it works here to call it yo this is S1 right",
    "start": "1019579",
    "end": "1030438"
  },
  {
    "text": "and then I'm going to exit here I'm gonna do the same thing with S2 go to this two",
    "start": "1030439",
    "end": "1036918"
  },
  {
    "text": "go to HD docs and then index.html go to",
    "start": "1036919",
    "end": "1042260"
  },
  {
    "text": "that and then change this to S2 so we know all right",
    "start": "1042260",
    "end": "1047740"
  },
  {
    "text": "now if I curl 172 what was the IP addresses again I keep forgetting the subnet",
    "start": "1048260",
    "end": "1055400"
  },
  {
    "text": "if I curl 172 to 70 to 73 this is S2",
    "start": "1055400",
    "end": "1061460"
  },
  {
    "text": "this is this one cool that's nice I like this touch a little bit all right",
    "start": "1061460",
    "end": "1068840"
  },
  {
    "text": "again these are these are containers that are inside the network and they can only talk to each",
    "start": "1068840",
    "end": "1074660"
  },
  {
    "text": "other okay and very limited by IP address now by hostname why because DNS is going all",
    "start": "1074660",
    "end": "1081620"
  },
  {
    "start": "1080000",
    "end": "1800000"
  },
  {
    "text": "the way to the host and trying to figure out things and it can't right so how can I fix that",
    "start": "1081620",
    "end": "1087799"
  },
  {
    "text": "um let's fix that well fixing that is not hard we can actually create a network",
    "start": "1087799",
    "end": "1094960"
  },
  {
    "text": "the square Docker Network create and we call it uh I don't know back end",
    "start": "1094960",
    "end": "1102919"
  },
  {
    "text": "whatever right and when you do that right you can actually do self so many",
    "start": "1102919",
    "end": "1108860"
  },
  {
    "text": "fancy things right one of the things you can do is actually specify a subnet",
    "start": "1108860",
    "end": "1115280"
  },
  {
    "text": "subnet I you can't you can go by the default subnet so it will generate a subnet for",
    "start": "1115280",
    "end": "1122059"
  },
  {
    "text": "you but we are fancy people so what I'm gonna do is actually generate a subnet",
    "start": "1122059",
    "end": "1127460"
  },
  {
    "text": "and that's my Subnet right so what I'm gonna do is how about we generate subnet",
    "start": "1127460",
    "end": "1133240"
  },
  {
    "text": "10.0 dot zero",
    "start": "1133240",
    "end": "1138380"
  },
  {
    "text": "and let's make it slash 24. right which means this and this and",
    "start": "1138380",
    "end": "1148580"
  },
  {
    "text": "this 888 right this is the network this is the host so I get 255 containers per Network",
    "start": "1148580",
    "end": "1154940"
  },
  {
    "text": "plenty more than enough and then I'm gonna call it did I do I call it right",
    "start": "1154940",
    "end": "1160400"
  },
  {
    "text": "that's it I think do it down into anything else no I think that's good just like that we created a network now",
    "start": "1160400",
    "end": "1167539"
  },
  {
    "text": "this network if I inspect this network it doesn't have anything right called it",
    "start": "1167539",
    "end": "1172880"
  },
  {
    "text": "back in right this is my Subnet and it doesn't have any containers so how about we actually",
    "start": "1172880",
    "end": "1178400"
  },
  {
    "text": "attach connect my containers to this subnet well how do I do that you",
    "start": "1178400",
    "end": "1184880"
  },
  {
    "text": "do docker Network connect uh",
    "start": "1184880",
    "end": "1191000"
  },
  {
    "text": "the network which is backend and the container S1 I want to connect S1 to",
    "start": "1191000",
    "end": "1196400"
  },
  {
    "text": "this guy and I'm going to connect S2 to this guy um I don't know if you noticed this what's",
    "start": "1196400",
    "end": "1203360"
  },
  {
    "text": "going on here but we're gonna we're gonna come to that now if I do docker inspect uh",
    "start": "1203360",
    "end": "1210020"
  },
  {
    "text": "Docker Network inspector backend you'll notice that",
    "start": "1210020",
    "end": "1216760"
  },
  {
    "text": "my rock Dockers got an IP address two three you can also",
    "start": "1216860",
    "end": "1224179"
  },
  {
    "text": "set a bet here in the network says hey this network is internal that means only",
    "start": "1224179",
    "end": "1230539"
  },
  {
    "text": "the guys inside this network can talk to each other nobody they cannot leave the",
    "start": "1230539",
    "end": "1235760"
  },
  {
    "text": "network even if there is a route that says hey go to this network nope they cannot leave it so what what we did here",
    "start": "1235760",
    "end": "1242240"
  },
  {
    "text": "if now if we inspect S1 for instance notice what will happen here look at",
    "start": "1242240",
    "end": "1247280"
  },
  {
    "text": "that it belongs this one now belongs to two Networks right this guy",
    "start": "1247280",
    "end": "1254179"
  },
  {
    "text": "and this guy no we don't want that",
    "start": "1254179",
    "end": "1259640"
  },
  {
    "text": "and this is a mistake I made a couple times where I was like oh I I connected this network but it is still connected",
    "start": "1259640",
    "end": "1265940"
  },
  {
    "text": "to other network because you can absolutely have two network cards in a machine right think of it the container",
    "start": "1265940",
    "end": "1271580"
  },
  {
    "text": "is very similar like that right and if you think about it is the container is just a process that happened to have to",
    "start": "1271580",
    "end": "1280039"
  },
  {
    "text": "be in a in an its own name space right which means they have limited set of resources and you can add and remove",
    "start": "1280039",
    "end": "1287000"
  },
  {
    "text": "resources so that other containers other processes cannot see it and you can add it to a controller group to also limit",
    "start": "1287000",
    "end": "1293720"
  },
  {
    "text": "it says okay you only get this much of the CPU and you cannot exceed this much memory that's basically how containers",
    "start": "1293720",
    "end": "1300679"
  },
  {
    "text": "work in a nutshell controller groups and namespaces just yeah isolate them from the word",
    "start": "1300679",
    "end": "1310580"
  },
  {
    "text": "okay now I need to really remove those suckers from the bridge Network right so",
    "start": "1310580",
    "end": "1316580"
  },
  {
    "text": "I do Docker in network uh disconnect S1 no the network first back uh Bridge",
    "start": "1316580",
    "end": "1325100"
  },
  {
    "text": "S1 remove from the bridge remove the bridge now though those suckers are",
    "start": "1325100",
    "end": "1330440"
  },
  {
    "text": "alone in this network and let's let's inspect it I suppose you can do a Docker inspect the back end uh it's just better",
    "start": "1330440",
    "end": "1338419"
  },
  {
    "text": "to add Network to know that hey by the way I'm inspecting my work but Google",
    "start": "1338419",
    "end": "1343720"
  },
  {
    "text": "Docker actually overrode overload that operator to inspect both containers and",
    "start": "1343720",
    "end": "1352120"
  },
  {
    "text": "networks look at this now we are alone my friend",
    "start": "1352120",
    "end": "1357860"
  },
  {
    "text": "okay Docker execute Dash interactive terminal I don't know if it stands for",
    "start": "1357860",
    "end": "1364220"
  },
  {
    "text": "International Tournament this is how I remember stuff by the way guys you're gonna see weird stuff that's how I",
    "start": "1364220",
    "end": "1369320"
  },
  {
    "text": "Remember by the way uh bash I'm gonna bash into the",
    "start": "1369320",
    "end": "1374419"
  },
  {
    "text": "Container now I do nslookup S1 boom NS look up",
    "start": "1374419",
    "end": "1381500"
  },
  {
    "text": "S2 boom it works look what happened look it look at this",
    "start": "1381500",
    "end": "1387740"
  },
  {
    "text": "the DNS server now became this local",
    "start": "1387740",
    "end": "1393100"
  },
  {
    "text": "instance in the container that's that's 172.0.00.",
    "start": "1393100",
    "end": "1398299"
  },
  {
    "text": "11 and that's local this is loopback effectively so now that is why we were able to",
    "start": "1398299",
    "end": "1407960"
  },
  {
    "text": "resolve that S1 which is technically not the host name even",
    "start": "1407960",
    "end": "1413840"
  },
  {
    "text": "to the IP address dokar knows says okay now that we're on your own network",
    "start": "1413840",
    "end": "1419179"
  },
  {
    "text": "you're gonna get your own beautiful DNS provider actually every container has",
    "start": "1419179",
    "end": "1424400"
  },
  {
    "text": "its own DNS provider and and technically they are all connected to each other somehow they they share information over",
    "start": "1424400",
    "end": "1430940"
  },
  {
    "text": "there because if I add an another container to this network automatically",
    "start": "1430940",
    "end": "1436039"
  },
  {
    "text": "the DNS knows about this alternatively I can also use this docker",
    "start": "1436039",
    "end": "1443539"
  },
  {
    "text": "nslookup this guy and that also answers me because that's the actual host name",
    "start": "1443539",
    "end": "1449539"
  },
  {
    "text": "right so now I can do curl HTTP S1",
    "start": "1449539",
    "end": "1454880"
  },
  {
    "text": "I can do curl http S2 and now if you have like nginx or h a",
    "start": "1454880",
    "end": "1462320"
  },
  {
    "text": "proxy running and you spin up a configuration and you put nginx within the same network",
    "start": "1462320",
    "end": "1467960"
  },
  {
    "text": "beautiful they see each other you can use hostname inside nginx",
    "start": "1467960",
    "end": "1473179"
  },
  {
    "text": "why because the DNS resolver is that thing is not going outside and trying to",
    "start": "1473179",
    "end": "1479120"
  },
  {
    "text": "figure out what the DNS is right if this was like a public thing you know you",
    "start": "1479120",
    "end": "1484820"
  },
  {
    "text": "have your own domain server and that's a good idea sometimes where if you have like in the cloud and you",
    "start": "1484820",
    "end": "1491120"
  },
  {
    "text": "have your own DNS server and many of you followers of this channel are sophisticated devops you probably have",
    "start": "1491120",
    "end": "1497600"
  },
  {
    "text": "done that so you probably have a dinner server and that DNS server knows about every single entry an actual legit DNS",
    "start": "1497600",
    "end": "1504740"
  },
  {
    "text": "server you know and you can add entries there you can add fancy things okay it's like fancy",
    "start": "1504740",
    "end": "1511520"
  },
  {
    "text": "though blancy.com which doesn't exist in the internet well maybe it does and and that",
    "start": "1511520",
    "end": "1519740"
  },
  {
    "text": "10 point to your local container sweet",
    "start": "1519740",
    "end": "1524840"
  },
  {
    "text": "so we did that we built a bridge uh they can talk to each other right now",
    "start": "1524840",
    "end": "1530120"
  },
  {
    "text": "right beautiful they can curl each other curl each other the containers are also",
    "start": "1530120",
    "end": "1536299"
  },
  {
    "text": "have access to the internet this is something that you might not want to so",
    "start": "1536299",
    "end": "1541520"
  },
  {
    "text": "if you want to actually disable that you can create the network with a dash dash",
    "start": "1541520",
    "end": "1546559"
  },
  {
    "text": "internal right and that will isolated from the bridge right what",
    "start": "1546559",
    "end": "1553520"
  },
  {
    "text": "does that mean uh I'll give you an example if I do a trace route to S1 right now right",
    "start": "1553520",
    "end": "1560600"
  },
  {
    "text": "it goes directly there right why do I trace out to S2 it goes directly there right because it's in the same subnet if",
    "start": "1560600",
    "end": "1567380"
  },
  {
    "text": "I do a trace route to something above me right it Trace out to my router my",
    "start": "1567380",
    "end": "1572600"
  },
  {
    "text": "actual physical router to 254 uh one",
    "start": "1572600",
    "end": "1579460"
  },
  {
    "text": "192.168.254.254 right this is my router that is actually sitting on my network",
    "start": "1579820",
    "end": "1585380"
  },
  {
    "text": "right it can find it right and the reason is because well",
    "start": "1585380",
    "end": "1591440"
  },
  {
    "text": "what is this I don't know it's not on my network I it's not in my Subnet so it was like okay Gateway take care of it",
    "start": "1591440",
    "end": "1597559"
  },
  {
    "text": "where's the Gateway that's the Gateway ten zero zero one who assigned it well the bridge did right the the network",
    "start": "1597559",
    "end": "1602960"
  },
  {
    "text": "when we created it it created a bridge and the bridge has a default gateway by the way and that's why we started the",
    "start": "1602960",
    "end": "1608779"
  },
  {
    "text": "contents with two and three because one was reserved for that and there was many articles by the way I would like to have",
    "start": "1608779",
    "end": "1614779"
  },
  {
    "text": "access to that sucker and I would like to configure the Gateway I would like to make a contain on my own Gateway",
    "start": "1614779",
    "end": "1621440"
  },
  {
    "text": "Docker don't let you right I know when I tweeted this a lot of people ask me about pod man I think was it called",
    "start": "1621440",
    "end": "1627380"
  },
  {
    "text": "podman the replacement for Docker I never used it but it sounds promising",
    "start": "1627380",
    "end": "1632720"
  },
  {
    "text": "because docker's dude is so restrictive dude there's so much restriction when it comes to this thing even the internal",
    "start": "1632720",
    "end": "1639140"
  },
  {
    "text": "Network we talked about it well the moment you do it internally you you you will you will not have",
    "start": "1639140",
    "end": "1646340"
  },
  {
    "text": "access to the Gateway right but you will also not have access to other networks why",
    "start": "1646340",
    "end": "1652159"
  },
  {
    "text": "if I added a rule follow it just it's just all or nothing when it comes to to",
    "start": "1652159",
    "end": "1658220"
  },
  {
    "text": "Docker they don't they don't have like a middle middle grounds like okay dude all",
    "start": "1658220",
    "end": "1663260"
  },
  {
    "text": "right I want an internal that work I wanted another internal Network I don't want a bridge I just want this these",
    "start": "1663260",
    "end": "1669500"
  },
  {
    "text": "guys to talk to each other and want to talk to another Network because this network is a database",
    "start": "1669500",
    "end": "1675380"
  },
  {
    "text": "Network and this network is the web servers and then other networks the reverse proxy and I want certain people",
    "start": "1675380",
    "end": "1681440"
  },
  {
    "text": "to networks to talk to each other but not everyone but I don't want them to connect to the internet I couldn't find a way maybe someone uh will let me know",
    "start": "1681440",
    "end": "1689659"
  },
  {
    "text": "in the comment section but I couldn't anyway so you you notice that it goes to the Gateway and the Gateway says oh I",
    "start": "1689659",
    "end": "1695659"
  },
  {
    "text": "don't know this then let me go to my Gateway right and that Gateway basically will take me to to the default gateway",
    "start": "1695659",
    "end": "1703100"
  },
  {
    "text": "which is which is the network I can do the same thing with my other machine which is Dot 10. same thing all right so",
    "start": "1703100",
    "end": "1709520"
  },
  {
    "text": "we go to this and then this will land me in the network and that Network basically will take me to my host right",
    "start": "1709520",
    "end": "1718220"
  },
  {
    "text": "so this is how it works now and this is what I need to blank things out right just so I don't know I don't show my IPA",
    "start": "1718220",
    "end": "1726500"
  },
  {
    "text": "Republic IP address if I do local.com yeah",
    "start": "1726500",
    "end": "1731539"
  },
  {
    "text": "same thing goes to my network goes to the router goes to my public iPads which",
    "start": "1731539",
    "end": "1740000"
  },
  {
    "text": "you cannot see right and that goes to another public IPS which my ISP goes",
    "start": "1740000",
    "end": "1745279"
  },
  {
    "text": "there goes there goes there up until we find the actual uh Gateway how does",
    "start": "1745279",
    "end": "1752179"
  },
  {
    "text": "trace route work I talked about in my networking course it's basically a bunch of icmp messages going back and forth",
    "start": "1752179",
    "end": "1758240"
  },
  {
    "text": "right you said the TTL and then the shorter the TTL until you reach the next",
    "start": "1758240",
    "end": "1764059"
  },
  {
    "text": "hop right because IP packets every time you an IP packet is routed the TTL the time",
    "start": "1764059",
    "end": "1770539"
  },
  {
    "text": "to live is decremented on the IP header and that's how there's a nice game you can play with trace route",
    "start": "1770539",
    "end": "1777140"
  },
  {
    "text": "so now that's that's the path so if you cut you cut that bridge the Gateway you have",
    "start": "1777140",
    "end": "1785360"
  },
  {
    "text": "no access to the internet and that's how you basically can do it no but we're not going to do that all right so now I have",
    "start": "1785360",
    "end": "1793120"
  },
  {
    "text": "uh I do not PS LS",
    "start": "1793120",
    "end": "1798559"
  },
  {
    "text": "oh I'm in the wrong thing of course that that uh that that image doesn't have",
    "start": "1798559",
    "end": "1803600"
  },
  {
    "start": "1800000",
    "end": "2340000"
  },
  {
    "text": "docker by the docker Network LS you can see that I have now",
    "start": "1803600",
    "end": "1809659"
  },
  {
    "text": "the my back end Bridge right my backing Network what I wanted to do is effectively spin up another Network and",
    "start": "1809659",
    "end": "1816980"
  },
  {
    "text": "put S2 there and see what will happen right so I spin up two Network right the other network",
    "start": "1816980",
    "end": "1823940"
  },
  {
    "text": "is going to have a different subnet and I want them to talk to each other eventually right they're not gonna be",
    "start": "1823940",
    "end": "1829640"
  },
  {
    "text": "talking to each other and we're gonna talk about why effectively but",
    "start": "1829640",
    "end": "1835039"
  },
  {
    "text": "let's do that docker hopefully the the command is still there I didn't write it outside there you go thank you so much",
    "start": "1835039",
    "end": "1841700"
  },
  {
    "text": "back end I'm gonna call back into right maybe we can call Front End front end",
    "start": "1841700",
    "end": "1848860"
  },
  {
    "text": "and or you might say who's saying why are you doing this why are you connecting to a network well it's",
    "start": "1848860",
    "end": "1854299"
  },
  {
    "text": "actually a very common thing you do in production right where let's say you have I'm gonna draw a draw up a picture",
    "start": "1854299",
    "end": "1860600"
  },
  {
    "text": "you're gonna see the picture here where we have let's say you have uh you have nginx or AJ proxy or Envoy or something",
    "start": "1860600",
    "end": "1866659"
  },
  {
    "text": "that talks an API Gateway that talks to the client directly right and you have",
    "start": "1866659",
    "end": "1871760"
  },
  {
    "text": "maybe five instances of those the load balance right through the DNS and those",
    "start": "1871760",
    "end": "1877880"
  },
  {
    "text": "talk to load balance on the back end with a bunch of web servers right and",
    "start": "1877880",
    "end": "1883100"
  },
  {
    "text": "those web servers took turn around and talk to the database one configuration might be put everything in the same",
    "start": "1883100",
    "end": "1889580"
  },
  {
    "text": "network you can do that but why is that not a good idea generally it is because",
    "start": "1889580",
    "end": "1895640"
  },
  {
    "text": "nginx or this it is very danger to expose this",
    "start": "1895640",
    "end": "1902179"
  },
  {
    "text": "publicly the attacker if they compromise nginx or the the Gateway they got access",
    "start": "1902179",
    "end": "1908600"
  },
  {
    "text": "to your entire network there is no other line of defense the only line of defense",
    "start": "1908600",
    "end": "1914179"
  },
  {
    "text": "is there and that right so what do you what we do effectively is put in Gen X",
    "start": "1914179",
    "end": "1920240"
  },
  {
    "text": "and all the load balancer in its own network right put uh web servers in",
    "start": "1920240",
    "end": "1925399"
  },
  {
    "text": "their own network and put the databases definitely like the precious data in its",
    "start": "1925399",
    "end": "1931399"
  },
  {
    "text": "own separate Network why do you see all all the headlines oh",
    "start": "1931399",
    "end": "1936440"
  },
  {
    "text": "seven terabyte of elastic search or mongodb or or postgres Derby has been",
    "start": "1936440",
    "end": "1942620"
  },
  {
    "text": "leaked because people don't do any of the stuff what they do is like they spin up a postgres instance on",
    "start": "1942620",
    "end": "1949159"
  },
  {
    "text": "Amazon and they make it public and they listen on own interfaces so that's why",
    "start": "1949159",
    "end": "1954799"
  },
  {
    "text": "it's publicly accessible for anyone that is a really bad idea that's hopefully of",
    "start": "1954799",
    "end": "1960320"
  },
  {
    "text": "course the the extreme right but what you can do as a network administrator I'm not an networking assistant I just",
    "start": "1960320",
    "end": "1966679"
  },
  {
    "text": "love this stuff right now I'm a back-end engineer but if what you can do is effectively play with this thing so I",
    "start": "1966679",
    "end": "1972620"
  },
  {
    "text": "want to simulate this in Docker by creating multiple Network that I want certain rules to be applied so this",
    "start": "1972620",
    "end": "1979940"
  },
  {
    "text": "network can talk to the sugar though so that's why right so let's go this this is the front end that's the back end so",
    "start": "1979940",
    "end": "1985520"
  },
  {
    "text": "I'm gonna create the front end Network now uh pull overlaps oh what the heck of",
    "start": "1985520",
    "end": "1993380"
  },
  {
    "text": "course I just said enter it's the same subnet what we're going to do here is actually add one here so now this is my",
    "start": "1993380",
    "end": "2002740"
  },
  {
    "text": "sub init ten zero zero so that means the first one is ten zero zero dot one dot",
    "start": "2002740",
    "end": "2008980"
  },
  {
    "text": "two dot two episode two five five right the second one is",
    "start": "2008980",
    "end": "2014580"
  },
  {
    "text": "10.0.1.1.2.255. so you have two different unique subnet effectively now now it's not yelling at me so sweet now",
    "start": "2016200",
    "end": "2023320"
  },
  {
    "text": "we're gonna take the sucker disconnect the S1",
    "start": "2023320",
    "end": "2029080"
  },
  {
    "text": "the skirt S1 or S2 let's remove S2 S2 from the back end right",
    "start": "2029080",
    "end": "2036940"
  },
  {
    "text": "and then connect is to to where to the front end",
    "start": "2036940",
    "end": "2045360"
  },
  {
    "text": "what did I do wrong yeah I spilled connect with three ends",
    "start": "2045580",
    "end": "2053338"
  },
  {
    "text": "genius nice now Docker inspect is to",
    "start": "2053619",
    "end": "2059740"
  },
  {
    "text": "it has IP address done 0 1.2 docker inspector",
    "start": "2059740",
    "end": "2067320"
  },
  {
    "text": "inspector is one this one is just this one still the same thing",
    "start": "2067320",
    "end": "2073000"
  },
  {
    "text": "well let's let's bash into S1 and say ping S2",
    "start": "2073000",
    "end": "2082179"
  },
  {
    "text": "what do you mean I can't bang this one it's still well the reason you can't ping is too",
    "start": "2084940",
    "end": "2092378"
  },
  {
    "text": "is because it's not in your network all right because what happened is",
    "start": "2092379",
    "end": "2098140"
  },
  {
    "text": "well in this case it's a little bit complicated so let's do uh what was the IP address 10002 I think let's exit and",
    "start": "2098140",
    "end": "2106359"
  },
  {
    "text": "and confirm uh just do hostname Dash I",
    "start": "2106359",
    "end": "2113920"
  },
  {
    "text": "that's the IP address all right so what we're going to do is just pink ten zero zero two right which is the other I'm in",
    "start": "2113920",
    "end": "2121900"
  },
  {
    "text": "this two right which is this IP I want to Ping that that won't work either",
    "start": "2121900",
    "end": "2127660"
  },
  {
    "text": "right and I get I went to the extreme I just did the host name what happened with the hostname is like I couldn't",
    "start": "2127660",
    "end": "2133839"
  },
  {
    "text": "figure even what your IP address is right so the DNS failed here well you",
    "start": "2133839",
    "end": "2139720"
  },
  {
    "text": "don't have DNS you have the IP but you couldn't figure out how to get there why",
    "start": "2139720",
    "end": "2146380"
  },
  {
    "text": "because it says all right I want to go there but what's my Gateway my Gateway is 10",
    "start": "2146380",
    "end": "2152820"
  },
  {
    "text": "0.1.1 right and I took it there I'll take it there but the Gateway doesn't",
    "start": "2152820",
    "end": "2158440"
  },
  {
    "text": "know how to forward it it says okay I'm gonna go I I have no idea how to do this I I have no idea how to reach this",
    "start": "2158440",
    "end": "2165220"
  },
  {
    "text": "network because the Gateway doesn't know okay so when we need someone who knows",
    "start": "2165220",
    "end": "2171579"
  },
  {
    "text": "we need a router we need to create",
    "start": "2171579",
    "end": "2177000"
  },
  {
    "text": "a router so we need a router so we're going to spend out our router",
    "start": "2177000",
    "end": "2182440"
  },
  {
    "text": "our own Gateway Docker run Dash name I'm going to call it GW the",
    "start": "2182440",
    "end": "2188380"
  },
  {
    "text": "Gateway right routers record router or Gateway let's",
    "start": "2188380",
    "end": "2193839"
  },
  {
    "text": "call it a Gateway it's got Gateway D GW you guys know this is gonna link us from",
    "start": "2193839",
    "end": "2199839"
  },
  {
    "text": "the front end to the back end and Via saversa okay so now Docker run dash dash",
    "start": "2199839",
    "end": "2204940"
  },
  {
    "text": "name uh I don't need to publish anything the host has nothing to do with this what",
    "start": "2204940",
    "end": "2210820"
  },
  {
    "text": "are you gonna do I want the Gateway by the way you can while creating a container you can assign the network",
    "start": "2210820",
    "end": "2217000"
  },
  {
    "text": "and I want the gateway to be in my backend Network for now because I'm gonna add it also",
    "start": "2217000",
    "end": "2223900"
  },
  {
    "text": "to the front end yes this router this Gateway is going to belong to both Network",
    "start": "2223900",
    "end": "2229660"
  },
  {
    "text": "why because this will be the route it will route us from one",
    "start": "2229660",
    "end": "2235420"
  },
  {
    "text": "place to another place very beautiful so I'm gonna there we're gonna detach it",
    "start": "2235420",
    "end": "2242619"
  },
  {
    "text": "again our nhddbd which is our beautiful custom image container here and I think",
    "start": "2242619",
    "end": "2249700"
  },
  {
    "text": "that's it I don't think I need anything else so this snap",
    "start": "2249700",
    "end": "2255280"
  },
  {
    "text": "again I okay I lost it no current dash dash name",
    "start": "2255280",
    "end": "2262300"
  },
  {
    "text": "Gateway Network backhand Dash D and no HD DVDs thing",
    "start": "2262300",
    "end": "2268119"
  },
  {
    "text": "sweet now we have the Gateway and in the backend network but that's not enough",
    "start": "2268119",
    "end": "2275859"
  },
  {
    "text": "Docker Network connect the front end to the Gateway",
    "start": "2275859",
    "end": "2282099"
  },
  {
    "text": "can I do it both I never tried to add two networks and I probably can probably",
    "start": "2282099",
    "end": "2287440"
  },
  {
    "text": "can do dash dash Network back in front end and it will work but I never tried it so you guys feel free to do that so now",
    "start": "2287440",
    "end": "2295540"
  },
  {
    "text": "now that's still not enough you guys we're gonna find out if I execute",
    "start": "2295540",
    "end": "2302980"
  },
  {
    "text": "if I bash into the gateway right and I say ping S1",
    "start": "2302980",
    "end": "2309280"
  },
  {
    "text": "it found it ping is two it found it why because if you if you're looking at the",
    "start": "2309280",
    "end": "2314920"
  },
  {
    "text": "graph yeah S2 and S1 are right there right because they are I and so I found",
    "start": "2314920",
    "end": "2322839"
  },
  {
    "text": "this one because my DNS knows about this network is right there and I found this too because my DNS knows about it but S2",
    "start": "2322839",
    "end": "2329560"
  },
  {
    "text": "is right there it's another Network that's why it knows about it but technically speaking the other guys",
    "start": "2329560",
    "end": "2337000"
  },
  {
    "text": "don't right so is if I if I exit now and I go",
    "start": "2337000",
    "end": "2342460"
  },
  {
    "start": "2340000",
    "end": "2959000"
  },
  {
    "text": "to S1 S1 still of course cannot ping S2",
    "start": "2342460",
    "end": "2347800"
  },
  {
    "text": "right and vice versa it cannot know it doesn't know right it does know the",
    "start": "2347800",
    "end": "2353680"
  },
  {
    "text": "Gateway right because it's in in its network from this",
    "start": "2353680",
    "end": "2359140"
  },
  {
    "text": "side and the other guy S2 and also no it can pick the Gateway",
    "start": "2359140",
    "end": "2365920"
  },
  {
    "text": "from because it's in this network from the other side but they can't talk to each other so here's where the final",
    "start": "2365920",
    "end": "2373359"
  },
  {
    "text": "piece so do we do we know what we're gonna do now hostname dash I that's my",
    "start": "2373359",
    "end": "2378460"
  },
  {
    "text": "name I am S2 right uh NS lookup I can do a Gateway that's",
    "start": "2378460",
    "end": "2385119"
  },
  {
    "text": "my Gateway right so what I want to do effectively is I want to add a rule",
    "start": "2385119",
    "end": "2392260"
  },
  {
    "text": "such that IP route add I want to add a route in my",
    "start": "2392260",
    "end": "2398560"
  },
  {
    "text": "host as is2 such that if anyone want to visit this",
    "start": "2398560",
    "end": "2405460"
  },
  {
    "text": "network to slash 24 they have to go through this Gateway",
    "start": "2405460",
    "end": "2413740"
  },
  {
    "text": "because it's a different Gateway and that's what we need to do this will fail",
    "start": "2413740",
    "end": "2421060"
  },
  {
    "text": "because I forgot something important to do the reason this will fail is because",
    "start": "2421060",
    "end": "2427420"
  },
  {
    "text": "this is an administrative operator right and you cannot add it you have to start your container with the ability to",
    "start": "2427420",
    "end": "2433839"
  },
  {
    "text": "change administrative setting so I have to restart the container S1 and S2 with",
    "start": "2433839",
    "end": "2442119"
  },
  {
    "text": "the flag that is called Dash Dash uh",
    "start": "2442119",
    "end": "2448079"
  },
  {
    "text": "cap add equal net admin and that would be a good a good thing to do right how",
    "start": "2449079",
    "end": "2455320"
  },
  {
    "text": "about we do this again right it won't hurt Docker stop S1 Docker stop S2",
    "start": "2455320",
    "end": "2465520"
  },
  {
    "text": "docker RM S1 S2 I'll spin them up we're not",
    "start": "2465520",
    "end": "2472000"
  },
  {
    "text": "afraid all we have to do is just literally dock a run dash dash name S1 and then the",
    "start": "2472000",
    "end": "2478900"
  },
  {
    "text": "network is the that's the back end right that was in the back end and I want the",
    "start": "2478900",
    "end": "2484839"
  },
  {
    "text": "let's spin up with the administrative option cap add",
    "start": "2484839",
    "end": "2490180"
  },
  {
    "text": "right equal net admin right and then Dash D HTTP d o n",
    "start": "2490180",
    "end": "2498640"
  },
  {
    "text": "right so we have a networking access sweet so now I'm gonna spin up my first",
    "start": "2498640",
    "end": "2505240"
  },
  {
    "text": "Network did I forget anything nope I'm connecting it so this way I'm gonna spin it up and then we're going to learn",
    "start": "2505240",
    "end": "2510700"
  },
  {
    "text": "something right here we're gonna spin up and also connect it beautiful do it",
    "start": "2510700",
    "end": "2516579"
  },
  {
    "text": "up and now this guy is going to be in the front end right",
    "start": "2516579",
    "end": "2523300"
  },
  {
    "text": "let's do it this way and this will be S2 how about that",
    "start": "2523300",
    "end": "2529839"
  },
  {
    "text": "like nothing happened are we did we get the same IP addresses probably not no we get the same iPad is",
    "start": "2529839",
    "end": "2536859"
  },
  {
    "text": "because it was it was released and then we got it back sweet now let's bash back",
    "start": "2536859",
    "end": "2542920"
  },
  {
    "text": "into the container it's one Bash now oh it's name Dash I right so that's",
    "start": "2542920",
    "end": "2549640"
  },
  {
    "text": "my first uh I want to do a nice lookup what's your gateway",
    "start": "2549640",
    "end": "2556119"
  },
  {
    "text": "and let's add the rule so now I say hey in my S1 if someone",
    "start": "2556119",
    "end": "2562800"
  },
  {
    "text": "let's go to the other container Docker execute Dash it is to bash",
    "start": "2562800",
    "end": "2568540"
  },
  {
    "text": "I'm gonna do the same thing so I can I can see every IP here in this lookup",
    "start": "2568540",
    "end": "2574119"
  },
  {
    "text": "get y 'all now I am in S2",
    "start": "2574119",
    "end": "2579220"
  },
  {
    "text": "right that's my Gateway that's that's supposed to be my Gateway but it's not really in the network it's not my",
    "start": "2579220",
    "end": "2585520"
  },
  {
    "text": "Gateway my Gateway is something else I want for cert I want to add a route to send packets this way so that it can",
    "start": "2585520",
    "end": "2593140"
  },
  {
    "text": "reach anyone in that Network how do I do that IP add route right",
    "start": "2593140",
    "end": "2601119"
  },
  {
    "text": "oh sorry it's our IP how do I do that IP route add if someone",
    "start": "2601119",
    "end": "2607359"
  },
  {
    "text": "is going to do 0000 slash 24 any IEP address on this network",
    "start": "2607359",
    "end": "2615160"
  },
  {
    "text": "please forward them to 10 0.1.3 instead of the default which is 10",
    "start": "2615160",
    "end": "2623920"
  },
  {
    "text": "0 1 1 right because that's the default gateway now I'm adding another route if",
    "start": "2623920",
    "end": "2628960"
  },
  {
    "text": "you think about it right you can actually change the default gateway to all your traffic goes there but now we",
    "start": "2628960",
    "end": "2634359"
  },
  {
    "text": "don't want that certain traffic still need to go to the default gateways for internet access because if you change",
    "start": "2634359",
    "end": "2639760"
  },
  {
    "text": "the default gateway this Gateway will get it as it will be confused it might",
    "start": "2639760",
    "end": "2644920"
  },
  {
    "text": "actually still work because it will be as he visited idea so he can you can",
    "start": "2644920",
    "end": "2651280"
  },
  {
    "text": "have a centralized place for all internet access and you can do logging and monitoring",
    "start": "2651280",
    "end": "2657280"
  },
  {
    "text": "dude a lot of stuff man you can do now if I do a trace route on 10 0 0 let's do",
    "start": "2657280",
    "end": "2665500"
  },
  {
    "text": "this then 0 0.2 all right you notice that look what happened",
    "start": "2665500",
    "end": "2673180"
  },
  {
    "text": "we went we want to go to zero zero two we correctly followed the route says hey",
    "start": "2673180",
    "end": "2678220"
  },
  {
    "text": "I'm gonna go to 10013 and then we drop dead",
    "start": "2678220",
    "end": "2684520"
  },
  {
    "text": "why if you know how Tracer out Works Bingo",
    "start": "2684520",
    "end": "2690040"
  },
  {
    "text": "will do the same thing by the way then we'll just say hey I couldn't do",
    "start": "2690040",
    "end": "2695200"
  },
  {
    "text": "anything the reason we couldn't get a result is yeah you added a route to take you to",
    "start": "2695200",
    "end": "2700540"
  },
  {
    "text": "the Gateway from S2 right Network but",
    "start": "2700540",
    "end": "2706240"
  },
  {
    "text": "S1 has to respond right so I would guarantee that Gateway actually took the",
    "start": "2706240",
    "end": "2712119"
  },
  {
    "text": "packet all the way to S1 and S1 tried to respond but it couldn't it says Hey I",
    "start": "2712119",
    "end": "2718599"
  },
  {
    "text": "want to respond back to what is it 10 0 1 uh two right that's my that was my IP",
    "start": "2718599",
    "end": "2724420"
  },
  {
    "text": "address 0.1.2 but it couldn't because I don't know how to follow the message as one",
    "start": "2724420",
    "end": "2730060"
  },
  {
    "text": "couldn't so what we can do is go back to S1 and",
    "start": "2730060",
    "end": "2735579"
  },
  {
    "text": "add a very similar rule so it can know how to forward the packets back right",
    "start": "2735579",
    "end": "2740880"
  },
  {
    "text": "networking is not magic my friends it's all logic IP route add now if someone",
    "start": "2740880",
    "end": "2750400"
  },
  {
    "text": "wants to go in this network.1.0",
    "start": "2750400",
    "end": "2757599"
  },
  {
    "text": "please go via 10.0.0",
    "start": "2757599",
    "end": "2762520"
  },
  {
    "text": "1.3 right that's my my Gateway from this side right because remember everyone",
    "start": "2762940",
    "end": "2768220"
  },
  {
    "text": "sees the Gateway as a different IP address based on their Network right and I'm gonna draw hopefully the the get the",
    "start": "2768220",
    "end": "2775720"
  },
  {
    "text": "pictures and I show them as in this and you can pause the screen as you go there",
    "start": "2775720",
    "end": "2782319"
  },
  {
    "text": "beautiful now let's do ping ten zero the 1.2",
    "start": "2782319",
    "end": "2789060"
  },
  {
    "text": "Works curl turn 0.01.2",
    "start": "2789300",
    "end": "2794460"
  },
  {
    "text": "nice right this is it it works why does it say oh",
    "start": "2794460",
    "end": "2800500"
  },
  {
    "text": "we didn't change it because remember we changed it and then we deleted the container but remember just just take my",
    "start": "2800500",
    "end": "2806740"
  },
  {
    "text": "word this is S2 right a problem is like we cannot do uh",
    "start": "2806740",
    "end": "2812980"
  },
  {
    "text": "curlers too still and the reason is maybe we're gonna make another video it's because",
    "start": "2812980",
    "end": "2819700"
  },
  {
    "text": "technically DN is still not aware of this thing yeah DNS is a slightly",
    "start": "2819700",
    "end": "2826599"
  },
  {
    "text": "different beast in this cam it couldn't figure out how to route this traffic so there is",
    "start": "2826599",
    "end": "2834339"
  },
  {
    "text": "another route I'm missing probably to propagate DNS so that everybody knows",
    "start": "2834339",
    "end": "2839380"
  },
  {
    "text": "about it everybody but yeah so this is one limitation of my tutorial so we'll",
    "start": "2839380",
    "end": "2844660"
  },
  {
    "text": "figure it out eventually maybe maybe it's not possible so now if I go to S2",
    "start": "2844660",
    "end": "2850180"
  },
  {
    "text": "and I say Pingo 10002 it works",
    "start": "2850180",
    "end": "2856780"
  },
  {
    "text": "if I do curl works if I do NS lookup",
    "start": "2856780",
    "end": "2862240"
  },
  {
    "text": "0 0 2 and that doesn't make any sense if I do",
    "start": "2862240",
    "end": "2868300"
  },
  {
    "text": "a trace route 10 0 0 2 look at the path that's pretty annoying pretty neat for",
    "start": "2868300",
    "end": "2873640"
  },
  {
    "text": "me you go you want to go here we're going to take you to this Gateway and then back",
    "start": "2873640",
    "end": "2880240"
  },
  {
    "text": "went it took it took us through all the way there successfully yeah the only",
    "start": "2880240",
    "end": "2885400"
  },
  {
    "text": "missing thing is the DNS and I couldn't figure it out how to propagate DNS alright guys I think we're gonna stop",
    "start": "2885400",
    "end": "2890619"
  },
  {
    "text": "here this is a huge large tutorial hope you enjoy it I'm gonna see you on the next one uh one one passing piece before",
    "start": "2890619",
    "end": "2897819"
  },
  {
    "text": "we end up you can also add a script to add these rules every time the container",
    "start": "2897819",
    "end": "2903040"
  },
  {
    "text": "restarts by adding a script at the end of the docker run I didn't do that but",
    "start": "2903040",
    "end": "2908319"
  },
  {
    "text": "it's possible right because this IP route thing are ephemeral the moment you start the server the container they are",
    "start": "2908319",
    "end": "2915700"
  },
  {
    "text": "gone right and yeah one more thing I know that you can all do most of the stuff with Docker compose but I I",
    "start": "2915700",
    "end": "2922180"
  },
  {
    "text": "thought I'll get a little bit dirty and do it manually by hand it's just I just like to know how things work I yeah I",
    "start": "2922180",
    "end": "2928780"
  },
  {
    "text": "gotta use the docker compose I don't like yaml but yeah it's just another way this way you can actually see exactly",
    "start": "2928780",
    "end": "2935560"
  },
  {
    "text": "you're building everything by hand I like buildings in my hand it could be just me you can have of course use",
    "start": "2935560",
    "end": "2940599"
  },
  {
    "text": "Docker compose to build everything on one single script and just spin it up but what is the fun in that there's no",
    "start": "2940599",
    "end": "2946240"
  },
  {
    "text": "fun there is no joy right back to the video so yeah I thought I I had fun doing this",
    "start": "2946240",
    "end": "2952780"
  },
  {
    "text": "stuff so I thought I'll share this with you guys hope you enjoyed this video gonna see you on the next one you guys stay awesome goodbye",
    "start": "2952780",
    "end": "2960420"
  }
]