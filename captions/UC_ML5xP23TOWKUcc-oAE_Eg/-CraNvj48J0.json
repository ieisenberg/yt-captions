[
  {
    "start": "0",
    "end": "290000"
  },
  {
    "text": "guys you know how much i love proxying",
    "start": "0",
    "end": "2720"
  },
  {
    "text": "and reverse proxy and load balancers and",
    "start": "2720",
    "end": "5120"
  },
  {
    "text": "load distributors and those software",
    "start": "5120",
    "end": "7200"
  },
  {
    "text": "i've been i made a lot of videos",
    "start": "7200",
    "end": "9280"
  },
  {
    "text": "i made a video about envoy nginx ha",
    "start": "9280",
    "end": "12719"
  },
  {
    "text": "proxy and",
    "start": "12719",
    "end": "13440"
  },
  {
    "text": "traffic man in the middle proxy i love",
    "start": "13440",
    "end": "17039"
  },
  {
    "text": "proxies i love load balancers i",
    "start": "17039",
    "end": "20240"
  },
  {
    "text": "really think they're game changers and i",
    "start": "20240",
    "end": "22560"
  },
  {
    "text": "think they are being used especially in",
    "start": "22560",
    "end": "24640"
  },
  {
    "text": "the market services architecture",
    "start": "24640",
    "end": "26400"
  },
  {
    "text": "in a very smart and intelligent way this",
    "start": "26400",
    "end": "29439"
  },
  {
    "text": "blew me away",
    "start": "29439",
    "end": "30480"
  },
  {
    "text": "you can use iptables to perform",
    "start": "30480",
    "end": "34880"
  },
  {
    "text": "kernel native load balancing",
    "start": "34880",
    "end": "38719"
  },
  {
    "text": "at that net filter packet level",
    "start": "38719",
    "end": "43120"
  },
  {
    "text": "it doesn't get any faster than that",
    "start": "43120",
    "end": "45120"
  },
  {
    "text": "let's learn how to do that this was part",
    "start": "45120",
    "end": "47520"
  },
  {
    "text": "two of the",
    "start": "47520",
    "end": "48239"
  },
  {
    "text": "ip tables saga uh",
    "start": "48239",
    "end": "51520"
  },
  {
    "text": "i'm gonna reference part one right here",
    "start": "51520",
    "end": "53920"
  },
  {
    "text": "if you're interested",
    "start": "53920",
    "end": "55039"
  },
  {
    "text": "how about we jump into this video and",
    "start": "55039",
    "end": "56960"
  },
  {
    "text": "learn how to do a native",
    "start": "56960",
    "end": "58879"
  },
  {
    "text": "load balancing with iptable with no",
    "start": "58879",
    "end": "62399"
  },
  {
    "text": "software",
    "start": "62399",
    "end": "63120"
  },
  {
    "text": "nil nil null software no software at all",
    "start": "63120",
    "end": "67360"
  },
  {
    "text": "use beautiful linux distro your favorite",
    "start": "67360",
    "end": "70640"
  },
  {
    "text": "and we're going to jump into it i'm",
    "start": "70640",
    "end": "71920"
  },
  {
    "text": "going to use raspberry pi",
    "start": "71920",
    "end": "74080"
  },
  {
    "text": "here and we're going to do a low",
    "start": "74080",
    "end": "75920"
  },
  {
    "text": "balancing so",
    "start": "75920",
    "end": "77200"
  },
  {
    "text": "this video is going to be spread into",
    "start": "77200",
    "end": "79360"
  },
  {
    "text": "two parts the first part we're going to",
    "start": "79360",
    "end": "80880"
  },
  {
    "text": "use",
    "start": "80880",
    "end": "81439"
  },
  {
    "text": "a round robin loud balancer we're going",
    "start": "81439",
    "end": "84720"
  },
  {
    "text": "to do a very nice fancy",
    "start": "84720",
    "end": "86000"
  },
  {
    "text": "trick to do that and the second one",
    "start": "86000",
    "end": "88320"
  },
  {
    "text": "we're going to do a random",
    "start": "88320",
    "end": "90159"
  },
  {
    "text": "load balancing uses so use your youtube",
    "start": "90159",
    "end": "93360"
  },
  {
    "text": "chapter to jump into the interesting",
    "start": "93360",
    "end": "94880"
  },
  {
    "text": "part of the video how about we jump into",
    "start": "94880",
    "end": "96640"
  },
  {
    "text": "it",
    "start": "96640",
    "end": "97119"
  },
  {
    "text": "all right what do we have here we have",
    "start": "97119",
    "end": "100400"
  },
  {
    "text": "four beautiful services",
    "start": "100400",
    "end": "103680"
  },
  {
    "text": "two five four dot ten",
    "start": "103680",
    "end": "106960"
  },
  {
    "text": "one one one one this is site one running",
    "start": "106960",
    "end": "109600"
  },
  {
    "text": "on port one one one one",
    "start": "109600",
    "end": "111360"
  },
  {
    "text": "on on on ip address 10 okay",
    "start": "111360",
    "end": "114799"
  },
  {
    "text": "keep it keep in mind this is 10 okay my",
    "start": "114799",
    "end": "117759"
  },
  {
    "text": "pi",
    "start": "117759",
    "end": "118240"
  },
  {
    "text": "is ipad is 47 just to so",
    "start": "118240",
    "end": "121520"
  },
  {
    "text": "so you know so there is another site 222",
    "start": "121520",
    "end": "125200"
  },
  {
    "text": "that's the green side",
    "start": "125200",
    "end": "126240"
  },
  {
    "text": "site three three three is the blue side",
    "start": "126240",
    "end": "129200"
  },
  {
    "text": "so",
    "start": "129200",
    "end": "129520"
  },
  {
    "text": "three websites three services",
    "start": "129520",
    "end": "132800"
  },
  {
    "text": "three apis does not matter we're load",
    "start": "132800",
    "end": "136879"
  },
  {
    "text": "balancing here",
    "start": "136879",
    "end": "138080"
  },
  {
    "text": "what we wanna do here is we're gonna",
    "start": "138080",
    "end": "140480"
  },
  {
    "text": "make my pi",
    "start": "140480",
    "end": "141520"
  },
  {
    "text": "which is running the hosting this ip",
    "start": "141520",
    "end": "144080"
  },
  {
    "text": "address",
    "start": "144080",
    "end": "144720"
  },
  {
    "text": "on port 80 when you go to port 80 i want",
    "start": "144720",
    "end": "147040"
  },
  {
    "text": "to flip through these three",
    "start": "147040",
    "end": "148959"
  },
  {
    "text": "with a uh with a tcp",
    "start": "148959",
    "end": "152080"
  },
  {
    "text": "layer 4 it's like more like a",
    "start": "152080",
    "end": "155120"
  },
  {
    "text": "layer three if you think about it layer",
    "start": "155120",
    "end": "156800"
  },
  {
    "text": "three layer four load balancing we're",
    "start": "156800",
    "end": "158959"
  },
  {
    "text": "not gonna do a",
    "start": "158959",
    "end": "159760"
  },
  {
    "text": "layer seven load balancing with the",
    "start": "159760",
    "end": "161200"
  },
  {
    "text": "kernel you can't do that e",
    "start": "161200",
    "end": "163440"
  },
  {
    "text": "you can but it's just so complicated you",
    "start": "163440",
    "end": "166080"
  },
  {
    "text": "need actual software for that but",
    "start": "166080",
    "end": "168000"
  },
  {
    "text": "for beautiful packet level layer for",
    "start": "168000",
    "end": "170480"
  },
  {
    "text": "load balance and we're going to do that",
    "start": "170480",
    "end": "171760"
  },
  {
    "text": "when you do that you're going to visit",
    "start": "171760",
    "end": "173120"
  },
  {
    "text": "site one site two and so three we're",
    "start": "173120",
    "end": "174560"
  },
  {
    "text": "gonna",
    "start": "174560",
    "end": "175040"
  },
  {
    "text": "do uh some sort of a balancing between",
    "start": "175040",
    "end": "178159"
  },
  {
    "text": "the load balancing i guess this is",
    "start": "178159",
    "end": "179680"
  },
  {
    "text": "called load distribution",
    "start": "179680",
    "end": "181760"
  },
  {
    "text": "does because layer 4 is dumb",
    "start": "181760",
    "end": "185440"
  },
  {
    "text": "it doesn't know how to balance right it",
    "start": "185440",
    "end": "188080"
  },
  {
    "text": "doesn't know if this.targus server",
    "start": "188080",
    "end": "190080"
  },
  {
    "text": "is loaded overloaded i mean",
    "start": "190080",
    "end": "193280"
  },
  {
    "text": "it has very naive understanding of what",
    "start": "193280",
    "end": "196239"
  },
  {
    "text": "loading mean right it's like",
    "start": "196239",
    "end": "198080"
  },
  {
    "text": "is it the number of connections that",
    "start": "198080",
    "end": "199599"
  },
  {
    "text": "doesn't mean anything right i can have",
    "start": "199599",
    "end": "201680"
  },
  {
    "text": "thousand connection but they are all",
    "start": "201680",
    "end": "203040"
  },
  {
    "text": "idle right but",
    "start": "203040",
    "end": "205680"
  },
  {
    "text": "and i can have two connections with and",
    "start": "205680",
    "end": "208720"
  },
  {
    "text": "and",
    "start": "208720",
    "end": "209360"
  },
  {
    "text": "and the processing is being hammered on",
    "start": "209360",
    "end": "212480"
  },
  {
    "text": "the back end right",
    "start": "212480",
    "end": "214080"
  },
  {
    "text": "so how about we jump into it and do load",
    "start": "214080",
    "end": "216560"
  },
  {
    "text": "balancing we're gonna do",
    "start": "216560",
    "end": "218239"
  },
  {
    "text": "let's go to the pi and do uh sudo ip",
    "start": "218239",
    "end": "221200"
  },
  {
    "text": "tables",
    "start": "221200",
    "end": "222239"
  },
  {
    "text": "and let's just flush everything clean uh",
    "start": "222239",
    "end": "226080"
  },
  {
    "text": "i get i get a flush than that table i",
    "start": "226080",
    "end": "227760"
  },
  {
    "text": "guess specify not",
    "start": "227760",
    "end": "229360"
  },
  {
    "text": "flush the net we are",
    "start": "229360",
    "end": "232400"
  },
  {
    "text": "clean as a whistle boom",
    "start": "232400",
    "end": "236000"
  },
  {
    "text": "no chains nothing what we're gonna do",
    "start": "236000",
    "end": "238799"
  },
  {
    "text": "here is",
    "start": "238799",
    "end": "239519"
  },
  {
    "text": "we will add a bunch of a pre-routing",
    "start": "239519",
    "end": "244560"
  },
  {
    "text": "rules and we talked about that period",
    "start": "244560",
    "end": "246480"
  },
  {
    "text": "routing rule and post rather than",
    "start": "246480",
    "end": "248239"
  },
  {
    "text": "because we're not introducing a new",
    "start": "248239",
    "end": "249760"
  },
  {
    "text": "chains yet we're gonna use the same",
    "start": "249760",
    "end": "251360"
  },
  {
    "text": "chains that we explained in the first",
    "start": "251360",
    "end": "252799"
  },
  {
    "text": "video so i i encourage you to first",
    "start": "252799",
    "end": "254480"
  },
  {
    "text": "watch the first video if you didn't",
    "start": "254480",
    "end": "256239"
  },
  {
    "text": "there's like a fancy graphics graphics",
    "start": "256239",
    "end": "258320"
  },
  {
    "text": "and stuff remember",
    "start": "258320",
    "end": "259519"
  },
  {
    "text": "this is the pie this is this is ip",
    "start": "259519",
    "end": "262079"
  },
  {
    "text": "address 47",
    "start": "262079",
    "end": "263120"
  },
  {
    "text": "right and we're gonna load balance",
    "start": "263120",
    "end": "265600"
  },
  {
    "text": "everything to",
    "start": "265600",
    "end": "267440"
  },
  {
    "text": "to ip address 10 right you might say",
    "start": "267440",
    "end": "269680"
  },
  {
    "text": "hussein you're just",
    "start": "269680",
    "end": "270960"
  },
  {
    "text": "all of them running on the same ip",
    "start": "270960",
    "end": "272479"
  },
  {
    "text": "address yeah i'm just",
    "start": "272479",
    "end": "274080"
  },
  {
    "text": "testing here of course but you can you",
    "start": "274080",
    "end": "276400"
  },
  {
    "text": "can just have them",
    "start": "276400",
    "end": "277520"
  },
  {
    "text": "on separate machines or services that's",
    "start": "277520",
    "end": "280160"
  },
  {
    "text": "fine right",
    "start": "280160",
    "end": "281360"
  },
  {
    "text": "it's just i don't have enough machines",
    "start": "281360",
    "end": "283759"
  },
  {
    "text": "here okay",
    "start": "283759",
    "end": "284639"
  },
  {
    "text": "i probably should use like a service",
    "start": "284639",
    "end": "286400"
  },
  {
    "text": "like a lenovo digital",
    "start": "286400",
    "end": "288800"
  },
  {
    "text": "uh foundry or digital ocean huh maybe in",
    "start": "288800",
    "end": "291759"
  },
  {
    "start": "290000",
    "end": "1050000"
  },
  {
    "text": "the future maybe in the future",
    "start": "291759",
    "end": "293120"
  },
  {
    "text": "here's how we do a round robin load",
    "start": "293120",
    "end": "296320"
  },
  {
    "text": "balancing",
    "start": "296320",
    "end": "297280"
  },
  {
    "text": "we have three services right so we're",
    "start": "297280",
    "end": "299360"
  },
  {
    "text": "gonna do essentially three rules",
    "start": "299360",
    "end": "302080"
  },
  {
    "text": "and we're gonna do a trick here",
    "start": "302080",
    "end": "305199"
  },
  {
    "text": "with the matching that we're gonna",
    "start": "305199",
    "end": "307199"
  },
  {
    "text": "happen on",
    "start": "307199",
    "end": "308320"
  },
  {
    "text": "the ip tables we're going to use a",
    "start": "308320",
    "end": "311919"
  },
  {
    "text": "a a matching module called statistics",
    "start": "311919",
    "end": "317039"
  },
  {
    "text": "that matches every",
    "start": "317039",
    "end": "320080"
  },
  {
    "text": "number of packets right hey every three",
    "start": "320080",
    "end": "322880"
  },
  {
    "text": "packets",
    "start": "322880",
    "end": "323759"
  },
  {
    "text": "match the rule every two packets match",
    "start": "323759",
    "end": "326479"
  },
  {
    "text": "the rule",
    "start": "326479",
    "end": "327440"
  },
  {
    "text": "right so based on that you can simulate",
    "start": "327440",
    "end": "330560"
  },
  {
    "text": "some sort of a round drop it's going to",
    "start": "330560",
    "end": "332080"
  },
  {
    "text": "be clear in a minute so let's do i",
    "start": "332080",
    "end": "334080"
  },
  {
    "text": "pseudo ip tables",
    "start": "334080",
    "end": "336479"
  },
  {
    "text": "and then we're gonna do obviously the",
    "start": "336479",
    "end": "338080"
  },
  {
    "text": "nat table",
    "start": "338080",
    "end": "339840"
  },
  {
    "text": "we learned all that stuff we have done",
    "start": "339840",
    "end": "341520"
  },
  {
    "text": "this before right",
    "start": "341520",
    "end": "343280"
  },
  {
    "text": "and uh what is your uh we're gonna",
    "start": "343280",
    "end": "345199"
  },
  {
    "text": "append to the pre-routing chain",
    "start": "345199",
    "end": "348000"
  },
  {
    "text": "all right we're adding to the chain",
    "start": "348000",
    "end": "349680"
  },
  {
    "text": "that's called pre-routing",
    "start": "349680",
    "end": "351520"
  },
  {
    "text": "and we're filtering on the pro",
    "start": "351520",
    "end": "354960"
  },
  {
    "text": "on the destination if your destination",
    "start": "354960",
    "end": "358240"
  },
  {
    "text": "is moi",
    "start": "358240",
    "end": "360560"
  },
  {
    "text": "which is the pi and",
    "start": "360560",
    "end": "364080"
  },
  {
    "text": "the protocol is tcp",
    "start": "364080",
    "end": "367440"
  },
  {
    "text": "right and you're",
    "start": "367440",
    "end": "370800"
  },
  {
    "text": "trying to go to port 80",
    "start": "370800",
    "end": "374080"
  },
  {
    "text": "and all of these are called",
    "start": "374080",
    "end": "377280"
  },
  {
    "text": "matches we talked about this in the",
    "start": "377280",
    "end": "379280"
  },
  {
    "text": "previous part right",
    "start": "379280",
    "end": "380400"
  },
  {
    "text": "uh in the first episode these are called",
    "start": "380400",
    "end": "382639"
  },
  {
    "text": "matches these are called built-in",
    "start": "382639",
    "end": "384160"
  },
  {
    "text": "matches",
    "start": "384160",
    "end": "384800"
  },
  {
    "text": "this is you can essentially load extra",
    "start": "384800",
    "end": "388240"
  },
  {
    "text": "module",
    "start": "388240",
    "end": "389440"
  },
  {
    "text": "that perform custom matches and this",
    "start": "389440",
    "end": "391680"
  },
  {
    "text": "match is called",
    "start": "391680",
    "end": "392840"
  },
  {
    "text": "statistic status sta",
    "start": "392840",
    "end": "396240"
  },
  {
    "text": "test text does i spell it right right",
    "start": "396240",
    "end": "398639"
  },
  {
    "text": "sta",
    "start": "398639",
    "end": "399360"
  },
  {
    "text": "test tick one x no x",
    "start": "399360",
    "end": "403199"
  },
  {
    "text": "right and here's the thing this",
    "start": "403199",
    "end": "406240"
  },
  {
    "text": "module this matching module comes with",
    "start": "406240",
    "end": "410639"
  },
  {
    "text": "a parameter that's called mode and the",
    "start": "410639",
    "end": "412479"
  },
  {
    "text": "modes are here called",
    "start": "412479",
    "end": "413680"
  },
  {
    "text": "nth and random so we're going to first",
    "start": "413680",
    "end": "416000"
  },
  {
    "text": "explain the",
    "start": "416000",
    "end": "416800"
  },
  {
    "text": "nth which is the every x number of",
    "start": "416800",
    "end": "420400"
  },
  {
    "text": "packets",
    "start": "420400",
    "end": "421120"
  },
  {
    "text": "evaluate this rule that you're seeing",
    "start": "421120",
    "end": "422960"
  },
  {
    "text": "right here not every time",
    "start": "422960",
    "end": "424800"
  },
  {
    "text": "like like like always only evaluate it",
    "start": "424800",
    "end": "428720"
  },
  {
    "text": "every at x number of time so we're gonna",
    "start": "428720",
    "end": "432080"
  },
  {
    "text": "do that",
    "start": "432080",
    "end": "432639"
  },
  {
    "text": "that naturally when you say nth that",
    "start": "432639",
    "end": "434800"
  },
  {
    "text": "means this comes in",
    "start": "434800",
    "end": "436319"
  },
  {
    "text": "with a parameter called every and we're",
    "start": "436319",
    "end": "439280"
  },
  {
    "text": "going to add",
    "start": "439280",
    "end": "439840"
  },
  {
    "text": "every three packets so we're going to do",
    "start": "439840",
    "end": "441680"
  },
  {
    "text": "here is this rule",
    "start": "441680",
    "end": "443199"
  },
  {
    "text": "is going to be evaluated every three",
    "start": "443199",
    "end": "444720"
  },
  {
    "text": "packets right and the second rule is",
    "start": "444720",
    "end": "446960"
  },
  {
    "text": "going to be available every second",
    "start": "446960",
    "end": "448479"
  },
  {
    "text": "and the third rule is going to be",
    "start": "448479",
    "end": "449599"
  },
  {
    "text": "evaluated all the time",
    "start": "449599",
    "end": "451599"
  },
  {
    "text": "and because we know how pre-routing",
    "start": "451599",
    "end": "454080"
  },
  {
    "text": "chains work",
    "start": "454080",
    "end": "455120"
  },
  {
    "text": "the first chain that uh satisfy the",
    "start": "455120",
    "end": "458639"
  },
  {
    "text": "packet",
    "start": "458639",
    "end": "459759"
  },
  {
    "text": "immediately quits it's like a",
    "start": "459759",
    "end": "461840"
  },
  {
    "text": "immediately like it's a",
    "start": "461840",
    "end": "463039"
  },
  {
    "text": "like a return think of it like this if",
    "start": "463039",
    "end": "464960"
  },
  {
    "text": "you in programming right",
    "start": "464960",
    "end": "467120"
  },
  {
    "text": "all right every three i want to evaluate",
    "start": "467120",
    "end": "469759"
  },
  {
    "text": "on packet zero",
    "start": "469759",
    "end": "471199"
  },
  {
    "text": "okay that's essentially the send packet",
    "start": "471199",
    "end": "473520"
  },
  {
    "text": "because",
    "start": "473520",
    "end": "474240"
  },
  {
    "text": "we're doing everything in tcp here right",
    "start": "474240",
    "end": "476560"
  },
  {
    "text": "and okay if you know",
    "start": "476560",
    "end": "478800"
  },
  {
    "text": "i suggest you if you're new to this",
    "start": "478800",
    "end": "480400"
  },
  {
    "text": "stuff learn about the tcp handshake i",
    "start": "480400",
    "end": "482240"
  },
  {
    "text": "talked about it right here if you'll",
    "start": "482240",
    "end": "483520"
  },
  {
    "text": "learn more",
    "start": "483520",
    "end": "484080"
  },
  {
    "text": "about that so every packet zero all",
    "start": "484080",
    "end": "486319"
  },
  {
    "text": "right looks like good looks good",
    "start": "486319",
    "end": "488000"
  },
  {
    "text": "now what do i what do i do i want to",
    "start": "488000",
    "end": "489919"
  },
  {
    "text": "jump into the target that's called d-net",
    "start": "489919",
    "end": "492000"
  },
  {
    "text": "i talked about that",
    "start": "492000",
    "end": "493039"
  },
  {
    "text": "again nothing fancy here we're just",
    "start": "493039",
    "end": "495120"
  },
  {
    "text": "playing with the matches here",
    "start": "495120",
    "end": "497440"
  },
  {
    "text": "and then i want you to go to two",
    "start": "497440",
    "end": "499520"
  },
  {
    "text": "destination",
    "start": "499520",
    "end": "501840"
  },
  {
    "text": "that is 192.168. the two two five four",
    "start": "501840",
    "end": "505120"
  },
  {
    "text": "to ten and which part",
    "start": "505120",
    "end": "506720"
  },
  {
    "text": "let's pick one so every three packets",
    "start": "506720",
    "end": "510800"
  },
  {
    "text": "so every one two three we'll get we're",
    "start": "510800",
    "end": "514080"
  },
  {
    "text": "gonna evaluate this and we're gonna go",
    "start": "514080",
    "end": "515518"
  },
  {
    "text": "to this rule",
    "start": "515519",
    "end": "516399"
  },
  {
    "text": "essentially uh the the first ip errors",
    "start": "516399",
    "end": "518560"
  },
  {
    "text": "which is",
    "start": "518560",
    "end": "519440"
  },
  {
    "text": "this running on on the red side this is",
    "start": "519440",
    "end": "522080"
  },
  {
    "text": "the site one right",
    "start": "522080",
    "end": "523839"
  },
  {
    "text": "and that's it just add one rule",
    "start": "523839",
    "end": "528160"
  },
  {
    "text": "do exactly the same thing change that to",
    "start": "528160",
    "end": "531519"
  },
  {
    "text": "side two and we're gonna change this to",
    "start": "531519",
    "end": "534160"
  },
  {
    "text": "every",
    "start": "534160",
    "end": "534880"
  },
  {
    "text": "two packets got it",
    "start": "534880",
    "end": "539120"
  },
  {
    "text": "and then finally the last one is we",
    "start": "539120",
    "end": "541920"
  },
  {
    "text": "don't even need",
    "start": "541920",
    "end": "543040"
  },
  {
    "text": "the stinking module anymore",
    "start": "543040",
    "end": "546560"
  },
  {
    "text": "you can remove it i want to always",
    "start": "546560",
    "end": "548720"
  },
  {
    "text": "evaluate that",
    "start": "548720",
    "end": "550160"
  },
  {
    "text": "always evaluate this rule but you might",
    "start": "550160",
    "end": "552399"
  },
  {
    "text": "say hussein if you're always evaluating",
    "start": "552399",
    "end": "554000"
  },
  {
    "text": "this rule",
    "start": "554000",
    "end": "554720"
  },
  {
    "text": "then how do how do these rules will be",
    "start": "554720",
    "end": "556720"
  },
  {
    "text": "evaluated in this case",
    "start": "556720",
    "end": "558080"
  },
  {
    "text": "right no remember the order in ip tables",
    "start": "558080",
    "end": "561200"
  },
  {
    "text": "matter this is rule three and",
    "start": "561200",
    "end": "564240"
  },
  {
    "text": "as a result if the first rule",
    "start": "564240",
    "end": "568320"
  },
  {
    "text": "didn't get evaluated and the second rule",
    "start": "568320",
    "end": "570080"
  },
  {
    "text": "didn't get evaluated because i don't",
    "start": "570080",
    "end": "571519"
  },
  {
    "text": "know it was the",
    "start": "571519",
    "end": "572480"
  },
  {
    "text": "first packet then the third rule would",
    "start": "572480",
    "end": "574880"
  },
  {
    "text": "be evaluated which is this",
    "start": "574880",
    "end": "576480"
  },
  {
    "text": "and we forgot to change this just be",
    "start": "576480",
    "end": "578640"
  },
  {
    "text": "three three three three",
    "start": "578640",
    "end": "579680"
  },
  {
    "text": "all right so one one one two two two two",
    "start": "579680",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two two two two two",
    "start": "581279",
    "end": "581279"
  },
  {
    "text": "two two two two two two and then three",
    "start": "581279",
    "end": "581920"
  },
  {
    "text": "three three three",
    "start": "581920",
    "end": "582800"
  },
  {
    "text": "and enter and let's check our table sudo",
    "start": "582800",
    "end": "585600"
  },
  {
    "text": "i p tables",
    "start": "585600",
    "end": "587040"
  },
  {
    "text": "dash dash table not list",
    "start": "587040",
    "end": "590160"
  },
  {
    "text": "and here's the girl we have the table",
    "start": "590160",
    "end": "591920"
  },
  {
    "text": "let's just show the line number law i",
    "start": "591920",
    "end": "593600"
  },
  {
    "text": "think it's called line numbers",
    "start": "593600",
    "end": "596320"
  },
  {
    "text": "right there you go this way you show the",
    "start": "596320",
    "end": "598160"
  },
  {
    "text": "rule numbers here",
    "start": "598160",
    "end": "599680"
  },
  {
    "text": "so rule number one is this",
    "start": "599680",
    "end": "603120"
  },
  {
    "text": "inf every three packets so",
    "start": "603120",
    "end": "606399"
  },
  {
    "text": "ascent comes a sin packet comes",
    "start": "606399",
    "end": "609760"
  },
  {
    "text": "and like a new connection it will try to",
    "start": "609760",
    "end": "612320"
  },
  {
    "text": "evaluate in this nope we're not",
    "start": "612320",
    "end": "613760"
  },
  {
    "text": "evaluating",
    "start": "613760",
    "end": "615040"
  },
  {
    "text": "uh because it's the first packet so and",
    "start": "615040",
    "end": "618079"
  },
  {
    "text": "so we're gonna skip this rule try to",
    "start": "618079",
    "end": "620320"
  },
  {
    "text": "evaluate here",
    "start": "620320",
    "end": "621519"
  },
  {
    "text": "nope it's the first packet so we're",
    "start": "621519",
    "end": "622959"
  },
  {
    "text": "gonna skip it so we're gonna evaluate",
    "start": "622959",
    "end": "624720"
  },
  {
    "text": "here",
    "start": "624720",
    "end": "625200"
  },
  {
    "text": "and then the second sin come in here",
    "start": "625200",
    "end": "629040"
  },
  {
    "text": "try to avail here no this is the third",
    "start": "629040",
    "end": "630800"
  },
  {
    "text": "package so word in the second",
    "start": "630800",
    "end": "632800"
  },
  {
    "text": "skip it and then we're gonna evaluate",
    "start": "632800",
    "end": "634560"
  },
  {
    "text": "this in this step because that's the",
    "start": "634560",
    "end": "635920"
  },
  {
    "text": "second time",
    "start": "635920",
    "end": "636640"
  },
  {
    "text": "and the third time we're gonna whatever",
    "start": "636640",
    "end": "638079"
  },
  {
    "text": "this and then boom boom boom",
    "start": "638079",
    "end": "641519"
  },
  {
    "text": "box that's it",
    "start": "642800",
    "end": "646160"
  },
  {
    "text": "that is it and guys you showed me how to",
    "start": "646160",
    "end": "650480"
  },
  {
    "text": "show the actual ip enders here that's",
    "start": "650480",
    "end": "652560"
  },
  {
    "text": "cute numeric",
    "start": "652560",
    "end": "654959"
  },
  {
    "text": "hahaha that's better i like this better",
    "start": "654959",
    "end": "658079"
  },
  {
    "text": "thank you for all the comments i love i",
    "start": "658079",
    "end": "660320"
  },
  {
    "text": "love you guys",
    "start": "660320",
    "end": "661519"
  },
  {
    "text": "you guys uh are giving me a lot of",
    "start": "661519",
    "end": "664000"
  },
  {
    "text": "insights",
    "start": "664000",
    "end": "664720"
  },
  {
    "text": "into these things right so yeah",
    "start": "664720",
    "end": "669200"
  },
  {
    "text": "all right is this enough we know how",
    "start": "669200",
    "end": "672000"
  },
  {
    "text": "destination networks",
    "start": "672000",
    "end": "673360"
  },
  {
    "text": "this is absolutely going to fail right",
    "start": "673360",
    "end": "675600"
  },
  {
    "text": "because there is no source nat",
    "start": "675600",
    "end": "677440"
  },
  {
    "text": "the moment we start forwarding this",
    "start": "677440",
    "end": "678959"
  },
  {
    "text": "stuff it's going to fail and you might",
    "start": "678959",
    "end": "680880"
  },
  {
    "text": "say",
    "start": "680880",
    "end": "681200"
  },
  {
    "text": "i say i don't believe you well well you",
    "start": "681200",
    "end": "683440"
  },
  {
    "text": "don't believe me",
    "start": "683440",
    "end": "684399"
  },
  {
    "text": "then c if i do now curl http",
    "start": "684399",
    "end": "689839"
  },
  {
    "text": "192.168.254.47",
    "start": "690120",
    "end": "691279"
  },
  {
    "text": "on port 80. i guess this is the default",
    "start": "691279",
    "end": "693440"
  },
  {
    "text": "you don't have to",
    "start": "693440",
    "end": "694640"
  },
  {
    "text": "we're going to get this i'm going to",
    "start": "694640",
    "end": "696240"
  },
  {
    "text": "keep trying to",
    "start": "696240",
    "end": "698640"
  },
  {
    "text": "establish a connection without any",
    "start": "698640",
    "end": "700079"
  },
  {
    "text": "chance because the packet the return",
    "start": "700079",
    "end": "704000"
  },
  {
    "text": "the return source nat is wrong we're",
    "start": "704000",
    "end": "706959"
  },
  {
    "text": "returning to the wrong computer",
    "start": "706959",
    "end": "708640"
  },
  {
    "text": "essentially so how do we fix it we fix",
    "start": "708640",
    "end": "712000"
  },
  {
    "text": "it we talked about that",
    "start": "712000",
    "end": "713200"
  },
  {
    "text": "sudo ip tables we're gonna do a source",
    "start": "713200",
    "end": "715760"
  },
  {
    "text": "net",
    "start": "715760",
    "end": "716880"
  },
  {
    "text": "for all the three and the beauty of this",
    "start": "716880",
    "end": "718560"
  },
  {
    "text": "is a source that you do this once the",
    "start": "718560",
    "end": "720160"
  },
  {
    "text": "post routing",
    "start": "720160",
    "end": "721120"
  },
  {
    "text": "as you leave the packet right let's do",
    "start": "721120",
    "end": "724800"
  },
  {
    "text": "uh as you leave the packet from the",
    "start": "724800",
    "end": "726959"
  },
  {
    "text": "kernel",
    "start": "726959",
    "end": "728000"
  },
  {
    "text": "go and change the source so it's me",
    "start": "728000",
    "end": "731760"
  },
  {
    "text": "the pi the pi should receive all these",
    "start": "731760",
    "end": "734320"
  },
  {
    "text": "packets back",
    "start": "734320",
    "end": "735360"
  },
  {
    "text": "not the original client right the",
    "start": "735360",
    "end": "737760"
  },
  {
    "text": "original client might you might get away",
    "start": "737760",
    "end": "739680"
  },
  {
    "text": "with that",
    "start": "739680",
    "end": "740320"
  },
  {
    "text": "without it if you have gateways",
    "start": "740320",
    "end": "742399"
  },
  {
    "text": "configured correctly and if the client",
    "start": "742399",
    "end": "744399"
  },
  {
    "text": "is",
    "start": "744399",
    "end": "744720"
  },
  {
    "text": "outside your network because the gateway",
    "start": "744720",
    "end": "747120"
  },
  {
    "text": "will take care of this stuff right",
    "start": "747120",
    "end": "748560"
  },
  {
    "text": "so the ipa apples what do we do i'm",
    "start": "748560",
    "end": "751040"
  },
  {
    "text": "gonna append to the",
    "start": "751040",
    "end": "753040"
  },
  {
    "text": "oh forgot the table natto nattodeska",
    "start": "753040",
    "end": "758160"
  },
  {
    "text": "we're going to happen to the post",
    "start": "761120",
    "end": "762240"
  },
  {
    "text": "routine what are going to happen",
    "start": "762240",
    "end": "764639"
  },
  {
    "text": "if the protocol",
    "start": "764639",
    "end": "767440"
  },
  {
    "text": "protocol is what the hell i'm doing if",
    "start": "768480",
    "end": "771519"
  },
  {
    "text": "the protocol is",
    "start": "771519",
    "end": "772639"
  },
  {
    "text": "a protocol is tcp",
    "start": "772639",
    "end": "776800"
  },
  {
    "text": "right and and you're",
    "start": "776800",
    "end": "779839"
  },
  {
    "text": "going you are going again",
    "start": "779839",
    "end": "783040"
  },
  {
    "text": "your the pi and there's a packet leaving",
    "start": "783040",
    "end": "786000"
  },
  {
    "text": "from you",
    "start": "786000",
    "end": "787120"
  },
  {
    "text": "to that machine the 10 machine the ip",
    "start": "787120",
    "end": "789839"
  },
  {
    "text": "machine 10 right",
    "start": "789839",
    "end": "791120"
  },
  {
    "text": "if your destination is 192.168.254.10",
    "start": "791120",
    "end": "796399"
  },
  {
    "text": "if you're going there and",
    "start": "796399",
    "end": "799440"
  },
  {
    "text": "and and",
    "start": "799440",
    "end": "802959"
  },
  {
    "text": "that destination port is",
    "start": "802959",
    "end": "806320"
  },
  {
    "text": "again we have three services you can go",
    "start": "806320",
    "end": "807760"
  },
  {
    "text": "to port one one one one",
    "start": "807760",
    "end": "809600"
  },
  {
    "text": "two two two or three three we need three",
    "start": "809600",
    "end": "811200"
  },
  {
    "text": "rules for all that stuff right",
    "start": "811200",
    "end": "812880"
  },
  {
    "text": "and you need a rule for each ip address",
    "start": "812880",
    "end": "815760"
  },
  {
    "text": "that you're going to",
    "start": "815760",
    "end": "817120"
  },
  {
    "text": "right in my case it's just one but you",
    "start": "817120",
    "end": "819440"
  },
  {
    "text": "get the idea right",
    "start": "819440",
    "end": "820720"
  },
  {
    "text": "now as it is we want to jump to the",
    "start": "820720",
    "end": "823519"
  },
  {
    "text": "target that is called estnet",
    "start": "823519",
    "end": "825440"
  },
  {
    "text": "and then i want to set my source to be",
    "start": "825440",
    "end": "829199"
  },
  {
    "text": "more hey packet",
    "start": "829199",
    "end": "832320"
  },
  {
    "text": "that you're they're leaving me please if",
    "start": "832320",
    "end": "835440"
  },
  {
    "text": "you satisfy this condition",
    "start": "835440",
    "end": "836959"
  },
  {
    "text": "i know that i natted you so",
    "start": "836959",
    "end": "840839"
  },
  {
    "text": "please you should come back to me",
    "start": "840839",
    "end": "844320"
  },
  {
    "text": "you should not go anywhere else because",
    "start": "844320",
    "end": "846399"
  },
  {
    "text": "you're going to be lost",
    "start": "846399",
    "end": "847839"
  },
  {
    "text": "and it's a very dangerous word out there",
    "start": "847839",
    "end": "850720"
  },
  {
    "text": "my friend",
    "start": "850720",
    "end": "851760"
  },
  {
    "text": "don't go out there naked like this",
    "start": "851760",
    "end": "855040"
  },
  {
    "text": "and then boom just like that we have a",
    "start": "855040",
    "end": "857360"
  },
  {
    "text": "roll what do we need to do next",
    "start": "857360",
    "end": "859120"
  },
  {
    "text": "we need another one did you call it",
    "start": "859120",
    "end": "862480"
  },
  {
    "text": "four two two two and another one",
    "start": "862480",
    "end": "865680"
  },
  {
    "text": "four three three three three three three",
    "start": "865680",
    "end": "867760"
  },
  {
    "text": "three three",
    "start": "867760",
    "end": "869120"
  },
  {
    "text": "oh beautiful with a p not",
    "start": "869120",
    "end": "872560"
  },
  {
    "text": "beautiful with a p pew to full that's a",
    "start": "872560",
    "end": "875360"
  },
  {
    "text": "new word i just invented beautiful",
    "start": "875360",
    "end": "877680"
  },
  {
    "text": "that means it's it's very very beautiful",
    "start": "877680",
    "end": "880639"
  },
  {
    "text": "got it",
    "start": "880639",
    "end": "881519"
  },
  {
    "text": "all right awesome so now we're saying",
    "start": "881519",
    "end": "884880"
  },
  {
    "text": "uh you're bullshitting me that will this",
    "start": "884880",
    "end": "887120"
  },
  {
    "text": "work of course it will",
    "start": "887120",
    "end": "888880"
  },
  {
    "text": "duh so side two side three",
    "start": "888880",
    "end": "892000"
  },
  {
    "text": "size one um stick",
    "start": "892000",
    "end": "899440"
  },
  {
    "text": "i know some of you guys this guy is an",
    "start": "899440",
    "end": "901279"
  },
  {
    "text": "idiot",
    "start": "901279",
    "end": "903120"
  },
  {
    "text": "i get excited with this stuff guys i",
    "start": "903120",
    "end": "905040"
  },
  {
    "text": "love this stuff",
    "start": "905040",
    "end": "906160"
  },
  {
    "text": "i genuinely love this stuff so side one",
    "start": "906160",
    "end": "909760"
  },
  {
    "text": "side two side three",
    "start": "909760",
    "end": "910720"
  },
  {
    "text": "right side we're round-robining now",
    "start": "910720",
    "end": "914000"
  },
  {
    "text": "generally who's saying uh show me how",
    "start": "914000",
    "end": "916320"
  },
  {
    "text": "this works in our browser",
    "start": "916320",
    "end": "917519"
  },
  {
    "text": "let's go to the browser and then boom i",
    "start": "917519",
    "end": "920160"
  },
  {
    "text": "like the bravo",
    "start": "920160",
    "end": "921040"
  },
  {
    "text": "automatically refreshed refresh hussain",
    "start": "921040",
    "end": "924320"
  },
  {
    "text": "what are you talking about this is not",
    "start": "924320",
    "end": "926000"
  },
  {
    "text": "round opening",
    "start": "926000",
    "end": "927600"
  },
  {
    "text": "well duh if you know how a browser work",
    "start": "927600",
    "end": "930399"
  },
  {
    "text": "you know that is by design",
    "start": "930399",
    "end": "932320"
  },
  {
    "text": "you know that brave is using chromium",
    "start": "932320",
    "end": "934880"
  },
  {
    "text": "and you know chromium",
    "start": "934880",
    "end": "936399"
  },
  {
    "text": "uh reuses the tcp connection so that",
    "start": "936399",
    "end": "940240"
  },
  {
    "text": "means",
    "start": "940240",
    "end": "942320"
  },
  {
    "text": "this thing getting i'm trying to move to",
    "start": "942320",
    "end": "945519"
  },
  {
    "text": "to i try to move to craw",
    "start": "945519",
    "end": "949839"
  },
  {
    "text": "to brave from chrome and i'm now",
    "start": "949839",
    "end": "951519"
  },
  {
    "text": "regretting it",
    "start": "951519",
    "end": "953680"
  },
  {
    "text": "because i don't know where where stuff",
    "start": "953680",
    "end": "955440"
  },
  {
    "text": "is this is the first time i use it so",
    "start": "955440",
    "end": "957519"
  },
  {
    "text": "excuse me guys",
    "start": "957519",
    "end": "958639"
  },
  {
    "text": "so how do i add the connection id it's",
    "start": "958639",
    "end": "961199"
  },
  {
    "text": "there thank you",
    "start": "961199",
    "end": "961920"
  },
  {
    "text": "there's you so the character id is 28532",
    "start": "961920",
    "end": "965199"
  },
  {
    "text": "there is",
    "start": "965199",
    "end": "966000"
  },
  {
    "text": "a brand new tcp connection that has been",
    "start": "966000",
    "end": "967759"
  },
  {
    "text": "established right",
    "start": "967759",
    "end": "969360"
  },
  {
    "text": "and we hit using that there is a send",
    "start": "969360",
    "end": "972160"
  },
  {
    "text": "that went to my raspberry pi which was",
    "start": "972160",
    "end": "974320"
  },
  {
    "text": "term",
    "start": "974320",
    "end": "976240"
  },
  {
    "text": "i can't talk which was forwarded to my",
    "start": "976240",
    "end": "979279"
  },
  {
    "text": "back end",
    "start": "979279",
    "end": "980160"
  },
  {
    "text": "server the ipa address 10 which then",
    "start": "980160",
    "end": "984079"
  },
  {
    "text": "got locked in connection tracking man",
    "start": "984079",
    "end": "987279"
  },
  {
    "text": "and in future packets using the same",
    "start": "987279",
    "end": "990800"
  },
  {
    "text": "source",
    "start": "990800",
    "end": "991440"
  },
  {
    "text": "and destination port will always go",
    "start": "991440",
    "end": "993440"
  },
  {
    "text": "through that path",
    "start": "993440",
    "end": "994560"
  },
  {
    "text": "you cannot just change it and throw it",
    "start": "994560",
    "end": "996320"
  },
  {
    "text": "into another",
    "start": "996320",
    "end": "997600"
  },
  {
    "text": "uh machine because you're gonna you're",
    "start": "997600",
    "end": "1000000"
  },
  {
    "text": "gonna fail you're gonna get the tcp you",
    "start": "1000000",
    "end": "1001360"
  },
  {
    "text": "said that's",
    "start": "1001360",
    "end": "1002160"
  },
  {
    "text": "that's how the internet works it has to",
    "start": "1002160",
    "end": "1004160"
  },
  {
    "text": "go back to the same box",
    "start": "1004160",
    "end": "1006800"
  },
  {
    "text": "that works this way right because tcp is",
    "start": "1006800",
    "end": "1009199"
  },
  {
    "text": "stateful",
    "start": "1009199",
    "end": "1010480"
  },
  {
    "text": "all right so now every time i refresh",
    "start": "1010480",
    "end": "1012720"
  },
  {
    "text": "look at that",
    "start": "1012720",
    "end": "1014000"
  },
  {
    "text": "now i got a new tcp connection 73 so we",
    "start": "1014000",
    "end": "1016480"
  },
  {
    "text": "flipped to the blue side",
    "start": "1016480",
    "end": "1017839"
  },
  {
    "text": "if i refresh again oh i got another one",
    "start": "1017839",
    "end": "1020240"
  },
  {
    "text": "75 all right",
    "start": "1020240",
    "end": "1021279"
  },
  {
    "text": "final fresh again i use the same",
    "start": "1021279",
    "end": "1024240"
  },
  {
    "text": "connection 75 so then i stay in red i",
    "start": "1024240",
    "end": "1026558"
  },
  {
    "text": "refresh again 75 i stay on red",
    "start": "1026559",
    "end": "1028558"
  },
  {
    "text": "i refresh again 75 seven it's all",
    "start": "1028559",
    "end": "1032480"
  },
  {
    "text": "heuristics god knows if if brave decides",
    "start": "1032480",
    "end": "1035760"
  },
  {
    "text": "to move me to another",
    "start": "1035760",
    "end": "1037760"
  },
  {
    "text": "connection even in a new tab you can you",
    "start": "1037760",
    "end": "1040720"
  },
  {
    "text": "can tell that",
    "start": "1040720",
    "end": "1041678"
  },
  {
    "text": "chromium reuses connection across steps",
    "start": "1041679",
    "end": "1044480"
  },
  {
    "text": "with this right",
    "start": "1044480",
    "end": "1045760"
  },
  {
    "text": "boom refresh show this guy 56 all right",
    "start": "1045760",
    "end": "1049919"
  },
  {
    "text": "now okay i light it doesn't use it",
    "start": "1049919",
    "end": "1053039"
  },
  {
    "start": "1050000",
    "end": "1380000"
  },
  {
    "text": "so 56 see it does use it it does use it",
    "start": "1053039",
    "end": "1056000"
  },
  {
    "text": "i take that back see",
    "start": "1056000",
    "end": "1057520"
  },
  {
    "text": "all right this is round round",
    "start": "1057520",
    "end": "1061360"
  },
  {
    "text": "round round",
    "start": "1061360",
    "end": "1064720"
  },
  {
    "text": "okay round robin all right guys",
    "start": "1064880",
    "end": "1070000"
  },
  {
    "text": "now let's show how to do random",
    "start": "1070240",
    "end": "1073440"
  },
  {
    "text": "the random one is is interesting right",
    "start": "1073440",
    "end": "1076320"
  },
  {
    "text": "because",
    "start": "1076320",
    "end": "1077120"
  },
  {
    "text": "randomly 33 of the time i wanted to go",
    "start": "1077120",
    "end": "1080480"
  },
  {
    "text": "to this server",
    "start": "1080480",
    "end": "1081679"
  },
  {
    "text": "33 of the time i wanted to go to the",
    "start": "1081679",
    "end": "1083760"
  },
  {
    "text": "server or 70 percent of the time i",
    "start": "1083760",
    "end": "1085360"
  },
  {
    "text": "wanted to go this effort so how do you",
    "start": "1085360",
    "end": "1087039"
  },
  {
    "text": "do this right first of all if you do",
    "start": "1087039",
    "end": "1090000"
  },
  {
    "text": "sudo iptable",
    "start": "1090000",
    "end": "1091600"
  },
  {
    "text": "dash dash table nat list",
    "start": "1091600",
    "end": "1095840"
  },
  {
    "text": "now we're gonna remove this stuff",
    "start": "1095840",
    "end": "1097919"
  },
  {
    "text": "because we're gonna add in",
    "start": "1097919",
    "end": "1099520"
  },
  {
    "text": "three new rules",
    "start": "1099520",
    "end": "1102559"
  },
  {
    "text": "right so we need to delete that stuff so",
    "start": "1102559",
    "end": "1104480"
  },
  {
    "text": "here's a new command that",
    "start": "1104480",
    "end": "1105840"
  },
  {
    "text": "we're gonna learn again guys we always",
    "start": "1105840",
    "end": "1108320"
  },
  {
    "text": "learn stuff",
    "start": "1108320",
    "end": "1109440"
  },
  {
    "text": "when we need it don't memorize commands",
    "start": "1109440",
    "end": "1112640"
  },
  {
    "text": "uh of ip tables because you're gonna get",
    "start": "1112640",
    "end": "1114799"
  },
  {
    "text": "lost right when you try to do something",
    "start": "1114799",
    "end": "1117200"
  },
  {
    "text": "learn it i am doing exactly the same",
    "start": "1117200",
    "end": "1119840"
  },
  {
    "text": "thing",
    "start": "1119840",
    "end": "1120240"
  },
  {
    "text": "i learned this command literally today",
    "start": "1120240",
    "end": "1122720"
  },
  {
    "text": "okay so how do i",
    "start": "1122720",
    "end": "1124559"
  },
  {
    "text": "delete a rule well you can delete the",
    "start": "1124559",
    "end": "1126799"
  },
  {
    "text": "rule of number but there are three",
    "start": "1126799",
    "end": "1128640"
  },
  {
    "text": "so i want to delete all the rules in",
    "start": "1128640",
    "end": "1130480"
  },
  {
    "text": "this chain how to do that",
    "start": "1130480",
    "end": "1131919"
  },
  {
    "text": "very simple you do i want to delete all",
    "start": "1131919",
    "end": "1135120"
  },
  {
    "text": "the rules in the pre-routing because",
    "start": "1135120",
    "end": "1136960"
  },
  {
    "text": "the pre-routing will change from",
    "start": "1136960",
    "end": "1138720"
  },
  {
    "text": "round-robin to random how to do that",
    "start": "1138720",
    "end": "1141360"
  },
  {
    "text": "very simple discount so you do sudo",
    "start": "1141360",
    "end": "1144080"
  },
  {
    "text": "iptables",
    "start": "1144080",
    "end": "1145919"
  },
  {
    "text": "table net and then i want to flush but",
    "start": "1145919",
    "end": "1148160"
  },
  {
    "text": "don't flush everything",
    "start": "1148160",
    "end": "1149600"
  },
  {
    "text": "only flush the pre routing",
    "start": "1149600",
    "end": "1152799"
  },
  {
    "text": "if you don't add this right",
    "start": "1152799",
    "end": "1156160"
  },
  {
    "text": "it will flush the whole table i don't",
    "start": "1156160",
    "end": "1157760"
  },
  {
    "text": "want to flush the whole table i need my",
    "start": "1157760",
    "end": "1159280"
  },
  {
    "text": "post",
    "start": "1159280",
    "end": "1160160"
  },
  {
    "text": "routing snat this is not does not change",
    "start": "1160160",
    "end": "1163919"
  },
  {
    "text": "regardless right",
    "start": "1163919",
    "end": "1165520"
  },
  {
    "text": "boom sudo ip tables dash dash",
    "start": "1165520",
    "end": "1170160"
  },
  {
    "text": "natto this list and then here look at",
    "start": "1170160",
    "end": "1173679"
  },
  {
    "text": "this",
    "start": "1173679",
    "end": "1174400"
  },
  {
    "text": "look at this beautiful so no more",
    "start": "1174400",
    "end": "1177520"
  },
  {
    "text": "pre-routing",
    "start": "1177520",
    "end": "1178640"
  },
  {
    "text": "we have all the beautiful post loader",
    "start": "1178640",
    "end": "1180480"
  },
  {
    "text": "beautiful post routing so good",
    "start": "1180480",
    "end": "1182320"
  },
  {
    "text": "next we need to add the rules let's see",
    "start": "1182320",
    "end": "1185120"
  },
  {
    "text": "if we can cheat",
    "start": "1185120",
    "end": "1187280"
  },
  {
    "text": "but go go the boy back to this because i",
    "start": "1187280",
    "end": "1189840"
  },
  {
    "text": "don't want to rewrite the whole thing",
    "start": "1189840",
    "end": "1191120"
  },
  {
    "text": "again",
    "start": "1191120",
    "end": "1192080"
  },
  {
    "text": "all right yep there you go so",
    "start": "1192080",
    "end": "1195120"
  },
  {
    "text": "here's what i'm going to do guys using",
    "start": "1195120",
    "end": "1197440"
  },
  {
    "text": "that",
    "start": "1197440",
    "end": "1199679"
  },
  {
    "text": "there you go so",
    "start": "1200240",
    "end": "1203600"
  },
  {
    "text": "it's the same rule exactly we're even",
    "start": "1203600",
    "end": "1205440"
  },
  {
    "text": "going to use the same module the",
    "start": "1205440",
    "end": "1207120"
  },
  {
    "text": "matching",
    "start": "1207120",
    "end": "1208159"
  },
  {
    "text": "statistics here how do you zoom like",
    "start": "1208159",
    "end": "1210640"
  },
  {
    "text": "that",
    "start": "1210640",
    "end": "1211600"
  },
  {
    "text": "but we're not going to use",
    "start": "1211600",
    "end": "1214640"
  },
  {
    "text": "this garbage",
    "start": "1214640",
    "end": "1218159"
  },
  {
    "text": "we change the mood to random from nth",
    "start": "1218559",
    "end": "1221760"
  },
  {
    "text": "and we're going to add a new parameter",
    "start": "1221760",
    "end": "1223520"
  },
  {
    "text": "called pro",
    "start": "1223520",
    "end": "1226120"
  },
  {
    "text": "probability is how is for probability",
    "start": "1226120",
    "end": "1229679"
  },
  {
    "text": "probability pro probability",
    "start": "1229679",
    "end": "1232960"
  },
  {
    "text": "my friend prop got some ability",
    "start": "1232960",
    "end": "1236400"
  },
  {
    "text": "that's how i memorize things just like",
    "start": "1236400",
    "end": "1237919"
  },
  {
    "text": "the michael scott in the office",
    "start": "1237919",
    "end": "1241200"
  },
  {
    "text": "probability so for the probability",
    "start": "1241200",
    "end": "1244480"
  },
  {
    "text": "33 percent of the time right",
    "start": "1244480",
    "end": "1248080"
  },
  {
    "text": "i want you to evaluate this rule and so",
    "start": "1248080",
    "end": "1251280"
  },
  {
    "text": "it's all random right 33 of the term",
    "start": "1251280",
    "end": "1253840"
  },
  {
    "text": "evaluated",
    "start": "1253840",
    "end": "1254799"
  },
  {
    "text": "that means 66 of the term don't evaluate",
    "start": "1254799",
    "end": "1257600"
  },
  {
    "text": "it",
    "start": "1257600",
    "end": "1258000"
  },
  {
    "text": "so 66 of the time this rule will be",
    "start": "1258000",
    "end": "1261120"
  },
  {
    "text": "skipped",
    "start": "1261120",
    "end": "1261679"
  },
  {
    "text": "and go to the next one and now that's",
    "start": "1261679",
    "end": "1263919"
  },
  {
    "text": "when you have to balance",
    "start": "1263919",
    "end": "1265760"
  },
  {
    "text": "then 66 between the two rules right",
    "start": "1265760",
    "end": "1268799"
  },
  {
    "text": "that means you have to split the second",
    "start": "1268799",
    "end": "1270880"
  },
  {
    "text": "60 percent",
    "start": "1270880",
    "end": "1271919"
  },
  {
    "text": "to 50 which gives it 33 if you want",
    "start": "1271919",
    "end": "1274799"
  },
  {
    "text": "exact load balancing right",
    "start": "1274799",
    "end": "1277039"
  },
  {
    "text": "all right i think that i think that's it",
    "start": "1277039",
    "end": "1278559"
  },
  {
    "text": "that's it literally",
    "start": "1278559",
    "end": "1280080"
  },
  {
    "text": "i don't think you need to see anything",
    "start": "1280080",
    "end": "1282559"
  },
  {
    "text": "we're changing this is",
    "start": "1282559",
    "end": "1283600"
  },
  {
    "text": "part three let's just change this to uh",
    "start": "1283600",
    "end": "1286720"
  },
  {
    "text": "port uh service one boom",
    "start": "1286720",
    "end": "1291039"
  },
  {
    "text": "now for",
    "start": "1292000",
    "end": "1295360"
  },
  {
    "text": "service 2 now it's going to sound odd",
    "start": "1295600",
    "end": "1298640"
  },
  {
    "text": "if i say if i say 33 that's wrong",
    "start": "1298640",
    "end": "1302320"
  },
  {
    "text": "no wrong you can do it but it's going to",
    "start": "1302320",
    "end": "1304559"
  },
  {
    "text": "be 33",
    "start": "1304559",
    "end": "1306799"
  },
  {
    "text": "off the 60 does that make sense because",
    "start": "1306799",
    "end": "1309520"
  },
  {
    "text": "remember",
    "start": "1309520",
    "end": "1310480"
  },
  {
    "text": "this rule will be evaluated first",
    "start": "1310480",
    "end": "1311919"
  },
  {
    "text": "because this is order right",
    "start": "1311919",
    "end": "1314080"
  },
  {
    "text": "and 66 of the time they were not going",
    "start": "1314080",
    "end": "1316799"
  },
  {
    "text": "to evaluate it so this rule is going to",
    "start": "1316799",
    "end": "1318640"
  },
  {
    "text": "get 66",
    "start": "1318640",
    "end": "1320320"
  },
  {
    "text": "of the remaining packets so you want",
    "start": "1320320",
    "end": "1323600"
  },
  {
    "text": "you if you said 33 that means 33 of the",
    "start": "1323600",
    "end": "1326880"
  },
  {
    "text": "66",
    "start": "1326880",
    "end": "1328320"
  },
  {
    "text": "evaluate that so so you're gonna get",
    "start": "1328320",
    "end": "1330159"
  },
  {
    "text": "essentially the third i don't know",
    "start": "1330159",
    "end": "1332159"
  },
  {
    "text": "so you don't want that you want 50 of",
    "start": "1332159",
    "end": "1335120"
  },
  {
    "text": "the time",
    "start": "1335120",
    "end": "1336320"
  },
  {
    "text": "these 66 percent that exactly give you",
    "start": "1336320",
    "end": "1338960"
  },
  {
    "text": "33 percent",
    "start": "1338960",
    "end": "1340000"
  },
  {
    "text": "right so and then the final rule will",
    "start": "1340000",
    "end": "1342559"
  },
  {
    "text": "get the remaining which is 33",
    "start": "1342559",
    "end": "1344559"
  },
  {
    "text": "giving you a full 100 right that's",
    "start": "1344559",
    "end": "1347520"
  },
  {
    "text": "that's how you do exactly if you if you",
    "start": "1347520",
    "end": "1349520"
  },
  {
    "text": "want to",
    "start": "1349520",
    "end": "1350320"
  },
  {
    "text": "essentially right and that's it boom and",
    "start": "1350320",
    "end": "1352799"
  },
  {
    "text": "then the last one",
    "start": "1352799",
    "end": "1353760"
  },
  {
    "text": "just like the um just like",
    "start": "1353760",
    "end": "1356960"
  },
  {
    "text": "the uh",
    "start": "1356960",
    "end": "1359919"
  },
  {
    "text": "round robin we don't need any of this",
    "start": "1360000",
    "end": "1361679"
  },
  {
    "text": "garbage we don't need any evaluation",
    "start": "1361679",
    "end": "1363520"
  },
  {
    "text": "just leave it all all naked",
    "start": "1363520",
    "end": "1367520"
  },
  {
    "text": "no matches because at the end of the day",
    "start": "1367520",
    "end": "1370799"
  },
  {
    "text": "this is where like",
    "start": "1370799",
    "end": "1371919"
  },
  {
    "text": "this is the chicken chicken this is the",
    "start": "1371919",
    "end": "1374480"
  },
  {
    "text": "kitchen sink",
    "start": "1374480",
    "end": "1375440"
  },
  {
    "text": "not the chicken sink it's a kitchen sink",
    "start": "1375440",
    "end": "1378400"
  },
  {
    "text": "okay",
    "start": "1378400",
    "end": "1378960"
  },
  {
    "text": "this is the kitchen's like at the end of",
    "start": "1378960",
    "end": "1380240"
  },
  {
    "start": "1380000",
    "end": "1560000"
  },
  {
    "text": "the day everything goes there",
    "start": "1380240",
    "end": "1382799"
  },
  {
    "text": "boom ganzo",
    "start": "1382799",
    "end": "1386159"
  },
  {
    "text": "danzo disco",
    "start": "1386159",
    "end": "1389120"
  },
  {
    "text": "random three one boom one",
    "start": "1391919",
    "end": "1395039"
  },
  {
    "text": "one one one one two",
    "start": "1395039",
    "end": "1398080"
  },
  {
    "text": "three one you get the idea i guess",
    "start": "1398080",
    "end": "1401919"
  },
  {
    "text": "that's the random guys i'm gonna",
    "start": "1401919",
    "end": "1403520"
  },
  {
    "text": "reference all these",
    "start": "1403520",
    "end": "1404880"
  },
  {
    "text": "commands in the uh comment section below",
    "start": "1404880",
    "end": "1407919"
  },
  {
    "text": "for you guys",
    "start": "1407919",
    "end": "1409600"
  },
  {
    "text": "to explore and play with but if you now",
    "start": "1409600",
    "end": "1412799"
  },
  {
    "text": "refresh this thing",
    "start": "1412799",
    "end": "1414480"
  },
  {
    "text": "now this is supposed to be random",
    "start": "1414480",
    "end": "1416320"
  },
  {
    "text": "obviously uh since we are at",
    "start": "1416320",
    "end": "1418559"
  },
  {
    "text": "a tcp kernel",
    "start": "1418559",
    "end": "1422320"
  },
  {
    "text": "load balancing i hate the word load",
    "start": "1422320",
    "end": "1424960"
  },
  {
    "text": "bench because",
    "start": "1424960",
    "end": "1425919"
  },
  {
    "text": "it's not a really load balancer right",
    "start": "1425919",
    "end": "1428559"
  },
  {
    "text": "you need",
    "start": "1428559",
    "end": "1429760"
  },
  {
    "text": "application layer knowledge knowledge",
    "start": "1429760",
    "end": "1433520"
  },
  {
    "text": "toilet paste you need knowledge and",
    "start": "1433520",
    "end": "1435760"
  },
  {
    "text": "layer seven to actually",
    "start": "1435760",
    "end": "1437840"
  },
  {
    "text": "do smart load balancing this is download",
    "start": "1437840",
    "end": "1440640"
  },
  {
    "text": "balancing",
    "start": "1440640",
    "end": "1441360"
  },
  {
    "text": "right this is just at a packet level you",
    "start": "1441360",
    "end": "1443600"
  },
  {
    "text": "just okay go to this connection this is",
    "start": "1443600",
    "end": "1445520"
  },
  {
    "text": "connection level",
    "start": "1445520",
    "end": "1447039"
  },
  {
    "text": "uh load balancing right it's not smart",
    "start": "1447039",
    "end": "1449600"
  },
  {
    "text": "by answer that's why people",
    "start": "1449600",
    "end": "1450880"
  },
  {
    "text": "prefer layer seven you need to terminate",
    "start": "1450880",
    "end": "1453039"
  },
  {
    "text": "everything look at the content",
    "start": "1453039",
    "end": "1455279"
  },
  {
    "text": "measure you need health checks so actual",
    "start": "1455279",
    "end": "1458080"
  },
  {
    "text": "proxy and load balancing are",
    "start": "1458080",
    "end": "1460080"
  },
  {
    "text": "are critical and difficult to build",
    "start": "1460080",
    "end": "1463200"
  },
  {
    "text": "right so uh what's the",
    "start": "1463200",
    "end": "1467679"
  },
  {
    "text": "what's cloud flares let me let me get it",
    "start": "1467679",
    "end": "1470080"
  },
  {
    "text": "cloud flare",
    "start": "1470080",
    "end": "1472559"
  },
  {
    "text": "uh kernel load balancer tcp something",
    "start": "1472559",
    "end": "1476159"
  },
  {
    "text": "like that",
    "start": "1476159",
    "end": "1477600"
  },
  {
    "text": "yeah there you go it's called onimong",
    "start": "1477600",
    "end": "1481039"
  },
  {
    "text": "onimong i made a video about this unimog",
    "start": "1481039",
    "end": "1485840"
  },
  {
    "text": "cloudflare edge load balancer this is",
    "start": "1485840",
    "end": "1487840"
  },
  {
    "text": "actually a kernel",
    "start": "1487840",
    "end": "1489600"
  },
  {
    "text": "it's a layer for load balancer and it's",
    "start": "1489600",
    "end": "1491840"
  },
  {
    "text": "a kernel load balancer it plays at the",
    "start": "1491840",
    "end": "1493840"
  },
  {
    "text": "packet level",
    "start": "1493840",
    "end": "1494960"
  },
  {
    "text": "and boy they made it so they made it a",
    "start": "1494960",
    "end": "1498159"
  },
  {
    "text": "kernel so it's just so fast and it's so",
    "start": "1498159",
    "end": "1502559"
  },
  {
    "text": "uh powerful because they have access to",
    "start": "1502559",
    "end": "1506080"
  },
  {
    "text": "this networking stack",
    "start": "1506080",
    "end": "1507600"
  },
  {
    "text": "and and they do it i encourage you to",
    "start": "1507600",
    "end": "1510159"
  },
  {
    "text": "read this article and i'm glad you watch",
    "start": "1510159",
    "end": "1511760"
  },
  {
    "text": "my video on it",
    "start": "1511760",
    "end": "1513200"
  },
  {
    "text": "man this is this this makes nginx looks",
    "start": "1513200",
    "end": "1516880"
  },
  {
    "text": "like the tutorial",
    "start": "1516880",
    "end": "1518000"
  },
  {
    "text": "boss and and this is essentially the",
    "start": "1518000",
    "end": "1520480"
  },
  {
    "text": "final boss",
    "start": "1520480",
    "end": "1521360"
  },
  {
    "text": "if that if that the gamer analogy",
    "start": "1521360",
    "end": "1524960"
  },
  {
    "text": "makes sense here but this is a badass",
    "start": "1524960",
    "end": "1527919"
  },
  {
    "text": "this is badass lord basma",
    "start": "1527919",
    "end": "1529520"
  },
  {
    "text": "all right guys that is it for me today",
    "start": "1529520",
    "end": "1531919"
  },
  {
    "text": "uh hope you enjoyed this video",
    "start": "1531919",
    "end": "1533760"
  },
  {
    "text": "i'm gonna see you on the next one hit",
    "start": "1533760",
    "end": "1535279"
  },
  {
    "text": "that subscribe button and then",
    "start": "1535279",
    "end": "1537279"
  },
  {
    "text": "and hit that like button uh to support",
    "start": "1537279",
    "end": "1539360"
  },
  {
    "text": "the channel and then",
    "start": "1539360",
    "end": "1540400"
  },
  {
    "text": "check out my uh courses on udemy to",
    "start": "1540400",
    "end": "1543760"
  },
  {
    "text": "support uh",
    "start": "1543760",
    "end": "1544559"
  },
  {
    "text": "the channel they will really help",
    "start": "1544559",
    "end": "1545760"
  },
  {
    "text": "support the channel and uh there are i",
    "start": "1545760",
    "end": "1548000"
  },
  {
    "text": "took",
    "start": "1548000",
    "end": "1548320"
  },
  {
    "text": "uh i have a course on an introduction to",
    "start": "1548320",
    "end": "1550880"
  },
  {
    "text": "database engineering so that",
    "start": "1550880",
    "end": "1552400"
  },
  {
    "text": "that that's really really popular on",
    "start": "1552400",
    "end": "1554640"
  },
  {
    "text": "udemy so check it out",
    "start": "1554640",
    "end": "1556000"
  },
  {
    "text": "and i'm gonna see you in the next one",
    "start": "1556000",
    "end": "1557600"
  },
  {
    "text": "you guys awesome goodbye yo this",
    "start": "1557600",
    "end": "1561440"
  }
]