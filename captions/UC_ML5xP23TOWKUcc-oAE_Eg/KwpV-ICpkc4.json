[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "in this episode of the back engineering show i'd like to talk about uh a relatively",
    "start": "0",
    "end": "5759"
  },
  {
    "text": "uh turned popular technique called mutual tls or mtls it's not something",
    "start": "5759",
    "end": "13280"
  },
  {
    "text": "new per se because it's it's been there since day one i believe",
    "start": "13280",
    "end": "18720"
  },
  {
    "text": "but it's been popularized by specifically certain use cases related",
    "start": "18720",
    "end": "24320"
  },
  {
    "text": "to microservices and and this is what i want to talk about in order to talk about that obviously we need to talk about what tls",
    "start": "24320",
    "end": "31760"
  },
  {
    "text": "is right what is the current most",
    "start": "31760",
    "end": "36960"
  },
  {
    "text": "you know ubiquitous way of performing authentication in tls",
    "start": "36960",
    "end": "42160"
  },
  {
    "text": "i'm gonna talk about like what kind of disadvantages is associated with that",
    "start": "42160",
    "end": "47440"
  },
  {
    "text": "can i talk about what mtls is what is the mutual tls really is talk about the",
    "start": "47440",
    "end": "53360"
  },
  {
    "text": "advantages problems that it solves and obviously nothing is for you in software engineering you introduce something it",
    "start": "53360",
    "end": "60879"
  },
  {
    "text": "comes with its own its own sets of problems and that's what we're going to talk about we're going to talk about the",
    "start": "60879",
    "end": "66000"
  },
  {
    "text": "disadvantages or things to watch out when you implement mutual tls let's jump into it",
    "start": "66000",
    "end": "72320"
  },
  {
    "text": "welcome to the backend engineering show with your host hussein nelson and this is our long-form in-depth conversation",
    "start": "72320",
    "end": "80000"
  },
  {
    "text": "about one topic uh i like this podcast because",
    "start": "80000",
    "end": "86080"
  },
  {
    "text": "this is the only time where i can take one topic and i go as deep as possible in that topic you",
    "start": "86080",
    "end": "94000"
  },
  {
    "text": "can't do that in in 60 seconds or few minutes you know you need",
    "start": "94000",
    "end": "99680"
  },
  {
    "text": "time to explore these you know options and talking details and and i totally understand some of you are",
    "start": "99680",
    "end": "106159"
  },
  {
    "text": "not fan of this long form content you prefer you know shorter eight to ten minutes video but uh some some of you",
    "start": "106159",
    "end": "114079"
  },
  {
    "text": "are like this kind of long-form content and this is i guess for the for those kind",
    "start": "114079",
    "end": "119520"
  },
  {
    "text": "of people so let's jump into it so we start with discussing what tls",
    "start": "119520",
    "end": "125119"
  },
  {
    "start": "120000",
    "end": "420000"
  },
  {
    "text": "really is transport layers security it was invented to encrypt the communication between",
    "start": "125119",
    "end": "132080"
  },
  {
    "text": "two-party client and server they exchange",
    "start": "132080",
    "end": "139680"
  },
  {
    "text": "symmetric keys using a key exchange algorithm and once the same key",
    "start": "140239",
    "end": "146879"
  },
  {
    "text": "exists in both machines then they use that key to encrypt the",
    "start": "146879",
    "end": "152879"
  },
  {
    "text": "communication any packet they send is encrypted first with that symmetric",
    "start": "152879",
    "end": "158480"
  },
  {
    "text": "key and as a result no one in the middle can actually",
    "start": "158480",
    "end": "163680"
  },
  {
    "text": "see the actual plain text right and even better no one can modify it",
    "start": "163680",
    "end": "171519"
  },
  {
    "text": "because if you did modify anything that's the most you know dangerous thing in the internet you know",
    "start": "171519",
    "end": "178319"
  },
  {
    "text": "that can lead to bad things because if you can go to a site and i change that to",
    "start": "178319",
    "end": "186239"
  },
  {
    "text": "make you go to another site that is very dangerous and this used to happen all the time with plain text unencrypted",
    "start": "186239",
    "end": "194000"
  },
  {
    "text": "http you see if you go to http google.com",
    "start": "194000",
    "end": "199840"
  },
  {
    "text": "in the old days you know a git request will be sent and that get request will be translated to",
    "start": "199840",
    "end": "205920"
  },
  {
    "text": "you know the layer forge becomes a tcp segment before that we",
    "start": "205920",
    "end": "211280"
  },
  {
    "text": "establish the tcp connection once we have that in layer five you know the session file descriptors and all the",
    "start": "211280",
    "end": "217280"
  },
  {
    "text": "session uh variables and session metrics then we move to create a segment you",
    "start": "217280",
    "end": "223360"
  },
  {
    "text": "know and we ship that segment that data is sent into a segment it",
    "start": "223360",
    "end": "228640"
  },
  {
    "text": "depends on the mtu and the size of the segments and how large based on the you know the protocol that we're gonna",
    "start": "228640",
    "end": "237200"
  },
  {
    "text": "and based on the basically the algorithm of slow start how big that initial how",
    "start": "237200",
    "end": "243120"
  },
  {
    "text": "many segments we can send also is controlled by something called the slow start algorithm and the congestion",
    "start": "243120",
    "end": "248959"
  },
  {
    "text": "avoidance and i talk about that in my networking fundamental course",
    "start": "248959",
    "end": "255920"
  },
  {
    "text": "it's right here check it out go to network dot hussein also dot com uh for a discount coupon that link",
    "start": "255920",
    "end": "262240"
  },
  {
    "text": "directs automatically to udemy with that discount uh apply so that get request",
    "start": "262240",
    "end": "267600"
  },
  {
    "text": "will be shoved into a segment and that segment let's assume for simplicity it's just a single segment",
    "start": "267600",
    "end": "273360"
  },
  {
    "text": "that will trouble right it will be into an ip packet it will go through the first your router right my router is out",
    "start": "273360",
    "end": "280160"
  },
  {
    "text": "there that's the first destination you know that also will start to do netting",
    "start": "280160",
    "end": "285919"
  },
  {
    "text": "and it will send it across the internet right and the first thing that it will go",
    "start": "285919",
    "end": "291520"
  },
  {
    "text": "through it will go through my isp right so anything i sent goes through my",
    "start": "291520",
    "end": "296720"
  },
  {
    "text": "isp so my isp is on on path it has to go to it's my gateway to the internet right",
    "start": "296720",
    "end": "304479"
  },
  {
    "text": "the autonomous system of my isp",
    "start": "304479",
    "end": "309840"
  },
  {
    "text": "connects me to the wild wild internet and there are other routers that control that",
    "start": "309840",
    "end": "315440"
  },
  {
    "text": "so the fact that everything i sent goes through my isp that means my isp sees",
    "start": "315440",
    "end": "320560"
  },
  {
    "text": "everything i sent right except if it's encrypted in this case it's not right i'm sending",
    "start": "320560",
    "end": "327039"
  },
  {
    "text": "in the plain text get request going to google so if my isp or",
    "start": "327039",
    "end": "332080"
  },
  {
    "text": "any man in the middle that happened to be on my route",
    "start": "332080",
    "end": "337360"
  },
  {
    "text": "okay sees my data that means they can change it so they can pause that",
    "start": "337360",
    "end": "343680"
  },
  {
    "text": "ipacket instead of actually forwarding it like normal routers will do",
    "start": "343680",
    "end": "349440"
  },
  {
    "text": "they can respond back to me saying hey actually",
    "start": "349440",
    "end": "356319"
  },
  {
    "text": "uh don't",
    "start": "356319",
    "end": "361440"
  },
  {
    "text": "here's where you're supposed to go http code 301 redirect to this website",
    "start": "361440",
    "end": "369759"
  },
  {
    "text": "and this website is owned by the attacker so the fact that you went to google.com you are",
    "start": "370000",
    "end": "375440"
  },
  {
    "text": "redirected to a site that is not google and now you are completely in the",
    "start": "375440",
    "end": "381840"
  },
  {
    "text": "control of the attacker and that act of the redirection is i",
    "start": "381840",
    "end": "387199"
  },
  {
    "text": "establishes another tcp connection and goes through that and and that new site could be encrypted",
    "start": "387199",
    "end": "396160"
  },
  {
    "text": "but the fact that we did not encrypt at the beginning is the problem right so what do we do is we try to always",
    "start": "396160",
    "end": "403360"
  },
  {
    "text": "encrypt the connection first and that's what we use tls for which is awesome right so sending a plain text http is",
    "start": "403360",
    "end": "410479"
  },
  {
    "text": "just a bad idea in general because this could happen right so we invented https so i always start",
    "start": "410479",
    "end": "418319"
  },
  {
    "text": "with https let's always use tls as always encrypt first right so in this",
    "start": "418319",
    "end": "423759"
  },
  {
    "start": "420000",
    "end": "840000"
  },
  {
    "text": "case you establish a communication and everything is encrypted but that's not what",
    "start": "423759",
    "end": "429919"
  },
  {
    "text": "tls is only used for tls actually is used for authentication what does that mean",
    "start": "429919",
    "end": "437120"
  },
  {
    "text": "it means that if you're connected to google.com right how do you know that you actually hit",
    "start": "437120",
    "end": "443280"
  },
  {
    "text": "google.com tls can guarantee that",
    "start": "443280",
    "end": "449039"
  },
  {
    "text": "you see when you establish https connection on http right http",
    "start": "449039",
    "end": "454800"
  },
  {
    "text": "https you do the tcp connection with the server",
    "start": "454800",
    "end": "461120"
  },
  {
    "text": "you got the server then you turn around",
    "start": "461120",
    "end": "466960"
  },
  {
    "text": "and then you do a tls you send the tls hello which",
    "start": "466960",
    "end": "473360"
  },
  {
    "text": "has this key exchange that we talked about and says okay use this algorithm and use this key size and use this and",
    "start": "473360",
    "end": "480800"
  },
  {
    "text": "it has a bunch of parameters and inside that there's something called the sni there's an",
    "start": "480800",
    "end": "486720"
  },
  {
    "text": "extension in the tl it's called sni server name indication that tells you that hey i want to go to",
    "start": "486720",
    "end": "493199"
  },
  {
    "text": "google.com but you might say i'm saying didn't we just do a dns",
    "start": "493199",
    "end": "499120"
  },
  {
    "text": "and i asked for the ips of google isn't that enough not really",
    "start": "499120",
    "end": "504319"
  },
  {
    "text": "for many reasons because once you get that ipad you lost that knowledge that you're connected to google",
    "start": "504319",
    "end": "510000"
  },
  {
    "text": "you're connected to a reverse proxy and then you",
    "start": "510000",
    "end": "515839"
  },
  {
    "text": "will send that sni and from that sni from that",
    "start": "515839",
    "end": "521039"
  },
  {
    "text": "text that says hey i want to connect to google.com in the extension in the tls",
    "start": "521039",
    "end": "528080"
  },
  {
    "text": "the server is responsible to serve you back what we call a certificate",
    "start": "528080",
    "end": "537120"
  },
  {
    "text": "so that certificate contains the name google.com because that's what you requested say okay and it contains",
    "start": "538080",
    "end": "545440"
  },
  {
    "text": "something called a public key and it can contain a signature",
    "start": "545440",
    "end": "550959"
  },
  {
    "text": "and that signature is signed by the private key corresponding to that public key why",
    "start": "550959",
    "end": "557360"
  },
  {
    "text": "because that's the only way we can guarantee that we can ship back that",
    "start": "557360",
    "end": "562480"
  },
  {
    "text": "certificate and if you got the certificate you can verify that this public key actually",
    "start": "562480",
    "end": "570720"
  },
  {
    "text": "participate to this certificate how well you take the public key and you",
    "start": "570720",
    "end": "576959"
  },
  {
    "text": "decrypt that signature and if it verifies correctly that means whoever",
    "start": "576959",
    "end": "582080"
  },
  {
    "text": "signed this might have that must have the private key and now we know that certificate is valid",
    "start": "582080",
    "end": "587839"
  },
  {
    "text": "but that's not enough why because anyone literally can do that you",
    "start": "587839",
    "end": "594480"
  },
  {
    "text": "can create a public key and private key and claim to be facebook.com",
    "start": "594480",
    "end": "600240"
  },
  {
    "text": "and create a certificate as self-signed right",
    "start": "600240",
    "end": "605600"
  },
  {
    "text": "that's not enough to verify that is accurate because it will be",
    "start": "605600",
    "end": "611680"
  },
  {
    "text": "so how do we prevent people from pretending to be facebook right servers preventing from",
    "start": "611680",
    "end": "617440"
  },
  {
    "text": "being google what we do is we rely on a",
    "start": "617440",
    "end": "623839"
  },
  {
    "text": "on a third party on someone higher that can be trusted and that's basically the certificate",
    "start": "623839",
    "end": "630320"
  },
  {
    "text": "authority so what the what google and facebook and",
    "start": "630320",
    "end": "635440"
  },
  {
    "text": "any website does says okay here's my public key right you don't get my private key at all",
    "start": "635440",
    "end": "641600"
  },
  {
    "text": "here's my public key certificate authority you are trusted everywhere in the world",
    "start": "641600",
    "end": "647279"
  },
  {
    "text": "uh please sign this for me so whoever sees the certificate can trust my this",
    "start": "647279",
    "end": "652720"
  },
  {
    "text": "is my actual public key that belongs to google and certificate authorities usually do their due diligence",
    "start": "652720",
    "end": "659360"
  },
  {
    "text": "to check that okay you are actually google i'm gonna put a file in your machine let me try to",
    "start": "659360",
    "end": "666079"
  },
  {
    "text": "access that file and once that happens okay i trust you",
    "start": "666079",
    "end": "671519"
  },
  {
    "text": "i'm gonna use my private ip my private ip address my private",
    "start": "671519",
    "end": "676560"
  },
  {
    "text": "my private key right to",
    "start": "676560",
    "end": "681759"
  },
  {
    "text": "sign your public key and this is a proof and i'm going to",
    "start": "682240",
    "end": "688640"
  },
  {
    "text": "include my public key as a certificate authority and my name and all the information that you can see how big how",
    "start": "688640",
    "end": "694399"
  },
  {
    "text": "large this can get now the question is all right i ship these two pieces of",
    "start": "694399",
    "end": "700399"
  },
  {
    "text": "information to the client and the client will take the certificate i trust the certificate but i don't",
    "start": "700399",
    "end": "705920"
  },
  {
    "text": "trust this public keys belong to google who signed this oh here's part of it",
    "start": "705920",
    "end": "711680"
  },
  {
    "text": "says the name is certificate authority let's oh let me check my certificate store as",
    "start": "711680",
    "end": "718320"
  },
  {
    "text": "a client oh that looks good the certificate authority is right there is",
    "start": "718320",
    "end": "724000"
  },
  {
    "text": "my store let's encrypt is actually trusted that's enough for me i need i don't need",
    "start": "724000",
    "end": "730800"
  },
  {
    "text": "to go any further in the chain that's enough",
    "start": "730800",
    "end": "736320"
  },
  {
    "text": "or that is not enough why because i could not find a",
    "start": "736320",
    "end": "742079"
  },
  {
    "text": "shark encrypt certificate authority on my sir is this really trusted",
    "start": "742079",
    "end": "748480"
  },
  {
    "text": "you who knows because maybe this certificate authority is just not doesn't exist in my cert i'm",
    "start": "748480",
    "end": "754880"
  },
  {
    "text": "an iot device and i don't have a large search store i have only basic things sure okay",
    "start": "754880",
    "end": "761600"
  },
  {
    "text": "the chain that the user sent actually included who signed that certificate",
    "start": "761600",
    "end": "766959"
  },
  {
    "text": "authority and it could be another certificate authority and that could be another certificate of",
    "start": "766959",
    "end": "772639"
  },
  {
    "text": "authority up until we reach the",
    "start": "772639",
    "end": "778000"
  },
  {
    "text": "certificate basically that doesn't have anything above it the root certificate",
    "start": "778000",
    "end": "785040"
  },
  {
    "text": "and once we reach that that must exist in the store if it doesn't exist the client rejects the",
    "start": "785040",
    "end": "791120"
  },
  {
    "text": "certificate and that's basically how the verification happens so",
    "start": "791120",
    "end": "796639"
  },
  {
    "text": "you can see that the chain including the entire chin could be expensive and this is another topic that i'm going to talk",
    "start": "796639",
    "end": "803440"
  },
  {
    "text": "about in another podcast where this certificates are not",
    "start": "803440",
    "end": "809120"
  },
  {
    "text": "actually compressed by default you you receive all these things from the server",
    "start": "809120",
    "end": "814160"
  },
  {
    "text": "and if you understand how networking works these need to be placed into",
    "start": "814160",
    "end": "820320"
  },
  {
    "text": "segments and if they are too large and then to use too small these need to be sent as multiple segments right and as a",
    "start": "820320",
    "end": "827920"
  },
  {
    "text": "result can delay the tls handshake right obviously for two or three and",
    "start": "827920",
    "end": "834560"
  },
  {
    "text": "check who cares but if you're massive you know your scale like a content delivery network that you know adds up",
    "start": "834560",
    "end": "843839"
  },
  {
    "start": "840000",
    "end": "1184000"
  },
  {
    "text": "all right so that's the authentication part so advantages of this",
    "start": "844000",
    "end": "850560"
  },
  {
    "text": "you see you notice that we only authenticated the server you know",
    "start": "850560",
    "end": "856480"
  },
  {
    "text": "the server sends us the certificate and we never send said anything about the client authenticating itself",
    "start": "856480",
    "end": "863279"
  },
  {
    "text": "that's how most of the internet works today we ask to connect to a server and the",
    "start": "863279",
    "end": "869199"
  },
  {
    "text": "server sends us the certificate so we can verify and trust it that's how most communication works and it's very useful",
    "start": "869199",
    "end": "876399"
  },
  {
    "text": "you know because you see if i carried out as an attacker a dns poisoning attack",
    "start": "876399",
    "end": "883760"
  },
  {
    "text": "what is that i intercepted the dns which is mostly",
    "start": "883760",
    "end": "889920"
  },
  {
    "text": "unencrypted until we get doh or dot mainstream",
    "start": "889920",
    "end": "895760"
  },
  {
    "text": "as an attacker assuming i am in root like with starbucks and i did an r poisoning",
    "start": "896240",
    "end": "902800"
  },
  {
    "text": "and i pretended to be the gateway and all the iv packets are now going my way instead",
    "start": "902800",
    "end": "909199"
  },
  {
    "text": "of the actual router so i i am in root i can see and change everything so now if",
    "start": "909199",
    "end": "915279"
  },
  {
    "text": "i see a dns going to google i'm going to immediately answer the the user i'm not going to even",
    "start": "915279",
    "end": "921120"
  },
  {
    "text": "bother sending that dns request so google.com is actually one two three four and one two three",
    "start": "921120",
    "end": "927279"
  },
  {
    "text": "four ips is actually uh run by the server by the attacker",
    "start": "927279",
    "end": "933839"
  },
  {
    "text": "so now the next thing that the user will do is actually establish a tcp connection was",
    "start": "934240",
    "end": "940880"
  },
  {
    "text": "one two three four instead of google's ip address",
    "start": "940880",
    "end": "946720"
  },
  {
    "text": "pretty cool right so now the tcp connection is established because it's just tcp has nothing to do",
    "start": "946720",
    "end": "952399"
  },
  {
    "text": "with authentication hey this is my amp address i'm going to connect to it and i just connect it to the attacker",
    "start": "952399",
    "end": "958240"
  },
  {
    "text": "server okay it's not big deal we didn't exchange anything yet let's continue",
    "start": "958240",
    "end": "964399"
  },
  {
    "text": "the next thing what do i do immediately after tcp i do tls right i send the tls hello",
    "start": "964399",
    "end": "972160"
  },
  {
    "text": "and i say hey i want to connect to google.com again right so this is another the second time we mention",
    "start": "972160",
    "end": "978079"
  },
  {
    "text": "the hostname we actually mentioned it three times if it's http and the first in the",
    "start": "978079",
    "end": "983920"
  },
  {
    "text": "dns the second is the third is the host name and the header http header",
    "start": "983920",
    "end": "990079"
  },
  {
    "text": "so i'm going to include it in this and i server name indication right as a plain text there are efforts",
    "start": "990079",
    "end": "997199"
  },
  {
    "text": "that try to encrypt that esni i think failed right",
    "start": "997199",
    "end": "1003680"
  },
  {
    "text": "get up to the client hello encrypted clan close trying to encrypt all the thing and mostly succeeding i think",
    "start": "1003680",
    "end": "1010560"
  },
  {
    "text": "i don't have much information about that but you can dig deep into that",
    "start": "1010560",
    "end": "1015839"
  },
  {
    "text": "we might talk about it as also in the future so now i sent that i said hey i want to go to google.com i know where i'm going",
    "start": "1015839",
    "end": "1022079"
  },
  {
    "text": "to go i have that stored i want to go to i still need to go to google.com",
    "start": "1022079",
    "end": "1028079"
  },
  {
    "text": "all right that attacker will receive that the attacker will receive a request to",
    "start": "1028079",
    "end": "1034798"
  },
  {
    "text": "establish a secure channel with itself but it is the clients asking for",
    "start": "1034799",
    "end": "1040240"
  },
  {
    "text": "google.com certificate do you think the attacker has that they don't",
    "start": "1040240",
    "end": "1046240"
  },
  {
    "text": "the attacker does not have that right the attacker cannot the attacker",
    "start": "1046240",
    "end": "1053919"
  },
  {
    "text": "can create easily a self-signed certificate claiming to be google.com",
    "start": "1053919",
    "end": "1060240"
  },
  {
    "text": "but the client will immediately reject that because it's self-signed it won't",
    "start": "1060240",
    "end": "1065360"
  },
  {
    "text": "find it in its certificate through and there is no certificate authority that",
    "start": "1065360",
    "end": "1070559"
  },
  {
    "text": "will sign a certificate claiming to be google that is not google right or facebook or",
    "start": "1070559",
    "end": "1076160"
  },
  {
    "text": "anyone and except diginotar which happened like a few years back maybe 10 years ago",
    "start": "1076160",
    "end": "1083200"
  },
  {
    "text": "where certificate authority will i think what compromised and started signing certificates for google and gmail and",
    "start": "1083200",
    "end": "1090640"
  },
  {
    "text": "it was nuts read more about it just type digi not r",
    "start": "1090640",
    "end": "1095760"
  },
  {
    "text": "d i g i not r n or t a r so yeah",
    "start": "1095760",
    "end": "1101840"
  },
  {
    "text": "it's interesting right so that's why certificate authorities are very critical it's like if you got compromised you're done",
    "start": "1101840",
    "end": "1109679"
  },
  {
    "text": "so so the attacker cannot do anything so if the tls session will be aborted",
    "start": "1109679",
    "end": "1117200"
  },
  {
    "text": "and the client will be protected that's why when you ever receive a bad certificate the browser will",
    "start": "1117200",
    "end": "1123200"
  },
  {
    "text": "will give you this word warning warning warning don't click someone tried to hack you",
    "start": "1123200",
    "end": "1129520"
  },
  {
    "text": "blah blah xx star dude don't do this don't enter the site that's why it's bad",
    "start": "1129520",
    "end": "1135120"
  },
  {
    "text": "right to accept bad certificates right uh all right so we're protected what's",
    "start": "1135120",
    "end": "1141600"
  },
  {
    "text": "wrong with this this seems to perfect right seems absolutely perfect",
    "start": "1141600",
    "end": "1148000"
  },
  {
    "text": "until now we're going to get to mtl's what do you guys have it's like let's chill this",
    "start": "1148000",
    "end": "1154400"
  },
  {
    "text": "is a chill podcast okay like why is everyone in a hurry right like okay i",
    "start": "1154400",
    "end": "1160720"
  },
  {
    "text": "tuned out after one minute boring i know i'm boring but yeah just like sometimes you need to",
    "start": "1160720",
    "end": "1167120"
  },
  {
    "text": "chill relax you know yeah what do you have",
    "start": "1167120",
    "end": "1172640"
  },
  {
    "text": "you're just listening to this in the gym you know just relax and do more push-ups",
    "start": "1172640",
    "end": "1179840"
  },
  {
    "text": "okay now the problems with this as it's done today is what if",
    "start": "1180559",
    "end": "1187840"
  },
  {
    "start": "1184000",
    "end": "1740000"
  },
  {
    "text": "uh what if what if the attacker doesn't need to pretend to be as the server",
    "start": "1187840",
    "end": "1194720"
  },
  {
    "text": "imagine this netflix this is actually just happened to me",
    "start": "1194720",
    "end": "1201600"
  },
  {
    "text": "someone someone sent me a text from netflix",
    "start": "1201840",
    "end": "1208320"
  },
  {
    "text": "saying that your payment method has been declined on the same day",
    "start": "1208320",
    "end": "1213919"
  },
  {
    "text": "that netflix charges my account and funny enough i actually changed my",
    "start": "1213919",
    "end": "1219039"
  },
  {
    "text": "payment method two months ago so that was very almost i almost",
    "start": "1219039",
    "end": "1225840"
  },
  {
    "text": "believed it it's like oh your payment has been declined click here to uh",
    "start": "1225840",
    "end": "1231679"
  },
  {
    "text": "re-authenticate or whatever i was like oh really they what i thought i went through i was like",
    "start": "1231679",
    "end": "1239280"
  },
  {
    "text": "you suckers he tried to give me to click and give me my password and it was a",
    "start": "1239280",
    "end": "1244960"
  },
  {
    "text": "cycle netflix.7za",
    "start": "1244960",
    "end": "1248360"
  },
  {
    "text": "that was the site it's like sheesh okay thank god i know",
    "start": "1254400",
    "end": "1260400"
  },
  {
    "text": "if i click nothing will happen you know until i actually put my password but you know",
    "start": "1260400",
    "end": "1266880"
  },
  {
    "text": "i try to as much as possible be not get scared because i understand",
    "start": "1266880",
    "end": "1273280"
  },
  {
    "text": "you know what is gonna happen if i click they get a know my ip address so i would rather",
    "start": "1273280",
    "end": "1279919"
  },
  {
    "text": "do a vpn and then click you know but i also need to make sure that if i click",
    "start": "1279919",
    "end": "1286480"
  },
  {
    "text": "uh no cookies will be sent and i know no none will be right because this site",
    "start": "1286480",
    "end": "1293200"
  },
  {
    "text": "doesn't know me and never visited it before but still to be sure don't click in any links right",
    "start": "1293200",
    "end": "1299520"
  },
  {
    "text": "but also try to understand why you're not clicking on anything actually does that make sense guys it's like i i don't",
    "start": "1299520",
    "end": "1304960"
  },
  {
    "text": "just don't like to tell people like oh just don't click any links i like to explain does that make sense look",
    "start": "1304960",
    "end": "1310480"
  },
  {
    "text": "sometimes it's like okay oh don't put your hands on the fire like why because you're gonna get burned it's like okay",
    "start": "1310480",
    "end": "1317360"
  },
  {
    "text": "that makes sense right but oh don't click because you because they're gonna steal your account",
    "start": "1317360",
    "end": "1323120"
  },
  {
    "text": "right i was like yeah but it's not that easy but it is",
    "start": "1323120",
    "end": "1328400"
  },
  {
    "text": "anyway back to the topic so assume i was you know",
    "start": "1328400",
    "end": "1334320"
  },
  {
    "text": "i was you know tired that day i was like oh okay let me click let me fix all right you click there and then oh",
    "start": "1334320",
    "end": "1341840"
  },
  {
    "text": "password netflix wait a minute why did why did my face i didn't work and i don't mind maybe apple",
    "start": "1341840",
    "end": "1349120"
  },
  {
    "text": "doesn't something's wrong let me put my password and i just sent my username and password",
    "start": "1349120",
    "end": "1357280"
  },
  {
    "text": "to the attacker and the attacker got my credentials what would the attacker do next they",
    "start": "1357280",
    "end": "1363200"
  },
  {
    "text": "would log in or no to my site",
    "start": "1363200",
    "end": "1368320"
  },
  {
    "text": "to netflix on my account and netflix assume no two-factor authentication was",
    "start": "1368320",
    "end": "1374320"
  },
  {
    "text": "enabled in my account right we'll let them in why",
    "start": "1374320",
    "end": "1380159"
  },
  {
    "text": "because they have the password but what happened about all this authentication hussein that you're talking about well",
    "start": "1380159",
    "end": "1387280"
  },
  {
    "text": "the attacker let's assume attackers from i don't know somewhere right russia belarus you know",
    "start": "1387280",
    "end": "1395440"
  },
  {
    "text": "australia anyway from australia i love when i come to the us you know it's like the the s is pronounced i",
    "start": "1395440",
    "end": "1403200"
  },
  {
    "text": "don't know if you if you notice in the americans like strawberry australian",
    "start": "1403200",
    "end": "1409200"
  },
  {
    "text": "you know i don't know maybe it's just this is what i noticed like american versus",
    "start": "1409200",
    "end": "1414240"
  },
  {
    "text": "british random very randomizer but from australia",
    "start": "1414240",
    "end": "1420320"
  },
  {
    "text": "we connect the attack out connect to netflix and netflix trust it right",
    "start": "1420320",
    "end": "1425679"
  },
  {
    "text": "because netflix will send the certificate it's certificate to that",
    "start": "1425679",
    "end": "1430880"
  },
  {
    "text": "account says okay you cannot you can access for sure enter your is there a password username",
    "start": "1430880",
    "end": "1436159"
  },
  {
    "text": "and password boom login it's like yeah oh you're looking from australia what's happened uh it's okay i",
    "start": "1436159",
    "end": "1442400"
  },
  {
    "text": "have relatives in the australia and they have my password and that's very common right people share their password",
    "start": "1442400",
    "end": "1449600"
  },
  {
    "text": "and so they will let you in definitely and someone just entered your account",
    "start": "1449600",
    "end": "1456640"
  },
  {
    "text": "that easy phishing attacks brute force if some if i brute force it into a connection to a postgres database",
    "start": "1457679",
    "end": "1465679"
  },
  {
    "text": "right we see the news all the time i try to brute force public postgres or mongodb or",
    "start": "1465679",
    "end": "1471840"
  },
  {
    "text": "elasticsearch and then they guess the password no because it's not hard",
    "start": "1471840",
    "end": "1477120"
  },
  {
    "text": "and then they are in even if the communication is encrypted",
    "start": "1477120",
    "end": "1482400"
  },
  {
    "text": "because the attacker has served the certificate of the server and the server",
    "start": "1482400",
    "end": "1488559"
  },
  {
    "text": "you know will send that and the client will authenticate says yeah i trust you server the attacker will say yeah i",
    "start": "1488559",
    "end": "1494640"
  },
  {
    "text": "trust you mongodb server yak wink wink and it will let in there is no",
    "start": "1494640",
    "end": "1501919"
  },
  {
    "text": "other way of authentication by default you know and this is this is part of the",
    "start": "1501919",
    "end": "1507679"
  },
  {
    "text": "problem so you can people can access attackers can access this information and read and",
    "start": "1507679",
    "end": "1513679"
  },
  {
    "text": "steal right credential stuffing they found your password somewhere else you know you you",
    "start": "1513679",
    "end": "1520159"
  },
  {
    "text": "used the same password for your bank of america and and pizza hot or thing from",
    "start": "1520159",
    "end": "1525200"
  },
  {
    "text": "pizza hut right password capital p at sswrd1",
    "start": "1525200",
    "end": "1532080"
  },
  {
    "text": "and use that right and then uh you could you logged into",
    "start": "1532080",
    "end": "1538480"
  },
  {
    "text": "your uh pizza hut you logged into pizza out and then someone",
    "start": "1538480",
    "end": "1544159"
  },
  {
    "text": "leaked the database of pizza hut and your password got exposed",
    "start": "1544159",
    "end": "1550000"
  },
  {
    "text": "let's assume they didn't salt or do any fancy things it's right there plain text",
    "start": "1550000",
    "end": "1555120"
  },
  {
    "text": "so yeah they they're going to use that on our other accounts and they're going to log in so this is called credential",
    "start": "1555120",
    "end": "1560400"
  },
  {
    "text": "stuffing so that and they can because there is no other authentication they",
    "start": "1560400",
    "end": "1565840"
  },
  {
    "text": "don't this bank of america doesn't know it's you or not you it's just knows that someone's",
    "start": "1565840",
    "end": "1572559"
  },
  {
    "text": "tried to access it's like we let them in they had the password sure another problem that usually happened",
    "start": "1572559",
    "end": "1579360"
  },
  {
    "text": "was api keys yeah how many times did we hear of someone pushing the their token",
    "start": "1579360",
    "end": "1585840"
  },
  {
    "text": "or api key in github publicly visible that's nasty i did once for sure",
    "start": "1585840",
    "end": "1593760"
  },
  {
    "text": "so if that happens then someone can take that key and impersonate",
    "start": "1593760",
    "end": "1599039"
  },
  {
    "text": "a client making a request to an api gateway that's kind of nasty right",
    "start": "1599039",
    "end": "1604480"
  },
  {
    "text": "so yeah then we have all sorts of problems with this thing with original one-way authentication of",
    "start": "1604480",
    "end": "1611279"
  },
  {
    "text": "tls okay how long was that maybe 20 minutes now we're going to",
    "start": "1611279",
    "end": "1617679"
  },
  {
    "text": "discuss empty else i'm going to put chapters what is this these chapter notes guys",
    "start": "1617679",
    "end": "1622799"
  },
  {
    "text": "don't worry so how do i solve these problems",
    "start": "1622799",
    "end": "1630240"
  },
  {
    "text": "okay one more problem one more problem before we jump into that okay i need to talk about microservices here",
    "start": "1630240",
    "end": "1638720"
  },
  {
    "text": "microservices came into the picture as well we have services you know each service let's assume it's in a",
    "start": "1638799",
    "end": "1645760"
  },
  {
    "text": "container so it has an ip address so we have service a service b service c",
    "start": "1645760",
    "end": "1651039"
  },
  {
    "text": "service d and all these services need to connect to an api gateway about service f and g",
    "start": "1651039",
    "end": "1658320"
  },
  {
    "text": "and x doesn't have any business connecting to this api gateway because it gets it",
    "start": "1658320",
    "end": "1664880"
  },
  {
    "text": "doesn't need to just doesn't need to uh so we might say i'm saying just uh",
    "start": "1664880",
    "end": "1671679"
  },
  {
    "text": "the and and all a to all these services are actually in the same network",
    "start": "1671679",
    "end": "1676960"
  },
  {
    "text": "right why because they it's easier to put them in the same way there's no business even if they are not",
    "start": "1676960",
    "end": "1683360"
  },
  {
    "text": "in the same room they are in different subnets but they still can't communicate with each other it's it's it's one",
    "start": "1683360",
    "end": "1688799"
  },
  {
    "text": "network right at the end of the day so",
    "start": "1688799",
    "end": "1694080"
  },
  {
    "text": "how do you prevent the these services from connecting to",
    "start": "1694080",
    "end": "1700799"
  },
  {
    "text": "the api gateway because they don't have any business connecting to this well you can say hey hardcore the ip",
    "start": "1700799",
    "end": "1707919"
  },
  {
    "text": "address the individual ip address into the your firewall configuration and",
    "start": "1707919",
    "end": "1714960"
  },
  {
    "text": "block any item you can do that you can put only the authentic things that can",
    "start": "1714960",
    "end": "1720480"
  },
  {
    "text": "access the api gateway into a subnet and anything that doesn't into another subnet but that gets complicated as well",
    "start": "1720480",
    "end": "1727600"
  },
  {
    "text": "right i guess you can do it i'm not going to say complicated you can do everything can be",
    "start": "1727600",
    "end": "1732960"
  },
  {
    "text": "solved right but i can't imagine it's like okay what if this needs to access and it's not in",
    "start": "1732960",
    "end": "1738240"
  },
  {
    "text": "the subnet you can you start adding more subnets and stuff like that but",
    "start": "1738240",
    "end": "1743760"
  },
  {
    "start": "1740000",
    "end": "1860000"
  },
  {
    "text": "maybe there is a better way right through whitelisting it's like okay let me",
    "start": "1743760",
    "end": "1749120"
  },
  {
    "text": "here's who can access me and here's who can authenticate with me",
    "start": "1749120",
    "end": "1756799"
  },
  {
    "text": "right so this is another problem that can be solved with mutual tls let's talk about that",
    "start": "1757200",
    "end": "1762880"
  },
  {
    "text": "so mutual tls is not something new it's been there since day one since we",
    "start": "1762880",
    "end": "1768480"
  },
  {
    "text": "released tls okay and the idea is when we establish the tcp connection",
    "start": "1768480",
    "end": "1775200"
  },
  {
    "text": "followed by the tls handshake and then let me get them there",
    "start": "1775200",
    "end": "1781039"
  },
  {
    "text": "and then the server comes back and the server will say okay here's my certificate and by the way",
    "start": "1781039",
    "end": "1787600"
  },
  {
    "text": "i am configured as a backend to ask for your certificate otherwise we can't",
    "start": "1787600",
    "end": "1794559"
  },
  {
    "text": "complete this handshake so here's a request for cert for a client certificate",
    "start": "1794559",
    "end": "1800559"
  },
  {
    "text": "that's what mutual tlss is just asking for client cert",
    "start": "1800559",
    "end": "1808360"
  },
  {
    "text": "nothing fancier than that if the client is providing the certificate and the server is providing",
    "start": "1808960",
    "end": "1815440"
  },
  {
    "text": "the certificate this is called the mutual tls that's what that's the name is",
    "start": "1815440",
    "end": "1821760"
  },
  {
    "text": "so in this case if the server requested a client certificate then the client is",
    "start": "1821760",
    "end": "1828480"
  },
  {
    "text": "forced to provide the certificate right to the server",
    "start": "1828480",
    "end": "1834720"
  },
  {
    "text": "right after that step and the server will receive the client",
    "start": "1834720",
    "end": "1840720"
  },
  {
    "text": "certificate and will do exactly the same thing that the client did with this certificate of the server it will",
    "start": "1840720",
    "end": "1847120"
  },
  {
    "text": "do the chain it will verify that the client identity and maybe you can use the domain name",
    "start": "1847120",
    "end": "1854159"
  },
  {
    "text": "maybe it's going to use something else but it's going to verify it it's going to use this some sort of a search store",
    "start": "1854159",
    "end": "1859679"
  },
  {
    "text": "to verify against that and only those that have been previously trusted before",
    "start": "1859679",
    "end": "1866799"
  },
  {
    "start": "1860000",
    "end": "2220000"
  },
  {
    "text": "in the server will be allowed the tls handshake will",
    "start": "1866799",
    "end": "1872799"
  },
  {
    "text": "be aborted if either the server certificate is rejected",
    "start": "1872799",
    "end": "1878399"
  },
  {
    "text": "or the client's certificate is rejected so it's more secure it's way more secure okay",
    "start": "1878399",
    "end": "1885519"
  },
  {
    "text": "so now this becomes like if you think about i'm saying this is kind of",
    "start": "1885519",
    "end": "1890799"
  },
  {
    "text": "kind of problematic right because we have way more clients than servers that's why it's very hard to",
    "start": "1890799",
    "end": "1897519"
  },
  {
    "text": "implement this in the internet but we're going to come to that in the disadvantages section so now",
    "start": "1897519",
    "end": "1902559"
  },
  {
    "text": "the beauty of this is even if someone stole",
    "start": "1902559",
    "end": "1908399"
  },
  {
    "text": "my password or someone stole my api token or api keys",
    "start": "1908399",
    "end": "1915200"
  },
  {
    "text": "or someone phished me and got my password if they used my password or my api key",
    "start": "1915200",
    "end": "1922640"
  },
  {
    "text": "against the server that supports mutual tls they won't be allowed inside because",
    "start": "1922640",
    "end": "1929039"
  },
  {
    "text": "they need to present a client certificate that has my name in it and my name you can think of it it's just",
    "start": "1929039",
    "end": "1935360"
  },
  {
    "text": "another domain probably and and uh",
    "start": "1935360",
    "end": "1941039"
  },
  {
    "text": "and that will only allowed if you if this if that client is trusted",
    "start": "1941120",
    "end": "1946720"
  },
  {
    "text": "so that is extreme level of security that's pretty good right",
    "start": "1946720",
    "end": "1951760"
  },
  {
    "text": "especially in a tight backend environment where you have control about all of this stuff obviously",
    "start": "1951760",
    "end": "1958480"
  },
  {
    "text": "right so we kind of solve this problem right",
    "start": "1958480",
    "end": "1964240"
  },
  {
    "text": "that's pretty neat microservices yeah it's like",
    "start": "1964240",
    "end": "1969519"
  },
  {
    "text": "i support this kind of clock mutual tls and here's",
    "start": "1969519",
    "end": "1975360"
  },
  {
    "text": "the here are the domains that can connect to me here are the services that can connect connect to me service a",
    "start": "1975360",
    "end": "1981679"
  },
  {
    "text": "service b service c service d and these all could be thought of host names or domains service d and that's it",
    "start": "1981679",
    "end": "1988399"
  },
  {
    "text": "right if a new service was added and required uh an api",
    "start": "1988399",
    "end": "1995039"
  },
  {
    "text": "gateway access then you just basically give it access to that right just",
    "start": "1995039",
    "end": "2002720"
  },
  {
    "text": "sub add that to the search store and make the servers trust that new service",
    "start": "2002720",
    "end": "2008480"
  },
  {
    "text": "as i was editing the video i also thought about this it's very cool if you",
    "start": "2008480",
    "end": "2013519"
  },
  {
    "text": "can add that service and any client",
    "start": "2013519",
    "end": "2019360"
  },
  {
    "text": "that has that cert no matter what network they live on",
    "start": "2019360",
    "end": "2024559"
  },
  {
    "text": "no matter what ip address they have they can access",
    "start": "2024559",
    "end": "2029679"
  },
  {
    "text": "so that's an advantage of this if you do it as a at the network level if you blocked at the network level you would",
    "start": "2029679",
    "end": "2036080"
  },
  {
    "text": "have to do this configuration at the network level so it might get hairy if you implement it at that level but it's",
    "start": "2036080",
    "end": "2043919"
  },
  {
    "text": "better to implement at the higher level so another advantage for mtls back to the value",
    "start": "2043919",
    "end": "2049839"
  },
  {
    "text": "so that is obviously all this requires management it's not for free you know",
    "start": "2049839",
    "end": "2056158"
  },
  {
    "text": "managing certificate is a team worth of effort no one person can",
    "start": "2056159",
    "end": "2062240"
  },
  {
    "text": "do it no and i think it's being tried to be automated but obviously automating something is",
    "start": "2062240",
    "end": "2069358"
  },
  {
    "text": "not enough you need to understand how it works because if it breaks someone needs to fix it",
    "start": "2069359",
    "end": "2074878"
  },
  {
    "text": "right that's why we do all this stuff we try to understand we try to get to the bottom of everything and",
    "start": "2074879",
    "end": "2082480"
  },
  {
    "text": "focus on try here i'm trying to understand these things i don't know everything obviously so it's very",
    "start": "2082639",
    "end": "2088800"
  },
  {
    "text": "interesting and i'm looking here because this these are my notes i have literally just three notes just talking through this not",
    "start": "2088800",
    "end": "2095280"
  },
  {
    "text": "reading anything but yeah so with microservices and now",
    "start": "2095280",
    "end": "2102640"
  },
  {
    "text": "a networking gym i say you guys are just too lazy i wouldn't even allow the tcp connection",
    "start": "2102640",
    "end": "2110320"
  },
  {
    "text": "to be established i'm gonna you can have further network",
    "start": "2110320",
    "end": "2116720"
  },
  {
    "text": "level restriction if you will and",
    "start": "2116720",
    "end": "2122160"
  },
  {
    "text": "i would have agreed with that network engineer it's kind of we're putting",
    "start": "2122160",
    "end": "2129040"
  },
  {
    "text": "what what is this saying right there's a saying here we're uh throwing the baby with the",
    "start": "2129119",
    "end": "2135200"
  },
  {
    "text": "bathwater that's the closest thing i can think of it means like hey instead of",
    "start": "2135200",
    "end": "2141119"
  },
  {
    "text": "hey we have this problem that i don't want this service to connect to this uh right it's like okay why don't you use",
    "start": "2141119",
    "end": "2146800"
  },
  {
    "text": "networking on it was too much complicated and i don't want to right uh here's i throw everything and i'm gonna",
    "start": "2146800",
    "end": "2153119"
  },
  {
    "text": "invent this new mutual theorist thing to solve this right so he's like you throw everything and you you",
    "start": "2153119",
    "end": "2159599"
  },
  {
    "text": "create a new thing instead right yeah you can solve this problem like",
    "start": "2159599",
    "end": "2165440"
  },
  {
    "text": "okay this service cannot access this by using network configurations but again",
    "start": "2165440",
    "end": "2171200"
  },
  {
    "text": "i would imagine there are some limitations to reached",
    "start": "2171200",
    "end": "2177040"
  },
  {
    "text": "why we reach this level and i'm not aware of these limitations right",
    "start": "2177040",
    "end": "2182079"
  },
  {
    "text": "yeah because it's definitely cheaper performance wise",
    "start": "2182079",
    "end": "2188480"
  },
  {
    "text": "and i'm not going to say uh infrastructure",
    "start": "2188480",
    "end": "2194480"
  },
  {
    "text": "maintenance effort to to to prevent really just the connection at all just",
    "start": "2194480",
    "end": "2200880"
  },
  {
    "text": "like block it write it say hey this network this subnet cannot access the api gateway subnet and you can block it",
    "start": "2200880",
    "end": "2207119"
  },
  {
    "text": "you can put in its own you know virtual network so to speak right that's",
    "start": "2207119",
    "end": "2213119"
  },
  {
    "text": "amazon allows you to do that i believe right so you can do all these tricks but i believe there is always an",
    "start": "2213119",
    "end": "2219440"
  },
  {
    "text": "exception and these exceptions are the nastiest one so maybe mutual zlas",
    "start": "2219440",
    "end": "2224960"
  },
  {
    "start": "2220000",
    "end": "2580000"
  },
  {
    "text": "management is easier in that case but i might be wrong there so that gives us to actually the",
    "start": "2224960",
    "end": "2231359"
  },
  {
    "text": "problems of mutual dls what's the disadvantages of mutual tls",
    "start": "2231359",
    "end": "2236560"
  },
  {
    "text": "like sure we have we always trusted the servers",
    "start": "2236560",
    "end": "2242400"
  },
  {
    "text": "but how much expensive it is to trust the clients",
    "start": "2242400",
    "end": "2247520"
  },
  {
    "text": "right how much config do i need to do how much management how much maintenance do i have to do",
    "start": "2247520",
    "end": "2253839"
  },
  {
    "text": "to this client sir to do this mutual tls i can't imagine anything that you need",
    "start": "2253839",
    "end": "2260240"
  },
  {
    "text": "to extra do that definitely have extra cost unless",
    "start": "2260240",
    "end": "2265359"
  },
  {
    "text": "there is a way to somehow uh have the certificate",
    "start": "2265359",
    "end": "2272400"
  },
  {
    "text": "manage cert store be centralized for both servers and",
    "start": "2272400",
    "end": "2277839"
  },
  {
    "text": "clients and i think that might be it how costly is to manage this store",
    "start": "2277839",
    "end": "2286160"
  },
  {
    "text": "updating that reissuing certificate right",
    "start": "2286160",
    "end": "2291359"
  },
  {
    "text": "all of that stuff there's a cost to it sure i guess you can argue that this is",
    "start": "2291359",
    "end": "2297839"
  },
  {
    "text": "the cost of doing business but it's a cost regardless and i would i",
    "start": "2297839",
    "end": "2303119"
  },
  {
    "text": "would i would leave it to the devops engineer who actually deal to with this in day-to-day basis maybe you guys can",
    "start": "2303119",
    "end": "2308960"
  },
  {
    "text": "tell your your war stories or horror stories when it comes to managing certs",
    "start": "2308960",
    "end": "2315760"
  },
  {
    "text": "i don't know if it's hard or not i never did did this before",
    "start": "2315760",
    "end": "2321119"
  },
  {
    "text": "another problem is is we have way more clients than servers",
    "start": "2322079",
    "end": "2328480"
  },
  {
    "text": "so yeah with servers uh",
    "start": "2328480",
    "end": "2332880"
  },
  {
    "text": "we have the certificate store and and we usually trust certificate authorities",
    "start": "2333839",
    "end": "2338880"
  },
  {
    "text": "better and anything that is signed by this certificate that's enough right and if we trust the certificate",
    "start": "2338880",
    "end": "2344880"
  },
  {
    "text": "authority it should be enough right if we have one certificate authority and as long as we have a certificate",
    "start": "2344880",
    "end": "2351040"
  },
  {
    "text": "that should be enough right once you we know that this certificate is signed by the certificate authority",
    "start": "2351040",
    "end": "2357200"
  },
  {
    "text": "and you manage to get a certificate out of the certificate authority",
    "start": "2357200",
    "end": "2363680"
  },
  {
    "text": "which makes me now think about another chain of attack where an attacker",
    "start": "2363680",
    "end": "2369680"
  },
  {
    "text": "managed to spin up a container in the network and requested a certificate",
    "start": "2369680",
    "end": "2375200"
  },
  {
    "text": "from the certificate authority i would imagine because now you need uh",
    "start": "2375200",
    "end": "2382320"
  },
  {
    "text": "to prove i mean how do you prevent that that in itself sounds like has to be",
    "start": "2382320",
    "end": "2388320"
  },
  {
    "text": "done by some some other you know administrative almost",
    "start": "2388320",
    "end": "2394640"
  },
  {
    "text": "uh process you know nobody can just request a certificate otherwise anyone",
    "start": "2394839",
    "end": "2400800"
  },
  {
    "text": "will just request it again they're gonna get it so this is really",
    "start": "2400800",
    "end": "2405839"
  },
  {
    "text": "you know interesting to think about all this stuff and another problem we can think",
    "start": "2405839",
    "end": "2412000"
  },
  {
    "text": "of though even if you have mutual tls right you have mutuality in all your micro",
    "start": "2412000",
    "end": "2418319"
  },
  {
    "text": "services and you have okay a to x services",
    "start": "2418319",
    "end": "2423359"
  },
  {
    "text": "uh have access to the api gateway and only those guys can talk to this",
    "start": "2423359",
    "end": "2429520"
  },
  {
    "text": "and let's say your api gateway got pushed to github or stolen",
    "start": "2430400",
    "end": "2436880"
  },
  {
    "text": "whatever session key got leaked you know and you're an attacker",
    "start": "2436880",
    "end": "2443200"
  },
  {
    "text": "and you now want to use that api key you might say you can't because you're",
    "start": "2443200",
    "end": "2449440"
  },
  {
    "text": "an attacker you can't really just connect to that api gateway",
    "start": "2449440",
    "end": "2454560"
  },
  {
    "text": "internally because you don't have access to it one then you don't have mutual tls but what",
    "start": "2454560",
    "end": "2460319"
  },
  {
    "text": "if i talk to the reverse proxy to the load balancer says hey little dancer",
    "start": "2460319",
    "end": "2468240"
  },
  {
    "text": "here's my api gateway i am i'm outside",
    "start": "2468240",
    "end": "2473520"
  },
  {
    "text": "the network i'm completely outside and i sent a request",
    "start": "2473520",
    "end": "2479359"
  },
  {
    "text": "with a header with an authentication enter with my api get with our stall",
    "start": "2479359",
    "end": "2484960"
  },
  {
    "text": "i don't believe we have mutual tls by default with the reverse proxies publicly right",
    "start": "2485680",
    "end": "2492480"
  },
  {
    "text": "it's like anyone can connect to that public load balancer so if the fact that",
    "start": "2492480",
    "end": "2498800"
  },
  {
    "text": "if we blindly take that request and forward it to an internal microservice",
    "start": "2498800",
    "end": "2505280"
  },
  {
    "text": "that microservice turns around and establishes a tls session",
    "start": "2505280",
    "end": "2510720"
  },
  {
    "text": "with the actual api gateway inside the microservices network",
    "start": "2510720",
    "end": "2517200"
  },
  {
    "text": "and in that point it's trusted so now it's almost like",
    "start": "2517200",
    "end": "2523920"
  },
  {
    "text": "the attacker has been proxied by a trusted mutual tls microservice",
    "start": "2523920",
    "end": "2530480"
  },
  {
    "text": "it's completely useless because how and and this server will be",
    "start": "2530480",
    "end": "2536240"
  },
  {
    "text": "authenticated and though you will you'll retrieve the results from the database and we'll be authenticated and then get back to the",
    "start": "2536240",
    "end": "2542480"
  },
  {
    "text": "respondent the load balancer will respond to the attackers like hey here's your data that you requested",
    "start": "2542480",
    "end": "2547680"
  },
  {
    "text": "cool so mutual theorists is useless in this case right because it's not",
    "start": "2547680",
    "end": "2554079"
  },
  {
    "text": "all the way you know exposed publicly",
    "start": "2554079",
    "end": "2561440"
  },
  {
    "text": "right it's completely useless in this case so you need to find a way to actually",
    "start": "2562839",
    "end": "2570559"
  },
  {
    "text": "have a way to tag the key with certain",
    "start": "2570880",
    "end": "2578880"
  },
  {
    "text": "either ip address or a domain that's so that the load balancer or the reverse proxy can do a little bit or the public",
    "start": "2578880",
    "end": "2586240"
  },
  {
    "start": "2580000",
    "end": "3016000"
  },
  {
    "text": "api gateway if you will right i keep saying api gateway is actually what's exposed the public right",
    "start": "2586240",
    "end": "2592240"
  },
  {
    "text": "while the authentication might happen in a downstream client right",
    "start": "2592240",
    "end": "2598560"
  },
  {
    "text": "so yeah these are some of the problems that i can think of of mutual tls obviously nothing is perfect but",
    "start": "2598560",
    "end": "2605440"
  },
  {
    "text": "i i try to always when there's a new technology like this a new in a sense like it's popularized i",
    "start": "2605440",
    "end": "2612240"
  },
  {
    "text": "tried to think i was like what's what's going to buy this later i'm i'm summarizing this we're going to",
    "start": "2612240",
    "end": "2619359"
  },
  {
    "text": "end this show very soon what can go wrong really because we",
    "start": "2619359",
    "end": "2624480"
  },
  {
    "text": "always you know we are proud as a software engineer when we invent something we all",
    "start": "2624480",
    "end": "2630000"
  },
  {
    "text": "we never almost never talk about the possible disadvantages right",
    "start": "2630000",
    "end": "2635440"
  },
  {
    "text": "you even see it in rfcs right sometimes they talk about this and this okay we know about these current",
    "start": "2635440",
    "end": "2640800"
  },
  {
    "text": "limitations sometimes honestly we just don't know this is an honest thing it's like i we",
    "start": "2640800",
    "end": "2647680"
  },
  {
    "text": "just don't know we just discovered these attacks as we go",
    "start": "2647680",
    "end": "2654400"
  },
  {
    "text": "i mean even if performance wise and optimization",
    "start": "2655040",
    "end": "2660839"
  },
  {
    "text": "enhancements this happens gradually right it's like why do you think we had",
    "start": "2660839",
    "end": "2666280"
  },
  {
    "text": "hdb109 and then uh one o and then one one then we",
    "start": "2666280",
    "end": "2673200"
  },
  {
    "text": "and has this performance that we disabled the header compressions in one one",
    "start": "2673200",
    "end": "2678640"
  },
  {
    "text": "because we couldn't figure out how to solve crime you know crime c-r-i-m-e capital right",
    "start": "2678640",
    "end": "2685440"
  },
  {
    "text": "forgot where it stands for and then we finished db2 and we",
    "start": "2685440",
    "end": "2690560"
  },
  {
    "text": "run into another problem between finish to b3 and quick and now a quick is perfect nobody's",
    "start": "2690560",
    "end": "2695760"
  },
  {
    "text": "everyone is talking perfect but quick best thing ever right and i'm sure a few years if not already",
    "start": "2695760",
    "end": "2701920"
  },
  {
    "text": "there people find limitations and quick limitations needs to be three problems",
    "start": "2701920",
    "end": "2707440"
  },
  {
    "text": "i believe those are there are already problems because quick is built on udp the statelessness of udp is very scary",
    "start": "2707440",
    "end": "2714640"
  },
  {
    "text": "you know replay attacks you know fragmentation ip fragmentations nasty things can happen",
    "start": "2714640",
    "end": "2720640"
  },
  {
    "text": "like that uh protection at the higher level obviously exists",
    "start": "2720640",
    "end": "2726400"
  },
  {
    "text": "but it's all scary when things are stateless because anyone can just send it there is",
    "start": "2726400",
    "end": "2732640"
  },
  {
    "text": "no state persistent in the server like tcp where hey here's your sequences",
    "start": "2732640",
    "end": "2738720"
  },
  {
    "text": "here's where your window size i know you you can just send me something",
    "start": "2738720",
    "end": "2744839"
  },
  {
    "text": "right i need to verify that it exists in my session you know",
    "start": "2744839",
    "end": "2751359"
  },
  {
    "text": "yeah and butcher's dealers is no different i think uh it's good i think it's generally it's",
    "start": "2751680",
    "end": "2757200"
  },
  {
    "text": "very good but i think we should really pay attention to the limitations and",
    "start": "2757200",
    "end": "2762480"
  },
  {
    "text": "not just because something is i guess good doesn't mean we have to always implement it like we can't",
    "start": "2762480",
    "end": "2768800"
  },
  {
    "text": "implement in mutual tales on the internet of luck it's like what",
    "start": "2768800",
    "end": "2774960"
  },
  {
    "text": "doesn't make any sense to be implemented in the whole internet right but",
    "start": "2774960",
    "end": "2780000"
  },
  {
    "text": "certain services might like i can i can see us in the future with my phone somewhere",
    "start": "2780000",
    "end": "2785440"
  },
  {
    "text": "in my pocket i think i can see something like a client certificate per phone",
    "start": "2785440",
    "end": "2791440"
  },
  {
    "text": "or paired device like my mac my phone would have a client cert",
    "start": "2791440",
    "end": "2797200"
  },
  {
    "text": "and i would register this client cert public key prior with netflix and says hey netflix",
    "start": "2797200",
    "end": "2804640"
  },
  {
    "text": "you only these certificates can access you all right these these are my public keys",
    "start": "2804640",
    "end": "2810480"
  },
  {
    "text": "right or maybe i can create a domain and i sign this domain with netflix",
    "start": "2810480",
    "end": "2816480"
  },
  {
    "text": "but then netflix has to manage all this search which is something that they never did obviously they didn't have to",
    "start": "2816480",
    "end": "2822880"
  },
  {
    "text": "but maybe it's more secure right it's just is this is isn't this what passwordless",
    "start": "2822880",
    "end": "2828160"
  },
  {
    "text": "is i don't i didn't read anything about passwordless authentication is this this i maybe it is right",
    "start": "2828160",
    "end": "2833760"
  },
  {
    "text": "because that's that's that looks like this this might be the future right passwordless if this is what passwordless is and it knows something",
    "start": "2833760",
    "end": "2840640"
  },
  {
    "text": "completely different because like hey i can register a certificate on the server and mutual tls",
    "start": "2840640",
    "end": "2846880"
  },
  {
    "text": "is the future right maybe but",
    "start": "2846880",
    "end": "2852720"
  },
  {
    "text": "good luck like having the server support mutual tls and the certificate",
    "start": "2852720",
    "end": "2858079"
  },
  {
    "text": "stores and yeah maybe it will happen but i don't think it's impossible for certain big websites",
    "start": "2858079",
    "end": "2864480"
  },
  {
    "text": "right it's definitely more convenient it's like oh i don't care about passwords anymore",
    "start": "2864480",
    "end": "2870640"
  },
  {
    "text": "credentials tokens bye bye the moment you open your phone if you have physical",
    "start": "2870640",
    "end": "2876880"
  },
  {
    "text": "that physical thing with you that's your key that's your public key and i trust you",
    "start": "2876880",
    "end": "2882640"
  },
  {
    "text": "and you have your private key obviously secure and obviously all of this should go to this",
    "start": "2882640",
    "end": "2888480"
  },
  {
    "text": "what do you what do you call this this chip keep forgetting this hardware stuff i had because i was bugging me i had to",
    "start": "2888480",
    "end": "2895200"
  },
  {
    "text": "google it tpm trusted platform module which is a module that is completely isolated from the os it has its own",
    "start": "2895200",
    "end": "2901680"
  },
  {
    "text": "memory cpu cache and that module is responsible for storing and issuing private keys and all",
    "start": "2901680",
    "end": "2908880"
  },
  {
    "text": "that just so trusted platform module so yeah i would imagine the search will private parts at least private process",
    "start": "2908880",
    "end": "2916240"
  },
  {
    "text": "that's funny the private sections of the certificates will go into the tpm but yeah all of",
    "start": "2916240",
    "end": "2923119"
  },
  {
    "text": "this stuff is fascinating and when i make this you know this shows i i have a very",
    "start": "2923119",
    "end": "2929839"
  },
  {
    "text": "general outline and as i talk i'm surprised by what i'm saying because",
    "start": "2929839",
    "end": "2935200"
  },
  {
    "text": "i'm discovering new things it's so funny because i don't have time anymore to sit down and just talk",
    "start": "2935200",
    "end": "2941680"
  },
  {
    "text": "with kids and the life but it's like it's like when i do these",
    "start": "2941680",
    "end": "2947680"
  },
  {
    "text": "videos it's like i'm having a conversation with someone and as i have a conversation i'm discovering new",
    "start": "2947680",
    "end": "2953040"
  },
  {
    "text": "things and you'll be surprised like i recorded this video like before and i i",
    "start": "2953040",
    "end": "2958400"
  },
  {
    "text": "trashed it because as i was recording i was thinking about all different things and and the videos like can we come it's",
    "start": "2958400",
    "end": "2964480"
  },
  {
    "text": "like what is going on it's like you're all over the place i am all over the place in this video",
    "start": "2964480",
    "end": "2969520"
  },
  {
    "text": "too but a little bit better hope you enjoyed this episode i'm going to see you on the next one again you guys yeah",
    "start": "2969520",
    "end": "2974559"
  },
  {
    "text": "go to network.json.com for a discount coupon on my network fundamentals for effective",
    "start": "2974559",
    "end": "2980559"
  },
  {
    "text": "packing and of course then check out my other courses as well head to head nasa.com there's all the course it supports the",
    "start": "2980559",
    "end": "2986880"
  },
  {
    "text": "show right considering becoming a member becoming a member supports this show there is a",
    "start": "2986880",
    "end": "2993040"
  },
  {
    "text": "over 60 i had i think like an installment so 70 member only exclusive content you get",
    "start": "2993040",
    "end": "2999760"
  },
  {
    "text": "the slides for free you get special badge fancy stuff next to your name you have",
    "start": "2999760",
    "end": "3006000"
  },
  {
    "text": "special icons that you can use in comments and chat gonna see you in the next one you",
    "start": "3006000",
    "end": "3013839"
  },
  {
    "text": "guys stay awesome thank you so much",
    "start": "3013839",
    "end": "3017760"
  }
]