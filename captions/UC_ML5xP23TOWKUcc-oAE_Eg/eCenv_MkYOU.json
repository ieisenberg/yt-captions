[
  {
    "start": "0",
    "end": "540000"
  },
  {
    "text": "in this video we're going to div tool",
    "start": "80",
    "end": "2480"
  },
  {
    "text": "the reddit",
    "start": "2480",
    "end": "3199"
  },
  {
    "text": "website so this is one of the most",
    "start": "3199",
    "end": "4720"
  },
  {
    "text": "requested websites that you guys asked",
    "start": "4720",
    "end": "6640"
  },
  {
    "text": "me to devtool",
    "start": "6640",
    "end": "7759"
  },
  {
    "text": "and this series is basically we pick up",
    "start": "7759",
    "end": "9920"
  },
  {
    "text": "the most popular websites",
    "start": "9920",
    "end": "11599"
  },
  {
    "text": "and we look through devtools for uh",
    "start": "11599",
    "end": "14719"
  },
  {
    "text": "lessons that we can learn as back in",
    "start": "14719",
    "end": "16560"
  },
  {
    "text": "engineering frontend engineers",
    "start": "16560",
    "end": "18560"
  },
  {
    "text": "or flaws in the website itself",
    "start": "18560",
    "end": "21600"
  },
  {
    "text": "that could have been done better",
    "start": "21600",
    "end": "24800"
  },
  {
    "text": "and regardless it's always useful to see",
    "start": "24800",
    "end": "27680"
  },
  {
    "text": "how those",
    "start": "27680",
    "end": "28400"
  },
  {
    "text": "big guys do stuff let's just jump into",
    "start": "28400",
    "end": "32000"
  },
  {
    "text": "it",
    "start": "32000",
    "end": "32320"
  },
  {
    "text": "so the first thing i'm going to do is",
    "start": "32320",
    "end": "34160"
  },
  {
    "text": "open up my",
    "start": "34160",
    "end": "35440"
  },
  {
    "text": "beautiful div tools here network and",
    "start": "35440",
    "end": "38480"
  },
  {
    "text": "then i'm going to type predict.com",
    "start": "38480",
    "end": "40879"
  },
  {
    "text": "and i want you to pay attention to the",
    "start": "40879",
    "end": "43040"
  },
  {
    "text": "moment i hit",
    "start": "43040",
    "end": "44000"
  },
  {
    "text": "enter read it is doing something that",
    "start": "44000",
    "end": "48239"
  },
  {
    "text": "those other guys not do so let this",
    "start": "48239",
    "end": "50960"
  },
  {
    "text": "download",
    "start": "50960",
    "end": "51680"
  },
  {
    "text": "and i am going to",
    "start": "51680",
    "end": "54879"
  },
  {
    "text": "stop right now right lots of requests",
    "start": "54879",
    "end": "59440"
  },
  {
    "text": "and i wanted to pay attention to the",
    "start": "59440",
    "end": "61199"
  },
  {
    "text": "first request because it's very",
    "start": "61199",
    "end": "62960"
  },
  {
    "text": "interesting",
    "start": "62960",
    "end": "63600"
  },
  {
    "text": "look look how much it took right and i",
    "start": "63600",
    "end": "66000"
  },
  {
    "text": "want i want you to pay attention to the",
    "start": "66000",
    "end": "67680"
  },
  {
    "text": "size",
    "start": "67680",
    "end": "68400"
  },
  {
    "text": "of this and guys thank you so much uh",
    "start": "68400",
    "end": "71439"
  },
  {
    "text": "for showing me that there is a size",
    "start": "71439",
    "end": "72799"
  },
  {
    "text": "column",
    "start": "72799",
    "end": "73760"
  },
  {
    "text": "i was i was like an idiot uh going",
    "start": "73760",
    "end": "75759"
  },
  {
    "text": "through the content length and",
    "start": "75759",
    "end": "77680"
  },
  {
    "text": "paste to a third party website to get",
    "start": "77680",
    "end": "79759"
  },
  {
    "text": "the actual link there",
    "start": "79759",
    "end": "81119"
  },
  {
    "text": "this is a time saver so i appreciate it",
    "start": "81119",
    "end": "84000"
  },
  {
    "text": "the first thing i want to pay attention",
    "start": "84000",
    "end": "85520"
  },
  {
    "text": "to is",
    "start": "85520",
    "end": "86560"
  },
  {
    "text": "that reddit website despite me going to",
    "start": "86560",
    "end": "89280"
  },
  {
    "text": "reddit.com itself",
    "start": "89280",
    "end": "91280"
  },
  {
    "text": "it immediately the first request was",
    "start": "91280",
    "end": "93680"
  },
  {
    "text": "made",
    "start": "93680",
    "end": "94320"
  },
  {
    "text": "to www.reddit.com so it knows",
    "start": "94320",
    "end": "98479"
  },
  {
    "text": "in a pre-loaded hsts list that",
    "start": "98479",
    "end": "101520"
  },
  {
    "text": "it should go to this subdomain if the",
    "start": "101520",
    "end": "104720"
  },
  {
    "text": "of the if the root domain was requested",
    "start": "104720",
    "end": "106960"
  },
  {
    "text": "and here's the interesting thing",
    "start": "106960",
    "end": "109040"
  },
  {
    "text": "it was immediately",
    "start": "109040",
    "end": "112079"
  },
  {
    "text": "jump to port 443 and use the https",
    "start": "112079",
    "end": "115840"
  },
  {
    "text": "protocol so the first request",
    "start": "115840",
    "end": "117759"
  },
  {
    "text": "is encrypted we have not seen this in",
    "start": "117759",
    "end": "120880"
  },
  {
    "text": "apple",
    "start": "120880",
    "end": "121680"
  },
  {
    "text": "we have not seen this on youtube we have",
    "start": "121680",
    "end": "124159"
  },
  {
    "text": "not seen this",
    "start": "124159",
    "end": "125280"
  },
  {
    "text": "with google itself i'm not sure what's",
    "start": "125280",
    "end": "127200"
  },
  {
    "text": "going on with the other website right",
    "start": "127200",
    "end": "128959"
  },
  {
    "text": "let's just quickly show you guys why why",
    "start": "128959",
    "end": "131599"
  },
  {
    "text": "why",
    "start": "131599",
    "end": "132720"
  },
  {
    "text": "why make stuff up go to google.com",
    "start": "132720",
    "end": "136239"
  },
  {
    "text": "and then hit enter and look at the first",
    "start": "136239",
    "end": "139520"
  },
  {
    "text": "request",
    "start": "139520",
    "end": "141120"
  },
  {
    "text": "it's a get request http1 one because it",
    "start": "141120",
    "end": "143440"
  },
  {
    "text": "is unencrypted it goes to port 80.",
    "start": "143440",
    "end": "146239"
  },
  {
    "text": "and then you click on that thing it says",
    "start": "146239",
    "end": "148400"
  },
  {
    "text": "hey it's move permanently go to this",
    "start": "148400",
    "end": "150480"
  },
  {
    "text": "site instead",
    "start": "150480",
    "end": "151920"
  },
  {
    "text": "right go to this which is also",
    "start": "151920",
    "end": "154160"
  },
  {
    "text": "unencrypted http",
    "start": "154160",
    "end": "155519"
  },
  {
    "text": "so you close that connection you open a",
    "start": "155519",
    "end": "158080"
  },
  {
    "text": "brand new other connection",
    "start": "158080",
    "end": "159840"
  },
  {
    "text": "only to find out that hey this is also",
    "start": "159840",
    "end": "163040"
  },
  {
    "text": "found",
    "start": "163040",
    "end": "163519"
  },
  {
    "text": "go to this site instead to the https",
    "start": "163519",
    "end": "166879"
  },
  {
    "text": "right they probably do this for a reason",
    "start": "166879",
    "end": "170720"
  },
  {
    "text": "and i personally don't know why right",
    "start": "170720",
    "end": "174400"
  },
  {
    "text": "so let's look at reddit",
    "start": "174400",
    "end": "177519"
  },
  {
    "text": "what is reddit doing so it connected to",
    "start": "177519",
    "end": "180800"
  },
  {
    "text": "an ipad is called 151",
    "start": "180800",
    "end": "182840"
  },
  {
    "text": "101.1 and let's look at the waterfall",
    "start": "182840",
    "end": "188879"
  },
  {
    "text": "so the first thing we did is we",
    "start": "188959",
    "end": "192400"
  },
  {
    "text": "looked up the dns for reddit.com took 14",
    "start": "192400",
    "end": "195120"
  },
  {
    "text": "milliseconds probably i have",
    "start": "195120",
    "end": "197040"
  },
  {
    "text": "thousands of caches now at this point so",
    "start": "197040",
    "end": "199920"
  },
  {
    "text": "it didn't take much",
    "start": "199920",
    "end": "201680"
  },
  {
    "text": "and then the initial connection to that",
    "start": "201680",
    "end": "204159"
  },
  {
    "text": "ip address",
    "start": "204159",
    "end": "205840"
  },
  {
    "text": "took 83 milliseconds and then the ssl",
    "start": "205840",
    "end": "209599"
  },
  {
    "text": "to establish the tls essentially",
    "start": "209599",
    "end": "212159"
  },
  {
    "text": "encryption between",
    "start": "212159",
    "end": "213680"
  },
  {
    "text": "the client moi androidic.com the server",
    "start": "213680",
    "end": "217680"
  },
  {
    "text": "took 53 milliseconds so let's take a",
    "start": "217680",
    "end": "220480"
  },
  {
    "text": "look",
    "start": "220480",
    "end": "221120"
  },
  {
    "text": "what tls version that does reddit use it",
    "start": "221120",
    "end": "225760"
  },
  {
    "text": "if we look",
    "start": "225760",
    "end": "226879"
  },
  {
    "text": "the connection is using tls 1.2 and we",
    "start": "226879",
    "end": "229440"
  },
  {
    "text": "talked about tls 1.2 guys right",
    "start": "229440",
    "end": "231519"
  },
  {
    "text": "ts 1.2 is is slower than ts 1.3 because",
    "start": "231519",
    "end": "236080"
  },
  {
    "text": "it does two round trips instead of one",
    "start": "236080",
    "end": "238959"
  },
  {
    "text": "right",
    "start": "238959",
    "end": "239519"
  },
  {
    "text": "you just have to do double the work so",
    "start": "239519",
    "end": "241360"
  },
  {
    "text": "if those was ts 1.3 this",
    "start": "241360",
    "end": "243519"
  },
  {
    "text": "would have been faster essentially and",
    "start": "243519",
    "end": "245680"
  },
  {
    "text": "more secure obviously",
    "start": "245680",
    "end": "248239"
  },
  {
    "text": "regardless that's not a big deal this is",
    "start": "248239",
    "end": "251439"
  },
  {
    "text": "what is really",
    "start": "251439",
    "end": "254640"
  },
  {
    "text": "really weird let's take a look the",
    "start": "254640",
    "end": "256560"
  },
  {
    "text": "request the first request",
    "start": "256560",
    "end": "258560"
  },
  {
    "text": "to get anything from the reddit website",
    "start": "258560",
    "end": "262160"
  },
  {
    "text": "was stalled for 4.15",
    "start": "262160",
    "end": "265440"
  },
  {
    "text": "seconds and that's just waiting",
    "start": "265440",
    "end": "268720"
  },
  {
    "text": "to receive the first byte so the client",
    "start": "268720",
    "end": "272320"
  },
  {
    "text": "me the user did not see anything",
    "start": "272320",
    "end": "276160"
  },
  {
    "text": "moving and we saw only the loading site",
    "start": "276160",
    "end": "279040"
  },
  {
    "text": "in the browser",
    "start": "279040",
    "end": "280320"
  },
  {
    "text": "for four whole second that's just",
    "start": "280320",
    "end": "284040"
  },
  {
    "text": "unacceptable these days right",
    "start": "284040",
    "end": "287919"
  },
  {
    "text": "now the content that tells me",
    "start": "287919",
    "end": "292400"
  },
  {
    "text": "that first request that we made that get",
    "start": "292400",
    "end": "294639"
  },
  {
    "text": "request was",
    "start": "294639",
    "end": "296240"
  },
  {
    "text": "gone through a process to build the",
    "start": "296240",
    "end": "298880"
  },
  {
    "text": "content in order to serve it",
    "start": "298880",
    "end": "300639"
  },
  {
    "text": "for us right instead of a static page",
    "start": "300639",
    "end": "303360"
  },
  {
    "text": "that is built",
    "start": "303360",
    "end": "304639"
  },
  {
    "text": "now that took four seconds that means",
    "start": "304639",
    "end": "307520"
  },
  {
    "text": "we're",
    "start": "307520",
    "end": "308000"
  },
  {
    "text": "doing server side rendering which is not",
    "start": "308000",
    "end": "310320"
  },
  {
    "text": "necessarily a bad idea",
    "start": "310320",
    "end": "312320"
  },
  {
    "text": "it's just it is taking a long time to",
    "start": "312320",
    "end": "315440"
  },
  {
    "text": "build that thing",
    "start": "315440",
    "end": "316720"
  },
  {
    "text": "and we saw that it's a huge response 378",
    "start": "316720",
    "end": "320400"
  },
  {
    "text": "kilobyte and downloading 378",
    "start": "320400",
    "end": "322639"
  },
  {
    "text": "is not so bad because we did it in under",
    "start": "322639",
    "end": "325600"
  },
  {
    "text": "a second",
    "start": "325600",
    "end": "326520"
  },
  {
    "text": "67 7 17 milliseconds which is",
    "start": "326520",
    "end": "329759"
  },
  {
    "text": "still a lot if you think about it but",
    "start": "329759",
    "end": "332160"
  },
  {
    "text": "not so bad right",
    "start": "332160",
    "end": "333520"
  },
  {
    "text": "so we have downloaded that content and",
    "start": "333520",
    "end": "336160"
  },
  {
    "text": "we have that",
    "start": "336160",
    "end": "337600"
  },
  {
    "text": "but it took almost five seconds to do it",
    "start": "337600",
    "end": "340240"
  },
  {
    "text": "now let's take a look",
    "start": "340240",
    "end": "341840"
  },
  {
    "text": "how could have this been avoided",
    "start": "341840",
    "end": "344960"
  },
  {
    "text": "there must be some sort of a caching",
    "start": "344960",
    "end": "346880"
  },
  {
    "text": "layer that reddit implements",
    "start": "346880",
    "end": "348400"
  },
  {
    "text": "in order to avoid that let's take a look",
    "start": "348400",
    "end": "350240"
  },
  {
    "text": "what server does radius use it",
    "start": "350240",
    "end": "353520"
  },
  {
    "text": "and the response content i want to",
    "start": "353520",
    "end": "357360"
  },
  {
    "text": "take a look and they are using something",
    "start": "357360",
    "end": "359039"
  },
  {
    "text": "called a snoo",
    "start": "359039",
    "end": "360880"
  },
  {
    "text": "serve snoozer and that's when i",
    "start": "360880",
    "end": "364400"
  },
  {
    "text": "look that up it is a dedicated",
    "start": "364400",
    "end": "367440"
  },
  {
    "text": "reddit server so that's it we don't know",
    "start": "367440",
    "end": "370160"
  },
  {
    "text": "anything about this web server",
    "start": "370160",
    "end": "371520"
  },
  {
    "text": "it's called snoo s erv and that's the",
    "start": "371520",
    "end": "374880"
  },
  {
    "text": "web server",
    "start": "374880",
    "end": "375919"
  },
  {
    "text": "that is powering up reddit on the back",
    "start": "375919",
    "end": "378800"
  },
  {
    "text": "end",
    "start": "378800",
    "end": "379520"
  },
  {
    "text": "i'm not talking about proxies here this",
    "start": "379520",
    "end": "381120"
  },
  {
    "text": "is the actual back end",
    "start": "381120",
    "end": "383440"
  },
  {
    "text": "and they allowed us to peek at this",
    "start": "383440",
    "end": "386319"
  },
  {
    "text": "server",
    "start": "386319",
    "end": "386800"
  },
  {
    "text": "obviously this uh these are a set of",
    "start": "386800",
    "end": "388400"
  },
  {
    "text": "cookies not important",
    "start": "388400",
    "end": "389919"
  },
  {
    "text": "and look at this beautiful thing veya",
    "start": "389919",
    "end": "393039"
  },
  {
    "text": "1.1 varnish and i talked about varnish",
    "start": "393039",
    "end": "396479"
  },
  {
    "text": "guys",
    "start": "396479",
    "end": "396960"
  },
  {
    "text": "varnish is a reverse proxy caching",
    "start": "396960",
    "end": "400800"
  },
  {
    "text": "layer and i talked about it here",
    "start": "400800",
    "end": "404160"
  },
  {
    "text": "check out the varnish video if you want",
    "start": "404160",
    "end": "405680"
  },
  {
    "text": "to learn more about it and i",
    "start": "405680",
    "end": "407199"
  },
  {
    "text": "made a core course about varnish so",
    "start": "407199",
    "end": "409599"
  },
  {
    "text": "varnish is being used",
    "start": "409599",
    "end": "411120"
  },
  {
    "text": "by reddit and i have absolutely no idea",
    "start": "411120",
    "end": "414400"
  },
  {
    "text": "why varnish is not kicking in and",
    "start": "414400",
    "end": "416639"
  },
  {
    "text": "caching this",
    "start": "416639",
    "end": "418240"
  },
  {
    "text": "am i getting served actual cached",
    "start": "418240",
    "end": "420720"
  },
  {
    "text": "content",
    "start": "420720",
    "end": "421520"
  },
  {
    "text": "and in that case why is it taking four",
    "start": "421520",
    "end": "424720"
  },
  {
    "text": "seconds to serve that cache",
    "start": "424720",
    "end": "427759"
  },
  {
    "text": "right that tells me there is a severe",
    "start": "427759",
    "end": "431120"
  },
  {
    "text": "bottleneck either in varnish or in the",
    "start": "431120",
    "end": "433919"
  },
  {
    "text": "back in itself",
    "start": "433919",
    "end": "434720"
  },
  {
    "text": "and the fact that we actually saw the",
    "start": "434720",
    "end": "438160"
  },
  {
    "text": "snooze servers new serv that",
    "start": "438160",
    "end": "441680"
  },
  {
    "text": "tells me that they actually that my",
    "start": "441680",
    "end": "443840"
  },
  {
    "text": "request made it all the way to the back",
    "start": "443840",
    "end": "445680"
  },
  {
    "text": "end",
    "start": "445680",
    "end": "446080"
  },
  {
    "text": "right so there was multiple hops to get",
    "start": "446080",
    "end": "449520"
  },
  {
    "text": "to the back end essentially right i",
    "start": "449520",
    "end": "450880"
  },
  {
    "text": "would show that it's actually compressed",
    "start": "450880",
    "end": "452240"
  },
  {
    "text": "guys right",
    "start": "452240",
    "end": "453199"
  },
  {
    "text": "guys we're compressing this thing it's",
    "start": "453199",
    "end": "454800"
  },
  {
    "text": "gzipped right so",
    "start": "454800",
    "end": "457039"
  },
  {
    "text": "that tells this the response is content",
    "start": "457039",
    "end": "460400"
  },
  {
    "text": "encoding but the request did the request",
    "start": "460400",
    "end": "464400"
  },
  {
    "text": "the request from us",
    "start": "464400",
    "end": "467520"
  },
  {
    "text": "as chrome client clearly defined that",
    "start": "467520",
    "end": "471039"
  },
  {
    "text": "hey",
    "start": "471039",
    "end": "471680"
  },
  {
    "text": "as a client i support gzip deflate or",
    "start": "471680",
    "end": "475039"
  },
  {
    "text": "braille i think br i forgot what's",
    "start": "475039",
    "end": "477199"
  },
  {
    "text": "called br broadly",
    "start": "477199",
    "end": "478800"
  },
  {
    "text": "we got to do the homework broadly",
    "start": "478800",
    "end": "481919"
  },
  {
    "text": "all right so that's the server came back",
    "start": "481919",
    "end": "484319"
  },
  {
    "text": "and says okay",
    "start": "484319",
    "end": "485280"
  },
  {
    "text": "from whatever you support i support gzip",
    "start": "485280",
    "end": "487440"
  },
  {
    "text": "and whatever you're gonna get back",
    "start": "487440",
    "end": "489280"
  },
  {
    "text": "is gzipped right and we didn't obviously",
    "start": "489280",
    "end": "491680"
  },
  {
    "text": "see any of that right",
    "start": "491680",
    "end": "493120"
  },
  {
    "text": "because it was encrypted right but",
    "start": "493120",
    "end": "495759"
  },
  {
    "text": "that's the",
    "start": "495759",
    "end": "496479"
  },
  {
    "text": "that's what we got we got a compressed",
    "start": "496479",
    "end": "498639"
  },
  {
    "text": "body and i think that's it for the first",
    "start": "498639",
    "end": "500720"
  },
  {
    "text": "request",
    "start": "500720",
    "end": "502240"
  },
  {
    "text": "so we turned around and we're now",
    "start": "502240",
    "end": "505280"
  },
  {
    "text": "making the first call to a completely",
    "start": "505280",
    "end": "508560"
  },
  {
    "text": "different domain",
    "start": "508560",
    "end": "509840"
  },
  {
    "text": "right and so happened that it's a",
    "start": "509840",
    "end": "513599"
  },
  {
    "text": "different ip",
    "start": "513599",
    "end": "514640"
  },
  {
    "text": "address so now we're using the http 2",
    "start": "514640",
    "end": "518560"
  },
  {
    "text": "protocol",
    "start": "518560",
    "end": "519440"
  },
  {
    "text": "to now establish a brand new connection",
    "start": "519440",
    "end": "522000"
  },
  {
    "text": "to that new domain",
    "start": "522000",
    "end": "523360"
  },
  {
    "text": "because everything is in a different",
    "start": "523360",
    "end": "525519"
  },
  {
    "text": "static they're using a content",
    "start": "525519",
    "end": "527120"
  },
  {
    "text": "management system to download",
    "start": "527120",
    "end": "529279"
  },
  {
    "text": "the different stuff here right which is",
    "start": "529279",
    "end": "532720"
  },
  {
    "text": "whatever this thing there this is a",
    "start": "532720",
    "end": "535200"
  },
  {
    "text": "javascript file",
    "start": "535200",
    "end": "536560"
  },
  {
    "text": "so a bunch of javascript files a bunch",
    "start": "536560",
    "end": "538640"
  },
  {
    "text": "of stuff",
    "start": "538640",
    "end": "539760"
  },
  {
    "text": "are downloaded from the reddit static",
    "start": "539760",
    "end": "542480"
  },
  {
    "start": "540000",
    "end": "965000"
  },
  {
    "text": "website",
    "start": "542480",
    "end": "543040"
  },
  {
    "text": "i think that's enough with this stuff so",
    "start": "543040",
    "end": "545279"
  },
  {
    "text": "we the rest of this stuff is just",
    "start": "545279",
    "end": "547120"
  },
  {
    "text": "normal stuff we've done before let's",
    "start": "547120",
    "end": "549200"
  },
  {
    "text": "move to the mobile",
    "start": "549200",
    "end": "550880"
  },
  {
    "text": "mobile desk mobile this",
    "start": "550880",
    "end": "555040"
  },
  {
    "text": "smart phone move",
    "start": "555040",
    "end": "558320"
  },
  {
    "text": "iphone 10 and clean up",
    "start": "558320",
    "end": "563120"
  },
  {
    "text": "do it to be fair you have to clean the",
    "start": "563120",
    "end": "565680"
  },
  {
    "text": "cash",
    "start": "565680",
    "end": "566800"
  },
  {
    "text": "cash or this no cash for this",
    "start": "566800",
    "end": "571200"
  },
  {
    "text": "cash com",
    "start": "571200",
    "end": "574240"
  },
  {
    "text": "mobile cleaner mobile",
    "start": "574240",
    "end": "577600"
  },
  {
    "text": "that's more like it 733 all right so",
    "start": "577600",
    "end": "580160"
  },
  {
    "text": "we're seeing that",
    "start": "580160",
    "end": "581600"
  },
  {
    "text": "36 kilobytes way smaller makes sense",
    "start": "581600",
    "end": "585360"
  },
  {
    "text": "ready to understand that we're coming",
    "start": "585360",
    "end": "586880"
  },
  {
    "text": "from mobile and it will switch",
    "start": "586880",
    "end": "589200"
  },
  {
    "text": "their algorithm to fetch me a smaller",
    "start": "589200",
    "end": "591519"
  },
  {
    "text": "version of this",
    "start": "591519",
    "end": "592480"
  },
  {
    "text": "right and still this could be better",
    "start": "592480",
    "end": "596720"
  },
  {
    "text": "700 millisecond is so slow we have to do",
    "start": "596720",
    "end": "600720"
  },
  {
    "text": "better than this right insert caching",
    "start": "600720",
    "end": "603600"
  },
  {
    "text": "and even quitting the database",
    "start": "603600",
    "end": "605279"
  },
  {
    "text": "shouldn't take 700 milliseconds like",
    "start": "605279",
    "end": "606959"
  },
  {
    "text": "what are we doing to speed up",
    "start": "606959",
    "end": "609279"
  },
  {
    "text": "this right and are we still hitting",
    "start": "609279",
    "end": "612000"
  },
  {
    "text": "varnish",
    "start": "612000",
    "end": "613279"
  },
  {
    "text": "with mobile we're still hitting the back",
    "start": "613279",
    "end": "615760"
  },
  {
    "text": "end snooze",
    "start": "615760",
    "end": "616560"
  },
  {
    "text": "server whatever this thing is called and",
    "start": "616560",
    "end": "618800"
  },
  {
    "text": "then we're also going through varnish so",
    "start": "618800",
    "end": "620720"
  },
  {
    "text": "i don't think varnish is",
    "start": "620720",
    "end": "621920"
  },
  {
    "text": "is really helping anything here in my",
    "start": "621920",
    "end": "624079"
  },
  {
    "text": "opinion",
    "start": "624079",
    "end": "625200"
  },
  {
    "text": "and now we're looking through eyes and i",
    "start": "625200",
    "end": "626560"
  },
  {
    "text": "want to pay attention to this error",
    "start": "626560",
    "end": "628399"
  },
  {
    "text": "right we didn't see an error in the",
    "start": "628399",
    "end": "631279"
  },
  {
    "text": "desktop version",
    "start": "631279",
    "end": "632000"
  },
  {
    "text": "but we saw an error here and i want to",
    "start": "632000",
    "end": "634160"
  },
  {
    "text": "actually call that out",
    "start": "634160",
    "end": "635920"
  },
  {
    "text": "and see what's the cause of that error",
    "start": "635920",
    "end": "637760"
  },
  {
    "text": "just because i'm nosy",
    "start": "637760",
    "end": "638959"
  },
  {
    "text": "nothing fancy here we're doing exactly",
    "start": "638959",
    "end": "640880"
  },
  {
    "text": "the same thing we're doing with the",
    "start": "640880",
    "end": "642720"
  },
  {
    "text": "with the desktop version we're going to",
    "start": "642720",
    "end": "644240"
  },
  {
    "text": "multiple domains which we agreed that",
    "start": "644240",
    "end": "646399"
  },
  {
    "text": "this is costly and if we",
    "start": "646399",
    "end": "648240"
  },
  {
    "text": "can avoid hitting multiple domains and",
    "start": "648240",
    "end": "651279"
  },
  {
    "text": "hitting only my domain",
    "start": "651279",
    "end": "653120"
  },
  {
    "text": "the one oh preferably the one you served",
    "start": "653120",
    "end": "656720"
  },
  {
    "text": "originally that's the best cost scenario",
    "start": "656720",
    "end": "658959"
  },
  {
    "text": "because you're going to take",
    "start": "658959",
    "end": "660240"
  },
  {
    "text": "the best efficient use of the original",
    "start": "660240",
    "end": "662399"
  },
  {
    "text": "connection that you opened in order to",
    "start": "662399",
    "end": "665279"
  },
  {
    "text": "including the encryption in order to",
    "start": "665279",
    "end": "666959"
  },
  {
    "text": "take that content with you right",
    "start": "666959",
    "end": "668880"
  },
  {
    "text": "just stream counter from the main side",
    "start": "668880",
    "end": "672160"
  },
  {
    "text": "we saw that with apple apples very good",
    "start": "672160",
    "end": "674079"
  },
  {
    "text": "at that stuff they just hit",
    "start": "674079",
    "end": "675680"
  },
  {
    "text": "one side we're seeing multiple requests",
    "start": "675680",
    "end": "677680"
  },
  {
    "text": "uh here's here's what i want to",
    "start": "677680",
    "end": "679360"
  },
  {
    "text": "talk about let's talk about the prefetch",
    "start": "679360",
    "end": "681680"
  },
  {
    "text": "here",
    "start": "681680",
    "end": "682399"
  },
  {
    "text": "options look at this",
    "start": "682399",
    "end": "687200"
  },
  {
    "text": "v2 this is an api thing it's called",
    "start": "687360",
    "end": "691160"
  },
  {
    "text": "events.redditmedia.com right",
    "start": "691160",
    "end": "692880"
  },
  {
    "text": "so the first call obviously has a slip",
    "start": "692880",
    "end": "696160"
  },
  {
    "text": "is slow if you think about 200 300 230",
    "start": "696160",
    "end": "700160"
  },
  {
    "text": "millisecond to establish a connection to",
    "start": "700160",
    "end": "702079"
  },
  {
    "text": "that events api thing right",
    "start": "702079",
    "end": "704320"
  },
  {
    "text": "and then another 165 to encrypt it",
    "start": "704320",
    "end": "707680"
  },
  {
    "text": "and then 77 which is not so bad to",
    "start": "707680",
    "end": "710880"
  },
  {
    "text": "retrieve the content right but i want",
    "start": "710880",
    "end": "712880"
  },
  {
    "text": "you to pay attention to this",
    "start": "712880",
    "end": "715600"
  },
  {
    "text": "this is an options call an options call",
    "start": "715600",
    "end": "719279"
  },
  {
    "text": "as i",
    "start": "719279",
    "end": "719680"
  },
  {
    "text": "explained in the in the course video",
    "start": "719680",
    "end": "723120"
  },
  {
    "text": "is made before you make the request",
    "start": "723120",
    "end": "726880"
  },
  {
    "text": "to the original thing right and the",
    "start": "726880",
    "end": "729360"
  },
  {
    "text": "browser puts this in place",
    "start": "729360",
    "end": "731440"
  },
  {
    "text": "to protect the destination server",
    "start": "731440",
    "end": "733279"
  },
  {
    "text": "against malicious attacks essentially",
    "start": "733279",
    "end": "735200"
  },
  {
    "text": "and to check if you are authorized to do",
    "start": "735200",
    "end": "737360"
  },
  {
    "text": "this request",
    "start": "737360",
    "end": "739040"
  },
  {
    "text": "and this was the original request",
    "start": "739040",
    "end": "742639"
  },
  {
    "text": "the post request the client which is the",
    "start": "742639",
    "end": "746639"
  },
  {
    "text": "reddit page i guess wanted to do a post",
    "start": "746639",
    "end": "749440"
  },
  {
    "text": "request",
    "start": "749440",
    "end": "750240"
  },
  {
    "text": "against the events list it the client",
    "start": "750240",
    "end": "753040"
  },
  {
    "text": "you never do an option",
    "start": "753040",
    "end": "754720"
  },
  {
    "text": "implicitly it's all done by the fetch",
    "start": "754720",
    "end": "757839"
  },
  {
    "text": "command or the xshr or whatever that",
    "start": "757839",
    "end": "759920"
  },
  {
    "text": "thing",
    "start": "759920",
    "end": "760560"
  },
  {
    "text": "so you want to do pause and chrome says",
    "start": "760560",
    "end": "763600"
  },
  {
    "text": "wait a second are you even allowed to do",
    "start": "763600",
    "end": "765680"
  },
  {
    "text": "a post post are good methods",
    "start": "765680",
    "end": "767680"
  },
  {
    "text": "however they are only safe with",
    "start": "767680",
    "end": "770880"
  },
  {
    "text": "specific content types like text like",
    "start": "770880",
    "end": "775040"
  },
  {
    "text": "the xxx form data right",
    "start": "775040",
    "end": "778160"
  },
  {
    "text": "but you're sending application.json i",
    "start": "778160",
    "end": "781440"
  },
  {
    "text": "have",
    "start": "781440",
    "end": "782079"
  },
  {
    "text": "no idea that the server supports",
    "start": "782079",
    "end": "784440"
  },
  {
    "text": "application.json",
    "start": "784440",
    "end": "785680"
  },
  {
    "text": "so i gotta check with the server first",
    "start": "785680",
    "end": "788560"
  },
  {
    "text": "before i let you in",
    "start": "788560",
    "end": "790399"
  },
  {
    "text": "so that's what the server does and it",
    "start": "790399",
    "end": "792240"
  },
  {
    "text": "says okay let me do that",
    "start": "792240",
    "end": "794800"
  },
  {
    "text": "and that's the first query with the",
    "start": "794800",
    "end": "796560"
  },
  {
    "text": "options right and when you do",
    "start": "796560",
    "end": "798320"
  },
  {
    "text": "options call what we get back",
    "start": "798320",
    "end": "802160"
  },
  {
    "text": "is this says okay you can",
    "start": "802160",
    "end": "805839"
  },
  {
    "text": "act allow headers this following headers",
    "start": "805839",
    "end": "809120"
  },
  {
    "text": "content type allow the content type here",
    "start": "809120",
    "end": "811519"
  },
  {
    "text": "it's okay you can do that",
    "start": "811519",
    "end": "813279"
  },
  {
    "text": "allow this method of all send options",
    "start": "813279",
    "end": "816800"
  },
  {
    "text": "it has to right otherwise you can't do",
    "start": "816800",
    "end": "818880"
  },
  {
    "text": "the options allow",
    "start": "818880",
    "end": "820240"
  },
  {
    "text": "any origin that means you if you want to",
    "start": "820240",
    "end": "822320"
  },
  {
    "text": "you can do a curl against this and it",
    "start": "822320",
    "end": "824079"
  },
  {
    "text": "will work",
    "start": "824079",
    "end": "825199"
  },
  {
    "text": "curl always work or does not has",
    "start": "825199",
    "end": "827279"
  },
  {
    "text": "anything to do with course so that will",
    "start": "827279",
    "end": "829120"
  },
  {
    "text": "always work",
    "start": "829120",
    "end": "830079"
  },
  {
    "text": "right i'm talking about the browser",
    "start": "830079",
    "end": "831519"
  },
  {
    "text": "itself you can host a website that",
    "start": "831519",
    "end": "834320"
  },
  {
    "text": "calls in the browser called",
    "start": "834320",
    "end": "836920"
  },
  {
    "text": "events.reddit.com and",
    "start": "836920",
    "end": "838480"
  },
  {
    "text": "that will work keep alive all that stuff",
    "start": "838480",
    "end": "842160"
  },
  {
    "text": "and",
    "start": "842160",
    "end": "842560"
  },
  {
    "text": "uh that's it and then the server comes",
    "start": "842560",
    "end": "846160"
  },
  {
    "text": "okay you are allowed to make that",
    "start": "846160",
    "end": "848880"
  },
  {
    "text": "request",
    "start": "848880",
    "end": "849440"
  },
  {
    "text": "and we actually make that request a post",
    "start": "849440",
    "end": "851360"
  },
  {
    "text": "request and and",
    "start": "851360",
    "end": "852560"
  },
  {
    "text": "so i want to go through this failed",
    "start": "852560",
    "end": "856079"
  },
  {
    "text": "one reddit themselves they're still",
    "start": "856079",
    "end": "859920"
  },
  {
    "text": "calling the v1 version so that was",
    "start": "859920",
    "end": "863360"
  },
  {
    "text": "the api version too whatever that thing",
    "start": "863360",
    "end": "865440"
  },
  {
    "text": "is doing right",
    "start": "865440",
    "end": "866560"
  },
  {
    "text": "and if you were making a call to this",
    "start": "866560",
    "end": "868079"
  },
  {
    "text": "puppy right immediately you do this",
    "start": "868079",
    "end": "872480"
  },
  {
    "text": "the request says hey",
    "start": "872480",
    "end": "876079"
  },
  {
    "text": "i want to go to this and i am sending a",
    "start": "876079",
    "end": "878560"
  },
  {
    "text": "text a plain text content so this is",
    "start": "878560",
    "end": "880720"
  },
  {
    "text": "what it's saying",
    "start": "880720",
    "end": "881360"
  },
  {
    "text": "sending a plain text not sending json",
    "start": "881360",
    "end": "884000"
  },
  {
    "text": "that is",
    "start": "884000",
    "end": "884720"
  },
  {
    "text": "why the",
    "start": "884720",
    "end": "887839"
  },
  {
    "text": "browser did not send an option call",
    "start": "887839",
    "end": "890079"
  },
  {
    "text": "before the v1 call",
    "start": "890079",
    "end": "891760"
  },
  {
    "text": "for to pause because it says hey it's",
    "start": "891760",
    "end": "894079"
  },
  {
    "text": "it's post",
    "start": "894079",
    "end": "894880"
  },
  {
    "text": "i allow it and it's it's essentially",
    "start": "894880",
    "end": "898000"
  },
  {
    "text": "it's just uh uh it's just we're sending",
    "start": "898000",
    "end": "901279"
  },
  {
    "text": "texts plain so that's absolutely fine so",
    "start": "901279",
    "end": "903360"
  },
  {
    "text": "it allowed it",
    "start": "903360",
    "end": "904720"
  },
  {
    "text": "but here's what happened when you",
    "start": "904720",
    "end": "906880"
  },
  {
    "text": "actually got back a response from the",
    "start": "906880",
    "end": "909120"
  },
  {
    "text": "server",
    "start": "909120",
    "end": "910240"
  },
  {
    "text": "which is this the server did not",
    "start": "910240",
    "end": "913839"
  },
  {
    "text": "have a header that allows that",
    "start": "913839",
    "end": "916800"
  },
  {
    "text": "particular origin which is in this case",
    "start": "916800",
    "end": "918560"
  },
  {
    "text": "reddit.com",
    "start": "918560",
    "end": "920160"
  },
  {
    "text": "even reddit is not allowed to call this",
    "start": "920160",
    "end": "922480"
  },
  {
    "text": "method",
    "start": "922480",
    "end": "923440"
  },
  {
    "text": "the browser will refuse to serve you",
    "start": "923440",
    "end": "925920"
  },
  {
    "text": "that content",
    "start": "925920",
    "end": "927519"
  },
  {
    "text": "as a client because it says wait a",
    "start": "927519",
    "end": "929759"
  },
  {
    "text": "second you are not allowed to do that",
    "start": "929759",
    "end": "931600"
  },
  {
    "text": "because there is no",
    "start": "931600",
    "end": "932399"
  },
  {
    "text": "access allow all header right so that's",
    "start": "932399",
    "end": "934320"
  },
  {
    "text": "what i want to talk about",
    "start": "934320",
    "end": "935680"
  },
  {
    "text": "essentially this is why it failed",
    "start": "935680",
    "end": "939360"
  },
  {
    "text": "and says here's the error there is very",
    "start": "939360",
    "end": "942160"
  },
  {
    "text": "clear",
    "start": "942160",
    "end": "942639"
  },
  {
    "text": "access to x from origin reddit.com",
    "start": "942639",
    "end": "946320"
  },
  {
    "text": "has been blocked by course policy no",
    "start": "946320",
    "end": "948160"
  },
  {
    "text": "access control allow origin header",
    "start": "948160",
    "end": "950399"
  },
  {
    "text": "is present on the requested resource and",
    "start": "950399",
    "end": "953360"
  },
  {
    "text": "that's it for me today guys",
    "start": "953360",
    "end": "954720"
  },
  {
    "text": "uh sorry for the long video uh that was",
    "start": "954720",
    "end": "957120"
  },
  {
    "text": "reddit",
    "start": "957120",
    "end": "958000"
  },
  {
    "text": "devtoolingreddit what should i div tool",
    "start": "958000",
    "end": "960000"
  },
  {
    "text": "next let me know in the comment section",
    "start": "960000",
    "end": "961519"
  },
  {
    "text": "below",
    "start": "961519",
    "end": "962079"
  },
  {
    "text": "i'm gonna see you on the next one you",
    "start": "962079",
    "end": "963519"
  },
  {
    "text": "guys stay awesome goodbye",
    "start": "963519",
    "end": "966560"
  }
]