[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "what's going on guys my name is hussain",
    "start": "80",
    "end": "2480"
  },
  {
    "text": "and we're using obs for the first time",
    "start": "2480",
    "end": "4720"
  },
  {
    "text": "let me know how it works uh",
    "start": "4720",
    "end": "6640"
  },
  {
    "text": "thank you so much everyone who suggested",
    "start": "6640",
    "end": "8880"
  },
  {
    "text": "to use this tool",
    "start": "8880",
    "end": "10080"
  },
  {
    "text": "i didn't know it exists yeah i'm i'm",
    "start": "10080",
    "end": "13599"
  },
  {
    "text": "very bad when it comes to",
    "start": "13599",
    "end": "15360"
  },
  {
    "text": "these things such a new when it comes to",
    "start": "15360",
    "end": "17279"
  },
  {
    "text": "recording and all that stuff so yeah",
    "start": "17279",
    "end": "19039"
  },
  {
    "text": "i'm really enjoying it it was really",
    "start": "19039",
    "end": "20560"
  },
  {
    "text": "simple just like",
    "start": "20560",
    "end": "22320"
  },
  {
    "text": "you can see me but i cannot see myself",
    "start": "22320",
    "end": "24640"
  },
  {
    "text": "here in this picture so it doesn't",
    "start": "24640",
    "end": "26240"
  },
  {
    "text": "really cover",
    "start": "26240",
    "end": "27039"
  },
  {
    "text": "my screen which is awesome this is",
    "start": "27039",
    "end": "28720"
  },
  {
    "text": "exactly what i want",
    "start": "28720",
    "end": "30480"
  },
  {
    "text": "but yeah i want to talk about whatsapp",
    "start": "30480",
    "end": "32558"
  },
  {
    "text": "today and an article from",
    "start": "32559",
    "end": "34719"
  },
  {
    "text": "september 23rd 2011.",
    "start": "34719",
    "end": "38879"
  },
  {
    "text": "and yeah it's an old article but it's uh",
    "start": "38879",
    "end": "42559"
  },
  {
    "text": "i wanna i wanna link it to what",
    "start": "42559",
    "end": "44559"
  },
  {
    "text": "whatsapp is doing today and and how does",
    "start": "44559",
    "end": "47120"
  },
  {
    "text": "it matter for us uh backer engineers",
    "start": "47120",
    "end": "49360"
  },
  {
    "text": "so how about we discuss that so what's",
    "start": "49360",
    "end": "50800"
  },
  {
    "text": "up guys it's a chatting",
    "start": "50800",
    "end": "53199"
  },
  {
    "text": "what's up guys uh uh it",
    "start": "53199",
    "end": "56399"
  },
  {
    "text": "is a chatting application that is is",
    "start": "56399",
    "end": "58920"
  },
  {
    "text": "predominantly used",
    "start": "58920",
    "end": "60480"
  },
  {
    "text": "in mainly the middle east and and india",
    "start": "60480",
    "end": "63199"
  },
  {
    "text": "and",
    "start": "63199",
    "end": "63680"
  },
  {
    "text": "this area is like not far east the far",
    "start": "63680",
    "end": "65840"
  },
  {
    "text": "east uses something else",
    "start": "65840",
    "end": "67360"
  },
  {
    "text": "they the that wechat especially in there",
    "start": "67360",
    "end": "70159"
  },
  {
    "text": "and",
    "start": "70159",
    "end": "70960"
  },
  {
    "text": "when it comes to china but i don't know",
    "start": "70960",
    "end": "73520"
  },
  {
    "text": "if",
    "start": "73520",
    "end": "75360"
  },
  {
    "text": "all the east is the far east uses it or",
    "start": "75360",
    "end": "78000"
  },
  {
    "text": "not but",
    "start": "78000",
    "end": "78640"
  },
  {
    "text": "definitely in the middle east every",
    "start": "78640",
    "end": "80880"
  },
  {
    "text": "parent every single person have whatsapp",
    "start": "80880",
    "end": "83520"
  },
  {
    "text": "uses what's up",
    "start": "83520",
    "end": "84320"
  },
  {
    "text": "it's basically it's a it's a it's a de",
    "start": "84320",
    "end": "86560"
  },
  {
    "text": "facto communication",
    "start": "86560",
    "end": "88080"
  },
  {
    "text": "between uh iphones and android and",
    "start": "88080",
    "end": "90400"
  },
  {
    "text": "everyone who has a phone basically",
    "start": "90400",
    "end": "92159"
  },
  {
    "text": "that's the communication right so what's",
    "start": "92159",
    "end": "95119"
  },
  {
    "text": "up",
    "start": "95119",
    "end": "95439"
  },
  {
    "text": "you use this to chat you send messages",
    "start": "95439",
    "end": "97600"
  },
  {
    "text": "text all that stuff but if you think",
    "start": "97600",
    "end": "99119"
  },
  {
    "text": "about it from a technical",
    "start": "99119",
    "end": "100560"
  },
  {
    "text": "perspective how does that work",
    "start": "100560",
    "end": "103600"
  },
  {
    "text": "well we built a chatting application we",
    "start": "103600",
    "end": "106720"
  },
  {
    "text": "built a multiplayer game application all",
    "start": "106720",
    "end": "108640"
  },
  {
    "text": "of these",
    "start": "108640",
    "end": "109439"
  },
  {
    "text": "are stateful protocols uh that uses a",
    "start": "109439",
    "end": "112840"
  },
  {
    "text": "bi-directional",
    "start": "112840",
    "end": "114720"
  },
  {
    "text": "ways of communication whether that's raw",
    "start": "114720",
    "end": "117119"
  },
  {
    "text": "tcp",
    "start": "117119",
    "end": "118240"
  },
  {
    "text": "whether that's whoops socket whether",
    "start": "118240",
    "end": "119840"
  },
  {
    "text": "that's grpc whether any",
    "start": "119840",
    "end": "121680"
  },
  {
    "start": "120000",
    "end": "420000"
  },
  {
    "text": "any protocol you pick whatsapp have been",
    "start": "121680",
    "end": "123840"
  },
  {
    "text": "built long time ago so",
    "start": "123840",
    "end": "125920"
  },
  {
    "text": "they don't disclose this correct me guys",
    "start": "125920",
    "end": "129280"
  },
  {
    "text": "if they do",
    "start": "129280",
    "end": "130399"
  },
  {
    "text": "i didn't see anything from their",
    "start": "130399",
    "end": "132879"
  },
  {
    "text": "documentation",
    "start": "132879",
    "end": "135120"
  },
  {
    "text": "of what protocol they're using my",
    "start": "135120",
    "end": "137440"
  },
  {
    "text": "personal belief i think they're using",
    "start": "137440",
    "end": "139120"
  },
  {
    "text": "raw tcp and they",
    "start": "139120",
    "end": "141120"
  },
  {
    "text": "they're squeezing as much performance as",
    "start": "141120",
    "end": "143840"
  },
  {
    "text": "possible",
    "start": "143840",
    "end": "145040"
  },
  {
    "text": "they had their own headers obviously on",
    "start": "145040",
    "end": "146800"
  },
  {
    "text": "the top of tcp in order to maintain this",
    "start": "146800",
    "end": "149360"
  },
  {
    "text": "connection and what they did here is",
    "start": "149360",
    "end": "153360"
  },
  {
    "text": "that blog in 2011 they managed to get",
    "start": "153360",
    "end": "157519"
  },
  {
    "text": "to a 1 million tcp",
    "start": "157519",
    "end": "160640"
  },
  {
    "text": "connections i'm assuming tcp here",
    "start": "160640",
    "end": "162640"
  },
  {
    "text": "obviously",
    "start": "162640",
    "end": "163920"
  },
  {
    "text": "it has to be a connection right because",
    "start": "163920",
    "end": "165760"
  },
  {
    "text": "udb don't have connections",
    "start": "165760",
    "end": "167440"
  },
  {
    "text": "so yeah 1 million tcp connections",
    "start": "167440",
    "end": "171200"
  },
  {
    "text": "per server they're using the the good",
    "start": "171200",
    "end": "174640"
  },
  {
    "text": "old",
    "start": "174640",
    "end": "176080"
  },
  {
    "text": "beautiful uh nothing fancy",
    "start": "176080",
    "end": "179280"
  },
  {
    "text": "here nothing fancy here just using the",
    "start": "179280",
    "end": "181920"
  },
  {
    "text": "good old just server",
    "start": "181920",
    "end": "183360"
  },
  {
    "text": "architecture and client server",
    "start": "183360",
    "end": "184959"
  },
  {
    "text": "architecture very very simple design",
    "start": "184959",
    "end": "187920"
  },
  {
    "text": "and this is their actually their uh when",
    "start": "187920",
    "end": "190400"
  },
  {
    "text": "i saw this",
    "start": "190400",
    "end": "191440"
  },
  {
    "text": "their talk and then i think at 2016",
    "start": "191440",
    "end": "194800"
  },
  {
    "text": "they talk about how how simplificity",
    "start": "194800",
    "end": "197440"
  },
  {
    "text": "rules",
    "start": "197440",
    "end": "198560"
  },
  {
    "text": "every single engineering decision right",
    "start": "198560",
    "end": "201840"
  },
  {
    "text": "and that's and that's very very powerful",
    "start": "201840",
    "end": "205200"
  },
  {
    "text": "concept because you need to to stay",
    "start": "205200",
    "end": "208400"
  },
  {
    "text": "simple when you design stuff introducing",
    "start": "208400",
    "end": "210959"
  },
  {
    "text": "so many",
    "start": "210959",
    "end": "212720"
  },
  {
    "text": "uh three-party stuff and our and",
    "start": "212720",
    "end": "215360"
  },
  {
    "text": "components can actually complicate your",
    "start": "215360",
    "end": "217440"
  },
  {
    "text": "application we're seeing what happens",
    "start": "217440",
    "end": "219040"
  },
  {
    "text": "with microservices",
    "start": "219040",
    "end": "221280"
  },
  {
    "text": "the whole industry is going into into a",
    "start": "221280",
    "end": "224000"
  },
  {
    "text": "frenzy to be honest",
    "start": "224000",
    "end": "226159"
  },
  {
    "text": "every single component is like we're",
    "start": "226159",
    "end": "227680"
  },
  {
    "text": "just inventing new components",
    "start": "227680",
    "end": "229519"
  },
  {
    "text": "maybe i'm i'll be wrong but but i think",
    "start": "229519",
    "end": "232560"
  },
  {
    "text": "it's",
    "start": "232560",
    "end": "232799"
  },
  {
    "text": "just a little bit getting a little bit",
    "start": "232799",
    "end": "234080"
  },
  {
    "text": "too much but yeah you should look at the",
    "start": "234080",
    "end": "236319"
  },
  {
    "text": "pure",
    "start": "236319",
    "end": "236959"
  },
  {
    "text": "beauty here they okay",
    "start": "236959",
    "end": "240879"
  },
  {
    "text": "they managed to get to one million tcp",
    "start": "240879",
    "end": "244000"
  },
  {
    "text": "connection",
    "start": "244000",
    "end": "244799"
  },
  {
    "text": "and no more than a year later",
    "start": "244799",
    "end": "248799"
  },
  {
    "text": "they said forget about it one million is",
    "start": "248799",
    "end": "251760"
  },
  {
    "text": "so 2011 and 2012",
    "start": "251760",
    "end": "255360"
  },
  {
    "text": "they reached 2 million 2.2",
    "start": "255360",
    "end": "258479"
  },
  {
    "text": "million open sockets per server",
    "start": "258479",
    "end": "262479"
  },
  {
    "text": "so that's that's really powerful stuff",
    "start": "262479",
    "end": "264960"
  },
  {
    "text": "guys",
    "start": "264960",
    "end": "265600"
  },
  {
    "text": "so they are obviously those servers are",
    "start": "265600",
    "end": "268080"
  },
  {
    "text": "beefy servers but they",
    "start": "268080",
    "end": "270479"
  },
  {
    "text": "they must have taking every single",
    "start": "270479",
    "end": "275600"
  },
  {
    "text": "uh efficiency mechanism or",
    "start": "275600",
    "end": "279280"
  },
  {
    "text": "performance they can squeeze to minimize",
    "start": "279280",
    "end": "282800"
  },
  {
    "text": "that the memory footprint of those tcp",
    "start": "282800",
    "end": "286320"
  },
  {
    "text": "connections",
    "start": "286320",
    "end": "287759"
  },
  {
    "text": "so and i want to discuss",
    "start": "287759",
    "end": "291040"
  },
  {
    "text": "this in general and how they are doing",
    "start": "291040",
    "end": "293199"
  },
  {
    "text": "it and i'm not claiming i",
    "start": "293199",
    "end": "294880"
  },
  {
    "text": "know i i honestly don't know how they",
    "start": "294880",
    "end": "297520"
  },
  {
    "text": "are achieving this",
    "start": "297520",
    "end": "298720"
  },
  {
    "text": "right from that actually it's actually",
    "start": "298720",
    "end": "302160"
  },
  {
    "text": "it's good",
    "start": "302160",
    "end": "303199"
  },
  {
    "text": "this screenshot gives us some",
    "start": "303199",
    "end": "305680"
  },
  {
    "text": "information not much right but",
    "start": "305680",
    "end": "307840"
  },
  {
    "text": "but it does give us some they",
    "start": "307840",
    "end": "311759"
  },
  {
    "text": "this particular thing has like 35",
    "start": "311759",
    "end": "314960"
  },
  {
    "text": "gigs of memory back in 2012",
    "start": "314960",
    "end": "318800"
  },
  {
    "text": "right so 35 gig per server 27",
    "start": "318800",
    "end": "322800"
  },
  {
    "text": "free right and and uh",
    "start": "322800",
    "end": "325840"
  },
  {
    "text": "i don't know if this is like the total",
    "start": "325840",
    "end": "327280"
  },
  {
    "text": "memory oh this is plus this",
    "start": "327280",
    "end": "328880"
  },
  {
    "text": "i'm not sure here but it's it's very",
    "start": "328880",
    "end": "332560"
  },
  {
    "text": "interesting to",
    "start": "332560",
    "end": "333520"
  },
  {
    "text": "to to see these numbers that managed to",
    "start": "333520",
    "end": "336639"
  },
  {
    "text": "get 2 million tcp",
    "start": "336639",
    "end": "338720"
  },
  {
    "text": "per server so obviously this is a",
    "start": "338720",
    "end": "341919"
  },
  {
    "text": "stateful protocol",
    "start": "341919",
    "end": "343440"
  },
  {
    "text": "and if you think about it when you",
    "start": "343440",
    "end": "346080"
  },
  {
    "text": "connect",
    "start": "346080",
    "end": "346639"
  },
  {
    "text": "from the client whatsapp client to the",
    "start": "346639",
    "end": "348720"
  },
  {
    "text": "server",
    "start": "348720",
    "end": "349919"
  },
  {
    "text": "they force you to always stay connected",
    "start": "349919",
    "end": "351919"
  },
  {
    "text": "there is no sign in button or",
    "start": "351919",
    "end": "353919"
  },
  {
    "text": "oh sign out you don't get a choice",
    "start": "353919",
    "end": "357120"
  },
  {
    "text": "you have the app that apps is running",
    "start": "357120",
    "end": "360319"
  },
  {
    "text": "all the time and and that",
    "start": "360319",
    "end": "361680"
  },
  {
    "text": "there is a socket between you and the",
    "start": "361680",
    "end": "364400"
  },
  {
    "text": "server",
    "start": "364400",
    "end": "365120"
  },
  {
    "text": "that is always communicating and they're",
    "start": "365120",
    "end": "367919"
  },
  {
    "text": "they're",
    "start": "367919",
    "end": "368720"
  },
  {
    "text": "i'm pretty much they're they they take",
    "start": "368720",
    "end": "371919"
  },
  {
    "text": "advantage of everything in that single",
    "start": "371919",
    "end": "374160"
  },
  {
    "text": "socket between you",
    "start": "374160",
    "end": "375600"
  },
  {
    "text": "and the server and uh from that",
    "start": "375600",
    "end": "379280"
  },
  {
    "text": "talk that i'm gonna reference below they",
    "start": "379280",
    "end": "382240"
  },
  {
    "text": "actually managed",
    "start": "382240",
    "end": "383919"
  },
  {
    "text": "that that's in 2016 the talk",
    "start": "383919",
    "end": "387120"
  },
  {
    "text": "they didn't announce it in the blog they",
    "start": "387120",
    "end": "389759"
  },
  {
    "text": "got",
    "start": "389759",
    "end": "390720"
  },
  {
    "text": "three million tcp connection",
    "start": "390720",
    "end": "394319"
  },
  {
    "text": "so three million per server and",
    "start": "394319",
    "end": "396000"
  },
  {
    "text": "obviously the more cert server memory",
    "start": "396000",
    "end": "398080"
  },
  {
    "text": "you get",
    "start": "398080",
    "end": "399440"
  },
  {
    "text": "the more sockets you can handle this",
    "start": "399440",
    "end": "401360"
  },
  {
    "text": "obviously but there's also",
    "start": "401360",
    "end": "404160"
  },
  {
    "text": "there's only it's not really uh",
    "start": "404160",
    "end": "407360"
  },
  {
    "text": "proportional though right because the",
    "start": "407360",
    "end": "409520"
  },
  {
    "text": "more tcp connections the more work the",
    "start": "409520",
    "end": "412240"
  },
  {
    "text": "cpu has to handle so the more you need",
    "start": "412240",
    "end": "414639"
  },
  {
    "text": "more cpu",
    "start": "414639",
    "end": "416400"
  },
  {
    "text": "cores to deal with these tcp connections",
    "start": "416400",
    "end": "419440"
  },
  {
    "text": "especially if a message comes and you",
    "start": "419440",
    "end": "422160"
  },
  {
    "start": "420000",
    "end": "600000"
  },
  {
    "text": "have to wake up that tcp connection you",
    "start": "422160",
    "end": "424400"
  },
  {
    "text": "have to cpu and then go and and do",
    "start": "424400",
    "end": "426560"
  },
  {
    "text": "something with them",
    "start": "426560",
    "end": "427840"
  },
  {
    "text": "and here's another thing i don't know",
    "start": "427840",
    "end": "430080"
  },
  {
    "text": "and if guys feel free to jump in and",
    "start": "430080",
    "end": "432319"
  },
  {
    "text": "correct me",
    "start": "432319",
    "end": "433120"
  },
  {
    "text": "and let's have discussion and with",
    "start": "433120",
    "end": "436080"
  },
  {
    "text": "regard to this thing",
    "start": "436080",
    "end": "437919"
  },
  {
    "text": "here's what i don't know i'm not sure",
    "start": "437919",
    "end": "442000"
  },
  {
    "text": "if they are running a single process",
    "start": "442000",
    "end": "447039"
  },
  {
    "text": "that has that listens on a single",
    "start": "447039",
    "end": "450400"
  },
  {
    "text": "port on that machine",
    "start": "450400",
    "end": "454479"
  },
  {
    "text": "right so a single process on a single",
    "start": "454479",
    "end": "456319"
  },
  {
    "text": "port hosting",
    "start": "456319",
    "end": "458479"
  },
  {
    "text": "three million sockets or not it's not",
    "start": "458479",
    "end": "461039"
  },
  {
    "text": "clear",
    "start": "461039",
    "end": "462560"
  },
  {
    "text": "from this right i'll be",
    "start": "462560",
    "end": "466960"
  },
  {
    "text": "i'll be really surprised if they do that",
    "start": "467120",
    "end": "470479"
  },
  {
    "text": "but they might they might they might",
    "start": "470479",
    "end": "473199"
  },
  {
    "text": "actually do that",
    "start": "473199",
    "end": "474479"
  },
  {
    "text": "or maybe they are spinning up multiple",
    "start": "474479",
    "end": "477280"
  },
  {
    "text": "because if if that process dies",
    "start": "477280",
    "end": "480400"
  },
  {
    "text": "man i i don't know how what they're",
    "start": "480400",
    "end": "483120"
  },
  {
    "text": "gonna do to to",
    "start": "483120",
    "end": "484800"
  },
  {
    "text": "to to re-spin up three million",
    "start": "484800",
    "end": "487759"
  },
  {
    "text": "connection that takes time right three",
    "start": "487759",
    "end": "489680"
  },
  {
    "text": "three-way handshake on all that stuff i",
    "start": "489680",
    "end": "491599"
  },
  {
    "text": "mean they're keeping those connections",
    "start": "491599",
    "end": "493280"
  },
  {
    "text": "alive so",
    "start": "493280",
    "end": "494080"
  },
  {
    "text": "i'm not sure if it's a one single",
    "start": "494080",
    "end": "495840"
  },
  {
    "text": "process that hosting or less so",
    "start": "495840",
    "end": "498080"
  },
  {
    "text": "the other uh and i wish they talked in",
    "start": "498080",
    "end": "501120"
  },
  {
    "text": "details about this stuff man i just want",
    "start": "501120",
    "end": "502800"
  },
  {
    "text": "to have a",
    "start": "502800",
    "end": "503280"
  },
  {
    "text": "conversation with the ceo or or the c",
    "start": "503280",
    "end": "506639"
  },
  {
    "text": "cto to be honest with the whatsapp group",
    "start": "506639",
    "end": "509680"
  },
  {
    "text": "and whatever what they are doing",
    "start": "509680",
    "end": "511199"
  },
  {
    "text": "it's like it's and the other way i can",
    "start": "511199",
    "end": "514640"
  },
  {
    "text": "think of like they are",
    "start": "514640",
    "end": "515760"
  },
  {
    "text": "spinning up multiple processes",
    "start": "515760",
    "end": "518800"
  },
  {
    "text": "running on multiple ports on the same",
    "start": "518800",
    "end": "520800"
  },
  {
    "text": "server",
    "start": "520800",
    "end": "521839"
  },
  {
    "text": "and and the load balancer",
    "start": "521839",
    "end": "525440"
  },
  {
    "text": "probably it's a layer for load balancer",
    "start": "525440",
    "end": "528000"
  },
  {
    "text": "otherwise they",
    "start": "528000",
    "end": "529680"
  },
  {
    "text": "there's gonna uh so probably not just a",
    "start": "529680",
    "end": "532640"
  },
  {
    "text": "layer four i would imagine it's it's a",
    "start": "532640",
    "end": "534800"
  },
  {
    "text": "nat",
    "start": "534800",
    "end": "535760"
  },
  {
    "text": "uh proxy where we'll just it will just",
    "start": "535760",
    "end": "540320"
  },
  {
    "text": "blindly just like your router gateway",
    "start": "540320",
    "end": "543519"
  },
  {
    "text": "works",
    "start": "543519",
    "end": "544080"
  },
  {
    "text": "it will just blindly forward the",
    "start": "544080",
    "end": "547200"
  },
  {
    "text": "traffic to the server because if it's a",
    "start": "547200",
    "end": "549519"
  },
  {
    "text": "layer 4 or layer 7",
    "start": "549519",
    "end": "551440"
  },
  {
    "text": "reverse proxy dude that's just that's",
    "start": "551440",
    "end": "554160"
  },
  {
    "text": "just",
    "start": "554160",
    "end": "555200"
  },
  {
    "text": "a lot of tcp connection because i don't",
    "start": "555200",
    "end": "558000"
  },
  {
    "text": "know if you",
    "start": "558000",
    "end": "558480"
  },
  {
    "text": "can see me i think you can but it is the",
    "start": "558480",
    "end": "561120"
  },
  {
    "text": "reverse proxy",
    "start": "561120",
    "end": "562320"
  },
  {
    "text": "if you're going to terminate the",
    "start": "562320",
    "end": "564000"
  },
  {
    "text": "connection not not necessarily the tls",
    "start": "564000",
    "end": "567360"
  },
  {
    "text": "you have to establish a connection",
    "start": "567360",
    "end": "568640"
  },
  {
    "text": "between yourself as a client",
    "start": "568640",
    "end": "570720"
  },
  {
    "text": "and the reverse proxy and then another",
    "start": "570720",
    "end": "573200"
  },
  {
    "text": "one",
    "start": "573200",
    "end": "574560"
  },
  {
    "text": "did you call it another between the",
    "start": "574560",
    "end": "577600"
  },
  {
    "text": "reverse proxy and the back end",
    "start": "577600",
    "end": "579519"
  },
  {
    "text": "and that that that you the reverse proxy",
    "start": "579519",
    "end": "582800"
  },
  {
    "text": "will",
    "start": "582800",
    "end": "583279"
  },
  {
    "text": "immediately that that just adds another",
    "start": "583279",
    "end": "586000"
  },
  {
    "text": "layer of of",
    "start": "586000",
    "end": "587200"
  },
  {
    "text": "things to have worry about right just",
    "start": "587200",
    "end": "589120"
  },
  {
    "text": "this this stuff",
    "start": "589120",
    "end": "590800"
  },
  {
    "text": "obviously they should have a load",
    "start": "590800",
    "end": "592880"
  },
  {
    "text": "balancer",
    "start": "592880",
    "end": "593920"
  },
  {
    "text": "and that load balancer is in front of",
    "start": "593920",
    "end": "597040"
  },
  {
    "text": "all those servers",
    "start": "597040",
    "end": "598480"
  },
  {
    "text": "right because when you connect from a",
    "start": "598480",
    "end": "600320"
  },
  {
    "start": "600000",
    "end": "830000"
  },
  {
    "text": "client you don't you are not aware of",
    "start": "600320",
    "end": "602959"
  },
  {
    "text": "these servers",
    "start": "602959",
    "end": "604320"
  },
  {
    "text": "i might be wrong maybe they",
    "start": "604320",
    "end": "608240"
  },
  {
    "text": "to avoid let's",
    "start": "608240",
    "end": "611600"
  },
  {
    "text": "let's go back a little bit if there",
    "start": "611600",
    "end": "614880"
  },
  {
    "text": "are two ways to do this right if",
    "start": "614880",
    "end": "617920"
  },
  {
    "text": "you in the client the whatsapp client",
    "start": "617920",
    "end": "621360"
  },
  {
    "text": "you set the whatsapp",
    "start": "621360",
    "end": "625600"
  },
  {
    "text": "domain address to whatever",
    "start": "625600",
    "end": "629440"
  },
  {
    "text": "whatsapp.comapi.whatsapp.com",
    "start": "629640",
    "end": "631120"
  },
  {
    "text": "then there is one ip address that",
    "start": "631120",
    "end": "632959"
  },
  {
    "text": "everybody's go go to",
    "start": "632959",
    "end": "635519"
  },
  {
    "text": "that's not true if you have like",
    "start": "635519",
    "end": "636959"
  },
  {
    "text": "multiple dns entries right",
    "start": "636959",
    "end": "638800"
  },
  {
    "text": "so you can load balance at the dns level",
    "start": "638800",
    "end": "642079"
  },
  {
    "text": "but that will eventually give you to one",
    "start": "642079",
    "end": "644240"
  },
  {
    "text": "server to server or three servers",
    "start": "644240",
    "end": "646399"
  },
  {
    "text": "these are your load balancers the load",
    "start": "646399",
    "end": "649519"
  },
  {
    "text": "balancer will",
    "start": "649519",
    "end": "650959"
  },
  {
    "text": "look at the traffic who says okay you're",
    "start": "650959",
    "end": "653839"
  },
  {
    "text": "from asia",
    "start": "653839",
    "end": "654800"
  },
  {
    "text": "let me take you to a server in asia",
    "start": "654800",
    "end": "658000"
  },
  {
    "text": "you're from america let me take you to",
    "start": "658000",
    "end": "659839"
  },
  {
    "text": "your server from america",
    "start": "659839",
    "end": "661360"
  },
  {
    "text": "but from what from the talk i think all",
    "start": "661360",
    "end": "663920"
  },
  {
    "text": "all their servers most of their servers",
    "start": "663920",
    "end": "665440"
  },
  {
    "text": "are actually in",
    "start": "665440",
    "end": "666240"
  },
  {
    "text": "in the us so which surprised me actually",
    "start": "666240",
    "end": "670240"
  },
  {
    "text": "so now the connection between the client",
    "start": "670240",
    "end": "674399"
  },
  {
    "text": "and the",
    "start": "674399",
    "end": "674959"
  },
  {
    "text": "reverse proxy has to",
    "start": "674959",
    "end": "678399"
  },
  {
    "text": "to be maintained in the front end",
    "start": "678399",
    "end": "681440"
  },
  {
    "text": "and also in the back end right between",
    "start": "681440",
    "end": "684240"
  },
  {
    "text": "the reverse proxy",
    "start": "684240",
    "end": "685680"
  },
  {
    "text": "and the the whatsapp servers",
    "start": "685680",
    "end": "690320"
  },
  {
    "text": "now they don't mention what these",
    "start": "690320",
    "end": "692320"
  },
  {
    "text": "servers actually",
    "start": "692320",
    "end": "693760"
  },
  {
    "text": "represent are these the load balancers",
    "start": "693760",
    "end": "696480"
  },
  {
    "text": "or",
    "start": "696480",
    "end": "697040"
  },
  {
    "text": "are these the backend servers that's why",
    "start": "697040",
    "end": "698640"
  },
  {
    "text": "i have so many questions",
    "start": "698640",
    "end": "701040"
  },
  {
    "text": "discussing this stuff and uh",
    "start": "701040",
    "end": "704160"
  },
  {
    "text": "yeah so that's that's one thing i can",
    "start": "704160",
    "end": "706640"
  },
  {
    "text": "think of right",
    "start": "706640",
    "end": "708320"
  },
  {
    "text": "the the reverse proxy can't stop pooling",
    "start": "708320",
    "end": "710480"
  },
  {
    "text": "connections",
    "start": "710480",
    "end": "711760"
  },
  {
    "text": "and share",
    "start": "711760",
    "end": "715440"
  },
  {
    "text": "the tcp connection at the back end",
    "start": "715440",
    "end": "719760"
  },
  {
    "text": "that might lead to security issues if",
    "start": "719839",
    "end": "722320"
  },
  {
    "text": "you think about it",
    "start": "722320",
    "end": "724560"
  },
  {
    "text": "if you manage to write a whatsapp client",
    "start": "724560",
    "end": "726560"
  },
  {
    "text": "can that can",
    "start": "726560",
    "end": "727920"
  },
  {
    "text": "that's how http smuggling attacks happen",
    "start": "727920",
    "end": "730160"
  },
  {
    "text": "by the way if you",
    "start": "730160",
    "end": "731279"
  },
  {
    "text": "with pooling right it's just like",
    "start": "731279",
    "end": "732959"
  },
  {
    "text": "multiple",
    "start": "732959",
    "end": "734800"
  },
  {
    "text": "clients coming into one proxy but",
    "start": "734800",
    "end": "738240"
  },
  {
    "text": "their requests are shoved into one pipe",
    "start": "738240",
    "end": "741920"
  },
  {
    "text": "at the back end and then and that's",
    "start": "741920",
    "end": "744079"
  },
  {
    "text": "generally",
    "start": "744079",
    "end": "745200"
  },
  {
    "text": "if you think about it it's good saving",
    "start": "745200",
    "end": "746959"
  },
  {
    "text": "memory on the back end",
    "start": "746959",
    "end": "748240"
  },
  {
    "text": "right because you have fewer tcp",
    "start": "748240",
    "end": "749839"
  },
  {
    "text": "connection on the back end but",
    "start": "749839",
    "end": "752000"
  },
  {
    "text": "now the load balancer dealing with all",
    "start": "752000",
    "end": "754560"
  },
  {
    "text": "that stuff",
    "start": "754560",
    "end": "755760"
  },
  {
    "text": "so that's one architecture you can build",
    "start": "755760",
    "end": "759360"
  },
  {
    "text": "i think it's i think it's it's",
    "start": "759360",
    "end": "763120"
  },
  {
    "text": "it's it's it's difficult to build that",
    "start": "763120",
    "end": "765519"
  },
  {
    "text": "right especially because you have to",
    "start": "765519",
    "end": "766800"
  },
  {
    "text": "write your own reverse proxy there is no",
    "start": "766800",
    "end": "769600"
  },
  {
    "text": "reverse proxy that gives you this",
    "start": "769600",
    "end": "771360"
  },
  {
    "text": "feature especially",
    "start": "771360",
    "end": "772720"
  },
  {
    "text": "especially with your custom uh protocol",
    "start": "772720",
    "end": "775600"
  },
  {
    "text": "that whatsapp have right",
    "start": "775600",
    "end": "777279"
  },
  {
    "text": "with what would even with websockets i",
    "start": "777279",
    "end": "779360"
  },
  {
    "text": "don't believe any web",
    "start": "779360",
    "end": "780800"
  },
  {
    "text": "[Music]",
    "start": "780800",
    "end": "782160"
  },
  {
    "text": "i don't believe any proxy supports",
    "start": "782160",
    "end": "785200"
  },
  {
    "text": "sockets at the back end",
    "start": "785200",
    "end": "789760"
  },
  {
    "text": "on top of like let's say hdb2",
    "start": "789760",
    "end": "792880"
  },
  {
    "text": "right because that's an rfc that people",
    "start": "792880",
    "end": "795440"
  },
  {
    "text": "still working on",
    "start": "795440",
    "end": "796399"
  },
  {
    "text": "right and that's a different that that",
    "start": "796399",
    "end": "798560"
  },
  {
    "text": "will be awesome right if we can do that",
    "start": "798560",
    "end": "801600"
  },
  {
    "text": "where we have a single tcp connection on",
    "start": "801600",
    "end": "804560"
  },
  {
    "text": "the back end",
    "start": "804560",
    "end": "805760"
  },
  {
    "text": "on the top of http but each",
    "start": "805760",
    "end": "809440"
  },
  {
    "text": "thread this each stream of that that tcp",
    "start": "809440",
    "end": "812079"
  },
  {
    "text": "connection",
    "start": "812079",
    "end": "812720"
  },
  {
    "text": "is dedicated for a websocket connection",
    "start": "812720",
    "end": "816480"
  },
  {
    "text": "i'm talking about different things but",
    "start": "816480",
    "end": "818320"
  },
  {
    "text": "that rfc",
    "start": "818320",
    "end": "819519"
  },
  {
    "text": "will allow us to kind of take benefit of",
    "start": "819519",
    "end": "822320"
  },
  {
    "text": "that tcp connection",
    "start": "822320",
    "end": "823600"
  },
  {
    "text": "obviously that tcp meltdown will come",
    "start": "823600",
    "end": "826320"
  },
  {
    "text": "bite us in the ass later",
    "start": "826320",
    "end": "828720"
  },
  {
    "text": "but that's why we need we we need it",
    "start": "828720",
    "end": "830880"
  },
  {
    "start": "830000",
    "end": "999000"
  },
  {
    "text": "quick",
    "start": "830880",
    "end": "831760"
  },
  {
    "text": "later but yeah that's one solution",
    "start": "831760",
    "end": "835680"
  },
  {
    "text": "another solution that is actually i like",
    "start": "835680",
    "end": "839040"
  },
  {
    "text": "a lot",
    "start": "839040",
    "end": "839760"
  },
  {
    "text": "i think netflix from what i read",
    "start": "839760",
    "end": "843839"
  },
  {
    "text": "way before used to do that is",
    "start": "843839",
    "end": "847040"
  },
  {
    "text": "they put the load balancing",
    "start": "847040",
    "end": "850480"
  },
  {
    "text": "on on the client side they said hey",
    "start": "850480",
    "end": "852880"
  },
  {
    "text": "client you pick",
    "start": "852880",
    "end": "855920"
  },
  {
    "text": "connect to us as a dns and then we're",
    "start": "855920",
    "end": "859120"
  },
  {
    "text": "going to give you",
    "start": "859120",
    "end": "860639"
  },
  {
    "text": "one server and when you connect to the",
    "start": "860639",
    "end": "862399"
  },
  {
    "text": "server the server returns",
    "start": "862399",
    "end": "864639"
  },
  {
    "text": "a bunch of ip addresses to all the",
    "start": "864639",
    "end": "866880"
  },
  {
    "text": "servers and hey server",
    "start": "866880",
    "end": "868720"
  },
  {
    "text": "you can pick just like how discord and",
    "start": "868720",
    "end": "871440"
  },
  {
    "text": "all these gaming server works hey you",
    "start": "871440",
    "end": "873040"
  },
  {
    "text": "want to connect to the server in the",
    "start": "873040",
    "end": "874320"
  },
  {
    "text": "east over in the west",
    "start": "874320",
    "end": "875600"
  },
  {
    "text": "you pick and if you if you let the",
    "start": "875600",
    "end": "878959"
  },
  {
    "text": "client choose",
    "start": "878959",
    "end": "880320"
  },
  {
    "text": "the client can be easily uh",
    "start": "880320",
    "end": "884160"
  },
  {
    "text": "configured to choose which server and",
    "start": "884160",
    "end": "886480"
  },
  {
    "text": "even you can",
    "start": "886480",
    "end": "887279"
  },
  {
    "text": "let let the user pick if you want to",
    "start": "887279",
    "end": "889680"
  },
  {
    "text": "right say",
    "start": "889680",
    "end": "890560"
  },
  {
    "text": "all the servers down pick this obviously",
    "start": "890560",
    "end": "892639"
  },
  {
    "text": "this this stuff is all hidden now",
    "start": "892639",
    "end": "894480"
  },
  {
    "text": "from us but if you can pick a server",
    "start": "894480",
    "end": "898320"
  },
  {
    "text": "now you put the load balancing on the",
    "start": "898320",
    "end": "900320"
  },
  {
    "text": "client side",
    "start": "900320",
    "end": "902160"
  },
  {
    "text": "and if the clients are are well balanced",
    "start": "902160",
    "end": "905360"
  },
  {
    "text": "and well written then",
    "start": "905360",
    "end": "906720"
  },
  {
    "text": "that's not a big deal but that will",
    "start": "906720",
    "end": "909199"
  },
  {
    "text": "avoid",
    "start": "909199",
    "end": "910639"
  },
  {
    "text": "the need often of a back end",
    "start": "910639",
    "end": "914399"
  },
  {
    "text": "load balancer right so that's",
    "start": "914399",
    "end": "918160"
  },
  {
    "text": "just one less thing uh you",
    "start": "918160",
    "end": "921519"
  },
  {
    "text": "you need to worry about when it comes to",
    "start": "921519",
    "end": "924079"
  },
  {
    "text": "back end",
    "start": "924079",
    "end": "924800"
  },
  {
    "text": "system design and i don't know which one",
    "start": "924800",
    "end": "927519"
  },
  {
    "text": "is the",
    "start": "927519",
    "end": "928320"
  },
  {
    "text": "better one i think each approach have",
    "start": "928320",
    "end": "931040"
  },
  {
    "text": "pros and cons",
    "start": "931040",
    "end": "932079"
  },
  {
    "text": "definitely the second one you don't have",
    "start": "932079",
    "end": "934000"
  },
  {
    "text": "to worry about a load balancer",
    "start": "934000",
    "end": "936079"
  },
  {
    "text": "or reverse proxy that maintains like",
    "start": "936079",
    "end": "938399"
  },
  {
    "text": "these two sides the front and the",
    "start": "938399",
    "end": "940320"
  },
  {
    "text": "back and that's tough man and and and uh",
    "start": "940320",
    "end": "944399"
  },
  {
    "text": "yeah that's can that can lead into a lot",
    "start": "944399",
    "end": "947199"
  },
  {
    "text": "of",
    "start": "947199",
    "end": "948079"
  },
  {
    "text": "uh configuration hell i believe",
    "start": "948079",
    "end": "952320"
  },
  {
    "text": "but yeah guys i think that's that's all",
    "start": "952320",
    "end": "954079"
  },
  {
    "text": "i want to discuss today",
    "start": "954079",
    "end": "956399"
  },
  {
    "text": "whatsapp reaching three million twenty",
    "start": "956399",
    "end": "959279"
  },
  {
    "text": "sixty i'm pretty",
    "start": "959279",
    "end": "960240"
  },
  {
    "text": "sure they reached now four million",
    "start": "960240",
    "end": "961759"
  },
  {
    "text": "connections paired to",
    "start": "961759",
    "end": "963680"
  },
  {
    "text": "per server and and and i wish i just",
    "start": "963680",
    "end": "966880"
  },
  {
    "text": "wish that",
    "start": "966880",
    "end": "967519"
  },
  {
    "text": "someone from the whatsapp team can help",
    "start": "967519",
    "end": "970000"
  },
  {
    "text": "us and then",
    "start": "970000",
    "end": "971360"
  },
  {
    "text": "answer these all these unanswered",
    "start": "971360",
    "end": "973519"
  },
  {
    "text": "questions",
    "start": "973519",
    "end": "974399"
  },
  {
    "text": "and maybe they are answered somewhere in",
    "start": "974399",
    "end": "976079"
  },
  {
    "text": "the web who knows guys",
    "start": "976079",
    "end": "977519"
  },
  {
    "text": "i searched but i couldn't find anything",
    "start": "977519",
    "end": "979680"
  },
  {
    "text": "when it comes to whatsapp engineering",
    "start": "979680",
    "end": "982240"
  },
  {
    "text": "uh the only thing i find regarding",
    "start": "982240",
    "end": "984880"
  },
  {
    "text": "engineering are these two blogs",
    "start": "984880",
    "end": "986800"
  },
  {
    "text": "that's a few other stuff",
    "start": "986800",
    "end": "989920"
  },
  {
    "text": "alright guys um that's it for me today",
    "start": "989920",
    "end": "992880"
  },
  {
    "text": "hope you enjoyed this episode",
    "start": "992880",
    "end": "994399"
  },
  {
    "text": "i'm gonna see you in the next one you",
    "start": "994399",
    "end": "996480"
  },
  {
    "text": "guys stay awesome",
    "start": "996480",
    "end": "997519"
  },
  {
    "text": "goodbye",
    "start": "997519",
    "end": "999839"
  }
]