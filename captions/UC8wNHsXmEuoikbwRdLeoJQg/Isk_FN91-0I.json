[
  {
    "text": "All right, so welcome in everyone. Tim and I were just talking before we",
    "start": "5000",
    "end": "10708"
  },
  {
    "text": "started the recording about where we had kind of left off last time, it's been a while since we actually had a moment to",
    "start": "10708",
    "end": "17916"
  },
  {
    "text": "work on the re-imagining of content layer with like the newest effect. And I think the last time we met Tim and",
    "start": "17916",
    "end": "25250"
  },
  {
    "text": "I were talking about how we were working on the source models, plugins,",
    "start": "25250",
    "end": "31916"
  },
  {
    "text": "and then we started working on computed fields and I think we actually got computed fields working.",
    "start": "31916",
    "end": "36708"
  },
  {
    "text": "Um, but maybe we could take a look at where we left off last time and then we",
    "start": "38250",
    "end": "45375"
  },
  {
    "text": "can, we can go from there. Maybe if we just run",
    "start": "45375",
    "end": "51791"
  },
  {
    "text": "it, see what happens. Yeah. One of the things I wanted to check if we did the last time. So I know we were",
    "start": "51791",
    "end": "57958"
  },
  {
    "text": "working on computed fields. I'm pretty sure we got them working, but one of the things I wanted to check was.",
    "start": "57958",
    "end": "63000"
  },
  {
    "text": "Did we, are we properly processing the computed fields in, in like, you know,",
    "start": "64166",
    "end": "70291"
  },
  {
    "text": "because, um, the groups of computed",
    "start": "70291",
    "end": "75416"
  },
  {
    "text": "fields are supposed to be processed, each field in a group is processed concurrently, can be processed concurrently and then eat,",
    "start": "75416",
    "end": "82500"
  },
  {
    "text": "but each group has to be processed sequentially. I think we did that. I just want to make sure. Yeah.",
    "start": "82500",
    "end": "87666"
  },
  {
    "text": "I remember we went into",
    "start": "87708",
    "end": "93000"
  },
  {
    "text": "that in quite a bit of detail. So this is the document builder service,",
    "start": "93000",
    "end": "100125"
  },
  {
    "text": "which takes the document source, takes every output from the",
    "start": "100416",
    "end": "109250"
  },
  {
    "text": "source and then builds the document from it.",
    "start": "109250",
    "end": "111833"
  },
  {
    "text": "So it's like it pipes the fields through",
    "start": "114958",
    "end": "122208"
  },
  {
    "text": "the schema resolve computed fields.",
    "start": "122208",
    "end": "126500"
  },
  {
    "text": "Yeah. So for every group, it does it concurrently. Yeah.",
    "start": "129708",
    "end": "133125"
  },
  {
    "text": "Perfect. Yeah. Looks good.",
    "start": "135916",
    "end": "138958"
  },
  {
    "text": "Cool. Uh, well, so we have.",
    "start": "141333",
    "end": "147750"
  },
  {
    "text": "Resolve documents. And I remember also remember we've been real schema.",
    "start": "150750",
    "end": "157665"
  },
  {
    "text": "Well, the, the watcher was working, I think as well. Like when we would edit a document,",
    "start": "158250",
    "end": "163291"
  },
  {
    "text": "What can we edit that we can see? Maybe if we just remove.",
    "start": "173541",
    "end": "178166"
  },
  {
    "text": "That's interesting. That type isn't correct.",
    "start": "183125",
    "end": "186916"
  },
  {
    "text": "That should be the actual non schema types.",
    "start": "188833",
    "end": "197125"
  },
  {
    "text": "Let's double check it. so that will be in",
    "start": "198250",
    "end": "204290"
  },
  {
    "text": "the document modules.",
    "start": "204291",
    "end": "206291"
  },
  {
    "text": "Resolve gets fields.",
    "start": "210125",
    "end": "213750"
  },
  {
    "text": "I wonder if we modified what fields looks like in the parent type. It would be coming",
    "start": "218000",
    "end": "223458"
  },
  {
    "text": "down from the document. Yeah. So if we",
    "start": "223458",
    "end": "228166"
  },
  {
    "text": "Document. Yeah. The fields is the schema type.",
    "start": "235875",
    "end": "241416"
  },
  {
    "text": "Yeah. Okay. Is that what we want?",
    "start": "242166",
    "end": "245708"
  },
  {
    "text": "Fields. Yep. Okay. So if we go to.",
    "start": "247750",
    "end": "253665"
  },
  {
    "text": "Resolve fields. This should be schema.",
    "start": "256750",
    "end": "263707"
  },
  {
    "text": "So I think we're going to have to pass it on the generic",
    "start": "270666",
    "end": "276375"
  },
  {
    "text": "extension all the way down. Because I think like in the generic of",
    "start": "276375",
    "end": "282708"
  },
  {
    "text": "computer fields fields is not. I think.",
    "start": "282708",
    "end": "285041"
  },
  {
    "text": "We're in the version. Oh yeah.",
    "start": "288583",
    "end": "293666"
  },
  {
    "text": "Cause wait, did you update effect? You have to effect the latest. Yeah. And now we're using effect",
    "start": "293666",
    "end": "299625"
  },
  {
    "text": "schema from effect, right? I think I already did that migration.",
    "start": "300083",
    "end": "305041"
  },
  {
    "text": "Okay.",
    "start": "306166",
    "end": "306457"
  },
  {
    "text": "Okay.",
    "start": "315375",
    "end": "328416"
  },
  {
    "text": "Let's get rid of the modules.",
    "start": "335708",
    "end": "336916"
  },
  {
    "text": "Yeah.",
    "start": "344916",
    "end": "345125"
  },
  {
    "text": "What do I got here? No. Any document.",
    "start": "367916",
    "end": "376250"
  },
  {
    "text": "If you look at, in the document in the computed fields, what are we actually passing into the computed",
    "start": "377541",
    "end": "382583"
  },
  {
    "text": "field inside the document? So the summing is.",
    "start": "382583",
    "end": "386541"
  },
  {
    "text": "And then what goes into the computed fields there at the bottom?",
    "start": "387750",
    "end": "392458"
  },
  {
    "text": "Fields. What are we actually passing in there? So it doesn't have any constraint there.",
    "start": "397458",
    "end": "402250"
  },
  {
    "text": "So we go computed field and computer field fields.",
    "start": "402791",
    "end": "410875"
  },
  {
    "text": "Where's the top or add computer field? I think the time.",
    "start": "417291",
    "end": "422916"
  },
  {
    "text": "It is. Computed field",
    "start": "422916",
    "end": "428082"
  },
  {
    "text": "schemas exclude duplicates.",
    "start": "428083",
    "end": "435208"
  },
  {
    "text": "So I think here we just need to go.",
    "start": "439541",
    "end": "442457"
  },
  {
    "text": "Wait a minute. That's not right.",
    "start": "450708",
    "end": "451916"
  },
  {
    "text": "In from do Helhart, though.",
    "start": "461375",
    "end": "463583"
  },
  {
    "text": "that's my getting frustrated with my NeoVim setup. All right.",
    "start": "481666",
    "end": "487208"
  },
  {
    "text": "Oh, the type checks. That must mean it works.",
    "start": "511208",
    "end": "516333"
  },
  {
    "text": "Yeah, we know we are. We can do schema.struct.type fields.",
    "start": "517666",
    "end": "524666"
  },
  {
    "text": "We can't do it. We fixed it. Build.",
    "start": "531666",
    "end": "534375"
  },
  {
    "text": "We could simplify it.",
    "start": "560083",
    "end": "564500"
  },
  {
    "text": "I thought I'd simplify it elsewhere, but...",
    "start": "568875",
    "end": "571375"
  },
  {
    "text": "You may want to somewhere else in this, in this, in the, somewhere",
    "start": "582791",
    "end": "589250"
  },
  {
    "text": "else in the document file, I use simplify, but I think I use schema.simplify.",
    "start": "589250",
    "end": "594166"
  },
  {
    "text": "You may want to just... You can use one or the other.",
    "start": "595000",
    "end": "599291"
  },
  {
    "text": "I'll have a look in a bit.",
    "start": "600875",
    "end": "602583"
  },
  {
    "text": "Yeah, that's better. Can you validate the",
    "start": "609125",
    "end": "614708"
  },
  {
    "text": "exclude duplicates logic as well, just to make sure that's still working? Like if we change slug two to slug.",
    "start": "614708",
    "end": "619541"
  },
  {
    "text": "We still get the... Nice. Well, that's... Oh, you mean over here.",
    "start": "621958",
    "end": "627208"
  },
  {
    "text": "Yeah, sorry. Nice. Okay. I hate my mouse. I hate my mouse.",
    "start": "627916",
    "end": "633208"
  },
  {
    "text": "Maybe we should change that. I don't know. It seems pretty descriptive to me.",
    "start": "637708",
    "end": "643458"
  },
  {
    "text": "hate.",
    "start": "648708",
    "end": "649583"
  },
  {
    "text": "duplicate.",
    "start": "654000",
    "end": "658333"
  },
  {
    "text": "This was actually an interesting case. I'm pretty sure because I'm doing name extends key of fields end string,",
    "start": "660958",
    "end": "665833"
  },
  {
    "text": "I was, I'm pretty sure I can't interpolate it.",
    "start": "667291",
    "end": "670375"
  },
  {
    "text": "That's letting you do it? I remember not being able to do that before.",
    "start": "676166",
    "end": "680333"
  },
  {
    "text": "Okay. Well, it worked.",
    "start": "681333",
    "end": "685958"
  },
  {
    "text": "So there's another simplified here. Somewhere, there it is.",
    "start": "687291",
    "end": "693833"
  },
  {
    "text": "Thank you. Well, that's interesting.",
    "start": "696666",
    "end": "701833"
  },
  {
    "text": "Interesting.",
    "start": "709375",
    "end": "709666"
  },
  {
    "text": "Okay. So it seems like the other simplified doesn't preserve the type.",
    "start": "715625",
    "end": "721625"
  },
  {
    "text": "So, we'll just use the schema one.",
    "start": "723208",
    "end": "727333"
  },
  {
    "text": "Get rid of that. Duplicate fields like great.",
    "start": "749541",
    "end": "755708"
  },
  {
    "text": "And that looks good. What else does resolve get?",
    "start": "760500",
    "end": "764708"
  },
  {
    "text": "The only other thing you may want to test here is changing the type of the,",
    "start": "765708",
    "end": "770583"
  },
  {
    "text": "just to test the, if you like effect dot succeed with like a number or something, just check to see if...",
    "start": "771375",
    "end": "779208"
  },
  {
    "text": "With a number. Yeah.",
    "start": "784083",
    "end": "787875"
  },
  {
    "text": "Should you type R here? Yes. Cool.",
    "start": "790916",
    "end": "795750"
  },
  {
    "text": "So, computed fields work.",
    "start": "803958",
    "end": "807750"
  },
  {
    "text": "Fields work, source is working. Is that what we expect?",
    "start": "810750",
    "end": "816416"
  },
  {
    "text": "We don't have a body.",
    "start": "838000",
    "end": "840958"
  },
  {
    "text": "Very good. Content layer config. Would body be...",
    "start": "854375",
    "end": "860000"
  },
  {
    "text": "Then we just get body.",
    "start": "860625",
    "end": "863000"
  },
  {
    "text": "Is body something that you foresee that the user attaching to their input schema",
    "start": "868458",
    "end": "875916"
  },
  {
    "text": "if they want it for a markdown document or something? Or do you foresee the source,",
    "start": "875916",
    "end": "880333"
  },
  {
    "text": "like do you foresee us like specifying document types in the source?",
    "start": "881958",
    "end": "886666"
  },
  {
    "text": "You know what I mean? Because basically,",
    "start": "887875",
    "end": "889666"
  },
  {
    "text": "I'm trying to think like, if you let's say like have a file system source that's pulling markdown and MDX documents,",
    "start": "895000",
    "end": "900791"
  },
  {
    "text": "probably one of the more common use cases. Should that be something that the source plugin",
    "start": "902208",
    "end": "909791"
  },
  {
    "text": "handles like gets you like the body and other stuff about the markdown document? Or is that a field",
    "start": "911458",
    "end": "917583"
  },
  {
    "text": "that the user has to put into their schema? Do you know what I'm saying? I think it's a field.",
    "start": "917583",
    "end": "923583"
  },
  {
    "text": "That's just another field like everything else. Okay.",
    "start": "924833",
    "end": "929958"
  },
  {
    "text": "Works for me. In this case, our body is HTML already.",
    "start": "931708",
    "end": "937333"
  },
  {
    "text": "Which means, no, because we got rehype.",
    "start": "939875",
    "end": "944208"
  },
  {
    "text": "and rehype turns markdown into HTML.",
    "start": "950166",
    "end": "956000"
  },
  {
    "text": "Is that what we want?",
    "start": "961541",
    "end": "962750"
  },
  {
    "text": "Yeah, we just use normal remark.",
    "start": "970416",
    "end": "973250"
  },
  {
    "text": "We get the body with the front meta. Kind of want the front",
    "start": "975458",
    "end": "986666"
  },
  {
    "text": "meta stripped out of that one, I guess. Yeah.",
    "start": "986666",
    "end": "991291"
  },
  {
    "text": "That remark remove front meta.",
    "start": "993750",
    "end": "998583"
  },
  {
    "text": "The body is just an ephemeral property that you can put into your schema",
    "start": "1017250",
    "end": "1023791"
  },
  {
    "text": "if you have a document type that supports it. Like I guess how does the user know?",
    "start": "1024500",
    "end": "1030291"
  },
  {
    "text": "It's the remark plugin. It's the body field.",
    "start": "1030708",
    "end": "1036625"
  },
  {
    "text": "But if you don't specify it as a schema field, it won't come out right?",
    "start": "1038250",
    "end": "1042416"
  },
  {
    "text": "So currently the file system source just provides that",
    "start": "1045166",
    "end": "1050875"
  },
  {
    "text": "content APIs or implements them.",
    "start": "1050875",
    "end": "1054666"
  },
  {
    "text": "And then it's up to the plugins whether they use these or not.",
    "start": "1056250",
    "end": "1062208"
  },
  {
    "text": "So if a user wanted like the raw content from a, they could do that in the resolve",
    "start": "1064666",
    "end": "1070375"
  },
  {
    "text": "of like a computed field, for example, or? So if we go to source plugin,",
    "start": "1070375",
    "end": "1075875"
  },
  {
    "text": "currently it accesses the content of the document.",
    "start": "1076791",
    "end": "1086833"
  },
  {
    "text": "And then processes it and then it's the fields.",
    "start": "1089375",
    "end": "1092708"
  },
  {
    "text": "So let's say that I'm working on my content layer config then.",
    "start": "1102041",
    "end": "1106625"
  },
  {
    "text": "And as part of the output, I also want access to like the raw document body.",
    "start": "1108750",
    "end": "1113208"
  },
  {
    "text": "So then here, you can access the",
    "start": "1137625",
    "end": "1143833"
  },
  {
    "text": "raw content if you want or you can do that,",
    "start": "1143833",
    "end": "1154375"
  },
  {
    "text": "but it isn't type safe.",
    "start": "1154375",
    "end": "1156000"
  },
  {
    "text": "What do we got here? Output has file system in the unified output.",
    "start": "1173000",
    "end": "1179208"
  },
  {
    "text": "Because I guess the only like downside right now with like the body situation is that the user",
    "start": "1187250",
    "end": "1194000"
  },
  {
    "text": "just kind of has to know that the body is available with this source, right?",
    "start": "1194000",
    "end": "1198208"
  },
  {
    "text": "And has to add it to the issue. So like, for example, if we have,",
    "start": "1199083",
    "end": "1202625"
  },
  {
    "text": "have we have a source like you were mentioning before we start the stream where the document in question doesn't support a body?",
    "start": "1205041",
    "end": "1211875"
  },
  {
    "text": "Yeah. So the user would have to like in the current design, the user would have to know that.",
    "start": "1213291",
    "end": "1218208"
  },
  {
    "text": "Well, that's quite common for like, like in a CMS to have",
    "start": "1220708",
    "end": "1225291"
  },
  {
    "text": "document types that address metadata.",
    "start": "1228166",
    "end": "1231791"
  },
  {
    "text": "Right. I agree with you. I'm just saying that like, let's say that we were sourcing from a CMS,",
    "start": "1235083",
    "end": "1240666"
  },
  {
    "text": "that's just like a document type that's metadata or something like that. If as a user of content layer,",
    "start": "1240875",
    "end": "1247875"
  },
  {
    "text": "if I want to like parse that into my, my particular document type,",
    "start": "1247875",
    "end": "1254208"
  },
  {
    "text": "I kind of there, this body field right now is sort of like tricky, right?",
    "start": "1255375",
    "end": "1261916"
  },
  {
    "text": "Cause it's like, oh, it's a markdown document. So I should have a body available, right?",
    "start": "1261916",
    "end": "1266625"
  },
  {
    "text": "I wonder if we can figure out a way to make the source add those things.",
    "start": "1267625",
    "end": "1273916"
  },
  {
    "text": "Yeah, I guess,",
    "start": "1279208",
    "end": "1279875"
  },
  {
    "text": "where you just add like the pseudo other source.",
    "start": "1285333",
    "end": "1292291"
  },
  {
    "text": "I guess in here you could do like API key or something.",
    "start": "1294625",
    "end": "1300666"
  },
  {
    "text": "In here you just have like question.",
    "start": "1303958",
    "end": "1311416"
  },
  {
    "text": "That's it. And then you would have like your Q and A's",
    "start": "1317000",
    "end": "1322875"
  },
  {
    "text": "coming from a CMS.",
    "start": "1322875",
    "end": "1323791"
  },
  {
    "text": "Yeah, I think we'll need to use this a little bit, figure out where like the stuff that might not be clear is.",
    "start": "1335333",
    "end": "1341416"
  },
  {
    "text": "for me right now, like adding the body as a field feels weird.",
    "start": "1341458",
    "end": "1346166"
  },
  {
    "text": "Feel like there's a, maybe there's a way we can get it in as this part of the source.",
    "start": "1347125",
    "end": "1352583"
  },
  {
    "text": "If the document support, like sure, a file system source for",
    "start": "1353708",
    "end": "1359541"
  },
  {
    "text": "certain document types, like the, like imagine you're sourcing",
    "start": "1359541",
    "end": "1367083"
  },
  {
    "text": "from the file system, but you put a document that doesn't support like a body. Right, like an image.",
    "start": "1367083",
    "end": "1373958"
  },
  {
    "text": "I mean, you can always access the raw content here.",
    "start": "1374625",
    "end": "1378625"
  },
  {
    "text": "Right. Which will be the raw body.",
    "start": "1379666",
    "end": "1384416"
  },
  {
    "text": "But in this case, this is the process body from the plugin.",
    "start": "1386625",
    "end": "1389750"
  },
  {
    "text": "I mean, my experience is a bit different. I'm mostly working with",
    "start": "1398291",
    "end": "1403666"
  },
  {
    "text": "CMSs and you always have to add an explicit body field. That's something I'm used to doing, but.",
    "start": "1403666",
    "end": "1410541"
  },
  {
    "text": "Yeah, it's like, I think I have like the opposite. It's good that we're both doing this. Like I have the experience",
    "start": "1415625",
    "end": "1421875"
  },
  {
    "text": "of working mostly with like local content sources and where the body is given to you",
    "start": "1421875",
    "end": "1426916"
  },
  {
    "text": "by default. Like with the Astro one or even with the existing content",
    "start": "1426916",
    "end": "1433208"
  },
  {
    "text": "layer, with the existing content layer API, the body is given to you by default.",
    "start": "1433291",
    "end": "1438875"
  },
  {
    "text": "At this Crumple Dev, we are, this is a series of videos that the question was,",
    "start": "1439708",
    "end": "1445750"
  },
  {
    "text": "what's the content layer module useful for? It seems interesting looking at the code. This is a project that",
    "start": "1445750",
    "end": "1451250"
  },
  {
    "text": "we've been sort of working on longitudinally for a while.",
    "start": "1451250",
    "end": "1456083"
  },
  {
    "text": "We thought it would be fun to take content layer, which is a project that was written by",
    "start": "1456666",
    "end": "1463416"
  },
  {
    "text": "Johannes Schickling. I'll give him a chat.",
    "start": "1463416",
    "end": "1466625"
  },
  {
    "text": "And is written with effect, but a much older version of effect.",
    "start": "1469708",
    "end": "1473583"
  },
  {
    "text": "We thought it would be fun to take this project and update it to like use the latest effect,",
    "start": "1475541",
    "end": "1481416"
  },
  {
    "text": "as well as see if we could make it much more like efficient and faster,",
    "start": "1481791",
    "end": "1487000"
  },
  {
    "text": "parallelize document processing, makes sourcing documents more flexible,",
    "start": "1487375",
    "end": "1492291"
  },
  {
    "text": "make the schema for a given document type more strict, add a lot more type",
    "start": "1493083",
    "end": "1499041"
  },
  {
    "text": "safety, that sort of thing. Yeah, so that's kind of what we're working on.",
    "start": "1499041",
    "end": "1504291"
  },
  {
    "text": "And it's not a module. This is what actually be like a separate package,",
    "start": "1504666",
    "end": "1508833"
  },
  {
    "text": "separate from like the effect core package, but it's not published or anything yet. This is basically just us streaming our development process.",
    "start": "1510125",
    "end": "1516125"
  },
  {
    "text": "Anyways, I think we can go with thing, this the way it is for now, Tim.",
    "start": "1520083",
    "end": "1524208"
  },
  {
    "text": "But we keep it in mind that like, like expanding on like what a source actually is",
    "start": "1525291",
    "end": "1531541"
  },
  {
    "text": "might be useful. Yeah, I think the good",
    "start": "1531541",
    "end": "1536625"
  },
  {
    "text": "thing about this design is that the source is truly generic",
    "start": "1536625",
    "end": "1541000"
  },
  {
    "text": "and just provides information to your schema.",
    "start": "1542041",
    "end": "1544583"
  },
  {
    "text": "And then the moment you start enforcing certain fields, then you kind of have to work around",
    "start": "1547708",
    "end": "1556208"
  },
  {
    "text": "that if your source doesn't conform to what we expect",
    "start": "1557250",
    "end": "1562125"
  },
  {
    "text": "or all the restrictions we enforce.",
    "start": "1562416",
    "end": "1564708"
  },
  {
    "text": "But if we just power on through. Yeah, I'd say let's keep",
    "start": "1567666",
    "end": "1572875"
  },
  {
    "text": "going and work on maybe some other features that we're interested in that. Yeah, one thing I wanna do is get rid of the front meta",
    "start": "1572875",
    "end": "1584458"
  },
  {
    "text": "out of this body here. I'm sure it's easy to do.",
    "start": "1584458",
    "end": "1590625"
  },
  {
    "text": "And this is just the re-mark. So the re-mark is already passing this front meta",
    "start": "1591791",
    "end": "1596916"
  },
  {
    "text": "but it leaves in the body.",
    "start": "1596916",
    "end": "1600208"
  },
  {
    "text": "If we can't figure this out. Remark. Maybe if I just console.log this b file",
    "start": "1603541",
    "end": "1613625"
  },
  {
    "text": "Yeah, this one won't. It's annoying that we have like two realms happening.",
    "start": "1623916",
    "end": "1632416"
  },
  {
    "text": "We've got the content layer config realm and then we've got the CLI realm.",
    "start": "1632416",
    "end": "1638541"
  },
  {
    "text": "So you have to build separately. Yeah.",
    "start": "1639916",
    "end": "1643541"
  },
  {
    "text": "So what do we got in here? Current working directory, the front meta passed",
    "start": "1645875",
    "end": "1650041"
  },
  {
    "text": "in this value. I wonder if we can,",
    "start": "1651583",
    "end": "1659000"
  },
  {
    "text": "normally you can just get like the stretch body somewhere.",
    "start": "1661291",
    "end": "1664875"
  },
  {
    "text": "Remark strip front meta There's also, I wonder if you can do",
    "start": "1674666",
    "end": "1683208"
  },
  {
    "text": "something like this. I'll send you a screenshot.",
    "start": "1683208",
    "end": "1685208"
  },
  {
    "text": "just getting the tree.",
    "start": "1692208",
    "end": "1697458"
  },
  {
    "text": "The tree. The function that returns a function.",
    "start": "1701500",
    "end": "1707541"
  },
  {
    "text": "Interesting. So we want to...",
    "start": "1708291",
    "end": "1712666"
  },
  {
    "text": "tree.",
    "start": "1722041",
    "end": "1722250"
  },
  {
    "text": "I don't know if we literally like, just log out the tree and see what we have to work with there.",
    "start": "1727916",
    "end": "1733458"
  },
  {
    "text": "I was wondering if we can run that. It would look like a watch mode.",
    "start": "1751666",
    "end": "1757500"
  },
  {
    "text": "It would, no, it's still lots of random things.",
    "start": "1758458",
    "end": "1761333"
  },
  {
    "text": "So it's returning an AST. Oh yeah, maybe if we just",
    "start": "1775666",
    "end": "1781166"
  },
  {
    "text": "remove, strip out the top, yeah, the other ones.",
    "start": "1781916",
    "end": "1788750"
  },
  {
    "text": "Yeah, that's one option. You said you found a Remark strip front meta",
    "start": "1795375",
    "end": "1801125"
  },
  {
    "text": "Remark strip. no, I was just googling that, but I didn't find anything, I guess.",
    "start": "1801458",
    "end": "1805541"
  },
  {
    "text": "So how do I modify, return to modified tree?",
    "start": "1811250",
    "end": "1815541"
  },
  {
    "text": "Use,",
    "start": "1818041",
    "end": "1818250"
  },
  {
    "text": "returns, types in JS.doc just don't really help.",
    "start": "1824000",
    "end": "1829916"
  },
  {
    "text": "Now we, add plugin.",
    "start": "1836375",
    "end": "1840708"
  },
  {
    "text": "So what is this, U and,",
    "start": "1849416",
    "end": "1850583"
  },
  {
    "text": "Weird because, which,",
    "start": "1859000",
    "end": "1864000"
  },
  {
    "text": "Are we piping it through Remark front matter? In that, in that plugin?",
    "start": "1868041",
    "end": "1873916"
  },
  {
    "text": "We are, right? Yeah, Remark front matter.",
    "start": "1875250",
    "end": "1882416"
  },
  {
    "text": "Can you remove, can you remove the parse front matter?",
    "start": "1883083",
    "end": "1886791"
  },
  {
    "text": "And then just get rid of the tree thingy that we have there for a moment.",
    "start": "1888250",
    "end": "1890916"
  },
  {
    "text": "I know that we're going to, cause I'm just like reading through random stuff. Yeah.",
    "start": "1894083",
    "end": "1898833"
  },
  {
    "text": "It seems, I read some of the, types I found in there, but,",
    "start": "1899791",
    "end": "1904833"
  },
  {
    "text": "we'll just roll with that. Roll with it.",
    "start": "1906625",
    "end": "1911041"
  },
  {
    "text": "No, we can't. Undefined is not a sign of all type, node.",
    "start": "1914666",
    "end": "1919916"
  },
  {
    "text": "I wonder why it gives undefined, weird. Yeah, I don't know. probably because is using JSdoc.",
    "start": "1960875",
    "end": "1966916"
  },
  {
    "text": "So...",
    "start": "1990000",
    "end": "1990291"
  },
  {
    "text": "I don't actually know what that plugin is doing.",
    "start": "1997541",
    "end": "2000291"
  },
  {
    "text": "Doesn't parse a third side of them. Maybe it just adds those YAML nodes.",
    "start": "2007916",
    "end": "2013166"
  },
  {
    "text": "Yeah, try it. What if you, what if you literally remove,",
    "start": "2018208",
    "end": "2022250"
  },
  {
    "text": "all the front matter stuff entirely? I don't think that's going to work, but...",
    "start": "2024750",
    "end": "2028166"
  },
  {
    "text": "Transform callback.",
    "start": "2029916",
    "end": "2031083"
  },
  {
    "text": "So, it doesn't, we don't have that YAML node anymore.",
    "start": "2063541",
    "end": "2067666"
  },
  {
    "text": "Cool. If you don't want front matter, don't use the front matter.",
    "start": "2069916",
    "end": "2073041"
  },
  {
    "text": "Change. We haven't got...",
    "start": "2076916",
    "end": "2079583"
  },
  {
    "text": "Yeah, what is the raw? So, it's just a heading nil.",
    "start": "2082916",
    "end": "2088333"
  },
  {
    "text": "Interesting. Interesting.",
    "start": "2089750",
    "end": "2092125"
  },
  {
    "text": "So, it just doesn't parse it correctly. So, you add the front matter further than it.",
    "start": "2095416",
    "end": "2099625"
  },
  {
    "text": "You get a proper tree.",
    "start": "2101916",
    "end": "2103750"
  },
  {
    "text": "It's not really any docs here. About creating a plugin tree traversal.",
    "start": "2123916",
    "end": "2130916"
  },
  {
    "text": "Oh, it's getting...",
    "start": "2145958",
    "end": "2147208"
  },
  {
    "text": "Stuck. On here. Maybe because I'm not calling...",
    "start": "2151458",
    "end": "2155291"
  },
  {
    "text": "This callback, maybe I need to go next...",
    "start": "2158166",
    "end": "2160583"
  },
  {
    "text": "With the tree.",
    "start": "2163250",
    "end": "2165125"
  },
  {
    "text": "Error tree. No tree.",
    "start": "2169708",
    "end": "2171916"
  },
  {
    "text": "End front tree.",
    "start": "2177041",
    "end": "2178375"
  },
  {
    "text": "So, Remark, Rehype. I think strips front matter.",
    "start": "2183083",
    "end": "2187541"
  },
  {
    "text": "But... Okay.",
    "start": "2191833",
    "end": "2196458"
  },
  {
    "text": "But it turns it into HTML.",
    "start": "2197625",
    "end": "2198916"
  },
  {
    "text": "You know what this plugin is doing.",
    "start": "2208333",
    "end": "2209958"
  },
  {
    "text": "So, how do we... Modify this tree?",
    "start": "2219916",
    "end": "2224916"
  },
  {
    "text": "I think you basically, in the second function that you return... Yeah, you can just return...",
    "start": "2240250",
    "end": "2245333"
  },
  {
    "text": "You would return the tree, but you gotta do something to remove it, right?",
    "start": "2246125",
    "end": "2249083"
  },
  {
    "text": "Well, I should have looked. This is quite a common use case.",
    "start": "2291083",
    "end": "2294916"
  },
  {
    "text": "I'm definitely missing something. Well, neither of us have really...",
    "start": "2299500",
    "end": "2304541"
  },
  {
    "text": "Neither of us have really used it very much, so... Yeah.",
    "start": "2305708",
    "end": "2309708"
  },
  {
    "text": "Maybe we're putting string of five in the wrong place.",
    "start": "2332958",
    "end": "2335833"
  },
  {
    "text": "I like this line of thought.",
    "start": "2344208",
    "end": "2345750"
  },
  {
    "text": "The logic is strong here.",
    "start": "2351833",
    "end": "2352916"
  },
  {
    "text": "Fine.",
    "start": "2363916",
    "end": "2364458"
  },
  {
    "text": "So, zero other than two, by the...",
    "start": "2373708",
    "end": "2375708"
  },
  {
    "text": "Remark stringify",
    "start": "2379041",
    "end": "2380916"
  },
  {
    "text": "Options.",
    "start": "2384958",
    "end": "2385916"
  },
  {
    "text": "Remark stringify five removed front...",
    "start": "2415416",
    "end": "2419208"
  },
  {
    "text": "Maybe we could just edit the tree... ...and shelter out the...",
    "start": "2468041",
    "end": "2475333"
  },
  {
    "text": "...front matter node, I suppose.",
    "start": "2477583",
    "end": "2480583"
  },
  {
    "text": "Tree traversal.",
    "start": "2486166",
    "end": "2487833"
  },
  {
    "text": "Remove handle. And this is going to be a unified plugin.",
    "start": "2493333",
    "end": "2501416"
  },
  {
    "text": "Tree dot type. Doesn't equal root. Tree dot.",
    "start": "2517833",
    "end": "2525000"
  },
  {
    "text": "There is a... There is a \"unist\" util visit thingy...",
    "start": "2530458",
    "end": "2536541"
  },
  {
    "text": "...that allows you to visit the nodes of a tree... ...of a particular type.",
    "start": "2537208",
    "end": "2541708"
  },
  {
    "text": "I'm trying to see how you actually remove nodes.",
    "start": "2542916",
    "end": "2546875"
  },
  {
    "text": "\"Unist\" util filter. There. There.",
    "start": "2551875",
    "end": "2556708"
  },
  {
    "text": "You can use this utility to remove things from a tree. This utility is very similar to \"unist\" util remove...",
    "start": "2558208",
    "end": "2563375"
  },
  {
    "text": "...which changes the hash. Modify your tree like... Cool.",
    "start": "2565125",
    "end": "2568916"
  },
  {
    "text": "Okay. Here. And we can try this. I think \"visit\" is a low level one.",
    "start": "2574666",
    "end": "2583583"
  },
  {
    "text": "Yeah, \"visit\" is one that there is a... ...unist util remove one that",
    "start": "2597125",
    "end": "2602791"
  },
  {
    "text": "exposes a remove function... ...that you can basically...",
    "start": "2602791",
    "end": "2605291"
  },
  {
    "text": "...permute all the nodes of a given type... ...I think in place.",
    "start": "2609416",
    "end": "2613708"
  },
  {
    "text": "I sent it to you.",
    "start": "2621375",
    "end": "2622083"
  },
  {
    "text": "I'm not sure why. Let's give me... ...a top and never. Or any?",
    "start": "2669833",
    "end": "2674666"
  },
  {
    "text": "And next... ...parent...",
    "start": "2697083",
    "end": "2699500"
  },
  {
    "text": "...never, never, never. This is great.",
    "start": "2702416",
    "end": "2706833"
  },
  {
    "text": "One more time, sorry.",
    "start": "2719041",
    "end": "2719916"
  },
  {
    "text": "I think... I think if we know the name of the type of the node... ...that we need to remove... ...the plugin...",
    "start": "2740666",
    "end": "2745958"
  },
  {
    "text": "...the \"unist\" thingy that I sent you will... ...do the needful.",
    "start": "2746458",
    "end": "2750458"
  },
  {
    "text": "Everything. What's that? No, you're installing it.",
    "start": "2752583",
    "end": "2757000"
  },
  {
    "text": "So, if we just go... ...to the top of the node...",
    "start": "2800500",
    "end": "2803166"
  },
  {
    "text": "...the table...",
    "start": "2809000",
    "end": "2809583"
  },
  {
    "text": "And then I think you need to put... ...rehype stringify back in the original place. Because you have to... I'm just looking at all the usage of it.",
    "start": "2819208",
    "end": "2825708"
  },
  {
    "text": "Everything says compile... ...then stringify, then parse... ...like parse, then stringify...",
    "start": "2826291",
    "end": "2832208"
  },
  {
    "text": "...then from matter and everything else. I think this... ...stringify is in the wrong place. I think we need to stringify the tree",
    "start": "2833291",
    "end": "2839625"
  },
  {
    "text": "after we've modified it.",
    "start": "2839625",
    "end": "2841375"
  },
  {
    "text": "Weird, because even on Remark front matter, it's like... ...even on their website... ...the unit worked.",
    "start": "2853166",
    "end": "2858041"
  },
  {
    "text": "Can you try putting stringify at the beginning again? Because even on Remark stringify's... ...remark front matter's site...",
    "start": "2860041",
    "end": "2867250"
  },
  {
    "text": "we have remark parse, then stringify, then from matter.",
    "start": "2869500",
    "end": "2871958"
  },
  {
    "text": "Yeah, it still works. Nice.",
    "start": "2886916",
    "end": "2889333"
  },
  {
    "text": "It looks good to me. So it would be cool now.",
    "start": "2895833",
    "end": "2899791"
  },
  {
    "text": "I don't know, like, how much... We probably have some time to start digging into this, but... What would be really cool, I don't know",
    "start": "2901375",
    "end": "2907083"
  },
  {
    "text": "if this is, like, the logical next place to go. But...",
    "start": "2907083",
    "end": "2910791"
  },
  {
    "text": "...we probably want to...",
    "start": "2912166",
    "end": "2913916"
  },
  {
    "text": "...cache... ...documents...",
    "start": "2917291",
    "end": "2920458"
  },
  {
    "text": "...right? Yeah. Oh, what might be...",
    "start": "2922750",
    "end": "2927333"
  },
  {
    "text": "...I don't know if it's like the... I think...",
    "start": "2929416",
    "end": "2933833"
  },
  {
    "text": "...we'll do caching after we just get it working. So maybe if we start exporting the",
    "start": "2935791",
    "end": "2943333"
  },
  {
    "text": "content somewhere now. What is your thought to export to, like, just a...",
    "start": "2943333",
    "end": "2949583"
  },
  {
    "text": "So, somehow, once we've built... ...all the content, we",
    "start": "2949916",
    "end": "2955791"
  },
  {
    "text": "need to write it somewhere. So then you can import it into your...",
    "start": "2955791",
    "end": "2962291"
  },
  {
    "text": "...into your project. So a content layer creates, like, a pseudo package.",
    "start": "2964416",
    "end": "2970125"
  },
  {
    "text": "Yeah. Like the existing one. I don't know if that's the approach we want to take. We could take a similar approach where we",
    "start": "2971458",
    "end": "2977041"
  },
  {
    "text": "create, like, a pseudo package and do it that way. But what is it?",
    "start": "2977041",
    "end": "2981583"
  },
  {
    "text": "What's Astro doing? I'm curious. I think Astro does something similar.",
    "start": "2982166",
    "end": "2987416"
  },
  {
    "text": "I guess, alternatively, you just write...",
    "start": "2993625",
    "end": "2995666"
  },
  {
    "text": "...everything into the project itself.",
    "start": "2998750",
    "end": "3000541"
  },
  {
    "text": "Yeah. You can do that too. It just becomes less...",
    "start": "3003916",
    "end": "3009250"
  },
  {
    "text": "It becomes more annoying from a maintenance perspective because then you'd have to, like... ...you could just get ignored the",
    "start": "3011625",
    "end": "3017625"
  },
  {
    "text": "generated directory. Yeah. Right? That is one option.",
    "start": "3017625",
    "end": "3022916"
  },
  {
    "text": "You just emit it into the project and then get ignored the directory.",
    "start": "3022958",
    "end": "3026916"
  },
  {
    "text": "So content layer is the package.",
    "start": "3031291",
    "end": "3034625"
  },
  {
    "text": "Whoa.",
    "start": "3036958",
    "end": "3037916"
  },
  {
    "text": "That's a big file. I just opened a file that, like, from Astro's content layer.",
    "start": "3043375",
    "end": "3049125"
  },
  {
    "text": "And it's so big that it lagged my Neovim out.",
    "start": "3049958",
    "end": "3054416"
  },
  {
    "text": "Is it the content.astro one? No. There's this file called...",
    "start": "3055916",
    "end": "3062125"
  },
  {
    "text": "Oh, God. I need to get out of this file. There is this file called...",
    "start": "3062916",
    "end": "3068958"
  },
  {
    "text": "...datastore.json. Yeah. So what Astro does is they",
    "start": "3071166",
    "end": "3078583"
  },
  {
    "text": "generate, like, a bunch of stuff into a .astro directory. And then they also have some type gen stuffs.",
    "start": "3078583",
    "end": "3087625"
  },
  {
    "text": "Content entry map.",
    "start": "3088041",
    "end": "3088916"
  },
  {
    "text": "What else do I have here? Integration, settings.",
    "start": "3110750",
    "end": "3113416"
  },
  {
    "text": "I don't see any data. Well, I think that might be what the datastore is.",
    "start": "3116708",
    "end": "3121750"
  },
  {
    "text": "You have to actually run it to generate the thing. Right.",
    "start": "3122208",
    "end": "3125125"
  },
  {
    "text": "But I wouldn't open it if I were you.",
    "start": "3128500",
    "end": "3130458"
  },
  {
    "text": "The content layer, it's...",
    "start": "3144916",
    "end": "3149958"
  },
  {
    "text": "...there's a file per... ...thing, and then... The file.",
    "start": "3151291",
    "end": "3156041"
  },
  {
    "text": "Yeah. There's a file per thing, then there's a cache. But the actual generated one is a file",
    "start": "3156500",
    "end": "3161958"
  },
  {
    "text": "per thing, and I think the generated stuff is all JSON. Yeah. And then it's a subic.",
    "start": "3161958",
    "end": "3168500"
  },
  {
    "text": "Then it creates an array...",
    "start": "3170875",
    "end": "3173416"
  },
  {
    "text": "...from all the exports.",
    "start": "3177541",
    "end": "3178666"
  },
  {
    "text": "Okay.",
    "start": "3191541",
    "end": "3191791"
  },
  {
    "text": "So... astro ...if I go to content...",
    "start": "3200041",
    "end": "3203625"
  },
  {
    "text": "...install... ...let's just build.",
    "start": "3205958",
    "end": "3210000"
  },
  {
    "text": "Build will actually build the project that might take like...",
    "start": "3212208",
    "end": "3215458"
  },
  {
    "text": "...two or three minutes. That's fine, because you're going to actually need to build the project to see",
    "start": "3217833",
    "end": "3223208"
  },
  {
    "text": "the generated content. I'm building it as long as I'm curious.",
    "start": "3223208",
    "end": "3229333"
  },
  {
    "text": "Actually, I wonder if it's... I'm not sure, or not. Where do we actually...",
    "start": "3234791",
    "end": "3241375"
  },
  {
    "text": "...access the content here? So... ...because we're using...",
    "start": "3243541",
    "end": "3249958"
  },
  {
    "text": "...pages... ...not pages...",
    "start": "3249958",
    "end": "3254500"
  },
  {
    "text": "...open... ...get collection... Yeah, get collection is the method that we use.",
    "start": "3255750",
    "end": "3259916"
  },
  {
    "text": "And they use the clear module.",
    "start": "3277291",
    "end": "3279166"
  },
  {
    "text": "It is extremely entertaining watching you hit your comma button.",
    "start": "3358250",
    "end": "3361666"
  },
  {
    "text": "So, actually... ...we're going to take a list of all the entries.",
    "start": "3369291",
    "end": "3373291"
  },
  {
    "text": "Interesting.",
    "start": "3375666",
    "end": "3376416"
  },
  {
    "text": "Oh, well. So, entries is like a massive",
    "start": "3383250",
    "end": "3389500"
  },
  {
    "text": "union of the original entry. No. I'm not sure if we want that.",
    "start": "3389500",
    "end": "3397666"
  },
  {
    "text": "I don't know that we want the user-facing API that they expose.",
    "start": "3400083",
    "end": "3405458"
  },
  {
    "text": "I think that will actually be impossible for our CMS where you can't statically access a ribbon.",
    "start": "3406833",
    "end": "3412875"
  },
  {
    "text": "Right. I'm just more interested in what they're doing to... ...like, locally with the content. Yeah, right.",
    "start": "3413958",
    "end": "3423583"
  },
  {
    "text": "So, nothing like the oldest complaint. Where is the content?",
    "start": "3426875",
    "end": "3431875"
  },
  {
    "text": "It's sure...",
    "start": "3433750",
    "end": "3434166"
  },
  {
    "text": "There's nothing in the collections. It's actually not being... ...the vercel directory because we're using the vercel",
    "start": "3439000",
    "end": "3444791"
  },
  {
    "text": "plugin to integrate with... Okay. I try looking at like...",
    "start": "3444791",
    "end": "3449791"
  },
  {
    "text": "Is there a vercel directory? .vercel? No, there's just .astro.",
    "start": "3450458",
    "end": "3456875"
  },
  {
    "text": "It's interesting. Maybe because I haven't visited a page yet.",
    "start": "3459208",
    "end": "3464541"
  },
  {
    "text": "No, it's still building.",
    "start": "3464875",
    "end": "3467333"
  },
  {
    "text": "The types are generated. Okay. Mine just finished.",
    "start": "3470083",
    "end": "3476000"
  },
  {
    "text": "Let me see what we've got here.",
    "start": "3476000",
    "end": "3480291"
  },
  {
    "text": "Yeah, so in vercel, output, static. Oh, yeah.",
    "start": "3487708",
    "end": "3492583"
  },
  {
    "text": "Load. Basically, in the vercel directory, it's",
    "start": "3495833",
    "end": "3501208"
  },
  {
    "text": "all the static HTML. Right. See and dial.",
    "start": "3501208",
    "end": "3506208"
  },
  {
    "text": "What did I do? Did I do anything?",
    "start": "3506500",
    "end": "3508333"
  },
  {
    "text": "I'm still building. Building hybrid in shape-wise.",
    "start": "3520416",
    "end": "3523916"
  },
  {
    "text": "Load.press.page.",
    "start": "3548791",
    "end": "3550083"
  },
  {
    "text": "I'm not sure generating lots of files is a good idea because it...",
    "start": "3561375",
    "end": "3565916"
  },
  {
    "text": "...hurts performance.",
    "start": "3568375",
    "end": "3568916"
  },
  {
    "text": "Yeah, I guess we sort of have to settle on if this is even the type of thing we want to do, right?",
    "start": "3585625",
    "end": "3590916"
  },
  {
    "text": "So if we're running all the content and content layer through",
    "start": "3590958",
    "end": "3596500"
  },
  {
    "text": "our processing pipeline...",
    "start": "3596500",
    "end": "3598583"
  },
  {
    "text": "...do we want to make the content layer even more generic and just let the user decide what to do with the output assets?",
    "start": "3601916",
    "end": "3608583"
  },
  {
    "text": "As well as the caching behavior down the line? Or do you think that we need to generate the static?",
    "start": "3609291",
    "end": "3614583"
  },
  {
    "text": "Probably a good idea to generate the static stuff. It's just like for a",
    "start": "3621083",
    "end": "3627333"
  },
  {
    "text": "CMS source, for example. Yeah. I don't know how it would work in like watch mode, for example.",
    "start": "3627333",
    "end": "3633125"
  },
  {
    "text": "Maybe just to start with, we just spit out an array...",
    "start": "3645083",
    "end": "3649000"
  },
  {
    "text": "...and then refactor, later.",
    "start": "3653125",
    "end": "3656500"
  },
  {
    "text": "Works for me. Just to go array.",
    "start": "3658583",
    "end": "3660916"
  },
  {
    "text": "We just use key value store for now.",
    "start": "3664458",
    "end": "3668708"
  },
  {
    "text": "I was actually thinking key value store would be useful for the cache as well.",
    "start": "3670208",
    "end": "3675250"
  },
  {
    "text": "Well, we still need to generate an output that you can consume easily.",
    "start": "3685708",
    "end": "3690916"
  },
  {
    "text": "Yeah, so I guess spitting out a document is fine.",
    "start": "3693916",
    "end": "3697583"
  },
  {
    "text": "So the upside of generating individual",
    "start": "3700416",
    "end": "3706041"
  },
  {
    "text": "files is it becomes easier to modify",
    "start": "3706041",
    "end": "3712291"
  },
  {
    "text": "individual entries, right? Yeah.",
    "start": "3712291",
    "end": "3715666"
  },
  {
    "text": "Because otherwise, let's say a cache gets busted for one document in the collection",
    "start": "3717708",
    "end": "3724458"
  },
  {
    "text": "of documents you're working on. If the cache gets busted for one of those",
    "start": "3724458",
    "end": "3730250"
  },
  {
    "text": "documents and you have everything stored in a single file, then you have to rewrite that whole file instead of just",
    "start": "3730250",
    "end": "3737916"
  },
  {
    "text": "rewriting that one document. You know what I mean? Yeah. Oh.",
    "start": "3737916",
    "end": "3742875"
  },
  {
    "text": "What if for now... We just log in stuff. For now, we do the inefficient thing and",
    "start": "3744458",
    "end": "3753000"
  },
  {
    "text": "use key value store to write out a file per document.",
    "start": "3753000",
    "end": "3756458"
  },
  {
    "text": "And then we can optimize later.",
    "start": "3758291",
    "end": "3760916"
  },
  {
    "text": "Basically, like take the content, the existing content layer approach and generate a file like a data file per...",
    "start": "3765916",
    "end": "3772916"
  },
  {
    "text": "Yeah. Yeah. JSON file.",
    "start": "3774208",
    "end": "3777875"
  },
  {
    "text": "So maybe if we have like a document.",
    "start": "3780791",
    "end": "3785958"
  },
  {
    "text": "It's for which...",
    "start": "3788041",
    "end": "3788500"
  },
  {
    "text": "It just needs to be in a format that you can import. So yeah, I guess just JSON",
    "start": "3799166",
    "end": "3804916"
  },
  {
    "text": "files and disk is fine for now.",
    "start": "3804916",
    "end": "3810541"
  },
  {
    "text": "Yeah, we can make it generic as we go, but to get something together where we're actually emitting files.",
    "start": "3811500",
    "end": "3817875"
  },
  {
    "text": "Yeah.",
    "start": "3817916",
    "end": "3819125"
  },
  {
    "text": "Document storage.",
    "start": "3823041",
    "end": "3825500"
  },
  {
    "text": "And...",
    "start": "3834500",
    "end": "3834708"
  },
  {
    "text": "How are we doing with time, by the way? We're at an hour.",
    "start": "3841500",
    "end": "3845833"
  },
  {
    "text": "I am going to go in like probably 15 minutes.",
    "start": "3846708",
    "end": "3850541"
  },
  {
    "text": "I know we didn't make a ton of progress. They were sort of just catching up. Maybe we can...",
    "start": "3853500",
    "end": "3856875"
  },
  {
    "text": "I'll try to make a commitment to not skip any more of these Wednesday sessions.",
    "start": "3858875",
    "end": "3863083"
  },
  {
    "text": "Don't skip leg day. Don't skip leg day.",
    "start": "3863916",
    "end": "3867916"
  },
  {
    "text": "And... storage.",
    "start": "3873916",
    "end": "3876708"
  },
  {
    "text": "So if we pull in the file system.",
    "start": "3886916",
    "end": "3889916"
  },
  {
    "text": "Okay.",
    "start": "3904625",
    "end": "3905791"
  },
  {
    "text": "So I'm not sure what this will be yet.",
    "start": "3912208",
    "end": "3914333"
  },
  {
    "text": "So we've built a document. We have...",
    "start": "3919041",
    "end": "3922125"
  },
  {
    "text": "fields, document, output. Maybe if we just define a type of it.",
    "start": "3925000",
    "end": "3934375"
  },
  {
    "text": "Oh, we have a type of that? Isn't that like...",
    "start": "3936500",
    "end": "3937958"
  },
  {
    "text": "Maybe we don't yet.",
    "start": "3941708",
    "end": "3942708"
  },
  {
    "text": "Fields, document, output.",
    "start": "3960458",
    "end": "3962916"
  },
  {
    "text": "And then... Okay.",
    "start": "3992166",
    "end": "3994875"
  },
  {
    "text": "So that would be a sign of all to that.",
    "start": "3998000",
    "end": "4003166"
  },
  {
    "text": "And then in document storage...",
    "start": "4004958",
    "end": "4008541"
  },
  {
    "text": "you just give it a built document.",
    "start": "4013708",
    "end": "4018416"
  },
  {
    "text": "And then it does something.",
    "start": "4019750",
    "end": "4020708"
  },
  {
    "text": "So I guess you want to namespace it by the document name.",
    "start": "4026416",
    "end": "4031916"
  },
  {
    "text": "So that would be like a subdirectory. Probably want to like...",
    "start": "4038958",
    "end": "4045083"
  },
  {
    "text": "generate some sort of slug or unique ID per document, right? Yeah. At some point down the line.",
    "start": "4046791",
    "end": "4052125"
  },
  {
    "text": "Do we already have that? Maybe in the store?",
    "start": "4052125",
    "end": "4057416"
  },
  {
    "text": "Do we have an identifier? I don't think we did that yet.",
    "start": "4064708",
    "end": "4069833"
  },
  {
    "text": "Okay. Yeah, so we need to...",
    "start": "4070708",
    "end": "4076583"
  },
  {
    "text": "add some kind of a identifier thing.",
    "start": "4078583",
    "end": "4080833"
  },
  {
    "text": "I feel like that needs to be in source. Yeah, because the source",
    "start": "4086916",
    "end": "4092708"
  },
  {
    "text": "is going to have to dictate.",
    "start": "4092708",
    "end": "4094916"
  },
  {
    "text": "Is the ID... Oh yeah, output. Yeah. Yeah.",
    "start": "4101916",
    "end": "4106875"
  },
  {
    "text": "Our file system, I feel like the path ends up being the ID. Yeah.",
    "start": "4121083",
    "end": "4126125"
  },
  {
    "text": "In this case, it's pretty easy.",
    "start": "4128166",
    "end": "4129791"
  },
  {
    "text": "But do we want it to be... when we get this path, is it a like absolute path?",
    "start": "4134458",
    "end": "4141166"
  },
  {
    "text": "At some point we probably want to have types for relative and absolute paths,",
    "start": "4141708",
    "end": "4147708"
  },
  {
    "text": "like branded types for them. But is this an absolute path that we get or is this a relative path?",
    "start": "4147708",
    "end": "4153916"
  },
  {
    "text": "Because the ID, we probably want to be relative, so it's usually sluggable, right?",
    "start": "4153958",
    "end": "4160458"
  },
  {
    "text": "So we do a glob, which will be... Relative, I assume.",
    "start": "4164791",
    "end": "4169708"
  },
  {
    "text": "Yeah. We're already half in the middle.",
    "start": "4170833",
    "end": "4175916"
  },
  {
    "text": "You could even just look at our previous logs.",
    "start": "4176916",
    "end": "4182750"
  },
  {
    "text": "It's relative. Great. Relative to the",
    "start": "4187250",
    "end": "4192958"
  },
  {
    "text": "current working directory. Excellent. That's perfect. That's what I wanted for the ID.",
    "start": "4192958",
    "end": "4199333"
  },
  {
    "text": "And that's actually how Astro's content layer works as well. And how the current iteration of content",
    "start": "4199875",
    "end": "4207708"
  },
  {
    "text": "layer works, I think. Okay. So we go back to document storage.",
    "start": "4207708",
    "end": "4217750"
  },
  {
    "text": "Yeah.",
    "start": "4224541",
    "end": "4224916"
  },
  {
    "text": "G-Log, any one of them. There's like an underscore ID property. Oh, you're looking at the",
    "start": "4249875",
    "end": "4258458"
  },
  {
    "text": "name of the file? Sorry. Yeah, it's looking at the name of the file.",
    "start": "4258458",
    "end": "4261916"
  },
  {
    "text": "So it looks like they're using some kind of generated slug. Or the ID.",
    "start": "4263916",
    "end": "4269083"
  },
  {
    "text": "Yeah, there's an ID in here somewhere. Underscore ID.",
    "start": "4271916",
    "end": "4275291"
  },
  {
    "text": "Really? Oh, maybe it's raw? There it is. There it is. Yep. For the file system source.",
    "start": "4280125",
    "end": "4286916"
  },
  {
    "text": "Okay. So we just need some function for",
    "start": "4287916",
    "end": "4294791"
  },
  {
    "text": "turning that into a safe file name.",
    "start": "4294791",
    "end": "4299583"
  },
  {
    "text": "I feel like we could maybe just hash it.",
    "start": "4300916",
    "end": "4307333"
  },
  {
    "text": "Yeah. Hash is stable on the document name. Not a string, rather. Sorry. So the problem is, I guess the problem is doing",
    "start": "4310041",
    "end": "4317875"
  },
  {
    "text": "that in a cross platform way. I guess that we use.",
    "start": "4317875",
    "end": "4324541"
  },
  {
    "text": "Is that all crypto maybe? I recently",
    "start": "4324916",
    "end": "4330458"
  },
  {
    "text": "did some hashing for a VN log.",
    "start": "4336916",
    "end": "4339916"
  },
  {
    "text": "I still have a bit of work to become useful, but it's",
    "start": "4358083",
    "end": "4365375"
  },
  {
    "text": "full of our safe set. It was working pretty well.",
    "start": "4365583",
    "end": "4368416"
  },
  {
    "text": "Love story, baby.",
    "start": "4370958",
    "end": "4371708"
  },
  {
    "text": "Oh yeah. Here it is.",
    "start": "4380958",
    "end": "4383916"
  },
  {
    "text": "What is this? Just a cross platform hashing method. First string.",
    "start": "4387500",
    "end": "4392666"
  },
  {
    "text": "We want this one. That uses the subtle crypto thingy",
    "start": "4393916",
    "end": "4398916"
  },
  {
    "text": "API, which is what works on node in the browser.",
    "start": "4398958",
    "end": "4405208"
  },
  {
    "text": "And probably works on button too.",
    "start": "4407875",
    "end": "4410041"
  },
  {
    "text": "So we need data, which should be",
    "start": "4414708",
    "end": "4419458"
  },
  {
    "text": "You should be using effect.FN. Come on, man. We're touching.",
    "start": "4425833",
    "end": "4430875"
  },
  {
    "text": "I'm just saying right now. I'm just here.",
    "start": "4430875",
    "end": "4433083"
  },
  {
    "text": "So",
    "start": "4442125",
    "end": "4442916"
  },
  {
    "text": "I",
    "start": "4448916",
    "end": "4449166"
  },
  {
    "text": "This case would be output ID.",
    "start": "4456041",
    "end": "4458958"
  },
  {
    "text": "Cool. So we've got a file name.",
    "start": "4463250",
    "end": "4468458"
  },
  {
    "text": "I guess the path will be.",
    "start": "4472666",
    "end": "4477875"
  },
  {
    "text": "We need some kind of. config or the output",
    "start": "4480208",
    "end": "4485541"
  },
  {
    "text": "directory. We probably could at some point, but for",
    "start": "4485541",
    "end": "4492041"
  },
  {
    "text": "now we could admit to a static path.",
    "start": "4492041",
    "end": "4493916"
  },
  {
    "text": "We could basically just do what's currently being done and make the assumption.",
    "start": "4497125",
    "end": "4500750"
  },
  {
    "text": "So we grab the path. Service.",
    "start": "4508125",
    "end": "4512083"
  },
  {
    "text": "Path. Join.",
    "start": "4514583",
    "end": "4516083"
  },
  {
    "text": "So the content. Layer.",
    "start": "4520291",
    "end": "4524916"
  },
  {
    "text": "Generated. And then we'll need the document name.",
    "start": "4529000",
    "end": "4537041"
  },
  {
    "text": "And then. Cool. Cool.",
    "start": "4541958",
    "end": "4546333"
  },
  {
    "text": "I guess we need to make sure that directory exists.",
    "start": "4548916",
    "end": "4551250"
  },
  {
    "text": "It's a directory.",
    "start": "4556916",
    "end": "4558000"
  },
  {
    "text": "So a major tree.",
    "start": "4565000",
    "end": "4565916"
  },
  {
    "text": "Do I need to go force?",
    "start": "4575916",
    "end": "4577458"
  },
  {
    "text": "I think that. Recursive. Recursive is enough.",
    "start": "4582291",
    "end": "4587041"
  },
  {
    "text": "In this case. And then we can go.",
    "start": "4589625",
    "end": "4593291"
  },
  {
    "text": "And then we just need to",
    "start": "4597083",
    "end": "4602291"
  },
  {
    "text": "write something to the disk.",
    "start": "4602291",
    "end": "4602916"
  },
  {
    "text": "So. If we want to like just get started testing this, we could do.",
    "start": "4607375",
    "end": "4612875"
  },
  {
    "text": "We can. The.",
    "start": "4614916",
    "end": "4619083"
  },
  {
    "text": "The fields. And the meta should already be in a format that's.",
    "start": "4620375",
    "end": "4627583"
  },
  {
    "text": "So in this one, the fields are at the top level and then meta is like an underscore thingy.",
    "start": "4628750",
    "end": "4634916"
  },
  {
    "text": "And then. Yeah, but I don't like the structure that content layers currently using like for",
    "start": "4637958",
    "end": "4644166"
  },
  {
    "text": "the actual document structure. I feel like we might want to rethink this.",
    "start": "4644166",
    "end": "4647208"
  },
  {
    "text": "Like I like the fact that in our output right now, what you see on the command line, I really like",
    "start": "4650041",
    "end": "4655125"
  },
  {
    "text": "that meta is name spaced. I really like that fields are name spaced. Yeah.",
    "start": "4655125",
    "end": "4659875"
  },
  {
    "text": "I. I think we should emit the ID just because.",
    "start": "4660458",
    "end": "4666083"
  },
  {
    "text": "Encoded fields. We just need to.",
    "start": "4666708",
    "end": "4671500"
  },
  {
    "text": "Get a bit of schema in here. You never have too much schema.",
    "start": "4672833",
    "end": "4677000"
  },
  {
    "text": "schema.encode.",
    "start": "4684250",
    "end": "4687958"
  },
  {
    "text": "No.",
    "start": "4689791",
    "end": "4689916"
  },
  {
    "text": "Fields. Which is the schema. Fields.",
    "start": "4712916",
    "end": "4716708"
  },
  {
    "text": "Encoded fields. Don't we already have the encoded fields in the output.",
    "start": "4718541",
    "end": "4723541"
  },
  {
    "text": "We have the decoded fields at this point. Right. Okay. But on the output, we do have fields",
    "start": "4730250",
    "end": "4738666"
  },
  {
    "text": "which is the raw fields. But that could have",
    "start": "4738666",
    "end": "4743916"
  },
  {
    "text": "lots of random stuff on it. Do we want to parse JSON here?",
    "start": "4743916",
    "end": "4751958"
  },
  {
    "text": "We have already a stringified JSON blah blah blah. Or are we just going to do that in the right file string?",
    "start": "4757750",
    "end": "4763083"
  },
  {
    "text": "I guess it depends if we want to add other stuff to this. I think we need to.",
    "start": "4764666",
    "end": "4769958"
  },
  {
    "text": "I think we want. We probably want the ID in there.",
    "start": "4772166",
    "end": "4778875"
  },
  {
    "text": "Maybe we just. Quickly define the schema for it.",
    "start": "4778875",
    "end": "4787125"
  },
  {
    "text": "We can just call it.",
    "start": "4789916",
    "end": "4791375"
  },
  {
    "text": "Persisted document.",
    "start": "4795916",
    "end": "4798083"
  },
  {
    "text": "And we'll have some kind of generic.",
    "start": "4801791",
    "end": "4803250"
  },
  {
    "text": "And then it will take a field schema. Forgive me, but in the document file, do",
    "start": "4807708",
    "end": "4815166"
  },
  {
    "text": "we already have a persisted type?",
    "start": "4815166",
    "end": "4816958"
  },
  {
    "text": "Well. I'm just I want to know if we. I think at some point we had something",
    "start": "4821208",
    "end": "4827458"
  },
  {
    "text": "like Mike and I might have had something in here like to that effect. But anyway, so you know me.",
    "start": "4827458",
    "end": "4832458"
  },
  {
    "text": "Sorry.",
    "start": "4834958",
    "end": "4835208"
  },
  {
    "text": "And this will have a. I. And then the return schema.struct.",
    "start": "4844250",
    "end": "4863166"
  },
  {
    "text": "No ID.",
    "start": "4865166",
    "end": "4865958"
  },
  {
    "text": "Anything you need. Should be.",
    "start": "4882000",
    "end": "4887208"
  },
  {
    "text": "schema. Record of. String to unknown.",
    "start": "4888541",
    "end": "4894666"
  },
  {
    "text": "So this is created from.",
    "start": "4971125",
    "end": "4973875"
  },
  {
    "text": "I'll just pass this on to.",
    "start": "5015916",
    "end": "5016791"
  },
  {
    "text": "And then here we.",
    "start": "5023875",
    "end": "5030041"
  },
  {
    "text": "And here we actually could just. Right.",
    "start": "5030708",
    "end": "5035791"
  },
  {
    "text": "Yeah.",
    "start": "5037666",
    "end": "5037833"
  },
  {
    "text": "Cool. Maybe if I just.",
    "start": "5051583",
    "end": "5058583"
  },
  {
    "text": "So here we should have a string.",
    "start": "5066750",
    "end": "5072916"
  },
  {
    "text": "We'll just hook this up and then call it there. Cool up there.",
    "start": "5106916",
    "end": "5109708"
  },
  {
    "text": "Also.",
    "start": "5114291",
    "end": "5114500"
  },
  {
    "text": "So. And document builder.",
    "start": "5139916",
    "end": "5144500"
  },
  {
    "text": "Access the storage.",
    "start": "5147333",
    "end": "5148833"
  },
  {
    "text": "And then in this run for each. We can just go.",
    "start": "5156958",
    "end": "5161666"
  },
  {
    "text": "Storage. And you kind of want to do that concurrently.",
    "start": "5163625",
    "end": "5169166"
  },
  {
    "text": "We go.",
    "start": "5170208",
    "end": "5170708"
  },
  {
    "text": "I think I streamed.",
    "start": "5177625",
    "end": "5179083"
  },
  {
    "text": "And.",
    "start": "5185708",
    "end": "5185916"
  },
  {
    "text": "So now I make. It's a top of unknown. Was it one of them.",
    "start": "5194458",
    "end": "5199500"
  },
  {
    "text": "Why is our requirement. No.",
    "start": "5205541",
    "end": "5208458"
  },
  {
    "text": "That is the question. Because our factors. Because right is unknown.",
    "start": "5211041",
    "end": "5217416"
  },
  {
    "text": "Okay. I'm guessing that's because in code.",
    "start": "5219041",
    "end": "5222916"
  },
  {
    "text": "Is using a schema. Could have requirements.",
    "start": "5225750",
    "end": "5234708"
  },
  {
    "text": "Are we allowing schema requirements in here. Are we.",
    "start": "5241000",
    "end": "5244291"
  },
  {
    "text": "Don't remember what I did. We're just preserving the schema. So yes.",
    "start": "5247208",
    "end": "5251916"
  },
  {
    "text": "It's some point where. Going to have to fix it. Or work out what we're going",
    "start": "5260875",
    "end": "5267250"
  },
  {
    "text": "to do about schema context. But for now. We'll probably just have to.",
    "start": "5267250",
    "end": "5274166"
  },
  {
    "text": "Fix the R. I just have to fix the R and never.",
    "start": "5274666",
    "end": "5277875"
  },
  {
    "text": "In the. For the config. We will probably just. Otherwise it's impossible.",
    "start": "5281000",
    "end": "5287083"
  },
  {
    "text": "Yes.",
    "start": "5289083",
    "end": "5289250"
  },
  {
    "text": "Or die.",
    "start": "5296375",
    "end": "5296791"
  },
  {
    "text": "We can wait. I'll come through.",
    "start": "5301916",
    "end": "5306625"
  },
  {
    "text": "And there also be a platform error here. Yeah.",
    "start": "5310750",
    "end": "5313583"
  },
  {
    "text": "We can deal with that. Another time.",
    "start": "5317041",
    "end": "5321500"
  },
  {
    "text": "You're building documents. Yeah. Let's look at our. No.",
    "start": "5324708",
    "end": "5329666"
  },
  {
    "text": "That looks good. Nice.",
    "start": "5331416",
    "end": "5335583"
  },
  {
    "text": "So here's our layer. Can quickly refactor this to effect on",
    "start": "5339000",
    "end": "5346250"
  },
  {
    "text": "service if you'd like. Maybe another day.",
    "start": "5346250",
    "end": "5350375"
  },
  {
    "text": "Maybe another day.",
    "start": "5352750",
    "end": "5354333"
  },
  {
    "text": "So live here needs build options. And then. I'm going to use.",
    "start": "5358000",
    "end": "5366750"
  },
  {
    "text": "Context from platform. I feel like I'm already",
    "start": "5366750",
    "end": "5372791"
  },
  {
    "text": "using the file system.",
    "start": "5372791",
    "end": "5374208"
  },
  {
    "text": "Yeah.",
    "start": "5379166",
    "end": "5379416"
  },
  {
    "text": "I believe we've already locked ourself into node at the moment because of.",
    "start": "5412208",
    "end": "5416791"
  },
  {
    "text": "The usage of some node modules for. Compile.",
    "start": "5417500",
    "end": "5421375"
  },
  {
    "text": "We launched our source code because of the whole. Yeah. For.",
    "start": "5423500",
    "end": "5428791"
  },
  {
    "text": "The virtualization of imports. Yeah.",
    "start": "5430041",
    "end": "5434666"
  },
  {
    "text": "Although. Work on button regardless. But. I think a lot of tools that do watching.",
    "start": "5438125",
    "end": "5445541"
  },
  {
    "text": "Just sort of ignore. That memory leaks.",
    "start": "5446875",
    "end": "5448916"
  },
  {
    "text": "I read something recently like that even like the TypeScript file watcher. I think.",
    "start": "5454625",
    "end": "5459708"
  },
  {
    "text": "We'll eventually run out of memory. Okay.",
    "start": "5460458",
    "end": "5463250"
  },
  {
    "text": "First try. If it compiles it works too.",
    "start": "5469916",
    "end": "5476083"
  },
  {
    "text": "It's not putting anything. So. Well that's good.",
    "start": "5477916",
    "end": "5482750"
  },
  {
    "text": "We took our. We took our.",
    "start": "5483833",
    "end": "5488083"
  },
  {
    "text": "Generated. First. Hey.",
    "start": "5489375",
    "end": "5492500"
  },
  {
    "text": "First try. Not like it. Not like it.",
    "start": "5495041",
    "end": "5500000"
  },
  {
    "text": "The compiles it works. Maybe we can.",
    "start": "5500375",
    "end": "5505041"
  },
  {
    "text": "Like a quick tweak.",
    "start": "5506333",
    "end": "5506916"
  },
  {
    "text": "We. It does. Nice looking Jason. And I think.",
    "start": "5512875",
    "end": "5518541"
  },
  {
    "text": "It's parts Jason support that. It does. Man. Julia thought of everything.",
    "start": "5519458",
    "end": "5525416"
  },
  {
    "text": "Almost. That was really.",
    "start": "5526416",
    "end": "5529041"
  },
  {
    "text": "Space.",
    "start": "5531916",
    "end": "5532916"
  },
  {
    "text": "They. Nice. Very pretty. You're up.",
    "start": "5543250",
    "end": "5549541"
  },
  {
    "text": "Yeah I feel pretty good about this. Pretty good about that stuff.",
    "start": "5551125",
    "end": "5554375"
  },
  {
    "text": "I think this is a great start. I put.",
    "start": "5556458",
    "end": "5559333"
  },
  {
    "text": "Content. I think that requirements will be",
    "start": "5561541",
    "end": "5568541"
  },
  {
    "text": "dictated through usage.",
    "start": "5568541",
    "end": "5569916"
  },
  {
    "text": "We're not using visit anymore so probably get rid of it.",
    "start": "5573708",
    "end": "5579541"
  },
  {
    "text": "I also think maybe next time we'll be able to like start working on some of the other like stuff related to this.",
    "start": "5580250",
    "end": "5586916"
  },
  {
    "text": "So we. So we still need to generate like the actual modules.",
    "start": "5587625",
    "end": "5592250"
  },
  {
    "text": "We need to generate the modules we need to generate type definitions. While back I had a little schema to TypeScript thingy.",
    "start": "5593250",
    "end": "5605458"
  },
  {
    "text": "It worked like sort of really well. It was based on one Giulio wrote a while ago that was broken forever.",
    "start": "5606041",
    "end": "5612000"
  },
  {
    "text": "Because he had modified the AST so much.",
    "start": "5614125",
    "end": "5617208"
  },
  {
    "text": "But. We should resurrect that. And. So walking the AST in.",
    "start": "5620375",
    "end": "5632666"
  },
  {
    "text": "Change writing TypeScript types.",
    "start": "5633375",
    "end": "5635250"
  },
  {
    "text": "But. It worked reasonably well back when I wrote it originally but.",
    "start": "5640291",
    "end": "5646125"
  },
  {
    "text": "I don't know where it is. I have to go look for it. Might be in a scratch pad somewhere.",
    "start": "5648166",
    "end": "5654333"
  },
  {
    "text": "Yeah. I've done quite a lot of. AST walking recently.",
    "start": "5658250",
    "end": "5662583"
  },
  {
    "text": "With HTTP API and all that. Very nice.",
    "start": "5663916",
    "end": "5668250"
  },
  {
    "text": "Very cool. Well thank you everybody who is watching.",
    "start": "5670416",
    "end": "5674791"
  },
  {
    "text": "I hope you enjoyed it. Like Tim and I said we'll try to be a little more regular. With these streams.",
    "start": "5675541",
    "end": "5680958"
  },
  {
    "text": "Until next time. Cheers folks. See ya.",
    "start": "5681916",
    "end": "5684916"
  }
]