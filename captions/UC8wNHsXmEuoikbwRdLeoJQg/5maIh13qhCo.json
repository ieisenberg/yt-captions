[
  {
    "text": "We're live. We are working on Effect ContentLayer rewrite.",
    "start": "4125",
    "end": "11583"
  },
  {
    "text": "I think last time we streamed, we were working on",
    "start": "14250",
    "end": "18708"
  },
  {
    "text": "getting it actually working. So we could iterate on the API.",
    "start": "20000",
    "end": "24666"
  },
  {
    "text": "Let's see if it's still working. Let's check this config file.",
    "start": "27875",
    "end": "35791"
  },
  {
    "text": "So we've got an author and a post schema in here. And we're exporting the config.",
    "start": "37666",
    "end": "43333"
  },
  {
    "text": "Great. New Tab.",
    "start": "47708",
    "end": "50583"
  },
  {
    "text": "And run the CLI. OK.",
    "start": "53541",
    "end": "58458"
  },
  {
    "text": "There's no errors. But is there stuff happening?",
    "start": "59458",
    "end": "64541"
  },
  {
    "text": "OK. There is stuff happening. I feel like we need to log something.",
    "start": "67041",
    "end": "72458"
  },
  {
    "text": "So we can see what is going on.",
    "start": "75541",
    "end": "78583"
  },
  {
    "text": "What errors are being thrown here?",
    "start": "86666",
    "end": "88333"
  },
  {
    "text": "Yes, build error. I have added a message so",
    "start": "92583",
    "end": "99250"
  },
  {
    "text": "we can see errors.",
    "start": "99250",
    "end": "100833"
  },
  {
    "text": "New line. Yes, fun. And I'll get rid of that now.",
    "start": "107166",
    "end": "114041"
  },
  {
    "text": "Yes, build result. What's that?",
    "start": "118041",
    "end": "120666"
  },
  {
    "text": "That's fine. I wonder if we should encode that as an exit.",
    "start": "125333",
    "end": "131375"
  },
  {
    "text": "Yeah, let's see. I feel like an exit is a better way to model",
    "start": "134958",
    "end": "140915"
  },
  {
    "text": "results of things. Because you can also",
    "start": "143541",
    "end": "150250"
  },
  {
    "text": "encode defects. So unknown errors inside them.",
    "start": "151583",
    "end": "157541"
  },
  {
    "text": "But it uses types.",
    "start": "158375",
    "end": "159500"
  },
  {
    "text": "Well, I'm here. I think Carl and SuperQ use one of the new modules editor effect,",
    "start": "163541",
    "end": "170708"
  },
  {
    "text": "which is called a mailbox.",
    "start": "170708",
    "end": "172915"
  },
  {
    "text": "It's just a bit mailbox just makes it a bit easier to.",
    "start": "178416",
    "end": "182583"
  },
  {
    "text": "I just think it's a bit more performant.",
    "start": "184958",
    "end": "188083"
  },
  {
    "text": "Sorry, result. Was it any",
    "start": "196500",
    "end": "200958"
  },
  {
    "text": "Update all those.",
    "start": "241750",
    "end": "242791"
  },
  {
    "text": "What am I getting? eslint",
    "start": "250875",
    "end": "253083"
  },
  {
    "text": "I'm just a little bit over here. eslint config.",
    "start": "257708",
    "end": "259500"
  },
  {
    "text": "Oh, this one.",
    "start": "268750",
    "end": "270125"
  },
  {
    "text": "Changesets All right, let's start",
    "start": "276583",
    "end": "282082"
  },
  {
    "text": "off that change set then. Given that.",
    "start": "282083",
    "end": "284707"
  },
  {
    "text": "Where is the eslint. I want to keep that vision.",
    "start": "289375",
    "end": "294333"
  },
  {
    "text": "Yes, one.",
    "start": "297416",
    "end": "298125"
  },
  {
    "text": "Try again.",
    "start": "327000",
    "end": "327541"
  },
  {
    "text": "Well.",
    "start": "340458",
    "end": "341458"
  },
  {
    "text": "Maybe for the package.json",
    "start": "348166",
    "end": "349457"
  },
  {
    "text": "Update.",
    "start": "360791",
    "end": "361000"
  },
  {
    "text": "esbuild no matter what It'd be there.",
    "start": "381208",
    "end": "386625"
  },
  {
    "text": "What was that?",
    "start": "399541",
    "end": "400707"
  },
  {
    "text": "exit.succeed here we go. Hang on",
    "start": "411500",
    "end": "416750"
  },
  {
    "text": "In here we want to succeed",
    "start": "424791",
    "end": "427791"
  },
  {
    "text": "What's going on here?",
    "start": "429958",
    "end": "430958"
  },
  {
    "text": "that was fine",
    "start": "488583",
    "end": "489750"
  },
  {
    "text": "Why is that complaining?",
    "start": "501666",
    "end": "504041"
  },
  {
    "text": "Kinda smells like. The vision. was smidge.",
    "start": "537708",
    "end": "541708"
  },
  {
    "text": "What I'm going to do is. No modules.",
    "start": "559541",
    "end": "562875"
  },
  {
    "text": "I did not. That's why.",
    "start": "569875",
    "end": "572041"
  },
  {
    "text": "Here we go.",
    "start": "576708",
    "end": "577208"
  },
  {
    "text": "Definitely that works.",
    "start": "595291",
    "end": "596708"
  },
  {
    "text": "esbuild That's just my.",
    "start": "607375",
    "end": "611500"
  },
  {
    "text": "Yes, log plug in. I look.",
    "start": "614208",
    "end": "616291"
  },
  {
    "text": "Looks that works.",
    "start": "621166",
    "end": "622125"
  },
  {
    "text": "I'll cast it as a read. Read only.",
    "start": "634166",
    "end": "637500"
  },
  {
    "text": "So.",
    "start": "643083",
    "end": "643416"
  },
  {
    "text": "So the mailbox module, you can have. Read only mailbox.",
    "start": "650458",
    "end": "655083"
  },
  {
    "text": "But you can't write things to.",
    "start": "656250",
    "end": "657708"
  },
  {
    "text": "Okay.",
    "start": "666291",
    "end": "666625"
  },
  {
    "text": "It looks like. Yes. Let's see. is it working",
    "start": "672958",
    "end": "677833"
  },
  {
    "text": "dot Files. Then.",
    "start": "695791",
    "end": "700208"
  },
  {
    "text": "The language is.",
    "start": "701333",
    "end": "702708"
  },
  {
    "text": "That's fun.",
    "start": "706750",
    "end": "707416"
  },
  {
    "text": "No idea why it's not working. I don't really want to debug it",
    "start": "719875",
    "end": "723416"
  },
  {
    "text": "Okay.",
    "start": "733208",
    "end": "734000"
  },
  {
    "text": "So we go back to config builder.",
    "start": "738375",
    "end": "740000"
  },
  {
    "text": "So here.",
    "start": "753041",
    "end": "755041"
  },
  {
    "text": "We are questioning. The exits.",
    "start": "758791",
    "end": "762875"
  },
  {
    "text": "It's also take.",
    "start": "772208",
    "end": "773500"
  },
  {
    "text": "esbuild given that esbuild.results.take.pipe",
    "start": "821750",
    "end": "829041"
  },
  {
    "text": "And. It looks good.",
    "start": "840958",
    "end": "845875"
  },
  {
    "text": "What do I need the scope for?",
    "start": "852875",
    "end": "854583"
  },
  {
    "text": "Because we're forking this fiber into scoped",
    "start": "861500",
    "end": "865208"
  },
  {
    "text": "What am I doing?",
    "start": "885291",
    "end": "886125"
  },
  {
    "text": "Let's quickly spin up the CLI.",
    "start": "897916",
    "end": "901291"
  },
  {
    "text": "But sure. It's working still. Can't find module.",
    "start": "905583",
    "end": "909291"
  },
  {
    "text": "it's working now Yep",
    "start": "935208",
    "end": "939375"
  },
  {
    "text": "Why didn't that work?",
    "start": "944250",
    "end": "945583"
  },
  {
    "text": "It's working.",
    "start": "959791",
    "end": "960125"
  },
  {
    "text": "build like this Tip.",
    "start": "968250",
    "end": "973291"
  },
  {
    "text": "Look at this config.log",
    "start": "974083",
    "end": "976125"
  },
  {
    "text": "Looks like the sense of this.",
    "start": "982750",
    "end": "984750"
  },
  {
    "text": "This.",
    "start": "988458",
    "end": "988666"
  },
  {
    "text": "returning config and a string here",
    "start": "995333",
    "end": "997500"
  },
  {
    "text": "So I've got the config now. And config.",
    "start": "1003375",
    "end": "1008583"
  },
  {
    "text": "What does it look like? Is this. Array of document schemas.",
    "start": "1010083",
    "end": "1016666"
  },
  {
    "text": "We have a document. Has some metadata.",
    "start": "1018000",
    "end": "1022625"
  },
  {
    "text": "computed fields So.",
    "start": "1023833",
    "end": "1027416"
  },
  {
    "text": "So I think the next step here is. Sure.",
    "start": "1032166",
    "end": "1037333"
  },
  {
    "text": "Is working. We opened.",
    "start": "1038916",
    "end": "1042375"
  },
  {
    "text": "Test. Config.",
    "start": "1044833",
    "end": "1045666"
  },
  {
    "text": "Maybe if we use the scratch pad folder.",
    "start": "1052916",
    "end": "1055416"
  },
  {
    "text": "Source.",
    "start": "1061416",
    "end": "1061708"
  },
  {
    "text": "What does source look like right now?",
    "start": "1072375",
    "end": "1074958"
  },
  {
    "text": "Doesn't look like anything.",
    "start": "1078958",
    "end": "1081000"
  },
  {
    "text": "And. Identfier Author has been declared.",
    "start": "1093625",
    "end": "1097583"
  },
  {
    "text": "What does that mean?",
    "start": "1103333",
    "end": "1104333"
  },
  {
    "text": "Is it caching or something",
    "start": "1117541",
    "end": "1119125"
  },
  {
    "text": "They've actually put something weird. does that mean config builder?",
    "start": "1133375",
    "end": "1136458"
  },
  {
    "text": "So what are we doing here?",
    "start": "1140208",
    "end": "1142541"
  },
  {
    "text": "Because we're. We're going to play with this",
    "start": "1147958",
    "end": "1150333"
  },
  {
    "text": "See what happens.",
    "start": "1155000",
    "end": "1155583"
  },
  {
    "text": "ContentLayer config save",
    "start": "1167250",
    "end": "1169083"
  },
  {
    "text": "Well, there is great globalism.",
    "start": "1185000",
    "end": "1187125"
  },
  {
    "text": "So we've got the stream here. Is it being used anywhere right now? I go to CLI.",
    "start": "1215791",
    "end": "1221833"
  },
  {
    "text": "What's it doing? Can't be a builder. That's him.",
    "start": "1225458",
    "end": "1230416"
  },
  {
    "text": "So here is the effect.never. Let's go Config Builder",
    "start": "1238416",
    "end": "1243541"
  },
  {
    "text": "Cool. Because that is an effect of a string.",
    "start": "1257166",
    "end": "1262291"
  },
  {
    "text": "We first need to unwrap it. Unwrap. ",
    "start": "1262541",
    "end": "1267708"
  },
  {
    "text": "The import string.",
    "start": "1269375",
    "end": "1271166"
  },
  {
    "text": "We can start doing this. So we go stream.runForEach.",
    "start": "1278291",
    "end": "1284041"
  },
  {
    "text": "Let's try it a bit longer.",
    "start": "1284125",
    "end": "1286500"
  },
  {
    "text": "We go back to here. And we run.",
    "start": "1289166",
    "end": "1293291"
  },
  {
    "text": "Okay. We can start seeing the config streaming. And if I go make a change or just write",
    "start": "1294750",
    "end": "1304208"
  },
  {
    "text": "it out, we're getting a new config. Great.",
    "start": "1304208",
    "end": "1306875"
  },
  {
    "text": "So each of the conflict builds. We want to.",
    "start": "1311958",
    "end": "1315291"
  },
  {
    "text": "Resolve our documents.",
    "start": "1317708",
    "end": "1318958"
  },
  {
    "text": "Okay.",
    "start": "1327375",
    "end": "1328458"
  },
  {
    "text": "So the documents are there. We've got post source.",
    "start": "1335708",
    "end": "1340208"
  },
  {
    "text": "So whose responsibility should that be?",
    "start": "1345000",
    "end": "1347750"
  },
  {
    "text": "I think.",
    "start": "1353375",
    "end": "1353708"
  },
  {
    "text": "It isn't the responsibility of conflict. So we need a new module.",
    "start": "1362000",
    "end": "1366458"
  },
  {
    "text": "Maybe we'll let document build after now.",
    "start": "1371666",
    "end": "1376166"
  },
  {
    "text": "Let's pause the mailbox",
    "start": "1381750",
    "end": "1384375"
  },
  {
    "text": "It's fine.",
    "start": "1388041",
    "end": "1388708"
  },
  {
    "text": "And this will be.",
    "start": "1397375",
    "end": "1399250"
  },
  {
    "text": "So we're going to tag for it.",
    "start": "1403583",
    "end": "1405041"
  },
  {
    "text": "context.tag",
    "start": "1409041",
    "end": "1411125"
  },
  {
    "text": "Content layer. Cool.",
    "start": "1414791",
    "end": "1418958"
  },
  {
    "text": "It's not conflict builder. it's document builder.",
    "start": "1424666",
    "end": "1427541"
  },
  {
    "text": "Correct.",
    "start": "1431875",
    "end": "1432333"
  },
  {
    "text": "Type of make. So here we'll just infer the shape of the service from.",
    "start": "1442500",
    "end": "1447708"
  },
  {
    "text": "Let's make effect And",
    "start": "1449125",
    "end": "1452541"
  },
  {
    "text": "Create a layer.",
    "start": "1454208",
    "end": "1455916"
  },
  {
    "text": "Don't get builder. Here is the boiler plate.",
    "start": "1459583",
    "end": "1465750"
  },
  {
    "text": "That's. The document builder.",
    "start": "1470208",
    "end": "1475583"
  },
  {
    "text": "We'll take.",
    "start": "1477708",
    "end": "1478958"
  },
  {
    "text": "What would I do? We'll take a document. And then.",
    "start": "1485916",
    "end": "1490958"
  },
  {
    "text": "Compile the output. What will the app look like?",
    "start": "1493208",
    "end": "1499708"
  },
  {
    "text": "It needs to be handling here.",
    "start": "1507791",
    "end": "1509708"
  },
  {
    "text": "Cool.",
    "start": "1514500",
    "end": "1517416"
  },
  {
    "text": "I think we just need a single error module for all this.",
    "start": "1526166",
    "end": "1529708"
  },
  {
    "text": "So let's just add a content layer here on module",
    "start": "1542041",
    "end": "1546750"
  },
  {
    "text": "And from now. It can just be something simple.",
    "start": "1559375",
    "end": "1562708"
  },
  {
    "text": "Do we need to make it serializable? Why not?",
    "start": "1572708",
    "end": "1575708"
  },
  {
    "text": "I guess if we want to encode the results to this somehow We want to encode failures today.",
    "start": "1583250",
    "end": "1589166"
  },
  {
    "text": "Yeah, that's just a content layer error. extends schema.tag there",
    "start": "1604875",
    "end": "1613625"
  },
  {
    "text": "Content layer core. The content layer.",
    "start": "1623791",
    "end": "1629625"
  },
  {
    "text": "Adopt category of models.",
    "start": "1642708",
    "end": "1645125"
  },
  {
    "text": "And this should have a type ID. And it doesn't.",
    "start": "1648208",
    "end": "1654208"
  },
  {
    "text": "Image.",
    "start": "1654333",
    "end": "1654708"
  },
  {
    "text": "That's right.",
    "start": "1660416",
    "end": "1660708"
  },
  {
    "text": "Why isn't my eslint working?",
    "start": "1684375",
    "end": "1686125"
  },
  {
    "text": "Oh, because my eslint got updated",
    "start": "1691458",
    "end": "1694375"
  },
  {
    "text": "Where did I get updated?",
    "start": "1709500",
    "end": "1710750"
  },
  {
    "text": "Why am I... Where's version 9 coming from?",
    "start": "1721916",
    "end": "1726083"
  },
  {
    "text": "Is that... Is that... Okay.",
    "start": "1739208",
    "end": "1744083"
  },
  {
    "text": "But in here... Let's see if I put 57.",
    "start": "1748166",
    "end": "1754625"
  },
  {
    "text": "Not file only in slash...",
    "start": "1777416",
    "end": "1778666"
  },
  {
    "text": "Okay. It looks better.",
    "start": "1786000",
    "end": "1789208"
  },
  {
    "text": "Here I is. That is working. That's what I like to see.",
    "start": "1796291",
    "end": "1800416"
  },
  {
    "text": "Maybe if I now... I'll just add the module field.",
    "start": "1817583",
    "end": "1822375"
  },
  {
    "text": "Of course. I think schema, we have a defect schema.",
    "start": "1824833",
    "end": "1829708"
  },
  {
    "text": "Yep. Okay.",
    "start": "1830125",
    "end": "1833750"
  },
  {
    "text": "It's a bit optional.",
    "start": "1835250",
    "end": "1837041"
  },
  {
    "text": "Module.",
    "start": "1841916",
    "end": "1842333"
  },
  {
    "text": "Description.",
    "start": "1850250",
    "end": "1850708"
  },
  {
    "text": "And let's add a message getter.",
    "start": "1857250",
    "end": "1859708"
  },
  {
    "text": "It looks good.",
    "start": "1869875",
    "end": "1871000"
  },
  {
    "text": "All right. So we now have a shared error time.",
    "start": "1874958",
    "end": "1878750"
  },
  {
    "text": "I think we can... esbuild error because that would be specific to esbuild.",
    "start": "1883833",
    "end": "1890333"
  },
  {
    "text": "But... Say that... I think this config stream...",
    "start": "1898041",
    "end": "1903791"
  },
  {
    "text": "So here we're just catching all errors and logging them. Is that what we want?",
    "start": "1912750",
    "end": "1917416"
  },
  {
    "text": "So this is exporting a stream of config.",
    "start": "1937375",
    "end": "1941041"
  },
  {
    "text": "I think that is what we want.",
    "start": "1954333",
    "end": "1956791"
  },
  {
    "text": "Because... If someone screws up the configuration ",
    "start": "1965250",
    "end": "1972083"
  },
  {
    "text": "file, we don't want to crash the program. We just want to let",
    "start": "1972083",
    "end": "1977166"
  },
  {
    "text": "them know what we've wrong.",
    "start": "1977166",
    "end": "1978375"
  },
  {
    "text": "Okay. Okay. So the document builder will take documents.",
    "start": "1996708",
    "end": "2000625"
  },
  {
    "text": "I guess for the address, pretty soon...",
    "start": "2003375",
    "end": "2007041"
  },
  {
    "text": "The documents will come from the config builder.",
    "start": "2010500",
    "end": "2013916"
  },
  {
    "text": "So if we take a stream of config, and then...",
    "start": "2030250",
    "end": "2035625"
  },
  {
    "text": "flatMap it",
    "start": "2035875",
    "end": "2036583"
  },
  {
    "text": "We've got an array of documents from...",
    "start": "2043708",
    "end": "2046166"
  },
  {
    "text": "Not measurable. So now we've got a stream of documents.",
    "start": "2050250",
    "end": "2055083"
  },
  {
    "text": "And now that we're using the config builder service, we need to provide it.",
    "start": "2066041",
    "end": "2072250"
  },
  {
    "text": "Now, layer has no dependencies. Oh, it does.",
    "start": "2078916",
    "end": "2082166"
  },
  {
    "text": "Well... Couldn't have already",
    "start": "2085416",
    "end": "2090625"
  },
  {
    "text": "bound ourself to node js here. Because we're importing node modules.",
    "start": "2090625",
    "end": "2095833"
  },
  {
    "text": "So... So I'll just go all in for now. If we work out how to make this work on",
    "start": "2110708",
    "end": "2117166"
  },
  {
    "text": "our platforms like Deno, then we can refactor.",
    "start": "2117166",
    "end": "2121958"
  },
  {
    "text": "So import node, platform-node-file-system.",
    "start": "2124750",
    "end": "2128208"
  },
  {
    "text": "End path. End path.",
    "start": "2130375",
    "end": "2132041"
  },
  {
    "text": "End... Provide them here.",
    "start": "2137708",
    "end": "2140958"
  },
  {
    "text": "Yeah, we'll look at this. What do we got? We just need build options, which is fine.",
    "start": "2151750",
    "end": "2156125"
  },
  {
    "text": "Then we go back to document builder great. Just build one, please.",
    "start": "2161791",
    "end": "2165875"
  },
  {
    "text": "So we've got our stream of documents. We put each document...",
    "start": "2171791",
    "end": "2177750"
  },
  {
    "text": "We will process it",
    "start": "2181208",
    "end": "2185083"
  },
  {
    "text": "using the specified source. So the document, we have source field...",
    "start": "2186500",
    "end": "2194750"
  },
  {
    "text": "Which will determine where the documents will come from. So I think the next step is to...",
    "start": "2197041",
    "end": "2203458"
  },
  {
    "text": "...listen out this source service.",
    "start": "2206416",
    "end": "2208125"
  },
  {
    "text": "Okay.",
    "start": "2226833",
    "end": "2227125"
  },
  {
    "text": "What is the output?",
    "start": "2237250",
    "end": "2238666"
  },
  {
    "text": "Field schema fot the document",
    "start": "2251041",
    "end": "2252666"
  },
  {
    "text": "So I guess a source... each source will have its own kind of... output.",
    "start": "2281125",
    "end": "2288000"
  },
  {
    "text": "So we go back to... our example config.",
    "start": "2304083",
    "end": "2309166"
  },
  {
    "text": "These fields here...",
    "start": "2312291",
    "end": "2313583"
  },
  {
    "text": "They all come from... So here we've got markdown as a source.",
    "start": "2330541",
    "end": "2337625"
  },
  {
    "text": "And they all have front-meta, a body.",
    "start": "2350000",
    "end": "2352708"
  },
  {
    "text": "And then we will need to pass the markdown somehow.",
    "start": "2357208",
    "end": "2360333"
  },
  {
    "text": "We'll need to add markdown plugins and all that kind of thing.",
    "start": "2369000",
    "end": "2371875"
  },
  {
    "text": "Okay.",
    "start": "2375333",
    "end": "2375625"
  },
  {
    "text": "So it sounds like...",
    "start": "2387083",
    "end": "2388750"
  },
  {
    "text": "...source will be a stream.",
    "start": "2398791",
    "end": "2403083"
  },
  {
    "text": "I think... to be honest... The source is just a stream source",
    "start": "2463875",
    "end": "2471166"
  },
  {
    "text": "Must be a stream of some kind of approach",
    "start": "2482375",
    "end": "2486333"
  },
  {
    "text": "So we'll get a document",
    "start": "2495833",
    "end": "2497916"
  },
  {
    "text": "we will invoke the source that should give us raw",
    "start": "2505375",
    "end": "2511041"
  },
  {
    "text": "raw field usage which the schema wouldn't pass",
    "start": "2512333",
    "end": "2517875"
  },
  {
    "text": "we can keep source any",
    "start": "2595125",
    "end": "2596958"
  },
  {
    "text": "we just extend stream.stream",
    "start": "2620125",
    "end": "2624708"
  },
  {
    "text": "meta",
    "start": "2627375",
    "end": "2628083"
  },
  {
    "text": "E, R",
    "start": "2633666",
    "end": "2634458"
  },
  {
    "text": "we don't really care about what here is because we'll probably just turn them into",
    "start": "2660083",
    "end": "2666083"
  },
  {
    "text": "defects at some point  or wrap them with the ContentLayer at top",
    "start": "2666083",
    "end": "2669875"
  },
  {
    "text": "or try to do it about requirements",
    "start": "2671750",
    "end": "2674750"
  },
  {
    "text": "I guess for now we can just fix the requirements to a well known seed in platform",
    "start": "2680916",
    "end": "2689250"
  },
  {
    "text": "provided FileSystem",
    "start": "2751500",
    "end": "2756958"
  },
  {
    "text": "and then we can use something else.",
    "start": "2770333",
    "end": "2772458"
  },
  {
    "text": "And we'll just add a new variable here. Maybe we'll make a default never.",
    "start": "2797541",
    "end": "2807750"
  },
  {
    "text": "There we go.",
    "start": "2810208",
    "end": "2811333"
  },
  {
    "text": "File system source for output, path name.",
    "start": "2818000",
    "end": "2824291"
  },
  {
    "text": "So I'll put a path name,",
    "start": "2841583",
    "end": "2843875"
  },
  {
    "text": "content, which would be stream,",
    "start": "2849666",
    "end": "2852708"
  },
  {
    "text": "just in case we have an image or something.",
    "start": "2859583",
    "end": "2861500"
  },
  {
    "text": "Maybe we'll do content stream as well.",
    "start": "2872333",
    "end": "2874500"
  },
  {
    "text": "And maybe some timestamps.",
    "start": "2882291",
    "end": "2885625"
  },
  {
    "text": "Maybe just a whole stair object. file system dot file info.",
    "start": "2887958",
    "end": "2894208"
  },
  {
    "text": "One second, lots of stuff.",
    "start": "2895583",
    "end": "2897708"
  },
  {
    "text": "I think there is a good start.",
    "start": "2906416",
    "end": "2909791"
  },
  {
    "text": "And then this will be the file that",
    "start": "2918708",
    "end": "2923875"
  },
  {
    "text": "constructs the source.",
    "start": "2923875",
    "end": "2926291"
  },
  {
    "text": "But we need to use it here. File system source dot meta.",
    "start": "2929208",
    "end": "2933916"
  },
  {
    "text": "So I think for the file system source we want to take an array of glob patterns.",
    "start": "2959125",
    "end": "2967375"
  },
  {
    "text": "So we do a read only array of string. That's what we need for now",
    "start": "2978416",
    "end": "2983666"
  },
  {
    "text": "I got there.",
    "start": "2989500",
    "end": "2992291"
  },
  {
    "text": "It says some things don't work here.",
    "start": "2997250",
    "end": "2999083"
  },
  {
    "text": "I'll just read that as a category here.",
    "start": "3008250",
    "end": "3012875"
  },
  {
    "text": "There's the typeIDs",
    "start": "3036666",
    "end": "3039208"
  },
  {
    "text": "We'll do that core source. We don't need a type of ID",
    "start": "3045750",
    "end": "3051541"
  },
  {
    "text": "because we're using string.",
    "start": "3051541",
    "end": "3053416"
  },
  {
    "text": "So the source given array of glob patterns will output the structure.",
    "start": "3060583",
    "end": "3066458"
  },
  {
    "text": "I think that means we need to import some",
    "start": "3071291",
    "end": "3078041"
  },
  {
    "text": "kind of glob library.",
    "start": "3078041",
    "end": "3079083"
  },
  {
    "text": "core pnpm add glob",
    "start": "3093041",
    "end": "3095375"
  },
  {
    "text": "And for the delve. We go back to source.",
    "start": "3106625",
    "end": "3112500"
  },
  {
    "text": "It's called.",
    "start": "3122250",
    "end": "3123083"
  },
  {
    "text": "globStream",
    "start": "3129666",
    "end": "3130416"
  },
  {
    "text": "Many parts.",
    "start": "3139000",
    "end": "3139791"
  },
  {
    "text": "It's a stream. Because I've never used many parts before.",
    "start": "3154666",
    "end": "3160500"
  },
  {
    "text": "minipass",
    "start": "3162666",
    "end": "3165166"
  },
  {
    "text": "Maybe we need to add a conversion. A conversion module.",
    "start": "3192208",
    "end": "3201416"
  },
  {
    "text": "try promise. try",
    "start": "3247250",
    "end": "3249458"
  },
  {
    "text": "Paths.",
    "start": "3259500",
    "end": "3261208"
  },
  {
    "text": "Any errors.",
    "start": "3277875",
    "end": "3278791"
  },
  {
    "text": "Module source system.",
    "start": "3285750",
    "end": "3289375"
  },
  {
    "text": "So at this point we should have a listed file paths of our documents.",
    "start": "3309750",
    "end": "3316833"
  },
  {
    "text": "So let's turn it into.",
    "start": "3322791",
    "end": "3327500"
  },
  {
    "text": "The stream.",
    "start": "3329375",
    "end": "3329916"
  },
  {
    "text": "Okay, we have a stream of file path.",
    "start": "3342416",
    "end": "3344375"
  },
  {
    "text": "You need the file system services a point. So let's pull it out now.",
    "start": "3375583",
    "end": "3379708"
  },
  {
    "text": "Just my keyboard being weird. We will need.",
    "start": "3383958",
    "end": "3388708"
  },
  {
    "text": "The path module here.",
    "start": "3390375",
    "end": "3391875"
  },
  {
    "text": "then let's move this",
    "start": "3409125",
    "end": "3411083"
  },
  {
    "text": "Let's define a load meter function.",
    "start": "3496375",
    "end": "3500583"
  },
  {
    "text": "And returns an effect of.",
    "start": "3505458",
    "end": "3509083"
  },
  {
    "text": "Our system source dot meta ContentLayerError",
    "start": "3513041",
    "end": "3517625"
  },
  {
    "text": "The first thing to do is set the path.",
    "start": "3524166",
    "end": "3527791"
  },
  {
    "text": "So this point we have a platform error. So let's map the error into our domain",
    "start": "3546208",
    "end": "3554750"
  },
  {
    "text": "path stat",
    "start": "3604708",
    "end": "3606041"
  },
  {
    "text": "path, stat, content That will be stream.orDie dot stream",
    "start": "3610375",
    "end": "3618875"
  },
  {
    "text": "stream.decodeText",
    "start": "3633375",
    "end": "3636666"
  },
  {
    "text": "We don't use path That's fine",
    "start": "3654791",
    "end": "3660416"
  },
  {
    "text": "Where's the concurrency here?",
    "start": "3661041",
    "end": "3663291"
  },
  {
    "text": "Past some source.",
    "start": "3677250",
    "end": "3679791"
  },
  {
    "text": "At this point we have a stream of information coming from our source.",
    "start": "3716250",
    "end": "3723166"
  },
  {
    "text": "And now ee want to.",
    "start": "3727208",
    "end": "3730166"
  },
  {
    "text": "Turn that into a field set.",
    "start": "3737375",
    "end": "3739416"
  },
  {
    "text": "So I think here we probably want to do something like pipe",
    "start": "3743083",
    "end": "3747333"
  },
  {
    "text": "Source dot",
    "start": "3750458",
    "end": "3753458"
  },
  {
    "text": "So some plug in the source. Like in.",
    "start": "3761916",
    "end": "3767416"
  },
  {
    "text": "remark which cannot take config",
    "start": "3770875",
    "end": "3776250"
  },
  {
    "text": "Okay. Does this assist a pass of some sort?",
    "start": "3808833",
    "end": "3815041"
  },
  {
    "text": "Source is a string.",
    "start": "3820166",
    "end": "3822750"
  },
  {
    "text": "Build.",
    "start": "3833375",
    "end": "3833583"
  },
  {
    "text": "We need to clean up our ports.",
    "start": "3843666",
    "end": "3846750"
  },
  {
    "text": "Just export that to make the build happy. Build.",
    "start": "3863500",
    "end": "3867958"
  },
  {
    "text": "Document.",
    "start": "3878750",
    "end": "3879500"
  },
  {
    "text": "Okay.",
    "start": "3901875",
    "end": "3902208"
  },
  {
    "text": "Okay.",
    "start": "3919250",
    "end": "3919416"
  },
  {
    "text": "It will be stream.stream.success",
    "start": "3941583",
    "end": "3944250"
  },
  {
    "text": "restart, yeah that makes sense, but we do have a pipe now.",
    "start": "3977166",
    "end": "3988166"
  },
  {
    "text": "So source plugin will take the stream and its input.",
    "start": "4033083",
    "end": "4041708"
  },
  {
    "text": "In InErr So take a source in and output a new source.",
    "start": "4121583",
    "end": "4134458"
  },
  {
    "text": "I think we'll start there",
    "start": "4170583",
    "end": "4173208"
  },
  {
    "text": "So let's try and create the Markdown parser.",
    "start": "4178666",
    "end": "4184208"
  },
  {
    "text": "I guess I might have to implement or have some primitive meta types.",
    "start": "4217583",
    "end": "4225750"
  },
  {
    "text": "Content meta.",
    "start": "4229541",
    "end": "4231708"
  },
  {
    "text": "Then extend content meta.",
    "start": "4247416",
    "end": "4252083"
  },
  {
    "text": "And we add the helper to make a plugin",
    "start": "4284083",
    "end": "4287791"
  },
  {
    "text": "I think that would be useful.",
    "start": "4291000",
    "end": "4292166"
  },
  {
    "text": "We should just move those scenarios.",
    "start": "4342000",
    "end": "4343708"
  },
  {
    "text": "Better let's get rid of that.",
    "start": "4367458",
    "end": "4369750"
  },
  {
    "text": "What is a good Markdown parser?",
    "start": "4374916",
    "end": "4377083"
  },
  {
    "text": "Uh, npm markdown parser",
    "start": "4380000",
    "end": "4386458"
  },
  {
    "text": "But... Remark.",
    "start": "4388583",
    "end": "4393750"
  },
  {
    "text": "Remark vs marked",
    "start": "4404083",
    "end": "4407833"
  },
  {
    "text": "Maybe we're gonna start with Remark.",
    "start": "4435250",
    "end": "4437125"
  },
  {
    "text": "Remark.",
    "start": "4455333",
    "end": "4455916"
  },
  {
    "text": "What is unified here?",
    "start": "4476583",
    "end": "4478416"
  },
  {
    "text": "Kind of want to let you bring your own plugins.",
    "start": "4482333",
    "end": "4485500"
  },
  {
    "text": "Which looks like...",
    "start": "4498000",
    "end": "4499791"
  },
  {
    "text": "What is unified?",
    "start": "4507500",
    "end": "4508250"
  },
  {
    "text": "AST transformer.",
    "start": "4514791",
    "end": "4516875"
  },
  {
    "text": "This is just for content with plugins. Okay.",
    "start": "4527000",
    "end": "4530625"
  },
  {
    "text": "Maybe we'll start with unified.",
    "start": "4543125",
    "end": "4544791"
  },
  {
    "text": "Does it take options? No.",
    "start": "4606541",
    "end": "4611500"
  },
  {
    "text": "We have unified, you use plugins.",
    "start": "4646791",
    "end": "4649333"
  },
  {
    "text": "What is it complaining about? Can I find module?",
    "start": "4666000",
    "end": "4669875"
  },
  {
    "text": "Core package. Maybe I need to restart LSP.",
    "start": "4672208",
    "end": "4678208"
  },
  {
    "text": "Maybe I need to see tops. pnpm add",
    "start": "4689625",
    "end": "4695208"
  },
  {
    "text": "Oh, I don't even add it. This one.",
    "start": "4698583",
    "end": "4700083"
  },
  {
    "text": "Do I want to edit that?",
    "start": "4712083",
    "end": "4712875"
  },
  {
    "text": "Maybe for now it's edited so I can test with it.",
    "start": "4722500",
    "end": "4727000"
  },
  {
    "text": "Looks like processor has a bunch of lyrics.",
    "start": "4747333",
    "end": "4753791"
  },
  {
    "text": "root root data.",
    "start": "4754375",
    "end": "4757000"
  },
  {
    "text": "Unified. Look at its API, we're going to want to build up a processor.",
    "start": "4832916",
    "end": "4839375"
  },
  {
    "text": "And then...",
    "start": "4841041",
    "end": "4842166"
  },
  {
    "text": "Use that processor to create up push.",
    "start": "4851583",
    "end": "4855708"
  },
  {
    "text": "remark pass.",
    "start": "4864958",
    "end": "4865833"
  },
  {
    "text": "That's a lot of dependencies.",
    "start": "4887875",
    "end": "4889416"
  },
  {
    "text": "What is rehype?",
    "start": "4901000",
    "end": "4901791"
  },
  {
    "text": "syntax tree syntax tree turn it into markdown as output",
    "start": "4907625",
    "end": "4913208"
  },
  {
    "text": "Could just pull out the front better.",
    "start": "4935166",
    "end": "4936708"
  },
  {
    "text": "Pull out the body.",
    "start": "4958166",
    "end": "4959125"
  },
  {
    "text": "remark",
    "start": "4996791",
    "end": "4997541"
  },
  {
    "text": "Frontmatter",
    "start": "5003000",
    "end": "5004083"
  },
  {
    "text": "Okay. parse",
    "start": "5030083",
    "end": "5034625"
  },
  {
    "text": "Frontmatter parse frontmatter.",
    "start": "5035208",
    "end": "5038791"
  },
  {
    "text": "And stringify",
    "start": "5043583",
    "end": "5044791"
  },
  {
    "text": "And then... To get this.",
    "start": "5056583",
    "end": "5058708"
  },
  {
    "text": "We can make a pipeline, isn't it?",
    "start": "5063250",
    "end": "5065375"
  },
  {
    "text": "It's in the copy places.",
    "start": "5072000",
    "end": "5072916"
  },
  {
    "text": "And then...",
    "start": "5086708",
    "end": "5089416"
  },
  {
    "text": "What does that give us?",
    "start": "5101000",
    "end": "5103541"
  },
  {
    "text": "Processor",
    "start": "5110291",
    "end": "5112958"
  },
  {
    "text": "I don't know what always generics are.",
    "start": "5135000",
    "end": "5137958"
  },
  {
    "text": "String.",
    "start": "5179375",
    "end": "5179666"
  },
  {
    "text": "Consider all this class",
    "start": "5218750",
    "end": "5219958"
  },
  {
    "text": "Weird.",
    "start": "5233625",
    "end": "5233958"
  },
  {
    "text": "So we'll build our processor.",
    "start": "5249083",
    "end": "5251458"
  },
  {
    "text": "We've got a source.",
    "start": "5274000",
    "end": "5275458"
  },
  {
    "text": "This here, we can take the unified processor.",
    "start": "5292833",
    "end": "5295958"
  },
  {
    "text": "Or an effect that builds on.",
    "start": "5305375",
    "end": "5308083"
  },
  {
    "text": "An effect that builds the processor.",
    "start": "5313625",
    "end": "5317541"
  },
  {
    "text": "Could have an error.",
    "start": "5318708",
    "end": "5320083"
  },
  {
    "text": "Or it could use the source provided.",
    "start": "5325000",
    "end": "5328958"
  },
  {
    "text": "So it could have access to the fastest of the paths or commands if it needs to.",
    "start": "5337375",
    "end": "5342750"
  },
  {
    "text": "So we've set this as an effect. effect.succeed",
    "start": "5351000",
    "end": "5358291"
  },
  {
    "text": "We need access to effect here.",
    "start": "5361916",
    "end": "5363916"
  },
  {
    "text": "So now we can never pick this, I guess.",
    "start": "5392166",
    "end": "5396583"
  },
  {
    "text": "So the In needs to extend or start.",
    "start": "5412500",
    "end": "5418583"
  },
  {
    "text": "And then that way we have access to markdown.",
    "start": "5423333",
    "end": "5428625"
  },
  {
    "text": "Okay, maybe we should see the twig that's the contributor.",
    "start": "5460083",
    "end": "5463916"
  },
  {
    "text": "Maybe if we just have stream content.",
    "start": "5478125",
    "end": "5483375"
  },
  {
    "text": "I think content should actually default to a string here. It's more useful.",
    "start": "5485000",
    "end": "5490416"
  },
  {
    "text": "And then we'll set this here. We need a...",
    "start": "5493541",
    "end": "5498791"
  },
  {
    "text": "...string content. So this will be Effect.orDie.",
    "start": "5507166",
    "end": "5514750"
  },
  {
    "text": "Read file string.",
    "start": "5517291",
    "end": "5518333"
  },
  {
    "text": "Correct.",
    "start": "5527000",
    "end": "5527375"
  },
  {
    "text": "So we get the content and then we need to...",
    "start": "5538166",
    "end": "5541708"
  },
  {
    "text": "...pass it to the processor.",
    "start": "5544500",
    "end": "5545583"
  },
  {
    "text": "Process returns as a callback.",
    "start": "5549750",
    "end": "5553791"
  },
  {
    "text": "callback or can return a promise.",
    "start": "5561000",
    "end": "5562958"
  },
  {
    "text": "What does callback look like?",
    "start": "5583000",
    "end": "5584958"
  },
  {
    "text": "Maybe we'll just use the promise.",
    "start": "5592791",
    "end": "5597333"
  },
  {
    "text": "processor.process(content)",
    "start": "5607583",
    "end": "5609875"
  },
  {
    "text": "So what are we headed off?",
    "start": "5649000",
    "end": "5650291"
  },
  {
    "text": "If we look at our stream type.",
    "start": "5705041",
    "end": "5707291"
  },
  {
    "text": "So if we just output the Vfile here.",
    "start": "5740000",
    "end": "5746208"
  },
  {
    "text": "We need to unwrap taht",
    "start": "5764125",
    "end": "5766000"
  },
  {
    "text": "Let's just test this.",
    "start": "5811666",
    "end": "5815583"
  },
  {
    "text": "The promise.",
    "start": "5837166",
    "end": "5838250"
  },
  {
    "text": "Console.log(file)",
    "start": "5851250",
    "end": "5854250"
  },
  {
    "text": "So the value... ...is...",
    "start": "5869583",
    "end": "5874416"
  },
  {
    "text": "...a string.",
    "start": "5876208",
    "end": "5876916"
  },
  {
    "text": "Not sure how we'll type this.",
    "start": "5886000",
    "end": "5889000"
  },
  {
    "text": "Vfile here.",
    "start": "5925208",
    "end": "5926583"
  },
  {
    "text": "interface UnifiedFile",
    "start": "5967625",
    "end": "5972250"
  },
  {
    "text": "This gives us a top-end version.",
    "start": "6037625",
    "end": "6039250"
  },
  {
    "text": "This is string.",
    "start": "6042750",
    "end": "6043791"
  },
  {
    "text": "We need some kind of way of telling it.",
    "start": "6059125",
    "end": "6061083"
  },
  {
    "text": "More any type of information. We should have it to be manual.",
    "start": "6068708",
    "end": "6073666"
  },
  {
    "text": "data",
    "start": "6171125",
    "end": "6172416"
  },
  {
    "text": "So this... ...we use like this.",
    "start": "6205458",
    "end": "6211250"
  },
  {
    "text": "Vfile, string.",
    "start": "6215625",
    "end": "6217416"
  },
  {
    "text": "Put our processor in here.",
    "start": "6225041",
    "end": "6226500"
  },
  {
    "text": "True.",
    "start": "6254083",
    "end": "6254708"
  },
  {
    "text": "previous setup.",
    "start": "6294708",
    "end": "6296625"
  },
  {
    "text": "Okay, so it's... ...this is complaining about the generics.",
    "start": "6302375",
    "end": "6305333"
  },
  {
    "text": "ParseTree.",
    "start": "6349416",
    "end": "6352291"
  },
  {
    "text": "HeadTree",
    "start": "6359000",
    "end": "6360666"
  },
  {
    "text": "TailTree.",
    "start": "6368375",
    "end": "6369583"
  },
  {
    "text": "Compile tree, compile results.",
    "start": "6375458",
    "end": "6377375"
  },
  {
    "text": "Copy that",
    "start": "6391291",
    "end": "6392750"
  },
  {
    "text": "That is, we'll add again. And list.",
    "start": "6449333",
    "end": "6453791"
  },
  {
    "text": "The type declaration is okay.",
    "start": "6519250",
    "end": "6522791"
  },
  {
    "text": "Alright, we did these generics to this one here.",
    "start": "6616000",
    "end": "6621708"
  },
  {
    "text": "API is a bit ugly.",
    "start": "6633125",
    "end": "6634958"
  },
  {
    "text": "So it's going to import types from effect and reference in simplify.",
    "start": "6720416",
    "end": "6728875"
  },
  {
    "text": "And hopefully that makes that look nice.",
    "start": "6733083",
    "end": "6734750"
  },
  {
    "text": "Alright, this is not straight in.",
    "start": "6743916",
    "end": "6747125"
  },
  {
    "text": "There we go.",
    "start": "6749916",
    "end": "6751666"
  },
  {
    "text": "Alright, so we have a test plugin here.",
    "start": "6758625",
    "end": "6764541"
  },
  {
    "text": "Let's try it.",
    "start": "6773791",
    "end": "6774291"
  },
  {
    "text": "Let's build again.",
    "start": "6795875",
    "end": "6797166"
  },
  {
    "text": "Source. It now looks good",
    "start": "6840375",
    "end": "6844125"
  },
  {
    "text": "So not sure how the field scheme is going to work here.",
    "start": "6878166",
    "end": "6883583"
  },
  {
    "text": "Let's just try to get this working. So we go back to our document builder.",
    "start": "6885000",
    "end": "6893291"
  },
  {
    "text": "Now we have ",
    "start": "6916000",
    "end": "6917416"
  },
  {
    "text": "stream.bindTo(\"document\")",
    "start": "6927833",
    "end": "6932333"
  },
  {
    "text": "Maybe we just go to source here.",
    "start": "6945250",
    "end": "6947458"
  },
  {
    "text": "as stream...",
    "start": "6979333",
    "end": "6980750"
  },
  {
    "text": "No, let's just do a stream of...",
    "start": "6985250",
    "end": "6987208"
  },
  {
    "text": "Stream of any. Or unknown.",
    "start": "6992083",
    "end": "6995416"
  },
  {
    "text": "Let's just lock that out.",
    "start": "7016916",
    "end": "7018416"
  },
  {
    "text": "Run for each... Effect.forkScoped",
    "start": "7025791",
    "end": "7033291"
  },
  {
    "text": "We need a scope, so we need to use layer.scoped.",
    "start": "7044500",
    "end": "7048500"
  },
  {
    "text": "document builder build options.",
    "start": "7052666",
    "end": "7054166"
  },
  {
    "text": "We go back to our CLI.",
    "start": "7057791",
    "end": "7059125"
  },
  {
    "text": "And here... We go back to Effect.never again.",
    "start": "7063958",
    "end": "7070000"
  },
  {
    "text": "Nothing's happening. Might just probably because we have no content in here.",
    "start": "7118916",
    "end": "7126416"
  },
  {
    "text": "Content. Maybe we just make it posts.",
    "start": "7132041",
    "end": "7134666"
  },
  {
    "text": "Input a markdown file here",
    "start": "7140291",
    "end": "7142250"
  },
  {
    "text": "Posts. One dot md",
    "start": "7154125",
    "end": "7157500"
  },
  {
    "text": "That'll do.",
    "start": "7180000",
    "end": "7181958"
  },
  {
    "text": "That did not work. Okay.",
    "start": "7194000",
    "end": "7197333"
  },
  {
    "text": "This is actually hitting the source.",
    "start": "7200500",
    "end": "7201708"
  },
  {
    "text": "Yep. But it's empty.",
    "start": "7233291",
    "end": "7235500"
  },
  {
    "text": "Why? Is it empty?",
    "start": "7242000",
    "end": "7245833"
  },
  {
    "text": "Maybe he doesn't support them.",
    "start": "7273541",
    "end": "7279541"
  },
  {
    "text": "If I just do mark down what happens.",
    "start": "7286041",
    "end": "7289333"
  },
  {
    "text": "There we go. We have a document.",
    "start": "7297333",
    "end": "7303000"
  },
  {
    "text": "We have a source. The step. and some output",
    "start": "7303708",
    "end": "7310916"
  },
  {
    "text": "I think I'm going to stop there.",
    "start": "7321125",
    "end": "7324833"
  },
  {
    "text": "So in that amount of time we have kind of",
    "start": "7327958",
    "end": "7333083"
  },
  {
    "text": "like a rough idea of what sources look like in plugins.",
    "start": "7333083",
    "end": "7338333"
  },
  {
    "text": "I think it still needs a bit of polish. The developer experience isn't great.",
    "start": "7339958",
    "end": "7344541"
  },
  {
    "text": "I don't think the API is quite there yet in terms of how we're going to get",
    "start": "7345000",
    "end": "7350458"
  },
  {
    "text": "information from a source and then put it into the fields here.",
    "start": "7350458",
    "end": "7354833"
  },
  {
    "text": "But we can look at that at another time.",
    "start": "7356291",
    "end": "7360333"
  },
  {
    "text": "There are ultimately changes.",
    "start": "7366583",
    "end": "7368458"
  },
  {
    "text": "Source. Source plugin.",
    "start": "7376416",
    "end": "7379291"
  },
  {
    "text": "Push that. And there we go.",
    "start": "7383750",
    "end": "7389708"
  }
]