[
  {
    "start": "0",
    "end": "56000"
  },
  {
    "text": "certainly view a lot of job disruption",
    "start": "30",
    "end": "2959"
  },
  {
    "text": "because what's gonna happen is row us",
    "start": "2959",
    "end": "5040"
  },
  {
    "text": "will be able to do everything better",
    "start": "5040",
    "end": "6750"
  },
  {
    "text": "than us looking back at 2017 chatbots",
    "start": "6750",
    "end": "10230"
  },
  {
    "text": "were the next big thing they were",
    "start": "10230",
    "end": "11730"
  },
  {
    "text": "supposed to eliminate millions of call",
    "start": "11730",
    "end": "13139"
  },
  {
    "text": "center jobs replace lawyers and prevent",
    "start": "13139",
    "end": "15389"
  },
  {
    "text": "end-users from ever having to fill out",
    "start": "15389",
    "end": "16949"
  },
  {
    "text": "an HTML form again now it's 2019 and",
    "start": "16949",
    "end": "19770"
  },
  {
    "text": "we're well past the peak of the hype",
    "start": "19770",
    "end": "20939"
  },
  {
    "text": "cycle and I would say chatbots largely",
    "start": "20939",
    "end": "22740"
  },
  {
    "text": "failed to live up to their expectations",
    "start": "22740",
    "end": "24600"
  },
  {
    "text": "but something to keep in mind is that we",
    "start": "24600",
    "end": "26250"
  },
  {
    "text": "always overestimate the change that will",
    "start": "26250",
    "end": "27930"
  },
  {
    "text": "occur in the next two years and",
    "start": "27930",
    "end": "29130"
  },
  {
    "text": "underestimate the change that will occur",
    "start": "29130",
    "end": "30599"
  },
  {
    "text": "in the next ten",
    "start": "30599",
    "end": "31410"
  },
  {
    "text": "I think chat bots are currently sitting",
    "start": "31410",
    "end": "32730"
  },
  {
    "text": "somewhere in the trough of",
    "start": "32730",
    "end": "33600"
  },
  {
    "text": "disillusionment",
    "start": "33600",
    "end": "34500"
  },
  {
    "text": "but conversational experiences can be",
    "start": "34500",
    "end": "36360"
  },
  {
    "text": "very effective when tailored to a",
    "start": "36360",
    "end": "37770"
  },
  {
    "text": "specific business need and in today's",
    "start": "37770",
    "end": "39570"
  },
  {
    "text": "video you'll learn how to build a chat",
    "start": "39570",
    "end": "40980"
  },
  {
    "text": "bot from scratch using dialogue flow",
    "start": "40980",
    "end": "42660"
  },
  {
    "text": "nodejs and cloud functions if you're new",
    "start": "42660",
    "end": "45149"
  },
  {
    "text": "you're like and subscribe and you can",
    "start": "45149",
    "end": "46440"
  },
  {
    "text": "find the full source code on fire ship",
    "start": "46440",
    "end": "48180"
  },
  {
    "text": "IO what we're building today is a simple",
    "start": "48180",
    "end": "50820"
  },
  {
    "text": "chat bot that can collect information",
    "start": "50820",
    "end": "52379"
  },
  {
    "text": "from a user and then save that",
    "start": "52379",
    "end": "54030"
  },
  {
    "text": "information permanently in a back-end",
    "start": "54030",
    "end": "55530"
  },
  {
    "text": "database the natural language processing",
    "start": "55530",
    "end": "57620"
  },
  {
    "start": "56000",
    "end": "153000"
  },
  {
    "text": "technology or artificial intelligence if",
    "start": "57620",
    "end": "60090"
  },
  {
    "text": "you will is powered by dialogue flow",
    "start": "60090",
    "end": "61890"
  },
  {
    "text": "which is a tool for building virtual",
    "start": "61890",
    "end": "63629"
  },
  {
    "text": "agents that can intelligently respond to",
    "start": "63629",
    "end": "65670"
  },
  {
    "text": "user input whether it be voice or text",
    "start": "65670",
    "end": "67590"
  },
  {
    "text": "after the agent has collected the",
    "start": "67590",
    "end": "69360"
  },
  {
    "text": "information it needs it can pass that",
    "start": "69360",
    "end": "70950"
  },
  {
    "text": "information off to a back-end cloud",
    "start": "70950",
    "end": "72600"
  },
  {
    "text": "function and that function can do",
    "start": "72600",
    "end": "74220"
  },
  {
    "text": "whatever it wants to fulfill the request",
    "start": "74220",
    "end": "75689"
  },
  {
    "text": "on the backend which might be something",
    "start": "75689",
    "end": "77549"
  },
  {
    "text": "like sending an email processing a",
    "start": "77549",
    "end": "79200"
  },
  {
    "text": "payment or updating a database for",
    "start": "79200",
    "end": "81060"
  },
  {
    "text": "example when you build a chat bot with",
    "start": "81060",
    "end": "82680"
  },
  {
    "text": "dialogue flow you can automatically",
    "start": "82680",
    "end": "84150"
  },
  {
    "text": "integrate it with a bunch of different",
    "start": "84150",
    "end": "85380"
  },
  {
    "text": "platforms like Facebook messenger slack",
    "start": "85380",
    "end": "87659"
  },
  {
    "text": "and you can now even connect it directly",
    "start": "87659",
    "end": "89280"
  },
  {
    "text": "to a phone line but today we're going to",
    "start": "89280",
    "end": "91470"
  },
  {
    "text": "directly interact with the dialogue flow",
    "start": "91470",
    "end": "93150"
  },
  {
    "text": "API with a node back-end let's go ahead",
    "start": "93150",
    "end": "95340"
  },
  {
    "text": "and take a look at the full architecture",
    "start": "95340",
    "end": "96869"
  },
  {
    "text": "that we'll cover in today's video on the",
    "start": "96869",
    "end": "98820"
  },
  {
    "text": "left here we have our front-end",
    "start": "98820",
    "end": "99840"
  },
  {
    "text": "application which is where the user",
    "start": "99840",
    "end": "101340"
  },
  {
    "text": "interacts with the bot in this demo use",
    "start": "101340",
    "end": "103439"
  },
  {
    "text": "angular for the front-end UI but feel",
    "start": "103439",
    "end": "105479"
  },
  {
    "text": "free to replace it with the front-end",
    "start": "105479",
    "end": "106979"
  },
  {
    "text": "framework of your choice because all",
    "start": "106979",
    "end": "108840"
  },
  {
    "text": "that front-end application needs to do",
    "start": "108840",
    "end": "110189"
  },
  {
    "text": "is make API calls to our gateway cloud",
    "start": "110189",
    "end": "112439"
  },
  {
    "text": "function this function essentially",
    "start": "112439",
    "end": "114000"
  },
  {
    "text": "serves as a proxy to make secure calls",
    "start": "114000",
    "end": "116130"
  },
  {
    "text": "to the dialogue flow API so the user",
    "start": "116130",
    "end": "118560"
  },
  {
    "text": "will enter their message in the",
    "start": "118560",
    "end": "119579"
  },
  {
    "text": "front-end application which will then",
    "start": "119579",
    "end": "121049"
  },
  {
    "text": "pass off to the cloud function with an",
    "start": "121049",
    "end": "122579"
  },
  {
    "text": "HTTP call will then pass that message to",
    "start": "122579",
    "end": "125040"
  },
  {
    "text": "the bot which will give us a response",
    "start": "125040",
    "end": "126270"
  },
  {
    "text": "that we can send back down to the client",
    "start": "126270",
    "end": "128160"
  },
  {
    "text": "now the thing to keep in mind here is",
    "start": "128160",
    "end": "130170"
  },
  {
    "text": "that a conversation will take place over",
    "start": "130170",
    "end": "131940"
  },
  {
    "text": "multiple steps",
    "start": "131940",
    "end": "133220"
  },
  {
    "text": "but at some point the conversation will",
    "start": "133220",
    "end": "135110"
  },
  {
    "text": "finish and the users intention will be",
    "start": "135110",
    "end": "136760"
  },
  {
    "text": "fulfilled when that happens dialog flow",
    "start": "136760",
    "end": "139010"
  },
  {
    "text": "will send a web hook to a separate cloud",
    "start": "139010",
    "end": "140750"
  },
  {
    "text": "function this function can be used to",
    "start": "140750",
    "end": "142640"
  },
  {
    "text": "handle additional work on the backend",
    "start": "142640",
    "end": "143810"
  },
  {
    "text": "and dynamically compute the bots",
    "start": "143810",
    "end": "145850"
  },
  {
    "text": "response so that's how things work from",
    "start": "145850",
    "end": "148010"
  },
  {
    "text": "a high level at this point you'll want",
    "start": "148010",
    "end": "149630"
  },
  {
    "text": "to have a fire based project and then",
    "start": "149630",
    "end": "151310"
  },
  {
    "text": "head over to the dialog flow console the",
    "start": "151310",
    "end": "154580"
  },
  {
    "start": "153000",
    "end": "347000"
  },
  {
    "text": "first thing we'll do on the dialog flow",
    "start": "154580",
    "end": "155960"
  },
  {
    "text": "console is create a new agent an agent",
    "start": "155960",
    "end": "158330"
  },
  {
    "text": "represents an individual chat bot and a",
    "start": "158330",
    "end": "160850"
  },
  {
    "text": "chat bot is really just a tool that",
    "start": "160850",
    "end": "162470"
  },
  {
    "text": "takes user input like text or speech and",
    "start": "162470",
    "end": "164870"
  },
  {
    "text": "translates it into structured data that",
    "start": "164870",
    "end": "166940"
  },
  {
    "text": "you can use in your app I like to think",
    "start": "166940",
    "end": "168830"
  },
  {
    "text": "of dialogue flow as a virtual call",
    "start": "168830",
    "end": "170570"
  },
  {
    "text": "center and the agent is a customer",
    "start": "170570",
    "end": "172580"
  },
  {
    "text": "service representative that's been",
    "start": "172580",
    "end": "173900"
  },
  {
    "text": "trained to solve a variety of different",
    "start": "173900",
    "end": "175430"
  },
  {
    "text": "problems when the user first received",
    "start": "175430",
    "end": "177350"
  },
  {
    "text": "some input it needs to determine the",
    "start": "177350",
    "end": "179030"
  },
  {
    "text": "users intention or the problem that",
    "start": "179030",
    "end": "180740"
  },
  {
    "text": "they're trying to solve for this demo",
    "start": "180740",
    "end": "182720"
  },
  {
    "text": "we'll create a new intent that the user",
    "start": "182720",
    "end": "184100"
  },
  {
    "text": "can trigger to update their user profile",
    "start": "184100",
    "end": "186230"
  },
  {
    "text": "information we'll give it a name of",
    "start": "186230",
    "end": "188090"
  },
  {
    "text": "update profile and then you'll see a",
    "start": "188090",
    "end": "189860"
  },
  {
    "text": "bunch of different options here so let's",
    "start": "189860",
    "end": "191540"
  },
  {
    "text": "go through and talk about each one of",
    "start": "191540",
    "end": "192890"
  },
  {
    "text": "them individually first we have context",
    "start": "192890",
    "end": "195200"
  },
  {
    "text": "which is a little more advanced and",
    "start": "195200",
    "end": "196520"
  },
  {
    "text": "we're not going to cover it in this",
    "start": "196520",
    "end": "197600"
  },
  {
    "text": "video but basically it's a mechanism for",
    "start": "197600",
    "end": "199430"
  },
  {
    "text": "passing data from one intent to another",
    "start": "199430",
    "end": "201680"
  },
  {
    "text": "then the next option you'll see is",
    "start": "201680",
    "end": "203540"
  },
  {
    "text": "events which is optional but it's a way",
    "start": "203540",
    "end": "205580"
  },
  {
    "text": "to trigger this intent without having",
    "start": "205580",
    "end": "207260"
  },
  {
    "text": "the user do it manually and this is",
    "start": "207260",
    "end": "209209"
  },
  {
    "text": "useful in our case because we might have",
    "start": "209209",
    "end": "210770"
  },
  {
    "text": "a user onboarding process and the users",
    "start": "210770",
    "end": "212810"
  },
  {
    "text": "not going to know which intent to",
    "start": "212810",
    "end": "214160"
  },
  {
    "text": "trigger so this gives us a way to kick",
    "start": "214160",
    "end": "216050"
  },
  {
    "text": "off a conversation programmatically in",
    "start": "216050",
    "end": "217850"
  },
  {
    "text": "our code and from there we have our",
    "start": "217850",
    "end": "219980"
  },
  {
    "text": "training phrases these are uh turan",
    "start": "219980",
    "end": "221959"
  },
  {
    "text": "SACEUR short phrases from the user that",
    "start": "221959",
    "end": "224030"
  },
  {
    "text": "would trigger this intent that machine",
    "start": "224030",
    "end": "225769"
  },
  {
    "text": "learning algorithm is going to use",
    "start": "225769",
    "end": "227180"
  },
  {
    "text": "natural language processing to figure",
    "start": "227180",
    "end": "229040"
  },
  {
    "text": "out which phrases are similar to the",
    "start": "229040",
    "end": "230630"
  },
  {
    "text": "ones that you add here the more data you",
    "start": "230630",
    "end": "232400"
  },
  {
    "text": "can add the better but we'll just add a",
    "start": "232400",
    "end": "233810"
  },
  {
    "text": "couple of short phrases here for now",
    "start": "233810",
    "end": "235310"
  },
  {
    "text": "then dialogue flow will try to capture",
    "start": "235310",
    "end": "237410"
  },
  {
    "text": "any phrases that are similar or that",
    "start": "237410",
    "end": "239300"
  },
  {
    "text": "convey the same intent that you've",
    "start": "239300",
    "end": "240500"
  },
  {
    "text": "listed here after that we have action",
    "start": "240500",
    "end": "242630"
  },
  {
    "text": "and parameters when naming an action",
    "start": "242630",
    "end": "244700"
  },
  {
    "text": "it's generally a good practice to use",
    "start": "244700",
    "end": "246170"
  },
  {
    "text": "your domain name in Reverse followed by",
    "start": "246170",
    "end": "248330"
  },
  {
    "text": "the name of your intent similar to a",
    "start": "248330",
    "end": "250220"
  },
  {
    "text": "bundle ID for a mobile application now",
    "start": "250220",
    "end": "253040"
  },
  {
    "text": "when a user triggers an intent there's",
    "start": "253040",
    "end": "254720"
  },
  {
    "text": "likely multiple pieces of data that you",
    "start": "254720",
    "end": "256430"
  },
  {
    "text": "need to collect in order to be able to",
    "start": "256430",
    "end": "258200"
  },
  {
    "text": "successfully solve the problem and",
    "start": "258200",
    "end": "259760"
  },
  {
    "text": "that's where parameters come in you can",
    "start": "259760",
    "end": "261950"
  },
  {
    "text": "set up optional and required parameters",
    "start": "261950",
    "end": "263810"
  },
  {
    "text": "that dialogue flow will try to collect",
    "start": "263810",
    "end": "265580"
  },
  {
    "text": "from the user",
    "start": "265580",
    "end": "266690"
  },
  {
    "text": "we're going to collect the users display",
    "start": "266690",
    "end": "268670"
  },
  {
    "text": "name which will give a parameter name of",
    "start": "268670",
    "end": "270530"
  },
  {
    "text": "name and then you have the entity option",
    "start": "270530",
    "end": "272540"
  },
  {
    "text": "which represents the type of data that",
    "start": "272540",
    "end": "274160"
  },
  {
    "text": "you're trying to collect and this allows",
    "start": "274160",
    "end": "276110"
  },
  {
    "text": "dialog flow to automatically validate",
    "start": "276110",
    "end": "278150"
  },
  {
    "text": "the data that's being collected and you",
    "start": "278150",
    "end": "279920"
  },
  {
    "text": "can also create your own custom entity",
    "start": "279920",
    "end": "281600"
  },
  {
    "text": "for whatever custom data that you're",
    "start": "281600",
    "end": "283130"
  },
  {
    "text": "trying to collect and you can also see",
    "start": "283130",
    "end": "284780"
  },
  {
    "text": "here that we set up a prompt which is",
    "start": "284780",
    "end": "286280"
  },
  {
    "text": "what the agent will ask the user when",
    "start": "286280",
    "end": "287990"
  },
  {
    "text": "trying to collect this data now after",
    "start": "287990",
    "end": "290360"
  },
  {
    "text": "all the data has been collected there",
    "start": "290360",
    "end": "291860"
  },
  {
    "text": "are two ways to fulfill the intent if",
    "start": "291860",
    "end": "293720"
  },
  {
    "text": "you don't have any additional work to do",
    "start": "293720",
    "end": "295220"
  },
  {
    "text": "on the backend you can simply define a",
    "start": "295220",
    "end": "296840"
  },
  {
    "text": "response in the dialog flow console but",
    "start": "296840",
    "end": "299450"
  },
  {
    "text": "in a lot of cases you want to update",
    "start": "299450",
    "end": "301010"
  },
  {
    "text": "something in a database or maybe make an",
    "start": "301010",
    "end": "302870"
  },
  {
    "text": "API call to a third party so for that",
    "start": "302870",
    "end": "305090"
  },
  {
    "text": "you'll need to use a web hook and that",
    "start": "305090",
    "end": "307070"
  },
  {
    "text": "will allow you to write custom code on",
    "start": "307070",
    "end": "308660"
  },
  {
    "text": "your back-end server to format the",
    "start": "308660",
    "end": "310310"
  },
  {
    "text": "response dynamically and handle anything",
    "start": "310310",
    "end": "312290"
  },
  {
    "text": "else that the user is trying to do from",
    "start": "312290",
    "end": "314690"
  },
  {
    "text": "there we can go ahead and save the",
    "start": "314690",
    "end": "315800"
  },
  {
    "text": "intent and then we'll head over to the",
    "start": "315800",
    "end": "317270"
  },
  {
    "text": "integrations tab there's a whole bunch",
    "start": "317270",
    "end": "319430"
  },
  {
    "text": "of different built in integrations like",
    "start": "319430",
    "end": "321020"
  },
  {
    "text": "Facebook messenger slack Twitter Twilio",
    "start": "321020",
    "end": "323660"
  },
  {
    "text": "and many others and there's even a new",
    "start": "323660",
    "end": "325820"
  },
  {
    "text": "one called dialogue phone gateway that",
    "start": "325820",
    "end": "327320"
  },
  {
    "text": "allows you to connect your chat bot with",
    "start": "327320",
    "end": "328940"
  },
  {
    "text": "a phone number and you'll also see one",
    "start": "328940",
    "end": "330620"
  },
  {
    "text": "called web demo that lets you use your",
    "start": "330620",
    "end": "332390"
  },
  {
    "text": "chat bot in a browser but it doesn't",
    "start": "332390",
    "end": "334250"
  },
  {
    "text": "allow you to customize the UI in any way",
    "start": "334250",
    "end": "336260"
  },
  {
    "text": "and that's because we need a back-end",
    "start": "336260",
    "end": "338060"
  },
  {
    "text": "like no js' and a cloud function to",
    "start": "338060",
    "end": "340400"
  },
  {
    "text": "interact with the chat bot so that's",
    "start": "340400",
    "end": "342140"
  },
  {
    "text": "what we're going to take care of next",
    "start": "342140",
    "end": "343280"
  },
  {
    "text": "the first thing i'll do is initialize",
    "start": "343280",
    "end": "345050"
  },
  {
    "text": "cloud functions selecting javascript is",
    "start": "345050",
    "end": "347120"
  },
  {
    "start": "347000",
    "end": "555000"
  },
  {
    "text": "the language from there we can see the",
    "start": "347120",
    "end": "349400"
  },
  {
    "text": "end of the functions directory and for",
    "start": "349400",
    "end": "351110"
  },
  {
    "text": "this first function we'll want to",
    "start": "351110",
    "end": "352310"
  },
  {
    "text": "install a dialogue flow which is the",
    "start": "352310",
    "end": "354200"
  },
  {
    "text": "dialogue flow api client and also korres",
    "start": "354200",
    "end": "356960"
  },
  {
    "text": "because we'll be making requests from",
    "start": "356960",
    "end": "358430"
  },
  {
    "text": "our front-end application now when it",
    "start": "358430",
    "end": "360380"
  },
  {
    "text": "comes to fulfillment there's a separate",
    "start": "360380",
    "end": "362000"
  },
  {
    "text": "library specifically for that called",
    "start": "362000",
    "end": "363560"
  },
  {
    "text": "dialogue flow fulfillment and you'll",
    "start": "363560",
    "end": "365240"
  },
  {
    "text": "also want to install actions on google",
    "start": "365240",
    "end": "366950"
  },
  {
    "text": "if using it and you'll find the command",
    "start": "366950",
    "end": "368780"
  },
  {
    "text": "to install all these with npm from the",
    "start": "368780",
    "end": "370520"
  },
  {
    "text": "full lesson page the first function that",
    "start": "370520",
    "end": "372830"
  },
  {
    "text": "we'll build is a secure gateway that",
    "start": "372830",
    "end": "374419"
  },
  {
    "text": "allows the front-end application to",
    "start": "374419",
    "end": "376130"
  },
  {
    "text": "communicate with dialogue flow on the",
    "start": "376130",
    "end": "377630"
  },
  {
    "text": "backend and we'll import korres which",
    "start": "377630",
    "end": "379669"
  },
  {
    "text": "will allow us to make requests from a",
    "start": "379669",
    "end": "381200"
  },
  {
    "text": "front-end app in the browser but in",
    "start": "381200",
    "end": "383060"
  },
  {
    "text": "order to work with dialogue flow in a",
    "start": "383060",
    "end": "384410"
  },
  {
    "text": "cloud function we need to bring in an",
    "start": "384410",
    "end": "386150"
  },
  {
    "text": "actual service account this is really",
    "start": "386150",
    "end": "388220"
  },
  {
    "text": "easy to do we simply go to the firebase",
    "start": "388220",
    "end": "390320"
  },
  {
    "text": "console and go to the settings tab then",
    "start": "390320",
    "end": "393020"
  },
  {
    "text": "service account and click the button to",
    "start": "393020",
    "end": "394940"
  },
  {
    "text": "generate a new private key this will",
    "start": "394940",
    "end": "396860"
  },
  {
    "text": "give you a JSON file with your actual",
    "start": "396860",
    "end": "398539"
  },
  {
    "text": "private API key which you can download",
    "start": "398539",
    "end": "400400"
  },
  {
    "text": "into",
    "start": "400400",
    "end": "400940"
  },
  {
    "text": "functions directory you'll just want to",
    "start": "400940",
    "end": "403070"
  },
  {
    "text": "make sure to keep this file secure",
    "start": "403070",
    "end": "404480"
  },
  {
    "text": "because it contains your private API",
    "start": "404480",
    "end": "406070"
  },
  {
    "text": "keys so make sure to add it to your get",
    "start": "406070",
    "end": "408350"
  },
  {
    "text": "ignore if you're using a public get repo",
    "start": "408350",
    "end": "410240"
  },
  {
    "text": "we'll go ahead and import the service",
    "start": "410240",
    "end": "412190"
  },
  {
    "text": "account and then we'll initialize",
    "start": "412190",
    "end": "413510"
  },
  {
    "text": "firebase admin using those credentials",
    "start": "413510",
    "end": "415640"
  },
  {
    "text": "and then we'll import the session client",
    "start": "415640",
    "end": "418160"
  },
  {
    "text": "from dialog flow from there we'll set up",
    "start": "418160",
    "end": "419900"
  },
  {
    "text": "an HTTP cloud function called dialog",
    "start": "419900",
    "end": "422090"
  },
  {
    "text": "float gateway and then immediately wrap",
    "start": "422090",
    "end": "424070"
  },
  {
    "text": "the request response with cores and",
    "start": "424070",
    "end": "425810"
  },
  {
    "text": "again that's there simply to allow",
    "start": "425810",
    "end": "427880"
  },
  {
    "text": "requests to be made from a browser",
    "start": "427880",
    "end": "429910"
  },
  {
    "text": "dialog flow is going to be looking for",
    "start": "429910",
    "end": "432260"
  },
  {
    "text": "two things the query input contains the",
    "start": "432260",
    "end": "434420"
  },
  {
    "text": "data that the user is trying to save the",
    "start": "434420",
    "end": "436040"
  },
  {
    "text": "bot which will be in the form of text or",
    "start": "436040",
    "end": "437930"
  },
  {
    "text": "audio in the session ID is a unique ID",
    "start": "437930",
    "end": "440750"
  },
  {
    "text": "that will generate on the client that",
    "start": "440750",
    "end": "442430"
  },
  {
    "text": "allows the bot to determine the passed",
    "start": "442430",
    "end": "444410"
  },
  {
    "text": "messages that were sent in this",
    "start": "444410",
    "end": "445910"
  },
  {
    "text": "conversation from there we'll go ahead",
    "start": "445910",
    "end": "447710"
  },
  {
    "text": "and initialize the session client with",
    "start": "447710",
    "end": "449750"
  },
  {
    "text": "the service account and then we can",
    "start": "449750",
    "end": "451670"
  },
  {
    "text": "reference the actual session by calling",
    "start": "451670",
    "end": "453440"
  },
  {
    "text": "session path with our firebase project",
    "start": "453440",
    "end": "455420"
  },
  {
    "text": "ID and the session ID and then the next",
    "start": "455420",
    "end": "458090"
  },
  {
    "text": "thing we'll do is get an actual response",
    "start": "458090",
    "end": "459710"
  },
  {
    "text": "from our chat bot which we do by calling",
    "start": "459710",
    "end": "462140"
  },
  {
    "text": "detect intent with the session and in",
    "start": "462140",
    "end": "464330"
  },
  {
    "text": "the query input which again will contain",
    "start": "464330",
    "end": "466130"
  },
  {
    "text": "the text or audio that the user is",
    "start": "466130",
    "end": "467840"
  },
  {
    "text": "saying to the bottom this will provide",
    "start": "467840",
    "end": "469430"
  },
  {
    "text": "us with an array of responses but we're",
    "start": "469430",
    "end": "471200"
  },
  {
    "text": "really only interested in the first one",
    "start": "471200",
    "end": "472790"
  },
  {
    "text": "and the query result contains a bunch of",
    "start": "472790",
    "end": "474919"
  },
  {
    "text": "information but most importantly it has",
    "start": "474919",
    "end": "476960"
  },
  {
    "text": "the text that we want to display to the",
    "start": "476960",
    "end": "478669"
  },
  {
    "text": "user on the front end so we'll go ahead",
    "start": "478669",
    "end": "480410"
  },
  {
    "text": "and send that as the response from this",
    "start": "480410",
    "end": "481970"
  },
  {
    "text": "function now we'll go ahead and set this",
    "start": "481970",
    "end": "483590"
  },
  {
    "text": "up in an angular app in just a minute",
    "start": "483590",
    "end": "485150"
  },
  {
    "text": "but let's start by looking at how this",
    "start": "485150",
    "end": "486560"
  },
  {
    "text": "works with just a regular HTTP call you",
    "start": "486560",
    "end": "489590"
  },
  {
    "text": "can go ahead and serve the functions",
    "start": "489590",
    "end": "490730"
  },
  {
    "text": "locally and then pull up your favorite",
    "start": "490730",
    "end": "492169"
  },
  {
    "text": "HTTP client to make the request what",
    "start": "492169",
    "end": "494900"
  },
  {
    "text": "you'll notice is we have a session ID",
    "start": "494900",
    "end": "496250"
  },
  {
    "text": "which is usually unique per user so you",
    "start": "496250",
    "end": "498380"
  },
  {
    "text": "might use a user ID or something like",
    "start": "498380",
    "end": "500270"
  },
  {
    "text": "that and then the query input is the",
    "start": "500270",
    "end": "502520"
  },
  {
    "text": "actual message sent by the user in which",
    "start": "502520",
    "end": "504680"
  },
  {
    "text": "case you're required to provide the",
    "start": "504680",
    "end": "505970"
  },
  {
    "text": "actual string text and the language code",
    "start": "505970",
    "end": "508220"
  },
  {
    "text": "so if the user says update my profile to",
    "start": "508220",
    "end": "510919"
  },
  {
    "text": "the bot the bots going to respond by",
    "start": "510919",
    "end": "512780"
  },
  {
    "text": "trying to collect those parameters that",
    "start": "512780",
    "end": "514550"
  },
  {
    "text": "we set up in dialogue flow so you can",
    "start": "514550",
    "end": "516620"
  },
  {
    "text": "see here that it's asking what is your",
    "start": "516620",
    "end": "518120"
  },
  {
    "text": "preferred name so if we send another",
    "start": "518120",
    "end": "520130"
  },
  {
    "text": "request with our preferred name it will",
    "start": "520130",
    "end": "522200"
  },
  {
    "text": "move on to the next parameter it needs",
    "start": "522200",
    "end": "523789"
  },
  {
    "text": "to collect which is the favorite color",
    "start": "523789",
    "end": "525589"
  },
  {
    "text": "so we'll ask what is your favorite color",
    "start": "525589",
    "end": "527420"
  },
  {
    "text": "and if we go ahead and respond with the",
    "start": "527420",
    "end": "529400"
  },
  {
    "text": "favorite color that will fulfill the",
    "start": "529400",
    "end": "530900"
  },
  {
    "text": "intent so it's going to trigger our",
    "start": "530900",
    "end": "532610"
  },
  {
    "text": "fulfillment webhook which we have",
    "start": "532610",
    "end": "534230"
  },
  {
    "text": "to find yet and respond with whatever",
    "start": "534230",
    "end": "536090"
  },
  {
    "text": "dynamically generated text that is",
    "start": "536090",
    "end": "537890"
  },
  {
    "text": "provided by that function in other words",
    "start": "537890",
    "end": "539870"
  },
  {
    "text": "we've reached the end of the",
    "start": "539870",
    "end": "540980"
  },
  {
    "text": "conversation so if we try to send the",
    "start": "540980",
    "end": "542720"
  },
  {
    "text": "color blue again it's going to respond",
    "start": "542720",
    "end": "544520"
  },
  {
    "text": "with sorry what was that",
    "start": "544520",
    "end": "545930"
  },
  {
    "text": "because saying the color blue no longer",
    "start": "545930",
    "end": "547880"
  },
  {
    "text": "makes sense within the context of the",
    "start": "547880",
    "end": "549620"
  },
  {
    "text": "conversation now let's head back over to",
    "start": "549620",
    "end": "551870"
  },
  {
    "text": "our functions code and we'll set up a",
    "start": "551870",
    "end": "553490"
  },
  {
    "text": "separate cloud function here for the web",
    "start": "553490",
    "end": "555200"
  },
  {
    "text": "hook this is also an HTTP function but",
    "start": "555200",
    "end": "558050"
  },
  {
    "text": "there is no need to wrap it in cores",
    "start": "558050",
    "end": "559400"
  },
  {
    "text": "because we're not calling it directly",
    "start": "559400",
    "end": "560810"
  },
  {
    "text": "from the front-end app and then we'll",
    "start": "560810",
    "end": "562490"
  },
  {
    "text": "initialize an instance of the web hook",
    "start": "562490",
    "end": "564020"
  },
  {
    "text": "client using the request and response",
    "start": "564020",
    "end": "565670"
  },
  {
    "text": "now it's important to point out that",
    "start": "565670",
    "end": "567320"
  },
  {
    "text": "this cloud function will be called for",
    "start": "567320",
    "end": "569000"
  },
  {
    "text": "all intentions that are to be fulfilled",
    "start": "569000",
    "end": "570590"
  },
  {
    "text": "by web hooks for your chat bot in the",
    "start": "570590",
    "end": "573020"
  },
  {
    "text": "default sample code you'll notice a",
    "start": "573020",
    "end": "574490"
  },
  {
    "text": "couple of functions here called welcome",
    "start": "574490",
    "end": "575960"
  },
  {
    "text": "and fallback currently these functions",
    "start": "575960",
    "end": "578570"
  },
  {
    "text": "will never be called because you'll",
    "start": "578570",
    "end": "579890"
  },
  {
    "text": "notice that on the dialog flow console",
    "start": "579890",
    "end": "581660"
  },
  {
    "text": "we don't have web hook fulfilment",
    "start": "581660",
    "end": "583130"
  },
  {
    "text": "enabled for these intents but if we were",
    "start": "583130",
    "end": "585260"
  },
  {
    "text": "to enable those then the bot would use",
    "start": "585260",
    "end": "586610"
  },
  {
    "text": "these functions instead of whatever you",
    "start": "586610",
    "end": "588140"
  },
  {
    "text": "specify in the dialogue flow console",
    "start": "588140",
    "end": "590150"
  },
  {
    "text": "when it comes to our custom intent we",
    "start": "590150",
    "end": "592310"
  },
  {
    "text": "want to set up a function here that will",
    "start": "592310",
    "end": "593990"
  },
  {
    "text": "update the backend database which is",
    "start": "593990",
    "end": "595790"
  },
  {
    "text": "firestore with the new information that",
    "start": "595790",
    "end": "597770"
  },
  {
    "text": "the user passed to the bot we can easily",
    "start": "597770",
    "end": "600140"
  },
  {
    "text": "handle that in a cloud function because",
    "start": "600140",
    "end": "601550"
  },
  {
    "text": "we already have access to the admin",
    "start": "601550",
    "end": "603200"
  },
  {
    "text": "database so we can simply perform a",
    "start": "603200",
    "end": "605240"
  },
  {
    "text": "write with the parameters that were",
    "start": "605240",
    "end": "606830"
  },
  {
    "text": "passed in on this request and once that",
    "start": "606830",
    "end": "608870"
  },
  {
    "text": "back-end work is done then we'll simply",
    "start": "608870",
    "end": "610520"
  },
  {
    "text": "add a message to the agent and that's",
    "start": "610520",
    "end": "612710"
  },
  {
    "text": "what the user will see as the response",
    "start": "612710",
    "end": "614390"
  },
  {
    "text": "from the bot now because this cloud",
    "start": "614390",
    "end": "616520"
  },
  {
    "text": "function is handling multiple intents we",
    "start": "616520",
    "end": "618800"
  },
  {
    "text": "need to map them into an object that can",
    "start": "618800",
    "end": "620930"
  },
  {
    "text": "be called based on the intent name the",
    "start": "620930",
    "end": "623360"
  },
  {
    "text": "default code uses a JavaScript map for",
    "start": "623360",
    "end": "625340"
  },
  {
    "text": "that so we'll continue to follow the",
    "start": "625340",
    "end": "626720"
  },
  {
    "text": "same pattern and simply add our",
    "start": "626720",
    "end": "628460"
  },
  {
    "text": "functions as properties on the map with",
    "start": "628460",
    "end": "630620"
  },
  {
    "text": "the corresponding intent name at this",
    "start": "630620",
    "end": "632540"
  },
  {
    "text": "point you can go ahead and deploy the",
    "start": "632540",
    "end": "633920"
  },
  {
    "text": "functions by running in firebase deploy",
    "start": "633920",
    "end": "635270"
  },
  {
    "text": "only functions and you should now have a",
    "start": "635270",
    "end": "637400"
  },
  {
    "text": "fully functional chat bot that can do",
    "start": "637400",
    "end": "639050"
  },
  {
    "text": "more than just respond to messages but",
    "start": "639050",
    "end": "640940"
  },
  {
    "text": "the one thing we're still missing is a",
    "start": "640940",
    "end": "642530"
  },
  {
    "text": "front-end UI for the user to actually",
    "start": "642530",
    "end": "644420"
  },
  {
    "text": "interact with a bot in a web application",
    "start": "644420",
    "end": "645920"
  },
  {
    "text": "setting for that we're going to use",
    "start": "645920",
    "end": "647690"
  },
  {
    "text": "angular and this awesome free theme",
    "start": "647690",
    "end": "649640"
  },
  {
    "text": "called nebula not only does nebula look",
    "start": "649640",
    "end": "651950"
  },
  {
    "text": "awesome but it also has a full chat UI",
    "start": "651950",
    "end": "654290"
  },
  {
    "text": "module that we can use to build our chat",
    "start": "654290",
    "end": "656420"
  },
  {
    "text": "bot very quickly we can install it",
    "start": "656420",
    "end": "658550"
  },
  {
    "start": "657000",
    "end": "862000"
  },
  {
    "text": "easily in an existing angular app by",
    "start": "658550",
    "end": "660350"
  },
  {
    "text": "simply running ng add nebula theme that",
    "start": "660350",
    "end": "663290"
  },
  {
    "text": "will install everything automatically in",
    "start": "663290",
    "end": "664790"
  },
  {
    "text": "your project and then if you go in the",
    "start": "664790",
    "end": "666260"
  },
  {
    "text": "app module you can see I'm in poor",
    "start": "666260",
    "end": "668120"
  },
  {
    "text": "in the NB chat UI a module as well as",
    "start": "668120",
    "end": "670760"
  },
  {
    "text": "the spinner module and the only other",
    "start": "670760",
    "end": "673100"
  },
  {
    "text": "angular feature that we need to add here",
    "start": "673100",
    "end": "674390"
  },
  {
    "text": "is the HTTP client module and you'll",
    "start": "674390",
    "end": "677210"
  },
  {
    "text": "find that under the angular common",
    "start": "677210",
    "end": "678650"
  },
  {
    "text": "namespace from there I'm generating a",
    "start": "678650",
    "end": "681110"
  },
  {
    "text": "component called chat bot that will just",
    "start": "681110",
    "end": "682640"
  },
  {
    "text": "encapsulate all of our logic and then",
    "start": "682640",
    "end": "684860"
  },
  {
    "text": "we'll go ahead and declare our chat bot",
    "start": "684860",
    "end": "686240"
  },
  {
    "text": "in the app component now I first want to",
    "start": "686240",
    "end": "688430"
  },
  {
    "text": "go through the code in the template",
    "start": "688430",
    "end": "689540"
  },
  {
    "text": "because nebula is going to take care of",
    "start": "689540",
    "end": "691490"
  },
  {
    "text": "all the heavy lifting here first we'll",
    "start": "691490",
    "end": "693560"
  },
  {
    "text": "declare the NB chat component which is",
    "start": "693560",
    "end": "695540"
  },
  {
    "text": "basically just a wrapper to hold the",
    "start": "695540",
    "end": "697190"
  },
  {
    "text": "messages and the form in order to",
    "start": "697190",
    "end": "699650"
  },
  {
    "text": "display a list of messages from both the",
    "start": "699650",
    "end": "701570"
  },
  {
    "text": "bot and the user will set up the NB chat",
    "start": "701570",
    "end": "704210"
  },
  {
    "text": "message component and then we'll loop",
    "start": "704210",
    "end": "705800"
  },
  {
    "text": "over it using ng for now each message",
    "start": "705800",
    "end": "708620"
  },
  {
    "text": "can be customized with a variety of",
    "start": "708620",
    "end": "710210"
  },
  {
    "text": "input parameters I recommend checking",
    "start": "710210",
    "end": "712160"
  },
  {
    "text": "out the nebula Docs for all the options",
    "start": "712160",
    "end": "713839"
  },
  {
    "text": "but will definitely want to pass any",
    "start": "713839",
    "end": "715820"
  },
  {
    "text": "message text and then we'll determine",
    "start": "715820",
    "end": "717230"
  },
  {
    "text": "whether or not it's a reply to the bot",
    "start": "717230",
    "end": "719000"
  },
  {
    "text": "and we can also pass in a date and a",
    "start": "719000",
    "end": "721220"
  },
  {
    "text": "user avatar image and then also in the",
    "start": "721220",
    "end": "723410"
  },
  {
    "text": "full source code you'll notice I've",
    "start": "723410",
    "end": "724670"
  },
  {
    "text": "added a second message that simply shows",
    "start": "724670",
    "end": "726529"
  },
  {
    "text": "a loading spinner when the bot is",
    "start": "726529",
    "end": "728420"
  },
  {
    "text": "responding and that can be accomplished",
    "start": "728420",
    "end": "730339"
  },
  {
    "text": "easily because nebula ships with a",
    "start": "730339",
    "end": "732020"
  },
  {
    "text": "spinner directive then the last thing",
    "start": "732020",
    "end": "734089"
  },
  {
    "text": "we'll add is the NB chat form which has",
    "start": "734089",
    "end": "736040"
  },
  {
    "text": "its own send event which will be fired",
    "start": "736040",
    "end": "737930"
  },
  {
    "text": "if the user clicks the send button or if",
    "start": "737930",
    "end": "739850"
  },
  {
    "text": "they hit the enter key now moving over",
    "start": "739850",
    "end": "741709"
  },
  {
    "text": "to the component type script the only",
    "start": "741709",
    "end": "743570"
  },
  {
    "text": "thing we really need is angular's HTTP",
    "start": "743570",
    "end": "745760"
  },
  {
    "text": "client and it's used to make requests to",
    "start": "745760",
    "end": "748040"
  },
  {
    "text": "the dialogue flow gateway function that",
    "start": "748040",
    "end": "749720"
  },
  {
    "text": "we defined earlier now moving into the",
    "start": "749720",
    "end": "751850"
  },
  {
    "text": "actual component class we'll set up an",
    "start": "751850",
    "end": "753770"
  },
  {
    "text": "empty array of messages the initial",
    "start": "753770",
    "end": "755750"
  },
  {
    "text": "loading state will be set to false and",
    "start": "755750",
    "end": "757310"
  },
  {
    "text": "then we'll set up a session ID by just",
    "start": "757310",
    "end": "759200"
  },
  {
    "text": "generating a random string you could use",
    "start": "759200",
    "end": "761330"
  },
  {
    "text": "a user ID here or something a little",
    "start": "761330",
    "end": "762980"
  },
  {
    "text": "more sophisticated but this will work",
    "start": "762980",
    "end": "764750"
  },
  {
    "text": "for now now when pushing messages to the",
    "start": "764750",
    "end": "766790"
  },
  {
    "text": "array we have a slightly different set",
    "start": "766790",
    "end": "768350"
  },
  {
    "text": "of data for the bot versus a user when",
    "start": "768350",
    "end": "770630"
  },
  {
    "text": "it's a user generated message the most",
    "start": "770630",
    "end": "772430"
  },
  {
    "text": "important thing is that we set the reply",
    "start": "772430",
    "end": "774230"
  },
  {
    "text": "property to true and nebula will handle",
    "start": "774230",
    "end": "777110"
  },
  {
    "text": "all the styling to display the message",
    "start": "777110",
    "end": "778700"
  },
  {
    "text": "on the right side and then we'll set a",
    "start": "778700",
    "end": "780560"
  },
  {
    "text": "similar method for a bot message with",
    "start": "780560",
    "end": "782510"
  },
  {
    "text": "the only difference being that the",
    "start": "782510",
    "end": "783800"
  },
  {
    "text": "avatar property is defined when the user",
    "start": "783800",
    "end": "786470"
  },
  {
    "text": "first lands on the app we'll go ahead",
    "start": "786470",
    "end": "787910"
  },
  {
    "text": "and add a bot message so they know that",
    "start": "787910",
    "end": "789680"
  },
  {
    "text": "the bot is present and ready to help out",
    "start": "789680",
    "end": "791870"
  },
  {
    "text": "but dialogue flow doesn't really need to",
    "start": "791870",
    "end": "794089"
  },
  {
    "text": "kick in until the user actually sends a",
    "start": "794089",
    "end": "795980"
  },
  {
    "text": "message so when they do send a message",
    "start": "795980",
    "end": "798020"
  },
  {
    "text": "we'll go ahead and add that message to",
    "start": "798020",
    "end": "799910"
  },
  {
    "text": "the chat and then we'll set the loading",
    "start": "799910",
    "end": "801530"
  },
  {
    "text": "state",
    "start": "801530",
    "end": "801950"
  },
  {
    "text": "- true then we can make an HTTP POST",
    "start": "801950",
    "end": "804560"
  },
  {
    "text": "request in angular by calling an HTTP",
    "start": "804560",
    "end": "806960"
  },
  {
    "text": "POST and then we'll set the generic type",
    "start": "806960",
    "end": "808700"
  },
  {
    "text": "to any and pass it our dialogue flow URL",
    "start": "808700",
    "end": "811190"
  },
  {
    "text": "then the second argument is an object",
    "start": "811190",
    "end": "813710"
  },
  {
    "text": "for the request body the cloud function",
    "start": "813710",
    "end": "816110"
  },
  {
    "text": "will be looking for a session ID and",
    "start": "816110",
    "end": "817730"
  },
  {
    "text": "then also a query input object and that",
    "start": "817730",
    "end": "820540"
  },
  {
    "text": "query input object will contain the text",
    "start": "820540",
    "end": "822950"
  },
  {
    "text": "that the user has typed into our chat",
    "start": "822950",
    "end": "824960"
  },
  {
    "text": "forum from there we can actually make",
    "start": "824960",
    "end": "826760"
  },
  {
    "text": "the request by calling SUBSCRIBE",
    "start": "826760",
    "end": "828200"
  },
  {
    "text": "response we get back will contain the",
    "start": "828200",
    "end": "830000"
  },
  {
    "text": "fulfillment text which is the next",
    "start": "830000",
    "end": "831500"
  },
  {
    "text": "message that the bot is saying to the",
    "start": "831500",
    "end": "833270"
  },
  {
    "text": "user and then we'll also set the loading",
    "start": "833270",
    "end": "835610"
  },
  {
    "text": "state to false and that's all there is",
    "start": "835610",
    "end": "837380"
  },
  {
    "text": "to it",
    "start": "837380",
    "end": "837920"
  },
  {
    "text": "when you combine angular with the",
    "start": "837920",
    "end": "839210"
  },
  {
    "text": "nebular theme building a chat UI is",
    "start": "839210",
    "end": "841160"
  },
  {
    "text": "extremely simple I think we've covered",
    "start": "841160",
    "end": "843230"
  },
  {
    "text": "just about enough code for one day so",
    "start": "843230",
    "end": "845030"
  },
  {
    "text": "I'm gonna go ahead and wrap things up",
    "start": "845030",
    "end": "846170"
  },
  {
    "text": "there if this video helped you please",
    "start": "846170",
    "end": "847790"
  },
  {
    "text": "like and subscribe and consider becoming",
    "start": "847790",
    "end": "849560"
  },
  {
    "text": "a pro member at fire ship IO to get",
    "start": "849560",
    "end": "851780"
  },
  {
    "text": "access to even more content thanks for",
    "start": "851780",
    "end": "854090"
  },
  {
    "text": "watching and I will talk to you soon",
    "start": "854090",
    "end": "856640"
  },
  {
    "text": "[Music]",
    "start": "856640",
    "end": "863220"
  }
]