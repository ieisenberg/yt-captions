[
  {
    "start": "0",
    "end": "46000"
  },
  {
    "text": "one of the most powerful ways to",
    "start": "6589",
    "end": "8550"
  },
  {
    "text": "increase productivity is to automate in",
    "start": "8550",
    "end": "10889"
  },
  {
    "text": "today's video you'll learn how to set up",
    "start": "10889",
    "end": "12210"
  },
  {
    "text": "a continuous integration and delivery",
    "start": "12210",
    "end": "13980"
  },
  {
    "text": "pipeline for a firebase app using google",
    "start": "13980",
    "end": "16410"
  },
  {
    "text": "cloud build by the end of this video",
    "start": "16410",
    "end": "18090"
  },
  {
    "text": "you'll be able to test build and deploy",
    "start": "18090",
    "end": "20070"
  },
  {
    "text": "your app to firebase by simply",
    "start": "20070",
    "end": "21570"
  },
  {
    "text": "committing your code to github if you're",
    "start": "21570",
    "end": "23460"
  },
  {
    "text": "new here like and subscribe and follow",
    "start": "23460",
    "end": "25050"
  },
  {
    "text": "along with the source code on fire ship",
    "start": "25050",
    "end": "26609"
  },
  {
    "text": "IO you'll find additional pro tips and",
    "start": "26609",
    "end": "28380"
  },
  {
    "text": "pointers in the full write-up so what is",
    "start": "28380",
    "end": "30539"
  },
  {
    "text": "CI CD or DevOps as it's commonly called",
    "start": "30539",
    "end": "32730"
  },
  {
    "text": "it really just boils down to automating",
    "start": "32730",
    "end": "35040"
  },
  {
    "text": "anything and everything that you can",
    "start": "35040",
    "end": "36360"
  },
  {
    "text": "between writing your code and deploying",
    "start": "36360",
    "end": "38250"
  },
  {
    "text": "it to production this results in a whole",
    "start": "38250",
    "end": "40200"
  },
  {
    "text": "wide range of benefits but most",
    "start": "40200",
    "end": "41760"
  },
  {
    "text": "importantly it keeps your development",
    "start": "41760",
    "end": "43350"
  },
  {
    "text": "code as close as possible to your",
    "start": "43350",
    "end": "45090"
  },
  {
    "text": "production code so how does that work",
    "start": "45090",
    "end": "47280"
  },
  {
    "text": "well it starts with a git repo whenever",
    "start": "47280",
    "end": "49649"
  },
  {
    "text": "you commit code to this repo it will",
    "start": "49649",
    "end": "51360"
  },
  {
    "text": "trigger a new build a build is just a",
    "start": "51360",
    "end": "53340"
  },
  {
    "text": "docker container running in the cloud",
    "start": "53340",
    "end": "54660"
  },
  {
    "text": "that does many of the same things that",
    "start": "54660",
    "end": "56190"
  },
  {
    "text": "you would do locally like install your",
    "start": "56190",
    "end": "57660"
  },
  {
    "text": "NPM dependencies test build and deploy",
    "start": "57660",
    "end": "60449"
  },
  {
    "text": "to firebase this is exactly what we do",
    "start": "60449",
    "end": "62370"
  },
  {
    "text": "for fire ship IO in addition to other",
    "start": "62370",
    "end": "64408"
  },
  {
    "text": "things like updating our search index on",
    "start": "64409",
    "end": "66150"
  },
  {
    "text": "algo Lea etc if the build fails at any",
    "start": "66150",
    "end": "69150"
  },
  {
    "text": "step it will not deploy the final code",
    "start": "69150",
    "end": "70950"
  },
  {
    "text": "and we'll know exactly where the problem",
    "start": "70950",
    "end": "72450"
  },
  {
    "text": "lies and cloud build will give us",
    "start": "72450",
    "end": "74340"
  },
  {
    "text": "detailed blogs that we can hopefully use",
    "start": "74340",
    "end": "75810"
  },
  {
    "text": "to find the root of the problem so",
    "start": "75810",
    "end": "78240"
  },
  {
    "text": "getting all this stuff set up is kind of",
    "start": "78240",
    "end": "79650"
  },
  {
    "text": "painful in the beginning but once you",
    "start": "79650",
    "end": "81060"
  },
  {
    "text": "have it set up you'll be very glad that",
    "start": "81060",
    "end": "82259"
  },
  {
    "text": "you did for a fighter ship IO it pushes",
    "start": "82259",
    "end": "84030"
  },
  {
    "text": "new code and content to the site almost",
    "start": "84030",
    "end": "85560"
  },
  {
    "text": "every day and even as an independent",
    "start": "85560",
    "end": "87270"
  },
  {
    "text": "developer that saves me a ton of time",
    "start": "87270",
    "end": "88740"
  },
  {
    "text": "but just imagine how much time that",
    "start": "88740",
    "end": "90180"
  },
  {
    "text": "would save a large team the adoption of",
    "start": "90180",
    "end": "92280"
  },
  {
    "text": "C ICD has been kind of a macro trend for",
    "start": "92280",
    "end": "94200"
  },
  {
    "text": "the last few years and there's a lot of",
    "start": "94200",
    "end": "96000"
  },
  {
    "text": "really good services out there like",
    "start": "96000",
    "end": "97259"
  },
  {
    "text": "Travis and circle so what are the",
    "start": "97259",
    "end": "99119"
  },
  {
    "text": "advantages of Google cloud build the",
    "start": "99119",
    "end": "101369"
  },
  {
    "text": "first obvious one is pricing it offers a",
    "start": "101369",
    "end": "103860"
  },
  {
    "text": "hundred and twenty minutes of free build",
    "start": "103860",
    "end": "105479"
  },
  {
    "text": "time per day which is probably way more",
    "start": "105479",
    "end": "107250"
  },
  {
    "text": "than you need but if you exceed it",
    "start": "107250",
    "end": "108600"
  },
  {
    "text": "becomes pay-as-you-go after that other",
    "start": "108600",
    "end": "110280"
  },
  {
    "text": "CI services generally have a free tier",
    "start": "110280",
    "end": "112140"
  },
  {
    "text": "but then it becomes a monthly fee after",
    "start": "112140",
    "end": "113939"
  },
  {
    "text": "that which is usually over 50 bucks a",
    "start": "113939",
    "end": "115680"
  },
  {
    "text": "month and because it's integrated with",
    "start": "115680",
    "end": "117329"
  },
  {
    "text": "GCP it's really easy to connect other",
    "start": "117329",
    "end": "119460"
  },
  {
    "text": "services for example we can just add I",
    "start": "119460",
    "end": "121469"
  },
  {
    "text": "am permissions to deploy to firebase",
    "start": "121469",
    "end": "123450"
  },
  {
    "text": "hosting in this video I'll show you how",
    "start": "123450",
    "end": "125399"
  },
  {
    "text": "to work with I am but I'll also show you",
    "start": "125399",
    "end": "127259"
  },
  {
    "text": "how to encrypt your environment if you",
    "start": "127259",
    "end": "128879"
  },
  {
    "text": "want to use tokens from external",
    "start": "128879",
    "end": "130289"
  },
  {
    "text": "services which is required by a large",
    "start": "130289",
    "end": "132450"
  },
  {
    "text": "number of apps",
    "start": "132450",
    "end": "133280"
  },
  {
    "text": "to get started you can use any front-end",
    "start": "133280",
    "end": "135170"
  },
  {
    "text": "that you want it can be angular or view",
    "start": "135170",
    "end": "136670"
  },
  {
    "text": "or react or whatever then you'll also",
    "start": "136670",
    "end": "138380"
  },
  {
    "text": "need a firebase project which",
    "start": "138380",
    "end": "139760"
  },
  {
    "text": "automatically comes with a Google Cloud",
    "start": "139760",
    "end": "141200"
  },
  {
    "text": "project and then you'll need to install",
    "start": "141200",
    "end": "143060"
  },
  {
    "text": "the g-cloud command line tools from",
    "start": "143060",
    "end": "145760"
  },
  {
    "text": "there you'll need some kind of front-end",
    "start": "145760",
    "end": "146930"
  },
  {
    "text": "app in this case I'm just generating a",
    "start": "146930",
    "end": "148580"
  },
  {
    "text": "VJ s app the only real requirement is",
    "start": "148580",
    "end": "151190"
  },
  {
    "text": "that it's a JavaScript app using NPM and",
    "start": "151190",
    "end": "154010"
  },
  {
    "text": "it should have scripts that we can",
    "start": "154010",
    "end": "154970"
  },
  {
    "text": "automate like a testing script and a",
    "start": "154970",
    "end": "156980"
  },
  {
    "text": "build script from there I'm going to",
    "start": "156980",
    "end": "158660"
  },
  {
    "text": "initialize firebase in this project in",
    "start": "158660",
    "end": "160489"
  },
  {
    "text": "this demo we'll only be using hosting",
    "start": "160489",
    "end": "162290"
  },
  {
    "text": "but you could also use this to deploy",
    "start": "162290",
    "end": "163790"
  },
  {
    "text": "your cloud functions as well so I've",
    "start": "163790",
    "end": "165739"
  },
  {
    "text": "just made some slight modifications to",
    "start": "165739",
    "end": "167360"
  },
  {
    "text": "the default view app and this is what we",
    "start": "167360",
    "end": "169010"
  },
  {
    "text": "want to deploy automatically the next",
    "start": "169010",
    "end": "171320"
  },
  {
    "text": "step is to set up a git repo we could",
    "start": "171320",
    "end": "173180"
  },
  {
    "text": "use cloud source repositories on GCP but",
    "start": "173180",
    "end": "175790"
  },
  {
    "text": "in this case we'll be using github",
    "start": "175790",
    "end": "176840"
  },
  {
    "text": "bitbucket is also an option go ahead and",
    "start": "176840",
    "end": "179720"
  },
  {
    "text": "create the repo and then push some",
    "start": "179720",
    "end": "181220"
  },
  {
    "text": "initial code to it then in the command",
    "start": "181220",
    "end": "182930"
  },
  {
    "text": "line we'll just run a git add git commit",
    "start": "182930",
    "end": "184850"
  },
  {
    "text": "and we'll connect our local code to the",
    "start": "184850",
    "end": "186709"
  },
  {
    "text": "remote repository you can see those",
    "start": "186709",
    "end": "188569"
  },
  {
    "text": "commands on the github repo itself so",
    "start": "188569",
    "end": "190459"
  },
  {
    "text": "just copy and paste those and then we",
    "start": "190459",
    "end": "192260"
  },
  {
    "text": "should be good to go now I'm going to",
    "start": "192260",
    "end": "194360"
  },
  {
    "start": "193000",
    "end": "235000"
  },
  {
    "text": "show you two different ways to configure",
    "start": "194360",
    "end": "195709"
  },
  {
    "text": "firebase with cloud build the first one",
    "start": "195709",
    "end": "197989"
  },
  {
    "text": "is very simple by just configuring I am",
    "start": "197989",
    "end": "199970"
  },
  {
    "text": "roles and the second one will actually",
    "start": "199970",
    "end": "201769"
  },
  {
    "text": "configure a fully encrypted environment",
    "start": "201769",
    "end": "203510"
  },
  {
    "text": "that you can use to also encrypt other",
    "start": "203510",
    "end": "205190"
  },
  {
    "text": "third party API is like say algo Lea",
    "start": "205190",
    "end": "207200"
  },
  {
    "text": "SendGrid",
    "start": "207200",
    "end": "207920"
  },
  {
    "text": "etc so let's start by enabling cloud",
    "start": "207920",
    "end": "210650"
  },
  {
    "text": "build on GCP after that go to the IM",
    "start": "210650",
    "end": "213200"
  },
  {
    "text": "page which stands for identity access",
    "start": "213200",
    "end": "214940"
  },
  {
    "text": "management you'll see the service",
    "start": "214940",
    "end": "217010"
  },
  {
    "text": "account for cloud build and by default",
    "start": "217010",
    "end": "218660"
  },
  {
    "text": "it doesn't have access to our firebase",
    "start": "218660",
    "end": "220370"
  },
  {
    "text": "project we can do that by editing the",
    "start": "220370",
    "end": "222920"
  },
  {
    "text": "permissions and adding a role for",
    "start": "222920",
    "end": "224570"
  },
  {
    "text": "firebase admin as well as the API keys",
    "start": "224570",
    "end": "226790"
  },
  {
    "text": "admin and optionally you can add the kms",
    "start": "226790",
    "end": "229370"
  },
  {
    "text": "crypto key decryptor but that one's only",
    "start": "229370",
    "end": "231380"
  },
  {
    "text": "needed if you use the encrypted",
    "start": "231380",
    "end": "232459"
  },
  {
    "text": "environment that I'll show you towards",
    "start": "232459",
    "end": "233840"
  },
  {
    "text": "the end of this video so now that we",
    "start": "233840",
    "end": "235880"
  },
  {
    "start": "235000",
    "end": "287000"
  },
  {
    "text": "have our permission set up we need to",
    "start": "235880",
    "end": "237230"
  },
  {
    "text": "tell cloud build the actual steps",
    "start": "237230",
    "end": "238609"
  },
  {
    "text": "involved in building testing and",
    "start": "238609",
    "end": "240320"
  },
  {
    "text": "deploying our app in order to do that in",
    "start": "240320",
    "end": "242540"
  },
  {
    "text": "the cloud we need to have some sort of",
    "start": "242540",
    "end": "243920"
  },
  {
    "text": "execution environment which we do with",
    "start": "243920",
    "end": "245690"
  },
  {
    "text": "docker containers these are called",
    "start": "245690",
    "end": "247220"
  },
  {
    "text": "builder images and they just give you",
    "start": "247220",
    "end": "248810"
  },
  {
    "text": "access to very common commands like the",
    "start": "248810",
    "end": "250880"
  },
  {
    "text": "NPM command or git go etc but you'll",
    "start": "250880",
    "end": "254180"
  },
  {
    "text": "notice that the firebase command is",
    "start": "254180",
    "end": "255560"
  },
  {
    "text": "missing from this list if the command",
    "start": "255560",
    "end": "257359"
  },
  {
    "text": "you need is missing from that list",
    "start": "257359",
    "end": "258289"
  },
  {
    "text": "you'll want to go to the community",
    "start": "258289",
    "end": "259910"
  },
  {
    "text": "maintain builders repo this is where we",
    "start": "259910",
    "end": "262220"
  },
  {
    "text": "can find that firebase builder and what",
    "start": "262220",
    "end": "264200"
  },
  {
    "text": "we want to do is clone this repo and",
    "start": "264200",
    "end": "265880"
  },
  {
    "text": "then deploy our own",
    "start": "265880",
    "end": "267260"
  },
  {
    "text": "image to our GCP project this is",
    "start": "267260",
    "end": "269750"
  },
  {
    "text": "actually really easy we just clone the",
    "start": "269750",
    "end": "271370"
  },
  {
    "text": "repo",
    "start": "271370",
    "end": "272000"
  },
  {
    "text": "then we CD into the firebase directory",
    "start": "272000",
    "end": "274010"
  },
  {
    "text": "and then we'll run g-cloud build submit",
    "start": "274010",
    "end": "276380"
  },
  {
    "text": "and this will save the image to the",
    "start": "276380",
    "end": "278720"
  },
  {
    "text": "container registry on our GCP project so",
    "start": "278720",
    "end": "281600"
  },
  {
    "text": "this allows us to run the firebase",
    "start": "281600",
    "end": "283070"
  },
  {
    "text": "deploy command and have the right",
    "start": "283070",
    "end": "284510"
  },
  {
    "text": "permissions context that we set up in IM",
    "start": "284510",
    "end": "286670"
  },
  {
    "text": "you can verify that that works by going",
    "start": "286670",
    "end": "288770"
  },
  {
    "start": "287000",
    "end": "342000"
  },
  {
    "text": "to the container registry on GCP and you",
    "start": "288770",
    "end": "291110"
  },
  {
    "text": "should see the image there from there",
    "start": "291110",
    "end": "292730"
  },
  {
    "text": "you can just go ahead and delete the",
    "start": "292730",
    "end": "293960"
  },
  {
    "text": "community builders repo from your local",
    "start": "293960",
    "end": "295370"
  },
  {
    "text": "system if you want to clean things up",
    "start": "295370",
    "end": "296840"
  },
  {
    "text": "now we're to the fun part where we",
    "start": "296840",
    "end": "298460"
  },
  {
    "text": "actually get to define our CI CD",
    "start": "298460",
    "end": "300500"
  },
  {
    "text": "pipeline create a cloud build Yamma file",
    "start": "300500",
    "end": "303260"
  },
  {
    "text": "in the root of the project it contains",
    "start": "303260",
    "end": "305570"
  },
  {
    "text": "an array of steps where each step is a",
    "start": "305570",
    "end": "307460"
  },
  {
    "text": "part of your build process you'll notice",
    "start": "307460",
    "end": "309380"
  },
  {
    "text": "the first property is a name which",
    "start": "309380",
    "end": "311150"
  },
  {
    "text": "points to the actual command that you",
    "start": "311150",
    "end": "312620"
  },
  {
    "text": "want to run and then orgs is an array of",
    "start": "312620",
    "end": "314630"
  },
  {
    "text": "whatever you want to add to that command",
    "start": "314630",
    "end": "316310"
  },
  {
    "text": "so in this case it's like running npm",
    "start": "316310",
    "end": "318110"
  },
  {
    "text": "install in this view app we have four",
    "start": "318110",
    "end": "320720"
  },
  {
    "text": "steps first we run npm install then we",
    "start": "320720",
    "end": "323180"
  },
  {
    "text": "run our unit tests then we run npm build",
    "start": "323180",
    "end": "325640"
  },
  {
    "text": "and you'll notice for all those steps we",
    "start": "325640",
    "end": "327890"
  },
  {
    "text": "use the built in npm cloud builder but",
    "start": "327890",
    "end": "330680"
  },
  {
    "text": "for our deploy step we're actually using",
    "start": "330680",
    "end": "332390"
  },
  {
    "text": "our firebase container so we pass in an",
    "start": "332390",
    "end": "334430"
  },
  {
    "text": "environment variable for the project ID",
    "start": "334430",
    "end": "336200"
  },
  {
    "text": "slash firebase and keep in mind there's",
    "start": "336200",
    "end": "339080"
  },
  {
    "text": "a whole bunch different options you can",
    "start": "339080",
    "end": "340160"
  },
  {
    "text": "pass these steps to customize the way",
    "start": "340160",
    "end": "341960"
  },
  {
    "text": "they behave so that defines our build",
    "start": "341960",
    "end": "344450"
  },
  {
    "text": "the next step is to tell GCP to listen",
    "start": "344450",
    "end": "347240"
  },
  {
    "text": "to our github repository so go to the",
    "start": "347240",
    "end": "349730"
  },
  {
    "text": "create trigger tab and then click github",
    "start": "349730",
    "end": "351830"
  },
  {
    "text": "and then choose your repo from the list",
    "start": "351830",
    "end": "353840"
  },
  {
    "text": "and also keep in mind that GCP has a",
    "start": "353840",
    "end": "356450"
  },
  {
    "text": "plugin that you can install directly in",
    "start": "356450",
    "end": "358190"
  },
  {
    "text": "github to do this stuff automatically",
    "start": "358190",
    "end": "359900"
  },
  {
    "text": "but it's fairly limited at this point so",
    "start": "359900",
    "end": "362090"
  },
  {
    "text": "i want to show you that full process you",
    "start": "362090",
    "end": "364490"
  },
  {
    "text": "can trigger your build on different",
    "start": "364490",
    "end": "365780"
  },
  {
    "text": "branches or tags and for now we're just",
    "start": "365780",
    "end": "368300"
  },
  {
    "text": "going to keep it simple and trigger it",
    "start": "368300",
    "end": "369770"
  },
  {
    "text": "on everything that's good for testing",
    "start": "369770",
    "end": "371870"
  },
  {
    "text": "your code but you probably don't want to",
    "start": "371870",
    "end": "373130"
  },
  {
    "text": "deploy on anything but the master branch",
    "start": "373130",
    "end": "375290"
  },
  {
    "text": "so check out the full article I have",
    "start": "375290",
    "end": "377300"
  },
  {
    "text": "some code that shows you how to do that",
    "start": "377300",
    "end": "378560"
  },
  {
    "text": "and also make sure to tell it to use the",
    "start": "378560",
    "end": "380390"
  },
  {
    "text": "cloud build yamo file and not a docker",
    "start": "380390",
    "end": "382280"
  },
  {
    "text": "file now it's time for the moment of",
    "start": "382280",
    "end": "384380"
  },
  {
    "text": "truth create another git commit and then",
    "start": "384380",
    "end": "386120"
  },
  {
    "text": "run git push origin master to push it to",
    "start": "386120",
    "end": "388280"
  },
  {
    "text": "github and then you should see the build",
    "start": "388280",
    "end": "390320"
  },
  {
    "text": "run automatically in the cloud build",
    "start": "390320",
    "end": "392030"
  },
  {
    "text": "page for an app like this it should only",
    "start": "392030",
    "end": "393950"
  },
  {
    "text": "take a minute or two and it will log out",
    "start": "393950",
    "end": "395870"
  },
  {
    "text": "everything that's going on directly in",
    "start": "395870",
    "end": "397580"
  },
  {
    "text": "the console it's pretty common to get",
    "start": "397580",
    "end": "399680"
  },
  {
    "text": "errors at this point so if you",
    "start": "399680",
    "end": "401190"
  },
  {
    "text": "you make sure to check the logs and it",
    "start": "401190",
    "end": "402690"
  },
  {
    "text": "should tell you exactly what went wrong",
    "start": "402690",
    "end": "404010"
  },
  {
    "text": "but hopefully you see all green and when",
    "start": "404010",
    "end": "406080"
  },
  {
    "text": "you go to the actual URL you see your",
    "start": "406080",
    "end": "407850"
  },
  {
    "text": "final deployed production code and keep",
    "start": "407850",
    "end": "410610"
  },
  {
    "text": "in mind if you do run into problems you",
    "start": "410610",
    "end": "412170"
  },
  {
    "text": "can always submit builds directly from",
    "start": "412170",
    "end": "413760"
  },
  {
    "text": "the command line or directly from the",
    "start": "413760",
    "end": "415530"
  },
  {
    "text": "console so you don't have to always",
    "start": "415530",
    "end": "416880"
  },
  {
    "text": "commit your code to get just to trigger",
    "start": "416880",
    "end": "418650"
  },
  {
    "text": "a build now the next thing I want to",
    "start": "418650",
    "end": "420840"
  },
  {
    "start": "419000",
    "end": "474000"
  },
  {
    "text": "show you is a little more advanced and",
    "start": "420840",
    "end": "422130"
  },
  {
    "text": "that's how to create an encrypted",
    "start": "422130",
    "end": "423510"
  },
  {
    "text": "environment for your build in this",
    "start": "423510",
    "end": "425760"
  },
  {
    "text": "example we're not going to rely on the I",
    "start": "425760",
    "end": "427620"
  },
  {
    "text": "M permissions but instead use the",
    "start": "427620",
    "end": "429240"
  },
  {
    "text": "firebase CI token this approach has the",
    "start": "429240",
    "end": "431970"
  },
  {
    "text": "advantage of being able to scale to",
    "start": "431970",
    "end": "433560"
  },
  {
    "text": "other secrets or API keys in your",
    "start": "433560",
    "end": "435720"
  },
  {
    "text": "environment and it also means we don't",
    "start": "435720",
    "end": "437610"
  },
  {
    "text": "need to use that firebase builder image",
    "start": "437610",
    "end": "439320"
  },
  {
    "text": "so you can skip that step if you want to",
    "start": "439320",
    "end": "441030"
  },
  {
    "text": "go this route install firebase tools in",
    "start": "441030",
    "end": "443490"
  },
  {
    "text": "your development environment then run",
    "start": "443490",
    "end": "444990"
  },
  {
    "text": "firebase log and CI that will give you a",
    "start": "444990",
    "end": "448050"
  },
  {
    "text": "token that you can use to authenticate",
    "start": "448050",
    "end": "449670"
  },
  {
    "text": "the cloud build server for your project",
    "start": "449670",
    "end": "451500"
  },
  {
    "text": "from there create a env file this is",
    "start": "451500",
    "end": "454860"
  },
  {
    "text": "where we'll save all of our environment",
    "start": "454860",
    "end": "456210"
  },
  {
    "text": "variables and keep in mind you'll have",
    "start": "456210",
    "end": "458100"
  },
  {
    "text": "sensitive secrets in here so you don't",
    "start": "458100",
    "end": "459720"
  },
  {
    "text": "want to expose this in a public get repo",
    "start": "459720",
    "end": "461730"
  },
  {
    "text": "or any other public format now that we",
    "start": "461730",
    "end": "464100"
  },
  {
    "text": "have our token we'll go ahead and define",
    "start": "464100",
    "end": "465480"
  },
  {
    "text": "a new deploy script in that package JSON",
    "start": "465480",
    "end": "467610"
  },
  {
    "text": "file it just runs firebase deploy and",
    "start": "467610",
    "end": "470370"
  },
  {
    "text": "then we'll pass in the token option and",
    "start": "470370",
    "end": "472260"
  },
  {
    "text": "point it to that environment variable at",
    "start": "472260",
    "end": "474720"
  },
  {
    "start": "474000",
    "end": "549000"
  },
  {
    "text": "this point we need a secure way to get",
    "start": "474720",
    "end": "476310"
  },
  {
    "text": "our local secrets to our CI server will",
    "start": "476310",
    "end": "479160"
  },
  {
    "text": "do this by encoding them with a",
    "start": "479160",
    "end": "480450"
  },
  {
    "text": "cryptographic key this means we'll be",
    "start": "480450",
    "end": "482730"
  },
  {
    "text": "able to put our encrypted secrets in a",
    "start": "482730",
    "end": "484590"
  },
  {
    "text": "public get repo but only services that",
    "start": "484590",
    "end": "486810"
  },
  {
    "text": "have the proper permission will be able",
    "start": "486810",
    "end": "488310"
  },
  {
    "text": "to decode them the first thing I want to",
    "start": "488310",
    "end": "490230"
  },
  {
    "text": "do is create a keyring we'll call it my",
    "start": "490230",
    "end": "492450"
  },
  {
    "text": "project and it's able to hold multiple",
    "start": "492450",
    "end": "494310"
  },
  {
    "text": "keys or multiple encrypted files in a",
    "start": "494310",
    "end": "496710"
  },
  {
    "text": "single context in our case we want to",
    "start": "496710",
    "end": "499440"
  },
  {
    "text": "encrypt the entire environment file so",
    "start": "499440",
    "end": "501870"
  },
  {
    "text": "we'll give that key a name of cloud",
    "start": "501870",
    "end": "503550"
  },
  {
    "text": "build env then we can just keep the",
    "start": "503550",
    "end": "505680"
  },
  {
    "text": "default options for everything else from",
    "start": "505680",
    "end": "507690"
  },
  {
    "text": "there we'll go back to our project and",
    "start": "507690",
    "end": "509250"
  },
  {
    "text": "we'll run g-cloud KMS encrypt we're",
    "start": "509250",
    "end": "512219"
  },
  {
    "text": "telling it to encrypt our local",
    "start": "512219",
    "end": "513630"
  },
  {
    "text": "environment file as a new file called",
    "start": "513630",
    "end": "515460"
  },
  {
    "text": "env ENC this file is encrypted so it's",
    "start": "515460",
    "end": "518610"
  },
  {
    "text": "perfectly fine to put in your git repo",
    "start": "518610",
    "end": "520349"
  },
  {
    "text": "now we need to update our cloud build",
    "start": "520349",
    "end": "522719"
  },
  {
    "text": "file the first thing we want to do is",
    "start": "522719",
    "end": "524760"
  },
  {
    "text": "decrypt our environment secrets because",
    "start": "524760",
    "end": "526980"
  },
  {
    "text": "cloud build has access to the crypto key",
    "start": "526980",
    "end": "529200"
  },
  {
    "text": "decryptor I am role it can use that env",
    "start": "529200",
    "end": "532200"
  },
  {
    "text": "file just like we would locally",
    "start": "532200",
    "end": "533780"
  },
  {
    "text": "so it has access to all of the same",
    "start": "533780",
    "end": "535220"
  },
  {
    "text": "environment variables that we do",
    "start": "535220",
    "end": "536510"
  },
  {
    "text": "currently that's just the firebase token",
    "start": "536510",
    "end": "538550"
  },
  {
    "text": "but in a larger project you'll probably",
    "start": "538550",
    "end": "540020"
  },
  {
    "text": "have multiple third-party API is that",
    "start": "540020",
    "end": "541730"
  },
  {
    "text": "you need to manage the other change we",
    "start": "541730",
    "end": "543890"
  },
  {
    "text": "want to make is take out the firebase",
    "start": "543890",
    "end": "545600"
  },
  {
    "text": "deploy command in favor of the NPM run",
    "start": "545600",
    "end": "547940"
  },
  {
    "text": "deploy command go ahead and commit these",
    "start": "547940",
    "end": "550310"
  },
  {
    "start": "549000",
    "end": "577000"
  },
  {
    "text": "changes to github and you should see a",
    "start": "550310",
    "end": "551870"
  },
  {
    "text": "new build populate and if you go into",
    "start": "551870",
    "end": "553850"
  },
  {
    "text": "firebase hosting you should now see",
    "start": "553850",
    "end": "555470"
  },
  {
    "text": "cloud build as the service account",
    "start": "555470",
    "end": "557120"
  },
  {
    "text": "running the deployments so hopefully",
    "start": "557120",
    "end": "558920"
  },
  {
    "text": "this showed you that automation is",
    "start": "558920",
    "end": "560240"
  },
  {
    "text": "pretty awesome and make sure to grab the",
    "start": "560240",
    "end": "561920"
  },
  {
    "text": "full article from fire ship IO to just",
    "start": "561920",
    "end": "563930"
  },
  {
    "text": "copy and paste all these commands leave",
    "start": "563930",
    "end": "565610"
  },
  {
    "text": "me a comment if you have any questions",
    "start": "565610",
    "end": "566990"
  },
  {
    "text": "or feedback thanks for watching and I",
    "start": "566990",
    "end": "568970"
  },
  {
    "text": "will talk to you soon",
    "start": "568970",
    "end": "571779"
  }
]