[
  {
    "text": "what is an efficient yet robust way to",
    "start": "719",
    "end": "3120"
  },
  {
    "text": "architect an api solution in the cloud",
    "start": "3120",
    "end": "6319"
  },
  {
    "text": "my name is whitney lee i'm on the cloud",
    "start": "6319",
    "end": "8639"
  },
  {
    "text": "team here at ibm",
    "start": "8639",
    "end": "11360"
  },
  {
    "text": "let's talk about the foundation of our",
    "start": "11360",
    "end": "14160"
  },
  {
    "text": "system",
    "start": "14160",
    "end": "15200"
  },
  {
    "text": "for me that's source control source",
    "start": "15200",
    "end": "17920"
  },
  {
    "text": "control",
    "start": "17920",
    "end": "18560"
  },
  {
    "text": "is also can be called an artifact",
    "start": "18560",
    "end": "20800"
  },
  {
    "text": "repository",
    "start": "20800",
    "end": "21760"
  },
  {
    "text": "and the most popular version is git",
    "start": "21760",
    "end": "25599"
  },
  {
    "text": "so what do we want to store in our",
    "start": "25599",
    "end": "27760"
  },
  {
    "text": "repository",
    "start": "27760",
    "end": "29119"
  },
  {
    "text": "we want to store all the artifacts",
    "start": "29119",
    "end": "30800"
  },
  {
    "text": "related to our",
    "start": "30800",
    "end": "32320"
  },
  {
    "text": "what will eventually be our final system",
    "start": "32320",
    "end": "35120"
  },
  {
    "text": "so",
    "start": "35120",
    "end": "35760"
  },
  {
    "text": "a good example would be server",
    "start": "35760",
    "end": "37600"
  },
  {
    "text": "configuration files",
    "start": "37600",
    "end": "40559"
  },
  {
    "text": "so for example we'd want to store",
    "start": "40559",
    "end": "43760"
  },
  {
    "text": "a file for our development environment",
    "start": "43760",
    "end": "48320"
  },
  {
    "text": "one for our test environment this is our",
    "start": "48559",
    "end": "52079"
  },
  {
    "text": "server configuration file",
    "start": "52079",
    "end": "55520"
  },
  {
    "text": "and one for our production environment",
    "start": "55520",
    "end": "59840"
  },
  {
    "text": "that's a great start what else do we",
    "start": "64080",
    "end": "66000"
  },
  {
    "text": "want to store in our artifact repository",
    "start": "66000",
    "end": "69200"
  },
  {
    "text": "well if we're building an api solution",
    "start": "69200",
    "end": "72000"
  },
  {
    "text": "we're going to want to store all of the",
    "start": "72000",
    "end": "73280"
  },
  {
    "text": "artifacts related to our apis",
    "start": "73280",
    "end": "75600"
  },
  {
    "text": "so our api definition files",
    "start": "75600",
    "end": "79520"
  },
  {
    "text": "so we have a definition file for api",
    "start": "80159",
    "end": "84840"
  },
  {
    "text": "1. for api 2",
    "start": "84840",
    "end": "89118"
  },
  {
    "text": "and for api 76",
    "start": "90400",
    "end": "94720"
  },
  {
    "text": "just kidding api 3.",
    "start": "94720",
    "end": "98079"
  },
  {
    "text": "okay so i also know",
    "start": "99040",
    "end": "102880"
  },
  {
    "text": "in my final system i want to have",
    "start": "102880",
    "end": "105200"
  },
  {
    "text": "pipeline builds",
    "start": "105200",
    "end": "106320"
  },
  {
    "text": "so now's a good time to define the tasks",
    "start": "106320",
    "end": "108960"
  },
  {
    "text": "in the",
    "start": "108960",
    "end": "109439"
  },
  {
    "text": "in the pipeline file for that",
    "start": "109439",
    "end": "112840"
  },
  {
    "text": "so we'll build task 1",
    "start": "112840",
    "end": "118640"
  },
  {
    "text": "task 2",
    "start": "121280",
    "end": "123920"
  },
  {
    "text": "and then we're also going to want our",
    "start": "125439",
    "end": "127840"
  },
  {
    "text": "pipeline",
    "start": "127840",
    "end": "128640"
  },
  {
    "text": "run file to be defined here in our",
    "start": "128640",
    "end": "131200"
  },
  {
    "text": "source control",
    "start": "131200",
    "end": "133920"
  },
  {
    "text": "so source control is great it's also",
    "start": "137520",
    "end": "140239"
  },
  {
    "text": "called",
    "start": "140239",
    "end": "140879"
  },
  {
    "text": "infrastructure as code because we're",
    "start": "140879",
    "end": "142720"
  },
  {
    "text": "defining the infrastructure of our",
    "start": "142720",
    "end": "144640"
  },
  {
    "text": "system",
    "start": "144640",
    "end": "145280"
  },
  {
    "text": "before that system is even built this",
    "start": "145280",
    "end": "147760"
  },
  {
    "text": "provides",
    "start": "147760",
    "end": "148400"
  },
  {
    "text": "visibility into what's happening and",
    "start": "148400",
    "end": "150720"
  },
  {
    "text": "great collaboration",
    "start": "150720",
    "end": "151920"
  },
  {
    "text": "in the team in addition if any of the",
    "start": "151920",
    "end": "154879"
  },
  {
    "text": "pieces of the system",
    "start": "154879",
    "end": "156319"
  },
  {
    "text": "fail they can be rebuilt very easily",
    "start": "156319",
    "end": "158959"
  },
  {
    "text": "from our definition files",
    "start": "158959",
    "end": "162319"
  },
  {
    "text": "so let's build out our cluster a",
    "start": "162400",
    "end": "165040"
  },
  {
    "text": "kubernetes cluster just like any",
    "start": "165040",
    "end": "167120"
  },
  {
    "text": "ours is going to have",
    "start": "167120",
    "end": "170720"
  },
  {
    "text": "we'll have physical resources so we'll",
    "start": "170720",
    "end": "173440"
  },
  {
    "text": "have memory",
    "start": "173440",
    "end": "174560"
  },
  {
    "text": "and cpu for our nodes",
    "start": "174560",
    "end": "178400"
  },
  {
    "text": "and then we'll need physical disk space",
    "start": "178400",
    "end": "180640"
  },
  {
    "text": "for storage",
    "start": "180640",
    "end": "182840"
  },
  {
    "text": "too",
    "start": "182840",
    "end": "185840"
  },
  {
    "text": "so that's the physical resources behind",
    "start": "186879",
    "end": "188800"
  },
  {
    "text": "our cluster",
    "start": "188800",
    "end": "191360"
  },
  {
    "text": "and then let's think about where we want",
    "start": "192400",
    "end": "195760"
  },
  {
    "text": "to start let's start with our",
    "start": "195760",
    "end": "197040"
  },
  {
    "text": "development environment",
    "start": "197040",
    "end": "199280"
  },
  {
    "text": "so we'll build the development",
    "start": "199280",
    "end": "201200"
  },
  {
    "text": "environment in our cluster",
    "start": "201200",
    "end": "203840"
  },
  {
    "text": "and that's going to be built according",
    "start": "203840",
    "end": "206720"
  },
  {
    "text": "to the definition the specifications",
    "start": "206720",
    "end": "208720"
  },
  {
    "text": "we've already defined in our repository",
    "start": "208720",
    "end": "212720"
  },
  {
    "text": "so let's say we have a developer",
    "start": "212720",
    "end": "215920"
  },
  {
    "text": "and our developer is working on a new",
    "start": "215920",
    "end": "218239"
  },
  {
    "text": "api",
    "start": "218239",
    "end": "219920"
  },
  {
    "text": "and that new api very cleverly is going",
    "start": "219920",
    "end": "223120"
  },
  {
    "text": "to be called api 4.",
    "start": "223120",
    "end": "225360"
  },
  {
    "text": "and the developer is using our dev",
    "start": "225360",
    "end": "226879"
  },
  {
    "text": "environment to work that out",
    "start": "226879",
    "end": "230239"
  },
  {
    "text": "so let's say a developer feels like api",
    "start": "230239",
    "end": "232959"
  },
  {
    "text": "4",
    "start": "232959",
    "end": "233360"
  },
  {
    "text": "is ready to go what we want is a",
    "start": "233360",
    "end": "236560"
  },
  {
    "text": "pipeline build",
    "start": "236560",
    "end": "237519"
  },
  {
    "text": "that's going to take that that api 4",
    "start": "237519",
    "end": "241120"
  },
  {
    "text": "and promote it all the way up to",
    "start": "241120",
    "end": "243040"
  },
  {
    "text": "production",
    "start": "243040",
    "end": "244799"
  },
  {
    "text": "so that pipeline bill is going to need",
    "start": "244799",
    "end": "246799"
  },
  {
    "text": "to get triggered",
    "start": "246799",
    "end": "248159"
  },
  {
    "text": "and so we'll in this case we'll trigger",
    "start": "248159",
    "end": "250480"
  },
  {
    "text": "it by having our developer",
    "start": "250480",
    "end": "252400"
  },
  {
    "text": "when the api is ready to push that",
    "start": "252400",
    "end": "254879"
  },
  {
    "text": "definition file",
    "start": "254879",
    "end": "256400"
  },
  {
    "text": "into our source control",
    "start": "256400",
    "end": "260000"
  },
  {
    "text": "so that's going to trigger a web hook",
    "start": "260880",
    "end": "263600"
  },
  {
    "text": "which is going to trigger",
    "start": "263600",
    "end": "264639"
  },
  {
    "text": "our pipeline build so let's say",
    "start": "264639",
    "end": "268080"
  },
  {
    "text": "task one of our pipeline build maybe",
    "start": "268080",
    "end": "270960"
  },
  {
    "text": "that task",
    "start": "270960",
    "end": "271759"
  },
  {
    "text": "job is to check our kubernetes",
    "start": "271759",
    "end": "274000"
  },
  {
    "text": "environment",
    "start": "274000",
    "end": "275040"
  },
  {
    "text": "look for an environment called",
    "start": "275040",
    "end": "278240"
  },
  {
    "text": "called test and if there's not one there",
    "start": "278240",
    "end": "280880"
  },
  {
    "text": "to build one according to the specs",
    "start": "280880",
    "end": "283199"
  },
  {
    "text": "defined in our",
    "start": "283199",
    "end": "284400"
  },
  {
    "text": "test server configuration file so",
    "start": "284400",
    "end": "287680"
  },
  {
    "text": "our task is gonna our task one is gonna",
    "start": "287680",
    "end": "290560"
  },
  {
    "text": "trigger",
    "start": "290560",
    "end": "291040"
  },
  {
    "text": "a build of a test environment",
    "start": "291040",
    "end": "296000"
  },
  {
    "text": "then let's say task two what it does is",
    "start": "296000",
    "end": "298960"
  },
  {
    "text": "whatever api triggered the web hook",
    "start": "298960",
    "end": "301840"
  },
  {
    "text": "that triggered the pipeline build it's",
    "start": "301840",
    "end": "304080"
  },
  {
    "text": "gonna put that api into the test",
    "start": "304080",
    "end": "306080"
  },
  {
    "text": "environment and run a suite of tests",
    "start": "306080",
    "end": "308560"
  },
  {
    "text": "on that api so in that way this one",
    "start": "308560",
    "end": "312080"
  },
  {
    "text": "pipeline build that",
    "start": "312080",
    "end": "313120"
  },
  {
    "text": "was defined here has promoted our api",
    "start": "313120",
    "end": "317360"
  },
  {
    "text": "from dev environment to the test",
    "start": "317360",
    "end": "319840"
  },
  {
    "text": "environment",
    "start": "319840",
    "end": "322400"
  },
  {
    "text": "great now our api is ready to go to",
    "start": "323120",
    "end": "325360"
  },
  {
    "text": "production",
    "start": "325360",
    "end": "326880"
  },
  {
    "text": "or not we can do more to make sure",
    "start": "326880",
    "end": "330240"
  },
  {
    "text": "it is ready before it goes all the way",
    "start": "330240",
    "end": "332479"
  },
  {
    "text": "to our production site",
    "start": "332479",
    "end": "334320"
  },
  {
    "text": "so what let's say we have our production",
    "start": "334320",
    "end": "337360"
  },
  {
    "text": "environments built in our cluster",
    "start": "337360",
    "end": "341038"
  },
  {
    "text": "and that production environment already",
    "start": "341520",
    "end": "343360"
  },
  {
    "text": "has our apis one two and three in it",
    "start": "343360",
    "end": "347918"
  },
  {
    "text": "what we can do is also build a canary",
    "start": "348880",
    "end": "352320"
  },
  {
    "text": "environment",
    "start": "352320",
    "end": "354800"
  },
  {
    "text": "so we'll define our canary environment",
    "start": "354800",
    "end": "356720"
  },
  {
    "text": "in our repo",
    "start": "356720",
    "end": "359360"
  },
  {
    "text": "and we want our canary environment to be",
    "start": "359520",
    "end": "362000"
  },
  {
    "text": "an exact",
    "start": "362000",
    "end": "362720"
  },
  {
    "text": "replica of our production environment",
    "start": "362720",
    "end": "367840"
  },
  {
    "text": "so our canary environment also then has",
    "start": "370639",
    "end": "373120"
  },
  {
    "text": "a apis one two and three",
    "start": "373120",
    "end": "374880"
  },
  {
    "text": "already running so what we can do here",
    "start": "374880",
    "end": "378960"
  },
  {
    "text": "let's consider our end user",
    "start": "378960",
    "end": "382560"
  },
  {
    "text": "our end user wants to make a call",
    "start": "382720",
    "end": "385759"
  },
  {
    "text": "into our cluster that call is going to",
    "start": "385759",
    "end": "388560"
  },
  {
    "text": "go through",
    "start": "388560",
    "end": "389280"
  },
  {
    "text": "a gateway to get into the cluster",
    "start": "389280",
    "end": "395199"
  },
  {
    "text": "and then that gateway is going to send",
    "start": "395199",
    "end": "397360"
  },
  {
    "text": "the traffic",
    "start": "397360",
    "end": "398479"
  },
  {
    "text": "to a load balancer",
    "start": "398479",
    "end": "402080"
  },
  {
    "text": "the load balancer is going to",
    "start": "402639",
    "end": "406720"
  },
  {
    "text": "divide where the traffic goes between",
    "start": "406720",
    "end": "408560"
  },
  {
    "text": "prod and canary",
    "start": "408560",
    "end": "410000"
  },
  {
    "text": "so for a canary environment it might",
    "start": "410000",
    "end": "412960"
  },
  {
    "text": "route",
    "start": "412960",
    "end": "413360"
  },
  {
    "text": "say one percent of traffic to the canary",
    "start": "413360",
    "end": "415680"
  },
  {
    "text": "environment",
    "start": "415680",
    "end": "417039"
  },
  {
    "text": "it could be any number you choose but",
    "start": "417039",
    "end": "418479"
  },
  {
    "text": "it's going to be a small percentage and",
    "start": "418479",
    "end": "420160"
  },
  {
    "text": "then the rest of the traffic will go",
    "start": "420160",
    "end": "421759"
  },
  {
    "text": "into production",
    "start": "421759",
    "end": "424560"
  },
  {
    "text": "so in this way the api 4",
    "start": "424560",
    "end": "427919"
  },
  {
    "text": "once it's in the canary environment it",
    "start": "427919",
    "end": "430479"
  },
  {
    "text": "experiences some real-world",
    "start": "430479",
    "end": "432800"
  },
  {
    "text": "web traffic to make sure it is ready",
    "start": "432800",
    "end": "435520"
  },
  {
    "text": "before it's promoted",
    "start": "435520",
    "end": "436960"
  },
  {
    "text": "all the way into production",
    "start": "436960",
    "end": "440160"
  },
  {
    "text": "something else that i think would be",
    "start": "441680",
    "end": "443039"
  },
  {
    "text": "important to build into our api solution",
    "start": "443039",
    "end": "445440"
  },
  {
    "text": "would be logging and metrics collecting",
    "start": "445440",
    "end": "451039"
  },
  {
    "text": "so we can collect logging and metrics",
    "start": "451039",
    "end": "453440"
  },
  {
    "text": "from all of the environments that we've",
    "start": "453440",
    "end": "455199"
  },
  {
    "text": "built",
    "start": "455199",
    "end": "456479"
  },
  {
    "text": "we can and we will and we should",
    "start": "456479",
    "end": "459680"
  },
  {
    "text": "and with those logging in metrics we can",
    "start": "459680",
    "end": "464800"
  },
  {
    "text": "go one step further and use tools like",
    "start": "464800",
    "end": "467680"
  },
  {
    "text": "prometheus",
    "start": "467680",
    "end": "469120"
  },
  {
    "text": "or grafana",
    "start": "469120",
    "end": "472000"
  },
  {
    "text": "to put those metrics in a ui in a human",
    "start": "472960",
    "end": "476319"
  },
  {
    "text": "readable form",
    "start": "476319",
    "end": "477520"
  },
  {
    "text": "with graphs and manipulated",
    "start": "477520",
    "end": "480800"
  },
  {
    "text": "in a way that best serves the company's",
    "start": "480800",
    "end": "482879"
  },
  {
    "text": "interests",
    "start": "482879",
    "end": "485120"
  },
  {
    "text": "so the players that are interested in",
    "start": "485120",
    "end": "486560"
  },
  {
    "text": "the system would be",
    "start": "486560",
    "end": "488400"
  },
  {
    "text": "a business analyst for example that",
    "start": "488400",
    "end": "490840"
  },
  {
    "text": "person",
    "start": "490840",
    "end": "492000"
  },
  {
    "text": "would definitely want especially be",
    "start": "492000",
    "end": "494080"
  },
  {
    "text": "interested in the graphics and the",
    "start": "494080",
    "end": "495919"
  },
  {
    "text": "insights",
    "start": "495919",
    "end": "496639"
  },
  {
    "text": "that the logging in the metrics provide",
    "start": "496639",
    "end": "499280"
  },
  {
    "text": "an operations manager",
    "start": "499280",
    "end": "502000"
  },
  {
    "text": "that person would be interested in our",
    "start": "502000",
    "end": "505120"
  },
  {
    "text": "and metrics but also interested in the",
    "start": "505120",
    "end": "507280"
  },
  {
    "text": "infrastructure as code and what's going",
    "start": "507280",
    "end": "509039"
  },
  {
    "text": "on",
    "start": "509039",
    "end": "509599"
  },
  {
    "text": "technically and then we might have an",
    "start": "509599",
    "end": "512000"
  },
  {
    "text": "architect too",
    "start": "512000",
    "end": "514159"
  },
  {
    "text": "who's keeping an eye on the source",
    "start": "514159",
    "end": "516080"
  },
  {
    "text": "control and on the system as a whole",
    "start": "516080",
    "end": "520640"
  },
  {
    "text": "so what's worth mentioning here is this",
    "start": "520640",
    "end": "523200"
  },
  {
    "text": "is all built on a kubernetes cluster",
    "start": "523200",
    "end": "527440"
  },
  {
    "text": "but the tools like the pipeline build",
    "start": "528800",
    "end": "532320"
  },
  {
    "text": "the load balancer the logging and",
    "start": "532320",
    "end": "534320"
  },
  {
    "text": "metrics collecting",
    "start": "534320",
    "end": "535440"
  },
  {
    "text": "and displayed those are all going to be",
    "start": "535440",
    "end": "538480"
  },
  {
    "text": "third-party tools that are installed and",
    "start": "538480",
    "end": "541279"
  },
  {
    "text": "maintained",
    "start": "541279",
    "end": "542000"
  },
  {
    "text": "separately from the kubernetes cluster",
    "start": "542000",
    "end": "543760"
  },
  {
    "text": "itself",
    "start": "543760",
    "end": "545839"
  },
  {
    "text": "the other choice is to use a robust",
    "start": "545839",
    "end": "548160"
  },
  {
    "text": "platform like",
    "start": "548160",
    "end": "549040"
  },
  {
    "text": "openshift that's built on top of",
    "start": "549040",
    "end": "551120"
  },
  {
    "text": "kubernetes",
    "start": "551120",
    "end": "553839"
  },
  {
    "text": "and with openshift pipeline tools",
    "start": "554160",
    "end": "557200"
  },
  {
    "text": "load balancers logging in metrics and",
    "start": "557200",
    "end": "560000"
  },
  {
    "text": "wall based access",
    "start": "560000",
    "end": "561519"
  },
  {
    "text": "control are all built into the platform",
    "start": "561519",
    "end": "564320"
  },
  {
    "text": "and maintained",
    "start": "564320",
    "end": "565600"
  },
  {
    "text": "with the platform in addition to a host",
    "start": "565600",
    "end": "568080"
  },
  {
    "text": "of other benefits",
    "start": "568080",
    "end": "570880"
  },
  {
    "text": "so in conclusion this solution",
    "start": "570880",
    "end": "573920"
  },
  {
    "text": "is beneficial because it uses",
    "start": "573920",
    "end": "575600"
  },
  {
    "text": "infrastructure as code",
    "start": "575600",
    "end": "577200"
  },
  {
    "text": "which provides collaboration visibility",
    "start": "577200",
    "end": "580240"
  },
  {
    "text": "and a source of truth if any piece of",
    "start": "580240",
    "end": "583040"
  },
  {
    "text": "the system should go down",
    "start": "583040",
    "end": "585279"
  },
  {
    "text": "we also have rapid api promotion from",
    "start": "585279",
    "end": "588240"
  },
  {
    "text": "dev",
    "start": "588240",
    "end": "588640"
  },
  {
    "text": "all the way up through production and",
    "start": "588640",
    "end": "590880"
  },
  {
    "text": "you have control over that you don't",
    "start": "590880",
    "end": "592240"
  },
  {
    "text": "have to use pipelines",
    "start": "592240",
    "end": "593440"
  },
  {
    "text": "for every step of the way but you",
    "start": "593440",
    "end": "595040"
  },
  {
    "text": "definitely can and not only is it rapid",
    "start": "595040",
    "end": "598000"
  },
  {
    "text": "but it is very low risk because it's",
    "start": "598000",
    "end": "600080"
  },
  {
    "text": "tested in a test environment",
    "start": "600080",
    "end": "601680"
  },
  {
    "text": "and tested again as a canary deployment",
    "start": "601680",
    "end": "604720"
  },
  {
    "text": "and then finally we have the logging in",
    "start": "604720",
    "end": "606560"
  },
  {
    "text": "metrics collection and display",
    "start": "606560",
    "end": "608880"
  },
  {
    "text": "thank you if you have questions please",
    "start": "608880",
    "end": "611440"
  },
  {
    "text": "drop us a line below",
    "start": "611440",
    "end": "613200"
  },
  {
    "text": "if you want to see more videos like this",
    "start": "613200",
    "end": "615120"
  },
  {
    "text": "in the future please like",
    "start": "615120",
    "end": "616880"
  },
  {
    "text": "and subscribe and don't forget you can",
    "start": "616880",
    "end": "619680"
  },
  {
    "text": "grow your skills and earn a badge with",
    "start": "619680",
    "end": "621839"
  },
  {
    "text": "ibm",
    "start": "621839",
    "end": "622399"
  },
  {
    "text": "cloud labs which are free browser-based",
    "start": "622399",
    "end": "625600"
  },
  {
    "text": "interactive kubernetes labs",
    "start": "625600",
    "end": "630079"
  }
]