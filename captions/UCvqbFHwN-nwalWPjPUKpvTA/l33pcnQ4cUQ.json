[
  {
    "text": "[Music]",
    "start": "2550",
    "end": "21910"
  },
  {
    "text": "good morning uh shiver M Timbers or I they say Su",
    "start": "24880",
    "end": "31480"
  },
  {
    "text": "Artimus um so we're the Pirates and we're going to talk about database operators hi",
    "start": "31480",
    "end": "38480"
  },
  {
    "text": "everyone can you applaud please Captain Jerome for this talk thank",
    "start": "38480",
    "end": "45878"
  },
  {
    "text": "you so here is Jerome I'm Alex uh we actually had this talk one year ago in",
    "start": "46399",
    "end": "54160"
  },
  {
    "text": "France at kcd France 2K 23 omage yes",
    "start": "54160",
    "end": "60199"
  },
  {
    "text": "bagget style C Bear uh actually we had quite a lot of fun with David who was",
    "start": "60199",
    "end": "66080"
  },
  {
    "text": "missing today uh hopefully we will present what was presented in French",
    "start": "66080",
    "end": "73000"
  },
  {
    "text": "last year and we will add a little bit of updates for instance we got some operators that went through",
    "start": "73000",
    "end": "79840"
  },
  {
    "text": "releases and as well we got some kind of uh experience in production as well for",
    "start": "79840",
    "end": "85640"
  },
  {
    "text": "based on the past 12 months so maybe J you jome you can explain us about the operators in",
    "start": "85640",
    "end": "92399"
  },
  {
    "text": "particular sure so quick show of hands uh who knows what an operator is like a kubernetes operator yeah lots of hands",
    "start": "92399",
    "end": "99520"
  },
  {
    "text": "cool now who knows what the database operator is uh a little bit less hand",
    "start": "99520",
    "end": "104600"
  },
  {
    "text": "but still a lot cool so um maybe half of the folks raise their hand um so a",
    "start": "104600",
    "end": "110280"
  },
  {
    "text": "database operator is something that lets us depro a database automatically on",
    "start": "110280",
    "end": "115880"
  },
  {
    "text": "kubernetes and manage like the whole life cycle and Behind These fancy words",
    "start": "115880",
    "end": "121200"
  },
  {
    "text": "we mean that it's going to take care of deploying but not just deploying the database server but like a primary a",
    "start": "121200",
    "end": "128000"
  },
  {
    "text": "replica have backups and uh when you have backups backups are pointless if you don't have restores so also manage",
    "start": "128000",
    "end": "135560"
  },
  {
    "text": "restoring for instance a point in time restore which is something really cool we're going to talk more about this",
    "start": "135560",
    "end": "141800"
  },
  {
    "text": "later uh and in this Stoke we're going to uh concentrate on six operators and",
    "start": "141800",
    "end": "147720"
  },
  {
    "text": "only SQL operators and only for pogress and myql uh it's it's not because we",
    "start": "147720",
    "end": "154440"
  },
  {
    "text": "don't like the other one it's just because we only have like 30 something minutes so we had to constrain the scope",
    "start": "154440",
    "end": "160640"
  },
  {
    "text": "a little bit and this is by no means an exhaustive review of all the operators",
    "start": "160640",
    "end": "166200"
  },
  {
    "text": "out there uh again uh time constraints and so on and so on um another thing that is pretty cool with operators you",
    "start": "166200",
    "end": "173319"
  },
  {
    "text": "know even if you are a season DBA Etc something pretty cool that you can do",
    "start": "173319",
    "end": "178720"
  },
  {
    "text": "with database operator on kubernetes is uh leveraging local storage uh safely",
    "start": "178720",
    "end": "186159"
  },
  {
    "text": "because you know when you are whether it's in the cloud or on Prem there is often this kind of uh dual thing am I",
    "start": "186159",
    "end": "192799"
  },
  {
    "text": "going to use my local discs which are super fast but if I lose the machine I lose the data or am I going to use",
    "start": "192799",
    "end": "200480"
  },
  {
    "text": "remote discs you know like EBS or SEF or something like that uh which feels safer",
    "start": "200480",
    "end": "206159"
  },
  {
    "text": "because it's on something that is like replicated and so on but but also it's much much much slower so if you have",
    "start": "206159",
    "end": "213760"
  },
  {
    "text": "something that deals with replication and backups and so on then it feels safe to use these local discs and sometime",
    "start": "213760",
    "end": "220799"
  },
  {
    "text": "that results it's absolutely tremendous performance improvements yay can you",
    "start": "220799",
    "end": "225879"
  },
  {
    "text": "name the operators we we are going through during this presentation good idea uh so there's going to be on the",
    "start": "225879",
    "end": "231799"
  },
  {
    "text": "pogress side cnpg uh stack grass and the zando postgress operator and then the",
    "start": "231799",
    "end": "237319"
  },
  {
    "text": "MySQL mayb side there's going to be May ADB operator and the perona operator for",
    "start": "237319",
    "end": "243920"
  },
  {
    "text": "my SQL okay and uh well so the the the reason why we talk",
    "start": "243920",
    "end": "251799"
  },
  {
    "text": "about this and I'm going to say uh we're we're not exactly in a unique position",
    "start": "251799",
    "end": "257519"
  },
  {
    "text": "but we're in a kind of rare position in the sense that we are uh and we that means enx or our company uh we are",
    "start": "257519",
    "end": "265000"
  },
  {
    "text": "helping folks manage their cognitive infrastructure and some folks ask us hey hey can you do that with pogress can you",
    "start": "265000",
    "end": "271600"
  },
  {
    "text": "do that with mySQL hey there is that cool feature in that operator can we use that uh so we end up with a bunch of",
    "start": "271600",
    "end": "279639"
  },
  {
    "text": "these different operators in production um so know it's a little bit different from if you're this giant billion dollar",
    "start": "279639",
    "end": "286759"
  },
  {
    "text": "unicorn who bet the whole Farm on pogress or MySQL and you know every six",
    "start": "286759",
    "end": "292840"
  },
  {
    "text": "months they publish a big blog post and news being like hey this is how we moved from something SQL to something else",
    "start": "292840",
    "end": "299280"
  },
  {
    "text": "squel no we have a lot of these operators in production and we thought it would be really useful to share what",
    "start": "299280",
    "end": "306400"
  },
  {
    "text": "we learned so Jerome uh can you ride us to our destination what's the plan to to",
    "start": "306400",
    "end": "313840"
  },
  {
    "text": "get there sure so we're going to go on a journey we're going to plot a course and set sale we're going to manage the",
    "start": "313840",
    "end": "320720"
  },
  {
    "text": "permission of the crew we're going to promote somebody to be a new Admiral in the fleet we're going to go up in the",
    "start": "320720",
    "end": "327000"
  },
  {
    "text": "crow nest and recover on second Fleet and out vessels and cannons and upgrade",
    "start": "327000",
    "end": "333400"
  },
  {
    "text": "to bigger boats and finally divide up the yeah the button yeah the buy yeah do",
    "start": "333400",
    "end": "339960"
  },
  {
    "text": "you think it's going to be fruitful uh probably probably uh and just in case",
    "start": "339960",
    "end": "345520"
  },
  {
    "text": "like if um sorry about all these words here maybe you feel like this what what is this about this doesn't make much",
    "start": "345520",
    "end": "351560"
  },
  {
    "text": "sense uh yeah we just put a bunch of pirate words here but each of these funny Expressions is going to correspond",
    "start": "351560",
    "end": "357919"
  },
  {
    "text": "to some actual work that dbas uh have to do all right so let's do that on shot",
    "start": "357919",
    "end": "365560"
  },
  {
    "text": "course and set sale uh actually it's are you going to discover your operator and",
    "start": "365560",
    "end": "370759"
  },
  {
    "text": "start to work with it uh we are all all pretty much used to M charts so all",
    "start": "370759",
    "end": "376120"
  },
  {
    "text": "operators uh can be installed through M charts what will differ depending um on",
    "start": "376120",
    "end": "382560"
  },
  {
    "text": "the operator is the kind of interfaces you will have to play with so first kind",
    "start": "382560",
    "end": "387720"
  },
  {
    "text": "of interface is going to be because custom resource everyone knows about customer resources definition in the",
    "start": "387720",
    "end": "393240"
  },
  {
    "text": "room yes yes okay uh actually some operators",
    "start": "393240",
    "end": "400039"
  },
  {
    "text": "got one single customer source and some others got a bunch of customer sources",
    "start": "400039",
    "end": "406319"
  },
  {
    "text": "like yeah like um sorry I was Disturbed uh so",
    "start": "406319",
    "end": "414120"
  },
  {
    "text": "a lot of customer sources for some of the operators uh in a very Cloud native",
    "start": "414120",
    "end": "419720"
  },
  {
    "text": "way I would say like set manager like flux like these kind of typical operators also one of them is is uh do",
    "start": "419720",
    "end": "429319"
  },
  {
    "text": "provide a graphical user interface it's tag as far as I can remember which is pretty convenient when you want to play",
    "start": "429319",
    "end": "436080"
  },
  {
    "text": "with your database cluster and uh basically add plugins or monitor it or",
    "start": "436080",
    "end": "441919"
  },
  {
    "text": "play with it and finally uh one of the best interface from my standpoint is",
    "start": "441919",
    "end": "448039"
  },
  {
    "text": "Cube codal plugins so playing with SC Cod uh is going to be a uh very uh fun",
    "start": "448039",
    "end": "456680"
  },
  {
    "text": "and uh you can to enjoy it uh meaning playing with your database through such",
    "start": "456680",
    "end": "461720"
  },
  {
    "text": "plugins makes it very easy to upgrade to backup to restore to switch over we're",
    "start": "461720",
    "end": "467360"
  },
  {
    "text": "going to talk about that in the various uh following slides and quick show of hands who prefers to work with the",
    "start": "467360",
    "end": "473919"
  },
  {
    "text": "DUI almost no one just a few people and who prefers to work with the CLI",
    "start": "473919",
    "end": "480159"
  },
  {
    "text": "okay cool we we're among friends here I mean it's cool for the folks who said they prefer the GUI but uh then it means",
    "start": "480159",
    "end": "487120"
  },
  {
    "text": "we're kind of on the same wavelength I think uh can you show us the yaml that we use when we want to create databases",
    "start": "487120",
    "end": "494960"
  },
  {
    "text": "with these operators sure so some uh in real life examples on the left side you",
    "start": "494960",
    "end": "500919"
  },
  {
    "text": "got the cnpg on the right side I don't remember I think it's Moko yes uh you",
    "start": "500919",
    "end": "506840"
  },
  {
    "text": "got a bunch of yaml pretty usual for kubernetes what we wanted to show here are the",
    "start": "506840",
    "end": "512039"
  },
  {
    "text": "different colors you can see red yellow and orange the red actually means it's a",
    "start": "512039",
    "end": "517959"
  },
  {
    "text": "minimal set of information you need to provide in order to launch your operator when you start to play with it so in",
    "start": "517959",
    "end": "525160"
  },
  {
    "text": "development for instance you can add it like six seven lines on the left side",
    "start": "525160",
    "end": "530480"
  },
  {
    "text": "and it's pretty similar on the right side except you want to provide the storage information hopeful uh evidently",
    "start": "530480",
    "end": "538040"
  },
  {
    "text": "you can add some uh storage FR class settings and some backup configuration",
    "start": "538040",
    "end": "543160"
  },
  {
    "text": "and by the way by the way are there nonf French speakers here non French people",
    "start": "543160",
    "end": "549480"
  },
  {
    "text": "okay I'm sure you're going to appreciate my very very French accent just forgot to talk about that uh",
    "start": "549480",
    "end": "558240"
  },
  {
    "text": "all right so um quick example to show you that it's very easy to launch",
    "start": "558240",
    "end": "563600"
  },
  {
    "text": "database cluster with the operators that's a point of operators uh next slide uh we you will",
    "start": "563600",
    "end": "571760"
  },
  {
    "text": "basically discover some Emoji here like the banana and the banana we do like",
    "start": "571760",
    "end": "577839"
  },
  {
    "text": "bananas at enx who doesn't like bananas okay a couple of hands that's",
    "start": "577839",
    "end": "583640"
  },
  {
    "text": "okay you're fine but basically everyone else loves bananas so we put bananas for the ones that we were like okay this is",
    "start": "583640",
    "end": "589399"
  },
  {
    "text": "really cool we love the way they do it now what about the Skull and Bones the",
    "start": "589399",
    "end": "594720"
  },
  {
    "text": "skill actually means it's like of a minus from our standpoint it doesn't mean that the oper is not good at that",
    "start": "594720",
    "end": "600600"
  },
  {
    "text": "but it it basically means that at Enix we don't very like the way it was handled by the operator so on most of",
    "start": "600600",
    "end": "607959"
  },
  {
    "text": "the slides you're going to see pros and minuses but it also means that some operators are not displayed here uh",
    "start": "607959",
    "end": "614760"
  },
  {
    "text": "which means no particular comment it doesn't mean that they are not good it doesn't mean that they are not bad uh",
    "start": "614760",
    "end": "621640"
  },
  {
    "text": "but you will see all or feedback here on the bottom of the slide so for this example we really like playing with CNP",
    "start": "621640",
    "end": "629320"
  },
  {
    "text": "PG and Moco uh because they're basically very easy to install and to interface",
    "start": "629320",
    "end": "635000"
  },
  {
    "text": "with and what we didn't like is Peron now now quick information uh my for my",
    "start": "635000",
    "end": "641880"
  },
  {
    "text": "SQL PG for po gr and Ma for mayb yeah",
    "start": "641880",
    "end": "648040"
  },
  {
    "text": "pretty simple so perona what was problematic from a stand point is the configuration is a bit um not messy but",
    "start": "648040",
    "end": "655519"
  },
  {
    "text": "the documentation is not very clear it's complicated to install basically not a very pleasant moment to install Less",
    "start": "655519",
    "end": "663639"
  },
  {
    "text": "Pleasant than the other ones a little bit it's not bad but not as bananas as the other ones so Jerome Captain Jerome",
    "start": "663639",
    "end": "670519"
  },
  {
    "text": "let's imagine we got a kind of mutiny on the boat are we save the day uh through",
    "start": "670519",
    "end": "677240"
  },
  {
    "text": "operators what can we do because with operators we're going to set permissions on the databases so you know obviously",
    "start": "677240",
    "end": "684399"
  },
  {
    "text": "when you connect to a database you need credentials and so how does that work with our operators uh we have different",
    "start": "684399",
    "end": "692040"
  },
  {
    "text": "paradigms uh in some cases it's kind of completely do it yourself like you have one admin account and then you need to",
    "start": "692040",
    "end": "699079"
  },
  {
    "text": "run SQL set statements manual commands to create your users as you would do like in in the Old World um sometimes",
    "start": "699079",
    "end": "706959"
  },
  {
    "text": "you can indicate like in your uh manifest in yl you can say I want this",
    "start": "706959",
    "end": "712600"
  },
  {
    "text": "this this and this user and sometimes you can even Define some crds to define",
    "start": "712600",
    "end": "718320"
  },
  {
    "text": "the users uh we're going to see a couple of examples here on the left zalando and",
    "start": "718320",
    "end": "723680"
  },
  {
    "text": "I don't know if you can see on the left like the there is the users section uh",
    "start": "723680",
    "end": "729200"
  },
  {
    "text": "around like here and on the right um this is the mayb uh so you have a crd",
    "start": "729200",
    "end": "736639"
  },
  {
    "text": "for users so that's pretty cool because you can Define the users and the permissions like part of your github's",
    "start": "736639",
    "end": "744199"
  },
  {
    "text": "deployment pipeline etc etc one thing that is worth noting uh is that some uh",
    "start": "744199",
    "end": "750760"
  },
  {
    "text": "operators also kind of decided Well you know I mean in the old world so to speak",
    "start": "750760",
    "end": "756800"
  },
  {
    "text": "uh you have one big database server or clusters and maybe hundreds of databases on it and some operators basically tell",
    "start": "756800",
    "end": "763079"
  },
  {
    "text": "us well if you want you can deploy one cluster per application because it's so",
    "start": "763079",
    "end": "769519"
  },
  {
    "text": "easy to do with operators and the overhead is really low and that helps you to achieve a better separation so",
    "start": "769519",
    "end": "776320"
  },
  {
    "text": "some operators are like yeah if you want you could def multiple users but what we",
    "start": "776320",
    "end": "781480"
  },
  {
    "text": "encourage you to do is actually to have like one cluster per application because",
    "start": "781480",
    "end": "787399"
  },
  {
    "text": "it's easy because it's cheap and because you have better isolation same like for you know performances and query caches",
    "start": "787399",
    "end": "794199"
  },
  {
    "text": "etc etc um so maybe we yeah move to the next",
    "start": "794199",
    "end": "800320"
  },
  {
    "text": "slide uh sh how do we promote you as",
    "start": "800320",
    "end": "806639"
  },
  {
    "text": "Captain to an admiral on the cluster okay so here we're going to talk about uh automated failover and manual switch",
    "start": "806639",
    "end": "814560"
  },
  {
    "text": "over so it's about high availability because a fact you have one Admiral in a",
    "start": "814560",
    "end": "820079"
  },
  {
    "text": "fleet I think it's the same in the Pirates and in the Navy in the Navy sorry and the flagship is just the ship",
    "start": "820079",
    "end": "825800"
  },
  {
    "text": "where you have the Admiral so the flagship is basically our primary uh database",
    "start": "825800",
    "end": "831160"
  },
  {
    "text": "server um so it might be a bit confusing that we have wait automated manual out",
    "start": "831160",
    "end": "837240"
  },
  {
    "text": "of curiosity who knows the difference between a failover and a switch over a",
    "start": "837240",
    "end": "843040"
  },
  {
    "text": "few hands so I see we yeah more hands we have some season dbas here awesome uh",
    "start": "843040",
    "end": "848120"
  },
  {
    "text": "basically the automated failover is the the first thing we think about it's like oh we just lost the primary and we need",
    "start": "848120",
    "end": "855480"
  },
  {
    "text": "to fail over to the replica so that operations can continue and the switch over uh it's manual so it means I'm",
    "start": "855480",
    "end": "863320"
  },
  {
    "text": "going to now and then decide that I'm switching over to this replica and when",
    "start": "863320",
    "end": "868639"
  },
  {
    "text": "would want to do that well little example let's say I have a a big kubernetes cluster and on it I have like",
    "start": "868639",
    "end": "875320"
  },
  {
    "text": "100 database clusters and I have a node that I need to decommission maybe there",
    "start": "875320",
    "end": "880759"
  },
  {
    "text": "is a hardware problem maybe my cloud provider just sent me a notification like Hey we're going to shut down that",
    "start": "880759",
    "end": "886759"
  },
  {
    "text": "node in like 30 minutes I don't know but basically I need to uh get rid of that node which means moving all the stuff",
    "start": "886759",
    "end": "894040"
  },
  {
    "text": "that's on the Node and that's when you want to do a switch over uh to a",
    "start": "894040",
    "end": "899600"
  },
  {
    "text": "so that you don't have any primary on that node basically um and so here we",
    "start": "899600",
    "end": "905040"
  },
  {
    "text": "can see some pretty significant differences between the different uh operators um so example uh if I manage",
    "start": "905040",
    "end": "913920"
  },
  {
    "text": "to um click on that thing yes so this is",
    "start": "913920",
    "end": "919040"
  },
  {
    "text": "um some on stack grass um so some pogress operators are based on Patron",
    "start": "919040",
    "end": "925839"
  },
  {
    "text": "and I think if some of you have already set UPC ation on pogress there is a good",
    "start": "925839",
    "end": "931040"
  },
  {
    "text": "chance that you have seen or used patrony uh so here you know if if you're",
    "start": "931040",
    "end": "937079"
  },
  {
    "text": "one of these folks who know Patron pretty well when you see this you're probably going to be like yep yep this",
    "start": "937079",
    "end": "942560"
  },
  {
    "text": "feels familiar I've done this before uh and it's relatively straightforward you know just CLE exac a few commands and",
    "start": "942560",
    "end": "949519"
  },
  {
    "text": "boom uh we just did a switch over yay awesome now just you know let's compare",
    "start": "949519",
    "end": "956880"
  },
  {
    "text": "uh with what we can have with another uh that one for instance um",
    "start": "956880",
    "end": "964759"
  },
  {
    "text": "so this is going to be with um Moco and with Moco that's going to be extremely",
    "start": "964759",
    "end": "971639"
  },
  {
    "text": "completed complicated uh there is a plugin one line exactly and in one line",
    "start": "971639",
    "end": "977279"
  },
  {
    "text": "that's it we did the switch over uh so if you just need to do a switch over",
    "start": "977279",
    "end": "982519"
  },
  {
    "text": "once in the Blue Moon that's fine I you know I can run these few manual commands it's okay uh but if I if I happen to",
    "start": "982519",
    "end": "990079"
  },
  {
    "text": "have uh hundreds of clusters uh for which for which I need to do a switch",
    "start": "990079",
    "end": "995160"
  },
  {
    "text": "over that's going to be a little bit more annoying imagine if I just realize oops I have this notification about this",
    "start": "995160",
    "end": "1000639"
  },
  {
    "text": "machine going down and I have 20 minutes to switch over the 30 clusters um that's going to be easier if I can just do",
    "start": "1000639",
    "end": "1007680"
  },
  {
    "text": "little for Loop and grap and you know Etc uh to do all that switch over so um",
    "start": "1007680",
    "end": "1015959"
  },
  {
    "text": "plus minuses maybe maybe regarding this operator in that regard um I guess we",
    "start": "1015959",
    "end": "1021759"
  },
  {
    "text": "had some problems at some point with some of them and we got a new Emoji here which is the what the banana skull face",
    "start": "1021759",
    "end": "1030000"
  },
  {
    "text": "whatever yeah okay so the the skull morphing into a banana means that one year ago when we did the first iteration",
    "start": "1030000",
    "end": "1036360"
  },
  {
    "text": "of that talk it was like not great uh but now it's bananas um can you tell us",
    "start": "1036360",
    "end": "1041918"
  },
  {
    "text": "a little bit more about the the Maya DB operator here yeah so Maya DB operator is the actually the only one uh operator",
    "start": "1041919",
    "end": "1049480"
  },
  {
    "text": "implementing marad DB uh it's a pretty recent operator which was quite young",
    "start": "1049480",
    "end": "1055160"
  },
  {
    "text": "one year ago and actually they made a ton of new releases and solved tons of",
    "start": "1055160",
    "end": "1060480"
  },
  {
    "text": "different various problems we faced before so we actually think today that Marb gets really better and and is like",
    "start": "1060480",
    "end": "1067799"
  },
  {
    "text": "a banana today whereas one year ago it was not for instance um marad DB didn't",
    "start": "1067799",
    "end": "1074760"
  },
  {
    "text": "manage the replication of uh SQL engine so so we basically adjust a primary one",
    "start": "1074760",
    "end": "1081000"
  },
  {
    "text": "year ago now we can manage a complete cluster which is I would say from on",
    "start": "1081000",
    "end": "1087320"
  },
  {
    "text": "this regard regarding promoting which is uh necessary uh also on",
    "start": "1087320",
    "end": "1093679"
  },
  {
    "text": "cnpg uh you see a little bomb here I think we're going to be short on time I don't know where we are right now like",
    "start": "1093679",
    "end": "1099840"
  },
  {
    "text": "170 minutes but maybe we can keep that story for the end if we have time yeah okay so let's move to ah wait my joke my",
    "start": "1099840",
    "end": "1106640"
  },
  {
    "text": "joke yeah wait",
    "start": "1106640",
    "end": "1110760"
  },
  {
    "text": "hey Jerome can we kind of M dra something from far away I think we're",
    "start": "1112880",
    "end": "1118240"
  },
  {
    "text": "going to talk about observability you're welcome to Applause this perfect",
    "start": "1118240",
    "end": "1126200"
  },
  {
    "text": "joke thank you um so basically in terms of monitoring uh everyone uses",
    "start": "1129720",
    "end": "1135919"
  },
  {
    "text": "Prometheus I I guess I think yeah who uses Prometheus okay maybe I don't know if",
    "start": "1135919",
    "end": "1142520"
  },
  {
    "text": "it's everyone but many many many hands Okay cool so you got Metrology by default with operators which is kind of",
    "start": "1142520",
    "end": "1148760"
  },
  {
    "text": "expected what you will see in terms of differences is the level of Metrology",
    "start": "1148760",
    "end": "1154840"
  },
  {
    "text": "you get from one operator to the other uh the first layer of metrics you're going to get is typical seal exporters",
    "start": "1154840",
    "end": "1162720"
  },
  {
    "text": "uh that you can that you can use on Virtual machines so you will have database level metrics like performance",
    "start": "1162720",
    "end": "1170520"
  },
  {
    "text": "uh eventually some information about the uh CPU consumption memory usage Etc a",
    "start": "1170520",
    "end": "1177720"
  },
  {
    "text": "pretty lowlevel information actually some of the operators uh do provide",
    "start": "1177720",
    "end": "1184080"
  },
  {
    "text": "additional information about the cluster Health meaning uh is my cluster",
    "start": "1184080",
    "end": "1189440"
  },
  {
    "text": "replicated in good health uh where my backups correctly handled uh was I able",
    "start": "1189440",
    "end": "1196200"
  },
  {
    "text": "to I don't know restore something uh the something about the certificate experation as well and finally something",
    "start": "1196200",
    "end": "1204559"
  },
  {
    "text": "we're going to present on the next slide oops you did it same time sorry uh",
    "start": "1204559",
    "end": "1211960"
  },
  {
    "text": "so right side is actually typical uh kubernetes export yaml export about the",
    "start": "1211960",
    "end": "1218039"
  },
  {
    "text": "status of um your cluster you can see over here uh some kind of U health",
    "start": "1218039",
    "end": "1226280"
  },
  {
    "text": "information about the cluster it's not very convenient to pass actually from a human standpoint and some operators do",
    "start": "1226280",
    "end": "1233600"
  },
  {
    "text": "provide as you can remember C CLE plugins uh actually here it's cnpg",
    "start": "1233600",
    "end": "1239280"
  },
  {
    "text": "providing as a status command here and there you can see you you have a",
    "start": "1239280",
    "end": "1245520"
  },
  {
    "text": "complete overview of your cluster uh status right now",
    "start": "1245520",
    "end": "1251400"
  },
  {
    "text": "uh as I did say uh earlier you can have certificate experation information",
    "start": "1251400",
    "end": "1257440"
  },
  {
    "text": "cluster health last backups that went through correctly etc etc and I think",
    "start": "1257440",
    "end": "1263280"
  },
  {
    "text": "for the folks who kind of are used to working with uh replication you can recognize stuff about the the wall State",
    "start": "1263280",
    "end": "1270320"
  },
  {
    "text": "the wrer head log and so that's the kind of information that you want to have real quick when you want to check that",
    "start": "1270320",
    "end": "1276159"
  },
  {
    "text": "everything is fine uh and speaking of wall logs and backups and everything",
    "start": "1276159",
    "end": "1281559"
  },
  {
    "text": "yeah actually uh very important stuff that you can monitor here as well if I get back",
    "start": "1281559",
    "end": "1287520"
  },
  {
    "text": "to just wanted to show you the pros and minuses the bananas and the skills uh we",
    "start": "1287520",
    "end": "1295120"
  },
  {
    "text": "do find that from a monitoring standpoint The Operators that do provide Cube cudle plugins or do provide cluster",
    "start": "1295120",
    "end": "1301720"
  },
  {
    "text": "else Metrology are are really a plus in that regard so cnpg and Moko again",
    "start": "1301720",
    "end": "1307320"
  },
  {
    "text": "that's a plus U on the other end perona again on the side what's wrong with it",
    "start": "1307320",
    "end": "1314039"
  },
  {
    "text": "um okay so first of all you got to install the kind of agent in order to do",
    "start": "1314039",
    "end": "1319880"
  },
  {
    "text": "the monitoring it's called pmm perona monitoring something management and by",
    "start": "1319880",
    "end": "1327240"
  },
  {
    "text": "default with the uh normal configuration it's going to send information to a",
    "start": "1327240",
    "end": "1333400"
  },
  {
    "text": "central server so this is really from an NX standpoint a",
    "start": "1333400",
    "end": "1340240"
  },
  {
    "text": "Boo likes yeah W likes to send data anonymously to a central server by with",
    "start": "1340240",
    "end": "1345760"
  },
  {
    "text": "the default configuration yeah do you like it when you you install something open source and it sends random data to",
    "start": "1345760",
    "end": "1351840"
  },
  {
    "text": "its central place no one yeah I mean honestly there is nothing wrong with the idea actually sometimes it's really cool",
    "start": "1351840",
    "end": "1358760"
  },
  {
    "text": "like Firefox does it uh to to have like crash info and that's super useful but the problem might be like from a",
    "start": "1358760",
    "end": "1365080"
  },
  {
    "text": "security standpoint uh you you have this uh Network flow going out and you're like well what is this exactly you need",
    "start": "1365080",
    "end": "1372240"
  },
  {
    "text": "to kind of is there some s important data in there uh and of course you can disable it but that was a little bit of",
    "start": "1372240",
    "end": "1379080"
  },
  {
    "text": "a surprise basically yes so hopefully at some point we we can get some pluses for",
    "start": "1379080",
    "end": "1385120"
  },
  {
    "text": "perona uh okay right so let's imagine Jerome",
    "start": "1385120",
    "end": "1391400"
  },
  {
    "text": "that we lost our clusters right so big catastrophe we lost the whole Fleet",
    "start": "1391400",
    "end": "1398159"
  },
  {
    "text": "primary replica everything is gone uh maybe you know it's like uh 1121 and I",
    "start": "1398159",
    "end": "1404200"
  },
  {
    "text": "do a drop table on the production database uh what can we do well first um",
    "start": "1404200",
    "end": "1410360"
  },
  {
    "text": "most operators let you define backups either to an object store like S3 or to",
    "start": "1410360",
    "end": "1416240"
  },
  {
    "text": "PVC like so persistent volumes on kubernetes um and well sometimes both",
    "start": "1416240",
    "end": "1422640"
  },
  {
    "text": "there is also like special mention to cnpg who just recently added the option to do backups with like CSI snapshots I",
    "start": "1422640",
    "end": "1430799"
  },
  {
    "text": "don't know much about it but I just learned about that last week and I was like H this is cool um and uh that",
    "start": "1430799",
    "end": "1436799"
  },
  {
    "text": "enables you to do point in time recovery which is the thing where basically you",
    "start": "1436799",
    "end": "1441919"
  },
  {
    "text": "can say well uh Captain Jerome the pirate accidentally dropped production at 11:21 can we restore the database as",
    "start": "1441919",
    "end": "1450080"
  },
  {
    "text": "it was at 1120 you know 1 minute before uh and that's poting time recovery and",
    "start": "1450080",
    "end": "1455600"
  },
  {
    "text": "out of curiosity who implemented poting time recovery before okay a few hands",
    "start": "1455600",
    "end": "1462400"
  },
  {
    "text": "who found it like easy and enjoyable okay okay there are some",
    "start": "1462400",
    "end": "1467919"
  },
  {
    "text": "hardcore dbas here uh Matt props to you uh but well I I like managing databases",
    "start": "1467919",
    "end": "1474559"
  },
  {
    "text": "that's my maybe little uh weird side of me but p is not really easy uh so it's",
    "start": "1474559",
    "end": "1480640"
  },
  {
    "text": "really great that the operator lets you do that sometimes as easily as you know you take your yl you add like literally",
    "start": "1480640",
    "end": "1486760"
  },
  {
    "text": "a couple of lines to say Restore for the backups at this time stamp and it's going to create a brand new cluster uh",
    "start": "1486760",
    "end": "1494919"
  },
  {
    "text": "with a restore of the data um here here there is a little bit of a difference",
    "start": "1494919",
    "end": "1499960"
  },
  {
    "text": "you know between the old world and the new Cloud native world where in the old world often we would restore kind of in",
    "start": "1499960",
    "end": "1507200"
  },
  {
    "text": "place on top of the existing machines because we wouldn't have tons and tons of machines lying around uh and in Cloud",
    "start": "1507200",
    "end": "1513159"
  },
  {
    "text": "native is like no no no I'm going to leave the the current database running and I'm just going to create a new",
    "start": "1513159",
    "end": "1519679"
  },
  {
    "text": "cluster because it's just a bunch of PODS so I don't care if I just add a couple of extra pods it's fine and that",
    "start": "1519679",
    "end": "1526200"
  },
  {
    "text": "way I can have my old uh broken database and the new one side by side if I want",
    "start": "1526200",
    "end": "1532000"
  },
  {
    "text": "to more easily do some reconciliation merges etc etc wait Jerome uh you mean",
    "start": "1532000",
    "end": "1538080"
  },
  {
    "text": "that in the Clone native way rather than replacing the production servers that are faulty uh you want to create a new",
    "start": "1538080",
    "end": "1545080"
  },
  {
    "text": "instance and then once it's up and running and you verify the the data then",
    "start": "1545080",
    "end": "1550720"
  },
  {
    "text": "you redirect the app for instance okay yeah and you know like blue green deployment Etc I'm sure I don't need to",
    "start": "1550720",
    "end": "1558080"
  },
  {
    "text": "tell you how great these things are um okay a quick word about mayad DB again",
    "start": "1558080",
    "end": "1565399"
  },
  {
    "text": "uh what changed during the last year so first implemented the AT3 end point which is kind of our preferred way to do",
    "start": "1565399",
    "end": "1572679"
  },
  {
    "text": "backup you usually want to do to send your backup far away from your",
    "start": "1572679",
    "end": "1577720"
  },
  {
    "text": "production in a different data center in a different provider on a different provider and also what they did",
    "start": "1577720",
    "end": "1585240"
  },
  {
    "text": "Implement is a kind of point in time recovery it's not exactly point in time recovery uh basically it's going to find",
    "start": "1585240",
    "end": "1592960"
  },
  {
    "text": "the nearest backup in time when you ask for a specific uh thing uh one last",
    "start": "1592960",
    "end": "1599919"
  },
  {
    "text": "thing before we move away from the backups um quick story on on about cnpg as well if you look in the documentation",
    "start": "1599919",
    "end": "1607120"
  },
  {
    "text": "at first it can be a little bit overwhelming because it's going to tell you hey you can do like full backups uh",
    "start": "1607120",
    "end": "1612799"
  },
  {
    "text": "using like SQL dumps or you could also do like PG based dumps and if you're not exactly super deep in the trenches no",
    "start": "1612799",
    "end": "1620480"
  },
  {
    "text": "Pirates don't go in trenches uh in the the bill I think it's called below the",
    "start": "1620480",
    "end": "1625720"
  },
  {
    "text": "ship so if you're not super deep into pogress you're like what's the difference why should I bother uh and",
    "start": "1625720",
    "end": "1631039"
  },
  {
    "text": "and you might be tempted to think oh this other operator is better because it only gives me one option and I don't",
    "start": "1631039",
    "end": "1637080"
  },
  {
    "text": "have to think too much well having this option is actually super important because for instance full SQL dumps will",
    "start": "1637080",
    "end": "1644200"
  },
  {
    "text": "let you do like a backup and restore across different versions of pogress for",
    "start": "1644200",
    "end": "1649919"
  },
  {
    "text": "instance or sometimes across very different services and having a a base",
    "start": "1649919",
    "end": "1655000"
  },
  {
    "text": "dump will be much much much faster to give you an idea an a recent example on",
    "start": "1655000",
    "end": "1660559"
  },
  {
    "text": "about like 100 gigs uh production database so modest size but still chunky",
    "start": "1660559",
    "end": "1667360"
  },
  {
    "text": "um with a SQL dump the restore took multiple hours like two three hours with",
    "start": "1667360",
    "end": "1673039"
  },
  {
    "text": "a with a base dump it just took a few minutes because it's just like a uh a",
    "start": "1673039",
    "end": "1678840"
  },
  {
    "text": "file system level backup um so that's pretty important when you you know we start thinking about time to recovery",
    "start": "1678840",
    "end": "1685320"
  },
  {
    "text": "and blah blah blah uh in one case it's hours in the other case it's minutes so",
    "start": "1685320",
    "end": "1690640"
  },
  {
    "text": "I'm going to pick minutes personally and so it's great to have both options um and it's worth reading the",
    "start": "1690640",
    "end": "1697640"
  },
  {
    "text": "documentation so if I want to pin pump my boat uh actually add some plugins to",
    "start": "1697640",
    "end": "1703559"
  },
  {
    "text": "my SQL engine I would have basically two options either the operator",
    "start": "1703559",
    "end": "1708960"
  },
  {
    "text": "manages such operation meaning that in the custom resource you're going to add a simple setting to say I want this",
    "start": "1708960",
    "end": "1714880"
  },
  {
    "text": "plugin as an example in pogress it's pretty usual to add a PO G",
    "start": "1714880",
    "end": "1723159"
  },
  {
    "text": "posg uh which is for geographical database um so it's pretty convenient to",
    "start": "1723159",
    "end": "1728960"
  },
  {
    "text": "do it on some uh let's say cloud native operators I mean the the more modern",
    "start": "1728960",
    "end": "1734399"
  },
  {
    "text": "ones like stack and cnpg but sometimes you will have to do your own custom cont",
    "start": "1734399",
    "end": "1740320"
  },
  {
    "text": "container image like uh on Moko the skull face here uh why because they",
    "start": "1740320",
    "end": "1748360"
  },
  {
    "text": "basically do not manage plugins so you can still add your plugin by building a new container with the plug-in included",
    "start": "1748360",
    "end": "1755519"
  },
  {
    "text": "and enabled and it works but it's less convenient and it's not managed by the",
    "start": "1755519",
    "end": "1760760"
  },
  {
    "text": "operator all right uh okay so well I think you're going to need a bigger boat",
    "start": "1760760",
    "end": "1766760"
  },
  {
    "text": "yeah we need a bigger Bo what does it mean it means that we need to discuss about upgrades and upgrades actually is",
    "start": "1766760",
    "end": "1774279"
  },
  {
    "text": "quite a subject when you deal with operators uh I won't ask in the in the room who",
    "start": "1774279",
    "end": "1782120"
  },
  {
    "text": "had failures while upgrading operators but I can tell you there's a big difference between upgrading your SQL",
    "start": "1782120",
    "end": "1788399"
  },
  {
    "text": "engine which is normal operation from a from an operator standpoint and on the",
    "start": "1788399",
    "end": "1793760"
  },
  {
    "text": "other side upgrading your operator which can be pretty dangerous",
    "start": "1793760",
    "end": "1798960"
  },
  {
    "text": "okay uh so on the SQL side on the SQL engine side upgrading a database is",
    "start": "1798960",
    "end": "1805640"
  },
  {
    "text": "pretty easy sometimes you even have you even have some custom resource in order",
    "start": "1805640",
    "end": "1810840"
  },
  {
    "text": "to do the upgrades and you got events and the operator basically will roll out your different replicas elect new",
    "start": "1810840",
    "end": "1817039"
  },
  {
    "text": "primary do switch over Etc and you don't have to do anything and it's very very",
    "start": "1817039",
    "end": "1822240"
  },
  {
    "text": "convenient okay on the other side if you got on one single cluster",
    "start": "1822240",
    "end": "1828799"
  },
  {
    "text": "clusters times three pods one primary two replicas and that your operator",
    "start": "1828799",
    "end": "1835399"
  },
  {
    "text": "starts to roll out everything at the same time you're Bas mean that you got",
    "start": "1835399",
    "end": "1841480"
  },
  {
    "text": "300 pods like exploding and restarting Etc and hopefully you will have extra",
    "start": "1841480",
    "end": "1848039"
  },
  {
    "text": "resources in order to hand all this but most of the time it can get uh quite",
    "start": "1848039",
    "end": "1853279"
  },
  {
    "text": "ugly so be aware of the operator upgrades uh make make sure in the",
    "start": "1853279",
    "end": "1858600"
  },
  {
    "text": "configuration that's actually the problem for Moco one year ago while you",
    "start": "1858600",
    "end": "1863639"
  },
  {
    "text": "were upgrading an operator um the the moo operator basically it was by default",
    "start": "1863639",
    "end": "1870600"
  },
  {
    "text": "uh restarting rolling out all clusters hopefully now that's why they got this kind of yellowish something um it's",
    "start": "1870600",
    "end": "1879600"
  },
  {
    "text": "because they they change the config you can configure the behavior so you can disable rolling out at the operator",
    "start": "1879600",
    "end": "1886639"
  },
  {
    "text": "upgrade time the roll out of the SQL engine uh be careful test your upgrades",
    "start": "1886639",
    "end": "1893880"
  },
  {
    "text": "in da in staging whatever do it a couple of times because it can get quite messy",
    "start": "1893880",
    "end": "1900919"
  },
  {
    "text": "and the nice thing again with Cloud native you know when when we tell people oh always do testing staging or whatever",
    "start": "1900919",
    "end": "1906840"
  },
  {
    "text": "it feels like well you mean I have to do the job twice but the point here is that it's it's just applying a bunch of yaml",
    "start": "1906840",
    "end": "1913519"
  },
  {
    "text": "so it's not going to be a lot of extra effort all right so we're going to find",
    "start": "1913519",
    "end": "1920039"
  },
  {
    "text": "some treasure now uh so yeah that's the end of our journey but uh I think our",
    "start": "1920039",
    "end": "1926519"
  },
  {
    "text": "treasure looks like basically well I mean we got some uh bananas so okay",
    "start": "1926519",
    "end": "1933159"
  },
  {
    "text": "great the the bottom line is basically that SQL SQL operators on on kubernetes",
    "start": "1933159",
    "end": "1938639"
  },
  {
    "text": "are bananas like it's seriously really awesome in the sense that if you're just",
    "start": "1938639",
    "end": "1944840"
  },
  {
    "text": "I would say a casual DBA like you know oh you're the full stack engineer who goes all the way from CSS and react and",
    "start": "1944840",
    "end": "1952039"
  },
  {
    "text": "frontend backend and also accidentally now you need to manage databases so that's a lot uh this will let you have",
    "start": "1952039",
    "end": "1959720"
  },
  {
    "text": "replication and backups and so on and so on without having to go through the long",
    "start": "1959720",
    "end": "1965639"
  },
  {
    "text": "and sometimes painful process of uh learning everything about the MySQL and postgress configuration and so on and so",
    "start": "1965639",
    "end": "1972039"
  },
  {
    "text": "on like honestly uh if if if we had more time of this this were Workshop we could",
    "start": "1972039",
    "end": "1977440"
  },
  {
    "text": "take like five minutes to use I don't know like kind or wrencher desktop and install one of these operators and have",
    "start": "1977440",
    "end": "1983960"
  },
  {
    "text": "a replicated database and show some failover so that's how easy and fast it",
    "start": "1983960",
    "end": "1989039"
  },
  {
    "text": "is and it's going to implement for us a lot of best practices and if you are a",
    "start": "1989039",
    "end": "1994120"
  },
  {
    "text": "season DBA with lots of you know Battle Scars and War Stories and data loss and",
    "start": "1994120",
    "end": "1999320"
  },
  {
    "text": "so on uh that's going to help you manage more databases uh more easily faster",
    "start": "1999320",
    "end": "2006080"
  },
  {
    "text": "with less overhead and so on and so on so I would say uh whatever is your level of database expertise in my opinion uh",
    "start": "2006080",
    "end": "2013600"
  },
  {
    "text": "database operators are really great it also gives us some way to kind of selfs",
    "start": "2013600",
    "end": "2019000"
  },
  {
    "text": "serve databases as a developer with my kubernetes cluster if I need a new database cluster I I can just apply some",
    "start": "2019000",
    "end": "2026039"
  },
  {
    "text": "yaml and one minute later boom I have my uh postgress on my SQL cluster instead",
    "start": "2026039",
    "end": "2031240"
  },
  {
    "text": "of opening a ticket to the database team who's going to get back to me as soon as they're back from vacation and then they",
    "start": "2031240",
    "end": "2036720"
  },
  {
    "text": "have other thing to do with etc etc yeah uh in that regard",
    "start": "2036720",
    "end": "2043080"
  },
  {
    "text": "actually yeah in that regard actually as you can Implement an Ingress in your",
    "start": "2043080",
    "end": "2049200"
  },
  {
    "text": "application M chart you can Implement an operator customer Source in your M and",
    "start": "2049200",
    "end": "2054560"
  },
  {
    "text": "this this makes it very convenient at least from a death standpoint when you want to launch multiple environments so",
    "start": "2054560",
    "end": "2061800"
  },
  {
    "text": "our our on two minutes left I think two minutes left okay so that's the final",
    "start": "2061800",
    "end": "2066960"
  },
  {
    "text": "slide actually uh we wanted to give you an overview of what is going on from our standpoint at NX okay it's an opinion uh",
    "start": "2066960",
    "end": "2075398"
  },
  {
    "text": "it doesn't mean that some operators are worse than others but it's our view on",
    "start": "2075399",
    "end": "2080560"
  },
  {
    "text": "how we want to implement that them in production so on the left side the three on the left are in production at NX and",
    "start": "2080560",
    "end": "2087878"
  },
  {
    "text": "they have they have been for quite a long time now and it's and it's running well it's running especially well uh the",
    "start": "2087879",
    "end": "2095079"
  },
  {
    "text": "stack grass line you can see you got bananas and there's a bizarre Emoji",
    "start": "2095079",
    "end": "2101800"
  },
  {
    "text": "crystal bowst bow so why why isn't it in production at NX actually we don't know",
    "start": "2101800",
    "end": "2109960"
  },
  {
    "text": "because it's a very good operator uh we want to use it but cnpg does the job today so we never switch it or added",
    "start": "2109960",
    "end": "2116880"
  },
  {
    "text": "stack gr we really think it's one of the most modern kind of operator with",
    "start": "2116880",
    "end": "2122240"
  },
  {
    "text": "multiple custom resources and and various stuff that are quite cool uh but still not yet in",
    "start": "2122240",
    "end": "2128800"
  },
  {
    "text": "production at NX let's see in the following month and then we got the the two remainings but we don't have time",
    "start": "2128800",
    "end": "2135079"
  },
  {
    "text": "maybe I don't know so Maria Deb very quickly they did a great job this past 12 months it's it's starting to be the",
    "start": "2135079",
    "end": "2142440"
  },
  {
    "text": "Maria Deb operator it's the only option but it start to be like PR ready is",
    "start": "2142440",
    "end": "2147920"
  },
  {
    "text": "right now at at this time and finally perona uh complicated for us to use it",
    "start": "2147920",
    "end": "2154119"
  },
  {
    "text": "it makes some sense in particular scenarios not ours yeah well I think that's that's about it",
    "start": "2154119",
    "end": "2161079"
  },
  {
    "text": "if you want the slides uh top right QR code if you want uh uh oh so we had this",
    "start": "2161079",
    "end": "2166920"
  },
  {
    "text": "cool like clown t-shirts and so we have some on the back if some folks are interested also please uh if you liked",
    "start": "2166920",
    "end": "2174200"
  },
  {
    "text": "this talk please rate the talk if you didn't like the talk don't rate it not kidding but then come to us and tell us",
    "start": "2174200",
    "end": "2180640"
  },
  {
    "text": "what you didn't like so we can do a better job next time because as pirates we strive to continuously improve thank",
    "start": "2180640",
    "end": "2188160"
  },
  {
    "text": "you jome for this talk let's applaud thanks Alex",
    "start": "2188160",
    "end": "2193480"
  },
  {
    "text": "captain",
    "start": "2193839",
    "end": "2196839"
  }
]