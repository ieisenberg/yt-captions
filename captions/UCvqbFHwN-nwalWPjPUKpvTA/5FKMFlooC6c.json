[
  {
    "text": "all right uh welcome to building a more resilient future with Advanced cloud",
    "start": "599",
    "end": "5839"
  },
  {
    "text": "provider testing uh see I'm Bridget cromhout um I am a",
    "start": "5839",
    "end": "14440"
  },
  {
    "text": "product manager at Microsoft Azure and I'm a co-chair of Sig Club provider and",
    "start": "14440",
    "end": "21519"
  },
  {
    "text": "uh very active in a number of kubernetes related communities I think that I think",
    "start": "21519",
    "end": "28800"
  },
  {
    "text": "ELO and I overlap in at least two or three other communities as well yeah definitely you you definitely get into",
    "start": "28800",
    "end": "34480"
  },
  {
    "text": "several communities here uh my name is Michael mun and I'm a software engineer at Red Hat uh I am the other co-chair of",
    "start": "34480",
    "end": "41640"
  },
  {
    "text": "Sig cloud provider uh and I tend to work on cloud provider related things and I also maintain uh cluster autoscaler and",
    "start": "41640",
    "end": "48399"
  },
  {
    "text": "the new Carpenter cluster API provider so uh what are we going to talk",
    "start": "48399",
    "end": "55079"
  },
  {
    "text": "about today we're going to start by talking a little bit about the history of cloud providers in kubernetes",
    "start": "55079",
    "end": "60640"
  },
  {
    "text": "then we're going to talk about testing and why Cloud controllers uh make it",
    "start": "60640",
    "end": "66000"
  },
  {
    "text": "complicated and I think this is this is kind of the the high level overview like we will break down a lot more specifics",
    "start": "66000",
    "end": "73640"
  },
  {
    "text": "around how we're going to include more providers and testing but probably the the important thing to realize here is",
    "start": "73640",
    "end": "80520"
  },
  {
    "text": "that there's a lot going on in cloud provider testing but you don't have to work at a cloud provider to participate",
    "start": "80520",
    "end": "86560"
  },
  {
    "text": "in it so we're going to start by looking at a little kubernetes history lesson here",
    "start": "86560",
    "end": "93320"
  },
  {
    "text": "uh and we did a little research to look into the history of cloud providers in kubernetes to help set up the context",
    "start": "93320",
    "end": "99280"
  },
  {
    "text": "for what we're talking about today so back way way back in about two two 2016",
    "start": "99280",
    "end": "106600"
  },
  {
    "text": "late 2015 when 1.0 uh kubernetes was tagged cloud provider code existed in",
    "start": "106600",
    "end": "113040"
  },
  {
    "text": "kubernetes at that time and when I was looking back at this you know we saw the some of the big names that we're familiar with like you know your aws's",
    "start": "113040",
    "end": "119920"
  },
  {
    "text": "and your gcps uh but I thought it was interesting there was also a maos uh provider in there as well um I don't",
    "start": "119920",
    "end": "126320"
  },
  {
    "text": "know when that got removed but it was just interesting to see um and as we go forward we get up to the 1.13 release",
    "start": "126320",
    "end": "133599"
  },
  {
    "text": "and at this point when we look through the history of of git issues we can see the kubernetes community is already",
    "start": "133599",
    "end": "139560"
  },
  {
    "text": "starting to interrogate itself about should we have this cloud provider specific code in the core yeah and",
    "start": "139560",
    "end": "146760"
  },
  {
    "text": "that's I think that's the important point there is we realize is that there were pros and cons to everything but as",
    "start": "146760",
    "end": "153760"
  },
  {
    "text": "the proliferation of cloud providers continued it really didn't make sense to have it um embedded and mingled into the",
    "start": "153760",
    "end": "161159"
  },
  {
    "text": "core and we're thinking okay great so then we remove Club providers from core",
    "start": "161159",
    "end": "168400"
  },
  {
    "text": "and and then we're done right right right and and interestingly enough if",
    "start": "168400",
    "end": "173599"
  },
  {
    "text": "you look at the Timeline here you can see that in in about 2018 in the 113",
    "start": "173599",
    "end": "179239"
  },
  {
    "text": "release we cre cre cap 23.95 which was proposing the removal of this and it took us all the way until 2023 close to",
    "start": "179239",
    "end": "188000"
  },
  {
    "text": "2024 where we finally reached the stable state for this and now that code has",
    "start": "188000",
    "end": "193440"
  },
  {
    "text": "been removed but we still have a little bit of code left in some of the testing repositories and I just want to I'll",
    "start": "193440",
    "end": "200200"
  },
  {
    "text": "just give you a a warning now you might want to have your cameras ready this is a QR code Rich deck uh so you'll see a",
    "start": "200200",
    "end": "206080"
  },
  {
    "text": "lot of links to things this is a link to a retrospective we did after we completed the migration so maybe",
    "start": "206080",
    "end": "212200"
  },
  {
    "text": "something interesting to read about the whole process yeah and and we should say",
    "start": "212200",
    "end": "217400"
  },
  {
    "text": "by the way um in the retrospective I think one of the things that came up is like with the provider specific code",
    "start": "217400",
    "end": "223439"
  },
  {
    "text": "being removed that also opens up some opportunities for changing How We Do testing yeah absolutely so the question",
    "start": "223439",
    "end": "231799"
  },
  {
    "text": "is why is improving the testing important for us right and um you know",
    "start": "231799",
    "end": "237239"
  },
  {
    "text": "automated testing leads to earlier detection of bugs and regressions right and we've got a little graph after this",
    "start": "237239",
    "end": "242799"
  },
  {
    "text": "we can kind of show some of that um should it it's kind of fun just to even",
    "start": "242799",
    "end": "248079"
  },
  {
    "text": "ask people like does anyone actually believe that testing is important oh",
    "start": "248079",
    "end": "254439"
  },
  {
    "text": "yeah okay I think everyone probably does anybody believe testing is not important let's put it that way should we just um",
    "start": "254439",
    "end": "259880"
  },
  {
    "text": "does anybody like but the thing is even if we all believe testing is important committing to doing it is a very",
    "start": "259880",
    "end": "267320"
  },
  {
    "text": "different thing right and and currently the cloud provider testing we're doing",
    "start": "267320",
    "end": "272800"
  },
  {
    "text": "is uh Limited in in several ways and what we'd like to do is expand that and you can see here you know we're talking",
    "start": "272800",
    "end": "278680"
  },
  {
    "text": "about kind of documenting things making repeatable patterns and whatnot and I think you know what we believe this",
    "start": "278680",
    "end": "284199"
  },
  {
    "text": "contributes to is just better reliability and confidence for these new components that have now been taken out",
    "start": "284199",
    "end": "289560"
  },
  {
    "text": "of the tree yeah and it also makes for a more Equitable playing field because we want to make sure that all providers can",
    "start": "289560",
    "end": "297160"
  },
  {
    "text": "be um you know on a playing field and if you have consistent testing that lets",
    "start": "297160",
    "end": "304039"
  },
  {
    "text": "everyone see is my provider you know up to Snuff is it meeting where it needs to be that's a little better than saying oh",
    "start": "304039",
    "end": "310720"
  },
  {
    "text": "these are the providers that we've tested well and who knows about you we don't want to do that you're right we we",
    "start": "310720",
    "end": "316160"
  },
  {
    "text": "can't just say well we test on one or two providers and therefore we assume the rest of them work the way we",
    "start": "316160",
    "end": "321280"
  },
  {
    "text": "expect and the reason we might want to test is um kind of obvious when we look",
    "start": "321280",
    "end": "326520"
  },
  {
    "text": "at this graph right right right so first of all I I don't think he's in the room but shout out to Jordan liot for putting",
    "start": "326520",
    "end": "332680"
  },
  {
    "text": "together all this data for us uh not for us specifically but for the wider kubernetes community and this is looking",
    "start": "332680",
    "end": "338720"
  },
  {
    "text": "at uh regression fixes uh per minor release going back to",
    "start": "338720",
    "end": "344120"
  },
  {
    "text": "1.19 um and so I think you know obviously you can see we still have regressions we're still dealing with",
    "start": "344120",
    "end": "350240"
  },
  {
    "text": "this but I think the interesting thing is that as we come forward in time we're starting to see less and less and you",
    "start": "350240",
    "end": "356919"
  },
  {
    "text": "know I don't want to get into correlation and causation here but we certainly have improved tests over time and the general thinking is if we can do",
    "start": "356919",
    "end": "363400"
  },
  {
    "text": "more of this earlier in the process we can make this graph even better in the future and we might want to clarify what",
    "start": "363400",
    "end": "369880"
  },
  {
    "text": "people are looking at here um as every kubernetes release goes on um patch",
    "start": "369880",
    "end": "376000"
  },
  {
    "text": "releases come out over the you know year that a kubernetes release is being supported and if there's a regression in",
    "start": "376000",
    "end": "383800"
  },
  {
    "text": "a patch release that means that everyone who thought that they were good they thought that everything was okay okay",
    "start": "383800",
    "end": "389759"
  },
  {
    "text": "with that version of kubernetes that they were running suddenly something breaks that they weren't expecting that's not something that we want to do",
    "start": "389759",
    "end": "396720"
  },
  {
    "text": "like right it's pretty important to not do that right and and also we we have to think about then backports and whatnot",
    "start": "396720",
    "end": "402240"
  },
  {
    "text": "as well right so if we see a regression coming through several versions We have to make a serious calculation about how",
    "start": "402240",
    "end": "408000"
  },
  {
    "text": "far do we backport this and that might require backporting tests for the functionality as well to improve it and",
    "start": "408000",
    "end": "414919"
  },
  {
    "text": "if you if you've been to some of the Sig testing talks like backporting regressions through tests is is kind of sticky subject and so this is this is a",
    "start": "414919",
    "end": "422080"
  },
  {
    "text": "I would say this is a sidebar that'll be a whole different talk so we won't go into detail about it here but when you",
    "start": "422080",
    "end": "427400"
  },
  {
    "text": "think to yourself why is it that nobody will let me backport this simple bug fix I really just want to backport it to all",
    "start": "427400",
    "end": "434599"
  },
  {
    "text": "of the currently supportive versions of kubernetes because hashtag probably fine",
    "start": "434599",
    "end": "439680"
  },
  {
    "text": "um it might not be fine and they might be saying there's possibilities that",
    "start": "439680",
    "end": "445120"
  },
  {
    "text": "that could break something in the past that we really don't want to do yeah cuz we've done that a",
    "start": "445120",
    "end": "450759"
  },
  {
    "text": "bunch so uh there's a lot of testing that goes on kubernetes a lot of different areas what makes testing Cloud",
    "start": "450759",
    "end": "457520"
  },
  {
    "text": "providers so complex I feel like that one is really",
    "start": "457520",
    "end": "463039"
  },
  {
    "text": "fascinating because you can imagine if you say oh we have to have an endpoint",
    "start": "463039",
    "end": "468240"
  },
  {
    "text": "we have to have a test um please add some tests when people tell you please add some tests and you're thinking cool",
    "start": "468240",
    "end": "475000"
  },
  {
    "text": "I can add an endpoint it could return 200 okay I mean that's an answer right it's like well maybe it's not the answer",
    "start": "475000",
    "end": "482360"
  },
  {
    "text": "you want to return like what's the purpose of the test right right and and with the cloud controllers where this",
    "start": "482360",
    "end": "489039"
  },
  {
    "text": "becomes really interesting is that every cloud is going to operate in a slightly different manner but the cloud",
    "start": "489039",
    "end": "494680"
  },
  {
    "text": "controllers bring some uh semblance of consistency to the behavior and so we want on one hand on the kubernetes side",
    "start": "494680",
    "end": "501520"
  },
  {
    "text": "we want the cloud controllers to be accurately reporting things like life cycle controls when instances disappear",
    "start": "501520",
    "end": "508039"
  },
  {
    "text": "in the cloud but that requires very specific code to speak to that cloud to",
    "start": "508039",
    "end": "513440"
  },
  {
    "text": "understand how to remove an instance to create the test and then how to detect that it's gone so each provider is going",
    "start": "513440",
    "end": "519919"
  },
  {
    "text": "to need custom code to kind of create these conditions and then Additionally you have to be running those tests on",
    "start": "519919",
    "end": "527160"
  },
  {
    "text": "that provider yeah and another example would be like managing service back load balancers it's going to vary between",
    "start": "527160",
    "end": "533760"
  },
  {
    "text": "providers and so that's not something that can be either codewise in upstream kubernetes or tested in the Upstream",
    "start": "533760",
    "end": "540120"
  },
  {
    "text": "kubernetes test grid right absolutely and some providers may not even have things like uh like load balancing",
    "start": "540120",
    "end": "546640"
  },
  {
    "text": "services and what not so you there might not be anything like that and I think that this is kind of an interesting",
    "start": "546640",
    "end": "553640"
  },
  {
    "text": "question it's maybe a philosophical question is like where should the new custom code live right so we we've just",
    "start": "553640",
    "end": "562000"
  },
  {
    "text": "pulled all of this custom code out of kubernetes we're not going to just put it back in for the testing so uh what",
    "start": "562000",
    "end": "569519"
  },
  {
    "text": "are we proposing then I mean honestly it's this exciting the exciting future",
    "start": "569519",
    "end": "575640"
  },
  {
    "text": "that you can help build um is the next generation of cloud providers because if",
    "start": "575640",
    "end": "581200"
  },
  {
    "text": "we're thinking at this point if we're we we basically want one interface",
    "start": "581200",
    "end": "587279"
  },
  {
    "text": "to rule them all and in the darkness behind them right absolutely yeah yeah no for sure and and",
    "start": "587279",
    "end": "594160"
  },
  {
    "text": "so the way that we want to do this is follow some of the other patterns in kubernetes like uh the container storage",
    "start": "594160",
    "end": "600360"
  },
  {
    "text": "interface or the container network interface where we can have a common set of tests that live in the kubernetes",
    "start": "600360",
    "end": "605720"
  },
  {
    "text": "repository that the entire Community can agree on in terms of the behavior we'd like to see and then we can allow each",
    "start": "605720",
    "end": "612600"
  },
  {
    "text": "cloud provider to control their own implementation of how those tests are expressed so the tests get run the same",
    "start": "612600",
    "end": "619680"
  },
  {
    "text": "for everyone but each cloud provider could create their interface so that it runs on their Cloud the way we expect so",
    "start": "619680",
    "end": "626880"
  },
  {
    "text": "that gives you the best of both worlds um because then that also and this is",
    "start": "626880",
    "end": "632360"
  },
  {
    "text": "really important for anybody who's ever said why are there flaky tests that are slowing things down or using too many",
    "start": "632360",
    "end": "637959"
  },
  {
    "text": "Cloud resources um is we don't want kubernetes itself or the kubernetes release itself to depend on these",
    "start": "637959",
    "end": "644720"
  },
  {
    "text": "external repositories right yeah exactly and so we don't want to have code that lives in the main kubernetes repository",
    "start": "644720",
    "end": "652160"
  },
  {
    "text": "that is cloud provider specific that might lead us to a blocking condition where now the release is blocked based",
    "start": "652160",
    "end": "658600"
  },
  {
    "text": "on some very specific activity and you know we'll have to find an expert to debug it and you know all that lovely stuff and we went to all the effort of",
    "start": "658600",
    "end": "665240"
  },
  {
    "text": "having the infrastructure be Community controlled so we want that to be what Gates the release right",
    "start": "665240",
    "end": "672399"
  },
  {
    "text": "absolutely so what will this actually mean though right like we just mentioned",
    "start": "672399",
    "end": "677680"
  },
  {
    "text": "we'll have a consistent set of tests that could be run on every cloud provider and we can expect the same",
    "start": "677680",
    "end": "683720"
  },
  {
    "text": "behavior to come out of them um and it's important to note that the tests I'm talking here are not part of the",
    "start": "683720",
    "end": "689680"
  },
  {
    "text": "official conformance Suite right these are just part of the endtoend tests the conformance tests are largely focused on",
    "start": "689680",
    "end": "697560"
  },
  {
    "text": "provider agnostic behaviors so this would not be included in the official conformance Suite but this would be",
    "start": "697560",
    "end": "703720"
  },
  {
    "text": "included in the end to end test for kubernetes yeah and each provider can run the tests on their own just to gain",
    "start": "703720",
    "end": "710760"
  },
  {
    "text": "confidence in their leases right so what we're really proposing here is that each cloud provider will own an",
    "start": "710760",
    "end": "716600"
  },
  {
    "text": "implementation of the interface that allows their tests to run in their cloud provider repo so those developers and",
    "start": "716600",
    "end": "724279"
  },
  {
    "text": "maintainers can accelerate or or keep their own Cadence that doesn't necessarily have to be dependent on the",
    "start": "724279",
    "end": "729959"
  },
  {
    "text": "kubernetes repo and then like you said they can run the test on their own and exercise them and and get good results",
    "start": "729959",
    "end": "735760"
  },
  {
    "text": "and then bring it back to the community yeah and I mean if they want to there are Pathways to like you know involve",
    "start": "735760",
    "end": "742279"
  },
  {
    "text": "their tests and infrastructure into the kubernetes community processes more on",
    "start": "742279",
    "end": "747760"
  },
  {
    "text": "that later yeah absolutely and that's something that I mean I'm kind of excited about as as an optimist looking",
    "start": "747760",
    "end": "754279"
  },
  {
    "text": "forward so which uh which kind of tests are we talking about here I feel like this I I immediately",
    "start": "754279",
    "end": "761760"
  },
  {
    "text": "I'm not a visual learner so I immediately look at this and I think what am I looking at what does this mean",
    "start": "761760",
    "end": "766959"
  },
  {
    "text": "why are there so many clouds what is happening yeah right right exactly so I put this slide in here uh to help for",
    "start": "766959",
    "end": "773279"
  },
  {
    "text": "people who might want to visualize what this looks like and so what in the center Center is we see kubernetes",
    "start": "773279",
    "end": "778680"
  },
  {
    "text": "kubernetes at GitHub and that is the repository for all the kubernetes code",
    "start": "778680",
    "end": "783760"
  },
  {
    "text": "and all the test code so the test code lives there as well as a definition of the cloud provider interface to the",
    "start": "783760",
    "end": "790639"
  },
  {
    "text": "testing then we have separate repositories cloud provider AWS cloud provider Azure those are maintained by",
    "start": "790639",
    "end": "797880"
  },
  {
    "text": "the individual project teams the implementation of the interface will live in those repositories yeah",
    "start": "797880",
    "end": "805160"
  },
  {
    "text": "absolutely and that that really helps us see how it would go but let's go deep right so how does this actually become a",
    "start": "805160",
    "end": "812040"
  },
  {
    "text": "test then so I'm I'm using open stack as an example here um so we take the",
    "start": "812040",
    "end": "817320"
  },
  {
    "text": "kubernetes on the all the way on the left you see the kubernetes kubernetes repo and the cloud provider openstack",
    "start": "817320",
    "end": "822480"
  },
  {
    "text": "repo though basically the tests are compiled from the cloud provider openstack repo with a dependency on the",
    "start": "822480",
    "end": "829160"
  },
  {
    "text": "main kubernetes repo so kubernetes does not depend on the external cloud provider it's the other way around yeah",
    "start": "829160",
    "end": "835079"
  },
  {
    "text": "and it's I think that's important especially when you start saying repo people are thinking about GitHub and they're like wait sub subm modules what",
    "start": "835079",
    "end": "841920"
  },
  {
    "text": "and it's like no no it's dependency right just pure dependency this doesn't require any sort of special knitting",
    "start": "841920",
    "end": "846959"
  },
  {
    "text": "together of the repositories so through a compilation process you end up with a",
    "start": "846959",
    "end": "852800"
  },
  {
    "text": "test binary that contains uh or the you end up with a binary that contains the tests for that specific Cloud uh",
    "start": "852800",
    "end": "860519"
  },
  {
    "text": "controller then and this this is the part that uh we were just talking about kind of optimistically that workload",
    "start": "860519",
    "end": "867839"
  },
  {
    "text": "needs to be run on a kubernetes running on that infrastructure so in this case",
    "start": "867839",
    "end": "873199"
  },
  {
    "text": "we need an openstack deployed kubernetes that we can run the cloud controller on because it's not going to work if we run",
    "start": "873199",
    "end": "879839"
  },
  {
    "text": "it on Azure yeah yeah exactly and by the way I think it's worth noting that this",
    "start": "879839",
    "end": "885560"
  },
  {
    "text": "process that we're describing here would all be running through the cube CI system yeah absolutely so what we want",
    "start": "885560",
    "end": "892399"
  },
  {
    "text": "to do is get to the point where we can define a process that this can run through the same you know presubmit post",
    "start": "892399",
    "end": "898199"
  },
  {
    "text": "submit periodic uh that we all love and in that respect we can really get this further into the",
    "start": "898199",
    "end": "904279"
  },
  {
    "text": "uh into the Upstream maintenance process yeah and that means there is there's froze and cons because there's limited",
    "start": "904279",
    "end": "910160"
  },
  {
    "text": "storage for artifacts obviously but then there's also history to look at so yeah",
    "start": "910160",
    "end": "915720"
  },
  {
    "text": "so let's look at a little bit more yeah so yeah let's get into observing the history how how many people here are",
    "start": "915720",
    "end": "920800"
  },
  {
    "text": "familiar with this view of test grid yeah we got some testd users so what",
    "start": "920800",
    "end": "925839"
  },
  {
    "text": "we're looking at here is something called test grid and uh the QR code here will take you to this page and this is",
    "start": "925839",
    "end": "932000"
  },
  {
    "text": "the page that we look at uh as a Sig because this is showing us uh the gcp",
    "start": "932000",
    "end": "937600"
  },
  {
    "text": "periodic tests for cloud controllers and in this case uh this looks pretty good",
    "start": "937600",
    "end": "942800"
  },
  {
    "text": "everything's green and you can see on the leftand side it's it's really difficult to read but those are all different names of tests and on the",
    "start": "942800",
    "end": "949800"
  },
  {
    "text": "right hand side are dates and times that link up with specific test runs and",
    "start": "949800",
    "end": "955120"
  },
  {
    "text": "don't worry about it being difficult to read because that QR code will take you right to the actual one and you can go look at it yourself right you can",
    "start": "955120",
    "end": "961399"
  },
  {
    "text": "explore through these and you know who knows I took this picture early when we were making the slide decks and then I",
    "start": "961399",
    "end": "967120"
  },
  {
    "text": "went back and took another picture to add another slide and we found some errors that came up and I think that",
    "start": "967120",
    "end": "973079"
  },
  {
    "text": "that's important to think about too because of what you're what you're looking at when you're looking at test",
    "start": "973079",
    "end": "978279"
  },
  {
    "text": "grid is it shows you historical data it shows you patterns it shows you the ways that you can investigate failures and so",
    "start": "978279",
    "end": "985800"
  },
  {
    "text": "I think that that's it's valuable just to step through some of how would we look at a failure right and so this I",
    "start": "985800",
    "end": "991839"
  },
  {
    "text": "took this picture to try and illustrate and it might be difficult to see but there's a little black smudge up there which is the uh which is the mouse",
    "start": "991839",
    "end": "999160"
  },
  {
    "text": "cursor over that one F that's on the top line and you can see across the top it's",
    "start": "999160",
    "end": "1004480"
  },
  {
    "text": "telling us there's a failure uh and we can we can click through to see what",
    "start": "1004480",
    "end": "1009519"
  },
  {
    "text": "that failure was and what test failed before I do that though I just want to shout out a call a talk from some of our",
    "start": "1009519",
    "end": "1016240"
  },
  {
    "text": "colleagues uh Ben and Antonio and Michelle and this is one of the magical things by the way about being late in",
    "start": "1016240",
    "end": "1022000"
  },
  {
    "text": "the conference is you can literally do shout outs to talks earlier in the conference right right so they just gave",
    "start": "1022000",
    "end": "1027600"
  },
  {
    "text": "a talk in this room about two hours ago about achieving and maintaining a healthy CI with zero test Flakes and if",
    "start": "1027600",
    "end": "1034360"
  },
  {
    "text": "you're curious about how things like test grid work and how it all plums together in the testing and everything",
    "start": "1034360",
    "end": "1040319"
  },
  {
    "text": "please watch that talk and by the way if you're thinking oh I don't know if there's a test flake it'll just rerun",
    "start": "1040319",
    "end": "1045959"
  },
  {
    "text": "right why is that bad right so part of the reason that's bad is as a developer",
    "start": "1045959",
    "end": "1052679"
  },
  {
    "text": "and this is something I experienced you know I think it's just related to distributed systems I've been seeing it since the openstack days and probably",
    "start": "1052679",
    "end": "1058880"
  },
  {
    "text": "others have seen it earlier than that but as a developer if I see that a test is failing and then I click you know run",
    "start": "1058880",
    "end": "1064600"
  },
  {
    "text": "the test again because I I can't see where my code is failing and then this time it succeeds that might have been what we",
    "start": "1064600",
    "end": "1070840"
  },
  {
    "text": "call a flake some Network condition occurred maybe uh some endpoint failed or something and not only is that",
    "start": "1070840",
    "end": "1077400"
  },
  {
    "text": "frustrating for Developers and maintainers because it's very difficult to triage you know what the flake was",
    "start": "1077400",
    "end": "1083360"
  },
  {
    "text": "it's also expensive it's such a waste of resources because we have um Community",
    "start": "1083360",
    "end": "1089240"
  },
  {
    "text": "Resources that your all your large providers are putting money into to make sure that and may putting resources into",
    "start": "1089240",
    "end": "1096360"
  },
  {
    "text": "and so we don't want to waste them and just rerunning the same test if we don't have to right and and this is something",
    "start": "1096360",
    "end": "1102400"
  },
  {
    "text": "I saw you know like I said back in the openstack days and I think some of this Behavior carries along with distributed",
    "start": "1102400",
    "end": "1108039"
  },
  {
    "text": "you know system testing developers get in the mindset where they're like well if I see a failure the first thing I'm",
    "start": "1108039",
    "end": "1113159"
  },
  {
    "text": "going to do is retest this thing like five or six times to see was it a flake have it cost five or six times as much",
    "start": "1113159",
    "end": "1118840"
  },
  {
    "text": "what could go wrong right and and if it succeeded once out of those five then I might say okay that my code works now",
    "start": "1118840",
    "end": "1124840"
  },
  {
    "text": "right but why did it fail the other five times and that's you know yeah exactly",
    "start": "1124840",
    "end": "1129919"
  },
  {
    "text": "so yeah watch that other talk they were going into how we can reduce Flakes and how we can identify them and everything",
    "start": "1129919",
    "end": "1135240"
  },
  {
    "text": "I love that they they were basically just giving us a good little thing to add to talk yeah to it was perfect front",
    "start": "1135240",
    "end": "1140320"
  },
  {
    "text": "runner for sure so what happens when we click on this failure then uh that",
    "start": "1140320",
    "end": "1145480"
  },
  {
    "text": "brings us to these prow logs uh how many people here are familiar with prow I",
    "start": "1145480",
    "end": "1150720"
  },
  {
    "text": "yeah okay okay a couple folks prow is one of the main interfaces we use to aggregate the test results and you can",
    "start": "1150720",
    "end": "1158080"
  },
  {
    "text": "see here there was a failed test uh it's got a little interface that you can click through and you can actually see",
    "start": "1158080",
    "end": "1163880"
  },
  {
    "text": "the lines of code where the test failed yeah and this this is basically how any",
    "start": "1163880",
    "end": "1169320"
  },
  {
    "text": "of the maintainers are probably triaging failing tests ultimately hopefully fixing them and plugging into this",
    "start": "1169320",
    "end": "1176520"
  },
  {
    "text": "Automation and um is a good way to actually start connecting to the community just seeing what's happening",
    "start": "1176520",
    "end": "1183080"
  },
  {
    "text": "right absolutely and you don't need to investigate test grid to find these prow uh these prow interfaces if you look at",
    "start": "1183080",
    "end": "1189600"
  },
  {
    "text": "pull requests on individual projects you'll see test reports at the bottom and those test reports will link through",
    "start": "1189600",
    "end": "1196039"
  },
  {
    "text": "to these same prow Pages yeah absolutely Ely so going back to Cloud controllers",
    "start": "1196039",
    "end": "1202919"
  },
  {
    "text": "let's look specifically at what do we need to test and Cloud controller functionality has three main areas",
    "start": "1202919",
    "end": "1209440"
  },
  {
    "text": "they're not overly complicated these are you know just the general functionality so one is the node controller and that",
    "start": "1209440",
    "end": "1216000"
  },
  {
    "text": "uh does things like it it copies over the metadata information from the cloud like the host name the region it's in uh",
    "start": "1216000",
    "end": "1222840"
  },
  {
    "text": "the IP addresses uh and it also has a life cycle controller as well that can",
    "start": "1222840",
    "end": "1228039"
  },
  {
    "text": "keep up to date with the instance termination status which is going to vary based on the provider and so that's",
    "start": "1228039",
    "end": "1233600"
  },
  {
    "text": "something that you want to be able to see right exactly you're going to need uh you know just different code to do all those interactions and and if you",
    "start": "1233600",
    "end": "1240240"
  },
  {
    "text": "want to test those things then you know it's going to be different on every cloud and you can see some of this code now in the kubernetes test that exists",
    "start": "1240240",
    "end": "1247039"
  },
  {
    "text": "as as scripts on how do you delete an instance on AWS or gcp or Azure so that",
    "start": "1247039",
    "end": "1252520"
  },
  {
    "text": "you can properly test this thing yeah also service tests so load balancers St",
    "start": "1252520",
    "end": "1258919"
  },
  {
    "text": "Services if you're running on a cloud that supports this and the cloud controller manager is doing it you can",
    "start": "1258919",
    "end": "1265080"
  },
  {
    "text": "actually connect those services to elastic load balancing that happens inside the infrastructure again you're",
    "start": "1265080",
    "end": "1271440"
  },
  {
    "text": "going to need to do special code to make sure when I create a service in kubernetes does the load balancer",
    "start": "1271440",
    "end": "1277480"
  },
  {
    "text": "actually appear in the cloud and so that's going to require again specialized code to investigate",
    "start": "1277480",
    "end": "1282640"
  },
  {
    "text": "everything that happens there and then lastly there's a route controller and this uh really helps with uh inter",
    "start": "1282640",
    "end": "1288880"
  },
  {
    "text": "interc container communication not every cloud much like the service controller not every cloud implements a route",
    "start": "1288880",
    "end": "1294640"
  },
  {
    "text": "controller um and they're not used by everyone so these might be optional depending on what your provider is yeah",
    "start": "1294640",
    "end": "1300480"
  },
  {
    "text": "and we by the way you note that there is a note on the slide about additional tests and I think that's that's",
    "start": "1300480",
    "end": "1306440"
  },
  {
    "text": "important for um Cloud uh controllers that might deploy extra controllers like",
    "start": "1306440",
    "end": "1313279"
  },
  {
    "text": "for example aure node manager right exactly so this is something that is going to get uh really interesting in",
    "start": "1313279",
    "end": "1319440"
  },
  {
    "text": "these tests right so we're talking about a common set of tests that we can run but on some Cloud controllers they might",
    "start": "1319440",
    "end": "1325039"
  },
  {
    "text": "need to to deploy extra things like the Azure node manager and so Something That We're keenly interested in investigating",
    "start": "1325039",
    "end": "1332039"
  },
  {
    "text": "is if we have core tests that can be run from the kubernetes repo can we also",
    "start": "1332039",
    "end": "1337480"
  },
  {
    "text": "make a plugin where you know the Azure Cloud controller could have its own test to make sure that the node manager is",
    "start": "1337480",
    "end": "1344000"
  },
  {
    "text": "working the way you expected to yeah and it's like extra binaries that aren't part of the core CCM yeah right right",
    "start": "1344000",
    "end": "1350960"
  },
  {
    "text": "and this is this is where we're going to get into kind of the configuration of each Cloud controller you know they'll be they'll have to be a way for the",
    "start": "1350960",
    "end": "1357799"
  },
  {
    "text": "individual maintainers to express those configurations and so you can kind of imagine that one of the calls to action",
    "start": "1357799",
    "end": "1363720"
  },
  {
    "text": "here is we're going to need people with expertise in all of the various clouds to review the tests that we're proposing",
    "start": "1363720",
    "end": "1370480"
  },
  {
    "text": "for this to make sure they actually make sense right right so how can you all out there get",
    "start": "1370480",
    "end": "1377320"
  },
  {
    "text": "involved um well we've got two links here the link on the left is a draft very very draft",
    "start": "1377320",
    "end": "1383919"
  },
  {
    "text": "very very I want to I I can't put enough varies in front of I want to say it's on hackmd it is on hackmd right now because",
    "start": "1383919",
    "end": "1389840"
  },
  {
    "text": "I just I wanted to get something up to start expressing what we're talking about uh but you can help us refine that",
    "start": "1389840",
    "end": "1395240"
  },
  {
    "text": "draft and this is a a c that so if you're thinking I've always wanted to be part of a kubernetes enhancement where",
    "start": "1395240",
    "end": "1402000"
  },
  {
    "text": "do I start turns out you could bring your questions and expertise and ideas",
    "start": "1402000",
    "end": "1408159"
  },
  {
    "text": "to the this Draft cap that we're getting started on about improving testing right and Now's the Time to get in this is the",
    "start": "1408159",
    "end": "1414880"
  },
  {
    "text": "ground floor we haven't started writing code yet we're trying to figure out the design so this is a great time to if you",
    "start": "1414880",
    "end": "1420799"
  },
  {
    "text": "want to kind of experience the life cycle of something like this and just like literally go in and add some comments on the hackmd before we even",
    "start": "1420799",
    "end": "1426919"
  },
  {
    "text": "put it in as a get a poll request and then come in and put you know issues and comments and um whatnot on the poll",
    "start": "1426919",
    "end": "1433960"
  },
  {
    "text": "request right and so something else we're going to need as well though is we're going to need people to implement",
    "start": "1433960",
    "end": "1439760"
  },
  {
    "text": "the test interfaces for each cloud provider so if you have expertise on on a cloud provider or multiple Cloud",
    "start": "1439760",
    "end": "1446000"
  },
  {
    "text": "providers you know your input will be invaluable in terms of helping us uh you know make these interfaces and also to",
    "start": "1446000",
    "end": "1453039"
  },
  {
    "text": "review them and this is all public and open source so it does require some amount of immersing yourself in the open",
    "start": "1453039",
    "end": "1459880"
  },
  {
    "text": "source cloud provider code but it does not require you to be a subject matter expert or employed by any specific",
    "start": "1459880",
    "end": "1465640"
  },
  {
    "text": "company right absolutely and I think that's a great point that I I'll take a little detour here to dive into because",
    "start": "1465640",
    "end": "1471480"
  },
  {
    "text": "I think I talk to a lot of people who are curious about Sig cloud provider and I think there's a there's this",
    "start": "1471480",
    "end": "1476559"
  },
  {
    "text": "impression that's like I need to I need to be working for you know this this",
    "start": "1476559",
    "end": "1481799"
  },
  {
    "text": "company or that company to be able to make a meaningful contribution here and although yes many people are employed by",
    "start": "1481799",
    "end": "1487960"
  },
  {
    "text": "providers and they contribute their time in that way I think if if you in if you are just passionate about a platform and",
    "start": "1487960",
    "end": "1493480"
  },
  {
    "text": "you know these things you know we are absolutely open doors for anyone who gets wants to get involved so you know",
    "start": "1493480",
    "end": "1499840"
  },
  {
    "text": "on the right hand side of the QRS here is the current tests like I definitely advise people to take a look at what we",
    "start": "1499840",
    "end": "1505960"
  },
  {
    "text": "have there now and and help us to think about how we're going to make those better in the future yeah and we we're",
    "start": "1505960",
    "end": "1513399"
  },
  {
    "text": "kind of going down this list and just saying like when we get to the part about integrating the test into the cube",
    "start": "1513399",
    "end": "1519840"
  },
  {
    "text": "C I mean that's probably something that will require a discussion both between providers and between the kubernetes",
    "start": "1519840",
    "end": "1527120"
  },
  {
    "text": "like you know infrastructure Community right and that leads us to if you would like to",
    "start": "1527120",
    "end": "1533640"
  },
  {
    "text": "contribute your infrastructure um there is a great way to do this you can start by reaching out to projects at cncf doio",
    "start": "1533640",
    "end": "1541960"
  },
  {
    "text": "um and start a conversation with the cncf because this is the way that you're going to be able to contribute uh",
    "start": "1541960",
    "end": "1547640"
  },
  {
    "text": "infrastructure that you might control um and you'll need to reach some sort of commitment with you know with the cncf",
    "start": "1547640",
    "end": "1553120"
  },
  {
    "text": "but that that's kind of the negotiating process here yeah and it is um and you know I work for a cloud provider and so",
    "start": "1553120",
    "end": "1560120"
  },
  {
    "text": "I can definitely tell you that it's very important for um the kubernetes infrastructure team to have the ability",
    "start": "1560120",
    "end": "1566799"
  },
  {
    "text": "to observe the usage costs against a budget uh this is not uh and there also needs to be technical contacts in place",
    "start": "1566799",
    "end": "1573720"
  },
  {
    "text": "agreements Etc but that said this is definitely a way to make sure that your provider is tested according to your",
    "start": "1573720",
    "end": "1580279"
  },
  {
    "text": "needs absolutely and I think you know it's important to you know it's",
    "start": "1580279",
    "end": "1585960"
  },
  {
    "text": "important to understand some of these relationships that you're going to be building because absolutely the kubernetes infro team does not want to",
    "start": "1585960",
    "end": "1592520"
  },
  {
    "text": "overspend with the uh the contribution that you're making right so to what",
    "start": "1592520",
    "end": "1597880"
  },
  {
    "text": "Bridget was saying the INF team is going to need the ability to observe costs within their account that they're using",
    "start": "1597880",
    "end": "1603880"
  },
  {
    "text": "and they'll also they'll also need technical contacts inside the the provider so that if something goes wrong",
    "start": "1603880",
    "end": "1609559"
  },
  {
    "text": "they have good access to experts who can help them to debug and triage yeah and if you're saying like Okay well that's",
    "start": "1609559",
    "end": "1616840"
  },
  {
    "text": "cool I'm not a cloud provider so that's not relevant to me honestly just back to the proposing improvements to existing",
    "start": "1616840",
    "end": "1623120"
  },
  {
    "text": "tests is super important right so if you would like to contribute your time uh",
    "start": "1623120",
    "end": "1629000"
  },
  {
    "text": "these are some links that might help you out in that respect so the link on the left is the link to our Sig cloud provider information you can find out",
    "start": "1629000",
    "end": "1635880"
  },
  {
    "text": "how to contact us how to come to our meetings uh maybe how to bug Bridget and I directly uh there's all sorts of",
    "start": "1635880",
    "end": "1642240"
  },
  {
    "text": "different methods for communication in there and I think that like looking at the modular Cloud controller manager",
    "start": "1642240",
    "end": "1647919"
  },
  {
    "text": "test in background document and then putting your comments in about where you think we're missing things we are",
    "start": "1647919",
    "end": "1654279"
  },
  {
    "text": "absolutely not going to be the only people who have ideas about what should be tested or why or exactly what is",
    "start": "1654279",
    "end": "1661279"
  },
  {
    "text": "useful to you like you're the only people who can say this is what would be useful to us so we really need your",
    "start": "1661279",
    "end": "1667640"
  },
  {
    "text": "insights there yeah and you know this is where as a Sig you know I I speaking for",
    "start": "1667640",
    "end": "1672840"
  },
  {
    "text": "myself and I I I think I can speak for Bridget on this one too is we're completely invested in the open source method ology here and we want to",
    "start": "1672840",
    "end": "1679720"
  },
  {
    "text": "collaborate and if you've got ideas please come and share them with us because we try to build an inclusive",
    "start": "1679720",
    "end": "1685760"
  },
  {
    "text": "community and we try to hear everyone out and make the best decisions uh you know for the kubernetes absolutely all",
    "start": "1685760",
    "end": "1692960"
  },
  {
    "text": "right so uh I guess we got to the end here and I think we might have some time for questions looks like about six",
    "start": "1692960",
    "end": "1698919"
  },
  {
    "text": "minutes uh this is what I call the QR storm uh slide so this is kind of some",
    "start": "1698919",
    "end": "1704720"
  },
  {
    "text": "you can see the migration retrospective here uh a little bit of back ground material on modular CC I'm testing this",
    "start": "1704720",
    "end": "1710480"
  },
  {
    "text": "was how we started the conversation about a year ago the draft enhancement and then lastly how you can get in touch",
    "start": "1710480",
    "end": "1716960"
  },
  {
    "text": "with the Sig yeah absolutely and if you say I almost feel like the migration retro is something we passed over a",
    "start": "1716960",
    "end": "1723360"
  },
  {
    "text": "little bit at the beginning but we maybe didn't say why would somebody want to read that yeah that's you know so if",
    "start": "1723360",
    "end": "1729760"
  },
  {
    "text": "you're curious about how this whole thing happened over the course of what seven years or something oh we've been",
    "start": "1729760",
    "end": "1736640"
  },
  {
    "text": "doing this so long that retrospective is really telling a story and it's telling a story about how we as a community and",
    "start": "1736640",
    "end": "1744279"
  },
  {
    "text": "a project and and maintainers came together to make a really big change in the code and it was difficult and it was",
    "start": "1744279",
    "end": "1751039"
  },
  {
    "text": "complex and yes it took us a while but we wanted to reflect on what it meant to do that change with the hope that it",
    "start": "1751039",
    "end": "1758399"
  },
  {
    "text": "will help people understand our community but also maybe inform the next time we have to do something like this and I think that there's also some value",
    "start": "1758399",
    "end": "1764919"
  },
  {
    "text": "there in that big choice of moving from in tree to out of tree uh maybe not",
    "start": "1764919",
    "end": "1771480"
  },
  {
    "text": "something you don't have to do it probably now for a cloud provider because we did it but there are almost certainly technical projects in which",
    "start": "1771480",
    "end": "1777760"
  },
  {
    "text": "you will have to make a big change that big left turn where you have to figure",
    "start": "1777760",
    "end": "1783039"
  },
  {
    "text": "out what to decouple and what to take apart so there could be some actionable takeaways for people there just on their",
    "start": "1783039",
    "end": "1788559"
  },
  {
    "text": "Pro in general absolutely yeah for sure and I think you know I so you know I do a lot of work in the cloud provider",
    "start": "1788559",
    "end": "1793679"
  },
  {
    "text": "space and just Cloud infrastructure in general and this is a design p pattern that comes up frequently when people are",
    "start": "1793679",
    "end": "1799640"
  },
  {
    "text": "creating operators uh for kubernetes you might create an operator and say you know what I've got this great tool it",
    "start": "1799640",
    "end": "1805840"
  },
  {
    "text": "does this really cool stuff on kubernetes but I want it to run on every cloud and I want it to have special",
    "start": "1805840",
    "end": "1811480"
  },
  {
    "text": "interaction on every cloud right so when you create that operator you might start to think you know what I'll just make a",
    "start": "1811480",
    "end": "1817880"
  },
  {
    "text": "subdirectory for every different Cloud that I want to run on and I'll put the code in here right oh boy well in some",
    "start": "1817880",
    "end": "1825240"
  },
  {
    "text": "cases that might work but in other cases it might not hopefully this retrospective would give you perspective",
    "start": "1825240",
    "end": "1831240"
  },
  {
    "text": "then on do I want to make this kind of decision or not absolutely so yeah there's a lot here and um if you choose",
    "start": "1831240",
    "end": "1840080"
  },
  {
    "text": "one action to take after this talk I would say take a look at the Sig cloud provider info um come join us on",
    "start": "1840080",
    "end": "1847120"
  },
  {
    "text": "kubernetes slack uh come to our you know meetings and figure out which and talk",
    "start": "1847120",
    "end": "1853200"
  },
  {
    "text": "to us about what you're interested in because then we can figure out which places we can get you plugged in and",
    "start": "1853200",
    "end": "1859240"
  },
  {
    "text": "contributing yeah I could have said it better all right thank you yeah thank",
    "start": "1859240",
    "end": "1865840"
  },
  {
    "text": "you we got a couple minutes for questions if anybody has one I think we do have a couple minutes if people have",
    "start": "1865840",
    "end": "1872039"
  },
  {
    "text": "questions um I don't know do we have mics back there yeah yeah I think we do",
    "start": "1872039",
    "end": "1877440"
  },
  {
    "text": "have some mics on stands back there if people feel motivated to walk to um a",
    "start": "1877440",
    "end": "1883279"
  },
  {
    "text": "microphone it's pretty quiet in here it is pretty quiet in here but I would have to hand people I can hand people a mic",
    "start": "1883279",
    "end": "1888760"
  },
  {
    "text": "as well if people want to ask questions um we just want to capture it for the recording yeah yeah I mean if you want",
    "start": "1888760",
    "end": "1894720"
  },
  {
    "text": "to shout it we'll repeat it before I can bring a mic over if you'd like who who's got questions let's see your hands oh",
    "start": "1894720",
    "end": "1901120"
  },
  {
    "text": "come on yeah you have to ask a question now that you said that that that that question that was the question uh thank",
    "start": "1901120",
    "end": "1908120"
  },
  {
    "text": "you this is great well thank thank you thank you all right then well I guess if there's no",
    "start": "1908120",
    "end": "1914960"
  },
  {
    "text": "questions uh enjoy what remains of your Cube hopefully we can Savor the last few",
    "start": "1914960",
    "end": "1920639"
  },
  {
    "text": "uh delicious bites before it all ends thank you so much thanks",
    "start": "1920639",
    "end": "1927960"
  }
]