[
  {
    "text": "good morning everybody Welcome to our panel discussion on cloud computing's",
    "start": "4799",
    "end": "9900"
  },
  {
    "text": "first economic recession let's talk platform efficiency and let me ask by uh start by asking a",
    "start": "9900",
    "end": "18420"
  },
  {
    "text": "question how many of you have a mild efficiency Panic at your companies at",
    "start": "18420",
    "end": "25199"
  },
  {
    "text": "your organizations all right so you're at the right place uh we are a group of end users and we",
    "start": "25199",
    "end": "34200"
  },
  {
    "text": "also have a efficiency Panic at work and we've been spending some time doing",
    "start": "34200",
    "end": "41760"
  },
  {
    "text": "optimizations and figuring out what's the best way to make the platform efficient and",
    "start": "41760",
    "end": "48239"
  },
  {
    "text": "um back in the day it used to be capital expenditure like you'd have a data center the spend was predictable and",
    "start": "48239",
    "end": "55739"
  },
  {
    "text": "these days with the move to Cloud it's a pay as you go model and it's really",
    "start": "55739",
    "end": "60800"
  },
  {
    "text": "becoming a Opex operational expense and impacting uh companies greatly so I",
    "start": "60800",
    "end": "68880"
  },
  {
    "text": "think that's the reason why we have this and the increased focus on optimizing and squeezing more and doing more uh",
    "start": "68880",
    "end": "76920"
  },
  {
    "text": "with less is the is the Mantra these days so uh in this talk we are going to",
    "start": "76920",
    "end": "83100"
  },
  {
    "text": "be talking about three aspects so culture operations and design so these",
    "start": "83100",
    "end": "90240"
  },
  {
    "text": "are the three broad categories that we are going to be talking about today and with that we'll introduce ourselves and",
    "start": "90240",
    "end": "99180"
  },
  {
    "text": "I'll hand it over to Todd to facilitate the panel",
    "start": "99180",
    "end": "104420"
  },
  {
    "text": "yeah thanks a partner yeah go ahead Phil hello my name is Phil whitrock and",
    "start": "106799",
    "end": "113759"
  },
  {
    "text": "I work at Apple on kubernetes uh I'm nagu I'm working in zalando in",
    "start": "113759",
    "end": "119820"
  },
  {
    "text": "the cloud infrastructure Department I'm managing two teams Cloud I'm sorry",
    "start": "119820",
    "end": "124860"
  },
  {
    "text": "container platform and Cloud cost efficiency teams my name is aparna subramanian I am",
    "start": "124860",
    "end": "132060"
  },
  {
    "text": "director of production engineering at Shopify and I've been involved in",
    "start": "132060",
    "end": "137160"
  },
  {
    "text": "platform efficiency efforts for the past year and a half at Shopify hi Antarctica Stam I'm principal",
    "start": "137160",
    "end": "143760"
  },
  {
    "text": "engineer at Intuit working in our course systems team that also includes our kubernetes platform",
    "start": "143760",
    "end": "151040"
  },
  {
    "text": "well let's get started talking about culture obviously the goal is ultimately to increase efficiency and reduce costs",
    "start": "151800",
    "end": "158160"
  },
  {
    "text": "but where do you really start what do you how can you get started how can you gain organizational commitment to",
    "start": "158160",
    "end": "164640"
  },
  {
    "text": "improve efficiency and reduce the costs uh Phil yeah I can take this one so one",
    "start": "164640",
    "end": "172680"
  },
  {
    "text": "thing I think is helpful to start with is start out measuring where your big wins are where do you want to focus uh",
    "start": "172680",
    "end": "179580"
  },
  {
    "text": "what's going to move the needle a lot but it's going to take a long time to do what's maybe not going to move it as much but it's very easy to get done and",
    "start": "179580",
    "end": "186480"
  },
  {
    "text": "then from there figuring out who the right folks to engage with are what are the right teams so you can start moving",
    "start": "186480",
    "end": "191819"
  },
  {
    "text": "forward yeah and I can add to that so um this has to be somebody's problem",
    "start": "191819",
    "end": "199200"
  },
  {
    "text": "right so it had there has to be uh some Center of Excellence or a phenopsis practice and they have to be in charge",
    "start": "199200",
    "end": "206519"
  },
  {
    "text": "of making sure that everybody uh knows that it is a it is a consideration that",
    "start": "206519",
    "end": "212040"
  },
  {
    "text": "they have to worry about so often we run into uh the situation where it's everybody's problem but it's nobody's",
    "start": "212040",
    "end": "218280"
  },
  {
    "text": "problem so I think having the central team is really important but it's also important to understand that it now",
    "start": "218280",
    "end": "224879"
  },
  {
    "text": "suddenly doesn't become only the central team's responsibility for making sure",
    "start": "224879",
    "end": "230099"
  },
  {
    "text": "the platform is efficient it has to be a collaboration between engineering Finance procurement uh is the is the",
    "start": "230099",
    "end": "239040"
  },
  {
    "text": "team that you have probably that is negotiating uh contracts with your Cloud vendor or you know other vendors so I",
    "start": "239040",
    "end": "246959"
  },
  {
    "text": "think it really has to be a collaboration between all these different teams and that's how you bring about that awareness and accountability",
    "start": "246959",
    "end": "255360"
  },
  {
    "text": "there's a great points and I would like to just add on by saying um you would like to drive the cost",
    "start": "255360",
    "end": "261900"
  },
  {
    "text": "ownership through financial practices as aparna said you know you have to have",
    "start": "261900",
    "end": "267979"
  },
  {
    "text": "budgets based on accounts teams and business units you could also bring",
    "start": "267979",
    "end": "274500"
  },
  {
    "text": "awareness in terms of how important this cost efficiency efforts are because most of the times we would hear from the",
    "start": "274500",
    "end": "281280"
  },
  {
    "text": "business that you know delivering a feature is more important because that's going to bring in money to your company",
    "start": "281280",
    "end": "286680"
  },
  {
    "text": "but you have to sort of equate the cost efficiency with your gmv or Revenue so",
    "start": "286680",
    "end": "292860"
  },
  {
    "text": "that they understand how this impacts the bottom line in the end and as Phil mentioned you should also measure",
    "start": "292860",
    "end": "299280"
  },
  {
    "text": "everything at our company we kind of have a lot of metrics one of them is",
    "start": "299280",
    "end": "304680"
  },
  {
    "text": "kind of looking into the resource level like our vcpu cost or per memory",
    "start": "304680",
    "end": "310759"
  },
  {
    "text": "gigabytes of memory cost or we also have unicost based on locations like card or",
    "start": "310759",
    "end": "317460"
  },
  {
    "text": "search or things like that we can also have very higher level metrics like",
    "start": "317460",
    "end": "322800"
  },
  {
    "text": "connecting the infrastructure cost with your gmv or revenue and then see whether it makes sense to invest or spend so",
    "start": "322800",
    "end": "330660"
  },
  {
    "text": "much yeah great thanks uh actually let me get a share a show of hands how many people",
    "start": "330660",
    "end": "337380"
  },
  {
    "text": "know what their Cloud bill is like how much are they spending in the cloud okay that to me that's the first step",
    "start": "337380",
    "end": "344520"
  },
  {
    "text": "like you need to know you need to know what you're spending um and you know the old adage holds true",
    "start": "344520",
    "end": "350460"
  },
  {
    "text": "you can't really manage what you don't measure right so you know first measuring that let me see a share of",
    "start": "350460",
    "end": "355560"
  },
  {
    "text": "hands uh do you who knows how much a particular service or application costs",
    "start": "355560",
    "end": "362160"
  },
  {
    "text": "you know not the whole okay A little okay good good uh so uh",
    "start": "362160",
    "end": "369539"
  },
  {
    "text": "so I think that that's the big challenge is taking that cloud cost that big Bill and attributing it to individual teams",
    "start": "369539",
    "end": "377340"
  },
  {
    "text": "individual applications because only then when you have that visibility you know where you have the opportunities to",
    "start": "377340",
    "end": "383100"
  },
  {
    "text": "improve uh so at Intuit we have a Dev portal where we track all of our",
    "start": "383100",
    "end": "389780"
  },
  {
    "text": "different software assets you know whether it's the service or an application and all those have some",
    "start": "389780",
    "end": "395940"
  },
  {
    "text": "asset ID and that asset ID is propagated and tagged to all the resources that are",
    "start": "395940",
    "end": "401220"
  },
  {
    "text": "required to support that that service or application and then we aggregate all",
    "start": "401220",
    "end": "407400"
  },
  {
    "text": "the day all the billing data and attribute it based on that and so that gives us A fine grain and be able to put",
    "start": "407400",
    "end": "413699"
  },
  {
    "text": "up a number in front of development teams and actually roll that up roll that number up to",
    "start": "413699",
    "end": "419759"
  },
  {
    "text": "various directors and VPS and so forth because it's not enough to give the top",
    "start": "419759",
    "end": "424860"
  },
  {
    "text": "level you know the CTO or the CEO the bill right you need to give that visibility to the people who can",
    "start": "424860",
    "end": "431400"
  },
  {
    "text": "actually make decisions and make changes to how the system operates",
    "start": "431400",
    "end": "438560"
  },
  {
    "text": "when we started you know looking into things more closely at Shopify we were able to see",
    "start": "442199",
    "end": "448199"
  },
  {
    "text": "clearly from the cloud build you can see which what are the different projects what are the different clusters but it's",
    "start": "448199",
    "end": "454199"
  },
  {
    "text": "not exactly helpful right because if you have a multi-tenented platform you want to know how much is app a costing and",
    "start": "454199",
    "end": "461160"
  },
  {
    "text": "how much is app B costing and if you have like shared platforms like database",
    "start": "461160",
    "end": "466319"
  },
  {
    "text": "platforms logging and observability these are all multi-dented systems in",
    "start": "466319",
    "end": "471780"
  },
  {
    "text": "its own so you want to be able to attribute that cost per platform to each",
    "start": "471780",
    "end": "477539"
  },
  {
    "text": "app and I think that's where you know then you can drive accountability and go go to that team or go to that director",
    "start": "477539",
    "end": "484380"
  },
  {
    "text": "or VP and you know hold them responsible for making the changes necessary to",
    "start": "484380",
    "end": "489419"
  },
  {
    "text": "improve the efficiency so how else do you guys give visibility",
    "start": "489419",
    "end": "495300"
  },
  {
    "text": "of cost to organizations",
    "start": "495300",
    "end": "498560"
  },
  {
    "text": "yes as Todd mentioned tagging is a great way um that's probably the only way to understand who owns a particular",
    "start": "501419",
    "end": "508560"
  },
  {
    "text": "resource we also try to attribute the cost and the most Atomic level like",
    "start": "508560",
    "end": "513839"
  },
  {
    "text": "application and then you can just work backwards too uh teams and business owners and stuff",
    "start": "513839",
    "end": "519779"
  },
  {
    "text": "um as Todd mentioned you cannot manage what you don't measure and I also believe that you won't get any attention",
    "start": "519779",
    "end": "526260"
  },
  {
    "text": "to work on these kind of topics if you don't report on them so you have to create reports that are catered to",
    "start": "526260",
    "end": "532560"
  },
  {
    "text": "specific use cases and users for engineers I believe they would like to",
    "start": "532560",
    "end": "537779"
  },
  {
    "text": "have some real-time data anomaly detections and alerts and stuff so that they can react really quick on cost",
    "start": "537779",
    "end": "544200"
  },
  {
    "text": "incidents whereas for managers and management there could be more of a week",
    "start": "544200",
    "end": "550500"
  },
  {
    "text": "or week cost changes or some sort of reports we also try to sneak this into",
    "start": "550500",
    "end": "556260"
  },
  {
    "text": "our orms you know just make it a topic and then also we have theorems with our",
    "start": "556260",
    "end": "563040"
  },
  {
    "text": "Cloud vendors or even within the internal business units when they are talking about Business Review then they",
    "start": "563040",
    "end": "570000"
  },
  {
    "text": "talk about the infrastructure costs so it gets more visibility so that we can react on them",
    "start": "570000",
    "end": "575820"
  },
  {
    "text": "yeah and I'll add that once you have that visibility it's important to get down to the level of unit costs right",
    "start": "575820",
    "end": "582300"
  },
  {
    "text": "because if app a is costing 500 and if I'm a developer in that team well great",
    "start": "582300",
    "end": "587519"
  },
  {
    "text": "you know what do I do with that information so if it gets translated to well now it's like you for every",
    "start": "587519",
    "end": "594540"
  },
  {
    "text": "transaction it's 50 cents and now it's 75 cents then I have something to work",
    "start": "594540",
    "end": "600600"
  },
  {
    "text": "with and continuously track and improve and optimize so I think it's once you",
    "start": "600600",
    "end": "605760"
  },
  {
    "text": "have this absolute number per application uh it it's very helpful to get down to that unit cost and continue",
    "start": "605760",
    "end": "612899"
  },
  {
    "text": "to track that continuously so one thing I find sometimes we'll get",
    "start": "612899",
    "end": "618240"
  },
  {
    "text": "some cost alerts that says oh this this resource is Idle you know you should go shut it down but I you can't always shut",
    "start": "618240",
    "end": "625019"
  },
  {
    "text": "idle things down can you talk a little bit more I feel about you know what",
    "start": "625019",
    "end": "630300"
  },
  {
    "text": "about idle resources and how do you manage yeah absolutely um so",
    "start": "630300",
    "end": "636060"
  },
  {
    "text": "what what optimal efficiency looks like maybe surprising for instance",
    "start": "636060",
    "end": "641459"
  },
  {
    "text": "um preemption is very disruptive right or can be and so you may have a workload",
    "start": "641459",
    "end": "646500"
  },
  {
    "text": "that's running a completion workload not checkpointing it's uh you know 50 done or nearly done after running for a while",
    "start": "646500",
    "end": "653160"
  },
  {
    "text": "and then it gets um preempted because you know you don't have any idle resources you need to roll",
    "start": "653160",
    "end": "658680"
  },
  {
    "text": "something out and so in that case like having a bit of Headroom so that workload didn't get preempted in the middle of what it was doing maybe more",
    "start": "658680",
    "end": "665880"
  },
  {
    "text": "efficient even though your dashboards don't make it look that way um passive if you have active passive Dr",
    "start": "665880",
    "end": "672000"
  },
  {
    "text": "for instance what does optimal efficiency look like for the passive instance is it 100 utilization probably",
    "start": "672000",
    "end": "679800"
  },
  {
    "text": "not um same thing with aha so the idle resources may be an artifact",
    "start": "679800",
    "end": "686760"
  },
  {
    "text": "of like what are the capabilities of the platform you're running on what does it offer and maybe that slack just needs to",
    "start": "686760",
    "end": "692220"
  },
  {
    "text": "be there for your availability needs yeah and I think it's important to know what what that Slack",
    "start": "692220",
    "end": "698579"
  },
  {
    "text": "uh slack looks like right so having that common understanding of like efficiency",
    "start": "698579",
    "end": "704279"
  },
  {
    "text": "and waste for each application and across these variety of stakeholders that we talked about phenops Finance",
    "start": "704279",
    "end": "711180"
  },
  {
    "text": "engineering teams is really important so I'm curious to hear your take nagu on",
    "start": "711180",
    "end": "717240"
  },
  {
    "text": "this uh so Shopify the e-commerce platform and sometimes we have to preserve and scale up all the way",
    "start": "717240",
    "end": "723779"
  },
  {
    "text": "because there's like a big flash sale coming up and that time you don't want to be",
    "start": "723779",
    "end": "729060"
  },
  {
    "text": "um you know scaled all the way down and you don't want you know your auto scaler to kick in and your cluster Auto scaler",
    "start": "729060",
    "end": "735000"
  },
  {
    "text": "to be kicking in and doing all of these things so I think there are these times where you want to protect your",
    "start": "735000",
    "end": "740760"
  },
  {
    "text": "reputation and it's not about efficiency yeah so",
    "start": "740760",
    "end": "746640"
  },
  {
    "text": "um as infrastructure teams it's sometimes hard for us to understand what the application owners actually want to",
    "start": "746640",
    "end": "751860"
  },
  {
    "text": "do and why they have I don't know primary secondary and uh what are their HIV needs",
    "start": "751860",
    "end": "758100"
  },
  {
    "text": "um so zalanda what we do is especially in case of uh flash sales we have we are",
    "start": "758100",
    "end": "765360"
  },
  {
    "text": "utilizing crds to a set of pre-scale our clusters",
    "start": "765360",
    "end": "771139"
  },
  {
    "text": "and also scale down um you know when it is done so this is really effective for us because we can",
    "start": "771139",
    "end": "778200"
  },
  {
    "text": "ensure the business continuity and availability at the same time we can also make sure that when things are done",
    "start": "778200",
    "end": "784380"
  },
  {
    "text": "the house is clean so yeah yeah that's a really good point and Black Friday Cyber",
    "start": "784380",
    "end": "789600"
  },
  {
    "text": "Monday is a really big event for Shopify and that's what we do is we leave it scaled up for a certain period of time",
    "start": "789600",
    "end": "796500"
  },
  {
    "text": "because there's Christmas and there's like Peak shopping season but then once we are able to like monitor the traffic",
    "start": "796500",
    "end": "803040"
  },
  {
    "text": "that's you know coming to the platform we the finops team",
    "start": "803040",
    "end": "808820"
  },
  {
    "text": "pays close attention to make sure that you know things are back to normal then I think that's why you need that Central",
    "start": "808820",
    "end": "815040"
  },
  {
    "text": "Finance team because like there's somebody looking at this every day and reaching out to the appropriate teams to",
    "start": "815040",
    "end": "821700"
  },
  {
    "text": "take action yeah I think that's a good segue into our next section of operations but",
    "start": "821700",
    "end": "827040"
  },
  {
    "text": "before we move on I wanted to also bring up that sometimes there's costs that are difficult to to see or to manage and one",
    "start": "827040",
    "end": "834180"
  },
  {
    "text": "area that's in particular difficult is observability right yeah sometimes developers will just emit logs",
    "start": "834180",
    "end": "841440"
  },
  {
    "text": "and metrics without really thinking that it it actually costs money to store those things and that can actually add",
    "start": "841440",
    "end": "846899"
  },
  {
    "text": "quite a bit and it's also difficult to then attribute those costs back to the",
    "start": "846899",
    "end": "853139"
  },
  {
    "text": "biggest offenders of the you know the biggest loggers who are sort of wasting log space or or emitting too many",
    "start": "853139",
    "end": "859139"
  },
  {
    "text": "metrics but at the same time there's a cost of not having those logs or not having those metrics if you need to debug or troubleshoot the platform but",
    "start": "859139",
    "end": "867060"
  },
  {
    "text": "yeah with that let's move on to operations so it talked we talked about Black Friday Also into it we also have",
    "start": "867060",
    "end": "875100"
  },
  {
    "text": "different seasonal type of workloads we have Turbo Tax which is really seasonal around the tax you know tax season uh we",
    "start": "875100",
    "end": "883500"
  },
  {
    "text": "we have QuickBooks a product where you know nine to five is very busy and then",
    "start": "883500",
    "end": "888660"
  },
  {
    "text": "outside of nine to five is not as busy so we have a mix of different workloads and uh I think because CPU and memory",
    "start": "888660",
    "end": "898079"
  },
  {
    "text": "and compute resources is a big component of cost you need to really see how can you make",
    "start": "898079",
    "end": "904560"
  },
  {
    "text": "your clusters and applications run most efficiently to to minimize",
    "start": "904560",
    "end": "910079"
  },
  {
    "text": "costs but at the same time provide the services that you that you need to",
    "start": "910079",
    "end": "915720"
  },
  {
    "text": "um anyone else has some thoughts on you know how do you optimize",
    "start": "915720",
    "end": "921180"
  },
  {
    "text": "your compute you know so you talked about scaling up how do you actually scale up for Black Friday",
    "start": "921180",
    "end": "927800"
  },
  {
    "text": "Monday you know it's all about protecting our reputation so we do scale",
    "start": "929579",
    "end": "934800"
  },
  {
    "text": "all the way up to the projected traffic and we actually disable auto scaling for",
    "start": "934800",
    "end": "942600"
  },
  {
    "text": "that period of time because we don't want the you know the the system turning",
    "start": "942600",
    "end": "948360"
  },
  {
    "text": "and like Phil mentioned you know preemption and you know all of that is costly uh to the system",
    "start": "948360",
    "end": "955199"
  },
  {
    "text": "um but other times uh we do leverage Auto scaling so um you know the auto",
    "start": "955199",
    "end": "960420"
  },
  {
    "text": "scaling all the way down right so we have HPA that we leverage heavily and uh",
    "start": "960420",
    "end": "966000"
  },
  {
    "text": "we don't do auto vpa we use vpa to uh we are the platform team so we we use vpa",
    "start": "966000",
    "end": "972240"
  },
  {
    "text": "to recommend what the right uh memory and CPU that we think should be and we",
    "start": "972240",
    "end": "979019"
  },
  {
    "text": "make that suggestion to the respective application team using slack Channel we",
    "start": "979019",
    "end": "985079"
  },
  {
    "text": "are the automated PRS and things like that and then it's up to the application team because they know the specifically",
    "start": "985079",
    "end": "991680"
  },
  {
    "text": "the nature of their workload so it's up to them to review the recommendation and make the appropriate changes but we",
    "start": "991680",
    "end": "998399"
  },
  {
    "text": "leverage HPA we leverage cluster Auto scaler so um for all times other than like Black",
    "start": "998399",
    "end": "1004880"
  },
  {
    "text": "Friday Cyber Monday this is the of the mode of operation for us yeah so I think",
    "start": "1004880",
    "end": "1009920"
  },
  {
    "text": "Auto scaling is is kind of a key uh capability if you can Auto scale your not only your application but also your",
    "start": "1009920",
    "end": "1017060"
  },
  {
    "text": "cluster you know up and down uh you know that's the you know for cost that's obviously the best but it does come with",
    "start": "1017060",
    "end": "1024079"
  },
  {
    "text": "some disruption so how can you minimize that disruption I think a lot of it starts with making sure the apps can be",
    "start": "1024079",
    "end": "1031280"
  },
  {
    "text": "disrupted right you can't you know launch a launch a pod in kubernetes and",
    "start": "1031280",
    "end": "1036438"
  },
  {
    "text": "expect that pod to live forever right it's uh that's not the that's not the intent of kubernetes and there's a for a",
    "start": "1036439",
    "end": "1044720"
  },
  {
    "text": "12 Factor app there's a concept of disposability which means that any one",
    "start": "1044720",
    "end": "1050240"
  },
  {
    "text": "instance of the app needs to be capable of terminating and gracefully exiting and and being disposed of at any time",
    "start": "1050240",
    "end": "1057320"
  },
  {
    "text": "and so when it gets a Sig term when kubernetes wants to scale down a replica",
    "start": "1057320",
    "end": "1063020"
  },
  {
    "text": "it's going to send a Sig term and that application needs to gracefully handle that situation and it shouldn't be a big",
    "start": "1063020",
    "end": "1069679"
  },
  {
    "text": "event but not all not all apps are perfect and so",
    "start": "1069679",
    "end": "1074780"
  },
  {
    "text": "there are some cases where you want to you know try to avoid that but we should always strive to allow that kind of",
    "start": "1074780",
    "end": "1081380"
  },
  {
    "text": "dynamic scaling up and down um what are what are some misconceptions",
    "start": "1081380",
    "end": "1087679"
  },
  {
    "text": "about Auto scaling it seems like kind of like a Panacea where oh yeah that's just do auto scaling but uh is it really that",
    "start": "1087679",
    "end": "1094880"
  },
  {
    "text": "easy yeah I think vertical Auto scaling as you kind of mentioned aparna is a tricky",
    "start": "1094880",
    "end": "1100640"
  },
  {
    "text": "one like what is does the vertical autoscaler have the context to know the difference between failover State and",
    "start": "1100640",
    "end": "1106460"
  },
  {
    "text": "not failover state or is it going to see an increase in resource usage due to a failover and say hey we need to change",
    "start": "1106460",
    "end": "1112640"
  },
  {
    "text": "the Pod spec and start a roll out right right now um so the the recommendations",
    "start": "1112640",
    "end": "1118520"
  },
  {
    "text": "I think uh there's a lot to be said for checking those in as part of your regular release process you can roll it",
    "start": "1118520",
    "end": "1123919"
  },
  {
    "text": "back it's audited these sorts of things um the a lot of the metrics I think get",
    "start": "1123919",
    "end": "1132260"
  },
  {
    "text": "measured at maybe their averages over intervals right maybe 30 seconds or something like that and so",
    "start": "1132260",
    "end": "1138860"
  },
  {
    "text": "one thing we've seen is if you measure at a one second interval like what's the",
    "start": "1138860",
    "end": "1144020"
  },
  {
    "text": "P95 is actually quite a different number and so um that can help with setting your",
    "start": "1144020",
    "end": "1149299"
  },
  {
    "text": "limits and how you think about bursting and these sorts of things",
    "start": "1149299",
    "end": "1155020"
  },
  {
    "text": "um um we also kind of don't recommend vpa for our application owners but we do",
    "start": "1155539",
    "end": "1160580"
  },
  {
    "text": "use it for our cluster components for our Singleton applications we could",
    "start": "1160580",
    "end": "1166940"
  },
  {
    "text": "still use them because it uh it doesn't matter if it has a little bit of a downtime but when it comes to HPA we",
    "start": "1166940",
    "end": "1173360"
  },
  {
    "text": "also ask them to be very mindful of the thresholds that they are setting right the target utilization that they have to",
    "start": "1173360",
    "end": "1181580"
  },
  {
    "text": "set and also the main replicas that they have to set because sometimes they can be a little bit more generous and then",
    "start": "1181580",
    "end": "1188780"
  },
  {
    "text": "during non-peak hours then this is going to cost a lot of money so we ask them to be",
    "start": "1188780",
    "end": "1194780"
  },
  {
    "text": "mindful of those things even when it comes to HPA yeah maybe let's pause there let me can",
    "start": "1194780",
    "end": "1200900"
  },
  {
    "text": "I see a show of hands how many people are using HBA horizontal pod Auto scale or something you know something",
    "start": "1200900",
    "end": "1207679"
  },
  {
    "text": "equivalent okay A lot of people are using that what about how many people are using vpa or some mechanism to",
    "start": "1207679",
    "end": "1214940"
  },
  {
    "text": "vertically scale your pods okay a few a few number a few less how many people",
    "start": "1214940",
    "end": "1220640"
  },
  {
    "text": "are using cluster Auto scaler how many are running on-prem",
    "start": "1220640",
    "end": "1227000"
  },
  {
    "text": "so there's some different challenges between Prem and on-prem or in the cloud and on-prem but uh a lot of things a lot",
    "start": "1227000",
    "end": "1235220"
  },
  {
    "text": "of the takeaways are the same for both because even though on-prem you have to",
    "start": "1235220",
    "end": "1240500"
  },
  {
    "text": "buy servers and rack them and take some time you can't just order more from your cloud provider it turns out that when",
    "start": "1240500",
    "end": "1247640"
  },
  {
    "text": "you're in the cloud you're probably dealing with reserved instances and you're you have a you know certain committed a number of servers that for",
    "start": "1247640",
    "end": "1254960"
  },
  {
    "text": "instances you're buying from your cloud provider so you have a similar kind of capacity planning issue for both cloud",
    "start": "1254960",
    "end": "1262280"
  },
  {
    "text": "and on-prem uh I I have a question for you Todd",
    "start": "1262280",
    "end": "1267740"
  },
  {
    "text": "um I know that you've mentioned that in Intuit you have a really nice way to like sort of rotate your clusters every",
    "start": "1267740",
    "end": "1273860"
  },
  {
    "text": "every once in a while because the one problem that we've seen at Shopify is um you know with with auto scaling all",
    "start": "1273860",
    "end": "1280400"
  },
  {
    "text": "the way down including cluster Auto scaler your cluster can sometimes become fragmented and you can have like you",
    "start": "1280400",
    "end": "1287179"
  },
  {
    "text": "know for lack of a better word empty pockets of available resources that then",
    "start": "1287179",
    "end": "1292460"
  },
  {
    "text": "you know sort of never gets uh reaped so and I know that at Intuit you have some",
    "start": "1292460",
    "end": "1297620"
  },
  {
    "text": "interesting ways of dealing with it yeah so that's a that's a bin packing right so over time if pods you know if you",
    "start": "1297620",
    "end": "1304580"
  },
  {
    "text": "have an application scaling up scaling down pods can get scheduled on different",
    "start": "1304580",
    "end": "1310100"
  },
  {
    "text": "nodes some nodes could get underutilized and maybe just have only one pot on them you know and not really taking full",
    "start": "1310100",
    "end": "1317539"
  },
  {
    "text": "advantage of the resources of the node there's a project called descheduler which would go and actually deschedule",
    "start": "1317539",
    "end": "1324980"
  },
  {
    "text": "pods and and reschedule them onto another node that and and",
    "start": "1324980",
    "end": "1330320"
  },
  {
    "text": "you know restore that bin packing at Intuit we actually we terminate our nodes every 25 days or",
    "start": "1330320",
    "end": "1339740"
  },
  {
    "text": "so regardless and that's kind of a little bit for security and compliance reasons but it also has a side effect of",
    "start": "1339740",
    "end": "1347559"
  },
  {
    "text": "forcing you know forcing all those applications to get rescheduled and it",
    "start": "1347559",
    "end": "1353059"
  },
  {
    "text": "kind of trains our developers that hey I can't count on these pods running forever it's okay that they terminate",
    "start": "1353059",
    "end": "1359840"
  },
  {
    "text": "it's okay that they come back up and so by doing that we've kind of helped build",
    "start": "1359840",
    "end": "1365419"
  },
  {
    "text": "this culture and understanding of of how kubernetes works for the developers then",
    "start": "1365419",
    "end": "1371120"
  },
  {
    "text": "we also for other compliance reasons we need to update you know the the Ami and",
    "start": "1371120",
    "end": "1377840"
  },
  {
    "text": "the security patches of all the nodes and so we'll also regardless of the The 25 Days time",
    "start": "1377840",
    "end": "1386960"
  },
  {
    "text": "period we'll go through and and rotate all the nodes to update you know and so all these various things help reinforce",
    "start": "1386960",
    "end": "1394159"
  },
  {
    "text": "the fact that you need to be able to scale so that's good for operations but also that also applies to Auto scaling",
    "start": "1394159",
    "end": "1399980"
  },
  {
    "text": "scaling up scaling down yeah we also",
    "start": "1399980",
    "end": "1406120"
  },
  {
    "text": "add into it we're looking into developing A system that takes the recommendations from vpa taking uh",
    "start": "1406120",
    "end": "1414080"
  },
  {
    "text": "taking our historical metrics that we're we're collecting for each application and then using that to make some",
    "start": "1414080",
    "end": "1420260"
  },
  {
    "text": "decisions and recommendations for both vpa and HPA typically you can't run deep",
    "start": "1420260",
    "end": "1428179"
  },
  {
    "text": "or you shouldn't run vpa and HPA concurrently in the same cluster that's they're kind of working at Cross",
    "start": "1428179",
    "end": "1433700"
  },
  {
    "text": "purposes for each other so we're trying to build a system that that integrates",
    "start": "1433700",
    "end": "1441200"
  },
  {
    "text": "those recommendations and then as was mentioned apply those recommendations through the",
    "start": "1441200",
    "end": "1446720"
  },
  {
    "text": "pipeline through using get Ops so that if you change the resources of a pod",
    "start": "1446720",
    "end": "1453340"
  },
  {
    "text": "that that change in resource will start back in your pre-prod environment get",
    "start": "1453340",
    "end": "1458539"
  },
  {
    "text": "tested validate that it does work in pre-prod and work its way through the",
    "start": "1458539",
    "end": "1463580"
  },
  {
    "text": "pipeline to your production environment we don't want to just suddenly change",
    "start": "1463580",
    "end": "1468919"
  },
  {
    "text": "the resources in production without being able to test it first so that you know that's the that's the approach that",
    "start": "1468919",
    "end": "1474679"
  },
  {
    "text": "we're taking um and we've also open sourced pneumologic and pneuma flow which is an",
    "start": "1474679",
    "end": "1481760"
  },
  {
    "text": "open source project that it's a machine learning and Analysis project that runs into the",
    "start": "1481760",
    "end": "1489380"
  },
  {
    "text": "in the cluster that can take advantage of Prometheus or other types of data",
    "start": "1489380",
    "end": "1494480"
  },
  {
    "text": "available in the cluster to help make those decisions so we're looking to to leverage that more going forward",
    "start": "1494480",
    "end": "1502000"
  },
  {
    "text": "um so Steve",
    "start": "1503059",
    "end": "1508580"
  },
  {
    "text": "I think I think we'll move on to the next topic so",
    "start": "1510980",
    "end": "1516140"
  },
  {
    "text": "so the next big area is design we talked a little bit earlier about designing",
    "start": "1516140",
    "end": "1521780"
  },
  {
    "text": "your you know a 12 Factor app that allows for disposability right so that's",
    "start": "1521780",
    "end": "1528140"
  },
  {
    "text": "one like almost the the first key aspect of of design is making sure that your uh",
    "start": "1528140",
    "end": "1534620"
  },
  {
    "text": "your applications are Cloud native and can run on kubernetes and do tolerate disruptions like that but what are some",
    "start": "1534620",
    "end": "1541039"
  },
  {
    "text": "other ideas what are some other things that uh impact the architecture designer",
    "start": "1541039",
    "end": "1546200"
  },
  {
    "text": "coding of applications that might impact cost and efficiency when architecting",
    "start": "1546200",
    "end": "1551480"
  },
  {
    "text": "and designing your system yeah so when we think of efficiency people often think that it's all at the",
    "start": "1551480",
    "end": "1557000"
  },
  {
    "text": "infrastructure layer and it's the responsibility of the platform team or the infrastructure team to take care of",
    "start": "1557000",
    "end": "1562640"
  },
  {
    "text": "it but it truly is a partnership with the application teams as well so",
    "start": "1562640",
    "end": "1567740"
  },
  {
    "text": "something that Shopify has been working on recently is continuous profiling of applications because you don't want to",
    "start": "1567740",
    "end": "1575360"
  },
  {
    "text": "just tell application developers that you know profile your application make sure it's efficient and optimal at all",
    "start": "1575360",
    "end": "1582440"
  },
  {
    "text": "times so in order to reduce the friction we have rolled out this continuous profiling feature where every",
    "start": "1582440",
    "end": "1588919"
  },
  {
    "text": "application is getting profiled continuously at a at a certain sample rate and using this they can you know",
    "start": "1588919",
    "end": "1596659"
  },
  {
    "text": "it's sort of very easy for them to go look at look at their profiles and see what what their application is doing",
    "start": "1596659",
    "end": "1602600"
  },
  {
    "text": "when and we've been able to identify opportunities where you know there's",
    "start": "1602600",
    "end": "1608240"
  },
  {
    "text": "like a static list of objects that gets you know created every time when the",
    "start": "1608240",
    "end": "1614179"
  },
  {
    "text": "process starts up and if you look at it it may not seem like much but then if",
    "start": "1614179",
    "end": "1619700"
  },
  {
    "text": "you think about how many processes that you have across your clusters across your Fleet and how many times it gets",
    "start": "1619700",
    "end": "1626960"
  },
  {
    "text": "executed it's actually quite a lot of unnecessary CPU Cycles so being able to",
    "start": "1626960",
    "end": "1633620"
  },
  {
    "text": "create such tools and enable the application developers to make the right decision is also a key part of",
    "start": "1633620",
    "end": "1641080"
  },
  {
    "text": "efficiency and optimization um so one of the things that we do at",
    "start": "1641080",
    "end": "1646400"
  },
  {
    "text": "Intuit is whenever we have a new release of our platform we run it through FMEA testing and but one part of that FMEA",
    "start": "1646400",
    "end": "1654260"
  },
  {
    "text": "testing is running a load test some known sort of repeatable load test",
    "start": "1654260",
    "end": "1661059"
  },
  {
    "text": "that runs a certain amount of transactions we use Gatling just kick off a bunch of transactions from a bunch",
    "start": "1661059",
    "end": "1667460"
  },
  {
    "text": "of different workers and then we measure how many nodes did",
    "start": "1667460",
    "end": "1672620"
  },
  {
    "text": "it take right and and the application is auto scaling um you know through HPA but then we",
    "start": "1672620",
    "end": "1679039"
  },
  {
    "text": "measure how many nodes did it take to do that workload and we can and that helps us Identify some kind of performance",
    "start": "1679039",
    "end": "1685400"
  },
  {
    "text": "regression and performance regressions are also quite often cost regressions right because if you're suddenly needing",
    "start": "1685400",
    "end": "1692480"
  },
  {
    "text": "to use more nodes to do the same workload it's going to cost you more so so that's another technique that we've",
    "start": "1692480",
    "end": "1698840"
  },
  {
    "text": "used to identify and to compare you know compare different releases",
    "start": "1698840",
    "end": "1705500"
  },
  {
    "text": "we've also used that to compare different processor types so",
    "start": "1705500",
    "end": "1710919"
  },
  {
    "text": "you might be thinking about using graviton arm processor machines or maybe",
    "start": "1710919",
    "end": "1717039"
  },
  {
    "text": "Intel or AMD and I think based on my",
    "start": "1717039",
    "end": "1723140"
  },
  {
    "text": "experience there's no Silver Bullet to say oh this processor type is always going to be 100 better for all",
    "start": "1723140",
    "end": "1729500"
  },
  {
    "text": "applications it really depends on each individual application so it seems like",
    "start": "1729500",
    "end": "1734960"
  },
  {
    "text": "a little bit of a cop-out answer but you do need to test you do need to measure and those are the kinds of ways you can",
    "start": "1734960",
    "end": "1740360"
  },
  {
    "text": "you know by by running this type of uh you know stress workload you can",
    "start": "1740360",
    "end": "1745700"
  },
  {
    "text": "identify that make a small change you know change the processor type of the node rerun the test and then see if",
    "start": "1745700",
    "end": "1752360"
  },
  {
    "text": "you're using a net you know for the same amount of work processed if you're if",
    "start": "1752360",
    "end": "1758600"
  },
  {
    "text": "you're using more nodes or less um any other",
    "start": "1758600",
    "end": "1764539"
  },
  {
    "text": "thoughts about designing you know how I think to say like",
    "start": "1764539",
    "end": "1770960"
  },
  {
    "text": "uh it goes back to think about carefully what you're measuring right and that",
    "start": "1770960",
    "end": "1777020"
  },
  {
    "text": "you know you when you initially measure workload maybe the utilization looks great and then the app developer spends a month optimizing all their code and",
    "start": "1777020",
    "end": "1784220"
  },
  {
    "text": "now their utilization looks a lot less good and are things for does your bad dashboard say things are better now or",
    "start": "1784220",
    "end": "1789620"
  },
  {
    "text": "worse now because you don't want them to say they're worse so thinking about the holistic picture is always important",
    "start": "1789620",
    "end": "1798340"
  },
  {
    "text": "great",
    "start": "1798799",
    "end": "1801340"
  },
  {
    "text": "yeah I think it's obviously as platform Engineers you don't have visibility into",
    "start": "1804080",
    "end": "1809299"
  },
  {
    "text": "inner workings of the of the applications that are running on kubernetes oftentimes so it's really a",
    "start": "1809299",
    "end": "1815960"
  },
  {
    "text": "partnership if if you're working in a platform team along with the development teams that are using that platform so",
    "start": "1815960",
    "end": "1822620"
  },
  {
    "text": "you have to form good Partnerships and and see and I see that we're running",
    "start": "1822620",
    "end": "1828320"
  },
  {
    "text": "close on time we did want to leave some time for questions but just wanted to summarize uh some key takeaways",
    "start": "1828320",
    "end": "1836980"
  },
  {
    "text": "we have the three pillars of platform efficiency that we talked about we have culture as different uh different things",
    "start": "1836980",
    "end": "1845720"
  },
  {
    "text": "here you can see on the screen operations and design so I hope that gives you a",
    "start": "1845720",
    "end": "1852740"
  },
  {
    "text": "good framework to think about cost optimization and how you can do more",
    "start": "1852740",
    "end": "1858440"
  },
  {
    "text": "with less so with that we'll open up to any questions oh sorry one last thing I have to do a",
    "start": "1858440",
    "end": "1865100"
  },
  {
    "text": "quick pitch on oh people are still taking pictures but I'll show I'll show that list again",
    "start": "1865100",
    "end": "1872320"
  },
  {
    "text": "I also would encourage you to scan this QR code sign up for the end user meeting",
    "start": "1872320",
    "end": "1878840"
  },
  {
    "text": "uh every other week we do this almost the same kind of conversation that you just saw here so if you're a cncf end",
    "start": "1878840",
    "end": "1885200"
  },
  {
    "text": "user member you're it's a it's a free opportunity to join and learn and share so",
    "start": "1885200",
    "end": "1892279"
  },
  {
    "text": "uh so with that we'll open up the mics for any questions [Applause]",
    "start": "1892279",
    "end": "1899650"
  },
  {
    "text": "[Music]",
    "start": "1899650",
    "end": "1906839"
  },
  {
    "text": "all right",
    "start": "1909140",
    "end": "1911740"
  },
  {
    "text": "oh no there so my question would be um have so these institutions where you",
    "start": "1918640",
    "end": "1925580"
  },
  {
    "text": "come from are quite big so have you ever worked with sport instances on production",
    "start": "1925580",
    "end": "1930679"
  },
  {
    "text": "so have any of us worked on smaller companies because we're all relatively large companies",
    "start": "1930679",
    "end": "1938200"
  },
  {
    "text": "so yeah I mean we do have a healthy usage of spot instances at zolando we",
    "start": "1939320",
    "end": "1944960"
  },
  {
    "text": "run all our test clusters on spot and we have also introduced a way to opt into",
    "start": "1944960",
    "end": "1951380"
  },
  {
    "text": "using spot instances for the production as well so yeah it's a great benefit you",
    "start": "1951380",
    "end": "1956899"
  },
  {
    "text": "see about 70 of the cost and for the workloads where you you know",
    "start": "1956899",
    "end": "1962600"
  },
  {
    "text": "you where you could tolerate downtime then it's it's obviously a great choice",
    "start": "1962600",
    "end": "1968620"
  },
  {
    "text": "question over there yeah um hello um thanks for the talk first of all very",
    "start": "1969700",
    "end": "1977059"
  },
  {
    "text": "interesting thanks for that again um so I tried to convince my colleagues by",
    "start": "1977059",
    "end": "1983960"
  },
  {
    "text": "developing colleagues hey good job optimizes and that and I heard you had",
    "start": "1983960",
    "end": "1989059"
  },
  {
    "text": "the same problem they say hey we are paid to build features not to optimize stuff",
    "start": "1989059",
    "end": "1995419"
  },
  {
    "text": "um is there any recommendation besides showing up the cost of what an",
    "start": "1995419",
    "end": "2001000"
  },
  {
    "text": "individual unit app whatever does to actually convince people that it's worth",
    "start": "2001000",
    "end": "2007899"
  },
  {
    "text": "investing their time into optimization yeah I think at the end of the day you",
    "start": "2007899",
    "end": "2013779"
  },
  {
    "text": "know it goes to your company's bottom line right so if if you have if you have more if you're spending too much on",
    "start": "2013779",
    "end": "2020320"
  },
  {
    "text": "infrastructure and Cloud that means you have less money to spend on hiring you know more developers or doing other you",
    "start": "2020320",
    "end": "2026620"
  },
  {
    "text": "know doing other useful work for your company so I think you know that part uh should make sense to people that it you",
    "start": "2026620",
    "end": "2033640"
  },
  {
    "text": "know we can do more if we can if we can save on this cost we can do we could use that same money elsewhere in the",
    "start": "2033640",
    "end": "2039820"
  },
  {
    "text": "organization uh and also I think uh but it's it's you're right it's",
    "start": "2039820",
    "end": "2046419"
  },
  {
    "text": "difficult to try to balance feature development with cost optimization and",
    "start": "2046419",
    "end": "2051760"
  },
  {
    "text": "so I think when you're doing these things you need to approach it as a something that you put in the backlog",
    "start": "2051760",
    "end": "2057099"
  },
  {
    "text": "and you take up as a normal part of of work not uh something like",
    "start": "2057099",
    "end": "2062919"
  },
  {
    "text": "coming from the side and changing all the priorities you need to plan it as part of your roadmap to make these improvements and work on it",
    "start": "2062919",
    "end": "2069220"
  },
  {
    "text": "incrementally so yeah and the other is like in ride in",
    "start": "2069220",
    "end": "2074740"
  },
  {
    "text": "scalable and performant systems right so scalability performance are all like good things and everybody takes pride",
    "start": "2074740",
    "end": "2081280"
  },
  {
    "text": "and similarly I think it's important to take pride in building cost efficient systems and you know what is the unit",
    "start": "2081280",
    "end": "2088240"
  },
  {
    "text": "cost per transaction or perting my application is doing so I think starting",
    "start": "2088240",
    "end": "2094419"
  },
  {
    "text": "that conversation within the company and say like we as a team we take pride in in making and building and operating",
    "start": "2094419",
    "end": "2100720"
  },
  {
    "text": "efficient Services is another good way to encourage them yeah that's a good point especially if you have a dashboard",
    "start": "2100720",
    "end": "2106720"
  },
  {
    "text": "that's showing the cost you know Engineers can take pride in life okay we last month it was this this month is",
    "start": "2106720",
    "end": "2113079"
  },
  {
    "text": "that I can see a difference right you can really see the work that you do making a difference in the cost",
    "start": "2113079",
    "end": "2119440"
  },
  {
    "text": "so yeah good luck great like when when framing might be when right like instead of saying do we do",
    "start": "2119440",
    "end": "2127000"
  },
  {
    "text": "this at all it's like when do we do this is it never right and when probably isn't like when it's way",
    "start": "2127000",
    "end": "2134320"
  },
  {
    "text": "too late you know yeah great thanks yeah thank you you have a question on this",
    "start": "2134320",
    "end": "2140260"
  },
  {
    "text": "side yeah so my question basically is you spoke about the cooperation between the application teams and the platform",
    "start": "2140260",
    "end": "2147280"
  },
  {
    "text": "team okay so generally who realize the responsibility for for the real cost",
    "start": "2147280",
    "end": "2153760"
  },
  {
    "text": "like should I the application team should the platform team just mirror the cost and say the different teams has",
    "start": "2153760",
    "end": "2160119"
  },
  {
    "text": "this cost per Services how who is who is the responsible for deciding that a certain service is costly more than any",
    "start": "2160119",
    "end": "2168099"
  },
  {
    "text": "other services and they should reduce it it's the application teams themselves it's difficult I mean at the end of the",
    "start": "2168099",
    "end": "2173380"
  },
  {
    "text": "day it comes down to business value and what is your Roi you know so if you have a service that is generating a lot of",
    "start": "2173380",
    "end": "2179920"
  },
  {
    "text": "Revenue obviously that's you know that's allowed to spend more money probably than something that's not you know not",
    "start": "2179920",
    "end": "2187300"
  },
  {
    "text": "as important but not not all critical services generate Revenue directly right there's",
    "start": "2187300",
    "end": "2193960"
  },
  {
    "text": "so it's it's difficult to really you know pin a number on something and and to know but it's uh something that",
    "start": "2193960",
    "end": "2201579"
  },
  {
    "text": "you have to arrive with a consensus between business and engineering uh so with that I think we're out of",
    "start": "2201579",
    "end": "2208420"
  },
  {
    "text": "time for questions but we'll stick around and uh you know feel free to come up and talk to us up at the front thank",
    "start": "2208420",
    "end": "2214780"
  },
  {
    "text": "you everyone",
    "start": "2214780",
    "end": "2217079"
  }
]