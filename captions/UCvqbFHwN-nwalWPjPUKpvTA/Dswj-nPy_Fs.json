[
  {
    "text": "hello everyone good evening my name is",
    "start": "80",
    "end": "2800"
  },
  {
    "text": "jonah back",
    "start": "2800",
    "end": "3520"
  },
  {
    "text": "i'm a principal software engineer at",
    "start": "3520",
    "end": "5279"
  },
  {
    "text": "intuit and presenting",
    "start": "5279",
    "end": "6960"
  },
  {
    "text": "with me today is chronti vikram a staff",
    "start": "6960",
    "end": "8960"
  },
  {
    "text": "software engineer at intuit",
    "start": "8960",
    "end": "10559"
  },
  {
    "text": "and today we're going to be talking",
    "start": "10559",
    "end": "11920"
  },
  {
    "text": "about observability at scale",
    "start": "11920",
    "end": "13840"
  },
  {
    "text": "running open telemetry across an",
    "start": "13840",
    "end": "15200"
  },
  {
    "text": "enterprise a look at",
    "start": "15200",
    "end": "17279"
  },
  {
    "text": "into its journey of adopting open",
    "start": "17279",
    "end": "19199"
  },
  {
    "text": "telemetry to power our distributed",
    "start": "19199",
    "end": "20960"
  },
  {
    "text": "tracing",
    "start": "20960",
    "end": "21760"
  },
  {
    "text": "and other observability solutions",
    "start": "21760",
    "end": "25680"
  },
  {
    "text": "first let's take a look at the agenda",
    "start": "25680",
    "end": "27279"
  },
  {
    "text": "for today's talk",
    "start": "27279",
    "end": "30000"
  },
  {
    "text": "first we're going to be talking about",
    "start": "30000",
    "end": "31119"
  },
  {
    "text": "the journey into its head towards",
    "start": "31119",
    "end": "33120"
  },
  {
    "text": "adopting open telemetry and distributed",
    "start": "33120",
    "end": "34719"
  },
  {
    "text": "tracing",
    "start": "34719",
    "end": "36160"
  },
  {
    "text": "you know we're really going to talk",
    "start": "36160",
    "end": "37520"
  },
  {
    "text": "about kind of the state we were in about",
    "start": "37520",
    "end": "39440"
  },
  {
    "text": "18 to 24 months ago",
    "start": "39440",
    "end": "42000"
  },
  {
    "text": "the problems that our engineers and our",
    "start": "42000",
    "end": "43680"
  },
  {
    "text": "on-call engineers were facing",
    "start": "43680",
    "end": "46480"
  },
  {
    "text": "the solutions",
    "start": "46480",
    "end": "49520"
  },
  {
    "text": "that they were using and really how",
    "start": "49520",
    "end": "51680"
  },
  {
    "text": "adopting tools like open telemetry",
    "start": "51680",
    "end": "53920"
  },
  {
    "text": "jaeger and other vendored tools",
    "start": "53920",
    "end": "56960"
  },
  {
    "text": "has really enabled intuit to uh solve",
    "start": "56960",
    "end": "59520"
  },
  {
    "text": "some of those problems",
    "start": "59520",
    "end": "61120"
  },
  {
    "text": "from there we'll go into collection and",
    "start": "61120",
    "end": "63440"
  },
  {
    "text": "instrumentation of trace data",
    "start": "63440",
    "end": "65198"
  },
  {
    "text": "so we'll talk about how we've managed to",
    "start": "65199",
    "end": "67439"
  },
  {
    "text": "collect",
    "start": "67439",
    "end": "68400"
  },
  {
    "text": "all of the data from the services",
    "start": "68400",
    "end": "70240"
  },
  {
    "text": "running it into it",
    "start": "70240",
    "end": "71520"
  },
  {
    "text": "and how we instrumented those services",
    "start": "71520",
    "end": "73280"
  },
  {
    "text": "in a pretty easy way",
    "start": "73280",
    "end": "75040"
  },
  {
    "text": "so that they could collect trace data",
    "start": "75040",
    "end": "77840"
  },
  {
    "text": "then we'll talk about",
    "start": "77840",
    "end": "79040"
  },
  {
    "text": "some of the processors we've built on",
    "start": "79040",
    "end": "81040"
  },
  {
    "text": "top of open telemetry",
    "start": "81040",
    "end": "82720"
  },
  {
    "text": "specifically how we are able to extract",
    "start": "82720",
    "end": "85360"
  },
  {
    "text": "metrics from our trace data",
    "start": "85360",
    "end": "87600"
  },
  {
    "text": "and finally we'll talk about tracing's",
    "start": "87600",
    "end": "89680"
  },
  {
    "text": "role in reducing",
    "start": "89680",
    "end": "90640"
  },
  {
    "text": "mttr and mgtd that's mean time to repair",
    "start": "90640",
    "end": "93840"
  },
  {
    "text": "and mean time to detect",
    "start": "93840",
    "end": "95200"
  },
  {
    "text": "for our services okay so first",
    "start": "95200",
    "end": "98720"
  },
  {
    "text": "let's look at kind of the state into it",
    "start": "98720",
    "end": "101040"
  },
  {
    "text": "within 18 to 24 months ago",
    "start": "101040",
    "end": "104720"
  },
  {
    "text": "we were in a state 18 to 24 months ago",
    "start": "104960",
    "end": "106880"
  },
  {
    "text": "where uh not too",
    "start": "106880",
    "end": "108560"
  },
  {
    "text": "far from where we are today but we had",
    "start": "108560",
    "end": "111040"
  },
  {
    "text": "services running",
    "start": "111040",
    "end": "112159"
  },
  {
    "text": "in a huge polygon environment you know",
    "start": "112159",
    "end": "114399"
  },
  {
    "text": "we had",
    "start": "114399",
    "end": "115600"
  },
  {
    "text": "teams running services in kubernetes uh",
    "start": "115600",
    "end": "119119"
  },
  {
    "text": "in aws we had teams running just on bare",
    "start": "119119",
    "end": "122240"
  },
  {
    "text": "metal ec2 instances we had teams running",
    "start": "122240",
    "end": "124799"
  },
  {
    "text": "serverless functions we had teams",
    "start": "124799",
    "end": "126719"
  },
  {
    "text": "running in an on-prem data center",
    "start": "126719",
    "end": "128640"
  },
  {
    "text": "and we had uh a variety of tools that",
    "start": "128640",
    "end": "131440"
  },
  {
    "text": "these services and teams were",
    "start": "131440",
    "end": "132480"
  },
  {
    "text": "interacting with you know",
    "start": "132480",
    "end": "133520"
  },
  {
    "text": "we had an istio service mesh we had uh",
    "start": "133520",
    "end": "136720"
  },
  {
    "text": "dynamodb resources rds resources really",
    "start": "136720",
    "end": "140879"
  },
  {
    "text": "a really truly polyglot stack and",
    "start": "140879",
    "end": "144239"
  },
  {
    "text": "our engineers uh well while this gave",
    "start": "144239",
    "end": "146080"
  },
  {
    "text": "them a lot of flexibility",
    "start": "146080",
    "end": "148000"
  },
  {
    "text": "we started to notice some pretty common",
    "start": "148000",
    "end": "150319"
  },
  {
    "text": "problems across",
    "start": "150319",
    "end": "151200"
  },
  {
    "text": "teams one of the biggest ones being that",
    "start": "151200",
    "end": "154480"
  },
  {
    "text": "when teams were talking and",
    "start": "154480",
    "end": "155599"
  },
  {
    "text": "communicating with other services uh",
    "start": "155599",
    "end": "157920"
  },
  {
    "text": "troubleshooting uh both latency issues",
    "start": "157920",
    "end": "160400"
  },
  {
    "text": "and air issues became",
    "start": "160400",
    "end": "162000"
  },
  {
    "text": "really difficult you know we had several",
    "start": "162000",
    "end": "165040"
  },
  {
    "text": "incidents where teams would jump on a",
    "start": "165040",
    "end": "166400"
  },
  {
    "text": "call",
    "start": "166400",
    "end": "167120"
  },
  {
    "text": "and it was basically like domino's",
    "start": "167120",
    "end": "169760"
  },
  {
    "text": "trying to page the right on-call team",
    "start": "169760",
    "end": "171599"
  },
  {
    "text": "team one would notice latency they would",
    "start": "171599",
    "end": "173680"
  },
  {
    "text": "get uh you know on onto",
    "start": "173680",
    "end": "175440"
  },
  {
    "text": "some kind of uh virtual call and then",
    "start": "175440",
    "end": "177920"
  },
  {
    "text": "they would realize oh no it's team two",
    "start": "177920",
    "end": "179360"
  },
  {
    "text": "and then we would page team two",
    "start": "179360",
    "end": "181200"
  },
  {
    "text": "and then pinch would be like oh no it's",
    "start": "181200",
    "end": "182560"
  },
  {
    "text": "hit team three and we just keep paging",
    "start": "182560",
    "end": "184640"
  },
  {
    "text": "teams down the stack until we realized",
    "start": "184640",
    "end": "186480"
  },
  {
    "text": "where the root cause was because teams",
    "start": "186480",
    "end": "188159"
  },
  {
    "text": "didn't have visibility",
    "start": "188159",
    "end": "189280"
  },
  {
    "text": "past their own services and the reason",
    "start": "189280",
    "end": "192640"
  },
  {
    "text": "they didn't have this visibility is",
    "start": "192640",
    "end": "193760"
  },
  {
    "text": "because we really didn't have",
    "start": "193760",
    "end": "194879"
  },
  {
    "text": "the tool chain to actually identify what",
    "start": "194879",
    "end": "198080"
  },
  {
    "text": "these dependencies were and how far they",
    "start": "198080",
    "end": "199680"
  },
  {
    "text": "went",
    "start": "199680",
    "end": "200400"
  },
  {
    "text": "we had a very basic tracing mechanism we",
    "start": "200400",
    "end": "203840"
  },
  {
    "text": "had a",
    "start": "203840",
    "end": "204319"
  },
  {
    "text": "a header called intuit underscore to",
    "start": "204319",
    "end": "206319"
  },
  {
    "text": "yeti which was intuitive",
    "start": "206319",
    "end": "208480"
  },
  {
    "text": "which services generally propagated not",
    "start": "208480",
    "end": "210799"
  },
  {
    "text": "100 coverage but",
    "start": "210799",
    "end": "212000"
  },
  {
    "text": "you know they were pretty good about",
    "start": "212000",
    "end": "212799"
  },
  {
    "text": "propagating but this header really",
    "start": "212799",
    "end": "215200"
  },
  {
    "text": "didn't",
    "start": "215200",
    "end": "215760"
  },
  {
    "text": "uh tell us anything about the",
    "start": "215760",
    "end": "217840"
  },
  {
    "text": "relationships between services other",
    "start": "217840",
    "end": "219440"
  },
  {
    "text": "than that",
    "start": "219440",
    "end": "220319"
  },
  {
    "text": "uh they both had a common api call you",
    "start": "220319",
    "end": "222480"
  },
  {
    "text": "know the only way you could use this",
    "start": "222480",
    "end": "224239"
  },
  {
    "text": "header was searching in our log storage",
    "start": "224239",
    "end": "226640"
  },
  {
    "text": "and even then we had you had to search",
    "start": "226640",
    "end": "228319"
  },
  {
    "text": "across three or four different",
    "start": "228319",
    "end": "230159"
  },
  {
    "text": "uh log indexes to actually be able to",
    "start": "230159",
    "end": "232319"
  },
  {
    "text": "use that data",
    "start": "232319",
    "end": "233599"
  },
  {
    "text": "and that data still wasn't you know it",
    "start": "233599",
    "end": "235360"
  },
  {
    "text": "didn't solve for problems like",
    "start": "235360",
    "end": "238000"
  },
  {
    "text": "asynchronous communication over a kafka",
    "start": "238000",
    "end": "240239"
  },
  {
    "text": "broker",
    "start": "240239",
    "end": "241040"
  },
  {
    "text": "or i didn't solve for clock ski between",
    "start": "241040",
    "end": "243439"
  },
  {
    "text": "services and it didn't have",
    "start": "243439",
    "end": "244799"
  },
  {
    "text": "information about like parent-child",
    "start": "244799",
    "end": "246959"
  },
  {
    "text": "relationships",
    "start": "246959",
    "end": "247920"
  },
  {
    "text": "so it was really really hard to use that",
    "start": "247920",
    "end": "250000"
  },
  {
    "text": "header to actually understand what",
    "start": "250000",
    "end": "251840"
  },
  {
    "text": "dependencies between services were",
    "start": "251840",
    "end": "255840"
  },
  {
    "text": "you know this diagram really just shows",
    "start": "257120",
    "end": "258880"
  },
  {
    "text": "kind of that that state",
    "start": "258880",
    "end": "260479"
  },
  {
    "text": "where we have all of these different",
    "start": "260479",
    "end": "261680"
  },
  {
    "text": "application instances you know uh maybe",
    "start": "261680",
    "end": "264160"
  },
  {
    "text": "central services or services specific to",
    "start": "264160",
    "end": "266240"
  },
  {
    "text": "like our quickbooks platform uh",
    "start": "266240",
    "end": "268320"
  },
  {
    "text": "all pushing data to different log",
    "start": "268320",
    "end": "270560"
  },
  {
    "text": "indexer and search tools",
    "start": "270560",
    "end": "271840"
  },
  {
    "text": "you know so the shared services would",
    "start": "271840",
    "end": "273840"
  },
  {
    "text": "have their own instance of",
    "start": "273840",
    "end": "275040"
  },
  {
    "text": "a log indexer the quickbooks services",
    "start": "275040",
    "end": "278080"
  },
  {
    "text": "would have their own",
    "start": "278080",
    "end": "279120"
  },
  {
    "text": "instances of a log indexer and these",
    "start": "279120",
    "end": "280560"
  },
  {
    "text": "instances weren't talking to each other",
    "start": "280560",
    "end": "282720"
  },
  {
    "text": "and it's the same story for like apm",
    "start": "282720",
    "end": "284240"
  },
  {
    "text": "tools so you know intuit",
    "start": "284240",
    "end": "286880"
  },
  {
    "text": "leverages a tool called appdynamics and",
    "start": "286880",
    "end": "289280"
  },
  {
    "text": "it was sort of the same story where",
    "start": "289280",
    "end": "290639"
  },
  {
    "text": "these",
    "start": "290639",
    "end": "291040"
  },
  {
    "text": "uh some of our services were pushed to",
    "start": "291040",
    "end": "293199"
  },
  {
    "text": "one instance",
    "start": "293199",
    "end": "294400"
  },
  {
    "text": "uh on the app dynamics task platform and",
    "start": "294400",
    "end": "297040"
  },
  {
    "text": "other services would push through a",
    "start": "297040",
    "end": "298080"
  },
  {
    "text": "second instance",
    "start": "298080",
    "end": "299120"
  },
  {
    "text": "and these instances couldn't talk to",
    "start": "299120",
    "end": "300479"
  },
  {
    "text": "each other so none of this correlation",
    "start": "300479",
    "end": "302400"
  },
  {
    "text": "data between services was actually",
    "start": "302400",
    "end": "304639"
  },
  {
    "text": "visible in a core like single place",
    "start": "304639",
    "end": "307120"
  },
  {
    "text": "developers had to go through multiple",
    "start": "307120",
    "end": "308560"
  },
  {
    "text": "tools",
    "start": "308560",
    "end": "309440"
  },
  {
    "text": "you know multiple log instances multiple",
    "start": "309440",
    "end": "311120"
  },
  {
    "text": "apm tools really to get a sense of the",
    "start": "311120",
    "end": "313440"
  },
  {
    "text": "the system why health they couldn't just",
    "start": "313440",
    "end": "314960"
  },
  {
    "text": "go into one place and say",
    "start": "314960",
    "end": "316400"
  },
  {
    "text": "hey so this request this",
    "start": "316400",
    "end": "319440"
  },
  {
    "text": "these are all the services involved",
    "start": "319440",
    "end": "320720"
  },
  {
    "text": "these are the latency times that each of",
    "start": "320720",
    "end": "322160"
  },
  {
    "text": "them spent",
    "start": "322160",
    "end": "323280"
  },
  {
    "text": "and it was a real problem right",
    "start": "323280",
    "end": "326479"
  },
  {
    "text": "engineers couldn't troubleshoot issues",
    "start": "326479",
    "end": "328560"
  },
  {
    "text": "in just a minute or two it often would",
    "start": "328560",
    "end": "330000"
  },
  {
    "text": "take 20 30 minutes",
    "start": "330000",
    "end": "331440"
  },
  {
    "text": "just to understand how one certain api",
    "start": "331440",
    "end": "334479"
  },
  {
    "text": "or request was working across the system",
    "start": "334479",
    "end": "337440"
  },
  {
    "text": "and some other problems that kind of uh",
    "start": "337440",
    "end": "339919"
  },
  {
    "text": "you know in the same area",
    "start": "339919",
    "end": "341759"
  },
  {
    "text": "were that we didn't have a standard",
    "start": "341759",
    "end": "343120"
  },
  {
    "text": "trace log format uh that intuit tid was",
    "start": "343120",
    "end": "345840"
  },
  {
    "text": "really the only thing that was powering",
    "start": "345840",
    "end": "347199"
  },
  {
    "text": "it and nobody interrupted it you know",
    "start": "347199",
    "end": "348960"
  },
  {
    "text": "app dynamics didn't understand it",
    "start": "348960",
    "end": "351039"
  },
  {
    "text": "new relic wouldn't understand none of",
    "start": "351039",
    "end": "352560"
  },
  {
    "text": "these solutions would go out there and",
    "start": "352560",
    "end": "354240"
  },
  {
    "text": "understand",
    "start": "354240",
    "end": "354880"
  },
  {
    "text": "what that header meant we didn't have a",
    "start": "354880",
    "end": "357520"
  },
  {
    "text": "single tracing solution across into it",
    "start": "357520",
    "end": "359759"
  },
  {
    "text": "some teams had looked at different",
    "start": "359759",
    "end": "361840"
  },
  {
    "text": "standards you know within",
    "start": "361840",
    "end": "362960"
  },
  {
    "text": "small groups teams might be using",
    "start": "362960",
    "end": "364560"
  },
  {
    "text": "something like a zipkin to actually",
    "start": "364560",
    "end": "366960"
  },
  {
    "text": "trace the requests across their three or",
    "start": "366960",
    "end": "368400"
  },
  {
    "text": "four services but across the company",
    "start": "368400",
    "end": "370160"
  },
  {
    "text": "there is no single place that you could",
    "start": "370160",
    "end": "371600"
  },
  {
    "text": "go and actually",
    "start": "371600",
    "end": "373520"
  },
  {
    "text": "visualize a trace across all intuit",
    "start": "373520",
    "end": "375440"
  },
  {
    "text": "services involved in the request",
    "start": "375440",
    "end": "377039"
  },
  {
    "text": "which was a huge problem um",
    "start": "377039",
    "end": "380560"
  },
  {
    "text": "and so you know with these problems we",
    "start": "380560",
    "end": "382560"
  },
  {
    "text": "had a",
    "start": "382560",
    "end": "383600"
  },
  {
    "text": "we had a team get together and really",
    "start": "383600",
    "end": "385280"
  },
  {
    "text": "think about like what is the right",
    "start": "385280",
    "end": "386319"
  },
  {
    "text": "solution we we looked at the",
    "start": "386319",
    "end": "388639"
  },
  {
    "text": "uh industry where they were at uh there",
    "start": "388639",
    "end": "391600"
  },
  {
    "text": "were a couple standards at the time that",
    "start": "391600",
    "end": "392880"
  },
  {
    "text": "were competing there was open tracing",
    "start": "392880",
    "end": "394720"
  },
  {
    "text": "there was open census both in the",
    "start": "394720",
    "end": "396720"
  },
  {
    "text": "distributed tracing space both had their",
    "start": "396720",
    "end": "398240"
  },
  {
    "text": "own standards in terms of how to",
    "start": "398240",
    "end": "399440"
  },
  {
    "text": "propagate",
    "start": "399440",
    "end": "400160"
  },
  {
    "text": "data and we we looked at",
    "start": "400160",
    "end": "403520"
  },
  {
    "text": "first attempting to build our own",
    "start": "403520",
    "end": "406000"
  },
  {
    "text": "tracing library",
    "start": "406000",
    "end": "406960"
  },
  {
    "text": "that kind of leverage some of those",
    "start": "406960",
    "end": "408319"
  },
  {
    "text": "standards to propagate information",
    "start": "408319",
    "end": "412000"
  },
  {
    "text": "now before we get into that though i",
    "start": "412960",
    "end": "414560"
  },
  {
    "text": "want to talk about the role of",
    "start": "414560",
    "end": "415919"
  },
  {
    "text": "observability",
    "start": "415919",
    "end": "417520"
  },
  {
    "text": "in reducing those outages that we were",
    "start": "417520",
    "end": "419280"
  },
  {
    "text": "talking about or those incidents that we",
    "start": "419280",
    "end": "420400"
  },
  {
    "text": "were talking about",
    "start": "420400",
    "end": "421759"
  },
  {
    "text": "intuit you know as a sas provider has a",
    "start": "421759",
    "end": "424080"
  },
  {
    "text": "pretty",
    "start": "424080",
    "end": "424800"
  },
  {
    "text": "high standard for how much time that we",
    "start": "424800",
    "end": "426639"
  },
  {
    "text": "want to spend during an incident down",
    "start": "426639",
    "end": "428639"
  },
  {
    "text": "obviously as as little as possible",
    "start": "428639",
    "end": "431680"
  },
  {
    "text": "but in this case we have a budget",
    "start": "431680",
    "end": "434720"
  },
  {
    "text": "max across all services of around 22",
    "start": "434720",
    "end": "437120"
  },
  {
    "text": "minutes per month",
    "start": "437120",
    "end": "438000"
  },
  {
    "text": "of downtime at most and",
    "start": "438000",
    "end": "441039"
  },
  {
    "text": "you know one of the things to highlight",
    "start": "441039",
    "end": "443280"
  },
  {
    "text": "here is that that budget isn't just for",
    "start": "443280",
    "end": "445840"
  },
  {
    "text": "time to repair things but it also",
    "start": "445840",
    "end": "447280"
  },
  {
    "text": "includes time waiting for like time to",
    "start": "447280",
    "end": "449360"
  },
  {
    "text": "detect as",
    "start": "449360",
    "end": "449919"
  },
  {
    "text": "well waiting for alerts to go off",
    "start": "449919",
    "end": "451520"
  },
  {
    "text": "waiting for the on-call to join an",
    "start": "451520",
    "end": "453360"
  },
  {
    "text": "incident call and page other people",
    "start": "453360",
    "end": "455520"
  },
  {
    "text": "so when we think about it at 22 minutes",
    "start": "455520",
    "end": "457520"
  },
  {
    "text": "is really",
    "start": "457520",
    "end": "458639"
  },
  {
    "text": "almost no time at all and so",
    "start": "458639",
    "end": "462400"
  },
  {
    "text": "if we can bring that any tooling that we",
    "start": "462400",
    "end": "465199"
  },
  {
    "text": "can get that can help us",
    "start": "465199",
    "end": "466479"
  },
  {
    "text": "improve the time to both detect and time",
    "start": "466479",
    "end": "469120"
  },
  {
    "text": "to recover",
    "start": "469120",
    "end": "469840"
  },
  {
    "text": "uh on an incident is uh something that",
    "start": "469840",
    "end": "472400"
  },
  {
    "text": "intro is very interested in and that's",
    "start": "472400",
    "end": "473840"
  },
  {
    "text": "why we",
    "start": "473840",
    "end": "474319"
  },
  {
    "text": "started looking at observability tools",
    "start": "474319",
    "end": "476000"
  },
  {
    "text": "uh and in the distributed tracing space",
    "start": "476000",
    "end": "477919"
  },
  {
    "text": "in general",
    "start": "477919",
    "end": "478639"
  },
  {
    "text": "was to solve both uh better mean to dime",
    "start": "478639",
    "end": "481039"
  },
  {
    "text": "to detect",
    "start": "481039",
    "end": "482000"
  },
  {
    "text": "and also help our engineers uh recover",
    "start": "482000",
    "end": "484639"
  },
  {
    "text": "faster",
    "start": "484639",
    "end": "485199"
  },
  {
    "text": "and be able to isolate the problem",
    "start": "485199",
    "end": "488080"
  },
  {
    "text": "faster",
    "start": "488080",
    "end": "490478"
  },
  {
    "text": "okay so let's go into distributed",
    "start": "491840",
    "end": "494319"
  },
  {
    "text": "tracing",
    "start": "494319",
    "end": "494879"
  },
  {
    "text": "uh and kind of how that first",
    "start": "494879",
    "end": "497120"
  },
  {
    "text": "distributed tracing library that intuit",
    "start": "497120",
    "end": "498639"
  },
  {
    "text": "worked on",
    "start": "498639",
    "end": "499520"
  },
  {
    "text": "um got us from a not so great state to",
    "start": "499520",
    "end": "502240"
  },
  {
    "text": "an okay state",
    "start": "502240",
    "end": "503599"
  },
  {
    "text": "uh so if we look at the diagram at the",
    "start": "503599",
    "end": "505039"
  },
  {
    "text": "left here we're basically just showing a",
    "start": "505039",
    "end": "507440"
  },
  {
    "text": "service diagram",
    "start": "507440",
    "end": "508479"
  },
  {
    "text": "of 10 or 15 requests where",
    "start": "508479",
    "end": "511520"
  },
  {
    "text": "it shows all of these requests coming in",
    "start": "511520",
    "end": "513360"
  },
  {
    "text": "all these requests bouncing across",
    "start": "513360",
    "end": "514640"
  },
  {
    "text": "different services",
    "start": "514640",
    "end": "515839"
  },
  {
    "text": "and it's really hard to follow which",
    "start": "515839",
    "end": "517518"
  },
  {
    "text": "requests are actually going to which",
    "start": "517519",
    "end": "519440"
  },
  {
    "text": "service",
    "start": "519440",
    "end": "520240"
  },
  {
    "text": "and this diagram is pretty",
    "start": "520240",
    "end": "521760"
  },
  {
    "text": "representative how it felt to be an",
    "start": "521760",
    "end": "523200"
  },
  {
    "text": "intuit engineer at the time",
    "start": "523200",
    "end": "524800"
  },
  {
    "text": "um where you saw these requests come in",
    "start": "524800",
    "end": "526800"
  },
  {
    "text": "you had you know you had the links here",
    "start": "526800",
    "end": "529279"
  },
  {
    "text": "but it was really hard to follow the",
    "start": "529279",
    "end": "530800"
  },
  {
    "text": "path uh between these requests to",
    "start": "530800",
    "end": "533040"
  },
  {
    "text": "actually understand",
    "start": "533040",
    "end": "534240"
  },
  {
    "text": "the dependencies in these services so",
    "start": "534240",
    "end": "537120"
  },
  {
    "text": "when we rolled out our first tracing",
    "start": "537120",
    "end": "538800"
  },
  {
    "text": "library which was basically just a",
    "start": "538800",
    "end": "541360"
  },
  {
    "text": "library that extended",
    "start": "541360",
    "end": "542720"
  },
  {
    "text": "the intuit tid header and added some",
    "start": "542720",
    "end": "545920"
  },
  {
    "text": "spam headers as well a stand being just",
    "start": "545920",
    "end": "548800"
  },
  {
    "text": "you know a compo",
    "start": "548800",
    "end": "549760"
  },
  {
    "text": "one part of a larger trace um",
    "start": "549760",
    "end": "553839"
  },
  {
    "text": "we started to see that we could actually",
    "start": "553839",
    "end": "555279"
  },
  {
    "text": "identify uh requests",
    "start": "555279",
    "end": "557120"
  },
  {
    "text": "throughout the system and see where they",
    "start": "557120",
    "end": "558480"
  },
  {
    "text": "started see where they ended and it's a",
    "start": "558480",
    "end": "560160"
  },
  {
    "text": "little bit easier to",
    "start": "560160",
    "end": "561600"
  },
  {
    "text": "search through the noise you know we",
    "start": "561600",
    "end": "563040"
  },
  {
    "text": "could see the the path that an",
    "start": "563040",
    "end": "564240"
  },
  {
    "text": "individual request was taking",
    "start": "564240",
    "end": "566959"
  },
  {
    "text": "and as we noticed this as we discovered",
    "start": "566959",
    "end": "569440"
  },
  {
    "text": "that yes distributed tracing like",
    "start": "569440",
    "end": "570959"
  },
  {
    "text": "actually",
    "start": "570959",
    "end": "571760"
  },
  {
    "text": "is going to be very valuable to intuit",
    "start": "571760",
    "end": "573839"
  },
  {
    "text": "uh we realized that we should",
    "start": "573839",
    "end": "576000"
  },
  {
    "text": "invest heavily in it and actually start",
    "start": "576000",
    "end": "577519"
  },
  {
    "text": "to adopt open standards instead",
    "start": "577519",
    "end": "581040"
  },
  {
    "text": "okay uh quick highlight of some of the",
    "start": "582640",
    "end": "584800"
  },
  {
    "text": "terminology i'm",
    "start": "584800",
    "end": "586000"
  },
  {
    "text": "mentioning here in terms of how",
    "start": "586000",
    "end": "588080"
  },
  {
    "text": "distributed tracing systems generally",
    "start": "588080",
    "end": "589760"
  },
  {
    "text": "work",
    "start": "589760",
    "end": "590480"
  },
  {
    "text": "there's two key concepts to understand",
    "start": "590480",
    "end": "592399"
  },
  {
    "text": "here",
    "start": "592399",
    "end": "593519"
  },
  {
    "text": "there's the concept of a trace so the",
    "start": "593519",
    "end": "595600"
  },
  {
    "text": "trace in this diagram is",
    "start": "595600",
    "end": "597120"
  },
  {
    "text": "every basically everything under this a",
    "start": "597120",
    "end": "600160"
  },
  {
    "text": "block and including this a block",
    "start": "600160",
    "end": "602240"
  },
  {
    "text": "and all of those individual objects are",
    "start": "602240",
    "end": "604160"
  },
  {
    "text": "called spans",
    "start": "604160",
    "end": "605680"
  },
  {
    "text": "and those fans are usually just single",
    "start": "605680",
    "end": "607360"
  },
  {
    "text": "operations in",
    "start": "607360",
    "end": "608800"
  },
  {
    "text": "that are part of a trace so if you want",
    "start": "608800",
    "end": "611200"
  },
  {
    "text": "to think about it in terms of like an",
    "start": "611200",
    "end": "612320"
  },
  {
    "text": "api call let's say i'm making an api",
    "start": "612320",
    "end": "614079"
  },
  {
    "text": "call to the hacker news",
    "start": "614079",
    "end": "615200"
  },
  {
    "text": "api um that entire the single api call",
    "start": "615200",
    "end": "619120"
  },
  {
    "text": "and everything that happened in it would",
    "start": "619120",
    "end": "620560"
  },
  {
    "text": "be a trace",
    "start": "620560",
    "end": "621680"
  },
  {
    "text": "uh each individual operation in that",
    "start": "621680",
    "end": "624160"
  },
  {
    "text": "call so",
    "start": "624160",
    "end": "624880"
  },
  {
    "text": "any uh api gateway operations any",
    "start": "624880",
    "end": "627519"
  },
  {
    "text": "database operations any business logic",
    "start": "627519",
    "end": "629839"
  },
  {
    "text": "all of those would be individual spans",
    "start": "629839",
    "end": "632079"
  },
  {
    "text": "that ladder up",
    "start": "632079",
    "end": "632959"
  },
  {
    "text": "to serving that api call",
    "start": "632959",
    "end": "636640"
  },
  {
    "text": "and so the way that these tools are",
    "start": "637040",
    "end": "639600"
  },
  {
    "text": "actually",
    "start": "639600",
    "end": "640240"
  },
  {
    "text": "and these models are actually used is",
    "start": "640240",
    "end": "643120"
  },
  {
    "text": "that you know you have a request come",
    "start": "643120",
    "end": "644399"
  },
  {
    "text": "into a microservice",
    "start": "644399",
    "end": "646160"
  },
  {
    "text": "that request is going to have some kind",
    "start": "646160",
    "end": "647839"
  },
  {
    "text": "of trace data on it you know maybe a",
    "start": "647839",
    "end": "650240"
  },
  {
    "text": "trace header or maybe nothing at all",
    "start": "650240",
    "end": "652640"
  },
  {
    "text": "that microservice when it calls other",
    "start": "652640",
    "end": "654399"
  },
  {
    "text": "services or does other operations",
    "start": "654399",
    "end": "656480"
  },
  {
    "text": "is going to create those new span",
    "start": "656480",
    "end": "658079"
  },
  {
    "text": "objects that we talked about",
    "start": "658079",
    "end": "660000"
  },
  {
    "text": "and those span objects are going to",
    "start": "660000",
    "end": "661200"
  },
  {
    "text": "interact with some kind of local tracing",
    "start": "661200",
    "end": "662720"
  },
  {
    "text": "api",
    "start": "662720",
    "end": "663600"
  },
  {
    "text": "so in our case it's an open tracing api",
    "start": "663600",
    "end": "666720"
  },
  {
    "text": "in the jvm typically that tracing api",
    "start": "666720",
    "end": "670480"
  },
  {
    "text": "is going to be configured to talk to",
    "start": "670480",
    "end": "671839"
  },
  {
    "text": "some tracing library",
    "start": "671839",
    "end": "673760"
  },
  {
    "text": "or tracing collector and then that",
    "start": "673760",
    "end": "675680"
  },
  {
    "text": "tracing collector is going to send data",
    "start": "675680",
    "end": "676959"
  },
  {
    "text": "to a trace storage layer",
    "start": "676959",
    "end": "678800"
  },
  {
    "text": "and this is generally how you're going",
    "start": "678800",
    "end": "679839"
  },
  {
    "text": "to see most tracing architectures work",
    "start": "679839",
    "end": "681600"
  },
  {
    "text": "at a high level",
    "start": "681600",
    "end": "682560"
  },
  {
    "text": "is that they're going to have some kind",
    "start": "682560",
    "end": "683440"
  },
  {
    "text": "of instrumentation on your app servers",
    "start": "683440",
    "end": "686160"
  },
  {
    "text": "that instrumentation is going to help uh",
    "start": "686160",
    "end": "689200"
  },
  {
    "text": "facilitate the propagation of the",
    "start": "689200",
    "end": "692079"
  },
  {
    "text": "required headers like",
    "start": "692079",
    "end": "693279"
  },
  {
    "text": "trace ids fan ids and then any like",
    "start": "693279",
    "end": "695360"
  },
  {
    "text": "baggage",
    "start": "695360",
    "end": "696480"
  },
  {
    "text": "between systems and then all of these",
    "start": "696480",
    "end": "698240"
  },
  {
    "text": "systems are going to independently",
    "start": "698240",
    "end": "699680"
  },
  {
    "text": "report",
    "start": "699680",
    "end": "700720"
  },
  {
    "text": "their view of the trace so the spans",
    "start": "700720",
    "end": "702399"
  },
  {
    "text": "that they generate",
    "start": "702399",
    "end": "703839"
  },
  {
    "text": "to that tracing api that they have which",
    "start": "703839",
    "end": "705839"
  },
  {
    "text": "is going to kind of send it to a",
    "start": "705839",
    "end": "707040"
  },
  {
    "text": "collector which will",
    "start": "707040",
    "end": "708079"
  },
  {
    "text": "store it and normalize it so that when",
    "start": "708079",
    "end": "711040"
  },
  {
    "text": "somebody wants to come and view it",
    "start": "711040",
    "end": "712720"
  },
  {
    "text": "they're able to use some trace",
    "start": "712720",
    "end": "714880"
  },
  {
    "text": "visualization tool like",
    "start": "714880",
    "end": "716000"
  },
  {
    "text": "jager or zipkin or or any of the the",
    "start": "716000",
    "end": "718720"
  },
  {
    "text": "third-party vendors out there",
    "start": "718720",
    "end": "720480"
  },
  {
    "text": "to actually reconstruct the full view of",
    "start": "720480",
    "end": "722240"
  },
  {
    "text": "the trace and then do",
    "start": "722240",
    "end": "723839"
  },
  {
    "text": "maybe analytics uh in terms of like",
    "start": "723839",
    "end": "726160"
  },
  {
    "text": "generating metrics or things like that",
    "start": "726160",
    "end": "727600"
  },
  {
    "text": "on it",
    "start": "727600",
    "end": "730320"
  },
  {
    "text": "so we look at how we set this",
    "start": "730320",
    "end": "732480"
  },
  {
    "text": "architecture up into it it basically",
    "start": "732480",
    "end": "734240"
  },
  {
    "text": "follows that guide that we looked at",
    "start": "734240",
    "end": "735440"
  },
  {
    "text": "before",
    "start": "735440",
    "end": "736800"
  },
  {
    "text": "so intuit today has two primary ways of",
    "start": "736800",
    "end": "740560"
  },
  {
    "text": "running services",
    "start": "740560",
    "end": "741839"
  },
  {
    "text": "we have services that run on kubernetes",
    "start": "741839",
    "end": "744959"
  },
  {
    "text": "so they you know they'll have multiple",
    "start": "744959",
    "end": "747279"
  },
  {
    "text": "pods running at kubernetes cluster",
    "start": "747279",
    "end": "749360"
  },
  {
    "text": "or we have services running on just pure",
    "start": "749360",
    "end": "751200"
  },
  {
    "text": "ec2 on aws so they'll you know",
    "start": "751200",
    "end": "753440"
  },
  {
    "text": "they'll have a ami that they use they",
    "start": "753440",
    "end": "756240"
  },
  {
    "text": "will",
    "start": "756240",
    "end": "756959"
  },
  {
    "text": "start their server and they might have",
    "start": "756959",
    "end": "758720"
  },
  {
    "text": "one or several daemons running on that",
    "start": "758720",
    "end": "762160"
  },
  {
    "text": "and so for both of those cases today we",
    "start": "762160",
    "end": "764720"
  },
  {
    "text": "run an open telemetry agent",
    "start": "764720",
    "end": "766560"
  },
  {
    "text": "which is just you know basically a",
    "start": "766560",
    "end": "768240"
  },
  {
    "text": "configured container",
    "start": "768240",
    "end": "770720"
  },
  {
    "text": "using the open source open telemetry",
    "start": "770720",
    "end": "772639"
  },
  {
    "text": "agent container",
    "start": "772639",
    "end": "774240"
  },
  {
    "text": "that has configuration to send to a aws",
    "start": "774240",
    "end": "777760"
  },
  {
    "text": "private link endpoint so every time a",
    "start": "777760",
    "end": "780160"
  },
  {
    "text": "new",
    "start": "780160",
    "end": "780800"
  },
  {
    "text": "node joins our kubernetes cluster we've",
    "start": "780800",
    "end": "782720"
  },
  {
    "text": "got a kubernetes daemon set in place",
    "start": "782720",
    "end": "785040"
  },
  {
    "text": "that will automatically provision an",
    "start": "785040",
    "end": "787440"
  },
  {
    "text": "open selemetry agent",
    "start": "787440",
    "end": "788800"
  },
  {
    "text": "that open telemetry agent is",
    "start": "788800",
    "end": "790079"
  },
  {
    "text": "automatically configured to use",
    "start": "790079",
    "end": "792639"
  },
  {
    "text": "grpc with an aws private link",
    "start": "792639",
    "end": "797360"
  },
  {
    "text": "endpoint that's automatically configured",
    "start": "797360",
    "end": "798959"
  },
  {
    "text": "in that account to talk to a central",
    "start": "798959",
    "end": "800959"
  },
  {
    "text": "collector tier",
    "start": "800959",
    "end": "802079"
  },
  {
    "text": "and it's the same thing on our ec2",
    "start": "802079",
    "end": "803440"
  },
  {
    "text": "instances today when you",
    "start": "803440",
    "end": "805760"
  },
  {
    "text": "provision a new ec2 instance using the",
    "start": "805760",
    "end": "807760"
  },
  {
    "text": "intuit base ami",
    "start": "807760",
    "end": "809600"
  },
  {
    "text": "there's a daemon already pre-configured",
    "start": "809600",
    "end": "811120"
  },
  {
    "text": "you just have to run like service.start",
    "start": "811120",
    "end": "813440"
  },
  {
    "text": "on that daemon and that daemon is",
    "start": "813440",
    "end": "815360"
  },
  {
    "text": "basically going to auto discover that",
    "start": "815360",
    "end": "817040"
  },
  {
    "text": "aws privately gun point",
    "start": "817040",
    "end": "818720"
  },
  {
    "text": "and again it's going to use grpc to",
    "start": "818720",
    "end": "821760"
  },
  {
    "text": "communicate with",
    "start": "821760",
    "end": "822880"
  },
  {
    "text": "from the agent to the open telemetry",
    "start": "822880",
    "end": "824959"
  },
  {
    "text": "collector node",
    "start": "824959",
    "end": "827120"
  },
  {
    "text": "now those collector nodes are typically",
    "start": "827120",
    "end": "828399"
  },
  {
    "text": "running uh in the same aws region so if",
    "start": "828399",
    "end": "831279"
  },
  {
    "text": "you're running in the us west two",
    "start": "831279",
    "end": "832720"
  },
  {
    "text": "region there will be a uh collector tier",
    "start": "832720",
    "end": "835680"
  },
  {
    "text": "in us west too to receive this uh",
    "start": "835680",
    "end": "838320"
  },
  {
    "text": "that trace data and the same goes for",
    "start": "838320",
    "end": "840320"
  },
  {
    "text": "any other region that into it operates",
    "start": "840320",
    "end": "841680"
  },
  {
    "text": "in so",
    "start": "841680",
    "end": "842720"
  },
  {
    "text": "any major aws region we have a collector",
    "start": "842720",
    "end": "845279"
  },
  {
    "text": "tier set up to kind of",
    "start": "845279",
    "end": "846639"
  },
  {
    "text": "collect all of that data and from there",
    "start": "846639",
    "end": "850079"
  },
  {
    "text": "that open telemetry collector tier uses",
    "start": "850079",
    "end": "853279"
  },
  {
    "text": "grpc and envoy",
    "start": "853279",
    "end": "854800"
  },
  {
    "text": "to basically push that data to a jager",
    "start": "854800",
    "end": "857680"
  },
  {
    "text": "collector tier",
    "start": "857680",
    "end": "858800"
  },
  {
    "text": "initially it was a separate tier but the",
    "start": "858800",
    "end": "861440"
  },
  {
    "text": "jaeger",
    "start": "861440",
    "end": "862160"
  },
  {
    "text": "team has actually been working to",
    "start": "862160",
    "end": "863440"
  },
  {
    "text": "consolidate a lot of that into the open",
    "start": "863440",
    "end": "865920"
  },
  {
    "text": "telemetry",
    "start": "865920",
    "end": "867279"
  },
  {
    "text": "you know community as well in terms of",
    "start": "867279",
    "end": "869839"
  },
  {
    "text": "extra receivers extra processors",
    "start": "869839",
    "end": "872160"
  },
  {
    "text": "extra uh collector extra exporters",
    "start": "872160",
    "end": "875680"
  },
  {
    "text": "and so that's actually really becoming a",
    "start": "875680",
    "end": "877279"
  },
  {
    "text": "consolidated tier today",
    "start": "877279",
    "end": "879680"
  },
  {
    "text": "and then from there data goes to the",
    "start": "879680",
    "end": "882399"
  },
  {
    "text": "trace storage system in our case",
    "start": "882399",
    "end": "884240"
  },
  {
    "text": "aws elasticsearch and from there it goes",
    "start": "884240",
    "end": "886959"
  },
  {
    "text": "to a jager",
    "start": "886959",
    "end": "888399"
  },
  {
    "text": "user interface where engineers can",
    "start": "888399",
    "end": "891279"
  },
  {
    "text": "search for traces",
    "start": "891279",
    "end": "892480"
  },
  {
    "text": "based on different tags based on the",
    "start": "892480",
    "end": "895199"
  },
  {
    "text": "trace id",
    "start": "895199",
    "end": "896079"
  },
  {
    "text": "things like that and we'll give them a",
    "start": "896079",
    "end": "898480"
  },
  {
    "text": "pretty solid view of the trace",
    "start": "898480",
    "end": "901680"
  },
  {
    "text": "and with that i'm going to hand it over",
    "start": "901680",
    "end": "903199"
  },
  {
    "text": "to chronti",
    "start": "903199",
    "end": "905680"
  },
  {
    "text": "thank you jonah as jana mentioned in one",
    "start": "906560",
    "end": "909519"
  },
  {
    "text": "of his initial slide",
    "start": "909519",
    "end": "911440"
  },
  {
    "text": "for intuit product to serve a single",
    "start": "911440",
    "end": "913120"
  },
  {
    "text": "user or",
    "start": "913120",
    "end": "914480"
  },
  {
    "text": "api request hundreds of services are",
    "start": "914480",
    "end": "917040"
  },
  {
    "text": "invoked behind the scene to compose its",
    "start": "917040",
    "end": "918880"
  },
  {
    "text": "response",
    "start": "918880",
    "end": "920320"
  },
  {
    "text": "these services are often owned by",
    "start": "920320",
    "end": "921760"
  },
  {
    "text": "different teams",
    "start": "921760",
    "end": "923360"
  },
  {
    "text": "or are different art from different",
    "start": "923360",
    "end": "925279"
  },
  {
    "text": "functional groups",
    "start": "925279",
    "end": "926639"
  },
  {
    "text": "so when a customer complains about a",
    "start": "926639",
    "end": "928720"
  },
  {
    "text": "slowness",
    "start": "928720",
    "end": "929680"
  },
  {
    "text": "in your application or an alarm is",
    "start": "929680",
    "end": "932639"
  },
  {
    "text": "triggered",
    "start": "932639",
    "end": "933199"
  },
  {
    "text": "for the same there are some common",
    "start": "933199",
    "end": "935279"
  },
  {
    "text": "questions that pop up",
    "start": "935279",
    "end": "937519"
  },
  {
    "text": "which flow or which request",
    "start": "937519",
    "end": "940639"
  },
  {
    "text": "had issues is one of my components",
    "start": "940639",
    "end": "943680"
  },
  {
    "text": "having an issue or is it one of the",
    "start": "943680",
    "end": "946320"
  },
  {
    "text": "dependent service",
    "start": "946320",
    "end": "947360"
  },
  {
    "text": "that is having an issue is the dependent",
    "start": "947360",
    "end": "949839"
  },
  {
    "text": "service throwing an error",
    "start": "949839",
    "end": "951680"
  },
  {
    "text": "or is it the high latency of the",
    "start": "951680",
    "end": "953839"
  },
  {
    "text": "dependent service that's causing this",
    "start": "953839",
    "end": "955360"
  },
  {
    "text": "repercussion",
    "start": "955360",
    "end": "956880"
  },
  {
    "text": "typically in such cases what do we do we",
    "start": "956880",
    "end": "959839"
  },
  {
    "text": "take the time window",
    "start": "959839",
    "end": "961279"
  },
  {
    "text": "and dig through the logs to find",
    "start": "961279",
    "end": "962560"
  },
  {
    "text": "something useful we also pull in teams",
    "start": "962560",
    "end": "965120"
  },
  {
    "text": "from different services",
    "start": "965120",
    "end": "966560"
  },
  {
    "text": "to troubleshoot this issue this process",
    "start": "966560",
    "end": "968880"
  },
  {
    "text": "is very time consuming",
    "start": "968880",
    "end": "970720"
  },
  {
    "text": "involves many people and often we don't",
    "start": "970720",
    "end": "973839"
  },
  {
    "text": "find the root cause of the issue",
    "start": "973839",
    "end": "975600"
  },
  {
    "text": "so whom do we blame if you don't find",
    "start": "975600",
    "end": "977680"
  },
  {
    "text": "the root cause we blame it on the",
    "start": "977680",
    "end": "982800"
  },
  {
    "text": "network",
    "start": "982800",
    "end": "984480"
  },
  {
    "text": "distributed tracing helps in addressing",
    "start": "984480",
    "end": "986560"
  },
  {
    "text": "this issue",
    "start": "986560",
    "end": "988000"
  },
  {
    "text": "it is a process of tracking a request",
    "start": "988000",
    "end": "990959"
  },
  {
    "text": "end to end",
    "start": "990959",
    "end": "992079"
  },
  {
    "text": "as it traverses through multiple",
    "start": "992079",
    "end": "993759"
  },
  {
    "text": "services in near real time",
    "start": "993759",
    "end": "997839"
  },
  {
    "text": "so let's see it in action we have three",
    "start": "998880",
    "end": "1002160"
  },
  {
    "text": "micro services",
    "start": "1002160",
    "end": "1003440"
  },
  {
    "text": "handling a retail order all these three",
    "start": "1003440",
    "end": "1006000"
  },
  {
    "text": "micro services",
    "start": "1006000",
    "end": "1007519"
  },
  {
    "text": "are instrumented with open tracing or",
    "start": "1007519",
    "end": "1009839"
  },
  {
    "text": "open telemetry libraries",
    "start": "1009839",
    "end": "1012880"
  },
  {
    "text": "when a retail order is placed",
    "start": "1012880",
    "end": "1016320"
  },
  {
    "text": "a trace context gets created and also",
    "start": "1017360",
    "end": "1020720"
  },
  {
    "text": "generates a server span which would have",
    "start": "1020720",
    "end": "1024640"
  },
  {
    "text": "trace id to identify a distributed",
    "start": "1024640",
    "end": "1026798"
  },
  {
    "text": "transaction",
    "start": "1026799",
    "end": "1028240"
  },
  {
    "text": "a span id to identify the transaction",
    "start": "1028240",
    "end": "1031280"
  },
  {
    "text": "flow within the order service",
    "start": "1031280",
    "end": "1033520"
  },
  {
    "text": "a parent span id to identify the span",
    "start": "1033520",
    "end": "1036160"
  },
  {
    "text": "that initiated this transaction",
    "start": "1036160",
    "end": "1038319"
  },
  {
    "text": "since order service is a service or the",
    "start": "1038319",
    "end": "1040959"
  },
  {
    "text": "first service",
    "start": "1040959",
    "end": "1042558"
  },
  {
    "text": "receiving the request the parent id",
    "start": "1042559",
    "end": "1044959"
  },
  {
    "text": "would be null",
    "start": "1044959",
    "end": "1046880"
  },
  {
    "text": "now when a downstream call is made",
    "start": "1046880",
    "end": "1049919"
  },
  {
    "text": "a similar span gets created but",
    "start": "1049919",
    "end": "1053440"
  },
  {
    "text": "with the parent id being same as the",
    "start": "1053440",
    "end": "1056559"
  },
  {
    "text": "span id of the order service",
    "start": "1056559",
    "end": "1060000"
  },
  {
    "text": "the same happens with the billing",
    "start": "1060320",
    "end": "1062000"
  },
  {
    "text": "service",
    "start": "1062000",
    "end": "1064400"
  },
  {
    "text": "now when the billing service responds",
    "start": "1065039",
    "end": "1067840"
  },
  {
    "text": "back",
    "start": "1067840",
    "end": "1068240"
  },
  {
    "text": "to the allocation services request a",
    "start": "1068240",
    "end": "1071280"
  },
  {
    "text": "client span gets created",
    "start": "1071280",
    "end": "1073440"
  },
  {
    "text": "so these fans continue to get created in",
    "start": "1073440",
    "end": "1076080"
  },
  {
    "text": "this fashion",
    "start": "1076080",
    "end": "1077760"
  },
  {
    "text": "so once we have all these fans we could",
    "start": "1077760",
    "end": "1080880"
  },
  {
    "text": "definitely visualize this",
    "start": "1080880",
    "end": "1082400"
  },
  {
    "text": "in a timeline view with a parental",
    "start": "1082400",
    "end": "1084080"
  },
  {
    "text": "relationship and",
    "start": "1084080",
    "end": "1085840"
  },
  {
    "text": "the spans have rich information such as",
    "start": "1085840",
    "end": "1088720"
  },
  {
    "text": "the",
    "start": "1088720",
    "end": "1089200"
  },
  {
    "text": "status quo of the request the latency",
    "start": "1089200",
    "end": "1092880"
  },
  {
    "text": "and some custom tags that would help to",
    "start": "1092880",
    "end": "1095039"
  },
  {
    "text": "filter these",
    "start": "1095039",
    "end": "1095919"
  },
  {
    "text": "spans from the play store",
    "start": "1095919",
    "end": "1099840"
  },
  {
    "text": "so these fans later get shipped to the",
    "start": "1100960",
    "end": "1104000"
  },
  {
    "text": "open telemetry collector",
    "start": "1104000",
    "end": "1106000"
  },
  {
    "text": "and they end up in the case store",
    "start": "1106000",
    "end": "1109840"
  },
  {
    "text": "so we we can build a lot of analytics",
    "start": "1111120",
    "end": "1114400"
  },
  {
    "text": "and visualization",
    "start": "1114400",
    "end": "1116320"
  },
  {
    "text": "pieces to get insights from this store",
    "start": "1116320",
    "end": "1120840"
  },
  {
    "text": "data",
    "start": "1120840",
    "end": "1123360"
  },
  {
    "text": "so one key thing to note here is that",
    "start": "1123360",
    "end": "1126320"
  },
  {
    "text": "open telemetry collector",
    "start": "1126320",
    "end": "1128000"
  },
  {
    "text": "becomes our tracing back end abstraction",
    "start": "1128000",
    "end": "1130000"
  },
  {
    "text": "layer it can accept spans in different",
    "start": "1130000",
    "end": "1132480"
  },
  {
    "text": "formats",
    "start": "1132480",
    "end": "1133600"
  },
  {
    "text": "and it can spit out spans in a desired",
    "start": "1133600",
    "end": "1135840"
  },
  {
    "text": "format",
    "start": "1135840",
    "end": "1138240"
  },
  {
    "text": "let's look at metrics there are a lot of",
    "start": "1141520",
    "end": "1143919"
  },
  {
    "text": "different types of metrics",
    "start": "1143919",
    "end": "1145440"
  },
  {
    "text": "that you can capture for your system",
    "start": "1145440",
    "end": "1147840"
  },
  {
    "text": "starting with",
    "start": "1147840",
    "end": "1149360"
  },
  {
    "text": "system resource metrics cpu memory",
    "start": "1149360",
    "end": "1152799"
  },
  {
    "text": "for your node there are a bunch of aws",
    "start": "1152799",
    "end": "1156240"
  },
  {
    "text": "resource metrics",
    "start": "1156240",
    "end": "1157520"
  },
  {
    "text": "cloud watch metrics coming from",
    "start": "1157520",
    "end": "1159919"
  },
  {
    "text": "elasticsearch",
    "start": "1159919",
    "end": "1160799"
  },
  {
    "text": "dynamodb rds serverless",
    "start": "1160799",
    "end": "1164559"
  },
  {
    "text": "so on and so forth and we also have",
    "start": "1164559",
    "end": "1167919"
  },
  {
    "text": "transaction metrics",
    "start": "1167919",
    "end": "1169440"
  },
  {
    "text": "these are the metrics that give you",
    "start": "1169440",
    "end": "1171679"
  },
  {
    "text": "insights on",
    "start": "1171679",
    "end": "1172640"
  },
  {
    "text": "the api's request rate error rate",
    "start": "1172640",
    "end": "1176240"
  },
  {
    "text": "duration or at the service level as well",
    "start": "1176240",
    "end": "1178799"
  },
  {
    "text": "so these are",
    "start": "1178799",
    "end": "1179440"
  },
  {
    "text": "the transaction metrics today we will",
    "start": "1179440",
    "end": "1182080"
  },
  {
    "text": "talk about red metrics",
    "start": "1182080",
    "end": "1184000"
  },
  {
    "text": "the problem we had and how we solved it",
    "start": "1184000",
    "end": "1187280"
  },
  {
    "text": "using the screening pipeline",
    "start": "1187280",
    "end": "1193840"
  },
  {
    "text": "so in the initial solution services",
    "start": "1194640",
    "end": "1197679"
  },
  {
    "text": "were pushing logs with latency and",
    "start": "1197679",
    "end": "1199840"
  },
  {
    "text": "status quo",
    "start": "1199840",
    "end": "1201200"
  },
  {
    "text": "we had scheduled queries on top of our",
    "start": "1201200",
    "end": "1203600"
  },
  {
    "text": "log management system",
    "start": "1203600",
    "end": "1205280"
  },
  {
    "text": "queries used to run every minute and",
    "start": "1205280",
    "end": "1208080"
  },
  {
    "text": "push those to",
    "start": "1208080",
    "end": "1209039"
  },
  {
    "text": "s3 bucket and we had a lambda",
    "start": "1209039",
    "end": "1212400"
  },
  {
    "text": "which pushed the data to our time series",
    "start": "1212400",
    "end": "1215280"
  },
  {
    "text": "everybody liked it",
    "start": "1215280",
    "end": "1216720"
  },
  {
    "text": "and started pushing more and more data",
    "start": "1216720",
    "end": "1219200"
  },
  {
    "text": "we soon had thousands of queries running",
    "start": "1219200",
    "end": "1221919"
  },
  {
    "text": "and competing for each other we had",
    "start": "1221919",
    "end": "1224240"
  },
  {
    "text": "delayed in",
    "start": "1224240",
    "end": "1225360"
  },
  {
    "text": "we had delays and metrics we made",
    "start": "1225360",
    "end": "1228559"
  },
  {
    "text": "queries",
    "start": "1228559",
    "end": "1229280"
  },
  {
    "text": "run every 10 minutes to mitigate this",
    "start": "1229280",
    "end": "1231919"
  },
  {
    "text": "issue",
    "start": "1231919",
    "end": "1233120"
  },
  {
    "text": "we found that traces or spans had these",
    "start": "1233120",
    "end": "1236400"
  },
  {
    "text": "details",
    "start": "1236400",
    "end": "1238320"
  },
  {
    "text": "the details that i am talking about is",
    "start": "1238320",
    "end": "1240159"
  },
  {
    "text": "the status quo",
    "start": "1240159",
    "end": "1241360"
  },
  {
    "text": "the response time these uh",
    "start": "1241360",
    "end": "1245600"
  },
  {
    "text": "service name the api name so on and so",
    "start": "1245600",
    "end": "1247600"
  },
  {
    "text": "on",
    "start": "1247600",
    "end": "1248799"
  },
  {
    "text": "each span had these details in a",
    "start": "1248799",
    "end": "1251840"
  },
  {
    "text": "consistent format",
    "start": "1251840",
    "end": "1254000"
  },
  {
    "text": "we knew that we could take advantage of",
    "start": "1254000",
    "end": "1255679"
  },
  {
    "text": "this",
    "start": "1255679",
    "end": "1257120"
  },
  {
    "text": "so we enhanced the open telemetry",
    "start": "1257120",
    "end": "1259440"
  },
  {
    "text": "collector",
    "start": "1259440",
    "end": "1260480"
  },
  {
    "text": "to extract metrics from spans as they",
    "start": "1260480",
    "end": "1262960"
  },
  {
    "text": "flow through the",
    "start": "1262960",
    "end": "1263919"
  },
  {
    "text": "collector to the tracing packet so the",
    "start": "1263919",
    "end": "1267120"
  },
  {
    "text": "metrics extracted by",
    "start": "1267120",
    "end": "1268880"
  },
  {
    "text": "the open telemetry collector were then",
    "start": "1268880",
    "end": "1271760"
  },
  {
    "text": "streamed to matrix aggregator",
    "start": "1271760",
    "end": "1273360"
  },
  {
    "text": "to summarize the metrics and then push",
    "start": "1273360",
    "end": "1275919"
  },
  {
    "text": "them to",
    "start": "1275919",
    "end": "1276480"
  },
  {
    "text": "a time series database this brought in",
    "start": "1276480",
    "end": "1279520"
  },
  {
    "text": "our",
    "start": "1279520",
    "end": "1279919"
  },
  {
    "text": "this brought in couple of advantages or",
    "start": "1279919",
    "end": "1282000"
  },
  {
    "text": "benefits",
    "start": "1282000",
    "end": "1284400"
  },
  {
    "text": "definitely one of the benefit was the",
    "start": "1284400",
    "end": "1286320"
  },
  {
    "text": "metrics were available",
    "start": "1286320",
    "end": "1288400"
  },
  {
    "text": "was in less than a minute when compared",
    "start": "1288400",
    "end": "1290799"
  },
  {
    "text": "with 10 minutes",
    "start": "1290799",
    "end": "1291919"
  },
  {
    "text": "to the earlier solution",
    "start": "1291919",
    "end": "1294880"
  },
  {
    "text": "so the top three graphs represent",
    "start": "1295200",
    "end": "1299039"
  },
  {
    "text": "the data coming out of our previous log",
    "start": "1299039",
    "end": "1301600"
  },
  {
    "text": "base pipeline",
    "start": "1301600",
    "end": "1303520"
  },
  {
    "text": "bottom three show data coming from our",
    "start": "1303520",
    "end": "1305440"
  },
  {
    "text": "observability pipeline",
    "start": "1305440",
    "end": "1308559"
  },
  {
    "text": "first on the top left most graph",
    "start": "1308559",
    "end": "1311840"
  },
  {
    "text": "shows tps numbers",
    "start": "1311840",
    "end": "1315120"
  },
  {
    "text": "shows dots that are separated by 10",
    "start": "1315120",
    "end": "1317440"
  },
  {
    "text": "minutes or more",
    "start": "1317440",
    "end": "1318640"
  },
  {
    "text": "or more than that on the bottom you see",
    "start": "1318640",
    "end": "1322720"
  },
  {
    "text": "it's coming every minute or even every",
    "start": "1322720",
    "end": "1325360"
  },
  {
    "text": "30 seconds",
    "start": "1325360",
    "end": "1328000"
  },
  {
    "text": "second graph shows the error rate you",
    "start": "1328559",
    "end": "1331600"
  },
  {
    "text": "can see",
    "start": "1331600",
    "end": "1332720"
  },
  {
    "text": "dotted lines that means we did not get",
    "start": "1332720",
    "end": "1334960"
  },
  {
    "text": "any data at that period of time",
    "start": "1334960",
    "end": "1337919"
  },
  {
    "text": "that means we were flying blind",
    "start": "1337919",
    "end": "1342240"
  },
  {
    "text": "during that period of time",
    "start": "1342240",
    "end": "1346159"
  },
  {
    "text": "whereas our new observability pipeline",
    "start": "1346159",
    "end": "1349360"
  },
  {
    "text": "is showing",
    "start": "1349360",
    "end": "1350320"
  },
  {
    "text": "continuous metrics definitely we saw 10",
    "start": "1350320",
    "end": "1353039"
  },
  {
    "text": "minutes reduction",
    "start": "1353039",
    "end": "1354080"
  },
  {
    "text": "in our mean time to detect because of",
    "start": "1354080",
    "end": "1356480"
  },
  {
    "text": "this new pipeline",
    "start": "1356480",
    "end": "1361840"
  },
  {
    "text": "so let us get into the benefits of",
    "start": "1366880",
    "end": "1368320"
  },
  {
    "text": "traces and phrase methods",
    "start": "1368320",
    "end": "1371440"
  },
  {
    "text": "topology view helps in quickly",
    "start": "1371600",
    "end": "1374320"
  },
  {
    "text": "identifying the faulty service",
    "start": "1374320",
    "end": "1377600"
  },
  {
    "text": "autocorrelation helps to identify",
    "start": "1377600",
    "end": "1381600"
  },
  {
    "text": "the impacted api and root cause quickly",
    "start": "1382320",
    "end": "1387200"
  },
  {
    "text": "not just for identifying issues",
    "start": "1387360",
    "end": "1390400"
  },
  {
    "text": "traces and trace metrics also help in",
    "start": "1390400",
    "end": "1393440"
  },
  {
    "text": "running performance analysis on",
    "start": "1393440",
    "end": "1395039"
  },
  {
    "text": "pre-product product planners",
    "start": "1395039",
    "end": "1398320"
  },
  {
    "text": "so we could get we could analyze the",
    "start": "1398960",
    "end": "1401760"
  },
  {
    "text": "aggregated tps",
    "start": "1401760",
    "end": "1403440"
  },
  {
    "text": "tp metrics at service and api level",
    "start": "1403440",
    "end": "1406320"
  },
  {
    "text": "enabling comparison between",
    "start": "1406320",
    "end": "1408159"
  },
  {
    "text": "current and fast baselines help in",
    "start": "1408159",
    "end": "1410400"
  },
  {
    "text": "deploying deployment regressions",
    "start": "1410400",
    "end": "1412720"
  },
  {
    "text": "and canary rollouts",
    "start": "1412720",
    "end": "1417840"
  },
  {
    "text": "time for q a",
    "start": "1419440",
    "end": "1423200"
  }
]