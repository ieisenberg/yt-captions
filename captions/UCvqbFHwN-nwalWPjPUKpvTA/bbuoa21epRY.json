[
  {
    "text": "nice I think you can okay excellent thank you very much for joining our talk um before we start so just just a quick",
    "start": "520",
    "end": "8559"
  },
  {
    "text": "uh introduction what we're going to do so we got to have a um a quick look at how trouble shoot deployments we've",
    "start": "8559",
    "end": "13639"
  },
  {
    "text": "structured this talk to be in two parts the first part is going to be we're going to have a look at a little bit of",
    "start": "13639",
    "end": "18840"
  },
  {
    "text": "a theory behind deployments and the second part we're actually going to break and",
    "start": "18840",
    "end": "25760"
  },
  {
    "text": "fix stuff so we're going to have two teams team a and Team B so if you're sitting on this side of the room and you",
    "start": "25760",
    "end": "32680"
  },
  {
    "text": "want to join Team B now it is the time",
    "start": "32680",
    "end": "38239"
  },
  {
    "text": "okay and then yes Team B please invite invite your friends to",
    "start": "38239",
    "end": "45039"
  },
  {
    "text": "join you for the ultimate match that's it um without further Ado then mad is",
    "start": "45039",
    "end": "52399"
  },
  {
    "text": "going to start our talk and thank you very much for for joining",
    "start": "52399",
    "end": "57760"
  },
  {
    "text": "us okay now oh going back Team B or team",
    "start": "57760",
    "end": "62960"
  },
  {
    "text": "a Welcome to our talk I'm mad I'm a Solutions architect at Del Technologies",
    "start": "62960",
    "end": "70320"
  },
  {
    "text": "and I'm joined by Dan Daniel at learn KS",
    "start": "70320",
    "end": "75720"
  },
  {
    "text": "he if you are interested in following everything about kubernetes well researched articles please follow Dan",
    "start": "75720",
    "end": "84680"
  },
  {
    "text": "okay so this is something that we're going to do so I guess now since there",
    "start": "84680",
    "end": "90040"
  },
  {
    "text": "is no shifting so we are going to debug and you know deep dive into this",
    "start": "90040",
    "end": "95360"
  },
  {
    "text": "particular picture Okay kues Embraces the idea of you know",
    "start": "95360",
    "end": "103439"
  },
  {
    "text": "treating servers as one single unit right abstracting away how individual",
    "start": "103439",
    "end": "108759"
  },
  {
    "text": "Computer Resources operate and for you know from a multiple",
    "start": "108759",
    "end": "115360"
  },
  {
    "text": "clusters multiple servers it makes it look like it has one single server",
    "start": "115360",
    "end": "122439"
  },
  {
    "text": "single cluster right imagine over here like you have three servers and you can",
    "start": "122439",
    "end": "128879"
  },
  {
    "text": "install kubernetes control plane on one and the rest of them the remaining two",
    "start": "128879",
    "end": "134239"
  },
  {
    "text": "can join us worker nodes and kubernetes abstracts over here",
    "start": "134239",
    "end": "141519"
  },
  {
    "text": "making it look like a single unit and you're accessing it from one single",
    "start": "141519",
    "end": "147680"
  },
  {
    "text": "cluster if you want to deploy a container kubernetes finds the best",
    "start": "147680",
    "end": "153120"
  },
  {
    "text": "place for you and deploy it now that goes for many containers over here like",
    "start": "153120",
    "end": "160040"
  },
  {
    "text": "this but in reality what's happening is it is finding a best suited place for",
    "start": "160040",
    "end": "165280"
  },
  {
    "text": "you to which worker node suits the requirement of your container and deploys it over",
    "start": "165280",
    "end": "171360"
  },
  {
    "text": "here now that we understood how kubernetes work we will see how the",
    "start": "171360",
    "end": "176400"
  },
  {
    "text": "deployment actually takes place in kubernetes now imagine you have a simple",
    "start": "176400",
    "end": "181840"
  },
  {
    "text": "static page like this right you can have your users visit this page even without",
    "start": "181840",
    "end": "189360"
  },
  {
    "text": "kubernetes right if you have more than one instance how are you going to Route",
    "start": "189360",
    "end": "195120"
  },
  {
    "text": "the traffic to those instances team a or Team B yeah who knows the",
    "start": "195120",
    "end": "203080"
  },
  {
    "text": "answer very good balcer team awesome one point yeah so you use a little balancer",
    "start": "203400",
    "end": "210920"
  },
  {
    "text": "to root the traffic now what happens if you have more than one app you use",
    "start": "210920",
    "end": "218120"
  },
  {
    "text": "another load balancer now to rout the traffic to both these load balancers what do you",
    "start": "218120",
    "end": "225519"
  },
  {
    "text": "need another load balancer or a router which routes the traffic to the right",
    "start": "225519",
    "end": "232640"
  },
  {
    "text": "application now in kuties you don't call the load balancer load balancer but you call it as service and you call the",
    "start": "232640",
    "end": "241519"
  },
  {
    "text": "router or the load balancer is called as Ingress and the instances that are",
    "start": "241519",
    "end": "247360"
  },
  {
    "text": "receiving traffic you call it as pods now Ingress service and pods are",
    "start": "247360",
    "end": "254599"
  },
  {
    "text": "fundamental concepts in communities but there is something that is invisible over here that is",
    "start": "254599",
    "end": "262639"
  },
  {
    "text": "deployment we don't actually deploy pods in isolation but we do it in together as",
    "start": "262639",
    "end": "269160"
  },
  {
    "text": "an abstra action called deployment now in this picture you see",
    "start": "269160",
    "end": "274639"
  },
  {
    "text": "that we see Ingress service and three pods",
    "start": "274639",
    "end": "279840"
  },
  {
    "text": "running what you don't see is this is a deployment uh what is a deployment right",
    "start": "279840",
    "end": "287240"
  },
  {
    "text": "it is a single type of Port that you want to run and you want to mention how many such instances that you want to run",
    "start": "287240",
    "end": "294400"
  },
  {
    "text": "as simple now this is how the communities takes place of take takes care of it the",
    "start": "294400",
    "end": "300919"
  },
  {
    "text": "deployment checks how many instances you want to run and creates that many",
    "start": "300919",
    "end": "307880"
  },
  {
    "text": "instances in case a pod is deleted accidentally it will create a new",
    "start": "307880",
    "end": "315400"
  },
  {
    "text": "one now we will see how a request is going through the kuties",
    "start": "315400",
    "end": "322039"
  },
  {
    "text": "cluster the Journey Begins With Cube cutle apply command now who is listening",
    "start": "322039",
    "end": "328440"
  },
  {
    "text": "there the first comp that is listening is the API server now the API",
    "start": "328440",
    "end": "334840"
  },
  {
    "text": "server is talking to at CD who is the single source of Truth over",
    "start": "334840",
    "end": "342080"
  },
  {
    "text": "here now this is a big pipeline by itself now if you want to take a look I",
    "start": "342080",
    "end": "349479"
  },
  {
    "text": "want to remember what API server is there are three a that I want to take away from this slide authentication you",
    "start": "349479",
    "end": "357919"
  },
  {
    "text": "say who you are you prove it it authorization what kind of permissions",
    "start": "357919",
    "end": "363479"
  },
  {
    "text": "do you have to the cluster and the admission controllers in the admission controllers",
    "start": "363479",
    "end": "369479"
  },
  {
    "text": "we have two types that is mutation and validation in the mutation admission",
    "start": "369479",
    "end": "375680"
  },
  {
    "text": "controller it modifies the request based on some custom logic and validation",
    "start": "375680",
    "end": "381520"
  },
  {
    "text": "admission controller will basically validate the spec and you know pass it",
    "start": "381520",
    "end": "386759"
  },
  {
    "text": "on to the hcd now we're going into the second step of the life",
    "start": "386759",
    "end": "393680"
  },
  {
    "text": "cycle now the API server now we remember that everything is stateless in",
    "start": "393680",
    "end": "399759"
  },
  {
    "text": "kubernetes except for the hcd right now the API server gets the request and",
    "start": "399759",
    "end": "406080"
  },
  {
    "text": "passes to the atcd where we now have the request for a",
    "start": "406080",
    "end": "411400"
  },
  {
    "text": "deployment there is somebody who is listening other than over here a core component called as controller manager",
    "start": "411400",
    "end": "420319"
  },
  {
    "text": "controller manager is a bundle of things like everything like how we saw an API",
    "start": "420319",
    "end": "425520"
  },
  {
    "text": "server but in this context there are two things that are very important in the controller",
    "start": "425520",
    "end": "432360"
  },
  {
    "text": "manager controller manager is also subscribing to all the changes that are",
    "start": "432599",
    "end": "438479"
  },
  {
    "text": "happening in the hcd now the controller manager is can be",
    "start": "438479",
    "end": "444520"
  },
  {
    "text": "divided into two in this case one is deployment controller and the replication",
    "start": "444520",
    "end": "451319"
  },
  {
    "text": "controller and who else is there now once the controller manager creates",
    "start": "451680",
    "end": "457360"
  },
  {
    "text": "these particular pods it sees that you have asked for three pods to run and it",
    "start": "457360",
    "end": "464159"
  },
  {
    "text": "is listening it creates the change it purses the change in the HD over here",
    "start": "464159",
    "end": "469240"
  },
  {
    "text": "and who is listening to this it purses the change as parts are",
    "start": "469240",
    "end": "475720"
  },
  {
    "text": "spending and the scheduler comes into picture once the pods are pending in",
    "start": "475720",
    "end": "481680"
  },
  {
    "text": "pending State the Schuler picks up and it is the Schuler's job to assign where",
    "start": "481680",
    "end": "488000"
  },
  {
    "text": "the port should run so basically it cues over here the Schuler picks up over here and",
    "start": "488000",
    "end": "497280"
  },
  {
    "text": "it kind of does two things which are very important there's a filtering and",
    "start": "497280",
    "end": "504319"
  },
  {
    "text": "scoring what is filtering it actually tries to figure out what nodes are",
    "start": "504319",
    "end": "510039"
  },
  {
    "text": "actually fit enough to run the particular port and scoring is a way where it ranks which node can take it",
    "start": "510039",
    "end": "517839"
  },
  {
    "text": "up now we go to further down the request and see what happens right now the scheduler has",
    "start": "517839",
    "end": "526240"
  },
  {
    "text": "changed the state in the hcd as scheduled Now by now you think is there",
    "start": "526240",
    "end": "533440"
  },
  {
    "text": "a resource running anyone can say no not a single thing has happened everything that has",
    "start": "533440",
    "end": "539640"
  },
  {
    "text": "happened is only in the database and nothing has happened in on the infrastructure",
    "start": "539640",
    "end": "545200"
  },
  {
    "text": "side who is doing installing the pods or creating the pods who's taking care of",
    "start": "545200",
    "end": "550800"
  },
  {
    "text": "it the cuet cuet is a kuber",
    "start": "550800",
    "end": "556120"
  },
  {
    "text": "agent now remember when we started we created a controll control plane and we",
    "start": "556120",
    "end": "562440"
  },
  {
    "text": "had worker notes so cuet runs on each worker note over",
    "start": "562440",
    "end": "568120"
  },
  {
    "text": "here right you see the work cubet on the worker node now what does the cubet do",
    "start": "568120",
    "end": "575200"
  },
  {
    "text": "right it continuously PS and checks if there is something for it to create in",
    "start": "575200",
    "end": "581519"
  },
  {
    "text": "the worker node right the cubit's job is to see what it is there in the control",
    "start": "581519",
    "end": "588000"
  },
  {
    "text": "plane and then do this get the uh you know po thing to the control plane the",
    "start": "588000",
    "end": "594680"
  },
  {
    "text": "request receives the spec and installs it in the note",
    "start": "594680",
    "end": "600120"
  },
  {
    "text": "so if cuet is doing that what are these things what are cni CRI or",
    "start": "600120",
    "end": "606800"
  },
  {
    "text": "CSI these are just the binaries that are there on the worker",
    "start": "606800",
    "end": "613160"
  },
  {
    "text": "nodes you can do this even on your laptop or computer right create a Docker",
    "start": "613160",
    "end": "619120"
  },
  {
    "text": "but why cuet cuet is doing this automatically by",
    "start": "619120",
    "end": "624480"
  },
  {
    "text": "subscribing to the control plane now now we come to we say that you",
    "start": "624480",
    "end": "631600"
  },
  {
    "text": "know deploy three replicas and what's the Cub CU sorry cuet dust it goes and",
    "start": "631600",
    "end": "638200"
  },
  {
    "text": "checks with the control plane and then gets the pods spe then automatically POS passes it to",
    "start": "638200",
    "end": "646519"
  },
  {
    "text": "the which part of the CRI C CSI it passes to the dock demon in in my",
    "start": "646519",
    "end": "654079"
  },
  {
    "text": "case but a container on time right and creates the container over there",
    "start": "654079",
    "end": "660480"
  },
  {
    "text": "now the rest of the cuets that is there in the cluster they act independently and create",
    "start": "660480",
    "end": "667839"
  },
  {
    "text": "the containers accordingly now let's see from the",
    "start": "667839",
    "end": "674200"
  },
  {
    "text": "Rolling updates point of view you want to take over yeah can",
    "start": "674200",
    "end": "680000"
  },
  {
    "text": "do so until now we had a look at how this deployment has been created and a rather simple process",
    "start": "680839",
    "end": "688440"
  },
  {
    "text": "turns out be qu quite complex which involves several steps um running",
    "start": "688440",
    "end": "694320"
  },
  {
    "text": "running in sequence so let's have a look at something else which is which is related to deployment and that's rolling",
    "start": "694320",
    "end": "699519"
  },
  {
    "text": "updates so when we have a rolling update so this is the infrastructure I've got a cluster with free nodes and three",
    "start": "699519",
    "end": "705600"
  },
  {
    "text": "applications deployed what happens is we gradually roll out a new ver newer version of the application and then we",
    "start": "705600",
    "end": "712000"
  },
  {
    "text": "remove the previous one right but how does that work in the context of kubernetes and these controllers that we",
    "start": "712000",
    "end": "718279"
  },
  {
    "text": "just um described well the way it works is you go on the command line you type QB apply and a vers an image version is",
    "start": "718279",
    "end": "726560"
  },
  {
    "text": "changed simple enough right but that what that translates to that request",
    "start": "726560",
    "end": "731880"
  },
  {
    "text": "goes to the API server the server the API server will change that deployment resource will Mark that resource has",
    "start": "731880",
    "end": "738720"
  },
  {
    "text": "changed what happens next who is listening for changes to",
    "start": "738720",
    "end": "743800"
  },
  {
    "text": "deployments team a team B show me who is listening to change",
    "start": "743800",
    "end": "750160"
  },
  {
    "text": "is controller manager yes exactly the controller manager notices that you know",
    "start": "750160",
    "end": "755959"
  },
  {
    "text": "we ask for it something has changed so it's going to be receiving a new structure and say oh okay you asked me",
    "start": "755959",
    "end": "761519"
  },
  {
    "text": "for a rolling update so what I'm going to do next I'm going to create a new pod and this pod is",
    "start": "761519",
    "end": "767600"
  },
  {
    "text": "pending who is listening to changes for pending pods yes scheduler is going to say yes",
    "start": "767600",
    "end": "774600"
  },
  {
    "text": "I'm going to look at this Parts see if there is any space for it and I'm going to sign a note to it",
    "start": "774600",
    "end": "779760"
  },
  {
    "text": "done it is scheduled what happens",
    "start": "779760",
    "end": "784120"
  },
  {
    "text": "next I had the cubet yes the cubet will pick up the work it's going to ask the control plane hey is there anything for",
    "start": "785600",
    "end": "792120"
  },
  {
    "text": "me yes there is there is a new pod for you and then the cuade will delegate creating the container to The Container",
    "start": "792120",
    "end": "799160"
  },
  {
    "text": "run time and eventually it's going to create the Pod is this enough no what's",
    "start": "799160",
    "end": "807519"
  },
  {
    "text": "next termination sorry oh yeah termination yeah before termination before",
    "start": "807760",
    "end": "813880"
  },
  {
    "text": "terminating the old po the CU will do something else I mean among other things",
    "start": "813880",
    "end": "819600"
  },
  {
    "text": "it will go and execute livess and Readiness probes okay and then when the Readiness probe is actually thick then",
    "start": "819600",
    "end": "826920"
  },
  {
    "text": "it will go back to the control plane and say hey all done this this um this part",
    "start": "826920",
    "end": "832000"
  },
  {
    "text": "is actually ready to receive traffic well a little bit oversimplified but that's the idea and then it will go and",
    "start": "832000",
    "end": "838320"
  },
  {
    "text": "say AOL manager will say okay fair enough um we've done the first one that's when we terminate the Pod right",
    "start": "838320",
    "end": "844240"
  },
  {
    "text": "that's when we go down and remove the previous pod and then we've got only three pods running inside the",
    "start": "844240",
    "end": "850680"
  },
  {
    "text": "cluster um is it what happens next I just remove the Pod inside",
    "start": "850680",
    "end": "857600"
  },
  {
    "text": "ETD the CU will pick up to work right so it's the Cub now is going to reconcile the state of the node with the state of",
    "start": "860839",
    "end": "867440"
  },
  {
    "text": "the cluster it will remove that part from the note am I",
    "start": "867440",
    "end": "872759"
  },
  {
    "text": "done no this is just step one or three all right so we go all over all over",
    "start": "872759",
    "end": "878560"
  },
  {
    "text": "again we go on the control plane we will create a new one it is pending who's going to pick up the",
    "start": "878560",
    "end": "884759"
  },
  {
    "text": "work scheduler is going to make Market the scheduled what's going to pick up the work",
    "start": "884759",
    "end": "890920"
  },
  {
    "text": "next cuet yes well done the cuer will go and create the Pod what happens",
    "start": "890920",
    "end": "897680"
  },
  {
    "text": "next livess and Readiness yes absolutely we go back and report that to the",
    "start": "897680",
    "end": "903199"
  },
  {
    "text": "control plane what happens next delete the preview spot yes what",
    "start": "903199",
    "end": "910320"
  },
  {
    "text": "happens next",
    "start": "910320",
    "end": "916199"
  },
  {
    "text": "I I know it's getting confusing but next is the cu cu will delete controller manager will add a new one it's pending",
    "start": "916199",
    "end": "922720"
  },
  {
    "text": "who's next Schuler well yes exactly scheduled",
    "start": "922720",
    "end": "928000"
  },
  {
    "text": "then the Cub will pick up the work create report back to the control plane after liness and Readiness delete the",
    "start": "928000",
    "end": "934720"
  },
  {
    "text": "old pod and finally done done so you just changed the",
    "start": "934720",
    "end": "942399"
  },
  {
    "text": "version on your deployments and en cators go through these steps right to roll out the newer version of the",
    "start": "942399",
    "end": "950079"
  },
  {
    "text": "container what could possibly go wrong what could possibly go wrong well",
    "start": "950079",
    "end": "956120"
  },
  {
    "text": "the reality is that it a lot of things can go wrong in this process and then",
    "start": "956120",
    "end": "961319"
  },
  {
    "text": "it's generally a little bit hard to debug where the problem came from so",
    "start": "961319",
    "end": "966560"
  },
  {
    "text": "generally the you know the way at least the model I I have to think about this sort of structure is if you if I have to",
    "start": "966560",
    "end": "973560"
  },
  {
    "text": "debug this very long process or any part of it generally I start from the bottom",
    "start": "973560",
    "end": "979079"
  },
  {
    "text": "I go and check that my application is running and then if that is running then generally I look at interaction between",
    "start": "979079",
    "end": "985279"
  },
  {
    "text": "what we call services so these internal loot balancers and the HS and then if that is working then that's the hardest",
    "start": "985279",
    "end": "991560"
  },
  {
    "text": "part figuring out why the Ingress isn't actually routing traffic from from the top",
    "start": "991560",
    "end": "996959"
  },
  {
    "text": "now um this is the plan so we're going to have a look at what is this so basically this diagram which is looks",
    "start": "996959",
    "end": "1003600"
  },
  {
    "text": "small I I was hoping to have was the big screen will look bigger but this is the",
    "start": "1003600",
    "end": "1009519"
  },
  {
    "text": "harsh reality that we live in um so the first part is basically we're going to",
    "start": "1009519",
    "end": "1014720"
  },
  {
    "text": "have a look at what kind of things we have to do to actually inspect the application and see why it is broken or",
    "start": "1014720",
    "end": "1021680"
  },
  {
    "text": "isn't it coming up correctly a second part is basically we have a look at why this Ingress why this service isn't",
    "start": "1021680",
    "end": "1028280"
  },
  {
    "text": "rooting the traffic to um to our parts and then the third one is okay how do I",
    "start": "1028280",
    "end": "1033720"
  },
  {
    "text": "actually root traffic from the outside and why is that isn't isn't happening at all okay and therefore the best way to",
    "start": "1033720",
    "end": "1042038"
  },
  {
    "text": "do this was to break something and fix it right and then we can have a look",
    "start": "1042039",
    "end": "1047798"
  },
  {
    "text": "together okay",
    "start": "1047799",
    "end": "1051519"
  },
  {
    "text": "so so I'm running it goes without saying that I'm running a cluster locally um the Wi-Fi",
    "start": "1053039",
    "end": "1060320"
  },
  {
    "text": "doesn't let me use SSH and it's not very good at downloading either so we're going to have some fun um so first of",
    "start": "1060320",
    "end": "1067840"
  },
  {
    "text": "all I'll show you what what the end result o what the end result looks like so we can start with",
    "start": "1067840",
    "end": "1074120"
  },
  {
    "text": "that so I applied some some yamamo and um um so this is an application so you",
    "start": "1074120",
    "end": "1081440"
  },
  {
    "text": "don't you don't know much right now I just basically type some magic commands and then things happened on the screen",
    "start": "1081440",
    "end": "1086520"
  },
  {
    "text": "fair enough and but the end result is if I visit a URL that's basically when I",
    "start": "1086520",
    "end": "1091559"
  },
  {
    "text": "see the application running okay let me just delete that and then",
    "start": "1091559",
    "end": "1097520"
  },
  {
    "text": "see we do it again but this",
    "start": "1097520",
    "end": "1102000"
  },
  {
    "text": "time",
    "start": "1107320",
    "end": "1110320"
  },
  {
    "text": "okay so what I've done right now I just submitted the yamamo file and then I've got a pod running in my cluster and then",
    "start": "1112919",
    "end": "1120080"
  },
  {
    "text": "it is the same it is you know it is the same application if I go through to this URL then I need to refresh it should",
    "start": "1120080",
    "end": "1126159"
  },
  {
    "text": "work but it doesn't this is more or less the experience that you as a developers",
    "start": "1126159",
    "end": "1132080"
  },
  {
    "text": "you will face when you deploy something or you know your colleagues deploy something they get a five3 come back to",
    "start": "1132080",
    "end": "1138120"
  },
  {
    "text": "you and say hey isn't working what should I do next so what do you do",
    "start": "1138120",
    "end": "1144280"
  },
  {
    "text": "what's your advice here um you know I've got a cluster I've got some Cube CTL commands what's your first command yeah",
    "start": "1144280",
    "end": "1151200"
  },
  {
    "text": "go for it that's a that's a actually that's a",
    "start": "1151200",
    "end": "1157480"
  },
  {
    "text": "good qu that's a good um idea so first of all he's showing an engine X error so is that a problem with the engine",
    "start": "1157480",
    "end": "1164400"
  },
  {
    "text": "X so what you're doing right now is",
    "start": "1164400",
    "end": "1170240"
  },
  {
    "text": "you're basically debugging a layer foray right so why I I think you are on the",
    "start": "1170679",
    "end": "1175840"
  },
  {
    "text": "right mindset I think the the addion that we find is that this area at the top it is very hard to debug okay so you",
    "start": "1175840",
    "end": "1184280"
  },
  {
    "text": "might be right and the error is actually inside the Ingress but before we reach that point our suggestion is okay let's",
    "start": "1184280",
    "end": "1192039"
  },
  {
    "text": "go and start from the bottom before we move up to the Ingress right okay okay",
    "start": "1192039",
    "end": "1199679"
  },
  {
    "text": "so tell me what I should do next Cube well Cube CLE get",
    "start": "1199679",
    "end": "1207520"
  },
  {
    "text": "pods who W what is",
    "start": "1207520",
    "end": "1213200"
  },
  {
    "text": "that check the logs someone is saying check the logs yeah let's do it you can",
    "start": "1213200",
    "end": "1218320"
  },
  {
    "text": "do a describe let's do a",
    "start": "1218320",
    "end": "1221399"
  },
  {
    "text": "describe okay describe person is this",
    "start": "1226640",
    "end": "1232919"
  },
  {
    "text": "enough no what else do you want okay I'm going to go for the logs",
    "start": "1232919",
    "end": "1242279"
  },
  {
    "text": "whoa it's an very well done it's an application error so at this point you",
    "start": "1245840",
    "end": "1251039"
  },
  {
    "text": "know we started with it must be engine X I see an engine X string and then we inspect the log we start from the bottom",
    "start": "1251039",
    "end": "1257240"
  },
  {
    "text": "It's actually an application error right so this is actually saying okay we are missing some stuff in our yo it's time",
    "start": "1257240",
    "end": "1263919"
  },
  {
    "text": "to go back and fix it before we can move on so I can um so this is um this is the",
    "start": "1263919",
    "end": "1271080"
  },
  {
    "text": "yam file so this is the description of deployment that I just created inside um inside the cluster and and this is",
    "start": "1271080",
    "end": "1278960"
  },
  {
    "text": "the deployment and you can see that there is no environment variable in this container but if I go back to the page",
    "start": "1278960",
    "end": "1285080"
  },
  {
    "text": "if I go back to the terminal this is suggesting that something should be set to actually make it work so let's fix",
    "start": "1285080",
    "end": "1291080"
  },
  {
    "text": "this I'm going to cheat I'm going to tell you straight away I'm just going to copy copy from the",
    "start": "1291080",
    "end": "1297880"
  },
  {
    "text": "solution otherwise",
    "start": "1298360",
    "end": "1304039"
  },
  {
    "text": "okay okay and and then I'm going to apply the",
    "start": "1307039",
    "end": "1311720"
  },
  {
    "text": "changes okay I can see it running looks like running let me go and refresh",
    "start": "1315840",
    "end": "1321440"
  },
  {
    "text": "the web page it is running right now okay cool fixed",
    "start": "1321440",
    "end": "1327919"
  },
  {
    "text": "done okay I got more time for more um so I think I think you know the",
    "start": "1327919",
    "end": "1334480"
  },
  {
    "text": "important lesson from this demo is that if if there is something then even if it",
    "start": "1334480",
    "end": "1339799"
  },
  {
    "text": "looks like coming from the network it's much easier if you start from the bottom and then you you level up okay let's",
    "start": "1339799",
    "end": "1346200"
  },
  {
    "text": "move to to more interesting stuff",
    "start": "1346200",
    "end": "1349960"
  },
  {
    "text": "let me just check yeah so generally what we've done oops I'm going to reveal a little bit",
    "start": "1369120",
    "end": "1375960"
  },
  {
    "text": "too much now okay so we we got I I deployed another application and this time",
    "start": "1375960",
    "end": "1382039"
  },
  {
    "text": "um is running let me just check what kind of uh resources is going to",
    "start": "1382039",
    "end": "1389039"
  },
  {
    "text": "create this one should be",
    "start": "1389200",
    "end": "1393120"
  },
  {
    "text": "running and it's a 502 back in Gateway again okay what do I do how do I debug",
    "start": "1395120",
    "end": "1402159"
  },
  {
    "text": "this I'm supposed to see a page saying hello world",
    "start": "1402159",
    "end": "1409880"
  },
  {
    "text": "CH you want to see the yo well done I agree with you okay so this is the yaml",
    "start": "1413559",
    "end": "1419320"
  },
  {
    "text": "that this application just hi this this is the yam the application we working",
    "start": "1419320",
    "end": "1424400"
  },
  {
    "text": "with has got some generic container image which is basically just a hello",
    "start": "1424400",
    "end": "1430600"
  },
  {
    "text": "world then it's got service and it's got an",
    "start": "1430600",
    "end": "1436880"
  },
  {
    "text": "Ingress yeah you spot any no let me see if I can",
    "start": "1436880",
    "end": "1445400"
  },
  {
    "text": "do a split screen all of it at once be like yeah and this is already revealing",
    "start": "1445400",
    "end": "1452559"
  },
  {
    "text": "some of the issues Can you spot the issue not Port okay getting closer any",
    "start": "1452559",
    "end": "1462080"
  },
  {
    "text": "issue port and the type what port what type",
    "start": "1463360",
    "end": "1469760"
  },
  {
    "text": "8080 what should it should what 8080 should it",
    "start": "1469760",
    "end": "1475360"
  },
  {
    "text": "be English sport is okay why what should that",
    "start": "1476840",
    "end": "1482639"
  },
  {
    "text": "be okay okay I think I know I know it's very hard you know you come to a talk expected to have a good time and I just",
    "start": "1489039",
    "end": "1495679"
  },
  {
    "text": "dump a bunch of yamama on the screen say fix this place now",
    "start": "1495679",
    "end": "1502039"
  },
  {
    "text": "okay I know I know it's very hard but there are a couple of things here that are a little bit",
    "start": "1502039",
    "end": "1507559"
  },
  {
    "text": "fishy um so so generally that we do again I think you know when you look at",
    "start": "1507559",
    "end": "1513320"
  },
  {
    "text": "this it's very complicated and again you know it's a little bit unfair for me to show you and ask you to fix but the way",
    "start": "1513320",
    "end": "1519799"
  },
  {
    "text": "we debug this is exactly like we did with the previous example yes we know it's the problem is probably something",
    "start": "1519799",
    "end": "1526320"
  },
  {
    "text": "with engine X but what if it is before that so what we do first is we go back and we check the status of of the part",
    "start": "1526320",
    "end": "1533480"
  },
  {
    "text": "is it running is it healthy and the answer this time is yes okay so now it",
    "start": "1533480",
    "end": "1540000"
  },
  {
    "text": "is the time for us we have a couple of things um at our disposal here but if",
    "start": "1540000",
    "end": "1545080"
  },
  {
    "text": "the Pod is running then the other things I can do is I can connect to the Pod I",
    "start": "1545080",
    "end": "1550440"
  },
  {
    "text": "can connect to the port which is actually Expos it and then root the traffic to it and then see if it's",
    "start": "1550440",
    "end": "1555799"
  },
  {
    "text": "actually working right so I can do Cube C port forward and then the ID of the",
    "start": "1555799",
    "end": "1562880"
  },
  {
    "text": "Pod and then if I remember correctly here is",
    "start": "1562880",
    "end": "1568120"
  },
  {
    "text": "8080 um let me just [Music]",
    "start": "1568320",
    "end": "1573440"
  },
  {
    "text": "do I think I've got my slides on",
    "start": "1573520",
    "end": "1577720"
  },
  {
    "text": "88 okay um it isn't connecting at all right",
    "start": "1579080",
    "end": "1586600"
  },
  {
    "text": "this is already telling me that that whatever whatever we are doing the way we are attaching our services to the Pod",
    "start": "1586600",
    "end": "1591919"
  },
  {
    "text": "is wrong because on 8080 there is nothing so I can do c logs and then the",
    "start": "1591919",
    "end": "1598080"
  },
  {
    "text": "Pod do you notice anything fishy or",
    "start": "1598080",
    "end": "1603200"
  },
  {
    "text": "different it's yes it's listening to a different port all right there's no way this could",
    "start": "1604440",
    "end": "1611279"
  },
  {
    "text": "work so we need to go back and change that so if I go back so this is",
    "start": "1611279",
    "end": "1616480"
  },
  {
    "text": "basically saying me that that this should be changed to 98 98 okay any",
    "start": "1616480",
    "end": "1622480"
  },
  {
    "text": "other change that should follow this I mean I know I haven't explained but maybe some of you have seen this in in",
    "start": "1622480",
    "end": "1628760"
  },
  {
    "text": "the past and know what else should be done so someone is saying tget Port yes",
    "start": "1628760",
    "end": "1634279"
  },
  {
    "text": "you are absolutely right 98 98 should match",
    "start": "1634279",
    "end": "1639559"
  },
  {
    "text": "right okay so this is good let me just",
    "start": "1641679",
    "end": "1649520"
  },
  {
    "text": "so I I wrote this two weeks ago and then I didn't touch it so I I actually don't remember",
    "start": "1649520",
    "end": "1655840"
  },
  {
    "text": "if fixes my",
    "start": "1655840",
    "end": "1660480"
  },
  {
    "text": "heart okay let's see yes that was the fix okay so let's",
    "start": "1662919",
    "end": "1671159"
  },
  {
    "text": "have a look at why that was the fix so so generally what we have is a container Port which is describes where the",
    "start": "1671159",
    "end": "1676480"
  },
  {
    "text": "application is exposed then we have something called Target Port Port and then we got something else uh on the",
    "start": "1676480",
    "end": "1682760"
  },
  {
    "text": "Ingress as well but generally this Target Port can contain a port should stay together and and then the port so",
    "start": "1682760",
    "end": "1689000"
  },
  {
    "text": "if you put 300 or 98 98 like in this case then they should stay together and then the Ingress should also match now",
    "start": "1689000",
    "end": "1695679"
  },
  {
    "text": "this example didn't have this this problem but those are the most common ones you can find",
    "start": "1695679",
    "end": "1702399"
  },
  {
    "text": "um the other so we've done de demo too as well",
    "start": "1702399",
    "end": "1707480"
  },
  {
    "text": "so the other things that um I think is important to remember is that um when we",
    "start": "1707480",
    "end": "1712840"
  },
  {
    "text": "don't know when when there is a problem with the NW the other things that we generally can do and we haven't done or",
    "start": "1712840",
    "end": "1719000"
  },
  {
    "text": "we could have done is do a cube C describe uh service let me just get the",
    "start": "1719000",
    "end": "1724360"
  },
  {
    "text": "services",
    "start": "1724360",
    "end": "1726960"
  },
  {
    "text": "first and then there is a line here saying end points the end points let me just go",
    "start": "1736399",
    "end": "1745240"
  },
  {
    "text": "and break",
    "start": "1745240",
    "end": "1748559"
  },
  {
    "text": "it you see the endpoints here is empty so endpoints is a very convenient",
    "start": "1754120",
    "end": "1759519"
  },
  {
    "text": "mechanism for us to check what kind of um what kind of app what kind of pods",
    "start": "1759519",
    "end": "1764679"
  },
  {
    "text": "are going to receive traffic from the service so if I a look at it at it you know if I were to go back in time and",
    "start": "1764679",
    "end": "1770000"
  },
  {
    "text": "just check the service before doing doing the fix I will probably find it find it empty so how this endpoint",
    "start": "1770000",
    "end": "1776880"
  },
  {
    "text": "created so it turns out that when you have the cuet that creates the container attaches to the network and attach any",
    "start": "1776880",
    "end": "1782159"
  },
  {
    "text": "of the volumes then what it will do is the cuet at that point in time creates the containers assign an IP",
    "start": "1782159",
    "end": "1790120"
  },
  {
    "text": "address and then reports that through the control plane so the only one who knows the IP address of that container",
    "start": "1790120",
    "end": "1795720"
  },
  {
    "text": "at the beginning is is the cube BL then and the Cub will say hey control plane this is the IP address I assigned to the Pod and this this is reported back and",
    "start": "1795720",
    "end": "1802559"
  },
  {
    "text": "then if you were to look inside this control plane now you see the IP addresses as well so these IP addresses",
    "start": "1802559",
    "end": "1807640"
  },
  {
    "text": "are usually called endpoints and are basically one of the most useful things you get you get in kubernetes and yeah",
    "start": "1807640",
    "end": "1814960"
  },
  {
    "text": "basically updated every time you add a pod or remove a pod the state of the cluster is updated as",
    "start": "1814960",
    "end": "1820799"
  },
  {
    "text": "well oops and and services services are",
    "start": "1820799",
    "end": "1826320"
  },
  {
    "text": "basically when when you do a Cube to describe pod you're basically just asking hey can you show me all of the",
    "start": "1826320",
    "end": "1832279"
  },
  {
    "text": "all of the end points that are related to this uh to this particular service and you basically just call and collect",
    "start": "1832279",
    "end": "1837559"
  },
  {
    "text": "those IP addresses um so Services we call services basically just a list of endpoints because that's what they",
    "start": "1837559",
    "end": "1844480"
  },
  {
    "text": "are I wish I could do demo three but I'm really running out of time so if you",
    "start": "1844480",
    "end": "1849760"
  },
  {
    "text": "want if you want we can do it later but now I think um I'm not I'm not able to",
    "start": "1849760",
    "end": "1855720"
  },
  {
    "text": "sorry so so I just want to recap some of the stuff we've done we've done today hopefully you enjoyed and and you sort",
    "start": "1855720",
    "end": "1862559"
  },
  {
    "text": "of get a feeling for how the debugging should be structured or how you can approach it uh when you see something",
    "start": "1862559",
    "end": "1869240"
  },
  {
    "text": "not working right so I think the what I what I suggest you remember is the first one",
    "start": "1869240",
    "end": "1875039"
  },
  {
    "text": "is creating a pod is very very simple for you but it turns out that there are",
    "start": "1875039",
    "end": "1881039"
  },
  {
    "text": "several components in sequence involved in creating this PO and any of these",
    "start": "1881039",
    "end": "1886559"
  },
  {
    "text": "processes could fail at any time right so so essentially uh we're left with",
    "start": "1886559",
    "end": "1892279"
  },
  {
    "text": "with some magic incantation that just works and and it's brilliant until it's not anymore and so if you find any of",
    "start": "1892279",
    "end": "1900320"
  },
  {
    "text": "those issues even if it looks like it's coming from the top right from networking then usually so much easier",
    "start": "1900320",
    "end": "1906360"
  },
  {
    "text": "if you start from the botton and you you D you know you go up as as you see as you confirm that the application is is",
    "start": "1906360",
    "end": "1913399"
  },
  {
    "text": "working then we had a look at these matching ports so how what you should be checking and then we had a look at endpoints so these",
    "start": "1913399",
    "end": "1919880"
  },
  {
    "text": "endpoints are so crucial that we use it for so many other things and something",
    "start": "1919880",
    "end": "1926279"
  },
  {
    "text": "very useful when it comes to debugging just checking where they are propagated",
    "start": "1926279",
    "end": "1931320"
  },
  {
    "text": "and I'm over time I hope you enjoyed um thank you very much for joining our",
    "start": "1931320",
    "end": "1938360"
  },
  {
    "text": "[Applause]",
    "start": "1938360",
    "end": "1944159"
  },
  {
    "text": "talk cool I don't know if there is any questions or anything I'm I'm conscious",
    "start": "1944159",
    "end": "1949279"
  },
  {
    "text": "about time any questions if you got any",
    "start": "1949279",
    "end": "1954440"
  },
  {
    "text": "questions you will find me just outside thank you",
    "start": "1954440",
    "end": "1961559"
  }
]