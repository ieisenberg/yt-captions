[
  {
    "start": "0",
    "end": "36000"
  },
  {
    "text": "hi there",
    "start": "1920",
    "end": "3040"
  },
  {
    "text": "thanks for being here today",
    "start": "3040",
    "end": "5200"
  },
  {
    "text": "my name is lee chicken i'm very glad to",
    "start": "5200",
    "end": "7759"
  },
  {
    "text": "be here to share with you how we reduce",
    "start": "7759",
    "end": "10400"
  },
  {
    "text": "dry latency in thai kv",
    "start": "10400",
    "end": "14080"
  },
  {
    "text": "let me introduce myself a little bit",
    "start": "15519",
    "end": "17760"
  },
  {
    "text": "before we dig deep into our topic",
    "start": "17760",
    "end": "20400"
  },
  {
    "text": "i'm an infrastructure engineer at pincap",
    "start": "20400",
    "end": "23039"
  },
  {
    "text": "also a committer of taikv and the rafter",
    "start": "23039",
    "end": "25359"
  },
  {
    "text": "eyes project",
    "start": "25359",
    "end": "27039"
  },
  {
    "text": "i focus on making techyv more efficient",
    "start": "27039",
    "end": "29679"
  },
  {
    "text": "scalable and reliable",
    "start": "29679",
    "end": "31760"
  },
  {
    "text": "and i'm passionate about distributed",
    "start": "31760",
    "end": "33520"
  },
  {
    "text": "systems and storage systems",
    "start": "33520",
    "end": "37360"
  },
  {
    "start": "36000",
    "end": "77000"
  },
  {
    "text": "first let me introduce you to the techyv",
    "start": "37360",
    "end": "40000"
  },
  {
    "text": "project we are working with",
    "start": "40000",
    "end": "42160"
  },
  {
    "text": "techyv is an open source distributed",
    "start": "42160",
    "end": "45280"
  },
  {
    "text": "transactional keyword database",
    "start": "45280",
    "end": "47680"
  },
  {
    "text": "also it is a cncf graduated project",
    "start": "47680",
    "end": "51280"
  },
  {
    "text": "you might not be familiar with it but so",
    "start": "51280",
    "end": "53840"
  },
  {
    "text": "far there are more than",
    "start": "53840",
    "end": "55640"
  },
  {
    "text": "9800 stars and more than 320",
    "start": "55640",
    "end": "58719"
  },
  {
    "text": "contributors in github",
    "start": "58719",
    "end": "60960"
  },
  {
    "text": "furthermore it is adopted by more than",
    "start": "60960",
    "end": "63640"
  },
  {
    "text": "1500 adopters in production across",
    "start": "63640",
    "end": "66960"
  },
  {
    "text": "multiple industries worldwide",
    "start": "66960",
    "end": "69680"
  },
  {
    "text": "so you could see we have a good open",
    "start": "69680",
    "end": "71920"
  },
  {
    "text": "source community",
    "start": "71920",
    "end": "73360"
  },
  {
    "text": "and a healthy ecosystem",
    "start": "73360",
    "end": "76799"
  },
  {
    "start": "77000",
    "end": "112000"
  },
  {
    "text": "back to today's topic to figure out",
    "start": "79280",
    "end": "82159"
  },
  {
    "text": "how to reduce right latency in taikv",
    "start": "82159",
    "end": "85280"
  },
  {
    "text": "i like to begin with the question",
    "start": "85280",
    "end": "87759"
  },
  {
    "text": "why we need low average latency",
    "start": "87759",
    "end": "90960"
  },
  {
    "text": "according to little's law concurrency is",
    "start": "90960",
    "end": "93439"
  },
  {
    "text": "equal to circle times latency",
    "start": "93439",
    "end": "96159"
  },
  {
    "text": "also super is equal to concurrency",
    "start": "96159",
    "end": "98880"
  },
  {
    "text": "divided by latency",
    "start": "98880",
    "end": "101119"
  },
  {
    "text": "please note that the latency here is",
    "start": "101119",
    "end": "103119"
  },
  {
    "text": "average latency",
    "start": "103119",
    "end": "104799"
  },
  {
    "text": "so if average latency is lower",
    "start": "104799",
    "end": "107280"
  },
  {
    "text": "the throughput will be higher when the",
    "start": "107280",
    "end": "109200"
  },
  {
    "text": "concurrency is the same",
    "start": "109200",
    "end": "113159"
  },
  {
    "start": "112000",
    "end": "167000"
  },
  {
    "text": "next question i'd like you to think",
    "start": "115600",
    "end": "117520"
  },
  {
    "text": "about is why we need low tail latency",
    "start": "117520",
    "end": "120719"
  },
  {
    "text": "tail literacy is a tail end of a",
    "start": "120719",
    "end": "122719"
  },
  {
    "text": "system's response time spectrum",
    "start": "122719",
    "end": "125520"
  },
  {
    "text": "and is often expressed as 99 percentile",
    "start": "125520",
    "end": "128560"
  },
  {
    "text": "response times",
    "start": "128560",
    "end": "130399"
  },
  {
    "text": "techyv usually solves",
    "start": "130399",
    "end": "132400"
  },
  {
    "text": "the customer facing applications",
    "start": "132400",
    "end": "134959"
  },
  {
    "text": "the customers can only see the",
    "start": "134959",
    "end": "136480"
  },
  {
    "text": "application slow and they don't care",
    "start": "136480",
    "end": "138720"
  },
  {
    "text": "about whether they have encountered low",
    "start": "138720",
    "end": "140640"
  },
  {
    "text": "probability events",
    "start": "140640",
    "end": "142560"
  },
  {
    "text": "furthermore the slow events may not have",
    "start": "142560",
    "end": "145120"
  },
  {
    "text": "a low probability because their latency",
    "start": "145120",
    "end": "147920"
  },
  {
    "text": "may have amplification effects for",
    "start": "147920",
    "end": "149920"
  },
  {
    "text": "parallel failed requests",
    "start": "149920",
    "end": "152400"
  },
  {
    "text": "for instance in the transaction mode of",
    "start": "152400",
    "end": "155840"
  },
  {
    "text": "the previous phase needs to wait for all",
    "start": "155840",
    "end": "158239"
  },
  {
    "text": "parallel provides to be done",
    "start": "158239",
    "end": "160640"
  },
  {
    "text": "so the latency of the right phase is the",
    "start": "160640",
    "end": "163040"
  },
  {
    "text": "maximum latency of all playwrights",
    "start": "163040",
    "end": "167200"
  },
  {
    "start": "167000",
    "end": "224000"
  },
  {
    "text": "if the provided phase involved in",
    "start": "169040",
    "end": "170800"
  },
  {
    "text": "provides",
    "start": "170800",
    "end": "171920"
  },
  {
    "text": "the probability that its latency is",
    "start": "171920",
    "end": "174319"
  },
  {
    "text": "longer than x percentile latency or",
    "start": "174319",
    "end": "176959"
  },
  {
    "text": "price request is one minus x percent to",
    "start": "176959",
    "end": "180319"
  },
  {
    "text": "earn its power",
    "start": "180319",
    "end": "182319"
  },
  {
    "text": "x percent represents the probability",
    "start": "182319",
    "end": "185280"
  },
  {
    "text": "that the latency of the request is",
    "start": "185280",
    "end": "187440"
  },
  {
    "text": "shorter than the x percentile latency",
    "start": "187440",
    "end": "190239"
  },
  {
    "text": "and each request is an independent event",
    "start": "190239",
    "end": "192959"
  },
  {
    "text": "so x percent to us power means the",
    "start": "192959",
    "end": "196000"
  },
  {
    "text": "probability that earned requests latency",
    "start": "196000",
    "end": "198720"
  },
  {
    "text": "are all shorter than the x percentile",
    "start": "198720",
    "end": "200800"
  },
  {
    "text": "latency",
    "start": "200800",
    "end": "202319"
  },
  {
    "text": "therefore the probability of its",
    "start": "202319",
    "end": "204959"
  },
  {
    "text": "complementary events is what we want",
    "start": "204959",
    "end": "207760"
  },
  {
    "text": "for example x is 90 minus 10 then the",
    "start": "207760",
    "end": "211440"
  },
  {
    "text": "probability is 65 percent",
    "start": "211440",
    "end": "214000"
  },
  {
    "text": "is pretty high right",
    "start": "214000",
    "end": "216159"
  },
  {
    "text": "in summary one is larger the latent",
    "start": "216159",
    "end": "218959"
  },
  {
    "text": "self-write phase is closer to the target",
    "start": "218959",
    "end": "221599"
  },
  {
    "text": "of provider requests",
    "start": "221599",
    "end": "224799"
  },
  {
    "start": "224000",
    "end": "298000"
  },
  {
    "text": "next let's move to the right floor of",
    "start": "225440",
    "end": "227760"
  },
  {
    "text": "tech av before we discuss the",
    "start": "227760",
    "end": "229360"
  },
  {
    "text": "optimization",
    "start": "229360",
    "end": "230879"
  },
  {
    "text": "at first a request is sent to scheduler",
    "start": "230879",
    "end": "233519"
  },
  {
    "text": "workers which are responsible for",
    "start": "233519",
    "end": "235519"
  },
  {
    "text": "transaction translators and checking and",
    "start": "235519",
    "end": "238400"
  },
  {
    "text": "transform requests to key value pairs to",
    "start": "238400",
    "end": "240720"
  },
  {
    "text": "rough store",
    "start": "240720",
    "end": "242080"
  },
  {
    "text": "rough store is a consensus layer of tech",
    "start": "242080",
    "end": "244080"
  },
  {
    "text": "uv it uses rough consensus algorithm to",
    "start": "244080",
    "end": "247280"
  },
  {
    "text": "make techie before tolerant",
    "start": "247280",
    "end": "249599"
  },
  {
    "text": "we also have two serial groups that",
    "start": "249599",
    "end": "252640"
  },
  {
    "text": "start series and apply series",
    "start": "252640",
    "end": "255120"
  },
  {
    "text": "star series are responsible for handling",
    "start": "255120",
    "end": "258239"
  },
  {
    "text": "rough message and new proposals",
    "start": "258239",
    "end": "260799"
  },
  {
    "text": "when receiving a new proposal saw siri",
    "start": "260799",
    "end": "263759"
  },
  {
    "text": "will write it to rough db and send a",
    "start": "263759",
    "end": "265759"
  },
  {
    "text": "message to others",
    "start": "265759",
    "end": "267600"
  },
  {
    "text": "after this proposal is committed it will",
    "start": "267600",
    "end": "270080"
  },
  {
    "text": "be sent to apply sirius which will save",
    "start": "270080",
    "end": "272479"
  },
  {
    "text": "it to kvdb",
    "start": "272479",
    "end": "274400"
  },
  {
    "text": "then",
    "start": "274400",
    "end": "275360"
  },
  {
    "text": "apply syria will call back to notify the",
    "start": "275360",
    "end": "277520"
  },
  {
    "text": "outside that the request is written",
    "start": "277520",
    "end": "279360"
  },
  {
    "text": "successfully",
    "start": "279360",
    "end": "282360"
  },
  {
    "text": "each right of rough store contains the",
    "start": "283280",
    "end": "285360"
  },
  {
    "text": "time to rough db write kvdb write",
    "start": "285360",
    "end": "288639"
  },
  {
    "text": "network round trip and so on",
    "start": "288639",
    "end": "291360"
  },
  {
    "text": "so it is the key point to reduce the",
    "start": "291360",
    "end": "293759"
  },
  {
    "text": "write latency in the rough saw layer",
    "start": "293759",
    "end": "297840"
  },
  {
    "text": "to this end we focus on the star series",
    "start": "300479",
    "end": "303600"
  },
  {
    "text": "first in the rough star layer",
    "start": "303600",
    "end": "305919"
  },
  {
    "text": "star series handle the work of",
    "start": "305919",
    "end": "308000"
  },
  {
    "text": "multi-rough groups and he used roughed",
    "start": "308000",
    "end": "310880"
  },
  {
    "text": "eyes as consensus aggression module",
    "start": "310880",
    "end": "315360"
  },
  {
    "start": "316000",
    "end": "380000"
  },
  {
    "text": "roughed eyes written in rust and",
    "start": "317360",
    "end": "319840"
  },
  {
    "text": "originally ported from ccd raft",
    "start": "319840",
    "end": "322800"
  },
  {
    "text": "it is essentially a state machine",
    "start": "322800",
    "end": "326080"
  },
  {
    "text": "events such as sending messages saving",
    "start": "326080",
    "end": "328960"
  },
  {
    "text": "to disk are done by external modules",
    "start": "328960",
    "end": "332320"
  },
  {
    "text": "such as store serial in tai kv",
    "start": "332320",
    "end": "335759"
  },
  {
    "text": "then let's look at the flowchart",
    "start": "335759",
    "end": "339039"
  },
  {
    "text": "at the first of each round store series",
    "start": "339039",
    "end": "341600"
  },
  {
    "text": "calls step to handle multiple messages",
    "start": "341600",
    "end": "344720"
  },
  {
    "text": "for example for the leader",
    "start": "344720",
    "end": "346560"
  },
  {
    "text": "the source serial can propose commands",
    "start": "346560",
    "end": "348880"
  },
  {
    "text": "and handle the append response from from",
    "start": "348880",
    "end": "351039"
  },
  {
    "text": "the follower",
    "start": "351039",
    "end": "352479"
  },
  {
    "text": "for the follower the source serial can",
    "start": "352479",
    "end": "354720"
  },
  {
    "text": "handle a panda request from the leader",
    "start": "354720",
    "end": "357919"
  },
  {
    "text": "then the source series gets ready to",
    "start": "357919",
    "end": "360319"
  },
  {
    "text": "handle",
    "start": "360319",
    "end": "361600"
  },
  {
    "text": "ready as a data structure that includes",
    "start": "361600",
    "end": "364080"
  },
  {
    "text": "entries to be saved to disk the",
    "start": "364080",
    "end": "366319"
  },
  {
    "text": "committed entry to be applied and the",
    "start": "366319",
    "end": "368560"
  },
  {
    "text": "message to be sent",
    "start": "368560",
    "end": "370639"
  },
  {
    "text": "leader sends a message before saving",
    "start": "370639",
    "end": "372479"
  },
  {
    "text": "entries to disk where follower does the",
    "start": "372479",
    "end": "374720"
  },
  {
    "text": "opposite",
    "start": "374720",
    "end": "376400"
  },
  {
    "text": "finally the source serial calls advancer",
    "start": "376400",
    "end": "379039"
  },
  {
    "text": "pen to end this round",
    "start": "379039",
    "end": "381440"
  },
  {
    "start": "380000",
    "end": "398000"
  },
  {
    "text": "at each round source series handle each",
    "start": "381440",
    "end": "384080"
  },
  {
    "text": "rough group's messages and ready one by",
    "start": "384080",
    "end": "386800"
  },
  {
    "text": "one",
    "start": "386800",
    "end": "387680"
  },
  {
    "text": "the entry from this ready are batched",
    "start": "387680",
    "end": "390160"
  },
  {
    "text": "and then returned to rough db together",
    "start": "390160",
    "end": "392319"
  },
  {
    "text": "in the end of the round in order to",
    "start": "392319",
    "end": "394240"
  },
  {
    "text": "optimize the right performance",
    "start": "394240",
    "end": "397759"
  },
  {
    "start": "398000",
    "end": "451000"
  },
  {
    "text": "in order to find the problem",
    "start": "401680",
    "end": "403680"
  },
  {
    "text": "let's calculate the star duration which",
    "start": "403680",
    "end": "405919"
  },
  {
    "text": "is time between propose and commit of",
    "start": "405919",
    "end": "408639"
  },
  {
    "text": "our proposal",
    "start": "408639",
    "end": "410479"
  },
  {
    "text": "let's make some assumptions for",
    "start": "410479",
    "end": "411840"
  },
  {
    "text": "simplicity",
    "start": "411840",
    "end": "414080"
  },
  {
    "text": "first we only consider single roughed",
    "start": "414080",
    "end": "416560"
  },
  {
    "text": "group",
    "start": "416560",
    "end": "417919"
  },
  {
    "text": "secondly disk's right rate is constant",
    "start": "417919",
    "end": "421599"
  },
  {
    "text": "thirdly the request arrival time is",
    "start": "421599",
    "end": "424160"
  },
  {
    "text": "unifying distributed",
    "start": "424160",
    "end": "426400"
  },
  {
    "text": "finally the systems reaches a steady",
    "start": "426400",
    "end": "429280"
  },
  {
    "text": "state",
    "start": "429280",
    "end": "430479"
  },
  {
    "text": "in practice a real system is far more",
    "start": "430479",
    "end": "433120"
  },
  {
    "text": "complicated for example there's always a",
    "start": "433120",
    "end": "436240"
  },
  {
    "text": "burst in request for many reasons and",
    "start": "436240",
    "end": "438960"
  },
  {
    "text": "this correct latency is not always the",
    "start": "438960",
    "end": "440880"
  },
  {
    "text": "same",
    "start": "440880",
    "end": "442160"
  },
  {
    "text": "so it's a rough model based on these",
    "start": "442160",
    "end": "444000"
  },
  {
    "text": "assumptions",
    "start": "444000",
    "end": "445280"
  },
  {
    "text": "but it's not enough to analyze the",
    "start": "445280",
    "end": "447360"
  },
  {
    "text": "problem that we will mention next",
    "start": "447360",
    "end": "451840"
  },
  {
    "start": "451000",
    "end": "653000"
  },
  {
    "text": "this is a sequence diagram of the star",
    "start": "454240",
    "end": "456319"
  },
  {
    "text": "duration",
    "start": "456319",
    "end": "457520"
  },
  {
    "text": "under normal conditions",
    "start": "457520",
    "end": "459520"
  },
  {
    "text": "that is equal to the sum of all parts on",
    "start": "459520",
    "end": "462080"
  },
  {
    "text": "the red line store loop is a processing",
    "start": "462080",
    "end": "465840"
  },
  {
    "text": "time of one round of source of spirit",
    "start": "465840",
    "end": "468960"
  },
  {
    "text": "as equal to massive duration plus io",
    "start": "468960",
    "end": "471280"
  },
  {
    "text": "duration",
    "start": "471280",
    "end": "472720"
  },
  {
    "text": "proposed weight method of hand weight",
    "start": "472720",
    "end": "475280"
  },
  {
    "text": "and method of panel response weight are",
    "start": "475280",
    "end": "477440"
  },
  {
    "text": "all the time the message waits for the",
    "start": "477440",
    "end": "479280"
  },
  {
    "text": "source serial to process",
    "start": "479280",
    "end": "481840"
  },
  {
    "text": "according to the affirmation assumptions",
    "start": "481840",
    "end": "484879"
  },
  {
    "text": "as the messages arrive uniformly and",
    "start": "484879",
    "end": "487440"
  },
  {
    "text": "they will be processed in the next round",
    "start": "487440",
    "end": "490000"
  },
  {
    "text": "their average waiting time is about half",
    "start": "490000",
    "end": "492319"
  },
  {
    "text": "of the store loop",
    "start": "492319",
    "end": "494000"
  },
  {
    "text": "that is 0.5 message duration plus 0.5 io",
    "start": "494000",
    "end": "497840"
  },
  {
    "text": "duration",
    "start": "497840",
    "end": "500400"
  },
  {
    "text": "the duration time of a message append",
    "start": "502960",
    "end": "505280"
  },
  {
    "text": "and a message append response is equal",
    "start": "505280",
    "end": "507680"
  },
  {
    "text": "to network round trip time rtt for short",
    "start": "507680",
    "end": "511599"
  },
  {
    "text": "after natural rtt and method weight are",
    "start": "511599",
    "end": "514640"
  },
  {
    "text": "substituted into the equation",
    "start": "514640",
    "end": "516880"
  },
  {
    "text": "the stored duration is equal to the sum",
    "start": "516880",
    "end": "518800"
  },
  {
    "text": "of 4.5 message duration 2.5 io duration",
    "start": "518800",
    "end": "522800"
  },
  {
    "text": "and one network rtt",
    "start": "522800",
    "end": "525760"
  },
  {
    "text": "let's take a good look at this equation",
    "start": "525760",
    "end": "528320"
  },
  {
    "text": "is there something unexpected",
    "start": "528320",
    "end": "532200"
  },
  {
    "text": "since i o request of a leader and",
    "start": "536080",
    "end": "538000"
  },
  {
    "text": "follower are parallel the 2.5 io",
    "start": "538000",
    "end": "540880"
  },
  {
    "text": "duration is unexpected",
    "start": "540880",
    "end": "543839"
  },
  {
    "text": "where does the extra time came from",
    "start": "543839",
    "end": "548519"
  },
  {
    "text": "as mentioned before",
    "start": "549600",
    "end": "551360"
  },
  {
    "text": "message weight is equal to the sum of",
    "start": "551360",
    "end": "553440"
  },
  {
    "text": "0.5 message duration and 0.05 io",
    "start": "553440",
    "end": "556160"
  },
  {
    "text": "duration",
    "start": "556160",
    "end": "557680"
  },
  {
    "text": "when a proposal is proposed",
    "start": "557680",
    "end": "560080"
  },
  {
    "text": "master japan has to wait for 0.5 io",
    "start": "560080",
    "end": "562399"
  },
  {
    "text": "duration more before sending to",
    "start": "562399",
    "end": "564240"
  },
  {
    "text": "followers",
    "start": "564240",
    "end": "565519"
  },
  {
    "text": "similarly when messenger panel response",
    "start": "565519",
    "end": "567920"
  },
  {
    "text": "is received the proposal has to wait 4.5",
    "start": "567920",
    "end": "571040"
  },
  {
    "text": "hour duration more before being",
    "start": "571040",
    "end": "572720"
  },
  {
    "text": "committed",
    "start": "572720",
    "end": "574080"
  },
  {
    "text": "so the root cause as both proposed",
    "start": "574080",
    "end": "576320"
  },
  {
    "text": "weight and messenger append response",
    "start": "576320",
    "end": "578320"
  },
  {
    "text": "weight contain an unnecessary 0.5 io",
    "start": "578320",
    "end": "581360"
  },
  {
    "text": "duration",
    "start": "581360",
    "end": "582880"
  },
  {
    "text": "but why messenger append weight is not",
    "start": "582880",
    "end": "585200"
  },
  {
    "text": "included here",
    "start": "585200",
    "end": "586560"
  },
  {
    "text": "it seems to be very similar to them",
    "start": "586560",
    "end": "589519"
  },
  {
    "text": "that's because followers must wait for",
    "start": "589519",
    "end": "591440"
  },
  {
    "text": "io to be completed before sending a",
    "start": "591440",
    "end": "593760"
  },
  {
    "text": "message up and response to the leader",
    "start": "593760",
    "end": "596560"
  },
  {
    "text": "there is no difference whether the",
    "start": "596560",
    "end": "598000"
  },
  {
    "text": "messenger append is handled earlier or",
    "start": "598000",
    "end": "600240"
  },
  {
    "text": "not",
    "start": "600240",
    "end": "602320"
  },
  {
    "text": "now we found the problem how to optimize",
    "start": "602320",
    "end": "605279"
  },
  {
    "text": "it",
    "start": "605279",
    "end": "607440"
  },
  {
    "text": "obviously we need to move the io process",
    "start": "608079",
    "end": "611040"
  },
  {
    "text": "out of the store series",
    "start": "611040",
    "end": "614399"
  },
  {
    "text": "given that rough eyes have to wait for",
    "start": "614959",
    "end": "617680"
  },
  {
    "text": "all the entries in ready to be written",
    "start": "617680",
    "end": "620079"
  },
  {
    "text": "before proceeding to the next round",
    "start": "620079",
    "end": "622800"
  },
  {
    "text": "we need to support asynchronous ready to",
    "start": "622800",
    "end": "624959"
  },
  {
    "text": "break this limitation",
    "start": "624959",
    "end": "627360"
  },
  {
    "text": "in addition star syria needs to use a",
    "start": "627360",
    "end": "630000"
  },
  {
    "text": "synchronous io to co-operate cooperate",
    "start": "630000",
    "end": "632720"
  },
  {
    "text": "with asynchronous ready",
    "start": "632720",
    "end": "634800"
  },
  {
    "text": "note that although we call it",
    "start": "634800",
    "end": "636800"
  },
  {
    "text": "asynchronous io for now we do not use",
    "start": "636800",
    "end": "640160"
  },
  {
    "text": "linux asynchronous io technology such as",
    "start": "640160",
    "end": "642800"
  },
  {
    "text": "aio io urine",
    "start": "642800",
    "end": "645040"
  },
  {
    "text": "we just simply move the ios process to",
    "start": "645040",
    "end": "647440"
  },
  {
    "text": "the dedicated io series in the current",
    "start": "647440",
    "end": "650000"
  },
  {
    "text": "implementation",
    "start": "650000",
    "end": "652800"
  },
  {
    "start": "653000",
    "end": "705000"
  },
  {
    "text": "this is a pr for rough eyes and tracking",
    "start": "655360",
    "end": "657760"
  },
  {
    "text": "user for",
    "start": "657760",
    "end": "658839"
  },
  {
    "text": "techyv now let's look at the flowchart",
    "start": "658839",
    "end": "662800"
  },
  {
    "text": "compared with the old floor",
    "start": "662800",
    "end": "664800"
  },
  {
    "text": "asynchronous ready allows the save to",
    "start": "664800",
    "end": "666959"
  },
  {
    "text": "disk operation to be asynchronous",
    "start": "666959",
    "end": "669440"
  },
  {
    "text": "after writing is completed the store",
    "start": "669440",
    "end": "672160"
  },
  {
    "text": "series will call unready unprocessed",
    "start": "672160",
    "end": "675440"
  },
  {
    "text": "ready to notify the rough state machine",
    "start": "675440",
    "end": "679040"
  },
  {
    "text": "for rockstar besides using a synchronous",
    "start": "679040",
    "end": "681839"
  },
  {
    "text": "io to cooperate with asynchronous ready",
    "start": "681839",
    "end": "684880"
  },
  {
    "text": "some other parts related to a",
    "start": "684880",
    "end": "686640"
  },
  {
    "text": "synchronous io need to be notified",
    "start": "686640",
    "end": "689360"
  },
  {
    "text": "such as snapshot process and disappear",
    "start": "689360",
    "end": "692320"
  },
  {
    "text": "process",
    "start": "692320",
    "end": "693920"
  },
  {
    "text": "given the limited time i won't go into",
    "start": "693920",
    "end": "696399"
  },
  {
    "text": "more details here",
    "start": "696399",
    "end": "698560"
  },
  {
    "text": "next let's calculate the new start",
    "start": "698560",
    "end": "700880"
  },
  {
    "text": "duration of the synchronized version",
    "start": "700880",
    "end": "704880"
  },
  {
    "start": "705000",
    "end": "841000"
  },
  {
    "text": "in this sequence diagram the leader io",
    "start": "706160",
    "end": "708720"
  },
  {
    "text": "and follow i o are added to indicate the",
    "start": "708720",
    "end": "711120"
  },
  {
    "text": "io series",
    "start": "711120",
    "end": "712800"
  },
  {
    "text": "io weight means a waiting time of an io",
    "start": "712800",
    "end": "715360"
  },
  {
    "text": "request",
    "start": "715360",
    "end": "716639"
  },
  {
    "text": "based on the assumption mentioned before",
    "start": "716639",
    "end": "718959"
  },
  {
    "text": "io weight is equal to half of our io",
    "start": "718959",
    "end": "721839"
  },
  {
    "text": "duration",
    "start": "721839",
    "end": "723120"
  },
  {
    "text": "since the store series only processed",
    "start": "723120",
    "end": "725200"
  },
  {
    "text": "message and don't need to wait for io",
    "start": "725200",
    "end": "728240"
  },
  {
    "text": "the third loop duration becomes our",
    "start": "728240",
    "end": "730480"
  },
  {
    "text": "message duration",
    "start": "730480",
    "end": "732000"
  },
  {
    "text": "therefore",
    "start": "732000",
    "end": "733040"
  },
  {
    "text": "method weight is equal to half of",
    "start": "733040",
    "end": "734959"
  },
  {
    "text": "massive duration",
    "start": "734959",
    "end": "737920"
  },
  {
    "text": "after measure weight and air weight are",
    "start": "739920",
    "end": "742320"
  },
  {
    "text": "substituted to the previous equations",
    "start": "742320",
    "end": "745279"
  },
  {
    "text": "still duration is equal to the sum of",
    "start": "745279",
    "end": "747279"
  },
  {
    "text": "4.5 methyl duration",
    "start": "747279",
    "end": "749600"
  },
  {
    "text": "1.5 io duration and one network rtt",
    "start": "749600",
    "end": "755639"
  },
  {
    "text": "we compared the two different stall",
    "start": "758240",
    "end": "760720"
  },
  {
    "text": "duration and can find out that the",
    "start": "760720",
    "end": "762959"
  },
  {
    "text": "asynchronous versions start duration as",
    "start": "762959",
    "end": "765600"
  },
  {
    "text": "one less while duration than the",
    "start": "765600",
    "end": "768000"
  },
  {
    "text": "synchronous versions",
    "start": "768000",
    "end": "770240"
  },
  {
    "text": "seem perfect right",
    "start": "770240",
    "end": "772880"
  },
  {
    "text": "however",
    "start": "772880",
    "end": "773920"
  },
  {
    "text": "in reality",
    "start": "773920",
    "end": "775279"
  },
  {
    "text": "the message duration is not the same in",
    "start": "775279",
    "end": "777440"
  },
  {
    "text": "the synchronized version and then",
    "start": "777440",
    "end": "778959"
  },
  {
    "text": "synchronous version",
    "start": "778959",
    "end": "780800"
  },
  {
    "text": "there is an optimization called command",
    "start": "780800",
    "end": "783120"
  },
  {
    "text": "batch install series",
    "start": "783120",
    "end": "785760"
  },
  {
    "text": "batch will batch as many proposals as",
    "start": "785760",
    "end": "788160"
  },
  {
    "text": "possible into one",
    "start": "788160",
    "end": "790160"
  },
  {
    "text": "in the case of the same total number of",
    "start": "790160",
    "end": "792480"
  },
  {
    "text": "requests",
    "start": "792480",
    "end": "793519"
  },
  {
    "text": "the smaller number of proposals the",
    "start": "793519",
    "end": "796000"
  },
  {
    "text": "smaller the cpu had of store siri and",
    "start": "796000",
    "end": "798880"
  },
  {
    "text": "jrpc series",
    "start": "798880",
    "end": "801040"
  },
  {
    "text": "that's because of some internal",
    "start": "801040",
    "end": "802720"
  },
  {
    "text": "implementation problems raised by many",
    "start": "802720",
    "end": "805600"
  },
  {
    "text": "proposals and rough messages",
    "start": "805600",
    "end": "808320"
  },
  {
    "text": "we are trying to optimize them to",
    "start": "808320",
    "end": "810000"
  },
  {
    "text": "mitigate the impact",
    "start": "810000",
    "end": "812000"
  },
  {
    "text": "but in my opinion it can be totally",
    "start": "812000",
    "end": "815920"
  },
  {
    "text": "eliminated",
    "start": "815920",
    "end": "817839"
  },
  {
    "text": "back to these equations the effect of",
    "start": "817839",
    "end": "820320"
  },
  {
    "text": "command batch is very good in",
    "start": "820320",
    "end": "822079"
  },
  {
    "text": "synchronous version due to the long i o",
    "start": "822079",
    "end": "824560"
  },
  {
    "text": "duration while it's not in a synchronous",
    "start": "824560",
    "end": "827440"
  },
  {
    "text": "version",
    "start": "827440",
    "end": "828880"
  },
  {
    "text": "so the message duration of asynchronous",
    "start": "828880",
    "end": "830880"
  },
  {
    "text": "version is longer than that of the",
    "start": "830880",
    "end": "832639"
  },
  {
    "text": "synchronous version",
    "start": "832639",
    "end": "834160"
  },
  {
    "text": "which reduces the benefits of this",
    "start": "834160",
    "end": "836720"
  },
  {
    "text": "optimization",
    "start": "836720",
    "end": "839720"
  },
  {
    "start": "841000",
    "end": "863000"
  },
  {
    "text": "here is a benchmark result of the",
    "start": "842560",
    "end": "844399"
  },
  {
    "text": "suspense insert",
    "start": "844399",
    "end": "846160"
  },
  {
    "text": "we use three type kv 3 db and 1pd",
    "start": "846160",
    "end": "850160"
  },
  {
    "text": "the number of series of suspense client",
    "start": "850160",
    "end": "852320"
  },
  {
    "text": "is 800.",
    "start": "852320",
    "end": "854160"
  },
  {
    "text": "look at this figure asynchronous ios qps",
    "start": "854160",
    "end": "857839"
  },
  {
    "text": "is more than 30 percent higher than",
    "start": "857839",
    "end": "860000"
  },
  {
    "text": "masters",
    "start": "860000",
    "end": "862560"
  },
  {
    "text": "and these three figures are all about",
    "start": "865279",
    "end": "867760"
  },
  {
    "text": "strong duration",
    "start": "867760",
    "end": "869440"
  },
  {
    "text": "in the first figure",
    "start": "869440",
    "end": "871360"
  },
  {
    "text": "a synchronous ios average star duration",
    "start": "871360",
    "end": "873680"
  },
  {
    "text": "is about half of masters",
    "start": "873680",
    "end": "875920"
  },
  {
    "text": "in addition a synchronous ios average",
    "start": "875920",
    "end": "878720"
  },
  {
    "text": "store duration has less jetta than",
    "start": "878720",
    "end": "881199"
  },
  {
    "text": "masters",
    "start": "881199",
    "end": "882720"
  },
  {
    "text": "in the second figure",
    "start": "882720",
    "end": "884399"
  },
  {
    "text": "a synchronous io's 99 percent higher",
    "start": "884399",
    "end": "886880"
  },
  {
    "text": "still duration is about one-third of",
    "start": "886880",
    "end": "889839"
  },
  {
    "text": "masters",
    "start": "889839",
    "end": "891279"
  },
  {
    "text": "in the third figure a synchronous io's",
    "start": "891279",
    "end": "893839"
  },
  {
    "text": "99.9",
    "start": "893839",
    "end": "895440"
  },
  {
    "text": "percent higher stall duration as about",
    "start": "895440",
    "end": "897920"
  },
  {
    "text": "half of masters",
    "start": "897920",
    "end": "899839"
  },
  {
    "start": "899000",
    "end": "1012000"
  },
  {
    "text": "next",
    "start": "899839",
    "end": "900800"
  },
  {
    "text": "let's talk about the future work",
    "start": "900800",
    "end": "902800"
  },
  {
    "text": "that's it to apply unprecedented entries",
    "start": "902800",
    "end": "905760"
  },
  {
    "text": "as mentioned before store duration is a",
    "start": "905760",
    "end": "908240"
  },
  {
    "text": "time between propose and commit of a",
    "start": "908240",
    "end": "910399"
  },
  {
    "text": "proposal",
    "start": "910399",
    "end": "911839"
  },
  {
    "text": "actually it's not accurate",
    "start": "911839",
    "end": "914160"
  },
  {
    "text": "the exact definition is the time between",
    "start": "914160",
    "end": "916639"
  },
  {
    "text": "when a proposal proposed to when is",
    "start": "916639",
    "end": "919199"
  },
  {
    "text": "committed and persisted",
    "start": "919199",
    "end": "922000"
  },
  {
    "text": "as shown in the figure the leaders i o",
    "start": "922000",
    "end": "924560"
  },
  {
    "text": "encountered latency and the two",
    "start": "924560",
    "end": "926880"
  },
  {
    "text": "followers respond to leader with",
    "start": "926880",
    "end": "928880"
  },
  {
    "text": "messenger apparent response earlier",
    "start": "928880",
    "end": "931680"
  },
  {
    "text": "at this time the proposal has been",
    "start": "931680",
    "end": "933839"
  },
  {
    "text": "committed but not persisted to unleaders",
    "start": "933839",
    "end": "937040"
  },
  {
    "text": "so it cannot be applied",
    "start": "937040",
    "end": "939600"
  },
  {
    "text": "this proposal has has two ways for io to",
    "start": "939600",
    "end": "942160"
  },
  {
    "text": "be completed before being applied",
    "start": "942160",
    "end": "944959"
  },
  {
    "text": "by the way this situation cannot happen",
    "start": "944959",
    "end": "947360"
  },
  {
    "text": "in synchronized version because on",
    "start": "947360",
    "end": "949440"
  },
  {
    "text": "leader this proposal's master of hand",
    "start": "949440",
    "end": "952000"
  },
  {
    "text": "response can only be handled after the",
    "start": "952000",
    "end": "954480"
  },
  {
    "text": "io is completed",
    "start": "954480",
    "end": "956800"
  },
  {
    "text": "it will found that this situation",
    "start": "956800",
    "end": "958639"
  },
  {
    "text": "accounts for about 1 6 in our pressure",
    "start": "958639",
    "end": "960959"
  },
  {
    "text": "tests",
    "start": "960959",
    "end": "961920"
  },
  {
    "text": "which is much higher than we expected",
    "start": "961920",
    "end": "966000"
  },
  {
    "text": "therefore",
    "start": "966000",
    "end": "967040"
  },
  {
    "text": "this is also one of the most important",
    "start": "967040",
    "end": "969360"
  },
  {
    "text": "causes for tail latency of soil duration",
    "start": "969360",
    "end": "973600"
  },
  {
    "text": "in fact",
    "start": "973600",
    "end": "974720"
  },
  {
    "text": "as long as the majority peers still",
    "start": "974720",
    "end": "976639"
  },
  {
    "text": "exists the committed entries will not be",
    "start": "976639",
    "end": "979440"
  },
  {
    "text": "lost so applying unpersistent entries in",
    "start": "979440",
    "end": "982079"
  },
  {
    "text": "advance should not break correctness and",
    "start": "982079",
    "end": "985040"
  },
  {
    "text": "it can significantly reduce the tear",
    "start": "985040",
    "end": "987199"
  },
  {
    "text": "latency of saw duration",
    "start": "987199",
    "end": "989360"
  },
  {
    "text": "as shown in the figure the still",
    "start": "989360",
    "end": "991360"
  },
  {
    "text": "duration is much shorter than before",
    "start": "991360",
    "end": "994480"
  },
  {
    "text": "however",
    "start": "994480",
    "end": "995839"
  },
  {
    "text": "extreme case of majority peer loss",
    "start": "995839",
    "end": "998480"
  },
  {
    "text": "some special processing is",
    "start": "998480",
    "end": "1000800"
  },
  {
    "text": "are required to be",
    "start": "1000800",
    "end": "1002480"
  },
  {
    "text": "recovered",
    "start": "1002480",
    "end": "1003759"
  },
  {
    "text": "because the local applied process makes",
    "start": "1003759",
    "end": "1006240"
  },
  {
    "text": "see the local maximum log entry",
    "start": "1006240",
    "end": "1011240"
  },
  {
    "start": "1012000",
    "end": "1036000"
  },
  {
    "text": "here is the suspension insert benchmark",
    "start": "1013519",
    "end": "1015519"
  },
  {
    "text": "of the demo",
    "start": "1015519",
    "end": "1016800"
  },
  {
    "text": "you can see that the 99 percentile",
    "start": "1016800",
    "end": "1018880"
  },
  {
    "text": "latency is about 40 percent lower than",
    "start": "1018880",
    "end": "1021440"
  },
  {
    "text": "the synchronized io version",
    "start": "1021440",
    "end": "1024640"
  },
  {
    "text": "and the 99 higher latency has less jetta",
    "start": "1024640",
    "end": "1027678"
  },
  {
    "text": "than the asynchronous io version",
    "start": "1027679",
    "end": "1029839"
  },
  {
    "text": "this shows that this optimization effect",
    "start": "1029839",
    "end": "1032240"
  },
  {
    "text": "is quite good",
    "start": "1032240",
    "end": "1035798"
  },
  {
    "start": "1036000",
    "end": "1058000"
  },
  {
    "text": "next future work is privately applied",
    "start": "1038000",
    "end": "1040720"
  },
  {
    "text": "at present to apply process a single",
    "start": "1040720",
    "end": "1043280"
  },
  {
    "text": "serious theory for each rough group",
    "start": "1043280",
    "end": "1046400"
  },
  {
    "text": "ever apply process can be multi-steered",
    "start": "1046400",
    "end": "1048880"
  },
  {
    "text": "in parallel the average density and the",
    "start": "1048880",
    "end": "1051280"
  },
  {
    "text": "tail latency of reply duration can be",
    "start": "1051280",
    "end": "1053280"
  },
  {
    "text": "reduced",
    "start": "1053280",
    "end": "1054400"
  },
  {
    "text": "especially when it's very hot",
    "start": "1054400",
    "end": "1058000"
  },
  {
    "start": "1058000",
    "end": "1082000"
  },
  {
    "text": "that's basically everything i plan to",
    "start": "1059760",
    "end": "1061600"
  },
  {
    "text": "cover today",
    "start": "1061600",
    "end": "1063039"
  },
  {
    "text": "if you like to explore more or dig",
    "start": "1063039",
    "end": "1065039"
  },
  {
    "text": "deeper into techyv projects",
    "start": "1065039",
    "end": "1067360"
  },
  {
    "text": "please check out the resources and",
    "start": "1067360",
    "end": "1068960"
  },
  {
    "text": "listed here",
    "start": "1068960",
    "end": "1070400"
  },
  {
    "text": "you are welcome to contribute to kv",
    "start": "1070400",
    "end": "1072720"
  },
  {
    "text": "project and follow us on twitter youtube",
    "start": "1072720",
    "end": "1075919"
  },
  {
    "text": "and contact us by slack channel",
    "start": "1075919",
    "end": "1078720"
  },
  {
    "text": "hopefully you got something useful today",
    "start": "1078720",
    "end": "1081039"
  },
  {
    "text": "and thank you",
    "start": "1081039",
    "end": "1084000"
  }
]