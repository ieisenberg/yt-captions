[
  {
    "start": "0",
    "end": "135000"
  },
  {
    "text": "so my name is amir i'm also an essay",
    "start": "240",
    "end": "2320"
  },
  {
    "text": "solutions architect here at google and i",
    "start": "2320",
    "end": "4080"
  },
  {
    "text": "will be your operator for the rest",
    "start": "4080",
    "end": "5680"
  },
  {
    "text": "of the 10 minutes or so that we have",
    "start": "5680",
    "end": "7440"
  },
  {
    "text": "let's all put on our operator's hats",
    "start": "7440",
    "end": "9440"
  },
  {
    "text": "and let's assume that our developer just",
    "start": "9440",
    "end": "11040"
  },
  {
    "text": "walked up to us and said",
    "start": "11040",
    "end": "12960"
  },
  {
    "text": "hey i have this new go app i'd like to",
    "start": "12960",
    "end": "14799"
  },
  {
    "text": "deploy hi miles how are you",
    "start": "14799",
    "end": "16480"
  },
  {
    "text": "awesome um and then so what do we do so",
    "start": "16480",
    "end": "20000"
  },
  {
    "text": "like any other platform as a service",
    "start": "20000",
    "end": "22160"
  },
  {
    "text": "we'd start with the cli which is what",
    "start": "22160",
    "end": "23840"
  },
  {
    "text": "you see up here we have this handy dandy",
    "start": "23840",
    "end": "25680"
  },
  {
    "text": "cli tool",
    "start": "25680",
    "end": "27039"
  },
  {
    "text": "that we are going to use to add a new",
    "start": "27039",
    "end": "29199"
  },
  {
    "text": "application called hello kubecon 1",
    "start": "29199",
    "end": "31599"
  },
  {
    "text": "into our cicd platform maybe",
    "start": "31599",
    "end": "35920"
  },
  {
    "text": "all right let me just make sure i'm in",
    "start": "35920",
    "end": "37200"
  },
  {
    "text": "the right folder huh",
    "start": "37200",
    "end": "40559"
  },
  {
    "text": "back out is that good no one more",
    "start": "40559",
    "end": "44399"
  },
  {
    "text": "one more all right uh cli is a good way",
    "start": "44399",
    "end": "47520"
  },
  {
    "text": "of adding an application it's nice and",
    "start": "47520",
    "end": "49039"
  },
  {
    "text": "consistent everybody gets to the same",
    "start": "49039",
    "end": "50480"
  },
  {
    "text": "way you don't make any kind of human",
    "start": "50480",
    "end": "51680"
  },
  {
    "text": "mistakes but in this particular case",
    "start": "51680",
    "end": "53440"
  },
  {
    "text": "we're using anthos platform cli the name",
    "start": "53440",
    "end": "55600"
  },
  {
    "text": "of our application is just going to be",
    "start": "55600",
    "end": "56960"
  },
  {
    "text": "hello cubecon 2019 we give it our ci",
    "start": "56960",
    "end": "59120"
  },
  {
    "text": "cd's hostname which in this case is",
    "start": "59120",
    "end": "60559"
  },
  {
    "text": "gitlab",
    "start": "60559",
    "end": "61440"
  },
  {
    "text": "the password and then the the template",
    "start": "61440",
    "end": "63920"
  },
  {
    "text": "right so again template gives you kind",
    "start": "63920",
    "end": "65280"
  },
  {
    "text": "of that boilerplate code",
    "start": "65280",
    "end": "66799"
  },
  {
    "text": "kind of already made up right so what's",
    "start": "66799",
    "end": "69920"
  },
  {
    "text": "happening in the background i'll just",
    "start": "69920",
    "end": "71200"
  },
  {
    "text": "quickly explain",
    "start": "71200",
    "end": "72080"
  },
  {
    "text": "is in gitlab it's creating a group and a",
    "start": "72080",
    "end": "75040"
  },
  {
    "text": "group is nothing more than just a",
    "start": "75040",
    "end": "76159"
  },
  {
    "text": "collection of repositories just like an",
    "start": "76159",
    "end": "78000"
  },
  {
    "text": "organization and github",
    "start": "78000",
    "end": "79680"
  },
  {
    "text": "and in this case it's creating those two",
    "start": "79680",
    "end": "81040"
  },
  {
    "text": "repositories one is your application",
    "start": "81040",
    "end": "83119"
  },
  {
    "text": "code repositories that's what you hand",
    "start": "83119",
    "end": "84960"
  },
  {
    "text": "off to your developers that's where they",
    "start": "84960",
    "end": "86400"
  },
  {
    "text": "iterate on their applications",
    "start": "86400",
    "end": "88080"
  },
  {
    "text": "and then the other one is your",
    "start": "88080",
    "end": "89360"
  },
  {
    "text": "operator's repository or your",
    "start": "89360",
    "end": "91040"
  },
  {
    "text": "environment repositories",
    "start": "91040",
    "end": "92479"
  },
  {
    "text": "that's where all of the kubernetes",
    "start": "92479",
    "end": "94079"
  },
  {
    "text": "resource manifests reside for all",
    "start": "94079",
    "end": "96240"
  },
  {
    "text": "all environments so for dev stage and",
    "start": "96240",
    "end": "97920"
  },
  {
    "text": "prod keeping those two separate kind of",
    "start": "97920",
    "end": "100000"
  },
  {
    "text": "keeps the ci",
    "start": "100000",
    "end": "101040"
  },
  {
    "text": "of the developer separated from the cd",
    "start": "101040",
    "end": "103200"
  },
  {
    "text": "of the operator it's a nice way to do",
    "start": "103200",
    "end": "104799"
  },
  {
    "text": "that",
    "start": "104799",
    "end": "105680"
  },
  {
    "text": "another thing that vic mentioned is that",
    "start": "105680",
    "end": "107040"
  },
  {
    "text": "every application gets deployed",
    "start": "107040",
    "end": "108720"
  },
  {
    "text": "in its own namespace on every single",
    "start": "108720",
    "end": "110720"
  },
  {
    "text": "cluster and as part of that namespace a",
    "start": "110720",
    "end": "113040"
  },
  {
    "text": "gitlab runner which is just a deployment",
    "start": "113040",
    "end": "115280"
  },
  {
    "text": "is deployed inside of that namespace now",
    "start": "115280",
    "end": "117759"
  },
  {
    "text": "there's",
    "start": "117759",
    "end": "118320"
  },
  {
    "text": "a couple of schools of thought here one",
    "start": "118320",
    "end": "120320"
  },
  {
    "text": "is how do we push these manifests down",
    "start": "120320",
    "end": "122479"
  },
  {
    "text": "to the clusters",
    "start": "122479",
    "end": "123439"
  },
  {
    "text": "so there's two ways to do that we can",
    "start": "123439",
    "end": "124640"
  },
  {
    "text": "either give kind of the credentials to",
    "start": "124640",
    "end": "127040"
  },
  {
    "text": "the git repos",
    "start": "127040",
    "end": "128239"
  },
  {
    "text": "and every single get reboot for every",
    "start": "128239",
    "end": "129599"
  },
  {
    "text": "single kubernetes cluster and we push",
    "start": "129599",
    "end": "131520"
  },
  {
    "text": "those",
    "start": "131520",
    "end": "132319"
  },
  {
    "text": "configs down so the credentials kind of",
    "start": "132319",
    "end": "134080"
  },
  {
    "text": "remain outside of it",
    "start": "134080",
    "end": "135360"
  },
  {
    "start": "135000",
    "end": "210000"
  },
  {
    "text": "or in this case we are giving those",
    "start": "135360",
    "end": "136959"
  },
  {
    "text": "credentials as a service account to the",
    "start": "136959",
    "end": "138480"
  },
  {
    "text": "gitlab runner",
    "start": "138480",
    "end": "139840"
  },
  {
    "text": "and then giving the git lab runner the",
    "start": "139840",
    "end": "141840"
  },
  {
    "text": "get credential so it can pull those",
    "start": "141840",
    "end": "143680"
  },
  {
    "text": "manifests in order to do that",
    "start": "143680",
    "end": "145440"
  },
  {
    "text": "we have to give this gitlab runner",
    "start": "145440",
    "end": "147360"
  },
  {
    "text": "access to pull those images right",
    "start": "147360",
    "end": "149680"
  },
  {
    "text": "so i'm going to click on this link and",
    "start": "149680",
    "end": "151360"
  },
  {
    "text": "i'm just going to create some",
    "start": "151360",
    "end": "152560"
  },
  {
    "text": "credentials so this is",
    "start": "152560",
    "end": "153760"
  },
  {
    "text": "very similar to just creating a docker",
    "start": "153760",
    "end": "156000"
  },
  {
    "text": "login and in this case the only thing it",
    "start": "156000",
    "end": "158080"
  },
  {
    "text": "really needs",
    "start": "158080",
    "end": "158800"
  },
  {
    "text": "is read access to the registry so it can",
    "start": "158800",
    "end": "160959"
  },
  {
    "text": "pull the images",
    "start": "160959",
    "end": "162160"
  },
  {
    "text": "so i'll create a user called git reader",
    "start": "162160",
    "end": "164800"
  },
  {
    "text": "it doesn't matter what we call it",
    "start": "164800",
    "end": "166400"
  },
  {
    "text": "we'll give it read registry access i'll",
    "start": "166400",
    "end": "168480"
  },
  {
    "text": "create the deploy token",
    "start": "168480",
    "end": "169760"
  },
  {
    "text": "and it'll give me this username and",
    "start": "169760",
    "end": "171120"
  },
  {
    "text": "password we'll copy this password go",
    "start": "171120",
    "end": "173599"
  },
  {
    "text": "back to our",
    "start": "173599",
    "end": "174959"
  },
  {
    "text": "command line give it the username which",
    "start": "174959",
    "end": "177120"
  },
  {
    "text": "is get reader",
    "start": "177120",
    "end": "178159"
  },
  {
    "text": "copy the password and let it kind of",
    "start": "178159",
    "end": "179760"
  },
  {
    "text": "finish the bootstrap",
    "start": "179760",
    "end": "182239"
  },
  {
    "text": "so let's take a look at what it actually",
    "start": "182239",
    "end": "184000"
  },
  {
    "text": "got created",
    "start": "184000",
    "end": "185360"
  },
  {
    "text": "in gitlab so i'm going to go into git",
    "start": "185360",
    "end": "187440"
  },
  {
    "text": "lab go to groups",
    "start": "187440",
    "end": "188879"
  },
  {
    "text": "and go to your groups so we can see all",
    "start": "188879",
    "end": "190720"
  },
  {
    "text": "of them so the first thing you notice is",
    "start": "190720",
    "end": "192000"
  },
  {
    "text": "that we have this new group created",
    "start": "192000",
    "end": "193519"
  },
  {
    "text": "called hello cubecon 2019",
    "start": "193519",
    "end": "195599"
  },
  {
    "text": "we go into that group we have the two",
    "start": "195599",
    "end": "197040"
  },
  {
    "text": "repositories the bottom one",
    "start": "197040",
    "end": "198640"
  },
  {
    "text": "is your application repository that's",
    "start": "198640",
    "end": "200400"
  },
  {
    "text": "the one for your developers",
    "start": "200400",
    "end": "201840"
  },
  {
    "text": "the top one is your end or your",
    "start": "201840",
    "end": "203440"
  },
  {
    "text": "environment repository that's the one",
    "start": "203440",
    "end": "205040"
  },
  {
    "text": "for your resource manifests for",
    "start": "205040",
    "end": "206480"
  },
  {
    "text": "kubernetes",
    "start": "206480",
    "end": "207440"
  },
  {
    "text": "we'll inspect those here shortly i'm",
    "start": "207440",
    "end": "208879"
  },
  {
    "text": "gonna go back into the groups",
    "start": "208879",
    "end": "211040"
  },
  {
    "start": "210000",
    "end": "240000"
  },
  {
    "text": "and i'm going to look at this group",
    "start": "211040",
    "end": "212640"
  },
  {
    "text": "called platform admins",
    "start": "212640",
    "end": "214400"
  },
  {
    "text": "and this is an operators group there's",
    "start": "214400",
    "end": "215920"
  },
  {
    "text": "quite a few repositories kind of in here",
    "start": "215920",
    "end": "218400"
  },
  {
    "text": "right so i'll highlight a few of them",
    "start": "218400",
    "end": "220720"
  },
  {
    "text": "the first one are these",
    "start": "220720",
    "end": "221840"
  },
  {
    "text": "templated repositories so the golang",
    "start": "221840",
    "end": "223920"
  },
  {
    "text": "template and the golang template and",
    "start": "223920",
    "end": "226000"
  },
  {
    "text": "again like i said it kind of gives our",
    "start": "226000",
    "end": "227760"
  },
  {
    "text": "developers a boilerplate of",
    "start": "227760",
    "end": "229519"
  },
  {
    "text": "a starting point of something they can",
    "start": "229519",
    "end": "231519"
  },
  {
    "text": "code so you don't have to do this every",
    "start": "231519",
    "end": "232879"
  },
  {
    "text": "single time",
    "start": "232879",
    "end": "233599"
  },
  {
    "text": "so you can have other templates for java",
    "start": "233599",
    "end": "236400"
  },
  {
    "text": "ruby go",
    "start": "236400",
    "end": "237360"
  },
  {
    "text": "and what what have you we heard about",
    "start": "237360",
    "end": "239920"
  },
  {
    "text": "antos config management this morning and",
    "start": "239920",
    "end": "241680"
  },
  {
    "start": "240000",
    "end": "322000"
  },
  {
    "text": "this",
    "start": "241680",
    "end": "242239"
  },
  {
    "text": "is the platform that sets up kind of the",
    "start": "242239",
    "end": "244799"
  },
  {
    "text": "foundation",
    "start": "244799",
    "end": "245439"
  },
  {
    "text": "the namespaces the registries and stuff",
    "start": "245439",
    "end": "247439"
  },
  {
    "text": "like that",
    "start": "247439",
    "end": "248480"
  },
  {
    "text": "inside of this repository this is by the",
    "start": "248480",
    "end": "250239"
  },
  {
    "text": "way what the folder structure looks like",
    "start": "250239",
    "end": "252159"
  },
  {
    "text": "there's a namespace folder",
    "start": "252159",
    "end": "253599"
  },
  {
    "text": "so we go into the namespaces folder and",
    "start": "253599",
    "end": "255439"
  },
  {
    "text": "the managed apps",
    "start": "255439",
    "end": "256720"
  },
  {
    "text": "folder you can see that we now have as",
    "start": "256720",
    "end": "259040"
  },
  {
    "text": "part of that bootstrap that we did with",
    "start": "259040",
    "end": "260560"
  },
  {
    "text": "the cli command we have a hello kubecon",
    "start": "260560",
    "end": "262479"
  },
  {
    "text": "2019 folder",
    "start": "262479",
    "end": "264000"
  },
  {
    "text": "we'll go into that folder and you'll",
    "start": "264000",
    "end": "266240"
  },
  {
    "text": "notice that like i said it creates the",
    "start": "266240",
    "end": "267759"
  },
  {
    "text": "namespace for that application",
    "start": "267759",
    "end": "269440"
  },
  {
    "text": "it creates that registry secret that's",
    "start": "269440",
    "end": "271360"
  },
  {
    "text": "that docker login that we just created",
    "start": "271360",
    "end": "273440"
  },
  {
    "text": "and it feeds that to all of the gitlab",
    "start": "273440",
    "end": "275360"
  },
  {
    "text": "runners",
    "start": "275360",
    "end": "276000"
  },
  {
    "text": "in each namespace for each cluster so",
    "start": "276000",
    "end": "277680"
  },
  {
    "text": "you see that three runners",
    "start": "277680",
    "end": "279120"
  },
  {
    "text": "two for the production clusters prod",
    "start": "279120",
    "end": "280960"
  },
  {
    "text": "central prod east and the staging",
    "start": "280960",
    "end": "283040"
  },
  {
    "text": "so now each cluster has pull permissions",
    "start": "283040",
    "end": "285199"
  },
  {
    "text": "to pull register pull images from that",
    "start": "285199",
    "end": "286880"
  },
  {
    "text": "registry",
    "start": "286880",
    "end": "288000"
  },
  {
    "text": "and if we want to look at what that",
    "start": "288000",
    "end": "289120"
  },
  {
    "text": "looks like inside of the cluster so",
    "start": "289120",
    "end": "290800"
  },
  {
    "text": "again i'm in the cloud console",
    "start": "290800",
    "end": "292720"
  },
  {
    "text": "we're looking at the kubernetes engine",
    "start": "292720",
    "end": "294479"
  },
  {
    "text": "workloads page and i've already put a",
    "start": "294479",
    "end": "296080"
  },
  {
    "text": "filter for that namespace on there and",
    "start": "296080",
    "end": "297600"
  },
  {
    "text": "if we hit refresh",
    "start": "297600",
    "end": "299440"
  },
  {
    "text": "you'll notice that we have the three",
    "start": "299440",
    "end": "301120"
  },
  {
    "text": "gitlab runners we also have something",
    "start": "301120",
    "end": "302560"
  },
  {
    "text": "else deployed and",
    "start": "302560",
    "end": "303440"
  },
  {
    "text": "we'll talk about that shortly but i",
    "start": "303440",
    "end": "305280"
  },
  {
    "text": "really want you to focus on",
    "start": "305280",
    "end": "307039"
  },
  {
    "text": "the three runners that are scoped to",
    "start": "307039",
    "end": "309039"
  },
  {
    "text": "that namespace so they're running within",
    "start": "309039",
    "end": "310479"
  },
  {
    "text": "that hello cubecon 2019 namespace",
    "start": "310479",
    "end": "312639"
  },
  {
    "text": "in each of the clusters the two",
    "start": "312639",
    "end": "314080"
  },
  {
    "text": "production clusters and the one staging",
    "start": "314080",
    "end": "315840"
  },
  {
    "text": "cluster",
    "start": "315840",
    "end": "316479"
  },
  {
    "text": "and those their permissions are scoped",
    "start": "316479",
    "end": "318479"
  },
  {
    "text": "within that namespace they can't put",
    "start": "318479",
    "end": "319840"
  },
  {
    "text": "anything outside of that",
    "start": "319840",
    "end": "322320"
  },
  {
    "start": "322000",
    "end": "350000"
  },
  {
    "text": "so let's go back to our platform admins",
    "start": "322320",
    "end": "325039"
  },
  {
    "text": "group",
    "start": "325039",
    "end": "326160"
  },
  {
    "text": "another thing i wanted to show you was",
    "start": "326160",
    "end": "327520"
  },
  {
    "text": "the shared ci cd repository so this is",
    "start": "327520",
    "end": "329840"
  },
  {
    "text": "where all of the ci cd for every single",
    "start": "329840",
    "end": "331600"
  },
  {
    "text": "language will sit here",
    "start": "331600",
    "end": "332960"
  },
  {
    "text": "so in the ci folder for example you'll",
    "start": "332960",
    "end": "335199"
  },
  {
    "text": "have all of the manifests for different",
    "start": "335199",
    "end": "336960"
  },
  {
    "text": "ci files so we have one for go here",
    "start": "336960",
    "end": "339280"
  },
  {
    "text": "as an example and you can see it's",
    "start": "339280",
    "end": "340639"
  },
  {
    "text": "fairly simple it's doing a unit test",
    "start": "340639",
    "end": "342479"
  },
  {
    "text": "which is go get go test",
    "start": "342479",
    "end": "344000"
  },
  {
    "text": "and then just a build stage right again",
    "start": "344000",
    "end": "346000"
  },
  {
    "text": "this could be as",
    "start": "346000",
    "end": "347039"
  },
  {
    "text": "as deep as you'd like it to be",
    "start": "347039",
    "end": "350240"
  },
  {
    "start": "350000",
    "end": "382000"
  },
  {
    "text": "and then the last thing i want to",
    "start": "350240",
    "end": "351840"
  },
  {
    "text": "mention here are customize",
    "start": "351840",
    "end": "353840"
  },
  {
    "text": "bases these are the shared customized",
    "start": "353840",
    "end": "355440"
  },
  {
    "text": "bases like vic talked about for every",
    "start": "355440",
    "end": "357039"
  },
  {
    "text": "language",
    "start": "357039",
    "end": "358000"
  },
  {
    "text": "uh we have a folder so we can go into",
    "start": "358000",
    "end": "359840"
  },
  {
    "text": "the golang folder and in this",
    "start": "359840",
    "end": "361520"
  },
  {
    "text": "demo we're just doing a deployment and a",
    "start": "361520",
    "end": "363280"
  },
  {
    "text": "service but you can have other",
    "start": "363280",
    "end": "364639"
  },
  {
    "text": "kubernetes manifests",
    "start": "364639",
    "end": "366000"
  },
  {
    "text": "and they don't look scary at all they",
    "start": "366000",
    "end": "367520"
  },
  {
    "text": "look just like a vanilla",
    "start": "367520",
    "end": "369280"
  },
  {
    "text": "kubernetes deployment and things like we",
    "start": "369280",
    "end": "371840"
  },
  {
    "text": "can change our environment so which",
    "start": "371840",
    "end": "373360"
  },
  {
    "text": "environment they're going into dev stage",
    "start": "373360",
    "end": "374960"
  },
  {
    "text": "or prod we can change the image name",
    "start": "374960",
    "end": "376400"
  },
  {
    "text": "because majority of the time",
    "start": "376400",
    "end": "377759"
  },
  {
    "text": "you're not changing the entire yaml",
    "start": "377759",
    "end": "379280"
  },
  {
    "text": "you're just changing a few things and",
    "start": "379280",
    "end": "380479"
  },
  {
    "text": "that's where that patch",
    "start": "380479",
    "end": "381600"
  },
  {
    "text": "kind of comes in and to show you that",
    "start": "381600",
    "end": "384000"
  },
  {
    "start": "382000",
    "end": "433000"
  },
  {
    "text": "now let's go ahead and inspect",
    "start": "384000",
    "end": "385600"
  },
  {
    "text": "our actual application group so i'm",
    "start": "385600",
    "end": "388319"
  },
  {
    "text": "going to go back into hello cubecon 2019",
    "start": "388319",
    "end": "390319"
  },
  {
    "text": "group and we're going to start",
    "start": "390319",
    "end": "391919"
  },
  {
    "text": "with the application repo so again this",
    "start": "391919",
    "end": "394479"
  },
  {
    "text": "is the boilerplate this is the",
    "start": "394479",
    "end": "395680"
  },
  {
    "text": "repository that gets handed over to the",
    "start": "395680",
    "end": "397440"
  },
  {
    "text": "developers and you can see the first",
    "start": "397440",
    "end": "398800"
  },
  {
    "text": "thing we just",
    "start": "398800",
    "end": "399520"
  },
  {
    "text": "gave them some boilerplate code this is",
    "start": "399520",
    "end": "401520"
  },
  {
    "text": "just a simple hello world app",
    "start": "401520",
    "end": "403520"
  },
  {
    "text": "that the developers can start iterating",
    "start": "403520",
    "end": "405840"
  },
  {
    "text": "upon",
    "start": "405840",
    "end": "407120"
  },
  {
    "text": "in the same repositories we have the",
    "start": "407120",
    "end": "408400"
  },
  {
    "text": "docker files this is what builds the",
    "start": "408400",
    "end": "410080"
  },
  {
    "text": "artifacts we have scaffold so they can",
    "start": "410080",
    "end": "411840"
  },
  {
    "text": "start doing some development some local",
    "start": "411840",
    "end": "413520"
  },
  {
    "text": "dev",
    "start": "413520",
    "end": "413840"
  },
  {
    "text": "testing before they even push this to",
    "start": "413840",
    "end": "415599"
  },
  {
    "text": "this to this particular repo we have",
    "start": "415599",
    "end": "417680"
  },
  {
    "text": "this gitlab ci which is their ci cd file",
    "start": "417680",
    "end": "419759"
  },
  {
    "text": "for this particular repo",
    "start": "419759",
    "end": "421360"
  },
  {
    "text": "this pipeline gets kicked off anytime",
    "start": "421360",
    "end": "423440"
  },
  {
    "text": "somebody commits",
    "start": "423440",
    "end": "424720"
  },
  {
    "text": "makes a commit to the master branch of",
    "start": "424720",
    "end": "426400"
  },
  {
    "text": "this application repo",
    "start": "426400",
    "end": "427919"
  },
  {
    "text": "and i already showed you the test and",
    "start": "427919",
    "end": "429280"
  },
  {
    "text": "build and steve's going to show you kind",
    "start": "429280",
    "end": "430560"
  },
  {
    "text": "of how the deployment piece works",
    "start": "430560",
    "end": "432880"
  },
  {
    "text": "what's interesting about this is in as",
    "start": "432880",
    "end": "436000"
  },
  {
    "start": "433000",
    "end": "487000"
  },
  {
    "text": "part of the application repo we also",
    "start": "436000",
    "end": "437759"
  },
  {
    "text": "have the kubernetes manifest so the",
    "start": "437759",
    "end": "439520"
  },
  {
    "text": "developers not only get to see what",
    "start": "439520",
    "end": "441360"
  },
  {
    "text": "actually gets deployed they also have",
    "start": "441360",
    "end": "443440"
  },
  {
    "text": "influence over how it does it right so",
    "start": "443440",
    "end": "445680"
  },
  {
    "text": "inside of that kate's folder we have the",
    "start": "445680",
    "end": "447680"
  },
  {
    "text": "three folders for the three environments",
    "start": "447680",
    "end": "449919"
  },
  {
    "text": "so for example if we go to the staging",
    "start": "449919",
    "end": "451520"
  },
  {
    "text": "folder",
    "start": "451520",
    "end": "452240"
  },
  {
    "text": "first thing is that it's pulling that",
    "start": "452240",
    "end": "454080"
  },
  {
    "text": "shared customized basis from that repo",
    "start": "454080",
    "end": "455840"
  },
  {
    "text": "that i showed you earlier",
    "start": "455840",
    "end": "457360"
  },
  {
    "text": "so as an operator i can go and make a",
    "start": "457360",
    "end": "459520"
  },
  {
    "text": "change to that shared base",
    "start": "459520",
    "end": "461360"
  },
  {
    "text": "one time if let's say i want to change",
    "start": "461360",
    "end": "463440"
  },
  {
    "text": "the logging level or if i want to add",
    "start": "463440",
    "end": "465599"
  },
  {
    "text": "resource limits or something i'll just",
    "start": "465599",
    "end": "467360"
  },
  {
    "text": "change it one time and in the next roll",
    "start": "467360",
    "end": "469120"
  },
  {
    "text": "out this will get applied across the",
    "start": "469120",
    "end": "470479"
  },
  {
    "text": "board",
    "start": "470479",
    "end": "471280"
  },
  {
    "text": "and then here's the patch the deployment",
    "start": "471280",
    "end": "473360"
  },
  {
    "text": "patch that",
    "start": "473360",
    "end": "474560"
  },
  {
    "text": "is being applied for this particular",
    "start": "474560",
    "end": "476720"
  },
  {
    "text": "thing if we just look at that very",
    "start": "476720",
    "end": "478319"
  },
  {
    "text": "very quickly all we're doing here is",
    "start": "478319",
    "end": "480479"
  },
  {
    "text": "giving it the",
    "start": "480479",
    "end": "481680"
  },
  {
    "text": "environment variable and then giving it",
    "start": "481680",
    "end": "483280"
  },
  {
    "text": "the the name of the image",
    "start": "483280",
    "end": "484960"
  },
  {
    "text": "which steve will show you shortly so as",
    "start": "484960",
    "end": "487840"
  },
  {
    "start": "487000",
    "end": "534000"
  },
  {
    "text": "a developer i can actually go in and i",
    "start": "487840",
    "end": "489520"
  },
  {
    "text": "can",
    "start": "489520",
    "end": "489919"
  },
  {
    "text": "change this patch to let's say if i want",
    "start": "489919",
    "end": "492000"
  },
  {
    "text": "more cpu or something",
    "start": "492000",
    "end": "493840"
  },
  {
    "text": "or if i want to change the image if i",
    "start": "493840",
    "end": "495039"
  },
  {
    "text": "want to push a different image to",
    "start": "495039",
    "end": "496240"
  },
  {
    "text": "staging i can do that",
    "start": "496240",
    "end": "497520"
  },
  {
    "text": "here so i still have that control over",
    "start": "497520",
    "end": "499360"
  },
  {
    "text": "staging",
    "start": "499360",
    "end": "500639"
  },
  {
    "text": "so now i mentioned that every time a",
    "start": "500639",
    "end": "502160"
  },
  {
    "text": "commit is made to the master branch a",
    "start": "502160",
    "end": "503759"
  },
  {
    "text": "pipeline is kicked off",
    "start": "503759",
    "end": "505280"
  },
  {
    "text": "so here on the left hand side i'm going",
    "start": "505280",
    "end": "507120"
  },
  {
    "text": "to go to ci cd pipelines",
    "start": "507120",
    "end": "509280"
  },
  {
    "text": "and you can see that one pipeline",
    "start": "509280",
    "end": "510800"
  },
  {
    "text": "because of the initial bootstrapping was",
    "start": "510800",
    "end": "512320"
  },
  {
    "text": "kicked off and let's click on that",
    "start": "512320",
    "end": "513839"
  },
  {
    "text": "pipeline and it's just a simple",
    "start": "513839",
    "end": "515200"
  },
  {
    "text": "four-stage ci cd step again this could",
    "start": "515200",
    "end": "516959"
  },
  {
    "text": "be as complex as you'd like",
    "start": "516959",
    "end": "518719"
  },
  {
    "text": "the first two are pretty",
    "start": "518719",
    "end": "519760"
  },
  {
    "text": "self-explanatory and i already kind of",
    "start": "519760",
    "end": "521360"
  },
  {
    "text": "showed you those this is the unit test",
    "start": "521360",
    "end": "523440"
  },
  {
    "text": "that happened and then the building of",
    "start": "523440",
    "end": "525040"
  },
  {
    "text": "that image once that image is built in",
    "start": "525040",
    "end": "526800"
  },
  {
    "text": "the registry",
    "start": "526800",
    "end": "527760"
  },
  {
    "text": "somehow we need to deploy that and for",
    "start": "527760",
    "end": "529279"
  },
  {
    "text": "that i'm gonna hand it off to steve and",
    "start": "529279",
    "end": "531120"
  },
  {
    "text": "he's gonna",
    "start": "531120",
    "end": "531920"
  },
  {
    "text": "talk more about how that gets deployed",
    "start": "531920",
    "end": "534000"
  },
  {
    "start": "534000",
    "end": "845000"
  },
  {
    "text": "thank you amir",
    "start": "534000",
    "end": "536880"
  },
  {
    "text": "yeah all right cool i'm steve mcgee i'm",
    "start": "537760",
    "end": "539519"
  },
  {
    "text": "a former sre so i get the honor",
    "start": "539519",
    "end": "541760"
  },
  {
    "text": "slash duty of pushing this thing into",
    "start": "541760",
    "end": "543279"
  },
  {
    "text": "production",
    "start": "543279",
    "end": "544880"
  },
  {
    "text": "so great okay so the the first thing",
    "start": "544880",
    "end": "548959"
  },
  {
    "text": "we're going to do is uh",
    "start": "548959",
    "end": "550160"
  },
  {
    "text": "it's still part of the ci step but it's",
    "start": "550160",
    "end": "551839"
  },
  {
    "text": "kind of the beginning of cd which is",
    "start": "551839",
    "end": "553519"
  },
  {
    "text": "hydrating these manifest so these are",
    "start": "553519",
    "end": "555360"
  },
  {
    "text": "these yaml files that we talked about",
    "start": "555360",
    "end": "556800"
  },
  {
    "text": "before so",
    "start": "556800",
    "end": "557839"
  },
  {
    "text": "before we had like the base image and",
    "start": "557839",
    "end": "559360"
  },
  {
    "text": "the patches and you kind of think about",
    "start": "559360",
    "end": "560640"
  },
  {
    "text": "variables and templates",
    "start": "560640",
    "end": "561760"
  },
  {
    "text": "this is all of it expanded out so we",
    "start": "561760",
    "end": "563680"
  },
  {
    "text": "have two files one is going to be",
    "start": "563680",
    "end": "565839"
  },
  {
    "text": "customize staging the other one is",
    "start": "565839",
    "end": "567839"
  },
  {
    "text": "customize",
    "start": "567839",
    "end": "568959"
  },
  {
    "text": "fraud and that way if we have any",
    "start": "568959",
    "end": "570800"
  },
  {
    "text": "trouble down the line we know exactly",
    "start": "570800",
    "end": "572160"
  },
  {
    "text": "what got pushed",
    "start": "572160",
    "end": "572959"
  },
  {
    "text": "to production the first step is just to",
    "start": "572959",
    "end": "576080"
  },
  {
    "text": "build those",
    "start": "576080",
    "end": "576640"
  },
  {
    "text": "we can click through here and we can",
    "start": "576640",
    "end": "578000"
  },
  {
    "text": "show you builds them all it's very",
    "start": "578000",
    "end": "579760"
  },
  {
    "text": "simple",
    "start": "579760",
    "end": "580399"
  },
  {
    "text": "it builds one right here it runs a",
    "start": "580399",
    "end": "581920"
  },
  {
    "text": "customized command for customized",
    "start": "581920",
    "end": "583440"
  },
  {
    "text": "staging",
    "start": "583440",
    "end": "584160"
  },
  {
    "text": "and then it does it again for production",
    "start": "584160",
    "end": "586480"
  },
  {
    "text": "so after that we have these two files",
    "start": "586480",
    "end": "588320"
  },
  {
    "text": "what do we do with them",
    "start": "588320",
    "end": "589200"
  },
  {
    "text": "we just push them over to another repo",
    "start": "589200",
    "end": "590959"
  },
  {
    "text": "right so now we're moving from the code",
    "start": "590959",
    "end": "592240"
  },
  {
    "text": "repo",
    "start": "592240",
    "end": "592800"
  },
  {
    "text": "to the environment repo i won't really",
    "start": "592800",
    "end": "594800"
  },
  {
    "text": "show you this because it's just like",
    "start": "594800",
    "end": "595760"
  },
  {
    "text": "copy it's not very interesting",
    "start": "595760",
    "end": "597360"
  },
  {
    "text": "so let's back out into the group and",
    "start": "597360",
    "end": "599200"
  },
  {
    "text": "we're going to show you the env repo",
    "start": "599200",
    "end": "601200"
  },
  {
    "text": "the environment repo and we'll show you",
    "start": "601200",
    "end": "602880"
  },
  {
    "text": "where those files kind of end up",
    "start": "602880",
    "end": "604640"
  },
  {
    "text": "so i go here oh my gosh where are the",
    "start": "604640",
    "end": "606720"
  },
  {
    "text": "files well we forgot we actually pushed",
    "start": "606720",
    "end": "608399"
  },
  {
    "text": "it to a branch right we pushed it to the",
    "start": "608399",
    "end": "610240"
  },
  {
    "text": "staging branch",
    "start": "610240",
    "end": "611200"
  },
  {
    "text": "so as soon as we move over there here we",
    "start": "611200",
    "end": "612880"
  },
  {
    "text": "go we've got our two files",
    "start": "612880",
    "end": "614240"
  },
  {
    "text": "so we can look at one let's look at",
    "start": "614240",
    "end": "615440"
  },
  {
    "text": "staging and it shouldn't be scary in any",
    "start": "615440",
    "end": "618640"
  },
  {
    "text": "way",
    "start": "618640",
    "end": "619040"
  },
  {
    "text": "it's pretty basic right so we have our",
    "start": "619040",
    "end": "621120"
  },
  {
    "text": "environment label staging just like we",
    "start": "621120",
    "end": "623040"
  },
  {
    "text": "expect",
    "start": "623040",
    "end": "623760"
  },
  {
    "text": "it has the name hello cubecon so all",
    "start": "623760",
    "end": "625519"
  },
  {
    "text": "those things that looked all vanilla",
    "start": "625519",
    "end": "626800"
  },
  {
    "text": "before have all been filled in with the",
    "start": "626800",
    "end": "628079"
  },
  {
    "text": "right stuff",
    "start": "628079",
    "end": "629120"
  },
  {
    "text": "okay so we saw before that there were",
    "start": "629120",
    "end": "631760"
  },
  {
    "text": "three runners running",
    "start": "631760",
    "end": "632959"
  },
  {
    "text": "in kubernetes and there was also a job",
    "start": "632959",
    "end": "634720"
  },
  {
    "text": "running there was the actual",
    "start": "634720",
    "end": "636480"
  },
  {
    "text": "staging app right so this is this guy",
    "start": "636480",
    "end": "638959"
  },
  {
    "text": "right here it already got out there how",
    "start": "638959",
    "end": "640240"
  },
  {
    "text": "did that how the heck did that happen",
    "start": "640240",
    "end": "641760"
  },
  {
    "text": "and the reason why that happened is",
    "start": "641760",
    "end": "643440"
  },
  {
    "text": "because when we made the the first",
    "start": "643440",
    "end": "645279"
  },
  {
    "text": "commit",
    "start": "645279",
    "end": "646000"
  },
  {
    "text": "uh we pushed this file all the way to",
    "start": "646000",
    "end": "648720"
  },
  {
    "text": "the environment",
    "start": "648720",
    "end": "649680"
  },
  {
    "text": "branch into the staging branch and our",
    "start": "649680",
    "end": "652079"
  },
  {
    "text": "friend the pipeline ran again so let's",
    "start": "652079",
    "end": "654240"
  },
  {
    "text": "see this new pipeline that ran this is a",
    "start": "654240",
    "end": "655680"
  },
  {
    "text": "different pipeline",
    "start": "655680",
    "end": "656880"
  },
  {
    "text": "this one uh just did one thing it",
    "start": "656880",
    "end": "660480"
  },
  {
    "text": "deployed to staging",
    "start": "660480",
    "end": "661920"
  },
  {
    "text": "so we can click in here we can see",
    "start": "661920",
    "end": "663200"
  },
  {
    "text": "there's this job that ran this this this",
    "start": "663200",
    "end": "665839"
  },
  {
    "text": "um binary that runs we're using",
    "start": "665839",
    "end": "667360"
  },
  {
    "text": "something called gke deploy",
    "start": "667360",
    "end": "668959"
  },
  {
    "text": "and it's think of it just as like cube",
    "start": "668959",
    "end": "670560"
  },
  {
    "text": "control apply except it does a couple",
    "start": "670560",
    "end": "672560"
  },
  {
    "text": "other little fancy things and it waits",
    "start": "672560",
    "end": "674240"
  },
  {
    "text": "for it to succeed and then once it does",
    "start": "674240",
    "end": "675600"
  },
  {
    "text": "it sort of tells you",
    "start": "675600",
    "end": "676560"
  },
  {
    "text": "here go look at your job it's running",
    "start": "676560",
    "end": "678240"
  },
  {
    "text": "it's great um so we can see yes indeed",
    "start": "678240",
    "end": "680800"
  },
  {
    "text": "it's running so at this point the",
    "start": "680800",
    "end": "682240"
  },
  {
    "text": "developer says great my job is what i",
    "start": "682240",
    "end": "684399"
  },
  {
    "text": "expected the feature is doing the",
    "start": "684399",
    "end": "685760"
  },
  {
    "text": "featuring",
    "start": "685760",
    "end": "686560"
  },
  {
    "text": "let's push it to prod and then yessiree",
    "start": "686560",
    "end": "688320"
  },
  {
    "text": "shows up and goes like you got it",
    "start": "688320",
    "end": "689760"
  },
  {
    "text": "let's do it you know the schedule is",
    "start": "689760",
    "end": "691839"
  },
  {
    "text": "correct we're ready to go",
    "start": "691839",
    "end": "693440"
  },
  {
    "text": "and then if you recall from the kind of",
    "start": "693440",
    "end": "695680"
  },
  {
    "text": "interesting flow chart the way we do",
    "start": "695680",
    "end": "697680"
  },
  {
    "text": "this",
    "start": "697680",
    "end": "698000"
  },
  {
    "text": "is we're going to do it by promoting the",
    "start": "698000",
    "end": "702800"
  },
  {
    "text": "the environment yaml from the staging",
    "start": "702800",
    "end": "705040"
  },
  {
    "text": "branch to the master branch",
    "start": "705040",
    "end": "706399"
  },
  {
    "text": "uh we do that in gitlab using what's",
    "start": "706399",
    "end": "708000"
  },
  {
    "text": "called a merge request which you",
    "start": "708000",
    "end": "709279"
  },
  {
    "text": "probably already know",
    "start": "709279",
    "end": "710399"
  },
  {
    "text": "we're going to make a new merge request",
    "start": "710399",
    "end": "712399"
  },
  {
    "text": "we're going to give it a very very",
    "start": "712399",
    "end": "713680"
  },
  {
    "text": "descriptive",
    "start": "713680",
    "end": "714399"
  },
  {
    "text": "name like go",
    "start": "714399",
    "end": "718079"
  },
  {
    "text": "oh no the computer stopped computering",
    "start": "718079",
    "end": "721600"
  },
  {
    "text": "okay broad okay",
    "start": "721600",
    "end": "724959"
  },
  {
    "text": "so we're going to go to prod so we want",
    "start": "724959",
    "end": "726480"
  },
  {
    "text": "to make sure we're actually going from",
    "start": "726480",
    "end": "727760"
  },
  {
    "text": "staging to master that looks pretty good",
    "start": "727760",
    "end": "729839"
  },
  {
    "text": "we're going to submit a merge request",
    "start": "729839",
    "end": "731839"
  },
  {
    "text": "some other person might come in like you",
    "start": "731839",
    "end": "733519"
  },
  {
    "text": "might want to have another set of eyes",
    "start": "733519",
    "end": "734720"
  },
  {
    "text": "go yeah this looks fine they might come",
    "start": "734720",
    "end": "736320"
  },
  {
    "text": "in and say",
    "start": "736320",
    "end": "737120"
  },
  {
    "text": "well let's take a look at the changes",
    "start": "737120",
    "end": "738639"
  },
  {
    "text": "make sure they're exactly what we expect",
    "start": "738639",
    "end": "740880"
  },
  {
    "text": "you might also have other things in your",
    "start": "740880",
    "end": "742160"
  },
  {
    "text": "pipeline like to make sure that we have",
    "start": "742160",
    "end": "743920"
  },
  {
    "text": "you know the right",
    "start": "743920",
    "end": "744959"
  },
  {
    "text": "amount of resources in place et cetera",
    "start": "744959",
    "end": "747360"
  },
  {
    "text": "this is really boring because it's just",
    "start": "747360",
    "end": "748399"
  },
  {
    "text": "like a blank",
    "start": "748399",
    "end": "749200"
  },
  {
    "text": "entry but let's say it looks good we're",
    "start": "749200",
    "end": "751279"
  },
  {
    "text": "going to merge it let's go",
    "start": "751279",
    "end": "752720"
  },
  {
    "text": "so now what happens in this process yet",
    "start": "752720",
    "end": "755680"
  },
  {
    "text": "another pipeline happens of course it",
    "start": "755680",
    "end": "757279"
  },
  {
    "text": "does that's how this works",
    "start": "757279",
    "end": "759040"
  },
  {
    "text": "in this case there's one step for each",
    "start": "759040",
    "end": "761760"
  },
  {
    "text": "cluster so",
    "start": "761760",
    "end": "762480"
  },
  {
    "text": "for each production cluster and it's",
    "start": "762480",
    "end": "763600"
  },
  {
    "text": "exactly the same as the staging one",
    "start": "763600",
    "end": "765360"
  },
  {
    "text": "except this time it's pushing to",
    "start": "765360",
    "end": "766800"
  },
  {
    "text": "production so we have two clusters here",
    "start": "766800",
    "end": "769440"
  },
  {
    "text": "one is just in central one look it",
    "start": "769440",
    "end": "771120"
  },
  {
    "text": "already finished and the next one's",
    "start": "771120",
    "end": "772399"
  },
  {
    "text": "going to be an east one you might have",
    "start": "772399",
    "end": "773839"
  },
  {
    "text": "another step in here that's like",
    "start": "773839",
    "end": "775279"
  },
  {
    "text": "wait or you know check the canary or you",
    "start": "775279",
    "end": "777920"
  },
  {
    "text": "know",
    "start": "777920",
    "end": "778320"
  },
  {
    "text": "something something but we just did",
    "start": "778320",
    "end": "779600"
  },
  {
    "text": "something very simple so let's take a",
    "start": "779600",
    "end": "781360"
  },
  {
    "text": "look at",
    "start": "781360",
    "end": "782320"
  },
  {
    "text": "kubernetes and make sure it's working",
    "start": "782320",
    "end": "784320"
  },
  {
    "text": "should be ready",
    "start": "784320",
    "end": "787040"
  },
  {
    "text": "oh it's working so we have one running",
    "start": "787040",
    "end": "789680"
  },
  {
    "text": "in central one",
    "start": "789680",
    "end": "791120"
  },
  {
    "text": "and then the usc one is coming up as",
    "start": "791120",
    "end": "792959"
  },
  {
    "text": "well so let's take a look at the logs",
    "start": "792959",
    "end": "794240"
  },
  {
    "text": "viewer and we're gonna see",
    "start": "794240",
    "end": "796000"
  },
  {
    "text": "if it is really running so for each",
    "start": "796000",
    "end": "798800"
  },
  {
    "text": "cluster",
    "start": "798800",
    "end": "799600"
  },
  {
    "text": "we should be able to see the health",
    "start": "799600",
    "end": "800639"
  },
  {
    "text": "checks come by and ideally what we're",
    "start": "800639",
    "end": "802880"
  },
  {
    "text": "going to see is",
    "start": "802880",
    "end": "803600"
  },
  {
    "text": "three sets of apps all running kind of",
    "start": "803600",
    "end": "806880"
  },
  {
    "text": "you know skewed from each other stream",
    "start": "806880",
    "end": "810240"
  },
  {
    "text": "stream this is it guys this is gonna be",
    "start": "810240",
    "end": "813839"
  },
  {
    "text": "it",
    "start": "813839",
    "end": "815279"
  },
  {
    "text": "and",
    "start": "815279",
    "end": "817600"
  },
  {
    "text": "this is this is where we pray to kelsey",
    "start": "820399",
    "end": "824160"
  },
  {
    "text": "so we have health checks in staging we",
    "start": "825199",
    "end": "826880"
  },
  {
    "text": "have it in prod we have it in prod",
    "start": "826880",
    "end": "829040"
  },
  {
    "text": "central",
    "start": "829040",
    "end": "829839"
  },
  {
    "text": "and eventually we'll have ones from",
    "start": "829839",
    "end": "831519"
  },
  {
    "text": "fraud east as well but that's it you",
    "start": "831519",
    "end": "832959"
  },
  {
    "text": "know our code is deployed",
    "start": "832959",
    "end": "834160"
  },
  {
    "text": "it's in many places another thing to",
    "start": "834160",
    "end": "835440"
  },
  {
    "text": "point out fraud east and prod central",
    "start": "835440",
    "end": "837199"
  },
  {
    "text": "could be two different types of",
    "start": "837199",
    "end": "838320"
  },
  {
    "text": "kubernetes on two different platforms",
    "start": "838320",
    "end": "839839"
  },
  {
    "text": "you know this is this is the amazing",
    "start": "839839",
    "end": "841040"
  },
  {
    "text": "thing about anthos it doesn't care it's",
    "start": "841040",
    "end": "842560"
  },
  {
    "text": "just kubernetes so",
    "start": "842560",
    "end": "843920"
  },
  {
    "text": "that's it",
    "start": "843920",
    "end": "847440"
  }
]