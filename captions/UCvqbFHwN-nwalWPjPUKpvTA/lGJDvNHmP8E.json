[
  {
    "text": "all right so if you haven't seen it yet um we're gonna do live Hands-On stuff",
    "start": "4799",
    "end": "10800"
  },
  {
    "text": "with everybody today so you're going to need to be using a kubernetes cluster it would be convenient if you could get one",
    "start": "10800",
    "end": "17760"
  },
  {
    "text": "that wasn't located on your laptop and the folks at sivo giving away credits",
    "start": "17760",
    "end": "23760"
  },
  {
    "text": "for people that sign up at that link if anyone's planning on doing this and",
    "start": "23760",
    "end": "29039"
  },
  {
    "text": "you need the link raise your hand otherwise we're going to move on pretty quickly okay so we'll wait a bit let me",
    "start": "29039",
    "end": "35579"
  },
  {
    "text": "know when you're done and then we'll put it in if you are done that the actual live Workshop portion we'll",
    "start": "35579",
    "end": "42180"
  },
  {
    "text": "be using that GitHub repo.com you can clone it or well you'll need to clone it",
    "start": "42180",
    "end": "47700"
  },
  {
    "text": "actually so you'll need to clone it but you could also visit that URL on GitHub and it'll have the instructions on a",
    "start": "47700",
    "end": "54780"
  },
  {
    "text": "nice friendly to read readme file all right because we're going to be doing you're only going to be typing",
    "start": "54780",
    "end": "61559"
  },
  {
    "text": "stuff in from that readme doc",
    "start": "61559",
    "end": "66140"
  },
  {
    "text": "all right so if you've cloned it and you've got a clust there can I get a thumbs up",
    "start": "67740",
    "end": "73580"
  },
  {
    "text": "all right there's one thumbs up okay",
    "start": "74040",
    "end": "80280"
  },
  {
    "text": "yeah oh yeah so that's another one you'll want when we actually go into the workshop portion You're Gonna Want the",
    "start": "80280",
    "end": "87119"
  },
  {
    "text": "cube CTL CLI the helm CLI",
    "start": "87119",
    "end": "93180"
  },
  {
    "text": "uh and anything else that maybe to see if I stay alive if you're using that cluster",
    "start": "93180",
    "end": "98220"
  },
  {
    "text": "if you're not you'll need Docker and k3d or kind really in some way to spin up a",
    "start": "98220",
    "end": "103560"
  },
  {
    "text": "kubernetes cluster right there's also a couple of other commands like JQ and openssl which most people tend to have",
    "start": "103560",
    "end": "109979"
  },
  {
    "text": "they're not strictly necessary to complete all of this like you can finish without it's just it lets you inspect",
    "start": "109979",
    "end": "117119"
  },
  {
    "text": "the certificates that you get so it's kind of neat to have those and we've got someone that will help you understand",
    "start": "117119",
    "end": "122220"
  },
  {
    "text": "what the open SSL output actually means and it's not me so with that you want to",
    "start": "122220",
    "end": "129119"
  },
  {
    "text": "get the slides sure yeah let's do it uh all right so welcome hello and",
    "start": "129119",
    "end": "135300"
  },
  {
    "text": "welcome to zero trust networking and practice uh with Jason Morgan and Ashley",
    "start": "135300",
    "end": "141060"
  },
  {
    "text": "Davis uh so I'll go first yeah yeah hey",
    "start": "141060",
    "end": "146160"
  },
  {
    "text": "everybody I'm Jason I am a technical evangelist for buoyant uh the company that makes the link or do service mesh",
    "start": "146160",
    "end": "151980"
  },
  {
    "text": "so it's my job to tell you why you should use Linker D and why Lincoln D is wonderful",
    "start": "151980",
    "end": "157800"
  },
  {
    "text": "um we've got like a booth if you want to stop by for more questions later or I'll also be around after this",
    "start": "157800",
    "end": "163620"
  },
  {
    "text": "oh sorry you can find me on Twitter at Jason Morgan find me on GitHub if you want to find me for some reason and uh",
    "start": "163620",
    "end": "171300"
  },
  {
    "text": "you can find me uh on slack as at Jason on the Linker D Slack",
    "start": "171300",
    "end": "176640"
  },
  {
    "text": "yeah hi everyone I'm Ash Ashley I don't mind either way I'm a software engineer at jetstack which is the originating",
    "start": "176640",
    "end": "183360"
  },
  {
    "text": "company for cert manager so I'm also a cert manager maintainer um I'm kind of a TLS certificate",
    "start": "183360",
    "end": "190800"
  },
  {
    "text": "cryptography kind of person I mean that mold um I've really been looking forward to this I've got to say it's my first like",
    "start": "190800",
    "end": "196800"
  },
  {
    "text": "in-person thing like this this is a bit of a milestone for me it's really cool to have people here",
    "start": "196800",
    "end": "202200"
  },
  {
    "text": "um I also have my social media links there if you want to if you want to get in touch after this and I'll talk a bit",
    "start": "202200",
    "end": "207300"
  },
  {
    "text": "more about the cert manager booth and the Jet stack Booth after we finish the workshop all right",
    "start": "207300",
    "end": "214200"
  },
  {
    "text": "um so let's start with why use cryptographic identity so that the basic",
    "start": "214200",
    "end": "220440"
  },
  {
    "text": "talk here the the theme that we're going to get at is when you're trying to",
    "start": "220440",
    "end": "225480"
  },
  {
    "text": "secure traffic between workloads in a kubernetes class there we think the only thing you should be relying on is the",
    "start": "225480",
    "end": "232319"
  },
  {
    "text": "cryptographic identity of the pod I think that's really important and that is fundamental to being able to securely",
    "start": "232319",
    "end": "239580"
  },
  {
    "text": "communicate within a cluster right uh so to start right like",
    "start": "239580",
    "end": "245819"
  },
  {
    "text": "TLS right like what we build for TLS is the effective underpinning of the",
    "start": "245819",
    "end": "251400"
  },
  {
    "text": "internet right and the way we securely access websites um it's extraordinarily hard to forge",
    "start": "251400",
    "end": "258419"
  },
  {
    "text": "and it gives you a way to prove that you are who you say you are without having",
    "start": "258419",
    "end": "264660"
  },
  {
    "text": "to transmit your like private information as a as a workload",
    "start": "264660",
    "end": "271979"
  },
  {
    "text": "it relies on delegating trust to third-party authorities right essentially gives us",
    "start": "271979",
    "end": "278820"
  },
  {
    "text": "like the the source of our trust for applications becomes this chain of",
    "start": "278820",
    "end": "283860"
  },
  {
    "text": "certificates right that are based on something that we can all uh every workload can rely on",
    "start": "283860",
    "end": "292139"
  },
  {
    "text": "um yeah and of course you can't go visit your bank or Netflix or look at these",
    "start": "292139",
    "end": "298440"
  },
  {
    "text": "slides or access GitHub or do any of this stuff without TLS so we feel like it's a pretty good foundation to build",
    "start": "298440",
    "end": "304680"
  },
  {
    "text": "on uh and with that we're going to ask Ashley Ashley why should when we're",
    "start": "304680",
    "end": "311340"
  },
  {
    "text": "talking about these certificates why should we use cert manager like I can run bash scripts and create certificates",
    "start": "311340",
    "end": "316860"
  },
  {
    "text": "you can use openssl actually but I can copy and paste some stuff so why should I be",
    "start": "316860",
    "end": "322979"
  },
  {
    "text": "looking at server manager to be honest I'm not sure there's many people in the world who would say they can use open SSL it's very tricky tool",
    "start": "322979",
    "end": "330060"
  },
  {
    "text": "um so yeah we asked earlier if anyone would use certain manager before and there were a few hands went up which I",
    "start": "330060",
    "end": "335220"
  },
  {
    "text": "think we would kind of uh expect because a lot of people have heard of search manager right it's uh it's almost like a",
    "start": "335220",
    "end": "341460"
  },
  {
    "text": "standard part of a kubernetes cluster it's not standard but like people treat it like that they install it at the",
    "start": "341460",
    "end": "346680"
  },
  {
    "text": "beginning of when they're setting up a cluster and that's super cool the idea is if you've not heard of it",
    "start": "346680",
    "end": "351960"
  },
  {
    "text": "before and you don't need to have heard of it to get through this Workshop the idea is if you've used kubernetes you've",
    "start": "351960",
    "end": "357840"
  },
  {
    "text": "written something like a pod or a service or a deployment or some yaml that will specify what you want cert",
    "start": "357840",
    "end": "363479"
  },
  {
    "text": "manager adds that but it does it for certificates and issuers and the kind of Concepts around that sort of stuff and",
    "start": "363479",
    "end": "369600"
  },
  {
    "text": "it ends up putting your certificate into a kubernetes secret where it can be used by your application",
    "start": "369600",
    "end": "374820"
  },
  {
    "text": "there's all the all the plugins you could really think of whatever you want to use to",
    "start": "374820",
    "end": "381780"
  },
  {
    "text": "issue your certificates was probably something for it that makes it quite help helpful to use because you pretty",
    "start": "381780",
    "end": "388259"
  },
  {
    "text": "much already have whatever you need if you're using AWS gcp whatever Acme let's",
    "start": "388259",
    "end": "393300"
  },
  {
    "text": "encrypt it's all good uh and yeah a lot of a lot of GitHub Stars which some people really care",
    "start": "393300",
    "end": "398880"
  },
  {
    "text": "about and it is always nice to see the number going up um one thing that's really cool is that",
    "start": "398880",
    "end": "404160"
  },
  {
    "text": "we actually just hit incubating in the cncf I've been a son hey",
    "start": "404160",
    "end": "410300"
  },
  {
    "text": "we've been a Sandbox project since uh mid-2020 I think if I remember the",
    "start": "410300",
    "end": "415440"
  },
  {
    "text": "history right and yeah we made incubating in October this year so that's it's very recent it still feels",
    "start": "415440",
    "end": "421259"
  },
  {
    "text": "like an announcement every time I say it um it took a lot of work to get there but it's really cool milestone for us",
    "start": "421259",
    "end": "426960"
  },
  {
    "text": "moving forwards and yeah super exciting stuff all right so we talked a little bit",
    "start": "426960",
    "end": "433199"
  },
  {
    "text": "about cert manager right and like an important concept insert manager is like what's the what allows us to actually",
    "start": "433199",
    "end": "440340"
  },
  {
    "text": "get our individual certificates do you mind sharing a little bit about issuers in cert manager and how they relate to",
    "start": "440340",
    "end": "446099"
  },
  {
    "text": "what we're going to be doing today I would love to share something about that yeah it's uh so issue is uh if you've",
    "start": "446099",
    "end": "452039"
  },
  {
    "text": "used so much you'll be familiar with this so I'm not going to go deep dive on it but like issue is how you get your",
    "start": "452039",
    "end": "457800"
  },
  {
    "text": "certificates is you specify how it is that you obtain whatever certificate you need",
    "start": "457800",
    "end": "463620"
  },
  {
    "text": "um we kind of broadly split them into two types right there's there's the one that most people actually use server",
    "start": "463620",
    "end": "469139"
  },
  {
    "text": "manager for which is to get certificates from external apis like let's encrypt",
    "start": "469139",
    "end": "475020"
  },
  {
    "text": "um that's probably what you want to you want a public facing certificate it also is probably what you want if you want to",
    "start": "475020",
    "end": "480900"
  },
  {
    "text": "store your ca certificates your issuing certificates in something like how she got Vault or venify TBB or anything like",
    "start": "480900",
    "end": "488340"
  },
  {
    "text": "that sort of outside of your cluster but sir manager can also do in cluster issuance as well it has all the tools",
    "start": "488340",
    "end": "494520"
  },
  {
    "text": "you need to create and sign certificates and have all of that stored within your cluster I'm not necessarily saying that that's",
    "start": "494520",
    "end": "501900"
  },
  {
    "text": "what you would always want to do in a production environment right like having your route external to your cluster is",
    "start": "501900",
    "end": "508080"
  },
  {
    "text": "actually a pretty good idea and that's probably why I would recommend if you were going to do that in this talk though we will be looking",
    "start": "508080",
    "end": "514020"
  },
  {
    "text": "at those because they're super simple and they don't have any external dependencies other than certain manager which we need already",
    "start": "514020",
    "end": "520440"
  },
  {
    "text": "um so we'll we'll be using those today but yeah as I mentioned earlier there's a bunch more of these that are available as external issuers as well if you want",
    "start": "520440",
    "end": "527760"
  },
  {
    "text": "to play around with them okay and so with that let's talk about",
    "start": "527760",
    "end": "534120"
  },
  {
    "text": "what can we do with some of these certificates and a little bit of an overview of what is mtls or Mutual TLS",
    "start": "534120",
    "end": "543140"
  },
  {
    "text": "so regular TLS you have a client and a server so when you go to",
    "start": "543140",
    "end": "549240"
  },
  {
    "text": "GitHub right your computer is a client or your browser's a client and the server is that and it when you build the",
    "start": "549240",
    "end": "555959"
  },
  {
    "text": "connection you go and you verify the identity of the server and then you build a secure connection with its",
    "start": "555959",
    "end": "563459"
  },
  {
    "text": "public key right and using that you're able to build this encrypted session between you and GitHub right and that's",
    "start": "563459",
    "end": "569399"
  },
  {
    "text": "that's pretty handy Mutual TLS adds a second step in there so instead of the",
    "start": "569399",
    "end": "575940"
  },
  {
    "text": "instead of just the client identifying the server the server is also able to positively identify the client right so",
    "start": "575940",
    "end": "582240"
  },
  {
    "text": "in this case right like both sides of the conversation know for sure who they're talking to and they have a",
    "start": "582240",
    "end": "588180"
  },
  {
    "text": "secure link over which the talk right which is which is pretty nice um you know since we're already doing a",
    "start": "588180",
    "end": "594959"
  },
  {
    "text": "TLS handshake you'll see this doesn't really add or doesn't really add a lot of overhead and like the reason you don't",
    "start": "594959",
    "end": "602700"
  },
  {
    "text": "use Mutual TLS when you're talking to GitHub is GitHub doesn't care about the clients right it can't know about you",
    "start": "602700",
    "end": "608339"
  },
  {
    "text": "and it can't have can't sit there and figure out who everybody is that's coming in that's what authentication is for right in our",
    "start": "608339",
    "end": "615120"
  },
  {
    "text": "kubernetes cluster we control all these components so we can easily set up an environment where both the client and",
    "start": "615120",
    "end": "621300"
  },
  {
    "text": "the server trust the same certificate Authority and then they can use that information to positively identify each",
    "start": "621300",
    "end": "627779"
  },
  {
    "text": "other and when we have neutral TLS like that's the building block for our cryptographic",
    "start": "627779",
    "end": "634980"
  },
  {
    "text": "identity and that allows us to do things like set up policy on our cluster that lets us not trust anything about what's",
    "start": "634980",
    "end": "641940"
  },
  {
    "text": "going on so one thing that that brings to mind is that you need a lot of certificates to achieve this right every",
    "start": "641940",
    "end": "647700"
  },
  {
    "text": "every pod in theory is going to need a certificate and therefore an identity to use when it's authentic again",
    "start": "647700",
    "end": "653660"
  },
  {
    "text": "authenticating against other services that brings up the problem of how do you",
    "start": "653660",
    "end": "658980"
  },
  {
    "text": "manage all of those identities and those certificates and certain manager can do the mechanical aspect of that but it's",
    "start": "658980",
    "end": "664380"
  },
  {
    "text": "useful to have something else which will help with managing the identities at a different level I think that's where",
    "start": "664380",
    "end": "669720"
  },
  {
    "text": "Jason comes in yeah so let's talk about Linker D so Linker D is a cncf project",
    "start": "669720",
    "end": "678180"
  },
  {
    "text": "it is the only service mesh to hit graduated status within the cncf so it means it's on par with you know things",
    "start": "678180",
    "end": "685440"
  },
  {
    "text": "like kubernetes when it comes to maturity um it's created by the folks over at buoyant company that pays me to do talks",
    "start": "685440",
    "end": "691740"
  },
  {
    "text": "like this been around for a while um and it's in use by small startups by",
    "start": "691740",
    "end": "698579"
  },
  {
    "text": "really big companies if you saw a letter earlier this year at Valencia the folks",
    "start": "698579",
    "end": "704279"
  },
  {
    "text": "from Xbox talked about how they use Linker D to build or to do multi-cluster",
    "start": "704279",
    "end": "710100"
  },
  {
    "text": "and add mtls for Xbox Cloud um and yeah that's that's our story there a",
    "start": "710100",
    "end": "719100"
  },
  {
    "text": "little bit about how Linker D works or how a service mesh Works uh",
    "start": "719100",
    "end": "724140"
  },
  {
    "text": "what you have here is an example of uh generic kubernetes cluster with an",
    "start": "724140",
    "end": "729720"
  },
  {
    "text": "application so we have an Ingress which could be nginx could be you know Ambassador could be whatever pick your",
    "start": "729720",
    "end": "735360"
  },
  {
    "text": "Ingress then we've got a web front end and we've got two back-end Services Foo and bar so the way Linker D works is you",
    "start": "735360",
    "end": "742200"
  },
  {
    "text": "install a control plane this is what we're going to do today you install a control plane which is your interface for managing the mesh",
    "start": "742200",
    "end": "748620"
  },
  {
    "text": "and then we're going to sit a little proxy in this case the Linker D2 proxy in between all of your applications and",
    "start": "748620",
    "end": "755040"
  },
  {
    "text": "we're going to route your traffic through that proxy and so each each connection between say web and Foo",
    "start": "755040",
    "end": "762300"
  },
  {
    "text": "as an example is going to go from web to proxy to proxy to Foo",
    "start": "762300",
    "end": "767519"
  },
  {
    "text": "right and what that's going to do is the proxies are going to have the information about our certificates",
    "start": "767519",
    "end": "772680"
  },
  {
    "text": "they're also going to have information about how is this thing performing be able to make intelligent load balancing",
    "start": "772680",
    "end": "778260"
  },
  {
    "text": "decisions stuff like that that's beyond the scope of the workshop but it will the liquidity proxies are going to intercept your traffic do some stuff",
    "start": "778260",
    "end": "784200"
  },
  {
    "text": "with it and um that's going to be that's going to be the core of how that works and you're",
    "start": "784200",
    "end": "789899"
  },
  {
    "text": "going to interface with liquidity through its control plane and with that I hope you've had enough",
    "start": "789899",
    "end": "795300"
  },
  {
    "text": "slides because now we're going to go into the demo and actually live do our Workshop are there any questions before",
    "start": "795300",
    "end": "802139"
  },
  {
    "text": "we move on great",
    "start": "802139",
    "end": "808200"
  },
  {
    "text": "all right so if you haven't done it yet no wrong one if you haven't done it yet go to oinio",
    "start": "808200",
    "end": "816560"
  },
  {
    "text": "cert manager Workshop um that was that link on the being slide and we can pull that back up if you need",
    "start": "816560",
    "end": "822660"
  },
  {
    "text": "it and we're going to check out this readme right we're going to be going through",
    "start": "822660",
    "end": "828240"
  },
  {
    "text": "that today as this exercise I'm good cool so at this point if you have",
    "start": "828240",
    "end": "834540"
  },
  {
    "text": "questions raise your hand either Ashley or myself will come over uh we also have Flynn in the back we'll be happy to help",
    "start": "834540",
    "end": "840120"
  },
  {
    "text": "you with any of these things if you run into problems and I'm just going to walk you through the steps and we're going to",
    "start": "840120",
    "end": "845220"
  },
  {
    "text": "do them do them live as we go sound good does anyone or does anyone not currently",
    "start": "845220",
    "end": "852000"
  },
  {
    "text": "have a kubernetes cluster they can use okay",
    "start": "852000",
    "end": "858019"
  },
  {
    "text": "shoot that I'm sorry I can't hear you",
    "start": "859200",
    "end": "865680"
  },
  {
    "text": "yeah oh oh that's the show um you can also use a k3s cluster or k3e",
    "start": "865680",
    "end": "871079"
  },
  {
    "text": "cluster or kind or Docker desktop has a built-in kubernetes cluster in it if you",
    "start": "871079",
    "end": "876540"
  },
  {
    "text": "need",
    "start": "876540",
    "end": "878660"
  },
  {
    "text": "if if you need some help getting a if you need some help getting a cluster",
    "start": "881760",
    "end": "887399"
  },
  {
    "text": "running uh please let me know and we'll be over to you in a few minutes okay",
    "start": "887399",
    "end": "893339"
  },
  {
    "text": "uh so for those of you that have a cluster running um make sure that you have Helm Cube CTL",
    "start": "893339",
    "end": "900660"
  },
  {
    "text": "curl uh you might want JQ and openssl but you can you can get through without",
    "start": "900660",
    "end": "906720"
  },
  {
    "text": "it just talks about k3d and root full Docker or kind",
    "start": "906720",
    "end": "912079"
  },
  {
    "text": "so let's go into the actual step so the first thing I want you to do those of you that have a a cluster we're going to",
    "start": "914880",
    "end": "921959"
  },
  {
    "text": "go ahead and deploy deploy our application so this is going to be the demo application that we're actually",
    "start": "921959",
    "end": "927720"
  },
  {
    "text": "going to set up policy for so first we're gonna we're gonna take this app and then we're going to add it to our",
    "start": "927720",
    "end": "935519"
  },
  {
    "text": "LinkedIn mesh and then we're going to apply some policy to it to lock down who",
    "start": "935519",
    "end": "941279"
  },
  {
    "text": "can access what sound good all right so we're going to start here",
    "start": "941279",
    "end": "947639"
  },
  {
    "text": "you can see I've got a couple terminals open we're going to be doing our work on the left side and we're going to be showing",
    "start": "947639",
    "end": "954660"
  },
  {
    "text": "things about our cluster on the right hand side can focus see this okay",
    "start": "954660",
    "end": "959940"
  },
  {
    "text": "sorry and like I said please do please do follow along so the first thing I'm",
    "start": "959940",
    "end": "965399"
  },
  {
    "text": "going to do is I'm going to create my bookshap namespace I'm going to go download and run my demo application",
    "start": "965399",
    "end": "973820"
  },
  {
    "text": "all right see on the right side I've got some components creating uh books app is",
    "start": "975959",
    "end": "981060"
  },
  {
    "text": "a fairly simple application it's got a traffic generator it has a web front end and has two back-ends books and authors",
    "start": "981060",
    "end": "987720"
  },
  {
    "text": "that allow us to manage who's talking to what um",
    "start": "987720",
    "end": "994339"
  },
  {
    "text": "let's go back right now we're going to want to we're going to want to actually install cert",
    "start": "994800",
    "end": "1000680"
  },
  {
    "text": "manager so we're going to use Helm for all of our installs today in general we recommend that when you're running",
    "start": "1000680",
    "end": "1006440"
  },
  {
    "text": "Lincoln especially if you're going to run it in a in a production or near production scenario that you look at using Helm to manage your liquidy",
    "start": "1006440",
    "end": "1012980"
  },
  {
    "text": "installs same is true for cert manager everyone familiar with Helm or fairly",
    "start": "1012980",
    "end": "1018380"
  },
  {
    "text": "familiar with them do you want me to walk through what the help commands do all right well I'm just gonna do it",
    "start": "1018380",
    "end": "1023899"
  },
  {
    "text": "anyway because I'm paranoid uh so what we're going to do here is we're going to add two repositories two sources of hound packages one for jet stack who",
    "start": "1023899",
    "end": "1031040"
  },
  {
    "text": "makes certain manager and one for Linker d",
    "start": "1031040",
    "end": "1035020"
  },
  {
    "text": "once we once we create those repos we're just going to run a little update command to make sure that we've got a",
    "start": "1036439",
    "end": "1041660"
  },
  {
    "text": "local version of our packages",
    "start": "1041660",
    "end": "1044740"
  },
  {
    "text": "all right next we're going to actually install cert manager and let's talk about what this command does so we're",
    "start": "1047480",
    "end": "1053059"
  },
  {
    "text": "doing Helm install the search manager package we're referencing the actual package name so you give it a name",
    "start": "1053059",
    "end": "1059480"
  },
  {
    "text": "than than the name of the package right or the reference of the package within the Repository tell it what namespace to install it in",
    "start": "1059480",
    "end": "1065900"
  },
  {
    "text": "we tell it to create the namespace as it goes install some custom resource definitions and we give it a particular",
    "start": "1065900",
    "end": "1071720"
  },
  {
    "text": "version can't tell you how valuable it is to always explicitly set the version when",
    "start": "1071720",
    "end": "1077419"
  },
  {
    "text": "you're installing things with helm part of the value here as well is that you're installing the latest version of sub",
    "start": "1077419",
    "end": "1082640"
  },
  {
    "text": "manager which is only a week or so old it was released very recently so you're using the latest and greatest tools yeah",
    "start": "1082640",
    "end": "1090919"
  },
  {
    "text": "all right so here we're going to see certain manager get installed so here let's",
    "start": "1090919",
    "end": "1096100"
  },
  {
    "text": "see everything going on so we see certain manager is starting to get installed",
    "start": "1096620",
    "end": "1102919"
  },
  {
    "text": "that was quick yeah so we're not running locally at folks",
    "start": "1102919",
    "end": "1108919"
  },
  {
    "text": "that are following along is this all going smoothly so far",
    "start": "1108919",
    "end": "1114740"
  },
  {
    "text": "killer awesome uh I remember how to use a computer",
    "start": "1114740",
    "end": "1122780"
  },
  {
    "text": "um all right now that we've done that we're going to install another cert manager component called cert manager",
    "start": "1122780",
    "end": "1128360"
  },
  {
    "text": "trust we're using a different install command uh just because we like to keep",
    "start": "1128360",
    "end": "1133580"
  },
  {
    "text": "you on your toes so here we're using the helm upgrade command with the install flag so this lets you it basically it",
    "start": "1133580",
    "end": "1141740"
  },
  {
    "text": "would upgrade it if it's there and if it's not there it'll do the install for you it's pretty handy",
    "start": "1141740",
    "end": "1147620"
  },
  {
    "text": "oh I did the wrong one there's a bit of background on the tool trust manager",
    "start": "1147620",
    "end": "1152780"
  },
  {
    "text": "it's quite a new project it's kind of something that we've been focusing on a lot recently if if there's something",
    "start": "1152780",
    "end": "1158660"
  },
  {
    "text": "that I should get as a tattoo it's uh getting a certificate is only half the problem that would be the chest tattoo",
    "start": "1158660",
    "end": "1165440"
  },
  {
    "text": "that I need to get right like um trusting that certificate is the other half of the problem and there's",
    "start": "1165440",
    "end": "1171440"
  },
  {
    "text": "not much done currently to talk about that or solve that problem there's some Upstream work going on for it in",
    "start": "1171440",
    "end": "1176780"
  },
  {
    "text": "kubernetes itself but uh actually we really want to get involved and like",
    "start": "1176780",
    "end": "1182059"
  },
  {
    "text": "help solve that problem and Trust manager is a big part of that so it helps you to get your cluster to a point where you can trust certificates",
    "start": "1182059",
    "end": "1188419"
  },
  {
    "text": "effectively and that goes back to what Jason mentioned earlier about trust delegation and having third parties",
    "start": "1188419",
    "end": "1194059"
  },
  {
    "text": "verify the certificate you've got all right with that done we're going to",
    "start": "1194059",
    "end": "1199760"
  },
  {
    "text": "go ahead and create a namespace for our Linker D install uh we're doing this now because we're",
    "start": "1199760",
    "end": "1206600"
  },
  {
    "text": "about to we're about to tell cert manager to create a bunch of certificates for it and they're going to need a home and specifically their home",
    "start": "1206600",
    "end": "1212780"
  },
  {
    "text": "is going to be the Liberty namespace let's go back",
    "start": "1212780",
    "end": "1217880"
  },
  {
    "text": "keeps detailed create namespace Linker D great and now we're going to apply and then",
    "start": "1217880",
    "end": "1224660"
  },
  {
    "text": "read this bootstrap.aml",
    "start": "1224660",
    "end": "1228559"
  },
  {
    "text": "oops I mean manifests so for those of you following along I think that is in the",
    "start": "1232120",
    "end": "1238580"
  },
  {
    "text": "root you might not be in the right folder thank you oh right I'm in there oops sorry important Point guys or folks",
    "start": "1238580",
    "end": "1246020"
  },
  {
    "text": "please go to the appropriate folder for doing this buoyant",
    "start": "1246020",
    "end": "1251660"
  },
  {
    "text": "so Amanda Workshop great there we go",
    "start": "1251660",
    "end": "1257900"
  },
  {
    "text": "all right so let's talk about what this was",
    "start": "1257900",
    "end": "1262659"
  },
  {
    "text": "something right there so do you mind talking through what what objects we're creating and and why sure yeah so um the",
    "start": "1267679",
    "end": "1273799"
  },
  {
    "text": "structure that we're going to use here is uh we're going to have a root certificate which will live in the cert manager namespace",
    "start": "1273799",
    "end": "1280220"
  },
  {
    "text": "and that will issue what we call an intermediate certificate which is the one that will issue the",
    "start": "1280220",
    "end": "1285799"
  },
  {
    "text": "identities that we'll actually use for our pods um the way we do that is to link back to",
    "start": "1285799",
    "end": "1291140"
  },
  {
    "text": "those issuers that I talked about earlier we have issuers and cluster issuers the distinction isn't so important but clusterisha was applied to",
    "start": "1291140",
    "end": "1297380"
  },
  {
    "text": "every every namespace whereas issue as a namespace so here we're just going to use a cluster issuer so we create a",
    "start": "1297380",
    "end": "1303340"
  },
  {
    "text": "self-signed issuer which does pretty much nothing is incredibly simple it just tells the certificate to sign",
    "start": "1303340",
    "end": "1310640"
  },
  {
    "text": "itself using its private key that makes it a root certificate and that root certificates for several",
    "start": "1310640",
    "end": "1317240"
  },
  {
    "text": "reasons and what we use for the basis of trust within TLS um",
    "start": "1317240",
    "end": "1322580"
  },
  {
    "text": "so we we want one if you were doing this actually in production I would maybe",
    "start": "1322580",
    "end": "1327980"
  },
  {
    "text": "suggest that you generate this outside of your cluster um in in pki that's",
    "start": "1327980",
    "end": "1335059"
  },
  {
    "text": "in installations I've managed before in production a pretty big um companies they we tended to use like",
    "start": "1335059",
    "end": "1340880"
  },
  {
    "text": "a Raspberry Pi and do this entirely offline like we'd sold like desolder the",
    "start": "1340880",
    "end": "1346039"
  },
  {
    "text": "ethernet port so you couldn't go online with it and generate it all offline um we're not going to walk that mile",
    "start": "1346039",
    "end": "1351620"
  },
  {
    "text": "here we haven't bought everyone a Raspberry Pi and we're not going to damage a load of Raspberry Pi's because they're really hard to get at the moment",
    "start": "1351620",
    "end": "1357500"
  },
  {
    "text": "um so we'll just do it in our cluster because that's fine here um this certificate is kind of the core",
    "start": "1357500",
    "end": "1363620"
  },
  {
    "text": "of how cert manager Works we're asking for a certificate with a particular name um telling cert manager with the secret",
    "start": "1363620",
    "end": "1370039"
  },
  {
    "text": "name where we want to store it will need to last for quite a while because root certificates are a bit of a pain to",
    "start": "1370039",
    "end": "1375559"
  },
  {
    "text": "rotate so you they tend to last longer and that's why we make them more secure and we also specify which issuer we want",
    "start": "1375559",
    "end": "1382340"
  },
  {
    "text": "to use to issue this certificate in this case it's self-signed um",
    "start": "1382340",
    "end": "1388760"
  },
  {
    "text": "we then use what we call a CA issuer it's kind of hard to see but you'll see on on line 49 there uh",
    "start": "1388760",
    "end": "1395720"
  },
  {
    "text": "CA issuer is using a different certificate in the cluster to issue other certificates so in this case we",
    "start": "1395720",
    "end": "1402260"
  },
  {
    "text": "were creating a c or CA issuer using that root certificate we generated to generate the intermediate certificate",
    "start": "1402260",
    "end": "1408679"
  },
  {
    "text": "that we need now so this is a process that you might need to repeat in the future",
    "start": "1408679",
    "end": "1413720"
  },
  {
    "text": "someone's really enjoying the workshop um yeah this is a process that might",
    "start": "1413720",
    "end": "1419059"
  },
  {
    "text": "need to be repeated because the intermediate certificate won't last as long as the route if it did there wouldn't be any point in having two",
    "start": "1419059",
    "end": "1425179"
  },
  {
    "text": "certificates in the first place you just use the one um so yeah this intermediate actually you",
    "start": "1425179",
    "end": "1431900"
  },
  {
    "text": "see here is only 48 hours long and we you can see we're referring to that issue that cluster issuer sorry which",
    "start": "1431900",
    "end": "1438559"
  },
  {
    "text": "represents the root certificate we generated and there's a bunch more tlse stuff that is in there we don't really",
    "start": "1438559",
    "end": "1444919"
  },
  {
    "text": "need to worry about it apart from is CA at the top because we do need to make sure that this certificate is marked as",
    "start": "1444919",
    "end": "1450980"
  },
  {
    "text": "a CA certificate so it's able to issue others um that's really all we need to do to set",
    "start": "1450980",
    "end": "1457580"
  },
  {
    "text": "up the the issuance certificates that we need so we're not going to be writing yaml for the individual certificates for",
    "start": "1457580",
    "end": "1463520"
  },
  {
    "text": "the components for the pods that we're going to run because that's something that Linker D will do using this certificate that we're generating so",
    "start": "1463520",
    "end": "1469460"
  },
  {
    "text": "it's just the cas that we're using cert manager for here but the one last final step we need is to generate a bundle so",
    "start": "1469460",
    "end": "1476419"
  },
  {
    "text": "this is coming back to that trust problem and this is actually the trust manager component that's coming in to",
    "start": "1476419",
    "end": "1481580"
  },
  {
    "text": "help we're taking the ca certificate that we generated the route and we need",
    "start": "1481580",
    "end": "1486620"
  },
  {
    "text": "to copy that into the Linker D namespace so it can be injected into sidecars and used for trust purposes so",
    "start": "1486620",
    "end": "1495080"
  },
  {
    "text": "to summarize all of that tlse certificate stuff I've just said we have the root certificate which is the basis",
    "start": "1495080",
    "end": "1501200"
  },
  {
    "text": "of all trust and that's the foundational for our service measure",
    "start": "1501200",
    "end": "1506240"
  },
  {
    "text": "only the root certificate needs to be distributed and redistributed using trust manager here we've used cert",
    "start": "1506240",
    "end": "1511880"
  },
  {
    "text": "managers to generate that route and to generate an intermediate off that route and the intermediate will be rotated",
    "start": "1511880",
    "end": "1517039"
  },
  {
    "text": "semi-frequently because it's short-lived and that's the reason we have it because it may",
    "start": "1517039",
    "end": "1523760"
  },
  {
    "text": "need to be rotated more frequently yeah so right before this Workshop earlier",
    "start": "1523760",
    "end": "1529220"
  },
  {
    "text": "today we did a workshop the Liberty folks in a workshop on running and production right and if you're using",
    "start": "1529220",
    "end": "1535279"
  },
  {
    "text": "something like cert manager to handle this intermediary certificate this issue where that you use it dramatically",
    "start": "1535279",
    "end": "1542020"
  },
  {
    "text": "simplifies operations and it lets you do something like set a 40-hour 48 hour",
    "start": "1542020",
    "end": "1547159"
  },
  {
    "text": "lifespan on your cluster certificate and have that be like essentially uh",
    "start": "1547159",
    "end": "1555080"
  },
  {
    "text": "trivial operation for your cluster admin right so we can set up clusters with this basic",
    "start": "1555080",
    "end": "1561860"
  },
  {
    "text": "configuration know that any individual cluster will never have an issue or last",
    "start": "1561860",
    "end": "1567200"
  },
  {
    "text": "more than 48 hours and it will rotate for us automatically without us doing any work and then if you're starting to",
    "start": "1567200",
    "end": "1573919"
  },
  {
    "text": "think about doing things like multi-cluster and Linker d right each individual cluster inside your",
    "start": "1573919",
    "end": "1579919"
  },
  {
    "text": "environment will only be able to be trusted for maximum 48 hours at a time",
    "start": "1579919",
    "end": "1587200"
  },
  {
    "text": "this makes sense cool",
    "start": "1587299",
    "end": "1592240"
  },
  {
    "text": "all right are we still able to follow along with",
    "start": "1593840",
    "end": "1599659"
  },
  {
    "text": "the with the readme feel if you do feel free to go ahead right uh do feel free to go ahead and",
    "start": "1599659",
    "end": "1606919"
  },
  {
    "text": "we'll just talk about it when you get stuck all right so we just looked at the we looked at the file we can actually do",
    "start": "1606919",
    "end": "1613039"
  },
  {
    "text": "some inspection on the certificates what do we get and Ashley's going to tell us a little bit about what what this is telling us",
    "start": "1613039",
    "end": "1621200"
  },
  {
    "text": "sorry let me do this again less so that you can talk about it so",
    "start": "1621200",
    "end": "1626360"
  },
  {
    "text": "yeah this this I will admit is a mess like we're using openssl here because",
    "start": "1626360",
    "end": "1632720"
  },
  {
    "text": "most people have it installed there are other tools for viewing these things I mean there's ways to get open SSL to",
    "start": "1632720",
    "end": "1638779"
  },
  {
    "text": "print this out in a prettier way but who knows how to do that it's a pretty complicated tool",
    "start": "1638779",
    "end": "1643820"
  },
  {
    "text": "um so I'm not going to dive into every line here and I don't think it'd be particularly interesting for me to start reading out a public key or something",
    "start": "1643820",
    "end": "1649820"
  },
  {
    "text": "here but what's important here for this root certificate is that we see that the",
    "start": "1649820",
    "end": "1654980"
  },
  {
    "text": "issuer and the subject are identical so that's actually the definition of a self-signed certificate people often use",
    "start": "1654980",
    "end": "1662600"
  },
  {
    "text": "self-signed to mean private so they might mean their organization has a certificate certificate and people call",
    "start": "1662600",
    "end": "1669380"
  },
  {
    "text": "that self-signed colloquy colloquially but actually the definition is that the",
    "start": "1669380",
    "end": "1674480"
  },
  {
    "text": "issuer and the subject match um that means there's no other way to trust this except explicitly but we're",
    "start": "1674480",
    "end": "1681440"
  },
  {
    "text": "not going to go too deep into the details of how TLS trust works but unless you're interested then you can come ask me I always like to talk about",
    "start": "1681440",
    "end": "1688159"
  },
  {
    "text": "it but it's important that we need something to distribute this trust for others to be able to consume it because",
    "start": "1688159",
    "end": "1695000"
  },
  {
    "text": "this is self-signed we can't find a different certificate which side into this because by definition there is no",
    "start": "1695000",
    "end": "1700640"
  },
  {
    "text": "such certificate and also see obviously that the validity is quite long and",
    "start": "1700640",
    "end": "1706279"
  },
  {
    "text": "um that it is marked as ACA which is actually this line at the bottom now under the basic constraints that's",
    "start": "1706279",
    "end": "1713419"
  },
  {
    "text": "that's important all right",
    "start": "1713419",
    "end": "1718580"
  },
  {
    "text": "cleaning up and moving on uh let's read out let's read a little bit about the intermediary certificate",
    "start": "1718580",
    "end": "1725539"
  },
  {
    "text": "and you can tell us what exactly that's telling us",
    "start": "1725539",
    "end": "1730360"
  },
  {
    "text": "I won't forget to do less this time so yeah again um it's a mess it's still a mess it's",
    "start": "1732020",
    "end": "1738260"
  },
  {
    "text": "still I hope it doesn't SSL um this is the intermediate certificate so you'll notice in the command that Jason",
    "start": "1738260",
    "end": "1744200"
  },
  {
    "text": "just ran this is looking at the link of these namespace now um because that's where the certificate",
    "start": "1744200",
    "end": "1750080"
  },
  {
    "text": "is and crucially you'll see that this time the issuer and the subject are different because this was issued by the",
    "start": "1750080",
    "end": "1756559"
  },
  {
    "text": "root certificate and the issue obviously is the the name of the root certificate",
    "start": "1756559",
    "end": "1762020"
  },
  {
    "text": "um again importantly this is a CA um it's you see at the bottom there but",
    "start": "1762020",
    "end": "1768500"
  },
  {
    "text": "there's really not much more to say about it other than to notice that the validity duration of this is very low so",
    "start": "1768500",
    "end": "1774980"
  },
  {
    "text": "if if something goes horribly wrong and this the private key for this certificate was exposed the absolute",
    "start": "1774980",
    "end": "1780080"
  },
  {
    "text": "worst case is that someone could use it for two days and uh revocation is",
    "start": "1780080",
    "end": "1785360"
  },
  {
    "text": "actually a pretty difficult thing to do with certificates in in production so the shorter live just certificates are",
    "start": "1785360",
    "end": "1791539"
  },
  {
    "text": "the less blast radius you have if something goes wrong because they'll have expired by the time anyone can do",
    "start": "1791539",
    "end": "1797299"
  },
  {
    "text": "anything particularly evil with it",
    "start": "1797299",
    "end": "1800919"
  },
  {
    "text": "okay uh so now we're actually going to do a link ready install so we're gonna today",
    "start": "1802880",
    "end": "1810200"
  },
  {
    "text": "we're gonna install linkready2.12.2 I'm pretty sure 2.12.2 I'll double check what version I",
    "start": "1810200",
    "end": "1816620"
  },
  {
    "text": "actually put in there but we're going to solve liquidy uh and as of LinkedIn 212 the core control",
    "start": "1816620",
    "end": "1824840"
  },
  {
    "text": "plane of linker D is installed with two different Helm charts we have one specifically for the Linker dcrds and",
    "start": "1824840",
    "end": "1831260"
  },
  {
    "text": "one for the liquidy control plan itself so that's what we're doing here and then there's a lot of comments",
    "start": "1831260",
    "end": "1837080"
  },
  {
    "text": "there's a ton of comments in there read me about what we're doing and why so if you have more questions or if I miss",
    "start": "1837080",
    "end": "1842960"
  },
  {
    "text": "something please do check out what we're saying in there so we're gonna do the crd install",
    "start": "1842960",
    "end": "1850159"
  },
  {
    "text": "that's happy we see no new containers get created and then we're going to go ahead and install Linker d a little bit",
    "start": "1850159",
    "end": "1857240"
  },
  {
    "text": "about this Command right when we install Linker d we're going to tell it we're going to override the default install behavior",
    "start": "1857240",
    "end": "1863419"
  },
  {
    "text": "and we're going to say Hey listen set the identity external CA and this is uh",
    "start": "1863419",
    "end": "1869840"
  },
  {
    "text": "this is the scheme that we're going to use to figure out what we're doing and then we specialize specify the chart this tells us tells it to look for",
    "start": "1869840",
    "end": "1876820"
  },
  {
    "text": "Secrets already existing in the Liberty namespace that are going to allow it to",
    "start": "1876820",
    "end": "1882020"
  },
  {
    "text": "actually start giving it certificates to the individual workloads again this is the last time I'll talk",
    "start": "1882020",
    "end": "1888500"
  },
  {
    "text": "about the hierarchy right you've got a Routier which establishes trust for",
    "start": "1888500",
    "end": "1893860"
  },
  {
    "text": "linkerty at all right and you would use a root C8 to sign the individual cluster",
    "start": "1893860",
    "end": "1901279"
  },
  {
    "text": "certificates for each Linker D install that you use right and then inside the",
    "start": "1901279",
    "end": "1907159"
  },
  {
    "text": "cluster we have our intermediary or what we call in lucrative terms call it our issuer certificate right that is the",
    "start": "1907159",
    "end": "1914659"
  },
  {
    "text": "certificate that Lincoln will use to create individual workload certificates so that they can trust each other and",
    "start": "1914659",
    "end": "1920720"
  },
  {
    "text": "they can communicate securely over the network",
    "start": "1920720",
    "end": "1924520"
  },
  {
    "text": "all right so let's run this",
    "start": "1926419",
    "end": "1929980"
  },
  {
    "text": "all right and then we're going to run Lincoln check to just tell us their language environment is ready",
    "start": "1936200",
    "end": "1942740"
  },
  {
    "text": "I would love it if you all have questions now's a great time if you don't have questions I have a",
    "start": "1942740",
    "end": "1949640"
  },
  {
    "text": "threat which is I'm going to give you a terrible networking joke",
    "start": "1949640",
    "end": "1954580"
  },
  {
    "text": "you'll ask for this in a way I just want I have I have a UDP joke for you",
    "start": "1956480",
    "end": "1963260"
  },
  {
    "text": "you may not get it",
    "start": "1963260",
    "end": "1966399"
  },
  {
    "text": "uh so let's talk we can talk a little bit about what components we're creating or what is like a core linkready install include uh it's three basic components",
    "start": "1971899",
    "end": "1980600"
  },
  {
    "text": "we have the component of liquidy that is responsible for creating these",
    "start": "1980600",
    "end": "1986059"
  },
  {
    "text": "identities for using all these certificates that we've just spent the last 35 minutes talking about 30 minutes talking about right that's that's the",
    "start": "1986059",
    "end": "1994220"
  },
  {
    "text": "um let's see identity service we have the proxy injector which is actually going to start",
    "start": "1994220",
    "end": "2000399"
  },
  {
    "text": "adding the link ready proxy to our workloads right because we're not going to Define not Define the whole proxy in",
    "start": "2000399",
    "end": "2006580"
  },
  {
    "text": "the ammo you just Define an annotation either on your namespace or on your workload it's going to say hey please",
    "start": "2006580",
    "end": "2012220"
  },
  {
    "text": "inject the proxy on these things and that the proxy injector is going to take care of that and then last but not least",
    "start": "2012220",
    "end": "2017740"
  },
  {
    "text": "we have the destination service destination service actually does a whole bunch of things but its key job is",
    "start": "2017740",
    "end": "2023140"
  },
  {
    "text": "to make sure that the proxies know about each other and are able to make smart decisions about your traffic",
    "start": "2023140",
    "end": "2029940"
  },
  {
    "text": "sound good it might be worth saying that if when",
    "start": "2030100",
    "end": "2035500"
  },
  {
    "text": "you run linkage locally it does warn you that the issuing certificate is expiring to because it's so short-lived",
    "start": "2035500",
    "end": "2042940"
  },
  {
    "text": "um yeah you see it there um that that is actually because we're racing ahead and we're issuing a very",
    "start": "2042940",
    "end": "2049898"
  },
  {
    "text": "short lived one intentionally with the intention that it will go out of scope very quickly",
    "start": "2049899",
    "end": "2055480"
  },
  {
    "text": "um it's not it's not a warning that we need to worry about because this is something",
    "start": "2055480",
    "end": "2060520"
  },
  {
    "text": "we're doing intentionally it's a really important warning if you're hand rolling",
    "start": "2060520",
    "end": "2066158"
  },
  {
    "text": "your certificates pay attention because it's one of the few ways that you can get linkready to cause your production",
    "start": "2066159",
    "end": "2071980"
  },
  {
    "text": "traffic to stop it is something we can safely ignore if we're using something like cert manager to rotate our",
    "start": "2071980",
    "end": "2078700"
  },
  {
    "text": "certificates it's certain manager is one of those things where the automation makes your life dramatically easier",
    "start": "2078700",
    "end": "2086760"
  },
  {
    "text": "so now that we've done that we're actually going to install the Linker dashboard so this is called Linker dviz we're going to use this UI a little bit",
    "start": "2086800",
    "end": "2092980"
  },
  {
    "text": "during the demo and I'm going to run some commands that'll help us see what's going on with our traffic as we actually",
    "start": "2092980",
    "end": "2098260"
  },
  {
    "text": "start locking down our cluster I've got to say I absolutely love",
    "start": "2098260",
    "end": "2103480"
  },
  {
    "text": "linkadiviz I think it's a really cool tool I wasn't very familiar with it a few weeks ago but I'm really starting to",
    "start": "2103480",
    "end": "2109960"
  },
  {
    "text": "enjoy seeing it in action it's going to give us a lot of insights about what is our traffic doing right so",
    "start": "2109960",
    "end": "2115900"
  },
  {
    "text": "like why do you use a service mesh at least the folks I know that use service meshes do because they want mtls or they",
    "start": "2115900",
    "end": "2122980"
  },
  {
    "text": "have some requirement for mtls they want to better lock down the interactions",
    "start": "2122980",
    "end": "2128740"
  },
  {
    "text": "between their services and their clusters they might want to do grpc load balancing if if you have that problem",
    "start": "2128740",
    "end": "2135099"
  },
  {
    "text": "you know who you are if you don't don't worry about it um and uh and like a lot of folks want",
    "start": "2135099",
    "end": "2142780"
  },
  {
    "text": "standard metrics from all your workloads right lucrative is is a tool that will expose all these standard metrics",
    "start": "2142780",
    "end": "2150960"
  },
  {
    "text": "so with that we're going to run Linker D check again we are actually just going to run like an eviz check so you can do",
    "start": "2151480",
    "end": "2158200"
  },
  {
    "text": "checks language text CLI has got a couple a couple idiosyncrasies you can",
    "start": "2158200",
    "end": "2163420"
  },
  {
    "text": "check all of linker D or you can check a specific component in this case we're just going to check the viz component",
    "start": "2163420",
    "end": "2168520"
  },
  {
    "text": "it's good to go close this out and now that we've got it",
    "start": "2168520",
    "end": "2173560"
  },
  {
    "text": "right we're actually going to add an application to the service mesh",
    "start": "2173560",
    "end": "2178660"
  },
  {
    "text": "I talk about a lot in the text right but essentially what we're going to do here is we're going to tell",
    "start": "2178660",
    "end": "2185320"
  },
  {
    "text": "the cube API that these ponds need to be injected and then",
    "start": "2185320",
    "end": "2192520"
  },
  {
    "text": "our proxy injector is going to watch for things people trying to create pods if",
    "start": "2192520",
    "end": "2197859"
  },
  {
    "text": "they see someone trying to create a pod with this annotation it's going to it's going to mutate it so it's a mutating",
    "start": "2197859",
    "end": "2203140"
  },
  {
    "text": "web hook all right so let's let's show you what this in this case I'm going to use the Linker dcli to do the injection",
    "start": "2203140",
    "end": "2209800"
  },
  {
    "text": "typically when folks are using link reading production they set The annotation either on the namespace in",
    "start": "2209800",
    "end": "2216700"
  },
  {
    "text": "whatever CI system actually creates objects in their group cluster or they set The annotation on the individual",
    "start": "2216700",
    "end": "2221920"
  },
  {
    "text": "workloads right this line here is going to add one line of animal one annotation",
    "start": "2221920",
    "end": "2227079"
  },
  {
    "text": "to the four deployments in the books happening space",
    "start": "2227079",
    "end": "2233400"
  },
  {
    "text": "all right so let's run a watch command here on the right",
    "start": "2234040",
    "end": "2240480"
  },
  {
    "text": "all right I'm also going to do myself a favor and change my name space the books app so from here on out when I make a",
    "start": "2246400",
    "end": "2252400"
  },
  {
    "text": "command it's going to be in the books app namespace",
    "start": "2252400",
    "end": "2256859"
  },
  {
    "text": "I'm going to create two more little windows because I want to show y'all a bunch of stuff",
    "start": "2257560",
    "end": "2263640"
  },
  {
    "text": "all right so we're going to see the books app uh pods running",
    "start": "2265060",
    "end": "2270540"
  },
  {
    "text": "and I'll show you some more things in a minute so okay get deploy",
    "start": "2271240",
    "end": "2276940"
  },
  {
    "text": "Dash O yaml So output the deployment says yaml",
    "start": "2276940",
    "end": "2282400"
  },
  {
    "text": "we're unlinkerty injects against that yaml and then send that right back to the kubernetes API",
    "start": "2282400",
    "end": "2289300"
  },
  {
    "text": "this makes sense what we're doing everyone who is following along have gotten at least to this point",
    "start": "2289300",
    "end": "2297520"
  },
  {
    "text": "awesome thank you folks uh we can see on the right hand side it's actually happening pretty fast but I have whereas",
    "start": "2297520",
    "end": "2304480"
  },
  {
    "text": "before I had a bunch of containers running or a bunch of PODS running with one container per pod now they've all",
    "start": "2304480",
    "end": "2310599"
  },
  {
    "text": "been destroyed and they all have two containers per pod that second container is the Lincoln proxy so what's happened",
    "start": "2310599",
    "end": "2316540"
  },
  {
    "text": "is we've gone from each of these components talking one to one to each other and now all",
    "start": "2316540",
    "end": "2321940"
  },
  {
    "text": "their traffic is being routed in and out of a little proxy right the link of D2 proxy and we've got some neat stuff that",
    "start": "2321940",
    "end": "2329320"
  },
  {
    "text": "we can do with that traffic one of those things is linkerty this",
    "start": "2329320",
    "end": "2335980"
  },
  {
    "text": "stat deploy so one of the things that we can do is we can see details about the traffic",
    "start": "2335980",
    "end": "2342820"
  },
  {
    "text": "between these applications I'm going to make this a little bit smaller and hope that you're seeing it locally",
    "start": "2342820",
    "end": "2348760"
  },
  {
    "text": "so suddenly without me changing anything on my application without creating any custom resource definitions without",
    "start": "2348760",
    "end": "2354760"
  },
  {
    "text": "doing anything fancy I just added this injection everything's still talking to each other it's just now behaving a",
    "start": "2354760",
    "end": "2361359"
  },
  {
    "text": "little bit better than before and I can see the percentage of the requests hitting each API that are successful I",
    "start": "2361359",
    "end": "2368619"
  },
  {
    "text": "can see the latency and I can see the volume of traffic in my environment it's important because as we go into the",
    "start": "2368619",
    "end": "2374200"
  },
  {
    "text": "policy side of actually locking down our cluster we're going to break all this traffic and so now we can see what's",
    "start": "2374200",
    "end": "2381040"
  },
  {
    "text": "happening live and last but not least we're gonna run on watch command",
    "start": "2381040",
    "end": "2386859"
  },
  {
    "text": "liquidy viz us deploy right I think I got that right yeah great",
    "start": "2386859",
    "end": "2395079"
  },
  {
    "text": "oh yeah that's gonna go ahead and use pluses and minuses",
    "start": "2395079",
    "end": "2400359"
  },
  {
    "text": "oh my God even if it's like that it's still easier to read than open ssl's album",
    "start": "2400359",
    "end": "2406680"
  },
  {
    "text": "all right so it's a little small but what this is telling us is what are the effective policies at let me make this a",
    "start": "2409000",
    "end": "2416260"
  },
  {
    "text": "little bigger sorry that's just ridiculous um what this is telling us is what are",
    "start": "2416260",
    "end": "2422320"
  },
  {
    "text": "the what are the existing authorization policies we have in our environment and",
    "start": "2422320",
    "end": "2428619"
  },
  {
    "text": "how much traffic is being allowed or denied by that authorization policy this makes sense",
    "start": "2428619",
    "end": "2435220"
  },
  {
    "text": "quick dive into policy in Linker d right Linker D handles the auth Z side of auth",
    "start": "2435220",
    "end": "2443260"
  },
  {
    "text": "N and Aussie or off side I'm going to say Aussie so that I don't",
    "start": "2443260",
    "end": "2448800"
  },
  {
    "text": "um we delegate like link the way Lincoln e works and one of the things that allows us to keep linkerty fairly simple",
    "start": "2449320",
    "end": "2455980"
  },
  {
    "text": "to use is that we rely on kubernetes Native objects wherever possible to do stuff so when we Route traffic between",
    "start": "2455980",
    "end": "2463240"
  },
  {
    "text": "services and kubernetes we use kubernetes Services when we figure out the identity of a pod we go for the",
    "start": "2463240",
    "end": "2468700"
  },
  {
    "text": "identity of the Pod that kubernetes assigns it right so our our authentication mechanism is the",
    "start": "2468700",
    "end": "2473980"
  },
  {
    "text": "kubernetes API and specifically the service count that you've assigned to your individual workloads and that's how the that's how",
    "start": "2473980",
    "end": "2480400"
  },
  {
    "text": "the certificates are going to get created they're going to be based off that um that surface count that you gave your",
    "start": "2480400",
    "end": "2486400"
  },
  {
    "text": "pod so right now we see a lot of traffic flowing through nothing is unauthorized",
    "start": "2486400",
    "end": "2491859"
  },
  {
    "text": "we have a good bit of traffic that is authorized okay great",
    "start": "2491859",
    "end": "2496960"
  },
  {
    "text": "and we're gonna totally mess that up as we go here um",
    "start": "2496960",
    "end": "2502720"
  },
  {
    "text": "we can run another link would you check because I like to show off how fancy this tool is we can run linkage again in",
    "start": "2502720",
    "end": "2509140"
  },
  {
    "text": "the books app namespace just to validate that our proxies are in good shape",
    "start": "2509140",
    "end": "2514480"
  },
  {
    "text": "and look at that it's happy but of course that issuer certificate is going to expire in less than 60 days so watch",
    "start": "2514480",
    "end": "2521200"
  },
  {
    "text": "out",
    "start": "2521200",
    "end": "2523440"
  },
  {
    "text": "all right so uh I put in the readme the commands that I just put under that watch if you have a terminal that you",
    "start": "2526480",
    "end": "2533680"
  },
  {
    "text": "can split it to the side I would really highly recommend setting up Linker D Vis",
    "start": "2533680",
    "end": "2538839"
  },
  {
    "text": "stat deploy and Linker Dave is auth z deploy in separate terminals because it's I",
    "start": "2538839",
    "end": "2545680"
  },
  {
    "text": "find it's really useful to watch what happens as I apply policy",
    "start": "2545680",
    "end": "2551039"
  },
  {
    "text": "great with that I'm going to send the applications and",
    "start": "2552460",
    "end": "2558040"
  },
  {
    "text": "books app into namespace jail so the first half of this thing or I guess the",
    "start": "2558040",
    "end": "2565180"
  },
  {
    "text": "whatever middle third of this is going to be isolating the applications in the",
    "start": "2565180",
    "end": "2571060"
  },
  {
    "text": "books at namespace so they can only talk to each other well well I'm lying actually a little bit so they can only",
    "start": "2571060",
    "end": "2576460"
  },
  {
    "text": "talk to each other and they will allow our our likerty Vis or dashboard to",
    "start": "2576460",
    "end": "2582280"
  },
  {
    "text": "figure out how they're doing right get some statistics about how they're performing",
    "start": "2582280",
    "end": "2588420"
  },
  {
    "text": "is the Lincoln Eve is stuff living in a different namespace to uh the",
    "start": "2589420",
    "end": "2594599"
  },
  {
    "text": "application that's that's the key here right yeah so our books our books app is",
    "start": "2594599",
    "end": "2599980"
  },
  {
    "text": "going to be in the books app namespace Linker Davis and Lincoln business namespace or Engineers or not",
    "start": "2599980",
    "end": "2606700"
  },
  {
    "text": "uh designers uh so let's go ahead and first off I'm going to create a default",
    "start": "2606700",
    "end": "2612940"
  },
  {
    "text": "inbound policy for my namespace so what I want to do is I want to tell things in the bookshap namespace Hey",
    "start": "2612940",
    "end": "2619839"
  },
  {
    "text": "listen unless you unless you have explicitly been authorized to",
    "start": "2619839",
    "end": "2625119"
  },
  {
    "text": "see some incoming traffic deny it or deny everything by default",
    "start": "2625119",
    "end": "2630640"
  },
  {
    "text": "um one thing that you're going to notice is after I set that annotation nothing happens like nothing changes I've still",
    "start": "2630640",
    "end": "2638020"
  },
  {
    "text": "got traffic I don't see any new policy none of my pod suddenly crashed and",
    "start": "2638020",
    "end": "2643540"
  },
  {
    "text": "burned and the reason that is is that default annotation which can either be done at a cluster level or can be done",
    "start": "2643540",
    "end": "2649480"
  },
  {
    "text": "at a namespace level that is read by the proxy when it starts so in order to have",
    "start": "2649480",
    "end": "2655480"
  },
  {
    "text": "it take effect and start causing us problems we're going to need to actually restart these pods",
    "start": "2655480",
    "end": "2661960"
  },
  {
    "text": "so let's do that so we're going to do K roll it restart",
    "start": "2661960",
    "end": "2667180"
  },
  {
    "text": "and I have completion we're going to restart the deployments in the bookshap namespace",
    "start": "2667180",
    "end": "2673140"
  },
  {
    "text": "so now we're going to see our traffic crading but you're actually not going to get a ton of details on that because",
    "start": "2673839",
    "end": "2681180"
  },
  {
    "text": "while the components of books app can't talk to each other anymore viz actually can't talk to bookshap",
    "start": "2681180",
    "end": "2688480"
  },
  {
    "text": "anymore either so it's not getting any any updated details so we've well and",
    "start": "2688480",
    "end": "2694240"
  },
  {
    "text": "truly broken this um I guess I guess we're not going to worry",
    "start": "2694240",
    "end": "2699880"
  },
  {
    "text": "about that oh shoot I did want that sorry give one sec",
    "start": "2699880",
    "end": "2704279"
  },
  {
    "text": "sorry folks watch pawns great because there's going to be",
    "start": "2713619",
    "end": "2721119"
  },
  {
    "text": "one more thing that we're going to want to know about our pods so now that we've done the rollout restart we see that everything came back up and is actually",
    "start": "2721119",
    "end": "2726940"
  },
  {
    "text": "perfectly fine uh that's some so one thing we do allow even when",
    "start": "2726940",
    "end": "2734200"
  },
  {
    "text": "everything else is banned by default Linker D will explicitly carve out exceptions for the cubelet to do",
    "start": "2734200",
    "end": "2741220"
  },
  {
    "text": "liveness and Readiness checks on your pods so that means if nothing else Works we're at least going to allow your pods",
    "start": "2741220",
    "end": "2746980"
  },
  {
    "text": "to start okay so that's why they were able to start back up even though we told everybody that no",
    "start": "2746980",
    "end": "2753160"
  },
  {
    "text": "traffic was allowed through so you can go ahead and you can run the",
    "start": "2753160",
    "end": "2759160"
  },
  {
    "text": "commands again or if you're running them off to the side enjoy that",
    "start": "2759160",
    "end": "2765180"
  },
  {
    "text": "um you know the the readme is just going to tell you in depth what I just told you",
    "start": "2765700",
    "end": "2771700"
  },
  {
    "text": "out loud um so now we've got that we actually want",
    "start": "2771700",
    "end": "2777040"
  },
  {
    "text": "to go ahead and carve out an exception for Linker D to",
    "start": "2777040",
    "end": "2783060"
  },
  {
    "text": "for liquidy to",
    "start": "2783060",
    "end": "2787020"
  },
  {
    "text": "the Lincoln viz component to speak to our individual applications so we can get some metrics back",
    "start": "2788319",
    "end": "2794200"
  },
  {
    "text": "so let's show you that and by now we should have yeah great so now",
    "start": "2794200",
    "end": "2799540"
  },
  {
    "text": "you see no authorization rules on the bottom we see absolutely no traffic for our",
    "start": "2799540",
    "end": "2805839"
  },
  {
    "text": "environment at the top right right and the reason that is one because there's no traffic but two because our dashboard",
    "start": "2805839",
    "end": "2812200"
  },
  {
    "text": "can't talk to can't talk to linkready anymore so what we're going to do is we're going",
    "start": "2812200",
    "end": "2818200"
  },
  {
    "text": "to create two manifests and I'm going to read we're going to read them in a second but first i'm going to define the",
    "start": "2818200",
    "end": "2824020"
  },
  {
    "text": "admin server port on all of these on all of these pods right that is the linkordy",
    "start": "2824020",
    "end": "2829900"
  },
  {
    "text": "admin port and I'm going to assign a policy that allows our Prometheus incidents and our metrics API to talk to",
    "start": "2829900",
    "end": "2836859"
  },
  {
    "text": "uh talk to that admin so let's actually read that out",
    "start": "2836859",
    "end": "2843900"
  },
  {
    "text": "manifest Bookshop allow admin",
    "start": "2844180",
    "end": "2849900"
  },
  {
    "text": "was it I just did this oh admin server there we go",
    "start": "2850359",
    "end": "2856500"
  },
  {
    "text": "so just to talk about hierarchy of objects and linked policy so or even stepping",
    "start": "2856660",
    "end": "2863800"
  },
  {
    "text": "back a little bit with Liberty by default to get Mutual TLS to get metrics to get you know the",
    "start": "2863800",
    "end": "2869380"
  },
  {
    "text": "way it makes writing decisions we need Zero Custom resource definitions when you add in policy like this is a",
    "start": "2869380",
    "end": "2876099"
  },
  {
    "text": "place where you can break your applications and where you have to start getting into custom resource definitions so it's kind of like um",
    "start": "2876099",
    "end": "2883240"
  },
  {
    "text": "like Spider-Man you know like with great power comes great responsibility right if you want the power policy you're",
    "start": "2883240",
    "end": "2889780"
  },
  {
    "text": "gonna have to take on more administrative work for you as platform Engineers I'm making an assumption everybody here work",
    "start": "2889780",
    "end": "2895960"
  },
  {
    "text": "in and around platform engineering okay killer ah so that's what I was",
    "start": "2895960",
    "end": "2903099"
  },
  {
    "text": "hoping to see so this hierarchy of objects so the first thing that we have so we have our custom resource",
    "start": "2903099",
    "end": "2908859"
  },
  {
    "text": "definitions are servers hcp reps mesh TLS authentication Network",
    "start": "2908859",
    "end": "2916060"
  },
  {
    "text": "authentication and then an authorization policy so a server defines a port it",
    "start": "2916060",
    "end": "2922300"
  },
  {
    "text": "tells linkerty about a particular port and how it works in this case I'm creating a port I'm creating a server",
    "start": "2922300",
    "end": "2928420"
  },
  {
    "text": "called linkerty admin in the bookshap namespace it's going to find all the pods whatever your whatever labels you",
    "start": "2928420",
    "end": "2935800"
  },
  {
    "text": "have and it's going to bind to the linkordy admin Port so this is a port that is",
    "start": "2935800",
    "end": "2941500"
  },
  {
    "text": "explicitly called out in the yaml Manifest that defines your workload",
    "start": "2941500",
    "end": "2946960"
  },
  {
    "text": "make sense um so this hasn't done anything beyond tell",
    "start": "2946960",
    "end": "2952240"
  },
  {
    "text": "it there's a port oh by the way and the proxy protocol it uses is HTTP or the protocol for this workload is http",
    "start": "2952240",
    "end": "2961200"
  },
  {
    "text": "and then after admin server we're going to cat manifest books app this is what",
    "start": "2961359",
    "end": "2968680"
  },
  {
    "text": "allow admin allow it there we go hello viz",
    "start": "2968680",
    "end": "2976440"
  },
  {
    "text": "so now we're going to see two new object types so the first is we're going to create a mesh TLS authorization so that",
    "start": "2977079",
    "end": "2983740"
  },
  {
    "text": "is a meshed identity um in the Bookshop names we're going to",
    "start": "2983740",
    "end": "2989500"
  },
  {
    "text": "call it viz apps and it's going to apply to Prometheus from the Linker Davis namespace and it's going to apply to tap",
    "start": "2989500",
    "end": "2996160"
  },
  {
    "text": "through the LinkedIn namespace so that's going to explicitly authorize Prometheus and tap to talk to our workloads talk to",
    "start": "2996160",
    "end": "3002640"
  },
  {
    "text": "workloads on the Linker admin Port right because that that object above that",
    "start": "3002640",
    "end": "3008940"
  },
  {
    "text": "server or that authorization policy that binds our rule about mcls to the port",
    "start": "3008940",
    "end": "3015000"
  },
  {
    "text": "okay so we have Port rule rule binding with the the",
    "start": "3015000",
    "end": "3021000"
  },
  {
    "text": "authorization policy still making sense killer",
    "start": "3021000",
    "end": "3028040"
  },
  {
    "text": "I appreciate the head knotters and thumbs uppers out there very grateful I was just thinking",
    "start": "3028560",
    "end": "3033960"
  },
  {
    "text": "there's been some excellent head notes all right so now now that we've done now",
    "start": "3033960",
    "end": "3039780"
  },
  {
    "text": "we've done this actually I do want to show you this on the terminal we're going to see is where before we didn't",
    "start": "3039780",
    "end": "3045300"
  },
  {
    "text": "have any metrics now we're starting to see some things appear",
    "start": "3045300",
    "end": "3050599"
  },
  {
    "text": "uh now we're starting to see some things appear right so I once again have stats in the top right about what's",
    "start": "3050640",
    "end": "3058319"
  },
  {
    "text": "going on in our environment we see there's very little traffic right it's basically just the health checks are rolling through but there's some traffic",
    "start": "3058319",
    "end": "3064380"
  },
  {
    "text": "uh which is nice and I can see that there's there's a policy in place and I",
    "start": "3064380",
    "end": "3070079"
  },
  {
    "text": "can see on my default deny policy that about 10 requests per second are getting denied by a link or d right so a good",
    "start": "3070079",
    "end": "3077460"
  },
  {
    "text": "metric to watch as you're setting up policy is is there anything being denied or unauthorized if you set this up",
    "start": "3077460",
    "end": "3083339"
  },
  {
    "text": "correctly and you're not in the middle of a terrible security incident it should always be zero",
    "start": "3083339",
    "end": "3090318"
  },
  {
    "text": "so now we've got that we're actually going to allow allow some traffic",
    "start": "3091859",
    "end": "3096960"
  },
  {
    "text": "through so I created a server created one server object for all my LinkedIn admin ports I've got three more ports",
    "start": "3096960",
    "end": "3103920"
  },
  {
    "text": "that I care about my web front end my book service and my author service so we're going to create we're going to",
    "start": "3103920",
    "end": "3109559"
  },
  {
    "text": "give each one of those a server object and then we're only going to look at one of those server objects because they all look",
    "start": "3109559",
    "end": "3114900"
  },
  {
    "text": "basically identical so let's go create these things",
    "start": "3114900",
    "end": "3121319"
  },
  {
    "text": "cool and let's look at one of these one of these objects so again very similar to what you saw before",
    "start": "3121319",
    "end": "3127880"
  },
  {
    "text": "you call out once again you call it a named Port so if you look at the the",
    "start": "3127880",
    "end": "3133319"
  },
  {
    "text": "books app yaml like if you go back and look at what you curl down you're going to see under the definition a port to",
    "start": "3133319",
    "end": "3139319"
  },
  {
    "text": "find called server right or service we're telling link Rd hey explicitly",
    "start": "3139319",
    "end": "3144960"
  },
  {
    "text": "it's going to be an HP one connection right so you don't have to worry about protocol detection",
    "start": "3144960",
    "end": "3150839"
  },
  {
    "text": "um and then we add in a selector so very similar to a service right a community service you're gonna have to find a way",
    "start": "3150839",
    "end": "3156359"
  },
  {
    "text": "to identify what pods belong to that service you're going to do the same thing what pods belong to this uh",
    "start": "3156359",
    "end": "3163800"
  },
  {
    "text": "authors uh server object uh that being said just because we've",
    "start": "3163800",
    "end": "3169800"
  },
  {
    "text": "created the servers doesn't mean we have any traffic that's what allow namespace is going to do so we're going to apply",
    "start": "3169800",
    "end": "3175980"
  },
  {
    "text": "it and then we're going to look at what what it did for us",
    "start": "3175980",
    "end": "3181099"
  },
  {
    "text": "so here we we apply this allow yaml allow namespace yaml right and we're",
    "start": "3186420",
    "end": "3193920"
  },
  {
    "text": "going to see that it created a author's books app policy a web app books app",
    "start": "3193920",
    "end": "3199140"
  },
  {
    "text": "policy and a books books app policy right and it also",
    "start": "3199140",
    "end": "3206099"
  },
  {
    "text": "created a mesh TLS Authentication so let's just actually look at that",
    "start": "3206099",
    "end": "3212960"
  },
  {
    "text": "um I'm gonna I'm gonna go through one of these and the other three are going to be identical so we created one",
    "start": "3214440",
    "end": "3220920"
  },
  {
    "text": "policy per server and we bind every single policy to the",
    "start": "3220920",
    "end": "3226380"
  },
  {
    "text": "same mesh TLS identity right and the mass TLS identity we'll see in a second it gives access for anything in books",
    "start": "3226380",
    "end": "3233400"
  },
  {
    "text": "app to talk to anything anything else in the books app namespace if you look at our traffic on the top right there",
    "start": "3233400",
    "end": "3240119"
  },
  {
    "text": "you're going to see that now we're back to our lightly broken application as",
    "start": "3240119",
    "end": "3245339"
  },
  {
    "text": "opposed to our totally broken application uh so we have traffic rolling through and we don't see things being",
    "start": "3245339",
    "end": "3251760"
  },
  {
    "text": "unauthorized anymore now we look at the end this was my",
    "start": "3251760",
    "end": "3258059"
  },
  {
    "text": "favorite part I thought it was really nice to be able to do star.books app so if you're a service account and the",
    "start": "3258059",
    "end": "3263400"
  },
  {
    "text": "bookshap namespace you are valid to access the server port on any of these",
    "start": "3263400",
    "end": "3268920"
  },
  {
    "text": "components so now we've restored traffic to our environment right we can get metrics we can we can have our",
    "start": "3268920",
    "end": "3276480"
  },
  {
    "text": "components talk to each other and this is the core of setting up a namespace",
    "start": "3276480",
    "end": "3282059"
  },
  {
    "text": "deal what do y'all think straightforward you'll feel comfortable doing this in in",
    "start": "3282059",
    "end": "3288119"
  },
  {
    "text": "your environments all right so I have a question then",
    "start": "3288119",
    "end": "3293880"
  },
  {
    "text": "for The Confident focusing of our audience here if I wanted to allow say I'm using an",
    "start": "3293880",
    "end": "3301020"
  },
  {
    "text": "nginx Ingress and it's in the Ingress nginx namespace and it's under a service",
    "start": "3301020",
    "end": "3307440"
  },
  {
    "text": "account called Ingress nginx do you all have a general idea of what I would need to do to allow it to access my web front",
    "start": "3307440",
    "end": "3315059"
  },
  {
    "text": "end",
    "start": "3315059",
    "end": "3317300"
  },
  {
    "text": "I've got a Linker D hat for anybody that answers this even if you're wrong not now but tomorrow you've come find me",
    "start": "3320099",
    "end": "3326579"
  },
  {
    "text": "at the booth I'll give you a link or D hat not you Flynn",
    "start": "3326579",
    "end": "3331880"
  },
  {
    "text": "all right",
    "start": "3332940",
    "end": "3335540"
  },
  {
    "text": "so it's you're in the right general direction but so the first thing we need",
    "start": "3350220",
    "end": "3356059"
  },
  {
    "text": "uh the first thing we need or I guess yeah let's start with that what are like what are the objects we care about so",
    "start": "3356059",
    "end": "3362040"
  },
  {
    "text": "what what server object do I need to bind it to whatever my authorization policy is",
    "start": "3362040",
    "end": "3369680"
  },
  {
    "text": "in this case I'm trying to access the web front end",
    "start": "3370079",
    "end": "3373940"
  },
  {
    "text": "so it is the web app server object so we're going to take the server object for web app and we're going to bind a",
    "start": "3375300",
    "end": "3382440"
  },
  {
    "text": "new policy to that web app server right and then we need to create a mesh",
    "start": "3382440",
    "end": "3388380"
  },
  {
    "text": "TLS authentication policy for our nginx Ingress right and we bind that new mesh TLS",
    "start": "3388380",
    "end": "3395520"
  },
  {
    "text": "object to the web app server and that would allow traffic from our Ingress",
    "start": "3395520",
    "end": "3400559"
  },
  {
    "text": "through to our application that make General sense yeah yeah thank",
    "start": "3400559",
    "end": "3405960"
  },
  {
    "text": "you very much for trying I really appreciate it I'm definitely going to give you a head tomorrow",
    "start": "3405960",
    "end": "3411420"
  },
  {
    "text": "long story short right like as you all probably figured out this isn't like a trivial exercise there are really good",
    "start": "3411420",
    "end": "3417660"
  },
  {
    "text": "docs inside this readme I point you at the docs file for the policy reference and just exercise caution test things",
    "start": "3417660",
    "end": "3426000"
  },
  {
    "text": "out in a reasonable way before you go roll it through into production this is you know our our founder when he talked",
    "start": "3426000",
    "end": "3431640"
  },
  {
    "text": "about it this is the biggest foot gun that Lincoln is ever given our users right so don't don't use it to",
    "start": "3431640",
    "end": "3440400"
  },
  {
    "text": "harm yourself it's also a really powerful way to ensure that only the right things are",
    "start": "3440400",
    "end": "3447059"
  },
  {
    "text": "talking to each other in this environment so where are we on time do we have we",
    "start": "3447059",
    "end": "3454559"
  },
  {
    "text": "have a bit more right so we have a 90-minute session so the next section of this so this was this was the coarse",
    "start": "3454559",
    "end": "3461520"
  },
  {
    "text": "grain policy in Linker D so what I mean by that is I guess that's course grade that was bad",
    "start": "3461520",
    "end": "3468000"
  },
  {
    "text": "I know all right point is we bound rules to a port right but it didn't allow us to didn't",
    "start": "3468000",
    "end": "3474780"
  },
  {
    "text": "allow us to get any more uh in depth than that right so with with Linker d212",
    "start": "3474780",
    "end": "3480300"
  },
  {
    "text": "we can do more fine-grained policy so I can because linkerty is aware of your",
    "start": "3480300",
    "end": "3486180"
  },
  {
    "text": "API it understands what it's doing who's talking what it understands the HP verbs it stands who's calling what path we can",
    "start": "3486180",
    "end": "3493260"
  },
  {
    "text": "actually make rules that go down to the perverb and per path level inside your",
    "start": "3493260",
    "end": "3500099"
  },
  {
    "text": "environment right in fact the way that we set default exceptions for",
    "start": "3500099",
    "end": "3506579"
  },
  {
    "text": "um Readiness and lightness checks is we use fine-grained policy built on top of HTTP",
    "start": "3506579",
    "end": "3512160"
  },
  {
    "text": "routes to allow the cubelet even though it's not part of the mesh and will never be part of the mesh we allow it to talk",
    "start": "3512160",
    "end": "3519240"
  },
  {
    "text": "to the whatever predefined Readiness and liveness checks you have inside your",
    "start": "3519240",
    "end": "3524640"
  },
  {
    "text": "workloads okay I'm going to show you how to break that in your environment does anyone",
    "start": "3524640",
    "end": "3530160"
  },
  {
    "text": "need a break no okay good um one thing you may have noticed there",
    "start": "3530160",
    "end": "3537240"
  },
  {
    "text": "are four workloads in a bookshap namespace we didn't create a exemption",
    "start": "3537240",
    "end": "3543540"
  },
  {
    "text": "or we didn't create a server object or any policy for the traffic app that's because the traffic app is not hosting",
    "start": "3543540",
    "end": "3549540"
  },
  {
    "text": "anything it's just making calls out so no one is allowed to talk to traffic but traffic is allowed to talk to everyone",
    "start": "3549540",
    "end": "3557059"
  },
  {
    "text": "uh okay so we've isolated namespace now let's do some let's do some locking down",
    "start": "3557640",
    "end": "3565079"
  },
  {
    "text": "right um so we're going to use",
    "start": "3565079",
    "end": "3571040"
  },
  {
    "text": "we're going to use HP routes to do it so the first thing I'm going to do is create a route for our author service",
    "start": "3571040",
    "end": "3579619"
  },
  {
    "text": "I want you to see a bit about what happens when we do it in particular if",
    "start": "3579619",
    "end": "3585540"
  },
  {
    "text": "you could watch the get pods something interesting is going to happen when we run this command",
    "start": "3585540",
    "end": "3592880"
  },
  {
    "text": "right so we've created our first HTTP ramp policy",
    "start": "3592980",
    "end": "3597980"
  },
  {
    "text": "and give ourselves a minute I want to make sure my demo breaks correctly and as expected",
    "start": "3602220",
    "end": "3609740"
  },
  {
    "text": "buddy",
    "start": "3612119",
    "end": "3614660"
  },
  {
    "text": "this is tense right are you tense on tents it's so easy to break things when you",
    "start": "3617520",
    "end": "3623040"
  },
  {
    "text": "don't mean to break things oof and it did it so now if you look at our environment uh the author's service",
    "start": "3623040",
    "end": "3630900"
  },
  {
    "text": "or the authors pod just became unready right so we have two containers a link",
    "start": "3630900",
    "end": "3636240"
  },
  {
    "text": "ready proxy and the actual authors container and authors is no longer ready so what happened here let's actually",
    "start": "3636240",
    "end": "3642660"
  },
  {
    "text": "take a look at this object we created an HP route and what it said is Hey listen for these",
    "start": "3642660",
    "end": "3649680"
  },
  {
    "text": "paths and on these verbs right we're going to we're going to set specific",
    "start": "3649680",
    "end": "3655319"
  },
  {
    "text": "rules about who can talk to what right we haven't we haven't bound anything to this HTTP Ram right so we",
    "start": "3655319",
    "end": "3663480"
  },
  {
    "text": "haven't told anybody they're allowed to talk to it but these are the rules about who can talk to what inside of our application",
    "start": "3663480",
    "end": "3669299"
  },
  {
    "text": "right and going back earlier when when liquidy",
    "start": "3669299",
    "end": "3674640"
  },
  {
    "text": "when Liberty looks at your environment it creates default exceptions default HP routes for liveness and radius probes in",
    "start": "3674640",
    "end": "3682980"
  },
  {
    "text": "your environment and it assumes that once you start creating HP routes you no longer want",
    "start": "3682980",
    "end": "3688980"
  },
  {
    "text": "its defaults you're going to explicitly specify who's doing what with your",
    "start": "3688980",
    "end": "3694440"
  },
  {
    "text": "applications and because I haven't allowed health tax they're not passed",
    "start": "3694440",
    "end": "3699839"
  },
  {
    "text": "through um right and this talks through again like",
    "start": "3699839",
    "end": "3706799"
  },
  {
    "text": "a lot of this is intended for you all to do self-paced right um but the the gist of it is it's not",
    "start": "3706799",
    "end": "3714059"
  },
  {
    "text": "working because linkerty deleted the routes that it created for you",
    "start": "3714059",
    "end": "3719339"
  },
  {
    "text": "so now we're going to set up the probe right",
    "start": "3719339",
    "end": "3724619"
  },
  {
    "text": "the probe object is actually going to create a route uh and it's going to create a type of",
    "start": "3724619",
    "end": "3730920"
  },
  {
    "text": "authentication and then it's going to create a policy so let's just look at that object",
    "start": "3730920",
    "end": "3737838"
  },
  {
    "text": "um so we create a route for slash ping we",
    "start": "3739980",
    "end": "3745799"
  },
  {
    "text": "basically say that Hey listen anybody on any IP address if they're not part of",
    "start": "3745799",
    "end": "3751200"
  },
  {
    "text": "the network may talk to that right and then we bind them together with this authorization policy now we",
    "start": "3751200",
    "end": "3758700"
  },
  {
    "text": "bound the network authentication called the author's probe to the",
    "start": "3758700",
    "end": "3764099"
  },
  {
    "text": "um to the policy that is or to the hcp route that is that authors probe",
    "start": "3764099",
    "end": "3770760"
  },
  {
    "text": "all right so now our pod becomes ready once again because it's allowed and now",
    "start": "3770760",
    "end": "3776819"
  },
  {
    "text": "all right that's what I just did and now we're going to actually allow some traffic to come in",
    "start": "3776819",
    "end": "3783180"
  },
  {
    "text": "worth noting right before I do this the success rate for the web app service has",
    "start": "3783180",
    "end": "3789540"
  },
  {
    "text": "cratered down to 11 that's because as it tries to talk to authors which is doing",
    "start": "3789540",
    "end": "3794700"
  },
  {
    "text": "a lot it always gets denied right and we can see that we've got well you can",
    "start": "3794700",
    "end": "3801359"
  },
  {
    "text": "maybe see it but there are a bunch of unauthorized bits of traffic rolling",
    "start": "3801359",
    "end": "3807059"
  },
  {
    "text": "through hold on",
    "start": "3807059",
    "end": "3809839"
  },
  {
    "text": "whatever I'm not going to try and decipher that mess there's a bunch of unauthorized traffic going on right so",
    "start": "3815520",
    "end": "3820799"
  },
  {
    "text": "when we create this when we create this um this policy we're going to see a",
    "start": "3820799",
    "end": "3825839"
  },
  {
    "text": "bunch more stuff get authorized and we are now going to close our pods",
    "start": "3825839",
    "end": "3832500"
  },
  {
    "text": "because these will not be interesting anymore um so now we can stop caring about the",
    "start": "3832500",
    "end": "3838020"
  },
  {
    "text": "health of our pods because there's nothing new to show there is that invisible",
    "start": "3838020",
    "end": "3845540"
  },
  {
    "text": "all right well sorry about that uh okay",
    "start": "3846500",
    "end": "3853200"
  },
  {
    "text": "um so let's look at let's look at what we did I guess I just did the get route so I'll just show you",
    "start": "3853200",
    "end": "3858780"
  },
  {
    "text": "the get policy so forget policy we said that books app",
    "start": "3858780",
    "end": "3865799"
  },
  {
    "text": "web app or my boy Cloud agent sorry this is reused yaml from something else I do",
    "start": "3865799",
    "end": "3871859"
  },
  {
    "text": "um they can all they can all talk to they can all talk to the author's service on",
    "start": "3871859",
    "end": "3878760"
  },
  {
    "text": "this um on this port or sorry on those routes not ports on",
    "start": "3878760",
    "end": "3884520"
  },
  {
    "text": "those routes um and that just basically binds them together there",
    "start": "3884520",
    "end": "3891380"
  },
  {
    "text": "all right so if you look at the application well in fact we can just do that",
    "start": "3895980",
    "end": "3901760"
  },
  {
    "text": "all right so if we go look at the application right we're going to see that it loads",
    "start": "3905040",
    "end": "3912380"
  },
  {
    "text": "it loads right but if I go to like make a change so I'm going to add an author",
    "start": "3913680",
    "end": "3919700"
  },
  {
    "text": "right Angie as an author here oh sorry no dice this doesn't work because we",
    "start": "3921119",
    "end": "3926880"
  },
  {
    "text": "can't update authors we only gave ourselves gets right we didn't do any puts we didn't do any deletes",
    "start": "3926880",
    "end": "3934099"
  },
  {
    "text": "um sorry uh Neil Gaiman you're out man I hated Sandman it's gone",
    "start": "3934260",
    "end": "3941760"
  },
  {
    "text": "no can't do that either because I have no no policy also I didn't hit Sandman it's amazing uh it's not that same guy I",
    "start": "3941760",
    "end": "3949200"
  },
  {
    "text": "feel like it's the same guy uh anyhow right uh that's that's what's",
    "start": "3949200",
    "end": "3954839"
  },
  {
    "text": "going on here and we also see their success rate for web app is like staying low right well because web app's",
    "start": "3954839",
    "end": "3961200"
  },
  {
    "text": "actually doing a lot of trying to update and delete authors and that's not going to work so",
    "start": "3961200",
    "end": "3967079"
  },
  {
    "text": "let's see how we can make that work so we can't update books our app looks",
    "start": "3967079",
    "end": "3973619"
  },
  {
    "text": "good but it's not really working the way it's designed so let's fix it so we're",
    "start": "3973619",
    "end": "3979260"
  },
  {
    "text": "going to create a route that allows us to modify authors and then we're going to bind that route to our uh to our",
    "start": "3979260",
    "end": "3986640"
  },
  {
    "text": "server",
    "start": "3986640",
    "end": "3989000"
  },
  {
    "text": "so I did is I create a new route right it gives me it gives whoever gets attached to this",
    "start": "3992880",
    "end": "3999240"
  },
  {
    "text": "route it gives them the ability to do deletes puts and posts right on",
    "start": "3999240",
    "end": "4004280"
  },
  {
    "text": "different paths within the API that makes sense for application you hopefully have noticed that where",
    "start": "4004280",
    "end": "4011240"
  },
  {
    "text": "the last section on locking down locking down the namespace was",
    "start": "4011240",
    "end": "4018380"
  },
  {
    "text": "relatively straightforward not trivial but relatively straightforward right getting more fine-grained and policy",
    "start": "4018380",
    "end": "4024559"
  },
  {
    "text": "involves a lot more knowledge of our application right it says be aware of that right",
    "start": "4024559",
    "end": "4030920"
  },
  {
    "text": "understand that you know as we get as we get more granular with our security right you",
    "start": "4030920",
    "end": "4036559"
  },
  {
    "text": "need to get more granular with your animal right and get more into depth",
    "start": "4036559",
    "end": "4041619"
  },
  {
    "text": "so now we're going to actually bind",
    "start": "4043819",
    "end": "4048280"
  },
  {
    "text": "bind something to that route",
    "start": "4048859",
    "end": "4052420"
  },
  {
    "text": "come on so what we did here is we now bound uh",
    "start": "4055280",
    "end": "4061760"
  },
  {
    "text": "web app and books and we gave them permission to modify",
    "start": "4061760",
    "end": "4067520"
  },
  {
    "text": "modify those components so if if I'm at traffic even though I can talk to authors I can't make any changes to the",
    "start": "4067520",
    "end": "4074000"
  },
  {
    "text": "authors I can only do that through the web app front end because it's the only service that should be allowed to make",
    "start": "4074000",
    "end": "4079700"
  },
  {
    "text": "those changes authors is a protected backend make sense",
    "start": "4079700",
    "end": "4086119"
  },
  {
    "text": "and that's the demo right so it's it's meant to show you how you would do",
    "start": "4086119",
    "end": "4093140"
  },
  {
    "text": "this in practice right for those that have done it right",
    "start": "4093140",
    "end": "4098900"
  },
  {
    "text": "who is considering doing pulse who are going to Lincoln users before this",
    "start": "4098900",
    "end": "4105279"
  },
  {
    "text": "great nobody that's here cool well I hope y'all are interested in trying Linker D and if you do try linkready I",
    "start": "4106100",
    "end": "4112699"
  },
  {
    "text": "would love to talk to you about using policy with it and with that let's go to our cleanup slides cool so I've got eight",
    "start": "4112699",
    "end": "4119660"
  },
  {
    "text": "questions before we leave the demo all right one thing I would say is that",
    "start": "4119660",
    "end": "4125120"
  },
  {
    "text": "um I'm not employed by buying or anything I'm not even a link ID user really but I've really really been",
    "start": "4125120",
    "end": "4130818"
  },
  {
    "text": "struck at how simple it is to use in this kind of thing like we're talking about some pretty complicated Concepts",
    "start": "4130819",
    "end": "4137238"
  },
  {
    "text": "and it's really impressive to me how simple it is relative to other surface batteries that I've used I think it's a",
    "start": "4137239",
    "end": "4143179"
  },
  {
    "text": "it's a really great tool I'm certainly going to be playing with it a lot more uh following this thanks well I'm glad glad to hear it and I hope I've",
    "start": "4143179",
    "end": "4149838"
  },
  {
    "text": "encouraged you all to try it out and if you have questions I'll be at the blind Booth like all week basically",
    "start": "4149839",
    "end": "4156258"
  },
  {
    "text": "um and there'll be lots of other folks over there there's also a Linker e-booth um if this is cool you want to learn",
    "start": "4156259",
    "end": "4162440"
  },
  {
    "text": "more buoyant IO SMA that will get you like all the workshops that we published",
    "start": "4162440",
    "end": "4167540"
  },
  {
    "text": "online they're recorded you can go through them there are examples out there for all this stuff The Next Step",
    "start": "4167540",
    "end": "4174798"
  },
  {
    "text": "we're going to do a deep dive into everybody's favorite topic cni plugins and how do we modify your IP tables on",
    "start": "4174799",
    "end": "4182600"
  },
  {
    "text": "Cube plus there keeping it fast paced and exciting",
    "start": "4182600",
    "end": "4188238"
  },
  {
    "text": "beyond that if you think Linker D is cool but you think gee I wish instead of doing any of",
    "start": "4188239",
    "end": "4195560"
  },
  {
    "text": "this work myself I could pay somebody else and they'd do it for me check out Point cloud or go to buoyant IO demo",
    "start": "4195560",
    "end": "4202400"
  },
  {
    "text": "where you can sit with me for 30 minutes and I'll tell you why you should pay me to have us run liquidy for you all right",
    "start": "4202400",
    "end": "4210739"
  },
  {
    "text": "well paypoint I'm not going to do it I'm not gonna get the text unfortunately but I'll talk to you about it",
    "start": "4210739",
    "end": "4217300"
  },
  {
    "text": "oh yeah um we're also going to have a jet stack and a cert manager booth in the project",
    "start": "4217460",
    "end": "4224179"
  },
  {
    "text": "Pavilion um the search manager Booth is well worth a visit this is your advanced",
    "start": "4224179",
    "end": "4229280"
  },
  {
    "text": "notice so you can get in early we have a Raspberry Pi and a little printer and we will print out a little certificate that",
    "start": "4229280",
    "end": "4235340"
  },
  {
    "text": "you can take home in person a sort of memorabilia it's really fun it was really successful and popular at cubecon",
    "start": "4235340",
    "end": "4241699"
  },
  {
    "text": "Valencia I'm told unfortunately I wasn't there but um yeah really really popular there please do come along and get your own",
    "start": "4241699",
    "end": "4247159"
  },
  {
    "text": "certificate with a little seal and everything it's a really neat little thing um also like do check out the jet stack",
    "start": "4247159",
    "end": "4253760"
  },
  {
    "text": "blog we have some pretty cool stuff on there and if you're like when you're dealing with certificates in any sort of",
    "start": "4253760",
    "end": "4260300"
  },
  {
    "text": "meaningful large-scale deployment usually that introduces sort of",
    "start": "4260300",
    "end": "4265400"
  },
  {
    "text": "management challenges uh like how do you keep track of them that kind of thing that's jet Stack's product area so if",
    "start": "4265400",
    "end": "4272000"
  },
  {
    "text": "you sort of want to go above and beyond the open source cert manager project uh it'd be worth visiting my colleagues at",
    "start": "4272000",
    "end": "4277580"
  },
  {
    "text": "the jetstag booth to talk about jet stack secure and the product offerings that they have for helping to manage",
    "start": "4277580",
    "end": "4284360"
  },
  {
    "text": "your workload identities yeah I'm going to go get a certificate tomorrow yeah excited I hope to see yeah I hope to see",
    "start": "4284360",
    "end": "4293000"
  },
  {
    "text": "some of you that it'd be really great all right that's it thank you so much all of you for coming here really appreciate it",
    "start": "4293000",
    "end": "4300100"
  }
]