[
  {
    "start": "0",
    "end": "376000"
  },
  {
    "text": "okay hi there welcome uh my name is lucas heinrich i'm a",
    "start": "240",
    "end": "6560"
  },
  {
    "text": "particle physicist uh working at cern and i'm going to give this presentation together with uh alessandra uh who's also connected",
    "start": "6560",
    "end": "13200"
  },
  {
    "text": "who is a senior system administrator at the university of manchester and we're both working uh for a particle",
    "start": "13200",
    "end": "19920"
  },
  {
    "text": "physics experiment called atlas and we're going to talk about how we use kubernetes to",
    "start": "19920",
    "end": "25039"
  },
  {
    "text": "streamline our infrastructure and so just to introduce our work a bit so uh the",
    "start": "25039",
    "end": "31679"
  },
  {
    "text": "main place of our work is cern it's the european lab for parking physics research and it's",
    "start": "31679",
    "end": "36960"
  },
  {
    "text": "located in geneva switzerland and so here we do many experiments relating",
    "start": "36960",
    "end": "42640"
  },
  {
    "text": "to particle nuclear physics but the main experiment uh that you might have heard about is the large",
    "start": "42640",
    "end": "48239"
  },
  {
    "text": "hadron collider it's a a very big particle accelerator that is a 27 kilometer",
    "start": "48239",
    "end": "54000"
  },
  {
    "text": "in circumference and basically it's a big underground tunnel 100 meters underground where we accelerate",
    "start": "54000",
    "end": "59920"
  },
  {
    "text": "particles and and bring them to collision at four interaction points so we have",
    "start": "59920",
    "end": "65119"
  },
  {
    "text": "two particle beams one going clockwise in this big circle and the other one going counterclockwise and",
    "start": "65119",
    "end": "71119"
  },
  {
    "text": "at the four points that are labeled alice cms lhcb and atlas we bring those particles",
    "start": "71119",
    "end": "77119"
  },
  {
    "text": "uh to collision and um here we can see uh the uh what it looks like in the tunnel",
    "start": "77119",
    "end": "83680"
  },
  {
    "text": "underground so this uh huge magnets that accelerate the particles to almost the speed of light and so they traverse",
    "start": "83680",
    "end": "90320"
  },
  {
    "text": "this 30 kilometer tunnel 10 000 times a second and at these interaction points uh",
    "start": "90320",
    "end": "96159"
  },
  {
    "text": "basically what we have done is we have constructed giant cameras that uh take",
    "start": "96159",
    "end": "101200"
  },
  {
    "text": "uh basically three-dimensional pictures of these collisions and these uh pictures help us understand nature uh",
    "start": "101200",
    "end": "107520"
  },
  {
    "text": "better so here we basically collide 40 million uh we see 40 million collisions per second and so",
    "start": "107520",
    "end": "113759"
  },
  {
    "text": "we generate a huge amount of data and so just to give you a scale of what these uh quote unquote",
    "start": "113759",
    "end": "121360"
  },
  {
    "text": "cameras look like so this is a real life picture of one of these detectors so this is the atlas",
    "start": "121360",
    "end": "127759"
  },
  {
    "text": "detector that both alessandra and i work at and you can see a human uh at the center of the image just for",
    "start": "127759",
    "end": "134640"
  },
  {
    "text": "scale so these are some of the biggest um scientific experiments that have ever been",
    "start": "134640",
    "end": "140319"
  },
  {
    "text": "constructed and we use that to understand uh the basic building blocks of matter so some",
    "start": "140319",
    "end": "145840"
  },
  {
    "text": "of the things that we are trying to uh understand with this large head-on collider is what the basic structure of",
    "start": "145840",
    "end": "152879"
  },
  {
    "text": "nature is so we want to understand how the elementary particles uh work so you might have heard about electrons or",
    "start": "152879",
    "end": "159360"
  },
  {
    "text": "quarks and but there are a bunch of other elementary particles and maybe one of the things we would really",
    "start": "159360",
    "end": "164560"
  },
  {
    "text": "be excited about is to find new elementary particles and through that uh uncover the nature of",
    "start": "164560",
    "end": "169920"
  },
  {
    "text": "dark matter or maybe dark energy because it turns out though with the current theory of physics we",
    "start": "169920",
    "end": "175680"
  },
  {
    "text": "only understand five percent of the energy content of the universe and actually 95",
    "start": "175680",
    "end": "181360"
  },
  {
    "text": "of uh what's out there in the universe is unknown to us and so one of the other big questions",
    "start": "181360",
    "end": "186480"
  },
  {
    "text": "that we're also studying is what exactly the difference between matter and anti-matter is because we see",
    "start": "186480",
    "end": "192080"
  },
  {
    "text": "a lot of matter around us and while we know that anti-matter exists it's not very abundant in the universe and this is a",
    "start": "192080",
    "end": "198400"
  },
  {
    "text": "big mystery that we're trying to answer with this uh big experiment and so one of the things you might have",
    "start": "198400",
    "end": "204400"
  },
  {
    "text": "heard about the large hadron colliders that is uh we used it to discover uh the higgs boson",
    "start": "204400",
    "end": "209760"
  },
  {
    "text": "so this has been a central piece of our physics theory and it explains what the",
    "start": "209760",
    "end": "215760"
  },
  {
    "text": "nature of masses and particles have mass and so",
    "start": "215760",
    "end": "221840"
  },
  {
    "text": "in 2012 we analyzed our data we could find these new elementary particles and then",
    "start": "221840",
    "end": "227840"
  },
  {
    "text": "uh professors uh higgs and anglair uh subsequently uh were awarded a nobel prize through uh",
    "start": "227840",
    "end": "233840"
  },
  {
    "text": "because of this discovery that we made here at cern and another uh reason why you might have heard about cern is because",
    "start": "233840",
    "end": "240400"
  },
  {
    "text": "uh as we're all uh connected online uh through the web uh this um is in part because of the",
    "start": "240400",
    "end": "247760"
  },
  {
    "text": "the world wide web was developed at cern so tim berners-lee when he was working here in the late 80s er",
    "start": "247760",
    "end": "253760"
  },
  {
    "text": "in the early 90s uh he uh developed the weapon",
    "start": "253760",
    "end": "258880"
  },
  {
    "text": "it's uh basically the foundation of what we all use today and so uh we need to",
    "start": "258880",
    "end": "266400"
  },
  {
    "text": "you know we need to record a lot of data to um make these types of discoveries and",
    "start": "266400",
    "end": "273040"
  },
  {
    "text": "so it's not it's not surprising that big data and a lot of",
    "start": "273040",
    "end": "278400"
  },
  {
    "text": "it infrastructure has always been very closely linked to the physics that we're trying to do so not only do we have this",
    "start": "278400",
    "end": "284720"
  },
  {
    "text": "magnificent harbor these huge detectors but we also have a quite expansive it infrastructure and",
    "start": "284720",
    "end": "290720"
  },
  {
    "text": "so this is uh one of the control rooms that we have at cern and so just to give you an idea of how much data we're taking so",
    "start": "290720",
    "end": "297440"
  },
  {
    "text": "the big atlas detector that you've seen earlier in the slide has something around 100 million readout",
    "start": "297440",
    "end": "303680"
  },
  {
    "text": "sensors so that all stream data back to our disk and so we see 40 million collisions per second and",
    "start": "303680",
    "end": "310000"
  },
  {
    "text": "that gives us a data rate of almost uh petabytes uh per second so obviously we cannot store",
    "start": "310000",
    "end": "316160"
  },
  {
    "text": "all of this data um to this but we do an uh real time processing of the data and",
    "start": "316160",
    "end": "321600"
  },
  {
    "text": "then in the end we uh store to data to this uh something like gigabytes per second and so this",
    "start": "321600",
    "end": "328479"
  },
  {
    "text": "accumulates order of 10 petabytes per second that all needs to be analyzed in order to",
    "start": "328479",
    "end": "335039"
  },
  {
    "text": "give us a potentially a discovery like the higgs boson and so in order to process all of this",
    "start": "335039",
    "end": "341039"
  },
  {
    "text": "data we are not only relying on the central uh laboratory at cern but we are a worldwide collaboration of",
    "start": "341039",
    "end": "349280"
  },
  {
    "text": "physics institutions the national labs and universities that all pool resources in order to process this",
    "start": "349280",
    "end": "356720"
  },
  {
    "text": "data and so this is what we constructed during the 90s and early 2000s and we call this the",
    "start": "356720",
    "end": "362800"
  },
  {
    "text": "worldwide lhc computing grid and so alessandra is one of the leading experts in this area and she'll",
    "start": "362800",
    "end": "369360"
  },
  {
    "text": "basically introduce you how we use that and where we see kubernetes uh playing into this",
    "start": "369360",
    "end": "376800"
  },
  {
    "start": "376000",
    "end": "470000"
  },
  {
    "text": "yeah okay so i'm going to talk about the wlcg computing grid",
    "start": "376960",
    "end": "384960"
  },
  {
    "text": "which was created around 2000 so it is",
    "start": "384960",
    "end": "392240"
  },
  {
    "text": "20 years older it's federation of those of in the individual academic",
    "start": "392240",
    "end": "398240"
  },
  {
    "text": "institutions and they provide the resources to global scientific collaborations the lhc experiments are",
    "start": "398240",
    "end": "406960"
  },
  {
    "text": "the primary users but there are other collaborations",
    "start": "406960",
    "end": "412000"
  },
  {
    "text": "using the grid participating to the grid there are 150 sites that actually pledge",
    "start": "412000",
    "end": "419680"
  },
  {
    "text": "the resources they are from big international labs",
    "start": "419680",
    "end": "426160"
  },
  {
    "text": "to smaller universities to even department clusters and",
    "start": "426160",
    "end": "434960"
  },
  {
    "text": "at the last account they offered roughly 1.4 million cpus for around",
    "start": "434960",
    "end": "441840"
  },
  {
    "text": "10 000 users of course this is a distributed environment so the",
    "start": "441840",
    "end": "447759"
  },
  {
    "text": "challenge is to provide the users with a uniform experience",
    "start": "447759",
    "end": "453039"
  },
  {
    "text": "across a heterogeneous computing landscape",
    "start": "453039",
    "end": "458720"
  },
  {
    "text": "and the greater middleware was developed to act as an overlay to",
    "start": "458720",
    "end": "464160"
  },
  {
    "text": "provide a common api to all these different",
    "start": "464160",
    "end": "470080"
  },
  {
    "start": "470000",
    "end": "603000"
  },
  {
    "text": "resources of course the",
    "start": "470080",
    "end": "479840"
  },
  {
    "text": "was also flattened a bit in the past by the experiments and the",
    "start": "480879",
    "end": "486879"
  },
  {
    "text": "sites agreeing on what is required for a site to participate to the grid",
    "start": "486879",
    "end": "495039"
  },
  {
    "text": "for example uh the main computing resources that the worker not behind the batch system",
    "start": "495039",
    "end": "501919"
  },
  {
    "text": "had all to be had or to install a reddit",
    "start": "501919",
    "end": "507280"
  },
  {
    "text": "family operative system they needed a internal cpus and at least",
    "start": "507280",
    "end": "514159"
  },
  {
    "text": "two gigabyte of ram processor also a site in general needed a number",
    "start": "514159",
    "end": "521360"
  },
  {
    "text": "of middleware services to be deployed to be recognized as a grid site",
    "start": "521360",
    "end": "528240"
  },
  {
    "text": "the most important one of course for this talk is the batch system but there are a number",
    "start": "528240",
    "end": "535680"
  },
  {
    "text": "a number of other services uh like a storage with a grid protocols for",
    "start": "535680",
    "end": "542480"
  },
  {
    "text": "transfers information system authorization monitoring squid",
    "start": "542480",
    "end": "548720"
  },
  {
    "text": "software space etc this is a quite heavy duty",
    "start": "548720",
    "end": "556880"
  },
  {
    "text": "and rigid deployment model and of course can be applied only to pledge the",
    "start": "556880",
    "end": "562480"
  },
  {
    "text": "resources but the resources are diversifying",
    "start": "562480",
    "end": "567600"
  },
  {
    "text": "and becoming more opportunistic and we don't have any more control over them and what they deployed",
    "start": "567600",
    "end": "577839"
  },
  {
    "text": "um so the ewcg experiments have",
    "start": "578000",
    "end": "586959"
  },
  {
    "text": "already started to adapt to this new way of deploying by deploying",
    "start": "587600",
    "end": "595760"
  },
  {
    "text": "for example containers to ease the requirements on the operating system for example",
    "start": "595760",
    "end": "605839"
  },
  {
    "start": "603000",
    "end": "749000"
  },
  {
    "text": "but this is not the only thing that needs to be done",
    "start": "607680",
    "end": "612880"
  },
  {
    "text": "so for how how can kubernetes can help the deployment",
    "start": "613200",
    "end": "620640"
  },
  {
    "text": "in this case well for sites it offers scalable and centralized",
    "start": "620640",
    "end": "628079"
  },
  {
    "text": "service employment many of the services mentioned before can be now centrally deployed by someone",
    "start": "628079",
    "end": "638240"
  },
  {
    "text": "from the experiments or someone decided maybe in the in the region the uk for",
    "start": "638240",
    "end": "645200"
  },
  {
    "text": "example as an an organization that can do this kind of deployment",
    "start": "645200",
    "end": "651440"
  },
  {
    "text": "this reduces the needed to train admins and grid services which are",
    "start": "651440",
    "end": "657839"
  },
  {
    "text": "very very peculiar to our environment and can allow to train people instead on",
    "start": "657839",
    "end": "664720"
  },
  {
    "text": "something that is more required also around the world",
    "start": "664720",
    "end": "670079"
  },
  {
    "text": "also k8 allows horizontal scaling which allows the services to be scaled",
    "start": "670079",
    "end": "676079"
  },
  {
    "text": "and up and down depending on the requirements since a",
    "start": "676079",
    "end": "681680"
  },
  {
    "text": "site might be diversifying for example they might want to deploy",
    "start": "681680",
    "end": "688720"
  },
  {
    "text": "resources behind the jupiter hub rather than a batch system at a certain",
    "start": "688720",
    "end": "693760"
  },
  {
    "text": "point these can be very helpful and",
    "start": "693760",
    "end": "699040"
  },
  {
    "text": "also it allows arbitrary arbitrary size deployment you can deploy",
    "start": "699040",
    "end": "706399"
  },
  {
    "text": "kubernetes on a laptop or in a large have a high availability",
    "start": "706399",
    "end": "712160"
  },
  {
    "text": "cluster and these as we will see in the demo uh is a quite an interesting feature",
    "start": "712160",
    "end": "722480"
  },
  {
    "text": "as a batch system it is good at doing a resource management",
    "start": "722480",
    "end": "728720"
  },
  {
    "text": "of course it has a major missing feature for us which is fair shares so right now",
    "start": "728720",
    "end": "735279"
  },
  {
    "text": "we are deploying it uh mostly at dedicated sites dedicated means that",
    "start": "735279",
    "end": "742639"
  },
  {
    "text": "it is different from pledged dedicated means that they run only one experiment",
    "start": "742639",
    "end": "751200"
  },
  {
    "text": "so in particular since lucas and i work in atlas say how does",
    "start": "752320",
    "end": "758480"
  },
  {
    "text": "this work out in atlas uh in atlas it allows a",
    "start": "758480",
    "end": "764399"
  },
  {
    "text": "to streamline or to provide a common basis on ethereum genius resources in",
    "start": "764399",
    "end": "770839"
  },
  {
    "text": "particular on top of the standard the batch system sites",
    "start": "770839",
    "end": "776320"
  },
  {
    "text": "we have started to use hpcs and cloud and our system",
    "start": "776320",
    "end": "784399"
  },
  {
    "text": "has a brokering system that calls to this service uh called the harvester",
    "start": "785680",
    "end": "791920"
  },
  {
    "text": "harvester does the submission of the workflows and has an api for each",
    "start": "791920",
    "end": "800399"
  },
  {
    "text": "system when we arrived to create this",
    "start": "800399",
    "end": "805519"
  },
  {
    "text": "simplifies things because now we can submit it to a laptop to a university or for example to google",
    "start": "805519",
    "end": "814480"
  },
  {
    "text": "and lately also to amazon",
    "start": "814480",
    "end": "818639"
  },
  {
    "start": "817000",
    "end": "869000"
  },
  {
    "text": "sorry you can see here we started to work",
    "start": "822480",
    "end": "829760"
  },
  {
    "text": "on it last year and there is a state decrease of resources",
    "start": "829760",
    "end": "836639"
  },
  {
    "text": "and of sites that are starting to deploy and you can see that there is",
    "start": "836639",
    "end": "842000"
  },
  {
    "text": "a there are all the resources uh represented there is cern there is a",
    "start": "842000",
    "end": "848560"
  },
  {
    "text": "university of victoria uh there is a university of chicago",
    "start": "848560",
    "end": "854880"
  },
  {
    "text": "but also google and amazon",
    "start": "854880",
    "end": "859680"
  },
  {
    "text": "and in the future we expected to this to increase the resource taiwan",
    "start": "860000",
    "end": "866800"
  },
  {
    "text": "incidentally which was the first one to deploy",
    "start": "866800",
    "end": "871839"
  },
  {
    "start": "869000",
    "end": "963000"
  },
  {
    "text": "how how did we achieve this",
    "start": "872880",
    "end": "878880"
  },
  {
    "text": "we have as i say that is a system the the user submits",
    "start": "878880",
    "end": "886959"
  },
  {
    "text": "to the broker the broker creates a central queue depending on what the workflows",
    "start": "886959",
    "end": "895519"
  },
  {
    "text": "requirements are he talks to the harvester and the harvester brokers to the",
    "start": "895519",
    "end": "901519"
  },
  {
    "text": "appropriate resources harvester",
    "start": "901519",
    "end": "907360"
  },
  {
    "text": "doesn't submit the workload the workflow directly submits something called the pilot",
    "start": "907360",
    "end": "914639"
  },
  {
    "text": "the pilot is um and as",
    "start": "914639",
    "end": "922320"
  },
  {
    "text": "a set of scripts that do intelligent things on the worker nodes",
    "start": "922320",
    "end": "928160"
  },
  {
    "text": "stages in the data runs the payload stages out the output",
    "start": "928639",
    "end": "935360"
  },
  {
    "text": "monitors the the job monitors the resources if for example",
    "start": "935360",
    "end": "942720"
  },
  {
    "text": "the jobs exceeds the memory requirements",
    "start": "942720",
    "end": "948560"
  },
  {
    "text": "it kills it also it here it isn't really shown but",
    "start": "948720",
    "end": "955759"
  },
  {
    "text": "in reality the job is run in a singularity container",
    "start": "955759",
    "end": "961920"
  },
  {
    "text": "and what we have done is uh forever kubernetes",
    "start": "961920",
    "end": "969199"
  },
  {
    "start": "963000",
    "end": "1041000"
  },
  {
    "text": "is simply to do all these incubators both are stereo has been reinstalled",
    "start": "969199",
    "end": "976800"
  },
  {
    "text": "as a kubernetes resource and it submits it to a cooperative cluster",
    "start": "976800",
    "end": "982880"
  },
  {
    "text": "and the pilot runs inside the pod so in the case of",
    "start": "982880",
    "end": "989120"
  },
  {
    "text": "kubernetes we are also running nesting containers which is another",
    "start": "989120",
    "end": "994480"
  },
  {
    "text": "interesting feature uh mainly his container the singularity inside the container d",
    "start": "994480",
    "end": "1002320"
  },
  {
    "text": "eventually in the future the declarative paradigm of kubernetes may take over",
    "start": "1002320",
    "end": "1008800"
  },
  {
    "text": "it's at least what we open but it is a bit too early",
    "start": "1008800",
    "end": "1014320"
  },
  {
    "text": "and uh we will simply transform the pilot features into",
    "start": "1014320",
    "end": "1021120"
  },
  {
    "text": "kubernetes uh",
    "start": "1021120",
    "end": "1025839"
  },
  {
    "text": "files configuration files job configuration files so",
    "start": "1026959",
    "end": "1034480"
  },
  {
    "text": "and with this i'm passing back to the to lucas",
    "start": "1034480",
    "end": "1041760"
  },
  {
    "start": "1041000",
    "end": "1124000"
  },
  {
    "text": "for introducing the demo okay yeah thanks alessandra so uh",
    "start": "1041760",
    "end": "1048079"
  },
  {
    "text": "in this case we'll do a little bit of a demo so if you remember so that worldwide llc computing grid you can",
    "start": "1048079",
    "end": "1054960"
  },
  {
    "text": "basically think of it as a very large federation of clusters and so traditionally well there were standard",
    "start": "1054960",
    "end": "1062400"
  },
  {
    "text": "batch clusters as you would use them in in academic institutions we of course",
    "start": "1062400",
    "end": "1068000"
  },
  {
    "text": "now have kubernetes that we could use to join this worldwide federation and so what we will",
    "start": "1068000",
    "end": "1073760"
  },
  {
    "text": "try to do in this demo is to set up infrastructure on a brand new machine to uh create a kubernetes cluster and",
    "start": "1073760",
    "end": "1080960"
  },
  {
    "text": "join this worldwide uh federation then we'll also submit a workload into this federation that will then end",
    "start": "1080960",
    "end": "1087120"
  },
  {
    "text": "up on our uh just deployed infrastructure and do some physics work for us and so the demo that we prepared is basically",
    "start": "1087120",
    "end": "1094160"
  },
  {
    "text": "um simulating high energy physics collisions and so this is a very important aspect",
    "start": "1094160",
    "end": "1100320"
  },
  {
    "text": "of our physics work so we need to kind of understand what our data looks like and so",
    "start": "1100320",
    "end": "1105600"
  },
  {
    "text": "for that we kind of simulate this uh using some uh simulation code and so",
    "start": "1105600",
    "end": "1111919"
  },
  {
    "text": "with this i'll just pass on to a demo video that we recorded and after the video we'll come back for",
    "start": "1111919",
    "end": "1119120"
  },
  {
    "text": "the q a",
    "start": "1119120",
    "end": "1123840"
  },
  {
    "start": "1124000",
    "end": "1576000"
  },
  {
    "text": "okay so in this demo we will try to deploy a miniature version of",
    "start": "1125440",
    "end": "1132080"
  },
  {
    "text": "[Music] infrastructure",
    "start": "1133080",
    "end": "1137840"
  },
  {
    "text": "one cluster that i'll name the job cluster uh that's a cluster that actually does the physics work uh once",
    "start": "1140080",
    "end": "1146080"
  },
  {
    "text": "uh you know work is requested and then another cluster called the harvester and its role is to monitor the queues of the",
    "start": "1146080",
    "end": "1154559"
  },
  {
    "text": "global lhc user community uh to see whether or not new workloads are coming in and they",
    "start": "1154559",
    "end": "1160400"
  },
  {
    "text": "will assign worker jobs dynamically to adjust to the workload and those",
    "start": "1160400",
    "end": "1166080"
  },
  {
    "text": "worker nodes can then fetch new jobs from the queue as they are coming in and so at first we",
    "start": "1166080",
    "end": "1173919"
  },
  {
    "text": "will deploy this job cluster so we will do this using mini cube and",
    "start": "1173919",
    "end": "1179200"
  },
  {
    "text": "to prepare it properly we need to deploy also a certain specific file system called cvmfs",
    "start": "1179200",
    "end": "1185360"
  },
  {
    "text": "and we deploy this using a helm chart and this allows us to mount specific",
    "start": "1185360",
    "end": "1192400"
  },
  {
    "text": "persistent volumes into the parts that we will be starting and so uh once",
    "start": "1192400",
    "end": "1197919"
  },
  {
    "text": "uh those uh this file systems are installed we will also provide the cluster with a secret that",
    "start": "1197919",
    "end": "1204480"
  },
  {
    "text": "allows it to communicate to the global lhc job queues and",
    "start": "1204480",
    "end": "1210400"
  },
  {
    "text": "okay so this is done and now we will deploy the second cluster which is this monitoring cluster called",
    "start": "1210400",
    "end": "1217679"
  },
  {
    "text": "the harvester and so we will use this time kind to deploy this cluster and so we will wait",
    "start": "1217679",
    "end": "1223520"
  },
  {
    "text": "a second to get this cluster up and running and once this cluster is up and running",
    "start": "1223520",
    "end": "1229360"
  },
  {
    "text": "we will then use helm again to deploy this uh harvester service",
    "start": "1229360",
    "end": "1235760"
  },
  {
    "text": "which monitors the queue the lhc cues for uh work and",
    "start": "1235760",
    "end": "1242159"
  },
  {
    "text": "okay so here we're using a helm to install the",
    "start": "1242159",
    "end": "1248240"
  },
  {
    "text": "service and so once the pods are up and running we're ready to submit some workloads and we'll just",
    "start": "1248240",
    "end": "1254000"
  },
  {
    "text": "wait a second to get the pods up and",
    "start": "1254000",
    "end": "1257760"
  },
  {
    "text": "running okay there we go so at the top then now",
    "start": "1260840",
    "end": "1268320"
  },
  {
    "text": "we use our standard uh user facing job submission uh command line tools to submit a workload",
    "start": "1268320",
    "end": "1275760"
  },
  {
    "text": "into this global queue and our cluster that we just connected to this global federation will pick up this work",
    "start": "1275760",
    "end": "1282240"
  },
  {
    "text": "and perform this work that we requested for us and so we get a new job id and we will",
    "start": "1282240",
    "end": "1288559"
  },
  {
    "text": "actually go to the lrc uh global monitoring page to uh",
    "start": "1288559",
    "end": "1293840"
  },
  {
    "text": "see this new workload that we just submitted and so we can see that the workload has been",
    "start": "1293840",
    "end": "1299280"
  },
  {
    "text": "registered and so since now we have a bit more workload on the queue that we submitted to",
    "start": "1299280",
    "end": "1305360"
  },
  {
    "text": "the monitoring service submitted a bunch of parts in order to satisfy this demand",
    "start": "1305360",
    "end": "1312400"
  },
  {
    "text": "and so we'll see that one of these containers is now um",
    "start": "1312400",
    "end": "1319440"
  },
  {
    "text": "creating and so once it's creating we can peek into the container just to see a little bit of what is going on",
    "start": "1319440",
    "end": "1325360"
  },
  {
    "text": "inside of this workload and okay so now it's up and running and we'll exact into it and we'll peek into",
    "start": "1325360",
    "end": "1333200"
  },
  {
    "text": "a few uh log files as they're coming in and so uh here we see that it's now connecting",
    "start": "1333200",
    "end": "1339679"
  },
  {
    "text": "to the global queue and it's asking for new work and so",
    "start": "1339679",
    "end": "1345039"
  },
  {
    "text": "uh we see that uh fetching some new work and uh once it's gotten its new work our",
    "start": "1345039",
    "end": "1352000"
  },
  {
    "text": "workload will start and so i will just uh pause here for a second uh just to show that uh this workload",
    "start": "1352000",
    "end": "1360400"
  },
  {
    "text": "is requesting its work to be performed in a docker image and so we will need to run basically",
    "start": "1360400",
    "end": "1366000"
  },
  {
    "text": "nested containers so uh here we see that it's requesting a container image",
    "start": "1366000",
    "end": "1371600"
  },
  {
    "text": "uh called atlas slash at s simulation and uh now um actually the workload is",
    "start": "1371600",
    "end": "1379280"
  },
  {
    "text": "running in a singularity container inside of the pod that is running in kubernetes and so in order to uh",
    "start": "1379280",
    "end": "1385600"
  },
  {
    "text": "start this workload we of course need to first pull the image and singularity will do this for us and pull the image for uh from docker",
    "start": "1385600",
    "end": "1392640"
  },
  {
    "text": "hub for us and so we'll just monitor the progress of this software acquisition and",
    "start": "1392640",
    "end": "1401280"
  },
  {
    "text": "uh so here we see it's um pulling and those scientific images are uh usually",
    "start": "1401280",
    "end": "1407360"
  },
  {
    "text": "quite big so uh this particular image is for example uh",
    "start": "1407360",
    "end": "1413600"
  },
  {
    "text": "something like 15 gigabytes so so we'll speed up the video a bit just to uh see that this is pulling",
    "start": "1413600",
    "end": "1419600"
  },
  {
    "text": "correctly and in the meantime in the monitoring hours job status has changed uh from register to running uh just to",
    "start": "1419600",
    "end": "1426400"
  },
  {
    "text": "say uh so to signal that uh actually one part has taken on this",
    "start": "1426400",
    "end": "1432400"
  },
  {
    "text": "workload and is trying to complete it and so okay the docker image is now",
    "start": "1432400",
    "end": "1438400"
  },
  {
    "text": "uh completely pulled and now we can see that singularity is now starting the actual workload and so this is where the",
    "start": "1438400",
    "end": "1444720"
  },
  {
    "text": "physics start and so we can see uh various log files where now we're basically running the",
    "start": "1444720",
    "end": "1451679"
  },
  {
    "text": "simulation job and the workload in question here is basically a simulation of how particles",
    "start": "1451679",
    "end": "1458240"
  },
  {
    "text": "traverse through this particle detector that we've built and so it's basically using a virtual version",
    "start": "1458240",
    "end": "1464000"
  },
  {
    "text": "of this detector that we have coded up in order to simulate what our data that we actually record underground is",
    "start": "1464000",
    "end": "1470480"
  },
  {
    "text": "going to look like and so we can see a various uh physics thing going on and",
    "start": "1470480",
    "end": "1475600"
  },
  {
    "text": "so now the workload is also finished and we can go back to uh the pilot",
    "start": "1475600",
    "end": "1484159"
  },
  {
    "text": "which manages this workload internally in this part and see that the resulting data that this",
    "start": "1484159",
    "end": "1489520"
  },
  {
    "text": "workload produces is going to be staged out again to our global storage",
    "start": "1489520",
    "end": "1495120"
  },
  {
    "text": "infrastructure and okay so now this is all done and we",
    "start": "1495120",
    "end": "1500880"
  },
  {
    "text": "can go back to our uh monitoring to see how our job is uh being reported",
    "start": "1500880",
    "end": "1508480"
  },
  {
    "text": "there and so uh one of the nice things is uh is that this is the actual monitoring",
    "start": "1508480",
    "end": "1515039"
  },
  {
    "text": "page that we use for all our work and we can look at what host actually executed the job and",
    "start": "1515039",
    "end": "1521600"
  },
  {
    "text": "so we are checking the hostname here of our pod and we can see that the",
    "start": "1521600",
    "end": "1527679"
  },
  {
    "text": "it reported the right uh host or report that the cluster that we",
    "start": "1527679",
    "end": "1534320"
  },
  {
    "text": "just deployed uh actually took care of this job and completed this workload",
    "start": "1534320",
    "end": "1539360"
  },
  {
    "text": "and so if you refresh and now the job should also show up as finished and so",
    "start": "1539360",
    "end": "1545600"
  },
  {
    "text": "we see this and we can then look at the log files and here we see basically the same log files",
    "start": "1545600",
    "end": "1551279"
  },
  {
    "text": "that we were just tracing in the pod itself and so if obviously not",
    "start": "1551279",
    "end": "1557279"
  },
  {
    "text": "everybody has access to the clusters but everybody gets basically these trace logs uh",
    "start": "1557279",
    "end": "1562880"
  },
  {
    "text": "at the end of the workload okay so this uh concludes the demo and it's a a very quick version of the",
    "start": "1562880",
    "end": "1569279"
  },
  {
    "text": "infrastructure that we're trying to deploy on the wlcg",
    "start": "1569279",
    "end": "1574559"
  },
  {
    "text": "okay so uh this was the demo and so this basically showed us how we can use cloud native tools like kubernetes and",
    "start": "1576240",
    "end": "1583840"
  },
  {
    "text": "helm charts to very quickly deploy uh you know resources into this global federation",
    "start": "1583840",
    "end": "1590320"
  },
  {
    "text": "that actually run in production so we actually connected these kubernetes clusters that we just created",
    "start": "1590320",
    "end": "1596880"
  },
  {
    "text": "to the global federation and ran a job through all the all of the production system i think uh we're quite excited",
    "start": "1596880",
    "end": "1603679"
  },
  {
    "text": "about this because it shows us what opportunities we can get from cloud native tools to streamline our",
    "start": "1603679",
    "end": "1609760"
  },
  {
    "text": "processes and manages worldwide distributed uh quite heterogeneous resources",
    "start": "1609760",
    "end": "1614960"
  },
  {
    "text": "uh that is uh that are managed by many different institutions and so uh before going to q a we just",
    "start": "1614960",
    "end": "1621279"
  },
  {
    "text": "wanted to acknowledge uh a few uh people that actually did the hard work and put together all of these",
    "start": "1621279",
    "end": "1627279"
  },
  {
    "text": "building blocks that we used in this demo and now we'll go to the q a",
    "start": "1627279",
    "end": "1633519"
  },
  {
    "start": "1632000",
    "end": "2123000"
  },
  {
    "text": "okay hello can you hear us on the q a",
    "start": "1639600",
    "end": "1644880"
  },
  {
    "text": "so we've uh received one question which is from daniel uh who's asking if",
    "start": "1645120",
    "end": "1651840"
  },
  {
    "text": "anybody can run the helm chart that we used in the demo so all of the",
    "start": "1651840",
    "end": "1657840"
  },
  {
    "text": "helm chart and code that we used in the demo is open source but obviously so in the demo we deployed",
    "start": "1657840",
    "end": "1664559"
  },
  {
    "text": "this to production in order to connect to this worldwide federation uh we needed to um have secrets in order",
    "start": "1664559",
    "end": "1672080"
  },
  {
    "text": "to connect to this so it's not like everybody can uh kind of connect to this um without having any proper",
    "start": "1672080",
    "end": "1678880"
  },
  {
    "text": "authentication but the code that we're developing to construct this federation is open",
    "start": "1678880",
    "end": "1684320"
  },
  {
    "text": "source",
    "start": "1684320",
    "end": "1686639"
  },
  {
    "text": "okay so i'll ask for the other one the reach is asking how many sites they",
    "start": "1689679",
    "end": "1696080"
  },
  {
    "text": "participate in this at the moment we have a",
    "start": "1696080",
    "end": "1701840"
  },
  {
    "text": "free universities plus we have started to use google and amazon",
    "start": "1701840",
    "end": "1711039"
  },
  {
    "text": "three universities plus cern of course cern is a main player here",
    "start": "1711039",
    "end": "1720000"
  },
  {
    "text": "yeah maybe to just add to this so um so in total the worldwide lcd computing",
    "start": "1722320",
    "end": "1728399"
  },
  {
    "text": "grid is many more sites but um so we have a handful that are currently deployed in kubernetes and we're hoping to",
    "start": "1728399",
    "end": "1735679"
  },
  {
    "text": "expand as we gain more experience with using kubernetes in this academic context hopefully we'll have a larger fraction",
    "start": "1735679",
    "end": "1742480"
  },
  {
    "text": "of these sites run on kubernetes yeah",
    "start": "1742480",
    "end": "1753840"
  },
  {
    "text": "there's another question so marcus is asking do you have specialized nodes",
    "start": "1759360",
    "end": "1765760"
  },
  {
    "text": "for example gpu nodes for gpu-related workloads um",
    "start": "1765760",
    "end": "1770799"
  },
  {
    "text": "so the answer is uh yes so this is something that we've um especially with the rise of machine",
    "start": "1770799",
    "end": "1776000"
  },
  {
    "text": "learning that we're using in our science are very interested in and so there are various",
    "start": "1776000",
    "end": "1781600"
  },
  {
    "text": "institutions that have gpu resources uh among others uh the manchester site that alessandra",
    "start": "1781600",
    "end": "1787200"
  },
  {
    "text": "is working on and so here uh you know the container paradigm is really fitting",
    "start": "1787200",
    "end": "1793679"
  },
  {
    "text": "well because the software that is used for these machine learning workloads is",
    "start": "1793679",
    "end": "1798799"
  },
  {
    "text": "highly dynamic and so we are relying for example on base images for tensorflow and pytorch or these popular",
    "start": "1798799",
    "end": "1805360"
  },
  {
    "text": "machine learning tools and so we are also experimenting with integrating those with kubernetes and uh for example the",
    "start": "1805360",
    "end": "1813279"
  },
  {
    "text": "advanced scheduling that kubernetes uh kind of allows us will be helpful here but so",
    "start": "1813279",
    "end": "1818880"
  },
  {
    "text": "far we've integrated gpus with the standard batch systems and connected",
    "start": "1818880",
    "end": "1824480"
  },
  {
    "text": "them to the federation but we use containers but it's not yet on",
    "start": "1824480",
    "end": "1831440"
  },
  {
    "text": "kubernetes uh there is a question number five that kevian is asking if we have solutions for my",
    "start": "1834840",
    "end": "1843039"
  },
  {
    "text": "memory topology eternal jn80 uh i knew my uh",
    "start": "1843039",
    "end": "1850720"
  },
  {
    "text": "screen creating some",
    "start": "1862880",
    "end": "1869360"
  },
  {
    "text": "peculiar solutions because you have to in the resources",
    "start": "1870240",
    "end": "1877518"
  },
  {
    "text": "yeah the next question is from uh michael um so how are the kubernetes",
    "start": "1877679",
    "end": "1883919"
  },
  {
    "text": "clusters interconnected or is it more a loose coupling and can those clusters limit the resources available to the",
    "start": "1883919",
    "end": "1891200"
  },
  {
    "text": "g and so the answer is yeah it's a quite uh loose coupling so the nice thing about the workloads that we're mostly",
    "start": "1891200",
    "end": "1897919"
  },
  {
    "text": "interested in is that uh they're embarrassingly parallel so every collision uh that we're analyzing is independent",
    "start": "1897919",
    "end": "1904240"
  },
  {
    "text": "of each other and so we can uh parallel uh embarrassingly parallel uh distributors across the world",
    "start": "1904240",
    "end": "1910880"
  },
  {
    "text": "and so we don't require a very close coupling between the clusters and so this um kind of coordinating service",
    "start": "1910880",
    "end": "1918480"
  },
  {
    "text": "which we call harvester is the one that uh has all the uh q config files and",
    "start": "1918480",
    "end": "1924159"
  },
  {
    "text": "can coordinate and uh you know add clusters and remove clusters again and so it's a quite loose coupling we",
    "start": "1924159",
    "end": "1930720"
  },
  {
    "text": "are um and also the cernit team is experimenting a lot with um federated kubernetes solutions so",
    "start": "1930720",
    "end": "1938240"
  },
  {
    "text": "we've been looking to add more rarely or we're also developing our own federation solutions and",
    "start": "1938240",
    "end": "1944240"
  },
  {
    "text": "we've tried cube fed v1 and v2 and but a lot of that stuff is not",
    "start": "1944240",
    "end": "1951519"
  },
  {
    "text": "really required for the workload that we need for our science and so this type of loose coupling has been",
    "start": "1951519",
    "end": "1957760"
  },
  {
    "text": "quite useful and it's very easy to limit or completely remove a cluster",
    "start": "1957760",
    "end": "1963039"
  },
  {
    "text": "again from this federation by the management infrastructure that we have",
    "start": "1963039",
    "end": "1969600"
  },
  {
    "text": "so there is another question and there is asking if why we run",
    "start": "1972640",
    "end": "1979679"
  },
  {
    "text": "docker images within a pod instead of running directly the workload the reason is",
    "start": "1979679",
    "end": "1987840"
  },
  {
    "text": "that the system that we have in place at the moment is quite complicated uh so we run",
    "start": "1987840",
    "end": "1996320"
  },
  {
    "text": "what i call the pilot which is this cytoscripts and the pilot calls a singularity",
    "start": "1996320",
    "end": "2004720"
  },
  {
    "text": "container rather than a docker container and this is working across",
    "start": "2004720",
    "end": "2012000"
  },
  {
    "text": "all 150 sites and the easiest way for the moment",
    "start": "2012000",
    "end": "2017919"
  },
  {
    "text": "was to simply uh adapt what we have and run it in the pod",
    "start": "2017919",
    "end": "2025039"
  },
  {
    "text": "like a it was a a a virtual machine or a bare metal worker",
    "start": "2025039",
    "end": "2032880"
  },
  {
    "text": "node in the future we hope to split these",
    "start": "2032880",
    "end": "2038720"
  },
  {
    "text": "and to even split what we call a job and the workload in a",
    "start": "2038720",
    "end": "2045600"
  },
  {
    "text": "smaller pods and use kubernetes more natively",
    "start": "2045600",
    "end": "2051599"
  },
  {
    "text": "yeah one technical requirement is that we need to also stage in data and stage out data",
    "start": "2051599",
    "end": "2057679"
  },
  {
    "text": "and so you see this in other operators like tekton task that",
    "start": "2057679",
    "end": "2063040"
  },
  {
    "text": "uh you know you need to be able to run the sequence of pods and which goes a little bit beyond of",
    "start": "2063040",
    "end": "2068560"
  },
  {
    "text": "what initialization containers and kubernetes provide you but before wrapping up i did want to uh",
    "start": "2068560",
    "end": "2074158"
  },
  {
    "text": "answer a person who is asking whether or not the difference in cpus between different",
    "start": "2074159",
    "end": "2079200"
  },
  {
    "text": "clusters uh makes a difference so in the demo we were able to submit a workload and",
    "start": "2079200",
    "end": "2084638"
  },
  {
    "text": "schedule it uh to a specific target cluster so if this makes a difference in our workload um our brokering will take care of it",
    "start": "2084639",
    "end": "2092158"
  },
  {
    "text": "but mostly we don't care and if it takes a little bit longer just because it landed on a cpu that is not as",
    "start": "2092159",
    "end": "2098400"
  },
  {
    "text": "powerful we usually just deal with in a weight and",
    "start": "2098400",
    "end": "2103520"
  },
  {
    "text": "but take the advantage of this global federation instead of focusing on the high performing cpus which might be uh overcrowded um",
    "start": "2103520",
    "end": "2110880"
  },
  {
    "text": "okay so i think we're out of time for the q a um both alessandra and i will be on the slack for the next",
    "start": "2110880",
    "end": "2116320"
  },
  {
    "text": "couple of minutes and are happy to answer any additional questions and okay thank you very much",
    "start": "2116320",
    "end": "2125680"
  }
]