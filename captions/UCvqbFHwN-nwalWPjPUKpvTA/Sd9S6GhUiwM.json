[
  {
    "text": "my name is Radha and today we're gonna have a deep dive into Brigades I'm a software engineer at Microsoft I'm a on",
    "start": "269",
    "end": "7109"
  },
  {
    "text": "open-source maintainer on a bunch of projects Brigade is one of them the cloud native application bundles and",
    "start": "7109",
    "end": "12300"
  },
  {
    "text": "some others I'm a piano enthusiast my neighbors don't like me very much because I'm learning so today we're",
    "start": "12300",
    "end": "19740"
  },
  {
    "text": "gonna have a look at Brigade and specifically we're gonna take a look at a bit of an advanced scripting guide",
    "start": "19740",
    "end": "26359"
  },
  {
    "text": "right how to do things that you wouldn't necessarily be able to do with llam√≥ for",
    "start": "26359",
    "end": "32430"
  },
  {
    "text": "example how Brigade works we look at building custom gateways take a look at",
    "start": "32430",
    "end": "38040"
  },
  {
    "text": "securing Brigade and then a bit of dependencies and strategies for testing",
    "start": "38040",
    "end": "43680"
  },
  {
    "text": "Brigade but before I get started if you haven't seen the introduction to Brigade or if you're not familiar to Brigade I",
    "start": "43680",
    "end": "50640"
  },
  {
    "text": "advise you to have a look when you go back home to the yesterday session the introduction to Brigade but if you are",
    "start": "50640",
    "end": "57030"
  },
  {
    "text": "not familiar we think about an operating system as the thing that manages",
    "start": "57030",
    "end": "63329"
  },
  {
    "text": "processes on a machine right well in the same way we can think at kubernetes as a",
    "start": "63329",
    "end": "68610"
  },
  {
    "text": "thing that manages containers on a cluster right and if you go with the analogy a bit further then if you ever",
    "start": "68610",
    "end": "75960"
  },
  {
    "text": "done operating system shell scripting like bash or PowerShell well that gives",
    "start": "75960",
    "end": "81299"
  },
  {
    "text": "me a flow control that I can wrap the execution of various processes but I'm not a good but it's not opinionated on",
    "start": "81299",
    "end": "87750"
  },
  {
    "text": "what that process does and essentially it allows me to do something like this I can start a process LS take it result in",
    "start": "87750",
    "end": "96390"
  },
  {
    "text": "the output of it do something with it then use it as input for the next process how would something like this",
    "start": "96390",
    "end": "103710"
  },
  {
    "text": "look on kubernetes well I want to do the same thing right I want the float control that wraps the execution of",
    "start": "103710",
    "end": "109770"
  },
  {
    "text": "containers but it's not opinionated about what that container does right so ultimately I'd like to be able to do",
    "start": "109770",
    "end": "116790"
  },
  {
    "text": "something like this to have a scripting programming language and have a scripting environment that allows me to",
    "start": "116790",
    "end": "123119"
  },
  {
    "text": "do that for each result of the executing container use the output and start",
    "start": "123119",
    "end": "129629"
  },
  {
    "text": "another container and use the output with it how do people do that Dejan kubernetes well I've seen batch",
    "start": "129629",
    "end": "136500"
  },
  {
    "text": "scripts in busybox I've seen local batch scripts that do keep control exact then wait for that",
    "start": "136500",
    "end": "143310"
  },
  {
    "text": "then we'll grep and then do a keep control exec again that's not very maintainable and it's not very testable",
    "start": "143310",
    "end": "148860"
  },
  {
    "text": "and I've seen people do things with the ammo that no one should be able to do with the ammo we think that Brigade",
    "start": "148860",
    "end": "156720"
  },
  {
    "text": "might be a fit if you have that trouble if you're struggling with things like that so Brigade is a cloud native",
    "start": "156720",
    "end": "162870"
  },
  {
    "text": "computing foundation sandbox project and essentially it's a framework for",
    "start": "162870",
    "end": "168090"
  },
  {
    "text": "event-driven scripting on top of kubernetes it is really really lightweight and it's built with",
    "start": "168090",
    "end": "173670"
  },
  {
    "text": "kubernetes native objects its purpose in the end is to allow you to chain together multiple containers and respond",
    "start": "173670",
    "end": "181200"
  },
  {
    "text": "to certain events that are happening and create workflows at the end of the day you have a real programming language",
    "start": "181200",
    "end": "187500"
  },
  {
    "text": "with real language features that allow you to that allows you to start pods on kubernetes it allows you to do more",
    "start": "187500",
    "end": "195300"
  },
  {
    "text": "advanced things such as fast storage and I will see that in a minute let's see exactly what I'm talking about right",
    "start": "195300",
    "end": "202400"
  },
  {
    "text": "is that large enough okay so this is the",
    "start": "207180",
    "end": "212349"
  },
  {
    "text": "simplest Brigades cube that you can write and essentially what it does is it",
    "start": "212349",
    "end": "217870"
  },
  {
    "text": "defines a new job called do-nothing it's",
    "start": "217870",
    "end": "223030"
  },
  {
    "text": "gonna pull a container using the image Alpine imagine you can use any container that you have access to pull either from",
    "start": "223030",
    "end": "229420"
  },
  {
    "text": "a Public Registry or from a private internal one it defines the tasks that I",
    "start": "229420",
    "end": "234459"
  },
  {
    "text": "want to run inside that container and I just run it for someone who's never seen",
    "start": "234459",
    "end": "239620"
  },
  {
    "text": "kubernetes before starting job and scheduling things to run on top of kubernetes is as easy as writing a",
    "start": "239620",
    "end": "246129"
  },
  {
    "text": "couple of lines of JavaScript and the goal is to make it as easy as possible for newcomers but at the same time if",
    "start": "246129",
    "end": "253389"
  },
  {
    "text": "you know how to do things in kubernetes well we have real language features so",
    "start": "253389",
    "end": "259209"
  },
  {
    "text": "for example if you want to wait for a container to finish for par and kubernetes to finish before starting a",
    "start": "259209",
    "end": "265150"
  },
  {
    "text": "new one well there's async await in JavaScript that you can use right on top",
    "start": "265150",
    "end": "270820"
  },
  {
    "text": "of that we also have an API called the groups API which essentially you can just define jobs and say I want to run",
    "start": "270820",
    "end": "276669"
  },
  {
    "text": "each of those in order so if we run this thing",
    "start": "276669",
    "end": "281550"
  },
  {
    "text": "so I'm using the Brig Brigade CLI called brig which essentially allows me to",
    "start": "288970",
    "end": "294370"
  },
  {
    "text": "start the execution flows manually we'll see in a minute how it's supposed to work and how you're supposed to react to",
    "start": "294370",
    "end": "300400"
  },
  {
    "text": "actual real events but essentially I am executive starting up the scheduling of that script and at this point what we",
    "start": "300400",
    "end": "308080"
  },
  {
    "text": "can do is we can use the web dashboard of Brigade and see that up a build is",
    "start": "308080",
    "end": "317890"
  },
  {
    "text": "started and essentially I go to that and I can see the two jobs that started if",
    "start": "317890",
    "end": "324400"
  },
  {
    "text": "you're not that interested in web dashboards we also have a CLI dashboard",
    "start": "324400",
    "end": "331020"
  },
  {
    "text": "so here's the latest thing that started and I can see exactly that I awaited it",
    "start": "331440",
    "end": "338740"
  },
  {
    "text": "for the first job to finish and then I started the second one and from the same dashboard I can see the jobs of what of",
    "start": "338740",
    "end": "344620"
  },
  {
    "text": "whatever ran inside right now there are other things that I could do with",
    "start": "344620",
    "end": "349750"
  },
  {
    "text": "Brigade if you ever try to attach a persistent volume to multiple containers in a coherent flow and that's a bit",
    "start": "349750",
    "end": "357460"
  },
  {
    "text": "difficult right in Brigade you can define that storage enabled equals true and Brigade will automatically create a",
    "start": "357460",
    "end": "363669"
  },
  {
    "text": "persistent volume and attach it to all jobs in a certain script right then we",
    "start": "363669",
    "end": "368710"
  },
  {
    "text": "do that for you so what this does the first job will write in a shared file",
    "start": "368710",
    "end": "374140"
  },
  {
    "text": "the second one would write as well and then the third one will display whatever",
    "start": "374140",
    "end": "379470"
  },
  {
    "text": "however happened after the execution of those two so I can do something like",
    "start": "379470",
    "end": "386560"
  },
  {
    "text": "this and see that the build is running what's",
    "start": "386560",
    "end": "395590"
  },
  {
    "text": "happening right now brigade is creating the persistent volume it's waiting for that to be created it's gonna attach it",
    "start": "395590",
    "end": "401229"
  },
  {
    "text": "to each of the job that's jobs that are running for the first one it succeeded",
    "start": "401229",
    "end": "409180"
  },
  {
    "text": "it just wrote on a file right they didn't do anything else other than that I can go to Brigade term and the third",
    "start": "409180",
    "end": "418419"
  },
  {
    "text": "job I can see the output of all of the contained all of the jobs that I attach to the persistent vol 2 because Brigade",
    "start": "418419",
    "end": "430900"
  },
  {
    "text": "is built on kubernetes and understands kubernetes objects attaching a secret something that's prevalent usually in",
    "start": "430900",
    "end": "438219"
  },
  {
    "text": "any non-trivial example I'm going to need to talk to a database or talk to a storage account I'm going to need credentials and secrets right it's as",
    "start": "438219",
    "end": "446289"
  },
  {
    "text": "simple as referencing a secret in in the environment right you should not do that",
    "start": "446289",
    "end": "452199"
  },
  {
    "text": "probably echo secrets right but Brigade allows you to do if you're a if you're",
    "start": "452199",
    "end": "457210"
  },
  {
    "text": "an administrator of a brigade installation you can prevent that from happening right you can set that for all",
    "start": "457210",
    "end": "463779"
  },
  {
    "text": "of the jobs that are running no one can mount secrets rather in Brigade gives you that ability because it's a",
    "start": "463779",
    "end": "470620"
  },
  {
    "text": "programming language you can have something like try catch retry policies you can catch exceptions and recover",
    "start": "470620",
    "end": "476740"
  },
  {
    "text": "from failures what this job is going to do is going to start the first one and it's gonna exit successfully but the",
    "start": "476740",
    "end": "483009"
  },
  {
    "text": "second one is going to exit with an exit code one which is failure right I can do a try and try to run those and in case",
    "start": "483009",
    "end": "490719"
  },
  {
    "text": "of an exception lock the exception and then maybe do some cleanup let's see that in action",
    "start": "490719",
    "end": "497849"
  },
  {
    "text": "I kicked off the script and if I go back",
    "start": "506749",
    "end": "512268"
  },
  {
    "text": "to the CLI dashboard I can see the first one which was successful and I can see",
    "start": "512269",
    "end": "519110"
  },
  {
    "text": "the second one failed right let's go back to the web dashboard and see that we actually recovered from that failure",
    "start": "519110",
    "end": "526459"
  },
  {
    "text": "we can see that the pod fails right the second job failed but I caught the",
    "start": "526459",
    "end": "532129"
  },
  {
    "text": "exception and at this point I can do anything I want I can do a cleanup process I can retry if I wanted to",
    "start": "532129",
    "end": "540910"
  },
  {
    "text": "another thing that you can do is define based jobs if someone in your company is",
    "start": "541329",
    "end": "547220"
  },
  {
    "text": "responsible for building this they have to understand how they're supposed to build it and then other people can just",
    "start": "547220",
    "end": "552889"
  },
  {
    "text": "use it can instantiate it with new job and that's it it's gonna run whatever it was declared to do but how does Brigade",
    "start": "552889",
    "end": "564949"
  },
  {
    "text": "actually work right I said in the beginning that it's an event-driven scripting environment for kubernetes",
    "start": "564949",
    "end": "571069"
  },
  {
    "text": "right the events have to come from somewhere right whenever there's an event triggered outside of a brigade",
    "start": "571069",
    "end": "577540"
  },
  {
    "text": "they can be webhooks they can be any event source that you might want to",
    "start": "577540",
    "end": "582559"
  },
  {
    "text": "respond to and we'll see in a minute what is that there's an event there's a component in Brigade called the Gateway",
    "start": "582559",
    "end": "589269"
  },
  {
    "text": "which will map the external events to a brigade event and then your JavaScript",
    "start": "589269",
    "end": "594350"
  },
  {
    "text": "file will get executed and kubernetes pods will get started specifically the gateways there is a",
    "start": "594350",
    "end": "600259"
  },
  {
    "text": "component that translate the events after the event arrived and it was transformed by a gateway there's a",
    "start": "600259",
    "end": "606829"
  },
  {
    "text": "kubernetes controller that listens for those events and then it will start a pod to exit with your javascript file at",
    "start": "606829",
    "end": "613370"
  },
  {
    "text": "that point executing the javascript file will create kubernetes pods that the",
    "start": "613370",
    "end": "619129"
  },
  {
    "text": "java sea follow manages and schedules and on top of that there's an api that you saw with the web dashboard in the",
    "start": "619129",
    "end": "625579"
  },
  {
    "text": "CLI so essentially this is how it runs where the events come from well",
    "start": "625579",
    "end": "632329"
  },
  {
    "text": "out-of-the-box brigade comes with a couple of gateways things that understand the outside world there's a",
    "start": "632329",
    "end": "638329"
  },
  {
    "text": "generic gateway that understand any arbitrary payload Jason payload that you might have if you have a system that",
    "start": "638329",
    "end": "644210"
  },
  {
    "text": "generates Jason you have an out-of-the-box thing that can map to brigade events the same gateway also",
    "start": "644210",
    "end": "651470"
  },
  {
    "text": "supports cloud events which is a CNCs specification for standardizing JSON",
    "start": "651470",
    "end": "657410"
  },
  {
    "text": "schema payloads all cloud support cloud providers support it we support it as well so if you have up for example a",
    "start": "657410",
    "end": "663950"
  },
  {
    "text": "storage bucket that generates an event you can catch it with brigade out of the box these events they can come from web",
    "start": "663950",
    "end": "672410"
  },
  {
    "text": "hooks from HTTP triggers but ultimately any application that can create a",
    "start": "672410",
    "end": "677720"
  },
  {
    "text": "kubernetes secrets can create brigade events ultimately brigade events are",
    "start": "677720",
    "end": "683870"
  },
  {
    "text": "just kubernetes secrets with a special label and a type right we do that for a number of reasons I'm gonna get into it",
    "start": "683870",
    "end": "690040"
  },
  {
    "text": "but you have examples all of our production gateways are built with go we",
    "start": "690040",
    "end": "695120"
  },
  {
    "text": "have examples on how to do it with no js' you can do it in bash by creating a secret right and we have examples for",
    "start": "695120",
    "end": "701270"
  },
  {
    "text": "Python as well if for example you want to respond to I don't know a Kafka event well there's a Python gateway that does",
    "start": "701270",
    "end": "709550"
  },
  {
    "text": "that for you all you have to do is be close to the source of the event catch that event from the outside and be able",
    "start": "709550",
    "end": "715820"
  },
  {
    "text": "to create a kubernetes secrets and that's it so let's see how a custom gateway actually looks like so I told",
    "start": "715820",
    "end": "725270"
  },
  {
    "text": "you that you can write anything you want even a bash script that creates a an event ultimately it's just the secret",
    "start": "725270",
    "end": "733190"
  },
  {
    "text": "right with a couple of labels and tie and types right if you can create a kubernetes secret with that then Brigade",
    "start": "733190",
    "end": "740300"
  },
  {
    "text": "is gonna understand that the controller will pick it up and will will start executing your script but let's have",
    "start": "740300",
    "end": "745910"
  },
  {
    "text": "something a bit more testable that we can reason about right we have a getting started for gateways written in nodejs",
    "start": "745910",
    "end": "751910"
  },
  {
    "text": "and essentially what this does is it waits for a post requests and whatever",
    "start": "751910",
    "end": "757520"
  },
  {
    "text": "one comes with a project name it will create a brigade event and very similar",
    "start": "757520",
    "end": "764120"
  },
  {
    "text": "to what you see in the batch script the brigade the creation of the brigade event itself it's just the kubernetes",
    "start": "764120",
    "end": "771950"
  },
  {
    "text": "create a namespace secrets right it's the same thing if you can even manage to create this in any",
    "start": "771950",
    "end": "777830"
  },
  {
    "text": "language then you have a gateway you saw me earlier using Brig the CLI for Brigade brig acts like a gateway i just",
    "start": "777830",
    "end": "784880"
  },
  {
    "text": "simulate events on my command line Brigade catches those and starts whatever a script I I defined so",
    "start": "784880",
    "end": "791960"
  },
  {
    "text": "essentially if I start this web application and it started on port 8080",
    "start": "791960",
    "end": "797960"
  },
  {
    "text": "I can do something like a curl with a post my my event was accepted and I can",
    "start": "797960",
    "end": "806030"
  },
  {
    "text": "go back to the CLI and I can see that",
    "start": "806030",
    "end": "814070"
  },
  {
    "text": "two seconds ago an event was created with the name node gateway that was the source of the event so whatever",
    "start": "814070",
    "end": "821140"
  },
  {
    "text": "application you have that connects to outside events like external things if you can create a kubernetes secret to",
    "start": "821140",
    "end": "827930"
  },
  {
    "text": "map it inside plus the cluster brigade will pick it up",
    "start": "827930",
    "end": "832570"
  },
  {
    "text": "now let's talk a bit about how to secure a brigade environment right ultimately brigade is built on top of kubernetes",
    "start": "837820",
    "end": "844960"
  },
  {
    "text": "it's a kubernetes application it's built with a controller which is a component there's an API and there are a worker",
    "start": "844960",
    "end": "851530"
  },
  {
    "text": "pods that get created right to schedule your jobs the things that you want to execute well because it's a kubernetes",
    "start": "851530",
    "end": "857530"
  },
  {
    "text": "application you treat it just like any other kubernetes application right our recommendation is to isolate brigade in",
    "start": "857530",
    "end": "863680"
  },
  {
    "text": "a single namespace we can talk about the reasons if you want to ideally you want to use our back roles ways access",
    "start": "863680",
    "end": "870310"
  },
  {
    "text": "control it's enabled by default and you should probably use it if you have external gateways that accept events",
    "start": "870310",
    "end": "877210"
  },
  {
    "text": "from the outside always use HTTPS we have a documentation with a tutorial on",
    "start": "877210",
    "end": "882550"
  },
  {
    "text": "how to use certain manager nginx ingress controller and how to configure DNS using clouds there so you can swap any",
    "start": "882550",
    "end": "890260"
  },
  {
    "text": "of those components out with your own and you can still you can still do it a really important point Brigade allows",
    "start": "890260",
    "end": "897070"
  },
  {
    "text": "you to start container jobs right they allow you to pull a container image from your container registry or from the",
    "start": "897070",
    "end": "903010"
  },
  {
    "text": "outside and started in your cluster always use images that you trust they",
    "start": "903010",
    "end": "909250"
  },
  {
    "text": "will start in your cluster right you don't want to use things that might have vulnerabilities in them that can exploit",
    "start": "909250",
    "end": "914650"
  },
  {
    "text": "things in your cluster and another really really important point always",
    "start": "914650",
    "end": "919690"
  },
  {
    "text": "validate user input and always authenticate events here's the scenario",
    "start": "919690",
    "end": "926530"
  },
  {
    "text": "right you have an external gateway that creates Brigade events the brigade event",
    "start": "926530",
    "end": "932170"
  },
  {
    "text": "gets picked up by the controller and then starts the things that you want to execute starts multiple workloads on",
    "start": "932170",
    "end": "937870"
  },
  {
    "text": "kubernetes if someone finds out your endpoint they might be able to start a",
    "start": "937870",
    "end": "943900"
  },
  {
    "text": "lot of things in your cluster right always authenticate that the source of the event the sort of the event that saw",
    "start": "943900",
    "end": "950200"
  },
  {
    "text": "the web hook or whatever type of system you have for the event is authenticated to do that use a secret user",
    "start": "950200",
    "end": "956230"
  },
  {
    "text": "authentication tokens we have examples of how to do that as well now because we",
    "start": "956230",
    "end": "961510"
  },
  {
    "text": "grade is actually running in a JavaScript environment you've control the flow using javascript and because",
    "start": "961510",
    "end": "968980"
  },
  {
    "text": "you're able to show you how to tree a specific class of job that is already",
    "start": "968980",
    "end": "974620"
  },
  {
    "text": "defined by someone you can just start it well you can use dependencies in your Brigade JS file you can import",
    "start": "974620",
    "end": "980770"
  },
  {
    "text": "JavaScript modules either locally that someone that from the same repo that are defined or you can pull packages from",
    "start": "980770",
    "end": "987700"
  },
  {
    "text": "NPM or any any registry actually right if the thing to note here is that those",
    "start": "987700",
    "end": "996310"
  },
  {
    "text": "are pulled every time you have an execution if though if the thing takes a long time or you know that you're gonna",
    "start": "996310",
    "end": "1002430"
  },
  {
    "text": "use the event a lot you might want to consider building and building that package directly into the image so they",
    "start": "1002430",
    "end": "1008880"
  },
  {
    "text": "don't pull it every time important here is you should avoid putting too much",
    "start": "1008880",
    "end": "1014100"
  },
  {
    "text": "logic in bridge ajs its purpose in the end is to control the flow and start",
    "start": "1014100",
    "end": "1019890"
  },
  {
    "text": "things working on your cluster when possible start the jobs with a custom",
    "start": "1019890",
    "end": "1026069"
  },
  {
    "text": "logic inside kubernetes jobs and let's see how abrogate pipe and abrogate",
    "start": "1026070",
    "end": "1032339"
  },
  {
    "text": "script with external dependencies looks like",
    "start": "1032339",
    "end": "1036559"
  },
  {
    "text": "this is my Brigade J s file I require Brigadier which is the library that defines job and group and things that",
    "start": "1041930",
    "end": "1048590"
  },
  {
    "text": "allow me to start Brigade jobs but I also require something called is",
    "start": "1048590",
    "end": "1053810"
  },
  {
    "text": "thirteen which is a very useful NPM package that checked is enum if a number",
    "start": "1053810",
    "end": "1059150"
  },
  {
    "text": "is 13 it's a really useful package and then I also require something that's",
    "start": "1059150",
    "end": "1064610"
  },
  {
    "text": "local it's dot local depth circle and if I go there I can see there's a very simple node.js module which exports two",
    "start": "1064610",
    "end": "1072320"
  },
  {
    "text": "simple files right that do something that calculate the area where did I",
    "start": "1072320",
    "end": "1079010"
  },
  {
    "text": "define is 13 well there's a brigade adjacent file which has a field for dependencies if this is present in your",
    "start": "1079010",
    "end": "1086450"
  },
  {
    "text": "project whenever there's a build scheduled Brigade will read the script",
    "start": "1086450",
    "end": "1091490"
  },
  {
    "text": "and will install the package that you define here right there's also strategies if you want to connect to private registries and",
    "start": "1091490",
    "end": "1099980"
  },
  {
    "text": "there's an open issue for that with detail steps on how to do it so let's actually run this and see what's",
    "start": "1099980",
    "end": "1105620"
  },
  {
    "text": "happening",
    "start": "1105620",
    "end": "1108100"
  },
  {
    "text": "I started the event and if I go to the web dashboard I see the event is running it started a",
    "start": "1131250",
    "end": "1140670"
  },
  {
    "text": "few seconds ago brigade detected that I had the dependency it pulled the",
    "start": "1140670",
    "end": "1146610"
  },
  {
    "text": "dependency from NPM it started it and then it executed the script which",
    "start": "1146610",
    "end": "1152460"
  },
  {
    "text": "actually used both of those things it used the event it used the package from NPM and it also used my local thing",
    "start": "1152460",
    "end": "1159570"
  },
  {
    "text": "again avoid putting too much logic in your Brigade j/s when possible always upload that to to kubernetes pods now",
    "start": "1159570",
    "end": "1171690"
  },
  {
    "text": "one thing that's always better to have than Natsu is to actually test the",
    "start": "1171690",
    "end": "1177450"
  },
  {
    "text": "things that are into your system right because Brigade is written on with JavaScript you can actually unit test",
    "start": "1177450",
    "end": "1183990"
  },
  {
    "text": "the scripts that you that you provide there's a project called grig test its",
    "start": "1183990",
    "end": "1189240"
  },
  {
    "text": "purpose is to check that big ajs first of all is well built that it doesn't have syntax errors that it uses the",
    "start": "1189240",
    "end": "1196350"
  },
  {
    "text": "actual things that are defined in in your environment and also automatic eyes it gives the unit tests for you it does",
    "start": "1196350",
    "end": "1202920"
  },
  {
    "text": "not run the things that you define to schedule on the cluster you can mock them and it does not need kubernetes for",
    "start": "1202920",
    "end": "1208560"
  },
  {
    "text": "that there's also a tool called Brigade integration test that someone from the community builds essentially it uses",
    "start": "1208560",
    "end": "1215370"
  },
  {
    "text": "mini cube it automatically configures brigade it creates the project it creates events and checks that the",
    "start": "1215370",
    "end": "1222600"
  },
  {
    "text": "output of the event is actually what you intended it's using I think bats the bash testing framework and essentially",
    "start": "1222600",
    "end": "1229530"
  },
  {
    "text": "it allows you to functionally test everything that's happening in your pipeline we have built-in support for",
    "start": "1229530",
    "end": "1236730"
  },
  {
    "text": "the CN CF cloud event specification to define events we have integration with",
    "start": "1236730",
    "end": "1242340"
  },
  {
    "text": "the github API we actually use Brigade quite extensively for our own development purposes this is this is",
    "start": "1242340",
    "end": "1249720"
  },
  {
    "text": "running in github right this is the brigade repo for every pull request there are builds the pull request is an",
    "start": "1249720",
    "end": "1256530"
  },
  {
    "text": "event for us right we kick off a build that's happening in our cluster in our",
    "start": "1256530",
    "end": "1261570"
  },
  {
    "text": "subscription that we manage it's not in a public class or it can be public cloud can be in a private cloud",
    "start": "1261570",
    "end": "1266620"
  },
  {
    "text": "in your own local environment it runs this the jobs and then it posts the logs",
    "start": "1266620",
    "end": "1272380"
  },
  {
    "text": "back to github so that anyone can actually see the things that are running if the thing that you're trying to",
    "start": "1272380",
    "end": "1277540"
  },
  {
    "text": "integrate with supports this you can do it with anything and we we did it with github because well we use github",
    "start": "1277540",
    "end": "1286200"
  },
  {
    "text": "we also have integrations with Prometheus and virtual cubelet both of them are CNC F projects and the fear",
    "start": "1290780",
    "end": "1297800"
  },
  {
    "text": "system generates arbitrary payload of JSON you can catch that as well there",
    "start": "1297800",
    "end": "1303260"
  },
  {
    "text": "are a lot of tools that I've shown you actually the web dashboard the CLI dashboard I've shown you a few gateways",
    "start": "1303260",
    "end": "1310130"
  },
  {
    "text": "most of them are built by the community with us if you want to contribute your own we're happy to help you get started",
    "start": "1310130",
    "end": "1316660"
  },
  {
    "text": "we can find the docs on Docs that we gave out SH and this is the moment where I get a shout out to Ronan from our team",
    "start": "1316660",
    "end": "1323570"
  },
  {
    "text": "who builds awesome documentation websites if you want to contribute we",
    "start": "1323570",
    "end": "1328730"
  },
  {
    "text": "have a couple of layers labeled good first issue we'll be more than happy to help you get started with the",
    "start": "1328730",
    "end": "1333830"
  },
  {
    "text": "development environment and after you contribute things and we actually want you to get involved right we have a",
    "start": "1333830",
    "end": "1339950"
  },
  {
    "text": "brigade channel in this kubernetes Lac we have a biweekly community meetings at Tuesday at 6 p.m. Central European which",
    "start": "1339950",
    "end": "1347870"
  },
  {
    "text": "is this time zone and you can find the repo on brigade core Brigade questions",
    "start": "1347870",
    "end": "1355300"
  },
  {
    "text": "all right so just really quick how big is the footprint of Brigade within the",
    "start": "1361500",
    "end": "1367049"
  },
  {
    "text": "cluster so within the cluster specifically Brigade has technically it",
    "start": "1367049",
    "end": "1374429"
  },
  {
    "text": "has only one component that needs to run all the time which is the controller that listens for events and that's the",
    "start": "1374429",
    "end": "1381299"
  },
  {
    "text": "only thing that needs to be running you probably also need another part to actually generate the events but other",
    "start": "1381299",
    "end": "1387270"
  },
  {
    "text": "than there are two parts right the moment the events is generated the controller creates the worker pod which",
    "start": "1387270",
    "end": "1393360"
  },
  {
    "text": "executes your JavaScript scripts and that generates another kubernetes parts other community spots so essentially",
    "start": "1393360",
    "end": "1399809"
  },
  {
    "text": "there are two pods that are required and then optionally you have the API to have web dashboards and things like that",
    "start": "1399809",
    "end": "1406070"
  },
  {
    "text": "specifically three pods are running in your cluster okay and the secrets that get created as tasks basically do they",
    "start": "1406070",
    "end": "1412679"
  },
  {
    "text": "get removed after the execution we have a vacuum that runs every hour and you",
    "start": "1412679",
    "end": "1418890"
  },
  {
    "text": "can choose to delete those as well there are companies there are scenarios where you one have those there are scenario",
    "start": "1418890",
    "end": "1425100"
  },
  {
    "text": "where it zones you can delete the pods that were created and read the secrets it's up to you",
    "start": "1425100",
    "end": "1431570"
  },
  {
    "text": "yeah I wanted to know if how would you compare this to care native and why",
    "start": "1439730",
    "end": "1445040"
  },
  {
    "text": "would you choose one over the other okay the quote is unlike the comparison with",
    "start": "1445040",
    "end": "1451970"
  },
  {
    "text": "Kay native there's also comparison with Argo that usually comes up essentially the minute you want to actually execute",
    "start": "1451970",
    "end": "1460100"
  },
  {
    "text": "things and the minute you're not only declarative the minute you'd have to execute something check the status pass",
    "start": "1460100",
    "end": "1467180"
  },
  {
    "text": "information between multiple pods recovery retry policies try catch you",
    "start": "1467180",
    "end": "1473120"
  },
  {
    "text": "need a real programming language right if you need that then probably Brigade is the right thing I've seen people do",
    "start": "1473120",
    "end": "1478520"
  },
  {
    "text": "things with llamo there are insane if you want something that's testable and",
    "start": "1478520",
    "end": "1483740"
  },
  {
    "text": "maintainable maybe have a look at brigade",
    "start": "1483740",
    "end": "1487540"
  },
  {
    "text": "thank you",
    "start": "1492210",
    "end": "1495018"
  },
  {
    "text": "so do you have any tooling to replay events if you have a pipe if you have",
    "start": "1499460",
    "end": "1505250"
  },
  {
    "text": "pipelining with long-running jobs that take maybe 20 minutes half an hour or something like that and then somewhere",
    "start": "1505250",
    "end": "1510950"
  },
  {
    "text": "in the middle it fails I don't want to redo everything we have an open issue for that and we've been discussing it",
    "start": "1510950",
    "end": "1516620"
  },
  {
    "text": "for a couple of months now it's not implemented we'd love to see the scenario and the requirements for that",
    "start": "1516620",
    "end": "1522920"
  },
  {
    "text": "we're actively looking into it and can you speak a little bit more about this choice between declarative and",
    "start": "1522920",
    "end": "1528470"
  },
  {
    "text": "imperative figures so it's true that you can add like error handling and retry some suffered some part of this",
    "start": "1528470",
    "end": "1535070"
  },
  {
    "text": "declarative approach has been at the controller or handle set and not the user so now the user needs to add this",
    "start": "1535070",
    "end": "1541820"
  },
  {
    "text": "logic to what the retry should be and it's not ultimately if the person",
    "start": "1541820",
    "end": "1550100"
  },
  {
    "text": "running the the workload the workload that's the person who ultimately knows the retry policies and what's the",
    "start": "1550100",
    "end": "1556040"
  },
  {
    "text": "cleanup for that thing right that's that the approach that we're trying to take so it's just using the coolest jobs API",
    "start": "1556040",
    "end": "1563930"
  },
  {
    "text": "or our schedule reports directly scheduling directly pods okay so jobs have so we have a weird relationship with sidecars and other things ideally",
    "start": "1563930",
    "end": "1573170"
  },
  {
    "text": "if we change it at some point to kubernetes jobs it should be completely transparent to the end-users okay thank",
    "start": "1573170",
    "end": "1579260"
  },
  {
    "text": "you and to speak a little bit more about the declarative approach there's",
    "start": "1579260",
    "end": "1585410"
  },
  {
    "text": "actually I guess three projects now which I'll their goal is to provide a",
    "start": "1585410",
    "end": "1590960"
  },
  {
    "text": "declarative API on top of brigades so essentially you can write your own Brigade worker that's the thing that",
    "start": "1590960",
    "end": "1597620"
  },
  {
    "text": "knows what to execute there are people who are reading llamo in the brigade worker and they have their custom",
    "start": "1597620",
    "end": "1602960"
  },
  {
    "text": "definition I have their if there's a project that does a CR D for Brigade events and they define the job as a CR D",
    "start": "1602960",
    "end": "1610210"
  },
  {
    "text": "it's up to you ultimately just one follow up so can you also compare to like things like ballerina or Apple ooh",
    "start": "1610210",
    "end": "1616910"
  },
  {
    "text": "me and these types of projects that's an interesting one it's ultimately Pulu me",
    "start": "1616910",
    "end": "1625720"
  },
  {
    "text": "for example its goal is to declare cloud resources regardless of what environment",
    "start": "1625720",
    "end": "1633040"
  },
  {
    "text": "they're running in right brigade running Brigade scripts its purpose on communities only that's probably one of",
    "start": "1633040",
    "end": "1639910"
  },
  {
    "text": "the biggest differences so you say just",
    "start": "1639910",
    "end": "1646870"
  },
  {
    "text": "you have some kind of complicated relationship with site cars so to you supports BOTS or chops with side cars",
    "start": "1646870",
    "end": "1653920"
  },
  {
    "text": "that would like you have a have a vault manager sidecar I'll post credentials for a job and then there is a",
    "start": "1653920",
    "end": "1659800"
  },
  {
    "text": "long-running cycle actually but needs to terminate with the main job something like that so the short answer for that",
    "start": "1659800",
    "end": "1666550"
  },
  {
    "text": "is no the long answer is we have an init container for jobs that you can create",
    "start": "1666550",
    "end": "1672670"
  },
  {
    "text": "that can define ok and we do not have a sidecar exactly because which you in",
    "start": "1672670",
    "end": "1679780"
  },
  {
    "text": "kubernetes if you have a sidecar you have two containers in a pod you cannot define which one gives the",
    "start": "1679780",
    "end": "1685240"
  },
  {
    "text": "life cycle of the pods right it's that's our current problem we were thinking about it but ultimately it would give us",
    "start": "1685240",
    "end": "1691240"
  },
  {
    "text": "the option to probably specify that this container is the main one it if the user",
    "start": "1691240",
    "end": "1697540"
  },
  {
    "text": "doesn't automatically kill the other then you have a thing that's running forever right",
    "start": "1697540",
    "end": "1703120"
  },
  {
    "text": "we try to avoid allowing users to shoot themselves in the foot feel free to comment on the issue it we've have a lot",
    "start": "1703120",
    "end": "1710050"
  },
  {
    "text": "of discussion specifically for this we'd love to have examples in use cases specifically for it thank you",
    "start": "1710050",
    "end": "1718680"
  },
  {
    "text": "Ivan",
    "start": "1722509",
    "end": "1725169"
  },
  {
    "text": "so I'm just wondering about the availability of the basically being able",
    "start": "1730620",
    "end": "1737710"
  },
  {
    "text": "to accesses to create a storage drive so I'm missing the name of the kubernetes",
    "start": "1737710",
    "end": "1743380"
  },
  {
    "text": "api which you basically call for that but basically being able to instantiate",
    "start": "1743380",
    "end": "1748750"
  },
  {
    "text": "different objects of the cloud provider be the hard drive for anything yeah",
    "start": "1748750",
    "end": "1754809"
  },
  {
    "text": "would that be possible with brigade to instantiate and outside of kubernetes",
    "start": "1754809",
    "end": "1761590"
  },
  {
    "text": "yes correct and then bind the two node probably or something not so technically in a in a brigade job you can execute",
    "start": "1761590",
    "end": "1768580"
  },
  {
    "text": "any container right if you have the it",
    "start": "1768580",
    "end": "1773740"
  },
  {
    "text": "doesn't use directly the well that's an interesting question because you could do that as well so no js' has a",
    "start": "1773740",
    "end": "1780820"
  },
  {
    "text": "kubernetes client so technically in the brigade JS file you can use the kubernetes api to do anything you you",
    "start": "1780820",
    "end": "1788679"
  },
  {
    "text": "need to so you can access any API in the brigade javascript file if you don't want to use the api you can use the",
    "start": "1788679",
    "end": "1794590"
  },
  {
    "text": "container that has cube control and because you're in the cluster during the same cluster as the job you're running",
    "start": "1794590",
    "end": "1801309"
  },
  {
    "text": "on you can also pass a cube config to access outside clusters so you have the",
    "start": "1801309",
    "end": "1806919"
  },
  {
    "text": "option there does that answer your question yes thank you",
    "start": "1806919",
    "end": "1811950"
  },
  {
    "text": "um quick question I'm I'm still having trouble imagining use cases for this so",
    "start": "1822659",
    "end": "1829169"
  },
  {
    "text": "I think the the persistent volume use case you you mentioned is a good one do you have maybe like three or four others",
    "start": "1829169",
    "end": "1835859"
  },
  {
    "text": "so probably the first one that when people hear Oh pipeline and scripting",
    "start": "1835859",
    "end": "1841019"
  },
  {
    "text": "the first one is CI CD right that's the first one that comes into mind and we actually use it extensively for CI CD",
    "start": "1841019",
    "end": "1847080"
  },
  {
    "text": "it's also a poke it's also a foundation for other CI CD platforms I know",
    "start": "1847080",
    "end": "1853409"
  },
  {
    "text": "personally about least three platforms that are building CIS on top of rig 8 another one is there are security jobs",
    "start": "1853409",
    "end": "1861570"
  },
  {
    "text": "security scanning jobs running every night inside clusters they scan every",
    "start": "1861570",
    "end": "1866789"
  },
  {
    "text": "application with every container image and they do that they do retry policies if there's security is there critical",
    "start": "1866789",
    "end": "1873570"
  },
  {
    "text": "security vulnerabilities they send an email to someone right you have the ability to do that other one it which is",
    "start": "1873570",
    "end": "1879899"
  },
  {
    "text": "really interesting is aggregating data from multiple sources so they have scheduled jobs that connect to a storage",
    "start": "1879899",
    "end": "1887429"
  },
  {
    "text": "accounting Cloud a to a storage bucket in cloud B and to a local my sequel running somewhere they aggregate the",
    "start": "1887429",
    "end": "1893970"
  },
  {
    "text": "data and generate reports another one which is really interesting is as part",
    "start": "1893970",
    "end": "1899039"
  },
  {
    "text": "of the CI process the spin preview environments so essentially you build the application create a separate",
    "start": "1899039",
    "end": "1905940"
  },
  {
    "text": "namespace for it deploy everything maybe use a service mesh to start directing",
    "start": "1905940",
    "end": "1911309"
  },
  {
    "text": "traffic as a canary maybe not if you don't have one have someone actually validate that the namespace and",
    "start": "1911309",
    "end": "1917129"
  },
  {
    "text": "application is running correctly and then simply delete it in the end those are some that we see recurrently there",
    "start": "1917129",
    "end": "1923700"
  },
  {
    "text": "are other really interesting ones there's someone who's running eight-hour jobs on top of brigades they're running",
    "start": "1923700",
    "end": "1929820"
  },
  {
    "text": "nightly there are various use cases the reason why I always try to explain the scripting analogy is that's exactly what",
    "start": "1929820",
    "end": "1937799"
  },
  {
    "text": "it is people usually put it in a box o CI CD or o something else right usually",
    "start": "1937799",
    "end": "1944279"
  },
  {
    "text": "there are a lot of use cases that you can have for brigade",
    "start": "1944279",
    "end": "1948440"
  },
  {
    "text": "I had a question about racing so if you could just speak up please yeah I had a",
    "start": "1950480",
    "end": "1957409"
  },
  {
    "text": "question about racing so these are asynchronous jobs right so if you want",
    "start": "1957409",
    "end": "1963289"
  },
  {
    "text": "to incorporate racing in these brigade jobs what what are the recommendations",
    "start": "1963289",
    "end": "1968539"
  },
  {
    "text": "to do that so specifically there's an integration with Prometheus to export metrics and everything that Prometheus",
    "start": "1968539",
    "end": "1975230"
  },
  {
    "text": "offers and right now we're looking into",
    "start": "1975230",
    "end": "1980259"
  },
  {
    "text": "essentially if you if there's a way that you observe your applications on",
    "start": "1980259",
    "end": "1985279"
  },
  {
    "text": "kubernetes right now because everything in Brigade is a kubernetes pod deployment or PVC or storage or anything",
    "start": "1985279",
    "end": "1993379"
  },
  {
    "text": "else that experien it is native you can keep using that right if you if you have",
    "start": "1993379",
    "end": "1999409"
  },
  {
    "text": "you add some annotations that you put on resources so that they're observed and you can continue to do that we're",
    "start": "1999409",
    "end": "2005649"
  },
  {
    "text": "actively looking into adding documentation for things like linker deep meshing right for Brigade job so",
    "start": "2005649",
    "end": "2011019"
  },
  {
    "text": "you can see when they started you can observe them the same way as other applications",
    "start": "2011019",
    "end": "2017100"
  },
  {
    "text": "if there are no more questions and thank you very much please get involved in the community we're more than happy to help",
    "start": "2025560",
    "end": "2031890"
  },
  {
    "text": "you get started and contributes thanks a lot [Applause]",
    "start": "2031890",
    "end": "2040349"
  }
]