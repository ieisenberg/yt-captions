[
  {
    "text": "hello okay let's start this tutorial sessions so this tutorial is about the",
    "start": "1560",
    "end": "8920"
  },
  {
    "text": "cni from cni Z to cni Hero the kubernetes networking tutorial using cni",
    "start": "8920",
    "end": "14599"
  },
  {
    "text": "I'm Tomi and and I'm Doug Smith so I'm tomashi working in the red",
    "start": "14599",
    "end": "22680"
  },
  {
    "text": "hat and then works for the open shift engineering as well as the in upstream cni and M cni maintenance as well and",
    "start": "22680",
    "end": "29960"
  },
  {
    "text": "join the network Plumping working group as well and I am Doug Smith I'm also a",
    "start": "29960",
    "end": "35160"
  },
  {
    "text": "member of the network Plumbing working group uh Tomo and I both work together on multis cni which is a cni plugin that",
    "start": "35160",
    "end": "43879"
  },
  {
    "text": "allows you to attach multiple network interfaces into pods and kubernetes um",
    "start": "43879",
    "end": "50079"
  },
  {
    "text": "what tomo didn't mention is that Tomo's also created a number of other cni plugins such as ones that you you may",
    "start": "50079",
    "end": "58640"
  },
  {
    "text": "might even take for granted like a static cni um cni plugins to override",
    "start": "58640",
    "end": "64239"
  },
  {
    "text": "routes um and we've also I've also created another cni plugin called",
    "start": "64239",
    "end": "69520"
  },
  {
    "text": "whereabouts which is for like a dynamic uh allocation of IP addresses so today",
    "start": "69520",
    "end": "76840"
  },
  {
    "text": "what we're going to look at first is an intro to cni Tomo's going to walk you",
    "start": "76840",
    "end": "82960"
  },
  {
    "text": "through everything about how cni Works um in the end really",
    "start": "82960",
    "end": "90799"
  },
  {
    "text": "uh don't it might feel like a lot but really it's in the end it's really a few",
    "start": "90799",
    "end": "98119"
  },
  {
    "text": "just simple things that you uh need to take a grasp of what we will do is we",
    "start": "98119",
    "end": "103920"
  },
  {
    "text": "will be very comprehensive here with that in mind we're also going to walk",
    "start": "103920",
    "end": "110000"
  },
  {
    "text": "you through configurations and all of the details and how you can actually",
    "start": "110000",
    "end": "115840"
  },
  {
    "text": "configure cni Tomo's then going to take a glance over how you're going to",
    "start": "115840",
    "end": "121360"
  },
  {
    "text": "develop cni plugins if you have an interest in that and as Tomo kind of noted uh originally is there are a",
    "start": "121360",
    "end": "130599"
  },
  {
    "text": "number of slides that we have as reference material in the slides to download that uh we decided were maybe",
    "start": "130599",
    "end": "137480"
  },
  {
    "text": "too much detail but they could be really useful for you when you go there um with",
    "start": "137480",
    "end": "143239"
  },
  {
    "text": "that all in place since you've got the basics we're going to do a Hands-On tutorial um where uh you can follow",
    "start": "143239",
    "end": "151239"
  },
  {
    "text": "along if you'd like download the deck there's a link to a um GitHub repository",
    "start": "151239",
    "end": "158720"
  },
  {
    "text": "that's got configurations for kind and all of the resources that are used in",
    "start": "158720",
    "end": "165120"
  },
  {
    "text": "there um there's also kind of a bit of a troubleshooting aspect to that and then I'll kind of um touch on that and last",
    "start": "165120",
    "end": "172200"
  },
  {
    "text": "but not least we'll kind of show you how you can get linked up with the cni community and where all the resources",
    "start": "172200",
    "end": "179040"
  },
  {
    "text": "are um with that being said I will let Tomo um kick it off with an intro into",
    "start": "179040",
    "end": "186480"
  },
  {
    "text": "cni thank you D so let's cover the what the cni is first important stuff right",
    "start": "186480",
    "end": "194440"
  },
  {
    "text": "so what the cni does for you is maybe the simply to say in case of the",
    "start": "194440",
    "end": "199680"
  },
  {
    "text": "kubernetes cni provides the network connectivity to your kuber part so if",
    "start": "199680",
    "end": "205599"
  },
  {
    "text": "you Runing the uh some simple partt at that time if you typing the IPA I mean",
    "start": "205599",
    "end": "212120"
  },
  {
    "text": "IP address command with the rux then you can see the loop back and if Val is",
    "start": "212120",
    "end": "217360"
  },
  {
    "text": "added right so that is CNA PR Des I mean that uh loot back address and E EET uh",
    "start": "217360",
    "end": "225959"
  },
  {
    "text": "interface is created and they put your network Nam space of the bo I'm describe out the network name space later and",
    "start": "225959",
    "end": "233840"
  },
  {
    "text": "then in additions of course isoz have IP B4 or some case in your deployment have",
    "start": "233840",
    "end": "240840"
  },
  {
    "text": "the IP B6 address as well so this IP assignment is also that's uh but is done",
    "start": "240840",
    "end": "248120"
  },
  {
    "text": "by a cni and then of course if some network provider do some specific",
    "start": "248120",
    "end": "255200"
  },
  {
    "text": "additional configuration such as the NF table IP table rules or interface MTU",
    "start": "255200",
    "end": "260519"
  },
  {
    "text": "changes this seems to be that in the by a cni program as well so when the power",
    "start": "260519",
    "end": "268080"
  },
  {
    "text": "is added this stuff is done by cni and then of course you know they open the door and",
    "start": "268080",
    "end": "275400"
  },
  {
    "text": "then close the door so if p is tearing down at that time that cni program is",
    "start": "275400",
    "end": "281800"
  },
  {
    "text": "removing this IP address and also the interface and then try to the next",
    "start": "281800",
    "end": "288680"
  },
  {
    "text": "usage so here is the U rough picture about rough diagram of the kubernetes",
    "start": "288680",
    "end": "294880"
  },
  {
    "text": "deployment in the worker note worker Note have CU and the content run time",
    "start": "294880",
    "end": "300240"
  },
  {
    "text": "like the cryo continuity and inside the cryo continuity lip cni code is in so",
    "start": "300240",
    "end": "306400"
  },
  {
    "text": "lip cni code is from the cni uh GitHub repy and then we have the parts so today",
    "start": "306400",
    "end": "314680"
  },
  {
    "text": "we'd like to describe that the cni config and the cni binary so that these stuff is a target to",
    "start": "314680",
    "end": "320520"
  },
  {
    "text": "describe but before that let's go focus on the",
    "start": "320520",
    "end": "325600"
  },
  {
    "text": "pot so the pot is not container you know",
    "start": "325600",
    "end": "330919"
  },
  {
    "text": "so based on the cuetes document the PO is uh shared context of pot is a set of",
    "start": "330919",
    "end": "337319"
  },
  {
    "text": "the rux namespace C potentially other faet of the isolation so Linux namespace",
    "start": "337319",
    "end": "344440"
  },
  {
    "text": "is the partitioning feature in the Linux conel so this is used for their container or some stuff so the container",
    "start": "344440",
    "end": "352160"
  },
  {
    "text": "uses the Linux name space such as the P ID amount and S and then isolate the uh",
    "start": "352160",
    "end": "357360"
  },
  {
    "text": "resources from the continer host side and then container is little bit",
    "start": "357360",
    "end": "362960"
  },
  {
    "text": "different from the pot so pot is not just a container this poort could have a",
    "start": "362960",
    "end": "370000"
  },
  {
    "text": "multiple container inside the one partt object so this means the multiple P ID",
    "start": "370000",
    "end": "376240"
  },
  {
    "text": "and name space and also there are multiple Mount name space is in the pot",
    "start": "376240",
    "end": "381520"
  },
  {
    "text": "but regarding the network multiple net container sharing",
    "start": "381520",
    "end": "386880"
  },
  {
    "text": "the one network name space that is is a little bit unique than the usual",
    "start": "386880",
    "end": "392680"
  },
  {
    "text": "container Docker or apartment and so on so this cni is invoked at the mainly",
    "start": "392680",
    "end": "401880"
  },
  {
    "text": "two types I mean the pot creation and the PO dire so that this uh you know the you",
    "start": "401880",
    "end": "409240"
  },
  {
    "text": "already know about that the cni is the pring architecture so each",
    "start": "409240",
    "end": "414680"
  },
  {
    "text": "cni uh implementation is provided as the prod",
    "start": "414680",
    "end": "420520"
  },
  {
    "text": "so cni project under the cncf provides the several plugin as the reference",
    "start": "420520",
    "end": "427000"
  },
  {
    "text": "implementations Mac B IP B and Al the host local IP management and the third",
    "start": "427000",
    "end": "432720"
  },
  {
    "text": "party I mean that the several vendor uh provides the CN pling as the cico",
    "start": "432720",
    "end": "438520"
  },
  {
    "text": "open commes and so on so so the when the so how CN",
    "start": "438520",
    "end": "446120"
  },
  {
    "text": "programing is used when the aort is created so this picture is showing that",
    "start": "446120",
    "end": "451759"
  },
  {
    "text": "the this stuff system for so the okay let's imagine you create uh you do the",
    "start": "451759",
    "end": "458400"
  },
  {
    "text": "cube cut create part then this part object is goes to the API and then the",
    "start": "458400",
    "end": "466120"
  },
  {
    "text": "cubet recognize this part object and after that kubet sending the uh RAM Pond",
    "start": "466120",
    "end": "472919"
  },
  {
    "text": "soundbox grpc code uh through the CN C content rantom interface",
    "start": "472919",
    "end": "480039"
  },
  {
    "text": "container one time is recognize this stuff and then try to start the uh P",
    "start": "480039",
    "end": "485520"
  },
  {
    "text": "soundbox which means the uh SE out PID name Linux Nam space and of course the",
    "start": "485520",
    "end": "491759"
  },
  {
    "text": "network Nam space as well and after that contenter run time call uh lip cni to",
    "start": "491759",
    "end": "499120"
  },
  {
    "text": "create the interface lip cni reads the config from the cni config directory so",
    "start": "499120",
    "end": "506039"
  },
  {
    "text": "mainly this seems be the cni N then using this config lip CA invo the cni",
    "start": "506039",
    "end": "513800"
  },
  {
    "text": "plugin cni plugin get the these informations given by the liip site then",
    "start": "513800",
    "end": "519839"
  },
  {
    "text": "creating the network interface so that's the uh whole picture",
    "start": "519839",
    "end": "525959"
  },
  {
    "text": "of the how cni plug ised so let's focus on the cni config",
    "start": "525959",
    "end": "531959"
  },
  {
    "text": "side so first things cni config is the text Json file not the yam file",
    "start": "531959",
    "end": "539959"
  },
  {
    "text": "so yeah of course the if you are good at the kubernetes everything is written in the and then you may thinking why c i",
    "start": "539959",
    "end": "548200"
  },
  {
    "text": "using the Y Json not the yamu file so this is this rightly kind of the",
    "start": "548200",
    "end": "554200"
  },
  {
    "text": "historical point of I have they have I mean that the CN is not under the",
    "start": "554200",
    "end": "559320"
  },
  {
    "text": "kubernetes I mean that the CN is just the uh separate project so this means",
    "start": "559320",
    "end": "565200"
  },
  {
    "text": "they are officially KU the how to say cni is pretty independent of the",
    "start": "565200",
    "end": "571480"
  },
  {
    "text": "kubernetes and then kubernetes uses the cni this stuff so that that's the",
    "start": "571480",
    "end": "577120"
  },
  {
    "text": "stuff so so there yeah unfortunately CN configur the Json text file and then",
    "start": "577120",
    "end": "582800"
  },
  {
    "text": "this file name should be end with confl like the Z1 Huber confl so",
    "start": "582800",
    "end": "591480"
  },
  {
    "text": "sometimes if you looking in the old implementations deployment at that time they you may find you may find the",
    "start": "591480",
    "end": "598600"
  },
  {
    "text": "fua.com but in this presentation I'd like to focus on the com list because the com is",
    "start": "598600",
    "end": "605160"
  },
  {
    "text": "a little bit old and then this is replicated at the latest cni version",
    "start": "605160",
    "end": "612160"
  },
  {
    "text": "so so that this uh so in if you putting in your multiple uh cni config in the cni",
    "start": "612160",
    "end": "620360"
  },
  {
    "text": "directory but the cont and the cryo takes only one file from config directory so that this stuff is choosed",
    "start": "620360",
    "end": "628320"
  },
  {
    "text": "by the first file by sorted asky uh code so yeah you need to keep in mind aski is",
    "start": "628320",
    "end": "635040"
  },
  {
    "text": "rightly different from the alphabet or some stuff right so keep in mind so cni provides the cni config as a",
    "start": "635040",
    "end": "644120"
  },
  {
    "text": "part of the cni specification so cni specification means the this contains the uh how cni prog should Works",
    "start": "644120",
    "end": "653440"
  },
  {
    "text": "including the config file format and also the other result other format such as the uh result object format so the",
    "start": "653440",
    "end": "661839"
  },
  {
    "text": "cni community upgrade this specification periodically so from Z One 02 02 0 03 01",
    "start": "661839",
    "end": "670519"
  },
  {
    "text": "and 0 40 and then now the 1.0 is the lest this is released at the uh",
    "start": "670519",
    "end": "677839"
  },
  {
    "text": "2021 likly three years old so this is pretty almost same syntax",
    "start": "677839",
    "end": "685519"
  },
  {
    "text": "but a little bit different among the versions so maybe the if you uh have a trouble you need to keep in mind",
    "start": "685519",
    "end": "693560"
  },
  {
    "text": "sometimes the your version does not uh fit the configuration style but also that this presentation focusing the",
    "start": "693560",
    "end": "701079"
  },
  {
    "text": "1.0.0 as the latest you know latest is good so that is the simple configuration",
    "start": "701079",
    "end": "709160"
  },
  {
    "text": "uh cnna configuration example so this you know the Json allows",
    "start": "709160",
    "end": "714600"
  },
  {
    "text": "us to the a higher CR structure nested object so here is the the parent uh",
    "start": "714600",
    "end": "723880"
  },
  {
    "text": "structure has the cni version name pluging and the inside the plugins we",
    "start": "723880",
    "end": "729320"
  },
  {
    "text": "have the another object so the this stuff is the U",
    "start": "729320",
    "end": "734920"
  },
  {
    "text": "showing the cni configuration has the higher structure so this configuration is mainly uh for three types of the",
    "start": "734920",
    "end": "742600"
  },
  {
    "text": "configuration one is this config for cni runtime which is the Li cni and then",
    "start": "742600",
    "end": "749480"
  },
  {
    "text": "next is the config for contenter R runtime for example the cryo Contin and",
    "start": "749480",
    "end": "754600"
  },
  {
    "text": "then next is the config for CN plugins based on the this configur uh",
    "start": "754600",
    "end": "760560"
  },
  {
    "text": "this sample configuration the first three line is mainly for the config for",
    "start": "760560",
    "end": "765920"
  },
  {
    "text": "CN run time cni version specifying which cni spec version is used for this cni",
    "start": "765920",
    "end": "773079"
  },
  {
    "text": "config and then the name is the uh config name config identifier for Li cni",
    "start": "773079",
    "end": "779760"
  },
  {
    "text": "and the plugins contains the each plugin specific configurations so plugins means",
    "start": "779760",
    "end": "786920"
  },
  {
    "text": "of course the pl also this may have a two or more PL configurations I explain",
    "start": "786920",
    "end": "793880"
  },
  {
    "text": "about it later so let's let's go inside the prog field we have the type master ipon so",
    "start": "793880",
    "end": "802079"
  },
  {
    "text": "type is uh generic uh configuration term in the cni config which specify which",
    "start": "802079",
    "end": "810680"
  },
  {
    "text": "cni pling is used so this field value I",
    "start": "810680",
    "end": "816079"
  },
  {
    "text": "in this case IP is literally should matched in cni plugin directory binary",
    "start": "816079",
    "end": "823720"
  },
  {
    "text": "name so this means the IP B type ipb means IP B progs",
    "start": "823720",
    "end": "830040"
  },
  {
    "text": "used so that is the uh common configuration value uh types and value",
    "start": "830040",
    "end": "836279"
  },
  {
    "text": "and then Master is the uh I PB specific configuration parameter so if you're",
    "start": "836279",
    "end": "842560"
  },
  {
    "text": "using the other uh CN pring at that time the",
    "start": "842560",
    "end": "847959"
  },
  {
    "text": "different parameter needs to be configured so so the please take a look",
    "start": "847959",
    "end": "853480"
  },
  {
    "text": "into that for each cni plin the document the ipam section is the",
    "start": "853480",
    "end": "858839"
  },
  {
    "text": "slightly different I mean that the ipam is also have about nested and that the ipam contains the different cni pring",
    "start": "858839",
    "end": "867399"
  },
  {
    "text": "configurations so in this case host local cni is used to ipam IP the",
    "start": "867399",
    "end": "873800"
  },
  {
    "text": "ipam is the IP address management so so the IP B plug in creating uh IP address",
    "start": "873800",
    "end": "881040"
  },
  {
    "text": "and the interface only without IP address and then host local assigned uh",
    "start": "881040",
    "end": "887279"
  },
  {
    "text": "IP address so this is a delegation of the cni so when Li cni is executing the cni",
    "start": "887279",
    "end": "897759"
  },
  {
    "text": "pling at that time of course the program pring in this case consuming the input",
    "start": "897759",
    "end": "903680"
  },
  {
    "text": "and then do the output so this picture is showing that input and",
    "start": "903680",
    "end": "910000"
  },
  {
    "text": "output so when the IP or some other CN executed at that time two types of the",
    "start": "910000",
    "end": "917160"
  },
  {
    "text": "input is consumed one is the environment variables which is the of course uni uh",
    "start": "917160",
    "end": "923079"
  },
  {
    "text": "systems the enironment varia standard uh stdm which contains the uh several",
    "start": "923079",
    "end": "930639"
  },
  {
    "text": "informations one most important things is a command cni and command which",
    "start": "930639",
    "end": "935959"
  },
  {
    "text": "contains the what the prog should do so if the cni command indicates the ad so",
    "start": "935959",
    "end": "943199"
  },
  {
    "text": "this is the um uh IP buan plin should create the IP",
    "start": "943199",
    "end": "949240"
  },
  {
    "text": "the interface and if IP buan is uh C with cni command Dell then IP bu pling",
    "start": "949240",
    "end": "957120"
  },
  {
    "text": "be removing the interface and then another cni container ID CNM CN",
    "start": "957120",
    "end": "964240"
  },
  {
    "text": "AR so that this stuff is the uh powerport based parameters is provided",
    "start": "964240",
    "end": "970199"
  },
  {
    "text": "at the environment variables and then next is a standard input standard",
    "start": "970199",
    "end": "975480"
  },
  {
    "text": "contains the real your cni config with if you uh provides the H cni net the",
    "start": "975480",
    "end": "983279"
  },
  {
    "text": "0000 huber.com then the this file contents is goes to the a standard",
    "start": "983279",
    "end": "990240"
  },
  {
    "text": "input and then IP will do a job for you and then after that IP pling output",
    "start": "990240",
    "end": "997959"
  },
  {
    "text": "there are three types of the information one is how it codes exit code exit code",
    "start": "997959",
    "end": "1004000"
  },
  {
    "text": "Z means success and then if something is failed then this CA the non zero uh",
    "start": "1004000",
    "end": "1010079"
  },
  {
    "text": "value is added and also the to for a further troubleshooting plugin could add",
    "start": "1010079",
    "end": "1017839"
  },
  {
    "text": "the several element message at the STD error this STD error is uh captured by",
    "start": "1017839",
    "end": "1024720"
  },
  {
    "text": "the cubet and the content time I mean that upper component and then you can",
    "start": "1024720",
    "end": "1029959"
  },
  {
    "text": "see uh this uh error method through joural C or some stuff and if uh this PL",
    "start": "1029959",
    "end": "1038038"
  },
  {
    "text": "succeeded at that time that this result is in the standard alute so this is the",
    "start": "1038039",
    "end": "1044760"
  },
  {
    "text": "uh contains the interface name IP address and the MAC address and than other informations so here is a sample",
    "start": "1044760",
    "end": "1051880"
  },
  {
    "text": "of the stuff so that this output calls the cni result object so this is same as",
    "start": "1051880",
    "end": "1057799"
  },
  {
    "text": "the config and the Json format and then you need to uh keep in mind that the cni",
    "start": "1057799",
    "end": "1063480"
  },
  {
    "text": "version is provided as I told before so this cni version specifying the out",
    "start": "1063480",
    "end": "1069960"
  },
  {
    "text": "output uh types so the different C verion may contain the different uh name",
    "start": "1069960",
    "end": "1077480"
  },
  {
    "text": "and value for inter face so by the way the uh this result object contains the",
    "start": "1077480",
    "end": "1083000"
  },
  {
    "text": "uh interfaces and IP so the so cni spec allows to return the multiple interface",
    "start": "1083000",
    "end": "1089840"
  },
  {
    "text": "in the IP field the interface zero means the uh with this IP address assigned to",
    "start": "1089840",
    "end": "1096000"
  },
  {
    "text": "index zero of the interface so in this case the eso Z have",
    "start": "1096000",
    "end": "1101080"
  },
  {
    "text": "the 10.1.1 three so that's the uh result",
    "start": "1101080",
    "end": "1107760"
  },
  {
    "text": "object so this result object is uh",
    "start": "1107760",
    "end": "1113280"
  },
  {
    "text": "retrieved by the continer onetime side and then at the result cuet captured",
    "start": "1113280",
    "end": "1118960"
  },
  {
    "text": "these information through the CR the port SBO status messages so that they are simple case",
    "start": "1118960",
    "end": "1127200"
  },
  {
    "text": "and then next is a little bit complicated case the plugin chain as I talked before plugin means not the",
    "start": "1127200",
    "end": "1134559"
  },
  {
    "text": "pluging multiple pluging can be added in this field so in this case I we have the",
    "start": "1134559",
    "end": "1141600"
  },
  {
    "text": "two J CN configurations one is ipb and then next is the tuning so so the U the",
    "start": "1141600",
    "end": "1149520"
  },
  {
    "text": "first things is what does it mean so let me explain that so so the LI cni execute",
    "start": "1149520",
    "end": "1157280"
  },
  {
    "text": "a first cni like the as the IP B is executed",
    "start": "1157280",
    "end": "1162360"
  },
  {
    "text": "first IP bam uh plugin will create in the interface and IP address is assigned",
    "start": "1162360",
    "end": "1169280"
  },
  {
    "text": "and after that second cni is executed with these information previous",
    "start": "1169280",
    "end": "1177039"
  },
  {
    "text": "previously created interface in this case the iszero then so in this case the first IP host",
    "start": "1177039",
    "end": "1185600"
  },
  {
    "text": "is create execute and then create the is z in the partt then after the tuning do",
    "start": "1185600",
    "end": "1192159"
  },
  {
    "text": "the some additional configuration to the ISA zero in this configurations the CIS",
    "start": "1192159",
    "end": "1197760"
  },
  {
    "text": "cut is uh executed for the this ethod interface",
    "start": "1197760",
    "end": "1203960"
  },
  {
    "text": "to changing the several attributes of the uh interface such as the uh socket",
    "start": "1203960",
    "end": "1209960"
  },
  {
    "text": "option maxcon PR or filter so how these exe how these",
    "start": "1209960",
    "end": "1216799"
  },
  {
    "text": "progins are executed so this picture is explained about how to do that so of",
    "start": "1216799",
    "end": "1222840"
  },
  {
    "text": "course as I thought plin chains is the first cni is executed and then next",
    "start": "1222840",
    "end": "1228320"
  },
  {
    "text": "second and cni is executed this is not a parallel so first cni C is the pretty",
    "start": "1228320",
    "end": "1234679"
  },
  {
    "text": "same as I explained before but the second CN code is slightly different",
    "start": "1234679",
    "end": "1241159"
  },
  {
    "text": "this means the in the standard input cni config is uh dynamically Changed by the",
    "start": "1241159",
    "end": "1248480"
  },
  {
    "text": "lip cni injecting previous uh output",
    "start": "1248480",
    "end": "1253880"
  },
  {
    "text": "which means the ipb output is goes to the pr result field of this cni config",
    "start": "1253880",
    "end": "1260080"
  },
  {
    "text": "and then tuning cni consuming the uh H cni net config plus PR result then",
    "start": "1260080",
    "end": "1267960"
  },
  {
    "text": "identify which interface is the target to configure for example this the left side",
    "start": "1267960",
    "end": "1275279"
  },
  {
    "text": "is the cni config in disk and the right side of is the adjusted dynamically",
    "start": "1275279",
    "end": "1281320"
  },
  {
    "text": "captured uh about the uh uh cni con",
    "start": "1281320",
    "end": "1286440"
  },
  {
    "text": "consum by the tuning side as I mentioned the right side the red",
    "start": "1286440",
    "end": "1293720"
  },
  {
    "text": "uh rectangle PR result is dynamically added and then this contains the uh",
    "start": "1293720",
    "end": "1300559"
  },
  {
    "text": "result object which is generated by the IP plan in this case interface is is",
    "start": "1300559",
    "end": "1307039"
  },
  {
    "text": "found so the attuning plugin can consuming these parameters and then he",
    "start": "1307039",
    "end": "1313440"
  },
  {
    "text": "know and they it knows which interface should be Target for this comp",
    "start": "1313440",
    "end": "1319799"
  },
  {
    "text": "configuration and then that's the uh the cni config menu but uh we I need",
    "start": "1319799",
    "end": "1326840"
  },
  {
    "text": "to also explain about the capability and the runtime config this is also the",
    "start": "1326840",
    "end": "1332240"
  },
  {
    "text": "feature of the cni config and then if you may see previous the your experiment",
    "start": "1332240",
    "end": "1339840"
  },
  {
    "text": "you can see the uh several notations in the port site like the kuet iio SL",
    "start": "1339840",
    "end": "1345600"
  },
  {
    "text": "Ingress bandb as well as the ESS bandb so of course this annotation is",
    "start": "1345600",
    "end": "1352120"
  },
  {
    "text": "specifying the uh band whe of the Ingress and ESS so this means the this",
    "start": "1352120",
    "end": "1357279"
  },
  {
    "text": "sh touching with interface right so how to do that this is of course done by the",
    "start": "1357279",
    "end": "1363080"
  },
  {
    "text": "cni how to do that is the what the capability and the runtime config is",
    "start": "1363080",
    "end": "1368600"
  },
  {
    "text": "required this runtime config capability field uh feature is uh used to uh cont",
    "start": "1368600",
    "end": "1377520"
  },
  {
    "text": "on time also the upper aay component I mean that in this case the cubet to inject the additional purport specific",
    "start": "1377520",
    "end": "1385760"
  },
  {
    "text": "uh parameters to cni plins so in carore Fr or several",
    "start": "1385760",
    "end": "1392720"
  },
  {
    "text": "implementations uses the feature for example the band base or Port m pluging",
    "start": "1392720",
    "end": "1398520"
  },
  {
    "text": "is used for that so let's see the one example this is the caral deployment the",
    "start": "1398520",
    "end": "1404360"
  },
  {
    "text": "cni config at that time the as I thought pling have three or not two three cni is",
    "start": "1404360",
    "end": "1412000"
  },
  {
    "text": "executed so first is a cal and then carore will create an interface and also",
    "start": "1412000",
    "end": "1417440"
  },
  {
    "text": "the assigned IP address and then next is a port map and then band base for each",
    "start": "1417440",
    "end": "1422799"
  },
  {
    "text": "uh Port map and the band base pring is doing for each jobs and then at the time",
    "start": "1422799",
    "end": "1430520"
  },
  {
    "text": "there are you can see the capability Port mapping through in the port map side and the type the capability band WS",
    "start": "1430520",
    "end": "1437799"
  },
  {
    "text": "through is is in the abound site so that is the also the uh CN",
    "start": "1437799",
    "end": "1444880"
  },
  {
    "text": "features so so if kuet if you creating the port with several bands and",
    "start": "1444880",
    "end": "1452559"
  },
  {
    "text": "notations cuet inject this parameter is the runtime config and then Li cni is",
    "start": "1452559",
    "end": "1459679"
  },
  {
    "text": "invoked Li cni identify the these runtime config parameters and then also",
    "start": "1459679",
    "end": "1465679"
  },
  {
    "text": "the config file side capabilities then inject the appropriate runtime config in",
    "start": "1465679",
    "end": "1473000"
  },
  {
    "text": "based on their capabilities so for example band base",
    "start": "1473000",
    "end": "1478919"
  },
  {
    "text": "capability case right side of the configuration is the adjusted capture the CN config just",
    "start": "1478919",
    "end": "1486679"
  },
  {
    "text": "before band V is executed at that time we can see first",
    "start": "1486679",
    "end": "1492919"
  },
  {
    "text": "ple result contains the generated interface informations then after that",
    "start": "1492919",
    "end": "1498399"
  },
  {
    "text": "runtime config band is Engish rate Engish First Rate first so these",
    "start": "1498399",
    "end": "1504840"
  },
  {
    "text": "additional parameters are dynamically injected based on their part uh",
    "start": "1504840",
    "end": "1511480"
  },
  {
    "text": "annotations so this capability runtime config feature is uh yeah unfortunately",
    "start": "1511480",
    "end": "1517640"
  },
  {
    "text": "this is not in the uh cni specification but the are kind of the optional",
    "start": "1517640",
    "end": "1522880"
  },
  {
    "text": "document conventions. MD contains the these stuff so that that's the configuration I",
    "start": "1522880",
    "end": "1530360"
  },
  {
    "text": "I've covered the almost cni config so the from the C cni PR perspective cni",
    "start": "1530360",
    "end": "1538039"
  },
  {
    "text": "pling get the standard environment and the cni config then creating the",
    "start": "1538039",
    "end": "1543760"
  },
  {
    "text": "interface or some cni chaining some prog",
    "start": "1543760",
    "end": "1548880"
  },
  {
    "text": "May changing the some attribute or some stuff and then C prog will output as the",
    "start": "1548880",
    "end": "1555840"
  },
  {
    "text": "Json object as the C result and if failed error code is happen as well as",
    "start": "1555840",
    "end": "1562480"
  },
  {
    "text": "error message so that's the configuration and then let's go to the develop CN PL side",
    "start": "1562480",
    "end": "1569120"
  },
  {
    "text": "I mean the so previous talks is about how to use and then here is the how to",
    "start": "1569120",
    "end": "1575159"
  },
  {
    "text": "create the cni plugins as I talked before CN pling input the standard environment cni conf",
    "start": "1575159",
    "end": "1582399"
  },
  {
    "text": "this is pretty same as the last slide right so to creating cni you're just",
    "start": "1582399",
    "end": "1589360"
  },
  {
    "text": "satisfying the this requirement which means your cni pling first P standard",
    "start": "1589360",
    "end": "1595159"
  },
  {
    "text": "environment values and the CN config then these inform these parameters",
    "start": "1595159",
    "end": "1601279"
  },
  {
    "text": "satisfy the enough to create the ERS uh interface to the P so this your prog",
    "start": "1601279",
    "end": "1608559"
  },
  {
    "text": "creating the prog interface by Linux uh netlink API and so on then",
    "start": "1608559",
    "end": "1616799"
  },
  {
    "text": "after that you just the interface informations then just",
    "start": "1616799",
    "end": "1622039"
  },
  {
    "text": "output the cni result as the Json so this is yeah it yeah it's simple to say",
    "start": "1622039",
    "end": "1629880"
  },
  {
    "text": "but of course it's hard you know but so that simply to say you just do this",
    "start": "1629880",
    "end": "1634960"
  },
  {
    "text": "stuff that's that's the whole but so the are in additions you need to care about several stuff so the first is the how to",
    "start": "1634960",
    "end": "1644840"
  },
  {
    "text": "integrate the kubernetes I mean that if CN your cni pluging wants to get the aod",
    "start": "1644840",
    "end": "1653120"
  },
  {
    "text": "object at that time as I told before uh",
    "start": "1653120",
    "end": "1658640"
  },
  {
    "text": "cni is not integrated with the kubernetes so cni",
    "start": "1658640",
    "end": "1663799"
  },
  {
    "text": "pluging does not have a way to access uh kubernetes object so for each C pling",
    "start": "1663799",
    "end": "1672200"
  },
  {
    "text": "you need to get the create a service account or other way to create the some",
    "start": "1672200",
    "end": "1677760"
  },
  {
    "text": "API account to get touch the KU this AP object and also the you need to keeping",
    "start": "1677760",
    "end": "1683360"
  },
  {
    "text": "update the the service account for uh certifications uh",
    "start": "1683360",
    "end": "1689440"
  },
  {
    "text": "expires and then next is the uh uh CN have a little bit unique uh Behavior",
    "start": "1689440",
    "end": "1696559"
  },
  {
    "text": "have the uh command there I mean the when the port is deleted so in the CN specification",
    "start": "1696559",
    "end": "1703440"
  },
  {
    "text": "mentions that command should not return on error even though pling have the some",
    "start": "1703440",
    "end": "1709880"
  },
  {
    "text": "error so so this means the um the first the if the D is failed for",
    "start": "1709880",
    "end": "1718519"
  },
  {
    "text": "some uh dead Ro or some certain stuff but this in this case the cni plug",
    "start": "1718519",
    "end": "1725440"
  },
  {
    "text": "inside they it should not return any error messages and then also the error",
    "start": "1725440",
    "end": "1731240"
  },
  {
    "text": "code otherwise currently the uh container run time is designed that the",
    "start": "1731240",
    "end": "1736799"
  },
  {
    "text": "D command should not so that this means the are unacceptable uh it's happen container run time is",
    "start": "1736799",
    "end": "1743840"
  },
  {
    "text": "getting the m and also the in based of this stuff sometimes CN from the up upper side",
    "start": "1743840",
    "end": "1751960"
  },
  {
    "text": "contenter R time Li cni May invoke uh multiple command to one port object okay",
    "start": "1751960",
    "end": "1760559"
  },
  {
    "text": "let's imagine the from the uh cni PL inside Li cni invoked the uh Commando",
    "start": "1760559",
    "end": "1768120"
  },
  {
    "text": "multiple time to the same object so first Commander will remove",
    "start": "1768120",
    "end": "1775399"
  },
  {
    "text": "the interface successfully and then just the return succeeded but the next",
    "start": "1775399",
    "end": "1781480"
  },
  {
    "text": "invocation side sometimes from the generic programming point of view this",
    "start": "1781480",
    "end": "1788000"
  },
  {
    "text": "may return the error hey the part is no longer exist but this should not happen",
    "start": "1788000",
    "end": "1793320"
  },
  {
    "text": "because as I told before the commander does not return an error so that's the",
    "start": "1793320",
    "end": "1799480"
  },
  {
    "text": "uh you need to keep in mind and then the another things is about the cni version",
    "start": "1799480",
    "end": "1805120"
  },
  {
    "text": "as I told before cni version uh is um in cni config as well as the cni result and",
    "start": "1805120",
    "end": "1813000"
  },
  {
    "text": "then as I thought the for each version cni result is the right we change it so",
    "start": "1813000",
    "end": "1819519"
  },
  {
    "text": "here is the three cni result object based on the cni version 0 40 1 0 and",
    "start": "1819519",
    "end": "1828000"
  },
  {
    "text": "and then interesting things is is the so these information mentions the same IP",
    "start": "1828000",
    "end": "1834320"
  },
  {
    "text": "address and interface informations so this means so 020 has the ip4 and ip6",
    "start": "1834320",
    "end": "1841120"
  },
  {
    "text": "field is required but on the other side the 04 Z is IPS IPS field is in and then",
    "start": "1841120",
    "end": "1849080"
  },
  {
    "text": "next is the version is removed so for each versions out expected output is",
    "start": "1849080",
    "end": "1854320"
  },
  {
    "text": "slly different so the from if you writing down this cni progam you need to",
    "start": "1854320",
    "end": "1859679"
  },
  {
    "text": "care about these version differences so so this is that seems to",
    "start": "1859679",
    "end": "1865919"
  },
  {
    "text": "be slightly complicated but that is required cni plugin should passing the",
    "start": "1865919",
    "end": "1871360"
  },
  {
    "text": "standard environment config then your you creating the interface and the",
    "start": "1871360",
    "end": "1876639"
  },
  {
    "text": "output you should output the cni result based on the cni version so okay let's",
    "start": "1876639",
    "end": "1883960"
  },
  {
    "text": "go to the hands on from D go ahead all right Tomo thank you very much um so at",
    "start": "1883960",
    "end": "1891559"
  },
  {
    "text": "this particular link there is everything that I'm going to do in this tutorial",
    "start": "1891559",
    "end": "1899080"
  },
  {
    "text": "and here's the thing there might be a lot of detail in what tomo just covered",
    "start": "1899080",
    "end": "1906240"
  },
  {
    "text": "which is extremely comprehensive but in order to go and do what we're going to",
    "start": "1906240",
    "end": "1913600"
  },
  {
    "text": "do at the command line there's really only two things that you need which is a",
    "start": "1913600",
    "end": "1919720"
  },
  {
    "text": "kind cluster so that's kubernetes and Docker um which is a real easy way to",
    "start": "1919720",
    "end": "1926240"
  },
  {
    "text": "try out kubernetes to have a development workflow Etc and how to use the cube",
    "start": "1926240",
    "end": "1931399"
  },
  {
    "text": "cuddle command there's no special magic rocket science or anything else so what",
    "start": "1931399",
    "end": "1939480"
  },
  {
    "text": "we're going to do in this particular tutorial which is kind of um rapid Pace",
    "start": "1939480",
    "end": "1946519"
  },
  {
    "text": "um to uh to keep it rolling but what we're going to wind up doing is two things primarily we're going to install",
    "start": "1946519",
    "end": "1955159"
  },
  {
    "text": "a cni plugin into a cluster I'm going to use flannel which is a way that provides",
    "start": "1955159",
    "end": "1960919"
  },
  {
    "text": "podt pod connectivity so you know Tomo explained what does a cni plugin do well",
    "start": "1960919",
    "end": "1966120"
  },
  {
    "text": "it creates interfaces and gives you a way to get connectivity to a network so",
    "start": "1966120",
    "end": "1971360"
  },
  {
    "text": "we're going to do that and it was also kind of convenient that in this particular scenario Flame didn't install",
    "start": "1971360",
    "end": "1979279"
  },
  {
    "text": "perfectly cleanly so we get an opportunity to see how to debug that um",
    "start": "1979279",
    "end": "1985600"
  },
  {
    "text": "so that's the first part of it and then the second part of it is we're going to create a custom cni plug-in that's",
    "start": "1985600",
    "end": "1994039"
  },
  {
    "text": "created with bash it's you don't need really any special programming language",
    "start": "1994039",
    "end": "2000600"
  },
  {
    "text": "knowledge for it it just uses some basic Linux Prim Primitives as Tomo mentioned",
    "start": "2000600",
    "end": "2006919"
  },
  {
    "text": "like it has to read environment variables and it has to read some data from standard in um so it's just you",
    "start": "2006919",
    "end": "2014760"
  },
  {
    "text": "know a couple dozen lines at Max and it's just one that's uh what we call the",
    "start": "2014760",
    "end": "2022519"
  },
  {
    "text": "dummy plugin um that logs some data so that you can kind of see hey what",
    "start": "2022519",
    "end": "2029080"
  },
  {
    "text": "variables and values came into this cni plug in write it to disk and then we",
    "start": "2029080",
    "end": "2034799"
  },
  {
    "text": "output some uh kind of like fake information about it so that being said",
    "start": "2034799",
    "end": "2041279"
  },
  {
    "text": "I'll move on to the demo yeah thank you",
    "start": "2041279",
    "end": "2047159"
  },
  {
    "text": "Tomo all right cool so the gist here is we've got these three panes on the left",
    "start": "2047159",
    "end": "2052919"
  },
  {
    "text": "hand side what you're looking at is just some like General commands where I'm going to use like a cube cuddle create",
    "start": "2052919",
    "end": "2058839"
  },
  {
    "text": "and stuff like that and then on the right is as if you were debugging a host so it's kubernetes and Docker so like",
    "start": "2058839",
    "end": "2065760"
  },
  {
    "text": "debugging the host is really doing like a Docker exact so that's where I'm going to put those commands and then on the",
    "start": "2065760",
    "end": "2072679"
  },
  {
    "text": "very bottom is really just a like Cube cuddle watch um to check out what pods",
    "start": "2072679",
    "end": "2079800"
  },
  {
    "text": "are there uh all of these files and everything that's created are part of",
    "start": "2079800",
    "end": "2086000"
  },
  {
    "text": "the GitHub repo those in the link and uh I as a first step create uh the kind",
    "start": "2086000",
    "end": "2094320"
  },
  {
    "text": "cluster um in this case it's already created um so that we don't have to wait for it",
    "start": "2094320",
    "end": "2101560"
  },
  {
    "text": "and the main thing to really pay attention to in this config is that we",
    "start": "2101560",
    "end": "2106760"
  },
  {
    "text": "disabled the default cni so typically on a kind cluster this would already be bootstrapped for you but to kind of",
    "start": "2106760",
    "end": "2113079"
  },
  {
    "text": "emulate what would happen on a like vanilla cluster um so when the cluster",
    "start": "2113079",
    "end": "2119560"
  },
  {
    "text": "comes up we go and look at the pods that are there and we see that there's a",
    "start": "2119560",
    "end": "2125160"
  },
  {
    "text": "couple pods that are pending and it's because the nodes are not ready so when",
    "start": "2125160",
    "end": "2131400"
  },
  {
    "text": "I do Cube cuddle um get nodes those are not ready so that is based on cni uh so",
    "start": "2131400",
    "end": "2141560"
  },
  {
    "text": "what I'm going to do to see why that is the case is to exec um into this Docker",
    "start": "2141560",
    "end": "2149319"
  },
  {
    "text": "container like we're on the host and I'm going to look in the Etsy cni net",
    "start": "2149319",
    "end": "2155800"
  },
  {
    "text": "D which is the cni configuration folder there's nothing there and having the",
    "start": "2155800",
    "end": "2162359"
  },
  {
    "text": "presence of a cni configuration in that folder acts as a semaphor to mark that",
    "start": "2162359",
    "end": "2168800"
  },
  {
    "text": "the nodes are ready so the cubet knows oh hey your Network's ready if there's a",
    "start": "2168800",
    "end": "2174400"
  },
  {
    "text": "cni configure there so I'm going to install flannel which I did on the left",
    "start": "2174400",
    "end": "2180319"
  },
  {
    "text": "it's with the cube cuddle create and we can see the flanel pods come up at the",
    "start": "2180319",
    "end": "2186160"
  },
  {
    "text": "bottom um but doesn't actually fix everything we see the con we see the cni",
    "start": "2186160",
    "end": "2192359"
  },
  {
    "text": "config on the right there it is but those CNS pods are still in a uh",
    "start": "2192359",
    "end": "2198760"
  },
  {
    "text": "container creating state so even though it says Cube cutle Get node says those are ready um it might not actually be",
    "start": "2198760",
    "end": "2206960"
  },
  {
    "text": "ready so we got to figure out what it is so it's in this case you can do a uh um",
    "start": "2206960",
    "end": "2215160"
  },
  {
    "text": "Cube cuddle describe pod and we're going to get kubernetes events those were",
    "start": "2215160",
    "end": "2220359"
  },
  {
    "text": "propagated from the cuet to the kubernetes API to your Cube cuddle",
    "start": "2220359",
    "end": "2225440"
  },
  {
    "text": "command so that we can see what's going on so I take this and I go to describe the",
    "start": "2225440",
    "end": "2236520"
  },
  {
    "text": "Pod tell me you can fast forward",
    "start": "2236520",
    "end": "2240880"
  },
  {
    "text": "once thanks yeah so we have here a",
    "start": "2242319",
    "end": "2248040"
  },
  {
    "text": "a error which is failed to find the plug-in bridge in the path so that's",
    "start": "2248040",
    "end": "2255200"
  },
  {
    "text": "what happened it got propagated back up to this these events in the Pod and we",
    "start": "2255200",
    "end": "2261839"
  },
  {
    "text": "can fix this since we know where things are thanks to Tomo's directions about",
    "start": "2261839",
    "end": "2268400"
  },
  {
    "text": "hey um you have a cni config and you have a directory and you have a cni",
    "start": "2268400",
    "end": "2274720"
  },
  {
    "text": "binary directory so I go en list the um",
    "start": "2274720",
    "end": "2280760"
  },
  {
    "text": "cni binaries and there's no Bridge plugin there so that explains why we get",
    "start": "2280760",
    "end": "2288240"
  },
  {
    "text": "this complaint that was failed to find the bridge plugin so there's a number of reference cni plugins that are available",
    "start": "2288240",
    "end": "2295800"
  },
  {
    "text": "from the cni community and flannel happens to use one of them which is the bridge plug-in not all cni plugins work",
    "start": "2295800",
    "end": "2303040"
  },
  {
    "text": "this way flanel uses what we call a delegation pattern where it kind of delegates some work to the to the bridge",
    "start": "2303040",
    "end": "2309839"
  },
  {
    "text": "plugin so what I will do here is go and install the um Bridge plugin so I've got",
    "start": "2309839",
    "end": "2317480"
  },
  {
    "text": "a uh reference cni plugin yo uh Tomo you can fast forward",
    "start": "2317480",
    "end": "2325880"
  },
  {
    "text": "once um we see those cni plugins Damon set comes up and then on the right here",
    "start": "2325880",
    "end": "2331839"
  },
  {
    "text": "I list the plugins and now we've got a bunch of them including the bridge plugin so because of that now those cord",
    "start": "2331839",
    "end": "2340440"
  },
  {
    "text": "DNS pods down at the bottom are running so we've fixed the issue that's",
    "start": "2340440",
    "end": "2348880"
  },
  {
    "text": "there now that we've got a working cluster with a cni plugin that will let",
    "start": "2348880",
    "end": "2355640"
  },
  {
    "text": "our pods come up let's go and customize it and what we're going to do to",
    "start": "2355640",
    "end": "2361720"
  },
  {
    "text": "customize it is we are going to create a uh we're going to create our own cni",
    "start": "2361720",
    "end": "2371640"
  },
  {
    "text": "plugin the first thing that I do here is",
    "start": "2374200",
    "end": "2379680"
  },
  {
    "text": "I am going to write a quote unquote binary onto disk so it's called the cni",
    "start": "2379680",
    "end": "2386079"
  },
  {
    "text": "Bender because usually you would have compiled applications here but in this case I am actually going to just make",
    "start": "2386079",
    "end": "2393480"
  },
  {
    "text": "this bash script that you see you see here which really just does a couple things uh what it does is it",
    "start": "2393480",
    "end": "2403319"
  },
  {
    "text": "has a logging function it logs en environment variables it reads standard",
    "start": "2403319",
    "end": "2410000"
  },
  {
    "text": "in and then it outputs a phony response we just kind of make something up here",
    "start": "2410000",
    "end": "2416839"
  },
  {
    "text": "and you'll be able to see the that kubernetes reacts to it",
    "start": "2416839",
    "end": "2422400"
  },
  {
    "text": "um and yeah that's our kind of phony information that we give we just set a",
    "start": "2422400",
    "end": "2428920"
  },
  {
    "text": "static IP and in order to configure this cni plugin to run we will have to make a",
    "start": "2428920",
    "end": "2437079"
  },
  {
    "text": "configuration for it so what we will do here is we're going",
    "start": "2437079",
    "end": "2444720"
  },
  {
    "text": "to in the cni configuration directory is tell we can do one fast",
    "start": "2444720",
    "end": "2451720"
  },
  {
    "text": "forward here and one more oh thank you yep oh I",
    "start": "2451720",
    "end": "2456839"
  },
  {
    "text": "have to uh make sure that bash script is executable or it won't get executed and",
    "start": "2456839",
    "end": "2463560"
  },
  {
    "text": "we need that cni config so as Tomo mentioned in your cni config directory",
    "start": "2463560",
    "end": "2469920"
  },
  {
    "text": "the um atically first config file is used so I can leave the flannel",
    "start": "2469920",
    "end": "2476920"
  },
  {
    "text": "configuration there but I just add an additional one that's prepended so 00",
    "start": "2476920",
    "end": "2483200"
  },
  {
    "text": "asically comes before 10 we'll say we want it to type dummy because that's the",
    "start": "2483200",
    "end": "2489520"
  },
  {
    "text": "name of the binary quote unquote on disk now that that's all set up I'm going to",
    "start": "2489520",
    "end": "2496079"
  },
  {
    "text": "spin up a pod because that's when our cni plug-in is going to execute right so",
    "start": "2496079",
    "end": "2502200"
  },
  {
    "text": "on pod creation on pod deletion cni is exercised so we'll create the create the",
    "start": "2502200",
    "end": "2510599"
  },
  {
    "text": "Pod and it comes up down there on the bottom and since",
    "start": "2510599",
    "end": "2517800"
  },
  {
    "text": "this uh um pod executes um on the",
    "start": "2517800",
    "end": "2525119"
  },
  {
    "text": "host and it writes a file I can go ahead and just cat this log file which has the",
    "start": "2525119",
    "end": "2531760"
  },
  {
    "text": "information here so you could take this from the demo execute it and you can see",
    "start": "2531760",
    "end": "2537520"
  },
  {
    "text": "all of those environment variables so you could use that to build a richer plug in that actually did something",
    "start": "2537520",
    "end": "2543599"
  },
  {
    "text": "something you're going to see here down on the bottom on the third row in the IP column is the dummy IP address that we",
    "start": "2543599",
    "end": "2551359"
  },
  {
    "text": "output so we output some Json that said hey this resulted in an IP address of",
    "start": "2551359",
    "end": "2557680"
  },
  {
    "text": "1920. two22 um but that's actually just a big",
    "start": "2557680",
    "end": "2564800"
  },
  {
    "text": "fat lie that we told the cuet is just totally fake so what you're going to see",
    "start": "2564800",
    "end": "2571800"
  },
  {
    "text": "if you were to actually execute into the Pod is uh the",
    "start": "2571800",
    "end": "2577640"
  },
  {
    "text": "the reality of what happened so Cube API thinks that's the IP address but when we",
    "start": "2577640",
    "end": "2586599"
  },
  {
    "text": "go and uh do uh a cube cuddle exac and",
    "start": "2586599",
    "end": "2592520"
  },
  {
    "text": "issue the IPA command that would list our uh IP interfaces Etc we actually",
    "start": "2592520",
    "end": "2599319"
  },
  {
    "text": "don't have another interface there we just have the default loop back that you get and no actual IP address um so so",
    "start": "2599319",
    "end": "2607720"
  },
  {
    "text": "let's see how this looks differently if we use flanel instead right so flanel is",
    "start": "2607720",
    "end": "2614520"
  },
  {
    "text": "going to actually create an eth zero and actually give you connectivity um so I",
    "start": "2614520",
    "end": "2620000"
  },
  {
    "text": "go ahead and I delete this pod and once I delete that pod then I",
    "start": "2620000",
    "end": "2628200"
  },
  {
    "text": "remove my dummy configuration so Tomy you can fast forward",
    "start": "2628200",
    "end": "2634480"
  },
  {
    "text": "once yep thank you",
    "start": "2634480",
    "end": "2639040"
  },
  {
    "text": "one more thanks all right so I remove that configuration then I'm going to spin up",
    "start": "2640720",
    "end": "2647119"
  },
  {
    "text": "the Pod again and on the next execution flanel is going to be executed and now",
    "start": "2647119",
    "end": "2653720"
  },
  {
    "text": "we can see down there at the bottom with a sample pod IP address 10",
    "start": "2653720",
    "end": "2660079"
  },
  {
    "text": "24415 which is actually true and we will check it out this time by executing into",
    "start": "2660920",
    "end": "2667720"
  },
  {
    "text": "the Pod and saying IPA and we actually do have an e zero now and that IP",
    "start": "2667720",
    "end": "2673240"
  },
  {
    "text": "address matches what's in the kubernetes API so that's kind of the magic quote",
    "start": "2673240",
    "end": "2678680"
  },
  {
    "text": "unquote of how that actual IP address uh ends up there when you do uh Cube cuddle",
    "start": "2678680",
    "end": "2685720"
  },
  {
    "text": "exact or get pod so um I highly encourage you to uh give",
    "start": "2685720",
    "end": "2694319"
  },
  {
    "text": "it a shot on on your own and run through the steps and it's kind of a like",
    "start": "2694319",
    "end": "2699920"
  },
  {
    "text": "template that you could use to uh like flesh out an actual um application Tomo",
    "start": "2699920",
    "end": "2706200"
  },
  {
    "text": "thank you very",
    "start": "2706200",
    "end": "2708760"
  },
  {
    "text": "much all right so a few kind of uh tips and tricks for",
    "start": "2715559",
    "end": "2722680"
  },
  {
    "text": "debugging um cni plugin so if you have something going on in your cluster that",
    "start": "2722680",
    "end": "2729400"
  },
  {
    "text": "is related to cni like I did during the tutorial when",
    "start": "2729400",
    "end": "2735319"
  },
  {
    "text": "you do Cube cuddle um describe pod there's a high likelihood that you're",
    "start": "2735319",
    "end": "2742160"
  },
  {
    "text": "going to get kubernetes events that came up so you can check out what's going on",
    "start": "2742160",
    "end": "2747839"
  },
  {
    "text": "once you have some information there then you can kind of dig into where",
    "start": "2747839",
    "end": "2754400"
  },
  {
    "text": "these cni assets actually l on your host which will be in your cni bender and",
    "start": "2754400",
    "end": "2762200"
  },
  {
    "text": "your cni comforter so those that's where you're going to find all those goodies",
    "start": "2762200",
    "end": "2768760"
  },
  {
    "text": "one thing that I have certainly seen happen uh before is that you make some",
    "start": "2768760",
    "end": "2776079"
  },
  {
    "text": "change related to cni you install another cni plugin let's say it writes a",
    "start": "2776079",
    "end": "2781599"
  },
  {
    "text": "configuration and that configuration does not actually wind up alphabetically",
    "start": "2781599",
    "end": "2787000"
  },
  {
    "text": "first before your other configuration so you're like why isn't this operating the way that I thought so check that cni",
    "start": "2787000",
    "end": "2794720"
  },
  {
    "text": "comforter that may be what's going on um definitely the first place to check out",
    "start": "2794720",
    "end": "2803440"
  },
  {
    "text": "another thing to remember is that the type field is a required field in the",
    "start": "2803440",
    "end": "2809720"
  },
  {
    "text": "cni configuration and it's not like some kind of magic that",
    "start": "2809720",
    "end": "2818119"
  },
  {
    "text": "like uh is not representative of something it is the name of the binary",
    "start": "2818119",
    "end": "2823559"
  },
  {
    "text": "in your Bender so if you don't have that exactly right and that binary doesn't",
    "start": "2823559",
    "end": "2831359"
  },
  {
    "text": "exist it is going to fail so this is just an example of like fat fingering it",
    "start": "2831359",
    "end": "2838319"
  },
  {
    "text": "or having a hardto read typo in there that's not exact so that's one of those",
    "start": "2838319",
    "end": "2846359"
  },
  {
    "text": "things and one of the main things that happens all the time just like the demo is that you",
    "start": "2846359",
    "end": "2852720"
  },
  {
    "text": "have some dependency that like wasn't apparent um in your configuration that",
    "start": "2852720",
    "end": "2858880"
  },
  {
    "text": "the cni plugin asked for hey I wanted to use a delegation to this other plugin",
    "start": "2858880",
    "end": "2865440"
  },
  {
    "text": "and it wasn't there so you actually had to install something else um so that's kind of the most the most common one um",
    "start": "2865440",
    "end": "2873319"
  },
  {
    "text": "and last but not least it's not not always apparent that the Readiness state",
    "start": "2873319",
    "end": "2880040"
  },
  {
    "text": "of your nodes is totally a cni thing so if you're you have nodes that are in a",
    "start": "2880040",
    "end": "2886839"
  },
  {
    "text": "not ready State definitely check out what's going on in your um cni cter",
    "start": "2886839",
    "end": "2894839"
  },
  {
    "text": "because that is just a marker and it's only so much information for the cluster",
    "start": "2894839",
    "end": "2900960"
  },
  {
    "text": "like this is as Toma mentioned in one slide is cni kind of predates kubernetes",
    "start": "2900960",
    "end": "2909280"
  },
  {
    "text": "cni was intended to work for a bunch of different container orchestration engines and we live in a world where",
    "start": "2909280",
    "end": "2917800"
  },
  {
    "text": "kubernetes is really the king of container orchestration engines I had",
    "start": "2917800",
    "end": "2923000"
  },
  {
    "text": "Junior guy on my team who I was saying I'm like hey well cni is container",
    "start": "2923000",
    "end": "2928040"
  },
  {
    "text": "orchestration engine agnostic and he said what's a container orchestration engine and this is somebody who worked",
    "start": "2928040",
    "end": "2935119"
  },
  {
    "text": "on kubernetes every day well I realized that his entire career was just working",
    "start": "2935119",
    "end": "2940839"
  },
  {
    "text": "on kubernetes so um there's a little bit of a disconnect in uh some of these",
    "start": "2940839",
    "end": "2947559"
  },
  {
    "text": "places and this was just one thing that was kind of Taken like Hey how do we",
    "start": "2947559",
    "end": "2953079"
  },
  {
    "text": "figure out if the network is actually ready so the decision was made to use",
    "start": "2953079",
    "end": "2958960"
  },
  {
    "text": "that config file just as a semaphor so if you're writing a cni plugin yourself",
    "start": "2958960",
    "end": "2965799"
  },
  {
    "text": "you might want to have considerations about when you write that cni",
    "start": "2965799",
    "end": "2971559"
  },
  {
    "text": "configuration onto your host to mark that that is ready so Tomo and I work on",
    "start": "2971559",
    "end": "2978200"
  },
  {
    "text": "open shift and we in the open shift land we like to have a like really",
    "start": "2978200",
    "end": "2983880"
  },
  {
    "text": "opinionated way about how your cluster is going to be life cycle managed so we",
    "start": "2983880",
    "end": "2989839"
  },
  {
    "text": "have a really delicate dance about how and when the cni configuration gets",
    "start": "2989839",
    "end": "2996440"
  },
  {
    "text": "run on disc so there's really a bunch of like checks in the background to be like oh hey is your actual Network really",
    "start": "2996440",
    "end": "3004319"
  },
  {
    "text": "ready um before we write that on um that config so like what happened with",
    "start": "3004319",
    "end": "3009640"
  },
  {
    "text": "flannel here um wouldn't happen in that situation because we're kind of checking",
    "start": "3009640",
    "end": "3014960"
  },
  {
    "text": "for stuff like that before we Mark the nodes as ready um last but not least there is of",
    "start": "3014960",
    "end": "3022880"
  },
  {
    "text": "course plenty of community surrounding CN and it's really some of the strengths",
    "start": "3022880",
    "end": "3029119"
  },
  {
    "text": "of cni I think are the like community ecosystem behind it um first thing you",
    "start": "3029119",
    "end": "3036640"
  },
  {
    "text": "should know where it is is the cni dodev site which is a kind of pretty print of",
    "start": "3036640",
    "end": "3043400"
  },
  {
    "text": "all of the documentation for cni so it's just all rendered HTML that looks nice",
    "start": "3043400",
    "end": "3050720"
  },
  {
    "text": "as a easy too place where you can find all of the parameters for all of these",
    "start": "3050720",
    "end": "3056839"
  },
  {
    "text": "uh Community developed cni plugins and so in in Tomo's examples we had",
    "start": "3056839",
    "end": "3064720"
  },
  {
    "text": "there's lots and lots of parameters there there's really only three or four of those parameters that are required",
    "start": "3064720",
    "end": "3070319"
  },
  {
    "text": "for every plugin and then each plugin is going to have its own set of uh of",
    "start": "3070319",
    "end": "3078200"
  },
  {
    "text": "parameters that you would use so you can check out cni dodev you can kind of um",
    "start": "3078200",
    "end": "3083319"
  },
  {
    "text": "pick and choose like a fast food menu of the parameters that you like and mix",
    "start": "3083319",
    "end": "3089319"
  },
  {
    "text": "those up and kind of make your own cni meal from them further from that the like that is",
    "start": "3089319",
    "end": "3098079"
  },
  {
    "text": "generated from the documentation if you want to get into the guts of it you can",
    "start": "3098079",
    "end": "3103119"
  },
  {
    "text": "go right into the um github.com container networking which is the cni",
    "start": "3103119",
    "end": "3109520"
  },
  {
    "text": "community that's the the name space where everything happens and there's",
    "start": "3109520",
    "end": "3114640"
  },
  {
    "text": "really two reposit ories to be aware of one of which is cni and cni includes a",
    "start": "3114640",
    "end": "3122200"
  },
  {
    "text": "number of things it has libraries it has debug tools it",
    "start": "3122200",
    "end": "3128240"
  },
  {
    "text": "has um probably even a couple um small",
    "start": "3128240",
    "end": "3133720"
  },
  {
    "text": "plugins maybe like um there's actually a plugin called dummy that will just create a dummy interface stuff like that",
    "start": "3133720",
    "end": "3140160"
  },
  {
    "text": "um but the most important thing I think that's there is these two markdown files",
    "start": "3140160",
    "end": "3146200"
  },
  {
    "text": "called spec. MD and conventions. MD when you bring up the spec the first time um",
    "start": "3146200",
    "end": "3153440"
  },
  {
    "text": "it's sort of like drinking from a fire hose you're like wow there's a lot of stuff here but I'm hopeful that",
    "start": "3153440",
    "end": "3160119"
  },
  {
    "text": "after coming to this particular talk you have enough of the jargon terminology to",
    "start": "3160119",
    "end": "3166720"
  },
  {
    "text": "be able to go through it because I think once you understand",
    "start": "3166720",
    "end": "3171960"
  },
  {
    "text": "that the basics are really basic like it's environment variables it's standard",
    "start": "3171960",
    "end": "3178680"
  },
  {
    "text": "in you output Json you exit with an exit code it's you have a lot of kind of",
    "start": "3178680",
    "end": "3186200"
  },
  {
    "text": "creativity between those two things and it really does seem like wow there's a lot of stuff here and it also can be",
    "start": "3186200",
    "end": "3193280"
  },
  {
    "text": "since it has that history of um kind of predating kubernetes it's a different",
    "start": "3193280",
    "end": "3199359"
  },
  {
    "text": "API and I think that sometimes people that are really accustomed to kubernetes take a look at it and they're like wow",
    "start": "3199359",
    "end": "3206119"
  },
  {
    "text": "that is is more than I bargained for but it's not that hard um to get in there",
    "start": "3206119",
    "end": "3211680"
  },
  {
    "text": "and once you start kind of picking it apart and making your own customizations",
    "start": "3211680",
    "end": "3216839"
  },
  {
    "text": "um the specification itself um shouldn't be as hard to read and is a really good",
    "start": "3216839",
    "end": "3223640"
  },
  {
    "text": "uh good reference um there's also the plugins themselves which is a bunch of",
    "start": "3223640",
    "end": "3229200"
  },
  {
    "text": "community maintained plugins that do a bunch of uh kind of utility type of",
    "start": "3229200",
    "end": "3235880"
  },
  {
    "text": "functions so say you want to connect to a bridge to have your networking through a bridge that's one way um Tomo use the",
    "start": "3235880",
    "end": "3243640"
  },
  {
    "text": "ipv Lan which is a sort of like net Network virtualization Tomo's using that as an example very handy Mac VLAN",
    "start": "3243640",
    "end": "3251559"
  },
  {
    "text": "similarly so check those out there's a few different ways to also do IP address",
    "start": "3251559",
    "end": "3256640"
  },
  {
    "text": "management there too like DHCP or static IP addresses um and last lastly um there",
    "start": "3256640",
    "end": "3266079"
  },
  {
    "text": "is also a cni community update and Tomo and Casey candrell will be presenting",
    "start": "3266079",
    "end": "3274200"
  },
  {
    "text": "this tomorrow at 2 pm so um go check it out and you're going to see um some of",
    "start": "3274200",
    "end": "3280119"
  },
  {
    "text": "the latest and greatest from the cni community and thank you a bunch I",
    "start": "3280119",
    "end": "3286079"
  },
  {
    "text": "appreciate you taking the time um to check out this [Applause]",
    "start": "3286079",
    "end": "3295319"
  },
  {
    "text": "tutorial any question is",
    "start": "3295319",
    "end": "3303519"
  },
  {
    "text": "welcome you were in few places quite explicitly referring to Lino but I",
    "start": "3309359",
    "end": "3316240"
  },
  {
    "text": "understand that the same applies to kubernetes on Windows the same cni is",
    "start": "3316240",
    "end": "3321640"
  },
  {
    "text": "there so I'm basically looking for you know this type of uh uh tutorial but",
    "start": "3321640",
    "end": "3330240"
  },
  {
    "text": "relating to Windows uh there are some con cases which are different like",
    "start": "3330240",
    "end": "3337960"
  },
  {
    "text": "you know referring to Linux paths on Windows finding the places and that's",
    "start": "3337960",
    "end": "3344599"
  },
  {
    "text": "you know kind of creating problems when you have to deal with it by yourself if",
    "start": "3344599",
    "end": "3351079"
  },
  {
    "text": "there are any documentation on that that would be interesting um that's a that's a great",
    "start": "3351079",
    "end": "3356799"
  },
  {
    "text": "question I believe all of the basics should still apply and um uh",
    "start": "3356799",
    "end": "3365880"
  },
  {
    "text": "I so one I'm I'm not super familiar with",
    "start": "3365880",
    "end": "3372200"
  },
  {
    "text": "um uh with running kubernetes on Windows however there is for example in the cni",
    "start": "3372200",
    "end": "3380359"
  },
  {
    "text": "plugins the community maintained plugins there is a build script for those in Windows and there are windows",
    "start": "3380359",
    "end": "3387680"
  },
  {
    "text": "maintainers that are definitely uh considering what's",
    "start": "3387680",
    "end": "3393280"
  },
  {
    "text": "happening with CN I would guess it's probably similar where you're going to",
    "start": "3393280",
    "end": "3398680"
  },
  {
    "text": "have to like um Tomo if you let's say you had a kuber netti system that you",
    "start": "3398680",
    "end": "3406520"
  },
  {
    "text": "just inherited and you were trying to figure out where your Bender is and where your comforter is would you look",
    "start": "3406520",
    "end": "3412520"
  },
  {
    "text": "at your cubet config to figure out where that is yeah I think so so the first",
    "start": "3412520",
    "end": "3418160"
  },
  {
    "text": "time the difference of the um windows and the Linux is Network stock is the",
    "start": "3418160",
    "end": "3424599"
  },
  {
    "text": "different so so probably uh CN",
    "start": "3424599",
    "end": "3429839"
  },
  {
    "text": "reference uh directory I mean that the uh so cni github.com have the prag",
    "start": "3429839",
    "end": "3437359"
  },
  {
    "text": "repository inside the prag we have the Mac as I told before macb IP this stuff",
    "start": "3437359",
    "end": "3444079"
  },
  {
    "text": "is exist but this is so several stuff is",
    "start": "3444079",
    "end": "3449599"
  },
  {
    "text": "of course built for Windows as well but some CNF programing is only for Linux as",
    "start": "3449599",
    "end": "3457839"
  },
  {
    "text": "far as I remember the Mac V and IP V seems to be only for the Linux so the",
    "start": "3457839",
    "end": "3463200"
  },
  {
    "text": "first things is the from the cni perspective supported pluging is a",
    "start": "3463200",
    "end": "3468799"
  },
  {
    "text": "different Windows have the more limited and the relux seems to be the full features and then in additions the how",
    "start": "3468799",
    "end": "3476319"
  },
  {
    "text": "invoking this stuff is slightly depends on the uh uh cubet side of the windows so so",
    "start": "3476319",
    "end": "3484960"
  },
  {
    "text": "the uh as person know the the cuet car to ooking or actually I'm not sure that",
    "start": "3484960",
    "end": "3493680"
  },
  {
    "text": "the uh grpc for Windows site but yeah the cuet sending grpc call and then the",
    "start": "3493680",
    "end": "3500559"
  },
  {
    "text": "container run time of Windows container care about to invoke the cni right so",
    "start": "3500559",
    "end": "3507559"
  },
  {
    "text": "maybe the uh of course the journal cut is not exist in the windows so maybe the",
    "start": "3507559",
    "end": "3512880"
  },
  {
    "text": "U similar mechanisms is uh exist in the windows so you can capture this stuff by",
    "start": "3512880",
    "end": "3520000"
  },
  {
    "text": "the windows manner one thing I would say to try is if if you're brave enough is",
    "start": "3520000",
    "end": "3526000"
  },
  {
    "text": "to try to look at the contents of the tutorial and go try to find where your cni binary",
    "start": "3526000",
    "end": "3535119"
  },
  {
    "text": "directory and where your cni configuration directory is in your um",
    "start": "3535119",
    "end": "3540400"
  },
  {
    "text": "lab Windows cluster and try running through the same steps because I kind of",
    "start": "3540400",
    "end": "3546839"
  },
  {
    "text": "think that if you know where those two directories are it should mostly apply",
    "start": "3546839",
    "end": "3553400"
  },
  {
    "text": "um you might have to convert the script into a Powershell or something like that",
    "start": "3553400",
    "end": "3560960"
  },
  {
    "text": "um but check your cubet configuration on your windows cluster to find those paths and I think that it should be pretty",
    "start": "3560960",
    "end": "3570119"
  },
  {
    "text": "similar thanks for asking yes please um just a quick",
    "start": "3572599",
    "end": "3578000"
  },
  {
    "text": "question you mentioned cni runs only on creation and deletion I see you have a",
    "start": "3578000",
    "end": "3584480"
  },
  {
    "text": "plug-in for DHCP or do you handle stuff like uh lee renewal and stuff that",
    "start": "3584480",
    "end": "3590960"
  },
  {
    "text": "happen during the lifetime of the container okay than so thank you for the",
    "start": "3590960",
    "end": "3596960"
  },
  {
    "text": "questions so the uh so the yeah as you",
    "start": "3596960",
    "end": "3602160"
  },
  {
    "text": "mentions the DHCP have a different protocol of the cni so the yeah as you",
    "start": "3602160",
    "end": "3608280"
  },
  {
    "text": "mentions the DHCP is the periodically relas and the request is happen and then kind of",
    "start": "3608280",
    "end": "3615079"
  },
  {
    "text": "the heart bsh messages so the so in DHCP case this is only for the dhp D if you",
    "start": "3615079",
    "end": "3624520"
  },
  {
    "text": "running uh if you're setting about DHCP uh cni adop them for each worker node",
    "start": "3624520",
    "end": "3631480"
  },
  {
    "text": "round in the DHCP cni server which care about the cni protocol and the cni DHCP",
    "start": "3631480",
    "end": "3639960"
  },
  {
    "text": "cni pling is interworking with these demon set to sending to request for some",
    "start": "3639960",
    "end": "3648079"
  },
  {
    "text": "certain part or release and then this stuff so this means therefore each uh",
    "start": "3648079",
    "end": "3653640"
  },
  {
    "text": "relas or this command of the DHCP side is care about the uh dhp cni pluging",
    "start": "3653640",
    "end": "3661599"
  },
  {
    "text": "server so that's why the uh dhps worked very well uh is that answer your",
    "start": "3661599",
    "end": "3668000"
  },
  {
    "text": "question yeah perfectly thank you okay cool so question is welcome about how to",
    "start": "3668000",
    "end": "3675520"
  },
  {
    "text": "create or how about writing down the cni in the different languages other than",
    "start": "3675520",
    "end": "3681319"
  },
  {
    "text": "the go for everything is welcome",
    "start": "3681319",
    "end": "3687920"
  },
  {
    "text": "call once then call",
    "start": "3694000",
    "end": "3700400"
  },
  {
    "text": "twice okay let's close this talk thank you for your time appreciate",
    "start": "3700559",
    "end": "3706720"
  },
  {
    "text": "it",
    "start": "3706720",
    "end": "3709720"
  }
]