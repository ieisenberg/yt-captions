[
  {
    "start": "0",
    "end": "0"
  },
  {
    "text": "okay as the lights are going down I guess it's the cue to get started good afternoon everyone welcome along to my",
    "start": "0",
    "end": "6270"
  },
  {
    "text": "talk about a hackers guide to kubernetes and the cloud um I started getting involved in kubernetes security about",
    "start": "6270",
    "end": "13440"
  },
  {
    "text": "two years ago now as web sort of middle of 2016 and I got involved with it the same ways I get involved with most new",
    "start": "13440",
    "end": "19170"
  },
  {
    "text": "technologies which is a customer said hey we'd like you to review the security of our kubernetes cluster they were",
    "start": "19170",
    "end": "24660"
  },
  {
    "text": "pretty early adopter obviously and my boss said well you know about docker so you go and talk them about kubernetes",
    "start": "24660",
    "end": "30150"
  },
  {
    "text": "too so I went and found out what kubernetes did before I talk to them and since then we've seen obviously like",
    "start": "30150",
    "end": "35730"
  },
  {
    "text": "everyone else we've seen an amazing growth of kubernetes usage which means we're seeing more security reviews which",
    "start": "35730",
    "end": "42180"
  },
  {
    "text": "means we're finding stuff about how to people deploy kubernetes we're also starting to see people attack kubernetes",
    "start": "42180",
    "end": "48000"
  },
  {
    "text": "deployments in the real world and that's some of what this is as well so what I want to cover today is I'm going to talk",
    "start": "48000",
    "end": "54300"
  },
  {
    "text": "about thing ways we've seen that people break into kubernetes clusters with we broken into cubed entities clusters but",
    "start": "54300",
    "end": "60329"
  },
  {
    "text": "also some ways in which you can think about security to try and help you can",
    "start": "60329",
    "end": "65430"
  },
  {
    "text": "focus your efforts right there's a huge amount to doing security you could spend an awful lot of time you don't have doing it so really what this is try to",
    "start": "65430",
    "end": "72240"
  },
  {
    "text": "do is to say here are some ways to think about it some things you can do or shouldn't do to try and make sure you're",
    "start": "72240",
    "end": "77759"
  },
  {
    "text": "a secure can be in the time you've got available so very quick about me I have",
    "start": "77759",
    "end": "85409"
  },
  {
    "start": "84000",
    "end": "84000"
  },
  {
    "text": "been in information IT security for 18 years I've been like in financial services consultancy a variety of other",
    "start": "85409",
    "end": "91290"
  },
  {
    "text": "things last 13 years I've been an ethical hacker slash pentester slash security tester wherever you want to",
    "start": "91290",
    "end": "97049"
  },
  {
    "text": "call it I'm a managing consultant at a company called NCC we do security",
    "start": "97049",
    "end": "102119"
  },
  {
    "text": "testing and various other security things in the world I'm also a contributor at security Stack Exchange",
    "start": "102119",
    "end": "107750"
  },
  {
    "text": "if you don't know it it's kind of like Stack Overflow but much smaller and kind of friendlier and focused on security so",
    "start": "107750",
    "end": "114840"
  },
  {
    "text": "if if you want to ask security questions it's actually not a bad place to go I'm also a contributing author to the CIA s",
    "start": "114840",
    "end": "121049"
  },
  {
    "text": "docker and kubernetes standards one of the things I noticed when I got started looking at this a couple years ago the",
    "start": "121049",
    "end": "127829"
  },
  {
    "text": "Noether adult there's documentation about it back then there really wasn't so luckily I see is time",
    "start": "127829",
    "end": "133190"
  },
  {
    "text": "got started up and it is actually you know kept up to date really well and has a lot of good information I'll talk a",
    "start": "133190",
    "end": "139460"
  },
  {
    "text": "bit about it later on if I get time so on with the top o because I'm a security",
    "start": "139460",
    "end": "144980"
  },
  {
    "text": "tester and we're keeping the nautical theme going this is where I live which is lock well hide and the Scottish islands and that's the hypogeum princess",
    "start": "144980",
    "end": "151640"
  },
  {
    "text": "going across LA it's very nice when it's not raining so what we're gonna talk",
    "start": "151640",
    "end": "157400"
  },
  {
    "text": "about today we're going to talk about a couple of things we're going to talk about threat modeling right threat",
    "start": "157400",
    "end": "163370"
  },
  {
    "text": "modeling is a really important thing to understand if you're going to do security you can waste a lot of time if you don't understand your threat model",
    "start": "163370",
    "end": "169550"
  },
  {
    "text": "and you can also miss things if you don't understand it so we're gonna talk about wet threat models we're going to",
    "start": "169550",
    "end": "175040"
  },
  {
    "text": "talk a bit about attack surface knowing what your attack surface is it again super important because if you don't",
    "start": "175040",
    "end": "180350"
  },
  {
    "text": "know what you have to defend you don't know where to put your security efforts and then someone breaks into some areas",
    "start": "180350",
    "end": "186410"
  },
  {
    "text": "you didn't even consider so we're gonna talk about that we are going to talk about who external attackers might break",
    "start": "186410",
    "end": "193160"
  },
  {
    "text": "into your clusters so people roaming the internet what are they going to do to try and break in we're then going to",
    "start": "193160",
    "end": "198410"
  },
  {
    "text": "talk about compromised container reviews one of the things we've found that a lot of customers are asking us for is they're saying take the position over an",
    "start": "198410",
    "end": "205070"
  },
  {
    "text": "app container that's been compromised and see what you can do to the rest of the cluster can you take it can you",
    "start": "205070",
    "end": "210770"
  },
  {
    "text": "become cluster admin can you compromise that can you maybe even compromise that the cloud account that underlies the whole thing so there's some stuff to",
    "start": "210770",
    "end": "218060"
  },
  {
    "text": "think about there and then because there's no point me just telling you it's all terrible like how broken it is I'll give you a top ten of things you",
    "start": "218060",
    "end": "225290"
  },
  {
    "text": "can do this may not end up being your top ten but it's one idea of where you could start so threat model what is a",
    "start": "225290",
    "end": "233420"
  },
  {
    "text": "threat model so a very basic level if if someone says to you and when people come",
    "start": "233420",
    "end": "238760"
  },
  {
    "text": "ask the ask questions in security status change and they'll say things like is this secure or is this insecure I start",
    "start": "238760",
    "end": "245360"
  },
  {
    "text": "every single answer with it depends because it depends there's no such thing as perfect security there's no such",
    "start": "245360",
    "end": "251690"
  },
  {
    "text": "thing as perfect insecurity you can have the most vulnerable system on the internet no one ever attacks it doesn't",
    "start": "251690",
    "end": "257090"
  },
  {
    "text": "matter not really insecure is it if someone has to attack it to exploit the insecurity to give you kind of a a good",
    "start": "257090",
    "end": "262520"
  },
  {
    "text": "example say you had a website it was really well coded really design really well tested lots of",
    "start": "262520",
    "end": "267590"
  },
  {
    "text": "security authorization authentication controls firewalls all that great stuff from the internet perspective that",
    "start": "267590",
    "end": "273590"
  },
  {
    "text": "systems quite secure if you install it on a server in an open office which is public access in an unlocked cabinet",
    "start": "273590",
    "end": "279880"
  },
  {
    "text": "against an attacker who can walk in and pick up the box and walk out the door it's not very secure so your threat",
    "start": "279880",
    "end": "286070"
  },
  {
    "text": "model matters if you have to worry about physical attackers you need to do stuff there if you don't maybe you don't so",
    "start": "286070",
    "end": "292550"
  },
  {
    "text": "what threat models do you have to worry about if you're rolling out kubernetes especially if you're rolling out in the cloud the first thing to think about is",
    "start": "292550",
    "end": "300170"
  },
  {
    "text": "your random internet attackers your people who are scouring the internet looking for systems to compromise they",
    "start": "300170",
    "end": "306170"
  },
  {
    "text": "don't really necessarily want to compromise you they just want to compromise some system anywhere on the",
    "start": "306170",
    "end": "311210"
  },
  {
    "text": "internet now the thing about them is um I people will say a couple of things when I say about this we'll say don't",
    "start": "311210",
    "end": "316970"
  },
  {
    "text": "never find me right the Internet is a huge place how are they gonna find my system to try and compromise it yeah",
    "start": "316970",
    "end": "322640"
  },
  {
    "text": "they'll find you and they'll find you pretty quickly the recent most recent star I saw on this a guy put up a server on the",
    "start": "322640",
    "end": "329720"
  },
  {
    "text": "Internet he didn't advertise it he didn't put any public website on it within 24 hours he had about a thousand IP addresses contacting him and scanning",
    "start": "329720",
    "end": "336140"
  },
  {
    "text": "him so you pretty much guaranteed you have a less than 24 hour window before you put a service online on the Internet",
    "start": "336140",
    "end": "342560"
  },
  {
    "text": "before it is found and people are trying to attack it potentially so there's that the other thing people will say well",
    "start": "342560",
    "end": "348110"
  },
  {
    "text": "well my system doesn't really have anything of value right I'd have any personal data and not Bank why would",
    "start": "348110",
    "end": "353690"
  },
  {
    "text": "someone want to attack it the answer is that every single system you roll on the Internet has something of value and that's",
    "start": "353690",
    "end": "359000"
  },
  {
    "text": "compute resource compute resource equals money because people will work out how",
    "start": "359000",
    "end": "364010"
  },
  {
    "text": "to monetize servers the latest SWE's this year is obviously cryptic coin mining so every single computer resource",
    "start": "364010",
    "end": "369920"
  },
  {
    "text": "on the internet equals the opportunity to mine crypto coin so if they can directly translate compromised of your",
    "start": "369920",
    "end": "375080"
  },
  {
    "text": "server into money as long as people can do that they're going to continue to attack you right and in fact dies off",
    "start": "375080",
    "end": "380810"
  },
  {
    "text": "for whatever reason they'll come up with something else it was ransomware where before it was cryptic Oien before that it was spamming you know there's always",
    "start": "380810",
    "end": "387590"
  },
  {
    "text": "a reason to try and use a system so you are a target and you do have to worry about this we're these attackers the",
    "start": "387590",
    "end": "393530"
  },
  {
    "text": "sort of things are going to do is going to be one-shot attacks it's going to be quick it's going to be fast it's going to be off they're not going to spend a lot time",
    "start": "393530",
    "end": "400020"
  },
  {
    "text": "when you're a particular system because there's another 100,000 to get to next so something that can be done in a",
    "start": "400020",
    "end": "405030"
  },
  {
    "text": "one-shot is typically the kind of thing you see but they are actually they come up some quite clever one-shot so you",
    "start": "405030",
    "end": "410250"
  },
  {
    "text": "can't dismiss this as compari little level so lecture your random internet attackers you might also need to worry",
    "start": "410250",
    "end": "417569"
  },
  {
    "text": "about targeted attackers people actually want to take out you now again you might",
    "start": "417569",
    "end": "422819"
  },
  {
    "text": "think well are these people really gonna come after me if you're a bank so if you're Monza we had Monza presentation yesterday if you're a bank obviously",
    "start": "422819",
    "end": "428610"
  },
  {
    "text": "you're a target right that's a no-brainer you have the facilities send large amounts of money internationally therefore bad guys would love to do that",
    "start": "428610",
    "end": "435150"
  },
  {
    "text": "they will target you but there's lots of other reasons you might get targeted say for example you offer our software as a",
    "start": "435150",
    "end": "440789"
  },
  {
    "text": "service say you offer Arsenal a document translation one of your customers is a law firm or a pharmaceutical firm and",
    "start": "440789",
    "end": "446310"
  },
  {
    "text": "they ask you to translate documents that have commercial value well at that point the attacker might attack you to get the",
    "start": "446310",
    "end": "452069"
  },
  {
    "text": "documents they don't actually care about you they care about what you're processing say for sake of argument you are a supplier to a large corporate",
    "start": "452069",
    "end": "458580"
  },
  {
    "text": "attackers have walked out going after the hardened perimeter of say defense companies a really bad idea",
    "start": "458580",
    "end": "464460"
  },
  {
    "text": "attacking their supplier who's got a trusted relationship with them and can get into their network is a really easy idea so you might be a supplier there's",
    "start": "464460",
    "end": "472050"
  },
  {
    "text": "a variety or you might even just host someone who people don't like Linode for example they got compromised because",
    "start": "472050",
    "end": "477900"
  },
  {
    "text": "they were hosting an IRC server and someone else didn't like the people who use the IRC server and it compromised",
    "start": "477900",
    "end": "483539"
  },
  {
    "text": "little just to get the IRC server and take it out so the whole reason is lower reasons why a target attacker might come",
    "start": "483539",
    "end": "488669"
  },
  {
    "text": "after you target attackers tend to be more dedicated so they might sign up for your platform they might get an account if",
    "start": "488669",
    "end": "494759"
  },
  {
    "text": "you offer containers as part of your platform they might get container and see what they can do they might do",
    "start": "494759",
    "end": "500250"
  },
  {
    "text": "things like register they might sign up they do all sorts of things but basically they're gonna spend more time on attacking you so if you've got to",
    "start": "500250",
    "end": "505469"
  },
  {
    "text": "worry about target attackers you have to worry about people who will spend some time trying to break in last group I'm",
    "start": "505469",
    "end": "511500"
  },
  {
    "text": "going to mention in passing nation state you can't escape reading security news without reading about cyber war if you",
    "start": "511500",
    "end": "519270"
  },
  {
    "text": "are our target of a nation-state attacker and you're only finding it from me telling you in this presentation I'm",
    "start": "519270",
    "end": "524339"
  },
  {
    "text": "sorry but you have been have a bad time nation-state attackers can use deploy a",
    "start": "524339",
    "end": "529410"
  },
  {
    "text": "large quantity of resources realistically speaking if you're any news Konoha infrastructure in your country you should be in contact with your",
    "start": "529410",
    "end": "535209"
  },
  {
    "text": "country's authorities who should be helping you coordinate your defenses right you shouldn't be in my presentation finding out about it so",
    "start": "535209",
    "end": "540880"
  },
  {
    "text": "very much if you're not already go and talk to them because if you are actually a type of these guys that could be quite bad so having talked to it who might",
    "start": "540880",
    "end": "548980"
  },
  {
    "text": "attack you let's talk about where they might attack you attack surface is a really important concept because you",
    "start": "548980",
    "end": "555130"
  },
  {
    "text": "need to defend across your entire attack surface right there's loads of different",
    "start": "555130",
    "end": "561880"
  },
  {
    "text": "places people can attack and you should try and think of as many of them as possible because you might miss one the",
    "start": "561880",
    "end": "568779"
  },
  {
    "text": "second most important slide in this presentation is this one doesn't look like it but it is so the critical point",
    "start": "568779",
    "end": "575140"
  },
  {
    "text": "about tax surface is if you don't spend a lot of time on like one element so you",
    "start": "575140",
    "end": "580540"
  },
  {
    "text": "see some nice high sim I didn't attack scars waves coming off the side of this boat don't spend huge amounts of time on",
    "start": "580540",
    "end": "585850"
  },
  {
    "text": "these ones at the edge and this one in the middle so for example you could spend a lot of time sorting a great author ization scream sorting a great",
    "start": "585850",
    "end": "592060"
  },
  {
    "text": "encryption for all your services and then you might one of your developers might leave an AWS admin a key on github",
    "start": "592060",
    "end": "599560"
  },
  {
    "text": "right and that's that a little a little bit there and they're gonna come in over the easy bit you have to be consistent",
    "start": "599560",
    "end": "604990"
  },
  {
    "text": "across your entire attack surface and that's really important because attackers they don't care about all the stuff you spent loads of time on they'll",
    "start": "604990",
    "end": "610690"
  },
  {
    "text": "find the one but you didn't and try there so understanding what you have to attack obviously is key because",
    "start": "610690",
    "end": "616120"
  },
  {
    "text": "otherwise you don't know where to spend your effort all right cloudy clusters AWS as your GCP you are deploying in the",
    "start": "616120",
    "end": "623440"
  },
  {
    "start": "619000",
    "end": "619000"
  },
  {
    "text": "cloud the cloud is part of your clusters attack surface if someone can compromise a needle your token and easy pad and as",
    "start": "623440",
    "end": "629589"
  },
  {
    "text": "your token any of these things they can use that to try and break into your cluster I am rules are important",
    "start": "629589",
    "end": "634839"
  },
  {
    "text": "security groups are important so you can't just focus purely on kubernetes you actually have to think about the",
    "start": "634839",
    "end": "640000"
  },
  {
    "text": "cloud as well because the cloud getting compromised will give you a bad day",
    "start": "640000",
    "end": "645570"
  },
  {
    "text": "other means of acquiring access github get observe a of acquiring access so",
    "start": "646140",
    "end": "653410"
  },
  {
    "text": "github of what the things like AWS keys get posted by accident on github repos so they scan for those they don't",
    "start": "653410",
    "end": "659920"
  },
  {
    "text": "however and can't scan for every type of secret because they just don't know they all look like I have read I mean we've",
    "start": "659920",
    "end": "665760"
  },
  {
    "text": "do assessments some of the assessments for customers one of the problems we've seen is that does anyone here do their",
    "start": "665760",
    "end": "671610"
  },
  {
    "text": "organizations use private repos on github to develop yeah okay so some",
    "start": "671610",
    "end": "676830"
  },
  {
    "text": "people so the problem the pattern we've seen that might happen is you have a private repo for your company a",
    "start": "676830",
    "end": "681870"
  },
  {
    "text": "developer clones the repo to do work they then want to fork it and do some work on it and you think well I don't",
    "start": "681870",
    "end": "687570"
  },
  {
    "text": "commit this back to the main repository yet I'll just put in my personal account their personal account isn't private its",
    "start": "687570",
    "end": "692640"
  },
  {
    "text": "public now obviously none of us store secrets in any github repos right under",
    "start": "692640",
    "end": "697740"
  },
  {
    "text": "no circumstances right or there SSH keys AWS keys or anything else in github repos right okay this was a very naive",
    "start": "697740",
    "end": "704910"
  },
  {
    "text": "search I did which is just basically look for something called config and look for some of the things you would find in a cube config file of which",
    "start": "704910",
    "end": "712440"
  },
  {
    "text": "there were 200 and that was loose a one-time search I didn't go trying any of these obviously because I have a",
    "start": "712440",
    "end": "718350"
  },
  {
    "text": "white hat on and I don't go doing that because it's dubious legally but it could be that there are people's cube",
    "start": "718350",
    "end": "724350"
  },
  {
    "text": "comfort balls sitting up on github and bad guys know to go in scan get up get up is a common point of intelligence",
    "start": "724350",
    "end": "730320"
  },
  {
    "text": "gathering for attackers because they know that they can find secrets so they know that you can find keys and they're going to go here and they're gonna look",
    "start": "730320",
    "end": "736080"
  },
  {
    "text": "through it so github is part of your attack surface right you need to understand what is on github or get lab",
    "start": "736080",
    "end": "741750"
  },
  {
    "text": "or whatever other cloud code repository you use people do know how to search for this stuff and they will find it the",
    "start": "741750",
    "end": "747780"
  },
  {
    "text": "other thing that is part of your attack surface is all your developers laptops developers have got keys keys live on",
    "start": "747780",
    "end": "754080"
  },
  {
    "text": "laptops so they kind of access to things if a laptop was missing gets lost gets stolen you need to work out how am I",
    "start": "754080",
    "end": "759660"
  },
  {
    "text": "going to make sure that none of those keys live beyond the person reporting it and saying hey my laptop's gone missing",
    "start": "759660",
    "end": "764850"
  },
  {
    "text": "I left the Starbucks and I came back and some was yanked it right you don't want to turn that into a really bad day but",
    "start": "764850",
    "end": "770460"
  },
  {
    "text": "that's part of your attack surface right depending on your tape of attacker again so if you're super targeted some actually fall when you're developers",
    "start": "770460",
    "end": "776130"
  },
  {
    "text": "into Starbucks and like steal the laptop when they're not looking this does happen depends on who you are what kind",
    "start": "776130",
    "end": "781170"
  },
  {
    "text": "of come you've got what's your threat model so let's look up talk about actually breaking into kubernetes now",
    "start": "781170",
    "end": "787260"
  },
  {
    "start": "785000",
    "end": "785000"
  },
  {
    "text": "let's talk about how people can actually try and compromise kubernetes um if I'm an external attacker and I'm trying to",
    "start": "787260",
    "end": "792660"
  },
  {
    "text": "break into a cluster the very first thing I will always do is port scan right port scanner is finding all the",
    "start": "792660",
    "end": "798570"
  },
  {
    "text": "network server is running and I'm trying to find out what is the attack surface of this cluster what are my points of",
    "start": "798570",
    "end": "804299"
  },
  {
    "text": "compromising if you do that to occur beretti's cluster you'll get something that looks a little bit like this it",
    "start": "804299",
    "end": "809759"
  },
  {
    "text": "will be a little bit variable so we've got a lot of the common services you'd expect to see various for network",
    "start": "809759",
    "end": "816419"
  },
  {
    "text": "plugins because network plugins have got an attack surface most of them have got some kind of listening network service some of them are not authenticated you",
    "start": "816419",
    "end": "823079"
  },
  {
    "text": "do need to watch for that so there's lots of different ways in and the cover",
    "start": "823079",
    "end": "829859"
  },
  {
    "text": "some of the main ones ways you can break in at the API servers the obvious target right everyone is API server if someone",
    "start": "829859",
    "end": "835709"
  },
  {
    "start": "832000",
    "end": "832000"
  },
  {
    "text": "can get access the API server is gonna have a bad time luckily the default for the API service",
    "start": "835709",
    "end": "840720"
  },
  {
    "text": "is that it's authenticated unless you have the unsecure port listening luckily",
    "start": "840720",
    "end": "845730"
  },
  {
    "text": "that's being deprecated I think 110 deprecates in the unsecured port which is fantastic because it's the keys in",
    "start": "845730",
    "end": "850919"
  },
  {
    "text": "the name write insecure poor don't enable that and you think you've never seen this enabled I will say I did when",
    "start": "850919",
    "end": "856649"
  },
  {
    "text": "I was learning about this stuff I did various installs of various different clusters and I found at least some cloud",
    "start": "856649",
    "end": "862079"
  },
  {
    "text": "providers not on the external network but on the container network had the insecure port running so I don't who get",
    "start": "862079",
    "end": "868079"
  },
  {
    "text": "any kind of container was just could just head in secure port and tada your cluster admin so don't necessarily",
    "start": "868079",
    "end": "873149"
  },
  {
    "text": "assume that that's gonna be turned off everywhere it should be and again 110 deprecates so hopefully it will go away",
    "start": "873149",
    "end": "878179"
  },
  {
    "text": "I'm not gonna mention put the Tesla screenshot because it's been up there a lot of times off so you can turn off",
    "start": "878179",
    "end": "883860"
  },
  {
    "text": "authentication and this is kind of a good example of what happens if you get this stuff wrong it's not just the loss",
    "start": "883860",
    "end": "889079"
  },
  {
    "text": "it's the fact that Tesla will be doomed to being part of security presentations a bit cure Burnett is for years to come",
    "start": "889079",
    "end": "894089"
  },
  {
    "text": "that screenshot that I'm sure you've seen it's been on a couple other presentations it will come up forever so",
    "start": "894089",
    "end": "900149"
  },
  {
    "text": "what about hcd hcd is the database that powers",
    "start": "900149",
    "end": "905220"
  },
  {
    "text": "kubernetes and it has a lot of sensitive and secret information in it it is possible to have it available",
    "start": "905220",
    "end": "910379"
  },
  {
    "text": "unauthenticated it has quite kind of straightforward education model where it's basically you have a client certificate that it",
    "start": "910379",
    "end": "915899"
  },
  {
    "text": "recognizes unless you in but that's not again not turned on by default on every cluster I have seen cases and we have",
    "start": "915899",
    "end": "922829"
  },
  {
    "text": "compromised clusters as part of assignments where basically it was as simple as using sed and just downloading",
    "start": "922829",
    "end": "927929"
  },
  {
    "text": "the database to give you and kind of mad I'm gonna try it let's try a demo I don't I'm doing everything I can do demos cool",
    "start": "927929",
    "end": "933880"
  },
  {
    "text": "so let's do a really quick demo so if",
    "start": "933880",
    "end": "939160"
  },
  {
    "text": "you have a CD and it is unauthenticated you can do something like that and that basically says give me every",
    "start": "939160",
    "end": "945400"
  },
  {
    "text": "single key in the kubernetes dish store and all you need to do then is basically look through looking for stuff that's a",
    "start": "945400",
    "end": "950830"
  },
  {
    "text": "secret in it and once you find stuff that's a secret in it you can do something like that and that's your",
    "start": "950830",
    "end": "958720"
  },
  {
    "text": "token right so there is your service token very very simple some of these Exedy open this thing down the bottom is",
    "start": "958720",
    "end": "963760"
  },
  {
    "text": "your token and then once you've got that let's clear that because it's gonna be messy otherwise you can do did you do",
    "start": "963760",
    "end": "971140"
  },
  {
    "text": "that one and that's just applying the token as a bearer in a curl header so no fancy stuff just curl and yeah I'm",
    "start": "971140",
    "end": "979060"
  },
  {
    "text": "Ascenta cater to the API server in that case this cluster isn't a power back on so I'm Casper hadlen so that's game over",
    "start": "979060",
    "end": "984910"
  },
  {
    "text": "for that cluster right I got the SED took me what three months I'm no cluster admin and that's my same at John Donne",
    "start": "984910",
    "end": "990910"
  },
  {
    "text": "and that's great so I have a good time to see that and cluster a job so HDD is super important to make sure that that",
    "start": "990910",
    "end": "997360"
  },
  {
    "text": "is authentic ated in lockdown in it's not one of the as well-known ones the other thing to mention at this point is",
    "start": "997360",
    "end": "1002640"
  },
  {
    "text": "showdown as anyone heard of shorter AE some people heard of China if you haven't heard of showdown Chiron is like",
    "start": "1002640",
    "end": "1009390"
  },
  {
    "text": "Google but it's for services on the internet so if you think that people can't find your stuff on the internet shoot and scans the internet every day",
    "start": "1009390",
    "end": "1015690"
  },
  {
    "text": "for an ever-increasing number of services and pores and the index is the mall in a really nice friendly web front-end that also is an API so you can",
    "start": "1015690",
    "end": "1022950"
  },
  {
    "text": "scan the internet for you can scan around to say hey give me everything that has a poor open to give you an example this is sed there are 1874 sed",
    "start": "1022950",
    "end": "1032430"
  },
  {
    "text": "servers on the Internet last time but when I search this and the interesting thing is that if you look at",
    "start": "1032430",
    "end": "1037650"
  },
  {
    "text": "the stuff than the right it's sometimes is actually telling you stuff like Pierce it wouldn't do this if it wasn't",
    "start": "1037650",
    "end": "1042900"
  },
  {
    "text": "if it couldn't attend to Kate right that's people's clusters that's eighteen hundred and seventy-four either at CDN",
    "start": "1042900",
    "end": "1048240"
  },
  {
    "text": "census are clusters that are probably unattentive cated now I didn't connect to any of these because again why hat",
    "start": "1048240",
    "end": "1053790"
  },
  {
    "text": "don't go to jail don't lose my job luckily for me there are researchers who don't really mind that kind of thing quite so much",
    "start": "1053790",
    "end": "1060160"
  },
  {
    "text": "so a guy did a post called the foot gun of xcd he didn't even know at any dues Cabernets at a time he basically did",
    "start": "1060160",
    "end": "1065920"
  },
  {
    "text": "this and then downloaded all the databases and he found loads of passwords keys everything else this is",
    "start": "1065920",
    "end": "1071140"
  },
  {
    "text": "people's cluster databases and there are eighteen hundred and seventy four of them currently sitting online waiting",
    "start": "1071140",
    "end": "1076450"
  },
  {
    "text": "for people to attack if you don't get this stuff right by default you have a probably fairly small window between",
    "start": "1076450",
    "end": "1082570"
  },
  {
    "text": "before someone comes and tries to do this to you once attackers is killing a shark metaphor once attackers smell blood in the water",
    "start": "1082570",
    "end": "1088390"
  },
  {
    "text": "once they get the idea is like why MongoDB got attacked again and again on the internet because it got the reputation for being installed and",
    "start": "1088390",
    "end": "1093850"
  },
  {
    "text": "authenticated so the attackers went oh that's a good target we'll scan up a bomb well we could have a bot for that we'll have it scan the internet find",
    "start": "1093850",
    "end": "1099960"
  },
  {
    "text": "places to attack if people get the idea that that's possible they will do it and then they'll start downloading stuff and",
    "start": "1099960",
    "end": "1104980"
  },
  {
    "text": "compromise in clusters so yeah sure that is super cool but a bit scary at times",
    "start": "1104980",
    "end": "1110910"
  },
  {
    "text": "so the other one the the it's worth mentioning is Kuebler right so back in",
    "start": "1110910",
    "end": "1117520"
  },
  {
    "start": "1111000",
    "end": "1111000"
  },
  {
    "text": "the old days of over 18 months ago the cubelet couldn't be authenticated",
    "start": "1117520",
    "end": "1122590"
  },
  {
    "text": "there was no authentication for the cubelet basically if you get to the port you could execute commands what having",
    "start": "1122590",
    "end": "1129160"
  },
  {
    "text": "access to the cubelet api will do is it'll allow you to execute any command in any container running on that note",
    "start": "1129160",
    "end": "1135250"
  },
  {
    "text": "right with the privileges of the docker engine or whatever container runtime engine you're running so basically if i",
    "start": "1135250",
    "end": "1140560"
  },
  {
    "text": "can get to the Kuebler api it's pretty much inevitable that i'll compromise that node and depending on where i can",
    "start": "1140560",
    "end": "1146110"
  },
  {
    "text": "go from there is pretty likely i'll get the whole cluster not every default installer will put authentication on the",
    "start": "1146110",
    "end": "1152800"
  },
  {
    "text": "cubelet so it's really important to check if you're using one of the distributions that they are putting authentication on the cubelet because",
    "start": "1152800",
    "end": "1159130"
  },
  {
    "text": "otherwise bad things can happen like this so let's do this one is even easier",
    "start": "1159130",
    "end": "1166380"
  },
  {
    "text": "[Music] so I've got my cubelet running and all I",
    "start": "1166390",
    "end": "1172540"
  },
  {
    "text": "need to do here as I say basically go get cubes system cube ABI server and run",
    "start": "1172540",
    "end": "1177760"
  },
  {
    "text": "that command and it says of course there's the private key for the CA for the cluster right so I can no issue use",
    "start": "1177760",
    "end": "1184810"
  },
  {
    "text": "certificates are doing thing else I want that's basically game over for that cluster single command well you'd have to do one more command to find out what",
    "start": "1184810",
    "end": "1191020"
  },
  {
    "text": "the name of the API rapport was but but realistically speaking is extremely simple to compromise a cluster and again we've",
    "start": "1191020",
    "end": "1197650"
  },
  {
    "text": "seen clusters where we're getting paid to do pen tests so companies that understand that security is a thing they",
    "start": "1197650",
    "end": "1203800"
  },
  {
    "text": "don't realize that the cubelet is necessarily unauthenticated by default sometimes and they can leave it open and",
    "start": "1203800",
    "end": "1209200"
  },
  {
    "text": "then it's very sure order to get a cost of compromise so cubelet yeah securing the cubelet is super important",
    "start": "1209200",
    "end": "1216750"
  },
  {
    "text": "what about malicious containers so the thing about cuber Nettie's is it runs a",
    "start": "1217410",
    "end": "1223480"
  },
  {
    "start": "1218000",
    "end": "1218000"
  },
  {
    "text": "lot of services right it doesn't just run it's not designed just run one workload it's designed for many workloads so realistically speaking the",
    "start": "1223480",
    "end": "1229570"
  },
  {
    "text": "more what clothes you run on it the more ports and services you're exposing to thier set world the bigger your attack",
    "start": "1229570",
    "end": "1235390"
  },
  {
    "text": "surface so there's more places for an attacker to attack and you have to realistically expect that at some point they're gonna get lucky with an app",
    "start": "1235390",
    "end": "1241360"
  },
  {
    "text": "vulnerability and they're gonna compromise one container inside your cluster you don't want that to be game over for your whole cluster that's",
    "start": "1241360",
    "end": "1247780"
  },
  {
    "text": "that's not a good set set up to have um what do you get in terms if I'm a good",
    "start": "1247780",
    "end": "1253810"
  },
  {
    "start": "1252000",
    "end": "1252000"
  },
  {
    "text": "attacker and I get my position inside a container what do I get out of that I get access to container file system so",
    "start": "1253810",
    "end": "1260470"
  },
  {
    "text": "if you were in Liz Rice's keynote this morning and you saw how people could mount the root filesystem obviously they",
    "start": "1260470",
    "end": "1266620"
  },
  {
    "text": "do that and you get a container file system there's gonna be game over really quickly that's one option I'll show you another you get an internal network",
    "start": "1266620",
    "end": "1273940"
  },
  {
    "text": "position right so you can access the container network rather than ever come near said world I can scan from the",
    "start": "1273940",
    "end": "1278950"
  },
  {
    "text": "container network out the way that tends to expose a lot more services there's a lot more to attack usually people don't",
    "start": "1278950",
    "end": "1283990"
  },
  {
    "text": "firewall that way around and I get kernel attacks so unless you're using some like cat containers or orgy visor I",
    "start": "1283990",
    "end": "1291130"
  },
  {
    "text": "can attack the Linux kernel attacking service account tokens so service",
    "start": "1291130",
    "end": "1296830"
  },
  {
    "start": "1295000",
    "end": "1295000"
  },
  {
    "text": "account tokens are there one of the things that surprised me most when I started looking at cube records coming",
    "start": "1296830",
    "end": "1302320"
  },
  {
    "text": "from I like security persons background someone said to me oh yeah if you run a just run a container then you can just execute cube CTL commands and it will",
    "start": "1302320",
    "end": "1308980"
  },
  {
    "text": "just be like wherever rice and before our BOTS came along you'll be cluster admin I said really you're joking and",
    "start": "1308980",
    "end": "1314440"
  },
  {
    "text": "then I tried it and it works so the problem is unless you have our bi deployed and you are mounting service",
    "start": "1314440",
    "end": "1320050"
  },
  {
    "text": "tokens in you're mounting a cluster I've been token inside every single container that means anyone who gets access",
    "start": "1320050",
    "end": "1325810"
  },
  {
    "text": "literally one command away that would keep CTL or excuse Caroline used to apply the token the way I did with the",
    "start": "1325810",
    "end": "1331000"
  },
  {
    "text": "bearer from getting cluster happen access to your cluster that's not good service tokens definitely yeah or a",
    "start": "1331000",
    "end": "1338200"
  },
  {
    "text": "dangerous thing I understand why they want but the idea that again that they're all they're always on by default right so every cluster I've ever seen",
    "start": "1338200",
    "end": "1343360"
  },
  {
    "text": "ever ever deployed I've ever looked at loads up service tokens by default they're going to be there leveraging",
    "start": "1343360",
    "end": "1351040"
  },
  {
    "start": "1350000",
    "end": "1350000"
  },
  {
    "text": "access in the cloud the other point about people attacking from the point of view of compromised container is it",
    "start": "1351040",
    "end": "1357760"
  },
  {
    "text": "isn't necessarily just a bad day for your cluster it could be a bad day for your whole cloud okay so once you're",
    "start": "1357760",
    "end": "1364090"
  },
  {
    "text": "inside say I'm running me in AWS as an example once I'm running inside the container I can hit generally hit the AWS method",
    "start": "1364090",
    "end": "1370630"
  },
  {
    "text": "into service so the idea if you don't know about it it's on a predictable IP address one six nine two five four one six nine two five four if you can hit",
    "start": "1370630",
    "end": "1377200"
  },
  {
    "text": "that you can get access to the IIM token for the ec2 instance you're running on depending on how many rights you've",
    "start": "1377200",
    "end": "1383650"
  },
  {
    "text": "given that I am profile you might be able to compromise someone's entire cluster okay sorry ty cloud account and",
    "start": "1383650",
    "end": "1388990"
  },
  {
    "text": "we have done this so if you have to fly a lot right ec2 and if you for example it all the Russians of corpse is better",
    "start": "1388990",
    "end": "1394900"
  },
  {
    "text": "now but all the Russians of cops give pretty wide rights to the to their",
    "start": "1394900",
    "end": "1400240"
  },
  {
    "text": "account so if you could hit if you've got inside the cluster you could get pretty good access to the other ones I think even know there are some rights",
    "start": "1400240",
    "end": "1406720"
  },
  {
    "text": "you could use to do things like create new ec2 instances so if I can get access to one container I can hit a bit metadata service and start spitting up",
    "start": "1406720",
    "end": "1412810"
  },
  {
    "text": "ec2 instances if my goal is to try and put my encrypted coin that could be quite valuable so you have to think",
    "start": "1412810",
    "end": "1420550"
  },
  {
    "text": "about the fact that people can get from your containers and go and do other things now becomes the most important",
    "start": "1420550",
    "end": "1426940"
  },
  {
    "start": "1425000",
    "end": "1425000"
  },
  {
    "text": "slide in the entire deck you've heard me say the words by default quite a lot",
    "start": "1426940",
    "end": "1433300"
  },
  {
    "text": "over the last 23 minutes or anything",
    "start": "1433300",
    "end": "1439080"
  },
  {
    "text": "security faults are critically important once things go into production settings",
    "start": "1439080",
    "end": "1444640"
  },
  {
    "text": "don't change so much right because changing settings has implications it can knock over your production workloads it mean you have to do rework things",
    "start": "1444640",
    "end": "1450940"
  },
  {
    "text": "going in to fix stuff before it goes into production get the defaults right I've been a security 18 years we're",
    "start": "1450940",
    "end": "1457690"
  },
  {
    "text": "still living with the legacy of thing like admin admin as being a default login for various management services I",
    "start": "1457690",
    "end": "1463120"
  },
  {
    "text": "still compromised accounts compromised systems using admin admin because it was a default right and defaults don't",
    "start": "1463120",
    "end": "1468970"
  },
  {
    "text": "change so getting security for and don't assume that wherever kubernetes",
    "start": "1468970",
    "end": "1475120"
  },
  {
    "text": "distribution or cloud provider you choose to use has the same threat model that you've got right they don't know",
    "start": "1475120",
    "end": "1481810"
  },
  {
    "text": "your threat model they don't know what you're worried about they can make assumptions and they can say here are our defaults that's not necessarily",
    "start": "1481810",
    "end": "1488020"
  },
  {
    "text": "going to be totally secure right not all the time definitely I got some surprises",
    "start": "1488020",
    "end": "1493240"
  },
  {
    "text": "when looking at the default settings and things weren't quite as secure as I thought they were going to be or lock down as I thought they were going to be so it's really really really important",
    "start": "1493240",
    "end": "1499480"
  },
  {
    "text": "if you think if you're really nothing else other than Scottish acts and pirate pictures that there you go good",
    "start": "1499480",
    "end": "1504520"
  },
  {
    "text": "presentation yeah remember that so key",
    "start": "1504520",
    "end": "1509800"
  },
  {
    "text": "school security considerations this is a quick run through the top ten of things I would recommend you look at first in",
    "start": "1509800",
    "end": "1517120"
  },
  {
    "start": "1517000",
    "end": "1517000"
  },
  {
    "text": "scoop or turn off if you're running 110 and above it's deprecated for you so you don't need to worry about it do not run",
    "start": "1517120",
    "end": "1522520"
  },
  {
    "text": "the insecure port there's really no reason and it's incredibly dangerous control access the cube lip do not allow",
    "start": "1522520",
    "end": "1529870"
  },
  {
    "start": "1527000",
    "end": "1527000"
  },
  {
    "text": "on a theta k - it's the cubelet you will have a bad time turn off the video only port as well it's not as bad but the",
    "start": "1529870",
    "end": "1536860"
  },
  {
    "text": "read-only poor still provides a whole lot of information that attackers would find super useful so it isn't gonna cause compromise on its own but when I",
    "start": "1536860",
    "end": "1543640"
  },
  {
    "text": "see it that's the first thing I do I read all that stuff I know what's going on I see advisor as well I think I see advisors getting deprecated - um control",
    "start": "1543640",
    "end": "1551770"
  },
  {
    "start": "1551000",
    "end": "1551000"
  },
  {
    "text": "access to SED if people can get unauthenticated access to your SSID you're gonna have a really bad time make",
    "start": "1551770",
    "end": "1557350"
  },
  {
    "text": "sure that that is the certificate authority they're able to set up before you go going restrict service token use",
    "start": "1557350",
    "end": "1563980"
  },
  {
    "start": "1562000",
    "end": "1562000"
  },
  {
    "text": "so for me I don't know ever at mean you guys run production clusters I don't what percentage of containers actually",
    "start": "1563980",
    "end": "1570340"
  },
  {
    "text": "need kubernetes api access I don't think it's that high so I turn the default round and say hey let's not mount",
    "start": "1570340",
    "end": "1576310"
  },
  {
    "text": "service tokens unless we actually need them rather than mount them every single time and having to not that be my way around to looking at that if you do",
    "start": "1576310",
    "end": "1583360"
  },
  {
    "text": "mount service tokens all the time make sure you have our back switched on otherwise yeah cluster admin tokens",
    "start": "1583360",
    "end": "1589210"
  },
  {
    "text": "everywhere you restrict of loose containers so again if you're in the top this morning there was some",
    "start": "1589210",
    "end": "1596630"
  },
  {
    "start": "1592000",
    "end": "1592000"
  },
  {
    "text": "of the dangers of privileged containers privileged containers are super dangerous I tell you now that when all",
    "start": "1596630",
    "end": "1602540"
  },
  {
    "text": "this other easy stuff gets locked down my CD in Kuebler the next place I'm going to start attacking an expert hacker to start attacking is anything",
    "start": "1602540",
    "end": "1609200"
  },
  {
    "text": "that runs is privileged because if we can compromise the service running in a privileged container we're going to get accessed the underlying node and from",
    "start": "1609200",
    "end": "1615230"
  },
  {
    "text": "there it's much easier to access the overall cluster so anything you've got running is privileged consider that a dangerous thing especially things like",
    "start": "1615230",
    "end": "1621440"
  },
  {
    "text": "Network plugins which tend to run is privileged and have a network attack footprint that I you know I haven't seen",
    "start": "1621440",
    "end": "1626660"
  },
  {
    "text": "weaknesses in them yet but I tell you that's where I would go if I was a bad guy I'd be going after the network plugins because they seem they've run on",
    "start": "1626660",
    "end": "1632540"
  },
  {
    "text": "every single node and they run as privileged so they're dangerous so be careful of anything privileged API",
    "start": "1632540",
    "end": "1639830"
  },
  {
    "text": "server authentication yeah don't lie anonymous off it there is I mean I",
    "start": "1639830",
    "end": "1645440"
  },
  {
    "text": "basically recommend probably end users don't use certificate off because there's no way route of validating a",
    "start": "1645440",
    "end": "1650540"
  },
  {
    "text": "certificate so that's one of the problems if you so so I see or something like that some other form of",
    "start": "1650540",
    "end": "1656510"
  },
  {
    "text": "identification but make sure that's turned on enabled use are back",
    "start": "1656510",
    "end": "1661610"
  },
  {
    "text": "definitely use our Mac or other alternatives but are back if nothing else but yeah that absolutely needs to",
    "start": "1661610",
    "end": "1667580"
  },
  {
    "text": "happen pod security policy if you are at all worried about any of you you just",
    "start": "1667580",
    "end": "1675260"
  },
  {
    "text": "like you don't want to easily give your users cluster admin access you want to like lock people down specific areas you really need a pod security policy",
    "start": "1675260",
    "end": "1681380"
  },
  {
    "text": "because you need to stop them doing things like mounting in the root filesystem off the underlying node right so you need a pod security policy",
    "start": "1681380",
    "end": "1687679"
  },
  {
    "text": "definitely network policy network policy is super cool you can do things like stop containers",
    "start": "1687679",
    "end": "1695179"
  },
  {
    "text": "getting access to the control plate right why should containers necessarily need to be able to contact the Kuebler",
    "start": "1695179",
    "end": "1700250"
  },
  {
    "text": "probably they shouldn't so you can use network policy with the correct plugin to block egress not all of them support",
    "start": "1700250",
    "end": "1706040"
  },
  {
    "text": "egress filtering worth noting regular upgrades this one will has been",
    "start": "1706040",
    "end": "1712370"
  },
  {
    "text": "mentioned once or twice but this one will come back and by one of the problems with kubernetes when I look at it from my old school enterprise hat on",
    "start": "1712370",
    "end": "1719030"
  },
  {
    "text": "is the idea of having to completely reroll a cluster every nine months at most probably more free than that to keep supported it's going",
    "start": "1719030",
    "end": "1726330"
  },
  {
    "text": "to be a better challenge but you need to do it because if you get a security update you're going to do it quickly so",
    "start": "1726330",
    "end": "1731580"
  },
  {
    "text": "get used to the idea of doing regular upgrades honorable mention it's not my",
    "start": "1731580",
    "end": "1736770"
  },
  {
    "start": "1736000",
    "end": "1736000"
  },
  {
    "text": "top ten cloud rates be very careful what rights are available to your container",
    "start": "1736770",
    "end": "1743100"
  },
  {
    "text": "and cluster components because if you give too many an attacker compromised your cluster you don't want that to turn",
    "start": "1743100",
    "end": "1748350"
  },
  {
    "text": "into a bad day for your whole cloud account because that could be a really super bad day with billing in complicated implications resources",
    "start": "1748350",
    "end": "1755880"
  },
  {
    "start": "1755000",
    "end": "1755000"
  },
  {
    "text": "people and other presentations and lots I'll just mention this one this is a CRS guide it's very long it has 270",
    "start": "1755880",
    "end": "1761880"
  },
  {
    "text": "something on pages in it one thing to know is the way we wrote this was we",
    "start": "1761880",
    "end": "1767190"
  },
  {
    "text": "went through every single setting in kubernetes that could vaguely have to do with security and said this is the secure option so don't try and like get",
    "start": "1767190",
    "end": "1773910"
  },
  {
    "text": "a hundred percent passing rate I'm not even sure a cluster would work if you did but look at it as a thing to go",
    "start": "1773910",
    "end": "1780240"
  },
  {
    "text": "through and say here are some ideas I can consider consider what it's saying and say hey you know is that good or bad",
    "start": "1780240",
    "end": "1785730"
  },
  {
    "text": "and don't let in order to tell you you have to get under presenter on either my email address I'll tell them was a bad",
    "start": "1785730",
    "end": "1790920"
  },
  {
    "text": "idea conclusion default security options are super super important they are the most",
    "start": "1790920",
    "end": "1797730"
  },
  {
    "start": "1794000",
    "end": "1794000"
  },
  {
    "text": "important thing get it right before you go into production and you will have a much better life always think about your",
    "start": "1797730",
    "end": "1803070"
  },
  {
    "text": "threat model and attack surface right when you're thinking about where you want to spend your effort if you don't",
    "start": "1803070",
    "end": "1809520"
  },
  {
    "text": "have to worry about internal attackers then spend less time doing controls that matter to them spend more time doing",
    "start": "1809520",
    "end": "1815280"
  },
  {
    "text": "controls that matter to the kind of people who are likely to attack you Internet noises are guaranteed so make sure you don't have any of the kind of",
    "start": "1815280",
    "end": "1820800"
  },
  {
    "text": "stuff they're going to scan for target that attackers is a bit of a more nuanced conversation and get the basics",
    "start": "1820800",
    "end": "1826770"
  },
  {
    "text": "right there's been lots of lots and lots of presentations I'll be these pleasantly surprised about how many so",
    "start": "1826770",
    "end": "1832020"
  },
  {
    "text": "much security stuff is ongoing some of its really cool but I wouldn't necessarily start there get the basics",
    "start": "1832020",
    "end": "1837210"
  },
  {
    "text": "right first get stuff lockdown get authentication switched on everywhere before going on and then like doing",
    "start": "1837210",
    "end": "1842580"
  },
  {
    "text": "those more advanced topics no dead on that money we've got I think a couple of",
    "start": "1842580",
    "end": "1847890"
  },
  {
    "start": "1845000",
    "end": "1845000"
  },
  {
    "text": "notes for questions so do we have any questions",
    "start": "1847890",
    "end": "1851660"
  },
  {
    "text": "presentation by the way is up on github and it's also in docker hub so it's a",
    "start": "1858400",
    "end": "1863720"
  },
  {
    "text": "yes it open container obviously so any questions nope I can hardly see so they",
    "start": "1863720",
    "end": "1873170"
  },
  {
    "text": "just share a few got o later up now can see no questions fantastic in that case",
    "start": "1873170",
    "end": "1880490"
  },
  {
    "text": "thank you very much [Applause]",
    "start": "1880490",
    "end": "1885490"
  }
]