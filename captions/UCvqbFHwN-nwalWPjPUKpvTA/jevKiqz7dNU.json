[
  {
    "text": "hey so for our next session please",
    "start": "120",
    "end": "4120"
  },
  {
    "text": "welcome Teo solodovnikov who's going to",
    "start": "4120",
    "end": "6480"
  },
  {
    "text": "be talking about the use of selum cni in",
    "start": "6480",
    "end": "9679"
  },
  {
    "text": "Click house Cloud so let's give Tim a",
    "start": "9679",
    "end": "11599"
  },
  {
    "text": "big round of",
    "start": "11599",
    "end": "12580"
  },
  {
    "text": "[Applause]",
    "start": "12580",
    "end": "16880"
  },
  {
    "text": "applause thank you for joining this",
    "start": "16880",
    "end": "18840"
  },
  {
    "text": "session um before talking about celum",
    "start": "18840",
    "end": "21480"
  },
  {
    "text": "and networking uh I want to share some",
    "start": "21480",
    "end": "23760"
  },
  {
    "text": "interesting fact um about our journey uh",
    "start": "23760",
    "end": "27439"
  },
  {
    "text": "it took only 6 months uh between hiring",
    "start": "27439",
    "end": "30560"
  },
  {
    "text": "the first engineer to data plane team",
    "start": "30560",
    "end": "33040"
  },
  {
    "text": "and opening our Cloud for private",
    "start": "33040",
    "end": "34920"
  },
  {
    "text": "preview and so it was really important",
    "start": "34920",
    "end": "37320"
  },
  {
    "text": "to find right technology for each piece",
    "start": "37320",
    "end": "39480"
  },
  {
    "text": "of our stack and after running in",
    "start": "39480",
    "end": "44079"
  },
  {
    "text": "more than a year in our Cloud I can tell",
    "start": "44079",
    "end": "45920"
  },
  {
    "text": "you that is a great choice for our",
    "start": "45920",
    "end": "49559"
  },
  {
    "text": "platform about me um my name is Timor",
    "start": "49559",
    "end": "52440"
  },
  {
    "text": "sikov I'm site relability engineer I",
    "start": "52440",
    "end": "55480"
  },
  {
    "text": "work in infrastructure team I joined",
    "start": "55480",
    "end": "57719"
  },
  {
    "text": "tolick house in uh June 2022 right after",
    "start": "57719",
    "end": "61320"
  },
  {
    "text": "opening it for private",
    "start": "61320",
    "end": "63360"
  },
  {
    "text": "preview um our team is involved into",
    "start": "63360",
    "end": "66000"
  },
  {
    "text": "multiple project projects related to",
    "start": "66000",
    "end": "68439"
  },
  {
    "text": "infrastructure Improvement and",
    "start": "68439",
    "end": "72400"
  },
  {
    "text": "management um for those who don't know",
    "start": "72400",
    "end": "75159"
  },
  {
    "text": "what is Click house click house is open",
    "start": "75159",
    "end": "77119"
  },
  {
    "text": "source uh column oriented distributed uh",
    "start": "77119",
    "end": "80439"
  },
  {
    "text": "database um it was open sourced in uh",
    "start": "80439",
    "end": "82920"
  },
  {
    "text": "2016 under Apachi to license and since",
    "start": "82920",
    "end": "86079"
  },
  {
    "text": "then it gained um the huge",
    "start": "86079",
    "end": "88479"
  },
  {
    "text": "popularities um a lot of companies they",
    "start": "88479",
    "end": "91240"
  },
  {
    "text": "use it for um analyzing um the Big Data",
    "start": "91240",
    "end": "95479"
  },
  {
    "text": "uh that's what click house actually was",
    "start": "95479",
    "end": "97280"
  },
  {
    "text": "built to analyze the huge amounts of",
    "start": "97280",
    "end": "99360"
  },
  {
    "text": "data uh back in uh 209 so use cases",
    "start": "99360",
    "end": "104880"
  },
  {
    "text": "usually people use it for like analytics",
    "start": "104880",
    "end": "107680"
  },
  {
    "text": "dashboarding um ad hoc queries um for",
    "start": "107680",
    "end": "111280"
  },
  {
    "text": "near real time analytics yeah that's",
    "start": "111280",
    "end": "114159"
  },
  {
    "text": "what is this and we are building Cloud",
    "start": "114159",
    "end": "116680"
  },
  {
    "text": "on top of Click house I I want to show",
    "start": "116680",
    "end": "119479"
  },
  {
    "text": "uh quick um not demo but uh user",
    "start": "119479",
    "end": "123079"
  },
  {
    "text": "experience in our Cloud you can create",
    "start": "123079",
    "end": "125079"
  },
  {
    "text": "cck house instance in like seconds um we",
    "start": "125079",
    "end": "129399"
  },
  {
    "text": "currently uh support uh AWS and gcp in",
    "start": "129399",
    "end": "133319"
  },
  {
    "text": "AWS we support eight regions in gcp we",
    "start": "133319",
    "end": "135680"
  },
  {
    "text": "support regions um you just need to pick",
    "start": "135680",
    "end": "138680"
  },
  {
    "text": "right region and set some settings for",
    "start": "138680",
    "end": "141680"
  },
  {
    "text": "example we support alter scaling um you",
    "start": "141680",
    "end": "145280"
  },
  {
    "text": "can Define minimum and maximum limits",
    "start": "145280",
    "end": "147800"
  },
  {
    "text": "for instance and instance will be scaled",
    "start": "147800",
    "end": "150560"
  },
  {
    "text": "Up and Down based on your workload also",
    "start": "150560",
    "end": "153440"
  },
  {
    "text": "we support SC scaling um which means",
    "start": "153440",
    "end": "156200"
  },
  {
    "text": "that if you don't have any activity on",
    "start": "156200",
    "end": "157800"
  },
  {
    "text": "your instance instance will be ped and",
    "start": "157800",
    "end": "159959"
  },
  {
    "text": "you will not be paying for your computer",
    "start": "159959",
    "end": "163920"
  },
  {
    "text": "sources um you can connect to click",
    "start": "163920",
    "end": "166120"
  },
  {
    "text": "house Cloud using standard tools such as",
    "start": "166120",
    "end": "168200"
  },
  {
    "text": "uh click house CLI also we um d a lot of",
    "start": "168200",
    "end": "172480"
  },
  {
    "text": "uh drivers uh connectors U most of the",
    "start": "172480",
    "end": "176480"
  },
  {
    "text": "program programming languages they have",
    "start": "176480",
    "end": "178879"
  },
  {
    "text": "connectors to click house and also we",
    "start": "178879",
    "end": "181159"
  },
  {
    "text": "have um click house SQL UI um it's U the",
    "start": "181159",
    "end": "184920"
  },
  {
    "text": "UI that's part of Click house Cloud",
    "start": "184920",
    "end": "186760"
  },
  {
    "text": "where you can um build queries",
    "start": "186760",
    "end": "188959"
  },
  {
    "text": "visualizations and also actually our uh",
    "start": "188959",
    "end": "191599"
  },
  {
    "text": "sqi can build queries for you using",
    "start": "191599",
    "end": "194360"
  },
  {
    "text": "generative",
    "start": "194360",
    "end": "195560"
  },
  {
    "text": "EI okay uh about our stack uh currently",
    "start": "195560",
    "end": "200000"
  },
  {
    "text": "um we are we we we have Cloud deployed",
    "start": "200000",
    "end": "203239"
  },
  {
    "text": "in AWS in gcp next year we will open it",
    "start": "203239",
    "end": "206360"
  },
  {
    "text": "for Azure uh we use managed kubernetes",
    "start": "206360",
    "end": "209280"
  },
  {
    "text": "services",
    "start": "209280",
    "end": "210280"
  },
  {
    "text": "um we use terraform for infrastructure",
    "start": "210280",
    "end": "212519"
  },
  {
    "text": "as a code uh our computer and storage",
    "start": "212519",
    "end": "215760"
  },
  {
    "text": "are separated for in AWS we use S3 for",
    "start": "215760",
    "end": "219280"
  },
  {
    "text": "storing data in Click house in gcp we",
    "start": "219280",
    "end": "221760"
  },
  {
    "text": "use uh Google Cloud Storage also we use",
    "start": "221760",
    "end": "224599"
  },
  {
    "text": "uh EO for data Ingress um hiso is a",
    "start": "224599",
    "end": "227920"
  },
  {
    "text": "single point of entry to our cloud and",
    "start": "227920",
    "end": "230920"
  },
  {
    "text": "also we use ARG CD for managing our um",
    "start": "230920",
    "end": "235280"
  },
  {
    "text": "kubernetes",
    "start": "235280",
    "end": "238079"
  },
  {
    "text": "manifests um you during initial design",
    "start": "238280",
    "end": "241400"
  },
  {
    "text": "um we we had some Network requirements",
    "start": "241400",
    "end": "244280"
  },
  {
    "text": "for our networking stack one of the the",
    "start": "244280",
    "end": "247280"
  },
  {
    "text": "most important requirement was the",
    "start": "247280",
    "end": "248879"
  },
  {
    "text": "performance U Cliff House is a blazing",
    "start": "248879",
    "end": "250920"
  },
  {
    "text": "fast database it can easily utilize",
    "start": "250920",
    "end": "253200"
  },
  {
    "text": "Network bandwidth on computer source on",
    "start": "253200",
    "end": "255959"
  },
  {
    "text": "computer instance excuse me um yeah and",
    "start": "255959",
    "end": "259600"
  },
  {
    "text": "we it's it was really important that",
    "start": "259600",
    "end": "262280"
  },
  {
    "text": "Network cni shouldn't be bottleneck for",
    "start": "262280",
    "end": "264880"
  },
  {
    "text": "database also these um networking stack",
    "start": "264880",
    "end": "268440"
  },
  {
    "text": "should be easy to debug our company is",
    "start": "268440",
    "end": "270639"
  },
  {
    "text": "relatively young and uh we don't have",
    "start": "270639",
    "end": "274240"
  },
  {
    "text": "Network Engineers we have mostly",
    "start": "274240",
    "end": "275720"
  },
  {
    "text": "software developers and",
    "start": "275720",
    "end": "277639"
  },
  {
    "text": "SES um and also um really important",
    "start": "277639",
    "end": "281840"
  },
  {
    "text": "requirement we is Network isolation we",
    "start": "281840",
    "end": "285520"
  },
  {
    "text": "um host like multiple instances and it's",
    "start": "285520",
    "end": "289120"
  },
  {
    "text": "really important to have isolation on",
    "start": "289120",
    "end": "291960"
  },
  {
    "text": "networking layer as well so and we had",
    "start": "291960",
    "end": "294520"
  },
  {
    "text": "multiple options we reviewed them for",
    "start": "294520",
    "end": "296520"
  },
  {
    "text": "example multiple AWS accounts or vpcs or",
    "start": "296520",
    "end": "299320"
  },
  {
    "text": "sub subnets or multiple kubernetes",
    "start": "299320",
    "end": "301919"
  },
  {
    "text": "clusters but those options are not",
    "start": "301919",
    "end": "305000"
  },
  {
    "text": "really uh uh good for us because it it",
    "start": "305000",
    "end": "308360"
  },
  {
    "text": "would add a lot of uh maintenance burden",
    "start": "308360",
    "end": "310440"
  },
  {
    "text": "and it it's just hard to manage and we",
    "start": "310440",
    "end": "313280"
  },
  {
    "text": "decided to start with uh just a single",
    "start": "313280",
    "end": "316360"
  },
  {
    "text": "kubernetes cluster with multiple name",
    "start": "316360",
    "end": "318039"
  },
  {
    "text": "spaces and network isolation on using",
    "start": "318039",
    "end": "320280"
  },
  {
    "text": "network policies and actually initially",
    "start": "320280",
    "end": "322840"
  },
  {
    "text": "we started with Calico um yeah worked",
    "start": "322840",
    "end": "326120"
  },
  {
    "text": "for us uh but later we switched to selum",
    "start": "326120",
    "end": "328800"
  },
  {
    "text": "because Sim just",
    "start": "328800",
    "end": "330400"
  },
  {
    "text": "had better performance comparing to",
    "start": "330400",
    "end": "332199"
  },
  {
    "text": "Calico one of the reason is the ebpf and",
    "start": "332199",
    "end": "336280"
  },
  {
    "text": "also celum uh another Advantage",
    "start": "336280",
    "end": "340199"
  },
  {
    "text": "advantage of celum is um Network",
    "start": "340199",
    "end": "342720"
  },
  {
    "text": "policies celum Network policies um yeah",
    "start": "342720",
    "end": "346000"
  },
  {
    "text": "to be fair uh later KH also added ebpf",
    "start": "346000",
    "end": "349000"
  },
  {
    "text": "support but we still decided to go with",
    "start": "349000",
    "end": "352840"
  },
  {
    "text": " um what is Click house instance um",
    "start": "352840",
    "end": "356199"
  },
  {
    "text": "we run our compute in kubernetes um",
    "start": "356199",
    "end": "360720"
  },
  {
    "text": "s click house instance is set of ports",
    "start": "360720",
    "end": "363360"
  },
  {
    "text": "that deployed in a single name space we",
    "start": "363360",
    "end": "366000"
  },
  {
    "text": "have our um operator that creates all",
    "start": "366000",
    "end": "368759"
  },
  {
    "text": "kubernetes items such as click House",
    "start": "368759",
    "end": "371039"
  },
  {
    "text": "Server pod keeper pod keeper is our",
    "start": "371039",
    "end": "374000"
  },
  {
    "text": "implementation of Zookeeper um um also",
    "start": "374000",
    "end": "377960"
  },
  {
    "text": "our management layer it creates IM roll",
    "start": "377960",
    "end": "381120"
  },
  {
    "text": "and attaches it to click house pod uh",
    "start": "381120",
    "end": "384400"
  },
  {
    "text": "this role has redri access to S3 bucket",
    "start": "384400",
    "end": "387599"
  },
  {
    "text": "so and also operator creates Network",
    "start": "387599",
    "end": "390720"
  },
  {
    "text": "policies um I skipped a lot of um",
    "start": "390720",
    "end": "394400"
  },
  {
    "text": "information here um but I just want to",
    "start": "394400",
    "end": "397080"
  },
  {
    "text": "share highlight some uh items um in",
    "start": "397080",
    "end": "400360"
  },
  {
    "text": "general we allow access um between ports",
    "start": "400360",
    "end": "403759"
  },
  {
    "text": "within the namespace also we allow",
    "start": "403759",
    "end": "406319"
  },
  {
    "text": "inbound connections from certain pods",
    "start": "406319",
    "end": "408400"
  },
  {
    "text": "for example for monitoring and also from",
    "start": "408400",
    "end": "412000"
  },
  {
    "text": "esto for Ingress and also we allow",
    "start": "412000",
    "end": "415919"
  },
  {
    "text": "outbound connection connections from the",
    "start": "415919",
    "end": "418280"
  },
  {
    "text": "namespace uh",
    "start": "418280",
    "end": "420160"
  },
  {
    "text": "why we need it because our customers",
    "start": "420160",
    "end": "422360"
  },
  {
    "text": "they can ingest data from internet it",
    "start": "422360",
    "end": "424160"
  },
  {
    "text": "could be for example click sorry Kafka",
    "start": "424160",
    "end": "427160"
  },
  {
    "text": "cluster that deployed in Internet and",
    "start": "427160",
    "end": "429400"
  },
  {
    "text": "customers would connect to this cavka",
    "start": "429400",
    "end": "431479"
  },
  {
    "text": "and load data uh to click House's server",
    "start": "431479",
    "end": "435280"
  },
  {
    "text": "but we want to make sure that we uh",
    "start": "435280",
    "end": "437520"
  },
  {
    "text": "block uh certain connections for example",
    "start": "437520",
    "end": "439800"
  },
  {
    "text": "we block access to ciders that we use in",
    "start": "439800",
    "end": "443000"
  },
  {
    "text": "our uh VPC and also we block access to",
    "start": "443000",
    "end": "446120"
  },
  {
    "text": "AWS metadata service so using S Network",
    "start": "446120",
    "end": "449680"
  },
  {
    "text": "policies we achieved Network isolation",
    "start": "449680",
    "end": "451879"
  },
  {
    "text": "on using network",
    "start": "451879",
    "end": "455000"
  },
  {
    "text": "policies um um I'm going to talk about",
    "start": "455759",
    "end": "459080"
  },
  {
    "text": "inbound connection handling and how it",
    "start": "459080",
    "end": "460919"
  },
  {
    "text": "works in uh our Cloud um as I said",
    "start": "460919",
    "end": "464560"
  },
  {
    "text": "before we use EO for Ingress and as you",
    "start": "464560",
    "end": "469039"
  },
  {
    "text": "can see on this schema uh actually we",
    "start": "469039",
    "end": "471039"
  },
  {
    "text": "run EO in dedicated kubernetes cluster",
    "start": "471039",
    "end": "474240"
  },
  {
    "text": "one of the reason why we decided to",
    "start": "474240",
    "end": "476000"
  },
  {
    "text": "deploy EO separately is to protect uh EO",
    "start": "476000",
    "end": "479319"
  },
  {
    "text": "ports from potential uh bugs or if for",
    "start": "479319",
    "end": "482319"
  },
  {
    "text": "example customers uh for if they escape",
    "start": "482319",
    "end": "484840"
  },
  {
    "text": "the port they wouldn't get access to EO",
    "start": "484840",
    "end": "488000"
  },
  {
    "text": "pods and certificates and secrets and um",
    "start": "488000",
    "end": "492759"
  },
  {
    "text": "we um how it works uh when customer",
    "start": "492759",
    "end": "496520"
  },
  {
    "text": "establishes connection uh um the it LS",
    "start": "496520",
    "end": "500080"
  },
  {
    "text": "to isopods and using Sni heers is",
    "start": "500080",
    "end": "503759"
  },
  {
    "text": "forwards connection to proper database",
    "start": "503759",
    "end": "506720"
  },
  {
    "text": "back",
    "start": "506720",
    "end": "507479"
  },
  {
    "text": "end everything works fine and you might",
    "start": "507479",
    "end": "511080"
  },
  {
    "text": "be interested how it works because um",
    "start": "511080",
    "end": "514080"
  },
  {
    "text": "with network policies we should have we",
    "start": "514080",
    "end": "516080"
  },
  {
    "text": "should allow access from EO pods to uh",
    "start": "516080",
    "end": "519959"
  },
  {
    "text": "database server and really easy we use",
    "start": "519959",
    "end": "523200"
  },
  {
    "text": "esto labels to uh allow inbound",
    "start": "523200",
    "end": "526320"
  },
  {
    "text": "connections and everything is okay right",
    "start": "526320",
    "end": "529519"
  },
  {
    "text": "but in general it will not work but",
    "start": "529519",
    "end": "533240"
  },
  {
    "text": "thanks to cluster mesh we um use",
    "start": "533240",
    "end": "538240"
  },
  {
    "text": "cluster mesh between between proxy",
    "start": "538240",
    "end": "540880"
  },
  {
    "text": "cluster and data plane cluster where we",
    "start": "540880",
    "end": "542680"
  },
  {
    "text": "deploy database PS and it allows us to",
    "start": "542680",
    "end": "545880"
  },
  {
    "text": "create network policies in a way like uh",
    "start": "545880",
    "end": "549480"
  },
  {
    "text": "as eods would be deployed in the same",
    "start": "549480",
    "end": "551760"
  },
  {
    "text": "cluster so it's really uh really cool",
    "start": "551760",
    "end": "554720"
  },
  {
    "text": "feature for us there are other features",
    "start": "554720",
    "end": "556959"
  },
  {
    "text": "that we do not use for example pod IP",
    "start": "556959",
    "end": "559000"
  },
  {
    "text": "routing we do not use that",
    "start": "559000",
    "end": "561240"
  },
  {
    "text": "because we uh install C we using eni",
    "start": "561240",
    "end": "565079"
  },
  {
    "text": "mode it means that our pods they receive",
    "start": "565079",
    "end": "567880"
  },
  {
    "text": "IP address from",
    "start": "567880",
    "end": "569920"
  },
  {
    "text": "AWS uh VPC so all routing and forwarding",
    "start": "569920",
    "end": "573600"
  },
  {
    "text": "is done by AWS not by",
    "start": "573600",
    "end": "576079"
  },
  {
    "text": "c",
    "start": "576079",
    "end": "577760"
  },
  {
    "text": "um okay uh how we install CM we use hel",
    "start": "577760",
    "end": "582800"
  },
  {
    "text": "for",
    "start": "582800",
    "end": "583880"
  },
  {
    "text": "installation um first thing we uh Delete",
    "start": "583880",
    "end": "586720"
  },
  {
    "text": "standard Network demon sets that created",
    "start": "586720",
    "end": "589640"
  },
  {
    "text": "by AWS and um we create certificate for",
    "start": "589640",
    "end": "595760"
  },
  {
    "text": "establishing trust between uh proxy",
    "start": "595760",
    "end": "598200"
  },
  {
    "text": "cluster and dat dat plane",
    "start": "598200",
    "end": "600160"
  },
  {
    "text": "cluster um certificate is managed by",
    "start": "600160",
    "end": "603040"
  },
  {
    "text": "sort manager",
    "start": "603040",
    "end": "605000"
  },
  {
    "text": "tool um next step we install celum on",
    "start": "605000",
    "end": "608040"
  },
  {
    "text": "data plane cluster and as part of this",
    "start": "608040",
    "end": "609959"
  },
  {
    "text": "installation we expose celum uh",
    "start": "609959",
    "end": "613000"
  },
  {
    "text": "cluster mesh API server through internal",
    "start": "613000",
    "end": "615240"
  },
  {
    "text": "load balancer and also we set cluster",
    "start": "615240",
    "end": "617600"
  },
  {
    "text": "name name and ID this should be unique",
    "start": "617600",
    "end": "619760"
  },
  {
    "text": "within the cluster",
    "start": "619760",
    "end": "621279"
  },
  {
    "text": "mesh as a next step we uh install CM on",
    "start": "621279",
    "end": "624760"
  },
  {
    "text": "proxy cluster at proxy cluster is the",
    "start": "624760",
    "end": "627399"
  },
  {
    "text": "cluster where we uh run our",
    "start": "627399",
    "end": "630320"
  },
  {
    "text": "eods uh we also exposed cluster MH API",
    "start": "630320",
    "end": "633320"
  },
  {
    "text": "server through internal balancer we set",
    "start": "633320",
    "end": "635720"
  },
  {
    "text": "name and ID and also we create external",
    "start": "635720",
    "end": "638680"
  },
  {
    "text": "kubernetes service and we point this",
    "start": "638680",
    "end": "640560"
  },
  {
    "text": "service to internal Lo balancer that was",
    "start": "640560",
    "end": "643040"
  },
  {
    "text": "created on the previous step so proxy",
    "start": "643040",
    "end": "645920"
  },
  {
    "text": "cluster can connect to Cluster mesh API",
    "start": "645920",
    "end": "648399"
  },
  {
    "text": "server through uh these",
    "start": "648399",
    "end": "651160"
  },
  {
    "text": "servers and as a last step we create",
    "start": "651160",
    "end": "653560"
  },
  {
    "text": "external name service and in data plane",
    "start": "653560",
    "end": "655839"
  },
  {
    "text": "cluster and point it to internal",
    "start": "655839",
    "end": "657639"
  },
  {
    "text": "balancer in proxy cluster",
    "start": "657639",
    "end": "659800"
  },
  {
    "text": "and we add configuration uh cluster mesh",
    "start": "659800",
    "end": "663639"
  },
  {
    "text": "uh configuration as part of this step so",
    "start": "663639",
    "end": "667760"
  },
  {
    "text": "uh that's it uh unfortunately as you can",
    "start": "667760",
    "end": "670480"
  },
  {
    "text": "see uh there are circular dependencies",
    "start": "670480",
    "end": "674320"
  },
  {
    "text": "and it's uh that's why we we use it we",
    "start": "674320",
    "end": "678279"
  },
  {
    "text": "do this installation manually because um",
    "start": "678279",
    "end": "681680"
  },
  {
    "text": "there are load balancers created in um",
    "start": "681680",
    "end": "685720"
  },
  {
    "text": "in data plane and in proxy cluster and",
    "start": "685720",
    "end": "688440"
  },
  {
    "text": "it's hard to create automation for that",
    "start": "688440",
    "end": "690959"
  },
  {
    "text": "uh it is possible to set up cluster mes",
    "start": "690959",
    "end": "693240"
  },
  {
    "text": "uh using CM CLI but we prefer just use",
    "start": "693240",
    "end": "697639"
  },
  {
    "text": "uh",
    "start": "697639",
    "end": "699880"
  },
  {
    "text": "Helm okay",
    "start": "699959",
    "end": "702360"
  },
  {
    "text": "um unfortunately uh we we use celum",
    "start": "702360",
    "end": "707200"
  },
  {
    "text": "Network policies in AWS and",
    "start": "707200",
    "end": "708760"
  },
  {
    "text": "unfortunately we cannot use it in",
    "start": "708760",
    "end": "710240"
  },
  {
    "text": "network uh in gcp one of the reason",
    "start": "710240",
    "end": "713560"
  },
  {
    "text": "because we uh use manage celum manage",
    "start": "713560",
    "end": "717880"
  },
  {
    "text": "celum in gcp",
    "start": "717880",
    "end": "719760"
  },
  {
    "text": "and um in when you use managed celum in",
    "start": "719760",
    "end": "723720"
  },
  {
    "text": "gcp you cannot create celum network",
    "start": "723720",
    "end": "725600"
  },
  {
    "text": "policies so we have to create standard",
    "start": "725600",
    "end": "728200"
  },
  {
    "text": "Network policies um there are some",
    "start": "728200",
    "end": "731160"
  },
  {
    "text": "limitations that really do not affect us",
    "start": "731160",
    "end": "734639"
  },
  {
    "text": "um for example in with CM you can create",
    "start": "734639",
    "end": "738000"
  },
  {
    "text": "a cluster wide Network policies that",
    "start": "738000",
    "end": "739959"
  },
  {
    "text": "will be applied to the cluster when but",
    "start": "739959",
    "end": "742839"
  },
  {
    "text": "uh when you create um standard Network",
    "start": "742839",
    "end": "745560"
  },
  {
    "text": "policies it's a name scope to namespace",
    "start": "745560",
    "end": "748600"
  },
  {
    "text": "so",
    "start": "748600",
    "end": "749800"
  },
  {
    "text": "um also with celum you celum network",
    "start": "749800",
    "end": "753079"
  },
  {
    "text": "policies they support L7 protocols such",
    "start": "753079",
    "end": "755240"
  },
  {
    "text": "as",
    "start": "755240",
    "end": "756199"
  },
  {
    "text": "DNS um Kafka and",
    "start": "756199",
    "end": "759079"
  },
  {
    "text": "HTTP um in standard Network policies you",
    "start": "759079",
    "end": "761880"
  },
  {
    "text": "can create you can yes on the L3 and",
    "start": "761880",
    "end": "764079"
  },
  {
    "text": "four and also um you can use U pod",
    "start": "764079",
    "end": "768399"
  },
  {
    "text": "labels in syum network policies you can",
    "start": "768399",
    "end": "771279"
  },
  {
    "text": "uh Target Services um but in network",
    "start": "771279",
    "end": "774760"
  },
  {
    "text": "policies you can't but as a workaround",
    "start": "774760",
    "end": "776760"
  },
  {
    "text": "you can use pods pod l labels that are",
    "start": "776760",
    "end": "780199"
  },
  {
    "text": "attached to service selector so also not",
    "start": "780199",
    "end": "782519"
  },
  {
    "text": "a big deal for us and also s provides",
    "start": "782519",
    "end": "785519"
  },
  {
    "text": "such thing like uh entities entities is",
    "start": "785519",
    "end": "788480"
  },
  {
    "text": "uh as I understand predefined set of IP",
    "start": "788480",
    "end": "790560"
  },
  {
    "text": "addresses that can be used in network",
    "start": "790560",
    "end": "792839"
  },
  {
    "text": "policies for example you can Target Cube",
    "start": "792839",
    "end": "795160"
  },
  {
    "text": "API server or um internet or host there",
    "start": "795160",
    "end": "798959"
  },
  {
    "text": "are multiple I didn't put all of them",
    "start": "798959",
    "end": "801720"
  },
  {
    "text": "here um where in standard Network",
    "start": "801720",
    "end": "804040"
  },
  {
    "text": "policies you can use",
    "start": "804040",
    "end": "805839"
  },
  {
    "text": "cider notation yeah",
    "start": "805839",
    "end": "809320"
  },
  {
    "text": "okay",
    "start": "809320",
    "end": "811880"
  },
  {
    "text": "uh also uh as I said before it was",
    "start": "811880",
    "end": "815680"
  },
  {
    "text": "really important to uh have tools that",
    "start": "815680",
    "end": "820160"
  },
  {
    "text": "will allow us to debug Network layer and",
    "start": "820160",
    "end": "823760"
  },
  {
    "text": "um syum provides really nice um feature",
    "start": "823760",
    "end": "828040"
  },
  {
    "text": "as Hubble Hubble UI uh in Hubble you can",
    "start": "828040",
    "end": "831839"
  },
  {
    "text": "um debug and see traffic in real time",
    "start": "831839",
    "end": "836000"
  },
  {
    "text": "and see drops or uh what traffic traffic",
    "start": "836000",
    "end": "839040"
  },
  {
    "text": "is forwarded so a really nice",
    "start": "839040",
    "end": "843519"
  },
  {
    "text": "tool um I'm going to talk about problems",
    "start": "844199",
    "end": "847440"
  },
  {
    "text": "we had in our Cloud uh one of the",
    "start": "847440",
    "end": "849519"
  },
  {
    "text": "problems is inii limits uh because we",
    "start": "849519",
    "end": "852199"
  },
  {
    "text": "run celum in inii mode um some of the uh",
    "start": "852199",
    "end": "857600"
  },
  {
    "text": "CM doesn't have knowledge about some AWS",
    "start": "857600",
    "end": "860839"
  },
  {
    "text": "instances uh as you know um uh ec2",
    "start": "860839",
    "end": "865600"
  },
  {
    "text": "instances each instance type has own",
    "start": "865600",
    "end": "867680"
  },
  {
    "text": "limits and for example how many network",
    "start": "867680",
    "end": "870240"
  },
  {
    "text": "interfaces it has how much IP addresses",
    "start": "870240",
    "end": "873399"
  },
  {
    "text": "you can attach to it",
    "start": "873399",
    "end": "875399"
  },
  {
    "text": "so um our version didn't have uh",
    "start": "875399",
    "end": "878880"
  },
  {
    "text": "information about certain instance types",
    "start": "878880",
    "end": "881959"
  },
  {
    "text": "and U really easy to fix in our case",
    "start": "881959",
    "end": "885000"
  },
  {
    "text": "just run those this command found it in",
    "start": "885000",
    "end": "888199"
  },
  {
    "text": "esto source code and passed this",
    "start": "888199",
    "end": "891160"
  },
  {
    "text": "information through Helm",
    "start": "891160",
    "end": "894399"
  },
  {
    "text": "variables",
    "start": "894399",
    "end": "896320"
  },
  {
    "text": "um uh another interesting problem we had",
    "start": "896320",
    "end": "900480"
  },
  {
    "text": "uh after optimizing our computer sources",
    "start": "900480",
    "end": "904079"
  },
  {
    "text": "our cluster outter scalar started uh",
    "start": "904079",
    "end": "906959"
  },
  {
    "text": "expand and Shrink our cluster more",
    "start": "906959",
    "end": "909639"
  },
  {
    "text": "aggressively and um so what happened in",
    "start": "909639",
    "end": "913639"
  },
  {
    "text": "the name space in a click house Nam",
    "start": "913639",
    "end": "916199"
  },
  {
    "text": "space one of the Pod had problems with",
    "start": "916199",
    "end": "918720"
  },
  {
    "text": "connecting to other pods and it was",
    "start": "918720",
    "end": "921560"
  },
  {
    "text": "really hard to figure out initially what",
    "start": "921560",
    "end": "924000"
  },
  {
    "text": "is going on actually because what we did",
    "start": "924000",
    "end": "926639"
  },
  {
    "text": "uh to fix this problem we drained the no",
    "start": "926639",
    "end": "929240"
  },
  {
    "text": "where this pod was deployed and it",
    "start": "929240",
    "end": "931600"
  },
  {
    "text": "helped um but of course it's not a",
    "start": "931600",
    "end": "934720"
  },
  {
    "text": "solution not a long-term solution and uh",
    "start": "934720",
    "end": "937440"
  },
  {
    "text": "after debugging we found that um as you",
    "start": "937440",
    "end": "941079"
  },
  {
    "text": "can see here we this is the IP address",
    "start": "941079",
    "end": "943800"
  },
  {
    "text": "of the Pod and we got information from I",
    "start": "943800",
    "end": "946319"
  },
  {
    "text": "IP cache and you can see that this IP",
    "start": "946319",
    "end": "948920"
  },
  {
    "text": "address had identity four we also got um",
    "start": "948920",
    "end": "952440"
  },
  {
    "text": "information about this uh end point um",
    "start": "952440",
    "end": "957120"
  },
  {
    "text": "using this command and as you can see we",
    "start": "957120",
    "end": "959720"
  },
  {
    "text": "had correct labels here and when we",
    "start": "959720",
    "end": "963399"
  },
  {
    "text": "checked what is identity 4 we found that",
    "start": "963399",
    "end": "966399"
  },
  {
    "text": "it actually had label reserved health",
    "start": "966399",
    "end": "970279"
  },
  {
    "text": "and uh that was the clue for us because",
    "start": "970279",
    "end": "973399"
  },
  {
    "text": "usually this label attach to kubernetes",
    "start": "973399",
    "end": "975639"
  },
  {
    "text": "node not to the Pod and that's why we we",
    "start": "975639",
    "end": "979120"
  },
  {
    "text": "figured out that something is wrong with",
    "start": "979120",
    "end": "981199"
  },
  {
    "text": "uh Identity or uh mapping and we found",
    "start": "981199",
    "end": "986120"
  },
  {
    "text": "bug uh luckily uh fortunately it was",
    "start": "986120",
    "end": "990600"
  },
  {
    "text": "already closed uh this bug related to",
    "start": "990600",
    "end": "993360"
  },
  {
    "text": "incorrect not deletion uh in our case we",
    "start": "993360",
    "end": "996120"
  },
  {
    "text": "just updated and yeah that's that's",
    "start": "996120",
    "end": "999240"
  },
  {
    "text": "what is for",
    "start": "999240",
    "end": "1001839"
  },
  {
    "text": "us um",
    "start": "1001839",
    "end": "1004920"
  },
  {
    "text": "also U unfortunately cluster mesh is not",
    "start": "1004920",
    "end": "1008600"
  },
  {
    "text": "available in gcp in aure if you use",
    "start": "1008600",
    "end": "1010800"
  },
  {
    "text": "managed don't know why uh maybe",
    "start": "1010800",
    "end": "1014639"
  },
  {
    "text": "someday it will be",
    "start": "1014639",
    "end": "1016880"
  },
  {
    "text": "implemented um",
    "start": "1016880",
    "end": "1020079"
  },
  {
    "text": "yeah overall syum is a great choice for",
    "start": "1020079",
    "end": "1024038"
  },
  {
    "text": "our platform it helps to forward uh huge",
    "start": "1024039",
    "end": "1029280"
  },
  {
    "text": "amount of data in our cloud and we are",
    "start": "1029280",
    "end": "1031839"
  },
  {
    "text": "growing and so so far we are happy with",
    "start": "1031839",
    "end": "1036678"
  },
  {
    "text": " um if you want to try click house or",
    "start": "1036839",
    "end": "1040038"
  },
  {
    "text": "know click about click house please um",
    "start": "1040039",
    "end": "1043079"
  },
  {
    "text": "check our booth M14 uh you can install",
    "start": "1043079",
    "end": "1046798"
  },
  {
    "text": "click house uh using the command uh and",
    "start": "1046799",
    "end": "1049960"
  },
  {
    "text": "run it locally and try it or you can",
    "start": "1049960",
    "end": "1052280"
  },
  {
    "text": "sign up to click house cloud and get",
    "start": "1052280",
    "end": "1054039"
  },
  {
    "text": "$300 credits so check it out click house",
    "start": "1054039",
    "end": "1058080"
  },
  {
    "text": "is really fast database for analytical",
    "start": "1058080",
    "end": "1062160"
  },
  {
    "text": "workloads um also we are",
    "start": "1062160",
    "end": "1064640"
  },
  {
    "text": "hiring um please check out our website",
    "start": "1064640",
    "end": "1068760"
  },
  {
    "text": "uh we need talented Engineers so we are",
    "start": "1068760",
    "end": "1071600"
  },
  {
    "text": "looking for S uh software",
    "start": "1071600",
    "end": "1074919"
  },
  {
    "text": "developers and",
    "start": "1074919",
    "end": "1077400"
  },
  {
    "text": "yeah",
    "start": "1077400",
    "end": "1079280"
  },
  {
    "text": "thank",
    "start": "1079280",
    "end": "1080360"
  },
  {
    "text": "you thank you",
    "start": "1080360",
    "end": "1083679"
  },
  {
    "text": "Timo if you have questions we have the",
    "start": "1084760",
    "end": "1087159"
  },
  {
    "text": "mic in the middle of the room there so",
    "start": "1087159",
    "end": "1088720"
  },
  {
    "text": "please just go up form an orderly queue",
    "start": "1088720",
    "end": "1091720"
  },
  {
    "text": "and ask your questions thank",
    "start": "1091720",
    "end": "1095240"
  },
  {
    "text": "you hi I have to ask uh sounds like",
    "start": "1095600",
    "end": "1099559"
  },
  {
    "text": "there's some",
    "start": "1099559",
    "end": "1101039"
  },
  {
    "text": "downsides uh when you're selecting a",
    "start": "1101039",
    "end": "1104440"
  },
  {
    "text": "vendor provided a managed psyllium",
    "start": "1104440",
    "end": "1107440"
  },
  {
    "text": "solution",
    "start": "1107440",
    "end": "1109480"
  },
  {
    "text": "and no guarantees certainly of uh",
    "start": "1109480",
    "end": "1112919"
  },
  {
    "text": "interoperability I guess at any point in",
    "start": "1112919",
    "end": "1115280"
  },
  {
    "text": "the future um just curious what drove",
    "start": "1115280",
    "end": "1119559"
  },
  {
    "text": "your organization's decision uh toward",
    "start": "1119559",
    "end": "1123240"
  },
  {
    "text": "the manag service and instead",
    "start": "1123240",
    "end": "1126039"
  },
  {
    "text": "of being able to I guess uh carve your",
    "start": "1126039",
    "end": "1129400"
  },
  {
    "text": "own destiny yeah uh sure uh we wanted to",
    "start": "1129400",
    "end": "1134679"
  },
  {
    "text": "um just optimize our operation and um to",
    "start": "1134679",
    "end": "1139720"
  },
  {
    "text": "like move this burden of upgrades and",
    "start": "1139720",
    "end": "1142080"
  },
  {
    "text": "punching to cloud provider that was the",
    "start": "1142080",
    "end": "1144480"
  },
  {
    "text": "driving driving factor for us so is that",
    "start": "1144480",
    "end": "1148840"
  },
  {
    "text": "a comment about the administrative",
    "start": "1148840",
    "end": "1151520"
  },
  {
    "text": "burden for the",
    "start": "1151520",
    "end": "1153760"
  },
  {
    "text": "AWS uh deployments that you have um yeah",
    "start": "1153760",
    "end": "1157480"
  },
  {
    "text": "kind of yeah it's it's not really um",
    "start": "1157480",
    "end": "1160840"
  },
  {
    "text": "painful to upgrade within the",
    "start": "1160840",
    "end": "1164559"
  },
  {
    "text": "version within the release um so far um",
    "start": "1164559",
    "end": "1169039"
  },
  {
    "text": "but yeah we we wanted to just try",
    "start": "1169039",
    "end": "1171919"
  },
  {
    "text": "another way and maybe we will change",
    "start": "1171919",
    "end": "1174200"
  },
  {
    "text": "this in the future maybe we will migrate",
    "start": "1174200",
    "end": "1177440"
  },
  {
    "text": "to um uh bring your",
    "start": "1177440",
    "end": "1182039"
  },
  {
    "text": "cni and if I could ask one more uh sure",
    "start": "1182039",
    "end": "1186840"
  },
  {
    "text": "if so if there were no future of managed",
    "start": "1186840",
    "end": "1191720"
  },
  {
    "text": "Services uh being interoperable across",
    "start": "1191720",
    "end": "1195880"
  },
  {
    "text": "clouds uh what would you do right now",
    "start": "1195880",
    "end": "1198280"
  },
  {
    "text": "now if you knew",
    "start": "1198280",
    "end": "1200440"
  },
  {
    "text": "that",
    "start": "1200440",
    "end": "1202240"
  },
  {
    "text": "um could you please uh rephrase the",
    "start": "1202240",
    "end": "1204760"
  },
  {
    "text": "question so if if you were told today",
    "start": "1204760",
    "end": "1207679"
  },
  {
    "text": "you will never have",
    "start": "1207679",
    "end": "1209760"
  },
  {
    "text": "ayum the ability to uh use what what you",
    "start": "1209760",
    "end": "1213679"
  },
  {
    "text": "might call vanilla psyllium uh across",
    "start": "1213679",
    "end": "1217640"
  },
  {
    "text": "multicloud with managed psyllium",
    "start": "1217640",
    "end": "1220360"
  },
  {
    "text": "Services what would you what decisions",
    "start": "1220360",
    "end": "1223360"
  },
  {
    "text": "would you make now based on that",
    "start": "1223360",
    "end": "1225039"
  },
  {
    "text": "information of course uh of course we",
    "start": "1225039",
    "end": "1226960"
  },
  {
    "text": "will we will install our version of",
    "start": "1226960",
    "end": "1229840"
  },
  {
    "text": "manually and uh use we wouldn't use",
    "start": "1229840",
    "end": "1233360"
  },
  {
    "text": "manag celum in that way okay thanks very",
    "start": "1233360",
    "end": "1238360"
  },
  {
    "text": "much hi thanks your for presentation",
    "start": "1238360",
    "end": "1241240"
  },
  {
    "text": "could I please take you back take us",
    "start": "1241240",
    "end": "1242840"
  },
  {
    "text": "back to the page with the IP address",
    "start": "1242840",
    "end": "1245159"
  },
  {
    "text": "please back back yes this uh this B yes",
    "start": "1245159",
    "end": "1250440"
  },
  {
    "text": "so could you explain how you fix these",
    "start": "1250440",
    "end": "1253440"
  },
  {
    "text": "problem game plays you ran that AWS",
    "start": "1253440",
    "end": "1256000"
  },
  {
    "text": "describes command and then yeah um so",
    "start": "1256000",
    "end": "1261720"
  },
  {
    "text": "we faced this problem when we uh tried",
    "start": "1261720",
    "end": "1265360"
  },
  {
    "text": "to deploy tried to uh use our cloud with",
    "start": "1265360",
    "end": "1270120"
  },
  {
    "text": "different instance types and basically",
    "start": "1270120",
    "end": "1272440"
  },
  {
    "text": "we start started uh the new types we",
    "start": "1272440",
    "end": "1275480"
  },
  {
    "text": "created new node group in kubernetes and",
    "start": "1275480",
    "end": "1279520"
  },
  {
    "text": "uh PS couldn't start on this node group",
    "start": "1279520",
    "end": "1282480"
  },
  {
    "text": "and that's the error we had and um so we",
    "start": "1282480",
    "end": "1287720"
  },
  {
    "text": "just found that actually celum didn't",
    "start": "1287720",
    "end": "1290400"
  },
  {
    "text": "have information about in limits for",
    "start": "1290400",
    "end": "1293720"
  },
  {
    "text": "those instance types and I found this",
    "start": "1293720",
    "end": "1297440"
  },
  {
    "text": "command in celum source code I run this",
    "start": "1297440",
    "end": "1301120"
  },
  {
    "text": "and this command generated this",
    "start": "1301120",
    "end": "1303080"
  },
  {
    "text": "configuration so and I just used this",
    "start": "1303080",
    "end": "1306880"
  },
  {
    "text": "passed this configuration through Helm",
    "start": "1306880",
    "end": "1309559"
  },
  {
    "text": "variables that's it so essentially what",
    "start": "1309559",
    "end": "1312400"
  },
  {
    "text": "we do here is uh means that this R6 ID",
    "start": "1312400",
    "end": "1316520"
  },
  {
    "text": "12 x large has",
    "start": "1316520",
    "end": "1318760"
  },
  {
    "text": "eight interfaces I think and you can",
    "start": "1318760",
    "end": "1320840"
  },
  {
    "text": "attach up to 30 IP addresses so it's",
    "start": "1320840",
    "end": "1324600"
  },
  {
    "text": "just um information forsum that's how",
    "start": "1324600",
    "end": "1327440"
  },
  {
    "text": "you can operate with those instances",
    "start": "1327440",
    "end": "1329919"
  },
  {
    "text": "thank you I asked that question because",
    "start": "1329919",
    "end": "1331400"
  },
  {
    "text": "we're running into an Closs as a run out",
    "start": "1331400",
    "end": "1333960"
  },
  {
    "text": "of IP addresses tell you I don't",
    "start": "1333960",
    "end": "1336320"
  },
  {
    "text": "have enough IP addresses to spin up a",
    "start": "1336320",
    "end": "1337960"
  },
  {
    "text": "new pod so it's something we've been",
    "start": "1337960",
    "end": "1340320"
  },
  {
    "text": "dealing with for the past few days and",
    "start": "1340320",
    "end": "1342600"
  },
  {
    "text": "I'll see if this is going to help us",
    "start": "1342600",
    "end": "1344240"
  },
  {
    "text": "thank you",
    "start": "1344240",
    "end": "1347440"
  }
]