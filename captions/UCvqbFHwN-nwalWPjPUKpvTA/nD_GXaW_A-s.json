[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "ok everybody we're gonna get going here soon um I just want to adjust myself I'm Matt Baldwin I'm gonna be your track",
    "start": "5029",
    "end": "10950"
  },
  {
    "text": "host today I thank you for coming out to building a medical AI with kubernetes and ku flow by Jimmy Valli who's an",
    "start": "10950",
    "end": "18090"
  },
  {
    "text": "infrastructure lead at Babylon Health prior after the session I want to",
    "start": "18090",
    "end": "23279"
  },
  {
    "text": "encourage you to go to the schedule app please rate the session if there's any questions I asked please hold those to",
    "start": "23279",
    "end": "29490"
  },
  {
    "text": "the end we're gonna leave some time and I'm going to come around with a microphone and let you ask the question through the mic so if you can wait to",
    "start": "29490",
    "end": "34800"
  },
  {
    "text": "ask the question before so I can get you with the mic please do so with that it's",
    "start": "34800",
    "end": "41989"
  },
  {
    "start": "40000",
    "end": "67000"
  },
  {
    "text": "yeah hi everyone thank you for coming to this session today I'm going to talk about a",
    "start": "41989",
    "end": "47460"
  },
  {
    "text": "transformation from running a set of training jobs and new beauty on netbooks",
    "start": "47460",
    "end": "53730"
  },
  {
    "text": "and all other AI workloads on bare metal servers to a running them in a cloud",
    "start": "53730",
    "end": "60390"
  },
  {
    "text": "platform on top of communities and the multi region way and actually a multi",
    "start": "60390",
    "end": "65970"
  },
  {
    "text": "cloud way but it's it's happening in the context of health care and it comes with",
    "start": "65970",
    "end": "72090"
  },
  {
    "start": "67000",
    "end": "93000"
  },
  {
    "text": "different other requirements so my name is Jeremy I work for a company called",
    "start": "72090",
    "end": "77220"
  },
  {
    "text": "Babylon health and our mission is to provide an affordable and accessible health service in the hands of everyone",
    "start": "77220",
    "end": "83700"
  },
  {
    "text": "on earth which is a big mission and it comes down to two main challenges the",
    "start": "83700",
    "end": "88799"
  },
  {
    "text": "first one is accessibility and the second one is affordability so for",
    "start": "88799",
    "end": "94770"
  },
  {
    "text": "tackling the accessibility problem we have to look at what can we do to bring people closer to healthcare",
    "start": "94770",
    "end": "101009"
  },
  {
    "text": "professionals and what we did in 2014 is we launched a project that would allow",
    "start": "101009",
    "end": "107310"
  },
  {
    "text": "you to get a digital consultation with a doctor from your mobile phone and so you",
    "start": "107310",
    "end": "113070"
  },
  {
    "text": "could have a video or audio consultation and it's been five years now and we",
    "start": "113070",
    "end": "118409"
  },
  {
    "text": "reach over two million digital conversations so the service has gotten a lot of traction and is working well",
    "start": "118409",
    "end": "125299"
  },
  {
    "text": "but then comes the problem of availability accessing healthcare",
    "start": "125299",
    "end": "130349"
  },
  {
    "text": "professionals is expensive and actually according to the World Health",
    "start": "130349",
    "end": "135710"
  },
  {
    "text": "Organization we actually have a shot shortage of about 5 million healthcare",
    "start": "135710",
    "end": "141420"
  },
  {
    "text": "professionals in the world so it becomes a very hard problem to scale accessing healthcare professionals but there is",
    "start": "141420",
    "end": "148560"
  },
  {
    "text": "something that we all know is easy to scale in getting cheaper and cheaper every year and there is a computer do to",
    "start": "148560",
    "end": "157380"
  },
  {
    "start": "155000",
    "end": "174000"
  },
  {
    "text": "work on the affordability issue we started thinking what if we could use computing technology to bring some of",
    "start": "157380",
    "end": "164730"
  },
  {
    "text": "the services that would you you would usually get from a healthcare professional and also serving it from a",
    "start": "164730",
    "end": "170460"
  },
  {
    "text": "device that most people have which in this case is a mobile phone and so we",
    "start": "170460",
    "end": "175980"
  },
  {
    "text": "created different sets of products that kind of help you get get started with",
    "start": "175980",
    "end": "181800"
  },
  {
    "text": "managing your health we have for example a symptom checker when you can tell the",
    "start": "181800",
    "end": "187320"
  },
  {
    "text": "the app if you have a headache for example and then yeah we'll try to understand what's going on we also have",
    "start": "187320",
    "end": "194880"
  },
  {
    "text": "a protocol a digital twin where you assess your your whole body health and",
    "start": "194880",
    "end": "200520"
  },
  {
    "text": "mental health and and you can actually see a representation of yourself and try to see where you can work on improving",
    "start": "200520",
    "end": "207840"
  },
  {
    "text": "some of the some of your conditions all",
    "start": "207840",
    "end": "214020"
  },
  {
    "text": "of this requires different type of technologies and we're working on things like NLP computer vision we also do",
    "start": "214020",
    "end": "222180"
  },
  {
    "text": "Bayesian networks and all sorts of other other products and that means a lot of",
    "start": "222180",
    "end": "227430"
  },
  {
    "text": "research and a lot of computes so I'm going to tell a bit about how this all",
    "start": "227430",
    "end": "232500"
  },
  {
    "start": "230000",
    "end": "305000"
  },
  {
    "text": "started in our company about 15 months ago I had the discussion with researchers at Babylon and they had",
    "start": "232500",
    "end": "239640"
  },
  {
    "text": "built a graph based neural network and they were running hyper parameter tuning",
    "start": "239640",
    "end": "245070"
  },
  {
    "text": "on our on-premise servers and they wanted to improve the efficiency of our models but it became quite clear that we",
    "start": "245070",
    "end": "253170"
  },
  {
    "text": "not only didn't have enough compute to run this hyper parameter tuning and we also didn't have the orchestration to",
    "start": "253170",
    "end": "259200"
  },
  {
    "text": "make that happen it's it's actually very complex to orchestrates hyper parameter search especially when when",
    "start": "259200",
    "end": "266500"
  },
  {
    "text": "on Prem like this like we were and at the same time our company just had migrated all of our workloads to",
    "start": "266500",
    "end": "272890"
  },
  {
    "text": "kubernetes so we thought all right let's try to run this experiment on the kubernetes cluster but we're missing one",
    "start": "272890",
    "end": "279580"
  },
  {
    "text": "piece where we needed a way to orchestrate the hyper parameter tuning and we found a tool called queue flow",
    "start": "279580",
    "end": "286570"
  },
  {
    "text": "you flow is a machine learning toolkit for Humanity's and it has a one of this",
    "start": "286570",
    "end": "292690"
  },
  {
    "text": "one of its components is a component called Khateeb that does exactly hyper parameter tuning orchestration so with",
    "start": "292690",
    "end": "300100"
  },
  {
    "text": "combining the two we we wanted to get started and see if if it would work so we deployed a cluster we like you flew",
    "start": "300100",
    "end": "308440"
  },
  {
    "start": "305000",
    "end": "344000"
  },
  {
    "text": "on top of that and what we did is we took our scripts and docker eyes them and we send them to the servers to run",
    "start": "308440",
    "end": "315820"
  },
  {
    "text": "we run about fifty nodes for week and that resulted in 1606",
    "start": "315820",
    "end": "321250"
  },
  {
    "text": "over three terabytes of RAM so much more compute than we than we had locally and",
    "start": "321250",
    "end": "327400"
  },
  {
    "text": "and it's actually quite a it was a really good success for us we managed to get good results and the the team",
    "start": "327400",
    "end": "335110"
  },
  {
    "text": "published a paper that used this experiments as the experimental set up",
    "start": "335110",
    "end": "341050"
  },
  {
    "text": "of their theory and at the same time we were our company was growing we were",
    "start": "341050",
    "end": "348550"
  },
  {
    "start": "344000",
    "end": "445000"
  },
  {
    "text": "embodying more and more teams doing AI models and we we wanted to find a way to",
    "start": "348550",
    "end": "354370"
  },
  {
    "text": "make these teams more efficient so we started looking at how can we do to",
    "start": "354370",
    "end": "359470"
  },
  {
    "text": "maybe centralize all of the things that arrived that that gravitates our on machine learning so how do we manage",
    "start": "359470",
    "end": "364840"
  },
  {
    "text": "infrastructure how do we manage our models and so we we thought of this idea",
    "start": "364840",
    "end": "371080"
  },
  {
    "text": "of having a platform where you could take from 92 production very easily they",
    "start": "371080",
    "end": "376300"
  },
  {
    "text": "are experimenting training tuning your model validating your model I'll talk",
    "start": "376300",
    "end": "381700"
  },
  {
    "text": "about it a bit later in details and then deliver them to production but we have",
    "start": "381700",
    "end": "386979"
  },
  {
    "text": "to think about being in the context of healthcare and trying to understand what does it mean to do this in the context",
    "start": "386979",
    "end": "392320"
  },
  {
    "text": "of healthcare so the first thing that comes to mind obviously security but also we wanted a good auditing solution",
    "start": "392320",
    "end": "399370"
  },
  {
    "text": "so a way to find what happened on the platform and for what reason and also another important",
    "start": "399370",
    "end": "405969"
  },
  {
    "text": "thing was safety we wanted all of our models that get produced by this platform and produced by Babel in",
    "start": "405969",
    "end": "411249"
  },
  {
    "text": "general to be safe once once they reach production another thing that we wanted",
    "start": "411249",
    "end": "416409"
  },
  {
    "text": "to keep in mind is that working in healthcare and deploying your stack in different countries you operate you have",
    "start": "416409",
    "end": "423129"
  },
  {
    "text": "to think about where the data is and most of the times the data will need to stay in the country you will deploy your",
    "start": "423129",
    "end": "428520"
  },
  {
    "text": "your solutions so we wanted a way to have a platform which is flexible enough to be deployed on any type of",
    "start": "428520",
    "end": "435150"
  },
  {
    "text": "infrastructure whether it's cloud or on-premise anywhere in the world so",
    "start": "435150",
    "end": "440919"
  },
  {
    "text": "running cube unity is what was was quite convenient okay so what I'm going to",
    "start": "440919",
    "end": "447249"
  },
  {
    "start": "445000",
    "end": "476000"
  },
  {
    "text": "talk about today is how we are building this platform and I'll have three",
    "start": "447249",
    "end": "452499"
  },
  {
    "text": "different parts the first part is how we are building the the base of the platform and then how we manage the",
    "start": "452499",
    "end": "457689"
  },
  {
    "text": "workloads on this platform I'll talk about a bit the the use cases that we have and what we are planning",
    "start": "457689",
    "end": "462819"
  },
  {
    "text": "for the future and my hope here today is that I can show you that using open",
    "start": "462819",
    "end": "468339"
  },
  {
    "text": "source technologies and technologies that you can find the cloud native world can help you also and build your own",
    "start": "468339",
    "end": "473499"
  },
  {
    "text": "platform if you need to ok so let's start with the base it all starts with",
    "start": "473499",
    "end": "479349"
  },
  {
    "start": "476000",
    "end": "608000"
  },
  {
    "text": "the infrastructure itself there are a few things to keep in mind where you're building a machine learning platform the",
    "start": "479349",
    "end": "484539"
  },
  {
    "text": "first thing is you actually have to manage you'll have to prepare for 4 different type of workloads some teams",
    "start": "484539",
    "end": "490959"
  },
  {
    "text": "are going to need GPU nodes some other teams will needs CPU intensive nodes you have to make sure that you are prepared",
    "start": "490959",
    "end": "496839"
  },
  {
    "text": "for all of this and so where you're running in a cloud environment you can use Auto scanning groups so make sure",
    "start": "496839",
    "end": "502689"
  },
  {
    "text": "that you prepare different type of nodes for that we currently use six different",
    "start": "502689",
    "end": "507849"
  },
  {
    "text": "type of nodes at Babylon now another thing to keep in mind is you want to",
    "start": "507849",
    "end": "512948"
  },
  {
    "text": "make everything that you have in that cluster private's some clusters by default we have a public humanities API",
    "start": "512949",
    "end": "518260"
  },
  {
    "text": "I really recommend you to make it private and same thing goes for the nodes we run all of our nodes in private",
    "start": "518260",
    "end": "525130"
  },
  {
    "text": "subnets and the access is very restricted we also encrypt all of our",
    "start": "525130",
    "end": "530260"
  },
  {
    "text": "nodes and depending on the cloud provider that you're going to use you'll see that sometimes it comes for free and",
    "start": "530260",
    "end": "536650"
  },
  {
    "text": "you don't have to do anything if you're using AWS one thing that we found out is you so you must encrypt your EBS volumes",
    "start": "536650",
    "end": "544930"
  },
  {
    "text": "if you want encryption at rest but also make sure that if you want your route volumes to be encrypted",
    "start": "544930",
    "end": "550660"
  },
  {
    "text": "you need to encrypt the a.m. eyes before deploying them and for this we use Packer so we prepare all of our notes",
    "start": "550660",
    "end": "556960"
  },
  {
    "text": "with using packer we have down the nodes and then we encrypt them and then these a.m. is get encrypted if you run a",
    "start": "556960",
    "end": "564900"
  },
  {
    "text": "equivalent a spuds on those nodes and you haven't encrypted ami then the route volume might be used for the docker",
    "start": "564900",
    "end": "571390"
  },
  {
    "text": "volume and so you would you wouldn't be running on a encrypted volume so keep that in mind we also want to use OPA as",
    "start": "571390",
    "end": "579820"
  },
  {
    "text": "an admission controller and that allows you to kind of like filter some some errors that could be sent by users such",
    "start": "579820",
    "end": "586180"
  },
  {
    "text": "as forgetting to put a label though so OPA could actually block the request to create a pod and say no this label must",
    "start": "586180",
    "end": "592660"
  },
  {
    "text": "be here Oh for example looking different CPU requests and you want to enable a",
    "start": "592660",
    "end": "599110"
  },
  {
    "text": "humanities audit logs which is very important to know exactly what happened you can find all the events that happen",
    "start": "599110",
    "end": "604660"
  },
  {
    "text": "during the during your workloads after you have the QB on this cluster and you",
    "start": "604660",
    "end": "611470"
  },
  {
    "text": "want to bootstrap it and so for this we used get-ups methodology we deploy everything on that cluster using get-ups",
    "start": "611470",
    "end": "617470"
  },
  {
    "text": "the tool that we chose for this is flux and flux is a tool that will listen to",
    "start": "617470",
    "end": "623410"
  },
  {
    "text": "changes on the github repo and once the change happens it will pull the latest information and apply this in your",
    "start": "623410",
    "end": "629980"
  },
  {
    "text": "cluster there's a few examples of things that we deploy right here what's really good with that is that we can use github",
    "start": "629980",
    "end": "636850"
  },
  {
    "text": "as the source of truth of everything that happens in the cluster it's very good for auditing as well and you can",
    "start": "636850",
    "end": "642820"
  },
  {
    "text": "see who decided to for example a great issue at 2:00 a.m. in the morning for some reason it really reduces human",
    "start": "642820",
    "end": "650830"
  },
  {
    "text": "error so we don't have to operate the cluster ourselves anymore we let flux apply all of the changes all right",
    "start": "650830",
    "end": "658960"
  },
  {
    "start": "658000",
    "end": "695000"
  },
  {
    "text": "another thing that you want to configure and secure is your networking layer on kubernetes we wanted a way to provide a",
    "start": "658960",
    "end": "666790"
  },
  {
    "text": "zero trust which means that we didn't want service to be able to reach another service",
    "start": "666790",
    "end": "671920"
  },
  {
    "text": "without having us configuring that specifically we also wanted a way to",
    "start": "671920",
    "end": "676990"
  },
  {
    "text": "encrypt communication between services and perform util Charis that's something",
    "start": "676990",
    "end": "683110"
  },
  {
    "text": "that we always wanted to do but there's some actually some regulations in healthcare like HIPAA for example that",
    "start": "683110",
    "end": "688920"
  },
  {
    "text": "ask you to encrypt your traffic between services so and that that was also quite",
    "start": "688920",
    "end": "694029"
  },
  {
    "text": "convenient and for all of this we decided to go with SEO and most because",
    "start": "694029",
    "end": "699279"
  },
  {
    "text": "our current platform is also using is Jo and it fits all of the challenges that we wanted to tackle here I put an",
    "start": "699279",
    "end": "706690"
  },
  {
    "text": "example of a configuration that would allow service a to talk to service see",
    "start": "706690",
    "end": "712149"
  },
  {
    "text": "so you create a service role that allows a call to service c2 to go and then you",
    "start": "712149",
    "end": "717459"
  },
  {
    "text": "bind it to the service account of service a and you can do all kind of different configuration on this you can",
    "start": "717459",
    "end": "723940"
  },
  {
    "text": "for example if you need to restrict access to the Internet and you can use it to to help you with that there's",
    "start": "723940",
    "end": "731290"
  },
  {
    "text": "other configuration to keep in mind oh okay let's talk about cluster management",
    "start": "731290",
    "end": "736889"
  },
  {
    "start": "734000",
    "end": "824000"
  },
  {
    "text": "so at first we we had to think about how would we structure everything that runs",
    "start": "736889",
    "end": "742300"
  },
  {
    "text": "on a equipment is cluster so we decided to come with the name of a project everything that will run everything that",
    "start": "742300",
    "end": "748959"
  },
  {
    "text": "our users will run on the platform will be a project and that project will be isolated from other projects so that you",
    "start": "748959",
    "end": "755620"
  },
  {
    "text": "wouldn't actually be sharing resources directly we also wanted to enable",
    "start": "755620",
    "end": "760810"
  },
  {
    "text": "collaboration so we wanted people to be able to share their projects with others if they wanted to and we wanted every",
    "start": "760810",
    "end": "767139"
  },
  {
    "text": "project to come up with a volume that they could store results models datasets",
    "start": "767139",
    "end": "773500"
  },
  {
    "text": "on and we wanted that mode that volume to be accessible from any pod within",
    "start": "773500",
    "end": "779199"
  },
  {
    "text": "that project for this we arrived with a NFS like a solution where you can",
    "start": "779199",
    "end": "785560"
  },
  {
    "text": "actually attach as many pods as you want to the same volume so if you're running a distributed workloads they could all",
    "start": "785560",
    "end": "790779"
  },
  {
    "text": "be writing to the same folder for example which is quite convenient so we",
    "start": "790779",
    "end": "795939"
  },
  {
    "text": "created a project custom resource on communities and an operator so every time a user would",
    "start": "795939",
    "end": "801100"
  },
  {
    "text": "a project we would set up an m-space some are back rules and the persistent",
    "start": "801100",
    "end": "806680"
  },
  {
    "text": "volume partition a bit later I'll talk about you flow in in a minute but a bit",
    "start": "806680",
    "end": "813130"
  },
  {
    "text": "later we saw that he flow introduced this notion of profile which is very similar to what we called a project",
    "start": "813130",
    "end": "818800"
  },
  {
    "text": "before so we reacted that to include the cupola profile notion ok so let's talk a",
    "start": "818800",
    "end": "826240"
  },
  {
    "start": "824000",
    "end": "950000"
  },
  {
    "text": "bit about coop flow in flow is the machine learning toolkit for kubernetes and it comes with many different",
    "start": "826240",
    "end": "832030"
  },
  {
    "text": "components you can see the amount on the screen right now and what we really have about queue flow is that it's very",
    "start": "832030",
    "end": "838210"
  },
  {
    "text": "modular so you can actually decide what you want to install and then based on your needs then you can deploy deploy",
    "start": "838210",
    "end": "845620"
  },
  {
    "text": "them so here I give some examples of what we use with queue flow I talked about khatib earlier and we're also big",
    "start": "845620",
    "end": "851950"
  },
  {
    "text": "fan of notebooks so we use the jupiter notebook controller we have tensor flow",
    "start": "851950",
    "end": "858460"
  },
  {
    "text": "training jobs and pie table jobs as well and we started using our go workflows",
    "start": "858460",
    "end": "864280"
  },
  {
    "text": "for some of the use case actually one use case I'll talk about later but all of this is deployed again with",
    "start": "864280",
    "end": "870010"
  },
  {
    "text": "the same get-ups metallurgy about humans ago cubes removed all of its deployment",
    "start": "870010",
    "end": "875080"
  },
  {
    "text": "tools to customize so you can easily play with customized generates a big yamo configuration put that to your",
    "start": "875080",
    "end": "881680"
  },
  {
    "text": "github branch and have a tool like flux deploy that automatically you can also",
    "start": "881680",
    "end": "887350"
  },
  {
    "text": "use other tools for cg like I'll go I'll go CD which is a good one and since 0.6",
    "start": "887350",
    "end": "892750"
  },
  {
    "text": "which came out this summer cube flow is multi-user which means that you can access and control the access to some of",
    "start": "892750",
    "end": "899620"
  },
  {
    "text": "the UI sub-q flow like repeat on that books for several people and this is an example of how it works under the hood",
    "start": "899620",
    "end": "907120"
  },
  {
    "text": "there's been a talk already at cube come about this so I won't go into too many details but the idea is when a request",
    "start": "907120",
    "end": "913180"
  },
  {
    "text": "goes through a load balancer we have an invoice filter that will redirect the traffic to the queue pro-earth service",
    "start": "913180",
    "end": "918880"
  },
  {
    "text": "and then you can integrate it with your IDP I put Dex here it's an open source",
    "start": "918880",
    "end": "924280"
  },
  {
    "text": "one we use alpha 31 and it works right and so once you authenticated the queue",
    "start": "924280",
    "end": "930460"
  },
  {
    "text": "of service will inject a header into the into the call that will then get to the queue flow gateway and",
    "start": "930460",
    "end": "936500"
  },
  {
    "text": "will redirect it to the trippity notebook that you're trying to to access and then you can use East your our back",
    "start": "936500",
    "end": "943190"
  },
  {
    "text": "rules to actually block or not at the access to a UI based on who you actually",
    "start": "943190",
    "end": "948500"
  },
  {
    "text": "are another part that we had to think about",
    "start": "948500",
    "end": "954380"
  },
  {
    "start": "950000",
    "end": "1030000"
  },
  {
    "text": "is how do we access data and how to configure secrets on the platform at Babylon we have a specific team that's",
    "start": "954380",
    "end": "961190"
  },
  {
    "text": "dedicated to providing access to data sets and they built a an access layer and we integrate with that layer from",
    "start": "961190",
    "end": "968780"
  },
  {
    "text": "our platform but the idea and what you want to keep in mind is that you really want to audit who gets access to the",
    "start": "968780",
    "end": "974930"
  },
  {
    "text": "data and that's really what we wanted to do every time a user wants to access data we want to know for what reason for",
    "start": "974930",
    "end": "981380"
  },
  {
    "text": "what particular projects who will be using it and so we want to control that all the time another big thing to keep in mind when",
    "start": "981380",
    "end": "988910"
  },
  {
    "text": "you have a lot of data is you need to enable your users to see what data you have and for this there is a",
    "start": "988910",
    "end": "994880"
  },
  {
    "text": "discoverability tool called Amundson which is open source I really encourage you to check it out that just allows you",
    "start": "994880",
    "end": "1001030"
  },
  {
    "text": "to browse and see what kind of data set you have your system and then for",
    "start": "1001030",
    "end": "1006550"
  },
  {
    "text": "secrets Bob pretty straightforward but use a secret manager like vault we use",
    "start": "1006550",
    "end": "1012580"
  },
  {
    "text": "vault we're very happy with that and one thing that you can do with vault is you can make your pods authenticate to vault",
    "start": "1012580",
    "end": "1018250"
  },
  {
    "text": "directly to fetch secrets and load them in memory which prevents you from",
    "start": "1018250",
    "end": "1023380"
  },
  {
    "text": "actually writing a secret to a currency secret which is basically four so not the best security okay this is actually",
    "start": "1023380",
    "end": "1033610"
  },
  {
    "start": "1030000",
    "end": "1143000"
  },
  {
    "text": "pretty important we when we created the the platform very early on we had users sending us okay I want to see exactly",
    "start": "1033610",
    "end": "1040270"
  },
  {
    "text": "what's going on I want to see how my training job is doing so we need to find a way to collect all of the metrics that",
    "start": "1040270",
    "end": "1046600"
  },
  {
    "text": "were running on the cluster and we also wanted for for people like me live on the Emer upsides we wanted to know how",
    "start": "1046600",
    "end": "1052600"
  },
  {
    "text": "the cluster was doing and for this we went with a very obvious solution which is Prometheus to collect the metrics of",
    "start": "1052600",
    "end": "1058780"
  },
  {
    "text": "our clusters and graph a net to visualize them what's really good with",
    "start": "1058780",
    "end": "1064000"
  },
  {
    "text": "graph a nice that it's you can automate your dashboards quite easily so this is an example of a dashboard that we",
    "start": "1064000",
    "end": "1069870"
  },
  {
    "text": "provide to our users and every single project that gets created gets its own dashboard on graph Anna so people can",
    "start": "1069870",
    "end": "1076470"
  },
  {
    "text": "follow and we add more and more monitoring and metrics after that and we",
    "start": "1076470",
    "end": "1081630"
  },
  {
    "text": "also want people to expose metrics during their jobs so that if they want to build custom dashboards they can fuel",
    "start": "1081630",
    "end": "1089730"
  },
  {
    "text": "instant listen sorry that we learned our if you if you want to use graph Anna and you want to deploy it on a Chianti's",
    "start": "1089730",
    "end": "1095760"
  },
  {
    "text": "cluster there's a helm shot for this and it is quite convenient every single dashboard can be be applied as a config",
    "start": "1095760",
    "end": "1101760"
  },
  {
    "text": "map so if you apply a new dashboard VI config map raffinate will automatically load the dashboard into the into the UI",
    "start": "1101760",
    "end": "1108930"
  },
  {
    "text": "so you don't have to restart anything and it's you can then just put the config map part of the get-ups again and",
    "start": "1108930",
    "end": "1115650"
  },
  {
    "text": "get it applied automatically if you have multiple cubans clusters like we like we",
    "start": "1115650",
    "end": "1121170"
  },
  {
    "text": "do you can use the Federation feature of Prometheus where you have one central Prometheus that's pulling the metrics",
    "start": "1121170",
    "end": "1128160"
  },
  {
    "text": "from all the other parameters and then you can visualize them in one place and if you are getting too many metrics and",
    "start": "1128160",
    "end": "1134280"
  },
  {
    "text": "you're spending too much on storage or promises doesn't scale then you can check out Thanos which is a distributed",
    "start": "1134280",
    "end": "1139860"
  },
  {
    "text": "storage solution for what Prometheus so you might have seen this in the first",
    "start": "1139860",
    "end": "1145590"
  },
  {
    "text": "slide about monitoring but one thing that came out also very quickly when people started using the platform they",
    "start": "1145590",
    "end": "1151170"
  },
  {
    "text": "wanted to understand how much they were going to spend so again keep in mind this was running on the cloud and everyone was actually asking us ok but",
    "start": "1151170",
    "end": "1158310"
  },
  {
    "text": "like is it gonna be expensive like I need to know so we try to find a way to expose like like you can see here I",
    "start": "1158310",
    "end": "1165540"
  },
  {
    "text": "expose the cost of every research project and we try to look around for open source tools and there's actually",
    "start": "1165540",
    "end": "1171990"
  },
  {
    "text": "not a lot of them we we found one which is a third-party tool but osburgh open",
    "start": "1171990",
    "end": "1177420"
  },
  {
    "text": "source their cost model called cube cost and you can check it out it actually exposes the metrics to Prometheus we",
    "start": "1177420",
    "end": "1184710"
  },
  {
    "text": "were already using a third-party tool so what we did is we built a small go app",
    "start": "1184710",
    "end": "1189900"
  },
  {
    "text": "that will ping the API of that tool to get the cost per namespace which is the",
    "start": "1189900",
    "end": "1195120"
  },
  {
    "text": "same as the cost per project for us and then we were just exposing it as another matrix in Prometheus which means that",
    "start": "1195120",
    "end": "1201360"
  },
  {
    "text": "now we could and the project cost per project okay so",
    "start": "1201360",
    "end": "1208200"
  },
  {
    "text": "taking a break here having a look at what we have so based on all of this we",
    "start": "1208200",
    "end": "1213750"
  },
  {
    "text": "we had we actually managed to create a cluster where people could only men start training jobs and notebooks in",
    "start": "1213750",
    "end": "1220500"
  },
  {
    "text": "equivalencies cluster we introduced monitoring and we had our back controls for our networking multiple TLS that was",
    "start": "1220500",
    "end": "1227460"
  },
  {
    "text": "quite cool at that time the users were actually talking to the communities API",
    "start": "1227460",
    "end": "1232470"
  },
  {
    "text": "directly and so one thing that we found out is it's it's actually a bit complex",
    "start": "1232470",
    "end": "1237809"
  },
  {
    "text": "for some users some users don't really want to know exactly how to build a Chianti's manifest and I would argue",
    "start": "1237809",
    "end": "1243090"
  },
  {
    "text": "that that that's where another problem that we had is that we still were running on only one single cluster and",
    "start": "1243090",
    "end": "1249570"
  },
  {
    "text": "wants to find a way to kind of manage several clusters at a time and be able to spin up resources in different",
    "start": "1249570",
    "end": "1254700"
  },
  {
    "text": "regions of the world and lastly we started by telling users to just create",
    "start": "1254700",
    "end": "1261840"
  },
  {
    "text": "projects get up styles so again create a llam√≥ file put it on github we will automatically create your project on",
    "start": "1261840",
    "end": "1268320"
  },
  {
    "text": "communities but we realized that many users weren't very happy with that and they they they were they much better",
    "start": "1268320",
    "end": "1274740"
  },
  {
    "text": "have a UI where they could just click a button and create a project and then started potential for a job okay so here",
    "start": "1274740",
    "end": "1284040"
  },
  {
    "start": "1281000",
    "end": "1347000"
  },
  {
    "text": "we were having one cluster but imagine if you have several of them to more say in Asia and America what we did is we",
    "start": "1284040",
    "end": "1291090"
  },
  {
    "text": "built a small API layer and with the database with that and that database will only have the notion of what is the",
    "start": "1291090",
    "end": "1298440"
  },
  {
    "text": "user projects a resource and region and would keep all the all the calls for",
    "start": "1298440",
    "end": "1304260"
  },
  {
    "text": "auditing and then we would have that API being able to communicate with all the different clusters around the world to",
    "start": "1304260",
    "end": "1310710"
  },
  {
    "text": "spin up resources and that API would become the single entry point for all of our users again if we if we wanted to",
    "start": "1310710",
    "end": "1319080"
  },
  {
    "text": "actually control some of an abs on business logic about permissions from",
    "start": "1319080",
    "end": "1324120"
  },
  {
    "text": "those API calls we can use OPA and one example would be if you want your",
    "start": "1324120",
    "end": "1329400"
  },
  {
    "text": "project by default to have GPUs disabled because you'd rather maybe contact the administrators to say ok",
    "start": "1329400",
    "end": "1335410"
  },
  {
    "text": "this project is now allowed to use GPUs GPUs are expensive on the cloud so you might want to control that you can",
    "start": "1335410",
    "end": "1341140"
  },
  {
    "text": "actually bring your own business logic into oppa and and filter those calls which is very convenient I mentioned",
    "start": "1341140",
    "end": "1349150"
  },
  {
    "start": "1347000",
    "end": "1417000"
  },
  {
    "text": "about complex complex objects before so this is an example on the right of a",
    "start": "1349150",
    "end": "1354400"
  },
  {
    "text": "it's actually a very simple pods that's running one scripts and that pods is asking for a GPU k80 GPU in that use",
    "start": "1354400",
    "end": "1362680"
  },
  {
    "text": "case it's also trying to mount the filesystem and mentioned about it's",
    "start": "1362680",
    "end": "1367690"
  },
  {
    "text": "using a an actual pool secret for a private repo and it's asking for 16 gigs",
    "start": "1367690",
    "end": "1374440"
  },
  {
    "text": "of ram and 8 CPUs this is quite actually quite big 2 2 2 2 right and you can",
    "start": "1374440",
    "end": "1382150"
  },
  {
    "text": "actually have a lot of mistakes in this if you miss the indentation of your limits or resources or if you put them",
    "start": "1382150",
    "end": "1387910"
  },
  {
    "text": "outside of your container spec communities will not necessarily give you an error but will not take that into",
    "start": "1387910",
    "end": "1393310"
  },
  {
    "text": "account and you have these issues where people were actually wondering why I doubt if you would never come up but",
    "start": "1393310",
    "end": "1398320"
  },
  {
    "text": "that's because they put it in the wrong place what we did with this API is that we try to also simplify how we spin at",
    "start": "1398320",
    "end": "1405010"
  },
  {
    "text": "this and on on the left side you can see exactly what a user was technically trying to do which in this case just",
    "start": "1405010",
    "end": "1410470"
  },
  {
    "text": "just run a script here's my image here's my my script and I want to run it on this type of node ok so now that we",
    "start": "1410470",
    "end": "1419620"
  },
  {
    "start": "1417000",
    "end": "1489000"
  },
  {
    "text": "build this we actually had the platform where we could spin up resources in",
    "start": "1419620",
    "end": "1425560"
  },
  {
    "text": "different parts of the world and we had a fast like a much better on boarding process and people were able to create",
    "start": "1425560",
    "end": "1431710"
  },
  {
    "text": "projects and start a notebook in less than 20 seconds and it made them very happy this is a small example actually",
    "start": "1431710",
    "end": "1439630"
  },
  {
    "text": "you have a use case where yeah you can see creative project select the region and give it a name and for example you",
    "start": "1439630",
    "end": "1447700"
  },
  {
    "text": "want to spin up a cutie on a book and you can just use the UI T to this do you",
    "start": "1447700",
    "end": "1454690"
  },
  {
    "text": "yeah you can see some of the features that we have you can choose the size as well and you can speed it up oh you see a",
    "start": "1454690",
    "end": "1462160"
  },
  {
    "text": "small error this is a screenshot from the dev Craster so sometimes not as stable as we want it to be but then you",
    "start": "1462160",
    "end": "1467980"
  },
  {
    "text": "can just click connect with to be on the books and just stop running and one thing that I really wanted to",
    "start": "1467980",
    "end": "1474430"
  },
  {
    "text": "stress is we built all of this using only projects like these ones that are",
    "start": "1474430",
    "end": "1479860"
  },
  {
    "text": "open-source that are part of the cloud native ecosystem and we were actually really surprised that we could go that",
    "start": "1479860",
    "end": "1485920"
  },
  {
    "text": "far using these these technologies alone okay so let's talk about a bit some use",
    "start": "1485920",
    "end": "1492280"
  },
  {
    "start": "1489000",
    "end": "1540000"
  },
  {
    "text": "cases and actually there's one which is very interesting the clinical validation of our symptom checker that was one of",
    "start": "1492280",
    "end": "1499330"
  },
  {
    "text": "the biggest part of the work we did for the platform does I mention before if",
    "start": "1499330",
    "end": "1504370"
  },
  {
    "text": "you used the app and you tell them that you have a headache for example we have our symptom checker with which is a Bayesian network and it actually has two",
    "start": "1504370",
    "end": "1511120"
  },
  {
    "text": "jobs the first thing is based on what you are telling the the symptom checker it's it's going to try to get as much",
    "start": "1511120",
    "end": "1517809"
  },
  {
    "text": "relevant information about you as possible and then what it says enough information it's going to try to come",
    "start": "1517809",
    "end": "1524170"
  },
  {
    "text": "with a with an assessment with a an outcome and if you want to like a nice equation this is actually how we how it",
    "start": "1524170",
    "end": "1531550"
  },
  {
    "text": "would look like so give me the probability of a disease based on the evidence that I have and wanted to",
    "start": "1531550",
    "end": "1536920"
  },
  {
    "text": "evaluate how well this model performs and what the team have has made the team",
    "start": "1536920",
    "end": "1543280"
  },
  {
    "start": "1540000",
    "end": "1681000"
  },
  {
    "text": "that's building this model is they built a clinical validation process and that would simulate interactions with",
    "start": "1543280",
    "end": "1549130"
  },
  {
    "text": "patients we we had our doctors creating thousands of different use cases and",
    "start": "1549130",
    "end": "1554470"
  },
  {
    "text": "we're running this evaluating both the questions as by the by the symptom checker and also the outcome and we",
    "start": "1554470",
    "end": "1561010"
  },
  {
    "text": "wanted everything every single use case to be treated properly and also to be safe in the outcome that we would give",
    "start": "1561010",
    "end": "1567540"
  },
  {
    "text": "this was massive computing work and it would actually used to take ten hours",
    "start": "1567540",
    "end": "1573730"
  },
  {
    "text": "running on our own prime servers and that was very very annoying for our developers and researchers they",
    "start": "1573730",
    "end": "1581230"
  },
  {
    "text": "basically had to spin up the job and then come back the next day you know see if it failed or not they made the whole feedback loop very",
    "start": "1581230",
    "end": "1587170"
  },
  {
    "text": "very slow so what we did is we try to encapsulate all of this and we moved it",
    "start": "1587170",
    "end": "1592960"
  },
  {
    "text": "to running on top of kubernetes and we use algo for this what we did is we",
    "start": "1592960",
    "end": "1598620"
  },
  {
    "text": "optimized with the clinical validation code and we so parallelized the api and model parts",
    "start": "1598620",
    "end": "1605970"
  },
  {
    "text": "we were actually using our go to spin up as a demon job about sixteen or twenty",
    "start": "1605970",
    "end": "1611900"
  },
  {
    "text": "different well replicas of the the model",
    "start": "1611900",
    "end": "1617850"
  },
  {
    "text": "with the api and what was really cool so with this is that since all of our production platforms run already on",
    "start": "1617850",
    "end": "1624180"
  },
  {
    "text": "docker actually deploying this in the docker container the containers that we had here were exactly the same as we",
    "start": "1624180",
    "end": "1630600"
  },
  {
    "text": "would potentially be deploying in production so we were sure that this was the right version so the artifact was",
    "start": "1630600",
    "end": "1636540"
  },
  {
    "text": "exactly the same and by parallelizing we were actually going at first for 50%",
    "start": "1636540",
    "end": "1641640"
  },
  {
    "text": "reduction to five hours but after a few weeks of work we actually managed to take it down to 20 minutes so really big",
    "start": "1641640",
    "end": "1647820"
  },
  {
    "text": "parallelization and now the team is working on actually putting this on every pull request so every time you",
    "start": "1647820",
    "end": "1653850"
  },
  {
    "text": "change anything to the model or to the code of the app we get to feedback in in actually now less than 20 minutes which",
    "start": "1653850",
    "end": "1661020"
  },
  {
    "text": "was a massive success for the team and one one good lesson that we learned how if you improve the feedback loop then",
    "start": "1661020",
    "end": "1667890"
  },
  {
    "text": "you can actually enable so much more research and at the end of the day it also increases the safety of your model",
    "start": "1667890",
    "end": "1674910"
  },
  {
    "text": "and also the quality because you allow users who just try things and get results almost instantly okay so now",
    "start": "1674910",
    "end": "1683550"
  },
  {
    "start": "1681000",
    "end": "1777000"
  },
  {
    "text": "what are we working on for the next steps so the first thing that we really want to have is offering a common common",
    "start": "1683550",
    "end": "1690600"
  },
  {
    "text": "serving solutions to our users most of our developers are still",
    "start": "1690600",
    "end": "1696000"
  },
  {
    "text": "figuring out how to serve their models so mostly using tensorflow serving but some some others like the bayesian",
    "start": "1696000",
    "end": "1702030"
  },
  {
    "text": "network i talked about they use their own kind of API wrapper around their models so one kind of provides a common",
    "start": "1702030",
    "end": "1707940"
  },
  {
    "text": "framework for that and we're looking at KF serving which is a very interesting tool on top of K native the second thing",
    "start": "1707940",
    "end": "1714630"
  },
  {
    "text": "we want to do is to encourage integrate with cue flow pipelines if your pipelines runs on top of our go and it",
    "start": "1714630",
    "end": "1720030"
  },
  {
    "text": "comes with additional features but the most interesting part is you can actually code your pipelines in Python",
    "start": "1720030",
    "end": "1725610"
  },
  {
    "text": "using the SDK and then deploy it as an algo workflow we also want to improve",
    "start": "1725610",
    "end": "1731430"
  },
  {
    "text": "the user experience everything on the platform runs on docker and it's it still sometimes a bit",
    "start": "1731430",
    "end": "1737390"
  },
  {
    "text": "annoying for users to actually have to build a docker image maybe run through some CI CD and then get it deployed and",
    "start": "1737390",
    "end": "1743570"
  },
  {
    "text": "then you know have it failed and then having to reiterate so we want to take that step away from them and build the",
    "start": "1743570",
    "end": "1749660"
  },
  {
    "text": "image directly on the platform to improve the experience and finally we we",
    "start": "1749660",
    "end": "1756290"
  },
  {
    "text": "are adding more tools actually pretty much this year around how to track all",
    "start": "1756290",
    "end": "1762110"
  },
  {
    "text": "of our metadata centrally and again that's something where some teams are investigating different solutions we are",
    "start": "1762110",
    "end": "1767780"
  },
  {
    "text": "trying to find the best one to track all the models that we have in the company and we're mostly looking at ml flow and",
    "start": "1767780",
    "end": "1774230"
  },
  {
    "text": "flow metadata which are very promising ok so I'm gonna wrap up now one thing I",
    "start": "1774230",
    "end": "1781940"
  },
  {
    "start": "1777000",
    "end": "2092000"
  },
  {
    "text": "want to say is if you're if you're looking to actually build a research platform on top of Q on tees",
    "start": "1781940",
    "end": "1787850"
  },
  {
    "text": "I would I would actually argue that you found a really good platform for that I think Chianti's fits a lot of our use",
    "start": "1787850",
    "end": "1793220"
  },
  {
    "text": "cases and it was a pleasure to work with and finally yeah well cube flow is the",
    "start": "1793220",
    "end": "1799190"
  },
  {
    "text": "best machine learning tool for Chianti's that we've seen out there it get it has a really great modularity and was very",
    "start": "1799190",
    "end": "1806900"
  },
  {
    "text": "easy to get started you can just use k fctl to deploy it and then once you get more comfortable with it then you can",
    "start": "1806900",
    "end": "1812930"
  },
  {
    "text": "play with customized and maybe only deploy the components that you're interested in and for for security and",
    "start": "1812930",
    "end": "1819110"
  },
  {
    "text": "compliance especially now domain on healthcare or even in banking or finance there's actually many open source out",
    "start": "1819110",
    "end": "1825410"
  },
  {
    "text": "there the open source tools that you can use and contribute to and that's something that we we found why we're",
    "start": "1825410",
    "end": "1831440"
  },
  {
    "text": "building this platform is that you can actually get quite far with these tools so if you if you want to have a look at",
    "start": "1831440",
    "end": "1836810"
  },
  {
    "text": "this I encourage you to go to the landscape website and have a look around and finally for people like kind of like",
    "start": "1836810",
    "end": "1843800"
  },
  {
    "text": "with my profile working more in more and more in ml apps I think it's it's always come down to how can you enable your",
    "start": "1843800",
    "end": "1850160"
  },
  {
    "text": "teams to to be more efficient always try to keep that in mind one thing that worked well for us was",
    "start": "1850160",
    "end": "1856250"
  },
  {
    "text": "trying to like talk to a team and say ok what is your biggest pain point right now what can we do to help and and then",
    "start": "1856250",
    "end": "1863420"
  },
  {
    "text": "focus on that pain points build small proof of concepts and if you see that it's working then you can apply it",
    "start": "1863420",
    "end": "1869299"
  },
  {
    "text": "Brodeur in the company and served more teams that's what we did for the clinical validation now we we are",
    "start": "1869299",
    "end": "1875960"
  },
  {
    "text": "involving more teams to run their own clinical validation or cluster and yeah that's don't think that's working break",
    "start": "1875960",
    "end": "1881149"
  },
  {
    "text": "for us so if you found all of this interesting I will be hanging around feel free to have a chat with me all the",
    "start": "1881149",
    "end": "1887989"
  },
  {
    "text": "people from Babylon in the room and yeah so thank you very much and we are hiring right away",
    "start": "1887989",
    "end": "1895419"
  },
  {
    "text": "so we have time for about five minutes worth of questions if there's any questions are you donating or",
    "start": "1900230",
    "end": "1917820"
  },
  {
    "text": "contributing anything back to the community after using so many projects so we we did a few we merge a few people",
    "start": "1917820",
    "end": "1924630"
  },
  {
    "text": "request for Q Pro that's something that we want to do more and more we were very",
    "start": "1924630",
    "end": "1930960"
  },
  {
    "text": "limited in resources to build this platform at first so now the team is getting bigger and we'll have more time",
    "start": "1930960",
    "end": "1936450"
  },
  {
    "text": "to actually contribute back but but yeah if we can find a use case which is not",
    "start": "1936450",
    "end": "1942420"
  },
  {
    "text": "there and that works for us and yes absolutely yeah thanks for the overview",
    "start": "1942420",
    "end": "1949590"
  },
  {
    "text": "um it's kind of a quick question how long did it take you to actually start putting this platform together and start",
    "start": "1949590",
    "end": "1955260"
  },
  {
    "text": "seeing results alright so we so we created this platform so the",
    "start": "1955260",
    "end": "1960870"
  },
  {
    "text": "proof-of-concept I mentioned before like at the beginning was last year we started creating this platform in",
    "start": "1960870",
    "end": "1966810"
  },
  {
    "text": "January and by around February March we had our first users trying the training",
    "start": "1966810",
    "end": "1973290"
  },
  {
    "text": "jobs and all of that that was when the whole platform was only running on",
    "start": "1973290",
    "end": "1978450"
  },
  {
    "text": "github so we were we ran a lot of workshops with researchers trying to understand what they needed and the",
    "start": "1978450",
    "end": "1984480"
  },
  {
    "text": "clinical validation parts we made it run about I think in April or June and what",
    "start": "1984480",
    "end": "1991440"
  },
  {
    "text": "was actually right is that the team now is actually managing this part so we worked with them and now they are",
    "start": "1991440",
    "end": "1997650"
  },
  {
    "text": "improving it more and more on themselves so they have control over what runs and so they build their own UI and all of",
    "start": "1997650",
    "end": "2004400"
  },
  {
    "text": "that and it's it's actually quite cool but yeah by I would say by by summer",
    "start": "2004400",
    "end": "2011060"
  },
  {
    "text": "time we had a good enough platform and then we spend the rest of the year running more security things and",
    "start": "2011060",
    "end": "2017120"
  },
  {
    "text": "networking protection",
    "start": "2017120",
    "end": "2020680"
  },
  {
    "text": "well thank you did you guys do a lot of",
    "start": "2022600",
    "end": "2031389"
  },
  {
    "text": "like CRD and sort of operator stuff are on this or did you sort of just glue it",
    "start": "2031389",
    "end": "2036399"
  },
  {
    "text": "all together and have Fargo doing most of the work so we we did build some",
    "start": "2036399",
    "end": "2042340"
  },
  {
    "text": "theories and so the one project that I talked about we so the the queue flow Q",
    "start": "2042340",
    "end": "2050020"
  },
  {
    "text": "flow project actually has a lot of shoddy so everything for notebooks and tends to flow jobs Python jobs catnip",
    "start": "2050020",
    "end": "2057398"
  },
  {
    "text": "all of that comes with yeah DS already but there are some additional tools like for example wisdom or tensor board where",
    "start": "2057399",
    "end": "2065319"
  },
  {
    "text": "I think tends to bomb now there's this yard in coop flow but we built one for his dumb for example it's it's actually",
    "start": "2065319",
    "end": "2072780"
  },
  {
    "text": "it's it's okay to get started with shoddy I would encourage you if you think likes to good use case to you see",
    "start": "2072780",
    "end": "2078730"
  },
  {
    "text": "are these I think that's that's a good way to go but yes we do we do build alright thank",
    "start": "2078730",
    "end": "2088118"
  },
  {
    "text": "you oh thank you [Applause]",
    "start": "2088119",
    "end": "2094189"
  }
]