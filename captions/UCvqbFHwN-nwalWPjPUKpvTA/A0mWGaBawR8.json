[
  {
    "text": "hello friends and enemies I was always told to open with that cuz people have to figure out who's who it's kind of fun",
    "start": "30",
    "end": "8570"
  },
  {
    "text": "congratulations you found this room I",
    "start": "8570",
    "end": "13940"
  },
  {
    "text": "know it's quite the trek and in wait I yeah I was a little lost myself",
    "start": "14179",
    "end": "21199"
  },
  {
    "text": "hopefully I'm really hoping this gonna be the funnest talk you go to I was like there's a lot of information and that's",
    "start": "21199",
    "end": "27380"
  },
  {
    "text": "flashing is gonna be great but I really just hope to 101 intro",
    "start": "27380",
    "end": "32700"
  },
  {
    "text": "everyone gets a better idea of how kubernetes works fundamentals that would be bad I kind of need that one Oh",
    "start": "32700",
    "end": "42780"
  },
  {
    "text": "huh that's because I'm not plugged in but okay I'll just have to keep doing",
    "start": "42780",
    "end": "49649"
  },
  {
    "text": "that yeah I really hope that this is gonna be just a fun talk we we are going to build",
    "start": "49649",
    "end": "55320"
  },
  {
    "text": "kubernetes up here and it not build like compile like you'll see functionally",
    "start": "55320",
    "end": "60600"
  },
  {
    "text": "what kubernetes does when you do things so that's me I'm on Twitter a lot if you",
    "start": "60600",
    "end": "67770"
  },
  {
    "text": "want to DM me I've diems open or or ping me and you feedback I am also a CNC F",
    "start": "67770",
    "end": "75090"
  },
  {
    "text": "ambassador nobody really knows what that means but I'm in the group of ambassadors that kind of promote cloud",
    "start": "75090",
    "end": "81750"
  },
  {
    "text": "native computing foundations tools as being one of them and a lot of other ones so we're here we do there's a",
    "start": "81750",
    "end": "87840"
  },
  {
    "text": "decent size group we do meetups all over the place but it's kind of a fun thing to do I also wrote a book with Chris",
    "start": "87840",
    "end": "94710"
  },
  {
    "text": "Nova about cloud native infrastructure so if you haven't picked that up they were giving them away yesterday a little",
    "start": "94710",
    "end": "100740"
  },
  {
    "text": "bit see and I booked that info has all the links if you actually want to go get one really appreciating feedback on that",
    "start": "100740",
    "end": "106829"
  },
  {
    "text": "- that was a fun project to do this year and then I also I believe I'm probably",
    "start": "106829",
    "end": "113549"
  },
  {
    "text": "the only speaker at the conference that has an IMDB page which is super exciting",
    "start": "113549",
    "end": "118880"
  },
  {
    "text": "but I'm not here representing my employer or anything I'm here to help",
    "start": "118880",
    "end": "125460"
  },
  {
    "text": "everyone just figure out what this crew nice thing is I mean it's okay if you've been running it for a long time we're",
    "start": "125460",
    "end": "130800"
  },
  {
    "text": "gonna go over how it fails just some other things in it I actually was partially inspired by the",
    "start": "130800",
    "end": "136530"
  },
  {
    "text": "quote that Sarah had in the keynote today from Benjamin Franklin where it was tell me and I will forget teach me",
    "start": "136530",
    "end": "143160"
  },
  {
    "text": "and I may remember and involve me and I will learn and so that's really kind of",
    "start": "143160",
    "end": "149160"
  },
  {
    "text": "like getting people involved and how this stuff works and visually seen it now you can look at diagrams all day but",
    "start": "149160",
    "end": "154620"
  },
  {
    "text": "seeing how where the failure modes are what actually happens I think is really powerful and so to do that you know what",
    "start": "154620",
    "end": "162000"
  },
  {
    "text": "LARPing is yeah so it's live action",
    "start": "162000",
    "end": "167130"
  },
  {
    "text": "role-playing and basically you dress up you go somewhere and you act out",
    "start": "167130",
    "end": "172140"
  },
  {
    "text": "something whether it's Civil War reenactments or corgis doing the great battle of core coppola",
    "start": "172140",
    "end": "180120"
  },
  {
    "text": "s-- whatever whenever that took place and so we're gonna we're gonna do that",
    "start": "180120",
    "end": "186209"
  },
  {
    "text": "here live on stage I already have some some plants in the audience thank you for volunteering and then this is my",
    "start": "186209",
    "end": "192660"
  },
  {
    "text": "last slide everything else is gonna be up here but this is just kind of a really basic overview of some of the",
    "start": "192660",
    "end": "198359"
  },
  {
    "text": "components we're gonna go over and some but we're not going to go over mainly the control plane is is the backend of",
    "start": "198359",
    "end": "205890"
  },
  {
    "text": "kubernetes what really involved what kubernetes deals with to make stuff happen inside the cluster and then we're",
    "start": "205890",
    "end": "212700"
  },
  {
    "text": "also gonna have nodes or super important anyone remember when nodes used to be called minions I used to love that I",
    "start": "212700",
    "end": "218160"
  },
  {
    "text": "don't know why just minions sounded so cool and the things we're not gonna go over are those add-ons there those are all kind of implementation details a lot",
    "start": "218160",
    "end": "224430"
  },
  {
    "text": "of times it's some of them like DNS is a critical piece of the infrastructure but a that's really hard to represent as a",
    "start": "224430",
    "end": "230609"
  },
  {
    "text": "that person and be you can kind of switch it out you don't have to use the internal kubernetes dns to kind of solve",
    "start": "230609",
    "end": "238019"
  },
  {
    "text": "some of these problems almost every cluster will bring one for you but again you don't have to so with",
    "start": "238019",
    "end": "244049"
  },
  {
    "text": "that I'm gonna go ahead and show you how we're gonna do this actually wait sorry",
    "start": "244049",
    "end": "250049"
  },
  {
    "text": "let me skip back think you want come up so Vic has graciously volunteered to be",
    "start": "250049",
    "end": "256979"
  },
  {
    "text": "one of my cubelets and and the cubelet is the process that runs on a node we're not treating nodes",
    "start": "256979",
    "end": "262740"
  },
  {
    "text": "as cattle today there's no it is Texas but there's no guns allowed where gonna take care of this we like Vic so",
    "start": "262740",
    "end": "271620"
  },
  {
    "text": "Vic's job as a cubelet is to run pods and that is his main job he needs to",
    "start": "271620",
    "end": "278370"
  },
  {
    "text": "whenever someone tells him here's a pod Vic makes sure that that's the thing that he runs and he makes sure that always runs and that's it he does other",
    "start": "278370",
    "end": "285600"
  },
  {
    "text": "things when there's a cluster but as a standalone cubelet like you can take a server and run the cubelet on it and",
    "start": "285600",
    "end": "291060"
  },
  {
    "text": "you're fine you can just okay here you go here's your here's your stuff I mean it's it's not a lot different than just",
    "start": "291060",
    "end": "296280"
  },
  {
    "text": "running docker docker makes sure that the containers that it runs are always running so in this case with with Vic",
    "start": "296280",
    "end": "303600"
  },
  {
    "text": "we're actually starting off with we have what we're gonna represent as pawns and",
    "start": "303600",
    "end": "309450"
  },
  {
    "text": "so oh I told you it's visual come on we're this is gonna be good and let me",
    "start": "309450",
    "end": "317190"
  },
  {
    "text": "tell you having it oh no it has a whole weight now we're good I mean a bag full of balloons like TSA it's just all sorts",
    "start": "317190",
    "end": "325710"
  },
  {
    "text": "of fun so anyone know what what we're",
    "start": "325710",
    "end": "330930"
  },
  {
    "text": "doing here what is this app Python anyone come on went through a lot of",
    "start": "330930",
    "end": "336600"
  },
  {
    "text": "effort to get that there we go thank you this is like their color as a whole see",
    "start": "336600",
    "end": "342630"
  },
  {
    "text": "I'm not that good no wait wait I know they're not here or you know if I have a",
    "start": "342630",
    "end": "348390"
  },
  {
    "text": "bag so it doesn't matter so we're good but this isn't just any - it yeah I",
    "start": "348390",
    "end": "355470"
  },
  {
    "text": "think we're good so this is actually gonna be super special because I don't use Django and for some reason I always",
    "start": "355470",
    "end": "362910"
  },
  {
    "text": "just imagine that Django was like a dog I don't know why it just seemed like a good dog name so we're actually gonna",
    "start": "362910",
    "end": "369030"
  },
  {
    "text": "have Vic run Django and keep it running for as long as he can and if something",
    "start": "369030",
    "end": "375630"
  },
  {
    "text": "happens to it at your job - so the cubelet again you keep it running whatever it takes in this case this is",
    "start": "375630",
    "end": "381570"
  },
  {
    "text": "gonna be a static pod static pods are just to find my skills doing this while",
    "start": "381570",
    "end": "387660"
  },
  {
    "text": "talking we're not super practiced just just FYI it's like typing but a whole nother",
    "start": "387660",
    "end": "394350"
  },
  {
    "text": "level wait okay his legs are upside down there we",
    "start": "394350",
    "end": "400300"
  },
  {
    "text": "go there's the dock they're staying ah his neck pop but that's alright okay",
    "start": "400300",
    "end": "405840"
  },
  {
    "text": "it actually Django 2.0 came out so there we go",
    "start": "405840",
    "end": "412180"
  },
  {
    "text": "special little in for ya so as a static pod you can define these",
    "start": "412180",
    "end": "418150"
  },
  {
    "text": "on the node as just gamelan disk the cubelet comes up he reads from disk and says oh look I have a pod to run I'm",
    "start": "418150",
    "end": "424720"
  },
  {
    "text": "gonna run that thing so he fetches it from the the container images from the registry which is going to be my bag",
    "start": "424720",
    "end": "430750"
  },
  {
    "text": "here full of balloons for when other people come up so they can get their containers out of the container registry",
    "start": "430750",
    "end": "436900"
  },
  {
    "text": "okay that's even talker branded so we but it can be whatever you want you can tell it what registry to get the images",
    "start": "436900",
    "end": "443229"
  },
  {
    "text": "from and he just runs that container and that's his job alright we just built",
    "start": "443229",
    "end": "448600"
  },
  {
    "text": "kubernetes right this is it kind of it's not really a cluster right like like this is a server doing this thing this",
    "start": "448600",
    "end": "454990"
  },
  {
    "text": "is no different than when people used to go but people still go and docker run some thing on a box and and it runs",
    "start": "454990",
    "end": "461229"
  },
  {
    "text": "right that's like okay that's not very special so the complexity comes when we",
    "start": "461229",
    "end": "466240"
  },
  {
    "text": "now want to VIX right we want to servers to run containers and we're gonna not",
    "start": "466240",
    "end": "472000"
  },
  {
    "text": "manually do this stuff and it's not going to be things on disk it's gonna be we're gonna dynamically put these pods",
    "start": "472000",
    "end": "477490"
  },
  {
    "text": "everywhere we're gonna do something with it so that's where it CD comes in and to",
    "start": "477490",
    "end": "483310"
  },
  {
    "text": "represent n CD probably need to assume that end",
    "start": "483310",
    "end": "489990"
  },
  {
    "text": "we're gonna use a database in the cloud right that's it",
    "start": "494389",
    "end": "500180"
  },
  {
    "text": "like that's your thing it's a database running in the cloud right there so talk",
    "start": "500180",
    "end": "505699"
  },
  {
    "text": "about Alang Alang is also gonna be one of my nodes he has graciously",
    "start": "505699",
    "end": "512659"
  },
  {
    "text": "volunteered so what we first need to do here actually I take out my notes to make sure I do this right cuz I forget",
    "start": "512659",
    "end": "519349"
  },
  {
    "text": "things so much there we go so just to make sure so we're just to keep a",
    "start": "519349",
    "end": "524930"
  },
  {
    "text": "database of typing node in order to identify these nodes we don't want just",
    "start": "524930",
    "end": "531170"
  },
  {
    "text": "do host names that's not that's not really special it's not always unique so we're actually gonna sign labels it's",
    "start": "531170",
    "end": "537410"
  },
  {
    "text": "how pretty much we do everything inside of kubernetes there's labels everywhere if you don't like labels product you",
    "start": "537410",
    "end": "543829"
  },
  {
    "text": "something else and then we're just gonna track what pods are on there will paralyze it because we might want more",
    "start": "543829",
    "end": "549829"
  },
  {
    "text": "than one pod later on so first off we have Vic and we're gonna do the label of",
    "start": "549829",
    "end": "556240"
  },
  {
    "text": "hop out hoodie oh wait I got and beard",
    "start": "556240",
    "end": "563269"
  },
  {
    "text": "beard I like it okay and he's running our she can go pod right so along here",
    "start": "563269",
    "end": "575140"
  },
  {
    "text": "he is can't you tell he's one of the new Amazon metal surfers so he's he's a",
    "start": "575140",
    "end": "583070"
  },
  {
    "text": "metal server we're just gonna say that or bear handle whatever you want he's not running any pods right now that's",
    "start": "583070",
    "end": "589370"
  },
  {
    "text": "fine he you know we haven't scheduled anything he didn't have any static pods we're fine so let me just add a divider",
    "start": "589370",
    "end": "599990"
  },
  {
    "text": "here so it's a little easier to track we also need to inside this database we",
    "start": "599990",
    "end": "606660"
  },
  {
    "text": "need to track our pods these are the things that obviously we care about that we're running and in last thing we need",
    "start": "606660",
    "end": "616380"
  },
  {
    "text": "to check is where they're from where they're actually running so pods also have labels and we track what nodes they",
    "start": "616380",
    "end": "621450"
  },
  {
    "text": "run on in this case the static pod never actually made it into this database because it was just a thing on disk that",
    "start": "621450",
    "end": "626850"
  },
  {
    "text": "we didn't really care about so if we want to if we have these nodes now we",
    "start": "626850",
    "end": "633630"
  },
  {
    "text": "have a database how did they know how to talk to this database how do they get their information how do they read what",
    "start": "633630",
    "end": "640350"
  },
  {
    "text": "I should do an API server they they're gonna not talk directly don't hard-code",
    "start": "640350",
    "end": "646080"
  },
  {
    "text": "your stuff back to the database right don't do that so we have an API server that sits in between I'm gonna play the API server in this in this place I am",
    "start": "646080",
    "end": "653640"
  },
  {
    "text": "the only one that's allowed to write to the database they're not allowed to know other component of kubernetes can write",
    "start": "653640",
    "end": "660240"
  },
  {
    "text": "to the database only the API servers and so anything that they need they they read through me and then they they can",
    "start": "660240",
    "end": "666660"
  },
  {
    "text": "write back any component unfortunate you can't really see the screen but hopefully will fill you in on some of this so let's go ahead and run another",
    "start": "666660",
    "end": "675930"
  },
  {
    "text": "application someone give me a language showers coming up I'm gonna do Ruby all",
    "start": "675930",
    "end": "683370"
  },
  {
    "text": "right let's just let's just do Ruby just because I have red balloons so Ruby as",
    "start": "683370",
    "end": "692520"
  },
  {
    "text": "the label Rhett now what happens nothing they're not they need to look at the",
    "start": "692520",
    "end": "698790"
  },
  {
    "text": "database and know hey what pod should I run but how do I get a pod assigned to a node I just get a new scheduler I need",
    "start": "698790",
    "end": "707280"
  },
  {
    "text": "something that actually tells me oh that goes here and so right come up so I'm",
    "start": "707280",
    "end": "714150"
  },
  {
    "text": "gonna add another divider over here actually here cube list on that side if",
    "start": "714150",
    "end": "719790"
  },
  {
    "text": "you can't stand right over here just so keep it visually separated yeah so go",
    "start": "719790",
    "end": "727710"
  },
  {
    "text": "ahead and pick where should this Ruby pod run it can be one of two",
    "start": "727710",
    "end": "733649"
  },
  {
    "text": "this Ruby so how about metal okay so go ahead and get in there's a red balloon in there go ahead and blow that up and",
    "start": "733649",
    "end": "739350"
  },
  {
    "text": "make sure it's running and so API server is gonna say along and say hey what's",
    "start": "739350",
    "end": "751679"
  },
  {
    "text": "assigned to me what's assigned to me if there's nothing they do nothing if there's something then they say they look at what they're currently doing and",
    "start": "751679",
    "end": "757529"
  },
  {
    "text": "what's assigned and they say hey is that right and they they reconcile they say oh I need to do something or I don't and",
    "start": "757529",
    "end": "762809"
  },
  {
    "text": "that's it and that's really like the function of the cubelet there are other things that they'll do like they'll have",
    "start": "762809",
    "end": "768059"
  },
  {
    "text": "ping checks they'll kind of notify through the API servers say what their health is say what features they have",
    "start": "768059",
    "end": "773550"
  },
  {
    "text": "there are a lot of things like that but in this case we're we're gonna go a little simple so again who's actually",
    "start": "773550",
    "end": "785879"
  },
  {
    "text": "creating pods inside the cluster does anyone actually like like I want this pod it's not a really good thing to do",
    "start": "785879",
    "end": "791550"
  },
  {
    "text": "inside of kubernetes because it doesn't if you want to scale it you gotta like you manually do all these things so when you actually want to make something that",
    "start": "791550",
    "end": "797459"
  },
  {
    "text": "dynamically scales you typically make a deployment and what deployments do under the hood is they make what's called a",
    "start": "797459",
    "end": "803490"
  },
  {
    "text": "replica set replica sets you sell it how many it wants and then that creates more of those pods and it's it's super",
    "start": "803490",
    "end": "810059"
  },
  {
    "text": "awesome so we're gonna add another row in this in this database of course",
    "start": "810059",
    "end": "817980"
  },
  {
    "text": "replica sets have labels and then we",
    "start": "817980",
    "end": "822990"
  },
  {
    "text": "tell it how many we want so I heard I heard Java before we're",
    "start": "822990",
    "end": "830139"
  },
  {
    "text": "gonna go Java labels are big and blue",
    "start": "830139",
    "end": "839349"
  },
  {
    "text": "how many replicas I just I'm just gonna do one cuz I wanna kill anyone yet so we",
    "start": "839349",
    "end": "847839"
  },
  {
    "text": "now have someone told the API server hey this is what we want running this should always be running in this cluster but",
    "start": "847839",
    "end": "853869"
  },
  {
    "text": "now what happens nothing we we don't have anything that creates those pods we just I stored this object as the API",
    "start": "853869",
    "end": "860169"
  },
  {
    "text": "server it's in the database but Chris go ahead and come up and you'll be my controller manager you can stand there",
    "start": "860169",
    "end": "867309"
  },
  {
    "text": "stand here it's either way so the controller manager does a lot of unique things in the cluster it's actually like",
    "start": "867309",
    "end": "873129"
  },
  {
    "text": "four or five different things it's hard to name things one of the things the controller manager does is looks at",
    "start": "873129",
    "end": "879429"
  },
  {
    "text": "replicas or replicas sets and just figures out how many were desired and how many are running so he kind of keeps",
    "start": "879429",
    "end": "885309"
  },
  {
    "text": "track of what the actually I forgot you're running that Ruby container now so or the Ruby pod so there you go I",
    "start": "885309",
    "end": "891879"
  },
  {
    "text": "almost forgot good job so he needs it",
    "start": "891879",
    "end": "897099"
  },
  {
    "text": "actually creates replicas in the cluster don't worry about it because we have we",
    "start": "897099",
    "end": "907419"
  },
  {
    "text": "have he can look at how many Java replicas we wanted and how many pods are",
    "start": "907419",
    "end": "912489"
  },
  {
    "text": "actually used those same labels and then figure out like oh hey I need to reconcile that state he does nothing",
    "start": "912489",
    "end": "918159"
  },
  {
    "text": "else he creates a replicas and then scheduler over here will then assign those so get go ahead we're gonna say",
    "start": "918159",
    "end": "923679"
  },
  {
    "text": "Java give me a name will is randomly name these things oh oh like that all",
    "start": "923679",
    "end": "931539"
  },
  {
    "text": "right let's go so this is V and blue and then scheduler",
    "start": "931539",
    "end": "937419"
  },
  {
    "text": "which which node do you think can handle a big blue Java app all right all right",
    "start": "937419",
    "end": "947009"
  },
  {
    "text": "so it's now scheduled till on all the way at the bottom of the bag you'll find",
    "start": "947009",
    "end": "952269"
  },
  {
    "text": "him know can't miss it so while he inflates this",
    "start": "952269",
    "end": "967540"
  },
  {
    "text": "Java app you have to make sure they're both running keep going keep going",
    "start": "967540",
    "end": "976959"
  },
  {
    "text": "it's Java you know like so replication",
    "start": "976959",
    "end": "986949"
  },
  {
    "text": "controller created these replicas also responsible for helping out when nodes",
    "start": "986949",
    "end": "991959"
  },
  {
    "text": "come and go inside the cluster so so when a node comes up Ian's you want when",
    "start": "991959",
    "end": "999220"
  },
  {
    "text": "a node comes or controller manager is now responsible for kind of making sure",
    "start": "999220",
    "end": "1005880"
  },
  {
    "text": "that this this state of how many nodes we have and how many are actually declared in the database matches again reconcile state just figure out what's",
    "start": "1005880",
    "end": "1012509"
  },
  {
    "text": "different and see what was desired and what's different Ian now came up he's a cubelet in the cluster and so we're",
    "start": "1012509",
    "end": "1019829"
  },
  {
    "text": "gonna go and add him yes well we'll just",
    "start": "1019829",
    "end": "1026010"
  },
  {
    "text": "give him the the kate's label there and he has no pots that's fine we don't",
    "start": "1026010",
    "end": "1031380"
  },
  {
    "text": "we're not gonna automatically rebalance we're not gonna do anything else it's just another cubelet and wait so",
    "start": "1031380",
    "end": "1042079"
  },
  {
    "text": "controller manager is then does these you know as these labels to the nodes make sure if you're in a cloud",
    "start": "1042079",
    "end": "1047400"
  },
  {
    "text": "environment you also have these these cloud controllers that we'll look at like your quality PF its AWS where you look at the a tubs api make sure that",
    "start": "1047400",
    "end": "1054299"
  },
  {
    "text": "that node still exists and and if not delete it out of the cluster because you get in this weird stale state frequently",
    "start": "1054299",
    "end": "1060210"
  },
  {
    "text": "if nodes are coming going if you're an auto scaling group things change and you need to be able to reconcile that state",
    "start": "1060210",
    "end": "1067760"
  },
  {
    "text": "just for fun",
    "start": "1069230",
    "end": "1072530"
  },
  {
    "text": "another name not over your controller manager you need to tell me what you're creating these replicas Jenny Jenny okay",
    "start": "1075230",
    "end": "1084440"
  },
  {
    "text": "so we still got big blue same labels and scheduler obviously okay we're gonna go",
    "start": "1084440",
    "end": "1090680"
  },
  {
    "text": "to ian's it's really hard with to so go ahead your turn you get Java it's it's a big blue one so",
    "start": "1090680",
    "end": "1097400"
  },
  {
    "text": "yeah we're just going through the cycle the other thing that the controller",
    "start": "1097400",
    "end": "1103340"
  },
  {
    "text": "manager is responsible for whenever there's a namespace in kubernetes there are default authentication and tokens",
    "start": "1103340",
    "end": "1110420"
  },
  {
    "text": "don't really go over that here but it's really just how what pods can talk to the API server gives access to other",
    "start": "1110420",
    "end": "1116300"
  },
  {
    "text": "things inside the cluster controller manager is responsible for that the other thing we also want to do is you're",
    "start": "1116300",
    "end": "1122270"
  },
  {
    "text": "gonna create services services are how you kind of route cuz pods come and go so you don't really so service you're",
    "start": "1122270",
    "end": "1133070"
  },
  {
    "text": "not going to route to a pod because a can is a what's up what's that oh right",
    "start": "1133070",
    "end": "1140540"
  },
  {
    "text": "thank you controller manager what's up so that's that's a good point let's say nodes came",
    "start": "1140540",
    "end": "1146150"
  },
  {
    "text": "up something got out of sync on the API and you say what what happened like what",
    "start": "1146150",
    "end": "1152030"
  },
  {
    "text": "where's the failure points okay like all sudden no I if I look at the cluster I have this mini but something else is",
    "start": "1152030",
    "end": "1158060"
  },
  {
    "text": "wrong you can know who to blame right you go look at the logs of the controller manager and it's easy to tell",
    "start": "1158060",
    "end": "1163070"
  },
  {
    "text": "like at that point it's not the scheduler cuz he's not doing that it's not one of the cubelets it's not me who's to blame right",
    "start": "1163070",
    "end": "1171340"
  },
  {
    "text": "they say we're supposed to tell me so if there was a reconnecting oh shoot okay",
    "start": "1173370",
    "end": "1185770"
  },
  {
    "text": "good point what happens if sed goes away what happens has anyone ever had that happen",
    "start": "1185770",
    "end": "1190780"
  },
  {
    "text": "I did it yeah yeah it's amazing you know what happens nothing they keep running",
    "start": "1190780",
    "end": "1197890"
  },
  {
    "text": "they know what they're supposed to do they had to do nothing else it's fine no one can talk to me I can't talk to the",
    "start": "1197890",
    "end": "1202900"
  },
  {
    "text": "database you know I'm gonna return 404 loud I don't know I 500 errors like I can't do it right now that's okay EDD can go away you can't change",
    "start": "1202900",
    "end": "1210309"
  },
  {
    "text": "anything the cluster will stay up I had it down for days it was amazing and and like no one knew no one no one",
    "start": "1210309",
    "end": "1217720"
  },
  {
    "text": "deploy didn't think it was it was amazing I see these backups back awesome",
    "start": "1217720",
    "end": "1223480"
  },
  {
    "text": "so you're right so we need we need Java F is over here and Java Jenny is here so",
    "start": "1223480",
    "end": "1232870"
  },
  {
    "text": "now back to our services of course they also have labels trying to connect",
    "start": "1232870",
    "end": "1239799"
  },
  {
    "text": "alright that's that's fine at CDs gonna take a little break and back with us",
    "start": "1239799",
    "end": "1245230"
  },
  {
    "text": "shortly so in the meantime Java got you",
    "start": "1245230",
    "end": "1253870"
  },
  {
    "text": "killed right anyone it's like who knew that could happen you know what's the",
    "start": "1253870",
    "end": "1260409"
  },
  {
    "text": "cubelets job cublas job run it again right go fetch that image if it is yeah",
    "start": "1260409",
    "end": "1268620"
  },
  {
    "text": "that's all you got to do is a cube list yeah luckily I think I only have four of those so but that's it the cube was just",
    "start": "1268620",
    "end": "1278020"
  },
  {
    "text": "gonna go back in and and run this thing because that's the responsibility of the cubelet and make sure what's assigned to",
    "start": "1278020",
    "end": "1283900"
  },
  {
    "text": "you is what you're doing if NCD doesn't come back we're gonna have a hard time wait one thing I will",
    "start": "1283900",
    "end": "1293289"
  },
  {
    "text": "say the Wi-Fi here has been very successful for me overall when you get the like above the snowline in this room",
    "start": "1293289",
    "end": "1299980"
  },
  {
    "text": "like maybe not so much but anyway so labels again have our services have",
    "start": "1299980",
    "end": "1305860"
  },
  {
    "text": "labels one anything that services have is they actually have what they want to match because lay the service itself has a",
    "start": "1305860",
    "end": "1311590"
  },
  {
    "text": "label that's how things like ingress rules and other things will match says they'll find a service which is a stable",
    "start": "1311590",
    "end": "1316840"
  },
  {
    "text": "IP address but then we need to know what it was the service itself wants to match and",
    "start": "1316840",
    "end": "1325049"
  },
  {
    "text": "what pods that is actually running on so we're gonna say let's say we have a ruby",
    "start": "1325049",
    "end": "1331360"
  },
  {
    "text": "service all right labels for this don't have to be the same thing as what's in the pod",
    "start": "1331360",
    "end": "1336730"
  },
  {
    "text": "so we could say gem and it's gonna match the label red so we know controller",
    "start": "1336730",
    "end": "1345730"
  },
  {
    "text": "manager again is responsible to that for this he looks at the cluster he figures out which pods have those labels that",
    "start": "1345730",
    "end": "1351879"
  },
  {
    "text": "were trying to match and then he tells the API server oh everything with this this these are the pods that match that",
    "start": "1351879",
    "end": "1359139"
  },
  {
    "text": "label so which which pod is it they we only have one oh it's I'm sorry it's",
    "start": "1359139",
    "end": "1367570"
  },
  {
    "text": "good it's only Ruby at this point yes yeah cuz we didn't create that for a replica set that was just connecting",
    "start": "1367570",
    "end": "1375990"
  },
  {
    "text": "every time I just like glance at the Wi-Fi then it comes back it's amazing I",
    "start": "1375990",
    "end": "1381210"
  },
  {
    "text": "thought I had this awful oh I guess I should be offline I should have done that I'm sorry okay",
    "start": "1381210",
    "end": "1387879"
  },
  {
    "text": "we're gonna wait again at CDs down it's fine we're totally cool we can't create",
    "start": "1387879",
    "end": "1392919"
  },
  {
    "text": "a service that's okay everything else is still running where's it going ice",
    "start": "1392919",
    "end": "1401759"
  },
  {
    "text": "how about that Wi-Fi I was just you know praising it and then this happens it's cool we're gonna wait for that her",
    "start": "1403210",
    "end": "1410059"
  },
  {
    "text": "where's him yes if at CDs down and",
    "start": "1410059",
    "end": "1419360"
  },
  {
    "text": "that's what happened before yeah that the cubelet already knows this is my definition he can't get a new definition you can't change what he knows but he'll",
    "start": "1419360",
    "end": "1426620"
  },
  {
    "text": "look at the API server and say like well I'm just keep earning him what I'm doing if I then start returning five hundreds to all these things then they'll just",
    "start": "1426620",
    "end": "1433399"
  },
  {
    "text": "say look how much I can change I'm fine like I know what I had to run last time I knew about it and I'm just gonna reconcile that state and make sure I'm",
    "start": "1433399",
    "end": "1440179"
  },
  {
    "text": "running what I'm supposed to yeah okay",
    "start": "1440179",
    "end": "1445309"
  },
  {
    "text": "let's do it go ahead and have a seat if you lose the node yeah you can't change",
    "start": "1445309",
    "end": "1450710"
  },
  {
    "text": "the state of the cluster so yeah that is a problem going on vacation for a little bit but so what happens cuz Django is",
    "start": "1450710",
    "end": "1456919"
  },
  {
    "text": "out of the cluster right but Django wasn't a it wasn't actually in the in",
    "start": "1456919",
    "end": "1462379"
  },
  {
    "text": "part of a TV because it was a static pod so that's okay so we're not gonna rebalance anything we're not gonna",
    "start": "1462379",
    "end": "1467600"
  },
  {
    "text": "change where they are running it's just that's fine Vicks on vacation we don't really care about Django in this play in",
    "start": "1467600",
    "end": "1473899"
  },
  {
    "text": "this case sorry sorry we care about you it's not that I don't know if I can take",
    "start": "1473899",
    "end": "1480440"
  },
  {
    "text": "this out and I'd like it switch it to offline I know",
    "start": "1480440",
    "end": "1487508"
  },
  {
    "text": "okay where you keep going one more",
    "start": "1490149",
    "end": "1495279"
  },
  {
    "text": "question yeah so yeah okay pod is",
    "start": "1495279",
    "end": "1501639"
  },
  {
    "text": "containers inside of its so depends",
    "start": "1501639",
    "end": "1513039"
  },
  {
    "text": "depends on with the implementation detail your your container runtime interface determines that and all I",
    "start": "1513039",
    "end": "1518349"
  },
  {
    "text": "cases defaults docker if it's cryo it's gonna run different command if it's rocket whatever it is the that interface",
    "start": "1518349",
    "end": "1525219"
  },
  {
    "text": "the container runtime interface tells the cubelet how to interact and how to do something with this pod and so if you",
    "start": "1525219",
    "end": "1532659"
  },
  {
    "text": "notice on if you're running docker you have at least pause containers because docker doesn't actually have a default way to make a group of containers in one",
    "start": "1532659",
    "end": "1539979"
  },
  {
    "text": "thing so they have this pause container and they layer all the containers on top of it if you're using something like rocket or cryo they do that by default",
    "start": "1539979",
    "end": "1546969"
  },
  {
    "text": "you're not gonna have a pause container because it just it can do that already so it looks a little bit different",
    "start": "1546969",
    "end": "1553389"
  },
  {
    "text": "depending on the implementation I'm gonna fully turn it off and on again",
    "start": "1553389",
    "end": "1559769"
  },
  {
    "text": "hopefully that comes back no that's",
    "start": "1559769",
    "end": "1565059"
  },
  {
    "text": "wrong",
    "start": "1565059",
    "end": "1567239"
  },
  {
    "text": "somewhere sorry",
    "start": "1573610",
    "end": "1578490"
  },
  {
    "text": "whatever all right we're taking it to the offline we're not running in the cloud anymore that was databases in the",
    "start": "1582660",
    "end": "1589290"
  },
  {
    "text": "cloud maybe not so much do I have Excel",
    "start": "1589290",
    "end": "1594630"
  },
  {
    "text": "installed I think I do okay we're gonna leave it right now defecated nodes yes",
    "start": "1594630",
    "end": "1601530"
  },
  {
    "text": "don't run in the cluster so another another thought is how do you how do you have highly available API",
    "start": "1601530",
    "end": "1607800"
  },
  {
    "text": "server what do you do sure now you start",
    "start": "1607800",
    "end": "1613790"
  },
  {
    "text": "okay right so we're calling this CD",
    "start": "1616460",
    "end": "1622100"
  },
  {
    "text": "clusters over Wi-Fi bad idea so second API server that's all you have",
    "start": "1623990",
    "end": "1630180"
  },
  {
    "text": "to do create another one I'm just gonna Kelsey doesn't even know I'm doing this I'm gonna share it with Kelsey he's",
    "start": "1630180",
    "end": "1635340"
  },
  {
    "text": "gonna be my other API server all right and if I share with him any any one of",
    "start": "1635340",
    "end": "1640380"
  },
  {
    "text": "these components can now talk directly to Kelsey he has write access to this database still no one else does but that's all you do and then you load",
    "start": "1640380",
    "end": "1646140"
  },
  {
    "text": "balance your API servers I don't need to know Kelsey state if he's down that's fine people people will fail when they",
    "start": "1646140",
    "end": "1651900"
  },
  {
    "text": "talk to him and and succeed for me that's totally fine same thing with your",
    "start": "1651900",
    "end": "1657210"
  },
  {
    "text": "actual components how do you load balance a API server sorry the scheduler and controller",
    "start": "1657210",
    "end": "1663000"
  },
  {
    "text": "manager it it's slightly different you can add one right in those cases they",
    "start": "1663000",
    "end": "1670170"
  },
  {
    "text": "can't they can't directly nct's gonna handle locks for them but they can actually figure out master election in",
    "start": "1670170",
    "end": "1675510"
  },
  {
    "text": "SED so they can say hey I'm the leader right now everyone else you can only read and so if you have one or five",
    "start": "1675510",
    "end": "1681930"
  },
  {
    "text": "it'll get a lock in net CD and say hey I'm the master scheduler right now no one else can schedule anything and",
    "start": "1681930",
    "end": "1687330"
  },
  {
    "text": "that's fine because it you only want one thing doing that scheduling you can have multiple schedulers you can assign those",
    "start": "1687330",
    "end": "1692490"
  },
  {
    "text": "things with annotations and and run these things but per schedule type or whatever you can only have one scheduler",
    "start": "1692490",
    "end": "1700670"
  },
  {
    "text": "so ok one more",
    "start": "1700670",
    "end": "1706730"
  },
  {
    "text": "we're gonna do one more thing here and I want to show Michael can you come up you're gonna be my there's other things",
    "start": "1710790",
    "end": "1717310"
  },
  {
    "text": "that a lot of things that we're just trying to I'm just trying to give some basics here Michael is gonna actually be",
    "start": "1717310",
    "end": "1722980"
  },
  {
    "text": "my initializer anyone know what an initializer does it initializes pods it",
    "start": "1722980",
    "end": "1729040"
  },
  {
    "text": "changes them in some way there are other things called pod presets and admission controllers those are built into the API",
    "start": "1729040",
    "end": "1735160"
  },
  {
    "text": "server so when someone says I want to run this application the API server will change it somehow by either saying like",
    "start": "1735160",
    "end": "1741100"
  },
  {
    "text": "no you're not allowed like I don't accept that container like I don't want Java in my cluster I can say no Java and",
    "start": "1741100",
    "end": "1746650"
  },
  {
    "text": "the API server just won't allow it it says nope that you're not allowed to do that their pod presets and and the",
    "start": "1746650",
    "end": "1753610"
  },
  {
    "text": "ignition controllers are really cool but they're hard-coded in the API server and if you want to change them free boot the",
    "start": "1753610",
    "end": "1760000"
  },
  {
    "text": "API server you have to or compile your own it wasn't super flexible it was kind of a v1 of being able to modify things",
    "start": "1760000",
    "end": "1766570"
  },
  {
    "text": "as they came into the cluster so they introduced recently initializers which I think are alpha and one night but anyone",
    "start": "1766570",
    "end": "1773680"
  },
  {
    "text": "go into an sto talk that's what it uses it's an initializer in the cluster so when something comes in one thing that",
    "start": "1773680",
    "end": "1780790"
  },
  {
    "text": "we add to these pods right as we add an annotation so someone I heard go earlier",
    "start": "1780790",
    "end": "1789640"
  },
  {
    "text": "so we're gonna say we got another one let's just say we'll make it read to and",
    "start": "1789640",
    "end": "1798250"
  },
  {
    "text": "we're gonna say we want two of those so you have go names Bob and go not Bob",
    "start": "1798250",
    "end": "1808620"
  },
  {
    "text": "awesome red red scheduler we only got",
    "start": "1808620",
    "end": "1817690"
  },
  {
    "text": "two by means go apps I'll blade the real friend job actually fit come on up you can we can do one for vic again thank ya okay so but wait wait",
    "start": "1817690",
    "end": "1828220"
  },
  {
    "text": "hold on because I have an initializer now I have a config that says I need to initialize things literally that's what",
    "start": "1828220",
    "end": "1838360"
  },
  {
    "text": "we're gonna do when I create this thing now the API server says hey I created this thing I haven't config for initializer so I need",
    "start": "1838360",
    "end": "1845880"
  },
  {
    "text": "the initializer to tell me if it's ready or not you can have multiple of these you can chain them and say oh here's",
    "start": "1845880",
    "end": "1851040"
  },
  {
    "text": "initializer 1 & 2 & 3 so in this case Michaels gonna say okay we need to actually put a non-void proxy on it so",
    "start": "1851040",
    "end": "1858510"
  },
  {
    "text": "we're gonna run sto and it's gonna run a non-void proxy so he would mutate these",
    "start": "1858510",
    "end": "1864030"
  },
  {
    "text": "pods and so we actually need to add one more question one more thing here wait",
    "start": "1864030",
    "end": "1870690"
  },
  {
    "text": "we got don't worry we got this Java containers in each one but then Michael",
    "start": "1870690",
    "end": "1877650"
  },
  {
    "text": "here is gonna say it's go and it's envoy going envoy so now the containers in",
    "start": "1877650",
    "end": "1884610"
  },
  {
    "text": "there so do we assign it yeah you're good wait wait wait wait hold on initializer then tells me is it",
    "start": "1884610",
    "end": "1890520"
  },
  {
    "text": "initialized well I mean it isn't in is the object in the database initialized",
    "start": "1890520",
    "end": "1895620"
  },
  {
    "text": "it's yeah okay we are we're initialized",
    "start": "1895620",
    "end": "1900870"
  },
  {
    "text": "go there's a there are pink balloons in there that is envoy color coding is this",
    "start": "1900870",
    "end": "1907410"
  },
  {
    "text": "is good if you rub it on your head really good you can probably get this go",
    "start": "1907410",
    "end": "1913470"
  },
  {
    "text": "oh we didn't begin to color there were no go for balloons you know how much I looked for gopher balloons and I could",
    "start": "1913470",
    "end": "1919440"
  },
  {
    "text": "not find the ones oh no so this is what we're doing",
    "start": "1919440",
    "end": "1924049"
  },
  {
    "text": "sure yeah yeah we got to schedule so go ahead and blow those up clusters gonna make",
    "start": "1924950",
    "end": "1931010"
  },
  {
    "text": "that happen and this is what happens when they're creating pods it's only one",
    "start": "1931010",
    "end": "1940340"
  },
  {
    "text": "left so one other thing that I noticed here was see these labels on on go we",
    "start": "1940340",
    "end": "1946640"
  },
  {
    "text": "labeled it red we wanted to match red for our service right so what's gonna happen controller manager does that",
    "start": "1946640",
    "end": "1953840"
  },
  {
    "text": "match this thing well no the the go app is labeled red and we wanted to match",
    "start": "1953840",
    "end": "1959300"
  },
  {
    "text": "label red so now we have go Bob and go",
    "start": "1959300",
    "end": "1964750"
  },
  {
    "text": "but that's a problem because the service doesn't know that it's a different app the service is just matching on labels",
    "start": "1964750",
    "end": "1970370"
  },
  {
    "text": "so if you label something two things the same your service will go to the wrong place",
    "start": "1970370",
    "end": "1975700"
  },
  {
    "text": "that's good okay this is why this talk was really fun so really and that's that",
    "start": "1977260",
    "end": "1988880"
  },
  {
    "text": "is the job of initializer and again careful with initializers if you make another slider config and you try to",
    "start": "1988880",
    "end": "1994280"
  },
  {
    "text": "start your initializer guess what he can't initialize himself so there are some of those chicken X's you need to worry about you can tell it I don't ever",
    "start": "1994280",
    "end": "2001090"
  },
  {
    "text": "want initialize this namespace or this this pod or whatever it is but that's literally here's our cubelets here's",
    "start": "2001090",
    "end": "2006940"
  },
  {
    "text": "initializer controller manager and API server and that's kubernetes thank you",
    "start": "2006940",
    "end": "2013590"
  },
  {
    "text": "any other quick questions about failures or house a component would work that's not clear yeah what's that note",
    "start": "2016890",
    "end": "2027610"
  },
  {
    "text": "evacuation well something labels the node is needing to be evacuated yeah you",
    "start": "2027610",
    "end": "2038080"
  },
  {
    "text": "can so in that case let's say we're",
    "start": "2038080",
    "end": "2043300"
  },
  {
    "text": "gonna evacuate along here and we're gonna say hey he's no longer schedulable and so in that case literally what we",
    "start": "2043300",
    "end": "2050440"
  },
  {
    "text": "can do is we find any pod that was matched to the lawn the pods themselves that have replicas",
    "start": "2050440",
    "end": "2057580"
  },
  {
    "text": "says the pod gets deleted and then the",
    "start": "2057580",
    "end": "2064240"
  },
  {
    "text": "controller manager says hey I need two of those things they're not I don't have to it creates another one the scheduler",
    "start": "2064240",
    "end": "2069700"
  },
  {
    "text": "then looks and says oh I have a new thing which cubelets are available and",
    "start": "2069700",
    "end": "2074710"
  },
  {
    "text": "schedules them it's the same process it just deletes a pod it says oh as they're evacuating we're just gonna delete those",
    "start": "2074710",
    "end": "2080649"
  },
  {
    "text": "things the cubelet then says I don't have to do this drop some fine I'm out yeah right",
    "start": "2080650",
    "end": "2089530"
  },
  {
    "text": "in the end then if it's scheduled to Vic we've created that thing Vic gets it scheduled then he runs it yeah",
    "start": "2089530",
    "end": "2096510"
  },
  {
    "text": "ideally four so a custom resource definitions ideally would have their own scheduler or their own controller and so",
    "start": "2109400",
    "end": "2115609"
  },
  {
    "text": "those would you would apply an annotation that says I want to use this is a custom resource definition and your",
    "start": "2115609",
    "end": "2121809"
  },
  {
    "text": "scheduler inside of it is only going to look at those definitions and so the default scheduler doesn't know anything",
    "start": "2121809",
    "end": "2127759"
  },
  {
    "text": "about your CR DS so it's not gonna do anything with it it's just gonna say hey do I have anything that is they actually",
    "start": "2127759",
    "end": "2132920"
  },
  {
    "text": "will get an annotation that's like hey if it doesn't have an annotation here for a different scheduler then I will look at it but if it does I don't care",
    "start": "2132920",
    "end": "2139579"
  },
  {
    "text": "I'm not gonna look at it they only look at their specific thing and they do control loops on that they just reconcile all right please give the",
    "start": "2139579",
    "end": "2147289"
  },
  {
    "text": "cluster a hand and thanks for coming",
    "start": "2147289",
    "end": "2151450"
  }
]