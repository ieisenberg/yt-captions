[
  {
    "start": "0",
    "end": "96000"
  },
  {
    "text": "all right well hello everyone thank you for coming we're here to talk to you",
    "start": "30",
    "end": "6480"
  },
  {
    "text": "about OPA gatekeeper I am Mack Smith I am a software engineer at Google and I'm Rita J I'm a software",
    "start": "6480",
    "end": "14309"
  },
  {
    "text": "engineer I'm Microsoft and in case no one's familiar with OPA it stands for open policy agents it is",
    "start": "14309",
    "end": "22590"
  },
  {
    "text": "an open source general purpose policy engine it is a CNC F incubator level",
    "start": "22590",
    "end": "28890"
  },
  {
    "text": "project and it is the core of what gatekeeper is built on and gatekeeper is",
    "start": "28890",
    "end": "35700"
  },
  {
    "text": "a customizable kubernetes a mission web hook that allows you to enforce policies",
    "start": "35700",
    "end": "42480"
  },
  {
    "text": "and strengthen governance for your kubernetes clusters now if you operate",
    "start": "42480",
    "end": "50430"
  },
  {
    "text": "many clusters for your company you probably looking for ways to to control",
    "start": "50430",
    "end": "58890"
  },
  {
    "text": "what end-users can do on the cluster and then also ways to enforce policies for",
    "start": "58890",
    "end": "65760"
  },
  {
    "text": "the policies in your company and you'll probably wonder well with all the",
    "start": "65760",
    "end": "71939"
  },
  {
    "text": "policies that my companies has to enforce maybe therefore you know regulatory purpose or maybe you just",
    "start": "71939",
    "end": "78090"
  },
  {
    "text": "have some best practice or company best practice that you want to enforce how",
    "start": "78090",
    "end": "83729"
  },
  {
    "text": "would I be able to do that within kubernetes but still give users the flexibility and agility they love in",
    "start": "83729",
    "end": "90720"
  },
  {
    "text": "kubernetes so that's the motivation behind the gatekeeper project and this",
    "start": "90720",
    "end": "97470"
  },
  {
    "text": "notion of policy in kubernetes it's been around for a while kubernetes has been around for a while and so it's gone",
    "start": "97470",
    "end": "104790"
  },
  {
    "text": "through a bit of an evolution over time you could see here just overview of the general timeline there's a few major",
    "start": "104790",
    "end": "112860"
  },
  {
    "text": "milestones we call them v1 v2 v3 and over the next couple minutes we're kind",
    "start": "112860",
    "end": "118950"
  },
  {
    "text": "of sort of go into detail of how things have progressed so in v1 which is pretty",
    "start": "118950",
    "end": "126659"
  },
  {
    "text": "much vanilla OPA how they decided to integrate with kubernetes was they",
    "start": "126659",
    "end": "132810"
  },
  {
    "text": "created a site process called cube management's and cube management would essentially follow",
    "start": "132810",
    "end": "139739"
  },
  {
    "text": "the API server and replicates data into OPA which was running as a server itself",
    "start": "139739",
    "end": "146700"
  },
  {
    "text": "and then you would register an admission web hook that would query open directly",
    "start": "146700",
    "end": "151800"
  },
  {
    "text": "and you would write your Rago such that it would return a correct response either admit deny whatever your use case",
    "start": "151800",
    "end": "159450"
  },
  {
    "text": "may be and it was originally written by styro and is currently used by dozens of",
    "start": "159450",
    "end": "168510"
  },
  {
    "text": "companies and then came v2 and at the",
    "start": "168510",
    "end": "174989"
  },
  {
    "start": "170000",
    "end": "200000"
  },
  {
    "text": "time it was called kubernetes policy controller Nikhil when he was at Microsoft he and a few",
    "start": "174989",
    "end": "182340"
  },
  {
    "text": "other folks worked on creating creating the kubernetes policy controller which basically decoupled the admission",
    "start": "182340",
    "end": "188790"
  },
  {
    "text": "webhook from OPA and with this he also added a mutating authorization and audit",
    "start": "188790",
    "end": "196319"
  },
  {
    "text": "functionality that we much enjoy today all right so now gatekeeper is what",
    "start": "196319",
    "end": "205019"
  },
  {
    "start": "200000",
    "end": "376000"
  },
  {
    "text": "we're calling v3 and what's different about gatekeeper well it's essentially",
    "start": "205019",
    "end": "211639"
  },
  {
    "text": "taking this whole notion of policy of Rago and trying to bring krm to it so we",
    "start": "211639",
    "end": "219690"
  },
  {
    "text": "are taking what you would be writing and essentially production izing it and",
    "start": "219690",
    "end": "225170"
  },
  {
    "text": "commoditizing it into little snippets of what we're calling constraints which you",
    "start": "225170",
    "end": "230489"
  },
  {
    "text": "can declare on the API server and will then be enforced and sort of how that",
    "start": "230489",
    "end": "235889"
  },
  {
    "text": "works we'll get into a little later in the presentation but we do want to point",
    "start": "235889",
    "end": "240900"
  },
  {
    "text": "out a couple of thank-yous first of all the gatekeeper name was donated by replicated so thank you for",
    "start": "240900",
    "end": "247380"
  },
  {
    "text": "that and also thank you to stai reform law and helping host the whole project",
    "start": "247380",
    "end": "253380"
  },
  {
    "text": "it's piece of Ray goes yes so we",
    "start": "253380",
    "end": "258630"
  },
  {
    "text": "mentioned like policies that companies want to enforce and here are just four that we took as examples that we will",
    "start": "258630",
    "end": "266460"
  },
  {
    "text": "also show what the gatekeeper v3 so here are some",
    "start": "266460",
    "end": "271520"
  },
  {
    "text": "common policies that we are we we see that companies will want to have one is",
    "start": "271520",
    "end": "277389"
  },
  {
    "text": "have you ever had a question of their this resource I wish I can contact them",
    "start": "277389",
    "end": "283400"
  },
  {
    "text": "and and see how I can fix that issue with the owner of this this light at",
    "start": "283400",
    "end": "289400"
  },
  {
    "text": "this resource so with this policy that the admin can then enforce ensure that",
    "start": "289400",
    "end": "296870"
  },
  {
    "text": "all namespaces have a label that essentially has the point of contact so that they can talk to the person if if",
    "start": "296870",
    "end": "303710"
  },
  {
    "text": "we need to do any maintenance and then next have you ever had an issue where you have pots running in your cluster",
    "start": "303710",
    "end": "311690"
  },
  {
    "text": "but they don't have resource limits I bet some of you have run into that issue and so with this policy you can ensure",
    "start": "311690",
    "end": "319280"
  },
  {
    "text": "when the developer deploys the their pot you can make sure that there's resource",
    "start": "319280",
    "end": "324500"
  },
  {
    "text": "limits so one it doesn't break the application but two it also doesn't break the cluster and and affect their",
    "start": "324500",
    "end": "331159"
  },
  {
    "text": "neighbors the third policy that we will demonstrate is in a lot of users tend to",
    "start": "331159",
    "end": "337940"
  },
  {
    "text": "pull images from docker and just basically anywhere right because why not",
    "start": "337940",
    "end": "344139"
  },
  {
    "text": "so one thing that companies can actually enforce is I only want my users to pull",
    "start": "344139",
    "end": "350060"
  },
  {
    "text": "images from approved repositories or images that have been scanned or whatever right so that's another policy",
    "start": "350060",
    "end": "357860"
  },
  {
    "text": "that will demonstrate the last policy will demonstrate is the ability to",
    "start": "357860",
    "end": "363229"
  },
  {
    "text": "enforce that all Paul served are unique so you don't run into the issue where",
    "start": "363229",
    "end": "369710"
  },
  {
    "text": "you create the the service but it's actually pointing to some PI running in the production namespace so let's take a",
    "start": "369710",
    "end": "378830"
  },
  {
    "text": "little bit of a step back here we have some examples of common policies that a",
    "start": "378830",
    "end": "384409"
  },
  {
    "text": "business might want to implement but we need some way of translating that into a",
    "start": "384409",
    "end": "390080"
  },
  {
    "text": "declarative form right and we have some need for figuring out how to translate",
    "start": "390080",
    "end": "395930"
  },
  {
    "text": "that into kubernetes so I mean kubernetes that problem is some",
    "start": "395930",
    "end": "401540"
  },
  {
    "text": "it's solved right because kubernetes is declarative the act of restricting kubernetes is our usage of kubernetes is",
    "start": "401540",
    "end": "409010"
  },
  {
    "text": "simply restricting valid inputs to that declarative configuration you basically",
    "start": "409010",
    "end": "416660"
  },
  {
    "text": "limit what you can declare in a llamo as far as making the policy itself",
    "start": "416660",
    "end": "423410"
  },
  {
    "text": "declarative what's interesting there is that all of these sort of limits that",
    "start": "423410",
    "end": "432320"
  },
  {
    "text": "you may want to place on a llamo they accumulate I want this field to only",
    "start": "432320",
    "end": "438380"
  },
  {
    "text": "have these certain values I want that field to only have these other certain values like only valid image repos only",
    "start": "438380",
    "end": "445250"
  },
  {
    "text": "certain labels can be applied so on so forth so if you take all of those",
    "start": "445250",
    "end": "451070"
  },
  {
    "text": "individual units of intents and call them something like constraints and you",
    "start": "451070",
    "end": "456710"
  },
  {
    "text": "string them together you and them and and and such that if any constraint is",
    "start": "456710",
    "end": "461780"
  },
  {
    "text": "violated the whole constraint is rejected or sorry the whole request is rejected then you have a platform for",
    "start": "461780",
    "end": "469520"
  },
  {
    "text": "describing and implementing policy in krm so what do we need to do that we",
    "start": "469520",
    "end": "476180"
  },
  {
    "text": "need declarative ended constraints we need some sort of schema right because",
    "start": "476180",
    "end": "482300"
  },
  {
    "text": "we have different styles of constraints either were constraining different objects different resources different",
    "start": "482300",
    "end": "488240"
  },
  {
    "text": "fields within the resource and in different ways maybe there's a numeric",
    "start": "488240",
    "end": "493250"
  },
  {
    "text": "range maybe there's some string matching regex so on and so forth so you need",
    "start": "493250",
    "end": "499040"
  },
  {
    "text": "different kinds of constraints that achieve these different results and you",
    "start": "499040",
    "end": "506090"
  },
  {
    "text": "need some way of configuring them so that's you know you can only constrain",
    "start": "506090",
    "end": "511760"
  },
  {
    "text": "resources in a certain namespace and if it's a regex constraint what regex am i",
    "start": "511760",
    "end": "516830"
  },
  {
    "text": "matching against you probably don't want to be diving all the way into your source code just to make a simple change",
    "start": "516830",
    "end": "522890"
  },
  {
    "text": "as an administrator and finally because this is kubernetes and because there are",
    "start": "522890",
    "end": "528650"
  },
  {
    "text": "conventions around ownership rights certain objects belong in certain namespaces and",
    "start": "528650",
    "end": "534279"
  },
  {
    "text": "you have label selectors names other ways of sort of scoping down what you're",
    "start": "534279",
    "end": "539920"
  },
  {
    "text": "interested in there's common selection semantics so it would be nice if our",
    "start": "539920",
    "end": "545680"
  },
  {
    "text": "system could take care of that for us and we didn't have to re-implement the wheel every time we had a new constraint",
    "start": "545680",
    "end": "551999"
  },
  {
    "text": "so how that looks as far as gatekeeper is we develop this constraint resource",
    "start": "551999",
    "end": "558220"
  },
  {
    "start": "552000",
    "end": "635000"
  },
  {
    "text": "and the there's a couple of things I want to point out to you the first is the kind so here I'm calling it Kate's",
    "start": "558220",
    "end": "565600"
  },
  {
    "text": "required labels meaning this constraint makes sure that certain labels are always declared the next most important",
    "start": "565600",
    "end": "572680"
  },
  {
    "text": "field is this match field now match is provided by the system and it",
    "start": "572680",
    "end": "578589"
  },
  {
    "text": "understands a few selection semantics right now currently what you're seeing is I am matching against the namespace",
    "start": "578589",
    "end": "585819"
  },
  {
    "text": "group version kind and other options might be only objects in specific",
    "start": "585819",
    "end": "591249"
  },
  {
    "text": "namespaces and label selector and finally in the red box here we have the",
    "start": "591249",
    "end": "597699"
  },
  {
    "text": "admins and tent this is essentially the arguments to the constraint if you think of them as functions right and for this",
    "start": "597699",
    "end": "604839"
  },
  {
    "text": "particular constraint we have the user friendly message essentially if you do not have a owner label we're gonna tell",
    "start": "604839",
    "end": "612069"
  },
  {
    "text": "you hey you're creating a namespace all namespaces need an owner label something",
    "start": "612069",
    "end": "617379"
  },
  {
    "text": "that a user can understand and follow and hopefully change the request to be compliance and then we have the actual",
    "start": "617379",
    "end": "624579"
  },
  {
    "text": "parameters to enforce in this case a list of labels there's only one owner",
    "start": "624579",
    "end": "629800"
  },
  {
    "text": "and the regex we expect it to match and",
    "start": "629800",
    "end": "636360"
  },
  {
    "text": "as we look at many forms of policies one",
    "start": "636360",
    "end": "642220"
  },
  {
    "text": "of the policies that you could potentially have is comparing information about what you're creating",
    "start": "642220",
    "end": "649240"
  },
  {
    "text": "with other resources that are already in the cluster right so when you compare uniqueness of service or uniqueness of",
    "start": "649240",
    "end": "656589"
  },
  {
    "text": "ingress controller hostname that's where you the when you execute the logic the",
    "start": "656589",
    "end": "661839"
  },
  {
    "text": "the Rago object the the actual rule inside of Opa Opa needs",
    "start": "661839",
    "end": "667070"
  },
  {
    "text": "have needs to have knowledge of the data that's already in the cluster and that's where data replication comes in so for",
    "start": "667070",
    "end": "673880"
  },
  {
    "text": "those type of policies we also you can also replicate the data that that is",
    "start": "673880",
    "end": "680030"
  },
  {
    "text": "required to ensure that this type of policies actually work yes and we just",
    "start": "680030",
    "end": "688250"
  },
  {
    "start": "686000",
    "end": "782000"
  },
  {
    "text": "talked about enforcing policies so the next feature is also audit so we believe",
    "start": "688250",
    "end": "694550"
  },
  {
    "text": "that is really really important to give admins or basically people that really",
    "start": "694550",
    "end": "702380"
  },
  {
    "text": "care about compliance a way to see the current state of the cluster an audit",
    "start": "702380",
    "end": "708260"
  },
  {
    "text": "feature really provides that so with the audit feature we can periodically run",
    "start": "708260",
    "end": "714050"
  },
  {
    "text": "and evaluate the resource that exists in the cluster against all the policies that are enforced and this basically",
    "start": "714050",
    "end": "720890"
  },
  {
    "text": "allows admins the ability to ongoing monitor their cluster make sure they're",
    "start": "720890",
    "end": "725990"
  },
  {
    "text": "actually in compliance but also give them a way to detect and remediate any",
    "start": "725990",
    "end": "732410"
  },
  {
    "text": "issues that currently have with any of the pre-existing resources in the cluster and in order to have the audit",
    "start": "732410",
    "end": "739730"
  },
  {
    "text": "feature to work the objects that are audit needs to be replicated once again",
    "start": "739730",
    "end": "745160"
  },
  {
    "text": "into OPA and the actual results of the",
    "start": "745160",
    "end": "750470"
  },
  {
    "text": "actual reorder results are actually exposed in the status field so as you",
    "start": "750470",
    "end": "756170"
  },
  {
    "text": "can see as Max mentioned earlier this is an example of a constraint that's",
    "start": "756170",
    "end": "761300"
  },
  {
    "text": "already exists in the cluster and when we run the audit every periodically",
    "start": "761300",
    "end": "766520"
  },
  {
    "text": "every you know a few minutes or seconds depends how you want it the violations",
    "start": "766520",
    "end": "771710"
  },
  {
    "text": "are then listed appended to the status field as you can see here and the time",
    "start": "771710",
    "end": "776900"
  },
  {
    "text": "at which this actually failed is also stated in the country itself so so far",
    "start": "776900",
    "end": "784580"
  },
  {
    "start": "782000",
    "end": "945000"
  },
  {
    "text": "so good we know what we want to do we know how we want to enforce things is you know admission webhooks",
    "start": "784580",
    "end": "790640"
  },
  {
    "text": "and there's audit but we're still missing some key pieces here right how",
    "start": "790640",
    "end": "796040"
  },
  {
    "text": "do we tell this the source of things we want to enable and admin to do right how do we code",
    "start": "796040",
    "end": "802470"
  },
  {
    "text": "that behavior how do we inject it into reg oh the Gator sorry into OPA the gatekeeper system what have you and this",
    "start": "802470",
    "end": "810030"
  },
  {
    "text": "spoils down to two critical components right there's the input schema that",
    "start": "810030",
    "end": "815520"
  },
  {
    "text": "you're expecting the admin to provide that parameters field and there's the actual source code that does the",
    "start": "815520",
    "end": "821400"
  },
  {
    "text": "checking the reg oh right so there's some way we need to bundle them together and so what we're going to do",
    "start": "821400",
    "end": "830430"
  },
  {
    "text": "essentially is we're going to come up with a concept of a constraint template and we're gonna provide exactly those",
    "start": "830430",
    "end": "838230"
  },
  {
    "text": "two things one thing that we don't need to provide thanks to how everything is wired together are the matching",
    "start": "838230",
    "end": "844590"
  },
  {
    "text": "semantics so as kubernetes evolves as new ways of selecting resources come into being we",
    "start": "844590",
    "end": "851460"
  },
  {
    "text": "don't need to go back and update or validation we just get that extra scope",
    "start": "851460",
    "end": "856560"
  },
  {
    "text": "for free so here's what a constraint template looks like it's a lot but",
    "start": "856560",
    "end": "863640"
  },
  {
    "text": "essentially at the top in the spec you have a skeleton of a CR D and the",
    "start": "863640",
    "end": "870900"
  },
  {
    "text": "biggest two things you have are the names for the CR D that then become the",
    "start": "870900",
    "end": "875910"
  },
  {
    "text": "name of the constraint resource as well as this validation field and the",
    "start": "875910",
    "end": "881520"
  },
  {
    "text": "validation field is an open API v3 schema and it gets ported directly into",
    "start": "881520",
    "end": "888300"
  },
  {
    "text": "the parameters field of the constraint so you can control what admins can put",
    "start": "888300",
    "end": "893490"
  },
  {
    "text": "into your constraint and make sure that it's type safe now at the bottom here we",
    "start": "893490",
    "end": "900090"
  },
  {
    "text": "have the targets field targets all it does is package Rago for you I you can",
    "start": "900090",
    "end": "907740"
  },
  {
    "text": "see here I have Kate's required labels package and there's a deny rule how this",
    "start": "907740",
    "end": "913410"
  },
  {
    "text": "all works is the deny role is the entry points and you can have as many of those as you like in this rule you can have",
    "start": "913410",
    "end": "920490"
  },
  {
    "text": "other helper functions other helper rules to do your evaluation but",
    "start": "920490",
    "end": "926190"
  },
  {
    "text": "gatekeeper when it performs a request if there is a matching constraints it's going to check the deny rule for",
    "start": "926190",
    "end": "933510"
  },
  {
    "text": "the constraint templates and if it matches if message is returned that message is",
    "start": "933510",
    "end": "938850"
  },
  {
    "text": "going to be perpetuated down to the end user and the request is rejected so this",
    "start": "938850",
    "end": "947070"
  },
  {
    "start": "945000",
    "end": "1001000"
  },
  {
    "text": "is actually really really cool because in the past you would have had to write",
    "start": "947070",
    "end": "952350"
  },
  {
    "text": "your own admission webhooks but also even with previous version of gatekeeper you would have had to write",
    "start": "952350",
    "end": "958410"
  },
  {
    "text": "your own Ray goes and your own config maps so with v3 now gate keeper provides",
    "start": "958410",
    "end": "964380"
  },
  {
    "text": "a mission system that allows you to just configure rather than writing code but",
    "start": "964380",
    "end": "969900"
  },
  {
    "text": "also to write policies and rules as constraints and the constraints can also",
    "start": "969900",
    "end": "975900"
  },
  {
    "text": "be parameters so you only have to write the Ray go the template ones and then give to other folks to actually",
    "start": "975900",
    "end": "982230"
  },
  {
    "text": "parameters and this is really scalable but also extendable and easy to share",
    "start": "982230",
    "end": "988020"
  },
  {
    "text": "easy to test and you can actually share internally or with all your friends in",
    "start": "988020",
    "end": "993300"
  },
  {
    "text": "the community but last not least it's not just for kubernetes you can also integrate this with you our CI CD",
    "start": "993300",
    "end": "999000"
  },
  {
    "text": "pipeline right so this is all very abstract I thought it'd be fun to or we",
    "start": "999000",
    "end": "1007040"
  },
  {
    "text": "thought it'd be fun to bring it into a little bit more concrete of an example",
    "start": "1007040",
    "end": "1012320"
  },
  {
    "text": "we have organization called agile bank or a fictitious organization and they",
    "start": "1012320",
    "end": "1018710"
  },
  {
    "text": "have a few issues and we're gonna see how gatekeeper helps solve their",
    "start": "1018710",
    "end": "1023870"
  },
  {
    "text": "problems so in the beginning all the",
    "start": "1023870",
    "end": "1029240"
  },
  {
    "text": "banks right come on people we have our",
    "start": "1029240",
    "end": "1034550"
  },
  {
    "text": "developer so I'm a developer and I'm gonna go ahead and create well sorry I'm",
    "start": "1034550",
    "end": "1041180"
  },
  {
    "text": "go ahead gonna go ahead and create some a namespace to be used for my work my",
    "start": "1041180",
    "end": "1046910"
  },
  {
    "text": "workload and five weeks go by the",
    "start": "1046910",
    "end": "1052220"
  },
  {
    "text": "developer moves on to another project advanced transaction system is long forgotten until our intrepid men finds",
    "start": "1052220",
    "end": "1059870"
  },
  {
    "text": "it what is advanced transaction system do we use it they go on a 3-day quest across many",
    "start": "1059870",
    "end": "1066650"
  },
  {
    "text": "departments only to find the project with scraps never again says the admin",
    "start": "1066650",
    "end": "1072590"
  },
  {
    "text": "as they delete the namespace so they delete the namespace they search for a",
    "start": "1072590",
    "end": "1078110"
  },
  {
    "text": "solution they find gatekeeper install it in their cluster and they look around",
    "start": "1078110",
    "end": "1083150"
  },
  {
    "text": "they find a few templates that I think as the admin might be helpful I see",
    "start": "1083150",
    "end": "1088430"
  },
  {
    "text": "there's one that allows me to restrict repositories one that allows for container limits or one that makes sure",
    "start": "1088430",
    "end": "1095210"
  },
  {
    "text": "you have in container limits supplied one that allows me to require people",
    "start": "1095210",
    "end": "1101800"
  },
  {
    "text": "supply certain labels and one that makes sure that all service selectors are",
    "start": "1101800",
    "end": "1108050"
  },
  {
    "text": "unique globally across the cluster just in case so I don't point say production",
    "start": "1108050",
    "end": "1114590"
  },
  {
    "text": "at dev all right so I'm going to load those into the system by running cube",
    "start": "1114590",
    "end": "1121130"
  },
  {
    "text": "cuddle apply templates and then I'm going to write out some constraints for",
    "start": "1121130",
    "end": "1129020"
  },
  {
    "text": "each of these templates I'm just gonna quickly look at one of them this is that",
    "start": "1129020",
    "end": "1135560"
  },
  {
    "text": "label constraint that I showed you before all the rest look kind of similar there's selectors that are appropriate",
    "start": "1135560",
    "end": "1142010"
  },
  {
    "text": "and there are parameters so I'm just going to apply all of my constraints get",
    "start": "1142010",
    "end": "1148730"
  },
  {
    "text": "them enforced and hand it back off to the developer now I go back to the",
    "start": "1148730",
    "end": "1154040"
  },
  {
    "text": "system and deploy things like I normally do so I'm gonna create a production",
    "start": "1154040",
    "end": "1160100"
  },
  {
    "text": "namespace and looks like I'm not really allowed to do so without telling my amman who I am and how to contact me so",
    "start": "1160100",
    "end": "1169340"
  },
  {
    "text": "then I update my deployment yamo and at my my name there and I apply and then",
    "start": "1169340",
    "end": "1179540"
  },
  {
    "text": "everything works next I'm gonna deploy some pod and like a good developer I did",
    "start": "1179540",
    "end": "1186350"
  },
  {
    "text": "not specify any resource limits and here prior to this I would I would have had",
    "start": "1186350",
    "end": "1192860"
  },
  {
    "text": "no idea and then it would take days maybe even longer to get that fixed so",
    "start": "1192860",
    "end": "1198510"
  },
  {
    "text": "now I'm gonna apply some limits and of course I was very ambitious and add too",
    "start": "1198510",
    "end": "1205409"
  },
  {
    "text": "much and this lovely helpful message actually tells me what the admin would like to do so next I update that and and",
    "start": "1205409",
    "end": "1216059"
  },
  {
    "text": "it looks like like many developers I used my own image and when I should have",
    "start": "1216059",
    "end": "1224520"
  },
  {
    "text": "used a production one and let me go ahead and update that and WHAM that",
    "start": "1224520",
    "end": "1230400"
  },
  {
    "text": "works oh sorry another service for my application so I",
    "start": "1230400",
    "end": "1236100"
  },
  {
    "text": "can actually give this endpoint to the front-end developer and as you can see I",
    "start": "1236100",
    "end": "1242030"
  },
  {
    "text": "mistakenly pointed to the gatekeeper system namespace when it's only for",
    "start": "1242030",
    "end": "1247679"
  },
  {
    "text": "tests now prior to this I would have had I would probably break the whole thing",
    "start": "1247679",
    "end": "1252900"
  },
  {
    "text": "and then call the admin to help me fix it but luckily with this lovely error message I now know that I made a huge",
    "start": "1252900",
    "end": "1259440"
  },
  {
    "text": "mistake and then update it to to do the right thing all right so the developer",
    "start": "1259440",
    "end": "1265830"
  },
  {
    "text": "was able to self instruct on our policies and get everything done through",
    "start": "1265830",
    "end": "1272190"
  },
  {
    "text": "self-service which is really helpful for me as an admin I now have a lot more time to focus on the policies are",
    "start": "1272190",
    "end": "1279929"
  },
  {
    "text": "actually helpful in making sure that our cluster is reliable and other good admin",
    "start": "1279929",
    "end": "1285360"
  },
  {
    "text": "stuff that isn't purely policy enforcement and I can deploy my changes without having to wait for that I'm",
    "start": "1285360",
    "end": "1291419"
  },
  {
    "text": "gonna tell me what he expects me to do feels good not to be a bottleneck all",
    "start": "1291419",
    "end": "1297299"
  },
  {
    "text": "right so halls well and tell the big outage the bank is down for hours now I",
    "start": "1297299",
    "end": "1306690"
  },
  {
    "text": "had no idea there were resources in the cluster that had no container limits I thought I took care of that with my",
    "start": "1306690",
    "end": "1312780"
  },
  {
    "text": "policy before but that was why right something got hungry ate up all my",
    "start": "1312780",
    "end": "1318750"
  },
  {
    "text": "clusters resources so we need to fix that we did but what else is lurking",
    "start": "1318750",
    "end": "1324899"
  },
  {
    "text": "waiting to attack in terms of resource limits Oh we can look at audit so let us look at",
    "start": "1324899",
    "end": "1335910"
  },
  {
    "text": "the container limits constraints ah",
    "start": "1335910",
    "end": "1340429"
  },
  {
    "text": "that's a lot of bad deployments sir yeah",
    "start": "1341630",
    "end": "1349250"
  },
  {
    "text": "Fred must be Fred Fred's blamelessly but Fred we don't blame anybody and",
    "start": "1349910",
    "end": "1360980"
  },
  {
    "text": "that's the end all right so where are we",
    "start": "1360980",
    "end": "1374670"
  },
  {
    "start": "1368000",
    "end": "1409000"
  },
  {
    "text": "in terms of the project what's the status so the gatekeeper project is currently",
    "start": "1374670",
    "end": "1379800"
  },
  {
    "text": "at alpha but our plan is to release the beta version of it at end of June and we",
    "start": "1379800",
    "end": "1385550"
  },
  {
    "text": "we're here to talk to you about it and to get more feedback from you after you start using it we will love for more",
    "start": "1385550",
    "end": "1393300"
  },
  {
    "text": "contribution but please tell us your use cases and as you use this doesn't make",
    "start": "1393300",
    "end": "1398309"
  },
  {
    "text": "sense and tell us the user experience so we would definitely love to hear your feedback yeah I do you said June at the",
    "start": "1398309",
    "end": "1407850"
  },
  {
    "text": "end yeah we're looking for beta yeah all right so and we have all of what we have",
    "start": "1407850",
    "end": "1414300"
  },
  {
    "start": "1409000",
    "end": "1545000"
  },
  {
    "text": "here it's currently working but where are we looking to go next one of the big",
    "start": "1414300",
    "end": "1420720"
  },
  {
    "text": "use cases we're looking to provide is mutation we want to do the same kind of thing we've done with validation",
    "start": "1420720",
    "end": "1427230"
  },
  {
    "text": "constraints in terms of packaging them up making them reusable declarative all that nice stuff we would also like to be",
    "start": "1427230",
    "end": "1434760"
  },
  {
    "text": "able to more easily incorporate external data into the system so think about validating that that owner constraint",
    "start": "1434760",
    "end": "1442710"
  },
  {
    "text": "against the actual users of your system right actually look up real user names",
    "start": "1442710",
    "end": "1448620"
  },
  {
    "text": "instead of relying on a regex authorization is possible it would likely go into a different project",
    "start": "1448620",
    "end": "1455570"
  },
  {
    "text": "because it shouldn't be running on on the cluster directly and it will have",
    "start": "1455570",
    "end": "1462419"
  },
  {
    "text": "slightly different takes but the same general idea constraint template constraints more",
    "start": "1462419",
    "end": "1467940"
  },
  {
    "text": "audit features we would like audits right now it's very useful as a debugging tool very useful for keeping",
    "start": "1467940",
    "end": "1473700"
  },
  {
    "text": "an eye on sort of what's happening in the cluster right now it's not writing out to say signed logs it's not writing",
    "start": "1473700",
    "end": "1479970"
  },
  {
    "text": "out very granular lis such that you can view a historical state a historical",
    "start": "1479970",
    "end": "1488490"
  },
  {
    "text": "timeline of what has been in and out of compliance in your cluster overtime",
    "start": "1488490",
    "end": "1493760"
  },
  {
    "text": "metrics metrics metrics for Prometheus so you can instrument and alerts against",
    "start": "1493760",
    "end": "1499830"
  },
  {
    "text": "the project view things like up there's a lot of rejections happening what's that about or just this thing is",
    "start": "1499830",
    "end": "1506250"
  },
  {
    "text": "behaving in a weird way developer tooling to help people right constraints",
    "start": "1506250",
    "end": "1512430"
  },
  {
    "text": "we want to make it easy for people to build things and shares so the system can continue to evolve as Cooper nutty",
    "start": "1512430",
    "end": "1519960"
  },
  {
    "text": "to Burnett evolves and finally dry run so that's when you're developing new",
    "start": "1519960",
    "end": "1527010"
  },
  {
    "text": "constraints are testing them out on your system you can see how it's going to interact with your current production",
    "start": "1527010",
    "end": "1532800"
  },
  {
    "text": "environment and developer requests before actually enforcing them to make sure that it's not going to be a big",
    "start": "1532800",
    "end": "1538560"
  },
  {
    "text": "thing to suddenly be denying certain issues that people are commonly engaging",
    "start": "1538560",
    "end": "1545100"
  },
  {
    "start": "1545000",
    "end": "1633000"
  },
  {
    "text": "with alright and we would also like to thank a lot of people particularly the",
    "start": "1545100",
    "end": "1550710"
  },
  {
    "text": "open policy agent community definitely replicated for giving us the gatekeeper",
    "start": "1550710",
    "end": "1556050"
  },
  {
    "text": "name and not least Tim and torrent of styro for hosting the project and you",
    "start": "1556050",
    "end": "1563160"
  },
  {
    "text": "know helping along with development and with the slides we really appreciate it and please join us we would love to have",
    "start": "1563160",
    "end": "1570090"
  },
  {
    "text": "you here is our github repo we are on slack so please join our channel ask us",
    "start": "1570090",
    "end": "1577860"
  },
  {
    "text": "questions and you know if you want to help participate we have a meeting every",
    "start": "1577860",
    "end": "1584180"
  },
  {
    "text": "to pee every Tuesday at 2:00 p.m. Pacific time where we're open to",
    "start": "1584180",
    "end": "1589290"
  },
  {
    "text": "changing that I realize that something like 10:00 p.m. in the current time zone so 11:00 maybe even and sometime",
    "start": "1589290",
    "end": "1596760"
  },
  {
    "text": "so yeah definitely we can make that earlier the end questions",
    "start": "1596760",
    "end": "1613460"
  },
  {
    "start": "1633000",
    "end": "1710000"
  },
  {
    "text": "so what I'm hearing I'm gonna paraphrase correct me if I'm wrong is are there scale problems with audit if you have a",
    "start": "1634040",
    "end": "1641420"
  },
  {
    "text": "very large cluster or a lot of constraints essentially what I'm what",
    "start": "1641420",
    "end": "1646730"
  },
  {
    "text": "I'm hearing is will the system kind of take a nosedive because it's auditing periodically so that is a good question",
    "start": "1646730",
    "end": "1654530"
  },
  {
    "text": "I and for very large systems it would",
    "start": "1654530",
    "end": "1659660"
  },
  {
    "text": "we're gonna make it possible to separate out the audit from the admission so that",
    "start": "1659660",
    "end": "1665870"
  },
  {
    "text": "they're running on two different systems and one will not have a performance impact on the other and also one of the",
    "start": "1665870",
    "end": "1673780"
  },
  {
    "text": "configure one of the knobs that you can tweak is list how many violations per",
    "start": "1673780",
    "end": "1680240"
  },
  {
    "text": "constrain so with that it will basically only give you like the the ones that the",
    "start": "1680240",
    "end": "1686530"
  },
  {
    "text": "the number the the limit that you've set right so like top 20 or top 10 whatever",
    "start": "1686530",
    "end": "1692600"
  },
  {
    "text": "so eight in theory it shouldn't give you a really really long list",
    "start": "1692600",
    "end": "1699280"
  },
  {
    "start": "1710000",
    "end": "1776000"
  },
  {
    "text": "so the question is can you prioritize rules and make it kind of sequential and",
    "start": "1711110",
    "end": "1716179"
  },
  {
    "text": "make sure you get the most important ones for audits specifically no not",
    "start": "1716179",
    "end": "1723230"
  },
  {
    "text": "currently we remember what he said about and right like if you do that it would",
    "start": "1723230",
    "end": "1731090"
  },
  {
    "text": "kind of defeat the whole purpose I think for for validation for audit it may be",
    "start": "1731090",
    "end": "1737149"
  },
  {
    "text": "possible to to kind of we never talked about this yeah but yet but see this is why your",
    "start": "1737149",
    "end": "1743510"
  },
  {
    "text": "your feedback is really important yeah",
    "start": "1743510",
    "end": "1747490"
  },
  {
    "text": "so I'm gonna repeat the question let me know it's just yeah so the question is is there robach right if there's a",
    "start": "1760000",
    "end": "1767320"
  },
  {
    "text": "policy deployed and if it's you see a problem can you roll back a roll back of",
    "start": "1767320",
    "end": "1775480"
  },
  {
    "text": "the policy so if are you are you talking about Bad's",
    "start": "1775480",
    "end": "1780640"
  },
  {
    "start": "1776000",
    "end": "1839000"
  },
  {
    "text": "Rhaego source code or are you talking about the admission of rollback",
    "start": "1780640",
    "end": "1794710"
  },
  {
    "text": "capability as a standard krm which is you get what you bring to it if you if",
    "start": "1794710",
    "end": "1800470"
  },
  {
    "text": "you're using get-ups which you know we think this would work very well with then you could roll back through that",
    "start": "1800470",
    "end": "1806470"
  },
  {
    "text": "vector yeah and this is also why we want to add the dry run functionality so that",
    "start": "1806470",
    "end": "1811900"
  },
  {
    "text": "you can try it before you enforce it so that if you left the zero and you",
    "start": "1811900",
    "end": "1817030"
  },
  {
    "text": "wouldn't know before you actually enforced it right does that answer your",
    "start": "1817030",
    "end": "1822130"
  },
  {
    "text": "question",
    "start": "1822130",
    "end": "1824190"
  },
  {
    "start": "1839000",
    "end": "1902000"
  },
  {
    "text": "so you want to in have the templates outside of kubernetes but enforce them",
    "start": "1840100",
    "end": "1847300"
  },
  {
    "text": "in kubernetes interesting so that we definitely thought about for for like a",
    "start": "1847300",
    "end": "1854140"
  },
  {
    "text": "CI CD pipeline reading the templates in not from the API server so you could validate the state of your cluster with",
    "start": "1854140",
    "end": "1861100"
  },
  {
    "text": "that I think it could be possible it's not currently something we're supporting",
    "start": "1861100",
    "end": "1867730"
  },
  {
    "text": "but you'd need to make it available via web hood nothing prevents you from creating it like creating something that",
    "start": "1867730",
    "end": "1875590"
  },
  {
    "text": "creates the constraints right",
    "start": "1875590",
    "end": "1878789"
  },
  {
    "start": "1902000",
    "end": "1991000"
  },
  {
    "text": "this is like a multi-tenancy question okay so the question is if if you have",
    "start": "1903070",
    "end": "1909580"
  },
  {
    "text": "like tenants in the cluster and you have like an uber admin in the cluster that that really has like root privileges to",
    "start": "1909580",
    "end": "1916330"
  },
  {
    "text": "control what people do I think that would depend on your multi-tenancy model right if you're using namespaces as the",
    "start": "1916330",
    "end": "1923320"
  },
  {
    "text": "granularity for tenancy controls I would say one of the things we're looking at is making every constraint both a",
    "start": "1923320",
    "end": "1930670"
  },
  {
    "text": "cluster level resource as well as a namespace scoped resource and then the",
    "start": "1930670",
    "end": "1935920"
  },
  {
    "text": "the rooted men could modify the cluster level and also eventually I would like",
    "start": "1935920",
    "end": "1943150"
  },
  {
    "text": "to see constraints sort of being able to be grouped together and clustered by",
    "start": "1943150",
    "end": "1949870"
  },
  {
    "text": "actually the admin role that would be interested in them like maybe you have certain labels that are important for",
    "start": "1949870",
    "end": "1955630"
  },
  {
    "text": "billing others that are important for like data management and then you could scope out and delegate admin privileges",
    "start": "1955630",
    "end": "1962290"
  },
  {
    "text": "based off of like the auerbach for the style of it men by the way add your",
    "start": "1962290",
    "end": "1970120"
  },
  {
    "text": "policies does is today",
    "start": "1970120",
    "end": "1973290"
  },
  {
    "start": "1991000",
    "end": "2088000"
  },
  {
    "text": "so it's a lifecycle question of what happens in constraint templates if you",
    "start": "1991440",
    "end": "1998309"
  },
  {
    "text": "if you so there's constraint templates create constraints er DS which then",
    "start": "1998309",
    "end": "2004640"
  },
  {
    "text": "people can create constraint custom resources what happens if a constraint",
    "start": "2004640",
    "end": "2009800"
  },
  {
    "text": "changes and then a pre-existing constraint say has an invalid schema",
    "start": "2009800",
    "end": "2015200"
  },
  {
    "text": "after the fact so functionally what happens right now in kubernetes is the",
    "start": "2015200",
    "end": "2020270"
  },
  {
    "text": "constraint continues to exist in its previous form and effectively what is",
    "start": "2020270",
    "end": "2026690"
  },
  {
    "text": "going to happen for evaluation at that point is that likely that constraint",
    "start": "2026690",
    "end": "2032600"
  },
  {
    "text": "will no longer match like it will get the rule will set an undefined state in",
    "start": "2032600",
    "end": "2037730"
  },
  {
    "text": "reg oh so so that violation will kind of go away so the kind of convention that",
    "start": "2037730",
    "end": "2044750"
  },
  {
    "text": "we're suggesting around that is you conversion constraint templates within the name of the template and go V 1 V 2",
    "start": "2044750",
    "end": "2051950"
  },
  {
    "text": "and keep the same kind of kubernetes version implications so that that that",
    "start": "2051950",
    "end": "2057800"
  },
  {
    "text": "exists for like alpha beta so on where you make sure that you keep your interface consistent if you're just up",
    "start": "2057800",
    "end": "2066679"
  },
  {
    "text": "doing like transparent upgrades of the Rago",
    "start": "2066679",
    "end": "2070780"
  },
  {
    "start": "2088000",
    "end": "2168000"
  },
  {
    "text": "yes yes so this is part of the matching semantics so the question was I can you",
    "start": "2088139",
    "end": "2094840"
  },
  {
    "text": "have different rules for different namespaces for constraints and one of",
    "start": "2094840",
    "end": "2099910"
  },
  {
    "text": "the things you could do with constraints is you could have namespace name as the",
    "start": "2099910",
    "end": "2105820"
  },
  {
    "text": "matcher so that only resources within a given namespace will be matched against",
    "start": "2105820",
    "end": "2111430"
  },
  {
    "text": "that constraint it's potential we don't have it right now but essentially a",
    "start": "2111430",
    "end": "2116560"
  },
  {
    "text": "namespace selector so a label selector that selects against namespace labels would be a more general way of doing it",
    "start": "2116560",
    "end": "2123520"
  },
  {
    "text": "if you're trying to like cluster namespaces together in a more dynamic fashion any other questions",
    "start": "2123520",
    "end": "2133380"
  },
  {
    "text": "so the question I I think you're saying",
    "start": "2153680",
    "end": "2159170"
  },
  {
    "text": "when you make when you deployed appointment make sure there's a service attached to it like require have a",
    "start": "2159170",
    "end": "2165920"
  },
  {
    "text": "policy that requires service as part of the deployment so that's interesting",
    "start": "2165920",
    "end": "2171049"
  },
  {
    "text": "because it's an ordered constraint as and and because the kubernetes api",
    "start": "2171049",
    "end": "2178279"
  },
  {
    "text": "server like order is not necessarily preserved in the eventual consistency model that being said you could",
    "start": "2178279",
    "end": "2187220"
  },
  {
    "text": "definitely have a constraint on a resource that looks up a different resource and if it doesn't exist and you",
    "start": "2187220",
    "end": "2192859"
  },
  {
    "text": "have some way of figuring out the resource you'd expect to see right like a label selector against cache free",
    "start": "2192859",
    "end": "2200839"
  },
  {
    "text": "sources then you could do that yes but that's assuming the service already exists he's saying he wants to make sure",
    "start": "2200839",
    "end": "2208160"
  },
  {
    "text": "a service is a part of the deployment okay a service",
    "start": "2208160",
    "end": "2217480"
  },
  {
    "start": "2225000",
    "end": "2263000"
  },
  {
    "text": "oh okay so so you the thing you want to check is the thing that has the",
    "start": "2225069",
    "end": "2231279"
  },
  {
    "text": "reference yeah you would need to create the deployment first at that point you",
    "start": "2231279",
    "end": "2236679"
  },
  {
    "text": "can use a helmet are for that but yeah if you were to create deployments cache",
    "start": "2236679",
    "end": "2243069"
  },
  {
    "text": "those using the sync CRD then when you deployed the service",
    "start": "2243069",
    "end": "2248829"
  },
  {
    "text": "you could you could check or I think I'm getting I may be getting the the kinds",
    "start": "2248829",
    "end": "2254079"
  },
  {
    "text": "backwards but essentially that's that's the model you can you can reference but",
    "start": "2254079",
    "end": "2259839"
  },
  {
    "text": "but I think they're short answer is no right like what he wants right now I think it's I think it's yes so the the",
    "start": "2259839",
    "end": "2268809"
  },
  {
    "start": "2263000",
    "end": "2353000"
  },
  {
    "text": "select is so the selector is on the sorry I'm blanking on so its deployment",
    "start": "2268809",
    "end": "2275890"
  },
  {
    "text": "and service right the selectors on the service so if you're cashing services",
    "start": "2275890",
    "end": "2281429"
  },
  {
    "text": "you can then run the selector logic against all cache services or so you",
    "start": "2281429",
    "end": "2288729"
  },
  {
    "text": "could take all cache services get their selectors run the selectors logic against the currently proposed",
    "start": "2288729",
    "end": "2295630"
  },
  {
    "text": "deployment and if it doesn't match any existing ingress or sorry service then",
    "start": "2295630",
    "end": "2302079"
  },
  {
    "text": "it's dental fail right right right right",
    "start": "2302079",
    "end": "2307239"
  },
  {
    "text": "so",
    "start": "2307239",
    "end": "2309779"
  },
  {
    "text": "any other questions",
    "start": "2313769",
    "end": "2317400"
  },
  {
    "text": "sorry IIIi heard the tiered bed of the question",
    "start": "2333869",
    "end": "2339588"
  },
  {
    "text": "I would like it I would like to get it to that state the question then would be",
    "start": "2353800",
    "end": "2359260"
  },
  {
    "text": "the are back permissions around that right so if you are in a state where you",
    "start": "2359260",
    "end": "2365830"
  },
  {
    "text": "can find a trusted group across all those departments that that you feel are",
    "start": "2365830",
    "end": "2371130"
  },
  {
    "text": "should be allowed to hit all policy everywhere then it would be fine for now",
    "start": "2371130",
    "end": "2376440"
  },
  {
    "text": "really the the next step would be to create a set of resources that for",
    "start": "2376440",
    "end": "2383619"
  },
  {
    "text": "instance limit the set of labels you can touch and just delegate those right and",
    "start": "2383619",
    "end": "2390310"
  },
  {
    "text": "and that would be the the less trustful shared responsibility model any other",
    "start": "2390310",
    "end": "2400750"
  },
  {
    "text": "questions all right well thank you all very much",
    "start": "2400750",
    "end": "2406000"
  },
  {
    "text": "for coming we appreciate your time [Applause]",
    "start": "2406000",
    "end": "2411788"
  }
]