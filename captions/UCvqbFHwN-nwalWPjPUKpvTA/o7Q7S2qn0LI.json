[
  {
    "start": "0",
    "end": "60000"
  },
  {
    "text": "hello everyone thank you for coming to our talk we're really amazed that so many showed up here they said in in the",
    "start": "0",
    "end": "6540"
  },
  {
    "text": "day and that's really nice um we'll promise you three things today two maybe three uh first of all we will",
    "start": "6540",
    "end": "14340"
  },
  {
    "text": "give you a presentation without no yaml I know that's almost not allowed here but that's what we'll do also we will",
    "start": "14340",
    "end": "21480"
  },
  {
    "text": "give you a demo fingers crossed uh that's mostly visual Libra script maybe but mostly visual so",
    "start": "21480",
    "end": "29099"
  },
  {
    "text": "that should also be good here in in the end of the day and maybe we're also show you a tool that will be useful for for",
    "start": "29099",
    "end": "34860"
  },
  {
    "text": "your needs we'll see so my name is Michael I'm from uh come from to Denmark",
    "start": "34860",
    "end": "40620"
  },
  {
    "text": "and I'm here with my colleague Martin and and we will talk to you about how we have built a self-service platform a",
    "start": "40620",
    "end": "47160"
  },
  {
    "text": "self-service solution for our developers so that they can can manage all their networking needs through a this",
    "start": "47160",
    "end": "53280"
  },
  {
    "text": "self-service solution so Martin what kind of company is",
    "start": "53280",
    "end": "58320"
  },
  {
    "text": "distribute to Denmark well well to Denmark is a governmental",
    "start": "58320",
    "end": "64140"
  },
  {
    "start": "60000",
    "end": "151000"
  },
  {
    "text": "owned commercial broadcasting station that was founded in the late 80s with",
    "start": "64140",
    "end": "69720"
  },
  {
    "text": "public service provider so we we provide things with news and entertainment um",
    "start": "69720",
    "end": "74880"
  },
  {
    "text": "for many years our main products have been like a range of linear broadcasting channels uh where the main channel was",
    "start": "74880",
    "end": "81840"
  },
  {
    "text": "actually the most viewed linear channel in Denmark last year but besides that we",
    "start": "81840",
    "end": "88320"
  },
  {
    "text": "also have some digital products we have tv2dk the web page uh website that that",
    "start": "88320",
    "end": "94259"
  },
  {
    "text": "mainly contains news along with some free mobile apps for news weather",
    "start": "94259",
    "end": "100079"
  },
  {
    "text": "forecasting Sports and TV program guide and then we have our streaming service",
    "start": "100079",
    "end": "106320"
  },
  {
    "text": "TV2 play which is a subscription-based streaming service",
    "start": "106320",
    "end": "111420"
  },
  {
    "text": "and it's it's one of Denmark's largest with more than a million subscribers and the actually for quite some years",
    "start": "111420",
    "end": "119399"
  },
  {
    "text": "we've had the streaming service doing both live TV on demand content and we",
    "start": "119399",
    "end": "124920"
  },
  {
    "text": "also do some interesting things in terms of like Dynamic pop-up channels when the big sport events we do some linear ad",
    "start": "124920",
    "end": "132360"
  },
  {
    "text": "replacement so basically targeted ads on linear flow TV so so we do some quite exciting things",
    "start": "132360",
    "end": "139560"
  },
  {
    "text": "um and and throughout the years our digital products have gained a lot more focus and and popularity uh due to the",
    "start": "139560",
    "end": "146340"
  },
  {
    "text": "decrease in in viewers on linear TV",
    "start": "146340",
    "end": "151680"
  },
  {
    "start": "151000",
    "end": "188000"
  },
  {
    "text": "so to as a company we are like around 1500 employees in total uh zooming in on",
    "start": "151680",
    "end": "157980"
  },
  {
    "text": "the digital Department we are a bit more than 200 employees in 20 different teams",
    "start": "157980",
    "end": "164540"
  },
  {
    "text": "spread across many different roles and responsibilities um we have more than 10 products",
    "start": "164540",
    "end": "170700"
  },
  {
    "text": "counting both our public products but also internal products so we do some",
    "start": "170700",
    "end": "177120"
  },
  {
    "text": "internal tooling for for editors to publish some prioritize content on",
    "start": "177120",
    "end": "185280"
  },
  {
    "text": "our public products so looking a bit on on the cloud Journey",
    "start": "185280",
    "end": "192120"
  },
  {
    "start": "188000",
    "end": "303000"
  },
  {
    "text": "we've had so far so for the past four or five years or so our development teams",
    "start": "192120",
    "end": "197940"
  },
  {
    "text": "have been building their own cloud platforms this means that today we have many",
    "start": "197940",
    "end": "203819"
  },
  {
    "text": "similar platforms but but with some some difference in details so so we have many",
    "start": "203819",
    "end": "209159"
  },
  {
    "text": "different snowflakes snowflake platforms um ah we've basically been using a",
    "start": "209159",
    "end": "216720"
  },
  {
    "text": "traditional linkers most developers have been using traditional English to expose applications some teams are using istio",
    "start": "216720",
    "end": "223739"
  },
  {
    "text": "for more advanced networking um and throughout the last couple of",
    "start": "223739",
    "end": "229260"
  },
  {
    "text": "years we've seen an increased need for for Network features external to people it is such as web application firewalls",
    "start": "229260",
    "end": "236340"
  },
  {
    "text": "um DDOS protection Network filtering and so on so last year we we established a",
    "start": "236340",
    "end": "244080"
  },
  {
    "text": "platform team tried to set out build a common kubernetes platform and multi-10 platform that with time will support all",
    "start": "244080",
    "end": "252840"
  },
  {
    "text": "of our developers the main focus is like most other companies to reduce developer cognitive",
    "start": "252840",
    "end": "260280"
  },
  {
    "text": "load to try to abstract away some of the infrastructure that most developers don't really care about and provide a",
    "start": "260280",
    "end": "266520"
  },
  {
    "text": "paved path for running applications in Cloud um one of the like main principles we are",
    "start": "266520",
    "end": "274020"
  },
  {
    "text": "aiming towards is try to use the kubernetes API for everything and and",
    "start": "274020",
    "end": "279259"
  },
  {
    "text": "that that's basically so so whether we want to deploy an application or",
    "start": "279259",
    "end": "284639"
  },
  {
    "text": "configure our Network provision a database we would use the latest API but we'll of course expose it with some kind",
    "start": "284639",
    "end": "291660"
  },
  {
    "text": "of abstraction on top but we don't want to take away the freedom and autonomy that that our",
    "start": "291660",
    "end": "297720"
  },
  {
    "text": "developers have today so we will use the githubs to enable self-service",
    "start": "297720",
    "end": "303800"
  },
  {
    "start": "303000",
    "end": "413000"
  },
  {
    "text": "so one of the challenges we've seen throughout the years is basically",
    "start": "303860",
    "end": "309780"
  },
  {
    "text": "flowing things together from the kubernetes world with your cloud provider",
    "start": "309780",
    "end": "315840"
  },
  {
    "text": "um and and we've been over a couple of different solutions to try to solve that",
    "start": "315840",
    "end": "321780"
  },
  {
    "text": "basically we provision infrastructure with terraform like many others are doing and then we've been using custom",
    "start": "321780",
    "end": "327780"
  },
  {
    "text": "scripts and templates uh to uh to basically configure our kubernetes Resources with the right IDs and on from",
    "start": "327780",
    "end": "336720"
  },
  {
    "text": "cloud resources then we did a bit of experimentation with a tool called cartographer which is",
    "start": "336720",
    "end": "343680"
  },
  {
    "text": "basically a a kubernetes controller that you can use to build templated Supply chains",
    "start": "343680",
    "end": "350520"
  },
  {
    "text": "it didn't quite fulfill the needs we had so we set out to like build a custom",
    "start": "350520",
    "end": "357120"
  },
  {
    "text": "controller using a framework called meta controller try to glue things together with that",
    "start": "357120",
    "end": "362479"
  },
  {
    "text": "it's a simple framework that that makes it really simple to get started writing",
    "start": "362479",
    "end": "367740"
  },
  {
    "text": "your own controllers but with the Simplicity also came up with some limitations that",
    "start": "367740",
    "end": "373740"
  },
  {
    "text": "again didn't quite fulfill the needs we had so in the end we set out to build our",
    "start": "373740",
    "end": "379560"
  },
  {
    "text": "own full-blown uh kubernetes controller from scratch using a cube Builder and at",
    "start": "379560",
    "end": "384900"
  },
  {
    "text": "the same time combined where where we're building where where we were",
    "start": "384900",
    "end": "390660"
  },
  {
    "text": "with buildings platform and uh so we we focused our switched the focus a bit to",
    "start": "390660",
    "end": "395819"
  },
  {
    "text": "network configuration as that's a crucial part of the the common multiple the multi-tenant platform we're building",
    "start": "395819",
    "end": "403020"
  },
  {
    "text": "um so yeah we we set out to build a community controller implementing the Gateway API so we could use that for",
    "start": "403020",
    "end": "411060"
  },
  {
    "text": "configuring our Network so how many here No Escape API",
    "start": "411060",
    "end": "419720"
  },
  {
    "start": "413000",
    "end": "494000"
  },
  {
    "text": "so approximately the third I guess how many here are using an implementation of Gateway API today",
    "start": "420539",
    "end": "427940"
  },
  {
    "text": "a handful right so",
    "start": "427979",
    "end": "433100"
  },
  {
    "text": "looking at the Ingress it was the initial design for for more simple traffic routing uh designed many years",
    "start": "433580",
    "end": "440639"
  },
  {
    "text": "ago it is extensible but it's only extensible via custom annotation as it's",
    "start": "440639",
    "end": "446539"
  },
  {
    "text": "a network model that only consists of one kubernetes resource",
    "start": "446539",
    "end": "452280"
  },
  {
    "text": "um and because it's only consists of one resource is it's a it also combines",
    "start": "452280",
    "end": "457680"
  },
  {
    "text": "multiple organizational roles and responsibilities into this one resource",
    "start": "457680",
    "end": "463800"
  },
  {
    "text": "with Gateway API um is a networking model that consists of several kubernetes resources making",
    "start": "463800",
    "end": "471360"
  },
  {
    "text": "making it a bit more flexible we already see a lot of other cncf tools",
    "start": "471360",
    "end": "479120"
  },
  {
    "text": "that that support Gateway API such as external DNS",
    "start": "479120",
    "end": "484160"
  },
  {
    "text": "we expect a lot of other tools to support it in the future so we all see it as a bit of like the new standard and",
    "start": "484160",
    "end": "492060"
  },
  {
    "text": "a more fruit solution on top of that giving that well it",
    "start": "492060",
    "end": "498300"
  },
  {
    "start": "494000",
    "end": "567000"
  },
  {
    "text": "consists of multiple resources it's also role oriented so as you can see on the illustration here I mean you can have",
    "start": "498300",
    "end": "505259"
  },
  {
    "text": "infrastructure providers specifying one part of the network configuration you",
    "start": "505259",
    "end": "511319"
  },
  {
    "text": "can have clust operators doing something else and the application developers only actually have to care about routing to",
    "start": "511319",
    "end": "518219"
  },
  {
    "text": "the application it's also quite expressive so so natively you have support for",
    "start": "518219",
    "end": "524120"
  },
  {
    "text": "header-based routing and traffic waiting and so on and it's also an API that's",
    "start": "524120",
    "end": "529740"
  },
  {
    "text": "that's easily extensible with your own custom resources so",
    "start": "529740",
    "end": "537240"
  },
  {
    "text": "these models are well the current implementations of these two models",
    "start": "537240",
    "end": "543500"
  },
  {
    "text": "there's not really that good support for for Network features uh external entrepreneurs",
    "start": "543500",
    "end": "550140"
  },
  {
    "text": "and that's something we try to solve so maybe Michael can tell you a bit more",
    "start": "550140",
    "end": "556860"
  },
  {
    "text": "about how we utilize the Gateway API yes so so what we did was that we used",
    "start": "556860",
    "end": "563640"
  },
  {
    "text": "the Gateway a repair as a sole interface to our platform when building a platform",
    "start": "563640",
    "end": "568740"
  },
  {
    "start": "567000",
    "end": "791000"
  },
  {
    "text": "the API choice is really really essential because that would be I mean what you present to all your users and",
    "start": "568740",
    "end": "575040"
  },
  {
    "text": "we use the Gateway API for all roles in our platform so not only infrastructure providers but also tooling so the",
    "start": "575040",
    "end": "581459"
  },
  {
    "text": "Gateway API becomes the main integration point for all tooling tooling that we're using now and tooling that we will use",
    "start": "581459",
    "end": "587399"
  },
  {
    "text": "in in the future so that's one of the powers of a common API and of course most importantly it also becomes the API",
    "start": "587399",
    "end": "593339"
  },
  {
    "text": "that we present to our developers and with all the configuration now in defined through the Gateway API all we",
    "start": "593339",
    "end": "600360"
  },
  {
    "text": "need for our platform is just somehow a mechanism to provision and an end-to-end",
    "start": "600360",
    "end": "606360"
  },
  {
    "text": "data path um and this is what a Gateway controller does that is simply provisioning this",
    "start": "606360",
    "end": "611580"
  },
  {
    "text": "this data path now here we are we're stressing that it's an end-to-end path and why do we do that that is because uh",
    "start": "611580",
    "end": "618720"
  },
  {
    "text": "we really want this data path to be from customer all the way to business logic because if it isn't end-to-end then it's",
    "start": "618720",
    "end": "625920"
  },
  {
    "text": "really not a self-service solution if someone else needs to go in and hear and Define and part of the data path it's",
    "start": "625920",
    "end": "632880"
  },
  {
    "text": "not really a self-service solution we think so that's why we stress that it's an end-to-end path",
    "start": "632880",
    "end": "638580"
  },
  {
    "text": "now in our case because we have so many products and teams that have different needs evolving at different speeds and",
    "start": "638580",
    "end": "645480"
  },
  {
    "text": "and so on we want to be in more control of the this actual data path we want to introduce features and and things as we",
    "start": "645480",
    "end": "652980"
  },
  {
    "text": "go along that that suit the needs of our of our individual teams and this is",
    "start": "652980",
    "end": "658560"
  },
  {
    "text": "where we didn't find a solution that that fitted our needs so that's why we decided that we would",
    "start": "658560",
    "end": "664680"
  },
  {
    "text": "build our own controller would I mean kind of scratch our it and do what we want to do so we can fulfill the needs",
    "start": "664680",
    "end": "670680"
  },
  {
    "text": "of our our product teams um when we did this made this choice so we",
    "start": "670680",
    "end": "677220"
  },
  {
    "text": "developed our own controller we also made the choice that hey we do not want to do all the heavy lifting ourselves that's actually already other",
    "start": "677220",
    "end": "683760"
  },
  {
    "text": "controllers that can do a lot of the heavy lifting so we decided that this controller should should I mean it",
    "start": "683760",
    "end": "689459"
  },
  {
    "text": "should respond to Gateway API definitions that should be kind of the things that drive what it does and this",
    "start": "689459",
    "end": "695700"
  },
  {
    "text": "controller should then generate other kubernetes resources so for example we could use cross plane to talk to the the",
    "start": "695700",
    "end": "702240"
  },
  {
    "text": "cloud API that we want where we want to provision our resources so this means that our controller just needs to to",
    "start": "702240",
    "end": "708420"
  },
  {
    "text": "create for example cross-plane resources and then the cross plane controller for for example an AWS Cloud will pick up",
    "start": "708420",
    "end": "715079"
  },
  {
    "text": "those resources and Implement whatever our controller has generated likewise we also need a data path inside",
    "start": "715079",
    "end": "722160"
  },
  {
    "text": "kubernetes we need something there we may need something there in the same way we could let our controller create let's",
    "start": "722160",
    "end": "728339"
  },
  {
    "text": "say deployments we could also let our controller create through the Gateway API a data path that can be implemented",
    "start": "728339",
    "end": "735839"
  },
  {
    "text": "by another controller for example we could use istio which is also a API Gateway implementing controller which",
    "start": "735839",
    "end": "742740"
  },
  {
    "text": "Implement a data path already so in we could also create a data path in this way",
    "start": "742740",
    "end": "748680"
  },
  {
    "text": "this is just an example using cross plane and using issue our controller is not I mean this is not",
    "start": "748680",
    "end": "755700"
  },
  {
    "text": "hard coded in the controller that we're using cross plane and Easter because in fact we also wanted to make this data",
    "start": "755700",
    "end": "761519"
  },
  {
    "text": "pass definition generic and reusable ideally we want to be able to share These Blueprints with you so that we can",
    "start": "761519",
    "end": "767820"
  },
  {
    "text": "have a controller that that implements the Gateway API and then through some shareable generic blueprints uh plugable",
    "start": "767820",
    "end": "775200"
  },
  {
    "text": "blueprints I think we can share be able to implement a data pass that has a specific characteristics a specific",
    "start": "775200",
    "end": "781680"
  },
  {
    "text": "design so that's an important thing of our design that is we we separate the controller from the Excel data path",
    "start": "781680",
    "end": "788399"
  },
  {
    "text": "implementation so now we're talking about these data",
    "start": "788399",
    "end": "793440"
  },
  {
    "text": "paths so what kind of features are we talking about and why is it so important that we have control of this",
    "start": "793440",
    "end": "799019"
  },
  {
    "text": "our teams have different requirements and needs so and some teams might just be happy with a simple data pass as",
    "start": "799019",
    "end": "806040"
  },
  {
    "text": "shown here a cloud load balancer and then forwarding that to a communist resource service and then they are",
    "start": "806040",
    "end": "813180"
  },
  {
    "text": "they're quite heavy we have the other teams that use issue or a service mesh so in their case they would need an",
    "start": "813180",
    "end": "819420"
  },
  {
    "text": "Ingress gateways as part of the data path so in that case we need to implement that for for them",
    "start": "819420",
    "end": "826620"
  },
  {
    "text": "other teams might have even more needs I mean some may have an opinion on what traffic should be locked how should it",
    "start": "826620",
    "end": "832200"
  },
  {
    "text": "be locked where should it be locked to it could also be that they have an opinion on what should be the network attachments to of this load balancer I",
    "start": "832200",
    "end": "839100"
  },
  {
    "text": "mean should it be exposed on the internet should it be only on the internet internal Network for example it",
    "start": "839100",
    "end": "845399"
  },
  {
    "text": "could also be that they have an opinion on who should have access to this load balancer it could be that they want to",
    "start": "845399",
    "end": "850800"
  },
  {
    "text": "to limit access through an IP side arrange or maybe maybe through IDE open",
    "start": "850800",
    "end": "855959"
  },
  {
    "text": "ID connect for example such things we also need to to cater for it could also be that they want to do",
    "start": "855959",
    "end": "862440"
  },
  {
    "text": "more advanced processing of of the network traffic some of the features we typically associate with API gateways",
    "start": "862440",
    "end": "868320"
  },
  {
    "text": "not to be confused with Gateway API so this is a mechanism that can process data in in many different ways which",
    "start": "868320",
    "end": "874740"
  },
  {
    "text": "cloud cloud providers also support it could also be that they want to use a serverless version of a float balancing",
    "start": "874740",
    "end": "881699"
  },
  {
    "text": "because that has a different load a different cost profile and so on there's actually quite many",
    "start": "881699",
    "end": "887339"
  },
  {
    "text": "features that our teams our products are actually using now and there are features here that we want to add in the",
    "start": "887339",
    "end": "893579"
  },
  {
    "text": "future as a part of the platform team and which we might want to introduce without the developers having to know we",
    "start": "893579",
    "end": "899040"
  },
  {
    "text": "would like them to use these golden path and then we will be able to control what are the the features for example",
    "start": "899040",
    "end": "905339"
  },
  {
    "text": "security features that we add to this to this golden path",
    "start": "905339",
    "end": "911060"
  },
  {
    "start": "910000",
    "end": "1028000"
  },
  {
    "text": "when we set out to design this controller we made one key design principle which is I mean the",
    "start": "912360",
    "end": "917579"
  },
  {
    "text": "overarching design principle for for the controller and that is that the data path or the blueprints for the data pass",
    "start": "917579",
    "end": "924240"
  },
  {
    "text": "they should be based on templating not code that was really an essential thing for us to do because this is what allows",
    "start": "924240",
    "end": "931079"
  },
  {
    "text": "us to evolve these data path without having to having to change the control imagine that we want to change the",
    "start": "931079",
    "end": "936839"
  },
  {
    "text": "kubernetes resources that goes into a data path and we needed to recompile our controller build a new container image",
    "start": "936839",
    "end": "942000"
  },
  {
    "text": "into a new release and all that just to do a tweak on on the kubernetes resource that that the data pass is built out of",
    "start": "942000",
    "end": "950100"
  },
  {
    "text": "that's really not ideal and and separating the the blueprint from the controller is also a foundation",
    "start": "950100",
    "end": "956699"
  },
  {
    "text": "for making the blueprints shareable and generic and finally because These Blueprints",
    "start": "956699",
    "end": "962519"
  },
  {
    "text": "just contains templates for kubernetes resources which could be cross-plane or istio or anything else it also makes the",
    "start": "962519",
    "end": "969360"
  },
  {
    "text": "Gateway control that we are presenting here Cloud agnostic because you could just because we're just using uh we're",
    "start": "969360",
    "end": "976440"
  },
  {
    "text": "building data paths for for AWS but if you have a need for building data paths for Azure or Google and you could",
    "start": "976440",
    "end": "983579"
  },
  {
    "text": "definitely do that I should also say if you look at this",
    "start": "983579",
    "end": "988980"
  },
  {
    "text": "picture here this is really the mansion model of of our controller think of it as a generic controller responding to",
    "start": "988980",
    "end": "995639"
  },
  {
    "text": "Gateway API definitions and creating kubernetes resources on uh when it implements the data path so if you're",
    "start": "995639",
    "end": "1002120"
  },
  {
    "text": "thinking does this work for me in my scenario then the question would the answer would be if you're thinking of",
    "start": "1002120",
    "end": "1007940"
  },
  {
    "text": "data paths that can be implemented with kubernetes resources then most likely it",
    "start": "1007940",
    "end": "1013339"
  },
  {
    "text": "will fit I mean you could be on cilium it could be an Asia or you could I mean whatever platform that you have underneath if you",
    "start": "1013339",
    "end": "1020060"
  },
  {
    "text": "can present represent your data path through kubernetes resources then most likely this controller will suit your",
    "start": "1020060",
    "end": "1025339"
  },
  {
    "text": "needs having decided on templating we",
    "start": "1025339",
    "end": "1032240"
  },
  {
    "start": "1028000",
    "end": "1257000"
  },
  {
    "text": "acknowledge that templating there's only so many things you can do with templating I mean it's not an ideal",
    "start": "1032240",
    "end": "1037280"
  },
  {
    "text": "expressive language it's not as expressive as code or at least it's it's difficult to express the same things",
    "start": "1037280",
    "end": "1042798"
  },
  {
    "text": "with templating so we acknowledge that having decided on templating while it's a great benefit of this controller it's",
    "start": "1042799",
    "end": "1049520"
  },
  {
    "text": "most likely us it's also its greatest liability so this triangle here is supposed to illustrate that this",
    "start": "1049520",
    "end": "1055520"
  },
  {
    "text": "controller operates within three main constraints and one of them being being templating",
    "start": "1055520",
    "end": "1061039"
  },
  {
    "text": "the two others are the inputs and the outputs we are responding to Gateway API resources they are already a settled",
    "start": "1061039",
    "end": "1068000"
  },
  {
    "text": "design or mostly a settled design we have to abide by that standard when we cannot deviate from that because then we",
    "start": "1068000",
    "end": "1074480"
  },
  {
    "text": "wouldn't be an API Gateway compliant controller so we need to about that similarly the API or the the Gateway",
    "start": "1074480",
    "end": "1081559"
  },
  {
    "text": "sorry the kubernetes resources we create as on our output side they also I mean they could be cross brain resources or",
    "start": "1081559",
    "end": "1087980"
  },
  {
    "text": "other Gateway API resources there's also a fixed schema for that so in the same way we cannot deviate from that so we",
    "start": "1087980",
    "end": "1093740"
  },
  {
    "text": "also need to create schema compliant resources there so these are the three main constraints that our operator",
    "start": "1093740",
    "end": "1099140"
  },
  {
    "text": "worked within and it's actually major constraints because going for example",
    "start": "1099140",
    "end": "1104419"
  },
  {
    "text": "from the Gateway API to the appropriate Cloud definition of the cloud resources",
    "start": "1104419",
    "end": "1109640"
  },
  {
    "text": "that we want to create that is not a one conversion I mean you can't go from say",
    "start": "1109640",
    "end": "1115220"
  },
  {
    "text": "a Gateway API Gateway definition and say hey I'll just convert this through a template into a load balance resource",
    "start": "1115220",
    "end": "1121820"
  },
  {
    "text": "that's not how it works typically it will take five ten different Cloud resources to implement a Gateway so it's",
    "start": "1121820",
    "end": "1127700"
  },
  {
    "text": "a one-to-many here it's the same going the other way setting the proper status condition",
    "start": "1127700",
    "end": "1133700"
  },
  {
    "text": "statuses and condition on Gateway API resources that's not just a question about copying a single field from some",
    "start": "1133700",
    "end": "1140059"
  },
  {
    "text": "resource that's typically also something that is is yeah a little bit more complicated than that",
    "start": "1140059",
    "end": "1146059"
  },
  {
    "text": "so these are main constraints we want to highlight them here we think it's also part of the strengths using templates",
    "start": "1146059",
    "end": "1151640"
  },
  {
    "text": "but it also means there are yeah things that can be difficult so to help with this we introduce oh",
    "start": "1151640",
    "end": "1158960"
  },
  {
    "text": "yeah I have an example here that also shows where templating is is difficult um imagine you have a Gateway a Gateway",
    "start": "1158960",
    "end": "1165559"
  },
  {
    "text": "definition that says hey I will allow route attachments from from any namespace that has the label Fubar and",
    "start": "1165559",
    "end": "1173240"
  },
  {
    "text": "we've done we also have three namespaces that each Define an HTTP route and say I want to connect or associate myself with",
    "start": "1173240",
    "end": "1180559"
  },
  {
    "text": "this this Gateway now the two first namespaces has the required label while the third does not",
    "start": "1180559",
    "end": "1186740"
  },
  {
    "text": "so in this case it's quite obvious with that when we implement this we should ignore the third route",
    "start": "1186740",
    "end": "1192500"
  },
  {
    "text": "if we imagine that the data path here also contains uh templates for creating a certificate for example then the",
    "start": "1192500",
    "end": "1199280"
  },
  {
    "text": "question arises what host name should be in those certificates again the obvious answer is that hosting",
    "start": "1199280",
    "end": "1205280"
  },
  {
    "text": "from the two first ACB routes and the third hostname should be should be ignored I mean this is easy for us but",
    "start": "1205280",
    "end": "1211100"
  },
  {
    "text": "expressing this was template with templating is a bit difficult so to to make this more easy to make",
    "start": "1211100",
    "end": "1218419"
  },
  {
    "text": "this actually workable in the controller we introduced something that we call normalization and what that is is that",
    "start": "1218419",
    "end": "1224179"
  },
  {
    "text": "the controller will react to Gateway API definitions it will then encode with",
    "start": "1224179",
    "end": "1229220"
  },
  {
    "text": "whatever we can do in code they will process those Gateway API resources and do the hard things in code create",
    "start": "1229220",
    "end": "1235700"
  },
  {
    "text": "something we call a normalized Model A model that contains pre-computed data you can say that's easier for templating",
    "start": "1235700",
    "end": "1242660"
  },
  {
    "text": "to to take and Express in in the actual data path",
    "start": "1242660",
    "end": "1247700"
  },
  {
    "text": "now this normalization here will then Implement for example the filtering that we saw and that would be necessary in",
    "start": "1247700",
    "end": "1253280"
  },
  {
    "text": "the example that we saw on the the previous slide",
    "start": "1253280",
    "end": "1257320"
  },
  {
    "start": "1257000",
    "end": "1504000"
  },
  {
    "text": "another thing we did that was that because we want these data paths blueprints to be generic this means that",
    "start": "1258799",
    "end": "1265340"
  },
  {
    "text": "they cannot contain any contextual configuration because then they wouldn't be generic if we didn't do that",
    "start": "1265340",
    "end": "1270860"
  },
  {
    "text": "so what we did here is that we used this Gateway API enhancement proposal 713",
    "start": "1270860",
    "end": "1276320"
  },
  {
    "text": "which is about how you attach additional configuration to the to the a standard",
    "start": "1276320",
    "end": "1282080"
  },
  {
    "text": "standardized Gateway API resource so this means that we can attach additional things digital policies or actually any",
    "start": "1282080",
    "end": "1289760"
  },
  {
    "text": "configuration to these Gateway API resources so in this example that we",
    "start": "1289760",
    "end": "1295039"
  },
  {
    "text": "have here we have a developer that has expressed that they want to have a",
    "start": "1295039",
    "end": "1300440"
  },
  {
    "text": "Gateway created and we also have an infrastructure provider that has created a Gateway class and a Gateway class is",
    "start": "1300440",
    "end": "1305960"
  },
  {
    "text": "kind of a name Gateway implementation together with that the infrastructure",
    "start": "1305960",
    "end": "1311000"
  },
  {
    "text": "provider has also configured that Gateway class to use a specific Gateway class blueprint and the blue box here",
    "start": "1311000",
    "end": "1318440"
  },
  {
    "text": "the Gateway class blueprint that's a CID that we have created as part of this controller it's not part of the Gateway",
    "start": "1318440",
    "end": "1323780"
  },
  {
    "text": "API the green boxes are standardized Gateway API resources but the blue box is our generic blueprint that expresses",
    "start": "1323780",
    "end": "1331400"
  },
  {
    "text": "or defines how is the architecture of this given given given data path and",
    "start": "1331400",
    "end": "1336799"
  },
  {
    "text": "this is where the templates are contained again these are without contextual configuration so it's not",
    "start": "1336799",
    "end": "1341840"
  },
  {
    "text": "implementable what we have here it's only the the architecture you could say the blueprint that's in this in this",
    "start": "1341840",
    "end": "1347240"
  },
  {
    "text": "blue crd here and what we're missing to make this implementable is that we miss yeah and",
    "start": "1347240",
    "end": "1353840"
  },
  {
    "text": "these are the generic so so what we're missing to make this implementable is this contextual configuration so for",
    "start": "1353840",
    "end": "1360380"
  },
  {
    "text": "example we have some environment specific configuration that is needed it could be VPC or subnet ideas that is",
    "start": "1360380",
    "end": "1366260"
  },
  {
    "text": "information that we need to be able to implement the blueprint that says something about the load balancer for example",
    "start": "1366260",
    "end": "1372500"
  },
  {
    "text": "additionally since this is a platform platform the the infrastructure provider might might also have some contextual",
    "start": "1372500",
    "end": "1379220"
  },
  {
    "text": "configuration that's needed uh for for the application developer here which you call a tenant so this could for example",
    "start": "1379220",
    "end": "1385640"
  },
  {
    "text": "be checking rules it could be that the the infrastructure provider says whenever this tenant creates a load",
    "start": "1385640",
    "end": "1391159"
  },
  {
    "text": "balancer I want it to be tagged in a specific way so so that I can for example do cost attribution",
    "start": "1391159",
    "end": "1397400"
  },
  {
    "text": "and finally the application developer might also have some contextual configurations that they want to attach",
    "start": "1397400",
    "end": "1402679"
  },
  {
    "text": "so it could be for example a login configuration it could be the open ID configuration we should have access to the load balancer and and so on so there",
    "start": "1402679",
    "end": "1409700"
  },
  {
    "text": "are these three categories of contextual configuration that we want to associate with these resources here and to do that",
    "start": "1409700",
    "end": "1415880"
  },
  {
    "text": "we created two more crds we created something we call a Gateway class config it's a crd that contains the contextual",
    "start": "1415880",
    "end": "1423080"
  },
  {
    "text": "configuration that is needed for example the VPC and subnet IDs and then we use this skip 713 mechanism to attach that",
    "start": "1423080",
    "end": "1430159"
  },
  {
    "text": "CID to the Gateway class so we're basically saying whenever you want to implement a data path from this key from",
    "start": "1430159",
    "end": "1435980"
  },
  {
    "text": "this Gateway class and the associated blueprint then this is the environment specific context configuration that you",
    "start": "1435980",
    "end": "1442100"
  },
  {
    "text": "should also need in in this and the same way with the tenant specific configuration here now we're",
    "start": "1442100",
    "end": "1447980"
  },
  {
    "text": "not associating it with the Gateway class but we're associating it with the namespace of the tenant so this becomes",
    "start": "1447980",
    "end": "1453080"
  },
  {
    "text": "the the default of that when we create resources or gateways for for that tenant again this is owned by the",
    "start": "1453080",
    "end": "1459620"
  },
  {
    "text": "infrastructure provider the tenant cannot change this it's the infrastructure provider that associated with the tenants Gateway oh it's a",
    "start": "1459620",
    "end": "1466520"
  },
  {
    "text": "namespace when they create the namespace and finally we have this Gateway config CID which is a crd that the application",
    "start": "1466520",
    "end": "1473600"
  },
  {
    "text": "developers or the tenants can create with a with whatever contact configuration that they have they that they want to associate with the Gateway",
    "start": "1473600",
    "end": "1480559"
  },
  {
    "text": "so now this is a logical view of how we have designed and configured our data path",
    "start": "1480559",
    "end": "1487580"
  },
  {
    "text": "remember this picture because this while this is the abstract view this is what we will be showing in a demo with actual",
    "start": "1487580",
    "end": "1493460"
  },
  {
    "text": "actual Gateway resources actor Gateway classes actual Blueprints and and the Gateway class conflict resources and so",
    "start": "1493460",
    "end": "1500059"
  },
  {
    "text": "on so imagine would you describe the the demo use case we will present yeah sure",
    "start": "1500059",
    "end": "1505100"
  },
  {
    "start": "1504000",
    "end": "1564000"
  },
  {
    "text": "so we are describing this Foo example use case that's also mentioned in the",
    "start": "1505100",
    "end": "1511159"
  },
  {
    "text": "Gateway API documentation so imagine we have a infrastructure team a regulatory team that defines a Gateway specifying",
    "start": "1511159",
    "end": "1519559"
  },
  {
    "text": "the configuration for the Gateway using this host name then we have one development team the",
    "start": "1519559",
    "end": "1526460"
  },
  {
    "text": "full side team who deploys their full site service and and basically specifies an HTTP route",
    "start": "1526460",
    "end": "1533840"
  },
  {
    "text": "specifying the routing to that application utilizing the Gateway another team the full store team would",
    "start": "1533840",
    "end": "1540140"
  },
  {
    "text": "then have two different versions of their through store service and they specify",
    "start": "1540140",
    "end": "1547600"
  },
  {
    "text": "routing to that service using the same Gateway with 90 going to version one and 10",
    "start": "1547600",
    "end": "1554299"
  },
  {
    "text": "going to version two so we'll try to demo this and hopefully",
    "start": "1554299",
    "end": "1559400"
  },
  {
    "text": "that works Mike will just set it up",
    "start": "1559400",
    "end": "1565179"
  },
  {
    "start": "1564000",
    "end": "1810000"
  },
  {
    "text": "and we we try to visualize this using a small tool roommate that visualizes uh",
    "start": "1565179",
    "end": "1573580"
  },
  {
    "text": "Gateway API resources so we start with an empty cluster where we only have",
    "start": "1573580",
    "end": "1578840"
  },
  {
    "text": "istio and cross planes installed so what you see here is",
    "start": "1578840",
    "end": "1584960"
  },
  {
    "text": "we only have a Gateway class on an sdo Gateway class deployed to the cluster so",
    "start": "1584960",
    "end": "1590240"
  },
  {
    "text": "we as platform team now apply a blueprint blueprint and two Gateway",
    "start": "1590240",
    "end": "1596059"
  },
  {
    "text": "classes defining an internal and public data path and as you see here we have",
    "start": "1596059",
    "end": "1601940"
  },
  {
    "text": "the three different resources the Gateway class blueprint uses AWS cross",
    "start": "1601940",
    "end": "1607400"
  },
  {
    "text": "plane and issue to specify the data path um this is a",
    "start": "1607400",
    "end": "1613360"
  },
  {
    "text": "this is just template so now we apply the configs to set the environment specific specific values so the internal",
    "start": "1613360",
    "end": "1620299"
  },
  {
    "text": "Gateway class we have specified to use the private subnets and using public",
    "start": "1620299",
    "end": "1625580"
  },
  {
    "text": "subnets for the public Gateway class as well as different tagging",
    "start": "1625580",
    "end": "1631480"
  },
  {
    "text": "then we set up a another cable class config for a tenant",
    "start": "1631700",
    "end": "1638720"
  },
  {
    "text": "namespace and as you can see here it it's not really attached anywhere because well",
    "start": "1638720",
    "end": "1645559"
  },
  {
    "text": "there's no Gateway API resources in that namespace so so if we have a a SRE",
    "start": "1645559",
    "end": "1652760"
  },
  {
    "text": "devops sonar specifying a Gateway and applying that to the data name phase we",
    "start": "1652760",
    "end": "1657919"
  },
  {
    "text": "see that it will use the Gateway class config that we just applied to the namespace uh next up we will whitelist our local",
    "start": "1657919",
    "end": "1665659"
  },
  {
    "text": "cider so specify an ACL allowing us to to basically",
    "start": "1665659",
    "end": "1670900"
  },
  {
    "text": "reach the services that will use the Skateway and as we can see here there's a Gateway config attached to that",
    "start": "1670900",
    "end": "1677120"
  },
  {
    "text": "Gateway that white lists our own IP address now the developers can actually deploy",
    "start": "1677120",
    "end": "1683539"
  },
  {
    "text": "their services along with HTTP routes specifying the routing to to the application applications using the",
    "start": "1683539",
    "end": "1690500"
  },
  {
    "text": "Gateway that we applied and as you can see I hope it's not too small",
    "start": "1690500",
    "end": "1697600"
  },
  {
    "text": "the full side service and the two different versions of the two full storage Services applied",
    "start": "1697600",
    "end": "1702820"
  },
  {
    "text": "we have the HTTP routes and everything is connected the controller is not running yet we're deploying that now",
    "start": "1702820",
    "end": "1709120"
  },
  {
    "text": "meaning that this is just set up when the controller",
    "start": "1709120",
    "end": "1714320"
  },
  {
    "text": "is deployed it will pick up the resources and it will actually create the kubernetes resources that are",
    "start": "1714320",
    "end": "1719600"
  },
  {
    "text": "defined in the blueprint with the combination of the different configs so",
    "start": "1719600",
    "end": "1727580"
  },
  {
    "text": "configure with the values that's specified in the different configs and",
    "start": "1727580",
    "end": "1733400"
  },
  {
    "text": "shortly we should see us some some more resources being provisioned hopefully",
    "start": "1733400",
    "end": "1741400"
  },
  {
    "text": "[Music] and creating all the different resources",
    "start": "1741400",
    "end": "1746900"
  },
  {
    "text": "takes a while so we may not",
    "start": "1746900",
    "end": "1752059"
  },
  {
    "text": "have time to to show you that there's actually we're able to curl the services but if this time we'll we'll show you",
    "start": "1752059",
    "end": "1758480"
  },
  {
    "text": "that [Music] um it's basically the load balancer takes",
    "start": "1758480",
    "end": "1764240"
  },
  {
    "text": "approximately three minutes to provision as you can see here we now have an istio child Gateway provisioned uh done",
    "start": "1764240",
    "end": "1771200"
  },
  {
    "text": "utilizing the S2 Gateway class we also have some child HTTP route resources so",
    "start": "1771200",
    "end": "1776899"
  },
  {
    "text": "the Gateway controller yeah handled all the different resources",
    "start": "1776899",
    "end": "1782539"
  },
  {
    "text": "that we applied so as you can see here",
    "start": "1782539",
    "end": "1790700"
  },
  {
    "text": "um that different resources uh yeah so the bottom resource here is",
    "start": "1790700",
    "end": "1797779"
  },
  {
    "text": "the load balancer and it's in Falls it's not ready yet because it's being provisioned so while we wait for that we",
    "start": "1797779",
    "end": "1804200"
  },
  {
    "text": "will just go back to the presentation and move on to some of the learnings",
    "start": "1804200",
    "end": "1811340"
  },
  {
    "start": "1810000",
    "end": "1883000"
  },
  {
    "text": "we've had so yeah basically Gateway API is not really",
    "start": "1811340",
    "end": "1816679"
  },
  {
    "text": "a trivial API to implement um turns out that I mean there's a lot of",
    "start": "1816679",
    "end": "1822440"
  },
  {
    "text": "code to be done approximately two-thirds of the code base is is implementing the Gateway API",
    "start": "1822440",
    "end": "1828620"
  },
  {
    "text": "um and the the last third is templating which still seems like a good choice",
    "start": "1828620",
    "end": "1836380"
  },
  {
    "text": "it's it's really a balance but but it seems like a good choice for us",
    "start": "1836380",
    "end": "1842240"
  },
  {
    "text": "um and yeah we also had a couple of other",
    "start": "1842240",
    "end": "1849399"
  },
  {
    "text": "learnings and one of those I would highlight is that well the normalization",
    "start": "1849399",
    "end": "1854480"
  },
  {
    "text": "process is also like it can easily become a garbage we can because if you",
    "start": "1854480",
    "end": "1859940"
  },
  {
    "text": "have a use case that doesn't fit into the templating then you would just fix it with code and yeah so so the",
    "start": "1859940",
    "end": "1867500"
  },
  {
    "text": "code base could easily evolve and end up being a Galveston",
    "start": "1867500",
    "end": "1873380"
  },
  {
    "text": "um do you think it's still ready no not",
    "start": "1873380",
    "end": "1879860"
  },
  {
    "text": "ready yet right so basically that's it um the project is open source there's a",
    "start": "1879860",
    "end": "1887299"
  },
  {
    "text": "QR code for it it's called bifrost Gateway controller and it's present in the",
    "start": "1887299",
    "end": "1892600"
  },
  {
    "text": "t2-oss GitHub repository this is our first open source project",
    "start": "1892600",
    "end": "1898039"
  },
  {
    "text": "it's also our first kubecon talk uh we're really excited to be here so feedback and contributions are more than",
    "start": "1898039",
    "end": "1905299"
  },
  {
    "text": "welcome it could be fun to I see some other blueprints with other use cases",
    "start": "1905299",
    "end": "1911120"
  },
  {
    "text": "other Cloud providers so on so yeah reach out and yeah yeah just one thing",
    "start": "1911120",
    "end": "1919399"
  },
  {
    "text": "maybe jumping in for a question I would expect that a obvious question",
    "start": "1919399",
    "end": "1925580"
  },
  {
    "text": "would be how does this blueprint look like what is and we decided not to show any yaml that's why we haven't shown it",
    "start": "1925580",
    "end": "1932179"
  },
  {
    "text": "to you but you can think of it as I mean it's code templating so if you can think of or you can think of it as a mix",
    "start": "1932179",
    "end": "1937520"
  },
  {
    "text": "between a Helm template and a cross paint composition so it's really about go templating but where you where you",
    "start": "1937520",
    "end": "1944240"
  },
  {
    "text": "can reference between resource because a data pass you cannot instantiate a data",
    "start": "1944240",
    "end": "1950240"
  },
  {
    "text": "pass like it was a home chat because sometimes you need to create a resource and wait for some of the status fields",
    "start": "1950240",
    "end": "1955460"
  },
  {
    "text": "to be updated and then you can pass on some of those status Fields into the next resource that's why we we also have",
    "start": "1955460",
    "end": "1961520"
  },
  {
    "text": "some of the Cross pane composition patching mechanism if you know that in into this into this design",
    "start": "1961520",
    "end": "1967820"
  },
  {
    "text": "okay are there any questions there might at the end if there's [Applause]",
    "start": "1967820",
    "end": "1984960"
  },
  {
    "text": "seems to be no question yeah that's a question great hey so um",
    "start": "1990140",
    "end": "1997159"
  },
  {
    "text": "with Gabe Gateway API not being released yet how how are you guys gonna do you",
    "start": "1997159",
    "end": "2003460"
  },
  {
    "text": "put this in production or how do you feel comfortable evolving this project when the core component isn't released",
    "start": "2003460",
    "end": "2009340"
  },
  {
    "text": "yet I think we have a lot of confidence in the Gateway API not really changing in",
    "start": "2009340",
    "end": "2014500"
  },
  {
    "text": "the era that we have used here and if it changes I mean we are moving fast and breaking things that's no problem I also",
    "start": "2014500",
    "end": "2019899"
  },
  {
    "text": "think we heard in in this kubecon here that it's a plan to move uh to a ga this",
    "start": "2019899",
    "end": "2025840"
  },
  {
    "text": "year so I mean we're not really worried about that I mean and also um we're not using it at production yet",
    "start": "2025840",
    "end": "2032820"
  },
  {
    "text": "we plan to to use it in production by the end of the year depending on how",
    "start": "2032820",
    "end": "2038380"
  },
  {
    "text": "things go yeah and it is ready now I think yeah so",
    "start": "2038380",
    "end": "2045700"
  },
  {
    "text": "those of you who didn't leave yet uh should be able to see that we can",
    "start": "2045700",
    "end": "2050919"
  },
  {
    "text": "actually curl uh the two services [Applause]",
    "start": "2050919",
    "end": "2061179"
  }
]