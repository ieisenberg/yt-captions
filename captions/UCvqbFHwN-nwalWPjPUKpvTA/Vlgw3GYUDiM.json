[
  {
    "text": "but while you're here grab your laptop because we're definitely going to need that good news you only have to download",
    "start": "5520",
    "end": "11639"
  },
  {
    "text": "23 gigs of stuff uh so if you haven't started that yet I really hope your 4G connection is",
    "start": "11639",
    "end": "17880"
  },
  {
    "text": "great if not well tough luck just kidding all the stuff that we have for",
    "start": "17880",
    "end": "24640"
  },
  {
    "text": "you is in a browser uh so whoever was on the iPad good choice",
    "start": "24640",
    "end": "30599"
  },
  {
    "text": "very good choice because it is going to work for you and here we",
    "start": "30599",
    "end": "36960"
  },
  {
    "text": "go my colleague Nick is gonna join us in a second I'm just going to make sure we're",
    "start": "36960",
    "end": "42960"
  },
  {
    "text": "all ready for the workshop so before we get started I know the Keynotes were amazing",
    "start": "42960",
    "end": "51120"
  },
  {
    "text": "well the kickoff over there who of you is using a service mesh right",
    "start": "51120",
    "end": "58199"
  },
  {
    "text": "now I like the uh the handshaking it's like yeah are we using a service meesh are we",
    "start": "58920",
    "end": "64360"
  },
  {
    "text": "not it's uh that is always a question right too many options who's running um",
    "start": "64360",
    "end": "71159"
  },
  {
    "text": "Envoy uh console what are you using shout it",
    "start": "71159",
    "end": "76560"
  },
  {
    "text": "out sweet that's that's GNA be a fun Workshop then so uh while you have your",
    "start": "76880",
    "end": "84159"
  },
  {
    "text": "devices head on over to hash.com smc2242ds",
    "start": "84159",
    "end": "90759"
  },
  {
    "text": "and you should land in a platform called instruct which is well an online training",
    "start": "90759",
    "end": "99240"
  },
  {
    "text": "environment and while we wait for that to happen What you're going to see is a",
    "start": "100200",
    "end": "105560"
  },
  {
    "text": "browser interface where we have some documentation for you couple of commands",
    "start": "105560",
    "end": "110719"
  },
  {
    "text": "on the sidebar and other things there should be a green button that says click here to get",
    "start": "110719",
    "end": "117438"
  },
  {
    "text": "started hoop on over say again don't touch the green button",
    "start": "118000",
    "end": "124439"
  },
  {
    "text": "yet no definitely touch the green button I mean if you can't open it up it's not",
    "start": "124439",
    "end": "129720"
  },
  {
    "text": "yours right definitely touch the green button so let's switch over to the",
    "start": "129720",
    "end": "134959"
  },
  {
    "text": "browser view let me uh let the professional do",
    "start": "134959",
    "end": "144959"
  },
  {
    "text": "that what happened to a simple maximized button life be too simple with",
    "start": "145760",
    "end": "152720"
  },
  {
    "text": "that all right so there we go if you hit the green button at the",
    "start": "153440",
    "end": "160280"
  },
  {
    "text": "lower right mine says next right now because I'm one step ahead yours should say start you should be presented with",
    "start": "160280",
    "end": "167400"
  },
  {
    "text": "this very same interface and if all of this looks good",
    "start": "167400",
    "end": "172599"
  },
  {
    "text": "do me a favor and click on interactive terminal for us it just says interactive",
    "start": "172599",
    "end": "177760"
  },
  {
    "text": "because we zoomed in I think and you should see this",
    "start": "177760",
    "end": "184319"
  },
  {
    "text": "terminal and in here I'm just going to need you to run one command which is Shipyard",
    "start": "184319",
    "end": "190040"
  },
  {
    "text": "status as my lovely assistant is doing right",
    "start": "190040",
    "end": "194760"
  },
  {
    "text": "now the URL is um if you switch over uh to Keynote yeah there we",
    "start": "197599",
    "end": "205560"
  },
  {
    "text": "go so you can tell we take this seriously because we aligned this to the slide",
    "start": "205680",
    "end": "211680"
  },
  {
    "text": "could have just hit the play button on that don't show people how to sausages",
    "start": "213400",
    "end": "219640"
  },
  {
    "text": "made damn good",
    "start": "219640",
    "end": "226040"
  },
  {
    "text": "morning just want to make sure you know like all the all the stuff is working can you imagine if that was an alarm",
    "start": "226040",
    "end": "231519"
  },
  {
    "text": "clock man all right I'd be awake right now did the uh URL work for you good",
    "start": "231519",
    "end": "239439"
  },
  {
    "text": "yeah so this is a sound that plays when somebody opens a workshop for the first time uh with that it is the it is the",
    "start": "239439",
    "end": "246480"
  },
  {
    "text": "sound of a thousand computers being slowly tortured yes yes it is uh sweet so if",
    "start": "246480",
    "end": "256919"
  },
  {
    "text": "you run Shipyard status like Nick did you should see roughly uh 42 things that",
    "start": "256919",
    "end": "262440"
  },
  {
    "text": "worked out if not raise your hand and we'll walk over to you and help you",
    "start": "262440",
    "end": "268840"
  },
  {
    "text": "figure it out get memory address ah yeah okay so in your case um",
    "start": "268840",
    "end": "274800"
  },
  {
    "text": "open a new terminal uh and if you can in in coo mode then we'll go from there so we have",
    "start": "274800",
    "end": "284800"
  },
  {
    "text": "um everything that we're going to run through today we we you know we're going",
    "start": "284800",
    "end": "290199"
  },
  {
    "text": "to run through this as as a group the instructions are are all here in a kind of a self-led approach so if we don't",
    "start": "290199",
    "end": "296840"
  },
  {
    "text": "kind of get through or you want to kind of come back and run through this at your leisure then you you know you can",
    "start": "296840",
    "end": "302400"
  },
  {
    "text": "feel absolutely free free to do so um we've we've tried to kind of build this",
    "start": "302400",
    "end": "308560"
  },
  {
    "text": "as to say in a way that you know you can you can kind of go through things and then we can we can kind of pick things",
    "start": "308560",
    "end": "313759"
  },
  {
    "text": "up a little bit selfed as",
    "start": "313759",
    "end": "319080"
  },
  {
    "text": "well so the the first thing that I want to kind of say is that kareim uses natural scrolling on his Mac there is",
    "start": "319080",
    "end": "325680"
  },
  {
    "text": "nothing natural about natural scrolling so I'm going to make um some",
    "start": "325680",
    "end": "331440"
  },
  {
    "text": "excuses so we in terms of the the service can I grab this out there in",
    "start": "331440",
    "end": "337880"
  },
  {
    "text": "terms of the service mesh that we we're going to be kind of using today it is an Envoy based service mesh it's it's console service mesh because that's the",
    "start": "337880",
    "end": "344759"
  },
  {
    "text": "one that we we know but it doesn't matter whether you use console or whether you use trfic or Kong or ISO or",
    "start": "344759",
    "end": "353080"
  },
  {
    "text": "you know whichever one you're using because Envoy being the the standard which it is the kind of most of the",
    "start": "353080",
    "end": "360600"
  },
  {
    "text": "things that we're going to kind of cover will be will be easily transferable now I do kind of want to put a little sort",
    "start": "360600",
    "end": "366440"
  },
  {
    "text": "of disclaimer around that in that it is possible to configure Envoy in a number of different ways and",
    "start": "366440",
    "end": "372319"
  },
  {
    "text": "specifically it's possible to configure the way that Envoy present uh metric and tags to you and",
    "start": "372319",
    "end": "378919"
  },
  {
    "text": "this is directly through onvo configuration so some of the the matric in their naming that we run through",
    "start": "378919",
    "end": "385919"
  },
  {
    "text": "might not be exactly the same in the in your specific smesh but we're going to give you all of the information to to be",
    "start": "385919",
    "end": "393000"
  },
  {
    "text": "able to kind of figure out what they are and and to be able to do a lot of the Diagnostics that I think you you kind of",
    "start": "393000",
    "end": "399400"
  },
  {
    "text": "want to run through so the first thing that I want to to kind of talk about is is this and",
    "start": "399400",
    "end": "406840"
  },
  {
    "text": "this is the the kind of the topology of envoy and what I've tried to do is kind of pull out some of the the core",
    "start": "406840",
    "end": "414960"
  },
  {
    "text": "components because all of the the statistics inside of Envoy are deeply rooted to these Concepts so you have the",
    "start": "414960",
    "end": "422599"
  },
  {
    "text": "concept of a listener and this is just you know TCP UDP it's it's the kind of",
    "start": "422599",
    "end": "429039"
  },
  {
    "text": "the the Ingress into the envoy proxy and then from from a listener you have a a",
    "start": "429039",
    "end": "436000"
  },
  {
    "text": "listener filter and a listener filter is is going to be something simple might be TCP it might be HP you've got the",
    "start": "436000",
    "end": "442560"
  },
  {
    "text": "capabilities around um uh sorry grpc and also things around",
    "start": "442560",
    "end": "448560"
  },
  {
    "text": "Authentication so if you're using a policy based authentication flow you'll probably find that that's implemented in",
    "start": "448560",
    "end": "454440"
  },
  {
    "text": "onvoy a listener filter then Envoy has the the rooters",
    "start": "454440",
    "end": "460919"
  },
  {
    "text": "and again it depends on which listener filter you're using but but roters give you the capability to Define things like",
    "start": "460919",
    "end": "467080"
  },
  {
    "text": "timeout retries in the instance of of anything that's kind of HTTP",
    "start": "467080",
    "end": "472120"
  },
  {
    "text": "based and ultimately you then start to get into",
    "start": "472120",
    "end": "477440"
  },
  {
    "text": "load balancing and and clusters so the the kind of the Clusters that that's",
    "start": "477440",
    "end": "484400"
  },
  {
    "text": "your your list of end points that your request is going to be rooted to now a",
    "start": "484400",
    "end": "490360"
  },
  {
    "text": "cluster can be a a local app which is basically Envoy is talking to your main",
    "start": "490360",
    "end": "495879"
  },
  {
    "text": "application or it can be an upstream and that Segways nicely kind of um into into",
    "start": "495879",
    "end": "502800"
  },
  {
    "text": "this but let let's kind of dig into those in a little bit more depth in fact my glamorous assistant can scroll down",
    "start": "502800",
    "end": "508080"
  },
  {
    "text": "for me this is a bit flickery we right so a listener so a listener is a named",
    "start": "508080",
    "end": "514200"
  },
  {
    "text": "Network location it's it's predominantly your IP and port or your Unix socket that can be connected to by a",
    "start": "514200",
    "end": "521080"
  },
  {
    "text": "downstream client and we'll we'll kind of get on to the concept of Downstream and Upstream because",
    "start": "521080",
    "end": "527920"
  },
  {
    "text": "some I think sometimes it's confusing because you think Downstream and you think well a a sort of a river flows",
    "start": "527920",
    "end": "537399"
  },
  {
    "text": "right so you go Downstream you're going with the river so you'd think well Downstream therefore that is service a",
    "start": "537399",
    "end": "544399"
  },
  {
    "text": "to service B is Downstream right no no it's not",
    "start": "544399",
    "end": "550519"
  },
  {
    "text": "because well why make it easy and sort of on a mental concept like that Downstream is",
    "start": "550519",
    "end": "557040"
  },
  {
    "text": "actually service B to service a now that's that's kind of a confusing",
    "start": "557040",
    "end": "563720"
  },
  {
    "text": "concept because it doesn't you know mentally I didn't so I don't get that right but then you got think about where",
    "start": "563720",
    "end": "570120"
  },
  {
    "text": "the the sort of the term came from the term came from when they were starting to to kind of coin",
    "start": "570120",
    "end": "575800"
  },
  {
    "text": "the the uh sort of thinking about HTTP and you're thinking about it in",
    "start": "575800",
    "end": "581399"
  },
  {
    "text": "terms of a request and a response so the reason the downstream is B to a is",
    "start": "581399",
    "end": "587240"
  },
  {
    "text": "because you're thinking about the flow of data and at the time when they kind of coined these terms the bulk of the",
    "start": "587240",
    "end": "592360"
  },
  {
    "text": "data was going Downstream you would make a request for data Upstream to a service",
    "start": "592360",
    "end": "599320"
  },
  {
    "text": "the data would then be flow sorry the all of that bytes and all that information would flow Downstream back",
    "start": "599320",
    "end": "605680"
  },
  {
    "text": "to the original requester so that's the kind of the the downstream upstream and",
    "start": "605680",
    "end": "611320"
  },
  {
    "text": "again a lot of the metrics inside of envoy are rooted to Downstream and Upstream so it's it is a um an important",
    "start": "611320",
    "end": "618480"
  },
  {
    "text": "concept just to remember that and finally we uh we have the",
    "start": "618480",
    "end": "624040"
  },
  {
    "text": "cluster and a cluster is just a a group of kind of um logically",
    "start": "624040",
    "end": "629839"
  },
  {
    "text": "Associated end points so in in Envoy that that can be quite disperate I mean",
    "start": "629839",
    "end": "635360"
  },
  {
    "text": "it's for example payments which we have in our example",
    "start": "635360",
    "end": "640440"
  },
  {
    "text": "application consists of three pods so there will be a cluster in onvoy which",
    "start": "640440",
    "end": "646079"
  },
  {
    "text": "has three end points each corresponding to one of the payments",
    "start": "646079",
    "end": "651600"
  },
  {
    "text": "pod a cluster in onvoy doesn't have to be that straightforward you can have a",
    "start": "651600",
    "end": "658040"
  },
  {
    "text": "cluster which is pulled from multiple different types you know there there's Concepts around being able to build",
    "start": "658040",
    "end": "663360"
  },
  {
    "text": "virtual services but ultimately a kind of um a cluster is a collection of",
    "start": "663360",
    "end": "670480"
  },
  {
    "text": "endpoints including your local your local service that's kind of a way to think about it now the the example",
    "start": "670480",
    "end": "677760"
  },
  {
    "text": "application that we're we're going to run through is a is a three- tier application and it's it's built of of",
    "start": "677760",
    "end": "684320"
  },
  {
    "text": "three different services so we have API and API is a a single in it's a an HTTP",
    "start": "684320",
    "end": "690519"
  },
  {
    "text": "restful service and that makes requests Upstream to the the payments service now",
    "start": "690519",
    "end": "698480"
  },
  {
    "text": "the payment service is actually three instances and it's comprised of two",
    "start": "698480",
    "end": "705959"
  },
  {
    "text": "instances of V1 and one instance of V2 now the V2 service has been deliberately",
    "start": "705959",
    "end": "713079"
  },
  {
    "text": "misconfigured so that it reports 20% of Errors because we want to be able to see some errors in our metric so we've we've",
    "start": "713079",
    "end": "719959"
  },
  {
    "text": "got a deliberately badly um configured application API makes one request for",
    "start": "719959",
    "end": "728639"
  },
  {
    "text": "payments for every request it receives so it's a one toone relationship payments then talks to",
    "start": "728639",
    "end": "736120"
  },
  {
    "text": "currency and currency is a grpc based service again we we have one of the",
    "start": "736120",
    "end": "743240"
  },
  {
    "text": "instances of the of the two instances the V2 service has been misconfigured so",
    "start": "743240",
    "end": "748480"
  },
  {
    "text": "that we are going to be reporting 20% of any request to the V2 instance of the",
    "start": "748480",
    "end": "753519"
  },
  {
    "text": "grpc service is going to result in an error and that's going to return you a GPC error code",
    "start": "753519",
    "end": "759839"
  },
  {
    "text": "13 so this is a kind of a key thing that we'll get to but I don't know how",
    "start": "759839",
    "end": "765240"
  },
  {
    "text": "familiar you all are with with with GPC Based Services but they don't use um HTTP response codes they use GPC",
    "start": "765240",
    "end": "772959"
  },
  {
    "text": "error code so it is a a slightly different um concept and kind of a from",
    "start": "772959",
    "end": "778639"
  },
  {
    "text": "a a graphical perspective it looks like this and this is a look I'm I'm going to hold my hands up and say it's a bit of a",
    "start": "778639",
    "end": "784720"
  },
  {
    "text": "weird way to lay out a flow diagram for a for a service to service communication",
    "start": "784720",
    "end": "790800"
  },
  {
    "text": "but it's trying to fit it all on the page but you can see as I say we we have three instances of payments one of which",
    "start": "790800",
    "end": "798160"
  },
  {
    "text": "is mad uh misbehaving which goes through to somebody made a typo",
    "start": "798160",
    "end": "806079"
  },
  {
    "text": "there yeah oh that's my vet um I'm not going to answer that right now uh so we",
    "start": "806079",
    "end": "813440"
  },
  {
    "text": "have two instances of currency V1 and V2 currency V2 same 20% error rate so again",
    "start": "813440",
    "end": "819720"
  },
  {
    "text": "we'll be able to interrogate that and see those those metrics",
    "start": "819720",
    "end": "827600"
  },
  {
    "text": "and this is an important bit so we're going to be using most of the time we're going to be just using grafana now the",
    "start": "828360",
    "end": "835680"
  },
  {
    "text": "the metric system that we or the metric stack that we have in our example application is Prometheus grafana",
    "start": "835680",
    "end": "842560"
  },
  {
    "text": "whether you're using Prometheus grafana whether you're using data dog um uh",
    "start": "842560",
    "end": "848639"
  },
  {
    "text": "light step um honeycomb what you know whatever sort of Matrix platform you're",
    "start": "848639",
    "end": "855519"
  },
  {
    "text": "using other than the sort of the the subtle differences around the the language because we're going to be",
    "start": "855519",
    "end": "861120"
  },
  {
    "text": "looking at prom SQL in order to sort of build our dashboards it's going to be very fairly trans translatable now",
    "start": "861120",
    "end": "869880"
  },
  {
    "text": "grafana you're going to have to log in when the first time you use grafana the the we used what we think is probably",
    "start": "869880",
    "end": "876720"
  },
  {
    "text": "the most secure username and password which is admin admin now grafana will",
    "start": "876720",
    "end": "881839"
  },
  {
    "text": "ask you to change your password just say no because if you do change your",
    "start": "881839",
    "end": "887920"
  },
  {
    "text": "password and then it logs you out and you forget what the password is then I can't help you and you're going to have",
    "start": "887920",
    "end": "893759"
  },
  {
    "text": "to start again so in the spirit of security we'll",
    "start": "893759",
    "end": "899079"
  },
  {
    "text": "have all this code available for you afterwards still with the same passwords this is a workshop environment we do",
    "start": "899079",
    "end": "906079"
  },
  {
    "text": "silly stuff so we can all learn from it uh Nick was kind enough to say that we deliberately made that service uh suck",
    "start": "906079",
    "end": "913399"
  },
  {
    "text": "about one out of five times uh that's that's my my doing I'm very proud of",
    "start": "913399",
    "end": "918759"
  },
  {
    "text": "that more importantly though when you deploy this make sure your network is",
    "start": "918759",
    "end": "925199"
  },
  {
    "text": "not open to the world there are way better ways to get to speed with those passwords don't use admin admin it has",
    "start": "925199",
    "end": "932639"
  },
  {
    "text": "to be said because then it's not our fault yeah but who's going to who's",
    "start": "932639",
    "end": "938199"
  },
  {
    "text": "honestly going to think no hacker in the world is going to think you that people are going to be stupid enough to use",
    "start": "938199",
    "end": "943360"
  },
  {
    "text": "admin admin therefore admin admin is probably the greatest",
    "start": "943360",
    "end": "949319"
  },
  {
    "text": "password depends on the dictionary attack that you're going through yeah do we have the disclaimer on there about",
    "start": "949319",
    "end": "954560"
  },
  {
    "text": "getting if anybody gets sued for using admin admin the group a password then we're not we're not liable I I'll show",
    "start": "954560",
    "end": "961680"
  },
  {
    "text": "them if we we don't have that in the documentation just uh just so you know okay now the the other thing that",
    "start": "961680",
    "end": "969480"
  },
  {
    "text": "you're going to use we do have an interactive terminal there that you used before but we we've got a terminal which is built into the documentation there's",
    "start": "969480",
    "end": "976600"
  },
  {
    "text": "there's going to be some steps in the workshop where we're going to want to dig into um onvoy and we're going to",
    "start": "976600",
    "end": "983160"
  },
  {
    "text": "want to look at things like the config dump because we're going to kind of like understand some of the the topology we're going to understand how we can",
    "start": "983160",
    "end": "989639"
  },
  {
    "text": "identify metrics by actually looking at the envoy configuration and for that",
    "start": "989639",
    "end": "995199"
  },
  {
    "text": "there's a terminal built into the documentation which is going to um allow you to do that for most things you you",
    "start": "995199",
    "end": "1002199"
  },
  {
    "text": "don't need to copy Pastor or type on your own there will be a big blue button and if you can click the big blue button",
    "start": "1002199",
    "end": "1008399"
  },
  {
    "text": "there kareim please think my environment just timed out so I'm going to reload this one real quick okay then um clicking the big blue",
    "start": "1008399",
    "end": "1016440"
  },
  {
    "text": "button what that will do is that will automatically run the command in the terminal again you know the most of this stuff is literally just exacting into a",
    "start": "1016440",
    "end": "1023680"
  },
  {
    "text": "pod and running a curl to to get the the config dump or to to look at the the",
    "start": "1023680",
    "end": "1030240"
  },
  {
    "text": "Clusters and things like that and with that we're ready to to begin um we're",
    "start": "1030240",
    "end": "1038120"
  },
  {
    "text": "just going to restart our environment so the environments are are",
    "start": "1038120",
    "end": "1043160"
  },
  {
    "text": "um we'll run for for two hours if you come back to this say",
    "start": "1043160",
    "end": "1048880"
  },
  {
    "text": "tomorrow or something like that it might take about three minutes for an environment to to create because we we currently have them switched on the hot",
    "start": "1048880",
    "end": "1055240"
  },
  {
    "text": "start today but you know just just bear with it it's it's doing a lot of stuff it's creating a kubernetes cluster it's",
    "start": "1055240",
    "end": "1061600"
  },
  {
    "text": "deploying a bunch of applications it's installing Prometheus and grafana and and service mesh and and all of that and",
    "start": "1061600",
    "end": "1068320"
  },
  {
    "text": "as as somebody who has worked in this industry for quite a while three minutes is nothing short of a miracle when it",
    "start": "1068320",
    "end": "1075640"
  },
  {
    "text": "used to take three months to get an individual Apache",
    "start": "1075640",
    "end": "1081799"
  },
  {
    "text": "server no no not at all they um the the pods",
    "start": "1088080",
    "end": "1094480"
  },
  {
    "text": "should should have come up so that might just be is everybody getting pending on",
    "start": "1094480",
    "end": "1099960"
  },
  {
    "text": "their pods okay so you're running now uh",
    "start": "1099960",
    "end": "1105200"
  },
  {
    "text": "you're still it's still pending",
    "start": "1105200",
    "end": "1110320"
  },
  {
    "text": "yeah let's have a let's have a look it's probably I hope it's not getting",
    "start": "1112039",
    "end": "1118000"
  },
  {
    "text": "um I hope it's not getting blocked by sort of Docker Hub or something like",
    "start": "1120120",
    "end": "1125200"
  },
  {
    "text": "that uh let",
    "start": "1125200",
    "end": "1128720"
  },
  {
    "text": "me yeah yeah yeah just do it so while Nick looks at that quick note about this",
    "start": "1133240",
    "end": "1139400"
  },
  {
    "text": "environment uh Shipyard makes it easy to spin up a ton of services that you want to try out we've got a couple of",
    "start": "1139400",
    "end": "1146000"
  },
  {
    "text": "different templates around when I say a couple I mean a couple hundred um for pretty much everything that you can",
    "start": "1146000",
    "end": "1152320"
  },
  {
    "text": "imagine for a repeatable development environment locally this is very nice it",
    "start": "1152320",
    "end": "1158400"
  },
  {
    "text": "helps you out go ahead have we um have we changed the size of the",
    "start": "1158400",
    "end": "1164799"
  },
  {
    "text": "machines uh they are all 8 or 12 gig ones",
    "start": "1164799",
    "end": "1170240"
  },
  {
    "text": "okay so we're getting some insufficient CPU um which part is that all right so",
    "start": "1170480",
    "end": "1175919"
  },
  {
    "text": "don't let's I'm going to hop fix this because I'm just going to basically",
    "start": "1175919",
    "end": "1182760"
  },
  {
    "text": "remove any of the resource um uh resource boundaries because it doesn't actually use a great deal of",
    "start": "1182760",
    "end": "1188600"
  },
  {
    "text": "CPU but we can we can continue because the first part of um is predominantly",
    "start": "1188600",
    "end": "1195080"
  },
  {
    "text": "going to use the cluster um for API and looking at the",
    "start": "1195080",
    "end": "1202320"
  },
  {
    "text": "connections there so it's everybody pretty much getting that on the the payments pod all right don't worry it's",
    "start": "1202320",
    "end": "1211280"
  },
  {
    "text": "not uh it's not the end of the",
    "start": "1211280",
    "end": "1217559"
  },
  {
    "text": "world",
    "start": "1218520",
    "end": "1221520"
  },
  {
    "text": "Maybe",
    "start": "1227159",
    "end": "1230159"
  },
  {
    "text": "okay so com connection metrics now the first thing we want to",
    "start": "1235440",
    "end": "1241200"
  },
  {
    "text": "look at is is connections we're going to look at connections we're going to look at requests we're going to look at grpc Services methods and then we're going to",
    "start": "1241200",
    "end": "1247520"
  },
  {
    "text": "dig into also into retries there's there's a limited time we've got available but what I what I kind of want",
    "start": "1247520",
    "end": "1253760"
  },
  {
    "text": "to be able to take you through is the um kind of the what I would see is kind of",
    "start": "1253760",
    "end": "1259679"
  },
  {
    "text": "like a lot of the core things but also give you the ability that you kind of start to to understand where you can",
    "start": "1259679",
    "end": "1265559"
  },
  {
    "text": "kind of go and and discover things further so Envoy has very common",
    "start": "1265559",
    "end": "1271760"
  },
  {
    "text": "connection metrics now what what you have are um active connections total",
    "start": "1271760",
    "end": "1277679"
  },
  {
    "text": "connections and destroyed connections these are kind of like the core things now there they're comprised of a gauge",
    "start": "1277679",
    "end": "1283840"
  },
  {
    "text": "counter and gauges and counters do do we do you understand what a gauge is within um within",
    "start": "1283840",
    "end": "1292200"
  },
  {
    "text": "metrix everybody understands that yeah so a gauge is basically a a snapshot it",
    "start": "1292200",
    "end": "1297760"
  },
  {
    "text": "is at present there are n items of this thing whereas a counter continually",
    "start": "1297760",
    "end": "1305679"
  },
  {
    "text": "increments so something like a gauge as I say it's it's a snapshot in time with",
    "start": "1305679",
    "end": "1310919"
  },
  {
    "text": "with a counter you've got the ability to to do things look at um change over time",
    "start": "1310919",
    "end": "1316200"
  },
  {
    "text": "so requests per second or connections created per second so in terms of like",
    "start": "1316200",
    "end": "1322960"
  },
  {
    "text": "connections created well that doesn't exist as an Envoy Matrix but what you have is total",
    "start": "1322960",
    "end": "1328520"
  },
  {
    "text": "and destroyed so the what you can look at is the increment of the total",
    "start": "1328520",
    "end": "1334400"
  },
  {
    "text": "connections that's going to give you the number of connections that have been created over time and then the the",
    "start": "1334400",
    "end": "1340960"
  },
  {
    "text": "connections destroyed is obviously the the number of connections which are are destroyed and why this is is an",
    "start": "1340960",
    "end": "1347440"
  },
  {
    "text": "important thing to to kind of look at is it's it's I think sort of fundamentally interesting around the health of your",
    "start": "1347440",
    "end": "1353720"
  },
  {
    "text": "applications because what we're going to kind of see when we're looking through this is that",
    "start": "1353720",
    "end": "1360240"
  },
  {
    "text": "well it's not always good that connections are opened and closed all of the time like you've got to think about",
    "start": "1360240",
    "end": "1366760"
  },
  {
    "text": "the way that the service mesh works so the service mesh is is from proxy to",
    "start": "1366760",
    "end": "1373360"
  },
  {
    "text": "proxy making an mtls connection now",
    "start": "1373360",
    "end": "1378600"
  },
  {
    "text": "the mtls process requires handshake you've got to do the various keystops and things like that in order to start",
    "start": "1378600",
    "end": "1384480"
  },
  {
    "text": "encrypting traffic so it in certain instances it's not always ideal to have",
    "start": "1384480",
    "end": "1391320"
  },
  {
    "text": "lots of connections coming up and going down in an Ideal World what you want is",
    "start": "1391320",
    "end": "1396720"
  },
  {
    "text": "a connection pool where you're reusing those connections and and I think in in",
    "start": "1396720",
    "end": "1404679"
  },
  {
    "text": "for the for the most part that's that's actually okay for an application it is okay",
    "start": "1404679",
    "end": "1411799"
  },
  {
    "text": "for different HTTP requests to be pushed over a connection that's been reused",
    "start": "1411799",
    "end": "1419400"
  },
  {
    "text": "from a different request now we're g to we're going to kind of look at all of those things and we're going to look at how we can get",
    "start": "1419400",
    "end": "1425440"
  },
  {
    "text": "that information and and also how we can we can query that information",
    "start": "1425440",
    "end": "1432520"
  },
  {
    "text": "so first things first is looking at Downstream um",
    "start": "1435960",
    "end": "1443039"
  },
  {
    "text": "connections so what what we have here in the first um the first thing that we're going to look",
    "start": "1458600",
    "end": "1464360"
  },
  {
    "text": "at is active API Downstream connection so this are the number of connections",
    "start": "1464360",
    "end": "1471320"
  },
  {
    "text": "that are coming in to your service and we're going to look at the API and the",
    "start": "1471320",
    "end": "1476360"
  },
  {
    "text": "API is kind of the uh the the end",
    "start": "1476360",
    "end": "1482080"
  },
  {
    "text": "point so with um with that if you can click on your",
    "start": "1482080",
    "end": "1490039"
  },
  {
    "text": "grafana tab and what I would like you to do is go to the the explore which is",
    "start": "1490039",
    "end": "1498360"
  },
  {
    "text": "this button here so I think do we have we have two",
    "start": "1498360",
    "end": "1504360"
  },
  {
    "text": "tabs anyway so you probably got a tab which I think is the second one which will take you direct to",
    "start": "1504360",
    "end": "1510799"
  },
  {
    "text": "that but the password's admin admin and don't change it because we're keeping things",
    "start": "1510919",
    "end": "1518440"
  },
  {
    "text": "secure okay with",
    "start": "1520640",
    "end": "1524240"
  },
  {
    "text": "me okay so you can if you just log in again there it's just admin admin it's um on this",
    "start": "1525840",
    "end": "1534398"
  },
  {
    "text": "one I just Skip and just this one here it's a",
    "start": "1536080",
    "end": "1543960"
  },
  {
    "text": "little Little Wheel if you click on that okay cool so the if if you've not used grafana before or even if you have and",
    "start": "1543960",
    "end": "1551720"
  },
  {
    "text": "you didn't you weren't aware of this but the the explore capability is really good when you're kind of doing some some",
    "start": "1551720",
    "end": "1559000"
  },
  {
    "text": "Metric archaeology it's it's a really easy way to kind of start looking at some of the the metrics",
    "start": "1559000",
    "end": "1565640"
  },
  {
    "text": "in the system without having to to go through and create a dashboard and the first one we want to look at",
    "start": "1565640",
    "end": "1572320"
  },
  {
    "text": "is active Downstream connections so",
    "start": "1572320",
    "end": "1580679"
  },
  {
    "text": "oops so this is what we're going to end up building and um there's a lot of information there so",
    "start": "1586080",
    "end": "1591880"
  },
  {
    "text": "we're going to we're going to kind of look at this and we're going to fill it through it can you scroll down a little bit for me please all right cool so",
    "start": "1591880",
    "end": "1599120"
  },
  {
    "text": "first things first so if you if you click in your um your explore Tab and",
    "start": "1599120",
    "end": "1606520"
  },
  {
    "text": "just start typing onvoy listener Downstream or even just start typing",
    "start": "1606520",
    "end": "1611960"
  },
  {
    "text": "Downstream and you're going to start to see that that grafana is is going to",
    "start": "1611960",
    "end": "1617960"
  },
  {
    "text": "pull out all of those metrics from from Prometheus and what we want is we want",
    "start": "1617960",
    "end": "1626679"
  },
  {
    "text": "the the ability to to kind of well the metric specific metric that we're looking for is Envoy listener Downstream",
    "start": "1626679",
    "end": "1634760"
  },
  {
    "text": "CX which is the the sort of the shortcut for connection and",
    "start": "1634760",
    "end": "1640360"
  },
  {
    "text": "active and if you if you display that up on on your",
    "start": "1640360",
    "end": "1646240"
  },
  {
    "text": "screen",
    "start": "1646520",
    "end": "1649520"
  },
  {
    "text": "oh cool all right",
    "start": "1652360",
    "end": "1656919"
  },
  {
    "text": "so okay so I'm going to do this with you and I'm going to",
    "start": "1658240",
    "end": "1665799"
  },
  {
    "text": "grab this over here I'm going to admin and",
    "start": "1665799",
    "end": "1673880"
  },
  {
    "text": "admin login change my password password forget it press not",
    "start": "1673880",
    "end": "1681559"
  },
  {
    "text": "now so we're in our explore tab down so there's there are a huge",
    "start": "1681559",
    "end": "1689200"
  },
  {
    "text": "number of um oh sorry there's a there's a huge",
    "start": "1689200",
    "end": "1695679"
  },
  {
    "text": "number of of metrics which are uh available Envoy is very granular in the",
    "start": "1695679",
    "end": "1701159"
  },
  {
    "text": "number of um the stuff that it emits and it can be quite confusing sometimes as to to what you",
    "start": "1701159",
    "end": "1708039"
  },
  {
    "text": "should use but what I'm going to do is I'm going to look at Downstream connections active and what I'm going to",
    "start": "1708039",
    "end": "1714880"
  },
  {
    "text": "do is I'm also going to change the the duration here just to the last five",
    "start": "1714880",
    "end": "1721679"
  },
  {
    "text": "minutes so we're pushing some some fake load through the system and we're we're",
    "start": "1721679",
    "end": "1727799"
  },
  {
    "text": "pushing approximately 12 requests per second through it so let's have a let's have a look at",
    "start": "1727799",
    "end": "1734080"
  },
  {
    "text": "this now we've got a number of different metrics and we've got connection metrics",
    "start": "1734080",
    "end": "1740760"
  },
  {
    "text": "which are being pulled from a bunch of different Services as well so it's not we want to specifically look at API but",
    "start": "1740760",
    "end": "1747039"
  },
  {
    "text": "we're getting data here from from all of the the other um applications and",
    "start": "1747039",
    "end": "1752240"
  },
  {
    "text": "services and what we what we have is connections active so you can see here",
    "start": "1752240",
    "end": "1760039"
  },
  {
    "text": "we've got another one connections active and here again there's another",
    "start": "1760039",
    "end": "1766720"
  },
  {
    "text": "and another so lots of lots of different metrics what we want to be able to do is we want to be able to to filter this",
    "start": "1766720",
    "end": "1773720"
  },
  {
    "text": "information so to to kind of filter that information what we can actually do is",
    "start": "1773720",
    "end": "1779880"
  },
  {
    "text": "use the labels that that Envoy is is providing for us",
    "start": "1779880",
    "end": "1787039"
  },
  {
    "text": "so let's let's do a filter and let's add a label which is the the envoy listener",
    "start": "1787039",
    "end": "1792799"
  },
  {
    "text": "address so if I go over here and I",
    "start": "1792799",
    "end": "1800360"
  },
  {
    "text": "add the auto complete",
    "start": "1801279",
    "end": "1805159"
  },
  {
    "text": "should helps if I use the right",
    "start": "1811279",
    "end": "1815159"
  },
  {
    "text": "metric so we um we've got htdp and listener and what we want is sorry the",
    "start": "1819480",
    "end": "1825640"
  },
  {
    "text": "The Listener so I'm expanding",
    "start": "1825640",
    "end": "1830799"
  },
  {
    "text": "that and I want the envoy listener address so the envoy listener address",
    "start": "1830799",
    "end": "1836039"
  },
  {
    "text": "this is going to to show me the the connection metric for each of the listeners that um that exist in the",
    "start": "1836039",
    "end": "1843880"
  },
  {
    "text": "system and you can see there's well there's a lot of um a lot of them",
    "start": "1843880",
    "end": "1849640"
  },
  {
    "text": "there's a bunch of different different listeners that that are that are present so for example",
    "start": "1849640",
    "end": "1856880"
  },
  {
    "text": "we've got got a number of different ports because for every port that the envoy is listening on you've got that",
    "start": "1856880",
    "end": "1862600"
  },
  {
    "text": "there so for example in in terms of console console service mesh the the",
    "start": "1862600",
    "end": "1868639"
  },
  {
    "text": "public listener the the inbound connections are always going to be running on 20,000 and that's just kind",
    "start": "1868639",
    "end": "1875200"
  },
  {
    "text": "of like a standard that that we use and again like different um different",
    "start": "1875200",
    "end": "1880799"
  },
  {
    "text": "service measures will use different things but I can actually apply that filter there and what I can do is I can",
    "start": "1880799",
    "end": "1887840"
  },
  {
    "text": "just get the connections in this specific instance for that pod on Port",
    "start": "1887840",
    "end": "1894600"
  },
  {
    "text": "20,000 now that's that's great and and in the instance of API where we're actually we only have a single instance",
    "start": "1894600",
    "end": "1902039"
  },
  {
    "text": "but what we want to be able to do is be able to do some some subf filtering so",
    "start": "1902039",
    "end": "1907279"
  },
  {
    "text": "you can actually have multiples of of these pods and you can also use regular",
    "start": "1907279",
    "end": "1913559"
  },
  {
    "text": "Expressions so for example let's make this more generic so let's get all",
    "start": "1913559",
    "end": "1921240"
  },
  {
    "text": "connection listeners that are going to be running on Port 20,000 so we can just use a",
    "start": "1921240",
    "end": "1928919"
  },
  {
    "text": "regular expression and we can change the the prom SQL query to use a",
    "start": "1928919",
    "end": "1935360"
  },
  {
    "text": "regular expression and now what we have are a bunch more",
    "start": "1935360",
    "end": "1940760"
  },
  {
    "text": "metrics so now this is all of the the envoy public listeners that are in our",
    "start": "1940760",
    "end": "1946840"
  },
  {
    "text": "in our system but this is also con you can see",
    "start": "1946840",
    "end": "1953360"
  },
  {
    "text": "that you have like the Currency Service and we've got payment service and all sorts of things in there so what we want",
    "start": "1953360",
    "end": "1958799"
  },
  {
    "text": "to be able to do is add another filter and again we can we can use the the",
    "start": "1958799",
    "end": "1966399"
  },
  {
    "text": "metrics inside of uh the tags which are added by Envoy",
    "start": "1966399",
    "end": "1972799"
  },
  {
    "text": "to be able to to kind of do those filters so I could do things like filter by the Pod now this isn't added pod is a",
    "start": "1972799",
    "end": "1979480"
  },
  {
    "text": "a label is not added by Envoy Envoy has no idea of your pod this pod is actually",
    "start": "1979480",
    "end": "1986080"
  },
  {
    "text": "added by Prometheus when it when it scrapes so I could use I could use pod",
    "start": "1986080",
    "end": "1992919"
  },
  {
    "text": "um I also have some some Envoy specific metrics such as console Source",
    "start": "1992919",
    "end": "1999760"
  },
  {
    "text": "service and if you roll your mouse over here you'll see all of those labels so",
    "start": "1999760",
    "end": "2007039"
  },
  {
    "text": "you can see there we've got the source data center uh the namespace",
    "start": "2007039",
    "end": "2013600"
  },
  {
    "text": "petitions um listener addresses instance and and",
    "start": "2013600",
    "end": "2019120"
  },
  {
    "text": "all of this metadata is associated with your your metric so what we want to do is we want to specifically",
    "start": "2019120",
    "end": "2025200"
  },
  {
    "text": "look at the the API service so what we can do",
    "start": "2025200",
    "end": "2032000"
  },
  {
    "text": "is we can filter this if we just look",
    "start": "2032000",
    "end": "2038880"
  },
  {
    "text": "here using service and we can get API so let's add",
    "start": "2038880",
    "end": "2047960"
  },
  {
    "text": "that service and again grafana is going to auto complete for me so this is this is",
    "start": "2047960",
    "end": "2056839"
  },
  {
    "text": "cool so now what I",
    "start": "2056839",
    "end": "2062040"
  },
  {
    "text": "have are a a bunch of um a bunch of metrics my",
    "start": "2062040",
    "end": "2070800"
  },
  {
    "text": "reex is uh is not",
    "start": "2070800",
    "end": "2076599"
  },
  {
    "text": "actually working for me here",
    "start": "2076599",
    "end": "2082200"
  },
  {
    "text": "so let me",
    "start": "2084599",
    "end": "2088040"
  },
  {
    "text": "just while we figured this out if you run",
    "start": "2095879",
    "end": "2101760"
  },
  {
    "text": "into any trouble just raise your hand I'll come over there we",
    "start": "2101760",
    "end": "2107240"
  },
  {
    "text": "go",
    "start": "2125800",
    "end": "2128800"
  },
  {
    "text": "and we've got that there okay now what you're seeing is is",
    "start": "2148599",
    "end": "2155800"
  },
  {
    "text": "three three three sort of Series so we've got",
    "start": "2155800",
    "end": "2161000"
  },
  {
    "text": "three series there whereas we've only got a single API so why why are we seeing three",
    "start": "2161000",
    "end": "2168400"
  },
  {
    "text": "series basically what looks like three three different listeners different sets",
    "start": "2168400",
    "end": "2175160"
  },
  {
    "text": "of connection stats different listeners well the reason for this is",
    "start": "2175160",
    "end": "2180599"
  },
  {
    "text": "that these are are actually the way that Envoy does its threading and concurrency",
    "start": "2180599",
    "end": "2187040"
  },
  {
    "text": "so Envoy in terms of its connection statistics is going to give you a line",
    "start": "2187040",
    "end": "2192480"
  },
  {
    "text": "item or a data series for each of the the internal sort of threads that it",
    "start": "2192480",
    "end": "2199599"
  },
  {
    "text": "uses for its concurrency model and again depending on how your your service measures configured it might only have a",
    "start": "2199599",
    "end": "2205599"
  },
  {
    "text": "single thread you might use sort of multiple threads in this instance what we have",
    "start": "2205599",
    "end": "2212119"
  },
  {
    "text": "is work is",
    "start": "2212119",
    "end": "2218680"
  },
  {
    "text": "so the reason that that you kind of get that is that what on boy is showing you is kind of showing the broker thread or",
    "start": "2242280",
    "end": "2248319"
  },
  {
    "text": "the kind of the the aggregated before it hands it off to it its concurrency model",
    "start": "2248319",
    "end": "2255119"
  },
  {
    "text": "so in our instance what we're really interested in we want to you know we want to look at the kind of the overall",
    "start": "2255119",
    "end": "2261200"
  },
  {
    "text": "connections so we've got two options one is we can sum the worker threads or we can just look at the the main thread the",
    "start": "2261200",
    "end": "2268760"
  },
  {
    "text": "kind of the in the documentation the reason that Envoy says that it gives you these individual line items is that when",
    "start": "2268760",
    "end": "2274880"
  },
  {
    "text": "it comes to Performance really want to be able to do is is see that there is",
    "start": "2274880",
    "end": "2281599"
  },
  {
    "text": "equal balance of connections across each of the oh it's okay you can hear me all",
    "start": "2281599",
    "end": "2287079"
  },
  {
    "text": "right equal balance acoss both both of the work threads it's",
    "start": "2287079",
    "end": "2293319"
  },
  {
    "text": "a I think it's a fairly new feature that's being added in either in 123 or 122 it's a definitely wasn't there sort",
    "start": "2293319",
    "end": "2301560"
  },
  {
    "text": "of a little while back so what we want to do is",
    "start": "2301560",
    "end": "2307400"
  },
  {
    "text": "again just kind of go through and take a a sub filter so instead of you see there",
    "start": "2307400",
    "end": "2315200"
  },
  {
    "text": "Envoy worker ID equals one well we want to just get the main thing so what we can actually do is",
    "start": "2315200",
    "end": "2321800"
  },
  {
    "text": "we'll do a sub filer we're going to do Envoy worker ID and we're going to say",
    "start": "2321800",
    "end": "2326920"
  },
  {
    "text": "Envoy worker ID is blank and there we go so that's now just",
    "start": "2326920",
    "end": "2334119"
  },
  {
    "text": "giving us the the main thread so we now know because this is a this is a gauge",
    "start": "2334119",
    "end": "2342000"
  },
  {
    "text": "it's a snapshot in time that there are about 12 connections",
    "start": "2342000",
    "end": "2349319"
  },
  {
    "text": "consistent connections to the AP which is which is good because what",
    "start": "2349319",
    "end": "2357079"
  },
  {
    "text": "this what this signies is",
    "start": "2357079",
    "end": "2361599"
  },
  {
    "text": "that",
    "start": "2365440",
    "end": "2368440"
  },
  {
    "text": "so let's grab that that statistic and what we're going to",
    "start": "2381880",
    "end": "2387480"
  },
  {
    "text": "do is we're going to create a new dashboard and we're going to go through and we're going to start building up a a",
    "start": "2387480",
    "end": "2393079"
  },
  {
    "text": "panel so you can use your your other tab there so that you can",
    "start": "2393079",
    "end": "2398800"
  },
  {
    "text": "keep your explore window",
    "start": "2398800",
    "end": "2403079"
  },
  {
    "text": "open and we go over to dashboards new",
    "start": "2404680",
    "end": "2411880"
  },
  {
    "text": "dashboard and I'm going to add a new panel so then what I can do is I can",
    "start": "2411880",
    "end": "2417800"
  },
  {
    "text": "just grab this query from there and I can drop",
    "start": "2417800",
    "end": "2425359"
  },
  {
    "text": "it to my",
    "start": "2425359",
    "end": "2430400"
  },
  {
    "text": "dashboard and then I'm going to give this a name",
    "start": "2430400",
    "end": "2435760"
  },
  {
    "text": "API API",
    "start": "2436319",
    "end": "2439839"
  },
  {
    "text": "connections so again we we've got the ability there we're GNA change the the",
    "start": "2441680",
    "end": "2447440"
  },
  {
    "text": "time let's just look at the the last five minutes if you look at the data over a little bit more sort of time",
    "start": "2447440",
    "end": "2453920"
  },
  {
    "text": "there if you're looking at it over great duration you'll you can see it does change over time so the connection pool",
    "start": "2453920",
    "end": "2460200"
  },
  {
    "text": "is is expanding but we've got that that information",
    "start": "2460200",
    "end": "2466560"
  },
  {
    "text": "there so the the next thing is that we can we can give",
    "start": "2466560",
    "end": "2472079"
  },
  {
    "text": "that a name so we're going to call that active Downstream",
    "start": "2472079",
    "end": "2476520"
  },
  {
    "text": "connections and we're going to just paste that into the legend so we've got our active",
    "start": "2478240",
    "end": "2484040"
  },
  {
    "text": "Downstream connections so the the next thing that we want to",
    "start": "2484040",
    "end": "2490760"
  },
  {
    "text": "do is we want to start looking at",
    "start": "2490760",
    "end": "2496000"
  },
  {
    "text": "Upstream connections and this is where things are going to get interesting because the",
    "start": "2496000",
    "end": "2501440"
  },
  {
    "text": "payment service is not actually running because it's complaining that it doesn't have any CPU",
    "start": "2501440",
    "end": "2508079"
  },
  {
    "text": "so let me see if I can be",
    "start": "2508079",
    "end": "2512560"
  },
  {
    "text": "created I'm sorry I'm sorry if you do much with CP oh okay",
    "start": "2514280",
    "end": "2522119"
  },
  {
    "text": "yeah because I think",
    "start": "2522119",
    "end": "2524720"
  },
  {
    "text": "that sorry bad with",
    "start": "2538040",
    "end": "2541800"
  },
  {
    "text": "me of course",
    "start": "2545160",
    "end": "2553079"
  },
  {
    "text": "deployment this is the the payments deployment it's",
    "start": "2555880",
    "end": "2561000"
  },
  {
    "text": "a fairly straightforward kubernetes deployment",
    "start": "2561000",
    "end": "2568240"
  },
  {
    "text": "there if I scroll down I'll be able to find the resources",
    "start": "2569640",
    "end": "2576480"
  },
  {
    "text": "where it's specifying the amount of CPU for requests and",
    "start": "2576480",
    "end": "2584440"
  },
  {
    "text": "limits I'm going to remove",
    "start": "2589720",
    "end": "2593480"
  },
  {
    "text": "that let's just see if we can get this to to",
    "start": "2604200",
    "end": "2609680"
  },
  {
    "text": "starts",
    "start": "2635079",
    "end": "2638079"
  },
  {
    "text": "bear with me sorry we have a little teething",
    "start": "2656480",
    "end": "2661319"
  },
  {
    "text": "trouble what what's this doing",
    "start": "2663200",
    "end": "2668000"
  },
  {
    "text": "for",
    "start": "2694960",
    "end": "2697960"
  },
  {
    "text": "I apologize the the um the machines that we spun up to to create the environments",
    "start": "2700319",
    "end": "2706680"
  },
  {
    "text": "are haven't got a enough they've come up and they haven't got enough CPUs",
    "start": "2706680",
    "end": "2712720"
  },
  {
    "text": "allocated to them so the application is uh is not",
    "start": "2712720",
    "end": "2719279"
  },
  {
    "text": "starting",
    "start": "2724880",
    "end": "2727880"
  },
  {
    "text": "I'm just seeing if I can",
    "start": "2733599",
    "end": "2737160"
  },
  {
    "text": "remove yeah so it's it's gonna it'll depend on which which um which pod has",
    "start": "2744680",
    "end": "2752200"
  },
  {
    "text": "has come up first um",
    "start": "2752200",
    "end": "2757880"
  },
  {
    "text": "I tell you what for",
    "start": "2758480",
    "end": "2761599"
  },
  {
    "text": "now sorry I apologize",
    "start": "2780720",
    "end": "2787800"
  },
  {
    "text": "what's",
    "start": "2801079",
    "end": "2803319"
  },
  {
    "text": "this okay",
    "start": "2806280",
    "end": "2812559"
  },
  {
    "text": "yeah so it just restart basically okay so I apologize but um let's let's",
    "start": "2812559",
    "end": "2818680"
  },
  {
    "text": "restart our environments because we've just uh we've just up the the CPU it's going to be quicker than than faffing",
    "start": "2818680",
    "end": "2824079"
  },
  {
    "text": "around trying to remove the the resource um limitations so if you if you just go",
    "start": "2824079",
    "end": "2830359"
  },
  {
    "text": "back to",
    "start": "2830359",
    "end": "2835280"
  },
  {
    "text": "the here I apologize about this it was fine",
    "start": "2840119",
    "end": "2847440"
  },
  {
    "text": "yesterday but somewhere between getting on a plane and getting off a",
    "start": "2847440",
    "end": "2854240"
  },
  {
    "text": "plane it",
    "start": "2857440",
    "end": "2860599"
  },
  {
    "text": "isn't and and it's kind of like the way that we've built the workshop it um everything is very very dependent upon",
    "start": "2862920",
    "end": "2871440"
  },
  {
    "text": "this app having three tiers because actually if the payment service isn't starting well then you're not going to",
    "start": "2871440",
    "end": "2876839"
  },
  {
    "text": "get any requests through to the Currency Service so I'm not going to be able to show the grpc stuff and",
    "start": "2876839",
    "end": "2883640"
  },
  {
    "text": "um and and yes so so I apologize about that but but again you know what what I",
    "start": "2883640",
    "end": "2889559"
  },
  {
    "text": "will what you can do is now we've we've fixed the number of CPUs you will be able to kind of work through this at",
    "start": "2889559",
    "end": "2895160"
  },
  {
    "text": "your own Leisure as well so we'll you know we'll run through these things and I'll explain them to you because we're a",
    "start": "2895160",
    "end": "2900359"
  },
  {
    "text": "little bit kind of short on time I apologize that we're you know we're not we won't have the the Leisure to to to",
    "start": "2900359",
    "end": "2906079"
  },
  {
    "text": "kind of go through much in depth but we can go through we'll explain the concepts and you can go away and you can",
    "start": "2906079",
    "end": "2912000"
  },
  {
    "text": "literally just spin this up when you get back home and and um and run through it your yourself and and obviously feel",
    "start": "2912000",
    "end": "2917400"
  },
  {
    "text": "free to reach out to me and we're just creating a new um a new link for you",
    "start": "2917400",
    "end": "2925119"
  },
  {
    "text": "which will just be easier",
    "start": "2925119",
    "end": "2930359"
  },
  {
    "text": "to",
    "start": "2934599",
    "end": "2937599"
  },
  {
    "text": "yeah I'm just getting a bitly link for",
    "start": "2964520",
    "end": "2971760"
  },
  {
    "text": "you",
    "start": "2987280",
    "end": "2990280"
  },
  {
    "text": "yeah yep",
    "start": "2994200",
    "end": "2997520"
  },
  {
    "text": "okay so can you go back to the um the the main page",
    "start": "2999359",
    "end": "3007160"
  },
  {
    "text": "there yep and we just get a link for you to get back there and we're just going to stop those machines we're just going",
    "start": "3011240",
    "end": "3016960"
  },
  {
    "text": "to restart them with one which has more",
    "start": "3016960",
    "end": "3022440"
  },
  {
    "text": "CPUs",
    "start": "3024440",
    "end": "3027440"
  },
  {
    "text": "so what you're looking for at the start of",
    "start": "3037720",
    "end": "3043079"
  },
  {
    "text": "your at the start of your screen is this beautiful stop button right next to",
    "start": "3044720",
    "end": "3051160"
  },
  {
    "text": "continue track remember that time in college when you te teacher was basically like yeah",
    "start": "3051160",
    "end": "3056960"
  },
  {
    "text": "you got to keep working on this right now you don't just hit the stop button terminate that instance like it hurt",
    "start": "3056960",
    "end": "3063280"
  },
  {
    "text": "you and we'll get a new one because in fact it did hurt us it wasted our time",
    "start": "3063280",
    "end": "3069079"
  },
  {
    "text": "by being too underpowered right we'll do that life",
    "start": "3069079",
    "end": "3076240"
  },
  {
    "text": "there we go and then if we go to this EUR",
    "start": "3076240",
    "end": "3084359"
  },
  {
    "text": "old um",
    "start": "3084359",
    "end": "3089400"
  },
  {
    "text": "which says this",
    "start": "3091880",
    "end": "3095480"
  },
  {
    "text": "one and I'm just going to bring it up",
    "start": "3100760",
    "end": "3105799"
  },
  {
    "text": "here",
    "start": "3114359",
    "end": "3117359"
  },
  {
    "text": "so if you can pop to that URL oh sorry it's on the screen there we",
    "start": "3126839",
    "end": "3132880"
  },
  {
    "text": "go demystifying metrics is also very much about typing in Long strings into",
    "start": "3138359",
    "end": "3143920"
  },
  {
    "text": "address bars F search query bars pretty much",
    "start": "3143920",
    "end": "3150079"
  },
  {
    "text": "that and as before if you run into any trouble raise your hand we'll be right over help you figure this",
    "start": "3159079",
    "end": "3167240"
  },
  {
    "text": "out you imagine in olden times if it was",
    "start": "3174240",
    "end": "3179680"
  },
  {
    "text": "that easy to get 16 gigs of RAM just",
    "start": "3179680",
    "end": "3184839"
  },
  {
    "text": "like that new machine I mean you could argue we probably want run for the 16 gig",
    "start": "3184839",
    "end": "3191240"
  },
  {
    "text": "option in the beginning because it would have been such a pain in the backside to can to change it we would have just gone all in on the the",
    "start": "3191240",
    "end": "3198599"
  },
  {
    "text": "maximum has everybody got that got that URL there so I can just go back and um",
    "start": "3198599",
    "end": "3204480"
  },
  {
    "text": "um actually click my start button uh let me um switch on your ring",
    "start": "3204480",
    "end": "3211319"
  },
  {
    "text": "again because then it's going to be",
    "start": "3211319",
    "end": "3214400"
  },
  {
    "text": "easier all right so wow I forgot would make U people",
    "start": "3216960",
    "end": "3225040"
  },
  {
    "text": "actually read that and then start",
    "start": "3225040",
    "end": "3230920"
  },
  {
    "text": "track what I'm going to do is uh I'm going to hit um stop so everyone can see",
    "start": "3230920",
    "end": "3236960"
  },
  {
    "text": "that and then start track",
    "start": "3236960",
    "end": "3243119"
  },
  {
    "text": "and let's",
    "start": "3243119",
    "end": "3246480"
  },
  {
    "text": "see just click the button because it pops it",
    "start": "3252920",
    "end": "3258119"
  },
  {
    "text": "in is that the same thing still getting a few at our pending oh that's the old um yeah",
    "start": "3258280",
    "end": "3267079"
  },
  {
    "text": "all right so let me switch to this one real",
    "start": "3269079",
    "end": "3276440"
  },
  {
    "text": "quick yep let's do",
    "start": "3284520",
    "end": "3289640"
  },
  {
    "text": "this",
    "start": "3294079",
    "end": "3297079"
  },
  {
    "text": "right time to",
    "start": "3305319",
    "end": "3308319"
  },
  {
    "text": "live don't worry if we can't get going on just look at the HTP metrics yeah",
    "start": "3313640",
    "end": "3319520"
  },
  {
    "text": "maybe uh switch that",
    "start": "3319520",
    "end": "3327000"
  },
  {
    "text": "so from a code perspective it should give you a new",
    "start": "3334160",
    "end": "3338280"
  },
  {
    "text": "environment yeah I'm still the same one all right let's not we're going to run out of time so",
    "start": "3348079",
    "end": "3354319"
  },
  {
    "text": "let's um let's kind of um look at what we can do",
    "start": "3354319",
    "end": "3360480"
  },
  {
    "text": "is we can kind of start digging into HTTP requests because I think um we can still look at HTTP requests with regard",
    "start": "3360480",
    "end": "3366880"
  },
  {
    "text": "of the the API service and we can start looking at some of those those",
    "start": "3366880",
    "end": "3372440"
  },
  {
    "text": "metrics so with that um let me just log in",
    "start": "3372440",
    "end": "3380079"
  },
  {
    "text": "here with that previously what we were kind of looking at is connection metrics now",
    "start": "3383920",
    "end": "3389760"
  },
  {
    "text": "the the thing is about connection metrics they are they are useful but they they don't really tell you what's",
    "start": "3389760",
    "end": "3395760"
  },
  {
    "text": "going on because in the instance that you're using connection pooling you have multiple requests which are using the",
    "start": "3395760",
    "end": "3402160"
  },
  {
    "text": "same connection a connection will also only tell you if a connection has succeeded or if a connection has failed",
    "start": "3402160",
    "end": "3408680"
  },
  {
    "text": "there is no knowledge around there of whether a request has succeeded or a",
    "start": "3408680",
    "end": "3414200"
  },
  {
    "text": "request is f failed and the the only way way that you can you can kind of do this",
    "start": "3414200",
    "end": "3420400"
  },
  {
    "text": "is by looking at a layer seven or an application Level protocol as a um as as",
    "start": "3420400",
    "end": "3427280"
  },
  {
    "text": "a metric and Envoy has the capability to do this so when we kind of looked",
    "start": "3427280",
    "end": "3433079"
  },
  {
    "text": "through and we said look we've got listeners and we've got listener filters and and things like that to be able to to configure and to",
    "start": "3433079",
    "end": "3441559"
  },
  {
    "text": "be able for Envoy to emit connection level sorry request level metric then we",
    "start": "3441559",
    "end": "3447160"
  },
  {
    "text": "need to use a a filter and generally the you know your service mesh is going to to do this for",
    "start": "3447160",
    "end": "3454400"
  },
  {
    "text": "you you're not going to have to actually make this configuration yourself but in",
    "start": "3454400",
    "end": "3459440"
  },
  {
    "text": "in terms of iso what you would do in order to be able to configure something as hddp is you use the the service",
    "start": "3459440",
    "end": "3466039"
  },
  {
    "text": "declaration and then you specify the app protocol or something else and if you're using console you use our sort of",
    "start": "3466039",
    "end": "3472599"
  },
  {
    "text": "configuration so the the API service has actually been been configured as",
    "start": "3472599",
    "end": "3480720"
  },
  {
    "text": "HTTP and what that will do is it creates",
    "start": "3480720",
    "end": "3486280"
  },
  {
    "text": "this configuration now I think it is useful to understand onvo internal",
    "start": "3486280",
    "end": "3494079"
  },
  {
    "text": "configuration that you can get from the the config dump because when you're starting to look at your metric and you",
    "start": "3494079",
    "end": "3499559"
  },
  {
    "text": "want to kind of understand which particular listener you should look at which um",
    "start": "3499559",
    "end": "3506039"
  },
  {
    "text": "what what is this metric what is this this label what does it kind of mean then the envoy configuration is actually",
    "start": "3506039",
    "end": "3511880"
  },
  {
    "text": "a good place to to kind of go and digging in and this is what what would have been configured inside of envoy so",
    "start": "3511880",
    "end": "3517680"
  },
  {
    "text": "we have an HTTP Connection Manager the uh the stat prefix there we",
    "start": "3517680",
    "end": "3524960"
  },
  {
    "text": "we're kind of on the public listener so that'll be some of the the labels and things like that that we're adding and",
    "start": "3524960",
    "end": "3530640"
  },
  {
    "text": "we don't have any sort of um root configuration than that other",
    "start": "3530640",
    "end": "3536079"
  },
  {
    "text": "than everything is going to go to the Local app so that's kind of the base level configuration but it means that",
    "start": "3536079",
    "end": "3542319"
  },
  {
    "text": "for every connection and EV that that's made to Envoy Envoy is going to go right I",
    "start": "3542319",
    "end": "3549559"
  },
  {
    "text": "know these connections are going to be HTTP so what it does internally is it",
    "start": "3549559",
    "end": "3555960"
  },
  {
    "text": "will decode the uh the data flowing over the connection decoding it into its HTTP",
    "start": "3555960",
    "end": "3564119"
  },
  {
    "text": "which it can then use to be able to Define metric because it can look at things like the the HTTP response codes",
    "start": "3564119",
    "end": "3569920"
  },
  {
    "text": "it can then look at the the payload and um the data sizes and things like that in order to be able to to report richer",
    "start": "3569920",
    "end": "3578079"
  },
  {
    "text": "richer information and again what we can do is we can look at Downstream requests so",
    "start": "3578079",
    "end": "3585960"
  },
  {
    "text": "we're going to look at Envoy listener HTTP Downstream R",
    "start": "3585960",
    "end": "3592200"
  },
  {
    "text": "RQ XX so what this convention again it's",
    "start": "3592200",
    "end": "3597280"
  },
  {
    "text": "the The Listener now you'll see that because we do have um HTTP metrics this",
    "start": "3597280",
    "end": "3603280"
  },
  {
    "text": "has the the uh HTP in the name and again we're looking at Downstream but this time instead of connections it's it's",
    "start": "3603280",
    "end": "3609880"
  },
  {
    "text": "request and what the the XX part of um of this is going to be is",
    "start": "3609880",
    "end": "3620280"
  },
  {
    "text": "the Response Code so when I run run that you can see that I've got well you know",
    "start": "3620280",
    "end": "3627079"
  },
  {
    "text": "a huge number number of Matrix in there and the thing is that different from",
    "start": "3627079",
    "end": "3633160"
  },
  {
    "text": "when you looked at the connection Matrix before connection was a gauge it's a snapshot of a point in",
    "start": "3633160",
    "end": "3639160"
  },
  {
    "text": "time request is actually a counter and because it's a counter what it will will",
    "start": "3639160",
    "end": "3646920"
  },
  {
    "text": "kind of show is the change over time which means that I can actually um run",
    "start": "3646920",
    "end": "3652680"
  },
  {
    "text": "some some functions to to be able to show requests per second and things like",
    "start": "3652680",
    "end": "3658000"
  },
  {
    "text": "that and we're going to we're going to look at how how you do that so the first thing the first thing",
    "start": "3658000",
    "end": "3664039"
  },
  {
    "text": "is what we're going to do is we're going to filter it so we want to use some of the filters we're going to use the",
    "start": "3664039",
    "end": "3669480"
  },
  {
    "text": "Connection Manager prefix again to use that tag to be able to get our our",
    "start": "3669480",
    "end": "3675240"
  },
  {
    "text": "public listener and we are going to specify our",
    "start": "3675240",
    "end": "3680720"
  },
  {
    "text": "service which is going to be our API service so if I go into",
    "start": "3680720",
    "end": "3688440"
  },
  {
    "text": "my box there and I filter",
    "start": "3688440",
    "end": "3694520"
  },
  {
    "text": "that then what we can see is that we've got a a graph there which is well it",
    "start": "3694520",
    "end": "3703599"
  },
  {
    "text": "it's uh it's kind of increasing over time but the the other thing that you will you'll kind of see around that is",
    "start": "3703599",
    "end": "3710200"
  },
  {
    "text": "it it's giving the the HTTP Response Code now because we've got that that um payment service which is haven't",
    "start": "3710200",
    "end": "3716520"
  },
  {
    "text": "deployed well every request in API is resulting in an error which is why we",
    "start": "3716520",
    "end": "3722480"
  },
  {
    "text": "have here if you look at the envoy Response Code class so for",
    "start": "3722480",
    "end": "3729599"
  },
  {
    "text": "every every HTTP Response Code well through through the classes so one",
    "start": "3729599",
    "end": "3735520"
  },
  {
    "text": "through five Envoy is going to add a label to the metric which means that you're going to get it have the ability",
    "start": "3735520",
    "end": "3741480"
  },
  {
    "text": "to have an individual series inside of of your dashboard and and this is in",
    "start": "3741480",
    "end": "3749200"
  },
  {
    "text": "itself not particularly sort of interesting because you don't want to know the number of requests as they're",
    "start": "3749200",
    "end": "3754839"
  },
  {
    "text": "increasing what we really want is how many requests per per second that we",
    "start": "3754839",
    "end": "3761640"
  },
  {
    "text": "have so in order to to to be able to kind of do that then you know what we",
    "start": "3761640",
    "end": "3767960"
  },
  {
    "text": "can we can kind of do is we can use some some functions so in the in the",
    "start": "3767960",
    "end": "3773359"
  },
  {
    "text": "connections um tutorial what we were going to show you is we were showing you how you can",
    "start": "3773359",
    "end": "3780079"
  },
  {
    "text": "use the premisus query sorry the the Prometheus function rate in order to be",
    "start": "3780079",
    "end": "3786839"
  },
  {
    "text": "able to convert that that counter into requests per second so let's add the",
    "start": "3786839",
    "end": "3794920"
  },
  {
    "text": "function rate I add rate Here",
    "start": "3794920",
    "end": "3801279"
  },
  {
    "text": "and Now what rate require Ires is basically a",
    "start": "3801279",
    "end": "3807640"
  },
  {
    "text": "um it's a bucket size so the the bucket size is is based on how often Prometheus",
    "start": "3807640",
    "end": "3816279"
  },
  {
    "text": "has scraped the metrix from your onvoy proxy so for example if if Prometheus is",
    "start": "3816279",
    "end": "3821400"
  },
  {
    "text": "sorry if Envoy is only getting scraped every 60 seconds then you can't have a resolution which is um which is greater",
    "start": "3821400",
    "end": "3828559"
  },
  {
    "text": "than 60 seconds because you only have the cardinality of your data of 60 Seconds",
    "start": "3828559",
    "end": "3834880"
  },
  {
    "text": "so you you specify the the kind of the bucket size to kind of see what you want the aggregation and therefore what the",
    "start": "3834880",
    "end": "3840680"
  },
  {
    "text": "kind of I suppose the the smoothing now grafana has implemented this this really",
    "start": "3840680",
    "end": "3848160"
  },
  {
    "text": "handy variable called rate interval and rate interval is not a",
    "start": "3848160",
    "end": "3853640"
  },
  {
    "text": "Prometheus a promql capability it is something which is specific to",
    "start": "3853640",
    "end": "3861279"
  },
  {
    "text": "grafana and what this this variable equates to is basically four times the",
    "start": "3861279",
    "end": "3866680"
  },
  {
    "text": "the sort of the minimum resolution so Graff will kind of figure out what the the scrape duration is it multiplies it",
    "start": "3866680",
    "end": "3873400"
  },
  {
    "text": "by four and that gives you in most instances a um a pretty good bucket",
    "start": "3873400",
    "end": "3884599"
  },
  {
    "text": "size uh why does this hate",
    "start": "3885599",
    "end": "3891520"
  },
  {
    "text": "me",
    "start": "3893160",
    "end": "3896160"
  },
  {
    "text": "does this just killed my",
    "start": "3902599",
    "end": "3905400"
  },
  {
    "text": "instance",
    "start": "3923079",
    "end": "3926079"
  },
  {
    "text": "there we go so now what we we can see here is the",
    "start": "3939160",
    "end": "3945119"
  },
  {
    "text": "requests per second because we've we've used that that um that rate it's it's",
    "start": "3945119",
    "end": "3951480"
  },
  {
    "text": "converted the counter into um requests over per second and if you",
    "start": "3951480",
    "end": "3958599"
  },
  {
    "text": "look at the the kind of the number of requests you're getting here it's it's around about 10 which is approximately",
    "start": "3958599",
    "end": "3965440"
  },
  {
    "text": "the same as the the connection pool that we were we were seeing seeing earlier um",
    "start": "3965440",
    "end": "3972720"
  },
  {
    "text": "it does seem to have actually is that restarted God",
    "start": "3972720",
    "end": "3978359"
  },
  {
    "text": "please oh my pods are all running that's good news for me so we we've got that",
    "start": "3981079",
    "end": "3988200"
  },
  {
    "text": "information so we can see requests per second now what you see here in the",
    "start": "3988200",
    "end": "3993400"
  },
  {
    "text": "yellow line is anything that resulted in the Response Code 200 what you see on",
    "start": "3993400",
    "end": "3999680"
  },
  {
    "text": "the red line is anything that resulted in a response code 500 or",
    "start": "3999680",
    "end": "4007279"
  },
  {
    "text": "5xx the the reason You' seen the five of xx's is because one of the payment service instances is is reporting errors",
    "start": "4007279",
    "end": "4015640"
  },
  {
    "text": "so you're going to get errors coming back so this is actually as expected what we can see here is also um",
    "start": "4015640",
    "end": "4024839"
  },
  {
    "text": "400s well it's it's a it's an an empty line entry so the the first thing that",
    "start": "4024839",
    "end": "4031640"
  },
  {
    "text": "we can kind of do is let's let's just take this and let's put it into our",
    "start": "4031640",
    "end": "4038039"
  },
  {
    "text": "dashboard and we'll look at how we can actually clean this up and create",
    "start": "4038039",
    "end": "4043440"
  },
  {
    "text": "something a little bit more",
    "start": "4043440",
    "end": "4046760"
  },
  {
    "text": "useful uh no I don't want to explore I want browse new",
    "start": "4052760",
    "end": "4059440"
  },
  {
    "text": "dashboard new",
    "start": "4059440",
    "end": "4062798"
  },
  {
    "text": "panel apply now we can see that there so now",
    "start": "4066200",
    "end": "4073119"
  },
  {
    "text": "what we can actually do in terms of the legend is we can we can use that information in the in the",
    "start": "4073119",
    "end": "4078839"
  },
  {
    "text": "legend and the the the information in the legend we can use here is you can see",
    "start": "4078839",
    "end": "4084480"
  },
  {
    "text": "that we're using Envoy Response Code class now that's one of the labels from",
    "start": "4084480",
    "end": "4089960"
  },
  {
    "text": "from that metric item so we can take that and we can actually use that in our",
    "start": "4089960",
    "end": "4096880"
  },
  {
    "text": "Legend Here and Now what this is going to show us is we're actually seeing now that we've got all of those those items",
    "start": "4096880",
    "end": "4105400"
  },
  {
    "text": "the series are are nicely nicely named based on based on the",
    "start": "4105400",
    "end": "4113000"
  },
  {
    "text": "um the the the metric label we can also change the the mode into table and we",
    "start": "4113000",
    "end": "4120838"
  },
  {
    "text": "can kind of enable some some various other bits and pieces on there so we can kind of see some um some details you'll",
    "start": "4120839",
    "end": "4128520"
  },
  {
    "text": "be able to see like the the averages and stuff like that and that's all all configurable from",
    "start": "4128520",
    "end": "4134359"
  },
  {
    "text": "from those chart options there on the right hand side now what we don't want",
    "start": "4134359",
    "end": "4139600"
  },
  {
    "text": "really is we don't really want to see these these kind of Legend items for 1X",
    "start": "4139600",
    "end": "4145120"
  },
  {
    "text": "and um 4X when when they don't you know they don't really exist it's just that",
    "start": "4145120",
    "end": "4150719"
  },
  {
    "text": "Envoy is reporting um a metric with a label which has a a zero count so what we can",
    "start": "4150719",
    "end": "4157640"
  },
  {
    "text": "actually do is we can just add uh a little sort of thing there",
    "start": "4157640",
    "end": "4164440"
  },
  {
    "text": "which saying where it's not equal to zero and what that will do is it just cleans up our our metrics there so we've",
    "start": "4164440",
    "end": "4174120"
  },
  {
    "text": "got that that information",
    "start": "4174279",
    "end": "4178798"
  },
  {
    "text": "there all right so I'm gonna as I said the the way that this was all set up",
    "start": "4184400",
    "end": "4190120"
  },
  {
    "text": "barring not having uh enough CPU is that um we we have the the sort of the",
    "start": "4190120",
    "end": "4197440"
  },
  {
    "text": "ability that you can kind of run through this uh as a self-paced self-paced workshop and what um what we're going to",
    "start": "4197440",
    "end": "4205280"
  },
  {
    "text": "kind of do is we'll we'll kind of just move on a little bit so we can get through some I can explain some more the the bits and",
    "start": "4205280",
    "end": "4211600"
  },
  {
    "text": "pieces one of the metrics which I think is really important and again like the the sort of the common things that you're looking at you're looking at",
    "start": "4211600",
    "end": "4217400"
  },
  {
    "text": "errors you're looking at retries you're looking at some of the the reliability patterns that you've configured inside",
    "start": "4217400",
    "end": "4222560"
  },
  {
    "text": "of envoy you want to look at latency you want to to kind of um do things like",
    "start": "4222560",
    "end": "4230520"
  },
  {
    "text": "that and it's it's really sort of a really important sort of metric to to",
    "start": "4230520",
    "end": "4235920"
  },
  {
    "text": "have I mean latencies I mean it tells you whether you your sort of application was within normal bounds it can tell you",
    "start": "4235920",
    "end": "4242320"
  },
  {
    "text": "whether you've had a regression in your deployment or importantly whether you have any sort of outliers and things",
    "start": "4242320",
    "end": "4248040"
  },
  {
    "text": "like that now there is a blue button on there which will basically dump the the sort",
    "start": "4248040",
    "end": "4254719"
  },
  {
    "text": "of uh the cluster dump and let's just let me just run that and I'll I'll show",
    "start": "4254719",
    "end": "4259920"
  },
  {
    "text": "you what's going on so what I'm doing here is I have just",
    "start": "4259920",
    "end": "4267840"
  },
  {
    "text": "run um it's basically coup C Al exac and all I'm doing is I'm I'm calling config",
    "start": "4267840",
    "end": "4276719"
  },
  {
    "text": "dump which is on onvo admin Port so envo admin port in our system is running on",
    "start": "4276760",
    "end": "4282560"
  },
  {
    "text": "19,000 um so I can call sorry um stats Prometheus to get the the raw",
    "start": "4282560",
    "end": "4288199"
  },
  {
    "text": "information and I'm just running a grap on that to just get the the time",
    "start": "4288199",
    "end": "4295360"
  },
  {
    "text": "bucket queries and if you look you you'll see that you're getting like a bunch of different metrics so for",
    "start": "4295360",
    "end": "4301520"
  },
  {
    "text": "example here we've got um 846 so the local cluster",
    "start": "4301520",
    "end": "4308719"
  },
  {
    "text": "API is 846 now what that means is what what on this is a hist gr so what Envoy",
    "start": "4308719",
    "end": "4314800"
  },
  {
    "text": "is doing is it's grouping requests into buckets based on their",
    "start": "4314800",
    "end": "4321520"
  },
  {
    "text": "their duration so in this instance it's less than or equal to half millisecond and then here we've got you know less",
    "start": "4321520",
    "end": "4328320"
  },
  {
    "text": "than than one millisec so the number of requests so anything 3,000 took less than 10 milliseconds and 25 and by using",
    "start": "4328320",
    "end": "4336719"
  },
  {
    "text": "this this sort of uh these histograms what we can actually do is we can we can",
    "start": "4336719",
    "end": "4342320"
  },
  {
    "text": "represent this kind of get the data out the bucket so we can look at the 50 percentile which is kind of the the",
    "start": "4342320",
    "end": "4348239"
  },
  {
    "text": "median or the sort of where the bulk of your your requests are kind of coming",
    "start": "4348239",
    "end": "4354520"
  },
  {
    "text": "into and then we want to look at the as I say the the outlier so we want to look at the the uh the 95 percentile maybe",
    "start": "4354520",
    "end": "4362080"
  },
  {
    "text": "the 99 percentile 90 percentile so let's let's just kind of",
    "start": "4362080",
    "end": "4367679"
  },
  {
    "text": "um go through and let's just put this into into a chart and we we'll have a",
    "start": "4367679",
    "end": "4373880"
  },
  {
    "text": "look at how we can use that that hisam",
    "start": "4373880",
    "end": "4380040"
  },
  {
    "text": "quantile function so the raw data well it looks",
    "start": "4380040",
    "end": "4385920"
  },
  {
    "text": "like this so what you're seeing is like 10 12 now this is",
    "start": "4385920",
    "end": "4393480"
  },
  {
    "text": "not the the duration this is not um milliseconds per second what this is is",
    "start": "4393480",
    "end": "4402280"
  },
  {
    "text": "at it is requests per second that took less",
    "start": "4402280",
    "end": "4410280"
  },
  {
    "text": "than uh where is the line item in there less than 50 milliseconds so it's it's",
    "start": "4410280",
    "end": "4415600"
  },
  {
    "text": "basically the histogram information reporting it like this is not particularly not particularly useful so",
    "start": "4415600",
    "end": "4422040"
  },
  {
    "text": "what we're going to do is we need to transform that into something more more",
    "start": "4422040",
    "end": "4427679"
  },
  {
    "text": "interesting now what um Prometheus has",
    "start": "4427679",
    "end": "4434080"
  },
  {
    "text": "is a uh oh yeah we can do this is it has a a query sorry a function",
    "start": "4434080",
    "end": "4442120"
  },
  {
    "text": "called histogram quantile and what histogram quantile does is it takes the",
    "start": "4442120",
    "end": "4447280"
  },
  {
    "text": "the histogram metric and it basically runs a bunch of maths on it put the the",
    "start": "4447280",
    "end": "4452320"
  },
  {
    "text": "metric back into into the buckets and it'll pull the the 50 percentile the",
    "start": "4452320",
    "end": "4459560"
  },
  {
    "text": "median and then it's reporting that as the the actual",
    "start": "4459560",
    "end": "4465040"
  },
  {
    "text": "duration so this here is actually 38.8",
    "start": "4465040",
    "end": "4471960"
  },
  {
    "text": "milliseconds as as a as a duration so now over the last five minutes you can see that you know within within reason",
    "start": "4471960",
    "end": "4479320"
  },
  {
    "text": "our application is fairly static it's it's kind of like going from a minimum of around oh cool um it's going from a",
    "start": "4479320",
    "end": "4486920"
  },
  {
    "text": "minimum here of like sort of 30 38.2 to",
    "start": "4486920",
    "end": "4491960"
  },
  {
    "text": "kind of a maximum up there around around 40 and um it's a it's a sort of a fairly",
    "start": "4491960",
    "end": "4497560"
  },
  {
    "text": "sort of consistent but what the the median doesn't really sort of show",
    "start": "4497560",
    "end": "4504480"
  },
  {
    "text": "you is it doesn't show you the outliers and the outliers are important so let's let's just put this",
    "start": "4504480",
    "end": "4511840"
  },
  {
    "text": "into our dashboard so I'm going to add a panel and what I want to do is I'm going",
    "start": "4511840",
    "end": "4519880"
  },
  {
    "text": "to paste in there we've got the 50",
    "start": "4519880",
    "end": "4527040"
  },
  {
    "text": "percentile and we're going to also report let's just do the 955",
    "start": "4527480",
    "end": "4534679"
  },
  {
    "text": "percentile so you can see when I when I kind of change this that the 95 percentile in in terms",
    "start": "4534679",
    "end": "4543719"
  },
  {
    "text": "of um my my application is is running around 90% so",
    "start": "4543719",
    "end": "4551080"
  },
  {
    "text": "5% of requests in my system system exceed 90",
    "start": "4551080",
    "end": "4556360"
  },
  {
    "text": "milliseconds which um which is great because now we can kind of start to see",
    "start": "4556360",
    "end": "4561480"
  },
  {
    "text": "the the the outliers so when you want to kind of looking at why you this information is useful is you want to be",
    "start": "4561480",
    "end": "4567679"
  },
  {
    "text": "looking at is there a really great difference so this I would actually say is fairly normal it's just normal",
    "start": "4567679",
    "end": "4574280"
  },
  {
    "text": "behavior but in in some instances what you you will kind of see is you might",
    "start": "4574280",
    "end": "4579800"
  },
  {
    "text": "see errors now you might look at your your latency latency could be fine but",
    "start": "4579800",
    "end": "4585120"
  },
  {
    "text": "you might be starting to see errors there may be a spike in in",
    "start": "4585120",
    "end": "4590320"
  },
  {
    "text": "latency now that that spike in latency could just be increased traffic could",
    "start": "4590320",
    "end": "4597400"
  },
  {
    "text": "just be the system in general is slowing down it can also be an outlier so if you",
    "start": "4597400",
    "end": "4603520"
  },
  {
    "text": "think about something like a database lock now a database lock which basically",
    "start": "4603520",
    "end": "4610440"
  },
  {
    "text": "slows down the requests for every single single individual in the system will pull up your",
    "start": "4610440",
    "end": "4617320"
  },
  {
    "text": "median but it's it's not a a median increase that's due to sort of across all of your requests it's a single",
    "start": "4617320",
    "end": "4623719"
  },
  {
    "text": "request right so then looking at sort of spikes like that is really important",
    "start": "4623719",
    "end": "4628760"
  },
  {
    "text": "when you start to do your performance tuning and when you're starting to look at your your sort of systems health so you you want to always be kind of",
    "start": "4628760",
    "end": "4636080"
  },
  {
    "text": "reporting as I say the probably the the the median which is useful for",
    "start": "4636080",
    "end": "4641120"
  },
  {
    "text": "for sort of day-to-day running and and your outliers um 90 percentile 95 maybe",
    "start": "4641120",
    "end": "4646679"
  },
  {
    "text": "99 percentile so now that's that's we've",
    "start": "4646679",
    "end": "4651760"
  },
  {
    "text": "got the ability to kind of see the the requests per second but also the the time it's taking for for each of those",
    "start": "4651760",
    "end": "4659520"
  },
  {
    "text": "those",
    "start": "4659520",
    "end": "4661840"
  },
  {
    "text": "requests yes uh yeah so that's a very good question so the the question there was um from the the 95 percentile is",
    "start": "4671560",
    "end": "4679320"
  },
  {
    "text": "there a way to determine if it's a specific pod that is that is causing that because you you know you might have",
    "start": "4679320",
    "end": "4685320"
  },
  {
    "text": "a a Noisy Neighbor on a machine or something along those lines and the what",
    "start": "4685320",
    "end": "4691199"
  },
  {
    "text": "we're actually showing here is we only have a single instance but if you look at uh you've got the the instance label",
    "start": "4691199",
    "end": "4698280"
  },
  {
    "text": "there you have the um the Pod label as",
    "start": "4698280",
    "end": "4704480"
  },
  {
    "text": "well oh yeah I keep forgetting about the laser pointer you've got the Pod label as well there so all of that information",
    "start": "4704480",
    "end": "4710840"
  },
  {
    "text": "you can use now ordinarily what what I tend to do is I don't I I generally sum",
    "start": "4710840",
    "end": "4716080"
  },
  {
    "text": "these so I group them together to look at a service as a whole as opposed to um",
    "start": "4716080",
    "end": "4722159"
  },
  {
    "text": "an individual service instance but to your point like when you find an outlier it is",
    "start": "4722159",
    "end": "4727960"
  },
  {
    "text": "actually possible that it's not across the board a problem it could be an individual instance and the the metrics",
    "start": "4727960",
    "end": "4735280"
  },
  {
    "text": "are all L to kind of be able to dig in there and do your do your",
    "start": "4735280",
    "end": "4740080"
  },
  {
    "text": "forensics yeah generally you kind of you know there's too much information can be overwhelming so you when you're using",
    "start": "4741239",
    "end": "4747719"
  },
  {
    "text": "your dashboards from a sort of a day-to-day basis you want to represent the the metric that give you enough",
    "start": "4747719",
    "end": "4754360"
  },
  {
    "text": "information to understand that something's wrong not necessarily that the specific of what is wrong because",
    "start": "4754360",
    "end": "4761400"
  },
  {
    "text": "you want to be able to take a quick glance of go is this okay is this not okay because you've always got the",
    "start": "4761400",
    "end": "4767719"
  },
  {
    "text": "ability to dig deeper and look at sort of other dashboards maybe more specific ones or or you can actually just go in",
    "start": "4767719",
    "end": "4773440"
  },
  {
    "text": "and and use the metric Explorer to kind of dig in to try and find the the root cause because if if you put too much",
    "start": "4773440",
    "end": "4780679"
  },
  {
    "text": "information on your dashboards it's just the signal noise you you can just look at it and you go well you know I don't I",
    "start": "4780679",
    "end": "4785960"
  },
  {
    "text": "don't really know if there's anything so it's it's better to kind of um say fix figure",
    "start": "4785960",
    "end": "4795080"
  },
  {
    "text": "that all right so grpc services so we we kind of said that you",
    "start": "4795159",
    "end": "4801199"
  },
  {
    "text": "know so GPC is HTTP in a sense well it's",
    "start": "4801199",
    "end": "4806520"
  },
  {
    "text": "http2 in a sense that the grpc requests are multiplexed over",
    "start": "4806520",
    "end": "4814360"
  },
  {
    "text": "HTTP um but you're not using htdp in terms of a restful sense so you you're",
    "start": "4814360",
    "end": "4820760"
  },
  {
    "text": "not really using your HTTP verb like you get your post um and you're certainly not using your uh HTTP response codes in",
    "start": "4820760",
    "end": "4830840"
  },
  {
    "text": "the same way so in order to to determine service problems and service traffic for",
    "start": "4830840",
    "end": "4836480"
  },
  {
    "text": "for JPC Based Services you've got to look at the very specific protocol and Envoy again has a has a",
    "start": "4836480",
    "end": "4843000"
  },
  {
    "text": "filter which is the um the grpc stats filter and what that will do is Envoy",
    "start": "4843000",
    "end": "4849639"
  },
  {
    "text": "will for every every request it will basically understand that this is a uh grpc method",
    "start": "4849639",
    "end": "4856360"
  },
  {
    "text": "call not a a plain HTTP request it will decode it it will pull",
    "start": "4856360",
    "end": "4863960"
  },
  {
    "text": "out the the service the method name and importantly the error code and it'll be",
    "start": "4863960",
    "end": "4871440"
  },
  {
    "text": "able to create an individual metric for that what um what it will",
    "start": "4871440",
    "end": "4877400"
  },
  {
    "text": "also do is it will attempt to kind of create some some",
    "start": "4877400",
    "end": "4883280"
  },
  {
    "text": "generic sort of uh metric that you you you would use as if it was an HTTP",
    "start": "4883280",
    "end": "4889040"
  },
  {
    "text": "request and um it does that by default you can disable that or your maybe your",
    "start": "4889040",
    "end": "4894239"
  },
  {
    "text": "service mesh will or won't it it depends but the beauty of looking at the grpc",
    "start": "4894239",
    "end": "4899800"
  },
  {
    "text": "specific metrics in Envoy is that you get method and service level information",
    "start": "4899800",
    "end": "4905199"
  },
  {
    "text": "which is you know you can you can see very granular if we we kind of look at um",
    "start": "4905199",
    "end": "4912159"
  },
  {
    "text": "some of those matric like some of the common matric there you you have um the basics method success and",
    "start": "4912159",
    "end": "4919280"
  },
  {
    "text": "failure um method total now success and failure like a a um GPC is basically you",
    "start": "4919280",
    "end": "4927600"
  },
  {
    "text": "get an error code of a zero which is a success anything which is not a zero is",
    "start": "4927600",
    "end": "4933239"
  },
  {
    "text": "classified as a failure now that could be a depends on how the service is being",
    "start": "4933239",
    "end": "4938840"
  },
  {
    "text": "implemented I've seen GPC Services which will return say an error code um to to",
    "start": "4938840",
    "end": "4945639"
  },
  {
    "text": "indicate that a an item doesn't exist or something like that so it's it's kind",
    "start": "4945639",
    "end": "4953000"
  },
  {
    "text": "of I think of somewhat use just to use kind of success and fail but what you do",
    "start": "4953679",
    "end": "4958920"
  },
  {
    "text": "also have is the ability to kind of look at more more granular requests and Envoy",
    "start": "4958920",
    "end": "4965560"
  },
  {
    "text": "is going to create metrics which are kind of rooted like this so we have Envoy cluster grp",
    "start": "4965560",
    "end": "4973400"
  },
  {
    "text": "the name of the grpc service of which an application may have multiple and then",
    "start": "4973400",
    "end": "4979679"
  },
  {
    "text": "the grpc method which is handle so if I let me just grab this and",
    "start": "4979679",
    "end": "4986719"
  },
  {
    "text": "let me paste this into the Gana Explorer",
    "start": "4986719",
    "end": "4995000"
  },
  {
    "text": "here and we will see that that you've got kind of a number of different matrics so we've got a number of matrics",
    "start": "4995120",
    "end": "5002239"
  },
  {
    "text": "then we've got zero so successful requests and failed requests which are",
    "start": "5002239",
    "end": "5009080"
  },
  {
    "text": "13 now the the Currency Service returns a grpc error code",
    "start": "5009080",
    "end": "5015880"
  },
  {
    "text": "13 on a failure so that's why we um we kind of see those two things but when",
    "start": "5015880",
    "end": "5023000"
  },
  {
    "text": "you look back and think about the the request metrics now what you were seeing with the request metrics was that you",
    "start": "5023000",
    "end": "5028480"
  },
  {
    "text": "had a label there was a a metric label which had the the specific error code",
    "start": "5028480",
    "end": "5036560"
  },
  {
    "text": "we're not getting that with the the grpc metrics so we we need to get a little",
    "start": "5036560",
    "end": "5042840"
  },
  {
    "text": "bit creative is probably the polite way of saying",
    "start": "5042840",
    "end": "5049040"
  },
  {
    "text": "hacky but um we can you know we can do quite a lot with with prom SQL so the",
    "start": "5049040",
    "end": "5054800"
  },
  {
    "text": "first thing that we can do with with prom SQL is that every metric can be referenced by it it's",
    "start": "5054800",
    "end": "5062840"
  },
  {
    "text": "actual metric name so Envoy cler fake service handle undor Z but you can also",
    "start": "5062840",
    "end": "5068560"
  },
  {
    "text": "use this kind of very generic way of addressing a metric which is you just use the brackets the the generic label",
    "start": "5068560",
    "end": "5075800"
  },
  {
    "text": "underscore undor name which is the matric name and then we can use a regular",
    "start": "5075800",
    "end": "5081040"
  },
  {
    "text": "expression so for example here if I run this what I get are",
    "start": "5081040",
    "end": "5088159"
  },
  {
    "text": "all of the um the fake service Handler",
    "start": "5088159",
    "end": "5093480"
  },
  {
    "text": "Matrix for all of the the sort of the different the different codes right so we can see all of the the zero codes we",
    "start": "5093480",
    "end": "5100280"
  },
  {
    "text": "can see all of the 13 codes and again we've got three instances of the payment",
    "start": "5100280",
    "end": "5106239"
  },
  {
    "text": "service calling two instances of currency so we we have an individual metric item for each",
    "start": "5106239",
    "end": "5111960"
  },
  {
    "text": "pod so first the next thing we want to do is we well we want to we want to be able to kind of report this and get that",
    "start": "5111960",
    "end": "5119719"
  },
  {
    "text": "error code as a label so what we can do is we can we can actually extract the",
    "start": "5119719",
    "end": "5125960"
  },
  {
    "text": "label so the to extract a label we can again use a a prom SQL query which is using label replace",
    "start": "5125960",
    "end": "5134560"
  },
  {
    "text": "and what label replace will allow us to do is it allows us to define a regular expression and say from this existing",
    "start": "5134560",
    "end": "5142480"
  },
  {
    "text": "label add a new label and it uses this syntax here so the metric that you want",
    "start": "5142480",
    "end": "5148239"
  },
  {
    "text": "to use the label name that you want to add the regular expression that is going to to match so this is",
    "start": "5148239",
    "end": "5156000"
  },
  {
    "text": "like the match group the label that we want to search for and a regular",
    "start": "5156000",
    "end": "5161199"
  },
  {
    "text": "expression which is a search um so you end up with with this so we have label",
    "start": "5161199",
    "end": "5167719"
  },
  {
    "text": "replace we're using that generic metric approach we're saying we want to create",
    "start": "5167719",
    "end": "5173760"
  },
  {
    "text": "a new label called code we want to use the match group one we want to use a",
    "start": "5173760",
    "end": "5179040"
  },
  {
    "text": "source label of name and then we have a regular expression here which is basically pulling out the the error code",
    "start": "5179040",
    "end": "5187320"
  },
  {
    "text": "and what I'm also doing is I'm going to wrap that in a",
    "start": "5187320",
    "end": "5193678"
  },
  {
    "text": "rate so that I'm actually getting the the number of of requests per second and",
    "start": "5195040",
    "end": "5202000"
  },
  {
    "text": "you can see now that we have the code okay now there's a there's a little kind",
    "start": "5202000",
    "end": "5208440"
  },
  {
    "text": "of little trick here and and I'll be 100% honest um I'm not entirely certain",
    "start": "5208440",
    "end": "5214199"
  },
  {
    "text": "how this works it seems to be some sort of uh Magic inside of prom SQL but by",
    "start": "5214199",
    "end": "5221080"
  },
  {
    "text": "adding what you basically have is the the Precision by adding an additional colon to your um duration what I'm",
    "start": "5221080",
    "end": "5228600"
  },
  {
    "text": "actually forcing um Prometheus to do is run a subquery so then label requ replace",
    "start": "5228600",
    "end": "5235440"
  },
  {
    "text": "Returns the the correct Vector that is needed to be able to use by",
    "start": "5235440",
    "end": "5240800"
  },
  {
    "text": "rate it's um an an interesting one so now what we",
    "start": "5240800",
    "end": "5248239"
  },
  {
    "text": "can do is we we we can either you know we don't necessarily want to look at these as um individual line items we can",
    "start": "5248239",
    "end": "5255600"
  },
  {
    "text": "group them together and to group them together it's it's just a simple matter of using the the sum query so I can wrap",
    "start": "5255600",
    "end": "5262760"
  },
  {
    "text": "all of that in a sum and then I can say bu and what I'm going to do is I'm going",
    "start": "5262760",
    "end": "5268560"
  },
  {
    "text": "to use code which is my the label that I've extracted extracted and now what we",
    "start": "5268560",
    "end": "5273719"
  },
  {
    "text": "can see is we've got a a nice clean chart which is showing us that approximately 9.7 require grpc method",
    "start": "5273719",
    "end": "5281119"
  },
  {
    "text": "calls per second resulted in a status okay or a code zero and 133 resulted sorry um",
    "start": "5281119",
    "end": "5291159"
  },
  {
    "text": "about half a request per second resulted in a status",
    "start": "5291159",
    "end": "5296239"
  },
  {
    "text": "code zero sorry 13 or an error so we we've got that um that",
    "start": "5296239",
    "end": "5303320"
  },
  {
    "text": "ability um we are look we're we're out of time but this this instruct lab will",
    "start": "5303320",
    "end": "5308520"
  },
  {
    "text": "will be available to to run through your own pace and it will have the correct number of CPU so you're not going to have to deal with painful um payments",
    "start": "5308520",
    "end": "5316239"
  },
  {
    "text": "pods failing I apologize for that",
    "start": "5316239",
    "end": "5323560"
  },
  {
    "text": "um so it'll be uh we well we'll keep it up for like a couple of week a few weeks",
    "start": "5323560",
    "end": "5329280"
  },
  {
    "text": "don't worry about that it'll be fine you can actually also um I'll we'll put a link in the the description of the inct",
    "start": "5329280",
    "end": "5336560"
  },
  {
    "text": "but you can actually just download this lab and run it locally all you need is um is",
    "start": "5336560",
    "end": "5341880"
  },
  {
    "text": "Docker on your on your local machine so if you've got Docker and a little application called Shipyard you can spin",
    "start": "5341880",
    "end": "5349119"
  },
  {
    "text": "everything up locally including the documentation uh to to run through the lab on your on your local machine and",
    "start": "5349119",
    "end": "5355520"
  },
  {
    "text": "then you can of course play around with things and make some changes and and stuff like that and we'll we'll give you",
    "start": "5355520",
    "end": "5362480"
  },
  {
    "text": "the um the link here where you'll be able to download um that that from and I will",
    "start": "5362480",
    "end": "5369719"
  },
  {
    "text": "put a read me in there but it's um hashd Advocate onvoy",
    "start": "5369719",
    "end": "5375440"
  },
  {
    "text": "metric demystified and we'll put the instructions there so that you'll be able to run it um offline and on your",
    "start": "5375440",
    "end": "5382719"
  },
  {
    "text": "local your local machine the only thing you need to remember is that on sketch shed shed.com",
    "start": "5382719",
    "end": "5389320"
  },
  {
    "text": "sketchy instruct no the oh yes wherever you find the schedule I'm guessing",
    "start": "5389320",
    "end": "5394400"
  },
  {
    "text": "that's shed uh we'll have the links in there easy for you to click either through the",
    "start": "5394400",
    "end": "5400880"
  },
  {
    "text": "um browser based environment or by just cloning it yourself and working through",
    "start": "5400880",
    "end": "5406119"
  },
  {
    "text": "it and for fun we also included a packer image that we use as a back end so if you want to have some fun with that go",
    "start": "5406119",
    "end": "5413239"
  },
  {
    "text": "ahead but the yeah we have um an additional um there's additional labs in",
    "start": "5413239",
    "end": "5418400"
  },
  {
    "text": "there as well we go into looking at how retries work and and we we kind of",
    "start": "5418400",
    "end": "5423560"
  },
  {
    "text": "glossed over some of the the connection level stuff but we we look at um things",
    "start": "5423560",
    "end": "5430440"
  },
  {
    "text": "around the sort of the say the the connection level stuff and and looking at how you can actually identify that",
    "start": "5430440",
    "end": "5436280"
  },
  {
    "text": "you're using connection pooling or you're not using connection pooling and",
    "start": "5436280",
    "end": "5441520"
  },
  {
    "text": "all of that information is in in that lab there so thank you thank you so much uh",
    "start": "5441520",
    "end": "5448920"
  },
  {
    "text": "for bearing with us lunchtime I hope you all have a a lovely",
    "start": "5448920",
    "end": "5455560"
  },
  {
    "text": "rest of your service meshon and a great um cubec con and if you've got any",
    "start": "5455560",
    "end": "5460960"
  },
  {
    "text": "questions you know just reach out to us and we're more than more than happy to to dig in just out of Interest which what what service meshes are you all",
    "start": "5460960",
    "end": "5467119"
  },
  {
    "text": "using predominantly SD your base yeah so it's the metrics are rooted it's",
    "start": "5467119",
    "end": "5473960"
  },
  {
    "text": "just Envoy like the the envoy documentation is really good you'll find we've got the links in here but this the",
    "start": "5473960",
    "end": "5480159"
  },
  {
    "text": "statistics for each of the different components Envoy will tell you what each statistic does and it goes into depth on",
    "start": "5480159",
    "end": "5487880"
  },
  {
    "text": "on on the varying things there are a lot of them and I think the key thing is learning and just kind of understanding",
    "start": "5487880",
    "end": "5493840"
  },
  {
    "text": "what the most important ones are and the kind of the high level because there is a a lot of stuff that goes very very",
    "start": "5493840",
    "end": "5500239"
  },
  {
    "text": "granular but might not be the sort of the day-to-day usage what we wanted to cover is kind of the stuff that we feel",
    "start": "5500239",
    "end": "5505360"
  },
  {
    "text": "is kind of you know dayto day which is connections request um packet sizes",
    "start": "5505360",
    "end": "5510960"
  },
  {
    "text": "durations GPC and um some of the",
    "start": "5510960",
    "end": "5515920"
  },
  {
    "text": "reliability thank you with that thank you and see you at the next",
    "start": "5516239",
    "end": "5523480"
  },
  {
    "text": "one",
    "start": "5523960",
    "end": "5526960"
  }
]