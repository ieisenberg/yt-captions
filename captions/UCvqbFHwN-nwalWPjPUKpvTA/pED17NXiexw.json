[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "hello everybody my name is Tom I'm not",
    "start": "319",
    "end": "3330"
  },
  {
    "text": "giving this talk I'm just introducing",
    "start": "3330",
    "end": "4710"
  },
  {
    "text": "them but first make sure you're in the",
    "start": "4710",
    "end": "6810"
  },
  {
    "text": "right room because there's been a swap",
    "start": "6810",
    "end": "7919"
  },
  {
    "text": "so if you were here for the day in the",
    "start": "7919",
    "end": "10290"
  },
  {
    "text": "life of a Cuban eTI's contributor that's",
    "start": "10290",
    "end": "12269"
  },
  {
    "text": "next door but the slides been up for 10",
    "start": "12269",
    "end": "14610"
  },
  {
    "text": "minutes now so hopefully you've got that",
    "start": "14610",
    "end": "15719"
  },
  {
    "text": "so I'm here to introduce David and",
    "start": "15719",
    "end": "17550"
  },
  {
    "text": "Stefan both from Red Hat I'm really",
    "start": "17550",
    "end": "20550"
  },
  {
    "text": "looking forward to this talk they asked",
    "start": "20550",
    "end": "22410"
  },
  {
    "text": "me to be on the program committee and",
    "start": "22410",
    "end": "23880"
  },
  {
    "text": "review a bunch of talks and the reason I",
    "start": "23880",
    "end": "25740"
  },
  {
    "text": "selected this one is I've had exactly",
    "start": "25740",
    "end": "27869"
  },
  {
    "text": "the problems that they're about to",
    "start": "27869",
    "end": "29490"
  },
  {
    "text": "describe and show hopefully the right",
    "start": "29490",
    "end": "31890"
  },
  {
    "text": "solution too so a round of applause",
    "start": "31890",
    "end": "33210"
  },
  {
    "text": "please",
    "start": "33210",
    "end": "34600"
  },
  {
    "text": "[Applause]",
    "start": "34600",
    "end": "38930"
  },
  {
    "text": "hi so I'm David and this is Stefan and",
    "start": "38930",
    "end": "43219"
  },
  {
    "text": "we're talking about how to manage a cube",
    "start": "43219",
    "end": "46559"
  },
  {
    "text": "API server and one of the ways that a",
    "start": "46559",
    "end": "49530"
  },
  {
    "text": "lot of people have tried to do it is by",
    "start": "49530",
    "end": "52020"
  },
  {
    "text": "running the platform on the platform we",
    "start": "52020",
    "end": "54989"
  },
  {
    "text": "are here today let's talk about how we",
    "start": "54989",
    "end": "57390"
  },
  {
    "text": "started our experiences from there how",
    "start": "57390",
    "end": "60570"
  },
  {
    "text": "we started a second time and where we",
    "start": "60570",
    "end": "63780"
  },
  {
    "text": "actually ended up so we started out with",
    "start": "63780",
    "end": "68220"
  },
  {
    "text": "these goals we want to be able to make",
    "start": "68220",
    "end": "71520"
  },
  {
    "text": "config changes we want to be able to do",
    "start": "71520",
    "end": "74100"
  },
  {
    "text": "upgrades and we want to be able to",
    "start": "74100",
    "end": "75869"
  },
  {
    "text": "handle certain all without having",
    "start": "75869",
    "end": "77670"
  },
  {
    "text": "hiccups on the cube API so we looked at",
    "start": "77670",
    "end": "81930"
  },
  {
    "start": "80000",
    "end": "171000"
  },
  {
    "text": "the existing technology was out there",
    "start": "81930",
    "end": "83130"
  },
  {
    "text": "boot cube existed it looked like a",
    "start": "83130",
    "end": "85759"
  },
  {
    "text": "really good idea they start out having a",
    "start": "85759",
    "end": "90060"
  },
  {
    "text": "set of static pods that they use for",
    "start": "90060",
    "end": "93090"
  },
  {
    "text": "bootstrapping in their cluster so you",
    "start": "93090",
    "end": "95009"
  },
  {
    "text": "have a static pod which is a pod that",
    "start": "95009",
    "end": "97320"
  },
  {
    "text": "runs on the cubelet without any other",
    "start": "97320",
    "end": "99869"
  },
  {
    "text": "resources being present no active cube",
    "start": "99869",
    "end": "101880"
  },
  {
    "text": "API server at all it runs effectively a",
    "start": "101880",
    "end": "104970"
  },
  {
    "text": "container for you and the container runs",
    "start": "104970",
    "end": "108630"
  },
  {
    "text": "whatever process you want so you start",
    "start": "108630",
    "end": "109950"
  },
  {
    "text": "out with a static pod for a cube API",
    "start": "109950",
    "end": "111360"
  },
  {
    "text": "server and you have one for a queue",
    "start": "111360",
    "end": "114090"
  },
  {
    "text": "controller manager and a scheduler and",
    "start": "114090",
    "end": "115799"
  },
  {
    "text": "from there you create real workload",
    "start": "115799",
    "end": "118829"
  },
  {
    "text": "resources so you create resources for",
    "start": "118829",
    "end": "121290"
  },
  {
    "text": "the QIO server as a daemon set for",
    "start": "121290",
    "end": "123630"
  },
  {
    "text": "instance and it rolls out using the",
    "start": "123630",
    "end": "125250"
  },
  {
    "text": "control plane that you have this works",
    "start": "125250",
    "end": "127500"
  },
  {
    "text": "very well it starts up it runs the pods",
    "start": "127500",
    "end": "131069"
  },
  {
    "text": "are roughly equivalent and",
    "start": "131069",
    "end": "133830"
  },
  {
    "text": "you then remove your static pods so you",
    "start": "133830",
    "end": "136500"
  },
  {
    "text": "started out you had your table set and",
    "start": "136500",
    "end": "138540"
  },
  {
    "text": "then you just pull the tablecloth out",
    "start": "138540",
    "end": "140130"
  },
  {
    "text": "everything stands up and keeps running",
    "start": "140130",
    "end": "141810"
  },
  {
    "text": "the idea is that you're gonna use the",
    "start": "141810",
    "end": "144150"
  },
  {
    "text": "workload resources we developed in Cube",
    "start": "144150",
    "end": "145800"
  },
  {
    "text": "to roll out your future changes so",
    "start": "145800",
    "end": "147960"
  },
  {
    "text": "you're gonna make a change to a daemon",
    "start": "147960",
    "end": "149910"
  },
  {
    "text": "set name and set rolls out onto all the",
    "start": "149910",
    "end": "151920"
  },
  {
    "text": "nodes nodes recycle and you have",
    "start": "151920",
    "end": "154710"
  },
  {
    "text": "upgraded and this this works pretty well",
    "start": "154710",
    "end": "159080"
  },
  {
    "text": "until you crash but cube thought of that",
    "start": "159080",
    "end": "162660"
  },
  {
    "text": "so we have a static pod check pointer",
    "start": "162660",
    "end": "165330"
  },
  {
    "text": "right so in case you crash there's gonna",
    "start": "165330",
    "end": "168240"
  },
  {
    "text": "be something for you to start back up",
    "start": "168240",
    "end": "169920"
  },
  {
    "text": "with",
    "start": "169920",
    "end": "171940"
  },
  {
    "start": "171000",
    "end": "485000"
  },
  {
    "text": "now static pod check pointer how does it",
    "start": "171940",
    "end": "174640"
  },
  {
    "text": "work",
    "start": "174640",
    "end": "175060"
  },
  {
    "text": "it looks at the config maps and the",
    "start": "175060",
    "end": "176560"
  },
  {
    "text": "secrets and the other resources you have",
    "start": "176560",
    "end": "178960"
  },
  {
    "text": "for your daemon set pod and creates",
    "start": "178960",
    "end": "182920"
  },
  {
    "text": "mirrors of those on disk you never",
    "start": "182920",
    "end": "185620"
  },
  {
    "text": "actually run them but you have a potty",
    "start": "185620",
    "end": "188500"
  },
  {
    "text": "animal that you think is gonna work when",
    "start": "188500",
    "end": "191140"
  },
  {
    "text": "you replay it right so the idea is that",
    "start": "191140",
    "end": "194740"
  },
  {
    "text": "everything goes down you find your",
    "start": "194740",
    "end": "196360"
  },
  {
    "text": "static pod yamo you start over again",
    "start": "196360",
    "end": "198430"
  },
  {
    "text": "reboot strap repin it so one day I had a",
    "start": "198430",
    "end": "204640"
  },
  {
    "text": "bad day we were working on this project",
    "start": "204640",
    "end": "207670"
  },
  {
    "text": "I had my three nodes 3q controller",
    "start": "207670",
    "end": "211060"
  },
  {
    "text": "managers they're all running happily and",
    "start": "211060",
    "end": "213190"
  },
  {
    "text": "if you know much about the cube",
    "start": "213190",
    "end": "215620"
  },
  {
    "text": "controller manager you have a health",
    "start": "215620",
    "end": "217060"
  },
  {
    "text": "check which you must pass or the qubit",
    "start": "217060",
    "end": "219460"
  },
  {
    "text": "will kill you and then you have a lease",
    "start": "219460",
    "end": "222720"
  },
  {
    "text": "the lease is what the cue controller",
    "start": "222720",
    "end": "226090"
  },
  {
    "text": "manager does to make sure only one is",
    "start": "226090",
    "end": "227650"
  },
  {
    "text": "running at a time and it's very",
    "start": "227650",
    "end": "229120"
  },
  {
    "text": "important",
    "start": "229120",
    "end": "229810"
  },
  {
    "text": "Bota means is that you actually have",
    "start": "229810",
    "end": "231120"
  },
  {
    "text": "idle processes running so you have three",
    "start": "231120",
    "end": "234580"
  },
  {
    "text": "nodes only one is doing work two are",
    "start": "234580",
    "end": "237100"
  },
  {
    "text": "just idling and waiting but they are",
    "start": "237100",
    "end": "238390"
  },
  {
    "text": "reporting healthy so I go to roll out",
    "start": "238390",
    "end": "240640"
  },
  {
    "text": "the next version I've made a change to",
    "start": "240640",
    "end": "242260"
  },
  {
    "text": "the cue controller manager and I start",
    "start": "242260",
    "end": "245230"
  },
  {
    "text": "rolling it out with my damn ascent and",
    "start": "245230",
    "end": "246459"
  },
  {
    "text": "things are going well right first odd",
    "start": "246459",
    "end": "249370"
  },
  {
    "text": "rolls out goes in the node says that",
    "start": "249370",
    "end": "251950"
  },
  {
    "text": "it's healthy doesn't acquire the lease",
    "start": "251950",
    "end": "253600"
  },
  {
    "text": "one of the old ones are still running it",
    "start": "253600",
    "end": "254920"
  },
  {
    "text": "Dayna set controls are still running I",
    "start": "254920",
    "end": "256989"
  },
  {
    "text": "get my second PI second pod comes up",
    "start": "256989",
    "end": "259570"
  },
  {
    "text": "fine reports healthy it also gets",
    "start": "259570",
    "end": "261850"
  },
  {
    "text": "checked wanted it doesn't have the lease",
    "start": "261850",
    "end": "264150"
  },
  {
    "text": "third one updates and now my very first",
    "start": "264150",
    "end": "268240"
  },
  {
    "text": "one that are rolled out acquires the",
    "start": "268240",
    "end": "269980"
  },
  {
    "text": "lease and oh oh my it dies it had a bug",
    "start": "269980",
    "end": "276160"
  },
  {
    "text": "where now doesn't matter what it was it",
    "start": "276160",
    "end": "278230"
  },
  {
    "text": "panicked and it died and at this point",
    "start": "278230",
    "end": "281310"
  },
  {
    "text": "the next lease gets acquired don't worry",
    "start": "281310",
    "end": "283510"
  },
  {
    "text": "I've got this and oh dear and we end up",
    "start": "283510",
    "end": "286930"
  },
  {
    "text": "in this state so I'm in this state and I",
    "start": "286930",
    "end": "290320"
  },
  {
    "text": "say oh that was bad well I'm just gonna",
    "start": "290320",
    "end": "291820"
  },
  {
    "text": "roll back so I roll back my demons that",
    "start": "291820",
    "end": "293950"
  },
  {
    "text": "change and nothing happens and being a",
    "start": "293950",
    "end": "298360"
  },
  {
    "text": "bit slow i sat there and I stared at it",
    "start": "298360",
    "end": "300010"
  },
  {
    "text": "for a while this is weird what has",
    "start": "300010",
    "end": "302050"
  },
  {
    "text": "happened and it turns out that without a",
    "start": "302050",
    "end": "304780"
  },
  {
    "text": "Damons that controller",
    "start": "304780",
    "end": "306029"
  },
  {
    "text": "the name said to put my diamond said",
    "start": "306029",
    "end": "307889"
  },
  {
    "text": "backed and it works so well so I go okay",
    "start": "307889",
    "end": "310409"
  },
  {
    "text": "don't worry I'm gonna go back to my",
    "start": "310409",
    "end": "311639"
  },
  {
    "text": "static pods and I go to my static pods",
    "start": "311639",
    "end": "313110"
  },
  {
    "text": "and they've all been checked pointed and",
    "start": "313110",
    "end": "315029"
  },
  {
    "text": "none of my static pods from and at this",
    "start": "315029",
    "end": "318749"
  },
  {
    "text": "point I I think my life and I come up",
    "start": "318749",
    "end": "322860"
  },
  {
    "text": "with an alternative right I decide the",
    "start": "322860",
    "end": "326219"
  },
  {
    "text": "solution to my problem is actually to",
    "start": "326219",
    "end": "328319"
  },
  {
    "text": "have static pods static pods that are",
    "start": "328319",
    "end": "330629"
  },
  {
    "text": "always running as static pods and this",
    "start": "330629",
    "end": "333330"
  },
  {
    "text": "lets me avoid a pivot I never have to",
    "start": "333330",
    "end": "335460"
  },
  {
    "text": "figure out how to go from a static pod",
    "start": "335460",
    "end": "337740"
  },
  {
    "text": "to a daemon set back to a static pod and",
    "start": "337740",
    "end": "340830"
  },
  {
    "text": "then how to restore it because that",
    "start": "340830",
    "end": "342599"
  },
  {
    "text": "process usually works but it's not",
    "start": "342599",
    "end": "345539"
  },
  {
    "text": "foolproof like I just found out then",
    "start": "345539",
    "end": "349309"
  },
  {
    "text": "using static pods you have your tolerant",
    "start": "349309",
    "end": "353789"
  },
  {
    "text": "to cube failures you don't have any",
    "start": "353789",
    "end": "354960"
  },
  {
    "text": "cyclical dependencies right so the main",
    "start": "354960",
    "end": "356729"
  },
  {
    "text": "point here is that when I experience",
    "start": "356729",
    "end": "359729"
  },
  {
    "text": "this problem in the future I don't have",
    "start": "359729",
    "end": "361949"
  },
  {
    "text": "to worry about my daemon set being up in",
    "start": "361949",
    "end": "364770"
  },
  {
    "text": "order to fix the daemon set for my cube",
    "start": "364770",
    "end": "367169"
  },
  {
    "text": "controller manager so how do we do it we",
    "start": "367169",
    "end": "370770"
  },
  {
    "text": "have an operator that manages static",
    "start": "370770",
    "end": "373800"
  },
  {
    "text": "pods for us and the way it does it is it",
    "start": "373800",
    "end": "377009"
  },
  {
    "text": "has this idea of a revision there is a",
    "start": "377009",
    "end": "378599"
  },
  {
    "text": "set of config maps and secrets and",
    "start": "378599",
    "end": "381719"
  },
  {
    "text": "they're an immutable set so what happens",
    "start": "381719",
    "end": "384779"
  },
  {
    "text": "is you have a live set you observe a",
    "start": "384779",
    "end": "386279"
  },
  {
    "text": "change you copy them over and make an",
    "start": "386279",
    "end": "387930"
  },
  {
    "text": "immutable set and we call that a",
    "start": "387930",
    "end": "389219"
  },
  {
    "text": "revision and then we have a cheat we",
    "start": "389219",
    "end": "393330"
  },
  {
    "text": "have an operator that runs and creates",
    "start": "393330",
    "end": "396479"
  },
  {
    "text": "an installer pod that's how we actually",
    "start": "396479",
    "end": "399029"
  },
  {
    "text": "get the files down on to the node that",
    "start": "399029",
    "end": "401039"
  },
  {
    "text": "we want and when we do that we create",
    "start": "401039",
    "end": "403649"
  },
  {
    "text": "this installer pod and we force it",
    "start": "403649",
    "end": "405719"
  },
  {
    "text": "directly as a pod explicitly labeled for",
    "start": "405719",
    "end": "408689"
  },
  {
    "text": "a given master what that means is that",
    "start": "408689",
    "end": "411059"
  },
  {
    "text": "we don't depend on the cube controller",
    "start": "411059",
    "end": "412289"
  },
  {
    "text": "manager and we don't depend on the cubes",
    "start": "412289",
    "end": "413849"
  },
  {
    "text": "scheduler so once the installer pod is",
    "start": "413849",
    "end": "416969"
  },
  {
    "text": "there it copies the secrets and config",
    "start": "416969",
    "end": "420089"
  },
  {
    "text": "maps down onto disk and then creates a",
    "start": "420089",
    "end": "422879"
  },
  {
    "text": "pod yamo and places it into the cubelets",
    "start": "422879",
    "end": "426569"
  },
  {
    "text": "manifest directory so the static pod",
    "start": "426569",
    "end": "428339"
  },
  {
    "text": "then starts to run before the operator",
    "start": "428339",
    "end": "431849"
  },
  {
    "text": "moves on to another node it makes sure",
    "start": "431849",
    "end": "433949"
  },
  {
    "text": "that you're healthy",
    "start": "433949",
    "end": "435540"
  },
  {
    "text": "so what then happens for the deployment",
    "start": "435540",
    "end": "439980"
  },
  {
    "text": "of doom what would happen in this",
    "start": "439980",
    "end": "441270"
  },
  {
    "text": "scenario everything would still get",
    "start": "441270",
    "end": "442950"
  },
  {
    "text": "updated all those pods would still crash",
    "start": "442950",
    "end": "446160"
  },
  {
    "text": "I would still end up with that has",
    "start": "446160",
    "end": "449460"
  },
  {
    "text": "everything crashing but because I have",
    "start": "449460",
    "end": "452640"
  },
  {
    "text": "this installer pod which is for",
    "start": "452640",
    "end": "454650"
  },
  {
    "text": "scheduled and because I have an operator",
    "start": "454650",
    "end": "456270"
  },
  {
    "text": "which is still running I can make a",
    "start": "456270",
    "end": "457890"
  },
  {
    "text": "change and deploy a new version and",
    "start": "457890",
    "end": "460190"
  },
  {
    "text": "recover my cube controller manager or in",
    "start": "460190",
    "end": "462840"
  },
  {
    "text": "place this is much easier for us to",
    "start": "462840",
    "end": "467910"
  },
  {
    "text": "manage over all the other property that",
    "start": "467910",
    "end": "469890"
  },
  {
    "text": "you get from this is that by carefully",
    "start": "469890",
    "end": "472470"
  },
  {
    "text": "naming your static pod resources you're",
    "start": "472470",
    "end": "474630"
  },
  {
    "text": "actually able to have the previous",
    "start": "474630",
    "end": "476580"
  },
  {
    "text": "revisions that works for you know 5 6 10",
    "start": "476580",
    "end": "480120"
  },
  {
    "text": "whatever you want number of successful",
    "start": "480120",
    "end": "482340"
  },
  {
    "text": "revisions located on the cube with that",
    "start": "482340",
    "end": "484530"
  },
  {
    "text": "you have this says the same thing in",
    "start": "484530",
    "end": "487590"
  },
  {
    "start": "485000",
    "end": "946000"
  },
  {
    "text": "words if you're following along at home",
    "start": "487590",
    "end": "488820"
  },
  {
    "text": "and here I believe it is that yeah so I",
    "start": "488820",
    "end": "492390"
  },
  {
    "text": "highlight our seam here without hiccups",
    "start": "492390",
    "end": "496200"
  },
  {
    "text": "so what does it mean to to 1.he gaps",
    "start": "496200",
    "end": "500220"
  },
  {
    "text": "without ever was for the user so the",
    "start": "500220",
    "end": "501690"
  },
  {
    "text": "user shouldn't notice that we hole out",
    "start": "501690",
    "end": "504120"
  },
  {
    "text": "in you have prohibition and so we sum",
    "start": "504120",
    "end": "506520"
  },
  {
    "text": "that up and clients don't get timidly",
    "start": "506520",
    "end": "508500"
  },
  {
    "text": "dropped so clients keep wanting the",
    "start": "508500",
    "end": "511740"
  },
  {
    "text": "requests getting answers they don't",
    "start": "511740",
    "end": "513390"
  },
  {
    "text": "notice at all that says a warning update",
    "start": "513390",
    "end": "515400"
  },
  {
    "text": "going on for example for a certain age",
    "start": "515400",
    "end": "517440"
  },
  {
    "text": "in Reverse you later",
    "start": "517440",
    "end": "518280"
  },
  {
    "text": "orphan population changes or upgrades",
    "start": "518280",
    "end": "521450"
  },
  {
    "text": "make sure you are not ready but healthy",
    "start": "521450",
    "end": "524640"
  },
  {
    "text": "I will show details in a second what",
    "start": "524640",
    "end": "526650"
  },
  {
    "text": "that means make sure that the load",
    "start": "526650",
    "end": "528810"
  },
  {
    "text": "balancers don't send traffic to the",
    "start": "528810",
    "end": "530940"
  },
  {
    "text": "supports which goes down and I",
    "start": "530940",
    "end": "533340"
  },
  {
    "text": "highlighted really here so this is not",
    "start": "533340",
    "end": "535170"
  },
  {
    "text": "so easy in real cloud environments where",
    "start": "535170",
    "end": "539010"
  },
  {
    "text": "as a spec of her low parents are",
    "start": "539010",
    "end": "540810"
  },
  {
    "text": "specifies 30 seconds but after 35",
    "start": "540810",
    "end": "543720"
  },
  {
    "text": "seconds sometimes you still get traffic",
    "start": "543720",
    "end": "545600"
  },
  {
    "text": "really make sure and adapt your timeouts",
    "start": "545600",
    "end": "548580"
  },
  {
    "text": "in a reasonable way and make sure that",
    "start": "548580",
    "end": "552930"
  },
  {
    "text": "the service networks everything is which",
    "start": "552930",
    "end": "554880"
  },
  {
    "text": "is in the cluster doesn't send traffic",
    "start": "554880",
    "end": "556650"
  },
  {
    "text": "so I I P table who it's from Tupac's you",
    "start": "556650",
    "end": "559290"
  },
  {
    "text": "should be up to date sounds easy",
    "start": "559290",
    "end": "561390"
  },
  {
    "text": "in reality it's not really that easy so",
    "start": "561390",
    "end": "563910"
  },
  {
    "text": "I put some some blocks everybody will",
    "start": "563910",
    "end": "566400"
  },
  {
    "text": "know",
    "start": "566400",
    "end": "567260"
  },
  {
    "text": "kinds of errors and those are excerpts",
    "start": "567260",
    "end": "569780"
  },
  {
    "text": "from our CI system so we wanted to abort",
    "start": "569780",
    "end": "572270"
  },
  {
    "text": "hiccups in CI doing tests once usually",
    "start": "572270",
    "end": "574520"
  },
  {
    "text": "and you see those those interlocks and",
    "start": "574520",
    "end": "578170"
  },
  {
    "text": "other teams get they don't like to see",
    "start": "578170",
    "end": "583730"
  },
  {
    "text": "those errors and when they as a",
    "start": "583730",
    "end": "585050"
  },
  {
    "text": "protection refuse they complain to us",
    "start": "585050",
    "end": "587440"
  },
  {
    "text": "what i doing why is the PI server not",
    "start": "587440",
    "end": "590780"
  },
  {
    "text": "very not answering my requests so the",
    "start": "590780",
    "end": "593570"
  },
  {
    "text": "first one is certainly something we have",
    "start": "593570",
    "end": "594980"
  },
  {
    "text": "to to fix to claim we don't have hiccups",
    "start": "594980",
    "end": "598130"
  },
  {
    "text": "the second one go away",
    "start": "598130",
    "end": "601070"
  },
  {
    "text": "everybody might have seen that already",
    "start": "601070",
    "end": "602600"
  },
  {
    "text": "it's an HTTP to put a coil message we",
    "start": "602600",
    "end": "605990"
  },
  {
    "text": "see but it's about watches so we have",
    "start": "605990",
    "end": "609170"
  },
  {
    "text": "stream watch here somewhere and the lock",
    "start": "609170",
    "end": "610550"
  },
  {
    "text": "switch is a good hint it's it's about",
    "start": "610550",
    "end": "612920"
  },
  {
    "text": "watches and watches can go down we have",
    "start": "612920",
    "end": "614990"
  },
  {
    "text": "code for there to cope with closed watch",
    "start": "614990",
    "end": "618290"
  },
  {
    "text": "this and restarts them it's not nice but",
    "start": "618290",
    "end": "622010"
  },
  {
    "text": "it happens and we can cope with it we",
    "start": "622010",
    "end": "624410"
  },
  {
    "text": "don't have to investigate anything the",
    "start": "624410",
    "end": "626690"
  },
  {
    "text": "second the third one is end of file so",
    "start": "626690",
    "end": "629060"
  },
  {
    "text": "there's a request going on it's not",
    "start": "629060",
    "end": "630890"
  },
  {
    "text": "really answered properly and in the",
    "start": "630890",
    "end": "633050"
  },
  {
    "text": "middle of the request connection goes",
    "start": "633050",
    "end": "635000"
  },
  {
    "text": "down something we don't want and I",
    "start": "635000",
    "end": "638300"
  },
  {
    "text": "highlighted here already",
    "start": "638300",
    "end": "640190"
  },
  {
    "text": "a term it's called long long running and",
    "start": "640190",
    "end": "642650"
  },
  {
    "text": "non long running or short running",
    "start": "642650",
    "end": "644150"
  },
  {
    "text": "requests the watch is by definition long",
    "start": "644150",
    "end": "647300"
  },
  {
    "text": "running so it's infinite if everything",
    "start": "647300",
    "end": "651530"
  },
  {
    "text": "goes well a post like in this short",
    "start": "651530",
    "end": "654860"
  },
  {
    "text": "example",
    "start": "654860",
    "end": "655640"
  },
  {
    "text": "yeah it's written post it's short",
    "start": "655640",
    "end": "657710"
  },
  {
    "text": "running so we expect an answer within at",
    "start": "657710",
    "end": "660110"
  },
  {
    "text": "most 60 seconds and the first one it's",
    "start": "660110",
    "end": "665000"
  },
  {
    "text": "also enter fire but again it's about",
    "start": "665000",
    "end": "666860"
  },
  {
    "text": "watch us so we don't care they go down",
    "start": "666860",
    "end": "669770"
  },
  {
    "text": "when an ApS over we terminate at the end",
    "start": "669770",
    "end": "672050"
  },
  {
    "text": "so this is completely normal",
    "start": "672050",
    "end": "673220"
  },
  {
    "text": "of course where nobody really knows know",
    "start": "673220",
    "end": "675770"
  },
  {
    "text": "which will host it's a network issue",
    "start": "675770",
    "end": "678280"
  },
  {
    "text": "probably not really related to",
    "start": "678280",
    "end": "681020"
  },
  {
    "text": "terminating cube API servers so we have",
    "start": "681020",
    "end": "684410"
  },
  {
    "text": "two cases we have to investigate here",
    "start": "684410",
    "end": "685910"
  },
  {
    "text": "and that's why we come to grace for",
    "start": "685910",
    "end": "688550"
  },
  {
    "text": "termination so for some time to prepare",
    "start": "688550",
    "end": "690680"
  },
  {
    "text": "our server we have this concept so we",
    "start": "690680",
    "end": "692060"
  },
  {
    "text": "can gracefully terminate and grace for",
    "start": "692060",
    "end": "694550"
  },
  {
    "text": "determinate means um yeah we have",
    "start": "694550",
    "end": "697970"
  },
  {
    "text": "requests going on so yes",
    "start": "697970",
    "end": "700360"
  },
  {
    "text": "the middle so from left to right at some",
    "start": "700360",
    "end": "703420"
  },
  {
    "text": "point we get a sick term from couplet we",
    "start": "703420",
    "end": "705970"
  },
  {
    "text": "are asked to terminate and there's a",
    "start": "705970",
    "end": "708250"
  },
  {
    "text": "request what's going on the blue line",
    "start": "708250",
    "end": "710019"
  },
  {
    "text": "and it goes up to the end to end the",
    "start": "710019",
    "end": "712450"
  },
  {
    "text": "termination really finishes it's fine",
    "start": "712450",
    "end": "714880"
  },
  {
    "text": "I should we bubble here so we accept",
    "start": "714880",
    "end": "716709"
  },
  {
    "text": "that all right",
    "start": "716709",
    "end": "718029"
  },
  {
    "text": "there's a list so I'm very early it",
    "start": "718029",
    "end": "720760"
  },
  {
    "text": "takes ages like 60 seconds after 60",
    "start": "720760",
    "end": "724180"
  },
  {
    "text": "seconds it's killed anyway so if a",
    "start": "724180",
    "end": "726399"
  },
  {
    "text": "request takes so long something is wrong",
    "start": "726399",
    "end": "728350"
  },
  {
    "text": "it's this under too much load we accept",
    "start": "728350",
    "end": "730899"
  },
  {
    "text": "that it's also file but here are short",
    "start": "730899",
    "end": "733390"
  },
  {
    "text": "running requests I could get from inside",
    "start": "733390",
    "end": "736000"
  },
  {
    "text": "Jocasta this green one and the second",
    "start": "736000",
    "end": "739959"
  },
  {
    "text": "one here it's from noble answer I'm",
    "start": "739959",
    "end": "741940"
  },
  {
    "text": "there answered until certain points when",
    "start": "741940",
    "end": "744160"
  },
  {
    "text": "you get ever saw those red bubbles the",
    "start": "744160",
    "end": "749500"
  },
  {
    "text": "critical time here is the yellow one so",
    "start": "749500",
    "end": "753850"
  },
  {
    "text": "we receive our signal the API server",
    "start": "753850",
    "end": "757060"
  },
  {
    "text": "removes itself from the endpoints it",
    "start": "757060",
    "end": "760660"
  },
  {
    "text": "doesn't have to wait for for the couplet",
    "start": "760660",
    "end": "762100"
  },
  {
    "text": "to do that or for example you are to do",
    "start": "762100",
    "end": "763899"
  },
  {
    "text": "that it does it automatically it's a",
    "start": "763899",
    "end": "765760"
  },
  {
    "text": "that's fine and it stops listening and",
    "start": "765760",
    "end": "768130"
  },
  {
    "text": "stop stopping listening means every",
    "start": "768130",
    "end": "770260"
  },
  {
    "text": "request which comes in now gets a",
    "start": "770260",
    "end": "771910"
  },
  {
    "text": "connection refused not so good because Q",
    "start": "771910",
    "end": "775959"
  },
  {
    "text": "proxy takes time to not Eve to realize",
    "start": "775959",
    "end": "778660"
  },
  {
    "text": "that external open answers need time to",
    "start": "778660",
    "end": "781269"
  },
  {
    "text": "realize that if this server goes down so",
    "start": "781269",
    "end": "783430"
  },
  {
    "text": "in this timeframe we get at worst we",
    "start": "783430",
    "end": "785649"
  },
  {
    "text": "don't want them so graceful termination",
    "start": "785649",
    "end": "787839"
  },
  {
    "text": "is not enough actually the first idea is",
    "start": "787839",
    "end": "791050"
  },
  {
    "text": "why do we stop listening so early let's",
    "start": "791050",
    "end": "793570"
  },
  {
    "text": "move that far to this place here far",
    "start": "793570",
    "end": "796959"
  },
  {
    "text": "after Q proxy and open answers noticed",
    "start": "796959",
    "end": "800519"
  },
  {
    "text": "yeah we can do that we cannot do it now",
    "start": "800519",
    "end": "803320"
  },
  {
    "text": "so Q API server doesn't allow it but we",
    "start": "803320",
    "end": "806740"
  },
  {
    "text": "added something called minimum shutdown",
    "start": "806740",
    "end": "809260"
  },
  {
    "text": "duration that was a quick fix it's not",
    "start": "809260",
    "end": "811149"
  },
  {
    "text": "much yet but it helps it delays",
    "start": "811149",
    "end": "815620"
  },
  {
    "text": "termination so repairs have a nose as a",
    "start": "815620",
    "end": "818949"
  },
  {
    "text": "signal I have to shut down but it keeps",
    "start": "818949",
    "end": "821709"
  },
  {
    "text": "running and answering everything was for",
    "start": "821709",
    "end": "823899"
  },
  {
    "text": "30 seconds for example so it takes out",
    "start": "823899",
    "end": "828370"
  },
  {
    "text": "the IP from the endpoint so the few",
    "start": "828370",
    "end": "830920"
  },
  {
    "text": "parts you be noticed and internal",
    "start": "830920",
    "end": "832870"
  },
  {
    "text": "cluster clients will",
    "start": "832870",
    "end": "834510"
  },
  {
    "text": "eventually was in those 30 seconds not",
    "start": "834510",
    "end": "837040"
  },
  {
    "text": "sent traffic's in traffic anymore",
    "start": "837040",
    "end": "839940"
  },
  {
    "text": "external appearances yeah you have to",
    "start": "839940",
    "end": "842200"
  },
  {
    "text": "tell them somehow more in a second what",
    "start": "842200",
    "end": "845350"
  },
  {
    "text": "this means and after 30 seconds",
    "start": "845350",
    "end": "847900"
  },
  {
    "text": "no traffic comes in anymore so you can",
    "start": "847900",
    "end": "850210"
  },
  {
    "text": "shut down and stop the the connection",
    "start": "850210",
    "end": "852550"
  },
  {
    "text": "not shut down actually",
    "start": "852550",
    "end": "854410"
  },
  {
    "text": "I'm grateful termination means that we",
    "start": "854410",
    "end": "856570"
  },
  {
    "text": "still possess all requests which are in",
    "start": "856570",
    "end": "859600"
  },
  {
    "text": "the stack so every request which went in",
    "start": "859600",
    "end": "861370"
  },
  {
    "text": "a cheapy server in in bowling still",
    "start": "861370",
    "end": "865180"
  },
  {
    "text": "possessed and when there's no what a no",
    "start": "865180",
    "end": "868480"
  },
  {
    "text": "request anymore in the pipe we really",
    "start": "868480",
    "end": "871780"
  },
  {
    "text": "terminate that's wasteful chatter and if",
    "start": "871780",
    "end": "874810"
  },
  {
    "text": "you do that thus creating a face here",
    "start": "874810",
    "end": "876610"
  },
  {
    "text": "becomes great so it's not critical",
    "start": "876610",
    "end": "878440"
  },
  {
    "text": "anymore",
    "start": "878440",
    "end": "879790"
  },
  {
    "text": "we stopped listening after our system",
    "start": "879790",
    "end": "882820"
  },
  {
    "text": "around has adapted I'm just one point",
    "start": "882820",
    "end": "885910"
  },
  {
    "text": "missing how does it open answer I really",
    "start": "885910",
    "end": "887680"
  },
  {
    "text": "know about that first idea",
    "start": "887680",
    "end": "890320"
  },
  {
    "text": "we have held C's or the health check",
    "start": "890320",
    "end": "891970"
  },
  {
    "text": "endpoint helps means couplet will fill",
    "start": "891970",
    "end": "895900"
  },
  {
    "text": "us if it's everything so we cannot",
    "start": "895900",
    "end": "898780"
  },
  {
    "text": "really send anything else and 200",
    "start": "898780",
    "end": "901440"
  },
  {
    "text": "otherwise we are killed earlier so we",
    "start": "901440",
    "end": "904300"
  },
  {
    "text": "need something else and there's",
    "start": "904300",
    "end": "905800"
  },
  {
    "text": "something yeah",
    "start": "905800",
    "end": "907390"
  },
  {
    "text": "well known in other areas it's a second",
    "start": "907390",
    "end": "910540"
  },
  {
    "text": "endpoint for for hairiness read easy",
    "start": "910540",
    "end": "912720"
  },
  {
    "text": "again we don't have said today we might",
    "start": "912720",
    "end": "916420"
  },
  {
    "text": "want it because otherwise we cannot",
    "start": "916420",
    "end": "917920"
  },
  {
    "text": "implement something like that develop an",
    "start": "917920",
    "end": "920770"
  },
  {
    "text": "answer should listen on read easy and",
    "start": "920770",
    "end": "923190"
  },
  {
    "text": "this goes to an error code immediately",
    "start": "923190",
    "end": "927070"
  },
  {
    "text": "but API server is healthy and keeps",
    "start": "927070",
    "end": "929230"
  },
  {
    "text": "answering for 30 seconds but the local",
    "start": "929230",
    "end": "932170"
  },
  {
    "text": "answer has a chance to notice it and",
    "start": "932170",
    "end": "934930"
  },
  {
    "text": "adapt and then we can do brace for",
    "start": "934930",
    "end": "937420"
  },
  {
    "text": "termination and that way yeah we realize",
    "start": "937420",
    "end": "940780"
  },
  {
    "text": "just way box really for all situations",
    "start": "940780",
    "end": "946020"
  },
  {
    "start": "946000",
    "end": "974000"
  },
  {
    "text": "yeah so why do we do all that without",
    "start": "946320",
    "end": "949360"
  },
  {
    "text": "hiccup hiccups the same conviction jizz",
    "start": "949360",
    "end": "952720"
  },
  {
    "text": "upgrades it's clear for everybody and we",
    "start": "952720",
    "end": "956589"
  },
  {
    "text": "want to talk about search rotation a bit",
    "start": "956589",
    "end": "958180"
  },
  {
    "text": "more so we have this nice mechanism we",
    "start": "958180",
    "end": "960580"
  },
  {
    "text": "can hold out without any drop connection",
    "start": "960580",
    "end": "963000"
  },
  {
    "text": "let's use it and circulation is",
    "start": "963000",
    "end": "965440"
  },
  {
    "text": "something yeah",
    "start": "965440",
    "end": "966540"
  },
  {
    "text": "perfect for that so sir TRO tation",
    "start": "966540",
    "end": "970950"
  },
  {
    "text": "everyone loves cert rotation day I'm",
    "start": "970950",
    "end": "973770"
  },
  {
    "text": "sure none of us have ever had an issue",
    "start": "973770",
    "end": "976170"
  },
  {
    "text": "where I forgot to rotate those and oops",
    "start": "976170",
    "end": "980190"
  },
  {
    "text": "it's down for the whole company I was",
    "start": "980190",
    "end": "983910"
  },
  {
    "text": "gonna go ahead and start this section by",
    "start": "983910",
    "end": "986450"
  },
  {
    "text": "looking at the flags that were available",
    "start": "986450",
    "end": "989610"
  },
  {
    "text": "and so I I pulled them up and with a",
    "start": "989610",
    "end": "994350"
  },
  {
    "text": "little description they they don't fit",
    "start": "994350",
    "end": "996240"
  },
  {
    "text": "so well and that is that is actually the",
    "start": "996240",
    "end": "999060"
  },
  {
    "text": "smallest font Google slides will allow",
    "start": "999060",
    "end": "1001460"
  },
  {
    "text": "you to use and they still don't fit so",
    "start": "1001460",
    "end": "1005720"
  },
  {
    "text": "so rather than starting there we will",
    "start": "1005720",
    "end": "1009410"
  },
  {
    "text": "talk about the how individual chains are",
    "start": "1009410",
    "end": "1013160"
  },
  {
    "text": "managed",
    "start": "1013160",
    "end": "1013640"
  },
  {
    "text": "so kubernetes has a lot of chains lots",
    "start": "1013640",
    "end": "1015500"
  },
  {
    "text": "of flags and it's not always obvious why",
    "start": "1015500",
    "end": "1019340"
  },
  {
    "text": "we have and what you see here is a",
    "start": "1019340",
    "end": "1022610"
  },
  {
    "text": "mutual TLS connection and what that",
    "start": "1022610",
    "end": "1024740"
  },
  {
    "text": "means is that the server verifies the",
    "start": "1024740",
    "end": "1027770"
  },
  {
    "text": "client and the client verifies the",
    "start": "1027770",
    "end": "1029959"
  },
  {
    "text": "server and I'm gonna very briefly go",
    "start": "1029960",
    "end": "1032329"
  },
  {
    "text": "through how that works so a client has a",
    "start": "1032330",
    "end": "1036470"
  },
  {
    "text": "cert and a key and he uses that to",
    "start": "1036470",
    "end": "1038810"
  },
  {
    "text": "identify himself to a server who has a",
    "start": "1038810",
    "end": "1041959"
  },
  {
    "text": "client see a bundle which he uses to",
    "start": "1041960",
    "end": "1043910"
  },
  {
    "text": "verify the clients identity server then",
    "start": "1043910",
    "end": "1046370"
  },
  {
    "text": "responds back with a serving certificate",
    "start": "1046370",
    "end": "1048680"
  },
  {
    "text": "certain key that the client has to be",
    "start": "1048680",
    "end": "1052730"
  },
  {
    "text": "able to trust using a server see a",
    "start": "1052730",
    "end": "1054350"
  },
  {
    "text": "bundle now what you'll note about that",
    "start": "1054350",
    "end": "1056120"
  },
  {
    "text": "is that if you make that into flags",
    "start": "1056120",
    "end": "1057680"
  },
  {
    "text": "that's a bunch of flag so you have to",
    "start": "1057680",
    "end": "1059480"
  },
  {
    "text": "get all these flags right and as you",
    "start": "1059480",
    "end": "1062480"
  },
  {
    "text": "rotate you have to be sure you get them",
    "start": "1062480",
    "end": "1064670"
  },
  {
    "text": "updated in the correct order so if we",
    "start": "1064670",
    "end": "1067580"
  },
  {
    "text": "look at a specific example one that",
    "start": "1067580",
    "end": "1069170"
  },
  {
    "text": "you're going to have to manage when",
    "start": "1069170",
    "end": "1070730"
  },
  {
    "text": "you're trying to manage your control",
    "start": "1070730",
    "end": "1071900"
  },
  {
    "text": "plan of static pods and manage the cert",
    "start": "1071900",
    "end": "1073910"
  },
  {
    "text": "rotation is the cube controller manager",
    "start": "1073910",
    "end": "1076190"
  },
  {
    "text": "speaking to the queue API server and all",
    "start": "1076190",
    "end": "1079220"
  },
  {
    "text": "these flags exist you have the cert key",
    "start": "1079220",
    "end": "1081920"
  },
  {
    "text": "for the client you have a CA bundle and",
    "start": "1081920",
    "end": "1084290"
  },
  {
    "text": "when you update you always have to",
    "start": "1084290",
    "end": "1086000"
  },
  {
    "text": "remember to update the C a bundle first",
    "start": "1086000",
    "end": "1087980"
  },
  {
    "text": "and you have to be able to orchestrate",
    "start": "1087980",
    "end": "1089420"
  },
  {
    "text": "the change so you have to handle the",
    "start": "1089420",
    "end": "1092360"
  },
  {
    "text": "fact that all the cube API servers have",
    "start": "1092360",
    "end": "1095180"
  },
  {
    "text": "to respect the new client sir before you",
    "start": "1095180",
    "end": "1098030"
  },
  {
    "text": "give it to the cube controller manager",
    "start": "1098030",
    "end": "1100160"
  },
  {
    "text": "if you accidentally get that wrong your",
    "start": "1100160",
    "end": "1102110"
  },
  {
    "text": "cue controller manager gets four oh ones",
    "start": "1102110",
    "end": "1103520"
  },
  {
    "text": "and think bad things happen right same",
    "start": "1103520",
    "end": "1106550"
  },
  {
    "text": "thing happens on the server see a bundle",
    "start": "1106550",
    "end": "1108170"
  },
  {
    "text": "side right you have to make sure that if",
    "start": "1108170",
    "end": "1110060"
  },
  {
    "text": "you're managing a set of internal sir",
    "start": "1110060",
    "end": "1111590"
  },
  {
    "text": "it's not the external one but a set of",
    "start": "1111590",
    "end": "1113330"
  },
  {
    "text": "internal service you need to make sure",
    "start": "1113330",
    "end": "1115550"
  },
  {
    "text": "that your clients have been updated to",
    "start": "1115550",
    "end": "1117350"
  },
  {
    "text": "respect the new one first so now that we",
    "start": "1117350",
    "end": "1122270"
  },
  {
    "text": "know all that in research that we have",
    "start": "1122270",
    "end": "1124160"
  },
  {
    "text": "and we repeat this chain I don't know",
    "start": "1124160",
    "end": "1125810"
  },
  {
    "text": "four or five times four different",
    "start": "1125810",
    "end": "1127160"
  },
  {
    "text": "components you also have to understand",
    "start": "1127160",
    "end": "1130010"
  },
  {
    "text": "the relationships so as you go to manage",
    "start": "1130010",
    "end": "1132260"
  },
  {
    "text": "a relationship you can't just change a",
    "start": "1132260",
    "end": "1133760"
  },
  {
    "text": "flag in a vacuum one of the really",
    "start": "1133760",
    "end": "1135860"
  },
  {
    "text": "common ones that you want to turn on",
    "start": "1135860",
    "end": "1137240"
  },
  {
    "text": "it's a best practice is rotating the",
    "start": "1137240",
    "end": "1139610"
  },
  {
    "text": "certificates for cubelets for the client",
    "start": "1139610",
    "end": "1142040"
  },
  {
    "text": "certificate that they use to connect to",
    "start": "1142040",
    "end": "1143420"
  },
  {
    "text": "the cube api server and for their",
    "start": "1143420",
    "end": "1145760"
  },
  {
    "text": "servant certificate of the queue API",
    "start": "1145760",
    "end": "1146990"
  },
  {
    "text": "server uses to trust the cue cubelet and",
    "start": "1146990",
    "end": "1150160"
  },
  {
    "text": "you'll do this for all sorts of reasons",
    "start": "1150160",
    "end": "1152230"
  },
  {
    "text": "but the part you have to get it right if",
    "start": "1152230",
    "end": "1156860"
  },
  {
    "text": "you start and you start by setting the",
    "start": "1156860",
    "end": "1159590"
  },
  {
    "text": "rotate flags on the cubelet because",
    "start": "1159590",
    "end": "1161750"
  },
  {
    "text": "that's the feature that I want you'll",
    "start": "1161750",
    "end": "1164030"
  },
  {
    "text": "start back up and you will have a",
    "start": "1164030",
    "end": "1165590"
  },
  {
    "text": "cubelet that crashes well it it starts",
    "start": "1165590",
    "end": "1168350"
  },
  {
    "text": "and it waits and then it crashes because",
    "start": "1168350",
    "end": "1170180"
  },
  {
    "text": "it can't make forward progress because",
    "start": "1170180",
    "end": "1172400"
  },
  {
    "text": "the controller manager that it expected",
    "start": "1172400",
    "end": "1174560"
  },
  {
    "text": "to sign it isn't signing so you then had",
    "start": "1174560",
    "end": "1177410"
  },
  {
    "text": "to know well I have to set this flag an",
    "start": "1177410",
    "end": "1179030"
  },
  {
    "text": "acute controller manager so you go ahead",
    "start": "1179030",
    "end": "1181040"
  },
  {
    "text": "and set the flag and a cue controller",
    "start": "1181040",
    "end": "1182240"
  },
  {
    "text": "manager you get a signed certificate",
    "start": "1182240",
    "end": "1184060"
  },
  {
    "text": "back to your cubelet you launch your",
    "start": "1184060",
    "end": "1187640"
  },
  {
    "text": "cubelets and you never get any pots not",
    "start": "1187640",
    "end": "1191540"
  },
  {
    "text": "a single pod goes to that cubelet you",
    "start": "1191540",
    "end": "1193340"
  },
  {
    "text": "look in the logs",
    "start": "1193340",
    "end": "1194060"
  },
  {
    "text": "the cubelet is filled with 401's because",
    "start": "1194060",
    "end": "1196490"
  },
  {
    "text": "you forgot to set a queue API server",
    "start": "1196490",
    "end": "1199070"
  },
  {
    "text": "client see a file so you now have to add",
    "start": "1199070",
    "end": "1201740"
  },
  {
    "text": "the correct certificate from your cube",
    "start": "1201740",
    "end": "1204950"
  },
  {
    "text": "controller manager to your cube API",
    "start": "1204950",
    "end": "1206780"
  },
  {
    "text": "server add it to the CA bundle so that",
    "start": "1206780",
    "end": "1209060"
  },
  {
    "text": "the couplet is recognized and at this",
    "start": "1209060",
    "end": "1210440"
  },
  {
    "text": "point you think hey I've got it's all",
    "start": "1210440",
    "end": "1211940"
  },
  {
    "text": "working it's great until you try to go",
    "start": "1211940",
    "end": "1215090"
  },
  {
    "text": "to pop rocks and though suddenly fail",
    "start": "1215090",
    "end": "1217240"
  },
  {
    "text": "pod logs are failing because he forgot",
    "start": "1217240",
    "end": "1219590"
  },
  {
    "text": "to set the last piece the cubelet",
    "start": "1219590",
    "end": "1222140"
  },
  {
    "text": "certificate authority the cube api",
    "start": "1222140",
    "end": "1224420"
  },
  {
    "text": "server validates connections verifies",
    "start": "1224420",
    "end": "1226460"
  },
  {
    "text": "connections to cubelets and if you",
    "start": "1226460",
    "end": "1228740"
  },
  {
    "text": "forget to set this flag to respect the",
    "start": "1228740",
    "end": "1230750"
  },
  {
    "text": "signer your cluster still won't work",
    "start": "1230750",
    "end": "1233010"
  },
  {
    "text": "so we're looking at all these flags",
    "start": "1233010",
    "end": "1234540"
  },
  {
    "text": "thirty-some-odd flags that have to get",
    "start": "1234540",
    "end": "1237240"
  },
  {
    "text": "set that all have to be coordinated and",
    "start": "1237240",
    "end": "1239669"
  },
  {
    "text": "this is why we look at it and say what",
    "start": "1239669",
    "end": "1241620"
  },
  {
    "text": "we're gonna have an operator manage this",
    "start": "1241620",
    "end": "1243000"
  },
  {
    "text": "because in the end you set all these",
    "start": "1243000",
    "end": "1245370"
  },
  {
    "text": "flags you have all these relationships",
    "start": "1245370",
    "end": "1246900"
  },
  {
    "text": "you had to make sure that the bundles",
    "start": "1246900",
    "end": "1248700"
  },
  {
    "text": "were set correctly and you orchestrated",
    "start": "1248700",
    "end": "1250110"
  },
  {
    "text": "the update so that you did everything in",
    "start": "1250110",
    "end": "1252210"
  },
  {
    "text": "the correct order and what are the",
    "start": "1252210",
    "end": "1255809"
  },
  {
    "text": "cluster admin care about he cared about",
    "start": "1255809",
    "end": "1257400"
  },
  {
    "text": "one thing he wanted to be able to bring",
    "start": "1257400",
    "end": "1259620"
  },
  {
    "text": "the one sir that he paid for that",
    "start": "1259620",
    "end": "1261840"
  },
  {
    "text": "assigned by let's encrypt whoever it was",
    "start": "1261840",
    "end": "1264600"
  },
  {
    "text": "so his QAPI server could actually be",
    "start": "1264600",
    "end": "1266790"
  },
  {
    "text": "trusted that's the one flag he wanted to",
    "start": "1266790",
    "end": "1268770"
  },
  {
    "text": "set and so we can take over management",
    "start": "1268770",
    "end": "1270990"
  },
  {
    "text": "of all the others and it makes it much",
    "start": "1270990",
    "end": "1275700"
  },
  {
    "text": "easier and safer to roll out changes",
    "start": "1275700",
    "end": "1278040"
  },
  {
    "text": "overall so where do we end up we managed",
    "start": "1278040",
    "end": "1282809"
  },
  {
    "text": "to create a flow that has a cube API",
    "start": "1282809",
    "end": "1287070"
  },
  {
    "text": "server or any other process managed by",
    "start": "1287070",
    "end": "1290309"
  },
  {
    "text": "static pods roll out there changes over",
    "start": "1290309",
    "end": "1294179"
  },
  {
    "text": "time changes to the configuration and to",
    "start": "1294179",
    "end": "1297929"
  },
  {
    "text": "the upgrades and to the cert rotation",
    "start": "1297929",
    "end": "1300410"
  },
  {
    "text": "all happen without dropping connections",
    "start": "1300410",
    "end": "1303210"
  },
  {
    "start": "1301000",
    "end": "1555000"
  },
  {
    "text": "on the floor and rolling out cleanly on",
    "start": "1303210",
    "end": "1307350"
  },
  {
    "text": "a self-hosted environment",
    "start": "1307350",
    "end": "1310700"
  },
  {
    "text": "any of that all right we will take",
    "start": "1310760",
    "end": "1314390"
  },
  {
    "text": "questions if you have them",
    "start": "1314390",
    "end": "1317110"
  },
  {
    "text": "thank you very much sorry if I go with",
    "start": "1322290",
    "end": "1324580"
  },
  {
    "text": "the first question",
    "start": "1324580",
    "end": "1325390"
  },
  {
    "text": "bring the microphone afterwards how do",
    "start": "1325390",
    "end": "1327190"
  },
  {
    "text": "you do the root of trust for the",
    "start": "1327190",
    "end": "1329140"
  },
  {
    "text": "operator",
    "start": "1329140",
    "end": "1331000"
  },
  {
    "text": "[Music]",
    "start": "1331000",
    "end": "1332310"
  },
  {
    "text": "so trust for the operator when the",
    "start": "1332310",
    "end": "1336450"
  },
  {
    "text": "operator comes up it runs as a regular",
    "start": "1336450",
    "end": "1340510"
  },
  {
    "text": "pod so you have static pods to launch",
    "start": "1340510",
    "end": "1342190"
  },
  {
    "text": "and then the static pod is equivalent to",
    "start": "1342190",
    "end": "1344080"
  },
  {
    "text": "the very first static pod you're going",
    "start": "1344080",
    "end": "1346180"
  },
  {
    "text": "to use but once you have that we have a",
    "start": "1346180",
    "end": "1350160"
  },
  {
    "text": "signer in the cluster that we can then",
    "start": "1350160",
    "end": "1353020"
  },
  {
    "text": "distribute to any other pod with the",
    "start": "1353020",
    "end": "1355210"
  },
  {
    "text": "service account see a bundle so the",
    "start": "1355210",
    "end": "1357490"
  },
  {
    "text": "operator trusts based on that and then",
    "start": "1357490",
    "end": "1359710"
  },
  {
    "text": "any additional trust the cluster admin",
    "start": "1359710",
    "end": "1361690"
  },
  {
    "text": "can choose to configure but they usually",
    "start": "1361690",
    "end": "1363340"
  },
  {
    "text": "don't have I just grabbed one quick",
    "start": "1363340",
    "end": "1366730"
  },
  {
    "text": "follow-up how do you then rotate that so",
    "start": "1366730",
    "end": "1370840"
  },
  {
    "text": "rotation for that piece happens the same",
    "start": "1370840",
    "end": "1372910"
  },
  {
    "text": "way so there's actually a signer located",
    "start": "1372910",
    "end": "1376420"
  },
  {
    "text": "you can drop a new signer in the secret",
    "start": "1376420",
    "end": "1378400"
  },
  {
    "text": "and then when the new signer is",
    "start": "1378400",
    "end": "1382810"
  },
  {
    "text": "available it will immediately get added",
    "start": "1382810",
    "end": "1384670"
  },
  {
    "text": "to the sea a bundle see a bundle then",
    "start": "1384670",
    "end": "1386530"
  },
  {
    "text": "ripple out across all the pods we then",
    "start": "1386530",
    "end": "1388750"
  },
  {
    "text": "sign the new serving certs serving cert",
    "start": "1388750",
    "end": "1391660"
  },
  {
    "text": "ripples out thank you it was question",
    "start": "1391660",
    "end": "1396810"
  },
  {
    "text": "Colin somebody's got to have a question",
    "start": "1398760",
    "end": "1400630"
  },
  {
    "text": "awesome thank you so I have I know that",
    "start": "1400630",
    "end": "1407110"
  },
  {
    "text": "it's good practice to have a different",
    "start": "1407110",
    "end": "1409690"
  },
  {
    "text": "certification authorities for example",
    "start": "1409690",
    "end": "1412000"
  },
  {
    "text": "etcd and for happy server so do you do",
    "start": "1412000",
    "end": "1415480"
  },
  {
    "text": "that and what's your recommendation yes",
    "start": "1415480",
    "end": "1418270"
  },
  {
    "text": "we do so once we figure out how we were",
    "start": "1418270",
    "end": "1420040"
  },
  {
    "text": "able to rotate one of those mutual TLS",
    "start": "1420040",
    "end": "1422640"
  },
  {
    "text": "pieces we were able to apply that same",
    "start": "1422640",
    "end": "1425830"
  },
  {
    "text": "practice to all the different ones so we",
    "start": "1425830",
    "end": "1428530"
  },
  {
    "text": "have we actually even have multiple",
    "start": "1428530",
    "end": "1430450"
  },
  {
    "text": "signers for clients and as well for",
    "start": "1430450",
    "end": "1433600"
  },
  {
    "text": "servers so every single chain of trust",
    "start": "1433600",
    "end": "1435700"
  },
  {
    "text": "that we have is distinct",
    "start": "1435700",
    "end": "1439019"
  },
  {
    "text": "you gotta make it run away to the back",
    "start": "1439390",
    "end": "1443530"
  },
  {
    "text": "sorry if I missed it but is that",
    "start": "1449200",
    "end": "1451910"
  },
  {
    "text": "operator open-source yes it is this is",
    "start": "1451910",
    "end": "1455720"
  },
  {
    "text": "an operator in the OpenShift org it's",
    "start": "1455720",
    "end": "1458419"
  },
  {
    "text": "the open shift cluster queue cluster",
    "start": "1458419",
    "end": "1461900"
  },
  {
    "text": "cube api server operator it's a mouthful",
    "start": "1461900",
    "end": "1464240"
  },
  {
    "text": "we have them for each of the control",
    "start": "1464240",
    "end": "1465950"
  },
  {
    "text": "plane components you can look at them",
    "start": "1465950",
    "end": "1468380"
  },
  {
    "text": "there you can use them if you wish they",
    "start": "1468380",
    "end": "1470179"
  },
  {
    "text": "all make use of the same library for",
    "start": "1470179",
    "end": "1472760"
  },
  {
    "text": "managing static pods right because we",
    "start": "1472760",
    "end": "1474620"
  },
  {
    "text": "had to manage multiple different static",
    "start": "1474620",
    "end": "1476330"
  },
  {
    "text": "pods we have a little library to develop",
    "start": "1476330",
    "end": "1478580"
  },
  {
    "text": "an operator that can do that and handle",
    "start": "1478580",
    "end": "1481039"
  },
  {
    "text": "the rollout that we showed at the",
    "start": "1481039",
    "end": "1482090"
  },
  {
    "text": "beginning right thanks and how far are",
    "start": "1482090",
    "end": "1487429"
  },
  {
    "text": "we in getting declarative configuration",
    "start": "1487429",
    "end": "1490039"
  },
  {
    "text": "to the components is itself all",
    "start": "1490039",
    "end": "1492289"
  },
  {
    "text": "themselves did you fix that problem with",
    "start": "1492289",
    "end": "1495559"
  },
  {
    "text": "the operator like can you manage the",
    "start": "1495559",
    "end": "1498350"
  },
  {
    "text": "operator in a declarative way or I still",
    "start": "1498350",
    "end": "1501230"
  },
  {
    "text": "just apply a flags for the API server",
    "start": "1501230",
    "end": "1504110"
  },
  {
    "text": "and controller manager itself what we do",
    "start": "1504110",
    "end": "1506179"
  },
  {
    "text": "we have a higher level configuration",
    "start": "1506179",
    "end": "1508690"
  },
  {
    "text": "which is then translate that into the",
    "start": "1508690",
    "end": "1511760"
  },
  {
    "text": "Flex or whatever the component takes so",
    "start": "1511760",
    "end": "1514640"
  },
  {
    "text": "we have a very high level operation for",
    "start": "1514640",
    "end": "1516679"
  },
  {
    "text": "that whereas there's not it's not a flag",
    "start": "1516679",
    "end": "1519169"
  },
  {
    "text": "level it's it's higher level we don't do",
    "start": "1519169",
    "end": "1521780"
  },
  {
    "text": "component context beyond what upstream",
    "start": "1521780",
    "end": "1525230"
  },
  {
    "text": "does so okay but you figure out a way to",
    "start": "1525230",
    "end": "1528799"
  },
  {
    "text": "do it",
    "start": "1528799",
    "end": "1529490"
  },
  {
    "text": "a higher level thing anyways yeah that's",
    "start": "1529490",
    "end": "1531950"
  },
  {
    "text": "a good starting point that I think",
    "start": "1531950",
    "end": "1533870"
  },
  {
    "text": "that's a subject for a different talk",
    "start": "1533870",
    "end": "1535100"
  },
  {
    "text": "but yes you do have to have someone",
    "start": "1535100",
    "end": "1538159"
  },
  {
    "text": "orchestrate",
    "start": "1538159",
    "end": "1540580"
  },
  {
    "text": "No awesome thank you very much big round",
    "start": "1548990",
    "end": "1552120"
  },
  {
    "text": "applause",
    "start": "1552120",
    "end": "1553410"
  },
  {
    "text": "[Applause]",
    "start": "1553410",
    "end": "1557369"
  }
]