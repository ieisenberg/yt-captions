[
  {
    "start": "0",
    "end": "42000"
  },
  {
    "text": "hello welcome what am i who what am i",
    "start": "0",
    "end": "5910"
  },
  {
    "text": "Who am I yes let's start with that so I",
    "start": "5910",
    "end": "8820"
  },
  {
    "text": "work at a company called weave works I",
    "start": "8820",
    "end": "11660"
  },
  {
    "text": "am a software engineer we run a system a",
    "start": "11660",
    "end": "18510"
  },
  {
    "text": "SAS system we've been running it on",
    "start": "18510",
    "end": "22380"
  },
  {
    "text": "kubernetes in production for two years",
    "start": "22380",
    "end": "24150"
  },
  {
    "text": "more than two years but my personal",
    "start": "24150",
    "end": "27599"
  },
  {
    "text": "thing is is making things go faster",
    "start": "27599",
    "end": "29460"
  },
  {
    "text": "optimisation it's like a video game to",
    "start": "29460",
    "end": "31650"
  },
  {
    "text": "me because because you can do it for",
    "start": "31650",
    "end": "34050"
  },
  {
    "text": "hours and hours and hours and there's a",
    "start": "34050",
    "end": "35280"
  },
  {
    "text": "score and in that sense so that's what",
    "start": "35280",
    "end": "39870"
  },
  {
    "text": "I'm going to talk about I I'm gonna talk",
    "start": "39870",
    "end": "44969"
  },
  {
    "text": "about a couple of CN CF projects",
    "start": "44969",
    "end": "49770"
  },
  {
    "text": "Prometheus and Yeager I'm going to talk",
    "start": "49770",
    "end": "53640"
  },
  {
    "text": "mostly about some kind of war stories",
    "start": "53640",
    "end": "55680"
  },
  {
    "text": "from my life at work but maybe some of",
    "start": "55680",
    "end": "59309"
  },
  {
    "text": "that information is useful to you in",
    "start": "59309",
    "end": "61320"
  },
  {
    "text": "your work so that's the idea there's",
    "start": "61320",
    "end": "65970"
  },
  {
    "text": "anyone in the wrong room",
    "start": "65970",
    "end": "67520"
  },
  {
    "text": "No okay let's get started",
    "start": "67520",
    "end": "71688"
  },
  {
    "text": "okay so who already knows Yeager uh-huh",
    "start": "73070",
    "end": "78420"
  },
  {
    "text": "maybe a third okay okay good who already",
    "start": "78420",
    "end": "81780"
  },
  {
    "text": "knows Prometheus most people cool good",
    "start": "81780",
    "end": "86159"
  },
  {
    "text": "and anyone already heard of my company",
    "start": "86159",
    "end": "90600"
  },
  {
    "text": "Oh quite a few",
    "start": "90600",
    "end": "92970"
  },
  {
    "text": "great nice to have you here so this is",
    "start": "92970",
    "end": "97560"
  },
  {
    "text": "where the story starts I I was sat there",
    "start": "97560",
    "end": "103670"
  },
  {
    "text": "looking at this on the screen and I got",
    "start": "103670",
    "end": "108869"
  },
  {
    "text": "bored and what I wanted to see was this",
    "start": "108869",
    "end": "112950"
  },
  {
    "text": "is dashboard this is the kind of stuff",
    "start": "112950",
    "end": "114659"
  },
  {
    "text": "we do with our we've cloud product I",
    "start": "114659",
    "end": "117420"
  },
  {
    "text": "wanted this to appear and it was too",
    "start": "117420",
    "end": "120600"
  },
  {
    "text": "slow so that's the that's the beginning",
    "start": "120600",
    "end": "124409"
  },
  {
    "text": "of the story the back end of that thing",
    "start": "124409",
    "end": "129810"
  },
  {
    "text": "is is an open source project called",
    "start": "129810",
    "end": "132030"
  },
  {
    "text": "weave cortex",
    "start": "132030",
    "end": "133680"
  },
  {
    "text": "it is a multi-tenant Prometheus because",
    "start": "133680",
    "end": "137280"
  },
  {
    "text": "we we run all the storage and back-end",
    "start": "137280",
    "end": "139859"
  },
  {
    "text": "servers and everything if you want to",
    "start": "139859",
    "end": "141719"
  },
  {
    "text": "use that you can sign up and so this is",
    "start": "141719",
    "end": "146969"
  },
  {
    "text": "just to indicate it's it's you know it's",
    "start": "146969",
    "end": "149189"
  },
  {
    "text": "it's kind of a bit more complicated than",
    "start": "149189",
    "end": "150719"
  },
  {
    "text": "that in real life but there's there's",
    "start": "150719",
    "end": "152760"
  },
  {
    "text": "multiple parts to it it's a distributed",
    "start": "152760",
    "end": "154620"
  },
  {
    "text": "system so it's quite a complicated Beast",
    "start": "154620",
    "end": "158549"
  },
  {
    "text": "to optimize what are the three most",
    "start": "158549",
    "end": "164280"
  },
  {
    "start": "161000",
    "end": "324000"
  },
  {
    "text": "important things in software",
    "start": "164280",
    "end": "165540"
  },
  {
    "text": "optimization I hear you ask I like to I",
    "start": "165540",
    "end": "168959"
  },
  {
    "text": "like to put this in I think it's really",
    "start": "168959",
    "end": "170519"
  },
  {
    "text": "important to get some kind of ground",
    "start": "170519",
    "end": "172439"
  },
  {
    "text": "rules so number one measure you must",
    "start": "172439",
    "end": "179819"
  },
  {
    "text": "measure before you act don't just start",
    "start": "179819",
    "end": "184260"
  },
  {
    "text": "changing things because you think it's",
    "start": "184260",
    "end": "186120"
  },
  {
    "text": "gonna make it go faster measure first",
    "start": "186120",
    "end": "189829"
  },
  {
    "text": "the next most important thing is measure",
    "start": "189829",
    "end": "195019"
  },
  {
    "text": "measure the real system you know don't",
    "start": "195019",
    "end": "198690"
  },
  {
    "text": "measure some tiny benchmark or a blog",
    "start": "198690",
    "end": "200760"
  },
  {
    "text": "post or you know measure the real system",
    "start": "200760",
    "end": "203909"
  },
  {
    "text": "really doing what it's doing and once",
    "start": "203909",
    "end": "206729"
  },
  {
    "text": "you have measured it then keep on",
    "start": "206729",
    "end": "208590"
  },
  {
    "text": "measuring it because you need to know",
    "start": "208590",
    "end": "211139"
  },
  {
    "text": "how it behaves after you've changed it",
    "start": "211139",
    "end": "213239"
  },
  {
    "text": "you need to know how it behaves over",
    "start": "213239",
    "end": "214500"
  },
  {
    "text": "time under different loads so measure",
    "start": "214500",
    "end": "217859"
  },
  {
    "text": "measure measure is one of my key",
    "start": "217859",
    "end": "220699"
  },
  {
    "text": "messages for optimization talk about",
    "start": "220699",
    "end": "226859"
  },
  {
    "text": "measuring a distributed system this is",
    "start": "226859",
    "end": "230939"
  },
  {
    "text": "where we're kind of getting back to the",
    "start": "230939",
    "end": "232519"
  },
  {
    "text": "projects I'm going to talk about so any",
    "start": "232519",
    "end": "237209"
  },
  {
    "text": "any system which has multiple parts",
    "start": "237209",
    "end": "239579"
  },
  {
    "text": "basically what we're going to need to do",
    "start": "239579",
    "end": "241259"
  },
  {
    "text": "is is get the information out of all of",
    "start": "241259",
    "end": "245849"
  },
  {
    "text": "them or as many as are involved in",
    "start": "245849",
    "end": "248489"
  },
  {
    "text": "whatever requests I'm interested in and",
    "start": "248489",
    "end": "250620"
  },
  {
    "text": "we're going to want to collect that",
    "start": "250620",
    "end": "252509"
  },
  {
    "text": "information in some central place",
    "start": "252509",
    "end": "255979"
  },
  {
    "text": "so that's the basic pattern prometheus",
    "start": "256930",
    "end": "262810"
  },
  {
    "text": "most of you put your hands up so I'll",
    "start": "262810",
    "end": "264490"
  },
  {
    "text": "just briefly explain it is a time-series",
    "start": "264490",
    "end": "268840"
  },
  {
    "text": "metrics system so time series meaning a",
    "start": "268840",
    "end": "272340"
  },
  {
    "text": "quantity that varies over time now you",
    "start": "272340",
    "end": "275350"
  },
  {
    "text": "might be measuring CPU utilization or",
    "start": "275350",
    "end": "277300"
  },
  {
    "text": "memory usage or things like that",
    "start": "277300",
    "end": "279580"
  },
  {
    "text": "Prometheus project ships a bunch of",
    "start": "279580",
    "end": "282039"
  },
  {
    "text": "exporters which are things that gather",
    "start": "282039",
    "end": "284169"
  },
  {
    "text": "the raw data and send them out as",
    "start": "284169",
    "end": "286360"
  },
  {
    "text": "metrics and but you should definitely",
    "start": "286360",
    "end": "289660"
  },
  {
    "text": "also have metrics from inside your",
    "start": "289660",
    "end": "292539"
  },
  {
    "text": "services and we we rec we talked about",
    "start": "292539",
    "end": "295600"
  },
  {
    "text": "the the read methodology request rate",
    "start": "295600",
    "end": "297970"
  },
  {
    "text": "error rate and delay or we usually call",
    "start": "297970",
    "end": "300370"
  },
  {
    "text": "it latency but it makes a crap mnemonic",
    "start": "300370",
    "end": "304539"
  },
  {
    "text": "so so we went with delay so in the it",
    "start": "304539",
    "end": "310150"
  },
  {
    "text": "just go back to that picture in the",
    "start": "310150",
    "end": "311470"
  },
  {
    "text": "Prometheus case the Prometheus server",
    "start": "311470",
    "end": "315520"
  },
  {
    "text": "sits there and it requests the metrics",
    "start": "315520",
    "end": "318520"
  },
  {
    "text": "from all those exporters and from all",
    "start": "318520",
    "end": "320020"
  },
  {
    "text": "the parts of your system and it collects",
    "start": "320020",
    "end": "321550"
  },
  {
    "text": "them on central place and you can query",
    "start": "321550",
    "end": "322900"
  },
  {
    "text": "it Jagr as a much nicer mascot and",
    "start": "322900",
    "end": "331229"
  },
  {
    "start": "324000",
    "end": "376000"
  },
  {
    "text": "that's important in my choice of",
    "start": "331229",
    "end": "333669"
  },
  {
    "text": "software so so so Jaeger is very much",
    "start": "333669",
    "end": "342400"
  },
  {
    "text": "what is my system really doing what is",
    "start": "342400",
    "end": "344289"
  },
  {
    "text": "it doing in much more detail what is",
    "start": "344289",
    "end": "346479"
  },
  {
    "text": "what is it doing as the flow of control",
    "start": "346479",
    "end": "349180"
  },
  {
    "text": "moves from one part of the code to",
    "start": "349180",
    "end": "351880"
  },
  {
    "text": "another as it moves from one component",
    "start": "351880",
    "end": "355599"
  },
  {
    "text": "one micro service to another that's what",
    "start": "355599",
    "end": "359889"
  },
  {
    "text": "what Jaeger is all about and again we're",
    "start": "359889",
    "end": "361900"
  },
  {
    "text": "going to want to to collect all of that",
    "start": "361900",
    "end": "364030"
  },
  {
    "text": "information from all the different parts",
    "start": "364030",
    "end": "365590"
  },
  {
    "text": "and bring it together so we can look at",
    "start": "365590",
    "end": "367360"
  },
  {
    "text": "it so that's a brief introduction we'll",
    "start": "367360",
    "end": "370630"
  },
  {
    "text": "get into the war stories and you'll see",
    "start": "370630",
    "end": "373630"
  },
  {
    "text": "those things in use so my first war",
    "start": "373630",
    "end": "378280"
  },
  {
    "start": "376000",
    "end": "664000"
  },
  {
    "text": "story is entitled the case of the",
    "start": "378280",
    "end": "380110"
  },
  {
    "text": "mysterious user service latency",
    "start": "380110",
    "end": "383909"
  },
  {
    "text": "so what is this about well I mean let me",
    "start": "384380",
    "end": "388740"
  },
  {
    "text": "start from what was I as the operator of",
    "start": "388740",
    "end": "394110"
  },
  {
    "text": "the system we don't have a separate ops",
    "start": "394110",
    "end": "397170"
  },
  {
    "text": "team the engineering team runs very lazy",
    "start": "397170",
    "end": "404040"
  },
  {
    "text": "as engineers and so we tend to automate",
    "start": "404040",
    "end": "407070"
  },
  {
    "text": "everything so so we have a bunch of",
    "start": "407070",
    "end": "409950"
  },
  {
    "text": "machinery running measuring things and",
    "start": "409950",
    "end": "412580"
  },
  {
    "text": "alerting when things go wrong and so so",
    "start": "412580",
    "end": "415230"
  },
  {
    "text": "this this is a this is a typical",
    "start": "415230",
    "end": "419030"
  },
  {
    "text": "dashboard that we might be looking at",
    "start": "419030",
    "end": "422750"
  },
  {
    "text": "and we look at",
    "start": "422750",
    "end": "426260"
  },
  {
    "text": "would be slower than this time",
    "start": "441590",
    "end": "445280"
  },
  {
    "text": "so take the 89th percentile the the",
    "start": "445280",
    "end": "450350"
  },
  {
    "text": "median the 50th percentile and and the",
    "start": "450350",
    "end": "452480"
  },
  {
    "text": "mean those are those are three measures",
    "start": "452480",
    "end": "454400"
  },
  {
    "text": "that you can compute well the first two",
    "start": "454400",
    "end": "457760"
  },
  {
    "text": "anyway with a with a prometheus feature",
    "start": "457760",
    "end": "459710"
  },
  {
    "text": "called a histogram which is very",
    "start": "459710",
    "end": "463220"
  },
  {
    "text": "powerful and that's so that's a very",
    "start": "463220",
    "end": "465320"
  },
  {
    "text": "typical kind of sre in today's",
    "start": "465320",
    "end": "467870"
  },
  {
    "text": "terminology metrics to look at because",
    "start": "467870",
    "end": "473330"
  },
  {
    "text": "it gives you an idea in this case the",
    "start": "473330",
    "end": "475930"
  },
  {
    "text": "the mean and the median are relatively",
    "start": "475930",
    "end": "479090"
  },
  {
    "text": "so sharp so quick that they don't really",
    "start": "479090",
    "end": "482240"
  },
  {
    "text": "show up above the zero line on the chart",
    "start": "482240",
    "end": "487240"
  },
  {
    "text": "but the",
    "start": "487240",
    "end": "490270"
  },
  {
    "text": "in the Prometheus syntax you tell it",
    "start": "545889",
    "end": "550249"
  },
  {
    "text": "what you want to summarize by so the",
    "start": "550249",
    "end": "553279"
  },
  {
    "text": "next thing I did was I I dug in well I",
    "start": "553279",
    "end": "556279"
  },
  {
    "text": "mean let me just draw your attention to",
    "start": "556279",
    "end": "557660"
  },
  {
    "text": "the fact that some of this is this is a",
    "start": "557660",
    "end": "559490"
  },
  {
    "text": "showing a chart over a couple of days",
    "start": "559490",
    "end": "561019"
  },
  {
    "text": "and some of the time it's running at 4",
    "start": "561019",
    "end": "563420"
  },
  {
    "text": "seconds and some of the time it's",
    "start": "563420",
    "end": "564619"
  },
  {
    "text": "running it like half a second so so you",
    "start": "564619",
    "end": "568999"
  },
  {
    "text": "might want to think you know what's",
    "start": "568999",
    "end": "570019"
  },
  {
    "text": "happening what's the difference between",
    "start": "570019",
    "end": "571100"
  },
  {
    "text": "those times who knows when I drilled in",
    "start": "571100",
    "end": "575679"
  },
  {
    "text": "I added this extra parameter to the",
    "start": "575679",
    "end": "580160"
  },
  {
    "text": "query route I can say route because I'm",
    "start": "580160",
    "end": "584089"
  },
  {
    "text": "in Europe in America I have to say route",
    "start": "584089",
    "end": "586429"
  },
  {
    "text": "and it gets me confused because I can't",
    "start": "586429",
    "end": "589069"
  },
  {
    "text": "translate all that quickly anyway",
    "start": "589069",
    "end": "592009"
  },
  {
    "text": "drilling so route is like where are we",
    "start": "592009",
    "end": "594709"
  },
  {
    "text": "sending the request internally and and",
    "start": "594709",
    "end": "599269"
  },
  {
    "text": "it becomes a very different picture it",
    "start": "599269",
    "end": "600829"
  },
  {
    "text": "actually it says that one request in",
    "start": "600829",
    "end": "605389"
  },
  {
    "text": "particular is actually pretty steady at",
    "start": "605389",
    "end": "608209"
  },
  {
    "text": "five seconds and and the rest of them",
    "start": "608209",
    "end": "611360"
  },
  {
    "text": "are kind of flapping about so this is an",
    "start": "611360",
    "end": "613160"
  },
  {
    "text": "illustration of how averages can confuse",
    "start": "613160",
    "end": "617629"
  },
  {
    "text": "or misdirect because we were taking the",
    "start": "617629",
    "end": "622309"
  },
  {
    "text": "average of everything one in a hundred",
    "start": "622309",
    "end": "624970"
  },
  {
    "text": "was sometimes at a certain level and",
    "start": "624970",
    "end": "627619"
  },
  {
    "text": "sometimes at another level and in fact",
    "start": "627619",
    "end": "631600"
  },
  {
    "text": "those differences were driven by how",
    "start": "631600",
    "end": "634910"
  },
  {
    "text": "many other requests were in the mix",
    "start": "634910",
    "end": "637179"
  },
  {
    "text": "because we're averaging them so so",
    "start": "637179",
    "end": "640009"
  },
  {
    "text": "definitely a tip there beware of",
    "start": "640009",
    "end": "642759"
  },
  {
    "text": "averages because they may be hiding",
    "start": "642759",
    "end": "645110"
  },
  {
    "text": "something important but Prometheus",
    "start": "645110",
    "end": "649399"
  },
  {
    "text": "fantastically powerful just slight edit",
    "start": "649399",
    "end": "652939"
  },
  {
    "text": "to that query we can drill in we can",
    "start": "652939",
    "end": "654889"
  },
  {
    "text": "find out what that is",
    "start": "654889",
    "end": "657009"
  },
  {
    "text": "and it turned out it was a particulars",
    "start": "657009",
    "end": "662179"
  },
  {
    "text": "hitting the database so I didn't have",
    "start": "662179",
    "end": "668499"
  },
  {
    "start": "664000",
    "end": "820000"
  },
  {
    "text": "detailed information on how we were",
    "start": "668499",
    "end": "670490"
  },
  {
    "text": "hitting the database so I needed to get",
    "start": "670490",
    "end": "673100"
  },
  {
    "text": "some detail on that I decided to use",
    "start": "673100",
    "end": "674569"
  },
  {
    "text": "Yaeger how does that look",
    "start": "674569",
    "end": "677699"
  },
  {
    "text": "I'm not going to go through that in",
    "start": "677699",
    "end": "679019"
  },
  {
    "text": "detail but but basically it's it's like",
    "start": "679019",
    "end": "681180"
  },
  {
    "text": "three four lines to kick this thing off",
    "start": "681180",
    "end": "684740"
  },
  {
    "text": "at the beginning this goes in your sort",
    "start": "684740",
    "end": "686879"
  },
  {
    "text": "of main program and and then one more",
    "start": "686879",
    "end": "691740"
  },
  {
    "text": "line to bring in a library to instrument",
    "start": "691740",
    "end": "694439"
  },
  {
    "text": "my sequel calls sorry there's a few",
    "start": "694439",
    "end": "698730"
  },
  {
    "text": "libraries out there I happen to pick",
    "start": "698730",
    "end": "700170"
  },
  {
    "text": "this one called expensive worlds don't",
    "start": "700170",
    "end": "703740"
  },
  {
    "text": "write it down until I get to the end of",
    "start": "703740",
    "end": "705120"
  },
  {
    "text": "the story",
    "start": "705120",
    "end": "706800"
  },
  {
    "text": "no ice skates good it's good so yeah so",
    "start": "706800",
    "end": "713759"
  },
  {
    "text": "now I've got Tracy so what does that",
    "start": "713759",
    "end": "715290"
  },
  {
    "text": "look like I mean let's let's tempt the",
    "start": "715290",
    "end": "718259"
  },
  {
    "text": "demo gods",
    "start": "718259",
    "end": "719180"
  },
  {
    "text": "there was a dashboard earlier this is",
    "start": "719180",
    "end": "722160"
  },
  {
    "text": "the the eager dude so you put in some",
    "start": "722160",
    "end": "725879"
  },
  {
    "text": "kind of this is the Jager screen you put",
    "start": "725879",
    "end": "727860"
  },
  {
    "text": "in some kind of thing that you want to",
    "start": "727860",
    "end": "729180"
  },
  {
    "text": "look at okay and and Jager goes and",
    "start": "729180",
    "end": "734610"
  },
  {
    "text": "finds all the information it's got on",
    "start": "734610",
    "end": "737399"
  },
  {
    "text": "what's been running and it's a little",
    "start": "737399",
    "end": "738629"
  },
  {
    "text": "kind of histogram some things are slower",
    "start": "738629",
    "end": "740189"
  },
  {
    "text": "than other things and you click on one",
    "start": "740189",
    "end": "742920"
  },
  {
    "text": "of those you drill Ian so let's go back",
    "start": "742920",
    "end": "744600"
  },
  {
    "text": "to my slides and it's not attempt to",
    "start": "744600",
    "end": "745980"
  },
  {
    "text": "demo gods anymore so what I could look",
    "start": "745980",
    "end": "751379"
  },
  {
    "text": "at now is is this kind of display they",
    "start": "751379",
    "end": "755730"
  },
  {
    "text": "just walk through this for those of you",
    "start": "755730",
    "end": "757410"
  },
  {
    "text": "but two-thirds of you did not raise your",
    "start": "757410",
    "end": "758759"
  },
  {
    "text": "hands but when I asked if you'd used",
    "start": "758759",
    "end": "760079"
  },
  {
    "text": "yogur so I'm going to tell you what it",
    "start": "760079",
    "end": "761610"
  },
  {
    "text": "all looks like on don't here on the left",
    "start": "761610",
    "end": "765720"
  },
  {
    "text": "we've got the kind of the call stack",
    "start": "765720",
    "end": "768209"
  },
  {
    "text": "this thing calls this thing calls this",
    "start": "768209",
    "end": "770220"
  },
  {
    "text": "thing and you know that this is the",
    "start": "770220",
    "end": "774000"
  },
  {
    "text": "details of our user authorization",
    "start": "774000",
    "end": "776519"
  },
  {
    "text": "service so you don't need to know",
    "start": "776519",
    "end": "779759"
  },
  {
    "text": "anything about that a point is because I",
    "start": "779759",
    "end": "783089"
  },
  {
    "text": "added that that sequel tracing I can",
    "start": "783089",
    "end": "785879"
  },
  {
    "text": "actually now see the the sequel query",
    "start": "785879",
    "end": "788250"
  },
  {
    "text": "that's being executed whatever arguments",
    "start": "788250",
    "end": "791189"
  },
  {
    "text": "anything like that and each point I get",
    "start": "791189",
    "end": "793230"
  },
  {
    "text": "the what's called the span the time span",
    "start": "793230",
    "end": "795569"
  },
  {
    "text": "the beginning and the end of each",
    "start": "795569",
    "end": "797790"
  },
  {
    "text": "operation so I can see that in however",
    "start": "797790",
    "end": "802800"
  },
  {
    "text": "much detail life instrumented my code",
    "start": "802800",
    "end": "804629"
  },
  {
    "text": "and that works across component so we",
    "start": "804629",
    "end": "807750"
  },
  {
    "text": "just we just trace everything and we get",
    "start": "807750",
    "end": "810280"
  },
  {
    "text": "we got all that detail out clear enough",
    "start": "810280",
    "end": "816960"
  },
  {
    "text": "so it turns out that wasn't enough",
    "start": "818430",
    "end": "824170"
  },
  {
    "text": "information to find the problem",
    "start": "824170",
    "end": "827310"
  },
  {
    "text": "sometimes life isn't like that it turns",
    "start": "827760",
    "end": "833050"
  },
  {
    "text": "out the actual problem which I just sort",
    "start": "833050",
    "end": "837700"
  },
  {
    "text": "of I just figured out well thinking",
    "start": "837700",
    "end": "841030"
  },
  {
    "text": "about what could possibly be going wrong",
    "start": "841030",
    "end": "842700"
  },
  {
    "text": "in this particular case the problem was",
    "start": "842700",
    "end": "845350"
  },
  {
    "text": "that we had accidentally disabled",
    "start": "845350",
    "end": "846610"
  },
  {
    "text": "connection pooling to the database and",
    "start": "846610",
    "end": "849240"
  },
  {
    "text": "and that the goal sequel library doesn't",
    "start": "849240",
    "end": "855340"
  },
  {
    "text": "have a hook to find out when it's",
    "start": "855340",
    "end": "857290"
  },
  {
    "text": "opening a new connection in the",
    "start": "857290",
    "end": "858490"
  },
  {
    "text": "connection pool so we were not getting",
    "start": "858490",
    "end": "860800"
  },
  {
    "text": "that traced so we were not getting it in",
    "start": "860800",
    "end": "862240"
  },
  {
    "text": "the detail so you know can't help that I",
    "start": "862240",
    "end": "866740"
  },
  {
    "text": "did fix it again a when I went back to",
    "start": "866740",
    "end": "870970"
  },
  {
    "text": "my chart because I have all the data",
    "start": "870970",
    "end": "872890"
  },
  {
    "text": "from whenever that was December the this",
    "start": "872890",
    "end": "879820"
  },
  {
    "text": "big average the the 99th percentile it's",
    "start": "879820",
    "end": "884770"
  },
  {
    "text": "sort of flattened out it got less spiky",
    "start": "884770",
    "end": "887550"
  },
  {
    "text": "but it's not that impressive so I'm",
    "start": "887550",
    "end": "890260"
  },
  {
    "text": "showing you the median instead which",
    "start": "890260",
    "end": "893050"
  },
  {
    "text": "came down from I don't know 22",
    "start": "893050",
    "end": "895300"
  },
  {
    "text": "milliseconds to four or something like",
    "start": "895300",
    "end": "897310"
  },
  {
    "text": "that so um so that's that's that story",
    "start": "897310",
    "end": "901450"
  },
  {
    "text": "you know it doesn't entirely have have",
    "start": "901450",
    "end": "903490"
  },
  {
    "text": "that neat narrative that I could just",
    "start": "903490",
    "end": "904960"
  },
  {
    "text": "point at the answer but it it was very",
    "start": "904960",
    "end": "907500"
  },
  {
    "text": "good at eliminating a lot of other",
    "start": "907500",
    "end": "912190"
  },
  {
    "text": "possible concerns for instance I could",
    "start": "912190",
    "end": "914140"
  },
  {
    "text": "see that the actual sequel queries were",
    "start": "914140",
    "end": "915730"
  },
  {
    "text": "pretty fast in every case and I had to",
    "start": "915730",
    "end": "920230"
  },
  {
    "text": "go hunting around and trying to figure",
    "start": "920230",
    "end": "921400"
  },
  {
    "text": "out what else could possibly be causing",
    "start": "921400",
    "end": "922870"
  },
  {
    "text": "my problem so that's that's war story",
    "start": "922870",
    "end": "926440"
  },
  {
    "text": "number one okay let's go back remember",
    "start": "926440",
    "end": "932320"
  },
  {
    "start": "929000",
    "end": "1089000"
  },
  {
    "text": "this this was at the beginning of my",
    "start": "932320",
    "end": "935170"
  },
  {
    "text": "talk so I had this on the screen and I",
    "start": "935170",
    "end": "940730"
  },
  {
    "text": "to show me a dashboard and I had all the",
    "start": "940730",
    "end": "943730"
  },
  {
    "text": "tracing so this is actually a this is",
    "start": "943730",
    "end": "947449"
  },
  {
    "text": "the screen grab I pasted into the github",
    "start": "947449",
    "end": "949820"
  },
  {
    "text": "issue so this is this is the actual",
    "start": "949820",
    "end": "954829"
  },
  {
    "text": "evidence that I had on hand at the time",
    "start": "954829",
    "end": "958389"
  },
  {
    "text": "for those slow queries and again the the",
    "start": "958389",
    "end": "962300"
  },
  {
    "text": "pattern is that it kind of it goes down",
    "start": "962300",
    "end": "965329"
  },
  {
    "text": "through the hierarchy of calls and it's",
    "start": "965329",
    "end": "967190"
  },
  {
    "text": "doing a bunch of different things this",
    "start": "967190",
    "end": "968750"
  },
  {
    "text": "is inside we've cortex which is the",
    "start": "968750",
    "end": "971690"
  },
  {
    "text": "multi-tenant Prometheus that I mentioned",
    "start": "971690",
    "end": "973610"
  },
  {
    "text": "so I want to draw your attention to a",
    "start": "973610",
    "end": "976550"
  },
  {
    "text": "couple of things that that I could see",
    "start": "976550",
    "end": "978920"
  },
  {
    "text": "on this screen",
    "start": "978920",
    "end": "981010"
  },
  {
    "text": "so zoom them in first thing is that that",
    "start": "981010",
    "end": "985910"
  },
  {
    "text": "that little exclamation mark there that",
    "start": "985910",
    "end": "989660"
  },
  {
    "text": "says that this operation errored so my",
    "start": "989660",
    "end": "994040"
  },
  {
    "text": "cache call was erroring and this was a",
    "start": "994040",
    "end": "997970"
  },
  {
    "text": "very large part of why it was too slow",
    "start": "997970",
    "end": "1000329"
  },
  {
    "text": "so that was immediately you know that's",
    "start": "1000329",
    "end": "1004269"
  },
  {
    "text": "the big picture it's immediately clear",
    "start": "1004269",
    "end": "1005440"
  },
  {
    "text": "just one of those operations errored and",
    "start": "1005440",
    "end": "1007449"
  },
  {
    "text": "that was really important and the other",
    "start": "1007449",
    "end": "1011260"
  },
  {
    "text": "thing I just zoomed in that bitmap the",
    "start": "1011260",
    "end": "1015370"
  },
  {
    "text": "other thing is this long diagonal line",
    "start": "1015370",
    "end": "1020519"
  },
  {
    "text": "long diagonal lines - to someone like me",
    "start": "1021569",
    "end": "1025000"
  },
  {
    "text": "that's been optimizing and using these",
    "start": "1025000",
    "end": "1026530"
  },
  {
    "text": "kind of tools for I don't know a decade",
    "start": "1026530",
    "end": "1029699"
  },
  {
    "text": "that says serialization that that says",
    "start": "1029699",
    "end": "1036520"
  },
  {
    "text": "those things are being executed one",
    "start": "1036520",
    "end": "1038500"
  },
  {
    "text": "after the other and it says to me as an",
    "start": "1038500",
    "end": "1043688"
  },
  {
    "text": "engineer why don't you parallel eyes it",
    "start": "1043689",
    "end": "1046319"
  },
  {
    "text": "can these things be executed in parallel",
    "start": "1046319",
    "end": "1050100"
  },
  {
    "text": "well yes they can so this is the trace",
    "start": "1050100",
    "end": "1054370"
  },
  {
    "text": "from a couple of weeks ago the all those",
    "start": "1054370",
    "end": "1060910"
  },
  {
    "text": "operations start in parallel the whole",
    "start": "1060910",
    "end": "1064090"
  },
  {
    "text": "thing is horizontally scalable they all",
    "start": "1064090",
    "end": "1066220"
  },
  {
    "text": "execute in parallel they all finish",
    "start": "1066220",
    "end": "1069059"
  },
  {
    "text": "enormously faster so",
    "start": "1069059",
    "end": "1074559"
  },
  {
    "text": "so that there you go there were two two",
    "start": "1074559",
    "end": "1076870"
  },
  {
    "text": "very important things in that one",
    "start": "1076870",
    "end": "1080340"
  },
  {
    "text": "screengrab of Jager that was showing me",
    "start": "1080340",
    "end": "1085888"
  },
  {
    "text": "so that's my war stories I just want to",
    "start": "1086759",
    "end": "1091659"
  },
  {
    "start": "1089000",
    "end": "1403000"
  },
  {
    "text": "kind of distill that down into what I",
    "start": "1091659",
    "end": "1095590"
  },
  {
    "text": "call the the patterns to look for and",
    "start": "1095590",
    "end": "1100049"
  },
  {
    "text": "made a list of them hopefully some help",
    "start": "1100049",
    "end": "1103330"
  },
  {
    "text": "to you if you're thinking about using",
    "start": "1103330",
    "end": "1105759"
  },
  {
    "text": "this technology so I made a list and",
    "start": "1105759",
    "end": "1111220"
  },
  {
    "text": "then I thought well actually I've got a",
    "start": "1111220",
    "end": "1112779"
  },
  {
    "text": "few I've got one at the very beginning",
    "start": "1112779",
    "end": "1114820"
  },
  {
    "text": "I'll call this pattern zero there's the",
    "start": "1114820",
    "end": "1118899"
  },
  {
    "text": "very most obvious thing if you've got a",
    "start": "1118899",
    "end": "1120580"
  },
  {
    "text": "bunch of these spans in a tool like",
    "start": "1120580",
    "end": "1122950"
  },
  {
    "text": "Jaeger look at the longest one so like",
    "start": "1122950",
    "end": "1126399"
  },
  {
    "text": "that's I don't want to get complicated",
    "start": "1126399",
    "end": "1129629"
  },
  {
    "text": "that's that's where you're going to get",
    "start": "1129629",
    "end": "1131830"
  },
  {
    "text": "the biggest bang for the buck if you",
    "start": "1131830",
    "end": "1133419"
  },
  {
    "text": "look for the longest one and then I",
    "start": "1133419",
    "end": "1136149"
  },
  {
    "text": "actually it's it's on this it's on this",
    "start": "1136149",
    "end": "1139389"
  },
  {
    "text": "picture when I was doing the slides I I",
    "start": "1139389",
    "end": "1142840"
  },
  {
    "text": "thought oh actually there's another",
    "start": "1142840",
    "end": "1145740"
  },
  {
    "text": "there's another kind of lesson hiding in",
    "start": "1145740",
    "end": "1148720"
  },
  {
    "text": "there which is this this whole region",
    "start": "1148720",
    "end": "1154029"
  },
  {
    "text": "that what happens is that you chose you",
    "start": "1154029",
    "end": "1155769"
  },
  {
    "text": "this bit kind of zoomed in and this bit",
    "start": "1155769",
    "end": "1157330"
  },
  {
    "text": "zoomed out this whole region over here",
    "start": "1157330",
    "end": "1161049"
  },
  {
    "text": "doesn't have any detail in it and so",
    "start": "1161049",
    "end": "1167590"
  },
  {
    "text": "that's my my second pattern zero if you",
    "start": "1167590",
    "end": "1172059"
  },
  {
    "text": "don't have any detail you need to go",
    "start": "1172059",
    "end": "1173289"
  },
  {
    "text": "back to the code and add some detail",
    "start": "1173289",
    "end": "1174909"
  },
  {
    "text": "because you have no idea what it's doing",
    "start": "1174909",
    "end": "1177279"
  },
  {
    "text": "in that gap and that is it's an",
    "start": "1177279",
    "end": "1182019"
  },
  {
    "text": "iterative process right you speed up one",
    "start": "1182019",
    "end": "1183669"
  },
  {
    "text": "bit and then that makes the another bit",
    "start": "1183669",
    "end": "1185259"
  },
  {
    "text": "the most important thing and then you go",
    "start": "1185259",
    "end": "1187450"
  },
  {
    "text": "around the loop so so yeah we need some",
    "start": "1187450",
    "end": "1190360"
  },
  {
    "text": "detail in in that gap next one that long",
    "start": "1190360",
    "end": "1196720"
  },
  {
    "text": "diagonal line that I spoke about now",
    "start": "1196720",
    "end": "1201190"
  },
  {
    "text": "sometimes you're running an algorithm",
    "start": "1201190",
    "end": "1202510"
  },
  {
    "text": "where one step depends on the step",
    "start": "1202510",
    "end": "1204820"
  },
  {
    "text": "before",
    "start": "1204820",
    "end": "1206420"
  },
  {
    "text": "in which case you can't just paralyze it",
    "start": "1206420",
    "end": "1209060"
  },
  {
    "text": "but in most cases you can parallel ice",
    "start": "1209060",
    "end": "1211760"
  },
  {
    "text": "it there's a whole scientific computing",
    "start": "1211760",
    "end": "1215180"
  },
  {
    "text": "world if people have been doing this for",
    "start": "1215180",
    "end": "1217100"
  },
  {
    "text": "many decades and rearranging the work",
    "start": "1217100",
    "end": "1222050"
  },
  {
    "text": "and so forth so that it can be done in",
    "start": "1222050",
    "end": "1226130"
  },
  {
    "text": "parallel and summarized at the end so",
    "start": "1226130",
    "end": "1229040"
  },
  {
    "text": "yeah very much trigger for me to go look",
    "start": "1229040",
    "end": "1232460"
  },
  {
    "text": "at parallelization that that long",
    "start": "1232460",
    "end": "1233810"
  },
  {
    "text": "diagonal line another interesting one if",
    "start": "1233810",
    "end": "1241190"
  },
  {
    "text": "I see a bunch of things exactly the same",
    "start": "1241190",
    "end": "1243290"
  },
  {
    "text": "length I think why why are they exactly",
    "start": "1243290",
    "end": "1248990"
  },
  {
    "text": "the same length like everything",
    "start": "1248990",
    "end": "1251540"
  },
  {
    "text": "everything in a in a concurrent dynamic",
    "start": "1251540",
    "end": "1254930"
  },
  {
    "text": "system everything's a little bit random",
    "start": "1254930",
    "end": "1256750"
  },
  {
    "text": "everything is running at once",
    "start": "1256750",
    "end": "1258440"
  },
  {
    "text": "everything's contending for resource",
    "start": "1258440",
    "end": "1260290"
  },
  {
    "text": "things kick off at different times why",
    "start": "1260290",
    "end": "1264350"
  },
  {
    "text": "am I seeing these things take exactly",
    "start": "1264350",
    "end": "1265880"
  },
  {
    "text": "the same time so I would the one that",
    "start": "1265880",
    "end": "1270380"
  },
  {
    "text": "actually triggered this in my mind was a",
    "start": "1270380",
    "end": "1273200"
  },
  {
    "text": "was a time out in fact the work was just",
    "start": "1273200",
    "end": "1275930"
  },
  {
    "text": "being curtailed at a particular time and",
    "start": "1275930",
    "end": "1278750"
  },
  {
    "text": "everything was being thrown away but it",
    "start": "1278750",
    "end": "1282080"
  },
  {
    "text": "could be some other reasons I mean",
    "start": "1282080",
    "end": "1283100"
  },
  {
    "text": "that's kind of suspicious like a bunch",
    "start": "1283100",
    "end": "1285110"
  },
  {
    "text": "of spans all exactly the same length",
    "start": "1285110",
    "end": "1286700"
  },
  {
    "text": "think about that and then a kind of a",
    "start": "1286700",
    "end": "1291410"
  },
  {
    "text": "variant of that one is when they're",
    "start": "1291410",
    "end": "1293540"
  },
  {
    "text": "they're all different lengths random",
    "start": "1293540",
    "end": "1295970"
  },
  {
    "text": "that's what we'd expect they're all",
    "start": "1295970",
    "end": "1298880"
  },
  {
    "text": "starting at different times that's",
    "start": "1298880",
    "end": "1300290"
  },
  {
    "text": "random that's what we'd expect but for",
    "start": "1300290",
    "end": "1302300"
  },
  {
    "text": "some reason they all finish at the same",
    "start": "1302300",
    "end": "1303650"
  },
  {
    "text": "time and again as someone who's been",
    "start": "1303650",
    "end": "1306980"
  },
  {
    "text": "looking into these problems for a long",
    "start": "1306980",
    "end": "1308540"
  },
  {
    "text": "time this is a this is a trigger to to",
    "start": "1308540",
    "end": "1313850"
  },
  {
    "text": "think about some kind of interlock you",
    "start": "1313850",
    "end": "1316310"
  },
  {
    "text": "know if this is hitting a traditional",
    "start": "1316310",
    "end": "1318260"
  },
  {
    "text": "database I think there's a transaction",
    "start": "1318260",
    "end": "1320600"
  },
  {
    "text": "holding up the long run or some kind of",
    "start": "1320600",
    "end": "1324260"
  },
  {
    "text": "multi thread lock or some kind of",
    "start": "1324260",
    "end": "1326000"
  },
  {
    "text": "resource that they're all contending on",
    "start": "1326000",
    "end": "1327650"
  },
  {
    "text": "or something like that so so what",
    "start": "1327650",
    "end": "1331190"
  },
  {
    "text": "happened at exactly that time that meant",
    "start": "1331190",
    "end": "1333590"
  },
  {
    "text": "that all these things were waiting for",
    "start": "1333590",
    "end": "1334970"
  },
  {
    "text": "it to happen and can we get rid of that",
    "start": "1334970",
    "end": "1337790"
  },
  {
    "text": "wait",
    "start": "1337790",
    "end": "1339950"
  },
  {
    "text": "because that's one of the things about",
    "start": "1339950",
    "end": "1341059"
  },
  {
    "text": "these spans is they they don't",
    "start": "1341059",
    "end": "1342500"
  },
  {
    "text": "necessarily tell you whether the thing",
    "start": "1342500",
    "end": "1344330"
  },
  {
    "text": "was busy all that time it just it took",
    "start": "1344330",
    "end": "1347389"
  },
  {
    "text": "that long that maybe it was just waiting",
    "start": "1347389",
    "end": "1350630"
  },
  {
    "text": "on someone else to do something so so",
    "start": "1350630",
    "end": "1355010"
  },
  {
    "text": "yeah that's that's another interesting",
    "start": "1355010",
    "end": "1356779"
  },
  {
    "text": "one too",
    "start": "1356779",
    "end": "1358370"
  },
  {
    "text": "so okay that's my tracing patterns",
    "start": "1358370",
    "end": "1363549"
  },
  {
    "text": "summarize measure measure measure that's",
    "start": "1363549",
    "end": "1368750"
  },
  {
    "text": "my big lesson from atheists and yoga a",
    "start": "1368750",
    "end": "1373039"
  },
  {
    "text": "great tool so I gave a kind of",
    "start": "1373039",
    "end": "1374000"
  },
  {
    "text": "Whistlestop tour I guess we'll have time",
    "start": "1374000",
    "end": "1376519"
  },
  {
    "text": "for questions in a minute so if you want",
    "start": "1376519",
    "end": "1378860"
  },
  {
    "text": "to know any more detail about how we use",
    "start": "1378860",
    "end": "1380120"
  },
  {
    "text": "that look for those patterns which which",
    "start": "1380120",
    "end": "1384080"
  },
  {
    "text": "give you a real insight into what's",
    "start": "1384080",
    "end": "1386090"
  },
  {
    "text": "going on",
    "start": "1386090",
    "end": "1386659"
  },
  {
    "text": "all right you know just pay someone like",
    "start": "1386659",
    "end": "1388880"
  },
  {
    "text": "me to run a hosted service because",
    "start": "1388880",
    "end": "1390830"
  },
  {
    "text": "that's that's what we do for a living so",
    "start": "1390830",
    "end": "1394269"
  },
  {
    "text": "thank you",
    "start": "1394269",
    "end": "1397419"
  },
  {
    "text": "[Applause]",
    "start": "1397550",
    "end": "1405059"
  }
]