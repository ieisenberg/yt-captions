[
  {
    "text": "uh welcome to the talk uh it's uh going to get well",
    "start": "860",
    "end": "6660"
  },
  {
    "text": "easier a bit okay um it's gonna be a little darker in here as uh we were just warned uh the reason",
    "start": "6660",
    "end": "13860"
  },
  {
    "text": "for that is of course we're using a dark very dark slide theme uh which is actually our company slide theme so",
    "start": "13860",
    "end": "19440"
  },
  {
    "text": "that's just kind of how it is and the lights are kind of washing it out so pretty enjoy the darkness for a little",
    "start": "19440",
    "end": "26880"
  },
  {
    "text": "bit uh commit you can have a nap if you want like we're not gonna be mad about it",
    "start": "26880",
    "end": "33960"
  },
  {
    "text": "uh I was going to make a joke about uh it's great to see there's so many people attending but now I can't see anybody",
    "start": "33960",
    "end": "39899"
  },
  {
    "text": "anymore so you know I'm just going to assume you're all still here uh so the talk is uh",
    "start": "39899",
    "end": "45480"
  },
  {
    "text": "snake Ops getting youthers you use get up so that's even knowing about it and",
    "start": "45480",
    "end": "50640"
  },
  {
    "text": "my name is Eamonn Ryan I'm a principal field engineer at confined labs and I'm",
    "start": "50640",
    "end": "56460"
  },
  {
    "text": "joined here by my partner in crime",
    "start": "56460",
    "end": "60378"
  },
  {
    "text": "um get a note that does we support the Solution Services or the sales engineers at the funnel apps we ensure that they",
    "start": "65280",
    "end": "72960"
  },
  {
    "text": "are able to get the the technical debt that they need for some of their engagements they know a lot about the",
    "start": "72960",
    "end": "78360"
  },
  {
    "text": "Health products are used we know a lot of that has products are architected we also write workshops we write an open",
    "start": "78360",
    "end": "84119"
  },
  {
    "text": "material and we also uh built and maintain the demo kit and we're talking",
    "start": "84119",
    "end": "89820"
  },
  {
    "text": "about in a little bit now so this is uh kind of well",
    "start": "89820",
    "end": "96299"
  },
  {
    "text": "am I too close to something I can't really tell is it you know is it this one",
    "start": "96299",
    "end": "102240"
  },
  {
    "text": "okay all right let's use better okay so this is a very uh basic view of the",
    "start": "102240",
    "end": "107880"
  },
  {
    "text": "environment uh that has mentioned called the demo kit that we support uh it essentially is a gke cluster uh with uh",
    "start": "107880",
    "end": "117780"
  },
  {
    "text": "a whole bunch of stuff deployed on top of it so we've got a large uh buzzing",
    "start": "117780",
    "end": "123600"
  },
  {
    "text": "history just turn this one off that's all it's up okay anyway",
    "start": "123600",
    "end": "129720"
  },
  {
    "text": "um so it's this large instance it's got grafana in there as I'm sure everyone here is familiar with grafana maybe not",
    "start": "129720",
    "end": "135060"
  },
  {
    "text": "familiar with all the other stuff it connects to lots of people only connected to one or two things uh but because we are a Groupon labs and one of",
    "start": "135060",
    "end": "142140"
  },
  {
    "text": "the teams we support uh is involved in uh showing demos for what grafana can speak to we have it hooked up to",
    "start": "142140",
    "end": "147900"
  },
  {
    "text": "literally everything we possibly can so on the left side it's uh Prometheus as well as all the other projects and",
    "start": "147900",
    "end": "154319"
  },
  {
    "text": "products that grafana has like on-call and mimir and incident and Loki and Tempo and ML and k6 on the right hand",
    "start": "154319",
    "end": "161400"
  },
  {
    "text": "side we have all these third party things that we can also connect up to uh especially on like like the Enterprise",
    "start": "161400",
    "end": "167400"
  },
  {
    "text": "version of our stuff like servicenow and Oracle and Splunk and so on so it's a lot of things to to connect to it's a",
    "start": "167400",
    "end": "174720"
  },
  {
    "text": "lot of a lot of work to upkeep and to make sure that all of the different demos and things uh for everything are",
    "start": "174720",
    "end": "180599"
  },
  {
    "text": "actually working all the time and of course one of the things that Solutions Engineers really want to do is",
    "start": "180599",
    "end": "186300"
  },
  {
    "text": "demonstrate exactly what we can do with inside retirement so they've got a lot of dashboards now as part of our role we",
    "start": "186300",
    "end": "192840"
  },
  {
    "text": "created the data sources that they need and we usually create a new demo dashboards that they can use as a basis for going forward and they do do this",
    "start": "192840",
    "end": "199319"
  },
  {
    "text": "but the problem is customers customers are always a problem right um and what they're going to do is say what we want if you want a demo of",
    "start": "199319",
    "end": "205560"
  },
  {
    "text": "something that does this with this data source and that without data sourcing let's show it all working together right",
    "start": "205560",
    "end": "210599"
  },
  {
    "text": "so they take their data they take the data source and they're vegetables that they have and the switching Engineers",
    "start": "210599",
    "end": "215700"
  },
  {
    "text": "start copying them so that they can tailor it for example what they need it to do which is great but they do it again",
    "start": "215700",
    "end": "222299"
  },
  {
    "text": "um again and all of a sudden we have so many",
    "start": "222299",
    "end": "228420"
  },
  {
    "text": "dashboards within the grafana demo kit that we're not entirely sure what's going on what is what is the gold",
    "start": "228420",
    "end": "236819"
  },
  {
    "text": "fish using the solutions.com",
    "start": "236819",
    "end": "240620"
  },
  {
    "text": "it really becomes a situation where even we have problems going through you know trying to figure out what we should be",
    "start": "243840",
    "end": "249659"
  },
  {
    "text": "keeping it what we shouldn't um [Music]",
    "start": "249659",
    "end": "256679"
  },
  {
    "text": "write the Emoji the spot comes in and writes it built out of like nine smaller emojis so it comes in huge",
    "start": "262440",
    "end": "269160"
  },
  {
    "text": "which is great works in every channel thank you",
    "start": "269160",
    "end": "274380"
  },
  {
    "text": "so uh our plan for to to solve this is to have multiple grafana environments",
    "start": "274380",
    "end": "281160"
  },
  {
    "text": "instead so the first is a Sandbox complete Anarchy Mad Max looks very much",
    "start": "281160",
    "end": "287400"
  },
  {
    "text": "like the uh except that you know it's it's intended to be that way instead of",
    "start": "287400",
    "end": "293880"
  },
  {
    "text": "having evolved that way over the let's be like off here",
    "start": "293880",
    "end": "299160"
  },
  {
    "text": "um and then we have a second environment which is our production pristine environment and the way to keep it",
    "start": "299160",
    "end": "304740"
  },
  {
    "text": "pristine is of course to not let people change it easily so what we're going to do with that one is you know lock it",
    "start": "304740",
    "end": "311520"
  },
  {
    "text": "down make sure that uh like the the FCS and the people who use the environment can't actually just directly edit stuff",
    "start": "311520",
    "end": "317880"
  },
  {
    "text": "in there so lock it down with permissions make sure users aren't admins except for our team and just make",
    "start": "317880",
    "end": "323880"
  },
  {
    "text": "they can't just add whatever they like in there and what we what we want to do and what you can do with grafana is you",
    "start": "323880",
    "end": "331020"
  },
  {
    "text": "can feed dashboards in programmatically and we want to do that by git so that",
    "start": "331020",
    "end": "336419"
  },
  {
    "text": "would require that Solutions Engineers would file a GitHub PR uh with the",
    "start": "336419",
    "end": "341699"
  },
  {
    "text": "dashboards that they wanted to add to the grafana instance sounds great except for you know grafana is like doesn't",
    "start": "341699",
    "end": "348419"
  },
  {
    "text": "have a totally great flow for automating this in itself you have to kind of you know use the API or something like that",
    "start": "348419",
    "end": "354180"
  },
  {
    "text": "it doesn't really have a native integration for this yet but in theory we thought this would help and it would give us a nice cleaner setup",
    "start": "354180",
    "end": "360720"
  },
  {
    "text": "however so challenge is that we as the Africans want to use kids office it's fairly",
    "start": "360720",
    "end": "366720"
  },
  {
    "text": "obvious it makes it life easier for us it's very low touch we can ensure that we can get stuff in so that's obviously",
    "start": "366720",
    "end": "372720"
  },
  {
    "text": "we want to work on ourselves so the problem is a lot of our end users because of the range of different uh",
    "start": "372720",
    "end": "378780"
  },
  {
    "text": "sales practices that we have in the interviews",
    "start": "378780",
    "end": "382639"
  },
  {
    "text": "The Source control systems that we're using and because they're constantly meetings they don't really have time to",
    "start": "385460",
    "end": "391860"
  },
  {
    "text": "actually go away and learn all this stuff all the processes all the flows that we want them to use",
    "start": "391860",
    "end": "397319"
  },
  {
    "text": "and of course the lack of use of it and the lack of most of the majority of the solutions Engineers actually putting PRS",
    "start": "397319",
    "end": "403080"
  },
  {
    "text": "in or thinking about this means that the mess remains it just continues we end up in a situation each week where we have",
    "start": "403080",
    "end": "408780"
  },
  {
    "text": "to go in and start pruning dashboards looking at data sources seeing exactly what needs to be there and What needs to",
    "start": "408780",
    "end": "414300"
  },
  {
    "text": "come out and we actually have an additional problem which is that as we um as we as we add more grafana",
    "start": "414300",
    "end": "421380"
  },
  {
    "text": "instances so we've been going from a single centralized one to having one in the US and one in Europe and one in uh",
    "start": "421380",
    "end": "428819"
  },
  {
    "text": "in the asia-pacific region is that well the SCS are adding dashboards in in the",
    "start": "428819",
    "end": "435060"
  },
  {
    "text": "main one and then they're like oh it's not in the other one it's not in the other one so that they're not really propagating around and if they had done",
    "start": "435060",
    "end": "440639"
  },
  {
    "text": "the gift process or maybe we could do that but as had said it's not usually in their day-to-day job to play around with",
    "start": "440639",
    "end": "446880"
  },
  {
    "text": "it and so they never really get used to the process so so we're gonna so we're gonna get",
    "start": "446880",
    "end": "453060"
  },
  {
    "text": "opposite all so we're going to use some fairly standard tools but we're going to go into what those tools are and a little bit about what they do just so we",
    "start": "453060",
    "end": "459539"
  },
  {
    "text": "can kind of set the scene for when we do this demo so the first is grafana itself grafana",
    "start": "459539",
    "end": "466080"
  },
  {
    "text": "obviously has many products in this case it's the beautiful dashboarding tool that everybody knows and loves but it",
    "start": "466080",
    "end": "471840"
  },
  {
    "text": "also has a full rest API so that rest API acts for Json data it allows you to",
    "start": "471840",
    "end": "477360"
  },
  {
    "text": "upload dashboards it allows you to upload data sources it allows you to pretty much do whatever you want with any of the the resources that grafana",
    "start": "477360",
    "end": "484259"
  },
  {
    "text": "supports it's full crowd operation supported but in this particular case we're going to use it to upload and",
    "start": "484259",
    "end": "491220"
  },
  {
    "text": "download dashboards from one grafana instance and upload them into our production instance instead where they",
    "start": "491220",
    "end": "496740"
  },
  {
    "text": "will be uh basically locked out so that people can't start mucking around with them",
    "start": "496740",
    "end": "502139"
  },
  {
    "text": "so we're going to run a little demon in a pod on our kubernetes cluster it's",
    "start": "502139",
    "end": "507479"
  },
  {
    "text": "going to talk to our Wild West Anarchy development system where the solutions",
    "start": "507479",
    "end": "512580"
  },
  {
    "text": "Engineers are actually going to put the dashboards that they want to store into uh our production grafana and it's going",
    "start": "512580",
    "end": "518339"
  },
  {
    "text": "to send obviously the dashboard Json back to that demon running in the pod",
    "start": "518339",
    "end": "524659"
  },
  {
    "text": "so another component that we're using here which I'm sure lots of people are already familiar with because it's been around for years it's terraform so",
    "start": "524880",
    "end": "531600"
  },
  {
    "text": "briefly if you're not it allows you to do infrastructure as code it works potently so that means you can rerun",
    "start": "531600",
    "end": "537660"
  },
  {
    "text": "things and it won't you know Stomp all over everything you've done Works off of desired versus actual State and there is",
    "start": "537660",
    "end": "544440"
  },
  {
    "text": "a terraform provider for grafana and one of the basic uh resources index is the",
    "start": "544440",
    "end": "550200"
  },
  {
    "text": "dashboard resource so you can add dashboards no problem you can remove dashboards we've actually put as a side",
    "start": "550200",
    "end": "556500"
  },
  {
    "text": "note a ton of Dev effort into that provider this year so it does like way more stuff than it used to do but",
    "start": "556500",
    "end": "561540"
  },
  {
    "text": "obviously it's one of its most basic features is put dashboards into grafana",
    "start": "561540",
    "end": "566820"
  },
  {
    "text": "um so that works really well it will mean that you know as as we try to push dashboards into grafana it will only add",
    "start": "566820",
    "end": "572700"
  },
  {
    "text": "in the ones that it needs to versus uh ones that are already there so it just works on like the diff kind of basis",
    "start": "572700",
    "end": "578040"
  },
  {
    "text": "so we have our stuff inside of git uh terraform is going to react to that with an extra Tool uh in play which we'll get",
    "start": "578040",
    "end": "585300"
  },
  {
    "text": "to in a second and it's going to push the dashboards into the production grafana uh that will that landed and get",
    "start": "585300",
    "end": "591540"
  },
  {
    "text": "from the sandbox grafana from the other component heads he's just talking about",
    "start": "591540",
    "end": "596940"
  },
  {
    "text": "so this is where Atlantis comes in so obviously terraform doesn't run by itself we're going to store these",
    "start": "596940",
    "end": "602399"
  },
  {
    "text": "dashboards inside git GitHub in this case and what we actually want to happen is whenever a PR is created and the",
    "start": "602399",
    "end": "608580"
  },
  {
    "text": "demon itself is going to create that PR for us we want to ensure that a we can verify the dashboards that will need an",
    "start": "608580",
    "end": "615120"
  },
  {
    "text": "approval process from somebody that is responsible for the production environment but when that when that approval has been given we want to",
    "start": "615120",
    "end": "621060"
  },
  {
    "text": "ensure that we can actually do something with it so Atlantis is actually a way of allowing you to run terraform via git",
    "start": "621060",
    "end": "626519"
  },
  {
    "text": "pull requests it's a very um fully fledged system it allows you to do various things such as you know only",
    "start": "626519",
    "end": "633060"
  },
  {
    "text": "apply uh terraform when something has been approved you know clean up on and",
    "start": "633060",
    "end": "638160"
  },
  {
    "text": "emerge all of that kind of stuff that you need for a get Ops workflow so the general idea is that we will have our",
    "start": "638160",
    "end": "644160"
  },
  {
    "text": "dashboards in GitHub we will create a new PR from the demon that's actually",
    "start": "644160",
    "end": "649440"
  },
  {
    "text": "doing all the work pulling these in from our development grafana uh it will get approved uh sorry the the",
    "start": "649440",
    "end": "656040"
  },
  {
    "text": "plan the terraform plan will actually be run at the point where that PR is created so that we can actually assure",
    "start": "656040",
    "end": "661860"
  },
  {
    "text": "ourselves that we're not going to break anything if we go ahead with actually merging it somebody will then come along and approve it having looked at the",
    "start": "661860",
    "end": "667920"
  },
  {
    "text": "dashboards you'd be amazed when you look at dashboards and the Json that has produced by grafana day in day out for",
    "start": "667920",
    "end": "672959"
  },
  {
    "text": "two and a half years you can actually start seeing into the Matrix just by looking at a dashboard Json file uh",
    "start": "672959",
    "end": "679079"
  },
  {
    "text": "which is quite scary really and then once we have approved we're going to apply the terraform that goes along with",
    "start": "679079",
    "end": "684240"
  },
  {
    "text": "it and that will get us into a position where we can merge against our production instance",
    "start": "684240",
    "end": "690600"
  },
  {
    "text": "and uh one other small thing on on this side uh if people were about were",
    "start": "690600",
    "end": "696060"
  },
  {
    "text": "thinking of asking the question of hey why didn't you use the terraform controller in flux uh I didn't know that",
    "start": "696060",
    "end": "701700"
  },
  {
    "text": "existed until this Tuesday uh so we'll we'll probably go and look at it we were at github's Con on Tuesday oh that's",
    "start": "701700",
    "end": "709079"
  },
  {
    "text": "useful we should maybe look at that um but yeah literally didn't know it existed until this week",
    "start": "709079",
    "end": "714480"
  },
  {
    "text": "um so another little piece of glue we're using is GitHub actions uh so allows you",
    "start": "714480",
    "end": "719579"
  },
  {
    "text": "to really easily run little workflows uh inside of GitHub uh things that can be triggered by PR Creations comments all",
    "start": "719579",
    "end": "726120"
  },
  {
    "text": "that kind of stuff uh for us we were just using it as a little bit of glue because of the way that Atlantis",
    "start": "726120",
    "end": "732060"
  },
  {
    "text": "currently works it actually requires you to comment on the pr to uh to allow it",
    "start": "732060",
    "end": "737220"
  },
  {
    "text": "to actually proceed but we wanted that to happen in a slightly more automated fashion so we have an action that comes in and like automates that like a little",
    "start": "737220",
    "end": "743640"
  },
  {
    "text": "bit for us so that we don't have to do it quite uh in as manual fashion",
    "start": "743640",
    "end": "750199"
  },
  {
    "text": "all right this brings us oh no this is me again okay uh by the way",
    "start": "750480",
    "end": "756360"
  },
  {
    "text": "of artwork we've been showing in the background are just fun bits of you know all the different AI tools for",
    "start": "756360",
    "end": "761820"
  },
  {
    "text": "generating art that you've seen around lately so we use them to ask it for things like GitHub actions which created",
    "start": "761820",
    "end": "767160"
  },
  {
    "text": "a very strange image here with like a fox wave and uh this is what it came up with for Atlantis even though it very",
    "start": "767160",
    "end": "772560"
  },
  {
    "text": "much looks like Rapture from BioShock kind of okay with that honestly that's pretty cool uh this is one of the ones",
    "start": "772560",
    "end": "779700"
  },
  {
    "text": "we got for sneak up so we got this very character in your data center so I thought that was perfect and there's a few more of them as we as",
    "start": "779700",
    "end": "786000"
  },
  {
    "text": "we move along okay so our solution is uh we take our",
    "start": "786000",
    "end": "791040"
  },
  {
    "text": "thank you to move closer because I can't even read the text now uh we take our sandbox grafana here and down here we",
    "start": "791040",
    "end": "796680"
  },
  {
    "text": "have our solution to engineer and he's going to go in and add a dashboard uh which will have like a bunch of",
    "start": "796680",
    "end": "803399"
  },
  {
    "text": "characteristics as you might imagine so it'll have an ID uh it'll have a uh tags",
    "start": "803399",
    "end": "809040"
  },
  {
    "text": "associated with it and that dashboard what we're going to have them do is save it into a very specific folder calling",
    "start": "809040",
    "end": "815459"
  },
  {
    "text": "it The Magic folder doesn't really matter which folder it is as long as it's the one that we designate so they save it into a specific folder uh so",
    "start": "815459",
    "end": "822480"
  },
  {
    "text": "there you have the dashboard and it has specific tags on it then our component this uh dashboard demon or the syncops",
    "start": "822480",
    "end": "828839"
  },
  {
    "text": "demon in its heads was describing looks very shady more air is going to come in to the grafana API look at what's in",
    "start": "828839",
    "end": "835920"
  },
  {
    "text": "that folder pull that out and file it as a PR into GitHub",
    "start": "835920",
    "end": "841500"
  },
  {
    "text": "and that means that in GitHub we now have a folder structure that includes dashboards that are being pulled across",
    "start": "841500",
    "end": "847680"
  },
  {
    "text": "from the sandbox grafana and this works for as many as we need to so multiple folders multiple dashboards",
    "start": "847680",
    "end": "854459"
  },
  {
    "text": "doesn't matter it's okay um then as we mentioned Atlantis is going to come in Atlantis is a terraform",
    "start": "854459",
    "end": "861120"
  },
  {
    "text": "Runner it's going to then create the plan to run this against the production grafana and then that will allow us to",
    "start": "861120",
    "end": "866279"
  },
  {
    "text": "get as many dashboards in as many folders as we actually want yeah as many",
    "start": "866279",
    "end": "871380"
  },
  {
    "text": "followers as we actually want and uh that will mean that we will have a",
    "start": "871380",
    "end": "876660"
  },
  {
    "text": "system where the Aldi person does the SC in the bottom left is save the dashboard they want into a specific folder",
    "start": "876660",
    "end": "883980"
  },
  {
    "text": "in and like just has a particular set of tags and then off it goes but heads is going to explain the whole the the",
    "start": "883980",
    "end": "889019"
  },
  {
    "text": "custom bit in more detail so we keep talking about this demon",
    "start": "889019",
    "end": "894300"
  },
  {
    "text": "that's going to work with Joshua's ball actually is it so this is what our sneak Ops demon actually is it's written in a",
    "start": "894300",
    "end": "899339"
  },
  {
    "text": "language that rhymes with toad I'm not proud of it it is going to be written it can go or rust but what it basically",
    "start": "899339",
    "end": "904560"
  },
  {
    "text": "does is look in this golden folder in the development environment and every time a new folder appears uh it goes",
    "start": "904560",
    "end": "910800"
  },
  {
    "text": "away it looks exactly what the folder is it looks at the tags that are attached on the dashboard to determine the folder",
    "start": "910800",
    "end": "917699"
  },
  {
    "text": "in the production environment that we're going to put it in it looks at a version tag as well it's very important that we don't allow se's to create new",
    "start": "917699",
    "end": "924300"
  },
  {
    "text": "dashboards that are going to overwrite production instances that are actually already useful that would get very messy very quickly so it does a load of",
    "start": "924300",
    "end": "930660"
  },
  {
    "text": "different checks to ensure that it's actually safe to provision this dashboard to the production environment it raises errors if any of this",
    "start": "930660",
    "end": "937199"
  },
  {
    "text": "information isn't there that it needs or something's going to go wrong and then if everything is all right it will raise a PR for it in our GitHub instance to",
    "start": "937199",
    "end": "944220"
  },
  {
    "text": "ensure that we can then go through the the entire git Ops flow to ensure that we can kind of get that into production as well if there's an author tag on it",
    "start": "944220",
    "end": "950880"
  },
  {
    "text": "as well it will also pay you it works with both logging out to standard out which gets picked up by Loki oddly",
    "start": "950880",
    "end": "956279"
  },
  {
    "text": "enough but we also have a slack integration so that anybody that's interested can come along and look at",
    "start": "956279",
    "end": "961560"
  },
  {
    "text": "the slack Channel where all of this work is going on and see if their dashboards are very narrow or if they're actually working",
    "start": "961560",
    "end": "968360"
  },
  {
    "text": "not a pre-recorded demo so uh fingers crossed and toes crossed I'm praying to",
    "start": "973500",
    "end": "979019"
  },
  {
    "text": "the Elder gods that everything is going to work um so in this particular case you can see",
    "start": "979019",
    "end": "984060"
  },
  {
    "text": "that we have both our development environment which currently has a couple of folders but that we have our Wild",
    "start": "984060",
    "end": "989579"
  },
  {
    "text": "West folder here where maybe a Solutions engineer is working with an amazing demo dashboard we have our production",
    "start": "989579",
    "end": "995279"
  },
  {
    "text": "instance as well which has a few different folders that people are using at the moment for demos and what I'm",
    "start": "995279",
    "end": "1000500"
  },
  {
    "text": "going to do is I'm going to go away and open my dashboard doesn't really matter what the dashboard has in it but I'm",
    "start": "1000500",
    "end": "1006079"
  },
  {
    "text": "going to save this now into the folder that we use to actually pick up any changes to go into production so let's",
    "start": "1006079",
    "end": "1012860"
  },
  {
    "text": "move that into our sneakups folder and let's save it now what's going on at the moment is uh",
    "start": "1012860",
    "end": "1019040"
  },
  {
    "text": "the way that our Dash demon actually works is it pulls every 10 minutes um we don't want it to poll every 10 minutes for that we would go way over",
    "start": "1019040",
    "end": "1025459"
  },
  {
    "text": "time so it's currently running in a little uh demo cluster here you can see",
    "start": "1025459",
    "end": "1030558"
  },
  {
    "text": "that we're running Atlantis we're running our demon we're running a few things that we need for observability and we're running both our grafana",
    "start": "1030559",
    "end": "1036438"
  },
  {
    "text": "development instance and our production instance as well hopefully by the time we go back to slack he says of course",
    "start": "1036439",
    "end": "1042980"
  },
  {
    "text": "we're going to hit the either we're going to hit 30 seconds by the way there we go so um actually the Dutch team has",
    "start": "1042980",
    "end": "1048319"
  },
  {
    "text": "told us that we can't provision that we actually need some more tags that we don't have the prop version and the pro folder I've not told it where to put the",
    "start": "1048319",
    "end": "1056000"
  },
  {
    "text": "dashboard and I've not told it what version it is so what I need to do is go back to my dashboard now change my tags",
    "start": "1056000",
    "end": "1062299"
  },
  {
    "text": "we're going to remove the tags that Dash team has put on there that's actually to help us so it will help both us and",
    "start": "1062299",
    "end": "1068000"
  },
  {
    "text": "solutions Engineers determine why the dashboard can be provisioned and it will give an Epoch date there to tell you",
    "start": "1068000",
    "end": "1073100"
  },
  {
    "text": "when it happened so let's remove those it's dark of course so I can't",
    "start": "1073100",
    "end": "1079220"
  },
  {
    "text": "see properly my screen but we're gonna we're gonna put that you know um let's call it amazing demos folder",
    "start": "1079220",
    "end": "1085280"
  },
  {
    "text": "we're going to give it a version of one so that will allow us now to hopefully",
    "start": "1085280",
    "end": "1091520"
  },
  {
    "text": "try again Dash demon should come along shortly and it should pick up the fact that we want",
    "start": "1091520",
    "end": "1096919"
  },
  {
    "text": "to put it in production in that folder with that version I could whistle the girl from ipanina I'm hoping that this",
    "start": "1096919",
    "end": "1102620"
  },
  {
    "text": "is actually going to go quickly hope everyone's holding their breath I am",
    "start": "1102620",
    "end": "1108679"
  },
  {
    "text": "there we go so now dash demon has picked this up it said okay yeah you've given me everything I need to actually provision this folder and it's also very",
    "start": "1108679",
    "end": "1115520"
  },
  {
    "text": "handily given us the link to GitHub where the pr has been created so if we're going to have a look at that",
    "start": "1115520",
    "end": "1120919"
  },
  {
    "text": "obviously we can't show you our production or demo environment we can't also show you the GitHub repos that we're using for this so I've just set",
    "start": "1120919",
    "end": "1127100"
  },
  {
    "text": "something up in one of my own organizations um and what's going to happen now is Atlantis is going to run the terraform",
    "start": "1127100",
    "end": "1133400"
  },
  {
    "text": "plan it's going to ensure that it can actually do something this should is usually fairly quick",
    "start": "1133400",
    "end": "1140320"
  },
  {
    "text": "uh it shouldn't take too long he says",
    "start": "1140960",
    "end": "1146780"
  },
  {
    "text": "there we go it has actually run it's just GitHub didn't refresh so we now have an output here and uh Atlantis has",
    "start": "1146780",
    "end": "1153500"
  },
  {
    "text": "run the plan terraform has told us exactly what's going to change we're going to add a new dashboard we're going to add a new folder and at this point",
    "start": "1153500",
    "end": "1159200"
  },
  {
    "text": "we're in a good position for somebody who maintains the production environment to come along and approve the changes",
    "start": "1159200",
    "end": "1165500"
  },
  {
    "text": "button boy do your thing I get to press one button that's my contribution to the demo",
    "start": "1165500",
    "end": "1172780"
  },
  {
    "text": "this usually wouldn't allow you to merge either it's just because it's a private repo that I'm not actually paying for in",
    "start": "1173539",
    "end": "1178580"
  },
  {
    "text": "my organization so I've been able to turn branch of protection on Eamon has come along and he said a few things in",
    "start": "1178580",
    "end": "1183980"
  },
  {
    "text": "the comments GitHub actions has now uh discovered that there's something that has uh uh approved or sorry an approval",
    "start": "1183980",
    "end": "1191179"
  },
  {
    "text": "has occurred on the pr uh because of that it's now gone along and said and latences apply so Atlantis is now going",
    "start": "1191179",
    "end": "1197780"
  },
  {
    "text": "to do its thing it's going to apply terraform on rpr which again hopefully should not take",
    "start": "1197780",
    "end": "1203179"
  },
  {
    "text": "too long it hasn't there we go it's done it it's applied our dashboard changes it's uh closed our branch and if we now",
    "start": "1203179",
    "end": "1210440"
  },
  {
    "text": "go back to our production instance and take another look we can see we have a Golden's dashboard and our dashboard has",
    "start": "1210440",
    "end": "1216980"
  },
  {
    "text": "been moved across fully along with all of our tags now the SC can come along they can demo this dashboard and we know",
    "start": "1216980",
    "end": "1222440"
  },
  {
    "text": "we're in a good position and it's a dashboard should actually be there of course if anything had gone wrong what I could do is I could have gone into",
    "start": "1222440",
    "end": "1227900"
  },
  {
    "text": "grafana and you know wigrana so I've logged it all up there's metrics this traces but that's essentially the demo",
    "start": "1227900",
    "end": "1236059"
  },
  {
    "text": "tablet",
    "start": "1236059",
    "end": "1239059"
  },
  {
    "text": "[Applause] so uh quick recap so our environment big",
    "start": "1242580",
    "end": "1250820"
  },
  {
    "text": "shared grafana instance tons of data sources tons of Integrations lots of users using it uh our whole SE team are",
    "start": "1250820",
    "end": "1258080"
  },
  {
    "text": "maybe the primary users there's dozens of them uh less than 100 more than 50.",
    "start": "1258080",
    "end": "1263660"
  },
  {
    "text": "um but it's actually open to everybody at grafana and it actually gets used by engineering teams it gets used by",
    "start": "1263660",
    "end": "1268700"
  },
  {
    "text": "customer support teams gets used by Professional Services it's used by everybody so lots of people in there",
    "start": "1268700",
    "end": "1275840"
  },
  {
    "text": "so the situation was we have Massachusetts brawl we have lots of duplicated dashboards we have dashboards",
    "start": "1275840",
    "end": "1281780"
  },
  {
    "text": "that basically don't work anymore there's a real danger of somebody going and saying okay I'm going to show you this lovely demo and then nothing works",
    "start": "1281780",
    "end": "1287480"
  },
  {
    "text": "and we have a lot of old dashboards and it's just not a situation that we can continue with",
    "start": "1287480",
    "end": "1293419"
  },
  {
    "text": "so like I said earlier I plan to have multiple grafannas at least one sandbox one it's going to be it's intentionally",
    "start": "1293419",
    "end": "1299419"
  },
  {
    "text": "a big giant mess that's okay but we have a nice clean production one and we want to provision things across the way get",
    "start": "1299419",
    "end": "1304700"
  },
  {
    "text": "UPS but the challenge is that a lot of our users don't actually use git on a day-to-day basis so we need to ensure",
    "start": "1304700",
    "end": "1310760"
  },
  {
    "text": "that we did something that would allow them to use the tools that they know and love very very well obviously to do something that allows us to still coping",
    "start": "1310760",
    "end": "1318559"
  },
  {
    "text": "over overview and uh kind of get some view of what's going on but also that is very minimal our part to actually do all",
    "start": "1318559",
    "end": "1324620"
  },
  {
    "text": "of this well we'll build this tool let them save dashboards to a magic folder they don't",
    "start": "1324620",
    "end": "1330860"
  },
  {
    "text": "ever have to even open GitHub or a git or even know how to run get commands that's where they're put out by the",
    "start": "1330860",
    "end": "1336740"
  },
  {
    "text": "grafana API gets committed to a git folder structure Atlantis runs a terraform script that I wrote that is",
    "start": "1336740",
    "end": "1344059"
  },
  {
    "text": "able to iterate over that same folder structure so a folder of folders of dashboards and just run that in a loop",
    "start": "1344059",
    "end": "1350720"
  },
  {
    "text": "and just drop them in exactly where they need to be so let's do some wrap up",
    "start": "1350720",
    "end": "1355760"
  },
  {
    "text": "should you do this uh so this is a custom solution to a",
    "start": "1355760",
    "end": "1362299"
  },
  {
    "text": "specific problem that we had this is something we were actually rolling out for real in our internal environment for",
    "start": "1362299",
    "end": "1368179"
  },
  {
    "text": "for those groups um we're not necessarily saying everyone should do it exactly the way that we did",
    "start": "1368179",
    "end": "1373340"
  },
  {
    "text": "it but this is intended to be an example of say you have something and you want",
    "start": "1373340",
    "end": "1379039"
  },
  {
    "text": "to get opposite but your users are not really get uh Savvy this is like an",
    "start": "1379039",
    "end": "1384080"
  },
  {
    "text": "example of what you could do as long as the tool that you're trying to get UPS has some kind of API in a way of programmatically speaking to it you",
    "start": "1384080",
    "end": "1390500"
  },
  {
    "text": "could do something like this even if it wasn't exactly this the tools are there you just need to stick them together do",
    "start": "1390500",
    "end": "1396080"
  },
  {
    "text": "a bit of work Bang Your Head on the wall because it didn't work 17 times you know all that kind of stuff",
    "start": "1396080",
    "end": "1401900"
  },
  {
    "text": "but what about maintenance well oh excuse me well as you can see we try to pick some off-the-shelf tools to make it very easy",
    "start": "1401900",
    "end": "1408260"
  },
  {
    "text": "the only thing we had to do was write a demon to ensure that we could actually work with grafana API and create the",
    "start": "1408260",
    "end": "1413299"
  },
  {
    "text": "pull requests and actually having looked through GitHub actions a bit more I've slowly been learning it um I think we can do an awful lot of it",
    "start": "1413299",
    "end": "1419840"
  },
  {
    "text": "without actually having to have a demon itself so if you can pick the tools that you need you know and configure it in",
    "start": "1419840",
    "end": "1424940"
  },
  {
    "text": "such a way that you're able to maintain it with low mate with as low an effort as possible then actually it probably is",
    "start": "1424940",
    "end": "1430039"
  },
  {
    "text": "a really good thing to do as Eamon says if you've got users that are very high level they don't actually know the",
    "start": "1430039",
    "end": "1435140"
  },
  {
    "text": "tooling underneath this could be a really really good way of ensuring that they can kind of self-regulate what they're doing",
    "start": "1435140",
    "end": "1440960"
  },
  {
    "text": "and on the future roadmap so uh this is also apparently commensured to the inevitable question of is this open",
    "start": "1440960",
    "end": "1447260"
  },
  {
    "text": "source and can I have it uh we didn't actually make it public at the moment we're like kind of on the fence about",
    "start": "1447260",
    "end": "1453740"
  },
  {
    "text": "whether we should but the it's not because we don't want to give it to people it's also because there's",
    "start": "1453740",
    "end": "1458780"
  },
  {
    "text": "actually there's actually significant effort going on in the Like official grafana code base to uh improve the",
    "start": "1458780",
    "end": "1465799"
  },
  {
    "text": "situation of uh get integration to a large degree which is I'm going to be",
    "start": "1465799",
    "end": "1471919"
  },
  {
    "text": "very loose about this and say should be something next year easy on",
    "start": "1471919",
    "end": "1477520"
  },
  {
    "text": "don't hold me to it but yeah um so there is like official work there and like uh",
    "start": "1477520",
    "end": "1482659"
  },
  {
    "text": "we're like hesitant to like just hand it to people because then people will start using it and maybe that's awkward when the new version of grafana comes out so",
    "start": "1482659",
    "end": "1489080"
  },
  {
    "text": "we're like I don't really know what we should do there um but within the tool itself we were thinking of doing things like adding uh",
    "start": "1489080",
    "end": "1495559"
  },
  {
    "text": "data sources and so yeah there's I mean one of the one of the things as I mentioned earlier is you you get very",
    "start": "1495559",
    "end": "1500900"
  },
  {
    "text": "good at reading Json but that's that's good if you've been reading it for a long long time but not so good if uh you know you're just doing something else",
    "start": "1500900",
    "end": "1506960"
  },
  {
    "text": "and you're there just trying to admin and maintain what's going on so we're going to run a grafana instance that actually spins up the dashboard as the",
    "start": "1506960",
    "end": "1513380"
  },
  {
    "text": "pr is created and gives you a screenshot there's little nice bits and pieces like that that we're just going to start to add that makes it a lot easier",
    "start": "1513380",
    "end": "1519919"
  },
  {
    "text": "so it looks like we have five minutes left and that's actually perfect um so I'll leave this on the thing this",
    "start": "1519919",
    "end": "1525320"
  },
  {
    "text": "is the rating the session QR code Twitter links but we have a couple minutes for a question it's going to say",
    "start": "1525320",
    "end": "1531380"
  },
  {
    "text": "Twitter Links at the moment let's see how long we last on Twitter instead of worry about any questions",
    "start": "1531380",
    "end": "1537980"
  },
  {
    "text": "there you are",
    "start": "1537980",
    "end": "1540580"
  },
  {
    "text": "if you're if you remove something from the magic folder does also remove it from the production environment",
    "start": "1544720",
    "end": "1550580"
  },
  {
    "text": "so does it also do like a terraform destroy of the dashboard uh not the moment but that is again",
    "start": "1550580",
    "end": "1555740"
  },
  {
    "text": "something that we're kind of thinking over the future to be bluntly honest part of the problem",
    "start": "1555740",
    "end": "1560960"
  },
  {
    "text": "that we have is uh there we have a very small field engineering team so we try and do things like this in bits and",
    "start": "1560960",
    "end": "1566480"
  },
  {
    "text": "pieces when we're not talking in depth to customers about Tempo Loki or you know mamir that kind of thing so it is",
    "start": "1566480",
    "end": "1572120"
  },
  {
    "text": "there's a lot of things on the roadmap but unfortunately that's not one of them that's there at the moment there it would be wouldn't be that great uh that",
    "start": "1572120",
    "end": "1578419"
  },
  {
    "text": "much work to add that bit because because the actual provisioning piece of it is effectively terraform if we just",
    "start": "1578419",
    "end": "1584360"
  },
  {
    "text": "change it so that if something is removed in a certain way it removes it out of the git folder well terraform will take care of it without running a",
    "start": "1584360",
    "end": "1590659"
  },
  {
    "text": "terraform destroyed the apply will recognize that it's not there and we'll actually delete it so like half of it is done by Deep by nature of it being",
    "start": "1590659",
    "end": "1597320"
  },
  {
    "text": "terraformed",
    "start": "1597320",
    "end": "1599919"
  },
  {
    "text": "uh so you guys showed sorry go ahead",
    "start": "1609279",
    "end": "1614360"
  },
  {
    "text": "yeah go ahead sorry",
    "start": "1614360",
    "end": "1617320"
  },
  {
    "text": "so so the question is that sorry the the statement was the tool creates the PRS",
    "start": "1633640",
    "end": "1640760"
  },
  {
    "text": "automatically will it update the pr if they then update like the dashboard because they did something wrong yeah it will so if you're in a if uh the if the",
    "start": "1640760",
    "end": "1649279"
  },
  {
    "text": "pr was still open at the point where somebody comes along and they actually change it again uh the polling will actually go and look at all the PRS that",
    "start": "1649279",
    "end": "1654559"
  },
  {
    "text": "have been created in the demon will go okay well this has changed the version number's gone up now I'm going to essentially update what we've got here do it with the tags and ensure that the",
    "start": "1654559",
    "end": "1661100"
  },
  {
    "text": "plan will run again so that we're not in a situation where maybe somebody else has come along at the same time done the same thing if again this goes back to",
    "start": "1661100",
    "end": "1667279"
  },
  {
    "text": "checking to make sure there are no conflicting versions with the same folders the same dashboards Etc",
    "start": "1667279",
    "end": "1672860"
  },
  {
    "text": "I saw your hand up",
    "start": "1672860",
    "end": "1675940"
  },
  {
    "text": "it has your experience running that",
    "start": "1678140",
    "end": "1681760"
  },
  {
    "text": "that's what a change happens I know I shouldn't say polling um hold on I'm",
    "start": "1684380",
    "end": "1689600"
  },
  {
    "text": "just repeating the question for everybody um so we have a demon that pulls and then the question was have we thought",
    "start": "1689600",
    "end": "1695419"
  },
  {
    "text": "about enhancing it to support web hooks on top of that all right so web hooks from grafana to",
    "start": "1695419",
    "end": "1702679"
  },
  {
    "text": "call out when a change happens that's a really good question it is a really good question I think we it has actually been debated internally before",
    "start": "1702679",
    "end": "1709220"
  },
  {
    "text": "um I honestly don't know what the situation is so I mean grafana grafana issues please",
    "start": "1709220",
    "end": "1717880"
  },
  {
    "text": "I'm grafana sometimes but what the official answer was on it so far but I bet there's an issue already there for",
    "start": "1719900",
    "end": "1726200"
  },
  {
    "text": "it I wouldn't be surprised this person way over here",
    "start": "1726200",
    "end": "1732559"
  },
  {
    "text": "uh is the mic gonna work we have time for like maybe one more question I think all right one second if you're quick we",
    "start": "1732559",
    "end": "1739220"
  },
  {
    "text": "can maybe do two hurry",
    "start": "1739220",
    "end": "1743200"
  },
  {
    "text": "was that a question or a statement s",
    "start": "1758840",
    "end": "1764930"
  },
  {
    "text": "[Music]",
    "start": "1764930",
    "end": "1768609"
  },
  {
    "text": "okay I think you understand so you're saying are we considered doing it in cross-plane so using like a kubernetes",
    "start": "1770500",
    "end": "1777200"
  },
  {
    "text": "crd for applying a graffana dashboard that would be neat to do but no we didn't we didn't actually look at it I",
    "start": "1777200",
    "end": "1783440"
  },
  {
    "text": "have like that would kind of fit I suppose I have like weird thoughts about cross-plane and like it's provisioning against stuff",
    "start": "1783440",
    "end": "1789860"
  },
  {
    "text": "that could be technically be outside the cluster and you're kind of adding an extra layer in here that I'm not sure is",
    "start": "1789860",
    "end": "1795380"
  },
  {
    "text": "like the complexity is worth it in some cases but it's a good question and we didn't really look at it yet",
    "start": "1795380",
    "end": "1801260"
  },
  {
    "text": "okay last last one real quick last question",
    "start": "1801260",
    "end": "1805600"
  },
  {
    "text": "yes it kind of works yeah in the VR you were doing a terraformed by kind of at the",
    "start": "1806539",
    "end": "1813740"
  },
  {
    "text": "same time with the uh the version of the people foreign",
    "start": "1813740",
    "end": "1819039"
  },
  {
    "text": "so that's a good question and at the moment no although ideally what we should be doing is not applying until",
    "start": "1825640",
    "end": "1831740"
  },
  {
    "text": "the merge occurs yeah the way that Atlanta seems to work is that you comment Atlantis apply and",
    "start": "1831740",
    "end": "1838880"
  },
  {
    "text": "then it applies it and then the pr is still open and then you're supposed to merge it afterwards and it's kind of weird because you sort of feel like you",
    "start": "1838880",
    "end": "1844340"
  },
  {
    "text": "should merge it and then that should result in the apply but it seems to be just that's the way Atlantis works I wasn't able to find if you could",
    "start": "1844340",
    "end": "1850520"
  },
  {
    "text": "reconfigure it to work a different way that's also why we had the GitHub action that runs the comments Atlantis apply",
    "start": "1850520",
    "end": "1856700"
  },
  {
    "text": "for us when you approve the pr so we kind of stuck that in as a bit of extra glue now maybe flux is terraform",
    "start": "1856700",
    "end": "1863120"
  },
  {
    "text": "controller would actually do this in a better way we won't know until we try it out but the worst you know we just create another GitHub action that says",
    "start": "1863120",
    "end": "1869179"
  },
  {
    "text": "when a merge curves you just run a line display probably one more",
    "start": "1869179",
    "end": "1874419"
  },
  {
    "text": "yeah we're getting extra time for a question oh crap uh sorry how do you manage",
    "start": "1874419",
    "end": "1882520"
  },
  {
    "text": "all changes to production refinance because in this case you would get a you",
    "start": "1883279",
    "end": "1888559"
  },
  {
    "text": "know huge difference when you try to apply changes for like so if somebody you're saying if somebody",
    "start": "1888559",
    "end": "1894320"
  },
  {
    "text": "changed the dashboard in the production grafana so they can't because we're",
    "start": "1894320",
    "end": "1899480"
  },
  {
    "text": "literally disallowing them from doing that so like the only people who could do it would literally be our team of",
    "start": "1899480",
    "end": "1904700"
  },
  {
    "text": "four people because we'll be the only people with permissions to do that if that was to happen uh I guess you just",
    "start": "1904700",
    "end": "1910520"
  },
  {
    "text": "delete it out of production then just re-push it from obviously telephone's gonna provision everything again the thing about grafana now is from grafana",
    "start": "1910520",
    "end": "1917500"
  },
  {
    "text": "nine we put in a very very detailed fine level grained access control system so",
    "start": "1917500",
    "end": "1922700"
  },
  {
    "text": "we can actually give permissions to lots of people to do everything they need to do but not edit the things we don't want",
    "start": "1922700",
    "end": "1927860"
  },
  {
    "text": "them to edit so actually griffano has given this net thankfully grafana has the ability to do all of that very very",
    "start": "1927860",
    "end": "1933260"
  },
  {
    "text": "easily without having to worry about it I forgot this is 35 minutes not 30.",
    "start": "1933260",
    "end": "1940580"
  },
  {
    "text": "any more questions yeah one over here",
    "start": "1940580",
    "end": "1947179"
  },
  {
    "text": "Shout um",
    "start": "1947179",
    "end": "1951520"
  },
  {
    "text": "[Music]",
    "start": "1953860",
    "end": "1956940"
  },
  {
    "text": "what do you get out of running Atlantis instead of just running terraform apply in like a CI",
    "start": "1958960",
    "end": "1966220"
  },
  {
    "text": "it was quick and easy to set up like well no so the other thing that you're getting for not directly running it",
    "start": "1977919",
    "end": "1984140"
  },
  {
    "text": "automatically in a CI is you get to see it before it runs so it comments in the pr shows you the whole plan lets you see",
    "start": "1984140",
    "end": "1991039"
  },
  {
    "text": "what the diff will be so that people in our team can go and look and say oh it's going to do this that looks okay we can",
    "start": "1991039",
    "end": "1996740"
  },
  {
    "text": "let it run instead of if you run in CI it's always assuming everything is okay and everything may not be okay something",
    "start": "1996740",
    "end": "2002740"
  },
  {
    "text": "something weird could be happening and you could you could you might never see the diff and all of a sudden terraforms wiped out every dashboard you have",
    "start": "2002740",
    "end": "2009760"
  },
  {
    "text": "so it's kind of so you can see what it's going to do and save yourself hopefully from some kind of Destruction",
    "start": "2009760",
    "end": "2017279"
  },
  {
    "text": "anymore you can come talk to us after but uh",
    "start": "2029380",
    "end": "2034659"
  },
  {
    "text": "thanks very much folks thank you [Applause]",
    "start": "2034659",
    "end": "2040829"
  }
]