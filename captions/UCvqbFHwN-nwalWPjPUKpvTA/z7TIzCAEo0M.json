[
  {
    "start": "0",
    "end": "76000"
  },
  {
    "text": "hello well I know you're still coming in but we're gonna go on ahead get started we've got a lot of ground to cover today so I'll give you a minute more here as",
    "start": "120",
    "end": "8340"
  },
  {
    "text": "you're coming in so I am Greg Taylor I am an engineering manager at on reddit's",
    "start": "8340",
    "end": "14820"
  },
  {
    "text": "infrastructure team and today I'll be sharing the origin story of kubernetes at reddit we'll cover some of the",
    "start": "14820",
    "end": "19980"
  },
  {
    "text": "historical context go over the motivation for our adoption and talk through what we're building now first of",
    "start": "19980",
    "end": "26910"
  },
  {
    "text": "all for a moment for my own gratification by a raise of hands how many are familiar with reddit is some",
    "start": "26910",
    "end": "33180"
  },
  {
    "text": "level ok let the record show that there are quite a few but for everybody else",
    "start": "33180",
    "end": "38780"
  },
  {
    "text": "what is reddit depends on who you ask but today we tend to define read as a",
    "start": "38780",
    "end": "44309"
  },
  {
    "text": "network of communities called subreddits and within these sub reddits users are able to share content in the form of",
    "start": "44309",
    "end": "50969"
  },
  {
    "text": "text images videos or links and this is where it gets interesting",
    "start": "50969",
    "end": "56070"
  },
  {
    "text": "oh the you the other users can then comment on these submissions which is where a lot of the magic happens at",
    "start": "56070",
    "end": "61109"
  },
  {
    "text": "reddit and from there up hooks and down votes by fellow users determine what submissions in comments bubble to the",
    "start": "61109",
    "end": "67320"
  },
  {
    "text": "top and through a combination of user driven moderation and voting subreddit",
    "start": "67320",
    "end": "72479"
  },
  {
    "text": "to end up being curated sources for the things that interest you and a due to a",
    "start": "72479",
    "end": "78030"
  },
  {
    "start": "76000",
    "end": "76000"
  },
  {
    "text": "monthly active user base of over 400 million we are home to subjects that cover just about every imaginable topic",
    "start": "78030",
    "end": "85140"
  },
  {
    "text": "news politics sports technology music underwater basket-weaving and of course",
    "start": "85140",
    "end": "92820"
  },
  {
    "text": "whatever more obscure stuff you might be into but no judgement here and whether",
    "start": "92820",
    "end": "98700"
  },
  {
    "text": "you're in - you're looking at participate discussion secret offers support or debate the finer points of",
    "start": "98700",
    "end": "105149"
  },
  {
    "text": "YouTube haikus or see pictures of birds with arms instead of wings you'll be able to find a home",
    "start": "105149",
    "end": "112409"
  },
  {
    "text": "in one of our 140,000 communities and let's take a look at one of these communities looks like a shameless plug",
    "start": "112409",
    "end": "119070"
  },
  {
    "start": "117000",
    "end": "117000"
  },
  {
    "text": "here this is our kubernetes subreddit located at reddit.com slash are slash kubernetes and here you'll find over",
    "start": "119070",
    "end": "126140"
  },
  {
    "text": "15,000 coober not sharing articles tips asking questions and sharing in victory",
    "start": "126140",
    "end": "131910"
  },
  {
    "text": "and and we've got the we've got discussion posts up for each day of Q Khan as well so make sure to stop by and say hi and",
    "start": "131910",
    "end": "138350"
  },
  {
    "text": "if you haven't already if you haven't already check it out I'm a little bit biased but I consider this to be one of",
    "start": "138350",
    "end": "145010"
  },
  {
    "text": "the better communities for kubernetes on the web so with our briefest of brief",
    "start": "145010",
    "end": "150770"
  },
  {
    "text": "introductions to read it taken care of let's get started on the main event the origin story of kubernetes at reddit so",
    "start": "150770",
    "end": "157700"
  },
  {
    "text": "our story begins back in simpler times early 2016 to be more specific",
    "start": "157700",
    "end": "163690"
  },
  {
    "start": "161000",
    "end": "161000"
  },
  {
    "text": "so you'll see our lovable monolith pictured in the middle standing alone there's no other services around it we",
    "start": "163690",
    "end": "170060"
  },
  {
    "text": "had about 20 engineers in total which were split into around three different engineering teams and since this story",
    "start": "170060",
    "end": "176450"
  },
  {
    "start": "176000",
    "end": "176000"
  },
  {
    "text": "is from the perspective of the infrastructure team let's talk a little bit about what life look like for us back in 2016 we handled a mixture of",
    "start": "176450",
    "end": "184130"
  },
  {
    "text": "operations and some back-end development on the monolith and since we had a relatively static monolith the",
    "start": "184130",
    "end": "190130"
  },
  {
    "text": "infrastructure team was also responsible for handling the provisioning and configuration of all of our systems",
    "start": "190130",
    "end": "196330"
  },
  {
    "text": "additionally we handled most of the non-trivial debugging when things do go wrong since we had enough access to poke",
    "start": "196330",
    "end": "202970"
  },
  {
    "text": "at the dustiest corners of the infrastructure and the codebase and this arrangement served as well for well",
    "start": "202970",
    "end": "208460"
  },
  {
    "text": "around a decade until the middle of 2016 change was a foot high okay",
    "start": "208460",
    "end": "216200"
  },
  {
    "start": "213000",
    "end": "213000"
  },
  {
    "text": "bear with me for a minute where this is relevant anybody here watch the original Power Rangers ok there's enough of you",
    "start": "216200",
    "end": "224060"
  },
  {
    "text": "here remember that bit where the evil villain Rita Repulsa was like my monster",
    "start": "224060",
    "end": "229490"
  },
  {
    "text": "bro and then the rubbish soup guy goes small it's kind of what happened I read",
    "start": "229490",
    "end": "235280"
  },
  {
    "text": "in 2016 we uh if you can imagine or see ghosts as their Steve saying that that's",
    "start": "235280",
    "end": "241820"
  },
  {
    "text": "totally how it went down so started the year maybe a little bit less than 20",
    "start": "241820",
    "end": "247190"
  },
  {
    "text": "engineers ended the year over 60 engineers and it only picked up from then we didn't slow down and in 2017 and",
    "start": "247190",
    "end": "253430"
  },
  {
    "text": "2018 we kept adding new we kept adding new teams and they kept that a new server you know just all sorts of",
    "start": "253430",
    "end": "259100"
  },
  {
    "text": "interesting things are going on there so as far as the trajectory of this into the",
    "start": "259100",
    "end": "264730"
  },
  {
    "text": "now present were arrayed around under 200 engineers so that's a rate around a 10x increase from beginning of 2016",
    "start": "264730",
    "end": "271120"
  },
  {
    "text": "which is pretty substantial for us anyway as our ranks grew we began having difficulty in scaling the development of",
    "start": "271120",
    "end": "278560"
  },
  {
    "text": "the monolith with our rapidly growing team and while there are plenty of examples of organizations successfully",
    "start": "278560",
    "end": "284380"
  },
  {
    "text": "developing against the monolith our particular model was fragile and full of sharp edges that had accumulated over",
    "start": "284380",
    "end": "291520"
  },
  {
    "text": "almost ten years it was difficult to make changes without unexpected breakages there was layers and layers of",
    "start": "291520",
    "end": "297640"
  },
  {
    "text": "caching and all sorts of things in there nasty bits so development was much like this was much like the development",
    "start": "297640",
    "end": "303670"
  },
  {
    "text": "equivalent of the butterfly effect but with a lot more explosions and as a result of this our productivity was not",
    "start": "303670",
    "end": "310330"
  },
  {
    "text": "scaling as well as we had hoped as the or group so we had a spirited gathering",
    "start": "310330",
    "end": "315670"
  },
  {
    "start": "313000",
    "end": "313000"
  },
  {
    "text": "to decide a path board and our goal was to set of course that'll allow many engineering teams to efficiently develop",
    "start": "315670",
    "end": "321250"
  },
  {
    "text": "and operate alongside one another and we considered a number of options running the gamut from rehabilitating the",
    "start": "321250",
    "end": "326830"
  },
  {
    "text": "monolith to the ever dreaded complete rewrite and after much discussion nationally of teeth",
    "start": "326830",
    "end": "333040"
  },
  {
    "text": "we decided split oh I'll start picking",
    "start": "333040",
    "end": "338710"
  },
  {
    "start": "337000",
    "end": "337000"
  },
  {
    "text": "apart the monolith into a service-oriented architecture or an SOA previously as a smaller organisation the",
    "start": "338710",
    "end": "344980"
  },
  {
    "text": "additional complexity of an SOA was unattractive to us but as a larger and still rapidly growing organization with",
    "start": "344980",
    "end": "352120"
  },
  {
    "text": "a difficult monolith we saw this is the best path board we felt that this would give us a better separation of concerns",
    "start": "352120",
    "end": "358180"
  },
  {
    "text": "and understood that this would come with a with a few new problems to deal with",
    "start": "358180",
    "end": "363240"
  },
  {
    "text": "with the decision made they plunged headfirst into our brave new service-oriented world and lo and behold",
    "start": "363240",
    "end": "369880"
  },
  {
    "text": "all of our problems were solved we stood up our own death star services and trotted off into the sunset thanks for",
    "start": "369880",
    "end": "376450"
  },
  {
    "text": "joining me today folks that's all and then I'll see you later or maybe not so we started standing up",
    "start": "376450",
    "end": "383500"
  },
  {
    "start": "380000",
    "end": "380000"
  },
  {
    "text": "new services and we hired four and we built out new engineering teams and those new teams stood up their own",
    "start": "383500",
    "end": "388780"
  },
  {
    "text": "services and before we knew it routing all of these new services through the infrastructure team for production",
    "start": "388780",
    "end": "394330"
  },
  {
    "text": "ization the problematic we had became a bottleneck when I say we the infrastructure team",
    "start": "394330",
    "end": "399400"
  },
  {
    "text": "service owners had to wait for us to stand up configure new infrastructure for them and also we handled most of the",
    "start": "399400",
    "end": "405910"
  },
  {
    "text": "incident response and production debugging since we had the most permissions can has anybody been here",
    "start": "405910",
    "end": "412030"
  },
  {
    "text": "just a few all right you know where this is going right let's load the frustration all around the",
    "start": "412030",
    "end": "417850"
  },
  {
    "text": "infrastructure team was discouraged by the constant pages and the hefty backlog of teams waiting for us to do things and",
    "start": "417850",
    "end": "424000"
  },
  {
    "text": "the other teams were rectly not pleased with having to wait long periods for new services or changes so",
    "start": "424000",
    "end": "430620"
  },
  {
    "text": "seeking some short-term relief we trained of the few more infrastructure oriented teams to use our standard",
    "start": "430620",
    "end": "437350"
  },
  {
    "text": "tooling or standard infrastructure operations willing to do some of this work on their own and these teams were",
    "start": "437350",
    "end": "443500"
  },
  {
    "text": "able to gather a measure of Independence that relieved some of the pressure on us but is this this is the solution our",
    "start": "443500",
    "end": "450340"
  },
  {
    "text": "problems here expecting everybody to you know moonlight as an infrastructure engineer give me like some nod there's",
    "start": "450340",
    "end": "456040"
  },
  {
    "text": "some shaking of heads oh man I got like - yeah no I thank you spirited yes this",
    "start": "456040",
    "end": "462790"
  },
  {
    "text": "wasn't something we could do for the entire the organization and the truth of it is that not all teams want to or are",
    "start": "462790",
    "end": "469420"
  },
  {
    "text": "able to operate the full stack for their service there is really a spectrum of",
    "start": "469420",
    "end": "474760"
  },
  {
    "text": "infra comfort to contend with for example when faced with a prospect of doing infrastructure work some teams",
    "start": "474760",
    "end": "481420"
  },
  {
    "text": "will eagerly dive in no problem others will soon throw their laptop in the trash leave the building and change",
    "start": "481420",
    "end": "488230"
  },
  {
    "text": "careers to something more pleasant why whatever this is but you yeah and that's",
    "start": "488230",
    "end": "496690"
  },
  {
    "text": "a way good but what is that we really want here let's step back and look at",
    "start": "496690",
    "end": "501700"
  },
  {
    "start": "498000",
    "end": "498000"
  },
  {
    "text": "these issues from a higher level perspective the infrastructure team is feeling the weight of a large backlog of work from other teams they're also",
    "start": "501700",
    "end": "508330"
  },
  {
    "text": "feeling fatigued by the volume of diagnostic and incident response work and on the other side of this our fellow",
    "start": "508330",
    "end": "514450"
  },
  {
    "text": "engineering teams are frustrated by having to wait on us for service provisioning and by extension they're",
    "start": "514450",
    "end": "519700"
  },
  {
    "text": "feeling like they're not in control over the other services lifecycle and also perhaps most importantly of all - our",
    "start": "519700",
    "end": "526000"
  },
  {
    "text": "sleep they're on the service owners are unable to debug many issues in production",
    "start": "526000",
    "end": "531350"
  },
  {
    "text": "themselves which is a really fun place to be if you might imagine so this summarizes our situation we were lacking",
    "start": "531350",
    "end": "538370"
  },
  {
    "text": "the ability for engineering teams to fully own their service so we work to",
    "start": "538370",
    "end": "543890"
  },
  {
    "start": "542000",
    "end": "542000"
  },
  {
    "text": "establish Redis definition of service ownership and we define this as saying",
    "start": "543890",
    "end": "549260"
  },
  {
    "text": "that a service owner at reddit is empowered and expected to develop their",
    "start": "549260",
    "end": "554360"
  },
  {
    "text": "service from start to finish to deploy their service early and often and once in production they're expected to",
    "start": "554360",
    "end": "560360"
  },
  {
    "text": "operate their service this includes owning the availability and performance of said service and after hearing all",
    "start": "560360",
    "end": "566839"
  },
  {
    "text": "this you may say to yourself yes Greg is that sounds great but uh how do we get there well we have",
    "start": "566839",
    "end": "574190"
  },
  {
    "text": "to get away from expecting engineering teams to piece together services from a few dozen building clocks many of which",
    "start": "574190",
    "end": "581120"
  },
  {
    "text": "are outside their technical background and instead appoint engineering teams at a well-manicured path and concept to",
    "start": "581120",
    "end": "587210"
  },
  {
    "text": "production that sounds lovely doesn't this path through production should be explicitly defined and assume no prior",
    "start": "587210",
    "end": "593209"
  },
  {
    "text": "exposure to our stack will expose the smallest possible technical surface area to the user avoiding the need to learn a",
    "start": "593209",
    "end": "600560"
  },
  {
    "text": "dozen new tools and technologies and to execute on this vision we needed to package up our knowledge process best",
    "start": "600560",
    "end": "607850"
  },
  {
    "text": "practices and other things into a more accessible form I'd like to introduce",
    "start": "607850",
    "end": "613010"
  },
  {
    "text": "you to infrared our reddit infrastructure product built on kubernetes the rest of this talk will go",
    "start": "613010",
    "end": "619400"
  },
  {
    "text": "into more detail about the theory behind in the implementation of infrared so to",
    "start": "619400",
    "end": "625310"
  },
  {
    "text": "summarize the mission for infrared a service owner should be able to develop deploy and operate their service and we",
    "start": "625310",
    "end": "632900"
  },
  {
    "text": "must allow for this regardless of an engineer's background and infrastructure and you're gonna hear me say that those",
    "start": "632900",
    "end": "638270"
  },
  {
    "text": "previous two defendants is quite a bit here so bear with me and also understand that these are these are just central to our philosophy it may look a little bit",
    "start": "638270",
    "end": "645740"
  },
  {
    "text": "different at your company but have something like this and stick to it so we've defined a mission statement or",
    "start": "645740",
    "end": "652400"
  },
  {
    "text": "whatever you'd like to call it and the idea here is that if an engineer passes the bar for engineering",
    "start": "652400",
    "end": "658980"
  },
  {
    "text": "they should be able to own a service and we'll start by zooming and I'm just the develop portion of this underpinning",
    "start": "658980",
    "end": "666180"
  },
  {
    "start": "665000",
    "end": "665000"
  },
  {
    "text": "much of our offering is a reddit service specification in order for us to build an accessible and productive experience",
    "start": "666180",
    "end": "672120"
  },
  {
    "text": "for engineers we need our services to be of a similar shape and that means that",
    "start": "672120",
    "end": "677819"
  },
  {
    "text": "we have to establish some standards to be followed regardless of the language or choice of frameworks we've",
    "start": "677819",
    "end": "683189"
  },
  {
    "text": "standardized things like our RPC protocol how we set and retrieve secrets and how we emit metrics isn't races and",
    "start": "683189",
    "end": "689160"
  },
  {
    "text": "also how we structure our logs we have encoded our standards into a language independent service specification and",
    "start": "689160",
    "end": "695819"
  },
  {
    "text": "from there we have service frameworks for each language in use at reddit and",
    "start": "695819",
    "end": "701610"
  },
  {
    "text": "all of these person per language service but frameworks all implement that specifications we're talking about here",
    "start": "701610",
    "end": "707040"
  },
  {
    "text": "if you like in this illustration of this you can see our Python implementation of the service spec on github it's under",
    "start": "707040",
    "end": "713100"
  },
  {
    "text": "our edit organization and it's called base plate and mind you this is very opinionated it is probably not gonna be",
    "start": "713100",
    "end": "719189"
  },
  {
    "text": "useful to you out of the box but this may inspire you or otherwise inform similar processes happening at your",
    "start": "719189",
    "end": "725759"
  },
  {
    "text": "respective organization so check it out so with her aunt our service specification in hand the beginning of",
    "start": "725759",
    "end": "732420"
  },
  {
    "start": "728000",
    "end": "728000"
  },
  {
    "text": "our development process starts with a code generator then we use something called cookie cutter by Audrey",
    "start": "732420",
    "end": "737459"
  },
  {
    "text": "Greenfield anybody you know what that is okay well just a few basically this",
    "start": "737459",
    "end": "743819"
  },
  {
    "text": "allows us to turn our service stub that follows our service spec this gets assistance as far as a hello world type",
    "start": "743819",
    "end": "749850"
  },
  {
    "text": "state of development the generator project also includes supporting pieces like a docker file and CI and deploy",
    "start": "749850",
    "end": "756120"
  },
  {
    "text": "configs and since all new services follow our service specification we are also able to generate home charts for",
    "start": "756120",
    "end": "762689"
  },
  {
    "text": "the new service our reddit service home charts are not tied to particular languages or libraries and that's very",
    "start": "762689",
    "end": "768959"
  },
  {
    "text": "important for us in defining that specification we can mix and match languages with these generated home",
    "start": "768959",
    "end": "774720"
  },
  {
    "text": "charts and this is a much better experience for the developers and by offering automation to kick-start a new",
    "start": "774720",
    "end": "780899"
  },
  {
    "text": "service our service bootstrapping process is much easier and it also avoids the expectation that all",
    "start": "780899",
    "end": "787379"
  },
  {
    "text": "engineers know how to write a home chart from scratch wait you'll see here that is uh that is a very inhumane to subjective thing you're",
    "start": "787379",
    "end": "793459"
  },
  {
    "text": "here your engineers too so consider you know whatever whatever which you like be",
    "start": "793459",
    "end": "798889"
  },
  {
    "text": "it abstraction or automation or both strongly consider it and now that we",
    "start": "798889",
    "end": "804259"
  },
  {
    "text": "have a new service and it's corresponding home chart ready we're this time start development before this",
    "start": "804259",
    "end": "809749"
  },
  {
    "text": "purpose we use Google scaffold to facilitate that process and this gives us an edit rebuild refresh loop that is",
    "start": "809749",
    "end": "816230"
  },
  {
    "text": "accessible and familiar to our engineers and as far as some of the thought process behind this in our development",
    "start": "816230",
    "end": "821869"
  },
  {
    "text": "process some of the major considerations are that it should be accessible without a deep understanding of kubernetes it",
    "start": "821869",
    "end": "828290"
  },
  {
    "text": "must be a similar to production as possible it should reuse the same helm charts and docker images in development",
    "start": "828290",
    "end": "833959"
  },
  {
    "text": "staging and production and this is a recent one that we've we've had a really hard time dealing with but we must avoid",
    "start": "833959",
    "end": "840889"
  },
  {
    "text": "exhausting our standard dev laptops to resources and the primary culprit here is memory for us and as an additional",
    "start": "840889",
    "end": "848449"
  },
  {
    "text": "interesting note we haven't historically used mini cube locally but are instead starting to shift more of this",
    "start": "848449",
    "end": "854389"
  },
  {
    "text": "development flow to a remote clusters due to the resources required to run the",
    "start": "854389",
    "end": "859610"
  },
  {
    "text": "full tapestry of services I would love to chat with you a little bit more out-of-band so come talk to us after the",
    "start": "859610",
    "end": "865129"
  },
  {
    "text": "presentation if you'd like so with development cover let's talk about how we build test and deploy our services we",
    "start": "865129",
    "end": "873139"
  },
  {
    "start": "872000",
    "end": "872000"
  },
  {
    "text": "use something called drone to run tests and build artifacts and the artifacts were mostly in the form of docker images",
    "start": "873139",
    "end": "878689"
  },
  {
    "text": "and there was a time where we were driving to pull driving deploys via drone in a helm plugin but we quickly",
    "start": "878689",
    "end": "884389"
  },
  {
    "text": "found that we needed more than a series of helm operator helm install calls and Hellman tiller together only have a",
    "start": "884389",
    "end": "889670"
  },
  {
    "text": "rudimentary understanding of the things that they are deploying this means that in many cases our deploy flow was more",
    "start": "889670",
    "end": "895399"
  },
  {
    "text": "fire-and-forget than we had wanted even when using Helms Helms - - wave flag and",
    "start": "895399",
    "end": "901339"
  },
  {
    "text": "a few other tricks we needed something that would better understand the state of the objects that we are creating or updating and as we move more towards a",
    "start": "901339",
    "end": "908779"
  },
  {
    "text": "towards a more automated future of merge and deployed queues we also needed something that could check our",
    "start": "908779",
    "end": "913970"
  },
  {
    "text": "instrumentation and pause a rollback when encountering failures or performance shifts and after considering",
    "start": "913970",
    "end": "919699"
  },
  {
    "text": "the options we chose in Turku the orcish eight deploys to our kubernetes clusters and to minimize the Sun of work we've",
    "start": "919699",
    "end": "926810"
  },
  {
    "text": "template it out a set of standard pipelines using JSON net and these are included in our new service cookie",
    "start": "926810",
    "end": "932840"
  },
  {
    "text": "cutter so you're starting to see how this ties together a little bit within these pipelines we're rendering the services home charge the animal and then",
    "start": "932840",
    "end": "940340"
  },
  {
    "text": "applying that he and all via Spinnaker's feed to kubernetes provider and the result of all this is that the users get",
    "start": "940340",
    "end": "946400"
  },
  {
    "text": "feedback as to how the deploy is progressing along with helpful inline diagnostics when things go wrong and",
    "start": "946400",
    "end": "952660"
  },
  {
    "text": "we're really excited about the future extensibility that all of the api's and spinnaker offer to us so we're not bound",
    "start": "952660",
    "end": "959930"
  },
  {
    "text": "to the spinnaker UI long term and we can do all sorts of fancy stuff to illustrate Howl's comes together let's",
    "start": "959930",
    "end": "965150"
  },
  {
    "start": "963000",
    "end": "963000"
  },
  {
    "text": "talk through a typical staging or production deploy flow first a developer pushes to a services canonical repo then",
    "start": "965150",
    "end": "971450"
  },
  {
    "text": "our CI system runs the services tests and publishes a docker image from here we offer a choice of two standard deploy",
    "start": "971450",
    "end": "977780"
  },
  {
    "text": "flows service owners can elect to have CI triggered deploy automatically or they can take matters into their own",
    "start": "977780",
    "end": "983390"
  },
  {
    "text": "hands and rely on a manual trigger we're likely to offer additional flows and new triggers in the future for example chat",
    "start": "983390",
    "end": "990230"
  },
  {
    "text": "ops the CLI some web-based thing other than the spinnaker UI doesn't really matter and one of the nice things about",
    "start": "990230",
    "end": "996230"
  },
  {
    "text": "spinnaker is that we can lean on the API to do interesting in new things we're",
    "start": "996230",
    "end": "1002230"
  },
  {
    "text": "not beholding them to its default UI now that we've covered deploys let's talk",
    "start": "1002230",
    "end": "1007450"
  },
  {
    "text": "about how we facilitate service operation this is where the meat of things is and this is probably where I suspected a lot of the interest is so I",
    "start": "1007450",
    "end": "1014500"
  },
  {
    "start": "1014000",
    "end": "1014000"
  },
  {
    "text": "will ramble on a bunch for you today so first an important bit of groundwork the",
    "start": "1014500",
    "end": "1019690"
  },
  {
    "text": "infrastructure team worked with the rest of engineering to define a contract that codifies what is expected from both",
    "start": "1019690",
    "end": "1025688"
  },
  {
    "text": "parties service owners are expected to learn the barest of basics about kubernetes and they're expected to",
    "start": "1025689",
    "end": "1031360"
  },
  {
    "text": "develop deploy and operate their own services the infrastructure team is responsible for provisioning maintaining",
    "start": "1031360",
    "end": "1038560"
  },
  {
    "text": "and scaling the underlying kubernetes clusters and if a service requires Amazon resources the cache a database",
    "start": "1038560",
    "end": "1044709"
  },
  {
    "text": "the infrastructure team is best equipped to provision and operate those it's not",
    "start": "1044709",
    "end": "1050110"
  },
  {
    "text": "as simple as apt-get installing Postgres memcache or cassandra at our scale you're going to a really bad time so it's you don't want",
    "start": "1050110",
    "end": "1057820"
  },
  {
    "text": "we don't want all of us our engineering teams to have to take their lumps like like we have on the infrastructure team",
    "start": "1057820",
    "end": "1063270"
  },
  {
    "text": "and finally the infrastructure team supports and advises the rest of the engineering organization on how to",
    "start": "1063270",
    "end": "1069190"
  },
  {
    "text": "design reliable performant and scalable services we as an engineering organization are at our best when each",
    "start": "1069190",
    "end": "1076180"
  },
  {
    "text": "team is spending the most of their time on the problems that they have been tasked with so we spend a lot of time",
    "start": "1076180",
    "end": "1083380"
  },
  {
    "text": "thinking about what a productive experience looks like for a service owner and we don't want engineers to have to struggle to figure out what to",
    "start": "1083380",
    "end": "1089590"
  },
  {
    "text": "do next or aimlessly slog through kubernetes your own or spinnaker documentation we instead provide a",
    "start": "1089590",
    "end": "1094810"
  },
  {
    "text": "library of paint-by-numbers guides to cover common tasks and problems for example here's how you create a new",
    "start": "1094810",
    "end": "1100810"
  },
  {
    "text": "service here's how to have your application assume a specific set of permissions here's how to enable auto",
    "start": "1100810",
    "end": "1106660"
  },
  {
    "text": "scaling here's how to deploy an experimental release that gets a fraction of production traffic and if we",
    "start": "1106660",
    "end": "1112750"
  },
  {
    "text": "are succeeding in our goal questions of how do I do X are responded to with a link to an existing guide or how to and",
    "start": "1112750",
    "end": "1118920"
  },
  {
    "text": "most importantly of all in addition to all of this we run training sessions in-person and distribute recordings",
    "start": "1118920",
    "end": "1126220"
  },
  {
    "text": "org-wide as they happen it's not enough to forego Nettie's over the wall at your engineers and expect good things to",
    "start": "1126220",
    "end": "1131590"
  },
  {
    "text": "happen but all of this is for naught if service owners lack the necessary",
    "start": "1131590",
    "end": "1136630"
  },
  {
    "start": "1133000",
    "end": "1133000"
  },
  {
    "text": "permissions to operate their service and production in cases where a service owner needs to diagnose or intervene",
    "start": "1136630",
    "end": "1142660"
  },
  {
    "text": "they use an internal CLI called our cube or reddit cube CLI they're creative to trigger a web-based open ID connect",
    "start": "1142660",
    "end": "1149740"
  },
  {
    "text": "flow and if you've seen DCPS g-cloud CLI it has an auth flow is very similar",
    "start": "1149740",
    "end": "1155830"
  },
  {
    "text": "we mostly ripped off that very idea so just imagine that with reddit logos and",
    "start": "1155830",
    "end": "1161230"
  },
  {
    "text": "other keep stuff after successfully successfully authenticating a JSON web",
    "start": "1161230",
    "end": "1166720"
  },
  {
    "text": "token is written out to the developers local cube config with a short-lived token and this token contains a payload",
    "start": "1166720",
    "end": "1172960"
  },
  {
    "text": "a sign payload but has the engineer's username and group memberships in tow and our our back policies on the cluster",
    "start": "1172960",
    "end": "1179590"
  },
  {
    "text": "side are based off of these group memberships and since we create a kubernetes namespace per service it then",
    "start": "1179590",
    "end": "1185830"
  },
  {
    "text": "becomes a matter of granting the service owners full mission to the namespaces for their services that they own the end result is",
    "start": "1185830",
    "end": "1192900"
  },
  {
    "text": "that service owners are empowered to get hands on with their own services but are unable to go spelunking and cube system",
    "start": "1192900",
    "end": "1198960"
  },
  {
    "text": "or other know the regions within our clusters but like they say with great",
    "start": "1198960",
    "end": "1205380"
  },
  {
    "start": "1202000",
    "end": "1202000"
  },
  {
    "text": "power comes great explosions unfortunately we can prevent whole classes and mistakes from happening with",
    "start": "1205380",
    "end": "1211530"
  },
  {
    "text": "some forethought and in cases where mistakes are made we can also limit some of the damage",
    "start": "1211530",
    "end": "1216630"
  },
  {
    "text": "for example resource limits on CPU and memory can reduce the likelihood of resource starvation network policies",
    "start": "1216630",
    "end": "1223080"
  },
  {
    "text": "reduce the likelihood of unauthorized access and we make these easy to include by virtue of baking these into our home",
    "start": "1223080",
    "end": "1229230"
  },
  {
    "text": "chart generator coming back to the home chart generator you're seeing this is an important thing another issue another",
    "start": "1229230",
    "end": "1235890"
  },
  {
    "text": "issue we've seen on inside and outside of kubernetes is a misbehaving service hammering it's downstream dependencies",
    "start": "1235890",
    "end": "1242300"
  },
  {
    "text": "retry storms just random spamming happening all sorts of other fun things",
    "start": "1242300",
    "end": "1248850"
  },
  {
    "text": "in bears oh my and to address this rolling out sto and envoy which will allow us to enforce",
    "start": "1248850",
    "end": "1254760"
  },
  {
    "text": "service the service rate limits add circuit breaking and we'll get a little bit more on the observability front as",
    "start": "1254760",
    "end": "1261120"
  },
  {
    "text": "well so again feel free to come and talk to us about this after the presentation we're still early on but happy to",
    "start": "1261120",
    "end": "1266760"
  },
  {
    "text": "compare notes another thing that can make for a long day is inadvertently exposing a service to the world or",
    "start": "1266760",
    "end": "1272610"
  },
  {
    "text": "running a questionable docker image we've we've been experimenting with the CNCs open policy agent which will allow",
    "start": "1272610",
    "end": "1278820"
  },
  {
    "text": "us to centrally define policies to prevent these and numerous things and finally we want to grant all of the",
    "start": "1278820",
    "end": "1285660"
  },
  {
    "text": "permissions needed for a service owner to operate their service but nothing more right now we're managing our Beck policies with",
    "start": "1285660",
    "end": "1293190"
  },
  {
    "text": "per cluster II Amal manifests and git but open policy agent will give us a more pleasant way to centrally manage",
    "start": "1293190",
    "end": "1300030"
  },
  {
    "text": "these I think there are either going to be some sessions on open policy agent or",
    "start": "1300030",
    "end": "1305610"
  },
  {
    "text": "there already have been check it out super promising stuff but despite our",
    "start": "1305610",
    "end": "1311190"
  },
  {
    "text": "best efforts they are going to be happy little accidents and",
    "start": "1311190",
    "end": "1317810"
  },
  {
    "text": "all right we don't want here yeah yeah that's that's exactly how it happens and since we're now in this bold and",
    "start": "1317810",
    "end": "1324020"
  },
  {
    "text": "beautiful New Age of service ownership the service owner gets paged when they decided to climb up on their truck and",
    "start": "1324020",
    "end": "1329960"
  },
  {
    "text": "you know lose control and then hit if tow phone pole or whatever so because",
    "start": "1329960",
    "end": "1336320"
  },
  {
    "text": "they're then expected that I diagnose and resolve the issue or at least take a first whack at it and if the service",
    "start": "1336320",
    "end": "1342110"
  },
  {
    "text": "owner ends up stumped or suspects an underlying an issue with the underlying infrastructure the infrastructure team",
    "start": "1342110",
    "end": "1347360"
  },
  {
    "text": "is available via an escalation chain and speaking of the infrastructure team we are a page when there are issues with",
    "start": "1347360",
    "end": "1353090"
  },
  {
    "text": "the kubernetes clusters caches databases or other bedrock pieces that require specialized knowledge to operate if the",
    "start": "1353090",
    "end": "1359870"
  },
  {
    "text": "service owner were to page us Bukka saundra for example we're probably going to end up getting paged anyway so again",
    "start": "1359870",
    "end": "1365870"
  },
  {
    "text": "keeping us focused on the things that we're best equipped to handle and as an added note we have a detailed incident",
    "start": "1365870",
    "end": "1371960"
  },
  {
    "text": "response plan that the whole engineering organization uses incidents are announced tracked an end with a",
    "start": "1371960",
    "end": "1377450"
  },
  {
    "text": "blameless post mortem which is very important as somebody who took Reddit down it was one of my first acts as an",
    "start": "1377450",
    "end": "1384500"
  },
  {
    "text": "employee so there is that like the think I want to credit the folks a page of duty for making their excellent instant",
    "start": "1384500",
    "end": "1391370"
  },
  {
    "text": "response guide publicly available it had a good deal of influence on how we operate here so if you haven't seen it",
    "start": "1391370",
    "end": "1396620"
  },
  {
    "text": "please do check it out is excellent and when things do go wrong our service owners appreciate you having a full",
    "start": "1396620",
    "end": "1402410"
  },
  {
    "start": "1399000",
    "end": "1399000"
  },
  {
    "text": "suite of tooling to assist in quickly determining root cause without insight",
    "start": "1402410",
    "end": "1407420"
  },
  {
    "text": "into how our services are performing a trivial problem can lead to guessing games are long or war long and fruitless",
    "start": "1407420",
    "end": "1414650"
  },
  {
    "text": "journeys as our protagonists repeatedly find that Pinterest piece Princess Peach is in another castle and",
    "start": "1414650",
    "end": "1422270"
  },
  {
    "text": "since our reddit service specification dictates what Diagnostics are to be admitted to where and in which formats",
    "start": "1422270",
    "end": "1428360"
  },
  {
    "text": "our users get a solid observability story out of the box this includes a",
    "start": "1428360",
    "end": "1433550"
  },
  {
    "text": "nice nice set of metrics and a default alerting story tracing exception and",
    "start": "1433550",
    "end": "1439010"
  },
  {
    "text": "error tracking and a cinch central log aggregation and analysis our per language service frameworks take care of",
    "start": "1439010",
    "end": "1445520"
  },
  {
    "text": "plumbing ever anything up instead of leaving engineers to buy overalls and curse loudly under the sink on their",
    "start": "1445520",
    "end": "1451600"
  },
  {
    "text": "I'm probably gonna sound like a broken record but a footnote here is that the tooling is supported by training and",
    "start": "1451600",
    "end": "1457210"
  },
  {
    "text": "documentation quite a few of these tools require some specialized knowledge to crack in practice the master so we have",
    "start": "1457210",
    "end": "1463960"
  },
  {
    "text": "to be diligent in spreading that knowledge so we've covered a lot of ground in service operation land let's",
    "start": "1463960",
    "end": "1470470"
  },
  {
    "text": "take a moment to recap by using kubernetes in infrared our internal infrastructure product service owners",
    "start": "1470470",
    "end": "1476980"
  },
  {
    "text": "have explicitly define responsibilities the service owner is responsible for the health and the performance of their",
    "start": "1476980",
    "end": "1483340"
  },
  {
    "text": "service the infrastructure team is responsible for the health of the kubernetes cluster and other bedrock",
    "start": "1483340",
    "end": "1489070"
  },
  {
    "text": "systems service owners have enough access to fully owned their services and",
    "start": "1489070",
    "end": "1494440"
  },
  {
    "text": "this allows them to respond to incidents diagnose issues and make operational changes on their own and also to prevent",
    "start": "1494440",
    "end": "1502539"
  },
  {
    "text": "and limit damage infrared includes a number of guardrails and safety we can prevent a number of common mistakes",
    "start": "1502539",
    "end": "1508600"
  },
  {
    "text": "through automatically enforced policies and we also reduce the likelihood of a misbehaving service impacting others via",
    "start": "1508600",
    "end": "1515020"
  },
  {
    "text": "our service mesh and finally service owners have the tools needed to diagnose issues on their own but what does all of",
    "start": "1515020",
    "end": "1523330"
  },
  {
    "text": "this well don't what it sounds great great what is that what does it bias well we've gone over how kubernetes an",
    "start": "1523330",
    "end": "1528520"
  },
  {
    "text": "infra-red enables service ownership or credit as far as what it bought us instead of the infrastructure team being",
    "start": "1528520",
    "end": "1535179"
  },
  {
    "text": "a bottleneck or frustrated and central dependency we've stepped out of the way and have empowered the engineering",
    "start": "1535179",
    "end": "1540789"
  },
  {
    "text": "organization to take ownership of our managed services the engineering teams are now able to develop deploy and",
    "start": "1540789",
    "end": "1547659"
  },
  {
    "text": "operate their services mostly on their own and they can do this regardless of prior engineering background now I will",
    "start": "1547659",
    "end": "1556000"
  },
  {
    "text": "warn you I have been known to drop the occasional dad joke and I might be about to do that right now so just again don't",
    "start": "1556000",
    "end": "1563320"
  },
  {
    "text": "roll your eyes too hard I guess that you can say that kubernetes in infrared has helped in for the infrastructure",
    "start": "1563320",
    "end": "1569679"
  },
  {
    "text": "team transform oh come on give me a token chuckle I was pretty bad wasn't it",
    "start": "1569679",
    "end": "1575850"
  },
  {
    "text": "yes thank you I deserve that I'm a terrible person I feel terrible I'm sorry everybody",
    "start": "1575850",
    "end": "1583440"
  },
  {
    "text": "whereas we serve in more of a traditional operations capacity in the past today we spend more of our time",
    "start": "1583440",
    "end": "1590470"
  },
  {
    "text": "building tooling process and automation that makes the rest of the engineering organization happier safer and more",
    "start": "1590470",
    "end": "1597520"
  },
  {
    "text": "productive so we'll close with some details on our kubernetes adoption at",
    "start": "1597520",
    "end": "1603250"
  },
  {
    "start": "1599000",
    "end": "1599000"
  },
  {
    "text": "reddit to start we operate about seven distinct clusters and are expected to add about a three to six in the next few",
    "start": "1603250",
    "end": "1609970"
  },
  {
    "text": "months we tend to prefer smaller more numerous clusters rather than larger but",
    "start": "1609970",
    "end": "1616090"
  },
  {
    "text": "less numerous clusters about half of our engineering teams are now interacting",
    "start": "1616090",
    "end": "1621370"
  },
  {
    "text": "with kubernetes those teams have deployed and are operating about 20 production level services on communities",
    "start": "1621370",
    "end": "1627100"
  },
  {
    "text": "today those 20 services see about 10 to 20 deploys on a typical weekday and to",
    "start": "1627100",
    "end": "1632710"
  },
  {
    "text": "give you an idea of how this adoption has progressed we evolved a subset of early adopters early on in our",
    "start": "1632710",
    "end": "1639550"
  },
  {
    "text": "development of infrared and with their candid feedback I hope you've been able to build something that represents a big",
    "start": "1639550",
    "end": "1646060"
  },
  {
    "text": "leap forward for service ownership at reddit and an interesting note is that usage has grown at a steady clip despite",
    "start": "1646060",
    "end": "1653140"
  },
  {
    "text": "us not actively pushing for a wider adoption just yet we've got some more things that we need to get an order",
    "start": "1653140",
    "end": "1658240"
  },
  {
    "text": "before throwing the floodgates open particularly with streamlining this and on automating this the service",
    "start": "1658240",
    "end": "1664510"
  },
  {
    "text": "onboarding process that we've talked about and finally interesting milestone we're targeting org wide availability",
    "start": "1664510",
    "end": "1671380"
  },
  {
    "text": "for infra-red in kubernetes in quarter one so at that point every new service",
    "start": "1671380",
    "end": "1677350"
  },
  {
    "text": "our credit will be provisioned on kubernetes by default today it's I think",
    "start": "1677350",
    "end": "1682840"
  },
  {
    "text": "it probably happens three out of four you know before so at the time but it will be the official default of quarter",
    "start": "1682840",
    "end": "1688690"
  },
  {
    "text": "one so very excited about that and this concludes the part of our session where I ramble at you for about half an hour",
    "start": "1688690",
    "end": "1694710"
  },
  {
    "text": "we're about to open this up for Q&A I wanted to leave plenty of time for that and it looks like we have succeeded",
    "start": "1694710",
    "end": "1699970"
  },
  {
    "text": "in that but before before we do that I wanted to put some of my colleagues on the spot",
    "start": "1699970",
    "end": "1706720"
  },
  {
    "text": "well though first I want to watch him squirm a little bit where are you ah are okay we're fortunate enough to have",
    "start": "1706720",
    "end": "1713920"
  },
  {
    "text": "seven fine individuals from Redis infrastructure team in attendance today oh boy I can see them sweat and they",
    "start": "1713920",
    "end": "1719770"
  },
  {
    "text": "think I'm gonna call them up here or something it's great please join me in peer pressure pressuring them to stand up so that we",
    "start": "1719770",
    "end": "1726250"
  },
  {
    "text": "can applaud them for their hard work yes",
    "start": "1726250",
    "end": "1732580"
  },
  {
    "text": "thank you here they are now you know what they look like wonderful speaking",
    "start": "1732580",
    "end": "1741550"
  },
  {
    "text": "of the team yes yes now you know where this is going if you seem to if what",
    "start": "1741550",
    "end": "1748059"
  },
  {
    "text": "you've seen today looks like something you'd be interested in being a part of we are hiring across a number of functions check out our job listings at",
    "start": "1748059",
    "end": "1754000"
  },
  {
    "text": "reddit comm slash jobs here are my details along with some resources you're",
    "start": "1754000",
    "end": "1759100"
  },
  {
    "start": "1756000",
    "end": "1756000"
  },
  {
    "text": "welcome to contact me on reddit as GC Taylor or on Twitter as the same name also please stop by sched skid yeah okay",
    "start": "1759100",
    "end": "1769510"
  },
  {
    "text": "the thing will remain ajar schedules on it's not by that leave a rating and some feedback for me so I can do better in",
    "start": "1769510",
    "end": "1775179"
  },
  {
    "text": "the future thanks for listening let's jump into QA the team and I will hang around as long until they kick us",
    "start": "1775179",
    "end": "1782500"
  },
  {
    "text": "out and we'll probably be on the haul so with that said yes have at it yell it out to me yes",
    "start": "1782500",
    "end": "1789720"
  },
  {
    "text": "[Music]",
    "start": "1799370",
    "end": "1802559"
  },
  {
    "text": "are we doing chaos engineering so this is not a like structured regimented",
    "start": "1816169",
    "end": "1821899"
  },
  {
    "text": "thing but we are always breaking things in new and interesting okay we do plan",
    "start": "1821899",
    "end": "1827059"
  },
  {
    "text": "on building a team out in 2019 we're still kind of working our way up from the bottom although over the Pyramid of whatever you would like to call it but",
    "start": "1827059",
    "end": "1834409"
  },
  {
    "text": "that's a really good question and we're excited to break things in new and interesting ways in the future yes let's",
    "start": "1834409",
    "end": "1841159"
  },
  {
    "text": "get something somebody back further yes oh it was sorry can you repeat that",
    "start": "1841159",
    "end": "1849009"
  },
  {
    "text": "yes why seven clusters so this is a what why seven clusters and how do you define",
    "start": "1849009",
    "end": "1854389"
  },
  {
    "text": "the boundaries of different clusters this too is a work in progress so basically and if you ask me six months",
    "start": "1854389",
    "end": "1862100"
  },
  {
    "text": "six months from now the answer is probably different so how it works is we",
    "start": "1862100",
    "end": "1867289"
  },
  {
    "text": "have sort of a catch-all production cluster if you don't have any if your service doesn't have any special needs you're going to end up in this series of",
    "start": "1867289",
    "end": "1873350"
  },
  {
    "text": "production clusters and we tend to not split clusters between AZ's so we have a",
    "start": "1873350",
    "end": "1878929"
  },
  {
    "text": "prod I'm hand waving here a bit but a prod ue1 a and a prod ue1 b and we rely",
    "start": "1878929",
    "end": "1885289"
  },
  {
    "text": "on our tooling to hide some of this as the plays are happening to the from the users perspective there are certain",
    "start": "1885289",
    "end": "1892159"
  },
  {
    "text": "teams that are a little bit more infrastructure oriented or have workloads that don't fit super neatly into the current picture set of",
    "start": "1892159",
    "end": "1900080"
  },
  {
    "text": "kubernetes and what we have in our offering for example very bandwidth heavy things there are ways to help the",
    "start": "1900080",
    "end": "1905779"
  },
  {
    "text": "scheduler become aware of this but it's not a it's not a very clearly defined thing so in cases where workloads are",
    "start": "1905779",
    "end": "1910999"
  },
  {
    "text": "very different or there are data sensitive concerns you may end up with a different cluster and those are",
    "start": "1910999",
    "end": "1916159"
  },
  {
    "text": "maintained and operated by the infant team the the cluster users that are running the services the service owners",
    "start": "1916159",
    "end": "1922460"
  },
  {
    "text": "are responsible for the health of the service and we maintain the clusters yeah and we perfectly as far as what",
    "start": "1922460",
    "end": "1929389"
  },
  {
    "text": "some of these clusters look like we tend to avoid doing them on about like naming",
    "start": "1929389",
    "end": "1935450"
  },
  {
    "text": "them after teams because those tend to change over time so it's more about the functional thing that they're of the",
    "start": "1935450",
    "end": "1940730"
  },
  {
    "text": "workload basically so that's where we stand today and I realize that is a",
    "start": "1940730",
    "end": "1946460"
  },
  {
    "text": "is kind of a higher level answer so please come up and talk to me afterward if you'd like to talk a little bit more here I'd love to hear what you're doing",
    "start": "1946460",
    "end": "1951710"
  },
  {
    "text": "too because we're always trying to refine this and it's very much a trial by error type situation yes but why",
    "start": "1951710",
    "end": "1961160"
  },
  {
    "text": "spinnaker yes this is a very good question so we did a an evaluation of where things stood it was about 3 or 4",
    "start": "1961160",
    "end": "1968810"
  },
  {
    "text": "months ago is that about right yeah round there and uh and to be honest there weren't a whole lot of options",
    "start": "1968810",
    "end": "1974600"
  },
  {
    "text": "that we felt like would get us to where we wanted to go and I think it comes down to flexibility during the deploy",
    "start": "1974600",
    "end": "1981170"
  },
  {
    "text": "process like being able to check our backing metrics doors being able to a bunch of different kinds of rollouts and",
    "start": "1981170",
    "end": "1987110"
  },
  {
    "text": "experimental releases and eventually getting to a more automated state of things than we have been in the past so",
    "start": "1987110",
    "end": "1992810"
  },
  {
    "text": "I think right now we're using spinnaker in a fairly basic way but we're really bullish on the future of the project and",
    "start": "1992810",
    "end": "1999200"
  },
  {
    "text": "what it will let us do and also the person who led that adoption is here and we'll be around up here to talk if you",
    "start": "1999200",
    "end": "2007330"
  },
  {
    "text": "like - after yes I'm volunteering you alright",
    "start": "2007330",
    "end": "2012960"
  },
  {
    "text": "the question was why did we move away from home file and we actually still use home file for you know cluster core",
    "start": "2020710",
    "end": "2027890"
  },
  {
    "text": "things like you know cube - I am and stuff that's a little more operations oriented the problem there was that",
    "start": "2027890",
    "end": "2035060"
  },
  {
    "text": "you've got a really nice declarative way to deploy things to your clusters but your route it's a very basic deploy flow",
    "start": "2035060",
    "end": "2041450"
  },
  {
    "text": "basically whatever deployments are daemon sets or the other primitive support that's all you get so a",
    "start": "2041450",
    "end": "2046790"
  },
  {
    "text": "spinnaker we get something a little bit more extensible beyond just I mean it's not quite fire-and-forget with home file",
    "start": "2046790",
    "end": "2052879"
  },
  {
    "text": "but it's it's not far from it either so that's that's kind of and again I know this is kind of vague I hope that's a",
    "start": "2052880",
    "end": "2059450"
  },
  {
    "text": "satisfying hamster but uh we think that in the future we'll be able to do a lot more spinnaker we get some uh I realize",
    "start": "2059450",
    "end": "2065780"
  },
  {
    "text": "I'm calling a lot over here look yes do we host in the cloud or are we on",
    "start": "2065780",
    "end": "2070970"
  },
  {
    "text": "pram we have we had a very brief on Prem I believe back over ten years ago and then we went to Amazon nine or ten years",
    "start": "2070970",
    "end": "2078409"
  },
  {
    "text": "ago and that's where he been ever since we have a very very very small presence and some other providers but uh mostly",
    "start": "2078410",
    "end": "2084409"
  },
  {
    "text": "Amazon yes what do we use for CD before",
    "start": "2084410",
    "end": "2090409"
  },
  {
    "text": "spinnaker yes it was drone paired with a helm file plug-in in there there's a there's an open source one it's not by",
    "start": "2090410",
    "end": "2096230"
  },
  {
    "text": "us but we forked that I forget who the author was it's it's it's an it's very",
    "start": "2096230",
    "end": "2101270"
  },
  {
    "text": "good if you have relatively simple needs and you don't need all the fancy things that spinner who can do you can't go wrong with home file yes yes what tools",
    "start": "2101270",
    "end": "2113510"
  },
  {
    "text": "do we use to launch and upgrade our clusters I'm glad that you answered this in there the people that are involved at",
    "start": "2113510",
    "end": "2122600"
  },
  {
    "text": "that I'm about to tell you about but some other folks are also here that would love to talk to you about it more",
    "start": "2122600",
    "end": "2127730"
  },
  {
    "text": "if anybody else was curious we treat our core tenant of our platform is that we treat our clusters is very disposable so",
    "start": "2127730",
    "end": "2133940"
  },
  {
    "text": "rather than upgrade we'd prefer to stand up a new cluster and shift the workload over so it looks like it's terraform",
    "start": "2133940",
    "end": "2139670"
  },
  {
    "text": "packer and there's a little sprinkling of puppet but it's not in the critical path so we're not dependent on it for a fully",
    "start": "2139670",
    "end": "2145700"
  },
  {
    "text": "bootstrapping nodes so that's worked out really well for us I felt bad about for a long time like",
    "start": "2145700",
    "end": "2151450"
  },
  {
    "text": "this feels terrible but now that I've surveyed the scene a little bit it sounds like this isn't as uncommon as I",
    "start": "2151450",
    "end": "2156520"
  },
  {
    "text": "feel in also we've had some success with this so happy to talk more if anybody's curious thank you good question yes what",
    "start": "2156520",
    "end": "2168850"
  },
  {
    "text": "do we use for making a container registry yes so we had started on Quay but we had some issues like we needed to",
    "start": "2168850",
    "end": "2175510"
  },
  {
    "text": "plug into our basically our organization's I am stuff a little bit better and we",
    "start": "2175510",
    "end": "2181750"
  },
  {
    "text": "ended up shifting through Amazon zcr it is very bare-bones you're not gonna get CVE scanning you're not gonna get",
    "start": "2181750",
    "end": "2187510"
  },
  {
    "text": "anything else but it is rock-solid as fast and it's already in Amazon so it has served us well but it is really only",
    "start": "2187510",
    "end": "2194710"
  },
  {
    "text": "something that you can push images to and pull it we had a right of front into like a browser for UCR it is just the",
    "start": "2194710",
    "end": "2201370"
  },
  {
    "text": "barest of bones so just know that going in so if you don't have any special needs this things like clay and docker",
    "start": "2201370",
    "end": "2207400"
  },
  {
    "text": "hug I mean you may you may prefer them instead another good question do we have",
    "start": "2207400",
    "end": "2219400"
  },
  {
    "text": "a dedicated account for at an artifact and docker image distribution in building yes we do it's creatively named",
    "start": "2219400",
    "end": "2225790"
  },
  {
    "text": "the Builder environment we talked a little bit about this in our home Summit talk earlier this year",
    "start": "2225790",
    "end": "2231550"
  },
  {
    "text": "if you're curious we've got lots of diagrams and whatnot but the idea there is a very lockdown restricted",
    "start": "2231550",
    "end": "2238060"
  },
  {
    "text": "environment there's only four asset building distribution so that's only a subset of the infant team has access to",
    "start": "2238060",
    "end": "2243640"
  },
  {
    "text": "that and we try to keep it as minimal as possible yes are we using Cassandra as",
    "start": "2243640",
    "end": "2253210"
  },
  {
    "text": "our database we have yes so okay alright so Cassandra short story",
    "start": "2253210",
    "end": "2263440"
  },
  {
    "text": "there is that at a high scale you can you can have a highly relate highly reliable a highly scalable Postgres",
    "start": "2263440",
    "end": "2269620"
  },
  {
    "text": "setup but it's it's it's a pretty difficult there's a lot of there's a lot of sharp edges to be aware of there",
    "start": "2269620",
    "end": "2275470"
  },
  {
    "text": "because Sondre gives us a very distributed a little bit more of a safe story a little more of a scalable story",
    "start": "2275470",
    "end": "2281410"
  },
  {
    "text": "more when we're talking about ridiculously high offs and Cori through but so a lot of them what we do is just",
    "start": "2281410",
    "end": "2286780"
  },
  {
    "text": "keep simple key value stuff and this is Raiden casandra's wheelhouse we don't use any of the fancy features so we've",
    "start": "2286780",
    "end": "2292240"
  },
  {
    "text": "got cache angry iconic signer behind it and in the future it could also give us a lot more multi-region stuff than we're",
    "start": "2292240",
    "end": "2297670"
  },
  {
    "text": "doing right now I got time for one more I'm a brief question yes back here yeah",
    "start": "2297670",
    "end": "2307920"
  },
  {
    "text": "so what's the start smart stack we did use Airbnb smart stack so it's a a proxy",
    "start": "2309780",
    "end": "2315250"
  },
  {
    "text": "and two components called nerve and synapse for a service registration or than a proxy it is very much it's a it's",
    "start": "2315250",
    "end": "2321460"
  },
  {
    "text": "like the one part of a service measure doesn't give you any of the rate-limiting or the mutual TLS or anything and we wanted more of that so",
    "start": "2321460",
    "end": "2327790"
  },
  {
    "text": "we have we have shifted from smart stack to envoy and now sto so that first",
    "start": "2327790",
    "end": "2333400"
  },
  {
    "text": "looked like swapping out envoy for H a proxy still pointing it at our central",
    "start": "2333400",
    "end": "2338740"
  },
  {
    "text": "zookeeper store and then the next step is that we're gonna start we're gonna we're gonna swap in pilot for you know",
    "start": "2338740",
    "end": "2344380"
  },
  {
    "text": "again the zookeeper side of things and magic will happen and actually the",
    "start": "2344380",
    "end": "2349540"
  },
  {
    "text": "person that is is gonna be helping with out on the kubernetes side is here in a tenant so please come up to I think",
    "start": "2349540",
    "end": "2354550"
  },
  {
    "text": "that's the music so I got a foul but we'll be around to answer questions will first be out here thank you",
    "start": "2354550",
    "end": "2361440"
  }
]