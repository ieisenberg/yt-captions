[
  {
    "text": "I'm so excited this is going to be so fun thank you for being here so welcome to Choose Your Own",
    "start": "1680",
    "end": "9400"
  },
  {
    "text": "Adventure the struggle for security meet hero hero is application",
    "start": "9400",
    "end": "16800"
  },
  {
    "text": "source code on a developer's laptop hero longs to be a real application running",
    "start": "16800",
    "end": "22680"
  },
  {
    "text": "in production serving end users and we're going to help hero along the way",
    "start": "22680",
    "end": "29160"
  },
  {
    "text": "so our job everyone in this room we're going to help hero navigate hundreds of cncf projects choose which ones to use",
    "start": "29160",
    "end": "36800"
  },
  {
    "text": "integrate them with one another to help hero on their way I'm Whitney this is",
    "start": "36800",
    "end": "43800"
  },
  {
    "text": "Victor Victor and I together host a show called you choose so on our show called",
    "start": "43800",
    "end": "50079"
  },
  {
    "text": "you choose each episode is a different system design Choice then we gather all",
    "start": "50079",
    "end": "55399"
  },
  {
    "text": "the relevant cncf technology that can do that thing whatever it is",
    "start": "55399",
    "end": "60559"
  },
  {
    "text": "we invite a presenter on usually a maintainer from each of the projects and they get five minutes only five minutes",
    "start": "60559",
    "end": "66680"
  },
  {
    "text": "to tell us what their Tech does and then the community votes and whichever",
    "start": "66680",
    "end": "72040"
  },
  {
    "text": "technology gets chosen we build we build into our ongoing demo So based on what the community has",
    "start": "72040",
    "end": "80000"
  },
  {
    "text": "chosen in our show we have a demo environment running right now that demo environment we have AWS eks cluster",
    "start": "80000",
    "end": "87799"
  },
  {
    "text": "that's defined declaratively with crossplane resources we are using Argo CD for",
    "start": "87799",
    "end": "94880"
  },
  {
    "text": "devops so actually our applications deployed in the cluster now and then",
    "start": "94880",
    "end": "100240"
  },
  {
    "text": "based on what you've chosen we have Contour as the Ingress so there are end",
    "start": "100240",
    "end": "106799"
  },
  {
    "text": "users able to access our application that's running in the demo environment so wait hero already is",
    "start": "106799",
    "end": "114240"
  },
  {
    "text": "running and production hero already is serving end user so what are we doing here today well the problem is B there's",
    "start": "114240",
    "end": "122799"
  },
  {
    "text": "no security so right now hero is endangering the users themselves and the",
    "start": "122799",
    "end": "129840"
  },
  {
    "text": "system and we need to help so that's where you come in so please scan this QR",
    "start": "129840",
    "end": "136319"
  },
  {
    "text": "code and we are going to do live voting during our session today we're going to",
    "start": "136319",
    "end": "141720"
  },
  {
    "text": "go through some different system design choices that will help add security to",
    "start": "141720",
    "end": "147160"
  },
  {
    "text": "our cluster and with each system designed Choice everyone in this room is going to vote and based on what you",
    "start": "147160",
    "end": "154040"
  },
  {
    "text": "choose we're going to build the demo live on the fly with your",
    "start": "154040",
    "end": "159159"
  },
  {
    "text": "choices so let's get started we're going to go through three different system design choices we're going to add",
    "start": "159159",
    "end": "164680"
  },
  {
    "text": "cluster level policy we're going to add runtime security and we're also going to talk about how to manage secrets so",
    "start": "164680",
    "end": "171879"
  },
  {
    "text": "let's do the thing and help hero run in a more secure production",
    "start": "171879",
    "end": "177000"
  },
  {
    "text": "environment so first up let's talk about Mission controller policies or cluster",
    "start": "177000",
    "end": "182120"
  },
  {
    "text": "level policies we're going to think about kerno Opa gatekeeper and CU Wen",
    "start": "182120",
    "end": "188400"
  },
  {
    "text": "but before we jump in what is admission level like cluster level policy or",
    "start": "188400",
    "end": "193959"
  },
  {
    "text": "admission controller policy so as things stand in the cluster bad things can",
    "start": "193959",
    "end": "199319"
  },
  {
    "text": "happen our apps can become bloated and use way too many resources or they might run outdated versions of software or",
    "start": "199319",
    "end": "207159"
  },
  {
    "text": "they might be pulling images from untrust Ed container Registries so we can add policy to help help with this so",
    "start": "207159",
    "end": "215280"
  },
  {
    "text": "policy is rules that you can add to your cluster organization specific rules that",
    "start": "215280",
    "end": "221239"
  },
  {
    "text": "you add to your cluster so with policy with cluster level policy we can add",
    "start": "221239",
    "end": "228000"
  },
  {
    "text": "memory and compute limits or we can de clearly Define what versions to run or",
    "start": "228000",
    "end": "233079"
  },
  {
    "text": "we can say that our our images can only be pulled from our safe internal company",
    "start": "233079",
    "end": "238480"
  },
  {
    "text": "registry so how does it work when you make a",
    "start": "238480",
    "end": "243560"
  },
  {
    "text": "policy what you're doing is adding configuration to the QBE API and you're",
    "start": "243560",
    "end": "248720"
  },
  {
    "text": "doing that in the form of an admission controller web hook so at this point there's nothing running in the cluster",
    "start": "248720",
    "end": "255400"
  },
  {
    "text": "you're just teaching Cube API that when a request comes in that falls under the",
    "start": "255400",
    "end": "261000"
  },
  {
    "text": "jurisdiction of this rule what you want Cube API to do is send that request to",
    "start": "261000",
    "end": "266919"
  },
  {
    "text": "the admission controller so the admission controller is actually a piece of software that's running in the",
    "start": "266919",
    "end": "272479"
  },
  {
    "text": "cluster and it can either be a mutating admission controller or a validating",
    "start": "272479",
    "end": "277759"
  },
  {
    "text": "admission controller so if it's validating it's going to return yes or no yes you're allowed to do this action",
    "start": "277759",
    "end": "284600"
  },
  {
    "text": "to this resource or no you're not if it's mutating it might change something",
    "start": "284600",
    "end": "289800"
  },
  {
    "text": "about the resource altogether it might add labels inject a container add memory compute limits this guy is the limit but",
    "start": "289800",
    "end": "297039"
  },
  {
    "text": "regardless it's going to return a response to Cube API and now the cube API is going to act in accordance with",
    "start": "297039",
    "end": "304520"
  },
  {
    "text": "your company policy so let's talk about the tools themselves first up we have kerno kerno",
    "start": "304520",
    "end": "312000"
  },
  {
    "text": "is a kubernetes native admission controller it's made for kubernetes and",
    "start": "312000",
    "end": "317720"
  },
  {
    "text": "as such you write your your policy in yaml kind of what you're you actually",
    "start": "317720",
    "end": "324520"
  },
  {
    "text": "are using uh kerno Json query language which is meant to look and feel like",
    "start": "324520",
    "end": "331360"
  },
  {
    "text": "yaml but it's not quite but the idea is if you're writing",
    "start": "331360",
    "end": "336600"
  },
  {
    "text": "cluster level policy you probably can reason about an author yaml the best of any language there are lots of other",
    "start": "336600",
    "end": "343680"
  },
  {
    "text": "bells and whistles too with kerno but they're not differentiating so we'll jump to the next one which is Opa",
    "start": "343680",
    "end": "349520"
  },
  {
    "text": "gatekeeper Opa stands for open policy agents and the OPA Parts without",
    "start": "349520",
    "end": "354919"
  },
  {
    "text": "gatekeeper just Opa is a platform agnostic policy engine so you can use it",
    "start": "354919",
    "end": "360440"
  },
  {
    "text": "to write policy for all your entire system not just kubernetes specific things the gatekeeper part is a wrapper",
    "start": "360440",
    "end": "368520"
  },
  {
    "text": "that brings Opa into kubernetes so now you can write Opa policy for your",
    "start": "368520",
    "end": "373720"
  },
  {
    "text": "kubernetes resources now with Opa you write your policy in a language called Rego which",
    "start": "373720",
    "end": "380639"
  },
  {
    "text": "is notoriously difficult to use so if you only want to write policy for kubernetes adding Rego might be adding",
    "start": "380639",
    "end": "388199"
  },
  {
    "text": "complexity that you don't need and then finally we have CU Wen CU Wen",
    "start": "388199",
    "end": "393639"
  },
  {
    "text": "they were like you know what we don't want to write policy in yaml and we don't want to write policy in Rego and",
    "start": "393639",
    "end": "400000"
  },
  {
    "text": "so with Cube Wen you can write policy in any language that you want and then that",
    "start": "400000",
    "end": "405039"
  },
  {
    "text": "policy is uh wrapped up it's compiled into a wasm module and that wasm module",
    "start": "405039",
    "end": "410919"
  },
  {
    "text": "runs as part of your admission controller software and cuboon is a younger project so it doesn't have as",
    "start": "410919",
    "end": "417000"
  },
  {
    "text": "many of the bells and whistles but it still can do some cool things so now it's time to vote these are our choices",
    "start": "417000",
    "end": "424639"
  },
  {
    "text": "and remember the technology you choose is not the winner it's just the one you",
    "start": "424639",
    "end": "429919"
  },
  {
    "text": "want to learn more about and please vote yeah I'm always happy when it",
    "start": "429919",
    "end": "437240"
  },
  {
    "text": "works nice",
    "start": "437240",
    "end": "440720"
  },
  {
    "text": "nice all right it seems pretty definite kerno it is",
    "start": "445240",
    "end": "450960"
  },
  {
    "text": "let's Victor's going to demo it for us yep uh I need my wait uh I need my",
    "start": "450960",
    "end": "457560"
  },
  {
    "text": "terminal okay let's do this uh full screen cool uh do you see",
    "start": "457560",
    "end": "463599"
  },
  {
    "text": "this big enough yeah cool okay so first thing I'm",
    "start": "463599",
    "end": "469159"
  },
  {
    "text": "going to do is copy um copy a file uh this one into this directory and",
    "start": "469159",
    "end": "476759"
  },
  {
    "text": "I'm going to call it policies. yo I'll show you the file is and the reason why I'm copying it first is because I have",
    "start": "476759",
    "end": "484680"
  },
  {
    "text": "Argo CD here and Argo CD takes a while until it synchronizes whatever I push there so first I'm going to push",
    "start": "484680",
    "end": "491120"
  },
  {
    "text": "something uh and I'm going to push it right now while Aro is trying to figure",
    "start": "491120",
    "end": "496919"
  },
  {
    "text": "out and it's deploying this policy let me show you what I'm pushing there so policies uh no what did I do",
    "start": "496919",
    "end": "506120"
  },
  {
    "text": "infra policies there we go um this is what I defined uh for what I",
    "start": "506120",
    "end": "512159"
  },
  {
    "text": "already have in a cluster It's relatively simple uh basically what I'm saying here is here I have a cluster",
    "start": "512159",
    "end": "518039"
  },
  {
    "text": "level policy mean meaning it can apply to any namespace um there is some labels",
    "start": "518039",
    "end": "523800"
  },
  {
    "text": "doesn't matter what does matter is that I'm saying hey if you find a deployment uh in the cluster and in the",
    "start": "523800",
    "end": "530360"
  },
  {
    "text": "production name space and somebody tries to create or update meaning I'm going to",
    "start": "530360",
    "end": "535440"
  },
  {
    "text": "ignore the uh deletion then uh uh the spec replicas",
    "start": "535440",
    "end": "541760"
  },
  {
    "text": "field needs to be bigger than two meaning that you need to have more than two replicas of the deployment in the",
    "start": "541760",
    "end": "547640"
  },
  {
    "text": "production a space right the second cluster policy as well says hey if you",
    "start": "547640",
    "end": "552760"
  },
  {
    "text": "have something in a cluster SQL claim which is a custom resource uh in this",
    "start": "552760",
    "end": "558079"
  },
  {
    "text": "case created by crossplane uh and you try to create or update then uh and this",
    "start": "558079",
    "end": "563839"
  },
  {
    "text": "is now in any namespace to be clear then the spec parameter size field can be",
    "start": "563839",
    "end": "570680"
  },
  {
    "text": "either small or medium and large those are the only three allowed values and then another cluster policy it says okay",
    "start": "570680",
    "end": "577440"
  },
  {
    "text": "again SQL claim whatever that is but if it's in production then it cannot be",
    "start": "577440",
    "end": "584000"
  },
  {
    "text": "small meaning that CLE claim anywhere anywhere must be small medium large but",
    "start": "584000",
    "end": "589160"
  },
  {
    "text": "in production cannot be small relatively easy relatively straightforward right now um let me see whether it was uh uh",
    "start": "589160",
    "end": "598760"
  },
  {
    "text": "deployed so get cluster claims there we go uh not yet there uh",
    "start": "598760",
    "end": "606720"
  },
  {
    "text": "usually my demos fail uh later not this far quick",
    "start": "606720",
    "end": "613720"
  },
  {
    "text": "uh uh let me see let me go to Argo CD and see uh what's going on this very",
    "start": "613720",
    "end": "622240"
  },
  {
    "text": "embarrassing uh make it bigger cool username username is always the same",
    "start": "622240",
    "end": "628279"
  },
  {
    "text": "it's always admin and always admin one 123 password because we're talking about Security today so I don't want anybody",
    "start": "628279",
    "end": "635519"
  },
  {
    "text": "to get confused what's happening uh where are you where are you",
    "start": "635519",
    "end": "643320"
  },
  {
    "text": "cerno uh if you fail at the very beginning I'm going to be very disappointed and this is going to be",
    "start": "643320",
    "end": "649600"
  },
  {
    "text": "horrible uh no uh there is more okay here we go production infra let me",
    "start": "649600",
    "end": "655720"
  },
  {
    "text": "synchronize it just in case or let",
    "start": "655720",
    "end": "661240"
  },
  {
    "text": "me uh stop whatever you're doing try it again cuz everything in software is",
    "start": "661240",
    "end": "668079"
  },
  {
    "text": "fixed by restarting um let's see how you doing",
    "start": "668079",
    "end": "675360"
  },
  {
    "text": "now uh cluster po claims no I'm an idiot",
    "start": "675360",
    "end": "680480"
  },
  {
    "text": "sorry for that it's not cluster claims it's cluster",
    "start": "680480",
    "end": "685000"
  },
  {
    "text": "policies there we go it works woo it's a",
    "start": "686760",
    "end": "691880"
  },
  {
    "text": "typo that's how how the world works okay so uh at least one of the cluster",
    "start": "691880",
    "end": "698920"
  },
  {
    "text": "policies is there the rest is nobody knows uh but uh what I'm going to do now",
    "start": "698920",
    "end": "704839"
  },
  {
    "text": "is a copy an application that I created so uh I'm going to have I have Argo CD",
    "start": "704839",
    "end": "710680"
  },
  {
    "text": "here I have CCF demo ytt the reason why I'm using ytt is because that's what we",
    "start": "710680",
    "end": "718040"
  },
  {
    "text": "chose in the previous episode I'm going to copy to Ops",
    "start": "718040",
    "end": "723120"
  },
  {
    "text": "cncf ah what am I doing cncf demo yaml",
    "start": "723120",
    "end": "728839"
  },
  {
    "text": "there we go let me double check what I have in apps because I have a feeling that I uh copied it twice I did app cfd",
    "start": "728839",
    "end": "739079"
  },
  {
    "text": "no cool get add get comit",
    "start": "739079",
    "end": "745040"
  },
  {
    "text": "uh no there is a CLI called like that which I",
    "start": "745880",
    "end": "752399"
  },
  {
    "text": "because of the code of conduct I cannot repeat what the command was I'm sorry for that and now if I go back to Argo CD",
    "start": "752399",
    "end": "760160"
  },
  {
    "text": "to speit things up uh I should have uh have it somewhere where is up up up up",
    "start": "760160",
    "end": "766800"
  },
  {
    "text": "up up up up up come on come on come on come on come on it's somewhere this is too small for me there we go production",
    "start": "766800",
    "end": "773240"
  },
  {
    "text": "UPS refresh that it should appear soon",
    "start": "773240",
    "end": "779519"
  },
  {
    "text": "come on okay let's see whether it",
    "start": "779519",
    "end": "785839"
  },
  {
    "text": "happened so uh Nam space name Nam space uh a I think uh no",
    "start": "785839",
    "end": "794760"
  },
  {
    "text": "production production is the name space production get deployments there we go my deployment is",
    "start": "794760",
    "end": "801720"
  },
  {
    "text": "not there now that's for two reasons either I did not do it right which is one possibility the other one is that",
    "start": "801720",
    "end": "808560"
  },
  {
    "text": "Cube cut Cube cutle describe uh cluster",
    "start": "808560",
    "end": "815279"
  },
  {
    "text": "policy cluster policy uh deployment production right uh so that's the that's",
    "start": "815279",
    "end": "823600"
  },
  {
    "text": "the the policy and if policy work correctly it should say no it doesn't",
    "start": "823600",
    "end": "829759"
  },
  {
    "text": "work I'm nervous I'm not nervous but I don't like failing there we go now the application",
    "start": "829759",
    "end": "836800"
  },
  {
    "text": "is there and now if we take a look at um what did I want",
    "start": "836800",
    "end": "843480"
  },
  {
    "text": "to take a look uh cluster policy deployment production should soon show",
    "start": "843480",
    "end": "849480"
  },
  {
    "text": "in events because if you go now to to this application that was deployed with",
    "start": "849480",
    "end": "855079"
  },
  {
    "text": "Argos CD there we go there is an error I knew it failed demo let's go",
    "start": "855079",
    "end": "863399"
  },
  {
    "text": "on I'm sorry for that I'm sad",
    "start": "863399",
    "end": "870079"
  },
  {
    "text": "I can figure it out but then Whitney gets mad at me for not being able to finish everything n let's go I'll figure",
    "start": "870079",
    "end": "876880"
  },
  {
    "text": "it out and then um uh deploy so here's the story if it worked kerno would say",
    "start": "876880",
    "end": "884720"
  },
  {
    "text": "you cannot do it and eventually it will work and I would fix it by putting more than two replicas to be clear I don't",
    "start": "884720",
    "end": "892399"
  },
  {
    "text": "get mad when his demo doesn't work she does or I would be a very angry person",
    "start": "892399",
    "end": "899360"
  },
  {
    "text": "so let's talk about runtime policy for runtime policy we're going to evaluate",
    "start": "900160",
    "end": "906480"
  },
  {
    "text": "Falco and Cube armor so why do we need runtime policy well do you completely",
    "start": "906480",
    "end": "914240"
  },
  {
    "text": "trust every application that's running in your cluster do you trust your internal apps do you trust your",
    "start": "914240",
    "end": "920440"
  },
  {
    "text": "third-party apps do you trust every single dependency do you trust every single process that's running in your",
    "start": "920440",
    "end": "927120"
  },
  {
    "text": "cluster what if one process is misbehaving can you catch it you could",
    "start": "927120",
    "end": "932160"
  },
  {
    "text": "if you have runtime security so with runtime security what we're doing is we're monitoring what's happening at the",
    "start": "932160",
    "end": "939040"
  },
  {
    "text": "kernel level of our host machine and so we're going to do that on all our host",
    "start": "939040",
    "end": "944160"
  },
  {
    "text": "machines and uh so what we're looking at isn't even application specific so we're",
    "start": "944160",
    "end": "950920"
  },
  {
    "text": "looking for unknown unknowns at runtime and we can monitor what's happening",
    "start": "950920",
    "end": "956360"
  },
  {
    "text": "Define expected behavior and then make policy that will do something when something unexpected happens but what",
    "start": "956360",
    "end": "964000"
  },
  {
    "text": "that something is depends on the tool so let's talk about tools first up we have",
    "start": "964000",
    "end": "969639"
  },
  {
    "text": "Falco Falco is a cloud native threat detector so with Falco you can there are",
    "start": "969639",
    "end": "976279"
  },
  {
    "text": "lots of ways you can input information for sources you have a Falco kernel module you could use Falco ebpf probe",
    "start": "976279",
    "end": "984680"
  },
  {
    "text": "and there are also Falco plugins like 13 of those that can monitor logs from kubernetes say or from your cloud",
    "start": "984680",
    "end": "992160"
  },
  {
    "text": "provider now with that information you can make Falco rules so Falco rule is a",
    "start": "992160",
    "end": "998319"
  },
  {
    "text": "set of conditions that when they're triggered when they happen they trigger an alert and alert really is nothing but",
    "start": "998319",
    "end": "1005600"
  },
  {
    "text": "a text message that has some sort of priority associated with it now there are two Falco sub projects that help you",
    "start": "1005600",
    "end": "1012680"
  },
  {
    "text": "with your alerts one is called Falco sidekick and that will take your alert and it can forward it to 50 or 60",
    "start": "1012680",
    "end": "1019519"
  },
  {
    "text": "different compatible destinations like slack or your pager for example uh and",
    "start": "1019519",
    "end": "1025720"
  },
  {
    "text": "then we have Falco Talon so Falco Talon will take action on alerts so when an",
    "start": "1025720",
    "end": "1031038"
  },
  {
    "text": "alert happens you can do something like kill a container or start collecting more",
    "start": "1031039",
    "end": "1036480"
  },
  {
    "text": "information and that's Falco it's a graduated project then we have the new kit on the Block a sandb a Sandbox",
    "start": "1036480",
    "end": "1043199"
  },
  {
    "text": "project called Cub armer so Cub armer also monitors your your host machine at",
    "start": "1043199",
    "end": "1049799"
  },
  {
    "text": "the kernel level and it does that with ebpf only you can also Define your",
    "start": "1049799",
    "end": "1055320"
  },
  {
    "text": "expected Behavior but then when something unexpected happens it gets",
    "start": "1055320",
    "end": "1060480"
  },
  {
    "text": "shut down before it actually occurs so when an when attack is an attempted it",
    "start": "1060480",
    "end": "1065960"
  },
  {
    "text": "fails it never happens and so they uh Cube armor accomplishes this using lsms",
    "start": "1065960",
    "end": "1073080"
  },
  {
    "text": "or Linux security modules which are basically provide Access Control to the",
    "start": "1073080",
    "end": "1078240"
  },
  {
    "text": "to the Linux Colonel so those are our choices with with Falco something happens and then you can do something",
    "start": "1078240",
    "end": "1084720"
  },
  {
    "text": "about it with Cub armer you can stop the thing from happening yeah yeah so please",
    "start": "1084720",
    "end": "1090960"
  },
  {
    "text": "vote while we voting I'm going to try to figure out why I failed earlier just ignore me imagine that I",
    "start": "1090960",
    "end": "1099360"
  },
  {
    "text": "don't exist the voting still works on your phones right yeah yeah you can see it you can probably it's a mystery to me",
    "start": "1099360",
    "end": "1105400"
  },
  {
    "text": "what's happening",
    "start": "1105400",
    "end": "1108640"
  },
  {
    "text": "which one's winning not winning being chosen CU Armour CU",
    "start": "1115039",
    "end": "1123400"
  },
  {
    "text": "Armour what is this keep back ah okay there we go",
    "start": "1123400",
    "end": "1130000"
  },
  {
    "text": "uh now slider will fail huh that's a new oneor okay",
    "start": "1130000",
    "end": "1139600"
  },
  {
    "text": "um okay I will have to fix first something okay Cube armor is a winner",
    "start": "1139600",
    "end": "1145240"
  },
  {
    "text": "cool uh I'm going to remove the policies because uh uh",
    "start": "1145240",
    "end": "1151080"
  },
  {
    "text": "the uh what did I want to say uh the CNO is messing up with my stuff so if it",
    "start": "1151080",
    "end": "1157080"
  },
  {
    "text": "doesn't pass caverno um caverno rules then uh application cannot be deployed",
    "start": "1157080",
    "end": "1163320"
  },
  {
    "text": "and without application I cannot show you what's happening with Falco so I'm going to remove it ah Cube armor was it",
    "start": "1163320",
    "end": "1170520"
  },
  {
    "text": "Cube armor cool uh Cube armor then Cube armor it is uh let me see come on",
    "start": "1170520",
    "end": "1179120"
  },
  {
    "text": "quickly okay this is this is not nice at all uh come on",
    "start": "1180720",
    "end": "1188960"
  },
  {
    "text": "infra refresh syn failed come on you stopped forwarding in your I",
    "start": "1188960",
    "end": "1196679"
  },
  {
    "text": "didn't I didn't don't sorry don't rush",
    "start": "1196679",
    "end": "1201840"
  },
  {
    "text": "me okay it will eventually work uh okay",
    "start": "1204320",
    "end": "1210559"
  },
  {
    "text": "okay so there we go probably we don't have policies anymore I'm going to deploy the",
    "start": "1210559",
    "end": "1216760"
  },
  {
    "text": "application again it will fail and then I'm going to cry uh there we go refresh",
    "start": "1216760",
    "end": "1222919"
  },
  {
    "text": "come on uh da da da maybe it will work maybe it won't uh let's let's see uh",
    "start": "1222919",
    "end": "1230039"
  },
  {
    "text": "last attempt last attempt apps uh CNC of",
    "start": "1230039",
    "end": "1235440"
  },
  {
    "text": "demo let's see what do I have there why it doesn't work it's an application I go",
    "start": "1235440",
    "end": "1240679"
  },
  {
    "text": "see the application ah I know I found the error there we go",
    "start": "1240679",
    "end": "1246960"
  },
  {
    "text": "code um Visual Studio code it's devops",
    "start": "1246960",
    "end": "1252280"
  },
  {
    "text": "Paradox wrong get repository uh there we go this will work",
    "start": "1252280",
    "end": "1258799"
  },
  {
    "text": "now hopefully get status get ad",
    "start": "1258799",
    "end": "1265360"
  },
  {
    "text": "get comit get P come on get",
    "start": "1265360",
    "end": "1273440"
  },
  {
    "text": "push sure there we go it's it's not",
    "start": "1273559",
    "end": "1281279"
  },
  {
    "text": "funny not funny at all come on",
    "start": "1282240",
    "end": "1290279"
  },
  {
    "text": "why P forward thing",
    "start": "1295880",
    "end": "1302600"
  },
  {
    "text": "refresh going to blame blame Wi-Fi very soon that's going to be awesome okay",
    "start": "1303320",
    "end": "1311639"
  },
  {
    "text": "applications last attempt uh",
    "start": "1314760",
    "end": "1320520"
  },
  {
    "text": "kill Cube cutle die bastard",
    "start": "1320799",
    "end": "1327720"
  },
  {
    "text": "forward there we go does it work now it",
    "start": "1327720",
    "end": "1334240"
  },
  {
    "text": "doesn't yes okay cool application easy deployed please say Yes again an error I",
    "start": "1335080",
    "end": "1344360"
  },
  {
    "text": "don't know really okay I'm giving up uh what did what did they choose cuor okay",
    "start": "1344360",
    "end": "1351679"
  },
  {
    "text": "I'm going to show you the Manifest of cube Armour and I'm going to sim I'm going I'm going to do a live",
    "start": "1351679",
    "end": "1356799"
  },
  {
    "text": "illustration What would happen uh if uh if I would be doing uh",
    "start": "1356799",
    "end": "1362720"
  },
  {
    "text": "what I'm supposed to do so here we go uh policies uh Cub",
    "start": "1362720",
    "end": "1367799"
  },
  {
    "text": "bour here here's the definition of the CU Armour policy you just Define CU",
    "start": "1367799",
    "end": "1372880"
  },
  {
    "text": "Barber policy you specify what is allowed and what is not allowed in this case I would be saying hey you are",
    "start": "1372880",
    "end": "1380520"
  },
  {
    "text": "allowed um you are actually not allowed to execute anything in the root",
    "start": "1380520",
    "end": "1386000"
  },
  {
    "text": "directory and any subdirectory of that container right so you're not allowed to",
    "start": "1386000",
    "end": "1391320"
  },
  {
    "text": "execute anything except if the process is called uh SL manager right that's the",
    "start": "1391320",
    "end": "1396919"
  },
  {
    "text": "only process you're allowed to run if anybody enters into the system and tries to run something else you will not be",
    "start": "1396919",
    "end": "1403320"
  },
  {
    "text": "notified because there is no good reason why you should be notified simply that will not happen it will it will prevent",
    "start": "1403320",
    "end": "1410360"
  },
  {
    "text": "execution of anything that container except that specific process and then if my demo would work I",
    "start": "1410360",
    "end": "1417039"
  },
  {
    "text": "would deploy that uh and if I would enter into the Container let's see whether something magically happened and",
    "start": "1417039",
    "end": "1424279"
  },
  {
    "text": "it's there pods uh no application is not there my bad anyway imagine use",
    "start": "1424279",
    "end": "1433320"
  },
  {
    "text": "imagination that if I would that I was running application if I would enter into application and try to execute",
    "start": "1433320",
    "end": "1439720"
  },
  {
    "text": "anything but SL manager CU bour would prevent me from doing that and my system",
    "start": "1439720",
    "end": "1444799"
  },
  {
    "text": "would be safe and only the processes that are allowed would be running inside of the",
    "start": "1444799",
    "end": "1450200"
  },
  {
    "text": "cluster that's the sorest demo you you ever [Laughter]",
    "start": "1450200",
    "end": "1455640"
  },
  {
    "text": "saw there we go present we're going to talk next about",
    "start": "1455640",
    "end": "1461880"
  },
  {
    "text": "Secrets management yes so with Secrets management we're",
    "start": "1461880",
    "end": "1467000"
  },
  {
    "text": "going to talk about three different tools we have external Secrets operator",
    "start": "1467000",
    "end": "1472840"
  },
  {
    "text": "Secret store CSI driver and Sops so our hero needs to access a lot",
    "start": "1472840",
    "end": "1480880"
  },
  {
    "text": "of different confidential information while they're running so tokens",
    "start": "1480880",
    "end": "1485960"
  },
  {
    "text": "encryption Keys API Keys passwords all the things and a lot of this all of this",
    "start": "1485960",
    "end": "1492000"
  },
  {
    "text": "can be managed with a vault a vault is a piece of technology that stores secrets",
    "start": "1492000",
    "end": "1497440"
  },
  {
    "text": "safely and has an API to interact with it that's the bare minimum you need to be a vault a vault probably also is",
    "start": "1497440",
    "end": "1504200"
  },
  {
    "text": "going to do other cool stuff too like remediation when Secrets leak um and",
    "start": "1504200",
    "end": "1509440"
  },
  {
    "text": "secrets rotation for example but we're actually not talking about Vault Technologies we've limited the scope of",
    "start": "1509440",
    "end": "1516039"
  },
  {
    "text": "our Choose Your Own Adventure to cncf projects because we have to limit the scope somehow and there actually isn't a",
    "start": "1516039",
    "end": "1522120"
  },
  {
    "text": "vault in the cncf so the problem we're solving is how are we going to get confidential information from outside of",
    "start": "1522120",
    "end": "1527960"
  },
  {
    "text": "our cluster to inside of our cluster and that's what our three Technologies do but they all do it in a different way so",
    "start": "1527960",
    "end": "1534520"
  },
  {
    "text": "we're going to jump right into the tech so external Secrets operator it's an operator that's running in the cluster",
    "start": "1534520",
    "end": "1540960"
  },
  {
    "text": "and it connects to your volt API retrieves the secret and then stores the",
    "start": "1540960",
    "end": "1546240"
  },
  {
    "text": "secret as a kubernetes secret and it manages the life cycle of your kubernetes secret and now hero can",
    "start": "1546240",
    "end": "1552120"
  },
  {
    "text": "access it and we have a secrets and so um external",
    "start": "1552120",
    "end": "1558679"
  },
  {
    "text": "Secrets operator can also do a couple other things that are awesome and uh Alpha right now but they it",
    "start": "1558679",
    "end": "1566720"
  },
  {
    "text": "can push secrets so it could take a kubernetes secret and push it to the Vault and it can also generate",
    "start": "1566720",
    "end": "1573480"
  },
  {
    "text": "Secrets next up we have Secret store CSI driver Secret store CSI driver they were",
    "start": "1573480",
    "end": "1579000"
  },
  {
    "text": "like you know what kubernetes Secrets aren't very secret they're just base 64",
    "start": "1579000",
    "end": "1584240"
  },
  {
    "text": "encoded and stored in ETD so let's make a secret solution where don't use the kubernetes secret object so secret St",
    "start": "1584240",
    "end": "1592600"
  },
  {
    "text": "CSI driver it uses the CSI interface which stand the I is interface a",
    "start": "1592600",
    "end": "1598799"
  },
  {
    "text": "container storage interface so the first thing it's going to do is mount a temporary file system pot uh volume to",
    "start": "1598799",
    "end": "1605039"
  },
  {
    "text": "the Pod and then it retrieves connects to the Vault retrieves the secret writes",
    "start": "1605039",
    "end": "1610159"
  },
  {
    "text": "the secret to that uh file system and now our contain our uh application can",
    "start": "1610159",
    "end": "1616840"
  },
  {
    "text": "access the secret as though though it's part of its file system and that Secret store CSI driver",
    "start": "1616840",
    "end": "1625320"
  },
  {
    "text": "without using any kubernetes secrets and then finally we have Sops Sops stands",
    "start": "1625320",
    "end": "1630919"
  },
  {
    "text": "for Secrets operations but if you call it Secrets operations no one will know",
    "start": "1630919",
    "end": "1636000"
  },
  {
    "text": "what you're talking about stops is just a CLI that encrypts and decrypts files",
    "start": "1636000",
    "end": "1642880"
  },
  {
    "text": "so in our situation we would have a kubernetes manifest file we would use sop CLI to encrypt it and then there's a",
    "start": "1642880",
    "end": "1650240"
  },
  {
    "text": "corresponding decryption key so whoever we give that decryption key to can read our file but no one else can so in our",
    "start": "1650240",
    "end": "1658720"
  },
  {
    "text": "situation you'll notice the The Vault now is holding the decryption key it's not holding the secret so we have the",
    "start": "1658720",
    "end": "1665399"
  },
  {
    "text": "secret in our manifest file and it's and since it's um encrypted by stops we can",
    "start": "1665399",
    "end": "1671200"
  },
  {
    "text": "safely check it into to get and then Argo CD sees the change picks it up and",
    "start": "1671200",
    "end": "1676600"
  },
  {
    "text": "Argo CD sees it has a s encrypted file and you we can teach Argo CD what to do",
    "start": "1676600",
    "end": "1682640"
  },
  {
    "text": "with that file with a configuration management plug-in and then softs can get the decryption key from The Vault",
    "start": "1682640",
    "end": "1689919"
  },
  {
    "text": "can decrypt the file apply it to cube API now it's a kubernetes secret and",
    "start": "1689919",
    "end": "1695679"
  },
  {
    "text": "B now we got it so this seems like a lot of extra work for what external Secrets",
    "start": "1695679",
    "end": "1701919"
  },
  {
    "text": "operator did and you know what it is a lot of extra work and it's not really designed to be used for this use case",
    "start": "1701919",
    "end": "1708919"
  },
  {
    "text": "it's more designed to be a lightweight solution to be able to share secrets within an organization or check them in",
    "start": "1708919",
    "end": "1714080"
  },
  {
    "text": "to get without if if you're smaller organization and you don't necessarily have a full featured Vault",
    "start": "1714080",
    "end": "1719840"
  },
  {
    "text": "solution but those are our choices and it's time to vote pick a technology and",
    "start": "1719840",
    "end": "1726159"
  },
  {
    "text": "watch Victor bomb let's do it",
    "start": "1726159",
    "end": "1730840"
  },
  {
    "text": "yeah so secret stor SSID Secret store CSI driver if my demo",
    "start": "1742559",
    "end": "1750720"
  },
  {
    "text": "would work I would still not do it let let me explain SS ID is",
    "start": "1750720",
    "end": "1757399"
  },
  {
    "text": "absolutely amazing Pro uh product right it makes your cluster more secure because it doesn't use kubernetes",
    "start": "1757399",
    "end": "1763519"
  },
  {
    "text": "Secrets except that you cannot use it and the reason you cannot use it is because",
    "start": "1763519",
    "end": "1768679"
  },
  {
    "text": "none of the third party applications you might be using typically through hel charts or anything like that uh are",
    "start": "1768679",
    "end": "1774919"
  },
  {
    "text": "prepared to use volumes attached with Secrets inside so even if you do choose",
    "start": "1774919",
    "end": "1782279"
  },
  {
    "text": "to use sssi D or whatever it's pronounced uh you bound to have to have",
    "start": "1782279",
    "end": "1788279"
  },
  {
    "text": "to use something else and that something else must be either the soaps or the eso",
    "start": "1788279",
    "end": "1795760"
  },
  {
    "text": "and if you choose soaps that will not work either simply because SS Community",
    "start": "1795760",
    "end": "1801159"
  },
  {
    "text": "made an amazing CLI that does an amazing job with encrypting and decrypting",
    "start": "1801159",
    "end": "1806600"
  },
  {
    "text": "secrets but never bothered to create a kubernetes operator and I'd reject to do",
    "start": "1806600",
    "end": "1811799"
  },
  {
    "text": "anything without the kubernetes operator so basically the only choice here and I'm probably offending somebody anybody",
    "start": "1811799",
    "end": "1817840"
  },
  {
    "text": "from those projects here no okay then you're fine uh ESO is the only really",
    "start": "1817840",
    "end": "1824480"
  },
  {
    "text": "good choice here if you have to choose one you can combine all those tools but if you have to choose one is ESO and uh",
    "start": "1824480",
    "end": "1833799"
  },
  {
    "text": "uh even though I cannot demo it what I can uh show you is uh how that would",
    "start": "1833799",
    "end": "1840080"
  },
  {
    "text": "look like prod um an application and I'm going to do that by uh generating the",
    "start": "1840080",
    "end": "1847279"
  },
  {
    "text": "code of the application first in place ah dash dash in place no let's do VI why",
    "start": "1847279",
    "end": "1855000"
  },
  {
    "text": "not Vim I'm going to mod modify this file here Val Pro so I'm using ytt",
    "start": "1855000",
    "end": "1862559"
  },
  {
    "text": "right and I'm going to say um DB this is not really specific to is",
    "start": "1862559",
    "end": "1869919"
  },
  {
    "text": "so insecure I'm going to say it as",
    "start": "1869919",
    "end": "1875120"
  },
  {
    "text": "um as false actually and I'm going to generate my kubernetes manifest and I'm going to do",
    "start": "1875120",
    "end": "1881840"
  },
  {
    "text": "that by executing ytt and this is a very long command uh uh I'm going to put the",
    "start": "1881840",
    "end": "1888559"
  },
  {
    "text": "schema anybody using V here from Carval cool cool projects uh project not",
    "start": "1888559",
    "end": "1894080"
  },
  {
    "text": "projects um I'm going to generate my yaml first that will include everything I need for for ESO and so that's",
    "start": "1894080",
    "end": "1902279"
  },
  {
    "text": "resources and data data values is going to be no",
    "start": "1902279",
    "end": "1909159"
  },
  {
    "text": "values file if I'm not mistaken is going to be ytt u values prod there we go and",
    "start": "1909159",
    "end": "1917559"
  },
  {
    "text": "I'm going to Output all that to uh yaml prod and I'm going to call it up.",
    "start": "1917559",
    "end": "1925720"
  },
  {
    "text": "yaml right and just for the good taste I'm going to pass it through yq so this",
    "start": "1925720",
    "end": "1930760"
  },
  {
    "text": "is the the the Manifest of my application that I uh generated and what matters here is where",
    "start": "1930760",
    "end": "1939000"
  },
  {
    "text": "are you where are you so this is ingress this is service what did I do wrong now I'm a",
    "start": "1939000",
    "end": "1945960"
  },
  {
    "text": "disaster I'm a Sor as disaster uh let's see uh Wim uhhuh uh DB insecure uh false",
    "start": "1945960",
    "end": "1957080"
  },
  {
    "text": "that's correct um let me show you uh how it looks like",
    "start": "1957080",
    "end": "1963679"
  },
  {
    "text": "white [Laughter]",
    "start": "1963679",
    "end": "1969279"
  },
  {
    "text": "resources deployment loging certificate",
    "start": "1969279",
    "end": "1976639"
  },
  {
    "text": "there we go right this is basically essentially what you need to what you need to generate for external Secret",
    "start": "1982320",
    "end": "1989159"
  },
  {
    "text": "store to work your B this is a bit strange because it's ytt but what really matters over here is that you're saying",
    "start": "1989159",
    "end": "1996120"
  },
  {
    "text": "Hey I want to get something from my um uh from from My Secret store called",
    "start": "1996120",
    "end": "2003000"
  },
  {
    "text": "production pogress password for for for my database",
    "start": "2003000",
    "end": "2008320"
  },
  {
    "text": "uh get it from the get it from my secret store in my case I'm using aw Secret",
    "start": "2008320",
    "end": "2013840"
  },
  {
    "text": "store and uh Call It Whatever is the the ID of this application- password right",
    "start": "2013840",
    "end": "2020080"
  },
  {
    "text": "and if my application was deployed as it wasn't uh this would pull the secret",
    "start": "2020080",
    "end": "2025679"
  },
  {
    "text": "from aw Secret store generate kubernetes secret called something something- password and uh my application would be",
    "start": "2025679",
    "end": "2033720"
  },
  {
    "text": "able to connect to the database because it would have the secret video Authentication which doesn't work in my",
    "start": "2033720",
    "end": "2039120"
  },
  {
    "text": "demo today uh hopefully it will work some other day",
    "start": "2039120",
    "end": "2045279"
  },
  {
    "text": "uh and that's how you use external Secret store it's very very easy just specify this is where behind the scenes",
    "start": "2045279",
    "end": "2052079"
  },
  {
    "text": "what you haven't seen is that there is of course another Secret in my kubernetes cluster that has authentication to my WS account and",
    "start": "2052079",
    "end": "2058878"
  },
  {
    "text": "whato not will you bring the slides back please yeah you want slides there we go there are the",
    "start": "2058879",
    "end": "2065079"
  },
  {
    "text": "slides our hero is running in a more secure cluster not really but well the",
    "start": "2065079",
    "end": "2071118"
  },
  {
    "text": "QR it was a good try the QR codes the one on the left is um for our you show",
    "start": "2071119",
    "end": "2077760"
  },
  {
    "text": "and I also have lots of stickers up here on the stage so please help yourself to a sticker or if you see us around ask",
    "start": "2077760",
    "end": "2083760"
  },
  {
    "text": "for a sticker on the right is a GitHub repo where you can do this demo on your",
    "start": "2083760",
    "end": "2091240"
  },
  {
    "text": "own and maybe you won't screw it up and so if you do want to see these tools",
    "start": "2091240",
    "end": "2096520"
  },
  {
    "text": "demoed you'll actually see the demo from the very beginning since we've been doing this Choose Your Own Adventure project but the all the stuff we demo",
    "start": "2096520",
    "end": "2104000"
  },
  {
    "text": "today is in there and that's a wrap I think we have a time for one question if anyone has one except if the question is",
    "start": "2104000",
    "end": "2111400"
  },
  {
    "text": "why the demo doesn't work uh",
    "start": "2111400",
    "end": "2116320"
  },
  {
    "text": "yeses very nicely thank you I I'll try to like concatenate my",
    "start": "2120920",
    "end": "2127880"
  },
  {
    "text": "questions into one big one um so firstly about admission policies um I I believe",
    "start": "2127880",
    "end": "2135480"
  },
  {
    "text": "you've given us a few options right um what I want to know is if I can write",
    "start": "2135480",
    "end": "2141839"
  },
  {
    "text": "yaml and Rego um that's not the deciding factor for me let's say um which one",
    "start": "2141839",
    "end": "2147400"
  },
  {
    "text": "would you recommend um between the ones that you've offered right um and then I",
    "start": "2147400",
    "end": "2152880"
  },
  {
    "text": "also want to understand with these admission policies um is there a possibility that it slows down um the",
    "start": "2152880",
    "end": "2159280"
  },
  {
    "text": "requests coming into the cluster um you know let's let's say if everything is",
    "start": "2159280",
    "end": "2164359"
  },
  {
    "text": "validating properly and you know nothing stopping it U no rule is being U",
    "start": "2164359",
    "end": "2169800"
  },
  {
    "text": "violated um is it actually slowing down the processes that are going on um",
    "start": "2169800",
    "end": "2175079"
  },
  {
    "text": "that's part of my first question wa let me I'm too old to remember two questions let me answer this one and then you ask",
    "start": "2175079",
    "end": "2181640"
  },
  {
    "text": "the second okay I'll answer the first half and you answer the second half between kerno and Rego all else being",
    "start": "2181640",
    "end": "2188160"
  },
  {
    "text": "equal for one thing they're both graduated projects and they're both kind of converged into having a lot of the",
    "start": "2188160",
    "end": "2193640"
  },
  {
    "text": "same features like if one gets the features the people who use the other one also want the features so it it it's",
    "start": "2193640",
    "end": "2199359"
  },
  {
    "text": "not too different but in terms of readability the kerno is so much better",
    "start": "2199359",
    "end": "2205760"
  },
  {
    "text": "and even though you can do both all the people who might need to know what's happening in the cluster can't",
    "start": "2205760",
    "end": "2211720"
  },
  {
    "text": "necessarily do both and um and so therefore I would choose kyero there's a",
    "start": "2211720",
    "end": "2217599"
  },
  {
    "text": "additional thing that I like much more with CNO than gatekeeper is that when",
    "start": "2217599",
    "end": "2222640"
  },
  {
    "text": "you create CNO policies I I want to show it in them I couldn't and something was",
    "start": "2222640",
    "end": "2227960"
  },
  {
    "text": "rejected you can describe that resource that policy and you will see in events",
    "start": "2227960",
    "end": "2233800"
  },
  {
    "text": "oh somebody tried to do this and stuff like that uh gatekeeper shows it in logs which to me is not really uh that easy",
    "start": "2233800",
    "end": "2242079"
  },
  {
    "text": "to digest as as events in kubernetes resources apart from what Whitney said",
    "start": "2242079",
    "end": "2247280"
  },
  {
    "text": "and the second half of his question is about whether it takes much longer you",
    "start": "2247280",
    "end": "2252880"
  },
  {
    "text": "okay so uh incoming request if you mean request to your application that should",
    "start": "2252880",
    "end": "2259560"
  },
  {
    "text": "not be affected by uh CNO in any form of way at least as far as I know what might",
    "start": "2259560",
    "end": "2265079"
  },
  {
    "text": "get affected is kubernetes API itself right it might take more time to process",
    "start": "2265079",
    "end": "2273160"
  },
  {
    "text": "changes to your resources right not specifically because uh of C itself but",
    "start": "2273160",
    "end": "2279000"
  },
  {
    "text": "because kubernetes API tends to struggle with a with a massive number of",
    "start": "2279000",
    "end": "2284640"
  },
  {
    "text": "resources especially custom resources so if you put a lot of policies uh it might affect the speed of kubernetes API",
    "start": "2284640",
    "end": "2292079"
  },
  {
    "text": "itself but that will not affect your applications you might need to wait slightly longer theoretically when you",
    "start": "2292079",
    "end": "2298560"
  },
  {
    "text": "do Cube cutle get something or apply and things like that but your application should be fine all right thank you",
    "start": "2298560",
    "end": "2304520"
  },
  {
    "text": "second yes um are we finished okay we need to be finished with time but you can find us afterward and we're happy to",
    "start": "2304520",
    "end": "2310599"
  },
  {
    "text": "answer the rest of your questions so much thanks so much everyone",
    "start": "2310599",
    "end": "2316480"
  }
]