[
  {
    "start": "0",
    "end": "70000"
  },
  {
    "text": "good afternoon everyone thank you very much for attending this talk and so",
    "start": "240",
    "end": "6170"
  },
  {
    "text": "today I will talk about policy based management of volume snapshot in kubernetes my name is sting I'm a Google",
    "start": "6170",
    "end": "13679"
  },
  {
    "text": "software engineer working Inc when at his storage lifecycle group and my",
    "start": "13679",
    "end": "22080"
  },
  {
    "text": "co-author Anthony he is also Google engineer he is working in communities",
    "start": "22080",
    "end": "27300"
  },
  {
    "text": "local Oh team unfortunately he cannot join us and that this is thing you want",
    "start": "27300",
    "end": "34649"
  },
  {
    "text": "introduced yeah hello thank you me hi I'm Shinyoung I work on open STS I",
    "start": "34649",
    "end": "40170"
  },
  {
    "text": "work with a gene on adding snapshot support into CSI and also add a snapshot",
    "start": "40170",
    "end": "46860"
  },
  {
    "text": "support in treating kubernetes string and I leading the snapshot project in",
    "start": "46860",
    "end": "53219"
  },
  {
    "text": "6rh so if you have any questions feedback in case you don't have taught the time to talk to us and leave the",
    "start": "53219",
    "end": "60149"
  },
  {
    "text": "contact information at the end of slice yeah your questions feedback always",
    "start": "60149",
    "end": "65430"
  },
  {
    "text": "welcome okay this is the overview of",
    "start": "65430",
    "end": "72840"
  },
  {
    "start": "70000",
    "end": "119000"
  },
  {
    "text": "this talk as gyro some background the snapshot and the concept of cloud volume",
    "start": "72840",
    "end": "79680"
  },
  {
    "text": "snapshots in kubernetes forums and with this background I introduced the",
    "start": "79680",
    "end": "86780"
  },
  {
    "text": "kubernetes volume snapshots API design and the workflow based on this API and",
    "start": "86780",
    "end": "92750"
  },
  {
    "text": "there is the volume snapshots API support I'll talk about how to use mana",
    "start": "92750",
    "end": "100020"
  },
  {
    "text": "controller to design a snapshot schedule policy in the house used controller to",
    "start": "100020",
    "end": "106470"
  },
  {
    "text": "manage the policy the last section I will talk a little bit about some",
    "start": "106470",
    "end": "112170"
  },
  {
    "text": "related work is basically the in-place restore workflow we are currently",
    "start": "112170",
    "end": "117210"
  },
  {
    "text": "working on so first thing why we care",
    "start": "117210",
    "end": "122520"
  },
  {
    "start": "119000",
    "end": "190000"
  },
  {
    "text": "about snapshot I want to use a quote from Tim berners-lee the inventor of",
    "start": "122520",
    "end": "128729"
  },
  {
    "text": "world wide web so theta is a pressure thing and will last longer than the system themselves",
    "start": "128729",
    "end": "137510"
  },
  {
    "text": "however data is valuable but the system we used to store data might have",
    "start": "139129",
    "end": "145709"
  },
  {
    "text": "problems either in hardware like hard disk failure or in software so data",
    "start": "145709",
    "end": "151470"
  },
  {
    "text": "might be corrupted and user might also delete their data by mistakes how we can",
    "start": "151470",
    "end": "157019"
  },
  {
    "text": "protect our data right is valuable data so snapshot is one of the commonly used",
    "start": "157019",
    "end": "163530"
  },
  {
    "text": "way for this purpose basically it is a read-only copy of the data at certain",
    "start": "163530",
    "end": "170640"
  },
  {
    "text": "point in time and a snapshot comparing to the data copy or take a clone it has",
    "start": "170640",
    "end": "177840"
  },
  {
    "text": "some advantages so it's very fast and it has typically little performance impact",
    "start": "177840",
    "end": "184980"
  },
  {
    "text": "on the running application and consume less capacity so considering the cloud",
    "start": "184980",
    "end": "193590"
  },
  {
    "text": "environment so we have the concept of code volume so data will be stored on",
    "start": "193590",
    "end": "201000"
  },
  {
    "text": "the cloud and crop volume basically it's very similar to just a normal hard disk",
    "start": "201000",
    "end": "207109"
  },
  {
    "text": "but this can be attached detached to different virtual machine instances so",
    "start": "207109",
    "end": "213540"
  },
  {
    "text": "user has the flexibility to run their applications different places so it's no",
    "start": "213540",
    "end": "218579"
  },
  {
    "text": "longer tying to a single node and many cloud providers support snapshot to",
    "start": "218579",
    "end": "225299"
  },
  {
    "text": "their volumes and normally it's fast it implements as incremental step shots and",
    "start": "225299",
    "end": "232370"
  },
  {
    "text": "the snapshot data will be uploaded to the cloud so user can access the",
    "start": "232370",
    "end": "238650"
  },
  {
    "text": "snapshot for some cloud provider like it applies their snapshot is available in a",
    "start": "238650",
    "end": "244680"
  },
  {
    "text": "single zone so user can access as a snapshot from that zone if you want to",
    "start": "244680",
    "end": "250410"
  },
  {
    "text": "access snapshot from different zone you need to copy the snapshot to those domes and for Google Cloud snapshot itself",
    "start": "250410",
    "end": "258510"
  },
  {
    "text": "already available that means you can access your snapshot and you anywhere you want as we just mentioned the",
    "start": "258510",
    "end": "266250"
  },
  {
    "text": "snapshot is very for protecting your data and in cloud environment you can see it's also useful",
    "start": "266250",
    "end": "271860"
  },
  {
    "text": "for a rep layer data to different places",
    "start": "271860",
    "end": "276979"
  },
  {
    "start": "277000",
    "end": "384000"
  },
  {
    "text": "so before going to the design of autumn snapshots in communities I will just use",
    "start": "278120",
    "end": "285150"
  },
  {
    "text": "a couple slides to give overview of kubernetes volume concepts if you attend",
    "start": "285150",
    "end": "292680"
  },
  {
    "text": "studies talk early today you probably already familiar those API objects so in",
    "start": "292680",
    "end": "300120"
  },
  {
    "text": "kubernetes normally most and we are represented by REST API s and for volumes we use a pair",
    "start": "300120",
    "end": "306930"
  },
  {
    "text": "of API tremens it from user point of view we have persistent imodium claim it",
    "start": "306930",
    "end": "313350"
  },
  {
    "text": "is a request for the storage and the user can specify how much storage they",
    "start": "313350",
    "end": "320700"
  },
  {
    "text": "need what type of storage it is a namespace API but API objects and when",
    "start": "320700",
    "end": "329310"
  },
  {
    "text": "usual some may submit such requests the controller will provision a volume",
    "start": "329310",
    "end": "335400"
  },
  {
    "text": "dynamics way or might find a matched volume existing volume depending the",
    "start": "335400",
    "end": "342030"
  },
  {
    "text": "configuration and the volume information will be stored in a another API object",
    "start": "342030",
    "end": "350010"
  },
  {
    "text": "called persistent volume and the controller will bind these two objects",
    "start": "350010",
    "end": "356700"
  },
  {
    "text": "together which means they have pointers to each other and once those ap objects",
    "start": "356700",
    "end": "364260"
  },
  {
    "text": "abound user can't use their using those models so they can in their pass back",
    "start": "364260",
    "end": "373950"
  },
  {
    "text": "they can reference the PVC and the lifecycle of PVC PVC will be independent",
    "start": "373950",
    "end": "379680"
  },
  {
    "text": "to their paths using them now I will",
    "start": "379680",
    "end": "387180"
  },
  {
    "text": "show some yam file 2 over the PVC PV as a simple example so for user if they",
    "start": "387180",
    "end": "395010"
  },
  {
    "text": "want to create and use some storage they can create PVC m",
    "start": "395010",
    "end": "401560"
  },
  {
    "text": "it's very simple in this bag you specify specify how much storage you need and",
    "start": "401560",
    "end": "407560"
  },
  {
    "text": "the access Mo's and when you skip",
    "start": "407560",
    "end": "413560"
  },
  {
    "text": "control to create such an file and a PVC object will be created with the",
    "start": "413560",
    "end": "419440"
  },
  {
    "text": "information we just seen and controller will go ahead to provision a new volume",
    "start": "419440",
    "end": "426220"
  },
  {
    "text": "and also a PV API objects represent this volume you can see the taste information",
    "start": "426220",
    "end": "434590"
  },
  {
    "text": "like the name will be stored in the PV and since this is none namespace API",
    "start": "434590",
    "end": "440650"
  },
  {
    "text": "project only system being can access this information and the controller will bind these two object together now the",
    "start": "440650",
    "end": "448330"
  },
  {
    "text": "parts back and start using this piece of storage by referencing the PVC now is",
    "start": "448330",
    "end": "460090"
  },
  {
    "start": "457000",
    "end": "566000"
  },
  {
    "text": "the concept of kubernetes volumes we can go ahead talk about the volume snapshots API design",
    "start": "460090",
    "end": "467370"
  },
  {
    "text": "so for step router workflow first we want to support created snapshot and",
    "start": "467370",
    "end": "474460"
  },
  {
    "text": "depending how you prepare your application before taking snapshot we can have different types the first is",
    "start": "474460",
    "end": "482410"
  },
  {
    "text": "the simple one is random so you don't prepare your application at all and you",
    "start": "482410",
    "end": "487570"
  },
  {
    "text": "just take step shot at certain point but because application mind can use writing",
    "start": "487570",
    "end": "493630"
  },
  {
    "text": "data on to the disk and you might have",
    "start": "493630",
    "end": "498700"
  },
  {
    "text": "considered the issue so it's suggest to rephrase the i/os of your file system to",
    "start": "498700",
    "end": "505780"
  },
  {
    "text": "achieve some crack consistency in the file system level or for some applications you might need to pause",
    "start": "505780",
    "end": "512890"
  },
  {
    "text": "application flush the disk and mana disk before taking same shot to achieve",
    "start": "512890",
    "end": "517990"
  },
  {
    "text": "application level consistency currently in the correct work volume snapshot",
    "start": "517990",
    "end": "526720"
  },
  {
    "text": "design we only support the random and in the future we plan to support other types and was the snapshot",
    "start": "526720",
    "end": "534640"
  },
  {
    "text": "is created it has might have additional face for cloud providers so for cloud",
    "start": "534640",
    "end": "545110"
  },
  {
    "text": "provider it will upload the bottom snapshot data to the cloud - this might",
    "start": "545110",
    "end": "551650"
  },
  {
    "text": "take some time varies from minutes to even hours depending on several data size but for Chris time shot itself",
    "start": "551650",
    "end": "561130"
  },
  {
    "text": "should be very fast it should be instance and after taking snapshots you",
    "start": "561130",
    "end": "569920"
  },
  {
    "start": "566000",
    "end": "622000"
  },
  {
    "text": "can use snapshot to first to create new volumes and to create new volume from",
    "start": "569920",
    "end": "578170"
  },
  {
    "text": "seychelles that means the data will be populated into the volume so instead of just empty",
    "start": "578170",
    "end": "584350"
  },
  {
    "text": "volume you create as before and at same",
    "start": "584350",
    "end": "589420"
  },
  {
    "text": "time many cloud provider allow you to change your volume configurations for example you can change the type of your",
    "start": "589420",
    "end": "597520"
  },
  {
    "text": "volume from standard to SSD and you can also increase your volume size so you",
    "start": "597520",
    "end": "607330"
  },
  {
    "text": "can see this is also a use case for using snapshot to change your volume",
    "start": "607330",
    "end": "613050"
  },
  {
    "text": "configurations and DV snapshots is",
    "start": "613050",
    "end": "618180"
  },
  {
    "text": "straightforward and you can delete your snapshot from cloud and now for the API",
    "start": "618180",
    "end": "625960"
  },
  {
    "start": "622000",
    "end": "684000"
  },
  {
    "text": "design volume snapshot is very similar to PvP VC design so we also have to AP",
    "start": "625960",
    "end": "633940"
  },
  {
    "text": "object to represent it from user point of view you have a volume snapshot",
    "start": "633940",
    "end": "640680"
  },
  {
    "text": "visitation request for taking a snapshot to a volume so in the bottom Seshat spec",
    "start": "640680",
    "end": "647260"
  },
  {
    "text": "you specify you'll have a reference to the PVC that means you want to take that route from that volume and once a",
    "start": "647260",
    "end": "656380"
  },
  {
    "text": "warrior on a snapshot is taken system will create a volume snapshot data API",
    "start": "656380",
    "end": "662500"
  },
  {
    "text": "object which will store the detail information about the snapshot like the ID",
    "start": "662500",
    "end": "668370"
  },
  {
    "text": "and controller will find these two object together just like PVC pv a pair",
    "start": "668370",
    "end": "674290"
  },
  {
    "text": "and the left cycle of volume snapshots were also independent to their pv pv c",
    "start": "674290",
    "end": "683400"
  },
  {
    "start": "684000",
    "end": "740000"
  },
  {
    "text": "now we also use them file to show the workflow of creating snapshots and you",
    "start": "685980",
    "end": "693310"
  },
  {
    "text": "probably see this is a very simple um file and in a spec you only need to specify your PVC name",
    "start": "693310",
    "end": "700320"
  },
  {
    "text": "that means you want to take a snapshot for that particular piece volume and",
    "start": "700320",
    "end": "707220"
  },
  {
    "text": "when you use cube control to create such volume such snapshot a volume snapshot",
    "start": "707220",
    "end": "714460"
  },
  {
    "text": "API which ID is created and also a lot of structured data epitaxy is created in",
    "start": "714460",
    "end": "721000"
  },
  {
    "text": "non namespace so you will see the snapshot ID and also creation timestamp",
    "start": "721000",
    "end": "727810"
  },
  {
    "text": "accenture the status information in there and the controller was also buying these two API charts API objects",
    "start": "727810",
    "end": "735340"
  },
  {
    "text": "together now after that you have volume",
    "start": "735340",
    "end": "744160"
  },
  {
    "start": "740000",
    "end": "824000"
  },
  {
    "text": "snapshots API object available you can use it to create new volumes so here you",
    "start": "744160",
    "end": "753970"
  },
  {
    "text": "can see to create new volume is almost identical to the workflow we just show",
    "start": "753970",
    "end": "759790"
  },
  {
    "text": "in creating volume before the only difference here is you specify your",
    "start": "759790",
    "end": "766150"
  },
  {
    "text": "snapshots name into the TV cm file and",
    "start": "766150",
    "end": "772200"
  },
  {
    "text": "currently because the snapshots implementation is out of tray so we use",
    "start": "772200",
    "end": "778420"
  },
  {
    "text": "a notation to put this information you may know also notice we are storage class name here because also because out",
    "start": "778420",
    "end": "785320"
  },
  {
    "text": "which way we use external provisioner so you need to specify this provisional name",
    "start": "785320",
    "end": "791910"
  },
  {
    "text": "okay similarly so a PVC AP object is created and also a PV object and the",
    "start": "794790",
    "end": "803380"
  },
  {
    "text": "controller will bind them together but this time you will see the data will be",
    "start": "803380",
    "end": "808840"
  },
  {
    "text": "populated into the volume instead of creating an empty volume but for user point of view the workload operating",
    "start": "808840",
    "end": "815440"
  },
  {
    "text": "volume almost the same you just add your snapshot I information into the gem file",
    "start": "815440",
    "end": "822930"
  },
  {
    "start": "824000",
    "end": "865000"
  },
  {
    "text": "and the in the current state we have a",
    "start": "824070",
    "end": "832230"
  },
  {
    "text": "auto snapshot API support in external storage so Oh the old API",
    "start": "832230",
    "end": "839410"
  },
  {
    "text": "objects are actually CRT custom resource definitions and we use external",
    "start": "839410",
    "end": "845920"
  },
  {
    "text": "controller and external provisioner to manage to create delete snapshot and",
    "start": "845920",
    "end": "852070"
  },
  {
    "text": "provision morning from the snapshot and we are working on pushing this entry as",
    "start": "852070",
    "end": "859030"
  },
  {
    "text": "alpha version and also add CSI support",
    "start": "859030",
    "end": "863700"
  },
  {
    "start": "865000",
    "end": "1019000"
  },
  {
    "text": "okay with the support of for team snapshot API objects now we talked about",
    "start": "866310",
    "end": "871900"
  },
  {
    "text": "how to use a controller to manage snapshot policy so just now when we",
    "start": "871900",
    "end": "878050"
  },
  {
    "text": "introduced snapshot workflow for user right take create a single snapshot",
    "start": "878050",
    "end": "885120"
  },
  {
    "text": "whenever they need however you managers kisses system in one tool I say",
    "start": "885120",
    "end": "891190"
  },
  {
    "text": "periodically take snapshots everyday and also delete snapshot for example after",
    "start": "891190",
    "end": "897130"
  },
  {
    "text": "certain period time so that means we need a schedule and we call a snapshot",
    "start": "897130",
    "end": "903940"
  },
  {
    "text": "policy and also a controller to react based on this policy and such policy",
    "start": "903940",
    "end": "913660"
  },
  {
    "text": "should be also represent by API object however we don't have any building AP",
    "start": "913660",
    "end": "918850"
  },
  {
    "text": "object to represent such a policy so CRD would be very useful for this case so we",
    "start": "918850",
    "end": "926830"
  },
  {
    "text": "can create ERD for policy type and create policy",
    "start": "926830",
    "end": "932300"
  },
  {
    "text": "but by just creating policies CRT itself",
    "start": "932300",
    "end": "937890"
  },
  {
    "text": "won't do anything just like all the other AP object you need a controller right to define to manage based on this",
    "start": "937890",
    "end": "945900"
  },
  {
    "text": "policy so that is what we call custom",
    "start": "945900",
    "end": "951120"
  },
  {
    "text": "controller normally in custom controller you need to have some implementations",
    "start": "951120",
    "end": "959840"
  },
  {
    "text": "components such as sharing forward to keep watching the update from ApS server",
    "start": "959840",
    "end": "966030"
  },
  {
    "text": "and the reconciler to create a control loop to manage the state's its ancillary",
    "start": "966030",
    "end": "973080"
  },
  {
    "text": "work but good news is for mana controller it is reframe work provided",
    "start": "973080",
    "end": "979620"
  },
  {
    "text": "by my my co-author Anthony and by using",
    "start": "979620",
    "end": "984750"
  },
  {
    "text": "the manner controller framework all these common components already provided for user point of view they only need to",
    "start": "984750",
    "end": "993620"
  },
  {
    "text": "create their CRT for their let's say in this example this natural policy and",
    "start": "993620",
    "end": "999330"
  },
  {
    "text": "also to put their business logic into the sync web hook and the Rican seller",
    "start": "999330",
    "end": "1007370"
  },
  {
    "text": "will create a control loop on your behalf and call the sync function",
    "start": "1007370",
    "end": "1013100"
  },
  {
    "text": "periodically or when it's needed so you",
    "start": "1013100",
    "end": "1021950"
  },
  {
    "start": "1019000",
    "end": "1068000"
  },
  {
    "text": "snap shot policy as example in the CRT definition lets you create a new type",
    "start": "1021950",
    "end": "1027470"
  },
  {
    "text": "which is called snapshot policy and with",
    "start": "1027470",
    "end": "1032839"
  },
  {
    "text": "this new type I can create my own snapshot of policy policy one and I put",
    "start": "1032839",
    "end": "1038230"
  },
  {
    "text": "in this bag I snapshot interval like six hours that means every six hours I want",
    "start": "1038230",
    "end": "1044630"
  },
  {
    "text": "to create a new part new snapshot and also what is it spirit that means after 10 days I want to delete that snapshot",
    "start": "1044630",
    "end": "1053860"
  },
  {
    "text": "this selector will match labels basically it will find the resources",
    "start": "1053860",
    "end": "1060260"
  },
  {
    "text": "that have the labels that means issued controlled by this policy and the let's look at the",
    "start": "1060260",
    "end": "1072230"
  },
  {
    "start": "1068000",
    "end": "1167000"
  },
  {
    "text": "controller side so magnet controller provides a view controller patent why",
    "start": "1072230",
    "end": "1079309"
  },
  {
    "text": "it's got a composite controller basically in such controller you defy a",
    "start": "1079309",
    "end": "1085730"
  },
  {
    "text": "parent resource and at orange sauce and the parent resource in this case is would be your step short policy and",
    "start": "1085730",
    "end": "1092900"
  },
  {
    "text": "children resource will be the PVC and snapshots you want to managed via policy",
    "start": "1092900",
    "end": "1100190"
  },
  {
    "text": "and you can also define like config how often you want to sync in this national",
    "start": "1100190",
    "end": "1110210"
  },
  {
    "text": "policy controller and this is would be the logic you put in your sync function",
    "start": "1110210",
    "end": "1118160"
  },
  {
    "text": "since this is a web hook you can use any language you want and in this thing",
    "start": "1118160",
    "end": "1124850"
  },
  {
    "text": "function is very simple so for it we'll have to control loop for each snapshot",
    "start": "1124850",
    "end": "1130190"
  },
  {
    "text": "like managed by this policy your check the creation time if it's larger than",
    "start": "1130190",
    "end": "1136580"
  },
  {
    "text": "the validation whether it period you need to delete this snapshot and also it",
    "start": "1136580",
    "end": "1143480"
  },
  {
    "text": "will check each PVC under this policy",
    "start": "1143480",
    "end": "1148570"
  },
  {
    "text": "what is the creation time for the last step shots taken four days PVC and",
    "start": "1148570",
    "end": "1153940"
  },
  {
    "text": "compared with the temporal interval if it's longer than the interval it will go",
    "start": "1153940",
    "end": "1160520"
  },
  {
    "text": "ahead create a new new snapshot for this PVC okay it's time for just a simple",
    "start": "1160520",
    "end": "1172070"
  },
  {
    "start": "1167000",
    "end": "1373000"
  },
  {
    "text": "demo to play safe I will use this video",
    "start": "1172070",
    "end": "1178370"
  },
  {
    "text": "to show you I hope it's a large enough",
    "start": "1178370",
    "end": "1184850"
  },
  {
    "text": "so you can see it so first I'll check the controller yum file so you have the",
    "start": "1184850",
    "end": "1192830"
  },
  {
    "text": "custom CRT definition and converted controller you define",
    "start": "1192830",
    "end": "1198050"
  },
  {
    "text": "parents resource children resource and also the department to run your",
    "start": "1198050",
    "end": "1204680"
  },
  {
    "text": "controller by your skill control to create your snapshot controller you see",
    "start": "1204680",
    "end": "1211160"
  },
  {
    "text": "you have CRD created the controller created and deployed and now I create a",
    "start": "1211160",
    "end": "1217730"
  },
  {
    "text": "new policy in the policy spike I specify it takes a shot every 10 seconds and the",
    "start": "1217730",
    "end": "1223730"
  },
  {
    "text": "valid period is 20 seconds now I can apply this policy and now you have",
    "start": "1223730",
    "end": "1232760"
  },
  {
    "text": "policy and you have controller running I create just a number PVC and in this PVC",
    "start": "1232760",
    "end": "1241100"
  },
  {
    "text": "I repressed some amount of resources and now we can check for volume snapshots",
    "start": "1241100",
    "end": "1248750"
  },
  {
    "text": "and right away you see we have two snapshot taken already so every 10",
    "start": "1248750",
    "end": "1255110"
  },
  {
    "text": "seconds and also since we have validates",
    "start": "1255110",
    "end": "1261920"
  },
  {
    "text": "period 20 seconds so you see the otherwise deleted and new eyes created now it's time I want to change my policy",
    "start": "1261920",
    "end": "1269600"
  },
  {
    "text": "so I changed from 10:00 to 5:00 forceps out interval and the periods make it",
    "start": "1269600",
    "end": "1276770"
  },
  {
    "text": "longer to 50 seconds and I don't mean I only need to apply this policy again",
    "start": "1276770",
    "end": "1281890"
  },
  {
    "text": "miss cube control and now when you check this you can see immediately every five",
    "start": "1281890",
    "end": "1290600"
  },
  {
    "text": "seconds a new snapshot is taken and the old one wants to be here until exceeds",
    "start": "1290600",
    "end": "1296870"
  },
  {
    "text": "15 seconds",
    "start": "1296870",
    "end": "1300160"
  },
  {
    "text": "so indeed is similar demo but from this demo we see the potential of the",
    "start": "1311420",
    "end": "1318030"
  },
  {
    "text": "possibility that you create complicated high-level policy controller based on",
    "start": "1318030",
    "end": "1326280"
  },
  {
    "text": "your knees so with volume snapshot API and demand our controller framework it's",
    "start": "1326280",
    "end": "1332130"
  },
  {
    "text": "very easy to create your own and you can modify your policy file and apply it",
    "start": "1332130",
    "end": "1338640"
  },
  {
    "text": "anytime you want and you can customize the logic for example in the step shot a",
    "start": "1338640",
    "end": "1347550"
  },
  {
    "text": "sync function you can also trigger a job to prepare your application before",
    "start": "1347550",
    "end": "1353250"
  },
  {
    "text": "taking step shot and also resume application after step shot is created and also you can manage multiple",
    "start": "1353250",
    "end": "1360960"
  },
  {
    "text": "policies by using the labels and you can specify which sub resources you want to",
    "start": "1360960",
    "end": "1367080"
  },
  {
    "text": "manage by this policy",
    "start": "1367080",
    "end": "1370309"
  },
  {
    "start": "1373000",
    "end": "1629000"
  },
  {
    "text": "okay so now it's the last part of this",
    "start": "1375910",
    "end": "1381260"
  },
  {
    "text": "talk to talk about the restore workflow so this lies",
    "start": "1381260",
    "end": "1387770"
  },
  {
    "text": "it's basically remind you of our crazy morning from seychelles workflow so",
    "start": "1387770",
    "end": "1393410"
  },
  {
    "text": "remember the only thing you need to do is to add step shots information into",
    "start": "1393410",
    "end": "1399920"
  },
  {
    "text": "the PVC young file and then the controller will provision a taste from",
    "start": "1399920",
    "end": "1405350"
  },
  {
    "text": "the snapshot and the au pair of PV PVC will create and bind together",
    "start": "1405350",
    "end": "1410890"
  },
  {
    "text": "however this simple approach have some limitations first you need to modify",
    "start": "1410890",
    "end": "1417980"
  },
  {
    "text": "your PVC source file in many in sub use cases that met applicable and also for",
    "start": "1417980",
    "end": "1428570"
  },
  {
    "text": "PvP BC it's my currently use that means a part may reference it and running your",
    "start": "1428570",
    "end": "1435410"
  },
  {
    "text": "application use this storage you cannot actually change your PVC and restore",
    "start": "1435410",
    "end": "1441650"
  },
  {
    "text": "your data into that PVC so some manual step you might need to do is for example",
    "start": "1441650",
    "end": "1447490"
  },
  {
    "text": "including delete your part first and then you need to delete your old PVC and",
    "start": "1447490",
    "end": "1455920"
  },
  {
    "text": "pay attention your original volume might also delete it if your retention policy",
    "start": "1455920",
    "end": "1461000"
  },
  {
    "text": "is delete and now you can create by",
    "start": "1461000",
    "end": "1466580"
  },
  {
    "text": "modify a PVC source file you can create a new PVC valve is the same name and",
    "start": "1466580",
    "end": "1472150"
  },
  {
    "text": "after the volume is probe agent and pv pv c-- point together and you can resume",
    "start": "1472150",
    "end": "1479510"
  },
  {
    "text": "your part which reference that PVC so this whole process that means you need",
    "start": "1479510",
    "end": "1486320"
  },
  {
    "text": "to tear down your pod right so you may have a long long time because of this so",
    "start": "1486320",
    "end": "1494210"
  },
  {
    "text": "to overcome the limitations we propose a in-place restore volume workflow and we",
    "start": "1494210",
    "end": "1503180"
  },
  {
    "text": "can use a new API project called restore volume in the",
    "start": "1503180",
    "end": "1508820"
  },
  {
    "text": "API without you specify what is the snapshot source and what is the",
    "start": "1508820",
    "end": "1514100"
  },
  {
    "text": "persistent the PVC name and in case this",
    "start": "1514100",
    "end": "1520129"
  },
  {
    "text": "PVC is currently used by some pot and when user created such restore volume",
    "start": "1520129",
    "end": "1527720"
  },
  {
    "text": "and the controller will based on the information first",
    "start": "1527720",
    "end": "1533749"
  },
  {
    "text": "to provision a new volume from the snapshot and use PV Prime to represent",
    "start": "1533749",
    "end": "1541460"
  },
  {
    "text": "it this step can be done independently it won't affect existing PV PVC and when",
    "start": "1541460",
    "end": "1550039"
  },
  {
    "text": "the volume is provisioned after is provisioned user can decide to delete a",
    "start": "1550039",
    "end": "1555169"
  },
  {
    "text": "part and the controller will detect not at this time PVC no longer in use by any",
    "start": "1555169",
    "end": "1562460"
  },
  {
    "text": "part and quickly switch the point pointer to the new PBS and right after",
    "start": "1562460",
    "end": "1571220"
  },
  {
    "text": "that your new part can be resumed so in this way you still have your PVC it",
    "start": "1571220",
    "end": "1578029"
  },
  {
    "text": "doesn't change but the pointer bind pointer will point to the new PV and your pods will start using this new",
    "start": "1578029",
    "end": "1585109"
  },
  {
    "text": "volume and the Tumtum time for a part is",
    "start": "1585109",
    "end": "1590330"
  },
  {
    "text": "only basally to switch your pointer from the old one to do one it should be",
    "start": "1590330",
    "end": "1596419"
  },
  {
    "text": "minimized your downtime and we consider this in place restore would be useful",
    "start": "1596419",
    "end": "1603470"
  },
  {
    "text": "for some use cases for example you have set four sets the applicants running but",
    "start": "1603470",
    "end": "1608539"
  },
  {
    "text": "one of the discs is his problem you want to restore from a snapshot you can just",
    "start": "1608539",
    "end": "1616850"
  },
  {
    "text": "create a restore volume if you object to achieve this and also it might be useful",
    "start": "1616850",
    "end": "1622220"
  },
  {
    "text": "for like loading updating scenario ok so",
    "start": "1622220",
    "end": "1632619"
  },
  {
    "start": "1629000",
    "end": "1694000"
  },
  {
    "text": "that's most of our my talk and in summary so currently we have a out of",
    "start": "1632619",
    "end": "1640129"
  },
  {
    "text": "tree volume snapshots implement in external storage people so for",
    "start": "1640129",
    "end": "1646740"
  },
  {
    "text": "experimental you can try it it provides all the basic functions I just mentioned",
    "start": "1646740",
    "end": "1652440"
  },
  {
    "text": "like create DD snapshot and create volume from the snapshot and currently",
    "start": "1652440",
    "end": "1658500"
  },
  {
    "text": "we support a few plugins including gcpd it arise of star cluster and host pass",
    "start": "1658500",
    "end": "1666140"
  },
  {
    "text": "and we are actively working on snapshot",
    "start": "1666140",
    "end": "1671730"
  },
  {
    "text": "feature for example to add support for CSI in also pushing the water scheduler",
    "start": "1671730",
    "end": "1681000"
  },
  {
    "text": "API entry and work on the in-place restore workflow and provides the",
    "start": "1681000",
    "end": "1686100"
  },
  {
    "text": "snapshot policy controller so those are all ongoing your work and your feedback",
    "start": "1686100",
    "end": "1692040"
  },
  {
    "text": "and questions are welcome so finally this is a teamwork",
    "start": "1692040",
    "end": "1697250"
  },
  {
    "start": "1694000",
    "end": "2033000"
  },
  {
    "text": "besides our Google team and we have outside contributors from open STS from",
    "start": "1697250",
    "end": "1704850"
  },
  {
    "text": "Red Hat and this is our company information yeah and my interest rate",
    "start": "1704850",
    "end": "1710340"
  },
  {
    "text": "Isis know and you can involve in this thank you very much",
    "start": "1710340",
    "end": "1715740"
  },
  {
    "text": "[Applause]",
    "start": "1715740",
    "end": "1719099"
  },
  {
    "text": "so we can take some questions no so to",
    "start": "1721630",
    "end": "1748750"
  },
  {
    "text": "provision volume from some shots it actually don't need snapshot controller would flow it is the basically follow",
    "start": "1748750",
    "end": "1756280"
  },
  {
    "text": "the same volume creation workflow so it will just check your since you have a",
    "start": "1756280",
    "end": "1763990"
  },
  {
    "text": "snapshot leak where protect so it will get snapshot API object and find the",
    "start": "1763990",
    "end": "1769570"
  },
  {
    "text": "snapshot ID and then pass this information to the provisioner and",
    "start": "1769570",
    "end": "1775420"
  },
  {
    "text": "provisioner just go ahead to add this snapshot information when crate steps",
    "start": "1775420",
    "end": "1781570"
  },
  {
    "text": "event create volume so it's not related to controller snapshot controller",
    "start": "1781570",
    "end": "1787920"
  },
  {
    "text": "Scarola is using external provisioner yeah so but after we move into a rat",
    "start": "1794070",
    "end": "1801250"
  },
  {
    "text": "it's basically the same workflow when you create a new volume right so it goes",
    "start": "1801250",
    "end": "1806380"
  },
  {
    "text": "through the provisioning workflow it's not depends on the snapshot controller itself central controller",
    "start": "1806380",
    "end": "1811929"
  },
  {
    "text": "will just responsible for creating tv8 snapshots yeah thank you yes",
    "start": "1811929",
    "end": "1823500"
  },
  {
    "text": "is it possible if you suffer catastrophic loss to to reconnect a",
    "start": "1826960",
    "end": "1835120"
  },
  {
    "text": "snapshot that's been taken previously in your say a new cluster in the fact that",
    "start": "1835120",
    "end": "1843429"
  },
  {
    "text": "you've taken an EBS snapshot if you are Amazon and now you're restoring your",
    "start": "1843429",
    "end": "1849039"
  },
  {
    "text": "entire entire cluster and now you need to connect that back to the snapshot",
    "start": "1849039",
    "end": "1854590"
  },
  {
    "text": "manager system so you mean like you create a snapshot outside and then you",
    "start": "1854590",
    "end": "1860830"
  },
  {
    "text": "want to make it available in communities yeah oh you've created it on the cluster",
    "start": "1860830",
    "end": "1866169"
  },
  {
    "text": "that's that's died and now you're bringing up a new cluster with this and it's been created not known by it so I",
    "start": "1866169",
    "end": "1878409"
  },
  {
    "text": "think your question have two aspects why is you you create you to use a plan to",
    "start": "1878409",
    "end": "1885970"
  },
  {
    "text": "create step shots through the kubernetes api okay yeah so you have snapshot AP",
    "start": "1885970",
    "end": "1891850"
  },
  {
    "text": "objects' available but you want to use it in another cluster when you bring it",
    "start": "1891850",
    "end": "1898299"
  },
  {
    "text": "up so as long as your new cluster can access the same API server right you",
    "start": "1898299",
    "end": "1903460"
  },
  {
    "text": "have your snapshot API objects available so you can retrieve from that API server",
    "start": "1903460",
    "end": "1909159"
  },
  {
    "text": "and you can be able to use it yes so",
    "start": "1909159",
    "end": "1921840"
  },
  {
    "text": "then depends right because currently",
    "start": "1921840",
    "end": "1928389"
  },
  {
    "text": "order snapshots ID like information is stored in the API in the snapshot ap",
    "start": "1928389",
    "end": "1934120"
  },
  {
    "text": "objects so if you don't have other like record of yes yeah you can still yes yes",
    "start": "1934120",
    "end": "1950220"
  },
  {
    "text": "if you have a snapshot taken from the storage system the external storage",
    "start": "1951000",
    "end": "1957179"
  },
  {
    "text": "system can you import into kubernetes and use yes I think it's possible we",
    "start": "1957179",
    "end": "1965700"
  },
  {
    "text": "didn't like work on that specifically but if you have taken a snapshot outside",
    "start": "1965700",
    "end": "1973340"
  },
  {
    "text": "and you can probably manually to create a volume snapshots ap objects' and puts",
    "start": "1973340",
    "end": "1979920"
  },
  {
    "text": "manually put information into those objects yeah okay thanks is possible but",
    "start": "1979920",
    "end": "1986429"
  },
  {
    "text": "it's the main hate you more some extra work to do it yeah thank you so my",
    "start": "1986429",
    "end": "2002120"
  },
  {
    "text": "question is about the meta controller do you recommend creating you know operators or policies are using meta",
    "start": "2002120",
    "end": "2008929"
  },
  {
    "text": "controller I have been trying better controller on and off but it's been a",
    "start": "2008929",
    "end": "2014059"
  },
  {
    "text": "little bit difficult for me haha yes I think it's my have a learning curve but",
    "start": "2014059",
    "end": "2019340"
  },
  {
    "text": "the good news is like Anthony who is in charge of this project he is continuing",
    "start": "2019340",
    "end": "2026420"
  },
  {
    "text": "working on that and also I will show you he has new like here I think he is still",
    "start": "2026420",
    "end": "2037550"
  },
  {
    "text": "working on that but it's basically have a lot more information how to use the",
    "start": "2037550",
    "end": "2043700"
  },
  {
    "text": "man that controller and it has much richer information and help you to understand the workflow so when I start",
    "start": "2043700",
    "end": "2050240"
  },
  {
    "text": "working on that also have some learning curve but after a little bit I think is",
    "start": "2050240",
    "end": "2055340"
  },
  {
    "text": "give us it was very powerful in kind of framework to work on to design your own",
    "start": "2055340",
    "end": "2061580"
  },
  {
    "text": "yes so I definitely recommend using it yeah thank you",
    "start": "2061580",
    "end": "2068230"
  },
  {
    "text": "can we have more than one policy for same snapshot object yeah you have have",
    "start": "2070790",
    "end": "2076919"
  },
  {
    "text": "many policies so we'll do the policy validation then is there any quantity in the policy who will do the validation of",
    "start": "2076919",
    "end": "2082980"
  },
  {
    "text": "the policy who will do the valuation for you so country is just like us small",
    "start": "2082980",
    "end": "2091230"
  },
  {
    "text": "time all working on this really have like validation so what do you mean by",
    "start": "2091230",
    "end": "2097920"
  },
  {
    "text": "validation your policy like whether it is feasible yeah maybe you define an",
    "start": "2097920",
    "end": "2103050"
  },
  {
    "text": "interval which is conflicting each other to delete a policy so to delete a snapshot or creation of a snapshot so if",
    "start": "2103050",
    "end": "2109440"
  },
  {
    "text": "there is a conflict in the policy when you define more than one policy for this names never shot up yet so normally I'm",
    "start": "2109440",
    "end": "2115859"
  },
  {
    "text": "thinking your policy should manage a subset of your resources unless you have",
    "start": "2115859",
    "end": "2122400"
  },
  {
    "text": "overlap among different policies right so each policy should in charge of a",
    "start": "2122400",
    "end": "2127800"
  },
  {
    "text": "like different group of resources and so your policy will depends how you",
    "start": "2127800",
    "end": "2134790"
  },
  {
    "text": "implement your business logic right so you can have some validation into your policy into the business logic you put",
    "start": "2134790",
    "end": "2142260"
  },
  {
    "text": "in the sync function okay yeah thanks",
    "start": "2142260",
    "end": "2147020"
  },
  {
    "text": "okay so I think that's the end of my talk and thank you very much and so your",
    "start": "2153140",
    "end": "2159839"
  },
  {
    "text": "feedback questions yeah welcome thank you",
    "start": "2159839",
    "end": "2165440"
  }
]