[
  {
    "start": "0",
    "end": "14000"
  },
  {
    "text": "all right welcome to this afternoon's session I think we're pretty much ready to get started thank you for joining me",
    "start": "0",
    "end": "5640"
  },
  {
    "text": "for hands-on get ups today it's quite a lot of you so we'll see how that works",
    "start": "5640",
    "end": "11070"
  },
  {
    "text": "out when we get to the exercise part so hi I'm briefs I'm from we've works",
    "start": "11070",
    "end": "18060"
  },
  {
    "start": "14000",
    "end": "55000"
  },
  {
    "text": "we've works we kind of developed this guitar model that you're here to learn about today and one of the customers success engineers that we works which",
    "start": "18060",
    "end": "24660"
  },
  {
    "text": "means I work as an engineer with our customers that you've got lots of different titles in different companies for the same job",
    "start": "24660",
    "end": "31309"
  },
  {
    "text": "if you want to find us more about us if you want to find more about us you can find us at we've works we've dot works",
    "start": "31309",
    "end": "37980"
  },
  {
    "text": "or just at we've works on Twitter do you get in touch we're pretty friendly Bunch",
    "start": "37980",
    "end": "43290"
  },
  {
    "text": "so don't hesitate if you need some help jump on we've works and ask questions",
    "start": "43290",
    "end": "49340"
  },
  {
    "text": "find our slack which is slack dot we've dot works and ask questions there as well so",
    "start": "49340",
    "end": "55670"
  },
  {
    "start": "55000",
    "end": "98000"
  },
  {
    "text": "today I'm gonna do kind of split it up in three parts the first part is going to be some get-ups principles so I'm",
    "start": "55670",
    "end": "62340"
  },
  {
    "text": "gonna share with you kind of how I see get ups what the principles of get ups are as far as I can tell then we're",
    "start": "62340",
    "end": "67530"
  },
  {
    "text": "going to do is hands-on exercise for get ups which is a series of kind of things you have to do with a cluster for this",
    "start": "67530",
    "end": "75210"
  },
  {
    "text": "you'll need kind of a test cluster you can use your own if you've got one available you can also use catechu de",
    "start": "75210",
    "end": "81990"
  },
  {
    "text": "comm which has test clusters available kind of a test and learning environments",
    "start": "81990",
    "end": "87439"
  },
  {
    "text": "and we'll get onto that when it becomes more relevant and then finally I'll show you how we kind of realize those",
    "start": "87439",
    "end": "93659"
  },
  {
    "text": "principles in the tools we use that we works so everything for today for today's",
    "start": "93659",
    "end": "101220"
  },
  {
    "text": "session is available at that URL so I'll leave it on screen for a little while in there you'll find a gets github",
    "start": "101220",
    "end": "108869"
  },
  {
    "text": "repository there's an image of the slides if you click the image of the slide and thank you to the slides themselves",
    "start": "108869",
    "end": "115219"
  },
  {
    "text": "so everything is available for you on there and the slides have also been linked to the event so if you don't want",
    "start": "115219",
    "end": "121829"
  },
  {
    "text": "to find it back in your schedule you'll be able to find the slides as well during the course of this afternoon",
    "start": "121829",
    "end": "127500"
  },
  {
    "text": "don't hesitate to interrupt me and ask me a question if you have one might not notice it straight away because there's",
    "start": "127500",
    "end": "132599"
  },
  {
    "text": "quite a few of you but if you raise your hands with a question let me know",
    "start": "132599",
    "end": "137750"
  },
  {
    "text": "I'll wait a few more minutes with you a few more moments for people to grab that",
    "start": "137750",
    "end": "143220"
  },
  {
    "text": "URL",
    "start": "143220",
    "end": "145760"
  },
  {
    "text": "just to encourage you to ask questions the first three questions about guitars",
    "start": "161930",
    "end": "167790"
  },
  {
    "text": "at least or about the workshop will get one of the books here so I don't know",
    "start": "167790",
    "end": "172800"
  },
  {
    "text": "any questions you know not questions about astronomy but if you want to ask the question about get-ups then you'll get a book",
    "start": "172800",
    "end": "178040"
  },
  {
    "text": "what books are they we have Cuba Nettie's up and running two",
    "start": "178040",
    "end": "184140"
  },
  {
    "text": "copies of Cuban ''tis up and running and then designing data intensive applications",
    "start": "184140",
    "end": "189350"
  },
  {
    "text": "so the kind of the first question I want to answer and kind of clarify and lay down is what is get ups and I want to do",
    "start": "193790",
    "end": "201750"
  },
  {
    "start": "194000",
    "end": "219000"
  },
  {
    "text": "that just so we can have the understanding when we get to the exercise because one we did with the",
    "start": "201750",
    "end": "207900"
  },
  {
    "text": "exercise we're gonna get can you know deep in the swamp of kind of gets operations and merge murder requests etc",
    "start": "207900",
    "end": "214890"
  },
  {
    "text": "so I want to kind of put a high-level overview first so that we understand what is get ups so get ups is a bunch of things one",
    "start": "214890",
    "end": "222930"
  },
  {
    "start": "219000",
    "end": "307000"
  },
  {
    "text": "thing one way of thinking about it is an operations model it's how you operate on your infrastructure",
    "start": "222930",
    "end": "229130"
  },
  {
    "text": "ethos is derived from computer science and operational knowledge so we've been running kubernetes for about three years",
    "start": "229130",
    "end": "235320"
  },
  {
    "text": "that we've works so a lot of the get-ups approach is derived from our own",
    "start": "235320",
    "end": "241650"
  },
  {
    "text": "operational expertise and there's a couple of things that come with output the Preferences of get-ups that come",
    "start": "241650",
    "end": "248250"
  },
  {
    "text": "from the computer science side name notwithstanding it is actually",
    "start": "248250",
    "end": "253709"
  },
  {
    "text": "technology agnostic you could do the same things with the same kind of things with other version control systems so if",
    "start": "253709",
    "end": "260400"
  },
  {
    "text": "you want mercurial ops you could do we like it for some interesting reasons to",
    "start": "260400",
    "end": "265890"
  },
  {
    "text": "do with security and trip auditability but you can do it with other visual control systems",
    "start": "265890",
    "end": "271570"
  },
  {
    "text": "and it's really about the principles not the how I mean we've works here we build",
    "start": "271570",
    "end": "277730"
  },
  {
    "text": "tools about how to do this but really this session is about trans transferring",
    "start": "277730",
    "end": "282770"
  },
  {
    "text": "to you the principles the why of get-ups not just the how of course if you want to learn more about the how come and",
    "start": "282770",
    "end": "289370"
  },
  {
    "text": "talk to me afterwards and I'll show you kind of how at the end of the session how we do things that we work",
    "start": "289370",
    "end": "294490"
  },
  {
    "text": "and kind of the goal here is to speed up your team to speed up your development",
    "start": "294490",
    "end": "299690"
  },
  {
    "text": "to be able to make changes safely and securely to complex applications especially when we're talking about",
    "start": "299690",
    "end": "306260"
  },
  {
    "text": "kubernetes so these are kind of the four principles of get-ups as I see them and I'll go",
    "start": "306260",
    "end": "312770"
  },
  {
    "start": "307000",
    "end": "381000"
  },
  {
    "text": "through them one by one so the first one is the entire system is described declaratively that means that everything",
    "start": "312770",
    "end": "320420"
  },
  {
    "text": "in our system is described as data right it's not just code it's data data is",
    "start": "320420",
    "end": "325970"
  },
  {
    "text": "implementation-dependent you don't need a particular tool to deal with data even kind of very novice programmer within",
    "start": "325970",
    "end": "332210"
  },
  {
    "text": "the first week six weeks are able to read and write structured data",
    "start": "332210",
    "end": "337270"
  },
  {
    "text": "it's very easy to abstract in simple ways right data abstraction and data templates are something that pretty much",
    "start": "337270",
    "end": "342890"
  },
  {
    "text": "everybody here is familiar with we're using them a lot it's easy to validate for correctness",
    "start": "342890",
    "end": "347990"
  },
  {
    "text": "that is non-negligible because if you have infrastructure as code that is defined as a set of code a set of steps",
    "start": "347990",
    "end": "353780"
  },
  {
    "text": "to take actually defining that it's kind of you are verifying their base is",
    "start": "353780",
    "end": "358970"
  },
  {
    "text": "correct or the steps are correct actually takes you up all the way to the halting problem because you can't decide",
    "start": "358970",
    "end": "364760"
  },
  {
    "text": "whether a set of code that configures your application is correct it's very easy to do with data to validate data",
    "start": "364760",
    "end": "370280"
  },
  {
    "text": "but it's a much harder job to validate code that defines your infrastructure which is why data is so important there",
    "start": "370280",
    "end": "376480"
  },
  {
    "text": "and it's easy to generate a manipulation code right it's very easy to read and write data",
    "start": "376480",
    "end": "381730"
  },
  {
    "start": "381000",
    "end": "434000"
  },
  {
    "text": "so how is that a different from infrastructure s code the issue we had with infrastructure as code is that a",
    "start": "381730",
    "end": "387440"
  },
  {
    "text": "lot of the time we we met people and what they the principles of infrastructure is code is very much",
    "start": "387440",
    "end": "392660"
  },
  {
    "text": "about kind of data-driven declarative definitions but we found people who kind of put upon a bunch of shell scripts in",
    "start": "392660",
    "end": "399380"
  },
  {
    "text": "a repository and thought they had good this is not the same thing right so it's about consistency the failure case",
    "start": "399380",
    "end": "404939"
  },
  {
    "text": "there's a big difference between kind of having some shell scripts running where something could go wrong in the middle",
    "start": "404939",
    "end": "410969"
  },
  {
    "text": "so if something goes wrong in the middle you're ending up in a with an inconsistent system state that you don't",
    "start": "410969",
    "end": "416430"
  },
  {
    "text": "know about right there's a state of your system is now kind of up for grabs you don't know what's going on",
    "start": "416430",
    "end": "421759"
  },
  {
    "text": "so doing declarative definitions of your system means that you can think of transitions between state as",
    "start": "421759",
    "end": "428129"
  },
  {
    "text": "transactions which is a very good thing right this is kind of a very good way of thinking about your systems",
    "start": "428129",
    "end": "434449"
  },
  {
    "start": "434000",
    "end": "552000"
  },
  {
    "text": "so the next step is the canonical desired state of the system is versioned with get alright so you have the you",
    "start": "434449",
    "end": "440520"
  },
  {
    "text": "have this the declaration of your system you really want to have that declaration",
    "start": "440520",
    "end": "446569"
  },
  {
    "text": "stored in a version control system and this is like your one canonical",
    "start": "446569",
    "end": "452129"
  },
  {
    "text": "source of truth you want the single place in your system that says this is the source of truth about my sister",
    "start": "452129",
    "end": "457469"
  },
  {
    "text": "everything else is derived and driven from that source of that source of truth it trivializes rollbacks right because a",
    "start": "457469",
    "end": "464669"
  },
  {
    "text": "rollback now it just becomes a get revert you just get revert to commit and then you just roll back to your",
    "start": "464669",
    "end": "469680"
  },
  {
    "text": "application state it has excellent security guarantees I I will openly",
    "start": "469680",
    "end": "475169"
  },
  {
    "text": "challenge anybody to find a better system for storing sets has changed and get in a more secure way you can do",
    "start": "475169",
    "end": "481439"
  },
  {
    "text": "things like use your key to sign commits etc to enforce very strong security",
    "start": "481439",
    "end": "487139"
  },
  {
    "text": "guarantees about authorship and provenance of your code you can build very sophisticated prove",
    "start": "487139",
    "end": "494969"
  },
  {
    "text": "off process on top of this as well so we already have those we have pull request murder request processors we're using",
    "start": "494969",
    "end": "501629"
  },
  {
    "text": "them all the time as developers and this is kind of a good way of thinking about your bringing those tools to your",
    "start": "501629",
    "end": "507419"
  },
  {
    "text": "application and beyond just human approval processes we can integrate the machine verification with our processes",
    "start": "507419",
    "end": "514289"
  },
  {
    "text": "as well so for example it's a really great place for software and humans to collaborate",
    "start": "514289",
    "end": "519620"
  },
  {
    "text": "if you have a merge request or a pull request you can have a software check say let's say you have a security",
    "start": "519620",
    "end": "525890"
  },
  {
    "text": "auditing tool that runs through all your application code you might have that approve or deny a merge request",
    "start": "525890",
    "end": "533339"
  },
  {
    "text": "so it's a really great point when you've got a git repository to have your humans deal with the code but also your machine",
    "start": "533339",
    "end": "539680"
  },
  {
    "text": "deal with the code and this links back to having the state declared kind of the",
    "start": "539680",
    "end": "545940"
  },
  {
    "text": "declaratively defined because that declaration is readable by both humans",
    "start": "545940",
    "end": "551019"
  },
  {
    "text": "and machine so approve changes to the desired state",
    "start": "551019",
    "end": "556899"
  },
  {
    "start": "552000",
    "end": "619000"
  },
  {
    "text": "are automatically applied to the system you've got this kind of magic land of declared state the next step is you",
    "start": "556899",
    "end": "563290"
  },
  {
    "text": "don't just want that to live on its own you want that those changes any change to that state to be automatically applied to your system this is where you",
    "start": "563290",
    "end": "570700"
  },
  {
    "text": "get your velocity gained right you get your velocity gained by having that automated and what's really neat about",
    "start": "570700",
    "end": "576970"
  },
  {
    "text": "this is you don't have the credentials to make the change the aren't necessary",
    "start": "576970",
    "end": "582970"
  },
  {
    "text": "for the person move creating the commit so the credentials to poke in your cluster and change things don't have to",
    "start": "582970",
    "end": "590200"
  },
  {
    "text": "live anywhere outside of your cluster so you have like a segregated environment and the declared buck and the the state",
    "start": "590200",
    "end": "596050"
  },
  {
    "text": "definition can live outside of that because it's a data declared in git you",
    "start": "596050",
    "end": "601180"
  },
  {
    "text": "can ensure its provenance and its security even though he lives outside of your firewall and then use that to drive",
    "start": "601180",
    "end": "607420"
  },
  {
    "text": "your internal systems without ever letting your authentication keys and your credentials outside of your kind of",
    "start": "607420",
    "end": "613390"
  },
  {
    "text": "walled garden so separating what and how what you do and how you're going to do",
    "start": "613390",
    "end": "619350"
  },
  {
    "start": "619000",
    "end": "682000"
  },
  {
    "text": "and the next step is now you've got the system that kind of automatically updates based when you do a state change",
    "start": "619350",
    "end": "625829"
  },
  {
    "text": "the next thing you want to do is to have software agents that continuously ensure",
    "start": "625829",
    "end": "631029"
  },
  {
    "text": "correctness right your and will alert you if there ever diverges so you're",
    "start": "631029",
    "end": "636040"
  },
  {
    "text": "continuously checking that your running system meets your expectations you've encoded your expectations you've",
    "start": "636040",
    "end": "641199"
  },
  {
    "text": "done a lot of work in coding your expectations now you want software that will tell you whenever reality does not",
    "start": "641199",
    "end": "646480"
  },
  {
    "text": "match your expectations and it means that you can sell feel right the expectations means that you can if",
    "start": "646480",
    "end": "651970"
  },
  {
    "text": "you've got those declared well you means that your system can go okay that's happening that deployment should should",
    "start": "651970",
    "end": "658209"
  },
  {
    "text": "exist but it doesn't let me make sure it does which means that the system system can",
    "start": "658209",
    "end": "663459"
  },
  {
    "text": "self heal and this is not just self-healing from you know no going down or a pod failing which kubernetes does",
    "start": "663459",
    "end": "669520"
  },
  {
    "text": "but a broader aspect of failing in the case of human errors right it's a really really great way of recovering from pep",
    "start": "669520",
    "end": "676540"
  },
  {
    "text": "kak errors errors that come from a human operator it's kind of the control loop for your operations",
    "start": "676540",
    "end": "683010"
  },
  {
    "text": "so those are kind of the four principles that how I like to think about get-ups you know the entire system is described",
    "start": "683010",
    "end": "688959"
  },
  {
    "text": "declaratively canonical state of the system is version with get approved changes to the desired state are",
    "start": "688959",
    "end": "694930"
  },
  {
    "text": "automatically applied to the system and software agents ensure correctness and alert on divergence",
    "start": "694930",
    "end": "700890"
  },
  {
    "start": "700000",
    "end": "788000"
  },
  {
    "text": "so just to give you an idea of kind of what the pipeline the traditional pipeline looks like this is a traditional pipeline example so you can",
    "start": "700890",
    "end": "708610"
  },
  {
    "text": "see in the middle there's a CI step so you typically the CI system you'll see s",
    "start": "708610",
    "end": "713680"
  },
  {
    "text": "CI system will have access to your cluster and we'll start poking stuff into your cluster when it has a new",
    "start": "713680",
    "end": "719860"
  },
  {
    "text": "image build right you'll have some code in your CI code pipeline that will actually modify your system what we're",
    "start": "719860",
    "end": "727149"
  },
  {
    "text": "doing is removing all the control from the CI s-- pipeline we're moving the control into a config repository that",
    "start": "727149",
    "end": "733240"
  },
  {
    "text": "keeps the canonical state of the system so you have one repository for your code for your application code one for your",
    "start": "733240",
    "end": "738459"
  },
  {
    "text": "system configuration and that's what drives your system your or your cluster",
    "start": "738459",
    "end": "743880"
  },
  {
    "text": "and you'll notice that there's kind of the permissions to modify the cluster now no longer live anywhere on the",
    "start": "743880",
    "end": "750370"
  },
  {
    "text": "container registry the CI or your code repository they don't need authorization to do that",
    "start": "750370",
    "end": "755459"
  },
  {
    "text": "and then you have the operator that's you or one of your team members who is going to be working with that",
    "start": "755459",
    "end": "762400"
  },
  {
    "text": "configuration repository and you can enforce some very good kind of some whatever your processes your approval",
    "start": "762400",
    "end": "768730"
  },
  {
    "text": "processes you can enforce it at that level because you can guarantee provenance and origin etc on the",
    "start": "768730",
    "end": "774459"
  },
  {
    "text": "configuration repository if you have a good process for enforcing your constraints that's got some very good",
    "start": "774459",
    "end": "780370"
  },
  {
    "text": "security guarantees and then the actual state is very well version and you can all date what happened who did it and",
    "start": "780370",
    "end": "786490"
  },
  {
    "text": "when and why so I kind of like to think about this like functional reactive programming for",
    "start": "786490",
    "end": "793570"
  },
  {
    "start": "788000",
    "end": "807000"
  },
  {
    "text": "your infrastructure it's like react in that you have a state and then your view",
    "start": "793570",
    "end": "798670"
  },
  {
    "text": "is derived directly from the state automatically updates it's exactly like that before your application so if",
    "start": "798670",
    "end": "803869"
  },
  {
    "text": "you're a web developer the ideas should be somewhat familiar so what should be get ops and and I",
    "start": "803869",
    "end": "810860"
  },
  {
    "text": "apologize in advance for get ups that's a terrible term offence against English grammar but what",
    "start": "810860",
    "end": "818269"
  },
  {
    "text": "should actually be put under the term get up write a lot of things so you're",
    "start": "818269",
    "end": "823699"
  },
  {
    "text": "Cuban Nettie's manifests that's the basic no-brainer right we all know the Cuban eTI's manifesto you know a",
    "start": "823699",
    "end": "828889"
  },
  {
    "text": "declaration of your state that's great the application configuration is configure humanities manifest is perfect",
    "start": "828889",
    "end": "835790"
  },
  {
    "text": "you're provisioning scripts you're terraform state for your kind of cluster and you're provisioning that's also kind",
    "start": "835790",
    "end": "843050"
  },
  {
    "text": "of standard stuff to put in there beyond that though we want to have the entire system defined and that includes",
    "start": "843050",
    "end": "850279"
  },
  {
    "text": "things like dashboards you know your dashboard dashboard should be version they should be in get you should have access control to your dashboard that's",
    "start": "850279",
    "end": "856189"
  },
  {
    "text": "properly setup you should have a pipeline to continuous deployment pipeline for your dashboards same for",
    "start": "856189",
    "end": "861439"
  },
  {
    "text": "your alerts you know your all your alert definition if your alerts live in some third-party soft tool somewhere that you",
    "start": "861439",
    "end": "868519"
  },
  {
    "text": "don't can you you know you can only drive them through the UI what happens when something goes down what happens when something goes wrong how do you",
    "start": "868519",
    "end": "874129"
  },
  {
    "text": "recreate that right so your alerts deserve to live and be first-class citizens same with your playbooks or run",
    "start": "874129",
    "end": "880819"
  },
  {
    "text": "books your playbooks and run books are the things that you use when you're on call you get an alert something's gone",
    "start": "880819",
    "end": "886730"
  },
  {
    "text": "wrong the play books are the source of information for the on call engineer so",
    "start": "886730",
    "end": "892009"
  },
  {
    "text": "you're walking up at 3:00 in the morning the alert says service X Y Zed has gone down your first kind of instinct is",
    "start": "892009",
    "end": "898009"
  },
  {
    "text": "going to your playbooks look up what is service time X Y Zed what are the common failure modes how do I fix it if it goes",
    "start": "898009",
    "end": "904429"
  },
  {
    "text": "wrong and then you kind of go further right your application checklists",
    "start": "904429",
    "end": "910869"
  },
  {
    "text": "in four we've works for example internally we encode best practices for",
    "start": "910869",
    "end": "916220"
  },
  {
    "text": "our application in a small Yama file and we have a CI step that enforces that",
    "start": "916220",
    "end": "922579"
  },
  {
    "text": "those things actually are true for our services so when you release the new services it has to have dashboards he",
    "start": "922579",
    "end": "928639"
  },
  {
    "text": "has to have alerts it has to have document it has to have documentation so we're enforcing those kind of fairly",
    "start": "928639",
    "end": "934279"
  },
  {
    "text": "high level process ideas automatically by putting them in gear and saying yes this service has all those attributes",
    "start": "934279",
    "end": "941209"
  },
  {
    "text": "and if it doesn't we have an explicit exemption with a note from the person",
    "start": "941209",
    "end": "946880"
  },
  {
    "text": "who made the exemption recording rule things to do with premiere prometheus and monitoring",
    "start": "946880",
    "end": "952839"
  },
  {
    "text": "yeah so not the application checklist that's",
    "start": "952839",
    "end": "959060"
  },
  {
    "text": "kind of deep in the internals of our code yeah so the recording rules are kind of the",
    "start": "959060",
    "end": "964579"
  },
  {
    "text": "Prometheus rules that you're going to be using to define alerts metrics etc and then you're sealed secrets so if you",
    "start": "964579",
    "end": "970759"
  },
  {
    "text": "look a bit Namie sealed secret that's the way of doing secrets management using the guitars approach so everything right your entire system",
    "start": "970759",
    "end": "977810"
  },
  {
    "start": "975000",
    "end": "997000"
  },
  {
    "text": "should be you should be able to have a complete view of your entire system be able to reproduce the entire thing in a",
    "start": "977810",
    "end": "984560"
  },
  {
    "text": "new environment with a few clicks right if you if you have probably creating your entire system including the alerts",
    "start": "984560",
    "end": "989930"
  },
  {
    "text": "including all the process steps you're in trouble right you now have a system that you no longer in control of there's",
    "start": "989930",
    "end": "995540"
  },
  {
    "text": "something goes wrong you're out of luck so this is I'm just gonna give you an idea of kind of where we apply this this is",
    "start": "995540",
    "end": "1002829"
  },
  {
    "start": "997000",
    "end": "1045000"
  },
  {
    "text": "an alert definition in get in this case we are we're using a terraform provider",
    "start": "1002829",
    "end": "1009610"
  },
  {
    "text": "for git github to ensure that the defined state of our guitar before",
    "start": "1009610",
    "end": "1014920"
  },
  {
    "text": "ization kind of the roles in github matches the actual state of github at any time so if something doesn't have",
    "start": "1014920",
    "end": "1022240"
  },
  {
    "text": "doesn't look this is for example a definition of get a membership for me it's username briefs role admin so this",
    "start": "1022240",
    "end": "1029918"
  },
  {
    "text": "is like declaration in the terraform format of my role within github i've because we've kind of kept pushing that",
    "start": "1029919",
    "end": "1037178"
  },
  {
    "text": "approach now i can have all the power i used to have as an admin but as a normal user so who actually does this is out",
    "start": "1037179",
    "end": "1042610"
  },
  {
    "text": "today i should now be just a regular member but the point is if something happens if that diverges we automatically get an",
    "start": "1042610",
    "end": "1049690"
  },
  {
    "start": "1045000",
    "end": "1069000"
  },
  {
    "text": "alert right if the rules don't match our expectations we get an alert so we've configured it to give us an",
    "start": "1049690",
    "end": "1056500"
  },
  {
    "text": "alert you could easily configure it the same the same tools to change the roles back you know so if somebody gives",
    "start": "1056500",
    "end": "1062679"
  },
  {
    "text": "permissions without kind of accidentally unwillingly or maliciously the immediately change it back",
    "start": "1062679",
    "end": "1069910"
  },
  {
    "start": "1069000",
    "end": "1165000"
  },
  {
    "text": "so that kind of should give you an idea of kind of what get-ups is about right and some of the",
    "start": "1069910",
    "end": "1076400"
  },
  {
    "text": "principles that make it work and you can you should be able to see that you can embody this anywhere you want right this is not just a particular to list a set",
    "start": "1076400",
    "end": "1083450"
  },
  {
    "text": "of approaches and in fact you'll probably use multiple tools to make that work",
    "start": "1083450",
    "end": "1088809"
  },
  {
    "text": "so a lot of the ansible playbooks will have just the imperative code in them",
    "start": "1096250",
    "end": "1101770"
  },
  {
    "text": "and that's where you end up with state that's just you're not sure what state",
    "start": "1101770",
    "end": "1106850"
  },
  {
    "text": "your system isn't that's the big difference right that's the massive difference because in practice things do",
    "start": "1106850",
    "end": "1112910"
  },
  {
    "text": "go wrong all the time and and simple when an ensign will playbook fails to",
    "start": "1112910",
    "end": "1118010"
  },
  {
    "text": "perform its task you're stuck somewhere in the middle and you're not quite sure on the state of your system is it if you",
    "start": "1118010",
    "end": "1123500"
  },
  {
    "text": "actually do manipulate the state instead of the instructions you have better properties around kind of retrying",
    "start": "1123500",
    "end": "1130370"
  },
  {
    "text": "things knowing that you can retry successfully etc and Cuba Nettie's lends itself very well to that approach right",
    "start": "1130370",
    "end": "1136760"
  },
  {
    "text": "because that's what it does and I agree like some systems won't have",
    "start": "1136760",
    "end": "1143710"
  },
  {
    "text": "won't already have the abilities to work like this so it's often a case that you kind of have to put a layer on top in",
    "start": "1143710",
    "end": "1151400"
  },
  {
    "text": "order to make your work github is one example I get up does not have a that's you you're putting a",
    "start": "1151400",
    "end": "1157640"
  },
  {
    "text": "declarative interface on top I mean it has a REST API so essentially what you're doing is you're kind of layering there it on top of the REST API",
    "start": "1157640",
    "end": "1165820"
  },
  {
    "start": "1165000",
    "end": "1205000"
  },
  {
    "text": "okay so now let's kind of try this now we've kind of gone at the high level",
    "start": "1166030",
    "end": "1171200"
  },
  {
    "text": "let's kind of go down a level and actually try and implement this so there should be a repository at that URL all",
    "start": "1171200",
    "end": "1179299"
  },
  {
    "text": "the instructions should be on the repository what I'm going to do is I'm going to slowly go through it myself",
    "start": "1179299",
    "end": "1184660"
  },
  {
    "text": "give you an idea of kind of how to do things if you want to go and kind of",
    "start": "1184660",
    "end": "1189970"
  },
  {
    "text": "go ahead and keep going and kind of I can catch up with you a little bit later just be mindful that if you ask",
    "start": "1189970",
    "end": "1196160"
  },
  {
    "text": "questions I might not be able to it might not be useful to answer them until everybody's caught up with you",
    "start": "1196160",
    "end": "1203020"
  },
  {
    "text": "so for the interactive environment that",
    "start": "1203259",
    "end": "1209090"
  },
  {
    "start": "1205000",
    "end": "1244000"
  },
  {
    "text": "you're going to be using I highly recommend you try quatre Koda I'm not sure how it's going to deal with that",
    "start": "1209090",
    "end": "1214730"
  },
  {
    "text": "many people in the room at the same time so we'll see if you don't want to try it out if you have a way of provisioning",
    "start": "1214730",
    "end": "1220700"
  },
  {
    "text": "your cluster yourself then please do use it if you have mini cubans still that's perfect that will work with mini cube so",
    "start": "1220700",
    "end": "1226190"
  },
  {
    "text": "anything like that so otherwise if you want to use category you catechu the CK ata it's all linked",
    "start": "1226190",
    "end": "1234320"
  },
  {
    "text": "in the repository scroll down and grab the playgrounds and",
    "start": "1234320",
    "end": "1239570"
  },
  {
    "text": "click Cuba Nettie's playground explore playground",
    "start": "1239570",
    "end": "1244450"
  },
  {
    "start": "1244000",
    "end": "1269000"
  },
  {
    "text": "and you'll be given a playground most of the instructions so if I click start",
    "start": "1244629",
    "end": "1250730"
  },
  {
    "text": "scenario",
    "start": "1250730",
    "end": "1253299"
  },
  {
    "text": "so most of the instructions you want to send for the master node",
    "start": "1258309",
    "end": "1263649"
  },
  {
    "text": "in here I'm not actually going to use get a good",
    "start": "1269830",
    "end": "1274880"
  },
  {
    "text": "at myself just in case something happens and you overload this is the service I've actually got a cluster provisioned",
    "start": "1274880",
    "end": "1280820"
  },
  {
    "text": "on Google Cloud and that's the one I'll be using but you can use category instead",
    "start": "1280820",
    "end": "1287019"
  },
  {
    "text": "so I'll just connect to my cluster",
    "start": "1288789",
    "end": "1292809"
  },
  {
    "text": "and while that's happening you should make sure that you have the pre-quiz prerequisites for this workshop you have",
    "start": "1297039",
    "end": "1302390"
  },
  {
    "text": "access to a cluster and you have the ability to create repositories on either bitbucket or github if you can't then you're going to",
    "start": "1302390",
    "end": "1309260"
  },
  {
    "text": "struggle because what we need is we need to create a remote repository to have the control of the state on your cluster so you'll need to be able to create that",
    "start": "1309260",
    "end": "1315830"
  },
  {
    "text": "yourself",
    "start": "1315830",
    "end": "1318190"
  },
  {
    "text": "right so cube cut' allow for me be running against my cluster",
    "start": "1334860",
    "end": "1341730"
  },
  {
    "text": "cool can everybody see this font size at the back",
    "start": "1353330",
    "end": "1358399"
  },
  {
    "text": "yeah",
    "start": "1358399",
    "end": "1361399"
  },
  {
    "start": "1372000",
    "end": "1468000"
  },
  {
    "text": "so now once we've got to cuba Nettie's cluster and we've got to get hub or bitbucket account the next thing you",
    "start": "1373099",
    "end": "1379499"
  },
  {
    "text": "want to do is clone the repository so you'll need to clone get-ups tutorial the repository you'll be you've been",
    "start": "1379499",
    "end": "1385169"
  },
  {
    "text": "linked to clone it in your own either bitbucket or github account and then you'll be using that as your remote",
    "start": "1385169",
    "end": "1391470"
  },
  {
    "text": "repository so all the instructions when i say you know your URL of your remote repository that'll be your repository",
    "start": "1391470",
    "end": "1398009"
  },
  {
    "text": "rather than in mine I'll be working with this one I'll be using a this particular repository I",
    "start": "1398009",
    "end": "1404249"
  },
  {
    "text": "might use a different branch",
    "start": "1404249",
    "end": "1407149"
  },
  {
    "text": "so instead of cloning this one directly you'll need to then clone your fork",
    "start": "1412820",
    "end": "1418879"
  },
  {
    "start": "1468000",
    "end": "1681000"
  },
  {
    "text": "so once once you're there and you've got cute little working the next thing to do is we have some",
    "start": "1469110",
    "end": "1476550"
  },
  {
    "text": "files in here that install the the operator that's going to be running the",
    "start": "1476550",
    "end": "1482040"
  },
  {
    "text": "show essentially for us so we have an operator on the cluster and that operator is going to be responsible for watching the control repository and as",
    "start": "1482040",
    "end": "1489600"
  },
  {
    "text": "soon as there's a change in the control repository the operator is going to apply to the cluster",
    "start": "1489600",
    "end": "1494900"
  },
  {
    "text": "so now that's what we want to deploy and in here there should be a flux repository",
    "start": "1494900",
    "end": "1502370"
  },
  {
    "text": "and favor look at what's inside there's a",
    "start": "1504560",
    "end": "1510930"
  },
  {
    "text": "set of accounts for permissions so you'll need some permissions in",
    "start": "1510930",
    "end": "1516680"
  },
  {
    "text": "for flux to operate because it's going to be talking to the cluster ape to the cluster itself modifying the cluster as",
    "start": "1516680",
    "end": "1523140"
  },
  {
    "text": "a pod so you need some permissions a specific account so that's in the flux",
    "start": "1523140",
    "end": "1528240"
  },
  {
    "text": "account flux deployment is just the deployment of pods the secret is just defining the internal secrets that",
    "start": "1528240",
    "end": "1534510"
  },
  {
    "text": "you're going to be using for flux so you'll define a cuban NT secret and then we've got a memcache service that flux",
    "start": "1534510",
    "end": "1540870"
  },
  {
    "text": "is going to be using just for internal efficiency essentially so what you want is to deploy everything",
    "start": "1540870",
    "end": "1547520"
  },
  {
    "text": "you've got a little apply file and then give it a directory",
    "start": "1547520",
    "end": "1554100"
  },
  {
    "text": "and we should see a bunch of stuff come up here",
    "start": "1554100",
    "end": "1558650"
  },
  {
    "text": "I",
    "start": "1562870",
    "end": "1564900"
  },
  {
    "text": "may I may have some trouble on Google cloud actually with some permissions",
    "start": "1571020",
    "end": "1578040"
  },
  {
    "text": "so we're just installing the agent and hopefully it should just work",
    "start": "1653640",
    "end": "1658790"
  },
  {
    "text": "and we should see they've been installed in the default namespace flux and memcached",
    "start": "1680950",
    "end": "1687820"
  },
  {
    "text": "you can watch the progress so watch cubed it'll get pods",
    "start": "1689140",
    "end": "1694390"
  },
  {
    "text": "and it'll eventually get created",
    "start": "1694390",
    "end": "1699880"
  },
  {
    "text": "so what what happens next now we've got this agent running in a cluster we need to do a few things",
    "start": "1705749",
    "end": "1710970"
  },
  {
    "text": "so we now should have a repository control repository and an agent running in the cluster so the next step should",
    "start": "1710970",
    "end": "1717609"
  },
  {
    "text": "be to make sure that the agent has access to the repository so it can read and write to it and we're going to do",
    "start": "1717609",
    "end": "1723220"
  },
  {
    "text": "that by getting the agent keys and then putting it adding it to our repository",
    "start": "1723220",
    "end": "1728970"
  },
  {
    "text": "to make sure we have access and pointing then reconfiguring the agent to point to",
    "start": "1728970",
    "end": "1734139"
  },
  {
    "text": "the right repository",
    "start": "1734139",
    "end": "1736859"
  },
  {
    "text": "it will take a little bit of time all of these operations may take up to five minutes",
    "start": "1743879",
    "end": "1750629"
  },
  {
    "text": "so just take your time",
    "start": "1750629",
    "end": "1755279"
  },
  {
    "text": "yeah sure so right now after this this step is complete so we should have a github repository set up or bitbucket",
    "start": "1763380",
    "end": "1770130"
  },
  {
    "text": "repository and then we should have an agent running on the cluster this one so",
    "start": "1770130",
    "end": "1775740"
  },
  {
    "text": "the flux agent however the operator the flux operator on the cluster doesn't know about the repository yet and it",
    "start": "1775740",
    "end": "1782010"
  },
  {
    "text": "doesn't have access to the repository yet so what we're going to do is we're going to give the flux operator access to the repository by sharing its keys",
    "start": "1782010",
    "end": "1788490"
  },
  {
    "text": "and we're going to configure it today it's already reading the repository as well",
    "start": "1788490",
    "end": "1795590"
  },
  {
    "text": "right it's still creating it will eventually get there just bear with it",
    "start": "1802700",
    "end": "1809750"
  },
  {
    "text": "no there's no Jenkins involved here so let me move to so there's no Jenkins",
    "start": "1812450",
    "end": "1819270"
  },
  {
    "start": "1817000",
    "end": "1989000"
  },
  {
    "text": "involved here we're going to be using a pre-built set of images just because I",
    "start": "1819270",
    "end": "1824429"
  },
  {
    "text": "didn't want to have to configure a continuous integration pipeline but we'll see that you can do continuous",
    "start": "1824429",
    "end": "1830400"
  },
  {
    "text": "integration etc as really as far as you're concerned for this kind of setup",
    "start": "1830400",
    "end": "1835850"
  },
  {
    "text": "your operator only cares about the control repository and the image",
    "start": "1835850",
    "end": "1841289"
  },
  {
    "text": "registries so how you build and put an image in the image registry it doesn't",
    "start": "1841289",
    "end": "1846419"
  },
  {
    "text": "matter right it's it's as far as the operator is concerned it doesn't matter",
    "start": "1846419",
    "end": "1851000"
  },
  {
    "text": "yeah absolutely yes so the question was is this what we use in production yeah we use this for our own system",
    "start": "1859550",
    "end": "1865620"
  },
  {
    "text": "absolutely we've been using it since it was built we built it to start helping",
    "start": "1865620",
    "end": "1870840"
  },
  {
    "text": "with our own system",
    "start": "1870840",
    "end": "1873529"
  },
  {
    "text": "so the question was does this kind of work for work for development as well as",
    "start": "1887900",
    "end": "1893370"
  },
  {
    "text": "production is that so yeah I mean it works great for development as well because you're we mean our own",
    "start": "1893370",
    "end": "1900510"
  },
  {
    "text": "development cluster is run through this this is the approach we take what happens is we continuously deploy",
    "start": "1900510",
    "end": "1905820"
  },
  {
    "text": "mostly for our staging cluster divet or development staging cluster we've worked with people who've used this kind of",
    "start": "1905820",
    "end": "1911790"
  },
  {
    "text": "approach with some additional automation so that they can create let's say everytime you have a pull request they",
    "start": "1911790",
    "end": "1917880"
  },
  {
    "text": "create a new namespace and they put all the code in there so they can be tested etc so yeah it works pretty well for",
    "start": "1917880",
    "end": "1923280"
  },
  {
    "text": "development",
    "start": "1923280",
    "end": "1925670"
  },
  {
    "text": "all right so um if you're talking about like the local development then no so",
    "start": "1929600",
    "end": "1934680"
  },
  {
    "text": "like the internal loop when you're as a developer you're developing an application you're probably gonna be",
    "start": "1934680",
    "end": "1939900"
  },
  {
    "text": "running Dessel on mini cube in your in your own on your own machine what",
    "start": "1939900",
    "end": "1945000"
  },
  {
    "text": "happens there were why this is helpful there is that you it's really easy to spin up a complete set of kind of",
    "start": "1945000",
    "end": "1950640"
  },
  {
    "text": "equivalent production set to a complete cluster that's equivalent to your production systems really easily that's",
    "start": "1950640",
    "end": "1957600"
  },
  {
    "text": "the benefit that you get because of this but you don't you wouldn't use it to drive your local instance if you can",
    "start": "1957600",
    "end": "1963720"
  },
  {
    "text": "kind of just poke it yourself so it's much much more useful when you've got like a shared you know this is like the",
    "start": "1963720",
    "end": "1969690"
  },
  {
    "text": "point is here we're controlling shared stake right if you're dealing with a state that's owned by a single person",
    "start": "1969690",
    "end": "1976290"
  },
  {
    "text": "gonna essentially",
    "start": "1976290",
    "end": "1979940"
  },
  {
    "start": "1989000",
    "end": "2117000"
  },
  {
    "text": "as anybody managed to get their pods running okay a few I think I'll wait a little",
    "start": "1989270",
    "end": "1997010"
  },
  {
    "text": "bit more people to catch up no no so we have a different continuous",
    "start": "1997010",
    "end": "2004480"
  },
  {
    "text": "integration build pipeline what we don't also Jenkins will do both right it'll do",
    "start": "2004480",
    "end": "2009730"
  },
  {
    "text": "the building and the deployment basically we we use some tool to do our",
    "start": "2009730",
    "end": "2014920"
  },
  {
    "text": "build and then we use this for our deployment yeah so you could use Jenkins and this you just restrict the",
    "start": "2014920",
    "end": "2021700"
  },
  {
    "text": "responsibilities for Jenkins to just building",
    "start": "2021700",
    "end": "2025710"
  },
  {
    "text": "so the the reason we have a repository is because we don't just want to push every new image so you need two things",
    "start": "2032250",
    "end": "2039100"
  },
  {
    "text": "where you need a way of telling it what should be deployed kind of declaring these are the things that should be on",
    "start": "2039100",
    "end": "2044110"
  },
  {
    "text": "my cluster beyond kind of just the images in the repository so it's easier to control",
    "start": "2044110",
    "end": "2050200"
  },
  {
    "text": "things from a control repository that has all the definitions than it is to just point the agent at a whole bunch of",
    "start": "2050200",
    "end": "2056110"
  },
  {
    "text": "different registries I guess I probably wouldn't use the word",
    "start": "2056110",
    "end": "2063370"
  },
  {
    "text": "step but kind of so we have the kind of the first thing that happens is you have our continuous integration pipeline",
    "start": "2063370",
    "end": "2068679"
  },
  {
    "text": "builds the image tags it puts it in the registry and then the operator the operator picks up kind of notices that",
    "start": "2068679",
    "end": "2075158"
  },
  {
    "text": "there's a change in the registry or new image it will look at whether or not it has that particular services automated",
    "start": "2075159",
    "end": "2081970"
  },
  {
    "text": "if it is automated it will kind of change the state in git so the operator will make a git commit and then it will",
    "start": "2081970",
    "end": "2088240"
  },
  {
    "text": "react to the change in gate and then apply to the cluster",
    "start": "2088240",
    "end": "2092849"
  },
  {
    "text": "no so in that case I'm referring to like the flux operator running in the cluster",
    "start": "2097059",
    "end": "2103329"
  },
  {
    "text": "right so we have our clear this up",
    "start": "2106329",
    "end": "2112690"
  },
  {
    "text": "so we have our pods running on the cluster which is great so the next step",
    "start": "2116920",
    "end": "2122000"
  },
  {
    "start": "2117000",
    "end": "2154000"
  },
  {
    "text": "is to get the key the secret identity the public key for our pods to do that",
    "start": "2122000",
    "end": "2127700"
  },
  {
    "text": "well download a little utility tool you can do it other ways you can in fact configure the identity using the tool is",
    "start": "2127700",
    "end": "2134869"
  },
  {
    "text": "just easy for this tutorial in a production setup you probably want to manage the keys more deliberately",
    "start": "2134869",
    "end": "2141910"
  },
  {
    "text": "so this tool should be this link should be in the in the readme",
    "start": "2145869",
    "end": "2153190"
  },
  {
    "text": "you can just grab that once we've got the binary we'll just make it executable",
    "start": "2153190",
    "end": "2158950"
  },
  {
    "start": "2154000",
    "end": "2421000"
  },
  {
    "text": "if you want to build it yourself for whatever platform you can do you don't need to use it you can either set",
    "start": "2158950",
    "end": "2165440"
  },
  {
    "text": "configure the git key in advance",
    "start": "2165440",
    "end": "2168700"
  },
  {
    "text": "this was pretty fast when I tested it earlier today but I think there's more one more more of us trying it today",
    "start": "2172329",
    "end": "2178400"
  },
  {
    "text": "right now so",
    "start": "2178400",
    "end": "2181270"
  },
  {
    "text": "sorry yeah flux we built with flux we've built",
    "start": "2193450",
    "end": "2199370"
  },
  {
    "text": "flux because we needed it internally and then we open sourced it and build some of our products on top of it",
    "start": "2199370",
    "end": "2205300"
  },
  {
    "text": "you can basically choose how you handle that so in some cases will automate the",
    "start": "2220120",
    "end": "2225830"
  },
  {
    "text": "revert so if something goes wrong we'll just automate the kind of going back to the appropriate State otherwise",
    "start": "2225830",
    "end": "2230960"
  },
  {
    "text": "sometimes it's difficult to take on automated Oh kind of automated action in which case we'll create an alert for our",
    "start": "2230960",
    "end": "2237140"
  },
  {
    "text": "ops team so we have a kind of a rotating Road opera-like on-call engineer who's",
    "start": "2237140",
    "end": "2243650"
  },
  {
    "text": "responsible for the system he's kind of a target for those alerts as soon as something that can't be remediated",
    "start": "2243650",
    "end": "2249860"
  },
  {
    "text": "automatically he'll get notified or she'll get notified and then they can do something about it",
    "start": "2249860",
    "end": "2256660"
  },
  {
    "text": "sorry no I think so I've found that Gifford is",
    "start": "2265329",
    "end": "2272079"
  },
  {
    "text": "a great approach but not necessarily for releasing software to the cloud I think it's a great approach for a version",
    "start": "2272079",
    "end": "2277450"
  },
  {
    "text": "software for us we find that gift flow isn't necessarily a useful kind of workflow",
    "start": "2277450",
    "end": "2283349"
  },
  {
    "text": "is that does that answer so yes so the kind of how do we like how",
    "start": "2283349",
    "end": "2290049"
  },
  {
    "text": "do we manage kind of versions is what you're asking really so yeah absolutely we use tag so we use semantic versioning",
    "start": "2290049",
    "end": "2295359"
  },
  {
    "text": "and what we tend to do is we have a great way of doing it is you have not",
    "start": "2295359",
    "end": "2301719"
  },
  {
    "text": "math so you have every new commit on the particular service tagged",
    "start": "2301719",
    "end": "2307420"
  },
  {
    "text": "with the branch and the short shell of the kind of the commit for the image",
    "start": "2307420",
    "end": "2313390"
  },
  {
    "text": "that's being built out of it so every kind of commit corresponds to an image and then when you want to make a release to production instead of just staging",
    "start": "2313390",
    "end": "2319569"
  },
  {
    "text": "you'll add a tag in git which is a version semantic version so you'll do V",
    "start": "2319569",
    "end": "2324789"
  },
  {
    "text": "0 1 1 and then 1 that tag hits the repository on the registry you can",
    "start": "2324789",
    "end": "2330130"
  },
  {
    "text": "automate so that only those tags get pushed to a particular environment that's how kind of we that's how we",
    "start": "2330130",
    "end": "2336430"
  },
  {
    "text": "break it down into our flow of commits",
    "start": "2336430",
    "end": "2341430"
  },
  {
    "text": "right excellent so we now have this utility you can make it executable",
    "start": "2356550",
    "end": "2363740"
  },
  {
    "text": "and then we can use it to grab the identity the",
    "start": "2366290",
    "end": "2371780"
  },
  {
    "text": "the key",
    "start": "2371780",
    "end": "2374960"
  },
  {
    "text": "so this will give us a public key that we can copy and paste into get",
    "start": "2377510",
    "end": "2383180"
  },
  {
    "text": "so I'll copy this I'll jump into my repository I'll jump to my settings",
    "start": "2384830",
    "end": "2392270"
  },
  {
    "text": "add a deploy key I've already added it from earlier I",
    "start": "2397730",
    "end": "2403400"
  },
  {
    "text": "deploy key",
    "start": "2407180",
    "end": "2410450"
  },
  {
    "text": "make sure it has right access and add the key",
    "start": "2413060",
    "end": "2418670"
  },
  {
    "text": "so now we've kind of completed the first step the first step was to get the agent to be authorized to manipulate and read",
    "start": "2420890",
    "end": "2427560"
  },
  {
    "start": "2421000",
    "end": "2452000"
  },
  {
    "text": "the repository the next step is to point the agent to the repository",
    "start": "2427560",
    "end": "2433280"
  },
  {
    "text": "so a hint in the flux in the flux folder",
    "start": "2436970",
    "end": "2445580"
  },
  {
    "text": "we should have a flux deployment",
    "start": "2447320",
    "end": "2451490"
  },
  {
    "start": "2452000",
    "end": "2549000"
  },
  {
    "text": "so we're going to want to edit that file in that file there's a bunch of things",
    "start": "2452660",
    "end": "2459050"
  },
  {
    "text": "but more relevantly there's some arguments at the bottom of the file",
    "start": "2459050",
    "end": "2465020"
  },
  {
    "text": "so you want to find those arguments",
    "start": "2465020",
    "end": "2469100"
  },
  {
    "text": "here so you've got to get URL so you'll want to change the get URL to point to your",
    "start": "2474700",
    "end": "2481250"
  },
  {
    "text": "remote repository",
    "start": "2481250",
    "end": "2484240"
  },
  {
    "text": "you'd have to forgive me there's a little bit of a lag when I'm typing so it's not the cleanest",
    "start": "2493630",
    "end": "2500440"
  },
  {
    "text": "you can select your branch here as well and we're going to add yet another argument and the new argument is going",
    "start": "2513160",
    "end": "2519460"
  },
  {
    "text": "to be which folder so the path we're going to be looking at",
    "start": "2519460",
    "end": "2524640"
  },
  {
    "text": "so let's get path and for us that's going to be deployed cuban entities",
    "start": "2524640",
    "end": "2531720"
  },
  {
    "text": "so once i'm done i can save and exit",
    "start": "2536640",
    "end": "2541500"
  },
  {
    "start": "2549000",
    "end": "2959000"
  },
  {
    "text": "I should be able to see the change I've made change to point to my repository added",
    "start": "2549010",
    "end": "2556300"
  },
  {
    "text": "the deploy kubernetes and we can see what's inside of deployed humanity's right now so this is the",
    "start": "2556300",
    "end": "2563550"
  },
  {
    "text": "this is the there's nothing there right there's there's no changes to that file whatsoever",
    "start": "2563550",
    "end": "2570059"
  },
  {
    "text": "so we'll need to apply that to our cluster",
    "start": "2572040",
    "end": "2578790"
  },
  {
    "text": "and we should see reconfigured right we've reconfigured our cluster so the next step now is to grab that",
    "start": "2586230",
    "end": "2595110"
  },
  {
    "text": "once now the operator is now looking at the repository we can start adding",
    "start": "2595110",
    "end": "2601630"
  },
  {
    "text": "something to the repository and the operator should pick it up and act on it so we have here in the examples folder",
    "start": "2601630",
    "end": "2609490"
  },
  {
    "text": "we have a deployment manifest",
    "start": "2609490",
    "end": "2613770"
  },
  {
    "text": "that has a kind of an example deployment it's not very interesting",
    "start": "2616830",
    "end": "2623080"
  },
  {
    "text": "it's just a a small image that's kind of built in with the good practice it has things like health checks and readiness",
    "start": "2623080",
    "end": "2630550"
  },
  {
    "text": "checks etc so while you want it you'll want to do",
    "start": "2630550",
    "end": "2636760"
  },
  {
    "text": "is copy this image in the repository that the flux agent is",
    "start": "2636760",
    "end": "2644380"
  },
  {
    "text": "looking at and that's going to be deployed Kuban at",
    "start": "2644380",
    "end": "2650710"
  },
  {
    "text": "ease",
    "start": "2650710",
    "end": "2652859"
  },
  {
    "text": "and now you want to make a commit so you'll do get add deploy",
    "start": "2657550",
    "end": "2665170"
  },
  {
    "text": "so you might have to configure this",
    "start": "2686300",
    "end": "2690490"
  },
  {
    "text": "and then you want to push that back to your tea repository",
    "start": "2712250",
    "end": "2718900"
  },
  {
    "text": "so it's configurable in for this tip for this for this tutorial I put it in the default namespace",
    "start": "2723730",
    "end": "2729970"
  },
  {
    "text": "just so it's easier to see I don't have to add a namespace to every one of my commands but otherwise typically you'd",
    "start": "2729970",
    "end": "2735980"
  },
  {
    "text": "probably put it in a separate namespace",
    "start": "2735980",
    "end": "2739420"
  },
  {
    "text": "so no typically what you have is you'll have a single one running over on a cluster and then what you can do is",
    "start": "2749140",
    "end": "2756230"
  },
  {
    "text": "deploy to multiple namespace based on the same repository if you want to display it up into the second a separate repository you could have multiple ones",
    "start": "2756230",
    "end": "2763580"
  },
  {
    "text": "kind of it's kind of up to you but it's not a typical it's not a typical deployment",
    "start": "2763580",
    "end": "2770260"
  },
  {
    "text": "so how would the config meets change by differ for different namespaces I mean the the config actually so although",
    "start": "2773920",
    "end": "2781310"
  },
  {
    "text": "community manifest is going to have the namespace in there essentially so if they have a namespace specified in the",
    "start": "2781310",
    "end": "2786589"
  },
  {
    "text": "manifest when they get deployed by flux they'll be deployed in the right namespace so if you wanted to kind of",
    "start": "2786589",
    "end": "2792710"
  },
  {
    "text": "segregate things what you'd have is you'd have a repository for a particular namespace and then you have one flux",
    "start": "2792710",
    "end": "2797839"
  },
  {
    "text": "agent normally looking at that repository for example",
    "start": "2797839",
    "end": "2802180"
  },
  {
    "text": "so it's so the question was it are there is there any support for detecting differences and removing things that",
    "start": "2819510",
    "end": "2825630"
  },
  {
    "text": "have been deleted the first one is I mean it'll do the kind of it will continuously check that the two that the",
    "start": "2825630",
    "end": "2831299"
  },
  {
    "text": "running cluster and the repository are matching in term of the manifests so that's number one number two",
    "start": "2831299",
    "end": "2838970"
  },
  {
    "text": "therefore this first problem as well there's a bunch of tools that we wrote called say cubed if tarot deck and",
    "start": "2838970",
    "end": "2846180"
  },
  {
    "text": "ansible diff that will come that will proactively check differences in kind of",
    "start": "2846180",
    "end": "2851190"
  },
  {
    "text": "desired state versus actual state so you can find those those are just open source tools and as far as deleting",
    "start": "2851190",
    "end": "2857609"
  },
  {
    "text": "things when we remove the files we couldn't do that so I personally would quite like to configure a cluster like",
    "start": "2857609",
    "end": "2862980"
  },
  {
    "text": "this but it's not possible because what would happen is you'd add flux to an existing cluster and it would immediately delete everything so we",
    "start": "2862980",
    "end": "2870180"
  },
  {
    "text": "can't do that so instead what we do is you'd have to you'd first have to delete the manifest from the repository and then you're going to leave them the",
    "start": "2870180",
    "end": "2876779"
  },
  {
    "text": "actual resource in cuba Nettie's and that's just kind of to be able to support legacy clusters we have to do it",
    "start": "2876779",
    "end": "2883740"
  },
  {
    "text": "this way",
    "start": "2883740",
    "end": "2886009"
  },
  {
    "text": "right so we've created a commit you'll need to push that commit to your",
    "start": "2888980",
    "end": "2894240"
  },
  {
    "text": "repository I'm gonna jump back into my terminal to do that instead of doing it in the console",
    "start": "2894240",
    "end": "2901579"
  },
  {
    "text": "so now we've pushed it to our repository we should expect flux to take up that change and we can verify this by putting",
    "start": "2936900",
    "end": "2943829"
  },
  {
    "text": "a watch on the deployments",
    "start": "2943829",
    "end": "2947630"
  },
  {
    "start": "2959000",
    "end": "3114000"
  },
  {
    "text": "so right now we have flux and memcached and in the next five minutes we were expecting a new deployment to come in",
    "start": "2960230",
    "end": "2965720"
  },
  {
    "text": "which is going to be our pod in full deployment",
    "start": "2965720",
    "end": "2969460"
  },
  {
    "text": "so it's a good question so the question was after setting this up have you ever",
    "start": "2982240",
    "end": "2987650"
  },
  {
    "text": "experienced something that went wrong what went wrong and how did you kind of fix it",
    "start": "2987650",
    "end": "2992960"
  },
  {
    "text": "the answer is it's been the other way around we found that this has helped us fix things that I've gone round elsewhere so we've never had a problem",
    "start": "2992960",
    "end": "2999410"
  },
  {
    "text": "with our flux deployment in production so we use this in production every day and we've never had any issues with that",
    "start": "2999410",
    "end": "3005349"
  },
  {
    "text": "what it has helped us do is when we had one of our engineers accidentally delete that our entire AWS",
    "start": "3005349",
    "end": "3012359"
  },
  {
    "text": "essentially account so we lost everything like and sure immediately we",
    "start": "3012359",
    "end": "3017589"
  },
  {
    "text": "lost all our services everything because we had everything stored in a git repository with the daemons it took us",
    "start": "3017589",
    "end": "3023859"
  },
  {
    "text": "about 40 minutes to half an hour to bring it back so we went from kind of nothing to everything running again in",
    "start": "3023859",
    "end": "3029470"
  },
  {
    "text": "about half an hour so it's the other way around this kind of it helps you with internet management's",
    "start": "3029470",
    "end": "3034560"
  },
  {
    "text": "but it's never caused a problem for us the demons or the process has never caused the problem",
    "start": "3034560",
    "end": "3041099"
  },
  {
    "text": "so the secrets so the question was are the secrets also inside get yes so we use SIL secrets which is a way of",
    "start": "3042900",
    "end": "3049750"
  },
  {
    "text": "encrypting secrets in get making them available as kind of encrypted blobs on the cluster and then having an operator",
    "start": "3049750",
    "end": "3056020"
  },
  {
    "text": "on the cluster that decrypt them for the particular workloads so if you just Google search bit Namie sealed secrets",
    "start": "3056020",
    "end": "3061810"
  },
  {
    "text": "you'll find the operator that does that by the bit Namie crowd which they're sponsoring the Wi-Fi thank for this",
    "start": "3061810",
    "end": "3067359"
  },
  {
    "text": "event",
    "start": "3067359",
    "end": "3069568"
  },
  {
    "text": "so the question was can you use volt and said yeah of course right absolutely there's no reason I mean this doesn't",
    "start": "3076119",
    "end": "3081500"
  },
  {
    "text": "this is not a restrictive approach the secret management if you have another approach to managing secrets that works",
    "start": "3081500",
    "end": "3086630"
  },
  {
    "text": "too absolutely this will take a while and the reason it's taking awhile is the polling",
    "start": "3086630",
    "end": "3092510"
  },
  {
    "text": "frequency is set at five minutes by default and the reason for that is we don't want to blow up your API limits",
    "start": "3092510",
    "end": "3099020"
  },
  {
    "text": "it's actually really easy to blow up API limits if you're making those requests 24/7",
    "start": "3099020",
    "end": "3104800"
  },
  {
    "text": "but it will eventually get there and you'll eventually see pot info come up in this listing",
    "start": "3104800",
    "end": "3111789"
  },
  {
    "text": "yep yeah absolutely there is a way to get to",
    "start": "3112030",
    "end": "3117290"
  },
  {
    "start": "3114000",
    "end": "3289000"
  },
  {
    "text": "see what it's doing right now so you should be able to grab the logs so let me show you how to do that",
    "start": "3117290",
    "end": "3125740"
  },
  {
    "text": "so I need the pod name to be able to get the logs",
    "start": "3132260",
    "end": "3136780"
  },
  {
    "text": "sorry there's a little bit unresponsive what was the second question",
    "start": "3141400",
    "end": "3148960"
  },
  {
    "text": "yes so the answer is absolutely there is you can set up a web hook from both the",
    "start": "3156280",
    "end": "3161470"
  },
  {
    "text": "repository and the image registry so that flux gets notified you have to do it if you there's a few",
    "start": "3161470",
    "end": "3168190"
  },
  {
    "text": "steps involved in the open-source version to get that working or you can kind of use weave cloud instead and",
    "start": "3168190",
    "end": "3173440"
  },
  {
    "text": "that's kind of one-click but yes so you can get web hooks back so you can get notified of events",
    "start": "3173440",
    "end": "3180480"
  },
  {
    "text": "sorry it's a little um it's just a little bit slow",
    "start": "3181530",
    "end": "3186030"
  },
  {
    "text": "any do's and don'ts around sign come it's not that I can think of no specific",
    "start": "3207750",
    "end": "3215770"
  },
  {
    "text": "advice around sign committees I think they quote yeah I've got no additional specific advice",
    "start": "3215770",
    "end": "3222510"
  },
  {
    "text": "sorry",
    "start": "3222510",
    "end": "3225510"
  },
  {
    "text": "it will it will so it will eventually show up it takes a while just just be patient with it it can take five minutes",
    "start": "3242489",
    "end": "3248410"
  },
  {
    "text": "or more to get there",
    "start": "3248410",
    "end": "3251818"
  },
  {
    "text": "I'm s that was the original question just here and I'm grabbing the name of",
    "start": "3256079",
    "end": "3261819"
  },
  {
    "text": "the flux actually you can see the pot into a pod coming up what I'm going to do now is show you how to get the log",
    "start": "3261819",
    "end": "3267670"
  },
  {
    "text": "for the flux pod and then that'll show you what's actually happening",
    "start": "3267670",
    "end": "3274200"
  },
  {
    "start": "3289000",
    "end": "3600000"
  },
  {
    "text": "so yeah so I think the in Google cloud you'll need to the create a Google cloud service account that will then give",
    "start": "3291230",
    "end": "3299600"
  },
  {
    "text": "permission to the communities account there's an account I tried it at the very start as well there's an account",
    "start": "3299600",
    "end": "3305869"
  },
  {
    "text": "issue where Google cloud doesn't let you give sufficient permissions to flux without going through the Google Cloud",
    "start": "3305869",
    "end": "3313490"
  },
  {
    "text": "console if you have a look at the if you have a look at the flux ap the",
    "start": "3313490",
    "end": "3320150"
  },
  {
    "text": "frost documentation on get github.com slash flux get a slash weevil we've worked slash flux you'll find some",
    "start": "3320150",
    "end": "3327290"
  },
  {
    "text": "information about how to configure gke and GCB",
    "start": "3327290",
    "end": "3332380"
  },
  {
    "text": "right so to us the operation about to know us is what's actually what the daemon is doing grab the logs the logs",
    "start": "3332380",
    "end": "3338300"
  },
  {
    "text": "are there you can see things like events and you can see it applying",
    "start": "3338300",
    "end": "3343990"
  },
  {
    "text": "new configuration so right now for example this was the event where the flux operator actually created the",
    "start": "3343990",
    "end": "3350720"
  },
  {
    "text": "pollen for deployment for example",
    "start": "3350720",
    "end": "3355119"
  },
  {
    "text": "yep",
    "start": "3362640",
    "end": "3365239"
  },
  {
    "text": "sorry I didn't quite get that",
    "start": "3370279",
    "end": "3373910"
  },
  {
    "text": "yes that's right so if you put a the question was if you put about a sh key if you gave a badass a key would it show",
    "start": "3376160",
    "end": "3382829"
  },
  {
    "text": "up in the logs as failing to authenticate to github the answer is yes that's exactly what you'd see if you had",
    "start": "3382829",
    "end": "3388349"
  },
  {
    "text": "an issue that's that those are the logs you might want to have a look at okay so now we've we've actually I mean",
    "start": "3388349",
    "end": "3395609"
  },
  {
    "text": "in our cluster we should be able to see",
    "start": "3395609",
    "end": "3400338"
  },
  {
    "text": "when my keystrokes actually get there so we should see the pod into a pod running on",
    "start": "3403700",
    "end": "3409710"
  },
  {
    "text": "the cluster so we've now the how we deployed it was actually just changing the github repository we didn't actually",
    "start": "3409710",
    "end": "3415230"
  },
  {
    "text": "do anything to a cluster we didn't use cube cuttle and that yet yet here it is a pod on our cluster running as we've",
    "start": "3415230",
    "end": "3422069"
  },
  {
    "text": "configured it that's ever so slightly awkward",
    "start": "3422069",
    "end": "3427730"
  },
  {
    "text": "so while that's reloading you can have a look at the next step once you've added the Yammer file and you've seen the pod",
    "start": "3447599",
    "end": "3454059"
  },
  {
    "text": "running you should be able to manually delete the deployment yourself on your cluster so that's the deployment not",
    "start": "3454059",
    "end": "3460690"
  },
  {
    "text": "just the pod you know if you delete the pod and you leave the deployment cuba Nettie's will bring the pod back up but",
    "start": "3460690",
    "end": "3465849"
  },
  {
    "text": "if you delete the deployment cuba Nettie's assumes you that's what you want so now you should be able to go into your cluster and manually delete",
    "start": "3465849",
    "end": "3471730"
  },
  {
    "text": "the deployment yourself and see that the deployment comes back up automatically on its own",
    "start": "3471730",
    "end": "3477480"
  },
  {
    "text": "this takes kind of a few minutes for that for flux to notice and then take the right",
    "start": "3477480",
    "end": "3484240"
  },
  {
    "text": "action but it will notice that the deployment isn't there and it will reapply the manifests to the cluster and",
    "start": "3484240",
    "end": "3490750"
  },
  {
    "text": "enforce the state you gave it and you can look at the logs the flux flux logs",
    "start": "3490750",
    "end": "3496569"
  },
  {
    "text": "to see exactly what's happening it'll pick up that there's no deployment it'll kind of continuously pull the images",
    "start": "3496569",
    "end": "3502450"
  },
  {
    "text": "it'll reapply the and then it will reapply the manifests",
    "start": "3502450",
    "end": "3507789"
  },
  {
    "text": "that you've given it",
    "start": "3507789",
    "end": "3510420"
  },
  {
    "text": "so I hope you have more luck than me on your cluster",
    "start": "3513960",
    "end": "3518609"
  },
  {
    "text": "are they all timing out okay we've probably blown the API limit for Kathy",
    "start": "3521039",
    "end": "3526180"
  },
  {
    "text": "Kota so I'll have to apologize to Ben and buy him a bottle so the idea here the next kind of",
    "start": "3526180",
    "end": "3532270"
  },
  {
    "text": "logical step is to modify the configuration and see that coming up on your cluster so you'll be able to modify",
    "start": "3532270",
    "end": "3539470"
  },
  {
    "text": "your configuration and say scale it up create a commit and then you'll see that be reflected in your cluster very",
    "start": "3539470",
    "end": "3546789"
  },
  {
    "text": "quickly and so now we've done a bunch of manual",
    "start": "3546789",
    "end": "3552730"
  },
  {
    "text": "deployments yeah",
    "start": "3552730",
    "end": "3555630"
  },
  {
    "text": "yes absolutely so the question is can you reduce that cycle time of five",
    "start": "3564400",
    "end": "3569630"
  },
  {
    "text": "minutes I hope that meant absolutely yeah there is the answer is webhooks you can get your your repository and also",
    "start": "3569630",
    "end": "3575810"
  },
  {
    "text": "your image registry to send webhooks to flux essentially and then flux will be",
    "start": "3575810",
    "end": "3582350"
  },
  {
    "text": "able to once it gets the way work do or not to do an update immediately so you don't",
    "start": "3582350",
    "end": "3587600"
  },
  {
    "text": "have to wait for the polling it can happen automatically",
    "start": "3587600",
    "end": "3592779"
  },
  {
    "text": "so so internally we use where books so we don't wanna swen you've got the web",
    "start": "3594280",
    "end": "3599690"
  },
  {
    "text": "box configured will stop polling essentially I",
    "start": "3599690",
    "end": "3603760"
  },
  {
    "text": "won't rely on it at least",
    "start": "3605710",
    "end": "3609820"
  },
  {
    "text": "and so kind of the next next thing I wanted to show you technical issues notwithstanding is",
    "start": "3612070",
    "end": "3617530"
  },
  {
    "text": "actually setting up to be automated or kind of set up continuously Pro min so",
    "start": "3617530",
    "end": "3622730"
  },
  {
    "text": "that any time there's a new image it gets immediately pushed into your",
    "start": "3622730",
    "end": "3627740"
  },
  {
    "text": "cluster and what's quite nice here is that there's no magic what we're actually doing to",
    "start": "3627740",
    "end": "3633590"
  },
  {
    "text": "tell flux we want to automatically deploy a particular deployment is to add some annotations and so we'll add these",
    "start": "3633590",
    "end": "3640460"
  },
  {
    "text": "two annotations to our deployment this is our pod info deployment and will had",
    "start": "3640460",
    "end": "3645950"
  },
  {
    "text": "flux dot we use that works tad net blow tester this is the name of the deployment",
    "start": "3645950",
    "end": "3651820"
  },
  {
    "text": "and will had glob equals anything so any new versions will",
    "start": "3651820",
    "end": "3658070"
  },
  {
    "text": "come up and be deployed and this is the line that the annotation that makes a",
    "start": "3658070",
    "end": "3663920"
  },
  {
    "text": "work that's dotnet load test should not say that it should just say pod intro my bad",
    "start": "3663920",
    "end": "3671829"
  },
  {
    "text": "what's up so pot info is hosted on the cake he",
    "start": "3673890",
    "end": "3682150"
  },
  {
    "text": "died Oh it's a publicly available service yeah that's right",
    "start": "3682150",
    "end": "3687780"
  },
  {
    "text": "and you'll see that when you do that the image that you that's there on the example is 1.0.0 and once it's automated",
    "start": "3687780",
    "end": "3695980"
  },
  {
    "text": "flexible immediately updated to one point four point wine which is the latest image available in the repository",
    "start": "3695980",
    "end": "3701910"
  },
  {
    "text": "and this is a way of kind of grabbing the",
    "start": "3701910",
    "end": "3707380"
  },
  {
    "text": "version out of the deployment like all you'll be able to grab the version out of the deployment and if you watch that",
    "start": "3707380",
    "end": "3714040"
  },
  {
    "text": "command or what happen is you'll see the version move from one point 0 from 1 0 0 to 1 4 1",
    "start": "3714040",
    "end": "3721020"
  },
  {
    "text": "deaths just a so that's just a typo I probably basted from the wrong from the",
    "start": "3722610",
    "end": "3728350"
  },
  {
    "text": "wrong scripts so here that should say pot info",
    "start": "3728350",
    "end": "3736200"
  },
  {
    "text": "so once you've managed to kind of get your deployment going so that you automatically deployed",
    "start": "3745739",
    "end": "3753479"
  },
  {
    "text": "you what you'll see is that the flux agent is going to start making commits",
    "start": "3753479",
    "end": "3758559"
  },
  {
    "text": "to your repository it's going to actually make a commit when there's a new version to change the version number",
    "start": "3758559",
    "end": "3765549"
  },
  {
    "text": "in your deployment so you'll be creating the commit that adds the annotations that says please automate this file and",
    "start": "3765549",
    "end": "3772390"
  },
  {
    "text": "then the flux agent one there's a new version will actually create the create",
    "start": "3772390",
    "end": "3778509"
  },
  {
    "text": "the new commit to change the version just like you would as a human so now you've got humans and software making",
    "start": "3778509",
    "end": "3784229"
  },
  {
    "text": "commits that I've essentially treated the same as far as the infrastructure is concerned",
    "start": "3784229",
    "end": "3790229"
  },
  {
    "text": "and that's what it would look like so flux will make a change like this I can",
    "start": "3790229",
    "end": "3796239"
  },
  {
    "text": "show you an example of those I",
    "start": "3796239",
    "end": "3799680"
  },
  {
    "text": "can spell github properly yep",
    "start": "3802349",
    "end": "3807269"
  },
  {
    "text": "so this is our our own internal repository this is actually where we",
    "start": "3810510",
    "end": "3815810"
  },
  {
    "text": "control our own clusters very much though and if I look at the commits",
    "start": "3815810",
    "end": "3821750"
  },
  {
    "text": "you see that for example here that commit was made by the agent and it was an automatic update of a version of one",
    "start": "3821750",
    "end": "3828240"
  },
  {
    "text": "of our files so this is the metrics deployment in our",
    "start": "3828240",
    "end": "3834300"
  },
  {
    "text": "def cluster in a dev environment and we've got this continuously deployed so that every new version that hits the",
    "start": "3834300",
    "end": "3839370"
  },
  {
    "text": "registry automatically deployed",
    "start": "3839370",
    "end": "3843320"
  },
  {
    "text": "so these are image names is a so these master - blah is an image name",
    "start": "3844640",
    "end": "3854390"
  },
  {
    "text": "in the key K dot IO repository image registry and we tagged",
    "start": "3854390",
    "end": "3861660"
  },
  {
    "text": "our images with the branch name and the commit shell for the source code just to",
    "start": "3861660",
    "end": "3867750"
  },
  {
    "text": "be sure that we can trace back all the way to the actual commit the source commit for the application",
    "start": "3867750",
    "end": "3874610"
  },
  {
    "text": "sorry could you see that if",
    "start": "3888840",
    "end": "3895080"
  },
  {
    "text": "so the question is what happens if an image requires external resources so all",
    "start": "3900210",
    "end": "3906460"
  },
  {
    "text": "that stuff should be encoded in your deployment manifest any dependencies any services you're gonna need it should be",
    "start": "3906460",
    "end": "3912670"
  },
  {
    "text": "deployed in your dependent in your deployment manifest essentially really or and your image should also accept",
    "start": "3912670",
    "end": "3921100"
  },
  {
    "text": "that it might enter a cluster where it's dependencies aren't available if you've got a third like another service there",
    "start": "3921100",
    "end": "3926680"
  },
  {
    "text": "that makes sense",
    "start": "3926680",
    "end": "3929369"
  },
  {
    "text": "so yes so look I think the question is kind of what happens if you if you need another service on your cluster for",
    "start": "3946930",
    "end": "3952700"
  },
  {
    "text": "version 2 to work is that right okay I mean in that case you'd have to",
    "start": "3952700",
    "end": "3959630"
  },
  {
    "text": "obviously deploy your dependencies with or before your new version and",
    "start": "3959630",
    "end": "3966190"
  },
  {
    "text": "so flux will literally just synchronize whatever is in your gate repository to your cluster it won't understand that",
    "start": "3966190",
    "end": "3973070"
  },
  {
    "text": "there's a link of dependency between your images",
    "start": "3973070",
    "end": "3977109"
  },
  {
    "text": "yeah",
    "start": "3981640",
    "end": "3984640"
  },
  {
    "text": "so right now so you're asking whether we had there is some health check system to ensure that a deployment works and if it",
    "start": "3996610",
    "end": "4003660"
  },
  {
    "text": "doesn't kind of revert back the answer is right now we rely on Cuba Nettie's and communities has those checks in so",
    "start": "4003660",
    "end": "4012420"
  },
  {
    "text": "it has readiness track it has liveness checks etc and you can the Cuban actors will use dos for the plot for",
    "start": "4012420",
    "end": "4017820"
  },
  {
    "text": "deployments",
    "start": "4017820",
    "end": "4020420"
  },
  {
    "text": "yeah so right now flux agent as a thing doesn't do that just yet okay",
    "start": "4026090",
    "end": "4032030"
  },
  {
    "text": "so some some final kind of remarks that we've we've covered some of this actually already",
    "start": "4035300",
    "end": "4041390"
  },
  {
    "text": "number one is Pauling delays and the answer is webhooks the next question might be does it work",
    "start": "4041390",
    "end": "4048180"
  },
  {
    "text": "with helm helm is getting more and more popular it's quite useful the answer is yes but you'll need another bit of",
    "start": "4048180",
    "end": "4053540"
  },
  {
    "text": "software running on your cluster you'll need a kind of a second operator to run on your cluster to be able to understand",
    "start": "4053540",
    "end": "4059730"
  },
  {
    "text": "helm resources as well as the helm helm operators",
    "start": "4059730",
    "end": "4065270"
  },
  {
    "text": "can you use flux to manage itself and the answer is not really fundamentally",
    "start": "4065270",
    "end": "4071520"
  },
  {
    "text": "there's going to be a layer somewhere in your system that used manage the outside of get ups usually that's just your flux",
    "start": "4071520",
    "end": "4078330"
  },
  {
    "text": "deployment if you if you're doing that through our cloud will like our wave cloud solution what we'll do is we'll",
    "start": "4078330",
    "end": "4084900"
  },
  {
    "text": "install an agent that kind of deals with with updating everything automatically at that layer",
    "start": "4084900",
    "end": "4090860"
  },
  {
    "text": "we've talked about automate or kind of automated deletions of services and deployments and there is the answer is",
    "start": "4090860",
    "end": "4097620"
  },
  {
    "text": "we don't do that just yet and the reason is we would be it would be dangerous to",
    "start": "4097620",
    "end": "4102779"
  },
  {
    "text": "apply flux to an existing cluster and finally what happens if you have custom",
    "start": "4102780",
    "end": "4108000"
  },
  {
    "text": "resource definitions and the answer is pretty much what you'd expect custom resource definitions are just cuba nets",
    "start": "4108000",
    "end": "4113609"
  },
  {
    "text": "these resources and flux deals with cuba nets these resources it's kind of agnostic about what you're putting to",
    "start": "4113609",
    "end": "4119130"
  },
  {
    "text": "the cluster so it won't kind of worry too much if you have a custom resource definition there and that's actually how",
    "start": "4119130",
    "end": "4124650"
  },
  {
    "text": "the flux in helm integration is done we define a custom resource definition that's managed through flux and we have",
    "start": "4124650",
    "end": "4130740"
  },
  {
    "text": "an operator on the cluster that then deploys that as a film shop",
    "start": "4130740",
    "end": "4135710"
  },
  {
    "text": "so the question is is there any incompatibilities with flux and other things like k native SEO etc no",
    "start": "4143390",
    "end": "4149730"
  },
  {
    "text": "absolutely not and in fact this is often quite a nice way of deploying those because you can just copy the template",
    "start": "4149730",
    "end": "4155790"
  },
  {
    "text": "that the project will give you for deploying communities paste it into your repository and then just watch flux to",
    "start": "4155790",
    "end": "4162150"
  },
  {
    "text": "install it so in a lot of cases that's quite a nice path",
    "start": "4162150",
    "end": "4167630"
  },
  {
    "text": "sorry so the question is what kind of access",
    "start": "4171470",
    "end": "4176730"
  },
  {
    "text": "does the agent require and the answer is fairly permissive access to the cluster and",
    "start": "4176730",
    "end": "4183810"
  },
  {
    "text": "including access to the API to the clustering power to be able to create deployments I don't remember the list at",
    "start": "4183810",
    "end": "4188818"
  },
  {
    "text": "the top of my head this is documented in the phlox project on github but it is it does require essentially admin access to",
    "start": "4188819",
    "end": "4195930"
  },
  {
    "text": "the cluster which is one of the reasons why it's difficult to install on GK without some additional steps because GK",
    "start": "4195930",
    "end": "4201780"
  },
  {
    "text": "will protect you against random access you have to deliberately create the access access account",
    "start": "4201780",
    "end": "4208460"
  },
  {
    "text": "yeah so the question is then the access control problem is shifted to get up and",
    "start": "4221150",
    "end": "4226760"
  },
  {
    "text": "you'll get repository and the answer is absolutely that's that's exactly what we're doing and this is in fact a good",
    "start": "4226760",
    "end": "4233120"
  },
  {
    "text": "place to have an access control problems because of the tools you have around access control and get right you can do",
    "start": "4233120",
    "end": "4239510"
  },
  {
    "text": "things like protected branches software validation signing commits etc and get",
    "start": "4239510",
    "end": "4245420"
  },
  {
    "text": "yeah pull request kind of things so all of that kind of all of those features are now available to you to do access",
    "start": "4245420",
    "end": "4251630"
  },
  {
    "text": "control which is great because they're very powerful features and it means that you can have a ready permissive",
    "start": "4251630",
    "end": "4258340"
  },
  {
    "text": "read access so you can say make the repository available to everybody in your in your organization without",
    "start": "4258340",
    "end": "4264830"
  },
  {
    "text": "compromising your security because only the people who have merged permissions on the master branch will be able to",
    "start": "4264830",
    "end": "4271400"
  },
  {
    "text": "deploy code anywhere on your systems so that can be a very small subset of people whereas people who can propose",
    "start": "4271400",
    "end": "4277370"
  },
  {
    "text": "change can be quite large which works really well because it means that your development teams can now have access to",
    "start": "4277370",
    "end": "4283400"
  },
  {
    "text": "what's running on the cluster and kind of propose changes",
    "start": "4283400",
    "end": "4287320"
  },
  {
    "text": "yeah so the question is does the scope of flux the only address the deployment and absolutely yeah it's deliberately",
    "start": "4296950",
    "end": "4303830"
  },
  {
    "text": "simple tool that does one thing right it only does deployment and I said",
    "start": "4303830",
    "end": "4309400"
  },
  {
    "text": "so is it more than one repository at the time yes it's only one repository at the time flux currently has a limitation it",
    "start": "4314740",
    "end": "4321710"
  },
  {
    "text": "only looks at one repository we haven't found that to be a practical problem in practice we haven't found",
    "start": "4321710",
    "end": "4329000"
  },
  {
    "text": "that to be problematic it's sufficiently powerful that you can you can manage a cluster with only one repository and",
    "start": "4329000",
    "end": "4335090"
  },
  {
    "text": "that tends to match quite well to have like one plus two one repository because what you really want is all the state of",
    "start": "4335090",
    "end": "4340910"
  },
  {
    "text": "your cluster to be in a single place so that's easier to understand and it's you",
    "start": "4340910",
    "end": "4347030"
  },
  {
    "text": "have all UI access to the entire state there's no surprise there's no hidden state somewhere so that's one to one",
    "start": "4347030",
    "end": "4353240"
  },
  {
    "text": "pairing works quite well and yes it would include all the new faces",
    "start": "4353240",
    "end": "4359920"
  },
  {
    "text": "so I mean it fails to apply all the time for a random reason right you know you there's the cosmic-ray factor something",
    "start": "4370420",
    "end": "4376400"
  },
  {
    "text": "can go wrong but because you'll continuously be retrying to apply then it will continuously try and if it's",
    "start": "4376400",
    "end": "4382099"
  },
  {
    "text": "kind of after a certain number of retries if it fails still fails to put the diploma together it'll alert you and",
    "start": "4382099",
    "end": "4387199"
  },
  {
    "text": "say hey we can't we're now unable to deploy please take a look because as a software I don't know what to do I'm a",
    "start": "4387199",
    "end": "4393230"
  },
  {
    "text": "piece of software I'm not intelligent enough to solve that problem",
    "start": "4393230",
    "end": "4397269"
  },
  {
    "text": "yeah absolutely so the question is can you deploy offline on premise etc in air-gap yeah I mean we we've got",
    "start": "4399610",
    "end": "4406280"
  },
  {
    "text": "customers who have air gap systems who need somebody to literally drive up with you know a USB stick well not a USB",
    "start": "4406280",
    "end": "4413000"
  },
  {
    "text": "stick but a validated release and then they have to copy and paste it and have you validated so yeah and that's how you",
    "start": "4413000",
    "end": "4418010"
  },
  {
    "text": "deploy software in their environment they just have an internal registry and internal gate repository",
    "start": "4418010",
    "end": "4424539"
  },
  {
    "text": "the agent does not currently support plugins just yet",
    "start": "4427119",
    "end": "4432369"
  },
  {
    "text": "so you can choose you can choose either way we find it's quite easy for us to just have separate directory in the same",
    "start": "4437730",
    "end": "4442980"
  },
  {
    "text": "repository you can use separate branches you can choose separate directories you can use separate repositories for us we",
    "start": "4442980",
    "end": "4449310"
  },
  {
    "text": "found it easier to just use separate directories that works well for us multiple directories for each",
    "start": "4449310",
    "end": "4454500"
  },
  {
    "text": "environment yeah",
    "start": "4454500",
    "end": "4457220"
  },
  {
    "text": "right so if flux just deploys who's responsible for testing the code installing dependencies building images",
    "start": "4469989",
    "end": "4476180"
  },
  {
    "text": "the answer is your continuous integration pipeline right that you still have that you still need to build",
    "start": "4476180",
    "end": "4481489"
  },
  {
    "text": "your software flux and get-ups is about the deployment side how you build the artifacts you're going to deploy it's",
    "start": "4481489",
    "end": "4488480"
  },
  {
    "text": "not something that's in scope right there's something that other tool do really well you can use Jenkins you can use circle CI you can use github actions",
    "start": "4488480",
    "end": "4495590"
  },
  {
    "text": "whatever it is you could it works really well because the the responsibility is in apps plate instead of just doing",
    "start": "4495590",
    "end": "4501140"
  },
  {
    "text": "build and release you're just doing build and you're just doing release",
    "start": "4501140",
    "end": "4505960"
  },
  {
    "text": "so if you're using Jenkins for everything the biggest sales point is I can half the amount of code you have",
    "start": "4516250",
    "end": "4522380"
  },
  {
    "text": "right now that's dealing with continuous integration right the the amount of code you have right now that's dealing with continuous integration includes building",
    "start": "4522380",
    "end": "4528680"
  },
  {
    "text": "but also includes release I can half the release code if you're releasing communities that means half the amount",
    "start": "4528680",
    "end": "4534020"
  },
  {
    "text": "of deployment time half the amount of deployment bugs etc etc that's the that's the value add and that's so",
    "start": "4534020",
    "end": "4539630"
  },
  {
    "text": "that's a real kind of win like we've seen that happen in in real production system where they've moved to a Jenkins",
    "start": "4539630",
    "end": "4544940"
  },
  {
    "text": "pipeline that had a bunch of deployment code in there and one they did the code when we did the kind of the line of code",
    "start": "4544940",
    "end": "4551300"
  },
  {
    "text": "code count before they used flux and after the user logs they was 50% less",
    "start": "4551300",
    "end": "4557290"
  },
  {
    "text": "so um",
    "start": "4567700",
    "end": "4571060"
  },
  {
    "text": "so the question is kind of how does how do we compare to things like spinnaker and the new deployment pipelines that",
    "start": "4577270",
    "end": "4582980"
  },
  {
    "text": "are coming up I think that the key is kind of one of the things I mentioned very early is the",
    "start": "4582980",
    "end": "4589360"
  },
  {
    "text": "the fact that you have the state of your entire system in get that the fact that",
    "start": "4589360",
    "end": "4595340"
  },
  {
    "text": "you have social collaboration on that state this is not something that spinnaker does very well this is not",
    "start": "4595340",
    "end": "4600680"
  },
  {
    "text": "something that the other tools handle particularly well there are other get-ups tool that we don't build so I",
    "start": "4600680",
    "end": "4606560"
  },
  {
    "text": "think I'll go is kind of a new kid on the block that certainly does pipelines and they say that you get ups have not",
    "start": "4606560",
    "end": "4613790"
  },
  {
    "text": "kind of had the time to dig into all of the details but spinnaker has some problem around state management",
    "start": "4613790",
    "end": "4619540"
  },
  {
    "text": "especially in the failure case",
    "start": "4619540",
    "end": "4623140"
  },
  {
    "text": "I",
    "start": "4631959",
    "end": "4633989"
  },
  {
    "text": "haven't done it for spinnaker get-ups audits remember I I think right now it",
    "start": "4642959",
    "end": "4649389"
  },
  {
    "text": "fails on a couple of points of what we're trying to achieve with get ops to be kind of it's just continue story or a",
    "start": "4649389",
    "end": "4655179"
  },
  {
    "text": "spinnaker is accounting is in continuous development so that answer might get",
    "start": "4655179",
    "end": "4660760"
  },
  {
    "text": "stale in people time no we don't we're not involve with vinegar",
    "start": "4660760",
    "end": "4666539"
  },
  {
    "text": "okay so we we have about about five minutes left I think before we have to",
    "start": "4666539",
    "end": "4672099"
  },
  {
    "text": "close up can I think that's about right so I'll take a couple more question then I'll go through kind of what we do it",
    "start": "4672099",
    "end": "4677320"
  },
  {
    "text": "we've cloud and then we'll close it",
    "start": "4677320",
    "end": "4681448"
  },
  {
    "text": "so that's the s-- that's a transient thing that's being created once for this particular exercise every new",
    "start": "4686489",
    "end": "4692769"
  },
  {
    "text": "installation of flux will have a different key",
    "start": "4692769",
    "end": "4696928"
  },
  {
    "text": "so I mean you can slack all the keys you can reconfigure the peers if you need to but essentially yeah if you're not gonna",
    "start": "4698999",
    "end": "4704619"
  },
  {
    "text": "actively change those the key lives with flux and flux owns that key and that's its identity that's the identity the",
    "start": "4704619",
    "end": "4710650"
  },
  {
    "text": "flux teaming on your cluster",
    "start": "4710650",
    "end": "4713610"
  },
  {
    "text": "so the question was should we automate the deployment of the key in github and what's the kind of the way of doing that",
    "start": "4725530",
    "end": "4732340"
  },
  {
    "text": "yeah you can use the get up ABI if you want and actually practically since this is kind",
    "start": "4732340",
    "end": "4739400"
  },
  {
    "text": "of a one-time setter you'd probably just want to copy the key it's it's quite cheap to do in terms of human cost if you're stealing up clusters on a",
    "start": "4739400",
    "end": "4745940"
  },
  {
    "text": "frequent basis which is that's if that's your use case then I would say you can use the configuration options for flux",
    "start": "4745940",
    "end": "4751400"
  },
  {
    "text": "to give it a key and then use the github API to push up a new key in which case",
    "start": "4751400",
    "end": "4757310"
  },
  {
    "text": "what you'll do is you'll generate the key set gives the flux the keys to flux send the public key to get up and then",
    "start": "4757310",
    "end": "4763610"
  },
  {
    "text": "you'll have the connection configured that way if you're kind of dynamically provisioning clusters that's kind of the",
    "start": "4763610",
    "end": "4769760"
  },
  {
    "text": "way to do it okay so I'm gonna skip the question what",
    "start": "4769760",
    "end": "4775880"
  },
  {
    "text": "we can do is you can grab me after the session outside I'm got just about five",
    "start": "4775880",
    "end": "4781280"
  },
  {
    "text": "minutes to conclude so I want to kind of show you some of the",
    "start": "4781280",
    "end": "4786890"
  },
  {
    "text": "things that we've done at we've worked to build an interface on top of flux this is our kind of cloud platform and",
    "start": "4786890",
    "end": "4793190"
  },
  {
    "text": "he does a whole bunch of stuff and what I'll do now is I will show you deployments in in our cloud platform",
    "start": "4793190",
    "end": "4800060"
  },
  {
    "text": "that uses flux as a back-end all right this is a kind of experience you're able to create using flux as a back-end",
    "start": "4800060",
    "end": "4808120"
  },
  {
    "text": "so my colleagues might be poking the cluster the same time as me they're doing demos on the show floor so",
    "start": "4809920",
    "end": "4816969"
  },
  {
    "text": "if you get some events that's that's probably there so this is the view of our cluster right now and we can see",
    "start": "4816969",
    "end": "4824179"
  },
  {
    "text": "that they this is the current running image on the right-hand pane for all the",
    "start": "4824179",
    "end": "4830900"
  },
  {
    "text": "workloads on my cluster and this is the latest available image in my image registry",
    "start": "4830900",
    "end": "4837219"
  },
  {
    "text": "yes absolutely I can make that bigger for you so the this column here the target",
    "start": "4837219",
    "end": "4844910"
  },
  {
    "text": "column that's the current running versions for all my workload these the the latest",
    "start": "4844910",
    "end": "4851510"
  },
  {
    "text": "images that's the latest available image in my image registry and I can click one of the image",
    "start": "4851510",
    "end": "4859390"
  },
  {
    "text": "it'll come up with a bunch of tags and what I can do is release a version and",
    "start": "4859390",
    "end": "4865720"
  },
  {
    "text": "so the tool has some kind of quality of life features that run on top",
    "start": "4865720",
    "end": "4873020"
  },
  {
    "text": "of flux one of those is for example showing you the resource graphs and",
    "start": "4873020",
    "end": "4878210"
  },
  {
    "text": "custom graphs when you're doing a deployment so you can see the effect of your deployment on your system",
    "start": "4878210",
    "end": "4884020"
  },
  {
    "text": "for in my case let me go back to resources catalog",
    "start": "4884020",
    "end": "4891910"
  },
  {
    "text": "you can see the history of changes made to that system",
    "start": "4891910",
    "end": "4897970"
  },
  {
    "text": "and if I think you look at one of those changes you know it's pretty much what we expect now",
    "start": "4898180",
    "end": "4904190"
  },
  {
    "text": "the changes are happening in the git repository I can automate the service through the",
    "start": "4904190",
    "end": "4912770"
  },
  {
    "text": "UI as well so I can release the service that can automate it automate will create a commit just like we expect when",
    "start": "4912770",
    "end": "4918980"
  },
  {
    "text": "we did it on the command line so it'll notify us that the policies been modified it'll then create the",
    "start": "4918980",
    "end": "4925400"
  },
  {
    "text": "commitment and if we take a look at the automation commit",
    "start": "4925400",
    "end": "4930520"
  },
  {
    "text": "we've got the automation true that we expected",
    "start": "4930520",
    "end": "4935770"
  },
  {
    "text": "so this is kind of the view you'd get for kind of running flux in production",
    "start": "4936580",
    "end": "4943820"
  },
  {
    "text": "using a UI for your teams to make it a little bit easier for you you can also do things like compare two",
    "start": "4943820",
    "end": "4950480"
  },
  {
    "text": "different clusters click on the event instead",
    "start": "4950480",
    "end": "4957430"
  },
  {
    "text": "so instead of comparing to the latest available images you can also compare to a different cluster I've got a whole",
    "start": "4957430",
    "end": "4963200"
  },
  {
    "text": "bunch of clusters here can we find a suitable one and then now",
    "start": "4963200",
    "end": "4970310"
  },
  {
    "text": "instead of promoting from the from the latest available image if I select a",
    "start": "4970310",
    "end": "4975740"
  },
  {
    "text": "couple of these so let's be select the front end maybe I can promote dose and I",
    "start": "4975740",
    "end": "4981920"
  },
  {
    "text": "can select more than one create a release",
    "start": "4981920",
    "end": "4987620"
  },
  {
    "text": "and it should show us the contact the pods kind of being updated to the latest version",
    "start": "4988040",
    "end": "4995300"
  },
  {
    "text": "so it's created the commit on the right on the repository just like we expect and now it's doing the deployment and we",
    "start": "4995690",
    "end": "5002750"
  },
  {
    "text": "can see four pods being deployed from one version to the next so that gives you an idea of now we've",
    "start": "5002750",
    "end": "5008480"
  },
  {
    "text": "kind of seen how it's works underneath the kind of raw commits how to drive",
    "start": "5008480",
    "end": "5014210"
  },
  {
    "text": "flux this gives you an idea of kind of the experience you can build for your teams if you want",
    "start": "5014210",
    "end": "5020020"
  },
  {
    "text": "okay I think that's that's it for today I'm very happy to have a chat with you guys outside if you want to continue",
    "start": "5024550",
    "end": "5031060"
  },
  {
    "text": "otherwise get in touch with us this QR code will take you to a URL that gives",
    "start": "5031060",
    "end": "5036170"
  },
  {
    "text": "you a 45 day trial of weave cloud if you want to try this stuff it'll be I think we're gonna make it",
    "start": "5036170",
    "end": "5042260"
  },
  {
    "text": "available I mean Sonia is in the room somewhere but we're gonna make it available for you guys and probably stop-stop it",
    "start": "5042260",
    "end": "5048590"
  },
  {
    "text": "tomorrow so if you want to make it take advantage of that then that's today our default trials cover two weeks instead",
    "start": "5048590",
    "end": "5053660"
  },
  {
    "text": "of 45 days and do get in touch right do get in touch with questions suggestions ideas how you",
    "start": "5053660",
    "end": "5061640"
  },
  {
    "text": "found it kind of war stories we always like to hear about people who've used this so please do get in touch and I",
    "start": "5061640",
    "end": "5068720"
  },
  {
    "text": "think we have three people who use our own books I think you are one sir and I",
    "start": "5068720",
    "end": "5074240"
  },
  {
    "text": "think the gentleman here the front row is as well and I think you're the third person if you want to come back and grab",
    "start": "5074240",
    "end": "5080450"
  },
  {
    "text": "your book at the end that's great thank you very much [Applause]",
    "start": "5080450",
    "end": "5087619"
  }
]