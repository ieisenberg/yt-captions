[
  {
    "text": "hey everyone how y'all doing I know last couple sessions the coupe con wide it",
    "start": "30",
    "end": "5940"
  },
  {
    "text": "down I'll get everyone like a couple seconds some people are still flooding from the hallways so this stuff is cluster in a",
    "start": "5940",
    "end": "13769"
  },
  {
    "text": "box that's the title on the schedule so we'll be talking about kind of be going over different ways to utilize different",
    "start": "13769",
    "end": "21150"
  },
  {
    "text": "types of containers to deploy different kinds of Cabrini's architectures so with",
    "start": "21150",
    "end": "28349"
  },
  {
    "text": "that said I guess we'll get started I have to catch a flight very shortly after this as well so we'll get going so",
    "start": "28349",
    "end": "35940"
  },
  {
    "text": "my name is right arrow I'm a software engineer at canonical the company behind Ubuntu I work on the canonical",
    "start": "35940",
    "end": "42149"
  },
  {
    "text": "distribution of uber Nettie's cool and my name is Marco chappy amongst other things I do operations at the Silph Road",
    "start": "42149",
    "end": "50270"
  },
  {
    "text": "how many people here I imagine most people here know what I'm going to is they're part of the boom - I don't think we have to really give them much of an",
    "start": "50270",
    "end": "56910"
  },
  {
    "text": "introduction who here has ever heard of the Silk Road yeah that's just like two people that's ok I imagine most of you",
    "start": "56910",
    "end": "63870"
  },
  {
    "text": "might actually know the the community that this this that this group Anders - anyone here remember Pokemon go remember",
    "start": "63870",
    "end": "71070"
  },
  {
    "text": "that thing last summer's or this huge craze the media stopped reporting about it but there's still like a ton of active people I promise they're out",
    "start": "71070",
    "end": "77610"
  },
  {
    "text": "there the Silph roads a site built to basically support that community so if",
    "start": "77610",
    "end": "83670"
  },
  {
    "text": "you've ever seen it hordes of people wandering around odds are we're supplying in the data where to wander towards and so we're the premier",
    "start": "83670",
    "end": "92220"
  },
  {
    "text": "grassroots Pokemon NGO community which sounds spectacular for those of you who know what Pokemon go is you're probably",
    "start": "92220",
    "end": "99900"
  },
  {
    "text": "more familiar maybe with other titles from Niantic they produced ingress and they have a bunch of other titles that are very interesting as well but it's",
    "start": "99900",
    "end": "106890"
  },
  {
    "text": "entirely volunteer run and operated community websites myself and the others",
    "start": "106890",
    "end": "111990"
  },
  {
    "text": "that kind of lead the website all have full-time jobs outside of this we don't have like an income plan we're not here",
    "start": "111990",
    "end": "118560"
  },
  {
    "text": "to generate revenue we're just here to make sure the site stays afloat and we don't have to pay money for it we get a ton of hits to this thing you'd",
    "start": "118560",
    "end": "125009"
  },
  {
    "text": "be surprised how popular and how continuous our traffic grows even after the initial dull and spike these numbers",
    "start": "125009",
    "end": "131430"
  },
  {
    "text": "are a bit old now but we're doing well over plus million hits and tons of uniques every month and because we're volunteer",
    "start": "131430",
    "end": "138370"
  },
  {
    "text": "run and operated we have a very interesting kind of development cycle where we actually leverage people from",
    "start": "138370",
    "end": "143410"
  },
  {
    "text": "the community at any one time it could be just me or someone else up to most recently kind of ramped up for this",
    "start": "143410",
    "end": "149530"
  },
  {
    "text": "upcoming there's an in-game release it's happening literally right now I'm the operations guy giving a talk but",
    "start": "149530",
    "end": "155230"
  },
  {
    "text": "somewhere behind the scene there's a bunch of code being deployed and I'm just gonna pretend like that's okay but we've scaled up to things like 55 even",
    "start": "155230",
    "end": "162099"
  },
  {
    "text": "60 developers and they're all volunteers from around the world we have a giant volunteer organization for leadership",
    "start": "162099",
    "end": "167650"
  },
  {
    "text": "and community management there's a 1000 plus research group that all gets together to collect and use scientific",
    "start": "167650",
    "end": "173049"
  },
  {
    "text": "information to determine how mechanics work in game all of these things are great but it leads to a huge nightmare",
    "start": "173049",
    "end": "179200"
  },
  {
    "text": "in that how do we make sure that a we keep running a really smooth operating website so that we can keep being that",
    "start": "179200",
    "end": "185739"
  },
  {
    "text": "premier grassroots pokomoko community and how to make it so that we can keep enticing volunteers to support and",
    "start": "185739",
    "end": "191440"
  },
  {
    "text": "supply these things and so it was obvious containers would be a way for us to really expedite that development",
    "start": "191440",
    "end": "197769"
  },
  {
    "text": "workflow and still keep sanity from us who are all volunteering our time so",
    "start": "197769",
    "end": "202870"
  },
  {
    "text": "before I start talking about Linux containers machine containers Dockers and everything I want to talk really",
    "start": "202870",
    "end": "208630"
  },
  {
    "text": "briefly about the kinds of containers that exist in the ecosystem today for a",
    "start": "208630",
    "end": "213639"
  },
  {
    "text": "lot of you this may be a review for some of you this may be kind of new and we'll kind of walk through why these different types of containers are important and",
    "start": "213639",
    "end": "219700"
  },
  {
    "text": "where we've found ways to best leverage those things so this is uh this is a",
    "start": "219700",
    "end": "225819"
  },
  {
    "text": "server it's a machine could be your laptop could be a piece of bare metal it could be a cloud instance a VM running somewhere but most for the most part it",
    "start": "225819",
    "end": "232750"
  },
  {
    "text": "is a machine in the most traditional sense you installed an operating system on it that's a boot to its it's slack or",
    "start": "232750",
    "end": "239380"
  },
  {
    "text": "its Arch Linux or whatever it happens to be you've got a bunch of processes running you know things like an it's",
    "start": "239380",
    "end": "244660"
  },
  {
    "text": "cron SSH daemon loggers things we've known to come and love as a core",
    "start": "244660",
    "end": "249730"
  },
  {
    "text": "operating system processes it's got networking this kind of cute orange dot down here it's got things like disks",
    "start": "249730",
    "end": "256599"
  },
  {
    "text": "where you can go and store and retrieve data from and from here you can kind of slice this up in a bunch of different",
    "start": "256599",
    "end": "261729"
  },
  {
    "text": "ways the first that were probably most familiar with is virtual machines VMs I mean they've been",
    "start": "261729",
    "end": "267139"
  },
  {
    "text": "staple for people from laptops through to servers most famously all public",
    "start": "267139",
    "end": "272749"
  },
  {
    "text": "clouds are basically just virtual machines running on big giant servers and virtual machines are just that their",
    "start": "272749",
    "end": "278499"
  },
  {
    "text": "virtualization of Io so it's emulation of hardware emulation of firmware emulation of all these bits and carving",
    "start": "278499",
    "end": "285919"
  },
  {
    "text": "out physical resources from a machine in order to have them appear as a smaller chunk of isolated running operating",
    "start": "285919",
    "end": "292009"
  },
  {
    "text": "system and it's an operating system it's an it processes its cron it's loggers it's networking it's disks this thing",
    "start": "292009",
    "end": "298069"
  },
  {
    "text": "we've come to love then we talk about things like docker containers I imagine",
    "start": "298069",
    "end": "303349"
  },
  {
    "text": "most people here are pretty familiar with things like docker run sea rocket the gambit of things that provide you with a docker like experience a way to",
    "start": "303349",
    "end": "311270"
  },
  {
    "text": "manage and run processes and confined fashions the most noticeable difference between things like process containers",
    "start": "311270",
    "end": "316879"
  },
  {
    "text": "or virtual machines is a quick review is that virtual machines are on all these supporting processes and init process",
    "start": "316879",
    "end": "322909"
  },
  {
    "text": "SSH loggers Cron's Damons etc you're just running your process that you care",
    "start": "322909",
    "end": "328999"
  },
  {
    "text": "about and then the dependencies required to bootstrap that process instead of a docker container so you're not running a",
    "start": "328999",
    "end": "334669"
  },
  {
    "text": "kernel you're not running all of these additional ancillary support services just the process inside of some form of",
    "start": "334669",
    "end": "341539"
  },
  {
    "text": "disk I like to make it inverted because you can write to it but you can't really persist it I mean you can you can commit",
    "start": "341539",
    "end": "346699"
  },
  {
    "text": "snapshot but they're really event to be ephemeral and you can attach networking",
    "start": "346699",
    "end": "351800"
  },
  {
    "text": "and most importantly is you could run these really dense the number of docker containers you can run per host Trump's",
    "start": "351800",
    "end": "358039"
  },
  {
    "text": "in the thousands compared to virtual machines you can spin up on that same host do that same workload because",
    "start": "358039",
    "end": "363110"
  },
  {
    "text": "you're not physically carving out resources and virtualization hardware you're just simply confining and",
    "start": "363110",
    "end": "368180"
  },
  {
    "text": "constraining a process the last container type is a machine container this is the natural hybrid model of a",
    "start": "368180",
    "end": "374870"
  },
  {
    "text": "virtual machine and a process container you've got a machine that's running processes and NIT etc it's got disk it's",
    "start": "374870",
    "end": "381199"
  },
  {
    "text": "got networking it's got your application it's everything you've come to know and love from the last 20 years of Linux system administration but you're able to",
    "start": "381199",
    "end": "388520"
  },
  {
    "text": "run it just as densely or if not as densely very close or more densely than virtual machines because it's leveraging",
    "start": "388520",
    "end": "395089"
  },
  {
    "text": "those same primitives that docker containers are it's not doing virtualization of Io it's simply using",
    "start": "395089",
    "end": "400550"
  },
  {
    "text": "the same primitives docker does to leverage things like isolation of processes and stuff but it gives you a",
    "start": "400550",
    "end": "406550"
  },
  {
    "text": "machine context a disk you can write and persist to networking spaces and it processes you can SSH you can manage it",
    "start": "406550",
    "end": "412639"
  },
  {
    "text": "just like you would a normal machine and that's kind of this kind of spread of",
    "start": "412639",
    "end": "418310"
  },
  {
    "text": "what we see from containers today so there's things like virtual machines there's things like machine containers",
    "start": "418310",
    "end": "423349"
  },
  {
    "text": "are we talking about lxd in this case but you could count things like the clear containers project well not",
    "start": "423349",
    "end": "429319"
  },
  {
    "text": "technically a container is a is a very similar idea to how to run really lightweight isolation of machines and",
    "start": "429319",
    "end": "435500"
  },
  {
    "text": "then you have things like docker run sea rocket ocid the gambit of different kinds of container technologies and",
    "start": "435500",
    "end": "441710"
  },
  {
    "text": "that's kind of how the space plays out so you wouldn't necessarily although you could run an init process inside of a",
    "start": "441710",
    "end": "447500"
  },
  {
    "text": "process container like docker but you could definitely and it's expected to and only runs inside of things like",
    "start": "447500",
    "end": "452659"
  },
  {
    "text": "machine containers so that's kind of where we started we said okay docker is",
    "start": "452659",
    "end": "459740"
  },
  {
    "text": "gonna be a great thing for us but all of our developers all of our volunteers they all have different environments",
    "start": "459740",
    "end": "465229"
  },
  {
    "text": "we've got people from literally around the world on Macs on arch on windows on FreeBSD on every platform you can",
    "start": "465229",
    "end": "472969"
  },
  {
    "text": "imagine and to be able to present them with a standard development environment saying here's what production looks like",
    "start": "472969",
    "end": "478610"
  },
  {
    "text": "it looks like this operating system it's got these characteristics this software installed was really difficult so we",
    "start": "478610",
    "end": "484819"
  },
  {
    "text": "turned to LXE as our first start so LXE was the to us it was that oh gee Linux container and I say Linux container",
    "start": "484819",
    "end": "491090"
  },
  {
    "text": "because it's very similar to things like Solaris and jails I'm sorry solaris and zones and freebsd",
    "start": "491090",
    "end": "497330"
  },
  {
    "text": "in jails which all give you that same idea of an isolation of a machine but this was for Linux and that's what we",
    "start": "497330",
    "end": "502969"
  },
  {
    "text": "were using and we found out that things like Heroku the paths I'm sure you may all be familiar with Heroku their entire",
    "start": "502969",
    "end": "509090"
  },
  {
    "text": "infrastructure their entire path offering is built off of LXE so it gave us a nice comfort layer of knowing that",
    "start": "509090",
    "end": "514669"
  },
  {
    "text": "this isn't gonna be some spiraling security issue or some problem where it's not gonna be compatible also found",
    "start": "514669",
    "end": "521120"
  },
  {
    "text": "out pibbles Cloud Foundry the engine behind that uses LXE is a way to confine and constrain for their delivery for",
    "start": "521120",
    "end": "526670"
  },
  {
    "text": "their paths as well so that's when we started we started with LX scene I like riot I kind of just walked through real",
    "start": "526670",
    "end": "533029"
  },
  {
    "text": "quick to show you all what LXE kind of looks like and how to interact with it so",
    "start": "533029",
    "end": "539870"
  },
  {
    "text": "where do we got here so if I run LXE list I can get a list of my currently",
    "start": "539870",
    "end": "547529"
  },
  {
    "text": "running containers I have none right now I can I can launch a container like this I like see you launch I'll launch an",
    "start": "547529",
    "end": "555569"
  },
  {
    "text": "Ubuntu Zinio container which is 1604 and",
    "start": "555569",
    "end": "560480"
  },
  {
    "text": "in just a moment that'll come up so what's it doing right now it's",
    "start": "561529",
    "end": "567149"
  },
  {
    "text": "fetching I guess the abouttwo image that's right yeah all right cool and so this this container this is",
    "start": "567149",
    "end": "574350"
  },
  {
    "text": "effectively we'd be talking about where it'll boot off and use the same host kernel it's basically kind of how you",
    "start": "574350",
    "end": "580350"
  },
  {
    "text": "would normally do like a docker pull then a docker run kind of a scenario set that's pulling in OS image down instead",
    "start": "580350",
    "end": "586800"
  },
  {
    "text": "is that right that's right yeah",
    "start": "586800",
    "end": "590839"
  },
  {
    "text": "so yeah please please ask questions yeah",
    "start": "594270",
    "end": "601279"
  },
  {
    "text": "yeah that's what Kristen what what about the colonel so this is an Uzi Niall host",
    "start": "605330",
    "end": "612899"
  },
  {
    "text": "machine that's that's super awesome for us in this case yeah exactly that's really compatible but what if we were to",
    "start": "612899",
    "end": "620310"
  },
  {
    "text": "launch say like I don't know Santa's 6 machine or Fedora machine I don't know is anyone know what the",
    "start": "620310",
    "end": "625500"
  },
  {
    "text": "current CentOS 7 kernel is is it less than 4 4 maybe 3 10 there you go well to",
    "start": "625500",
    "end": "634260"
  },
  {
    "text": "be honest we we tested this we literally spent all day testing these demos make sure that work and we'd already cashed",
    "start": "634260",
    "end": "639480"
  },
  {
    "text": "he blew two images so I wasn't expecting it to download it again so we would have been well into your answer already",
    "start": "639480",
    "end": "645000"
  },
  {
    "text": "because that was definitely part of the demo because you're right there sharing the same host kernel so what happens",
    "start": "645000",
    "end": "650279"
  },
  {
    "text": "with kernel mismatches turns out it's actually not that bad of a thing most kernels going backwards are fine so as",
    "start": "650279",
    "end": "656040"
  },
  {
    "text": "long as you have a new enough kernel running a user land that expects the older kernel tends to not break it's",
    "start": "656040",
    "end": "661440"
  },
  {
    "text": "when you run a super old host kernel and expect newer user land features inside the containers to access that we like",
    "start": "661440",
    "end": "667440"
  },
  {
    "text": "using a boo to riot maybe I mean we may be a bit a bit biased but abouttwo tends",
    "start": "667440",
    "end": "674220"
  },
  {
    "text": "to ship very recent kernels even in xenial we can install a 4:13 kernel you really wanted to and I'm looking for it",
    "start": "674220",
    "end": "680850"
  },
  {
    "text": "the next long-term support release so that's why we use it as a host OS but it's not limited to this Alexi is a tool",
    "start": "680850",
    "end": "686430"
  },
  {
    "text": "can be run on really any modern for o+ kernel kind of that's where the sweet spot is for these things so 81 percent",
    "start": "686430",
    "end": "694110"
  },
  {
    "text": "later yeah another question",
    "start": "694110",
    "end": "698540"
  },
  {
    "text": "where to download that image that's a great question so this is lxd installed",
    "start": "700810",
    "end": "706279"
  },
  {
    "text": "on top of a nobuta machine so each distribution that installs LXE kind of",
    "start": "706279",
    "end": "712040"
  },
  {
    "text": "also can install a preset of like in remote image repositories so there's an image repository called a boon to which",
    "start": "712040",
    "end": "718370"
  },
  {
    "text": "points to a remote source that has a list of all the abouttwo images if this wasn't downloading I would already",
    "start": "718370",
    "end": "724760"
  },
  {
    "text": "answered your question as well how do you see all the list of images where are those things how do you hook into them that's another fantastic question I'm",
    "start": "724760",
    "end": "731000"
  },
  {
    "text": "really happy you guys are asking these questions it means I'm on the right track from a talk perspective all right any other questions while we wait for",
    "start": "731000",
    "end": "737690"
  },
  {
    "text": "the last 0.0% yeah hey that's it so",
    "start": "737690",
    "end": "744769"
  },
  {
    "text": "right please show me what do we have now okay so if we take a look at LXC list again we'll see that we have a",
    "start": "744769",
    "end": "751389"
  },
  {
    "text": "persistent machine with an ipv4 address cool could you launch me another machine",
    "start": "751389",
    "end": "758959"
  },
  {
    "text": "a dare I ask sure so you used X this time if you want",
    "start": "758959",
    "end": "766310"
  },
  {
    "text": "to explain why you used X why don't you type xenial is it that is it that long yeah sorry it's it's too long they have",
    "start": "766310",
    "end": "773390"
  },
  {
    "text": "a shorthand and the Ubuntu namespaces I like to use okay cool so that launched a lot faster we have the image cache so it",
    "start": "773390",
    "end": "779480"
  },
  {
    "text": "takes mere seconds at most and it looks like humane Jawfish",
    "start": "779480",
    "end": "785000"
  },
  {
    "text": "is now running as a container it's got an IP address and everything can you watch me another container sure but",
    "start": "785000",
    "end": "795800"
  },
  {
    "text": "instead of a boon suit can you give me CentOS all right",
    "start": "795800",
    "end": "800529"
  },
  {
    "text": "so hopefully this won't download the Santos image but if it does I'll look how fast that was man pre-baking some of these things are",
    "start": "806820",
    "end": "813420"
  },
  {
    "text": "wondrous so show me the containers we have them we should have now an exciting piranha a very exciting for honor what",
    "start": "813420",
    "end": "821790"
  },
  {
    "text": "um can you prove that that's CentOS I guess is my next question just to make sure there's no doubt in the audience",
    "start": "821790",
    "end": "827790"
  },
  {
    "text": "here is that is that actually a senseless machine proved to me that rye sure I can do that so I can exact into",
    "start": "827790",
    "end": "834420"
  },
  {
    "text": "the machine context and we can take a look at the machine so Lexie exact I'm",
    "start": "834420",
    "end": "848100"
  },
  {
    "text": "guessing this is kind of like how you can docker exact into yes as well very similar so I can do a um update cadet",
    "start": "848100",
    "end": "861090"
  },
  {
    "text": "see issue cat Etsy Red Hat release as well sure",
    "start": "861090",
    "end": "865970"
  },
  {
    "text": "Red Hat release that will give us every one and then finally to answer the last",
    "start": "870490",
    "end": "875530"
  },
  {
    "text": "question can you run a you name yeah absolutely so this is the entire CentOS",
    "start": "875530",
    "end": "882910"
  },
  {
    "text": "user lands everything you've known to come and love and enjoy from CentOS but it's running on a 44.4 Linux kernel from",
    "start": "882910",
    "end": "891970"
  },
  {
    "text": "the igloo to host which is interesting actually but we haven't had any problems",
    "start": "891970",
    "end": "899350"
  },
  {
    "text": "at all running different types of images right can you show us all the images that kind of come available by default",
    "start": "899350",
    "end": "906000"
  },
  {
    "text": "yes we'd launched CentOS with Washington blue - what else can we launch out of the gate",
    "start": "906000",
    "end": "913170"
  },
  {
    "text": "hmm make this more legible oh yeah that's super legible now I sort of",
    "start": "918370",
    "end": "924220"
  },
  {
    "text": "though for those of you in the back are those in the front squinting like me we've got let's see Alpine what else is there Arch Linux",
    "start": "924220",
    "end": "932410"
  },
  {
    "text": "sent toss six and seven all the Debian's you can imagine cyd Jesse Weezy stretch",
    "start": "932410",
    "end": "940199"
  },
  {
    "text": "fedora openSUSE gent - Oracle Linux list goes",
    "start": "940199",
    "end": "949600"
  },
  {
    "text": "on down to a boom tube beyond so Lexie has like a default image repository is a part of the Linux containers project so",
    "start": "949600",
    "end": "956170"
  },
  {
    "text": "they ship a bunch of these images that being said though it's you can take and create your own lint in images put them",
    "start": "956170",
    "end": "962290"
  },
  {
    "text": "into your own image repository just like you would maybe a docker container and distribute kind of starting os's",
    "start": "962290",
    "end": "967930"
  },
  {
    "text": "or even golden images on top of that so that's super cool so this is how we",
    "start": "967930",
    "end": "973779"
  },
  {
    "text": "started we used LX e and then ultimately we started using lxd so lxd is nothing",
    "start": "973779",
    "end": "979360"
  },
  {
    "text": "different it's just a hypervisor for LXE so before Alex II was really burdensome you had to like go and run all these",
    "start": "979360",
    "end": "985120"
  },
  {
    "text": "long commands I like Steve made super hypervisor like creating containers starting and stopping them migrating",
    "start": "985120",
    "end": "991389"
  },
  {
    "text": "container snapshotting them everything you want to do with a VM except at a machine container layer it's just the",
    "start": "991389",
    "end": "997209"
  },
  {
    "text": "restful api with either a local clients or over the network and we just integrated into our pipeline so what",
    "start": "997209",
    "end": "1002670"
  },
  {
    "text": "we're able to do is on board a new developer create them a new container that they can SSH into and then they",
    "start": "1002670",
    "end": "1008819"
  },
  {
    "text": "have the tool chains that we use that the environment they had everything that we basically have in production for them to play break repeat and rinse and that",
    "start": "1008819",
    "end": "1019230"
  },
  {
    "text": "ultimately led to a better velocity for our developer so they have everything they expected everything they needed in",
    "start": "1019230",
    "end": "1024688"
  },
  {
    "text": "order to start contributing and being effective as a volunteer their time is precious to us so the least amount of friction we can",
    "start": "1024689",
    "end": "1030779"
  },
  {
    "text": "have the more we can get from contributions so on the cluster in a box",
    "start": "1030779",
    "end": "1036000"
  },
  {
    "text": "so switching tracks a little bit Ryan and I had the pleasure of working with a really small team of people in a Linux",
    "start": "1036000",
    "end": "1042058"
  },
  {
    "text": "Foundation it's helped design the certified kubernetes administrator exams",
    "start": "1042059",
    "end": "1047308"
  },
  {
    "text": "anyone taking the CKD a GU crazy trader exam yeah wasn't it brutal I'm sorry it's a really tough exam but",
    "start": "1047309",
    "end": "1056560"
  },
  {
    "text": "it's a great exam I recommend everyone here go out take the exam it's super tough but it kind of covers the gambit",
    "start": "1056560",
    "end": "1063220"
  },
  {
    "text": "of things that you'd ever need to know in order to administer a kubernetes cluster and that certification holds",
    "start": "1063220",
    "end": "1068440"
  },
  {
    "text": "quite a lot of weight if you're looking for jobs or shopping around well CNCs analytics foundation that",
    "start": "1068440",
    "end": "1074470"
  },
  {
    "text": "produces and runs the exam so we had a bit of a problem when we're designing the exam and that this is kind of what",
    "start": "1074470",
    "end": "1081760"
  },
  {
    "text": "you expect today when you run a cluster you've got a bunch of machines probably in a cloud somewhere Etsy demasters",
    "start": "1081760",
    "end": "1087820"
  },
  {
    "text": "workers however you do your architecture whether you're self hosting whether you're keeping the opponent separate",
    "start": "1087820",
    "end": "1092860"
  },
  {
    "text": "you've got VMs running so when we approached when we were working with the Linux Foundation team and the CNC F to",
    "start": "1092860",
    "end": "1098890"
  },
  {
    "text": "kind of design this exam we said okay well we can't use just a single cluster",
    "start": "1098890",
    "end": "1104110"
  },
  {
    "text": "because if the user messes up on a previous question we don't want that to impact the rest of the exam one wrong",
    "start": "1104110",
    "end": "1109360"
  },
  {
    "text": "question shouldn't basically just discount you from being able to take the rest of the exam so we said we're gonna",
    "start": "1109360",
    "end": "1114910"
  },
  {
    "text": "need at least six clusters in fact we ended up with something like eight or nine at the end of the day when we",
    "start": "1114910",
    "end": "1120070"
  },
  {
    "text": "designed all the questions to make sure that we had properly isolated all of these pieces and the Linux Foundation",
    "start": "1120070",
    "end": "1125380"
  },
  {
    "text": "and the CNC F came back and said that's great however this exam is $300 so at",
    "start": "1125380",
    "end": "1131920"
  },
  {
    "text": "that price point in order to run a five or six hour exam with the requisite set up times and burn and review times that",
    "start": "1131920",
    "end": "1138820"
  },
  {
    "text": "means that this infrastructure will cost well over the exam price in general so",
    "start": "1138820",
    "end": "1143950"
  },
  {
    "text": "we went back to the drawing boards and I remember to talk from the last coupe con",
    "start": "1143950",
    "end": "1149260"
  },
  {
    "text": "this was given by Lin's son who was formerly at IBM I think she's now it's",
    "start": "1149260",
    "end": "1156520"
  },
  {
    "text": "sto I remember this talk from Berlin where she talked about using LXE containers as a way to do colocation and",
    "start": "1156520",
    "end": "1163300"
  },
  {
    "text": "multiple clusters in a single machine and so this was very fortuitous because we worked on this project over the",
    "start": "1163300",
    "end": "1169060"
  },
  {
    "text": "summer so we started leveraging a lot of those primitives in order to drive that as let's deploy multiple clusters in a",
    "start": "1169060",
    "end": "1175570"
  },
  {
    "text": "machine so the Linux Foundation CN CF said you have one VM this is the side we're gonna run it in a cloud instance",
    "start": "1175570",
    "end": "1181900"
  },
  {
    "text": "and that's it make it work inside of there and so we did we set up Aleksey cluster we deployed all the",
    "start": "1181900",
    "end": "1187990"
  },
  {
    "text": "components that you'd come to know and love they are all isolated from each other they all have IP addresses you can connect to them they're all networked up",
    "start": "1187990",
    "end": "1193990"
  },
  {
    "text": "it was effectively like we were doing in a previous diagram only it was on a single machine and we were able to take",
    "start": "1193990",
    "end": "1200350"
  },
  {
    "text": "that we were able to scale it up and we said let's create just a bunch of clusters let's destroy the i/o on this machine and see how big we can stretch",
    "start": "1200350",
    "end": "1206620"
  },
  {
    "text": "Ian's at the end of day we were able to deploy quite a lot of consecutive clusters all isolated from each other",
    "start": "1206620",
    "end": "1211870"
  },
  {
    "text": "all independent of each other so that as exam takers move through the questions any wrong question against a bad cluster",
    "start": "1211870",
    "end": "1219190"
  },
  {
    "text": "wouldn't affect the rest of the exam and as of right now if you go and take the exam you'll be taking it in an",
    "start": "1219190",
    "end": "1224380"
  },
  {
    "text": "environment similar to this so I'm gonna have ride take us through what that kind of looks like in practice this isn't the",
    "start": "1224380",
    "end": "1232810"
  },
  {
    "text": "actual exam environment it's similar in construction but it would be disingenuous if we showed you",
    "start": "1232810",
    "end": "1238750"
  },
  {
    "text": "what the invent exam environment looked like so this is just a using similar technologies and processes setting up something like that so what do we have",
    "start": "1238750",
    "end": "1245490"
  },
  {
    "text": "here right so i've ssh into an AWS box it's in m42 x-large it's running five",
    "start": "1245490",
    "end": "1256050"
  },
  {
    "text": "kubernetes clusters each cluster has about ten machines for a total of",
    "start": "1256050",
    "end": "1261700"
  },
  {
    "text": "approximately 50 machines so if we take a look at Alex you list here which might take a moment to come up because what um",
    "start": "1261700",
    "end": "1269830"
  },
  {
    "text": "and for those m42 x lords what how many cores how many gigs of ram is that it's",
    "start": "1269830",
    "end": "1275500"
  },
  {
    "text": "eight cores and 32 gigs of ram and so what's the monthly if I'm just doing spot instances what's the monthly cost",
    "start": "1275500",
    "end": "1281170"
  },
  {
    "text": "on that like this the most expensive I'll see it that would be $300 okay so",
    "start": "1281170",
    "end": "1287140"
  },
  {
    "text": "this is a I forgot the cores II and you said hey eight cores eight core eight cores $300 a month a box so that's five",
    "start": "1287140",
    "end": "1296110"
  },
  {
    "text": "clusters about 50 lxc machine containers that's right yep so this is a LXE list",
    "start": "1296110",
    "end": "1302890"
  },
  {
    "text": "so these are all the machine containers running you can kind of make out that some of these are the kubernetes nodes",
    "start": "1302890",
    "end": "1308830"
  },
  {
    "text": "because you can see the docker and CNI and flannel bridges we could SSH into",
    "start": "1308830",
    "end": "1316720"
  },
  {
    "text": "one of these the keys are already over there so let's see and we can take a look at",
    "start": "1316720",
    "end": "1332249"
  },
  {
    "text": "what's running under docker we should see some kind of kubernetes loads we can",
    "start": "1332249",
    "end": "1338230"
  },
  {
    "text": "take a look at the pods the nodes",
    "start": "1338230",
    "end": "1343710"
  },
  {
    "text": "cluster status",
    "start": "1343710",
    "end": "1347128"
  },
  {
    "text": "so this is one of the clusters then it looks like there's three kubernetes nodes in this cluster it's got a three",
    "start": "1349520",
    "end": "1355970"
  },
  {
    "text": "notes of Etsy D running as well and some workload some pods I guess running yeah",
    "start": "1355970",
    "end": "1361760"
  },
  {
    "text": "that's right cool what's the so what's the resource",
    "start": "1361760",
    "end": "1367700"
  },
  {
    "text": "utilization like on this box I guess is the next question I would have is a good question let's take a look so the loads",
    "start": "1367700",
    "end": "1377270"
  },
  {
    "text": "a bit high right now I usually see something around a five between five and seven but we can take a look at each top",
    "start": "1377270",
    "end": "1384380"
  },
  {
    "text": "as well so looks like the 15-minute load",
    "start": "1384380",
    "end": "1391040"
  },
  {
    "text": "is around eight so at eight cores that's pretty much about a hundred percent utilization so that's five kubernetes",
    "start": "1391040",
    "end": "1397880"
  },
  {
    "text": "clusters across 50 ish machines running on a single instance at $300 a month",
    "start": "1397880",
    "end": "1403490"
  },
  {
    "text": "that's right cool I imagine most of the bottleneck is not",
    "start": "1403490",
    "end": "1409280"
  },
  {
    "text": "CPU but actually disk IO or is it something else yeah it is disk IO right now cool sweet",
    "start": "1409280",
    "end": "1417350"
  },
  {
    "text": "so that's that's an example of how we're able to do things like using LXE you can use whatever flavor of tool you like to",
    "start": "1417350",
    "end": "1423830"
  },
  {
    "text": "deploy kubernetes with whether it be cube ADM or the gambit coop spray cdk",
    "start": "1423830",
    "end": "1430940"
  },
  {
    "text": "cetera to deploy a bunch of machines into a single cluster so from a silver",
    "start": "1430940",
    "end": "1436070"
  },
  {
    "text": "perspective this was wildly successful for us we were able to set up a bunch of dev and test clusters on a single",
    "start": "1436070",
    "end": "1441500"
  },
  {
    "text": "instance in Google's compute engine which gave us better economics and then we could basically test all of our",
    "start": "1441500",
    "end": "1446780"
  },
  {
    "text": "pipelines with the same production model number of machines number of configurations etc and then our actual",
    "start": "1446780",
    "end": "1453080"
  },
  {
    "text": "production cluster was the actual where we actually spent the most of our money and this actually worked out pretty well",
    "start": "1453080",
    "end": "1458450"
  },
  {
    "text": "for the Linux Foundation as well cool so the last thing I want to talk about",
    "start": "1458450",
    "end": "1464720"
  },
  {
    "text": "which is kind of the next evolution for us at the Silk Road is bare metal in",
    "start": "1464720",
    "end": "1470480"
  },
  {
    "text": "large clusters as you can imagine we have quite a lot of code running for",
    "start": "1470480",
    "end": "1476900"
  },
  {
    "text": "those of you who've used the site which is none of you you should check it out if you don't that's fine too but we have a lot of supporting services things",
    "start": "1476900",
    "end": "1483110"
  },
  {
    "text": "like in a geolocation based game it's most important to help find people that are in similar areas to each other so we",
    "start": "1483110",
    "end": "1488840"
  },
  {
    "text": "have lots of code that runs to help figure out who is close to you to help you achieve certain tasks in game we",
    "start": "1488840",
    "end": "1494960"
  },
  {
    "text": "also have a giant world map which we help display where points of interest are and other things of importance",
    "start": "1494960",
    "end": "1500480"
  },
  {
    "text": "within the game itself and so because of that we do a lot of traffic and if you've ever tried to embed Google Maps",
    "start": "1500480",
    "end": "1506240"
  },
  {
    "text": "or any other map vendor onto your website you might find it's pretty ok when you start pushing 30 million plus",
    "start": "1506240",
    "end": "1512660"
  },
  {
    "text": "hits those things it actually becomes really expensive it turns out maps and base maps are super costly and so we are",
    "start": "1512660",
    "end": "1519320"
  },
  {
    "text": "into a problem where our map vendor was saying we can no longer support you at the frites here you're going to need to pay $10,000 a month for your utilization",
    "start": "1519320",
    "end": "1527020"
  },
  {
    "text": "considering we pull in less than 2,000 a month in ad revenue that was not going to be sustainable for very long and I",
    "start": "1527020",
    "end": "1533690"
  },
  {
    "text": "don't feel like paying out of pocket very much for these things so we figured okay we'll run our own map servers we",
    "start": "1533690",
    "end": "1539179"
  },
  {
    "text": "use open street maps there's open source software do all of these things we'll take our take our destiny destiny into",
    "start": "1539179",
    "end": "1545960"
  },
  {
    "text": "our hands and we'll build and run these things ourselves turns out it's super expensive to generate map tiles no wonder it's so",
    "start": "1545960",
    "end": "1552830"
  },
  {
    "text": "freaking costly so we realized that running in the cloud is not very effective we'll invest in some bare",
    "start": "1552830",
    "end": "1558470"
  },
  {
    "text": "metal servers we found a really decent Colo some good secondhand servers - sockets about 400 gigs of ram and tons",
    "start": "1558470",
    "end": "1566990"
  },
  {
    "text": "of disks to store this data and then we hit our next roadblock which is the 100 pod limits does anyone know about this",
    "start": "1566990",
    "end": "1574280"
  },
  {
    "text": "is anyone hit this yet in their clusters running clusters turns out as if we'd",
    "start": "1574280",
    "end": "1579650"
  },
  {
    "text": "read the documentation that when it comes to building large clusters there's some limits in the software itself the",
    "start": "1579650",
    "end": "1586220"
  },
  {
    "text": "chief being that you can only run a hundred pods per couplets now for those",
    "start": "1586220",
    "end": "1591770"
  },
  {
    "text": "of you that running decent capacity workloads most average web workloads don't really hit those kind of things",
    "start": "1591770",
    "end": "1597440"
  },
  {
    "text": "especially in cloud instances where you have like 4 to 8 cores on average per machine or less and like less than 16",
    "start": "1597440",
    "end": "1603559"
  },
  {
    "text": "gigs of ram a hundred pods in that space is actually quite dense but when you start looking at things like bare metal",
    "start": "1603559",
    "end": "1610419"
  },
  {
    "text": "this was the average size of our server it's a two socket",
    "start": "1610419",
    "end": "1616530"
  },
  {
    "text": "kind of standard almost white label box we had 24 CPUs and 500 gigs of ram and",
    "start": "1616530",
    "end": "1622560"
  },
  {
    "text": "about 20 terabytes of space and if you start dividing that up and saying okay I'm gonna run on these servers on",
    "start": "1622560",
    "end": "1628620"
  },
  {
    "text": "average a hundred pods that's not going to work very well it's awesome if you're",
    "start": "1628620",
    "end": "1634050"
  },
  {
    "text": "doing machine learning or rendering farms or anything that requires tons of compute space but very little workloads",
    "start": "1634050",
    "end": "1641040"
  },
  {
    "text": "but if you're not it's kind of awful and so what we found is that well if this is",
    "start": "1641040",
    "end": "1647580"
  },
  {
    "text": "the model today one piece of bare metal - one pod limit to 100 pods if we",
    "start": "1647580",
    "end": "1652680"
  },
  {
    "text": "leverage that kind of same learning there's a trend here in this talk I'm not sure if you guys are sensing it but we can leverage things like machine",
    "start": "1652680",
    "end": "1658200"
  },
  {
    "text": "containers and lexie to actually split up a piece of bare metal because we're not incurring any virtualization",
    "start": "1658200",
    "end": "1663390"
  },
  {
    "text": "overhead I don't need to worry about installing anything to manage my VM layer I'm just using the traditional",
    "start": "1663390",
    "end": "1668640"
  },
  {
    "text": "hypervisor API to say give me four machine containers there's no vert IO overhead so I'm not limiting the",
    "start": "1668640",
    "end": "1674940"
  },
  {
    "text": "resources on my bare metal machine but that I'm able to slice it up and say instead of one couplet I can actually",
    "start": "1674940",
    "end": "1679980"
  },
  {
    "text": "fit four couplets at 400 pod limits we went further and started playing with different architectures so we said all",
    "start": "1679980",
    "end": "1686520"
  },
  {
    "text": "right well let's do it this way where instead of having this previous model where we JC said each one of these was",
    "start": "1686520",
    "end": "1692970"
  },
  {
    "text": "pinned to a CPU socket so - via two machine containers per sockets and then half the RAM divided across them we went",
    "start": "1692970",
    "end": "1700020"
  },
  {
    "text": "further let's do CPU sharing models let's see how we can slice and dice and limit the quality assistance quality of",
    "start": "1700020",
    "end": "1706530"
  },
  {
    "text": "service on these things we got up to a 900 Pub limit we never hit that I don't we didn't have enough stuff to run 900",
    "start": "1706530",
    "end": "1712140"
  },
  {
    "text": "pods and so we actually ended up with was a mixture of architectures where we have one giant lxd machine pinned to one",
    "start": "1712140",
    "end": "1718230"
  },
  {
    "text": "socket and then the rest for more general-purpose workloads that are running alongside of it and we were able",
    "start": "1718230",
    "end": "1723270"
  },
  {
    "text": "to utilize about 600 pods per of one of our servers which give us a good sweet spot of density while still being able",
    "start": "1723270",
    "end": "1729900"
  },
  {
    "text": "to leverage performance from the underlying hardware these are nodes so",
    "start": "1729900",
    "end": "1735000"
  },
  {
    "text": "these are yeah this is a cluster we have about three or four pieces of metal kind of split up in this architecture so we",
    "start": "1735000",
    "end": "1740610"
  },
  {
    "text": "actually have a lot of capacity for four pods but we run on average around to serve",
    "start": "1740610",
    "end": "1746790"
  },
  {
    "text": "all of our map tiles we run probably 1200 pods yes is the Alex T itself it",
    "start": "1746790",
    "end": "1756960"
  },
  {
    "text": "doesn't see the bare metal it just sees that you have in this case five kubernetes nodes that looks d containers",
    "start": "1756960",
    "end": "1765170"
  },
  {
    "text": "it's less overhead it's less overhead both in managing it and it's less overhead both in resources utilize the",
    "start": "1766130",
    "end": "1772440"
  },
  {
    "text": "actual residual computational processes used by Aleksey containers is managed in",
    "start": "1772440",
    "end": "1777900"
  },
  {
    "text": "the fractions of seconds of microseconds of cpu time where VMs it's actually very heavy exactly yes and then dynamic",
    "start": "1777900",
    "end": "1790530"
  },
  {
    "text": "resizing like we're able to reallocate the limits on these things like we'll say suddenly no longer are you CPU pin",
    "start": "1790530",
    "end": "1796260"
  },
  {
    "text": "just see if you share or you're now have a hard limit of memory all that stuff we can do dynamic without restarting",
    "start": "1796260",
    "end": "1801330"
  },
  {
    "text": "anything yeah exactly yes we haven't hit",
    "start": "1801330",
    "end": "1810810"
  },
  {
    "text": "any we do this today in production I know of a couple other customers that are doing something like this in",
    "start": "1810810",
    "end": "1816630"
  },
  {
    "text": "production as well we just had to make sure we allowed and whitelist certain kernel modules into the machine",
    "start": "1816630",
    "end": "1822630"
  },
  {
    "text": "container so things like VLAN IP V I P b6 and stuff but outside of those things",
    "start": "1822630",
    "end": "1828840"
  },
  {
    "text": "we did haven't had any problems and we view this as a safeguard for us we never touched the bare metal anymore",
    "start": "1828840",
    "end": "1834690"
  },
  {
    "text": "it's just very thin lightweight a boom - OS at this point and we're pretty confident that if we ever got an exploit",
    "start": "1834690",
    "end": "1841050"
  },
  {
    "text": "because again it's volunteers giving us code we we do our best for security but we're also not PCI HIPAA",
    "start": "1841050",
    "end": "1846570"
  },
  {
    "text": "combined by any means but if a container did break out of confinement in docker",
    "start": "1846570",
    "end": "1851580"
  },
  {
    "text": "or whatever CRI we were using we feel okay knowing that it likely won't escape",
    "start": "1851580",
    "end": "1856800"
  },
  {
    "text": "this isolation and affect the bare metal or eject that firmware or something yeah",
    "start": "1856800",
    "end": "1863929"
  },
  {
    "text": "we don't use lab migration I've used it in the past but we don't use it here we",
    "start": "1864130",
    "end": "1869360"
  },
  {
    "text": "just simply resize or just delete machines and create them oh I don't know",
    "start": "1869360",
    "end": "1875480"
  },
  {
    "text": "I have not tried my Bertha shot in a blog post though yeah cool no these are",
    "start": "1875480",
    "end": "1883549"
  },
  {
    "text": "all connected to one cluster just span across multiple pieces of hardware so from our perspective we've got it's",
    "start": "1883549",
    "end": "1889700"
  },
  {
    "text": "actually just three pieces of metal and a coal oh it's not like a huge bare metal footprints but we have a lot of",
    "start": "1889700",
    "end": "1894740"
  },
  {
    "text": "capacity that we use so inside of kubernetes we actually see 15 kubernetes nodes in our single cluster and that",
    "start": "1894740",
    "end": "1901640"
  },
  {
    "text": "just happened to be spread across these it's almost as if we've gone to Amazon launched a bunch of Amazon instances",
    "start": "1901640",
    "end": "1907429"
  },
  {
    "text": "we're just simply utilizing machine containers to get the best resource utilization out of our bare metal",
    "start": "1907429",
    "end": "1915039"
  },
  {
    "text": "we've got tooling that we do to automate like the creation of these things so we can repeat them so we just simply replay",
    "start": "1916150",
    "end": "1922070"
  },
  {
    "text": "that automation there and then it stands up all of our little pieces and connects it into the cluster with configuration and stuff yeah we use the combination of",
    "start": "1922070",
    "end": "1933169"
  },
  {
    "text": "stuff and open source it's not super relevant this will work anywhere we've done it with Kubb ADM we weren't quite",
    "start": "1933169",
    "end": "1939500"
  },
  {
    "text": "ready for cube ADM there's some H a and upgrading problems we want to make sure we always upgrade at our kubernetes so",
    "start": "1939500",
    "end": "1945860"
  },
  {
    "text": "we used a combination of things like canonical distribution of kubernetes and some Verone scripts to manage how we do",
    "start": "1945860",
    "end": "1951980"
  },
  {
    "text": "our bit so we just kind of borrowed from vendors that stall stuff yeah",
    "start": "1951980",
    "end": "1957580"
  },
  {
    "text": "um yeah it's not at the end of my slide but I'll add that I had a bunch of links",
    "start": "1961360",
    "end": "1966500"
  },
  {
    "text": "in there I'll make sure that link is in there as well just some of the infrastructure code we have yeah Alexi",
    "start": "1966500",
    "end": "1973670"
  },
  {
    "text": "has a way to modify profiles so inside of elux see I can say here's the general",
    "start": "1973670",
    "end": "1980240"
  },
  {
    "text": "profile that gets applied to all machines or this machine in particular has these CPU limits these memory limits even down to network and disk IO",
    "start": "1980240",
    "end": "1986870"
  },
  {
    "text": "throttling as well so all that's just built into the Linux kernel module for these namespaces basically yeah yeah it",
    "start": "1986870",
    "end": "1999920"
  },
  {
    "text": "does it does a lot of this we had some pretty unique architecture stuff so we utilize a lot of tools underneath conjure up to do that but we basically",
    "start": "1999920",
    "end": "2006670"
  },
  {
    "text": "built and scripted our own way conjure up works great that's how we did a lot of our proof of concepts but when we",
    "start": "2006670",
    "end": "2012070"
  },
  {
    "text": "went to production we we use the same tooling underneath conjure up to do that but we just kind of scripted our own way",
    "start": "2012070",
    "end": "2018370"
  },
  {
    "text": "basically yeah so juju is one of those tools that we bolted on some scripting",
    "start": "2018370",
    "end": "2023500"
  },
  {
    "text": "and processes to kind of map how we dynamically resize these misty machines or says they handled them juju yeah so",
    "start": "2023500",
    "end": "2032800"
  },
  {
    "text": "the end of the day sorry we did actually start with virtual machines initially and we found that the density was quite",
    "start": "2032800",
    "end": "2038770"
  },
  {
    "text": "poor in fact we ended up seeing about 10x more density with the same workload",
    "start": "2038770",
    "end": "2044770"
  },
  {
    "text": "on these pieces of bare metal 10x probably more actually but as a results that's kind of how we ruled out virtual",
    "start": "2044770",
    "end": "2051220"
  },
  {
    "text": "machines and still sit firmly in the land of containers just a varying range of them I think that's about it for our",
    "start": "2051220",
    "end": "2059260"
  },
  {
    "text": "talk yeah thank you thank you all for coming I really appreciate it",
    "start": "2059260",
    "end": "2064138"
  },
  {
    "text": "I don't know I think we're out of time yeah we're definitely at a time here are",
    "start": "2066409",
    "end": "2071970"
  },
  {
    "text": "those links I mentioned before Linux containers org for everything LX c LX d CN CF that io certification experts all",
    "start": "2071970",
    "end": "2077850"
  },
  {
    "text": "you should get certified it's a great thing to have do study before you get certified it's like a four six hour exam",
    "start": "2077850",
    "end": "2084600"
  },
  {
    "text": "there's lots of questions about kubernetes from both administration and usage and then that's that cluster large",
    "start": "2084600",
    "end": "2090960"
  },
  {
    "text": "page i like to make sure i source that people know they always change those numbers and releases but sometimes just",
    "start": "2090960",
    "end": "2096990"
  },
  {
    "text": "to make sure you have the latest specs on how big clusters can get and i'll add there others links I mentioned to you as well thank you all enjoy the rest of",
    "start": "2096990",
    "end": "2103350"
  },
  {
    "text": "coop con",
    "start": "2103350",
    "end": "2105650"
  }
]