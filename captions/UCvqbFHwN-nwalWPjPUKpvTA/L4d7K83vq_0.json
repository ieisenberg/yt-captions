[
  {
    "start": "0",
    "end": "38000"
  },
  {
    "text": "welcome to cubecon",
    "start": "80",
    "end": "2800"
  },
  {
    "text": "2021 north america sig auto scaling",
    "start": "2800",
    "end": "6799"
  },
  {
    "text": "um presentation",
    "start": "6799",
    "end": "9120"
  },
  {
    "text": "uh my name is joseph burnett i'm a",
    "start": "9120",
    "end": "11519"
  },
  {
    "text": "contributor",
    "start": "11519",
    "end": "12719"
  },
  {
    "text": "working on horizontal pad auto scaling",
    "start": "12719",
    "end": "15839"
  },
  {
    "text": "and i'm going to walk you through a few",
    "start": "15839",
    "end": "17760"
  },
  {
    "text": "basics of kubernetes auto scaling today",
    "start": "17760",
    "end": "22480"
  },
  {
    "text": "i want to tell you a little bit about",
    "start": "22480",
    "end": "23600"
  },
  {
    "text": "the sig as well",
    "start": "23600",
    "end": "25519"
  },
  {
    "text": "give you an example of what kubernetes",
    "start": "25519",
    "end": "27599"
  },
  {
    "text": "auto scaling does so you can understand",
    "start": "27599",
    "end": "30320"
  },
  {
    "text": "some of the terminology and how to use",
    "start": "30320",
    "end": "31920"
  },
  {
    "text": "it",
    "start": "31920",
    "end": "32880"
  },
  {
    "text": "and i'm going to talk a few minutes",
    "start": "32880",
    "end": "34160"
  },
  {
    "text": "about some upcoming features and i'll",
    "start": "34160",
    "end": "36399"
  },
  {
    "text": "save some time at the end for questions",
    "start": "36399",
    "end": "39440"
  },
  {
    "start": "38000",
    "end": "107000"
  },
  {
    "text": "so who are we",
    "start": "39440",
    "end": "40800"
  },
  {
    "text": "sig auto scaling",
    "start": "40800",
    "end": "42960"
  },
  {
    "text": "has the scope of horizontal and vertical",
    "start": "42960",
    "end": "46480"
  },
  {
    "text": "polynomial scaling",
    "start": "46480",
    "end": "48239"
  },
  {
    "text": "um",
    "start": "48239",
    "end": "49120"
  },
  {
    "text": "this is changing the size of pods",
    "start": "49120",
    "end": "51840"
  },
  {
    "text": "vertically or making more or fewer of",
    "start": "51840",
    "end": "54320"
  },
  {
    "text": "them horizontally",
    "start": "54320",
    "end": "56000"
  },
  {
    "text": "cluster proportional system component",
    "start": "56000",
    "end": "57840"
  },
  {
    "text": "auto scaling is just a very simple auto",
    "start": "57840",
    "end": "60879"
  },
  {
    "text": "scaler",
    "start": "60879",
    "end": "61920"
  },
  {
    "text": "that",
    "start": "61920",
    "end": "63440"
  },
  {
    "text": "adjusts the number of pods in a",
    "start": "63440",
    "end": "64799"
  },
  {
    "text": "deployment based on",
    "start": "64799",
    "end": "67360"
  },
  {
    "text": "the size of the cluster so for example",
    "start": "67360",
    "end": "69439"
  },
  {
    "text": "cube dns uses this",
    "start": "69439",
    "end": "72479"
  },
  {
    "text": "also",
    "start": "72479",
    "end": "73680"
  },
  {
    "text": "stig auto scaling is responsible for",
    "start": "73680",
    "end": "75280"
  },
  {
    "text": "cluster autoscaler which actually",
    "start": "75280",
    "end": "77680"
  },
  {
    "text": "sizes up and down the cluster itself",
    "start": "77680",
    "end": "81600"
  },
  {
    "text": "so i'll talk a little bit about how",
    "start": "81600",
    "end": "82960"
  },
  {
    "text": "those interact with each other in a few",
    "start": "82960",
    "end": "85040"
  },
  {
    "text": "minutes",
    "start": "85040",
    "end": "86720"
  },
  {
    "text": "the chairs of segato scaling are guy",
    "start": "86720",
    "end": "88640"
  },
  {
    "text": "templeton who works at sky scanner and",
    "start": "88640",
    "end": "91280"
  },
  {
    "text": "marcin vigulus who works at google",
    "start": "91280",
    "end": "94400"
  },
  {
    "text": "and here's a link here to the community",
    "start": "94400",
    "end": "96400"
  },
  {
    "text": "page which should be linkable from the",
    "start": "96400",
    "end": "98079"
  },
  {
    "text": "pdf uploaded with this presentation this",
    "start": "98079",
    "end": "100799"
  },
  {
    "text": "will tell you all about the sig meetings",
    "start": "100799",
    "end": "103439"
  },
  {
    "text": "and all the information about the uh",
    "start": "103439",
    "end": "105439"
  },
  {
    "text": "this special interest group",
    "start": "105439",
    "end": "108240"
  },
  {
    "start": "107000",
    "end": "213000"
  },
  {
    "text": "okay so let me start with a quick",
    "start": "108240",
    "end": "110079"
  },
  {
    "text": "overview of the auto scaling space in",
    "start": "110079",
    "end": "113119"
  },
  {
    "text": "kubernetes",
    "start": "113119",
    "end": "115439"
  },
  {
    "text": "there is",
    "start": "115439",
    "end": "116799"
  },
  {
    "text": "two dimensions here to consider",
    "start": "116799",
    "end": "120799"
  },
  {
    "text": "horizontal and vertical",
    "start": "120799",
    "end": "122880"
  },
  {
    "text": "and they are separated by two layers",
    "start": "122880",
    "end": "125200"
  },
  {
    "text": "pods and nodes or workload and cluster",
    "start": "125200",
    "end": "127360"
  },
  {
    "text": "of scheme so hpa scales in and out i",
    "start": "127360",
    "end": "129679"
  },
  {
    "text": "mentioned already it makes more or fewer",
    "start": "129679",
    "end": "131360"
  },
  {
    "text": "pods",
    "start": "131360",
    "end": "132319"
  },
  {
    "text": "based on metrics that you predefine",
    "start": "132319",
    "end": "134879"
  },
  {
    "text": "you can scale on more than one metric if",
    "start": "134879",
    "end": "136720"
  },
  {
    "text": "you want for example cpu utilization",
    "start": "136720",
    "end": "139280"
  },
  {
    "text": "maybe some",
    "start": "139280",
    "end": "140879"
  },
  {
    "text": "pub sub uh queue length or something",
    "start": "140879",
    "end": "144959"
  },
  {
    "text": "vertical pod auto scaling um",
    "start": "144959",
    "end": "147599"
  },
  {
    "text": "is for",
    "start": "147599",
    "end": "148720"
  },
  {
    "text": "those workloads which don't necessarily",
    "start": "148720",
    "end": "151040"
  },
  {
    "text": "scale horizontally as well or maybe you",
    "start": "151040",
    "end": "152959"
  },
  {
    "text": "would prefer to give more or fewer",
    "start": "152959",
    "end": "154959"
  },
  {
    "text": "resources to a pod to adjust for usage",
    "start": "154959",
    "end": "157920"
  },
  {
    "text": "or maybe",
    "start": "157920",
    "end": "159120"
  },
  {
    "text": "you just don't know what to request",
    "start": "159120",
    "end": "161680"
  },
  {
    "text": "vpa can actually give you",
    "start": "161680",
    "end": "164800"
  },
  {
    "text": "recommendations in a read-only mode",
    "start": "164800",
    "end": "167360"
  },
  {
    "text": "or you can tell it to just go full",
    "start": "167360",
    "end": "169360"
  },
  {
    "text": "automatic",
    "start": "169360",
    "end": "170400"
  },
  {
    "text": "and resize your pods for you",
    "start": "170400",
    "end": "173040"
  },
  {
    "text": "cluster auto scaler has the same kinds",
    "start": "173040",
    "end": "175440"
  },
  {
    "text": "of auto scan in and out making more or",
    "start": "175440",
    "end": "178159"
  },
  {
    "text": "fewer",
    "start": "178159",
    "end": "179120"
  },
  {
    "text": "nodes in any",
    "start": "179120",
    "end": "182000"
  },
  {
    "text": "of the node pools that are configured",
    "start": "182000",
    "end": "184560"
  },
  {
    "text": "uh vertical auto scaling in cluster auto",
    "start": "184560",
    "end": "187519"
  },
  {
    "text": "scaler is more about selecting the right",
    "start": "187519",
    "end": "189840"
  },
  {
    "text": "node pool so it sees you have a pod",
    "start": "189840",
    "end": "192239"
  },
  {
    "text": "where do i want to put that it knows not",
    "start": "192239",
    "end": "194080"
  },
  {
    "text": "to scale out a small",
    "start": "194080",
    "end": "197200"
  },
  {
    "text": "vm size it needs to scale out one that's",
    "start": "197200",
    "end": "200159"
  },
  {
    "text": "big enough for the pot",
    "start": "200159",
    "end": "201680"
  },
  {
    "text": "so",
    "start": "201680",
    "end": "202640"
  },
  {
    "text": "um there's a aspect of vertical auto",
    "start": "202640",
    "end": "204640"
  },
  {
    "text": "scaling",
    "start": "204640",
    "end": "206000"
  },
  {
    "text": "in cluster auto scaler",
    "start": "206000",
    "end": "208319"
  },
  {
    "text": "so i'm going to walk you through kind of",
    "start": "208319",
    "end": "210080"
  },
  {
    "text": "a quick",
    "start": "210080",
    "end": "211040"
  },
  {
    "text": "example cluster what it might look like",
    "start": "211040",
    "end": "214480"
  },
  {
    "start": "213000",
    "end": "657000"
  },
  {
    "text": "when you have these auto scaling systems",
    "start": "214480",
    "end": "216879"
  },
  {
    "text": "engaged so there's two workloads here",
    "start": "216879",
    "end": "219840"
  },
  {
    "text": "one of them is",
    "start": "219840",
    "end": "221120"
  },
  {
    "text": "blue workload",
    "start": "221120",
    "end": "222879"
  },
  {
    "text": "which is configured to scale",
    "start": "222879",
    "end": "224840"
  },
  {
    "text": "um horizontally and there's a purple",
    "start": "224840",
    "end": "228159"
  },
  {
    "text": "workload which is also configured to",
    "start": "228159",
    "end": "230000"
  },
  {
    "text": "scale horizontally and vertically maybe",
    "start": "230000",
    "end": "233280"
  },
  {
    "text": "vertically on memory horizontally on cpu",
    "start": "233280",
    "end": "235840"
  },
  {
    "text": "or something like that",
    "start": "235840",
    "end": "237760"
  },
  {
    "text": "side note it's not a good idea to scale",
    "start": "237760",
    "end": "239760"
  },
  {
    "text": "horizontally and vertically on the same",
    "start": "239760",
    "end": "241840"
  },
  {
    "text": "metric because you'll have two systems",
    "start": "241840",
    "end": "244080"
  },
  {
    "text": "trying to optimize the same",
    "start": "244080",
    "end": "245920"
  },
  {
    "text": "uh the same value and it just",
    "start": "245920",
    "end": "248560"
  },
  {
    "text": "they can have undefined behavior",
    "start": "248560",
    "end": "251200"
  },
  {
    "text": "i'm also going to show you how cluster",
    "start": "251200",
    "end": "253040"
  },
  {
    "text": "auto scaler sort of adds capacity and",
    "start": "253040",
    "end": "256160"
  },
  {
    "text": "brings it back in which is actually a",
    "start": "256160",
    "end": "257759"
  },
  {
    "text": "really important part",
    "start": "257759",
    "end": "259840"
  },
  {
    "text": "so let's suppose that you get some extra",
    "start": "259840",
    "end": "262320"
  },
  {
    "text": "traffic for this blue service so the hpa",
    "start": "262320",
    "end": "264960"
  },
  {
    "text": "sees that you are consuming",
    "start": "264960",
    "end": "268080"
  },
  {
    "text": "slightly above the target average maybe",
    "start": "268080",
    "end": "270400"
  },
  {
    "text": "like you know you're shooting for 60 and",
    "start": "270400",
    "end": "273120"
  },
  {
    "text": "you're up at 75 80 cpu",
    "start": "273120",
    "end": "276479"
  },
  {
    "text": "so it figures out how many more pods you",
    "start": "276479",
    "end": "278720"
  },
  {
    "text": "would need",
    "start": "278720",
    "end": "280240"
  },
  {
    "text": "it in order to bring that back down to",
    "start": "280240",
    "end": "282160"
  },
  {
    "text": "your target assuming that all the pods",
    "start": "282160",
    "end": "284479"
  },
  {
    "text": "pretty much do the same thing",
    "start": "284479",
    "end": "286400"
  },
  {
    "text": "and so it's it turns around and",
    "start": "286400",
    "end": "289440"
  },
  {
    "text": "increases the desired replicas",
    "start": "289440",
    "end": "292560"
  },
  {
    "text": "the way that it actuates this is by",
    "start": "292560",
    "end": "294560"
  },
  {
    "text": "updating the scale sub-resource of the",
    "start": "294560",
    "end": "296560"
  },
  {
    "text": "target so you can point hpa actually to",
    "start": "296560",
    "end": "299600"
  },
  {
    "text": "anything that implements the scale",
    "start": "299600",
    "end": "301120"
  },
  {
    "text": "sub-resource which includes of course",
    "start": "301120",
    "end": "302880"
  },
  {
    "text": "deployments and replica sets",
    "start": "302880",
    "end": "305280"
  },
  {
    "text": "but you can even",
    "start": "305280",
    "end": "306880"
  },
  {
    "text": "point it at",
    "start": "306880",
    "end": "308080"
  },
  {
    "text": "custom resource definitions crds as long",
    "start": "308080",
    "end": "310720"
  },
  {
    "text": "as you implement the scale sub-resource",
    "start": "310720",
    "end": "312320"
  },
  {
    "text": "hpa can scale it there are some",
    "start": "312320",
    "end": "314320"
  },
  {
    "text": "conventions you should follow like give",
    "start": "314320",
    "end": "317120"
  },
  {
    "text": "the correct label selector to the pods",
    "start": "317120",
    "end": "319039"
  },
  {
    "text": "that you create",
    "start": "319039",
    "end": "320560"
  },
  {
    "text": "but it's pretty flexible in that respect",
    "start": "320560",
    "end": "323360"
  },
  {
    "text": "so anyway",
    "start": "323360",
    "end": "324639"
  },
  {
    "text": "um hpe doesn't create the pods itself",
    "start": "324639",
    "end": "326720"
  },
  {
    "text": "but it does tell this uh the underlying",
    "start": "326720",
    "end": "329199"
  },
  {
    "text": "system to create more",
    "start": "329199",
    "end": "330720"
  },
  {
    "text": "so the blue service scales out",
    "start": "330720",
    "end": "332240"
  },
  {
    "text": "deployment scales up replica scales up",
    "start": "332240",
    "end": "334560"
  },
  {
    "text": "pods are created they get scheduled",
    "start": "334560",
    "end": "336560"
  },
  {
    "text": "under this node that has capacity",
    "start": "336560",
    "end": "338960"
  },
  {
    "text": "right pretty pretty normal",
    "start": "338960",
    "end": "341199"
  },
  {
    "text": "so suppose that",
    "start": "341199",
    "end": "342639"
  },
  {
    "text": "that the purple service i also get some",
    "start": "342639",
    "end": "344560"
  },
  {
    "text": "traffic",
    "start": "344560",
    "end": "345680"
  },
  {
    "text": "and it scales up too",
    "start": "345680",
    "end": "347360"
  },
  {
    "text": "as you can see there's not enough room",
    "start": "347360",
    "end": "348720"
  },
  {
    "text": "for that purple pod on that third node",
    "start": "348720",
    "end": "351360"
  },
  {
    "text": "there so it actually gets",
    "start": "351360",
    "end": "353759"
  },
  {
    "text": "created unschedulable",
    "start": "353759",
    "end": "356240"
  },
  {
    "text": "and this is this first signal that",
    "start": "356240",
    "end": "358000"
  },
  {
    "text": "clustering autoscaler responds to uh",
    "start": "358000",
    "end": "361039"
  },
  {
    "text": "cluster autoscaler is going to see this",
    "start": "361039",
    "end": "362919"
  },
  {
    "text": "unscheduleable pod and it's actually",
    "start": "362919",
    "end": "365199"
  },
  {
    "text": "going to create a new node to put it",
    "start": "365199",
    "end": "367280"
  },
  {
    "text": "there",
    "start": "367280",
    "end": "368160"
  },
  {
    "text": "so you can see it's just got this flat",
    "start": "368160",
    "end": "370080"
  },
  {
    "text": "node pool here just made another node",
    "start": "370080",
    "end": "372000"
  },
  {
    "text": "like the others just by scaling up the",
    "start": "372000",
    "end": "374000"
  },
  {
    "text": "underlying resource",
    "start": "374000",
    "end": "375759"
  },
  {
    "text": "um the the vm",
    "start": "375759",
    "end": "378800"
  },
  {
    "text": "management system",
    "start": "378800",
    "end": "380400"
  },
  {
    "text": "and",
    "start": "380400",
    "end": "381440"
  },
  {
    "text": "this pod immediately gets scheduled",
    "start": "381440",
    "end": "383280"
  },
  {
    "text": "that's great everything's happy",
    "start": "383280",
    "end": "385680"
  },
  {
    "text": "um",
    "start": "385680",
    "end": "387199"
  },
  {
    "text": "now let's say that vpa kicks in now vpa",
    "start": "387199",
    "end": "390400"
  },
  {
    "text": "is a little bit slower running than hpa",
    "start": "390400",
    "end": "393199"
  },
  {
    "text": "it spends its time looking at the usage",
    "start": "393199",
    "end": "396080"
  },
  {
    "text": "over time and building a histogram",
    "start": "396080",
    "end": "398160"
  },
  {
    "text": "histogram",
    "start": "398160",
    "end": "399360"
  },
  {
    "text": "in it and it picks a conservative place",
    "start": "399360",
    "end": "401759"
  },
  {
    "text": "of what it thinks you probably need",
    "start": "401759",
    "end": "403680"
  },
  {
    "text": "based on like uh historical usage and it",
    "start": "403680",
    "end": "407360"
  },
  {
    "text": "vpn has decided that the purple server",
    "start": "407360",
    "end": "409680"
  },
  {
    "text": "is",
    "start": "409680",
    "end": "410319"
  },
  {
    "text": "way over provisioned on memory",
    "start": "410319",
    "end": "412800"
  },
  {
    "text": "so it is recommending a much smaller",
    "start": "412800",
    "end": "415759"
  },
  {
    "text": "size so the vpa is actually kind of",
    "start": "415759",
    "end": "417840"
  },
  {
    "text": "divided into three different",
    "start": "417840",
    "end": "419759"
  },
  {
    "text": "systems one is the recommender which is",
    "start": "419759",
    "end": "421680"
  },
  {
    "text": "just responsible for this observation",
    "start": "421680",
    "end": "424400"
  },
  {
    "text": "and recording its recommendation",
    "start": "424400",
    "end": "426400"
  },
  {
    "text": "then there's an updater system and the",
    "start": "426400",
    "end": "427919"
  },
  {
    "text": "updater is actually an active process",
    "start": "427919",
    "end": "430479"
  },
  {
    "text": "that just looks for",
    "start": "430479",
    "end": "432160"
  },
  {
    "text": "pods",
    "start": "432160",
    "end": "433280"
  },
  {
    "text": "that are not matching their",
    "start": "433280",
    "end": "435280"
  },
  {
    "text": "recommended resource consumption",
    "start": "435280",
    "end": "437599"
  },
  {
    "text": "and the update is responsible for going",
    "start": "437599",
    "end": "439440"
  },
  {
    "text": "through and deleting those pots",
    "start": "439440",
    "end": "441840"
  },
  {
    "text": "so the one of the most important aspects",
    "start": "441840",
    "end": "444319"
  },
  {
    "text": "of the vpa updater is it doesn't delete",
    "start": "444319",
    "end": "446319"
  },
  {
    "text": "them all at once it's very careful to",
    "start": "446319",
    "end": "447919"
  },
  {
    "text": "delete them and try to respect some",
    "start": "447919",
    "end": "450080"
  },
  {
    "text": "reasonable limits",
    "start": "450080",
    "end": "451759"
  },
  {
    "text": "so it deletes a pod not all of them just",
    "start": "451759",
    "end": "453759"
  },
  {
    "text": "one of them",
    "start": "453759",
    "end": "454720"
  },
  {
    "text": "uh with the expectation that it will get",
    "start": "454720",
    "end": "456479"
  },
  {
    "text": "recreated which is how kubernetes works",
    "start": "456479",
    "end": "458560"
  },
  {
    "text": "and when it gets recreated there's",
    "start": "458560",
    "end": "460160"
  },
  {
    "text": "another system the third system is an",
    "start": "460160",
    "end": "462639"
  },
  {
    "text": "admission controller that actually",
    "start": "462639",
    "end": "464879"
  },
  {
    "text": "rewrites the pod resource requests for",
    "start": "464879",
    "end": "468560"
  },
  {
    "text": "that purple pod to make it smaller",
    "start": "468560",
    "end": "472080"
  },
  {
    "text": "and so it gets scheduled at the correct",
    "start": "472080",
    "end": "473680"
  },
  {
    "text": "size",
    "start": "473680",
    "end": "475280"
  },
  {
    "text": "um and that is basically how vpa",
    "start": "475280",
    "end": "477919"
  },
  {
    "text": "actuation works so the same thing's",
    "start": "477919",
    "end": "479919"
  },
  {
    "text": "going to happen to the other one the",
    "start": "479919",
    "end": "481199"
  },
  {
    "text": "updater is just going to kind of keep",
    "start": "481199",
    "end": "482479"
  },
  {
    "text": "moving along it gets deleted boom",
    "start": "482479",
    "end": "484879"
  },
  {
    "text": "rescheduled it actually fits really",
    "start": "484879",
    "end": "486560"
  },
  {
    "text": "nicely inside this second node here so",
    "start": "486560",
    "end": "488960"
  },
  {
    "text": "you notice we ended up with the",
    "start": "488960",
    "end": "491039"
  },
  {
    "text": "unused node",
    "start": "491039",
    "end": "492560"
  },
  {
    "text": "which is um",
    "start": "492560",
    "end": "494000"
  },
  {
    "text": "which is great actually because uh the",
    "start": "494000",
    "end": "496400"
  },
  {
    "text": "cluster auto scaler will then it",
    "start": "496400",
    "end": "498479"
  },
  {
    "text": "periodically scans the cluster it'll see",
    "start": "498479",
    "end": "500240"
  },
  {
    "text": "that this node is empty and it'll be",
    "start": "500240",
    "end": "502400"
  },
  {
    "text": "like delete it",
    "start": "502400",
    "end": "504479"
  },
  {
    "text": "and then our cluster scales in",
    "start": "504479",
    "end": "506800"
  },
  {
    "text": "all right suppose that um",
    "start": "506800",
    "end": "509120"
  },
  {
    "text": "now the day's over traffic is going to",
    "start": "509120",
    "end": "511039"
  },
  {
    "text": "go down blue service gets less traffic",
    "start": "511039",
    "end": "513839"
  },
  {
    "text": "hpa notices that this target utilization",
    "start": "513839",
    "end": "516560"
  },
  {
    "text": "is lower than the target",
    "start": "516560",
    "end": "519200"
  },
  {
    "text": "so we're not using as much cpu as we",
    "start": "519200",
    "end": "521200"
  },
  {
    "text": "would like to on average so",
    "start": "521200",
    "end": "523440"
  },
  {
    "text": "it will again figure out how many pods",
    "start": "523440",
    "end": "525519"
  },
  {
    "text": "it's going to need to hit the target",
    "start": "525519",
    "end": "527760"
  },
  {
    "text": "and adjust accordingly it scales down by",
    "start": "527760",
    "end": "531200"
  },
  {
    "text": "three pods",
    "start": "531200",
    "end": "532560"
  },
  {
    "text": "and then the underlying deployment a",
    "start": "532560",
    "end": "533920"
  },
  {
    "text": "replica set deletes three parts",
    "start": "533920",
    "end": "536640"
  },
  {
    "text": "so there they go",
    "start": "536640",
    "end": "537920"
  },
  {
    "text": "and you're back on target um",
    "start": "537920",
    "end": "540959"
  },
  {
    "text": "yeah so that leaves that lecture leaves",
    "start": "540959",
    "end": "542640"
  },
  {
    "text": "um",
    "start": "542640",
    "end": "544080"
  },
  {
    "text": "uh one pod on this node and you can see",
    "start": "544080",
    "end": "546959"
  },
  {
    "text": "it's pretty obvious to you that as a",
    "start": "546959",
    "end": "548800"
  },
  {
    "text": "human that you can see this room on that",
    "start": "548800",
    "end": "551279"
  },
  {
    "text": "third node there",
    "start": "551279",
    "end": "552959"
  },
  {
    "text": "so cluster auto scaler is actually going",
    "start": "552959",
    "end": "555200"
  },
  {
    "text": "to kick in after a while and do",
    "start": "555200",
    "end": "558240"
  },
  {
    "text": "some consolidation defragging",
    "start": "558240",
    "end": "561120"
  },
  {
    "text": "and it's going to delete the pod that's",
    "start": "561120",
    "end": "563200"
  },
  {
    "text": "it's first thing it does is it actually",
    "start": "563200",
    "end": "565680"
  },
  {
    "text": "taints this node that it wants to",
    "start": "565680",
    "end": "568240"
  },
  {
    "text": "get rid of",
    "start": "568240",
    "end": "569920"
  },
  {
    "text": "to make sure nothing shows up and",
    "start": "569920",
    "end": "571279"
  },
  {
    "text": "nothing new shows up there and then it",
    "start": "571279",
    "end": "573360"
  },
  {
    "text": "it evicts the pod it deletes the pod pod",
    "start": "573360",
    "end": "576320"
  },
  {
    "text": "gets",
    "start": "576320",
    "end": "577279"
  },
  {
    "text": "goes away and comes back as usual it",
    "start": "577279",
    "end": "579519"
  },
  {
    "text": "gets rescheduled where it can which is",
    "start": "579519",
    "end": "581360"
  },
  {
    "text": "on that third node so now again we have",
    "start": "581360",
    "end": "583839"
  },
  {
    "text": "this node that is",
    "start": "583839",
    "end": "586080"
  },
  {
    "text": "empty",
    "start": "586080",
    "end": "587040"
  },
  {
    "text": "and cluster autoscaler",
    "start": "587040",
    "end": "589040"
  },
  {
    "text": "can delete it",
    "start": "589040",
    "end": "590399"
  },
  {
    "text": "and then we get this final state so you",
    "start": "590399",
    "end": "592000"
  },
  {
    "text": "can kind of see how both of these",
    "start": "592000",
    "end": "593760"
  },
  {
    "text": "systems scale in",
    "start": "593760",
    "end": "595360"
  },
  {
    "text": "and out",
    "start": "595360",
    "end": "596880"
  },
  {
    "text": "i didn't show you multiple node pools",
    "start": "596880",
    "end": "598399"
  },
  {
    "text": "but cluster auto scaler is capable of",
    "start": "598399",
    "end": "600240"
  },
  {
    "text": "selecting from different sizes of nodes",
    "start": "600240",
    "end": "603519"
  },
  {
    "text": "and you can kind of see how",
    "start": "603519",
    "end": "606800"
  },
  {
    "text": "how",
    "start": "606800",
    "end": "608480"
  },
  {
    "text": "they interact with each other cluster",
    "start": "608480",
    "end": "610480"
  },
  {
    "text": "auto scaler only responds to unscheduled",
    "start": "610480",
    "end": "613279"
  },
  {
    "text": "pots it's not concerning itself with",
    "start": "613279",
    "end": "615360"
  },
  {
    "text": "utilization and all the metrics all the",
    "start": "615360",
    "end": "617519"
  },
  {
    "text": "custom things you could do for hpa",
    "start": "617519",
    "end": "619839"
  },
  {
    "text": "or the histogram of usage like vpa it's",
    "start": "619839",
    "end": "622640"
  },
  {
    "text": "just thinking about putting giving every",
    "start": "622640",
    "end": "625600"
  },
  {
    "text": "pod a home",
    "start": "625600",
    "end": "627200"
  },
  {
    "text": "and",
    "start": "627200",
    "end": "628399"
  },
  {
    "text": "defragging and removing unused nuts",
    "start": "628399",
    "end": "632320"
  },
  {
    "text": "so",
    "start": "632320",
    "end": "633200"
  },
  {
    "text": "that's essentially",
    "start": "633200",
    "end": "634720"
  },
  {
    "text": "kubernetes auto scaling in a nutshell",
    "start": "634720",
    "end": "637200"
  },
  {
    "text": "now if there was a cluster proportional",
    "start": "637200",
    "end": "639360"
  },
  {
    "text": "auto scaler here um it would be creating",
    "start": "639360",
    "end": "642880"
  },
  {
    "text": "more pods when there are more nodes and",
    "start": "642880",
    "end": "645680"
  },
  {
    "text": "fewer pods when there are fewer nodes",
    "start": "645680",
    "end": "647760"
  },
  {
    "text": "just very very very simple algorithm",
    "start": "647760",
    "end": "649519"
  },
  {
    "text": "it's used for system components because",
    "start": "649519",
    "end": "651680"
  },
  {
    "text": "it is so simple it's it's you know sort",
    "start": "651680",
    "end": "653839"
  },
  {
    "text": "of a baseline",
    "start": "653839",
    "end": "656000"
  },
  {
    "text": "okay so",
    "start": "656000",
    "end": "657360"
  },
  {
    "start": "657000",
    "end": "1019000"
  },
  {
    "text": "let me take a few minutes and talk a",
    "start": "657360",
    "end": "658800"
  },
  {
    "text": "little bit about some",
    "start": "658800",
    "end": "661040"
  },
  {
    "text": "upcoming features",
    "start": "661040",
    "end": "662720"
  },
  {
    "text": "so",
    "start": "662720",
    "end": "663839"
  },
  {
    "text": "uh hpa has actually been around for a",
    "start": "663839",
    "end": "666480"
  },
  {
    "text": "long time",
    "start": "666480",
    "end": "667680"
  },
  {
    "text": "it's uh the first version of hba hba v1",
    "start": "667680",
    "end": "671279"
  },
  {
    "text": "auto scaled only on",
    "start": "671279",
    "end": "673680"
  },
  {
    "text": "cpu utilization which is what most",
    "start": "673680",
    "end": "676320"
  },
  {
    "text": "people use it's the easiest thing to use",
    "start": "676320",
    "end": "678480"
  },
  {
    "text": "it changes quickly it's compressible",
    "start": "678480",
    "end": "682160"
  },
  {
    "text": "you know already what the what your",
    "start": "682160",
    "end": "685600"
  },
  {
    "text": "how much you have",
    "start": "685600",
    "end": "687040"
  },
  {
    "text": "so it's easy to configure right you",
    "start": "687040",
    "end": "688800"
  },
  {
    "text": "could just give it a percentage or a",
    "start": "688800",
    "end": "690640"
  },
  {
    "text": "utilization target",
    "start": "690640",
    "end": "692720"
  },
  {
    "text": "and you already know what the capacity",
    "start": "692720",
    "end": "694079"
  },
  {
    "text": "is because you know what your resource",
    "start": "694079",
    "end": "695360"
  },
  {
    "text": "request is",
    "start": "695360",
    "end": "697040"
  },
  {
    "text": "so it's it's a really great choice but",
    "start": "697040",
    "end": "699120"
  },
  {
    "text": "it's not sufficient to cover every use",
    "start": "699120",
    "end": "700959"
  },
  {
    "text": "case so hpa v2 started with v2 beta 1",
    "start": "700959",
    "end": "705519"
  },
  {
    "text": "and there is a v2 beta 2 with slightly",
    "start": "705519",
    "end": "708079"
  },
  {
    "text": "different structure",
    "start": "708079",
    "end": "709680"
  },
  {
    "text": "both of them are roughly equivalent",
    "start": "709680",
    "end": "713120"
  },
  {
    "text": "that was created in order to provide",
    "start": "713120",
    "end": "715920"
  },
  {
    "text": "multiple metrics and custom metrics",
    "start": "715920",
    "end": "719279"
  },
  {
    "text": "so the structure of the hpa changed a",
    "start": "719279",
    "end": "721760"
  },
  {
    "text": "little bit inside spec",
    "start": "721760",
    "end": "724880"
  },
  {
    "text": "in the hpa object there's",
    "start": "724880",
    "end": "727279"
  },
  {
    "text": "a metrics",
    "start": "727279",
    "end": "729360"
  },
  {
    "text": "field and the metrics is a list",
    "start": "729360",
    "end": "731839"
  },
  {
    "text": "and it's a list of all the metrics you",
    "start": "731839",
    "end": "733760"
  },
  {
    "text": "want to auto scale on",
    "start": "733760",
    "end": "735920"
  },
  {
    "text": "and the algorithm",
    "start": "735920",
    "end": "737839"
  },
  {
    "text": "will actually the hpa algorithm will",
    "start": "737839",
    "end": "740480"
  },
  {
    "text": "compute a recommendation for each one of",
    "start": "740480",
    "end": "742959"
  },
  {
    "text": "those metrics completely independently",
    "start": "742959",
    "end": "745519"
  },
  {
    "text": "okay say okay so cpu says probably we",
    "start": "745519",
    "end": "748160"
  },
  {
    "text": "need seven",
    "start": "748160",
    "end": "749760"
  },
  {
    "text": "your",
    "start": "749760",
    "end": "750720"
  },
  {
    "text": "custom",
    "start": "750720",
    "end": "751839"
  },
  {
    "text": "metric says we need three",
    "start": "751839",
    "end": "754399"
  },
  {
    "text": "and your other custom metric or memory",
    "start": "754399",
    "end": "756959"
  },
  {
    "text": "or whatever says you probably need you",
    "start": "756959",
    "end": "759600"
  },
  {
    "text": "know 10.",
    "start": "759600",
    "end": "761519"
  },
  {
    "text": "and then it will select the maximum from",
    "start": "761519",
    "end": "764639"
  },
  {
    "text": "those it's sort of",
    "start": "764639",
    "end": "766880"
  },
  {
    "text": "optimized for safety you know to give",
    "start": "766880",
    "end": "769040"
  },
  {
    "text": "you enough capacity",
    "start": "769040",
    "end": "770720"
  },
  {
    "text": "and it selects the maximum which would",
    "start": "770720",
    "end": "772959"
  },
  {
    "text": "be that that 10",
    "start": "772959",
    "end": "775680"
  },
  {
    "text": "recommendation",
    "start": "775680",
    "end": "777760"
  },
  {
    "text": "and then it goes into a phase where it",
    "start": "777760",
    "end": "779600"
  },
  {
    "text": "actually applies some",
    "start": "779600",
    "end": "781519"
  },
  {
    "text": "limitations so it limits you to a min",
    "start": "781519",
    "end": "784320"
  },
  {
    "text": "and a max right you can configure min",
    "start": "784320",
    "end": "786320"
  },
  {
    "text": "and max in the hpa",
    "start": "786320",
    "end": "789600"
  },
  {
    "text": "and you can also configure",
    "start": "789600",
    "end": "792480"
  },
  {
    "text": "now",
    "start": "792480",
    "end": "793920"
  },
  {
    "text": "how long you want to wait to scale up or",
    "start": "793920",
    "end": "796800"
  },
  {
    "text": "scale down",
    "start": "796800",
    "end": "798000"
  },
  {
    "text": "and also what rate limit you want to",
    "start": "798000",
    "end": "800320"
  },
  {
    "text": "apply so let me give you an example uh",
    "start": "800320",
    "end": "803040"
  },
  {
    "text": "hpa v1 has um",
    "start": "803040",
    "end": "805519"
  },
  {
    "text": "an algorithm called scale down",
    "start": "805519",
    "end": "807040"
  },
  {
    "text": "stabilization",
    "start": "807040",
    "end": "808560"
  },
  {
    "text": "and",
    "start": "808560",
    "end": "809680"
  },
  {
    "text": "um you want hpa to be responsive right",
    "start": "809680",
    "end": "812639"
  },
  {
    "text": "traffic comes in cpu goes up you really",
    "start": "812639",
    "end": "814800"
  },
  {
    "text": "want to give it capacity as quickly as",
    "start": "814800",
    "end": "816560"
  },
  {
    "text": "possible it's sort of optimized for",
    "start": "816560",
    "end": "819120"
  },
  {
    "text": "services",
    "start": "819120",
    "end": "820639"
  },
  {
    "text": "uh not necessarily for patch",
    "start": "820639",
    "end": "823360"
  },
  {
    "text": "um and i'll get to that in just a minute",
    "start": "823360",
    "end": "825360"
  },
  {
    "text": "so you want to be able to scale up right",
    "start": "825360",
    "end": "827360"
  },
  {
    "text": "away so you want to react quickly so you",
    "start": "827360",
    "end": "828880"
  },
  {
    "text": "see that you see the the recommendation",
    "start": "828880",
    "end": "830639"
  },
  {
    "text": "go up you go up immediately",
    "start": "830639",
    "end": "832639"
  },
  {
    "text": "but you also don't want to flap because",
    "start": "832639",
    "end": "834399"
  },
  {
    "text": "the metrics they kind of they kind of go",
    "start": "834399",
    "end": "836240"
  },
  {
    "text": "up and down right you don't want to keep",
    "start": "836240",
    "end": "838160"
  },
  {
    "text": "creating and deleting pods because it",
    "start": "838160",
    "end": "840399"
  },
  {
    "text": "creates a lot of churn so",
    "start": "840399",
    "end": "843199"
  },
  {
    "text": "in order to prevent that churn there's a",
    "start": "843199",
    "end": "845839"
  },
  {
    "text": "stabilization period during which um",
    "start": "845839",
    "end": "849600"
  },
  {
    "text": "the maximum recommendation for a period",
    "start": "849600",
    "end": "852399"
  },
  {
    "text": "is selected",
    "start": "852399",
    "end": "854320"
  },
  {
    "text": "so you have to wait you know and and be",
    "start": "854320",
    "end": "856720"
  },
  {
    "text": "sure that you want to scale down the",
    "start": "856720",
    "end": "858800"
  },
  {
    "text": "default is five minutes",
    "start": "858800",
    "end": "860880"
  },
  {
    "text": "so for example if i sort of go up and i",
    "start": "860880",
    "end": "863760"
  },
  {
    "text": "kind of wiggle around and then come back",
    "start": "863760",
    "end": "865279"
  },
  {
    "text": "down again",
    "start": "865279",
    "end": "866720"
  },
  {
    "text": "i'm not going to the hp is not going to",
    "start": "866720",
    "end": "869120"
  },
  {
    "text": "scale down until five minutes afterwards",
    "start": "869120",
    "end": "871680"
  },
  {
    "text": "it'll just sort of say look look over",
    "start": "871680",
    "end": "873199"
  },
  {
    "text": "the last five minutes and select the",
    "start": "873199",
    "end": "874639"
  },
  {
    "text": "maximum recommendation for that period",
    "start": "874639",
    "end": "876399"
  },
  {
    "text": "of time",
    "start": "876399",
    "end": "877760"
  },
  {
    "text": "so",
    "start": "877760",
    "end": "878560"
  },
  {
    "text": "this is really actually a really great",
    "start": "878560",
    "end": "880160"
  },
  {
    "text": "algorithm for most use cases but again",
    "start": "880160",
    "end": "883120"
  },
  {
    "text": "it's not sufficient for all so",
    "start": "883120",
    "end": "885680"
  },
  {
    "text": "in hpa v2 there's a new feature added",
    "start": "885680",
    "end": "888399"
  },
  {
    "text": "called behavior",
    "start": "888399",
    "end": "890399"
  },
  {
    "text": "so also in spec there's a behavior field",
    "start": "890399",
    "end": "893600"
  },
  {
    "text": "and the behavior you can configure",
    "start": "893600",
    "end": "895839"
  },
  {
    "text": "symmetrically",
    "start": "895839",
    "end": "897519"
  },
  {
    "text": "scale up and scale it down",
    "start": "897519",
    "end": "900160"
  },
  {
    "text": "configurations that includes the",
    "start": "900160",
    "end": "902079"
  },
  {
    "text": "stabilization period the default of",
    "start": "902079",
    "end": "904160"
  },
  {
    "text": "course is scaled down five minutes",
    "start": "904160",
    "end": "906880"
  },
  {
    "text": "the default limits for scaling up is",
    "start": "906880",
    "end": "909360"
  },
  {
    "text": "actually a rate which is",
    "start": "909360",
    "end": "912079"
  },
  {
    "text": "the maximum of either four pods or two",
    "start": "912079",
    "end": "915279"
  },
  {
    "text": "times so if there's a real quick spike",
    "start": "915279",
    "end": "918000"
  },
  {
    "text": "in the metrics it wants to be sure not",
    "start": "918000",
    "end": "920320"
  },
  {
    "text": "to overreact so it has some defaults",
    "start": "920320",
    "end": "922480"
  },
  {
    "text": "that were previously hard coded in the",
    "start": "922480",
    "end": "924399"
  },
  {
    "text": "hpa or you could configure those now",
    "start": "924399",
    "end": "928480"
  },
  {
    "text": "likewise you can actually configure a",
    "start": "928480",
    "end": "930160"
  },
  {
    "text": "scale up delay if you want",
    "start": "930160",
    "end": "932880"
  },
  {
    "text": "an example use case might be if you're",
    "start": "932880",
    "end": "934800"
  },
  {
    "text": "processing batch work off of a",
    "start": "934800",
    "end": "937360"
  },
  {
    "text": "pub sub queue",
    "start": "937360",
    "end": "939040"
  },
  {
    "text": "and maybe you have like two or three",
    "start": "939040",
    "end": "941440"
  },
  {
    "text": "pods and you get a whole bunch of",
    "start": "941440",
    "end": "943920"
  },
  {
    "text": "messages all at once",
    "start": "943920",
    "end": "945839"
  },
  {
    "text": "um",
    "start": "945839",
    "end": "947199"
  },
  {
    "text": "you might want to actually just in order",
    "start": "947199",
    "end": "949040"
  },
  {
    "text": "to make sure you make good use of your",
    "start": "949040",
    "end": "950959"
  },
  {
    "text": "resources you might actually want to",
    "start": "950959",
    "end": "952880"
  },
  {
    "text": "wait and see how many of those pods that",
    "start": "952880",
    "end": "956240"
  },
  {
    "text": "you have can get through before you",
    "start": "956240",
    "end": "958240"
  },
  {
    "text": "scale up",
    "start": "958240",
    "end": "960079"
  },
  {
    "text": "this was sort of the canonical use case",
    "start": "960079",
    "end": "962399"
  },
  {
    "text": "used",
    "start": "962399",
    "end": "963680"
  },
  {
    "text": "for that cap",
    "start": "963680",
    "end": "965519"
  },
  {
    "text": "and",
    "start": "965519",
    "end": "967040"
  },
  {
    "text": "so maybe your pod two pods can handle",
    "start": "967040",
    "end": "969440"
  },
  {
    "text": "all hundred of those messages even",
    "start": "969440",
    "end": "971120"
  },
  {
    "text": "though you like are wanting if you're",
    "start": "971120",
    "end": "972959"
  },
  {
    "text": "sort of at a at a higher rate maybe you",
    "start": "972959",
    "end": "975199"
  },
  {
    "text": "you know that um",
    "start": "975199",
    "end": "976959"
  },
  {
    "text": "they need to be having fewer per pod so",
    "start": "976959",
    "end": "980320"
  },
  {
    "text": "scale up stabilization is is a good",
    "start": "980320",
    "end": "982720"
  },
  {
    "text": "thing to be able to configure and scale",
    "start": "982720",
    "end": "984880"
  },
  {
    "text": "down rate also i mean scale up rate is",
    "start": "984880",
    "end": "987040"
  },
  {
    "text": "kind of obvious because you don't want",
    "start": "987040",
    "end": "988240"
  },
  {
    "text": "to like overreact",
    "start": "988240",
    "end": "990480"
  },
  {
    "text": "but also scale down rate limits are",
    "start": "990480",
    "end": "993279"
  },
  {
    "text": "really useful",
    "start": "993279",
    "end": "994880"
  },
  {
    "text": "just to make sure that",
    "start": "994880",
    "end": "996720"
  },
  {
    "text": "you come down off of your",
    "start": "996720",
    "end": "999839"
  },
  {
    "text": "scaled down or the if the traffic drops",
    "start": "999839",
    "end": "1002480"
  },
  {
    "text": "you want to come down off of that sort",
    "start": "1002480",
    "end": "1003920"
  },
  {
    "text": "of",
    "start": "1003920",
    "end": "1004880"
  },
  {
    "text": "gradually maybe you",
    "start": "1004880",
    "end": "1007040"
  },
  {
    "text": "want to try to smooth out the the spikes",
    "start": "1007040",
    "end": "1010480"
  },
  {
    "text": "or maybe you want to make sure your",
    "start": "1010480",
    "end": "1011920"
  },
  {
    "text": "capacity is not going to be needed again",
    "start": "1011920",
    "end": "1014160"
  },
  {
    "text": "or maybe you just simply have",
    "start": "1014160",
    "end": "1015519"
  },
  {
    "text": "limitations on",
    "start": "1015519",
    "end": "1017279"
  },
  {
    "text": "how fast you can get rid of pods maybe",
    "start": "1017279",
    "end": "1019279"
  },
  {
    "start": "1019000",
    "end": "1425000"
  },
  {
    "text": "you have a database connection you don't",
    "start": "1019279",
    "end": "1020800"
  },
  {
    "text": "want to like overwhelm it with something",
    "start": "1020800",
    "end": "1023680"
  },
  {
    "text": "i don't know whatever",
    "start": "1023680",
    "end": "1025520"
  },
  {
    "text": "so",
    "start": "1025520",
    "end": "1026720"
  },
  {
    "text": "anyway hpa v2 um it's been around for a",
    "start": "1026720",
    "end": "1029918"
  },
  {
    "text": "long time in beta and we need to",
    "start": "1029919",
    "end": "1032079"
  },
  {
    "text": "graduate it to stable um so we've been",
    "start": "1032079",
    "end": "1034558"
  },
  {
    "text": "working on this for a little while",
    "start": "1034559",
    "end": "1036480"
  },
  {
    "text": "mostly just through just community",
    "start": "1036480",
    "end": "1038480"
  },
  {
    "text": "contributions a bunch of people have",
    "start": "1038480",
    "end": "1040319"
  },
  {
    "text": "chipped in",
    "start": "1040319",
    "end": "1041520"
  },
  {
    "text": "um",
    "start": "1041520",
    "end": "1042558"
  },
  {
    "text": "to create the cap",
    "start": "1042559",
    "end": "1044079"
  },
  {
    "text": "to create um end-to-end tests for the",
    "start": "1044079",
    "end": "1046959"
  },
  {
    "text": "new features",
    "start": "1046959",
    "end": "1048319"
  },
  {
    "text": "to fix a few bugs and um to create the",
    "start": "1048319",
    "end": "1051520"
  },
  {
    "text": "new api which is really exciting um it's",
    "start": "1051520",
    "end": "1054080"
  },
  {
    "text": "all it's it's getting along there and i",
    "start": "1054080",
    "end": "1056000"
  },
  {
    "text": "think it's like almost ready to commit",
    "start": "1056000",
    "end": "1057919"
  },
  {
    "text": "there's just a few more comments left on",
    "start": "1057919",
    "end": "1060240"
  },
  {
    "text": "it",
    "start": "1060240",
    "end": "1061120"
  },
  {
    "text": "and i think that'll be the first v2 api",
    "start": "1061120",
    "end": "1064240"
  },
  {
    "text": "for kubernetes which is cool as far as i",
    "start": "1064240",
    "end": "1066880"
  },
  {
    "text": "know correct me if i'm wrong",
    "start": "1066880",
    "end": "1069200"
  },
  {
    "text": "um",
    "start": "1069200",
    "end": "1070160"
  },
  {
    "text": "yeah so hpa v2 uh viewed one will stick",
    "start": "1070160",
    "end": "1073360"
  },
  {
    "text": "around for a while i mean like it's it's",
    "start": "1073360",
    "end": "1075840"
  },
  {
    "text": "ga v2 is gonna be there um with the next",
    "start": "1075840",
    "end": "1079760"
  },
  {
    "text": "release of kubernetes",
    "start": "1079760",
    "end": "1081919"
  },
  {
    "text": "and then we're going to start",
    "start": "1081919",
    "end": "1082720"
  },
  {
    "text": "deprecating the v",
    "start": "1082720",
    "end": "1084720"
  },
  {
    "text": "2 beta versions",
    "start": "1084720",
    "end": "1087679"
  },
  {
    "text": "the structure is pretty much the same",
    "start": "1087679",
    "end": "1090000"
  },
  {
    "text": "there's only there is only a few small",
    "start": "1090000",
    "end": "1091919"
  },
  {
    "text": "tweaks",
    "start": "1091919",
    "end": "1093280"
  },
  {
    "text": "that were really necessary",
    "start": "1093280",
    "end": "1096400"
  },
  {
    "text": "for example",
    "start": "1096400",
    "end": "1097840"
  },
  {
    "text": "you have you can configure multiple",
    "start": "1097840",
    "end": "1099600"
  },
  {
    "text": "policies for scale limits",
    "start": "1099600",
    "end": "1101760"
  },
  {
    "text": "um and in order to like for example an",
    "start": "1101760",
    "end": "1104320"
  },
  {
    "text": "absolute number of pods or a relative",
    "start": "1104320",
    "end": "1106480"
  },
  {
    "text": "number of pods like a percent or a you",
    "start": "1106480",
    "end": "1108480"
  },
  {
    "text": "know count and in order to choose which",
    "start": "1108480",
    "end": "1111760"
  },
  {
    "text": "one should be controlling",
    "start": "1111760",
    "end": "1114080"
  },
  {
    "text": "there's a",
    "start": "1114080",
    "end": "1115200"
  },
  {
    "text": "select policy enumerator and and the",
    "start": "1115200",
    "end": "1118400"
  },
  {
    "text": "values are min or max so if you're",
    "start": "1118400",
    "end": "1120559"
  },
  {
    "text": "scaling up",
    "start": "1120559",
    "end": "1122880"
  },
  {
    "text": "it's going to select the max of four",
    "start": "1122880",
    "end": "1125200"
  },
  {
    "text": "or",
    "start": "1125200",
    "end": "1125919"
  },
  {
    "text": "two times but if you're scaling down",
    "start": "1125919",
    "end": "1129679"
  },
  {
    "text": "it's actually going to choose",
    "start": "1129679",
    "end": "1132480"
  },
  {
    "text": "max would choose the smallest number",
    "start": "1132480",
    "end": "1134640"
  },
  {
    "text": "because it's actually the max change or",
    "start": "1134640",
    "end": "1136799"
  },
  {
    "text": "the min change so we've changed the",
    "start": "1136799",
    "end": "1139120"
  },
  {
    "text": "value of the enumeration because uh",
    "start": "1139120",
    "end": "1141679"
  },
  {
    "text": "early users of this feature were",
    "start": "1141679",
    "end": "1144160"
  },
  {
    "text": "confused by it but that i think is the",
    "start": "1144160",
    "end": "1146720"
  },
  {
    "text": "most significant change so it's mostly",
    "start": "1146720",
    "end": "1148960"
  },
  {
    "text": "the same as the is the beta api",
    "start": "1148960",
    "end": "1152240"
  },
  {
    "text": "and that should be coming soon",
    "start": "1152240",
    "end": "1153919"
  },
  {
    "text": "there's another feature coming up um",
    "start": "1153919",
    "end": "1156000"
  },
  {
    "text": "which was",
    "start": "1156000",
    "end": "1157200"
  },
  {
    "text": "uh which is in the vpa space",
    "start": "1157200",
    "end": "1160000"
  },
  {
    "text": "support for multiple recommenders",
    "start": "1160000",
    "end": "1162400"
  },
  {
    "text": "so just in the same way that um you know",
    "start": "1162400",
    "end": "1165280"
  },
  {
    "text": "hpa need to be",
    "start": "1165280",
    "end": "1166960"
  },
  {
    "text": "made more flexible to support multiple",
    "start": "1166960",
    "end": "1169039"
  },
  {
    "text": "use cases this was hpa was mostly",
    "start": "1169039",
    "end": "1171440"
  },
  {
    "text": "extended through metrics",
    "start": "1171440",
    "end": "1173679"
  },
  {
    "text": "uh vpa is actually going to be extended",
    "start": "1173679",
    "end": "1176480"
  },
  {
    "text": "largely through the actual recommender",
    "start": "1176480",
    "end": "1179280"
  },
  {
    "text": "engine",
    "start": "1179280",
    "end": "1180559"
  },
  {
    "text": "and um because you know i mentioned",
    "start": "1180559",
    "end": "1183039"
  },
  {
    "text": "alrighty vpa creates this histogram and",
    "start": "1183039",
    "end": "1185520"
  },
  {
    "text": "chooses a conservative place but a lot",
    "start": "1185520",
    "end": "1188400"
  },
  {
    "text": "of those a lot of those depend on the",
    "start": "1188400",
    "end": "1190320"
  },
  {
    "text": "workload there's a lot of edge cases",
    "start": "1190320",
    "end": "1192720"
  },
  {
    "text": "there that that might be",
    "start": "1192720",
    "end": "1195200"
  },
  {
    "text": "want different defaults",
    "start": "1195200",
    "end": "1197120"
  },
  {
    "text": "and so um",
    "start": "1197120",
    "end": "1198799"
  },
  {
    "text": "vpa is just going to have a",
    "start": "1198799",
    "end": "1201360"
  },
  {
    "text": "discriminator a new field which is",
    "start": "1201360",
    "end": "1203600"
  },
  {
    "text": "actually struct where you provide the",
    "start": "1203600",
    "end": "1206159"
  },
  {
    "text": "name of the recommender that you want to",
    "start": "1206159",
    "end": "1209039"
  },
  {
    "text": "handle this this is a common pattern for",
    "start": "1209039",
    "end": "1211039"
  },
  {
    "text": "when you have multiple controllers for a",
    "start": "1211039",
    "end": "1212799"
  },
  {
    "text": "single object",
    "start": "1212799",
    "end": "1214080"
  },
  {
    "text": "you pick a field the sum discriminator",
    "start": "1214080",
    "end": "1216720"
  },
  {
    "text": "and then they'll be the the default",
    "start": "1216720",
    "end": "1219600"
  },
  {
    "text": "implementation will handle",
    "start": "1219600",
    "end": "1222080"
  },
  {
    "text": "empty values or zero values",
    "start": "1222080",
    "end": "1224880"
  },
  {
    "text": "same thing vpa the vpa recommended will",
    "start": "1224880",
    "end": "1227280"
  },
  {
    "text": "handle",
    "start": "1227280",
    "end": "1228320"
  },
  {
    "text": "when this field is not present",
    "start": "1228320",
    "end": "1230320"
  },
  {
    "text": "but if you want to add a custom vpa",
    "start": "1230320",
    "end": "1232480"
  },
  {
    "text": "recommender",
    "start": "1232480",
    "end": "1233679"
  },
  {
    "text": "you create a controller that handles",
    "start": "1233679",
    "end": "1235440"
  },
  {
    "text": "those it just ignores anything that",
    "start": "1235440",
    "end": "1237280"
  },
  {
    "text": "doesn't have its name on it",
    "start": "1237280",
    "end": "1239039"
  },
  {
    "text": "and then you can create a vpa object",
    "start": "1239039",
    "end": "1241679"
  },
  {
    "text": "with that discriminator and target that",
    "start": "1241679",
    "end": "1244240"
  },
  {
    "text": "recommender",
    "start": "1244240",
    "end": "1245440"
  },
  {
    "text": "and then the rest of the pipeline will",
    "start": "1245440",
    "end": "1246960"
  },
  {
    "text": "be the same",
    "start": "1246960",
    "end": "1248960"
  },
  {
    "text": "the um",
    "start": "1248960",
    "end": "1250159"
  },
  {
    "text": "the updater will see that the pod",
    "start": "1250159",
    "end": "1252799"
  },
  {
    "text": "doesn't match the recommendation api is",
    "start": "1252799",
    "end": "1255120"
  },
  {
    "text": "the same so it doesn't matter what",
    "start": "1255120",
    "end": "1256640"
  },
  {
    "text": "recommender produced it",
    "start": "1256640",
    "end": "1258320"
  },
  {
    "text": "and then",
    "start": "1258320",
    "end": "1259600"
  },
  {
    "text": "the admission controller will actually",
    "start": "1259600",
    "end": "1261520"
  },
  {
    "text": "apply those updates when the pod is",
    "start": "1261520",
    "end": "1263520"
  },
  {
    "text": "recreated",
    "start": "1263520",
    "end": "1264640"
  },
  {
    "text": "so it's a really nice extension",
    "start": "1264640",
    "end": "1266720"
  },
  {
    "text": "um i have a link here to the cap and a",
    "start": "1266720",
    "end": "1269039"
  },
  {
    "text": "couple of pull requests",
    "start": "1269039",
    "end": "1270960"
  },
  {
    "text": "that are implementing it",
    "start": "1270960",
    "end": "1274080"
  },
  {
    "text": "and that is also nearing um",
    "start": "1274240",
    "end": "1276960"
  },
  {
    "text": "completion so it should be committed",
    "start": "1276960",
    "end": "1278799"
  },
  {
    "text": "soon and available in the next uh mixed",
    "start": "1278799",
    "end": "1280960"
  },
  {
    "text": "release of kubernetes",
    "start": "1280960",
    "end": "1283120"
  },
  {
    "text": "so those are two interesting upcoming",
    "start": "1283120",
    "end": "1286159"
  },
  {
    "text": "features that you can um",
    "start": "1286159",
    "end": "1288320"
  },
  {
    "text": "plan to take a look at and",
    "start": "1288320",
    "end": "1291200"
  },
  {
    "text": "uh that concludes most of my content",
    "start": "1291200",
    "end": "1295200"
  },
  {
    "text": "i wanted to give you a few pointers to",
    "start": "1295200",
    "end": "1297120"
  },
  {
    "text": "like how to get involved in the auto",
    "start": "1297120",
    "end": "1300159"
  },
  {
    "text": "scaling community",
    "start": "1300159",
    "end": "1302400"
  },
  {
    "text": "we have a slack channel sig auto scaling",
    "start": "1302400",
    "end": "1304640"
  },
  {
    "text": "where you could just drop in and ask",
    "start": "1304640",
    "end": "1305840"
  },
  {
    "text": "general questions how do i use this",
    "start": "1305840",
    "end": "1308240"
  },
  {
    "text": "why is this thing doing that",
    "start": "1308240",
    "end": "1310400"
  },
  {
    "text": "um i have an idea uh what do you think",
    "start": "1310400",
    "end": "1314480"
  },
  {
    "text": "we're really quite friendly",
    "start": "1314480",
    "end": "1316720"
  },
  {
    "text": "people are asking questions all the time",
    "start": "1316720",
    "end": "1318799"
  },
  {
    "text": "on there and there's always somebody",
    "start": "1318799",
    "end": "1320720"
  },
  {
    "text": "that jumps in and answers questions",
    "start": "1320720",
    "end": "1323120"
  },
  {
    "text": "so",
    "start": "1323120",
    "end": "1324240"
  },
  {
    "text": "it's a great place to come and uh just",
    "start": "1324240",
    "end": "1327039"
  },
  {
    "text": "get plugged in",
    "start": "1327039",
    "end": "1328799"
  },
  {
    "text": "there's an another slack channel sig",
    "start": "1328799",
    "end": "1330799"
  },
  {
    "text": "auto scaling api was created partly to",
    "start": "1330799",
    "end": "1333440"
  },
  {
    "text": "coordinate the hpa v2",
    "start": "1333440",
    "end": "1336000"
  },
  {
    "text": "changes because there's just a lot of",
    "start": "1336000",
    "end": "1337679"
  },
  {
    "text": "different contributors and i wanted to",
    "start": "1337679",
    "end": "1339760"
  },
  {
    "text": "have kind of a long running thread for",
    "start": "1339760",
    "end": "1341440"
  },
  {
    "text": "it so",
    "start": "1341440",
    "end": "1342400"
  },
  {
    "text": "api related",
    "start": "1342400",
    "end": "1344480"
  },
  {
    "text": "auto scaling stuff the topic is",
    "start": "1344480",
    "end": "1347039"
  },
  {
    "text": "currently v2 um",
    "start": "1347039",
    "end": "1349440"
  },
  {
    "text": "ga or stable uh hba",
    "start": "1349440",
    "end": "1353440"
  },
  {
    "text": "so come check that out too and of course",
    "start": "1353440",
    "end": "1356159"
  },
  {
    "text": "it's always nice to just talk",
    "start": "1356159",
    "end": "1358480"
  },
  {
    "text": "face to face or virtually um and just",
    "start": "1358480",
    "end": "1362559"
  },
  {
    "text": "kind of bounce ideas see people",
    "start": "1362559",
    "end": "1365039"
  },
  {
    "text": "um so there's a regular weekly meeting",
    "start": "1365039",
    "end": "1368799"
  },
  {
    "text": "it's at four o'clock 1600",
    "start": "1368799",
    "end": "1371360"
  },
  {
    "text": "uh cet time zone",
    "start": "1371360",
    "end": "1374799"
  },
  {
    "text": "and there's a link there to the zoom",
    "start": "1374799",
    "end": "1377600"
  },
  {
    "text": "meeting and to the agenda so if you if",
    "start": "1377600",
    "end": "1379840"
  },
  {
    "text": "you want to talk about something at the",
    "start": "1379840",
    "end": "1381760"
  },
  {
    "text": "meeting just uh go to the google doc",
    "start": "1381760",
    "end": "1384320"
  },
  {
    "text": "there linked under the agenda and just",
    "start": "1384320",
    "end": "1386559"
  },
  {
    "text": "put your name there and say hey here",
    "start": "1386559",
    "end": "1388320"
  },
  {
    "text": "here's something i want to talk to",
    "start": "1388320",
    "end": "1390080"
  },
  {
    "text": "and then usually in the",
    "start": "1390080",
    "end": "1392240"
  },
  {
    "text": "sig meeting we just go in order from top",
    "start": "1392240",
    "end": "1394559"
  },
  {
    "text": "to bottom and there's usually plenty of",
    "start": "1394559",
    "end": "1396159"
  },
  {
    "text": "time to ask additional questions too so",
    "start": "1396159",
    "end": "1399280"
  },
  {
    "text": "um come see us we're friendly um",
    "start": "1399280",
    "end": "1402960"
  },
  {
    "text": "we're interested in new ideas",
    "start": "1402960",
    "end": "1405440"
  },
  {
    "text": "and uh we're interested to see how",
    "start": "1405440",
    "end": "1407360"
  },
  {
    "text": "you're using these new features and",
    "start": "1407360",
    "end": "1411200"
  },
  {
    "text": "yeah it's a it's a good community",
    "start": "1411440",
    "end": "1413760"
  },
  {
    "text": "so",
    "start": "1413760",
    "end": "1414799"
  },
  {
    "text": "that is it for my presentation i hope",
    "start": "1414799",
    "end": "1418000"
  },
  {
    "text": "you enjoyed a quick overview of auto",
    "start": "1418000",
    "end": "1419919"
  },
  {
    "text": "scaling and some upcoming features",
    "start": "1419919",
    "end": "1422159"
  },
  {
    "text": "and i hope to see you online",
    "start": "1422159",
    "end": "1424080"
  },
  {
    "text": "bye",
    "start": "1424080",
    "end": "1427080"
  }
]