[
  {
    "start": "0",
    "end": "63000"
  },
  {
    "text": "okay welcome everyone my name is ma che and this is Phil and the both of us are",
    "start": "30",
    "end": "6150"
  },
  {
    "text": "leading the 6e alight so today I'll spend a couple minutes introducing our",
    "start": "6150",
    "end": "12780"
  },
  {
    "text": "sick what we do what we are our mission in short and then I'll jump right into",
    "start": "12780",
    "end": "18779"
  },
  {
    "text": "the the core parts of the cube CTL meaning how to develop a simple cube CTL",
    "start": "18779",
    "end": "26880"
  },
  {
    "text": "plug plug in command or basically fix a bug so that people such as you who might",
    "start": "26880",
    "end": "35880"
  },
  {
    "text": "be interested in contributing to the to the cube CTL can benefit from that",
    "start": "35880",
    "end": "40980"
  },
  {
    "text": "knowledge I do hope that this will help you get started if you have any questions at any point in time either",
    "start": "40980",
    "end": "48620"
  },
  {
    "text": "post-conference i'll leave the contact details you can reach me out on on slacks and first Phil",
    "start": "48620",
    "end": "55110"
  },
  {
    "text": "Twitter and whatnot basically these two handles work throughout slack github",
    "start": "55110",
    "end": "60690"
  },
  {
    "text": "Twitter and whatnot so what we do so in general we build cubes ETL what is",
    "start": "60690",
    "end": "69450"
  },
  {
    "start": "63000",
    "end": "158000"
  },
  {
    "text": "keeps ETL keeps ETL is the main kubernetes CLI so it's a client for",
    "start": "69450",
    "end": "76680"
  },
  {
    "text": "interacting with kubernetes cluster of course there are a couple additional",
    "start": "76680",
    "end": "82950"
  },
  {
    "text": "features that we developed over time such as the CLI runtime which is a set of helper methods for building cube CL",
    "start": "82950",
    "end": "91439"
  },
  {
    "text": "commands or plugins if you're interested in doing so what is important is that",
    "start": "91439",
    "end": "97409"
  },
  {
    "text": "the CLI runtime its first and primary consumer is cube CTL which guarantees",
    "start": "97409",
    "end": "103500"
  },
  {
    "text": "that it will always work the additional tools that we adopted over the past six",
    "start": "103500",
    "end": "113159"
  },
  {
    "text": "months to twelve months is crew which is a plug-in manager if you seen our talk with ahmed two hours ago we covered the",
    "start": "113159",
    "end": "122340"
  },
  {
    "text": "tool it's basically a plugin by itself but it allows you to manage and install",
    "start": "122340",
    "end": "128009"
  },
  {
    "text": "plug-ins for your environment and finding customized that was added to keep seed",
    "start": "128009",
    "end": "133860"
  },
  {
    "text": "about nine months ago is a tool for declarative workflow for improving",
    "start": "133860",
    "end": "141870"
  },
  {
    "text": "declared declarative workflows think about apply on steroids with some",
    "start": "141870",
    "end": "147150"
  },
  {
    "text": "additional tweaks that he want to on top of your current yawns it definitely",
    "start": "147150",
    "end": "153540"
  },
  {
    "text": "improves working with very cumbersome yawns so like I mentioned our structure",
    "start": "153540",
    "end": "161520"
  },
  {
    "start": "158000",
    "end": "217000"
  },
  {
    "text": "is very simple we have two tech leads both of them are standing in front of you that's myself and Phil I'm",
    "start": "161520",
    "end": "167850"
  },
  {
    "text": "representing Red Hat Phil is representing Google and we are",
    "start": "167850",
    "end": "173070"
  },
  {
    "text": "responsible for the technical leadership in our sick which basically means we are",
    "start": "173070",
    "end": "179150"
  },
  {
    "text": "deciding about the goals for the next couple of months years where the sick",
    "start": "179150",
    "end": "184739"
  },
  {
    "text": "will be driving and we are ensuring that we keep the track as is whereas with",
    "start": "184739",
    "end": "190440"
  },
  {
    "text": "Shawn Sullivan we are myself and Shawn we are responsible for organizing the sick on a",
    "start": "190440",
    "end": "198510"
  },
  {
    "text": "daily basis that means running the meetings keeping the notes putting the",
    "start": "198510",
    "end": "204060"
  },
  {
    "text": "recordings of all our meetings into the YouTube channel so that you can view",
    "start": "204060",
    "end": "210299"
  },
  {
    "text": "them afterwards if you're interested in what happened as well as keeping the notes I'm not sure if I like the notes",
    "start": "210299",
    "end": "217220"
  },
  {
    "start": "217000",
    "end": "417000"
  },
  {
    "text": "what are the couple main initiatives that we are working on so one that you",
    "start": "217220",
    "end": "223680"
  },
  {
    "text": "probably have noticed if you're active in the keep CTL area is that we are",
    "start": "223680",
    "end": "230130"
  },
  {
    "text": "moving outside of the main repo some of you probably stumbled upon kubernetes",
    "start": "230130",
    "end": "235829"
  },
  {
    "text": "/keep CTL repository which exists for good couple years but the main problem",
    "start": "235829",
    "end": "242640"
  },
  {
    "text": "of that repository is that it does not contain the cube CTO logic nor the",
    "start": "242640",
    "end": "247860"
  },
  {
    "text": "binary and it is confusing even though that some parts of the cube see related",
    "start": "247860",
    "end": "255060"
  },
  {
    "text": "code exists there like the book which is the documentation parts we published in the last release thanks to awesome work",
    "start": "255060",
    "end": "262260"
  },
  {
    "text": "from Phil and his team which is the cube CTO book if you heard about that one lives currently in keep CTO",
    "start": "262260",
    "end": "271250"
  },
  {
    "text": "repo the rest of the contents is not being maintained in in any significant",
    "start": "271250",
    "end": "278000"
  },
  {
    "text": "way and actually Shaun sent out an email earlier today or that was maybe",
    "start": "278000",
    "end": "283820"
  },
  {
    "text": "yesterday announcing that we will be pruning the contents of that repo and",
    "start": "283820",
    "end": "289970"
  },
  {
    "text": "all the important bits like the book that I mentioned will be moved over to",
    "start": "289970",
    "end": "295130"
  },
  {
    "text": "the main repo temporarily as for us to be able to extract that contents to the",
    "start": "295130",
    "end": "303470"
  },
  {
    "text": "cube c-3po within the next couple of weeks months initially we will be",
    "start": "303470",
    "end": "309259"
  },
  {
    "text": "syncing the contents out to the repo and hopefully within a year to year from now",
    "start": "309259",
    "end": "315979"
  },
  {
    "text": "we will be fully outside of the main communities repo there are a lot of",
    "start": "315979",
    "end": "321259"
  },
  {
    "text": "efforts and a lot of efforts and mostly challenges around how to test properly",
    "start": "321259",
    "end": "328009"
  },
  {
    "text": "keep CDL against cubes kubernetes cluster how to test keep CTL itself",
    "start": "328009",
    "end": "334010"
  },
  {
    "text": "internally and most importantly how to ensure back backwards and forth",
    "start": "334010",
    "end": "340490"
  },
  {
    "text": "compatibility that we currently have which is at a time plus minus one",
    "start": "340490",
    "end": "345590"
  },
  {
    "text": "version also we are moving quite a lot",
    "start": "345590",
    "end": "350780"
  },
  {
    "text": "of functionality over to the server one of the major refactor that we did in",
    "start": "350780",
    "end": "358520"
  },
  {
    "text": "that area in the past months were server-side printing so meaning if you",
    "start": "358520",
    "end": "363530"
  },
  {
    "text": "invoke cube CTL get command the description of the resources are your C and your CLI are not actually hard-coded",
    "start": "363530",
    "end": "371090"
  },
  {
    "text": "into the cube CTL itself anymore well rather they are coming from the server",
    "start": "371090",
    "end": "376669"
  },
  {
    "text": "this ensures that any consumer of the API can have consistent output a lot of",
    "start": "376669",
    "end": "385159"
  },
  {
    "text": "effort has been recently put into moving the moving the cube CTL apply over to the",
    "start": "385159",
    "end": "392450"
  },
  {
    "text": "server there is a alpha functionality these days that allows to apply single",
    "start": "392450",
    "end": "397670"
  },
  {
    "text": "resource currently but there's a lot of effort to improve both the server side and the client side apply there are a",
    "start": "397670",
    "end": "405290"
  },
  {
    "text": "couple of others like I've mentioned the plugins and there's a lot of work around",
    "start": "405290",
    "end": "410480"
  },
  {
    "text": "customized so these are ongoing projects if you're interested I completely more",
    "start": "410480",
    "end": "416660"
  },
  {
    "text": "than happy to see you all on our bi-weekly meetings our regular meeting",
    "start": "416660",
    "end": "425000"
  },
  {
    "start": "417000",
    "end": "525000"
  },
  {
    "text": "would be scheduled for tomorrow but due to cube con we obviously cancelled that",
    "start": "425000",
    "end": "431090"
  },
  {
    "text": "one so the next one will be in two weeks these are held at 6 p.m. I didn't put",
    "start": "431090",
    "end": "438500"
  },
  {
    "text": "down one but it's basically 6 p.m. not am European time it's noon for the u.s.",
    "start": "438500",
    "end": "447410"
  },
  {
    "text": "west-eastern time and 9 a.m. for the Western time us Western we have",
    "start": "447410",
    "end": "454430"
  },
  {
    "text": "obviously our slack channel or you can find both of us as well as shown as",
    "start": "454430",
    "end": "460640"
  },
  {
    "text": "other members of the 6 Eli who will be more than happy to answer all your questions if you have some PRS we've",
    "start": "460640",
    "end": "467570"
  },
  {
    "text": "used issues feel free to reach out to us if you if you if you're afraid of asking",
    "start": "467570",
    "end": "476330"
  },
  {
    "text": "this publicly you can always reach out privately to either one of us and we",
    "start": "476330",
    "end": "482060"
  },
  {
    "text": "will be more than happy to answer your questions and help with your issues if your first time contributor that I'll be",
    "start": "482060",
    "end": "488720"
  },
  {
    "text": "more than I'll be more than happy to help you and actually we are thinking about putting together a mentoring group",
    "start": "488720",
    "end": "495950"
  },
  {
    "text": "for people that are interested in contributing to keep CTO of course there's a also Google group so you can",
    "start": "495950",
    "end": "504770"
  },
  {
    "text": "sign up on that one so you'll see the information about what is currently in progress what we are working on it's",
    "start": "504770",
    "end": "512150"
  },
  {
    "text": "very low volume I would even say once twice per week there's an email so it doesn't hurt it",
    "start": "512150",
    "end": "520229"
  },
  {
    "text": "won't flood your your your inbox in any way so before we jump over to the cube",
    "start": "520229",
    "end": "527820"
  },
  {
    "text": "CTL code baster which I do hope will help you to get familiar with the code",
    "start": "527820",
    "end": "533490"
  },
  {
    "text": "base and I know that there's several people reach out to me asking just for that one and I gave a similar tour about",
    "start": "533490",
    "end": "541380"
  },
  {
    "text": "two weeks ago during one of the contributors meetings on YouTube do you",
    "start": "541380",
    "end": "548040"
  },
  {
    "text": "have any questions at this point in time okay so let's get into the tour so the",
    "start": "548040",
    "end": "557970"
  },
  {
    "text": "entry point for keeps ETL lives in cuba",
    "start": "557970",
    "end": "563400"
  },
  {
    "text": "kubernetes comment keeps ETL cube CT i'll go and as you probably you've noticed its little evil very minimal we",
    "start": "563400",
    "end": "571350"
  },
  {
    "text": "only create the command and pass over the entire functionality over to the",
    "start": "571350",
    "end": "576860"
  },
  {
    "text": "Cobra command Cobra is a CLI library created by I can remember his name",
    "start": "576860",
    "end": "585660"
  },
  {
    "text": "Frederico SPF 13 is his github handle and I'm probably saying most people will",
    "start": "585660",
    "end": "591150"
  },
  {
    "text": "recognize by that so SPF 13 slash Cobra is how you find him and the library on",
    "start": "591150",
    "end": "598160"
  },
  {
    "text": "on github and basically the majority of the go based code these days that is CLI",
    "start": "598160",
    "end": "604800"
  },
  {
    "text": "based will be using his library because it's it's pretty cool so let's look into",
    "start": "604800",
    "end": "611220"
  },
  {
    "text": "the new default keep CTL command what it does it actually",
    "start": "611220",
    "end": "616680"
  },
  {
    "start": "615000",
    "end": "691000"
  },
  {
    "text": "aside from setting up the functionality and commands and flags it registers a",
    "start": "616680",
    "end": "622110"
  },
  {
    "text": "set of commands all of the commands that you'll see and I'll be showing you in a minute",
    "start": "622110",
    "end": "627320"
  },
  {
    "text": "we group the commands into several into",
    "start": "627320",
    "end": "632520"
  },
  {
    "text": "several batches so there are basic commands such as run and said there are",
    "start": "632520",
    "end": "637680"
  },
  {
    "text": "intermediate commands for getting editing and deleting resources there's a",
    "start": "637680",
    "end": "644070"
  },
  {
    "text": "set of deploy related commands like roll out scale or auto scale there's there's a",
    "start": "644070",
    "end": "651140"
  },
  {
    "text": "set of cluster management command such as top cluster info or corazon anchored",
    "start": "651140",
    "end": "657740"
  },
  {
    "text": "on notes there are troubleshooting and debugging commands such as attach exec",
    "start": "657740",
    "end": "664400"
  },
  {
    "text": "proxy or describe and then finally",
    "start": "664400",
    "end": "669830"
  },
  {
    "text": "there's a set of advanced and settings command such as annotate completions a patch apply more or less that I do hope",
    "start": "669830",
    "end": "678890"
  },
  {
    "text": "that's reasonable the grouping is not in",
    "start": "678890",
    "end": "684260"
  },
  {
    "text": "any way hard-coded we can always change that one if we see the need for it so",
    "start": "684260",
    "end": "692470"
  },
  {
    "text": "but honestly the majority of the code that I showed you so far you will be",
    "start": "692470",
    "end": "698300"
  },
  {
    "text": "rarely attaching I can't remember touching any of those in the past twelve",
    "start": "698300",
    "end": "703400"
  },
  {
    "text": "months or so because it rarely changes well I lied of course I did change I",
    "start": "703400",
    "end": "710150"
  },
  {
    "text": "when I was relocating commands because previously we didn't have good code organization I did changed the previous",
    "start": "710150",
    "end": "718970"
  },
  {
    "text": "file that I was showing but honestly it won't be changing that fast so the main",
    "start": "718970",
    "end": "724460"
  },
  {
    "start": "721000",
    "end": "782000"
  },
  {
    "text": "part and where actual commands live is inside of package cubes ETL camed and",
    "start": "724460",
    "end": "730760"
  },
  {
    "text": "then inside of this directory each and every single command will have its own",
    "start": "730760",
    "end": "736670"
  },
  {
    "text": "directory except for some few rare cases such as API resources actually has two",
    "start": "736670",
    "end": "742580"
  },
  {
    "text": "command one is API resources and the other one is API versions both or these",
    "start": "742580",
    "end": "748550"
  },
  {
    "text": "are very similar and they share some functionality underneath it so we",
    "start": "748550",
    "end": "753710"
  },
  {
    "text": "decided to put both of them into the same directory but other than that the",
    "start": "753710",
    "end": "759410"
  },
  {
    "text": "majority of the commands have their own directory and I do hope that if you've at least once invoked any of the cube",
    "start": "759410",
    "end": "766250"
  },
  {
    "text": "CTL command you'll recognize the names of the commands easily with just crawling through the directory contents",
    "start": "766250",
    "end": "772850"
  },
  {
    "text": "and that will also allow you to easily navigate to the command that you wanna proof fix or break that's also allowable",
    "start": "772850",
    "end": "781380"
  },
  {
    "text": "in some ways so one important",
    "start": "781380",
    "end": "787460"
  },
  {
    "start": "782000",
    "end": "876000"
  },
  {
    "text": "information is that the get command although it seems to be the simplest and",
    "start": "787460",
    "end": "793860"
  },
  {
    "text": "the first command that you can think of when you're in when you're working with keep CDL I must warn you that the cube",
    "start": "793860",
    "end": "800190"
  },
  {
    "text": "CDL get command is one of the most complicated of all the commands honestly",
    "start": "800190",
    "end": "807600"
  },
  {
    "text": "and I'm not lying I'm not making up there's a lot of code in the get command",
    "start": "807600",
    "end": "812820"
  },
  {
    "text": "because they're sorting their support for the new server-side printing mechanism as well as the we still",
    "start": "812820",
    "end": "819300"
  },
  {
    "text": "support the previous old mechanism if you pass - - server-side print false",
    "start": "819300",
    "end": "825000"
  },
  {
    "text": "which means the logic that was hard-coded in cube CTL will fire end up",
    "start": "825000",
    "end": "831150"
  },
  {
    "text": "in that place and all that makes the get command not as easy as you might think",
    "start": "831150",
    "end": "837300"
  },
  {
    "text": "also there's support for whatching which is cube CTL get the - - watch so the",
    "start": "837300",
    "end": "844350"
  },
  {
    "text": "watch functionality is part of the guys command this all makes the get command grow very much so if you want to start",
    "start": "844350",
    "end": "853140"
  },
  {
    "text": "fixing I would discourage you from touching get it is complicated even for",
    "start": "853140",
    "end": "859560"
  },
  {
    "text": "us current contributors touching it it's or we are very cautious about modifying the",
    "start": "859560",
    "end": "865500"
  },
  {
    "text": "get commit but the other commands are very simple as take the API resources annotate they are usually very simple",
    "start": "865500",
    "end": "872760"
  },
  {
    "text": "and let me show you how the annotate command works so if we go into the annotate directory before I jump",
    "start": "872760",
    "end": "879330"
  },
  {
    "text": "actually into the actual annotate they usually will be two files let's ignore",
    "start": "879330",
    "end": "885240"
  },
  {
    "text": "the build file because this is automatically generated for the basil which is one of the build process being",
    "start": "885240",
    "end": "891300"
  },
  {
    "text": "used inside of our testing infrastructure you'll probably see this",
    "start": "891300",
    "end": "898230"
  },
  {
    "text": "is the majority of cases there will be two files one will be the actual command and the other one will be the unit test",
    "start": "898230",
    "end": "905360"
  },
  {
    "text": "sorry and the unit test for that for that file so looking into the",
    "start": "905360",
    "end": "912049"
  },
  {
    "start": "910000",
    "end": "1070000"
  },
  {
    "text": "annotate command and omitting the the import sections there are a couple",
    "start": "912049",
    "end": "917809"
  },
  {
    "text": "important factors and we are trying to enforce this pattern across all of the",
    "start": "917809",
    "end": "924149"
  },
  {
    "text": "commands these days not all of them follow this patterns and get is one",
    "start": "924149",
    "end": "931290"
  },
  {
    "text": "examples of why we're not following get is one of the examples where we did not",
    "start": "931290",
    "end": "936959"
  },
  {
    "text": "follow to the new patterns and the reason is that it would cause more pain for us to rewrite it and just leave it",
    "start": "936959",
    "end": "944160"
  },
  {
    "text": "as is but overall the rule is that we followed these patterns that I'll be talking",
    "start": "944160",
    "end": "949709"
  },
  {
    "text": "about more so every single command will have an optional structure the option",
    "start": "949709",
    "end": "956249"
  },
  {
    "text": "structures will have a set of flags that the command exposes you'll see that we",
    "start": "956249",
    "end": "963239"
  },
  {
    "text": "are using something that is called print flags and resource printer these two",
    "start": "963239",
    "end": "968959"
  },
  {
    "text": "these two object that are at the top are a part of the CLI runtime that I",
    "start": "968959",
    "end": "974160"
  },
  {
    "text": "mentioned before that we are maintaining and exposing so that other cube CDL common writers plugin authors can reuse",
    "start": "974160",
    "end": "982230"
  },
  {
    "text": "we are reusing the same inside of cube CTL these provide a set of flags which",
    "start": "982230",
    "end": "988259"
  },
  {
    "text": "is the first one a set of flags for printing so if you're passing - Oh yum",
    "start": "988259",
    "end": "993360"
  },
  {
    "text": "or JSON or whatever this exposes that functionality so if you use the CLI",
    "start": "993360",
    "end": "998939"
  },
  {
    "text": "runtime this is what you get for free and then the resource printer is the",
    "start": "998939",
    "end": "1004699"
  },
  {
    "text": "actual mechanism responsible for printing the resource based on the arguments that you specified before so",
    "start": "1004699",
    "end": "1010850"
  },
  {
    "text": "you don't have to handle those because if you can assuming that you're only",
    "start": "1010850",
    "end": "1015889"
  },
  {
    "text": "writing and go because you are runtime is as entire could keep CTO and",
    "start": "1015889",
    "end": "1020899"
  },
  {
    "text": "kubernetes written and go other flags are for filename for record and the",
    "start": "1020899",
    "end": "1028069"
  },
  {
    "text": "flags for actual and man which is over at local dry and",
    "start": "1028069",
    "end": "1033189"
  },
  {
    "text": "whatever not and then we usually put a set of helper helper arguments that we",
    "start": "1033190",
    "end": "1041980"
  },
  {
    "text": "want to pass over from one invocation to the other invocation of command finally",
    "start": "1041980",
    "end": "1047199"
  },
  {
    "text": "there's the i/o streams which is an object that is just holding all of the",
    "start": "1047200",
    "end": "1052260"
  },
  {
    "text": "standard in out in their streams so after we have the structure I'm gonna",
    "start": "1052260",
    "end": "1061060"
  },
  {
    "text": "skip the the information and description about the commanding because I do hope",
    "start": "1061060",
    "end": "1066640"
  },
  {
    "text": "it's pretty self-explanatory what it is there will be a new command name or",
    "start": "1066640",
    "end": "1074980"
  },
  {
    "text": "structure named option structure which will by default accept IO streams object",
    "start": "1074980",
    "end": "1081250"
  },
  {
    "text": "and that method is responsible for providing the default values for all",
    "start": "1081250",
    "end": "1088180"
  },
  {
    "text": "your flags that you are you are exposing as part of your command in that particular case we are setting up the",
    "start": "1088180",
    "end": "1096310"
  },
  {
    "text": "the print flag the record slacks recorder and said io streams - or",
    "start": "1096310",
    "end": "1101800"
  },
  {
    "text": "whatever was passed and now comes the actual command the actual command will",
    "start": "1101800",
    "end": "1107350"
  },
  {
    "start": "1104000",
    "end": "1171000"
  },
  {
    "text": "be always named new command and the name of the command it can accept several",
    "start": "1107350",
    "end": "1112720"
  },
  {
    "text": "parameters we're not going to focus on them but I'm hope I hope that they are",
    "start": "1112720",
    "end": "1118140"
  },
  {
    "text": "self explanatory at this point in time we created a new option structure that",
    "start": "1118140",
    "end": "1125620"
  },
  {
    "text": "we just discussed and then we put the information necessary for Cabra library to create a command so we are setting",
    "start": "1125620",
    "end": "1134110"
  },
  {
    "text": "the usage short long examples all those information and the main part is",
    "start": "1134110",
    "end": "1141430"
  },
  {
    "text": "actually the run command the run command tells the code the kobra library how to",
    "start": "1141430",
    "end": "1148330"
  },
  {
    "text": "execute our command and in 99% cases you'll see three invocations as part of",
    "start": "1148330",
    "end": "1156460"
  },
  {
    "text": "that run command and there will be always in that particular order complete validate and",
    "start": "1156460",
    "end": "1162330"
  },
  {
    "text": "run on run name of the command and let me I'll cover each and every single one",
    "start": "1162330",
    "end": "1168360"
  },
  {
    "text": "of them in a minute then we bind the flags that we require for the command to work properly and",
    "start": "1168360",
    "end": "1176090"
  },
  {
    "text": "then we can actually jump over to the invocation of of any single command so",
    "start": "1176090",
    "end": "1184020"
  },
  {
    "text": "the first method that is pretty much required for every single command is the complete the complete is responsible for",
    "start": "1184020",
    "end": "1191659"
  },
  {
    "text": "finishing the structure the in our particular case it's annotate options so",
    "start": "1191659",
    "end": "1197580"
  },
  {
    "text": "if you're invoking cube CT on annotate your passing resource name of the resource eventual additional flags part",
    "start": "1197580",
    "end": "1205409"
  },
  {
    "text": "of the complete part of the complete invocation is to parse all the flags",
    "start": "1205409",
    "end": "1213240"
  },
  {
    "text": "that were passed as well as do initial create a client set up setting up the",
    "start": "1213240",
    "end": "1222419"
  },
  {
    "text": "printers and invoking complete on print flags for example or recorder if there",
    "start": "1222419",
    "end": "1228780"
  },
  {
    "text": "are we are also creating the client here and necessary resources for the command",
    "start": "1228780",
    "end": "1235890"
  },
  {
    "start": "1230000",
    "end": "1340000"
  },
  {
    "text": "to actually succeed the next one and this is that depends on your actual",
    "start": "1235890",
    "end": "1242130"
  },
  {
    "text": "command in our case annotate option does have validate and the validate as you",
    "start": "1242130",
    "end": "1247440"
  },
  {
    "text": "might probably expect from the name is responsible for validating this structure that is why having the",
    "start": "1247440",
    "end": "1254250"
  },
  {
    "text": "structure is very important because after complete we need to have all the inputs inside of the structure and then",
    "start": "1254250",
    "end": "1261419"
  },
  {
    "text": "validate ensures that the structure is valid and let me step back and explain",
    "start": "1261419",
    "end": "1266940"
  },
  {
    "text": "why we decided to go with the structure and the three method approach beforehand",
    "start": "1266940",
    "end": "1274470"
  },
  {
    "text": "it was very hard to unit test each and every single command if it directly",
    "start": "1274470",
    "end": "1280789"
  },
  {
    "text": "accepted STD and out an STD error we were happy we were forced to either",
    "start": "1280789",
    "end": "1287790"
  },
  {
    "text": "mimic the or it was not easy to you in the test",
    "start": "1287790",
    "end": "1292830"
  },
  {
    "text": "each and every single command that's why we figure out it's better to have a structure that you can inject whatever",
    "start": "1292830",
    "end": "1299120"
  },
  {
    "text": "testing values that you want to have and then just focus on the actual either if you want to test validation fine test",
    "start": "1299120",
    "end": "1305820"
  },
  {
    "text": "the validation inject the values that you want to see in the structure and verify whether it is working the way you",
    "start": "1305820",
    "end": "1311250"
  },
  {
    "text": "expect it to work if you want to test the actual execution of the method the",
    "start": "1311250",
    "end": "1316950"
  },
  {
    "text": "run command you provide whatever Flags as part of the optional struct and then",
    "start": "1316950",
    "end": "1322230"
  },
  {
    "text": "you just run the run method and verify whether the X the output is the way you",
    "start": "1322230",
    "end": "1328320"
  },
  {
    "text": "expected it to be so after validation finishes of course at any point of time if something fails",
    "start": "1328320",
    "end": "1334650"
  },
  {
    "text": "we return an error which completes the execution of a command and the run as",
    "start": "1334650",
    "end": "1340800"
  },
  {
    "text": "you might expect is the actual logic of any command so in the majority of cases the run is the matter that you will be",
    "start": "1340800",
    "end": "1347309"
  },
  {
    "text": "touching the most frequently of course run can invoke additional methods and in",
    "start": "1347309",
    "end": "1353400"
  },
  {
    "text": "our particular case it's very simplistic there's something that is called a resource builder that we created in the",
    "start": "1353400",
    "end": "1360030"
  },
  {
    "text": "complete method the resource builder is something that is part of the CLI runtime the resource builder is is a",
    "start": "1360030",
    "end": "1367130"
  },
  {
    "text": "helper function responsible for reading resources from either a file or remote",
    "start": "1367130",
    "end": "1374910"
  },
  {
    "text": "server that's why we pass over the client to it so that it knows whether he",
    "start": "1374910",
    "end": "1381000"
  },
  {
    "text": "wants to talk to a client and how to reach it or eventually a file name because it there is an option to pass a",
    "start": "1381000",
    "end": "1387480"
  },
  {
    "text": "file name and appending on how you pass the func the options it will reach out",
    "start": "1387480",
    "end": "1393030"
  },
  {
    "text": "and get the object that you requested after we're done and we have the",
    "start": "1393030",
    "end": "1398250"
  },
  {
    "text": "resource we invoke a simple visitor pattern and visit each and every single object on and then we apply annotation",
    "start": "1398250",
    "end": "1407370"
  },
  {
    "text": "per user specification that's pretty much all how etch each and",
    "start": "1407370",
    "end": "1415870"
  },
  {
    "text": "every single command will look like and finally we are printing the resources unless user explicitly asked us not to",
    "start": "1415870",
    "end": "1422470"
  },
  {
    "text": "print it although I'm not sure if another hit has some questions there are",
    "start": "1422470",
    "end": "1427900"
  },
  {
    "text": "of course several halper methods I'm not going to dive into those because it doesn't doesn't add any value at this",
    "start": "1427900",
    "end": "1435340"
  },
  {
    "text": "point in time so as I mentioned before",
    "start": "1435340",
    "end": "1441840"
  },
  {
    "start": "1437000",
    "end": "1470000"
  },
  {
    "text": "we do test each and every single command and there are three possible tests that",
    "start": "1441840",
    "end": "1449770"
  },
  {
    "text": "can happen to have two overall keep Cpl next to every command there will be",
    "start": "1449770",
    "end": "1454809"
  },
  {
    "text": "always a unit test and we that is the simplest way to verify if the command",
    "start": "1454809",
    "end": "1459970"
  },
  {
    "text": "functionality is is executing properly on top of that there is a test command",
    "start": "1459970",
    "end": "1465220"
  },
  {
    "text": "inside of kubernetes repo which is actually a set of bash scripts which are",
    "start": "1465220",
    "end": "1471520"
  },
  {
    "text": "invoking cube CTL commands against a sort of fake cluster API what is the why",
    "start": "1471520",
    "end": "1478840"
  },
  {
    "text": "am i calling this cluster API fake because we are setting only the etcd and",
    "start": "1478840",
    "end": "1486159"
  },
  {
    "text": "the cube API server and that's it there's no cube there's no queue blood",
    "start": "1486159",
    "end": "1492640"
  },
  {
    "text": "running which basically means there will be no pods running behind it so this is",
    "start": "1492640",
    "end": "1498730"
  },
  {
    "text": "very simplistic but it is sufficient to to verify functionality of command such",
    "start": "1498730",
    "end": "1505780"
  },
  {
    "text": "as cube CTO label or cube CT Allen Tate because they are working against a cube",
    "start": "1505780",
    "end": "1513220"
  },
  {
    "text": "API server and they are they don't need the cubelet part running if you want to",
    "start": "1513220",
    "end": "1519490"
  },
  {
    "text": "go all the way down to the queue blood running so for example you want to verify if cube CTL box is working",
    "start": "1519490",
    "end": "1526809"
  },
  {
    "text": "properly then you are reaching and talking about end-to-end tests which are",
    "start": "1526809",
    "end": "1533590"
  },
  {
    "text": "part of the test e to e there's a cube CTO sub directory within which we have a",
    "start": "1533590",
    "end": "1541030"
  },
  {
    "text": "go particular that ginko and Omega based test there are invoking",
    "start": "1541030",
    "end": "1549020"
  },
  {
    "text": "tests against a fully blown kubernetes cluster so for example this one is",
    "start": "1549020",
    "end": "1554690"
  },
  {
    "text": "creating cron jobs and then verifying the cron job is actually working or is",
    "start": "1554690",
    "end": "1560280"
  },
  {
    "text": "being invoke ated the way we expected it to be and there is a set of tests I",
    "start": "1560280",
    "end": "1567710"
  },
  {
    "start": "1565000",
    "end": "1585000"
  },
  {
    "text": "think that's pretty much the majority of the stuff that I wanted to show what I",
    "start": "1568880",
    "end": "1574110"
  },
  {
    "text": "would like to call out for for you if you are interested in in working on 6",
    "start": "1574110",
    "end": "1580290"
  },
  {
    "text": "July help us improve keep CTO we are very interested in changing the the",
    "start": "1580290",
    "end": "1586500"
  },
  {
    "start": "1585000",
    "end": "1687000"
  },
  {
    "text": "Bosch written test into a testing framework SiC testing wrote an amazing",
    "start": "1586500",
    "end": "1592860"
  },
  {
    "text": "framework that should help simplify the testing and what is important also for",
    "start": "1592860",
    "end": "1598890"
  },
  {
    "text": "us is that the test currently can only be executed on Mac or online it's",
    "start": "1598890",
    "end": "1604380"
  },
  {
    "text": "basically anything that has a passionate obviously windows does not have a bash so we cannot execute those those tests",
    "start": "1604380",
    "end": "1612060"
  },
  {
    "text": "we would like to see that on top of that there's bash so you know bash is not",
    "start": "1612060",
    "end": "1619230"
  },
  {
    "text": "always that good for for testing it's it's definitely harder to work with bash",
    "start": "1619230",
    "end": "1624960"
  },
  {
    "text": "rather than with go so if you're curious and happy about working on that part of",
    "start": "1624960",
    "end": "1631110"
  },
  {
    "text": "the project we'll be more than happy to accept to accept PRS slowly moving I'm",
    "start": "1631110",
    "end": "1637320"
  },
  {
    "text": "not saying that you have to sit in one shot we write the entire thing there's a lot a lot of tests and the",
    "start": "1637320",
    "end": "1645540"
  },
  {
    "text": "tests command package so if you want to do it I want I think that would be like",
    "start": "1645540",
    "end": "1650910"
  },
  {
    "text": "two or three weeks of work and then more",
    "start": "1650910",
    "end": "1656070"
  },
  {
    "text": "than that to review that thing so if you're interested I would be more interested in having like filed by a",
    "start": "1656070",
    "end": "1662130"
  },
  {
    "text": "file or event or even up to the point where you are replacing part of the file",
    "start": "1662130",
    "end": "1667320"
  },
  {
    "text": "with the new testing I think that's the majority of the",
    "start": "1667320",
    "end": "1672390"
  },
  {
    "text": "things that I wanted to cover so you want to add something okay so does",
    "start": "1672390",
    "end": "1677700"
  },
  {
    "text": "anyone have any questions so the",
    "start": "1677700",
    "end": "1689970"
  },
  {
    "start": "1687000",
    "end": "1763000"
  },
  {
    "text": "question was whether we have the tests invoked on every single PR yes all of",
    "start": "1689970",
    "end": "1695309"
  },
  {
    "text": "the changes to govern at his repo and eventually to give you keep CTL have a",
    "start": "1695309",
    "end": "1700650"
  },
  {
    "text": "very broad set of tests that as being invoked as part of the test this",
    "start": "1700650",
    "end": "1707340"
  },
  {
    "text": "includes both the unit tests integration the integration the test command as well",
    "start": "1707340",
    "end": "1712650"
  },
  {
    "text": "as the e2e tests there are certain tests certain groups of e 2e tests that are",
    "start": "1712650",
    "end": "1720000"
  },
  {
    "text": "very invasive these are run as separate sometimes they're around only nightly so",
    "start": "1720000",
    "end": "1726179"
  },
  {
    "text": "once per night but the majority of the cubes udl related tests are run on every",
    "start": "1726179",
    "end": "1732299"
  },
  {
    "text": "single PR so on every single push actually",
    "start": "1732299",
    "end": "1737059"
  },
  {
    "text": "yes so for running for running unit",
    "start": "1751090",
    "end": "1756379"
  },
  {
    "text": "tests the simplest way let me try to find if I if I have basically make tests",
    "start": "1756379",
    "end": "1762679"
  },
  {
    "text": "and then you do you what and then you can pass package keep CTL command",
    "start": "1762679",
    "end": "1771350"
  },
  {
    "start": "1763000",
    "end": "1792000"
  },
  {
    "text": "annotate that will run the unit test for that particular for that particular",
    "start": "1771350",
    "end": "1777379"
  },
  {
    "text": "package similarly you can write yes",
    "start": "1777379",
    "end": "1782989"
  },
  {
    "text": "similarly you can run test command and then specifying wall and the wall is",
    "start": "1782989",
    "end": "1788509"
  },
  {
    "text": "actually that's one probably a little bit more tricky that's not the directory that I want to show you so each and",
    "start": "1788509",
    "end": "1795379"
  },
  {
    "start": "1792000",
    "end": "1814000"
  },
  {
    "text": "every single test in the test command has follows this rule by naming so there",
    "start": "1795379",
    "end": "1801440"
  },
  {
    "text": "will be always run some underscore something underscore tests and that's something is the name that you should",
    "start": "1801440",
    "end": "1809119"
  },
  {
    "text": "use to run that particular test so if you would run this that means only this",
    "start": "1809119",
    "end": "1815509"
  },
  {
    "start": "1814000",
    "end": "1874000"
  },
  {
    "text": "function will be run of course the setting up function is additional thing",
    "start": "1815509",
    "end": "1820940"
  },
  {
    "text": "that has to be implemented thankfully we have very good I want to make file thankfully our make",
    "start": "1820940",
    "end": "1833570"
  },
  {
    "text": "file has of course that wasn't I would be faster",
    "start": "1833570",
    "end": "1840970"
  },
  {
    "text": "so if you find tests we usually have a",
    "start": "1843820",
    "end": "1850049"
  },
  {
    "text": "documentation above a particular target which explains wood and how to run",
    "start": "1850049",
    "end": "1856299"
  },
  {
    "text": "specific stuff the same for test command and what is a list of tests to run from",
    "start": "1856299",
    "end": "1864899"
  },
  {
    "text": "these names for e2 East it's a little",
    "start": "1864899",
    "end": "1871539"
  },
  {
    "text": "bit more complicated but basically it is similar to invoking ginko command -",
    "start": "1871539",
    "end": "1877379"
  },
  {
    "start": "1874000",
    "end": "1901000"
  },
  {
    "text": "there's no make file script for for running particular tests I have a script",
    "start": "1877379",
    "end": "1884979"
  },
  {
    "text": "that sets up my local cluster using the local cluster up as age from kubernetes",
    "start": "1884979",
    "end": "1890590"
  },
  {
    "text": "repo and runs a particular test the e2e test can be matched narrow to only a",
    "start": "1890590",
    "end": "1896950"
  },
  {
    "text": "single e to e just passing the name of the test which is usually let me find",
    "start": "1896950",
    "end": "1903009"
  },
  {
    "start": "1901000",
    "end": "1926000"
  },
  {
    "text": "one that is actually for example cube CTL client will run everything that is",
    "start": "1903009",
    "end": "1908379"
  },
  {
    "text": "part of here but that will be pretty big so if you want to have for example simple part if you narrow that to only",
    "start": "1908379",
    "end": "1916090"
  },
  {
    "text": "that simple part this is the only test that you'll be running yeah",
    "start": "1916090",
    "end": "1923009"
  },
  {
    "start": "1926000",
    "end": "2221000"
  },
  {
    "text": "I can take that one can you repeat the question also thank you okay so the",
    "start": "1944780",
    "end": "1951860"
  },
  {
    "text": "question was if you're writing CR DS some commands to just get describe apply",
    "start": "1951860",
    "end": "1958610"
  },
  {
    "text": "these commands just work with the series automatically but there's other commands such as scale that do not it's kind of",
    "start": "1958610",
    "end": "1967280"
  },
  {
    "text": "actually works yeah that's true there's",
    "start": "1967280",
    "end": "1972710"
  },
  {
    "text": "other commands that do not and so how what's the best way of implementing that logic should it be done for your plugin",
    "start": "1972710",
    "end": "1978380"
  },
  {
    "text": "so scale is actually done through a stop resource now you can specify on a see Rd",
    "start": "1978380",
    "end": "1984400"
  },
  {
    "text": "which replica which which field is the replica field and then it will",
    "start": "1984400",
    "end": "1990310"
  },
  {
    "text": "automatically make that work for you but I think more generally the question is",
    "start": "1990310",
    "end": "1996080"
  },
  {
    "text": "like if it's not scaled that's something else what's the best way of adding that",
    "start": "1996080",
    "end": "2001240"
  },
  {
    "text": "command and I'd say right now we are looking at a way of publishing commands",
    "start": "2001240",
    "end": "2007510"
  },
  {
    "text": "from the server and making them discoverable as forms effectively so if",
    "start": "2007510",
    "end": "2013540"
  },
  {
    "text": "you look at how web browsers work they don't compile in all the websites in the world they hit a server and then ask for",
    "start": "2013540",
    "end": "2020260"
  },
  {
    "text": "the HTML and then construct a form based on that the user can submit many of the commands include control are a similar",
    "start": "2020260",
    "end": "2028300"
  },
  {
    "text": "pattern where a user supplies some set of flags to fill in some template and",
    "start": "2028300",
    "end": "2034450"
  },
  {
    "text": "then that gets sent to the API server and so right now in the CLI experimental",
    "start": "2034450",
    "end": "2039550"
  },
  {
    "text": "repo there is a command which will allow users to publish on their series as",
    "start": "2039550",
    "end": "2046660"
  },
  {
    "text": "annotations arbitrary commands to cout control with enough data to to create a",
    "start": "2046660",
    "end": "2053290"
  },
  {
    "text": "Cobra command with the description and help text and all this sort of stuff and send requests and then format them in",
    "start": "2053290",
    "end": "2058658"
  },
  {
    "text": "the response I think that is the direction we are planning going for the",
    "start": "2058659",
    "end": "2064450"
  },
  {
    "text": "imperative commands but if you have something particularly bespoke like exec or attached or these sorts of things",
    "start": "2064450",
    "end": "2069700"
  },
  {
    "text": "that you know connect to the terminal and set up a TTY and that sort of stuff you",
    "start": "2069700",
    "end": "2075378"
  },
  {
    "text": "would yeah a plug-in is a good way to go for that and to also add a little bit color on to that is the effort that we",
    "start": "2075379",
    "end": "2084290"
  },
  {
    "text": "have with along with the stick API Machinery is that a lot of the functionality is being moved over the",
    "start": "2084290",
    "end": "2090470"
  },
  {
    "text": "server at least in theory as where we are or we can so for example I mentioned earlier today server-side apply so the",
    "start": "2090470",
    "end": "2098480"
  },
  {
    "text": "end goal is that the app will apply logic that is currently hard-coded into cube CTO will be moved over to the",
    "start": "2098480",
    "end": "2104570"
  },
  {
    "text": "server at least and partially so that other consumers even in different languages can reuse the same",
    "start": "2104570",
    "end": "2111050"
  },
  {
    "text": "functionality I also mentioned the server-side printing so what is",
    "start": "2111050",
    "end": "2116390"
  },
  {
    "text": "currently keep CTL if you invoke cube CTL get and you get the description of pot or whatever resources that you have",
    "start": "2116390",
    "end": "2121580"
  },
  {
    "text": "this is provided by the server and if you in case of see are these CR these",
    "start": "2121580",
    "end": "2128690"
  },
  {
    "text": "have something that is called additional print columns if I remember correctly this is how you decide what will be",
    "start": "2128690",
    "end": "2135980"
  },
  {
    "text": "those columns that will be printed aside from the creation timestamp and the name which are printed by default so we can",
    "start": "2135980",
    "end": "2143089"
  },
  {
    "text": "tweak your CR D and the server knows what to return and there is additional",
    "start": "2143089",
    "end": "2148660"
  },
  {
    "text": "effort to do the same thing with this crime so that the describe will be done on the server and that hard-coded in the",
    "start": "2148660",
    "end": "2156080"
  },
  {
    "text": "client yeah I guess and then the last piece is the way that scale is",
    "start": "2156080",
    "end": "2161660"
  },
  {
    "text": "implemented is through a sub resource yes and that's how the client is able to",
    "start": "2161660",
    "end": "2168050"
  },
  {
    "text": "discover it for you know if you don't know a sub resource is basically like a method on top of a resource so it allows",
    "start": "2168050",
    "end": "2173839"
  },
  {
    "text": "you to call that method for particular resource and so there is discussion now",
    "start": "2173839",
    "end": "2179390"
  },
  {
    "text": "about what sub resources makes sense for CR DS right because you could you could",
    "start": "2179390",
    "end": "2185750"
  },
  {
    "text": "build them as web hooks for instance and allow arbitrary sub resources to be published you could allow a hard-coded",
    "start": "2185750",
    "end": "2192140"
  },
  {
    "text": "set like scale and these sorts of things so I think if",
    "start": "2192140",
    "end": "2198590"
  },
  {
    "text": "you're building series and then you say oh gee it would be really great if I could implement this as a sub resource",
    "start": "2198590",
    "end": "2204370"
  },
  {
    "text": "then that would be helpful information for the maintainer x' to know okay thank you very much please join us and",
    "start": "2204370",
    "end": "2211580"
  },
  {
    "text": "our bi-weekly cig holes or stop by our our SiC channel we'll be more than happy",
    "start": "2211580",
    "end": "2217940"
  },
  {
    "text": "to help you with your contributions thank you [Applause]",
    "start": "2217940",
    "end": "2223449"
  }
]