[
  {
    "text": "all right hey good day good afternoon",
    "start": "320",
    "end": "2960"
  },
  {
    "text": "everybody welcome to listen",
    "start": "2960",
    "end": "4880"
  },
  {
    "text": "to our talk about onward compression",
    "start": "4880",
    "end": "6960"
  },
  {
    "text": "subsystem",
    "start": "6960",
    "end": "7919"
  },
  {
    "text": "evolution uh in our talk",
    "start": "7919",
    "end": "11599"
  },
  {
    "text": "we give a give the law you give the",
    "start": "11599",
    "end": "13599"
  },
  {
    "text": "story of uh",
    "start": "13599",
    "end": "14639"
  },
  {
    "text": "the kind of long but very successful",
    "start": "14639",
    "end": "16880"
  },
  {
    "text": "project to redesign the new onboard",
    "start": "16880",
    "end": "18960"
  },
  {
    "text": "compression subsystem with",
    "start": "18960",
    "end": "20720"
  },
  {
    "text": "with some great community collaboration",
    "start": "20720",
    "end": "22960"
  },
  {
    "text": "and then",
    "start": "22960",
    "end": "24320"
  },
  {
    "text": "discuss some of its features and and",
    "start": "24320",
    "end": "26400"
  },
  {
    "text": "future plans",
    "start": "26400",
    "end": "30240"
  },
  {
    "text": "um but before getting started let us",
    "start": "30240",
    "end": "33200"
  },
  {
    "text": "introduce",
    "start": "33200",
    "end": "33920"
  },
  {
    "text": "uh ourselves first",
    "start": "33920",
    "end": "38079"
  },
  {
    "text": "my name is mikko and i'm a software",
    "start": "39280",
    "end": "42000"
  },
  {
    "text": "engineer at intel's open source",
    "start": "42000",
    "end": "44000"
  },
  {
    "text": "cloud software engineering team working",
    "start": "44000",
    "end": "46320"
  },
  {
    "text": "on",
    "start": "46320",
    "end": "47200"
  },
  {
    "text": "device enabling for kubernetes and cloud",
    "start": "47200",
    "end": "49920"
  },
  {
    "text": "native applications",
    "start": "49920",
    "end": "51520"
  },
  {
    "text": "in in this project i've mostly been",
    "start": "51520",
    "end": "53280"
  },
  {
    "text": "coaching dimitri who did all the heavy",
    "start": "53280",
    "end": "55360"
  },
  {
    "text": "lifting but",
    "start": "55360",
    "end": "56239"
  },
  {
    "text": "uh i've also if you have unavoid",
    "start": "56239",
    "end": "58640"
  },
  {
    "text": "contributions myself",
    "start": "58640",
    "end": "60559"
  },
  {
    "text": "mostly on the open ssl side of things",
    "start": "60559",
    "end": "65039"
  },
  {
    "text": "my name is jose nino and i am an",
    "start": "65760",
    "end": "68720"
  },
  {
    "text": "engineer at lyft",
    "start": "68720",
    "end": "70479"
  },
  {
    "text": "where i have worked on networking",
    "start": "70479",
    "end": "72159"
  },
  {
    "text": "relating related technologies for the",
    "start": "72159",
    "end": "74479"
  },
  {
    "text": "past",
    "start": "74479",
    "end": "75360"
  },
  {
    "text": "uh four years uh i was part of the",
    "start": "75360",
    "end": "78080"
  },
  {
    "text": "initial open source team uh with envoy",
    "start": "78080",
    "end": "80320"
  },
  {
    "text": "and worked on server-side technologies",
    "start": "80320",
    "end": "82799"
  },
  {
    "text": "uh for the first two and a half years",
    "start": "82799",
    "end": "84400"
  },
  {
    "text": "that um i was at lyft and then",
    "start": "84400",
    "end": "86880"
  },
  {
    "text": "for the last year and a half i've been",
    "start": "86880",
    "end": "88880"
  },
  {
    "text": "working on a related project",
    "start": "88880",
    "end": "90960"
  },
  {
    "text": "called envoy mobile which we'll discuss",
    "start": "90960",
    "end": "93759"
  },
  {
    "text": "a little bit today",
    "start": "93759",
    "end": "96479"
  },
  {
    "text": "next i want to introduce you dmitry he",
    "start": "96560",
    "end": "99439"
  },
  {
    "text": "is not in the presentation with us",
    "start": "99439",
    "end": "101680"
  },
  {
    "text": "today but his contribution to",
    "start": "101680",
    "end": "104720"
  },
  {
    "text": "the work that we are discussing today",
    "start": "104720",
    "end": "106880"
  },
  {
    "text": "deserves a special recognition",
    "start": "106880",
    "end": "109920"
  },
  {
    "text": "moving on to the story how how how the",
    "start": "109920",
    "end": "112560"
  },
  {
    "text": "unvoiced compression rework",
    "start": "112560",
    "end": "114560"
  },
  {
    "text": "got started and what we learned from",
    "start": "114560",
    "end": "117680"
  },
  {
    "text": "from the process",
    "start": "117680",
    "end": "120640"
  },
  {
    "text": "but let's get started with with some",
    "start": "123280",
    "end": "125280"
  },
  {
    "text": "common terminology",
    "start": "125280",
    "end": "127119"
  },
  {
    "text": "and there are lots of variations used",
    "start": "127119",
    "end": "129599"
  },
  {
    "text": "are used",
    "start": "129599",
    "end": "130399"
  },
  {
    "text": "across different code bases so we wanted",
    "start": "130399",
    "end": "133200"
  },
  {
    "text": "to explain",
    "start": "133200",
    "end": "134080"
  },
  {
    "text": "the ones used in in this presentation",
    "start": "134080",
    "end": "136319"
  },
  {
    "text": "and in in the envoy",
    "start": "136319",
    "end": "138319"
  },
  {
    "text": "onward code base um within the",
    "start": "138319",
    "end": "141440"
  },
  {
    "text": "compression",
    "start": "141440",
    "end": "142239"
  },
  {
    "text": "subsystem overall we have uh both",
    "start": "142239",
    "end": "145120"
  },
  {
    "text": "compressors",
    "start": "145120",
    "end": "146000"
  },
  {
    "text": "and decompressors and they",
    "start": "146000",
    "end": "149440"
  },
  {
    "text": "compress and decompress data of course",
    "start": "149440",
    "end": "151760"
  },
  {
    "text": "naturally so",
    "start": "151760",
    "end": "156959"
  },
  {
    "text": "um and then let's uh next uh let's",
    "start": "156959",
    "end": "160000"
  },
  {
    "text": "take a look what the http gzip filter in",
    "start": "160000",
    "end": "163280"
  },
  {
    "text": "in on",
    "start": "163280",
    "end": "163920"
  },
  {
    "text": "envoy does and uh on the request path",
    "start": "163920",
    "end": "168239"
  },
  {
    "text": "on the left hand side that the client",
    "start": "168239",
    "end": "170720"
  },
  {
    "text": "sends a request",
    "start": "170720",
    "end": "172480"
  },
  {
    "text": "the filter on on android looks for",
    "start": "172480",
    "end": "175519"
  },
  {
    "text": "matching and gzip",
    "start": "175519",
    "end": "177440"
  },
  {
    "text": "accept encoding header",
    "start": "177440",
    "end": "181120"
  },
  {
    "text": "and the filter deletes it and and",
    "start": "182959",
    "end": "185519"
  },
  {
    "text": "forwards the requests",
    "start": "185519",
    "end": "187920"
  },
  {
    "text": "to the upstream service",
    "start": "187920",
    "end": "191680"
  },
  {
    "text": "and when the filter receives the",
    "start": "192319",
    "end": "194959"
  },
  {
    "text": "response data",
    "start": "194959",
    "end": "196159"
  },
  {
    "text": "it compresses the data using the gzip",
    "start": "196159",
    "end": "198959"
  },
  {
    "text": "algorithm",
    "start": "198959",
    "end": "200319"
  },
  {
    "text": "and finally then onward proxies the gzip",
    "start": "200319",
    "end": "204560"
  },
  {
    "text": "gzip responds back back to the client so",
    "start": "204560",
    "end": "207440"
  },
  {
    "text": "this is this is how it how it works and",
    "start": "207440",
    "end": "210799"
  },
  {
    "text": "basically it is uh limited to only uh",
    "start": "210799",
    "end": "214720"
  },
  {
    "text": "you know response compression",
    "start": "214720",
    "end": "219120"
  },
  {
    "text": "uh this all works well if you are",
    "start": "220080",
    "end": "221920"
  },
  {
    "text": "interested in providing compression",
    "start": "221920",
    "end": "224000"
  },
  {
    "text": "based on just like",
    "start": "224000",
    "end": "225360"
  },
  {
    "text": "one existing one one one implementation",
    "start": "225360",
    "end": "228400"
  },
  {
    "text": "of",
    "start": "228400",
    "end": "228799"
  },
  {
    "text": "of cheesy but then you might ask",
    "start": "228799",
    "end": "232879"
  },
  {
    "text": "what if you want to modify that",
    "start": "232879",
    "end": "234959"
  },
  {
    "text": "implementation say",
    "start": "234959",
    "end": "236879"
  },
  {
    "text": "uh using hardware accelerated gzip for",
    "start": "236879",
    "end": "240000"
  },
  {
    "text": "instance or what if you want to use a",
    "start": "240000",
    "end": "242720"
  },
  {
    "text": "different",
    "start": "242720",
    "end": "243599"
  },
  {
    "text": "compression algorithm altogether like",
    "start": "243599",
    "end": "245920"
  },
  {
    "text": "broadly",
    "start": "245920",
    "end": "246640"
  },
  {
    "text": "broadly compression algorithm or",
    "start": "246640",
    "end": "249680"
  },
  {
    "text": "finally what if you may also want to",
    "start": "249680",
    "end": "251760"
  },
  {
    "text": "decompress",
    "start": "251760",
    "end": "252879"
  },
  {
    "text": "the data at the proxy proxy layer",
    "start": "252879",
    "end": "257199"
  },
  {
    "text": "these were all the questions that",
    "start": "257199",
    "end": "258639"
  },
  {
    "text": "remained uh",
    "start": "258639",
    "end": "261440"
  },
  {
    "text": "and which we kind of asked ourselves",
    "start": "261440",
    "end": "264720"
  },
  {
    "text": "and that's one of the reason why we got",
    "start": "264720",
    "end": "268240"
  },
  {
    "text": "started with the work",
    "start": "268240",
    "end": "271280"
  },
  {
    "text": "that we did here",
    "start": "271280",
    "end": "274800"
  },
  {
    "text": "um well let's look at uh some of the",
    "start": "276639",
    "end": "279199"
  },
  {
    "text": "existing advantages in in",
    "start": "279199",
    "end": "281280"
  },
  {
    "text": "envoy um and these were kind of the",
    "start": "281280",
    "end": "284880"
  },
  {
    "text": "things that allowed",
    "start": "284880",
    "end": "286080"
  },
  {
    "text": "us to to start thinking uh the redesign",
    "start": "286080",
    "end": "288960"
  },
  {
    "text": "a more comprehensive",
    "start": "288960",
    "end": "290320"
  },
  {
    "text": "way and design the comprehensive",
    "start": "290320",
    "end": "293360"
  },
  {
    "text": "compression subsystem for quarantine",
    "start": "293360",
    "end": "297840"
  },
  {
    "text": "and first of all enroll is open source",
    "start": "298400",
    "end": "301039"
  },
  {
    "text": "and",
    "start": "301039",
    "end": "301680"
  },
  {
    "text": "in in our team basically our motto is uh",
    "start": "301680",
    "end": "304479"
  },
  {
    "text": "upstream for us",
    "start": "304479",
    "end": "305600"
  },
  {
    "text": "we wanted to propose changes to the",
    "start": "305600",
    "end": "308000"
  },
  {
    "text": "upstream and and get them accepted and",
    "start": "308000",
    "end": "310639"
  },
  {
    "text": "with open source",
    "start": "310639",
    "end": "312000"
  },
  {
    "text": "this is easily they should be easily",
    "start": "312000",
    "end": "314880"
  },
  {
    "text": "doable",
    "start": "314880",
    "end": "317280"
  },
  {
    "text": "um second thing is envoy",
    "start": "317919",
    "end": "320960"
  },
  {
    "text": "has very clear abstract interfaces for",
    "start": "320960",
    "end": "323840"
  },
  {
    "text": "instance for compression",
    "start": "323840",
    "end": "325680"
  },
  {
    "text": "we had these very basic uh basic",
    "start": "325680",
    "end": "328720"
  },
  {
    "text": "interfaces for",
    "start": "328720",
    "end": "330240"
  },
  {
    "text": "compressing and decompressing data and",
    "start": "330240",
    "end": "333199"
  },
  {
    "text": "that",
    "start": "333199",
    "end": "334479"
  },
  {
    "text": "is just uh provided through the data",
    "start": "334479",
    "end": "338160"
  },
  {
    "text": "buffers",
    "start": "338160",
    "end": "340639"
  },
  {
    "text": "and then third and perhaps the most",
    "start": "342560",
    "end": "345360"
  },
  {
    "text": "important point envoy has a very mature",
    "start": "345360",
    "end": "348000"
  },
  {
    "text": "extension",
    "start": "348000",
    "end": "349199"
  },
  {
    "text": "system that allows people to implement",
    "start": "349199",
    "end": "351280"
  },
  {
    "text": "their own own logic for",
    "start": "351280",
    "end": "353360"
  },
  {
    "text": "for very well defined extension points",
    "start": "353360",
    "end": "356319"
  },
  {
    "text": "and we can",
    "start": "356319",
    "end": "356960"
  },
  {
    "text": "we thought that perhaps compression",
    "start": "356960",
    "end": "358720"
  },
  {
    "text": "libraries could be the first",
    "start": "358720",
    "end": "360080"
  },
  {
    "text": "class extension points for online",
    "start": "360080",
    "end": "364080"
  },
  {
    "text": "uh so with that we just uh",
    "start": "365680",
    "end": "369120"
  },
  {
    "text": "took the time to prepare the initial",
    "start": "369120",
    "end": "370960"
  },
  {
    "text": "pull request uh",
    "start": "370960",
    "end": "372400"
  },
  {
    "text": "to generalize the existing gc filter",
    "start": "372400",
    "end": "375360"
  },
  {
    "text": "into a compression",
    "start": "375360",
    "end": "377199"
  },
  {
    "text": "uh algorithm agnostic filter uh",
    "start": "377199",
    "end": "380479"
  },
  {
    "text": "originally we were expect we were",
    "start": "380479",
    "end": "382240"
  },
  {
    "text": "expecting very smooth",
    "start": "382240",
    "end": "384000"
  },
  {
    "text": "process in in up streaming maybe with",
    "start": "384000",
    "end": "387120"
  },
  {
    "text": "just uh",
    "start": "387120",
    "end": "388080"
  },
  {
    "text": "a few comments review comments that we",
    "start": "388080",
    "end": "390639"
  },
  {
    "text": "needed to to address",
    "start": "390639",
    "end": "392080"
  },
  {
    "text": "and then we should be done and complete",
    "start": "392080",
    "end": "394560"
  },
  {
    "text": "with this",
    "start": "394560",
    "end": "395840"
  },
  {
    "text": "with this contribution but uh",
    "start": "395840",
    "end": "400240"
  },
  {
    "text": "uh it did not go like that we everything",
    "start": "400240",
    "end": "403600"
  },
  {
    "text": "did not",
    "start": "403600",
    "end": "404240"
  },
  {
    "text": "go as as we expected and at some point",
    "start": "404240",
    "end": "407759"
  },
  {
    "text": "as you can see a long time since we",
    "start": "407759",
    "end": "410800"
  },
  {
    "text": "originally started the purple request to",
    "start": "410800",
    "end": "413039"
  },
  {
    "text": "work",
    "start": "413039",
    "end": "413919"
  },
  {
    "text": "simply simply cut the stalls and we did",
    "start": "413919",
    "end": "416960"
  },
  {
    "text": "not see a",
    "start": "416960",
    "end": "417840"
  },
  {
    "text": "path getting getting the contribution",
    "start": "417840",
    "end": "420840"
  },
  {
    "text": "accepted",
    "start": "420840",
    "end": "422160"
  },
  {
    "text": "and myself and dmitry were like pretty",
    "start": "422160",
    "end": "424960"
  },
  {
    "text": "puzzled so why is it",
    "start": "424960",
    "end": "426639"
  },
  {
    "text": "so hard to get this accepted especially",
    "start": "426639",
    "end": "429120"
  },
  {
    "text": "because",
    "start": "429120",
    "end": "429759"
  },
  {
    "text": "uh the contribution",
    "start": "429759",
    "end": "432800"
  },
  {
    "text": "the implementation was meeting all the",
    "start": "432800",
    "end": "435199"
  },
  {
    "text": "needs that many others also had asked in",
    "start": "435199",
    "end": "438240"
  },
  {
    "text": "in the past and at this point we were",
    "start": "438240",
    "end": "442160"
  },
  {
    "text": "we were even like considering going with",
    "start": "442160",
    "end": "444639"
  },
  {
    "text": "with the plan",
    "start": "444639",
    "end": "445360"
  },
  {
    "text": "plan b and uh in implementing what we",
    "start": "445360",
    "end": "448080"
  },
  {
    "text": "wanted for the hardware accelerator",
    "start": "448080",
    "end": "450479"
  },
  {
    "text": "you're just using custom external",
    "start": "450479",
    "end": "452560"
  },
  {
    "text": "filters that",
    "start": "452560",
    "end": "453599"
  },
  {
    "text": "meets meets our needs",
    "start": "453599",
    "end": "457039"
  },
  {
    "text": "but then luckily the work was spotted by",
    "start": "458800",
    "end": "462639"
  },
  {
    "text": "michael and jose from",
    "start": "462639",
    "end": "464000"
  },
  {
    "text": "lyft somewhere um i think",
    "start": "464000",
    "end": "467120"
  },
  {
    "text": "in february time frame this year and",
    "start": "467120",
    "end": "470160"
  },
  {
    "text": "they had seen the work and they also had",
    "start": "470160",
    "end": "472720"
  },
  {
    "text": "the need",
    "start": "472720",
    "end": "473680"
  },
  {
    "text": "for envoy decompression in envoy mobile",
    "start": "473680",
    "end": "476800"
  },
  {
    "text": "to to keep their public apis",
    "start": "476800",
    "end": "479199"
  },
  {
    "text": "with with compressed responses and then",
    "start": "479199",
    "end": "482160"
  },
  {
    "text": "do",
    "start": "482160",
    "end": "482560"
  },
  {
    "text": "decompression in on the client client",
    "start": "482560",
    "end": "485039"
  },
  {
    "text": "side",
    "start": "485039",
    "end": "487360"
  },
  {
    "text": "so it's uh it's not always just open",
    "start": "489520",
    "end": "492400"
  },
  {
    "text": "source that makes these contributions",
    "start": "492400",
    "end": "494319"
  },
  {
    "text": "possible but especially for big",
    "start": "494319",
    "end": "496560"
  },
  {
    "text": "features like this contribution that we",
    "start": "496560",
    "end": "499520"
  },
  {
    "text": "had it's",
    "start": "499520",
    "end": "500319"
  },
  {
    "text": "really about the community and how the",
    "start": "500319",
    "end": "503120"
  },
  {
    "text": "community collaborates together",
    "start": "503120",
    "end": "505360"
  },
  {
    "text": "to kind of complete the last mile and",
    "start": "505360",
    "end": "508879"
  },
  {
    "text": "getting things",
    "start": "508879",
    "end": "509759"
  },
  {
    "text": "accepted upstream",
    "start": "509759",
    "end": "513039"
  },
  {
    "text": "and uh what what we learned from",
    "start": "514000",
    "end": "517200"
  },
  {
    "text": "from all all these uh",
    "start": "517200",
    "end": "520320"
  },
  {
    "text": "during the way to do while while getting",
    "start": "520320",
    "end": "522880"
  },
  {
    "text": "this is",
    "start": "522880",
    "end": "523760"
  },
  {
    "text": "accepted and uh merged in in upstream so",
    "start": "523760",
    "end": "528240"
  },
  {
    "text": "um one observation is that uh",
    "start": "528240",
    "end": "532560"
  },
  {
    "text": "sometimes it's best if you just share",
    "start": "532560",
    "end": "535839"
  },
  {
    "text": "the big picture the kind of the bigger",
    "start": "535839",
    "end": "538399"
  },
  {
    "text": "the design idea in in a shared",
    "start": "538399",
    "end": "541600"
  },
  {
    "text": "document uh to make the conversation",
    "start": "541600",
    "end": "544640"
  },
  {
    "text": "possible and then",
    "start": "544640",
    "end": "546240"
  },
  {
    "text": "uh eventually create the kind of",
    "start": "546240",
    "end": "548160"
  },
  {
    "text": "consensus uh",
    "start": "548160",
    "end": "549920"
  },
  {
    "text": "about the changes and the way forward",
    "start": "549920",
    "end": "553839"
  },
  {
    "text": "before before investing a lot of time",
    "start": "553839",
    "end": "556959"
  },
  {
    "text": "in in in working on on pocs and then",
    "start": "556959",
    "end": "562160"
  },
  {
    "text": "scratching the work and starting all",
    "start": "562160",
    "end": "564000"
  },
  {
    "text": "over",
    "start": "564000",
    "end": "565680"
  },
  {
    "text": "but this document it also helps to build",
    "start": "565680",
    "end": "567680"
  },
  {
    "text": "the community behind the work which is",
    "start": "567680",
    "end": "569760"
  },
  {
    "text": "uh super important as we just discussed",
    "start": "569760",
    "end": "572560"
  },
  {
    "text": "previously",
    "start": "572560",
    "end": "574320"
  },
  {
    "text": "uh and one other thing we also learned",
    "start": "574320",
    "end": "576720"
  },
  {
    "text": "that uh",
    "start": "576720",
    "end": "577519"
  },
  {
    "text": "sometimes all these open source",
    "start": "577519",
    "end": "579279"
  },
  {
    "text": "contributions they they need",
    "start": "579279",
    "end": "581360"
  },
  {
    "text": "a lot of patience and that don't give up",
    "start": "581360",
    "end": "584959"
  },
  {
    "text": "too easily if",
    "start": "584959",
    "end": "586080"
  },
  {
    "text": "if there's some delay in getting your",
    "start": "586080",
    "end": "589760"
  },
  {
    "text": "changes reviewed and accepted",
    "start": "589760",
    "end": "594399"
  },
  {
    "text": "good so um next",
    "start": "594720",
    "end": "598640"
  },
  {
    "text": "i think we have jose",
    "start": "598640",
    "end": "601839"
  },
  {
    "text": "going to talk about generalizing that",
    "start": "601839",
    "end": "604320"
  },
  {
    "text": "the envoy onward compression",
    "start": "604320",
    "end": "607200"
  },
  {
    "text": "all right thank you mikko so now that we",
    "start": "607200",
    "end": "609519"
  },
  {
    "text": "have that",
    "start": "609519",
    "end": "610320"
  },
  {
    "text": "background context of",
    "start": "610320",
    "end": "613839"
  },
  {
    "text": "what existed in the android compression",
    "start": "613839",
    "end": "616160"
  },
  {
    "text": "space with the specific gzip filter",
    "start": "616160",
    "end": "619040"
  },
  {
    "text": "second what were some of the use cases",
    "start": "619040",
    "end": "620880"
  },
  {
    "text": "that were not possible",
    "start": "620880",
    "end": "622480"
  },
  {
    "text": "with that previous implementation and",
    "start": "622480",
    "end": "625440"
  },
  {
    "text": "then",
    "start": "625440",
    "end": "626720"
  },
  {
    "text": "what advantages existed that could make",
    "start": "626720",
    "end": "628959"
  },
  {
    "text": "a general compression",
    "start": "628959",
    "end": "630160"
  },
  {
    "text": "compression system possible in envoy and",
    "start": "630160",
    "end": "632480"
  },
  {
    "text": "how all that work was possible thanks to",
    "start": "632480",
    "end": "635360"
  },
  {
    "text": "not only a cross-company collaboration",
    "start": "635360",
    "end": "637360"
  },
  {
    "text": "between us at lyft and",
    "start": "637360",
    "end": "639200"
  },
  {
    "text": "the folks at intel but really across",
    "start": "639200",
    "end": "641760"
  },
  {
    "text": "continent collaboration with",
    "start": "641760",
    "end": "643279"
  },
  {
    "text": "people in the united states and in",
    "start": "643279",
    "end": "644959"
  },
  {
    "text": "finland",
    "start": "644959",
    "end": "646320"
  },
  {
    "text": "so let's dive into uh what we actually",
    "start": "646320",
    "end": "648640"
  },
  {
    "text": "did in general",
    "start": "648640",
    "end": "649760"
  },
  {
    "text": "generalizing this compression system so",
    "start": "649760",
    "end": "653120"
  },
  {
    "text": "the first obvious thing when looking at",
    "start": "653120",
    "end": "654880"
  },
  {
    "text": "the g-step filter is that",
    "start": "654880",
    "end": "657040"
  },
  {
    "text": "um while this is what it looks from the",
    "start": "657040",
    "end": "659200"
  },
  {
    "text": "outside",
    "start": "659200",
    "end": "660320"
  },
  {
    "text": "if you look under the hood what you have",
    "start": "660320",
    "end": "662640"
  },
  {
    "text": "is a filter in two parts",
    "start": "662640",
    "end": "664560"
  },
  {
    "text": "the hdp filter part and then the",
    "start": "664560",
    "end": "666800"
  },
  {
    "text": "compressor part",
    "start": "666800",
    "end": "668800"
  },
  {
    "text": "so the if if we zoom in here the htp",
    "start": "668800",
    "end": "672160"
  },
  {
    "text": "filter part",
    "start": "672160",
    "end": "673040"
  },
  {
    "text": "deals with the http level concerns like",
    "start": "673040",
    "end": "676000"
  },
  {
    "text": "looking for the accept encoding header",
    "start": "676000",
    "end": "678320"
  },
  {
    "text": "like miko was saying or replacing the",
    "start": "678320",
    "end": "680000"
  },
  {
    "text": "data frames with the compressed data",
    "start": "680000",
    "end": "682720"
  },
  {
    "text": "and then the filter itself uses the gzip",
    "start": "682720",
    "end": "686399"
  },
  {
    "text": "compressor",
    "start": "686399",
    "end": "687279"
  },
  {
    "text": "compressor which it itself is the one",
    "start": "687279",
    "end": "690160"
  },
  {
    "text": "that is compressing",
    "start": "690160",
    "end": "691440"
  },
  {
    "text": "the data buffers using the gzip",
    "start": "691440",
    "end": "693600"
  },
  {
    "text": "algorithm",
    "start": "693600",
    "end": "696079"
  },
  {
    "text": "so uh going back to the existing",
    "start": "696240",
    "end": "698320"
  },
  {
    "text": "advantages what became",
    "start": "698320",
    "end": "699680"
  },
  {
    "text": "evident when looking at the filter this",
    "start": "699680",
    "end": "702560"
  },
  {
    "text": "way",
    "start": "702560",
    "end": "702880"
  },
  {
    "text": "is that there was nothing specific in",
    "start": "702880",
    "end": "704480"
  },
  {
    "text": "the filter that required the compressor",
    "start": "704480",
    "end": "707360"
  },
  {
    "text": "to behave in a certain way to use gzip",
    "start": "707360",
    "end": "710240"
  },
  {
    "text": "to compress",
    "start": "710240",
    "end": "711440"
  },
  {
    "text": "because he used this very simple",
    "start": "711440",
    "end": "713040"
  },
  {
    "text": "interface that we had seen before",
    "start": "713040",
    "end": "714880"
  },
  {
    "text": "a compressor only has one function it",
    "start": "714880",
    "end": "717519"
  },
  {
    "text": "compresses",
    "start": "717519",
    "end": "720079"
  },
  {
    "text": "so there was a very clear delineation of",
    "start": "720079",
    "end": "722560"
  },
  {
    "text": "where we could divide the filter",
    "start": "722560",
    "end": "726160"
  },
  {
    "text": "and then plug in a compressor library",
    "start": "726720",
    "end": "729600"
  },
  {
    "text": "regardless of the",
    "start": "729600",
    "end": "731040"
  },
  {
    "text": "compression algorithm that it used",
    "start": "731040",
    "end": "734639"
  },
  {
    "text": "so now that we had this generic",
    "start": "734639",
    "end": "736720"
  },
  {
    "text": "compressor",
    "start": "736720",
    "end": "737760"
  },
  {
    "text": "working within the generic http",
    "start": "737760",
    "end": "739839"
  },
  {
    "text": "compressor filter",
    "start": "739839",
    "end": "741440"
  },
  {
    "text": "we could raise the compressor itself to",
    "start": "741440",
    "end": "743839"
  },
  {
    "text": "be a first class extension in envoy",
    "start": "743839",
    "end": "746800"
  },
  {
    "text": "and so this is done using the classes",
    "start": "746800",
    "end": "748959"
  },
  {
    "text": "that we see here",
    "start": "748959",
    "end": "750480"
  },
  {
    "text": "where we have a class that derives from",
    "start": "750480",
    "end": "752880"
  },
  {
    "text": "the config",
    "start": "752880",
    "end": "754240"
  },
  {
    "text": "type factory class and then every",
    "start": "754240",
    "end": "756800"
  },
  {
    "text": "particular implementation",
    "start": "756800",
    "end": "759120"
  },
  {
    "text": "of of a compressor library derives from",
    "start": "759120",
    "end": "761680"
  },
  {
    "text": "that in turn",
    "start": "761680",
    "end": "762720"
  },
  {
    "text": "so now our gzip compressor or perhaps",
    "start": "762720",
    "end": "765760"
  },
  {
    "text": "our broadly compressor in the future",
    "start": "765760",
    "end": "767680"
  },
  {
    "text": "derived from the name compressor library",
    "start": "767680",
    "end": "769920"
  },
  {
    "text": "config class",
    "start": "769920",
    "end": "771760"
  },
  {
    "text": "and then the compressor filter uses this",
    "start": "771760",
    "end": "774320"
  },
  {
    "text": "compressor factory class the generic",
    "start": "774320",
    "end": "776320"
  },
  {
    "text": "compressor factory class",
    "start": "776320",
    "end": "778240"
  },
  {
    "text": "to create compressors with which to",
    "start": "778240",
    "end": "781200"
  },
  {
    "text": "actually compress",
    "start": "781200",
    "end": "782399"
  },
  {
    "text": "the data in other words",
    "start": "782399",
    "end": "786160"
  },
  {
    "text": "we achieved the first of our goals we",
    "start": "786160",
    "end": "789120"
  },
  {
    "text": "are now",
    "start": "789120",
    "end": "789680"
  },
  {
    "text": "able to have any number of different",
    "start": "789680",
    "end": "792079"
  },
  {
    "text": "compressor screen",
    "start": "792079",
    "end": "793120"
  },
  {
    "text": "schemes in envoy without each having to",
    "start": "793120",
    "end": "795839"
  },
  {
    "text": "implement",
    "start": "795839",
    "end": "796639"
  },
  {
    "text": "an http filter themselves we can just",
    "start": "796639",
    "end": "799680"
  },
  {
    "text": "plug",
    "start": "799680",
    "end": "800000"
  },
  {
    "text": "in any of them into the generic",
    "start": "800000",
    "end": "802079"
  },
  {
    "text": "compressor filter so whether it is a",
    "start": "802079",
    "end": "803839"
  },
  {
    "text": "gzip compressor or a bradley compressor",
    "start": "803839",
    "end": "806399"
  },
  {
    "text": "or like our friends at intel hardware",
    "start": "806399",
    "end": "808959"
  },
  {
    "text": "accelerated gzip",
    "start": "808959",
    "end": "812079"
  },
  {
    "text": "all right so on to our second goal what",
    "start": "812800",
    "end": "815120"
  },
  {
    "text": "about a full compression system",
    "start": "815120",
    "end": "817279"
  },
  {
    "text": "uh one that can both compress and",
    "start": "817279",
    "end": "820160"
  },
  {
    "text": "decompress data",
    "start": "820160",
    "end": "821920"
  },
  {
    "text": "well that was easier now that we had a",
    "start": "821920",
    "end": "823920"
  },
  {
    "text": "generic implementation of a compressor",
    "start": "823920",
    "end": "825839"
  },
  {
    "text": "filter",
    "start": "825839",
    "end": "827680"
  },
  {
    "text": "we used the same principle of",
    "start": "827680",
    "end": "829279"
  },
  {
    "text": "abstraction using the",
    "start": "829279",
    "end": "831120"
  },
  {
    "text": "generic decompressor class",
    "start": "831120",
    "end": "834639"
  },
  {
    "text": "and created a generic decompressor",
    "start": "834639",
    "end": "837040"
  },
  {
    "text": "filter that used",
    "start": "837040",
    "end": "838320"
  },
  {
    "text": "a portable generic decompressor",
    "start": "838320",
    "end": "841600"
  },
  {
    "text": "thus creating a fully pluggable hdp",
    "start": "841600",
    "end": "844720"
  },
  {
    "text": "decompressor filter",
    "start": "844720",
    "end": "847839"
  },
  {
    "text": "so parallel to the compressors as first",
    "start": "847920",
    "end": "851199"
  },
  {
    "text": "class",
    "start": "851199",
    "end": "851680"
  },
  {
    "text": "extension points in android we created",
    "start": "851680",
    "end": "854160"
  },
  {
    "text": "decompressors",
    "start": "854160",
    "end": "855279"
  },
  {
    "text": "as first class extension points in",
    "start": "855279",
    "end": "857680"
  },
  {
    "text": "android",
    "start": "857680",
    "end": "860079"
  },
  {
    "text": "thus we pave the way for having not only",
    "start": "860160",
    "end": "863279"
  },
  {
    "text": "a gcp compressor",
    "start": "863279",
    "end": "864880"
  },
  {
    "text": "but also having any number of the",
    "start": "864880",
    "end": "867360"
  },
  {
    "text": "compressors",
    "start": "867360",
    "end": "868560"
  },
  {
    "text": "to parallel the com the compressors that",
    "start": "868560",
    "end": "870880"
  },
  {
    "text": "we were adding",
    "start": "870880",
    "end": "873920"
  },
  {
    "text": "so now we have a complete generic",
    "start": "874399",
    "end": "877519"
  },
  {
    "text": "end-to-end compression solution powered",
    "start": "877519",
    "end": "880240"
  },
  {
    "text": "by android",
    "start": "880240",
    "end": "881199"
  },
  {
    "text": "where service b can send a response",
    "start": "881199",
    "end": "885600"
  },
  {
    "text": "and then the http compressor filter can",
    "start": "885600",
    "end": "888320"
  },
  {
    "text": "compress that response",
    "start": "888320",
    "end": "890880"
  },
  {
    "text": "which arrives to service a",
    "start": "890880",
    "end": "894000"
  },
  {
    "text": "and in turn its http decompressor filter",
    "start": "894000",
    "end": "897600"
  },
  {
    "text": "can decompress",
    "start": "897600",
    "end": "898720"
  },
  {
    "text": "the response before proxying it to the",
    "start": "898720",
    "end": "901279"
  },
  {
    "text": "service itself",
    "start": "901279",
    "end": "902720"
  },
  {
    "text": "so as you can see compression is",
    "start": "902720",
    "end": "904959"
  },
  {
    "text": "completely done",
    "start": "904959",
    "end": "906000"
  },
  {
    "text": "in the network layer without having to",
    "start": "906000",
    "end": "908079"
  },
  {
    "text": "involve any product engineers owners of",
    "start": "908079",
    "end": "910399"
  },
  {
    "text": "service a",
    "start": "910399",
    "end": "911120"
  },
  {
    "text": "or service b",
    "start": "911120",
    "end": "913839"
  },
  {
    "text": "all right so this is what the android",
    "start": "914959",
    "end": "917120"
  },
  {
    "text": "compression extension tree",
    "start": "917120",
    "end": "918560"
  },
  {
    "text": "looks like the common directory",
    "start": "918560",
    "end": "921360"
  },
  {
    "text": "implements the generic compressor and",
    "start": "921360",
    "end": "923120"
  },
  {
    "text": "decompressor factory base classes",
    "start": "923120",
    "end": "925279"
  },
  {
    "text": "that all compressors and decompressors",
    "start": "925279",
    "end": "927360"
  },
  {
    "text": "derive from",
    "start": "927360",
    "end": "929360"
  },
  {
    "text": "and then each particular compression",
    "start": "929360",
    "end": "931519"
  },
  {
    "text": "scheme has its own tree",
    "start": "931519",
    "end": "933120"
  },
  {
    "text": "where they have a compressor and a",
    "start": "933120",
    "end": "935360"
  },
  {
    "text": "decompressor",
    "start": "935360",
    "end": "936480"
  },
  {
    "text": "and potentially a common base class that",
    "start": "936480",
    "end": "939120"
  },
  {
    "text": "derive",
    "start": "939120",
    "end": "940000"
  },
  {
    "text": "from you know some scheme specific",
    "start": "940000",
    "end": "942320"
  },
  {
    "text": "functionality",
    "start": "942320",
    "end": "944160"
  },
  {
    "text": "so in android currently we have the gzip",
    "start": "944160",
    "end": "947600"
  },
  {
    "text": "compressor and decompressor but as we",
    "start": "947600",
    "end": "950639"
  },
  {
    "text": "have been saying the beauty of this",
    "start": "950639",
    "end": "952320"
  },
  {
    "text": "first class extension is that",
    "start": "952320",
    "end": "957120"
  },
  {
    "text": "any number of compression schemes can be",
    "start": "957120",
    "end": "959360"
  },
  {
    "text": "added whether",
    "start": "959360",
    "end": "961199"
  },
  {
    "text": "added upstream to the the main envoy",
    "start": "961199",
    "end": "963920"
  },
  {
    "text": "repo",
    "start": "963920",
    "end": "964639"
  },
  {
    "text": "or in your private build of envoy",
    "start": "964639",
    "end": "969360"
  },
  {
    "text": "all right so that's a whirlwind tour of",
    "start": "969360",
    "end": "972560"
  },
  {
    "text": "uh how we generalize decompression uh",
    "start": "972560",
    "end": "975360"
  },
  {
    "text": "but most exciting we want to present",
    "start": "975360",
    "end": "977360"
  },
  {
    "text": "some of the case studies",
    "start": "977360",
    "end": "978959"
  },
  {
    "text": "uh that were enabled thanks to the to",
    "start": "978959",
    "end": "982079"
  },
  {
    "text": "this generalized compression scheme",
    "start": "982079",
    "end": "985839"
  },
  {
    "text": "and uh the first one oh sorry we could",
    "start": "986800",
    "end": "990079"
  },
  {
    "text": "go ahead",
    "start": "990079",
    "end": "990800"
  },
  {
    "text": "yeah so just time thanks jose so i was",
    "start": "990800",
    "end": "993040"
  },
  {
    "text": "about to say that our first uh",
    "start": "993040",
    "end": "994639"
  },
  {
    "text": "case study talks about implementing",
    "start": "994639",
    "end": "996480"
  },
  {
    "text": "hardware accelerated",
    "start": "996480",
    "end": "998000"
  },
  {
    "text": "compression for for onward",
    "start": "998000",
    "end": "1002399"
  },
  {
    "text": "um so some a little bit about the",
    "start": "1004639",
    "end": "1007600"
  },
  {
    "text": "rationale for",
    "start": "1007600",
    "end": "1008720"
  },
  {
    "text": "why why doing hardware accelerated",
    "start": "1008720",
    "end": "1010959"
  },
  {
    "text": "compression",
    "start": "1010959",
    "end": "1012240"
  },
  {
    "text": "typically hardware acceleration can",
    "start": "1012240",
    "end": "1014240"
  },
  {
    "text": "bring several benefits",
    "start": "1014240",
    "end": "1016160"
  },
  {
    "text": "to to your application for instance um",
    "start": "1016160",
    "end": "1019839"
  },
  {
    "text": "as you know being like very time",
    "start": "1019839",
    "end": "1021600"
  },
  {
    "text": "consuming uh process",
    "start": "1021600",
    "end": "1023279"
  },
  {
    "text": "it might make sense to overload all this",
    "start": "1023279",
    "end": "1025918"
  },
  {
    "text": "compression processing to a dedicated",
    "start": "1025919",
    "end": "1028319"
  },
  {
    "text": "co-processor sometimes even like a",
    "start": "1028319",
    "end": "1032319"
  },
  {
    "text": "hardware that is completely optimized",
    "start": "1032319",
    "end": "1035038"
  },
  {
    "text": "for this particular task",
    "start": "1035039",
    "end": "1038000"
  },
  {
    "text": "and then the added benefit with that is",
    "start": "1038000",
    "end": "1040720"
  },
  {
    "text": "that then you can",
    "start": "1040720",
    "end": "1041760"
  },
  {
    "text": "free cpu cycles for for something more",
    "start": "1041760",
    "end": "1044640"
  },
  {
    "text": "important that runs on on the main main",
    "start": "1044640",
    "end": "1046720"
  },
  {
    "text": "cpu and then",
    "start": "1046720",
    "end": "1048480"
  },
  {
    "text": "uh the co-processor the accelerated core",
    "start": "1048480",
    "end": "1051760"
  },
  {
    "text": "processor",
    "start": "1051760",
    "end": "1052559"
  },
  {
    "text": "doing all the all the all the work",
    "start": "1052559",
    "end": "1056559"
  },
  {
    "text": "in our case we have implemented a",
    "start": "1061600",
    "end": "1063440"
  },
  {
    "text": "reference implementation using this uh",
    "start": "1063440",
    "end": "1066000"
  },
  {
    "text": "on onward compression subsystem for and",
    "start": "1066000",
    "end": "1068559"
  },
  {
    "text": "for an intel quick assist technology",
    "start": "1068559",
    "end": "1070640"
  },
  {
    "text": "card",
    "start": "1070640",
    "end": "1071840"
  },
  {
    "text": "it's a it's got a dedicated card",
    "start": "1071840",
    "end": "1073840"
  },
  {
    "text": "optimized for",
    "start": "1073840",
    "end": "1074960"
  },
  {
    "text": "crypto and compression compression",
    "start": "1074960",
    "end": "1078840"
  },
  {
    "text": "processing",
    "start": "1078840",
    "end": "1080320"
  },
  {
    "text": "and this implementation",
    "start": "1080320",
    "end": "1084240"
  },
  {
    "text": "adds a qat compression compressor",
    "start": "1084240",
    "end": "1088799"
  },
  {
    "text": "we have it uh implemented in an external",
    "start": "1088799",
    "end": "1091760"
  },
  {
    "text": "repository as",
    "start": "1091760",
    "end": "1092799"
  },
  {
    "text": "also mentioned it is also with with the",
    "start": "1092799",
    "end": "1095440"
  },
  {
    "text": "envoy extension mechanism possible to",
    "start": "1095440",
    "end": "1098160"
  },
  {
    "text": "add your custom implementations",
    "start": "1098160",
    "end": "1102320"
  },
  {
    "text": "easily living in in their own external",
    "start": "1102320",
    "end": "1106840"
  },
  {
    "text": "repositories and the qat compressor we",
    "start": "1106840",
    "end": "1110080"
  },
  {
    "text": "have",
    "start": "1110080",
    "end": "1110480"
  },
  {
    "text": "uh implemented uses a framework",
    "start": "1110480",
    "end": "1114559"
  },
  {
    "text": "what what we have called qat zip and",
    "start": "1114559",
    "end": "1117360"
  },
  {
    "text": "then the q a d zip then directly uses",
    "start": "1117360",
    "end": "1120000"
  },
  {
    "text": "the",
    "start": "1120000",
    "end": "1120480"
  },
  {
    "text": "q a t hardware abstraction layer and the",
    "start": "1120480",
    "end": "1123600"
  },
  {
    "text": "driver",
    "start": "1123600",
    "end": "1124240"
  },
  {
    "text": "and sending out all the compression",
    "start": "1124240",
    "end": "1126720"
  },
  {
    "text": "requests",
    "start": "1126720",
    "end": "1128160"
  },
  {
    "text": "to uh to the dedicated co-cooperative",
    "start": "1128160",
    "end": "1131200"
  },
  {
    "text": "co-processor",
    "start": "1131200",
    "end": "1133200"
  },
  {
    "text": "we have it right now we have it only for",
    "start": "1133200",
    "end": "1136480"
  },
  {
    "text": "compressors basically we are able to",
    "start": "1136480",
    "end": "1139440"
  },
  {
    "text": "compress the data",
    "start": "1139440",
    "end": "1141520"
  },
  {
    "text": "and what we what we are working on right",
    "start": "1141520",
    "end": "1143760"
  },
  {
    "text": "now is that we're just",
    "start": "1143760",
    "end": "1145760"
  },
  {
    "text": "adding looking to add almost there",
    "start": "1145760",
    "end": "1149039"
  },
  {
    "text": "adding the decompressor piece",
    "start": "1149039",
    "end": "1152640"
  },
  {
    "text": "for the hardware acceleration as well",
    "start": "1152640",
    "end": "1155120"
  },
  {
    "text": "based on",
    "start": "1155120",
    "end": "1155840"
  },
  {
    "text": "our our experiments this this piece of",
    "start": "1155840",
    "end": "1159120"
  },
  {
    "text": "compression uh in in addition to the",
    "start": "1159120",
    "end": "1162080"
  },
  {
    "text": "fact that",
    "start": "1162080",
    "end": "1162640"
  },
  {
    "text": "we are also able to free cpu cycles for",
    "start": "1162640",
    "end": "1165679"
  },
  {
    "text": "some kidneys",
    "start": "1165679",
    "end": "1168480"
  },
  {
    "text": "all right so thank you for that case",
    "start": "1172640",
    "end": "1174960"
  },
  {
    "text": "study uh",
    "start": "1174960",
    "end": "1176000"
  },
  {
    "text": "there are some published results and we",
    "start": "1176000",
    "end": "1178080"
  },
  {
    "text": "will share the link",
    "start": "1178080",
    "end": "1179600"
  },
  {
    "text": "with the presentation slides so now",
    "start": "1179600",
    "end": "1182400"
  },
  {
    "text": "let's talk about the envoy mobile use",
    "start": "1182400",
    "end": "1184160"
  },
  {
    "text": "case",
    "start": "1184160",
    "end": "1185360"
  },
  {
    "text": "i want to first give a quick overview of",
    "start": "1185360",
    "end": "1187280"
  },
  {
    "text": "the goal of the android mobile project",
    "start": "1187280",
    "end": "1189280"
  },
  {
    "text": "and what it is as a baseline context for",
    "start": "1189280",
    "end": "1192480"
  },
  {
    "text": "this case study",
    "start": "1192480",
    "end": "1193600"
  },
  {
    "text": "uh this diagram shows an increasingly",
    "start": "1193600",
    "end": "1195679"
  },
  {
    "text": "common topology in",
    "start": "1195679",
    "end": "1197039"
  },
  {
    "text": "network distributed systems these days",
    "start": "1197039",
    "end": "1198799"
  },
  {
    "text": "i'm sure many of you at your companies",
    "start": "1198799",
    "end": "1201039"
  },
  {
    "text": "uh have a setup similar to this where",
    "start": "1201039",
    "end": "1203520"
  },
  {
    "text": "envoy is deployed as a universal network",
    "start": "1203520",
    "end": "1206159"
  },
  {
    "text": "primitive",
    "start": "1206159",
    "end": "1207120"
  },
  {
    "text": "where it deals with the majority if not",
    "start": "1207120",
    "end": "1209280"
  },
  {
    "text": "all the network traffic in a company's",
    "start": "1209280",
    "end": "1211200"
  },
  {
    "text": "architecture",
    "start": "1211200",
    "end": "1213200"
  },
  {
    "text": "however my team at lyft recognized that",
    "start": "1213200",
    "end": "1215760"
  },
  {
    "text": "we had left an important hop outside the",
    "start": "1215760",
    "end": "1217760"
  },
  {
    "text": "ecosystem",
    "start": "1217760",
    "end": "1218640"
  },
  {
    "text": "because traditionally we've treated",
    "start": "1218640",
    "end": "1220400"
  },
  {
    "text": "mobile clients as independent",
    "start": "1220400",
    "end": "1222480"
  },
  {
    "text": "from the backend infrastructure and we",
    "start": "1222480",
    "end": "1224480"
  },
  {
    "text": "have built unique solutions",
    "start": "1224480",
    "end": "1226000"
  },
  {
    "text": "to what was assumed to be a unique space",
    "start": "1226000",
    "end": "1228960"
  },
  {
    "text": "so we identified a technology gap",
    "start": "1228960",
    "end": "1231280"
  },
  {
    "text": "because in spite of all the work that we",
    "start": "1231280",
    "end": "1232880"
  },
  {
    "text": "had done server side",
    "start": "1232880",
    "end": "1234320"
  },
  {
    "text": "we saw that three nines of reliability",
    "start": "1234320",
    "end": "1236880"
  },
  {
    "text": "at the server side is meaningless if the",
    "start": "1236880",
    "end": "1238720"
  },
  {
    "text": "user of a mobile client is",
    "start": "1238720",
    "end": "1240400"
  },
  {
    "text": "only able to complete the desired",
    "start": "1240400",
    "end": "1242480"
  },
  {
    "text": "product flows a fraction of the time",
    "start": "1242480",
    "end": "1245760"
  },
  {
    "text": "so what we want side are the same",
    "start": "1245760",
    "end": "1248400"
  },
  {
    "text": "guarantees that we had",
    "start": "1248400",
    "end": "1249760"
  },
  {
    "text": "server side so that is what we created",
    "start": "1249760",
    "end": "1252559"
  },
  {
    "text": "android mobile we propose that we don't",
    "start": "1252559",
    "end": "1254640"
  },
  {
    "text": "need to treat the mobile clients any",
    "start": "1254640",
    "end": "1256480"
  },
  {
    "text": "different at least from the network",
    "start": "1256480",
    "end": "1258000"
  },
  {
    "text": "perspective",
    "start": "1258000",
    "end": "1259120"
  },
  {
    "text": "as we do with the server set",
    "start": "1259120",
    "end": "1261360"
  },
  {
    "text": "infrastructure",
    "start": "1261360",
    "end": "1262480"
  },
  {
    "text": "so this is what my this is why my team",
    "start": "1262480",
    "end": "1264960"
  },
  {
    "text": "built this over the last year",
    "start": "1264960",
    "end": "1266400"
  },
  {
    "text": "we have built bindings into envoy that",
    "start": "1266400",
    "end": "1269039"
  },
  {
    "text": "allow us",
    "start": "1269039",
    "end": "1269760"
  },
  {
    "text": "to run the code base as a native library",
    "start": "1269760",
    "end": "1272480"
  },
  {
    "text": "in a mobile client application",
    "start": "1272480",
    "end": "1275039"
  },
  {
    "text": "and so we have great documentation and a",
    "start": "1275039",
    "end": "1276960"
  },
  {
    "text": "ton of material about the project so if",
    "start": "1276960",
    "end": "1278480"
  },
  {
    "text": "you're interested in the project in",
    "start": "1278480",
    "end": "1279840"
  },
  {
    "text": "itself",
    "start": "1279840",
    "end": "1280480"
  },
  {
    "text": "uh please uh feel free to take a look",
    "start": "1280480",
    "end": "1282799"
  },
  {
    "text": "it's also all open source",
    "start": "1282799",
    "end": "1285440"
  },
  {
    "text": "but today we are here to talk about",
    "start": "1285440",
    "end": "1286960"
  },
  {
    "text": "compression and in particular",
    "start": "1286960",
    "end": "1288720"
  },
  {
    "text": "show you uh with how with android mobile",
    "start": "1288720",
    "end": "1291919"
  },
  {
    "text": "in the client and with envoy at the edge",
    "start": "1291919",
    "end": "1294640"
  },
  {
    "text": "of our infrastructure",
    "start": "1294640",
    "end": "1296000"
  },
  {
    "text": "and with this new generic compression",
    "start": "1296000",
    "end": "1297919"
  },
  {
    "text": "subsystem we were able to do some things",
    "start": "1297919",
    "end": "1300320"
  },
  {
    "text": "that would have been too",
    "start": "1300320",
    "end": "1301520"
  },
  {
    "text": "resource intensive in the past so",
    "start": "1301520",
    "end": "1304880"
  },
  {
    "text": "compression at the edge is particularly",
    "start": "1304880",
    "end": "1306880"
  },
  {
    "text": "important because payload sizes can lead",
    "start": "1306880",
    "end": "1309120"
  },
  {
    "text": "to performance degradation",
    "start": "1309120",
    "end": "1310799"
  },
  {
    "text": "under adverse network conditions which",
    "start": "1310799",
    "end": "1313120"
  },
  {
    "text": "are usually experienced",
    "start": "1313120",
    "end": "1314480"
  },
  {
    "text": "by mobile phones making public api",
    "start": "1314480",
    "end": "1316640"
  },
  {
    "text": "requests to your infrastructure",
    "start": "1316640",
    "end": "1319440"
  },
  {
    "text": "so as i mentioned before lyft compresses",
    "start": "1319440",
    "end": "1322159"
  },
  {
    "text": "all responses at the edge",
    "start": "1322159",
    "end": "1324320"
  },
  {
    "text": "and we wanted to have at least the same",
    "start": "1324320",
    "end": "1326320"
  },
  {
    "text": "behavior",
    "start": "1326320",
    "end": "1327360"
  },
  {
    "text": "when we migrated of our old",
    "start": "1327360",
    "end": "1331120"
  },
  {
    "text": "client stacks to envoy mobile",
    "start": "1331120",
    "end": "1334320"
  },
  {
    "text": "so in the past before android mobile",
    "start": "1334320",
    "end": "1337200"
  },
  {
    "text": "implementing compression at the edge",
    "start": "1337200",
    "end": "1339120"
  },
  {
    "text": "required three different code bases one",
    "start": "1339120",
    "end": "1341760"
  },
  {
    "text": "for the edge proxy",
    "start": "1341760",
    "end": "1343280"
  },
  {
    "text": "one for the android client and one for",
    "start": "1343280",
    "end": "1345760"
  },
  {
    "text": "the ios client",
    "start": "1345760",
    "end": "1347360"
  },
  {
    "text": "so this might be okay if we just wanted",
    "start": "1347360",
    "end": "1350080"
  },
  {
    "text": "to put you know",
    "start": "1350080",
    "end": "1351120"
  },
  {
    "text": "one compression algorithm in place and",
    "start": "1351120",
    "end": "1353039"
  },
  {
    "text": "just leave it be",
    "start": "1353039",
    "end": "1355360"
  },
  {
    "text": "but my team started asking questions",
    "start": "1355360",
    "end": "1357919"
  },
  {
    "text": "very similar",
    "start": "1357919",
    "end": "1358720"
  },
  {
    "text": "to our colleagues at intel what if we",
    "start": "1358720",
    "end": "1361360"
  },
  {
    "text": "wanted to squeeze better compression and",
    "start": "1361360",
    "end": "1363600"
  },
  {
    "text": "does better performance with different",
    "start": "1363600",
    "end": "1365200"
  },
  {
    "text": "compression schemes",
    "start": "1365200",
    "end": "1366320"
  },
  {
    "text": "what about bi-directional compression",
    "start": "1366320",
    "end": "1368320"
  },
  {
    "text": "where we not only compress responses but",
    "start": "1368320",
    "end": "1370400"
  },
  {
    "text": "also",
    "start": "1370400",
    "end": "1371039"
  },
  {
    "text": "requests and these questions quickly",
    "start": "1371039",
    "end": "1374080"
  },
  {
    "text": "become intractable",
    "start": "1374080",
    "end": "1375520"
  },
  {
    "text": "if for every variation that we want to",
    "start": "1375520",
    "end": "1378320"
  },
  {
    "text": "test",
    "start": "1378320",
    "end": "1378880"
  },
  {
    "text": "we need to implement the same code three",
    "start": "1378880",
    "end": "1381039"
  },
  {
    "text": "times server",
    "start": "1381039",
    "end": "1382320"
  },
  {
    "text": "android and ios",
    "start": "1382320",
    "end": "1385440"
  },
  {
    "text": "and that is really one of the main",
    "start": "1385440",
    "end": "1387200"
  },
  {
    "text": "reasons we embarked on the anway mobile",
    "start": "1387200",
    "end": "1389360"
  },
  {
    "text": "project to begin with",
    "start": "1389360",
    "end": "1391039"
  },
  {
    "text": "because by using the same code base",
    "start": "1391039",
    "end": "1393200"
  },
  {
    "text": "everywhere with envoy mobile in the",
    "start": "1393200",
    "end": "1394960"
  },
  {
    "text": "client",
    "start": "1394960",
    "end": "1395679"
  },
  {
    "text": "and envoy at the edge we are able to",
    "start": "1395679",
    "end": "1398080"
  },
  {
    "text": "have only one",
    "start": "1398080",
    "end": "1399039"
  },
  {
    "text": "implementation for every new technology",
    "start": "1399039",
    "end": "1401120"
  },
  {
    "text": "we want to experiment with",
    "start": "1401120",
    "end": "1402880"
  },
  {
    "text": "affording us on parallel consistency and",
    "start": "1402880",
    "end": "1405520"
  },
  {
    "text": "extensibility",
    "start": "1405520",
    "end": "1406640"
  },
  {
    "text": "at a fraction of the engineering hours",
    "start": "1406640",
    "end": "1408559"
  },
  {
    "text": "required in the past",
    "start": "1408559",
    "end": "1410960"
  },
  {
    "text": "so in other words now we do have truly a",
    "start": "1410960",
    "end": "1414159"
  },
  {
    "text": "true universal",
    "start": "1414159",
    "end": "1415840"
  },
  {
    "text": "network primitive that we can experiment",
    "start": "1415840",
    "end": "1417760"
  },
  {
    "text": "with",
    "start": "1417760",
    "end": "1419840"
  },
  {
    "text": "and why we became so interested in",
    "start": "1419840",
    "end": "1421840"
  },
  {
    "text": "collaborating with our colleagues at",
    "start": "1421840",
    "end": "1423520"
  },
  {
    "text": "intel in this",
    "start": "1423520",
    "end": "1424880"
  },
  {
    "text": "compression subsystem all right",
    "start": "1424880",
    "end": "1428559"
  },
  {
    "text": "so let's see how we brought compression",
    "start": "1428559",
    "end": "1431200"
  },
  {
    "text": "back",
    "start": "1431200",
    "end": "1431600"
  },
  {
    "text": "to the edge uh with only one",
    "start": "1431600",
    "end": "1433679"
  },
  {
    "text": "implementation",
    "start": "1433679",
    "end": "1434640"
  },
  {
    "text": "and without involving either our client",
    "start": "1434640",
    "end": "1437039"
  },
  {
    "text": "or server engineers",
    "start": "1437039",
    "end": "1439840"
  },
  {
    "text": "so before we go into compression let's",
    "start": "1439840",
    "end": "1441919"
  },
  {
    "text": "look at the request flow",
    "start": "1441919",
    "end": "1443520"
  },
  {
    "text": "using android mobile very similar to",
    "start": "1443520",
    "end": "1445919"
  },
  {
    "text": "onboard on the server and we mobile",
    "start": "1445919",
    "end": "1447679"
  },
  {
    "text": "proxies requests from the client",
    "start": "1447679",
    "end": "1450000"
  },
  {
    "text": "to the edge proxy upstream and then the",
    "start": "1450000",
    "end": "1452960"
  },
  {
    "text": "edge proxies",
    "start": "1452960",
    "end": "1454240"
  },
  {
    "text": "the requests that receive that request",
    "start": "1454240",
    "end": "1457039"
  },
  {
    "text": "further",
    "start": "1457039",
    "end": "1458480"
  },
  {
    "text": "proxy that to the upstream service",
    "start": "1458480",
    "end": "1462000"
  },
  {
    "text": "similarly on the response path the edge",
    "start": "1462000",
    "end": "1464400"
  },
  {
    "text": "receives a response",
    "start": "1464400",
    "end": "1466320"
  },
  {
    "text": "sent it to the client using android",
    "start": "1466320",
    "end": "1468400"
  },
  {
    "text": "mobile which in turn surfaces that to",
    "start": "1468400",
    "end": "1470799"
  },
  {
    "text": "the application via callbacks in the",
    "start": "1470799",
    "end": "1472559"
  },
  {
    "text": "library",
    "start": "1472559",
    "end": "1474320"
  },
  {
    "text": "all right so the first step in enabling",
    "start": "1474320",
    "end": "1476400"
  },
  {
    "text": "compression is installing the new",
    "start": "1476400",
    "end": "1477840"
  },
  {
    "text": "compressor filter with a particular",
    "start": "1477840",
    "end": "1479760"
  },
  {
    "text": "compressor library on the edge nodes",
    "start": "1479760",
    "end": "1482559"
  },
  {
    "text": "at this point nothing changes in the",
    "start": "1482559",
    "end": "1484320"
  },
  {
    "text": "client the client sends a request",
    "start": "1484320",
    "end": "1486720"
  },
  {
    "text": "which envoy mobile proxies to the edge",
    "start": "1486720",
    "end": "1489279"
  },
  {
    "text": "but now",
    "start": "1489279",
    "end": "1489919"
  },
  {
    "text": "the edges compressor filter searches for",
    "start": "1489919",
    "end": "1492000"
  },
  {
    "text": "the accept encoding header",
    "start": "1492000",
    "end": "1493840"
  },
  {
    "text": "which allows the filter to know if it",
    "start": "1493840",
    "end": "1496480"
  },
  {
    "text": "should compress the response for this",
    "start": "1496480",
    "end": "1498840"
  },
  {
    "text": "request but the header is missing",
    "start": "1498840",
    "end": "1501520"
  },
  {
    "text": "so it simply forwards the request and",
    "start": "1501520",
    "end": "1504159"
  },
  {
    "text": "then when the",
    "start": "1504159",
    "end": "1505039"
  },
  {
    "text": "response comes back it does nothing with",
    "start": "1505039",
    "end": "1507279"
  },
  {
    "text": "it and",
    "start": "1507279",
    "end": "1508400"
  },
  {
    "text": "passes it back to android mobile",
    "start": "1508400",
    "end": "1511760"
  },
  {
    "text": "but now we can install the decompressor",
    "start": "1511760",
    "end": "1514240"
  },
  {
    "text": "filter",
    "start": "1514240",
    "end": "1514799"
  },
  {
    "text": "in android mobile and here i want to",
    "start": "1514799",
    "end": "1516960"
  },
  {
    "text": "highlight how easy that was",
    "start": "1516960",
    "end": "1518880"
  },
  {
    "text": "we didn't have a help filter before and",
    "start": "1518880",
    "end": "1520960"
  },
  {
    "text": "then boom we installed the filter",
    "start": "1520960",
    "end": "1523279"
  },
  {
    "text": "so easy well jokes aside this is easy",
    "start": "1523279",
    "end": "1526640"
  },
  {
    "text": "because android mobile",
    "start": "1526640",
    "end": "1528000"
  },
  {
    "text": "is envoy so we can install the same",
    "start": "1528000",
    "end": "1530240"
  },
  {
    "text": "filters that we use in envoy on the",
    "start": "1530240",
    "end": "1532159"
  },
  {
    "text": "server",
    "start": "1532159",
    "end": "1532799"
  },
  {
    "text": "including the decompressor filter",
    "start": "1532799",
    "end": "1536240"
  },
  {
    "text": "all right so now that we have the",
    "start": "1536240",
    "end": "1538159"
  },
  {
    "text": "decompressor the client sends a request",
    "start": "1538159",
    "end": "1540799"
  },
  {
    "text": "and the decompressor adds the accept",
    "start": "1540799",
    "end": "1543360"
  },
  {
    "text": "encoding header",
    "start": "1543360",
    "end": "1544960"
  },
  {
    "text": "so when the compressor at the edge",
    "start": "1544960",
    "end": "1547279"
  },
  {
    "text": "searches for that header",
    "start": "1547279",
    "end": "1548640"
  },
  {
    "text": "it finds it so then the compress",
    "start": "1548640",
    "end": "1551039"
  },
  {
    "text": "decompress",
    "start": "1551039",
    "end": "1551760"
  },
  {
    "text": "the compressor strips the header and",
    "start": "1551760",
    "end": "1553919"
  },
  {
    "text": "lets the envoy",
    "start": "1553919",
    "end": "1555279"
  },
  {
    "text": "proxy the request but thanks to the",
    "start": "1555279",
    "end": "1558880"
  },
  {
    "text": "accept encoding header the compressor is",
    "start": "1558880",
    "end": "1561679"
  },
  {
    "text": "now",
    "start": "1561679",
    "end": "1562000"
  },
  {
    "text": "primed to compress the response because",
    "start": "1562000",
    "end": "1564480"
  },
  {
    "text": "it knows that the client",
    "start": "1564480",
    "end": "1566320"
  },
  {
    "text": "is going to be able to handle this",
    "start": "1566320",
    "end": "1567919"
  },
  {
    "text": "compressed response so when the response",
    "start": "1567919",
    "end": "1570799"
  },
  {
    "text": "comes back",
    "start": "1570799",
    "end": "1571760"
  },
  {
    "text": "the compressor compresses the response",
    "start": "1571760",
    "end": "1574080"
  },
  {
    "text": "and in turn the decompressor filter",
    "start": "1574080",
    "end": "1576400"
  },
  {
    "text": "decompresses it before sending it back",
    "start": "1576400",
    "end": "1578559"
  },
  {
    "text": "to the application",
    "start": "1578559",
    "end": "1580159"
  },
  {
    "text": "all without the client or the server",
    "start": "1580159",
    "end": "1582640"
  },
  {
    "text": "engineer",
    "start": "1582640",
    "end": "1583279"
  },
  {
    "text": "being involved at all nice",
    "start": "1583279",
    "end": "1586960"
  },
  {
    "text": "so we were really excited with this",
    "start": "1586960",
    "end": "1589200"
  },
  {
    "text": "first zero touch implementation and we",
    "start": "1589200",
    "end": "1591120"
  },
  {
    "text": "started thinking what else could we do",
    "start": "1591120",
    "end": "1592960"
  },
  {
    "text": "at the edge with envoy mobile in the",
    "start": "1592960",
    "end": "1595200"
  },
  {
    "text": "client and with envoy in the server",
    "start": "1595200",
    "end": "1599360"
  },
  {
    "text": "so potentially we could have",
    "start": "1599360",
    "end": "1600640"
  },
  {
    "text": "bi-directional compression so instead of",
    "start": "1600640",
    "end": "1603200"
  },
  {
    "text": "this setup",
    "start": "1603200",
    "end": "1604080"
  },
  {
    "text": "where only the response gets compressed",
    "start": "1604080",
    "end": "1606880"
  },
  {
    "text": "to be sent across the edge",
    "start": "1606880",
    "end": "1609039"
  },
  {
    "text": "we could have a more complicated setup",
    "start": "1609039",
    "end": "1611679"
  },
  {
    "text": "but",
    "start": "1611679",
    "end": "1612240"
  },
  {
    "text": "it is a setup where both the client and",
    "start": "1612240",
    "end": "1614880"
  },
  {
    "text": "the server",
    "start": "1614880",
    "end": "1615840"
  },
  {
    "text": "have both a compressor and a",
    "start": "1615840",
    "end": "1617919"
  },
  {
    "text": "decompressor filter",
    "start": "1617919",
    "end": "1620320"
  },
  {
    "text": "allowing both requests and responses",
    "start": "1620320",
    "end": "1623440"
  },
  {
    "text": "to be sent compressed across the wire",
    "start": "1623440",
    "end": "1627360"
  },
  {
    "text": "but we could you know do more than that",
    "start": "1627360",
    "end": "1630000"
  },
  {
    "text": "not only",
    "start": "1630000",
    "end": "1631039"
  },
  {
    "text": "are we allowed to do bi-directional",
    "start": "1631039",
    "end": "1633120"
  },
  {
    "text": "compression now",
    "start": "1633120",
    "end": "1634159"
  },
  {
    "text": "but we could also run experiments with",
    "start": "1634159",
    "end": "1636080"
  },
  {
    "text": "different compression schemes",
    "start": "1636080",
    "end": "1637600"
  },
  {
    "text": "and fine-tune our compression settings",
    "start": "1637600",
    "end": "1640159"
  },
  {
    "text": "to achieve",
    "start": "1640159",
    "end": "1640880"
  },
  {
    "text": "less degradation at the edge and",
    "start": "1640880",
    "end": "1642799"
  },
  {
    "text": "ultimately higher success with our",
    "start": "1642799",
    "end": "1645039"
  },
  {
    "text": "public apis",
    "start": "1645039",
    "end": "1647279"
  },
  {
    "text": "so this is the android mobile case study",
    "start": "1647279",
    "end": "1649760"
  },
  {
    "text": "and",
    "start": "1649760",
    "end": "1650559"
  },
  {
    "text": "this very very flexible compression",
    "start": "1650559",
    "end": "1652480"
  },
  {
    "text": "system has really enabled",
    "start": "1652480",
    "end": "1654000"
  },
  {
    "text": "us to pursue a lot of avenues that would",
    "start": "1654000",
    "end": "1656960"
  },
  {
    "text": "have been intractable",
    "start": "1656960",
    "end": "1658480"
  },
  {
    "text": "due to the engineering hours required",
    "start": "1658480",
    "end": "1661600"
  },
  {
    "text": "beforehand so those two were the",
    "start": "1661600",
    "end": "1665039"
  },
  {
    "text": "big use cases that drove compression uh",
    "start": "1665039",
    "end": "1668320"
  },
  {
    "text": "forward with a cross-company",
    "start": "1668320",
    "end": "1670240"
  },
  {
    "text": "cross-continent collaboration to thank",
    "start": "1670240",
    "end": "1672159"
  },
  {
    "text": "for",
    "start": "1672159",
    "end": "1673279"
  },
  {
    "text": "however we have many things planned for",
    "start": "1673279",
    "end": "1675360"
  },
  {
    "text": "the compression space in envoy",
    "start": "1675360",
    "end": "1677440"
  },
  {
    "text": "first even though the new compressor",
    "start": "1677440",
    "end": "1679679"
  },
  {
    "text": "filter has been around",
    "start": "1679679",
    "end": "1681200"
  },
  {
    "text": "since the 1.15 release the old gzip",
    "start": "1681200",
    "end": "1684640"
  },
  {
    "text": "filter is still there",
    "start": "1684640",
    "end": "1685919"
  },
  {
    "text": "we plan to remove it from envoy by the",
    "start": "1685919",
    "end": "1688240"
  },
  {
    "text": "next release",
    "start": "1688240",
    "end": "1688960"
  },
  {
    "text": "1.17 second",
    "start": "1688960",
    "end": "1692159"
  },
  {
    "text": "is bradley support which is currently",
    "start": "1692159",
    "end": "1694000"
  },
  {
    "text": "being worked on by dimitri at intel",
    "start": "1694000",
    "end": "1697279"
  },
  {
    "text": "third is having a bi-directional",
    "start": "1697279",
    "end": "1699919"
  },
  {
    "text": "compressor",
    "start": "1699919",
    "end": "1700880"
  },
  {
    "text": "bi-directional decompressor has already",
    "start": "1700880",
    "end": "1703039"
  },
  {
    "text": "been implemented by myself",
    "start": "1703039",
    "end": "1704799"
  },
  {
    "text": "but to have a fully bi-directional",
    "start": "1704799",
    "end": "1706880"
  },
  {
    "text": "end-to-end compression system",
    "start": "1706880",
    "end": "1708559"
  },
  {
    "text": "we're missing request compression this",
    "start": "1708559",
    "end": "1711039"
  },
  {
    "text": "is very easy to add",
    "start": "1711039",
    "end": "1712559"
  },
  {
    "text": "in the compressor filter in case anyone",
    "start": "1712559",
    "end": "1714559"
  },
  {
    "text": "in the audience is interested",
    "start": "1714559",
    "end": "1717679"
  },
  {
    "text": "having this pluggable compression",
    "start": "1717679",
    "end": "1719279"
  },
  {
    "text": "libraries enables us to apply",
    "start": "1719279",
    "end": "1720880"
  },
  {
    "text": "compression to other parts of envoy",
    "start": "1720880",
    "end": "1723120"
  },
  {
    "text": "your ideas are welcome on which parts",
    "start": "1723120",
    "end": "1725520"
  },
  {
    "text": "exactly can benefit from it",
    "start": "1725520",
    "end": "1728559"
  },
  {
    "text": "lastly it is worth mentioning that the",
    "start": "1728559",
    "end": "1731120"
  },
  {
    "text": "performance of gzip compression in envoy",
    "start": "1731120",
    "end": "1733679"
  },
  {
    "text": "still has room for improvement for",
    "start": "1733679",
    "end": "1735679"
  },
  {
    "text": "example gc compression",
    "start": "1735679",
    "end": "1737440"
  },
  {
    "text": "engine x works about 25 percent faster",
    "start": "1737440",
    "end": "1740080"
  },
  {
    "text": "than an envoy when configured similarly",
    "start": "1740080",
    "end": "1743679"
  },
  {
    "text": "these are just some of the items we have",
    "start": "1743679",
    "end": "1745760"
  },
  {
    "text": "planned in the compression roadmap",
    "start": "1745760",
    "end": "1748159"
  },
  {
    "text": "but we can't wait for seeing",
    "start": "1748159",
    "end": "1751440"
  },
  {
    "text": "what other interests the community has",
    "start": "1751440",
    "end": "1753760"
  },
  {
    "text": "for this new subsystem",
    "start": "1753760",
    "end": "1755120"
  },
  {
    "text": "well uh that's uh that's all we had uh",
    "start": "1755120",
    "end": "1758240"
  },
  {
    "text": "for today thanks for for listening and",
    "start": "1758240",
    "end": "1760640"
  },
  {
    "text": "watching us",
    "start": "1760640",
    "end": "1761360"
  },
  {
    "text": "and looking forward to see you in the",
    "start": "1761360",
    "end": "1763159"
  },
  {
    "text": "community",
    "start": "1763159",
    "end": "1766159"
  }
]