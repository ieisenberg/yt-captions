[
  {
    "text": "all right well thanks for coming guys and welcome to automated Cloud native instant response with kubernetes and",
    "start": "240",
    "end": "6000"
  },
  {
    "text": "service mesh Matt and I will introduce ourselves momentarily for now we would like to thank the cloud native computer",
    "start": "6000",
    "end": "12540"
  },
  {
    "text": "Foundation event team for yet another great cubicon my friend cool so I'm mattena I'm a",
    "start": "12540",
    "end": "19740"
  },
  {
    "text": "software engineer at tetrate we are a company that looks at helping Enterprises with identity based",
    "start": "19740",
    "end": "25740"
  },
  {
    "text": "application micro segmentation so we use istio and Envoy in all those texts as an implementation detail to help you scale",
    "start": "25740",
    "end": "31740"
  },
  {
    "text": "your organization scale your security as you've got multiple clusters multiple regions multiple meshes",
    "start": "31740",
    "end": "37680"
  },
  {
    "text": "and I'm Francesca I'm a security engineering manager at control plane I spent a few years at University then I",
    "start": "37680",
    "end": "43320"
  },
  {
    "text": "moved into the IT OT security spaces then I stood up the security operations",
    "start": "43320",
    "end": "48539"
  },
  {
    "text": "center and incident response capability for a large satellite mobile provider I work for control play now because I",
    "start": "48539",
    "end": "54780"
  },
  {
    "text": "didn't want to see a network cable anymore in my life uh control plane is a cloud native security consultancy",
    "start": "54780",
    "end": "60000"
  },
  {
    "text": "established in 2017 based in London but we have offices in North America and APAC as well security specialists in",
    "start": "60000",
    "end": "67020"
  },
  {
    "text": "kubernetes container and open source in general we train on all the above as well and we focus on deeply threat model",
    "start": "67020",
    "end": "74340"
  },
  {
    "text": "the secuba design and scuba default Cloud native architectures and more recently we stood up a new service which",
    "start": "74340",
    "end": "80460"
  },
  {
    "text": "consists of helping customers Bridging the Gap between infrastructure Cloud native infrastructure and security",
    "start": "80460",
    "end": "87479"
  },
  {
    "text": "operations so what will we be talking about today we'll go through some basic concepts about security incident",
    "start": "87479",
    "end": "93479"
  },
  {
    "text": "response to make sure that people in the room and they have the again the basic concept that they we speak a Common",
    "start": "93479",
    "end": "98640"
  },
  {
    "text": "Language and then we'll go through a story where in organizations more",
    "start": "98640",
    "end": "104400"
  },
  {
    "text": "recently start adopting a more proactive approach to incense response and bring and brought some automation as well to",
    "start": "104400",
    "end": "111360"
  },
  {
    "text": "help them counter attacking and then the thumb will begin Matt will",
    "start": "111360",
    "end": "116460"
  },
  {
    "text": "walk you through some Cloud native technology and Concepts through an incident response lens and then there",
    "start": "116460",
    "end": "123060"
  },
  {
    "text": "will be a walkthrough literally of a response on a reference architecture on a kubernetes cluster cool so apologies",
    "start": "123060",
    "end": "131580"
  },
  {
    "text": "to the Security Professionals in the room but we have to do this so I'll start from the definitions that most",
    "start": "131580",
    "end": "137400"
  },
  {
    "text": "professionals disagree on incident and response I like these two incident an",
    "start": "137400",
    "end": "143520"
  },
  {
    "text": "event that could lead to the loss of or disruption to in organizations operations data services or functions a",
    "start": "143520",
    "end": "151020"
  },
  {
    "text": "security incident is an event that may indicate that an organization system or data have been compromised all that",
    "start": "151020",
    "end": "158099"
  },
  {
    "text": "measures put in place to protect them have failed response to such incidents a",
    "start": "158099",
    "end": "163260"
  },
  {
    "text": "set of people process technology to identify contain eliminate and recover",
    "start": "163260",
    "end": "168540"
  },
  {
    "text": "from such events what do we mean with the people processing technology I can't stress enough the importance",
    "start": "168540",
    "end": "175760"
  },
  {
    "text": "healthy security operations they have they rely on having the right people in",
    "start": "175760",
    "end": "180900"
  },
  {
    "text": "the right seat your analysts your engineers your forensics team unfortunately managers too uh you should",
    "start": "180900",
    "end": "187920"
  },
  {
    "text": "Define your processes well document them well rehearse them Define your run books to respond to incidents make sure you",
    "start": "187920",
    "end": "194459"
  },
  {
    "text": "cover processes like a threat Intel dissemination to your sensors asset isolation evidence Gathering From",
    "start": "194459",
    "end": "200879"
  },
  {
    "text": "allegedly compromised assets and then get the technology right come up with a",
    "start": "200879",
    "end": "207599"
  },
  {
    "text": "stack that works for the organization sustainable scalable include a classicity sensors IPS and EDR agents",
    "start": "207599",
    "end": "215580"
  },
  {
    "text": "include your Cloud native sensors Falco or whatever your cloud service provider",
    "start": "215580",
    "end": "220799"
  },
  {
    "text": "provides for you cloudtrailer VPC flow logs in Amazon for example and then",
    "start": "220799",
    "end": "226620"
  },
  {
    "text": "um stood up your security incident and an event management platform or Sim to collect all these logs and try to make",
    "start": "226620",
    "end": "233040"
  },
  {
    "text": "sense out of them and then as we'll see later introduce some automation gently maturing your security response",
    "start": "233040",
    "end": "240239"
  },
  {
    "text": "capability to try to take the humans out of the picture as soon as possible yeah timeout Francesca timeout okay",
    "start": "240239",
    "end": "246599"
  },
  {
    "text": "we're not all hackers just I had a little bit of research to understand what this guy was talking about so for those folks who don't work in security",
    "start": "246599",
    "end": "252599"
  },
  {
    "text": "all the time yeah just a few of the terms you're going to be hearing so when we talk about an ioc this is important",
    "start": "252599",
    "end": "258660"
  },
  {
    "text": "this is an indicator of compromise so this is anything that sort of points to the attack yeah this is kind of a useful",
    "start": "258660",
    "end": "264600"
  },
  {
    "text": "thing this took a lot of Googling um this is anything that will point to the sort of attack that's going on so the idea the malicious payload that's",
    "start": "264600",
    "end": "270479"
  },
  {
    "text": "causing the uh the thing or like a Cisco or disk access profile from like an",
    "start": "270479",
    "end": "276060"
  },
  {
    "text": "owned workload something like that um the if we say sock we mean the security operations center which is you",
    "start": "276060",
    "end": "282120"
  },
  {
    "text": "know the room where the people are sat with you know eyes on glass looking at all the information coming in making",
    "start": "282120",
    "end": "287160"
  },
  {
    "text": "decisions a signal is any sort of security related event that we monitor",
    "start": "287160",
    "end": "292979"
  },
  {
    "text": "that comes into that room that those folks look at and then yeah we've got your scene which is essentially your",
    "start": "292979",
    "end": "298020"
  },
  {
    "text": "your dashboard of all these security related events that are coming in so that humans can look at them and decide",
    "start": "298020",
    "end": "303540"
  },
  {
    "text": "uh whether you know real security incidents on what to do and then saw is essentially a workflow engine so it's",
    "start": "303540",
    "end": "309540"
  },
  {
    "text": "essentially a set of you know sort of scripted playbooks for automated responses that we've that we've",
    "start": "309540",
    "end": "314940"
  },
  {
    "text": "practiced thank you Matt um in terms of existing Frameworks to",
    "start": "314940",
    "end": "320100"
  },
  {
    "text": "respond to incidents there are a few um on out there for this talk we will use",
    "start": "320100",
    "end": "326280"
  },
  {
    "text": "the nist instant response framework there is another one from Sans which is quite you find it quite often in",
    "start": "326280",
    "end": "332160"
  },
  {
    "text": "organizations the nist instant response framework articulated over four steps",
    "start": "332160",
    "end": "337500"
  },
  {
    "text": "preparation you got your teams the teams they have the right knowledge about the infrastructure and they're upskilled and",
    "start": "337500",
    "end": "344820"
  },
  {
    "text": "then you have your playbooks and round books defined they are implemented and rehearsed",
    "start": "344820",
    "end": "349919"
  },
  {
    "text": "and then your your technology and infrastructure is well observed you have that observability right so that events",
    "start": "349919",
    "end": "357060"
  },
  {
    "text": "coming into the security operations center so step two is about detecting threats and analyze those threats once",
    "start": "357060",
    "end": "364199"
  },
  {
    "text": "uh at the outcome of the analysis is basically um label an event as a false positive or",
    "start": "364199",
    "end": "369419"
  },
  {
    "text": "true positive and some variations in between but overall if it's a true positive then you you move to step three",
    "start": "369419",
    "end": "375000"
  },
  {
    "text": "you move to contain the threat eradicate the threat from your environment and recover from it if there was a service",
    "start": "375000",
    "end": "380960"
  },
  {
    "text": "service disruption step four pass the incident activity how this happened how",
    "start": "380960",
    "end": "387660"
  },
  {
    "text": "can we try to make sure it doesn't happen again again just to do a little translation of",
    "start": "387660",
    "end": "393660"
  },
  {
    "text": "this because some of these terms are used in ways that I.E found a bit counter-intuitive I guess as a Dev not a security person",
    "start": "393660",
    "end": "400080"
  },
  {
    "text": "um yeah so that detection step is watching for the signals in the scene as we talked about analysis is looking at",
    "start": "400080",
    "end": "405419"
  },
  {
    "text": "the alerts or looking at the information that's coming through trying to work out if it's a real incident and and you know working out deducing those those",
    "start": "405419",
    "end": "411900"
  },
  {
    "text": "indicators of compromise you know what is the byte string that's being used to to try to pop me uh or how do I tell",
    "start": "411900",
    "end": "417600"
  },
  {
    "text": "when a workload has been compromised and what we're looking to actually produce at the end is is one of these indicators",
    "start": "417600",
    "end": "423000"
  },
  {
    "text": "a compromise which is often a check sum actually of whatever the buy string is so that we can feed it into say a",
    "start": "423000",
    "end": "428460"
  },
  {
    "text": "firewall and just have it blocked uh containment is is maybe a little counter-intuitive so when they say containment they mean stopping the",
    "start": "428460",
    "end": "435360"
  },
  {
    "text": "attack going further kind of limiting its blast radius so that does mean stopping privilege escalation stopping",
    "start": "435360",
    "end": "441360"
  },
  {
    "text": "lateral movement um but it also means actually this is where we would actually block the attack right so stopping the attack going",
    "start": "441360",
    "end": "447479"
  },
  {
    "text": "further means stopping other copies of the same workload falling fouled of the same exploit so this",
    "start": "447479",
    "end": "454259"
  },
  {
    "text": "includes the you know that you might not see on this list you block the attack it's actually included in containment it's maybe not obvious uh eradication",
    "start": "454259",
    "end": "461220"
  },
  {
    "text": "then says okay so we you know we blocked it it can't it can't move it can't happen again but we have had some things that have been compromised so we have to",
    "start": "461220",
    "end": "467280"
  },
  {
    "text": "go clear them out that's eradication and then recovery is about restoring the normal service because",
    "start": "467280",
    "end": "473940"
  },
  {
    "text": "um we'll we'll come on to this it's important it's sort of implicit in the nist response framework is the fact that",
    "start": "473940",
    "end": "479520"
  },
  {
    "text": "your response is going to involve kind of turning everything off right panicking and shutting things down and cleaning re-imaging things uh so",
    "start": "479520",
    "end": "486360"
  },
  {
    "text": "recovery is about getting your normal level of service back and a lot of what we're going to talk about is is maybe ways to sidestep data and not have too",
    "start": "486360",
    "end": "493680"
  },
  {
    "text": "much service disruption when you're responding to an incident but that's what the recovery part means it means turning all the windows servers back on",
    "start": "493680",
    "end": "499080"
  },
  {
    "text": "again correct thanks Matt so as I mentioned during the agenda walkthrough",
    "start": "499080",
    "end": "504840"
  },
  {
    "text": "organizations at some point uh recognize that the classic instant response process was a little reactive and then",
    "start": "504840",
    "end": "512159"
  },
  {
    "text": "they start moving or they recognize the need to move into something more proactive and so they introduced",
    "start": "512159",
    "end": "518640"
  },
  {
    "text": "something called intelligence driven defense so we dropped the 101 in our response capability and we start",
    "start": "518640",
    "end": "525959"
  },
  {
    "text": "adopting something called kill chain perspective kill chain is step-by-step approach that identifies and stops",
    "start": "525959",
    "end": "531839"
  },
  {
    "text": "proactively enemy activity implements intent based response behavior-based",
    "start": "531839",
    "end": "537360"
  },
  {
    "text": "detection to get a step ahead of adversaries of course to do that it's critical to have divider intelligence",
    "start": "537360",
    "end": "543860"
  },
  {
    "text": "such as indicators of compromise but what is actually the skill chain I'm",
    "start": "543860",
    "end": "549060"
  },
  {
    "text": "referring to well what it was broadly identified that attackers to get to your crown jewels",
    "start": "549060",
    "end": "555360"
  },
  {
    "text": "they go through seven steps those seven steps captured in the Cyber kill chain reconnaissance weaponization delivery",
    "start": "555360",
    "end": "562620"
  },
  {
    "text": "exploitation installation commanding controls and then actual actions on objectives",
    "start": "562620",
    "end": "568260"
  },
  {
    "text": "but the tricky bit is that they have thousands of ways to perform each step right and as responders we only have a",
    "start": "568260",
    "end": "575459"
  },
  {
    "text": "finite amount of resources unless you are biologic organization but still you have",
    "start": "575459",
    "end": "580680"
  },
  {
    "text": "finite amount of resources so how do we deal with that but thankfully thankfully",
    "start": "580680",
    "end": "586140"
  },
  {
    "text": "we don't have to because some organizations like my tree came up with a great framework like attack which",
    "start": "586140",
    "end": "593040"
  },
  {
    "text": "consists of a taxonomy of tactics and techniques talking about technical stuff",
    "start": "593040",
    "end": "598459"
  },
  {
    "text": "that attackers Implement to actually Bridge the organization and again get to",
    "start": "598459",
    "end": "604320"
  },
  {
    "text": "that actions on an objective try to get to those crown jewels it's completely open source a gold mine of information",
    "start": "604320",
    "end": "610740"
  },
  {
    "text": "again to figure out how your most likely threats the ones most likely to Target your organization are going to operate",
    "start": "610740",
    "end": "617220"
  },
  {
    "text": "and therefore how you can break that kill chain based on the tactics and how they implement it uh so to summarize",
    "start": "617220",
    "end": "623220"
  },
  {
    "text": "intelligence-driven defense is all about one thing knowing your enemy which actually is not really a new thing isn't",
    "start": "623220",
    "end": "630779"
  },
  {
    "text": "it because apologies for the heart of War quote but um uh soon so the other",
    "start": "630779",
    "end": "637320"
  },
  {
    "text": "War quote is if you know the enemy and yourself you need not fear the result of a hundred battles but also one of the",
    "start": "637320",
    "end": "644100"
  },
  {
    "text": "greatest bands in the world uh said the same right know your enemy so they they have to be right but how do you respond",
    "start": "644100",
    "end": "651600"
  },
  {
    "text": "fast enough to attackers to me and to make sure you manage to break to break that kill chain well again you don't you",
    "start": "651600",
    "end": "658920"
  },
  {
    "text": "get a computer to do it for you so kill China actually introduced some",
    "start": "658920",
    "end": "663959"
  },
  {
    "text": "required introducing something called soar security orchestration automation response is a platform called a tech",
    "start": "663959",
    "end": "671100"
  },
  {
    "text": "stack that enables organizations to collect data about security threats and respond to security event with",
    "start": "671100",
    "end": "678420"
  },
  {
    "text": "little or no human assistance again there are commercial platforms",
    "start": "678420",
    "end": "684000"
  },
  {
    "text": "open source platforms we are Tech agnostic in this talk so we won't mention anything of course so to do that",
    "start": "684000",
    "end": "690120"
  },
  {
    "text": "requires access to your infrastructure to a degree via apis VIA service account and this is also going to be the Crux at",
    "start": "690120",
    "end": "697800"
  },
  {
    "text": "the end of this talk right to wrap up the boring part instant",
    "start": "697800",
    "end": "704279"
  },
  {
    "text": "response challenges Associated are it can get very complex reaction time is",
    "start": "704279",
    "end": "709740"
  },
  {
    "text": "critical technology interoperability is a challenge and sometimes you have to deal with limited Automation and this",
    "start": "709740",
    "end": "717360"
  },
  {
    "text": "gets even worse when we are talking about Cloud native response because it's relatively new",
    "start": "717360",
    "end": "723120"
  },
  {
    "text": "there is a skills Gap in incident responding team that's inevitable it's",
    "start": "723120",
    "end": "728399"
  },
  {
    "text": "very fast paced it's really hard to get observability right back to the point before and then you have to deal with",
    "start": "728399",
    "end": "735779"
  },
  {
    "text": "things like volatility scaling and so on and is also very difficult for security",
    "start": "735779",
    "end": "741060"
  },
  {
    "text": "operations to integrate properly and in a non-disruptive fashion with teams",
    "start": "741060",
    "end": "746279"
  },
  {
    "text": "practices such as infrastructure provisioning and devops pipelines however",
    "start": "746279",
    "end": "752959"
  },
  {
    "text": "let's look on the bright side I guess so how can responding to incidents in a cloud native platform actually help us",
    "start": "753000",
    "end": "759480"
  },
  {
    "text": "right um how can Cloud native technology be be a bonus so first of all obviously these",
    "start": "759480",
    "end": "765000"
  },
  {
    "text": "platforms are more advanced uh you know they have a bunch of advanced capabilities uh around",
    "start": "765000",
    "end": "770160"
  },
  {
    "text": "um you know they're just a high level of extraction so they restart workloads they they Auto scale workloads they do",
    "start": "770160",
    "end": "775320"
  },
  {
    "text": "all the cool you know kubernetes stuff that we know about so we just got a lot more levers to pull um in terms of automation you know",
    "start": "775320",
    "end": "781980"
  },
  {
    "text": "they're automatable they're automated these things were they do a lot of things for us already out of the box they're designed to be extended and to",
    "start": "781980",
    "end": "788639"
  },
  {
    "text": "be automated they've got nice apis they're sort of ergonomic to develop against and then get Ops is actually you know",
    "start": "788639",
    "end": "795420"
  },
  {
    "text": "probably not exclusively a cloud native pattern but definitely goes hand in hand and this gives us a a whole bunch of",
    "start": "795420",
    "end": "801899"
  },
  {
    "text": "like tools in our toolkit that are really useful when we're responding to incidents so if we do our response through git Ops then we've got an audit",
    "start": "801899",
    "end": "808800"
  },
  {
    "text": "trail of all the things we did right I mean you know get repos a Merkel tree everybody loves a blockchain so there's that but it's also sort of it's it's",
    "start": "808800",
    "end": "815519"
  },
  {
    "text": "deterministic it's reproducible it's declarative it's just a nicer way of working and it also uh can be an",
    "start": "815519",
    "end": "823019"
  },
  {
    "text": "advantage when it comes to the sort of privileged operations right so your your script or your users don't need highly",
    "start": "823019",
    "end": "828300"
  },
  {
    "text": "privileged access all they need to do is commit into git and then you've you know you've got the audit log you've got all",
    "start": "828300",
    "end": "833579"
  },
  {
    "text": "the gating that you might need any any Rigo that applies and then you know operators in a cluster will pick up uh",
    "start": "833579",
    "end": "839940"
  },
  {
    "text": "cids pertaining to exactly what they need to do and they'll have exactly the minimal set of permissions to do them so we can you know split things out and we",
    "start": "839940",
    "end": "846480"
  },
  {
    "text": "can understand the operations uh in a much more Cloud native way",
    "start": "846480",
    "end": "851519"
  },
  {
    "text": "so the cncf landscape is so big now it's fractal right but there are we for this",
    "start": "851519",
    "end": "857519"
  },
  {
    "text": "talk we're going to be focusing mostly on kubernetes in istio I think this is pretty pretty standard platform these days so you know the benefits that",
    "start": "857519",
    "end": "863880"
  },
  {
    "text": "kubernetes gives us when we're when we're building these platforms they're responding to instances as I said the the out of the box Behavior around",
    "start": "863880",
    "end": "869820"
  },
  {
    "text": "rescheduling and recovering applications that support for custom operators and for extensibility are the not",
    "start": "869820",
    "end": "876600"
  },
  {
    "text": "technically a kubernetes thing but obviously you know guitars is is a a big deal these days and then more tactical",
    "start": "876600",
    "end": "882480"
  },
  {
    "text": "things like uh support for hard and run times uh in a first class way with a runtime class resource support for",
    "start": "882480",
    "end": "887880"
  },
  {
    "text": "ephemeral debug containers uh and then some more Alpha stuff that's coming down the the road all of which we'll look at",
    "start": "887880",
    "end": "893579"
  },
  {
    "text": "like the container checkpointing stuff and then what istio brings us is is sort",
    "start": "893579",
    "end": "899220"
  },
  {
    "text": "of layer 7 networking right so we're we're moving we're lifting our application our political Communications into this layer 7 Network where all of",
    "start": "899220",
    "end": "906600"
  },
  {
    "text": "your application layer Protocols are you know passed and understood um so you know we've got we can have",
    "start": "906600",
    "end": "913019"
  },
  {
    "text": "full logging of any metadata of any bodies because the you know the proxy can can parse and understand what it's",
    "start": "913019",
    "end": "918600"
  },
  {
    "text": "seeing on the wire and that gives us fine-grained control of the traffic right so rather than uh an older layer 4",
    "start": "918600",
    "end": "924959"
  },
  {
    "text": "firewall being programmed on you know five tuples you know Source an IP of uh support and IP of sourcing destination",
    "start": "924959",
    "end": "930660"
  },
  {
    "text": "we can instead put in firewall rules based on HTTP methods and and headers and paths and all those kind of things",
    "start": "930660",
    "end": "937680"
  },
  {
    "text": "um and because we've got the sidecar and this only does apply to the sidecar model not ambient mode because we've got",
    "start": "937680",
    "end": "943139"
  },
  {
    "text": "a sidecar alongside every workload then you've got policy enforcement at every hop right so you've got that policy",
    "start": "943139",
    "end": "948600"
  },
  {
    "text": "enforcement Point as the security folks would call it uh at every hop between applications",
    "start": "948600",
    "end": "955160"
  },
  {
    "text": "so this led us to thinking right now if we're on a cloud native platform what does that change about the way we might",
    "start": "955320",
    "end": "960959"
  },
  {
    "text": "respond to incidents so we looked at the nist framework and we've actually tweaked it in a couple of ways and we've got a kind of new proposal copyright",
    "start": "960959",
    "end": "968040"
  },
  {
    "text": "2023 uh a little twist a little remix of what you know Cloud native incidence",
    "start": "968040",
    "end": "973199"
  },
  {
    "text": "response might look like and this is still a proposal we're going to walk you through um an incident response using this so",
    "start": "973199",
    "end": "979680"
  },
  {
    "text": "the couple of changes we've made if we've managed to add a um a constraint Step at step two so",
    "start": "979680",
    "end": "985980"
  },
  {
    "text": "we'll come on to that but that basically says that we can actually get in and start proactively trying to stop the",
    "start": "985980",
    "end": "991980"
  },
  {
    "text": "attack remember this is before the analysis this is even before we've confirmed that there is an attack we've just got some alarms going off that",
    "start": "991980",
    "end": "998220"
  },
  {
    "text": "something suspicious is happening so normally you wouldn't roll response at this point because response tends to be very disruptive and very slow uh so you",
    "start": "998220",
    "end": "1005540"
  },
  {
    "text": "normally wouldn't do anything until you've confirmed the attack but with the cloud native technology we can do some quick and non-disruptive things to try",
    "start": "1005540",
    "end": "1012380"
  },
  {
    "text": "to contain it so I'll talk about that and then this this also makes the sort of recovery as I've alluded to already",
    "start": "1012380",
    "end": "1018079"
  },
  {
    "text": "makes a recovery in step three optional hence that I couldn't quite fit option of but we've got the brackets around it",
    "start": "1018079",
    "end": "1023959"
  },
  {
    "text": "makes this optional because if we can do this response without disrupting service then there is no recovery to do it's not",
    "start": "1023959",
    "end": "1029900"
  },
  {
    "text": "always possible but if you know if we can do that it may look like a little thing but this is actually a really big win",
    "start": "1029900",
    "end": "1036438"
  },
  {
    "text": "um quick shout out to something coming in May um from our",
    "start": "1036439",
    "end": "1042220"
  },
  {
    "text": "long-term control plane friend Abdullah Garcia at JP Morgan Chase uh will",
    "start": "1042220",
    "end": "1048380"
  },
  {
    "text": "release a threat Library called kubernetes for sock again to help Security Professionals and",
    "start": "1048380",
    "end": "1054380"
  },
  {
    "text": "infrastructure teams to get the observability right as it was fused then with the content from a field experience",
    "start": "1054380",
    "end": "1061460"
  },
  {
    "text": "from you know distilled in control planes internal threat libraries thanks so that's step one preparation",
    "start": "1061460",
    "end": "1068480"
  },
  {
    "text": "like Francesca said you've got to eat your people your process your technology all in the right place this slide belies",
    "start": "1068480",
    "end": "1073820"
  },
  {
    "text": "a lot of work right especially as we move move to a cloud native platform we up skill our teams but yeah assuming",
    "start": "1073820",
    "end": "1079400"
  },
  {
    "text": "that's done um so what would what would detection look like uh in a sort of cloud native",
    "start": "1079400",
    "end": "1085160"
  },
  {
    "text": "instance response so we've still got people you know sat in the sock looking at the scene looking at all that",
    "start": "1085160",
    "end": "1090440"
  },
  {
    "text": "information a lot of that information now is going to come from Envoy because it's as I say it's a sidecar to every",
    "start": "1090440",
    "end": "1095780"
  },
  {
    "text": "workload so it's going to be analyzing all the traffic sending all the traffic logs into the seam and it really is going to see everything that that",
    "start": "1095780",
    "end": "1101900"
  },
  {
    "text": "happens on the wire so it's going to detect those Anonymous Ascend them send into the seam and then as I say you know",
    "start": "1101900",
    "end": "1107900"
  },
  {
    "text": "this thing it requires a human step but this is going to be flagging sort of unknown and suspicious behavior",
    "start": "1107900",
    "end": "1114200"
  },
  {
    "text": "um they're all you know we're still going to have a bunch of the traditional sensors so we're still going to have traditional firewalls maybe we're still going to have like EDR essentially like",
    "start": "1114200",
    "end": "1120740"
  },
  {
    "text": "intrusion detection on your host you might have you know ndi your classic traffic sniffer it's a whole market now",
    "start": "1120740",
    "end": "1125780"
  },
  {
    "text": "right of xdr products so there's still all your classic sensors but we're now also getting things like cloudtrail logs",
    "start": "1125780",
    "end": "1131299"
  },
  {
    "text": "like VPC log flows and like Envoy traffic analysis so all of this comes into the scene a human eyeballs it and",
    "start": "1131299",
    "end": "1136700"
  },
  {
    "text": "if they think something's up they escalate you know to the saw and they start running those those workbooks those scripted responses",
    "start": "1136700",
    "end": "1144200"
  },
  {
    "text": "so containment this is our sort of our first new Step so this is about as it says buying time about preventative",
    "start": "1144200",
    "end": "1149780"
  },
  {
    "text": "containment so for the purposes of this walkthrough I should have drawn a picture um but imagine we have a deployment of",
    "start": "1149780",
    "end": "1155179"
  },
  {
    "text": "10 pods right on one of those pods has raised the alarm so one of those pods is doing something suspicious or it's",
    "start": "1155179",
    "end": "1161179"
  },
  {
    "text": "receiving suspicious traffic and then there's another nine in this deployment and the reason that's important is",
    "start": "1161179",
    "end": "1167360"
  },
  {
    "text": "because you know they're almost certainly on the end of the same traffic Route right so if I hit example.com Foo",
    "start": "1167360",
    "end": "1172940"
  },
  {
    "text": "I'm getting my requests to getting rounded if I hit that from the internet my requests are getting routed to this deployment of of 10 pods you can do more",
    "start": "1172940",
    "end": "1179900"
  },
  {
    "text": "complicated things in Cube but let's pretend it's hitting my deployment of 10 and one of them has raised the alarm but I know any future requests you know",
    "start": "1179900",
    "end": "1186080"
  },
  {
    "text": "we're going to start hitting the other ones pretty quickly because the load balancer is just going to be spreading those requests out so what do we want to do to that suspect",
    "start": "1186080",
    "end": "1192500"
  },
  {
    "text": "pot um you know straight away right suspicious suspicious activity but no",
    "start": "1192500",
    "end": "1197600"
  },
  {
    "text": "attack confirmed well the first thing we want to do is we want to freeze the orchestration we want to stop it getting you know uh we want to stop it getting",
    "start": "1197600",
    "end": "1204440"
  },
  {
    "text": "deleted replaced essentially so we want to stop it getting scaled down we want to stop it getting updated because we're",
    "start": "1204440",
    "end": "1209600"
  },
  {
    "text": "going to want to go in and do some forensic analysis of this pod so the very first thing to do is just tell the orchestrator to leave it alone you know",
    "start": "1209600",
    "end": "1215120"
  },
  {
    "text": "it's ours now it's under investigation and then the next thing we want to do is block the East-West traffic so we want",
    "start": "1215120",
    "end": "1221780"
  },
  {
    "text": "we're going to stop if it has been compromised we want to stop that attack from moving laterally we want to stop everybody from pivoting through this",
    "start": "1221780",
    "end": "1227360"
  },
  {
    "text": "service into another one right so we want it to stop it being able to call anything else but notice that I haven't",
    "start": "1227360",
    "end": "1233240"
  },
  {
    "text": "said blocking north-south traffic right so we think we think maybe an attack is in progress we actually want to let it",
    "start": "1233240",
    "end": "1239059"
  },
  {
    "text": "continue you know the payload may come in again it may be a multi it might be like a bug chain there might be multiple",
    "start": "1239059",
    "end": "1244220"
  },
  {
    "text": "stages to it there's a whole load of reasons why we might want to see what's continuing to come in from this attacker on the internet and actually if it has",
    "start": "1244220",
    "end": "1250760"
  },
  {
    "text": "already been popped we want to see what's going out so it's probably going to reach out to its C2 Network it's probably going to download the next",
    "start": "1250760",
    "end": "1256640"
  },
  {
    "text": "stage of the malware it's going to maybe it's going to even start exfiltrating our data all of that is stuff we want to see so implicit in this is we actually",
    "start": "1256640",
    "end": "1262640"
  },
  {
    "text": "want to leave that north-south traffic alone but we want to block East-West so that people can't pivot through this uh",
    "start": "1262640",
    "end": "1268640"
  },
  {
    "text": "but notice so that effectively does take this thing out of service right it's not going to do anything useful for the user because it can't call your other micro",
    "start": "1268640",
    "end": "1274220"
  },
  {
    "text": "services but when we've taken it out of the deployment it's going to have been replaced by kubernetes so our service",
    "start": "1274220",
    "end": "1279740"
  },
  {
    "text": "level stays the same right so how do we actually do this in a cloud native environment I know I've",
    "start": "1279740",
    "end": "1285320"
  },
  {
    "text": "covered most of it the the easiest way to freeze the orchestration is to just remove that path from the deployment I've shown you know literally shown the",
    "start": "1285320",
    "end": "1291200"
  },
  {
    "text": "command here you just want to change the label uh that the deployment is matching you just change it to something else on",
    "start": "1291200",
    "end": "1296360"
  },
  {
    "text": "the on the running pod not in the deployment template but on that one running pod change the label in this case I'm changing whatever it used to be",
    "start": "1296360",
    "end": "1302360"
  },
  {
    "text": "food to Foo isolated the deployment controller will then leave it alone and as I say first big cloud native win it",
    "start": "1302360",
    "end": "1308900"
  },
  {
    "text": "will actually it's actually not disruptive because the deployment controller will come and replace it'll say oh I had tempods now I've only got",
    "start": "1308900",
    "end": "1314360"
  },
  {
    "text": "nine and it'll it'll bring a tenth back into life so that service level will be maintained",
    "start": "1314360",
    "end": "1319520"
  },
  {
    "text": "um I did say tell sahaya Library pronounced Cube control in every possible way this talk so when you hear",
    "start": "1319520",
    "end": "1326059"
  },
  {
    "text": "your preferred pronunciation give us a cheer so this would be Cube control patch pod",
    "start": "1326059",
    "end": "1331760"
  },
  {
    "text": "I'm fine I'm too old to say it like that um right so then we the other thing we said",
    "start": "1331760",
    "end": "1338780"
  },
  {
    "text": "we do uh for this suspect part is to block that East-West traffic there's a few options for this I had a slide that",
    "start": "1338780",
    "end": "1344179"
  },
  {
    "text": "explained them all but we ran out of time so the one I chose was you know using using the istio service mesh",
    "start": "1344179",
    "end": "1349940"
  },
  {
    "text": "you're using the authorization policy resource essentially the the layer 7 firewall there's a couple of things you've got",
    "start": "1349940",
    "end": "1355159"
  },
  {
    "text": "because of the way you see your models things there's a couple of things you want to do so this is blocking any traffic into the Pod this is stopping",
    "start": "1355159",
    "end": "1361039"
  },
  {
    "text": "anything from calling this pod that we think might have been popped you do actually still want to do this right because it could be acting maliciously",
    "start": "1361039",
    "end": "1366980"
  },
  {
    "text": "it could be poisoning data it could be it could be doing nasty stuff so you want to block any calls into it it's actually quite easy you also want to",
    "start": "1366980",
    "end": "1373940"
  },
  {
    "text": "block any calls out of it you want to stop it calling anything else so this is how you stop people pivoting through it mostly",
    "start": "1373940",
    "end": "1379820"
  },
  {
    "text": "um that's not so easy with istio because of the way their API models the world uh I won't bore you with the details but you end up you need to end up basically",
    "start": "1379820",
    "end": "1386539"
  },
  {
    "text": "doing something like this to tell everything else not to accept requests from it",
    "start": "1386539",
    "end": "1392500"
  },
  {
    "text": "so in terms of this proactive containment what do we want to do to those other nine workloads right we think that deployment's under attack we",
    "start": "1393380",
    "end": "1398840"
  },
  {
    "text": "think they're probably going to get malicious payloads soon but we're not sure if they're even malicious we're not sure if there's ever been compromised",
    "start": "1398840",
    "end": "1404000"
  },
  {
    "text": "but you know why not respawn in a hardened container runtime um because another Cloud native win this",
    "start": "1404000",
    "end": "1410120"
  },
  {
    "text": "isn't disrupted to our level of service right we so a g visor or a cat containers or something we maybe don't",
    "start": "1410120",
    "end": "1416360"
  },
  {
    "text": "run everything under these all the time because there is a there is a penalty to the performance of the app there is a penalty to the the CPU Cycles on the",
    "start": "1416360",
    "end": "1422960"
  },
  {
    "text": "round so it's going to cost us more dollars and maybe add a little bit of latency so we don't want to use it all the time but if we think we're under",
    "start": "1422960",
    "end": "1428600"
  },
  {
    "text": "attack then then why not so why not just respawn everything in this in this hardened run time",
    "start": "1428600",
    "end": "1433640"
  },
  {
    "text": "uh so the way to do this for example using G visor um is that you would Cube CTL",
    "start": "1433640",
    "end": "1440240"
  },
  {
    "text": "uh patch the the deployment so the Pod Tech the Pod template and the deployment uh to change the runtime class name this",
    "start": "1440240",
    "end": "1446299"
  },
  {
    "text": "assumes you've got gvisor installed and set up um but again not disruptive if you've already got that stuff set up and if you if you have tested that your app",
    "start": "1446299",
    "end": "1452480"
  },
  {
    "text": "runs on the especially G visor because it's a bit weird uh you can just go do this",
    "start": "1452480",
    "end": "1458299"
  },
  {
    "text": "um so this you know so that blocking of the East-West traffic if you think your pod may have been popped blocking the",
    "start": "1458299",
    "end": "1463640"
  },
  {
    "text": "East-West traffic stops IT attacking other services or other microservices I'm on the same level and this stops it",
    "start": "1463640",
    "end": "1469940"
  },
  {
    "text": "basically breaking it stops container breakouts essentially right stops you pivoting onto the host getting",
    "start": "1469940",
    "end": "1475280"
  },
  {
    "text": "persistence on the hosting the BIOS like the really nasty stuff that you do not want to be dealing with so this is about",
    "start": "1475280",
    "end": "1480799"
  },
  {
    "text": "preventing that so then we can come on to analysis just getting a bunch of information so with",
    "start": "1480799",
    "end": "1486559"
  },
  {
    "text": "that suspect pod we want to verbally log the north-south traffic remember we said",
    "start": "1486559",
    "end": "1491840"
  },
  {
    "text": "we'd leave the North South traffic flowing but we want to crank the logging right off because we really want to see we're going to let the attack continue",
    "start": "1491840",
    "end": "1497360"
  },
  {
    "text": "but we're trying to gather that indicator of compromise to know what our attack payload looks like so we can block it in the future and as I say if",
    "start": "1497360",
    "end": "1504140"
  },
  {
    "text": "it has been owned we want to like we want to gather the C2 addresses and the kind of stuff they're exfiltrating to be one of the mostly logged in North South",
    "start": "1504140",
    "end": "1510320"
  },
  {
    "text": "traffic um we then actually want to pretty quickly checkpoint the container because",
    "start": "1510320",
    "end": "1515539"
  },
  {
    "text": "everything else we're going to do like looking at it with forensic tools might be might be a bit uh invasive right it",
    "start": "1515539",
    "end": "1521659"
  },
  {
    "text": "might it might it might leave a trail because we you know we're Hands-On keyboard we're like in the movies hacking red team blue team like hands on",
    "start": "1521659",
    "end": "1527000"
  },
  {
    "text": "three keyboards so we're being pretty quick we might make a bit of a mess uh so we actually probably first thing we",
    "start": "1527000",
    "end": "1532640"
  },
  {
    "text": "probably want to do is take a checkpoint so we've got a clean image so we can analyze it more slowly later and",
    "start": "1532640",
    "end": "1537740"
  },
  {
    "text": "actually if this is a serious attack and the authorities get involved they're going to want this before we've got our fingers all over it so checkpointing is",
    "start": "1537740",
    "end": "1544159"
  },
  {
    "text": "super important um and then we do want to just get in there with forensic tools and do some old style like looking around",
    "start": "1544159",
    "end": "1551000"
  },
  {
    "text": "so how would we Implement that the most uh Network traffic logging again there's a lot of options they all kind of suck a",
    "start": "1551000",
    "end": "1557840"
  },
  {
    "text": "bit the one I ended up on was Envoy does not want to log every single header and the request and response",
    "start": "1557840",
    "end": "1563960"
  },
  {
    "text": "bodies because that's not what it's for and that's very slow Envoy just doesn't want to do it the only way to make Envoy",
    "start": "1563960",
    "end": "1569419"
  },
  {
    "text": "do it is to inject some custom code but luckily we can do that now with the Watson plugins they're really well supported so this there's a bit of",
    "start": "1569419",
    "end": "1575179"
  },
  {
    "text": "config to do this is the main resource basically tells it to use a Watson plugin body logger was and blob that",
    "start": "1575179",
    "end": "1581840"
  },
  {
    "text": "we've made available this thing as far as I could tell didn't exist so I went and wrote it um this is a little snippet so this is",
    "start": "1581840",
    "end": "1588200"
  },
  {
    "text": "the function um you know rust memory memory safe security this is the function that um",
    "start": "1588200",
    "end": "1593419"
  },
  {
    "text": "that's going to log the request body this thing also locks response bodies and all the request headers and all the response headers",
    "start": "1593419",
    "end": "1599480"
  },
  {
    "text": "um so that as I say that didn't exist so I've written it I went to the URL because it's it's not finished but it",
    "start": "1599480",
    "end": "1605419"
  },
  {
    "text": "does work I prove the point how do we Implement those container checkpoints okay well this is supported",
    "start": "1605419",
    "end": "1612080"
  },
  {
    "text": "but it's super Alpha so Linux has had this checkpoint restoring user space um thing for a while now apparently",
    "start": "1612080",
    "end": "1619159"
  },
  {
    "text": "works fairly well but support from kubernetes is still very limited so there's a cap out there about introducing this thing cryo supports it",
    "start": "1619159",
    "end": "1626299"
  },
  {
    "text": "containerdy doesn't they're still discussing it on a PR uh there's just this like imperative API you have to hit",
    "start": "1626299",
    "end": "1632240"
  },
  {
    "text": "on on the runtime itself Cube doesn't even expose it yet so very Alpha but it's coming the tech in the current well",
    "start": "1632240",
    "end": "1638419"
  },
  {
    "text": "in the kernel they're taking user space the cryo thing in Linux level seems to work there's a bunch of references for anybody wants to look into it",
    "start": "1638419",
    "end": "1645440"
  },
  {
    "text": "and then how do we do the forensics how do we bring all these tools to Bear well they knew it the newish ephemeral debug containers are a really good way of",
    "start": "1645440",
    "end": "1651140"
  },
  {
    "text": "doing that so we can Cube cuddle yeah oh no",
    "start": "1651140",
    "end": "1657919"
  },
  {
    "text": "okay we can Cube cuddle Cube cuddle debug uh to attach one of these",
    "start": "1657919",
    "end": "1663440"
  },
  {
    "text": "ephemeral debug containers um I'm using the busy box image here you can use Cali or whatever and importantly to share the",
    "start": "1663440",
    "end": "1669980"
  },
  {
    "text": "because we've got two containers in this pod right because we've got the main app container and the envoy sidecar you",
    "start": "1669980",
    "end": "1676820"
  },
  {
    "text": "actually need to Target the main app container so that you share its process namespace and then you can do things like you know see smoking guns of",
    "start": "1676820",
    "end": "1683000"
  },
  {
    "text": "malware you can see like the malware script that running",
    "start": "1683000",
    "end": "1688000"
  },
  {
    "text": "so that was analysis of the suspect part there's a lot we want to do to that because we think it's been owned it's acting really suspiciously what do we do",
    "start": "1688640",
    "end": "1694279"
  },
  {
    "text": "with the other nine pods not a lot but we probably again want to crank up the logging on their Network traffic you know we haven't really done anything for",
    "start": "1694279",
    "end": "1700340"
  },
  {
    "text": "them except for rap them in G visor just in case but again we as I say we think you know the low balancing is going to",
    "start": "1700340",
    "end": "1705500"
  },
  {
    "text": "send the exploit at one of the other ones next and maybe they'll get owned and maybe they'll start calling out to C2 so we just want to crank up the",
    "start": "1705500",
    "end": "1711860"
  },
  {
    "text": "logging um on them instead and the you know the implementation for that is exactly the same as before it's your license filter",
    "start": "1711860",
    "end": "1718640"
  },
  {
    "text": "so we can now confirm right we've got all this information we've got all this super detailed information so a human in the sock can go and kind of confirm a",
    "start": "1718640",
    "end": "1724700"
  },
  {
    "text": "tree positive we we know we're under attack we've got the indicator compromise we know how to tell when",
    "start": "1724700",
    "end": "1730340"
  },
  {
    "text": "something's compromised and tell when it's being attacked so what are we going to do about it so we're now into containment and",
    "start": "1730340",
    "end": "1736220"
  },
  {
    "text": "remember this is the nist definition of containment so this means stopping the attack going further uh including you",
    "start": "1736220",
    "end": "1742400"
  },
  {
    "text": "know stopping it happening again on other pods so so blocking it which is like The Kill chain that's the yeah with",
    "start": "1742400",
    "end": "1749000"
  },
  {
    "text": "explosions of Michael Bay um so how do we do how are we going to do that well we're going to reconfigure",
    "start": "1749000",
    "end": "1754039"
  },
  {
    "text": "the like the firewall and the WAFF right fairly standard stuff but your firewall as I said used to be a layer 4 thing",
    "start": "1754039",
    "end": "1759620"
  },
  {
    "text": "like blocking by IPS your firewall is now Envoy you've got this policy enforcement Point everywhere your firewall is Envoy so it's a layer 7",
    "start": "1759620",
    "end": "1766460"
  },
  {
    "text": "firewall so I can block requests based on HTTP attributes like path and like method if that's not in so for like a",
    "start": "1766460",
    "end": "1773299"
  },
  {
    "text": "log for Shell attack that's sufficient because that jdni string is in a header so I can just regex a header I can tell",
    "start": "1773299",
    "end": "1778700"
  },
  {
    "text": "Envoy to do that if that's not sufficient if we need to start matching like bodies uh then you're going to need",
    "start": "1778700",
    "end": "1784279"
  },
  {
    "text": "a full WAAF um the the reference one I guess is is caraza which is an Envoy plugin",
    "start": "1784279",
    "end": "1789980"
  },
  {
    "text": "uh which is a mod security re-implementation basically understands what security rules so this is how you'd",
    "start": "1789980",
    "end": "1795020"
  },
  {
    "text": "block a body this is how you do um uh like stateful stateful tracking of",
    "start": "1795020",
    "end": "1800299"
  },
  {
    "text": "HTTP request chains and stuff and as I say policy of possible points are everywhere so we can also block if",
    "start": "1800299",
    "end": "1806600"
  },
  {
    "text": "you've got one Java app that's been owned using log for shell and you think they're going to try to Pivot onto you know another Java app using the same",
    "start": "1806600",
    "end": "1812000"
  },
  {
    "text": "attack we can block that too like we can block other like those attacks East-West because it's not like we're just on a",
    "start": "1812000",
    "end": "1818179"
  },
  {
    "text": "trusted subnet anymore right with no you know you're inside the core router there's no enforcement we've got policy enforcement points everywhere",
    "start": "1818179",
    "end": "1825380"
  },
  {
    "text": "then we need to eradicate so then we need to go and uh identify those pods that have definitely",
    "start": "1825380",
    "end": "1831260"
  },
  {
    "text": "been compromised and and get rid of them and remember we've often them for the deployment so that's actually not too bad and because the attack is blocked we",
    "start": "1831260",
    "end": "1838100"
  },
  {
    "text": "know it now can't reoccur so we just need to go find all the places that that have been popped and we just need to um we just need to shut them down basically",
    "start": "1838100",
    "end": "1844460"
  },
  {
    "text": "and you'd probably want to restart the remaining workloads just in case because you knew you were under attack you knew the attack was successful so you do you",
    "start": "1844460",
    "end": "1850880"
  },
  {
    "text": "probably want to recycle them so how do we delete pods well that's it's really that's really simple I mean",
    "start": "1850880",
    "end": "1857120"
  },
  {
    "text": "this slide doesn't seem like it's saying much but actually because kubernetes is so automated such a high level of abstraction uh and because we've already",
    "start": "1857120",
    "end": "1864440"
  },
  {
    "text": "removed this thing from its deployment no nothing's gonna you know look after it we can just I know that",
    "start": "1864440",
    "end": "1872500"
  },
  {
    "text": "delete delete pod because it should be like I octal right",
    "start": "1880120",
    "end": "1886360"
  },
  {
    "text": "um and then you might optionally want to recover and as I say ideally big cloud native win not needed you know what did",
    "start": "1886580",
    "end": "1892640"
  },
  {
    "text": "we do we removed uh infested pods from the deployment they got replaced we stopped the rest of the deployment",
    "start": "1892640",
    "end": "1898340"
  },
  {
    "text": "getting popped by blocking things really quickly by running it under G visor none of this you know even when we change the",
    "start": "1898340",
    "end": "1903559"
  },
  {
    "text": "runtime class of those other nine pods that's the change to the Pod template in the deployment so it's done as a rolling",
    "start": "1903559",
    "end": "1909020"
  },
  {
    "text": "update right your pod disruption budgets are honored your minimum scale are honored so hopefully we did all of this with no disruption in the surveys like",
    "start": "1909020",
    "end": "1915500"
  },
  {
    "text": "literally honored all of the like codified slos of like pod disruption budgets but maybe you need to do",
    "start": "1915500",
    "end": "1920539"
  },
  {
    "text": "something maybe you need to get a Tanzanian back on so it's worth having this on your checklist just in case but hopefully probably not even needed",
    "start": "1920539",
    "end": "1928340"
  },
  {
    "text": "uh uh I was right so what's the implementation answer for that well we need to restart them all but we changed their runtime class we actually had to",
    "start": "1928340",
    "end": "1934700"
  },
  {
    "text": "change their service account to make the firewall work so you know what if we just put those values back you're going to get another rolling up start",
    "start": "1934700",
    "end": "1940940"
  },
  {
    "text": "another rolling restart sorry so nice side effect everything gets restarted well I just quickly go to the last",
    "start": "1940940",
    "end": "1946940"
  },
  {
    "text": "little bit so I haven't really said I've said what happens and why I haven't really said how you know maybe it was",
    "start": "1946940",
    "end": "1952640"
  },
  {
    "text": "maybe you were thinking a human was going to be doing this typing really fast chat GPS maybe you thought it was",
    "start": "1952640",
    "end": "1957679"
  },
  {
    "text": "chat EPT that says a lot about whether you're under 25 um maybe you thought it was a saw run",
    "start": "1957679",
    "end": "1963020"
  },
  {
    "text": "book but actually saw run books aren't ideal because those that market hasn't kept up that Tech's pretty old so none",
    "start": "1963020",
    "end": "1969140"
  },
  {
    "text": "of them really have first class support for calling the kubernetes API that kind of stuff and you need to give your saw",
    "start": "1969140",
    "end": "1974539"
  },
  {
    "text": "so you probably end up writing custom plugins that are just curl commands and you'd need to give all of that like cluster admin tokens and it's not some",
    "start": "1974539",
    "end": "1982039"
  },
  {
    "text": "horrible privileged access and that's not good uh so how can we in a cloud native way how can we automate this so I",
    "start": "1982039",
    "end": "1987740"
  },
  {
    "text": "wrote again as a proof of concept definitely not finished but I wrote this little response program",
    "start": "1987740",
    "end": "1992840"
  },
  {
    "text": "um so it generates the yamls and issues the commands that we would need to do this stuff so a lot of that stuff I showed you was declarative you know you",
    "start": "1992840",
    "end": "1998779"
  },
  {
    "text": "do that uh with a by deploying a resource like the um like the authorization policy a lot of them were",
    "start": "1998779",
    "end": "2005740"
  },
  {
    "text": "narrative like well I'm out of ideas now Cube cuddle Cube cuddle delete Cube cuddle debug",
    "start": "2005740",
    "end": "2011740"
  },
  {
    "text": "right um a side note if there's any kubernetes maintainers in the room it would be nice if more things were declarative uh why",
    "start": "2011740",
    "end": "2017380"
  },
  {
    "text": "can't I make a debug container with a debug container resource please and then remove it by removing the resource and",
    "start": "2017380",
    "end": "2023320"
  },
  {
    "text": "why isn't container checkpoint a resource just like volume snapshot is but anyway some are imperative summary declarative imagine I wrote a program",
    "start": "2023320",
    "end": "2029440"
  },
  {
    "text": "that generated the declarative yammals and issued the imperative commands well I did",
    "start": "2029440",
    "end": "2034659"
  },
  {
    "text": "um so here or and what it needs is the name of that deployment right that we think is under attack and the name of in this case the one pod that we think has",
    "start": "2034659",
    "end": "2040720"
  },
  {
    "text": "been popped uh and it just in the you know all I'm showing here is it it's emitting the yaml I haven't implemented",
    "start": "2040720",
    "end": "2046659"
  },
  {
    "text": "every step that I talked about but I proved the point we Implement some of the yaml um so we can do that",
    "start": "2046659",
    "end": "2053080"
  },
  {
    "text": "but what's even but that CLI is kind of one shot you know you get a bunch of yammers on standard out you've got to go do something with them it's going to",
    "start": "2053080",
    "end": "2059260"
  },
  {
    "text": "issue those commands once but if you get four to Nines you know it's not going to try again so wouldn't it be better if that was an operator right a long-lived",
    "start": "2059260",
    "end": "2065560"
  },
  {
    "text": "thing that can reissue those commands on a loop and make sure they work um and uh can sort of can create and",
    "start": "2065560",
    "end": "2072940"
  },
  {
    "text": "delete and modify the yamos in the cluster so the obvious way to do this is an operator so that input that it took",
    "start": "2072940",
    "end": "2078820"
  },
  {
    "text": "the deployment name in the Pod name and now fields in a crd so all the saw has to do all the human",
    "start": "2078820",
    "end": "2084700"
  },
  {
    "text": "has to do is make the CID saying oh this deployment's under attack and I know that because this pod's showing suspicious Behavior make that write that",
    "start": "2084700",
    "end": "2091480"
  },
  {
    "text": "into a CID commit it to git you know it works with your existing CI pipeline it fits into your existing you know policy",
    "start": "2091480",
    "end": "2097118"
  },
  {
    "text": "authorization structure you've got your audit log from the git history of what we were doing try to respond to this incident and your sword doesn't need any",
    "start": "2097119",
    "end": "2103780"
  },
  {
    "text": "access beyond the ability to do a git commit or maybe even just raise a git PR that some security specialist then like",
    "start": "2103780",
    "end": "2109980"
  },
  {
    "text": "merges so when you can do that then those crds will end up in the cluster",
    "start": "2109980",
    "end": "2115119"
  },
  {
    "text": "through flux right and they'll be picked up by this by the operator version of so response has got two binaries ones are",
    "start": "2115119",
    "end": "2120579"
  },
  {
    "text": "one's a CLI one's an operator it'll get picked up by the operator that'll do the imperative commands on a retry Loop and",
    "start": "2120579",
    "end": "2126040"
  },
  {
    "text": "it'll render out it'll it'll patch in the declarative resources",
    "start": "2126040",
    "end": "2132299"
  },
  {
    "text": "it's a bit of a whirlwind but I think that's really what we wanted to say uh I think yeah introduction to security 101",
    "start": "2132940",
    "end": "2139240"
  },
  {
    "text": "um what that looked like in traditional infra what it might look like in Cloud native infrastructure how you would do these things in Cloud native",
    "start": "2139240",
    "end": "2144940"
  },
  {
    "text": "infrastructure and then actual implementation steps to prove that it all works",
    "start": "2144940",
    "end": "2150040"
  },
  {
    "text": "anything not at all cool sounds good so and a quick shout out to a book written by our",
    "start": "2150040",
    "end": "2157359"
  },
  {
    "text": "control plane CEO and the marketing hiking kubernetes scan and download please it's a gold mine of information",
    "start": "2157359",
    "end": "2163599"
  },
  {
    "text": "on how to secure but also break kubernetes clusters it really is it's like if you've got a shell in a pod like",
    "start": "2163599",
    "end": "2170079"
  },
  {
    "text": "what's all the Recon what are all the vectors you can take to escalate privilege move sideways move up move down it's actually really really good I",
    "start": "2170079",
    "end": "2176200"
  },
  {
    "text": "don't even work there well um thank you very much folks for showing up and uh I don't think we have",
    "start": "2176200",
    "end": "2182560"
  },
  {
    "text": "time for questions but we'll we'll stay here for the rest of the day so come on [Applause]",
    "start": "2182560",
    "end": "2192199"
  }
]