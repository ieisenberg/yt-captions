[
  {
    "start": "0",
    "end": "113000"
  },
  {
    "text": "okay I'll be ready to go okay hey good",
    "start": "30",
    "end": "5040"
  },
  {
    "text": "afternoon everyone I know it's late but welcome to the session on deep dive for the Working",
    "start": "5040",
    "end": "11250"
  },
  {
    "text": "Group multi-tenancy working group i'm sanjeev from cisco this is adrian go",
    "start": "11250",
    "end": "17940"
  },
  {
    "text": "ahead I'm Adrian from Google in up in Waterloo and we've got several folks who",
    "start": "17940",
    "end": "23850"
  },
  {
    "text": "are active in the working group in particular Orion better check",
    "start": "23850",
    "end": "28859"
  },
  {
    "text": "Jimbo Guardia has been recently getting engaged quite a bit and then some folks aren't so what we want to do here is",
    "start": "28859",
    "end": "35460"
  },
  {
    "text": "that although this is a deep dive we want we know that a lot of people may not be familiar with this working group",
    "start": "35460",
    "end": "40620"
  },
  {
    "text": "so we want to make this match your expectation so we've got three kinds of content here we've got some slides I'm",
    "start": "40620",
    "end": "46890"
  },
  {
    "text": "going to put those slides in the session which I haven't had to done it yet but I'll alive those slides so we were",
    "start": "46890",
    "end": "53760"
  },
  {
    "text": "thinking you know just five ten minutes of slides just to catch up some folks that might be family not familiar with",
    "start": "53760",
    "end": "58829"
  },
  {
    "text": "what are the projects and sort of a little bit more detail and we've got a couple of demos maybe each five minutes",
    "start": "58829",
    "end": "64588"
  },
  {
    "text": "and then so we could do about 15 minutes of Q&A after that does that make sense would you like more of one or the other",
    "start": "64589",
    "end": "71430"
  },
  {
    "text": "no slides at all just Q&A and just demos we can do whatever so let me ask my",
    "start": "71430",
    "end": "77070"
  },
  {
    "text": "raise of hands how many would like some introduction to the working group and",
    "start": "77070",
    "end": "82229"
  },
  {
    "text": "some slides okay quite a few seem to want that so we'll",
    "start": "82229",
    "end": "87450"
  },
  {
    "text": "do call the inaudible space we'll do that for we'll do it short because we",
    "start": "87450",
    "end": "92939"
  },
  {
    "text": "have other YouTube recordings in the material right and then we'll how many we want to see demos we've got two demos",
    "start": "92939",
    "end": "99360"
  },
  {
    "text": "of five minutes each okay everybody wants to see demos as well so we'll do you know we'll do 10 minutes",
    "start": "99360",
    "end": "105659"
  },
  {
    "text": "of slides 10 minutes of demos then 10 odd minutes of Q&A ok let's go with that",
    "start": "105659",
    "end": "111740"
  },
  {
    "text": "okay so there's a lot of in all our contact",
    "start": "111740",
    "end": "117570"
  },
  {
    "start": "113000",
    "end": "170000"
  },
  {
    "text": "information is here you can google for us and you can reach reaches our reach out on all these links so this is the",
    "start": "117570",
    "end": "125640"
  },
  {
    "text": "community right so we've got three or four major projects going on these are the name of the folks that are driving a",
    "start": "125640",
    "end": "132209"
  },
  {
    "text": "lot of the projects Adrian right here is driving the agency work for example Faye whose I think not",
    "start": "132209",
    "end": "139140"
  },
  {
    "text": "here today Faye if you're here please raise your hand he may not be here he's driving virtual clusters and Tenant",
    "start": "139140",
    "end": "145110"
  },
  {
    "text": "controller Jim right here is kicking off their multi-tenancy benchmarks Ryan is",
    "start": "145110",
    "end": "150709"
  },
  {
    "text": "doing everything and then many of you are contributing so we really appreciate",
    "start": "150709",
    "end": "156540"
  },
  {
    "text": "that and we want to hope to continue this work growing this working group right so hopefully we can tell you enough about",
    "start": "156540",
    "end": "162629"
  },
  {
    "text": "it that will get you excited to contribute in whatever way you feel like you can so I'm gonna skip over what",
    "start": "162629",
    "end": "173879"
  },
  {
    "start": "170000",
    "end": "250000"
  },
  {
    "text": "Kuban it is multi-tenancy is this hopefully audience knows what it is about I just mentioned very briefly",
    "start": "173879",
    "end": "181609"
  },
  {
    "text": "since we're just doing ten minutes of slides what are the tracks that we're trying to follow and how we plan to",
    "start": "181609",
    "end": "188189"
  },
  {
    "text": "evolve this working group right so first we decided to say that this is a",
    "start": "188189",
    "end": "194010"
  },
  {
    "text": "nebulous space people haven't quite defined it right so what are the different models of multi-tenancy that",
    "start": "194010",
    "end": "199919"
  },
  {
    "text": "are possible and what do we want to address in this working group right so",
    "start": "199919",
    "end": "205549"
  },
  {
    "text": "very very briefly model a is multiple clusters multiple multiple kubernetes",
    "start": "205549",
    "end": "211799"
  },
  {
    "text": "clusters on an is model B is name space grouping creating new tenants er DS that",
    "start": "211799",
    "end": "218579"
  },
  {
    "text": "own communities resources like namespaces model C is virtual clusters",
    "start": "218579",
    "end": "225319"
  },
  {
    "text": "and modern D is sort of a theoretical possibility where we go back and rewrite",
    "start": "225319",
    "end": "231449"
  },
  {
    "text": "core Kuban it is to make tenancy a first-class citizen within communities I know I'm going through fast but since we",
    "start": "231449",
    "end": "238650"
  },
  {
    "text": "agreed that we're just doing ten minutes of slides bear with us if some of this is not familiar with you to you right",
    "start": "238650",
    "end": "244349"
  },
  {
    "text": "but feel free to ask questions we'll just do 10 minutes of slides no more",
    "start": "244349",
    "end": "250129"
  },
  {
    "start": "250000",
    "end": "660000"
  },
  {
    "text": "I'll have the slides on on the website for you to look at in more detail",
    "start": "252530",
    "end": "258769"
  },
  {
    "text": "okay briefly about the tenant operated model right so in this project a series",
    "start": "258769",
    "end": "265409"
  },
  {
    "text": "of custom resources are being defined that'll allow someone to self-service",
    "start": "265409",
    "end": "271680"
  },
  {
    "text": "create tenants in a kubernetes cluster and define a set of namespaces that are",
    "start": "271680",
    "end": "278010"
  },
  {
    "text": "owned by that can enter ok this is sort of the high level architectural model",
    "start": "278010",
    "end": "283020"
  },
  {
    "text": "from PHA and you can see that there's a tenant CR that creates a number of",
    "start": "283020",
    "end": "288390"
  },
  {
    "text": "resources in what is called a tenant admin namespace so there's a there's an admin namespace per tenant instance and",
    "start": "288390",
    "end": "294690"
  },
  {
    "text": "in that namespace control resources specific to that name and tenant are",
    "start": "294690",
    "end": "300960"
  },
  {
    "text": "maintained so you can see there's some things there's another row of CRS they're called tenant namespace see ours right these are CRS that control actual",
    "start": "300960",
    "end": "310650"
  },
  {
    "text": "user level namespaces ok and you can also see the virtual cluster CR because",
    "start": "310650",
    "end": "315990"
  },
  {
    "text": "the goal there is to have the concept of a tenant which owns X number of namespaces and possibly Y number of",
    "start": "315990",
    "end": "323820"
  },
  {
    "text": "virtual clusters so a tenant owns certain number of namespaces and certain number of virtual clusters that's the",
    "start": "323820",
    "end": "330480"
  },
  {
    "text": "goal there right and you can see sort of the logical layout here ok let's keep",
    "start": "330480",
    "end": "337710"
  },
  {
    "text": "moving that'll just be adequate for a very brief introduction and this is the kind",
    "start": "337710",
    "end": "345030"
  },
  {
    "text": "of Yambol that that PHA and the team have proposed where you create tenants",
    "start": "345030",
    "end": "350160"
  },
  {
    "text": "er's you specify the tenant admin namespace",
    "start": "350160",
    "end": "355250"
  },
  {
    "text": "the required namespace prefix is true is an interesting thing as you know in a",
    "start": "355250",
    "end": "360540"
  },
  {
    "text": "single color kubernetes cluster namespace have to be globally unique right so how do you create multi tenancy",
    "start": "360540",
    "end": "368580"
  },
  {
    "text": "where tenants may want to create their own names for for namespaces so one one",
    "start": "368580",
    "end": "375060"
  },
  {
    "text": "way to do it is to enforce that they make their namespaces you need to begin with and you reject any duplicate",
    "start": "375060",
    "end": "380880"
  },
  {
    "text": "namespaces and the other one is to actually prefix a tenant name in front",
    "start": "380880",
    "end": "386370"
  },
  {
    "text": "of the namespace but really the right solution for that is the virtual cluster solution which is a different which is",
    "start": "386370",
    "end": "392190"
  },
  {
    "text": "the other thread right so this is the model B for tenant operator right that's",
    "start": "392190",
    "end": "398100"
  },
  {
    "text": "a sample of it and we have a demo for this if hopefully we'll be able to do a quick five-minute demo on this the next thing",
    "start": "398100",
    "end": "405300"
  },
  {
    "text": "is hierarchical namespace controller so agent you want to very briefly summarize that for now please sure",
    "start": "405300",
    "end": "410850"
  },
  {
    "text": "the idea behind hierarchical namespaces is that so it's not nested namespaces",
    "start": "410850",
    "end": "415890"
  },
  {
    "text": "it's not a way of getting sort of more unique of finding spaces for free it's",
    "start": "415890",
    "end": "420900"
  },
  {
    "text": "really about a couple things it's about policy enforcement it is about self service namespace creation and it's",
    "start": "420900",
    "end": "426930"
  },
  {
    "text": "about some kind of concept of standardizing an idea of hierarchy inside kubernetes so what you can see",
    "start": "426930",
    "end": "433230"
  },
  {
    "text": "here is that we've set up a couple of different namespaces to represent different parts of an organization's so we've got a root namespace called the",
    "start": "433230",
    "end": "440000"
  },
  {
    "text": "organization namespace and then we've got a team namespace and then to services owned by that team and in the",
    "start": "440000",
    "end": "446130"
  },
  {
    "text": "organized space we've created two policies one is the our back policy for our site reliability engineers and",
    "start": "446130",
    "end": "452040"
  },
  {
    "text": "another one is the global network policy that needs to be applied in every namespace that belongs to that org and",
    "start": "452040",
    "end": "458400"
  },
  {
    "text": "then what we did with the team namespace is that we set up the hierarchical",
    "start": "458400",
    "end": "463770"
  },
  {
    "text": "config which is a custom resource to point to the parent and you can see in yellow the those policy objects got",
    "start": "463770",
    "end": "470310"
  },
  {
    "text": "propagated down and we also added some new ones which are here our back policies for the developers and let's",
    "start": "470310",
    "end": "476640"
  },
  {
    "text": "say some secrets that all of the services in that names in that team need",
    "start": "476640",
    "end": "481830"
  },
  {
    "text": "to operate and then you can create the service namespaces for additional isolation underneath that and all the",
    "start": "481830",
    "end": "488160"
  },
  {
    "text": "objects get propagated down one of the nice things about HNC is that you don't need to have cluster level permissions",
    "start": "488160",
    "end": "494850"
  },
  {
    "text": "to create these namespaces you just need to have permission to edit the",
    "start": "494850",
    "end": "500310"
  },
  {
    "text": "hierarchical config in the namespace above it and then you can ask for a namespace to be created and I'll give a",
    "start": "500310",
    "end": "505560"
  },
  {
    "text": "demo of that in a minute and this is a brief summary again on behalf of Fae of the direction for the",
    "start": "505560",
    "end": "513659"
  },
  {
    "text": "virtual clusters the solution so in so the difference between more the model B",
    "start": "513660",
    "end": "518969"
  },
  {
    "text": "so I mentioned model B and C right both the tenant operator and the hierarchical",
    "start": "518969",
    "end": "524640"
  },
  {
    "text": "namespace solution are for model B where you're essentially leveraging namespaces",
    "start": "524640",
    "end": "530000"
  },
  {
    "text": "within a single cluster as representing a tenant so the key point is that in all of these",
    "start": "530000",
    "end": "538030"
  },
  {
    "text": "in both of these solutions tenants cannot request cluster scope resources because tenants are essentially bound by",
    "start": "538030",
    "end": "544570"
  },
  {
    "text": "a set of namespaces in many enterprises that's seen as a constraint because some",
    "start": "544570",
    "end": "551530"
  },
  {
    "text": "tenants want to define their own CR DS for example or other cost plus no scoped resources and you can't really have two",
    "start": "551530",
    "end": "560410"
  },
  {
    "text": "different tenants you know request the same C or D a definition so that's where",
    "start": "560410",
    "end": "566170"
  },
  {
    "text": "model C comes in model C actually gives separate API servers so tenants can actually define their own cluster scoped",
    "start": "566170",
    "end": "572170"
  },
  {
    "text": "resources as well right so Fei and Harry from Alibaba is anyone from Alibaba here",
    "start": "572170",
    "end": "579940"
  },
  {
    "text": "for Harry maybe okay so those folks are actually doing some real work so those",
    "start": "579940",
    "end": "586450"
  },
  {
    "text": "guys have put out a video now which we will be putting on our YouTube playlist and there'll be a lot more coming on",
    "start": "586450",
    "end": "593530"
  },
  {
    "text": "that project and I sure that they would welcome a lot of input and contribution from the community on that one in",
    "start": "593530",
    "end": "600010"
  },
  {
    "text": "particular and the other thing is that",
    "start": "600010",
    "end": "605320"
  },
  {
    "text": "this is again a slide from Fei but what he's saying is that a way to unify all these threads of work in our prop in our",
    "start": "605320",
    "end": "612310"
  },
  {
    "text": "working group is to look at the concept of a tenant and as we said earlier it",
    "start": "612310",
    "end": "617920"
  },
  {
    "text": "can create these it can instantiate a",
    "start": "617920",
    "end": "623290"
  },
  {
    "text": "tenant operator that's the logical representation of a tenant it can own a collection of namespaces some of those",
    "start": "623290",
    "end": "630280"
  },
  {
    "text": "namespaces could actually be roots of namespace hierarchies you know leveraging the HNC work that a DNN team",
    "start": "630280",
    "end": "635830"
  },
  {
    "text": "are doing and some of those instances could be virtual clusters so this is sort of a unified view of how all these",
    "start": "635830",
    "end": "642040"
  },
  {
    "text": "three tracks are work could potentially be combined into a single architecture so this is sort of a long-term view",
    "start": "642040",
    "end": "648010"
  },
  {
    "text": "right now each of these tracks will proceed independently and then we will talk about how or not to to show some",
    "start": "648010",
    "end": "655390"
  },
  {
    "text": "combinations of this project so that's kind of the long-term view okay another",
    "start": "655390",
    "end": "661330"
  },
  {
    "start": "660000",
    "end": "875000"
  },
  {
    "text": "thing that we kicked out recently is okay coming back to the data plane for multi-tenancy and in particular benchmarking right",
    "start": "661330",
    "end": "668080"
  },
  {
    "text": "so so so Jim and a team here have recently been contributing in areas",
    "start": "668080",
    "end": "673630"
  },
  {
    "text": "related to benchmarking and the thought there is that let's define somewhat",
    "start": "673630",
    "end": "679240"
  },
  {
    "text": "similar to CIS benchmarks a set of benchmark tests which you can run on a cluster and get a quantitative",
    "start": "679240",
    "end": "686709"
  },
  {
    "text": "representation of whether you meet the criteria that the community decides is",
    "start": "686709",
    "end": "691720"
  },
  {
    "text": "appropriate for for defining it as a multi multi-tenancy ready cluster so there are different dimensions to this",
    "start": "691720",
    "end": "699360"
  },
  {
    "text": "there are categories of tests related to for example control plane isolation tenant isolation actually maybe Jim you",
    "start": "699360",
    "end": "705940"
  },
  {
    "text": "wanna briefly chime in there and summarize there thanks Sanjeev yes so",
    "start": "705940",
    "end": "714550"
  },
  {
    "text": "like Sanjeev was mentioning you know some of the other constructs that we've been working on talk about how to",
    "start": "714550",
    "end": "720130"
  },
  {
    "text": "achieve multi-tenancy right but with the benchmarks what we're doing is we want to be able to measure the desired state",
    "start": "720130",
    "end": "727680"
  },
  {
    "text": "independently of how multi-tenancy is configured so you may even manually use",
    "start": "727680",
    "end": "732880"
  },
  {
    "text": "namespaces other constructs and you know configure your cluster which is fine but",
    "start": "732880",
    "end": "737950"
  },
  {
    "text": "how do you prove that you've achieved some level of multi-tenancy within the cluster so that's where we you know we",
    "start": "737950",
    "end": "743770"
  },
  {
    "text": "have three levels defined which were on the previous side a slide a level one would be you know independently of any",
    "start": "743770",
    "end": "750850"
  },
  {
    "text": "controller any CRD or add-on you put to your cluster is your name space and the",
    "start": "750850",
    "end": "756459"
  },
  {
    "text": "constructs around the namespace like network policies other security contexts",
    "start": "756459",
    "end": "761529"
  },
  {
    "text": "of policies things like that are there securely are they properly configured and we would do behavioral as well as",
    "start": "761529",
    "end": "768670"
  },
  {
    "text": "configuration tests to prove that they are properly configured much like if",
    "start": "768670",
    "end": "773800"
  },
  {
    "text": "you're familiar with the end-to-end tests which are part of the conformance",
    "start": "773800",
    "end": "779290"
  },
  {
    "text": "at the api conformance test suite as well right so so that's the idea with",
    "start": "779290",
    "end": "784540"
  },
  {
    "text": "level 1 level 2 is to allow self-service dev ops 2 so their teams should be able",
    "start": "784540",
    "end": "790959"
  },
  {
    "text": "to create their own namespaces and along with their namespaces maybe even request like different quota levels",
    "start": "790959",
    "end": "797079"
  },
  {
    "text": "thanks to that nature so that would be level 2 is what we've defined and level three would be what in a",
    "start": "797079",
    "end": "804050"
  },
  {
    "text": "Sanjeev mentioned where the Alibaba team has been working with virtual clusters to actually virtualize the control plane",
    "start": "804050",
    "end": "811220"
  },
  {
    "text": "to get your own API server you can install your own CR DS etc right so and",
    "start": "811220",
    "end": "816470"
  },
  {
    "text": "there are these are still proposals so there's things to be reviewed and refined there there was a good good",
    "start": "816470",
    "end": "822110"
  },
  {
    "text": "discussion earlier about you know maybe adding in even security like using G",
    "start": "822110",
    "end": "827360"
  },
  {
    "text": "wiser and other things at different levels to add more security and context and then with the tests we have like you",
    "start": "827360",
    "end": "834080"
  },
  {
    "text": "see over here there's different categories that will test for and this will also be expanded over time as we",
    "start": "834080",
    "end": "840410"
  },
  {
    "text": "proceed so certainly in terms of contributions we're looking for both in terms of helping define these categories",
    "start": "840410",
    "end": "847550"
  },
  {
    "text": "and tests as well as we want to create a tool in parallel which will do the",
    "start": "847550",
    "end": "853790"
  },
  {
    "text": "end-to-end validation so this is written and go it's very similar to if you're familiar with Sona boy and the",
    "start": "853790",
    "end": "859850"
  },
  {
    "text": "conformance test tool these are simple test tools which use ginkgo and other frameworks to validate",
    "start": "859850",
    "end": "865760"
  },
  {
    "text": "either a configuration or a particular behavior in your cluster thank you and",
    "start": "865760",
    "end": "876459"
  },
  {
    "start": "875000",
    "end": "1312000"
  },
  {
    "text": "and I've got some more information on the slides so let's skip over all of",
    "start": "876459",
    "end": "883760"
  },
  {
    "text": "this and perhaps we should move onto demos now so hopefully that gave you all who",
    "start": "883760",
    "end": "890720"
  },
  {
    "text": "might not be familiar with the working group completely a very very quick picture of what's going on feel free to",
    "start": "890720",
    "end": "896959"
  },
  {
    "text": "reach out to us either during the Q&A or after the session for more details so now it didn't it is going to give a",
    "start": "896959",
    "end": "904220"
  },
  {
    "text": "quick demo on hierarchical namespace controller is this relatively legible okay good so I'm just gonna give a very",
    "start": "904220",
    "end": "913370"
  },
  {
    "text": "quick demo showing exactly what I what I was describing on the slide so you can",
    "start": "913370",
    "end": "918440"
  },
  {
    "text": "create a namespace that represents your organization and part of me nobody can",
    "start": "918440",
    "end": "923510"
  },
  {
    "text": "type during demo so I'm cheating and so what I've done here is I've created a couple of namespaces using my cluster",
    "start": "923510",
    "end": "930949"
  },
  {
    "text": "admin level privileges right now that shows all of the the different aspects of the",
    "start": "930949",
    "end": "936320"
  },
  {
    "text": "organization that I want to create it's got a team that team owns a service and I can create for example roles for the",
    "start": "936320",
    "end": "944300"
  },
  {
    "text": "team asre and and some role bindings and here I'm",
    "start": "944300",
    "end": "950720"
  },
  {
    "text": "going to create some are back roles for the organization level sres",
    "start": "950720",
    "end": "955760"
  },
  {
    "text": "and so I've now created these but if you go look inside the service itself you",
    "start": "955760",
    "end": "961430"
  },
  {
    "text": "will see oops absolutely nothing because they haven't been hooked up yet there is",
    "start": "961430",
    "end": "966920"
  },
  {
    "text": "no relationship between these namespaces just yet and so what I'm going to do instead is",
    "start": "966920",
    "end": "973660"
  },
  {
    "text": "start out by running this new cube cuddle agency command which is just a",
    "start": "973660",
    "end": "979010"
  },
  {
    "text": "plugin for cube cuddle and I said that the parent of team a is Acme org and",
    "start": "979010",
    "end": "985790"
  },
  {
    "text": "then I'm going to do the same thing for service one in Acme org except I had a",
    "start": "985790",
    "end": "993380"
  },
  {
    "text": "typo instead of saying that instead of setting the parent of service I said",
    "start": "993380",
    "end": "999410"
  },
  {
    "text": "that the parent of Acme org is team a and it rejected that because you can't have a cycle in your hierarchy so it",
    "start": "999410",
    "end": "1006010"
  },
  {
    "text": "does have certain features to stop you from shooting yourself in the foot and so we now correct that we can see very",
    "start": "1006010",
    "end": "1014380"
  },
  {
    "text": "quickly with the tree command that we have set up the hierarchy the way we expected it to be and well before when I",
    "start": "1014380",
    "end": "1022480"
  },
  {
    "text": "had a look inside of service one there were no resources or sorry no roles if",
    "start": "1022480",
    "end": "1029140"
  },
  {
    "text": "we look now we can see that as expected service one has org a sorry which claims that it was inherited from acne org and",
    "start": "1029140",
    "end": "1035860"
  },
  {
    "text": "it also has team a essary which was inherited from team a and in this demo",
    "start": "1035860",
    "end": "1042520"
  },
  {
    "text": "by the way this demo is public you can go follow along yourself there are all kinds of things that you can do to",
    "start": "1042520",
    "end": "1047709"
  },
  {
    "text": "moderate modify the hierarchy and you will see that these objects get deleted if they supposed to be deleted so if you",
    "start": "1047709",
    "end": "1053530"
  },
  {
    "text": "move if you change the parent of one's the name space to another one if you update them they will get updated and it",
    "start": "1053530",
    "end": "1060340"
  },
  {
    "text": "doesn't just work with our back roles it also works with a variety of other objects right now that set of objects is",
    "start": "1060340",
    "end": "1066220"
  },
  {
    "text": "hard-coded but it will be configurable at some point this is using version 0.1 of the",
    "start": "1066220",
    "end": "1073310"
  },
  {
    "text": "HNC can of the agency and by the way do not attempt to use this in prod this is an initial experimental release that we",
    "start": "1073310",
    "end": "1081530"
  },
  {
    "text": "want to put out there to get some feedback the other thing that I mentioned was the ability to do",
    "start": "1081530",
    "end": "1087200"
  },
  {
    "text": "self-service namespaces and so here what I'm gonna say is that Acme org our top",
    "start": "1087200",
    "end": "1092660"
  },
  {
    "text": "level and our top level namespace has a required child of team B now I didn't",
    "start": "1092660",
    "end": "1098300"
  },
  {
    "text": "create the namespace called team B and that's all a feature of the controller",
    "start": "1098300",
    "end": "1104630"
  },
  {
    "text": "as well if you go look now at Acme org you will see that team B has been created as well and if we check out the",
    "start": "1104630",
    "end": "1111860"
  },
  {
    "text": "resources inside team B you'll see that",
    "start": "1111860",
    "end": "1120410"
  },
  {
    "text": "it has the org a Sri which is the only default role that I've defined and so",
    "start": "1120410",
    "end": "1127130"
  },
  {
    "text": "that's basically it and so far it scales relatively I mean the the interface I",
    "start": "1127130",
    "end": "1133010"
  },
  {
    "text": "should say scales relatively well I've been setting up some fun little hierarchies across my my cluster here",
    "start": "1133010",
    "end": "1139250"
  },
  {
    "text": "you can see that it's not really it's there is no single route you can have as",
    "start": "1139250",
    "end": "1145070"
  },
  {
    "text": "many routes as you like any existing namespace just gets to sit there and it's only when you start using these",
    "start": "1145070",
    "end": "1151340"
  },
  {
    "text": "controls that we create that CR and things start pointing to each other that's C that's it there are there",
    "start": "1151340",
    "end": "1157520"
  },
  {
    "text": "things to show but I think that in the interest of time we can move on so we're tracking just about right so we could do",
    "start": "1157520",
    "end": "1164630"
  },
  {
    "text": "one more demo or we could do straight to Q&A any preferences one more demo hands",
    "start": "1164630",
    "end": "1169940"
  },
  {
    "text": "hands for one more demo okay so we'll do that in five minutes and then we'll have about ten ten plus minutes for Q&A so",
    "start": "1169940",
    "end": "1178070"
  },
  {
    "text": "this demo is for the tenant operator work right so just as a refresher a set",
    "start": "1178070",
    "end": "1183260"
  },
  {
    "text": "of CRS that you use to represent tenants and then their students own customer",
    "start": "1183260",
    "end": "1188960"
  },
  {
    "text": "cluster resources like namespaces so n21 mapping of namespaces lieutenants",
    "start": "1188960",
    "end": "1196210"
  },
  {
    "text": "so I've actually got a little Auto scripting thing which is okay so first",
    "start": "1202330",
    "end": "1210110"
  },
  {
    "text": "we look at the cluster we see okay there's a couple of new CRS down there you see tenant namespaces and tenants",
    "start": "1210110",
    "end": "1215480"
  },
  {
    "text": "right so this cluster is ready to take those new CRS also we take a look at the",
    "start": "1215480",
    "end": "1224270"
  },
  {
    "text": "CNI so I'm actually having a little bit of the data plane isolation as well in this demo it so happens we're using",
    "start": "1224270",
    "end": "1229700"
  },
  {
    "text": "calico as a CNI right so we'll show of if we have time we'll show an illustration of combination of the",
    "start": "1229700",
    "end": "1235940"
  },
  {
    "text": "control plane the network policy and the port security policy for complete isolation to represent tenant identities",
    "start": "1235940",
    "end": "1246110"
  },
  {
    "text": "for for this demo we're going to use service accounts so two service accounts representing tenant one admin and tenant",
    "start": "1246110",
    "end": "1251990"
  },
  {
    "text": "to admin so we look at the sample yeah",
    "start": "1251990",
    "end": "1257570"
  },
  {
    "text": "Mel for creating a tenant very baseline version here okay so we're saying here please create me an",
    "start": "1257570",
    "end": "1264590"
  },
  {
    "text": "object called tenant that shall be called tenant t1 that shall have all its",
    "start": "1264590",
    "end": "1270860"
  },
  {
    "text": "admin stuff in this namespace called t1 admin space and whose admins will be",
    "start": "1270860",
    "end": "1276860"
  },
  {
    "text": "this service account right any are back subject can be admins the reason it is set up this way is again with the",
    "start": "1276860",
    "end": "1283730"
  },
  {
    "text": "self-service in mind anybody belonging to an are back role called tenant creators will be able to",
    "start": "1283730",
    "end": "1289160"
  },
  {
    "text": "create tenants once they create a tenant only the admins specified inside the",
    "start": "1289160",
    "end": "1295460"
  },
  {
    "text": "tenant manifest will get modify and delete permissions that allows anybody to self-service create tenants but",
    "start": "1295460",
    "end": "1301700"
  },
  {
    "text": "nobody to step on each other standards that's that's the sort of motivation there",
    "start": "1301700",
    "end": "1307540"
  },
  {
    "start": "1312000",
    "end": "1420000"
  },
  {
    "text": "okay and we go ahead and create that tenant and it's been created now we also",
    "start": "1312030",
    "end": "1317730"
  },
  {
    "text": "notice that a few access controls have been set up for us in particular some",
    "start": "1317730",
    "end": "1323220"
  },
  {
    "text": "cluster roles for this tenant admin role I'm not going to go into the details of that but these essentially ensure all",
    "start": "1323220",
    "end": "1329820"
  },
  {
    "text": "those properties I mentioned earlier the appropriate privileges for the tenant admin insuring tenant admins do not get",
    "start": "1329820",
    "end": "1337110"
  },
  {
    "text": "permission in other tenant spaces and so on right so this operator takes care of provisioning all of that and then role",
    "start": "1337110",
    "end": "1346410"
  },
  {
    "text": "bindings within those target admin namespaces so this is the only admin for that tenant in this example",
    "start": "1346410",
    "end": "1353070"
  },
  {
    "text": "similarly creating another tenant right again anybody belonging to the group",
    "start": "1353070",
    "end": "1359010"
  },
  {
    "text": "tenant creators can be creating self-service tenants okay similar to",
    "start": "1359010",
    "end": "1365850"
  },
  {
    "text": "before this time somebody's creating a kind tenant with the name tenant t2 and he's using his own admin space and his",
    "start": "1365850",
    "end": "1372960"
  },
  {
    "text": "own admin let's go ahead and apply that okay so now we see there's two tenants",
    "start": "1372960",
    "end": "1379740"
  },
  {
    "text": "in the cluster we talked about this",
    "start": "1379740",
    "end": "1384870"
  },
  {
    "text": "concept of a tenant namespace right which is a resource through which a tenant admin creates namespaces so you",
    "start": "1384870",
    "end": "1392430"
  },
  {
    "text": "don't create namespaces like you do today with queue cattle create namespace that this will be an operation performed",
    "start": "1392430",
    "end": "1399510"
  },
  {
    "text": "on on your behalf by the controller right so this is saying please create me",
    "start": "1399510",
    "end": "1405780"
  },
  {
    "text": "and end-user namespace called t1 and one here I have ensured that my naming is",
    "start": "1405780",
    "end": "1411240"
  },
  {
    "text": "non-conflicting by calling the namespace t1 n1 i right so that ensures that have",
    "start": "1411240",
    "end": "1416730"
  },
  {
    "text": "prepended the tenant name and similarly another namespace so now using the cube",
    "start": "1416730",
    "end": "1425100"
  },
  {
    "start": "1420000",
    "end": "1477000"
  },
  {
    "text": "config of t1 at admin 1 so me acting as t1 admin 1 I'm assigning those",
    "start": "1425100",
    "end": "1431400"
  },
  {
    "text": "namespaces to that tenant so this is tenant admin in action grabbing cluster",
    "start": "1431400",
    "end": "1438420"
  },
  {
    "text": "resources ok that's been created similarly tenant",
    "start": "1438420",
    "end": "1445200"
  },
  {
    "text": "admin in action grabbing another resource another namespace and confirming that",
    "start": "1445200",
    "end": "1454590"
  },
  {
    "text": "this is what tenant admin one owns for now and we and the cluster admin looks",
    "start": "1454590",
    "end": "1461820"
  },
  {
    "text": "at the global set of namespaces he notices that there are two tenant admin",
    "start": "1461820",
    "end": "1468120"
  },
  {
    "text": "namespaces and then tenant one has actually created two user namespaces",
    "start": "1468120",
    "end": "1475460"
  },
  {
    "start": "1477000",
    "end": "1523000"
  },
  {
    "text": "now as the as the identity of can and",
    "start": "1477019",
    "end": "1483809"
  },
  {
    "text": "twos admin I try to see whether I can access tenant ones resources right so",
    "start": "1483809",
    "end": "1489600"
  },
  {
    "text": "this is me as ten and two Zeidman trying to get information about tenant one okay",
    "start": "1489600",
    "end": "1494700"
  },
  {
    "text": "that's blocked so those automatic are back rules that we had set up using specific resource names are in action",
    "start": "1494700",
    "end": "1503510"
  },
  {
    "text": "now a little bit of a networking isolation demo so we are now attaching",
    "start": "1503510",
    "end": "1509760"
  },
  {
    "text": "labels to make sure that these labels indicate which this will be useful in",
    "start": "1509760",
    "end": "1516630"
  },
  {
    "text": "tracking the appropriate network policies to these to these namespaces",
    "start": "1516630",
    "end": "1522470"
  },
  {
    "text": "okay eventually we will also look at the there's also namespace automation that",
    "start": "1522470",
    "end": "1529830"
  },
  {
    "start": "1523000",
    "end": "1628000"
  },
  {
    "text": "you may be familiar with so that can be integrated with tend operator as well",
    "start": "1529830",
    "end": "1536000"
  },
  {
    "text": "okay and this is an example of a calico Network policy this is in particular a global network policy one quick note",
    "start": "1536090",
    "end": "1542639"
  },
  {
    "text": "here is that one thing to note when you are trying to make a cluster multi tenant and you want to have network",
    "start": "1542639",
    "end": "1549240"
  },
  {
    "text": "isolation you probably do not want to use standard kubernetes network policy for that you want to reuse standard",
    "start": "1549240",
    "end": "1555120"
  },
  {
    "text": "kubernetes network policy for the applicant the users because that can be used for application level microsecond",
    "start": "1555120",
    "end": "1562350"
  },
  {
    "text": "tation right instead you use global network policy as a cluster admin stool so the cluster",
    "start": "1562350",
    "end": "1569549"
  },
  {
    "text": "admin has a different type of resource for network policy which he uses only for tenant isolation and the developers",
    "start": "1569549",
    "end": "1577139"
  },
  {
    "text": "have a different type of network policy resource which they use only for application microsegmentation right a",
    "start": "1577139",
    "end": "1584490"
  },
  {
    "text": "lot of the current ad hoc solutions they tend to overload my and Cuban ideas",
    "start": "1584490",
    "end": "1590280"
  },
  {
    "text": "network policies to do both tenant isolation and application isolation which you really shouldn't because then",
    "start": "1590280",
    "end": "1596070"
  },
  {
    "text": "you have to give a developer some",
    "start": "1596070",
    "end": "1601100"
  },
  {
    "text": "cluster admin like privileges and they could invade invade inadvertently break cluster rights or tenant isolation",
    "start": "1601100",
    "end": "1607680"
  },
  {
    "text": "boundaries not sure if I explained that enough given that we are rushing through",
    "start": "1607680",
    "end": "1613470"
  },
  {
    "text": "this but hopefully you get the point that you need to think about not just leveraging kubernetes network policy for",
    "start": "1613470",
    "end": "1621450"
  },
  {
    "text": "both tenant isolation and application micro segmentation so another thing is",
    "start": "1621450",
    "end": "1630030"
  },
  {
    "start": "1628000",
    "end": "1684000"
  },
  {
    "text": "that this is got a part security policy so it will not accept end user",
    "start": "1630030",
    "end": "1635400"
  },
  {
    "text": "containers that that require privileges so we are actually running a curated version of nginx so just as you perhaps",
    "start": "1635400",
    "end": "1643110"
  },
  {
    "text": "may know may know there are few repositories which have curated versions of standard containers like bitNami",
    "start": "1643110",
    "end": "1649380"
  },
  {
    "text": "nginx is curated so that it doesn't actually require it requires minimal hosts network privileges so you want to",
    "start": "1649380",
    "end": "1657210"
  },
  {
    "text": "be using those containers and you want to have set up a pod security policy that only allows those containers to run",
    "start": "1657210",
    "end": "1663630"
  },
  {
    "text": "in your tenants okay then you know what let's stop the demo here so what we did",
    "start": "1663630",
    "end": "1670410"
  },
  {
    "text": "was we basically told you some of the projects that are going on how to quick demos let's open it up for Q&A",
    "start": "1670410",
    "end": "1677000"
  },
  {
    "text": "what's on your mind how can the working group help the question was the tenant",
    "start": "1677000",
    "end": "1686370"
  },
  {
    "text": "CRD in the HNC seems similar and how are they different the difference is that the tenant CRD is a sort of end to end",
    "start": "1686370",
    "end": "1693810"
  },
  {
    "text": "lifecycle flow whereas the agency as a building block and so as you can see HNC",
    "start": "1693810",
    "end": "1698820"
  },
  {
    "text": "it is expressed purely in forms of primitives you already know and hopefully love and adds a relatively",
    "start": "1698820",
    "end": "1705120"
  },
  {
    "text": "small set of extended behaviors onto them whereas the tenancy Rd is a whole",
    "start": "1705120",
    "end": "1710820"
  },
  {
    "text": "model by which you can you can organize tendency into your in your cluster and they are going to be",
    "start": "1710820",
    "end": "1717310"
  },
  {
    "text": "building on one another most likely yeah so you can use these independently or you can use them in combination this is",
    "start": "1717310",
    "end": "1722980"
  },
  {
    "text": "the goal yeah so we will yeah we have we",
    "start": "1722980",
    "end": "1746260"
  },
  {
    "text": "definitely need to be preparing more documentation on how these things turn",
    "start": "1746260",
    "end": "1751300"
  },
  {
    "text": "together and we take an action item to do that we also do not want to be too",
    "start": "1751300",
    "end": "1756970"
  },
  {
    "text": "opinionated because there are different ways of doing the same thing so we want to give references but say that this is",
    "start": "1756970",
    "end": "1762070"
  },
  {
    "text": "just one way of doing it but we do take the AI to prepare more I would add that",
    "start": "1762070",
    "end": "1770140"
  },
  {
    "text": "not all the primitives are in place yet and so that's some of what the the work that we're doing is is to put those primitives in place once we have the",
    "start": "1770140",
    "end": "1776740"
  },
  {
    "text": "benchmarks in place that Jim and Co are putting on then we will be able to more easily write a best practices guide",
    "start": "1776740",
    "end": "1782520"
  },
  {
    "text": "which will basically say if you look like this do that if you look like this to do this I mean we could have",
    "start": "1782520",
    "end": "1789490"
  },
  {
    "text": "documents on what you can do with Cuban it is today which is a limited version of multi-tenancy but we wait for these",
    "start": "1789490",
    "end": "1797830"
  },
  {
    "text": "projects to mature further we before we have a best practices involving these projects but the action is we will",
    "start": "1797830",
    "end": "1804160"
  },
  {
    "text": "produce more end-to-end documentation let me just pick yeah the gentleman over",
    "start": "1804160",
    "end": "1809650"
  },
  {
    "text": "here",
    "start": "1809650",
    "end": "1811920"
  },
  {
    "text": "well you know let me let me have the other folks as well I'll give you my my",
    "start": "1820200",
    "end": "1826060"
  },
  {
    "text": "interpretation and and then the other folks have an opinion as well we are not limiting ourselves by timelines at this",
    "start": "1826060",
    "end": "1831910"
  },
  {
    "text": "point we want adequate functionality before we declare something as usable so",
    "start": "1831910",
    "end": "1837880"
  },
  {
    "text": "I think that we are looking at essentially depending on the level of multi-tenancy you know Jim talked about",
    "start": "1837880",
    "end": "1844480"
  },
  {
    "text": "various levels right so elementary solutions can actually be run today but",
    "start": "1844480",
    "end": "1850030"
  },
  {
    "text": "a lot of these projects we are looking at see essentially at the next six months for these to really mature you",
    "start": "1850030",
    "end": "1857590"
  },
  {
    "text": "know one of the things to add is so initially we're focused on level one and",
    "start": "1857590",
    "end": "1862870"
  },
  {
    "text": "the idea is to at least get agreement on the set of tests that we want to do and then we'll go about automating those so",
    "start": "1862870",
    "end": "1870220"
  },
  {
    "text": "there is a document where we have been collecting different use cases if you go to the multi-tenancy repo you will see",
    "start": "1870220",
    "end": "1877120"
  },
  {
    "text": "you know different use cases and suggestions we've collected so certainly contribute your use cases because that",
    "start": "1877120",
    "end": "1883360"
  },
  {
    "text": "will influence the benchmarks and what we target in what order and you can of course in any one of our meetings if you",
    "start": "1883360",
    "end": "1890050"
  },
  {
    "text": "come in and you know give us some of the feedback things that you're seeing and how you would like multi-tenancy to be",
    "start": "1890050",
    "end": "1896080"
  },
  {
    "text": "measured that would be helpful as well yeah come to our meetings and give us some target yeah go ahead",
    "start": "1896080",
    "end": "1904260"
  },
  {
    "text": "yeah the ability for each tenant to define their own series well right the",
    "start": "1913070",
    "end": "1927269"
  },
  {
    "text": "thing is that you can depending on your operational model you can allow your tenants to create their own series even",
    "start": "1927269",
    "end": "1932879"
  },
  {
    "text": "in the other models it's just that there will be more coordination right you in a namespace grouping model you can say",
    "start": "1932879",
    "end": "1939929"
  },
  {
    "text": "that a tenant can request a C or D and has to coordinate out-of-band with the",
    "start": "1939929",
    "end": "1945960"
  },
  {
    "text": "cluster admin to get their C already added as at the global scope right so",
    "start": "1945960",
    "end": "1951450"
  },
  {
    "text": "that's the kind of quote-unquote poor man's way of doing it but yes if you",
    "start": "1951450",
    "end": "1956940"
  },
  {
    "text": "want to do it you know in a fully automated in subsurface manner then that's the virtual clusters model which is actually the least mature right now",
    "start": "1956940",
    "end": "1963809"
  },
  {
    "text": "so for the virtual clusters model I think we're looking past six months from now can I add something to that he's one",
    "start": "1963809",
    "end": "1971279"
  },
  {
    "text": "of the issues that we've had with multi-tenancy is because so few of these primitives have been in place up until now people have sort of taken one or two",
    "start": "1971279",
    "end": "1978899"
  },
  {
    "text": "quick looks at it said oh no harking namespaces no cell service creation note tenant no per tendency or die's I'm just",
    "start": "1978899",
    "end": "1985379"
  },
  {
    "text": "going to do something else the more of these barriers we break down I think the greater a demand we are going to see for",
    "start": "1985379",
    "end": "1991080"
  },
  {
    "text": "the remaining ones to be broken down as well so while today there is not a great demand for namespace C our DS which is",
    "start": "1991080",
    "end": "1997979"
  },
  {
    "text": "something that has been bandied about I think that if that were the only thing that we're sitting between a couple of",
    "start": "1997979",
    "end": "2004749"
  },
  {
    "text": "large users and they're multi-tenancy nirvana you would very quickly see some",
    "start": "2004749",
    "end": "2010070"
  },
  {
    "text": "movement on that an idea that comes up often is Kota management for tenants and",
    "start": "2010070",
    "end": "2016700"
  },
  {
    "text": "possibly hierarchical quotas so it's be it's going to be a while before we get",
    "start": "2016700",
    "end": "2022700"
  },
  {
    "text": "more on that to time for one more gentleman how much time do we have",
    "start": "2022700",
    "end": "2028749"
  },
  {
    "text": "okay maybe just the one more question sorry you sure has four different models",
    "start": "2028749",
    "end": "2036349"
  },
  {
    "text": "for it but all your examples were defined on the first three the last model where",
    "start": "2036349",
    "end": "2042570"
  },
  {
    "text": "you redefine the core and try to you know start from the tenant level that's is any work done on that that's totally",
    "start": "2042570",
    "end": "2048690"
  },
  {
    "text": "you know our interactions with this API server team so far have been well find",
    "start": "2048690",
    "end": "2054540"
  },
  {
    "text": "me 20 developers that can do that and then we'll talk so at the moment that's not happening so everything that's",
    "start": "2054540",
    "end": "2060990"
  },
  {
    "text": "happening is on top of Corcovado days now HNC is an example of a project that actually could become part of core",
    "start": "2060990",
    "end": "2068580"
  },
  {
    "text": "kubernetes if this of interaction but at this point everything is on top yeah we are trying to prove that there is a",
    "start": "2068580",
    "end": "2073649"
  },
  {
    "text": "demand a real demand for these kinds of features that cannot easily be satisfied using extensions out-of-band",
    "start": "2073650",
    "end": "2080520"
  },
  {
    "text": "communications and so as I said we've got a chicken-and-egg problem so please come and join us on the meetings use the",
    "start": "2080520",
    "end": "2087270"
  },
  {
    "text": "stuff that we're building and and and we'll start moving towards these more integrated solutions this is all",
    "start": "2087270",
    "end": "2096540"
  },
  {
    "text": "available on github so if you go into its github calm slash kubernetes SIG's",
    "start": "2096540",
    "end": "2101820"
  },
  {
    "text": "slash multi-tenancy despite the name we're not a cig we're a working group but if you search for working group",
    "start": "2101820",
    "end": "2107250"
  },
  {
    "text": "multi-tenancy you will find us pretty easily and I'll add these slides to this session and the links are in the slides",
    "start": "2107250",
    "end": "2113400"
  },
  {
    "text": "but you can google for us working group multi-tenancy cuban artists and you'll hit the right links that's all for today",
    "start": "2113400",
    "end": "2121680"
  },
  {
    "text": "but please reach out to us afterwards and thank you [Applause]",
    "start": "2121680",
    "end": "2129289"
  }
]