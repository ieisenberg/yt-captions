[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "hello and welcome to managing developer",
    "start": "0",
    "end": "1520"
  },
  {
    "text": "workflows with the kubernetes api my",
    "start": "1520",
    "end": "3199"
  },
  {
    "text": "name is colin murphy i'm an engineering",
    "start": "3199",
    "end": "4720"
  },
  {
    "text": "manager at adobe",
    "start": "4720",
    "end": "6000"
  },
  {
    "text": "first thing i'd like to do is cover why",
    "start": "6000",
    "end": "7680"
  },
  {
    "text": "we chose to write our own kubernetes",
    "start": "7680",
    "end": "9040"
  },
  {
    "text": "client",
    "start": "9040",
    "end": "9840"
  },
  {
    "text": "and then i'll show you how we did it as",
    "start": "9840",
    "end": "11920"
  },
  {
    "text": "i said i'm an engineering manager",
    "start": "11920",
    "end": "13679"
  },
  {
    "text": "my current responsibility is the",
    "start": "13679",
    "end": "15839"
  },
  {
    "text": "infrastructure",
    "start": "15839",
    "end": "16800"
  },
  {
    "text": "for document cloud both the architecture",
    "start": "16800",
    "end": "19439"
  },
  {
    "text": "and the software",
    "start": "19439",
    "end": "21279"
  },
  {
    "start": "20000",
    "end": "73000"
  },
  {
    "text": "why write your own kubernetes client you",
    "start": "21279",
    "end": "23760"
  },
  {
    "text": "certainly could just",
    "start": "23760",
    "end": "24880"
  },
  {
    "text": "write a bunch of bash scripts with cube",
    "start": "24880",
    "end": "27359"
  },
  {
    "text": "cuddle",
    "start": "27359",
    "end": "28720"
  },
  {
    "text": "throw that into jenkins and get 80 of",
    "start": "28720",
    "end": "31519"
  },
  {
    "text": "what you could hope to achieve",
    "start": "31519",
    "end": "33040"
  },
  {
    "text": "with with your own kubernetes client",
    "start": "33040",
    "end": "36399"
  },
  {
    "text": "is it really worth all the effort for",
    "start": "36399",
    "end": "39040"
  },
  {
    "text": "that extra 20",
    "start": "39040",
    "end": "41760"
  },
  {
    "text": "for us the overriding reason is that",
    "start": "42079",
    "end": "44320"
  },
  {
    "text": "just like anything at a large company",
    "start": "44320",
    "end": "45920"
  },
  {
    "text": "like adobe",
    "start": "45920",
    "end": "47440"
  },
  {
    "text": "you're never in a green field you always",
    "start": "47440",
    "end": "50559"
  },
  {
    "text": "have",
    "start": "50559",
    "end": "51760"
  },
  {
    "text": "lots of other things to consider first",
    "start": "51760",
    "end": "54960"
  },
  {
    "text": "off",
    "start": "54960",
    "end": "55280"
  },
  {
    "text": "all of these applications were were",
    "start": "55280",
    "end": "57360"
  },
  {
    "text": "already deployed either on dc os or",
    "start": "57360",
    "end": "59760"
  },
  {
    "text": "another",
    "start": "59760",
    "end": "61440"
  },
  {
    "text": "homespun container orchestration system",
    "start": "61440",
    "end": "65920"
  },
  {
    "text": "so we needed to go from those",
    "start": "65920",
    "end": "68360"
  },
  {
    "text": "configurations",
    "start": "68360",
    "end": "69840"
  },
  {
    "text": "onto kubernetes in a seamless manner",
    "start": "69840",
    "end": "73840"
  },
  {
    "start": "73000",
    "end": "90000"
  },
  {
    "text": "so the first one is is really we want to",
    "start": "74080",
    "end": "77200"
  },
  {
    "text": "profound outages right",
    "start": "77200",
    "end": "78640"
  },
  {
    "text": "we need to exert a greater control",
    "start": "78640",
    "end": "81840"
  },
  {
    "text": "over what our application teams can do",
    "start": "81840",
    "end": "84000"
  },
  {
    "text": "than just saying",
    "start": "84000",
    "end": "84960"
  },
  {
    "text": "you know here's cube cuddle here are",
    "start": "84960",
    "end": "86720"
  },
  {
    "text": "some yaml files go have at it",
    "start": "86720",
    "end": "89040"
  },
  {
    "text": "right you do that you're going to have",
    "start": "89040",
    "end": "91520"
  },
  {
    "start": "90000",
    "end": "127000"
  },
  {
    "text": "you're going to have outages because",
    "start": "91520",
    "end": "92479"
  },
  {
    "text": "people just don't understand kubernetes",
    "start": "92479",
    "end": "94320"
  },
  {
    "text": "and i'll get to that in a second but you",
    "start": "94320",
    "end": "97200"
  },
  {
    "text": "also want to limit",
    "start": "97200",
    "end": "98320"
  },
  {
    "text": "the kubernetes objects you have",
    "start": "98320",
    "end": "101360"
  },
  {
    "text": "you know potentially apply labels keep",
    "start": "101360",
    "end": "103280"
  },
  {
    "text": "them from interfering with each other",
    "start": "103280",
    "end": "105920"
  },
  {
    "text": "and all this this is really just to say",
    "start": "105920",
    "end": "109360"
  },
  {
    "text": "i should point out that it's not a",
    "start": "109360",
    "end": "111520"
  },
  {
    "text": "substitution for",
    "start": "111520",
    "end": "113280"
  },
  {
    "text": "you know rbac network network",
    "start": "113280",
    "end": "115520"
  },
  {
    "text": "segmentation",
    "start": "115520",
    "end": "116640"
  },
  {
    "text": "open policy agent uh other controls on",
    "start": "116640",
    "end": "119520"
  },
  {
    "text": "the",
    "start": "119520",
    "end": "120079"
  },
  {
    "text": "on the control plane side that you'd",
    "start": "120079",
    "end": "121840"
  },
  {
    "text": "wanted to uh implement to protect so",
    "start": "121840",
    "end": "124079"
  },
  {
    "text": "this isn't this isn't a replacement for",
    "start": "124079",
    "end": "125439"
  },
  {
    "text": "those it's just a",
    "start": "125439",
    "end": "126960"
  },
  {
    "text": "it's just a nice uh supplementary thing",
    "start": "126960",
    "end": "131679"
  },
  {
    "start": "127000",
    "end": "161000"
  },
  {
    "text": "so we also as i mentioned it was it's",
    "start": "132720",
    "end": "134959"
  },
  {
    "text": "it's not a green field right we had an",
    "start": "134959",
    "end": "136400"
  },
  {
    "text": "existing deployment system",
    "start": "136400",
    "end": "137840"
  },
  {
    "text": "called moonbeam it it actually made the",
    "start": "137840",
    "end": "141599"
  },
  {
    "text": "the problem statement a little easier",
    "start": "141599",
    "end": "143040"
  },
  {
    "text": "because we knew we just had a shaw",
    "start": "143040",
    "end": "145520"
  },
  {
    "text": "and that's all we had to do with",
    "start": "145520",
    "end": "147040"
  },
  {
    "text": "deployment so a git repo",
    "start": "147040",
    "end": "148720"
  },
  {
    "text": "a shaw and that that made it kind of",
    "start": "148720",
    "end": "151599"
  },
  {
    "text": "easy",
    "start": "151599",
    "end": "152080"
  },
  {
    "text": "to start as a nice place to start but",
    "start": "152080",
    "end": "154160"
  },
  {
    "text": "you know we couldn't just use spinnaker",
    "start": "154160",
    "end": "155599"
  },
  {
    "text": "because",
    "start": "155599",
    "end": "156239"
  },
  {
    "text": "we already had a bunch of stuff that",
    "start": "156239",
    "end": "157760"
  },
  {
    "text": "that spinnaker can do and",
    "start": "157760",
    "end": "159360"
  },
  {
    "text": "likewise for other tooling out there",
    "start": "159360",
    "end": "162800"
  },
  {
    "start": "161000",
    "end": "229000"
  },
  {
    "text": "so so you know the other big thing right",
    "start": "164879",
    "end": "167760"
  },
  {
    "text": "we want to reduce",
    "start": "167760",
    "end": "168800"
  },
  {
    "text": "cognitive load application engineers",
    "start": "168800",
    "end": "173280"
  },
  {
    "text": "they have a deep technical knowledge",
    "start": "173280",
    "end": "174879"
  },
  {
    "text": "right they understand you know how to",
    "start": "174879",
    "end": "178720"
  },
  {
    "text": "manipulate a pdf or a echo sign",
    "start": "178720",
    "end": "182080"
  },
  {
    "text": "agreement or maybe",
    "start": "182080",
    "end": "183120"
  },
  {
    "text": "some sort of machine",
    "start": "183120",
    "end": "186159"
  },
  {
    "text": "learning they don't really have time to",
    "start": "186159",
    "end": "188560"
  },
  {
    "text": "do kubernetes right i mean if",
    "start": "188560",
    "end": "190319"
  },
  {
    "text": "there's no such thing as a person who",
    "start": "190319",
    "end": "191599"
  },
  {
    "text": "fully understands",
    "start": "191599",
    "end": "193440"
  },
  {
    "text": "everything that's required in a in a web",
    "start": "193440",
    "end": "195760"
  },
  {
    "text": "application right then we had our site",
    "start": "195760",
    "end": "198720"
  },
  {
    "text": "reliability engineers",
    "start": "198720",
    "end": "201920"
  },
  {
    "text": "and and really they had the same story",
    "start": "202239",
    "end": "204080"
  },
  {
    "text": "right they have there's a huge legacy",
    "start": "204080",
    "end": "205599"
  },
  {
    "text": "application",
    "start": "205599",
    "end": "207360"
  },
  {
    "text": "it needs constant attention they don't",
    "start": "207360",
    "end": "209599"
  },
  {
    "text": "have time to you know",
    "start": "209599",
    "end": "210799"
  },
  {
    "text": "when this whole other system kubernetes",
    "start": "210799",
    "end": "213840"
  },
  {
    "text": "we also have lots of compliance and",
    "start": "213840",
    "end": "217440"
  },
  {
    "text": "on tickets so it's just it's just not a",
    "start": "217440",
    "end": "220879"
  },
  {
    "text": "thing that we could just oh let's just",
    "start": "220879",
    "end": "222319"
  },
  {
    "text": "re-educate hundreds of people on how to",
    "start": "222319",
    "end": "224000"
  },
  {
    "text": "do something",
    "start": "224000",
    "end": "227360"
  },
  {
    "text": "another reason is is is secret",
    "start": "227360",
    "end": "230319"
  },
  {
    "start": "229000",
    "end": "284000"
  },
  {
    "text": "management",
    "start": "230319",
    "end": "232400"
  },
  {
    "text": "we use hashicorp vault at adobe",
    "start": "232400",
    "end": "236239"
  },
  {
    "text": "and and we really can't have especially",
    "start": "236239",
    "end": "238159"
  },
  {
    "text": "some of the the",
    "start": "238159",
    "end": "239280"
  },
  {
    "text": "clusters with very complex",
    "start": "239280",
    "end": "242959"
  },
  {
    "text": "requirements you know if we're going to",
    "start": "243200",
    "end": "245280"
  },
  {
    "text": "have fedramp clusters coming online",
    "start": "245280",
    "end": "247280"
  },
  {
    "text": "but we have pci hipaa we can't",
    "start": "247280",
    "end": "250720"
  },
  {
    "text": "we can't always have a connection to",
    "start": "250720",
    "end": "252319"
  },
  {
    "text": "some sort of from a cluster to a secrets",
    "start": "252319",
    "end": "254799"
  },
  {
    "text": "management so we really had to find a",
    "start": "254799",
    "end": "256560"
  },
  {
    "text": "way to package up all the secrets an",
    "start": "256560",
    "end": "258720"
  },
  {
    "text": "application could need",
    "start": "258720",
    "end": "260400"
  },
  {
    "text": "from within our internal network and and",
    "start": "260400",
    "end": "263360"
  },
  {
    "text": "push that",
    "start": "263360",
    "end": "264080"
  },
  {
    "text": "in a safe way out to",
    "start": "264080",
    "end": "267759"
  },
  {
    "text": "kubernetes cluster in a way that would",
    "start": "267759",
    "end": "269680"
  },
  {
    "text": "you know allow",
    "start": "269680",
    "end": "272320"
  },
  {
    "text": "allow for roll back make sure there",
    "start": "273040",
    "end": "276160"
  },
  {
    "text": "wasn't a way that it would interfere",
    "start": "276160",
    "end": "277600"
  },
  {
    "text": "with",
    "start": "277600",
    "end": "277919"
  },
  {
    "text": "with secrets in the next release that",
    "start": "277919",
    "end": "279600"
  },
  {
    "text": "kind of thing",
    "start": "279600",
    "end": "282560"
  },
  {
    "text": "and then lastly it's really it's just",
    "start": "282560",
    "end": "284240"
  },
  {
    "start": "284000",
    "end": "309000"
  },
  {
    "text": "not that hard",
    "start": "284240",
    "end": "286639"
  },
  {
    "text": "it's it's very simple it's fairly well",
    "start": "286639",
    "end": "288400"
  },
  {
    "text": "documented if you understand if you know",
    "start": "288400",
    "end": "290080"
  },
  {
    "text": "kubernetes",
    "start": "290080",
    "end": "291759"
  },
  {
    "text": "if you're familiar with the concepts of",
    "start": "291759",
    "end": "292880"
  },
  {
    "text": "kubernetes you can write a kubernetes",
    "start": "292880",
    "end": "295199"
  },
  {
    "text": "client",
    "start": "295199",
    "end": "296160"
  },
  {
    "text": "i mean go is a little bit of a learning",
    "start": "296160",
    "end": "298880"
  },
  {
    "text": "curve you don't have to of course write",
    "start": "298880",
    "end": "300000"
  },
  {
    "text": "your",
    "start": "300000",
    "end": "300880"
  },
  {
    "text": "your client in go but",
    "start": "300880",
    "end": "304479"
  },
  {
    "text": "it's probably the best supported sdk",
    "start": "304479",
    "end": "306720"
  },
  {
    "text": "that at least at the time i wrote i",
    "start": "306720",
    "end": "308320"
  },
  {
    "text": "wrote the client",
    "start": "308320",
    "end": "311199"
  },
  {
    "start": "309000",
    "end": "324000"
  },
  {
    "text": "okay before we continue just want to",
    "start": "311199",
    "end": "312960"
  },
  {
    "text": "point out that",
    "start": "312960",
    "end": "314639"
  },
  {
    "text": "the client has been open sourced it's on",
    "start": "314639",
    "end": "317520"
  },
  {
    "text": "github",
    "start": "317520",
    "end": "319120"
  },
  {
    "text": "adobe slash ported to kubernetes",
    "start": "319120",
    "end": "325840"
  },
  {
    "start": "324000",
    "end": "358000"
  },
  {
    "text": "so moving on to the requirements i know",
    "start": "326240",
    "end": "328479"
  },
  {
    "text": "i've already briefly touched on them",
    "start": "328479",
    "end": "331919"
  },
  {
    "text": "the first one being just that we were",
    "start": "332639",
    "end": "334320"
  },
  {
    "text": "migrating from another system or two",
    "start": "334320",
    "end": "336160"
  },
  {
    "text": "other systems onto a single system",
    "start": "336160",
    "end": "338720"
  },
  {
    "text": "so we had to",
    "start": "338720",
    "end": "341440"
  },
  {
    "text": "have the way that secrets were retrieved",
    "start": "341759",
    "end": "343759"
  },
  {
    "text": "have the way that",
    "start": "343759",
    "end": "344800"
  },
  {
    "text": "environment variables set to be the same",
    "start": "344800",
    "end": "347600"
  },
  {
    "text": "and then also",
    "start": "347600",
    "end": "349440"
  },
  {
    "text": "the code had to be the same too that the",
    "start": "349440",
    "end": "351120"
  },
  {
    "text": "application code",
    "start": "351120",
    "end": "352960"
  },
  {
    "text": "so we couldn't change anything and how",
    "start": "352960",
    "end": "354639"
  },
  {
    "text": "that was formatted",
    "start": "354639",
    "end": "357520"
  },
  {
    "start": "358000",
    "end": "413000"
  },
  {
    "text": "now in addition to that we needed teams",
    "start": "361199",
    "end": "363440"
  },
  {
    "text": "to just to immediate teams to migrate",
    "start": "363440",
    "end": "365600"
  },
  {
    "text": "right away or or at least migrate",
    "start": "365600",
    "end": "368400"
  },
  {
    "text": "without",
    "start": "368400",
    "end": "369039"
  },
  {
    "text": "talking into each and every single one",
    "start": "369039",
    "end": "370800"
  },
  {
    "text": "of them and treating them is",
    "start": "370800",
    "end": "372720"
  },
  {
    "text": "each is a special little snowflake so",
    "start": "372720",
    "end": "376080"
  },
  {
    "text": "we had we did a lot of work around",
    "start": "376080",
    "end": "378880"
  },
  {
    "text": "automating automation",
    "start": "378880",
    "end": "381840"
  },
  {
    "text": "generating the right files for t for",
    "start": "382160",
    "end": "384560"
  },
  {
    "text": "teams automatically",
    "start": "384560",
    "end": "387280"
  },
  {
    "text": "and that's still true now so our",
    "start": "387280",
    "end": "388720"
  },
  {
    "text": "onboarding system will give will stub",
    "start": "388720",
    "end": "391360"
  },
  {
    "text": "out the directories required",
    "start": "391360",
    "end": "395440"
  },
  {
    "text": "and teams can kind of just go from there",
    "start": "395440",
    "end": "397280"
  },
  {
    "text": "uh there's there there really it's",
    "start": "397280",
    "end": "399440"
  },
  {
    "text": "don't we don't have as i pointed out we",
    "start": "399440",
    "end": "401360"
  },
  {
    "text": "don't have a team that can just oh me",
    "start": "401360",
    "end": "402960"
  },
  {
    "text": "you know me with a new service every",
    "start": "402960",
    "end": "404240"
  },
  {
    "text": "time there's a new service right and",
    "start": "404240",
    "end": "405840"
  },
  {
    "text": "figure out what they need",
    "start": "405840",
    "end": "407600"
  },
  {
    "text": "unless they need something new and",
    "start": "407600",
    "end": "408800"
  },
  {
    "text": "different that we don't we don't support",
    "start": "408800",
    "end": "412720"
  },
  {
    "start": "413000",
    "end": "518000"
  },
  {
    "text": "one really key thing and a real",
    "start": "415039",
    "end": "417440"
  },
  {
    "text": "improvement over our previous systems",
    "start": "417440",
    "end": "419039"
  },
  {
    "text": "was",
    "start": "419039",
    "end": "419440"
  },
  {
    "text": "this whole idea of segmentation of",
    "start": "419440",
    "end": "420880"
  },
  {
    "text": "responsibilities we allow teams to do",
    "start": "420880",
    "end": "423280"
  },
  {
    "text": "a lot within their repository",
    "start": "423280",
    "end": "427440"
  },
  {
    "text": "generating service instances generating",
    "start": "427440",
    "end": "430080"
  },
  {
    "text": "operator",
    "start": "430080",
    "end": "432080"
  },
  {
    "text": "instances so that allow them to",
    "start": "432080",
    "end": "435680"
  },
  {
    "text": "create mysql databases or",
    "start": "435680",
    "end": "438960"
  },
  {
    "text": "dynamodb or various azure",
    "start": "438960",
    "end": "442479"
  },
  {
    "text": "backing stores things like that",
    "start": "442479",
    "end": "445919"
  },
  {
    "text": "and we let them that's all their their",
    "start": "446080",
    "end": "447919"
  },
  {
    "text": "responsibility and they",
    "start": "447919",
    "end": "449199"
  },
  {
    "text": "and this tool allows them to do it you",
    "start": "449199",
    "end": "450800"
  },
  {
    "text": "know through through kubernetes objects",
    "start": "450800",
    "end": "454240"
  },
  {
    "text": "we'll touch on a little bit because that",
    "start": "454240",
    "end": "455680"
  },
  {
    "text": "that does cause some problems but",
    "start": "455680",
    "end": "457599"
  },
  {
    "text": "and we certainly don't allow them to do",
    "start": "457599",
    "end": "458960"
  },
  {
    "text": "whatever they want but but",
    "start": "458960",
    "end": "461120"
  },
  {
    "text": "certainly a lot more freedom than they",
    "start": "461120",
    "end": "462160"
  },
  {
    "text": "had before there's no other they don't",
    "start": "462160",
    "end": "463599"
  },
  {
    "text": "have to",
    "start": "463599",
    "end": "464400"
  },
  {
    "text": "learn some other system of you know",
    "start": "464400",
    "end": "466479"
  },
  {
    "text": "cloud formation templates or",
    "start": "466479",
    "end": "468960"
  },
  {
    "text": "some internal system we have that",
    "start": "468960",
    "end": "470319"
  },
  {
    "text": "generates infrastructure code that kind",
    "start": "470319",
    "end": "472560"
  },
  {
    "text": "of thing it's all",
    "start": "472560",
    "end": "473919"
  },
  {
    "text": "completely in their control",
    "start": "473919",
    "end": "478879"
  },
  {
    "text": "and also you know sometimes a previous",
    "start": "478879",
    "end": "482000"
  },
  {
    "text": "system we had",
    "start": "482000",
    "end": "482960"
  },
  {
    "text": "you'd have to go to some other service",
    "start": "482960",
    "end": "486080"
  },
  {
    "text": "if you wanted to make a certain kind of",
    "start": "486080",
    "end": "487360"
  },
  {
    "text": "change to your service so",
    "start": "487360",
    "end": "488560"
  },
  {
    "text": "another internal web ui and you'd have",
    "start": "488560",
    "end": "491599"
  },
  {
    "text": "to click",
    "start": "491599",
    "end": "492000"
  },
  {
    "text": "through it and you know it would take",
    "start": "492000",
    "end": "493440"
  },
  {
    "text": "some time and",
    "start": "493440",
    "end": "495360"
  },
  {
    "text": "so this this uh that was another thing",
    "start": "495360",
    "end": "498319"
  },
  {
    "text": "we really wanted to get rid of was",
    "start": "498319",
    "end": "500160"
  },
  {
    "text": "was anything like that right it's just",
    "start": "500160",
    "end": "502319"
  },
  {
    "text": "there's a single deployment system as i",
    "start": "502319",
    "end": "503840"
  },
  {
    "text": "showed",
    "start": "503840",
    "end": "504240"
  },
  {
    "text": "a few slides before you can make any",
    "start": "504240",
    "end": "506240"
  },
  {
    "text": "change to your service using that system",
    "start": "506240",
    "end": "508319"
  },
  {
    "text": "and and for change management that",
    "start": "508319",
    "end": "510720"
  },
  {
    "text": "system we",
    "start": "510720",
    "end": "511840"
  },
  {
    "text": "we rely on that system to to verify that",
    "start": "511840",
    "end": "514560"
  },
  {
    "text": "you know the appropriate approvals have",
    "start": "514560",
    "end": "516000"
  },
  {
    "text": "been made and reviews and things like",
    "start": "516000",
    "end": "517279"
  },
  {
    "text": "that",
    "start": "517279",
    "end": "519440"
  },
  {
    "start": "518000",
    "end": "643000"
  },
  {
    "text": "there's a concept this is a little bit",
    "start": "519839",
    "end": "521760"
  },
  {
    "text": "of a stretch but there's this concept of",
    "start": "521760",
    "end": "523120"
  },
  {
    "text": "hermetic",
    "start": "523120",
    "end": "524720"
  },
  {
    "text": "builds from the sre manual",
    "start": "524720",
    "end": "527839"
  },
  {
    "text": "that that i think hopefully most of you",
    "start": "527839",
    "end": "531200"
  },
  {
    "text": "have already",
    "start": "531200",
    "end": "532240"
  },
  {
    "text": "already built that way which is you know",
    "start": "532240",
    "end": "533760"
  },
  {
    "text": "no to build dependencies on",
    "start": "533760",
    "end": "536240"
  },
  {
    "text": "the uh on the build system right so",
    "start": "536240",
    "end": "539440"
  },
  {
    "text": "easiest way to do that is to build in",
    "start": "539440",
    "end": "541120"
  },
  {
    "text": "docker",
    "start": "541120",
    "end": "543600"
  },
  {
    "text": "and but i kind of if you kind of can",
    "start": "544480",
    "end": "546800"
  },
  {
    "text": "stretch stretch that a little bit to",
    "start": "546800",
    "end": "548480"
  },
  {
    "text": "deployments",
    "start": "548480",
    "end": "549200"
  },
  {
    "text": "right you don't want a service",
    "start": "549200",
    "end": "553360"
  },
  {
    "text": "to roll back and have that",
    "start": "553360",
    "end": "556880"
  },
  {
    "text": "help have that rollback",
    "start": "556880",
    "end": "560000"
  },
  {
    "text": "behave differently that that roll back",
    "start": "560000",
    "end": "562399"
  },
  {
    "text": "once you roll back a service you don't",
    "start": "562399",
    "end": "563600"
  },
  {
    "text": "want it to now behave differently than",
    "start": "563600",
    "end": "564800"
  },
  {
    "text": "it were",
    "start": "564800",
    "end": "565279"
  },
  {
    "text": "where it was when it was at that",
    "start": "565279",
    "end": "566880"
  },
  {
    "text": "previous",
    "start": "566880",
    "end": "568480"
  },
  {
    "text": "version so so we really want to tie",
    "start": "568480",
    "end": "572320"
  },
  {
    "text": "the secrets and the environment",
    "start": "572320",
    "end": "575279"
  },
  {
    "text": "variables",
    "start": "575279",
    "end": "576160"
  },
  {
    "text": "of a specific git sha for the service",
    "start": "576160",
    "end": "580399"
  },
  {
    "text": "to to to that deployment",
    "start": "580399",
    "end": "584080"
  },
  {
    "text": "in kubernetes so every deployment is",
    "start": "584080",
    "end": "587839"
  },
  {
    "text": "that our that our client deploys",
    "start": "587839",
    "end": "592560"
  },
  {
    "text": "has the shaw labeled and and it ended we",
    "start": "593040",
    "end": "596000"
  },
  {
    "text": "have we",
    "start": "596000",
    "end": "596720"
  },
  {
    "text": "inject into it config map and",
    "start": "596720",
    "end": "599920"
  },
  {
    "text": "secrets kubernetes secret",
    "start": "599920",
    "end": "602959"
  },
  {
    "text": "with that shaw so if we ever roll back",
    "start": "602959",
    "end": "605519"
  },
  {
    "text": "even if",
    "start": "605519",
    "end": "606720"
  },
  {
    "text": "you know our uh that secret was changed",
    "start": "606720",
    "end": "609279"
  },
  {
    "text": "somewhere in in hashicorp vault",
    "start": "609279",
    "end": "613440"
  },
  {
    "text": "we're still getting those those secrets",
    "start": "613440",
    "end": "616000"
  },
  {
    "text": "and we keep up to five so you can't roll",
    "start": "616000",
    "end": "618160"
  },
  {
    "text": "you know if you roll back more than",
    "start": "618160",
    "end": "620480"
  },
  {
    "text": "five previous deployments then i guess",
    "start": "620480",
    "end": "623760"
  },
  {
    "text": "you could you could potentially get",
    "start": "623760",
    "end": "625680"
  },
  {
    "text": "a secret change but we really just we",
    "start": "625680",
    "end": "628160"
  },
  {
    "text": "want to have that",
    "start": "628160",
    "end": "629040"
  },
  {
    "text": "if you ever roll back you know that",
    "start": "629040",
    "end": "630560"
  },
  {
    "text": "you're going to a safe place",
    "start": "630560",
    "end": "633839"
  },
  {
    "text": "and then one last thing is we",
    "start": "635519",
    "end": "638640"
  },
  {
    "text": "you know i might have kind of inferred",
    "start": "638640",
    "end": "641120"
  },
  {
    "text": "this but we deploy to multiple cloud",
    "start": "641120",
    "end": "642720"
  },
  {
    "text": "providers and",
    "start": "642720",
    "end": "644320"
  },
  {
    "start": "643000",
    "end": "717000"
  },
  {
    "text": "and some applications actually deployed",
    "start": "644320",
    "end": "646240"
  },
  {
    "text": "to data centers",
    "start": "646240",
    "end": "647920"
  },
  {
    "text": "and we wanted to abstract that away from",
    "start": "647920",
    "end": "649680"
  },
  {
    "text": "from the service team we didn't want",
    "start": "649680",
    "end": "651680"
  },
  {
    "text": "the service team to say oh i need",
    "start": "651680",
    "end": "655279"
  },
  {
    "text": "you know a different domain name because",
    "start": "655279",
    "end": "657120"
  },
  {
    "text": "i'm in this or this is hipaa compliant",
    "start": "657120",
    "end": "659680"
  },
  {
    "text": "or oh it's fedramp so i have to",
    "start": "659680",
    "end": "662880"
  },
  {
    "text": "you know to make sure my kubernetes",
    "start": "662880",
    "end": "664320"
  },
  {
    "text": "configuration is a little different so",
    "start": "664320",
    "end": "666240"
  },
  {
    "text": "the idea was we're going to have a the",
    "start": "666240",
    "end": "668000"
  },
  {
    "text": "configuration live in each",
    "start": "668000",
    "end": "669920"
  },
  {
    "text": "kubernetes cluster and actually in an",
    "start": "669920",
    "end": "672079"
  },
  {
    "text": "it's a different name space",
    "start": "672079",
    "end": "673200"
  },
  {
    "text": "configuration",
    "start": "673200",
    "end": "674640"
  },
  {
    "text": "and we'll have the client as it",
    "start": "674640",
    "end": "677920"
  },
  {
    "text": "deploys read that read that information",
    "start": "677920",
    "end": "681360"
  },
  {
    "text": "and modify the objects as required",
    "start": "681360",
    "end": "684160"
  },
  {
    "text": "it sounds actually kind of complicated",
    "start": "684160",
    "end": "685760"
  },
  {
    "text": "i'm sure we could have gone crazy with",
    "start": "685760",
    "end": "687279"
  },
  {
    "text": "it it's actually not that hard",
    "start": "687279",
    "end": "689360"
  },
  {
    "text": "for the most part it's really just the",
    "start": "689360",
    "end": "690880"
  },
  {
    "text": "docker registry",
    "start": "690880",
    "end": "693920"
  },
  {
    "text": "whether it's us whether the cluster has",
    "start": "694079",
    "end": "695519"
  },
  {
    "text": "istio or contour",
    "start": "695519",
    "end": "698079"
  },
  {
    "text": "and and also domain names",
    "start": "698079",
    "end": "701279"
  },
  {
    "text": "but you know it works it'll i'm sure",
    "start": "701279",
    "end": "702880"
  },
  {
    "text": "it'll expand as we go",
    "start": "702880",
    "end": "704399"
  },
  {
    "text": "but it was it was it's kind of a nice",
    "start": "704399",
    "end": "707760"
  },
  {
    "text": "idea to just have",
    "start": "707760",
    "end": "709120"
  },
  {
    "text": "all that configuration the common",
    "start": "709120",
    "end": "710560"
  },
  {
    "text": "configuration for all the applications",
    "start": "710560",
    "end": "711920"
  },
  {
    "text": "just live",
    "start": "711920",
    "end": "712880"
  },
  {
    "text": "in the in the name space uh saves us a",
    "start": "712880",
    "end": "716000"
  },
  {
    "text": "lot of effort",
    "start": "716000",
    "end": "718560"
  },
  {
    "start": "717000",
    "end": "762000"
  },
  {
    "text": "okay so moving on to how the",
    "start": "718800",
    "end": "722959"
  },
  {
    "text": "port of kubernetes works we take the",
    "start": "722959",
    "end": "725760"
  },
  {
    "text": "shaw",
    "start": "725760",
    "end": "726480"
  },
  {
    "text": "we clone the service repository",
    "start": "726480",
    "end": "729680"
  },
  {
    "text": "and and we kind of go from there we read",
    "start": "729680",
    "end": "732480"
  },
  {
    "text": "in a bunch of environment",
    "start": "732480",
    "end": "734720"
  },
  {
    "text": "variables and secret references",
    "start": "734720",
    "end": "737920"
  },
  {
    "text": "i'll just i'll show you what those look",
    "start": "737920",
    "end": "739120"
  },
  {
    "text": "like in a second then we",
    "start": "739120",
    "end": "742639"
  },
  {
    "text": "read the cluster configuration from the",
    "start": "743279",
    "end": "745040"
  },
  {
    "text": "cluster itself",
    "start": "745040",
    "end": "746560"
  },
  {
    "text": "and then we compare to what we have for",
    "start": "746560",
    "end": "749680"
  },
  {
    "text": "up for an update and we update",
    "start": "749680",
    "end": "751360"
  },
  {
    "text": "the",
    "start": "751360",
    "end": "753519"
  },
  {
    "text": "update the kubernetes objects as",
    "start": "754480",
    "end": "756839"
  },
  {
    "text": "required",
    "start": "756839",
    "end": "758000"
  },
  {
    "text": "so i'll just show you quickly because i",
    "start": "758000",
    "end": "760399"
  },
  {
    "text": "couldn't get it into a slide",
    "start": "760399",
    "end": "762880"
  },
  {
    "start": "762000",
    "end": "812000"
  },
  {
    "text": "what what these",
    "start": "762880",
    "end": "766079"
  },
  {
    "text": "what these configuration files look like",
    "start": "766079",
    "end": "770000"
  },
  {
    "text": "so it's a it's a nested directory",
    "start": "770000",
    "end": "771920"
  },
  {
    "text": "structure",
    "start": "771920",
    "end": "773519"
  },
  {
    "text": "we have a file",
    "start": "773519",
    "end": "777279"
  },
  {
    "text": "we try to keep it really dry so these",
    "start": "777279",
    "end": "779040"
  },
  {
    "text": "these files will reference each other",
    "start": "779040",
    "end": "782480"
  },
  {
    "text": "uh we need at least one for every",
    "start": "782800",
    "end": "785920"
  },
  {
    "text": "environment for every",
    "start": "785920",
    "end": "787120"
  },
  {
    "text": "for every region and uh and as i said",
    "start": "787120",
    "end": "790000"
  },
  {
    "text": "they can they can reference each other",
    "start": "790000",
    "end": "791360"
  },
  {
    "text": "so",
    "start": "791360",
    "end": "792560"
  },
  {
    "text": "you know well there's one that's common",
    "start": "792560",
    "end": "794000"
  },
  {
    "text": "for all aws there's one that's common",
    "start": "794000",
    "end": "795920"
  },
  {
    "text": "for all azure",
    "start": "795920",
    "end": "798720"
  },
  {
    "text": "uh you know it's just all about it's all",
    "start": "799040",
    "end": "800800"
  },
  {
    "text": "about scalability that's that's the name",
    "start": "800800",
    "end": "802720"
  },
  {
    "text": "of the game",
    "start": "802720",
    "end": "803440"
  },
  {
    "text": "so there's a lot uh",
    "start": "803440",
    "end": "806800"
  },
  {
    "text": "so it looks a little intimidating it's a",
    "start": "806800",
    "end": "808320"
  },
  {
    "text": "lot of files but it it's it's fairly",
    "start": "808320",
    "end": "812240"
  },
  {
    "start": "812000",
    "end": "893000"
  },
  {
    "text": "straightforward",
    "start": "812839",
    "end": "815839"
  },
  {
    "text": "so in in those in those files we have",
    "start": "816000",
    "end": "819279"
  },
  {
    "text": "four different environment types",
    "start": "819279",
    "end": "822800"
  },
  {
    "text": "so in configuration environment entries",
    "start": "823120",
    "end": "826240"
  },
  {
    "text": "the first is is most straightforward an",
    "start": "826240",
    "end": "828320"
  },
  {
    "text": "environment variable",
    "start": "828320",
    "end": "829360"
  },
  {
    "text": "and the and the value we also have",
    "start": "829360",
    "end": "833440"
  },
  {
    "text": "as i mentioned many times now uh secret",
    "start": "833440",
    "end": "835440"
  },
  {
    "text": "references so vault",
    "start": "835440",
    "end": "836639"
  },
  {
    "text": "paths uh we also have the ability to",
    "start": "836639",
    "end": "841120"
  },
  {
    "text": "override cluster settings so say",
    "start": "841120",
    "end": "844160"
  },
  {
    "text": "you had a different certificate and you",
    "start": "844160",
    "end": "846880"
  },
  {
    "text": "needed a different",
    "start": "846880",
    "end": "847600"
  },
  {
    "text": "domain name for tls cert right for",
    "start": "847600",
    "end": "851600"
  },
  {
    "text": "or if you know you didn't want to",
    "start": "851600",
    "end": "857440"
  },
  {
    "text": "uh you didn't want to use the same",
    "start": "857440",
    "end": "858720"
  },
  {
    "text": "gateway for istio gateway",
    "start": "858720",
    "end": "860720"
  },
  {
    "text": "or contouring grass that kind of thing",
    "start": "860720",
    "end": "862480"
  },
  {
    "text": "as the other services in your namespace",
    "start": "862480",
    "end": "866639"
  },
  {
    "text": "and you know it's it's always it's a",
    "start": "868480",
    "end": "870079"
  },
  {
    "text": "constant fight",
    "start": "870079",
    "end": "872160"
  },
  {
    "text": "we're always always getting requests for",
    "start": "872160",
    "end": "873920"
  },
  {
    "text": "more features we'll probably have to",
    "start": "873920",
    "end": "875760"
  },
  {
    "text": "expand it a little bit either",
    "start": "875760",
    "end": "877519"
  },
  {
    "text": "some kind of annotations",
    "start": "877519",
    "end": "880800"
  },
  {
    "text": "structure or something like that because",
    "start": "880800",
    "end": "883120"
  },
  {
    "text": "it it gets very complicated",
    "start": "883120",
    "end": "885680"
  },
  {
    "text": "with multiple ingress controllers things",
    "start": "885680",
    "end": "887839"
  },
  {
    "text": "like that",
    "start": "887839",
    "end": "890160"
  },
  {
    "text": "so this uh i wanted to kind of show this",
    "start": "891760",
    "end": "895519"
  },
  {
    "start": "893000",
    "end": "993000"
  },
  {
    "text": "this is i guess the first code it's it's",
    "start": "895519",
    "end": "897760"
  },
  {
    "text": "i was surprised how difficult it is to",
    "start": "897760",
    "end": "899440"
  },
  {
    "text": "show code",
    "start": "899440",
    "end": "900160"
  },
  {
    "text": "in a presentation i just want to credit",
    "start": "900160",
    "end": "902480"
  },
  {
    "text": "katherine cox boude",
    "start": "902480",
    "end": "904240"
  },
  {
    "text": "i read her book concurrency and go when",
    "start": "904240",
    "end": "906000"
  },
  {
    "text": "i got started she had this concept of",
    "start": "906000",
    "end": "908160"
  },
  {
    "text": "pipelines that she talked about that i",
    "start": "908160",
    "end": "910480"
  },
  {
    "text": "had never",
    "start": "910480",
    "end": "911440"
  },
  {
    "text": "seen in another language maybe all of",
    "start": "911440",
    "end": "913760"
  },
  {
    "text": "you are really familiar with it but",
    "start": "913760",
    "end": "915600"
  },
  {
    "text": "but basically you're just passing a",
    "start": "915600",
    "end": "917120"
  },
  {
    "text": "channel here",
    "start": "917120",
    "end": "918959"
  },
  {
    "text": "from in a nested kind of function",
    "start": "918959",
    "end": "920800"
  },
  {
    "text": "structure and",
    "start": "920800",
    "end": "922160"
  },
  {
    "text": "it's really efficient and clever way to",
    "start": "922160",
    "end": "925920"
  },
  {
    "text": "to",
    "start": "925920",
    "end": "926800"
  },
  {
    "text": "it's not it's it's it is you know",
    "start": "926800",
    "end": "929199"
  },
  {
    "text": "parallel computing but it's it's not uh",
    "start": "929199",
    "end": "931040"
  },
  {
    "text": "it's not you know obvious",
    "start": "931040",
    "end": "932399"
  },
  {
    "text": "embarrassingly parallel but you're",
    "start": "932399",
    "end": "934480"
  },
  {
    "text": "passing through each region",
    "start": "934480",
    "end": "936959"
  },
  {
    "text": "individually in a in a kind of a in a",
    "start": "936959",
    "end": "940399"
  },
  {
    "text": "elegant way",
    "start": "940399",
    "end": "943040"
  },
  {
    "text": "but here we're just we're basically",
    "start": "943920",
    "end": "945279"
  },
  {
    "text": "creating a",
    "start": "945279",
    "end": "948000"
  },
  {
    "text": "a struct for each region that's going to",
    "start": "948000",
    "end": "951440"
  },
  {
    "text": "be deployed to",
    "start": "951440",
    "end": "952399"
  },
  {
    "text": "every each cluster each namespace that's",
    "start": "952399",
    "end": "954000"
  },
  {
    "text": "being going to be deployed to",
    "start": "954000",
    "end": "956079"
  },
  {
    "text": "for us it's typically along regions and",
    "start": "956079",
    "end": "958880"
  },
  {
    "text": "we",
    "start": "958880",
    "end": "961040"
  },
  {
    "text": "so what we're doing here is we're we're",
    "start": "961440",
    "end": "963199"
  },
  {
    "text": "getting that configuration",
    "start": "963199",
    "end": "964639"
  },
  {
    "text": "we're fetching the secrets we're copying",
    "start": "964639",
    "end": "966959"
  },
  {
    "text": "we're reading in the objects",
    "start": "966959",
    "end": "968399"
  },
  {
    "text": "we're copying the objects doing a deep",
    "start": "968399",
    "end": "970560"
  },
  {
    "text": "copy because we're going to modify them",
    "start": "970560",
    "end": "972639"
  },
  {
    "text": "that was a lesson learned right you",
    "start": "972639",
    "end": "974240"
  },
  {
    "text": "don't",
    "start": "974240",
    "end": "976000"
  },
  {
    "text": "you have a pointer to a struct if you",
    "start": "976000",
    "end": "977920"
  },
  {
    "text": "modify it for one region it's going to",
    "start": "977920",
    "end": "979360"
  },
  {
    "text": "modify it for all regions so",
    "start": "979360",
    "end": "980959"
  },
  {
    "text": "deep copy function uh method uh",
    "start": "980959",
    "end": "984160"
  },
  {
    "text": "actually and then and then we get this",
    "start": "984160",
    "end": "986800"
  },
  {
    "text": "this",
    "start": "986800",
    "end": "988320"
  },
  {
    "text": "this big struct that has all the",
    "start": "988320",
    "end": "989600"
  },
  {
    "text": "information we need to do our deployment",
    "start": "989600",
    "end": "993600"
  },
  {
    "start": "993000",
    "end": "1039000"
  },
  {
    "text": "the way we handle cube conf configs",
    "start": "994079",
    "end": "997199"
  },
  {
    "text": "is we have just we have a file that",
    "start": "997199",
    "end": "1000160"
  },
  {
    "text": "lists",
    "start": "1000160",
    "end": "1000959"
  },
  {
    "text": "that's common to all of our services and",
    "start": "1000959",
    "end": "1003199"
  },
  {
    "text": "it just lists out all of the",
    "start": "1003199",
    "end": "1006320"
  },
  {
    "text": "all of the cube configs in their",
    "start": "1006320",
    "end": "1008320"
  },
  {
    "text": "locations involved",
    "start": "1008320",
    "end": "1010000"
  },
  {
    "text": "we act we use aws iam",
    "start": "1010000",
    "end": "1013120"
  },
  {
    "text": "authentication for our eks clusters we",
    "start": "1013120",
    "end": "1015600"
  },
  {
    "text": "use",
    "start": "1015600",
    "end": "1017680"
  },
  {
    "text": "active directory authentication azure",
    "start": "1017680",
    "end": "1019920"
  },
  {
    "text": "active directory authentication for our",
    "start": "1019920",
    "end": "1021600"
  },
  {
    "text": "azure clusters",
    "start": "1021600",
    "end": "1022880"
  },
  {
    "text": "so it's not really they're not really",
    "start": "1022880",
    "end": "1024319"
  },
  {
    "text": "secrets but it's just a it's it's",
    "start": "1024319",
    "end": "1026000"
  },
  {
    "text": "it makes all the security people happy",
    "start": "1026000",
    "end": "1027438"
  },
  {
    "text": "right it's getting warm fuzzy feeling",
    "start": "1027439",
    "end": "1029120"
  },
  {
    "text": "all of our cube configs are uh involved",
    "start": "1029120",
    "end": "1032558"
  },
  {
    "text": "and and they get pulled down at deploy",
    "start": "1032559",
    "end": "1035280"
  },
  {
    "text": "time for every service deployment",
    "start": "1035280",
    "end": "1039839"
  },
  {
    "start": "1039000",
    "end": "1128000"
  },
  {
    "text": "the next thing i wanted to talk about is",
    "start": "1041439",
    "end": "1045438"
  },
  {
    "text": "structured client sets",
    "start": "1045439",
    "end": "1049039"
  },
  {
    "text": "versus dynamic so i really like",
    "start": "1049039",
    "end": "1052799"
  },
  {
    "text": "the the client sets i really like the",
    "start": "1052799",
    "end": "1054960"
  },
  {
    "text": "schemes",
    "start": "1054960",
    "end": "1056880"
  },
  {
    "text": "that you know you find those for all the",
    "start": "1056880",
    "end": "1058400"
  },
  {
    "text": "kubernetes objects recently",
    "start": "1058400",
    "end": "1060480"
  },
  {
    "text": "i think in the last year or so istio put",
    "start": "1060480",
    "end": "1062480"
  },
  {
    "text": "out their own",
    "start": "1062480",
    "end": "1063679"
  },
  {
    "text": "client library they call it we use the",
    "start": "1063679",
    "end": "1066880"
  },
  {
    "text": "service catalog",
    "start": "1066880",
    "end": "1067919"
  },
  {
    "text": "that has its own unfortunately that",
    "start": "1067919",
    "end": "1070640"
  },
  {
    "text": "newer stuff doesn't so the",
    "start": "1070640",
    "end": "1072720"
  },
  {
    "text": "azure sorry the azure",
    "start": "1072720",
    "end": "1076080"
  },
  {
    "text": "service operator and the aws",
    "start": "1076080",
    "end": "1079280"
  },
  {
    "text": "controller for kubernetes they",
    "start": "1079280",
    "end": "1082559"
  },
  {
    "text": "they don't provide these so we we have",
    "start": "1082559",
    "end": "1084160"
  },
  {
    "text": "to actually do dynamic",
    "start": "1084160",
    "end": "1085600"
  },
  {
    "text": "i'll talk about that in a little bit",
    "start": "1085600",
    "end": "1088960"
  },
  {
    "text": "it's kind of an upcoming challenge for",
    "start": "1088960",
    "end": "1090480"
  },
  {
    "text": "this",
    "start": "1090480",
    "end": "1092080"
  },
  {
    "text": "but but yeah we just use the universal",
    "start": "1092080",
    "end": "1095200"
  },
  {
    "text": "deserializer",
    "start": "1095200",
    "end": "1096480"
  },
  {
    "text": "just read in yaml it's really",
    "start": "1096480",
    "end": "1097919"
  },
  {
    "text": "straightforward really easy and then we",
    "start": "1097919",
    "end": "1099520"
  },
  {
    "text": "have",
    "start": "1099520",
    "end": "1100160"
  },
  {
    "text": "a you know struct with all the all of",
    "start": "1100160",
    "end": "1102320"
  },
  {
    "text": "the possible",
    "start": "1102320",
    "end": "1105120"
  },
  {
    "text": "kubernetes objects that we can apply",
    "start": "1105679",
    "end": "1109840"
  },
  {
    "text": "and you know there's only a finite",
    "start": "1110640",
    "end": "1112400"
  },
  {
    "text": "number right as opposed to when we get",
    "start": "1112400",
    "end": "1114400"
  },
  {
    "text": "into",
    "start": "1114400",
    "end": "1115520"
  },
  {
    "text": "custom operators it it really uh it",
    "start": "1115520",
    "end": "1118480"
  },
  {
    "text": "really expands",
    "start": "1118480",
    "end": "1121280"
  },
  {
    "text": "and we have to kind of find a new way to",
    "start": "1121600",
    "end": "1123600"
  },
  {
    "text": "do things but for right now this is what",
    "start": "1123600",
    "end": "1124960"
  },
  {
    "text": "works and this is what we do",
    "start": "1124960",
    "end": "1127840"
  },
  {
    "text": "the nice thing also about the schemes",
    "start": "1127919",
    "end": "1130799"
  },
  {
    "start": "1128000",
    "end": "1179000"
  },
  {
    "text": "and",
    "start": "1130799",
    "end": "1131600"
  },
  {
    "text": "and the type client sets is it's really",
    "start": "1131600",
    "end": "1134160"
  },
  {
    "text": "easy like",
    "start": "1134160",
    "end": "1134799"
  },
  {
    "text": "for instance we have to always make sure",
    "start": "1134799",
    "end": "1136559"
  },
  {
    "text": "that we",
    "start": "1136559",
    "end": "1139039"
  },
  {
    "text": "you know if if somebody for some reason",
    "start": "1139200",
    "end": "1141360"
  },
  {
    "text": "puts a number of replicas in their",
    "start": "1141360",
    "end": "1142880"
  },
  {
    "text": "deployment we",
    "start": "1142880",
    "end": "1143919"
  },
  {
    "text": "typically discourage people from doing",
    "start": "1143919",
    "end": "1145280"
  },
  {
    "text": "that because we want people to use",
    "start": "1145280",
    "end": "1146559"
  },
  {
    "text": "horizontal pod auto scalers",
    "start": "1146559",
    "end": "1150320"
  },
  {
    "text": "if they have a horizontal plot of the",
    "start": "1150320",
    "end": "1152160"
  },
  {
    "text": "scalar we we always we want to make sure",
    "start": "1152160",
    "end": "1154000"
  },
  {
    "text": "that when they deploy they don't reset",
    "start": "1154000",
    "end": "1155760"
  },
  {
    "text": "the number of replicas",
    "start": "1155760",
    "end": "1157280"
  },
  {
    "text": "so just you know something like this",
    "start": "1157280",
    "end": "1159280"
  },
  {
    "text": "really basic we just",
    "start": "1159280",
    "end": "1161520"
  },
  {
    "text": "we can we don't have to",
    "start": "1161520",
    "end": "1164720"
  },
  {
    "text": "transverse say a map of",
    "start": "1164720",
    "end": "1168160"
  },
  {
    "text": "of strings to interface right we just",
    "start": "1168160",
    "end": "1170720"
  },
  {
    "text": "spell out",
    "start": "1170720",
    "end": "1171360"
  },
  {
    "text": "the whole the path actually in so",
    "start": "1171360",
    "end": "1178640"
  },
  {
    "text": "sorry in this case it's actually just",
    "start": "1178640",
    "end": "1180160"
  },
  {
    "start": "1179000",
    "end": "1226000"
  },
  {
    "text": "making sure that the horizontal plug-in",
    "start": "1180160",
    "end": "1181840"
  },
  {
    "text": "scaler",
    "start": "1181840",
    "end": "1182480"
  },
  {
    "text": "references the deployment that is",
    "start": "1182480",
    "end": "1184400"
  },
  {
    "text": "actually being deployed",
    "start": "1184400",
    "end": "1186160"
  },
  {
    "text": "we don't want somebody to make it a",
    "start": "1186160",
    "end": "1189360"
  },
  {
    "text": "horizontal part of the scaler that",
    "start": "1189360",
    "end": "1191120"
  },
  {
    "text": "that modifies someone else's deployment",
    "start": "1191120",
    "end": "1194400"
  },
  {
    "text": "that you know that happens people copy",
    "start": "1194400",
    "end": "1196960"
  },
  {
    "text": "from one another",
    "start": "1196960",
    "end": "1197919"
  },
  {
    "text": "as much as we try to you know",
    "start": "1197919",
    "end": "1199360"
  },
  {
    "text": "automatically stub things out just it's",
    "start": "1199360",
    "end": "1201200"
  },
  {
    "text": "just a reality when you have",
    "start": "1201200",
    "end": "1202799"
  },
  {
    "text": "this many services right hundreds of",
    "start": "1202799",
    "end": "1205760"
  },
  {
    "text": "hundreds of engineers and",
    "start": "1205760",
    "end": "1207200"
  },
  {
    "text": "and you know over a hundred services so",
    "start": "1207200",
    "end": "1210400"
  },
  {
    "text": "and as we expand this actually out to",
    "start": "1210400",
    "end": "1212000"
  },
  {
    "text": "more people in dobie we're now we're",
    "start": "1212000",
    "end": "1213280"
  },
  {
    "text": "gonna talk about thousands and",
    "start": "1213280",
    "end": "1214799"
  },
  {
    "text": "you know thousands of engineers and",
    "start": "1214799",
    "end": "1216799"
  },
  {
    "text": "potentially thousands of services",
    "start": "1216799",
    "end": "1219280"
  },
  {
    "text": "so so yeah just these kind of little",
    "start": "1219280",
    "end": "1222080"
  },
  {
    "text": "little things",
    "start": "1222080",
    "end": "1222720"
  },
  {
    "text": "really easy to do with the type client",
    "start": "1222720",
    "end": "1224159"
  },
  {
    "text": "set",
    "start": "1224159",
    "end": "1226400"
  },
  {
    "start": "1226000",
    "end": "1356000"
  },
  {
    "text": "cluster settings so these are these are",
    "start": "1227520",
    "end": "1229600"
  },
  {
    "text": "when i i",
    "start": "1229600",
    "end": "1230559"
  },
  {
    "text": "talked before i mentioned that",
    "start": "1230559",
    "end": "1234320"
  },
  {
    "text": "there is a cluster-specific information",
    "start": "1234320",
    "end": "1236880"
  },
  {
    "text": "and it's",
    "start": "1236880",
    "end": "1237760"
  },
  {
    "text": "we've we've done a kind of a good job",
    "start": "1237760",
    "end": "1239440"
  },
  {
    "text": "limiting it because you could really go",
    "start": "1239440",
    "end": "1241520"
  },
  {
    "text": "crazy here",
    "start": "1241520",
    "end": "1243280"
  },
  {
    "text": "but these the the real you know the the",
    "start": "1243280",
    "end": "1245360"
  },
  {
    "text": "kind of the obvious thing so",
    "start": "1245360",
    "end": "1246960"
  },
  {
    "text": "registry we have registries in every",
    "start": "1246960",
    "end": "1249360"
  },
  {
    "text": "region",
    "start": "1249360",
    "end": "1250000"
  },
  {
    "text": "you know we don't want an outage say of",
    "start": "1250000",
    "end": "1252720"
  },
  {
    "text": "aws",
    "start": "1252720",
    "end": "1253679"
  },
  {
    "text": "in eu central one knocking out our azure",
    "start": "1253679",
    "end": "1257039"
  },
  {
    "text": "in you know singapore right so so",
    "start": "1257039",
    "end": "1260080"
  },
  {
    "text": "we we always want in our deployment",
    "start": "1260080",
    "end": "1262080"
  },
  {
    "text": "strategy we always have a",
    "start": "1262080",
    "end": "1263600"
  },
  {
    "text": "regional registry so",
    "start": "1263600",
    "end": "1266880"
  },
  {
    "text": "that has to change for deployment and we",
    "start": "1266880",
    "end": "1268559"
  },
  {
    "text": "don't want",
    "start": "1268559",
    "end": "1270080"
  },
  {
    "text": "the we we don't want that's not the end",
    "start": "1270080",
    "end": "1272400"
  },
  {
    "text": "application engineers problem right so",
    "start": "1272400",
    "end": "1274880"
  },
  {
    "text": "in their deployment.yaml they don't have",
    "start": "1274880",
    "end": "1276720"
  },
  {
    "text": "to they they kind of just they're just",
    "start": "1276720",
    "end": "1278320"
  },
  {
    "text": "kind of",
    "start": "1278320",
    "end": "1279120"
  },
  {
    "text": "whatever you know my registry and then",
    "start": "1279120",
    "end": "1282400"
  },
  {
    "text": "and then the name of their their docker",
    "start": "1282400",
    "end": "1284559"
  },
  {
    "text": "image for the",
    "start": "1284559",
    "end": "1285440"
  },
  {
    "text": "for so so that that just gets",
    "start": "1285440",
    "end": "1287440"
  },
  {
    "text": "overwritten it doesn't it doesn't that",
    "start": "1287440",
    "end": "1290240"
  },
  {
    "text": "you know portrait kubernetes can handle",
    "start": "1290240",
    "end": "1292880"
  },
  {
    "text": "that",
    "start": "1292880",
    "end": "1293919"
  },
  {
    "text": "whether the whether the cluster has",
    "start": "1293919",
    "end": "1296320"
  },
  {
    "text": "istio or not",
    "start": "1296320",
    "end": "1297520"
  },
  {
    "text": "the domain name of the services in that",
    "start": "1297520",
    "end": "1300000"
  },
  {
    "text": "namespace",
    "start": "1300000",
    "end": "1302240"
  },
  {
    "text": "the istio gateway if there's istio",
    "start": "1302240",
    "end": "1305679"
  },
  {
    "text": "so the a minimum number for the hpas",
    "start": "1305679",
    "end": "1310240"
  },
  {
    "text": "we typically you know if it's in",
    "start": "1310240",
    "end": "1313120"
  },
  {
    "text": "production you need",
    "start": "1313120",
    "end": "1314080"
  },
  {
    "text": "you need two some services need",
    "start": "1314080",
    "end": "1317200"
  },
  {
    "text": "you know a lot more than that but but we",
    "start": "1317200",
    "end": "1318799"
  },
  {
    "text": "always want at least some redundancy",
    "start": "1318799",
    "end": "1321280"
  },
  {
    "text": "sometimes three for some heavier used",
    "start": "1321280",
    "end": "1323520"
  },
  {
    "text": "clusters",
    "start": "1323520",
    "end": "1324640"
  },
  {
    "text": "and then what you know what is the cloud",
    "start": "1324640",
    "end": "1325919"
  },
  {
    "text": "is it azure is it aws",
    "start": "1325919",
    "end": "1327840"
  },
  {
    "text": "what is the cloud location this is",
    "start": "1327840",
    "end": "1329679"
  },
  {
    "text": "typically used for the service instances",
    "start": "1329679",
    "end": "1332960"
  },
  {
    "text": "you know is this a is this you know how",
    "start": "1332960",
    "end": "1335520"
  },
  {
    "text": "what does the",
    "start": "1335520",
    "end": "1337360"
  },
  {
    "text": "cloud provider call their region and",
    "start": "1337360",
    "end": "1339280"
  },
  {
    "text": "that that's useful for",
    "start": "1339280",
    "end": "1340720"
  },
  {
    "text": "um setting the location in say an azure",
    "start": "1340720",
    "end": "1342880"
  },
  {
    "text": "service instance",
    "start": "1342880",
    "end": "1343919"
  },
  {
    "text": "or an or the azure service operator",
    "start": "1343919",
    "end": "1347520"
  },
  {
    "text": "or or the aws equivalents",
    "start": "1347520",
    "end": "1351440"
  },
  {
    "start": "1356000",
    "end": "1438000"
  },
  {
    "text": "and then let's see update",
    "start": "1357120",
    "end": "1360159"
  },
  {
    "text": "so this is we we this is how the updates",
    "start": "1360159",
    "end": "1363679"
  },
  {
    "text": "happen",
    "start": "1363679",
    "end": "1366000"
  },
  {
    "text": "it's you know it's kind of if if you're",
    "start": "1366720",
    "end": "1369440"
  },
  {
    "text": "familiar with go this is kind of",
    "start": "1369440",
    "end": "1371280"
  },
  {
    "text": "probably not that interesting but if",
    "start": "1371280",
    "end": "1374159"
  },
  {
    "text": "you're not",
    "start": "1374159",
    "end": "1375679"
  },
  {
    "text": "this uh this is you know this is",
    "start": "1375679",
    "end": "1378080"
  },
  {
    "text": "basically how we do it",
    "start": "1378080",
    "end": "1378960"
  },
  {
    "text": "there's an update function defined for",
    "start": "1378960",
    "end": "1380320"
  },
  {
    "text": "every type of kubernetes object",
    "start": "1380320",
    "end": "1383679"
  },
  {
    "text": "because we have those those type client",
    "start": "1383679",
    "end": "1385679"
  },
  {
    "text": "sets",
    "start": "1385679",
    "end": "1387520"
  },
  {
    "text": "and basically just make a work make a",
    "start": "1387520",
    "end": "1390159"
  },
  {
    "text": "weight group",
    "start": "1390159",
    "end": "1391200"
  },
  {
    "text": "we run that function",
    "start": "1391200",
    "end": "1394320"
  },
  {
    "text": "and then once they're all done then we",
    "start": "1394880",
    "end": "1398880"
  },
  {
    "text": "then we we exit out of this this this",
    "start": "1398880",
    "end": "1400880"
  },
  {
    "text": "updater we this",
    "start": "1400880",
    "end": "1402400"
  },
  {
    "text": "updater returns the the the the channels",
    "start": "1402400",
    "end": "1406240"
  },
  {
    "text": "with the results and then it gets called",
    "start": "1406240",
    "end": "1408320"
  },
  {
    "text": "again in a for loop",
    "start": "1408320",
    "end": "1410000"
  },
  {
    "text": "for for the next update function",
    "start": "1410000",
    "end": "1413679"
  },
  {
    "text": "and and just iterates through",
    "start": "1414159",
    "end": "1417280"
  },
  {
    "text": "obviously the",
    "start": "1417280",
    "end": "1420640"
  },
  {
    "text": "the the fact that every namespace can be",
    "start": "1422000",
    "end": "1424480"
  },
  {
    "text": "updated simultaneously it's a you know",
    "start": "1424480",
    "end": "1426240"
  },
  {
    "text": "it's not it's an embarrassingly parallel",
    "start": "1426240",
    "end": "1429200"
  },
  {
    "text": "operation so there's nothing nothing too",
    "start": "1429200",
    "end": "1431279"
  },
  {
    "text": "clever there just uh just a fan",
    "start": "1431279",
    "end": "1432960"
  },
  {
    "text": "fan out fan in and",
    "start": "1432960",
    "end": "1436400"
  },
  {
    "text": "and check the results",
    "start": "1436400",
    "end": "1439520"
  },
  {
    "start": "1438000",
    "end": "1446000"
  },
  {
    "text": "okay so to wrap up i just want to go",
    "start": "1440799",
    "end": "1442960"
  },
  {
    "text": "over some of the things we're working on",
    "start": "1442960",
    "end": "1444240"
  },
  {
    "text": "now",
    "start": "1444240",
    "end": "1446159"
  },
  {
    "text": "the first is we have the",
    "start": "1446159",
    "end": "1450080"
  },
  {
    "text": "aws controller for kubernetes and the",
    "start": "1450080",
    "end": "1451840"
  },
  {
    "text": "azure service operator we're working on",
    "start": "1451840",
    "end": "1453440"
  },
  {
    "text": "supporting those",
    "start": "1453440",
    "end": "1454640"
  },
  {
    "text": "and they come with this whole mess of",
    "start": "1454640",
    "end": "1456840"
  },
  {
    "text": "crds it's going to be a common problem",
    "start": "1456840",
    "end": "1458960"
  },
  {
    "text": "if anybody wants to write their own",
    "start": "1458960",
    "end": "1460480"
  },
  {
    "text": "kubernetes client you're going to run",
    "start": "1460480",
    "end": "1461600"
  },
  {
    "text": "into this issue",
    "start": "1461600",
    "end": "1462400"
  },
  {
    "text": "unless you're very specific in what you",
    "start": "1462400",
    "end": "1463840"
  },
  {
    "text": "want to do if you want to just support",
    "start": "1463840",
    "end": "1466240"
  },
  {
    "text": "you know hundreds of engineers you're",
    "start": "1466240",
    "end": "1467840"
  },
  {
    "text": "going to you're going to need to you're",
    "start": "1467840",
    "end": "1468960"
  },
  {
    "text": "going to run into this problem where",
    "start": "1468960",
    "end": "1470559"
  },
  {
    "text": "there's just too many crds and",
    "start": "1470559",
    "end": "1472799"
  },
  {
    "text": "unfortunately",
    "start": "1472799",
    "end": "1473919"
  },
  {
    "text": "the ack and the aso they don't come with",
    "start": "1473919",
    "end": "1475679"
  },
  {
    "text": "client sets or schemes",
    "start": "1475679",
    "end": "1477120"
  },
  {
    "text": "so you can either generate them yourself",
    "start": "1477120",
    "end": "1479440"
  },
  {
    "text": "which",
    "start": "1479440",
    "end": "1480240"
  },
  {
    "text": "sounds like not a lot of fun or you can",
    "start": "1480240",
    "end": "1482480"
  },
  {
    "text": "use the dynamic client",
    "start": "1482480",
    "end": "1484400"
  },
  {
    "text": "as i mentioned previously the dynamic",
    "start": "1484400",
    "end": "1485919"
  },
  {
    "text": "client has a few drawbacks because",
    "start": "1485919",
    "end": "1488240"
  },
  {
    "text": "you don't have an actual struct that you",
    "start": "1488240",
    "end": "1490000"
  },
  {
    "text": "can really pin down and grab something",
    "start": "1490000",
    "end": "1491919"
  },
  {
    "text": "and compare it to something else",
    "start": "1491919",
    "end": "1493600"
  },
  {
    "text": "right it's it's a it's a map of a string",
    "start": "1493600",
    "end": "1495760"
  },
  {
    "text": "to an interface right",
    "start": "1495760",
    "end": "1498799"
  },
  {
    "text": "but you know going to try to work",
    "start": "1498799",
    "end": "1500320"
  },
  {
    "text": "through that and",
    "start": "1500320",
    "end": "1502880"
  },
  {
    "text": "and see what we can do i mean right now",
    "start": "1502880",
    "end": "1505039"
  },
  {
    "text": "we're just reading it into",
    "start": "1505039",
    "end": "1506320"
  },
  {
    "text": "an instruction unstructured type like",
    "start": "1506320",
    "end": "1507919"
  },
  {
    "text": "kubernetes api on structure type",
    "start": "1507919",
    "end": "1510159"
  },
  {
    "text": "and and then using the kubernetes go",
    "start": "1510159",
    "end": "1513039"
  },
  {
    "text": "client",
    "start": "1513039",
    "end": "1513600"
  },
  {
    "text": "to apply that we'll see we're not quite",
    "start": "1513600",
    "end": "1516640"
  },
  {
    "text": "done so i don't really want to show it",
    "start": "1516640",
    "end": "1517840"
  },
  {
    "text": "in action especially if it turns out to",
    "start": "1517840",
    "end": "1519760"
  },
  {
    "text": "to not work at all and then",
    "start": "1519760",
    "end": "1523679"
  },
  {
    "text": "the other thing is that we have this",
    "start": "1523679",
    "end": "1525039"
  },
  {
    "text": "situation where teams don't want to",
    "start": "1525039",
    "end": "1527200"
  },
  {
    "text": "deploy every object",
    "start": "1527200",
    "end": "1528400"
  },
  {
    "text": "to every namespace or they want to have",
    "start": "1528400",
    "end": "1532000"
  },
  {
    "text": "a certain type of ingress that they're",
    "start": "1532000",
    "end": "1534080"
  },
  {
    "text": "used for that they use",
    "start": "1534080",
    "end": "1536080"
  },
  {
    "text": "instead of you know instead of just",
    "start": "1536080",
    "end": "1539520"
  },
  {
    "text": "every every pot you know ingress that's",
    "start": "1539520",
    "end": "1542720"
  },
  {
    "text": "available",
    "start": "1542720",
    "end": "1543520"
  },
  {
    "text": "so it's kind of how how teams can",
    "start": "1543520",
    "end": "1545279"
  },
  {
    "text": "fine-tune things",
    "start": "1545279",
    "end": "1546559"
  },
  {
    "text": "and as i mentioned before we have the",
    "start": "1546559",
    "end": "1547919"
  },
  {
    "text": "ability to override the the produce to",
    "start": "1547919",
    "end": "1550000"
  },
  {
    "text": "kubernetes",
    "start": "1550000",
    "end": "1550960"
  },
  {
    "text": "um you know the region the the registry",
    "start": "1550960",
    "end": "1553360"
  },
  {
    "text": "those those those configurations",
    "start": "1553360",
    "end": "1555360"
  },
  {
    "text": "but but that's that that's kind of",
    "start": "1555360",
    "end": "1558480"
  },
  {
    "text": "a little bit too blunt of an instrument",
    "start": "1558480",
    "end": "1560880"
  },
  {
    "text": "so",
    "start": "1560880",
    "end": "1562400"
  },
  {
    "text": "so we're going to work on that probably",
    "start": "1562400",
    "end": "1563919"
  },
  {
    "text": "some type of annotation or label that",
    "start": "1563919",
    "end": "1565840"
  },
  {
    "text": "people put in their kubernetes",
    "start": "1565840",
    "end": "1568080"
  },
  {
    "text": "objects in their k-8s directory inside",
    "start": "1568080",
    "end": "1570880"
  },
  {
    "text": "their inside their",
    "start": "1570880",
    "end": "1572000"
  },
  {
    "text": "repository looks like that's what we",
    "start": "1572000",
    "end": "1574320"
  },
  {
    "text": "will do but",
    "start": "1574320",
    "end": "1575039"
  },
  {
    "text": "you know still haven't still haven't",
    "start": "1575039",
    "end": "1576400"
  },
  {
    "text": "decided yet",
    "start": "1576400",
    "end": "1579039"
  },
  {
    "start": "1578000",
    "end": "1631000"
  },
  {
    "text": "so i'd like to thank you all for coming",
    "start": "1579120",
    "end": "1580880"
  },
  {
    "text": "thank you for bearing with me at",
    "start": "1580880",
    "end": "1582400"
  },
  {
    "text": "the with the lighting which is super",
    "start": "1582400",
    "end": "1585200"
  },
  {
    "text": "inconsistent i don't have any good you",
    "start": "1585200",
    "end": "1586640"
  },
  {
    "text": "know lights",
    "start": "1586640",
    "end": "1587520"
  },
  {
    "text": "so i'm kind of using the sun and that's",
    "start": "1587520",
    "end": "1589600"
  },
  {
    "text": "kind of fickle",
    "start": "1589600",
    "end": "1591440"
  },
  {
    "text": "and then also if you",
    "start": "1591440",
    "end": "1594880"
  },
  {
    "text": "want to reach out uh ask me anything on",
    "start": "1594880",
    "end": "1598080"
  },
  {
    "text": "the kubernetes slack",
    "start": "1598080",
    "end": "1599360"
  },
  {
    "text": "i'm i'm there i don't use twitter i try",
    "start": "1599360",
    "end": "1602960"
  },
  {
    "text": "to maintain my sanity",
    "start": "1602960",
    "end": "1604640"
  },
  {
    "text": "but but please you know please",
    "start": "1604640",
    "end": "1608159"
  },
  {
    "text": "try it out you know the as i said this",
    "start": "1608159",
    "end": "1610799"
  },
  {
    "text": "is all on git",
    "start": "1610799",
    "end": "1612720"
  },
  {
    "text": "it's it's meant to be really a reference",
    "start": "1612720",
    "end": "1614960"
  },
  {
    "text": "for other people to use but you could",
    "start": "1614960",
    "end": "1616640"
  },
  {
    "text": "you know you could use it we use it here",
    "start": "1616640",
    "end": "1618240"
  },
  {
    "text": "at adobe",
    "start": "1618240",
    "end": "1620000"
  },
  {
    "text": "for for lots of services that that are",
    "start": "1620000",
    "end": "1622480"
  },
  {
    "text": "that are run every that",
    "start": "1622480",
    "end": "1623679"
  },
  {
    "text": "you know heavily used so please",
    "start": "1623679",
    "end": "1627120"
  },
  {
    "text": "please take a look thanks bye",
    "start": "1627120",
    "end": "1632960"
  }
]