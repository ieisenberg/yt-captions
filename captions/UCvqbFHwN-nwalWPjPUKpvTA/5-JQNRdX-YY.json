[
  {
    "text": "um you so ready to go yeah ready to go all",
    "start": "399",
    "end": "6359"
  },
  {
    "text": "right hi everyone my name is H I'm from Intel excited to be here and my name is",
    "start": "6359",
    "end": "12599"
  },
  {
    "text": "Quenton I'm from Red Hut and today we're going to talk about kmm which is indeed",
    "start": "12599",
    "end": "17720"
  },
  {
    "text": "your Swiss Army knif for Kel modules on on kubernetes um this is what we're",
    "start": "17720",
    "end": "22760"
  },
  {
    "text": "going to cover today um we'll start with an introduction about Kel modules what they are what purpose do they serve um",
    "start": "22760",
    "end": "30320"
  },
  {
    "text": "and also the pain points in using them in kubernetes environments then we'll",
    "start": "30320",
    "end": "35399"
  },
  {
    "text": "talk about the km operator what it is and how it solves those problems um then",
    "start": "35399",
    "end": "42399"
  },
  {
    "text": "up to you AR yeah so then we'll talk about a real world use case right",
    "start": "42399",
    "end": "47800"
  },
  {
    "text": "enabling Intel gpus within kubernetes and we'll follow that up by taking kmm on a test drive and we're going to run a",
    "start": "47800",
    "end": "54879"
  },
  {
    "text": "stable diffusion G de stable diffusion demo text to image with an k m m enabled",
    "start": "54879",
    "end": "60559"
  },
  {
    "text": "Intel GPU back to you um yeah so stay tuned for more explanations about that that",
    "start": "60559",
    "end": "67360"
  },
  {
    "text": "image here um then a few words about kmm 2.0 which will be uh uh coming later",
    "start": "67360",
    "end": "73119"
  },
  {
    "text": "this month uh and then finally uh some qna if we if we still have time um all",
    "start": "73119",
    "end": "78880"
  },
  {
    "text": "right so let's start with an introduction about Kel modules what they are and and why you you potentially need",
    "start": "78880",
    "end": "84079"
  },
  {
    "text": "them um a kernel module is C code really",
    "start": "84079",
    "end": "89119"
  },
  {
    "text": "that extends the functionality of the of the Linux kernel um so you you're likely",
    "start": "89119",
    "end": "94920"
  },
  {
    "text": "to you're going to need those functionalities for um anything that's a driver um so for example Hardware",
    "start": "94920",
    "end": "103680"
  },
  {
    "text": "drivers uh you know virtual file systems uh canel modules can also add cises uh",
    "start": "103680",
    "end": "108880"
  },
  {
    "text": "to your canel so so this is where you're going to encounter those modules uh the thing is the the canal modules are um",
    "start": "108880",
    "end": "116600"
  },
  {
    "text": "built for a specific Canal version the technically an Abi but um yeah you you",
    "start": "116600",
    "end": "122000"
  },
  {
    "text": "need to build them really against a specific set of headers for for one Canal version um in most distributions",
    "start": "122000",
    "end": "128679"
  },
  {
    "text": "today the can modules can be unloaded uh from the system so you will you will be able to load them and unload them that's",
    "start": "128679",
    "end": "134800"
  },
  {
    "text": "not always the case um and finally something important is that the um the",
    "start": "134800",
    "end": "141080"
  },
  {
    "text": "Canon modules need to be signed on secure boot enabled systems so in short if you've been using",
    "start": "141080",
    "end": "148000"
  },
  {
    "text": "any of these things uh so we have a we have a GPU here uh we have a ni we have",
    "start": "148000",
    "end": "153319"
  },
  {
    "text": "an accelerator uh we have five systems so if you've been using any of that then",
    "start": "153319",
    "end": "158800"
  },
  {
    "text": "you're likely to need uh Kel modules in your setup and so the problem is that using",
    "start": "158800",
    "end": "167319"
  },
  {
    "text": "kernel modules on on kubernetes setups has proven quite difficult over the years um you know all Canon modules",
    "start": "167319",
    "end": "175480"
  },
  {
    "text": "ideally should be contributed Upstream um but that that's very very often quite",
    "start": "175480",
    "end": "180640"
  },
  {
    "text": "difficult you know it's a long way uh to contribute that to contributing coding to the kernel uh it often takes you know",
    "start": "180640",
    "end": "187000"
  },
  {
    "text": "review times and everything so um so so usually people resort to using out of",
    "start": "187000",
    "end": "192799"
  },
  {
    "text": "three Canon modules U to to enable your latest Hardware to do ab testing these kind of",
    "start": "192799",
    "end": "199200"
  },
  {
    "text": "things um you will you will U very often require out of 3K modes and load them",
    "start": "199200",
    "end": "204480"
  },
  {
    "text": "into your system and another item is that the using Kel mod in production can be risky",
    "start": "204480",
    "end": "211959"
  },
  {
    "text": "right uh because you build them against a very specific Kel and for a specific ABI if there is for example a Kel",
    "start": "211959",
    "end": "218959"
  },
  {
    "text": "upgrade due to a cve uh we might have to change the symbols and if we do that then your Kel module will not load or",
    "start": "218959",
    "end": "225319"
  },
  {
    "text": "will not work properly so the the problem is yeah each time you have a Kel upgrade pretty much you have to rebuild",
    "start": "225319",
    "end": "231799"
  },
  {
    "text": "your your Kel modules and that that really leads us to",
    "start": "231799",
    "end": "237519"
  },
  {
    "text": "to the to the last bullet on that slide and how we deploy how do we deploy and load those canel modules on the Node so",
    "start": "237519",
    "end": "244879"
  },
  {
    "text": "we usually resort to node customization so uh in some cases you will build your",
    "start": "244879",
    "end": "249920"
  },
  {
    "text": "node image and you will have to do that each time you have a new K mode or canl version um or you may want to use",
    "start": "249920",
    "end": "257079"
  },
  {
    "text": "something like anible to deploy those K modes but that it is usually costly and",
    "start": "257079",
    "end": "262360"
  },
  {
    "text": "difficult to maintain so what if we had you know a",
    "start": "262360",
    "end": "268759"
  },
  {
    "text": "better uh more Cloud native way of handling things uh for kubernetes",
    "start": "268759",
    "end": "274880"
  },
  {
    "text": "setups um so what what we're trying to do with the Kel module management",
    "start": "274880",
    "end": "280000"
  },
  {
    "text": "operator which is which is a signal project is that we're trying to bring a standard consumption model for K modes",
    "start": "280000",
    "end": "287400"
  },
  {
    "text": "on kubernetes um kmm is is it is a signal",
    "start": "287400",
    "end": "292639"
  },
  {
    "text": "project that that can build your Canon modules and that will then that can also sign them uh if you're using secure boot",
    "start": "292639",
    "end": "300320"
  },
  {
    "text": "and that will ultimately load them uh on your on your nodes um km does that by monitoring all",
    "start": "300320",
    "end": "307160"
  },
  {
    "text": "the canel module version all the canel versions that you have running in your cluster and then it you know it it's",
    "start": "307160",
    "end": "314000"
  },
  {
    "text": "then able to load the right canel module versions on the right noes and that's the ultimate goal really um we also have",
    "start": "314000",
    "end": "321600"
  },
  {
    "text": "a feature that um allows you to run your your device plugin so whenever you have loaded your canel module and made you",
    "start": "321600",
    "end": "328720"
  },
  {
    "text": "know whatever Hardware where our file system available on your node then we will be able to run the device plugin as",
    "start": "328720",
    "end": "334800"
  },
  {
    "text": "well and yeah an essential piece um of all of that of the of kmm and of that",
    "start": "334800",
    "end": "342199"
  },
  {
    "text": "setup is the KMOD images so um to to deploy the Canon modules on the Node uh",
    "start": "342199",
    "end": "348319"
  },
  {
    "text": "we actually wrap them into a standard container image and a c image and we add",
    "start": "348319",
    "end": "353919"
  },
  {
    "text": "a couple more constraints so the Canon modules need to be in a specific location and contain the mod Pro binary",
    "start": "353919",
    "end": "361120"
  },
  {
    "text": "the the the the cool thing is that you can store uh you know uh K modes for",
    "start": "361120",
    "end": "366199"
  },
  {
    "text": "multiple candal versions into one into one image and then we will use one IM we will use that image um to actually load",
    "start": "366199",
    "end": "373280"
  },
  {
    "text": "the K modes uh on the right Noe um yeah that yeah that's it for the",
    "start": "373280",
    "end": "379520"
  },
  {
    "text": "C image really and then about yeah at the center of KM obviously is it crd the",
    "start": "379520",
    "end": "385800"
  },
  {
    "text": "module crd um the nice thing about it is that uh we do have a kernel mappings",
    "start": "385800",
    "end": "393039"
  },
  {
    "text": "list and so that's how we actually specify that with a certain kernel",
    "start": "393039",
    "end": "398560"
  },
  {
    "text": "version uh we map K mode image really kode image name and so that is how we uh",
    "start": "398560",
    "end": "405440"
  },
  {
    "text": "really specify that uh those K modes should be loaded on that note and I will show an example in in just a few",
    "start": "405440",
    "end": "412840"
  },
  {
    "text": "slides uh like I said because we have this can and mapping list um we can",
    "start": "412840",
    "end": "418160"
  },
  {
    "text": "actually accommodate many this at once so in only one CR you can uh uh you know",
    "start": "418160",
    "end": "423720"
  },
  {
    "text": "Express that um with AWS or Ubuntu or",
    "start": "423720",
    "end": "429000"
  },
  {
    "text": "red hat or whatever you know these true canels um you you should map those with",
    "start": "429000",
    "end": "434639"
  },
  {
    "text": "specific images and finally because you know I told you that kmm can build your canel",
    "start": "434639",
    "end": "440560"
  },
  {
    "text": "modules it can also use pre-built um images and so you can mix and match as",
    "start": "440560",
    "end": "446080"
  },
  {
    "text": "you please you can pre-build for some canels and and use prebuild for some others that that's totally",
    "start": "446080",
    "end": "454039"
  },
  {
    "text": "fine right and and this is I mean at a very high level this is how the the",
    "start": "454039",
    "end": "459960"
  },
  {
    "text": "reconciliation works for the operator so um at at the beginning uh you know we",
    "start": "459960",
    "end": "465240"
  },
  {
    "text": "have to determine that a certain noes needs a certain driver or a certain K mode because it's equipped with some",
    "start": "465240",
    "end": "471479"
  },
  {
    "text": "Hardware or it needs to have some file system available so that's that's on the very uh you know left of of that slide",
    "start": "471479",
    "end": "478039"
  },
  {
    "text": "so whenever kmm determines that a node needs a k mode and if we have builds configured in the crd uh then km is",
    "start": "478039",
    "end": "485560"
  },
  {
    "text": "going to check if the image exists if it does not exist we're going to create a pod to to build that image more on that",
    "start": "485560",
    "end": "492360"
  },
  {
    "text": "in a in a subsequent slide and once that image exists uh we are then going to",
    "start": "492360",
    "end": "497840"
  },
  {
    "text": "look at whether we need assigned image uh to be compatible for secure boot if",
    "start": "497840",
    "end": "503599"
  },
  {
    "text": "we do need such an image and it doesn't exist yet then we are going to create a PO to build that and finally you know we",
    "start": "503599",
    "end": "510520"
  },
  {
    "text": "have everything ready and um whenever we have that image prepared then what we're",
    "start": "510520",
    "end": "517159"
  },
  {
    "text": "going to do is we are going to create the actual pod on the Node uh that pod is going to copy any firmware file if we",
    "start": "517159",
    "end": "523399"
  },
  {
    "text": "need to and ultimately it's going to load the K mod um this is the the really the",
    "start": "523399",
    "end": "530519"
  },
  {
    "text": "simplest module we could come up with um still it shows the value of kmm right so",
    "start": "530519",
    "end": "535920"
  },
  {
    "text": "the important bit here would be the can mappings list that we have uh you can see here that uh we have one entry for",
    "start": "535920",
    "end": "542920"
  },
  {
    "text": "um Federal 37 kernel here and um the CD",
    "start": "542920",
    "end": "548200"
  },
  {
    "text": "says that yeah for that very Kel we are going to use a very specific image but",
    "start": "548200",
    "end": "553279"
  },
  {
    "text": "but because we we can configure either literals or regexs uh then you can see",
    "start": "553279",
    "end": "558680"
  },
  {
    "text": "that at the next uh entry in that list uh we address all the federa 37 canels",
    "start": "558680",
    "end": "564079"
  },
  {
    "text": "at once and um and yeah because we do variable substitution in the cont",
    "start": "564079",
    "end": "569160"
  },
  {
    "text": "container image field um then it makes really the CD very flexible finally at",
    "start": "569160",
    "end": "575000"
  },
  {
    "text": "the bottom is a selector here so you can you can you could deploy your K mode just on a subset of nodes uh as",
    "start": "575000",
    "end": "583519"
  },
  {
    "text": "needed right that's it for that slide um I think I'll go faster on those uh this",
    "start": "583680",
    "end": "589360"
  },
  {
    "text": "is an example on how you configure the builds uh in your module crd um so you would specify you you you would need to",
    "start": "589360",
    "end": "596760"
  },
  {
    "text": "provide the config map uh with the Docker file and we would use that you know as a recipe to build your K modes",
    "start": "596760",
    "end": "602720"
  },
  {
    "text": "for that version uh we are going to to inject the Kel version so that uh in",
    "start": "602720",
    "end": "607760"
  },
  {
    "text": "your config in in your Docker file you'll be able to fetch the right headers for the right K version and we will run all of that with",
    "start": "607760",
    "end": "615279"
  },
  {
    "text": "Keno so we will create a pod thats kico and that produce your produces your final Cod image uh we do support the",
    "start": "615279",
    "end": "622360"
  },
  {
    "text": "build arguments we do support Secrets um and and a couple of uh register related",
    "start": "622360",
    "end": "627880"
  },
  {
    "text": "uh settings uh this this is about signing really same story uh very similar you have to",
    "start": "627880",
    "end": "634399"
  },
  {
    "text": "you have to provide yourself obviously the the keys you have to provide the list of uh KO files that you want to",
    "start": "634399",
    "end": "640279"
  },
  {
    "text": "sign in your image and what we're going to do uh it's also powered by Keno we're going to download that image extract all",
    "start": "640279",
    "end": "647200"
  },
  {
    "text": "the KO files sign them and build a new image and and that that that's how we uh",
    "start": "647200",
    "end": "654000"
  },
  {
    "text": "make those those K modes available for secure boot uh that's it I I have uh here a",
    "start": "654000",
    "end": "660079"
  },
  {
    "text": "diagram that explains how it works so let's consider all those six notes Here we have a six note cluster um three of",
    "start": "660079",
    "end": "667040"
  },
  {
    "text": "those notes are running Kel 1 12 3 uh in pink color right here um two of of those",
    "start": "667040",
    "end": "672880"
  },
  {
    "text": "nodes are running Kel 456 um and note four here is running yet",
    "start": "672880",
    "end": "678600"
  },
  {
    "text": "another Kel that we will actually not configure uh in our canel mappings list",
    "start": "678600",
    "end": "683800"
  },
  {
    "text": "at the very top we do have uh you know kmm watching on the module uh and the",
    "start": "683800",
    "end": "689519"
  },
  {
    "text": "notes uh let's say we do not have a k mod image yet for kernel one 12 three so",
    "start": "689519",
    "end": "695440"
  },
  {
    "text": "we may have to build it uh so what we're going to do is we are going to read the docker file create the build pod you",
    "start": "695440",
    "end": "701800"
  },
  {
    "text": "know with the docker file mounted and that's how we are going to produce that K mode image containing all the KO files",
    "start": "701800",
    "end": "708240"
  },
  {
    "text": "um once we have everything nice and ready then we are going to create a demon set that's only going to Target",
    "start": "708240",
    "end": "715880"
  },
  {
    "text": "the the nodes with the first canel can one two three and that demon set in turn is going to create pods uh on each node",
    "start": "715880",
    "end": "723880"
  },
  {
    "text": "and those pods are going to to load the candle modules um so same story really with the",
    "start": "723880",
    "end": "729800"
  },
  {
    "text": "second chel that we have uh and finally or well you will note that on node four",
    "start": "729800",
    "end": "735240"
  },
  {
    "text": "we're not loading anything because because it's not configured in our crd in our CR uh and then once you know once",
    "start": "735240",
    "end": "741959"
  },
  {
    "text": "the kod is loaded on all the nodes that uh actually need it uh then we are going to run the device plugin and you know",
    "start": "741959",
    "end": "749320"
  },
  {
    "text": "kmm manages labels and annotations automatically so it can determine where it should be loading the it should be",
    "start": "749320",
    "end": "755959"
  },
  {
    "text": "running the device plugin so yeah in a nutshell that's that's really how it",
    "start": "755959",
    "end": "761040"
  },
  {
    "text": "works so yeah we have you know we have way more features uh we're actually",
    "start": "761040",
    "end": "766199"
  },
  {
    "text": "labeling the nodes whenever a node is loaded so that makes you know scheduling your applications using the K mode very",
    "start": "766199",
    "end": "773600"
  },
  {
    "text": "easily um we we we do copy uh binary frameware files from the image onto the",
    "start": "773600",
    "end": "780519"
  },
  {
    "text": "notes uh so that's really useful in for hardware and I mean we have many more",
    "start": "780519",
    "end": "785800"
  },
  {
    "text": "features I'm not going to go into details on on all of those I believe and about the use case h thank",
    "start": "785800",
    "end": "794120"
  },
  {
    "text": "you Quenton that was a great overview of all the features I'll give you a well-deserved break sorry I'll give you",
    "start": "794120",
    "end": "801040"
  },
  {
    "text": "a well-deserved quick break thank you yeah thank you so let's shift gears a bit let's talk about kind of a real",
    "start": "801040",
    "end": "807279"
  },
  {
    "text": "world use case right so you know taking kmm on a test drive right so just a little bit of background on this kind of",
    "start": "807279",
    "end": "813920"
  },
  {
    "text": "use case right so what kind of environment we're dealing with today where you know it's a fast changing",
    "start": "813920",
    "end": "819160"
  },
  {
    "text": "landscape that's Aid driven and you know what what's coming out of it is it's demanding the latest Hardware enabling",
    "start": "819160",
    "end": "825760"
  },
  {
    "text": "to run you know some of the most industry-leading workloads right and if you kind of step into that a bit um one",
    "start": "825760",
    "end": "833720"
  },
  {
    "text": "of the fundamental components that enable these devices are the kernel drivers",
    "start": "833720",
    "end": "839560"
  },
  {
    "text": "and so you know these latest drivers really need to be used to unlock the optimal workload",
    "start": "839560",
    "end": "846120"
  },
  {
    "text": "performance and then the other thing I want to talk about briefly is kind of the chicken and egg problem right so",
    "start": "846120",
    "end": "852720"
  },
  {
    "text": "there is always this delay between the hardware and the software being ready and in this scenario we're talking about",
    "start": "852720",
    "end": "859000"
  },
  {
    "text": "the drivers that are essentially out of tree um and so that essentially prevents",
    "start": "859000",
    "end": "864880"
  },
  {
    "text": "uh developers customers and partners to leverage the latest greatest Hardware in their",
    "start": "864880",
    "end": "870560"
  },
  {
    "text": "workloads the problem today is there's not really a facilitated approach that's",
    "start": "870560",
    "end": "876240"
  },
  {
    "text": "scalable right so this is why we're talking about kmm that's what it brings to the table a little bit about the",
    "start": "876240",
    "end": "883560"
  },
  {
    "text": "production environment right so one of the realities is um a lot of the latest",
    "start": "883560",
    "end": "888600"
  },
  {
    "text": "Hardware is not really truly enabled on day one there are actually some non-trivial uh operations that are quite",
    "start": "888600",
    "end": "896560"
  },
  {
    "text": "complex um this is usually man through configuration the second point being all",
    "start": "896560",
    "end": "902399"
  },
  {
    "text": "the complex node and kernel customization that's required to enable these kind of use cases and the",
    "start": "902399",
    "end": "908519"
  },
  {
    "text": "hardware so let's go to the next slide so this is delving into you know",
    "start": "908519",
    "end": "915680"
  },
  {
    "text": "why are we talking about it today right why solve it today right so um a lot of the Leading Edge xpu devices so from",
    "start": "915680",
    "end": "923519"
  },
  {
    "text": "that you know think of gpus um tpus ipus",
    "start": "923519",
    "end": "929560"
  },
  {
    "text": "Network networking products right all of these devices um a lot of them require enabling outof tree drivers to use them",
    "start": "929560",
    "end": "937040"
  },
  {
    "text": "right to consume them and a lot of these kernel drivers are unavailable in OS",
    "start": "937040",
    "end": "942360"
  },
  {
    "text": "distributions and there's a two-part story to that right one of the challenges is uh the initial journey to",
    "start": "942360",
    "end": "949360"
  },
  {
    "text": "Upstream of an out ofree driver and that Cadence is a relatively long period and",
    "start": "949360",
    "end": "955319"
  },
  {
    "text": "it's a sequential process so the second thing that follows it is is going into the downstream",
    "start": "955319",
    "end": "960800"
  },
  {
    "text": "distributions so the goal here is to really shift left and make sure that the hardware and software is ready on day",
    "start": "960800",
    "end": "967120"
  },
  {
    "text": "one so that you know everyone can consume all the latest and greatest features and technologies that are built",
    "start": "967120",
    "end": "973720"
  },
  {
    "text": "into the hardware and so the big impact the thing to leave with today is really you know kmm is really enabling and",
    "start": "973720",
    "end": "981160"
  },
  {
    "text": "accelerating the xpu enabling right and the time to Market and thereby it's",
    "start": "981160",
    "end": "986720"
  },
  {
    "text": "unlocking all the optimized work loads and use cases that and it's actually",
    "start": "986720",
    "end": "992199"
  },
  {
    "text": "facilitating use case uh use case driven development by allowing customers to really um shift left and use use these",
    "start": "992199",
    "end": "1000079"
  },
  {
    "text": "features in their workloads so another item to talk about",
    "start": "1000079",
    "end": "1007040"
  },
  {
    "text": "is um kmm and a driver CI pipeline so",
    "start": "1007040",
    "end": "1012079"
  },
  {
    "text": "actually kmm we have a project open source project recently that we've started uh to essentially leverage kmm",
    "start": "1012079",
    "end": "1019639"
  },
  {
    "text": "and and power a driver CI pipeline so what do I mean by a driver CI pipeline",
    "start": "1019639",
    "end": "1024918"
  },
  {
    "text": "right um essentially what it is is the ability to build a pre-built KMOD image",
    "start": "1024919",
    "end": "1030720"
  },
  {
    "text": "or a driver container and this pipeline really addresses two key scenarios right",
    "start": "1030720",
    "end": "1035839"
  },
  {
    "text": "and it the problem here is much more multi-dimensional than that but these are the fundamental scenarios the first",
    "start": "1035839",
    "end": "1041678"
  },
  {
    "text": "one is the idea of a new driver version being available right very common uh",
    "start": "1041679",
    "end": "1048640"
  },
  {
    "text": "scenario to see the second one being you know a new kernel version and that could be due to a multitude of reasons right I",
    "start": "1048640",
    "end": "1056480"
  },
  {
    "text": "think qued alluded to some from a cve perspective um some as an extension that",
    "start": "1056480",
    "end": "1063039"
  },
  {
    "text": "to that uh some of our future work has been on being able to facilitate seamless driver",
    "start": "1063039",
    "end": "1069640"
  },
  {
    "text": "upgrades and so the value of this pipeline for you know our customers is essentially it allows them to enable",
    "start": "1069640",
    "end": "1076880"
  },
  {
    "text": "gpus in seconds with pre-built images as opposed to something that's you know",
    "start": "1076880",
    "end": "1082159"
  },
  {
    "text": "built on premise right so it goes from minutes to seconds from an enabling perspective and so the flow would look",
    "start": "1082159",
    "end": "1088440"
  },
  {
    "text": "something like this we have a two-step uh uh flow at the bottom here where we",
    "start": "1088440",
    "end": "1094039"
  },
  {
    "text": "the first step is essentially you deploy the pre-built image with kmm and that essentially allows uh the enabling of",
    "start": "1094039",
    "end": "1101360"
  },
  {
    "text": "the device and then on the Second Step here we kind of build it out and Leverage The GPU device plug-in to",
    "start": "1101360",
    "end": "1108520"
  },
  {
    "text": "extend the GPU resource to the cubet essentially for workload consumption on the user",
    "start": "1108520",
    "end": "1115120"
  },
  {
    "text": "space that's right so this is the exciting part um you know we want to",
    "start": "1115120",
    "end": "1120720"
  },
  {
    "text": "talk about the demo you know take kmm on a test drive um so we're going to talk a",
    "start": "1120720",
    "end": "1125919"
  },
  {
    "text": "little bit about enabling Intel gpus with kmm on kubernetes so just to set the context",
    "start": "1125919",
    "end": "1132559"
  },
  {
    "text": "before we get into the live demo um so this demo is running on a single node",
    "start": "1132559",
    "end": "1137640"
  },
  {
    "text": "kubernetes cluster um with our Intel Flex 170 GPU um we're running one Jupiter pod",
    "start": "1137640",
    "end": "1144760"
  },
  {
    "text": "with open Vino and the associated runtime libraries uh you can see some of the resource uh limits listed here from a",
    "start": "1144760",
    "end": "1151480"
  },
  {
    "text": "CPU perspective 20 cores and 64 gigs of RAM and the demo fundamentally is the",
    "start": "1151480",
    "end": "1157600"
  },
  {
    "text": "idea of first building and loading the GPU driver with kmm essentially enabling",
    "start": "1157600",
    "end": "1162760"
  },
  {
    "text": "the device and then following that up with running a real world text to image notebook",
    "start": "1162760",
    "end": "1168960"
  },
  {
    "text": "with stable diffusion and open Veno on both the CPU and GPU to see the",
    "start": "1168960",
    "end": "1174120"
  },
  {
    "text": "advantage of it right so let's go ahead and take a look at that I'll hand it over to qu absolutely bring on the logos",
    "start": "1174120",
    "end": "1180240"
  },
  {
    "text": "yes oh we have the logos here today we do have the logos so that's yeah we're going to use yeah variety of Technologies today we have mini Cube we",
    "start": "1180240",
    "end": "1187720"
  },
  {
    "text": "have Jupiter we have hugging face Transformers um and finally open Vino uh",
    "start": "1187720",
    "end": "1193080"
  },
  {
    "text": "the resources are important here because we're like H said you know we're first going to run it on CPU see how long it",
    "start": "1193080",
    "end": "1199440"
  },
  {
    "text": "takes then enable the GPU and run the same workload see see how long it takes with the GPU all right so let's switch",
    "start": "1199440",
    "end": "1206480"
  },
  {
    "text": "to to the terminal uh I'm logged in uh on that that Intel def Cloud VM it it",
    "start": "1206480",
    "end": "1211960"
  },
  {
    "text": "does have the the GPU let's you know let's list all the pods here uh we don't",
    "start": "1211960",
    "end": "1217159"
  },
  {
    "text": "have anything now okay that's fine um so let's now create the Jupiter pod cool",
    "start": "1217159",
    "end": "1223400"
  },
  {
    "text": "okay let's let's just do that all right we're you know creating a couple of",
    "start": "1223400",
    "end": "1228640"
  },
  {
    "text": "objects uh we also need a storage class to persist the data um persistent Vol",
    "start": "1228640",
    "end": "1233679"
  },
  {
    "text": "volume claim but let's not worry about that okay the Pod is running here uh I think I think we can now log",
    "start": "1233679",
    "end": "1240120"
  },
  {
    "text": "in okay here we are uh let's let's log in here awesome and we should have the yeah",
    "start": "1240120",
    "end": "1249600"
  },
  {
    "text": "Jupiter interface wonderful okay I'll I'll just open the notebook here uh I'm",
    "start": "1249600",
    "end": "1256200"
  },
  {
    "text": "I'm not going to go into the details of what the notebook does really um it's taking a bit longer than usual",
    "start": "1256200",
    "end": "1263600"
  },
  {
    "text": "isn't",
    "start": "1263600",
    "end": "1265799"
  },
  {
    "text": "it oh had to happen huh okay let's R out",
    "start": "1269760",
    "end": "1278278"
  },
  {
    "text": "that okay awesome it is taking a bit longer but patience um I will just clear",
    "start": "1280200",
    "end": "1285320"
  },
  {
    "text": "the output of all cells I think I did that already but yeah okay so what we're going to do first is uh we are going to",
    "start": "1285320",
    "end": "1291960"
  },
  {
    "text": "fetch the stable diffusion pipelines um it's actually cash for uh because of the",
    "start": "1291960",
    "end": "1297760"
  },
  {
    "text": "demo right to to run faster um then you know that P Touch model we are actually",
    "start": "1297760",
    "end": "1302960"
  },
  {
    "text": "going to convert it to um something that uh can be run with open Vino yeah",
    "start": "1302960",
    "end": "1308760"
  },
  {
    "text": "exactly uh and then we're going to compile the models first we are going to compile them for CPU and then for GPU um",
    "start": "1308760",
    "end": "1315120"
  },
  {
    "text": "but we do not have anything loaded here uh I can actually show you that I think yeah I think I I need to do that right",
    "start": "1315120",
    "end": "1321880"
  },
  {
    "text": "run uh All Above selected cell yeah so then I will stop",
    "start": "1321880",
    "end": "1329240"
  },
  {
    "text": "here um yeah exactly okay so we're going to run everything and okay so we do LS mode",
    "start": "1329240",
    "end": "1337559"
  },
  {
    "text": "grape I one I 915 so that's the name of the canel module that's the Intel GPU",
    "start": "1337559",
    "end": "1343799"
  },
  {
    "text": "driver um so because we grab here we don't have anything so it's empty module is not loaded right uh and that's what",
    "start": "1343799",
    "end": "1350960"
  },
  {
    "text": "open V reports right the only device available for inference is the CPU right now okay that's fine that's fine still",
    "start": "1350960",
    "end": "1357880"
  },
  {
    "text": "we want to generate one image with it okay um so all these steps you know I'm not going into the details there uh I",
    "start": "1357880",
    "end": "1364720"
  },
  {
    "text": "think I'm just going to go until that one",
    "start": "1364720",
    "end": "1370240"
  },
  {
    "text": "and yeah exactly okay I don't know if that's going to run everything no",
    "start": "1370240",
    "end": "1376559"
  },
  {
    "text": "probably not okay so we're are compiling the models now this should be really short okay and already we are generating",
    "start": "1376559",
    "end": "1382480"
  },
  {
    "text": "the first image which should be a valley in the Alps um and that's only using the 20 cores of the CPU that we made",
    "start": "1382480",
    "end": "1388960"
  },
  {
    "text": "available to this spot and you can see that this is going to take something like a bit more than I think 33 seconds",
    "start": "1388960",
    "end": "1396039"
  },
  {
    "text": "yeah like 30 seconds uh I think we're already yeah we're already halfway okay this takes a lot of",
    "start": "1396039",
    "end": "1403279"
  },
  {
    "text": "processing power as you know obviously yeah this is this is taking",
    "start": "1403279",
    "end": "1409440"
  },
  {
    "text": "some time in the meantime any guesses for how long the GPU will take you can make your own",
    "start": "1409440",
    "end": "1417279"
  },
  {
    "text": "guess okay so this is I think the W the Wi-Fi is maybe a",
    "start": "1417279",
    "end": "1422960"
  },
  {
    "text": "bit slower in that room because it should show the",
    "start": "1422960",
    "end": "1427200"
  },
  {
    "text": "image okay we go here we are here it is indeed a bit slower um but nice image",
    "start": "1428520",
    "end": "1434080"
  },
  {
    "text": "right uh and this was just generated with the with the CPU okay uh but we don't want to stop here obviously we",
    "start": "1434080",
    "end": "1439799"
  },
  {
    "text": "want to enable the GPU uh you know load load its dver make it available to The Notebook uh back to the terminal to do",
    "start": "1439799",
    "end": "1446400"
  },
  {
    "text": "that uh we're actually going to create a config map that contains the the docker",
    "start": "1446400",
    "end": "1451600"
  },
  {
    "text": "file to build the Intel driver uh we are also going to add a secret that is a pull secret to my query po because we",
    "start": "1451600",
    "end": "1458440"
  },
  {
    "text": "want to build that image upload it to qu. so then it's available for kmm to be loaded on the nodes uh I'll do just that",
    "start": "1458440",
    "end": "1466640"
  },
  {
    "text": "now uh I think it's mod exactly I can I can show you what the module consists in",
    "start": "1466640",
    "end": "1473520"
  },
  {
    "text": "really really quickly uh it's it's very simple I think it's pretty similar to",
    "start": "1473520",
    "end": "1478720"
  },
  {
    "text": "what you saw on the slides um yeah I I don't know if that's really visible maybe in front of it but really uh so we",
    "start": "1478720",
    "end": "1486760"
  },
  {
    "text": "are mapping that image to just one kernel which is the kernel that's currently running on the VM uh and we",
    "start": "1486760",
    "end": "1493240"
  },
  {
    "text": "are you know we are using the build option here which means that because the the image is is not already available on",
    "start": "1493240",
    "end": "1498880"
  },
  {
    "text": "Quay we will have to build it and upload it okay um take a look at the logs Sor build logs yeah yes we want the build",
    "start": "1498880",
    "end": "1505240"
  },
  {
    "text": "logs so they on the right uh let's see what's going on there",
    "start": "1505240",
    "end": "1510520"
  },
  {
    "text": "okay yeah so we are I think yeah we're done loading all the packages now now we",
    "start": "1510520",
    "end": "1515600"
  },
  {
    "text": "did download all the headers and the compilers everything that's needed to produce that kod image right now we're",
    "start": "1515600",
    "end": "1521240"
  },
  {
    "text": "actually com uh compiling the object files yes um to produce the KO the the",
    "start": "1521240",
    "end": "1526440"
  },
  {
    "text": "final canel module um so I think this uh this machine is really fast I think this completes",
    "start": "1526440",
    "end": "1532200"
  },
  {
    "text": "within two minutes yep like that so so yeah what one one good aspect",
    "start": "1532200",
    "end": "1539320"
  },
  {
    "text": "really of this build system that we have embedded in kmm is that U if we have many nodes uh that share the same Kel",
    "start": "1539320",
    "end": "1545960"
  },
  {
    "text": "and we need to build an image for that very Kel we're only going to build once uh which is which is actually quite",
    "start": "1545960",
    "end": "1553399"
  },
  {
    "text": "handy um in that case really we're not ah so we we're don't compiling everything I think yeah we we're",
    "start": "1553399",
    "end": "1559679"
  },
  {
    "text": "actually pushing um to quo So within seconds what you're going to see on the",
    "start": "1559679",
    "end": "1565200"
  },
  {
    "text": "right is the the module loader pod the the pod that's actually created by the",
    "start": "1565200",
    "end": "1570399"
  },
  {
    "text": "demon set that km creates and that pod is going on the Node to run mode probe",
    "start": "1570399",
    "end": "1575760"
  },
  {
    "text": "to to load the K mod and this should happen as soon as the the push is complete right there it it does take a",
    "start": "1575760",
    "end": "1582919"
  },
  {
    "text": "few seconds I think I'm not sure why because the image is quite small it's only mode Pro and a couple Kos y I",
    "start": "1582919",
    "end": "1589799"
  },
  {
    "text": "wanted to reh highlight that uh you know building once and deploying anywhere given that the node has the same kernel",
    "start": "1589799",
    "end": "1595279"
  },
  {
    "text": "version I think that's really a valuable takeaway so it is and as you can see you",
    "start": "1595279",
    "end": "1601000"
  },
  {
    "text": "know we pushed M um km keeps reconciling obviously uh and you can see that that",
    "start": "1601000",
    "end": "1606960"
  },
  {
    "text": "that very pod actually has loaded the canel okay so let's let's go back to the to the jupyter notebook so now you're",
    "start": "1606960",
    "end": "1613000"
  },
  {
    "text": "telling me the GPU should be enabled the GPU should be enabled indeed uh okay let's",
    "start": "1613000",
    "end": "1618200"
  },
  {
    "text": "we I think we need to restart the Kel yes we we do need to restart the Kel",
    "start": "1618200",
    "end": "1624399"
  },
  {
    "text": "and run up to selected cell that's exactly what I want okay okay let let's have a look at this",
    "start": "1624399",
    "end": "1630600"
  },
  {
    "text": "cell right here right uh this L LS mode grip I9 915 oh so there's there's some",
    "start": "1630600",
    "end": "1636600"
  },
  {
    "text": "output now so uh that Intel GPU driver is actually loaded into the into the the",
    "start": "1636600",
    "end": "1642120"
  },
  {
    "text": "notes canel now it's available to the to the Jupiter notebook in the Pod and actually open V reports that you know",
    "start": "1642120",
    "end": "1648679"
  },
  {
    "text": "it's saying available devices CPU and GPU that's that's really wonderful and",
    "start": "1648679",
    "end": "1653760"
  },
  {
    "text": "yeah the good thing is that we can now select GPU here and and have a much greater performance okay let's let's run",
    "start": "1653760",
    "end": "1660880"
  },
  {
    "text": "that uh now we need to compile the models for the GPU I think it's it's still quite short yeah isn't it",
    "start": "1660880",
    "end": "1666480"
  },
  {
    "text": "relatively fast yes yes okay so this this will again take a couple of seconds",
    "start": "1666480",
    "end": "1672480"
  },
  {
    "text": "I think I I will advance manually now exactly so it's it's it's",
    "start": "1672480",
    "end": "1680039"
  },
  {
    "text": "completing good good okay so let's let's advance and we are going to regenerate",
    "start": "1680039",
    "end": "1686919"
  },
  {
    "text": "exactly the same image of the uh of the Alps nice Valley in the Alps you can see",
    "start": "1686919",
    "end": "1692240"
  },
  {
    "text": "that it's actually much faster it's three times faster because we're using the GPU and it completes in only 12",
    "start": "1692240",
    "end": "1698080"
  },
  {
    "text": "seconds instead of 35 with the 20 GPU cost that we had in the Pod almost 57%",
    "start": "1698080",
    "end": "1705000"
  },
  {
    "text": "faster yeah I can see you've done the math yes I",
    "start": "1705000",
    "end": "1710200"
  },
  {
    "text": "have I have not I just know it's faster okay um yeah the the image is it's a bit",
    "start": "1710200",
    "end": "1716440"
  },
  {
    "text": "slow to load in this location I'm not sure why but uh here it is okay uh I think we have a couple more that we",
    "start": "1716440",
    "end": "1722120"
  },
  {
    "text": "wanted to show we're in Chicago so we wanted to show the Chicago cloud gate you may have seen this image before you",
    "start": "1722120",
    "end": "1728519"
  },
  {
    "text": "may have seen this image before if you paid attention the very beginning of the talk yeah so it it's actually faster to",
    "start": "1728519",
    "end": "1735440"
  },
  {
    "text": "generate the image than to download from the Pod with this wi-fi it's interesting",
    "start": "1735440",
    "end": "1741320"
  },
  {
    "text": "interesting um anyway again 13 seconds uh for completely different image right the seat is different The Prompt is",
    "start": "1741320",
    "end": "1748760"
  },
  {
    "text": "different and yeah you know what I I should probably stop that one because it takes so long to yeah here we are nice",
    "start": "1748760",
    "end": "1756440"
  },
  {
    "text": "it's not it's not bad actually it's not bad and and the final one we want Chicago at",
    "start": "1756440",
    "end": "1763960"
  },
  {
    "text": "sunet and the GPU is only using 16 gigs of memory right compared to 64 gigs from",
    "start": "1764080",
    "end": "1769960"
  },
  {
    "text": "the CPU so you're really seeing how well it can crunch it that is right that's",
    "start": "1769960",
    "end": "1775000"
  },
  {
    "text": "right that's right this doesn't use any any CPU to generate the images",
    "start": "1775000",
    "end": "1781120"
  },
  {
    "text": "now and since we have a bit more time I think I'm I'm going to show you guys",
    "start": "1781120",
    "end": "1786440"
  },
  {
    "text": "okay so here we are again it's I think it's not that bad um but that's it",
    "start": "1786440",
    "end": "1792000"
  },
  {
    "text": "that's it we went to we went from uh you know zero GPU enabled in the in the Pod to uh you know having the GPU fully",
    "start": "1792000",
    "end": "1798880"
  },
  {
    "text": "provisioned and available for inference uh in just yeah probably something like five or six minutes uh just need to",
    "start": "1798880",
    "end": "1805039"
  },
  {
    "text": "compile the image push it uh and that's it it's available um one thing I wanted",
    "start": "1805039",
    "end": "1810320"
  },
  {
    "text": "to show the audience because we have uh sometime is okay if we do you want to",
    "start": "1810320",
    "end": "1816320"
  },
  {
    "text": "get some audience input do we want to do that does does anyone want to suggest",
    "start": "1816320",
    "end": "1823320"
  },
  {
    "text": "something we can do that he wants to s",
    "start": "1823320",
    "end": "1829240"
  },
  {
    "text": "I'm sorry can you move to the microphone yeah because Landscapes are super nice but they are so boring so I",
    "start": "1829519",
    "end": "1836840"
  },
  {
    "text": "would like to see Santa Claus and Easter Bunny at the family dinner I'm sorry",
    "start": "1836840",
    "end": "1842399"
  },
  {
    "text": "what's that hold on hold on now I think we'll stick to Santa",
    "start": "1842399",
    "end": "1847640"
  },
  {
    "text": "close because I'm not sure I I've been trying some you know human shapes um not",
    "start": "1847640",
    "end": "1853120"
  },
  {
    "text": "always with um do you have a favorite number",
    "start": "1853120",
    "end": "1858880"
  },
  {
    "text": "do you 2023 2023 let's see what",
    "start": "1858880",
    "end": "1864320"
  },
  {
    "text": "happens okay generating I hope it's not too",
    "start": "1865200",
    "end": "1871279"
  },
  {
    "text": "disturbing all right let's let's see what",
    "start": "1871279",
    "end": "1876039"
  },
  {
    "text": "happens oh wow here we are not bad at all here we are and I think he has a",
    "start": "1882880",
    "end": "1889159"
  },
  {
    "text": "full hand not only four fingers you can yeah something's going on near the bird",
    "start": "1889159",
    "end": "1894639"
  },
  {
    "text": "but but I think this is this is still pretty good not sure what's happening with the hat also but yeah okay anyway",
    "start": "1894639",
    "end": "1901039"
  },
  {
    "text": "regardless um yeah just showing you guys quickly that uh not only can you load",
    "start": "1901039",
    "end": "1906279"
  },
  {
    "text": "the the canel modules and the driver I will clear this um so we do have the the",
    "start": "1906279",
    "end": "1912519"
  },
  {
    "text": "Jupiter pod here and we have the the the module loader pod here uh if we do LS",
    "start": "1912519",
    "end": "1918639"
  },
  {
    "text": "mode grab I 915 then we have you know all the Intel stuff loaded right now uh",
    "start": "1918639",
    "end": "1925360"
  },
  {
    "text": "we can actually uh if we kill the workload first so I will delete that pod",
    "start": "1925360",
    "end": "1931159"
  },
  {
    "text": "here okay so we have nothing using the K mod which uh would actually prevent us from unloading the the the the Canon",
    "start": "1931159",
    "end": "1937760"
  },
  {
    "text": "module um so right now I will actually um delete uh the km module",
    "start": "1937760",
    "end": "1945519"
  },
  {
    "text": "resource okay it is deleted and when when we delete it actually it kills the",
    "start": "1945519",
    "end": "1950799"
  },
  {
    "text": "module Lo the pod which in turns uh you know runs mod pro-r again to just uh",
    "start": "1950799",
    "end": "1957360"
  },
  {
    "text": "unload the canel module and now if I if I LS mod grap I 915 then the module is",
    "start": "1957360",
    "end": "1962840"
  },
  {
    "text": "not there and we have successfully unprovisioned the the canel module um do",
    "start": "1962840",
    "end": "1968559"
  },
  {
    "text": "we want to take it one step further and deploy the pre-built image since it's been I don't think so um I think we have",
    "start": "1968559",
    "end": "1974360"
  },
  {
    "text": "a couple more slides to to cover here uh just a few words about kmm 2.0 which",
    "start": "1974360",
    "end": "1979880"
  },
  {
    "text": "we're uh still you know finalizing uh this will be out uh at the end of this",
    "start": "1979880",
    "end": "1985679"
  },
  {
    "text": "month uh the the Improvement here is that we're not using demon sets anymore to load the canal modules on each note",
    "start": "1985679",
    "end": "1992399"
  },
  {
    "text": "we're actually creating uh shortlived pods that are running mod probe once and then exiting um this should you know",
    "start": "1992399",
    "end": "2000440"
  },
  {
    "text": "provide a better reliability uh and a much lower footprint because nothing is running whenever uh whenever we have",
    "start": "2000440",
    "end": "2006399"
  },
  {
    "text": "loaded everything uh we will this will also improve the the binary firmware uh support because",
    "start": "2006399",
    "end": "2012679"
  },
  {
    "text": "that the worker pod will be able to to load uh to to set some KL parameters I'm",
    "start": "2012679",
    "end": "2017960"
  },
  {
    "text": "won't go into details there um but yeah it will be available later this month um wrapping up again kmm is really",
    "start": "2017960",
    "end": "2026480"
  },
  {
    "text": "a kubernetes operator that is that was designed to load the right canel modules on the right node it can also build",
    "start": "2026480",
    "end": "2032919"
  },
  {
    "text": "those canel modules sign them if you want uh we we really intend it to be a",
    "start": "2032919",
    "end": "2038440"
  },
  {
    "text": "standard consumption model it you know it's has a flexible API you can embed",
    "start": "2038440",
    "end": "2043519"
  },
  {
    "text": "the the module resource in your operator you can have your operator deploy it to load the canel modules and Abstract that",
    "start": "2043519",
    "end": "2049679"
  },
  {
    "text": "away and that is really the goal here um the latest available version is v1.1 um we're working in v2.0 it should",
    "start": "2049679",
    "end": "2057760"
  },
  {
    "text": "be available later this month uh and if you want a more really great demos of uh",
    "start": "2057760",
    "end": "2065398"
  },
  {
    "text": "inference um using the the Intel GPU provision by kmm but on open shift",
    "start": "2065399",
    "end": "2071358"
  },
  {
    "text": "because we have an open shift edition of kmm then please pass by the Intel Booth",
    "start": "2071359",
    "end": "2077158"
  },
  {
    "text": "um yeah to to watch those awesome definitely check it out check it out um",
    "start": "2077159",
    "end": "2082720"
  },
  {
    "text": "that's it thank you",
    "start": "2082720",
    "end": "2088919"
  }
]