[
  {
    "start": "0",
    "end": "25000"
  },
  {
    "text": "welcome everybody this is great I did an identically titled talk with different slides 18 months ago and there were like",
    "start": "30",
    "end": "6330"
  },
  {
    "text": "10 people in the room so this is fantastic that you all turned up today so we're gonna talk to you today about",
    "start": "6330",
    "end": "12509"
  },
  {
    "text": "when the going gets tough get tough going and we'll find out more about what that acronym is as we go along my name",
    "start": "12509",
    "end": "19439"
  },
  {
    "text": "is David Lawrence my name is Ashwini and we're both security engineers at docker so today we're going to talk about sort",
    "start": "19439",
    "end": "27779"
  },
  {
    "text": "of where are we coming from with signing like let's have a little look back at what signing used to be where we are",
    "start": "27779",
    "end": "33780"
  },
  {
    "text": "with the state of digital signing some specific challenges in software distribution because a lot of what we",
    "start": "33780",
    "end": "40680"
  },
  {
    "text": "talk about in terms of signing things has added requirements and properties that we want to achieve when we talk",
    "start": "40680",
    "end": "47100"
  },
  {
    "text": "about distributing software we're then going to look at how tough solves these problems and notary which is an",
    "start": "47100",
    "end": "52739"
  },
  {
    "text": "implementation of tough or the update framework and then assuming we have time",
    "start": "52739",
    "end": "58379"
  },
  {
    "text": "we'll have a very very brief demo at the end so looking back so that's a message",
    "start": "58379",
    "end": "66000"
  },
  {
    "text": "that messages around security is really not a modern-day problem is existed for",
    "start": "66000",
    "end": "72180"
  },
  {
    "text": "a long time in the old days the way to pass like nice or messages was that the",
    "start": "72180",
    "end": "80520"
  },
  {
    "text": "kings of the kingdoms would take a message write it down on paper seal it and give",
    "start": "80520",
    "end": "86759"
  },
  {
    "text": "it to a messenger and the messenger would then get on a horse or carriage or whatever was the norm at the time and",
    "start": "86759",
    "end": "93799"
  },
  {
    "text": "pass it around to the right recipient now there are two assumptions that were",
    "start": "93799",
    "end": "99060"
  },
  {
    "text": "made here the first one was that we implicitly trusted the messenger to do the right thing and not mess with the",
    "start": "99060",
    "end": "105210"
  },
  {
    "text": "message the second one is that the seal that I mentioned that the gains put on",
    "start": "105210",
    "end": "111540"
  },
  {
    "text": "the messages were worried special so the king seal was sort of like a mark of the",
    "start": "111540",
    "end": "118079"
  },
  {
    "text": "king or the Empire and a good protection around making sure that the integrity of",
    "start": "118079",
    "end": "124560"
  },
  {
    "text": "the messages remained constant was that you would just imprison or punish or",
    "start": "124560",
    "end": "131390"
  },
  {
    "text": "whatever the criminal at the time the the people who tried to copy the seal and it's it's it's",
    "start": "131390",
    "end": "140319"
  },
  {
    "text": "actually a very real problem it was then and it still is now how do you tell if a",
    "start": "140319",
    "end": "145840"
  },
  {
    "text": "stamp is real or a stolen one or a last one that's a random person found so",
    "start": "145840",
    "end": "151320"
  },
  {
    "text": "moving on though we translated the concept of seals to signatures in the",
    "start": "151320",
    "end": "156820"
  },
  {
    "text": "modern world and we evolved to this idea of asking people to sign documents",
    "start": "156820",
    "end": "162720"
  },
  {
    "text": "associating someone's signature as a mark of their identification but this",
    "start": "162720",
    "end": "168190"
  },
  {
    "text": "also is not a perfect solution because what if I sign your name how can we tell if it was in fact your signature and you",
    "start": "168190",
    "end": "175390"
  },
  {
    "text": "yourself signed it and that sort of bradda bother the need for witnesses and",
    "start": "175390",
    "end": "181860"
  },
  {
    "text": "a witness is basically a second person who could witness you signing a document",
    "start": "181860",
    "end": "187290"
  },
  {
    "text": "thereby sort of establishing that you made your mark and the integrity of the",
    "start": "187290",
    "end": "193540"
  },
  {
    "text": "signature is valid but wait how do you trust the integrity of a witness",
    "start": "193540",
    "end": "199230"
  },
  {
    "text": "witnesses can be bought and a witness could just be a friend that you asked to",
    "start": "199230",
    "end": "204549"
  },
  {
    "text": "say something in court so that establish the need for notaries notary public is",
    "start": "204549",
    "end": "211870"
  },
  {
    "text": "basically a person that we've entrusted to be a witness and we implicitly",
    "start": "211870",
    "end": "217570"
  },
  {
    "text": "distrust them to be good at being a witness and doing the right thing I'll",
    "start": "217570",
    "end": "223570"
  },
  {
    "text": "hand it over to David to tell us what happened when we all started using computers so in between you know notary",
    "start": "223570",
    "end": "230950"
  },
  {
    "start": "227000",
    "end": "665000"
  },
  {
    "text": "publics and people just signing documents we actually these really interesting machines up on the top left that's an autopen famously used by",
    "start": "230950",
    "end": "238450"
  },
  {
    "text": "presidents and it's literally a device for forging signatures so you know you want the president to sign some",
    "start": "238450",
    "end": "244150"
  },
  {
    "text": "legislation if you can get access to his auto pen you can get whatever you want past but signing in the digital world",
    "start": "244150",
    "end": "251530"
  },
  {
    "text": "really came into its own and really didn't exist before we developed asymmetric crypto so just quick show of",
    "start": "251530",
    "end": "257049"
  },
  {
    "text": "hands who really you know has a good handle on asymmetric crypto okay that's",
    "start": "257049",
    "end": "262539"
  },
  {
    "text": "good that's probably half the room so the idea with asymmetric cryptography for those that aren't so familiar you",
    "start": "262539",
    "end": "268449"
  },
  {
    "text": "generate a key that is actually a pair of data points one of these you make",
    "start": "268449",
    "end": "274660"
  },
  {
    "text": "public and one of these you keep private and secure as best as you possibly can",
    "start": "274660",
    "end": "279789"
  },
  {
    "text": "any operation done with one of those keys can be reversed with the other key so you want to encrypt something to",
    "start": "279789",
    "end": "286389"
  },
  {
    "text": "somebody you take their public key you encrypt the data you send it to them they can use their private key to decrypt it signing in a very simple",
    "start": "286389",
    "end": "293770"
  },
  {
    "text": "sense uses the private key to actually encrypt the information and then you",
    "start": "293770",
    "end": "298780"
  },
  {
    "text": "send out both the plaintext and the encrypted format and a person can use your public key to do the decryption",
    "start": "298780",
    "end": "304780"
  },
  {
    "text": "operation match the two pieces of data and confirm that you then actually had possession of the private part of the",
    "start": "304780",
    "end": "310569"
  },
  {
    "text": "key and the most well-known signing or I",
    "start": "310569",
    "end": "316150"
  },
  {
    "text": "should say asymmetric crypto implementation is probably GPG new",
    "start": "316150",
    "end": "321430"
  },
  {
    "text": "privacy guard and this gives us a number of very desirable properties confidentiality as we said we can use",
    "start": "321430",
    "end": "327039"
  },
  {
    "text": "these keys to encrypt things but in the world of signing encryption isn't specifically what we're interested in",
    "start": "327039",
    "end": "332139"
  },
  {
    "text": "that may be a requirement for a specific use case but we're not going to address that explicitly more importantly though",
    "start": "332139",
    "end": "338319"
  },
  {
    "text": "we get integrity we can check that a message hasn't been tampered with by using GPG signing through the web of",
    "start": "338319",
    "end": "345940"
  },
  {
    "text": "trust we also get some degree of authenticity now the idea of the web of trust is that you meet people you verify",
    "start": "345940",
    "end": "353169"
  },
  {
    "text": "their identity and you use your private key to sign their keys and in doing so somebody can then determine that there",
    "start": "353169",
    "end": "359979"
  },
  {
    "text": "is a trusted relationship between you and that person at least as far as identity is concerned you know the more",
    "start": "359979",
    "end": "366190"
  },
  {
    "text": "people that have verified your identity by signing your keys but more likely that that identity is legitimate to a",
    "start": "366190",
    "end": "372250"
  },
  {
    "text": "random person who looks up your key in a directory online of course this is",
    "start": "372250",
    "end": "377380"
  },
  {
    "text": "transitive so if I have no connection with somebody who sends me a message but maybe Ashwin he does I have to decide if",
    "start": "377380",
    "end": "384250"
  },
  {
    "text": "I trust that person based both on my relationship with Ashwini and also maybe asking actually hey you know how well do",
    "start": "384250",
    "end": "390370"
  },
  {
    "text": "you know this person should I actually trust them so you know authenticity isn't perfect here but we do have some",
    "start": "390370",
    "end": "397599"
  },
  {
    "text": "mechanism for getting trust between two parties who don't necessarily know each other directly in the real world and then we",
    "start": "397599",
    "end": "405340"
  },
  {
    "text": "also have non-repudiation which in classical signing is a highly desirable property",
    "start": "405340",
    "end": "410680"
  },
  {
    "text": "this means that somebody can't come later and say no no that wasn't me I didn't sign that thing of course as we",
    "start": "410680",
    "end": "417700"
  },
  {
    "text": "mentioned with losing seals you can also lose your GPG keys and the lost prot the",
    "start": "417700",
    "end": "423820"
  },
  {
    "text": "lost stamp or the lost key problem is a real issue because yeah I may not be able to repudiate the signature itself",
    "start": "423820",
    "end": "430630"
  },
  {
    "text": "but I can say like no no I lost my key like whatever was sent to you then it wasn't me somebody else had my key and",
    "start": "430630",
    "end": "437820"
  },
  {
    "text": "the main problem with this is revocation revocation around keys in general is",
    "start": "437820",
    "end": "443680"
  },
  {
    "text": "frequently based on black lists black lists are bad it's straight-up bad like",
    "start": "443680",
    "end": "449860"
  },
  {
    "text": "there may be cases where you have to use one but you should always prefer white lists the reason for this is because",
    "start": "449860",
    "end": "454930"
  },
  {
    "text": "black lists are fail open if you fail to get an update to the black list or",
    "start": "454930",
    "end": "460360"
  },
  {
    "text": "something doesn't go into the black list in the first place you continue to trust something you should not be trusting anymore so let's",
    "start": "460360",
    "end": "469480"
  },
  {
    "text": "continue looking at some of the interesting life cycle properties in software that go beyond just classical",
    "start": "469480",
    "end": "476590"
  },
  {
    "text": "signing software is very very special and has some very interesting properties",
    "start": "476590",
    "end": "483330"
  },
  {
    "text": "for example software I got too old if I find an email it will still have the",
    "start": "483330",
    "end": "490480"
  },
  {
    "text": "same meaning years later but software needs constant updates because as a",
    "start": "490480",
    "end": "497080"
  },
  {
    "text": "software ages we usually find vulnerabilities and when their abilities",
    "start": "497080",
    "end": "502270"
  },
  {
    "text": "require fixes which these fixes are then usually released as a new version and as",
    "start": "502270",
    "end": "509560"
  },
  {
    "text": "people download the new version and update their installations we have to deal with incompatibility issues and the",
    "start": "509560",
    "end": "517450"
  },
  {
    "text": "thing about complex software systems is that trying to update one component",
    "start": "517450",
    "end": "522640"
  },
  {
    "text": "might lead to you getting a chain of dependencies that subsequently require updating so this brings us to you",
    "start": "522640",
    "end": "530710"
  },
  {
    "text": "interesting distribution properties because once you worked on updating your software",
    "start": "530710",
    "end": "536020"
  },
  {
    "text": "releasing it and pushing those updates to consumers is in itself a big complex",
    "start": "536020",
    "end": "542290"
  },
  {
    "text": "task and as a user downloading and updating software confidence securely is",
    "start": "542290",
    "end": "548050"
  },
  {
    "text": "not very straightforward so for example even if I'm downloading an update over",
    "start": "548050",
    "end": "554290"
  },
  {
    "text": "TLS and I've secured the handshake works and everything is great it doesn't",
    "start": "554290",
    "end": "559600"
  },
  {
    "text": "protect me from compromised servers so risk compromised all the time so do you",
    "start": "559600",
    "end": "565420"
  },
  {
    "text": "all see the picture on the right side that's Fargo stagecoaches where the TLS",
    "start": "565420",
    "end": "571540"
  },
  {
    "text": "of the Wild West they protected money in transport but there was nothing from",
    "start": "571540",
    "end": "576970"
  },
  {
    "text": "stopping an evil bank manager putting fake money on the on the coat and",
    "start": "576970",
    "end": "583290"
  },
  {
    "text": "similarly if the server or the server owner is in a location where they can be",
    "start": "583290",
    "end": "588850"
  },
  {
    "text": "compelled to send you bad data can you still trust the source so moreover this",
    "start": "588850",
    "end": "595270"
  },
  {
    "text": "doesn't give us any protection from expired mirrors if I am trying to download an update from a node that",
    "start": "595270",
    "end": "603160"
  },
  {
    "text": "thinks it has the latest version but is really out of date the update that I",
    "start": "603160",
    "end": "608620"
  },
  {
    "text": "will get will appear to be a latest update but it won't really be and in that case unless I actually go back and",
    "start": "608620",
    "end": "615550"
  },
  {
    "text": "manually you check the versions and do all the matches there will be no way for me to tell that by default so what do we",
    "start": "615550",
    "end": "624880"
  },
  {
    "text": "do it sounds like going is getting tougher and tougher sir as the title of",
    "start": "624880",
    "end": "633880"
  },
  {
    "text": "the talk said let's get tough going and tough is the update framework developed",
    "start": "633880",
    "end": "639730"
  },
  {
    "text": "by Justin Kappas who is somewhere in the room here excellent work and his team at",
    "start": "639730",
    "end": "645640"
  },
  {
    "text": "NYU Tandon School of Engineering will get the name right the update framework",
    "start": "645640",
    "end": "651610"
  },
  {
    "text": "is a holistic solution to securing the distribution of your software updates",
    "start": "651610",
    "end": "657430"
  },
  {
    "text": "and really any digital content over the internet so you know what is it at its core and strap in because is where we",
    "start": "657430",
    "end": "663730"
  },
  {
    "text": "get into like the nitty-gritty stuff traditionally we would sign individual Edge's if you look at something like the",
    "start": "663730",
    "end": "669940"
  },
  {
    "start": "665000",
    "end": "849000"
  },
  {
    "text": "Python package index they still do this every single publisher of a package is expected to sign that package themselves",
    "start": "669940",
    "end": "676630"
  },
  {
    "text": "this creates an enormous headache for consumers if I have a hundred dependencies that I'm managing from the",
    "start": "676630",
    "end": "683800"
  },
  {
    "text": "Python package index if I'm fortunate they will all be signed in reality only about 5% of the packages in there are",
    "start": "683800",
    "end": "690550"
  },
  {
    "text": "actually signed but assuming they all are signed I have to go and find every single public key of every single",
    "start": "690550",
    "end": "697060"
  },
  {
    "text": "publisher and there is no standard way for them to get those to me so that I can install those onto my CI systems or",
    "start": "697060",
    "end": "703030"
  },
  {
    "text": "my production servers to verify every single piece of content I'm going to go and download now some people have",
    "start": "703030",
    "end": "709210"
  },
  {
    "text": "already improved on this by having the actual repository manager sign the packages sometimes as an additional",
    "start": "709210",
    "end": "715510"
  },
  {
    "text": "signature and sometimes like with Apple Apple Apple iOS applications Apple just replaces the signature but you're still",
    "start": "715510",
    "end": "723490"
  },
  {
    "text": "typically signing individual packages so going beyond this again what tough does and what some of the more forward-thinking packaging managers have",
    "start": "723490",
    "end": "730630"
  },
  {
    "text": "done is starting to sign the entire collection and know you know we mentioned black lists earlier if I had a",
    "start": "730630",
    "end": "737110"
  },
  {
    "text": "bad package in this world I might have to blacklist a key or blacklist a package when I sign the",
    "start": "737110",
    "end": "742780"
  },
  {
    "text": "collection I now have a white list only packages that should be in that",
    "start": "742780",
    "end": "747880"
  },
  {
    "text": "collection actually do get signed in now what tough does that's really useful is",
    "start": "747880",
    "end": "753040"
  },
  {
    "text": "I sometimes still want to get the signature from the publisher so in tough",
    "start": "753040",
    "end": "758470"
  },
  {
    "text": "I can define what it called delegations which allow me to segment out part of the namespace within this repository and",
    "start": "758470",
    "end": "765490"
  },
  {
    "text": "say you know what I have a different person if I want to be responsible for this little group of packages here and",
    "start": "765490",
    "end": "771270"
  },
  {
    "text": "adding to this white list I'm actually going to take that person's key and sign it in and now as a consumer you're no",
    "start": "771270",
    "end": "778090"
  },
  {
    "text": "longer going in getting a random key off the internet even though you don't know the person that manages this subset of",
    "start": "778090",
    "end": "784270"
  },
  {
    "text": "packages you can generally assume that there's probably a reasonably trusted relationship between the person that",
    "start": "784270",
    "end": "791020"
  },
  {
    "text": "owns the repository and the person that's publishing the packages like it may just be an online account but that's",
    "start": "791020",
    "end": "797320"
  },
  {
    "text": "more than you just going to a random website based on somebody's name and finding a public",
    "start": "797320",
    "end": "803070"
  },
  {
    "text": "additionally because I have a whitelist I can remove things like I'm no longer",
    "start": "803070",
    "end": "810160"
  },
  {
    "text": "tied to you no out-of-date servers possibly continuing to serve bad metadata I can start taking things out",
    "start": "810160",
    "end": "816880"
  },
  {
    "text": "of my whitelist as they get updated or deprecated or whatever the situation happens to be and it's guaranteed that",
    "start": "816880",
    "end": "824950"
  },
  {
    "text": "these updates will make it out to people because tough implements expiry times on",
    "start": "824950",
    "end": "829990"
  },
  {
    "text": "every single piece of metadata so I can guarantee that I will get my updated",
    "start": "829990",
    "end": "835990"
  },
  {
    "text": "whitelist with packages removed packages updated delegations and new signing keys",
    "start": "835990",
    "end": "841060"
  },
  {
    "text": "added within a specific period of time how do we actually manage all of this",
    "start": "841060",
    "end": "847000"
  },
  {
    "text": "well tough has four core roles that it's necessary to understand the root role",
    "start": "847000",
    "end": "853210"
  },
  {
    "start": "849000",
    "end": "1272000"
  },
  {
    "text": "which is responsible for anchoring all of your trust and we'll see how that gets bootstrapped in a few slides",
    "start": "853210",
    "end": "858760"
  },
  {
    "text": "your targets key which is responsible for signing packages into the repository and is also the head of all of your",
    "start": "858760",
    "end": "865660"
  },
  {
    "text": "delegations your snapshot which is used to sign an inventory of the other",
    "start": "865660",
    "end": "872950"
  },
  {
    "text": "content in the repository and your time stamping key which is used to produce a very small piece of metadata on a very",
    "start": "872950",
    "end": "879640"
  },
  {
    "text": "frequent cadence that just tells people has there been any update you should be going to get now these four keys are",
    "start": "879640",
    "end": "887320"
  },
  {
    "text": "taken and put into a file that we call the root Jason and all of these roles here have JSON files associated with",
    "start": "887320",
    "end": "894580"
  },
  {
    "text": "them that take their their namesake keys the root Jason is itself signed",
    "start": "894580",
    "end": "900540"
  },
  {
    "text": "self-referential e with the root key this starts to give us a hierarchy we",
    "start": "900540",
    "end": "906070"
  },
  {
    "text": "trust this root key because we're going to we're going to bootstrap this root Jason in some manner and from the root",
    "start": "906070",
    "end": "912040"
  },
  {
    "text": "key and that signed root Jason I have transitive trusts on my target snapshot",
    "start": "912040",
    "end": "917140"
  },
  {
    "text": "and time-stamping keys my delegation keys all chained as a tree that can be",
    "start": "917140",
    "end": "923860"
  },
  {
    "text": "arbitrarily nested underneath my targets key so I may say that you know I have a",
    "start": "923860",
    "end": "929980"
  },
  {
    "text": "delegation key in a role ashwin he has a delegation key in a role Jane Doe has a Dell in a role we may be restricted into only",
    "start": "929980",
    "end": "937589"
  },
  {
    "text": "signing certain packages within the broader repository and we can also further delegate this tree can go any",
    "start": "937589",
    "end": "944069"
  },
  {
    "text": "level down now that I have this hierarchy we can use this to also treat",
    "start": "944069",
    "end": "950009"
  },
  {
    "text": "our keys as a whitelist if I need to change one of these keys I can just",
    "start": "950009",
    "end": "955559"
  },
  {
    "text": "change it at that point in the tree sign in a new record with the parent key that",
    "start": "955559",
    "end": "960629"
  },
  {
    "text": "I'm chaining that trusts off and eventually this goes all the way back up to my root key so rookie's interesting",
    "start": "960629",
    "end": "967290"
  },
  {
    "text": "because obvious I don't have any implicit chaining of trust down on to my root key so how would I go about",
    "start": "967290",
    "end": "972509"
  },
  {
    "text": "changing that well tough defines how to do this I take my existing root file",
    "start": "972509",
    "end": "979170"
  },
  {
    "text": "that I've already got bootstrapped I generate a new root file I generate a",
    "start": "979170",
    "end": "985529"
  },
  {
    "text": "new key to replace the old one I then sign my new root file with both my old",
    "start": "985529",
    "end": "991170"
  },
  {
    "text": "key and my new key and this gives me a chain of trust from the data I know to",
    "start": "991170",
    "end": "997740"
  },
  {
    "text": "the data I'm trying to acquire the keys here have different security profiles so",
    "start": "997740",
    "end": "1004790"
  },
  {
    "text": "as you might guess the the frequency with which you need to use the key dictates sort of where you're going to",
    "start": "1004790",
    "end": "1011120"
  },
  {
    "text": "have to store it if you need to use a key more frequently you need it in a more accessible place and the the tough",
    "start": "1011120",
    "end": "1018709"
  },
  {
    "text": "keys scale reasonably well in this regard your time stamping key is probably held online somewhere likely in",
    "start": "1018709",
    "end": "1025459"
  },
  {
    "text": "a server that doesn't get any direct access from the broader internet but",
    "start": "1025459",
    "end": "1030530"
  },
  {
    "text": "it's gonna need to be time stamping you know automatically on a regular basis so this has the weakest security properties",
    "start": "1030530",
    "end": "1037220"
  },
  {
    "text": "at the other end of the scale your root key you should need very infrequently you typically only need this to resize",
    "start": "1037220",
    "end": "1044209"
  },
  {
    "text": "your root jason root JSON file when it's about to expire or when one of your",
    "start": "1044209",
    "end": "1050000"
  },
  {
    "text": "other keys has been compromised so you can store this somewhere like a bank vault and ideally put it on to signing",
    "start": "1050000",
    "end": "1056659"
  },
  {
    "text": "Hardware something like a UB key to bring it online when you actually need to do signing operations with it",
    "start": "1056659",
    "end": "1062169"
  },
  {
    "text": "furthermore if you want to add additional protection on top of this tuff supports a really cool idea of",
    "start": "1062169",
    "end": "1068150"
  },
  {
    "text": "thrush holding for any of the roles in my system I don't have to trust simply",
    "start": "1068150",
    "end": "1073820"
  },
  {
    "text": "one key I can define a set of keys and then have some subset of them be",
    "start": "1073820",
    "end": "1079820"
  },
  {
    "text": "required to actually create a valid piece of data so imagine you were",
    "start": "1079820",
    "end": "1085010"
  },
  {
    "text": "worried about our situation earlier where maybe the owner of the repository can be compelled to publish bad data I",
    "start": "1085010",
    "end": "1091400"
  },
  {
    "text": "could maybe generate 10 keys for signing a given role distribute them to ten",
    "start": "1091400",
    "end": "1097400"
  },
  {
    "text": "different countries around the world and require say four of them have to sign to",
    "start": "1097400",
    "end": "1102950"
  },
  {
    "text": "make any piece of data valid this makes it very difficult for somebody to be",
    "start": "1102950",
    "end": "1108320"
  },
  {
    "text": "compelled or even if one person doesn't implement good security practices the compromise of their individual key is",
    "start": "1108320",
    "end": "1114710"
  },
  {
    "text": "not enough to publish bad updates so for people who need high security environments this is an incredibly",
    "start": "1114710",
    "end": "1120590"
  },
  {
    "text": "powerful feature now we talked about how we get the initial bootstrapping of trust and much like how you get your CA",
    "start": "1120590",
    "end": "1128150"
  },
  {
    "text": "certificates there's like a single download point that you just you trust that one point in time you download it",
    "start": "1128150",
    "end": "1133250"
  },
  {
    "text": "over TLS whenever you download something that's going to use the update framework and this is purely an example here as",
    "start": "1133250",
    "end": "1139790"
  },
  {
    "text": "far as I know canonical is not using tough when you go download your abun to",
    "start": "1139790",
    "end": "1145670"
  },
  {
    "text": "ISO you would get an initial route JSON file as part of that download and every",
    "start": "1145670",
    "end": "1151760"
  },
  {
    "text": "subsequent update you do to your tough repository you bootstraps with this initial route Jason that you downloaded",
    "start": "1151760",
    "end": "1157910"
  },
  {
    "text": "so let's have a look at what that actual update flow looks like from my pinned",
    "start": "1157910",
    "end": "1163010"
  },
  {
    "text": "root Jason I'm gonna go and download my time stamp file and I don't have any",
    "start": "1163010",
    "end": "1168170"
  },
  {
    "text": "other information about my time stamp file other than it should be small so I limit how much data I'm gonna download",
    "start": "1168170",
    "end": "1173240"
  },
  {
    "text": "that I verify that it's signed with my time stamping key that I have from my root or",
    "start": "1173240",
    "end": "1179270"
  },
  {
    "text": "Jason now my time stamp file contains a checksum of my snapshot remember my",
    "start": "1179270",
    "end": "1185150"
  },
  {
    "text": "snapshot is my inventory of everything else that's in the repository so for my time stamp I go and download my snapshot",
    "start": "1185150",
    "end": "1191720"
  },
  {
    "text": "and verify the checksum to make sure I have integrity I then also verify the",
    "start": "1191720",
    "end": "1197270"
  },
  {
    "text": "signature of the snapshot based on my route JSON file from my snapshot first I'm gonna make",
    "start": "1197270",
    "end": "1204500"
  },
  {
    "text": "sure that my route Jason is up-to-date because my snapshot will tell me if",
    "start": "1204500",
    "end": "1209630"
  },
  {
    "text": "there has been an update to the route Jason if there has been I'm gonna go and download the updated route Jason run",
    "start": "1209630",
    "end": "1216110"
  },
  {
    "text": "through that key rotation check that I had see if any keys have changed and then replace my existing pinned route",
    "start": "1216110",
    "end": "1222350"
  },
  {
    "text": "Jason with the new one and start this update flow again so when I eventually get back to my snapshot file again I",
    "start": "1222350",
    "end": "1229060"
  },
  {
    "text": "then look up the checksum of my targets file go and download it verify the",
    "start": "1229060",
    "end": "1234200"
  },
  {
    "text": "integrity based on the checksum and verify the signature of my target's file and then using that key hierarchy we had",
    "start": "1234200",
    "end": "1240830"
  },
  {
    "text": "my targets file is going to tell me which delegations I have and which keys",
    "start": "1240830",
    "end": "1246110"
  },
  {
    "text": "are associated with those delegations while my snapshot is going to give me all of the check sums of the delegation",
    "start": "1246110",
    "end": "1252740"
  },
  {
    "text": "files and I'll use those pieces of information to go and basically download all of the delegations verify their",
    "start": "1252740",
    "end": "1259580"
  },
  {
    "text": "check sums and verify their signatures until I've downloaded the entire tree of my tuff repository so what does all of",
    "start": "1259580",
    "end": "1268850"
  },
  {
    "text": "this work give us in terms of improvements in our software distribution pipeline so yeah let's take",
    "start": "1268850",
    "end": "1275570"
  },
  {
    "start": "1272000",
    "end": "1438000"
  },
  {
    "text": "a look at what improvements tuff actually brings into the picture so",
    "start": "1275570",
    "end": "1281050"
  },
  {
    "text": "first of all whitelisting one of the best things about the tuff model is that",
    "start": "1281050",
    "end": "1286100"
  },
  {
    "text": "everything is based on Wireless we are inherently only trusting lot of things",
    "start": "1286100",
    "end": "1291380"
  },
  {
    "text": "and all the invalid things are emitted by deep by design by default and not",
    "start": "1291380",
    "end": "1297110"
  },
  {
    "text": "just updates to your packages but also updates to the keys that you use to",
    "start": "1297110",
    "end": "1302180"
  },
  {
    "text": "facilitate those updates and this leads us to improved key management as seen",
    "start": "1302180",
    "end": "1308720"
  },
  {
    "text": "earlier tuff provides a robust model for rotating and managing keys without the",
    "start": "1308720",
    "end": "1314090"
  },
  {
    "text": "consumers manually having to configure or setup anything and the updates are",
    "start": "1314090",
    "end": "1319490"
  },
  {
    "text": "pushed to the users in a timely manner as soon as they're published and this is",
    "start": "1319490",
    "end": "1324770"
  },
  {
    "text": "pretty awesome these timeline these timeliness guarantees solved the expired mirrored",
    "start": "1324770",
    "end": "1331190"
  },
  {
    "text": "problem that I mentioned earlier were the the server you were asking for updates room didn't",
    "start": "1331190",
    "end": "1336690"
  },
  {
    "text": "really know what the latest version was and was giving you the answer that is thought was right but it wasn't really",
    "start": "1336690",
    "end": "1342570"
  },
  {
    "text": "right all the mirrors and servers can be expected to have the latest updates for the consumers so now that we've talked",
    "start": "1342570",
    "end": "1351539"
  },
  {
    "text": "about what tough is and how it works you might be thinking how can I use it",
    "start": "1351539",
    "end": "1357210"
  },
  {
    "text": "so it is true that the update framework needs a lot of work from the spec to",
    "start": "1357210",
    "end": "1365250"
  },
  {
    "text": "signing to get to the state where you can just sign things but here's the good news we've done all the hard work for",
    "start": "1365250",
    "end": "1372000"
  },
  {
    "text": "you the the screen you see is basically",
    "start": "1372000",
    "end": "1377720"
  },
  {
    "text": "notary golang implementation that we a docker built and it was recently",
    "start": "1377720",
    "end": "1384389"
  },
  {
    "text": "accepted as a cnc if project it's open source and it is ready for use",
    "start": "1384389",
    "end": "1391440"
  },
  {
    "text": "let me quickly go through the architecture of notary to get an idea of",
    "start": "1391440",
    "end": "1397110"
  },
  {
    "text": "how it all comes together so notary has a client library for integration with",
    "start": "1397110",
    "end": "1402570"
  },
  {
    "text": "your use case as well as a CLI this CLI or client a talks to a notary server",
    "start": "1402570",
    "end": "1409399"
  },
  {
    "text": "which deals with storing and serving the sign metadata and it validates an update",
    "start": "1409399",
    "end": "1416490"
  },
  {
    "text": "when it is published to make sure it doesn't break anything the signer does",
    "start": "1416490",
    "end": "1421740"
  },
  {
    "text": "time stamping and time stamping involves signing keys and those keys are encrypted and stored in a database and",
    "start": "1421740",
    "end": "1430490"
  },
  {
    "text": "well that's a lot of like high-level overview words actually see this in a demo",
    "start": "1430490",
    "end": "1439039"
  },
  {
    "start": "1438000",
    "end": "1794000"
  },
  {
    "text": "okay so who's done this at some point in their life",
    "start": "1439039",
    "end": "1444480"
  },
  {
    "text": "come on like admit to it I think I think",
    "start": "1444480",
    "end": "1449799"
  },
  {
    "text": "there's a few people to embarrass to put their hands up in here like I roll in the same boat yeah we're all bad people",
    "start": "1449799",
    "end": "1455970"
  },
  {
    "text": "like Obama's displeased with us so let's have a look at how we can manage should",
    "start": "1455970",
    "end": "1463059"
  },
  {
    "text": "have closed some things before we saw the talk let's have a look at how we can improve on this oh it's not switching I",
    "start": "1463059",
    "end": "1468220"
  },
  {
    "text": "think you have to stop presenting yeah",
    "start": "1468220",
    "end": "1472380"
  },
  {
    "text": "and now nothing I can Windows all right",
    "start": "1474570",
    "end": "1494110"
  },
  {
    "text": "can everybody see that okay all the way the back all right great so you know let's let's do our little",
    "start": "1494110",
    "end": "1503320"
  },
  {
    "text": "Cal command totally trustworthy and yeah",
    "start": "1503320",
    "end": "1511690"
  },
  {
    "text": "that's not not what I expected fortunately this this is my website I",
    "start": "1511690",
    "end": "1517780"
  },
  {
    "text": "keep a backup of it but before I run an update let's actually initialize a tough repository sign the correct copy into",
    "start": "1517780",
    "end": "1525580"
  },
  {
    "text": "the tough repository publish that verify that it now blocks the download of the",
    "start": "1525580",
    "end": "1531970"
  },
  {
    "text": "bad data and then do our update and verify that we're getting the correct script so we have this notary CLA comes",
    "start": "1531970",
    "end": "1541150"
  },
  {
    "text": "with many many commands for key management dealing with change lists notary operates on a sort of changeless",
    "start": "1541150",
    "end": "1548740"
  },
  {
    "text": "concept or at stages changes before eventually publishing them and we have particularly we're going to be looking",
    "start": "1548740",
    "end": "1554590"
  },
  {
    "text": "at this command verify which actually allows us to just pipe through small amounts of data or use files if we have",
    "start": "1554590",
    "end": "1560890"
  },
  {
    "text": "larger amounts of data we're dealing with to make sure that something is good and as we expect so we're going to",
    "start": "1560890",
    "end": "1568299"
  },
  {
    "text": "initialize a repo and we're going to call it trustworthy calm because that's",
    "start": "1568299",
    "end": "1573700"
  },
  {
    "text": "the website we're gonna initialize it for and this is going to ask me for some so notary will attempt to reuse a root",
    "start": "1573700",
    "end": "1581799"
  },
  {
    "text": "key by default you can also give the CLI flags to tell it to use specific root",
    "start": "1581799",
    "end": "1588040"
  },
  {
    "text": "keys and then it's going to go and generate those targets and snapshot keys",
    "start": "1588040",
    "end": "1593679"
  },
  {
    "text": "that we had in the slides so it's going to ask me to enter the password twice for each of them just confirm and note",
    "start": "1593679",
    "end": "1602559"
  },
  {
    "text": "it didn't ask for a time stamping key later make sure we have time to get",
    "start": "1602559",
    "end": "1609010"
  },
  {
    "text": "through it but also it's in on the latest lines you have a cylon tomorrow which is also gonna be a great chance of",
    "start": "1609010",
    "end": "1614500"
  },
  {
    "text": "your time sorry so it didn't ask for time stamping key because it reached out to my notary",
    "start": "1614500",
    "end": "1620200"
  },
  {
    "text": "server and request at a time stamping key for our trustworthy comm repo and all of these keys are ECDSA with the P",
    "start": "1620200",
    "end": "1628570"
  },
  {
    "text": "256 curve by default if anybody's interested so I'm now going to add to",
    "start": "1628570",
    "end": "1636730"
  },
  {
    "text": "this repo my awesome script and this is",
    "start": "1636730",
    "end": "1642220"
  },
  {
    "text": "the name that I wanted to have of the target within the repository and then I'm going to give it the copy from my",
    "start": "1642220",
    "end": "1649210"
  },
  {
    "text": "backup to make sure that I'm getting the correct copy of it there's been staged",
    "start": "1649210",
    "end": "1654460"
  },
  {
    "text": "for publishing let's publish this",
    "start": "1654460",
    "end": "1658559"
  },
  {
    "text": "I wish okay it's gonna ask me for my targets key so I can actually sign in",
    "start": "1663399",
    "end": "1668739"
  },
  {
    "text": "that new package or that new script into my list of targets that I want to be",
    "start": "1668739",
    "end": "1673989"
  },
  {
    "text": "available and then it's going to ask me for the snapshot and key so I can update the inventory",
    "start": "1673989",
    "end": "1679479"
  },
  {
    "text": "note that the notary server and signer also support rotating the snapshot and key to the server which is really useful",
    "start": "1679479",
    "end": "1686499"
  },
  {
    "text": "in the case that you have lots of delegations that you're having to manage all right so this has it's been",
    "start": "1686499",
    "end": "1693190"
  },
  {
    "text": "published let's let's list it and just make sure that it's in there all right",
    "start": "1693190",
    "end": "1698830"
  },
  {
    "text": "perfect let's run that verify command and can",
    "start": "1698830",
    "end": "1705759"
  },
  {
    "text": "you tell I was testing this out earlier",
    "start": "1705759",
    "end": "1709169"
  },
  {
    "text": "so fantastic tells me that the data I'm trying to download does not match the",
    "start": "1712259",
    "end": "1717279"
  },
  {
    "text": "data in my trusted collection so let's restore from my backup and then just run",
    "start": "1717279",
    "end": "1728979"
  },
  {
    "text": "this again so it printed the script obviously we can actually pipe the end",
    "start": "1728979",
    "end": "1734259"
  },
  {
    "text": "of this to bash and it will execute bash gives a really unpleasant error message in the case of notary denying the script",
    "start": "1734259",
    "end": "1741549"
  },
  {
    "text": "so but if we can pipe it to bash and it runs my script and it's done a verification it's made sure that the",
    "start": "1741549",
    "end": "1747190"
  },
  {
    "text": "data we downloaded matched from the trustworthy comm repository the awesome",
    "start": "1747190",
    "end": "1753399"
  },
  {
    "text": "Sh target that we were trying to download now you can extend this out there is an integration called docker",
    "start": "1753399",
    "end": "1759789"
  },
  {
    "text": "content trust built into the docker CLI that does uses notary for signing docker",
    "start": "1759789",
    "end": "1766330"
  },
  {
    "text": "images that can be used against any docker registry if you happen to be at Daka enterprise customer that comes with",
    "start": "1766330",
    "end": "1773559"
  },
  {
    "text": "instances of the notary server and signer that you can already operate against and also comes with policy",
    "start": "1773559",
    "end": "1779139"
  },
  {
    "text": "management so you actually use these signatures to gate deployments going out to production sure all useful features",
    "start": "1779139",
    "end": "1785679"
  },
  {
    "text": "for high security environments all right so wrapping up and I think we will have",
    "start": "1785679",
    "end": "1792339"
  },
  {
    "text": "a minute questions sorry so um as I mentioned notary is is an",
    "start": "1792339",
    "end": "1801690"
  },
  {
    "text": "open source library it's part of the CN CF and if you all thought that this",
    "start": "1801690",
    "end": "1806700"
  },
  {
    "text": "looks really cool we invite you to come contribute there are a bunch of things",
    "start": "1806700",
    "end": "1813360"
  },
  {
    "text": "that we're looking into for the future of notary and it would be great to see you all tomorrow at 11:10 and in meeting",
    "start": "1813360",
    "end": "1822450"
  },
  {
    "text": "room for a indict us okay so yeah thank you it I'm not sure how much time do we",
    "start": "1822450",
    "end": "1828810"
  },
  {
    "text": "have for questions about four minutes so",
    "start": "1828810",
    "end": "1840090"
  },
  {
    "text": "we support other algorithms if you bring your own keys but really when I say",
    "start": "1840090",
    "end": "1845850"
  },
  {
    "text": "other algorithms RSA but it's we actually I like pat myself on the back I",
    "start": "1845850",
    "end": "1853050"
  },
  {
    "text": "feel like we did a reasonably good job of like abstracting the ciphers we support from the rest of the code base so it's if anybody wants to add",
    "start": "1853050",
    "end": "1861030"
  },
  {
    "text": "additional ciphers it is relatively straightforward and I think the certain",
    "start": "1861030",
    "end": "1869340"
  },
  {
    "text": "bits of the command line like the key generation commands definitely let you configure like which cipher to use and",
    "start": "1869340",
    "end": "1874380"
  },
  {
    "text": "then you can use those to then like tell it to use specific keys for specific",
    "start": "1874380",
    "end": "1879780"
  },
  {
    "text": "things we started off with ECDSA and RSA",
    "start": "1879780",
    "end": "1886200"
  },
  {
    "text": "with like RSA is the default and it's just so slow and every time you download you're doing at least like four",
    "start": "1886200",
    "end": "1892410"
  },
  {
    "text": "signature verifications which takes meaningful time when you're using RSA keys",
    "start": "1892410",
    "end": "1898700"
  },
  {
    "text": "anyway they publish um you could do that",
    "start": "1915130",
    "end": "1922330"
  },
  {
    "text": "through setting up your own signing so actually there's a really interesting you come to the Salim tomorrow the",
    "start": "1922330",
    "end": "1929559"
  },
  {
    "text": "update framework has an update mechanism called tuff enhancement proposals no top augmentation proposals taps there is a",
    "start": "1929559",
    "end": "1937000"
  },
  {
    "text": "proposal I don't think it's been merged yet for having multi repository trust so",
    "start": "1937000",
    "end": "1942940"
  },
  {
    "text": "you could actually have pi PI as like the official source of packages and then have your own trusted subset so that",
    "start": "1942940",
    "end": "1950770"
  },
  {
    "text": "like nobody can insert a package into your subset that isn't also in PI P I and then you can get that sort of like",
    "start": "1950770",
    "end": "1956320"
  },
  {
    "text": "bi-directional trust so yeah it's not in notary being debated I think still in",
    "start": "1956320",
    "end": "1963690"
  },
  {
    "text": "tough it's been accepted yeah sorry yeah",
    "start": "1963690",
    "end": "1973419"
  },
  {
    "text": "I think this gentleman has hand up next",
    "start": "1973419",
    "end": "1978539"
  },
  {
    "text": "so the architecture that helps so",
    "start": "1983640",
    "end": "1992130"
  },
  {
    "text": "fortunately docker images at least which I believe still conform to the OCI spec",
    "start": "1992130",
    "end": "1997780"
  },
  {
    "text": "and are intended to are actually a Merkle tree so every the manifest or the",
    "start": "1997780",
    "end": "2005549"
  },
  {
    "text": "multi arch manifest now sometimes called the manifest list contains check sums of",
    "start": "2005549",
    "end": "2011250"
  },
  {
    "text": "the layers the layers that are files that you go and download so it's we sign",
    "start": "2011250",
    "end": "2017730"
  },
  {
    "text": "in whatever the top level item is whether it's a multi arch manifest or a single architecture manifest and from",
    "start": "2017730",
    "end": "2023039"
  },
  {
    "text": "there you have checked sums of everything else that you need to go download specifically the metadata that that is a - dislike contains everything",
    "start": "2023039",
    "end": "2030570"
  },
  {
    "text": "that you need to make the signing work any",
    "start": "2030570",
    "end": "2037669"
  },
  {
    "text": "right there's what like one minute left if anybody has any more questions otherwise salon tomorrow yeah 11:10 for",
    "start": "2037880",
    "end": "2047750"
  },
  {
    "text": "a great chance to get more information Justin will be there will be there so",
    "start": "2047750",
    "end": "2053950"
  },
  {
    "text": "yeah hope you see tomorrow [Applause]",
    "start": "2053950",
    "end": "2059949"
  }
]