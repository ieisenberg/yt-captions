[
  {
    "text": "thank you for attending this session",
    "start": "80",
    "end": "3840"
  },
  {
    "text": "i'm very excited to be here at kubecon",
    "start": "3840",
    "end": "6560"
  },
  {
    "text": "cloudnativecon",
    "start": "6560",
    "end": "7919"
  },
  {
    "text": "virtually and today i'm going to tell",
    "start": "7919",
    "end": "11360"
  },
  {
    "text": "you about",
    "start": "11360",
    "end": "12400"
  },
  {
    "text": "a different approach to upgrade your",
    "start": "12400",
    "end": "14960"
  },
  {
    "text": "kubernetes clusters",
    "start": "14960",
    "end": "16800"
  },
  {
    "text": "maybe it's different maybe it's new a",
    "start": "16800",
    "end": "19279"
  },
  {
    "text": "blue and green approach",
    "start": "19279",
    "end": "20720"
  },
  {
    "text": "as opposed to having an in-place",
    "start": "20720",
    "end": "23920"
  },
  {
    "text": "upgrade",
    "start": "23920",
    "end": "26320"
  },
  {
    "text": "so i'm going to start with a couple of",
    "start": "28000",
    "end": "30640"
  },
  {
    "text": "questions",
    "start": "30640",
    "end": "32078"
  },
  {
    "text": "how many of you have had to upgrade a",
    "start": "32079",
    "end": "34640"
  },
  {
    "text": "kubernetes cluster",
    "start": "34640",
    "end": "36239"
  },
  {
    "text": "in the last few years i would imagine",
    "start": "36239",
    "end": "39120"
  },
  {
    "text": "quite a few people",
    "start": "39120",
    "end": "40079"
  },
  {
    "text": "in the audience kubernetes is a very",
    "start": "40079",
    "end": "43360"
  },
  {
    "text": "popular tool in project it's being used",
    "start": "43360",
    "end": "47039"
  },
  {
    "text": "in a lot of different organizations",
    "start": "47039",
    "end": "49520"
  },
  {
    "text": "so you probably run into this problem",
    "start": "49520",
    "end": "52480"
  },
  {
    "text": "more than once",
    "start": "52480",
    "end": "55199"
  },
  {
    "text": "another question is how many of you have",
    "start": "55680",
    "end": "58879"
  },
  {
    "text": "had to do",
    "start": "58879",
    "end": "60320"
  },
  {
    "text": "these upgrades and",
    "start": "60320",
    "end": "63680"
  },
  {
    "text": "have had no issues at all",
    "start": "63680",
    "end": "67680"
  },
  {
    "text": "i would imagine not that many people",
    "start": "68159",
    "end": "71119"
  },
  {
    "text": "kubernetes is a distributed system",
    "start": "71119",
    "end": "73119"
  },
  {
    "text": "and it has a little a lot of different",
    "start": "73119",
    "end": "76400"
  },
  {
    "text": "components",
    "start": "76400",
    "end": "78560"
  },
  {
    "text": "so it's a complicated system",
    "start": "78560",
    "end": "81840"
  },
  {
    "text": "so this is what the talk is about",
    "start": "81840",
    "end": "87280"
  },
  {
    "text": "a little bit of about myself i",
    "start": "87280",
    "end": "90799"
  },
  {
    "text": "work at rakuten and i'm an sre manager",
    "start": "90799",
    "end": "93759"
  },
  {
    "text": "there and",
    "start": "93759",
    "end": "94880"
  },
  {
    "text": "we run kubernetes clusters in several",
    "start": "94880",
    "end": "97759"
  },
  {
    "text": "environments",
    "start": "97759",
    "end": "99680"
  },
  {
    "text": "i'm also a co-chair for the cncf sig",
    "start": "99680",
    "end": "102880"
  },
  {
    "text": "runtime",
    "start": "102880",
    "end": "104320"
  },
  {
    "text": "and i've been a kata containers",
    "start": "104320",
    "end": "106079"
  },
  {
    "text": "contributor for the last",
    "start": "106079",
    "end": "107600"
  },
  {
    "text": "couple of years",
    "start": "107600",
    "end": "110320"
  },
  {
    "text": "some of what we'll be talking about",
    "start": "112159",
    "end": "113920"
  },
  {
    "text": "today",
    "start": "113920",
    "end": "115759"
  },
  {
    "text": "includes the kubernetes components we'll",
    "start": "115759",
    "end": "118880"
  },
  {
    "text": "be",
    "start": "118880",
    "end": "119280"
  },
  {
    "text": "brief briefly talk about the control",
    "start": "119280",
    "end": "121280"
  },
  {
    "text": "plane",
    "start": "121280",
    "end": "122479"
  },
  {
    "text": "and the data plane then we'll talk about",
    "start": "122479",
    "end": "125759"
  },
  {
    "text": "some of these upgrade problems",
    "start": "125759",
    "end": "128800"
  },
  {
    "text": "then some solutions to these upgrade",
    "start": "128800",
    "end": "130720"
  },
  {
    "text": "problems together with some tools",
    "start": "130720",
    "end": "133920"
  },
  {
    "text": "then what it might look like in",
    "start": "133920",
    "end": "136000"
  },
  {
    "text": "production",
    "start": "136000",
    "end": "137040"
  },
  {
    "text": "having all these tools together with the",
    "start": "137040",
    "end": "138879"
  },
  {
    "text": "solutions",
    "start": "138879",
    "end": "141120"
  },
  {
    "text": "what it may look like in terms of the",
    "start": "141120",
    "end": "142800"
  },
  {
    "text": "tools",
    "start": "142800",
    "end": "144800"
  },
  {
    "text": "and approaches in the future",
    "start": "144800",
    "end": "149120"
  },
  {
    "text": "as far as these upgrades are concerned",
    "start": "149120",
    "end": "151760"
  },
  {
    "text": "and finally i'll provide some",
    "start": "151760",
    "end": "154840"
  },
  {
    "text": "takeaways",
    "start": "154840",
    "end": "157280"
  },
  {
    "text": "so the kubernetes control plane",
    "start": "157280",
    "end": "160480"
  },
  {
    "text": "so typically you have either a three",
    "start": "160480",
    "end": "163760"
  },
  {
    "text": "main node setup or a five main node",
    "start": "163760",
    "end": "166640"
  },
  {
    "text": "setup i change the terminology here from",
    "start": "166640",
    "end": "168800"
  },
  {
    "text": "main",
    "start": "168800",
    "end": "169440"
  },
  {
    "text": "or from master domain",
    "start": "169440",
    "end": "172560"
  },
  {
    "text": "so in every main node you have all these",
    "start": "172640",
    "end": "174720"
  },
  {
    "text": "different components you have an",
    "start": "174720",
    "end": "175920"
  },
  {
    "text": "api server you have a scheduler you have",
    "start": "175920",
    "end": "179120"
  },
  {
    "text": "the cloud controller controller manager",
    "start": "179120",
    "end": "182800"
  },
  {
    "text": "so several different components",
    "start": "182800",
    "end": "186239"
  },
  {
    "text": "now when you have a kubernetes version",
    "start": "188400",
    "end": "190560"
  },
  {
    "text": "let's say you have 117",
    "start": "190560",
    "end": "193200"
  },
  {
    "text": "all of these components typically have",
    "start": "193200",
    "end": "195840"
  },
  {
    "text": "that same version",
    "start": "195840",
    "end": "197360"
  },
  {
    "text": "api servers 117 schedule schedulers 117",
    "start": "197360",
    "end": "201680"
  },
  {
    "text": "and so forth so that's a recommended way",
    "start": "201680",
    "end": "204640"
  },
  {
    "text": "of running kubernetes it doesn't mean",
    "start": "204640",
    "end": "206319"
  },
  {
    "text": "everybody does it that way",
    "start": "206319",
    "end": "208319"
  },
  {
    "text": "but that's what you typically have",
    "start": "208319",
    "end": "213840"
  },
  {
    "text": "similarly the data plane also has",
    "start": "214720",
    "end": "217840"
  },
  {
    "text": "its components with its own unique",
    "start": "217840",
    "end": "220480"
  },
  {
    "text": "versions",
    "start": "220480",
    "end": "221200"
  },
  {
    "text": "so the data plane consists of your",
    "start": "221200",
    "end": "224879"
  },
  {
    "text": "kubernetes nodes",
    "start": "224879",
    "end": "226000"
  },
  {
    "text": "in each node you have your cube led",
    "start": "226000",
    "end": "229599"
  },
  {
    "text": "you have a cube proxy you may have other",
    "start": "229599",
    "end": "232239"
  },
  {
    "text": "components like your container runtime",
    "start": "232239",
    "end": "233840"
  },
  {
    "text": "or some other",
    "start": "233840",
    "end": "234720"
  },
  {
    "text": "specific things",
    "start": "234720",
    "end": "237519"
  },
  {
    "text": "and if you have a version there",
    "start": "238159",
    "end": "240080"
  },
  {
    "text": "kubernetes version",
    "start": "240080",
    "end": "241840"
  },
  {
    "text": "117 that would be also the version of",
    "start": "241840",
    "end": "244720"
  },
  {
    "text": "the cubelet and your cube proxy",
    "start": "244720",
    "end": "246879"
  },
  {
    "text": "so you have these matching versions",
    "start": "246879",
    "end": "250159"
  },
  {
    "text": "so that's the control plane in the data",
    "start": "250159",
    "end": "252319"
  },
  {
    "text": "planes for kubernetes",
    "start": "252319",
    "end": "255840"
  },
  {
    "text": "so what are some of the upgrade problems",
    "start": "256400",
    "end": "257919"
  },
  {
    "text": "that you can run into",
    "start": "257919",
    "end": "260799"
  },
  {
    "text": "for your kubernetes clusters",
    "start": "261199",
    "end": "264639"
  },
  {
    "text": "so this is a tweet from last year from",
    "start": "265520",
    "end": "267440"
  },
  {
    "text": "stefan",
    "start": "267440",
    "end": "269360"
  },
  {
    "text": "and basically he says i upgraded gke",
    "start": "269360",
    "end": "272000"
  },
  {
    "text": "from 113 or",
    "start": "272000",
    "end": "273360"
  },
  {
    "text": "to 113 and he had istio running",
    "start": "273360",
    "end": "277520"
  },
  {
    "text": "1.0 and then went over to 1.1",
    "start": "277520",
    "end": "282160"
  },
  {
    "text": "as soon as it did that component started",
    "start": "282160",
    "end": "284880"
  },
  {
    "text": "crashing",
    "start": "284880",
    "end": "286800"
  },
  {
    "text": "some of the tls handshakes started to",
    "start": "286800",
    "end": "288800"
  },
  {
    "text": "time out",
    "start": "288800",
    "end": "291040"
  },
  {
    "text": "so these are the type of things that you",
    "start": "291040",
    "end": "293120"
  },
  {
    "text": "may run into",
    "start": "293120",
    "end": "294560"
  },
  {
    "text": "and then he had to start the things in a",
    "start": "294560",
    "end": "297040"
  },
  {
    "text": "special order",
    "start": "297040",
    "end": "298639"
  },
  {
    "text": "to make it work",
    "start": "298639",
    "end": "301360"
  },
  {
    "text": "so the the problems are",
    "start": "304240",
    "end": "307600"
  },
  {
    "text": "related to several things you have",
    "start": "307600",
    "end": "310560"
  },
  {
    "text": "different kubernetes api",
    "start": "310560",
    "end": "311919"
  },
  {
    "text": "versions that change",
    "start": "311919",
    "end": "315199"
  },
  {
    "text": "between different major kubernetes or",
    "start": "315199",
    "end": "317680"
  },
  {
    "text": "versions",
    "start": "317680",
    "end": "318400"
  },
  {
    "text": "so you have the alpha then you have beta",
    "start": "318400",
    "end": "320880"
  },
  {
    "text": "and finally once a release where",
    "start": "320880",
    "end": "322800"
  },
  {
    "text": "a resource is promoted it becomes stable",
    "start": "322800",
    "end": "326880"
  },
  {
    "text": "so it goes from b1 beta 1 to b1 for",
    "start": "326880",
    "end": "329680"
  },
  {
    "text": "example",
    "start": "329680",
    "end": "332080"
  },
  {
    "text": "then the cycle goes like this you have",
    "start": "334240",
    "end": "335919"
  },
  {
    "text": "an api group",
    "start": "335919",
    "end": "337280"
  },
  {
    "text": "it goes from b1 alpha 1 and then",
    "start": "337280",
    "end": "341039"
  },
  {
    "text": "it keeps upgrading until d1 alpha 2",
    "start": "341039",
    "end": "344080"
  },
  {
    "text": "and alpha n and then when the community",
    "start": "344080",
    "end": "347120"
  },
  {
    "text": "decides that",
    "start": "347120",
    "end": "348880"
  },
  {
    "text": "it's beta-like then it gets promoted to",
    "start": "348880",
    "end": "352000"
  },
  {
    "text": "beta and that becomes beta1",
    "start": "352000",
    "end": "354000"
  },
  {
    "text": "until beta n and finally when the",
    "start": "354000",
    "end": "356319"
  },
  {
    "text": "community decides that it's",
    "start": "356319",
    "end": "357919"
  },
  {
    "text": "stable it decides to promote it to v1",
    "start": "357919",
    "end": "361120"
  },
  {
    "text": "and then the cycle continues for v2 so",
    "start": "361120",
    "end": "364479"
  },
  {
    "text": "v2 alpha 1",
    "start": "364479",
    "end": "365680"
  },
  {
    "text": "and v2 beta and so forth",
    "start": "365680",
    "end": "369520"
  },
  {
    "text": "so another problem here describing the",
    "start": "370880",
    "end": "373039"
  },
  {
    "text": "release notes",
    "start": "373039",
    "end": "374319"
  },
  {
    "text": "for kubernetes 117.",
    "start": "374319",
    "end": "377759"
  },
  {
    "text": "so you have the r back v1 alpha 1",
    "start": "377759",
    "end": "382400"
  },
  {
    "text": "and b1 beta1 are deprecated",
    "start": "382400",
    "end": "387039"
  },
  {
    "text": "and they will be completely removed in",
    "start": "387039",
    "end": "389759"
  },
  {
    "text": "120",
    "start": "389759",
    "end": "391759"
  },
  {
    "text": "so in favor of v1 so that means if you",
    "start": "391759",
    "end": "394800"
  },
  {
    "text": "have",
    "start": "394800",
    "end": "395360"
  },
  {
    "text": "api definitions resources",
    "start": "395360",
    "end": "399680"
  },
  {
    "text": "are back resources with d1 beta 1 of v1",
    "start": "399680",
    "end": "403360"
  },
  {
    "text": "alpha 1 when you upgrade your cluster",
    "start": "403360",
    "end": "406800"
  },
  {
    "text": "some of these resources may not work",
    "start": "406800",
    "end": "408800"
  },
  {
    "text": "maybe some of your parts may not work",
    "start": "408800",
    "end": "411680"
  },
  {
    "text": "some of your users might not be able to",
    "start": "411680",
    "end": "413120"
  },
  {
    "text": "log in",
    "start": "413120",
    "end": "415360"
  },
  {
    "text": "so another problem described here",
    "start": "415360",
    "end": "418639"
  },
  {
    "text": "it's kubernetes plugins in this case aws",
    "start": "418639",
    "end": "421440"
  },
  {
    "text": "ebs",
    "start": "421440",
    "end": "423840"
  },
  {
    "text": "it says that it will be completely",
    "start": "425280",
    "end": "427520"
  },
  {
    "text": "removing 121",
    "start": "427520",
    "end": "429280"
  },
  {
    "text": "in favor of csi container storage",
    "start": "429280",
    "end": "432240"
  },
  {
    "text": "interface",
    "start": "432240",
    "end": "434319"
  },
  {
    "text": "so if you have that plug-in with aws eds",
    "start": "434319",
    "end": "437360"
  },
  {
    "text": "maybe you have some volumes like ebs",
    "start": "437360",
    "end": "440319"
  },
  {
    "text": "volumes running",
    "start": "440319",
    "end": "441360"
  },
  {
    "text": "in your kubernetes clusters and you",
    "start": "441360",
    "end": "443360"
  },
  {
    "text": "upgrade to 121",
    "start": "443360",
    "end": "445520"
  },
  {
    "text": "you'll have unpredictable results you",
    "start": "445520",
    "end": "447759"
  },
  {
    "text": "some things",
    "start": "447759",
    "end": "448560"
  },
  {
    "text": "are not necessarily going to work",
    "start": "448560",
    "end": "452080"
  },
  {
    "text": "so this is the r back example",
    "start": "453919",
    "end": "456960"
  },
  {
    "text": "so if you have 117 and let's say you go",
    "start": "456960",
    "end": "460000"
  },
  {
    "text": "to",
    "start": "460000",
    "end": "460400"
  },
  {
    "text": "120 when b1 beta1 is removed",
    "start": "460400",
    "end": "465120"
  },
  {
    "text": "so you forget to update that definition",
    "start": "465120",
    "end": "468160"
  },
  {
    "text": "to restart your cluster maybe your",
    "start": "468160",
    "end": "470160"
  },
  {
    "text": "user's not able to",
    "start": "470160",
    "end": "471680"
  },
  {
    "text": "list spots or see the pod locks",
    "start": "471680",
    "end": "478879"
  },
  {
    "text": "so basically your cluster is not happy",
    "start": "478879",
    "end": "481680"
  },
  {
    "text": "some things will crash",
    "start": "481680",
    "end": "484960"
  },
  {
    "text": "so ideally you want to do this ahead of",
    "start": "486000",
    "end": "488319"
  },
  {
    "text": "time right so you want to",
    "start": "488319",
    "end": "491280"
  },
  {
    "text": "change the definition from vba to",
    "start": "491280",
    "end": "495039"
  },
  {
    "text": "beta1 to d1 so by the time you do that",
    "start": "495039",
    "end": "499120"
  },
  {
    "text": "upgrade",
    "start": "499120",
    "end": "501520"
  },
  {
    "text": "everything is great nice and happy",
    "start": "501759",
    "end": "506639"
  },
  {
    "text": "you're able to log into your clusters",
    "start": "506639",
    "end": "508319"
  },
  {
    "text": "etc",
    "start": "508319",
    "end": "510879"
  },
  {
    "text": "so kubernetes has several components",
    "start": "512240",
    "end": "515599"
  },
  {
    "text": "and each one of these components have",
    "start": "515599",
    "end": "517440"
  },
  {
    "text": "several versions just like i described",
    "start": "517440",
    "end": "519200"
  },
  {
    "text": "before",
    "start": "519200",
    "end": "521120"
  },
  {
    "text": "so you have maybe kubernetes api 117",
    "start": "521120",
    "end": "524720"
  },
  {
    "text": "and it also supports certain versions",
    "start": "524720",
    "end": "526480"
  },
  {
    "text": "cues",
    "start": "526480",
    "end": "528000"
  },
  {
    "text": "so the cubelet 116 and 117 will be able",
    "start": "528000",
    "end": "531120"
  },
  {
    "text": "to connect",
    "start": "531120",
    "end": "531920"
  },
  {
    "text": "to 117. with no problems or the way it's",
    "start": "531920",
    "end": "535360"
  },
  {
    "text": "supported",
    "start": "535360",
    "end": "536480"
  },
  {
    "text": "but if you have something like a cube",
    "start": "536480",
    "end": "538240"
  },
  {
    "text": "like 114 or 115",
    "start": "538240",
    "end": "540959"
  },
  {
    "text": "you'll also have these problems so you",
    "start": "540959",
    "end": "543680"
  },
  {
    "text": "mean",
    "start": "543680",
    "end": "544800"
  },
  {
    "text": "it's more on unpredictability so that's",
    "start": "544800",
    "end": "548240"
  },
  {
    "text": "why it's recommended to have these",
    "start": "548240",
    "end": "549920"
  },
  {
    "text": "versions all together but",
    "start": "549920",
    "end": "551920"
  },
  {
    "text": "some people decide not to do it but if",
    "start": "551920",
    "end": "554959"
  },
  {
    "text": "you do",
    "start": "554959",
    "end": "555600"
  },
  {
    "text": "you have to be careful of uh",
    "start": "555600",
    "end": "558720"
  },
  {
    "text": "watching for these versions cues",
    "start": "558720",
    "end": "560959"
  },
  {
    "text": "similarly with cube ctl",
    "start": "560959",
    "end": "563279"
  },
  {
    "text": "if you have an older version say you're",
    "start": "563279",
    "end": "565200"
  },
  {
    "text": "running kubernetes 117",
    "start": "565200",
    "end": "566959"
  },
  {
    "text": "but your cube ctl is 115 and maybe",
    "start": "566959",
    "end": "569839"
  },
  {
    "text": "you're using cube ctl in your ci cd",
    "start": "569839",
    "end": "572240"
  },
  {
    "text": "system to do tasks to do deployments",
    "start": "572240",
    "end": "576080"
  },
  {
    "text": "and then maybe things will not work",
    "start": "576080",
    "end": "578000"
  },
  {
    "text": "because there's",
    "start": "578000",
    "end": "579839"
  },
  {
    "text": "it it's not compatible right so there",
    "start": "579839",
    "end": "582000"
  },
  {
    "text": "may be some issues there",
    "start": "582000",
    "end": "584240"
  },
  {
    "text": "same with the other kubernetes",
    "start": "584240",
    "end": "585519"
  },
  {
    "text": "components like the controller manager",
    "start": "585519",
    "end": "587120"
  },
  {
    "text": "the scheduler",
    "start": "587120",
    "end": "588839"
  },
  {
    "text": "etc",
    "start": "588839",
    "end": "591839"
  },
  {
    "text": "so what are some of the solutions for",
    "start": "592320",
    "end": "594720"
  },
  {
    "text": "these kubernetes clusters",
    "start": "594720",
    "end": "596640"
  },
  {
    "text": "upgrades",
    "start": "596640",
    "end": "599120"
  },
  {
    "text": "so first you have that in place upgrade",
    "start": "600399",
    "end": "603120"
  },
  {
    "text": "so this is a control",
    "start": "603120",
    "end": "604079"
  },
  {
    "text": "plane and then you have that 117 version",
    "start": "604079",
    "end": "607040"
  },
  {
    "text": "like i was described in the beginning",
    "start": "607040",
    "end": "609120"
  },
  {
    "text": "and you have all these components with",
    "start": "609120",
    "end": "610720"
  },
  {
    "text": "117.",
    "start": "610720",
    "end": "613519"
  },
  {
    "text": "so typically you want to do the upgrade",
    "start": "613519",
    "end": "616959"
  },
  {
    "text": "gradually right so",
    "start": "616959",
    "end": "620160"
  },
  {
    "text": "initially you start with your nodes or",
    "start": "620880",
    "end": "623360"
  },
  {
    "text": "your map",
    "start": "623360",
    "end": "623920"
  },
  {
    "text": "your main nodes that are not the leaders",
    "start": "623920",
    "end": "626959"
  },
  {
    "text": "okay so you start with the nodes on the",
    "start": "626959",
    "end": "629600"
  },
  {
    "text": "left and the right here",
    "start": "629600",
    "end": "632320"
  },
  {
    "text": "so the leader is still there so",
    "start": "632320",
    "end": "634959"
  },
  {
    "text": "potentially you can still make decisions",
    "start": "634959",
    "end": "636800"
  },
  {
    "text": "if you have a four or five node",
    "start": "636800",
    "end": "640000"
  },
  {
    "text": "uh kubernetes control plane then you",
    "start": "640000",
    "end": "642800"
  },
  {
    "text": "start",
    "start": "642800",
    "end": "643440"
  },
  {
    "text": "with the nodes that are not deleted you",
    "start": "643440",
    "end": "644880"
  },
  {
    "text": "identify which one the leader is",
    "start": "644880",
    "end": "648320"
  },
  {
    "text": "and then you upgrade that leader",
    "start": "648399",
    "end": "652160"
  },
  {
    "text": "but when you upgrade that leader these",
    "start": "652160",
    "end": "655279"
  },
  {
    "text": "components have to be restarted",
    "start": "655279",
    "end": "658480"
  },
  {
    "text": "i'm also not showing a tv here but also",
    "start": "658480",
    "end": "660640"
  },
  {
    "text": "a lot of",
    "start": "660640",
    "end": "661600"
  },
  {
    "text": "people run xd in their control plane so",
    "start": "661600",
    "end": "664560"
  },
  {
    "text": "that component is also restarted",
    "start": "664560",
    "end": "667600"
  },
  {
    "text": "and when that happens that's not the",
    "start": "667600",
    "end": "669760"
  },
  {
    "text": "leader anymore so a new typically a new",
    "start": "669760",
    "end": "672320"
  },
  {
    "text": "leader",
    "start": "672320",
    "end": "672800"
  },
  {
    "text": "gets elected right so",
    "start": "672800",
    "end": "675839"
  },
  {
    "text": "maybe the one on the right becomes a new",
    "start": "675839",
    "end": "679760"
  },
  {
    "text": "leader right",
    "start": "679760",
    "end": "681440"
  },
  {
    "text": "so when this happens and you're doing",
    "start": "681440",
    "end": "684959"
  },
  {
    "text": "the upgrade you have workloads running",
    "start": "684959",
    "end": "687360"
  },
  {
    "text": "and maybe",
    "start": "687360",
    "end": "688160"
  },
  {
    "text": "things being scheduled",
    "start": "688160",
    "end": "691200"
  },
  {
    "text": "so you might run into something like",
    "start": "691200",
    "end": "692640"
  },
  {
    "text": "this so you have crash loop back",
    "start": "692640",
    "end": "695360"
  },
  {
    "text": "off in some pots you have some",
    "start": "695360",
    "end": "698399"
  },
  {
    "text": "containers or pots running in pending",
    "start": "698399",
    "end": "700839"
  },
  {
    "text": "state some of them run in",
    "start": "700839",
    "end": "703600"
  },
  {
    "text": "with no problems but then",
    "start": "703600",
    "end": "706800"
  },
  {
    "text": "some things are not going to work the",
    "start": "706800",
    "end": "708000"
  },
  {
    "text": "way you want to",
    "start": "708000",
    "end": "710720"
  },
  {
    "text": "so another solution having blue and",
    "start": "711360",
    "end": "713040"
  },
  {
    "text": "green clusters",
    "start": "713040",
    "end": "715440"
  },
  {
    "text": "so in this reply kelsey hightower last",
    "start": "715440",
    "end": "718160"
  },
  {
    "text": "year",
    "start": "718160",
    "end": "718480"
  },
  {
    "text": "said that for this type of uh",
    "start": "718480",
    "end": "721519"
  },
  {
    "text": "uh issues when you upgrade",
    "start": "721519",
    "end": "724959"
  },
  {
    "text": "it's better to have more than just one",
    "start": "724959",
    "end": "726880"
  },
  {
    "text": "production cluster",
    "start": "726880",
    "end": "729360"
  },
  {
    "text": "than your actual only cluster",
    "start": "729360",
    "end": "733279"
  },
  {
    "text": "so solution is to have a blue and green",
    "start": "733279",
    "end": "735839"
  },
  {
    "text": "cluster",
    "start": "735839",
    "end": "736320"
  },
  {
    "text": "uh ability to switch between different",
    "start": "736320",
    "end": "739360"
  },
  {
    "text": "clusters",
    "start": "739360",
    "end": "740240"
  },
  {
    "text": "but you can also do use that for",
    "start": "740240",
    "end": "742160"
  },
  {
    "text": "kubernetes upgrades",
    "start": "742160",
    "end": "745839"
  },
  {
    "text": "so in a blue and green cluster approach",
    "start": "747200",
    "end": "749360"
  },
  {
    "text": "you have your main nodes here",
    "start": "749360",
    "end": "752399"
  },
  {
    "text": "and they're running 117 also with the",
    "start": "752399",
    "end": "755200"
  },
  {
    "text": "same",
    "start": "755200",
    "end": "755600"
  },
  {
    "text": "components running 17 117 api server",
    "start": "755600",
    "end": "759200"
  },
  {
    "text": "the controller manager the scheduler",
    "start": "759200",
    "end": "762880"
  },
  {
    "text": "and then you have a completely different",
    "start": "763360",
    "end": "765920"
  },
  {
    "text": "cluster",
    "start": "765920",
    "end": "767040"
  },
  {
    "text": "with all these components again with 118",
    "start": "767040",
    "end": "771120"
  },
  {
    "text": "api servers 118 here so a completely",
    "start": "771120",
    "end": "773920"
  },
  {
    "text": "separate environment",
    "start": "773920",
    "end": "776880"
  },
  {
    "text": "so this is your control plane and then",
    "start": "778560",
    "end": "780320"
  },
  {
    "text": "you have the two different control",
    "start": "780320",
    "end": "782000"
  },
  {
    "text": "planes separately",
    "start": "782000",
    "end": "784399"
  },
  {
    "text": "and side by side",
    "start": "784399",
    "end": "787839"
  },
  {
    "text": "and you can gradually you know if you",
    "start": "788079",
    "end": "791200"
  },
  {
    "text": "haven't side by side",
    "start": "791200",
    "end": "792160"
  },
  {
    "text": "start copying some of the workloads",
    "start": "792160",
    "end": "795360"
  },
  {
    "text": "say from 117 to 118.",
    "start": "795360",
    "end": "800240"
  },
  {
    "text": "so you have your deployments your",
    "start": "800240",
    "end": "802560"
  },
  {
    "text": "stateful sets",
    "start": "802560",
    "end": "804399"
  },
  {
    "text": "your parts your secrets whatever you",
    "start": "804399",
    "end": "806880"
  },
  {
    "text": "need to run your workloads and then you",
    "start": "806880",
    "end": "809279"
  },
  {
    "text": "copy them over to the new cluster",
    "start": "809279",
    "end": "814000"
  },
  {
    "text": "and then once you're done copying over",
    "start": "814000",
    "end": "815760"
  },
  {
    "text": "all these uh",
    "start": "815760",
    "end": "817279"
  },
  {
    "text": "workloads you can just get rid of the",
    "start": "817279",
    "end": "819839"
  },
  {
    "text": "old cluster",
    "start": "819839",
    "end": "820639"
  },
  {
    "text": "and so get rid of your blue cluster",
    "start": "820639",
    "end": "824320"
  },
  {
    "text": "and this can happen interchangeably so",
    "start": "824320",
    "end": "826240"
  },
  {
    "text": "now 118",
    "start": "826240",
    "end": "827440"
  },
  {
    "text": "becomes your green and then in the next",
    "start": "827440",
    "end": "829519"
  },
  {
    "text": "kubernetes release",
    "start": "829519",
    "end": "831279"
  },
  {
    "text": "release you you could have a blue",
    "start": "831279",
    "end": "833440"
  },
  {
    "text": "cluster that is 119.",
    "start": "833440",
    "end": "836720"
  },
  {
    "text": "similarly you do the same for",
    "start": "837279",
    "end": "840560"
  },
  {
    "text": "your kubernetes data plane so you have a",
    "start": "840560",
    "end": "843199"
  },
  {
    "text": "kubernetes nodes",
    "start": "843199",
    "end": "845519"
  },
  {
    "text": "you move your workloads from the ones",
    "start": "845519",
    "end": "848399"
  },
  {
    "text": "running to 117",
    "start": "848399",
    "end": "849600"
  },
  {
    "text": "or you copy them over to the nodes",
    "start": "849600",
    "end": "852480"
  },
  {
    "text": "running",
    "start": "852480",
    "end": "854800"
  },
  {
    "text": "118.",
    "start": "854839",
    "end": "856560"
  },
  {
    "text": "and then when you're done you also get",
    "start": "856560",
    "end": "858639"
  },
  {
    "text": "rid of the 117 nodes",
    "start": "858639",
    "end": "860720"
  },
  {
    "text": "and you're done and maybe you can start",
    "start": "860720",
    "end": "862480"
  },
  {
    "text": "up a new kubernetes cluster if 119 is",
    "start": "862480",
    "end": "865199"
  },
  {
    "text": "out there you can start a new one to be",
    "start": "865199",
    "end": "867040"
  },
  {
    "text": "ready and to",
    "start": "867040",
    "end": "868240"
  },
  {
    "text": "for the next upgrade of course you need",
    "start": "868240",
    "end": "869760"
  },
  {
    "text": "to keep up to date with the different",
    "start": "869760",
    "end": "871519"
  },
  {
    "text": "patches of",
    "start": "871519",
    "end": "872959"
  },
  {
    "text": "that 119 version if you want to keep",
    "start": "872959",
    "end": "875360"
  },
  {
    "text": "that cluster running",
    "start": "875360",
    "end": "877199"
  },
  {
    "text": "for some time so other blue and green",
    "start": "877199",
    "end": "880800"
  },
  {
    "text": "approaches or tools that you can use for",
    "start": "880800",
    "end": "883040"
  },
  {
    "text": "blue and green cluster upgrades you can",
    "start": "883040",
    "end": "885120"
  },
  {
    "text": "use federation v2",
    "start": "885120",
    "end": "886800"
  },
  {
    "text": "right now it's in alpha so it allows you",
    "start": "886800",
    "end": "889120"
  },
  {
    "text": "to have kubernetes clusters in different",
    "start": "889120",
    "end": "890880"
  },
  {
    "text": "regions",
    "start": "890880",
    "end": "892560"
  },
  {
    "text": "so you could have a kubernetes cluster",
    "start": "892560",
    "end": "894399"
  },
  {
    "text": "in california",
    "start": "894399",
    "end": "896399"
  },
  {
    "text": "and then a kubernetes cluster in oregon",
    "start": "896399",
    "end": "899839"
  },
  {
    "text": "and then do that switch over that way so",
    "start": "899839",
    "end": "902000"
  },
  {
    "text": "you have federation and then",
    "start": "902000",
    "end": "904399"
  },
  {
    "text": "using these tools to help you out",
    "start": "904399",
    "end": "907440"
  },
  {
    "text": "migrate some of the workloads and do the",
    "start": "907440",
    "end": "908959"
  },
  {
    "text": "switch over",
    "start": "908959",
    "end": "910480"
  },
  {
    "text": "also link rd has cluster mirroring that",
    "start": "910480",
    "end": "913440"
  },
  {
    "text": "allows you to",
    "start": "913440",
    "end": "916000"
  },
  {
    "text": "have a kubernetes cluster service on one",
    "start": "916000",
    "end": "919199"
  },
  {
    "text": "region",
    "start": "919199",
    "end": "920000"
  },
  {
    "text": "and then make it think that that service",
    "start": "920000",
    "end": "923360"
  },
  {
    "text": "is local",
    "start": "923360",
    "end": "924079"
  },
  {
    "text": "when it actually is in a remote place",
    "start": "924079",
    "end": "927920"
  },
  {
    "text": "so you have cluster in new york",
    "start": "927920",
    "end": "932000"
  },
  {
    "text": "and has a service there but the service",
    "start": "932000",
    "end": "934560"
  },
  {
    "text": "actually maybe lives in us",
    "start": "934560",
    "end": "935759"
  },
  {
    "text": "in a cluster in chicago",
    "start": "935759",
    "end": "939519"
  },
  {
    "text": "and obviously trust for api uh",
    "start": "939519",
    "end": "943199"
  },
  {
    "text": "widely used project from the kubernetes",
    "start": "943199",
    "end": "945279"
  },
  {
    "text": "community",
    "start": "945279",
    "end": "946480"
  },
  {
    "text": "that allows you to manage kubernetes",
    "start": "946480",
    "end": "950480"
  },
  {
    "text": "clusters",
    "start": "950480",
    "end": "951120"
  },
  {
    "text": "using a kubernetes cluster so you can",
    "start": "951120",
    "end": "953279"
  },
  {
    "text": "manage your whole fleet",
    "start": "953279",
    "end": "955199"
  },
  {
    "text": "using kubernetes itself",
    "start": "955199",
    "end": "958639"
  },
  {
    "text": "so let's talk about some tools that you",
    "start": "960480",
    "end": "962160"
  },
  {
    "text": "can use for these upgrades",
    "start": "962160",
    "end": "965839"
  },
  {
    "text": "so when it comes to upgrading the",
    "start": "967519",
    "end": "969120"
  },
  {
    "text": "kubernetes components the add-ons",
    "start": "969120",
    "end": "972399"
  },
  {
    "text": "you use several several of them in your",
    "start": "972399",
    "end": "974800"
  },
  {
    "text": "cluster",
    "start": "974800",
    "end": "977279"
  },
  {
    "text": "you have the cluster autoscaler you have",
    "start": "977360",
    "end": "980079"
  },
  {
    "text": "your monitoring you have your",
    "start": "980079",
    "end": "983600"
  },
  {
    "text": "log aggregator all these different",
    "start": "983600",
    "end": "986240"
  },
  {
    "text": "components",
    "start": "986240",
    "end": "988720"
  },
  {
    "text": "you can use any language that you like i",
    "start": "988720",
    "end": "991199"
  },
  {
    "text": "mean you can use",
    "start": "991199",
    "end": "991920"
  },
  {
    "text": "bash python go or rust whatever language",
    "start": "991920",
    "end": "995839"
  },
  {
    "text": "of your choice so you need to find a way",
    "start": "995839",
    "end": "998560"
  },
  {
    "text": "to",
    "start": "998560",
    "end": "999600"
  },
  {
    "text": "manage these components in in",
    "start": "999600",
    "end": "1002880"
  },
  {
    "text": "an automated way there are other tools",
    "start": "1002880",
    "end": "1006720"
  },
  {
    "text": "for example to provision your clusters",
    "start": "1006720",
    "end": "1011279"
  },
  {
    "text": "you can use terraform if you're running",
    "start": "1011279",
    "end": "1013199"
  },
  {
    "text": "your clusters in",
    "start": "1013199",
    "end": "1014399"
  },
  {
    "text": "different clouds maybe aws or gcp or",
    "start": "1014399",
    "end": "1017519"
  },
  {
    "text": "azure",
    "start": "1017519",
    "end": "1019920"
  },
  {
    "text": "or you can use something like eksctl",
    "start": "1020720",
    "end": "1023199"
  },
  {
    "text": "from webworks",
    "start": "1023199",
    "end": "1024160"
  },
  {
    "text": "and you can define your kubernetes",
    "start": "1024160",
    "end": "1025520"
  },
  {
    "text": "cluster in",
    "start": "1025520",
    "end": "1027520"
  },
  {
    "text": "a yaml format",
    "start": "1027520",
    "end": "1030480"
  },
  {
    "text": "flux is another tool that allows you to",
    "start": "1032000",
    "end": "1034000"
  },
  {
    "text": "have this kind of getups approach",
    "start": "1034000",
    "end": "1036798"
  },
  {
    "text": "for applications but you can also use it",
    "start": "1036799",
    "end": "1039199"
  },
  {
    "text": "for kubernetes components and so you can",
    "start": "1039199",
    "end": "1041120"
  },
  {
    "text": "use it for",
    "start": "1041120",
    "end": "1042959"
  },
  {
    "text": "your cluster auto scaler your core dns",
    "start": "1042959",
    "end": "1046959"
  },
  {
    "text": "uh your network overlay if you want to",
    "start": "1046959",
    "end": "1049679"
  },
  {
    "text": "keep",
    "start": "1049679",
    "end": "1050000"
  },
  {
    "text": "up to date and maybe there's a feature",
    "start": "1050000",
    "end": "1054080"
  },
  {
    "text": "or maybe you're watching a container",
    "start": "1054080",
    "end": "1056640"
  },
  {
    "text": "registry",
    "start": "1056640",
    "end": "1058400"
  },
  {
    "text": "and then you want this to get updated",
    "start": "1058400",
    "end": "1060400"
  },
  {
    "text": "automatically you can use",
    "start": "1060400",
    "end": "1061679"
  },
  {
    "text": "something like flux",
    "start": "1061679",
    "end": "1067039"
  },
  {
    "text": "so in this example you have a github",
    "start": "1067039",
    "end": "1068960"
  },
  {
    "text": "approach with flux",
    "start": "1068960",
    "end": "1071280"
  },
  {
    "text": "you don't necessarily have to push a",
    "start": "1071280",
    "end": "1073360"
  },
  {
    "text": "commit",
    "start": "1073360",
    "end": "1074320"
  },
  {
    "text": "or maybe not necessarily push a",
    "start": "1074320",
    "end": "1076080"
  },
  {
    "text": "container image",
    "start": "1076080",
    "end": "1077760"
  },
  {
    "text": "you may choose to do so but but",
    "start": "1077760",
    "end": "1081039"
  },
  {
    "text": "you could also have it look at a",
    "start": "1081039",
    "end": "1083919"
  },
  {
    "text": "container repository a global repository",
    "start": "1083919",
    "end": "1086960"
  },
  {
    "text": "and pull those images from there or make",
    "start": "1086960",
    "end": "1088559"
  },
  {
    "text": "a change based on that",
    "start": "1088559",
    "end": "1090080"
  },
  {
    "text": "so you're always up to date but you have",
    "start": "1090080",
    "end": "1092240"
  },
  {
    "text": "to be careful",
    "start": "1092240",
    "end": "1093360"
  },
  {
    "text": "which components you want to upgrade and",
    "start": "1093360",
    "end": "1095520"
  },
  {
    "text": "maintain with the",
    "start": "1095520",
    "end": "1097039"
  },
  {
    "text": "latest version",
    "start": "1097039",
    "end": "1099759"
  },
  {
    "text": "another tool from webworks is wks gtl",
    "start": "1100320",
    "end": "1104000"
  },
  {
    "text": "and it's basically git ups definitions",
    "start": "1104000",
    "end": "1106799"
  },
  {
    "text": "for kubernetes clusters",
    "start": "1106799",
    "end": "1110080"
  },
  {
    "text": "it's still a project in the works uh so",
    "start": "1111039",
    "end": "1113760"
  },
  {
    "text": "you can do your state",
    "start": "1113760",
    "end": "1115440"
  },
  {
    "text": "and kubernetes cluster state in a yaml",
    "start": "1115440",
    "end": "1117919"
  },
  {
    "text": "file",
    "start": "1117919",
    "end": "1119520"
  },
  {
    "text": "and it supports multiple kubernetes",
    "start": "1119520",
    "end": "1124080"
  },
  {
    "text": "versions so cluster versions for example",
    "start": "1124080",
    "end": "1126400"
  },
  {
    "text": "supports fire cube which is um",
    "start": "1126400",
    "end": "1129120"
  },
  {
    "text": "running kubernetes in firecracker vms",
    "start": "1129120",
    "end": "1132640"
  },
  {
    "text": "vagrant running kubernetes locally",
    "start": "1132640",
    "end": "1134559"
  },
  {
    "text": "footloose allowing allowing you to run",
    "start": "1134559",
    "end": "1136480"
  },
  {
    "text": "kubernetes in containers",
    "start": "1136480",
    "end": "1138559"
  },
  {
    "text": "there's no aws support yet but you know",
    "start": "1138559",
    "end": "1141679"
  },
  {
    "text": "it might happen in the future",
    "start": "1141679",
    "end": "1144960"
  },
  {
    "text": "another tool is keiko this is from the",
    "start": "1147120",
    "end": "1150559"
  },
  {
    "text": "open source team at",
    "start": "1150559",
    "end": "1151600"
  },
  {
    "text": "intuit and it allows you to manage",
    "start": "1151600",
    "end": "1155120"
  },
  {
    "text": "your worker nodes in kubernetes",
    "start": "1155120",
    "end": "1158720"
  },
  {
    "text": "but the only capture here is that it",
    "start": "1158720",
    "end": "1161280"
  },
  {
    "text": "supports",
    "start": "1161280",
    "end": "1162840"
  },
  {
    "text": "aws so it has some",
    "start": "1162840",
    "end": "1164960"
  },
  {
    "text": "really nice components to help you out",
    "start": "1164960",
    "end": "1168160"
  },
  {
    "text": "you can manage your slas",
    "start": "1168160",
    "end": "1171919"
  },
  {
    "text": "uh you can scrub your kubernetes nodes",
    "start": "1171919",
    "end": "1175200"
  },
  {
    "text": "if you",
    "start": "1175200",
    "end": "1175760"
  },
  {
    "text": "provision kubernetes cluster",
    "start": "1175760",
    "end": "1178960"
  },
  {
    "text": "with a different tool not necessarily",
    "start": "1178960",
    "end": "1181679"
  },
  {
    "text": "like",
    "start": "1181679",
    "end": "1182160"
  },
  {
    "text": "your cloud provider like eks or gke this",
    "start": "1182160",
    "end": "1185280"
  },
  {
    "text": "is a great tool say for aws",
    "start": "1185280",
    "end": "1188000"
  },
  {
    "text": "you can also optimize the cost of your",
    "start": "1188000",
    "end": "1189760"
  },
  {
    "text": "cluster you can do security with",
    "start": "1189760",
    "end": "1191760"
  },
  {
    "text": "forensic dumps",
    "start": "1191760",
    "end": "1194720"
  },
  {
    "text": "so these are the components for caicos",
    "start": "1196000",
    "end": "1197679"
  },
  {
    "text": "so you have your monitoring",
    "start": "1197679",
    "end": "1199840"
  },
  {
    "text": "cost effect effectiveness on with your",
    "start": "1199840",
    "end": "1203120"
  },
  {
    "text": "minion",
    "start": "1203120",
    "end": "1203760"
  },
  {
    "text": "manager uh you can manage reliability",
    "start": "1203760",
    "end": "1206799"
  },
  {
    "text": "with your governor",
    "start": "1206799",
    "end": "1209039"
  },
  {
    "text": "uh you can do that orchestration of",
    "start": "1209039",
    "end": "1211200"
  },
  {
    "text": "upgrades",
    "start": "1211200",
    "end": "1212240"
  },
  {
    "text": "using the add-on manager upgrade manager",
    "start": "1212240",
    "end": "1214320"
  },
  {
    "text": "in instance manager",
    "start": "1214320",
    "end": "1216400"
  },
  {
    "text": "so all these different components to",
    "start": "1216400",
    "end": "1218080"
  },
  {
    "text": "help you out",
    "start": "1218080",
    "end": "1220640"
  },
  {
    "text": "other tools that are really popular to",
    "start": "1220640",
    "end": "1223600"
  },
  {
    "text": "manage kubernetes clusters or",
    "start": "1223600",
    "end": "1225360"
  },
  {
    "text": "cops written in golang has been around",
    "start": "1225360",
    "end": "1228880"
  },
  {
    "text": "for a while",
    "start": "1228880",
    "end": "1229600"
  },
  {
    "text": "has a very large community supports",
    "start": "1229600",
    "end": "1233039"
  },
  {
    "text": "multiple clouds",
    "start": "1233039",
    "end": "1236000"
  },
  {
    "text": "cubespray is another tool it's basically",
    "start": "1236559",
    "end": "1238640"
  },
  {
    "text": "deploying kubernetes clusters",
    "start": "1238640",
    "end": "1240559"
  },
  {
    "text": "using ansible so you can use it to",
    "start": "1240559",
    "end": "1243280"
  },
  {
    "text": "deploy blue and green clusters the same",
    "start": "1243280",
    "end": "1244799"
  },
  {
    "text": "way with cops",
    "start": "1244799",
    "end": "1246720"
  },
  {
    "text": "linker d has this feature that i",
    "start": "1246720",
    "end": "1250799"
  },
  {
    "text": "mentioned",
    "start": "1250799",
    "end": "1251440"
  },
  {
    "text": "before traffic mirroring and allows you",
    "start": "1251440",
    "end": "1254720"
  },
  {
    "text": "to",
    "start": "1254720",
    "end": "1255360"
  },
  {
    "text": "uh have services across different",
    "start": "1255360",
    "end": "1257520"
  },
  {
    "text": "regions",
    "start": "1257520",
    "end": "1258400"
  },
  {
    "text": "so you you make that switch over uh",
    "start": "1258400",
    "end": "1263360"
  },
  {
    "text": "easier and and run",
    "start": "1263360",
    "end": "1266559"
  },
  {
    "text": "you know in a more effective way",
    "start": "1266559",
    "end": "1270158"
  },
  {
    "text": "pluto is another nice tool",
    "start": "1270400",
    "end": "1273440"
  },
  {
    "text": "that allows you to see the different",
    "start": "1273440",
    "end": "1275760"
  },
  {
    "text": "kubernetes versions that",
    "start": "1275760",
    "end": "1277760"
  },
  {
    "text": "are getting deprecated for the different",
    "start": "1277760",
    "end": "1279360"
  },
  {
    "text": "resources",
    "start": "1279360",
    "end": "1281440"
  },
  {
    "text": "so in this example you see deployment at",
    "start": "1281440",
    "end": "1283760"
  },
  {
    "text": "the top you have",
    "start": "1283760",
    "end": "1285600"
  },
  {
    "text": "v1 beta 1 and b1 beta2 and then b1",
    "start": "1285600",
    "end": "1289120"
  },
  {
    "text": "one says that they were deprecated in",
    "start": "1289120",
    "end": "1292080"
  },
  {
    "text": "one nine zero",
    "start": "1292080",
    "end": "1293200"
  },
  {
    "text": "but they were still available up until",
    "start": "1293200",
    "end": "1296320"
  },
  {
    "text": "115.",
    "start": "1296320",
    "end": "1298240"
  },
  {
    "text": "so 116 they're completely removed so you",
    "start": "1298240",
    "end": "1301120"
  },
  {
    "text": "can",
    "start": "1301120",
    "end": "1301840"
  },
  {
    "text": "tell when you want to change your",
    "start": "1301840",
    "end": "1303840"
  },
  {
    "text": "resources or how",
    "start": "1303840",
    "end": "1305039"
  },
  {
    "text": "how far ahead you want to change your",
    "start": "1305039",
    "end": "1306559"
  },
  {
    "text": "resources prevents you from saying like",
    "start": "1306559",
    "end": "1309360"
  },
  {
    "text": "you're moving from 115 to 116 say if you",
    "start": "1309360",
    "end": "1312640"
  },
  {
    "text": "have",
    "start": "1312640",
    "end": "1313039"
  },
  {
    "text": "an api definition for deployment that",
    "start": "1313039",
    "end": "1315440"
  },
  {
    "text": "says d1 beta 1",
    "start": "1315440",
    "end": "1317679"
  },
  {
    "text": "and then you upgrade then",
    "start": "1317679",
    "end": "1321280"
  },
  {
    "text": "that resource may not work because the",
    "start": "1321280",
    "end": "1323679"
  },
  {
    "text": "replacement",
    "start": "1323679",
    "end": "1324880"
  },
  {
    "text": "is apps v1 so",
    "start": "1324880",
    "end": "1327919"
  },
  {
    "text": "so the deployments may not work",
    "start": "1327919",
    "end": "1331039"
  },
  {
    "text": "so what does it look like in production",
    "start": "1331039",
    "end": "1332880"
  },
  {
    "text": "uh",
    "start": "1332880",
    "end": "1334640"
  },
  {
    "text": "running all these automation tools in",
    "start": "1334640",
    "end": "1336799"
  },
  {
    "text": "say production environments",
    "start": "1336799",
    "end": "1338400"
  },
  {
    "text": "uh ideally you want to have",
    "start": "1338400",
    "end": "1342799"
  },
  {
    "text": "automation everywhere i know most people",
    "start": "1342799",
    "end": "1345280"
  },
  {
    "text": "don't have this",
    "start": "1345280",
    "end": "1346240"
  },
  {
    "text": "uh this is where you want to get to and",
    "start": "1346240",
    "end": "1348960"
  },
  {
    "text": "when",
    "start": "1348960",
    "end": "1349360"
  },
  {
    "text": "what you want to strive for",
    "start": "1349360",
    "end": "1352880"
  },
  {
    "text": "so you want to have the full automation",
    "start": "1352880",
    "end": "1354880"
  },
  {
    "text": "of your control plane",
    "start": "1354880",
    "end": "1356640"
  },
  {
    "text": "provision all your notes all your main",
    "start": "1356640",
    "end": "1359679"
  },
  {
    "text": "nodes with all the different components",
    "start": "1359679",
    "end": "1361440"
  },
  {
    "text": "your data plane you",
    "start": "1361440",
    "end": "1362720"
  },
  {
    "text": "your worker groups ahead of time fully",
    "start": "1362720",
    "end": "1365360"
  },
  {
    "text": "automated verifying them",
    "start": "1365360",
    "end": "1367840"
  },
  {
    "text": "then also your add-ons your cluster auto",
    "start": "1367840",
    "end": "1370640"
  },
  {
    "text": "scaler",
    "start": "1370640",
    "end": "1371280"
  },
  {
    "text": "your networking add-ons all these",
    "start": "1371280",
    "end": "1374640"
  },
  {
    "text": "different things",
    "start": "1374640",
    "end": "1376559"
  },
  {
    "text": "you want to have them uh fully automated",
    "start": "1376559",
    "end": "1380080"
  },
  {
    "text": "maybe have the blue and green switch",
    "start": "1380080",
    "end": "1382320"
  },
  {
    "text": "over if you have stateless applications",
    "start": "1382320",
    "end": "1385440"
  },
  {
    "text": "do uh happen automatically is say you",
    "start": "1385440",
    "end": "1388320"
  },
  {
    "text": "are running",
    "start": "1388320",
    "end": "1389440"
  },
  {
    "text": "an external facing application a website",
    "start": "1389440",
    "end": "1392880"
  },
  {
    "text": "and it's serving millions of users",
    "start": "1392880",
    "end": "1396320"
  },
  {
    "text": "then you can have a tool that maybe",
    "start": "1396320",
    "end": "1397919"
  },
  {
    "text": "switches over that dns",
    "start": "1397919",
    "end": "1399520"
  },
  {
    "text": "automatically and that's the",
    "start": "1399520",
    "end": "1400480"
  },
  {
    "text": "verification okay you're getting all the",
    "start": "1400480",
    "end": "1403440"
  },
  {
    "text": "the right requests right so in and it",
    "start": "1403440",
    "end": "1405360"
  },
  {
    "text": "allows you to roll back if something",
    "start": "1405360",
    "end": "1406960"
  },
  {
    "text": "goes wrong",
    "start": "1406960",
    "end": "1409600"
  },
  {
    "text": "so what about stateful applications",
    "start": "1410640",
    "end": "1413760"
  },
  {
    "text": "so yeah maybe you want to use a",
    "start": "1413760",
    "end": "1416080"
  },
  {
    "text": "maintenance window",
    "start": "1416080",
    "end": "1417840"
  },
  {
    "text": "these are very tricky applications",
    "start": "1417840",
    "end": "1420159"
  },
  {
    "text": "because you",
    "start": "1420159",
    "end": "1421039"
  },
  {
    "text": "they have your data so you want to make",
    "start": "1421039",
    "end": "1423600"
  },
  {
    "text": "sure that your data is not",
    "start": "1423600",
    "end": "1424960"
  },
  {
    "text": "corrupted when you do this",
    "start": "1424960",
    "end": "1428799"
  },
  {
    "text": "these switch overs uh so create a lot of",
    "start": "1428799",
    "end": "1431360"
  },
  {
    "text": "replicas",
    "start": "1431360",
    "end": "1432159"
  },
  {
    "text": "if if you can depending on the stateful",
    "start": "1432159",
    "end": "1434799"
  },
  {
    "text": "application you're using",
    "start": "1434799",
    "end": "1436240"
  },
  {
    "text": "say you're using something like a mysql",
    "start": "1436240",
    "end": "1438480"
  },
  {
    "text": "you can create another",
    "start": "1438480",
    "end": "1439840"
  },
  {
    "text": "set of slaves and eventually when you",
    "start": "1439840",
    "end": "1443120"
  },
  {
    "text": "move to that new cluster you could have",
    "start": "1443120",
    "end": "1444640"
  },
  {
    "text": "that slave and promote it to a master",
    "start": "1444640",
    "end": "1447919"
  },
  {
    "text": "and then move the other slaves later on",
    "start": "1447919",
    "end": "1451440"
  },
  {
    "text": "make sure you back up all your data so",
    "start": "1451440",
    "end": "1453200"
  },
  {
    "text": "in case your data gets corrupted so this",
    "start": "1453200",
    "end": "1455360"
  },
  {
    "text": "is very critical",
    "start": "1455360",
    "end": "1456880"
  },
  {
    "text": "i use tools like snapshots in cloud",
    "start": "1456880",
    "end": "1459919"
  },
  {
    "text": "providers or",
    "start": "1459919",
    "end": "1460880"
  },
  {
    "text": "if you have storage systems take some",
    "start": "1460880",
    "end": "1463919"
  },
  {
    "text": "snapshots",
    "start": "1463919",
    "end": "1464880"
  },
  {
    "text": "back up your data",
    "start": "1464880",
    "end": "1467600"
  },
  {
    "text": "so what does it look like in terms of",
    "start": "1468720",
    "end": "1471520"
  },
  {
    "text": "the future",
    "start": "1471520",
    "end": "1472400"
  },
  {
    "text": "and what you you'll see with these tools",
    "start": "1472400",
    "end": "1475679"
  },
  {
    "text": "and",
    "start": "1475679",
    "end": "1476240"
  },
  {
    "text": "and kubernetes cluster upgrade",
    "start": "1476240",
    "end": "1478000"
  },
  {
    "text": "approaches",
    "start": "1478000",
    "end": "1479279"
  },
  {
    "text": "so we'll see some tools maybe to fill in",
    "start": "1479279",
    "end": "1481679"
  },
  {
    "text": "the gaps",
    "start": "1481679",
    "end": "1483200"
  },
  {
    "text": "so we talked about automatic",
    "start": "1483200",
    "end": "1485039"
  },
  {
    "text": "automatically switching over your dns",
    "start": "1485039",
    "end": "1487039"
  },
  {
    "text": "provider when you're running",
    "start": "1487039",
    "end": "1488799"
  },
  {
    "text": "a website type of application or web",
    "start": "1488799",
    "end": "1490960"
  },
  {
    "text": "services",
    "start": "1490960",
    "end": "1492720"
  },
  {
    "text": "so tools that allow you to talk to these",
    "start": "1492720",
    "end": "1494640"
  },
  {
    "text": "dns providers maybe talk to the load",
    "start": "1494640",
    "end": "1496640"
  },
  {
    "text": "balancers",
    "start": "1496640",
    "end": "1498159"
  },
  {
    "text": "and then do that switch over tools that",
    "start": "1498159",
    "end": "1501440"
  },
  {
    "text": "help you do",
    "start": "1501440",
    "end": "1502640"
  },
  {
    "text": "stay full application switch over you",
    "start": "1502640",
    "end": "1504880"
  },
  {
    "text": "know we talked about the data",
    "start": "1504880",
    "end": "1506400"
  },
  {
    "text": "you know maybe tools that will back up",
    "start": "1506400",
    "end": "1508559"
  },
  {
    "text": "your data automatically",
    "start": "1508559",
    "end": "1510400"
  },
  {
    "text": "uh make sure that data is correct uh",
    "start": "1510400",
    "end": "1513279"
  },
  {
    "text": "keep in mind that there's a lot of",
    "start": "1513279",
    "end": "1515600"
  },
  {
    "text": "operators for stateful applications",
    "start": "1515600",
    "end": "1517760"
  },
  {
    "text": "nowadays",
    "start": "1517760",
    "end": "1519039"
  },
  {
    "text": "but most of these operators are limited",
    "start": "1519039",
    "end": "1522159"
  },
  {
    "text": "to just a single cluster so maybe we'll",
    "start": "1522159",
    "end": "1524159"
  },
  {
    "text": "see",
    "start": "1524159",
    "end": "1524559"
  },
  {
    "text": "some of these operators extend some of",
    "start": "1524559",
    "end": "1527440"
  },
  {
    "text": "the functionality",
    "start": "1527440",
    "end": "1528559"
  },
  {
    "text": "for multiple clusters of being able to",
    "start": "1528559",
    "end": "1530799"
  },
  {
    "text": "migrate from one to the other",
    "start": "1530799",
    "end": "1533760"
  },
  {
    "text": "also maybe tools that fill in monitoring",
    "start": "1533760",
    "end": "1536240"
  },
  {
    "text": "for these upgrades",
    "start": "1536240",
    "end": "1537360"
  },
  {
    "text": "you know making sure you you hitting",
    "start": "1537360",
    "end": "1538880"
  },
  {
    "text": "your uh 200 status codes on your http",
    "start": "1538880",
    "end": "1542400"
  },
  {
    "text": "services",
    "start": "1542400",
    "end": "1543919"
  },
  {
    "text": "also making sure that your security",
    "start": "1543919",
    "end": "1545440"
  },
  {
    "text": "policies are correct you know like your",
    "start": "1545440",
    "end": "1547600"
  },
  {
    "text": "network policies are not allowing",
    "start": "1547600",
    "end": "1549520"
  },
  {
    "text": "certain ip addresses or certain parts",
    "start": "1549520",
    "end": "1552000"
  },
  {
    "text": "can talk to each other and",
    "start": "1552000",
    "end": "1553919"
  },
  {
    "text": "some of them cannot so all those type of",
    "start": "1553919",
    "end": "1556480"
  },
  {
    "text": "things so fill in those gaps",
    "start": "1556480",
    "end": "1559520"
  },
  {
    "text": "so from the cloud providers we'll also",
    "start": "1559520",
    "end": "1561200"
  },
  {
    "text": "see baby board tools in this example we",
    "start": "1561200",
    "end": "1563120"
  },
  {
    "text": "see eks",
    "start": "1563120",
    "end": "1565120"
  },
  {
    "text": "on the roadmap you see one click full",
    "start": "1565120",
    "end": "1567200"
  },
  {
    "text": "cluster upgrade",
    "start": "1567200",
    "end": "1569200"
  },
  {
    "text": "maybe allowing users to use an eks to",
    "start": "1569200",
    "end": "1573520"
  },
  {
    "text": "just do a click and automatically test",
    "start": "1573520",
    "end": "1575840"
  },
  {
    "text": "everything that is",
    "start": "1575840",
    "end": "1576720"
  },
  {
    "text": "in cluster and seamlessly do the upgrade",
    "start": "1576720",
    "end": "1578720"
  },
  {
    "text": "with no downtime",
    "start": "1578720",
    "end": "1580880"
  },
  {
    "text": "of course you still want to test it and",
    "start": "1580880",
    "end": "1582159"
  },
  {
    "text": "want to make sure that everything is",
    "start": "1582159",
    "end": "1583440"
  },
  {
    "text": "okay but then that's where the direction",
    "start": "1583440",
    "end": "1585679"
  },
  {
    "text": "is going with some of these cloud",
    "start": "1585679",
    "end": "1586960"
  },
  {
    "text": "providers",
    "start": "1586960",
    "end": "1588880"
  },
  {
    "text": "so more ways to manage those two like if",
    "start": "1588880",
    "end": "1591840"
  },
  {
    "text": "you want to",
    "start": "1591840",
    "end": "1592480"
  },
  {
    "text": "you know upgrade a patch on your node",
    "start": "1592480",
    "end": "1594960"
  },
  {
    "text": "that type of thing",
    "start": "1594960",
    "end": "1595919"
  },
  {
    "text": "you know of the tools will make it",
    "start": "1595919",
    "end": "1598799"
  },
  {
    "text": "easier",
    "start": "1598799",
    "end": "1601200"
  },
  {
    "text": "so what can you get out of all of this",
    "start": "1601840",
    "end": "1604000"
  },
  {
    "text": "um",
    "start": "1604000",
    "end": "1606240"
  },
  {
    "text": "what can you take home",
    "start": "1606559",
    "end": "1609760"
  },
  {
    "text": "so when you want to do your kubernetes",
    "start": "1609760",
    "end": "1612720"
  },
  {
    "text": "cluster upgrades",
    "start": "1612720",
    "end": "1614640"
  },
  {
    "text": "you always want to start with a small",
    "start": "1614640",
    "end": "1617279"
  },
  {
    "text": "cluster",
    "start": "1617279",
    "end": "1618960"
  },
  {
    "text": "don't go full blown blown on a large",
    "start": "1618960",
    "end": "1622960"
  },
  {
    "text": "cluster and and try to upgrade that so",
    "start": "1622960",
    "end": "1625679"
  },
  {
    "text": "make sure you test",
    "start": "1625679",
    "end": "1628559"
  },
  {
    "text": "in a constrained environment",
    "start": "1628559",
    "end": "1632000"
  },
  {
    "text": "and use a qa environment for example",
    "start": "1632000",
    "end": "1634559"
  },
  {
    "text": "never in production",
    "start": "1634559",
    "end": "1636159"
  },
  {
    "text": "uh leverage some of the existing tools",
    "start": "1636159",
    "end": "1638720"
  },
  {
    "text": "in open source",
    "start": "1638720",
    "end": "1640240"
  },
  {
    "text": "terraform flux keco",
    "start": "1640240",
    "end": "1644320"
  },
  {
    "text": "when you create these new clusters make",
    "start": "1645120",
    "end": "1646720"
  },
  {
    "text": "sure that the version",
    "start": "1646720",
    "end": "1648480"
  },
  {
    "text": "is always the same across the board your",
    "start": "1648480",
    "end": "1651360"
  },
  {
    "text": "cube led you can",
    "start": "1651360",
    "end": "1652480"
  },
  {
    "text": "proxy your api server youtube controller",
    "start": "1652480",
    "end": "1655360"
  },
  {
    "text": "manager",
    "start": "1655360",
    "end": "1656640"
  },
  {
    "text": "your uh api um",
    "start": "1656640",
    "end": "1659919"
  },
  {
    "text": "scheduler your um",
    "start": "1659919",
    "end": "1663360"
  },
  {
    "text": "cloud controller manager so all the",
    "start": "1663360",
    "end": "1664799"
  },
  {
    "text": "different components in kubernetes",
    "start": "1664799",
    "end": "1668159"
  },
  {
    "text": "you have cube ctl convert that allows",
    "start": "1668159",
    "end": "1670480"
  },
  {
    "text": "you to convert",
    "start": "1670480",
    "end": "1671440"
  },
  {
    "text": "your api or manifest files ahead of time",
    "start": "1671440",
    "end": "1674080"
  },
  {
    "text": "so use that",
    "start": "1674080",
    "end": "1676799"
  },
  {
    "text": "and then do something like pluto to",
    "start": "1677120",
    "end": "1679120"
  },
  {
    "text": "identify whether you",
    "start": "1679120",
    "end": "1680399"
  },
  {
    "text": "you need to do those changes",
    "start": "1680399",
    "end": "1683600"
  },
  {
    "text": "uh you want to make sure that you when",
    "start": "1683600",
    "end": "1686159"
  },
  {
    "text": "you",
    "start": "1686159",
    "end": "1686799"
  },
  {
    "text": "create your green cluster or your brand",
    "start": "1686799",
    "end": "1688720"
  },
  {
    "text": "new cluster and you copy the workloads",
    "start": "1688720",
    "end": "1691919"
  },
  {
    "text": "you want to test that the api input api",
    "start": "1691919",
    "end": "1695279"
  },
  {
    "text": "endpoints or whatever workload you're",
    "start": "1695279",
    "end": "1697120"
  },
  {
    "text": "running there",
    "start": "1697120",
    "end": "1698880"
  },
  {
    "text": "it's not crashing uh it's returning okay",
    "start": "1698880",
    "end": "1701919"
  },
  {
    "text": "requests",
    "start": "1701919",
    "end": "1703200"
  },
  {
    "text": "all those different things so test",
    "start": "1703200",
    "end": "1704480"
  },
  {
    "text": "across the board depending on your",
    "start": "1704480",
    "end": "1706320"
  },
  {
    "text": "application",
    "start": "1706320",
    "end": "1708399"
  },
  {
    "text": "and make sure back up your data",
    "start": "1708399",
    "end": "1710000"
  },
  {
    "text": "everywhere back up everything",
    "start": "1710000",
    "end": "1711679"
  },
  {
    "text": "especially if you're running stable",
    "start": "1711679",
    "end": "1713520"
  },
  {
    "text": "applications",
    "start": "1713520",
    "end": "1716159"
  },
  {
    "text": "so with that here are some",
    "start": "1717520",
    "end": "1720640"
  },
  {
    "text": "resources for some of the tools that i",
    "start": "1720640",
    "end": "1723360"
  },
  {
    "text": "talked about",
    "start": "1723360",
    "end": "1725600"
  },
  {
    "text": "and yeah and that's it thank you very",
    "start": "1725600",
    "end": "1728559"
  },
  {
    "text": "much",
    "start": "1728559",
    "end": "1728960"
  },
  {
    "text": "for your time i'd be happy to chat more",
    "start": "1728960",
    "end": "1732559"
  },
  {
    "text": "about this topic this is very",
    "start": "1732559",
    "end": "1734320"
  },
  {
    "text": "interesting to me",
    "start": "1734320",
    "end": "1735760"
  },
  {
    "text": "we use this on a daily basis basis so",
    "start": "1735760",
    "end": "1738960"
  },
  {
    "text": "if you have any problems and if you",
    "start": "1738960",
    "end": "1741279"
  },
  {
    "text": "wanna",
    "start": "1741279",
    "end": "1742960"
  },
  {
    "text": "you know discuss and i like i'd love to",
    "start": "1742960",
    "end": "1746720"
  },
  {
    "text": "uh you know see what problems you have",
    "start": "1746720",
    "end": "1749440"
  },
  {
    "text": "and what solutions you're thinking of",
    "start": "1749440",
    "end": "1751279"
  },
  {
    "text": "and",
    "start": "1751279",
    "end": "1752159"
  },
  {
    "text": "and how you can you know make these",
    "start": "1752159",
    "end": "1754960"
  },
  {
    "text": "things better",
    "start": "1754960",
    "end": "1756640"
  },
  {
    "text": "so thank you and with that i'll i'll",
    "start": "1756640",
    "end": "1758720"
  },
  {
    "text": "leave it open for some questions",
    "start": "1758720",
    "end": "1762880"
  }
]