[
  {
    "text": "good afternoon everyone hope you enjoyed your lunch we're about to start in a couple of",
    "start": "149",
    "end": "6540"
  },
  {
    "text": "minutes time just let more folks to come in obviously it's it's a long way from from where where are you all had food so",
    "start": "6540",
    "end": "14910"
  },
  {
    "text": "yeah let's let's see I guess we give 30",
    "start": "14910",
    "end": "19949"
  },
  {
    "text": "seconds if nobody comes in in 30 seconds we'll start great pretty much full house",
    "start": "19949",
    "end": "29060"
  },
  {
    "text": "thank you all for coming hope you enjoy your cube con how many of you well how",
    "start": "29060",
    "end": "34800"
  },
  {
    "text": "many of you is this first cube carne actually alright Wow yeah this is my",
    "start": "34800",
    "end": "41340"
  },
  {
    "text": "eighth cube corn I've been to all of them so far I might I might I might want",
    "start": "41340",
    "end": "48840"
  },
  {
    "text": "to take a break next time I'm thinking but it's kind of nice San Diego would be would be a cool place to go to uh I've",
    "start": "48840",
    "end": "56190"
  },
  {
    "text": "not been there yet anyway well hope you hope you enjoy the rest of",
    "start": "56190",
    "end": "62969"
  },
  {
    "text": "the show and and the talks here and are the tracks so this is a CI CD track just",
    "start": "62969",
    "end": "69750"
  },
  {
    "text": "to be clear anybody in the wrong room anybody here not interested in CI CD and would rather go to another talk",
    "start": "69750",
    "end": "77670"
  },
  {
    "text": "elsewhere okay seems like everybody's in the right room that's great I think the",
    "start": "77670",
    "end": "85650"
  },
  {
    "text": "the kind of the distances in this building are rather surprising but it's not too hard to find rooms fairly well",
    "start": "85650",
    "end": "92430"
  },
  {
    "text": "signposted I think that's a fairly good thing isn't it so I'm glad many of you",
    "start": "92430",
    "end": "97439"
  },
  {
    "text": "have found your way here we should probably start now so we have",
    "start": "97439",
    "end": "107460"
  },
  {
    "text": "a few interesting talks in this truck there will be a panel I think the next",
    "start": "107460",
    "end": "114000"
  },
  {
    "text": "talk will be a panel so I'd encourage you to stay for for the panel and we",
    "start": "114000",
    "end": "120420"
  },
  {
    "text": "have a fairly diverse set of opinions on the panel so I hope you'll all enjoy the",
    "start": "120420",
    "end": "126540"
  },
  {
    "text": "panel coming up now we have a talk about canary with Kay as everything in",
    "start": "126540",
    "end": "132330"
  },
  {
    "text": "where in this world is with ek and we have David here and he's colleague",
    "start": "132330",
    "end": "141780"
  },
  {
    "text": "friend sorry yeah alright folks so we begin its a canary automation of canary",
    "start": "141780",
    "end": "150480"
  },
  {
    "text": "deployments with CR DS and operates as one CID and one Operator how many you tell us one more one it's gonna be with",
    "start": "150480",
    "end": "158070"
  },
  {
    "text": "just one so welcome to this presentation obviously canary with okay and it's going to be about an automated an",
    "start": "158070",
    "end": "164610"
  },
  {
    "text": "integrated way of doing canary testing in Cubana T's and we are in the track about extending communities so we will",
    "start": "164610",
    "end": "170790"
  },
  {
    "text": "explain also how we have built this operator on top of a customer source definition so I'm David Bank I am",
    "start": "170790",
    "end": "177930"
  },
  {
    "text": "working as a software engineer at Amadeus and here is Cedric Lavinia working at data dog as a software",
    "start": "177930",
    "end": "184590"
  },
  {
    "text": "engineer also so a quick recap about what canary is obviously you know that",
    "start": "184590",
    "end": "190650"
  },
  {
    "text": "but when you're running this routed system you have the application running many instances of service running in",
    "start": "190650",
    "end": "197160"
  },
  {
    "text": "your communities and when you want to roll out a new version of your software the only thing that you want is",
    "start": "197160",
    "end": "202650"
  },
  {
    "text": "maintaining customer satisfaction and don't break anything so how do you achieve this you start loading few",
    "start": "202650",
    "end": "209040"
  },
  {
    "text": "instances of the new version of your application or new configuration and check out this behave you monitor this",
    "start": "209040",
    "end": "216840"
  },
  {
    "text": "very closely and if you happy with the result that this canary instances are delivering you",
    "start": "216840",
    "end": "222690"
  },
  {
    "text": "just roll out your new version if not you just stop your deployment so today",
    "start": "222690",
    "end": "229440"
  },
  {
    "text": "you probably already do canary testing ok I'm wondering here in the room who has built some kind of made solution to",
    "start": "229440",
    "end": "237570"
  },
  {
    "text": "do canary ok who's using spinnaker maybe",
    "start": "237570",
    "end": "245000"
  },
  {
    "text": "about the same proportion and any other product you're doing canary with something else so we have also some",
    "start": "245000",
    "end": "251910"
  },
  {
    "text": "other case you know what we are proposing is a something completely",
    "start": "251910",
    "end": "257370"
  },
  {
    "text": "integrated native Chianti's solution what I mean here is that to perform the",
    "start": "257370",
    "end": "262560"
  },
  {
    "text": "canary deployment that we're going to the only thing that you need is cube control and a new llamo fight that is",
    "start": "262560",
    "end": "268470"
  },
  {
    "text": "representing our CID you will see some example later on we will offer you the possibility to schedule this cannery",
    "start": "268470",
    "end": "275010"
  },
  {
    "text": "starting now or in one hour and it's gonna work on top of the existing",
    "start": "275010",
    "end": "281520"
  },
  {
    "text": "objects meaning that if today you have already some tool to tuning working on",
    "start": "281520",
    "end": "286860"
  },
  {
    "text": "top of deployment on top of pods and everything it's gonna continue to work with this solution there's not going to",
    "start": "286860",
    "end": "294720"
  },
  {
    "text": "be any changes for for your existing ecosystem in theory for example we",
    "start": "294720",
    "end": "300840"
  },
  {
    "text": "preserve the deployment story if you're using it and we're gonna see that with",
    "start": "300840",
    "end": "306360"
  },
  {
    "text": "this proposition you will be able to run multiple canary test campaign on the same deployment at the same time this",
    "start": "306360",
    "end": "313470"
  },
  {
    "text": "could be useful if you have different developers working on different features and they want to test on the live system",
    "start": "313470",
    "end": "319460"
  },
  {
    "text": "exactly at the same time so that we can you tell us more so yes so when you want",
    "start": "319460",
    "end": "327780"
  },
  {
    "text": "to put in place canary the appointment you need two things about first things first is all your scale you canary",
    "start": "327780",
    "end": "333840"
  },
  {
    "text": "deployment then which traffic you will send to this canary after all do you want to validate it and at the end you",
    "start": "333840",
    "end": "342630"
  },
  {
    "text": "apply the new version with a solution we defined several configuration for each",
    "start": "342630",
    "end": "348930"
  },
  {
    "text": "of this topic first things is about the scale you can configure it as a fixed replica for example one pot for the",
    "start": "348930",
    "end": "356580"
  },
  {
    "text": "canary but you can also ask the controller to create an new style Peduto",
    "start": "356580",
    "end": "362250"
  },
  {
    "text": "scaler on top of it the percentage of replicate is something that we are thinking of but we didn't implement it",
    "start": "362250",
    "end": "367980"
  },
  {
    "text": "for Fano for the traffic management you may have no traffic at all on your new",
    "start": "367980",
    "end": "373050"
  },
  {
    "text": "pod instances for example when you have the Cure that retrieve from kefka topic",
    "start": "373050",
    "end": "378450"
  },
  {
    "text": "no need to receive traffic but you can also configure it as a live traffic test traffic meaning that it's your own",
    "start": "378450",
    "end": "385710"
  },
  {
    "text": "traffic that you inject on top of your you are canary or you can also request",
    "start": "385710",
    "end": "390810"
  },
  {
    "text": "both live and test for each go you can also think about putting shadow traffic",
    "start": "390810",
    "end": "396540"
  },
  {
    "text": "on this deployment of tag traffic for the validation we have several way to",
    "start": "396540",
    "end": "402570"
  },
  {
    "text": "validate it the first one is manual meaning that at one point someone will need to update the customer source to",
    "start": "402570",
    "end": "409230"
  },
  {
    "text": "say this canary deployment is valid but we implemented a way of doing it doing",
    "start": "409230",
    "end": "415500"
  },
  {
    "text": "it sorry with the label watch meaning that if one labels appear on the deployment of the pod the Canary pod",
    "start": "415500",
    "end": "422760"
  },
  {
    "text": "automatically the Canary deployment will be flagged as failure you can also send",
    "start": "422760",
    "end": "429150"
  },
  {
    "text": "a concrete query against a primitive server we implemented the HTTP or custom",
    "start": "429150",
    "end": "435240"
  },
  {
    "text": "endpoint like while you you need to respect the format and receive the response and we are thinking also to",
    "start": "435240",
    "end": "441330"
  },
  {
    "text": "implement metric server in order to be able to retrieve the mystic from other metrics provider and the last part is",
    "start": "441330",
    "end": "449880"
  },
  {
    "text": "all do you apply as a new version if the Canaries succeed so you can do wholly",
    "start": "449880",
    "end": "456090"
  },
  {
    "text": "automatically update or you can run it at the high one for another issue when you want to test your new application so",
    "start": "456090",
    "end": "464460"
  },
  {
    "text": "let's see an example of the gusto mobile source canary deployment in the speck",
    "start": "464460",
    "end": "469770"
  },
  {
    "text": "part what you need to provide is a deployment name that you want to test it the controller needed to reach with some",
    "start": "469770",
    "end": "476400"
  },
  {
    "text": "information on the current deployment object then the son service name if you",
    "start": "476400",
    "end": "481560"
  },
  {
    "text": "want to send life traffic on it and after you have the different topic that I presented before the scale to traffic",
    "start": "481560",
    "end": "488610"
  },
  {
    "text": "the validation and last part is a template this is a new version of your deployment application that you want to",
    "start": "488610",
    "end": "496350"
  },
  {
    "text": "test for the scale ear as I said which we will choose replicated Gerwin meaning that only one",
    "start": "496350",
    "end": "503280"
  },
  {
    "text": "part will will start which was both traffic so test and live traffic and we",
    "start": "503280",
    "end": "508530"
  },
  {
    "text": "use a manual configuration we should also to put validation period of 15",
    "start": "508530",
    "end": "514680"
  },
  {
    "text": "minutes so the canary will run at least for 15 minutes before deciding if it",
    "start": "514680",
    "end": "519810"
  },
  {
    "text": "succeed or offers another example with the label watch here we define that we",
    "start": "519810",
    "end": "526410"
  },
  {
    "text": "want to look at labelled monitor alert I CPU on the pod",
    "start": "526410",
    "end": "532670"
  },
  {
    "text": "that will open your canary color last example this is with a punctual query",
    "start": "532670",
    "end": "539960"
  },
  {
    "text": "you provide the endpoint for the primitive server the query that you want to run and the range of the values that",
    "start": "539960",
    "end": "546140"
  },
  {
    "text": "your pod should respect in order to be valid we haven't also another parameter",
    "start": "546140",
    "end": "552140"
  },
  {
    "text": "that is valid for the other initial delay it's to start querying primitive server and other metrics of solution",
    "start": "552140",
    "end": "560120"
  },
  {
    "text": "after 20 second because some time your application need to be to have a bit of time like if you have a cache inside to",
    "start": "560120",
    "end": "566060"
  },
  {
    "text": "have the proper metrics apply so this is",
    "start": "566060",
    "end": "573410"
  },
  {
    "text": "a representation of your application you have a deployment on top application set set of pads and the services will target",
    "start": "573410",
    "end": "580130"
  },
  {
    "text": "your application so when you create the crystal stops canary deployment automatically the controller will watch",
    "start": "580130",
    "end": "587390"
  },
  {
    "text": "your deployment retrieve some informational fit create a new deployment in peril of your queue on the",
    "start": "587390",
    "end": "593780"
  },
  {
    "text": "payment with a new template and a new services the canary test services when",
    "start": "593780",
    "end": "599930"
  },
  {
    "text": "to receive the test traffic if you choose to put HPA it will also create the HPI with the proper configuration to",
    "start": "599930",
    "end": "607940"
  },
  {
    "text": "scale only this pod and not the other pods if you choose to put both configuration for the live traffic you",
    "start": "607940",
    "end": "615140"
  },
  {
    "text": "will receive we will configure your patent plate in order to to fit the level selector from your services after",
    "start": "615140",
    "end": "623630"
  },
  {
    "text": "the validation pallet if everything is going well the canary deployment will be",
    "start": "623630",
    "end": "628730"
  },
  {
    "text": "a flag a succeed and your current deployment so my app deployment will be updated and you will have the version to",
    "start": "628730",
    "end": "635450"
  },
  {
    "text": "select this we we respect the history of your deployment and when you delete the",
    "start": "635450",
    "end": "642260"
  },
  {
    "text": "canary deployment automatically we will cascade the deletion of all those",
    "start": "642260",
    "end": "647410"
  },
  {
    "text": "temporary also see that you that have been created to do this canary deployment so I think",
    "start": "647410",
    "end": "656209"
  },
  {
    "text": "it's enough talk for this part let's start like demo so for the live demo its scripted but",
    "start": "656209",
    "end": "664350"
  },
  {
    "text": "everything is live okay I have a cluster that is running in Cuban it is in docker and the application the sample",
    "start": "664350",
    "end": "670860"
  },
  {
    "text": "application that I'm gonna run is an application that is in the repo of the project it's a simple server and I'm",
    "start": "670860",
    "end": "676200"
  },
  {
    "text": "gonna run anytime the same image but I'm gonna change the parameter to tweak the response time or the response code of",
    "start": "676200",
    "end": "683250"
  },
  {
    "text": "the application to make it behave differently okay on the top here I'm gonna monitor the pots so you can see",
    "start": "683250",
    "end": "691950"
  },
  {
    "text": "what's happening on the pots and here I will monitor the deployments object okay",
    "start": "691950",
    "end": "705120"
  },
  {
    "text": "and let's run the demo so the very first thing is I'm creating a namespace okay",
    "start": "705120",
    "end": "710880"
  },
  {
    "text": "and in this namespace I'm gonna inject the operator the cannery operator that",
    "start": "710880",
    "end": "717300"
  },
  {
    "text": "is going to watch after my CID of course we need role binding and an deployment",
    "start": "717300",
    "end": "724350"
  },
  {
    "text": "for this cannery object and here it is it's running now so you can see that",
    "start": "724350",
    "end": "730020"
  },
  {
    "text": "it's there and I have even my",
    "start": "730020",
    "end": "736680"
  },
  {
    "text": "application that is being deployed so I'm gonna reach a state where I have a namespace my canary operator running and",
    "start": "736680",
    "end": "743810"
  },
  {
    "text": "my application with three pots okay I'm gonna expose also the service the the",
    "start": "743810",
    "end": "751320"
  },
  {
    "text": "service for the simple Sabbat through the Gateway I'm running inside the",
    "start": "751320",
    "end": "756960"
  },
  {
    "text": "cluster is Joe okay so this is our target my application and also I am",
    "start": "756960",
    "end": "762090"
  },
  {
    "text": "gathering metrics from there so I'm using the Easter service mesh and as primitives in the in the background run",
    "start": "762090",
    "end": "768510"
  },
  {
    "text": "so you can see it the cannery pod is here and my pod for the application is",
    "start": "768510",
    "end": "774270"
  },
  {
    "text": "here targeted by this service and we",
    "start": "774270",
    "end": "779970"
  },
  {
    "text": "should have some traffic not yet I'm gonna send the traffic in a minute so I'm gonna run injection and at the same",
    "start": "779970",
    "end": "787530"
  },
  {
    "text": "time I'm gonna tell you how I'm gonna generate the ceoddi every time we have a new series like or",
    "start": "787530",
    "end": "792840"
  },
  {
    "text": "a new in tax I'm going to deal with this we have created a plugin to ease the",
    "start": "792840",
    "end": "797889"
  },
  {
    "text": "adoption and you and there is this plug-in is called canary so you cube CTL canary and one of the option is generate",
    "start": "797889",
    "end": "804670"
  },
  {
    "text": "so you generate on top of the application deployment that is called my app this one and you give a name to your",
    "start": "804670",
    "end": "812679"
  },
  {
    "text": "canary yeah I decided to call it by Batman I'm gonna receive traffic both the option that Cedric described so I'm",
    "start": "812679",
    "end": "819100"
  },
  {
    "text": "gonna receive live traffic and test traffic the service that is targeting usually my application is my app I'm",
    "start": "819100",
    "end": "825129"
  },
  {
    "text": "gonna run a validation pattern of one minute and I'm gonna do a validation strategy that is monitoring response",
    "start": "825129",
    "end": "833110"
  },
  {
    "text": "time I and I want my p99 to stay below 310 milliseconds okay that could be my",
    "start": "833110",
    "end": "839110"
  },
  {
    "text": "SLA for example so this is the command and this comment is simply going to generate the the yaman file for you so",
    "start": "839110",
    "end": "847269"
  },
  {
    "text": "here is the CID you can see the kind canary deployment and we have done all",
    "start": "847269",
    "end": "852699"
  },
  {
    "text": "the books that Cedric has described so first of all we say which deployment we",
    "start": "852699",
    "end": "857799"
  },
  {
    "text": "are working on the scale just like in the previous slide it's going to be",
    "start": "857799",
    "end": "863439"
  },
  {
    "text": "scheduled right now I don't put any date and time here so it's going to be triggered immediately the service the",
    "start": "863439",
    "end": "869980"
  },
  {
    "text": "template for the deployment and finally the traffic and the validation and because I choose the option with SEO",
    "start": "869980",
    "end": "877149"
  },
  {
    "text": "response time it automatically created for me the prom ql query that match this",
    "start": "877149",
    "end": "882610"
  },
  {
    "text": "kind of of SLA definition you see here",
    "start": "882610",
    "end": "888189"
  },
  {
    "text": "that there is an initial delay out of 20 seconds and the query is going to be run every 10 seconds and for a period of 1",
    "start": "888189",
    "end": "894999"
  },
  {
    "text": "minute so now that's definitively",
    "start": "894999",
    "end": "900339"
  },
  {
    "text": "injected so here you see already that the traffic going to my application and now I'm gonna inject this yearly so you",
    "start": "900339",
    "end": "907689"
  },
  {
    "text": "see immediately on the on the right side that there are new pods being created and you see that they are called my app",
    "start": "907689",
    "end": "914019"
  },
  {
    "text": "canary Batman ok now they are running I have a starting period of 20 seconds",
    "start": "914019",
    "end": "920049"
  },
  {
    "text": "where the cannery operator won't do anything it's going to and I didn't show it to you but I",
    "start": "920049",
    "end": "926029"
  },
  {
    "text": "tweaked it the response time to be out of SLA and so what happened is that after 20 seconds here the deployments",
    "start": "926029",
    "end": "935720"
  },
  {
    "text": "that the the canary statues changed I don't know if you've seen it the transition is from air scheduled to",
    "start": "935720",
    "end": "940819"
  },
  {
    "text": "running after 20 seconds and it was performing the query checking if we are",
    "start": "940819",
    "end": "946750"
  },
  {
    "text": "satisfying the the prompt ul query or not and of course because of my setting",
    "start": "946750",
    "end": "951860"
  },
  {
    "text": "it has failed so what happened the",
    "start": "951860",
    "end": "957110"
  },
  {
    "text": "canary bird is still there it's not receiving any live traffic it's cut from",
    "start": "957110",
    "end": "962569"
  },
  {
    "text": "the end-user stuff but it's there for you to investigate if you want to continue to send traffic to it to",
    "start": "962569",
    "end": "967790"
  },
  {
    "text": "investigate look at the logs and everything it's possible because the service is still there the pod is still there the deployment is",
    "start": "967790",
    "end": "974000"
  },
  {
    "text": "still there we can see here if we go to mesh that it has received traffic for a",
    "start": "974000",
    "end": "985819"
  },
  {
    "text": "short amount of time till it was detected as a failing deployment and then no traffic anymore ok so if I do my",
    "start": "985819",
    "end": "996079"
  },
  {
    "text": "investigation I'm fine I can delete this and as Cedric explained only deleting",
    "start": "996079",
    "end": "1002170"
  },
  {
    "text": "the CID would trigger the deletion of all the object that were created for you behind the scenes so the deployment the",
    "start": "1002170",
    "end": "1008050"
  },
  {
    "text": "test service the pods and everything this is what you see here we have the pot dominating but we have no more Canary service no more the deployment",
    "start": "1008050",
    "end": "1014769"
  },
  {
    "text": "nor the replica set so now I'm gonna trigger the the load of a canary that is",
    "start": "1014769",
    "end": "1021220"
  },
  {
    "text": "ok the response time is very good for this one so of course it's gonna run for",
    "start": "1021220",
    "end": "1026740"
  },
  {
    "text": "1 minute and 20 seconds for 20 seconds is gonna stay in the scheduled statue so",
    "start": "1026740",
    "end": "1033130"
  },
  {
    "text": "this time it's called elk my guy so I have already some pods they're running and at the end of the period what I",
    "start": "1033130",
    "end": "1040688"
  },
  {
    "text": "would like you to focus on is this window on deployment my app deployment my original deployment is still there",
    "start": "1040689",
    "end": "1048130"
  },
  {
    "text": "it's running okay and because my canary is going to",
    "start": "1048130",
    "end": "1053230"
  },
  {
    "text": "succeed automatically there's going to be a rolling update of the new version",
    "start": "1053230",
    "end": "1058330"
  },
  {
    "text": "being triggered okay so focus on this window here here we can",
    "start": "1058330",
    "end": "1064929"
  },
  {
    "text": "see that it's running we have some minutes so a couple of seconds to wait what we can do at the meantime is going",
    "start": "1064929",
    "end": "1071320"
  },
  {
    "text": "back to the mesh panel here and see",
    "start": "1071320",
    "end": "1077740"
  },
  {
    "text": "what's happening so there's still the line for Batman that we don't use anymore but ELQ is behaving correctly the p99 is still below 310 milliseconds",
    "start": "1077740",
    "end": "1085740"
  },
  {
    "text": "I'm showing things here with SEO but this can run without these two at all",
    "start": "1085740",
    "end": "1092169"
  },
  {
    "text": "okay we are just taking the opportunity that is to is providing some metrics and gathering metrics from there but if you",
    "start": "1092169",
    "end": "1098470"
  },
  {
    "text": "are not running the service master you can still play with the canary operator",
    "start": "1098470",
    "end": "1103539"
  },
  {
    "text": "that we are proposing here and target order system to get the matrix so what happened in the end as I told you that",
    "start": "1103539",
    "end": "1110860"
  },
  {
    "text": "my app is being rollouts you can see here the pod being changed on the top right",
    "start": "1110860",
    "end": "1116710"
  },
  {
    "text": "some old pods been terminating you want being triggered and you can see that here the statues has gone from running",
    "start": "1116710",
    "end": "1123490"
  },
  {
    "text": "to deployment updated there is one statues that we haven't seen here because it went very fast there is the",
    "start": "1123490",
    "end": "1129610"
  },
  {
    "text": "stages succeeded in between we will see that later on so what we can check is",
    "start": "1129610",
    "end": "1134830"
  },
  {
    "text": "that on our application I'm going to change here the the refresh rate and go",
    "start": "1134830",
    "end": "1141039"
  },
  {
    "text": "to five seconds okay and this is the",
    "start": "1141039",
    "end": "1147820"
  },
  {
    "text": "graph for my application and you can see that this was the old behavior of",
    "start": "1147820",
    "end": "1154710"
  },
  {
    "text": "revision one with some residence time profile and since it has been roll out",
    "start": "1154710",
    "end": "1161350"
  },
  {
    "text": "with a very new release and better response time we can see every year the",
    "start": "1161350",
    "end": "1167830"
  },
  {
    "text": "difference of from an eight end user perspective so next step what I'm gonna do is remove",
    "start": "1167830",
    "end": "1175330"
  },
  {
    "text": "this one and I'm gonna trigger the launch of multiple Canaries at the",
    "start": "1175330",
    "end": "1181380"
  },
  {
    "text": "same time and not only I would trigger sorry for that not only I we triggered the launch of three Canaries so this is",
    "start": "1181380",
    "end": "1187740"
  },
  {
    "text": "one called tor there's one called Superman one called Wonder Woman and not",
    "start": "1187740",
    "end": "1192900"
  },
  {
    "text": "only they are freaking are we running at the same time but I perform multiple check at the same time meaning that for",
    "start": "1192900",
    "end": "1199140"
  },
  {
    "text": "one minutes I'm gonna validate here you see that keyword quantile meaning I'm",
    "start": "1199140",
    "end": "1204300"
  },
  {
    "text": "looking at the response time and at the same time I'm looking at the success rate for one of them I think it's one a",
    "start": "1204300",
    "end": "1211500"
  },
  {
    "text": "woman I'm giving very good response time but HTTP response 500 so what we can see",
    "start": "1211500",
    "end": "1219690"
  },
  {
    "text": "here is that everything has gone and at some point it has transitioned from fail",
    "start": "1219690",
    "end": "1228140"
  },
  {
    "text": "already scheduled running and go to the very end of this yeah there is one that",
    "start": "1228140",
    "end": "1235050"
  },
  {
    "text": "is still running we still have to wait 20 seconds for some of them I hope that",
    "start": "1235050",
    "end": "1241020"
  },
  {
    "text": "he will go and he Arriba there are two that should go to fail yes we can see it now now if I go to the",
    "start": "1241020",
    "end": "1247860"
  },
  {
    "text": "mesh dashboard I can see what's happening from a metric point of view is",
    "start": "1247860",
    "end": "1253260"
  },
  {
    "text": "that here we have our Wonderwoman canary test that I was replaying very good response time but with the success",
    "start": "1253260",
    "end": "1260850"
  },
  {
    "text": "rate that is not that correct so different reason for failing the canary ear so and in the end just like before I",
    "start": "1260850",
    "end": "1268980"
  },
  {
    "text": "still have all my object they're not receiving traffic because the period of validation has ended and if you are",
    "start": "1268980",
    "end": "1275820"
  },
  {
    "text": "focused on this window just like previously you have not seen any deployment of the one that succeeded",
    "start": "1275820",
    "end": "1282540"
  },
  {
    "text": "that is called toe this is because for this use case it's maybe just development validation that we wanted to",
    "start": "1282540",
    "end": "1289020"
  },
  {
    "text": "do and no rollout so I have appended it here an option I don't know if you see",
    "start": "1289020",
    "end": "1294330"
  },
  {
    "text": "it it's try run the one that Cedric explained do you want to fall out or not in the end in case of success and this",
    "start": "1294330",
    "end": "1300780"
  },
  {
    "text": "is why the very last stages that you see here on the CRV is succeeded and not",
    "start": "1300780",
    "end": "1306990"
  },
  {
    "text": "deployment updated like it used to be on on my previous example okay I opted to was clear this ends the",
    "start": "1306990",
    "end": "1313900"
  },
  {
    "text": "demo and we are going to continue with some slides so you have seen it to start",
    "start": "1313900",
    "end": "1330280"
  },
  {
    "text": "the cannery just use the plug-in cube CCL generate and you have your mo or if",
    "start": "1330280",
    "end": "1335860"
  },
  {
    "text": "you already have your mo you can apply your llamo and then you can go and grab a coffee because the engine is gonna run",
    "start": "1335860",
    "end": "1342670"
  },
  {
    "text": "behind the scene to do all the the flow to perform the cannery the cannery test",
    "start": "1342670",
    "end": "1347980"
  },
  {
    "text": "scheduling validation either fail or success and either deployment or dry run",
    "start": "1347980",
    "end": "1354340"
  },
  {
    "text": "mode so now we talked a bit about how we did that so it's not the first operator",
    "start": "1354340",
    "end": "1363220"
  },
  {
    "text": "controls that we build to control some stuff in humanities but for this one we",
    "start": "1363220",
    "end": "1368350"
  },
  {
    "text": "use the operators decaf from the opiate of harm work that is initiated from edit",
    "start": "1368350",
    "end": "1373720"
  },
  {
    "text": "and course Fox and you really help us to speed up the development of this solution it really boost have a simple",
    "start": "1373720",
    "end": "1381460"
  },
  {
    "text": "operate project for you and like this you can focus on the logic that you want to implement in our case implementing a",
    "start": "1381460",
    "end": "1388330"
  },
  {
    "text": "canary deployments but you can be as you want to implement with CRDi with another",
    "start": "1388330",
    "end": "1395170"
  },
  {
    "text": "concept another very great thing that you can find in this framework and sdk",
    "start": "1395170",
    "end": "1401320"
  },
  {
    "text": "is it you can very easily do unit tests on top of your logic but also end-to-end",
    "start": "1401320",
    "end": "1408400"
  },
  {
    "text": "test and this we didn't find it in a news of homework to do this we can still",
    "start": "1408400",
    "end": "1415870"
  },
  {
    "text": "improve this from oxen feet you are missing is guy that can very help developer like us to implement very good",
    "start": "1415870",
    "end": "1423370"
  },
  {
    "text": "support of cassava sauce like the validation of the Kristin was sauce thanks to a book of implementing the",
    "start": "1423370",
    "end": "1432970"
  },
  {
    "text": "proper way book for the reaction conversion of your customer sauce for",
    "start": "1432970",
    "end": "1438820"
  },
  {
    "text": "the first one an issue is already open and walkies in progress for the second one I think we are still missing some part of",
    "start": "1438820",
    "end": "1445590"
  },
  {
    "text": "it 212 it soon so with only with these",
    "start": "1445590",
    "end": "1451260"
  },
  {
    "text": "four commands you are able to create the skeleton of your Parata first one very simple is just to create a new folder to",
    "start": "1451260",
    "end": "1458309"
  },
  {
    "text": "put your card then you call the new canary command it will generate the straighten of your operator after since",
    "start": "1458309",
    "end": "1466559"
  },
  {
    "text": "you want to create a custom Osos to define your logic you you use the ADT I",
    "start": "1466559",
    "end": "1471960"
  },
  {
    "text": "give the name for your IP aviation and the name for your cane in your case",
    "start": "1471960",
    "end": "1477870"
  },
  {
    "text": "canary deployment and after the the thing where you will put your logic is the controller and for that web and",
    "start": "1477870",
    "end": "1484350"
  },
  {
    "text": "osakan add controller and you give the information of which object you want to react on inside the controller and what",
    "start": "1484350",
    "end": "1493710"
  },
  {
    "text": "you need to do at the end is only to implement this method that was created for you you receive this name reconcile",
    "start": "1493710",
    "end": "1501240"
  },
  {
    "text": "because it's the concept of frequency loop to implement your logic on top of",
    "start": "1501240",
    "end": "1506460"
  },
  {
    "text": "Cuba anaesthesia sources and the input is a frequency request and it's only the",
    "start": "1506460",
    "end": "1512970"
  },
  {
    "text": "information of the namespace of the name of yours is you get these instances from the client inside the framework and",
    "start": "1512970",
    "end": "1521580"
  },
  {
    "text": "after you build your logic on it and you just need at the end to reply received on it as the result if you succeed or",
    "start": "1521580",
    "end": "1529169"
  },
  {
    "text": "not with a with an error or if you want to recuse the object if for example you",
    "start": "1529169",
    "end": "1534240"
  },
  {
    "text": "updated another object so you want to reapply this control loop second time to",
    "start": "1534240",
    "end": "1539520"
  },
  {
    "text": "validate that everything goes well so we wanted also to talk a bit about",
    "start": "1539520",
    "end": "1546510"
  },
  {
    "text": "some traps that we we felt using this hammock so lot of magic happened behind",
    "start": "1546510",
    "end": "1552120"
  },
  {
    "text": "the same I don't know if some of you already built some controller but II I didn't talk about any cache work working",
    "start": "1552120",
    "end": "1561240"
  },
  {
    "text": "hue and other concept that you need to understand normally to build a controller so sometime you you you are",
    "start": "1561240",
    "end": "1568710"
  },
  {
    "text": "blind about some issues that you have inside of Commerc first one that we we",
    "start": "1568710",
    "end": "1573840"
  },
  {
    "text": "face is depending of the Cuban test questions that you are using the the Kusum of a source are not under the same way from the reaction",
    "start": "1573840",
    "end": "1581840"
  },
  {
    "text": "went on then the one that 10 of cuban test the status of customer source is",
    "start": "1581840",
    "end": "1588290"
  },
  {
    "text": "the super sauce and so all you have did is different depending of the version of your command is questa and this is not",
    "start": "1588290",
    "end": "1594680"
  },
  {
    "text": "undr by by this homework also talking about validation of customer sauce if",
    "start": "1594680",
    "end": "1601670"
  },
  {
    "text": "your ml file is not valid you will not be calling the reconcile loop but you",
    "start": "1601670",
    "end": "1607730"
  },
  {
    "text": "don't have any logs neither in the framework of the operator to say that I I wasn't able to decode this dis",
    "start": "1607730",
    "end": "1615140"
  },
  {
    "text": "hostess's so we lose a bit maybe two or three hours looking at the code of the",
    "start": "1615140",
    "end": "1620180"
  },
  {
    "text": "from octo Anderson what's happen at the end we saw that it wasn't at this point and the error that was that we face is",
    "start": "1620180",
    "end": "1628130"
  },
  {
    "text": "the log level support instead of amok so this is fixed before it wasn't supported",
    "start": "1628130",
    "end": "1633830"
  },
  {
    "text": "so we try to put some nice log level and it we didn't see what we wanted so a few",
    "start": "1633830",
    "end": "1643070"
  },
  {
    "text": "tips also if you are used issue users and then that you are developing also",
    "start": "1643070",
    "end": "1648170"
  },
  {
    "text": "controllers invite you to put this annotation side Christ you inject Falls",
    "start": "1648170",
    "end": "1653600"
  },
  {
    "text": "the reason is simple in theory when you run a control loop it's not you are not exposing a service at the same time so",
    "start": "1653600",
    "end": "1659870"
  },
  {
    "text": "being in the service mesh does not give any value here when you want to do unit",
    "start": "1659870",
    "end": "1665630"
  },
  {
    "text": "test ascetic said that there is a good test framework and when you want to run your end-to-end test probably you have to expose your",
    "start": "1665630",
    "end": "1672050"
  },
  {
    "text": "services you we are running kubernetes in docker for the tests we used to have",
    "start": "1672050",
    "end": "1677930"
  },
  {
    "text": "mini cube but we found some good advantages of going for capabilities in docker access especially the way you",
    "start": "1677930",
    "end": "1685340"
  },
  {
    "text": "under resources on your local machine and if you want to target the service inside this cluster in the end-to-end",
    "start": "1685340",
    "end": "1692180"
  },
  {
    "text": "test most probably you will have to use the cube CTL proxy and go through the API server proxy if you want to run a",
    "start": "1692180",
    "end": "1699800"
  },
  {
    "text": "demon just like the one I have done with kubernetes andhaka just be aware that you are not alone",
    "start": "1699800",
    "end": "1705320"
  },
  {
    "text": "to expose notepad for the moment so you'll probably have to use port forward and and deploy some kind of ingress in",
    "start": "1705320",
    "end": "1711980"
  },
  {
    "text": "your communities in docker in my case was is to as a summary so the cannery",
    "start": "1711980",
    "end": "1718610"
  },
  {
    "text": "project itself it's running you've seen a demo there are few strategy implemented already we have some",
    "start": "1718610",
    "end": "1724749"
  },
  {
    "text": "extension that we would like to do so if you are thinking about anything to",
    "start": "1724749",
    "end": "1729950"
  },
  {
    "text": "extend this project please please tell us and this issue on the under repo give the link here on the github and also",
    "start": "1729950",
    "end": "1737059"
  },
  {
    "text": "you're welcome for any contribution finally yeah it's never been so easy to",
    "start": "1737059",
    "end": "1744019"
  },
  {
    "text": "create an operator all the boilerplate code ear workers in formal cash retries",
    "start": "1744019",
    "end": "1750519"
  },
  {
    "text": "throttling many things you have to understand them but they are coded for",
    "start": "1750519",
    "end": "1756409"
  },
  {
    "text": "you yeah you are really have to understand them and I think it's the time for us to thank one of our",
    "start": "1756409",
    "end": "1762259"
  },
  {
    "text": "colleague salvatore diamine on it which had added at some point in time",
    "start": "1762259",
    "end": "1767659"
  },
  {
    "text": "explained us all this stuff and now if we about to write clean control loop",
    "start": "1767659",
    "end": "1773059"
  },
  {
    "text": "outside thanks to him somehow i'm saying it's easy to create an operator but",
    "start": "1773059",
    "end": "1781090"
  },
  {
    "text": "creating a control loop you have to put yourself in specific mindset okay it has",
    "start": "1781090",
    "end": "1786440"
  },
  {
    "text": "to be to able to recover the loop anytime the process need to be stateless that there are few things that you need",
    "start": "1786440",
    "end": "1791990"
  },
  {
    "text": "to understand really even if the framework helps there is few things to to take into account so this ends this",
    "start": "1791990",
    "end": "1799940"
  },
  {
    "text": "presentation I hope you enjoy it and I hope that you will use the cannery project thank you",
    "start": "1799940",
    "end": "1808028"
  },
  {
    "text": "thanks so much questions we have a few minutes for questions",
    "start": "1811950",
    "end": "1817550"
  },
  {
    "text": "please raise your hands all right one over there you got a question here I'll",
    "start": "1817550",
    "end": "1822990"
  },
  {
    "text": "come to you in a second hello thank you for great presentation yeah do you plan",
    "start": "1822990",
    "end": "1837240"
  },
  {
    "text": "to have some kind of extension or plugin or whatever to handle extra resources",
    "start": "1837240",
    "end": "1844830"
  },
  {
    "text": "external resources like for instance if you are using API get away to you know",
    "start": "1844830",
    "end": "1851100"
  },
  {
    "text": "do the two to be built on top and destroy it created and destroy on top of",
    "start": "1851100",
    "end": "1857940"
  },
  {
    "text": "the size of the validation validation for the whole thing I mean if you want",
    "start": "1857940",
    "end": "1863070"
  },
  {
    "text": "to have to have additional resources so already for the validation time you can",
    "start": "1863070",
    "end": "1869430"
  },
  {
    "text": "extend the project by calling any external server that would give elf on the on the pods okay so this is one part",
    "start": "1869430",
    "end": "1877290"
  },
  {
    "text": "of the answer I would say you mentioned the API gateway so you're referring to to the traffic block so far what we plan",
    "start": "1877290",
    "end": "1883980"
  },
  {
    "text": "is to have better integration with these two to you manage tag traffic and shadow traffic if you have any ideas about how",
    "start": "1883980",
    "end": "1890970"
  },
  {
    "text": "to tune an ingress or whatever we are welcome to take your your issues so this",
    "start": "1890970",
    "end": "1898170"
  },
  {
    "text": "demo in the entire setup that we saw was in the context of a single deployment one deployment one canary deployment",
    "start": "1898170",
    "end": "1906330"
  },
  {
    "text": "often in the Canary deployment we need to deploy multiple ports multiple services multiple components together so",
    "start": "1906330",
    "end": "1913260"
  },
  {
    "text": "how does canary deployment work in a in a world where we need to deploy several",
    "start": "1913260",
    "end": "1918270"
  },
  {
    "text": "components together we need to test the entire stack whether it works or not and then we take a decision okay yeah so",
    "start": "1918270",
    "end": "1925080"
  },
  {
    "text": "you're talking about making a canary of a full application made of mutable pods generally that would be the the most",
    "start": "1925080",
    "end": "1931890"
  },
  {
    "text": "common use case so for the moment we are not tackling this use case it's a unique deployment in the middle of that stack",
    "start": "1931890",
    "end": "1937770"
  },
  {
    "text": "that you are describing thank you Thanks any more questions all right",
    "start": "1937770",
    "end": "1946820"
  },
  {
    "text": "a question concerning history of the the the deployment she said that the can I",
    "start": "1957370",
    "end": "1963280"
  },
  {
    "text": "reconsider keep the the deployment history but at some time if you delete",
    "start": "1963280",
    "end": "1970420"
  },
  {
    "text": "the the canary you lose your canary history there is no completion state of",
    "start": "1970420",
    "end": "1980110"
  },
  {
    "text": "the canary to maybe keep it to to to make sure that you have your deployment",
    "start": "1980110",
    "end": "1985780"
  },
  {
    "text": "history link to a canary that was used at one point in time do you understand",
    "start": "1985780",
    "end": "1991420"
  },
  {
    "text": "my question so currently yeah when we",
    "start": "1991420",
    "end": "2011640"
  },
  {
    "text": "did the canary deployment you don't have any after story to say which one was was",
    "start": "2011640",
    "end": "2018930"
  },
  {
    "text": "used we can seem to add annotation on top of it to to give some information",
    "start": "2018930",
    "end": "2024170"
  },
  {
    "text": "about what when it was applied on everything to improve the history of the",
    "start": "2024170",
    "end": "2029760"
  },
  {
    "text": "canary testing yeah this is maybe a good use case wasn't the question",
    "start": "2029760",
    "end": "2036320"
  },
  {
    "text": "thank you okay it was curious if you",
    "start": "2036320",
    "end": "2044790"
  },
  {
    "text": "have a way to compare your canary replica set come to the standard are not",
    "start": "2044790",
    "end": "2051300"
  },
  {
    "text": "the standard but the old replica set say you're running if you have a way to kind of compare like let's say the cpu",
    "start": "2051300",
    "end": "2057690"
  },
  {
    "text": "between the two is similar or if it's different and kind of have a way to alert on that or your metrics based off",
    "start": "2057690",
    "end": "2064679"
  },
  {
    "text": "of solely on the new canary so you are referring to the scale part here how",
    "start": "2064680",
    "end": "2071010"
  },
  {
    "text": "many instances you would run of the calories that correct your question more",
    "start": "2071010",
    "end": "2077730"
  },
  {
    "text": "on if comparing the old version to the new can you compare the like the stable",
    "start": "2077730",
    "end": "2083460"
  },
  {
    "text": "version that's running to the new version and try to make some analysis of like oh if the old version had a certain",
    "start": "2083460",
    "end": "2092960"
  },
  {
    "text": "release was in a certain range in the new version so you're asking if we are",
    "start": "2092960",
    "end": "2098640"
  },
  {
    "text": "able to do kind of comparison in terms of how it does it is there any deviation",
    "start": "2098640",
    "end": "2103650"
  },
  {
    "text": "compared to the actual status yes we do have this you've seen the in the prom cool section here I'm using one part of",
    "start": "2103650",
    "end": "2111360"
  },
  {
    "text": "the of the the validation syntax is for having a value in a range but we are",
    "start": "2111360",
    "end": "2117480"
  },
  {
    "text": "using behind the scene a library that we created last year for sacred breaking that is able to validate deviation",
    "start": "2117480",
    "end": "2124470"
  },
  {
    "text": "compared to existing code I don't know if you remember the slide of Cedric why you saw pod name and pod query Truths",
    "start": "2124470",
    "end": "2131430"
  },
  {
    "text": "and so on there is a syntax here where you can say I want query all my pods",
    "start": "2131430",
    "end": "2137160"
  },
  {
    "text": "that are behind the service and make a comparison of the one that our cannery compared to the rest of my workload and",
    "start": "2137160",
    "end": "2143100"
  },
  {
    "text": "if you register any deviation okay so here you express this deviation in percentage of a metric it's gonna kill",
    "start": "2143100",
    "end": "2150750"
  },
  {
    "text": "the cannery so yes we can do that thank you and you can do that also you can do that on a continuous value like for",
    "start": "2150750",
    "end": "2157620"
  },
  {
    "text": "example I don't know a business value a price of a ticket or something like this but you can do it also on a counter of a",
    "start": "2157620",
    "end": "2163350"
  },
  {
    "text": "discrete metric like a number of account of 500 responses appreciate it all right",
    "start": "2163350",
    "end": "2172800"
  },
  {
    "text": "we can take two more questions we've got a lot of questions here I mean it's not",
    "start": "2172800",
    "end": "2180660"
  },
  {
    "text": "like we have to run okay congratulations",
    "start": "2180660",
    "end": "2187680"
  },
  {
    "text": "on the project in order to send just a percentage of traffic to the cannery do",
    "start": "2187680",
    "end": "2194880"
  },
  {
    "text": "you need eesti oh no so in in this demo is to was just involve of the caching",
    "start": "2194880",
    "end": "2201090"
  },
  {
    "text": "the metrics okay in that case we were running free pod and we had one more",
    "start": "2201090",
    "end": "2206220"
  },
  {
    "text": "canary in that demo the canary was receiving 25% of the trial so you",
    "start": "2206220",
    "end": "2211650"
  },
  {
    "text": "control it with the number of pods no much we don't if you want to tune this a bit more you",
    "start": "2211650",
    "end": "2216930"
  },
  {
    "text": "would need something like a service mesh thank you all right we had two more",
    "start": "2216930",
    "end": "2223290"
  },
  {
    "text": "hands right okay with cannery deployment",
    "start": "2223290",
    "end": "2230640"
  },
  {
    "text": "can you gradually increase the the traffic that you send to the cannery no",
    "start": "2230640",
    "end": "2237359"
  },
  {
    "text": "same answer for that we will need to integrate a service mission there's one",
    "start": "2237359",
    "end": "2243720"
  },
  {
    "text": "more person who raised hand earlier yeah behind you okay think okay last question",
    "start": "2243720",
    "end": "2255109"
  },
  {
    "text": "if a deployment goes through while you're running the canary that's independent of the canary does that",
    "start": "2255109",
    "end": "2260280"
  },
  {
    "text": "invalidate and fail the existing Canaries if a regular deployment goes",
    "start": "2260280",
    "end": "2266760"
  },
  {
    "text": "through whilst you're running a canary does that invalidate and fail that those Canaries so obviously the canary is based off the",
    "start": "2266760",
    "end": "2274470"
  },
  {
    "text": "current deployment if the current deployment is updated independently of the Canaries does that invalidate and",
    "start": "2274470",
    "end": "2279869"
  },
  {
    "text": "fail the Canaries you mean if there is a",
    "start": "2279869",
    "end": "2286500"
  },
  {
    "text": "concurrent update on the under stuff so if you modify anything in the CID so",
    "start": "2286500",
    "end": "2291869"
  },
  {
    "text": "including the template of the deployment it's going to restart from the beginning it's been a considered like a new canary",
    "start": "2291869",
    "end": "2297980"
  },
  {
    "text": "okay thanks very much everybody",
    "start": "2297980",
    "end": "2304080"
  },
  {
    "text": "[Applause] [Music] [Applause] so I must say I must say I made a",
    "start": "2304080",
    "end": "2309900"
  },
  {
    "text": "mistake earlier I didn't realize that this was actually extending kubernetes track I was expecting to host see a CD",
    "start": "2309900",
    "end": "2317849"
  },
  {
    "text": "track which I think I'm still doing on Thursday so the reference to to a panel session",
    "start": "2317849",
    "end": "2323400"
  },
  {
    "text": "being one after they stalk was incorrect this is extending kubernetes truck",
    "start": "2323400",
    "end": "2331970"
  }
]