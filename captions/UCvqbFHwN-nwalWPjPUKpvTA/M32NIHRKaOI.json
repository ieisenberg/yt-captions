[
  {
    "start": "0",
    "end": "52000"
  },
  {
    "text": "hi everybody hi i'm aaron kirk berger and welcome to the sig testing deep dive",
    "start": "30",
    "end": "5940"
  },
  {
    "text": "today san liu and cole wagner are going to be presenting to you i meant to wear my",
    "start": "5940",
    "end": "14549"
  },
  {
    "text": "left shark t-shirt to represent the team spirit here but then i realized today is May the fourth so I had to wear my Star",
    "start": "14549",
    "end": "21060"
  },
  {
    "text": "Wars shirt instead so if you want to flip forward to the agenda sand today",
    "start": "21060",
    "end": "27720"
  },
  {
    "text": "you're going to be hearing about Prowse architecture from sin and Cole is going to walk you through a part of prowl",
    "start": "27720",
    "end": "34710"
  },
  {
    "text": "called tide and sort of our merge automation and merge where we're thinking about that and then sounds",
    "start": "34710",
    "end": "40950"
  },
  {
    "text": "gonna give you a little bit more about the roadmap for tests infra if we have time questions thanks sin yep test hope",
    "start": "40950",
    "end": "49680"
  },
  {
    "text": "yep okay let's start so the first",
    "start": "49680",
    "end": "55410"
  },
  {
    "start": "52000",
    "end": "118000"
  },
  {
    "text": "question you might have is what is prowl assume you'll have our contribute to",
    "start": "55410",
    "end": "60989"
  },
  {
    "text": "communities prowl is something that after you open PR in communities you",
    "start": "60989",
    "end": "67439"
  },
  {
    "text": "might have a lot of like part interactions someone like /lg TN or such",
    "start": "67439",
    "end": "72990"
  },
  {
    "text": "we test and run a bunch of priests image for you and also your PR gets magically",
    "start": "72990",
    "end": "78540"
  },
  {
    "text": "other merged into the head of the kubernetes branch so that's all done by",
    "start": "78540",
    "end": "83909"
  },
  {
    "text": "prowl so pretend Osada community ICD and as a part of the stick test environment",
    "start": "83909",
    "end": "90689"
  },
  {
    "text": "a nurse our job is to maintain proud and also a bunch of other tools for",
    "start": "90689",
    "end": "96060"
  },
  {
    "text": "communities develop developments so another question you might ask is like",
    "start": "96060",
    "end": "101790"
  },
  {
    "text": "hmm I remember a year or two years ago kubernetes the ICD runs on Jenkins right",
    "start": "101790",
    "end": "109829"
  },
  {
    "text": "yeah that's right and this is fine then why do you build another system and no",
    "start": "109829",
    "end": "119520"
  },
  {
    "start": "118000",
    "end": "179000"
  },
  {
    "text": "that is not fine during the past few years we had a lot of problems with",
    "start": "119520",
    "end": "125729"
  },
  {
    "text": "Jenkins so for example Jenkins is very stateful whenever we want to update the",
    "start": "125729",
    "end": "131370"
  },
  {
    "text": "Jenkins version or darker version we to restart the entire rankings and that",
    "start": "131370",
    "end": "137070"
  },
  {
    "text": "would cause us to last our running jobs that's kind of not acceptable especially around the release time and also don't",
    "start": "137070",
    "end": "145620"
  },
  {
    "text": "need to mention the github plugins is really hard to maintain and there are tons of security issues my teammate XP",
    "start": "145620",
    "end": "153060"
  },
  {
    "text": "like Jeff he was like our Jenkins master so whenever we had Jenkins issues we",
    "start": "153060",
    "end": "160020"
  },
  {
    "text": "will talk to him ask him to fix it he had a record of like spending in entire",
    "start": "160020",
    "end": "165510"
  },
  {
    "text": "week on Jenkins without doing anything else so um after more campaigning we decide",
    "start": "165510",
    "end": "172350"
  },
  {
    "text": "to build a new system and you can see the dog is very unhappy here and like firefighting everywhere that's the",
    "start": "172350",
    "end": "180720"
  },
  {
    "start": "179000",
    "end": "250000"
  },
  {
    "text": "motivation why we have prowl proud is a project start by SP xtr on github around",
    "start": "180720",
    "end": "188480"
  },
  {
    "text": "2016 and we have been fully migrated to prowl from Jenkins by January this year",
    "start": "188480",
    "end": "194280"
  },
  {
    "text": "so we are testing kubernetes right why do we testing kubernetes on Jenkins we",
    "start": "194280",
    "end": "201390"
  },
  {
    "text": "and that doesn't make sense so we want to test kubernetes on top of culinary's that will make it like really",
    "start": "201390",
    "end": "207720"
  },
  {
    "text": "easy to maintain and deploy you can define your job basically as a pops back we will just get you that part for you",
    "start": "207720",
    "end": "215190"
  },
  {
    "text": "and proud respond to github web hooks directly rather than we were using",
    "start": "215190",
    "end": "221340"
  },
  {
    "text": "something called mont github basically loops through other open PRS and trying to do something for you and conclusion",
    "start": "221340",
    "end": "228959"
  },
  {
    "text": "is we know kubernetes much better as a community developers than jenkins so",
    "start": "228959",
    "end": "234690"
  },
  {
    "text": "whenever we have some prowess use we just turn around grab something from the",
    "start": "234690",
    "end": "240180"
  },
  {
    "text": "sick team and hey please fix this community sees you for us to make our testing for matter that's a much better",
    "start": "240180",
    "end": "246780"
  },
  {
    "text": "like psychosis ok next question is",
    "start": "246780",
    "end": "253709"
  },
  {
    "start": "250000",
    "end": "329000"
  },
  {
    "text": "sounds like prowl is awesome right what does Pro really do as I mentioned when I was a contributor",
    "start": "253709",
    "end": "263400"
  },
  {
    "text": "to kubernetes when I for example when I'm reviewing someone else PR I do you /",
    "start": "263400",
    "end": "269370"
  },
  {
    "text": "l GP n there is this thing called Kate CI bot will come in and assign you and",
    "start": "269370",
    "end": "274920"
  },
  {
    "text": "add a label that's part of Pro also when you open a PR you have like no idea who",
    "start": "274920",
    "end": "282060"
  },
  {
    "text": "should review my PR so probably fixing to suggest a reviewer for your approver",
    "start": "282060",
    "end": "288630"
  },
  {
    "text": "for you also on the bottom of your PR there's tons of prima jobs running like",
    "start": "288630",
    "end": "295950"
  },
  {
    "text": "some failing some are succeeded that's also triggered and run by Pro and last",
    "start": "295950",
    "end": "303450"
  },
  {
    "text": "but not least proud like after your PR merge magic matches are the merge",
    "start": "303450",
    "end": "309030"
  },
  {
    "text": "requirement probably will automatically merge a PR for you and also if you change a config file for example you",
    "start": "309030",
    "end": "315900"
  },
  {
    "text": "want to add a new proud proud so understands that and update the contact",
    "start": "315900",
    "end": "322050"
  },
  {
    "text": "max for you in the prod caster so you so there's like no menu deployment happens",
    "start": "322050",
    "end": "327540"
  },
  {
    "text": "there ok this is the meat of the talk I'm going to walk through like how",
    "start": "327540",
    "end": "334820"
  },
  {
    "start": "329000",
    "end": "596000"
  },
  {
    "text": "actually proud works how your PR is getting tested so let's assume here we",
    "start": "334820",
    "end": "342720"
  },
  {
    "text": "have a github basically it's like everything in github and we have a case",
    "start": "342720",
    "end": "348420"
  },
  {
    "text": "case cluster has prowl deployed everything starts with you open a PR or",
    "start": "348420",
    "end": "355680"
  },
  {
    "text": "their thing called Fela bod that randomly drops a slash three tests on your PR if your PR has a flaky test",
    "start": "355680",
    "end": "364340"
  },
  {
    "text": "github will send out a web hook and basically that's a github event through",
    "start": "364340",
    "end": "369840"
  },
  {
    "text": "through hook so just a legend reminder everything was a blue square in the",
    "start": "369840",
    "end": "376620"
  },
  {
    "text": "profits cluster is a proud controller what does hook do you upon receiving the",
    "start": "376620",
    "end": "382200"
  },
  {
    "text": "web hook hook hook will make a proud job which is a customer resource definition",
    "start": "382200",
    "end": "387810"
  },
  {
    "text": "represent your job basically it contains certain a certain amount of metadata like the",
    "start": "387810",
    "end": "394959"
  },
  {
    "text": "status of each job and also a pots back on the bottom basically like you define",
    "start": "394959",
    "end": "400779"
  },
  {
    "text": "how your proud job needs to look like there is also a few controllers called",
    "start": "400779",
    "end": "408610"
  },
  {
    "text": "tied and splice which manages like batch merges basically merge automations make",
    "start": "408610",
    "end": "414699"
  },
  {
    "text": "sure your PR is good to be merged Co will cover those on the merged automation part there's also her Logan that's a great",
    "start": "414699",
    "end": "422679"
  },
  {
    "text": "name by made by Ryan basically that's a controller schedules a schedule job on a",
    "start": "422679",
    "end": "429149"
  },
  {
    "text": "periodic basis for example we do kubernetes the IBEW hourly build like",
    "start": "429149",
    "end": "434439"
  },
  {
    "text": "every hour her Logan will create a proud job every hour okay there's a component",
    "start": "434439",
    "end": "442179"
  },
  {
    "text": "called plank in the middle what does that do Bank is a controller it's like",
    "start": "442179",
    "end": "447489"
  },
  {
    "text": "an operator type so it loops through all the created proud jobs based on the",
    "start": "447489",
    "end": "453069"
  },
  {
    "text": "current status to the proud job it will create a part based on your job",
    "start": "453069",
    "end": "459550"
  },
  {
    "text": "definition basically a pass back like your job can be like any pass back we",
    "start": "459550",
    "end": "465759"
  },
  {
    "text": "use subscrive api types so in this case this this is a example sa kubernetes",
    "start": "465759",
    "end": "473499"
  },
  {
    "text": "prison it we pose a cubic in CD image start up a communities pod it checks out",
    "start": "473499",
    "end": "480009"
  },
  {
    "text": "our PR rounds cube test it build your beauty fresh kubernetes from",
    "start": "480009",
    "end": "486039"
  },
  {
    "text": "your PR it will create a LED cluster using your company used coolant is built",
    "start": "486039",
    "end": "492939"
  },
  {
    "text": "from your PR and last the cube test will trigger a ginkgo e to iran you are",
    "start": "492939",
    "end": "500019"
  },
  {
    "text": "probably familiar with that and that will talk to the LED cluster lives in somewhere else so after everything the",
    "start": "500019",
    "end": "510749"
  },
  {
    "text": "example in this case the idiot has to will exit 0 and succeed and one on",
    "start": "510749",
    "end": "516189"
  },
  {
    "text": "failure just a reminder it don't need to be that complicated it just need if you're using",
    "start": "516189",
    "end": "523360"
  },
  {
    "text": "probably just need to be a simple part that returns x is zero on succeed and one on failure and we have a UI callback basically",
    "start": "523360",
    "end": "533170"
  },
  {
    "text": "that's the FRA a proud front-end that shows up all the current running status of the job like yellow means the job is",
    "start": "533170",
    "end": "540100"
  },
  {
    "text": "still running red means the job has failed and green means the job succeeded and saying plank has been watching like",
    "start": "540100",
    "end": "550449"
  },
  {
    "text": "the status of proud job whenever it sees the project it will talk back to the",
    "start": "550449",
    "end": "558459"
  },
  {
    "text": "github basically update the github contacts on your PR to show that hey your PR is great your PR is good to go",
    "start": "558459",
    "end": "567149"
  },
  {
    "text": "we also have a sinker controller that's basically responsible for garbage",
    "start": "568350",
    "end": "574269"
  },
  {
    "text": "collection like cleaning up pot and proud you're out south to rest of the month of time hope that makes it clear",
    "start": "574269",
    "end": "583089"
  },
  {
    "text": "that's like the basic architecture of proud like how everything works from your a github webhook",
    "start": "583089",
    "end": "589180"
  },
  {
    "text": "to a kubernetes pod job and it refers back to github okay the next part I want",
    "start": "589180",
    "end": "599860"
  },
  {
    "text": "to talk about is the plugin for prowl so that's like the bada automation part how",
    "start": "599860",
    "end": "605679"
  },
  {
    "text": "like if you slash LGD and about applies the house you team label for you so upon",
    "start": "605679",
    "end": "611829"
  },
  {
    "text": "receiving a github event for example it even it's a comment event the hook will",
    "start": "611829",
    "end": "618220"
  },
  {
    "text": "dispatch the event into different plugins based on Avery either a rejects",
    "start": "618220",
    "end": "624339"
  },
  {
    "text": "match or a vent type in this case the upon receiving a /l GTM comment a",
    "start": "624339",
    "end": "632230"
  },
  {
    "text": "comment the hook will forward the comment to the LGG unplugging and the LG",
    "start": "632230",
    "end": "638829"
  },
  {
    "text": "Chem plug-in will add al did here labeled to a PR the same thing as",
    "start": "638829",
    "end": "645189"
  },
  {
    "text": "complicated plugin when we receive a merge event the convict plug config",
    "start": "645189",
    "end": "651339"
  },
  {
    "text": "update plug-in will check if if anyone has changed the pro config files",
    "start": "651339",
    "end": "656529"
  },
  {
    "text": "for example I added a new crowd and that PR is merged the config update",
    "start": "656529",
    "end": "662500"
  },
  {
    "text": "plug-in will automatically deploy the map into the broadcaster and asked",
    "start": "662500",
    "end": "668709"
  },
  {
    "text": "we made some like silly plugins like it doesn't we have a lot of those we have",
    "start": "668709",
    "end": "675279"
  },
  {
    "text": "like me oh you can move you can also slash joke in this case it will find a",
    "start": "675279",
    "end": "682420"
  },
  {
    "text": "random cat image like from a line and append to your PR yeah and we also",
    "start": "682420",
    "end": "692440"
  },
  {
    "text": "support all kinds of customized plugins if you want you can always contribute to",
    "start": "692440",
    "end": "698290"
  },
  {
    "text": "write your own plugins for proud to use by the case community ok",
    "start": "698290",
    "end": "704380"
  },
  {
    "text": "a probably awesome prowess currently adopted by a few open-source projects",
    "start": "704380",
    "end": "710019"
  },
  {
    "text": "and namely sto just AK kubernetes and OpenShift for the prawn kubernetes we",
    "start": "710019",
    "end": "719440"
  },
  {
    "start": "716000",
    "end": "801000"
  },
  {
    "text": "have hundred eighty-one notes and more than southern course we have been running three four points three million",
    "start": "719440",
    "end": "726190"
  },
  {
    "text": "jobs last year stats from Arin and we have seven hundred seven seventy",
    "start": "726190",
    "end": "731290"
  },
  {
    "text": "different jobs and we have set up resubmit for thirty-one goodness repos",
    "start": "731290",
    "end": "738930"
  },
  {
    "text": "it's my last fight so hey you might think hey I want to try out prowl is",
    "start": "739260",
    "end": "745120"
  },
  {
    "text": "this this looks like super complicated from my diagram don't be scared out what",
    "start": "745120",
    "end": "751060"
  },
  {
    "text": "you really need to get pro running is anywhere you have a kubernetes cluster you need your github token and you need",
    "start": "751060",
    "end": "759160"
  },
  {
    "text": "a starter llamo the start of the ammo is a basic manifest manifest file for some",
    "start": "759160",
    "end": "765399"
  },
  {
    "text": "basic product component you can find it in our testing for a slash pro so that's getting started on Andy",
    "start": "765399",
    "end": "773310"
  },
  {
    "text": "he basically keep could apply the starter diamo to a cluster and you should get everything running and then",
    "start": "773370",
    "end": "779760"
  },
  {
    "text": "you should be able to fold your webhook from your github repo to your prow and that should get your boss start run",
    "start": "779760",
    "end": "787710"
  },
  {
    "text": "start running yep okay I love to go for",
    "start": "787710",
    "end": "793890"
  },
  {
    "text": "how we managing other marriages for goodnights PRS so our goals are goals",
    "start": "793890",
    "end": "805050"
  },
  {
    "text": "with automated PR merging are to merge PRS that meet specific requirements typically that's determined based on",
    "start": "805050",
    "end": "812370"
  },
  {
    "text": "labels on github and other PR properties on github like what milestone it's in",
    "start": "812370",
    "end": "817890"
  },
  {
    "text": "whether or not the status contexts are passing and we one of the reasons that",
    "start": "817890",
    "end": "823380"
  },
  {
    "text": "we want to be able to do this instead of having people click the merge button is because github does not have very granular permissions so we have to if we",
    "start": "823380",
    "end": "830700"
  },
  {
    "text": "give someone access to clicking the merge button they have access to modifying labels and they have access to click the merge button on any PR where",
    "start": "830700",
    "end": "837930"
  },
  {
    "text": "we'd much prefer to use our own code ownership process with the the approval plugin another thing that we want to do",
    "start": "837930",
    "end": "844860"
  },
  {
    "text": "is ensure that a PR is not merged until it's tested against the most recent based branch commit so I'll go over that",
    "start": "844860",
    "end": "850020"
  },
  {
    "text": "a little bit more in another slide but basically we want to make sure that the status context that you see on your PR",
    "start": "850020",
    "end": "855510"
  },
  {
    "text": "are actually up-to-date with the master branch if it's been changing since your PR was tested and importantly it also",
    "start": "855510",
    "end": "863220"
  },
  {
    "text": "needs to be super scalable because the kubernetes org is enormous and we need to be able to process thousands of open",
    "start": "863220",
    "end": "868950"
  },
  {
    "text": "PRS in the kubernetes repo alone and we also want to be able to process the the dozens of repos that are in the",
    "start": "868950",
    "end": "875070"
  },
  {
    "text": "kubernetes org so here's here's why we need to test against the the most recent",
    "start": "875070",
    "end": "881880"
  },
  {
    "start": "877000",
    "end": "940000"
  },
  {
    "text": "base branch commit so here you can see that there's a commit on master and there's two PRS that are based off of",
    "start": "881880",
    "end": "887940"
  },
  {
    "text": "that commit there's a read PR and a blue PR and they each have a emerge commit",
    "start": "887940",
    "end": "893730"
  },
  {
    "text": "that is what we're actually testing so before we would merge the PR we would generate this merge commit and test that",
    "start": "893730",
    "end": "899760"
  },
  {
    "text": "to make sure that it's passing but the problem is that if we then merge PR one after its test is passed",
    "start": "899760",
    "end": "906510"
  },
  {
    "text": "this merge commit for the bloop er is no longer actually testing against the head of the head of master so it's possible",
    "start": "906510",
    "end": "912720"
  },
  {
    "text": "that there's a conflict between the PRS essentially so what we really need to do is test this commit we want to test the",
    "start": "912720",
    "end": "918810"
  },
  {
    "text": "the one that's based off of the most recent base branch commit and github",
    "start": "918810",
    "end": "924900"
  },
  {
    "text": "doesn't really allow us to do this super nicely because a job reports its context",
    "start": "924900",
    "end": "930180"
  },
  {
    "text": "for the PR and it's tied to the PRS commit but that doesn't tell us if the base branch has been changing or not so",
    "start": "930180",
    "end": "936960"
  },
  {
    "text": "we need to be able to keep track of this ourselves another big thing is that with",
    "start": "936960",
    "end": "943200"
  },
  {
    "start": "940000",
    "end": "1024000"
  },
  {
    "text": "the the scale of the the kubernetes repo ins specifically we often have 50 P",
    "start": "943200",
    "end": "948990"
  },
  {
    "text": "hours per day and when testing takes 45 minutes to run that would limit us to testing about 35 PRS per day if we need",
    "start": "948990",
    "end": "955380"
  },
  {
    "text": "to do this serial testing approach where we test one PR emerge and then test the next PR based on that so our Q would",
    "start": "955380",
    "end": "963060"
  },
  {
    "text": "essentially back up and we wouldn't be able to merge all the PRS that we need to do it just wouldn't be possible so instead we batch PRS together we test",
    "start": "963060",
    "end": "971190"
  },
  {
    "text": "them together and then we can merge them together if all of the PRS in the badge succeed and we have a bunch of logic to",
    "start": "971190",
    "end": "978630"
  },
  {
    "text": "handle this intelligently namely if we are testing a single PR and a batch at",
    "start": "978630",
    "end": "984300"
  },
  {
    "text": "the same time if the single PR succeeds even though it could be merged we wait",
    "start": "984300",
    "end": "989610"
  },
  {
    "text": "until we find out the results of the batch because if we can merge a batch it's much more valuable because we can merge many PRS at once and clear our",
    "start": "989610",
    "end": "995670"
  },
  {
    "text": "queue much more quickly so batches are prioritized and serial tests see really tested PRS that are tested individually",
    "start": "995670",
    "end": "1002540"
  },
  {
    "text": "won't merge until a batch has actually failed so our previous solution to all",
    "start": "1002540",
    "end": "1010160"
  },
  {
    "text": "of this merge automation was the submit you if you've contributed to kubernetes",
    "start": "1010160",
    "end": "1015260"
  },
  {
    "text": "you might be familiar with this UI it's currently still used for the main kubernetes repo but has been deprecated",
    "start": "1015260",
    "end": "1021890"
  },
  {
    "text": "everywhere else so there's some major",
    "start": "1021890",
    "end": "1027260"
  },
  {
    "start": "1024000",
    "end": "1152000"
  },
  {
    "text": "downsides with the submit queue that we have run into one is that each submit",
    "start": "1027260",
    "end": "1032900"
  },
  {
    "text": "queue instance has a single binary and config / repo so that means that for every repo that we have that we want to",
    "start": "1032900",
    "end": "1039170"
  },
  {
    "text": "do merge automation in you need to spin up a new deployment a new configuration which is a significant",
    "start": "1039170",
    "end": "1045650"
  },
  {
    "text": "maintenance burden it's also me it is also scoped to the repo it's not scope to branches so that means that things in",
    "start": "1045650",
    "end": "1052550"
  },
  {
    "text": "different branches are still all in the same queue even though they could be merged separately because different branches don't affect each other and",
    "start": "1052550",
    "end": "1059600"
  },
  {
    "text": "this also kind of makes deters people from adopting the submit queue because they have to spin up a new deployment",
    "start": "1059600",
    "end": "1065480"
  },
  {
    "text": "every time they can't just add some configuration to a config file one of",
    "start": "1065480",
    "end": "1071060"
  },
  {
    "text": "the the other major problems was that it pulls four PRS and then filters through the PRS locally and this is extremely",
    "start": "1071060",
    "end": "1077030"
  },
  {
    "text": "expensive because polling for the PRS is not actually too bad but once we get the PRS we need to get a bunch of additional",
    "start": "1077030",
    "end": "1083630"
  },
  {
    "text": "information about them like the labels that are on them sometimes the issue comments things like that and that uses",
    "start": "1083630",
    "end": "1090230"
  },
  {
    "text": "a lot of API tokens there's also complicated prioritizing logic which is",
    "start": "1090230",
    "end": "1097450"
  },
  {
    "text": "it can be useful at times but ultimately it's more complicated than it's worth and it confuses contributors when",
    "start": "1097450",
    "end": "1102530"
  },
  {
    "text": "they're PR is not merging and something else is jumping ahead of it in the queue this omit queue does have batch testing",
    "start": "1102530",
    "end": "1108410"
  },
  {
    "text": "like I was describing but it was added as an afterthought it's an extension of this to make you and it requires an extra prowl component to be able to",
    "start": "1108410",
    "end": "1115160"
  },
  {
    "text": "coordinate with proud to achieve all of this and the final thing that is is bad",
    "start": "1115160",
    "end": "1120320"
  },
  {
    "text": "about the submit queue is that because it is not part of prowl it does not know which base branch commit the PR has been",
    "start": "1120320",
    "end": "1127520"
  },
  {
    "text": "tested against for all of our test results it has to go off of github which as we mentioned doesn't doesn't know",
    "start": "1127520",
    "end": "1132620"
  },
  {
    "text": "which base branch commit our tests were tested against so in order to solve that every time we want to merge a PR we have",
    "start": "1132620",
    "end": "1139310"
  },
  {
    "text": "to retest it right then to make sure that it actually has recent tests done against it and that means that if the PR",
    "start": "1139310",
    "end": "1145340"
  },
  {
    "text": "actually was up if its tests were up to date we are doing an unnecessary test which is going to take 45 minutes so our",
    "start": "1145340",
    "end": "1153320"
  },
  {
    "text": "new solution to all of these problems is tied and it uses a github search query",
    "start": "1153320",
    "end": "1158480"
  },
  {
    "text": "to define all of its merge requirements that's the the major important thing about tied so instead of listing all the",
    "start": "1158480",
    "end": "1164060"
  },
  {
    "text": "PRS and filtering through them we just ask github for all the PRS that match our merger bowl query so github will",
    "start": "1164060",
    "end": "1170720"
  },
  {
    "text": "just return the PRS that are mirja balandin even need to know why so that's that makes the the logic",
    "start": "1170720",
    "end": "1175730"
  },
  {
    "text": "simpler it makes it more friendly and for github users since search query logic is more familiar for people who",
    "start": "1175730",
    "end": "1183770"
  },
  {
    "text": "use github and it saves us API tokens another good thing about tied is that",
    "start": "1183770",
    "end": "1190100"
  },
  {
    "text": "it's got batch merging built into it as the core component so once you set up tied and have it working there's zero",
    "start": "1190100",
    "end": "1197150"
  },
  {
    "text": "configuration for batch merging it will just happen automatically whenever it's possible because we're able to use so",
    "start": "1197150",
    "end": "1204860"
  },
  {
    "text": "many fewer API tokens our single instance is actually able to handle much greater scale so we're currently merging",
    "start": "1204860",
    "end": "1211100"
  },
  {
    "text": "pr's and 45 repos from a single deployment that's running in our cluster that's compared to a max of 6 repos that",
    "start": "1211100",
    "end": "1217820"
  },
  {
    "text": "we ever managed with the submit queue and that required six different deployments this is actually also using",
    "start": "1217820",
    "end": "1225470"
  },
  {
    "text": "a the same github token that the rest of our proud appointment is so we're only using one github token for all of these whereas the submit key would frequently",
    "start": "1225470",
    "end": "1232340"
  },
  {
    "text": "a single deployment could run through all the tokens in an hour so this is",
    "start": "1232340",
    "end": "1237950"
  },
  {
    "text": "much more efficient and we've replaced all of these to make you instances except for the main kubernetes instance",
    "start": "1237950",
    "end": "1244250"
  },
  {
    "text": "which we will hopefully be replacing soon and because tied runs in the the",
    "start": "1244250",
    "end": "1250970"
  },
  {
    "text": "proud cluster it actually has access to all the test data itself and part of that data is what base branch commits we",
    "start": "1250970",
    "end": "1256370"
  },
  {
    "text": "were testing against so tied actually has enough information to know if our tests are up-to-date so therefore we",
    "start": "1256370",
    "end": "1262130"
  },
  {
    "text": "don't have to blindly retest like this and make you does so here's what some of the UI for tide looks like this is a",
    "start": "1262130",
    "end": "1268760"
  },
  {
    "text": "tight still pretty new so the UI is still being worked on and still has some some room for improvement this image",
    "start": "1268760",
    "end": "1275690"
  },
  {
    "text": "doesn't have a whole lot of action going on in the queue right now but I just wanted to show what it looks like when there's a multiple branches being tested",
    "start": "1275690",
    "end": "1282920"
  },
  {
    "text": "against here's a more interesting one so this will show that these these PRS are have been tested against the most recent",
    "start": "1282920",
    "end": "1289160"
  },
  {
    "text": "commit and are both passing and it shows that tied just merged one of them",
    "start": "1289160",
    "end": "1294970"
  },
  {
    "text": "another useful UI that we have is actually on the PR dashboard this isn't specific suit ID but it includes tied",
    "start": "1295390",
    "end": "1300890"
  },
  {
    "text": "data and this dashboard shows a bunch of cards like this one so it will show you all of your PRS that you have",
    "start": "1300890",
    "end": "1307220"
  },
  {
    "text": "and I'll show you that tests are running for them and also it will show a diff of",
    "start": "1307220",
    "end": "1312800"
  },
  {
    "text": "the merge requirements based on what's your PR has so we'll show you what labels you're missing what labels you",
    "start": "1312800",
    "end": "1318740"
  },
  {
    "text": "need to get rid of or any other things that are preventing your PR from being merged and finally tie it also has a",
    "start": "1318740",
    "end": "1327470"
  },
  {
    "text": "status context that appears at the bottom of your PR just like any other job would and it will show you whether or not your PR is mirja ball and in the",
    "start": "1327470",
    "end": "1334070"
  },
  {
    "text": "pool being tested for merge or whether or not there's actually something you need to do to make it mirja ball and if there is something that needs to be done",
    "start": "1334070",
    "end": "1340040"
  },
  {
    "text": "it will detail what that thing is in the comment so in this case it says that your PR is not mirja becuz you're",
    "start": "1340040",
    "end": "1345290"
  },
  {
    "text": "missing the LG TM label so as I said",
    "start": "1345290",
    "end": "1351590"
  },
  {
    "start": "1349000",
    "end": "1470000"
  },
  {
    "text": "tied is brand new and there's still lots of room for improvement so some of the things that we're planning to improve in the future are how batches are done",
    "start": "1351590",
    "end": "1358870"
  },
  {
    "text": "specifically we only have we have a fixed batch size right now we're only batching five PRS together at a time and",
    "start": "1358870",
    "end": "1365570"
  },
  {
    "text": "we only run one batch at a time we think this could be improved by running batches of size one two four eight all",
    "start": "1365570",
    "end": "1373280"
  },
  {
    "text": "the way up to the log of the the number of PRS that are trying to be tested and",
    "start": "1373280",
    "end": "1378700"
  },
  {
    "text": "we can run all of those batches concurrently and that's a beneficial because one of the harder things about",
    "start": "1378700",
    "end": "1384110"
  },
  {
    "text": "batching is what happens when a batch fails we don't know which PR in the batch was actually broken so we have to",
    "start": "1384110",
    "end": "1389360"
  },
  {
    "text": "have a process for kicking things out of the batch and if we have batches of varying sizes we'll be able to find a successful batch faster so that that's",
    "start": "1389360",
    "end": "1397040"
  },
  {
    "text": "one of the improvements we want to make we also want to make it so that you don't actually have to have all of your",
    "start": "1397040",
    "end": "1402950"
  },
  {
    "text": "tests passing sometimes there's a status context that reports to your PR that is not actually important maybe it's a",
    "start": "1402950",
    "end": "1410410"
  },
  {
    "text": "review status that is optional or a job that is optional and you want to get",
    "start": "1410410",
    "end": "1415520"
  },
  {
    "text": "information on it on PRS but you don't want to require it for merge so we want to be able to change it so that your PR so you can specify that certain contexts",
    "start": "1415520",
    "end": "1422900"
  },
  {
    "text": "are not actually required and additionally there's a couple UI changes we'd like to make notably on this",
    "start": "1422900",
    "end": "1431810"
  },
  {
    "text": "diagram you can see that there's some it shows jobs that have failing tests which is a little confusing because this is",
    "start": "1431810",
    "end": "1437390"
  },
  {
    "text": "supposed to show things that are emerging and if your PR is failing tests it's not going to be merciful so there's a",
    "start": "1437390",
    "end": "1442940"
  },
  {
    "text": "couple of improvements that we want to do there but ultimately it's been very",
    "start": "1442940",
    "end": "1449179"
  },
  {
    "text": "useful for us so far and it's been growing very quickly it's quickly expanded to a lot of the repos that",
    "start": "1449179",
    "end": "1454549"
  },
  {
    "text": "we've used and because it doesn't require a separate deployment all that it takes to configure your repo to run",
    "start": "1454549",
    "end": "1461600"
  },
  {
    "text": "with our instance is just adding a configuration for your query that you want to confine mirja by RS so it's it's",
    "start": "1461600",
    "end": "1468110"
  },
  {
    "text": "dead simple yep so that's tied okay so last not least",
    "start": "1468110",
    "end": "1477169"
  },
  {
    "start": "1470000",
    "end": "1652000"
  },
  {
    "text": "I'm trying to how trying to go over the roadmap for testing FRA with Aaron's",
    "start": "1477169",
    "end": "1483289"
  },
  {
    "text": "beautiful picture talk so this is the same slide I present in the sick update",
    "start": "1483289",
    "end": "1490220"
  },
  {
    "text": "on Tuesday basically what we want to do is first tide is awesome from Koh so we",
    "start": "1490220",
    "end": "1495710"
  },
  {
    "text": "want to switch tight for the main communities repo and we can retire our last living some acute instance and we",
    "start": "1495710",
    "end": "1503269"
  },
  {
    "text": "want to split up the prow configuration for each org or sick so that each stick",
    "start": "1503269",
    "end": "1508879"
  },
  {
    "text": "can own their own trial jobs like configurations and I don't have to review all the project chain DPRs also",
    "start": "1508879",
    "end": "1517460"
  },
  {
    "text": "have once we have a policy to promote or demote like merge blocking jobs for",
    "start": "1517460",
    "end": "1523129"
  },
  {
    "text": "example we had instance cops arrest job was like failing on every single PR",
    "start": "1523129",
    "end": "1529759"
  },
  {
    "text": "because of there is a resource leak on a dress so I have to like harass just in",
    "start": "1529759",
    "end": "1535820"
  },
  {
    "text": "Santa Barbara to fixing it instead of doing that we can have some policies say",
    "start": "1535820",
    "end": "1541460"
  },
  {
    "text": "if a pre-image job was like consistently failing for a certain number of time we",
    "start": "1541460",
    "end": "1546799"
  },
  {
    "text": "can demote demoted to be num blocking for a while until it's stabilized again",
    "start": "1546799",
    "end": "1552409"
  },
  {
    "text": "that might help our developing velocity we're also doing a lot of compliments",
    "start": "1552409",
    "end": "1559639"
  },
  {
    "text": "drive so we want to support both sonic running conformance test use Sunna Bowie",
    "start": "1559639",
    "end": "1565190"
  },
  {
    "text": "and Q test and we have a task where dashboard I probably can just show it",
    "start": "1565190",
    "end": "1571539"
  },
  {
    "text": "basically collects all the data from were from different cloud providers well",
    "start": "1571539",
    "end": "1581389"
  },
  {
    "text": "you're welcome to contributing your test result their last we want to create a",
    "start": "1581389",
    "end": "1589159"
  },
  {
    "text": "problem though we want to open sourced a screw it I mean everyone is you probably using test grid but currently it's still",
    "start": "1589159",
    "end": "1596059"
  },
  {
    "text": "closed source in Google we want to open source it so that we can get open source contributors to improve that we also",
    "start": "1596059",
    "end": "1604070"
  },
  {
    "text": "want to integrating logging artifacts viewing pro which we are currently using",
    "start": "1604070",
    "end": "1609200"
  },
  {
    "text": "something called Google ADA which you click on detailed link from your PR status so that we can have native",
    "start": "1609200",
    "end": "1616820"
  },
  {
    "text": "support supporting Pro we we also want to create a bundle between Pro and test grid so that we can making more people",
    "start": "1616820",
    "end": "1626570"
  },
  {
    "text": "to adopt Pro last time to say thanks to",
    "start": "1626570",
    "end": "1631580"
  },
  {
    "text": "our testing for our computers and we also welcome everyone to contribute into",
    "start": "1631580",
    "end": "1636979"
  },
  {
    "text": "testing for us so next time you can you're outta your github avatar can show",
    "start": "1636979",
    "end": "1642049"
  },
  {
    "text": "up on this page question time",
    "start": "1642049",
    "end": "1648580"
  },
  {
    "start": "1652000",
    "end": "1844000"
  },
  {
    "text": "so I've been interested in writing some prowl plugins for a while but the",
    "start": "1652550",
    "end": "1658020"
  },
  {
    "text": "problem is that I don't have any way to test them and I'm not like testing them against crashing but testing them",
    "start": "1658020",
    "end": "1664170"
  },
  {
    "text": "against updating you know PRS in the wrong way there is actually way that we",
    "start": "1664170",
    "end": "1675180"
  },
  {
    "text": "can test them we have a tool called phony that basically just lets you provide a web hook payload that you've",
    "start": "1675180",
    "end": "1681660"
  },
  {
    "text": "gotten or have generated yourself and you can send it to hook so that would allow you to once you have your plug-in",
    "start": "1681660",
    "end": "1688230"
  },
  {
    "text": "written you build it and compile it and you run hook and then you can just send a web hook straight to it so you can run",
    "start": "1688230",
    "end": "1694260"
  },
  {
    "text": "it all locally and test it that way and there's instructions on how to do that in the in the beaver pro",
    "start": "1694260",
    "end": "1702440"
  },
  {
    "text": "so we have been discussing two at logic I want labels for Klein go developer",
    "start": "1708040",
    "end": "1714380"
  },
  {
    "text": "change locks for example and we never made anything in this direction what is the process to introduce something you",
    "start": "1714380",
    "end": "1721070"
  },
  {
    "text": "need some new label process and maybe a probe in asking what the process for",
    "start": "1721070",
    "end": "1730190"
  },
  {
    "text": "adding a label is for a command that",
    "start": "1730190",
    "end": "1736430"
  },
  {
    "text": "controls a label so to make it PR",
    "start": "1736430",
    "end": "1742340"
  },
  {
    "text": "blocking for merging that's that's controlled at the tide level so you would say in the tied career you would",
    "start": "1742340",
    "end": "1747530"
  },
  {
    "text": "say that it can't have this label so that's a blockage on it to actually apply the label you typically if you",
    "start": "1747530",
    "end": "1753260"
  },
  {
    "text": "want to you have a command that controls the label or if the labels automatically applied based on the properties of the PR you'd have a plugin that reacts to",
    "start": "1753260",
    "end": "1760070"
  },
  {
    "text": "github events for the PR so either commands that control the control the",
    "start": "1760070",
    "end": "1765440"
  },
  {
    "text": "label or the events for the PR so that you can inspect the state of the PR and see if the label needs to be applied and",
    "start": "1765440",
    "end": "1771590"
  },
  {
    "text": "then the plug-in can determine whether or not to apply or remove the label",
    "start": "1771590",
    "end": "1777039"
  },
  {
    "text": "you just have to make a plug in and for brow well so if it's something you're interested in introducing to the",
    "start": "1781520",
    "end": "1787380"
  },
  {
    "text": "community I sort of like to say the test in fair responsible for sort of",
    "start": "1787380",
    "end": "1793170"
  },
  {
    "text": "implementing the process and providing insights from the boots on the ground level but we also really appreciate",
    "start": "1793170",
    "end": "1799560"
  },
  {
    "text": "review and insight from the contributor experience sig so we generally like to make sure if it's something that's going",
    "start": "1799560",
    "end": "1805470"
  },
  {
    "text": "to be affecting the kubernetes project as a whole that it's run through both of those groups and we often have attendees",
    "start": "1805470",
    "end": "1812190"
  },
  {
    "text": "from both SIG's at either SIG's meetings so you'll generally get feedback but sometimes you might want a more thorough",
    "start": "1812190",
    "end": "1817410"
  },
  {
    "text": "review but yeah generally I would say the process is just open up an issue if it's purely like a technical change in",
    "start": "1817410",
    "end": "1824280"
  },
  {
    "text": "an existing thing maybe test in front if you're talking about how to change this for the kubernetes projects as a whole",
    "start": "1824280",
    "end": "1829350"
  },
  {
    "text": "you probably want an issue in the community repos since you're changing how the community does things and we'd",
    "start": "1829350",
    "end": "1834630"
  },
  {
    "text": "have an issue in testing for the track the technical implementation of that so",
    "start": "1834630",
    "end": "1843960"
  },
  {
    "text": "what does happen when the test batch fails what's how you recover from that",
    "start": "1843960",
    "end": "1851450"
  },
  {
    "text": "so whenever we run a batch we are also running a single PR from the batch so",
    "start": "1851690",
    "end": "1858270"
  },
  {
    "text": "basically whenever a we need to trigger something we trigger a batch containing a bat PR and we individually test that",
    "start": "1858270",
    "end": "1864900"
  },
  {
    "text": "PR that way if the batch fails we can have a signal on one of the PRS in the batch on to kick it out or not having",
    "start": "1864900",
    "end": "1873030"
  },
  {
    "text": "multiple batch sizes will help us with that",
    "start": "1873030",
    "end": "1876830"
  },
  {
    "text": "yes so when the batch fails in that PR succeeds we since we know that PR is",
    "start": "1880240",
    "end": "1887080"
  },
  {
    "text": "okay we end up we merged that PR and then we run another batch with the the remaining yeah yes and that's because uh",
    "start": "1887080",
    "end": "1894040"
  },
  {
    "text": "if something passes serially we know that it can be merged so yeah if we have to run a new batch anyways after that we",
    "start": "1894040",
    "end": "1899710"
  },
  {
    "text": "might as well run it against the newest commits on master the batch testing is",
    "start": "1899710",
    "end": "1909130"
  },
  {
    "text": "triggered whenever we start a serial test they happen simultaneously or if there's not a batch running out yes so",
    "start": "1909130",
    "end": "1915010"
  },
  {
    "text": "if if something is somehow gotten out of sync it will start up a batch anyways yeah",
    "start": "1915010",
    "end": "1920789"
  },
  {
    "start": "1927000",
    "end": "2186000"
  },
  {
    "text": "I'm trying to find those dashboards that you showed here the dashboard of the",
    "start": "1927840",
    "end": "1934500"
  },
  {
    "text": "test result but I tried to google it and I'm trying to find it in the comments of",
    "start": "1934500",
    "end": "1942450"
  },
  {
    "text": "merged pull request I have no idea how to get there proud arcade style that's like the",
    "start": "1942450",
    "end": "1949610"
  },
  {
    "text": "dashboard shows odd jobs Ronny and people that haven't been at its talk how",
    "start": "1949610",
    "end": "1955170"
  },
  {
    "text": "do they find it there's a couple things there's like a contributor cheat sheet",
    "start": "1955170",
    "end": "1961710"
  },
  {
    "text": "for common pieces of testing infrastructure we're also working on improving like our testing documentation",
    "start": "1961710",
    "end": "1967110"
  },
  {
    "text": "in general and I know that we have we provide links to the deck plug-in if the",
    "start": "1967110",
    "end": "1974790"
  },
  {
    "text": "job is currently running I think but I'll let Cole answer that for sure so if you also if you're going to",
    "start": "1974790",
    "end": "1980640"
  },
  {
    "text": "kubernetes testing for our main page if you scroll down there are the links to",
    "start": "1980640",
    "end": "1986190"
  },
  {
    "text": "all the useful dashboard you can find just go to github.com so that's kubernetes that's testing for also to",
    "start": "1986190",
    "end": "1992880"
  },
  {
    "text": "answer your question more directly since it was about the knowing about the tied dashboards those are all linked from the",
    "start": "1992880",
    "end": "1998160"
  },
  {
    "text": "tied status so on your PR we're tied is telling you what your state in the queue is if you click on the link there it",
    "start": "1998160",
    "end": "2003800"
  },
  {
    "text": "will take you directly to the dashboard",
    "start": "2003800",
    "end": "2006820"
  },
  {
    "text": "yeah thanks hey I was so excited to contribute to this project and I run",
    "start": "2013010",
    "end": "2018990"
  },
  {
    "text": "this on my cluster and then I found out you guys need cluster admin to run a regular micro service because you see Rd",
    "start": "2018990",
    "end": "2027210"
  },
  {
    "text": "for that would you be open to changing that no CRTs have a bunch of advantages",
    "start": "2027210",
    "end": "2043760"
  },
  {
    "text": "we can do validation yeah the there's",
    "start": "2043760",
    "end": "2050450"
  },
  {
    "text": "there's not uh I mean if you're gonna be",
    "start": "2050450",
    "end": "2056010"
  },
  {
    "text": "setting up prowl in a cluster like you probably should have admin permissions I would think but it's also just a one",
    "start": "2056010",
    "end": "2062850"
  },
  {
    "text": "like you're administering the cluster so it's also a one-time setup and you just",
    "start": "2062850",
    "end": "2068398"
  },
  {
    "text": "have to you just have to create the CRT and then that's the only step that requires admin permissions yeah well",
    "start": "2068399",
    "end": "2081148"
  },
  {
    "text": "there's I mean using config Maps or something like that is not really a viable alternative or at least it has a",
    "start": "2081149",
    "end": "2088800"
  },
  {
    "text": "lot of downside we'd lose a lot of the functionality of validation and other stuff like that that we get with the",
    "start": "2088800",
    "end": "2093929"
  },
  {
    "text": "CRTs",
    "start": "2093929",
    "end": "2096260"
  },
  {
    "text": "either so some there was a proposal around making a change to PR labeling to",
    "start": "2102360",
    "end": "2110560"
  },
  {
    "text": "deal with the changeover to tide what's the status of that so I actually",
    "start": "2110560",
    "end": "2118810"
  },
  {
    "text": "left a comment in the dock about that just recently if we the it what it seems",
    "start": "2118810",
    "end": "2125110"
  },
  {
    "text": "to be boiling down to is whether or not there's any possibility for PRS to be made to the master branch but be",
    "start": "2125110",
    "end": "2131590"
  },
  {
    "text": "assigned previous milestones if we're",
    "start": "2131590",
    "end": "2136750"
  },
  {
    "text": "not sure if that's actually something that occurs or if that should be allowed if that's not allowed then we don't",
    "start": "2136750",
    "end": "2142240"
  },
  {
    "text": "actually have to write any additional code we can just like change the tide query and we're done if that is the case",
    "start": "2142240",
    "end": "2149890"
  },
  {
    "text": "if there are PRS in the master branch for previous releases that we need to allow to merge in addition to the",
    "start": "2149890",
    "end": "2156250"
  },
  {
    "text": "current release then we will need some sort of mechanism to control the labeling",
    "start": "2156250",
    "end": "2162630"
  },
  {
    "text": "I think that's all the time we have yep and thanks everyone and you can find us",
    "start": "2164530",
    "end": "2169750"
  },
  {
    "text": "on suggesting on slack or acoustic testing at Google Groups comm and welcome to make a contribution to",
    "start": "2169750",
    "end": "2176740"
  },
  {
    "text": "testing by sending a PR to testing for repo thanks everyone Thanks",
    "start": "2176740",
    "end": "2183030"
  }
]