[
  {
    "text": "hello everyone hello and uh this is almost the end of the day almost the end",
    "start": "240",
    "end": "6440"
  },
  {
    "text": "of uh of cucon so thanks to all of you",
    "start": "6440",
    "end": "11480"
  },
  {
    "text": "to attending our talk um so we're all going to talk about uh workload identity",
    "start": "11480",
    "end": "17439"
  },
  {
    "text": "Federation in particular for a particular use case that is um",
    "start": "17439",
    "end": "22720"
  },
  {
    "text": "development environment on kubernetes and in the in particular in the Ford uh",
    "start": "22720",
    "end": "28760"
  },
  {
    "text": "use case hello all welcome uh my name is Satish PanAm I am a technical leader and",
    "start": "28760",
    "end": "35239"
  },
  {
    "text": "a cloud manager for various cloud services some of the things that I'm responsible and accountable for most of",
    "start": "35239",
    "end": "41480"
  },
  {
    "text": "the things around kubernetes lot of cloud services in Azure and gcp uh Mario",
    "start": "41480",
    "end": "48680"
  },
  {
    "text": "yes and my name is Mario I I work for redot uh as a software engineer I work",
    "start": "48680",
    "end": "54480"
  },
  {
    "text": "on the developer tools organization uh in red hat and I've been working on",
    "start": "54480",
    "end": "60000"
  },
  {
    "text": "Cloud development environment for the last seven years and we'll uh talk about that cool so just want to set the stage",
    "start": "60000",
    "end": "68320"
  },
  {
    "text": "before we um hopefully try to cover all of these things um I want to just talk about few things like uh what are the",
    "start": "68320",
    "end": "75080"
  },
  {
    "text": "challenges where we were facing along why we did this thing um what is a cloud",
    "start": "75080",
    "end": "80479"
  },
  {
    "text": "development environment uh few things about kuties of like uh what is a service account",
    "start": "80479",
    "end": "86759"
  },
  {
    "text": "service account token volume projection and how that can be used uh to do things",
    "start": "86759",
    "end": "93439"
  },
  {
    "text": "like workload identity Federation or Federated identities so with that so I just do",
    "start": "93439",
    "end": "98880"
  },
  {
    "text": "want to set some basic s know um context of how big we are what we are",
    "start": "98880",
    "end": "107119"
  },
  {
    "text": "uh we started along about 2017 currently we do have like two ginormous bare metal",
    "start": "107119",
    "end": "114799"
  },
  {
    "text": "mon monolithic bare metal clusters on Prem we have 50 plus uh uh kubernetes",
    "start": "114799",
    "end": "120719"
  },
  {
    "text": "clusters running anywhere from Azure on Prem to gcp to plants spread over 2 and",
    "start": "120719",
    "end": "127520"
  },
  {
    "text": "a 12,000 3,000 application teams around 8 and a half th000 name spaces last time",
    "start": "127520",
    "end": "133920"
  },
  {
    "text": "we bothered to count that is some Journey right so we've been as I said earlier uh we've been in Journey since",
    "start": "133920",
    "end": "140879"
  },
  {
    "text": "2016 2017 we started doing kues and from there on we jumped down to",
    "start": "140879",
    "end": "147400"
  },
  {
    "text": "things like open shift started with coros tectonic for those who are around",
    "start": "147400",
    "end": "153080"
  },
  {
    "text": "to know about them then started the whole journey of leas privileges why",
    "start": "153080",
    "end": "158879"
  },
  {
    "text": "because we were as the fleet size was growing people were running around with uh quite a bit of elevated privileges uh",
    "start": "158879",
    "end": "166879"
  },
  {
    "text": "then we started working on how do you do as the fleet size increases how do you do configuration management of this",
    "start": "166879",
    "end": "172720"
  },
  {
    "text": "Fleet then we started talking about as we entered into public clouds what is IAC looks like what do cicd look",
    "start": "172720",
    "end": "180319"
  },
  {
    "text": "like uh then whole bunch of things kicked around around Cloud adoption",
    "start": "180319",
    "end": "186000"
  },
  {
    "text": "primarily around gcp Azure and then we started in",
    "start": "186000",
    "end": "191840"
  },
  {
    "text": "2021 what we call as like fit for purpose clusters saying that a cluster doing one thing or one set of things uh",
    "start": "191840",
    "end": "199599"
  },
  {
    "text": "rather than saying that hey we'll have a kitchen sink everything thrown into one thing uh few things that we talked about",
    "start": "199599",
    "end": "206080"
  },
  {
    "text": "earlier on Monday I guess uh uh around our get op Journey we started",
    "start": "206080",
    "end": "211159"
  },
  {
    "text": "refactoring all of our code so that everything is declarative nothing we do",
    "start": "211159",
    "end": "216319"
  },
  {
    "text": "today is Click Ops everything has to be done through code it's all declared",
    "start": "216319",
    "end": "221720"
  },
  {
    "text": "ahead of time and then as part of all of that Journey we one of the things that we started encountering is like uh how",
    "start": "221720",
    "end": "229120"
  },
  {
    "text": "do we create consistent development environments as we started onboarding",
    "start": "229120",
    "end": "234239"
  },
  {
    "text": "hundreds and thousands of people were saying that it works on my laptop it doesn't work on your laptop so how do",
    "start": "234239",
    "end": "240120"
  },
  {
    "text": "you solve those problems right so as part of all of that stuff so we will jump a little further and we'll talk",
    "start": "240120",
    "end": "247640"
  },
  {
    "text": "with this particular slide is like obviously like most of you who have used",
    "start": "247640",
    "end": "252720"
  },
  {
    "text": "Cloud development environmental Cloud most of the cloud clis are written in",
    "start": "252720",
    "end": "258040"
  },
  {
    "text": "Python obviously everybody has their own favorite operating systems could be Mac could be Windows could the Linux but how",
    "start": "258040",
    "end": "265120"
  },
  {
    "text": "do you start a python environment just just to set the stage right doesn't have it the same thing could apply to",
    "start": "265120",
    "end": "270560"
  },
  {
    "text": "anything the idea is that it's complex that more than one way of doing the same thing and there is no right way because",
    "start": "270560",
    "end": "278199"
  },
  {
    "text": "right way is the way that you like the best and that works for you but it may not work for your somebody else across",
    "start": "278199",
    "end": "284479"
  },
  {
    "text": "the teams or maybe your partners maybe your suppliers maybe your vendors they want to do it different way so how do",
    "start": "284479",
    "end": "291039"
  },
  {
    "text": "you solve this thing so one of the other some of the other challenges on the based on the the previous uh uh slide is",
    "start": "291039",
    "end": "300199"
  },
  {
    "text": "you want consistent user experience no matter where you are no matter what your operating system is no matter how new or",
    "start": "300199",
    "end": "307520"
  },
  {
    "text": "how old you have been in the team and accustomed to the practices and rituals and the Customs within the team but you",
    "start": "307520",
    "end": "313160"
  },
  {
    "text": "also want it to be cheap you also want it to be secure the other thing that we",
    "start": "313160",
    "end": "319120"
  },
  {
    "text": "want we were looking at least uh is that we wanted to build these systems based on Open Standards so that when people do",
    "start": "319120",
    "end": "327039"
  },
  {
    "text": "come in they can extend it we can extend it or the other important thing is like",
    "start": "327039",
    "end": "333000"
  },
  {
    "text": "how fast can we spin them up for example we could spend hours and days",
    "start": "333000",
    "end": "338319"
  },
  {
    "text": "configuring laptops to configuring development environments intellig Eclipse name your thing right",
    "start": "338319",
    "end": "345400"
  },
  {
    "text": "so then the other important aspect as I started alluding to is like as we start",
    "start": "345400",
    "end": "350759"
  },
  {
    "text": "doing cloud and all these different areas that we are physically present across the globe how do you do",
    "start": "350759",
    "end": "357440"
  },
  {
    "text": "credentials management do you provide tokens do you provide usernames",
    "start": "357440",
    "end": "362520"
  },
  {
    "text": "passwords do you provide MFA and all these different things comes in but the",
    "start": "362520",
    "end": "367759"
  },
  {
    "text": "important thing other important aspect is like as we go down the Journey of saying that everything is get Ops",
    "start": "367759",
    "end": "374479"
  },
  {
    "text": "everything is coded so wouldn't it be nice to say that have an environment defined right in",
    "start": "374479",
    "end": "380319"
  },
  {
    "text": "your G repository that describes an a development environment for your for",
    "start": "380319",
    "end": "385680"
  },
  {
    "text": "that particular repository so these were some of the ideas that we were thinking about how can we solve some of this so",
    "start": "385680",
    "end": "393639"
  },
  {
    "text": "based on that we started working with red hat Mario and team and a lot of the",
    "start": "393639",
    "end": "398759"
  },
  {
    "text": "eclips community and Mario so how can you how do you think we can solve some of these earlier challenges do you have",
    "start": "398759",
    "end": "404599"
  },
  {
    "text": "some suggestions for us yeah that that was the the question and that's exactly",
    "start": "404599",
    "end": "410960"
  },
  {
    "text": "when we we start collaborating a few months ago and yeah there are there are a few options uh I think that most of",
    "start": "410960",
    "end": "418599"
  },
  {
    "text": "you probably are aware of different things you probably have tried in your career uh when you had to to do some",
    "start": "418599",
    "end": "425879"
  },
  {
    "text": "software development you had to set up your environment and uh you you you",
    "start": "425879",
    "end": "431400"
  },
  {
    "text": "wanted also to share your development environment with with somebody else or maybe you wanted to uh switch to another",
    "start": "431400",
    "end": "439199"
  },
  {
    "text": "Branch or another project with another version of python Etc so what are the",
    "start": "439199",
    "end": "444840"
  },
  {
    "text": "available solution for this problem one possibility is using virtual machines",
    "start": "444840",
    "end": "451400"
  },
  {
    "text": "and a tool that works really well for that propos as vagrant for example was",
    "start": "451400",
    "end": "458440"
  },
  {
    "text": "it it is still widely used was popular a few years ago um and today uh we have",
    "start": "458440",
    "end": "467919"
  },
  {
    "text": "Linux containers of force you can specify your development Tools in a",
    "start": "467919",
    "end": "473639"
  },
  {
    "text": "Docker file so that you then you build the image and you will have all uh the",
    "start": "473639",
    "end": "479039"
  },
  {
    "text": "theel environment and then you can use um some um orchestrator as kubernetes to",
    "start": "479039",
    "end": "487000"
  },
  {
    "text": "provision your development environment on the Fly automatically for",
    "start": "487000",
    "end": "492680"
  },
  {
    "text": "developers um there you can also another options another option is environment",
    "start": "492680",
    "end": "498199"
  },
  {
    "text": "managers so that some something like uh virtual end with uh with python uh or uh",
    "start": "498199",
    "end": "505520"
  },
  {
    "text": "SDK man for for Java or other languages so you're you're able to have to switch",
    "start": "505520",
    "end": "512719"
  },
  {
    "text": "rapidly your the version of uh the SDK that you have on your machine so but",
    "start": "512719",
    "end": "518240"
  },
  {
    "text": "this is this doesn't provide a full isolation but it's it can work on some cases it's it may be the",
    "start": "518240",
    "end": "525959"
  },
  {
    "text": "the the good fit and uh the last one are configuration manager so those are more powerful tools that allows you to set up",
    "start": "525959",
    "end": "533800"
  },
  {
    "text": "an rapidly a machine with all the tools all the environment variables everything",
    "start": "533800",
    "end": "539200"
  },
  {
    "text": "you need credential etc for uh for software development these are all the options so we have been iterating with",
    "start": "539200",
    "end": "547360"
  },
  {
    "text": "uh with those different solution for a few years and since uh um three or four",
    "start": "547360",
    "end": "552920"
  },
  {
    "text": "years we've been actually working on a kubernetes operator to manage Cloud",
    "start": "552920",
    "end": "559079"
  },
  {
    "text": "development environment so it's container based and uh it's it uses it",
    "start": "559079",
    "end": "564120"
  },
  {
    "text": "extends kubernetes so it's an operator so it defines a customer source",
    "start": "564120",
    "end": "569399"
  },
  {
    "text": "definition that allow a developer to uh Define the cloud development environment",
    "start": "569399",
    "end": "577160"
  },
  {
    "text": "in a declarative way uh and share that with the rest of the team this is something that we are",
    "start": "577160",
    "end": "583760"
  },
  {
    "text": "using uh and rat for the open shift death spaces uh and also on on other",
    "start": "583760",
    "end": "590560"
  },
  {
    "text": "projects like Eclipse CH and the open shift web web terminal so the the devor",
    "start": "590560",
    "end": "596600"
  },
  {
    "text": "space operator is part of of the def file organization that is a a sendbox",
    "start": "596600",
    "end": "602200"
  },
  {
    "text": "cncf project so in practice it's once you",
    "start": "602200",
    "end": "610120"
  },
  {
    "text": "have installed the operator on the cluster you're able to start a",
    "start": "610120",
    "end": "615560"
  },
  {
    "text": "development environment with with a cctl apply so this is an example and I will",
    "start": "615560",
    "end": "622560"
  },
  {
    "text": "actually run a demo quickly so um my terminal here it's a local",
    "start": "622560",
    "end": "630200"
  },
  {
    "text": "terminal that is already connected with uh kubernetes cluster where the dev",
    "start": "630200",
    "end": "636000"
  },
  {
    "text": "workspace operator is already installed so if I uh try to do a cctl explain of",
    "start": "636000",
    "end": "642920"
  },
  {
    "text": "the that of uh the dev work space it provides the description so you can see",
    "start": "642920",
    "end": "649279"
  },
  {
    "text": "here that the crd is installed here and I will be able",
    "start": "649279",
    "end": "654670"
  },
  {
    "text": "[Music] to do the cctl apply",
    "start": "654670",
    "end": "660320"
  },
  {
    "text": "that we just that I was just showing here so in this IML there is a the",
    "start": "660320",
    "end": "667079"
  },
  {
    "text": "important part here is the container image uh I'm using a a container image",
    "start": "667079",
    "end": "673000"
  },
  {
    "text": "where I have that I've built with the tooling so there there are a few",
    "start": "673000",
    "end": "678040"
  },
  {
    "text": "language sdks that will allow me to um to compile to test my",
    "start": "678040",
    "end": "685600"
  },
  {
    "text": "application uh and the last line you see where we actually specifying what what",
    "start": "685600",
    "end": "692079"
  },
  {
    "text": "editor it will be used in this case is vs code um the definition of vs code is",
    "start": "692079",
    "end": "698320"
  },
  {
    "text": "actually in another uh Dev workspace so I'm referencing here um the uh the vs",
    "start": "698320",
    "end": "705639"
  },
  {
    "text": "code definition so that vs code will be included in my development environment",
    "start": "705639",
    "end": "711279"
  },
  {
    "text": "so if I run that and then I watch it so watch",
    "start": "711279",
    "end": "718519"
  },
  {
    "text": "the the n workpace object um yeah the now kuet is so the operator is the",
    "start": "718519",
    "end": "724639"
  },
  {
    "text": "controller is actually starting the container starting vs code inside and is",
    "start": "724639",
    "end": "731279"
  },
  {
    "text": "providing a um and it will return an HTTP URL that I can",
    "start": "731279",
    "end": "740639"
  },
  {
    "text": "open where actually I will have Visa code uh up and running here there is no",
    "start": "740639",
    "end": "746480"
  },
  {
    "text": "git repository cloned we could have a more complicated Dev workpace yl file",
    "start": "746480",
    "end": "752720"
  },
  {
    "text": "with a list of git repositories or with environment variables or with have",
    "start": "752720",
    "end": "759120"
  },
  {
    "text": "predefined task that will be available from vs code so it's much powerful so we",
    "start": "759120",
    "end": "766880"
  },
  {
    "text": "are just showing the most basic example of a Dev workpace here",
    "start": "766880",
    "end": "772440"
  },
  {
    "text": "um and I'm going to switch here and I'm going to I'm going to open is a fully so",
    "start": "772440",
    "end": "780360"
  },
  {
    "text": "what this is Visa St code open source that we package in an image and we start",
    "start": "780360",
    "end": "787600"
  },
  {
    "text": "with uh with the workspace so you you have access to uh the terminal the",
    "start": "787600",
    "end": "793000"
  },
  {
    "text": "terminal so you it will open a shell inside the the the container the",
    "start": "793000",
    "end": "800279"
  },
  {
    "text": "the container image that was specified in the dev workspace IML file and I will be able from here to uh",
    "start": "800279",
    "end": "808880"
  },
  {
    "text": "to use my development tools so something that uh we'll talk later is um about",
    "start": "808880",
    "end": "817839"
  },
  {
    "text": "credentials uh in adding credentials here so how do we do that because we",
    "start": "817839",
    "end": "823360"
  },
  {
    "text": "haven't I haven't specified anything and in fact if I try to do a",
    "start": "823360",
    "end": "829199"
  },
  {
    "text": "g-cloud projects list for example g-cloud is available in my image but I'm",
    "start": "829199",
    "end": "834240"
  },
  {
    "text": "not able to actually connect I'm not able to access the pi because credentials are not here so going back",
    "start": "834240",
    "end": "840800"
  },
  {
    "text": "to the slides",
    "start": "840800",
    "end": "847800"
  },
  {
    "text": "and so summarizing what happened uh we just did a cube CTL apply",
    "start": "847800",
    "end": "855279"
  },
  {
    "text": "so we created a Dev work space object and the operator created a pod",
    "start": "855279",
    "end": "864519"
  },
  {
    "text": "with a development container and it started an ID so in this case vs",
    "start": "864519",
    "end": "871040"
  },
  {
    "text": "code um it attach a persistent volume to The Container so that the source code",
    "start": "871040",
    "end": "877279"
  },
  {
    "text": "will be persisted even if I decided to stop uh my workspace and to delete the",
    "start": "877279",
    "end": "882959"
  },
  {
    "text": "Pod I will be able to restart it later and I won't lose my uh the changes on on",
    "start": "882959",
    "end": "888480"
  },
  {
    "text": "the source source file um I've added also some runtime containers you can add",
    "start": "888480",
    "end": "894160"
  },
  {
    "text": "um some databases or some other um services that will help help test the",
    "start": "894160",
    "end": "900680"
  },
  {
    "text": "the application that you're developing so you can add as many as many container as you want so it's it's um the dev work",
    "start": "900680",
    "end": "907560"
  },
  {
    "text": "space allows you to to add also um some events so it you will be able to run",
    "start": "907560",
    "end": "915560"
  },
  {
    "text": "some uh to execute some commands before uh so just after the the the start of",
    "start": "915560",
    "end": "920920"
  },
  {
    "text": "the of the workspace or before it it get closed so it's it's it's powerful and",
    "start": "920920",
    "end": "926959"
  },
  {
    "text": "then there is an Ingress that um allows me to access vs code from my browser so",
    "start": "926959",
    "end": "934800"
  },
  {
    "text": "these are like the basic component of my development environment now the problem is that I've",
    "start": "934800",
    "end": "942440"
  },
  {
    "text": "tried to use uh g-cloud and I couldn't uh use it so I mean I I could have",
    "start": "942440",
    "end": "948519"
  },
  {
    "text": "loging but uh if I have every time that I start a workspace loging out login",
    "start": "948519",
    "end": "954360"
  },
  {
    "text": "manually that could be uh something that will be annoying so um there are a few",
    "start": "954360",
    "end": "960920"
  },
  {
    "text": "ways we can avoid that the classical way we have been using is you can create a",
    "start": "960920",
    "end": "967440"
  },
  {
    "text": "secret on kubernetes you you annotate it and we automatically uh include the",
    "start": "967440",
    "end": "973759"
  },
  {
    "text": "content of the secret in the uh in the workspace as as an environment variable or as a file but this is not eal uh this",
    "start": "973759",
    "end": "981920"
  },
  {
    "text": "is not edal uh and we will see so the the that um",
    "start": "981920",
    "end": "989800"
  },
  {
    "text": "one of the way today to um include",
    "start": "989800",
    "end": "995079"
  },
  {
    "text": "credentials the best the more secure way to do that is using service account",
    "start": "995079",
    "end": "1000519"
  },
  {
    "text": "tokens okay so that's when actually talking with Sati thatti suggested that",
    "start": "1000519",
    "end": "1005959"
  },
  {
    "text": "hey why don't we try to use the new service account",
    "start": "1005959",
    "end": "1012920"
  },
  {
    "text": "tokens so for those who have been around",
    "start": "1012959",
    "end": "1020480"
  },
  {
    "text": "for th for those who have been around and using kuties for some time now uh there has been a big change in",
    "start": "1022199",
    "end": "1028520"
  },
  {
    "text": "kubernetes 120 and 21 is around old service account tokens were long lived",
    "start": "1028520",
    "end": "1037160"
  },
  {
    "text": "they would not expire you cannot revoke them for example God forbid you it",
    "start": "1037160",
    "end": "1042400"
  },
  {
    "text": "leaked and it went out uh you can't revoke them uh there is no way to",
    "start": "1042400",
    "end": "1047918"
  },
  {
    "text": "actually say hey this service account token is only valid for these guys and",
    "start": "1047919",
    "end": "1053039"
  },
  {
    "text": "nobody else so based on these particular limitations the commun team and the",
    "start": "1053039",
    "end": "1059840"
  },
  {
    "text": "community decided that there is a better way of doing it and that's what the new one is called as a blown bounded service",
    "start": "1059840",
    "end": "1065600"
  },
  {
    "text": "account tokens these have basic great properties some of those properties are",
    "start": "1065600",
    "end": "1072039"
  },
  {
    "text": "their time bound they're shortlived other things they have an audience attached to it in other words it tells",
    "start": "1072039",
    "end": "1077880"
  },
  {
    "text": "you who who can use it in what context can it be used the best part it is",
    "start": "1077880",
    "end": "1082919"
  },
  {
    "text": "compliant with oidc standards pretty much every IDP out there speaks oidp the",
    "start": "1082919",
    "end": "1088600"
  },
  {
    "text": "most important part is the the instrumentation that the cuet provides to actually rotate them so before the",
    "start": "1088600",
    "end": "1096280"
  },
  {
    "text": "Pod the the shli token expires the cubet will rotate them if the Pod is",
    "start": "1096280",
    "end": "1102799"
  },
  {
    "text": "terminated the the old service account token that was minted is no longer valid",
    "start": "1102799",
    "end": "1108400"
  },
  {
    "text": "so that was the some of the constraints some of the ideas that we thought that hey maybe it'll be nice if we can use some of this stuff so Mario so how can",
    "start": "1108400",
    "end": "1115600"
  },
  {
    "text": "we basically use the same Concepts to further uh some of the ideas of uh",
    "start": "1115600",
    "end": "1123360"
  },
  {
    "text": "Federated identities for example yes so the the way we what we",
    "start": "1123360",
    "end": "1130240"
  },
  {
    "text": "did is that we allowed an administrator uh to configure the way so",
    "start": "1130240",
    "end": "1136960"
  },
  {
    "text": "the the the kind of uh service account token that could be added in a workspace so basically what",
    "start": "1136960",
    "end": "1144600"
  },
  {
    "text": "that workspace operator does it add a service account token uh volume",
    "start": "1144600",
    "end": "1151799"
  },
  {
    "text": "projection with uh the most important part here so be behind the the the path",
    "start": "1151799",
    "end": "1159320"
  },
  {
    "text": "and the experation uh is the audience so the Audience by default is uh the kubernetes",
    "start": "1159320",
    "end": "1166440"
  },
  {
    "text": "API server so it means that it's the the token will allow you to access the",
    "start": "1166440",
    "end": "1172440"
  },
  {
    "text": "kubernetes API server and based on the service account privilege you will be able to do or not do some some action in",
    "start": "1172440",
    "end": "1180600"
  },
  {
    "text": "uh the uh for accessing accessing the API but if you change that so if you",
    "start": "1180600",
    "end": "1186880"
  },
  {
    "text": "specify another audience you you will have a you will have a token a service",
    "start": "1186880",
    "end": "1191919"
  },
  {
    "text": "account token that then will allow you to actually uh connect to other API to",
    "start": "1191919",
    "end": "1197000"
  },
  {
    "text": "other services exter external services so we did we did that in particular for",
    "start": "1197000",
    "end": "1202280"
  },
  {
    "text": "for uh for Ford with Ford to allow developer in Ford to access uh cloud",
    "start": "1202280",
    "end": "1210400"
  },
  {
    "text": "service providers from their development environment so the idea is that how can",
    "start": "1210400",
    "end": "1217120"
  },
  {
    "text": "we take these properties of kubernetes and identities that are shortlived tokens that can be projected by cuet and",
    "start": "1217120",
    "end": "1224679"
  },
  {
    "text": "Federate with in this case as an example uh Google Federated endpoints right you",
    "start": "1224679",
    "end": "1230000"
  },
  {
    "text": "can do the same thing with Azure AWS you can do it with on-prem as well using things like spfy Inspire but the idea is",
    "start": "1230000",
    "end": "1237360"
  },
  {
    "text": "of Federated identities is every part has an identity a token is establishing",
    "start": "1237360",
    "end": "1242600"
  },
  {
    "text": "that identity for you within that part on that kubernetes cluster in that name space would it be nice for somehow to",
    "start": "1242600",
    "end": "1250799"
  },
  {
    "text": "exchange that identity for a Google identity and assume that all the I am",
    "start": "1250799",
    "end": "1257799"
  },
  {
    "text": "and privileges that particular Google service account has effectively letting",
    "start": "1257799",
    "end": "1263840"
  },
  {
    "text": "you do whatever you can in Google or any cloud provider or even in on pram",
    "start": "1263840",
    "end": "1270720"
  },
  {
    "text": "without ever exchanging credentials there's no credentials there's nothing to worry about that you need you don't",
    "start": "1270720",
    "end": "1276799"
  },
  {
    "text": "have to think about hey it'll walk away or there will be whole bunch of other issues with ongoing issues like you know",
    "start": "1276799",
    "end": "1283440"
  },
  {
    "text": "uh social engineering all the ransomware malware and all kinds of interesting",
    "start": "1283440",
    "end": "1288520"
  },
  {
    "text": "ways of people are trying to attack and sabotage all our well-intentioned",
    "start": "1288520",
    "end": "1293880"
  },
  {
    "text": "clusters or environments so what the idea of workload identity Federation",
    "start": "1293880",
    "end": "1299279"
  },
  {
    "text": "simply is to take a identity and exchange it for another identity and",
    "start": "1299279",
    "end": "1305279"
  },
  {
    "text": "cloud provider so the idea that basically allows us to do what we talked",
    "start": "1305279",
    "end": "1311559"
  },
  {
    "text": "about so what I wanted to show you quickly is like enough of talk right it's all boring show me the real thing",
    "start": "1311559",
    "end": "1317080"
  },
  {
    "text": "right does it really work so let's give it a try we'll try to see if it really works so a simple get",
    "start": "1317080",
    "end": "1325039"
  },
  {
    "text": "repository I have nothing but Mario was talking about some Dev files you can have the dev file and I'm going to just",
    "start": "1325039",
    "end": "1332440"
  },
  {
    "text": "launch the environment the goal is this is going to clone the G",
    "start": "1332440",
    "end": "1339720"
  },
  {
    "text": "repository without me asking any credentials because I'm using GitHub o uh GitHub apps and all that interesting",
    "start": "1339720",
    "end": "1346799"
  },
  {
    "text": "things Prov a a volume attaches a container and here I",
    "start": "1346799",
    "end": "1354480"
  },
  {
    "text": "am it's fully booted my repositories are fully linked all my environments is set",
    "start": "1354480",
    "end": "1360919"
  },
  {
    "text": "up including all the extensions I wanted all the settings I wanted it's all",
    "start": "1360919",
    "end": "1366679"
  },
  {
    "text": "rigged up so no more somebody can say hey it works on my laptop it doesn't work on yours all you need to bring is",
    "start": "1366679",
    "end": "1373480"
  },
  {
    "text": "just an internet connection and a browser to the table so let's see what happens we can do with some of this",
    "start": "1373480",
    "end": "1379760"
  },
  {
    "text": "stuff so what I'm going to do is like uh hopefully y there we",
    "start": "1379760",
    "end": "1384919"
  },
  {
    "text": "go so here's the small token that's my token that was minted by kubernetes sure",
    "start": "1384919",
    "end": "1392960"
  },
  {
    "text": "there's nothing of any major uh significance in there is just giving you",
    "start": "1392960",
    "end": "1398679"
  },
  {
    "text": "hits applicable for this token this pod in that name space on a given cluster",
    "start": "1398679",
    "end": "1404080"
  },
  {
    "text": "and it expires and you know in an hour something like that so now the same",
    "start": "1404080",
    "end": "1409520"
  },
  {
    "text": "configuration that actually made it all happen is simply is that configuration",
    "start": "1409520",
    "end": "1415320"
  },
  {
    "text": "there's nothing special all it is saying is that here's a given service account on a given gcp",
    "start": "1415320",
    "end": "1420679"
  },
  {
    "text": "project please swap make it available as this person as long as this is provided",
    "start": "1420679",
    "end": "1425960"
  },
  {
    "text": "so that is the configuration that was injected into the thing now I can",
    "start": "1425960",
    "end": "1431240"
  },
  {
    "text": "basically start doing simple things I can say hey you know what I'm going to write into a",
    "start": "1431240",
    "end": "1436520"
  },
  {
    "text": "bucket I'm going to right it's just WR into bucket I can read that bucket content back",
    "start": "1436520",
    "end": "1445519"
  },
  {
    "text": "again right and then finally if I want I can delete the content as",
    "start": "1445679",
    "end": "1452120"
  },
  {
    "text": "well all without using any Google credentials now the point of all of this",
    "start": "1452120",
    "end": "1462080"
  },
  {
    "text": "is that you got a repeatable environment number one all one of the things that we talked",
    "start": "1462080",
    "end": "1469399"
  },
  {
    "text": "about earlier is that would it be nice if I can just drop a file in your get repository just like you drop your make",
    "start": "1469399",
    "end": "1475880"
  },
  {
    "text": "file Gradle file Maven pal files or and you know package of deson if you but the",
    "start": "1475880",
    "end": "1482480"
  },
  {
    "text": "same thing exists right there in your git repository and then nobody should be",
    "start": "1482480",
    "end": "1488720"
  },
  {
    "text": "have to fumble and say that hey how do I set it up just start it and you should",
    "start": "1488720",
    "end": "1493760"
  },
  {
    "text": "be good to go so with that so do you want to bring it home or",
    "start": "1493760",
    "end": "1499760"
  },
  {
    "text": "you yeah so um with with the demo so we have seen that uh out actually from",
    "start": "1503760",
    "end": "1513080"
  },
  {
    "text": "nothing so without actually having to do anything manually uh Sati has been able",
    "start": "1513080",
    "end": "1518200"
  },
  {
    "text": "to start a workspace with uh credential for is gcp",
    "start": "1518200",
    "end": "1523520"
  },
  {
    "text": "credential um so that we we we we but at the beginning we started from challenges",
    "start": "1523520",
    "end": "1529679"
  },
  {
    "text": "at Ford challenges like that like how can I rapidly set up an environment where the developer will be able to be",
    "start": "1529679",
    "end": "1537159"
  },
  {
    "text": "productive uh in a few seconds we have talked about how we have",
    "start": "1537159",
    "end": "1543559"
  },
  {
    "text": "decided at least rat to invest in a kubernetes operator to provision Cloud",
    "start": "1543559",
    "end": "1549399"
  },
  {
    "text": "development environments and that was actually solving uh problem uh the problem that Ford and sadish team add uh",
    "start": "1549399",
    "end": "1557520"
  },
  {
    "text": "and and then well our collaboration on using one of the latest features uh of",
    "start": "1557520",
    "end": "1563080"
  },
  {
    "text": "uh of kubernetes service account token projection with the workload identity Federation that allow us now to uh",
    "start": "1563080",
    "end": "1571360"
  },
  {
    "text": "without even having to create a secret to uh insert tokens from gcp AWS Azure",
    "start": "1571360",
    "end": "1580159"
  },
  {
    "text": "uh in uh the development the cloud development environment of the developer",
    "start": "1580159",
    "end": "1585640"
  },
  {
    "text": "uh in uh Ford so this is this is this was it so we we",
    "start": "1585640",
    "end": "1592600"
  },
  {
    "text": "have U uh one final slide with um uh few links if you are interested so the QR",
    "start": "1592600",
    "end": "1598720"
  },
  {
    "text": "code that is uh that is here will actually link you to the to the slides",
    "start": "1598720",
    "end": "1604559"
  },
  {
    "text": "and uh all the links will be yeah in the in the last slide of the here uh the",
    "start": "1604559",
    "end": "1611960"
  },
  {
    "text": "slides are also available on on scad so you can we have uh uploaded the uh the",
    "start": "1611960",
    "end": "1617360"
  },
  {
    "text": "slid SL there so if if you're interested to to to download them um and with that",
    "start": "1617360",
    "end": "1623440"
  },
  {
    "text": "so I think we have uh yeah we have 7 minutes so if is there any if there is any question we will be happy to uh to",
    "start": "1623440",
    "end": "1631159"
  },
  {
    "text": "discuss yeah thank",
    "start": "1631159",
    "end": "1637950"
  },
  {
    "text": "[Applause] you thank thanks for the presentation I had a question regarding",
    "start": "1637950",
    "end": "1644760"
  },
  {
    "text": "how the issue end point in your service account token was pointing to a Google",
    "start": "1644760",
    "end": "1650919"
  },
  {
    "text": "storage endpoint oh okay are you exporting the public keys to a bucket um",
    "start": "1650919",
    "end": "1657279"
  },
  {
    "text": "for the IDC jwks pretty much so if you if you look",
    "start": "1657279",
    "end": "1662320"
  },
  {
    "text": "at the open ID connect spec openid connect spec is nothing but a public key and a wellknown endpoint rate it needs",
    "start": "1662320",
    "end": "1669559"
  },
  {
    "text": "to be reachable over https and that's pretty much it right so we chose chose",
    "start": "1669559",
    "end": "1675440"
  },
  {
    "text": "to use GCS buckets as an oidc endpoint and then we use that endpoint to teach",
    "start": "1675440",
    "end": "1680960"
  },
  {
    "text": "kubernetes API server to use as a oidc endpoint that we can connect with Google so do you create a workload identity",
    "start": "1680960",
    "end": "1688960"
  },
  {
    "text": "provider in gcp per kubernetes cluster yes so basically what happens in in gcp",
    "start": "1688960",
    "end": "1694360"
  },
  {
    "text": "every every cloud environment will be slightly different in gcp they are called as identity pools you can create",
    "start": "1694360",
    "end": "1699960"
  },
  {
    "text": "an identity pool per kubernetes cluster and then you can add people towards the pool and the act of it call a service",
    "start": "1699960",
    "end": "1706919"
  },
  {
    "text": "account is BAS basically called as a uh viff binding that's what Google calls it so you can keep on doing it pretty much",
    "start": "1706919",
    "end": "1713799"
  },
  {
    "text": "across the board across all the cloud providers okay yeah it's to thank you",
    "start": "1713799",
    "end": "1720919"
  },
  {
    "text": "thanks thank you guys um I think you implied the answer to the first question but when you're giving permission for an",
    "start": "1721840",
    "end": "1729159"
  },
  {
    "text": "for a principal to assume service account uh it needs to be like a user",
    "start": "1729159",
    "end": "1734320"
  },
  {
    "text": "identity of some kind are you using the individuals gcp account are they are using the",
    "start": "1734320",
    "end": "1740720"
  },
  {
    "text": "cluster identity there like who are they offing in as two perform the service account",
    "start": "1740720",
    "end": "1746399"
  },
  {
    "text": "impersonation okay so typically what happens is that t when teams have provisioned at least in Google in Ford",
    "start": "1746399",
    "end": "1752399"
  },
  {
    "text": "environments is uh you have a machine accounts or a service accounts that are created you can you can impersonate that",
    "start": "1752399",
    "end": "1759559"
  },
  {
    "text": "service account right and uh that is what was shown here as an example you",
    "start": "1759559",
    "end": "1764720"
  },
  {
    "text": "can also impersonate as you if you want to right typically we don't do that we just create service accounts and that",
    "start": "1764720",
    "end": "1770919"
  },
  {
    "text": "service accounts have some capabilities and we let people we control who can",
    "start": "1770919",
    "end": "1776080"
  },
  {
    "text": "impersonate it this person can impersonate it or another machine can impersonate it right so that's the idea",
    "start": "1776080",
    "end": "1781880"
  },
  {
    "text": "here gotcha and then follow question of that um in service account impersonation",
    "start": "1781880",
    "end": "1787200"
  },
  {
    "text": "you the whole point is a many to one relationship like a bunch of different entities are going through this one",
    "start": "1787200",
    "end": "1792320"
  },
  {
    "text": "service account how are you guys handling auditing around understanding you know who is actually doing what",
    "start": "1792320",
    "end": "1798760"
  },
  {
    "text": "while impersonating that service account so what we typically recommend is",
    "start": "1798760",
    "end": "1805399"
  },
  {
    "text": "uh is basically least privilege model right the idea is that your app when",
    "start": "1805399",
    "end": "1810799"
  },
  {
    "text": "you're talking to something can have um only minimal requirements what it needs",
    "start": "1810799",
    "end": "1816320"
  },
  {
    "text": "however let's say we have a lowest environment whatever environment you going to pick lowest environments you",
    "start": "1816320",
    "end": "1821440"
  },
  {
    "text": "can do what we call as click hops or you know things like uh clicking around and running commands and all that stuff so",
    "start": "1821440",
    "end": "1827880"
  },
  {
    "text": "this is typically meant to show you the lowest environments that is all segregated from all production workloads",
    "start": "1827880",
    "end": "1834159"
  },
  {
    "text": "that where you can do certain kinds of things like this so in production you will not be able to do that thing what I",
    "start": "1834159",
    "end": "1839440"
  },
  {
    "text": "just showed you okay gotcha thank you uh question and thanks for the",
    "start": "1839440",
    "end": "1846760"
  },
  {
    "text": "presentation um when you launched this workspace on behalf of the user uh I",
    "start": "1846760",
    "end": "1852240"
  },
  {
    "text": "think you're breaking the link between the user's original identity and just creating like a impersonated identity",
    "start": "1852240",
    "end": "1857639"
  },
  {
    "text": "does this mean that your your workspace infrastructure can impersonate any user",
    "start": "1857639",
    "end": "1863000"
  },
  {
    "text": "or do is that is that a problem and do you plan to like try and Link the",
    "start": "1863000",
    "end": "1868480"
  },
  {
    "text": "original users identity so when you sign into GitHub the oadc oadc identity there with the identity like cryptographically",
    "start": "1868480",
    "end": "1875679"
  },
  {
    "text": "link um with the identity associated with the",
    "start": "1875679",
    "end": "1881000"
  },
  {
    "text": "workspace maybe I can I can actually have this one so I think that the the question is about like I ization how we",
    "start": "1881360",
    "end": "1888880"
  },
  {
    "text": "how we uh isolate one development environment and why why we make sure that we somebody else cannot get your",
    "start": "1888880",
    "end": "1897200"
  },
  {
    "text": "use your a little in the sense that your your infrastructure can impersonate users right so your infrastructure",
    "start": "1897200",
    "end": "1903200"
  },
  {
    "text": "becomes like a a source of trust yeah um the plans to like ensure that the",
    "start": "1903200",
    "end": "1908440"
  },
  {
    "text": "infrastructure count person that uses by maybe linking to the original identity that launched the",
    "start": "1908440",
    "end": "1913559"
  },
  {
    "text": "workspace yeah so there are a a couple of things that we use for um so at least",
    "start": "1913559",
    "end": "1920200"
  },
  {
    "text": "for isolating it to make sure that uh ERS cannot access your credential the",
    "start": "1920200",
    "end": "1925639"
  },
  {
    "text": "first one is that um every developer to be able so the devor space operator",
    "start": "1925639",
    "end": "1931120"
  },
  {
    "text": "doesn't have any notion of um of authorization or users it's an operator",
    "start": "1931120",
    "end": "1937720"
  },
  {
    "text": "that just reconciled that but on top of that we R out open shift dep spaces add",
    "start": "1937720",
    "end": "1943760"
  },
  {
    "text": "a layer for um of authorization and authentication so",
    "start": "1943760",
    "end": "1949720"
  },
  {
    "text": "you need to authenticate and when you authenticate then you will be able to to create those Dev workpace objects only",
    "start": "1949720",
    "end": "1957559"
  },
  {
    "text": "in your names space that is your Nam space and on top of that the other thing that we do to um to avoid that somebody",
    "start": "1957559",
    "end": "1967519"
  },
  {
    "text": "else could um so first of all we try to avoid to have secrets uh because",
    "start": "1967519",
    "end": "1973960"
  },
  {
    "text": "otherwise somebody that has more privilege than you will be able to have access to your npace and to all your",
    "start": "1973960",
    "end": "1979000"
  },
  {
    "text": "secrets and second thing is that we uh block uh executing so having access a",
    "start": "1979000",
    "end": "1986080"
  },
  {
    "text": "cub Zac in your container with a Web book that uh don't allow you to actually",
    "start": "1986080",
    "end": "1993440"
  },
  {
    "text": "get inside uh get inside the container unless you are the user that initially",
    "start": "1993440",
    "end": "2000159"
  },
  {
    "text": "created the devor space object so these are like the mechanism that we set up to",
    "start": "2000159",
    "end": "2005639"
  },
  {
    "text": "uh avoid that there are problems like privilege escalation somebody that have access to your kubernetes",
    "start": "2005639",
    "end": "2013399"
  },
  {
    "text": "token um and get more privilege than the privilege that he that he",
    "start": "2013399",
    "end": "2019559"
  },
  {
    "text": "has thank you cool all right I cool think that there",
    "start": "2019559",
    "end": "2027519"
  },
  {
    "text": "are no other questions maybe the last slide is uh if you would like to provide feedback this is the uh the the C code",
    "start": "2027519",
    "end": "2035399"
  },
  {
    "text": "to to get feedback so it's yeah it's always welcome so whatever feedback you",
    "start": "2035399",
    "end": "2041399"
  },
  {
    "text": "would like to provide us uh thank you cool thank you",
    "start": "2041399",
    "end": "2047079"
  },
  {
    "text": "all",
    "start": "2047079",
    "end": "2050079"
  }
]