[
  {
    "text": "hi everyone Welcome to our talk building zero trust with ony I am pradep and this is Floren corus our talk is a success",
    "start": "359",
    "end": "8120"
  },
  {
    "text": "story of using Eno in production we'll walk you through how we started with Eno",
    "start": "8120",
    "end": "13440"
  },
  {
    "text": "and how Eno scaled as we add more users and customers so first what is zero trust",
    "start": "13440",
    "end": "21160"
  },
  {
    "text": "when talking zero trust people always compare it with traditional VPN in traditional VPN what happens is when you",
    "start": "21160",
    "end": "27560"
  },
  {
    "text": "get access to your VPN you get access to all applications in the network in zero",
    "start": "27560",
    "end": "33040"
  },
  {
    "text": "trust there's no implicit trust every access to application is authenticated",
    "start": "33040",
    "end": "38480"
  },
  {
    "text": "unauthorized before providing access zero trust offers several benefits such",
    "start": "38480",
    "end": "44200"
  },
  {
    "text": "as lease privileges Access Control continuous monitoring and uh production",
    "start": "44200",
    "end": "49399"
  },
  {
    "text": "of resources today we are going to talk about our product which is uh implementation of zero trust application",
    "start": "49399",
    "end": "56280"
  },
  {
    "text": "access which is to secure access to individual applications more specifically it is",
    "start": "56280",
    "end": "62920"
  },
  {
    "text": "clientless ZTA what is clientless ZTA so we have all used VPN and to use",
    "start": "62920",
    "end": "71240"
  },
  {
    "text": "VPN you have to install a software on your Mac or any device in clientless ZTA",
    "start": "71240",
    "end": "76759"
  },
  {
    "text": "there's no need to install any software all you need is your standard web browser so right now we support um web",
    "start": "76759",
    "end": "84240"
  },
  {
    "text": "applications both HTTP and https SSH and RDP our solution is also multi-tenant",
    "start": "84240",
    "end": "91119"
  },
  {
    "text": "that is it can accept multiple users and customers in the same node um let me give you a very high",
    "start": "91119",
    "end": "97320"
  },
  {
    "text": "level overview of how uh it all fits together let's say a customer one wants",
    "start": "97320",
    "end": "103520"
  },
  {
    "text": "to expose his private application app one on the internet and now he would",
    "start": "103520",
    "end": "110439"
  },
  {
    "text": "connect his data center to our ZTA data center the way he connects is outside",
    "start": "110439",
    "end": "115560"
  },
  {
    "text": "the scope of this discussion once he connects uh he'll be able to configure we'll go through the configuration in",
    "start": "115560",
    "end": "121880"
  },
  {
    "text": "the next couple of slides But ultimately he'll get a unique external URL once he",
    "start": "121880",
    "end": "128520"
  },
  {
    "text": "gets the unique external URL he shares it with his users and the users will now",
    "start": "128520",
    "end": "134319"
  },
  {
    "text": "enter this unique URL in the browser once the uh user enters the unique URL uh they hit the ZTA proxy",
    "start": "134319",
    "end": "141599"
  },
  {
    "text": "node we do authentication authorization and then route the traffic to the internal customer Data Center",
    "start": "141599",
    "end": "150599"
  },
  {
    "text": "now so why did we uh chose on why we needed a reverse proxy with a very good",
    "start": "150680",
    "end": "156879"
  },
  {
    "text": "HTTP https um support and since it is a browser based application also we like",
    "start": "156879",
    "end": "164080"
  },
  {
    "text": "the Ono flexibility to configure it in terms of filter filter chains and so forth you'll see more on that in the",
    "start": "164080",
    "end": "170640"
  },
  {
    "text": "coming slides performance is also really good and we needed VPP integration the",
    "start": "170640",
    "end": "176800"
  },
  {
    "text": "reason we needed VPP integration is many of our internal apps are also configured with VPP and having a proxy that is",
    "start": "176800",
    "end": "184120"
  },
  {
    "text": "integrated with VPP will make our life much easier finally it is open source",
    "start": "184120",
    "end": "189720"
  },
  {
    "text": "which means like we get to get use all the uh open source contributions by the other community we'll show you examples",
    "start": "189720",
    "end": "196480"
  },
  {
    "text": "of what we are using down the slides so we'll talk on uh how admin",
    "start": "196480",
    "end": "203640"
  },
  {
    "text": "configures the application so admin gets access to our dashboard he says hey this",
    "start": "203640",
    "end": "209799"
  },
  {
    "text": "this is the destination application's private IP address um this is the unique",
    "start": "209799",
    "end": "215280"
  },
  {
    "text": "external URL that I want to use for this application any custom headers that he wants to set to access the application",
    "start": "215280",
    "end": "221920"
  },
  {
    "text": "and finally the connection type which space uh which says whether it's a HTTP RDP or SSH application once he",
    "start": "221920",
    "end": "228720"
  },
  {
    "text": "configures it all these configurations are pushed to the proxy node we have a control plane component which reads this",
    "start": "228720",
    "end": "235239"
  },
  {
    "text": "XDS sorry this configuration and converts it to XDS and pushes it into",
    "start": "235239",
    "end": "240599"
  },
  {
    "text": "Ono now Ono is aware of all these applications along with the",
    "start": "240599",
    "end": "246439"
  },
  {
    "text": "configuration and networking is done by VPP and Eno runs on top of uh",
    "start": "246480",
    "end": "252360"
  },
  {
    "text": "VPP and the way we monitor our uh on is like we have a local Eno app running",
    "start": "252360",
    "end": "258479"
  },
  {
    "text": "every couple of seconds which makes sure that Eno is healthy if the Eno node is not healthy we take it out of rotation",
    "start": "258479",
    "end": "265280"
  },
  {
    "text": "we use Prometheus for scraping and all the logs are pushed to grafana",
    "start": "265280",
    "end": "271720"
  },
  {
    "text": "now that admin has configured the application he would share the unique URL with the user so the user enters the",
    "start": "272080",
    "end": "279479"
  },
  {
    "text": "URL in the browser it hits our ZTA proxy node then goes through vcl VPP sorry VPP",
    "start": "279479",
    "end": "286360"
  },
  {
    "text": "first then vcl and finally hits our custom o filter initially this was written in",
    "start": "286360",
    "end": "292680"
  },
  {
    "text": "vasm so the author sorry Au filter identifies that this is a new connection",
    "start": "292680",
    "end": "298199"
  },
  {
    "text": "so I have to authenticate this user so it redirects the user to the to the customer's IDP and once the user enters",
    "start": "298199",
    "end": "306160"
  },
  {
    "text": "his username or password and all of the stuff he comes back to uh the same a filter now that he has come back we have",
    "start": "306160",
    "end": "313919"
  },
  {
    "text": "to authorize the user and to do this we send the user to our control plate",
    "start": "313919",
    "end": "319600"
  },
  {
    "text": "component where a policy is evaluated the two inputs to the policy evaluation",
    "start": "319600",
    "end": "325199"
  },
  {
    "text": "or identity which we currently did with the uh IDP stuff and second is posture",
    "start": "325199",
    "end": "331680"
  },
  {
    "text": "posture is nothing but uh web browser he's using and uh operating system he's",
    "start": "331680",
    "end": "337319"
  },
  {
    "text": "running on and so forth so with these two information we run the policy again",
    "start": "337319",
    "end": "342440"
  },
  {
    "text": "admin gets to decide what are the policy and posture that should be applied for this particular application once that is",
    "start": "342440",
    "end": "350919"
  },
  {
    "text": "done the policy evaluation will from the control plane will give a verdict to the O filter saying whether the user is",
    "start": "350919",
    "end": "357720"
  },
  {
    "text": "allowed or blocked if if the user is allowed we inject some metadata into the",
    "start": "357720",
    "end": "364319"
  },
  {
    "text": "uh filters and then connect them to the private application else we send them to a block",
    "start": "364319",
    "end": "372840"
  },
  {
    "text": "page so why did we go with vasm and go so the reason we went with vasm and go",
    "start": "372840",
    "end": "379319"
  },
  {
    "text": "in our initial implementation was most of our control plane components was written in go and we want to you start",
    "start": "379319",
    "end": "385360"
  },
  {
    "text": "reusing all the libraries we compiled it with proxy vm/ tiny for all the um vasm",
    "start": "385360",
    "end": "391840"
  },
  {
    "text": "stuff and any metadata that was needed was also injected via the filter configuration we hit a couple of",
    "start": "391840",
    "end": "398639"
  },
  {
    "text": "limitation one was that not all libraries can be uh compiled with tiny gum the second thing is our control",
    "start": "398639",
    "end": "405840"
  },
  {
    "text": "plane was evolving at a rapid place and it was becoming really tedious for us to",
    "start": "405840",
    "end": "411960"
  },
  {
    "text": "uh inject all the metadata via the filter config so to talk more on how we scale",
    "start": "411960",
    "end": "418440"
  },
  {
    "text": "the system I give it to Floren thank you B and hello everyone apologies for my",
    "start": "418440",
    "end": "424520"
  },
  {
    "text": "voice I'm here to keep Matt company I guess so our original design worked uh",
    "start": "424520",
    "end": "431840"
  },
  {
    "text": "pretty fine for a limited number of applications and by that I mean by limited I mean uh thousands to tens of",
    "start": "431840",
    "end": "438919"
  },
  {
    "text": "thousands of applications but um as the number of customers started to grow and uh we",
    "start": "438919",
    "end": "445639"
  },
  {
    "text": "started forecasting and dimensioning for uh larger deployment we realized that",
    "start": "445639",
    "end": "451000"
  },
  {
    "text": "our existing our then existing architecture would only take us so far so um why was that well if we zoom in",
    "start": "451000",
    "end": "460280"
  },
  {
    "text": "and look at how everything is tied together within our solution we see that we had a listener we had a bunch of",
    "start": "460280",
    "end": "465599"
  },
  {
    "text": "filters the filters had matches in fact as many matches as we had applications",
    "start": "465599",
    "end": "470800"
  },
  {
    "text": "and for the purpose of this presentation we're just going to assume that the number of applications is proportional",
    "start": "470800",
    "end": "476680"
  },
  {
    "text": "to the number of customers or or tenants for us and those filters would then point to",
    "start": "476680",
    "end": "482240"
  },
  {
    "text": "routes the routes would point to clusters and we did modify those clusters uh we we added we we stored in",
    "start": "482240",
    "end": "491039"
  },
  {
    "text": "them additional um per application and per tenant metadata and I guess it's",
    "start": "491039",
    "end": "497800"
  },
  {
    "text": "important to know here that we're running with custom uh transpar sockets and um those cust trans transfer sockets",
    "start": "497800",
    "end": "506360"
  },
  {
    "text": "are needed because we wanted a bespoke API die and into our networking stack",
    "start": "506360",
    "end": "512320"
  },
  {
    "text": "that we run within VPP but back to the original point so um we see here that",
    "start": "512320",
    "end": "518039"
  },
  {
    "text": "everything and by everything I mean filters routes and clusters everything scales linearly with the number of",
    "start": "518039",
    "end": "523560"
  },
  {
    "text": "applications and implicitly with the number of of um orgs or tenants for us",
    "start": "523560",
    "end": "529560"
  },
  {
    "text": "and uh okay which one out of these is not scaling too well and it turns out",
    "start": "529560",
    "end": "534959"
  },
  {
    "text": "that um with just some basic profiling we quickly understood that the Clusters",
    "start": "534959",
    "end": "540200"
  },
  {
    "text": "are not uh are the worst out of the bunch in in scaling um from a memory",
    "start": "540200",
    "end": "546640"
  },
  {
    "text": "perspective and U it's to the point where just configuring you know another",
    "start": "546640",
    "end": "552640"
  },
  {
    "text": "IP within the load balancing set of a cluster would significantly altered the a cluster's memory footprint um within",
    "start": "552640",
    "end": "560120"
  },
  {
    "text": "our environments which are relatively memory constrainted just configuring something like 10 to 20,000 applications",
    "start": "560120",
    "end": "567320"
  },
  {
    "text": "would quickly run us out of memory which in a multi-tenant environment as you can",
    "start": "567320",
    "end": "572480"
  },
  {
    "text": "imagine is not ideal so what could be done about it what or what was wrong and",
    "start": "572480",
    "end": "578399"
  },
  {
    "text": "well we obviously had to reduce the number of clusters and uh but the question then is to how many and more",
    "start": "578399",
    "end": "585560"
  },
  {
    "text": "importantly what to do about the 10 in specific metadata that we run within uh within our clusters and U it turns out",
    "start": "585560",
    "end": "593000"
  },
  {
    "text": "that answering the first sort of puts a constraint on the second so after some careful planning we realized that okay",
    "start": "593000",
    "end": "598839"
  },
  {
    "text": "we needed to to reduce uh the or we had to retain uh a number of clusters that's",
    "start": "598839",
    "end": "605959"
  },
  {
    "text": "equivalent to the number of applications that we need to serve and to be explicit we needed to retain as many clusters as",
    "start": "605959",
    "end": "612720"
  },
  {
    "text": "uh the the applications like HTTP htps RDP and SSH",
    "start": "612720",
    "end": "618680"
  },
  {
    "text": "and the fact that we were already planning to reuse clusters across tenant",
    "start": "618680",
    "end": "624040"
  },
  {
    "text": "already made us realize that we needed some Dynamic mechanism of injecting metadata in our Downstream filters",
    "start": "624040",
    "end": "631560"
  },
  {
    "text": "perhaps with the help of our control plane and then propagate that metadata into um our",
    "start": "631560",
    "end": "637560"
  },
  {
    "text": "clusters um so how did these two improvements or these lessons improve",
    "start": "637560",
    "end": "643399"
  },
  {
    "text": "our our architecture in the end well first up we moved away from WM and and",
    "start": "643399",
    "end": "649200"
  },
  {
    "text": "we implemented our new native C++ um async um o filter now an important",
    "start": "649200",
    "end": "657240"
  },
  {
    "text": "difference um with respect to to the WM filter is that this new filter no longer acts as a proxy on um on the slow path",
    "start": "657240",
    "end": "665360"
  },
  {
    "text": "instead it leverages the HTTP as in client for um posting policy or queries",
    "start": "665360",
    "end": "672680"
  },
  {
    "text": "to uh policy valuation queries to our control plane um then because we have to",
    "start": "672680",
    "end": "680480"
  },
  {
    "text": "somehow control our our cluster programs our our clusters the control plane not",
    "start": "680480",
    "end": "685560"
  },
  {
    "text": "only provides um uh verdicts to the policy evaluations but now injects",
    "start": "685560",
    "end": "692200"
  },
  {
    "text": "tenant towar metadata into the odd filter OD filter propagates it via um",
    "start": "692200",
    "end": "697680"
  },
  {
    "text": "stream metadata into our clusters and implicitly into our transports um in other words we came up",
    "start": "697680",
    "end": "704639"
  },
  {
    "text": "with a relatively simple architecture albe it I'm sure not very original whereby we um customer streams uh are",
    "start": "704639",
    "end": "713920"
  },
  {
    "text": "evaluated in our uh Downstream filters they're annotated with metadata that's",
    "start": "713920",
    "end": "719519"
  },
  {
    "text": "standing aware and then eventually that metadata propagates into our clusters and programs uh programs are",
    "start": "719519",
    "end": "727480"
  },
  {
    "text": "transports um the rest of the architecture stays pretty much the same but these two changes were were enough",
    "start": "727480",
    "end": "734000"
  },
  {
    "text": "to ensure a 10x if not a 20x scaling from our perspective um with no",
    "start": "734000",
    "end": "740480"
  },
  {
    "text": "significant impact to our data playing performance uh both from a scale and throughput perspective and speaking",
    "start": "740480",
    "end": "746920"
  },
  {
    "text": "about throughput per float throughput in our data plane is actually limited by our cloud provider to somewhere around 5",
    "start": "746920",
    "end": "753880"
  },
  {
    "text": "gbits per second and as far as we can tell we can reach this type of throughputs with even one stream given",
    "start": "753880",
    "end": "761800"
  },
  {
    "text": "that we run on the right type of Hardware sorry about that so um as you",
    "start": "761800",
    "end": "770920"
  },
  {
    "text": "can imagine we were pretty thank you we were pretty satisfied with this result um that's not to say where we don't",
    "start": "770920",
    "end": "776800"
  },
  {
    "text": "think that there's more scaling to be obtained but that's going to be a future project another important uh limitation",
    "start": "776800",
    "end": "785120"
  },
  {
    "text": "of our ZTA solution uh as per request from our customers was the ability to",
    "start": "785120",
    "end": "790480"
  },
  {
    "text": "bring your own domain that is the ability to uh Serve customer provided U",
    "start": "790480",
    "end": "795880"
  },
  {
    "text": "domain names obviously for this customers would have to program their DNS servers to point to to our ZTA",
    "start": "795880",
    "end": "802959"
  },
  {
    "text": "clusters via dnsc names or whatever other equivalent mechanism and uh to say",
    "start": "802959",
    "end": "809800"
  },
  {
    "text": "the obvious customers would have to provide their certificates and keys uh to us now conceptually this is very",
    "start": "809800",
    "end": "816639"
  },
  {
    "text": "simple to understand scaling this in practice uh in with in an environment that's multi-tenanted with relatively",
    "start": "816639",
    "end": "823639"
  },
  {
    "text": "strict uh scaling requirements means that pre-loading of the certificates and",
    "start": "823639",
    "end": "829839"
  },
  {
    "text": "keys in anvo had startup or during uh blener update is a a nonstarter so we we",
    "start": "829839",
    "end": "837959"
  },
  {
    "text": "started uh at the OR at the start of this endeavor we already realized that we needed on demand fetching of uh",
    "start": "837959",
    "end": "845120"
  },
  {
    "text": "certificates and keys now it turns out that for this we thought that we're going to write our own PLS handshaker",
    "start": "845120",
    "end": "852519"
  },
  {
    "text": "but just as we were preparing to start work on this feature we realized that um",
    "start": "852519",
    "end": "858800"
  },
  {
    "text": "a contribution showed up in in in our community whereby um the the TLs",
    "start": "858800",
    "end": "866680"
  },
  {
    "text": "transfer socket would was extended to Prov provide um overriding support for",
    "start": "866680",
    "end": "872240"
  },
  {
    "text": "the selection of the TLs certificate I guess this is a good of",
    "start": "872240",
    "end": "877399"
  },
  {
    "text": "moment as any other to just express our gratitude to the anic community as a whole because uh yeah um for being on",
    "start": "877399",
    "end": "885480"
  },
  {
    "text": "the one hand very open and accepting of this sort of changes and also to expressly just say thank you D for the",
    "start": "885480",
    "end": "892600"
  },
  {
    "text": "patch because that was part of the work that we needed sorry for that um the other part consisted on um plugging in",
    "start": "892600",
    "end": "900320"
  },
  {
    "text": "via the secret manager into the sdst TLs secret provider and with these two components we already had an async",
    "start": "900320",
    "end": "907639"
  },
  {
    "text": "certificate retrieval mechanism um um that in addition to being an async also",
    "start": "907639",
    "end": "915240"
  },
  {
    "text": "retain the SDS syntax over um over the certificate retrieval API which happened",
    "start": "915240",
    "end": "921519"
  },
  {
    "text": "to be one of the requirements as we started work on on this feature so how",
    "start": "921519",
    "end": "926680"
  },
  {
    "text": "does all of this come together eventually well we one would have or we would have to configure the new TLS",
    "start": "926680",
    "end": "932880"
  },
  {
    "text": "certificate selector on our TLS Downstream socket whenever the SSL layer",
    "start": "932880",
    "end": "938759"
  },
  {
    "text": "now gets a request it um invokes the certificate selector the certificate",
    "start": "938759",
    "end": "944880"
  },
  {
    "text": "selector uh if it has already cached the CT it provides it back if not it pauses",
    "start": "944880",
    "end": "950519"
  },
  {
    "text": "the TLs session it proceeds to creating um a new SDS TLS certificate provider",
    "start": "950519",
    "end": "957160"
  },
  {
    "text": "with some custom config afterwards we just reuse the existing infrastructure with an Envoy the SDS infrastructure",
    "start": "957160",
    "end": "963800"
  },
  {
    "text": "within Envoy to go to our SDS service which is external once this uh once the",
    "start": "963800",
    "end": "970279"
  },
  {
    "text": "sert is sorry for that is retrieved um it's provided back to the SSL layer",
    "start": "970279",
    "end": "976360"
  },
  {
    "text": "which resumes the TLs session and uh subsequently hopefully completes the TLs",
    "start": "976360",
    "end": "982560"
  },
  {
    "text": "handshake and to the side here you have some logs that just explain um some of the interactions between the components",
    "start": "982560",
    "end": "989440"
  },
  {
    "text": "as they happen and with this back to prep to tell you about",
    "start": "989440",
    "end": "994759"
  },
  {
    "text": "RDP so uh when we started this project we started with only web applications which is HTTP and https but as we got",
    "start": "994759",
    "end": "1002279"
  },
  {
    "text": "more customer feedback we wanted to support uh RDP and SSH also in the browser so to do that what we did is we",
    "start": "1002279",
    "end": "1009800"
  },
  {
    "text": "implemented an RDP and SSH proxy behind uh Ono so what happens is like the",
    "start": "1009800",
    "end": "1015959"
  },
  {
    "text": "reason we had to do this way is because we can reuse all the Z trust functionality that we had already built",
    "start": "1015959",
    "end": "1021360"
  },
  {
    "text": "in um so and another requirement that we needed for doing RDP and SSH was that uh",
    "start": "1021360",
    "end": "1027160"
  },
  {
    "text": "we need websocket um support in so we looked into the code and it was just two",
    "start": "1027160",
    "end": "1032918"
  },
  {
    "text": "lines of change and that is it we have rpns such",
    "start": "1032919",
    "end": "1038120"
  },
  {
    "text": "support and finally these are some of our lessons which we learned along the way uh it's always a good practice to",
    "start": "1038120",
    "end": "1044600"
  },
  {
    "text": "lock down your admin interface uh there's good examples in the community discussions go look into it similarly",
    "start": "1044600",
    "end": "1051480"
  },
  {
    "text": "also restrict your Prometheus scraping end points to one a set of Ip ranges that it should be scraped to so when we",
    "start": "1051480",
    "end": "1058760"
  },
  {
    "text": "started we thought that writing a C++ uh filter might be tricky but it is not",
    "start": "1058760",
    "end": "1064280"
  },
  {
    "text": "that tricky uh there is plenty of examples in the onwi repo go look at them uh it's easier to write maintain",
    "start": "1064280",
    "end": "1071440"
  },
  {
    "text": "and also it allows you to pull down the latest uh and greatest features that similar to what we did for bring your",
    "start": "1071440",
    "end": "1076760"
  },
  {
    "text": "own domain um Florin mentioned that we moved from proxying to as synchronous",
    "start": "1076760",
    "end": "1082880"
  },
  {
    "text": "request and response with our control plane this can be a little tricky look at the um example codes again in the",
    "start": "1082880",
    "end": "1089720"
  },
  {
    "text": "filter chains uh because that will help you to avoid some of the common edge cases and pitfalls finally sanitize your",
    "start": "1089720",
    "end": "1096919"
  },
  {
    "text": "headers if you're injecting uh metadata between your components if you're not careful users might be able to inject",
    "start": "1096919",
    "end": "1103840"
  },
  {
    "text": "the any data as metadata we have been always using the latest and stable uh",
    "start": "1103840",
    "end": "1109000"
  },
  {
    "text": "version of onvoy and it's been very helpful to pull in the latest uh uh",
    "start": "1109000",
    "end": "1114799"
  },
  {
    "text": "latest features and also any new upcoming features that's all we had for our",
    "start": "1114799",
    "end": "1120840"
  },
  {
    "text": "presentation um time for [Applause]",
    "start": "1120840",
    "end": "1129840"
  },
  {
    "text": "questions C++ SC that you mentioned is it open source or it's uh it's a the",
    "start": "1129840",
    "end": "1135600"
  },
  {
    "text": "question was if the C++ code is open or proprietary uh the codee is proprietary",
    "start": "1135600",
    "end": "1141679"
  },
  {
    "text": "to us because many of that is uh specific to our implementation of the zero",
    "start": "1141679",
    "end": "1148080"
  },
  {
    "text": "tust",
    "start": "1151679",
    "end": "1154679"
  },
  {
    "text": "hi that's for you good question yeah the question is",
    "start": "1165240",
    "end": "1170480"
  },
  {
    "text": "uh you show a separate um SSH and RDP proxy uh in other than your ZTA proxy uh",
    "start": "1170480",
    "end": "1177440"
  },
  {
    "text": "the reason is this um ony proxy right now handles all our HTTP htps and so",
    "start": "1177440",
    "end": "1183039"
  },
  {
    "text": "forth if you are implementing a uh RDP and ssh in browser you have to do much",
    "start": "1183039",
    "end": "1189080"
  },
  {
    "text": "more than just HTTP and https you need to have uh the users screen drawn on and",
    "start": "1189080",
    "end": "1195159"
  },
  {
    "text": "all of that we didn't want to put both of them in one place and or extend on vo",
    "start": "1195159",
    "end": "1200320"
  },
  {
    "text": "that way so we want to isolate both of them and that's the reason we did that the other reason is like we have RDP and",
    "start": "1200320",
    "end": "1207320"
  },
  {
    "text": "SSH proxy as a additional cluster so in case of more load let's say um we can",
    "start": "1207320",
    "end": "1213720"
  },
  {
    "text": "always scale the RDP and SSH as additional clusters so for these reasons we wanted and did it this",
    "start": "1213720",
    "end": "1220760"
  },
  {
    "text": "way second question",
    "start": "1220760",
    "end": "1225080"
  },
  {
    "text": "sure so the question is um is this product or uh implementation only internal or external and the second",
    "start": "1238679",
    "end": "1245520"
  },
  {
    "text": "question is how do you guys test it um I'll answer the first question which is",
    "start": "1245520",
    "end": "1251280"
  },
  {
    "text": "um the product is widely available we didn't want to put the name here but uh it's available um across um",
    "start": "1251280",
    "end": "1259159"
  },
  {
    "text": "uh like several uh data centers and so forth so um it's everyone can use it as",
    "start": "1259159",
    "end": "1265760"
  },
  {
    "text": "long as you buy uh it from The Cisco the second is uh how is the testing done we",
    "start": "1265760",
    "end": "1271159"
  },
  {
    "text": "have uh different levels of testing um uh like we have a Dev stage a prod QE",
    "start": "1271159",
    "end": "1277240"
  },
  {
    "text": "environments and we also do load testing um that's one thing and again we also",
    "start": "1277240",
    "end": "1282720"
  },
  {
    "text": "have our um internal security teams who regularly make sure that uh all what we",
    "start": "1282720",
    "end": "1288799"
  },
  {
    "text": "do are also very secure and we don't expose any vulnerabilities anything you want to add floring no that's that's",
    "start": "1288799",
    "end": "1297559"
  },
  {
    "text": "good um the question is if we're setting only one filter per fqdn and if that was",
    "start": "1306799",
    "end": "1312720"
  },
  {
    "text": "not scaling did I get that right",
    "start": "1312720",
    "end": "1317200"
  },
  {
    "text": "um so in our environment and obviously it depends a lot on your configuration especially how many IPS you have per um",
    "start": "1320559",
    "end": "1329159"
  },
  {
    "text": "per blood balancing set within your cluster going anywhere above 10 to",
    "start": "1329159",
    "end": "1335559"
  },
  {
    "text": "20,000 clusters starts to be a significant amount of",
    "start": "1335559",
    "end": "1342679"
  },
  {
    "text": "memory oh okay okay",
    "start": "1345760",
    "end": "1350520"
  },
  {
    "text": "the question is why did we why do the Clusters consume so much memory and uh",
    "start": "1355039",
    "end": "1361720"
  },
  {
    "text": "to be honest I do not remember the results of the profiling apart from IPS being a big concern prep do you",
    "start": "1361720",
    "end": "1369919"
  },
  {
    "text": "remember nothing at the top of Mind except that at around 10K to 20K we",
    "start": "1369919",
    "end": "1375360"
  },
  {
    "text": "started like uh it becoming significant ly hard to even reload the config that's",
    "start": "1375360",
    "end": "1380919"
  },
  {
    "text": "all I remember um Marka just said that it keep",
    "start": "1380919",
    "end": "1389679"
  },
  {
    "text": "alive is a big component of that thank you",
    "start": "1389679",
    "end": "1394720"
  },
  {
    "text": "uh two questions so the first one uh def feral did we try using deferral with our",
    "start": "1409120",
    "end": "1415360"
  },
  {
    "text": "clusters did I get that",
    "start": "1415360",
    "end": "1418400"
  },
  {
    "text": "right um in other words async usage of the Clusters I guess or on demand",
    "start": "1428320",
    "end": "1438120"
  },
  {
    "text": "gotcha uh the answer is no we have not but actually that's a very interesting",
    "start": "1444320",
    "end": "1449919"
  },
  {
    "text": "suggestion and probably we should have considered it uh the second um the",
    "start": "1449919",
    "end": "1455600"
  },
  {
    "text": "second question was what's our experience with uh VPP running anid uh with VPP and I guess I'll take that one",
    "start": "1455600",
    "end": "1462799"
  },
  {
    "text": "uh for now for us it's been very good but you're talking also to the maintainers of the VPP code so uh that",
    "start": "1462799",
    "end": "1472399"
  },
  {
    "text": "means as far as we can tell and work on VPP or vcl integration with started",
    "start": "1472399",
    "end": "1478799"
  },
  {
    "text": "something like four years ago as far as we can tell over the last two to three",
    "start": "1478799",
    "end": "1483960"
  },
  {
    "text": "years with code running and in production things have been pretty stable but we also know what we're doing",
    "start": "1483960",
    "end": "1490679"
  },
  {
    "text": "so meaning a VPP is not necessarily uh easy to configure so if there's any",
    "start": "1490679",
    "end": "1497760"
  },
  {
    "text": "other folks in the community who would like help for that feel free to reach out I will also add we always pull the",
    "start": "1497760",
    "end": "1506039"
  },
  {
    "text": "latest stable version and run it so any bugs or any uh issues we find it's always uh in the VPP uh right away we",
    "start": "1506039",
    "end": "1513279"
  },
  {
    "text": "don't uh like uh wait for a couple of months or years so it's always there whatever changes we find and Florin is",
    "start": "1513279",
    "end": "1520480"
  },
  {
    "text": "always there to help what has been your experience",
    "start": "1520480",
    "end": "1529919"
  },
  {
    "text": "question is if we hit any sort of issues I'm assuming there was a hint about",
    "start": "1543679",
    "end": "1548960"
  },
  {
    "text": "performance and security there um and if updating keeping up with Envoy effect",
    "start": "1548960",
    "end": "1556000"
  },
  {
    "text": "dat Us in any shape or form you want to take it pretty sure so um overall from our security",
    "start": "1556000",
    "end": "1562880"
  },
  {
    "text": "perspective we always want to be on the latest and uh greatest because it will have always the latest security fixes to",
    "start": "1562880",
    "end": "1568600"
  },
  {
    "text": "go in and we also uh subscribe to all Community uh what you call security uh",
    "start": "1568600",
    "end": "1573880"
  },
  {
    "text": "disclosers so that we can be stay on top of it um what was the second question no",
    "start": "1573880",
    "end": "1580000"
  },
  {
    "text": "that was if performance okay we haven't hit any performance at the same time uh what we do is as soon as we pull our",
    "start": "1580000",
    "end": "1587000"
  },
  {
    "text": "latest version uh we also make we run all our regression suit to make sure that it at least passes our threshold",
    "start": "1587000",
    "end": "1594000"
  },
  {
    "text": "for what we need so we have custom workloads to make sure which we run daily and also weekly to calibrate the",
    "start": "1594000",
    "end": "1602080"
  },
  {
    "text": "performance of the system thank you and I believe there was",
    "start": "1602080",
    "end": "1607559"
  },
  {
    "text": "a question there yep I'm sorry",
    "start": "1607559",
    "end": "1614120"
  },
  {
    "text": "unfortunately your voice is a bit too low for me or my cold is catching up to my ears uh could you repeat the question",
    "start": "1630120",
    "end": "1639640"
  },
  {
    "text": "right so the question is we're running a multi- tented proxy what do we do about the back ends because they could use",
    "start": "1659799",
    "end": "1667320"
  },
  {
    "text": "overlapping IP addresses did I catch that right perfect okay I'm going to take that one very quickly so the answer",
    "start": "1667320",
    "end": "1675200"
  },
  {
    "text": "is the proxy itself is Network multi tened as well we haven't gone into those",
    "start": "1675200",
    "end": "1681120"
  },
  {
    "text": "details perhaps we were going to do it in in another talk but that's part of the reason why we're",
    "start": "1681120",
    "end": "1687760"
  },
  {
    "text": "running everything and that's why pretty mentioned that we're running everything on top of uh",
    "start": "1687760",
    "end": "1693880"
  },
  {
    "text": "VPP uh yeah please",
    "start": "1695519",
    "end": "1700519"
  },
  {
    "text": "yeah uh that could be um so the main reason we want to go ahead question okay the question is uh what are the reasons",
    "start": "1722159",
    "end": "1729519"
  },
  {
    "text": "uh you guys moved away from basm to um vasm to C++ native C++ the first reason",
    "start": "1729519",
    "end": "1736279"
  },
  {
    "text": "was like um we wanted to share some of the libraries between our native uh",
    "start": "1736279",
    "end": "1741880"
  },
  {
    "text": "sorry from our control plane to to onvo vasm but when we use tiny go not all",
    "start": "1741880",
    "end": "1748880"
  },
  {
    "text": "libraries could be uh compiled that's first reason so this made us choose what to do long run",
    "start": "1748880",
    "end": "1756480"
  },
  {
    "text": "like hey do we restrict our control plane or this vasm that's one thing the",
    "start": "1756480",
    "end": "1761720"
  },
  {
    "text": "second thing is as Florine kind of alluded or actually mentioned we started having complex metadata in",
    "start": "1761720",
    "end": "1768840"
  },
  {
    "text": "into the custom transport socket which was becoming more dynamic as we started",
    "start": "1768840",
    "end": "1774720"
  },
  {
    "text": "adding more features so that's the second reason third thing is it opens us",
    "start": "1774720",
    "end": "1780320"
  },
  {
    "text": "up to adding new features on top of uh on top of what is available like bring",
    "start": "1780320",
    "end": "1786279"
  },
  {
    "text": "your own domain using custom TLS uh building on top of custom TLS handshaker and so forth so we were seeing that we",
    "start": "1786279",
    "end": "1794120"
  },
  {
    "text": "needed to have more control and interact directly with the um C++ SL",
    "start": "1794120",
    "end": "1801960"
  },
  {
    "text": "code I'll I'll add that wasn't was very good for us as as we started to work on",
    "start": "1801960",
    "end": "1807159"
  },
  {
    "text": "this however I believe at least at the time we started really thinking seriously about C++ that there was no",
    "start": "1807159",
    "end": "1815320"
  },
  {
    "text": "possibility to inject stream metadata uh within within wasm I don't know if that",
    "start": "1815320",
    "end": "1821320"
  },
  {
    "text": "has changed over the years",
    "start": "1821320",
    "end": "1825200"
  },
  {
    "text": "at that time yes",
    "start": "1829799",
    "end": "1833840"
  },
  {
    "text": "yes sure uh what would you like to know",
    "start": "1839840",
    "end": "1845080"
  },
  {
    "text": "about sure um again um the control plane is the okay let me repeat the question",
    "start": "1845399",
    "end": "1851080"
  },
  {
    "text": "uh can you explain more of our control plane our control plane is also custom made um and um it's not open",
    "start": "1851080",
    "end": "1859919"
  },
  {
    "text": "I would add that it has two components first of all it's the the go control plane for Envoy good part of it thank",
    "start": "1860120",
    "end": "1867039"
  },
  {
    "text": "you for that it's awesome um and the part that it's uh not open source that",
    "start": "1867039",
    "end": "1872799"
  },
  {
    "text": "you mentioned is anything that has to do with policy evaluation so basically the business",
    "start": "1872799",
    "end": "1879639"
  },
  {
    "text": "logic thanks everyone bye",
    "start": "1884080",
    "end": "1888880"
  }
]