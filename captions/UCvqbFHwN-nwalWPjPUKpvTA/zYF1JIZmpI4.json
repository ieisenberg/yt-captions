[
  {
    "text": "good afternoon everyone um thank you for being here today to listen to us talk about unifying observability correlating",
    "start": "0",
    "end": "6560"
  },
  {
    "text": "metrics traces and Logs with exemplars and open Telemetry um so before we get started we",
    "start": "6560",
    "end": "13639"
  },
  {
    "text": "just want to take a quick moment to introduce ourselves hi I'm cria I'm a machine learning engineer at Apple I",
    "start": "13639",
    "end": "19920"
  },
  {
    "text": "work with the observ observability team and my background is in machine learning data science and observability Charlie",
    "start": "19920",
    "end": "27880"
  },
  {
    "text": "hi I'm Charlie um I'm a software engineer at Apple um I've been here for",
    "start": "27880",
    "end": "33360"
  },
  {
    "text": "about eight years and um I'm also a cortex maintainer I'm super happy to talk about",
    "start": "33360",
    "end": "40480"
  },
  {
    "text": "exemplars today so um thanks for coming all right um we'll just do a",
    "start": "40480",
    "end": "46440"
  },
  {
    "text": "quick walkr of our agenda so we'll start with a case study and a demo of what",
    "start": "46440",
    "end": "51600"
  },
  {
    "text": "we're going to be talking about and then talk about what exemplars are and then go into a high level overview before",
    "start": "51600",
    "end": "57520"
  },
  {
    "text": "diving deeper into the details of exemplars and how to set them up then we'll talk about the value of using",
    "start": "57520",
    "end": "64400"
  },
  {
    "text": "exemplars for your service and finally open it up to question and answers so please think about your questions while",
    "start": "64400",
    "end": "69840"
  },
  {
    "text": "we talk um so this talk is mainly geared",
    "start": "69840",
    "end": "75240"
  },
  {
    "text": "towards um sres developers operations experts ml Engineers basically anyone",
    "start": "75240",
    "end": "80960"
  },
  {
    "text": "who is interested in improving the reliability and observability of your service so what we're going to learn",
    "start": "80960",
    "end": "88040"
  },
  {
    "text": "today is we're going to learn about what exemplars are talk about how to enable exemplars with open Telemetry how to",
    "start": "88040",
    "end": "95040"
  },
  {
    "text": "configure your Prometheus back end so that you can store exemplars and finally how can you visualize exemplars to get",
    "start": "95040",
    "end": "102000"
  },
  {
    "text": "the most actionable insights from them so Charlie do you want to get a started with the case study yeah thanks cria so",
    "start": "102000",
    "end": "110119"
  },
  {
    "text": "um let's imagine that you uh run this uh store for selling telescopes um it's",
    "start": "110119",
    "end": "116799"
  },
  {
    "text": "your pride and your joy and this is your let's say your primary source of income just by the way this isn't a real store",
    "start": "116799",
    "end": "123399"
  },
  {
    "text": "but just say you had a store that sold telescopes and um one day this happens",
    "start": "123399",
    "end": "129920"
  },
  {
    "text": "uh the telescope images aren't showing up anymore and uh the prices are all zeros and um what does that mean right",
    "start": "129920",
    "end": "137959"
  },
  {
    "text": "like okay now there's going to be loss of Revenue because telescopes aren't being sold um there's this this there's",
    "start": "137959",
    "end": "144959"
  },
  {
    "text": "this degraded user experience now because customers that are coming on to your site can't buy anything anymore and",
    "start": "144959",
    "end": "151319"
  },
  {
    "text": "there's this potential loss of loyalty now because if your website isn't working what does that say about your telescopes um so the objective here is",
    "start": "151319",
    "end": "159159"
  },
  {
    "text": "to be able to quickly um diagnose and resolve these kinds of critical issues",
    "start": "159159",
    "end": "164920"
  },
  {
    "text": "in a systematic way and also a scalable way so you don't have to have like these custom things um for resolving these",
    "start": "164920",
    "end": "171760"
  },
  {
    "text": "specific use cases um every time they pop up so let's say you have this uh",
    "start": "171760",
    "end": "178720"
  },
  {
    "text": "dashboard um um and it's a metric for the errors that are happening for your",
    "start": "178720",
    "end": "184920"
  },
  {
    "text": "application um wouldn't it be nice if you could have more information on these",
    "start": "184920",
    "end": "190319"
  },
  {
    "text": "graphs like um these little um these little dots here that told you um some",
    "start": "190319",
    "end": "197159"
  },
  {
    "text": "more information about that request and what if you could um highlight that dot",
    "start": "197159",
    "end": "206360"
  },
  {
    "text": "and then be able to see more information about that request um and uh wouldn't it be nice if you can",
    "start": "206360",
    "end": "214519"
  },
  {
    "text": "jump directly to that Trace uh for that request and be able to dig into more of",
    "start": "214519",
    "end": "220799"
  },
  {
    "text": "what happened in that error um so this is a an example uh Trace that has all of",
    "start": "220799",
    "end": "228879"
  },
  {
    "text": "these fans that talk to the various uh services that make up this uh web",
    "start": "228879",
    "end": "235519"
  },
  {
    "text": "application um and if we scroll down a little bit and uh look here uh we can",
    "start": "235519",
    "end": "241200"
  },
  {
    "text": "see that just from this Trace alone uh we saw that there's this feature flag",
    "start": "241200",
    "end": "246480"
  },
  {
    "text": "thing that was enabled and um luckily I know that there's this feature flag",
    "start": "246480",
    "end": "251720"
  },
  {
    "text": "service and someone had accidentally turned on this product catalog failure",
    "start": "251720",
    "end": "257040"
  },
  {
    "text": "um and because it's on now there's these there's all these errors so let's just turn it off and um go back to that",
    "start": "257040",
    "end": "263880"
  },
  {
    "text": "website and then see oh okay it's working now um so think about the amount",
    "start": "263880",
    "end": "269960"
  },
  {
    "text": "of time that it took to quickly debug these kinds of issues like you're looking at a metric you jump directly to",
    "start": "269960",
    "end": "277240"
  },
  {
    "text": "a trace and now you're you have all this context relevant information about this request and then you can dig into these",
    "start": "277240",
    "end": "283919"
  },
  {
    "text": "spans and then look about look at what these errors are and then quickly figure out okay there's this feature flag thing",
    "start": "283919",
    "end": "291120"
  },
  {
    "text": "let's go and try disabling this product catalog failure thing and then see if that fixes the the issue right think",
    "start": "291120",
    "end": "297840"
  },
  {
    "text": "about if you didn't have this examplar what what would you do to be able to figure this out especially if you didn't",
    "start": "297840",
    "end": "303479"
  },
  {
    "text": "know how everything was connected so crua is going to talk a bit",
    "start": "303479",
    "end": "308520"
  },
  {
    "text": "more about how um exemplars work and kind of do an intro for you guys all",
    "start": "308520",
    "end": "314680"
  },
  {
    "text": "right um charia you sure you didn't turn on that feature flag just by mistake anyway um so now that we know what",
    "start": "314680",
    "end": "322039"
  },
  {
    "text": "exemplars can do for you let's talk about what exemplars are so exemplars",
    "start": "322039",
    "end": "327080"
  },
  {
    "text": "are specific data points that add um richer context into your observability stack by linking metrics to traces and",
    "start": "327080",
    "end": "335039"
  },
  {
    "text": "logs and these traces and logs are stored alongside metrics in exemplars",
    "start": "335039",
    "end": "340479"
  },
  {
    "text": "they essentially allow you to correlate the metric data to the API calls where",
    "start": "340479",
    "end": "345520"
  },
  {
    "text": "these measurements were originally recorded So when should you use",
    "start": "345520",
    "end": "351039"
  },
  {
    "text": "exemplars so exemplars are great for when you want to troubleshoot anomalies because when you have an an anomalous",
    "start": "351039",
    "end": "357479"
  },
  {
    "text": "data point you can go from that metric directly to the trace and get all this extra information about what's going on",
    "start": "357479",
    "end": "363120"
  },
  {
    "text": "with your system it also is great for managing High cardinality data because um it",
    "start": "363120",
    "end": "370479"
  },
  {
    "text": "augments your metrics with traces and logs where you get all this details of um what's really going on and finally um",
    "start": "370479",
    "end": "378800"
  },
  {
    "text": "it's great for identifying and analyzing performance bottlenecks like for example",
    "start": "378800",
    "end": "384000"
  },
  {
    "text": "maybe there's a high latency issue all of these are very fast and easy to pick up with",
    "start": "384000",
    "end": "390319"
  },
  {
    "text": "exemplars why should you be using them like we said um it offers deeper insights for you to very quickly do root",
    "start": "390319",
    "end": "397240"
  },
  {
    "text": "cause analysis it helps you streamline your troubleshooting to very specific",
    "start": "397240",
    "end": "402759"
  },
  {
    "text": "data points because it highlights those data points for you in all the data and finally it enhances the observability",
    "start": "402759",
    "end": "409520"
  },
  {
    "text": "with richer and more nuanced um context for system",
    "start": "409520",
    "end": "414840"
  },
  {
    "text": "Behavior okay so now let's talk about what are some of the prerequisites you will need to set up exemplars for your",
    "start": "414840",
    "end": "420639"
  },
  {
    "text": "service so the first and most important thing is instrumentation you'll have to instrument uh your service to collect",
    "start": "420639",
    "end": "426720"
  },
  {
    "text": "metrics traces and logs and this is very important because this is the step where",
    "start": "426720",
    "end": "431840"
  },
  {
    "text": "you'll collect the raw data for your monitoring you'll need a metric collection system and for this um you",
    "start": "431840",
    "end": "438240"
  },
  {
    "text": "can use the open Telemetry metric SDK to collect process and Export metric and",
    "start": "438240",
    "end": "444039"
  },
  {
    "text": "you can store them in Prometheus you'll need a tracing system and similarly to metric you can use the",
    "start": "444039",
    "end": "450759"
  },
  {
    "text": "uh open Telemetry traces SDK to collect and Export traces and you can store them in Jer for logging you can use um open",
    "start": "450759",
    "end": "458720"
  },
  {
    "text": "search to ingest all of that rich additional logging information that you need from your service and finally you",
    "start": "458720",
    "end": "466120"
  },
  {
    "text": "need a visualization system which you can use to query and visualize your Exemplar so you can see the metrics",
    "start": "466120",
    "end": "472800"
  },
  {
    "text": "traces and logs in one place and uh grafana and Prometheus are great uh",
    "start": "472800",
    "end": "478039"
  },
  {
    "text": "tools for this they both offer a uh out of the box um all right so open Telemetry is a",
    "start": "478039",
    "end": "486240"
  },
  {
    "text": "vendor agnostic solution for collection uh processing and exporting of metrics",
    "start": "486240",
    "end": "493120"
  },
  {
    "text": "traces and logs and um it offers uh you",
    "start": "493120",
    "end": "498159"
  },
  {
    "text": "know support in a variety of languages some of them we've listed here for for",
    "start": "498159",
    "end": "503599"
  },
  {
    "text": "using exemplars so no matter what your text tack is you can use uh open tele",
    "start": "503599",
    "end": "509560"
  },
  {
    "text": "Tre to set up exemplars for your service and um the versions listed here they are",
    "start": "509560",
    "end": "514919"
  },
  {
    "text": "uh they are the base versions that you will need to uh get exemplars out of the box all right um now Charlie do you want",
    "start": "514919",
    "end": "521080"
  },
  {
    "text": "to talk about the high level overview yes thanks kka um so this is a generic",
    "start": "521080",
    "end": "526680"
  },
  {
    "text": "kind of flow for how uh Telemetry can flow through your systems with uh exemplars on the left hand side you'll",
    "start": "526680",
    "end": "533240"
  },
  {
    "text": "see a server that's instrumented with open Telemetry it's exporting these uh Telemetry to the open Telemetry",
    "start": "533240",
    "end": "540600"
  },
  {
    "text": "collector and then that collector is processing it and then exporting it to the various backends that support that",
    "start": "540600",
    "end": "547399"
  },
  {
    "text": "Telemetry type for example Prometheus could be used for storing your metrics",
    "start": "547399",
    "end": "552760"
  },
  {
    "text": "and exemplars open search could be used for storing your logs um and jger could",
    "start": "552760",
    "end": "558040"
  },
  {
    "text": "be used for storing your traces um these are just open source off-the-shelf",
    "start": "558040",
    "end": "563079"
  },
  {
    "text": "components that you can set up um and you don't need to pay for anything you can just set it up yourself um and then",
    "start": "563079",
    "end": "569440"
  },
  {
    "text": "on the right side you'll see the visualization tool um to to be able to query all these different uh Telemetry",
    "start": "569440",
    "end": "576600"
  },
  {
    "text": "types um and then be able to link them for you um so under the hood uh what does an",
    "start": "576600",
    "end": "583440"
  },
  {
    "text": "exampler actually look like um on the left hand side you'll see a example metric this is in Prometheus um it's",
    "start": "583440",
    "end": "591000"
  },
  {
    "text": "just a latency metric um has a histogram and um on the right side you'll see the",
    "start": "591000",
    "end": "596920"
  },
  {
    "text": "examplars that are related to this metric um and in the exemplars you'll notice that uh the trace ID and the span",
    "start": "596920",
    "end": "604240"
  },
  {
    "text": "IDs are there so if you're quering the exemplars all you need to do is pluck those Trace IDs out and then and query",
    "start": "604240",
    "end": "610800"
  },
  {
    "text": "your tracing back in and you should have the trace for that request um and uh fun",
    "start": "610800",
    "end": "617680"
  },
  {
    "text": "little Easter eggs here the first time stamp is when the first iPhone was released and uh the second time stamp is",
    "start": "617680",
    "end": "625480"
  },
  {
    "text": "um when this talk is happening so",
    "start": "625480",
    "end": "630639"
  },
  {
    "text": "um so what flags do you actually need to enable um to get Exemplar support um if",
    "start": "630839",
    "end": "635959"
  },
  {
    "text": "you're using Prometheus you'll need to enable the Exemplar storage flag otherwise if you try to send it",
    "start": "635959",
    "end": "641440"
  },
  {
    "text": "exemplars it'll just discard it the second flag is the OTP WR receiver fature flag which allows for accepting",
    "start": "641440",
    "end": "648800"
  },
  {
    "text": "these OTP WR requests if you don't have this enabled it will also just reject their",
    "start": "648800",
    "end": "655120"
  },
  {
    "text": "request um on grafana in your data source the able to uh tell um grafana",
    "start": "655120",
    "end": "663240"
  },
  {
    "text": "where to query the um tracing backend you go to your Prometheus data source",
    "start": "663240",
    "end": "668880"
  },
  {
    "text": "and then in that section there's an Exemplar section um you click on where that tracing back end is as well as um",
    "start": "668880",
    "end": "676800"
  },
  {
    "text": "the trace ID so this is like a label that graphon will use in that Exemplar",
    "start": "676800",
    "end": "682600"
  },
  {
    "text": "data to be able to query the tracing back end and figure out where that Trace is um and so so once you have that data",
    "start": "682600",
    "end": "690720"
  },
  {
    "text": "source configured in your dashboard um in the uh the panel itself you have to",
    "start": "690720",
    "end": "697600"
  },
  {
    "text": "enable this Exemplar section you may have seen this little Exemplar section but never turn it on because what's an",
    "start": "697600",
    "end": "703440"
  },
  {
    "text": "Exemplar but if you enable it um and then check a look at the uh",
    "start": "703440",
    "end": "709639"
  },
  {
    "text": "panel now you'll see these little green dots um and if you hover over them you'll see these exemplars show up um",
    "start": "709639",
    "end": "716720"
  },
  {
    "text": "and then clicking on that view in Jager UI will will take you to the tracing back end that you set up with that Trace",
    "start": "716720",
    "end": "722480"
  },
  {
    "text": "ID in there already filled in and then you can view that Trace um pretty",
    "start": "722480",
    "end": "727600"
  },
  {
    "text": "easily uh we also talked about logs a little bit so is it possible to jump",
    "start": "727600",
    "end": "733160"
  },
  {
    "text": "from a trace to a log now that we've jumped from a metric to a trace well um",
    "start": "733160",
    "end": "739560"
  },
  {
    "text": "this is what that tracing view looks like in grafana um and uh if you wanted",
    "start": "739560",
    "end": "745399"
  },
  {
    "text": "to be able to jump from that Trace to that log U what you do is you go to that",
    "start": "745399",
    "end": "750440"
  },
  {
    "text": "uh tracing data source uh Jagger in this case and then you go to this section for",
    "start": "750440",
    "end": "756199"
  },
  {
    "text": "Trace to logs so what you do is you say hey graphon this is the logging backend",
    "start": "756199",
    "end": "761839"
  },
  {
    "text": "I want to use um this is the query that I want to use and then when I query that",
    "start": "761839",
    "end": "767120"
  },
  {
    "text": "uh logging back end um because my application is instrumented with open Telemetry the logs already have this",
    "start": "767120",
    "end": "774360"
  },
  {
    "text": "Trace ID in there and all I need to do is query for all the logs lines that have that Trace ID so let me show you um",
    "start": "774360",
    "end": "783199"
  },
  {
    "text": "when we enable this what does that tracing view look like now um we zoom in",
    "start": "783199",
    "end": "788279"
  },
  {
    "text": "a bit we'll see like these little links here that say click on the log um when you click on it what actually happens is",
    "start": "788279",
    "end": "795399"
  },
  {
    "text": "um it'll make this query to the the searching back end uh or the log back end that you have um plug in that Trace",
    "start": "795399",
    "end": "802360"
  },
  {
    "text": "ID for you and then now you have all of the logs that are related to that request isn't that nice",
    "start": "802360",
    "end": "810480"
  },
  {
    "text": "um so that's how you can jump from a trace to a log um with",
    "start": "810480",
    "end": "815880"
  },
  {
    "text": "exemplars and uh now I'm going to talk a bit about enabling exemplars in your",
    "start": "815880",
    "end": "821440"
  },
  {
    "text": "application so this is how you would normally instrument your application with open Telemetry first you import",
    "start": "821440",
    "end": "828880"
  },
  {
    "text": "your API and sdks from open Telemetry you configure the providers for the Telemetry types set up the traces um uh",
    "start": "828880",
    "end": "836920"
  },
  {
    "text": "measurement and logging Handler and you start recording U your um Telemetry this",
    "start": "836920",
    "end": "842600"
  },
  {
    "text": "is very normal um uh or you know um typical in um instrumentation for open",
    "start": "842600",
    "end": "850920"
  },
  {
    "text": "Telemetry um and then let me show you what it looks like with",
    "start": "850920",
    "end": "856600"
  },
  {
    "text": "exemplars if you notice there is actually no difference because um open",
    "start": "856600",
    "end": "861639"
  },
  {
    "text": "Telemetry creates these exemplars for you out of the box so that's kind of the nice really cool benefit of",
    "start": "861639",
    "end": "867279"
  },
  {
    "text": "instrumenting your applications with with open Telemetry let me just show you some",
    "start": "867279",
    "end": "873880"
  },
  {
    "text": "quick um examples here of what it looks like in um code uh in go this was what it would",
    "start": "873880",
    "end": "880920"
  },
  {
    "text": "look like you would import your API and sdks you set up your providers create",
    "start": "880920",
    "end": "886000"
  },
  {
    "text": "those handlers start recording there's nothing really else that you need to do like you don't need to say do exemplars",
    "start": "886000",
    "end": "892240"
  },
  {
    "text": "it just does it for you and how it works under the hood is that because the API",
    "start": "892240",
    "end": "897560"
  },
  {
    "text": "and the SDK um for traces and the metrics know about each other when it's",
    "start": "897560",
    "end": "903440"
  },
  {
    "text": "creating the recording for that metric it already knows that context for that trace and then it can link those two",
    "start": "903440",
    "end": "910279"
  },
  {
    "text": "together to create those exemplars for you um here's another example for",
    "start": "910279",
    "end": "915480"
  },
  {
    "text": "python it's very similar you do the same Imports um you set up the traces the the",
    "start": "915480",
    "end": "923240"
  },
  {
    "text": "uh and the the meters and then you set up the logging handlers and then you start doing those recordings and and uh",
    "start": "923240",
    "end": "929880"
  },
  {
    "text": "once you do that it's the same process Exemplar should be uh created for you out of the",
    "start": "929880",
    "end": "935240"
  },
  {
    "text": "box um so I'm going to hand it back to cria to talk about the value",
    "start": "935240",
    "end": "940399"
  },
  {
    "text": "proposition all right um so now we know what all exemplars can do for you and what they are so now we want to talk a",
    "start": "940399",
    "end": "946800"
  },
  {
    "text": "little bit about what value it adds to your service I'm going to go through this really quickly so it offers faster root",
    "start": "946800",
    "end": "954199"
  },
  {
    "text": "cause analysis augments metrics with traces and logs helps you with efficient use of resources",
    "start": "954199",
    "end": "959600"
  },
  {
    "text": "offers more granular insights into anomalies and helps you improve meantime to resolve and overall it has enhanced",
    "start": "959600",
    "end": "965480"
  },
  {
    "text": "your observability but this means nothing so we're going to talk a little bit about some examples for each of",
    "start": "965480",
    "end": "970680"
  },
  {
    "text": "these so let's go back to our astronomy um shop use case let's say that one day you observe this like steep Spike for um",
    "start": "970680",
    "end": "978160"
  },
  {
    "text": "server latency and you have an anomaly detection set up already and the anomal detection system has notified you that",
    "start": "978160",
    "end": "984880"
  },
  {
    "text": "there's an anomaly now that you have a notification you need a way to uh figure out what to do about it and how to fix",
    "start": "984880",
    "end": "991000"
  },
  {
    "text": "it so examplars are great because like we've been saying throughout this talk",
    "start": "991000",
    "end": "996560"
  },
  {
    "text": "you can easily jump into the trace and get all this extra information about what's going on with error messages and",
    "start": "996560",
    "end": "1002399"
  },
  {
    "text": "everything because you can also jump into logs so that helps with faster root",
    "start": "1002399",
    "end": "1007480"
  },
  {
    "text": "cause analysis you can perhaps store all the",
    "start": "1007480",
    "end": "1012680"
  },
  {
    "text": "information that you need to uh root cause an issue in your metrics but the",
    "start": "1012680",
    "end": "1018079"
  },
  {
    "text": "way you do that is you will need to store them as label value Pairs and the problem with that is you're going to",
    "start": "1018079",
    "end": "1023680"
  },
  {
    "text": "increase your cardinality for the metrics so exemplars are great here because they help you only store the",
    "start": "1023680",
    "end": "1030160"
  },
  {
    "text": "essential information you need as part of the metrics and then it augments these metrics with traces and logs to",
    "start": "1030160",
    "end": "1036520"
  },
  {
    "text": "get all the extra information you need for uh system Behavior performance analysis uh root cause analysis anything",
    "start": "1036520",
    "end": "1044600"
  },
  {
    "text": "and the added benefit is that you end up storing lower cardinality metrics tricks so you are using your resources a little",
    "start": "1044600",
    "end": "1051679"
  },
  {
    "text": "more efficiently but um storing exemplars does come with a little bit of cost overhead the good thing is there",
    "start": "1051679",
    "end": "1058320"
  },
  {
    "text": "are several sampling policies that you can use to sample your traces because exemplars is you know the metric plus",
    "start": "1058320",
    "end": "1064799"
  },
  {
    "text": "the trace ID or the span ID so by sampling a percentage of traces from your service um you're also reducing um",
    "start": "1064799",
    "end": "1072880"
  },
  {
    "text": "your cost overhead for resources um in multi-service setups",
    "start": "1072880",
    "end": "1080919"
  },
  {
    "text": "like the one that we saw with the astronomy shop um it's great exemplars are great because uh they offer more",
    "start": "1080919",
    "end": "1087440"
  },
  {
    "text": "granular insights into multi-service issues um especially they help you understand how different Services",
    "start": "1087440",
    "end": "1093799"
  },
  {
    "text": "interact with one another uh in case of a failure so when we saw the product catalog issue uh just you know at the",
    "start": "1093799",
    "end": "1100679"
  },
  {
    "text": "beginning uh during the demo we saw that it also gives you like latencies of all other um services that the data flow hit",
    "start": "1100679",
    "end": "1108880"
  },
  {
    "text": "um that way you can uh get more insights into how they are",
    "start": "1108880",
    "end": "1113799"
  },
  {
    "text": "related and you know we've been talking about all of this it's kind of very clear right now it's obvious that it",
    "start": "1115000",
    "end": "1120640"
  },
  {
    "text": "does help you uh reduce meantime to resolve but you can come and tell me",
    "start": "1120640",
    "end": "1125679"
  },
  {
    "text": "that hey I can store metrics traces and locks separately um probably get the same insights from just storing them SE",
    "start": "1125679",
    "end": "1131360"
  },
  {
    "text": "separately why do I need exemplars that's true to a certain extent you do get the same insights but you have the",
    "start": "1131360",
    "end": "1137600"
  },
  {
    "text": "manual overhead of having to go figure out and Link these metrics traces and locks together so exemplars are great",
    "start": "1137600",
    "end": "1144000"
  },
  {
    "text": "because they are a One-Stop shop solution for you to link these metrics traces and Logs with one another and",
    "start": "1144000",
    "end": "1150440"
  },
  {
    "text": "they also offer easy traceability from metrics to uh traces and traces to logs",
    "start": "1150440",
    "end": "1155600"
  },
  {
    "text": "so um this General uh triaging becomes much",
    "start": "1155600",
    "end": "1162000"
  },
  {
    "text": "easier and finally um it enhances the overall uh observability of your system",
    "start": "1162000",
    "end": "1168520"
  },
  {
    "text": "uh because it has now given you a more uh nuanced insight into what the system behavior",
    "start": "1168520",
    "end": "1175919"
  },
  {
    "text": "is okay so we're going to recap everything that uh we've learned so far",
    "start": "1176360",
    "end": "1181760"
  },
  {
    "text": "so we learned about what obser exemplars are we learned about how to enable them",
    "start": "1181760",
    "end": "1187080"
  },
  {
    "text": "using open Telemetry we learned about how to configure our Prometheus backends to store these exemplars and finally we",
    "start": "1187080",
    "end": "1194679"
  },
  {
    "text": "learn how to visualize them in the best way to get the most actionable insights the idea of this talk was to essentially",
    "start": "1194679",
    "end": "1202159"
  },
  {
    "text": "motivate the idea of using exemplars for the future services that you build because they truly are very powerful um",
    "start": "1202159",
    "end": "1208600"
  },
  {
    "text": "you know for system Behavior Analysis or performance analysis uh root cause analysis as we've seen and we hope that",
    "start": "1208600",
    "end": "1214960"
  },
  {
    "text": "you took away that took away all that from the talk and we hope you enjoyed the talk",
    "start": "1214960",
    "end": "1222039"
  },
  {
    "text": "charie wait wait wait wait",
    "start": "1223600",
    "end": "1228240"
  },
  {
    "text": "um before we conclude I'd like to thank the open telary Community uh for um",
    "start": "1230000",
    "end": "1236760"
  },
  {
    "text": "doing all of this work for making exemplars possible um and having all",
    "start": "1236760",
    "end": "1242200"
  },
  {
    "text": "this this support in the various languages that are available um uh it's",
    "start": "1242200",
    "end": "1247919"
  },
  {
    "text": "it's it's very difficult to kind of um explain how much work is uh being done",
    "start": "1247919",
    "end": "1255600"
  },
  {
    "text": "behind the scenes to make all of this happen for you out of the box so huge thank you to the open Telemetry",
    "start": "1255600",
    "end": "1260840"
  },
  {
    "text": "Community for um making all of this uh available um some exemplars of uh some",
    "start": "1260840",
    "end": "1267360"
  },
  {
    "text": "folks that um helped us when we were preparing this talk um from the python Sig um Clayton Chen and Aaron Abbott",
    "start": "1267360",
    "end": "1274440"
  },
  {
    "text": "they helped us answer some questions um about exemplars um also on the G David",
    "start": "1274440",
    "end": "1280200"
  },
  {
    "text": "ashel and Tyler Han also were really helpful um when um when we had some questions also Alita Sharma for um being",
    "start": "1280200",
    "end": "1289240"
  },
  {
    "text": "um open Telemetry at Apple so thank you Alita and last but not least you for",
    "start": "1289240",
    "end": "1294880"
  },
  {
    "text": "attending this talk for for learning about exemplars and and trying to improve observability around the world",
    "start": "1294880",
    "end": "1301279"
  },
  {
    "text": "so thank you um and um we'd like to also link some some more resources here so if",
    "start": "1301279",
    "end": "1308679"
  },
  {
    "text": "you want to learn more about Open Telemetry the website is here um the demo that we used at the beginning of",
    "start": "1308679",
    "end": "1314840"
  },
  {
    "text": "this talk is available as a GitHub repo you can clone it test it out play around",
    "start": "1314840",
    "end": "1320039"
  },
  {
    "text": "with everything learn more about how those spans are set up and all the different ways that the um languages are",
    "start": "1320039",
    "end": "1328400"
  },
  {
    "text": "used to create the Telemetry types huge thank you to the demo uh project",
    "start": "1328400",
    "end": "1333480"
  },
  {
    "text": "maintainers for setting this up I actually didn't have to do a lot of work to to enable exemplars because like I",
    "start": "1333480",
    "end": "1340120"
  },
  {
    "text": "said it's just showing up out of the box I just needed to configure some things in the back end to to make it visible um",
    "start": "1340120",
    "end": "1347960"
  },
  {
    "text": "there's also the this uh otel specification repo which was immensely",
    "start": "1347960",
    "end": "1353279"
  },
  {
    "text": "valuable When I Was preparing this talk and learning how exemplars worked under the hood um if you're interested in more",
    "start": "1353279",
    "end": "1359159"
  },
  {
    "text": "talks about open to lemetry there's this blog post from their um website that has all these other talks and then finally",
    "start": "1359159",
    "end": "1366760"
  },
  {
    "text": "the white paper which has a bunch of more details about observability in general and um also we're hiring so if",
    "start": "1366760",
    "end": "1374720"
  },
  {
    "text": "you're interested in any of the things that we just talked about and want to get paid to do it work work with",
    "start": "1374720",
    "end": "1381360"
  },
  {
    "text": "us and uh yes if you have questions there's mics on the sides here we'd love",
    "start": "1381360",
    "end": "1387039"
  },
  {
    "text": "to answer them and um yeah thank you [Applause]",
    "start": "1387039",
    "end": "1394950"
  },
  {
    "text": "[Applause]",
    "start": "1396990",
    "end": "1400190"
  },
  {
    "text": "[Music]",
    "start": "1417190",
    "end": "1420299"
  },
  {
    "text": "hello yeah he hey uh thanks for the talk uh I think I",
    "start": "1427760",
    "end": "1434000"
  },
  {
    "text": "had one question uh how do you handle cases where the traffic is very low so",
    "start": "1434000",
    "end": "1440279"
  },
  {
    "text": "you may not capture uh those data points and you may for example Miss certain samples I think",
    "start": "1440279",
    "end": "1447120"
  },
  {
    "text": "because you uh basically sampling with exemplars so that may lead to issues",
    "start": "1447120",
    "end": "1452400"
  },
  {
    "text": "sometime right to capture things which are important but may not be captured in the samples yeah so I think the question",
    "start": "1452400",
    "end": "1459720"
  },
  {
    "text": "is how do you capture exemplars for um requests that don't happen very often is",
    "start": "1459720",
    "end": "1465559"
  },
  {
    "text": "that okay so um inside of open Telemetry there are these",
    "start": "1465559",
    "end": "1471520"
  },
  {
    "text": "uh settings that you can set um one of them is like the uh how like what is the",
    "start": "1471520",
    "end": "1478360"
  },
  {
    "text": "sampling policy for examplar should you always have it enabled should it be Trace based should it be off um those",
    "start": "1478360",
    "end": "1484919"
  },
  {
    "text": "are settings that you can set uh per service so you could you could set that to be always on for example if you know",
    "start": "1484919",
    "end": "1491159"
  },
  {
    "text": "that your service is um not going to be receiving a lot of requests you can set",
    "start": "1491159",
    "end": "1496600"
  },
  {
    "text": "always on um the other thing is um if you set it to trace base you can you can",
    "start": "1496600",
    "end": "1502120"
  },
  {
    "text": "configure the uh uh Trace Pol the the trace uh sampling rate to be higher",
    "start": "1502120",
    "end": "1509000"
  },
  {
    "text": "because you know that uh um you know there's not going to be a lot of requests and uh if you want to be able",
    "start": "1509000",
    "end": "1515480"
  },
  {
    "text": "to capture more of those traces that happen then that's one thing you can do okay thank you you're",
    "start": "1515480",
    "end": "1523320"
  },
  {
    "text": "welcome um hi uh I have the opposite question um what would we do in cases",
    "start": "1523919",
    "end": "1529919"
  },
  {
    "text": "where uh the volume is so high that it's actually beneficial to sample the logs",
    "start": "1529919",
    "end": "1536679"
  },
  {
    "text": "so that uh we may not have all of the information um available for the Exemplar is that something that we uh",
    "start": "1536679",
    "end": "1543559"
  },
  {
    "text": "consider so let me repeat the question so the question is what happens if you",
    "start": "1543559",
    "end": "1549840"
  },
  {
    "text": "have um uh too many requests coming in",
    "start": "1549840",
    "end": "1554960"
  },
  {
    "text": "and you you want to sample by logs is that the question yeah okay um and and you want to be able to",
    "start": "1554960",
    "end": "1563240"
  },
  {
    "text": "like what would you well so the the question is um in in that case you may",
    "start": "1563240",
    "end": "1569640"
  },
  {
    "text": "no longer have a log attached to your Exemplar but um is there a way that we",
    "start": "1569640",
    "end": "1576760"
  },
  {
    "text": "could um unite okay what is being sampled so that I'm always sampling the",
    "start": "1576760",
    "end": "1582600"
  },
  {
    "text": "same log with the same Trace so if you",
    "start": "1582600",
    "end": "1589440"
  },
  {
    "text": "same log and the same TR so you want to be able to log just the things that you",
    "start": "1589440",
    "end": "1594679"
  },
  {
    "text": "care about is that or so I want to make sure that um the sampling is applied consistently so that um for a request I",
    "start": "1594679",
    "end": "1602399"
  },
  {
    "text": "am either uh not sampling everything or I'm getting both",
    "start": "1602399",
    "end": "1607559"
  },
  {
    "text": "the log and the trace um I'm not sure if I understand the",
    "start": "1607559",
    "end": "1613559"
  },
  {
    "text": "question you can let's let's talk after yeah I think you can talk a little bit more",
    "start": "1613559",
    "end": "1619000"
  },
  {
    "text": "hi thanks for for the presentation um I have a question how do you troubleshoot exemplars in other words your log shows",
    "start": "1619000",
    "end": "1625919"
  },
  {
    "text": "the TR ID but you can ask them to map it up in Graff where do you go to dig out what a problem might be sorry I didn't",
    "start": "1625919",
    "end": "1633080"
  },
  {
    "text": "hear the last part what okay so you you have your TR ID in the logs right yeah but you cannot it's not showing up when",
    "start": "1633080",
    "end": "1639039"
  },
  {
    "text": "you click the link in your um in grao uh how do you how do you figure out where",
    "start": "1639039",
    "end": "1644760"
  },
  {
    "text": "the problem is oh how do you figure out how do you tro that yes so um like how do you figure out okay let me repeat the",
    "start": "1644760",
    "end": "1651480"
  },
  {
    "text": "question so how do you figure out what the problem is from the logs that showed up from that Exemplar linking from that",
    "start": "1651480",
    "end": "1657600"
  },
  {
    "text": "Trace to the logs no I have a trace ID in my logs right so when I click on jger",
    "start": "1657600",
    "end": "1662679"
  },
  {
    "text": "and I search it doesn't show up but I know it's in the logs how do I connect",
    "start": "1662679",
    "end": "1668279"
  },
  {
    "text": "those dots that's what I'm trying to understand",
    "start": "1668279",
    "end": "1673080"
  },
  {
    "text": "uh so okay let me let me go back to the uh SL with the logs",
    "start": "1673960",
    "end": "1680919"
  },
  {
    "text": "here um are you talking about this slide something like that yeah so you have your TR ID yeah and it's supposed to",
    "start": "1680919",
    "end": "1687840"
  },
  {
    "text": "link to the logs there but it's not showing up oh okay so you have your Trace but then the error message for the",
    "start": "1687840",
    "end": "1694720"
  },
  {
    "text": "trace isn't showing up is that you're asking yeah you have a TR ID the TR ID number shows up but when you search",
    "start": "1694720",
    "end": "1700600"
  },
  {
    "text": "nothing pulls up in the next uh you in the right screen how do you oh okay so",
    "start": "1700600",
    "end": "1706679"
  },
  {
    "text": "if your logs aren't showing up up for the error message that usually means that that log never got um uh recorded",
    "start": "1706679",
    "end": "1715679"
  },
  {
    "text": "with that Trace ID okay um so usually if if you um instrument with open Telemetry",
    "start": "1715679",
    "end": "1722480"
  },
  {
    "text": "and you have all of the the contexts uh set up properly um when you're",
    "start": "1722480",
    "end": "1727640"
  },
  {
    "text": "configuring the logging Handler and then do the log when you pass in the context",
    "start": "1727640",
    "end": "1732760"
  },
  {
    "text": "um usually the trace ID should be registered as part of that log line and",
    "start": "1732760",
    "end": "1738159"
  },
  {
    "text": "yeah I'm using graph tools and I think I have all the exemplars enabled these are all graph Tempo uh L key and Mur but I'm",
    "start": "1738159",
    "end": "1747679"
  },
  {
    "text": "missing that link you know something's missing yeah so",
    "start": "1747679",
    "end": "1753480"
  },
  {
    "text": "um I'm not sure about all of those various backends uh for for logs um we",
    "start": "1753480",
    "end": "1759760"
  },
  {
    "text": "just happened to pick some open source office shelf components that worked um but if if we go back to the um",
    "start": "1759760",
    "end": "1768760"
  },
  {
    "text": "yeah if we go back to that section where I was configuring the tracing back end here yeah um with the query to use let's",
    "start": "1768760",
    "end": "1777200"
  },
  {
    "text": "say you have some other thing that you were uh using for that Trace ID maybe some some user username or something",
    "start": "1777200",
    "end": "1785000"
  },
  {
    "text": "like that you know um you can use that instead when you're creating the logging back end um to be able to find more",
    "start": "1785000",
    "end": "1791240"
  },
  {
    "text": "information about that request thank you hi uh in the exemp plus can we try",
    "start": "1791240",
    "end": "1799480"
  },
  {
    "text": "like devops attach devops events right like where a new application version was",
    "start": "1799480",
    "end": "1804720"
  },
  {
    "text": "deployed you don't see it in the log traces themselves it'll be in the cicd",
    "start": "1804720",
    "end": "1810320"
  },
  {
    "text": "logs is it possible to have that dot which says that version two was deployed",
    "start": "1810320",
    "end": "1815559"
  },
  {
    "text": "or in your case configuration two was deployed so is so the question is um how",
    "start": "1815559",
    "end": "1823240"
  },
  {
    "text": "do I integrate this with cicd so that I can know when version two is deployed yeah it shows the you see the metric",
    "start": "1823240",
    "end": "1831000"
  },
  {
    "text": "latency increase right but you see the dot which says that oh version two was deployed",
    "start": "1831000",
    "end": "1837440"
  },
  {
    "text": "around that same time yeah so how would you be able to figure out okay um a latency Spike happens how do I know if",
    "start": "1837440",
    "end": "1844679"
  },
  {
    "text": "like it's related to a new release that's happened that no can we show the dots which says that version two was",
    "start": "1844679",
    "end": "1852559"
  },
  {
    "text": "deployed version three was deployed those dots show up in oh okay you're talking about annotations gra like those",
    "start": "1852559",
    "end": "1859760"
  },
  {
    "text": "yeah what about yeah so the oh so you use something else not exemplars for are",
    "start": "1859760",
    "end": "1866120"
  },
  {
    "text": "you saying are you asking should I use something else in that case have a way uh for you examplars don't necessarily",
    "start": "1866120",
    "end": "1872240"
  },
  {
    "text": "have to be traces they can be other um identifiers that uh identify what um",
    "start": "1872240",
    "end": "1878000"
  },
  {
    "text": "that log the metric right so if you want you can also use a version ID in that case to um tag your examplar with that",
    "start": "1878000",
    "end": "1884880"
  },
  {
    "text": "instead of a trace or with a trace okay got it thanks hi um I I was looking through the",
    "start": "1884880",
    "end": "1892760"
  },
  {
    "text": "documentation and exemplars are TAG as experimental and it's all like optin to",
    "start": "1892760",
    "end": "1897960"
  },
  {
    "text": "enable it are is there plan to make it on by default like in the medium term or",
    "start": "1897960",
    "end": "1904039"
  },
  {
    "text": "is it still more of a opin thing so the the question is uh exemplars and the",
    "start": "1904039",
    "end": "1910519"
  },
  {
    "text": "documentation is still considered experimental is there a plan for to make it not experimental yeah is it is this",
    "start": "1910519",
    "end": "1917320"
  },
  {
    "text": "documentation you're referring to on Prometheus or yeah for Prometheus",
    "start": "1917320",
    "end": "1922559"
  },
  {
    "text": "graphin seems to have it in the UI by default you just have to configure it but the Prometheus you had those two",
    "start": "1922559",
    "end": "1928200"
  },
  {
    "text": "flags to enable like manually yeah so um in Prometheus 3.0 OTP is actually",
    "start": "1928200",
    "end": "1934399"
  },
  {
    "text": "enabled by default um which is coming out soon um so you don't need to worry about enabling that flag but since it's",
    "start": "1934399",
    "end": "1940120"
  },
  {
    "text": "not out yet and most people aren't testing it out I just figured I'd mention that you should need you should enable that flag for OT LP um for",
    "start": "1940120",
    "end": "1947240"
  },
  {
    "text": "exemplars um it's been around for really a long time it's just marked as experimental",
    "start": "1947240",
    "end": "1953240"
  },
  {
    "text": "because they don't want to say something is like super stable and then people start to complain um but we've haven't",
    "start": "1953240",
    "end": "1960159"
  },
  {
    "text": "really had any issues using it at a super large scale um and um I mean I did",
    "start": "1960159",
    "end": "1967279"
  },
  {
    "text": "file or fix a bug uh in Prometheus for uh exemplars but um it seems to work",
    "start": "1967279",
    "end": "1974880"
  },
  {
    "text": "pretty well I don't think there's huge issue there maybe maybe some consideration is there is an overhead um",
    "start": "1974880",
    "end": "1981120"
  },
  {
    "text": "when you are using exemplars there's like I think if you're just storing the trace ID with that Exemplar it's about",
    "start": "1981120",
    "end": "1987120"
  },
  {
    "text": "100 bytes um per Exemplar and I think the default setting in Prometheus is to",
    "start": "1987120",
    "end": "1992480"
  },
  {
    "text": "have 100,000 um exemplars um as a limit and",
    "start": "1992480",
    "end": "1998000"
  },
  {
    "text": "uh if you store more than that amount the oldest one just gets discarded because under the under the hood it's uh",
    "start": "1998000",
    "end": "2005320"
  },
  {
    "text": "implemented as a circular buffer so if you keep trying to send exemplars in there it'll just discard um the oldest",
    "start": "2005320",
    "end": "2012360"
  },
  {
    "text": "one that know you sent in earliest okay okay thanks yeah you're",
    "start": "2012360",
    "end": "2017480"
  },
  {
    "text": "welcome I think we are out of time so thank you all for coming thank you all um",
    "start": "2017480",
    "end": "2025200"
  }
]