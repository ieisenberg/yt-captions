[
  {
    "text": "okay hi everyone thank you for coming my",
    "start": "440",
    "end": "3040"
  },
  {
    "text": "name is Ashna and I'm a software",
    "start": "3040",
    "end": "5080"
  },
  {
    "text": "engineer at Microsoft uh hi I'm Peter",
    "start": "5080",
    "end": "8519"
  },
  {
    "text": "I'm also a software engineer at",
    "start": "8519",
    "end": "10320"
  },
  {
    "text": "Microsoft um thank you all for coming",
    "start": "10320",
    "end": "12559"
  },
  {
    "text": "today uh we're really excited to talk",
    "start": "12559",
    "end": "14639"
  },
  {
    "text": "about eraser Asha and I and whole heap",
    "start": "14639",
    "end": "17000"
  },
  {
    "text": "of others have been working on it for",
    "start": "17000",
    "end": "18560"
  },
  {
    "text": "some time now and we're excited to share",
    "start": "18560",
    "end": "20240"
  },
  {
    "text": "it with you yeah so eraser briefly is a",
    "start": "20240",
    "end": "24000"
  },
  {
    "text": "tool to clean up vulnerable images from",
    "start": "24000",
    "end": "26439"
  },
  {
    "text": "kubernetes",
    "start": "26439",
    "end": "28240"
  },
  {
    "text": "notes and before we get get into the",
    "start": "28240",
    "end": "30800"
  },
  {
    "text": "technical details of eraser we want to",
    "start": "30800",
    "end": "33320"
  },
  {
    "text": "give a little background on why we",
    "start": "33320",
    "end": "35280"
  },
  {
    "text": "created",
    "start": "35280",
    "end": "37079"
  },
  {
    "text": "it so the first reason is to eliminate",
    "start": "37079",
    "end": "41079"
  },
  {
    "text": "the risk of spinning up vulnerable",
    "start": "41079",
    "end": "43200"
  },
  {
    "text": "images so as you can see software",
    "start": "43200",
    "end": "45559"
  },
  {
    "text": "supplychain attacks jumped over 300% in",
    "start": "45559",
    "end": "49440"
  },
  {
    "text": "2021 and by leaving lingering images on",
    "start": "49440",
    "end": "52320"
  },
  {
    "text": "nodes we're giving attackers the",
    "start": "52320",
    "end": "54359"
  },
  {
    "text": "opportunity to spin up vulnerable",
    "start": "54359",
    "end": "58600"
  },
  {
    "text": "containers the second reason is to",
    "start": "58920",
    "end": "61719"
  },
  {
    "text": "eliminate alerts for non-compliant",
    "start": "61719",
    "end": "63840"
  },
  {
    "text": "images a lot of teams and organizations",
    "start": "63840",
    "end": "66840"
  },
  {
    "text": "are overwhelmed with the amount of",
    "start": "66840",
    "end": "68640"
  },
  {
    "text": "alerts they receive and there's no easy",
    "start": "68640",
    "end": "70880"
  },
  {
    "text": "and effortless solution to this",
    "start": "70880",
    "end": "74758"
  },
  {
    "text": "problem so a common approach developers",
    "start": "74960",
    "end": "78000"
  },
  {
    "text": "will take that is they'll create a crown",
    "start": "78000",
    "end": "80159"
  },
  {
    "text": "drob and they'll use container D to",
    "start": "80159",
    "end": "82280"
  },
  {
    "text": "Target the non-running images in the",
    "start": "82280",
    "end": "85400"
  },
  {
    "text": "cluster but this is a manual approach so",
    "start": "85400",
    "end": "88240"
  },
  {
    "text": "it takes up a lot of time and it can be",
    "start": "88240",
    "end": "90640"
  },
  {
    "text": "more error",
    "start": "90640",
    "end": "93320"
  },
  {
    "text": "prone and a common followup is usually",
    "start": "93840",
    "end": "96920"
  },
  {
    "text": "what about the current kubernetes",
    "start": "96920",
    "end": "98439"
  },
  {
    "text": "garbage collection unfortunately it",
    "start": "98439",
    "end": "100600"
  },
  {
    "text": "isn't as efficient since it deletes by a",
    "start": "100600",
    "end": "103439"
  },
  {
    "text": "percentage of load so once the dis usage",
    "start": "103439",
    "end": "106040"
  },
  {
    "text": "reaches 85% it'll start the cleanup of",
    "start": "106040",
    "end": "109439"
  },
  {
    "text": "the unused images until it reaches 80%",
    "start": "109439",
    "end": "112880"
  },
  {
    "text": "and while you can customize this value",
    "start": "112880",
    "end": "115000"
  },
  {
    "text": "you don't have any control over when it",
    "start": "115000",
    "end": "117119"
  },
  {
    "text": "happens or what images it's targeting",
    "start": "117119",
    "end": "121840"
  },
  {
    "text": "and finally these Solutions don't have",
    "start": "122600",
    "end": "124840"
  },
  {
    "text": "any customization features so as you can",
    "start": "124840",
    "end": "127240"
  },
  {
    "text": "see eraser uses a config map and you can",
    "start": "127240",
    "end": "130399"
  },
  {
    "text": "plug in different components like the",
    "start": "130399",
    "end": "132400"
  },
  {
    "text": "scanner or the repeat period um you can",
    "start": "132400",
    "end": "135800"
  },
  {
    "text": "also have control over the cleanup and",
    "start": "135800",
    "end": "139480"
  },
  {
    "text": "more so as a solution we created eraser",
    "start": "139480",
    "end": "143120"
  },
  {
    "text": "eraser is a cncf Sandbox project and",
    "start": "143120",
    "end": "146840"
  },
  {
    "text": "what distinguishes eraser is the control",
    "start": "146840",
    "end": "149239"
  },
  {
    "text": "it provides the developer so you decide",
    "start": "149239",
    "end": "152200"
  },
  {
    "text": "what gets removed and when now I'll pass",
    "start": "152200",
    "end": "154680"
  },
  {
    "text": "it on to Peter to go over the",
    "start": "154680",
    "end": "157440"
  },
  {
    "text": "architecture yeah thanks asna um as the",
    "start": "157440",
    "end": "160400"
  },
  {
    "text": "slide says this is architecture um and",
    "start": "160400",
    "end": "162920"
  },
  {
    "text": "we have this architecture diagram it's a",
    "start": "162920",
    "end": "164519"
  },
  {
    "text": "little bit dense um with a lot of arrows",
    "start": "164519",
    "end": "167879"
  },
  {
    "text": "and words um so we are going to break it",
    "start": "167879",
    "end": "171480"
  },
  {
    "text": "down a little bit and talk about it",
    "start": "171480",
    "end": "173560"
  },
  {
    "text": "piece by piece um before I get uh into",
    "start": "173560",
    "end": "177879"
  },
  {
    "text": "the questions that erase our answers and",
    "start": "177879",
    "end": "180280"
  },
  {
    "text": "the actions that it takes um just kind",
    "start": "180280",
    "end": "182920"
  },
  {
    "text": "of wanted to talk a little bit in on a",
    "start": "182920",
    "end": "185760"
  },
  {
    "text": "higher level how it works um so there",
    "start": "185760",
    "end": "187720"
  },
  {
    "text": "are two basic modes that it can operate",
    "start": "187720",
    "end": "189680"
  },
  {
    "text": "in the first mode you can remove images",
    "start": "189680",
    "end": "192760"
  },
  {
    "text": "essentially on demand you provide a list",
    "start": "192760",
    "end": "195120"
  },
  {
    "text": "of images that you'd like to remove uh",
    "start": "195120",
    "end": "198000"
  },
  {
    "text": "and eraser will just act on your behalf",
    "start": "198000",
    "end": "200840"
  },
  {
    "text": "and remove those uh from the",
    "start": "200840",
    "end": "203200"
  },
  {
    "text": "nodes that mode is always active so",
    "start": "203200",
    "end": "205720"
  },
  {
    "text": "whenever you provide an image list the",
    "start": "205720",
    "end": "207920"
  },
  {
    "text": "um it's a custom resource of the",
    "start": "207920",
    "end": "209720"
  },
  {
    "text": "controller will pick up uh and act on",
    "start": "209720",
    "end": "211720"
  },
  {
    "text": "your behalf um you can also provide a",
    "start": "211720",
    "end": "214760"
  },
  {
    "text": "wild card if you want um or a partial",
    "start": "214760",
    "end": "217360"
  },
  {
    "text": "wild card and for example remove all",
    "start": "217360",
    "end": "220680"
  },
  {
    "text": "images you just provide a star um and",
    "start": "220680",
    "end": "224360"
  },
  {
    "text": "then the other mode and this is enabled",
    "start": "224360",
    "end": "226400"
  },
  {
    "text": "by default is that it will run on a",
    "start": "226400",
    "end": "228239"
  },
  {
    "text": "schedule and by default it's 24 hours",
    "start": "228239",
    "end": "230799"
  },
  {
    "text": "but you can schedule it to run as often",
    "start": "230799",
    "end": "232439"
  },
  {
    "text": "or as rarely as you need um and what's",
    "start": "232439",
    "end": "235959"
  },
  {
    "text": "going to happen is whether you trigger",
    "start": "235959",
    "end": "238120"
  },
  {
    "text": "it manually or whether it's running on a",
    "start": "238120",
    "end": "239760"
  },
  {
    "text": "schedule there's going to be one pod",
    "start": "239760",
    "end": "241480"
  },
  {
    "text": "deployed for each node um you can",
    "start": "241480",
    "end": "244720"
  },
  {
    "text": "exclude nodes if you like by adding a",
    "start": "244720",
    "end": "246360"
  },
  {
    "text": "label to them uh and windows nodes are",
    "start": "246360",
    "end": "249079"
  },
  {
    "text": "currently skipped by",
    "start": "249079",
    "end": "250959"
  },
  {
    "text": "default um but one pod per one node and",
    "start": "250959",
    "end": "255120"
  },
  {
    "text": "it will collect information about the",
    "start": "255120",
    "end": "258160"
  },
  {
    "text": "node",
    "start": "258160",
    "end": "259680"
  },
  {
    "text": "and uh answer these three questions the",
    "start": "259680",
    "end": "262479"
  },
  {
    "text": "first question very simply is what",
    "start": "262479",
    "end": "265880"
  },
  {
    "text": "images are present on the",
    "start": "265880",
    "end": "268160"
  },
  {
    "text": "Node kind of self explanatory second",
    "start": "268160",
    "end": "271120"
  },
  {
    "text": "question and answers is of those images",
    "start": "271120",
    "end": "275160"
  },
  {
    "text": "which are not tied to a currently",
    "start": "275160",
    "end": "277120"
  },
  {
    "text": "running uh",
    "start": "277120",
    "end": "279160"
  },
  {
    "text": "container uh it's an important question",
    "start": "279160",
    "end": "281039"
  },
  {
    "text": "to answer because pods are supposed to",
    "start": "281039",
    "end": "282479"
  },
  {
    "text": "be self-healing if your pod crashes and",
    "start": "282479",
    "end": "285840"
  },
  {
    "text": "the image has been removed from every",
    "start": "285840",
    "end": "287560"
  },
  {
    "text": "Noe in the cluster there's going to be",
    "start": "287560",
    "end": "288880"
  },
  {
    "text": "latency while the Pod uh attempts to",
    "start": "288880",
    "end": "291400"
  },
  {
    "text": "spin back up and the image has to be",
    "start": "291400",
    "end": "294560"
  },
  {
    "text": "reped uh you don't want your garbage",
    "start": "294560",
    "end": "297520"
  },
  {
    "text": "collector to destroy your cluster and",
    "start": "297520",
    "end": "300160"
  },
  {
    "text": "just on the side I asked Dolly to",
    "start": "300160",
    "end": "302720"
  },
  {
    "text": "visualize what it would be like if your",
    "start": "302720",
    "end": "303919"
  },
  {
    "text": "garbage collector destroyed your cluster",
    "start": "303919",
    "end": "306080"
  },
  {
    "text": "and it gets better every time I look at",
    "start": "306080",
    "end": "307400"
  },
  {
    "text": "it cuz um I guess that says kubernetes",
    "start": "307400",
    "end": "311199"
  },
  {
    "text": "kind of and there's all our pods in a",
    "start": "311199",
    "end": "313560"
  },
  {
    "text": "trash can or are they nodes nobody knows",
    "start": "313560",
    "end": "315759"
  },
  {
    "text": "CU everything Unix is a file everything",
    "start": "315759",
    "end": "318440"
  },
  {
    "text": "in kubernetes is a box uh and they're",
    "start": "318440",
    "end": "321520"
  },
  {
    "text": "all connected by ribbons just like in",
    "start": "321520",
    "end": "323080"
  },
  {
    "text": "the diagrams",
    "start": "323080",
    "end": "326520"
  },
  {
    "text": "anyway uh the third and potentially the",
    "start": "326680",
    "end": "330000"
  },
  {
    "text": "most important",
    "start": "330000",
    "end": "331400"
  },
  {
    "text": "question uh is of the images that aren't",
    "start": "331400",
    "end": "334840"
  },
  {
    "text": "tied to running containers which contain",
    "start": "334840",
    "end": "336720"
  },
  {
    "text": "vulnerabilities or a known",
    "start": "336720",
    "end": "339039"
  },
  {
    "text": "cve and so the process of determining",
    "start": "339039",
    "end": "343800"
  },
  {
    "text": "what to remove uh consists of listing",
    "start": "343800",
    "end": "347520"
  },
  {
    "text": "the",
    "start": "347520",
    "end": "348600"
  },
  {
    "text": "images removing the ones that are not",
    "start": "348600",
    "end": "351880"
  },
  {
    "text": "tied to uh sorry removing the ones that",
    "start": "351880",
    "end": "354880"
  },
  {
    "text": "are tied to a currently running",
    "start": "354880",
    "end": "356319"
  },
  {
    "text": "container and then removing images that",
    "start": "356319",
    "end": "360039"
  },
  {
    "text": "are not vulnerable and this is the final",
    "start": "360039",
    "end": "362160"
  },
  {
    "text": "list of images that we will",
    "start": "362160",
    "end": "364400"
  },
  {
    "text": "delete so now we can start to look at",
    "start": "364400",
    "end": "366560"
  },
  {
    "text": "the architecture diagram and piece",
    "start": "366560",
    "end": "368000"
  },
  {
    "text": "things together um the goal here is to",
    "start": "368000",
    "end": "371960"
  },
  {
    "text": "um give you enough information that you",
    "start": "371960",
    "end": "373520"
  },
  {
    "text": "can extend eraser because it is",
    "start": "373520",
    "end": "376000"
  },
  {
    "text": "extensible um we have a pluggable model",
    "start": "376000",
    "end": "378280"
  },
  {
    "text": "that allows you to configure it behavior",
    "start": "378280",
    "end": "381080"
  },
  {
    "text": "um down to pretty fine grain",
    "start": "381080",
    "end": "384120"
  },
  {
    "text": "details um so the important part here is",
    "start": "384120",
    "end": "386759"
  },
  {
    "text": "the cube in the middle uh the pod the",
    "start": "386759",
    "end": "389800"
  },
  {
    "text": "Pod consists of three different",
    "start": "389800",
    "end": "392479"
  },
  {
    "text": "containers um and they kind of act as a",
    "start": "392479",
    "end": "394560"
  },
  {
    "text": "pipeline so the collector pod's output",
    "start": "394560",
    "end": "397080"
  },
  {
    "text": "goes into the scanner the scanner's",
    "start": "397080",
    "end": "398919"
  },
  {
    "text": "output goes into the",
    "start": "398919",
    "end": "400840"
  },
  {
    "text": "remover um they share a small slice of",
    "start": "400840",
    "end": "404680"
  },
  {
    "text": "the file system and communicate using",
    "start": "404680",
    "end": "406720"
  },
  {
    "text": "named pipes just to get the information",
    "start": "406720",
    "end": "409520"
  },
  {
    "text": "uh from one place to another and they",
    "start": "409520",
    "end": "412199"
  },
  {
    "text": "run in",
    "start": "412199",
    "end": "413440"
  },
  {
    "text": "sequence um and they don't necessarily",
    "start": "413440",
    "end": "416599"
  },
  {
    "text": "correspond the three containers don't",
    "start": "416599",
    "end": "419440"
  },
  {
    "text": "correspond one to one to the three",
    "start": "419440",
    "end": "421280"
  },
  {
    "text": "questions the first two questions are",
    "start": "421280",
    "end": "423759"
  },
  {
    "text": "answered by The Collector um and it",
    "start": "423759",
    "end": "426720"
  },
  {
    "text": "collects information from the node using",
    "start": "426720",
    "end": "429520"
  },
  {
    "text": "the container runtime interface um most",
    "start": "429520",
    "end": "432400"
  },
  {
    "text": "of you probably know what that is but if",
    "start": "432400",
    "end": "433759"
  },
  {
    "text": "you don't the container runtime",
    "start": "433759",
    "end": "435879"
  },
  {
    "text": "interface uh is the common interface",
    "start": "435879",
    "end": "438440"
  },
  {
    "text": "that all of the run times provide um so",
    "start": "438440",
    "end": "441240"
  },
  {
    "text": "it doesn't matter if you're using",
    "start": "441240",
    "end": "442360"
  },
  {
    "text": "container D cryo even Docker shim they",
    "start": "442360",
    "end": "445800"
  },
  {
    "text": "all provide the the CRI as",
    "start": "445800",
    "end": "450039"
  },
  {
    "text": "uh a grpc service and you can do things",
    "start": "450039",
    "end": "452479"
  },
  {
    "text": "like list images list containers so you",
    "start": "452479",
    "end": "454759"
  },
  {
    "text": "can see how you can filter down that",
    "start": "454759",
    "end": "457440"
  },
  {
    "text": "list then that list is then fed to the",
    "start": "457440",
    "end": "460879"
  },
  {
    "text": "scanner by default um the the scanner",
    "start": "460879",
    "end": "465360"
  },
  {
    "text": "that ships with uh eraser is trivy again",
    "start": "465360",
    "end": "469159"
  },
  {
    "text": "most people here probably know what",
    "start": "469159",
    "end": "470639"
  },
  {
    "text": "trivy is but if you don't it's an open",
    "start": "470639",
    "end": "473199"
  },
  {
    "text": "source vulnerability scanner it will",
    "start": "473199",
    "end": "475560"
  },
  {
    "text": "analyze the file system layers of your",
    "start": "475560",
    "end": "477800"
  },
  {
    "text": "image and compare it to a database of",
    "start": "477800",
    "end": "479919"
  },
  {
    "text": "known",
    "start": "479919",
    "end": "481080"
  },
  {
    "text": "cves",
    "start": "481080",
    "end": "482759"
  },
  {
    "text": "um it will look at various bits of os",
    "start": "482759",
    "end": "486159"
  },
  {
    "text": "metadata uh it'll tell you how severe",
    "start": "486159",
    "end": "489319"
  },
  {
    "text": "the vulnerability is it'll tell you",
    "start": "489319",
    "end": "491280"
  },
  {
    "text": "whether the image is end of life and no",
    "start": "491280",
    "end": "492919"
  },
  {
    "text": "longer supported Upstream it'll tell you",
    "start": "492919",
    "end": "496120"
  },
  {
    "text": "if um there's a version of the package",
    "start": "496120",
    "end": "500599"
  },
  {
    "text": "in say the Debian repository if it's a",
    "start": "500599",
    "end": "502680"
  },
  {
    "text": "Debian image um that fixes that",
    "start": "502680",
    "end": "505720"
  },
  {
    "text": "vulnerability and if so uh which version",
    "start": "505720",
    "end": "508039"
  },
  {
    "text": "it is and you can configure eraser to um",
    "start": "508039",
    "end": "512200"
  },
  {
    "text": "in its in its stock trivia image you can",
    "start": "512200",
    "end": "516120"
  },
  {
    "text": "configure a um eraser using the config",
    "start": "516120",
    "end": "519560"
  },
  {
    "text": "map to act differently based on those",
    "start": "519560",
    "end": "522680"
  },
  {
    "text": "criteria um but even more cool I think",
    "start": "522680",
    "end": "526279"
  },
  {
    "text": "is that you can Rite your own scanner uh",
    "start": "526279",
    "end": "529279"
  },
  {
    "text": "you don't even need to use vulnerability",
    "start": "529279",
    "end": "530959"
  },
  {
    "text": "as the criteria if you don't want to um",
    "start": "530959",
    "end": "533360"
  },
  {
    "text": "essentially at the end of the day you're",
    "start": "533360",
    "end": "534640"
  },
  {
    "text": "just deciding what to remove and um as",
    "start": "534640",
    "end": "538000"
  },
  {
    "text": "will go through it at the end but we",
    "start": "538000",
    "end": "539640"
  },
  {
    "text": "have a a template set up on GitHub that",
    "start": "539640",
    "end": "542839"
  },
  {
    "text": "handles the",
    "start": "542839",
    "end": "544160"
  },
  {
    "text": "communication um between the uh",
    "start": "544160",
    "end": "547240"
  },
  {
    "text": "container that comes before and the",
    "start": "547240",
    "end": "548399"
  },
  {
    "text": "container that comes after uh and all",
    "start": "548399",
    "end": "550440"
  },
  {
    "text": "you have to do is provide the custom",
    "start": "550440",
    "end": "551920"
  },
  {
    "text": "logic and return a list of images from a",
    "start": "551920",
    "end": "555279"
  },
  {
    "text": "function depending on whatever you want",
    "start": "555279",
    "end": "557440"
  },
  {
    "text": "to do to it so then that final list is",
    "start": "557440",
    "end": "559920"
  },
  {
    "text": "fed to the remover container which also",
    "start": "559920",
    "end": "562640"
  },
  {
    "text": "uses the contain uh container runtime",
    "start": "562640",
    "end": "565600"
  },
  {
    "text": "interface to call delete images on each",
    "start": "565600",
    "end": "568440"
  },
  {
    "text": "of the images that final list um and",
    "start": "568440",
    "end": "571240"
  },
  {
    "text": "then your cluster is clean and Asha is",
    "start": "571240",
    "end": "573800"
  },
  {
    "text": "going to walk",
    "start": "573800",
    "end": "575160"
  },
  {
    "text": "through our first demo okay so our first",
    "start": "575160",
    "end": "579040"
  },
  {
    "text": "demo is to use eraser to clean up images",
    "start": "579040",
    "end": "583360"
  },
  {
    "text": "periodically so by default this happens",
    "start": "583360",
    "end": "586240"
  },
  {
    "text": "every 24 hours but you can change that",
    "start": "586240",
    "end": "589480"
  },
  {
    "text": "um so you deploy eraser once and it'll",
    "start": "589480",
    "end": "591839"
  },
  {
    "text": "handle the scheduling to clean up the",
    "start": "591839",
    "end": "594079"
  },
  {
    "text": "images every 24",
    "start": "594079",
    "end": "596240"
  },
  {
    "text": "hours so for this demo we're going we're",
    "start": "596240",
    "end": "599160"
  },
  {
    "text": "going to start by creating a kind",
    "start": "599160",
    "end": "601880"
  },
  {
    "text": "cluster and we can call it eraser",
    "start": "601880",
    "end": "606000"
  },
  {
    "text": "demo and for the sake of the demo it's",
    "start": "606000",
    "end": "609040"
  },
  {
    "text": "going to have one",
    "start": "609040",
    "end": "610399"
  },
  {
    "text": "node and I can skip",
    "start": "610399",
    "end": "613399"
  },
  {
    "text": "this and then we're going to apply a",
    "start": "613399",
    "end": "616480"
  },
  {
    "text": "demon set with a vulnerable Alpine image",
    "start": "616480",
    "end": "619760"
  },
  {
    "text": "so we're going to use this to load the",
    "start": "619760",
    "end": "621399"
  },
  {
    "text": "image into our",
    "start": "621399",
    "end": "623560"
  },
  {
    "text": "cluster and then we can check that the",
    "start": "623560",
    "end": "625959"
  },
  {
    "text": "pods are running and now we're going to",
    "start": "625959",
    "end": "628720"
  },
  {
    "text": "delete the demon set so that we have the",
    "start": "628720",
    "end": "631959"
  },
  {
    "text": "Alpine image present as a vulnerable and",
    "start": "631959",
    "end": "634560"
  },
  {
    "text": "non-running image in our",
    "start": "634560",
    "end": "637639"
  },
  {
    "text": "cluster we can check the pods again and",
    "start": "637639",
    "end": "640399"
  },
  {
    "text": "then we can exec into our node to make",
    "start": "640399",
    "end": "643360"
  },
  {
    "text": "sure the Alpine image is present there",
    "start": "643360",
    "end": "646839"
  },
  {
    "text": "and then we're ready to install eraser",
    "start": "646839",
    "end": "649320"
  },
  {
    "text": "so we're going to use Helm to install",
    "start": "649320",
    "end": "651639"
  },
  {
    "text": "eraser and we're installing it in the",
    "start": "651639",
    "end": "654200"
  },
  {
    "text": "Eraser system",
    "start": "654200",
    "end": "655839"
  },
  {
    "text": "namespace and once we install eraser",
    "start": "655839",
    "end": "658399"
  },
  {
    "text": "it'll schedule the controller manager",
    "start": "658399",
    "end": "661160"
  },
  {
    "text": "which will then schedule the Eraser pod",
    "start": "661160",
    "end": "664959"
  },
  {
    "text": "so if we skip ahead we can see when we",
    "start": "664959",
    "end": "667320"
  },
  {
    "text": "get the pods there is the controller",
    "start": "667320",
    "end": "669399"
  },
  {
    "text": "manager pod and then the one eraser pod",
    "start": "669399",
    "end": "673040"
  },
  {
    "text": "since we have one node in our cluster",
    "start": "673040",
    "end": "675959"
  },
  {
    "text": "and we can also see the three containers",
    "start": "675959",
    "end": "678560"
  },
  {
    "text": "that Peter mentioned before have",
    "start": "678560",
    "end": "680279"
  },
  {
    "text": "completed there was The Collector",
    "start": "680279",
    "end": "682160"
  },
  {
    "text": "container to get the list of non-running",
    "start": "682160",
    "end": "685480"
  },
  {
    "text": "images the scanner container to scan the",
    "start": "685480",
    "end": "689440"
  },
  {
    "text": "images using trivy and then the remover",
    "start": "689440",
    "end": "692320"
  },
  {
    "text": "container to remove the images that were",
    "start": "692320",
    "end": "694560"
  },
  {
    "text": "found vulnerable and they ran one after",
    "start": "694560",
    "end": "697320"
  },
  {
    "text": "the other and communicated with name",
    "start": "697320",
    "end": "699639"
  },
  {
    "text": "pipes um and since this pod has",
    "start": "699639",
    "end": "702399"
  },
  {
    "text": "completed the controller manager will go",
    "start": "702399",
    "end": "705360"
  },
  {
    "text": "in and remove that pod so we're left",
    "start": "705360",
    "end": "708680"
  },
  {
    "text": "with just the controller manager now and",
    "start": "708680",
    "end": "710959"
  },
  {
    "text": "if we exact into the note",
    "start": "710959",
    "end": "714320"
  },
  {
    "text": "again I'll just skip back to the",
    "start": "714320",
    "end": "717480"
  },
  {
    "text": "end if we exact into the node again",
    "start": "717480",
    "end": "720399"
  },
  {
    "text": "there's no return value for the Alpine",
    "start": "720399",
    "end": "722839"
  },
  {
    "text": "image so we can see eraser was able to",
    "start": "722839",
    "end": "726000"
  },
  {
    "text": "successfully Target that image and",
    "start": "726000",
    "end": "728160"
  },
  {
    "text": "remove it from the",
    "start": "728160",
    "end": "731040"
  },
  {
    "text": "cluster um and so that's eraser uh",
    "start": "732240",
    "end": "734959"
  },
  {
    "text": "running kind of in its scheduled mode uh",
    "start": "734959",
    "end": "737519"
  },
  {
    "text": "and I'm going to demonstrate how you can",
    "start": "737519",
    "end": "739040"
  },
  {
    "text": "use an image list to um skip the scanner",
    "start": "739040",
    "end": "743600"
  },
  {
    "text": "and collecting collector entirely and",
    "start": "743600",
    "end": "746760"
  },
  {
    "text": "just there we go uh and just remove the",
    "start": "746760",
    "end": "751160"
  },
  {
    "text": "images on demand um so similarly I'm",
    "start": "751160",
    "end": "753639"
  },
  {
    "text": "creating a kind cluster here I'll skip",
    "start": "753639",
    "end": "756760"
  },
  {
    "text": "that",
    "start": "756760",
    "end": "758959"
  },
  {
    "text": "um there are three nodes in this",
    "start": "758959",
    "end": "763480"
  },
  {
    "text": "cluster and we're just going to look at",
    "start": "763480",
    "end": "766079"
  },
  {
    "text": "the images that are on one of the nodes",
    "start": "766079",
    "end": "769959"
  },
  {
    "text": "um and it's a whole bunch of stuff for",
    "start": "769959",
    "end": "772440"
  },
  {
    "text": "example the kubernetes images Cube proxy",
    "start": "772440",
    "end": "775760"
  },
  {
    "text": "the API server all that stuff there's",
    "start": "775760",
    "end": "778040"
  },
  {
    "text": "nothing no X there um so I'll skip ahead",
    "start": "778040",
    "end": "783120"
  },
  {
    "text": "we're applying this demon set",
    "start": "783120",
    "end": "785320"
  },
  {
    "text": "here um one thing I forgot to mention",
    "start": "785320",
    "end": "788199"
  },
  {
    "text": "earlier is um people have asked us also",
    "start": "788199",
    "end": "791160"
  },
  {
    "text": "why we don't use a demon Set uh to run",
    "start": "791160",
    "end": "794920"
  },
  {
    "text": "aaser it would be a lot simpler to not",
    "start": "794920",
    "end": "797120"
  },
  {
    "text": "have to manage the pods ourselves um the",
    "start": "797120",
    "end": "800040"
  },
  {
    "text": "reason for that is that a demon Set uh",
    "start": "800040",
    "end": "802639"
  },
  {
    "text": "doesn't run to completion if the process",
    "start": "802639",
    "end": "804639"
  },
  {
    "text": "exits it'll attempt to restart and it's",
    "start": "804639",
    "end": "806720"
  },
  {
    "text": "considered an air condition the other",
    "start": "806720",
    "end": "808920"
  },
  {
    "text": "reason",
    "start": "808920",
    "end": "810000"
  },
  {
    "text": "is uh well the reason we don't want to",
    "start": "810000",
    "end": "813519"
  },
  {
    "text": "have uh a long running process is that",
    "start": "813519",
    "end": "817120"
  },
  {
    "text": "uh in order to communicate with um the",
    "start": "817120",
    "end": "819959"
  },
  {
    "text": "runtime we need access to the socket",
    "start": "819959",
    "end": "822320"
  },
  {
    "text": "which requires root access we don't want",
    "start": "822320",
    "end": "823800"
  },
  {
    "text": "to have a long running uh root process",
    "start": "823800",
    "end": "826440"
  },
  {
    "text": "in our",
    "start": "826440",
    "end": "827320"
  },
  {
    "text": "cluster um so I've applied in uh coming",
    "start": "827320",
    "end": "831279"
  },
  {
    "text": "back to the demo I've applied in engine",
    "start": "831279",
    "end": "833000"
  },
  {
    "text": "X demon set that's just to get engine X",
    "start": "833000",
    "end": "835120"
  },
  {
    "text": "on every node so that we can look at any",
    "start": "835120",
    "end": "837000"
  },
  {
    "text": "node and and see that it's there um so",
    "start": "837000",
    "end": "839920"
  },
  {
    "text": "if we exec into the node these images",
    "start": "839920",
    "end": "842279"
  },
  {
    "text": "are one and the same um you know one is",
    "start": "842279",
    "end": "844839"
  },
  {
    "text": "just by tag the other is by digest but",
    "start": "844839",
    "end": "847199"
  },
  {
    "text": "they're the the same thing they have the",
    "start": "847199",
    "end": "848639"
  },
  {
    "text": "same digest um you add the uh eraser",
    "start": "848639",
    "end": "853920"
  },
  {
    "text": "repo so you can get the Helm chart the",
    "start": "853920",
    "end": "857519"
  },
  {
    "text": "installation here is a little bit",
    "start": "857519",
    "end": "859279"
  },
  {
    "text": "different um because I don't want the um",
    "start": "859279",
    "end": "864880"
  },
  {
    "text": "the scheduler to immediately kick off a",
    "start": "864880",
    "end": "866759"
  },
  {
    "text": "job I'm going to set some values to",
    "start": "866759",
    "end": "870959"
  },
  {
    "text": "disable the collector and to disable the",
    "start": "870959",
    "end": "873839"
  },
  {
    "text": "scanner um so that it won't scan at all",
    "start": "873839",
    "end": "876839"
  },
  {
    "text": "it's just going to remove what we tell",
    "start": "876839",
    "end": "878000"
  },
  {
    "text": "it to so I just set these values to",
    "start": "878000",
    "end": "879880"
  },
  {
    "text": "false you can also do that in the config",
    "start": "879880",
    "end": "881720"
  },
  {
    "text": "map they they are 100% uh mapped to each",
    "start": "881720",
    "end": "885600"
  },
  {
    "text": "other um so we have the controller",
    "start": "885600",
    "end": "887800"
  },
  {
    "text": "manager pod which will pick up on the",
    "start": "887800",
    "end": "889519"
  },
  {
    "text": "image list that we will eventually",
    "start": "889519",
    "end": "891600"
  },
  {
    "text": "create we delete the demon set and you",
    "start": "891600",
    "end": "894440"
  },
  {
    "text": "can see that those images are cached on",
    "start": "894440",
    "end": "897680"
  },
  {
    "text": "the Node they will just sit there taking",
    "start": "897680",
    "end": "900360"
  },
  {
    "text": "up space um unless you intervene and",
    "start": "900360",
    "end": "905199"
  },
  {
    "text": "remove them so I'm going to zoom out",
    "start": "905199",
    "end": "907040"
  },
  {
    "text": "just for this part of the demo so you",
    "start": "907040",
    "end": "908399"
  },
  {
    "text": "can kind of see the cause and effect",
    "start": "908399",
    "end": "911279"
  },
  {
    "text": "here it might be a little hard to see",
    "start": "911279",
    "end": "913040"
  },
  {
    "text": "but on the top we're watching what's",
    "start": "913040",
    "end": "915320"
  },
  {
    "text": "happening in the Eraser system namespace",
    "start": "915320",
    "end": "917680"
  },
  {
    "text": "on the bottom we",
    "start": "917680",
    "end": "920079"
  },
  {
    "text": "are uh creating an image list the API",
    "start": "920079",
    "end": "925320"
  },
  {
    "text": "version is eraser.",
    "start": "925320",
    "end": "927600"
  },
  {
    "text": "shv1",
    "start": "927600",
    "end": "929240"
  },
  {
    "text": "the kind is image list",
    "start": "929240",
    "end": "932680"
  },
  {
    "text": "um kind of importantly for now we can",
    "start": "932680",
    "end": "935319"
  },
  {
    "text": "only have one image list in the cluster",
    "start": "935319",
    "end": "937360"
  },
  {
    "text": "at a time and the name has to be image",
    "start": "937360",
    "end": "939440"
  },
  {
    "text": "list and then the real meat of this is",
    "start": "939440",
    "end": "941800"
  },
  {
    "text": "the list of",
    "start": "941800",
    "end": "943000"
  },
  {
    "text": "images um and so we're just going to",
    "start": "943000",
    "end": "945440"
  },
  {
    "text": "give it that engine X image and check",
    "start": "945440",
    "end": "947880"
  },
  {
    "text": "whether or not it gets deleted um so",
    "start": "947880",
    "end": "950440"
  },
  {
    "text": "this is about to get applied so I will",
    "start": "950440",
    "end": "953040"
  },
  {
    "text": "move up here so we can see what happens",
    "start": "953040",
    "end": "955079"
  },
  {
    "text": "when it gets",
    "start": "955079",
    "end": "957560"
  },
  {
    "text": "applied one pod for one node they all",
    "start": "957600",
    "end": "961639"
  },
  {
    "text": "run it happens pretty quickly",
    "start": "961639",
    "end": "965079"
  },
  {
    "text": "and now we can check the node again okay",
    "start": "965079",
    "end": "969360"
  },
  {
    "text": "it's gone there's nothing called engine",
    "start": "969360",
    "end": "971079"
  },
  {
    "text": "X let's just double check um to see",
    "start": "971079",
    "end": "974160"
  },
  {
    "text": "whether or not that digest starting",
    "start": "974160",
    "end": "977800"
  },
  {
    "text": "with",
    "start": "977800",
    "end": "979519"
  },
  {
    "text": "um add 479 is there no that's gone as",
    "start": "979519",
    "end": "983440"
  },
  {
    "text": "well the image has been deleted from our",
    "start": "983440",
    "end": "985519"
  },
  {
    "text": "cluster",
    "start": "985519",
    "end": "986720"
  },
  {
    "text": "entirely um so that's what eraser can do",
    "start": "986720",
    "end": "990079"
  },
  {
    "text": "for",
    "start": "990079",
    "end": "991519"
  },
  {
    "text": "you and I'd just like to take a minute",
    "start": "991519",
    "end": "994240"
  },
  {
    "text": "to whoops talk",
    "start": "994240",
    "end": "996880"
  },
  {
    "text": "about I am I'm",
    "start": "996880",
    "end": "1000800"
  },
  {
    "text": "stuck uh take a minute to talk about our",
    "start": "1001680",
    "end": "1004240"
  },
  {
    "text": "future work um hopefully uh what we'd",
    "start": "1004240",
    "end": "1008040"
  },
  {
    "text": "like to see is um people participating",
    "start": "1008040",
    "end": "1010880"
  },
  {
    "text": "and a lot of the future work being uh",
    "start": "1010880",
    "end": "1013199"
  },
  {
    "text": "scanners that people write for",
    "start": "1013199",
    "end": "1014920"
  },
  {
    "text": "themselves um issues that people file uh",
    "start": "1014920",
    "end": "1019000"
  },
  {
    "text": "feature requests that people bring to us",
    "start": "1019000",
    "end": "1021440"
  },
  {
    "text": "or want to contribute themselves that's",
    "start": "1021440",
    "end": "1024000"
  },
  {
    "text": "that's our ideal Feature work um but",
    "start": "1024000",
    "end": "1026199"
  },
  {
    "text": "things that we do have planned right now",
    "start": "1026199",
    "end": "1027918"
  },
  {
    "text": "are possibly surfacing vulnerable images",
    "start": "1027919",
    "end": "1030918"
  },
  {
    "text": "giving some kind of report um what's",
    "start": "1030919",
    "end": "1032760"
  },
  {
    "text": "found on the cluster and and what failed",
    "start": "1032760",
    "end": "1034438"
  },
  {
    "text": "a vulnerability",
    "start": "1034439",
    "end": "1035918"
  },
  {
    "text": "scan uh staggering the load so you don't",
    "start": "1035919",
    "end": "1038280"
  },
  {
    "text": "overwhelm the cluster by scheduling all",
    "start": "1038280",
    "end": "1041319"
  },
  {
    "text": "the pods on all the nodes all at once um",
    "start": "1041319",
    "end": "1044120"
  },
  {
    "text": "so you have the jobs running",
    "start": "1044120",
    "end": "1046000"
  },
  {
    "text": "waves um it's a little more complicated",
    "start": "1046000",
    "end": "1048438"
  },
  {
    "text": "Implement um this the runtime interface",
    "start": "1048439",
    "end": "1051919"
  },
  {
    "text": "has the concept of pinned images like",
    "start": "1051919",
    "end": "1055080"
  },
  {
    "text": "the uh core kubernetes images will be",
    "start": "1055080",
    "end": "1057120"
  },
  {
    "text": "pinned so that they don't get removed by",
    "start": "1057120",
    "end": "1058720"
  },
  {
    "text": "the garbage collector we don't currently",
    "start": "1058720",
    "end": "1060679"
  },
  {
    "text": "respect that and we um need to do that",
    "start": "1060679",
    "end": "1063039"
  },
  {
    "text": "in the future uh and then we want people",
    "start": "1063039",
    "end": "1066160"
  },
  {
    "text": "to be able to um have a custom location",
    "start": "1066160",
    "end": "1069000"
  },
  {
    "text": "for the runtime socket currently um we",
    "start": "1069000",
    "end": "1072080"
  },
  {
    "text": "expect it to be in its default",
    "start": "1072080",
    "end": "1074960"
  },
  {
    "text": "location uh yeah like Peter said we",
    "start": "1074960",
    "end": "1077440"
  },
  {
    "text": "really want to encourage everyone to get",
    "start": "1077440",
    "end": "1079559"
  },
  {
    "text": "involved so we've linked our",
    "start": "1079559",
    "end": "1081960"
  },
  {
    "text": "contributing guide as well as our slack",
    "start": "1081960",
    "end": "1084320"
  },
  {
    "text": "Channel and GitHub repo where you can",
    "start": "1084320",
    "end": "1086600"
  },
  {
    "text": "find us and request any features or",
    "start": "1086600",
    "end": "1089440"
  },
  {
    "text": "bring up any issues that you might see",
    "start": "1089440",
    "end": "1091919"
  },
  {
    "text": "and we've also linked the scanner",
    "start": "1091919",
    "end": "1093960"
  },
  {
    "text": "template repo if you want to try eraser",
    "start": "1093960",
    "end": "1096640"
  },
  {
    "text": "with your own scanner and since we have",
    "start": "1096640",
    "end": "1099320"
  },
  {
    "text": "time I can show you that really quickly",
    "start": "1099320",
    "end": "1102480"
  },
  {
    "text": "so this um is the link that we had in",
    "start": "1102480",
    "end": "1106000"
  },
  {
    "text": "the previous slide and we have a example",
    "start": "1106000",
    "end": "1109440"
  },
  {
    "text": "to show you where you can Implement your",
    "start": "1109440",
    "end": "1111240"
  },
  {
    "text": "own scanner so all you have to do is put",
    "start": "1111240",
    "end": "1114960"
  },
  {
    "text": "your implementation in the scan function",
    "start": "1114960",
    "end": "1117440"
  },
  {
    "text": "and we've handled the communication with",
    "start": "1117440",
    "end": "1120360"
  },
  {
    "text": "our collector container um to get the",
    "start": "1120360",
    "end": "1123159"
  },
  {
    "text": "list of images and the remover container",
    "start": "1123159",
    "end": "1126039"
  },
  {
    "text": "that will remove the result of your scan",
    "start": "1126039",
    "end": "1129200"
  },
  {
    "text": "function um and yeah and you don't have",
    "start": "1129200",
    "end": "1132480"
  },
  {
    "text": "to use this for vulnerable images like",
    "start": "1132480",
    "end": "1135320"
  },
  {
    "text": "Peter said you can have eraser flag any",
    "start": "1135320",
    "end": "1137799"
  },
  {
    "text": "type of image",
    "start": "1137799",
    "end": "1139000"
  },
  {
    "text": "by putting the functionality in this",
    "start": "1139000",
    "end": "1141120"
  },
  {
    "text": "scan function yeah and then once once",
    "start": "1141120",
    "end": "1143919"
  },
  {
    "text": "you have your code there you just um",
    "start": "1143919",
    "end": "1146080"
  },
  {
    "text": "compile this and and put it in an image",
    "start": "1146080",
    "end": "1149080"
  },
  {
    "text": "and then in the config map or in the",
    "start": "1149080",
    "end": "1151880"
  },
  {
    "text": "helm chart you provide that image as the",
    "start": "1151880",
    "end": "1155159"
  },
  {
    "text": "scanner container or sorry the scanner",
    "start": "1155159",
    "end": "1158120"
  },
  {
    "text": "image um and finally we would uh of",
    "start": "1158120",
    "end": "1161799"
  },
  {
    "text": "course like to say a a huge thanks um to",
    "start": "1161799",
    "end": "1165520"
  },
  {
    "text": "all the Eraser devs the cncf um this is",
    "start": "1165520",
    "end": "1169400"
  },
  {
    "text": "my first coupon it's as's first coupon",
    "start": "1169400",
    "end": "1171720"
  },
  {
    "text": "we couldn't feel more welcome also like",
    "start": "1171720",
    "end": "1174280"
  },
  {
    "text": "to thank uh my friend Josh who knew I'd",
    "start": "1174280",
    "end": "1178080"
  },
  {
    "text": "be a little nervous speaking and showed",
    "start": "1178080",
    "end": "1179760"
  },
  {
    "text": "up in the front row dressed as a hot dog",
    "start": "1179760",
    "end": "1182720"
  },
  {
    "text": "uh so thank you Josh thank you thanks",
    "start": "1182720",
    "end": "1187200"
  },
  {
    "text": "everyone and you can find us at the end",
    "start": "1187200",
    "end": "1189360"
  },
  {
    "text": "if you have any questions yeah come come",
    "start": "1189360",
    "end": "1191440"
  },
  {
    "text": "find us if you have questions happy to",
    "start": "1191440",
    "end": "1193159"
  },
  {
    "text": "talk about it thanks",
    "start": "1193159",
    "end": "1196080"
  },
  {
    "text": "guys",
    "start": "1196080",
    "end": "1199080"
  }
]