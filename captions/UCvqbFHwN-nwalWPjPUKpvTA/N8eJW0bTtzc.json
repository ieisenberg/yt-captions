[
  {
    "start": "0",
    "end": "113000"
  },
  {
    "text": "okay let's go ahead and get started i'd like to thank everyone for joining us today",
    "start": "1680",
    "end": "7040"
  },
  {
    "text": "to today's webinar get ops continuous delivery with argo and code fresh i'm julius rosenthal i'll",
    "start": "7040",
    "end": "14799"
  },
  {
    "text": "be moderating today's webinar i'd like to thank our presenter today brandon phillips",
    "start": "14799",
    "end": "20560"
  },
  {
    "text": "solution architect at code fresh a few housekeeping items before we get",
    "start": "20560",
    "end": "26800"
  },
  {
    "text": "started during the webinar you are not able to talk as an attendee there is a q a box",
    "start": "26800",
    "end": "33520"
  },
  {
    "text": "at the bottom of your screen please feel free to drop your questions in there and we'll get to as many as we",
    "start": "33520",
    "end": "39040"
  },
  {
    "text": "can at the end this is an official webinar of the cncf and as such",
    "start": "39040",
    "end": "44559"
  },
  {
    "text": "you are subject to the cncf code of conduct please do not add anything to the chat",
    "start": "44559",
    "end": "50000"
  },
  {
    "text": "or questions that would be in violation of that code of conduct basically please be respectful of all",
    "start": "50000",
    "end": "56239"
  },
  {
    "text": "your fellow participants and presenters we'll have the slides and recordings up",
    "start": "56239",
    "end": "62079"
  },
  {
    "text": "later today on the cncf webinar page with that i'll hand it over to brandon to kick off",
    "start": "62079",
    "end": "68080"
  },
  {
    "text": "today's presentation all right thank you so much julius i appreciate the introduction",
    "start": "68080",
    "end": "74400"
  },
  {
    "text": "um first of all i just want to say thank you uh from everyone at code fresh for joining the webinar we think it's an extremely interesting",
    "start": "74400",
    "end": "80640"
  },
  {
    "text": "topic so i hope you guys enjoy it um as julius mentioned this is a webinar on github's continuous delivery with",
    "start": "80640",
    "end": "86000"
  },
  {
    "text": "argo and code fresh so you know next time we'll make sure we think of an even longer title",
    "start": "86000",
    "end": "91680"
  },
  {
    "text": "and just for a little bit of an introduction um yeah so i am brandon phillips solutions architect as already introduced so i am working",
    "start": "91680",
    "end": "99360"
  },
  {
    "text": "with code fresh primarily working with customers on devops solutions and ci cd i have a history in software development",
    "start": "99360",
    "end": "106240"
  },
  {
    "text": "and software architecture for the last 10 years or so and just really heavily specialized in kubernetes",
    "start": "106240",
    "end": "113520"
  },
  {
    "start": "113000",
    "end": "210000"
  },
  {
    "text": "and just for an agenda and overview here um we're going to have a light intro into code fresh because you are going to be seeing it",
    "start": "113680",
    "end": "119680"
  },
  {
    "text": "um quite a bit during the demo periods and then we'll cover just git ops principles",
    "start": "119680",
    "end": "124719"
  },
  {
    "text": "why we think it's important and we'll dive into argo cd and do a demo around get ops",
    "start": "124719",
    "end": "131200"
  },
  {
    "text": "and then we'll dive into argo rollouts and we'll demo a canary deployment so we are doing live demonstrations so",
    "start": "131200",
    "end": "137200"
  },
  {
    "text": "hopefully the demo guides are with us today oh and one other thing to call it here",
    "start": "137200",
    "end": "142879"
  },
  {
    "text": "so we do have the links to the github repos here so you know once the slides are shared if you want to take a",
    "start": "142879",
    "end": "148160"
  },
  {
    "text": "look at the applications in more detail you can it's a very simplistic um application",
    "start": "148160",
    "end": "154000"
  },
  {
    "text": "for a web service and then just the necessary code to create an application",
    "start": "154000",
    "end": "159040"
  },
  {
    "text": "manifest and an argo rollout and i'll show you little bits and pieces of that as well",
    "start": "159040",
    "end": "164319"
  },
  {
    "text": "and so code fresh is an enterprise ci cd solution so we are a kubernetes native solution",
    "start": "164319",
    "end": "171680"
  },
  {
    "text": "um we provide container-based pipeline processes and we give you a way",
    "start": "171680",
    "end": "177840"
  },
  {
    "text": "to cleanly tie into your kubernetes ecosystem using things like helm",
    "start": "177840",
    "end": "182959"
  },
  {
    "text": "and really advanced pipeline processes so one of the reasons that we're having this talk today is we have decided to heavily invest in",
    "start": "182959",
    "end": "189680"
  },
  {
    "text": "argo and integrate it with our tooling we see a great opportunity there to",
    "start": "189680",
    "end": "195360"
  },
  {
    "text": "make our cd solutions even more robust by integrating with argo and so you will be seeing our products",
    "start": "195360",
    "end": "200879"
  },
  {
    "text": "so that's why i wanted to give this little intro here and this is where the pipelines are built out in so you will see a little bit of that um and if you have questions",
    "start": "200879",
    "end": "207440"
  },
  {
    "text": "about it you know feel free to ask at the end so git apps is as an a goal really is",
    "start": "207440",
    "end": "214000"
  },
  {
    "start": "210000",
    "end": "416000"
  },
  {
    "text": "something i want to talk about because it's important to understand you know why we think get ops is fundamental to good ci cd practices",
    "start": "214000",
    "end": "220879"
  },
  {
    "text": "so it's making sure that your process to deliver your code is repeatable",
    "start": "220879",
    "end": "226319"
  },
  {
    "text": "you know that you're applying your changes in whatever environment you want to push this out to you in the same way every time in some cases",
    "start": "226319",
    "end": "233120"
  },
  {
    "text": "you can even push out your entire stack like code fresh for example we use pipeline processes and helm",
    "start": "233120",
    "end": "239680"
  },
  {
    "text": "charts to be able to deploy out our entire stack at the same time in a declarative manner so this is extremely important to have",
    "start": "239680",
    "end": "244879"
  },
  {
    "text": "that repeatable process because you have less moving pieces that way it should be predictable and this goes",
    "start": "244879",
    "end": "250400"
  },
  {
    "text": "right back to the repeatable portion as well so you should know when you put in that pull request exactly what the end state",
    "start": "250400",
    "end": "256639"
  },
  {
    "text": "of the application is going to look like so having that declarative configuration with a known end state is extremely",
    "start": "256639",
    "end": "262639"
  },
  {
    "text": "important knowing that if i make this change my replicas have to be at",
    "start": "262639",
    "end": "268160"
  },
  {
    "text": "four instead of the two that it's at now otherwise this is a failed deployment process so using declarative configuration you",
    "start": "268160",
    "end": "275520"
  },
  {
    "text": "know that end state before it happens therefore it's going to be a predictable deployment and if it did not match that",
    "start": "275520",
    "end": "281680"
  },
  {
    "text": "end state then you know it was a failed process and that gives you the opportunity to roll back um and the same goes for auditability as",
    "start": "281680",
    "end": "288639"
  },
  {
    "text": "well so making sure that every change that you push into your production or your staging or even your development",
    "start": "288639",
    "end": "294720"
  },
  {
    "text": "environments are historically traceable back through the code commit but also all the way up through all the",
    "start": "294720",
    "end": "300639"
  },
  {
    "text": "deployment process and this becomes crucial especially in organizations who are trying to",
    "start": "300639",
    "end": "307039"
  },
  {
    "text": "debug or understand an issue that happened in production to know that you know two weeks ago at",
    "start": "307039",
    "end": "312240"
  },
  {
    "text": "1pm i know exactly what version of my code was running in production and i can look exactly at",
    "start": "312240",
    "end": "319759"
  },
  {
    "text": "the declarative configuration that specifies not only my application code but also the infrastructure code",
    "start": "319759",
    "end": "326880"
  },
  {
    "text": "around it um so you should have you know a declarative configuration for both your infrastructure and applications so that",
    "start": "326880",
    "end": "332800"
  },
  {
    "text": "you can recreate environments if necessary in a lower environment um so that auditability is really key to",
    "start": "332800",
    "end": "338720"
  },
  {
    "text": "quickly triaging and dealing with issues as they come up and then making sure it's accessible um",
    "start": "338720",
    "end": "344639"
  },
  {
    "text": "you know i really like that you can control this with pull requests so that you know not only is it very accessible",
    "start": "344639",
    "end": "351199"
  },
  {
    "text": "for basically anyone who can use uh get tooling or in some cases you know they can if they're not comfortable with",
    "start": "351199",
    "end": "356639"
  },
  {
    "text": "it say you're using github you can just go on to github modify the file and it'll even prompt you know instead",
    "start": "356639",
    "end": "361680"
  },
  {
    "text": "of delivering this to master do you want to create a feature branch and create a pull request for that you know having those easily",
    "start": "361680",
    "end": "368080"
  },
  {
    "text": "accessible options to expose it not only to developers who are comfortable and happy in tooling like this but maybe",
    "start": "368080",
    "end": "374639"
  },
  {
    "text": "some of the um you know groups like security or server teams that this isn't their bread and",
    "start": "374639",
    "end": "380080"
  },
  {
    "text": "butter but they can get in there and easily make these changes um so having that is a huge win the other thing would be",
    "start": "380080",
    "end": "385840"
  },
  {
    "text": "putting it in a pull request means that you can refine and control the process so what you can",
    "start": "385840",
    "end": "391120"
  },
  {
    "text": "do is you can actually create separate pull request approver groups based on areas of responsibility",
    "start": "391120",
    "end": "397120"
  },
  {
    "text": "so if you have application code that's part of your pipeline process to deliver and you have infrastructure code that's",
    "start": "397120",
    "end": "402400"
  },
  {
    "text": "part of your pipeline process delivery you might have different approvers for each of those areas based on who owns the cloud",
    "start": "402400",
    "end": "407840"
  },
  {
    "text": "infrastructure versus who owns the development applications um so we feel like you know having that pull request process as part of this is",
    "start": "407840",
    "end": "414160"
  },
  {
    "text": "just crucial and then i want to talk about actually practicing get ops because talking about",
    "start": "414160",
    "end": "419680"
  },
  {
    "start": "416000",
    "end": "620000"
  },
  {
    "text": "these principles are great um you know there's obvious benefits to the things that we talked about but practicing it is extremely important",
    "start": "419680",
    "end": "426800"
  },
  {
    "text": "and it leads to some really good benefits so the first being git should really be your system of record um",
    "start": "426800",
    "end": "432479"
  },
  {
    "text": "and and that means you know your desired state of configuration for your applications your infrastructure whatever is a moving",
    "start": "432479",
    "end": "439280"
  },
  {
    "text": "part of the puzzle in your deployment process and your continuous integration process",
    "start": "439280",
    "end": "444639"
  },
  {
    "text": "so you know having that one system of record that one store to go back to and look at makes it very easy to make",
    "start": "444639",
    "end": "451199"
  },
  {
    "text": "it traceable to make it repeatable all the things that we talked about um and we already kind of discussed this",
    "start": "451199",
    "end": "457039"
  },
  {
    "text": "but it's making sure that everything is driven by pull requests and and i wanted to highlight this here again because it's important to",
    "start": "457039",
    "end": "463120"
  },
  {
    "text": "understand that we know that there are occasionally um you know some heroics that happen",
    "start": "463120",
    "end": "468160"
  },
  {
    "text": "where you might go in and backdoor your kubernetes cluster to make a change to kind of make things happen um i understand that on occasion that",
    "start": "468160",
    "end": "475280"
  },
  {
    "text": "still ends up being necessary but the goal at the end of the day is to push that through a configuration change",
    "start": "475280",
    "end": "480319"
  },
  {
    "text": "so there's that level of traceability in there because realistically the next time you go to deploy that application",
    "start": "480319",
    "end": "485840"
  },
  {
    "text": "if you don't have a historical record of those changes you're likely to end up in the exact same situation",
    "start": "485840",
    "end": "491680"
  },
  {
    "text": "and then the cluster state always needs to match the git state and more importantly the tooling that you're working with",
    "start": "491680",
    "end": "496800"
  },
  {
    "text": "should be able to understand and monitor for configuration drift so if you have tooling that is aware of",
    "start": "496800",
    "end": "502319"
  },
  {
    "text": "this then you don't need to do the lag work you don't need to do the manual testing and checking to make sure that yes",
    "start": "502319",
    "end": "507440"
  },
  {
    "text": "the version of the application that i expect to be deployed out there is actually deployed out there so having tooling like argo cd that is",
    "start": "507440",
    "end": "514159"
  },
  {
    "text": "aware of the state of the application is extremely important and deployments",
    "start": "514159",
    "end": "519200"
  },
  {
    "text": "and rollbacks should be painless um i know this sounds like something that's obvious to say but",
    "start": "519200",
    "end": "524320"
  },
  {
    "text": "we work with a lot of customers who um you know they're coming to us because they want to get away from",
    "start": "524320",
    "end": "529760"
  },
  {
    "text": "deployment processes that are an all-day affair all hands on deck everyone's in the",
    "start": "529760",
    "end": "535040"
  },
  {
    "text": "you know in like a war room working on deployments and your rollback should be similarly seamless as well so if everything is driven by a",
    "start": "535040",
    "end": "541360"
  },
  {
    "text": "declarative configuration then it's just as easy to roll back as it is to deploy an application",
    "start": "541360",
    "end": "546560"
  },
  {
    "text": "now of course that might mean that you're out of sync with your current configuration until configuration changes are pushed",
    "start": "546560",
    "end": "552000"
  },
  {
    "text": "but it's still crucial to be able to do that quickly in an environment so that you don't have any problems you know",
    "start": "552000",
    "end": "557360"
  },
  {
    "text": "long term that you can't resolve and then developers can and should focus on feature development so this",
    "start": "557360",
    "end": "563839"
  },
  {
    "text": "this is interesting because i'm not saying that developers should not be managing their",
    "start": "563839",
    "end": "569440"
  },
  {
    "text": "own pipelines um i do think that shift left has some really good merits and developers actually should take some ownership of",
    "start": "569440",
    "end": "575680"
  },
  {
    "text": "the pipeline processes to deliver their code now what i do think is that once those are established and in place and they're",
    "start": "575680",
    "end": "582000"
  },
  {
    "text": "running well then they should be able to focus on their feature development you should have your",
    "start": "582000",
    "end": "587040"
  },
  {
    "text": "ci cd process in a place where your developers don't have to be focused on",
    "start": "587040",
    "end": "592160"
  },
  {
    "text": "triaging you know minor issues that might help in it or happen in a development environment or you know trying to figure out what",
    "start": "592160",
    "end": "598880"
  },
  {
    "text": "happened when they deployed to this specific staging environment if everything to configure and require",
    "start": "598880",
    "end": "603920"
  },
  {
    "text": "your application to run in a kubernetes cluster is part of that pipeline process it's going to",
    "start": "603920",
    "end": "610000"
  },
  {
    "text": "really alleviate the need for developers to get in there dig in go hands-on on you know exactly",
    "start": "610000",
    "end": "615680"
  },
  {
    "text": "why my application isn't deploying or behaving the way that i would expect it to",
    "start": "615680",
    "end": "621120"
  },
  {
    "start": "620000",
    "end": "770000"
  },
  {
    "text": "and then argo cd you know we really think that argo cd is a phenomenal tool for continuous delivery",
    "start": "621120",
    "end": "627040"
  },
  {
    "text": "and it goes back to a lot of the principles that we're talking about so it is built around being a declarative",
    "start": "627040",
    "end": "632320"
  },
  {
    "text": "git ops continuous delivery tool and it's extremely feature-rich so all the you know things that i just",
    "start": "632320",
    "end": "638240"
  },
  {
    "text": "highlighted here so they support rich templating so whether you're pulling in from an application manifest you want to use helm charts or customize",
    "start": "638240",
    "end": "645519"
  },
  {
    "text": "all you need to do is point it to your repository specify the templates that you want to pull in and then from there those actually",
    "start": "645519",
    "end": "651200"
  },
  {
    "text": "drive the configuration and synchronization process for your application and we already kind of discussed this",
    "start": "651200",
    "end": "656320"
  },
  {
    "text": "but it's that configuration drift so i'll show you in the ui that argo cd is acutely aware of the state of its",
    "start": "656320",
    "end": "662800"
  },
  {
    "text": "application in the cluster versus the state of the intended application in your git repository",
    "start": "662800",
    "end": "668720"
  },
  {
    "text": "and it will actively tell you that and not only does it allow you to manually sync or use the api or cli to do that",
    "start": "668720",
    "end": "675200"
  },
  {
    "text": "but it also has an auto synchronization policy that you can set that says hey like it noticed a change in your git repo",
    "start": "675200",
    "end": "680880"
  },
  {
    "text": "we're monitoring it and we're going to go ahead and update that and by default you know argo cd if",
    "start": "680880",
    "end": "685920"
  },
  {
    "text": "you set up auto sync it's pulling that git repository every three minutes um you know with this demonstration",
    "start": "685920",
    "end": "691200"
  },
  {
    "text": "we're going to show a little bit different approach where code fresh is going to utilize the rich web hooks to actually actively",
    "start": "691200",
    "end": "697680"
  },
  {
    "text": "engage it but yeah it can also auto pull it's also enterprise ready um so you know all the items that i'm mentioning",
    "start": "697680",
    "end": "703279"
  },
  {
    "text": "here like sso multi-cluster multi-tenancy audit trails the stuff that you would expect but even the more nuanced things",
    "start": "703279",
    "end": "709680"
  },
  {
    "text": "like um how do i deal with high availability needs you know it's it has uh automatically built out so it can",
    "start": "709680",
    "end": "716000"
  },
  {
    "text": "specify that you can do high availability for the redis back end and things like that um they have disaster recovery built in",
    "start": "716000",
    "end": "722079"
  },
  {
    "text": "um so that you can dump full configurations if you need to and then it's also just you know",
    "start": "722079",
    "end": "727120"
  },
  {
    "text": "resilient as well so it can lose the redis back end fully and be brought back up and still be in a",
    "start": "727120",
    "end": "732639"
  },
  {
    "text": "runnable state so it's very enterprise ready from that needs and then it's very extensible as well which really lends itself to being",
    "start": "732639",
    "end": "739120"
  },
  {
    "text": "enterprise ready so they have a rich cli that you can utilize web hooks you know which code fresh is tapping into they can do event driven",
    "start": "739120",
    "end": "746399"
  },
  {
    "text": "architecture to drive your deployments um polished web uis and although i don't",
    "start": "746399",
    "end": "751680"
  },
  {
    "text": "list it here you know in part of that extensibility would be what they call app of apps or app projects which is",
    "start": "751680",
    "end": "758160"
  },
  {
    "text": "actually a custom kubernetes crd which actually allows you to specify",
    "start": "758160",
    "end": "763680"
  },
  {
    "text": "groupings of applications so that you can have your dependency chain managed and understood by your continuous",
    "start": "763680",
    "end": "768720"
  },
  {
    "text": "delivery tooling and so this is going to be a brief introduction to what our demo is",
    "start": "768720",
    "end": "774560"
  },
  {
    "start": "770000",
    "end": "882000"
  },
  {
    "text": "actually going to cover here so we have a nice little developer guy down here um and our developer",
    "start": "774560",
    "end": "780000"
  },
  {
    "text": "is going to commit some code so into the main source code here from there that source code is going to",
    "start": "780000",
    "end": "786800"
  },
  {
    "text": "trigger an event on our ci cd platform in this instance we're using code fresh um obviously it could be other tooling",
    "start": "786800",
    "end": "792480"
  },
  {
    "text": "here but in code fresh we have a trigger interaction to say looking at this repository for changes",
    "start": "792480",
    "end": "798000"
  },
  {
    "text": "and it's going to trigger an event in our ci cd platform from there code fresh is actually going",
    "start": "798000",
    "end": "803440"
  },
  {
    "text": "to handle updating the application manifest so we're talking about the kubernetes application manifest and we're going to change the version of",
    "start": "803440",
    "end": "810560"
  },
  {
    "text": "the application when we change that version of the application from code fresh it's going to trigger a continuous",
    "start": "810560",
    "end": "816480"
  },
  {
    "text": "delivery pipeline and that continuous delivery pipeline is where we have our built-in integration with argo",
    "start": "816480",
    "end": "822320"
  },
  {
    "text": "it's going to say okay you know i got the request i know there was a code change it's going to go out and it's going to",
    "start": "822320",
    "end": "827680"
  },
  {
    "text": "call argo cd to sync now this is where argo cd's magic really comes in handy so we have our web hook interaction we're",
    "start": "827680",
    "end": "833519"
  },
  {
    "text": "going to nargo see we say okay you know we know there's a code change the application's now out of sync so you",
    "start": "833519",
    "end": "838880"
  },
  {
    "text": "don't have to worry about the auto sync or the time policy and once we make this interaction with argo cd it's going to get the latest",
    "start": "838880",
    "end": "845040"
  },
  {
    "text": "from the repository and it's going to update our application to the newest version so we went from our older",
    "start": "845040",
    "end": "850399"
  },
  {
    "text": "version to our newer version here based on configuration sync and now you know once that application",
    "start": "850399",
    "end": "856399"
  },
  {
    "text": "is out here let's say that for whatever reason you know the trigger gets turned off in your ci cd platform",
    "start": "856399",
    "end": "862000"
  },
  {
    "text": "or something else happens where someone goes in and you know they actually make a change to the file without it",
    "start": "862000",
    "end": "867279"
  },
  {
    "text": "being picked up by the platform we would see that we were now out of sync and argo so argo again monitoring it would know",
    "start": "867279",
    "end": "874480"
  },
  {
    "text": "that we're out of sync for the configuration and if you had the auto sync policy turned on it would then go ahead and go",
    "start": "874480",
    "end": "879680"
  },
  {
    "text": "through the deployment and so now we're going to drop over to the actual demo and this is kind of the",
    "start": "879680",
    "end": "885120"
  },
  {
    "start": "882000",
    "end": "1290000"
  },
  {
    "text": "live demo part so hopefully this is going to go well um i do want to talk through a little bit of",
    "start": "885120",
    "end": "890639"
  },
  {
    "text": "what the actual pipeline process looks like so if we take a look at uh so i'll drop in here and we'll just go",
    "start": "890639",
    "end": "897519"
  },
  {
    "text": "to our main code fresh area here",
    "start": "897519",
    "end": "902160"
  },
  {
    "text": "okay running a little minor snag here um so if we we'll start by taking a look at argo cd here so if",
    "start": "910839",
    "end": "918000"
  },
  {
    "text": "we drop an argo cds ui the first thing you'll notice is you have applications here so",
    "start": "918000",
    "end": "923040"
  },
  {
    "text": "the applications are what you're going to add in that are actually syncing with your code repository and then from there",
    "start": "923040",
    "end": "930240"
  },
  {
    "text": "that will actually determine what's in sync with your application now i have the canary one already out here but i do",
    "start": "930240",
    "end": "935680"
  },
  {
    "text": "not have our application for our get ops demo here so what i'm going to do is i'm",
    "start": "935680",
    "end": "940880"
  },
  {
    "text": "going to go ahead and create that",
    "start": "940880",
    "end": "945279"
  },
  {
    "text": "so give me just a moment here and so we'll go in we'll do a new app",
    "start": "946000",
    "end": "953680"
  },
  {
    "text": "inside of our application name i'm going to name this get ops app very generic and creative as you can",
    "start": "953680",
    "end": "960399"
  },
  {
    "text": "tell our project is just default that's fine repository url in this case we're",
    "start": "960399",
    "end": "966079"
  },
  {
    "text": "actually using an open source repository so in this instance you don't have to set",
    "start": "966079",
    "end": "972800"
  },
  {
    "text": "up any special configuration now if you need to you can actually have ssh enabled",
    "start": "972800",
    "end": "979120"
  },
  {
    "text": "repositories as well so it supports connecting into private repositories so this would be the link to our main repository for our path i'm just",
    "start": "979120",
    "end": "986000"
  },
  {
    "text": "specifying dots so it's just saying look in that root folder there and then from there for cluster i'm",
    "start": "986000",
    "end": "991440"
  },
  {
    "text": "going to use in cluster now this is an important distinction in this case for the",
    "start": "991440",
    "end": "996480"
  },
  {
    "text": "the sake of this demonstration i am just having the deployment happen in the same cluster that argo lives in you do not",
    "start": "996480",
    "end": "1002880"
  },
  {
    "text": "have to set it up that way so you can set it up so that argo has its own dedicated cluster um and then if you add in an external",
    "start": "1002880",
    "end": "1010639"
  },
  {
    "text": "cluster they get stored as secrets um inside of the argo cd cluster and then in this case",
    "start": "1010639",
    "end": "1016480"
  },
  {
    "text": "um yeah i'll put it into a namespace of its own so this is going to create that",
    "start": "1016480",
    "end": "1022839"
  },
  {
    "text": "application and i will show you what that application looks like so if we look at github here",
    "start": "1022839",
    "end": "1027918"
  },
  {
    "text": "so the the directory that i actually sent it to is actually the directory that's containing the",
    "start": "1027919",
    "end": "1034000"
  },
  {
    "text": "application manifest and the service definition so it's not actually the source code this is the manifest that's driving",
    "start": "1034000",
    "end": "1040558"
  },
  {
    "text": "the deployment of the source code if we take a look at this this is just a standard kubernetes manifest",
    "start": "1040559",
    "end": "1045678"
  },
  {
    "text": "and if we drop into this guy we'll notice that we have our application in here now but",
    "start": "1045679",
    "end": "1050799"
  },
  {
    "text": "we are out of sync and we don't have a deployment out there and if i take a look",
    "start": "1050799",
    "end": "1056880"
  },
  {
    "text": "so take a look at our clusters here we'll see that okay i do have my",
    "start": "1056880",
    "end": "1064960"
  },
  {
    "text": "uh namespace in there",
    "start": "1064960",
    "end": "1068240"
  },
  {
    "text": "and i don't have any deployments right now so there's nothing actually running out there um so",
    "start": "1071200",
    "end": "1076320"
  },
  {
    "text": "what i can do is i can hit synchronize here and this is from within argo cd you know later i'll show it with code fresh but",
    "start": "1076320",
    "end": "1082480"
  },
  {
    "text": "if i hit synchronize here this is going to bring us up to the current state of our application and you'll see that it starts to spin it",
    "start": "1082480",
    "end": "1087679"
  },
  {
    "text": "up and of course this was previously a deployment so it comes in super fast and it's going to start to synchronize",
    "start": "1087679",
    "end": "1093200"
  },
  {
    "text": "it says okay based on the manifest that you gave me i know that this is the image that we need to be",
    "start": "1093200",
    "end": "1098320"
  },
  {
    "text": "using it's going to start to sync that process up and then eventually when it gets a determination from a health check",
    "start": "1098320",
    "end": "1104160"
  },
  {
    "text": "back from both of these guys the running applications this is going to be in a happy state and so now if i go and i take a look",
    "start": "1104160",
    "end": "1110640"
  },
  {
    "text": "again at our deployments that are out there you'll see that i have two deployments for the get ops app and i have two pods and both of the pods",
    "start": "1110640",
    "end": "1117520"
  },
  {
    "text": "are running and they're healthy now the application is extremely simple so there's not a lot of complexity here but if we drop in we can take a look at",
    "start": "1117520",
    "end": "1124000"
  },
  {
    "text": "what's actually running and it's uh i think it's a pretty interesting color right now",
    "start": "1124000",
    "end": "1129360"
  },
  {
    "text": "but basically it's just a web service that's exposing out a base web page that's really all that it is",
    "start": "1129360",
    "end": "1135760"
  },
  {
    "text": "and then we will take a look at the pipelines a little bit because i want to cover a couple things in here",
    "start": "1135760",
    "end": "1140799"
  },
  {
    "text": "so if we drop in",
    "start": "1140799",
    "end": "1143760"
  },
  {
    "text": "okay just give me one moment",
    "start": "1148960",
    "end": "1154960"
  },
  {
    "text": "so it seems that code fresh is responding a little slowly at the moment",
    "start": "1161840",
    "end": "1167679"
  },
  {
    "text": "or is it my internet connection are you able to hear me okay julius yeah i can hear you okay",
    "start": "1170160",
    "end": "1179679"
  },
  {
    "text": "all right well let me go ahead and we'll push through with our code commit and see if we fire off a build um",
    "start": "1179679",
    "end": "1186559"
  },
  {
    "text": "so inside of here this is just our application for exposing the web service so very simple stuff i'm just going to",
    "start": "1186559",
    "end": "1193919"
  },
  {
    "text": "change it to a different color not a big deal here and we'll go ahead and add a message to",
    "start": "1193919",
    "end": "1200559"
  },
  {
    "text": "this so and then we'll just commit it yep",
    "start": "1200559",
    "end": "1208080"
  },
  {
    "text": "let me go ahead and add that guy in there",
    "start": "1208080",
    "end": "1213279"
  },
  {
    "text": "and then let me go ahead and push these changes and so that's going to make a commit",
    "start": "1214799",
    "end": "1220640"
  },
  {
    "text": "into our primary repository here",
    "start": "1220640",
    "end": "1225279"
  },
  {
    "text": "and that's what's actually going to trigger the event",
    "start": "1226559",
    "end": "1230400"
  },
  {
    "text": "and if we drop back over here let's drop into our application oh i got",
    "start": "1232799",
    "end": "1238320"
  },
  {
    "text": "booted out all right well i guess i will log back in that might be the snag that we were running into here",
    "start": "1238320",
    "end": "1249840"
  },
  {
    "text": "that seems like our page did come up here now",
    "start": "1264320",
    "end": "1276880"
  },
  {
    "text": "all right well i guess well that's kind of taking a break a little bit",
    "start": "1276880",
    "end": "1281919"
  },
  {
    "text": "um we'll go ahead and we'll start talking through some of the other aspects of argo cd",
    "start": "1281919",
    "end": "1287120"
  },
  {
    "text": "and kind of just move on through the presentation portion here so hopefully we'll be able to get back",
    "start": "1287120",
    "end": "1292960"
  },
  {
    "start": "1290000",
    "end": "1509000"
  },
  {
    "text": "to that demo um but if not i do want to talk about some of the features of argo rollout",
    "start": "1292960",
    "end": "1298880"
  },
  {
    "text": "which what that's really doing is it's applying advanced deployment strategies for your kubernetes environment",
    "start": "1298880",
    "end": "1304480"
  },
  {
    "text": "so it gives you a custom kubernetes crd called rollout that allows you to specify",
    "start": "1304480",
    "end": "1310720"
  },
  {
    "text": "whether you want to do a blue green or canary deployment and then add a whole bunch of additional criteria on",
    "start": "1310720",
    "end": "1315919"
  },
  {
    "text": "there and there's some key things that i want to talk about here so there's service mesh support so i",
    "start": "1315919",
    "end": "1321440"
  },
  {
    "text": "know that there's a lot of companies right now that are looking forward to integrating with service meshes or",
    "start": "1321440",
    "end": "1327520"
  },
  {
    "text": "adding in support for service mesh in the future and as you kind of roll to that you know making sure that the tooling",
    "start": "1327520",
    "end": "1332640"
  },
  {
    "text": "that you're picking is compatible with that so argo is compatible with uh service meshes so it supports istio",
    "start": "1332640",
    "end": "1339440"
  },
  {
    "text": "linker d through smi um it also supports nginx a lot of the key players that you would",
    "start": "1339440",
    "end": "1345120"
  },
  {
    "text": "also anticipate there as well and then it very uh now this is very",
    "start": "1345120",
    "end": "1350320"
  },
  {
    "text": "important to me personally because we use a lot of auto scaling but it supports anti-affinity and horizontal pod scaling so",
    "start": "1350320",
    "end": "1356400"
  },
  {
    "text": "what that really means is um typically you know if you're deploying an application",
    "start": "1356400",
    "end": "1361600"
  },
  {
    "text": "historically it would be i'm deploying an application it's going to go to whatever pod has resources for it",
    "start": "1361600",
    "end": "1367520"
  },
  {
    "text": "um and in that instance you know you can end up in a situation where the resources actually get",
    "start": "1367520",
    "end": "1373600"
  },
  {
    "text": "deployed but then you've auto scaled up to fill the needs of additional applications that can cause a problem with you",
    "start": "1373600",
    "end": "1379039"
  },
  {
    "text": "because you might end up with a remnant of say one pod left on a node um when you try to scale",
    "start": "1379039",
    "end": "1384720"
  },
  {
    "text": "things back down when really you wanted that node to be able to go away so argo actually has the capability to",
    "start": "1384720",
    "end": "1390960"
  },
  {
    "text": "specify anti-affinity so that when i have a previous application version even if there were resources available on say this pod",
    "start": "1390960",
    "end": "1397840"
  },
  {
    "text": "and this pod on these nodes um those should say node instead of pods but",
    "start": "1397840",
    "end": "1403039"
  },
  {
    "text": "um on these nodes then it would deploy to new nodes entirely so that you could auto scale down these",
    "start": "1403039",
    "end": "1410080"
  },
  {
    "text": "nodes um so that's a huge win for customers that want to be able to use um they want to be able to use that",
    "start": "1410080",
    "end": "1417760"
  },
  {
    "text": "anti-affinity and auto scaling inside of kubernetes another aspect to talk about is analysis",
    "start": "1417760",
    "end": "1422880"
  },
  {
    "text": "control so argo rollout has this concept of analysis where you can tie into specific metrics using prometheus",
    "start": "1422880",
    "end": "1431120"
  },
  {
    "text": "to say you know as part of my canary process or my bluegreen process i want you to go out to your prometheus",
    "start": "1431120",
    "end": "1436640"
  },
  {
    "text": "instance and i want you to analyze these specific metrics and you can even specify pause breaks in that as",
    "start": "1436640",
    "end": "1443200"
  },
  {
    "text": "well um so for example if we take a look at our actual application deployment here we're doing",
    "start": "1443200",
    "end": "1449679"
  },
  {
    "text": "a canary that's what we're going to demonstrate here but we have our steps in here with a set weight and a pause",
    "start": "1449679",
    "end": "1455360"
  },
  {
    "text": "and so what they allow you to do with the rollout crd is actually to specify your analysis",
    "start": "1455360",
    "end": "1462480"
  },
  {
    "text": "as part of a step in a pause period or can even be analysis higher up to say",
    "start": "1462480",
    "end": "1468080"
  },
  {
    "text": "let's say for example that i'm doing a blue green deployment and i have a",
    "start": "1468080",
    "end": "1473120"
  },
  {
    "text": "preview application out there your analysis can actually happen against the um the preview version of the",
    "start": "1473120",
    "end": "1478480"
  },
  {
    "text": "application as well so it gives you that flexibility to set the analysis up and the other thing that i would recommend you know particularly",
    "start": "1478480",
    "end": "1484720"
  },
  {
    "text": "with code fresh what we like to see is you know you can bake it into your deployments here you can also bake it",
    "start": "1484720",
    "end": "1490159"
  },
  {
    "text": "directly into the cicd process as well so if you wanted to make it part of the actual deployment process",
    "start": "1490159",
    "end": "1496480"
  },
  {
    "text": "uh you can do that and so that's extremely important to doing roll outs like canary",
    "start": "1496480",
    "end": "1501600"
  },
  {
    "text": "and blue green because you want to make sure that it's in a healthy state when you actually try to go through and roll out the rest of the",
    "start": "1501600",
    "end": "1507840"
  },
  {
    "text": "application and so talking through what a canary deployment would actually look like",
    "start": "1507840",
    "end": "1513200"
  },
  {
    "start": "1509000",
    "end": "1703000"
  },
  {
    "text": "um so again we have our our nice little developer down here our developer is going to commit code um",
    "start": "1513200",
    "end": "1518880"
  },
  {
    "text": "and just to kind of talk about where the current state of the application is right now we have four instances of our application",
    "start": "1518880",
    "end": "1525520"
  },
  {
    "text": "version out there when a developer actually commits the code um it's going to trigger that ci just",
    "start": "1525520",
    "end": "1531679"
  },
  {
    "text": "like it did for the get off space pipeline uh from there you know your platform is",
    "start": "1531679",
    "end": "1536880"
  },
  {
    "text": "going to do whatever it needs to do and this is you know in our instance uh the pipeline that we had set up for this is very simplistic so it's really",
    "start": "1536880",
    "end": "1543679"
  },
  {
    "text": "just build an application bundle it up commit back to the repository you're going to have a lot more complicated stuff in there you're likely",
    "start": "1543679",
    "end": "1550000"
  },
  {
    "text": "going to have integration testing unit testing security and vulnerability scanning all that stuff that's going to",
    "start": "1550000",
    "end": "1555200"
  },
  {
    "text": "happen in your ci and if it actually passes all of those then it would say okay we know that it's",
    "start": "1555200",
    "end": "1561679"
  },
  {
    "text": "a healthy build therefore we're going to update our rollout manifest",
    "start": "1561679",
    "end": "1566799"
  },
  {
    "text": "which is going to trigger that canary cd pipeline from here your ci cd platform is then going to",
    "start": "1566799",
    "end": "1573360"
  },
  {
    "text": "make a call out to argo and this is a key thing to mention so it's going to call out to argo to do that rollout",
    "start": "1573360",
    "end": "1578880"
  },
  {
    "text": "process but also it's going to hit that pause event and this is important because this is",
    "start": "1578880",
    "end": "1584559"
  },
  {
    "text": "where you're specifying your actual threshold on how much you actually want to deploy the application so if you have four",
    "start": "1584559",
    "end": "1590799"
  },
  {
    "text": "instances in our case we want to do a 25 deployment so we're gonna deploy one new version of the",
    "start": "1590799",
    "end": "1596880"
  },
  {
    "text": "application which is gonna happen here and we're gonna update our state to say okay we're at a 25",
    "start": "1596880",
    "end": "1602720"
  },
  {
    "text": "canary status that was what we set for our pause event um so we have argo here now grabbing the",
    "start": "1602720",
    "end": "1608640"
  },
  {
    "text": "latest manifest and then from there it's actually updating the state of the application",
    "start": "1608640",
    "end": "1615200"
  },
  {
    "text": "now if we take a look at um our you know our following steps here",
    "start": "1615200",
    "end": "1620720"
  },
  {
    "text": "what we're going to do once we're at that canary point is then it's up to your platform to actually determine if",
    "start": "1620720",
    "end": "1626400"
  },
  {
    "text": "that canary is in a healthy state so you can have you know argo doing some analysis um via",
    "start": "1626400",
    "end": "1632320"
  },
  {
    "text": "metrics through prometheus you can have your cicd platform during this pause state actually",
    "start": "1632320",
    "end": "1637440"
  },
  {
    "text": "looking to tooling like let's say datadog relic dynatrace or you know you might use jaeger zipkin",
    "start": "1637440",
    "end": "1644720"
  },
  {
    "text": "um or an elk stack you can kind of write your own custom process to go out and say okay is that canary actually in a healthy state",
    "start": "1644720",
    "end": "1651279"
  },
  {
    "text": "if it is then you can call the argo to actually complete that rollout and when you do that you're saying okay",
    "start": "1651279",
    "end": "1656720"
  },
  {
    "text": "i'm calling back to argo here's the um you know here's the build that i'm looking to complete and then from there",
    "start": "1656720",
    "end": "1662799"
  },
  {
    "text": "it's going to do a configuration sync um as it actually stores your git repository in its own local repo",
    "start": "1662799",
    "end": "1668320"
  },
  {
    "text": "and it's going to update that state now in ours we only have one pause step in there so at this point what it would do",
    "start": "1668320",
    "end": "1673600"
  },
  {
    "text": "is it has a current state it's going to do a config state it's going to bring our entire application up to that",
    "start": "1673600",
    "end": "1678960"
  },
  {
    "text": "new version so we're going to go from one of the new versions up to four and so this is where",
    "start": "1678960",
    "end": "1685679"
  },
  {
    "text": "um you know you're you're now fully deployed on the new uh application version and at this point you know you've vetted",
    "start": "1685679",
    "end": "1692559"
  },
  {
    "text": "it you know that the application's in a good place and now you can you're fully transitioned over to that new",
    "start": "1692559",
    "end": "1698240"
  },
  {
    "text": "application now that's not to say if you didn't encounter errors that you could roll back as you absolutely could and so this is where you know we would",
    "start": "1698240",
    "end": "1704640"
  },
  {
    "start": "1703000",
    "end": "1995000"
  },
  {
    "text": "be dropping into our demo time and so i do want to show you um in argo what that would actually look",
    "start": "1704640",
    "end": "1712240"
  },
  {
    "text": "like so we have our applications here we have our rollout app",
    "start": "1712240",
    "end": "1718480"
  },
  {
    "text": "and our rollout app you'll notice that first of all we have a bunch of historical versions here so",
    "start": "1718799",
    "end": "1724720"
  },
  {
    "text": "we have our historical reference through our deployment chain and with any one of these we can actually specify to kick",
    "start": "1724720",
    "end": "1731279"
  },
  {
    "text": "off a rollback process so that's a feasible option as well but what i want to show here is because",
    "start": "1731279",
    "end": "1736880"
  },
  {
    "text": "we have the historical reference to the previous versions you'll notice that we have this current revision which is our most recent and is",
    "start": "1736880",
    "end": "1743840"
  },
  {
    "text": "also in sync with our repository and in the repository you know we have our four",
    "start": "1743840",
    "end": "1749039"
  },
  {
    "text": "replicas here specified and all of them are running off of that and if we take a look at this we'll notice that we have one",
    "start": "1749039",
    "end": "1756080"
  },
  {
    "text": "image deployed that is the primary image that we're actually working with here now what you can do from within argo is",
    "start": "1756080",
    "end": "1763039"
  },
  {
    "text": "you can actually kick off a rollback process directly from within here and we'll see the canary process",
    "start": "1763039",
    "end": "1768720"
  },
  {
    "text": "because one really cool thing here is if you have a rollout specified as deployment mechanism for this",
    "start": "1768720",
    "end": "1774159"
  },
  {
    "text": "just like we do in this guy where we're saying you know we're using canary then when you actually do a rollback",
    "start": "1774159",
    "end": "1779679"
  },
  {
    "text": "here and so we'll go ahead and we'll kick it off now again this would typically happen from your ci cd platform",
    "start": "1779679",
    "end": "1786080"
  },
  {
    "text": "but if we kick off a rollback here you'll start to see that we are spinning up the previous version of the",
    "start": "1786080",
    "end": "1792840"
  },
  {
    "text": "application and in that instance once this is up to a healthy state",
    "start": "1792840",
    "end": "1798159"
  },
  {
    "text": "um what we should see is that um we'll start to terminate one of these",
    "start": "1798159",
    "end": "1803279"
  },
  {
    "text": "pods here as well and so we'll have two different versions of the application actually running",
    "start": "1803279",
    "end": "1808880"
  },
  {
    "text": "and so that's giving us our canary test bed now again you know if you were doing a blue green version of this deployment",
    "start": "1808880",
    "end": "1815200"
  },
  {
    "text": "um potentially what we'd end up with is four pods of the old four pods of the new and then allowing",
    "start": "1815200",
    "end": "1820399"
  },
  {
    "text": "you to do your test analysis against that preview application um so now we see that we have three",
    "start": "1820399",
    "end": "1826480"
  },
  {
    "text": "versions of the old version or i should say the newest version but really since we did a rollback this is what",
    "start": "1826480",
    "end": "1832799"
  },
  {
    "text": "we're anticipating to be the current version and so we've done our canary steps so now we're 25 rolled out and this is where we're going",
    "start": "1832799",
    "end": "1838640"
  },
  {
    "text": "to end up in a suspended state because it says okay i was told by the declarative configuration that this is where i pause",
    "start": "1838640",
    "end": "1845279"
  },
  {
    "text": "and so i'm going to pause for any feedback um or you know any um basically any future",
    "start": "1845279",
    "end": "1852000"
  },
  {
    "text": "um you know calls from an application to say whether or not i should continue with this rollout and then from there if we take a look at",
    "start": "1852000",
    "end": "1858080"
  },
  {
    "text": "our actual rollout application you notice we are out of sync but that's because we did a rollback but we are running off of two different versions of",
    "start": "1858080",
    "end": "1864880"
  },
  {
    "text": "the application and that's because we have 25 on um that other version and if i take a look",
    "start": "1864880",
    "end": "1871440"
  },
  {
    "text": "so let's go look at our actual",
    "start": "1871440",
    "end": "1877679"
  },
  {
    "text": "roll out app here",
    "start": "1877679",
    "end": "1880799"
  },
  {
    "text": "all right and yep and so oh it looks like code fresh um yep looks like code fair should be",
    "start": "1884240",
    "end": "1890399"
  },
  {
    "text": "able to demo this as well it starts coming up cool so what we'll do is we'll actually do a",
    "start": "1890399",
    "end": "1896159"
  },
  {
    "text": "code commit so let me go ahead and refresh this guy to get demonstrate that for you in",
    "start": "1896159",
    "end": "1902640"
  },
  {
    "text": "general so we are again we're out of a sync state here so i'm going to go ahead and i'm just going to sync this back up i'm going to let our go just going to handle",
    "start": "1902640",
    "end": "1908799"
  },
  {
    "text": "that for right now i'll drop back to our application where we created our gitops app",
    "start": "1908799",
    "end": "1914720"
  },
  {
    "text": "and then we'll make a code commit here as well and so i do want to talk a little bit about the pipeline process here so if we drop it and we take a look",
    "start": "1914720",
    "end": "1921440"
  },
  {
    "text": "at our get ops ci",
    "start": "1921440",
    "end": "1925600"
  },
  {
    "text": "so there's a couple important things to point out to here so the first would be obviously we're doing our clone or build",
    "start": "1927600",
    "end": "1932799"
  },
  {
    "text": "and this is where you could layer in much more advanced build steps and we would highly recommend it um but this is where you would layer in",
    "start": "1932799",
    "end": "1938480"
  },
  {
    "text": "um your things like your integration testing and then once we do that we're actually updating the get off so we're taking",
    "start": "1938480",
    "end": "1943919"
  },
  {
    "text": "that file we're pending it with information that we have from the trigger request so we're adding that commit sha on there and then we're",
    "start": "1943919",
    "end": "1950159"
  },
  {
    "text": "committing it back to the repository and if we take a look at our trigger event here we have a trigger set up",
    "start": "1950159",
    "end": "1956799"
  },
  {
    "text": "on our codes our actual code of the the web application itself saying if we get any push commits on",
    "start": "1956799",
    "end": "1963039"
  },
  {
    "text": "this let's go ahead and kick off this process and currently it's in an on state so now if i actually go",
    "start": "1963039",
    "end": "1969279"
  },
  {
    "text": "back to our code and we're going to do this again so we'll change it back to let's go",
    "start": "1969279",
    "end": "1976880"
  },
  {
    "text": "chocolate because why not and let's save that guy",
    "start": "1976880",
    "end": "1984240"
  },
  {
    "text": "and then i'm going to push this we'll drop back over to our build",
    "start": "1987120",
    "end": "1993679"
  },
  {
    "text": "processes and this is where we're going to see that our get ops ci pipeline",
    "start": "1993679",
    "end": "1998799"
  },
  {
    "text": "is kicked off and so this is what's making those changes and this is actually going to happen in parallel so we're going to be cloning",
    "start": "1998799",
    "end": "2005760"
  },
  {
    "text": "down our repository we're going to be building out our image um at the same time that we're cloning down our github repo and",
    "start": "2005760",
    "end": "2011840"
  },
  {
    "text": "potentially updating that manifest but we're not actually going to commit the changes to the manifest",
    "start": "2011840",
    "end": "2016960"
  },
  {
    "text": "unless the docker image build is successful and this is key to understand because realistically",
    "start": "2016960",
    "end": "2022480"
  },
  {
    "text": "like i said you're going to have a lot of testing events in here so you don't actually want to kick off that cd process or",
    "start": "2022480",
    "end": "2027760"
  },
  {
    "text": "the git ops process unless the build itself is successful and all of the testing you have baked in",
    "start": "2027760",
    "end": "2033120"
  },
  {
    "text": "so now everything here was successful so we're going to see that we're actually going to push out a change to",
    "start": "2033120",
    "end": "2038240"
  },
  {
    "text": "github in this instance so if we take a look back at here so this was last updated four hours ago",
    "start": "2038240",
    "end": "2044240"
  },
  {
    "text": "we should see that this will be updated very soon and this is actually happening um through the ci cd platform it's",
    "start": "2044240",
    "end": "2050720"
  },
  {
    "text": "pulling it down it's committed it now and then from there we're gonna see that it was updated just",
    "start": "2050720",
    "end": "2056960"
  },
  {
    "text": "now and it's getting a new commit shot which actually came from there and now if i go back to my builds",
    "start": "2056960",
    "end": "2062720"
  },
  {
    "text": "because we committed back to that repository we're going to see that as part of our get ops cd pipeline",
    "start": "2062720",
    "end": "2068960"
  },
  {
    "text": "that now we're executing this and again this is where you might have your own you know pre-synchronization checks or",
    "start": "2068960",
    "end": "2074398"
  },
  {
    "text": "post synchronization checks inside of here but in this instance you know we just have some dummy steps in there to kind",
    "start": "2074399",
    "end": "2079599"
  },
  {
    "text": "of demonstrate that you can um but here it's actually going to start that deployment process with argo cd so this is our current application",
    "start": "2079599",
    "end": "2085679"
  },
  {
    "text": "you'll see we just kicked over to syncing now and you'll see that we're spinning up the new version of the application we're",
    "start": "2085679",
    "end": "2090720"
  },
  {
    "text": "spinning down the old version of the application and now this process is in sync",
    "start": "2090720",
    "end": "2096480"
  },
  {
    "text": "so once this finishes up we'll see that that fully goes away will have a historical reference to that",
    "start": "2096480",
    "end": "2101760"
  },
  {
    "text": "deployment just like we did in the other instance that i demonstrated and you'll have a good insight into",
    "start": "2101760",
    "end": "2108320"
  },
  {
    "text": "exactly what changes happen and if you wanted to of course you can click through the revision information and go directly to the",
    "start": "2108320",
    "end": "2114160"
  },
  {
    "text": "code commit and you'll see that it was just a commit sha there that actually changed but we have our new version of our",
    "start": "2114160",
    "end": "2119200"
  },
  {
    "text": "application and canary is um much the same process for us except that we baked in ways to actually",
    "start": "2119200",
    "end": "2124960"
  },
  {
    "text": "do additional testing so if i drop back i'll go to our pipeline for our canary",
    "start": "2124960",
    "end": "2130480"
  },
  {
    "text": "and i actually currently have the trigger for this disabled so i will step in i'm going to",
    "start": "2130480",
    "end": "2136960"
  },
  {
    "text": "go ahead and i'm going to turn on that trigger so now if i make a code change so let's go ahead",
    "start": "2136960",
    "end": "2145920"
  },
  {
    "text": "and we're gonna go let's find something fun i like deep sky blue let's go with that",
    "start": "2145920",
    "end": "2152560"
  },
  {
    "text": "so we'll change this to deep sky blue if i could type um all right and we'll",
    "start": "2152560",
    "end": "2160720"
  },
  {
    "text": "go ahead and we'll commit that guy and we'll push this and now when we",
    "start": "2160720",
    "end": "2166880"
  },
  {
    "text": "actually push that we will see that we're kicking off our canary ci pipeline here and this",
    "start": "2166880",
    "end": "2173359"
  },
  {
    "text": "canary ci pipeline is very similar to the get ops one the flow is the same you would be doing the same testing",
    "start": "2173359",
    "end": "2178480"
  },
  {
    "text": "but instead of kicking off um the commit to the gitops repository what we're actually begin",
    "start": "2178480",
    "end": "2183839"
  },
  {
    "text": "going to be committing a change to is this rollout uh manifest and we're going to change the",
    "start": "2183839",
    "end": "2190079"
  },
  {
    "text": "version of the application um so it's very similar so that flow from the you know the beginning area is",
    "start": "2190079",
    "end": "2196000"
  },
  {
    "text": "basically identical and so we're building the docker image again um you know we are pulling from cache for",
    "start": "2196000",
    "end": "2202640"
  },
  {
    "text": "the entirety of this build so it's it's typically pretty quick um and then we're actually committing",
    "start": "2202640",
    "end": "2208000"
  },
  {
    "text": "back to that repository so if we look at our rollout once this commit happens we should see that again we just had a",
    "start": "2208000",
    "end": "2213520"
  },
  {
    "text": "change um and then from there um you know we should kick off that cd pipeline",
    "start": "2213520",
    "end": "2219280"
  },
  {
    "text": "yep we see there is one change um there's delta we'll go ahead and commit this back now",
    "start": "2219280",
    "end": "2224480"
  },
  {
    "text": "we've committed our change so we see that we just made a change now and if we look back",
    "start": "2224480",
    "end": "2229599"
  },
  {
    "text": "at our build processes we'll see that we kicked off a canary cd pipeline now this is where um you know you're",
    "start": "2229599",
    "end": "2237359"
  },
  {
    "text": "really going to get more detailed in your analysis of whether or not this canary is healthy",
    "start": "2237359",
    "end": "2242480"
  },
  {
    "text": "so if you're using argos analysis you can you can take that approach if you're using your ci cd tooling to do",
    "start": "2242480",
    "end": "2248079"
  },
  {
    "text": "it typically you would roll out your canary application here you might even do some pre-environment checks to make",
    "start": "2248079",
    "end": "2253440"
  },
  {
    "text": "sure that you know everything that you're expecting to be in place is there but once you actually specify this roll",
    "start": "2253440",
    "end": "2259119"
  },
  {
    "text": "out what it's doing is it's starting that roll out of the application you'll see it's already started to synchronize by adding that",
    "start": "2259119",
    "end": "2264720"
  },
  {
    "text": "canary object so the containers creating and again we went from one image being deployed to now",
    "start": "2264720",
    "end": "2270480"
  },
  {
    "text": "two versions of the image and then once we're at that 25 canary status like i showed earlier um",
    "start": "2270480",
    "end": "2275920"
  },
  {
    "text": "the tooling itself once it finishes this rail process and again you have detailed logs on exactly what's happening inside of",
    "start": "2275920",
    "end": "2282480"
  },
  {
    "text": "argo when you're calling from our platform so if you need to see more information you can drop in here it's going to tell you how that synchronization is process",
    "start": "2282480",
    "end": "2288560"
  },
  {
    "text": "is going in this instance once we're at that 25 it's actually going to pause the",
    "start": "2288560",
    "end": "2293760"
  },
  {
    "text": "deployment so let's say that you had an environment for for whatever reason you wanted to do and you just saw that",
    "start": "2293760",
    "end": "2299680"
  },
  {
    "text": "that fourth version um actually disappear the first part of that version actually disappear um this is actually going to get to a",
    "start": "2299680",
    "end": "2305839"
  },
  {
    "text": "point to where you know let's say you're going into like a little a local dev or sandbox environment or maybe a qa environment",
    "start": "2305839",
    "end": "2311920"
  },
  {
    "text": "where you have a qa group that's actually smoke testing it so you should have all sorts of other analysis in there in place as well",
    "start": "2311920",
    "end": "2317200"
  },
  {
    "text": "but if you have a manual qa process then what you can do is you can have like a pending approval step you know in code fresh we call a pending",
    "start": "2317200",
    "end": "2323119"
  },
  {
    "text": "approval where you can layer in a gated deployment so we've started the canary and we now have 25",
    "start": "2323119",
    "end": "2329119"
  },
  {
    "text": "of our rollout completed but we've now gated it to let you do any vetting that you need to do to make sure the application is healthy",
    "start": "2329119",
    "end": "2334880"
  },
  {
    "text": "so once we're you know confident that everything's in a healthy state we can say okay we're going to prove this and now when we approve this",
    "start": "2334880",
    "end": "2341839"
  },
  {
    "text": "it's going to start to move towards the next process where it's going to say okay now we're going to promote the rollout and this could be to another step so you",
    "start": "2341839",
    "end": "2348560"
  },
  {
    "text": "could have another pause in here so it could say we did 25 now we're going to go to 50 and we're going to pause",
    "start": "2348560",
    "end": "2353920"
  },
  {
    "text": "again and we're going to do traffic analysis to make sure that everything's healthy we're going to do error analysis",
    "start": "2353920",
    "end": "2359200"
  },
  {
    "text": "and things like that to make sure that everything is in a state that is production ready in your case",
    "start": "2359200",
    "end": "2364640"
  },
  {
    "text": "in this instance we're saying okay the you know the pending approval is fine we did our smoke test of the environment",
    "start": "2364640",
    "end": "2370400"
  },
  {
    "text": "um we're starting the deployment process again so if we take a look here we'll see that our dind is spinning back",
    "start": "2370400",
    "end": "2375440"
  },
  {
    "text": "up um which is our execution process for our pipeline and then we'll start to actually do the",
    "start": "2375440",
    "end": "2380560"
  },
  {
    "text": "promotion process and again this is calling to our argo cd steps um",
    "start": "2380560",
    "end": "2386480"
  },
  {
    "text": "and then from our argo cd steps again it's going to give us a link to say okay you know we'll drop you right into argo",
    "start": "2386480",
    "end": "2391920"
  },
  {
    "text": "so that you can visualize what's actually happening and so you'll see that we're starting to actually deploy new",
    "start": "2391920",
    "end": "2397680"
  },
  {
    "text": "the newest version again so we're upping the pods now and as we get reports back that that's",
    "start": "2397680",
    "end": "2402720"
  },
  {
    "text": "actually healthy and the health check has checked out then it'll start to terminate pods",
    "start": "2402720",
    "end": "2407920"
  },
  {
    "text": "um that are running on the older version and so it's really just automating that entire process",
    "start": "2407920",
    "end": "2413119"
  },
  {
    "text": "so the key thing here is that once these pipelines are set up you know whatever your ci cd platform is",
    "start": "2413119",
    "end": "2418880"
  },
  {
    "text": "your developers all they need to worry about is committing code and so if they have a",
    "start": "2418880",
    "end": "2424240"
  },
  {
    "text": "feature that they're working on all they need to do is actually commit that in um let the automation and",
    "start": "2424240",
    "end": "2429839"
  },
  {
    "text": "the declarative configuration actually take care of it for you and so there's really no uncertainty in",
    "start": "2429839",
    "end": "2434960"
  },
  {
    "text": "the process the only thing that i would highly recommend would be and in this for demonstration",
    "start": "2434960",
    "end": "2440720"
  },
  {
    "text": "purposes we don't have it in here but typically what we like to see is um you'll have your start of your rollout",
    "start": "2440720",
    "end": "2446880"
  },
  {
    "text": "process you're going to have your your analysis and your health checking and things like that in here and then",
    "start": "2446880",
    "end": "2452079"
  },
  {
    "text": "you would have a conditional check to say only do the rollout if all of that is good otherwise we can automatically execute a",
    "start": "2452079",
    "end": "2458800"
  },
  {
    "text": "rollback again using our built-in steps and so to kind of talk about what those steps actually are",
    "start": "2458800",
    "end": "2464720"
  },
  {
    "text": "oh and it looks like so once this updates we'll be fully on the new version of the application as well",
    "start": "2464720",
    "end": "2470000"
  },
  {
    "text": "and we will see our our yep three minutes ago for our deployment time and so if we drop back into our pipeline",
    "start": "2470000",
    "end": "2475839"
  },
  {
    "text": "i want to talk about what our steps actually are so we have a step marketplace and in the step marketplace you know you can run",
    "start": "2475839",
    "end": "2482319"
  },
  {
    "text": "container-based steps you can write code behind them and we actually wrote steps to integrate with argo cd",
    "start": "2482319",
    "end": "2488079"
  },
  {
    "text": "so we wrote a synchronization step and a rollout step so this allows you to directly tie into your argo instance",
    "start": "2488079",
    "end": "2495440"
  },
  {
    "text": "um and execute things that are web hook driven uh you know directly tying your cicd",
    "start": "2495440",
    "end": "2501920"
  },
  {
    "text": "platform into your argo and then we also are building heavily upon argo so we're also going to",
    "start": "2501920",
    "end": "2506960"
  },
  {
    "text": "integrate it into our environments and things like that so you know code fresh is really looking to make heavy investments in argo",
    "start": "2506960",
    "end": "2514000"
  },
  {
    "text": "and make it a big part of our platform and so that actually concludes our demo",
    "start": "2514000",
    "end": "2521040"
  },
  {
    "start": "2518000",
    "end": "2795000"
  },
  {
    "text": "portions and the majority of the presentation so this really just opens it up the question so i hope that that was interesting i hope that it covered",
    "start": "2521040",
    "end": "2527599"
  },
  {
    "text": "you know the high level things that you wanted to see with argo and i think at this point let's just open it up to q a",
    "start": "2527599",
    "end": "2536560"
  },
  {
    "text": "awesome thanks brandon yeah everybody feel free to ask your questions down in",
    "start": "2536560",
    "end": "2542319"
  },
  {
    "text": "the q a tab at the bottom of your screen it looks like we've got two now",
    "start": "2542319",
    "end": "2548079"
  },
  {
    "text": "so jindong asks in a dev environment there are going to be a lot of commits how can we group these commits to",
    "start": "2548079",
    "end": "2554240"
  },
  {
    "text": "trigger one build yeah so that's really interesting so the first thing i would say is",
    "start": "2554240",
    "end": "2560560"
  },
  {
    "text": "it and i don't know how it works in all platforms but inside of code fresh what we typically do is we allow you to",
    "start": "2560560",
    "end": "2566960"
  },
  {
    "text": "specify pipeline concurrency and what i mean by that is if you have a ton of commits coming to dev",
    "start": "2566960",
    "end": "2572560"
  },
  {
    "text": "but you actually only care about building the latest one then you can specify that you only build the latest build and",
    "start": "2572560",
    "end": "2578319"
  },
  {
    "text": "it'll actually remove the other builds in queue so that you're only building what's necessary now if you're talking about",
    "start": "2578319",
    "end": "2584079"
  },
  {
    "text": "like ephemeral environments or like feature testing environments then what you might want to do at that",
    "start": "2584079",
    "end": "2589680"
  },
  {
    "text": "point is you might want to take argo's app of apps approach um where you can actually spin up like a dynamic version of just",
    "start": "2589680",
    "end": "2596160"
  },
  {
    "text": "that instance of that dev feature um and then from there you have sort of an umbrella chart that manages the",
    "start": "2596160",
    "end": "2602000"
  },
  {
    "text": "deployment process so i hope that answered that question",
    "start": "2602000",
    "end": "2607838"
  },
  {
    "text": "cool looking at this canary deploy model with code fresh and argo",
    "start": "2608880",
    "end": "2614000"
  },
  {
    "text": "i noticed there wasn't more mention about how to automate that process for flux they have flagger which it does",
    "start": "2614000",
    "end": "2620400"
  },
  {
    "text": "automated roll forward from 25 to canary to 100 or to completely roll back if error",
    "start": "2620400",
    "end": "2627119"
  },
  {
    "text": "rates on canary hit too high of a threshold is there something like that for this scenario",
    "start": "2627119",
    "end": "2632880"
  },
  {
    "text": "with argo and code fresh yeah so so we actually do have that and it's interesting so we have a",
    "start": "2632880",
    "end": "2638400"
  },
  {
    "text": "um it's called the kubernetes health check step but what it actually allows us to do is execute a rollout process and then you",
    "start": "2638400",
    "end": "2645839"
  },
  {
    "text": "specify the time frame over which that rollout is actually taking place and then in that health check we can actually call out to",
    "start": "2645839",
    "end": "2651760"
  },
  {
    "text": "things like looking at kubernetes health or let's say spring actuator checks for health checks or even looking at things",
    "start": "2651760",
    "end": "2658079"
  },
  {
    "text": "like data dog and checking slos and then if that slo ever fails then we would call the rollback",
    "start": "2658079",
    "end": "2664240"
  },
  {
    "text": "procedure to actually do that and you can do that in our pipeline processes so the way that i've typically seen our",
    "start": "2664240",
    "end": "2670000"
  },
  {
    "text": "customers implement it is that they actually have a pipeline called to another pipeline so we support pipeline inheritance",
    "start": "2670000",
    "end": "2676240"
  },
  {
    "text": "so what they would do is they would execute the cd pipeline which does the rollout process and then at the end of that pipeline",
    "start": "2676240",
    "end": "2681520"
  },
  {
    "text": "they would call out to another analysis pipeline which is going to programmatically analyze",
    "start": "2681520",
    "end": "2687599"
  },
  {
    "text": "the you know success or failure of that based on key metrics and things that you're looking for and then execute a row back if necessary",
    "start": "2687599",
    "end": "2696400"
  },
  {
    "text": "okay great any more questions don't be shy",
    "start": "2700160",
    "end": "2706400"
  },
  {
    "text": "do we have to install a controller for the rollout cr into the production environment",
    "start": "2707119",
    "end": "2714319"
  },
  {
    "text": "so you can install the um it's interesting so you can install the",
    "start": "2714400",
    "end": "2719839"
  },
  {
    "text": "crd on its own um but the controller is what's really doing the heavy lifting so argo cd is made up of three major",
    "start": "2719839",
    "end": "2726640"
  },
  {
    "text": "components um you have your api controller you have the application controller and",
    "start": "2726640",
    "end": "2732640"
  },
  {
    "text": "then you have the server i believe and those are all necessary to really make the argo rollout fully featured and",
    "start": "2732640",
    "end": "2738480"
  },
  {
    "text": "fully functional",
    "start": "2738480",
    "end": "2747838"
  },
  {
    "text": "well that looks like all the oh there we go oh that was a thanks yeah of course the",
    "start": "2752079",
    "end": "2759359"
  },
  {
    "text": "answer i hope that i hope it's helpful presentation any more questions",
    "start": "2759359",
    "end": "2765040"
  },
  {
    "text": "well shoot them along i'll start wrapping up but if any more pop up uh we can ask them well thanks",
    "start": "2766640",
    "end": "2774000"
  },
  {
    "text": "brandon for a great presentation we'll have the recording and slides up",
    "start": "2774000",
    "end": "2780640"
  },
  {
    "text": "later today on the cncf webinar page and we hope to see you all",
    "start": "2780640",
    "end": "2785920"
  },
  {
    "text": "again at another cncf webinar thank you yeah thanks everyone",
    "start": "2785920",
    "end": "2797760"
  }
]