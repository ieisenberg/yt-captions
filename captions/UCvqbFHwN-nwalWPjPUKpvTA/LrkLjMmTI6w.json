[
  {
    "text": "all right welcome everybody we're going",
    "start": "799",
    "end": "2320"
  },
  {
    "text": "to get started welcome to my session",
    "start": "2320",
    "end": "5960"
  },
  {
    "text": "whoops how not to accidentally delete",
    "start": "5960",
    "end": "9240"
  },
  {
    "text": "everything uh I think a lot of you saw",
    "start": "9240",
    "end": "11960"
  },
  {
    "text": "the session uh that Alexander and Katie",
    "start": "11960",
    "end": "15080"
  },
  {
    "text": "just gave which was a great explanation",
    "start": "15080",
    "end": "17039"
  },
  {
    "text": "of a new feature uh um in the fine grain",
    "start": "17039",
    "end": "20760"
  },
  {
    "text": "arback access controls for permissions",
    "start": "20760",
    "end": "23439"
  },
  {
    "text": "which allows you to restrict what kinds",
    "start": "23439",
    "end": "25240"
  },
  {
    "text": "of resources can be deleted we're going",
    "start": "25240",
    "end": "26960"
  },
  {
    "text": "to talk about a whole bunch of other",
    "start": "26960",
    "end": "29000"
  },
  {
    "text": "scenarios that can happen happen uh and",
    "start": "29000",
    "end": "31519"
  },
  {
    "text": "have happened um so first let me",
    "start": "31519",
    "end": "33760"
  },
  {
    "text": "introduce myself my name is Dan Garfield",
    "start": "33760",
    "end": "36000"
  },
  {
    "text": "I am the",
    "start": "36000",
    "end": "37840"
  },
  {
    "text": "uh what what have I done I I uh I'm a",
    "start": "37840",
    "end": "40640"
  },
  {
    "text": "co-founder of codefresh uh and now VP uh",
    "start": "40640",
    "end": "45000"
  },
  {
    "text": "open source at octopus deploy I am an",
    "start": "45000",
    "end": "47760"
  },
  {
    "text": "Argo maintainer and have been for",
    "start": "47760",
    "end": "49199"
  },
  {
    "text": "several years um and uh I helped create",
    "start": "49199",
    "end": "53160"
  },
  {
    "text": "the open get off standard and helped",
    "start": "53160",
    "end": "54960"
  },
  {
    "text": "launch argoon which I'm super thrilled",
    "start": "54960",
    "end": "57640"
  },
  {
    "text": "this is actually kind of cool for me cuz",
    "start": "57640",
    "end": "59079"
  },
  {
    "text": "I actually live in Lake and so this is",
    "start": "59079",
    "end": "62199"
  },
  {
    "text": "the first time that I didn't have to",
    "start": "62199",
    "end": "64799"
  },
  {
    "text": "travel to like everybody came here it's",
    "start": "64799",
    "end": "67720"
  },
  {
    "text": "very strange to talk about this stuff in",
    "start": "67720",
    "end": "70520"
  },
  {
    "text": "my own town because people don't Salt",
    "start": "70520",
    "end": "71880"
  },
  {
    "text": "Lake don't talk where I live they don't",
    "start": "71880",
    "end": "73439"
  },
  {
    "text": "talk about this stuff so anyway uh you",
    "start": "73439",
    "end": "75840"
  },
  {
    "text": "can follow me on on H Twitter today was",
    "start": "75840",
    "end": "78360"
  },
  {
    "text": "awesome I also want to give a shout out",
    "start": "78360",
    "end": "80360"
  },
  {
    "text": "to Pasha who is an engineering lead at",
    "start": "80360",
    "end": "83000"
  },
  {
    "text": "octopus deploy and an Argo maintainer",
    "start": "83000",
    "end": "85400"
  },
  {
    "text": "actually number two most active on Argo",
    "start": "85400",
    "end": "87360"
  },
  {
    "text": "CD this year uh he lives in Ukraine and",
    "start": "87360",
    "end": "90560"
  },
  {
    "text": "unfortunately due to the war is not able",
    "start": "90560",
    "end": "92119"
  },
  {
    "text": "to travel uh this is most this a lot of",
    "start": "92119",
    "end": "94840"
  },
  {
    "text": "this content is stuff that he prepared",
    "start": "94840",
    "end": "96680"
  },
  {
    "text": "so if you see any mistakes be sure to",
    "start": "96680",
    "end": "99759"
  },
  {
    "text": "let him know that he should have done a",
    "start": "99759",
    "end": "102600"
  },
  {
    "text": "better job um a little bit about code",
    "start": "102600",
    "end": "106079"
  },
  {
    "text": "fresh if you're not familiar with it we",
    "start": "106079",
    "end": "107439"
  },
  {
    "text": "have a control plane for Argo with",
    "start": "107439",
    "end": "109360"
  },
  {
    "text": "environments and promotions management",
    "start": "109360",
    "end": "111119"
  },
  {
    "text": "it's incredibly powerful get a demo it's",
    "start": "111119",
    "end": "113600"
  },
  {
    "text": "out there at the booth uh we offer",
    "start": "113600",
    "end": "116799"
  },
  {
    "text": "enterprise support for Argo and",
    "start": "116799",
    "end": "119240"
  },
  {
    "text": "Technical count management will help you",
    "start": "119240",
    "end": "121079"
  },
  {
    "text": "Scope your stuff out architect it",
    "start": "121079",
    "end": "123719"
  },
  {
    "text": "upgrade plan all that stuff we have a",
    "start": "123719",
    "end": "126000"
  },
  {
    "text": "hardened security distribution for Argo",
    "start": "126000",
    "end": "129039"
  },
  {
    "text": "so you have really fast SLA on cve",
    "start": "129039",
    "end": "131319"
  },
  {
    "text": "patching third party Library patching",
    "start": "131319",
    "end": "132959"
  },
  {
    "text": "all that kind of stuff and of course",
    "start": "132959",
    "end": "134680"
  },
  {
    "text": "many of you already know that we have",
    "start": "134680",
    "end": "136319"
  },
  {
    "text": "the number one gitops certification and",
    "start": "136319",
    "end": "138239"
  },
  {
    "text": "training how many people have done the",
    "start": "138239",
    "end": "139400"
  },
  {
    "text": "code fresh uh giops",
    "start": "139400",
    "end": "141680"
  },
  {
    "text": "training wow that's the smallest number",
    "start": "141680",
    "end": "144360"
  },
  {
    "text": "I've ever seen in a room that's",
    "start": "144360",
    "end": "145640"
  },
  {
    "text": "impressive so uh go get a free code or",
    "start": "145640",
    "end": "148680"
  },
  {
    "text": "or a discount from uh the code fresh",
    "start": "148680",
    "end": "150840"
  },
  {
    "text": "Booth all right so here's example number",
    "start": "150840",
    "end": "153040"
  },
  {
    "text": "one let's say you've got an application",
    "start": "153040",
    "end": "154840"
  },
  {
    "text": "set it's powered up a bunch of",
    "start": "154840",
    "end": "157120"
  },
  {
    "text": "applications everything's good",
    "start": "157120",
    "end": "159080"
  },
  {
    "text": "everything's fine you feel good and",
    "start": "159080",
    "end": "160800"
  },
  {
    "text": "suddenly you wake up and you're on fire",
    "start": "160800",
    "end": "162319"
  },
  {
    "text": "and all the applications have been",
    "start": "162319",
    "end": "163760"
  },
  {
    "text": "deleted what happened how did that",
    "start": "163760",
    "end": "166280"
  },
  {
    "text": "happen nobody even made a change no one",
    "start": "166280",
    "end": "168159"
  },
  {
    "text": "touched the darn thing okay we're going",
    "start": "168159",
    "end": "170239"
  },
  {
    "text": "to come back to that one uh number two",
    "start": "170239",
    "end": "172280"
  },
  {
    "text": "let's say you're upgrading Argo CD",
    "start": "172280",
    "end": "174440"
  },
  {
    "text": "something gets stuck you go to delete",
    "start": "174440",
    "end": "176280"
  },
  {
    "text": "some res you know when you're when you",
    "start": "176280",
    "end": "178640"
  },
  {
    "text": "have stuck upgrading something you're",
    "start": "178640",
    "end": "180480"
  },
  {
    "text": "like I'll delete that thing Argo CD will",
    "start": "180480",
    "end": "182599"
  },
  {
    "text": "put it back so you delete some stuff in",
    "start": "182599",
    "end": "184560"
  },
  {
    "text": "Argo CD and then suddenly poof",
    "start": "184560",
    "end": "186200"
  },
  {
    "text": "everything's gone not only is Argo gone",
    "start": "186200",
    "end": "189360"
  },
  {
    "text": "all of your applications are gone what",
    "start": "189360",
    "end": "191040"
  },
  {
    "text": "the heck just happened all of my",
    "start": "191040",
    "end": "192560"
  },
  {
    "text": "resources just got deleted this really",
    "start": "192560",
    "end": "194720"
  },
  {
    "text": "happened I actually know somebody that",
    "start": "194720",
    "end": "196440"
  },
  {
    "text": "this happened to and I invited him to",
    "start": "196440",
    "end": "199239"
  },
  {
    "text": "come and give this talk with me and he",
    "start": "199239",
    "end": "202120"
  },
  {
    "text": "said no he did not want to revisit that",
    "start": "202120",
    "end": "206360"
  },
  {
    "text": "episode uh so let's talk a little about",
    "start": "206360",
    "end": "208640"
  },
  {
    "text": "how deletion Works in our C so first of",
    "start": "208640",
    "end": "210519"
  },
  {
    "text": "all in the Argo CD architecture um",
    "start": "210519",
    "end": "213720"
  },
  {
    "text": "you've got Argo C repo server that's",
    "start": "213720",
    "end": "216040"
  },
  {
    "text": "responsible for checking code out of git",
    "start": "216040",
    "end": "219080"
  },
  {
    "text": "and then generating those manifests and",
    "start": "219080",
    "end": "221319"
  },
  {
    "text": "then you've got the Argo CD application",
    "start": "221319",
    "end": "223080"
  },
  {
    "text": "controller which is responsible for for",
    "start": "223080",
    "end": "225200"
  },
  {
    "text": "actually applying those changes into",
    "start": "225200",
    "end": "227040"
  },
  {
    "text": "kubernetes now the application set",
    "start": "227040",
    "end": "230640"
  },
  {
    "text": "controller and we're going to be talking",
    "start": "230640",
    "end": "232120"
  },
  {
    "text": "about both",
    "start": "232120",
    "end": "233840"
  },
  {
    "text": "applications and application sets and",
    "start": "233840",
    "end": "236840"
  },
  {
    "text": "sometimes the differences in in the",
    "start": "236840",
    "end": "238519"
  },
  {
    "text": "behavior between those two so hopefully",
    "start": "238519",
    "end": "240079"
  },
  {
    "text": "we don't get too lost but the Argo CD",
    "start": "240079",
    "end": "242799"
  },
  {
    "text": "application set the application set",
    "start": "242799",
    "end": "245040"
  },
  {
    "text": "infrastructure is basically bolted on to",
    "start": "245040",
    "end": "247519"
  },
  {
    "text": "Argo CD and all it does is the",
    "start": "247519",
    "end": "251920"
  },
  {
    "text": "application custom resource the",
    "start": "251920",
    "end": "254079"
  },
  {
    "text": "application set custom resource um",
    "start": "254079",
    "end": "257359"
  },
  {
    "text": "generates application custom",
    "start": "257359",
    "end": "261040"
  },
  {
    "text": "resources and it doesn't even have to",
    "start": "261040",
    "end": "263120"
  },
  {
    "text": "talk to Argo CD to do that it just",
    "start": "263120",
    "end": "265360"
  },
  {
    "text": "generates those resources on the cluster",
    "start": "265360",
    "end": "268240"
  },
  {
    "text": "and Argo CD picks up those",
    "start": "268240",
    "end": "270280"
  },
  {
    "text": "resources uh it doesn't ARG doesn't",
    "start": "270280",
    "end": "272560"
  },
  {
    "text": "really care how those are created if it",
    "start": "272560",
    "end": "274039"
  },
  {
    "text": "was created by an application set if it",
    "start": "274039",
    "end": "275560"
  },
  {
    "text": "was created by you manually as a user",
    "start": "275560",
    "end": "277199"
  },
  {
    "text": "it's just looking for that custom",
    "start": "277199",
    "end": "278440"
  },
  {
    "text": "resource and then we'll go and manage",
    "start": "278440",
    "end": "280360"
  },
  {
    "text": "them and you'll notice that the",
    "start": "280360",
    "end": "281880"
  },
  {
    "text": "application custom resources are",
    "start": "281880",
    "end": "284639"
  },
  {
    "text": "controlled by owner references we'll",
    "start": "284639",
    "end": "287280"
  },
  {
    "text": "talk about that in a second because it's",
    "start": "287280",
    "end": "288600"
  },
  {
    "text": "different than a finalizer and it's",
    "start": "288600",
    "end": "290280"
  },
  {
    "text": "going to be cause different Behavior now",
    "start": "290280",
    "end": "292160"
  },
  {
    "text": "finalizers in Argo CD uh when you create",
    "start": "292160",
    "end": "294720"
  },
  {
    "text": "an application you have the option to",
    "start": "294720",
    "end": "296440"
  },
  {
    "text": "create a finalizers on your resources",
    "start": "296440",
    "end": "299479"
  },
  {
    "text": "and and the default the default",
    "start": "299479",
    "end": "301680"
  },
  {
    "text": "configuration for this is that it will",
    "start": "301680",
    "end": "303560"
  },
  {
    "text": "do a forra foreground cascading deletion",
    "start": "303560",
    "end": "307120"
  },
  {
    "text": "of resources so if you delete an",
    "start": "307120",
    "end": "309320"
  },
  {
    "text": "application and the finalizers are set",
    "start": "309320",
    "end": "312000"
  },
  {
    "text": "on resources which is one of your your",
    "start": "312000",
    "end": "313759"
  },
  {
    "text": "sync options that you can set up um it",
    "start": "313759",
    "end": "316960"
  },
  {
    "text": "will then after when you mark the",
    "start": "316960",
    "end": "318880"
  },
  {
    "text": "application for deletion it will then",
    "start": "318880",
    "end": "320520"
  },
  {
    "text": "automatically Mark all the child",
    "start": "320520",
    "end": "321960"
  },
  {
    "text": "resources for deletion delete all the",
    "start": "321960",
    "end": "324080"
  },
  {
    "text": "child resources and then delete the",
    "start": "324080",
    "end": "326160"
  },
  {
    "text": "application and uh it'll follow that",
    "start": "326160",
    "end": "328520"
  },
  {
    "text": "process and we'll talk about that",
    "start": "328520",
    "end": "329880"
  },
  {
    "text": "there's a difference between that and an",
    "start": "329880",
    "end": "331520"
  },
  {
    "text": "owner reference so in kubernetes in",
    "start": "331520",
    "end": "334280"
  },
  {
    "text": "general when you create a deployment uh",
    "start": "334280",
    "end": "337039"
  },
  {
    "text": "and it spins up pods those pods have an",
    "start": "337039",
    "end": "340560"
  },
  {
    "text": "owner reference to the deployment and so",
    "start": "340560",
    "end": "343360"
  },
  {
    "text": "if you delete that deployment the object",
    "start": "343360",
    "end": "346800"
  },
  {
    "text": "that the owner reference points to",
    "start": "346800",
    "end": "348479"
  },
  {
    "text": "kubernetes will automatically delete all",
    "start": "348479",
    "end": "351039"
  },
  {
    "text": "objects that are pointed at that",
    "start": "351039",
    "end": "352280"
  },
  {
    "text": "reference so why don't we do that for",
    "start": "352280",
    "end": "354400"
  },
  {
    "text": "Argo CD applications why don't we just",
    "start": "354400",
    "end": "356240"
  },
  {
    "text": "have all the resources be owner",
    "start": "356240",
    "end": "358360"
  },
  {
    "text": "referenced to the application",
    "start": "358360",
    "end": "360600"
  },
  {
    "text": "well the owner reference needs to",
    "start": "360600",
    "end": "362840"
  },
  {
    "text": "reference something that's on the same",
    "start": "362840",
    "end": "365400"
  },
  {
    "text": "cluster okay and Argo CD applications",
    "start": "365400",
    "end": "368919"
  },
  {
    "text": "can be deployed their resources could be",
    "start": "368919",
    "end": "370800"
  },
  {
    "text": "deployed to other clusters they could be",
    "start": "370800",
    "end": "372680"
  },
  {
    "text": "all kinds of different places and we",
    "start": "372680",
    "end": "374720"
  },
  {
    "text": "actually want to introduce some Logic",
    "start": "374720",
    "end": "377240"
  },
  {
    "text": "for how those finalizers are handled",
    "start": "377240",
    "end": "379479"
  },
  {
    "text": "that an owner reference wouldn't give us",
    "start": "379479",
    "end": "382080"
  },
  {
    "text": "so let's look at the generic way that",
    "start": "382080",
    "end": "384160"
  },
  {
    "text": "kubernetes works this is just kubernetes",
    "start": "384160",
    "end": "386400"
  },
  {
    "text": "we're not even talking about Argo CD yet",
    "start": "386400",
    "end": "388680"
  },
  {
    "text": "um you've got a user who deletes a",
    "start": "388680",
    "end": "391280"
  },
  {
    "text": "resource the kubernetes API actually",
    "start": "391280",
    "end": "393960"
  },
  {
    "text": "sends some kind of watch event to some",
    "start": "393960",
    "end": "397120"
  },
  {
    "text": "kind of controller this is the owner of",
    "start": "397120",
    "end": "399400"
  },
  {
    "text": "the finalizer so this could be like if",
    "start": "399400",
    "end": "401560"
  },
  {
    "text": "you're using uh Longhorn it has a a",
    "start": "401560",
    "end": "405280"
  },
  {
    "text": "finalizer for uh storage volumes for",
    "start": "405280",
    "end": "407759"
  },
  {
    "text": "example um if you're using Argo CD it's",
    "start": "407759",
    "end": "410000"
  },
  {
    "text": "going to be Argo CD the controller is",
    "start": "410000",
    "end": "412199"
  },
  {
    "text": "going to execute some kind of logic and",
    "start": "412199",
    "end": "414800"
  },
  {
    "text": "when it's done removing what it whatever",
    "start": "414800",
    "end": "417000"
  },
  {
    "text": "it needs to delete and do it will then",
    "start": "417000",
    "end": "418879"
  },
  {
    "text": "remove that finalizer and once that",
    "start": "418879",
    "end": "421360"
  },
  {
    "text": "finalizer is removed kubernetes will",
    "start": "421360",
    "end": "423599"
  },
  {
    "text": "actually delete that resource and inform",
    "start": "423599",
    "end": "425720"
  },
  {
    "text": "the user okay so pretty straightforward",
    "start": "425720",
    "end": "428319"
  },
  {
    "text": "now when we introduce uh Argo CD and",
    "start": "428319",
    "end": "431440"
  },
  {
    "text": "let's let's start with looking at",
    "start": "431440",
    "end": "432639"
  },
  {
    "text": "application sets if a user deletes an",
    "start": "432639",
    "end": "435280"
  },
  {
    "text": "application set this informs the",
    "start": "435280",
    "end": "437000"
  },
  {
    "text": "kubernetes API just like",
    "start": "437000",
    "end": "439120"
  },
  {
    "text": "before but because applications under an",
    "start": "439120",
    "end": "443319"
  },
  {
    "text": "application set are by owner reference",
    "start": "443319",
    "end": "445960"
  },
  {
    "text": "the owner of that reference is now",
    "start": "445960",
    "end": "447599"
  },
  {
    "text": "deleted so all of those applications",
    "start": "447599",
    "end": "450400"
  },
  {
    "text": "that were created by that application",
    "start": "450400",
    "end": "452280"
  },
  {
    "text": "set are now automatically marked for",
    "start": "452280",
    "end": "454360"
  },
  {
    "text": "deletion and this creates a deletion",
    "start": "454360",
    "end": "456199"
  },
  {
    "text": "timestamp on all of those resources all",
    "start": "456199",
    "end": "458479"
  },
  {
    "text": "of those applications uh this notifies",
    "start": "458479",
    "end": "461160"
  },
  {
    "text": "the controller in this case it's the",
    "start": "461160",
    "end": "462360"
  },
  {
    "text": "Argo CD controller which verifies the",
    "start": "462360",
    "end": "465159"
  },
  {
    "text": "timestamp uh and then it goes through",
    "start": "465159",
    "end": "467199"
  },
  {
    "text": "and does operations and one of those",
    "start": "467199",
    "end": "468840"
  },
  {
    "text": "operations is if uh if finalizers are",
    "start": "468840",
    "end": "472960"
  },
  {
    "text": "set which by default with application",
    "start": "472960",
    "end": "475639"
  },
  {
    "text": "sets they are then it will Mark all of",
    "start": "475639",
    "end": "478639"
  },
  {
    "text": "those resources for deletion at which",
    "start": "478639",
    "end": "481120"
  },
  {
    "text": "point it'll push back and all of those",
    "start": "481120",
    "end": "483479"
  },
  {
    "text": "components uh the remove the finalizers",
    "start": "483479",
    "end": "485680"
  },
  {
    "text": "will will be removed allowing the the",
    "start": "485680",
    "end": "488199"
  },
  {
    "text": "deletion of all those resources to",
    "start": "488199",
    "end": "490039"
  },
  {
    "text": "continue um because that time stamp was",
    "start": "490039",
    "end": "492759"
  },
  {
    "text": "added to all those resources so first uh",
    "start": "492759",
    "end": "496759"
  },
  {
    "text": "on manual deletion if you're deleting",
    "start": "496759",
    "end": "499479"
  },
  {
    "text": "things from the UI and the CLI it is the",
    "start": "499479",
    "end": "502639"
  },
  {
    "text": "same as deleting them in git so if",
    "start": "502639",
    "end": "504879"
  },
  {
    "text": "you're using like uh app of apps or",
    "start": "504879",
    "end": "507680"
  },
  {
    "text": "something like that or you're deleting",
    "start": "507680",
    "end": "509159"
  },
  {
    "text": "res sources you have prune enabled",
    "start": "509159",
    "end": "511319"
  },
  {
    "text": "except that in Git You cannot override",
    "start": "511319",
    "end": "514159"
  },
  {
    "text": "the finalizer so when you're deleting in",
    "start": "514159",
    "end": "515959"
  },
  {
    "text": "the UI you can actually uh override the",
    "start": "515959",
    "end": "519479"
  },
  {
    "text": "finalizer that's listed on resources and",
    "start": "519479",
    "end": "522080"
  },
  {
    "text": "decide if you want to keep resources or",
    "start": "522080",
    "end": "524600"
  },
  {
    "text": "not um whereas in Git You need to",
    "start": "524600",
    "end": "526680"
  },
  {
    "text": "actually have a um you would need to",
    "start": "526680",
    "end": "529839"
  },
  {
    "text": "have like prune turned off or something",
    "start": "529839",
    "end": "531839"
  },
  {
    "text": "like that in order to do that um so app",
    "start": "531839",
    "end": "535680"
  },
  {
    "text": "deletion from app of apps in git",
    "start": "535680",
    "end": "538279"
  },
  {
    "text": "requires both both finalizers and the",
    "start": "538279",
    "end": "541480"
  },
  {
    "text": "prune option so if the finalizers are",
    "start": "541480",
    "end": "544880"
  },
  {
    "text": "Set uh in your app of apps in order to",
    "start": "544880",
    "end": "548079"
  },
  {
    "text": "delete the the prune option needs to be",
    "start": "548079",
    "end": "550480"
  },
  {
    "text": "enabled as well okay um so to help us",
    "start": "550480",
    "end": "554640"
  },
  {
    "text": "troubleshoot this there are a couple of",
    "start": "554640",
    "end": "556279"
  },
  {
    "text": "places in the logs you can look in Argo",
    "start": "556279",
    "end": "558920"
  },
  {
    "text": "CD server there is a line deleted",
    "start": "558920",
    "end": "561720"
  },
  {
    "text": "application and this indicates that the",
    "start": "561720",
    "end": "563560"
  },
  {
    "text": "user has initiated app deletion now this",
    "start": "563560",
    "end": "567120"
  },
  {
    "text": "says",
    "start": "567120",
    "end": "568000"
  },
  {
    "text": "manually it could be it could be done",
    "start": "568000",
    "end": "570839"
  },
  {
    "text": "actually through git or or some other",
    "start": "570839",
    "end": "573160"
  },
  {
    "text": "mechanism um logs for Argo CD",
    "start": "573160",
    "end": "576079"
  },
  {
    "text": "application controller uh includes one",
    "start": "576079",
    "end": "579000"
  },
  {
    "text": "that says deleting resources and this",
    "start": "579000",
    "end": "580959"
  },
  {
    "text": "means there's been a request to delete",
    "start": "580959",
    "end": "582440"
  },
  {
    "text": "an application in kubernetes and the",
    "start": "582440",
    "end": "584240"
  },
  {
    "text": "Argo CD controller is now deleting the",
    "start": "584240",
    "end": "586279"
  },
  {
    "text": "child resources uh objects remaining for",
    "start": "586279",
    "end": "589120"
  },
  {
    "text": "deletion will show the progress and",
    "start": "589120",
    "end": "590920"
  },
  {
    "text": "deleting applications Resources with",
    "start": "590920",
    "end": "593440"
  },
  {
    "text": "string percent propagation policy this",
    "start": "593440",
    "end": "595959"
  },
  {
    "text": "means there was a request to delete the",
    "start": "595959",
    "end": "597360"
  },
  {
    "text": "application in kubernetes and it shows",
    "start": "597360",
    "end": "598680"
  },
  {
    "text": "the propagation policy and there are a",
    "start": "598680",
    "end": "600440"
  },
  {
    "text": "number of different propagation policies",
    "start": "600440",
    "end": "602000"
  },
  {
    "text": "you can pick um let's look at let's look",
    "start": "602000",
    "end": "604920"
  },
  {
    "text": "at an example so let's say I want to",
    "start": "604920",
    "end": "606640"
  },
  {
    "text": "rename an",
    "start": "606640",
    "end": "607959"
  },
  {
    "text": "application uh you anybody ever tried to",
    "start": "607959",
    "end": "610279"
  },
  {
    "text": "rename an application in Argo CD and",
    "start": "610279",
    "end": "612880"
  },
  {
    "text": "that",
    "start": "612880",
    "end": "613800"
  },
  {
    "text": "went poorly yes yes that's right it went",
    "start": "613800",
    "end": "616720"
  },
  {
    "text": "poorly uh there is no such thing as",
    "start": "616720",
    "end": "618680"
  },
  {
    "text": "renaming an application in uh Argo CD",
    "start": "618680",
    "end": "621959"
  },
  {
    "text": "it's like renaming any any resource",
    "start": "621959",
    "end": "624240"
  },
  {
    "text": "inside of kubernetes you can't rename",
    "start": "624240",
    "end": "625839"
  },
  {
    "text": "them um what will happen is that if you",
    "start": "625839",
    "end": "629480"
  },
  {
    "text": "edit the application custom resource the",
    "start": "629480",
    "end": "632240"
  },
  {
    "text": "the application spec and change the name",
    "start": "632240",
    "end": "635000"
  },
  {
    "text": "and push it and Patch it it will",
    "start": "635000",
    "end": "637079"
  },
  {
    "text": "actually delete the old application",
    "start": "637079",
    "end": "639360"
  },
  {
    "text": "which will then automatically if the",
    "start": "639360",
    "end": "641600"
  },
  {
    "text": "finalizers are set will automatically",
    "start": "641600",
    "end": "644560"
  },
  {
    "text": "and and prune is is uh you know",
    "start": "644560",
    "end": "646920"
  },
  {
    "text": "potentially enabled depending on the",
    "start": "646920",
    "end": "648120"
  },
  {
    "text": "scenario it will then actually delete",
    "start": "648120",
    "end": "650000"
  },
  {
    "text": "all of those child resources right so",
    "start": "650000",
    "end": "652720"
  },
  {
    "text": "the way that you actually do you can",
    "start": "652720",
    "end": "654200"
  },
  {
    "text": "actually solve this is it's possible in",
    "start": "654200",
    "end": "656200"
  },
  {
    "text": "Argo CD to have two applications",
    "start": "656200",
    "end": "658639"
  },
  {
    "text": "managing the same resources under normal",
    "start": "658639",
    "end": "661480"
  },
  {
    "text": "operation we don't you we generally",
    "start": "661480",
    "end": "663639"
  },
  {
    "text": "don't recommend doing that it's like why",
    "start": "663639",
    "end": "665560"
  },
  {
    "text": "why would you do that well the reason",
    "start": "665560",
    "end": "666920"
  },
  {
    "text": "you would do it is because you wanted to",
    "start": "666920",
    "end": "668279"
  },
  {
    "text": "migrate those resources to a different",
    "start": "668279",
    "end": "670839"
  },
  {
    "text": "application's stewardship so the way you",
    "start": "670839",
    "end": "673120"
  },
  {
    "text": "do that is first you disable automated",
    "start": "673120",
    "end": "675279"
  },
  {
    "text": "sync now you can do that by editing the",
    "start": "675279",
    "end": "677720"
  },
  {
    "text": "application itself or you can introduce",
    "start": "677720",
    "end": "679639"
  },
  {
    "text": "a sync window which is my preferred",
    "start": "679639",
    "end": "681560"
  },
  {
    "text": "method to do it um and once you've done",
    "start": "681560",
    "end": "683959"
  },
  {
    "text": "that you create a new application that",
    "start": "683959",
    "end": "686279"
  },
  {
    "text": "points at the same resources sync the",
    "start": "686279",
    "end": "688880"
  },
  {
    "text": "new application and this will change the",
    "start": "688880",
    "end": "691079"
  },
  {
    "text": "owner",
    "start": "691079",
    "end": "692120"
  },
  {
    "text": "reference I'm using that I'm using the",
    "start": "692120",
    "end": "694279"
  },
  {
    "text": "term owner reference uh incorrectly not",
    "start": "694279",
    "end": "697519"
  },
  {
    "text": "not the kubernetes owner reference but",
    "start": "697519",
    "end": "699240"
  },
  {
    "text": "the um like the tracking it'll update",
    "start": "699240",
    "end": "701720"
  },
  {
    "text": "the tracking annotation method if you're",
    "start": "701720",
    "end": "703399"
  },
  {
    "text": "using label or annotation or whatever",
    "start": "703399",
    "end": "705120"
  },
  {
    "text": "method tracking resource tracking method",
    "start": "705120",
    "end": "707279"
  },
  {
    "text": "you're using an Aro CD by default I",
    "start": "707279",
    "end": "708839"
  },
  {
    "text": "think it's I think it's uh label um",
    "start": "708839",
    "end": "712959"
  },
  {
    "text": "it'll update that label so they're no",
    "start": "712959",
    "end": "714800"
  },
  {
    "text": "longer owned by that old application and",
    "start": "714800",
    "end": "716800"
  },
  {
    "text": "so you can now safely delete the old",
    "start": "716800",
    "end": "718560"
  },
  {
    "text": "application",
    "start": "718560",
    "end": "719880"
  },
  {
    "text": "but I would select the non-cascade",
    "start": "719880",
    "end": "721680"
  },
  {
    "text": "option right um so it's not going to try",
    "start": "721680",
    "end": "724040"
  },
  {
    "text": "to clean up anything",
    "start": "724040",
    "end": "725480"
  },
  {
    "text": "else uh application sets work the same",
    "start": "725480",
    "end": "729120"
  },
  {
    "text": "renaming an application set will also",
    "start": "729120",
    "end": "732440"
  },
  {
    "text": "delete the application set except",
    "start": "732440",
    "end": "734760"
  },
  {
    "text": "remember what we said earlier",
    "start": "734760",
    "end": "736440"
  },
  {
    "text": "application sets by default set",
    "start": "736440",
    "end": "739360"
  },
  {
    "text": "finalizers so if you delete an",
    "start": "739360",
    "end": "741440"
  },
  {
    "text": "application set you will automatically",
    "start": "741440",
    "end": "743880"
  },
  {
    "text": "delete all of its child applications and",
    "start": "743880",
    "end": "747760"
  },
  {
    "text": "all of their resources because remember",
    "start": "747760",
    "end": "749800"
  },
  {
    "text": "the applications are owned by the owner",
    "start": "749800",
    "end": "751199"
  },
  {
    "text": "reference and the finalizers are set on",
    "start": "751199",
    "end": "754040"
  },
  {
    "text": "all of the the resources under the",
    "start": "754040",
    "end": "756720"
  },
  {
    "text": "application by default um we do have",
    "start": "756720",
    "end": "759639"
  },
  {
    "text": "documentation that you can follow more",
    "start": "759639",
    "end": "761440"
  },
  {
    "text": "directly on the the codefresh site um",
    "start": "761440",
    "end": "764240"
  },
  {
    "text": "for how to rename application set safely",
    "start": "764240",
    "end": "767240"
  },
  {
    "text": "it's essentially the same pattern that I",
    "start": "767240",
    "end": "768880"
  },
  {
    "text": "just outlined um with a few extra steps",
    "start": "768880",
    "end": "771920"
  },
  {
    "text": "um let's look at another",
    "start": "771920",
    "end": "773320"
  },
  {
    "text": "scenario upgrading or moving Argo CD so",
    "start": "773320",
    "end": "776760"
  },
  {
    "text": "I mentioned earlier you're in the",
    "start": "776760",
    "end": "778000"
  },
  {
    "text": "process of upgrading",
    "start": "778000",
    "end": "780040"
  },
  {
    "text": "uh Argo CD and something gets stuck so",
    "start": "780040",
    "end": "782680"
  },
  {
    "text": "you delete some things and then suddenly",
    "start": "782680",
    "end": "784639"
  },
  {
    "text": "not only is Argo CD gone but all your",
    "start": "784639",
    "end": "786920"
  },
  {
    "text": "applications and all their resources are",
    "start": "786920",
    "end": "788839"
  },
  {
    "text": "gone holy crap what just happened um",
    "start": "788839",
    "end": "792800"
  },
  {
    "text": "so remember this as in a very important",
    "start": "792800",
    "end": "796600"
  },
  {
    "text": "rule don't delete recreate or Force sync",
    "start": "796600",
    "end": "802399"
  },
  {
    "text": "crds why well this is a kubernetes",
    "start": "802399",
    "end": "805639"
  },
  {
    "text": "feature if you have a crd which app",
    "start": "805639",
    "end": "809160"
  },
  {
    "text": "applications are and application sets",
    "start": "809160",
    "end": "811959"
  },
  {
    "text": "are and if you delete that that that",
    "start": "811959",
    "end": "816760"
  },
  {
    "text": "crd kubernetes will automatically delete",
    "start": "816760",
    "end": "820120"
  },
  {
    "text": "all the custom resources for that",
    "start": "820120",
    "end": "823880"
  },
  {
    "text": "crd so that means all your applications",
    "start": "823880",
    "end": "826600"
  },
  {
    "text": "now get deleted and if they're marked",
    "start": "826600",
    "end": "828399"
  },
  {
    "text": "for deletion and the finalizers are set",
    "start": "828399",
    "end": "830639"
  },
  {
    "text": "then that means all their resources get",
    "start": "830639",
    "end": "832680"
  },
  {
    "text": "deleted too right so now you have",
    "start": "832680",
    "end": "835160"
  },
  {
    "text": "downtime um now I I mentioned don't use",
    "start": "835160",
    "end": "838600"
  },
  {
    "text": "Force",
    "start": "838600",
    "end": "839759"
  },
  {
    "text": "Force is is is kind of an edge case here",
    "start": "839759",
    "end": "842199"
  },
  {
    "text": "the way that Force works is it is",
    "start": "842199",
    "end": "844600"
  },
  {
    "text": "basically the exact same as coul apply",
    "start": "844600",
    "end": "847519"
  },
  {
    "text": "Das Das force and what it will do is it",
    "start": "847519",
    "end": "849920"
  },
  {
    "text": "will try to patch and update a resource",
    "start": "849920",
    "end": "852160"
  },
  {
    "text": "five times and if it fails it will then",
    "start": "852160",
    "end": "854920"
  },
  {
    "text": "delete and recreate it so if you had a",
    "start": "854920",
    "end": "856959"
  },
  {
    "text": "scenario where your crd was being",
    "start": "856959",
    "end": "859079"
  },
  {
    "text": "upgraded and it caused some kind of",
    "start": "859079",
    "end": "862120"
  },
  {
    "text": "conflict that kubernetes didn't like it",
    "start": "862120",
    "end": "864839"
  },
  {
    "text": "didn't want to patch that resource uh",
    "start": "864839",
    "end": "867199"
  },
  {
    "text": "eventually it will delete the crd",
    "start": "867199",
    "end": "869600"
  },
  {
    "text": "triggering Mass deletion of all the",
    "start": "869600",
    "end": "871639"
  },
  {
    "text": "things uh before recreating the crd and",
    "start": "871639",
    "end": "874600"
  },
  {
    "text": "then you go into potentially a new sync",
    "start": "874600",
    "end": "876519"
  },
  {
    "text": "process but the the more scary thing",
    "start": "876519",
    "end": "879320"
  },
  {
    "text": "potentially um well actually we'll talk",
    "start": "879320",
    "end": "882160"
  },
  {
    "text": "about finalizers in a second uh so the",
    "start": "882160",
    "end": "884320"
  },
  {
    "text": "next thing is let's say we're upgrading",
    "start": "884320",
    "end": "887480"
  },
  {
    "text": "oh yeah so we're upgrading or moving",
    "start": "887480",
    "end": "888720"
  },
  {
    "text": "Argo CD so the way that you would do",
    "start": "888720",
    "end": "891839"
  },
  {
    "text": "this uh safely would be again two",
    "start": "891839",
    "end": "896000"
  },
  {
    "text": "applications can manage the same",
    "start": "896000",
    "end": "897600"
  },
  {
    "text": "resource actually two different Argo",
    "start": "897600",
    "end": "900800"
  },
  {
    "text": "instances can manage the same resource",
    "start": "900800",
    "end": "903759"
  },
  {
    "text": "so you can actually create a whole new",
    "start": "903759",
    "end": "906120"
  },
  {
    "text": "Argo CD instance potentially on a",
    "start": "906120",
    "end": "908600"
  },
  {
    "text": "different cluster and uh and then you",
    "start": "908600",
    "end": "911680"
  },
  {
    "text": "can then follow the same process you",
    "start": "911680",
    "end": "913279"
  },
  {
    "text": "disable automated sync again either a",
    "start": "913279",
    "end": "915360"
  },
  {
    "text": "sync window or updating your",
    "start": "915360",
    "end": "916519"
  },
  {
    "text": "applications to to remove automated sync",
    "start": "916519",
    "end": "919240"
  },
  {
    "text": "uh and then you create the new",
    "start": "919240",
    "end": "921040"
  },
  {
    "text": "applications pointing at the same",
    "start": "921040",
    "end": "922680"
  },
  {
    "text": "resources you sync from the new",
    "start": "922680",
    "end": "925040"
  },
  {
    "text": "applications and it changes all of The",
    "start": "925040",
    "end": "926880"
  },
  {
    "text": "annotation tracking to be the new app",
    "start": "926880",
    "end": "929360"
  },
  {
    "text": "new Argo CD and then you can safely",
    "start": "929360",
    "end": "931880"
  },
  {
    "text": "delete the old apps non- cascading and",
    "start": "931880",
    "end": "933680"
  },
  {
    "text": "you can delete the old Argo CD safely so",
    "start": "933680",
    "end": "936639"
  },
  {
    "text": "that would be the process for doing that",
    "start": "936639",
    "end": "939120"
  },
  {
    "text": "um let's talk about hand how to handle",
    "start": "939120",
    "end": "940759"
  },
  {
    "text": "the finalizers for a second so remember",
    "start": "940759",
    "end": "943639"
  },
  {
    "text": "uh resources will be deleted if a",
    "start": "943639",
    "end": "945959"
  },
  {
    "text": "finalizer REM is removed and the",
    "start": "945959",
    "end": "948959"
  },
  {
    "text": "deletion Tim stamp is set so these are",
    "start": "948959",
    "end": "953440"
  },
  {
    "text": "cascading right so if you delete uh an",
    "start": "953440",
    "end": "956680"
  },
  {
    "text": "application that has set finalized ERS",
    "start": "956680",
    "end": "959519"
  },
  {
    "text": "for its resources then the argocd",
    "start": "959519",
    "end": "962399"
  },
  {
    "text": "controller will update all of those",
    "start": "962399",
    "end": "964639"
  },
  {
    "text": "child resources to add the deletion time",
    "start": "964639",
    "end": "967360"
  },
  {
    "text": "stamp at which point once the finalizer",
    "start": "967360",
    "end": "970480"
  },
  {
    "text": "is removed kubernetes will actually do",
    "start": "970480",
    "end": "973079"
  },
  {
    "text": "the deletion so um if you have",
    "start": "973079",
    "end": "976639"
  },
  {
    "text": "situations where uh for example we were",
    "start": "976639",
    "end": "979600"
  },
  {
    "text": "talking about um if you deleted the",
    "start": "979600",
    "end": "983759"
  },
  {
    "text": "controller that's responsible for some",
    "start": "983759",
    "end": "986360"
  },
  {
    "text": "finalizers uh that's now going to be",
    "start": "986360",
    "end": "988360"
  },
  {
    "text": "stuck in deletion right so you could",
    "start": "988360",
    "end": "990639"
  },
  {
    "text": "have a scenario where you were you were",
    "start": "990639",
    "end": "992199"
  },
  {
    "text": "upgrading Argo CD and you deleted some",
    "start": "992199",
    "end": "994880"
  },
  {
    "text": "components and the some components would",
    "start": "994880",
    "end": "999360"
  },
  {
    "text": "then be stuck in deletion because they",
    "start": "999360",
    "end": "1001440"
  },
  {
    "text": "could not complete the deletion that",
    "start": "1001440",
    "end": "1004240"
  },
  {
    "text": "Argo CD was trying to accomplish because",
    "start": "1004240",
    "end": "1006399"
  },
  {
    "text": "Argo CD's controller is no longer",
    "start": "1006399",
    "end": "1008920"
  },
  {
    "text": "running right does that make sense I see",
    "start": "1008920",
    "end": "1012120"
  },
  {
    "text": "nods people get it okay good I it didn't",
    "start": "1012120",
    "end": "1015000"
  },
  {
    "text": "make sense to me but afterwards come",
    "start": "1015000",
    "end": "1016440"
  },
  {
    "text": "explain it back to me and it'll it'll be",
    "start": "1016440",
    "end": "1017800"
  },
  {
    "text": "clear okay",
    "start": "1017800",
    "end": "1019600"
  },
  {
    "text": "um the other issue is if an application",
    "start": "1019600",
    "end": "1022480"
  },
  {
    "text": "is deleted with",
    "start": "1022480",
    "end": "1024199"
  },
  {
    "text": "Cascade without an orphan policy set so",
    "start": "1024199",
    "end": "1027520"
  },
  {
    "text": "let's talk about an orphan",
    "start": "1027520",
    "end": "1029038"
  },
  {
    "text": "policy uh shortly so um let's talk about",
    "start": "1029039",
    "end": "1033520"
  },
  {
    "text": "a yeah yeah yeah yeah so you can",
    "start": "1033520",
    "end": "1036079"
  },
  {
    "text": "actually also ignore prune on",
    "start": "1036079",
    "end": "1039678"
  },
  {
    "text": "applications by editing the prune",
    "start": "1039679",
    "end": "1042720"
  },
  {
    "text": "propagation policy and sending it to",
    "start": "1042720",
    "end": "1045280"
  },
  {
    "text": "Orphan the other options are foreground",
    "start": "1045280",
    "end": "1047558"
  },
  {
    "text": "and background and the default is is",
    "start": "1047559",
    "end": "1049799"
  },
  {
    "text": "foreground um so uh if you want to",
    "start": "1049799",
    "end": "1053600"
  },
  {
    "text": "ignore prune uh if if you want to to",
    "start": "1053600",
    "end": "1056880"
  },
  {
    "text": "deal with this you change your",
    "start": "1056880",
    "end": "1058480"
  },
  {
    "text": "application propagation policy to Orphan",
    "start": "1058480",
    "end": "1061160"
  },
  {
    "text": "and that means that when the application",
    "start": "1061160",
    "end": "1062840"
  },
  {
    "text": "is deleted its resources will be left in",
    "start": "1062840",
    "end": "1065880"
  },
  {
    "text": "place um so if you're trying to protect",
    "start": "1065880",
    "end": "1068120"
  },
  {
    "text": "them that's the way to do it then you",
    "start": "1068120",
    "end": "1069720"
  },
  {
    "text": "can edit the application remove the",
    "start": "1069720",
    "end": "1072200"
  },
  {
    "text": "finalizers and then you can delete the",
    "start": "1072200",
    "end": "1074280"
  },
  {
    "text": "application non- cascading or migrate",
    "start": "1074280",
    "end": "1076320"
  },
  {
    "text": "safely depending on which which",
    "start": "1076320",
    "end": "1077600"
  },
  {
    "text": "direction you're going",
    "start": "1077600",
    "end": "1079760"
  },
  {
    "text": "um let's talk about application sets",
    "start": "1079760",
    "end": "1082080"
  },
  {
    "text": "again so this was a feature uh 17062",
    "start": "1082080",
    "end": "1086480"
  },
  {
    "text": "that was created where people were",
    "start": "1086480",
    "end": "1088880"
  },
  {
    "text": "having issues where application sets",
    "start": "1088880",
    "end": "1090600"
  },
  {
    "text": "would generate tons of applications",
    "start": "1090600",
    "end": "1092200"
  },
  {
    "text": "let's say you're using like a list",
    "start": "1092200",
    "end": "1093360"
  },
  {
    "text": "generator right and it's generating a",
    "start": "1093360",
    "end": "1095480"
  },
  {
    "text": "bunch of applications and one of those",
    "start": "1095480",
    "end": "1097880"
  },
  {
    "text": "applications fails to generate",
    "start": "1097880",
    "end": "1100360"
  },
  {
    "text": "properly uh this feature made it so that",
    "start": "1100360",
    "end": "1103880"
  },
  {
    "text": "Argo CD's uh the application controller",
    "start": "1103880",
    "end": "1106240"
  },
  {
    "text": "would actually just ignore that error",
    "start": "1106240",
    "end": "1108000"
  },
  {
    "text": "and continue to to generate applications",
    "start": "1108000",
    "end": "1110480"
  },
  {
    "text": "now it's really useful if you've got if",
    "start": "1110480",
    "end": "1111880"
  },
  {
    "text": "you've got a very large application set",
    "start": "1111880",
    "end": "1114000"
  },
  {
    "text": "and there's a resource that's not",
    "start": "1114000",
    "end": "1115880"
  },
  {
    "text": "rendering properly it's blocking you",
    "start": "1115880",
    "end": "1118240"
  },
  {
    "text": "from updating everything else so it",
    "start": "1118240",
    "end": "1120000"
  },
  {
    "text": "makes sense that you would want to",
    "start": "1120000",
    "end": "1121280"
  },
  {
    "text": "ignore that change potentially but let's",
    "start": "1121280",
    "end": "1123600"
  },
  {
    "text": "imagine another scenario let's say that",
    "start": "1123600",
    "end": "1125520"
  },
  {
    "text": "the reason that that error is being",
    "start": "1125520",
    "end": "1127559"
  },
  {
    "text": "caused is",
    "start": "1127559",
    "end": "1129880"
  },
  {
    "text": "because you can't reach",
    "start": "1129880",
    "end": "1133080"
  },
  {
    "text": "git now instead of it being one",
    "start": "1133080",
    "end": "1136080"
  },
  {
    "text": "application among 2,000 that has failed",
    "start": "1136080",
    "end": "1138120"
  },
  {
    "text": "to render",
    "start": "1138120",
    "end": "1139280"
  },
  {
    "text": "it's 2,000 applications that fail to",
    "start": "1139280",
    "end": "1141679"
  },
  {
    "text": "render what happens when they all render",
    "start": "1141679",
    "end": "1145440"
  },
  {
    "text": "back",
    "start": "1145440",
    "end": "1148080"
  },
  {
    "text": "empty well they all get deleted and the",
    "start": "1148520",
    "end": "1152360"
  },
  {
    "text": "finalizers are set automatically on",
    "start": "1152360",
    "end": "1155080"
  },
  {
    "text": "applications created by application sets",
    "start": "1155080",
    "end": "1157240"
  },
  {
    "text": "which means all their resources get",
    "start": "1157240",
    "end": "1158520"
  },
  {
    "text": "deleted so if git goes down with this",
    "start": "1158520",
    "end": "1161799"
  },
  {
    "text": "feature in place it means that all your",
    "start": "1161799",
    "end": "1164280"
  },
  {
    "text": "stuff gets deleted it's not a great",
    "start": "1164280",
    "end": "1166799"
  },
  {
    "text": "feature",
    "start": "1166799",
    "end": "1169039"
  },
  {
    "text": "uh so we actually did revert it and uh",
    "start": "1169039",
    "end": "1171840"
  },
  {
    "text": "this patch went out back in uh late",
    "start": "1171840",
    "end": "1175320"
  },
  {
    "text": "March but this was a situation where um",
    "start": "1175320",
    "end": "1179600"
  },
  {
    "text": "where there was you know well-meaning",
    "start": "1179600",
    "end": "1182000"
  },
  {
    "text": "thinking like hey I want to have more",
    "start": "1182000",
    "end": "1183600"
  },
  {
    "text": "resiliency I don't want to be blocking",
    "start": "1183600",
    "end": "1185240"
  },
  {
    "text": "changes actually led to uh a number of",
    "start": "1185240",
    "end": "1188400"
  },
  {
    "text": "people actually having resources getting",
    "start": "1188400",
    "end": "1190039"
  },
  {
    "text": "deleted um in an unexpected way uh and",
    "start": "1190039",
    "end": "1193200"
  },
  {
    "text": "this this could happen for any reason",
    "start": "1193200",
    "end": "1195159"
  },
  {
    "text": "that a a a generator fail fail fail",
    "start": "1195159",
    "end": "1198440"
  },
  {
    "text": "right so a git generator fails to reach",
    "start": "1198440",
    "end": "1200120"
  },
  {
    "text": "the git server uh maybe the application",
    "start": "1200120",
    "end": "1202919"
  },
  {
    "text": "set you know is malformed in some way",
    "start": "1202919",
    "end": "1205760"
  },
  {
    "text": "maybe the kubernetes API is taking too",
    "start": "1205760",
    "end": "1207559"
  },
  {
    "text": "long to respond to the cluster generator",
    "start": "1207559",
    "end": "1209799"
  },
  {
    "text": "whatever um that could cause a potential",
    "start": "1209799",
    "end": "1212880"
  },
  {
    "text": "wipe out of applications generated by",
    "start": "1212880",
    "end": "1214760"
  },
  {
    "text": "application sets so uh one of one of the",
    "start": "1214760",
    "end": "1218159"
  },
  {
    "text": "features that you can use is the sync",
    "start": "1218159",
    "end": "1220679"
  },
  {
    "text": "policy preserve resources on deletion",
    "start": "1220679",
    "end": "1223720"
  },
  {
    "text": "and um this this is good and bad in",
    "start": "1223720",
    "end": "1227080"
  },
  {
    "text": "different scenarios so let's say I was",
    "start": "1227080",
    "end": "1228280"
  },
  {
    "text": "using a poll request generator lukee can",
    "start": "1228280",
    "end": "1230520"
  },
  {
    "text": "tell you all about those we gave a talk",
    "start": "1230520",
    "end": "1231919"
  },
  {
    "text": "on that uh with the New York Times using",
    "start": "1231919",
    "end": "1233480"
  },
  {
    "text": "poll request generators at last arocon",
    "start": "1233480",
    "end": "1235880"
  },
  {
    "text": "um if you're using that feature and you",
    "start": "1235880",
    "end": "1238159"
  },
  {
    "text": "use preserve resources on deletion poll",
    "start": "1238159",
    "end": "1241159"
  },
  {
    "text": "request is closed automatically deletes",
    "start": "1241159",
    "end": "1244120"
  },
  {
    "text": "the applications and everything just",
    "start": "1244120",
    "end": "1245919"
  },
  {
    "text": "sits on the cluster right so you would",
    "start": "1245919",
    "end": "1248440"
  },
  {
    "text": "you probably wouldn't want to have the",
    "start": "1248440",
    "end": "1250520"
  },
  {
    "text": "pull request generator uh preserving",
    "start": "1250520",
    "end": "1253400"
  },
  {
    "text": "resources on deletion but if you're",
    "start": "1253400",
    "end": "1255320"
  },
  {
    "text": "using like application sets for",
    "start": "1255320",
    "end": "1257919"
  },
  {
    "text": "bootstrapping purposes or things like",
    "start": "1257919",
    "end": "1259880"
  },
  {
    "text": "that then um you and you know that these",
    "start": "1259880",
    "end": "1262880"
  },
  {
    "text": "resources like hey if I'm going to prune",
    "start": "1262880",
    "end": "1265000"
  },
  {
    "text": "here I'm going to do it manually because",
    "start": "1265000",
    "end": "1266679"
  },
  {
    "text": "these are really critical resources then",
    "start": "1266679",
    "end": "1269120"
  },
  {
    "text": "uh this would be a way to make sure that",
    "start": "1269120",
    "end": "1270679"
  },
  {
    "text": "those resources are going to be stuck",
    "start": "1270679",
    "end": "1272760"
  },
  {
    "text": "and sitting there and you're just going",
    "start": "1272760",
    "end": "1274440"
  },
  {
    "text": "to have to deal with them afterwards now",
    "start": "1274440",
    "end": "1275679"
  },
  {
    "text": "they're going to be orphaned but they",
    "start": "1275679",
    "end": "1277480"
  },
  {
    "text": "won't be deleted and you won't have",
    "start": "1277480",
    "end": "1278720"
  },
  {
    "text": "downtime so that's that's an that's an",
    "start": "1278720",
    "end": "1280799"
  },
  {
    "text": "option um we do also cover how to use",
    "start": "1280799",
    "end": "1284200"
  },
  {
    "text": "this uh sync policy in the level three",
    "start": "1284200",
    "end": "1287760"
  },
  {
    "text": "certification for codefresh which just",
    "start": "1287760",
    "end": "1289640"
  },
  {
    "text": "came out this week so uh it's now now",
    "start": "1289640",
    "end": "1292360"
  },
  {
    "text": "launched and available",
    "start": "1292360",
    "end": "1295559"
  },
  {
    "text": "um uh another scenario sync Windows help",
    "start": "1295559",
    "end": "1300600"
  },
  {
    "text": "with prune operations but not",
    "start": "1300600",
    "end": "1304559"
  },
  {
    "text": "delete um syn windows are awesome and",
    "start": "1304559",
    "end": "1307400"
  },
  {
    "text": "actually I think they're one of the most",
    "start": "1307400",
    "end": "1308679"
  },
  {
    "text": "underutilized features in Argo CD you",
    "start": "1308679",
    "end": "1312559"
  },
  {
    "text": "why do I need to sink in the middle of",
    "start": "1312559",
    "end": "1313960"
  },
  {
    "text": "the night right I think about it for a",
    "start": "1313960",
    "end": "1316640"
  },
  {
    "text": "second if I needed a sink in the middle",
    "start": "1316640",
    "end": "1318240"
  },
  {
    "text": "of the night I'm probably doing it",
    "start": "1318240",
    "end": "1319600"
  },
  {
    "text": "manually if there's a surprise sync in",
    "start": "1319600",
    "end": "1321919"
  },
  {
    "text": "the middle of the night am I happy about",
    "start": "1321919",
    "end": "1323720"
  },
  {
    "text": "it probably not um now that depends on",
    "start": "1323720",
    "end": "1326440"
  },
  {
    "text": "your organization obviously so tune",
    "start": "1326440",
    "end": "1328640"
  },
  {
    "text": "accordingly but most people that should",
    "start": "1328640",
    "end": "1330600"
  },
  {
    "text": "be using sync Windows probably aren't um",
    "start": "1330600",
    "end": "1333400"
  },
  {
    "text": "if somebody does a s if there's an",
    "start": "1333400",
    "end": "1335159"
  },
  {
    "text": "automated sink that happens and prune is",
    "start": "1335159",
    "end": "1338400"
  },
  {
    "text": "enabled uh well a sink window will",
    "start": "1338400",
    "end": "1340760"
  },
  {
    "text": "prevent that sink from happening in the",
    "start": "1340760",
    "end": "1342200"
  },
  {
    "text": "first place but what about if I delete",
    "start": "1342200",
    "end": "1345799"
  },
  {
    "text": "an application deletion is not sing",
    "start": "1345799",
    "end": "1348559"
  },
  {
    "text": "synchronization and so it's not applied",
    "start": "1348559",
    "end": "1351120"
  },
  {
    "text": "to it doesn't apply to uh sync windows",
    "start": "1351120",
    "end": "1354960"
  },
  {
    "text": "so if I delete an application and like",
    "start": "1354960",
    "end": "1356600"
  },
  {
    "text": "an app of apps I can if if the parent",
    "start": "1356600",
    "end": "1360600"
  },
  {
    "text": "app is prevented from updating that",
    "start": "1360600",
    "end": "1362960"
  },
  {
    "text": "child app then that's that's okay it",
    "start": "1362960",
    "end": "1366360"
  },
  {
    "text": "won't it won't delete that that resource",
    "start": "1366360",
    "end": "1368960"
  },
  {
    "text": "but if that parent app is able to sync",
    "start": "1368960",
    "end": "1372240"
  },
  {
    "text": "that application would be deleted and",
    "start": "1372240",
    "end": "1374600"
  },
  {
    "text": "everything with then what else would be",
    "start": "1374600",
    "end": "1376039"
  },
  {
    "text": "deleted but if a user went in and",
    "start": "1376039",
    "end": "1377880"
  },
  {
    "text": "manually deleted something um then of",
    "start": "1377880",
    "end": "1380400"
  },
  {
    "text": "course the sync window also doesn't",
    "start": "1380400",
    "end": "1382600"
  },
  {
    "text": "apply uh if I have actually I'm trying",
    "start": "1382600",
    "end": "1386279"
  },
  {
    "text": "to think if I have manual sync uh",
    "start": "1386279",
    "end": "1389320"
  },
  {
    "text": "disallowed maybe maybe it's maybe it's",
    "start": "1389320",
    "end": "1391200"
  },
  {
    "text": "not allowed I can't remember now uh",
    "start": "1391200",
    "end": "1393360"
  },
  {
    "text": "blame",
    "start": "1393360",
    "end": "1394520"
  },
  {
    "text": "Pasha um so that's it we covered a whole",
    "start": "1394520",
    "end": "1397760"
  },
  {
    "text": "lot of scenarios uh hopefully I I gave",
    "start": "1397760",
    "end": "1400159"
  },
  {
    "text": "you some solutions and gave you some",
    "start": "1400159",
    "end": "1402840"
  },
  {
    "text": "things to think about so you can make",
    "start": "1402840",
    "end": "1404120"
  },
  {
    "text": "sure to keep your resources safe uh",
    "start": "1404120",
    "end": "1406600"
  },
  {
    "text": "you're going to be able to find me this",
    "start": "1406600",
    "end": "1407679"
  },
  {
    "text": "week at either the Argo Booth the",
    "start": "1407679",
    "end": "1409679"
  },
  {
    "text": "octopus Booth you can find me on Twitter",
    "start": "1409679",
    "end": "1412000"
  },
  {
    "text": "at today was awesome I've been doing a",
    "start": "1412000",
    "end": "1413880"
  },
  {
    "text": "contest to see who can take a picture of",
    "start": "1413880",
    "end": "1415600"
  },
  {
    "text": "my Argo 4Runner if anybody saw that",
    "start": "1415600",
    "end": "1417840"
  },
  {
    "text": "4Runner with the Argo on it the",
    "start": "1417840",
    "end": "1419760"
  },
  {
    "text": "kubernetes on it that so if uh if you",
    "start": "1419760",
    "end": "1421919"
  },
  {
    "text": "want to win a mug you got to find a p",
    "start": "1421919",
    "end": "1423480"
  },
  {
    "text": "find it and take a picture and tag me on",
    "start": "1423480",
    "end": "1424919"
  },
  {
    "text": "it um and then you can read posh's blog",
    "start": "1424919",
    "end": "1427240"
  },
  {
    "text": "post here on codefresh doio thank you",
    "start": "1427240",
    "end": "1429000"
  },
  {
    "text": "very much",
    "start": "1429000",
    "end": "1431650"
  },
  {
    "text": "[Applause]",
    "start": "1431650",
    "end": "1435589"
  }
]