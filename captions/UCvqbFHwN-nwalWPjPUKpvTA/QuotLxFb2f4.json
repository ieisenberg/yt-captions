[
  {
    "text": "okay so um hello everybody my name is Charlie I work on the OPA team and the",
    "start": "399",
    "end": "5960"
  },
  {
    "text": "Deval team at styra uh and this is Rita hey everyone mic checked okay uh I'm",
    "start": "5960",
    "end": "12519"
  },
  {
    "text": "Rita I am a opal gatekeeper maintainer I work at Microsoft and how it's going to",
    "start": "12519",
    "end": "18359"
  },
  {
    "text": "work is I'm going to give a quick overview of opa and policy as code I'm going to go through um some updates",
    "start": "18359",
    "end": "24920"
  },
  {
    "text": "around Opa 10 and then re is going to give a quick update about some changes recent changes in the OPA gatekeeper",
    "start": "24920",
    "end": "31080"
  },
  {
    "text": "project as well so I wanted to start out by asking",
    "start": "31080",
    "end": "36920"
  },
  {
    "text": "or getting people to think about what is policy when I think about policy uh",
    "start": "36920",
    "end": "42559"
  },
  {
    "text": "policy is a way of defining allowed operations and controls uh in system behaviors so common policies that those",
    "start": "42559",
    "end": "50480"
  },
  {
    "text": "of us here today will be working with uh things like authorizing users based on organizational security requirements",
    "start": "50480",
    "end": "58239"
  },
  {
    "text": "controlling which teams are deployed what into kubernetes uh implementing API access controls data filtering cicd",
    "start": "58239",
    "end": "66400"
  },
  {
    "text": "permissions these are all things that uh I think of as policy uh anywhere that you're implementing Behavior which is uh",
    "start": "66400",
    "end": "74200"
  },
  {
    "text": "boils down to something that looks like rules that's what policy is this is an example policy here so uh we have a",
    "start": "74200",
    "end": "82119"
  },
  {
    "text": "policy here which is defining around uh permissions around deployments to production uh in an edge case where",
    "start": "82119",
    "end": "88840"
  },
  {
    "text": "there's an perhaps an an incident and we have an En call a member of the en call support team and they have permissions",
    "start": "88840",
    "end": "95960"
  },
  {
    "text": "that are different based on the time of day based on whether they're in the team and the environment that they're",
    "start": "95960",
    "end": "101399"
  },
  {
    "text": "deploying to uh so this is a policy which is easily expressed in in English",
    "start": "101399",
    "end": "107399"
  },
  {
    "text": "in natural language and um we're interested in codifying these policies",
    "start": "107399",
    "end": "113000"
  },
  {
    "text": "so what's policiy is code so rather than talking about policies and uh you know it could be",
    "start": "113000",
    "end": "120360"
  },
  {
    "text": "that that person who's on call needed to phone someone else and ask whether they could have extra permissions at the weekend to fix something in production",
    "start": "120360",
    "end": "127399"
  },
  {
    "text": "or we could have codified that policy so that uh that that permission could have been granted in an automated way and so",
    "start": "127399",
    "end": "134920"
  },
  {
    "text": "here's an example of what that policy might look like as code as you can see by default we deny the request to deploy",
    "start": "134920",
    "end": "141599"
  },
  {
    "text": "to production but if it's the weekend and support is in the user's roles and the supports user is in the list of",
    "start": "141599",
    "end": "147959"
  },
  {
    "text": "oncore users then this request would actually be allowed and when we write policers code like this uh it allows us",
    "start": "147959",
    "end": "155440"
  },
  {
    "text": "to to automate these policy checks and the idea is that when you",
    "start": "155440",
    "end": "161040"
  },
  {
    "text": "start thinking about your functionality all of the policy use cases that you have when you start thinking about them",
    "start": "161040",
    "end": "167319"
  },
  {
    "text": "as code like and codifying them in this way you can offload that policy as code",
    "start": "167319",
    "end": "173360"
  },
  {
    "text": "to Opa and I'll dig more into that in a moment but the benefit of doing this is",
    "start": "173360",
    "end": "179040"
  },
  {
    "text": "that uh developers are able to focus on uh delivering business value in their",
    "start": "179040",
    "end": "184519"
  },
  {
    "text": "applications rather than uh implementing the same sets of policy rules in different applications different",
    "start": "184519",
    "end": "190799"
  },
  {
    "text": "languages different places in the platform and you get all of the other benefits that you get from working on",
    "start": "190799",
    "end": "196400"
  },
  {
    "text": "things as code many people here will be using kubernetes or terraform other infrastructure as code tools uh so you",
    "start": "196400",
    "end": "203640"
  },
  {
    "text": "get the same the same benefits for your policy as code stack uh you get versioned um versions of your policy you",
    "start": "203640",
    "end": "210680"
  },
  {
    "text": "can roll them roll them back if they're not working as expected uh you you get code sharing benefits you can share",
    "start": "210680",
    "end": "217760"
  },
  {
    "text": "organizational policies and extend them um beyond the beyond the organizational",
    "start": "217760",
    "end": "223480"
  },
  {
    "text": "defaults and in the same way that you're familiar with collaborating on code projects um you can you can use the same",
    "start": "223480",
    "end": "231920"
  },
  {
    "text": "kinds of tools for policy as code to allow you to write automated tests and statically analyze that policy as",
    "start": "231920",
    "end": "238519"
  },
  {
    "text": "code so so what's open policy agent open policy agent is the building blocks of a",
    "start": "238519",
    "end": "243920"
  },
  {
    "text": "policy is code platform but just a a little overview about the project to begin with um it's",
    "start": "243920",
    "end": "251280"
  },
  {
    "text": "an open source general purpose policy engine it's a graduated cncf project and it's a tool set for building policiers",
    "start": "251280",
    "end": "258120"
  },
  {
    "text": "code across the stack the core um use case the core way to use Opa is to help",
    "start": "258120",
    "end": "264120"
  },
  {
    "text": "you decouple policy decision making uh and the policy life cycle management",
    "start": "264120",
    "end": "270160"
  },
  {
    "text": "updating your policies and the auditing of it auditing of the decisions that have been made uh to abstract that and",
    "start": "270160",
    "end": "276360"
  },
  {
    "text": "decouple that from uh the policy enforcement points like your applications or the tools that you're",
    "start": "276360",
    "end": "281400"
  },
  {
    "text": "using uh in order to have a standardized way to do policy",
    "start": "281400",
    "end": "287440"
  },
  {
    "text": "evaluation so the constituent parts of opa are a",
    "start": "287440",
    "end": "292639"
  },
  {
    "text": "domain specific policy language you saw a small snippet of that earlier and here's another one um a policy server",
    "start": "292639",
    "end": "300280"
  },
  {
    "text": "and which is a policy engine which is responsible for policy evaluation",
    "start": "300280",
    "end": "305520"
  },
  {
    "text": "reloading of policy and sending of decision logs audit data about the decisions that have been made and you",
    "start": "305520",
    "end": "312639"
  },
  {
    "text": "bring that together and you get Opa and so Opa Works a little bit like this you you have a request which comes",
    "start": "312639",
    "end": "319600"
  },
  {
    "text": "into some Service uh this is your policy enforcement Point uh and then it consults with Opa Opa is a policy",
    "start": "319600",
    "end": "326199"
  },
  {
    "text": "decision point and you send Jason to Opa request to Opa saying this is what's",
    "start": "326199",
    "end": "332120"
  },
  {
    "text": "happening in my system at the moment should this be allowed denied or are there any violations that I should send",
    "start": "332120",
    "end": "338520"
  },
  {
    "text": "back to the caller uh and oper does the policy evaluation based on the currently loaded policy and the currently loaded",
    "start": "338520",
    "end": "345400"
  },
  {
    "text": "data and responds back to the calling service the policy enforcement point and so this policy enforcement",
    "start": "345400",
    "end": "352759"
  },
  {
    "text": "Point could be kuties API server it could be one of your applications it could be a cicd job um it it could be",
    "start": "352759",
    "end": "359440"
  },
  {
    "text": "any any number of different places where you want to integrate with Opa and build policy functionality uh you can check",
    "start": "359440",
    "end": "365240"
  },
  {
    "text": "out the ecosystem page on the OPA website as well uh for existing Integrations we have with with other",
    "start": "365240",
    "end": "373240"
  },
  {
    "text": "tools so here's an example of um of some input uh being supplied to a policy and",
    "start": "373240",
    "end": "379840"
  },
  {
    "text": "the decision result so in this example we have a request from a user um the",
    "start": "379840",
    "end": "385560"
  },
  {
    "text": "they're the user is been made by Peter who is a developer and they're to make a put request to a different user and us",
    "start": "385560",
    "end": "393680"
  },
  {
    "text": "and this policy is only going to allow put operations when the path matches the",
    "start": "393680",
    "end": "399319"
  },
  {
    "text": "user's own name so in this case the decision from Opa would be to deny the request where allow is",
    "start": "399319",
    "end": "406280"
  },
  {
    "text": "false let's take a moment to think about um or to to cover what's going on inside",
    "start": "406280",
    "end": "411759"
  },
  {
    "text": "Opa while we're um so far we've been talking about how we work with Opa from the outside from our applications or our",
    "start": "411759",
    "end": "419560"
  },
  {
    "text": "policy enforcement points um but let's see what's going on inside Opa as well so Opa is when a decision is made when a",
    "start": "419560",
    "end": "428319"
  },
  {
    "text": "request comes in from a policy enforcement Point Opa will log those decisions to a decision log store if",
    "start": "428319",
    "end": "434400"
  },
  {
    "text": "configured and what's great about this is it allows you to for any um any um",
    "start": "434400",
    "end": "440759"
  },
  {
    "text": "decision which is made within an open policy agent instance um you can know",
    "start": "440759",
    "end": "446000"
  },
  {
    "text": "the policy version at that time uh the input that was provided and the policy",
    "start": "446000",
    "end": "451440"
  },
  {
    "text": "which was evaluated and you can see the result and what this gives you is an audit log of all of the decisions that",
    "start": "451440",
    "end": "456720"
  },
  {
    "text": "were made and it provides them in a way which can be replayed or replicated after the fact should you need to debug",
    "start": "456720",
    "end": "463759"
  },
  {
    "text": "why a policy decision was different from what you expected or what you intended at the same time as all of this",
    "start": "463759",
    "end": "470520"
  },
  {
    "text": "is going on Opa is reloading policy bundles and data bundles from any endpoints that you specified um in order",
    "start": "470520",
    "end": "478199"
  },
  {
    "text": "to make sure that Opa has the latest policy and the latest data needed to make effective policy decisions so",
    "start": "478199",
    "end": "484800"
  },
  {
    "text": "what's great about this is that you can run Opa in many different places um often people run Opa as a sidecar for",
    "start": "484800",
    "end": "490960"
  },
  {
    "text": "example next to API um instances where o Opa has been used for API authorization",
    "start": "490960",
    "end": "496840"
  },
  {
    "text": "as an example and opas those opas are rolled out as SAR as part of the",
    "start": "496840",
    "end": "502120"
  },
  {
    "text": "application's deployment but policy and data updates can be supplied to oper",
    "start": "502120",
    "end": "507159"
  },
  {
    "text": "without redeploying the application so of that we call it the bundle service API is running as well running as well",
    "start": "507159",
    "end": "513479"
  },
  {
    "text": "in the background so the open Community uh it's a Vibrant Community of users and",
    "start": "513479",
    "end": "519839"
  },
  {
    "text": "contributors from different organizations we have many Integrations um do do do check them out the chances",
    "start": "519839",
    "end": "526360"
  },
  {
    "text": "are there are existing Integrations for the tools that you're using um and uh",
    "start": "526360",
    "end": "531440"
  },
  {
    "text": "check out the ecosystem page on the website uh too just to summarize the OPA project um",
    "start": "531440",
    "end": "539519"
  },
  {
    "text": "I wanted to highlight this great example from a a talk at the collocated event at the previous coupon in Paris um this is",
    "start": "539519",
    "end": "547480"
  },
  {
    "text": "a a presentation from Bloomberg they've got a um AI platform where they're using",
    "start": "547480",
    "end": "554320"
  },
  {
    "text": "Opa for permissions they say the OPA provides us a generic way to apply policy consistently across all our",
    "start": "554320",
    "end": "560040"
  },
  {
    "text": "services and systems I think this is obviously a fantastic quote and I've included it in the presentation for that",
    "start": "560040",
    "end": "566120"
  },
  {
    "text": "reason but I think it embodies the way that we imagine Opa being used we we",
    "start": "566120",
    "end": "572760"
  },
  {
    "text": "hope that Opa can be a decision point for many different applications in a whole platform uh and so when I when",
    "start": "572760",
    "end": "578959"
  },
  {
    "text": "you're thinking about using Opa think about not just one application on one use case think about many and the value",
    "start": "578959",
    "end": "585240"
  },
  {
    "text": "that you could have from standardizing uh standardizing on that as a",
    "start": "585240",
    "end": "590399"
  },
  {
    "text": "technology so the exciting update um or the the the new news about Opa the OPA",
    "start": "590399",
    "end": "597480"
  },
  {
    "text": "project is that we're targeting to release op 10 on the 2nd of December that's the current Target date for this",
    "start": "597480",
    "end": "602920"
  },
  {
    "text": "release um this is a obviously a milestone release for the project uh and",
    "start": "602920",
    "end": "608320"
  },
  {
    "text": "will consolidate opa's functionality for years to come uh it's super exciting and",
    "start": "608320",
    "end": "614279"
  },
  {
    "text": "um it will allow us to to move forward and do new things with the project oper",
    "start": "614279",
    "end": "619680"
  },
  {
    "text": "10 will still have a backwards compatibility mode um but this will be an an opt-in for for users of opa when",
    "start": "619680",
    "end": "626800"
  },
  {
    "text": "it's running as a server um if if you're interested in this in particular um I would encourage you to come and chat to",
    "start": "626800",
    "end": "633800"
  },
  {
    "text": "me at the OPA kiosk tomorrow I'll go into a little bit of detail about it just now though for most users we're",
    "start": "633800",
    "end": "641279"
  },
  {
    "text": "encouraging uh we're encouraging most users of oper and authors of Rego policy to update their Rego to be uh to use the",
    "start": "641279",
    "end": "649000"
  },
  {
    "text": "new Rego syntax this syntax is uh more readable and designed to to make it",
    "start": "649000",
    "end": "655639"
  },
  {
    "text": "easier to to use Opa and we encourage you to update your policies if they're policies that uh you yourselves are are",
    "start": "655639",
    "end": "662720"
  },
  {
    "text": "working on and and have control over the vzer compatible mode and compatible flag",
    "start": "662720",
    "end": "669040"
  },
  {
    "text": "uh we're encouraging users to only use this if they absolute if absolutely necessary um this will allow you to run",
    "start": "669040",
    "end": "676360"
  },
  {
    "text": "vzer version Rego in a post 10 version of opa and this is uh recommended only",
    "start": "676360",
    "end": "682639"
  },
  {
    "text": "for people who are using Opa with code which is supplied potentially from external thirdparty customers uh or or",
    "start": "682639",
    "end": "690120"
  },
  {
    "text": "users who they where they don't have control over the code that's being supplied um obviously uh please do come",
    "start": "690120",
    "end": "696680"
  },
  {
    "text": "and chat to me if you're in this position uh it doesn't apply to most users but um it is an important use case",
    "start": "696680",
    "end": "702399"
  },
  {
    "text": "and that's the current Focus between now and the release uh is is on making sure this functionality is uh is working just",
    "start": "702399",
    "end": "711800"
  },
  {
    "text": "perfectly what are the main updates in Opa 10 so I mentioned about a new syntax",
    "start": "711800",
    "end": "716959"
  },
  {
    "text": "this new syntax centers around these uh these new keywords you've seen some of them in the examples I've shown already",
    "start": "716959",
    "end": "723519"
  },
  {
    "text": "um where we write things like allow if or a a rule which is a set contains so",
    "start": "723519",
    "end": "730000"
  },
  {
    "text": "these if and contain keywords in particular uh you'll start to see if you're if you're not haven't been",
    "start": "730000",
    "end": "735399"
  },
  {
    "text": "looking at modern Rego for already uh these are the two most obvious um new",
    "start": "735399",
    "end": "741880"
  },
  {
    "text": "keywords uh these will become the new default syntax as I explained but other important updates are the deprecated",
    "start": "741880",
    "end": "748360"
  },
  {
    "text": "built-in functions will no longer work and many of the strict mode checks which",
    "start": "748360",
    "end": "753959"
  },
  {
    "text": "you can currently um check for the check command um will become uh required by",
    "start": "753959",
    "end": "760560"
  },
  {
    "text": "default I'll go into those in just a moment uh here's another example showing um uh showing how how a policy can be",
    "start": "760560",
    "end": "769000"
  },
  {
    "text": "Rewritten using some of the new keywords um and you can uh you can scan",
    "start": "769000",
    "end": "775639"
  },
  {
    "text": "this QR code if you're interested in Reading in a little bit uh we've got a a page on the OPA documentation which",
    "start": "775639",
    "end": "781399"
  },
  {
    "text": "explains in detail all of the changes coming in Opa 10 the rest of my section",
    "start": "781399",
    "end": "787399"
  },
  {
    "text": "of the presentation I'm going to go through the recommended set of steps to upgrade older Rego to um Rego",
    "start": "787399",
    "end": "796759"
  },
  {
    "text": "V1 so the first thing we recommend people do is that they run over check",
    "start": "797320",
    "end": "802760"
  },
  {
    "text": "this will find any pass errors or raise any compilation errors that may be present in particularly old Rego",
    "start": "802760",
    "end": "810000"
  },
  {
    "text": "uh you can check out this uh list of opa errors which will guide you on dealing",
    "start": "810000",
    "end": "816040"
  },
  {
    "text": "with or fixing any particular errors that you may encounter when running this step uh this is your first Port of Call",
    "start": "816040",
    "end": "823360"
  },
  {
    "text": "when uh upgrading a regular codebase for Opa 10 The Next Step would be to run Opa",
    "start": "823360",
    "end": "830920"
  },
  {
    "text": "check with the strict flag as I mentioned many of the strict um check recommendations will become required in",
    "start": "830920",
    "end": "837560"
  },
  {
    "text": "Opa 10 and this is uh a good way for you to do that prior to um prior to",
    "start": "837560",
    "end": "844079"
  },
  {
    "text": "upgrading uh as I mentioned duplicate Imports unused local assignments uh are",
    "start": "844079",
    "end": "849839"
  },
  {
    "text": "no longer going to be allowed and also use of deprecated functions uh will be all flagged uh flaged by this",
    "start": "849839",
    "end": "857680"
  },
  {
    "text": "check one thing to note when running Opa check strict is that um when you fix the",
    "start": "857680",
    "end": "864399"
  },
  {
    "text": "recommendations from op strict you'll need to run op strict again uh in order to allow op Che strict to continue and",
    "start": "864399",
    "end": "872399"
  },
  {
    "text": "make the make checks on other files or later in the file because it exits early so make sure you keep running it until",
    "start": "872399",
    "end": "878600"
  },
  {
    "text": "you don't get any errors this is the if you're working with a particularly old regular code",
    "start": "878600",
    "end": "885120"
  },
  {
    "text": "base this is the um if you once you've got past this stage that's uh you've",
    "start": "885120",
    "end": "890199"
  },
  {
    "text": "done the bulk of the work uh the next the next steps are um",
    "start": "890199",
    "end": "896160"
  },
  {
    "text": "either automated or something that you can do piece by piece so Opa format right Rego V1 uh",
    "start": "896160",
    "end": "903600"
  },
  {
    "text": "that allows you to take a pre a v0 Rego file and upgrade it automatically using",
    "start": "903600",
    "end": "909639"
  },
  {
    "text": "the OPA format command uh so this is showing a before and after example of",
    "start": "909639",
    "end": "914839"
  },
  {
    "text": "what a vzer file looks like before and and then after uh using op format right",
    "start": "914839",
    "end": "921079"
  },
  {
    "text": "regular B1 using the right flag uh will write uh formatting updates to disk uh",
    "start": "921079",
    "end": "927480"
  },
  {
    "text": "so if you want to up update files in place you can do that if you're interested in previewing the results of",
    "start": "927480",
    "end": "933560"
  },
  {
    "text": "um of of what this would do you don't just don't specify the right flag uh you pass arguments uh to to specify which",
    "start": "933560",
    "end": "941000"
  },
  {
    "text": "files or directories you're interested in using this with um so yeah have a play around of it",
    "start": "941000",
    "end": "947959"
  },
  {
    "text": "beforehand uh there we go so the final step that we recommend people run is to",
    "start": "948279",
    "end": "953880"
  },
  {
    "text": "use the Regal linter this is not built into Opa but is a binary that you download",
    "start": "953880",
    "end": "959759"
  },
  {
    "text": "separately uh something that I've been working a lot on in the last year with my colleague Anders um what's uh a lot",
    "start": "959759",
    "end": "966959"
  },
  {
    "text": "of people have uh you know potentially adversarial relationships with different",
    "start": "966959",
    "end": "972560"
  },
  {
    "text": "linters that they maybe used in the past for other languages uh our hope is that",
    "start": "972560",
    "end": "977720"
  },
  {
    "text": "you won't have such a relationship with regal regal is intended to be a learning tool it's intended to help you write",
    "start": "977720",
    "end": "983560"
  },
  {
    "text": "good policy code it's intended to make sure your policies are as good as they can be if you're finding one of the",
    "start": "983560",
    "end": "989839"
  },
  {
    "text": "rules frustrating uh we would love to hear that feedback um but this is uh the",
    "start": "989839",
    "end": "995160"
  },
  {
    "text": "final step that we recommend that you take when um performing an upgrade uh to",
    "start": "995160",
    "end": "1000720"
  },
  {
    "text": "to Opa Rego V1 and what this will help you do crucially is while there are many",
    "start": "1000720",
    "end": "1007959"
  },
  {
    "text": "uh best practices encoded in the lter rules as well U many of uh bugs and um",
    "start": "1007959",
    "end": "1014720"
  },
  {
    "text": "misconceptions that people write in Rayo can actually be identified in an automated way in Regal and I think if",
    "start": "1014720",
    "end": "1022040"
  },
  {
    "text": "you're interested in opting in partially to some of that functionality uh you can",
    "start": "1022040",
    "end": "1027640"
  },
  {
    "text": "just run with the bugs section of the rules for starters uh that's I think the",
    "start": "1027640",
    "end": "1032918"
  },
  {
    "text": "most important um most important section of rules to run in order to make sure",
    "start": "1032919",
    "end": "1038199"
  },
  {
    "text": "your policy is actually doing what you expect it to uh this is particularly important if you don't have tests which",
    "start": "1038199",
    "end": "1044760"
  },
  {
    "text": "of course you should uh for your policy uh that's of course one of the main benefits of policies code is that you're",
    "start": "1044760",
    "end": "1051400"
  },
  {
    "text": "able to do automated tests on it uh so anyway make sure you run Regal Lind as",
    "start": "1051400",
    "end": "1056880"
  },
  {
    "text": "well there are lots of uh other benefits that you gain from from doing",
    "start": "1056880",
    "end": "1062400"
  },
  {
    "text": "so the other thing I would just briefly highlight is a uh we have a language server uh built into Regal as well uh",
    "start": "1062400",
    "end": "1069919"
  },
  {
    "text": "this is useful and easy to run from various editors we have first class support for vs code increasingly good",
    "start": "1069919",
    "end": "1077039"
  },
  {
    "text": "support for neovim um and we're we're working on the jet brain suite at the moment so yeah do do try that out we",
    "start": "1077039",
    "end": "1085159"
  },
  {
    "text": "have like live evaluation and debugging functionality built in based on the language server protocol language server",
    "start": "1085159",
    "end": "1092360"
  },
  {
    "text": "protocol and the debug adapter protocol for Microsoft um so uh they've been",
    "start": "1092360",
    "end": "1097640"
  },
  {
    "text": "really helpful and productive for building out a great Rego great Rego developer experience and so yeah I would",
    "start": "1097640",
    "end": "1104919"
  },
  {
    "text": "i' would really encourage you to to try that out too so if you're going through this process",
    "start": "1104919",
    "end": "1111720"
  },
  {
    "text": "and you find that you get stuck um you wouldn't be the first one and uh we do a",
    "start": "1111720",
    "end": "1117400"
  },
  {
    "text": "lot of support in the OPA slack we have our own slack it's not the cncf slack uh that's the QR code that's on the screen",
    "start": "1117400",
    "end": "1123520"
  },
  {
    "text": "just now um we just going to talk shortly about gatekeeper there's a separate channel for gatekeeper related",
    "start": "1123520",
    "end": "1129799"
  },
  {
    "text": "queries but uh feel free to post in if you're not sure feel free to post in the general help Channel and um myself and",
    "start": "1129799",
    "end": "1137159"
  },
  {
    "text": "and others associated with the projects a lot of time there and uh are always interested to help with trying to make",
    "start": "1137159",
    "end": "1142919"
  },
  {
    "text": "sure your ray goes as good as it can be if you're not a slack person or your",
    "start": "1142919",
    "end": "1148039"
  },
  {
    "text": "company doesn't allow access to slack hopefully they allow access to GitHub we have GitHub discussions as well for open",
    "start": "1148039",
    "end": "1153880"
  },
  {
    "text": "policy agent similarly there is a gatekeeper section on there um but uh yeah we we do spend time looking at",
    "start": "1153880",
    "end": "1160080"
  },
  {
    "text": "those and responding there as well uh if you find an issue or a bug um",
    "start": "1160080",
    "end": "1165760"
  },
  {
    "text": "it it does happen um so please be ready to file issues we always love to see a",
    "start": "1165760",
    "end": "1171559"
  },
  {
    "text": "well- wrd issue that's easy to replicate and containing all the information we need to fix the issue so uh please do",
    "start": "1171559",
    "end": "1178039"
  },
  {
    "text": "that too the QR code at the bottom left that's a linked to a Blog which my",
    "start": "1178039",
    "end": "1183760"
  },
  {
    "text": "colleague wrote which outlines the process that I've described around upgrading an old Rego codebase in more",
    "start": "1183760",
    "end": "1189720"
  },
  {
    "text": "detail um you're encouraged to read that as well so I'm now going to hand over to",
    "start": "1189720",
    "end": "1196240"
  },
  {
    "text": "RTO who's going to give a few updates about what's going on at the gatekeeper project um and then we'll have some time",
    "start": "1196240",
    "end": "1201799"
  },
  {
    "text": "for questions after that thank you all right uh so uh gatekeeper the",
    "start": "1201799",
    "end": "1210280"
  },
  {
    "text": "gatekeeper is the uh Opa integration into with kubernetes uh and as Charlie",
    "start": "1210280",
    "end": "1217640"
  },
  {
    "text": "mentioned uh within gatekeeper there is an open engine and that is being used to",
    "start": "1217640",
    "end": "1223080"
  },
  {
    "text": "evaluate the policies that you write as regos uh and then here is the a quick",
    "start": "1223080",
    "end": "1228159"
  },
  {
    "text": "URL uh with all the uh docs and also points to the GitHub",
    "start": "1228159",
    "end": "1233640"
  },
  {
    "text": "repo uh so yeah so it's an emission web hook that you can install in your",
    "start": "1233640",
    "end": "1239120"
  },
  {
    "text": "kubernetes uh cluster and you can then write your policies as code uh and they",
    "start": "1239120",
    "end": "1245840"
  },
  {
    "text": "start appearing on your clusters as crds uh and then the uh admission web hook",
    "start": "1245840",
    "end": "1251080"
  },
  {
    "text": "will basically start to uh audit and block or deny or um warn uh uh",
    "start": "1251080",
    "end": "1259400"
  },
  {
    "text": "evaluate their the your requests based on the policies that you have deployed to the",
    "start": "1259400",
    "end": "1264520"
  },
  {
    "text": "cluster and um gatekeeper is an open source project maintained by many",
    "start": "1264520",
    "end": "1270000"
  },
  {
    "text": "companies uh and it is also a offered as manage Solutions on multiple",
    "start": "1270000",
    "end": "1277000"
  },
  {
    "text": "clouds uh so since this is also a deep dive I apologize if you haven't used gatekeeper at all um but I'm going to",
    "start": "1277000",
    "end": "1284880"
  },
  {
    "text": "kind of talk about some of the new features that are coming uh in 317 which was released few months ago and also 318",
    "start": "1284880",
    "end": "1292880"
  },
  {
    "text": "which we will be releasing uh end of this month uh so on top of uh Opa gate Opa",
    "start": "1292880",
    "end": "1300279"
  },
  {
    "text": "which is the OPA engine that allows you to write uh Rego uh as policies uh we",
    "start": "1300279",
    "end": "1306000"
  },
  {
    "text": "now also offer uh another engine which is the cell engine so for those of you who uh follow kubernetes very closely",
    "start": "1306000",
    "end": "1313559"
  },
  {
    "text": "you probably have heard uh of validating emission policy uh and behind the is",
    "start": "1313559",
    "end": "1319120"
  },
  {
    "text": "basically a cell engine uh uh it's com it's called common expression language",
    "start": "1319120",
    "end": "1324960"
  },
  {
    "text": "um basically allows you to write uh your policy with that particular language um",
    "start": "1324960",
    "end": "1330919"
  },
  {
    "text": "and the reason we added this support is to give users the ability to write in multiple languages depending on their",
    "start": "1330919",
    "end": "1337360"
  },
  {
    "text": "use cases um specifically for um say you have clusters that don't have that that",
    "start": "1337360",
    "end": "1343600"
  },
  {
    "text": "are on later versions uh sorry earlier versions of kubernetes that doesn't have uh the VAP feature enabled yet um with",
    "start": "1343600",
    "end": "1351320"
  },
  {
    "text": "gatekeeper you can actually write those cell policies uh and allow you to actually test them in your cluster um uh",
    "start": "1351320",
    "end": "1359039"
  },
  {
    "text": "as the web Hook is evaluating those requests and you can also use the same policy and tested in your code as part",
    "start": "1359039",
    "end": "1366279"
  },
  {
    "text": "of your cicd pipeline um so yeah so the cell support cell engine support is actually",
    "start": "1366279",
    "end": "1372720"
  },
  {
    "text": "graduated to Beta and it's enabled by default uh and then also we have another",
    "start": "1372720",
    "end": "1378919"
  },
  {
    "text": "feature that also allows uh gatekeeper to basically act as a front end um that",
    "start": "1378919",
    "end": "1384760"
  },
  {
    "text": "allows your users to write both Rego policies as well as cell policies um and",
    "start": "1384760",
    "end": "1390400"
  },
  {
    "text": "actually generates VAP um uh cuetes resources on behalf of the user so what",
    "start": "1390400",
    "end": "1396720"
  },
  {
    "text": "that buys you essentially is um think of the VAP uh emission controller will",
    "start": "1396720",
    "end": "1402039"
  },
  {
    "text": "basically could evaluate your request uh as part of the API server right and that",
    "start": "1402039",
    "end": "1408159"
  },
  {
    "text": "actually reduces an extra hop uh that needs to go to the the gatekeeper web hook um but behind the scenes uh the",
    "start": "1408159",
    "end": "1416559"
  },
  {
    "text": "gatekeeper W Hook is still there and it can actually catch uh if there's a failure with the uh VAP uh policy the",
    "start": "1416559",
    "end": "1423520"
  },
  {
    "text": "VAP engine gatekeeper we hook will act as a sort of a um pass through or f a",
    "start": "1423520",
    "end": "1430960"
  },
  {
    "text": "second option in case the the VAP uh control uh um emission controller fails",
    "start": "1430960",
    "end": "1438000"
  },
  {
    "text": "um so so with both of these uh options you can actually manage your policies",
    "start": "1438000",
    "end": "1444039"
  },
  {
    "text": "with gatekeeper um but essentially use uh API server for your emission uh",
    "start": "1444039",
    "end": "1451640"
  },
  {
    "text": "validation uh and then uh we also introduce another feature um that allows",
    "start": "1451640",
    "end": "1456760"
  },
  {
    "text": "users to specify for this particular policy where do I want to apply a",
    "start": "1456760",
    "end": "1463360"
  },
  {
    "text": "specific enforcement action we got we got this request a lot on GitHub uh with",
    "start": "1463360",
    "end": "1468399"
  },
  {
    "text": "which basically says Hey U for this particular policy I may only want to audit but I don't want it to be part of",
    "start": "1468399",
    "end": "1474960"
  },
  {
    "text": "the validation process or vice versa right so now you can actually uh specify",
    "start": "1474960",
    "end": "1480080"
  },
  {
    "text": "which enforcement action you want to uh you want that particular policy to run on uh and last but not least we also",
    "start": "1480080",
    "end": "1487640"
  },
  {
    "text": "added um validating connect operations um so then users can actually write rules uh for against that particular",
    "start": "1487640",
    "end": "1495200"
  },
  {
    "text": "operations for example uh cctl EXA is an an operation that uses the connect",
    "start": "1495200",
    "end": "1503720"
  },
  {
    "text": "operation uh so here's an example of how you can use uh the the new in uh scoped",
    "start": "1503720",
    "end": "1510960"
  },
  {
    "text": "enforcement Point feature as you can see traditionally um it just says like enforcement action either it's um deny",
    "start": "1510960",
    "end": "1518399"
  },
  {
    "text": "or warn uh that uh applies the enforcement uh action for that",
    "start": "1518399",
    "end": "1523520"
  },
  {
    "text": "particular policy now you can actually say hey I actually want a scope scoped",
    "start": "1523520",
    "end": "1528600"
  },
  {
    "text": "enforcement action and go ahead and uh the action is deny and go ahead and make",
    "start": "1528600",
    "end": "1534279"
  },
  {
    "text": "sure it's denied for both uh VAP the again the the entry VAP as well as Gator",
    "start": "1534279",
    "end": "1541880"
  },
  {
    "text": "which is our CLI for cicd where you can basically again run the same policy",
    "start": "1541880",
    "end": "1547440"
  },
  {
    "text": "within your cicd pipeline and when you actually deploy something on the cluster and and last but not least is",
    "start": "1547440",
    "end": "1554919"
  },
  {
    "text": "the audit enforcement action whereby uh the audit would basically scan the whole cluster and uh and identify all the",
    "start": "1554919",
    "end": "1563559"
  },
  {
    "text": "violations that are actually running in the cluster uh and then uh as I mentioned",
    "start": "1563559",
    "end": "1569520"
  },
  {
    "text": "earlier generating VAP is a uh feature that we are uh we are we introduced in",
    "start": "1569520",
    "end": "1577200"
  },
  {
    "text": "317 and in order to use this um all you have to do is add generate VAP to true",
    "start": "1577200",
    "end": "1583120"
  },
  {
    "text": "in your uh constraint template which is where you actually write the particular policy",
    "start": "1583120",
    "end": "1588799"
  },
  {
    "text": "and in this case as you can see it's there are all cell Expressions uh and next this is um a",
    "start": "1588799",
    "end": "1597760"
  },
  {
    "text": "nice little demo that we've created you can uh take a picture of the QR code and check it out it basically kind of talks",
    "start": "1597760",
    "end": "1605480"
  },
  {
    "text": "about how you can specify different enforcement actions uh and coming in 318 uh Pro I",
    "start": "1605480",
    "end": "1614520"
  },
  {
    "text": "think at the end of this month uh again the cell engine is is actually going GA",
    "start": "1614520",
    "end": "1620000"
  },
  {
    "text": "um uh in 318 uh and we actually added a weight uh in uh for generating VAP",
    "start": "1620000",
    "end": "1627320"
  },
  {
    "text": "binding resources uh and also for those of you who use um um the the sync",
    "start": "1627320",
    "end": "1634840"
  },
  {
    "text": "feature which allows you to have referential policies whereby you can say hey do I have a unique Ingress in the in",
    "start": "1634840",
    "end": "1642200"
  },
  {
    "text": "the ensure all my ingresses in the cluster are unique and in order in order to do that you have to S certain",
    "start": "1642200",
    "end": "1647799"
  },
  {
    "text": "resources uh into the OPA uh engine right uh the",
    "start": "1647799",
    "end": "1652840"
  },
  {
    "text": "OPA cache so in this case Gator the CLI now adds a support for you to test does",
    "start": "1652840",
    "end": "1659320"
  },
  {
    "text": "your policy actually uh add a sync uh label to ensure that um certain",
    "start": "1659320",
    "end": "1666360"
  },
  {
    "text": "resources are synchronized and replicated into the OPA cache and we also have data verify now",
    "start": "1666360",
    "end": "1674480"
  },
  {
    "text": "um supporting expansion template expansion templates again basically allows you to write policies that say",
    "start": "1674480",
    "end": "1681880"
  },
  {
    "text": "you want to block certain deployments um with pots that have say uh containers",
    "start": "1681880",
    "end": "1688480"
  },
  {
    "text": "run with elevated privilege in the past you would only get blocked uh events on",
    "start": "1688480",
    "end": "1693880"
  },
  {
    "text": "the pot but with the expansion template now the block can actually happen on the deployment resource so again uh with",
    "start": "1693880",
    "end": "1700480"
  },
  {
    "text": "Gator verify you can actually uh in your cicd it would actually tell you hey this",
    "start": "1700480",
    "end": "1705799"
  },
  {
    "text": "deployment actually has uh pods that are are violating your policies uh and we also recently added",
    "start": "1705799",
    "end": "1712799"
  },
  {
    "text": "operation equal to generate which uh allows us to isolate um and ensure that",
    "start": "1712799",
    "end": "1718600"
  },
  {
    "text": "all the processes that gatekeeper has for generating crds and vaps are",
    "start": "1718600",
    "end": "1723760"
  },
  {
    "text": "actually all coming from a single pod uh and and this is again to ensure that all",
    "start": "1723760",
    "end": "1730039"
  },
  {
    "text": "the resources that we generate are coming from one source of Truth uh and last but not least we added some status",
    "start": "1730039",
    "end": "1737200"
  },
  {
    "text": "error reporting to the config resource uh if you happen to use a gatekeeper",
    "start": "1737200",
    "end": "1742480"
  },
  {
    "text": "config resource uh and here is uh again another example of how you can leverage",
    "start": "1742480",
    "end": "1748480"
  },
  {
    "text": "the expansion um template and here as you can see I have a configuration that says",
    "start": "1748480",
    "end": "1754080"
  },
  {
    "text": "hey in my um my test Suite my gator test Suite here's my expansion uh resource",
    "start": "1754080",
    "end": "1761000"
  },
  {
    "text": "that tells uh gatekeeper for a particular deployment go ahead and",
    "start": "1761000",
    "end": "1766519"
  },
  {
    "text": "invalidate these res resources IE pod uh resources and validate those resources",
    "start": "1766519",
    "end": "1773159"
  },
  {
    "text": "and now with this you can um your cicd can test this and here's a a demo that",
    "start": "1773159",
    "end": "1780240"
  },
  {
    "text": "demonstrates how you can uh oh sorry this is actually a link to the",
    "start": "1780240",
    "end": "1785440"
  },
  {
    "text": "gatekeeper Library um that has a lot of the same policies but written with cell",
    "start": "1785440",
    "end": "1791200"
  },
  {
    "text": "uh cell rules and that is all for today thanks",
    "start": "1791200",
    "end": "1800039"
  },
  {
    "text": "um thank you so yeah like uh we we've got a tiny",
    "start": "1800440",
    "end": "1805559"
  },
  {
    "text": "bit of time some questions um you know if it's Opa related I can have a good answering gatekeeper related it's great",
    "start": "1805559",
    "end": "1812720"
  },
  {
    "text": "to have Rita here to to help with that as well um well if you're not asking questions uh please do leave feedback",
    "start": "1812720",
    "end": "1819159"
  },
  {
    "text": "about the session uh we get given these um these time time to talk about Opa",
    "start": "1819159",
    "end": "1825159"
  },
  {
    "text": "each coupon and just ke to make sure that uh we were're delivering the right",
    "start": "1825159",
    "end": "1830399"
  },
  {
    "text": "content what what use cases are you interested in how deep do you want to go is is the overview useful like we've",
    "start": "1830399",
    "end": "1838320"
  },
  {
    "text": "spoken to a lot of people at the kiosk and opa's everywhere It's featured in lots of other talks so yeah just Keen to",
    "start": "1838320",
    "end": "1844279"
  },
  {
    "text": "make sure we're getting the level right uh the content right the use cases right so yeah do scan the QR code for feedback",
    "start": "1844279",
    "end": "1850960"
  },
  {
    "text": "um and uh and make sure just to leave any any recommendations there if you're not asking questions uh the the other QR",
    "start": "1850960",
    "end": "1857440"
  },
  {
    "text": "code is just to access the slides so yeah any questions now uh far",
    "start": "1857440",
    "end": "1865080"
  },
  {
    "text": "away hello thank you for the great talk regarding the Telemetry there are some",
    "start": "1865559",
    "end": "1871720"
  },
  {
    "text": "third party solution available to scrape the OPA metrics and gatekeeper metrics as such I believe is there any plan to",
    "start": "1871720",
    "end": "1878600"
  },
  {
    "text": "make these metrics natively available and exported so we can integrate with Prometheus and other tooling um I missed",
    "start": "1878600",
    "end": "1886240"
  },
  {
    "text": "I missed part of that is it is the question about um scraping of of metrics",
    "start": "1886240",
    "end": "1891919"
  },
  {
    "text": "of add supplemental functionality in in the metrics that open gatekeeper Expos",
    "start": "1891919",
    "end": "1897240"
  },
  {
    "text": "yeah for example if we are leveraging gatekeeper and then we review the violation and we describe the violation",
    "start": "1897240",
    "end": "1904240"
  },
  {
    "text": "in the in the describe section we can see down at the bottom the list of all the violations but we want to make them",
    "start": "1904240",
    "end": "1910240"
  },
  {
    "text": "more meaningful and actionable right instead of having to like do logging and",
    "start": "1910240",
    "end": "1915519"
  },
  {
    "text": "scraping the logging and creating report so expose them as metrics yeah I can answer that um so so yeah so gatekeeper",
    "start": "1915519",
    "end": "1923360"
  },
  {
    "text": "has metrics um and I that is one ask that we get a lot um to ensure like the",
    "start": "1923360",
    "end": "1930399"
  },
  {
    "text": "violation details are part of the metrics um the reason we don't do that is actually for privacy reasons um so uh",
    "start": "1930399",
    "end": "1937760"
  },
  {
    "text": "I think if your goal is to get the violation somehow we also um have a feature called Pub sub feature where you",
    "start": "1937760",
    "end": "1944240"
  },
  {
    "text": "can have uh Pub sub set up to subscribe to the the violations and obviously out",
    "start": "1944240",
    "end": "1950080"
  },
  {
    "text": "of the box you get the violations as part of the constraint status so each constraint in this case is a policy",
    "start": "1950080",
    "end": "1956799"
  },
  {
    "text": "right so in the policy crds there are status and they they will have all the",
    "start": "1956799",
    "end": "1962000"
  },
  {
    "text": "violations in there I know that's not the same as metrics but there's a reason we didn't want to expose um private",
    "start": "1962000",
    "end": "1968360"
  },
  {
    "text": "information as part of metrics G thank you and followup is uh",
    "start": "1968360",
    "end": "1974279"
  },
  {
    "text": "maybe we can uh expand the library with some more examples of complicated use",
    "start": "1974279",
    "end": "1979360"
  },
  {
    "text": "cases like let's say we want to inspect the workload and want to make sure like every deployment should have a unique",
    "start": "1979360",
    "end": "1985880"
  },
  {
    "text": "for description budget it should not be missing or overlapping or misconfigured like someone specifies a Max and",
    "start": "1985880",
    "end": "1993320"
  },
  {
    "text": "available in terms of percentages kubernetes rounds it up and that it results into no disruption available at",
    "start": "1993320",
    "end": "2001080"
  },
  {
    "text": "all and all of these features how do we um like make some examples on the",
    "start": "2001080",
    "end": "2006880"
  },
  {
    "text": "library and expand that to uh some common use cases and um I have a",
    "start": "2006880",
    "end": "2013639"
  },
  {
    "text": "followup right uh so a gatekeeper library is a completely community-driven",
    "start": "2013639",
    "end": "2019919"
  },
  {
    "text": "um library right and um for example we have po security policies uh all in",
    "start": "2019919",
    "end": "2026880"
  },
  {
    "text": "there um so PSA right uh there's a mapped PSA for in the gayer library for",
    "start": "2026880",
    "end": "2034200"
  },
  {
    "text": "all of those as both serve as examples but also some of them some of them are pretty complicated um so I would",
    "start": "2034200",
    "end": "2041200"
  },
  {
    "text": "definitely ask that you check them out and let us know if there are specific um",
    "start": "2041200",
    "end": "2047200"
  },
  {
    "text": "use cases maybe you're not sure how to write we can definitely help um but also in general it's a very um Community",
    "start": "2047200",
    "end": "2054200"
  },
  {
    "text": "Driven and a lot of times when people needed something they just go ahead and actually write it and push a PR um and",
    "start": "2054200",
    "end": "2060480"
  },
  {
    "text": "definitely uh your contribution is welcome got it um one last question any quick compare and contrast between using",
    "start": "2060480",
    "end": "2067079"
  },
  {
    "text": "Rego gek keeper of our K kerno or some other um available",
    "start": "2067079",
    "end": "2073158"
  },
  {
    "text": "ones yeah I mean I've got some recommendations on that I suppose uh",
    "start": "2073159",
    "end": "2078358"
  },
  {
    "text": "we're out of time but uh perhaps we could come back to the OPA kiosk and we could talk about it tomorrow I think",
    "start": "2078359",
    "end": "2084919"
  },
  {
    "text": "it's open from 10: or 10:30 until 2: um I'll be there and we can also chat",
    "start": "2084919",
    "end": "2090839"
  },
  {
    "text": "quickly here as well thank you yeah we'll we'll stand around outside the room uh and answer any questions folk",
    "start": "2090839",
    "end": "2096800"
  },
  {
    "text": "have got yeah um thanks everybody thank you",
    "start": "2096800",
    "end": "2103119"
  }
]