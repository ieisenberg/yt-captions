[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "hi everyone my name is matt shalart and",
    "start": "0",
    "end": "2240"
  },
  {
    "text": "today i'm here to talk to you about",
    "start": "2240",
    "end": "4240"
  },
  {
    "text": "using local persistent volumes in",
    "start": "4240",
    "end": "5920"
  },
  {
    "text": "production this talk is kind of supposed",
    "start": "5920",
    "end": "8240"
  },
  {
    "text": "to be everything i wish i knew about",
    "start": "8240",
    "end": "10080"
  },
  {
    "text": "local volumes when getting started with",
    "start": "10080",
    "end": "11840"
  },
  {
    "text": "them",
    "start": "11840",
    "end": "12320"
  },
  {
    "text": "i found that there's a lot of great",
    "start": "12320",
    "end": "14000"
  },
  {
    "text": "information out there about",
    "start": "14000",
    "end": "15360"
  },
  {
    "text": "local volumes but it's kind of spread",
    "start": "15360",
    "end": "17199"
  },
  {
    "text": "throughout various places such as the",
    "start": "17199",
    "end": "18880"
  },
  {
    "text": "kubernetes docs",
    "start": "18880",
    "end": "20720"
  },
  {
    "text": "blog posts or external repos and so i'm",
    "start": "20720",
    "end": "23359"
  },
  {
    "text": "hoping that this can kind of be a",
    "start": "23359",
    "end": "24720"
  },
  {
    "text": "helpful",
    "start": "24720",
    "end": "25359"
  },
  {
    "text": "holistic overview a little bit about",
    "start": "25359",
    "end": "28400"
  },
  {
    "text": "myself",
    "start": "28400",
    "end": "29199"
  },
  {
    "text": "i'm an infrastructure engineer at",
    "start": "29199",
    "end": "30800"
  },
  {
    "text": "chronosphere chronosphere is a hosted",
    "start": "30800",
    "end": "33360"
  },
  {
    "text": "metrics and monitoring",
    "start": "33360",
    "end": "34640"
  },
  {
    "text": "platform particularly built for",
    "start": "34640",
    "end": "37280"
  },
  {
    "text": "large-scale high-throughput use cases so",
    "start": "37280",
    "end": "39520"
  },
  {
    "text": "you can imagine",
    "start": "39520",
    "end": "40480"
  },
  {
    "text": "that we care a lot about disk",
    "start": "40480",
    "end": "41840"
  },
  {
    "text": "performance performance cost trade-offs",
    "start": "41840",
    "end": "44399"
  },
  {
    "text": "and similar that we'll talk about later",
    "start": "44399",
    "end": "46879"
  },
  {
    "text": "chronosphere is built on top of m3 which",
    "start": "46879",
    "end": "49120"
  },
  {
    "text": "is an open source metrics and",
    "start": "49120",
    "end": "51280"
  },
  {
    "text": "monitoring platform that we are also",
    "start": "51280",
    "end": "53440"
  },
  {
    "text": "maintainers of",
    "start": "53440",
    "end": "54800"
  },
  {
    "text": "and before working at chronosphere i was",
    "start": "54800",
    "end": "57280"
  },
  {
    "text": "an sre",
    "start": "57280",
    "end": "58000"
  },
  {
    "text": "at uber where i worked on the in-house",
    "start": "58000",
    "end": "59760"
  },
  {
    "text": "metrics team there",
    "start": "59760",
    "end": "62320"
  },
  {
    "text": "so let's jump right into it what are",
    "start": "62320",
    "end": "63840"
  },
  {
    "text": "local persistent volumes",
    "start": "63840",
    "end": "65920"
  },
  {
    "text": "local persistent volumes are a feature",
    "start": "65920",
    "end": "67760"
  },
  {
    "text": "of kubernetes that combine",
    "start": "67760",
    "end": "69520"
  },
  {
    "text": "two potentially familiar topics and",
    "start": "69520",
    "end": "71760"
  },
  {
    "text": "they're both kind of right there in the",
    "start": "71760",
    "end": "73119"
  },
  {
    "text": "name",
    "start": "73119",
    "end": "74640"
  },
  {
    "text": "the local part of local persistent",
    "start": "74640",
    "end": "76640"
  },
  {
    "text": "volumes refers to local disks",
    "start": "76640",
    "end": "80720"
  },
  {
    "start": "80000",
    "end": "80000"
  },
  {
    "text": "local disks are something that are",
    "start": "80720",
    "end": "82560"
  },
  {
    "text": "offered in some form or another",
    "start": "82560",
    "end": "84720"
  },
  {
    "text": "on most major cloud providers",
    "start": "84720",
    "end": "88240"
  },
  {
    "text": "the general idea is that they are fast",
    "start": "88240",
    "end": "90560"
  },
  {
    "text": "disks that are attached directly",
    "start": "90560",
    "end": "92880"
  },
  {
    "text": "to the host the server hosting your",
    "start": "92880",
    "end": "96159"
  },
  {
    "text": "virtual machine",
    "start": "96159",
    "end": "97680"
  },
  {
    "text": "this is in comparison to typical remote",
    "start": "97680",
    "end": "100240"
  },
  {
    "text": "storage offerings which are",
    "start": "100240",
    "end": "102079"
  },
  {
    "text": "usually offered as a service they go out",
    "start": "102079",
    "end": "104000"
  },
  {
    "text": "over the network",
    "start": "104000",
    "end": "105680"
  },
  {
    "text": "in this case since local disks are",
    "start": "105680",
    "end": "108240"
  },
  {
    "text": "directly attached to the node",
    "start": "108240",
    "end": "110320"
  },
  {
    "text": "you get significantly better performance",
    "start": "110320",
    "end": "113040"
  },
  {
    "text": "and as well as more",
    "start": "113040",
    "end": "114000"
  },
  {
    "text": "consistent performance so the tail",
    "start": "114000",
    "end": "116240"
  },
  {
    "text": "latencies you observe will be more",
    "start": "116240",
    "end": "118000"
  },
  {
    "text": "predictable",
    "start": "118000",
    "end": "118960"
  },
  {
    "text": "than with something like remote disks",
    "start": "118960",
    "end": "120799"
  },
  {
    "text": "that have to go out over the network",
    "start": "120799",
    "end": "123360"
  },
  {
    "text": "however since local disks are attached",
    "start": "123360",
    "end": "125759"
  },
  {
    "text": "directly to the node",
    "start": "125759",
    "end": "127119"
  },
  {
    "text": "the data only persists for the lifetime",
    "start": "127119",
    "end": "129679"
  },
  {
    "text": "of the instance",
    "start": "129679",
    "end": "130879"
  },
  {
    "text": "so this means that if your instance is",
    "start": "130879",
    "end": "133920"
  },
  {
    "text": "terminated or there's some sort of host",
    "start": "133920",
    "end": "136160"
  },
  {
    "text": "maintenance",
    "start": "136160",
    "end": "137360"
  },
  {
    "text": "you may you might lose all the data on",
    "start": "137360",
    "end": "139599"
  },
  {
    "text": "that local disk",
    "start": "139599",
    "end": "142480"
  },
  {
    "text": "however although there's this downside",
    "start": "142480",
    "end": "144720"
  },
  {
    "text": "of the data only persisting for the",
    "start": "144720",
    "end": "146879"
  },
  {
    "text": "lifetime of the instance",
    "start": "146879",
    "end": "148640"
  },
  {
    "text": "the benefit is that because the disks",
    "start": "148640",
    "end": "150560"
  },
  {
    "text": "are attached directly to the host you",
    "start": "150560",
    "end": "152319"
  },
  {
    "text": "get this significantly better",
    "start": "152319",
    "end": "153920"
  },
  {
    "text": "performance",
    "start": "153920",
    "end": "154720"
  },
  {
    "text": "and at a reduced cost and we'll take a",
    "start": "154720",
    "end": "157840"
  },
  {
    "text": "look at",
    "start": "157840",
    "end": "158560"
  },
  {
    "text": "kind of what exactly that performance",
    "start": "158560",
    "end": "160879"
  },
  {
    "text": "and cost differences are",
    "start": "160879",
    "end": "163200"
  },
  {
    "text": "but because of all of this local disks",
    "start": "163200",
    "end": "165440"
  },
  {
    "text": "are better suited for",
    "start": "165440",
    "end": "166879"
  },
  {
    "text": "kind of a narrower range of use cases",
    "start": "166879",
    "end": "168959"
  },
  {
    "text": "than the more general",
    "start": "168959",
    "end": "170560"
  },
  {
    "text": "remote disks and we'll also discuss that",
    "start": "170560",
    "end": "172640"
  },
  {
    "text": "in more detail",
    "start": "172640",
    "end": "173599"
  },
  {
    "text": "but first let's just take a look how",
    "start": "173599",
    "end": "175360"
  },
  {
    "text": "much better is the performance that",
    "start": "175360",
    "end": "176879"
  },
  {
    "text": "we're talking about",
    "start": "176879",
    "end": "179200"
  },
  {
    "start": "178000",
    "end": "178000"
  },
  {
    "text": "so these numbers examine gcp's local",
    "start": "179200",
    "end": "181920"
  },
  {
    "text": "ssds op",
    "start": "181920",
    "end": "182959"
  },
  {
    "text": "less local ssd offerings since they",
    "start": "182959",
    "end": "185920"
  },
  {
    "text": "publish their numbers pretty clearly and",
    "start": "185920",
    "end": "187680"
  },
  {
    "text": "it's easy to take a look at them",
    "start": "187680",
    "end": "189680"
  },
  {
    "text": "aws and azure both have similar",
    "start": "189680",
    "end": "193040"
  },
  {
    "text": "if not better relative performance and",
    "start": "193040",
    "end": "195280"
  },
  {
    "text": "cost numbers that we're talking about",
    "start": "195280",
    "end": "196720"
  },
  {
    "text": "here so",
    "start": "196720",
    "end": "198159"
  },
  {
    "text": "the same benefits kind of apply across",
    "start": "198159",
    "end": "201200"
  },
  {
    "text": "multiple providers",
    "start": "201200",
    "end": "203120"
  },
  {
    "text": "and if you're curious the cockroachdb",
    "start": "203120",
    "end": "205680"
  },
  {
    "text": "cloud report kind of breaks down",
    "start": "205680",
    "end": "207680"
  },
  {
    "text": "these storage characteristics across a",
    "start": "207680",
    "end": "210080"
  },
  {
    "text": "variety",
    "start": "210080",
    "end": "211120"
  },
  {
    "text": "more dimensions than we're just looking",
    "start": "211120",
    "end": "213280"
  },
  {
    "text": "at here",
    "start": "213280",
    "end": "214640"
  },
  {
    "text": "but even still so on gcp local ssds can",
    "start": "214640",
    "end": "218000"
  },
  {
    "text": "offer",
    "start": "218000",
    "end": "218400"
  },
  {
    "text": "between 7 and 12 times better",
    "start": "218400",
    "end": "222480"
  },
  {
    "text": "read and write iop i o operations per",
    "start": "222480",
    "end": "225040"
  },
  {
    "text": "second compared to",
    "start": "225040",
    "end": "227280"
  },
  {
    "text": "the fastest equivalent for most remote",
    "start": "227280",
    "end": "229760"
  },
  {
    "text": "disk offering",
    "start": "229760",
    "end": "231519"
  },
  {
    "text": "the throughput stats are also",
    "start": "231519",
    "end": "233599"
  },
  {
    "text": "dramatically better",
    "start": "233599",
    "end": "234959"
  },
  {
    "text": "so you can get over twice as much read",
    "start": "234959",
    "end": "238000"
  },
  {
    "text": "throughput",
    "start": "238000",
    "end": "238720"
  },
  {
    "text": "and roughly 1.7 times right throughput",
    "start": "238720",
    "end": "241760"
  },
  {
    "text": "compared to any given",
    "start": "241760",
    "end": "243280"
  },
  {
    "text": "persistent disk so because of this",
    "start": "243280",
    "end": "246480"
  },
  {
    "text": "balance of",
    "start": "246480",
    "end": "247519"
  },
  {
    "text": "i o performance and right throughput",
    "start": "247519",
    "end": "250159"
  },
  {
    "text": "local ssds typically are suited for",
    "start": "250159",
    "end": "252640"
  },
  {
    "text": "more kind of random read and write use",
    "start": "252640",
    "end": "254720"
  },
  {
    "text": "cases",
    "start": "254720",
    "end": "256079"
  },
  {
    "text": "but in any k in any case these numbers",
    "start": "256079",
    "end": "258959"
  },
  {
    "text": "are you know",
    "start": "258959",
    "end": "259680"
  },
  {
    "text": "obviously the performance here is",
    "start": "259680",
    "end": "261040"
  },
  {
    "text": "significantly better than just using",
    "start": "261040",
    "end": "262960"
  },
  {
    "text": "remote disks but the real benefit of all",
    "start": "262960",
    "end": "266080"
  },
  {
    "text": "this is that in addition to being",
    "start": "266080",
    "end": "268320"
  },
  {
    "text": "more performant local disks are also",
    "start": "268320",
    "end": "270880"
  },
  {
    "text": "much cheaper than",
    "start": "270880",
    "end": "272240"
  },
  {
    "text": "uh than remote storage so in gcp's case",
    "start": "272240",
    "end": "276000"
  },
  {
    "text": "local ssd storage will cost eight cents",
    "start": "276000",
    "end": "278880"
  },
  {
    "text": "per gigabyte",
    "start": "278880",
    "end": "280000"
  },
  {
    "text": "whereas uh remote disks the fastest",
    "start": "280000",
    "end": "282639"
  },
  {
    "text": "remote disk offering",
    "start": "282639",
    "end": "283919"
  },
  {
    "text": "will cost 17 cents per gigabyte",
    "start": "283919",
    "end": "288320"
  },
  {
    "text": "the persistent volume as uh part of",
    "start": "289600",
    "end": "292560"
  },
  {
    "text": "local persistent volumes",
    "start": "292560",
    "end": "294080"
  },
  {
    "text": "refers to persistent volumes and",
    "start": "294080",
    "end": "296080"
  },
  {
    "text": "kubernetes that you might be familiar",
    "start": "296080",
    "end": "297840"
  },
  {
    "text": "with",
    "start": "297840",
    "end": "298479"
  },
  {
    "text": "uh so local local persistent volumes",
    "start": "298479",
    "end": "300800"
  },
  {
    "text": "kind of combine these two topics",
    "start": "300800",
    "end": "302800"
  },
  {
    "text": "but first let's take a look at uh kind",
    "start": "302800",
    "end": "305360"
  },
  {
    "text": "of some of the",
    "start": "305360",
    "end": "306720"
  },
  {
    "text": "behavior characteristics of persistent",
    "start": "306720",
    "end": "308720"
  },
  {
    "text": "volumes in kubernetes",
    "start": "308720",
    "end": "311840"
  },
  {
    "text": "so in kubernetes a persistent volume is",
    "start": "312080",
    "end": "314880"
  },
  {
    "text": "a resource that",
    "start": "314880",
    "end": "315919"
  },
  {
    "text": "represents some sort of remote store or",
    "start": "315919",
    "end": "318400"
  },
  {
    "text": "some sort of storage resource",
    "start": "318400",
    "end": "320639"
  },
  {
    "text": "you know storage that can be concretely",
    "start": "320639",
    "end": "322960"
  },
  {
    "text": "mounted and",
    "start": "322960",
    "end": "324479"
  },
  {
    "text": "forked with a pod and red or red read",
    "start": "324479",
    "end": "327280"
  },
  {
    "text": "from or written too",
    "start": "327280",
    "end": "329039"
  },
  {
    "text": "and a persistent volume claim is the",
    "start": "329039",
    "end": "331759"
  },
  {
    "text": "claim that",
    "start": "331759",
    "end": "332400"
  },
  {
    "text": "binds a persistent volume to a given pod",
    "start": "332400",
    "end": "335520"
  },
  {
    "text": "so a pod will be a persistent volume",
    "start": "335520",
    "end": "338240"
  },
  {
    "text": "claim will have a pod",
    "start": "338240",
    "end": "339440"
  },
  {
    "text": "that can uniquely use it that persistent",
    "start": "339440",
    "end": "342400"
  },
  {
    "text": "volume claim will bind it to",
    "start": "342400",
    "end": "343919"
  },
  {
    "text": "some persistent volume resource",
    "start": "343919",
    "end": "346880"
  },
  {
    "text": "kubernetes ensures that your pod is",
    "start": "346880",
    "end": "349280"
  },
  {
    "text": "mounted",
    "start": "349280",
    "end": "349919"
  },
  {
    "text": "with the store with the storage backing",
    "start": "349919",
    "end": "352639"
  },
  {
    "text": "its persistent volume claim",
    "start": "352639",
    "end": "354560"
  },
  {
    "text": "this typically happens by first",
    "start": "354560",
    "end": "357120"
  },
  {
    "text": "attaching your persistent volume to a",
    "start": "357120",
    "end": "359199"
  },
  {
    "text": "node",
    "start": "359199",
    "end": "360080"
  },
  {
    "text": "that your pod is running on and then",
    "start": "360080",
    "end": "362080"
  },
  {
    "text": "making uh that attached persistent",
    "start": "362080",
    "end": "364400"
  },
  {
    "text": "volume available to the pod itself",
    "start": "364400",
    "end": "368319"
  },
  {
    "text": "however for a long time with persistent",
    "start": "369120",
    "end": "371199"
  },
  {
    "text": "volumes there was kind of this",
    "start": "371199",
    "end": "372400"
  },
  {
    "text": "assumption that storage could just move",
    "start": "372400",
    "end": "374160"
  },
  {
    "text": "around with pods",
    "start": "374160",
    "end": "375680"
  },
  {
    "text": "so say your pod was running on node a",
    "start": "375680",
    "end": "378240"
  },
  {
    "text": "and it had some persistent volume",
    "start": "378240",
    "end": "379840"
  },
  {
    "text": "attached to it",
    "start": "379840",
    "end": "381039"
  },
  {
    "text": "uh if node a failed kubernetes would",
    "start": "381039",
    "end": "383360"
  },
  {
    "text": "take care of",
    "start": "383360",
    "end": "384400"
  },
  {
    "text": "rescheduling your pod onto say node b",
    "start": "384400",
    "end": "387759"
  },
  {
    "text": "and it would be able to attach that same",
    "start": "387759",
    "end": "390000"
  },
  {
    "text": "persistent storage to the new pod",
    "start": "390000",
    "end": "392240"
  },
  {
    "text": "or to the same pod on a new node",
    "start": "392240",
    "end": "396240"
  },
  {
    "start": "396000",
    "end": "396000"
  },
  {
    "text": "but local volumes kind of uh local disks",
    "start": "396560",
    "end": "399600"
  },
  {
    "text": "rather",
    "start": "399600",
    "end": "400319"
  },
  {
    "text": "kind of violate this assumption so you",
    "start": "400319",
    "end": "402560"
  },
  {
    "text": "know there's this assumption",
    "start": "402560",
    "end": "403759"
  },
  {
    "text": "that storage could move along with a pod",
    "start": "403759",
    "end": "406240"
  },
  {
    "text": "from node to node just like kubernetes",
    "start": "406240",
    "end": "408240"
  },
  {
    "text": "can kind of schedule your pod on any",
    "start": "408240",
    "end": "410880"
  },
  {
    "text": "node",
    "start": "410880",
    "end": "412720"
  },
  {
    "text": "so this is kind of in conflict with some",
    "start": "412720",
    "end": "414800"
  },
  {
    "text": "of these properties that we've talked",
    "start": "414800",
    "end": "416080"
  },
  {
    "text": "about about local volumes",
    "start": "416080",
    "end": "417680"
  },
  {
    "text": "where they're tied to the lifetime of an",
    "start": "417680",
    "end": "419599"
  },
  {
    "text": "instance so",
    "start": "419599",
    "end": "421280"
  },
  {
    "text": "in this case if your pod is running on",
    "start": "421280",
    "end": "423680"
  },
  {
    "text": "some node and it has",
    "start": "423680",
    "end": "425120"
  },
  {
    "text": "local storage attached to it and that",
    "start": "425120",
    "end": "427440"
  },
  {
    "text": "node fails kubernetes can't just",
    "start": "427440",
    "end": "429680"
  },
  {
    "text": "move that disk to a new node as you",
    "start": "429680",
    "end": "433039"
  },
  {
    "text": "can't just",
    "start": "433039",
    "end": "433680"
  },
  {
    "text": "detach a physical disk to attach",
    "start": "433680",
    "end": "436800"
  },
  {
    "text": "directly to a host machine and move it",
    "start": "436800",
    "end": "438479"
  },
  {
    "text": "somewhere else",
    "start": "438479",
    "end": "440960"
  },
  {
    "text": "similarly you wouldn't actually want",
    "start": "440960",
    "end": "442880"
  },
  {
    "text": "kubernetes just rescheduling your pod",
    "start": "442880",
    "end": "445440"
  },
  {
    "text": "even if it could if it was using the",
    "start": "445440",
    "end": "447120"
  },
  {
    "text": "local volume",
    "start": "447120",
    "end": "449039"
  },
  {
    "text": "uh so this is you know outside of the",
    "start": "449039",
    "end": "451440"
  },
  {
    "text": "case of node failures",
    "start": "451440",
    "end": "452960"
  },
  {
    "text": "just in normal operations if your pod",
    "start": "452960",
    "end": "455599"
  },
  {
    "text": "was running on node a",
    "start": "455599",
    "end": "457120"
  },
  {
    "text": "and had some local volume attached to it",
    "start": "457120",
    "end": "459919"
  },
  {
    "text": "and your pod was suddenly rescheduled",
    "start": "459919",
    "end": "462080"
  },
  {
    "text": "onto node b",
    "start": "462080",
    "end": "463360"
  },
  {
    "text": "your pod would actually have lost all of",
    "start": "463360",
    "end": "465280"
  },
  {
    "text": "its data as all that",
    "start": "465280",
    "end": "466800"
  },
  {
    "text": "as all that data is stored on the local",
    "start": "466800",
    "end": "468879"
  },
  {
    "text": "volume attached to node a",
    "start": "468879",
    "end": "470720"
  },
  {
    "text": "so if kubernetes rescheduled your pods",
    "start": "470720",
    "end": "472879"
  },
  {
    "text": "suddenly you've lost all your data",
    "start": "472879",
    "end": "476400"
  },
  {
    "start": "476000",
    "end": "476000"
  },
  {
    "text": "so how can local volumes work um rather",
    "start": "477039",
    "end": "480000"
  },
  {
    "text": "than",
    "start": "480000",
    "end": "480560"
  },
  {
    "text": "solving just for the use case of local",
    "start": "480560",
    "end": "482639"
  },
  {
    "text": "volumes",
    "start": "482639",
    "end": "483599"
  },
  {
    "text": "the kubernetes community solved a more",
    "start": "483599",
    "end": "485599"
  },
  {
    "text": "general problem",
    "start": "485599",
    "end": "486800"
  },
  {
    "text": "and or came up with a more general",
    "start": "486800",
    "end": "488720"
  },
  {
    "text": "solution and that's called topology",
    "start": "488720",
    "end": "491120"
  },
  {
    "text": "aware",
    "start": "491120",
    "end": "491680"
  },
  {
    "text": "volume provisioning so what this means",
    "start": "491680",
    "end": "494639"
  },
  {
    "text": "is whereas",
    "start": "494639",
    "end": "495360"
  },
  {
    "text": "previously when a persistent volume",
    "start": "495360",
    "end": "498720"
  },
  {
    "text": "claim was created",
    "start": "498720",
    "end": "500160"
  },
  {
    "text": "a persistent volume would be attached or",
    "start": "500160",
    "end": "502720"
  },
  {
    "text": "would be provisioned",
    "start": "502720",
    "end": "504319"
  },
  {
    "text": "pretty immediately after now when a",
    "start": "504319",
    "end": "507360"
  },
  {
    "text": "persistent volume claim is created it",
    "start": "507360",
    "end": "509440"
  },
  {
    "text": "actually waits",
    "start": "509440",
    "end": "510479"
  },
  {
    "text": "for uh the first pod that's going to use",
    "start": "510479",
    "end": "513200"
  },
  {
    "text": "that",
    "start": "513200",
    "end": "513599"
  },
  {
    "text": "uh use that persistent volume claim",
    "start": "513599",
    "end": "515599"
  },
  {
    "text": "before uh deciding where to schedule",
    "start": "515599",
    "end": "518240"
  },
  {
    "text": "both the pod",
    "start": "518240",
    "end": "519039"
  },
  {
    "text": "and the persistent volume so this means",
    "start": "519039",
    "end": "521360"
  },
  {
    "text": "that the scheduler can take into account",
    "start": "521360",
    "end": "523360"
  },
  {
    "text": "both the pods affinity requirements as",
    "start": "523360",
    "end": "525920"
  },
  {
    "text": "well as the storage's requirements",
    "start": "525920",
    "end": "528399"
  },
  {
    "text": "and this helped not only with the",
    "start": "528399",
    "end": "530640"
  },
  {
    "text": "problem of",
    "start": "530640",
    "end": "531440"
  },
  {
    "text": "local volumes but also with the problem",
    "start": "531440",
    "end": "533760"
  },
  {
    "text": "of",
    "start": "533760",
    "end": "534560"
  },
  {
    "text": "multi-zone storage in kubernetes even",
    "start": "534560",
    "end": "537040"
  },
  {
    "text": "with remote storage",
    "start": "537040",
    "end": "538160"
  },
  {
    "text": "so previously there was a behavior",
    "start": "538160",
    "end": "541440"
  },
  {
    "text": "where say you were running a regional",
    "start": "541440",
    "end": "543839"
  },
  {
    "text": "kubernetes cluster",
    "start": "543839",
    "end": "545120"
  },
  {
    "text": "and you scheduled a pod in zone a",
    "start": "545120",
    "end": "548640"
  },
  {
    "text": "your storage could have actually gotten",
    "start": "548640",
    "end": "550480"
  },
  {
    "text": "provisioned in zone b",
    "start": "550480",
    "end": "552399"
  },
  {
    "text": "and then suddenly your pod wouldn't be",
    "start": "552399",
    "end": "554160"
  },
  {
    "text": "able to use that storage because they",
    "start": "554160",
    "end": "556000"
  },
  {
    "text": "were in different zones",
    "start": "556000",
    "end": "557680"
  },
  {
    "text": "so by solving for topology aware volume",
    "start": "557680",
    "end": "560240"
  },
  {
    "text": "provisioning kubernetes solved for",
    "start": "560240",
    "end": "562000"
  },
  {
    "text": "both this use case of multi-zone storage",
    "start": "562000",
    "end": "565279"
  },
  {
    "text": "as well as",
    "start": "565279",
    "end": "566080"
  },
  {
    "text": "local disks and this is kind of",
    "start": "566080",
    "end": "567920"
  },
  {
    "text": "something we frequently see in the",
    "start": "567920",
    "end": "569279"
  },
  {
    "text": "kubernetes communities rather than",
    "start": "569279",
    "end": "571360"
  },
  {
    "text": "taking an immediate problem solving just",
    "start": "571360",
    "end": "573440"
  },
  {
    "text": "that narrow use case",
    "start": "573440",
    "end": "574800"
  },
  {
    "text": "kind of figuring out a more general",
    "start": "574800",
    "end": "577200"
  },
  {
    "text": "solution that works for multiple",
    "start": "577200",
    "end": "578959"
  },
  {
    "text": "problems",
    "start": "578959",
    "end": "580240"
  },
  {
    "text": "so under the hood persistent volumes are",
    "start": "580240",
    "end": "584399"
  },
  {
    "text": "are now have a field called node",
    "start": "584399",
    "end": "586560"
  },
  {
    "text": "affinity on them",
    "start": "586560",
    "end": "587920"
  },
  {
    "text": "and this is similar to the node affinity",
    "start": "587920",
    "end": "589839"
  },
  {
    "text": "terms you might see on a pod",
    "start": "589839",
    "end": "591600"
  },
  {
    "text": "so this allows the persistent volume to",
    "start": "591600",
    "end": "593600"
  },
  {
    "text": "express um",
    "start": "593600",
    "end": "595200"
  },
  {
    "text": "requirements for where it's scheduled so",
    "start": "595200",
    "end": "597760"
  },
  {
    "text": "in the case of a local volume maybe it",
    "start": "597760",
    "end": "599680"
  },
  {
    "text": "can only be scheduled on a certain node",
    "start": "599680",
    "end": "602000"
  },
  {
    "text": "or in the case of zonal storage it can",
    "start": "602000",
    "end": "603920"
  },
  {
    "text": "only be scheduled on",
    "start": "603920",
    "end": "605440"
  },
  {
    "text": "nodes in the given zone",
    "start": "605440",
    "end": "608640"
  },
  {
    "text": "so how do you get started using local",
    "start": "610079",
    "end": "611760"
  },
  {
    "text": "volumes what are kind of some of those",
    "start": "611760",
    "end": "613200"
  },
  {
    "text": "day one operations",
    "start": "613200",
    "end": "615279"
  },
  {
    "text": "well to get up and running with local",
    "start": "615279",
    "end": "617279"
  },
  {
    "text": "volumes in order to provision them",
    "start": "617279",
    "end": "619360"
  },
  {
    "text": "there's a tool called the local static",
    "start": "619360",
    "end": "621360"
  },
  {
    "text": "provisioner",
    "start": "621360",
    "end": "622560"
  },
  {
    "text": "so with the local static provisioner you",
    "start": "622560",
    "end": "624560"
  },
  {
    "text": "take care of mounting disks at a certain",
    "start": "624560",
    "end": "627120"
  },
  {
    "text": "path on your node",
    "start": "627120",
    "end": "628560"
  },
  {
    "text": "you'll point the provisioner at that",
    "start": "628560",
    "end": "630640"
  },
  {
    "text": "path and the provisioner will pick up",
    "start": "630640",
    "end": "632959"
  },
  {
    "text": "all of the disks that are mounted and",
    "start": "632959",
    "end": "635279"
  },
  {
    "text": "turn them into kubernetes persistent",
    "start": "635279",
    "end": "637600"
  },
  {
    "text": "volume resources",
    "start": "637600",
    "end": "639680"
  },
  {
    "text": "additionally the provisioner will take",
    "start": "639680",
    "end": "641600"
  },
  {
    "text": "care of life cycle tasks such as",
    "start": "641600",
    "end": "644160"
  },
  {
    "text": "wiping the disk before and after it's",
    "start": "644160",
    "end": "646320"
  },
  {
    "text": "mounted",
    "start": "646320",
    "end": "647200"
  },
  {
    "text": "uh or when the persistent volume or",
    "start": "647200",
    "end": "648800"
  },
  {
    "text": "sorry wiping the disc",
    "start": "648800",
    "end": "650480"
  },
  {
    "text": "um when the persistent volume claim is",
    "start": "650480",
    "end": "652480"
  },
  {
    "text": "deleted or the disc is first provisioned",
    "start": "652480",
    "end": "654720"
  },
  {
    "text": "kind of some of those uh life cycle",
    "start": "654720",
    "end": "656800"
  },
  {
    "text": "tasks that mimic the behavior of",
    "start": "656800",
    "end": "659600"
  },
  {
    "text": "you know new storage being attached",
    "start": "659600",
    "end": "663440"
  },
  {
    "text": "in order to first use local storage",
    "start": "663839",
    "end": "666000"
  },
  {
    "text": "you'll create a storage class",
    "start": "666000",
    "end": "667680"
  },
  {
    "text": "dedicated to local storage so this just",
    "start": "667680",
    "end": "670880"
  },
  {
    "text": "pretty much specifies",
    "start": "670880",
    "end": "672240"
  },
  {
    "text": "a type of storage that you'll attach",
    "start": "672240",
    "end": "674720"
  },
  {
    "text": "that you'll use with your workloads",
    "start": "674720",
    "end": "677360"
  },
  {
    "text": "and then in your various workloads that",
    "start": "677360",
    "end": "678959"
  },
  {
    "text": "you're using disks for",
    "start": "678959",
    "end": "680399"
  },
  {
    "text": "in the persistent volume claim templates",
    "start": "680399",
    "end": "682959"
  },
  {
    "text": "uh rather than just",
    "start": "682959",
    "end": "684560"
  },
  {
    "text": "or rather than specifying a remote",
    "start": "684560",
    "end": "687279"
  },
  {
    "text": "storage or not specifying a storage",
    "start": "687279",
    "end": "688959"
  },
  {
    "text": "class",
    "start": "688959",
    "end": "689600"
  },
  {
    "text": "you'll just specify the storage class",
    "start": "689600",
    "end": "691760"
  },
  {
    "text": "that you created dedicated for local",
    "start": "691760",
    "end": "694079"
  },
  {
    "text": "disks",
    "start": "694079",
    "end": "696480"
  },
  {
    "text": "and that's it you create a storage class",
    "start": "696800",
    "end": "698800"
  },
  {
    "text": "you move all of your workloads to it and",
    "start": "698800",
    "end": "700560"
  },
  {
    "text": "you have 10x",
    "start": "700560",
    "end": "701440"
  },
  {
    "text": "faster storage at half the cost",
    "start": "701440",
    "end": "705360"
  },
  {
    "text": "if only wouldn't that be nice",
    "start": "705360",
    "end": "707680"
  },
  {
    "text": "unfortunately because of some of these",
    "start": "707680",
    "end": "709120"
  },
  {
    "text": "properties that we've discussed",
    "start": "709120",
    "end": "710880"
  },
  {
    "text": "local disks do behave very differently",
    "start": "710880",
    "end": "713440"
  },
  {
    "text": "than",
    "start": "713440",
    "end": "714079"
  },
  {
    "text": "regular persistent volumes that you",
    "start": "714079",
    "end": "715839"
  },
  {
    "text": "might be used to",
    "start": "715839",
    "end": "717120"
  },
  {
    "text": "so safely using them requires more",
    "start": "717120",
    "end": "719519"
  },
  {
    "text": "planning and kind of",
    "start": "719519",
    "end": "720720"
  },
  {
    "text": "operational experience so",
    "start": "720720",
    "end": "724000"
  },
  {
    "start": "723000",
    "end": "723000"
  },
  {
    "text": "what are some of these uh day two",
    "start": "724000",
    "end": "726720"
  },
  {
    "text": "operations that you know you might have",
    "start": "726720",
    "end": "728800"
  },
  {
    "text": "to take into account these differences",
    "start": "728800",
    "end": "730959"
  },
  {
    "text": "and behaviors",
    "start": "730959",
    "end": "732399"
  },
  {
    "text": "the first one that we'll look at is what",
    "start": "732399",
    "end": "734320"
  },
  {
    "text": "happens during",
    "start": "734320",
    "end": "735680"
  },
  {
    "start": "735000",
    "end": "735000"
  },
  {
    "text": "node failures so one of the promises",
    "start": "735680",
    "end": "739519"
  },
  {
    "text": "of kubernetes is that nodes can fail and",
    "start": "739519",
    "end": "742399"
  },
  {
    "text": "kubernetes will help your applications",
    "start": "742399",
    "end": "744399"
  },
  {
    "text": "be more resilient",
    "start": "744399",
    "end": "745600"
  },
  {
    "text": "by rescheduling your workloads on",
    "start": "745600",
    "end": "747600"
  },
  {
    "text": "different nodes and kind of abstracting",
    "start": "747600",
    "end": "749600"
  },
  {
    "text": "away",
    "start": "749600",
    "end": "750079"
  },
  {
    "text": "these failures for you additionally",
    "start": "750079",
    "end": "752959"
  },
  {
    "text": "kubernetes will not just",
    "start": "752959",
    "end": "754480"
  },
  {
    "text": "go randomly deleting your data as though",
    "start": "754480",
    "end": "757120"
  },
  {
    "text": "that wouldn't really be",
    "start": "757120",
    "end": "758000"
  },
  {
    "text": "helpful uh from like an orchestration",
    "start": "758000",
    "end": "761120"
  },
  {
    "text": "perspective or any perspective",
    "start": "761120",
    "end": "763360"
  },
  {
    "text": "however both of these behaviors combined",
    "start": "763360",
    "end": "767040"
  },
  {
    "text": "means that if a node fails and that",
    "start": "767040",
    "end": "770240"
  },
  {
    "text": "local persistent volume no longer",
    "start": "770240",
    "end": "772240"
  },
  {
    "text": "exists the pod using it will be stuck",
    "start": "772240",
    "end": "775279"
  },
  {
    "text": "so this is because you know as",
    "start": "775279",
    "end": "776800"
  },
  {
    "text": "kubernetes won't just delete your data",
    "start": "776800",
    "end": "779920"
  },
  {
    "text": "if a pod was using local storage that",
    "start": "779920",
    "end": "782320"
  },
  {
    "text": "local storage is no longer available",
    "start": "782320",
    "end": "784320"
  },
  {
    "text": "kubernetes won't reschedule it because",
    "start": "784320",
    "end": "786720"
  },
  {
    "text": "that would mean bringing up that same",
    "start": "786720",
    "end": "788399"
  },
  {
    "text": "pod",
    "start": "788399",
    "end": "789200"
  },
  {
    "text": "uh with local with without any data or",
    "start": "789200",
    "end": "792320"
  },
  {
    "text": "sorry",
    "start": "792320",
    "end": "792800"
  },
  {
    "text": "won't reschedule it without manual",
    "start": "792800",
    "end": "794480"
  },
  {
    "text": "intervention so",
    "start": "794480",
    "end": "796240"
  },
  {
    "text": "in order to allow this pod to be",
    "start": "796240",
    "end": "798320"
  },
  {
    "text": "rescheduled",
    "start": "798320",
    "end": "799519"
  },
  {
    "text": "you have to delete the persistent volume",
    "start": "799519",
    "end": "801680"
  },
  {
    "text": "claim and then",
    "start": "801680",
    "end": "802880"
  },
  {
    "text": "that pod will be rescheduled with a new",
    "start": "802880",
    "end": "805279"
  },
  {
    "text": "persistent volume attached to it",
    "start": "805279",
    "end": "807360"
  },
  {
    "text": "um and this means that unless you",
    "start": "807360",
    "end": "810000"
  },
  {
    "text": "automate it this is a manual operation",
    "start": "810000",
    "end": "812480"
  },
  {
    "text": "however at the same time automating it",
    "start": "812480",
    "end": "814639"
  },
  {
    "text": "means that you're automating",
    "start": "814639",
    "end": "816000"
  },
  {
    "text": "kind of the deletion of data so you kind",
    "start": "816000",
    "end": "818160"
  },
  {
    "text": "of have to take some",
    "start": "818160",
    "end": "819120"
  },
  {
    "text": "care with this",
    "start": "819120",
    "end": "821839"
  },
  {
    "text": "uh another kind of day-to-day operation",
    "start": "823120",
    "end": "827199"
  },
  {
    "start": "824000",
    "end": "824000"
  },
  {
    "text": "that you'll have to take into account",
    "start": "827199",
    "end": "829600"
  },
  {
    "text": "is how you handle backups and restore of",
    "start": "829600",
    "end": "832320"
  },
  {
    "text": "your data",
    "start": "832320",
    "end": "833680"
  },
  {
    "text": "so with remote disks you might be used",
    "start": "833680",
    "end": "835760"
  },
  {
    "text": "to",
    "start": "835760",
    "end": "836720"
  },
  {
    "text": "snapshot and restore which is a pretty",
    "start": "836720",
    "end": "839199"
  },
  {
    "text": "popular",
    "start": "839199",
    "end": "840639"
  },
  {
    "text": "kind of disaster recovery mechanism",
    "start": "840639",
    "end": "843040"
  },
  {
    "text": "offered on most cloud providers",
    "start": "843040",
    "end": "845120"
  },
  {
    "text": "so with snapshot and restore you can",
    "start": "845120",
    "end": "846720"
  },
  {
    "text": "just take point in time snapshots of",
    "start": "846720",
    "end": "848800"
  },
  {
    "text": "your remote disks at any time",
    "start": "848800",
    "end": "850880"
  },
  {
    "text": "and uh bring up new copies the remote",
    "start": "850880",
    "end": "853440"
  },
  {
    "text": "disks",
    "start": "853440",
    "end": "854160"
  },
  {
    "text": "um with uh with all the data from that",
    "start": "854160",
    "end": "857600"
  },
  {
    "text": "snapshot",
    "start": "857600",
    "end": "859040"
  },
  {
    "text": "and this is kind of helpful you know if",
    "start": "859040",
    "end": "860639"
  },
  {
    "text": "you were to accidentally corrupt your",
    "start": "860639",
    "end": "862320"
  },
  {
    "text": "data or",
    "start": "862320",
    "end": "863040"
  },
  {
    "text": "delete something kind of just being able",
    "start": "863040",
    "end": "864800"
  },
  {
    "text": "to go back to any point in time and",
    "start": "864800",
    "end": "866720"
  },
  {
    "text": "recover that data",
    "start": "866720",
    "end": "868480"
  },
  {
    "text": "however there is no snapshot",
    "start": "868480",
    "end": "870160"
  },
  {
    "text": "functionality for local disks on any",
    "start": "870160",
    "end": "872480"
  },
  {
    "text": "cloud provider",
    "start": "872480",
    "end": "873680"
  },
  {
    "text": "um additionally there's kind of as we",
    "start": "873680",
    "end": "876000"
  },
  {
    "text": "talked about earlier",
    "start": "876000",
    "end": "877440"
  },
  {
    "text": "since uh local disks are tied to the",
    "start": "877440",
    "end": "880079"
  },
  {
    "text": "lifetime of an instance",
    "start": "880079",
    "end": "881440"
  },
  {
    "text": "there are few to no guarantees about the",
    "start": "881440",
    "end": "885040"
  },
  {
    "text": "availability of that",
    "start": "885040",
    "end": "886560"
  },
  {
    "text": "local disk so your",
    "start": "886560",
    "end": "889680"
  },
  {
    "text": "most cloud provider documentation it'll",
    "start": "889680",
    "end": "892399"
  },
  {
    "text": "talk about",
    "start": "892399",
    "end": "893279"
  },
  {
    "text": "some of the caveats of using local",
    "start": "893279",
    "end": "895199"
  },
  {
    "text": "storage but the bottom line is that they",
    "start": "895199",
    "end": "897519"
  },
  {
    "text": "all kind of say you know",
    "start": "897519",
    "end": "898720"
  },
  {
    "text": "you can't really depend on that data",
    "start": "898720",
    "end": "900399"
  },
  {
    "text": "always being there because if there is a",
    "start": "900399",
    "end": "902560"
  },
  {
    "text": "node maintenance",
    "start": "902560",
    "end": "903440"
  },
  {
    "text": "or a maintenance event on the host",
    "start": "903440",
    "end": "905519"
  },
  {
    "text": "machine",
    "start": "905519",
    "end": "906480"
  },
  {
    "text": "or some wider maintenance event or a",
    "start": "906480",
    "end": "908800"
  },
  {
    "text": "node failure",
    "start": "908800",
    "end": "909839"
  },
  {
    "text": "um that local disk might be uh might no",
    "start": "909839",
    "end": "912720"
  },
  {
    "text": "longer be available",
    "start": "912720",
    "end": "915120"
  },
  {
    "text": "so this means that you are responsible",
    "start": "915120",
    "end": "917920"
  },
  {
    "text": "for",
    "start": "917920",
    "end": "918720"
  },
  {
    "text": "uh backing up any data that's stored on",
    "start": "918720",
    "end": "921279"
  },
  {
    "text": "local disks",
    "start": "921279",
    "end": "922800"
  },
  {
    "text": "one pattern that can help here is a",
    "start": "922800",
    "end": "925600"
  },
  {
    "text": "sidecar pattern with",
    "start": "925600",
    "end": "927120"
  },
  {
    "text": "you know for backups so you can have",
    "start": "927120",
    "end": "929920"
  },
  {
    "text": "some pod that runs alongside your app",
    "start": "929920",
    "end": "932399"
  },
  {
    "text": "and copies all of your data up to an",
    "start": "932399",
    "end": "934560"
  },
  {
    "text": "object store",
    "start": "934560",
    "end": "935519"
  },
  {
    "text": "on you know some sort of regular",
    "start": "935519",
    "end": "937440"
  },
  {
    "text": "interval or",
    "start": "937440",
    "end": "938639"
  },
  {
    "text": "some other durable remote storage",
    "start": "938639",
    "end": "942480"
  },
  {
    "start": "943000",
    "end": "943000"
  },
  {
    "text": "and uh finally it's also worth talking",
    "start": "944399",
    "end": "946800"
  },
  {
    "text": "about cluster upgrades",
    "start": "946800",
    "end": "948480"
  },
  {
    "text": "so uh hopefully you're keeping your",
    "start": "948480",
    "end": "950959"
  },
  {
    "text": "clusters",
    "start": "950959",
    "end": "951680"
  },
  {
    "text": "up to date but the way that uh cluster",
    "start": "951680",
    "end": "954800"
  },
  {
    "text": "upgrades typically work",
    "start": "954800",
    "end": "956320"
  },
  {
    "text": "on most cloud offerings is that they're",
    "start": "956320",
    "end": "959600"
  },
  {
    "text": "done by replacing nodes one by one",
    "start": "959600",
    "end": "962160"
  },
  {
    "text": "with a node with the new version so this",
    "start": "962160",
    "end": "964560"
  },
  {
    "text": "is compared to",
    "start": "964560",
    "end": "965440"
  },
  {
    "text": "say replacing uh where rather than",
    "start": "965440",
    "end": "968560"
  },
  {
    "text": "upgrading a single node in place",
    "start": "968560",
    "end": "971199"
  },
  {
    "text": "your cloud provider will just iterate",
    "start": "971199",
    "end": "972959"
  },
  {
    "text": "over your nodes and kind of replace them",
    "start": "972959",
    "end": "975199"
  },
  {
    "text": "with nodes with the new version",
    "start": "975199",
    "end": "979120"
  },
  {
    "start": "980000",
    "end": "980000"
  },
  {
    "text": "however this would be problematic to do",
    "start": "980880",
    "end": "983440"
  },
  {
    "text": "with local disks",
    "start": "983440",
    "end": "984399"
  },
  {
    "text": "so you can imagine if you were using",
    "start": "984399",
    "end": "987360"
  },
  {
    "text": "local volumes with your nodes",
    "start": "987360",
    "end": "989440"
  },
  {
    "text": "and your cloud providers started just",
    "start": "989440",
    "end": "991120"
  },
  {
    "text": "swapping out those nodes one by one",
    "start": "991120",
    "end": "993440"
  },
  {
    "text": "uh you would also be deleting all of",
    "start": "993440",
    "end": "995759"
  },
  {
    "text": "your local",
    "start": "995759",
    "end": "996959"
  },
  {
    "text": "all of your local data one by one",
    "start": "996959",
    "end": "1000320"
  },
  {
    "text": "additionally even if you didn't really",
    "start": "1000320",
    "end": "1002399"
  },
  {
    "text": "care about the data on",
    "start": "1002399",
    "end": "1003519"
  },
  {
    "text": "disk say you were using local volumes",
    "start": "1003519",
    "end": "1006720"
  },
  {
    "text": "for purely ephemeral use cases",
    "start": "1006720",
    "end": "1009680"
  },
  {
    "text": "you would still have the problem where",
    "start": "1009680",
    "end": "1011360"
  },
  {
    "text": "these pods were stuck and couldn't be",
    "start": "1011360",
    "end": "1013600"
  },
  {
    "text": "rescheduled",
    "start": "1013600",
    "end": "1014720"
  },
  {
    "text": "because as we mentioned previously",
    "start": "1014720",
    "end": "1016480"
  },
  {
    "text": "unless you delete that",
    "start": "1016480",
    "end": "1018320"
  },
  {
    "text": "volume claim binding that pod to that",
    "start": "1018320",
    "end": "1020399"
  },
  {
    "text": "storage uh kubernetes won't reschedule",
    "start": "1020399",
    "end": "1023040"
  },
  {
    "text": "the pod",
    "start": "1023040",
    "end": "1025839"
  },
  {
    "text": "so a safer solution here is to instead",
    "start": "1026959",
    "end": "1029600"
  },
  {
    "text": "kind of preemptively evacuate your node",
    "start": "1029600",
    "end": "1031760"
  },
  {
    "text": "pools",
    "start": "1031760",
    "end": "1032558"
  },
  {
    "text": "so for example if you were going to",
    "start": "1032559",
    "end": "1034079"
  },
  {
    "text": "upgrade you know node a",
    "start": "1034079",
    "end": "1037280"
  },
  {
    "text": "you might first manually or through some",
    "start": "1037280",
    "end": "1040160"
  },
  {
    "text": "automation",
    "start": "1040160",
    "end": "1041280"
  },
  {
    "text": "delete that volume claim allow that pod",
    "start": "1041280",
    "end": "1043600"
  },
  {
    "text": "to be rescheduled on a new node",
    "start": "1043600",
    "end": "1046000"
  },
  {
    "text": "and then actually allow that node to be",
    "start": "1046000",
    "end": "1048000"
  },
  {
    "text": "upgraded",
    "start": "1048000",
    "end": "1050240"
  },
  {
    "text": "and again this kind of requires both",
    "start": "1050240",
    "end": "1052480"
  },
  {
    "text": "some planning and some automation",
    "start": "1052480",
    "end": "1054640"
  },
  {
    "text": "um but once you've migrated pot your",
    "start": "1054640",
    "end": "1057360"
  },
  {
    "text": "workloads that are using local volumes",
    "start": "1057360",
    "end": "1059440"
  },
  {
    "text": "away from your nodes that are you're",
    "start": "1059440",
    "end": "1060960"
  },
  {
    "text": "going to upgrade then you can either",
    "start": "1060960",
    "end": "1062799"
  },
  {
    "text": "safely upgrade them",
    "start": "1062799",
    "end": "1063919"
  },
  {
    "text": "or just tear them down",
    "start": "1063919",
    "end": "1067840"
  },
  {
    "text": "so we've kind of talked about some of",
    "start": "1068880",
    "end": "1070240"
  },
  {
    "text": "the things to consider when using",
    "start": "1070240",
    "end": "1072799"
  },
  {
    "text": "local volumes and kind of these",
    "start": "1072799",
    "end": "1075200"
  },
  {
    "text": "subtleties but",
    "start": "1075200",
    "end": "1076480"
  },
  {
    "text": "that doesn't mean you should just avoid",
    "start": "1076480",
    "end": "1077919"
  },
  {
    "text": "them because as we mentioned earlier",
    "start": "1077919",
    "end": "1080400"
  },
  {
    "text": "if used properly you can get these",
    "start": "1080400",
    "end": "1082960"
  },
  {
    "text": "dramatically",
    "start": "1082960",
    "end": "1084000"
  },
  {
    "text": "uh improved store those dramatically",
    "start": "1084000",
    "end": "1086000"
  },
  {
    "text": "improve storage performance",
    "start": "1086000",
    "end": "1087760"
  },
  {
    "text": "at a reduced cost um so we're kind of",
    "start": "1087760",
    "end": "1090480"
  },
  {
    "text": "going to look at some",
    "start": "1090480",
    "end": "1091840"
  },
  {
    "text": "use cases or patterns for using local",
    "start": "1091840",
    "end": "1094400"
  },
  {
    "text": "volumes",
    "start": "1094400",
    "end": "1095360"
  },
  {
    "text": "that are a better fit given these given",
    "start": "1095360",
    "end": "1098320"
  },
  {
    "text": "their characteristics",
    "start": "1098320",
    "end": "1101279"
  },
  {
    "start": "1100000",
    "end": "1100000"
  },
  {
    "text": "so first let's talk about something that",
    "start": "1101440",
    "end": "1103360"
  },
  {
    "text": "might not be a good fit",
    "start": "1103360",
    "end": "1106640"
  },
  {
    "text": "local volumes are not a good fit for",
    "start": "1106960",
    "end": "1109280"
  },
  {
    "text": "things like",
    "start": "1109280",
    "end": "1110000"
  },
  {
    "text": "single primary instances of a database",
    "start": "1110000",
    "end": "1113280"
  },
  {
    "text": "or some other application",
    "start": "1113280",
    "end": "1115120"
  },
  {
    "text": "for example say you were only running uh",
    "start": "1115120",
    "end": "1117360"
  },
  {
    "text": "one replica",
    "start": "1117360",
    "end": "1118400"
  },
  {
    "text": "or one instance of my sequel on your in",
    "start": "1118400",
    "end": "1122000"
  },
  {
    "text": "your cluster using",
    "start": "1122000",
    "end": "1123280"
  },
  {
    "text": "uh local volumes which arguably you",
    "start": "1123280",
    "end": "1126640"
  },
  {
    "text": "wouldn't want to do with remote storage",
    "start": "1126640",
    "end": "1128320"
  },
  {
    "text": "anyway",
    "start": "1128320",
    "end": "1128799"
  },
  {
    "text": "but let's take a look at that with local",
    "start": "1128799",
    "end": "1130960"
  },
  {
    "text": "volumes",
    "start": "1130960",
    "end": "1132240"
  },
  {
    "text": "so say there was some sort of node",
    "start": "1132240",
    "end": "1133760"
  },
  {
    "text": "failure um",
    "start": "1133760",
    "end": "1135280"
  },
  {
    "text": "and the now suddenly your my sequel pod",
    "start": "1135280",
    "end": "1138160"
  },
  {
    "text": "would be unavailable",
    "start": "1138160",
    "end": "1139600"
  },
  {
    "text": "and since it's a single instance you",
    "start": "1139600",
    "end": "1142160"
  },
  {
    "text": "would uh",
    "start": "1142160",
    "end": "1142799"
  },
  {
    "text": "you know be failing all reads and rights",
    "start": "1142799",
    "end": "1144720"
  },
  {
    "text": "to it",
    "start": "1144720",
    "end": "1146080"
  },
  {
    "text": "additionally even if you were to delete",
    "start": "1146080",
    "end": "1148080"
  },
  {
    "text": "that volume claim",
    "start": "1148080",
    "end": "1149679"
  },
  {
    "text": "and allow that mysql pod to be",
    "start": "1149679",
    "end": "1152320"
  },
  {
    "text": "rescheduled to a different node",
    "start": "1152320",
    "end": "1154240"
  },
  {
    "text": "suddenly it would come up with a new",
    "start": "1154240",
    "end": "1156080"
  },
  {
    "text": "empty disk and you would have lost all",
    "start": "1156080",
    "end": "1158080"
  },
  {
    "text": "of your data",
    "start": "1158080",
    "end": "1160640"
  },
  {
    "start": "1161000",
    "end": "1161000"
  },
  {
    "text": "so a better fit for using local volumes",
    "start": "1162720",
    "end": "1164960"
  },
  {
    "text": "would be workloads that already have",
    "start": "1164960",
    "end": "1167280"
  },
  {
    "text": "kind of like fault tolerance and",
    "start": "1167280",
    "end": "1168960"
  },
  {
    "text": "replication built in",
    "start": "1168960",
    "end": "1170799"
  },
  {
    "text": "an example of this would be kafka which",
    "start": "1170799",
    "end": "1173440"
  },
  {
    "text": "allows you to",
    "start": "1173440",
    "end": "1174320"
  },
  {
    "text": "write or to set a replication factor and",
    "start": "1174320",
    "end": "1176720"
  },
  {
    "text": "then handles distributing your data",
    "start": "1176720",
    "end": "1179120"
  },
  {
    "text": "so in this case uh say you had a client",
    "start": "1179120",
    "end": "1181360"
  },
  {
    "text": "running that was sending rights to kafka",
    "start": "1181360",
    "end": "1184000"
  },
  {
    "text": "those rights would be replicated across",
    "start": "1184000",
    "end": "1186240"
  },
  {
    "text": "three instances",
    "start": "1186240",
    "end": "1187360"
  },
  {
    "text": "on three different nodes with three",
    "start": "1187360",
    "end": "1189200"
  },
  {
    "text": "different local volumes",
    "start": "1189200",
    "end": "1192799"
  },
  {
    "text": "this means that even if one of your",
    "start": "1192799",
    "end": "1194240"
  },
  {
    "text": "instances fail your overall",
    "start": "1194240",
    "end": "1196880"
  },
  {
    "text": "availability isn't impacted as there are",
    "start": "1196880",
    "end": "1199360"
  },
  {
    "text": "still two",
    "start": "1199360",
    "end": "1200160"
  },
  {
    "text": "replicas to store the data but more",
    "start": "1200160",
    "end": "1202960"
  },
  {
    "text": "importantly since when this instance",
    "start": "1202960",
    "end": "1204640"
  },
  {
    "text": "fails you lose the data on local disk",
    "start": "1204640",
    "end": "1207679"
  },
  {
    "text": "when a new node or when a new pod comes",
    "start": "1207679",
    "end": "1209840"
  },
  {
    "text": "up to replace it on a new node it will",
    "start": "1209840",
    "end": "1212159"
  },
  {
    "text": "have an empty disk",
    "start": "1212159",
    "end": "1213919"
  },
  {
    "text": "but since the or since you're using an",
    "start": "1213919",
    "end": "1216799"
  },
  {
    "text": "application",
    "start": "1216799",
    "end": "1217840"
  },
  {
    "text": "that can handle copying data kafka will",
    "start": "1217840",
    "end": "1221440"
  },
  {
    "text": "stream the data that it's supposed to",
    "start": "1221440",
    "end": "1223360"
  },
  {
    "text": "own",
    "start": "1223360",
    "end": "1223760"
  },
  {
    "text": "from the nodes that remained available",
    "start": "1223760",
    "end": "1226320"
  },
  {
    "text": "and reconstructed state",
    "start": "1226320",
    "end": "1228000"
  },
  {
    "text": "so overall you wouldn't have lost any",
    "start": "1228000",
    "end": "1230960"
  },
  {
    "text": "data",
    "start": "1230960",
    "end": "1231440"
  },
  {
    "text": "although you you know temporarily it was",
    "start": "1231440",
    "end": "1233120"
  },
  {
    "text": "unavailable",
    "start": "1233120",
    "end": "1234640"
  },
  {
    "text": "but overall you wouldn't have lost any",
    "start": "1234640",
    "end": "1236960"
  },
  {
    "text": "data and your",
    "start": "1236960",
    "end": "1238480"
  },
  {
    "text": "overall application availability",
    "start": "1238480",
    "end": "1240720"
  },
  {
    "text": "wouldn't have been impacted",
    "start": "1240720",
    "end": "1243840"
  },
  {
    "start": "1243000",
    "end": "1243000"
  },
  {
    "text": "so generally speaking these workloads",
    "start": "1243840",
    "end": "1245919"
  },
  {
    "text": "that are fault tolerant and handle",
    "start": "1245919",
    "end": "1248480"
  },
  {
    "text": "replication for you will make it easier",
    "start": "1248480",
    "end": "1251440"
  },
  {
    "text": "and safer will be easier and safer to",
    "start": "1251440",
    "end": "1253919"
  },
  {
    "text": "run",
    "start": "1253919",
    "end": "1254240"
  },
  {
    "text": "on local volumes and again especially if",
    "start": "1254240",
    "end": "1257039"
  },
  {
    "text": "they",
    "start": "1257039",
    "end": "1257440"
  },
  {
    "text": "handle this uh you know some of this",
    "start": "1257440",
    "end": "1260080"
  },
  {
    "text": "replication and other behavior under the",
    "start": "1260080",
    "end": "1261760"
  },
  {
    "text": "hood",
    "start": "1261760",
    "end": "1262640"
  },
  {
    "text": "uh you won't have to build as much",
    "start": "1262640",
    "end": "1264640"
  },
  {
    "text": "operational tooling on top of it",
    "start": "1264640",
    "end": "1267520"
  },
  {
    "text": "there are a few other use cases that can",
    "start": "1267520",
    "end": "1270159"
  },
  {
    "text": "take advantage of local disks pretty",
    "start": "1270159",
    "end": "1271760"
  },
  {
    "text": "well",
    "start": "1271760",
    "end": "1272080"
  },
  {
    "text": "outside of just databases so some data",
    "start": "1272080",
    "end": "1275039"
  },
  {
    "text": "processing pipelines can use disk as",
    "start": "1275039",
    "end": "1277520"
  },
  {
    "text": "kind of a spillover cache for data",
    "start": "1277520",
    "end": "1279760"
  },
  {
    "text": "um so you know these cases where the",
    "start": "1279760",
    "end": "1282159"
  },
  {
    "text": "data on disk is purely ephemeral",
    "start": "1282159",
    "end": "1284400"
  },
  {
    "text": "um can be really helpful because again",
    "start": "1284400",
    "end": "1286880"
  },
  {
    "text": "you know if you're using it",
    "start": "1286880",
    "end": "1288159"
  },
  {
    "text": "for some sort of local cache and like",
    "start": "1288159",
    "end": "1291039"
  },
  {
    "text": "data processing",
    "start": "1291039",
    "end": "1292240"
  },
  {
    "text": "you don't really need that storage like",
    "start": "1292240",
    "end": "1294320"
  },
  {
    "text": "stored on a remote store",
    "start": "1294320",
    "end": "1295919"
  },
  {
    "text": "and replicated for you because you can",
    "start": "1295919",
    "end": "1297679"
  },
  {
    "text": "lose it at any time",
    "start": "1297679",
    "end": "1300000"
  },
  {
    "text": "additionally there are some databases",
    "start": "1300000",
    "end": "1301919"
  },
  {
    "text": "that can use",
    "start": "1301919",
    "end": "1303280"
  },
  {
    "text": "you know certain paths for just",
    "start": "1303280",
    "end": "1306320"
  },
  {
    "text": "incoming rights or buffering incoming",
    "start": "1306320",
    "end": "1308559"
  },
  {
    "text": "rights and then have a",
    "start": "1308559",
    "end": "1310240"
  },
  {
    "text": "or use a different storage path for uh",
    "start": "1310240",
    "end": "1312880"
  },
  {
    "text": "long-term",
    "start": "1312880",
    "end": "1313840"
  },
  {
    "text": "data storage so for example cassandra",
    "start": "1313840",
    "end": "1316880"
  },
  {
    "text": "can do this um",
    "start": "1316880",
    "end": "1318240"
  },
  {
    "text": "this and so in this case you could do",
    "start": "1318240",
    "end": "1320159"
  },
  {
    "text": "something like have",
    "start": "1320159",
    "end": "1321520"
  },
  {
    "text": "incoming rights buffered to a local disk",
    "start": "1321520",
    "end": "1325600"
  },
  {
    "text": "and use a remote disk for long term",
    "start": "1325600",
    "end": "1328400"
  },
  {
    "text": "storage",
    "start": "1328400",
    "end": "1329200"
  },
  {
    "text": "again you wouldn't want to do this",
    "start": "1329200",
    "end": "1330400"
  },
  {
    "text": "unless you were replicating the data",
    "start": "1330400",
    "end": "1332000"
  },
  {
    "text": "across multiple instances",
    "start": "1332000",
    "end": "1333760"
  },
  {
    "text": "but this would mean that for that more",
    "start": "1333760",
    "end": "1336080"
  },
  {
    "text": "performance sensitive use case",
    "start": "1336080",
    "end": "1337840"
  },
  {
    "text": "of kind of committing incoming rights",
    "start": "1337840",
    "end": "1340960"
  },
  {
    "text": "you can just use the local disk and even",
    "start": "1340960",
    "end": "1343600"
  },
  {
    "text": "if that instance",
    "start": "1343600",
    "end": "1345039"
  },
  {
    "text": "it fails and is rescheduled you only",
    "start": "1345039",
    "end": "1347760"
  },
  {
    "text": "lost from that one in since a short",
    "start": "1347760",
    "end": "1349760"
  },
  {
    "text": "period of time so a short period of data",
    "start": "1349760",
    "end": "1352400"
  },
  {
    "text": "so this is kind of a best of both world",
    "start": "1352400",
    "end": "1354400"
  },
  {
    "text": "scenario",
    "start": "1354400",
    "end": "1356960"
  },
  {
    "start": "1357000",
    "end": "1357000"
  },
  {
    "text": "so to recap some of the themes we've",
    "start": "1358080",
    "end": "1359679"
  },
  {
    "text": "talked about you know since local",
    "start": "1359679",
    "end": "1361200"
  },
  {
    "text": "volumes present",
    "start": "1361200",
    "end": "1362400"
  },
  {
    "text": "kind of a departure from typical",
    "start": "1362400",
    "end": "1364320"
  },
  {
    "text": "operations that you're used to",
    "start": "1364320",
    "end": "1366080"
  },
  {
    "text": "you really do have to consider the",
    "start": "1366080",
    "end": "1367520"
  },
  {
    "text": "impact it will have on both your",
    "start": "1367520",
    "end": "1369520"
  },
  {
    "text": "workloads and your day-to-day",
    "start": "1369520",
    "end": "1371840"
  },
  {
    "text": "operations and you'll likely have a",
    "start": "1371840",
    "end": "1374240"
  },
  {
    "text": "smoother",
    "start": "1374240",
    "end": "1374880"
  },
  {
    "text": "experience getting started and running",
    "start": "1374880",
    "end": "1377120"
  },
  {
    "text": "further in production",
    "start": "1377120",
    "end": "1378559"
  },
  {
    "text": "if you at least start with these",
    "start": "1378559",
    "end": "1379760"
  },
  {
    "text": "workloads that are kind of like already",
    "start": "1379760",
    "end": "1381440"
  },
  {
    "text": "fault tolerant or",
    "start": "1381440",
    "end": "1383039"
  },
  {
    "text": "purely ephemeral as they'll require you",
    "start": "1383039",
    "end": "1385440"
  },
  {
    "text": "to let build",
    "start": "1385440",
    "end": "1386400"
  },
  {
    "text": "less operational tooling on top of that",
    "start": "1386400",
    "end": "1390400"
  },
  {
    "text": "your cloud provider will likely document",
    "start": "1390400",
    "end": "1392400"
  },
  {
    "text": "the behaviors that you should expect",
    "start": "1392400",
    "end": "1394080"
  },
  {
    "text": "with local disks",
    "start": "1394080",
    "end": "1395200"
  },
  {
    "text": "and this knowledge combined with how",
    "start": "1395200",
    "end": "1398000"
  },
  {
    "text": "local persistent volumes and kubernetes",
    "start": "1398000",
    "end": "1399919"
  },
  {
    "text": "work is going to",
    "start": "1399919",
    "end": "1401360"
  },
  {
    "text": "be pretty key to painting a better",
    "start": "1401360",
    "end": "1403280"
  },
  {
    "text": "picture of what to expect in",
    "start": "1403280",
    "end": "1404880"
  },
  {
    "text": "day-to-day operations so um those are",
    "start": "1404880",
    "end": "1407679"
  },
  {
    "text": "both",
    "start": "1407679",
    "end": "1408080"
  },
  {
    "text": "to or both your cloud providers",
    "start": "1408080",
    "end": "1410080"
  },
  {
    "text": "documentation and some of the",
    "start": "1410080",
    "end": "1411679"
  },
  {
    "text": "the kubernetes resources are good things",
    "start": "1411679",
    "end": "1414320"
  },
  {
    "text": "to",
    "start": "1414320",
    "end": "1414799"
  },
  {
    "text": "kind of absorb um and in addition to",
    "start": "1414799",
    "end": "1418159"
  },
  {
    "text": "some of the practices we've talked about",
    "start": "1418159",
    "end": "1419919"
  },
  {
    "text": "here there's a really helpful",
    "start": "1419919",
    "end": "1421360"
  },
  {
    "text": "best practices dock in the local static",
    "start": "1421360",
    "end": "1423919"
  },
  {
    "text": "provisioner repo",
    "start": "1423919",
    "end": "1425120"
  },
  {
    "text": "that gets into kind of more of the",
    "start": "1425120",
    "end": "1427200"
  },
  {
    "text": "nitty-gritty details of mounting disks",
    "start": "1427200",
    "end": "1429440"
  },
  {
    "text": "and everything",
    "start": "1429440",
    "end": "1431840"
  },
  {
    "start": "1432000",
    "end": "1432000"
  },
  {
    "text": "uh these are just some helpful resources",
    "start": "1432240",
    "end": "1433919"
  },
  {
    "text": "that i've referenced so far",
    "start": "1433919",
    "end": "1435520"
  },
  {
    "text": "and i'll post these in these are these",
    "start": "1435520",
    "end": "1437679"
  },
  {
    "text": "will be in the slides that are posted",
    "start": "1437679",
    "end": "1439120"
  },
  {
    "text": "afterwards",
    "start": "1439120",
    "end": "1441039"
  },
  {
    "text": "and that's about all i have thank you",
    "start": "1441039",
    "end": "1442640"
  },
  {
    "text": "all for joining and i hope that this was",
    "start": "1442640",
    "end": "1444320"
  },
  {
    "text": "helpful",
    "start": "1444320",
    "end": "1444880"
  },
  {
    "text": "um like i said we i work at chronosphere",
    "start": "1444880",
    "end": "1448240"
  },
  {
    "text": "and we have a virtual booth here where",
    "start": "1448240",
    "end": "1450159"
  },
  {
    "text": "we would love to talk further with you",
    "start": "1450159",
    "end": "1452320"
  },
  {
    "text": "um and you can come see a demo of the",
    "start": "1452320",
    "end": "1454640"
  },
  {
    "text": "platform that i mentioned",
    "start": "1454640",
    "end": "1456320"
  },
  {
    "text": "and if anyone is available or sorry i'll",
    "start": "1456320",
    "end": "1458480"
  },
  {
    "text": "be available later if anyone wants to",
    "start": "1458480",
    "end": "1460240"
  },
  {
    "text": "talk about",
    "start": "1460240",
    "end": "1460960"
  },
  {
    "text": "uh just local disks or any of the topics",
    "start": "1460960",
    "end": "1463679"
  },
  {
    "text": "we've talked about or kind of have any",
    "start": "1463679",
    "end": "1465360"
  },
  {
    "text": "further questions",
    "start": "1465360",
    "end": "1466720"
  },
  {
    "text": "um and with that i will get into the q a",
    "start": "1466720",
    "end": "1471840"
  }
]