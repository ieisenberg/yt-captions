[
  {
    "start": "0",
    "end": "31000"
  },
  {
    "text": "uh hi my name is eric i work at github",
    "start": "240",
    "end": "2639"
  },
  {
    "text": "in the platform organization",
    "start": "2639",
    "end": "4400"
  },
  {
    "text": "and for the past 18 months my team and i",
    "start": "4400",
    "end": "6640"
  },
  {
    "text": "have been working",
    "start": "6640",
    "end": "7600"
  },
  {
    "text": "on making spiffy inspire available for",
    "start": "7600",
    "end": "10400"
  },
  {
    "text": "engineers internal to github",
    "start": "10400",
    "end": "12960"
  },
  {
    "text": "and we have been running spire in",
    "start": "12960",
    "end": "14880"
  },
  {
    "text": "production for the past year",
    "start": "14880",
    "end": "17600"
  },
  {
    "text": "getup submission is to be the home for",
    "start": "17600",
    "end": "19359"
  },
  {
    "text": "all developers we are the world's",
    "start": "19359",
    "end": "21600"
  },
  {
    "text": "largest subversion repository management",
    "start": "21600",
    "end": "23760"
  },
  {
    "text": "company and we also hold",
    "start": "23760",
    "end": "25279"
  },
  {
    "text": "host git uh also",
    "start": "25279",
    "end": "28720"
  },
  {
    "text": "is something we do so",
    "start": "28720",
    "end": "31920"
  },
  {
    "start": "31000",
    "end": "31000"
  },
  {
    "text": "uh the goal of this talk is to provide",
    "start": "31920",
    "end": "33840"
  },
  {
    "text": "something",
    "start": "33840",
    "end": "35360"
  },
  {
    "text": "of a practitioner story or a team trying",
    "start": "35360",
    "end": "37840"
  },
  {
    "text": "to make this available",
    "start": "37840",
    "end": "39120"
  },
  {
    "text": "internally for a company that has around",
    "start": "39120",
    "end": "42079"
  },
  {
    "text": "15",
    "start": "42079",
    "end": "42960"
  },
  {
    "text": "or well 11 years of infrastructure",
    "start": "42960",
    "end": "45840"
  },
  {
    "text": "opinion",
    "start": "45840",
    "end": "47120"
  },
  {
    "text": "uh is not fully running on a public",
    "start": "47120",
    "end": "49440"
  },
  {
    "text": "cloud but runs on",
    "start": "49440",
    "end": "50399"
  },
  {
    "text": "multiple public clouds some of which may",
    "start": "50399",
    "end": "52399"
  },
  {
    "text": "start with the letter a",
    "start": "52399",
    "end": "54640"
  },
  {
    "text": "and i really want to talk about two",
    "start": "54640",
    "end": "57120"
  },
  {
    "text": "implementation details of how we operate",
    "start": "57120",
    "end": "58960"
  },
  {
    "text": "spire today",
    "start": "58960",
    "end": "60719"
  },
  {
    "text": "the first is how we operate our agents",
    "start": "60719",
    "end": "64640"
  },
  {
    "text": "and the second is how we generate custom",
    "start": "64640",
    "end": "67360"
  },
  {
    "text": "node selectors",
    "start": "67360",
    "end": "69040"
  },
  {
    "text": "support registration entries for vending",
    "start": "69040",
    "end": "71680"
  },
  {
    "text": "svids",
    "start": "71680",
    "end": "72400"
  },
  {
    "text": "to workloads and i'll try to wrap it up",
    "start": "72400",
    "end": "75360"
  },
  {
    "text": "with some takeaways and learnings and",
    "start": "75360",
    "end": "77119"
  },
  {
    "text": "outcomes that we've achieved on the team",
    "start": "77119",
    "end": "79920"
  },
  {
    "text": "and as a full disclaimer this is how we",
    "start": "79920",
    "end": "83119"
  },
  {
    "text": "do it",
    "start": "83119",
    "end": "84159"
  },
  {
    "text": "this is not how to do it and i'd like to",
    "start": "84159",
    "end": "86799"
  },
  {
    "text": "thank uh",
    "start": "86799",
    "end": "87680"
  },
  {
    "text": "ben bury from my team who reminded me to",
    "start": "87680",
    "end": "90159"
  },
  {
    "text": "give this disclaimer to people",
    "start": "90159",
    "end": "91840"
  },
  {
    "text": "because um we don't want to present our",
    "start": "91840",
    "end": "93759"
  },
  {
    "text": "work as what you should do",
    "start": "93759",
    "end": "96079"
  },
  {
    "text": "it is a contextual solution for our",
    "start": "96079",
    "end": "98840"
  },
  {
    "text": "setup",
    "start": "98840",
    "end": "101840"
  },
  {
    "start": "101000",
    "end": "101000"
  },
  {
    "text": "so to start things off we talk about",
    "start": "102159",
    "end": "105200"
  },
  {
    "text": "motivations as i said a moment ago",
    "start": "105200",
    "end": "108560"
  },
  {
    "text": "github runs their own data centers",
    "start": "108560",
    "end": "110479"
  },
  {
    "text": "we run on multiple clouds",
    "start": "110479",
    "end": "113759"
  },
  {
    "text": "in the past two years we've been ramping",
    "start": "113759",
    "end": "116399"
  },
  {
    "text": "up the product",
    "start": "116399",
    "end": "117280"
  },
  {
    "text": "offerings we've been generating more",
    "start": "117280",
    "end": "118960"
  },
  {
    "text": "traffic more traffic worldwide",
    "start": "118960",
    "end": "121280"
  },
  {
    "text": "um we've actually taken measurements um",
    "start": "121280",
    "end": "124159"
  },
  {
    "text": "internally",
    "start": "124159",
    "end": "124960"
  },
  {
    "text": "for tcp flows and we've kind of shown",
    "start": "124960",
    "end": "128000"
  },
  {
    "text": "like a linear growth in internal traffic",
    "start": "128000",
    "end": "131039"
  },
  {
    "text": "so there are more things talking to each",
    "start": "131039",
    "end": "132720"
  },
  {
    "text": "other inside the dmz",
    "start": "132720",
    "end": "134319"
  },
  {
    "text": "than before and there are more data",
    "start": "134319",
    "end": "136640"
  },
  {
    "text": "centers",
    "start": "136640",
    "end": "137360"
  },
  {
    "text": "than before um",
    "start": "137360",
    "end": "140640"
  },
  {
    "text": "on top of that there's been a lot of",
    "start": "140640",
    "end": "142560"
  },
  {
    "text": "hiring and",
    "start": "142560",
    "end": "144080"
  },
  {
    "text": "news services net new products uh",
    "start": "144080",
    "end": "146239"
  },
  {
    "text": "packages cisga",
    "start": "146239",
    "end": "147840"
  },
  {
    "text": "um trying to remember what i can and",
    "start": "147840",
    "end": "150720"
  },
  {
    "text": "can't talk about",
    "start": "150720",
    "end": "151519"
  },
  {
    "text": "but go to the changelog it's very well",
    "start": "151519",
    "end": "153440"
  },
  {
    "text": "written uh there are a lot of things",
    "start": "153440",
    "end": "154800"
  },
  {
    "text": "coming out",
    "start": "154800",
    "end": "155599"
  },
  {
    "text": "and there's a lot of software behind",
    "start": "155599",
    "end": "157840"
  },
  {
    "text": "what's coming out",
    "start": "157840",
    "end": "159599"
  },
  {
    "text": "um in addition to that kind of",
    "start": "159599",
    "end": "162640"
  },
  {
    "text": "the past two years have shown",
    "start": "162640",
    "end": "164000"
  },
  {
    "text": "acquisitions github",
    "start": "164000",
    "end": "165680"
  },
  {
    "text": "um was acquired npm",
    "start": "165680",
    "end": "168840"
  },
  {
    "text": "symbol these acquisitions bring their",
    "start": "168840",
    "end": "172480"
  },
  {
    "text": "own infrastructure their own opinions",
    "start": "172480",
    "end": "174319"
  },
  {
    "text": "their own systems",
    "start": "174319",
    "end": "175519"
  },
  {
    "text": "and so we kind of took great pains to be",
    "start": "175519",
    "end": "178159"
  },
  {
    "text": "sympathetic to",
    "start": "178159",
    "end": "179440"
  },
  {
    "text": "how our colleagues are coming to the",
    "start": "179440",
    "end": "181599"
  },
  {
    "text": "organization and how they want to work",
    "start": "181599",
    "end": "183040"
  },
  {
    "text": "with us",
    "start": "183040",
    "end": "184640"
  },
  {
    "text": "so um how do we kind of plan for all",
    "start": "184640",
    "end": "186879"
  },
  {
    "text": "this variation in",
    "start": "186879",
    "end": "188720"
  },
  {
    "text": "what run at what runs a github and where",
    "start": "188720",
    "end": "191360"
  },
  {
    "text": "it runs",
    "start": "191360",
    "end": "192800"
  },
  {
    "text": "um we initially were interested in",
    "start": "192800",
    "end": "195680"
  },
  {
    "text": "spiffy because it's extensible and open",
    "start": "195680",
    "end": "198720"
  },
  {
    "text": "um for example i think in evan and",
    "start": "198720",
    "end": "201920"
  },
  {
    "text": "andrew's presentation they talked about",
    "start": "201920",
    "end": "203519"
  },
  {
    "text": "the upstream ca plug-ins",
    "start": "203519",
    "end": "205200"
  },
  {
    "text": "of which spire is itself one uh we run",
    "start": "205200",
    "end": "208239"
  },
  {
    "text": "vault internally",
    "start": "208239",
    "end": "209280"
  },
  {
    "text": "and we don't necessarily want to build a",
    "start": "209280",
    "end": "211120"
  },
  {
    "text": "parallel pki infrastructure just to",
    "start": "211120",
    "end": "213440"
  },
  {
    "text": "support spire",
    "start": "213440",
    "end": "215280"
  },
  {
    "text": "the goal issue should be to reuse as",
    "start": "215280",
    "end": "217760"
  },
  {
    "text": "much as we possibly can",
    "start": "217760",
    "end": "220000"
  },
  {
    "text": "and to leverage everything that we have",
    "start": "220000",
    "end": "222879"
  },
  {
    "text": "done that already works well",
    "start": "222879",
    "end": "225280"
  },
  {
    "text": "um and point three which i think didn't",
    "start": "225280",
    "end": "228799"
  },
  {
    "text": "actually make the slide",
    "start": "228799",
    "end": "229840"
  },
  {
    "text": "is um we have workloads that leverage l4",
    "start": "229840",
    "end": "232080"
  },
  {
    "text": "load balancers",
    "start": "232080",
    "end": "233040"
  },
  {
    "text": "so some groups use just jot svid",
    "start": "233040",
    "end": "236720"
  },
  {
    "text": "some groups seem to use 9",
    "start": "236720",
    "end": "239920"
  },
  {
    "text": "we use both so we can support your use",
    "start": "239920",
    "end": "243599"
  },
  {
    "text": "case whether you're mediated by a load",
    "start": "243599",
    "end": "245280"
  },
  {
    "text": "balance or not",
    "start": "245280",
    "end": "248319"
  },
  {
    "start": "249000",
    "end": "249000"
  },
  {
    "text": "um talking a little bit about the",
    "start": "249680",
    "end": "252400"
  },
  {
    "text": "approach",
    "start": "252400",
    "end": "253760"
  },
  {
    "text": "good tools have gradations of power and",
    "start": "253760",
    "end": "257359"
  },
  {
    "text": "we're trying to make our platform",
    "start": "257359",
    "end": "258880"
  },
  {
    "text": "offering as modular as possible",
    "start": "258880",
    "end": "261359"
  },
  {
    "text": "so um visually you could kind of think",
    "start": "261359",
    "end": "263440"
  },
  {
    "text": "of it as a pyramid where as you go up",
    "start": "263440",
    "end": "265280"
  },
  {
    "text": "the pyramid",
    "start": "265280",
    "end": "266160"
  },
  {
    "text": "um you have a reduced sort of area",
    "start": "266160",
    "end": "269680"
  },
  {
    "text": "where that's curation so at the very",
    "start": "269680",
    "end": "272320"
  },
  {
    "text": "bottom we have these",
    "start": "272320",
    "end": "273520"
  },
  {
    "text": "interfaces of x509 svid and jadasvid",
    "start": "273520",
    "end": "277360"
  },
  {
    "text": "where if teams were to actually conform",
    "start": "277360",
    "end": "279840"
  },
  {
    "text": "to these themselves",
    "start": "279840",
    "end": "281520"
  },
  {
    "text": "they could potentially just be in spec",
    "start": "281520",
    "end": "285520"
  },
  {
    "text": "because this is an open standard this is",
    "start": "285520",
    "end": "287520"
  },
  {
    "text": "more of a utility than a strategy",
    "start": "287520",
    "end": "289840"
  },
  {
    "text": "component of how github uses technology",
    "start": "289840",
    "end": "292960"
  },
  {
    "text": "and in the center we want to be the team",
    "start": "292960",
    "end": "296080"
  },
  {
    "text": "that operates a centralized spire",
    "start": "296080",
    "end": "297759"
  },
  {
    "text": "infrastructure",
    "start": "297759",
    "end": "300240"
  },
  {
    "text": "stands up the servers manages the data",
    "start": "300240",
    "end": "303440"
  },
  {
    "text": "store",
    "start": "303440",
    "end": "304320"
  },
  {
    "text": "manages the infrastructure automation",
    "start": "304320",
    "end": "305840"
  },
  {
    "text": "for agents",
    "start": "305840",
    "end": "307520"
  },
  {
    "text": "and provides sort of a workload api out",
    "start": "307520",
    "end": "309520"
  },
  {
    "text": "of the box for teams in whatever",
    "start": "309520",
    "end": "311280"
  },
  {
    "text": "execution environment they're running in",
    "start": "311280",
    "end": "314800"
  },
  {
    "text": "and for teams that don't necessarily",
    "start": "314800",
    "end": "316960"
  },
  {
    "text": "want to deal with raw infrastructure at",
    "start": "316960",
    "end": "318479"
  },
  {
    "text": "the very top",
    "start": "318479",
    "end": "319280"
  },
  {
    "text": "where we hope to land almost everybody",
    "start": "319280",
    "end": "321199"
  },
  {
    "text": "is development tools",
    "start": "321199",
    "end": "323280"
  },
  {
    "text": "so shared libraries packages",
    "start": "323280",
    "end": "326320"
  },
  {
    "text": "and we've also i think everybody in",
    "start": "326320",
    "end": "328560"
  },
  {
    "text": "industry has developed a side card",
    "start": "328560",
    "end": "330320"
  },
  {
    "text": "one point or another it's kind of like",
    "start": "330320",
    "end": "331759"
  },
  {
    "text": "making your own web framework in 2020",
    "start": "331759",
    "end": "333759"
  },
  {
    "text": "everyone just does it",
    "start": "333759",
    "end": "334880"
  },
  {
    "text": "i don't know we've developed an external",
    "start": "334880",
    "end": "337840"
  },
  {
    "text": "authorization speaking sidecar",
    "start": "337840",
    "end": "339600"
  },
  {
    "text": "and external authorization as in um",
    "start": "339600",
    "end": "342400"
  },
  {
    "text": "envoy",
    "start": "342400",
    "end": "343120"
  },
  {
    "text": "so we can actually use envoy to",
    "start": "343120",
    "end": "346160"
  },
  {
    "text": "inject and validate shot tokens coming",
    "start": "346160",
    "end": "349280"
  },
  {
    "text": "in and out of your service",
    "start": "349280",
    "end": "352400"
  },
  {
    "text": "this use case is particularly applicable",
    "start": "352400",
    "end": "355280"
  },
  {
    "text": "for",
    "start": "355280",
    "end": "356479"
  },
  {
    "text": "dynamic languages where",
    "start": "356479",
    "end": "359600"
  },
  {
    "text": "we may not necessarily want to go too",
    "start": "359600",
    "end": "362240"
  },
  {
    "text": "deep into the app we don't want to do",
    "start": "362240",
    "end": "363759"
  },
  {
    "text": "too much surgery on the workload",
    "start": "363759",
    "end": "365520"
  },
  {
    "text": "or be kind of intimately involved in the",
    "start": "365520",
    "end": "368800"
  },
  {
    "text": "internals of something that we're really",
    "start": "368800",
    "end": "370400"
  },
  {
    "text": "just trying to",
    "start": "370400",
    "end": "372240"
  },
  {
    "text": "mediate authentication with using spiffy",
    "start": "372240",
    "end": "376880"
  },
  {
    "text": "so i'm going to talk about how we",
    "start": "377120",
    "end": "378720"
  },
  {
    "text": "initially approach the spire setup with",
    "start": "378720",
    "end": "380560"
  },
  {
    "text": "the agents",
    "start": "380560",
    "end": "383120"
  },
  {
    "start": "383000",
    "end": "383000"
  },
  {
    "text": "so um take one we initially started",
    "start": "383919",
    "end": "388319"
  },
  {
    "text": "experimenting with spire running in",
    "start": "388319",
    "end": "390560"
  },
  {
    "text": "kubernetes",
    "start": "390560",
    "end": "391840"
  },
  {
    "text": "we run cube internally",
    "start": "391840",
    "end": "394880"
  },
  {
    "text": "and we wanted to actually leverage that",
    "start": "394880",
    "end": "396880"
  },
  {
    "text": "team's good work",
    "start": "396880",
    "end": "397919"
  },
  {
    "text": "and all of their kind of gains in",
    "start": "397919",
    "end": "399520"
  },
  {
    "text": "reliability and operability",
    "start": "399520",
    "end": "401840"
  },
  {
    "text": "to not necessarily be managing vms",
    "start": "401840",
    "end": "405199"
  },
  {
    "text": "metal ourselves and the kind of",
    "start": "405199",
    "end": "408400"
  },
  {
    "text": "reference architectures we've seen um in",
    "start": "408400",
    "end": "411440"
  },
  {
    "text": "the community are",
    "start": "411440",
    "end": "412960"
  },
  {
    "text": "services as um as in kube services to",
    "start": "412960",
    "end": "416400"
  },
  {
    "text": "run spire servers",
    "start": "416400",
    "end": "417599"
  },
  {
    "text": "and agents running his name in sets per",
    "start": "417599",
    "end": "420840"
  },
  {
    "text": "node",
    "start": "420840",
    "end": "423840"
  },
  {
    "start": "423000",
    "end": "423000"
  },
  {
    "text": "we observed some issues after kind of",
    "start": "424560",
    "end": "427680"
  },
  {
    "text": "kicking this around for a little while",
    "start": "427680",
    "end": "429199"
  },
  {
    "text": "in the first um",
    "start": "429199",
    "end": "430400"
  },
  {
    "text": "first month or so um",
    "start": "430400",
    "end": "434560"
  },
  {
    "text": "in particular with um agents so daemon",
    "start": "434560",
    "end": "437919"
  },
  {
    "text": "sets can't",
    "start": "437919",
    "end": "438800"
  },
  {
    "text": "be made highly available um",
    "start": "438800",
    "end": "442400"
  },
  {
    "text": "they're they're unbounded in downtime",
    "start": "442400",
    "end": "444720"
  },
  {
    "text": "between deploys",
    "start": "444720",
    "end": "445840"
  },
  {
    "text": "and you're actually kind of relying on",
    "start": "445840",
    "end": "447360"
  },
  {
    "text": "the kube scheduler to",
    "start": "447360",
    "end": "449360"
  },
  {
    "text": "place a pod to replace the pod that was",
    "start": "449360",
    "end": "451759"
  },
  {
    "text": "the daemon set",
    "start": "451759",
    "end": "453440"
  },
  {
    "text": "so that that was a challenge um",
    "start": "453440",
    "end": "456639"
  },
  {
    "text": "workloads also can't rely on spire being",
    "start": "456639",
    "end": "459280"
  },
  {
    "text": "available",
    "start": "459280",
    "end": "460080"
  },
  {
    "text": "at startup because of this",
    "start": "460080",
    "end": "461360"
  },
  {
    "text": "non-determinism related to the scheduler",
    "start": "461360",
    "end": "464960"
  },
  {
    "text": "so all workloads or whatever curation we",
    "start": "464960",
    "end": "467360"
  },
  {
    "text": "provide to users would have to implement",
    "start": "467360",
    "end": "469120"
  },
  {
    "text": "some sort of",
    "start": "469120",
    "end": "470000"
  },
  {
    "text": "retry or blocking mechanism to kind of",
    "start": "470000",
    "end": "472879"
  },
  {
    "text": "pull or wait",
    "start": "472879",
    "end": "473919"
  },
  {
    "text": "for the workload api not not the end of",
    "start": "473919",
    "end": "476400"
  },
  {
    "text": "the world but",
    "start": "476400",
    "end": "477440"
  },
  {
    "text": "kind of another small piece of",
    "start": "477440",
    "end": "479120"
  },
  {
    "text": "complexity rather than relying on the",
    "start": "479120",
    "end": "481120"
  },
  {
    "text": "invariant of",
    "start": "481120",
    "end": "482160"
  },
  {
    "text": "a workload api being there and ready",
    "start": "482160",
    "end": "485120"
  },
  {
    "text": "waiting for your workload",
    "start": "485120",
    "end": "486560"
  },
  {
    "text": "on startup and um",
    "start": "486560",
    "end": "490479"
  },
  {
    "text": "something that's kind of a subtlety is",
    "start": "490479",
    "end": "492800"
  },
  {
    "text": "the duel of",
    "start": "492800",
    "end": "494319"
  },
  {
    "text": "that race condition is draining a note",
    "start": "494319",
    "end": "496960"
  },
  {
    "text": "so we may actually drain the daemon set",
    "start": "496960",
    "end": "498960"
  },
  {
    "text": "before we drain the workload",
    "start": "498960",
    "end": "500960"
  },
  {
    "text": "so if we pull the daemon set and spire",
    "start": "500960",
    "end": "504240"
  },
  {
    "text": "disappears the workload may actually be",
    "start": "504240",
    "end": "506720"
  },
  {
    "text": "waiting",
    "start": "506720",
    "end": "507599"
  },
  {
    "text": "or accessing the workload api with no",
    "start": "507599",
    "end": "510639"
  },
  {
    "text": "agent listening",
    "start": "510639",
    "end": "512479"
  },
  {
    "text": "um also not everything we run is in coop",
    "start": "512479",
    "end": "515919"
  },
  {
    "text": "for very obvious reasons",
    "start": "515919",
    "end": "517680"
  },
  {
    "text": "we would have to sort of synchronize",
    "start": "517680",
    "end": "519680"
  },
  {
    "text": "infrastructure automation to cover",
    "start": "519680",
    "end": "521440"
  },
  {
    "text": "both agents in and out of hosts and",
    "start": "521440",
    "end": "524880"
  },
  {
    "text": "some coupe nodes probably would need",
    "start": "524880",
    "end": "529279"
  },
  {
    "text": "both there are probably workloads",
    "start": "531120",
    "end": "532800"
  },
  {
    "text": "resident on cube nodes that",
    "start": "532800",
    "end": "534720"
  },
  {
    "text": "might have to reach in or so that would",
    "start": "534720",
    "end": "537279"
  },
  {
    "text": "imply we would run",
    "start": "537279",
    "end": "538080"
  },
  {
    "text": "two aspire agents um that was that was",
    "start": "538080",
    "end": "541519"
  },
  {
    "text": "the challenge",
    "start": "541519",
    "end": "544000"
  },
  {
    "start": "546000",
    "end": "546000"
  },
  {
    "text": "so we resolve these issues by in our",
    "start": "546560",
    "end": "549680"
  },
  {
    "text": "case",
    "start": "549680",
    "end": "550080"
  },
  {
    "text": "just running the spire agent as a",
    "start": "550080",
    "end": "551760"
  },
  {
    "text": "regular demon",
    "start": "551760",
    "end": "554560"
  },
  {
    "text": "so we kind of avoid the problem of pod",
    "start": "555519",
    "end": "558399"
  },
  {
    "text": "schedule ordering by avoiding the",
    "start": "558399",
    "end": "560640"
  },
  {
    "text": "kubernetes scheduler entirely",
    "start": "560640",
    "end": "564080"
  },
  {
    "text": "and we kind of make spire",
    "start": "564080",
    "end": "567120"
  },
  {
    "text": "part of the second party software we lay",
    "start": "567120",
    "end": "569519"
  },
  {
    "text": "down on a coupe note before",
    "start": "569519",
    "end": "572000"
  },
  {
    "text": "um the kubelet starts to take work",
    "start": "572000",
    "end": "576160"
  },
  {
    "text": "from the api server so this",
    "start": "576160",
    "end": "579360"
  },
  {
    "text": "mitigates some of the race conditions i",
    "start": "579360",
    "end": "580959"
  },
  {
    "text": "mean it's probably still good resilient",
    "start": "580959",
    "end": "582880"
  },
  {
    "text": "practice to",
    "start": "582880",
    "end": "584160"
  },
  {
    "text": "pull or wait for a workload api but this",
    "start": "584160",
    "end": "586959"
  },
  {
    "text": "problem",
    "start": "586959",
    "end": "587680"
  },
  {
    "text": "is largely mitigated by just making sure",
    "start": "587680",
    "end": "590000"
  },
  {
    "text": "that the workload api",
    "start": "590000",
    "end": "591600"
  },
  {
    "text": "is resident before the pod is started",
    "start": "591600",
    "end": "595040"
  },
  {
    "text": "and the dual maintenance goes away",
    "start": "595040",
    "end": "596800"
  },
  {
    "text": "because everything is just",
    "start": "596800",
    "end": "598399"
  },
  {
    "text": "one set of infrastructure automation",
    "start": "598399",
    "end": "603040"
  },
  {
    "text": "and um that is actually the systemd logo",
    "start": "603040",
    "end": "606480"
  },
  {
    "text": "i went into google image search i think",
    "start": "606480",
    "end": "609200"
  },
  {
    "text": "it's a green light being pointed to or",
    "start": "609200",
    "end": "611200"
  },
  {
    "text": "maybe it's",
    "start": "611200",
    "end": "611760"
  },
  {
    "text": "it's the letter okay i was debating this",
    "start": "611760",
    "end": "613760"
  },
  {
    "text": "with somebody yesterday on a zoom",
    "start": "613760",
    "end": "615279"
  },
  {
    "text": "but i've never seen it before record and",
    "start": "615279",
    "end": "617920"
  },
  {
    "text": "play backwards",
    "start": "617920",
    "end": "620560"
  },
  {
    "text": "maybe it's like the missing vcr button i",
    "start": "620560",
    "end": "623760"
  },
  {
    "text": "don't know",
    "start": "623760",
    "end": "624640"
  },
  {
    "text": "um maybe one last thing is uh systemd",
    "start": "624640",
    "end": "627279"
  },
  {
    "text": "kind of allows an ordering of units",
    "start": "627279",
    "end": "629279"
  },
  {
    "text": "uh so obviously we can say for workload",
    "start": "629279",
    "end": "632720"
  },
  {
    "text": "out of station we would like to start",
    "start": "632720",
    "end": "634240"
  },
  {
    "text": "after the kubrick starts",
    "start": "634240",
    "end": "636240"
  },
  {
    "text": "so there's not kind of a false signal",
    "start": "636240",
    "end": "639120"
  },
  {
    "text": "about errors being unable to",
    "start": "639120",
    "end": "642079"
  },
  {
    "text": "contact the kubelet things like that be",
    "start": "642079",
    "end": "646160"
  },
  {
    "start": "646000",
    "end": "646000"
  },
  {
    "text": "kind and rewind",
    "start": "646160",
    "end": "647519"
  },
  {
    "text": "yeah um so",
    "start": "647519",
    "end": "650720"
  },
  {
    "text": "if we're actually running this as a",
    "start": "650720",
    "end": "653120"
  },
  {
    "text": "systemd unit how do we expose it to",
    "start": "653120",
    "end": "654959"
  },
  {
    "text": "pods um a kind of",
    "start": "654959",
    "end": "658720"
  },
  {
    "text": "redacted modified version of the the",
    "start": "658720",
    "end": "660959"
  },
  {
    "text": "wall of yaml for a deployment is on the",
    "start": "660959",
    "end": "662880"
  },
  {
    "text": "left",
    "start": "662880",
    "end": "664240"
  },
  {
    "text": "and uh we kind of take the underlying",
    "start": "664240",
    "end": "667600"
  },
  {
    "text": "domain socket",
    "start": "667600",
    "end": "669360"
  },
  {
    "text": "put it into a volume and just simply",
    "start": "669360",
    "end": "671200"
  },
  {
    "text": "mount that into the container within the",
    "start": "671200",
    "end": "673040"
  },
  {
    "text": "pod",
    "start": "673040",
    "end": "674480"
  },
  {
    "text": "um kubernetes is kind of a mature doll",
    "start": "674480",
    "end": "677519"
  },
  {
    "text": "but you know",
    "start": "677519",
    "end": "678399"
  },
  {
    "text": "pods live in templates inside of",
    "start": "678399",
    "end": "680079"
  },
  {
    "text": "deployments that's what this illustrates",
    "start": "680079",
    "end": "681760"
  },
  {
    "text": "essentially",
    "start": "681760",
    "end": "682720"
  },
  {
    "text": "sort of the the punch line is um the",
    "start": "682720",
    "end": "685360"
  },
  {
    "text": "view",
    "start": "685360",
    "end": "685839"
  },
  {
    "text": "from within the pod is",
    "start": "685839",
    "end": "689839"
  },
  {
    "text": "identical to a workload running on metal",
    "start": "689920",
    "end": "692000"
  },
  {
    "text": "or vm",
    "start": "692000",
    "end": "693600"
  },
  {
    "text": "it's kind of in this well-known location",
    "start": "693600",
    "end": "695680"
  },
  {
    "text": "it could be relied on to to be there",
    "start": "695680",
    "end": "699279"
  },
  {
    "text": "we also don't actually use um",
    "start": "699920",
    "end": "703120"
  },
  {
    "text": "mutating web hooks or any sort of",
    "start": "703120",
    "end": "705920"
  },
  {
    "text": "pre-deployed machinery",
    "start": "705920",
    "end": "707519"
  },
  {
    "text": "to place these in our experience has",
    "start": "707519",
    "end": "710720"
  },
  {
    "text": "been just",
    "start": "710720",
    "end": "711360"
  },
  {
    "text": "instructing teams um to add these few",
    "start": "711360",
    "end": "714240"
  },
  {
    "text": "lines for the volume",
    "start": "714240",
    "end": "715600"
  },
  {
    "text": "and kind of guaranteeing that whatever",
    "start": "715600",
    "end": "718480"
  },
  {
    "text": "cluster they're running on",
    "start": "718480",
    "end": "719920"
  },
  {
    "text": "provides this domain socket gives us a",
    "start": "719920",
    "end": "721600"
  },
  {
    "text": "lot of mileage and avoids a lot of",
    "start": "721600",
    "end": "725200"
  },
  {
    "text": "magic and people sort of have",
    "start": "725200",
    "end": "729040"
  },
  {
    "text": "folks have told us that they they",
    "start": "729040",
    "end": "730959"
  },
  {
    "text": "appreciate the kind of transparency and",
    "start": "730959",
    "end": "732480"
  },
  {
    "text": "how things work",
    "start": "732480",
    "end": "733680"
  },
  {
    "text": "and um and what's actually going on",
    "start": "733680",
    "end": "737360"
  },
  {
    "text": "so kind of the other consequences the",
    "start": "738240",
    "end": "740959"
  },
  {
    "text": "domain socket is available to things",
    "start": "740959",
    "end": "742800"
  },
  {
    "text": "outside of kube as well on cube notes so",
    "start": "742800",
    "end": "745600"
  },
  {
    "text": "there's that",
    "start": "745600",
    "end": "748160"
  },
  {
    "start": "749000",
    "end": "749000"
  },
  {
    "text": "uh the second thing that i wanted to",
    "start": "749519",
    "end": "751760"
  },
  {
    "text": "talk a little bit about",
    "start": "751760",
    "end": "754079"
  },
  {
    "text": "today is generating custom node",
    "start": "754079",
    "end": "756839"
  },
  {
    "text": "selectors",
    "start": "756839",
    "end": "758560"
  },
  {
    "text": "so as i said earlier in the talk github",
    "start": "758560",
    "end": "761839"
  },
  {
    "text": "runs in multiple clouds",
    "start": "761839",
    "end": "763839"
  },
  {
    "text": "we use multiple container orchestrators",
    "start": "763839",
    "end": "766560"
  },
  {
    "text": "and containers",
    "start": "766560",
    "end": "767680"
  },
  {
    "text": "outside of orchestrators which is also a",
    "start": "767680",
    "end": "769600"
  },
  {
    "text": "lot of fun we run",
    "start": "769600",
    "end": "771040"
  },
  {
    "text": "docker bear for some workloads",
    "start": "771040",
    "end": "774720"
  },
  {
    "text": "so the consequence of this is um we can",
    "start": "774720",
    "end": "777040"
  },
  {
    "text": "actually build",
    "start": "777040",
    "end": "777920"
  },
  {
    "text": "a service once and run it n",
    "start": "777920",
    "end": "780959"
  },
  {
    "text": "ways in in m places",
    "start": "780959",
    "end": "784839"
  },
  {
    "text": "um if we",
    "start": "784839",
    "end": "788000"
  },
  {
    "text": "think about how to vent identity to all",
    "start": "788000",
    "end": "790800"
  },
  {
    "text": "of these workloads",
    "start": "790800",
    "end": "792720"
  },
  {
    "text": "there's kind of one dimension that's the",
    "start": "792720",
    "end": "794480"
  },
  {
    "text": "same um",
    "start": "794480",
    "end": "796639"
  },
  {
    "text": "which is a selector which we can gather",
    "start": "796639",
    "end": "799920"
  },
  {
    "text": "about the workload using workload",
    "start": "799920",
    "end": "801519"
  },
  {
    "text": "attestation using whatever",
    "start": "801519",
    "end": "803279"
  },
  {
    "text": "workload attestation mechanism we are",
    "start": "803279",
    "end": "805200"
  },
  {
    "text": "using maybe the the unix",
    "start": "805200",
    "end": "807200"
  },
  {
    "text": "workload tester on the k8s sat",
    "start": "807200",
    "end": "810560"
  },
  {
    "text": "psat workloaded testers but",
    "start": "810560",
    "end": "813680"
  },
  {
    "text": "there's this second piece of where",
    "start": "813680",
    "end": "817920"
  },
  {
    "text": "that's slightly more difficult because",
    "start": "817920",
    "end": "819600"
  },
  {
    "text": "we run our own sites",
    "start": "819600",
    "end": "821920"
  },
  {
    "text": "and have our own internal apis there's",
    "start": "821920",
    "end": "824320"
  },
  {
    "text": "nothing",
    "start": "824320",
    "end": "824959"
  },
  {
    "text": "out of the box that knows about internal",
    "start": "824959",
    "end": "827839"
  },
  {
    "text": "github apis in the project",
    "start": "827839",
    "end": "829279"
  },
  {
    "text": "understandably because they're private",
    "start": "829279",
    "end": "831360"
  },
  {
    "text": "and",
    "start": "831360",
    "end": "831920"
  },
  {
    "text": "not public and not based on a public",
    "start": "831920",
    "end": "833839"
  },
  {
    "text": "standard",
    "start": "833839",
    "end": "835440"
  },
  {
    "text": "so things like the nodatester for",
    "start": "835440",
    "end": "839120"
  },
  {
    "text": "amazon web services gcp azure",
    "start": "839120",
    "end": "843360"
  },
  {
    "text": "which our public products don't apply to",
    "start": "843360",
    "end": "845440"
  },
  {
    "text": "us",
    "start": "845440",
    "end": "847120"
  },
  {
    "text": "we had to do a little bit uh extra work",
    "start": "847120",
    "end": "849760"
  },
  {
    "text": "to kind of",
    "start": "849760",
    "end": "850880"
  },
  {
    "text": "propagate similar notions that you get",
    "start": "850880",
    "end": "852720"
  },
  {
    "text": "out of these out-of-the-box",
    "start": "852720",
    "end": "854160"
  },
  {
    "text": "noda testers into our selector",
    "start": "854160",
    "end": "857920"
  },
  {
    "text": "library um",
    "start": "857920",
    "end": "862480"
  },
  {
    "start": "863000",
    "end": "863000"
  },
  {
    "text": "right um one thing i can share about how",
    "start": "863600",
    "end": "867040"
  },
  {
    "text": "we",
    "start": "867040",
    "end": "868839"
  },
  {
    "text": "run our sites is um machines have",
    "start": "868839",
    "end": "872560"
  },
  {
    "text": "uh their own um per machine certs",
    "start": "872560",
    "end": "875839"
  },
  {
    "text": "so we can actually leverage the x509 pop",
    "start": "875839",
    "end": "878639"
  },
  {
    "text": "a tester",
    "start": "878639",
    "end": "879760"
  },
  {
    "text": "and use sort of uh some of that cert key",
    "start": "879760",
    "end": "882839"
  },
  {
    "text": "material",
    "start": "882839",
    "end": "885839"
  },
  {
    "text": "to to pull some notion and verify the",
    "start": "885839",
    "end": "889680"
  },
  {
    "text": "identity of",
    "start": "889680",
    "end": "890880"
  },
  {
    "text": "something trying to phone home to the",
    "start": "890880",
    "end": "893519"
  },
  {
    "text": "spire server",
    "start": "893519",
    "end": "896079"
  },
  {
    "text": "the challenge with the x 509 puppet",
    "start": "896079",
    "end": "897839"
  },
  {
    "text": "tester for us initially was um",
    "start": "897839",
    "end": "900480"
  },
  {
    "text": "it actually takes a fingerprint i think",
    "start": "900480",
    "end": "902160"
  },
  {
    "text": "it's a sha-1 fingerprint",
    "start": "902160",
    "end": "903839"
  },
  {
    "text": "of the machine cert which doesn't kind",
    "start": "903839",
    "end": "906720"
  },
  {
    "text": "of at a glance really give you a",
    "start": "906720",
    "end": "907920"
  },
  {
    "text": "semantic meaning of what the agent is or",
    "start": "907920",
    "end": "909600"
  },
  {
    "text": "where it is",
    "start": "909600",
    "end": "911680"
  },
  {
    "text": "it's just a opaque checksum",
    "start": "911680",
    "end": "915839"
  },
  {
    "text": "so um using agent path template",
    "start": "915839",
    "end": "920800"
  },
  {
    "text": "in the x509 pop-a-tester",
    "start": "920800",
    "end": "923839"
  },
  {
    "text": "we actually using this little bit of um",
    "start": "923839",
    "end": "926160"
  },
  {
    "text": "go templating",
    "start": "926160",
    "end": "927519"
  },
  {
    "text": "we pull out the common name from the",
    "start": "927519",
    "end": "930160"
  },
  {
    "text": "per-machine insert which does",
    "start": "930160",
    "end": "931600"
  },
  {
    "text": "actually contain the fully qualified",
    "start": "931600",
    "end": "933199"
  },
  {
    "text": "domain name",
    "start": "933199",
    "end": "935279"
  },
  {
    "text": "of the machine we're trying to bootstrap",
    "start": "935279",
    "end": "937120"
  },
  {
    "text": "an agent on",
    "start": "937120",
    "end": "939680"
  },
  {
    "text": "so we kind of go from um",
    "start": "939680",
    "end": "943199"
  },
  {
    "text": "spire agent sha-1 hash to",
    "start": "943199",
    "end": "946480"
  },
  {
    "text": "an actual fully qualified domain name",
    "start": "946480",
    "end": "949199"
  },
  {
    "text": "when you do",
    "start": "949199",
    "end": "950000"
  },
  {
    "text": "a spire server agent list",
    "start": "950000",
    "end": "955360"
  },
  {
    "text": "um let's keep going",
    "start": "955360",
    "end": "959680"
  },
  {
    "start": "960000",
    "end": "960000"
  },
  {
    "text": "so the consequence of actually only",
    "start": "963199",
    "end": "965040"
  },
  {
    "text": "having this one verifiable",
    "start": "965040",
    "end": "967120"
  },
  {
    "text": "piece of information because the server",
    "start": "967120",
    "end": "969040"
  },
  {
    "text": "doesn't necessarily trust the claims of",
    "start": "969040",
    "end": "971199"
  },
  {
    "text": "the",
    "start": "971199",
    "end": "971680"
  },
  {
    "text": "the agent in no data station is that we",
    "start": "971680",
    "end": "974320"
  },
  {
    "text": "have to",
    "start": "974320",
    "end": "975120"
  },
  {
    "text": "key off of this one datum",
    "start": "975120",
    "end": "978399"
  },
  {
    "text": "and kind of from the server side can",
    "start": "978399",
    "end": "982160"
  },
  {
    "text": "consult some other trusted api to gather",
    "start": "982160",
    "end": "985040"
  },
  {
    "text": "more information about the agent and",
    "start": "985040",
    "end": "986639"
  },
  {
    "text": "where it runs",
    "start": "986639",
    "end": "988560"
  },
  {
    "text": "is it a kubernetes node is it a",
    "start": "988560",
    "end": "991920"
  },
  {
    "text": "file server is it you know a uh a",
    "start": "991920",
    "end": "995040"
  },
  {
    "text": "bastion machine",
    "start": "995040",
    "end": "996079"
  },
  {
    "text": "things like that are not um something we",
    "start": "996079",
    "end": "998959"
  },
  {
    "text": "can",
    "start": "998959",
    "end": "999279"
  },
  {
    "text": "take at face value from the noted tester",
    "start": "999279",
    "end": "1002079"
  },
  {
    "text": "so we actually have to write",
    "start": "1002079",
    "end": "1003519"
  },
  {
    "text": "um a custom node resolver",
    "start": "1003519",
    "end": "1007040"
  },
  {
    "text": "that pairs with the noda tester the x509",
    "start": "1007040",
    "end": "1010800"
  },
  {
    "text": "pop nodatester",
    "start": "1010800",
    "end": "1013040"
  },
  {
    "text": "and um we actually",
    "start": "1013040",
    "end": "1016399"
  },
  {
    "text": "bundled this as an os package because",
    "start": "1016399",
    "end": "1018959"
  },
  {
    "text": "the interface is just",
    "start": "1018959",
    "end": "1020399"
  },
  {
    "text": "a protobuff and grpc",
    "start": "1020399",
    "end": "1024079"
  },
  {
    "text": "and we kind of provision the server",
    "start": "1024079",
    "end": "1027839"
  },
  {
    "text": "with knowledge of an allow list of what",
    "start": "1027839",
    "end": "1031120"
  },
  {
    "text": "metadata",
    "start": "1031120",
    "end": "1032000"
  },
  {
    "text": "to pull back because every node has",
    "start": "1032000",
    "end": "1036880"
  },
  {
    "text": "a set of metadata we actually for the",
    "start": "1037439",
    "end": "1039120"
  },
  {
    "text": "purposes of registration entries care",
    "start": "1039120",
    "end": "1041360"
  },
  {
    "text": "about a subset of that",
    "start": "1041360",
    "end": "1043120"
  },
  {
    "text": "so the real result of this is we get",
    "start": "1043120",
    "end": "1044798"
  },
  {
    "text": "extra selectors specific to",
    "start": "1044799",
    "end": "1046640"
  },
  {
    "text": "github and how we're running",
    "start": "1046640",
    "end": "1048400"
  },
  {
    "text": "infrastructure",
    "start": "1048400",
    "end": "1049679"
  },
  {
    "text": "for use in registration entries and as a",
    "start": "1049679",
    "end": "1052640"
  },
  {
    "text": "reminder registration entries are",
    "start": "1052640",
    "end": "1054720"
  },
  {
    "text": "can be written with workload selectors",
    "start": "1054720",
    "end": "1058000"
  },
  {
    "text": "or node selectors",
    "start": "1058000",
    "end": "1059200"
  },
  {
    "text": "so that's kind of the the application",
    "start": "1059200",
    "end": "1061039"
  },
  {
    "text": "and then the",
    "start": "1061039",
    "end": "1062400"
  },
  {
    "text": "where it runs piece of how you vend",
    "start": "1062400",
    "end": "1064840"
  },
  {
    "text": "identity",
    "start": "1064840",
    "end": "1067840"
  },
  {
    "start": "1067000",
    "end": "1067000"
  },
  {
    "text": "um this is a snippet of configuration",
    "start": "1068320",
    "end": "1072080"
  },
  {
    "text": "to illustrate what my mouth noises",
    "start": "1072080",
    "end": "1075520"
  },
  {
    "text": "actually mean in terms of what it would",
    "start": "1075520",
    "end": "1078799"
  },
  {
    "text": "look like on um",
    "start": "1078799",
    "end": "1080160"
  },
  {
    "text": "aspire server so what i've tried to",
    "start": "1080160",
    "end": "1082960"
  },
  {
    "text": "highlight is",
    "start": "1082960",
    "end": "1083760"
  },
  {
    "text": "um this is also x509 pop",
    "start": "1083760",
    "end": "1088640"
  },
  {
    "text": "but it's not a noted tester it's a node",
    "start": "1088640",
    "end": "1092840"
  },
  {
    "text": "resolver and we pass",
    "start": "1092840",
    "end": "1095039"
  },
  {
    "text": "both a plug-in command and a plug-in",
    "start": "1095039",
    "end": "1097280"
  },
  {
    "text": "checksum",
    "start": "1097280",
    "end": "1098160"
  },
  {
    "text": "so we're not kind of arbitrarily",
    "start": "1098160",
    "end": "1100720"
  },
  {
    "text": "executing",
    "start": "1100720",
    "end": "1101679"
  },
  {
    "text": "random things in the system path and the",
    "start": "1101679",
    "end": "1104400"
  },
  {
    "text": "way we kind of distribute this plug-in",
    "start": "1104400",
    "end": "1105919"
  },
  {
    "text": "command is just as a base os package",
    "start": "1105919",
    "end": "1108080"
  },
  {
    "text": "using our internal packaging machinery",
    "start": "1108080",
    "end": "1111120"
  },
  {
    "text": "um kind of below that the plug-in data",
    "start": "1111120",
    "end": "1113600"
  },
  {
    "text": "is um",
    "start": "1113600",
    "end": "1116080"
  },
  {
    "text": "interpreted in our own",
    "start": "1116400",
    "end": "1119440"
  },
  {
    "text": "code for the node resolver to unpack",
    "start": "1119440",
    "end": "1123200"
  },
  {
    "text": "uh the node attributes that we want as",
    "start": "1123200",
    "end": "1125280"
  },
  {
    "text": "this allow list",
    "start": "1125280",
    "end": "1126320"
  },
  {
    "text": "to pull things in um and make them",
    "start": "1126320",
    "end": "1129280"
  },
  {
    "text": "selectors because if we were",
    "start": "1129280",
    "end": "1131200"
  },
  {
    "text": "to pull everything in there's no actual",
    "start": "1131200",
    "end": "1135440"
  },
  {
    "text": "utility of knowing maybe uh what type of",
    "start": "1135440",
    "end": "1138080"
  },
  {
    "text": "rack switch",
    "start": "1138080",
    "end": "1138960"
  },
  {
    "text": "a machine is connected to or um",
    "start": "1138960",
    "end": "1142559"
  },
  {
    "text": "what things like that are just kind of",
    "start": "1142559",
    "end": "1144559"
  },
  {
    "text": "superfluous",
    "start": "1144559",
    "end": "1147200"
  },
  {
    "text": "so the result of this is we get extra",
    "start": "1147360",
    "end": "1149039"
  },
  {
    "text": "selectors for aspire to use in",
    "start": "1149039",
    "end": "1150559"
  },
  {
    "text": "registration activities",
    "start": "1150559",
    "end": "1153760"
  },
  {
    "text": "an example of this is",
    "start": "1154880",
    "end": "1160080"
  },
  {
    "text": "the one verifiable claim which is the",
    "start": "1160559",
    "end": "1162720"
  },
  {
    "text": "common name out of the machine",
    "start": "1162720",
    "end": "1164080"
  },
  {
    "text": "cert is used as the kind of um key we",
    "start": "1164080",
    "end": "1167600"
  },
  {
    "text": "key off of in our internal registry api",
    "start": "1167600",
    "end": "1170640"
  },
  {
    "text": "to pull out um these other selectors",
    "start": "1170640",
    "end": "1174320"
  },
  {
    "text": "which i've highlighted in white and",
    "start": "1174320",
    "end": "1178080"
  },
  {
    "text": "with uh kind of a canary yellow box it",
    "start": "1178080",
    "end": "1181280"
  },
  {
    "text": "looked different when i was making it",
    "start": "1181280",
    "end": "1182720"
  },
  {
    "text": "but i the point is the same it's all",
    "start": "1182720",
    "end": "1184960"
  },
  {
    "text": "highlighted there",
    "start": "1184960",
    "end": "1186240"
  },
  {
    "text": "and you can kind of see that these are",
    "start": "1186240",
    "end": "1188640"
  },
  {
    "text": "prefixed",
    "start": "1188640",
    "end": "1189440"
  },
  {
    "text": "um similar to",
    "start": "1189440",
    "end": "1192480"
  },
  {
    "text": "how we uh",
    "start": "1192480",
    "end": "1195200"
  },
  {
    "text": "structure the node resolver so it's gh",
    "start": "1195520",
    "end": "1198480"
  },
  {
    "text": "api",
    "start": "1198480",
    "end": "1199039"
  },
  {
    "text": "github rather than x509 subject x5",
    "start": "1199039",
    "end": "1202640"
  },
  {
    "text": "509ca and these are now kind of",
    "start": "1202640",
    "end": "1205919"
  },
  {
    "text": "available to us to",
    "start": "1205919",
    "end": "1207120"
  },
  {
    "text": "to write registration entries in",
    "start": "1207120",
    "end": "1208880"
  },
  {
    "text": "addition to workload",
    "start": "1208880",
    "end": "1210799"
  },
  {
    "text": "selectors",
    "start": "1210799",
    "end": "1213440"
  },
  {
    "text": "um so trying to wrap it up with some",
    "start": "1215840",
    "end": "1218000"
  },
  {
    "text": "takeaways uh the benefits",
    "start": "1218000",
    "end": "1220960"
  },
  {
    "text": "we've had we've replaced kind of custom",
    "start": "1220960",
    "end": "1223640"
  },
  {
    "text": "non-interoperable",
    "start": "1223640",
    "end": "1225120"
  },
  {
    "text": "authentication authentication approaches",
    "start": "1225120",
    "end": "1227520"
  },
  {
    "text": "with a single portable standard",
    "start": "1227520",
    "end": "1229280"
  },
  {
    "text": "with spiffy and spire",
    "start": "1229280",
    "end": "1232400"
  },
  {
    "text": "we didn't have to redo any existing",
    "start": "1232400",
    "end": "1234559"
  },
  {
    "text": "infrastructure concepts",
    "start": "1234559",
    "end": "1236640"
  },
  {
    "text": "we didn't have to kind of somehow",
    "start": "1236640",
    "end": "1238799"
  },
  {
    "text": "shuttle in",
    "start": "1238799",
    "end": "1240799"
  },
  {
    "text": "information from the inventory apis we",
    "start": "1240799",
    "end": "1242960"
  },
  {
    "text": "just used them as any other client",
    "start": "1242960",
    "end": "1245120"
  },
  {
    "text": "and spire has a lot of points of",
    "start": "1245120",
    "end": "1247360"
  },
  {
    "text": "extension to",
    "start": "1247360",
    "end": "1248640"
  },
  {
    "text": "to call more data and to verify more",
    "start": "1248640",
    "end": "1251440"
  },
  {
    "text": "claims about agents",
    "start": "1251440",
    "end": "1253440"
  },
  {
    "text": "and as a result of that",
    "start": "1253440",
    "end": "1257520"
  },
  {
    "text": "rather than having teams manually manage",
    "start": "1257520",
    "end": "1259679"
  },
  {
    "text": "certs and onboard new clients",
    "start": "1259679",
    "end": "1261679"
  },
  {
    "text": "we kind of reduce the cost of",
    "start": "1261679",
    "end": "1263280"
  },
  {
    "text": "experimentation for them",
    "start": "1263280",
    "end": "1265039"
  },
  {
    "text": "collaborating with other people in the",
    "start": "1265039",
    "end": "1266960"
  },
  {
    "text": "engineering department",
    "start": "1266960",
    "end": "1268480"
  },
  {
    "text": "because your new",
    "start": "1268480",
    "end": "1271679"
  },
  {
    "text": "downstreams become just registration",
    "start": "1271679",
    "end": "1273840"
  },
  {
    "text": "entries that are identity documents that",
    "start": "1273840",
    "end": "1276000"
  },
  {
    "text": "you can verify",
    "start": "1276000",
    "end": "1277039"
  },
  {
    "text": "um from the caller and um",
    "start": "1277039",
    "end": "1280320"
  },
  {
    "text": "we've kind of shifted a lot of work",
    "start": "1280320",
    "end": "1282400"
  },
  {
    "text": "which could be thought of as strategy",
    "start": "1282400",
    "end": "1284240"
  },
  {
    "text": "work into utility work",
    "start": "1284240",
    "end": "1285760"
  },
  {
    "text": "and the kind of future vision is to make",
    "start": "1285760",
    "end": "1288400"
  },
  {
    "text": "this",
    "start": "1288400",
    "end": "1289360"
  },
  {
    "text": "just a given for all teams at github to",
    "start": "1289360",
    "end": "1291600"
  },
  {
    "text": "use",
    "start": "1291600",
    "end": "1293840"
  },
  {
    "text": "and some other observations that we've",
    "start": "1295360",
    "end": "1298240"
  },
  {
    "text": "made",
    "start": "1298240",
    "end": "1300480"
  },
  {
    "text": "universalizing authorization i think",
    "start": "1300919",
    "end": "1303120"
  },
  {
    "text": "this is something we talk",
    "start": "1303120",
    "end": "1304000"
  },
  {
    "text": "a lot about in the community um spiffy",
    "start": "1304000",
    "end": "1305919"
  },
  {
    "text": "for authentication",
    "start": "1305919",
    "end": "1307120"
  },
  {
    "text": "and authentication only having no",
    "start": "1307120",
    "end": "1309280"
  },
  {
    "text": "opinion about authorization that that",
    "start": "1309280",
    "end": "1310960"
  },
  {
    "text": "actually has been kind of a point of",
    "start": "1310960",
    "end": "1312080"
  },
  {
    "text": "leverage for us",
    "start": "1312080",
    "end": "1313440"
  },
  {
    "text": "um because systems and teams",
    "start": "1313440",
    "end": "1317360"
  },
  {
    "text": "have either invented their own may have",
    "start": "1317360",
    "end": "1320400"
  },
  {
    "text": "an interest in standardizing may not",
    "start": "1320400",
    "end": "1322159"
  },
  {
    "text": "have an interest in standardizing",
    "start": "1322159",
    "end": "1324320"
  },
  {
    "text": "um and and fine-grained acls",
    "start": "1324320",
    "end": "1327360"
  },
  {
    "text": "um are not something we necessarily want",
    "start": "1327360",
    "end": "1329360"
  },
  {
    "text": "to try to provide parity with",
    "start": "1329360",
    "end": "1330880"
  },
  {
    "text": "in our opinion at the top of the pyramid",
    "start": "1330880",
    "end": "1333520"
  },
  {
    "text": "in one of the earlier slides",
    "start": "1333520",
    "end": "1335280"
  },
  {
    "text": "we really just want to give people",
    "start": "1335280",
    "end": "1337120"
  },
  {
    "text": "documents they can verify",
    "start": "1337120",
    "end": "1338640"
  },
  {
    "text": "are good or not good there are no",
    "start": "1338640",
    "end": "1341919"
  },
  {
    "text": "goals to kind of build policy languages",
    "start": "1341919",
    "end": "1344880"
  },
  {
    "text": "or enforce policy languages to replace",
    "start": "1344880",
    "end": "1347200"
  },
  {
    "text": "what we have already",
    "start": "1347200",
    "end": "1350158"
  },
  {
    "text": "and i think i'm bumping up against time",
    "start": "1350320",
    "end": "1351919"
  },
  {
    "text": "but one other observation that we've",
    "start": "1351919",
    "end": "1353760"
  },
  {
    "text": "made",
    "start": "1353760",
    "end": "1354960"
  },
  {
    "text": "is being forced to write registration",
    "start": "1354960",
    "end": "1357760"
  },
  {
    "text": "entries to",
    "start": "1357760",
    "end": "1358640"
  },
  {
    "text": "identify the shapes of workloads is a",
    "start": "1358640",
    "end": "1361520"
  },
  {
    "text": "forcing function",
    "start": "1361520",
    "end": "1362480"
  },
  {
    "text": "for discussions about blast radiuses and",
    "start": "1362480",
    "end": "1365600"
  },
  {
    "text": "security perimeters",
    "start": "1365600",
    "end": "1368240"
  },
  {
    "text": "if you can't actually differentiate",
    "start": "1368240",
    "end": "1369840"
  },
  {
    "text": "between two workloads",
    "start": "1369840",
    "end": "1371360"
  },
  {
    "text": "cohabitating a machine with a",
    "start": "1371360",
    "end": "1373840"
  },
  {
    "text": "registration entry",
    "start": "1373840",
    "end": "1375679"
  },
  {
    "text": "that means they have kind of the same",
    "start": "1375679",
    "end": "1377919"
  },
  {
    "text": "level privilege",
    "start": "1377919",
    "end": "1379120"
  },
  {
    "text": "um inappropriately so",
    "start": "1379120",
    "end": "1382480"
  },
  {
    "text": "rather than kind of looking at oh we",
    "start": "1382480",
    "end": "1384400"
  },
  {
    "text": "can't take this",
    "start": "1384400",
    "end": "1386000"
  },
  {
    "text": "and isolate it from this other thing",
    "start": "1386000",
    "end": "1387280"
  },
  {
    "text": "because they're running as the same user",
    "start": "1387280",
    "end": "1388640"
  },
  {
    "text": "or they're",
    "start": "1388640",
    "end": "1389360"
  },
  {
    "text": "um in the same group we kind of inverted",
    "start": "1389360",
    "end": "1391760"
  },
  {
    "text": "that and saw these",
    "start": "1391760",
    "end": "1393039"
  },
  {
    "text": "um exercises in discriminating between",
    "start": "1393039",
    "end": "1396799"
  },
  {
    "text": "what gets what as fit as opportunities",
    "start": "1396799",
    "end": "1399600"
  },
  {
    "text": "to improve our security posture",
    "start": "1399600",
    "end": "1401200"
  },
  {
    "text": "so that's invited some interesting",
    "start": "1401200",
    "end": "1402400"
  },
  {
    "text": "conversations about um",
    "start": "1402400",
    "end": "1404240"
  },
  {
    "text": "everything from um how we kind of",
    "start": "1404240",
    "end": "1407520"
  },
  {
    "text": "uh build machine certs to um how we",
    "start": "1407520",
    "end": "1411360"
  },
  {
    "text": "run certain things in coop so there's",
    "start": "1411360",
    "end": "1413760"
  },
  {
    "text": "that",
    "start": "1413760",
    "end": "1415039"
  },
  {
    "text": "and um i'm going to go to the last slide",
    "start": "1415039",
    "end": "1418480"
  },
  {
    "text": "which is just the silhouette",
    "start": "1418480",
    "end": "1420000"
  },
  {
    "text": "and stop sharing here",
    "start": "1420000",
    "end": "1423600"
  },
  {
    "text": "eric you you make a great point on on",
    "start": "1424240",
    "end": "1427039"
  },
  {
    "text": "recognizing workloads just as granular",
    "start": "1427039",
    "end": "1429679"
  },
  {
    "text": "as possible",
    "start": "1429679",
    "end": "1430880"
  },
  {
    "text": "how granular is too granular is it",
    "start": "1430880",
    "end": "1433039"
  },
  {
    "text": "enough just to distinct one from the",
    "start": "1433039",
    "end": "1434799"
  },
  {
    "text": "other",
    "start": "1434799",
    "end": "1435760"
  },
  {
    "text": "or do you try to get as prescriptive as",
    "start": "1435760",
    "end": "1439120"
  },
  {
    "text": "you can",
    "start": "1439120",
    "end": "1440000"
  },
  {
    "text": "of every single property and aspect",
    "start": "1440000",
    "end": "1444799"
  },
  {
    "text": "to identify a given workload",
    "start": "1444799",
    "end": "1448320"
  },
  {
    "text": "i think we partner with teams and and",
    "start": "1448320",
    "end": "1450000"
  },
  {
    "text": "it's situational",
    "start": "1450000",
    "end": "1451520"
  },
  {
    "text": "um there are workloads that literally",
    "start": "1451520",
    "end": "1454000"
  },
  {
    "text": "run in dual modes",
    "start": "1454000",
    "end": "1455840"
  },
  {
    "text": "so they actually it necessitates them",
    "start": "1455840",
    "end": "1457679"
  },
  {
    "text": "getting both documents even though it's",
    "start": "1457679",
    "end": "1459360"
  },
  {
    "text": "the same",
    "start": "1459360",
    "end": "1460720"
  },
  {
    "text": "executable we have kind of code paths",
    "start": "1460720",
    "end": "1463440"
  },
  {
    "text": "where",
    "start": "1463440",
    "end": "1463840"
  },
  {
    "text": "they're both libraries and they're they",
    "start": "1463840",
    "end": "1465600"
  },
  {
    "text": "have main functions",
    "start": "1465600",
    "end": "1467360"
  },
  {
    "text": "um so it it depends",
    "start": "1467360",
    "end": "1471279"
  },
  {
    "text": "you know team to team to team uh my",
    "start": "1471279",
    "end": "1473840"
  },
  {
    "text": "perspective is um",
    "start": "1473840",
    "end": "1476159"
  },
  {
    "text": "kind of it's sort of like when you enter",
    "start": "1476159",
    "end": "1478000"
  },
  {
    "text": "a code base and there's like 15 million",
    "start": "1478000",
    "end": "1479760"
  },
  {
    "text": "unit tests and you change one character",
    "start": "1479760",
    "end": "1481279"
  },
  {
    "text": "and like half of them break",
    "start": "1481279",
    "end": "1482640"
  },
  {
    "text": "you know that kind of anti-fragility",
    "start": "1482640",
    "end": "1484960"
  },
  {
    "text": "with",
    "start": "1484960",
    "end": "1486000"
  },
  {
    "text": "wide enough registration entries is",
    "start": "1486000",
    "end": "1488880"
  },
  {
    "text": "probably the preferred approach because",
    "start": "1488880",
    "end": "1490480"
  },
  {
    "text": "if something is so brittle where you",
    "start": "1490480",
    "end": "1492240"
  },
  {
    "text": "need a control loop to kind of",
    "start": "1492240",
    "end": "1493679"
  },
  {
    "text": "endlessly reconcile it by docker image",
    "start": "1493679",
    "end": "1496000"
  },
  {
    "text": "id",
    "start": "1496000",
    "end": "1496799"
  },
  {
    "text": "or you need to keep track of um",
    "start": "1496799",
    "end": "1500080"
  },
  {
    "text": "node appearance and depth then that's",
    "start": "1500080",
    "end": "1502400"
  },
  {
    "text": "probably the wrong shape but",
    "start": "1502400",
    "end": "1504559"
  },
  {
    "text": "every organization is different you know",
    "start": "1504559",
    "end": "1507279"
  },
  {
    "text": "mandates or different priorities are",
    "start": "1507279",
    "end": "1508559"
  },
  {
    "text": "different",
    "start": "1508559",
    "end": "1509039"
  },
  {
    "text": "um we largely just partner with the",
    "start": "1509039",
    "end": "1511120"
  },
  {
    "text": "teams and and try to have the discussion",
    "start": "1511120",
    "end": "1512880"
  },
  {
    "text": "and facilitate what spire can do for",
    "start": "1512880",
    "end": "1514559"
  },
  {
    "text": "them",
    "start": "1514559",
    "end": "1516559"
  },
  {
    "text": "that's that's great guidance thank you",
    "start": "1516559",
    "end": "1518720"
  },
  {
    "text": "externally put for thought for for the",
    "start": "1518720",
    "end": "1520480"
  },
  {
    "text": "attendees",
    "start": "1520480",
    "end": "1521600"
  },
  {
    "text": "thank you very much uh to echo the the",
    "start": "1521600",
    "end": "1523919"
  },
  {
    "text": "last comment in chat eric you're an",
    "start": "1523919",
    "end": "1525600"
  },
  {
    "text": "awesome presenter",
    "start": "1525600",
    "end": "1526480"
  },
  {
    "text": "nice work thanks",
    "start": "1526480",
    "end": "1530159"
  },
  {
    "text": "thank you all for taking the time",
    "start": "1530159",
    "end": "1534640"
  }
]