[
  {
    "text": "all right we are going to go ahead and get started so first of all I would like",
    "start": "3859",
    "end": "10919"
  },
  {
    "text": "to introduce myself I'm say embark I am CNC M from basudev working as a software engineer and on",
    "start": "10919",
    "end": "17130"
  },
  {
    "text": "Cuban Eddie's and stuff I'm CK CK decertified I'm in flux ace",
    "start": "17130",
    "end": "22290"
  },
  {
    "text": "I'm Rancher trusted hands member and I run the local meetups at Bangalore for",
    "start": "22290",
    "end": "28260"
  },
  {
    "text": "docker CN CF Rancher an influx so that's",
    "start": "28260",
    "end": "33329"
  },
  {
    "text": "about me and I would like to thank everyone who is joining us today",
    "start": "33329",
    "end": "39930"
  },
  {
    "text": "welcome to the CN CF webinar declarative host upgrades from within Cuba Indies",
    "start": "39930",
    "end": "47340"
  },
  {
    "text": "we will go through some of the housekeeping items before we get started so during the webinar you are not",
    "start": "47340",
    "end": "55010"
  },
  {
    "text": "allowed to talk as an attendee there's a Q&A box at the bottom of your screen feel free to drop your questions in",
    "start": "55010",
    "end": "62280"
  },
  {
    "text": "there and we'll get to as many as we can at the end there is official webinar - this is an official webinar ncf and as",
    "start": "62280",
    "end": "70320"
  },
  {
    "text": "the subject to CN CF code of conduct please do not add anything to the chair",
    "start": "70320",
    "end": "75510"
  },
  {
    "text": "or questions that would be in the violation of the code of conduct basically please be respectful of all of",
    "start": "75510",
    "end": "80970"
  },
  {
    "text": "your fellow participants and presenters and the recording and the slides will be posted later today by CN CF webinar page",
    "start": "80970",
    "end": "88850"
  },
  {
    "text": "I would like to introduce our presenters today we have Adrienne Goins director of",
    "start": "88850",
    "end": "96330"
  },
  {
    "text": "community and evangelism at Rancho labs Dax MacDonald software engineer branch",
    "start": "96330",
    "end": "101729"
  },
  {
    "text": "elapsed and Jacob bling Christian principles of engineer at branch of apps",
    "start": "101729",
    "end": "107180"
  },
  {
    "text": "so with all of these items I'll hand over to Adrian Dax and Jacob to kick off",
    "start": "107180",
    "end": "113369"
  },
  {
    "text": "your today's presentation all right everybody my name is adrian coins and thank you sign for that",
    "start": "113369",
    "end": "120390"
  },
  {
    "text": "wonderful introduction give me a moment here I will share my screen and we are",
    "start": "120390",
    "end": "128429"
  },
  {
    "text": "going to dive right in so you Sam",
    "start": "128429",
    "end": "133500"
  },
  {
    "text": "already introduced us but here we are again I'm Adrian and I'm joined by dr. McDonald and Jacob",
    "start": "133500",
    "end": "138870"
  },
  {
    "text": "blank Kristen and these guys are way smarter than I am so I'm just here to introduce them talk for a moment about",
    "start": "138870",
    "end": "146010"
  },
  {
    "text": "what Rancher I'll ever need this agenda slide talk to Rowan about what Rancher",
    "start": "146010",
    "end": "151490"
  },
  {
    "text": "believes and how we got to the particularly thing that we're going to be demonstrating for you today Rancher",
    "start": "151490",
    "end": "159420"
  },
  {
    "text": "personal everything that we do at Rancher is a percent free and open source and we believe that the key for",
    "start": "159420",
    "end": "166850"
  },
  {
    "text": "production quality kubernetes is scale has three pillars certified kubernetes distribution to enable computing",
    "start": "166850",
    "end": "173820"
  },
  {
    "text": "everywhere centralized management to manage all of that stuff and make your life easier and then a platform for",
    "start": "173820",
    "end": "180180"
  },
  {
    "text": "secure application deployment I want to stress again everything we do is open",
    "start": "180180",
    "end": "186060"
  },
  {
    "text": "source from top to bottom everything that you're going to see in anything that Rancher does you can do your",
    "start": "186060",
    "end": "191730"
  },
  {
    "text": "there's no open core there's no paid features it's all out there we have",
    "start": "191730",
    "end": "197069"
  },
  {
    "text": "solutions for inter cluster communication container attached storage we have kubernetes distributions for the",
    "start": "197069",
    "end": "202500"
  },
  {
    "text": "data center and the edge we have a solution for multi cluster kubernetes management we have a solution for",
    "start": "202500",
    "end": "208019"
  },
  {
    "text": "managing fleets of kubernetes clusters and we're building an integrated deployment engine to make kubernetes easier for developers to use and",
    "start": "208019",
    "end": "215720"
  },
  {
    "text": "sometimes when we're building these projects we're able to spin-off useful",
    "start": "215720",
    "end": "221280"
  },
  {
    "text": "components that you can use anywhere you can use them in your own kubernetes",
    "start": "221280",
    "end": "226500"
  },
  {
    "text": "clusters you can take them in embed them in your own products it's it's all out there for you to do what you want to do",
    "start": "226500",
    "end": "232530"
  },
  {
    "text": "with them and one of those things that's so cool like you look at the title of",
    "start": "232530",
    "end": "238049"
  },
  {
    "text": "today's saying first well thank you all for joining because honestly the title is is pretty boring every other title",
    "start": "238049",
    "end": "244380"
  },
  {
    "text": "that we came up with was also pretty boring but the technology that we're about to show you you'll be able to walk",
    "start": "244380",
    "end": "249600"
  },
  {
    "text": "out of here in an hour and go deploy this and go start using this in any kubernetes cluster that you're running",
    "start": "249600",
    "end": "256350"
  },
  {
    "text": "and that is called now my slide didn't change the system upgrade controller",
    "start": "256350",
    "end": "262620"
  },
  {
    "text": "another very sexy name right system up but there's it is what it is so with",
    "start": "262620",
    "end": "267690"
  },
  {
    "text": "that let me hand it over to Dax who's to tell you a little bit a little bit about what this thing does before Jacob",
    "start": "267690",
    "end": "274270"
  },
  {
    "text": "gives you a demo decks are you ready if I stop sharing I am ready",
    "start": "274270",
    "end": "279900"
  },
  {
    "text": "I'm gonna stop sharing so I'll you my friend all right let's see everyone's",
    "start": "279900",
    "end": "287740"
  },
  {
    "text": "all be here answering questions in the Q&A as well so if you guys see anything",
    "start": "287740",
    "end": "293050"
  },
  {
    "text": "that you have questions about yes we can see your screen but it's the wrong one share the oh the other one okay try this",
    "start": "293050",
    "end": "302729"
  },
  {
    "text": "that's good so as as as Dax is talking and as Jacob is doing demos if you have",
    "start": "303640",
    "end": "309310"
  },
  {
    "text": "questions please post those in the Q&A section and we'll be answering them directly or if there's a question you",
    "start": "309310",
    "end": "314440"
  },
  {
    "text": "specifically want Jacob or Dax to answer you can just put their name in front of it and we'll save it for them we'll try to pause during the demo to answer",
    "start": "314440",
    "end": "321100"
  },
  {
    "text": "questions otherwise there's a block of time at the end where well answer as many as we can so Dax take it away all right Thank You",
    "start": "321100",
    "end": "327490"
  },
  {
    "text": "Adrian so today we're gonna be talking about the system upgrade controller so",
    "start": "327490",
    "end": "333550"
  },
  {
    "text": "this is a CRT based controller the CRT",
    "start": "333550",
    "end": "340300"
  },
  {
    "text": "that we've created to prove that this runs on top of is what we call the plan",
    "start": "340300",
    "end": "345670"
  },
  {
    "text": "C R D so this is just a brief overview basically if we by using the plan and",
    "start": "345670",
    "end": "352960"
  },
  {
    "text": "the and the controller were able to form a declarative API which is kind of the",
    "start": "352960",
    "end": "359560"
  },
  {
    "text": "fundamental concepts of kubernetes so the plan that we're going to demonstrate",
    "start": "359560",
    "end": "366070"
  },
  {
    "text": "today is and do some really cool stuff for you ran it show you how to word you know upgrading k3s communities versions",
    "start": "366070",
    "end": "372570"
  },
  {
    "text": "in actually in production today and rancher 2.4 and then we're going to kind",
    "start": "372570",
    "end": "379000"
  },
  {
    "text": "of show you how to plan CRT works I'm kind of dive into that so I just had a high level these plans describe the",
    "start": "379000",
    "end": "386800"
  },
  {
    "text": "desired state of the cluster so it's a declarative API you so as you'll see you",
    "start": "386800",
    "end": "392920"
  },
  {
    "text": "later you know you're going to describe I want to go to conveys version 1.17 dot you know what have you and then these",
    "start": "392920",
    "end": "400980"
  },
  {
    "text": "the controller is going to work words of grading cluster that version and it's not just kubernetes versions",
    "start": "400980",
    "end": "408800"
  },
  {
    "text": "that this framework is very flexible then we're actually able to upgrade specific upgrade underlying kernels or",
    "start": "408800",
    "end": "416540"
  },
  {
    "text": "even up you can even use criminais secrets to parametrize plans to have great specific packages that you care",
    "start": "416540",
    "end": "422630"
  },
  {
    "text": "about again these are kubernetes native CR DS so we use we leverage things like",
    "start": "422630",
    "end": "431500"
  },
  {
    "text": "label selectors to actually choose the nodes that you want to select for upgrading and then we actually the work",
    "start": "431500",
    "end": "439400"
  },
  {
    "text": "itself is performed in a kubernetes job with an image so actually you're going",
    "start": "439400",
    "end": "445100"
  },
  {
    "text": "to so really a flexible framework so I think that one's really gonna enjoy using and I think ya dive into just",
    "start": "445100",
    "end": "454130"
  },
  {
    "text": "going right into the plan C or D so this right here is actually the plans here a",
    "start": "454130",
    "end": "459860"
  },
  {
    "text": "small slice of the plan C or D we use to upgrade k3s clusters you do actually",
    "start": "459860",
    "end": "465890"
  },
  {
    "text": "only have to use Rancher to you know use this plan you can simply use the system upgrade controller standalone and these",
    "start": "465890",
    "end": "473300"
  },
  {
    "text": "plans will work just fine so just kind of wanted to walk you through some of",
    "start": "473300",
    "end": "479090"
  },
  {
    "text": "the high level understanding of customers first definition and for those",
    "start": "479090",
    "end": "485270"
  },
  {
    "text": "of you that aren't familiar maybe with C or DS at all this is kind of what you'd",
    "start": "485270",
    "end": "491690"
  },
  {
    "text": "actually be applying you know keeps you till apply plan it looks like this to perform an upgrade after you've",
    "start": "491690",
    "end": "497870"
  },
  {
    "text": "installed the system of great controller into your cluster so you know this plan",
    "start": "497870",
    "end": "503180"
  },
  {
    "text": "is really outstanding intent to mutate your cluster here we have I can I go through some of the things on the spec",
    "start": "503180",
    "end": "509540"
  },
  {
    "text": "here so one of the things in the spec we have a version and that's really describing that's the version of",
    "start": "509540",
    "end": "515330"
  },
  {
    "text": "commands want to this is you know one dot 17.2 - k3 s1 and then so that",
    "start": "515330",
    "end": "523070"
  },
  {
    "text": "describes what basically is going to do is going to inform witness plan has run",
    "start": "523070",
    "end": "528860"
  },
  {
    "text": "to completion so is this point we're gonna keep creating jobs and keep working trying to make progress as this",
    "start": "528860",
    "end": "537040"
  },
  {
    "text": "until the system of your controller sees the cameras version is the same as that",
    "start": "537040",
    "end": "542350"
  },
  {
    "text": "additionally we have concurrency one here concurrency is a field that we",
    "start": "542350",
    "end": "548450"
  },
  {
    "text": "leverage to basically provide control over how many nodes are going to",
    "start": "548450",
    "end": "554780"
  },
  {
    "text": "upgraded at a time so concurrency one here is going to perform a very basic rolling update there's going to upgrade",
    "start": "554780",
    "end": "560900"
  },
  {
    "text": "one node and then wait for wait for that",
    "start": "560900",
    "end": "566810"
  },
  {
    "text": "that that upgrade to complete successfully and for that node to come back up before moving on to the next",
    "start": "566810",
    "end": "573230"
  },
  {
    "text": "node and then we have this node selector here which is actually going to match",
    "start": "573230",
    "end": "578480"
  },
  {
    "text": "the k3s upgrade label on the underlying",
    "start": "578480",
    "end": "583730"
  },
  {
    "text": "nodes and then of course we're using service accounts and various pieces of",
    "start": "583730",
    "end": "589670"
  },
  {
    "text": "our back to you know provide the permissions to do this C and then",
    "start": "589670",
    "end": "595940"
  },
  {
    "text": "another very important thing that we have here is the image they're actually doing this you're welcome to go find",
    "start": "595940",
    "end": "602780"
  },
  {
    "text": "this on github there's Rancher Katie gross upgrade really it's a simple image",
    "start": "602780",
    "end": "608030"
  },
  {
    "text": "that's just going to swap out the k3s binaries we're lucky with cave dress that's a really painless upgrade process",
    "start": "608030",
    "end": "614960"
  },
  {
    "text": "but again you can uh as you build image it is the system of great controller",
    "start": "614960",
    "end": "620480"
  },
  {
    "text": "really provides the framework around which to basically do these declarative",
    "start": "620480",
    "end": "626320"
  },
  {
    "text": "updates so and then of course another few things a drain force here true again",
    "start": "626320",
    "end": "634460"
  },
  {
    "text": "we're kind of helping you along the way with codifying best practices right like if you're going to take a node down you",
    "start": "634460",
    "end": "641540"
  },
  {
    "text": "probably want to drain that node first force you know we're gonna go a little",
    "start": "641540",
    "end": "646940"
  },
  {
    "text": "more it's going to actually go in there and basically ensure that everything is",
    "start": "646940",
    "end": "653030"
  },
  {
    "text": "off that note before it gets upgraded and there's a few other commands here too you can see the full CRT definition",
    "start": "653030",
    "end": "659720"
  },
  {
    "text": "on the key 3s are this the system of great controller I get up page so",
    "start": "659720",
    "end": "666530"
  },
  {
    "text": "continuing on here so this is the you know Plan C or D continued so the first first plan I",
    "start": "666530",
    "end": "673580"
  },
  {
    "text": "showed you was a very small version that shows you just how to upgrade KS only",
    "start": "673580",
    "end": "681170"
  },
  {
    "text": "this is actually a full system kernel upgrade that's parametrized with kubernetes secrets and I think Jacobs",
    "start": "681170",
    "end": "688640"
  },
  {
    "text": "gonna really really awesome demo of this later which is really going to dive into it's some of these yes this is correct",
    "start": "688640",
    "end": "705980"
  },
  {
    "text": "this is just showing you that how granular you can get with system the",
    "start": "705980",
    "end": "712340"
  },
  {
    "text": "system of great controller like you can see in our secret here you can see that we're specifying versions of curl open",
    "start": "712340",
    "end": "718640"
  },
  {
    "text": "SSL and that when we run this image it's going to upgrade those specific packages",
    "start": "718640",
    "end": "723830"
  },
  {
    "text": "on our node so then you can system upgrade control allows you to do stuff",
    "start": "723830",
    "end": "729380"
  },
  {
    "text": "in higher level you know community mo that actually goes down and if extra underlying host a few other things that",
    "start": "729380",
    "end": "737780"
  },
  {
    "text": "in again concurrency to hear back from you upgrade to nodes at a time and you",
    "start": "737780",
    "end": "745490"
  },
  {
    "text": "know really this is just a quick demo of showing that how we use secrets to basically provide additional",
    "start": "745490",
    "end": "751180"
  },
  {
    "text": "parameterization on top of the plan CR D and that is I think it from me Jacob do",
    "start": "751180",
    "end": "759440"
  },
  {
    "text": "you I think you know take it from there I think that's kind of a brief overview of the plans everyone kinda has a basic",
    "start": "759440",
    "end": "768350"
  },
  {
    "text": "understanding of where we're gonna be going have a quick question is this currently in anything this was taken out",
    "start": "768350",
    "end": "775460"
  },
  {
    "text": "of k3 OS but is this in branch or two for yes so the previous one right here this is",
    "start": "775460",
    "end": "781070"
  },
  {
    "text": "actually directly the plan from ranch or 2.4 and you don't even need to run",
    "start": "781070",
    "end": "786350"
  },
  {
    "text": "Rancher do that for this is a it's actually on this Rancher k3 s upgrade",
    "start": "786350",
    "end": "792370"
  },
  {
    "text": "for you feel free to go that github and if you have k3 s clusters you can now",
    "start": "792370",
    "end": "797540"
  },
  {
    "text": "specify any version of communities that k3 is worked you get right to that so it makes it",
    "start": "797540",
    "end": "805960"
  },
  {
    "text": "really I think simplifies the upgrade process which I think it's one of the still rough edges and true Bernays",
    "start": "805960",
    "end": "812090"
  },
  {
    "text": "administration if you use something let's system upgrade chiller you won't have to you know it's going to do a lot",
    "start": "812090",
    "end": "818780"
  },
  {
    "text": "of the best practices for you like it's going to drain nodes it's going to mark the Mo's unschedulable you know and do",
    "start": "818780",
    "end": "826070"
  },
  {
    "text": "you know what the Kurds concurrency of one do a slow rolling update nice yeah",
    "start": "826070",
    "end": "834250"
  },
  {
    "text": "there aren't any questions specifically related actually there are two questions that aren't specifically related to this",
    "start": "834250",
    "end": "840230"
  },
  {
    "text": "but I'll throw them out there and then we'll dive into the demo Jack asks how does it interact with the cluster autoscaler how does that either gluten",
    "start": "840230",
    "end": "847310"
  },
  {
    "text": "answer that take if you want to take that one or sure so you know where the",
    "start": "847310",
    "end": "855050"
  },
  {
    "text": "interaction the cluster is by drains",
    "start": "855050",
    "end": "860060"
  },
  {
    "text": "will negatively impact in scale down not scaled-down replica sets but basically",
    "start": "860060",
    "end": "866560"
  },
  {
    "text": "the connected pods from nodes such that those replicas specs will want to well",
    "start": "866560",
    "end": "873440"
  },
  {
    "text": "schedule pods but the candidate because the the node is then tainted as unschedulable really that's the extent",
    "start": "873440",
    "end": "882080"
  },
  {
    "text": "of it and that's option the drain i've got in the key 300 explained by",
    "start": "882080",
    "end": "887180"
  },
  {
    "text": "default and we have it in the k3s plans that are that come with ranch or 2.4 but",
    "start": "887180",
    "end": "897590"
  },
  {
    "text": "you don't have to use it again this is a way of gracefully screeching you know",
    "start": "897590",
    "end": "902600"
  },
  {
    "text": "workloads off of off of you so you can you can do some operations and possibly bounce them if you need to",
    "start": "902600",
    "end": "910300"
  },
  {
    "text": "yeah yeah that was great Roger asks what kind of privileges does the SA account need in order to do the",
    "start": "911440",
    "end": "917300"
  },
  {
    "text": "system upgrade and if you're going to talk about that in your demo you can just say well we'll cover that no I mean",
    "start": "917300",
    "end": "922340"
  },
  {
    "text": "I kind of gloss over the it's a it's a",
    "start": "922340",
    "end": "927470"
  },
  {
    "text": "very privileged account right so the system over controller itself needs a service account such that you can edit",
    "start": "927470",
    "end": "934520"
  },
  {
    "text": "nodes listen create jobs and pods of course in",
    "start": "934520",
    "end": "939800"
  },
  {
    "text": "its own workspace its own namespace but the real one the real big one is is modifying notes right because the",
    "start": "939800",
    "end": "946190"
  },
  {
    "text": "controller when a job is complete the way that it it sort of keeps track of",
    "start": "946190",
    "end": "952430"
  },
  {
    "text": "that for itself is by tagging the labeling the node with a particular hash",
    "start": "952430",
    "end": "957470"
  },
  {
    "text": "which is the current latest version and in the same operation if you've got a",
    "start": "957470",
    "end": "962900"
  },
  {
    "text": "drain or a cordon configured the controller marks that a node as scheduled again right so it needs it's",
    "start": "962900",
    "end": "969650"
  },
  {
    "text": "really good the controller itself has got a lot of privileges then there's the pods run and as you can imagine if",
    "start": "969650",
    "end": "976190"
  },
  {
    "text": "you're mutating you know you need essentially full access and you've got even more permissions than a typical",
    "start": "976190",
    "end": "982420"
  },
  {
    "text": "privilege these pods are privileged they've also got caps this boot capability right so they can trigger a",
    "start": "982420",
    "end": "988550"
  },
  {
    "text": "reboot if they need to and they've also got the host pid' IPC and namespaces and",
    "start": "988550",
    "end": "995600"
  },
  {
    "text": "again those are to facilitate various reboot regimes for instance k3 OS one of",
    "start": "995600",
    "end": "1005650"
  },
  {
    "text": "the things that it needs to do is do an NS enter into the pin1 namespace such",
    "start": "1005650",
    "end": "1012250"
  },
  {
    "text": "that it can then invoke the read loop because there's no other way to make that happen and so that's one of the things that there that's one of things",
    "start": "1012250",
    "end": "1019480"
  },
  {
    "text": "that it does and I think that pretty much covers these covers covers it so privileged caps this movement hosts net",
    "start": "1019480",
    "end": "1026500"
  },
  {
    "text": "pay at IPC namespaces which is you know basically you've got control of them yeah yeah that's a lot alright let's",
    "start": "1026500",
    "end": "1035560"
  },
  {
    "text": "let's roll into the demo Oh before we get that I'd like to actually",
    "start": "1035560",
    "end": "1042670"
  },
  {
    "text": "touch on because I don't really speak to it here as part of the demo which is from Mukesh which is I believe that it's",
    "start": "1042670",
    "end": "1050590"
  },
  {
    "text": "assuming that the server has internet access whatever you get images via internal artifact yeah so k3s allows you",
    "start": "1050590",
    "end": "1058120"
  },
  {
    "text": "to configure we call private repositories which are essentially mirrors so you can definitely run this",
    "start": "1058120",
    "end": "1064540"
  },
  {
    "text": "in an air-gap situation the only problem is is then of course because everything based you need to make sure that you cur",
    "start": "1064540",
    "end": "1070990"
  },
  {
    "text": "your images into your aircraft environment but it does work we tested that multiple different scenarios okay",
    "start": "1070990",
    "end": "1079929"
  },
  {
    "text": "great so I know stop sharing and get the",
    "start": "1079929",
    "end": "1086679"
  },
  {
    "text": "correct screen so for my background today I chose a picture of the clustering I'll be showing you where can",
    "start": "1086679",
    "end": "1093940"
  },
  {
    "text": "we see my system upper control or customization script yes sir okay good",
    "start": "1093940",
    "end": "1100960"
  },
  {
    "text": "all right so all right what I've got set up for you today is I've got a small",
    "start": "1100960",
    "end": "1107230"
  },
  {
    "text": "multi PLAs multi class cluster of about tunic nodes running locally it's machine",
    "start": "1107230",
    "end": "1114070"
  },
  {
    "text": "here and I have sort of go ahead and downloaded basically almost all the",
    "start": "1114070",
    "end": "1119799"
  },
  {
    "text": "content I possibly could I've done the same thing for the cluster as well and",
    "start": "1119799",
    "end": "1124960"
  },
  {
    "text": "so when I was sure there's a slightly more in ballast version of the plan that",
    "start": "1124960",
    "end": "1131950"
  },
  {
    "text": "that Dax was talking about and what's actually yes we can page through that so",
    "start": "1131950",
    "end": "1138460"
  },
  {
    "text": "as you can see we've got a bit more node selector expressions on there and I'm",
    "start": "1138460",
    "end": "1144070"
  },
  {
    "text": "doing it's like I'm doing a more updated version of k3s but it's largely the same",
    "start": "1144070",
    "end": "1149440"
  },
  {
    "text": "thing you can see I've got for this case we've got master set to cordon instead",
    "start": "1149440",
    "end": "1155799"
  },
  {
    "text": "of drain and that's because I'm not really learning any workloads but I wouldn't be running much on the masters",
    "start": "1155799",
    "end": "1161500"
  },
  {
    "text": "anyway and so it's safe to just mark and others will then move on because it makes the demo let's see and then the",
    "start": "1161500",
    "end": "1171520"
  },
  {
    "text": "only other real sort of trick that we didn't mention with these there's two",
    "start": "1171520",
    "end": "1177940"
  },
  {
    "text": "planes here staring actually there's a there's a server plan and an agent and",
    "start": "1177940",
    "end": "1183010"
  },
  {
    "text": "these we just started k3s categories you",
    "start": "1183010",
    "end": "1188500"
  },
  {
    "text": "know servers run the API server and controller nodes and all that stuff whereas agents for just workers what",
    "start": "1188500",
    "end": "1196210"
  },
  {
    "text": "we've got going on here is there's this prepare statement that we didn't talk about and what a preparer section",
    "start": "1196210",
    "end": "1203950"
  },
  {
    "text": "is in a plan is a way of saying hey before you do anything this the knit",
    "start": "1203950",
    "end": "1212020"
  },
  {
    "text": "container needs to run to completion and",
    "start": "1212020",
    "end": "1217590"
  },
  {
    "text": "actually pulling in the wrong image so I better have that over here this you know this is Nick inator used to run to",
    "start": "1217590",
    "end": "1224500"
  },
  {
    "text": "completion before we can move on to doing the drainer or anything else this allows us to do is to server nodes and",
    "start": "1224500",
    "end": "1232779"
  },
  {
    "text": "agent nodes are the plans are going to be triggering jobs at the exact same time and this allows us to say okay the",
    "start": "1232779",
    "end": "1239289"
  },
  {
    "text": "agent plans the jobs for the agent plans are going to wait for the server plans",
    "start": "1239289",
    "end": "1245140"
  },
  {
    "text": "to complete before they're done alright so for me it's hard to talk and type the same so let's assume there's some bug",
    "start": "1245140",
    "end": "1256659"
  },
  {
    "text": "fixes in there so let's get that again alright so a cool thing about I don't",
    "start": "1256659",
    "end": "1263679"
  },
  {
    "text": "think I've actually installed the controller here at all so I'm a I'm a",
    "start": "1263679",
    "end": "1270820"
  },
  {
    "text": "big fan of keep CTL get all - a we can see there's no system upgrade controller",
    "start": "1270820",
    "end": "1276490"
  },
  {
    "text": "deployed so let's I've got a script here",
    "start": "1276490",
    "end": "1281529"
  },
  {
    "text": "which is actually using customize so one of the cool things that customizing lets you do is you can dump a customization",
    "start": "1281529",
    "end": "1287770"
  },
  {
    "text": "that the animal is the top of your repo and point to various other things multiple different manifests in your",
    "start": "1287770",
    "end": "1294250"
  },
  {
    "text": "repo and it will essentially process that an output and do something you know some targeted replacement of values for",
    "start": "1294250",
    "end": "1301750"
  },
  {
    "text": "you so that you've got sort of manifest that does what you needed to do and so",
    "start": "1301750",
    "end": "1307980"
  },
  {
    "text": "in this case I'm a pipe it directly into keeps ETL so I can so customers bills",
    "start": "1307980",
    "end": "1319450"
  },
  {
    "text": "gonna pull that down that's good it would actually output it a big old manifest for deploying the system upper",
    "start": "1319450",
    "end": "1325480"
  },
  {
    "text": "control arm so now we'll take a look at that container cream being that I know",
    "start": "1325480",
    "end": "1330600"
  },
  {
    "text": "well thanks watch watch as well",
    "start": "1330600",
    "end": "1338670"
  },
  {
    "text": "okay right now the things we're going to do it was",
    "start": "1338670",
    "end": "1345840"
  },
  {
    "text": "before the p3 it's up great play on you so and trying to remember if they will",
    "start": "1345840",
    "end": "1359370"
  },
  {
    "text": "get picked up right away I believe they will because currency yep and I believe",
    "start": "1359370",
    "end": "1370890"
  },
  {
    "text": "all of those conditions will match right other fighters so we jump over here up",
    "start": "1370890",
    "end": "1384150"
  },
  {
    "text": "and we've got some jobs so we've got a scurvy job running right here I've got two agent John thing which is as well it",
    "start": "1384150",
    "end": "1390720"
  },
  {
    "text": "looks like the server job is already been up online because the thing is pronounced this is this is the typical",
    "start": "1390720",
    "end": "1396450"
  },
  {
    "text": "behavior you'll see this is what it looks like when we're trying to constantly pull it and we've got an",
    "start": "1396450",
    "end": "1402150"
  },
  {
    "text": "upgraded version of the master by the way and you'll notice that scheduling was disabled when it bounced and you'll",
    "start": "1402150",
    "end": "1408660"
  },
  {
    "text": "notice that you don't seem in one state every man that's different okay now we're back to being schedulable",
    "start": "1408660",
    "end": "1415530"
  },
  {
    "text": "and the age of nodes have already been applied to or starting to be applied you",
    "start": "1415530",
    "end": "1425160"
  },
  {
    "text": "can mark them using disabled we're pulling a drain on there so you get a lot of churn you'll see some workload",
    "start": "1425160",
    "end": "1430320"
  },
  {
    "text": "bouncing around now is a good time for questions well this is going on but",
    "start": "1430320",
    "end": "1435540"
  },
  {
    "text": "what's going to happen here is that the upgrade controller the first plan for the server finished and then the agent",
    "start": "1435540",
    "end": "1446040"
  },
  {
    "text": "planes waited as soon as that was done it they they began to the exited their",
    "start": "1446040",
    "end": "1453000"
  },
  {
    "text": "prepare container and they're moving and moving forward moving forward we can see we've got all of the jobs complete",
    "start": "1453000",
    "end": "1463990"
  },
  {
    "text": "and just like that we've upgraded our experience he's nice",
    "start": "1463990",
    "end": "1473050"
  },
  {
    "text": "you still want questions or yeah yeah you see we only have one poll we have one question questions from Gaurav and",
    "start": "1473050",
    "end": "1479500"
  },
  {
    "text": "he says if we were to port the system controller to another kubernetes stack wood we use separate plans to do OS and",
    "start": "1479500",
    "end": "1486820"
  },
  {
    "text": "kubernetes upgrades probably yes it's just in my opinion it's good to have",
    "start": "1486820",
    "end": "1493870"
  },
  {
    "text": "high amount of granularity because one of the things that you get is you can",
    "start": "1493870",
    "end": "1499780"
  },
  {
    "text": "run multiple system upgrade controllers because they only focus on their own",
    "start": "1499780",
    "end": "1505090"
  },
  {
    "text": "namespace they're deployed in two and the reason that I mentioning that is because you may want to run multiple out",
    "start": "1505090",
    "end": "1512440"
  },
  {
    "text": "of time just you know taking care of different things because maybe you got a service account that was a bit more",
    "start": "1512440",
    "end": "1519100"
  },
  {
    "text": "maybe you got one service account you know my plans they do things they don't need and so you've got some limited",
    "start": "1519100",
    "end": "1525120"
  },
  {
    "text": "permissions that you're you're giving to your coupon for a good reason that happens to be but getting back to doing",
    "start": "1525120",
    "end": "1534940"
  },
  {
    "text": "them separately I believe you really want to make the smallest amount of Ida",
    "start": "1534940",
    "end": "1540340"
  },
  {
    "text": "poaching at a time that you can and multiple plans in a single namespace we",
    "start": "1540340",
    "end": "1545590"
  },
  {
    "text": "run serially on a particular node one of the things that I've got built in here is that you can stew time spun I'm",
    "start": "1545590",
    "end": "1551650"
  },
  {
    "text": "triggering the creation of Ja I'm just returning pons right so in those pods",
    "start": "1551650",
    "end": "1556720"
  },
  {
    "text": "I've got some pod anti affinity with anything in the same namespace with the",
    "start": "1556720",
    "end": "1562450"
  },
  {
    "text": "same make sense so yeah you can run the number of things you know or the content",
    "start": "1562450",
    "end": "1569770"
  },
  {
    "text": "for a number of a different up there well I want to apply at a time and that will have a nice okay I'm applying this",
    "start": "1569770",
    "end": "1575710"
  },
  {
    "text": "thing now if you want to do that all at once you can but I think that's really kind of I think that tends to you know",
    "start": "1575710",
    "end": "1584310"
  },
  {
    "text": "paper on the road disaster",
    "start": "1584310",
    "end": "1588720"
  },
  {
    "text": "you know your honor yeah there's no I wasn't sure if you're going to continue but go for it it's perfectly suited to",
    "start": "1592770",
    "end": "1599790"
  },
  {
    "text": "any particular stack and I just happen to use chafe advantage because that's one of our products and it's also super easy to use",
    "start": "1599790",
    "end": "1605370"
  },
  {
    "text": "it makes the stand up of clusters just kind of brain-dead easy which I love",
    "start": "1605370",
    "end": "1610710"
  },
  {
    "text": "right right it should there's there's there's nothing that ties system upgrade control",
    "start": "1610710",
    "end": "1616950"
  },
  {
    "text": "to any of our technologies it is a standing general-purpose are sad asks if",
    "start": "1616950",
    "end": "1626250"
  },
  {
    "text": "it's possible to do expansion or contraction of pods during the upgrade",
    "start": "1626250",
    "end": "1632990"
  },
  {
    "text": "expansion or contraction of plans meaning would you replicas sets yes it",
    "start": "1632990",
    "end": "1646350"
  },
  {
    "text": "sounds like could you also change the number of replicas that you're deploying oh you could that's how I would",
    "start": "1646350",
    "end": "1651840"
  },
  {
    "text": "interpret it yeah really good I mean you know you've got the same permissions the",
    "start": "1651840",
    "end": "1661590"
  },
  {
    "text": "rest the containers in that pot which is a lot so provided that you've given that",
    "start": "1661590",
    "end": "1668970"
  },
  {
    "text": "pod from these two to modify other nodes or replicas that's if all cluster didn't",
    "start": "1668970",
    "end": "1676950"
  },
  {
    "text": "see you can definitely make some changes",
    "start": "1676950",
    "end": "1682830"
  },
  {
    "text": "if you need to like you know if you need to label a replica set to tag it for whatever reason and scale it down you",
    "start": "1682830",
    "end": "1689490"
  },
  {
    "text": "could do that okay so we said that this",
    "start": "1689490",
    "end": "1696540"
  },
  {
    "text": "is in 2.4 but the answer may sound like it might only be available for k3s and",
    "start": "1696540",
    "end": "1701940"
  },
  {
    "text": "2.4 is it available for any kubernetes cluster that Rancher 2.4 is managing and",
    "start": "1701940",
    "end": "1707660"
  },
  {
    "text": "2.4 it's only available for K 3 as clusters right now like we're hoping to expand it tomorrow but only for kids",
    "start": "1707660",
    "end": "1714660"
  },
  {
    "text": "dress right now",
    "start": "1714660",
    "end": "1717200"
  },
  {
    "text": "[Music] oh all right go for it I'll hold",
    "start": "1721350",
    "end": "1729429"
  },
  {
    "text": "questions until you're ready again this will be one more questions because the full thing takes a number of minutes",
    "start": "1729429",
    "end": "1738239"
  },
  {
    "text": "okay so what we've got going here is you",
    "start": "1738239",
    "end": "1743979"
  },
  {
    "text": "know stammering biodomes and by default these come with a 4.15 series colonel and you know what I've decided I would",
    "start": "1743979",
    "end": "1750579"
  },
  {
    "text": "like to get the latest and greatest yes it's two years old but I've got the hardware equivalent hardware whatever",
    "start": "1750579",
    "end": "1758139"
  },
  {
    "text": "the heck that that he still would be me for sure monocle it allows me to use the kernel from",
    "start": "1758139",
    "end": "1764309"
  },
  {
    "text": "another thing I can't pronounce which is a 5.3 series pedal in a bun LTS about to",
    "start": "1764309",
    "end": "1773019"
  },
  {
    "text": "release and I'd like to make that you know you can see I've got it",
    "start": "1773019",
    "end": "1778029"
  },
  {
    "text": "parameterised with a version I've got five three zero four six one over to that was the latest doesn't last night",
    "start": "1778029",
    "end": "1785339"
  },
  {
    "text": "I've got an upgrade script to essentially say you know what in a",
    "start": "1786839",
    "end": "1792759"
  },
  {
    "text": "container in a bionic container update apt-get and then install because I'm",
    "start": "1792759",
    "end": "1800559"
  },
  {
    "text": "gonna VM minus all virtual hwe 1804 the virtual headers and the virtual image",
    "start": "1800559",
    "end": "1806969"
  },
  {
    "text": "and at the end of that this is probably a neat little kind of a bit of a gotcha",
    "start": "1806969",
    "end": "1813999"
  },
  {
    "text": "with the controller comes into play you can see that I've got if one reboot required then otherwise",
    "start": "1813999",
    "end": "1820479"
  },
  {
    "text": "don't and you could say well you really wanted the one time but because I'm",
    "start": "1820479",
    "end": "1828579"
  },
  {
    "text": "running this invoking this reboot from the inside of a container I'm actually shutting down the kubernetes instance in",
    "start": "1828579",
    "end": "1835539"
  },
  {
    "text": "this case before it has a chance to mark the job is completed so when it comes",
    "start": "1835539",
    "end": "1841629"
  },
  {
    "text": "back up I run it again but reboot required won't be there and everything will just sort of be like already",
    "start": "1841629",
    "end": "1847959"
  },
  {
    "text": "updated and so what we're getting what we're doing with this a little bit of script magic is ensuring",
    "start": "1847959",
    "end": "1854600"
  },
  {
    "text": "anything that get to the instinct wants without unnecessary side-effects so if we're gonna reboot we're not going to",
    "start": "1854600",
    "end": "1860779"
  },
  {
    "text": "need to do it again and so I mean this is the this is the script this is where most of the meat of",
    "start": "1860779",
    "end": "1866210"
  },
  {
    "text": "it is this is just the selection criteria with a bit of you know a bit of verbiage to to make it accessible you",
    "start": "1866210",
    "end": "1872299"
  },
  {
    "text": "can see I've I've scaled down the plan to be zero and this just a sidestep a bug with labeling and number of nodes at",
    "start": "1872299",
    "end": "1879289"
  },
  {
    "text": "the same time that said I believe is",
    "start": "1879289",
    "end": "1898549"
  },
  {
    "text": "community so yeah so I've decided to I've decided to only label the work",
    "start": "1898549",
    "end": "1905450"
  },
  {
    "text": "group so you can run this plan right so I'm going to apply this edit this plan to give it a concurrency to go in",
    "start": "1905450",
    "end": "1917018"
  },
  {
    "text": "all right so something we can see here is that we are we are applying two of",
    "start": "1937980",
    "end": "1943110"
  },
  {
    "text": "them at once now unfortunately these take a few minutes and I should have started this",
    "start": "1943110",
    "end": "1948149"
  },
  {
    "text": "earlier before asking this is the reason why I wanted to start this takes anywhere between two to three minutes",
    "start": "1948149",
    "end": "1953960"
  },
  {
    "text": "there's any questions now's a great time questions all right",
    "start": "1953960",
    "end": "1964039"
  },
  {
    "text": "so Mukesh asks is it possible to use this controller just to upgrade the",
    "start": "1964700",
    "end": "1970230"
  },
  {
    "text": "network configuration in a bare-metal environment yes you could definitely use",
    "start": "1970230",
    "end": "1978539"
  },
  {
    "text": "it to do anything that would know if this happens to be you know whether",
    "start": "1978539",
    "end": "1983639"
  },
  {
    "text": "you're installing a package or dropping the mo file your mutating States and one",
    "start": "1983639",
    "end": "1989460"
  },
  {
    "text": "of the things that we haven't really addressed that we've hinted at a bit is that this is like this has a lot of",
    "start": "1989460",
    "end": "1997470"
  },
  {
    "text": "overlap with traditional configuration management I think a lot of these things should look and sound kind of familiar",
    "start": "1997470",
    "end": "2002529"
  },
  {
    "text": "we're just using kubernetes as the reconciliation driver using native",
    "start": "2002529",
    "end": "2009139"
  },
  {
    "text": "resources - and that gets me to the fact",
    "start": "2009139",
    "end": "2014570"
  },
  {
    "text": "that the way that the system upper controller knows not to keep applying a",
    "start": "2014570",
    "end": "2020870"
  },
  {
    "text": "plan to a node is that it labels a node with the updated version at the time",
    "start": "2020870",
    "end": "2026360"
  },
  {
    "text": "that it deployed it right so what that means is plans to mutate over time and apply multiple times to a single node",
    "start": "2026360",
    "end": "2033490"
  },
  {
    "text": "but as the you know when they're in a single state that is an outstanding intent to mutate individual nodes as per",
    "start": "2033490",
    "end": "2041570"
  },
  {
    "text": "the Modeselektor criteria in your classroom so that's a long way of saying you can totally do configuration",
    "start": "2041570",
    "end": "2047480"
  },
  {
    "text": "management you know but I mean this",
    "start": "2047480",
    "end": "2057020"
  },
  {
    "text": "thing is so dynamic and so powerful and so will be realizable two nodes I've",
    "start": "2057020",
    "end": "2062450"
  },
  {
    "text": "only got internals so one of the things",
    "start": "2062450",
    "end": "2069470"
  },
  {
    "text": "that I mentioned that you'll see is like we've got these and that's because the reboot happened before the controller could mark the job",
    "start": "2069470",
    "end": "2075600"
  },
  {
    "text": "is completed but then when it came back up it ran it again because you can see two",
    "start": "2075600",
    "end": "2080878"
  },
  {
    "text": "knobs on Note 4 right and then this one right and nothing immediately completed",
    "start": "2080879",
    "end": "2086608"
  },
  {
    "text": "and then the controller knows ok that notes done nice do you recommend running",
    "start": "2086609",
    "end": "2094669"
  },
  {
    "text": "the master plan or the node plan first or is doesn't matter because what you're",
    "start": "2094669",
    "end": "2101190"
  },
  {
    "text": "doing in in the kubernetes case you want to upgrade your API servers first so",
    "start": "2101190",
    "end": "2109050"
  },
  {
    "text": "it's good in this case yes upgrade your shoulder nodes first and",
    "start": "2109050",
    "end": "2114359"
  },
  {
    "text": "then do you know then do your nose and",
    "start": "2114359",
    "end": "2125760"
  },
  {
    "text": "so those are the selection criteria one is equals true one is and then the",
    "start": "2125760",
    "end": "2131010"
  },
  {
    "text": "inverse of that is that it's not true and those are your primary selection criteria for you two different all right",
    "start": "2131010",
    "end": "2140910"
  },
  {
    "text": "I'm just answering another question in text dominic asks if it's possible to",
    "start": "2140910",
    "end": "2146550"
  },
  {
    "text": "schedule these upgrades where you could for example say that you wanted them to run at a particular time or day so yes",
    "start": "2146550",
    "end": "2155820"
  },
  {
    "text": "and now that having a cron job for or not a cron job but having a cron",
    "start": "2155820",
    "end": "2163230"
  },
  {
    "text": "expression for scheduling one to apply these has been a feature request I don't think anyone's actually it's something",
    "start": "2163230",
    "end": "2170850"
  },
  {
    "text": "that I'm thinking about when I get time to work on this but so that's the that's",
    "start": "2170850",
    "end": "2179730"
  },
  {
    "text": "kind of the know part but the sort of yes the answer to it is is that you can have a cron job that runs every so often",
    "start": "2179730",
    "end": "2186690"
  },
  {
    "text": "and then sets the version in the plan CRD and then that will trigger",
    "start": "2186690",
    "end": "2193230"
  },
  {
    "text": "applications because the controller will say this has changed therefore the hash",
    "start": "2193230",
    "end": "2198270"
  },
  {
    "text": "has changed therefore I know I need to apply this to the nodes that are in the selection curriculum so we can",
    "start": "2198270",
    "end": "2203430"
  },
  {
    "text": "definitely you know cobble together existing resources pastas planning to",
    "start": "2203430",
    "end": "2209220"
  },
  {
    "text": "make such a thing Gaurav asks another question that I",
    "start": "2209220",
    "end": "2216390"
  },
  {
    "text": "think is interesting we we create tools to solve problems and anytime that we",
    "start": "2216390",
    "end": "2223589"
  },
  {
    "text": "use a tool like if I'm using a hammer there's lots of other things that can use instead of a hammer I could use my fist I could use a rock I could use a",
    "start": "2223589",
    "end": "2229140"
  },
  {
    "text": "piece of wood so if if somebody wasn't using the system upgrade controller and they wanted to do this via you know some",
    "start": "2229140",
    "end": "2236999"
  },
  {
    "text": "other manual means what exactly are we replace it yeah so that's actually a",
    "start": "2236999",
    "end": "2242819"
  },
  {
    "text": "really good question and it kind of digs into why I started to develop this specifically for k3 OS",
    "start": "2242819",
    "end": "2249950"
  },
  {
    "text": "so you know I was brought in Baba kingdom rancher in after Labor Day sort",
    "start": "2249950",
    "end": "2257789"
  },
  {
    "text": "of the day after Labor Day last year tart arts targeted to work on Keith Rios",
    "start": "2257789",
    "end": "2263729"
  },
  {
    "text": "specifically pick up that project have fun with it and one of the things that was missing was an upgrade story the",
    "start": "2263729",
    "end": "2271019"
  },
  {
    "text": "community member had provided contributed some scripts to make that work and that was all manual it was all",
    "start": "2271019",
    "end": "2280259"
  },
  {
    "text": "manual work and I'm like you know what you know and and it was manual to run the scripts it was manual to remount the",
    "start": "2280259",
    "end": "2287430"
  },
  {
    "text": "node that the Buddha Fest and the colonel was on because by default that's mounted as read-only like all these",
    "start": "2287430",
    "end": "2293670"
  },
  {
    "text": "things that you have to do were being dynamically but they were eminently scriptable done DevOps",
    "start": "2293670",
    "end": "2300660"
  },
  {
    "text": "it's it's not hard it's just throw the TVs to get all these things together and",
    "start": "2300660",
    "end": "2305700"
  },
  {
    "text": "so for putting together the upgrade story for p3 Austin like you know what I'm a big fan of command pattern that is",
    "start": "2305700",
    "end": "2312599"
  },
  {
    "text": "embodied in containers which is a container can be your content as well as the actions to take with that content",
    "start": "2312599",
    "end": "2319319"
  },
  {
    "text": "okay in that case it's a perfect vehicle for delivering it up so for us I made it so we were published",
    "start": "2319319",
    "end": "2327749"
  },
  {
    "text": "pages and then I worked on the upgrade controller so they could pull down an image and apply it so this is really all",
    "start": "2327749",
    "end": "2334200"
  },
  {
    "text": "I'm answering apologize but it's very specific III honest but a lot of this",
    "start": "2334200",
    "end": "2340290"
  },
  {
    "text": "answer is and replacing manual processes with right things that are easy to understand because you can see it in a",
    "start": "2340290",
    "end": "2348230"
  },
  {
    "text": "container definition right so taking that manual process and trance transcribing it into a more declarative",
    "start": "2348230",
    "end": "2356880"
  },
  {
    "text": "container definition and then you've a very nice way of understanding how your",
    "start": "2356880",
    "end": "2363240"
  },
  {
    "text": "system is you're going to change and so since I've been speaking to Keith Rios and this upgrade actually quicker today",
    "start": "2363240",
    "end": "2370140"
  },
  {
    "text": "that I didn't mr. ding okay I'm sorry I",
    "start": "2370140",
    "end": "2383550"
  },
  {
    "text": "want demos I'm all about shortcuts so I've got a four node k 3 OS closer honey",
    "start": "2383550",
    "end": "2391590"
  },
  {
    "text": "or genius I've got let's just say I've",
    "start": "2391590",
    "end": "2408960"
  },
  {
    "text": "got two nooks eight cake mix putting an i7 processors I find I forget",
    "start": "2408960",
    "end": "2416630"
  },
  {
    "text": "not super fat but it's running K through zero and one which runs p3 oats which is",
    "start": "2416630",
    "end": "2424080"
  },
  {
    "text": "why I developed a system bucket over for addition I've also got an RPI 3 and an RPI for the RPI 3 is for some reasons",
    "start": "2424080",
    "end": "2432510"
  },
  {
    "text": "only got half memory but the RPI for gates and those are based off those are",
    "start": "2432510",
    "end": "2438210"
  },
  {
    "text": "key 3oz overlays on top of 1911 to 1910",
    "start": "2438210",
    "end": "2444740"
  },
  {
    "text": "and they're all running in a cluster together and I thought you know what it would be a cool thing on a demo to just",
    "start": "2444740",
    "end": "2450360"
  },
  {
    "text": "go wild and upgrade a heterogeneous most recent evaluation hope that sounds and",
    "start": "2450360",
    "end": "2455460"
  },
  {
    "text": "meat to me that's wild they cool I hope it's not cool other people but getting back to the thing that I was",
    "start": "2455460",
    "end": "2463080"
  },
  {
    "text": "talking about replacing manual process or something he could inspect and understand a bit better I wanted to take",
    "start": "2463080",
    "end": "2471030"
  },
  {
    "text": "a look at",
    "start": "2471030",
    "end": "2473750"
  },
  {
    "text": "let's do this so there's only one played",
    "start": "2480740",
    "end": "2486990"
  },
  {
    "text": "basketball - you don't mind the stuff at the top there that's just a bunch of noise for",
    "start": "2486990",
    "end": "2493170"
  },
  {
    "text": "regular but you can see that one thing that we didn't mention is that you've",
    "start": "2493170",
    "end": "2500160"
  },
  {
    "text": "also got the ability to trigger your upgrade or get your version values from",
    "start": "2500160",
    "end": "2505170"
  },
  {
    "text": "an external source what we call a chain and a channel is just if you familiar",
    "start": "2505170",
    "end": "2511530"
  },
  {
    "text": "with like what's this URL right here which is a github browser URL which will",
    "start": "2511530",
    "end": "2517440"
  },
  {
    "text": "redirect you to whatever the latest non pre-release taggings this is what the",
    "start": "2517440",
    "end": "2525300"
  },
  {
    "text": "controller expects it expects a 302 the location and the last element of that",
    "start": "2525300",
    "end": "2531480"
  },
  {
    "text": "path is going to be the tag it can a the version to use and so that would replace",
    "start": "2531480",
    "end": "2536760"
  },
  {
    "text": "if you use version that replaces channel but if you don't have version of the",
    "start": "2536760",
    "end": "2541800"
  },
  {
    "text": "original channel to get these definitions to work with the APRI",
    "start": "2541800",
    "end": "2548010"
  },
  {
    "text": "controller i've met a concurrency of zero here because any want to apply by accident we've got the drain going on as well see",
    "start": "2548010",
    "end": "2555960"
  },
  {
    "text": "oh but speaking to that original question which is what are we replacing and this was a way of defining okay",
    "start": "2555960",
    "end": "2564300"
  },
  {
    "text": "here's my upgrade I've got a command I need to run which is key three OS 50 rocks is another one binary a little bit",
    "start": "2564300",
    "end": "2570599"
  },
  {
    "text": "like and I want to run the upgrade stuff meetings and you've got a parameterize",
    "start": "2570599",
    "end": "2577500"
  },
  {
    "text": "it so you know what if the kernels are upgrade that if the root of s is there epicord that where you do any of that if",
    "start": "2577500",
    "end": "2583260"
  },
  {
    "text": "you need to remount remount read write sick when you're done reboot when you're",
    "start": "2583260",
    "end": "2588510"
  },
  {
    "text": "done if you've made a change and here's a lock file in case somebody was you know in case to lock out somebody that",
    "start": "2588510",
    "end": "2595950"
  },
  {
    "text": "was by chance running an upgrade manually on the host performance and then there's the source",
    "start": "2595950",
    "end": "2602970"
  },
  {
    "text": "and target the source of destination right so another thing this is microcontroller does is it mounts the nose root",
    "start": "2602970",
    "end": "2610430"
  },
  {
    "text": "filesystem into the container / host and so that's",
    "start": "2610430",
    "end": "2617690"
  },
  {
    "text": "why I'm saying okay the source is from the containers K through your own system to the hosts yeah okay alright there are",
    "start": "2617690",
    "end": "2633859"
  },
  {
    "text": "there are two more questions but let me know when it looks sounds like you're about okay you kick that off",
    "start": "2633859",
    "end": "2644840"
  },
  {
    "text": "I'm gonna finish typing an answer here and then I will read okay said I'll asks",
    "start": "2644840",
    "end": "2656330"
  },
  {
    "text": "what about a heavily loaded environment that has some failure can it roll back",
    "start": "2656330",
    "end": "2664099"
  },
  {
    "text": "doesn't roll back without issues how would how would you handle that right now use the right the exactly right",
    "start": "2664099",
    "end": "2674630"
  },
  {
    "text": "wording which is we do a very simple rolling update the concurrency is",
    "start": "2674630",
    "end": "2680030"
  },
  {
    "text": "essentially slots that you can tolerate being down if they fail they won't hang",
    "start": "2680030",
    "end": "2685310"
  },
  {
    "text": "there and they won't move on until concurrent won't apply to other nodes",
    "start": "2685310",
    "end": "2690800"
  },
  {
    "text": "until those concurrency slots are fixed until those failed jobs have been",
    "start": "2690800",
    "end": "2696470"
  },
  {
    "text": "addressed okay an anonymous attendee",
    "start": "2696470",
    "end": "2708830"
  },
  {
    "text": "asks is this aware of who the sed leader is and does it handle migrating the leader to another node while things are",
    "start": "2708830",
    "end": "2715490"
  },
  {
    "text": "being upgraded no that's that's the sort of thing that you would have to sort of",
    "start": "2715490",
    "end": "2721190"
  },
  {
    "text": "qualify interlocking plans okay the last",
    "start": "2721190",
    "end": "2730400"
  },
  {
    "text": "question that we have right now is from Farzad who asks if Rancher does the upgrade in multiple clusters",
    "start": "2730400",
    "end": "2735640"
  },
  {
    "text": "simultaneously or sequentially or if it can do it multiple clusters at all yeah",
    "start": "2735640",
    "end": "2743869"
  },
  {
    "text": "I can answer that um so like what a cement system of great controllers it's actually somewhat decentralized there's",
    "start": "2743869",
    "end": "2750859"
  },
  {
    "text": "no requirement for Rancher so you can if you have five clusters with the system of great controller can you launch a",
    "start": "2750859",
    "end": "2756980"
  },
  {
    "text": "plan in every single cluster the moment the controllers in those clusters see those plans they'll kick off and they'll",
    "start": "2756980",
    "end": "2762680"
  },
  {
    "text": "start performing you know the work so",
    "start": "2762680",
    "end": "2767960"
  },
  {
    "text": "yeah for branch code four we only support kids clusters right now but uh yeah you can launch those and at the",
    "start": "2767960",
    "end": "2776390"
  },
  {
    "text": "same time or do you want the others note a requirement on Ranger even okay so so",
    "start": "2776390",
    "end": "2782480"
  },
  {
    "text": "whether it's sequential or simultaneous is actually at the discretion of the operator who launches the plants I think",
    "start": "2782480",
    "end": "2789820"
  },
  {
    "text": "so are they I think they talked about just in the rancher case like how we specifically do it in Rancher or if he's",
    "start": "2789820",
    "end": "2797030"
  },
  {
    "text": "specifically asking does Rancher do the upgrade in multiple clusters simultaneously or sequentially it can be",
    "start": "2797030",
    "end": "2804010"
  },
  {
    "text": "simultaneous like multiple clusters yeah it could you know you could figure that",
    "start": "2804010",
    "end": "2810260"
  },
  {
    "text": "upgraded in two clusters at the same time and because they don't having dependency on Rancher they would occur",
    "start": "2810260",
    "end": "2815930"
  },
  {
    "text": "at the same time okay and and is is the",
    "start": "2815930",
    "end": "2821359"
  },
  {
    "text": "process triggered is it actually triggered independently for each cluster or is there a way to take a central plan",
    "start": "2821359",
    "end": "2827690"
  },
  {
    "text": "and say apply this plan to these five clusters there is not yet a way to do that of applying a single plan to",
    "start": "2827690",
    "end": "2834080"
  },
  {
    "text": "multiple clusters no you'd actually yet you'd have to go in there and you'd have to basically what it's doing is it's",
    "start": "2834080",
    "end": "2839900"
  },
  {
    "text": "sending a plan to that downstream cluster all right that's the last",
    "start": "2839900",
    "end": "2844940"
  },
  {
    "text": "question for now so we have actually we well we normally leave ten minutes for Q&A at the end we have no more queues so",
    "start": "2844940",
    "end": "2852770"
  },
  {
    "text": "if you want to continue for a few more minutes and I'll let you know if other questions roll it yeah so what's going",
    "start": "2852770",
    "end": "2858050"
  },
  {
    "text": "on here is the unfortunately Massimo got upgraded first and so I'm",
    "start": "2858050",
    "end": "2865920"
  },
  {
    "text": "waiting for it to come back oh hey penguins good just to recap",
    "start": "2865920",
    "end": "2883380"
  },
  {
    "text": "you've shown upgrading the kernel upgrading individual packages and upgrading the kubernetes version in the",
    "start": "2883380",
    "end": "2891330"
  },
  {
    "text": "different things that you've done both today and then this is upgrading TLS which is kind of a bundle of userspace",
    "start": "2891330",
    "end": "2897410"
  },
  {
    "text": "kernel kernel in town and you can see me",
    "start": "2897410",
    "end": "2905910"
  },
  {
    "text": "the OS versions was upgraded here the key three over here and the kernel goes",
    "start": "2905910",
    "end": "2914220"
  },
  {
    "text": "up later as well he's at 37 amounts for two three genera yeah and then you know",
    "start": "2914220",
    "end": "2921090"
  },
  {
    "text": "what's going on here is that I'm showing this hopefully working magically with heterogenous because one of those key",
    "start": "2921090",
    "end": "2927810"
  },
  {
    "text": "realizes published manifested images such that I get to use a single plan to",
    "start": "2927810",
    "end": "2933119"
  },
  {
    "text": "the file directory look like and then they go and pull down the hardware specific one so well well this is in k3s",
    "start": "2933119",
    "end": "2945839"
  },
  {
    "text": "and and as part of k3 us and it's in rancher 2.44 for the key 3s support this",
    "start": "2945839",
    "end": "2952080"
  },
  {
    "text": "can run in any kubernetes cluster so somebody is attending the webinar right now and they're not using any of those",
    "start": "2952080",
    "end": "2957180"
  },
  {
    "text": "things how can they get started using this yeah I think probably the best bet is to take a look at the examples",
    "start": "2957180",
    "end": "2965730"
  },
  {
    "text": "directory which I was actually in the middle reworking yesterday this is this",
    "start": "2965730",
    "end": "2971849"
  },
  {
    "text": "is what a snippet that I think to see are either to the actual shown that this this shows you how can you configure a",
    "start": "2971849",
    "end": "2980040"
  },
  {
    "text": "secret to encapsulate the scripts to be run as well as parameterize it with",
    "start": "2980040",
    "end": "2986460"
  },
  {
    "text": "maybe individual packages that you may want to update this is a lot like what you know in your ansible would be here",
    "start": "2986460",
    "end": "2992040"
  },
  {
    "text": "this is your individual W packages there's a name choose the versions there's how you make",
    "start": "2992040",
    "end": "2997390"
  },
  {
    "text": "that happen right and this is this is what answer was doing back then you know",
    "start": "2997390",
    "end": "3008010"
  },
  {
    "text": "and then it's showing how to see a true to host and then use the host systems",
    "start": "3008010",
    "end": "3013319"
  },
  {
    "text": "packaging right pulling that up there doc mister be the best entries to take a",
    "start": "3013319",
    "end": "3019980"
  },
  {
    "text": "look at as far as deploying as far as",
    "start": "3019980",
    "end": "3026130"
  },
  {
    "text": "deploying the system upgrade controller into a kubernetes cluster we have that in the docs as well I dunno it's just a",
    "start": "3026130",
    "end": "3032190"
  },
  {
    "text": "matter of copying the manifest it's just",
    "start": "3032190",
    "end": "3039510"
  },
  {
    "text": "a matter of copying this manifest you know gives you the volume well that's it",
    "start": "3039510",
    "end": "3048720"
  },
  {
    "text": "nice power done easy now one thing you want to keep in mind is no caveat is",
    "start": "3048720",
    "end": "3055890"
  },
  {
    "text": "clustered I haven't gone through the trouble of spelling out all the",
    "start": "3055890",
    "end": "3061470"
  },
  {
    "text": "individual permissions that means that that pods will need or the controller we",
    "start": "3061470",
    "end": "3066980"
  },
  {
    "text": "need to do right now very privileged [Music]",
    "start": "3066980",
    "end": "3075030"
  },
  {
    "text": "yeah that actually leads to a question from Dominic where he asked if we have",
    "start": "3076549",
    "end": "3081599"
  },
  {
    "text": "plans for something like a system update controller images hub where people could share images or manifests or things and",
    "start": "3081599",
    "end": "3089369"
  },
  {
    "text": "other people could use them has that even come up as an idea does it seem like a good idea I mean it's not big but it's a great",
    "start": "3089369",
    "end": "3102119"
  },
  {
    "text": "sure I think I think the reusability factor of it is is really good as long",
    "start": "3102119",
    "end": "3108210"
  },
  {
    "text": "as people understand that you should you should check what you're running before you just go apply it with root",
    "start": "3108210",
    "end": "3113369"
  },
  {
    "text": "privileges on your cluster I mean I think in most cases especially early values these images are gonna be",
    "start": "3113369",
    "end": "3121619"
  },
  {
    "text": "you craft yourself well they come from the source that is the people you know sort of deployment controllers",
    "start": "3121619",
    "end": "3129599"
  },
  {
    "text": "co-located with the bits you know anything like in this case really the",
    "start": "3129599",
    "end": "3135299"
  },
  {
    "text": "image that pulling down is k3l s hey this thing's great oh the RP is the RPI three did not get",
    "start": "3135299",
    "end": "3146789"
  },
  {
    "text": "updated but the RP I sure did that's something also look into what",
    "start": "3146789",
    "end": "3153900"
  },
  {
    "text": "happened there but um yeah no more",
    "start": "3153900",
    "end": "3162029"
  },
  {
    "text": "questions we still have a couple minutes left let's I have a question then in this in this situation you've got the Raspberry Pi 3 did not get updated you",
    "start": "3162029",
    "end": "3169230"
  },
  {
    "text": "say you'll have to go look into that how would you handle this would you log into that and perform an update manually which you downgrade everything that you",
    "start": "3169230",
    "end": "3176249"
  },
  {
    "text": "did what what what's the process you would follow well actually you know what I'm seeing that it's not ready so what",
    "start": "3176249",
    "end": "3182640"
  },
  {
    "text": "that's telling me probably sweetie we're taking a long time to boot up or it's",
    "start": "3182640",
    "end": "3188999"
  },
  {
    "text": "got some other failures so in this case I would I would have to switch out my hardware and hook up the monitor and",
    "start": "3188999",
    "end": "3194519"
  },
  {
    "text": "keyboard and figure out what's going on it could also be that that thing is just it's so it's just these are external",
    "start": "3194519",
    "end": "3209249"
  },
  {
    "text": "hard drives but I mean right oh there it",
    "start": "3209249",
    "end": "3216509"
  },
  {
    "text": "is it updated nice just slow this is",
    "start": "3216509",
    "end": "3222900"
  },
  {
    "text": "awesome I know it works on the note it's",
    "start": "3222900",
    "end": "3229769"
  },
  {
    "text": "gonna work on the ambiance it did wait a",
    "start": "3229769",
    "end": "3235289"
  },
  {
    "text": "question just pop up from Mike who asks if there's any plans to integrate cron like behavior to implement the glue of a",
    "start": "3235289",
    "end": "3241769"
  },
  {
    "text": "cron job changing a hash in a standard or integrated way uh well because this",
    "start": "3241769",
    "end": "3248489"
  },
  {
    "text": "microcontroller is meant to be general-purpose I feel like that particularly bit how do you get a",
    "start": "3248489",
    "end": "3253829"
  },
  {
    "text": "version to a plan there's so many other ways right the plan is the local there's all",
    "start": "3253829",
    "end": "3260490"
  },
  {
    "text": "kind of different paths you can get to them I for me I don't have a you space",
    "start": "3260490",
    "end": "3265560"
  },
  {
    "text": "where I need a cron job to do that yeah so I don't I don't develop it but you know contributions are welcome sure",
    "start": "3265560",
    "end": "3273720"
  },
  {
    "text": "there's also the source right then there's the other side of it which is if",
    "start": "3273720",
    "end": "3279240"
  },
  {
    "text": "there isn't a feature request not that I want to get one sort of outstanding that",
    "start": "3279240",
    "end": "3284280"
  },
  {
    "text": "you know discusses when to apply you know when is what is an appropriate",
    "start": "3284280",
    "end": "3289830"
  },
  {
    "text": "window to apply upgrades because they may be different per Dodi I want to figure out like what what",
    "start": "3289830",
    "end": "3297030"
  },
  {
    "text": "makes that functionality okay we are",
    "start": "3297030",
    "end": "3302430"
  },
  {
    "text": "coming up on the top of the RSC so I am just popped back in we have one last question where somebody says that the manifest",
    "start": "3302430",
    "end": "3308760"
  },
  {
    "text": "specifies system upgrade job coop CTL image is rancher coop CTL v1 dot 17.0",
    "start": "3308760",
    "end": "3314550"
  },
  {
    "text": "and once know if it'll work on earlier kubernetes versions so if you override",
    "start": "3314550",
    "end": "3321210"
  },
  {
    "text": "an environment variable with the for the system upper controller you can definitely shooting that in there right",
    "start": "3321210",
    "end": "3333750"
  },
  {
    "text": "now that image is only built you different",
    "start": "3333750",
    "end": "3345020"
  },
  {
    "text": "thing is the other caveat to that answer",
    "start": "3345020",
    "end": "3350160"
  },
  {
    "text": "the system upper controllers compiled against built with Wrangler which I",
    "start": "3350160",
    "end": "3355230"
  },
  {
    "text": "believe is referencing you know the 1.16 or the 1.17 series which means you're",
    "start": "3355230",
    "end": "3360330"
  },
  {
    "text": "backwards support is only goes as far as okay I gotta cut you off there because",
    "start": "3360330",
    "end": "3367890"
  },
  {
    "text": "we got less than a minute left and I know something wants to wrap it up so thank you so much Jacob and Dax for your demo and saying oh yeah okay great",
    "start": "3367890",
    "end": "3376680"
  },
  {
    "text": "thanks adrian Dax and Jacob for the great presentation a great demo with 100% success rate and thank you everyone",
    "start": "3376680",
    "end": "3384570"
  },
  {
    "text": "for joining and we answered all the questions as well so which is great thank you for joining",
    "start": "3384570",
    "end": "3391300"
  },
  {
    "text": "us today the webinar recording and slides will be online later today and we are looking forward to see you in future",
    "start": "3391300",
    "end": "3397570"
  },
  {
    "text": "CN CF webinar have a great day everyone thanks everyone see you soon",
    "start": "3397570",
    "end": "3404340"
  }
]