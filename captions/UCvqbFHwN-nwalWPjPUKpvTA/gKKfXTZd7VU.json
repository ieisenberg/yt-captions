[
  {
    "text": "specifically about the day two aspect aspects and how to navigate read and",
    "start": "359",
    "end": "5400"
  },
  {
    "text": "write them and before we do that a quick introduction about us um my name is",
    "start": "5400",
    "end": "11460"
  },
  {
    "text": "Priyanka sagu I work at Souza's kubernetes integration engineer and I've been part of the kubernetes project for",
    "start": "11460",
    "end": "18119"
  },
  {
    "text": "a while in Sig release and Sig contracts hello I'm Jason I'm a next Consulting ID",
    "start": "18119",
    "end": "25080"
  },
  {
    "text": "manager trying to Pivot into the world of devops I worked on the kubernetes once I assisted with the kubernetes 1.25",
    "start": "25080",
    "end": "31679"
  },
  {
    "text": "release part of signalese and I'm excited to be here so with that aside um just want to give",
    "start": "31679",
    "end": "40260"
  },
  {
    "text": "a quick intro on what this talk is about we have about agenda for today",
    "start": "40260",
    "end": "46500"
  },
  {
    "text": "um so we have divided our talk into three parts we'll be discussing uh what brow jobs are what are the different",
    "start": "46500",
    "end": "53760"
  },
  {
    "text": "types and we'll be going into our anatomy of brow jobs we'll also be looking at how what are the various user",
    "start": "53760",
    "end": "60719"
  },
  {
    "text": "interfaces we have to read and go through brow jobs and where the config",
    "start": "60719",
    "end": "67500"
  },
  {
    "text": "actually sits and will end with looking at few examples of actually running",
    "start": "67500",
    "end": "73020"
  },
  {
    "text": "kubernetes brow jobs a few examples from there and also we'll see how to replicate them",
    "start": "73020",
    "end": "79979"
  },
  {
    "text": "locally um yeah with that let's get started so",
    "start": "79979",
    "end": "85560"
  },
  {
    "text": "what is brow um prao is a kubernetes CI CD system",
    "start": "85560",
    "end": "91380"
  },
  {
    "text": "built by the communities project itself and built for the kubernetes project so",
    "start": "91380",
    "end": "96900"
  },
  {
    "text": "most of the Automation and Grant work that kubernetes project does",
    "start": "96900",
    "end": "102540"
  },
  {
    "text": "that's done through pra and for the sake of this talk we won't",
    "start": "102540",
    "end": "108060"
  },
  {
    "text": "be going into more more in the side of brow itself how to deploy proud that's not the",
    "start": "108060",
    "end": "113700"
  },
  {
    "text": "um intention of this talk it's more day two we assume prow is already working there",
    "start": "113700",
    "end": "118920"
  },
  {
    "text": "and how to consume what's already working there um and but there are already a lot of great",
    "start": "118920",
    "end": "126060"
  },
  {
    "text": "talks out there from the community on itself so we although we'll be looking at a bit of",
    "start": "126060",
    "end": "133680"
  },
  {
    "text": "workflow how brow comes in the picture for kubernetes um contributors for people like us who",
    "start": "133680",
    "end": "139860"
  },
  {
    "text": "interact with the kubernetes project from GitHub so on the left side we have",
    "start": "139860",
    "end": "145319"
  },
  {
    "text": "GitHub in terms of PR or any interface that we see are repos and on the right hand side",
    "start": "145319",
    "end": "152220"
  },
  {
    "text": "we have the brow infrastructure now how to understand prior infrastructure we can read it as traditional kubernetes",
    "start": "152220",
    "end": "159540"
  },
  {
    "text": "architecture we have masternodes and we have worker nodes similarly in prow we",
    "start": "159540",
    "end": "165599"
  },
  {
    "text": "have something called service cluster which is the control plane of brow itself and all the workload that needs",
    "start": "165599",
    "end": "172379"
  },
  {
    "text": "to be scheduled or where are actual brow job runs all that happens on that side",
    "start": "172379",
    "end": "178319"
  },
  {
    "text": "in the build clusters so what happens is we start from GitHub",
    "start": "178319",
    "end": "183480"
  },
  {
    "text": "anybody for example creates a PR or they comment on issues or any PRS something",
    "start": "183480",
    "end": "189660"
  },
  {
    "text": "like slash Foo fine it creates events from GitHub site and browse listening",
    "start": "189660",
    "end": "195060"
  },
  {
    "text": "for those events brow have something called hook which is listening for those web Hooks and then it reacts to them so",
    "start": "195060",
    "end": "203040"
  },
  {
    "text": "it reacts them by creating a brow job crd and that proud of crd in turn will create a",
    "start": "203040",
    "end": "211620"
  },
  {
    "text": "port for running the project itself and it will create that board in one of those build classes by default",
    "start": "211620",
    "end": "219120"
  },
  {
    "text": "um it creates it in of the build cluster which is set as default for in our case",
    "start": "219120",
    "end": "224340"
  },
  {
    "text": "it's 12 cluster a but the brow job could also say oh we want to be scheduled on a",
    "start": "224340",
    "end": "231299"
  },
  {
    "text": "certain B or C cluster so it will schedule it accordingly and once the",
    "start": "231299",
    "end": "236340"
  },
  {
    "text": "port is scheduled on a build cluster it will do its job it will run its task and",
    "start": "236340",
    "end": "241920"
  },
  {
    "text": "when it finishes it will send back all the logs or everything that happened inside that Port container in terms of",
    "start": "241920",
    "end": "249180"
  },
  {
    "text": "task it will collect all those logs any useful artifacts for metadata send back",
    "start": "249180",
    "end": "254400"
  },
  {
    "text": "to brow service cluster and same will be updated back on GitHub interface so",
    "start": "254400",
    "end": "260040"
  },
  {
    "text": "um that's how brow comes in the picture for us and",
    "start": "260040",
    "end": "265500"
  },
  {
    "text": "we just looked at the word brow job here um so what brow jobs are",
    "start": "265500",
    "end": "273360"
  },
  {
    "text": "if prow is a cic CD system proud jobs are the native kubernetes Native CI jobs",
    "start": "273360",
    "end": "279259"
  },
  {
    "text": "again managed by the cicd system and we use brow jobs to automate testing",
    "start": "279259",
    "end": "285780"
  },
  {
    "text": "building and deploying code changes in kubernetes so anytime there are core changes happening in kubernetes reports",
    "start": "285780",
    "end": "291780"
  },
  {
    "text": "uh we would be testing them through proud jobs so anytime you or me create a PR on any any of the kubernetes repo",
    "start": "291780",
    "end": "299100"
  },
  {
    "text": "they'll be proud jobs coming to the picture checking out rpr code running few tests against it and giving back uh",
    "start": "299100",
    "end": "306660"
  },
  {
    "text": "results we Define our brow jobs using yaml so",
    "start": "306660",
    "end": "312540"
  },
  {
    "text": "very kubernetes friendly um and all those proud jobs are triggered by GitHub events like we saw",
    "start": "312540",
    "end": "319440"
  },
  {
    "text": "PR's comments or we can also schedule our proud jobs like traditional Chrome",
    "start": "319440",
    "end": "324479"
  },
  {
    "text": "jobs we can okay run it every one hour or six hours or 10 hours and it will do",
    "start": "324479",
    "end": "330180"
  },
  {
    "text": "that for us so um that um we have three types of brow jobs we",
    "start": "330180",
    "end": "337620"
  },
  {
    "text": "have pre-summits post Summits and periodics so",
    "start": "337620",
    "end": "343020"
  },
  {
    "text": "sorry pre-summits are the proud jobs that runs against any code that's coming",
    "start": "343020",
    "end": "349560"
  },
  {
    "text": "from PR so whenever somebody is creating a PR and you are adding new code changes to the GitHub repos uh project equipment",
    "start": "349560",
    "end": "358320"
  },
  {
    "text": "is Project propose um there will be pre-summits coming into the picture those pre-summits will check",
    "start": "358320",
    "end": "364139"
  },
  {
    "text": "check out code from your PR and run tests against them and if we submit pass",
    "start": "364139",
    "end": "370860"
  },
  {
    "text": "then only we'll go ahead and with merge in the pr so on kubernetes Project there",
    "start": "370860",
    "end": "376740"
  },
  {
    "text": "is no manual merge all happens to brow after that pre-summits we have something",
    "start": "376740",
    "end": "384120"
  },
  {
    "text": "called post Summits that comes in the picture when code is already merged and something needs to be done for example",
    "start": "384120",
    "end": "390780"
  },
  {
    "text": "we have just merged a Docker file code changes and now a new image needs to be created with this new Docker file",
    "start": "390780",
    "end": "396840"
  },
  {
    "text": "changes we would be using something like post Summit to create a new",
    "start": "396840",
    "end": "402840"
  },
  {
    "text": "image and image tag and push it somewhere and then we have our very",
    "start": "402840",
    "end": "408360"
  },
  {
    "text": "friendly periodics which is uh to run if you want if you want to trigger jobs on a periodic basis so similar to",
    "start": "408360",
    "end": "416520"
  },
  {
    "text": "our Cron job we can give it an interval or give it a chrome friendly schedule",
    "start": "416520",
    "end": "421979"
  },
  {
    "text": "yeah and",
    "start": "421979",
    "end": "425300"
  },
  {
    "text": "so let's get into the anatomy of these three jobs that we just the three kinds of jobs that we just saw let's start",
    "start": "427319",
    "end": "433560"
  },
  {
    "text": "with periodics and every job starts with a job type identifier that identifies what kind of",
    "start": "433560",
    "end": "439979"
  },
  {
    "text": "job it is this one is a periodic job we have the name for the job then there's",
    "start": "439979",
    "end": "445919"
  },
  {
    "text": "this label called decorate which let's let's take a slight diversion into something called power utils so this is",
    "start": "445919",
    "end": "453599"
  },
  {
    "text": "a pro job and that's a wrapper that's for utensils around the project so pod utils gives stuff to a job like it",
    "start": "453599",
    "end": "461460"
  },
  {
    "text": "enables source for like if a job needs like the commit or the stuff from the pr that needs to be pulled it's the its",
    "start": "461460",
    "end": "467280"
  },
  {
    "text": "audio it is that enables it and gives it to the job it tracks metadata and logs",
    "start": "467280",
    "end": "473039"
  },
  {
    "text": "of the job and then if they have to be put up or uploaded somewhere then as part of artifacts it pushes them there",
    "start": "473039",
    "end": "480419"
  },
  {
    "text": "so let's come back since this is a periodic job obviously we have an interval this one runs every r or you",
    "start": "480419",
    "end": "487740"
  },
  {
    "text": "could sell it to whatever you want extra refs contains the data needed to clone the report while the others would just",
    "start": "487740",
    "end": "493740"
  },
  {
    "text": "take the the repo on their own as part of what comes in a period of periodic",
    "start": "493740",
    "end": "499319"
  },
  {
    "text": "job needs uh us to tell it which reported clones so here's the org and the repo or the base Branch with the",
    "start": "499319",
    "end": "505199"
  },
  {
    "text": "bass strap spec is a valid kubernetes to generate the container",
    "start": "505199",
    "end": "511440"
  },
  {
    "text": "let's move on to post summits like we said this identifies the job as",
    "start": "511440",
    "end": "517740"
  },
  {
    "text": "a post submit job here's our org and repo as to which one",
    "start": "517740",
    "end": "523380"
  },
  {
    "text": "it would run on the name decorate and spec are the same as periodics Max concurrency we can run",
    "start": "523380",
    "end": "529800"
  },
  {
    "text": "up to 10 jobs or or whatever we specify here the max concurrency level helps us set the amount of jobs we want",
    "start": "529800",
    "end": "537600"
  },
  {
    "text": "to run branches is a regular expression we can set it to then choose what branch",
    "start": "537600",
    "end": "542940"
  },
  {
    "text": "we want to run this job against and if we want something else like vice versa we don't want it to run on some branches",
    "start": "542940",
    "end": "550740"
  },
  {
    "text": "then skip branches is what we use like in this case the regex Tells it like don't run on any released Ash whatever",
    "start": "550740",
    "end": "556680"
  },
  {
    "text": "branches let's move on to pre-submits",
    "start": "556680",
    "end": "562140"
  },
  {
    "text": "here's our job type identifier here is our organ repo that we need to check out in the container here's the job name our",
    "start": "562140",
    "end": "568680"
  },
  {
    "text": "decorate and the spec always run true uh then we'll run this job this pre-submit",
    "start": "568680",
    "end": "574920"
  },
  {
    "text": "job against every uh PR that is created for send repo run if changed will run if",
    "start": "574920",
    "end": "582959"
  },
  {
    "text": "only uh the job matches the path like uh if it needs to operate on a specific",
    "start": "582959",
    "end": "588839"
  },
  {
    "text": "part like in this case we're looking at if Cooks any file in the cooks folder has changed as a part of a regular",
    "start": "588839",
    "end": "595320"
  },
  {
    "text": "expression and only then we would run it skip report setting that true would be",
    "start": "595320",
    "end": "600500"
  },
  {
    "text": "to change a status on GitHub or not context is a GitHub status context it",
    "start": "600500",
    "end": "606420"
  },
  {
    "text": "defaults to the job name Max concurrency branches and square skip branches we've just seen",
    "start": "606420",
    "end": "612240"
  },
  {
    "text": "which brings us to something called presets if we have lots of jobs",
    "start": "612240",
    "end": "617700"
  },
  {
    "text": "with common data that is shared across all of them you can lump them all into a pretty",
    "start": "617700",
    "end": "623459"
  },
  {
    "text": "ml file and call it a preset like so here's the pre we're identifying it as a",
    "start": "623459",
    "end": "628800"
  },
  {
    "text": "preset we're giving it a name and then giving it all that all the data that the other jobs can qualify",
    "start": "628800",
    "end": "635279"
  },
  {
    "text": "so we're using an example here there's a pre-submit job for example and there's a label that says preset fuba which is in",
    "start": "635279",
    "end": "642240"
  },
  {
    "text": "the previous slide it's over here with the label so this is called here and then all the data",
    "start": "642240",
    "end": "649380"
  },
  {
    "text": "from there flows into this job container there are also something called job environment variables which is something",
    "start": "649380",
    "end": "655980"
  },
  {
    "text": "prop provides job specific environment variables they're injected into all countries all containers within a",
    "start": "655980",
    "end": "662100"
  },
  {
    "text": "kubernetes fraud we look at a few here job name job type project ID they are",
    "start": "662100",
    "end": "667500"
  },
  {
    "text": "available across all containers some are not like a repo name since a periodics we have to give it a name it's not",
    "start": "667500",
    "end": "673680"
  },
  {
    "text": "automatically available so for a more complete list we could check all the list all the links are in the footer uh",
    "start": "673680",
    "end": "680100"
  },
  {
    "text": "you can download the slides in browse through a spell and through them data",
    "start": "680100",
    "end": "685260"
  },
  {
    "text": "and now that we know what flower jobs are let's visualize all of them so we do",
    "start": "685260",
    "end": "690720"
  },
  {
    "text": "that by using a few tools the first one is test fit which lives at test grid.khits.io this is what it looks like",
    "start": "690720",
    "end": "697860"
  },
  {
    "text": "there's a row of boxes and tiles uh they all call dashboard groups opening them",
    "start": "697860",
    "end": "703740"
  },
  {
    "text": "up leads to something called dashboard tabs uh clicking a dashboard tab likes it contracts leads to something like this",
    "start": "703740",
    "end": "710640"
  },
  {
    "text": "the the ones on the top the tabs on top and the tabs down here are the same but the ones on the bottom give you extra",
    "start": "710640",
    "end": "716279"
  },
  {
    "text": "information like uh what the health of it is like what's what tests within it are passing or a flaky or a failing so",
    "start": "716279",
    "end": "723240"
  },
  {
    "text": "let's click this thing and you see right now there's only a single job in there something called",
    "start": "723240",
    "end": "728880"
  },
  {
    "text": "pull verify that's the CI job what we call a brow job we click it and it shows",
    "start": "728880",
    "end": "735720"
  },
  {
    "text": "us a tile-like grid of the performance of this job across time that's the name of the job and over",
    "start": "735720",
    "end": "741600"
  },
  {
    "text": "there you can find the url uh that if you follow through will give you the config if you're interested in looking",
    "start": "741600",
    "end": "747300"
  },
  {
    "text": "at what this job is made of in this case it's a pre-submit job that's a golang container it checks out",
    "start": "747300",
    "end": "753660"
  },
  {
    "text": "k Community and runs big clarifying so getting back if we click on a tile in this grid it will lead us to another",
    "start": "753660",
    "end": "760680"
  },
  {
    "text": "view which which basically it links us to another tool called Spyglass which gives us details on jobs",
    "start": "760680",
    "end": "767220"
  },
  {
    "text": "so we find them at brow.khits.io so let's explore this little a little",
    "start": "767220",
    "end": "772740"
  },
  {
    "text": "bit that's",
    "start": "772740",
    "end": "776240"
  },
  {
    "text": "this we're talking about all this in in terms of cloud tooling for the Upstream kubernetes thing so if you install plug",
    "start": "784860",
    "end": "792120"
  },
  {
    "text": "this should be available to you yeah so yeah so I got a little bit",
    "start": "792120",
    "end": "799440"
  },
  {
    "text": "I got a lot of it I'll take questions later this",
    "start": "799440",
    "end": "803540"
  },
  {
    "text": "is",
    "start": "814139",
    "end": "816139"
  },
  {
    "text": "but you would want them together if you want to visualize them yeah yeah",
    "start": "828779",
    "end": "834620"
  },
  {
    "text": "okay so",
    "start": "843300",
    "end": "848639"
  },
  {
    "text": "that's an ID for the job the job run it's an ID that's the status in this case we passed but it will also have",
    "start": "849000",
    "end": "855779"
  },
  {
    "text": "done and failed or finished or whatever coming down the page we have the build log which you could explode out it will",
    "start": "855779",
    "end": "861779"
  },
  {
    "text": "give you the details and then there's uh various uh events and info about the job like Kaba",
    "start": "861779",
    "end": "869279"
  },
  {
    "text": "you could find out the volumes that were mounted what the applied Prospect was so now let's go look at the tabs on the top",
    "start": "869279",
    "end": "876120"
  },
  {
    "text": "this is job history the history of the job across all its funds looks a little like this like this job had a lot of",
    "start": "876120",
    "end": "882000"
  },
  {
    "text": "runs then this project yaml which is the it's something like we saw before but it's discreetly provided here the",
    "start": "882000",
    "end": "888360"
  },
  {
    "text": "applied for our job in the yaml format looks like this then we have uh",
    "start": "888360",
    "end": "895320"
  },
  {
    "text": "this links to the pr that triggered the job in case of pre-submits uh here",
    "start": "895320",
    "end": "901920"
  },
  {
    "text": "and then PR history would give us the history of the job across different comments and revisions of the pr like",
    "start": "901920",
    "end": "907380"
  },
  {
    "text": "there's a run and there's a commit sorry on top and then there's around below",
    "start": "907380",
    "end": "912420"
  },
  {
    "text": "artifacts would give us access to the actifer if the job created any we would have them here there's the build logs in",
    "start": "912420",
    "end": "918899"
  },
  {
    "text": "the Clone logs etc for this job and finally tested would bring us back full circle to where we are so Spyglass",
    "start": "918899",
    "end": "926760"
  },
  {
    "text": "and tested are kind of the yin and yang in that sense so let's now that we've looked at how to",
    "start": "926760",
    "end": "932579"
  },
  {
    "text": "visualize your options let's look at the source like uh where do they live and how do we find",
    "start": "932579",
    "end": "939360"
  },
  {
    "text": "so they they're all available in the test infrariable at git.khs.io",
    "start": "939360",
    "end": "944880"
  },
  {
    "text": "over here so let's look at the config folder",
    "start": "944880",
    "end": "949940"
  },
  {
    "text": "the pro as an aside the pro infrastructure folder sorry the plow folder has the plow infrastructure",
    "start": "951060",
    "end": "956220"
  },
  {
    "text": "config of the running our cluster",
    "start": "956220",
    "end": "961699"
  },
  {
    "text": "we are more interested in jobs in the jobs folder and the test fix folder let's dive into the jobs folder",
    "start": "962940",
    "end": "970399"
  },
  {
    "text": "we click in the and we see uh the names of all the GitHub organizations in there",
    "start": "970440",
    "end": "976620"
  },
  {
    "text": "let's go into kubernetes and we see the names of all the repos under the kubernetes",
    "start": "976620",
    "end": "981779"
  },
  {
    "text": "I'll get there we went into community and like this",
    "start": "981779",
    "end": "989100"
  },
  {
    "text": "file that's over here is the existing uh browser of configs for the kubernetes for the kubernetes community report and",
    "start": "989100",
    "end": "995880"
  },
  {
    "text": "also the home for new projects as they get added so it currently looks a bit like this",
    "start": "995880",
    "end": "1003339"
  },
  {
    "text": "so let's go back after this and dive into the test grid folder",
    "start": "1003800",
    "end": "1009579"
  },
  {
    "text": "this uh all the folders with common test script tabs and dashboards over here let's go into let's say the kubernetes",
    "start": "1009860",
    "end": "1017660"
  },
  {
    "text": "folder and again the names of the representative the kubernetes org over",
    "start": "1017660",
    "end": "1023540"
  },
  {
    "text": "here are listed here let's go into quarterbacks as an example and all the dashboard Tabs",
    "start": "1023540",
    "end": "1031040"
  },
  {
    "text": "are defined here so what you see here",
    "start": "1031040",
    "end": "1037058"
  },
  {
    "text": "the names are is what is visible here so while we have if we if you look at",
    "start": "1037400",
    "end": "1044720"
  },
  {
    "text": "something discrete and defined these things uh help us look at them uh as in",
    "start": "1044720",
    "end": "1049820"
  },
  {
    "text": "we know what you're looking for for example but if we don't then then we have we could use a tool called Hound",
    "start": "1049820",
    "end": "1054919"
  },
  {
    "text": "that that's available that lets us do code search it will also let us look for jobs so it's available at cs.krs dot Io",
    "start": "1054919",
    "end": "1063919"
  },
  {
    "text": "if you just search for any regular expression like for example here we're just looking for a string called",
    "start": "1063919",
    "end": "1068980"
  },
  {
    "text": "Community verify we see it uh see all the examples where this thing has been",
    "start": "1068980",
    "end": "1074840"
  },
  {
    "text": "used having said that now we've looked at the anatomy and we've looked at presets let's take a little dive into examples",
    "start": "1074840",
    "end": "1083679"
  },
  {
    "text": "so um we just looked at the anatomy of various brow jobs we know there are",
    "start": "1088280",
    "end": "1093919"
  },
  {
    "text": "periodic spray Summits and post Summits um now we'll look at a few examples from",
    "start": "1093919",
    "end": "1099679"
  },
  {
    "text": "the kubernetes project itself um we have three examples here we'll be looking at them one by one now so let's",
    "start": "1099679",
    "end": "1106580"
  },
  {
    "text": "look at our first example we'll be taking a very simple job here from the kubernetes release team",
    "start": "1106580",
    "end": "1113000"
  },
  {
    "text": "what this job does is um it helps us to keep track of our enhancements tracking",
    "start": "1113000",
    "end": "1119419"
  },
  {
    "text": "board so all the communities enhancement proposals that we receive as part of a kubernetes release cycle we need to",
    "start": "1119419",
    "end": "1125840"
  },
  {
    "text": "track them on a boat and we use GitHub project beta board for that so we have a",
    "start": "1125840",
    "end": "1131360"
  },
  {
    "text": "job that does this for us um what the job does is on left hand",
    "start": "1131360",
    "end": "1136820"
  },
  {
    "text": "side we have our kubernetes slash enhancements repository where people who",
    "start": "1136820",
    "end": "1141919"
  },
  {
    "text": "want to add new enhancements or features or anything to the kubernetes project they open issues and",
    "start": "1141919",
    "end": "1148940"
  },
  {
    "text": "we call them cap issues um so anything that have a lead opted in",
    "start": "1148940",
    "end": "1154520"
  },
  {
    "text": "label during a release cycle we collect all of those issues from K",
    "start": "1154520",
    "end": "1159740"
  },
  {
    "text": "enhancements and we dump them on the right hand side which is our tracking board so that that is the thing that we",
    "start": "1159740",
    "end": "1165799"
  },
  {
    "text": "do and we have created a batch script very simple past script for that",
    "start": "1165799",
    "end": "1170900"
  },
  {
    "text": "um and we use a proud job to sync this for uh for us every six hours so",
    "start": "1170900",
    "end": "1177919"
  },
  {
    "text": "that brow job appears on Discord uh on here under sign release releasing periodics Tab and the name of the proud",
    "start": "1177919",
    "end": "1185600"
  },
  {
    "text": "job is periodic enhancements GitHub project127 multiple",
    "start": "1185600",
    "end": "1191240"
  },
  {
    "text": "um so this is the config of that brow job like we discussed periodics tells us it's a periodic project Name by the name",
    "start": "1191240",
    "end": "1199400"
  },
  {
    "text": "um that's the name of the brow job and interval it says it will be running it every six hours",
    "start": "1199400",
    "end": "1204860"
  },
  {
    "text": "at the very beginning uh in very beginning slides we looked at if we can",
    "start": "1204860",
    "end": "1209960"
  },
  {
    "text": "also tell uh brow where to schedule our brow job so this is how we tell it we",
    "start": "1209960",
    "end": "1216260"
  },
  {
    "text": "give it a cluster uh filled and we give it a name of the belly cluster so that's what we are doing here decorate through",
    "start": "1216260",
    "end": "1223760"
  },
  {
    "text": "ads for util so um it tells okay you have to check in sub code into the port container and",
    "start": "1223760",
    "end": "1230120"
  },
  {
    "text": "grab all the logs and artifacts and make it available to us later like we saw in spy class",
    "start": "1230120",
    "end": "1235700"
  },
  {
    "text": "annotations so this is how we are telling our brow job you have to come on test grade site so we are telling okay",
    "start": "1235700",
    "end": "1243200"
  },
  {
    "text": "um in line number seven test could create test group true uh we are telling",
    "start": "1243200",
    "end": "1248480"
  },
  {
    "text": "um brow create a show our job with the same name as our the name uh Define in",
    "start": "1248480",
    "end": "1256700"
  },
  {
    "text": "second line it says uh put put our job under Sig release released in periodics test test",
    "start": "1256700",
    "end": "1264380"
  },
  {
    "text": "script Tab and also add one liner description to that and extra reps it's telling us okay uh",
    "start": "1264380",
    "end": "1271640"
  },
  {
    "text": "whenever you are creating a board for this brow job uh inside the port container check out this repo check out",
    "start": "1271640",
    "end": "1277820"
  },
  {
    "text": "kubernetes stick release at Master branch and then this is the spec this is the uh",
    "start": "1277820",
    "end": "1283940"
  },
  {
    "text": "specification for the container so what it says it create a board",
    "start": "1283940",
    "end": "1289520"
  },
  {
    "text": "um using that image in this case creators in column latest and inside",
    "start": "1289520",
    "end": "1294620"
  },
  {
    "text": "that container run this command which is exactly that bash script that we looked at and also make this environment",
    "start": "1294620",
    "end": "1300440"
  },
  {
    "text": "variables available so how it looks like is we have a kubernetes port running in",
    "start": "1300440",
    "end": "1306620"
  },
  {
    "text": "our build cluster and inside that code a container is created using the container image that we provided in a spec area",
    "start": "1306620",
    "end": "1314500"
  },
  {
    "text": "release is checked out at master all the environment variable that we are giving",
    "start": "1314500",
    "end": "1319640"
  },
  {
    "text": "are also made available to the job and then we just found that script inside",
    "start": "1319640",
    "end": "1324980"
  },
  {
    "text": "and when when that script runs that means and one instance of the job has run and you would be able to see that",
    "start": "1324980",
    "end": "1332480"
  },
  {
    "text": "instance uh all the logs everything that has happened inside the board here on spyglass",
    "start": "1332480",
    "end": "1339140"
  },
  {
    "text": "so uh that was our example one three simple one um with that let's go to next one and",
    "start": "1339140",
    "end": "1346580"
  },
  {
    "text": "here we'll try to go um something more useful uh so we have",
    "start": "1346580",
    "end": "1352159"
  },
  {
    "text": "something called kubernetes version markers uh in our space release release",
    "start": "1352159",
    "end": "1357320"
  },
  {
    "text": "page so what kubernetes version markers are um these are kind of text files",
    "start": "1357320",
    "end": "1362360"
  },
  {
    "text": "which acts as public API for us so kubernetes keeps getting PR's and um",
    "start": "1362360",
    "end": "1368840"
  },
  {
    "text": "code changes every single day and we have to test those code changes so we",
    "start": "1368840",
    "end": "1374240"
  },
  {
    "text": "keep building artifacts um against all those code changes at intervals and we store all those",
    "start": "1374240",
    "end": "1380659"
  },
  {
    "text": "artifacts and GCS buckets um so uh something like version markers",
    "start": "1380659",
    "end": "1386299"
  },
  {
    "text": "help us to tell okay what if we have to test any um anything against those new code",
    "start": "1386299",
    "end": "1392720"
  },
  {
    "text": "changes how to grab those build artifacts from there so",
    "start": "1392720",
    "end": "1398299"
  },
  {
    "text": "um this is like a screenshot from a bucket called K test release Dev where",
    "start": "1398299",
    "end": "1404059"
  },
  {
    "text": "we are storing our kubernetes version release markers and we'd be having multiple files here like we have one",
    "start": "1404059",
    "end": "1410720"
  },
  {
    "text": "here test table1.txt this file um points to our kubernetes version marker so we",
    "start": "1410720",
    "end": "1416780"
  },
  {
    "text": "get a version marker like that in this file and corresponding to that version marker",
    "start": "1416780",
    "end": "1423500"
  },
  {
    "text": "will also have a folder inside the same bucket and that folder will be",
    "start": "1423500",
    "end": "1428840"
  },
  {
    "text": "containing all the kubernetes binaries all the all the",
    "start": "1428840",
    "end": "1433900"
  },
  {
    "text": "binaries that are built as part of a kubernetes release so if we have to do any uh use this binaries to test maybe",
    "start": "1433900",
    "end": "1441919"
  },
  {
    "text": "something uh we can grab them from here this is a public bucket",
    "start": "1441919",
    "end": "1448658"
  },
  {
    "text": "um and how to read that kubernetes version marker so the first part on the left hand side that that is a base",
    "start": "1448760",
    "end": "1455659"
  },
  {
    "text": "release tag so in this case it's saying um 126.3 that is the tag",
    "start": "1455659",
    "end": "1461240"
  },
  {
    "text": "um uh and on the right hand side we have the latest commit hash on the",
    "start": "1461240",
    "end": "1467620"
  },
  {
    "text": "release Branch corresponding to the tag so release hyphen 126 and the middle",
    "start": "1467620",
    "end": "1473720"
  },
  {
    "text": "number 41 is saying okay there are 41 commits between when the tag was released and when this version markers",
    "start": "1473720",
    "end": "1480980"
  },
  {
    "text": "is created so now we have a bit of a little bit of",
    "start": "1480980",
    "end": "1486440"
  },
  {
    "text": "understanding about kubernetes version markers this is a job that creates those version markers for us",
    "start": "1486440",
    "end": "1492260"
  },
  {
    "text": "um uh specifically the one we saw for us every one hour so we this is a periodic job the name of",
    "start": "1492260",
    "end": "1500780"
  },
  {
    "text": "the job is cic when it is built 126 um it's scheduled on creators infra",
    "start": "1500780",
    "end": "1506299"
  },
  {
    "text": "proud build runs at one hour interval and decorate two sales four details is",
    "start": "1506299",
    "end": "1511520"
  },
  {
    "text": "enabled um extra depth part is saying you have to flown kubernetes kubernetes on",
    "start": "1511520",
    "end": "1516740"
  },
  {
    "text": "release 126 Branch annotations we saw uh that's a test grade tab name dashboard",
    "start": "1516740",
    "end": "1522860"
  },
  {
    "text": "and every time if this job fails somebody needs to be alerted somebody needs to do something about it so",
    "start": "1522860",
    "end": "1530059"
  },
  {
    "text": "um brow will send an email to those mailing list those labels",
    "start": "1530059",
    "end": "1536659"
  },
  {
    "text": "um we are setting presets here so we are saying okay whatever comes with preset",
    "start": "1536659",
    "end": "1541940"
  },
  {
    "text": "time enabled puts her preset services on puts here um and then we have the spec area",
    "start": "1541940",
    "end": "1547940"
  },
  {
    "text": "so image name and we are also setting resources limits and requests giving it",
    "start": "1547940",
    "end": "1554480"
  },
  {
    "text": "privileged accesses access and finally what we are doing is we are running a",
    "start": "1554480",
    "end": "1559880"
  },
  {
    "text": "command here so um we have something called Corel Krill it stands for kubernetes release it's a tool that",
    "start": "1559880",
    "end": "1566480"
  },
  {
    "text": "Upstream kubernetes project uses to actually build kubernetes uh releases or",
    "start": "1566480",
    "end": "1571640"
  },
  {
    "text": "every step that is required to build kubernetes releases so we are using that here uh doing a fast release and",
    "start": "1571640",
    "end": "1579020"
  },
  {
    "text": "whatever build artifacts are created we dump them uh in the bucket key it has released if all the images that are",
    "start": "1579020",
    "end": "1585440"
  },
  {
    "text": "created we've done them on that registry GCR dot IO K test staging CI images and",
    "start": "1585440",
    "end": "1591980"
  },
  {
    "text": "we put them in a folder and the folder something like that version and we put",
    "start": "1591980",
    "end": "1598580"
  },
  {
    "text": "that value in a file called create as hyphen stable1.dxt so how it looks is um we have a code a",
    "start": "1598580",
    "end": "1606919"
  },
  {
    "text": "container is created using the image kubernetes is checked out as at 126 Branch we have set pre-summit service",
    "start": "1606919",
    "end": "1614059"
  },
  {
    "text": "account to true so we'll have that service account gives us those two environment variables and give us that",
    "start": "1614059",
    "end": "1620960"
  },
  {
    "text": "volume Mount and we had another one set up uh preset Dyne",
    "start": "1620960",
    "end": "1629240"
  },
  {
    "text": "label that gives us one more environment variable and an empty volume and then",
    "start": "1629240",
    "end": "1634460"
  },
  {
    "text": "once our test environment is set up all we do is we run the credit command and",
    "start": "1634460",
    "end": "1639860"
  },
  {
    "text": "once we do that this is how a run of that particular job looks like we are",
    "start": "1639860",
    "end": "1645799"
  },
  {
    "text": "saying um it's running that trail command here it's performing it's starting a Docker because we had that",
    "start": "1645799",
    "end": "1651860"
  },
  {
    "text": "preset time enabled um it's also checking out into",
    "start": "1651860",
    "end": "1657200"
  },
  {
    "text": "uh uh that GCS it's it is it is trying to log into",
    "start": "1657200",
    "end": "1663140"
  },
  {
    "text": "the project to actually get some credentials to put something in the GCS",
    "start": "1663140",
    "end": "1669320"
  },
  {
    "text": "bucket and eventually running that well command to create artifacts",
    "start": "1669320",
    "end": "1674960"
  },
  {
    "text": "job appears here um under the tab sign release 126",
    "start": "1674960",
    "end": "1680539"
  },
  {
    "text": "blocking and that's the name of the job building 126. so that's our second",
    "start": "1680539",
    "end": "1686600"
  },
  {
    "text": "examples but version marker leads us to our final example for the talk uh which",
    "start": "1686600",
    "end": "1691700"
  },
  {
    "text": "is very important um so let's now Deep dive into um the kubernetes into English",
    "start": "1691700",
    "end": "1699740"
  },
  {
    "text": "so um we will be looking in with our third example we'll be looking in one of",
    "start": "1699740",
    "end": "1705500"
  },
  {
    "text": "the tests that we run in the Upstream kubernetes space this is a release blocking test so if this fails we have",
    "start": "1705500",
    "end": "1712100"
  },
  {
    "text": "to do something about this test um so this is a periodic job again uh the",
    "start": "1712100",
    "end": "1717679"
  },
  {
    "text": "name is CI kubernetes GC conformance test so this this this job runs some GCE",
    "start": "1717679",
    "end": "1722960"
  },
  {
    "text": "conformance test um we are scheduling it on that set cluster interval is three hours and we",
    "start": "1722960",
    "end": "1728299"
  },
  {
    "text": "have set some resets here uh annotations again like we discussed that's the tab name where the job will appear on test",
    "start": "1728299",
    "end": "1735140"
  },
  {
    "text": "grid um those are the dashboards under which it will appear and a one-liner we see",
    "start": "1735140",
    "end": "1740539"
  },
  {
    "text": "two new Fields here and two new annotations here for release for release",
    "start": "1740539",
    "end": "1746240"
  },
  {
    "text": "Replacements so what it does is it tells Pro uh okay whenever you are creating a fork for this job every release we have",
    "start": "1746240",
    "end": "1753679"
  },
  {
    "text": "multiple releases that we are maintaining um in kubernetes projects so create a fork every release and keep replacing",
    "start": "1753679",
    "end": "1761960"
  },
  {
    "text": "those values those flag values every time and those flag values we see them here",
    "start": "1761960",
    "end": "1767899"
  },
  {
    "text": "so this is spec area of our job um in this particular job we have a",
    "start": "1767899",
    "end": "1773539"
  },
  {
    "text": "image called cubekins e2e that is the image that Upstream kubernetes project used to uh run all their kubernetes",
    "start": "1773539",
    "end": "1781640"
  },
  {
    "text": "end-to-end test because um this image ships with a few tools like Cube test",
    "start": "1781640",
    "end": "1786860"
  },
  {
    "text": "and another tools like gcloud Etc to interact with the cloud providers so we'll have for AWS so as well and Cube",
    "start": "1786860",
    "end": "1795140"
  },
  {
    "text": "CTL because we are talking about end-to-end test so we'll be spinning up a cluster doing some tests putting it down so we need Cube CTL and",
    "start": "1795140",
    "end": "1803000"
  },
  {
    "text": "it will also um the image itself will it also give us kts and problem",
    "start": "1803000",
    "end": "1810640"
  },
  {
    "text": "so um these are the arcs um that we give to the that container",
    "start": "1810679",
    "end": "1815899"
  },
  {
    "text": "image um specifically the 21 line where we are giving a scenario kubernetes e2e so uh",
    "start": "1815899",
    "end": "1822380"
  },
  {
    "text": "we are telling um we have a few test scenarios to run and",
    "start": "1822380",
    "end": "1828440"
  },
  {
    "text": "here we are telling okay pick the kubernetes end-to-end scenario and you can find all the test scenarios there",
    "start": "1828440",
    "end": "1834980"
  },
  {
    "text": "um in and in the footer test infra slash scenarios it's a folder inside this info",
    "start": "1834980",
    "end": "1840500"
  },
  {
    "text": "repo where we have different scripts um corresponding to different scenarios and here we are saying okay run the",
    "start": "1840500",
    "end": "1846679"
  },
  {
    "text": "kubernetes E to e script and when you run that uh give o everything below that",
    "start": "1846679",
    "end": "1852799"
  },
  {
    "text": "Double Dash to that script so that that would be our configuration options for our test scenario",
    "start": "1852799",
    "end": "1858620"
  },
  {
    "text": "so how does this work um we create a port container um the container is created using",
    "start": "1858620",
    "end": "1865340"
  },
  {
    "text": "kubekins image inside that page we have test info checked out we have added",
    "start": "1865340",
    "end": "1871640"
  },
  {
    "text": "presets so all of this is made available to us and then we run our test script so",
    "start": "1871640",
    "end": "1876740"
  },
  {
    "text": "we have given it kubernetes end-to-end scenario so um that's in that",
    "start": "1876740",
    "end": "1883520"
  },
  {
    "text": "um that script gets called out and all of these flags are passed through that script and what that script does it it",
    "start": "1883520",
    "end": "1890419"
  },
  {
    "text": "creates a cube test it forms a cube test command for us uh and cubectus is a tool",
    "start": "1890419",
    "end": "1895820"
  },
  {
    "text": "that is actually what's going to run into in this if we give we tell Cube",
    "start": "1895820",
    "end": "1901279"
  },
  {
    "text": "test okay you have to spin up a cluster you have to run tests on that cluster and then you have to bring it down and",
    "start": "1901279",
    "end": "1907880"
  },
  {
    "text": "we can also tell it where to spin up the cluster in this particular case we are telling okay you use provider GCE so go",
    "start": "1907880",
    "end": "1914299"
  },
  {
    "text": "and spin up a cluster uh in a gcp cloud um and we are also giving it information",
    "start": "1914299",
    "end": "1919820"
  },
  {
    "text": "to interact with the uh the project the gcp project where it will be spinning up",
    "start": "1919820",
    "end": "1925940"
  },
  {
    "text": "the cluster and also other information so we gave it a service account it will",
    "start": "1925940",
    "end": "1931820"
  },
  {
    "text": "use that service account to authenticate um we did not give any flag something called gcp project so brow have another",
    "start": "1931820",
    "end": "1939860"
  },
  {
    "text": "component called boss scores that on runtime keeps it's a lease management tool Resource Management tool so it",
    "start": "1939860",
    "end": "1946880"
  },
  {
    "text": "gives you gives you access to available Cloud resources so this job will ask",
    "start": "1946880",
    "end": "1952460"
  },
  {
    "text": "Bosco's okay give us give me a gcp project I need it and it will get one",
    "start": "1952460",
    "end": "1958279"
  },
  {
    "text": "from there um we also have two more Flags here called extract and extract CI bucket",
    "start": "1958279",
    "end": "1965299"
  },
  {
    "text": "that's exactly what we discussed in an example too uh so this is where we are telling uh you have to spin up a cluster",
    "start": "1965299",
    "end": "1972200"
  },
  {
    "text": "but how will you spin up a new kubernetes cluster you grab all the kubernetes binaries from that but using",
    "start": "1972200",
    "end": "1978679"
  },
  {
    "text": "that version markers so you go to create test release Dev Bucket look for that version marker and",
    "start": "1978679",
    "end": "1985279"
  },
  {
    "text": "grab all the binaries from there so we hit that URL we get back a version marker we download all the binaries from",
    "start": "1985279",
    "end": "1992299"
  },
  {
    "text": "there we untie them uh and then finally we are saying okay up down test that is",
    "start": "1992299",
    "end": "1997940"
  },
  {
    "text": "you bring up a cluster you test uh what test we are giving is the test arguments",
    "start": "1997940",
    "end": "2003519"
  },
  {
    "text": "down there we are asking it to run conformance test and then once you have done the test uh dump all the logs that",
    "start": "2003519",
    "end": "2010600"
  },
  {
    "text": "you are collecting in that artifact uh folder and then um bring it down so that's what's",
    "start": "2010600",
    "end": "2017320"
  },
  {
    "text": "Happening Here we are starting a cluster um we get a cluster",
    "start": "2017320",
    "end": "2022600"
  },
  {
    "text": "we set our config context to that cluster and then we run trigger our test",
    "start": "2022600",
    "end": "2028299"
  },
  {
    "text": "the test runs inside the kubernetes cluster that's running inside the gcp project and then we keep collecting all",
    "start": "2028299",
    "end": "2035440"
  },
  {
    "text": "our logs from there and then we have the logs handy now we will bring",
    "start": "2035440",
    "end": "2040600"
  },
  {
    "text": "down the cluster and all those logs will be made available to us on Spyglass so we can see them there so the job appears",
    "start": "2040600",
    "end": "2049179"
  },
  {
    "text": "here um under conformance GCE conformance GC Master uh on test grid",
    "start": "2049179",
    "end": "2056080"
  },
  {
    "text": "um a note here we looked at this job which is using Cube test um binary but there is a successor to",
    "start": "2056080",
    "end": "2063460"
  },
  {
    "text": "cube test which is called Cube test2 um same but aboard simplified modular",
    "start": "2063460",
    "end": "2069398"
  },
  {
    "text": "version of cube test and that's the recommended tool to use we are in a process of migrating from using Cube",
    "start": "2069399",
    "end": "2075878"
  },
  {
    "text": "test to cube test2 in the same space so um we looked at what brow jobs are",
    "start": "2075879",
    "end": "2083560"
  },
  {
    "text": "anatomy and different examples but we know brow jobs would always be running green there will be time when they'll be",
    "start": "2083560",
    "end": "2092200"
  },
  {
    "text": "read all the time and we have to diagnose them so um the last section of our talk is",
    "start": "2092200",
    "end": "2097720"
  },
  {
    "text": "testing brow jobs which is quick so um we prow is a very complicated",
    "start": "2097720",
    "end": "2103480"
  },
  {
    "text": "infrastructure there are a lot of plugins into it that enables us to run all sorts of different tests that are",
    "start": "2103480",
    "end": "2110020"
  },
  {
    "text": "required by the option project so we can't really replicate everything locally but we can come closer to as",
    "start": "2110020",
    "end": "2118060"
  },
  {
    "text": "much as we can we can do with our resources available so the easiest always is to you grab the container",
    "start": "2118060",
    "end": "2124780"
  },
  {
    "text": "image you pull it down uh you exit inside the container image and you run",
    "start": "2124780",
    "end": "2130119"
  },
  {
    "text": "your command um whatever you are giving it in the command section argument section that's",
    "start": "2130119",
    "end": "2135700"
  },
  {
    "text": "one way um the more this a little bit more automated version of this manual is we",
    "start": "2135700",
    "end": "2142240"
  },
  {
    "text": "have a tool called Fano that's available again in test info you clone test infra CD inside that and you run go run brow",
    "start": "2142240",
    "end": "2149980"
  },
  {
    "text": "CMD if you know and you give a proud job URL to it um",
    "start": "2149980",
    "end": "2155380"
  },
  {
    "text": "you can grab that URL from Spyglass um that will also do the same thing it will",
    "start": "2155380",
    "end": "2161500"
  },
  {
    "text": "it will grab the image container image URL from it from the spec file uh from",
    "start": "2161500",
    "end": "2167740"
  },
  {
    "text": "the yaml file and it will create a container exactly inside it but it will keep proactively prompting you this is",
    "start": "2167740",
    "end": "2175180"
  },
  {
    "text": "what I need you give me this environment variable or you put this Mount whatever is needed by the proud job to run it",
    "start": "2175180",
    "end": "2182500"
  },
  {
    "text": "will tell you um yeah and then finally the easiest which most",
    "start": "2182500",
    "end": "2188500"
  },
  {
    "text": "of us do actually is to go ahead um all of our projects inside testing for repo",
    "start": "2188500",
    "end": "2194740"
  },
  {
    "text": "so if if something is really required you go and raise a PR against testing",
    "start": "2194740",
    "end": "2200380"
  },
  {
    "text": "for repo itself get it merge give it some time to Sock see if it is running there good if it's not running you make",
    "start": "2200380",
    "end": "2207940"
  },
  {
    "text": "changes in your PR and PR again well uh because we can't replicate it locally",
    "start": "2207940",
    "end": "2213220"
  },
  {
    "text": "all the time this is the method which most of us use uh but it's always to",
    "start": "2213220",
    "end": "2220000"
  },
  {
    "text": "always good to test your changes locally as much as we can and with that we lead",
    "start": "2220000",
    "end": "2225520"
  },
  {
    "text": "to the confusion of our talk",
    "start": "2225520",
    "end": "2229140"
  },
  {
    "text": "let me just summarize quickly we learned what a brow job was we learned about the",
    "start": "2230859",
    "end": "2236200"
  },
  {
    "text": "types of brow jobs we peeked into their internal anatomy to see what they were made of we learned about reducing",
    "start": "2236200",
    "end": "2242440"
  },
  {
    "text": "redundancy with presets we added functionality with audio drills we gave joblessness of the world with variables",
    "start": "2242440",
    "end": "2248380"
  },
  {
    "text": "we saw how to visualize jobs and present with our details with test spread and Spyglass then we looked at where jobs",
    "start": "2248380",
    "end": "2254500"
  },
  {
    "text": "decided the code in the testing product we searched and we snapped out other ones that we was looking for using hound",
    "start": "2254500",
    "end": "2260560"
  },
  {
    "text": "and finally we do a head first into various examples and saw how brow jobs lived in the real world so looking",
    "start": "2260560",
    "end": "2268240"
  },
  {
    "text": "forward you hope the one thing we leave you with is the confidence that you go read brow jobs and open part of them you",
    "start": "2268240",
    "end": "2273339"
  },
  {
    "text": "can analyze them and then have them bend to even you can try it all at trial.katest.io",
    "start": "2273339",
    "end": "2279280"
  },
  {
    "text": "the source code is at git.kids.io you can scan this thing to leave feedback and get the slides we're on slack pisagu",
    "start": "2279280",
    "end": "2287020"
  },
  {
    "text": "and Jason Braganza our email is also here Priyanka you want to take a thought",
    "start": "2287020",
    "end": "2293520"
  },
  {
    "text": "um so the one a few we looked at very few examples here um there are a lot",
    "start": "2293680",
    "end": "2299260"
  },
  {
    "text": "more out there we can see in Discord and if anyone is interested to learn more",
    "start": "2299260",
    "end": "2305320"
  },
  {
    "text": "about um other brow jobs that we have or maybe like do a collective learning uh reach",
    "start": "2305320",
    "end": "2311200"
  },
  {
    "text": "out to us at sick testing or maybe give us a ping and we can run a together like mentorship cohort or something like that",
    "start": "2311200",
    "end": "2317619"
  },
  {
    "text": "we need help here to be reviewers of those jobs we we get a lot of PRS I'm",
    "start": "2317619",
    "end": "2323380"
  },
  {
    "text": "making changes there on the crowds of sides so um if you are just interested in",
    "start": "2323380",
    "end": "2328420"
  },
  {
    "text": "learning give us a shout there um would be happy to help and in general like if you if you are interested in",
    "start": "2328420",
    "end": "2335380"
  },
  {
    "text": "asking any questions about um test grades by class these brow jobs sick testing and secret Etc",
    "start": "2335380",
    "end": "2343119"
  },
  {
    "text": "um on slack.k.s the right place for you um with that um thank you again for",
    "start": "2343119",
    "end": "2348579"
  },
  {
    "text": "joining our talk and we open the floor for questions thank you thank you [Applause]",
    "start": "2348579",
    "end": "2359140"
  },
  {
    "text": "yeah Okay so the first one would be that",
    "start": "2359140",
    "end": "2366640"
  },
  {
    "text": "well the first question would be if the execution is",
    "start": "2366640",
    "end": "2371819"
  },
  {
    "text": "because in kubernetes the crown jobs as you may know don't talk about a need execution so and",
    "start": "2371980",
    "end": "2380020"
  },
  {
    "text": "encourage our projects have guaranteed executions",
    "start": "2380020",
    "end": "2386460"
  },
  {
    "text": "so you are asking about guaranteed execution",
    "start": "2387460",
    "end": "2392619"
  },
  {
    "text": "um yeah if I use an interval",
    "start": "2392619",
    "end": "2396420"
  },
  {
    "text": "well it's kubernetes again so whatever guarantee we get from kubernetes we get",
    "start": "2404380",
    "end": "2409900"
  },
  {
    "text": "from here but yes like we saw there are some Fields called maximum concurrency it totally depends on whatever is the",
    "start": "2409900",
    "end": "2416980"
  },
  {
    "text": "resource we have in our brow built clusters uh we try to make sure we have",
    "start": "2416980",
    "end": "2422320"
  },
  {
    "text": "enough because we need these to be running like concurrently there is a reason why there are some of them are",
    "start": "2422320",
    "end": "2428920"
  },
  {
    "text": "said to be running at six hours and one hours because we need that signal to build some CI signal uh so well yes uh I",
    "start": "2428920",
    "end": "2438099"
  },
  {
    "text": "am not sure about the guarantee like what guarantee but uh as far as I know they run",
    "start": "2438099",
    "end": "2444579"
  },
  {
    "text": "um at least there will be a trigger it might fail giving you something like oh I did not find a gcp project from both",
    "start": "2444579",
    "end": "2451359"
  },
  {
    "text": "course I needed a project and that was not available at that time so it will try again",
    "start": "2451359",
    "end": "2456700"
  },
  {
    "text": "um but yeah it will it will get triggered that's for sure okay",
    "start": "2456700",
    "end": "2462180"
  },
  {
    "text": "yeah yeah uh if if you are hogging on resources that's like kubernetes problem again same but yes there will be a brow",
    "start": "2462400",
    "end": "2470320"
  },
  {
    "text": "job and you will be able to see that happening in spyglass",
    "start": "2470320",
    "end": "2475780"
  },
  {
    "text": "another question would be how hard is to maintain to maintain from itself it's",
    "start": "2475780",
    "end": "2482859"
  },
  {
    "text": "very hard um",
    "start": "2482859",
    "end": "2487020"
  },
  {
    "text": "how hard is is it like we know it's very hard and this is what we we when we Face",
    "start": "2489000",
    "end": "2494800"
  },
  {
    "text": "the same issues which is why we kind of gathered what we knew and bundled it into this talk so",
    "start": "2494800",
    "end": "2501300"
  },
  {
    "text": "will I find issues because because some progressions or because maybe things",
    "start": "2509400",
    "end": "2514960"
  },
  {
    "text": "changed and the problem of suspecting and I need to take everything before updating",
    "start": "2514960",
    "end": "2521880"
  },
  {
    "text": "about how how kind so yeah yeah so the question is",
    "start": "2522359",
    "end": "2528820"
  },
  {
    "text": "uh how uh how easy or hard it is to maintain infrastructure itself",
    "start": "2528820",
    "end": "2534640"
  },
  {
    "text": "um well um we also have jobs that bombs Whenever",
    "start": "2534640",
    "end": "2540579"
  },
  {
    "text": "there is a proud change itself like there is there are there is something new added to Proud tooling itself we",
    "start": "2540579",
    "end": "2546700"
  },
  {
    "text": "create brow container images for them uh because again like it's it's yaml files",
    "start": "2546700",
    "end": "2552160"
  },
  {
    "text": "that are applied to a kubernetes cluster to make the kubernetes cluster a brow service cluster so whenever there are",
    "start": "2552160",
    "end": "2558220"
  },
  {
    "text": "changes we have some proud jobs called Auto bombs uh that comes into the",
    "start": "2558220",
    "end": "2563380"
  },
  {
    "text": "picture and they they again autobomb the cluster so um",
    "start": "2563380",
    "end": "2569320"
  },
  {
    "text": "it's automated and it happens whenever there is a",
    "start": "2569320",
    "end": "2574420"
  },
  {
    "text": "change coming hard it is yes things fail and you have to come in and maybe fix it but we have",
    "start": "2574420",
    "end": "2582400"
  },
  {
    "text": "tried it try to automate that so um hope that answers",
    "start": "2582400",
    "end": "2589799"
  },
  {
    "text": "maybe even an articles um",
    "start": "2596380",
    "end": "2602338"
  },
  {
    "text": "we we have brow uh we we don't have other CI CD running here the number one",
    "start": "2603280",
    "end": "2609579"
  },
  {
    "text": "reason is we wanted something which is very kubernetes uh friendly itself",
    "start": "2609579",
    "end": "2614980"
  },
  {
    "text": "um so uh I am not sure like about The Concourse he is cicd hair or Argo cicd",
    "start": "2614980",
    "end": "2621460"
  },
  {
    "text": "here how that would run here but again like we wanted okay whenever there are new changes we have to just bump that",
    "start": "2621460",
    "end": "2628240"
  },
  {
    "text": "container image version and we need to apply it again that's the idea we want to follow so uh this is what we do",
    "start": "2628240",
    "end": "2636339"
  },
  {
    "text": "whenever there are changes we just pump that image version and we try to reapply it again",
    "start": "2636339",
    "end": "2642220"
  },
  {
    "text": "um again it's it's self uh healing will keep reapplying it again until it's in a",
    "start": "2642220",
    "end": "2649300"
  },
  {
    "text": "better position uh maybe if it's all gone then somebody will have to come in and fix it but that",
    "start": "2649300",
    "end": "2655839"
  },
  {
    "text": "also happens but that does not happens like we also have pre-summit test to",
    "start": "2655839",
    "end": "2661240"
  },
  {
    "text": "actually check what is whatever new is coming in the prow config if it is working or not so we have staging area",
    "start": "2661240",
    "end": "2667359"
  },
  {
    "text": "and something like that yeah",
    "start": "2667359",
    "end": "2672000"
  },
  {
    "text": "um I honestly I'm not sure about that but okay sorry the question is uh how about",
    "start": "2685180",
    "end": "2692980"
  },
  {
    "text": "using Helm charts to deploy yeah",
    "start": "2692980",
    "end": "2697740"
  },
  {
    "text": "um so you mean how to put up brow uh on your own okay um we have documentations out there",
    "start": "2702040",
    "end": "2709300"
  },
  {
    "text": "um um on testing for config slash brow that the folder we just touched upon if you",
    "start": "2709300",
    "end": "2715599"
  },
  {
    "text": "click on that folder you get all the yaml files that are applied into the cluster so uh there is there are handy",
    "start": "2715599",
    "end": "2721599"
  },
  {
    "text": "documents as well which um gives you okay you need to First apply this and that and that uh we for",
    "start": "2721599",
    "end": "2730060"
  },
  {
    "text": "right now Upstream kubernetes Pro is very gcp tied so we also have",
    "start": "2730060",
    "end": "2735660"
  },
  {
    "text": "tools to automate that entire brow deployment as well that's not so much",
    "start": "2735660",
    "end": "2740980"
  },
  {
    "text": "there for other Cloud providers but we because running like we are running",
    "start": "2740980",
    "end": "2746099"
  },
  {
    "text": "millions of jobs every single day and that's turning to be a huge course for",
    "start": "2746099",
    "end": "2751420"
  },
  {
    "text": "the project so we are also looking um for help from other Cloud providers and",
    "start": "2751420",
    "end": "2756880"
  },
  {
    "text": "we have received help from other Cloud providers so we are also working on making Pro more Cloud agnostic so",
    "start": "2756880",
    "end": "2764440"
  },
  {
    "text": "there'll be more documents coming out where maybe like we don't have to manually apply each and every yaml file",
    "start": "2764440",
    "end": "2772660"
  },
  {
    "text": "um like we do right now uh for known gcp project Cloud providers but for gcp yes",
    "start": "2772660",
    "end": "2780760"
  },
  {
    "text": "we have tools something like that that will allow you to just bring up brow in like five minutes or so yeah",
    "start": "2780760",
    "end": "2789660"
  },
  {
    "text": "it is changing but since we all already have so many jobs running and whatever",
    "start": "2803579",
    "end": "2811300"
  },
  {
    "text": "they are creating are important it's it's a very slow migration we would see like the one the third example we saw",
    "start": "2811300",
    "end": "2817839"
  },
  {
    "text": "and I made a note about using Cube test2 we exactly have a similar job for that",
    "start": "2817839",
    "end": "2824440"
  },
  {
    "text": "that uses Cube test2 um as well so what we are doing in Upstream spaces we are making clones of",
    "start": "2824440",
    "end": "2831040"
  },
  {
    "text": "jobs right now and we are giving them soak time um to to be like stable and when once they",
    "start": "2831040",
    "end": "2838240"
  },
  {
    "text": "are stable and giving us enough good signal then we will be slowly removing them but it's going to be a very slow",
    "start": "2838240",
    "end": "2844359"
  },
  {
    "text": "move because uh not all proud jobs are created by just the core kubernetes",
    "start": "2844359",
    "end": "2849940"
  },
  {
    "text": "contributed people from other projects who are trying to test integration with the main project they come and add in",
    "start": "2849940",
    "end": "2856359"
  },
  {
    "text": "jobs and sometimes you just somebody added a job and they are no longer part",
    "start": "2856359",
    "end": "2861640"
  },
  {
    "text": "of the project so you don't have the context how that job was added what it",
    "start": "2861640",
    "end": "2866980"
  },
  {
    "text": "is doing and how to change it to make it move away from or maybe like make it",
    "start": "2866980",
    "end": "2872020"
  },
  {
    "text": "more agnostic not just stoker and more container and time so things are",
    "start": "2872020",
    "end": "2877240"
  },
  {
    "text": "happening um but what we just showed will stay for a very long time and more things will",
    "start": "2877240",
    "end": "2883119"
  },
  {
    "text": "also come in yeah",
    "start": "2883119",
    "end": "2886019"
  },
  {
    "text": "or to get access to the demon that can beat the containers in",
    "start": "2896680",
    "end": "2902680"
  },
  {
    "text": "the host machine and decrease the containers or you execute Docker inside",
    "start": "2902680",
    "end": "2909599"
  },
  {
    "text": "the second part we we are doing a Docker in Docker so there is a this is why he",
    "start": "2912280",
    "end": "2917740"
  },
  {
    "text": "had a problem like if there's another external Engine outside how do you use those versus just so it's going to",
    "start": "2917740",
    "end": "2925720"
  },
  {
    "text": "change what's going to take away plus um I just want to make a note uh Cube test does that um sorry Cube kins",
    "start": "2925720",
    "end": "2932740"
  },
  {
    "text": "image that we saw that does that Docker and broker and um we wanted to include that because",
    "start": "2932740",
    "end": "2938319"
  },
  {
    "text": "there are a lot of images a lot of proud jobs that are doing that and it's very hard to read those jobs to understand",
    "start": "2938319",
    "end": "2944859"
  },
  {
    "text": "okay what you see there is a lot of bunch of flags and you you can't make out what they are doing so for the sake of the",
    "start": "2944859",
    "end": "2951220"
  },
  {
    "text": "talk we wanted to include that but if you go to the documentation you will see",
    "start": "2951220",
    "end": "2956560"
  },
  {
    "text": "a big banner there the cube test is no longer recommended we do not want Docker",
    "start": "2956560",
    "end": "2961599"
  },
  {
    "text": "into there so we are moving there there is already efforts out there to make it",
    "start": "2961599",
    "end": "2967480"
  },
  {
    "text": "more agnostic it's just that we need some thing already running there to drive the releases but we are also",
    "start": "2967480",
    "end": "2975760"
  },
  {
    "text": "working uh on changing them yeah",
    "start": "2975760",
    "end": "2980040"
  },
  {
    "text": "not talking about where are you like what is the solution um there are kind jobs as well so you",
    "start": "2992380",
    "end": "3000119"
  },
  {
    "text": "would if you if you go sorry um yeah if you go to test grade and search like um",
    "start": "3000119",
    "end": "3007020"
  },
  {
    "text": "you would find all sorts of variations out there like people are testing all these all these uh various options are",
    "start": "3007020",
    "end": "3014460"
  },
  {
    "text": "already in discussion or maybe already tested and again like they are already out there maybe somebody started it and",
    "start": "3014460",
    "end": "3021599"
  },
  {
    "text": "did not drive it to the end something like that um it's a it's a slow process people are",
    "start": "3021599",
    "end": "3027119"
  },
  {
    "text": "trying options just that the old way is not it's going to take time to be like",
    "start": "3027119",
    "end": "3032339"
  },
  {
    "text": "entirely so yeah",
    "start": "3032339",
    "end": "3035660"
  },
  {
    "text": "all right thank you folks thank you",
    "start": "3040920",
    "end": "3045140"
  },
  {
    "text": "but um like all this questions uh if if you we are very much willing to take",
    "start": "3046020",
    "end": "3051599"
  },
  {
    "text": "help in that uh to move uh from like to make it more agnostic so stick testing",
    "start": "3051599",
    "end": "3057359"
  },
  {
    "text": "secret and ketus infra uh specifically create SM Drive people need help to actually like",
    "start": "3057359",
    "end": "3064260"
  },
  {
    "text": "maintain this proud infrastructure itself so any help would be helpful yeah",
    "start": "3064260",
    "end": "3069480"
  },
  {
    "text": "yeah thank you thank you thank you [Applause]",
    "start": "3069480",
    "end": "3076290"
  }
]