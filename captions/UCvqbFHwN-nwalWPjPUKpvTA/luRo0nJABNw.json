[
  {
    "start": "0",
    "end": "101000"
  },
  {
    "text": "this thing started hi everyone thanks for joining us today we are going to",
    "start": "0",
    "end": "5020"
  },
  {
    "text": "[Music] have a wonderful webinar I am Chris short principal technical marketing",
    "start": "5020",
    "end": "10769"
  },
  {
    "text": "manager at Red Hat I am also a cloud native ambassador I'll be moderating today's webinar a few guys keeping items",
    "start": "10769",
    "end": "17340"
  },
  {
    "text": "before we get started during the webinar you're not able to talk as an attendee sorry but there is a Q&A box at the",
    "start": "17340",
    "end": "24330"
  },
  {
    "text": "bottom of your screen feel free to drop your questions in there and either",
    "start": "24330",
    "end": "29369"
  },
  {
    "text": "myself or I will ask Tim we'll get those answered and let's without further ado",
    "start": "29369",
    "end": "38160"
  },
  {
    "text": "I'd like to introduce Tim a panel coworker and senior product manager at Red Hat and they'll be talking about",
    "start": "38160",
    "end": "46280"
  },
  {
    "text": "building kubernetes operators and the ansible native weight take it away Tim thanks great thanks Chris and thanks everyone",
    "start": "46280",
    "end": "52920"
  },
  {
    "text": "for tuning in I said my name is Tim Otto I'm a senior product manager with the",
    "start": "52920",
    "end": "59070"
  },
  {
    "text": "ansible team and I'm a longtime ansible guy really know my way around ansible",
    "start": "59070",
    "end": "65189"
  },
  {
    "text": "having been a contributor and then later was a user customer and joined ansible",
    "start": "65189",
    "end": "71280"
  },
  {
    "text": "and came along for the ride when we were acquired by Red Hat so I'm actually not",
    "start": "71280",
    "end": "76290"
  },
  {
    "text": "a kubernetes guy I mean I've been learning it I really love it but I come from this ansible background well I",
    "start": "76290",
    "end": "83640"
  },
  {
    "text": "wanted to share is is a way that you can use ansible and kubernetes together so",
    "start": "83640",
    "end": "90650"
  },
  {
    "text": "let's see am i sharing my slides Chris can everyone see yes you are good to go",
    "start": "90650",
    "end": "97110"
  },
  {
    "text": "okay great excellent so we're going to be covering today is",
    "start": "97110",
    "end": "103070"
  },
  {
    "start": "101000",
    "end": "144000"
  },
  {
    "text": "you know just a little bit of background about what are operators for those who may not be as familiar and why you'd",
    "start": "103070",
    "end": "108630"
  },
  {
    "text": "want to use them and then why would you want to use ansible to build them and how do you even do them so you know why",
    "start": "108630",
    "end": "114960"
  },
  {
    "text": "would you want to build them using a spool because you know isn't isn't ansible one of those traditional IT",
    "start": "114960",
    "end": "120060"
  },
  {
    "text": "tools what does that have to do with cloud native applications and architectures and then I'm gonna you",
    "start": "120060",
    "end": "127049"
  },
  {
    "text": "know I said show do some demos of how you would develop your first operator at danceable and actually show",
    "start": "127049",
    "end": "133680"
  },
  {
    "text": "a basic one that that we've developed and and then give you some information",
    "start": "133680",
    "end": "139170"
  },
  {
    "text": "on how you could learn more about this so with that I'm gonna start off this is",
    "start": "139170",
    "end": "145319"
  },
  {
    "text": "olya CN CF webinar and we all know and love kubernetes and and what it can do",
    "start": "145319",
    "end": "151469"
  },
  {
    "text": "and all the the functionality and how it's bringing web scale architectures to",
    "start": "151469",
    "end": "158969"
  },
  {
    "text": "our industry and how you can utilize and all the great things that it that it can do so it's just worth pointing that out",
    "start": "158969",
    "end": "166109"
  },
  {
    "text": "because what operators can do is is build on all of that great functionality",
    "start": "166109",
    "end": "173069"
  },
  {
    "text": "and all that power of kubernetes here and then what ansible can do is is make",
    "start": "173069",
    "end": "178469"
  },
  {
    "text": "that more accessible to more people to be able to use and automate what happens",
    "start": "178469",
    "end": "185129"
  },
  {
    "text": "on their kubernetes clusters and with their cloud native you know complex applications so what most a lot of",
    "start": "185129",
    "end": "195689"
  },
  {
    "start": "192000",
    "end": "205000"
  },
  {
    "text": "people don't realize is that really ansible and kubernetes are quite a",
    "start": "195689",
    "end": "201359"
  },
  {
    "text": "natural fit and have a lot of similarities in a number of ways you know both of them help make hard things",
    "start": "201359",
    "end": "208590"
  },
  {
    "start": "205000",
    "end": "262000"
  },
  {
    "text": "easier through automation and orchestration and they're both very",
    "start": "208590",
    "end": "213659"
  },
  {
    "text": "active widely used open-source projects and last year we were I think we were",
    "start": "213659",
    "end": "219949"
  },
  {
    "text": "six and seven on the github octo verse report when it came out for activity so",
    "start": "219949",
    "end": "228389"
  },
  {
    "text": "we were you know the kubernetes and ansible projects were right there neck-and-neck in the you know in the top",
    "start": "228389",
    "end": "233909"
  },
  {
    "text": "ten so we both have very vibrant communities working together to solve common problems you know we have cube",
    "start": "233909",
    "end": "240509"
  },
  {
    "text": "con coming up and you know it's going to be you know from I'm hearing you know twelve thousand people gathering there",
    "start": "240509",
    "end": "246299"
  },
  {
    "text": "I'll be there in the Red Hat booth for any of you who want to stop by and say hi I'll be talking about this there and",
    "start": "246299",
    "end": "253019"
  },
  {
    "text": "the other thing is that they both use Yammer to describe this desired state of",
    "start": "253019",
    "end": "258930"
  },
  {
    "text": "the world they're both desired state engines they both use yeah Mon here's an example of what I mean on the left here",
    "start": "258930",
    "end": "265289"
  },
  {
    "start": "262000",
    "end": "374000"
  },
  {
    "text": "we have a definition file that you could use with cute control example setting up a config map and you",
    "start": "265289",
    "end": "273350"
  },
  {
    "text": "could feed that in and great you have a config map now in your kubernetes cluster on the right side is a single",
    "start": "273350",
    "end": "280880"
  },
  {
    "text": "task from an ansible playbook using our capes module that defines the exact same",
    "start": "280880",
    "end": "287540"
  },
  {
    "text": "config map and you can see by the the parts that are in red are almost identical to the the definition file you",
    "start": "287540",
    "end": "295940"
  },
  {
    "text": "would use with queue control now the one thing I always like to point out and one of the you know first advantages of",
    "start": "295940",
    "end": "301910"
  },
  {
    "text": "using ansible for this is if you look down there at the color there's a Jinja",
    "start": "301910",
    "end": "309350"
  },
  {
    "text": "- variable there for template izing what you do and this is something I hopefully",
    "start": "309350",
    "end": "315500"
  },
  {
    "text": "I'll be able to show you in the demos that you could template eyes this your definition files and how you had you",
    "start": "315500",
    "end": "322100"
  },
  {
    "text": "deploy and manage things in kubernetes if inlining the definition file like I",
    "start": "322100",
    "end": "331160"
  },
  {
    "text": "showed in the last slide isn't your thing you can also do something like this in fact a lot of people do this and and we actually have it set up this way",
    "start": "331160",
    "end": "338240"
  },
  {
    "text": "in our demo operator that I'll show later you can keep the definition file",
    "start": "338240",
    "end": "345980"
  },
  {
    "text": "separately as a template or as a yeah Moe file and read them right into your your playbook and feed them into the",
    "start": "345980",
    "end": "352520"
  },
  {
    "text": "kate's module to get passed on to the kate's api so it's a nice little piece",
    "start": "352520",
    "end": "358490"
  },
  {
    "text": "of syntactic sugar you can use to manage your files differently if you don't want",
    "start": "358490",
    "end": "363500"
  },
  {
    "text": "to keep a a playbook keep all this in a playbook you can you know keep it",
    "start": "363500",
    "end": "369470"
  },
  {
    "text": "separately as files and manage them accordingly alright so that was a little",
    "start": "369470",
    "end": "376130"
  },
  {
    "start": "374000",
    "end": "392000"
  },
  {
    "text": "bit of the similarities that there are between kubernetes and ansible and how they can work together you know let's do",
    "start": "376130",
    "end": "382040"
  },
  {
    "text": "a quick review of what our operators what our kubernetes operators for those",
    "start": "382040",
    "end": "387320"
  },
  {
    "text": "who may not be as familiar with it or just to set some context here what we're talking about so as I was saying we all",
    "start": "387320",
    "end": "395270"
  },
  {
    "text": "know kubernetes love kubernetes and it and it's incredibly powerful and brings a lot of",
    "start": "395270",
    "end": "401380"
  },
  {
    "text": "functionality to doing things in highly available scalable manner in a",
    "start": "401380",
    "end": "407320"
  },
  {
    "text": "consistent way bringing a lot of best practices and functionality there and",
    "start": "407320",
    "end": "414310"
  },
  {
    "text": "that's great and gets us so far especially when our we can make our applications or our services stateless",
    "start": "414310",
    "end": "421180"
  },
  {
    "text": "because that's easy it can be that very genericized and it can be handled in",
    "start": "421180",
    "end": "426340"
  },
  {
    "text": "such a way that you know if a pod dies that kubernetes can just replace it and",
    "start": "426340",
    "end": "431920"
  },
  {
    "text": "things continue on and they work great but what do you do when you have to use state when your application needs this",
    "start": "431920",
    "end": "440110"
  },
  {
    "text": "special handling and in how you manage upgrades how you manage scaling events",
    "start": "440110",
    "end": "448060"
  },
  {
    "text": "how you manage failures things of that nature kubernetes cannot in and of",
    "start": "448060",
    "end": "453310"
  },
  {
    "text": "itself capture all of that operational knowledge in order to manage that application and that's where operators",
    "start": "453310",
    "end": "460840"
  },
  {
    "text": "come in because staple you know that that statefulness is hard and is unknown",
    "start": "460840",
    "end": "467860"
  },
  {
    "text": "to kubernetes and operators let you bring that extra smart to what",
    "start": "467860",
    "end": "475920"
  },
  {
    "text": "kubernetes can do so like say operators",
    "start": "475920",
    "end": "482170"
  },
  {
    "start": "478000",
    "end": "532000"
  },
  {
    "text": "are there to manage complex kubernetes applications they can encode this human",
    "start": "482170",
    "end": "487420"
  },
  {
    "text": "operational knowledge they can you know handle things such as patches upgrades",
    "start": "487420",
    "end": "493290"
  },
  {
    "text": "you know scaling events things of that nature and to do it in a kubernetes native way that we can just you know do",
    "start": "493290",
    "end": "504070"
  },
  {
    "text": "it right on the cluster itself so these operators are purpose-built for your specific applications and services to",
    "start": "504070",
    "end": "510970"
  },
  {
    "text": "give kubernetes that XR smart and to not just handle installing and setting up",
    "start": "510970",
    "end": "516969"
  },
  {
    "text": "your application but do all the day - management of what happens you know managing the entire lifecycle what",
    "start": "516969",
    "end": "523030"
  },
  {
    "text": "happens after the install and the and and the set up you know initially",
    "start": "523030",
    "end": "528610"
  },
  {
    "text": "happens so",
    "start": "528610",
    "end": "534430"
  },
  {
    "start": "532000",
    "end": "606000"
  },
  {
    "text": "without without operators what happens is is we get and we have these special",
    "start": "534430",
    "end": "540829"
  },
  {
    "text": "you know these stateful applications that require this extra extra knowledge",
    "start": "540829",
    "end": "546139"
  },
  {
    "text": "expecially handling you you end up in a reactive mode without operators that you",
    "start": "546139",
    "end": "552079"
  },
  {
    "text": "have to continually check for anomalies or for events happening in your cluster",
    "start": "552079",
    "end": "557269"
  },
  {
    "text": "and alert a human if something happens so that they can respond so one of your",
    "start": "557269",
    "end": "562820"
  },
  {
    "text": "operators has to deal with possibly intervening and it could be it could",
    "start": "562820",
    "end": "569240"
  },
  {
    "text": "take them minutes could take them hours it may require them getting up in the middle of the night to deal with this",
    "start": "569240",
    "end": "575180"
  },
  {
    "text": "stuff so that's less than ideal with an operator you get to be more proactive",
    "start": "575180",
    "end": "581029"
  },
  {
    "text": "you can you know because it's running on the cluster and it is continuously",
    "start": "581029",
    "end": "586519"
  },
  {
    "text": "adjusting for that optimal state and monitoring what is the the current state",
    "start": "586519",
    "end": "591800"
  },
  {
    "text": "of what's happening on the cluster it's able to react within seconds and make",
    "start": "591800",
    "end": "597350"
  },
  {
    "text": "the adjustments and perform the operations needed to keep the application healthy and running as",
    "start": "597350",
    "end": "604370"
  },
  {
    "text": "expected so when we look at what an operator is it really is a controller",
    "start": "604370",
    "end": "611269"
  },
  {
    "start": "606000",
    "end": "679000"
  },
  {
    "text": "with a very specific pattern so we have the Kate's API and and what makes",
    "start": "611269",
    "end": "617329"
  },
  {
    "text": "operators go our custom resources and you create a custom resource around your",
    "start": "617329",
    "end": "623300"
  },
  {
    "text": "particular application then the operator",
    "start": "623300",
    "end": "628610"
  },
  {
    "text": "itself is just a controller and that has two special parts to it or or two",
    "start": "628610",
    "end": "634490"
  },
  {
    "text": "functions going on one is for the controller to watch events happening on the kubernetes cluster for the resources",
    "start": "634490",
    "end": "643760"
  },
  {
    "text": "that your application is using and then when something does occur to do something called a reconcile loop and",
    "start": "643760",
    "end": "650089"
  },
  {
    "text": "what a reconcile does is is take the actions necessary to get the application",
    "start": "650089",
    "end": "656630"
  },
  {
    "text": "in the desired state it should be in when the state changes and so it so",
    "start": "656630",
    "end": "663110"
  },
  {
    "text": "what's happening then is this controller this this operator is managing your kubernetes application",
    "start": "663110",
    "end": "670580"
  },
  {
    "text": "on the other according to the",
    "start": "670580",
    "end": "676760"
  },
  {
    "text": "operational knowledge that you fed into it so the operator just to take a step",
    "start": "676760",
    "end": "684080"
  },
  {
    "start": "679000",
    "end": "805000"
  },
  {
    "text": "back for a second here operators are part of come from the operator framework",
    "start": "684080",
    "end": "690680"
  },
  {
    "text": "this is something that core arrests began and then when they joined the Red Hat family we've continued to invest in",
    "start": "690680",
    "end": "697130"
  },
  {
    "text": "and and advance further there are three parts to this operator framework this",
    "start": "697130",
    "end": "702650"
  },
  {
    "text": "this toolkit to build and manage operators on any kubernetes cluster this",
    "start": "702650",
    "end": "709730"
  },
  {
    "text": "is all I should have mentioned this earlier on this is not specific to red hat or openshift which is our cloud",
    "start": "709730",
    "end": "717350"
  },
  {
    "text": "native platform which kubernetes is very much at the center of this can be used with any any kubernetes in fact I'll",
    "start": "717350",
    "end": "724160"
  },
  {
    "text": "show this a little bit later when I do my demo I'm using mini cube so there are three parts to it I'm going to be",
    "start": "724160",
    "end": "730160"
  },
  {
    "text": "talking mostly from here on out about the operator SDK which is what you would use to build your operators and and",
    "start": "730160",
    "end": "738770"
  },
  {
    "text": "specifically the part of the operator SDK I'm gonna be talking about is the ansible part that's built built into",
    "start": "738770",
    "end": "744530"
  },
  {
    "text": "that there's also implementations for doing it and golang of course and then also of some limited stuff you can do",
    "start": "744530",
    "end": "750890"
  },
  {
    "text": "with helm also part of the operator framework is the lifecycle manager for doing install updates and manage of",
    "start": "750890",
    "end": "757100"
  },
  {
    "text": "operators and their dependencies a nice kind of package manager or like tool and",
    "start": "757100",
    "end": "763790"
  },
  {
    "text": "then they're also for doing operate or metering so that you can get metrics out",
    "start": "763790",
    "end": "768980"
  },
  {
    "text": "of that and for customers that need to do things like chargebacks and things of",
    "start": "768980",
    "end": "774710"
  },
  {
    "text": "that nature that's what there's that's there for but we're gonna be focusing on the operator SDK part from here out but that's what",
    "start": "774710",
    "end": "781070"
  },
  {
    "text": "makes up the operator framework it's out there and all that is of course we're RedHat it is open source and can be",
    "start": "781070",
    "end": "788540"
  },
  {
    "text": "found at this github repo you see at the bottom of my slide ok so that was enough",
    "start": "788540",
    "end": "796490"
  },
  {
    "text": "about operators and some background on that there why would you want to build an operator",
    "start": "796490",
    "end": "803330"
  },
  {
    "text": "with ansible well okay so the idea is we're taking a lot of the same",
    "start": "803330",
    "end": "809540"
  },
  {
    "start": "805000",
    "end": "842000"
  },
  {
    "text": "principles that have gone into anta Bowl in general and traditional IT space",
    "start": "809540",
    "end": "815390"
  },
  {
    "text": "whether it's it's it's cloud or networking or bare metal or Windows machines with the idea of making things",
    "start": "815390",
    "end": "822830"
  },
  {
    "text": "easier to do so taking this the you know doing powerful things in a very simple",
    "start": "822830",
    "end": "829670"
  },
  {
    "text": "way and so in this case here we're trying to make it easier to deploy manage these kubernetes applications but",
    "start": "829670",
    "end": "836720"
  },
  {
    "text": "do it in that nance ansible native way so what we're trying to bring to that is",
    "start": "836720",
    "end": "845690"
  },
  {
    "start": "842000",
    "end": "972000"
  },
  {
    "text": "is taking you know we have this traditional ite a lot of people have invested in automating with ansible and",
    "start": "845690",
    "end": "853760"
  },
  {
    "text": "to really reuse a lot of those skills in this existing ecosystem and this",
    "start": "853760",
    "end": "859790"
  },
  {
    "text": "thriving community that's out there so using all those tried and trusted",
    "start": "859790",
    "end": "865570"
  },
  {
    "text": "ansible tools and and to reuse that knowledge that a lot of organizations are already have and are using for",
    "start": "865570",
    "end": "873290"
  },
  {
    "text": "managing things that aren't cloud native because i mean as much as we all love cloud native they're still going to be",
    "start": "873290",
    "end": "879380"
  },
  {
    "text": "traditional idea around for the foreseeable future so this gives you a",
    "start": "879380",
    "end": "884390"
  },
  {
    "text": "chance to use that same the community and to also be able to automate the",
    "start": "884390",
    "end": "891110"
  },
  {
    "text": "entire stack whether it's cloud native or traditional IT with one simple",
    "start": "891110",
    "end": "898460"
  },
  {
    "text": "language and one one automation engine it also allows it lowers the barrier of",
    "start": "898460",
    "end": "907130"
  },
  {
    "text": "entry to what type of skills and knowledge a person needs in order to automate these applications and manage",
    "start": "907130",
    "end": "914300"
  },
  {
    "text": "these applications because it's ansible you don't need programming skills in",
    "start": "914300",
    "end": "920270"
  },
  {
    "text": "order to to automate what is happening on your cluster with these operators",
    "start": "920270",
    "end": "925339"
  },
  {
    "text": "they're written in ansible and even if you do have the programming skills to do",
    "start": "925339",
    "end": "932150"
  },
  {
    "text": "this type of thing this will let you iterate faster and it'll make maintenance easier so you can",
    "start": "932150",
    "end": "938379"
  },
  {
    "text": "focus your time on other things that require your attention that cannot be as easily handled as what we can do here as",
    "start": "938379",
    "end": "946899"
  },
  {
    "text": "I already showed is uh it uses declarative state definitions just like",
    "start": "946899",
    "end": "952540"
  },
  {
    "text": "Kate's itself and you can template all that which can make things much more repeatable and reusable than the",
    "start": "952540",
    "end": "959529"
  },
  {
    "text": "standard tooling that's out there so it can really you know help you do get more",
    "start": "959529",
    "end": "965769"
  },
  {
    "text": "out of all the the great things that kubernetes and and and cloud native systems can do as I mentioned earlier",
    "start": "965769",
    "end": "974769"
  },
  {
    "start": "972000",
    "end": "1057000"
  },
  {
    "text": "there's three ways that the operator framework lets you develop operators",
    "start": "974769",
    "end": "983230"
  },
  {
    "text": "there's helm but Helm's limited to only doing what you see there is phase one the basic installation ansible and",
    "start": "983230",
    "end": "991029"
  },
  {
    "text": "golang those those two types you can do the entire lifecycle of operators it's",
    "start": "991029",
    "end": "998679"
  },
  {
    "text": "one of the things that I get a lot as I talk to customers and and and at events",
    "start": "998679",
    "end": "1004259"
  },
  {
    "text": "and conferences a lot of people think that well I'm somehow going to be limited if I use ansible and I really",
    "start": "1004259",
    "end": "1010889"
  },
  {
    "text": "need to use golang and and what we've found is in the people that are writing operators with ansible is that that that",
    "start": "1010889",
    "end": "1018649"
  },
  {
    "text": "it can do pretty much everything there is going to be that very very what we",
    "start": "1018649",
    "end": "1025319"
  },
  {
    "text": "believe small edge cases where you really need to get into the and and very",
    "start": "1025319",
    "end": "1033178"
  },
  {
    "text": "closely control what's happening on the cluster indicates API where you then may",
    "start": "1033179",
    "end": "1039449"
  },
  {
    "text": "need to move to using golang itself but for the vast majority of use cases that",
    "start": "1039449",
    "end": "1044938"
  },
  {
    "text": "we've seen out there ansible has been able to handle them all and go across and do the entire lifecycle of that an",
    "start": "1044939",
    "end": "1054389"
  },
  {
    "text": "operator needs to manage all right so let's take a little bit of a closer look",
    "start": "1054389",
    "end": "1060870"
  },
  {
    "start": "1057000",
    "end": "1133000"
  },
  {
    "text": "at how an operator written in ansible looks so this is a another version of",
    "start": "1060870",
    "end": "1067559"
  },
  {
    "text": "the a diagram I showed a little bit earlier and what's different is that will you",
    "start": "1067559",
    "end": "1074570"
  },
  {
    "text": "see that we have a few extra things going on inside of this operator what",
    "start": "1074570",
    "end": "1082550"
  },
  {
    "text": "what when you build an operator using ansible you get this a binary this",
    "start": "1082550",
    "end": "1088760"
  },
  {
    "text": "generic operator that's been written that gets packaged in and bundled for you",
    "start": "1088760",
    "end": "1094130"
  },
  {
    "text": "this comes for free you don't have to touch it we'll talk about that a little bit later now the things that you as a",
    "start": "1094130",
    "end": "1100460"
  },
  {
    "text": "someone developing an operator with ansible are responsible for is the watch",
    "start": "1100460",
    "end": "1105680"
  },
  {
    "text": "file and what the watch file does is define the group version kind that you",
    "start": "1105680",
    "end": "1111410"
  },
  {
    "text": "the resource that you want to watch and then you define what playbook or role",
    "start": "1111410",
    "end": "1117350"
  },
  {
    "text": "should be run when something changes in the state of that resource so this is",
    "start": "1117350",
    "end": "1122810"
  },
  {
    "text": "how we map events happening in the kubernetes cluster to an ansible",
    "start": "1122810",
    "end": "1128870"
  },
  {
    "text": "playbook or role that is inside of the operator itself so taking a deeper dive",
    "start": "1128870",
    "end": "1135260"
  },
  {
    "start": "1133000",
    "end": "1256000"
  },
  {
    "text": "into that and going through the the workflow so you have this operator sdk",
    "start": "1135260",
    "end": "1141020"
  },
  {
    "text": "binary that's part of the the operator",
    "start": "1141020",
    "end": "1146450"
  },
  {
    "text": "that gets built and that has a number of functions in there for you generic well",
    "start": "1146450",
    "end": "1152030"
  },
  {
    "text": "I don't of generics are right word but all the common plumbing that you really have to take care of and be mindful of",
    "start": "1152030",
    "end": "1157130"
  },
  {
    "text": "when you are writing an operator that you don't that you really need to take",
    "start": "1157130",
    "end": "1162740"
  },
  {
    "text": "care of so for example it provides a reverse proxy and that proxy takes the",
    "start": "1162740",
    "end": "1168680"
  },
  {
    "text": "calls coming from your ansible automation and adds owner references to it and that's to make sure that garbage",
    "start": "1168680",
    "end": "1174320"
  },
  {
    "text": "collection works correctly it does a fair bit of aggressive caching so that",
    "start": "1174320",
    "end": "1180620"
  },
  {
    "text": "you don't you know pound your Cates API proxy too hard and and you know",
    "start": "1180620",
    "end": "1187850"
  },
  {
    "text": "essentially create a denial of service attack on your own kubernetes cluster so",
    "start": "1187850",
    "end": "1193250"
  },
  {
    "text": "it's doing a lot of things like that and that's actually written and go so it's a very very efficient operator going the",
    "start": "1193250",
    "end": "1200540"
  },
  {
    "text": "other thing that this is do is that when the container initializes it is reading in that watches file so it",
    "start": "1200540",
    "end": "1207440"
  },
  {
    "text": "knows what it is looking for so at that point that binary when it sees that an",
    "start": "1207440",
    "end": "1215120"
  },
  {
    "text": "event happens it will then look at what was defined in the watch's file and then",
    "start": "1215120",
    "end": "1220730"
  },
  {
    "text": "run the ansible playbook or role that's been defined for it take the response",
    "start": "1220730",
    "end": "1226520"
  },
  {
    "text": "coming back from ansible itself and then pass that along to the custom resource",
    "start": "1226520",
    "end": "1232640"
  },
  {
    "text": "to update the the status of your of your",
    "start": "1232640",
    "end": "1238490"
  },
  {
    "text": "operator so events are happening it's going into the operator itself the",
    "start": "1238490",
    "end": "1244490"
  },
  {
    "text": "ansible automation runs there it goes updates the status and manages your",
    "start": "1244490",
    "end": "1250400"
  },
  {
    "text": "kubernetes application does its reconciliation on the cluster itself all",
    "start": "1250400",
    "end": "1257540"
  },
  {
    "text": "right so that's that's how ansible operators work developing them can be",
    "start": "1257540",
    "end": "1265630"
  },
  {
    "text": "you know quite easy and we've tried to make this as frictionless as possible so there's a few steps that you have to",
    "start": "1265630",
    "end": "1272210"
  },
  {
    "start": "1270000",
    "end": "1476000"
  },
  {
    "text": "take here you can get the operator SDK I said completely open source tool it's",
    "start": "1272210",
    "end": "1277220"
  },
  {
    "text": "available through a number of different ways I'm using a macbook here i used homebrew to install my copy here so what",
    "start": "1277220",
    "end": "1286130"
  },
  {
    "text": "you do to get started is use the operator sdk to do a new and hand it a",
    "start": "1286130",
    "end": "1293450"
  },
  {
    "text": "few pieces of metadata what is the operator itself what's the API what's",
    "start": "1293450",
    "end": "1298640"
  },
  {
    "text": "the kind and then the the the most important part if you're going to be using ansible here is to use that type",
    "start": "1298640",
    "end": "1305450"
  },
  {
    "text": "equals ants hole that you see there at in red at the end of the command one",
    "start": "1305450",
    "end": "1312080"
  },
  {
    "text": "thing I want to stress I've said this once but I wonder I think it's worth repeating again here is this is a native",
    "start": "1312080",
    "end": "1318800"
  },
  {
    "text": "part of the operator SDK this is not a plug-in or some extra thing that you",
    "start": "1318800",
    "end": "1324560"
  },
  {
    "text": "need to add when you install the operator SDK you get this right right",
    "start": "1324560",
    "end": "1329900"
  },
  {
    "text": "out of the box so at this point what will happen and I'm going to show this to you in a moment in",
    "start": "1329900",
    "end": "1335260"
  },
  {
    "text": "in the demo is this will build out an entire project for you not only will it",
    "start": "1335260",
    "end": "1341470"
  },
  {
    "text": "create the skeleton of a of a roll to write your ansible automation but it",
    "start": "1341470",
    "end": "1350590"
  },
  {
    "text": "will also create deploy files for you it will create build file for you it creates basic tests and molecule which",
    "start": "1350590",
    "end": "1356530"
  },
  {
    "text": "is a testing framework for ansible content creates a whole bunch of really nice things that really get you up and",
    "start": "1356530",
    "end": "1363100"
  },
  {
    "text": "running quickly to developing the operator so at that point now you have a project ready to go you just need to",
    "start": "1363100",
    "end": "1370600"
  },
  {
    "text": "write your automation with ansible whatever those steps are often it's",
    "start": "1370600",
    "end": "1376690"
  },
  {
    "text": "going to be using the kate's module which is pretty and now pretty much a",
    "start": "1376690",
    "end": "1382330"
  },
  {
    "text": "like cube control but with some extra ansible things to it so anything you can do with a cube controller even the OC",
    "start": "1382330",
    "end": "1389020"
  },
  {
    "text": "command if you're an open shift user you can use that module for to get things",
    "start": "1389020",
    "end": "1394420"
  },
  {
    "text": "done so you write your automation you then have to define your watch file the",
    "start": "1394420",
    "end": "1399520"
  },
  {
    "text": "actually in all actuality that new command creates a watches file for you based on the inputs you've given it",
    "start": "1399520",
    "end": "1406180"
  },
  {
    "text": "sometimes you don't even have to touch the watch's file but if you do there's already one started it's a pretty",
    "start": "1406180",
    "end": "1413410"
  },
  {
    "text": "straightforward small little gamma file that you have to edit very straightforward thing to use and and and",
    "start": "1413410",
    "end": "1421720"
  },
  {
    "text": "manage at that point you have your automation ready to go you've run your tests you feel good about what you want",
    "start": "1421720",
    "end": "1427930"
  },
  {
    "text": "to do you Ren run this build command it's a very it's actually a very shallow thing that's been added for convenience",
    "start": "1427930",
    "end": "1435040"
  },
  {
    "text": "but at this point everything gets assembled it takes your ansible automation takes a lot of different a",
    "start": "1435040",
    "end": "1441520"
  },
  {
    "text": "base image that has all the necessary dependencies of Python and",
    "start": "1441520",
    "end": "1447670"
  },
  {
    "text": "ansible ansible runner some things like that bundles it all up into a container",
    "start": "1447670",
    "end": "1452920"
  },
  {
    "text": "that now you can deploy to your kubernetes cluster through any means it's just it's at that point itself it's",
    "start": "1452920",
    "end": "1459550"
  },
  {
    "text": "the container ready to go you do not need to install anything special on your",
    "start": "1459550",
    "end": "1465010"
  },
  {
    "text": "cluster you do not have to use OpenShift it should work any kubernetes system at this point it's",
    "start": "1465010",
    "end": "1472419"
  },
  {
    "text": "just another controller container so to",
    "start": "1472419",
    "end": "1477840"
  },
  {
    "start": "1476000",
    "end": "1572000"
  },
  {
    "text": "taking a step back and I've been talking about this but again it is worth",
    "start": "1477840",
    "end": "1483070"
  },
  {
    "text": "repeating this is the anatomy of an ansible enabled operator what you see in",
    "start": "1483070",
    "end": "1490120"
  },
  {
    "text": "the white as for all you that would are developing an operator with ansible",
    "start": "1490120",
    "end": "1495249"
  },
  {
    "text": "that's the part that you are responsible for creating the roles or the play books",
    "start": "1495249",
    "end": "1500860"
  },
  {
    "text": "and the watches file and managing that everything you see in that gray box you get for free using the ansible operator",
    "start": "1500860",
    "end": "1509230"
  },
  {
    "text": "SDK when you do the build command so those are all the things I talked to you about so far that that that binary that",
    "start": "1509230",
    "end": "1517149"
  },
  {
    "text": "generic go operator the ansible ansible runner all the Python libraries all the",
    "start": "1517149",
    "end": "1524350"
  },
  {
    "text": "things that you need you just get and so that you can focus on just what is it I",
    "start": "1524350",
    "end": "1530679"
  },
  {
    "text": "need to automate about my kubernetes application in order to keep it healthy and running smoothly and and you know",
    "start": "1530679",
    "end": "1538330"
  },
  {
    "text": "kind of creating that public cloud native experience of managing services",
    "start": "1538330",
    "end": "1544119"
  },
  {
    "text": "through a UI or whatever you're using to manage your your kubernetes services so",
    "start": "1544119",
    "end": "1551320"
  },
  {
    "text": "that's I think a really really nice thing and and really speaks to how using",
    "start": "1551320",
    "end": "1560769"
  },
  {
    "text": "ansible can make things easier and more accessible to more people in your IT organization to participate and",
    "start": "1560769",
    "end": "1568779"
  },
  {
    "text": "contribute in your cloud native systems okay so a drumroll here I'm going to do",
    "start": "1568779",
    "end": "1578009"
  },
  {
    "start": "1572000",
    "end": "1596000"
  },
  {
    "text": "try and do some show some examples and and do some live demos of what I've been talking about to give you a sense of",
    "start": "1578009",
    "end": "1584610"
  },
  {
    "text": "what's how this stuff works so you're right on schedule Oh excellent",
    "start": "1584610",
    "end": "1590590"
  },
  {
    "text": "and I've been ignoring my clock so that's that's Wow even impressed myself",
    "start": "1590590",
    "end": "1595720"
  },
  {
    "text": "right now yes I'm quite impressed as well yeah so so there's one question in",
    "start": "1595720",
    "end": "1600789"
  },
  {
    "start": "1596000",
    "end": "1966000"
  },
  {
    "text": "the chat that I'm going to try and answer alive while you getting set up here I attend Sood said",
    "start": "1600789",
    "end": "1605920"
  },
  {
    "text": "is one new controller created for each entry in a watch file with the ansible operator or just one controller for the",
    "start": "1605920",
    "end": "1613330"
  },
  {
    "text": "entire watch file I understand in one yet my understanding is this one",
    "start": "1613330",
    "end": "1618790"
  },
  {
    "text": "controller to the like entire watch file aka the entire operator equals one controller yes the one operator can be",
    "start": "1618790",
    "end": "1625960"
  },
  {
    "text": "watching multiple things correct attendant that does not answer your",
    "start": "1625960",
    "end": "1631810"
  },
  {
    "text": "question let me know do ansible based operators handle concurrency and the",
    "start": "1631810",
    "end": "1642490"
  },
  {
    "text": "sense of what yeah concurrency like go in the sense of like a programming language obviously not",
    "start": "1642490",
    "end": "1648430"
  },
  {
    "text": "because ansel is not a programming language let go but if you mean like executing multiple tasks at once it is",
    "start": "1648430",
    "end": "1655060"
  },
  {
    "text": "achievable and there's one question here",
    "start": "1655060",
    "end": "1660340"
  },
  {
    "text": "I got to reread while you're still getting set up let's follow up",
    "start": "1660340",
    "end": "1666450"
  },
  {
    "text": "this is my term window displaying yes it is it is you could increase the font like a little",
    "start": "1674340",
    "end": "1680800"
  },
  {
    "text": "bit they'd be great",
    "start": "1680800",
    "end": "1683250"
  },
  {
    "text": "looks good if anybody can't see you let me know handle multiple events to",
    "start": "1689140",
    "end": "1696910"
  },
  {
    "text": "reconcile yes Carlton I can't handle multiple events that can watch for multiple events to reconcile it creates",
    "start": "1696910",
    "end": "1703870"
  },
  {
    "text": "the CR D so you can have it essentially watch for it watches for any event to",
    "start": "1703870",
    "end": "1708880"
  },
  {
    "text": "happen on the group version of the kind for the CR D and then triggers as a",
    "start": "1708880",
    "end": "1717130"
  },
  {
    "text": "result so it doesn't you know multiple events and reconciliation loops okay",
    "start": "1717130",
    "end": "1726060"
  },
  {
    "text": "so I'm gonna keep moving on here since I hate typing life I've been running this",
    "start": "1726060",
    "end": "1733870"
  },
  {
    "text": "through so the first thing I'm going to do here in the foreign is show you how easy is and what's in a project when you",
    "start": "1733870",
    "end": "1741580"
  },
  {
    "text": "use the operator SDK to do a new so this is the line that you saw in my slides",
    "start": "1741580",
    "end": "1746950"
  },
  {
    "text": "just a couple minutes ago where we're doing the new I'm creating something called a null operator because it's not going to have anything in it but the",
    "start": "1746950",
    "end": "1753430"
  },
  {
    "text": "point here is to show you what you get when you initialize a project and so",
    "start": "1753430",
    "end": "1758950"
  },
  {
    "text": "it's of kind null and there's that type equals ansible at that point so if I run",
    "start": "1758950",
    "end": "1763990"
  },
  {
    "text": "that I get this input that comes out of all the things that created we're going to take a look at that so I now have",
    "start": "1763990",
    "end": "1772330"
  },
  {
    "text": "this directory loop here where we have a bill to deploy a molecule that's the",
    "start": "1772330",
    "end": "1779020"
  },
  {
    "text": "testing framework that I talked about we have a roles directory in the watches",
    "start": "1779020",
    "end": "1785590"
  },
  {
    "text": "file so let's take a quick tour here what's in there in the build we get a",
    "start": "1785590",
    "end": "1792880"
  },
  {
    "text": "docker file we also get a docker file in a shell script that helps you run your tests so when you're working locally and",
    "start": "1792880",
    "end": "1800470"
  },
  {
    "text": "trying to work this stuff out you have something there to you know to speed",
    "start": "1800470",
    "end": "1807640"
  },
  {
    "text": "things up under deploy we have a number of manifests that can",
    "start": "1807640",
    "end": "1814390"
  },
  {
    "text": "be used with kubernetes that gets built out for doing things like you know setting up your roll roll binding",
    "start": "1814390",
    "end": "1820570"
  },
  {
    "text": "service account and also the the CR D and the custom resource itself so you",
    "start": "1820570",
    "end": "1825730"
  },
  {
    "text": "could just feed them right into cube control and get something up and running very quickly here and then I'll show you",
    "start": "1825730",
    "end": "1836020"
  },
  {
    "text": "what's under the role so any of you that are familiar with ansible you see you",
    "start": "1836020",
    "end": "1841179"
  },
  {
    "text": "have what looks like a starter role here of something that you can write your",
    "start": "1841179",
    "end": "1847899"
  },
  {
    "text": "casts in you can add your default variables or any internal variables or templates or whatever it is that you're",
    "start": "1847899",
    "end": "1853059"
  },
  {
    "text": "doing it's already created out a skeleton of a role for you to do your",
    "start": "1853059",
    "end": "1858549"
  },
  {
    "text": "automation and so you don't have to create that yourself so again it's trying to make it really easy for you",
    "start": "1858549",
    "end": "1863649"
  },
  {
    "text": "and then we have the watch's file here that it generated for so we see the",
    "start": "1863649",
    "end": "1869289"
  },
  {
    "text": "group group version kind based on the the input that we gave it and then we",
    "start": "1869289",
    "end": "1874990"
  },
  {
    "text": "see that it is calling the role null that it created for us again you could",
    "start": "1874990",
    "end": "1881500"
  },
  {
    "text": "this is just a starter so you can add more entries to the questions that were being asked to have habit watching",
    "start": "1881500",
    "end": "1888960"
  },
  {
    "text": "multiple resources and calling you could have multiple role you could add multiple roles for your operators or",
    "start": "1888960",
    "end": "1895750"
  },
  {
    "text": "different play books you have a lot of flexibility at that point a lot of power of ansible in that and some of some of",
    "start": "1895750",
    "end": "1902440"
  },
  {
    "text": "the things that we've started internally working with is you have the entire power functionality of ansible here that",
    "start": "1902440",
    "end": "1910120"
  },
  {
    "text": "you can use one one prototype that was done internally was for ED CD and that",
    "start": "1910120",
    "end": "1915460"
  },
  {
    "text": "can do a backup and restore to s3 because it's using the s3 module that's",
    "start": "1915460",
    "end": "1920559"
  },
  {
    "text": "built into ansible to send it off the cluster and and you know store a backup",
    "start": "1920559",
    "end": "1926200"
  },
  {
    "text": "in an s3 bucket so something to consider this is definitely a bonus of using",
    "start": "1926200",
    "end": "1933340"
  },
  {
    "text": "ansible and you know you had the templating but then you have all those modules and all that functionality that",
    "start": "1933340",
    "end": "1938860"
  },
  {
    "text": "ansible has for uses outside of cloud native there all right so let me",
    "start": "1938860",
    "end": "1947690"
  },
  {
    "text": "see here let's move on to the next thing I'm not going to do a build here because",
    "start": "1947690",
    "end": "1953090"
  },
  {
    "text": "I think moving on to some of the other",
    "start": "1953090",
    "end": "1957640"
  },
  {
    "text": "material that I have here will be more interesting so see I should be back to",
    "start": "1958150",
    "end": "1963710"
  },
  {
    "text": "my slides now at least I hope so the next thing I'm going to show here is",
    "start": "1963710",
    "end": "1968780"
  },
  {
    "start": "1966000",
    "end": "2141000"
  },
  {
    "text": "deploy kubernetes application that has to be orchestrated and managing multiple",
    "start": "1968780",
    "end": "1976640"
  },
  {
    "text": "pods we've tried to keep as simple as possible just so you can follow along and get an idea of what's happening but",
    "start": "1976640",
    "end": "1986059"
  },
  {
    "text": "also get a sense of the power of operators and how ansible can help manage these type of things when you",
    "start": "1986059",
    "end": "1992900"
  },
  {
    "text": "need to coordinate multiple pods and services and things and what we've come up here with is a scalable caching",
    "start": "1992900",
    "end": "2000100"
  },
  {
    "text": "service and there are two components to it we're using memcache which has been around a really long time it's you know",
    "start": "2000100",
    "end": "2006850"
  },
  {
    "text": "it's general-purpose distributed memory caching system for database calls api's like said it's been around a while it's",
    "start": "2006850",
    "end": "2014170"
  },
  {
    "text": "very generic in nature it doesn't have a lot of fancy features like replication",
    "start": "2014170",
    "end": "2019540"
  },
  {
    "text": "and fall over and things like that it just so happens and I know this from experience because I was actually",
    "start": "2019540",
    "end": "2025179"
  },
  {
    "text": "somewhat involved in memcache community almost 20 years ago Facebook makes",
    "start": "2025179",
    "end": "2034690"
  },
  {
    "text": "extensive use of memcache to this day so they created a project called McGruder",
    "start": "2034690",
    "end": "2040300"
  },
  {
    "text": "and Makaurau terse it's in the front end it's a memcache protocol router and it can help scale memcache deployments in",
    "start": "2040300",
    "end": "2047170"
  },
  {
    "text": "that all type of extra distributed functionality like connection pooling flexible routing is a whole lot of",
    "start": "2047170",
    "end": "2053440"
  },
  {
    "text": "things you can do with it so what we're doing here is we're we've created this",
    "start": "2053440",
    "end": "2059618"
  },
  {
    "text": "caching service around these two components where we're going to have a Makaurau tur operator that we're going",
    "start": "2059619",
    "end": "2065050"
  },
  {
    "text": "to deploy and that is going to manage a single pod running Mik router and mccr",
    "start": "2065050",
    "end": "2070179"
  },
  {
    "text": "outer needs to know how many memcache nodes does it have in its pool and be",
    "start": "2070179",
    "end": "2075878"
  },
  {
    "text": "configured to know that so as things happen like scaling events or errors happen in a you",
    "start": "2075879",
    "end": "2083260"
  },
  {
    "text": "know memcache pod goes away or we scale",
    "start": "2083260",
    "end": "2088330"
  },
  {
    "text": "back up because we're you know we're thriving as a business and you know we have more data and we need more caching",
    "start": "2088330",
    "end": "2095159"
  },
  {
    "text": "capabilities and we add more that that",
    "start": "2095160",
    "end": "2100390"
  },
  {
    "text": "service Mik router knows about what is in its pool and is being adjusted for",
    "start": "2100390",
    "end": "2106680"
  },
  {
    "text": "dynamically on the cluster as these events are happening there's no need to go in and manually reconfigure Makaurau",
    "start": "2106680",
    "end": "2113740"
  },
  {
    "text": "der for what it has to work with and this will happen within seconds of each other so with that I'm going to move",
    "start": "2113740",
    "end": "2121750"
  },
  {
    "text": "back to [Music] going to move back to my my terminal",
    "start": "2121750",
    "end": "2132040"
  },
  {
    "text": "sorry struggling with my multitasking right now",
    "start": "2132040",
    "end": "2137338"
  },
  {
    "text": "okay sorry that's why trying to be here and filling in that",
    "start": "2139400",
    "end": "2145050"
  },
  {
    "text": "air so I think I've got all the questions answered if you feel like your",
    "start": "2145050",
    "end": "2150840"
  },
  {
    "text": "question is not answered please react or rephrase if you feel like I've dismissed",
    "start": "2150840",
    "end": "2157080"
  },
  {
    "text": "your question unnecessarily I'm sorry this isn't a place to talk about github issues yeah so the I think one of the",
    "start": "2157080",
    "end": "2170640"
  },
  {
    "text": "questions that might be remaining I understand that you can use ansible to manage gates clusters like queue cuttle",
    "start": "2170640",
    "end": "2176640"
  },
  {
    "text": "yes you can yes the case module can allow you to do that you can you know",
    "start": "2176640",
    "end": "2182340"
  },
  {
    "text": "Tim showed earlier in the presentation using the ants will look up plugin to deploy you know any kind of Cooper day's",
    "start": "2182340",
    "end": "2189210"
  },
  {
    "text": "resource via you know you know lookups",
    "start": "2189210",
    "end": "2193520"
  },
  {
    "text": "but you know there's probably some edge cases where the you know module and cube",
    "start": "2194300",
    "end": "2203010"
  },
  {
    "text": "cuddle might be out of sync right version wise so that's always possible but edge case again we're not saying",
    "start": "2203010",
    "end": "2212910"
  },
  {
    "text": "ansible can replace or insula should replace it's just yes it's there you know but the case module exists to make",
    "start": "2212910",
    "end": "2219630"
  },
  {
    "text": "things like the ants will operator possible right but this is something I",
    "start": "2219630",
    "end": "2226560"
  },
  {
    "text": "was just working on this is still something that we're building up I do have some of that sort of cube cuddle",
    "start": "2226560",
    "end": "2235800"
  },
  {
    "text": "replacement to to show the use of templating here and reusability yeah",
    "start": "2235800",
    "end": "2241320"
  },
  {
    "text": "absolutely like I love to use ansible for templating like a lot of ktml right like if I need to change like I use",
    "start": "2241320",
    "end": "2249410"
  },
  {
    "text": "ansible variables to manage resource limits like a lot just because I'm",
    "start": "2249410",
    "end": "2254610"
  },
  {
    "text": "always tweaking those so like each application will have one big group bar and I'll manage it like that okay okay",
    "start": "2254610",
    "end": "2263520"
  },
  {
    "text": "cool well I'm gonna I'm gonna move ahead and and we can come back to more",
    "start": "2263520",
    "end": "2268890"
  },
  {
    "text": "questions hopefully I get I get through this without incident so what I have running here on my",
    "start": "2268890",
    "end": "2275100"
  },
  {
    "text": "macbook is mini cube and that's all up and running and looking great and actually what I should have done is show",
    "start": "2275100",
    "end": "2282579"
  },
  {
    "text": "you that I have nothing nothing up my sleeve so to speak here and nothing's",
    "start": "2282579",
    "end": "2291460"
  },
  {
    "text": "there right now so great let's give it something to do so what I did here is",
    "start": "2291460",
    "end": "2302440"
  },
  {
    "text": "just to speed up the time is I've taken a lot of the the roll roll binding",
    "start": "2302440",
    "end": "2307869"
  },
  {
    "text": "service account deployment files that were generated and I put them into one",
    "start": "2307869",
    "end": "2312970"
  },
  {
    "text": "file here Mik router operator I'm gonna run that here and now we've created the",
    "start": "2312970",
    "end": "2318190"
  },
  {
    "text": "custom resource definition the role the role bonding all that stuff I just said here so if I go back actually what I",
    "start": "2318190",
    "end": "2325720"
  },
  {
    "text": "should have done is this alright that's",
    "start": "2325720",
    "end": "2331990"
  },
  {
    "text": "a little more readable there you go we now see that just by running that it's deployed the operator so now our",
    "start": "2331990",
    "end": "2339040"
  },
  {
    "text": "operators out there it's waiting for something to do so at this point what I",
    "start": "2339040",
    "end": "2346510"
  },
  {
    "text": "can do is let me see here I'm trying to remember where I put things on my machine ok yes so",
    "start": "2346510",
    "end": "2357210"
  },
  {
    "text": "I actually should have shown you what's in this here so what I do is I created a file ahead of time and all I did here",
    "start": "2364300",
    "end": "2373390"
  },
  {
    "text": "was I added the a custom resource Colma",
    "start": "2373390",
    "end": "2379840"
  },
  {
    "text": "Crowder I given it the name my cache service default namespace is going to",
    "start": "2379840",
    "end": "2386440"
  },
  {
    "text": "have a memcache pool size of two pool size is replicated instead of sharded that was something I built in so that I",
    "start": "2386440",
    "end": "2393849"
  },
  {
    "text": "can control what what type of pool setup I'm using so what I'm gonna do now is",
    "start": "2393849",
    "end": "2402630"
  },
  {
    "text": "use that file to deploy things and what",
    "start": "2403440",
    "end": "2408970"
  },
  {
    "text": "I get when I do that is oh what'd I just",
    "start": "2408970",
    "end": "2414160"
  },
  {
    "text": "do where'd it go all right there cuz they needed a second all right so just",
    "start": "2414160",
    "end": "2419770"
  },
  {
    "text": "by creating that custom resource that one API call we now see that we have a",
    "start": "2419770",
    "end": "2427530"
  },
  {
    "text": "McGruder instance up there which is which is that first my cache service",
    "start": "2427859",
    "end": "2433570"
  },
  {
    "text": "there the second line the second pod that's listed there and I got to memcache nodes that came up right away",
    "start": "2433570",
    "end": "2440140"
  },
  {
    "text": "and it created all the necessary services and deployment and replica sets out there to make this stuff work and",
    "start": "2440140",
    "end": "2447640"
  },
  {
    "text": "run so now we have an entire caching service ready to go now let's see here",
    "start": "2447640",
    "end": "2454960"
  },
  {
    "text": "if I can get a little fancy into some of the questions that were put out there",
    "start": "2454960",
    "end": "2460330"
  },
  {
    "text": "what I took was trying to do earlier today is I started creating a playbook",
    "start": "2460330",
    "end": "2467020"
  },
  {
    "text": "to template eyes that last step that you saw here so what what I did was I",
    "start": "2467020",
    "end": "2472900"
  },
  {
    "text": "created a I took that file and I put in Jinja two templates of variables in",
    "start": "2472900",
    "end": "2480550"
  },
  {
    "text": "there so I can control things and I could roll out multiple of these cache servers services under different names",
    "start": "2480550",
    "end": "2487990"
  },
  {
    "text": "or namespaces or give it different pool sizes so let's in this case try and do increase the",
    "start": "2487990",
    "end": "2495940"
  },
  {
    "text": "size of the pool so I'm just going to do this in the command line you could have done this using something like ansible",
    "start": "2495940",
    "end": "2504160"
  },
  {
    "text": "tower or there's a whole bunch of other ways I could have been feeding us in but for simplicity I'm using the command",
    "start": "2504160",
    "end": "2512230"
  },
  {
    "text": "line so I have ansible running on my machine I'm going to call the play book",
    "start": "2512230",
    "end": "2517620"
  },
  {
    "text": "that I wrote and I'm going to tell it to give me a pool size of pool size of",
    "start": "2517620",
    "end": "2528820"
  },
  {
    "text": "three will do let's see here if I get this right",
    "start": "2528820",
    "end": "2534570"
  },
  {
    "text": "so our playbook just ran and now we see",
    "start": "2534970",
    "end": "2542950"
  },
  {
    "text": "ooh duh I probably got the variable wrong",
    "start": "2542950",
    "end": "2550569"
  },
  {
    "text": "back here oh right I know what I did",
    "start": "2550569",
    "end": "2563670"
  },
  {
    "text": "forgot that that's more like it all right there's the feedback that",
    "start": "2566130",
    "end": "2572369"
  },
  {
    "text": "something changed when I ran that command so if I do that now we see I have a third memcache node came up and",
    "start": "2572369",
    "end": "2582810"
  },
  {
    "text": "BIC routers been informed that it now has a third memcache node to work with in its pool",
    "start": "2582810",
    "end": "2589780"
  },
  {
    "text": "one of the and this is a this is a generic thing about I should have mentioned about operators in general not",
    "start": "2589780",
    "end": "2596260"
  },
  {
    "text": "just with ansible here but it can really help you enforce policy so if you are like we need three nodes in memcache and",
    "start": "2596260",
    "end": "2604150"
  },
  {
    "text": "someone comes along and is doing things manually and doing things that they",
    "start": "2604150",
    "end": "2609310"
  },
  {
    "text": "probably shouldn't be doing what happens is that this can help enforce that so",
    "start": "2609310",
    "end": "2616599"
  },
  {
    "text": "let's say I kill someone I'm you know not following policy I'm an operator and",
    "start": "2616599",
    "end": "2622180"
  },
  {
    "text": "I go in there and I decide I want to take down a pod at this point what",
    "start": "2622180",
    "end": "2628329"
  },
  {
    "text": "happens is the operator is monitoring and says hey I'm supposed to have three",
    "start": "2628329",
    "end": "2634079"
  },
  {
    "text": "memcache nodes in my pool that's the policy here what happens is is that we",
    "start": "2634079",
    "end": "2639940"
  },
  {
    "text": "see that the the pod the the one that",
    "start": "2639940",
    "end": "2646359"
  },
  {
    "text": "was in that I deleted was brought right back up by the by the operator that's",
    "start": "2646359",
    "end": "2654640"
  },
  {
    "text": "out there so if we so that's that's an",
    "start": "2654640",
    "end": "2661150"
  },
  {
    "text": "operator in action let me see if I can take a little bit further I guess we have some time for this right Chris sir",
    "start": "2661150",
    "end": "2668590"
  },
  {
    "text": "yeah it's 48 so you got about 12 minutes left okay so let's say I need to deploy",
    "start": "2668590",
    "end": "2675910"
  },
  {
    "text": "another one here so I'm gonna do one called CN CF cache and I need to quickly roll out a separate caching server for",
    "start": "2675910",
    "end": "2682450"
  },
  {
    "text": "whatever reasons we decided we want to segment this and have you know the one that we already put up but we need",
    "start": "2682450",
    "end": "2687910"
  },
  {
    "text": "another one so I'm going to create one CN CF cache at this point and this is",
    "start": "2687910",
    "end": "2693040"
  },
  {
    "text": "going to run and give it a second did I",
    "start": "2693040",
    "end": "2701910"
  },
  {
    "text": "there we go we now see that we are getting these CN CF services coming up",
    "start": "2702360",
    "end": "2709630"
  },
  {
    "text": "and now we've been able to repeatably very quickly rolled out a new instance",
    "start": "2709630",
    "end": "2716410"
  },
  {
    "text": "of our service so we're seeing all of the in this case I didn't change the pool size so we got the default of two",
    "start": "2716410",
    "end": "2723550"
  },
  {
    "text": "memcache nodes coming right up and you know it's created the deployment and the",
    "start": "2723550",
    "end": "2729100"
  },
  {
    "text": "service for that that memcache and again this is all just using the basic template ansible allows for in order to",
    "start": "2729100",
    "end": "2737490"
  },
  {
    "text": "very quickly adjust and redeploy in a repeatable way what we're doing on our",
    "start": "2737490",
    "end": "2744780"
  },
  {
    "text": "what we're doing on our cluster and then",
    "start": "2744780",
    "end": "2750100"
  },
  {
    "text": "let's say the last thing I will show is let's say okay we use that we want to",
    "start": "2750100",
    "end": "2755260"
  },
  {
    "text": "get rid of it I created a variable called state and if I change that to",
    "start": "2755260",
    "end": "2762370"
  },
  {
    "text": "absent that should then bring down the stack",
    "start": "2762370",
    "end": "2768990"
  },
  {
    "text": "so we see now it's you see things have already disappeared and it's terminating all all the parts of that application",
    "start": "2772500",
    "end": "2779670"
  },
  {
    "text": "service that we had out there okay so",
    "start": "2779670",
    "end": "2786270"
  },
  {
    "text": "with that I'm going to pause and see if there are any questions out there Chris",
    "start": "2786270",
    "end": "2791670"
  },
  {
    "text": "so I fired about off a bunch of answers I'm not sure if they're fully qualified answers at this point so let's just run",
    "start": "2791670",
    "end": "2797550"
  },
  {
    "text": "back through them real quick so the contents of the playbook that you just ran yes",
    "start": "2797550",
    "end": "2803160"
  },
  {
    "text": "so think can you show the playbook oh yes sorry I skipped that I didn't mean to no that's fine I think there's",
    "start": "2803160",
    "end": "2809490"
  },
  {
    "text": "someone someone just asked that's it",
    "start": "2809490",
    "end": "2815430"
  },
  {
    "text": "there so I could have wrote this a little more elegantly I'm just running",
    "start": "2815430",
    "end": "2821250"
  },
  {
    "start": "2816000",
    "end": "2961000"
  },
  {
    "text": "it on my local host and I'm calling I only one task in this case it could have been a lot more and there are examples",
    "start": "2821250",
    "end": "2827010"
  },
  {
    "text": "of it having more I'm calling the Cates",
    "start": "2827010",
    "end": "2832680"
  },
  {
    "text": "module there I have the state where I'm that variable that I used in the last",
    "start": "2832680",
    "end": "2838710"
  },
  {
    "text": "step and then I'm calling the template file that I had and feeding that in as",
    "start": "2838710",
    "end": "2845880"
  },
  {
    "text": "the definition that goes off to the the Cates API so it was a pretty pretty small basic playbook I could have done",
    "start": "2845880",
    "end": "2853770"
  },
  {
    "text": "more for if it necessitated it but in this case one task was enough yeah I",
    "start": "2853770",
    "end": "2860310"
  },
  {
    "text": "think you know I I think I said this every time you and I have been the same room together talking about this one of",
    "start": "2860310",
    "end": "2867599"
  },
  {
    "text": "the hardest problems we have in demonstrating operators in general is that like we're trying to do something",
    "start": "2867599",
    "end": "2872760"
  },
  {
    "text": "that managers state and potentially like status and all these other different things but package it up into this tiny",
    "start": "2872760",
    "end": "2879210"
  },
  {
    "text": "little demo and that's oftentimes very hard to do even we did a workshop at ansible fest a couple weeks ago it was",
    "start": "2879210",
    "end": "2885570"
  },
  {
    "text": "you know a full-day workshop and we still used the same crowd or example because explaining the entire concept",
    "start": "2885570",
    "end": "2891900"
  },
  {
    "text": "and then demoing it is cumbersome to package in such a way that is yeah",
    "start": "2891900",
    "end": "2899240"
  },
  {
    "text": "demonstratable so one more follow up question here or a couple more so",
    "start": "2899240",
    "end": "2905590"
  },
  {
    "text": "how does the operator come into play in the delete pod example the stateful set controller would recreate that pod",
    "start": "2905590",
    "end": "2910690"
  },
  {
    "text": "without the operator so I don't think I quite understand the question perfectly",
    "start": "2910690",
    "end": "2916150"
  },
  {
    "text": "yeah do you by chance yeah well it's it's",
    "start": "2916150",
    "end": "2921220"
  },
  {
    "text": "that the replication set would know right bring the pod back up itself to so yeah I guess what I should have done is",
    "start": "2921220",
    "end": "2929320"
  },
  {
    "text": "changed the I think if I would have changed the replications that the",
    "start": "2929320",
    "end": "2934570"
  },
  {
    "text": "operator would have kicked in to snap it back to what it should have been that",
    "start": "2934570",
    "end": "2939940"
  },
  {
    "text": "probably would have been the I believe the the more accurate demo yeah",
    "start": "2939940",
    "end": "2947710"
  },
  {
    "text": "so okay so here's some good ones where are the parameters stored that you",
    "start": "2947710",
    "end": "2952900"
  },
  {
    "text": "changed with the playbook right like you've got your variables here where do you have those far stored right now and",
    "start": "2952900",
    "end": "2958540"
  },
  {
    "text": "this playbook so I think what they mean",
    "start": "2958540",
    "end": "2963760"
  },
  {
    "start": "2961000",
    "end": "3031000"
  },
  {
    "text": "is like in this case I'm just feeding I was speeding them in through the command line I could have put them in a file",
    "start": "2963760",
    "end": "2969640"
  },
  {
    "text": "that was checked into to github and fed them into the playbook for example or if",
    "start": "2969640",
    "end": "2975070"
  },
  {
    "text": "you were using something like you know plug at aw expert hour you could have",
    "start": "2975070",
    "end": "2980560"
  },
  {
    "text": "put that you could have built them right into the job template itself so there are a number of different places you",
    "start": "2980560",
    "end": "2986620"
  },
  {
    "text": "could have done it in this case I was just doing it right on the command line and then I used a lot of the default",
    "start": "2986620",
    "end": "2992770"
  },
  {
    "text": "filter that it's built into Jinja - so",
    "start": "2992770",
    "end": "2998050"
  },
  {
    "text": "let me see here oh yeah in theory you can store these in a group VARs file like you write it in an answerable role",
    "start": "2998050",
    "end": "3004220"
  },
  {
    "text": "you can also identify them as config maps I think yeah I think that somehow",
    "start": "3004220",
    "end": "3012470"
  },
  {
    "text": "expanded to config map for your group maybe maybe yeah yeah I haven't even",
    "start": "3012470",
    "end": "3019350"
  },
  {
    "text": "asked I so I think and you know I'm thinking so I'm like motion ansible term",
    "start": "3019350",
    "end": "3024450"
  },
  {
    "text": "bridging both worlds right now so I haven't thought about that but I will definitely like go back to our team and be like hey is this possible yeah yeah",
    "start": "3024450",
    "end": "3031980"
  },
  {
    "start": "3031000",
    "end": "3281000"
  },
  {
    "text": "and so what I have here is like I highlighted one of the areas where I had a default so if I don't set that",
    "start": "3031980",
    "end": "3038340"
  },
  {
    "text": "variable it'll default to my cash service if I would have taken a little bit more time",
    "start": "3038340",
    "end": "3044579"
  },
  {
    "text": "and I probably should I could have created us as a role and use the defaults file in there or var file in",
    "start": "3044579",
    "end": "3051089"
  },
  {
    "text": "there to make this template a little less verbose itself and also make that",
    "start": "3051089",
    "end": "3056790"
  },
  {
    "text": "easier to edit in the future especially if I had a lot of different defaults this is a pretty simple definition but",
    "start": "3056790",
    "end": "3063839"
  },
  {
    "text": "you could see ones that could have dozens of parameters and then you know II better off in a separate file so",
    "start": "3063839",
    "end": "3069510"
  },
  {
    "text": "Lucas is asking can you give any examples for open source operators that are using ansible right now",
    "start": "3069510",
    "end": "3075599"
  },
  {
    "text": "operator hub at i/o I think has one yeah I'm trying to think of other ones that",
    "start": "3075599",
    "end": "3080940"
  },
  {
    "text": "are out in awhile that are open source yeah well there there's yeah this is",
    "start": "3080940",
    "end": "3087780"
  },
  {
    "text": "something that we're working on and yeah I'm trying to think right like ansible in the operator sdk is fairly new right",
    "start": "3087780",
    "end": "3093329"
  },
  {
    "text": "so just the the the the presence of it is within the past year I mean we just",
    "start": "3093329",
    "end": "3098970"
  },
  {
    "text": "started it when I joined Red Hat last June so yeah so yeah I mean this is",
    "start": "3098970",
    "end": "3105049"
  },
  {
    "text": "relatively brand-new stuff so the fact that is not in like production use cases or you know open source use cases is not",
    "start": "3105049",
    "end": "3112170"
  },
  {
    "text": "surprising because we have done like just recently started the talking about",
    "start": "3112170",
    "end": "3118619"
  },
  {
    "text": "it if the essence so right Lucas does point out the operator framework cousin how",
    "start": "3118619",
    "end": "3124349"
  },
  {
    "text": "some operators repo I just found that the other day I didn't of examples just",
    "start": "3124349",
    "end": "3133140"
  },
  {
    "text": "say you remind you know the this question reminded me the the question from Lucas remind me that I had a couple more slides here yeah definitely check",
    "start": "3133140",
    "end": "3139950"
  },
  {
    "text": "out operator how I oh this is just ready to use operators that have been put out",
    "start": "3139950",
    "end": "3145440"
  },
  {
    "text": "there by the community they're not necessarily by ansible I think a lot of them are actually golang but but still",
    "start": "3145440",
    "end": "3151440"
  },
  {
    "text": "it's something you should be made aware of and also as you create your own is that you could contribute them here the",
    "start": "3151440",
    "end": "3158400"
  },
  {
    "text": "other couple other things to mention is for those of you looking for more information some of these links already",
    "start": "3158400",
    "end": "3164520"
  },
  {
    "text": "had in there there's ansible comm slash operators is a good jumping-off page to other resources and then also there's",
    "start": "3164520",
    "end": "3172920"
  },
  {
    "text": "the or framework getting started guide that's out there and yeah here here's a",
    "start": "3172920",
    "end": "3182500"
  },
  {
    "text": "couple more resources for you to look at I need to update this with the once I published them a crowd or one that I've",
    "start": "3182500",
    "end": "3188799"
  },
  {
    "text": "been using here to one of our you know",
    "start": "3188799",
    "end": "3194770"
  },
  {
    "text": "group repose but there is an Etsy operator that's that was done by our",
    "start": "3194770",
    "end": "3200950"
  },
  {
    "text": "team when they were developing the operator SDK to validate how far can we push this thing as this thing as feature",
    "start": "3200950",
    "end": "3207160"
  },
  {
    "text": "complete as we want it to be and if you're looking for another simple operator very you know the related to",
    "start": "3207160",
    "end": "3216040"
  },
  {
    "text": "what we were just doing there's a memcache operator that you can find here under the operator framework",
    "start": "3216040",
    "end": "3222839"
  },
  {
    "text": "organization we hope to put more examples out there it's something that I need to work on yes so all these talks",
    "start": "3222839",
    "end": "3232420"
  },
  {
    "text": "yeah we just started the work to contribute operator framework to CN CF",
    "start": "3232420",
    "end": "3237700"
  },
  {
    "text": "as an incubator project so there's a lot of work going into this kind of all at once yeah so yeah there's there's",
    "start": "3237700",
    "end": "3244059"
  },
  {
    "text": "there's much much much more to be done so some questions going back to your Jim",
    "start": "3244059",
    "end": "3250630"
  },
  {
    "text": "can you delete the deployment instead of the pod so that the actual operator gets",
    "start": "3250630",
    "end": "3258579"
  },
  {
    "text": "recreated or recreates the pods archives me terminals back let's see in ansible",
    "start": "3258579",
    "end": "3267069"
  },
  {
    "text": "can you filter for specific events and the watch's file yes yeah I did that one live that was easy",
    "start": "3267069",
    "end": "3273549"
  },
  {
    "text": "so yeah you can filter for any of those things with ansible there's a number of",
    "start": "3273549",
    "end": "3279880"
  },
  {
    "text": "features in watches in the watch's file you can do like finalized errs to that I",
    "start": "3279880",
    "end": "3285549"
  },
  {
    "start": "3281000",
    "end": "3440000"
  },
  {
    "text": "didn't go over but if you go and look at the documentation under the operator SDK",
    "start": "3285549",
    "end": "3291970"
  },
  {
    "text": "in the ansible section you'll see more options there we were looking so",
    "start": "3291970",
    "end": "3301390"
  },
  {
    "text": "someone's asking for examples of upgrading memcache versions I would say like there's tons of examples",
    "start": "3301390",
    "end": "3307040"
  },
  {
    "text": "of upgrading memcache on ansible galaxy galaxy Ansel com",
    "start": "3307040",
    "end": "3312080"
  },
  {
    "text": "that is the place for people to share roles and you can take those roles and then reuse them in your ansible operator",
    "start": "3312080",
    "end": "3319450"
  },
  {
    "text": "and that would be just close the Q&A window that would be the best way to like figure out how to do that with an",
    "start": "3319450",
    "end": "3326210"
  },
  {
    "text": " operator because I don't have an example to do that right now yes and that's dumb",
    "start": "3326210",
    "end": "3333730"
  },
  {
    "text": "[Music] how do kate secrets and Ansel vault secrets",
    "start": "3333730",
    "end": "3339200"
  },
  {
    "text": "play along together they really don't they're kind of two different things you",
    "start": "3339200",
    "end": "3345410"
  },
  {
    "text": "can use them both in this use case but I would recommend sticking with the Kate's secrets for now and using those inside",
    "start": "3345410",
    "end": "3352700"
  },
  {
    "text": "your cluster as opposed to trying to expand in sablevulpe things on the floor yeah all right let me I'm gonna give",
    "start": "3352700",
    "end": "3359720"
  },
  {
    "text": "this a whirl here and try to delete the CN CF cache deployment and the operators",
    "start": "3359720",
    "end": "3365930"
  },
  {
    "text": "should bring that back let me see here",
    "start": "3365930",
    "end": "3371589"
  },
  {
    "text": "I've never tried this before so this should be really interesting there it is",
    "start": "3372070",
    "end": "3379700"
  },
  {
    "text": "came back so all right you so I really",
    "start": "3379700",
    "end": "3385940"
  },
  {
    "text": "like we need multi-threaded Q&A and zoom but we are at the top of the hour yeah everybody I'm very sorry if I didn't get",
    "start": "3385940",
    "end": "3392119"
  },
  {
    "text": "to your questions please feel free to reach out to Tim or myself Twitter",
    "start": "3392119",
    "end": "3399890"
  },
  {
    "text": "github email and we will be sharing this webinar at CNCs that IO slash webinars",
    "start": "3399890",
    "end": "3408109"
  },
  {
    "text": "and come see us at cube con ya comes you will be in I'll be in the Red Hat booth",
    "start": "3408109",
    "end": "3413960"
  },
  {
    "text": "presenting I also be presenting at the was at the cloud native rejects conference the weekend before Q Khan yes",
    "start": "3413960",
    "end": "3421520"
  },
  {
    "text": "I will also be at Q Khan as well we look forward to seeing all of you at the next",
    "start": "3421520",
    "end": "3427340"
  },
  {
    "text": "CN CF webinar thanks for joining us today have a good one thanks everyone",
    "start": "3427340",
    "end": "3432790"
  },
  {
    "text": "you",
    "start": "3434299",
    "end": "3436359"
  }
]