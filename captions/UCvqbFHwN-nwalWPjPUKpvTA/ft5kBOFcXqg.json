[
  {
    "text": "yeah so uh yeah so welcome everyone to our bi-weekly meeting today we have um",
    "start": "399",
    "end": "6480"
  },
  {
    "text": "abdullah from google uh presenting the work",
    "start": "6480",
    "end": "11920"
  },
  {
    "text": "that has been done on uh supporting kubernetes native job queueing maybe abdullah maybe you can also just",
    "start": "11920",
    "end": "18960"
  },
  {
    "text": "briefly introduce the the batch working group and the work that has been put there uh briefly because",
    "start": "18960",
    "end": "26560"
  },
  {
    "text": "kind of on topic if you if you can say a couple of words uh",
    "start": "26560",
    "end": "31679"
  },
  {
    "text": "the the link has been circulated but just just to put it in context as well yeah otherwise i suggest uh like we",
    "start": "31679",
    "end": "38559"
  },
  {
    "text": "listen to uh abdullah and then we should have plenty of time for discussion this should be a good one",
    "start": "38559",
    "end": "45440"
  },
  {
    "text": "okay um sorry yeah this this camera this this is the one that's working this",
    "start": "45440",
    "end": "51920"
  },
  {
    "text": "one is now um yeah thank you for having me uh so i'm abdullah uh i'm a contributor to",
    "start": "51920",
    "end": "59039"
  },
  {
    "text": "kubernetes i'm a co-chair of sex scheduling and a recent",
    "start": "59039",
    "end": "64559"
  },
  {
    "text": "working group that's been formed called badge working group but then within kubernetes",
    "start": "64559",
    "end": "70880"
  },
  {
    "text": "i work for google again part of the gte team",
    "start": "70880",
    "end": "76240"
  },
  {
    "text": "uh within google and focused on batch as well um so as ricardo mentioned",
    "start": "76240",
    "end": "82400"
  },
  {
    "text": "a couple months ago or a month ago we proposed to form a new working group with 10 kubernetes",
    "start": "82400",
    "end": "88960"
  },
  {
    "text": "um to focus on that and um",
    "start": "88960",
    "end": "94479"
  },
  {
    "text": "uh reduce the fragmentation on efforts related to batch workloads within core",
    "start": "94479",
    "end": "100320"
  },
  {
    "text": "kubernetes um and try to make batch kind of a first class citizen",
    "start": "100320",
    "end": "106479"
  },
  {
    "text": "of of kubernetes we feel that until recently bad has been a guest on the platform more than it hasn't been a home",
    "start": "106479",
    "end": "113759"
  },
  {
    "text": "like services and so we want to try to push that use case uh forward um",
    "start": "113759",
    "end": "120880"
  },
  {
    "text": "so the goal of the uh working group is like based on the charter that we've",
    "start": "120880",
    "end": "126640"
  },
  {
    "text": "agreed on is threefold one is to enhance uh come up with like",
    "start": "126640",
    "end": "132560"
  },
  {
    "text": "reasonable apis to start um jobs we already have an api job api but we're",
    "start": "132560",
    "end": "138480"
  },
  {
    "text": "looking to improve uh its capabilities uh reliability scalability aspects uh its applicability",
    "start": "138480",
    "end": "146560"
  },
  {
    "text": "to various types of patch workloads how can be reused for example um to reduce",
    "start": "146560",
    "end": "153440"
  },
  {
    "text": "uh the fragmentation we have in the community in building uh job apis for example how can we run mpi workloads on",
    "start": "153440",
    "end": "160480"
  },
  {
    "text": "top of the job api how can we run uh tensorflow like reinforcement learning",
    "start": "160480",
    "end": "165599"
  },
  {
    "text": "uh workloads on top of it so that's one pillar the second pillar is uh job level management um",
    "start": "165599",
    "end": "173680"
  },
  {
    "text": "most of the components within uh kubernetes they are kind of like",
    "start": "173680",
    "end": "178720"
  },
  {
    "text": "podcentric whether that being like the scheduler or the auto scaler uh even quotas um",
    "start": "178720",
    "end": "186319"
  },
  {
    "text": "like it mostly works at the pod level and this is this does not lend itself well to",
    "start": "186319",
    "end": "192480"
  },
  {
    "text": "jobs and batch workloads in general which most of the time you want to manage the whole job not just like a",
    "start": "192480",
    "end": "199200"
  },
  {
    "text": "single pod um and so and this is part of what we propose i'll be discussing here as well",
    "start": "199200",
    "end": "205680"
  },
  {
    "text": "uh in in uh in this presentation in queue um the third pillar um",
    "start": "205680",
    "end": "212799"
  },
  {
    "text": "is mostly focused on um like hvc mostly on node level",
    "start": "212799",
    "end": "218239"
  },
  {
    "text": "um you know enhancements uh to use special accelerators uh special types of",
    "start": "218239",
    "end": "225360"
  },
  {
    "text": "hardware and how it works with the scheduling as well like normal aware scheduling or um like how do we",
    "start": "225360",
    "end": "232560"
  },
  {
    "text": "uh basically better use fpgas et cetera they have their own uses of like you",
    "start": "232560",
    "end": "237760"
  },
  {
    "text": "know resetting the fpga for before report can use it and and all these kinds of you",
    "start": "237760",
    "end": "243519"
  },
  {
    "text": "know hooks that allows uh special hardware to be better used",
    "start": "243519",
    "end": "248720"
  },
  {
    "text": "within the kubernetes ecosystem uh do you have any questions uh about",
    "start": "248720",
    "end": "254239"
  },
  {
    "text": "their working group um i thanks ricardo for posting uh",
    "start": "254239",
    "end": "260639"
  },
  {
    "text": "the the pr for the working group the charter has been merged",
    "start": "261359",
    "end": "267440"
  },
  {
    "text": "i can once and down i will also post links to the uh mailing list the slack",
    "start": "267440",
    "end": "272560"
  },
  {
    "text": "channel and the poll uh on like we're trying to decide on what time is going to be the",
    "start": "272560",
    "end": "278800"
  },
  {
    "text": "meeting uh it's probably going to be on a weekly or bi-weekly basis for one hour",
    "start": "278800",
    "end": "286560"
  },
  {
    "text": "i think on on that note last time i checked in with klaus i think i was the only person who'd",
    "start": "289120",
    "end": "295040"
  },
  {
    "text": "responded to the doodle so uh to try and pick the time if people are",
    "start": "295040",
    "end": "300400"
  },
  {
    "text": "interested in the conversation there is a channel in slack",
    "start": "300400",
    "end": "306400"
  },
  {
    "text": "or what is it called is it batch wg or wg batch wg batch it has several entries",
    "start": "306400",
    "end": "311919"
  },
  {
    "text": "now no no it's spanish wg batch dash wg is the one that i",
    "start": "311919",
    "end": "319120"
  },
  {
    "text": "think is www which is now the channel would then kubernetes for this working group is",
    "start": "319120",
    "end": "326560"
  },
  {
    "text": "that what you're referring to on cncf oh no no that's not i think we're",
    "start": "326560",
    "end": "331600"
  },
  {
    "text": "talking about two different things this is the kubernetes batch working group and then there's an initiative which is the cncf patch system initiative",
    "start": "331600",
    "end": "339520"
  },
  {
    "text": "and there will be some coordination to be done between the two but yeah okay he's talking about the kubernetes one",
    "start": "339520",
    "end": "344720"
  },
  {
    "text": "interesting we're all at the same point of uh yeah got it",
    "start": "344720",
    "end": "351440"
  },
  {
    "text": "yeah and it is like to your point one of the uh um",
    "start": "351440",
    "end": "357440"
  },
  {
    "text": "basically things that we're planning to do as well uh is to try and help defragment the",
    "start": "357440",
    "end": "362960"
  },
  {
    "text": "community try to reach out to cnc and that's what we're trying to do here as well presenting what we're planning to",
    "start": "362960",
    "end": "369039"
  },
  {
    "text": "discussing within core kubernetes uh to the larger community um",
    "start": "369039",
    "end": "375360"
  },
  {
    "text": "and make sure we're aligned in in our efforts",
    "start": "375360",
    "end": "380720"
  },
  {
    "text": "got it thanks so so without without derailing the discussion but can somebody like in a",
    "start": "380720",
    "end": "387520"
  },
  {
    "text": "couple of sentences see the difference between those two groups that you just mentioned the batch group in kubernetes and the",
    "start": "387520",
    "end": "393919"
  },
  {
    "text": "one in cncf yeah i think there's a difference so um i haven't",
    "start": "393919",
    "end": "400720"
  },
  {
    "text": "like i don't know about the cncf one i didn't read any charter or uh",
    "start": "400720",
    "end": "406720"
  },
  {
    "text": "about that group um but the kubernetes one is focused on core kubernetes enhancements like what",
    "start": "406720",
    "end": "413840"
  },
  {
    "text": "do we do with the core kubernetes um feature set to make it easier to run",
    "start": "413840",
    "end": "420880"
  },
  {
    "text": "batch workloads um and the people working on it are leads",
    "start": "420880",
    "end": "426800"
  },
  {
    "text": "in six within kubernetes so the working group is going to set recommendations or",
    "start": "426800",
    "end": "431840"
  },
  {
    "text": "how can we improve core kubernetes to a better ex to better execute batch workloads",
    "start": "431840",
    "end": "437759"
  },
  {
    "text": "the individual sigs like six scheduling sig apps uh uh auto scaler sig node will take on the",
    "start": "437759",
    "end": "445680"
  },
  {
    "text": "execution for these enhancements um and so that is uh that is the goal of",
    "start": "445680",
    "end": "453840"
  },
  {
    "text": "the kubernetes working group um but i can't speak too much about the",
    "start": "453840",
    "end": "460160"
  },
  {
    "text": "cncf one maybe i can i can i can say a couple of words we had a few discussions also in",
    "start": "460160",
    "end": "466800"
  },
  {
    "text": "the toc about this and and the goal is really to to try to promote uh progress in this area as much",
    "start": "466800",
    "end": "474479"
  },
  {
    "text": "as possible and this can happen in the kubernetes core like what abdullah was describing but there's quite a lot of",
    "start": "474479",
    "end": "480639"
  },
  {
    "text": "initiatives in other projects in the cncf that can have a different release cycle or focus than necessarily the",
    "start": "480639",
    "end": "488000"
  },
  {
    "text": "kubernetes core so the goal is really to see how how these two groups go try to align them as",
    "start": "488000",
    "end": "494560"
  },
  {
    "text": "much as possible because it there's little point if like the functionality gets into core it's probably good for",
    "start": "494560",
    "end": "500479"
  },
  {
    "text": "everyone to reuse it but to to maybe review this in six months one year and and see see how",
    "start": "500479",
    "end": "507280"
  },
  {
    "text": "things align better i don't know what everyone thinks but i guess",
    "start": "507280",
    "end": "512320"
  },
  {
    "text": "if you have any feedback the issues are posted in the chat so feel free to",
    "start": "512320",
    "end": "517599"
  },
  {
    "text": "push some feedback there the cncf work uh initiative is within the tag runtime",
    "start": "517599",
    "end": "525440"
  },
  {
    "text": "i would add also that there are things magical just also working",
    "start": "525920",
    "end": "531600"
  },
  {
    "text": "in gke in google we are also uh",
    "start": "531600",
    "end": "536800"
  },
  {
    "text": "like declaring a lot of very important things for much more approach as out of scope for the kubernetes group like we",
    "start": "536800",
    "end": "542640"
  },
  {
    "text": "know that component is there's no intent in kubernetes to handle workflow for workflows for example",
    "start": "542640",
    "end": "548399"
  },
  {
    "text": "uh and many other aspects of the job orchestration the experience of how you use",
    "start": "548399",
    "end": "554160"
  },
  {
    "text": "how the whole researcher or data scientist interacts with with the whole stack lower so",
    "start": "554160",
    "end": "560720"
  },
  {
    "text": "we indeed need to coordinate with the other between the two working groups but there",
    "start": "560720",
    "end": "565760"
  },
  {
    "text": "is a lot a lot of scope of work to be done that's way broader than kubernetes where there is there is a need for",
    "start": "565760",
    "end": "572080"
  },
  {
    "text": "leadership and coordination to drive it and it is declared as out of scope for the the kubernetes uh working group and",
    "start": "572080",
    "end": "578320"
  },
  {
    "text": "this working group wants to make sure that primitives related to kubernetes work very well with things outside and",
    "start": "578320",
    "end": "584000"
  },
  {
    "text": "like we we do need to work on drawing the lines and making sure it's well coordinated but",
    "start": "584000",
    "end": "589040"
  },
  {
    "text": "i lost what other things but i think it it makes sense to have like separate very focused and clearly defined uh",
    "start": "589040",
    "end": "595360"
  },
  {
    "text": "working streams and hello you'll be pleased to know that i added mcad to the charter that we drew",
    "start": "595360",
    "end": "602839"
  },
  {
    "text": "up uh for the the higher level cncf working group that's where we'll",
    "start": "602839",
    "end": "609279"
  },
  {
    "text": "talk about things like armada and volcano and mcad and how all of those",
    "start": "609279",
    "end": "615120"
  },
  {
    "text": "pieces how we should all be working together to uh on those pieces",
    "start": "615120",
    "end": "621279"
  },
  {
    "text": "a huge part of uh working together will be also watching and reacting and",
    "start": "621279",
    "end": "627279"
  },
  {
    "text": "contributing to what the kubernetes working group is doing as well because that will play into",
    "start": "627279",
    "end": "632959"
  },
  {
    "text": "our our all eventual aims but um but yeah there's",
    "start": "632959",
    "end": "638320"
  },
  {
    "text": "as we know a whole bunch of other pieces to think about like multi-cluster stuff and",
    "start": "638320",
    "end": "644320"
  },
  {
    "text": "uh and how we've all sold that so yeah those discussions can take place in the at the cncf working group that we're",
    "start": "644320",
    "end": "650320"
  },
  {
    "text": "trying to put together great great thank you and thank you for adding mcat to the list",
    "start": "650320",
    "end": "656480"
  },
  {
    "text": "so yeah i wouldn't forgive you i wouldn't forget you",
    "start": "656480",
    "end": "661839"
  },
  {
    "text": "sounds good um yeah with that said uh i'll",
    "start": "664320",
    "end": "669440"
  },
  {
    "text": "i'm here mostly like to present um q this is a new proposal that uh",
    "start": "669440",
    "end": "676240"
  },
  {
    "text": "a again like focus is on the second pillar i mentioned for patchworking group and within kubernetes which is",
    "start": "676240",
    "end": "681760"
  },
  {
    "text": "like job level management um within core kubernetes",
    "start": "681760",
    "end": "686839"
  },
  {
    "text": "um i mean the the idea here is",
    "start": "686839",
    "end": "692079"
  },
  {
    "text": "i want to start with discussion but this working or like this this audience is already aware of what what's the job and",
    "start": "692959",
    "end": "698560"
  },
  {
    "text": "how we define it um but quickly we're just thinking of jobs as computations that run to to completion and this",
    "start": "698560",
    "end": "705760"
  },
  {
    "text": "basically a group of pods that either run independently or like multicultural",
    "start": "705760",
    "end": "710800"
  },
  {
    "text": "simulations or collaboratively processes that like being an mpi job or even um",
    "start": "710800",
    "end": "716880"
  },
  {
    "text": "reinforcement learning job where you have you know uh",
    "start": "716880",
    "end": "722000"
  },
  {
    "text": "like workers and and drivers one important aspect here that we are focused on is the fact that jobs",
    "start": "722000",
    "end": "729279"
  },
  {
    "text": "sometimes are like it's a type of workload that is",
    "start": "729279",
    "end": "734399"
  },
  {
    "text": "often flexible on multiple dimensions either flexible on time when the job could start it's sometimes flexible flexible on",
    "start": "734399",
    "end": "741200"
  },
  {
    "text": "location uh like which zone it could it could it could run or even type of resources",
    "start": "741200",
    "end": "747440"
  },
  {
    "text": "um and types resources could be even like type of provisioning for example as a spot or or on demand or even or even",
    "start": "747440",
    "end": "755839"
  },
  {
    "text": "types of accelerators like uh whether it could run on gpu model x or y",
    "start": "755839",
    "end": "762000"
  },
  {
    "text": "um and the like on on-prem clusters they do",
    "start": "762000",
    "end": "767839"
  },
  {
    "text": "have flexibilities in one way or another but in the cloud this becomes even bigger",
    "start": "767839",
    "end": "774800"
  },
  {
    "text": "issue because you know in the cloud we have way too many types of resources",
    "start": "774800",
    "end": "781279"
  },
  {
    "text": "that users will look at to manage this trade-off between performance and coast",
    "start": "781279",
    "end": "786560"
  },
  {
    "text": "um and so this would be a forecast for us as well like it's a problem we want to solve",
    "start": "786560",
    "end": "792320"
  },
  {
    "text": "um and under the higher level what is job queueing or the type of job queueing we're looking at or how we define it's",
    "start": "792720",
    "end": "798560"
  },
  {
    "text": "basically what we're trying to do is to have mechanics and mechanisms to manage",
    "start": "798560",
    "end": "803600"
  },
  {
    "text": "access to a limited pool of resources shared like multiple tenants um",
    "start": "803600",
    "end": "808880"
  },
  {
    "text": "and basically what job queueing will do is decide which jobs should uh wait and",
    "start": "808880",
    "end": "814720"
  },
  {
    "text": "which can start now based on a number of constraints",
    "start": "814720",
    "end": "821440"
  },
  {
    "text": "and why do we need job queueing um again like on-prem this is clear you have static uh",
    "start": "821920",
    "end": "828639"
  },
  {
    "text": "and sometimes smaller scale clusters uh but on the cloud this is sometimes",
    "start": "828639",
    "end": "834639"
  },
  {
    "text": "less clear why do you need queuing in the cloud since i mean people sometimes think of it as like",
    "start": "834639",
    "end": "839920"
  },
  {
    "text": "infinitely scalable and and and can absorb every single workload you have that's not true",
    "start": "839920",
    "end": "845760"
  },
  {
    "text": "uh there are a number of aspects here one is utilizing discounts uh cloud",
    "start": "845760",
    "end": "851760"
  },
  {
    "text": "providers offer discounts if you pre declare how much resources you want",
    "start": "851760",
    "end": "857279"
  },
  {
    "text": "in google for example we have something called committed use discount you can pay for example",
    "start": "857279",
    "end": "863360"
  },
  {
    "text": "to use a number of core cores over over three years or one year period",
    "start": "863360",
    "end": "868959"
  },
  {
    "text": "and now that you've paid for them you always want to have them used and you don't want to use more than them and so",
    "start": "868959",
    "end": "874959"
  },
  {
    "text": "it's basically you've created your own static cluster within the cloud and you want to manage access to these",
    "start": "874959",
    "end": "880320"
  },
  {
    "text": "resources another thing is like users they have spending limits they",
    "start": "880320",
    "end": "885600"
  },
  {
    "text": "can't just keep create executing every single job that gets created",
    "start": "885600",
    "end": "890880"
  },
  {
    "text": "um they want to control their budgets and so they have spending limits um they also want to introduce pertinent",
    "start": "890880",
    "end": "897760"
  },
  {
    "text": "limits uh not like users the individual that run bad workloads are big organizations with",
    "start": "897760",
    "end": "904560"
  },
  {
    "text": "different research groups etc you want set limits pair pertinent even on the cloud and last but not least we have",
    "start": "904560",
    "end": "911040"
  },
  {
    "text": "cluster size limits like kubernetes itself can't scale infinitely in in gte",
    "start": "911040",
    "end": "916079"
  },
  {
    "text": "we do support up to 15 000 nodes um but again like many other and many other",
    "start": "916079",
    "end": "923360"
  },
  {
    "text": "instances you can't scale more than 5 000 or even 1 000 depending on your workload",
    "start": "923360",
    "end": "930000"
  },
  {
    "text": "so what exactly uh we think that users want from from from queueing i mean obviously",
    "start": "930720",
    "end": "937279"
  },
  {
    "text": "you want queuing jobs that don't fit existing capacity should just basically wait uh and execute when when capacity",
    "start": "937279",
    "end": "944399"
  },
  {
    "text": "becomes available um you want to have knobs where users can decide on execution order um you want knobs for",
    "start": "944399",
    "end": "952320"
  },
  {
    "text": "fair sharing of available capacity between multiple tenants um",
    "start": "952320",
    "end": "957839"
  },
  {
    "text": "also budgeting is not about all only how much resources you can use in specific point in time but also over a period of",
    "start": "957839",
    "end": "964160"
  },
  {
    "text": "time and also ability to set policies uh who can use which types of resources and up",
    "start": "964160",
    "end": "970880"
  },
  {
    "text": "to at limit um we have customers for example that they open the tab for their users to use preemptable or like spot",
    "start": "970880",
    "end": "978160"
  },
  {
    "text": "vms you can use as much as you want there as many jobs you can run but when using on demand you have a",
    "start": "978160",
    "end": "984639"
  },
  {
    "text": "specific limit or you can't use it at all same thing with gpus those are expensive",
    "start": "984639",
    "end": "989759"
  },
  {
    "text": "scarce resources give them to any tenant and last is flexible placement again",
    "start": "989759",
    "end": "997040"
  },
  {
    "text": "across different resource types and location and time when you have your job submitted to the",
    "start": "997040",
    "end": "1002480"
  },
  {
    "text": "queue you want the ability to start the job uh based on what is available on",
    "start": "1002480",
    "end": "1011360"
  },
  {
    "text": "your infrastructure and the flexibilities of the job that's declared by the user",
    "start": "1011360",
    "end": "1017519"
  },
  {
    "text": "any questions about like do those requirements resonate",
    "start": "1017839",
    "end": "1023680"
  },
  {
    "text": "do they capture uh like the use cases that you have in mind",
    "start": "1023680",
    "end": "1030640"
  },
  {
    "text": "um for for queuing there's a comment on the chat",
    "start": "1030640",
    "end": "1037600"
  },
  {
    "text": "i think it's pretty relevant maybe too much you can mention the storage",
    "start": "1037600",
    "end": "1044240"
  },
  {
    "text": "yeah just in general researchers like to buy storage up front in large chunks especially if they have a grant",
    "start": "1044240",
    "end": "1051520"
  },
  {
    "text": "if you have an nsf grant and you have to keep your data for five years and your grant's over in two years there's no way you can do that in the cloud",
    "start": "1051520",
    "end": "1057520"
  },
  {
    "text": "nobody in the cloud will sell you storage ahead of time",
    "start": "1057520",
    "end": "1062600"
  },
  {
    "text": "you have a question go ahead hi so i mean is this concept of q6",
    "start": "1067919",
    "end": "1075120"
  },
  {
    "text": "above a cluster where when a job comes in it says okay iq it",
    "start": "1075120",
    "end": "1081200"
  },
  {
    "text": "and you know this this is a cluster that's dispatched to this cluster that cluster it just",
    "start": "1081200",
    "end": "1087360"
  },
  {
    "text": "it's within the cluster um so i will get to the apis in a second but conceptually it's not like initially",
    "start": "1087360",
    "end": "1094880"
  },
  {
    "text": "we will or we will implement it as a as a within cluster controller uh but i can imagine this being run in a",
    "start": "1094880",
    "end": "1103679"
  },
  {
    "text": "nodeless cluster for example imagine it running in a like as a controller outs that manages multiple clusters",
    "start": "1103679",
    "end": "1110240"
  },
  {
    "text": "uh and it can watch for jobs uh being created in multiple clusters we",
    "start": "1110240",
    "end": "1115679"
  },
  {
    "text": "need to uh like you know fine-tune these concepts a little bit but i don't see a problem",
    "start": "1115679",
    "end": "1122000"
  },
  {
    "text": "having this controller running you know uh and watching for multiple uh over on",
    "start": "1122000",
    "end": "1128640"
  },
  {
    "text": "multiple like api servers and and try to manage source across multiple clusters",
    "start": "1128640",
    "end": "1134000"
  },
  {
    "text": "but it's not tied to the single cluster story i guess so i mean is that a use case that uh uh you want to focus on",
    "start": "1134000",
    "end": "1140720"
  },
  {
    "text": "like first release or it'll be like comes later so the mvp is focused on like it will be",
    "start": "1140720",
    "end": "1147919"
  },
  {
    "text": "run on the master of a single cluster uh it's like so so that that is the mvp then the next",
    "start": "1147919",
    "end": "1154720"
  },
  {
    "text": "step is to how how this can run uh outside uh to manage multiple",
    "start": "1154720",
    "end": "1160000"
  },
  {
    "text": "clusters okay and thanks well gareth if if you're interested in the multi-cluster",
    "start": "1160000",
    "end": "1165280"
  },
  {
    "text": "conversation sooner rather than later that's where you might be interested in the cncf batch working group",
    "start": "1165280",
    "end": "1171679"
  },
  {
    "text": "conversation but that's one of the things we're directly talking to",
    "start": "1171679",
    "end": "1177200"
  },
  {
    "text": "um can you send me the link of that",
    "start": "1177200",
    "end": "1182880"
  },
  {
    "text": "batch uh yeah i put a whole bunch of them about just before timothy middle coup's accept",
    "start": "1182880",
    "end": "1188320"
  },
  {
    "text": "storage thing there's the slack thing that i posted in the charter above that then ricardo",
    "start": "1188320",
    "end": "1193840"
  },
  {
    "text": "uh posted the issue where i'll i'll add those those links in the agenda as well uh",
    "start": "1193840",
    "end": "1201519"
  },
  {
    "text": "so that we can go back yeah thank you so actually one one thing on um just what users want",
    "start": "1201760",
    "end": "1209440"
  },
  {
    "text": "i would add speed or or scale of things",
    "start": "1209440",
    "end": "1217440"
  },
  {
    "text": "i i don't know that that's absolutely listed here but like when we",
    "start": "1217440",
    "end": "1225360"
  },
  {
    "text": "tried to do this with just the regular kubernetes scheduler or building a custom scheduler",
    "start": "1225360",
    "end": "1231120"
  },
  {
    "text": "a couple years ago it just wasn't fast enough especially when we scaled the cluster up to a really big",
    "start": "1231120",
    "end": "1237440"
  },
  {
    "text": "uh big size so i don't know yeah all of these things speak to us for",
    "start": "1237440",
    "end": "1243120"
  },
  {
    "text": "sure and then we have a few others so yeah scale is always is always top of",
    "start": "1243120",
    "end": "1249200"
  },
  {
    "text": "mind you you're absolutely right and we have worked on improving that for the",
    "start": "1249200",
    "end": "1254320"
  },
  {
    "text": "scheduler it's like the pod to node scheduler cube scheduler",
    "start": "1254320",
    "end": "1259679"
  },
  {
    "text": "and it it is something that we're taking into consideration while we're designing implementing the controller yeah",
    "start": "1259679",
    "end": "1267120"
  },
  {
    "text": "well to all like i don't know like um thousands of jobs",
    "start": "1267120",
    "end": "1272159"
  },
  {
    "text": "or a million pods uh type of like you know um skill i i assumed as much but i just wanted to",
    "start": "1272159",
    "end": "1279440"
  },
  {
    "text": "yeah just throw that in so cool if there are others you mentioned that this is",
    "start": "1279440",
    "end": "1284559"
  },
  {
    "text": "this captures some of your subset of your requirements uh if there are other requirements please like just post maybe in the chat and",
    "start": "1284559",
    "end": "1291200"
  },
  {
    "text": "then just we just want to make sure that we take them into consideration as we move",
    "start": "1291200",
    "end": "1296320"
  },
  {
    "text": "forward uh yeah that's great um so why a new controller um like as",
    "start": "1296320",
    "end": "1302159"
  },
  {
    "text": "you notice playing kubernetes doesn't really lend itself well to managing jobs without like with respect to",
    "start": "1302159",
    "end": "1309919"
  },
  {
    "text": "uh like you know queuing in general uh anything that you",
    "start": "1309919",
    "end": "1315120"
  },
  {
    "text": "create on on kubernetes basically the whole cluster is going to try to reconcile itself to create pause and",
    "start": "1315120",
    "end": "1320640"
  },
  {
    "text": "schedule the pause and start the pause there's no way they could say uh if there is not enough resources just",
    "start": "1320640",
    "end": "1327120"
  },
  {
    "text": "don't do anything and wait until resources are becoming available it will basically continuously attempt",
    "start": "1327120",
    "end": "1333120"
  },
  {
    "text": "to do that and it will work itself to death um especially like when you have like thousands and hundreds of thousands",
    "start": "1333120",
    "end": "1338159"
  },
  {
    "text": "of jobs being created um and kubernetes coders are not really enforced",
    "start": "1338159",
    "end": "1343760"
  },
  {
    "text": "uh like in a way that allows it's not dynamically enforced basically enforcement resource creation time so",
    "start": "1343760",
    "end": "1350559"
  },
  {
    "text": "it's whether you are able to create the job in the first place or not and if you're not you don't have quota to create the job",
    "start": "1350559",
    "end": "1356799"
  },
  {
    "text": "then there's no place to park it until it's like that resources are available",
    "start": "1356799",
    "end": "1361919"
  },
  {
    "text": "during the job um so volcano is uh one of the most",
    "start": "1361919",
    "end": "1367039"
  },
  {
    "text": "famous um schedulers for for drip scheduling uh our issue with volcano is that it it",
    "start": "1367039",
    "end": "1374400"
  },
  {
    "text": "re-implements a number of existing functionalities it is a scheduler so it's the second schedule that runs",
    "start": "1374400",
    "end": "1380080"
  },
  {
    "text": "side-by-side cube scheduler uh and that causes a number of issues related to you know race conditions",
    "start": "1380080",
    "end": "1385919"
  },
  {
    "text": "every implementation of some of the features and how it can catch up with the features that we are actually pushing up",
    "start": "1385919",
    "end": "1392320"
  },
  {
    "text": "in in in kubernetes or kubernetes uh the second thing is that has on drop",
    "start": "1392320",
    "end": "1398320"
  },
  {
    "text": "apis it is also a job cycle it has a drop life cycle uh controller",
    "start": "1398320",
    "end": "1404720"
  },
  {
    "text": "and so again three implements the job api that we have called kubernetes um",
    "start": "1404720",
    "end": "1411280"
  },
  {
    "text": "it the other thing is that it lacks clear integration with auto scaling um one important thing we",
    "start": "1411280",
    "end": "1417200"
  },
  {
    "text": "have design aspect in queue is that needs to have a clear integration with cluster or scale because this is",
    "start": "1417200",
    "end": "1423760"
  },
  {
    "text": "extremely important aspect of managing jobs because you want to allocate resources for a whole job how do we do",
    "start": "1423760",
    "end": "1429919"
  },
  {
    "text": "that before the job actually starts and how do you send it to a specific location or specific gpu model type or",
    "start": "1429919",
    "end": "1436400"
  },
  {
    "text": "specific um cpu or provisioning like standard versus on demand",
    "start": "1436400",
    "end": "1443279"
  },
  {
    "text": "um and this is like space of the last one it basically lacks clear support for",
    "start": "1443279",
    "end": "1448880"
  },
  {
    "text": "resource fungibility or flexibility um and so so this is the issues that we",
    "start": "1448880",
    "end": "1454400"
  },
  {
    "text": "have with um with volcano and here also i want to mention that uh gke had like",
    "start": "1454400",
    "end": "1459919"
  },
  {
    "text": "google cloud they had a previous effort uh decommissioned now it's called bathroom gt a couple years ago it had",
    "start": "1459919",
    "end": "1466559"
  },
  {
    "text": "similar issues it reinvented scheduling uh job life cycle measurement auto scaling um the other thing it was it was",
    "start": "1466559",
    "end": "1473919"
  },
  {
    "text": "close source and so it was hard to meet customers requirements of portability like customers want to run this on-prem",
    "start": "1473919",
    "end": "1479840"
  },
  {
    "text": "there's a ton of patch workers already that will continue to run on on-prem",
    "start": "1479840",
    "end": "1485600"
  },
  {
    "text": "and so we need to speak to these customers right like we want them to be able uh to run",
    "start": "1485600",
    "end": "1492240"
  },
  {
    "text": "um you know manage their jobs on-prem and maybe sometimes spill into the cloud or",
    "start": "1492240",
    "end": "1498080"
  },
  {
    "text": "have a multi-cloud story as or a multi or on-prem plus or a hybrid story uh",
    "start": "1498080",
    "end": "1503760"
  },
  {
    "text": "really well thought out um and so our thought here is that okay let's try to come up with a proposal",
    "start": "1503760",
    "end": "1510640"
  },
  {
    "text": "against should be open source um driven by the community uh addresses the",
    "start": "1510640",
    "end": "1516240"
  },
  {
    "text": "requirements that we've mentioned before uh in terms of you know uh uh",
    "start": "1516240",
    "end": "1522400"
  },
  {
    "text": "that plays on the strengths of both the cloud and on on-prem cloud has a ton of capabilities um we",
    "start": "1522400",
    "end": "1529760"
  },
  {
    "text": "that is exposed through our scaling and auto scaling should be like a central piece of the design of any job",
    "start": "1529760",
    "end": "1536080"
  },
  {
    "text": "management controller um that that's i guess how we look at it any any questions on on",
    "start": "1536080",
    "end": "1542880"
  },
  {
    "text": "the uh quick related work review here so one more question sorry",
    "start": "1542880",
    "end": "1549840"
  },
  {
    "text": "uh having too much focus on the auto scaler kind of leaves out the the people running it on prem right",
    "start": "1549840",
    "end": "1557200"
  },
  {
    "text": "so i i would say like if if we say like auto scaler is going to be first and mostly then we don't care about bare",
    "start": "1557200",
    "end": "1564240"
  },
  {
    "text": "metal where you have a fixed set of machines right like it should be something that we care about auto scaler",
    "start": "1564240",
    "end": "1572159"
  },
  {
    "text": "but uh we care about people that is going to have a fix it because i feel like this story is being told as",
    "start": "1572159",
    "end": "1578400"
  },
  {
    "text": "a batch is for auto scaling on a queuing system right like if you",
    "start": "1578400",
    "end": "1583520"
  },
  {
    "text": "keep repeating that the auto scalar is the most important thing that we need to integrate and if you have a batch uh a",
    "start": "1583520",
    "end": "1590799"
  },
  {
    "text": "fixated system as they i see the list of people in the school like from",
    "start": "1590799",
    "end": "1596240"
  },
  {
    "text": "academia and universities they have a fixed machine so the autoscaler is out of the picture right i mean that's the",
    "start": "1596240",
    "end": "1603520"
  },
  {
    "text": "thing that like i'm mentioning this because of like the fact that most batch",
    "start": "1603520",
    "end": "1611840"
  },
  {
    "text": "schedules are built in the past they were fixed they were designed for fixed clusters and i'm trying to emphasize the",
    "start": "1611840",
    "end": "1618640"
  },
  {
    "text": "point here that this is changing and we need to take cluster autoscaler into consideration here in an environment",
    "start": "1618640",
    "end": "1624480"
  },
  {
    "text": "where you have you know a ton of elasticity and flexibility and the fact that batch workloads are migrating from",
    "start": "1624480",
    "end": "1632159"
  },
  {
    "text": "on-prem into the cloud um i did not mean to because like i still like the idea that like for",
    "start": "1632159",
    "end": "1638399"
  },
  {
    "text": "example batch on gke didn't succeed is because exactly what you mentioned that's why we want to start from a point where",
    "start": "1638399",
    "end": "1645679"
  },
  {
    "text": "it needs to be open source it needs to speak to on-prem customers but at the same time",
    "start": "1645679",
    "end": "1650880"
  },
  {
    "text": "it should take care of environments where you have flexibility",
    "start": "1650880",
    "end": "1656320"
  },
  {
    "text": "you have elasticity those have never been top of mind uh and i'm trying to emphasize the point",
    "start": "1656320",
    "end": "1662799"
  },
  {
    "text": "but maybe i i overdid it",
    "start": "1662799",
    "end": "1667559"
  },
  {
    "text": "uh trust me i'm like i'm supporting this idea i'm just trying to uh help to define the idea",
    "start": "1668240",
    "end": "1675360"
  },
  {
    "text": "right it's like a pendulum goes like this and this and you know it takes nice",
    "start": "1675360",
    "end": "1680559"
  },
  {
    "text": "so question uh so there is q and there is batch so",
    "start": "1681039",
    "end": "1686640"
  },
  {
    "text": "in this proposal are we going to combine both of them together or they are they",
    "start": "1686640",
    "end": "1691919"
  },
  {
    "text": "are still going to be two different entities i sorry i did not get the",
    "start": "1691919",
    "end": "1697520"
  },
  {
    "text": "what do you mean like this batch and there's q so i mean q can apply on top of normal kubernetes",
    "start": "1697520",
    "end": "1704240"
  },
  {
    "text": "scheduler right i mean you have q and then you can put it on a normal kubernetes scheduler which schedule",
    "start": "1704240",
    "end": "1709840"
  },
  {
    "text": "things one at a time now batch is like scheduling things in",
    "start": "1709840",
    "end": "1715919"
  },
  {
    "text": "together right so now are we going to combine this batch",
    "start": "1715919",
    "end": "1721520"
  },
  {
    "text": "scheduler and the queues capability together or",
    "start": "1721520",
    "end": "1726960"
  },
  {
    "text": "okay it's going to be two different things okay that's a great question uh and it is one of the main design",
    "start": "1726960",
    "end": "1732559"
  },
  {
    "text": "principles that we're carrying here um which is don't reinvent the wheel",
    "start": "1732559",
    "end": "1738960"
  },
  {
    "text": "uh and when you say cube we're talking about the cube scheduler am i right that's right yeah",
    "start": "1738960",
    "end": "1744080"
  },
  {
    "text": "this is exactly to the point of this slide we don't want to reinvent the we don't want to have a second scheduler",
    "start": "1744080",
    "end": "1749600"
  },
  {
    "text": "running like a pod to node scheduler running we don't want to re-implement auto",
    "start": "1749600",
    "end": "1755360"
  },
  {
    "text": "scaling the cluster or say that we have open source as part of the kubernetes",
    "start": "1755360",
    "end": "1762159"
  },
  {
    "text": "package we should just reuse that same thing with job lifecycle management i don't want to propose a new job api we just",
    "start": "1762559",
    "end": "1769840"
  },
  {
    "text": "need to manage the existing job api and have hooks to manage custom workloads custom jobs",
    "start": "1769840",
    "end": "1776880"
  },
  {
    "text": "build that cannot basically reuse the job api um but we don't want to force",
    "start": "1776880",
    "end": "1783840"
  },
  {
    "text": "like we don't want to introduce a new api for creating jobs basically um",
    "start": "1783840",
    "end": "1789679"
  },
  {
    "text": "so so yeah we're not doing that and the advantage is that we're using",
    "start": "1789679",
    "end": "1795520"
  },
  {
    "text": "significant existing functionality uh we're not concerned about functionality divergence",
    "start": "1795520",
    "end": "1802080"
  },
  {
    "text": "uh it enforces separation of concerns uh in a sense that like the control that",
    "start": "1802080",
    "end": "1807360"
  },
  {
    "text": "we're proposing is not going to do auto scaling it's not going to assign parts to nodes it's not going to create the",
    "start": "1807360",
    "end": "1813039"
  },
  {
    "text": "parts of a job all of that is the existing components it will only decide when the job should start and using",
    "start": "1813039",
    "end": "1819919"
  },
  {
    "text": "uh kate's native scheduling directors like node affinity chance integration to direct the job to the place",
    "start": "1819919",
    "end": "1826480"
  },
  {
    "text": "where it should run based on existing capacity of the cluster um",
    "start": "1826480",
    "end": "1832080"
  },
  {
    "text": "can i ask a question yeah yeah so so uh first 100 percent uh",
    "start": "1832080",
    "end": "1838399"
  },
  {
    "text": "with you on you know separation of concern what scheduling is separate this is a job meta scheduler",
    "start": "1838399",
    "end": "1844799"
  },
  {
    "text": "uh you know i agree with you and and not reinventing the wheel just the question i have is about",
    "start": "1844799",
    "end": "1851200"
  },
  {
    "text": "the um the job representation right and job life cycle management because i want",
    "start": "1851200",
    "end": "1856480"
  },
  {
    "text": "something that is general enough that if i have a spark job or a ray job or whatever kind",
    "start": "1856480",
    "end": "1863519"
  },
  {
    "text": "of of job how complex it is right it may include multiple deployments etc i want",
    "start": "1863519",
    "end": "1868799"
  },
  {
    "text": "to be able to say this is my job right and cue it as one entity so i'm not sure",
    "start": "1868799",
    "end": "1875279"
  },
  {
    "text": "if if the current kubernetes job uh specification is is general enough to",
    "start": "1875279",
    "end": "1880720"
  },
  {
    "text": "accommodate you know all those types of jobs this is a great point and it i will i will i will um",
    "start": "1880720",
    "end": "1887519"
  },
  {
    "text": "address that in the next slide we want to support both the thing again we have users",
    "start": "1887519",
    "end": "1894720"
  },
  {
    "text": "that their journeys are simple they just want to run a batch job uh the job api we try to fix the job api",
    "start": "1894720",
    "end": "1901919"
  },
  {
    "text": "um but let me let me finish this one go to the next one address that point",
    "start": "1901919",
    "end": "1906960"
  },
  {
    "text": "we do acknowledge that there are some like cautions or limitations in this approach uh it creates two layers of",
    "start": "1906960",
    "end": "1913440"
  },
  {
    "text": "resource management so we need to to make sure that we address this point uh we have multiple components involved in",
    "start": "1913440",
    "end": "1919120"
  },
  {
    "text": "starting the job uh and so this may add extra latency um again could become harder and so all of",
    "start": "1919120",
    "end": "1925919"
  },
  {
    "text": "these things we need to make sure that the way that we design the controller the ux",
    "start": "1925919",
    "end": "1931759"
  },
  {
    "text": "it should be designed in a way that limits these uh these limitations",
    "start": "1933440",
    "end": "1939440"
  },
  {
    "text": "i don't think we can completely get rid of them but it's a necessary evil to the fact that we want to reuse significant",
    "start": "1939440",
    "end": "1945679"
  },
  {
    "text": "dysfunctionality and separation of concerns um yeah as i as i mentioned um",
    "start": "1945679",
    "end": "1952559"
  },
  {
    "text": "we try to fix the job api like for example you mentioned array jobs or index jobs we tried we introduced index",
    "start": "1952559",
    "end": "1958559"
  },
  {
    "text": "jobs to the v1 job we fixed completion status tracking it",
    "start": "1958559",
    "end": "1963760"
  },
  {
    "text": "was pretty much broken like if uh tracking was based on like if it",
    "start": "1963760",
    "end": "1968799"
  },
  {
    "text": "basically if if a part completes the pod object itself needs to continue to exist",
    "start": "1968799",
    "end": "1974559"
  },
  {
    "text": "in the api server to make sure that the job completes like this is how we were",
    "start": "1974559",
    "end": "1980080"
  },
  {
    "text": "tracking things and that did not work on environments where you have for example spot vms when the spot vm gets",
    "start": "1980080",
    "end": "1987360"
  },
  {
    "text": "preempted any part even if if it completed that was on the api server",
    "start": "1987360",
    "end": "1993919"
  },
  {
    "text": "had a node name assigned to that node it will get garbage collected and so basically you're posing progress in the",
    "start": "1993919",
    "end": "1999440"
  },
  {
    "text": "job so we fixed that as well uh we introduced uh uh",
    "start": "1999440",
    "end": "2005600"
  },
  {
    "text": "some new status like tracking greedy pods and job status which is required to implement",
    "start": "2005600",
    "end": "2011440"
  },
  {
    "text": "uh tf and mpi jobs on top of job api so obviously the point is that we are trying to improve the job api uh to",
    "start": "2011440",
    "end": "2018720"
  },
  {
    "text": "address the simple use cases and make it usable uh",
    "start": "2018720",
    "end": "2023760"
  },
  {
    "text": "to implement more complex workloads but we do acknowledge that there will always be a percentage of workers that",
    "start": "2023760",
    "end": "2030399"
  },
  {
    "text": "will not be able to use the drop api that's absolutely true",
    "start": "2030399",
    "end": "2035039"
  },
  {
    "text": "that's why we have a cons like this is that the resource model for q we do have the concept of acute workload it's",
    "start": "2035840",
    "end": "2041679"
  },
  {
    "text": "basically an abstract representation of any drop in queue um and",
    "start": "2041679",
    "end": "2047440"
  },
  {
    "text": "the idea here is that it this queued workload uh object api is going to serve",
    "start": "2047440",
    "end": "2053118"
  },
  {
    "text": "as a proxy between the actual job without that being for example as you mentioned spark drop and what",
    "start": "2053119",
    "end": "2060720"
  },
  {
    "text": "q is queuing we had a concept of a resource claim",
    "start": "2060720",
    "end": "2067040"
  },
  {
    "text": "here this is a bit maybe early to introduce but it's an api",
    "start": "2067040",
    "end": "2072398"
  },
  {
    "text": "that we'll be introducing to cluster autoscaler to ask for resources and this is what i meant by we need that native",
    "start": "2072399",
    "end": "2078800"
  },
  {
    "text": "integration with auto scaling this is not like necessary to have for example in in on-prem environments",
    "start": "2078800",
    "end": "2085919"
  },
  {
    "text": "uh the whole thing could still work without resource claim um but in on the cloud it will be quite",
    "start": "2085919",
    "end": "2092000"
  },
  {
    "text": "powerful because before we starting the job we want to ask for resources we're just gonna communicate with cluster or",
    "start": "2092000",
    "end": "2097839"
  },
  {
    "text": "scale the r square will tell us okay i have these resources in zone x or y and then we will start the workload by",
    "start": "2097839",
    "end": "2104079"
  },
  {
    "text": "injecting affinities to the workload to send it to the resources that cluster autoscale provisions for us",
    "start": "2104079",
    "end": "2110560"
  },
  {
    "text": "um and the other the the last two are maybe slightly not completely surprising is",
    "start": "2110560",
    "end": "2117280"
  },
  {
    "text": "that the queue which is uh basically an organizing concept for grouping managing",
    "start": "2117280",
    "end": "2122560"
  },
  {
    "text": "uh uh and reading about closely related uh resource uh jobs and then there is",
    "start": "2122560",
    "end": "2127839"
  },
  {
    "text": "the concept of a capacity which defines how much resources exist",
    "start": "2127839",
    "end": "2133140"
  },
  {
    "text": "[Music] for for different tenants we are reusing the",
    "start": "2133140",
    "end": "2140240"
  },
  {
    "text": "namespace as a tenant concept which seems to be taking like is is well accepted uh concept now in kubernetes",
    "start": "2140240",
    "end": "2148560"
  },
  {
    "text": "and so uh in this in this case um [Music]",
    "start": "2148560",
    "end": "2153839"
  },
  {
    "text": "you would basically model for example your teams as name spaces you would",
    "start": "2153839",
    "end": "2159280"
  },
  {
    "text": "create cues for them these queues are name spaced they would point to capacity the capacity is a cluster-wide resource",
    "start": "2159280",
    "end": "2166079"
  },
  {
    "text": "and so usually the cluster admin or the batch admin would be the one who's",
    "start": "2166079",
    "end": "2171200"
  },
  {
    "text": "managing the the capacity uh and the qr resources the one that creates them",
    "start": "2171200",
    "end": "2176720"
  },
  {
    "text": "the uh the this is like the personas that were focused on and then the batches that",
    "start": "2176720",
    "end": "2182480"
  },
  {
    "text": "should be basically just uh runs and monitors job like the way that would work it's basically for them",
    "start": "2182480",
    "end": "2188000"
  },
  {
    "text": "they will create the job and then you would have",
    "start": "2188000",
    "end": "2193040"
  },
  {
    "text": "admin um you know setting up all these like using capacities that decides when the job will start and",
    "start": "2193040",
    "end": "2200400"
  },
  {
    "text": "how much resources exist for each stand um so",
    "start": "2200400",
    "end": "2206400"
  },
  {
    "text": "this is like quick slide on like the theory of operation um sorry i'm not paying attention to the questions on this channel chat i hope that someone",
    "start": "2206400",
    "end": "2214720"
  },
  {
    "text": "like aldo or magic are answering them or please interrupt me if there's something that i need to clarify more",
    "start": "2214720",
    "end": "2222079"
  },
  {
    "text": "it's just in the interest of time like we have around 15 maybe 20 minutes if we overload a bit so",
    "start": "2222079",
    "end": "2228800"
  },
  {
    "text": "i i don't know either either if it's not a lot more otherwise i would suggest we go through it and they take questions at the end i don't know what people prefer",
    "start": "2228800",
    "end": "2237119"
  },
  {
    "text": "or we can just uh interrupt and then we see where we get um",
    "start": "2237599",
    "end": "2242640"
  },
  {
    "text": "so i think this after this slide the the story would become a little bit clearer",
    "start": "2242640",
    "end": "2249040"
  },
  {
    "text": "and then um i can show a couple of use cases and and we can have questions",
    "start": "2249040",
    "end": "2255599"
  },
  {
    "text": "um so here i'm just trying to show how this q controller is going to work um as i mentioned we are using a lot of",
    "start": "2255599",
    "end": "2262880"
  },
  {
    "text": "existing functionality the red boxes are existing controllers part of the part of kubernetes i'm",
    "start": "2262880",
    "end": "2268240"
  },
  {
    "text": "introducing a new one called q um so in in time zero basically in the",
    "start": "2268240",
    "end": "2273520"
  },
  {
    "text": "top left corner here you can see the batch admin would create the queue and capacity resources uh it could have like",
    "start": "2273520",
    "end": "2279520"
  },
  {
    "text": "gatekeeper type policies to select like who can submit where",
    "start": "2279520",
    "end": "2285119"
  },
  {
    "text": "and then the batch user will basically start the job let's assume here again we're using the v1 job api it will set",
    "start": "2285119",
    "end": "2290800"
  },
  {
    "text": "the queue name where the job should be started and the job will start in a suspended mode",
    "start": "2290800",
    "end": "2297440"
  },
  {
    "text": "basically we're gonna have for example a webhook and we're also discussing within kubernetes community uh for uh like",
    "start": "2297440",
    "end": "2304000"
  },
  {
    "text": "setting policies so that uh we enforce that thing like basically jobs started in in a suspended basically",
    "start": "2304000",
    "end": "2310720"
  },
  {
    "text": "the job controller is not going to act on it or just ignore it",
    "start": "2310720",
    "end": "2315520"
  },
  {
    "text": "the second uh step here is that q will look at that is watching on these jobs",
    "start": "2315920",
    "end": "2320960"
  },
  {
    "text": "it will assign them to a capacity uh it will create a resource claim if it",
    "start": "2320960",
    "end": "2326720"
  },
  {
    "text": "has an integration with cluster orders character to understand where these resources gonna",
    "start": "2326720",
    "end": "2331839"
  },
  {
    "text": "come from um and then custer or scale basically once consider us there fulfills this resource",
    "start": "2331839",
    "end": "2338480"
  },
  {
    "text": "claim queue is watching on that it will unsuspend the job once the job is unsuspended uh again the",
    "start": "2338480",
    "end": "2344880"
  },
  {
    "text": "rest is the same as it's working right now the job control will create the pods the schedule place them on",
    "start": "2344880",
    "end": "2351119"
  },
  {
    "text": "on the nodes one important aspect here is like how do we direct",
    "start": "2351119",
    "end": "2357200"
  },
  {
    "text": "basically how do we do job level scheduling as i mentioned before we're using uh kubernetes native scheduling",
    "start": "2357200",
    "end": "2363359"
  },
  {
    "text": "directives like queue based on where the resources were allocated in the resource via the relations claim q will basically",
    "start": "2363359",
    "end": "2370880"
  },
  {
    "text": "inject affinities or even tolerations onto the job to send it to a specific place",
    "start": "2370880",
    "end": "2379040"
  },
  {
    "text": "um i'm going to skip this one uh this one's probably the more important",
    "start": "2381200",
    "end": "2387520"
  },
  {
    "text": "thing to allah allah is uh concerned uh the cued workload is an abstraction that",
    "start": "2387520",
    "end": "2393920"
  },
  {
    "text": "we're introducing to allow managing of more complex workloads",
    "start": "2393920",
    "end": "2400960"
  },
  {
    "text": "there is the idea here is that once the custom workload is created we would need a controller that",
    "start": "2400960",
    "end": "2408400"
  },
  {
    "text": "understands the custom workload and translates it uh to create a cued",
    "start": "2408400",
    "end": "2413839"
  },
  {
    "text": "workload resource and this cute workload resource if you like i don't have the spec for it here but it's basically how",
    "start": "2413839",
    "end": "2419760"
  },
  {
    "text": "much resources you need it's basically like a pod template uh an account maybe",
    "start": "2419760",
    "end": "2425200"
  },
  {
    "text": "even like you know an array of that because you could have a driver and and for example the workers like in",
    "start": "2425200",
    "end": "2431920"
  },
  {
    "text": "a spark job and q would be aware of these cute workers you'll be",
    "start": "2431920",
    "end": "2436960"
  },
  {
    "text": "watching on them assigning them to capacity and then it would basically uh",
    "start": "2436960",
    "end": "2442560"
  },
  {
    "text": "mark the job as uh fulfilled and then the controller here",
    "start": "2442560",
    "end": "2448400"
  },
  {
    "text": "could would be the one that starts the cue the custom workload the",
    "start": "2448400",
    "end": "2454079"
  },
  {
    "text": "main requirement uh is that for custom workers to suspend uh",
    "start": "2454079",
    "end": "2460800"
  },
  {
    "text": "to support suspension like basically it needs the ability to start in a suspend mode",
    "start": "2460800",
    "end": "2467920"
  },
  {
    "text": "and have a way for us to start it basically by setting suspend to",
    "start": "2467920",
    "end": "2474880"
  },
  {
    "text": "false uh and this provides an agnostic way of deciding when the job can start and when",
    "start": "2474880",
    "end": "2481359"
  },
  {
    "text": "it when when it should stop meaning like preempted for example",
    "start": "2481359",
    "end": "2486880"
  },
  {
    "text": "in discussing like uh introducing a suspense sub resource similar to the",
    "start": "2492079",
    "end": "2497760"
  },
  {
    "text": "scale sub resource if you are aware of it that allows uh hpa horizontal port odd scaling to work agnostically across",
    "start": "2497760",
    "end": "2504960"
  },
  {
    "text": "different types of deployments so we can we are thinking of suspending the same way",
    "start": "2504960",
    "end": "2511680"
  },
  {
    "text": "so yeah just to make sure i understand so in this case for example if i'm interested in",
    "start": "2514319",
    "end": "2520560"
  },
  {
    "text": "you know let's say spark jobs that are started by a spark custom resource i need to make sure that that um you know",
    "start": "2520560",
    "end": "2526560"
  },
  {
    "text": "whatever spark controller implement the suspend api",
    "start": "2526560",
    "end": "2531760"
  },
  {
    "text": "would that be how it works yeah you would need uh to have like the top",
    "start": "2531760",
    "end": "2537280"
  },
  {
    "text": "level um um resource object that represents the job",
    "start": "2537280",
    "end": "2542560"
  },
  {
    "text": "to have these like the ability to tell it okay suspend or resume",
    "start": "2542560",
    "end": "2547760"
  },
  {
    "text": "yeah so this is the integration point like and we feel that this is like a really small surface area of in",
    "start": "2547760",
    "end": "2555839"
  },
  {
    "text": "like of integration uh relatively the complexity here is that again we're",
    "start": "2555839",
    "end": "2562880"
  },
  {
    "text": "in a point where kubernetes is extremely flexible and allows you to build anything you want",
    "start": "2562880",
    "end": "2568960"
  },
  {
    "text": "uh and the fact that you want to manage all these types of custom resources right",
    "start": "2568960",
    "end": "2576400"
  },
  {
    "text": "so that's the design that we came up with uh the at this like the the the integration surface",
    "start": "2576800",
    "end": "2583359"
  },
  {
    "text": "uh seems to be to us reasonably small um hopefully it",
    "start": "2583359",
    "end": "2589520"
  },
  {
    "text": "we will not be proven wrong so we'll see how it works",
    "start": "2589520",
    "end": "2595839"
  },
  {
    "text": "yeah i mean we're putting a requirement on everybody like whoever is",
    "start": "2597119",
    "end": "2602400"
  },
  {
    "text": "implementing the spark controller the uh ray controller whatever you you name",
    "start": "2602400",
    "end": "2607760"
  },
  {
    "text": "it right go to the tensor job uh pythor's job right i mean everybody has",
    "start": "2607760",
    "end": "2613040"
  },
  {
    "text": "to implement that suspend interface i guess that's the uh yeah the the the uphill battle here",
    "start": "2613040",
    "end": "2620800"
  },
  {
    "text": "um hi um so yeah it's not that uphill uh um i mean i'm already a contributor in",
    "start": "2620800",
    "end": "2627119"
  },
  {
    "text": "kubeflow so i can do this for the mk operator but for example i think alex alex is",
    "start": "2627119",
    "end": "2632960"
  },
  {
    "text": "here at this one and i think he has discussed this already with uh",
    "start": "2632960",
    "end": "2638960"
  },
  {
    "text": "with the maintainers of of the train the training operator",
    "start": "2638960",
    "end": "2644480"
  },
  {
    "text": "and they they are fine with the idea we just need to to implement the change",
    "start": "2644480",
    "end": "2650640"
  },
  {
    "text": "at least for q flow it's i think this battle is pretty simple it's not a battle either",
    "start": "2650640",
    "end": "2656480"
  },
  {
    "text": "uh now i'm pretty sure we can work with with other communities to integrate it as abdullah said it's",
    "start": "2656480",
    "end": "2664000"
  },
  {
    "text": "it is a simple field that doesn't require much thought",
    "start": "2664000",
    "end": "2670640"
  },
  {
    "text": "i would also add that ideally actually that should not be necessary but we would love that um most of these tools",
    "start": "2670640",
    "end": "2677760"
  },
  {
    "text": "the job api so that we can actually consolidate on the base drop life cycle",
    "start": "2677760",
    "end": "2682800"
  },
  {
    "text": "really with the core wpi on kubernetes now not all jobs and spark is a good example that probably the spark has some",
    "start": "2682800",
    "end": "2690240"
  },
  {
    "text": "specific requirements that like the job api will not be able to meet um but",
    "start": "2690240",
    "end": "2696480"
  },
  {
    "text": "we are at least um we are looking into like trying to curate like a stack ranked list of all",
    "start": "2696480",
    "end": "2703359"
  },
  {
    "text": "of the tools um that need to indeed have this integration and like at a later stage if",
    "start": "2703359",
    "end": "2708960"
  },
  {
    "text": "we see that this gets traction until early adopters and first users one of the elements of work would be and",
    "start": "2708960",
    "end": "2715200"
  },
  {
    "text": "help also that we could use is indeed that we do a targeted effort and that kind of stack rank starting like airflow",
    "start": "2715200",
    "end": "2721520"
  },
  {
    "text": "our go ai cup flow various flavors actually of course etc that they all make sure that that we",
    "start": "2721520",
    "end": "2729200"
  },
  {
    "text": "have this integration either with your core job api instead of using their own job life cycle",
    "start": "2729200",
    "end": "2734480"
  },
  {
    "text": "management approach or or this approach of unsuspending if something more",
    "start": "2734480",
    "end": "2739520"
  },
  {
    "text": "complex is needed the other thing here is that this idea helps in scaling",
    "start": "2739520",
    "end": "2745440"
  },
  {
    "text": "addressing scaling concerns like we don't want the pods to be created only like from the beginning that will help",
    "start": "2745440",
    "end": "2752319"
  },
  {
    "text": "us scale like if you have hundreds of thousands of jobs being created and you want to cue them you don't want all of",
    "start": "2752319",
    "end": "2757599"
  },
  {
    "text": "them to create pods and just basically manage the million pods that only",
    "start": "2757599",
    "end": "2763040"
  },
  {
    "text": "one tenth of them will actually execute at a time and so like i feel that this could also",
    "start": "2763040",
    "end": "2769119"
  },
  {
    "text": "enforce a shift of like a new design pattern basically uh that that should be more scalable moving",
    "start": "2769119",
    "end": "2776240"
  },
  {
    "text": "forward",
    "start": "2776240",
    "end": "2778640"
  },
  {
    "text": "um i don't have well as as you mentioned we don't have a lot of time so the we have the controller",
    "start": "2783440",
    "end": "2790400"
  },
  {
    "text": "design uh the controller it's a different beast uh we'll leave for another day but the",
    "start": "2790400",
    "end": "2796160"
  },
  {
    "text": "design document is there we created a repo uh we have a like a",
    "start": "2796160",
    "end": "2801200"
  },
  {
    "text": "a proof concept that we're planning to open source next week uh and so hopefully the community can start",
    "start": "2801200",
    "end": "2808400"
  },
  {
    "text": "uh looking at it and helping us ship it uh and and improve it",
    "start": "2808400",
    "end": "2815359"
  },
  {
    "text": "um i don't think we gotta have time for the apis i think if we have uh",
    "start": "2815359",
    "end": "2821359"
  },
  {
    "text": "more questions question on",
    "start": "2821359",
    "end": "2827680"
  },
  {
    "text": "that i've been thinking after reading the proposal is adding a new controller to kubernetes",
    "start": "2827680",
    "end": "2833760"
  },
  {
    "text": "feels like a a really heavy thing to do right uh",
    "start": "2833760",
    "end": "2840240"
  },
  {
    "text": "do you see this like an actual thing that can happen i i feel",
    "start": "2840240",
    "end": "2845440"
  },
  {
    "text": "that for the last year currently has focused on stability and maybe even to run current addition like edge cases and",
    "start": "2845440",
    "end": "2852480"
  },
  {
    "text": "telcos and all of that and then adding a new controller that is a use case for",
    "start": "2852480",
    "end": "2858960"
  },
  {
    "text": "a lot of people but not for i would say the eighty percent of kubernetes use",
    "start": "2858960",
    "end": "2864079"
  },
  {
    "text": "cases uh are looking into this so adding a new controller will make kubernetes",
    "start": "2864079",
    "end": "2869200"
  },
  {
    "text": "heavier uh how does the kure nettie's uh community feel about",
    "start": "2869200",
    "end": "2874880"
  },
  {
    "text": "this that's a very good question so we're starting as a sub project uh not incorporated we want to prove the case",
    "start": "2874880",
    "end": "2880559"
  },
  {
    "text": "we improve that this works uh we are planning to integrate this with kubernetes that's why",
    "start": "2880559",
    "end": "2886400"
  },
  {
    "text": "the way that we're designing this such that it integrates with existing controllers so that's one",
    "start": "2886400",
    "end": "2891520"
  },
  {
    "text": "like you know rock that we're trying to avoid from the beginning the other thing is we have cube controller manager which",
    "start": "2891520",
    "end": "2897920"
  },
  {
    "text": "is basically it's not going to be like a new binary uh sorry a new yeah a new binary executable on its own",
    "start": "2897920",
    "end": "2904640"
  },
  {
    "text": "it's just going to be another controller that gets created within the cube controller manager set of reconcilers",
    "start": "2904640",
    "end": "2911119"
  },
  {
    "text": "um so that's why also we form the batch working group to get",
    "start": "2911119",
    "end": "2918240"
  },
  {
    "text": "to convince the community that there's conviction around these ideas like there are there's momentum uh there's a new",
    "start": "2918240",
    "end": "2925040"
  },
  {
    "text": "type of workers that we need to open up kubernetes for um and yeah i mean i can't tell you that it",
    "start": "2925040",
    "end": "2932480"
  },
  {
    "text": "will happen but we're trying we're making decisions right now that",
    "start": "2932480",
    "end": "2939599"
  },
  {
    "text": "hopefully will help us uh in the future to make the case for having it in kokubuniti's",
    "start": "2939599",
    "end": "2946700"
  },
  {
    "text": "[Music]",
    "start": "2946700",
    "end": "2949770"
  },
  {
    "text": "and again if nobody is using it it's just going to be sitting there right like it's not uh",
    "start": "2952880",
    "end": "2958559"
  },
  {
    "text": "again like a new container that you need to start etc",
    "start": "2958559",
    "end": "2964559"
  },
  {
    "text": "it's not going to be like that",
    "start": "2964559",
    "end": "2968599"
  },
  {
    "text": "all right this sounds amazing so we are reaching six o'clock but i suggest because we started a bit late for those",
    "start": "2971920",
    "end": "2978000"
  },
  {
    "text": "that can stay to stay five more minutes and then we wrap it up so i",
    "start": "2978000",
    "end": "2983440"
  },
  {
    "text": "i saw a lot of activity also from kevin do you want to raise a couple of questions one or two questions kevin",
    "start": "2983440",
    "end": "2990559"
  },
  {
    "text": "um sure um so we run hpc systems here at pinonell",
    "start": "2994160",
    "end": "3000800"
  },
  {
    "text": "um i was curious how these cues are going to interact with each other um you",
    "start": "3000800",
    "end": "3005920"
  },
  {
    "text": "know usually we give each project a namespace so they would kind of have their own queue in this api but on our hpc systems we have cues",
    "start": "3005920",
    "end": "3015200"
  },
  {
    "text": "where each of the projects submits their jobs they can see where they are in the",
    "start": "3015200",
    "end": "3021040"
  },
  {
    "text": "overall view of the system queue so they know hey it's gonna be two days",
    "start": "3021040",
    "end": "3027200"
  },
  {
    "text": "before their job starts or whatever um and and all the projects are fairly",
    "start": "3027200",
    "end": "3033440"
  },
  {
    "text": "their jobs are fairly uh scheduled across the different projects so",
    "start": "3033440",
    "end": "3038839"
  },
  {
    "text": "one project doesn't dominate the whole system um",
    "start": "3038839",
    "end": "3044079"
  },
  {
    "text": "how is having separate cues at the uh name space level",
    "start": "3044079",
    "end": "3051200"
  },
  {
    "text": "kind of work for that use case so cues are simply like if i if you look at",
    "start": "3051200",
    "end": "3057119"
  },
  {
    "text": "the api it's simply a pointer to where the actual capacity is",
    "start": "3057119",
    "end": "3063359"
  },
  {
    "text": "the thing is like uh having q namespace solve a couple of",
    "start": "3063359",
    "end": "3069440"
  },
  {
    "text": "problems one discoverability like users usually only have access to the list",
    "start": "3069440",
    "end": "3075200"
  },
  {
    "text": "so for them to know what is",
    "start": "3080079",
    "end": "3083839"
  },
  {
    "text": "is in the capacity api and this is not a namespace object and this is something that multiple cues",
    "start": "3089200",
    "end": "3095680"
  },
  {
    "text": "can point to right like um like even if you have",
    "start": "3095680",
    "end": "3101839"
  },
  {
    "text": "um for example multiple namespaces",
    "start": "3101839",
    "end": "3107200"
  },
  {
    "text": "you can you can group them using labels and say okay all of them can basically point to the same capacity and they",
    "start": "3107200",
    "end": "3113599"
  },
  {
    "text": "share the same quality the other thing that q will help us as",
    "start": "3113599",
    "end": "3120319"
  },
  {
    "text": "being namespace is a case that someone brought up while discussing this in open source consider the case where you want",
    "start": "3120319",
    "end": "3126160"
  },
  {
    "text": "to run an experiment like a user wants to run an experiment and it's like",
    "start": "3126160",
    "end": "3131280"
  },
  {
    "text": "thousands of jobs that they want to run but they don't want to use more than for example 8 gpus",
    "start": "3131280",
    "end": "3137680"
  },
  {
    "text": "because they don't want like for some reason um the ability for the users themselves to",
    "start": "3137680",
    "end": "3143280"
  },
  {
    "text": "create a cue in their namespaces and set limits within the queue right so those names do not",
    "start": "3143280",
    "end": "3148960"
  },
  {
    "text": "give you any promise on whether you will get the capacity or not but there are limits on how on the maximum amount of",
    "start": "3148960",
    "end": "3155599"
  },
  {
    "text": "resources that your experiment is going to use so i would imagine users creating a queue even paying large scale",
    "start": "3155599",
    "end": "3161760"
  },
  {
    "text": "experiments themselves and setting those limits at the with for",
    "start": "3161760",
    "end": "3166800"
  },
  {
    "text": "that specific experiment at the end of the day what will control how much capacity will actually get is",
    "start": "3166800",
    "end": "3172240"
  },
  {
    "text": "the capacity object api um does that make sense",
    "start": "3172240",
    "end": "3177359"
  },
  {
    "text": "i think so so the qapi is pointing at a a dedicated pool or a",
    "start": "3177359",
    "end": "3185599"
  },
  {
    "text": "capacity um the the queues",
    "start": "3185599",
    "end": "3190880"
  },
  {
    "text": "jobs are assigned to cues or whatever but there's kind of a scheduler level queue that aggregates",
    "start": "3190880",
    "end": "3197520"
  },
  {
    "text": "all of the q api objects into capacity",
    "start": "3197520",
    "end": "3202720"
  },
  {
    "text": "and it's looking at when the various jobs are",
    "start": "3202720",
    "end": "3207760"
  },
  {
    "text": "submitted and still evenly scheduling them exactly yeah",
    "start": "3207760",
    "end": "3214400"
  },
  {
    "text": "like at the end of the day your actual key is going to be the capacity um",
    "start": "3214400",
    "end": "3220319"
  },
  {
    "text": "where like basically we're gonna decide okay which one is going to get executed first or not like they will all be",
    "start": "3220319",
    "end": "3226319"
  },
  {
    "text": "basically dependent on the capacity",
    "start": "3226319",
    "end": "3231040"
  },
  {
    "text": "all right so i think we have two minutes left so i would suggest like i i'm pretty sure we'll have more",
    "start": "3235359",
    "end": "3243359"
  },
  {
    "text": "more to talk about this is uh very very interesting to do",
    "start": "3243359",
    "end": "3248880"
  },
  {
    "text": "yeah maybe in a couple months we can come back with a demo but yeah absolutely that would be",
    "start": "3248880",
    "end": "3254880"
  },
  {
    "text": "amazing the other thing i would ask you is what's the best way for the people in",
    "start": "3254880",
    "end": "3261119"
  },
  {
    "text": "this group to to provide input and feedback and try to help out uh",
    "start": "3261119",
    "end": "3267760"
  },
  {
    "text": "maybe just uh yeah here's the repo oh it's not okay i don't know if",
    "start": "3267760",
    "end": "3273680"
  },
  {
    "text": "but yeah does it open",
    "start": "3273680",
    "end": "3279119"
  },
  {
    "text": "okay um so we will have everything there like the like this is the repo we will upload the code there we'll have uh the",
    "start": "3279119",
    "end": "3286319"
  },
  {
    "text": "links to the design documents and the api etc um if you have specific suggestions please create issues",
    "start": "3286319",
    "end": "3292720"
  },
  {
    "text": "um to help us you know uh better uh shape this project",
    "start": "3292720",
    "end": "3299520"
  },
  {
    "text": "right now it's just a template there's nothing in the repo but we will we should upload something this week or",
    "start": "3299520",
    "end": "3305680"
  },
  {
    "text": "next week so our goal is to have it as incubating in",
    "start": "3305680",
    "end": "3312960"
  },
  {
    "text": "cf okay yeah in in kubernetes so this is a sub project",
    "start": "3312960",
    "end": "3318799"
  },
  {
    "text": "sponsored by six scheduling okay um so it's not a cncf project i don't know like i don't know the details",
    "start": "3318799",
    "end": "3325040"
  },
  {
    "text": "there but it's a it's a sub project within kubernetes got it thanks and i guess like if people can have a",
    "start": "3325040",
    "end": "3332160"
  },
  {
    "text": "look at the proposal in the google doc as well put as much input as they can there i guess there was a lot of",
    "start": "3332160",
    "end": "3338000"
  },
  {
    "text": "discussion going on uh as we had some time but i see that people have a lot more",
    "start": "3338000",
    "end": "3343839"
  },
  {
    "text": "feedback to give so i think we can we can interact there there's also the mailing list i also linked that in the",
    "start": "3343839",
    "end": "3349760"
  },
  {
    "text": "agenda so i suggested like everyone [Music] checks those links",
    "start": "3349760",
    "end": "3355920"
  },
  {
    "text": "and yeah like let's say we we sync again in like a couple of months uh we'll",
    "start": "3355920",
    "end": "3361599"
  },
  {
    "text": "we'll make sure there's a slot for this um it's been great like it's been super nice",
    "start": "3361599",
    "end": "3368400"
  },
  {
    "text": "so i don't know i i saw a couple of new new timers so a first timer so i hope",
    "start": "3370000",
    "end": "3375280"
  },
  {
    "text": "you you're here again in two weeks so that we can we can have a proper introduction",
    "start": "3375280",
    "end": "3381280"
  },
  {
    "text": "otherwise uh does anyone else have anything else to raise",
    "start": "3381280",
    "end": "3387640"
  },
  {
    "text": "if not like thanks again to abdullah mache canaldo for for the really nice uh",
    "start": "3390720",
    "end": "3397200"
  },
  {
    "text": "presentation and we meet again in uh two weeks march 2nd",
    "start": "3397200",
    "end": "3402640"
  },
  {
    "text": "um in principle the topic will be air gap solutions and",
    "start": "3402640",
    "end": "3408480"
  },
  {
    "text": "we stick with the topic for now but uh we'll we'll send the reminders as usual",
    "start": "3408480",
    "end": "3414000"
  },
  {
    "text": "thank you thanks everyone for attending and thanks a lot for the discussion",
    "start": "3414000",
    "end": "3419440"
  },
  {
    "text": "thanks bye-bye thank you",
    "start": "3419440",
    "end": "3423520"
  },
  {
    "text": "thank you",
    "start": "3425440",
    "end": "3428599"
  }
]