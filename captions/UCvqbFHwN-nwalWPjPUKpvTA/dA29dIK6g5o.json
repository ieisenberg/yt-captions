[
  {
    "text": "all right good afternoon kubecon eu virtual attendees this is going to be the uh introduction",
    "start": "80",
    "end": "7440"
  },
  {
    "text": "session to the rook project and i have here with me my colleague alexander trost uh who",
    "start": "7440",
    "end": "14639"
  },
  {
    "text": "is currently a devops engineer at claudical and i am jared watts i'm a founding",
    "start": "14639",
    "end": "20320"
  },
  {
    "text": "engineer at upbound and both of us are maintainers uh on the brook project we got a couple links in the bottom left",
    "start": "20320",
    "end": "26960"
  },
  {
    "text": "so if you can help you find the rook project if you haven't been to it before so let's go ahead and move on to the agenda for",
    "start": "26960",
    "end": "32960"
  },
  {
    "text": "today so elsa hi from me everyone uh in a from",
    "start": "32960",
    "end": "38160"
  },
  {
    "text": "a center point we're going to talk about storage challenges in kubernetes we're going to talk about like what is rook",
    "start": "38160",
    "end": "44079"
  },
  {
    "text": "what like what does it even solve uh we're going to look a bit into the architecture as it's very vital to understand like",
    "start": "44079",
    "end": "51520"
  },
  {
    "text": "what is even going on under the hood uh there uh we're going to give a short demonstration as well",
    "start": "51520",
    "end": "57760"
  },
  {
    "text": "and we are going to give you information on how you can get involved like even",
    "start": "57760",
    "end": "62800"
  },
  {
    "text": "like you know slack and such things and if you want to learn more already we",
    "start": "62800",
    "end": "68240"
  },
  {
    "text": "have a deep dive rook session coming up on thursday be sure to check it out if you want to learn even more about rogue",
    "start": "68240",
    "end": "76400"
  },
  {
    "text": "okay let's start talking about some of the challenges that we typically see with storage in kubernetes",
    "start": "76400",
    "end": "84159"
  },
  {
    "text": "so normally uh especially through the early days of kubernetes uh it was very typical to rely on",
    "start": "84159",
    "end": "91600"
  },
  {
    "text": "storage that was outside of the cluster external storage uh which comes along with a couple problems",
    "start": "91600",
    "end": "97439"
  },
  {
    "text": "um one of them is it's not portable really you think about if you have a you know a set of storage appliances",
    "start": "97439",
    "end": "104320"
  },
  {
    "text": "like nas devices stands whatever they're not very portable uh to other",
    "start": "104320",
    "end": "109439"
  },
  {
    "text": "solutions so that can cause some issues and there's also sort of a deployment burden as well you",
    "start": "109439",
    "end": "116240"
  },
  {
    "text": "have to you know physically go through the effort of setting those up plugging them in and all that sort of stuff so not ideal",
    "start": "116240",
    "end": "122640"
  },
  {
    "text": "um would be better software could do that for us right and then also you could use cloud storage from the",
    "start": "122640",
    "end": "129679"
  },
  {
    "text": "cloud providers your google persistent disk or ebs volumes et cetera",
    "start": "129679",
    "end": "135440"
  },
  {
    "text": "and other managed services as well which can typically lead to vendor lock-in whenever you use cloud",
    "start": "135440",
    "end": "140720"
  },
  {
    "text": "provider maintenance services which which are good they're they're pretty valuable um it does make it harder to",
    "start": "140720",
    "end": "146239"
  },
  {
    "text": "move to another cloud and then there's this whole other element of day two operations of you know",
    "start": "146239",
    "end": "151280"
  },
  {
    "text": "backups restores um ongoing operations making sure it's healthy somebody has to",
    "start": "151280",
    "end": "156560"
  },
  {
    "text": "do that right um so if we take a look at this visual here this is just a quick sort of um diagram",
    "start": "156560",
    "end": "164400"
  },
  {
    "text": "of external storage for kubernetes and so we see on the left we have a kubernetes cluster on the right we have",
    "start": "164400",
    "end": "169920"
  },
  {
    "text": "all sorts of different types of storage cloud storage and storage appliances and such and uh",
    "start": "169920",
    "end": "175360"
  },
  {
    "text": "volume plugins is what is serves as sort of a bridge between the cluster and the external",
    "start": "175360",
    "end": "180480"
  },
  {
    "text": "storage to provision it on demand and provide it to applications so that's typical way that you would do",
    "start": "180480",
    "end": "185680"
  },
  {
    "text": "external storage in kubernetes which brings us to what is rook uh so",
    "start": "185680",
    "end": "190959"
  },
  {
    "text": "rook can be thought of as a set of storage operators for kubernetes and this really brings storage",
    "start": "190959",
    "end": "196480"
  },
  {
    "text": "into inside to the kubernetes cluster uh you can think of operators as being a you know software for automation",
    "start": "196480",
    "end": "204879"
  },
  {
    "text": "and an api to do a whole bunch of operational tasks for running storage you know deploying it",
    "start": "204879",
    "end": "211519"
  },
  {
    "text": "and configuring it and setting it up and provisioning and you know upgrading and backups and restores and all sorts of stuff like",
    "start": "211519",
    "end": "217360"
  },
  {
    "text": "that and then provisioning storage too for when a application needs it uh to be able to dynamically provision",
    "start": "217360",
    "end": "223680"
  },
  {
    "text": "that in cluster storage and have it ready to be consumed by applications so that's one way to think about what rook is",
    "start": "223680",
    "end": "231200"
  },
  {
    "text": "but you know beyond those operators it's also a framework to allow a lot of different storage",
    "start": "231200",
    "end": "238000"
  },
  {
    "text": "providers to migrate or make their way into cloud-native ecosystem and cloud-native",
    "start": "238000",
    "end": "243760"
  },
  {
    "text": "environments and kubernetes um we'll talk more about that framework in a bit it's an open source project and it was",
    "start": "243760",
    "end": "251040"
  },
  {
    "text": "donated to the cloud native computing foundation a couple years ago and it's incubation",
    "start": "251040",
    "end": "256479"
  },
  {
    "text": "level right now but the vote is ongoing for it to be moved to full graduation from",
    "start": "256479",
    "end": "264160"
  },
  {
    "text": "the cncf so we're very excited about that and hopefully by the time this recording is being played that",
    "start": "264160",
    "end": "270240"
  },
  {
    "text": "that we will have made that the vote will be complete and will be fully graduated",
    "start": "270240",
    "end": "276320"
  },
  {
    "text": "so the you know quick shout out to the community gosh this community is so amazing um",
    "start": "276320",
    "end": "282639"
  },
  {
    "text": "that is absolutely the backbone of why the project is successful uh so we take a look at some of the more recent um",
    "start": "282639",
    "end": "289040"
  },
  {
    "text": "events and statistics here uh 1.4 released came out which is all sorts of new",
    "start": "289040",
    "end": "295680"
  },
  {
    "text": "features and improvements um to the rook operators uh we have over 7 000 github stars now 160 million",
    "start": "295680",
    "end": "303440"
  },
  {
    "text": "downloads of the container image my favorite part though is how we almost have almost 300 contributors uh you know 275",
    "start": "303440",
    "end": "311840"
  },
  {
    "text": "or more people that have written code for rook which is absolutely amazing to me and got the project where it is and then",
    "start": "311840",
    "end": "318080"
  },
  {
    "text": "as we mentioned too uh the project is currently being voted on to graduate from the cncf",
    "start": "318080",
    "end": "325039"
  },
  {
    "text": "so a little bit more about the framework uh so rook is more than just a set of operators right it's a whole framework",
    "start": "325039",
    "end": "331199"
  },
  {
    "text": "and platform and libraries and automation and functions and code and all sorts of stuff to make",
    "start": "331199",
    "end": "336560"
  },
  {
    "text": "basically make it easier for a storage provider to uh come into kubernetes and be running",
    "start": "336560",
    "end": "342240"
  },
  {
    "text": "in cloud nano environments so there's functions and and libraries to help",
    "start": "342240",
    "end": "347440"
  },
  {
    "text": "uh you know normalize the way that storage resources are described you know a set of hard drives a set of",
    "start": "347440",
    "end": "353120"
  },
  {
    "text": "pvs how much of them to use filters patterns etc to say basically",
    "start": "353120",
    "end": "358240"
  },
  {
    "text": "say what storage to include in the cluster you know all sorts of the operator patterns and plumbing there first",
    "start": "358240",
    "end": "364840"
  },
  {
    "text": "storage you know specific storage needs um one of my favorites so is the integration testing",
    "start": "364840",
    "end": "370800"
  },
  {
    "text": "that we have we have an entire framework around uh testing storage solutions and storage needs across a variety of",
    "start": "370800",
    "end": "377520"
  },
  {
    "text": "kubernetes clusters versions clouds etc so all those things are available in a framework for new storage providers",
    "start": "377520",
    "end": "384560"
  },
  {
    "text": "to come in be part of their book project and make it easier to reduce the burden that they have to be running in cloud",
    "start": "384560",
    "end": "390240"
  },
  {
    "text": "native environments so you can see a whole series of storage providers that the rook project",
    "start": "390240",
    "end": "396240"
  },
  {
    "text": "currently supports and we'll get into details on those on this slide so we're going to start with the stable",
    "start": "396240",
    "end": "402479"
  },
  {
    "text": "providers each one of these storage providers has been declared as stable so ceph was actually the first storage",
    "start": "402479",
    "end": "407759"
  },
  {
    "text": "provider that uh rook started with the project was kind of founded around doing orchestration for ceph",
    "start": "407759",
    "end": "413520"
  },
  {
    "text": "um seth provides you know uh three different types of storage file block and object but it's also really highly",
    "start": "413520",
    "end": "419759"
  },
  {
    "text": "scalable which is has some really nice properties because you know basically anyone in the cluster can figure out where a piece of data",
    "start": "419759",
    "end": "426160"
  },
  {
    "text": "should go you don't have to centralize that information so that's a really nice kind of offloading uh",
    "start": "426160",
    "end": "431759"
  },
  {
    "text": "from a central bottleneck to make it a very highly scalable solution edge fs is the second storage provider",
    "start": "431759",
    "end": "438400"
  },
  {
    "text": "that made it to a stable declaration ready for use in production and it is um it's kind of this design is",
    "start": "438400",
    "end": "445440"
  },
  {
    "text": "kind of similar to how git is designed where it's based on immutable blocks and when you change a block uh",
    "start": "445440",
    "end": "451680"
  },
  {
    "text": "modifications to blocks are globally unique and they give the block a new identity and those properties there kind of set",
    "start": "451680",
    "end": "459039"
  },
  {
    "text": "edge of s up to be natively designed to be globally scalable which is great this slide we have both our alpha and",
    "start": "459039",
    "end": "466240"
  },
  {
    "text": "beta providers so these ones are not quite too stable yet but they are on their way maturing",
    "start": "466240",
    "end": "472879"
  },
  {
    "text": "and growing cassandra is a distributed nosql database that's",
    "start": "472879",
    "end": "478000"
  },
  {
    "text": "made for large amounts of data and i like this one especially too because a contributor",
    "start": "478000",
    "end": "483440"
  },
  {
    "text": "named giannis um he actually did that for the initial implementation for his master's thesis when he was graduating",
    "start": "483440",
    "end": "489039"
  },
  {
    "text": "from uh graduating with his master's degree so that was really awesome cockroachdb is a highly resilient",
    "start": "489039",
    "end": "496160"
  },
  {
    "text": "location aware database which has really cool properties when you have location awareness about where",
    "start": "496160",
    "end": "502000"
  },
  {
    "text": "you're running you can make decisions about where to move data to be closer to clients uh where to move data to be",
    "start": "502000",
    "end": "508639"
  },
  {
    "text": "um you know to have excellent availability and durability properties et cetera so it's a well-designed database and",
    "start": "508639",
    "end": "515839"
  },
  {
    "text": "that's also running as a rook storage provider uh nfs the network file system",
    "start": "515839",
    "end": "521120"
  },
  {
    "text": "you typically use this when you want to have multiple writers on a shared file system",
    "start": "521120",
    "end": "526880"
  },
  {
    "text": "that was originally implemented as part of the google summer of code project a couple years ago and then this",
    "start": "526880",
    "end": "532720"
  },
  {
    "text": "summer there's a new google summer of code participant his name is ahmad and he is making lots of enhancements to nfs",
    "start": "532720",
    "end": "539440"
  },
  {
    "text": "this summer so there's active contributions going on there and then you go by db is the newest storage provider it is",
    "start": "539440",
    "end": "545680"
  },
  {
    "text": "it's a relational database as well um it's designed for multiple regions um you know globally distributed as well",
    "start": "545680",
    "end": "553040"
  },
  {
    "text": "and it's set up for you know very low latency uh high ability high availability and high scale as well so",
    "start": "553040",
    "end": "559440"
  },
  {
    "text": "we're glad to have you go by part as uh part of rook as a storage provider as well so at the end of the day though the goal",
    "start": "559440",
    "end": "566160"
  },
  {
    "text": "of rook and all these storage providers that it supports is for persistence uh you know",
    "start": "566160",
    "end": "571440"
  },
  {
    "text": "persistence of data for applications right so let's start talking about the kubernetes native integration because",
    "start": "571440",
    "end": "577680"
  },
  {
    "text": "rook is a set of storage orchestrators and a framework for storage in kubernetes so let's talk about how it natively",
    "start": "577680",
    "end": "583440"
  },
  {
    "text": "integrates there um which brings us to a visual here this is an analogy we're setting up",
    "start": "583440",
    "end": "590160"
  },
  {
    "text": "here so you can think about you see this little tugboat here it's pulling or guiding the big cargo boat there with lots of",
    "start": "590160",
    "end": "596560"
  },
  {
    "text": "valuable cargo so you can think about the cargo boat being a uh the data plane the storage",
    "start": "596560",
    "end": "602800"
  },
  {
    "text": "providers you know they have a ton of valuable cargo on there and the tugboat is the one that's kind of leading and",
    "start": "602800",
    "end": "609200"
  },
  {
    "text": "guiding and steering and orchestrating uh and managing some of the the direction that the",
    "start": "609200",
    "end": "614800"
  },
  {
    "text": "um that data plane that cargo ship is heading in so keep that analogy in mind as we move",
    "start": "614800",
    "end": "620320"
  },
  {
    "text": "forward to the operator pattern so the operator pattern is fairly common in kubernetes now and it's basically",
    "start": "620320",
    "end": "627360"
  },
  {
    "text": "uh you know software automation that sits in a control loop and acts in three phases the first is that",
    "start": "627360",
    "end": "633040"
  },
  {
    "text": "it observes the current state of the system the actual state reality in the cluster and then it",
    "start": "633040",
    "end": "639760"
  },
  {
    "text": "analyzes and says okay how is this actual state that i found how is it different than the desired state",
    "start": "639760",
    "end": "646079"
  },
  {
    "text": "that the user says they want for the storage system and it figures out the delta between those and then acts the third phase on taking",
    "start": "646079",
    "end": "653839"
  },
  {
    "text": "that delta and continually driving the actual state of the cluster towards the desired state so it'll keep",
    "start": "653839",
    "end": "660079"
  },
  {
    "text": "in a loop and you're doing this observe analyze act and making sure that the user's desired state is",
    "start": "660079",
    "end": "665519"
  },
  {
    "text": "where the cluster is heading at all times so we take a look at this architecture diagram a little bit under the covers",
    "start": "665519",
    "end": "671839"
  },
  {
    "text": "here about how rook works uh let's work left to left to right so cube control uh is you know the client interface to",
    "start": "671839",
    "end": "678720"
  },
  {
    "text": "kubernetes api it talks to the kubernetes api server there and you can do things like you know cube control",
    "start": "678720",
    "end": "684480"
  },
  {
    "text": "create or get storage pools and file storage etc and then",
    "start": "684480",
    "end": "690079"
  },
  {
    "text": "we have the rook operators that are in the cluster also talking to the kubernetes api and so they'll take that desired state",
    "start": "690079",
    "end": "696800"
  },
  {
    "text": "of okay you want a storage cluster uh i will turn that into a set of deployments and pods and services",
    "start": "696800",
    "end": "703760"
  },
  {
    "text": "config maps etc that you know hosts the storage demons on the bottom right there",
    "start": "703760",
    "end": "710639"
  },
  {
    "text": "uh the storage provider specific demons like the ceph monitors and osds and things like that",
    "start": "710639",
    "end": "717200"
  },
  {
    "text": "or the cockroachdb instances so you know this is a representation of in",
    "start": "717200",
    "end": "723600"
  },
  {
    "text": "the kubernetes cluster how it's based on the kubernetes api you have a set of operators watching",
    "start": "723600",
    "end": "729360"
  },
  {
    "text": "listening for desired state and manipulating objects in the cluster to drive that",
    "start": "729360",
    "end": "735760"
  },
  {
    "text": "actual state of the cluster in the storage daemons the storage provider or fabric towards the desired state that the user",
    "start": "735760",
    "end": "741920"
  },
  {
    "text": "wants which brings us back to our analogy of the big cargo ship there",
    "start": "741920",
    "end": "747279"
  },
  {
    "text": "where the storage provider the data plane that's hosting are holding a lot of bits and bytes and",
    "start": "747279",
    "end": "753040"
  },
  {
    "text": "important data in for the cluster and the little rook operators the tugboats there",
    "start": "753040",
    "end": "758079"
  },
  {
    "text": "that are guiding and steering you know managing or orchestrating the data plane to make sure that's",
    "start": "758079",
    "end": "764480"
  },
  {
    "text": "aligned with the desired state that the user is expressed so now that we've learned about what an",
    "start": "764480",
    "end": "770560"
  },
  {
    "text": "authority is doing and we've already heard about custom resist definitions uh let's dive into what custom resist",
    "start": "770560",
    "end": "777839"
  },
  {
    "text": "definitions even are and especially at the example of the rogue ceph operator let's take a look",
    "start": "777839",
    "end": "784639"
  },
  {
    "text": "what they provide to the operator and in the end for you the user of an operator",
    "start": "784639",
    "end": "791360"
  },
  {
    "text": "so it's kind of like that if you think of the operator i guess the you know like a",
    "start": "791360",
    "end": "797120"
  },
  {
    "text": "motor turning all the wheels in the end the custom resist definition is",
    "start": "797120",
    "end": "803920"
  },
  {
    "text": "basically the parameters for those wheels like as an example",
    "start": "803920",
    "end": "809360"
  },
  {
    "text": "let's say for um seth which version of ceph you want to have deployed that would be",
    "start": "809360",
    "end": "816160"
  },
  {
    "text": "one parameter and well it adds up in the end to the whole big",
    "start": "816160",
    "end": "824399"
  },
  {
    "text": "uh thing of a being of a sev cluster and we have those",
    "start": "824399",
    "end": "831600"
  },
  {
    "text": "we have to use custom objects there like if you would go to any kubernetes cluster which does not have rooks if",
    "start": "831600",
    "end": "837600"
  },
  {
    "text": "installed you don't have this type available on your",
    "start": "837600",
    "end": "842880"
  },
  {
    "text": "kubernetes cluster that's what the operator brings with it it's bringing its custom types for that and",
    "start": "842880",
    "end": "850320"
  },
  {
    "text": "i mentioned parameters with like the wheels and such you know like it's um and a custom resist definition is",
    "start": "850320",
    "end": "857839"
  },
  {
    "text": "basically nothing else like if as you think about maybe like a pot object like a party ammo",
    "start": "857839",
    "end": "863680"
  },
  {
    "text": "it's in the end nothing different to that it's a specification where all parameters on",
    "start": "863680",
    "end": "871440"
  },
  {
    "text": "how it should look like in case of a part like what image does it have like readiness liveness",
    "start": "871440",
    "end": "877519"
  },
  {
    "text": "probes how many well if there are more than one container in it labels and all those things yeah so",
    "start": "877519",
    "end": "883360"
  },
  {
    "text": "those are basically just parameters around it um for kubernetes to know",
    "start": "883360",
    "end": "889600"
  },
  {
    "text": "what the whole thing will look like in the end for the whole part for self-class object is basically the",
    "start": "889600",
    "end": "896160"
  },
  {
    "text": "same you have a list of parameters like uh for the storage fund like what nodes",
    "start": "896160",
    "end": "901680"
  },
  {
    "text": "should it use should it use all nodes should it your all available devices uh is there like a device filter you",
    "start": "901680",
    "end": "908560"
  },
  {
    "text": "want to set any like more configuration possibilities and you know",
    "start": "908560",
    "end": "913600"
  },
  {
    "text": "more and more like i'm not going into each parameter here the point being is basically a big list of parameters",
    "start": "913600",
    "end": "919279"
  },
  {
    "text": "which the operator will take and interpret and based on that begin creating and or",
    "start": "919279",
    "end": "926079"
  },
  {
    "text": "modifying the existing rook cef cluster which is running",
    "start": "926079",
    "end": "931839"
  },
  {
    "text": "and to be go a bit further into the part with like a parameters there",
    "start": "931839",
    "end": "937040"
  },
  {
    "text": "for example you can specifically give a list of notes you want to use and",
    "start": "937040",
    "end": "943440"
  },
  {
    "text": "in that part what devices even to use and that's the cool thing",
    "start": "943440",
    "end": "948800"
  },
  {
    "text": "thanks to kubernetes there we can simply specify our custom object there is now",
    "start": "948800",
    "end": "954720"
  },
  {
    "text": "a magic that we need to do there and it allows us to easily um well",
    "start": "954720",
    "end": "961759"
  },
  {
    "text": "provide users with a safe cluster in kubernetes based on those parameters",
    "start": "961759",
    "end": "969680"
  },
  {
    "text": "um for rook cipher especially there it's not just a ceph cluster object like there's",
    "start": "969680",
    "end": "974959"
  },
  {
    "text": "more around in ceph as well already there's for example the saf block pro",
    "start": "974959",
    "end": "980880"
  },
  {
    "text": "we have the api version it's not like version one or apps slash version one of these people that have run around with",
    "start": "980880",
    "end": "987360"
  },
  {
    "text": "kubernetes already a bit the kind is not deployment or something it's have block pull that's our custom",
    "start": "987360",
    "end": "992720"
  },
  {
    "text": "object that the rig operator is bringing into with the normal like metadata which just",
    "start": "992720",
    "end": "997759"
  },
  {
    "text": "that's the name of the object it's the namespace the object should be created in and we have the specifications and in",
    "start": "997759",
    "end": "1003600"
  },
  {
    "text": "this case we define the specifications just to say well failure domain host replicated size free",
    "start": "1003600",
    "end": "1010320"
  },
  {
    "text": "require safe replica size and so on um these are well those are safe specific",
    "start": "1010320",
    "end": "1017199"
  },
  {
    "text": "parameters but in the end you know operator takes those it takes the specification works it out",
    "start": "1017199",
    "end": "1024959"
  },
  {
    "text": "in terms to basically translate it to ceph if you will so",
    "start": "1024959",
    "end": "1030558"
  },
  {
    "text": "and take care of that for you as the user um to build up from a story there",
    "start": "1030559",
    "end": "1038000"
  },
  {
    "text": "basically we have a sev cluster object when we create it it will well attack will take a few minutes depending on how",
    "start": "1038000",
    "end": "1044558"
  },
  {
    "text": "fast like pulling images and all those things are uh you have created a ceph cluster",
    "start": "1044559",
    "end": "1050640"
  },
  {
    "text": "and we have also gone ahead created a set block pool object because that will instruct",
    "start": "1050640",
    "end": "1057760"
  },
  {
    "text": "the operator to create a pool a storage pool basically in the cef cluster it just",
    "start": "1057760",
    "end": "1065280"
  },
  {
    "text": "created so um",
    "start": "1065280",
    "end": "1071360"
  },
  {
    "text": "that is the part where we should now look into how can we consume a search and i can",
    "start": "1072240",
    "end": "1078880"
  },
  {
    "text": "tell you it's it's pretty simple it's all pretty easy integratable thanks to",
    "start": "1078880",
    "end": "1084320"
  },
  {
    "text": "like with the customer system definitions and all but the good thing is we don't need customers custom things for everything",
    "start": "1084320",
    "end": "1092640"
  },
  {
    "text": "um there's for example like storage class um the um it is an",
    "start": "1092640",
    "end": "1100320"
  },
  {
    "text": "object of kubernetes like of the native api support like that of the storage",
    "start": "1100320",
    "end": "1105840"
  },
  {
    "text": "apis and by default basically we specify a name for the search class",
    "start": "1105840",
    "end": "1111840"
  },
  {
    "text": "we give it the name rooks of block we tell it's you know some special parameters",
    "start": "1111840",
    "end": "1117200"
  },
  {
    "text": "some way like where to even look for who's the provisional storage and all like all this fancy stuff we don't need",
    "start": "1117200",
    "end": "1123760"
  },
  {
    "text": "to consider also too much with that um but we pointed to the like to the right cluster which is the rook ceph",
    "start": "1123760",
    "end": "1129520"
  },
  {
    "text": "cluster we just created and that it should use the pool replica pool if you remember we had created a saf block pool as a",
    "start": "1129520",
    "end": "1137600"
  },
  {
    "text": "headed up as a yamal and it would use this pool then for the storage",
    "start": "1137600",
    "end": "1143600"
  },
  {
    "text": "so thanks to the storage classes in kubernetes now the only thing ajsa or we need to do",
    "start": "1143600",
    "end": "1150880"
  },
  {
    "text": "we could go ahead and create a persistent volume claim we create a persistent volume claim well",
    "start": "1150880",
    "end": "1157360"
  },
  {
    "text": "we give it a cool name microlab is probably a well pretty cool name so we got this cover we tell",
    "start": "1157360",
    "end": "1164000"
  },
  {
    "text": "the persistent volume claim which starts class name in our case it's the rook set block one",
    "start": "1164000",
    "end": "1169200"
  },
  {
    "text": "we tell it what access means i'm not going too far into that it's basically um telling companies like",
    "start": "1169200",
    "end": "1176240"
  },
  {
    "text": "what kind of storage it would need to uh look out for like for example block",
    "start": "1176240",
    "end": "1181919"
  },
  {
    "text": "storage normally can only be used as read write one storage which basically means that the",
    "start": "1181919",
    "end": "1188559"
  },
  {
    "text": "storage can only be mounted like this volume there that we get in the end can only be mounted once on one node",
    "start": "1188559",
    "end": "1196000"
  },
  {
    "text": "like not once in the whole life cycle of the volume but meaning that if you have a pot",
    "start": "1196000",
    "end": "1201600"
  },
  {
    "text": "running on node a and you start up a pot on a second part which also wants to to mount the same",
    "start": "1201600",
    "end": "1209679"
  },
  {
    "text": "block volume like a same persistent volume claim basically there um",
    "start": "1209679",
    "end": "1217520"
  },
  {
    "text": "it won't work unless it's well on the same note but you know it's those kind of edge scenarios still where it wouldn't it wouldn't work",
    "start": "1217520",
    "end": "1224720"
  },
  {
    "text": "out um if it would be on different notes because the blocks block image normally can only be mounted",
    "start": "1224720",
    "end": "1231280"
  },
  {
    "text": "on one server in read write mode so that's about that blur there's also other modes like read write",
    "start": "1231280",
    "end": "1237440"
  },
  {
    "text": "many read uh read only many as well also but as it",
    "start": "1237440",
    "end": "1242720"
  },
  {
    "text": "we're not going to concern ourselves too much with that right now we're going to set in a position right",
    "start": "1242720",
    "end": "1248320"
  },
  {
    "text": "over at persistent volume claim also the resources we want in this case we basically request",
    "start": "1248320",
    "end": "1253679"
  },
  {
    "text": "20 gigabytes of storage um and well after we have created one",
    "start": "1253679",
    "end": "1261520"
  },
  {
    "text": "we can go ahead in our deployment we have well named it my cool app obviously and in",
    "start": "1261520",
    "end": "1268720"
  },
  {
    "text": "the list of volumes we go ahead and specify our persistent volume claim",
    "start": "1268720",
    "end": "1275360"
  },
  {
    "text": "there's well there's a few more tweaks you would want to make to the deployment that you have a flawless",
    "start": "1275360",
    "end": "1281919"
  },
  {
    "text": "uh way of upgrading like you currently can only run this with a replica of one because if you would have the need to",
    "start": "1281919",
    "end": "1288480"
  },
  {
    "text": "run an application where like each replica so each pot would have its own",
    "start": "1288480",
    "end": "1293840"
  },
  {
    "text": "persistent volume claim it would be necessary because you know block storage can only be mounted once",
    "start": "1293840",
    "end": "1299600"
  },
  {
    "text": "by one part basically um you would need to go ahead and use",
    "start": "1299600",
    "end": "1306159"
  },
  {
    "text": "the stateful set so this is more just the demonstration purpose here purpose here this would this is how like the volumes",
    "start": "1306159",
    "end": "1313039"
  },
  {
    "text": "entry would look and in the end you could simply in the container section and do the volume mounts on well the",
    "start": "1313039",
    "end": "1319679"
  },
  {
    "text": "name data and say well mount path down there so um yeah so we have our",
    "start": "1319679",
    "end": "1327600"
  },
  {
    "text": "application they're basically running we have one part and now we're going to dive into the demo okay diving into the demo now for first",
    "start": "1327600",
    "end": "1335120"
  },
  {
    "text": "part for ceph operator we need to create the common.yaml all the objects which",
    "start": "1335120",
    "end": "1341520"
  },
  {
    "text": "are in there in a kubernetes class so we'll simply do that by well and it will really create crds custom",
    "start": "1341520",
    "end": "1348400"
  },
  {
    "text": "resist definitions rba cluster which includes cluster roles role binding service codes and all these",
    "start": "1348400",
    "end": "1354240"
  },
  {
    "text": "things as next part we're going to create the operator deployment and the config of the",
    "start": "1354240",
    "end": "1361760"
  },
  {
    "text": "operator after that we'll move on to the cluster level i'll",
    "start": "1361760",
    "end": "1367360"
  },
  {
    "text": "show it in a second but just you know it takes a bit of time for everything to spin up so we'll go into that in a second we're",
    "start": "1367360",
    "end": "1373360"
  },
  {
    "text": "going to create it so let's just do a quick um",
    "start": "1373360",
    "end": "1381360"
  },
  {
    "text": "okay containers are already it's already creating so that's good the operator well it you know it just takes a bit in my c",
    "start": "1381600",
    "end": "1388640"
  },
  {
    "text": "for the colostomy i think and let's take a look at the cluster yellow",
    "start": "1388640",
    "end": "1394400"
  },
  {
    "text": "um big note here the cluster we are currently looking at is um",
    "start": "1394400",
    "end": "1401120"
  },
  {
    "text": "it's a free node cluster you have to have at least three nodes if you tr",
    "start": "1401120",
    "end": "1406799"
  },
  {
    "text": "if you like well want to try it out with the cluster. if you want to just play around in a network onenote cluster",
    "start": "1406799",
    "end": "1414559"
  },
  {
    "text": "well please take a look at the um at the cluster cluster minus",
    "start": "1414559",
    "end": "1420240"
  },
  {
    "text": "test.yaml for that and so let's dive",
    "start": "1420240",
    "end": "1425760"
  },
  {
    "text": "right into that um so well you know we have a name name",
    "start": "1425760",
    "end": "1431760"
  },
  {
    "text": "system all that again we have the specification which ceph version it will use",
    "start": "1431760",
    "end": "1438080"
  },
  {
    "text": "with some additional stuff like data the host path i would recommend you to read up on like",
    "start": "1438080",
    "end": "1443679"
  },
  {
    "text": "what each part here does in the documentation on rook.io",
    "start": "1443679",
    "end": "1448880"
  },
  {
    "text": "um but you know as we had it there's a bunch of parameters which need to be",
    "start": "1448880",
    "end": "1454400"
  },
  {
    "text": "said in a certain way most of them have defaults but you should be aware of what the",
    "start": "1454400",
    "end": "1460000"
  },
  {
    "text": "defaults are especially when you would go ahead and run it in production at one point",
    "start": "1460000",
    "end": "1466240"
  },
  {
    "text": "so just yeah well you know we have the whole the whole um structure of the self",
    "start": "1466240",
    "end": "1474480"
  },
  {
    "text": "cluster object so let's just jump back and see how how's it looking okay we have a bunch of",
    "start": "1474480",
    "end": "1482240"
  },
  {
    "text": "components already having spun up the operator in the background is",
    "start": "1482240",
    "end": "1487600"
  },
  {
    "text": "creating all the components we need we have the mons spinning up they are a",
    "start": "1487600",
    "end": "1493279"
  },
  {
    "text": "vital part of ceph and for production already as a side note here you should",
    "start": "1493279",
    "end": "1498880"
  },
  {
    "text": "have at least three months if you run with less than three months you're not going to have a quorum",
    "start": "1498880",
    "end": "1505200"
  },
  {
    "text": "for the seven months so keep that in mind but you know if you want to know learn more i would",
    "start": "1505200",
    "end": "1510880"
  },
  {
    "text": "check recommend you check out the rook.io documentation and depending on what storage backend you want to run",
    "start": "1510880",
    "end": "1516559"
  },
  {
    "text": "like in case of sev check out the theft documentation as well to read up on how the architecture of ceph is logging",
    "start": "1516559",
    "end": "1523600"
  },
  {
    "text": "okay so we have the months now",
    "start": "1523600",
    "end": "1529360"
  },
  {
    "text": "it is uh the operator has now started the so-called rook sap osd prepare parts they are jobs",
    "start": "1529360",
    "end": "1536080"
  },
  {
    "text": "basically which are running on each node to um well create oh well not necessarily",
    "start": "1536080",
    "end": "1542960"
  },
  {
    "text": "great but prepare uh disks in the server for osds so that's what they're doing",
    "start": "1542960",
    "end": "1549760"
  },
  {
    "text": "and let me just refresh the output here it has already finished for two of the",
    "start": "1549760",
    "end": "1556720"
  },
  {
    "text": "nodes we have for the master and for the node one here and we already have even we are it's",
    "start": "1556720",
    "end": "1563039"
  },
  {
    "text": "already faster and then anticipated right now we already have the three osds",
    "start": "1563039",
    "end": "1569760"
  },
  {
    "text": "there is this short explanation here there is these are the part which actually save the data to disk",
    "start": "1569760",
    "end": "1575760"
  },
  {
    "text": "there now let's run another again to update the output one prepared job here",
    "start": "1575760",
    "end": "1583200"
  },
  {
    "text": "is still running but we have ours these already it will take depending on you know uh what uh resources the node has a bit",
    "start": "1583200",
    "end": "1591840"
  },
  {
    "text": "until everything is prepared on a node and as we can see we just got the next few osds",
    "start": "1591840",
    "end": "1599760"
  },
  {
    "text": "you might be wondering what can i use as an asd you need to have either an empty",
    "start": "1599760",
    "end": "1605600"
  },
  {
    "text": "partition sidenote i would recommend you format the disk as unformatted may seem",
    "start": "1605600",
    "end": "1612080"
  },
  {
    "text": "weird but uh at least then for to talk about she parted here at listen to your part",
    "start": "1612080",
    "end": "1617679"
  },
  {
    "text": "there's an option to say hey this is unformatted and in the k clusters i've been setting up",
    "start": "1617679",
    "end": "1623440"
  },
  {
    "text": "uh when like even though the partition was empty and it didn't work after that it worked",
    "start": "1623440",
    "end": "1631039"
  },
  {
    "text": "when i've set them to unformatted so um yeah just a quick tip here if you wanna if you have some trouble getting",
    "start": "1631039",
    "end": "1637360"
  },
  {
    "text": "your partition and our disks recognized even for just the testing part okay so we have our saf cluster running",
    "start": "1637360",
    "end": "1645440"
  },
  {
    "text": "now um let me jump ahead to the application deployment in a second",
    "start": "1645440",
    "end": "1651679"
  },
  {
    "text": "okay so now for the application uh deployment first thing we still need to do is",
    "start": "1651679",
    "end": "1658480"
  },
  {
    "text": "create a storage class and a saf block pool as we learned from previous uh previous slides we uh there's a",
    "start": "1658480",
    "end": "1666080"
  },
  {
    "text": "pretty convenient example in a csi rbd folder called storage class yaml as you",
    "start": "1666080",
    "end": "1672159"
  },
  {
    "text": "can see we just created a set block pearl called replica pool and a storage class so we got that now",
    "start": "1672159",
    "end": "1678159"
  },
  {
    "text": "so if i run cube ctrl get storage class we'll see there we go we have a storage",
    "start": "1678159",
    "end": "1684640"
  },
  {
    "text": "class now okay now let's deploy the application okay",
    "start": "1684640",
    "end": "1689760"
  },
  {
    "text": "now after we have created the storage class and with that also self block pool we can just run cube ctrl create on our",
    "start": "1689760",
    "end": "1696640"
  },
  {
    "text": "application manifests which are also in this case as they are deployment objects and a persistent",
    "start": "1696640",
    "end": "1702640"
  },
  {
    "text": "volume claim object so i'm just gonna create the everything that's needed for that",
    "start": "1702640",
    "end": "1708960"
  },
  {
    "text": "and we can go ahead we're gonna keep cuddle get part and get pvc minus w so we can watch",
    "start": "1708960",
    "end": "1716080"
  },
  {
    "text": "the whole thing no we can't do that in a watch mode well let's just wait for the pots to be",
    "start": "1716080",
    "end": "1723919"
  },
  {
    "text": "running and well there we have it if i go ahead and run cube ctl get pvc now",
    "start": "1723919",
    "end": "1730880"
  },
  {
    "text": "here we go let me just zoom out a slight bit here we see we have two persistent volume",
    "start": "1730880",
    "end": "1737440"
  },
  {
    "text": "claims which we created and both of them are bound so they have been created on backend and all and are",
    "start": "1737440",
    "end": "1743840"
  },
  {
    "text": "provisioned and are now ready for use and as we have seen at the parts well they're ready",
    "start": "1743840",
    "end": "1750480"
  },
  {
    "text": "and they're already used in the parts and well that's it from the demo with",
    "start": "1750480",
    "end": "1757440"
  },
  {
    "text": "with ease i've been able to consume the search after we've created staff cluster uh remember you even a testing",
    "start": "1757440",
    "end": "1764880"
  },
  {
    "text": "environment needs to have certain amount of resources like disks or something like empty partition",
    "start": "1764880",
    "end": "1771520"
  },
  {
    "text": "or something um yeah thanks for that and",
    "start": "1771520",
    "end": "1777039"
  },
  {
    "text": "let's continue all right alex thank you very much for that uh uh helpful demo there to showing us",
    "start": "1777039",
    "end": "1783840"
  },
  {
    "text": "uh how some of the book project works with a little bit more hands-on experience there uh so now we can talk",
    "start": "1783840",
    "end": "1789520"
  },
  {
    "text": "about um since brooke is a completely open source project your cncf project we have a pretty broad community now and",
    "start": "1789520",
    "end": "1796480"
  },
  {
    "text": "there's a lot of different ways that you can get more involved and become more uh more involved in the community as a",
    "start": "1796480",
    "end": "1802399"
  },
  {
    "text": "whole so the main site is rook.io that has some more explanation about the project",
    "start": "1802399",
    "end": "1807520"
  },
  {
    "text": "and all of our documentation user guide quick starts etc is all there so it's a great place to go if you want to",
    "start": "1807520",
    "end": "1812799"
  },
  {
    "text": "start using the rook project and then we're super active on slack as well um there's the link right there",
    "start": "1812799",
    "end": "1818799"
  },
  {
    "text": "if you have questions you can come and find the right channel and uh we're a very welcoming bunch so",
    "start": "1818799",
    "end": "1824080"
  },
  {
    "text": "you come talk to us there you know we have over you know almost 300 contributors now we're always",
    "start": "1824080",
    "end": "1829919"
  },
  {
    "text": "looking for more so on github.com that is the repo and you can submit issues pull",
    "start": "1829919",
    "end": "1836720"
  },
  {
    "text": "requests have discussions there um and then uh of course we're also on twitter and we",
    "start": "1836720",
    "end": "1842320"
  },
  {
    "text": "have community meetings uh every other tuesday uh the specific links for that is on the uh",
    "start": "1842320",
    "end": "1847600"
  },
  {
    "text": "read me in the book repo so yeah thanks a lot for listening to us today and we can i'll",
    "start": "1847600",
    "end": "1853919"
  },
  {
    "text": "just about wrap it up thanks jared so yeah if you want to get involved follow the links check out our slack if",
    "start": "1853919",
    "end": "1861440"
  },
  {
    "text": "you have any questions there especially for coupon wafer channel called conferences",
    "start": "1861440",
    "end": "1866640"
  },
  {
    "text": "um well feel free to ask questions and yeah thanks for listening everyone have a good day and well see you next time",
    "start": "1866640",
    "end": "1874760"
  },
  {
    "text": "hopefully",
    "start": "1874760",
    "end": "1877760"
  }
]