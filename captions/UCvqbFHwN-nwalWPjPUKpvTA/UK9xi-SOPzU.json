[
  {
    "text": "uh hi everyone my name is alesh uh how's",
    "start": "500",
    "end": "3419"
  },
  {
    "text": "everyone doing hopefully",
    "start": "3419",
    "end": "6120"
  },
  {
    "text": "covering after lunch",
    "start": "6120",
    "end": "9440"
  },
  {
    "text": "um yeah like uh as already said uh Rabun",
    "start": "10500",
    "end": "13980"
  },
  {
    "text": "and I are going to talk about",
    "start": "13980",
    "end": "15139"
  },
  {
    "text": "decentralized and centralized scraping",
    "start": "15139",
    "end": "17160"
  },
  {
    "text": "architectures",
    "start": "17160",
    "end": "19140"
  },
  {
    "text": "um and I'm going to talk about a little",
    "start": "19140",
    "end": "20939"
  },
  {
    "text": "bit more in general and raboon is going",
    "start": "20939",
    "end": "22859"
  },
  {
    "text": "to give you some very interesting",
    "start": "22859",
    "end": "23640"
  },
  {
    "text": "examples of how they do the doordash",
    "start": "23640",
    "end": "27359"
  },
  {
    "text": "uh",
    "start": "27359",
    "end": "29840"
  },
  {
    "text": "work for chronosphere as part of the",
    "start": "30300",
    "end": "32160"
  },
  {
    "text": "solution engineering team and I've been",
    "start": "32160",
    "end": "34800"
  },
  {
    "text": "in the observability space for the past",
    "start": "34800",
    "end": "36840"
  },
  {
    "text": "five years uh really exciting how this",
    "start": "36840",
    "end": "40079"
  },
  {
    "text": "space is really developing growing and",
    "start": "40079",
    "end": "41760"
  },
  {
    "text": "what kind of challenges people are",
    "start": "41760",
    "end": "43079"
  },
  {
    "text": "facing so I've really uh I'm fortunate",
    "start": "43079",
    "end": "45480"
  },
  {
    "text": "in the space that that's moving fast uh",
    "start": "45480",
    "end": "50460"
  },
  {
    "text": "pull it up here that's better",
    "start": "50640",
    "end": "53280"
  },
  {
    "text": "hey hi everyone hey I'm Rabun uh I'm in",
    "start": "53280",
    "end": "56699"
  },
  {
    "text": "doordash I'm a software engineer on",
    "start": "56699",
    "end": "58199"
  },
  {
    "text": "doordash I am a tech lead in",
    "start": "58199",
    "end": "60180"
  },
  {
    "text": "observability team and we are here to",
    "start": "60180",
    "end": "63480"
  },
  {
    "text": "just tell you about our experiences",
    "start": "63480",
    "end": "67680"
  },
  {
    "text": "excellent thanks",
    "start": "67680",
    "end": "70260"
  },
  {
    "text": "so going forward",
    "start": "70260",
    "end": "72119"
  },
  {
    "text": "um let's you know starting in the",
    "start": "72119",
    "end": "74100"
  },
  {
    "text": "beginning if you look at metric data and",
    "start": "74100",
    "end": "75900"
  },
  {
    "text": "data and how do you collect this data",
    "start": "75900",
    "end": "78420"
  },
  {
    "text": "um there's if we talk about the data of",
    "start": "78420",
    "end": "80520"
  },
  {
    "text": "the life of the data point as as we kind",
    "start": "80520",
    "end": "82799"
  },
  {
    "text": "of deal with this",
    "start": "82799",
    "end": "84540"
  },
  {
    "text": "um I kind of threw an example up here",
    "start": "84540",
    "end": "86100"
  },
  {
    "text": "that actually uses B's so if somebody",
    "start": "86100",
    "end": "87720"
  },
  {
    "text": "has AP phobia I I apologize but they",
    "start": "87720",
    "end": "92100"
  },
  {
    "text": "actually lend themselves really well as",
    "start": "92100",
    "end": "93659"
  },
  {
    "text": "an example for how are we dealing with",
    "start": "93659",
    "end": "95759"
  },
  {
    "text": "these things in in real life right if",
    "start": "95759",
    "end": "98100"
  },
  {
    "text": "you think about metric data what's",
    "start": "98100",
    "end": "99720"
  },
  {
    "text": "what's actually important well",
    "start": "99720",
    "end": "101000"
  },
  {
    "text": "discovering where you're actually",
    "start": "101000",
    "end": "102659"
  },
  {
    "text": "collecting collecting it transporting it",
    "start": "102659",
    "end": "105540"
  },
  {
    "text": "and then storing it now each of these",
    "start": "105540",
    "end": "107880"
  },
  {
    "text": "areas has kind of different problems",
    "start": "107880",
    "end": "109740"
  },
  {
    "text": "that you have to deal with",
    "start": "109740",
    "end": "112200"
  },
  {
    "text": "um and uh kind of on the on on the side",
    "start": "112200",
    "end": "115259"
  },
  {
    "text": "of uh Discovery and collection right how",
    "start": "115259",
    "end": "117720"
  },
  {
    "text": "do we scale this uh how do we Roll by a",
    "start": "117720",
    "end": "120240"
  },
  {
    "text": "reliably reliably collect um then how do",
    "start": "120240",
    "end": "122880"
  },
  {
    "text": "we actually transport at scale uh data",
    "start": "122880",
    "end": "125880"
  },
  {
    "text": "and then store that scale",
    "start": "125880",
    "end": "127740"
  },
  {
    "text": "um to make it available to our consumers",
    "start": "127740",
    "end": "129780"
  },
  {
    "text": "most probably if you if you look at kind",
    "start": "129780",
    "end": "132060"
  },
  {
    "text": "of of the value of the data point as it",
    "start": "132060",
    "end": "134220"
  },
  {
    "text": "progresses through this cycle the data",
    "start": "134220",
    "end": "136860"
  },
  {
    "text": "is really valuable in the beginning of",
    "start": "136860",
    "end": "138780"
  },
  {
    "text": "the cycle meaning how do we get it",
    "start": "138780",
    "end": "141300"
  },
  {
    "text": "without us without a with not a lot of a",
    "start": "141300",
    "end": "144420"
  },
  {
    "text": "lot of latency from where actually being",
    "start": "144420",
    "end": "146459"
  },
  {
    "text": "produced uh so that we can actually",
    "start": "146459",
    "end": "148140"
  },
  {
    "text": "alert and query it and then the longer",
    "start": "148140",
    "end": "150540"
  },
  {
    "text": "we store it the less value it kind of",
    "start": "150540",
    "end": "152459"
  },
  {
    "text": "has right because it's not as",
    "start": "152459",
    "end": "153780"
  },
  {
    "text": "operational anymore",
    "start": "153780",
    "end": "155520"
  },
  {
    "text": "so why is this important well because",
    "start": "155520",
    "end": "158459"
  },
  {
    "text": "then the collection piece doing this",
    "start": "158459",
    "end": "160560"
  },
  {
    "text": "reliably and at high scale is really",
    "start": "160560",
    "end": "163200"
  },
  {
    "text": "important if we can do that uh fast",
    "start": "163200",
    "end": "166160"
  },
  {
    "text": "performant and reliable we we actually",
    "start": "166160",
    "end": "169080"
  },
  {
    "text": "can feed this into a system that makes",
    "start": "169080",
    "end": "171780"
  },
  {
    "text": "our whole observability discipline a lot",
    "start": "171780",
    "end": "174000"
  },
  {
    "text": "better",
    "start": "174000",
    "end": "175739"
  },
  {
    "text": "um",
    "start": "175739",
    "end": "176400"
  },
  {
    "text": "now that's why we're going to today talk",
    "start": "176400",
    "end": "179040"
  },
  {
    "text": "about",
    "start": "179040",
    "end": "180019"
  },
  {
    "text": "how does the collection infrastructure",
    "start": "180019",
    "end": "182280"
  },
  {
    "text": "actually work and what kind of",
    "start": "182280",
    "end": "184260"
  },
  {
    "text": "approaches do we use here",
    "start": "184260",
    "end": "185940"
  },
  {
    "text": "so um obviously as the title says",
    "start": "185940",
    "end": "188879"
  },
  {
    "text": "centralized versus decentralized the",
    "start": "188879",
    "end": "191040"
  },
  {
    "text": "centralized aspect is essentially having",
    "start": "191040",
    "end": "193319"
  },
  {
    "text": "one large thing that runs discovers all",
    "start": "193319",
    "end": "197700"
  },
  {
    "text": "the targets that it needs to pick up",
    "start": "197700",
    "end": "199019"
  },
  {
    "text": "metrics from",
    "start": "199019",
    "end": "200519"
  },
  {
    "text": "collect them processes them and then",
    "start": "200519",
    "end": "203040"
  },
  {
    "text": "ships them off into wherever you store",
    "start": "203040",
    "end": "205140"
  },
  {
    "text": "them now that massive strip mining piece",
    "start": "205140",
    "end": "208319"
  },
  {
    "text": "of equipment is actually a good example",
    "start": "208319",
    "end": "210360"
  },
  {
    "text": "of it why because it's big it's fairly",
    "start": "210360",
    "end": "213239"
  },
  {
    "text": "expensive it but it's only one right so",
    "start": "213239",
    "end": "216000"
  },
  {
    "text": "you can maintain it in one spot you can",
    "start": "216000",
    "end": "217739"
  },
  {
    "text": "control it in one spot but it has a",
    "start": "217739",
    "end": "220739"
  },
  {
    "text": "massive downfall and that is if it",
    "start": "220739",
    "end": "222480"
  },
  {
    "text": "breaks you're not collecting anything",
    "start": "222480",
    "end": "225599"
  },
  {
    "text": "um which can be really problematic right",
    "start": "225599",
    "end": "227940"
  },
  {
    "text": "uh if since we rely on this data more",
    "start": "227940",
    "end": "231840"
  },
  {
    "text": "and more to make sure that we reliably",
    "start": "231840",
    "end": "234060"
  },
  {
    "text": "deliver something to our consumers in",
    "start": "234060",
    "end": "236519"
  },
  {
    "text": "the end",
    "start": "236519",
    "end": "237780"
  },
  {
    "text": "now the right hand side uh",
    "start": "237780",
    "end": "241019"
  },
  {
    "text": "is is the different approach right",
    "start": "241019",
    "end": "243060"
  },
  {
    "text": "decentralized approach I don't know if",
    "start": "243060",
    "end": "244920"
  },
  {
    "text": "anybody played Starcraft but those are",
    "start": "244920",
    "end": "246900"
  },
  {
    "text": "kind of the drones collectors that they",
    "start": "246900",
    "end": "248519"
  },
  {
    "text": "use in Starcraft you can have one",
    "start": "248519",
    "end": "250860"
  },
  {
    "text": "gazillion of them and they go out they",
    "start": "250860",
    "end": "254159"
  },
  {
    "text": "do their thing they collect whatever",
    "start": "254159",
    "end": "255900"
  },
  {
    "text": "they collect and they bring it back to",
    "start": "255900",
    "end": "257760"
  },
  {
    "text": "uh wherever we're storing the the",
    "start": "257760",
    "end": "260280"
  },
  {
    "text": "resources right and if one of them fails",
    "start": "260280",
    "end": "263100"
  },
  {
    "text": "and we need to replace it that process",
    "start": "263100",
    "end": "264900"
  },
  {
    "text": "is usually quick uh",
    "start": "264900",
    "end": "267479"
  },
  {
    "text": "um and if you think about it in the in",
    "start": "267479",
    "end": "269340"
  },
  {
    "text": "the context of like a collection agent",
    "start": "269340",
    "end": "271560"
  },
  {
    "text": "right if it's small if it crashes it's",
    "start": "271560",
    "end": "273780"
  },
  {
    "text": "going to come back up in a couple of",
    "start": "273780",
    "end": "274979"
  },
  {
    "text": "seconds start doing its job and you're",
    "start": "274979",
    "end": "277259"
  },
  {
    "text": "Off to the Races that might not be true",
    "start": "277259",
    "end": "279360"
  },
  {
    "text": "in a centralized environment obviously",
    "start": "279360",
    "end": "282540"
  },
  {
    "text": "now that obviously also presents a",
    "start": "282540",
    "end": "285120"
  },
  {
    "text": "couple of challenges uh mostly around",
    "start": "285120",
    "end": "288199"
  },
  {
    "text": "command and control so how do you",
    "start": "288199",
    "end": "290460"
  },
  {
    "text": "actually make sure that that whole Fleet",
    "start": "290460",
    "end": "293100"
  },
  {
    "text": "of things is doing the right thing and",
    "start": "293100",
    "end": "295620"
  },
  {
    "text": "and make sure that you are",
    "start": "295620",
    "end": "298860"
  },
  {
    "text": "that you're understanding something goes",
    "start": "298860",
    "end": "300479"
  },
  {
    "text": "wrong and so on and so on",
    "start": "300479",
    "end": "302759"
  },
  {
    "text": "um now",
    "start": "302759",
    "end": "304560"
  },
  {
    "text": "obviously",
    "start": "304560",
    "end": "306060"
  },
  {
    "text": "This is complicated right and not all",
    "start": "306060",
    "end": "309660"
  },
  {
    "text": "problems are are best solved in the same",
    "start": "309660",
    "end": "312479"
  },
  {
    "text": "way",
    "start": "312479",
    "end": "313259"
  },
  {
    "text": "and uh there's the uh the obvious thing",
    "start": "313259",
    "end": "316919"
  },
  {
    "text": "you think about is well what if we kind",
    "start": "316919",
    "end": "319080"
  },
  {
    "text": "of do both uh well Morpheus never said",
    "start": "319080",
    "end": "322020"
  },
  {
    "text": "that and Neo couldn't pick both pills",
    "start": "322020",
    "end": "324120"
  },
  {
    "text": "but in this case we actually can do",
    "start": "324120",
    "end": "327240"
  },
  {
    "text": "something along those lines and uh Rabun",
    "start": "327240",
    "end": "330240"
  },
  {
    "text": "actually has a really good example of",
    "start": "330240",
    "end": "331680"
  },
  {
    "text": "how that was done at doordash so I'll",
    "start": "331680",
    "end": "334380"
  },
  {
    "text": "let him present that",
    "start": "334380",
    "end": "336539"
  },
  {
    "text": "thank you Alex so",
    "start": "336539",
    "end": "340220"
  },
  {
    "text": "before we start I know some of you don't",
    "start": "340860",
    "end": "344039"
  },
  {
    "text": "know doordash so what is zordash is a",
    "start": "344039",
    "end": "348180"
  },
  {
    "text": "company that does Last Mile Logistics",
    "start": "348180",
    "end": "351060"
  },
  {
    "text": "and it provides the infrastructure to",
    "start": "351060",
    "end": "353340"
  },
  {
    "text": "support local Commerce basically we have",
    "start": "353340",
    "end": "356280"
  },
  {
    "text": "Merchants we have the consumers and then",
    "start": "356280",
    "end": "360060"
  },
  {
    "text": "we have Dashers that are connecting them",
    "start": "360060",
    "end": "361979"
  },
  {
    "text": "so",
    "start": "361979",
    "end": "363020"
  },
  {
    "text": "deliveries or like your food delivery or",
    "start": "363020",
    "end": "366240"
  },
  {
    "text": "the different types of deliveries these",
    "start": "366240",
    "end": "368400"
  },
  {
    "text": "are possible through doordash and it's",
    "start": "368400",
    "end": "371340"
  },
  {
    "text": "pretty popular",
    "start": "371340",
    "end": "372539"
  },
  {
    "text": "but",
    "start": "372539",
    "end": "373740"
  },
  {
    "text": "how about",
    "start": "373740",
    "end": "375360"
  },
  {
    "text": "doordash own infrastructure so we are",
    "start": "375360",
    "end": "379440"
  },
  {
    "text": "Cloud native we have been on cloud from",
    "start": "379440",
    "end": "382740"
  },
  {
    "text": "the get-go and we are right now",
    "start": "382740",
    "end": "385319"
  },
  {
    "text": "kubernetes based",
    "start": "385319",
    "end": "387600"
  },
  {
    "text": "we have multiple clusters the number of",
    "start": "387600",
    "end": "390360"
  },
  {
    "text": "clusters I think it's now over 20. and",
    "start": "390360",
    "end": "394020"
  },
  {
    "text": "the largest one it has between",
    "start": "394020",
    "end": "398180"
  },
  {
    "text": "1500 to 2 000 nodes depending on the",
    "start": "398180",
    "end": "402740"
  },
  {
    "text": "scaling and depending on the traffic and",
    "start": "402740",
    "end": "407100"
  },
  {
    "text": "we have more than 35",
    "start": "407100",
    "end": "410520"
  },
  {
    "text": "000 Parts at Peak",
    "start": "410520",
    "end": "412740"
  },
  {
    "text": "and that means we have a lot of scraping",
    "start": "412740",
    "end": "414780"
  },
  {
    "text": "targets so we have on soundclouds",
    "start": "414780",
    "end": "416940"
  },
  {
    "text": "multiple targets so we have around 100K",
    "start": "416940",
    "end": "420440"
  },
  {
    "text": "scraping Targets in a particular one so",
    "start": "420440",
    "end": "425639"
  },
  {
    "text": "we didn't start with Prometheus so we",
    "start": "425639",
    "end": "428520"
  },
  {
    "text": "were a stats D shop for too long however",
    "start": "428520",
    "end": "433560"
  },
  {
    "text": "we had some problems with scaling the",
    "start": "433560",
    "end": "436560"
  },
  {
    "text": "Primitive the stats the infrastructure",
    "start": "436560",
    "end": "439139"
  },
  {
    "text": "and if you go and check our blog post",
    "start": "439139",
    "end": "441180"
  },
  {
    "text": "you will see",
    "start": "441180",
    "end": "442800"
  },
  {
    "text": "things that we have tried to scale this",
    "start": "442800",
    "end": "445020"
  },
  {
    "text": "up to a certain point and after that",
    "start": "445020",
    "end": "447060"
  },
  {
    "text": "point we said okay this is not working",
    "start": "447060",
    "end": "448740"
  },
  {
    "text": "so we need a new paradigm and then we",
    "start": "448740",
    "end": "451680"
  },
  {
    "text": "shifted to Prometheus I should say that",
    "start": "451680",
    "end": "454740"
  },
  {
    "text": "was a tough migration",
    "start": "454740",
    "end": "456960"
  },
  {
    "text": "it was a multi-year migration it had a",
    "start": "456960",
    "end": "461400"
  },
  {
    "text": "lot of tricks but the nice thing about",
    "start": "461400",
    "end": "463380"
  },
  {
    "text": "that was we learned a lot about how to",
    "start": "463380",
    "end": "466080"
  },
  {
    "text": "use Prometheus especially distributed",
    "start": "466080",
    "end": "468660"
  },
  {
    "text": "versus centralized",
    "start": "468660",
    "end": "470639"
  },
  {
    "text": "and right now",
    "start": "470639",
    "end": "472919"
  },
  {
    "text": "we are over 10 million metrics PPS by",
    "start": "472919",
    "end": "476220"
  },
  {
    "text": "the way we batch them 30 second batches",
    "start": "476220",
    "end": "479280"
  },
  {
    "text": "we feel like it's a good number and",
    "start": "479280",
    "end": "483419"
  },
  {
    "text": "we have more than I think 10 000 alerts",
    "start": "483419",
    "end": "487020"
  },
  {
    "text": "in real time our teams they love metrics",
    "start": "487020",
    "end": "490080"
  },
  {
    "text": "they love alerts so it's a challenge",
    "start": "490080",
    "end": "493139"
  },
  {
    "text": "so with that",
    "start": "493139",
    "end": "494759"
  },
  {
    "text": "so this is what we have right now I'm",
    "start": "494759",
    "end": "497639"
  },
  {
    "text": "going to talk about just metrics so no",
    "start": "497639",
    "end": "499620"
  },
  {
    "text": "logging or tracing so most of our",
    "start": "499620",
    "end": "502919"
  },
  {
    "text": "infrastructure lives on kubernetes and",
    "start": "502919",
    "end": "505919"
  },
  {
    "text": "what we have with this is well anyway",
    "start": "505919",
    "end": "507960"
  },
  {
    "text": "our render as you can see is",
    "start": "507960",
    "end": "509340"
  },
  {
    "text": "chronosphere and we use their collector",
    "start": "509340",
    "end": "512219"
  },
  {
    "text": "it's an agent that we deploy as a demon",
    "start": "512219",
    "end": "515099"
  },
  {
    "text": "set in our kubernetes cluster so that",
    "start": "515099",
    "end": "519180"
  },
  {
    "text": "they can do the cloud native Discovery",
    "start": "519180",
    "end": "522599"
  },
  {
    "text": "and Metric scraping in kubernetes",
    "start": "522599",
    "end": "525899"
  },
  {
    "text": "environment it's pretty well it is good",
    "start": "525899",
    "end": "528839"
  },
  {
    "text": "but that's not enough",
    "start": "528839",
    "end": "531600"
  },
  {
    "text": "sometimes because of like whatever",
    "start": "531600",
    "end": "534180"
  },
  {
    "text": "reason first of for example our traffic",
    "start": "534180",
    "end": "536820"
  },
  {
    "text": "team believes in dedicated traffic and",
    "start": "536820",
    "end": "538800"
  },
  {
    "text": "machines so we have some ec2 instances",
    "start": "538800",
    "end": "541440"
  },
  {
    "text": "and you can see",
    "start": "541440",
    "end": "543360"
  },
  {
    "text": "we are on AWS shop again and for them we",
    "start": "543360",
    "end": "547560"
  },
  {
    "text": "don't use the demon set approach we",
    "start": "547560",
    "end": "549600"
  },
  {
    "text": "deploy them as Services more or less a",
    "start": "549600",
    "end": "552660"
  },
  {
    "text": "similar concept here but it's a",
    "start": "552660",
    "end": "555360"
  },
  {
    "text": "different concept because they have one",
    "start": "555360",
    "end": "558660"
  },
  {
    "text": "responsibility whereas the collector in",
    "start": "558660",
    "end": "561300"
  },
  {
    "text": "the Chronos kubernetes one is",
    "start": "561300",
    "end": "563220"
  },
  {
    "text": "responsible for multiple endpoints",
    "start": "563220",
    "end": "566160"
  },
  {
    "text": "because of the Pod deployment and they",
    "start": "566160",
    "end": "568740"
  },
  {
    "text": "do Discovery real time for The Institute",
    "start": "568740",
    "end": "571019"
  },
  {
    "text": "one we generally use a file based",
    "start": "571019",
    "end": "573180"
  },
  {
    "text": "Discovery it's simple it's convenient",
    "start": "573180",
    "end": "575040"
  },
  {
    "text": "and that works well for a such thing",
    "start": "575040",
    "end": "577980"
  },
  {
    "text": "however again we also have other",
    "start": "577980",
    "end": "581040"
  },
  {
    "text": "workloads one thing first of all you",
    "start": "581040",
    "end": "583920"
  },
  {
    "text": "need your AWS metrics and we don't use",
    "start": "583920",
    "end": "586820"
  },
  {
    "text": "cloud watch that much",
    "start": "586820",
    "end": "589080"
  },
  {
    "text": "some teams do but they want",
    "start": "589080",
    "end": "591000"
  },
  {
    "text": "observability in a single place and they",
    "start": "591000",
    "end": "593279"
  },
  {
    "text": "want this to be available on",
    "start": "593279",
    "end": "594600"
  },
  {
    "text": "chronosphere so same for other vendors",
    "start": "594600",
    "end": "598860"
  },
  {
    "text": "so what we do is we have a separate",
    "start": "598860",
    "end": "601260"
  },
  {
    "text": "deployment of Chronicle vector",
    "start": "601260",
    "end": "604560"
  },
  {
    "text": "responsible for this and we use",
    "start": "604560",
    "end": "607500"
  },
  {
    "text": "intermediaries such as custom exporters",
    "start": "607500",
    "end": "610080"
  },
  {
    "text": "or Stat C for like touch jobs or scripts",
    "start": "610080",
    "end": "613500"
  },
  {
    "text": "in the end you can see I mentioned",
    "start": "613500",
    "end": "616200"
  },
  {
    "text": "Chronicle letter in different places",
    "start": "616200",
    "end": "617760"
  },
  {
    "text": "they are all different types of",
    "start": "617760",
    "end": "619740"
  },
  {
    "text": "deployments",
    "start": "619740",
    "end": "621000"
  },
  {
    "text": "even if the binary is the same it",
    "start": "621000",
    "end": "622920"
  },
  {
    "text": "doesn't matter we configure them to be",
    "start": "622920",
    "end": "625519"
  },
  {
    "text": "special to those tasks so these are the",
    "start": "625519",
    "end": "628920"
  },
  {
    "text": "models that we have",
    "start": "628920",
    "end": "630420"
  },
  {
    "text": "first of all we have a demon set",
    "start": "630420",
    "end": "632360"
  },
  {
    "text": "obviously we keep the configuration for",
    "start": "632360",
    "end": "635160"
  },
  {
    "text": "the demon set as simple as possible",
    "start": "635160",
    "end": "638040"
  },
  {
    "text": "we want this to be generic we want this",
    "start": "638040",
    "end": "640500"
  },
  {
    "text": "to cover",
    "start": "640500",
    "end": "641580"
  },
  {
    "text": "multiple microservices and what we do on",
    "start": "641580",
    "end": "645779"
  },
  {
    "text": "top is just add some rewrite rules we",
    "start": "645779",
    "end": "649380"
  },
  {
    "text": "have a standard set of labels that we",
    "start": "649380",
    "end": "651000"
  },
  {
    "text": "attach to all of those metrics so this",
    "start": "651000",
    "end": "653760"
  },
  {
    "text": "is what we do with the config and",
    "start": "653760",
    "end": "657959"
  },
  {
    "text": "we have some extra Virat rules to add",
    "start": "657959",
    "end": "660480"
  },
  {
    "text": "some extra metrics and that's it it's",
    "start": "660480",
    "end": "662640"
  },
  {
    "text": "it's kept simple on purpose",
    "start": "662640",
    "end": "665220"
  },
  {
    "text": "and there's also the sidecar approach",
    "start": "665220",
    "end": "667440"
  },
  {
    "text": "why would we need this because",
    "start": "667440",
    "end": "669200"
  },
  {
    "text": "unfortunately some services are just too",
    "start": "669200",
    "end": "672540"
  },
  {
    "text": "noisy it might be a buggy thing it might",
    "start": "672540",
    "end": "675600"
  },
  {
    "text": "be the nature of the service",
    "start": "675600",
    "end": "677459"
  },
  {
    "text": "so for those we keep a sidecar more or",
    "start": "677459",
    "end": "681240"
  },
  {
    "text": "less we have a special",
    "start": "681240",
    "end": "683540"
  },
  {
    "text": "container attached to that one the",
    "start": "683540",
    "end": "686760"
  },
  {
    "text": "within the same pod just for the purpose",
    "start": "686760",
    "end": "689940"
  },
  {
    "text": "of scraping that particular service",
    "start": "689940",
    "end": "693300"
  },
  {
    "text": "the good thing about this one is you can",
    "start": "693300",
    "end": "695820"
  },
  {
    "text": "allocate resources",
    "start": "695820",
    "end": "697500"
  },
  {
    "text": "depending on that particular service",
    "start": "697500",
    "end": "699660"
  },
  {
    "text": "needs this is critical because I will",
    "start": "699660",
    "end": "702240"
  },
  {
    "text": "discuss the Merit of this one in the",
    "start": "702240",
    "end": "704459"
  },
  {
    "text": "next one and also the custom",
    "start": "704459",
    "end": "705779"
  },
  {
    "text": "configuration that they can have they",
    "start": "705779",
    "end": "708000"
  },
  {
    "text": "can say something like hey I want my",
    "start": "708000",
    "end": "709980"
  },
  {
    "text": "metrics to be scraped every 10 seconds",
    "start": "709980",
    "end": "712200"
  },
  {
    "text": "or some say I don't need 30 second",
    "start": "712200",
    "end": "714480"
  },
  {
    "text": "resolution I'm fine with five minutes so",
    "start": "714480",
    "end": "717660"
  },
  {
    "text": "to handle those instead of finding",
    "start": "717660",
    "end": "720300"
  },
  {
    "text": "tricks in the demon set we use it in the",
    "start": "720300",
    "end": "723060"
  },
  {
    "text": "Sidecar",
    "start": "723060",
    "end": "724019"
  },
  {
    "text": "and also there is a Unix service",
    "start": "724019",
    "end": "726860"
  },
  {
    "text": "like I mentioned it doesn't do",
    "start": "726860",
    "end": "729260"
  },
  {
    "text": "kubernetes-based Discovery it has its",
    "start": "729260",
    "end": "731640"
  },
  {
    "text": "own specific configurations and that's",
    "start": "731640",
    "end": "734160"
  },
  {
    "text": "it and the last one is the deployment so",
    "start": "734160",
    "end": "737100"
  },
  {
    "text": "the deployment is we have a separate",
    "start": "737100",
    "end": "740040"
  },
  {
    "text": "set of called vectors",
    "start": "740040",
    "end": "742380"
  },
  {
    "text": "aimed for a single task and in this case",
    "start": "742380",
    "end": "744600"
  },
  {
    "text": "the example is the one that I just gave",
    "start": "744600",
    "end": "746700"
  },
  {
    "text": "first of all for example get ec2 metrics",
    "start": "746700",
    "end": "749640"
  },
  {
    "text": "from AWS and expose them to send them to",
    "start": "749640",
    "end": "754680"
  },
  {
    "text": "chronosphere and these are",
    "start": "754680",
    "end": "757459"
  },
  {
    "text": "these have evolved over time it wasn't",
    "start": "757459",
    "end": "760019"
  },
  {
    "text": "like designed like this we had problems",
    "start": "760019",
    "end": "763680"
  },
  {
    "text": "we discussed some of the solutions and",
    "start": "763680",
    "end": "765779"
  },
  {
    "text": "right now it works uh better than I",
    "start": "765779",
    "end": "769560"
  },
  {
    "text": "would expect",
    "start": "769560",
    "end": "771120"
  },
  {
    "text": "so",
    "start": "771120",
    "end": "772860"
  },
  {
    "text": "when we were making those choices",
    "start": "772860",
    "end": "776220"
  },
  {
    "text": "we had some important parameters first",
    "start": "776220",
    "end": "779459"
  },
  {
    "text": "of all",
    "start": "779459",
    "end": "781139"
  },
  {
    "text": "um",
    "start": "781139",
    "end": "782399"
  },
  {
    "text": "um when you use a demon set the resource",
    "start": "782399",
    "end": "785639"
  },
  {
    "text": "consumption is pretty critical because",
    "start": "785639",
    "end": "788399"
  },
  {
    "text": "you are deploying the same resource",
    "start": "788399",
    "end": "791000"
  },
  {
    "text": "requirements across your whole feed",
    "start": "791000",
    "end": "793800"
  },
  {
    "text": "so unfortunately",
    "start": "793800",
    "end": "797459"
  },
  {
    "text": "it means we need stability",
    "start": "797459",
    "end": "800700"
  },
  {
    "text": "and called Vector stability is the key",
    "start": "800700",
    "end": "804000"
  },
  {
    "text": "parameter for the Daemon set and for the",
    "start": "804000",
    "end": "808139"
  },
  {
    "text": "others it's okay if they have resource",
    "start": "808139",
    "end": "810779"
  },
  {
    "text": "issues or bugs but the collector itself",
    "start": "810779",
    "end": "814139"
  },
  {
    "text": "deployed as a demon set should be stable",
    "start": "814139",
    "end": "818180"
  },
  {
    "text": "the second part is of the obviously",
    "start": "818180",
    "end": "820620"
  },
  {
    "text": "discovery we don't want our collectors",
    "start": "820620",
    "end": "823740"
  },
  {
    "text": "to lag behind Discovery because",
    "start": "823740",
    "end": "826139"
  },
  {
    "text": "so developers are pretty sensitive they",
    "start": "826139",
    "end": "829380"
  },
  {
    "text": "really want their metrics to be",
    "start": "829380",
    "end": "830639"
  },
  {
    "text": "available from the get-go and if there's",
    "start": "830639",
    "end": "834000"
  },
  {
    "text": "a delay if there's a resource problem",
    "start": "834000",
    "end": "835500"
  },
  {
    "text": "they are not forgiving",
    "start": "835500",
    "end": "837839"
  },
  {
    "text": "we also do enrichment we add for example",
    "start": "837839",
    "end": "842220"
  },
  {
    "text": "a couple of labels one is the",
    "start": "842220",
    "end": "843899"
  },
  {
    "text": "environment variable",
    "start": "843899",
    "end": "845459"
  },
  {
    "text": "in stats T world this was a chaos so we",
    "start": "845459",
    "end": "848399"
  },
  {
    "text": "had n as a label name versus environment",
    "start": "848399",
    "end": "852240"
  },
  {
    "text": "we had prod versus production uppercase",
    "start": "852240",
    "end": "855060"
  },
  {
    "text": "lowercase all those different",
    "start": "855060",
    "end": "856800"
  },
  {
    "text": "combinations and",
    "start": "856800",
    "end": "858600"
  },
  {
    "text": "it prevented us from building standard",
    "start": "858600",
    "end": "862560"
  },
  {
    "text": "dashboards so what we did was we said",
    "start": "862560",
    "end": "864839"
  },
  {
    "text": "okay",
    "start": "864839",
    "end": "865980"
  },
  {
    "text": "no more infra labels let us tag those",
    "start": "865980",
    "end": "868860"
  },
  {
    "text": "for you and then you can use them as if",
    "start": "868860",
    "end": "872040"
  },
  {
    "text": "you are creating those yourself",
    "start": "872040",
    "end": "874320"
  },
  {
    "text": "and",
    "start": "874320",
    "end": "875820"
  },
  {
    "text": "we have a lot of rewrite rules in",
    "start": "875820",
    "end": "878760"
  },
  {
    "text": "different places for various reasons and",
    "start": "878760",
    "end": "882180"
  },
  {
    "text": "this was another parameter and the last",
    "start": "882180",
    "end": "884699"
  },
  {
    "text": "one is the recording group our SRE team",
    "start": "884699",
    "end": "888060"
  },
  {
    "text": "that they love this because they keep",
    "start": "888060",
    "end": "890160"
  },
  {
    "text": "their slos SLO tracking using the",
    "start": "890160",
    "end": "892980"
  },
  {
    "text": "recording rules so we have a lot of them",
    "start": "892980",
    "end": "894420"
  },
  {
    "text": "so we also needed something that would",
    "start": "894420",
    "end": "897120"
  },
  {
    "text": "scale",
    "start": "897120",
    "end": "898100"
  },
  {
    "text": "and",
    "start": "898100",
    "end": "899720"
  },
  {
    "text": "keep up with the ongoing SLO SLA project",
    "start": "899720",
    "end": "905820"
  },
  {
    "text": "so with this we have",
    "start": "905820",
    "end": "909720"
  },
  {
    "text": "both of the both of the world's right so",
    "start": "909720",
    "end": "912060"
  },
  {
    "text": "we have the distributed one versus the",
    "start": "912060",
    "end": "915060"
  },
  {
    "text": "centralized one so",
    "start": "915060",
    "end": "917519"
  },
  {
    "text": "obviously if you have a decentralized",
    "start": "917519",
    "end": "919500"
  },
  {
    "text": "architecture you don't have a single",
    "start": "919500",
    "end": "921600"
  },
  {
    "text": "point of failure and this saved us",
    "start": "921600",
    "end": "924000"
  },
  {
    "text": "multiple times",
    "start": "924000",
    "end": "925500"
  },
  {
    "text": "we there is always something there is",
    "start": "925500",
    "end": "928260"
  },
  {
    "text": "always a bad neighbor there's always a",
    "start": "928260",
    "end": "930240"
  },
  {
    "text": "bad machine there is always a bad",
    "start": "930240",
    "end": "931800"
  },
  {
    "text": "configuration",
    "start": "931800",
    "end": "933000"
  },
  {
    "text": "because our compute team also relies on",
    "start": "933000",
    "end": "936500"
  },
  {
    "text": "the collectors to scale the cluster and",
    "start": "936500",
    "end": "940680"
  },
  {
    "text": "up and down it's critical that we should",
    "start": "940680",
    "end": "943560"
  },
  {
    "text": "be able to survive so it's pretty",
    "start": "943560",
    "end": "946260"
  },
  {
    "text": "resilient",
    "start": "946260",
    "end": "947579"
  },
  {
    "text": "uh it's pretty scalable I'm saying this",
    "start": "947579",
    "end": "951420"
  },
  {
    "text": "from our point of view I'm a client of",
    "start": "951420",
    "end": "954180"
  },
  {
    "text": "the chronosphere and from our point of",
    "start": "954180",
    "end": "956940"
  },
  {
    "text": "view we just ask for more resources and",
    "start": "956940",
    "end": "960060"
  },
  {
    "text": "we get it which is nice it's flexible",
    "start": "960060",
    "end": "963060"
  },
  {
    "text": "like I mentioned we can have different",
    "start": "963060",
    "end": "964860"
  },
  {
    "text": "combinations of those and",
    "start": "964860",
    "end": "968279"
  },
  {
    "text": "because they are local the rewrite rules",
    "start": "968279",
    "end": "970500"
  },
  {
    "text": "are local there is negligible",
    "start": "970500",
    "end": "971820"
  },
  {
    "text": "performance penalty",
    "start": "971820",
    "end": "973560"
  },
  {
    "text": "because we distribute and we scale them",
    "start": "973560",
    "end": "975720"
  },
  {
    "text": "differently if there's a need and the",
    "start": "975720",
    "end": "978839"
  },
  {
    "text": "last one if you have noisy neighbors",
    "start": "978839",
    "end": "980399"
  },
  {
    "text": "they just impact that particular node",
    "start": "980399",
    "end": "983639"
  },
  {
    "text": "not the whole cluster however the cons",
    "start": "983639",
    "end": "987120"
  },
  {
    "text": "resources is the problem",
    "start": "987120",
    "end": "989339"
  },
  {
    "text": "in decentralized architecture because",
    "start": "989339",
    "end": "992459"
  },
  {
    "text": "you have a demon set right so you need",
    "start": "992459",
    "end": "995940"
  },
  {
    "text": "to make sure that you are scaling your",
    "start": "995940",
    "end": "998639"
  },
  {
    "text": "system",
    "start": "998639",
    "end": "999779"
  },
  {
    "text": "to handle your worst performance so that",
    "start": "999779",
    "end": "1003980"
  },
  {
    "text": "is always your limiting one so you go up",
    "start": "1003980",
    "end": "1006079"
  },
  {
    "text": "up until you feel fine but then you have",
    "start": "1006079",
    "end": "1008480"
  },
  {
    "text": "most of the cluster",
    "start": "1008480",
    "end": "1011120"
  },
  {
    "text": "uh not utilizing your allocated",
    "start": "1011120",
    "end": "1013519"
  },
  {
    "text": "resources and then you have to play with",
    "start": "1013519",
    "end": "1016220"
  },
  {
    "text": "the rules you do over subscribing you do",
    "start": "1016220",
    "end": "1018560"
  },
  {
    "text": "all those tricks but this is the case",
    "start": "1018560",
    "end": "1021740"
  },
  {
    "text": "uh",
    "start": "1021740",
    "end": "1023240"
  },
  {
    "text": "when you do major changes",
    "start": "1023240",
    "end": "1026260"
  },
  {
    "text": "it can be a version deployment Etc or it",
    "start": "1026260",
    "end": "1030140"
  },
  {
    "text": "can be",
    "start": "1030140",
    "end": "1031160"
  },
  {
    "text": "some tests that you're doing it's a",
    "start": "1031160",
    "end": "1033260"
  },
  {
    "text": "demonstrate deploy so we are trying to",
    "start": "1033260",
    "end": "1035178"
  },
  {
    "text": "be responsible Engineers what we do is",
    "start": "1035179",
    "end": "1036918"
  },
  {
    "text": "like we do this slowly on multiple",
    "start": "1036919",
    "end": "1039380"
  },
  {
    "text": "clusters so it takes dates",
    "start": "1039380",
    "end": "1041900"
  },
  {
    "text": "we don't want to speed it up because",
    "start": "1041900",
    "end": "1044860"
  },
  {
    "text": "it's a critical piece so we want to make",
    "start": "1044860",
    "end": "1047600"
  },
  {
    "text": "sure that it's reliable but it means you",
    "start": "1047600",
    "end": "1050120"
  },
  {
    "text": "have to let it deploy really slowly",
    "start": "1050120",
    "end": "1053120"
  },
  {
    "text": "which can take some time and it can",
    "start": "1053120",
    "end": "1055039"
  },
  {
    "text": "create so create some operational burden",
    "start": "1055039",
    "end": "1056860"
  },
  {
    "text": "and the last one is",
    "start": "1056860",
    "end": "1061100"
  },
  {
    "text": "when you have an issue when it's some of",
    "start": "1061100",
    "end": "1064700"
  },
  {
    "text": "the code vectors or some of the agents",
    "start": "1064700",
    "end": "1066880"
  },
  {
    "text": "misbehaving then you have a problem",
    "start": "1066880",
    "end": "1069260"
  },
  {
    "text": "because then you have to find in the",
    "start": "1069260",
    "end": "1072320"
  },
  {
    "text": "dynamic kubernetes environment what's",
    "start": "1072320",
    "end": "1074660"
  },
  {
    "text": "going on",
    "start": "1074660",
    "end": "1075679"
  },
  {
    "text": "you have a lot of logs because every log",
    "start": "1075679",
    "end": "1079039"
  },
  {
    "text": "is like really multiplied by thousands",
    "start": "1079039",
    "end": "1081559"
  },
  {
    "text": "so you have to pinpoint what's going on",
    "start": "1081559",
    "end": "1083840"
  },
  {
    "text": "you have to isolate or coordinate some",
    "start": "1083840",
    "end": "1086120"
  },
  {
    "text": "of the nodes to see what's going on and",
    "start": "1086120",
    "end": "1088340"
  },
  {
    "text": "then",
    "start": "1088340",
    "end": "1089419"
  },
  {
    "text": "what you do is like you're looking for a",
    "start": "1089419",
    "end": "1090799"
  },
  {
    "text": "needle in a haystack so that's that was",
    "start": "1090799",
    "end": "1093080"
  },
  {
    "text": "the original problem that we had to",
    "start": "1093080",
    "end": "1095299"
  },
  {
    "text": "improvise all those different types of",
    "start": "1095299",
    "end": "1097580"
  },
  {
    "text": "deployments and that's what we ended up",
    "start": "1097580",
    "end": "1100880"
  },
  {
    "text": "with",
    "start": "1100880",
    "end": "1101780"
  },
  {
    "text": "so",
    "start": "1101780",
    "end": "1104780"
  },
  {
    "text": "these are my conclusions by the way",
    "start": "1105020",
    "end": "1109039"
  },
  {
    "text": "so",
    "start": "1109039",
    "end": "1110360"
  },
  {
    "text": "our experience told us that you need a",
    "start": "1110360",
    "end": "1113840"
  },
  {
    "text": "distributed deployments deployment after",
    "start": "1113840",
    "end": "1116240"
  },
  {
    "text": "a certain scale for for us",
    "start": "1116240",
    "end": "1119000"
  },
  {
    "text": "that was when we passed this 1 million",
    "start": "1119000",
    "end": "1122179"
  },
  {
    "text": "metrics per second mark",
    "start": "1122179",
    "end": "1125299"
  },
  {
    "text": "because at that point we started seeing",
    "start": "1125299",
    "end": "1127460"
  },
  {
    "text": "some loss maybe we didn't do a good job",
    "start": "1127460",
    "end": "1130220"
  },
  {
    "text": "of optimizing but it felt like we needed",
    "start": "1130220",
    "end": "1133520"
  },
  {
    "text": "something",
    "start": "1133520",
    "end": "1134720"
  },
  {
    "text": "and",
    "start": "1134720",
    "end": "1136700"
  },
  {
    "text": "it also plays nicely with kubernetes so",
    "start": "1136700",
    "end": "1138860"
  },
  {
    "text": "we wanted to scale kubernetes so",
    "start": "1138860",
    "end": "1140539"
  },
  {
    "text": "observability is really critical for the",
    "start": "1140539",
    "end": "1143240"
  },
  {
    "text": "compute team so we had to scale better",
    "start": "1143240",
    "end": "1145760"
  },
  {
    "text": "than what they asked for so we moved to",
    "start": "1145760",
    "end": "1149179"
  },
  {
    "text": "a distributed architecture",
    "start": "1149179",
    "end": "1151940"
  },
  {
    "text": "it's pretty stable",
    "start": "1151940",
    "end": "1155120"
  },
  {
    "text": "it can have",
    "start": "1155120",
    "end": "1156860"
  },
  {
    "text": "its own issues",
    "start": "1156860",
    "end": "1158539"
  },
  {
    "text": "so you need to improvise",
    "start": "1158539",
    "end": "1160760"
  },
  {
    "text": "you need to take some of them out put in",
    "start": "1160760",
    "end": "1163460"
  },
  {
    "text": "a single deployment do sidecar model or",
    "start": "1163460",
    "end": "1166640"
  },
  {
    "text": "whatever but",
    "start": "1166640",
    "end": "1167960"
  },
  {
    "text": "once you have this once you understand",
    "start": "1167960",
    "end": "1170660"
  },
  {
    "text": "and",
    "start": "1170660",
    "end": "1172880"
  },
  {
    "text": "reconfigure your system it's pretty",
    "start": "1172880",
    "end": "1174740"
  },
  {
    "text": "stable you don't have to do anything you",
    "start": "1174740",
    "end": "1176360"
  },
  {
    "text": "just let deployments go through",
    "start": "1176360",
    "end": "1179539"
  },
  {
    "text": "but you will need",
    "start": "1179539",
    "end": "1181940"
  },
  {
    "text": "to like work with a lot of exceptions",
    "start": "1181940",
    "end": "1184760"
  },
  {
    "text": "you have to like experience and see by",
    "start": "1184760",
    "end": "1188660"
  },
  {
    "text": "the way this is doordash uh experience",
    "start": "1188660",
    "end": "1191900"
  },
  {
    "text": "right so your experience can be a little",
    "start": "1191900",
    "end": "1194360"
  },
  {
    "text": "different but you know that there will",
    "start": "1194360",
    "end": "1196160"
  },
  {
    "text": "be some and you will be creating a lot",
    "start": "1196160",
    "end": "1197900"
  },
  {
    "text": "of Helm charts a lot of",
    "start": "1197900",
    "end": "1199580"
  },
  {
    "text": "uh changes",
    "start": "1199580",
    "end": "1202039"
  },
  {
    "text": "um",
    "start": "1202039",
    "end": "1202760"
  },
  {
    "text": "and with this",
    "start": "1202760",
    "end": "1204320"
  },
  {
    "text": "is this the last one",
    "start": "1204320",
    "end": "1208419"
  },
  {
    "text": "yeah so with this that concludes our",
    "start": "1208480",
    "end": "1211940"
  },
  {
    "text": "presentation and thank you and any",
    "start": "1211940",
    "end": "1214400"
  },
  {
    "text": "questions",
    "start": "1214400",
    "end": "1216640"
  },
  {
    "text": "foreign",
    "start": "1216740",
    "end": "1218919"
  },
  {
    "text": "you didn't touch on storage I think you",
    "start": "1230860",
    "end": "1233720"
  },
  {
    "text": "were gonna talk about that I'm curious",
    "start": "1233720",
    "end": "1235760"
  },
  {
    "text": "where you put all these metrics after",
    "start": "1235760",
    "end": "1237440"
  },
  {
    "text": "you collected them when you went to your",
    "start": "1237440",
    "end": "1239000"
  },
  {
    "text": "distributed model yeah so like I",
    "start": "1239000",
    "end": "1241880"
  },
  {
    "text": "mentioned since we used chronosphere we",
    "start": "1241880",
    "end": "1244160"
  },
  {
    "text": "are lucky they store the metrics for us",
    "start": "1244160",
    "end": "1246620"
  },
  {
    "text": "so I think Alex can talk about the",
    "start": "1246620",
    "end": "1250160"
  },
  {
    "text": "numbers from their point for us we don't",
    "start": "1250160",
    "end": "1253280"
  },
  {
    "text": "store",
    "start": "1253280",
    "end": "1254059"
  },
  {
    "text": "we they have the API we just ping the",
    "start": "1254059",
    "end": "1257480"
  },
  {
    "text": "API get the metrics and we are done",
    "start": "1257480",
    "end": "1260919"
  },
  {
    "text": "yeah we didn't necessarily mean to kind",
    "start": "1262880",
    "end": "1265580"
  },
  {
    "text": "of dig into that but we do have a",
    "start": "1265580",
    "end": "1267440"
  },
  {
    "text": "standout there and we also have a stand",
    "start": "1267440",
    "end": "1269660"
  },
  {
    "text": "at kubecon throughout the conference so",
    "start": "1269660",
    "end": "1272360"
  },
  {
    "text": "feel free to come by and we can kind of",
    "start": "1272360",
    "end": "1275360"
  },
  {
    "text": "show you what the solution does and how",
    "start": "1275360",
    "end": "1277039"
  },
  {
    "text": "it does it and discuss that further",
    "start": "1277039",
    "end": "1280400"
  },
  {
    "text": "okay",
    "start": "1280400",
    "end": "1282820"
  },
  {
    "text": "uh hello uh you mentioned uh it was",
    "start": "1288340",
    "end": "1291740"
  },
  {
    "text": "harder or took a lot of work to move",
    "start": "1291740",
    "end": "1294020"
  },
  {
    "text": "from stats D to Prometheus uh how did",
    "start": "1294020",
    "end": "1297500"
  },
  {
    "text": "you do that did you start with",
    "start": "1297500",
    "end": "1298700"
  },
  {
    "text": "chronosphere from the beginning or did",
    "start": "1298700",
    "end": "1300620"
  },
  {
    "text": "you try it by yourself and then you kind",
    "start": "1300620",
    "end": "1302720"
  },
  {
    "text": "of moved to them so maybe you can tell a",
    "start": "1302720",
    "end": "1304820"
  },
  {
    "text": "little bit more about this process so",
    "start": "1304820",
    "end": "1306559"
  },
  {
    "text": "yeah that's a good question and I think",
    "start": "1306559",
    "end": "1308539"
  },
  {
    "text": "on Friday we will have a presentation",
    "start": "1308539",
    "end": "1310460"
  },
  {
    "text": "explaining this but I'm gonna give you a",
    "start": "1310460",
    "end": "1312440"
  },
  {
    "text": "short summary",
    "start": "1312440",
    "end": "1313640"
  },
  {
    "text": "uh on on Friday yeah I think it's Friday",
    "start": "1313640",
    "end": "1316400"
  },
  {
    "text": "yeah Friday morning but the short",
    "start": "1316400",
    "end": "1319100"
  },
  {
    "text": "summary is",
    "start": "1319100",
    "end": "1320720"
  },
  {
    "text": "I think you need to take it",
    "start": "1320720",
    "end": "1324200"
  },
  {
    "text": "very slowly you need to First understand",
    "start": "1324200",
    "end": "1326720"
  },
  {
    "text": "that you're Shifting the Paradigm it's",
    "start": "1326720",
    "end": "1329000"
  },
  {
    "text": "not just pull versus push it's also like",
    "start": "1329000",
    "end": "1332000"
  },
  {
    "text": "you're moving around from percentiles to",
    "start": "1332000",
    "end": "1333919"
  },
  {
    "text": "histograms you're moving away from your",
    "start": "1333919",
    "end": "1336860"
  },
  {
    "text": "I can do whatever I want I'm going it's",
    "start": "1336860",
    "end": "1338720"
  },
  {
    "text": "going to push the metrics and it's easy",
    "start": "1338720",
    "end": "1340280"
  },
  {
    "text": "to you need to have a libraries you need",
    "start": "1340280",
    "end": "1342620"
  },
  {
    "text": "to expose them you need to understand",
    "start": "1342620",
    "end": "1344120"
  },
  {
    "text": "your observability so what we did was we",
    "start": "1344120",
    "end": "1346940"
  },
  {
    "text": "started with",
    "start": "1346940",
    "end": "1348320"
  },
  {
    "text": "a well-known set of services",
    "start": "1348320",
    "end": "1350780"
  },
  {
    "text": "that had strong leads and strong",
    "start": "1350780",
    "end": "1353120"
  },
  {
    "text": "engineering and we use them as our",
    "start": "1353120",
    "end": "1356360"
  },
  {
    "text": "better customers we worked with them to",
    "start": "1356360",
    "end": "1358640"
  },
  {
    "text": "see what was failing what we need to do",
    "start": "1358640",
    "end": "1361520"
  },
  {
    "text": "like is it just the library change",
    "start": "1361520",
    "end": "1364760"
  },
  {
    "text": "is it a rewrite because some teams use",
    "start": "1364760",
    "end": "1367700"
  },
  {
    "text": "micrometer and they just switched from",
    "start": "1367700",
    "end": "1370159"
  },
  {
    "text": "strategy to Primitives and it was a",
    "start": "1370159",
    "end": "1372200"
  },
  {
    "text": "disaster for us the metrics lost their",
    "start": "1372200",
    "end": "1374600"
  },
  {
    "text": "reliability so we had to re-improvise",
    "start": "1374600",
    "end": "1376640"
  },
  {
    "text": "and say okay let's use the native",
    "start": "1376640",
    "end": "1377960"
  },
  {
    "text": "libraries instead of using a facade like",
    "start": "1377960",
    "end": "1380299"
  },
  {
    "text": "micrometer and then you need to",
    "start": "1380299",
    "end": "1382400"
  },
  {
    "text": "understand how you do things with your",
    "start": "1382400",
    "end": "1385520"
  },
  {
    "text": "storage systems is your database",
    "start": "1385520",
    "end": "1387679"
  },
  {
    "text": "exposing Prometheus if not how do you do",
    "start": "1387679",
    "end": "1390559"
  },
  {
    "text": "this so all those stories you lay down",
    "start": "1390559",
    "end": "1393620"
  },
  {
    "text": "one by one and you attack them the the",
    "start": "1393620",
    "end": "1396380"
  },
  {
    "text": "biggest problem is not that one actually",
    "start": "1396380",
    "end": "1398059"
  },
  {
    "text": "this problem is the tail end of this",
    "start": "1398059",
    "end": "1399980"
  },
  {
    "text": "migration because what you leave to the",
    "start": "1399980",
    "end": "1402200"
  },
  {
    "text": "end is the most complex cases",
    "start": "1402200",
    "end": "1404419"
  },
  {
    "text": "and",
    "start": "1404419",
    "end": "1405679"
  },
  {
    "text": "with them you have to spend a lot of",
    "start": "1405679",
    "end": "1408140"
  },
  {
    "text": "time because those are the real problems",
    "start": "1408140",
    "end": "1410960"
  },
  {
    "text": "that you haven't seen before and I",
    "start": "1410960",
    "end": "1412760"
  },
  {
    "text": "mentioned some of them like the the",
    "start": "1412760",
    "end": "1414740"
  },
  {
    "text": "deployment model or using uh systemd",
    "start": "1414740",
    "end": "1418460"
  },
  {
    "text": "services or",
    "start": "1418460",
    "end": "1419960"
  },
  {
    "text": "using statsd exporter versus push",
    "start": "1419960",
    "end": "1422240"
  },
  {
    "text": "Gateway",
    "start": "1422240",
    "end": "1423380"
  },
  {
    "text": "those were all based on our experiences",
    "start": "1423380",
    "end": "1425900"
  },
  {
    "text": "with other teams and",
    "start": "1425900",
    "end": "1428419"
  },
  {
    "text": "we had to improvise so a lot of",
    "start": "1428419",
    "end": "1430520"
  },
  {
    "text": "improvisation and in the end even with",
    "start": "1430520",
    "end": "1433640"
  },
  {
    "text": "the best intention we have some stats",
    "start": "1433640",
    "end": "1435260"
  },
  {
    "text": "team metrics and we do a lot of",
    "start": "1435260",
    "end": "1437120"
  },
  {
    "text": "conversion unfortunately that means that",
    "start": "1437120",
    "end": "1439820"
  },
  {
    "text": "metrics are not reliable but at least",
    "start": "1439820",
    "end": "1441559"
  },
  {
    "text": "they're better than having no visibility",
    "start": "1441559",
    "end": "1445220"
  },
  {
    "text": "but the details I think my friends will",
    "start": "1445220",
    "end": "1447440"
  },
  {
    "text": "be talking about them on Friday",
    "start": "1447440",
    "end": "1449780"
  },
  {
    "text": "thank you",
    "start": "1449780",
    "end": "1452320"
  },
  {
    "text": "yeah it's Friday morning at 11 A.M and I",
    "start": "1452840",
    "end": "1455720"
  },
  {
    "text": "think it says",
    "start": "1455720",
    "end": "1456780"
  },
  {
    "text": "[Music]",
    "start": "1456780",
    "end": "1458419"
  },
  {
    "text": "Portside Ballroom",
    "start": "1458419",
    "end": "1461120"
  },
  {
    "text": "foreign",
    "start": "1461120",
    "end": "1463419"
  },
  {
    "text": "to exercise",
    "start": "1471740",
    "end": "1474940"
  },
  {
    "text": "how did you uh deal with your missing",
    "start": "1476600",
    "end": "1479059"
  },
  {
    "text": "metrics you said you were having",
    "start": "1479059",
    "end": "1480140"
  },
  {
    "text": "problems where metrics would disappear",
    "start": "1480140",
    "end": "1481940"
  },
  {
    "text": "how do you detect those",
    "start": "1481940",
    "end": "1484039"
  },
  {
    "text": "yeah so",
    "start": "1484039",
    "end": "1485780"
  },
  {
    "text": "um in you're talking about the stat C",
    "start": "1485780",
    "end": "1487820"
  },
  {
    "text": "laws right",
    "start": "1487820",
    "end": "1490360"
  },
  {
    "text": "yeah so",
    "start": "1490760",
    "end": "1492400"
  },
  {
    "text": "uh we had a nice way of like we used the",
    "start": "1492400",
    "end": "1497780"
  },
  {
    "text": "UDP packet loss as our guide and the",
    "start": "1497780",
    "end": "1501020"
  },
  {
    "text": "metric loss was also",
    "start": "1501020",
    "end": "1503480"
  },
  {
    "text": "our business operations",
    "start": "1503480",
    "end": "1506360"
  },
  {
    "text": "they didn't like the metrics at all they",
    "start": "1506360",
    "end": "1508400"
  },
  {
    "text": "were seeing a discrepancy and it was",
    "start": "1508400",
    "end": "1509960"
  },
  {
    "text": "consistent so we knew that we were",
    "start": "1509960",
    "end": "1512240"
  },
  {
    "text": "losing metrics and then when we switched",
    "start": "1512240",
    "end": "1515299"
  },
  {
    "text": "over to the distributed model and the",
    "start": "1515299",
    "end": "1519020"
  },
  {
    "text": "Prometheus we saw that we were losing",
    "start": "1519020",
    "end": "1521659"
  },
  {
    "text": "like 25 percent",
    "start": "1521659",
    "end": "1524299"
  },
  {
    "text": "a massive thing so uh this is the this",
    "start": "1524299",
    "end": "1529220"
  },
  {
    "text": "is the reason we are using the",
    "start": "1529220",
    "end": "1530480"
  },
  {
    "text": "distributed model so we want to make",
    "start": "1530480",
    "end": "1532760"
  },
  {
    "text": "sure that we are not having any issues",
    "start": "1532760",
    "end": "1535580"
  },
  {
    "text": "so the collector itself has a lot of",
    "start": "1535580",
    "end": "1537980"
  },
  {
    "text": "metrics it's exposing its own errors Etc",
    "start": "1537980",
    "end": "1540980"
  },
  {
    "text": "which you didn't have with the stats D1",
    "start": "1540980",
    "end": "1543140"
  },
  {
    "text": "because it was already too late when the",
    "start": "1543140",
    "end": "1545179"
  },
  {
    "text": "metric didn't arrive and the Agents like",
    "start": "1545179",
    "end": "1547159"
  },
  {
    "text": "that's the uh",
    "start": "1547159",
    "end": "1549500"
  },
  {
    "text": "didn't have any idea so we that was the",
    "start": "1549500",
    "end": "1552980"
  },
  {
    "text": "big shift and",
    "start": "1552980",
    "end": "1554840"
  },
  {
    "text": "that's how I think we are in a good",
    "start": "1554840",
    "end": "1556880"
  },
  {
    "text": "position we don't have a lot of issues",
    "start": "1556880",
    "end": "1558559"
  },
  {
    "text": "right now it's stable but yeah which",
    "start": "1558559",
    "end": "1560779"
  },
  {
    "text": "starts the",
    "start": "1560779",
    "end": "1562220"
  },
  {
    "text": "we tried all of it we tried scaling the",
    "start": "1562220",
    "end": "1564740"
  },
  {
    "text": "machines we tried increasing the cluster",
    "start": "1564740",
    "end": "1566779"
  },
  {
    "text": "size we tried",
    "start": "1566779",
    "end": "1568159"
  },
  {
    "text": "splitting this into multiple clusters",
    "start": "1568159",
    "end": "1569900"
  },
  {
    "text": "but there is a certain scale that you",
    "start": "1569900",
    "end": "1571700"
  },
  {
    "text": "can do with this and we said okay that's",
    "start": "1571700",
    "end": "1573799"
  },
  {
    "text": "that's it",
    "start": "1573799",
    "end": "1576278"
  }
]