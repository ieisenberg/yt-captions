[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "hi welcome to all of you i'm marcus",
    "start": "399",
    "end": "2720"
  },
  {
    "text": "birklund",
    "start": "2720",
    "end": "3760"
  },
  {
    "text": "i'm based in spain and i work at vmware",
    "start": "3760",
    "end": "6560"
  },
  {
    "text": "which i joined via the acquisition of",
    "start": "6560",
    "end": "8320"
  },
  {
    "text": "vietnami in 2019",
    "start": "8320",
    "end": "10559"
  },
  {
    "text": "today i'm going to talk about some of",
    "start": "10559",
    "end": "12320"
  },
  {
    "text": "the lessons we have learned at binami",
    "start": "12320",
    "end": "14320"
  },
  {
    "text": "while deploying traditional web",
    "start": "14320",
    "end": "15519"
  },
  {
    "text": "applications on top of kubernetes",
    "start": "15519",
    "end": "18560"
  },
  {
    "text": "this talk is structured into five parts",
    "start": "18560",
    "end": "21119"
  },
  {
    "text": "first we will have a brief introduction",
    "start": "21119",
    "end": "24000"
  },
  {
    "text": "next we will talk about some of the",
    "start": "24000",
    "end": "25439"
  },
  {
    "text": "different steps you will follow if you",
    "start": "25439",
    "end": "26800"
  },
  {
    "text": "want to deploy a traditional web",
    "start": "26800",
    "end": "28240"
  },
  {
    "text": "application on top of kubernetes",
    "start": "28240",
    "end": "30560"
  },
  {
    "text": "afterwards we'll give some tips and good",
    "start": "30560",
    "end": "32960"
  },
  {
    "text": "practices",
    "start": "32960",
    "end": "33600"
  },
  {
    "text": "and discuss over some particular",
    "start": "33600",
    "end": "35760"
  },
  {
    "text": "challenges you may find",
    "start": "35760",
    "end": "37520"
  },
  {
    "text": "and finish the talk with an example at",
    "start": "37520",
    "end": "40320"
  },
  {
    "text": "the end",
    "start": "40320",
    "end": "40800"
  },
  {
    "text": "i will be here to answer any questions",
    "start": "40800",
    "end": "42399"
  },
  {
    "text": "you may have",
    "start": "42399",
    "end": "45839"
  },
  {
    "text": "first i wanted to talk a bit my about my",
    "start": "46160",
    "end": "48160"
  },
  {
    "text": "company bitnami which is not part of",
    "start": "48160",
    "end": "50320"
  },
  {
    "text": "vmware",
    "start": "50320",
    "end": "51120"
  },
  {
    "text": "is a catalog for web applications",
    "start": "51120",
    "end": "52800"
  },
  {
    "text": "runtimes frameworks and more",
    "start": "52800",
    "end": "55199"
  },
  {
    "text": "that can be deployed in multiple",
    "start": "55199",
    "end": "56640"
  },
  {
    "text": "environments platforms and formats",
    "start": "56640",
    "end": "59520"
  },
  {
    "text": "such as container images or hand charts",
    "start": "59520",
    "end": "62719"
  },
  {
    "text": "we have more than 10 years of experience",
    "start": "62719",
    "end": "64799"
  },
  {
    "text": "deploying",
    "start": "64799",
    "end": "65840"
  },
  {
    "text": "web applications on these environments",
    "start": "65840",
    "end": "68799"
  },
  {
    "text": "in fact",
    "start": "68799",
    "end": "69680"
  },
  {
    "text": "our catalog contains almost 100",
    "start": "69680",
    "end": "72000"
  },
  {
    "text": "traditional web applications",
    "start": "72000",
    "end": "74000"
  },
  {
    "text": "and more of 20 of them can be deployed",
    "start": "74000",
    "end": "76560"
  },
  {
    "text": "in kubernetes via hand charts",
    "start": "76560",
    "end": "80159"
  },
  {
    "start": "80000",
    "end": "80000"
  },
  {
    "text": "let's talk a bit about traditional web",
    "start": "80880",
    "end": "82640"
  },
  {
    "text": "applications",
    "start": "82640",
    "end": "84320"
  },
  {
    "text": "there are so many of them incredible",
    "start": "84320",
    "end": "86640"
  },
  {
    "text": "popular ones",
    "start": "86640",
    "end": "88080"
  },
  {
    "text": "less popular ones etc this is just a",
    "start": "88080",
    "end": "91520"
  },
  {
    "text": "small version of the ones that we",
    "start": "91520",
    "end": "92960"
  },
  {
    "text": "support at minami",
    "start": "92960",
    "end": "94159"
  },
  {
    "text": "in one of those platforms and you will",
    "start": "94159",
    "end": "96560"
  },
  {
    "text": "easily recognize",
    "start": "96560",
    "end": "97680"
  },
  {
    "text": "more than one logo",
    "start": "97680",
    "end": "101840"
  },
  {
    "text": "they are not designed to work in cloud",
    "start": "102960",
    "end": "104720"
  },
  {
    "text": "native environments",
    "start": "104720",
    "end": "106399"
  },
  {
    "text": "the date to before that will the same",
    "start": "106399",
    "end": "108159"
  },
  {
    "text": "thing so how can we differentiate",
    "start": "108159",
    "end": "110799"
  },
  {
    "text": "traditional and cloud native",
    "start": "110799",
    "end": "112320"
  },
  {
    "text": "applications i have compiled",
    "start": "112320",
    "end": "114479"
  },
  {
    "text": "a few basic requirements that we will",
    "start": "114479",
    "end": "117040"
  },
  {
    "text": "expect any kubernetes native apps to",
    "start": "117040",
    "end": "119040"
  },
  {
    "text": "meet",
    "start": "119040",
    "end": "120079"
  },
  {
    "text": "so they can be deployed without any",
    "start": "120079",
    "end": "121920"
  },
  {
    "text": "headache",
    "start": "121920",
    "end": "123439"
  },
  {
    "text": "traditional applications however don't",
    "start": "123439",
    "end": "125600"
  },
  {
    "text": "usually meet one or more of these",
    "start": "125600",
    "end": "128160"
  },
  {
    "text": "requiring work routes and hacks",
    "start": "128160",
    "end": "131200"
  },
  {
    "text": "in some cases it might even be",
    "start": "131200",
    "end": "132800"
  },
  {
    "text": "impossible to solve these problems",
    "start": "132800",
    "end": "135200"
  },
  {
    "text": "let's talk about them",
    "start": "135200",
    "end": "138080"
  },
  {
    "text": "first the applications process may be",
    "start": "138400",
    "end": "140959"
  },
  {
    "text": "stateful share",
    "start": "140959",
    "end": "142239"
  },
  {
    "text": "resources between them next",
    "start": "142239",
    "end": "145280"
  },
  {
    "text": "there may be no separation between",
    "start": "145280",
    "end": "146959"
  },
  {
    "text": "application code data",
    "start": "146959",
    "end": "148560"
  },
  {
    "text": "and configurations not allowing to",
    "start": "148560",
    "end": "150959"
  },
  {
    "text": "specify deployment inputs",
    "start": "150959",
    "end": "152879"
  },
  {
    "text": "without relying on configuration files",
    "start": "152879",
    "end": "155599"
  },
  {
    "text": "stored",
    "start": "155599",
    "end": "156080"
  },
  {
    "text": "in the local disk the application",
    "start": "156080",
    "end": "159599"
  },
  {
    "text": "may not be ready to be stopped at any",
    "start": "159599",
    "end": "161440"
  },
  {
    "text": "point of time",
    "start": "161440",
    "end": "162800"
  },
  {
    "text": "or require some time to boot up this",
    "start": "162800",
    "end": "165120"
  },
  {
    "text": "usually happens a lot in java",
    "start": "165120",
    "end": "166319"
  },
  {
    "text": "applications",
    "start": "166319",
    "end": "167200"
  },
  {
    "text": "such as jenkins",
    "start": "167200",
    "end": "170879"
  },
  {
    "text": "the application may not support",
    "start": "170879",
    "end": "172239"
  },
  {
    "text": "horizontal scaling due to design",
    "start": "172239",
    "end": "174480"
  },
  {
    "text": "limitations",
    "start": "174480",
    "end": "175280"
  },
  {
    "text": "usually this happens when it relies on",
    "start": "175280",
    "end": "177120"
  },
  {
    "text": "the local disk for storing data",
    "start": "177120",
    "end": "180640"
  },
  {
    "text": "finally tabs should specify an exact",
    "start": "180640",
    "end": "182879"
  },
  {
    "text": "list of dependencies",
    "start": "182879",
    "end": "184319"
  },
  {
    "text": "that is it has been testing working with",
    "start": "184319",
    "end": "187120"
  },
  {
    "text": "and",
    "start": "187120",
    "end": "187760"
  },
  {
    "text": "and ideally with the standard way to",
    "start": "187760",
    "end": "189760"
  },
  {
    "text": "install them for example with the",
    "start": "189760",
    "end": "191360"
  },
  {
    "text": "package manager such as npm",
    "start": "191360",
    "end": "193599"
  },
  {
    "text": "to avoid any issues when running the",
    "start": "193599",
    "end": "195120"
  },
  {
    "text": "application",
    "start": "195120",
    "end": "197680"
  },
  {
    "text": "we have also created a guitar",
    "start": "197760",
    "end": "199120"
  },
  {
    "text": "responsibility for this talk",
    "start": "199120",
    "end": "201440"
  },
  {
    "text": "to complement with examples and more",
    "start": "201440",
    "end": "203680"
  },
  {
    "text": "detailed explanations",
    "start": "203680",
    "end": "205120"
  },
  {
    "text": "it is on github.com slash vietnamex",
    "start": "205120",
    "end": "208480"
  },
  {
    "text": "slash deploy web apps and kubernetes",
    "start": "208480",
    "end": "211760"
  },
  {
    "text": "you don't need to copy the link right",
    "start": "211760",
    "end": "213040"
  },
  {
    "text": "now as we will be referencing it",
    "start": "213040",
    "end": "214959"
  },
  {
    "text": "throughout different parts of this talk",
    "start": "214959",
    "end": "218959"
  },
  {
    "text": "now let's briefly revisit how you would",
    "start": "219120",
    "end": "221120"
  },
  {
    "text": "proceed if",
    "start": "221120",
    "end": "222159"
  },
  {
    "text": "if you wanted to deploy a traditional",
    "start": "222159",
    "end": "223599"
  },
  {
    "text": "web application on top of kubernetes",
    "start": "223599",
    "end": "226640"
  },
  {
    "start": "226000",
    "end": "226000"
  },
  {
    "text": "here you can see a list of basic steps",
    "start": "226640",
    "end": "228400"
  },
  {
    "text": "you will need to follow if you want to",
    "start": "228400",
    "end": "230000"
  },
  {
    "text": "deploy it",
    "start": "230000",
    "end": "231440"
  },
  {
    "text": "you will need to first build a container",
    "start": "231440",
    "end": "232959"
  },
  {
    "text": "image build a hem chart",
    "start": "232959",
    "end": "236000"
  },
  {
    "text": "and then deploy and operate on",
    "start": "236000",
    "end": "238840"
  },
  {
    "text": "kubernetes",
    "start": "238840",
    "end": "241200"
  },
  {
    "text": "for this talk we will be mostly focusing",
    "start": "241200",
    "end": "243840"
  },
  {
    "text": "on the building process for",
    "start": "243840",
    "end": "245439"
  },
  {
    "text": "container images and charts i'll tell",
    "start": "245439",
    "end": "248000"
  },
  {
    "text": "you the base step for running",
    "start": "248000",
    "end": "249680"
  },
  {
    "text": "an application of kubernetes let's start",
    "start": "249680",
    "end": "253360"
  },
  {
    "text": "with the building of container images",
    "start": "253360",
    "end": "257040"
  },
  {
    "start": "257000",
    "end": "257000"
  },
  {
    "text": "when we talk about container images we",
    "start": "258639",
    "end": "260400"
  },
  {
    "text": "reference the oci compliant images",
    "start": "260400",
    "end": "263919"
  },
  {
    "text": "this can be run on docker pod man or",
    "start": "263919",
    "end": "266960"
  },
  {
    "text": "kubernetes for instance",
    "start": "266960",
    "end": "269040"
  },
  {
    "text": "a particular thing about container",
    "start": "269040",
    "end": "270639"
  },
  {
    "text": "images is that you can run code",
    "start": "270639",
    "end": "272479"
  },
  {
    "text": "at twitch stages at build time",
    "start": "272479",
    "end": "275520"
  },
  {
    "text": "and at run time first",
    "start": "275520",
    "end": "278800"
  },
  {
    "text": "you can work out when you build the",
    "start": "278800",
    "end": "280479"
  },
  {
    "text": "image via the docker file",
    "start": "280479",
    "end": "282479"
  },
  {
    "text": "it includes a series of steps to define",
    "start": "282479",
    "end": "284479"
  },
  {
    "text": "your image which in this case means you",
    "start": "284479",
    "end": "286400"
  },
  {
    "text": "can build and run the application",
    "start": "286400",
    "end": "288560"
  },
  {
    "text": "it is based on layers each command in",
    "start": "288560",
    "end": "290479"
  },
  {
    "text": "the docker file",
    "start": "290479",
    "end": "292240"
  },
  {
    "text": "executed on top of the previous layer",
    "start": "292240",
    "end": "294800"
  },
  {
    "text": "you can specify inputs",
    "start": "294800",
    "end": "296560"
  },
  {
    "text": "but they will only be used when building",
    "start": "296560",
    "end": "298479"
  },
  {
    "text": "the image",
    "start": "298479",
    "end": "299840"
  },
  {
    "text": "in the example on the right you can see",
    "start": "299840",
    "end": "301280"
  },
  {
    "text": "how an example docker file would look",
    "start": "301280",
    "end": "302880"
  },
  {
    "text": "like",
    "start": "302880",
    "end": "303600"
  },
  {
    "text": "and how you would deploy it its format",
    "start": "303600",
    "end": "305680"
  },
  {
    "text": "is really simple",
    "start": "305680",
    "end": "310960"
  },
  {
    "text": "the runtime is specified by an entry",
    "start": "310960",
    "end": "314160"
  },
  {
    "text": "point script",
    "start": "314160",
    "end": "315120"
  },
  {
    "text": "here you will run scripts to install a",
    "start": "315120",
    "end": "317280"
  },
  {
    "text": "running application",
    "start": "317280",
    "end": "319280"
  },
  {
    "text": "you can specify external inputs via",
    "start": "319280",
    "end": "321199"
  },
  {
    "text": "environment variables",
    "start": "321199",
    "end": "322400"
  },
  {
    "text": "or mounted files",
    "start": "322400",
    "end": "325840"
  },
  {
    "text": "let's talk a bit about docker file",
    "start": "326080",
    "end": "327840"
  },
  {
    "text": "design it should contain all the steps",
    "start": "327840",
    "end": "330240"
  },
  {
    "text": "to install the application",
    "start": "330240",
    "end": "331520"
  },
  {
    "text": "dependencies copy application files and",
    "start": "331520",
    "end": "334720"
  },
  {
    "text": "prepare it so it can run",
    "start": "334720",
    "end": "336400"
  },
  {
    "text": "as well as making it secure now it is",
    "start": "336400",
    "end": "339280"
  },
  {
    "text": "heavily recommended that you also",
    "start": "339280",
    "end": "340560"
  },
  {
    "text": "optimize the image size",
    "start": "340560",
    "end": "343280"
  },
  {
    "text": "and also ensure that installation can be",
    "start": "343280",
    "end": "345520"
  },
  {
    "text": "performed with as much",
    "start": "345520",
    "end": "346960"
  },
  {
    "text": "stability as possible you would also",
    "start": "346960",
    "end": "349520"
  },
  {
    "text": "specify",
    "start": "349520",
    "end": "350160"
  },
  {
    "text": "runtime configuration defaults",
    "start": "350160",
    "end": "353360"
  },
  {
    "text": "such as the default entry point default",
    "start": "353360",
    "end": "355919"
  },
  {
    "text": "values for inputs",
    "start": "355919",
    "end": "357039"
  },
  {
    "text": "etc now about",
    "start": "357039",
    "end": "360560"
  },
  {
    "text": "entry point design ideally it should",
    "start": "360560",
    "end": "364319"
  },
  {
    "text": "contain steps to validate",
    "start": "364319",
    "end": "365680"
  },
  {
    "text": "inputs persist the application data",
    "start": "365680",
    "end": "368479"
  },
  {
    "text": "start the web application itself with",
    "start": "368479",
    "end": "370479"
  },
  {
    "text": "the focus and taking the levels amount",
    "start": "370479",
    "end": "372319"
  },
  {
    "text": "of time to deploy",
    "start": "372319",
    "end": "374240"
  },
  {
    "text": "then other things that would be nice to",
    "start": "374240",
    "end": "376160"
  },
  {
    "text": "have like logic to configure the",
    "start": "376160",
    "end": "377759"
  },
  {
    "text": "application free external inputs",
    "start": "377759",
    "end": "380240"
  },
  {
    "text": "waiting for external services to be",
    "start": "380240",
    "end": "382080"
  },
  {
    "text": "available so the application doesn't",
    "start": "382080",
    "end": "384240"
  },
  {
    "text": "throw",
    "start": "384240",
    "end": "384720"
  },
  {
    "text": "any error or other post installation",
    "start": "384720",
    "end": "387759"
  },
  {
    "text": "features",
    "start": "387759",
    "end": "388560"
  },
  {
    "text": "for instance to automate the",
    "start": "388560",
    "end": "390000"
  },
  {
    "text": "installation in the database",
    "start": "390000",
    "end": "395840"
  },
  {
    "text": "next let's talk about hand charts",
    "start": "396080",
    "end": "399360"
  },
  {
    "start": "399000",
    "end": "399000"
  },
  {
    "text": "helm is known as the package manager for",
    "start": "399360",
    "end": "401280"
  },
  {
    "text": "kubernetes is the most popular way to",
    "start": "401280",
    "end": "403199"
  },
  {
    "text": "deploy",
    "start": "403199",
    "end": "403600"
  },
  {
    "text": "web applications on top of it a home",
    "start": "403600",
    "end": "406720"
  },
  {
    "text": "chart contains",
    "start": "406720",
    "end": "408160"
  },
  {
    "text": "a collection of kubernetes resource",
    "start": "408160",
    "end": "410080"
  },
  {
    "text": "templates that can be extended",
    "start": "410080",
    "end": "412160"
  },
  {
    "text": "via inputs during deployments it",
    "start": "412160",
    "end": "414960"
  },
  {
    "text": "supports complex architectures",
    "start": "414960",
    "end": "416720"
  },
  {
    "text": "via soup charts meaning that the chart",
    "start": "416720",
    "end": "418720"
  },
  {
    "text": "can include another chart",
    "start": "418720",
    "end": "421759"
  },
  {
    "text": "the right you can see a basic file",
    "start": "421759",
    "end": "424080"
  },
  {
    "text": "structure of a hand chart",
    "start": "424080",
    "end": "425840"
  },
  {
    "text": "and below you will see the steps to the",
    "start": "425840",
    "end": "427919"
  },
  {
    "text": "deploy it into kubernetes",
    "start": "427919",
    "end": "431360"
  },
  {
    "text": "about helm chart designs there are so",
    "start": "434960",
    "end": "436720"
  },
  {
    "text": "many things that you might want to",
    "start": "436720",
    "end": "437840"
  },
  {
    "text": "support",
    "start": "437840",
    "end": "439680"
  },
  {
    "text": "some things you will mostly always",
    "start": "439680",
    "end": "441520"
  },
  {
    "text": "include for your traditional web",
    "start": "441520",
    "end": "443120"
  },
  {
    "text": "applications",
    "start": "443120",
    "end": "444800"
  },
  {
    "text": "for instance deployment for application",
    "start": "444800",
    "end": "447199"
  },
  {
    "text": "containers",
    "start": "447199",
    "end": "448080"
  },
  {
    "text": "ingress with tls word persistent volume",
    "start": "448080",
    "end": "451360"
  },
  {
    "text": "claims to store your application data",
    "start": "451360",
    "end": "453919"
  },
  {
    "text": "or secrets to storage credentials",
    "start": "453919",
    "end": "457280"
  },
  {
    "text": "other things you should consider",
    "start": "457280",
    "end": "458639"
  },
  {
    "text": "supporting will be",
    "start": "458639",
    "end": "460319"
  },
  {
    "text": "supporting the database in a subchart or",
    "start": "460319",
    "end": "462880"
  },
  {
    "text": "using an external database",
    "start": "462880",
    "end": "464479"
  },
  {
    "text": "for it metrics grant jobs",
    "start": "464479",
    "end": "468160"
  },
  {
    "text": "customer resources etc",
    "start": "468160",
    "end": "472000"
  },
  {
    "text": "finally let's talk a bit about build and",
    "start": "473919",
    "end": "475680"
  },
  {
    "text": "release pipelines",
    "start": "475680",
    "end": "479280"
  },
  {
    "start": "478000",
    "end": "478000"
  },
  {
    "text": "why would we want a release pipeline",
    "start": "479280",
    "end": "482160"
  },
  {
    "text": "well",
    "start": "482160",
    "end": "482639"
  },
  {
    "text": "it will allow you to perform tedious",
    "start": "482639",
    "end": "484240"
  },
  {
    "text": "manual steps in an automated way",
    "start": "484240",
    "end": "486720"
  },
  {
    "text": "it should contain the steps to build",
    "start": "486720",
    "end": "488639"
  },
  {
    "text": "both the container image",
    "start": "488639",
    "end": "490000"
  },
  {
    "text": "and hemp charts plus the automated",
    "start": "490000",
    "end": "492400"
  },
  {
    "text": "testing releasing or publishing",
    "start": "492400",
    "end": "494400"
  },
  {
    "text": "of both of them one of my work",
    "start": "494400",
    "end": "497520"
  },
  {
    "text": "colleagues presented last year in",
    "start": "497520",
    "end": "499120"
  },
  {
    "text": "kubecon",
    "start": "499120",
    "end": "499759"
  },
  {
    "text": "talking about the internal bitnami build",
    "start": "499759",
    "end": "502479"
  },
  {
    "text": "and release pipeline",
    "start": "502479",
    "end": "504560"
  },
  {
    "text": "if you're interested in the topic feel",
    "start": "504560",
    "end": "507039"
  },
  {
    "text": "free to check it out",
    "start": "507039",
    "end": "508080"
  },
  {
    "text": "it's on youtube",
    "start": "508080",
    "end": "510800"
  },
  {
    "text": "finally i also wanted to mention that",
    "start": "511680",
    "end": "513760"
  },
  {
    "text": "there are a few alternatives if you want",
    "start": "513760",
    "end": "515839"
  },
  {
    "text": "to implement your own cei",
    "start": "515839",
    "end": "517440"
  },
  {
    "text": "ci or cd pipeline all of the examples is",
    "start": "517440",
    "end": "521279"
  },
  {
    "text": "listed here",
    "start": "521279",
    "end": "522000"
  },
  {
    "text": "have a free tier if i'm not wrong and",
    "start": "522000",
    "end": "525120"
  },
  {
    "text": "there are also open source alternatives",
    "start": "525120",
    "end": "526959"
  },
  {
    "text": "like jenkins which we use at bitnami",
    "start": "526959",
    "end": "531440"
  },
  {
    "text": "now let's talk about some tips and good",
    "start": "533279",
    "end": "534800"
  },
  {
    "text": "practices when building container images",
    "start": "534800",
    "end": "537200"
  },
  {
    "text": "and hemp charts first",
    "start": "537200",
    "end": "540560"
  },
  {
    "text": "you should consider running containers",
    "start": "540560",
    "end": "542800"
  },
  {
    "text": "as non-root users",
    "start": "542800",
    "end": "544640"
  },
  {
    "text": "this is because it allows to protect",
    "start": "544640",
    "end": "546240"
  },
  {
    "text": "from previous privilege escalations",
    "start": "546240",
    "end": "548720"
  },
  {
    "text": "and access to non-writable files for",
    "start": "548720",
    "end": "551440"
  },
  {
    "text": "instance",
    "start": "551440",
    "end": "552080"
  },
  {
    "text": "if a malicious user gained access to",
    "start": "552080",
    "end": "554399"
  },
  {
    "text": "your application's file system",
    "start": "554399",
    "end": "556320"
  },
  {
    "text": "it will greatly limit the stuff they can",
    "start": "556320",
    "end": "558240"
  },
  {
    "text": "do to make it behave in an undersizable",
    "start": "558240",
    "end": "561279"
  },
  {
    "text": "way",
    "start": "561279",
    "end": "563839"
  },
  {
    "text": "there are different alternatives you can",
    "start": "564480",
    "end": "566320"
  },
  {
    "text": "follow",
    "start": "566320",
    "end": "567519"
  },
  {
    "text": "running a known system user or",
    "start": "567519",
    "end": "571279"
  },
  {
    "text": "an existing user with an arbitrary user",
    "start": "571279",
    "end": "575839"
  },
  {
    "text": "or an arbitrary user id and an unknown",
    "start": "575839",
    "end": "579680"
  },
  {
    "text": "username",
    "start": "579680",
    "end": "581440"
  },
  {
    "text": "the problem with the first two is that",
    "start": "581440",
    "end": "583920"
  },
  {
    "text": "they are either insecure",
    "start": "583920",
    "end": "585839"
  },
  {
    "text": "or they are not supported in all",
    "start": "585839",
    "end": "587440"
  },
  {
    "text": "platforms and they",
    "start": "587440",
    "end": "589200"
  },
  {
    "text": "do not follow the best security",
    "start": "589200",
    "end": "591040"
  },
  {
    "text": "practices and recommendations",
    "start": "591040",
    "end": "594640"
  },
  {
    "text": "for these reasons we heavily recommend",
    "start": "594640",
    "end": "596959"
  },
  {
    "text": "con running containers with an arbitrary",
    "start": "596959",
    "end": "599200"
  },
  {
    "text": "user id",
    "start": "599200",
    "end": "600399"
  },
  {
    "text": "and no unknown username it might not be",
    "start": "600399",
    "end": "603920"
  },
  {
    "text": "compatible with all apps",
    "start": "603920",
    "end": "605360"
  },
  {
    "text": "but you can work around this with nss",
    "start": "605360",
    "end": "608240"
  },
  {
    "text": "wrapper",
    "start": "608240",
    "end": "609360"
  },
  {
    "text": "another side effect of having no",
    "start": "609360",
    "end": "611040"
  },
  {
    "text": "username is that the shell prompt",
    "start": "611040",
    "end": "613519"
  },
  {
    "text": "may look a bit ugly this doesn't mean it",
    "start": "613519",
    "end": "616640"
  },
  {
    "text": "is broken in",
    "start": "616640",
    "end": "618560"
  },
  {
    "text": "this case any writable file must belong",
    "start": "618560",
    "end": "622800"
  },
  {
    "text": "to the root group",
    "start": "622800",
    "end": "623839"
  },
  {
    "text": "because any username that has",
    "start": "623839",
    "end": "627760"
  },
  {
    "text": "no name belongs to the root group by",
    "start": "627760",
    "end": "630839"
  },
  {
    "text": "default",
    "start": "630839",
    "end": "633839"
  },
  {
    "text": "now let's continue talking about",
    "start": "634959",
    "end": "636800"
  },
  {
    "text": "permissions",
    "start": "636800",
    "end": "638640"
  },
  {
    "text": "it is important to set this at build",
    "start": "638640",
    "end": "641040"
  },
  {
    "text": "time",
    "start": "641040",
    "end": "642560"
  },
  {
    "text": "as non-root images may not only lack the",
    "start": "642560",
    "end": "645680"
  },
  {
    "text": "privilege to change them at runtime",
    "start": "645680",
    "end": "648160"
  },
  {
    "text": "but also because it may be slow at build",
    "start": "648160",
    "end": "651279"
  },
  {
    "text": "time we have the all the time of the",
    "start": "651279",
    "end": "652959"
  },
  {
    "text": "world to do so",
    "start": "652959",
    "end": "655200"
  },
  {
    "text": "so what files should we make writable",
    "start": "655200",
    "end": "658320"
  },
  {
    "text": "well any file that the application",
    "start": "658320",
    "end": "660000"
  },
  {
    "text": "requires to modify at runtime",
    "start": "660000",
    "end": "662079"
  },
  {
    "text": "if there is a clear separation between",
    "start": "662079",
    "end": "663760"
  },
  {
    "text": "application code and data",
    "start": "663760",
    "end": "665920"
  },
  {
    "text": "then only data files will need to be",
    "start": "665920",
    "end": "667839"
  },
  {
    "text": "writable",
    "start": "667839",
    "end": "669760"
  },
  {
    "text": "you will need to identify the list of",
    "start": "669760",
    "end": "671839"
  },
  {
    "text": "files and folders",
    "start": "671839",
    "end": "673440"
  },
  {
    "text": "that are writable when you create the",
    "start": "673440",
    "end": "675040"
  },
  {
    "text": "image",
    "start": "675040",
    "end": "677360"
  },
  {
    "text": "it might be the application requires",
    "start": "678640",
    "end": "680320"
  },
  {
    "text": "access to the entire source directory in",
    "start": "680320",
    "end": "682079"
  },
  {
    "text": "case you will need to make",
    "start": "682079",
    "end": "683519"
  },
  {
    "text": "all files writable finally i recommend",
    "start": "683519",
    "end": "686800"
  },
  {
    "text": "to check the docker security",
    "start": "686800",
    "end": "688640"
  },
  {
    "text": "cheat sheet from the oasp foundation",
    "start": "688640",
    "end": "692959"
  },
  {
    "text": "it contains some good security topics",
    "start": "692959",
    "end": "695200"
  },
  {
    "text": "that you should review when creating",
    "start": "695200",
    "end": "696720"
  },
  {
    "text": "your content images",
    "start": "696720",
    "end": "698399"
  },
  {
    "text": "the most relevant one will be with",
    "start": "698399",
    "end": "700399"
  },
  {
    "text": "respect to read-only file systems",
    "start": "700399",
    "end": "704399"
  },
  {
    "text": "if you want to support that you need to",
    "start": "704480",
    "end": "705920"
  },
  {
    "text": "identify the list of application files",
    "start": "705920",
    "end": "708240"
  },
  {
    "text": "and folders",
    "start": "708240",
    "end": "709040"
  },
  {
    "text": "that need to be writable like mentioned",
    "start": "709040",
    "end": "712399"
  },
  {
    "text": "above",
    "start": "712399",
    "end": "713360"
  },
  {
    "text": "and create an appropriate volume for",
    "start": "713360",
    "end": "715279"
  },
  {
    "text": "those",
    "start": "715279",
    "end": "717680"
  },
  {
    "text": "then populate the volumes at runtime if",
    "start": "717680",
    "end": "720079"
  },
  {
    "text": "applicable",
    "start": "720079",
    "end": "722639"
  },
  {
    "text": "next there is other topics like using",
    "start": "723120",
    "end": "726160"
  },
  {
    "text": "linux security models such as apb armor",
    "start": "726160",
    "end": "729680"
  },
  {
    "text": "second or se linux",
    "start": "729680",
    "end": "733360"
  },
  {
    "start": "735000",
    "end": "735000"
  },
  {
    "text": "another important factor when creating",
    "start": "736160",
    "end": "738079"
  },
  {
    "text": "your container image is the image size",
    "start": "738079",
    "end": "741120"
  },
  {
    "text": "so we know that container images follow",
    "start": "741120",
    "end": "743120"
  },
  {
    "text": "a layered format",
    "start": "743120",
    "end": "744480"
  },
  {
    "text": "this has its good things but one of the",
    "start": "744480",
    "end": "747040"
  },
  {
    "text": "things that can",
    "start": "747040",
    "end": "747920"
  },
  {
    "text": "go wrong comes when we modify a file in",
    "start": "747920",
    "end": "750720"
  },
  {
    "text": "different layers",
    "start": "750720",
    "end": "752160"
  },
  {
    "text": "it gets counted twice even changing the",
    "start": "752160",
    "end": "754959"
  },
  {
    "text": "file mode or ownership will have this",
    "start": "754959",
    "end": "756959"
  },
  {
    "text": "effect",
    "start": "756959",
    "end": "759120"
  },
  {
    "text": "and why would you want to fix this it is",
    "start": "759120",
    "end": "761680"
  },
  {
    "text": "important because it will affect",
    "start": "761680",
    "end": "763120"
  },
  {
    "text": "bandwidth usage",
    "start": "763120",
    "end": "764160"
  },
  {
    "text": "in deployment time if the image is not",
    "start": "764160",
    "end": "765920"
  },
  {
    "text": "stored locally",
    "start": "765920",
    "end": "767600"
  },
  {
    "text": "it will need to be downloaded so we can",
    "start": "767600",
    "end": "769920"
  },
  {
    "text": "be talking about several",
    "start": "769920",
    "end": "771600"
  },
  {
    "text": "several gigabytes of data transfer here",
    "start": "771600",
    "end": "775600"
  },
  {
    "text": "there are some strategies you can follow",
    "start": "775600",
    "end": "777839"
  },
  {
    "text": "to easily achieve an optimal image size",
    "start": "777839",
    "end": "780240"
  },
  {
    "text": "first by using multi-stage images to",
    "start": "780240",
    "end": "782480"
  },
  {
    "text": "build your application",
    "start": "782480",
    "end": "784000"
  },
  {
    "text": "this is especially useful for",
    "start": "784000",
    "end": "785279"
  },
  {
    "text": "applications that need further steps to",
    "start": "785279",
    "end": "787279"
  },
  {
    "text": "be built",
    "start": "787279",
    "end": "788560"
  },
  {
    "text": "with a specific build dependencies",
    "start": "788560",
    "end": "791760"
  },
  {
    "text": "the next options consist of",
    "start": "791760",
    "end": "793440"
  },
  {
    "text": "strategically implementing your docker",
    "start": "793440",
    "end": "795200"
  },
  {
    "text": "file",
    "start": "795200",
    "end": "796000"
  },
  {
    "text": "grouping any actions that may modify a",
    "start": "796000",
    "end": "798399"
  },
  {
    "text": "file more than once",
    "start": "798399",
    "end": "800000"
  },
  {
    "text": "removing temporary files etc and all in",
    "start": "800000",
    "end": "802720"
  },
  {
    "text": "a specific order",
    "start": "802720",
    "end": "804560"
  },
  {
    "text": "this may lead to docker files that are",
    "start": "804560",
    "end": "806560"
  },
  {
    "text": "hard to read",
    "start": "806560",
    "end": "808399"
  },
  {
    "text": "the final thing you should consider if",
    "start": "808399",
    "end": "810720"
  },
  {
    "text": "if the previous two are not possible for",
    "start": "810720",
    "end": "812639"
  },
  {
    "text": "your case is to use darker's squash",
    "start": "812639",
    "end": "815600"
  },
  {
    "text": "feature",
    "start": "815600",
    "end": "816560"
  },
  {
    "text": "it is some sort of nuclear option as",
    "start": "816560",
    "end": "818800"
  },
  {
    "text": "this has some important limitations",
    "start": "818800",
    "end": "820800"
  },
  {
    "text": "but it's up to you to consider if there",
    "start": "820800",
    "end": "822399"
  },
  {
    "text": "is no other way",
    "start": "822399",
    "end": "825279"
  },
  {
    "text": "i also wanted to talk about the useful",
    "start": "825360",
    "end": "827120"
  },
  {
    "text": "tool called dive",
    "start": "827120",
    "end": "829519"
  },
  {
    "text": "this tool allows to inspect images",
    "start": "829519",
    "end": "832880"
  },
  {
    "text": "for big files so you can check",
    "start": "832880",
    "end": "836399"
  },
  {
    "text": "where to start optimizing the image size",
    "start": "836399",
    "end": "838880"
  },
  {
    "text": "you can see this example of a wordpress",
    "start": "838880",
    "end": "840560"
  },
  {
    "text": "image",
    "start": "840560",
    "end": "841120"
  },
  {
    "text": "which is more than one and a half",
    "start": "841120",
    "end": "842639"
  },
  {
    "text": "gigabyte in size",
    "start": "842639",
    "end": "844560"
  },
  {
    "text": "when we were when we optimized it we",
    "start": "844560",
    "end": "847600"
  },
  {
    "text": "were able to take it down",
    "start": "847600",
    "end": "848959"
  },
  {
    "text": "to less than the half of the size that's",
    "start": "848959",
    "end": "851360"
  },
  {
    "text": "a lot of space",
    "start": "851360",
    "end": "852800"
  },
  {
    "text": "that the user saves but also in",
    "start": "852800",
    "end": "855279"
  },
  {
    "text": "deployment time as it does not need to",
    "start": "855279",
    "end": "857040"
  },
  {
    "text": "be downloaded",
    "start": "857040",
    "end": "859759"
  },
  {
    "text": "now let's talk about some good practices",
    "start": "861760",
    "end": "863600"
  },
  {
    "start": "862000",
    "end": "862000"
  },
  {
    "text": "creating container images",
    "start": "863600",
    "end": "865360"
  },
  {
    "text": "we have collected a guide on some of the",
    "start": "865360",
    "end": "867120"
  },
  {
    "text": "best practices you should follow when",
    "start": "867120",
    "end": "868880"
  },
  {
    "text": "writing a doc file",
    "start": "868880",
    "end": "870720"
  },
  {
    "text": "find a link to it in this page",
    "start": "870720",
    "end": "874240"
  },
  {
    "text": "the main recommendation consists of",
    "start": "874240",
    "end": "876000"
  },
  {
    "text": "running only one process per container",
    "start": "876000",
    "end": "878480"
  },
  {
    "text": "we will discuss different ways to work",
    "start": "878480",
    "end": "880320"
  },
  {
    "text": "around this problem later",
    "start": "880320",
    "end": "883360"
  },
  {
    "text": "at build time you would ideally run",
    "start": "883360",
    "end": "886399"
  },
  {
    "text": "heavy and time consuming tasks",
    "start": "886399",
    "end": "888320"
  },
  {
    "text": "to boost traffic application and avoid",
    "start": "888320",
    "end": "890079"
  },
  {
    "text": "those at one time",
    "start": "890079",
    "end": "893040"
  },
  {
    "text": "you should also be aware of any possible",
    "start": "893839",
    "end": "895680"
  },
  {
    "text": "possible reproducibility issues",
    "start": "895680",
    "end": "898560"
  },
  {
    "text": "when building the image for instance",
    "start": "898560",
    "end": "900880"
  },
  {
    "text": "network connectivity issues",
    "start": "900880",
    "end": "904399"
  },
  {
    "text": "as for maintenance it is highly",
    "start": "906399",
    "end": "908000"
  },
  {
    "text": "recommended to rebuild the image",
    "start": "908000",
    "end": "909680"
  },
  {
    "text": "periodically",
    "start": "909680",
    "end": "911440"
  },
  {
    "text": "this could allow you to minimize the",
    "start": "911440",
    "end": "912959"
  },
  {
    "text": "response time",
    "start": "912959",
    "end": "914800"
  },
  {
    "text": "in case of a security incident affecting",
    "start": "914800",
    "end": "916800"
  },
  {
    "text": "a dependency of your application",
    "start": "916800",
    "end": "919040"
  },
  {
    "text": "or even by detecting a potential build",
    "start": "919040",
    "end": "920800"
  },
  {
    "text": "errors before a rebuild becomes urgent",
    "start": "920800",
    "end": "926480"
  },
  {
    "text": "a mistake we made has been numbing in",
    "start": "926480",
    "end": "928160"
  },
  {
    "text": "the past consisted of using an external",
    "start": "928160",
    "end": "930240"
  },
  {
    "text": "tool to",
    "start": "930240",
    "end": "931120"
  },
  {
    "text": "initialize the application it has so did",
    "start": "931120",
    "end": "934320"
  },
  {
    "text": "this had some issues with respect to",
    "start": "934320",
    "end": "936800"
  },
  {
    "text": "visibility",
    "start": "936800",
    "end": "937680"
  },
  {
    "text": "and debug but the main issue",
    "start": "937680",
    "end": "941040"
  },
  {
    "text": "was that in some environments it has",
    "start": "941040",
    "end": "944240"
  },
  {
    "text": "such a huge memory impact",
    "start": "944240",
    "end": "946160"
  },
  {
    "text": "that it will cause issues when",
    "start": "946160",
    "end": "947839"
  },
  {
    "text": "initializing in kubernetes",
    "start": "947839",
    "end": "949600"
  },
  {
    "text": "due to setting resource limits",
    "start": "949600",
    "end": "954720"
  },
  {
    "text": "other things you should consider at this",
    "start": "954720",
    "end": "956480"
  },
  {
    "text": "stage will be to support for multi-arc",
    "start": "956480",
    "end": "959839"
  },
  {
    "text": "such as emd64 plus arm",
    "start": "959839",
    "end": "964320"
  },
  {
    "text": "or choosing your own distor among other",
    "start": "964320",
    "end": "967120"
  },
  {
    "text": "things",
    "start": "967120",
    "end": "969839"
  },
  {
    "text": "as for charts design",
    "start": "974959",
    "end": "978160"
  },
  {
    "text": "as for charts design i've linked here a",
    "start": "978880",
    "end": "981680"
  },
  {
    "text": "guide",
    "start": "981680",
    "end": "982639"
  },
  {
    "text": "on some of the best practices creating",
    "start": "982639",
    "end": "984480"
  },
  {
    "text": "hand charts ready for production",
    "start": "984480",
    "end": "987360"
  },
  {
    "text": "find also a link to the public hemp",
    "start": "987360",
    "end": "988880"
  },
  {
    "text": "chart template we're using at bitnami",
    "start": "988880",
    "end": "990880"
  },
  {
    "text": "when we add any new solution",
    "start": "990880",
    "end": "994320"
  },
  {
    "text": "i will mainly recommend that you",
    "start": "994639",
    "end": "996560"
  },
  {
    "text": "configure it to deploy non-root",
    "start": "996560",
    "end": "998160"
  },
  {
    "text": "containers by default",
    "start": "998160",
    "end": "999600"
  },
  {
    "text": "and allow operators to extend this to",
    "start": "999600",
    "end": "1001519"
  },
  {
    "text": "they will",
    "start": "1001519",
    "end": "1004079"
  },
  {
    "text": "find some examples here for instance by",
    "start": "1004880",
    "end": "1006880"
  },
  {
    "text": "loading to specify custom container",
    "start": "1006880",
    "end": "1008880"
  },
  {
    "text": "commands",
    "start": "1008880",
    "end": "1009600"
  },
  {
    "text": "or disable pros",
    "start": "1009600",
    "end": "1012720"
  },
  {
    "text": "integrate with login and monitoring",
    "start": "1014000",
    "end": "1015680"
  },
  {
    "text": "platforms such as elk",
    "start": "1015680",
    "end": "1017440"
  },
  {
    "text": "or prometheus",
    "start": "1017440",
    "end": "1020320"
  },
  {
    "text": "add diagnostics features to make it",
    "start": "1020560",
    "end": "1022560"
  },
  {
    "text": "easier to debug",
    "start": "1022560",
    "end": "1023600"
  },
  {
    "text": "problems in deployment in case",
    "start": "1023600",
    "end": "1026640"
  },
  {
    "text": "anything happens",
    "start": "1026640",
    "end": "1030000"
  },
  {
    "text": "now let's discuss some of the challenges",
    "start": "1031679",
    "end": "1033600"
  },
  {
    "text": "you may find and how to solve them",
    "start": "1033600",
    "end": "1038480"
  },
  {
    "start": "1037000",
    "end": "1037000"
  },
  {
    "text": "if you want to if you want your",
    "start": "1038480",
    "end": "1040400"
  },
  {
    "text": "application to work properly in",
    "start": "1040400",
    "end": "1041839"
  },
  {
    "text": "kubernetes",
    "start": "1041839",
    "end": "1043120"
  },
  {
    "text": "you need to ensure that persistence is",
    "start": "1043120",
    "end": "1044798"
  },
  {
    "text": "properly set up if not",
    "start": "1044799",
    "end": "1046720"
  },
  {
    "text": "you may lose data after the container",
    "start": "1046720",
    "end": "1048880"
  },
  {
    "text": "gets recreated",
    "start": "1048880",
    "end": "1050720"
  },
  {
    "text": "as a general rule you should only",
    "start": "1050720",
    "end": "1052400"
  },
  {
    "text": "persist data files and folders",
    "start": "1052400",
    "end": "1054480"
  },
  {
    "text": "that need to be writable by the",
    "start": "1054480",
    "end": "1055919"
  },
  {
    "text": "application at runtime",
    "start": "1055919",
    "end": "1058559"
  },
  {
    "text": "the application separates data and code",
    "start": "1058559",
    "end": "1060559"
  },
  {
    "text": "in this case it",
    "start": "1060559",
    "end": "1061600"
  },
  {
    "text": "it could make our task easier be",
    "start": "1061600",
    "end": "1064880"
  },
  {
    "text": "aware that there are many applications",
    "start": "1064880",
    "end": "1066640"
  },
  {
    "text": "that don't do it",
    "start": "1066640",
    "end": "1069679"
  },
  {
    "text": "this approach is faster when you do the",
    "start": "1069679",
    "end": "1072320"
  },
  {
    "text": "first initialization because it needs to",
    "start": "1072320",
    "end": "1074080"
  },
  {
    "text": "copy less files",
    "start": "1074080",
    "end": "1076640"
  },
  {
    "text": "just imagine if you had to copy an",
    "start": "1076640",
    "end": "1078000"
  },
  {
    "text": "entire multi-application",
    "start": "1078000",
    "end": "1080880"
  },
  {
    "text": "via the network to a different volume",
    "start": "1080880",
    "end": "1085039"
  },
  {
    "text": "a last point in favor in this is that it",
    "start": "1085280",
    "end": "1087760"
  },
  {
    "text": "makes it easier to upgrade application",
    "start": "1087760",
    "end": "1089600"
  },
  {
    "text": "by just swapping the container images",
    "start": "1089600",
    "end": "1095039"
  },
  {
    "text": "if the application doesn't have any code",
    "start": "1095039",
    "end": "1097520"
  },
  {
    "text": "and data separation",
    "start": "1097520",
    "end": "1099039"
  },
  {
    "text": "then you will need to persist the entire",
    "start": "1099039",
    "end": "1100880"
  },
  {
    "text": "application source code",
    "start": "1100880",
    "end": "1103039"
  },
  {
    "text": "this can be slower than the previous",
    "start": "1103039",
    "end": "1104559"
  },
  {
    "text": "approach think of the example we",
    "start": "1104559",
    "end": "1106840"
  },
  {
    "text": "mentioned",
    "start": "1106840",
    "end": "1109679"
  },
  {
    "text": "the other downside of this approach is",
    "start": "1109679",
    "end": "1111760"
  },
  {
    "text": "that it forces",
    "start": "1111760",
    "end": "1113120"
  },
  {
    "text": "the operator to deal with any sort of",
    "start": "1113120",
    "end": "1115200"
  },
  {
    "text": "maintenance and upgrade",
    "start": "1115200",
    "end": "1116400"
  },
  {
    "text": "tasks which approach you choose is up to",
    "start": "1116400",
    "end": "1120080"
  },
  {
    "text": "you",
    "start": "1120080",
    "end": "1121360"
  },
  {
    "text": "you should consider the pros and cons of",
    "start": "1121360",
    "end": "1123760"
  },
  {
    "text": "each one of those",
    "start": "1123760",
    "end": "1126559"
  },
  {
    "text": "now let's talk about support for",
    "start": "1129760",
    "end": "1131440"
  },
  {
    "text": "automatic updates",
    "start": "1131440",
    "end": "1133440"
  },
  {
    "text": "we understand automatic updates as the",
    "start": "1133440",
    "end": "1135520"
  },
  {
    "text": "process where the operator does not need",
    "start": "1135520",
    "end": "1137840"
  },
  {
    "text": "to manually run any upgrade command or",
    "start": "1137840",
    "end": "1140080"
  },
  {
    "text": "wizard",
    "start": "1140080",
    "end": "1141120"
  },
  {
    "text": "to a great application note that before",
    "start": "1141120",
    "end": "1144000"
  },
  {
    "text": "you make any upgrade it is essential",
    "start": "1144000",
    "end": "1145840"
  },
  {
    "text": "that you backup your database",
    "start": "1145840",
    "end": "1147520"
  },
  {
    "text": "and scale down to onenote if the",
    "start": "1147520",
    "end": "1149120"
  },
  {
    "text": "application is running through multiple",
    "start": "1149120",
    "end": "1150720"
  },
  {
    "text": "nodes",
    "start": "1150720",
    "end": "1153039"
  },
  {
    "text": "if the application separates code and",
    "start": "1153520",
    "end": "1155440"
  },
  {
    "text": "data",
    "start": "1155440",
    "end": "1156559"
  },
  {
    "text": "like i mentioned above it makes it",
    "start": "1156559",
    "end": "1159360"
  },
  {
    "text": "easier for the operator",
    "start": "1159360",
    "end": "1161039"
  },
  {
    "text": "to upgrade by just swapping the",
    "start": "1161039",
    "end": "1162480"
  },
  {
    "text": "container image version",
    "start": "1162480",
    "end": "1165280"
  },
  {
    "text": "another way this can be implemented is",
    "start": "1165280",
    "end": "1167280"
  },
  {
    "text": "if the container is if the application",
    "start": "1167280",
    "end": "1168960"
  },
  {
    "text": "itself",
    "start": "1168960",
    "end": "1170000"
  },
  {
    "text": "supports some sort of automatic accurate",
    "start": "1170000",
    "end": "1172880"
  },
  {
    "text": "process",
    "start": "1172880",
    "end": "1173679"
  },
  {
    "text": "like wordpress where the operator",
    "start": "1173679",
    "end": "1175440"
  },
  {
    "text": "doesn't even need to worry about",
    "start": "1175440",
    "end": "1176880"
  },
  {
    "text": "clicking on the upgrade button",
    "start": "1176880",
    "end": "1178480"
  },
  {
    "text": "as the application does itself does it",
    "start": "1178480",
    "end": "1180640"
  },
  {
    "text": "automatically",
    "start": "1180640",
    "end": "1183120"
  },
  {
    "text": "the problem with this method is that",
    "start": "1183120",
    "end": "1185760"
  },
  {
    "text": "this requires",
    "start": "1185760",
    "end": "1187039"
  },
  {
    "text": "the application itself to have to have",
    "start": "1187039",
    "end": "1188880"
  },
  {
    "text": "right privileges",
    "start": "1188880",
    "end": "1190080"
  },
  {
    "text": "to modify the application source files",
    "start": "1190080",
    "end": "1193440"
  },
  {
    "text": "this is not ideal with respect to",
    "start": "1193440",
    "end": "1195280"
  },
  {
    "text": "permissions",
    "start": "1195280",
    "end": "1197200"
  },
  {
    "text": "it also makes it more complicated to",
    "start": "1197200",
    "end": "1199280"
  },
  {
    "text": "roll back",
    "start": "1199280",
    "end": "1200320"
  },
  {
    "text": "in case any error occurs",
    "start": "1200320",
    "end": "1204000"
  },
  {
    "text": "if the application does not provide any",
    "start": "1205039",
    "end": "1206880"
  },
  {
    "text": "of those features",
    "start": "1206880",
    "end": "1209120"
  },
  {
    "text": "that is code and data separation or an",
    "start": "1209120",
    "end": "1211840"
  },
  {
    "text": "automated",
    "start": "1211840",
    "end": "1212640"
  },
  {
    "text": "ui update tool then the",
    "start": "1212640",
    "end": "1215919"
  },
  {
    "text": "operator will be forced to perform a",
    "start": "1215919",
    "end": "1218080"
  },
  {
    "text": "manual upgrade process on their own",
    "start": "1218080",
    "end": "1222320"
  },
  {
    "start": "1222000",
    "end": "1222000"
  },
  {
    "text": "another issue you may find is that your",
    "start": "1224480",
    "end": "1226159"
  },
  {
    "text": "application requires multiple services",
    "start": "1226159",
    "end": "1227919"
  },
  {
    "text": "to work",
    "start": "1227919",
    "end": "1229360"
  },
  {
    "text": "but when the general rule is not running",
    "start": "1229360",
    "end": "1231280"
  },
  {
    "text": "more than one process in a container",
    "start": "1231280",
    "end": "1233120"
  },
  {
    "text": "then what do you do well there are two",
    "start": "1233120",
    "end": "1235520"
  },
  {
    "text": "main problems we haven't",
    "start": "1235520",
    "end": "1236720"
  },
  {
    "text": "identified related to this",
    "start": "1236720",
    "end": "1240000"
  },
  {
    "text": "first when the application has a set of",
    "start": "1240000",
    "end": "1243919"
  },
  {
    "text": "external dependencies or services",
    "start": "1243919",
    "end": "1246240"
  },
  {
    "text": "that need to share data with the main",
    "start": "1246240",
    "end": "1248320"
  },
  {
    "text": "component or process",
    "start": "1248320",
    "end": "1250880"
  },
  {
    "text": "like for instance via the use of workers",
    "start": "1250880",
    "end": "1254320"
  },
  {
    "text": "in this case you should check if it",
    "start": "1254320",
    "end": "1255840"
  },
  {
    "text": "allows to do that with an external",
    "start": "1255840",
    "end": "1257520"
  },
  {
    "text": "service",
    "start": "1257520",
    "end": "1259200"
  },
  {
    "text": "like redis if not you can set up a",
    "start": "1259200",
    "end": "1262400"
  },
  {
    "text": "synchronized or cached file system such",
    "start": "1262400",
    "end": "1264480"
  },
  {
    "text": "as nfs",
    "start": "1264480",
    "end": "1265520"
  },
  {
    "text": "with a downside of a notable",
    "start": "1265520",
    "end": "1268720"
  },
  {
    "text": "write performance",
    "start": "1268720",
    "end": "1271679"
  },
  {
    "text": "the next problem comes with respect to",
    "start": "1272799",
    "end": "1275280"
  },
  {
    "text": "frontend",
    "start": "1275280",
    "end": "1276000"
  },
  {
    "text": "and backend servers requiring access to",
    "start": "1276000",
    "end": "1279039"
  },
  {
    "text": "the same application files",
    "start": "1279039",
    "end": "1280880"
  },
  {
    "text": "in this case you should check if there",
    "start": "1280880",
    "end": "1282799"
  },
  {
    "text": "is any way to host external resources",
    "start": "1282799",
    "end": "1285120"
  },
  {
    "text": "via a cdn",
    "start": "1285120",
    "end": "1287679"
  },
  {
    "text": "if not you can also rely on shared or",
    "start": "1287679",
    "end": "1290320"
  },
  {
    "text": "catch",
    "start": "1290320",
    "end": "1290720"
  },
  {
    "text": "fire systems like we mentioned above",
    "start": "1290720",
    "end": "1293280"
  },
  {
    "text": "with a notable impact on performance",
    "start": "1293280",
    "end": "1296880"
  },
  {
    "text": "in this case you can also use a catch",
    "start": "1296880",
    "end": "1299600"
  },
  {
    "text": "server",
    "start": "1299600",
    "end": "1300159"
  },
  {
    "text": "like varnish for catching front-end",
    "start": "1300159",
    "end": "1303440"
  },
  {
    "text": "resources",
    "start": "1303440",
    "end": "1304640"
  },
  {
    "text": "to help in the performance drop",
    "start": "1304640",
    "end": "1309520"
  },
  {
    "text": "other cases you may find could be",
    "start": "1310559",
    "end": "1312880"
  },
  {
    "text": "periodic jobs",
    "start": "1312880",
    "end": "1315600"
  },
  {
    "text": "in this case kubernetes offers a current",
    "start": "1315600",
    "end": "1317600"
  },
  {
    "text": "job resource definition",
    "start": "1317600",
    "end": "1319360"
  },
  {
    "text": "that you can use to work around these",
    "start": "1319360",
    "end": "1321200"
  },
  {
    "text": "issues",
    "start": "1321200",
    "end": "1322880"
  },
  {
    "text": "or you may want to execute some",
    "start": "1322880",
    "end": "1324320"
  },
  {
    "text": "pre-installation steps",
    "start": "1324320",
    "end": "1326080"
  },
  {
    "text": "apart from what is in the container",
    "start": "1326080",
    "end": "1327600"
  },
  {
    "text": "logic in this case you can use an init",
    "start": "1327600",
    "end": "1330840"
  },
  {
    "text": "container",
    "start": "1330840",
    "end": "1333440"
  },
  {
    "start": "1333000",
    "end": "1333000"
  },
  {
    "text": "the last challenge we will talk about is",
    "start": "1333440",
    "end": "1335120"
  },
  {
    "text": "horizontal scaling",
    "start": "1335120",
    "end": "1336559"
  },
  {
    "text": "ideally your application will fully rely",
    "start": "1336559",
    "end": "1338960"
  },
  {
    "text": "on external services",
    "start": "1338960",
    "end": "1340720"
  },
  {
    "text": "and host no local data whatsoever making",
    "start": "1340720",
    "end": "1343600"
  },
  {
    "text": "it easier to scale horizontally for",
    "start": "1343600",
    "end": "1345600"
  },
  {
    "text": "example",
    "start": "1345600",
    "end": "1346080"
  },
  {
    "text": "you will have a web server to host",
    "start": "1346080",
    "end": "1347520"
  },
  {
    "text": "application data a different hosting",
    "start": "1347520",
    "end": "1351679"
  },
  {
    "text": "a different server for hosting temporary",
    "start": "1351679",
    "end": "1353600"
  },
  {
    "text": "files",
    "start": "1353600",
    "end": "1354720"
  },
  {
    "text": "such as cache sessions etc",
    "start": "1354720",
    "end": "1358000"
  },
  {
    "text": "usually done via redis memcached and",
    "start": "1358000",
    "end": "1360080"
  },
  {
    "text": "other types of servers",
    "start": "1360080",
    "end": "1362159"
  },
  {
    "text": "then you would have a cdn for hosting",
    "start": "1362159",
    "end": "1364000"
  },
  {
    "text": "the application assets",
    "start": "1364000",
    "end": "1366080"
  },
  {
    "text": "user uploads most others",
    "start": "1366080",
    "end": "1369280"
  },
  {
    "text": "and an external load balancer as the",
    "start": "1369280",
    "end": "1371120"
  },
  {
    "text": "main entry point from users",
    "start": "1371120",
    "end": "1373360"
  },
  {
    "text": "to access the application itself",
    "start": "1373360",
    "end": "1376720"
  },
  {
    "text": "in reality traditional applications",
    "start": "1376720",
    "end": "1379280"
  },
  {
    "text": "require hosting local data",
    "start": "1379280",
    "end": "1381039"
  },
  {
    "text": "like we have mentioned before and the",
    "start": "1381039",
    "end": "1382880"
  },
  {
    "text": "solution to that may be using a",
    "start": "1382880",
    "end": "1384400"
  },
  {
    "text": "synchronized file system",
    "start": "1384400",
    "end": "1386320"
  },
  {
    "text": "even with that the application may not",
    "start": "1386320",
    "end": "1388159"
  },
  {
    "text": "support it due to extra limitations",
    "start": "1388159",
    "end": "1391440"
  },
  {
    "text": "in this case all you can do is optimize",
    "start": "1391440",
    "end": "1394960"
  },
  {
    "text": "it",
    "start": "1394960",
    "end": "1395760"
  },
  {
    "text": "for instance you can use a cache server",
    "start": "1395760",
    "end": "1397280"
  },
  {
    "text": "like varnish to reach the load from the",
    "start": "1397280",
    "end": "1399600"
  },
  {
    "text": "application services optimize the",
    "start": "1399600",
    "end": "1402799"
  },
  {
    "text": "application configuration to your needs",
    "start": "1402799",
    "end": "1404640"
  },
  {
    "text": "or even scale vertically if needed",
    "start": "1404640",
    "end": "1408799"
  },
  {
    "text": "now that we have seen all the different",
    "start": "1409679",
    "end": "1411520"
  },
  {
    "text": "steps involving in deploying application",
    "start": "1411520",
    "end": "1413520"
  },
  {
    "text": "in kubernetes",
    "start": "1413520",
    "end": "1415200"
  },
  {
    "text": "including how to build a good container",
    "start": "1415200",
    "end": "1416960"
  },
  {
    "text": "image and a good hand chart",
    "start": "1416960",
    "end": "1418799"
  },
  {
    "text": "let's see a real world example we are",
    "start": "1418799",
    "end": "1421679"
  },
  {
    "text": "going to describe how to deploy a very",
    "start": "1421679",
    "end": "1423520"
  },
  {
    "text": "popular application",
    "start": "1423520",
    "end": "1424559"
  },
  {
    "text": "in this case wordpress and kubernetes",
    "start": "1424559",
    "end": "1426640"
  },
  {
    "text": "following following some of the best",
    "start": "1426640",
    "end": "1428400"
  },
  {
    "text": "tips and practices",
    "start": "1428400",
    "end": "1429679"
  },
  {
    "text": "mentioned in this talk first",
    "start": "1429679",
    "end": "1433039"
  },
  {
    "text": "let's see how a component time gram",
    "start": "1433039",
    "end": "1435840"
  },
  {
    "text": "would look like",
    "start": "1435840",
    "end": "1436960"
  },
  {
    "text": "in this case the user will connect to",
    "start": "1436960",
    "end": "1439360"
  },
  {
    "text": "the http port",
    "start": "1439360",
    "end": "1441200"
  },
  {
    "text": "of an nginx container which would then",
    "start": "1441200",
    "end": "1444400"
  },
  {
    "text": "communicate any requests to php fpm",
    "start": "1444400",
    "end": "1446960"
  },
  {
    "text": "via a proxy and using the mariadb",
    "start": "1446960",
    "end": "1450240"
  },
  {
    "text": "container as a database",
    "start": "1450240",
    "end": "1453760"
  },
  {
    "text": "the only container we will focus on for",
    "start": "1454960",
    "end": "1456799"
  },
  {
    "text": "this talk would be the one that executes",
    "start": "1456799",
    "end": "1459279"
  },
  {
    "text": "the wordpress application",
    "start": "1459279",
    "end": "1460880"
  },
  {
    "text": "in this case the php fbm container",
    "start": "1460880",
    "end": "1465600"
  },
  {
    "text": "this is an example of a real docker file",
    "start": "1467360",
    "end": "1469279"
  },
  {
    "text": "that could be used to build and run the",
    "start": "1469279",
    "end": "1471120"
  },
  {
    "text": "wordpress application",
    "start": "1471120",
    "end": "1472159"
  },
  {
    "text": "don't be scared we will we will be",
    "start": "1472159",
    "end": "1474400"
  },
  {
    "text": "describing it",
    "start": "1474400",
    "end": "1475279"
  },
  {
    "text": "step by step you can see here that we",
    "start": "1475279",
    "end": "1479200"
  },
  {
    "text": "are using a multi-stage build",
    "start": "1479200",
    "end": "1481120"
  },
  {
    "text": "in this case to build",
    "start": "1481120",
    "end": "1484159"
  },
  {
    "text": "the application in a separate container",
    "start": "1484159",
    "end": "1486559"
  },
  {
    "text": "and save space",
    "start": "1486559",
    "end": "1487760"
  },
  {
    "text": "in the overall image size we are using",
    "start": "1487760",
    "end": "1490480"
  },
  {
    "text": "the same image as",
    "start": "1490480",
    "end": "1491919"
  },
  {
    "text": "the runtime to save space as well",
    "start": "1491919",
    "end": "1496320"
  },
  {
    "text": "we are installing build dependencies in",
    "start": "1498000",
    "end": "1500240"
  },
  {
    "text": "this case for the c url",
    "start": "1500240",
    "end": "1501919"
  },
  {
    "text": "command extracting the application",
    "start": "1501919",
    "end": "1507520"
  },
  {
    "text": "and adding any customizations on top of",
    "start": "1507520",
    "end": "1509520"
  },
  {
    "text": "it",
    "start": "1509520",
    "end": "1511279"
  },
  {
    "text": "next we are defining the new image the",
    "start": "1511279",
    "end": "1513600"
  },
  {
    "text": "final image",
    "start": "1513600",
    "end": "1515279"
  },
  {
    "text": "using a minimal container image",
    "start": "1515279",
    "end": "1518640"
  },
  {
    "text": "with a minimal size",
    "start": "1518640",
    "end": "1521679"
  },
  {
    "text": "we are adapting it to our needs",
    "start": "1521840",
    "end": "1525279"
  },
  {
    "text": "installing runtime dependencies finally",
    "start": "1525279",
    "end": "1528559"
  },
  {
    "text": "installing wordpress from the",
    "start": "1528559",
    "end": "1529840"
  },
  {
    "text": "multi-stage",
    "start": "1529840",
    "end": "1531120"
  },
  {
    "text": "build applying any runtime",
    "start": "1531120",
    "end": "1534640"
  },
  {
    "text": "configurations",
    "start": "1534640",
    "end": "1536559"
  },
  {
    "text": "persisting the wp content as the data",
    "start": "1536559",
    "end": "1539760"
  },
  {
    "text": "folder for wordpress",
    "start": "1539760",
    "end": "1543039"
  },
  {
    "text": "and running everything as a non-root",
    "start": "1543039",
    "end": "1544720"
  },
  {
    "text": "user",
    "start": "1544720",
    "end": "1547039"
  },
  {
    "text": "this container is using a entry point",
    "start": "1548240",
    "end": "1550720"
  },
  {
    "text": "script that we are describing here",
    "start": "1550720",
    "end": "1554559"
  },
  {
    "text": "in the same way we're describing it by",
    "start": "1555039",
    "end": "1557279"
  },
  {
    "text": "step by step like",
    "start": "1557279",
    "end": "1558320"
  },
  {
    "text": "like before",
    "start": "1558320",
    "end": "1560960"
  },
  {
    "text": "first we are setting bash strict mode",
    "start": "1561360",
    "end": "1564400"
  },
  {
    "text": "and load functions which is a good",
    "start": "1564400",
    "end": "1566240"
  },
  {
    "text": "practice",
    "start": "1566240",
    "end": "1567520"
  },
  {
    "text": "next we are determining if the",
    "start": "1567520",
    "end": "1569360"
  },
  {
    "text": "application is being initialized",
    "start": "1569360",
    "end": "1571360"
  },
  {
    "text": "if it is then we will persist the",
    "start": "1571360",
    "end": "1573760"
  },
  {
    "text": "application data files",
    "start": "1573760",
    "end": "1575200"
  },
  {
    "text": "this is only on the first one it may",
    "start": "1575200",
    "end": "1577360"
  },
  {
    "text": "take a bit more time than",
    "start": "1577360",
    "end": "1579120"
  },
  {
    "text": "the usual but in successive successive",
    "start": "1579120",
    "end": "1582480"
  },
  {
    "text": "runs",
    "start": "1582480",
    "end": "1583200"
  },
  {
    "text": "it shouldn't do much it should be almost",
    "start": "1583200",
    "end": "1585919"
  },
  {
    "text": "instantaneous",
    "start": "1585919",
    "end": "1588480"
  },
  {
    "text": "another step that we do in the first",
    "start": "1588480",
    "end": "1590960"
  },
  {
    "text": "initialization",
    "start": "1590960",
    "end": "1591919"
  },
  {
    "text": "is validating inputs running custom",
    "start": "1591919",
    "end": "1594559"
  },
  {
    "text": "commands",
    "start": "1594559",
    "end": "1595279"
  },
  {
    "text": "etc finally we start the application",
    "start": "1595279",
    "end": "1600400"
  },
  {
    "text": "and that's it that's that's basically a",
    "start": "1600400",
    "end": "1602960"
  },
  {
    "text": "container image",
    "start": "1602960",
    "end": "1605760"
  },
  {
    "start": "1607000",
    "end": "1607000"
  },
  {
    "text": "now for the chart",
    "start": "1607039",
    "end": "1610880"
  },
  {
    "text": "now that we have a continued image we",
    "start": "1610880",
    "end": "1612720"
  },
  {
    "text": "want to deploy it on kubernetes",
    "start": "1612720",
    "end": "1615919"
  },
  {
    "text": "the chart includes a lots of files so we",
    "start": "1615919",
    "end": "1618080"
  },
  {
    "text": "will not be describing into detail",
    "start": "1618080",
    "end": "1619919"
  },
  {
    "text": "because we lack the time",
    "start": "1619919",
    "end": "1621679"
  },
  {
    "text": "in right now but we have collected two",
    "start": "1621679",
    "end": "1624080"
  },
  {
    "text": "examples",
    "start": "1624080",
    "end": "1625120"
  },
  {
    "text": "one of those is the vietnamese wordpress",
    "start": "1625120",
    "end": "1626799"
  },
  {
    "text": "chart which used the losses in apache",
    "start": "1626799",
    "end": "1628880"
  },
  {
    "text": "plus mod php approach",
    "start": "1628880",
    "end": "1631520"
  },
  {
    "text": "some basic features is that it uses",
    "start": "1631520",
    "end": "1633440"
  },
  {
    "text": "mariadb subchart",
    "start": "1633440",
    "end": "1635120"
  },
  {
    "text": "as the database but also allows to",
    "start": "1635120",
    "end": "1637279"
  },
  {
    "text": "specify an external database",
    "start": "1637279",
    "end": "1640559"
  },
  {
    "text": "it also supports caching via wordpress",
    "start": "1640559",
    "end": "1642559"
  },
  {
    "text": "plugin plasma and cache",
    "start": "1642559",
    "end": "1646320"
  },
  {
    "text": "we have also created for this tag",
    "start": "1646559",
    "end": "1648720"
  },
  {
    "text": "specifically an nginx plus php fpm",
    "start": "1648720",
    "end": "1651440"
  },
  {
    "text": "example basing on the vietnamese",
    "start": "1651440",
    "end": "1654399"
  },
  {
    "text": "wordpress chart",
    "start": "1654399",
    "end": "1656000"
  },
  {
    "text": "refer to the link to the github",
    "start": "1656000",
    "end": "1657600"
  },
  {
    "text": "repository for this talk and check it",
    "start": "1657600",
    "end": "1659520"
  },
  {
    "text": "out",
    "start": "1659520",
    "end": "1661679"
  },
  {
    "text": "so thanks so much for attending i really",
    "start": "1663360",
    "end": "1665039"
  },
  {
    "text": "hope you enjoyed this session you",
    "start": "1665039",
    "end": "1666320"
  },
  {
    "text": "learned a lot",
    "start": "1666320",
    "end": "1667120"
  },
  {
    "text": "and i encourage you to ask any questions",
    "start": "1667120",
    "end": "1669520"
  },
  {
    "text": "and share any feedback",
    "start": "1669520",
    "end": "1671520"
  },
  {
    "text": "i would love to hear from you see you",
    "start": "1671520",
    "end": "1676159"
  }
]