[
  {
    "start": "0",
    "end": "86000"
  },
  {
    "text": "you",
    "start": "1280",
    "end": "3339"
  },
  {
    "text": "all right we're gonna go ahead and get started I'd like to thank you for going who's joining us today welcome to",
    "start": "7590",
    "end": "13570"
  },
  {
    "text": "today's cncs webinar ensuring compliance without sacrificing development agility and operational independence in",
    "start": "13570",
    "end": "20200"
  },
  {
    "text": "kubernetes with OPA gatekeeper I'm Karen Chiu community program manager",
    "start": "20200",
    "end": "25630"
  },
  {
    "text": "at Microsoft and CN CF ambassador I'll be moderating today's webinar and we'd like to welcome our presenters today",
    "start": "25630",
    "end": "32050"
  },
  {
    "text": "yes sir Tasha sure John software engineer at Microsoft and lock watching",
    "start": "32050",
    "end": "37269"
  },
  {
    "text": "Vincent principal program manager at Microsoft just a few housekeeping items",
    "start": "37269",
    "end": "42909"
  },
  {
    "text": "before we get started during the webinar you will not be able to talk as an attendee you there is a Q&A box at the",
    "start": "42909",
    "end": "49569"
  },
  {
    "text": "bottom of your screen please feel free to drop in your questions there and we'll get to as many as we can at the",
    "start": "49569",
    "end": "55120"
  },
  {
    "text": "end this is an official webinar of the CNC F and as such is subject to the CNC f code",
    "start": "55120",
    "end": "60760"
  },
  {
    "text": "of conduct please do not add anything to the chat or questions that would be in violation of the code of conduct",
    "start": "60760",
    "end": "66580"
  },
  {
    "text": "basically please be respectful to all of your fellow participants and presenters please also note that the recording and",
    "start": "66580",
    "end": "74290"
  },
  {
    "text": "slides will be posted later today to the CNC F up in our page at CNCs Iowa slash",
    "start": "74290",
    "end": "79930"
  },
  {
    "text": "webinars and with that I will hand it over to sir Tasha Maki to kick off today's presentation wonderful thank you",
    "start": "79930",
    "end": "87580"
  },
  {
    "start": "86000",
    "end": "167000"
  },
  {
    "text": "very much Karen hello everybody and welcome you are in for a real treat today today we're talking about OPA",
    "start": "87580",
    "end": "93880"
  },
  {
    "text": "gatekeeper and for those of you who've never heard of OPA or gatekeeper we're going to walk you through everything",
    "start": "93880",
    "end": "99520"
  },
  {
    "text": "everything you need to know about policy and governance for your kubernetes cluster so today we're gonna go on a",
    "start": "99520",
    "end": "106600"
  },
  {
    "text": "journey telling you what OPA gatekeeper does sharing how you would use it walking through a",
    "start": "106600",
    "end": "112510"
  },
  {
    "text": "real-world scenario from end to end in both personas both admins and developers",
    "start": "112510",
    "end": "118570"
  },
  {
    "text": "alike share some demos with you and then tell you how you can connect get connected into OPA gatekeeper now it's",
    "start": "118570",
    "end": "125560"
  },
  {
    "text": "worth noting that OPA gatekeeper is a sub-project of open policy so when I say",
    "start": "125560",
    "end": "130780"
  },
  {
    "text": "OPA I'm speaking about open policy agent which is a CN CF project",
    "start": "130780",
    "end": "136900"
  },
  {
    "text": "gatekeepers specifically about how we implement OPA into kubernetes using the",
    "start": "136900",
    "end": "142810"
  },
  {
    "text": "kubernetes api and Ciardi so we're going to go through the whole thing how you can create policy and how you can make",
    "start": "142810",
    "end": "149769"
  },
  {
    "text": "sure that all your kubernetes resources are in compliance to that policy you can see the link there down the bottom on",
    "start": "149769",
    "end": "156189"
  },
  {
    "text": "github so if you're interested in following along everything we're going to be sharing today is available at that",
    "start": "156189",
    "end": "161470"
  },
  {
    "text": "github link so we're excited to get started here first next slide so toes",
    "start": "161470",
    "end": "167250"
  },
  {
    "start": "167000",
    "end": "219000"
  },
  {
    "text": "first we're going to share what gatekeeper actually is under the hood gatekeeper is as it states there are",
    "start": "167250",
    "end": "175359"
  },
  {
    "text": "customizable kubernetes admission webhook so if you're not familiar with admission web hooks you can actually",
    "start": "175359",
    "end": "181480"
  },
  {
    "text": "create pieces of software and for each request that comes into the kubernetes api you can send them over to this web",
    "start": "181480",
    "end": "188170"
  },
  {
    "text": "book to make a decision to whether admit to admit that request or deny that",
    "start": "188170",
    "end": "193209"
  },
  {
    "text": "request so we can actually create policy behind that back by OPA and decide on",
    "start": "193209",
    "end": "199989"
  },
  {
    "text": "whether we should admit or deny each request that comes into the kubernetes api and why would we want to do this",
    "start": "199989",
    "end": "206819"
  },
  {
    "text": "it's to enforce policies and strengthen governance so we're going to dig into",
    "start": "206819",
    "end": "212590"
  },
  {
    "text": "exactly what that means and how it affects you next slide so really we want",
    "start": "212590",
    "end": "221739"
  },
  {
    "start": "219000",
    "end": "298000"
  },
  {
    "text": "to understand why people would be interested in using gatekeeper and the problems it tries to solve so if you've",
    "start": "221739",
    "end": "229090"
  },
  {
    "text": "been or using kubernetes and operating kubernetes you've probably been looking at ways for end-users to actually have a",
    "start": "229090",
    "end": "237699"
  },
  {
    "text": "great experience and control what end-users can do whether they're creating any types of resources you want",
    "start": "237699",
    "end": "243669"
  },
  {
    "text": "a way to actually understand and create policy and say whether those resources can be created for example can you label",
    "start": "243669",
    "end": "252220"
  },
  {
    "text": "two deployments a specific way can you create specific objects with specific",
    "start": "252220",
    "end": "258070"
  },
  {
    "text": "specifications in those objects so at object creation time in the kubernetes cluster we can actually control what we",
    "start": "258070",
    "end": "266380"
  },
  {
    "text": "will admit based on some criteria there that weekend so we can create policy here to meet",
    "start": "266380",
    "end": "272860"
  },
  {
    "text": "governance and legal requirements and also just to enforce best practices for",
    "start": "272860",
    "end": "278020"
  },
  {
    "text": "example I've seen some policies out there to say hey you're using a deprecated kubernetes api you could send",
    "start": "278020",
    "end": "285250"
  },
  {
    "text": "a message back to your user so that they can be enticed to move to a stable API",
    "start": "285250",
    "end": "291190"
  },
  {
    "text": "that's just an example we're going to walk through some other examples of how you might actually use gatekeeper so",
    "start": "291190",
    "end": "298360"
  },
  {
    "start": "298000",
    "end": "343000"
  },
  {
    "text": "let's get into a real-world example here now the way we're going to break this example down is we're going to do it in",
    "start": "298360",
    "end": "304150"
  },
  {
    "text": "the perspective of two different personas in a fictitious company called agile Bank so of course agile Bank is",
    "start": "304150",
    "end": "311950"
  },
  {
    "text": "building the greatest p2p money transfer ever created but more to the point is",
    "start": "311950",
    "end": "318550"
  },
  {
    "text": "they're in a highly regulated industry so they need to ensure that their cluster resources on a kubernetes",
    "start": "318550",
    "end": "325690"
  },
  {
    "text": "cluster are compliant with some governance that they've defined for",
    "start": "325690",
    "end": "330940"
  },
  {
    "text": "those resources now I like the last point here both admins and Davila and developers are unhappy let's see how we",
    "start": "330940",
    "end": "338230"
  },
  {
    "text": "can use gatekeeper to make of both of those personas happy and how we can",
    "start": "338230",
    "end": "344380"
  },
  {
    "start": "343000",
    "end": "440000"
  },
  {
    "text": "actually not get in the way of the great experience kubernetes haves so first of all I'm gonna be wearing the admin hat",
    "start": "344380",
    "end": "350440"
  },
  {
    "text": "I'm gonna pass it to Sir Charles to where the developer hat but let's take a look at the admin persona specifically",
    "start": "350440",
    "end": "356700"
  },
  {
    "text": "so I'm an admin I can't keep up with infrastructure changes people need new",
    "start": "356700",
    "end": "362890"
  },
  {
    "text": "resources people want access to different types of things you have persistent volume secrets different",
    "start": "362890",
    "end": "368890"
  },
  {
    "text": "backends different networks load balancers for example I do I want to allow access to external load balances",
    "start": "368890",
    "end": "375310"
  },
  {
    "text": "so that's really hard for me to keep up with when the idea of kubernetes is that",
    "start": "375310",
    "end": "380830"
  },
  {
    "text": "an admin does not necessarily get in the way of the developers doing their jobs so how can I actually create a system",
    "start": "380830",
    "end": "387280"
  },
  {
    "text": "that allows policy to be expressed without me and my team needing to get in",
    "start": "387280",
    "end": "393250"
  },
  {
    "text": "the way of that so we're spending at the moment too much time on understanding",
    "start": "393250",
    "end": "398620"
  },
  {
    "text": "whether things are compliant or not compliant it's manual labor I need",
    "start": "398620",
    "end": "403850"
  },
  {
    "text": "all the resources and look for anomalies that don't meet compliance everybody keeps making the same mistakes",
    "start": "403850",
    "end": "410780"
  },
  {
    "text": "so we actually need everything labeled a very specific way so that is compliant",
    "start": "410780",
    "end": "417980"
  },
  {
    "text": "but some development teams aren't labeling things the way that we need them to so can we take an action on that",
    "start": "417980",
    "end": "424010"
  },
  {
    "text": "and figuring out what resources belong to what groups is hard does this sound",
    "start": "424010",
    "end": "429440"
  },
  {
    "text": "familiar can we actually solve this problem with gate keeper and make my life and out my",
    "start": "429440",
    "end": "435770"
  },
  {
    "text": "team's life much easier now we're going to pass it over to the developer persona",
    "start": "435770",
    "end": "442310"
  },
  {
    "start": "440000",
    "end": "523000"
  },
  {
    "text": "so Tash I undid all over here cannot",
    "start": "442310",
    "end": "447770"
  },
  {
    "text": "make changes I am ready to go I know",
    "start": "447770",
    "end": "452990"
  },
  {
    "text": "exactly what I want I want to test my",
    "start": "452990",
    "end": "459680"
  },
  {
    "text": "app I want to deploy to production I don't have any permissions to do it because I need to wait for admin to give",
    "start": "459680",
    "end": "467090"
  },
  {
    "text": "me access to the resources so I need to I keep waiting for admin make these",
    "start": "467090",
    "end": "473960"
  },
  {
    "text": "changes and sometimes it takes a long time sometimes turnaround is really it",
    "start": "473960",
    "end": "479030"
  },
  {
    "text": "was really long so I just keep waiting for for these changes family and then",
    "start": "479030",
    "end": "484700"
  },
  {
    "text": "when I do something it's hard to know if that changes conformance sometimes these",
    "start": "484700",
    "end": "492850"
  },
  {
    "text": "conforming see changes so it's really hard to keep track of what changes over",
    "start": "492850",
    "end": "497870"
  },
  {
    "text": "time while I just want to focus on the app I wanna focus on my code I also need",
    "start": "497870",
    "end": "503600"
  },
  {
    "text": "to know about all these conformance changes that happens an agile back all the time these changes are proposed",
    "start": "503600",
    "end": "509570"
  },
  {
    "text": "rejected updated re proposed so it's very hard to keep up with overtime and",
    "start": "509570",
    "end": "515300"
  },
  {
    "text": "in turnaround time is is it this a day so it takes a long time for to keep up with all the changes that happens okay",
    "start": "515300",
    "end": "524720"
  },
  {
    "start": "523000",
    "end": "549000"
  },
  {
    "text": "before we go into the user requirements I see some great questions that I would love to answer live so I'm going to take",
    "start": "524720",
    "end": "530690"
  },
  {
    "text": "a moment please keep the questions coming we are here to answer those questions and thank you for asking them first question is",
    "start": "530690",
    "end": "537200"
  },
  {
    "text": "we'll the demo code samples be made available afterwards absolutely so if",
    "start": "537200",
    "end": "542570"
  },
  {
    "text": "you go to the gatekeeper repository on the first slide that we had there which is open policy agent gatekeeper there is",
    "start": "542570",
    "end": "550730"
  },
  {
    "text": "a directory called demo in that directory is a script where we are going to run through the demo later in this",
    "start": "550730",
    "end": "557150"
  },
  {
    "text": "webinar and you can recreate it on your own afterwards so you should be able to",
    "start": "557150",
    "end": "562910"
  },
  {
    "text": "get access to the complete demo so don't worry about typing or taking screenshots also this will be recorded and we have",
    "start": "562910",
    "end": "570260"
  },
  {
    "text": "recordings of the demos as well so hopefully that answers your question thank you very much all the demos will",
    "start": "570260",
    "end": "576680"
  },
  {
    "text": "be under demo and gel Bank and then there's a script called demo to this each so if you run it you'll get to hold",
    "start": "576680",
    "end": "582020"
  },
  {
    "text": "them explains that they'll gonna show later thank you sir touch second a",
    "start": "582020",
    "end": "587510"
  },
  {
    "text": "second question I'm going to take a stab at at some point it would be good to understand the difference between OPA",
    "start": "587510",
    "end": "593450"
  },
  {
    "text": "gatekeeper and Cheever know which is a similar project unfortunately I don't",
    "start": "593450",
    "end": "598850"
  },
  {
    "text": "have all the knowledge of qivana I'd have heard of it so I can't speak authoritative the differences so touch",
    "start": "598850",
    "end": "605150"
  },
  {
    "text": "do you know Isis it seemed for Mia I only know yeah so unfortunately we can't",
    "start": "605150",
    "end": "611870"
  },
  {
    "text": "speak to it hopefully we will give you enough of the equation today to answer what gatekeeper dozen how it operates",
    "start": "611870",
    "end": "617480"
  },
  {
    "text": "and then we can take a look at key burner thank you for asking that question last question is does OPA allow",
    "start": "617480",
    "end": "626000"
  },
  {
    "text": "specific cluster role allowed or not to a cluster and by who is there a github",
    "start": "626000",
    "end": "632390"
  },
  {
    "text": "repository to give useful rules to be set inside a github inside a kubernetes",
    "start": "632390",
    "end": "637490"
  },
  {
    "text": "cluster so there are two parts for this question I'm going to answer the second part we have links later in this where",
    "start": "637490",
    "end": "643730"
  },
  {
    "text": "we have policy libraries and example policies that you can apply to a kubernetes cluster for the most common",
    "start": "643730",
    "end": "649340"
  },
  {
    "text": "use cases you are also free to write your own policies and PR them up as well but we have covered many things that",
    "start": "649340",
    "end": "656480"
  },
  {
    "text": "we'll cover in this webinar the first part of that question do you can you",
    "start": "656480",
    "end": "661970"
  },
  {
    "text": "answer that so does it it is does OPA allow specific cluster role allowed or not to a cluster",
    "start": "661970",
    "end": "669140"
  },
  {
    "text": "and by who so using gatekeeper you can set up rules",
    "start": "669140",
    "end": "675720"
  },
  {
    "text": "to be able to allow certain things could be like images it could be labels it",
    "start": "675720",
    "end": "683279"
  },
  {
    "text": "could be anything even not basically in those things we are going to show some",
    "start": "683279",
    "end": "688740"
  },
  {
    "text": "of the libraries in this webinar so you'll be able to try those out and then",
    "start": "688740",
    "end": "695040"
  },
  {
    "text": "see if those work for you or not and then we also have these security policy",
    "start": "695040",
    "end": "700949"
  },
  {
    "text": "equivalent sort of policies that you can try out Indian see see if they work for",
    "start": "700949",
    "end": "709110"
  },
  {
    "text": "your use case if not you can always add on to it or develop your own excellent",
    "start": "709110",
    "end": "716430"
  },
  {
    "text": "well thank you very much for those questions feel free to keep them coming and as we see them come in we'll take a moment to have them answered back to",
    "start": "716430",
    "end": "722850"
  },
  {
    "text": "user requirements that says does okay",
    "start": "722850",
    "end": "731209"
  },
  {
    "start": "731000",
    "end": "799000"
  },
  {
    "text": "slow down slow down yeah okay there we are okay so we're at user requirements",
    "start": "731420",
    "end": "736560"
  },
  {
    "text": "so remember we're going through the requirements of azure bank from the perspective of the admin and the developer so now what we're going to do",
    "start": "736560",
    "end": "742949"
  },
  {
    "text": "is just codify exactly what those requirements are so we want to free up admins time allow them to have audit and",
    "start": "742949",
    "end": "749760"
  },
  {
    "text": "enforcement and have that automated for them make sure they have common best practices so we just had a question",
    "start": "749760",
    "end": "756269"
  },
  {
    "text": "about what a common best practices will show you how to enforce common best practices for kubernetes clusters and",
    "start": "756269",
    "end": "761610"
  },
  {
    "text": "all resources have a key a clear owner so that's just for our add our",
    "start": "761610",
    "end": "766640"
  },
  {
    "text": "administrative team our operational team to understand who owns what resources and from the developer side we want to",
    "start": "766640",
    "end": "773220"
  },
  {
    "text": "unblock developers so admins are no longer standing in the way of all the",
    "start": "773220",
    "end": "779610"
  },
  {
    "text": "changes they need to make to their specific application so self-service is no longer a risk to conformance and",
    "start": "779610",
    "end": "787310"
  },
  {
    "text": "fail-fast means that developers we can actually implement ways to give developers instant feedback okay so from",
    "start": "787310",
    "end": "795930"
  },
  {
    "text": "here let's take a look at some specific government's policies that we're going to create so here are some policies that",
    "start": "795930",
    "end": "802110"
  },
  {
    "start": "799000",
    "end": "880000"
  },
  {
    "text": "agile Bank would like us to create all namespaces must have a label that points to a portal point of contact all",
    "start": "802110",
    "end": "809850"
  },
  {
    "text": "pods must have an upper bound for resource usage everybody knows having no resource usage",
    "start": "809850",
    "end": "815280"
  },
  {
    "text": "on your pods can cause all kinds of fun this is a great way to actually make sure that everything has a resource",
    "start": "815280",
    "end": "821490"
  },
  {
    "text": "limit all images must be from an approved repository so your container",
    "start": "821490",
    "end": "827310"
  },
  {
    "text": "repository you have an internal corporate container repository how do you make sure that everything deployed",
    "start": "827310",
    "end": "832830"
  },
  {
    "text": "to this kubernetes cluster only comes from that repository super-important I hear that one very often services must",
    "start": "832830",
    "end": "840270"
  },
  {
    "text": "have globally unique selectors have you ever typo'd a label selector on your",
    "start": "840270",
    "end": "846300"
  },
  {
    "text": "service and actually pointed to the wrong service on the back end also very common I know I've done so I would love",
    "start": "846300",
    "end": "853410"
  },
  {
    "text": "to have a way to make sure that label selectors are globally unique and ensure all ingress host names are unique this",
    "start": "853410",
    "end": "861030"
  },
  {
    "text": "is also a fun one if you reuse ingress host names",
    "start": "861030",
    "end": "866040"
  },
  {
    "text": "unbeknownst to somebody else in some other namespace you can have weird and wonderful effects on your ingress",
    "start": "866040",
    "end": "871770"
  },
  {
    "text": "controller so you can actually enforce that out of the gate and make sure that all your ingress is are globally unique",
    "start": "871770",
    "end": "879020"
  },
  {
    "text": "ok so we're going to dive into it now and get straight into constraints and",
    "start": "879020",
    "end": "884940"
  },
  {
    "start": "880000",
    "end": "964000"
  },
  {
    "text": "constraint properties here I will flick it to surcharge so defined constraint",
    "start": "884940",
    "end": "891990"
  },
  {
    "text": "properties as things we want to end together so in this sense that we want",
    "start": "891990",
    "end": "898440"
  },
  {
    "text": "to express intent by ending them together we only make the cluster more",
    "start": "898440",
    "end": "904490"
  },
  {
    "text": "constraints sit and in removing can only lose in these constraints so by that",
    "start": "904490",
    "end": "911550"
  },
  {
    "text": "there should be no weird interaction between adding one constraint that happens that something happens over",
    "start": "911550",
    "end": "917460"
  },
  {
    "text": "there we only want to make it more constrained and by adding more constraints in removing can only loosen",
    "start": "917460",
    "end": "923820"
  },
  {
    "text": "them and then if since these are all ended together one rejection should end",
    "start": "923820",
    "end": "930720"
  },
  {
    "text": "up being the whole request being rejected so in this way we can keep",
    "start": "930720",
    "end": "935760"
  },
  {
    "text": "track of like hey when I end these together and then if any of them is not true then we request",
    "start": "935760",
    "end": "943760"
  },
  {
    "text": "reject requests and then we also want to define a schema where we can write",
    "start": "943760",
    "end": "950940"
  },
  {
    "text": "constraints that gives the intent of like hey this is the this is the name",
    "start": "950940",
    "end": "957480"
  },
  {
    "text": "that we want or this is the regex that that we are looking for in this way it's",
    "start": "957480",
    "end": "962610"
  },
  {
    "text": "going to be less error-prone in this slide we are going to see an example of an constraint so this this one is bi",
    "start": "962610",
    "end": "972029"
  },
  {
    "start": "964000",
    "end": "1073000"
  },
  {
    "text": "type constraints gatekeeper that SH and then it is kind required labels so this",
    "start": "972029",
    "end": "978690"
  },
  {
    "text": "is the agile banks all namespaces must have an older use case so in this case",
    "start": "978690",
    "end": "986250"
  },
  {
    "text": "we are just looking for the namespaces kinds since namespaces are in the core",
    "start": "986250",
    "end": "991890"
  },
  {
    "text": "IP I grew up we just leave that on empty and if you want deployments for example it would be him like the apps API group",
    "start": "991890",
    "end": "998970"
  },
  {
    "text": "or if you have if you're watching any you want to match any anything any other resources that you would just define as",
    "start": "998970",
    "end": "1005029"
  },
  {
    "text": "part of the the kinds here and then this is the parameters that that we see so",
    "start": "1005029",
    "end": "1014060"
  },
  {
    "text": "these are intense so the message is is a",
    "start": "1014060",
    "end": "1019190"
  },
  {
    "text": "nicer message that user you gets when their request is rejected",
    "start": "1019190",
    "end": "1025250"
  },
  {
    "text": "so all namespaces are several on the label that points to your company username so this way you failed but at",
    "start": "1025250",
    "end": "1032449"
  },
  {
    "text": "the same time you you get a message that saying why you failed so this is a cogniser way of knowing like hey I need",
    "start": "1032449",
    "end": "1039470"
  },
  {
    "text": "to do these actions and then here is the for the HL bank says you use case here is they allow reg X that users can add",
    "start": "1039470",
    "end": "1046610"
  },
  {
    "text": "their user names or whatever so if your you put your name there agile demo in",
    "start": "1046610",
    "end": "1052370"
  },
  {
    "text": "this case for the accepted username so this way when somebody looks at the namespace they would know hey this",
    "start": "1052370",
    "end": "1059660"
  },
  {
    "text": "person from this Miss Department created this namespace so this way we can track",
    "start": "1059660",
    "end": "1066760"
  },
  {
    "text": "who created what over time Soto's can you just go back a second I'd",
    "start": "1066760",
    "end": "1072720"
  },
  {
    "text": "like to ask you a few questions is that okay yeah so when we think about constraints this is a new word to me how",
    "start": "1072720",
    "end": "1079530"
  },
  {
    "start": "1073000",
    "end": "1424000"
  },
  {
    "text": "should I understand constraints is it as a essentially a policy or I'm still",
    "start": "1079530",
    "end": "1086419"
  },
  {
    "text": "constraints are it's basically and so in later they're gonna see constraint",
    "start": "1086419",
    "end": "1092640"
  },
  {
    "text": "templates so in constraint templates you define the logic of what happens of like",
    "start": "1092640",
    "end": "1098960"
  },
  {
    "text": "is the Renko code that executes when you",
    "start": "1098960",
    "end": "1104549"
  },
  {
    "text": "wanna when you want to run some of the policy engine",
    "start": "1104549",
    "end": "1110660"
  },
  {
    "text": "are basically constraints give some of the parameters to those to those",
    "start": "1110660",
    "end": "1118440"
  },
  {
    "text": "templates so if a guy who have certain restrictions any like ice mentioned",
    "start": "1118440",
    "end": "1125940"
  },
  {
    "text": "before they're ANDed together so if you want to keep adding more stuff so you would do so with with constraints for",
    "start": "1125940",
    "end": "1134040"
  },
  {
    "text": "example you would be able to say hey I only want this red X to be allowed for",
    "start": "1134040",
    "end": "1141020"
  },
  {
    "text": "allowed images for example so you can only pull from my company's private",
    "start": "1141020",
    "end": "1147919"
  },
  {
    "text": "private registry for all images or you can only pull from this other registry",
    "start": "1147919",
    "end": "1153419"
  },
  {
    "text": "also that I am using for something else okay so I see that this is of kind",
    "start": "1153419",
    "end": "1161450"
  },
  {
    "text": "kubernetes required label so I would expect to see a constraint template which is a CR d4 called",
    "start": "1161450",
    "end": "1169640"
  },
  {
    "text": "complying read labels okay understand and those parameters would be inputs into the scheme or into them this is",
    "start": "1169640",
    "end": "1179790"
  },
  {
    "text": "basically how you give key parameters to",
    "start": "1179790",
    "end": "1184919"
  },
  {
    "text": "that template so if you want to your message very excellent to you this is",
    "start": "1184919",
    "end": "1191309"
  },
  {
    "text": "how we do it excellent okay thank you",
    "start": "1191309",
    "end": "1196799"
  },
  {
    "text": "do we have a moment to pass a couple of questions so I I will read for the first",
    "start": "1196799",
    "end": "1201990"
  },
  {
    "text": "question is gatekeeper a validation web can it also be a mutation webhook to satisfy constraints validating my book",
    "start": "1201990",
    "end": "1210370"
  },
  {
    "text": "they don't support mutating weapons right now but that's something they're",
    "start": "1210370",
    "end": "1215890"
  },
  {
    "text": "discussing okay so mutation is is on the roadmap second question it seems that there's",
    "start": "1215890",
    "end": "1222549"
  },
  {
    "text": "been some months since I heard OPA GK will be made GA are we in the same status if yes what are the main blockers",
    "start": "1222549",
    "end": "1229780"
  },
  {
    "text": "to go GA so we are all on the road to GA IV ever defined lists of things that we",
    "start": "1229780",
    "end": "1238030"
  },
  {
    "text": "want to accomplish we are getting there I think so so basically you in our",
    "start": "1238030",
    "end": "1247870"
  },
  {
    "text": "issues this if you go and look for the labels blocking GA you'll see exactly",
    "start": "1247870",
    "end": "1253110"
  },
  {
    "text": "what needs to be done so for GA we want to define H a like high availability but",
    "start": "1253110",
    "end": "1261370"
  },
  {
    "text": "so just in case so you want to have the at least like the definition of AI",
    "start": "1261370",
    "end": "1267730"
  },
  {
    "text": "availability and then some other items if you go to the issues you'll see what",
    "start": "1267730",
    "end": "1276010"
  },
  {
    "text": "needs to be done so it's one example isn't for example cash warming so for",
    "start": "1276010",
    "end": "1281320"
  },
  {
    "text": "example when when you a keeper starts it should look at the existing constraints",
    "start": "1281320",
    "end": "1289539"
  },
  {
    "text": "and constrain templates in the system and then put those into a gatekeeper in",
    "start": "1289539",
    "end": "1297549"
  },
  {
    "text": "you know pH and then start serving after these are all processed and then have",
    "start": "1297549",
    "end": "1304000"
  },
  {
    "text": "the ready check after all of these are process okay two more questions do you",
    "start": "1304000",
    "end": "1311049"
  },
  {
    "text": "think that OPA that with OPA we can manage to obtain a multi-tenancy",
    "start": "1311049",
    "end": "1316090"
  },
  {
    "text": "kubernetes called secure cluster I would",
    "start": "1316090",
    "end": "1321940"
  },
  {
    "text": "I were to have a touch I I think this can be used as a piece of the puzzle security has many layers this can be one",
    "start": "1321940",
    "end": "1329289"
  },
  {
    "text": "of them to enforce how resources are created and how they're an allowed access so it would be one piece I",
    "start": "1329289",
    "end": "1336970"
  },
  {
    "text": "wouldn't go as far to say that if you implement this you would have a multi-tenant secure kubernetes cluster only because",
    "start": "1336970",
    "end": "1344300"
  },
  {
    "text": "multiple layers even then a container runtimes authorization there are many pieces to that puzzle but this is can be",
    "start": "1344300",
    "end": "1351020"
  },
  {
    "text": "used to complement your security model in kubernetes this one I think I can",
    "start": "1351020",
    "end": "1358430"
  },
  {
    "text": "answer but I'll read it out for cert as if OPA gatekeeper is down does it block",
    "start": "1358430",
    "end": "1364580"
  },
  {
    "text": "active deployments does it run in a chain mode so as I was saying the definition of hey che is one of the",
    "start": "1364580",
    "end": "1371390"
  },
  {
    "text": "blockers to get v3 to GA so at the moment it depends on how you configure",
    "start": "1371390",
    "end": "1377450"
  },
  {
    "text": "your validating webhook configuration you can either have it fail open or fail",
    "start": "1377450",
    "end": "1384440"
  },
  {
    "text": "close meaning that if gatekeeper is down will you allow the request or will you",
    "start": "1384440",
    "end": "1390500"
  },
  {
    "text": "block it and that is part of your validating webhook configuration on the kubernetes cluster so you can do it in",
    "start": "1390500",
    "end": "1397760"
  },
  {
    "text": "both ways but obviously we want it to always run which is why we would like to have a a che option yeah so currently",
    "start": "1397760",
    "end": "1405950"
  },
  {
    "text": "failing open which means if the gatekeeper is down it is going to allow requests but we want to get to fail",
    "start": "1405950",
    "end": "1412820"
  },
  {
    "text": "close so that's the ultimate end goal but for for that to happen we need a che thanks ash plays continue",
    "start": "1412820",
    "end": "1424270"
  },
  {
    "start": "1424000",
    "end": "1523000"
  },
  {
    "text": "so in the next topic is basically audits so audits we want to look at the",
    "start": "1424300",
    "end": "1431740"
  },
  {
    "text": "resources in the last cluster and then periodically evaluate if the how these",
    "start": "1431740",
    "end": "1438410"
  },
  {
    "text": "are doing against constraints if these are in violation or if they are if",
    "start": "1438410",
    "end": "1445400"
  },
  {
    "text": "they're in compliance so in this one is good so developers or admins can look at",
    "start": "1445400",
    "end": "1453920"
  },
  {
    "text": "cluster States and then compliancy of the resources that are running in the",
    "start": "1453920",
    "end": "1459890"
  },
  {
    "text": "cluster as it happens basically Indian you can always take action against these",
    "start": "1459890",
    "end": "1466400"
  },
  {
    "text": "audit results so these audits are exposed where the status field of",
    "start": "1466400",
    "end": "1471480"
  },
  {
    "text": "constraint we're gonna see in the next slide so basically this is like a really nice way to just look at the state of",
    "start": "1471480",
    "end": "1477720"
  },
  {
    "text": "the cluster and then a recent change in",
    "start": "1477720",
    "end": "1482970"
  },
  {
    "text": "the gatekeeper is we are now allowing the keeper audit as a separate",
    "start": "1482970",
    "end": "1489480"
  },
  {
    "text": "deployment so for it you don't have to have their validating web poke deployed",
    "start": "1489480",
    "end": "1496200"
  },
  {
    "text": "to run audit so this is like a very you ask for use case because some people",
    "start": "1496200",
    "end": "1502680"
  },
  {
    "text": "just they they just want to start with audits and you see like what are compliance without actually deploying",
    "start": "1502680",
    "end": "1510330"
  },
  {
    "text": "the web book and then seeing rejections so this is like a really good way to see like what are the this stuff that is in",
    "start": "1510330",
    "end": "1520800"
  },
  {
    "text": "compliant or not compliant in your cluster so this is the basically the the",
    "start": "1520800",
    "end": "1526740"
  },
  {
    "text": "constraint we just deployed earlier that maybe just saw it earlier so in the in",
    "start": "1526740",
    "end": "1534720"
  },
  {
    "text": "the status field like I mentioned you'll see there are at times them so this is the last time that all it happens and",
    "start": "1534720",
    "end": "1541980"
  },
  {
    "text": "then under violations you'll see what namespaces are are in violation of this",
    "start": "1541980",
    "end": "1550380"
  },
  {
    "text": "rule so in this case we have default gatekeeper system Q public subsystem and",
    "start": "1550380",
    "end": "1555540"
  },
  {
    "text": "then because of resource constraints in the cluster we are keeping these",
    "start": "1555540",
    "end": "1562740"
  },
  {
    "text": "violations limited by default that believe it's 20 but you can always",
    "start": "1562740",
    "end": "1568110"
  },
  {
    "text": "increase it so since these are limited we also added a total violations fields",
    "start": "1568110",
    "end": "1574410"
  },
  {
    "text": "so this will be truncated at some point unless you change that setting and then twelve total violations will always list",
    "start": "1574410",
    "end": "1581970"
  },
  {
    "text": "whatever violations you have wildly the violations list is drinking it any",
    "start": "1581970",
    "end": "1590760"
  },
  {
    "text": "questions about this one keep going okay yeah like I like I mentioned earlier we",
    "start": "1590760",
    "end": "1598320"
  },
  {
    "start": "1594000",
    "end": "1620000"
  },
  {
    "text": "want to test these without enforcing them this is where the dry run comes in",
    "start": "1598320",
    "end": "1604870"
  },
  {
    "text": "so just just like audits I mean this is part about it you'll see the evaluations",
    "start": "1604870",
    "end": "1613540"
  },
  {
    "text": "in the status but in this case they are not actually enforced but they're only seen in the cluster as violations so",
    "start": "1613540",
    "end": "1620620"
  },
  {
    "start": "1620000",
    "end": "1774000"
  },
  {
    "text": "similarly if you add a enforcement action dry run you'll get into the dry run mode for",
    "start": "1620620",
    "end": "1628000"
  },
  {
    "text": "that constraint by default enforcement action is denied so if you didn't specify enforce action",
    "start": "1628000",
    "end": "1634150"
  },
  {
    "text": "that will be denied if you did specify deny that's what we default behavior or you could specify dry run so in this",
    "start": "1634150",
    "end": "1641470"
  },
  {
    "text": "case the violations you see are for dry",
    "start": "1641470",
    "end": "1648160"
  },
  {
    "text": "run so there with the book in the audit results but they are not enforced with",
    "start": "1648160",
    "end": "1655090"
  },
  {
    "text": "the book yeah I just want everybody to take a moment to understand ordered and",
    "start": "1655090",
    "end": "1660850"
  },
  {
    "text": "dry run specifically so I think the use case here is I have a cluster with a lot of resources and I want to bring that",
    "start": "1660850",
    "end": "1667480"
  },
  {
    "text": "cluster into compliance so I haven't installed a brand new cluster or created",
    "start": "1667480",
    "end": "1672490"
  },
  {
    "text": "a brand new cluster and put gatekeeper on it I have a lot of resources I want to bring them into compliance so with",
    "start": "1672490",
    "end": "1677950"
  },
  {
    "text": "dry run and audit it allows you to actually get visibility and pass through that loop of all your policies and see",
    "start": "1677950",
    "end": "1684400"
  },
  {
    "text": "what's out of compliance and then take action to fix things and you would eventually have this status field empty",
    "start": "1684400",
    "end": "1691360"
  },
  {
    "text": "once everything is in compliance so now I want to pass that answer back through a question we have here is it possible",
    "start": "1691360",
    "end": "1697450"
  },
  {
    "text": "to crash or block your kubernetes cluster if you have a bad rule it is absolutely possible to do that which is",
    "start": "1697450",
    "end": "1704650"
  },
  {
    "text": "why we create a dry run and Aude it to allow you to actually say I want to test",
    "start": "1704650",
    "end": "1709750"
  },
  {
    "text": "this policy and see if it's catching the things that I want it to catch and then clean them up without having the risk of",
    "start": "1709750",
    "end": "1715390"
  },
  {
    "text": "actually blocking admission to the cluster so that's one one question keep",
    "start": "1715390",
    "end": "1724240"
  },
  {
    "text": "going so - indeed one of the other agile biases scenarios is B wanna enforce",
    "start": "1724240",
    "end": "1732880"
  },
  {
    "text": "global unique English host names for the only uniqueness this is in use case because we wanted to define",
    "start": "1732880",
    "end": "1741159"
  },
  {
    "text": "some constraints that compare things to each other and then to make sure that they are unique and some of these",
    "start": "1741159",
    "end": "1747700"
  },
  {
    "text": "constraints are impossible to write without access to two estate more than just the object under test so because we",
    "start": "1747700",
    "end": "1754419"
  },
  {
    "text": "want to see the other objects in the cluster and then by default or audit",
    "start": "1754419",
    "end": "1760630"
  },
  {
    "text": "will request each resource from the communities API server so it uses the discovery client to chat with the",
    "start": "1760630",
    "end": "1767559"
  },
  {
    "text": "communities API server in each cycle of the audit but and we have a flag called",
    "start": "1767559",
    "end": "1774100"
  },
  {
    "start": "1774000",
    "end": "1830000"
  },
  {
    "text": "audit from from cache it goes through so if you set this flag the source of truth",
    "start": "1774100",
    "end": "1780010"
  },
  {
    "text": "will be the open cash so so PA will have",
    "start": "1780010",
    "end": "1786010"
  },
  {
    "text": "had the cash so in and it's defined by this config object on the right you'll see here so it'll basically charge",
    "start": "1786010",
    "end": "1793830"
  },
  {
    "text": "things that I can escape service pod name space you could have like ingress or service and in here in English for",
    "start": "1793830",
    "end": "1802179"
  },
  {
    "text": "example here whatever things you want so if you want to compare objects against",
    "start": "1802179",
    "end": "1810039"
  },
  {
    "text": "each other things like this you need in this case you would need data replication and the config object but",
    "start": "1810039",
    "end": "1817120"
  },
  {
    "text": "but by default it will use the kubernetes api server so you would not need this unless you are handling",
    "start": "1817120",
    "end": "1824980"
  },
  {
    "text": "uniqueness cases",
    "start": "1824980",
    "end": "1827880"
  },
  {
    "start": "1830000",
    "end": "1866000"
  },
  {
    "text": "and then we talked about constraint templates earlier so red always the is",
    "start": "1830120",
    "end": "1837240"
  },
  {
    "text": "the language for OPA I mean this the constraint template contains the regular",
    "start": "1837240",
    "end": "1845160"
  },
  {
    "text": "old signature so it basically contains all the logic of what happens when like gatekeeper",
    "start": "1845160",
    "end": "1854160"
  },
  {
    "text": "executes these constraints and then if the rule matches the constraint is violated and then we also talked about",
    "start": "1854160",
    "end": "1862080"
  },
  {
    "text": "the schema for the constraints and this is where the the schema is defined this",
    "start": "1862080",
    "end": "1867809"
  },
  {
    "start": "1866000",
    "end": "1963000"
  },
  {
    "text": "is little small hopefully you can see this one so this is this for the same",
    "start": "1867809",
    "end": "1872970"
  },
  {
    "text": "example for the case required labels you'll see the the schema defined here",
    "start": "1872970",
    "end": "1878850"
  },
  {
    "text": "and this is the exact one we looked at earlier so this is where you define your",
    "start": "1878850",
    "end": "1884040"
  },
  {
    "text": "schema while the constraints contains your parameters so in this case we are",
    "start": "1884040",
    "end": "1891470"
  },
  {
    "text": "defining things like the message which is of type string or allowed reg X which",
    "start": "1891470",
    "end": "1897330"
  },
  {
    "text": "is also a third string it is this is the schema of the constraint in then under",
    "start": "1897330",
    "end": "1902520"
  },
  {
    "text": "the targets in the red oak this is where the the reg oh like the logical so if",
    "start": "1902520",
    "end": "1909420"
  },
  {
    "text": "this is this matches then you get the deny message basically and then we also",
    "start": "1909420",
    "end": "1915510"
  },
  {
    "text": "so like the message earlier this is that's the message that that you would get returned so if this executes and if",
    "start": "1915510",
    "end": "1924000"
  },
  {
    "text": "it is true and you get that you get a",
    "start": "1924000",
    "end": "1929730"
  },
  {
    "text": "deny basically so in in this is where you define your different logic and then",
    "start": "1929730",
    "end": "1935700"
  },
  {
    "text": "we're going to see on the library you can take a look at it we have some of",
    "start": "1935700",
    "end": "1941010"
  },
  {
    "text": "the common use cases and ensure you can always get started with those things so",
    "start": "1941010",
    "end": "1946500"
  },
  {
    "text": "you don't have to come up with all these for yourself but in the library we have most of the common use cases and then",
    "start": "1946500",
    "end": "1952710"
  },
  {
    "text": "you can also define things like helper libraries or anything in heroes",
    "start": "1952710",
    "end": "1960529"
  },
  {
    "text": "and so you want to talk about metrics also so one of the later additions to a",
    "start": "1962110",
    "end": "1968990"
  },
  {
    "start": "1963000",
    "end": "2022000"
  },
  {
    "text": "gatekeeper is the inclusion of metrics so currently we are supporting",
    "start": "1968990",
    "end": "1974570"
  },
  {
    "text": "Prometheus as a back-end for metrics so we are we are metrics for things like",
    "start": "1974570",
    "end": "1981440"
  },
  {
    "text": "violations per enforcement action this is what you see here so you would see",
    "start": "1981440",
    "end": "1986990"
  },
  {
    "text": "like how many how many denies have you seen how many dry runs of these",
    "start": "1986990",
    "end": "1994340"
  },
  {
    "text": "violations so you could track over time what happens in your cluster but if you",
    "start": "1994340",
    "end": "1999590"
  },
  {
    "text": "are going to see them also a total number of constraint templates and constraints the when was last audits how",
    "start": "1999590",
    "end": "2008290"
  },
  {
    "text": "long did the audit take any questions",
    "start": "2008290",
    "end": "2017400"
  },
  {
    "text": "continue we'll take questions in a moment so I think one of the one of the",
    "start": "2017400",
    "end": "2024280"
  },
  {
    "start": "2022000",
    "end": "2293000"
  },
  {
    "text": "biggest values that gatekeeper brings to OPA is allows for code reuse so if",
    "start": "2024280",
    "end": "2030190"
  },
  {
    "text": "you've worked with open policy agent building your own reg o policies to actually do the thing that you intend to",
    "start": "2030190",
    "end": "2036100"
  },
  {
    "text": "do can be complex and you need to understand it but one of the things gatekeeper brings is a structured",
    "start": "2036100",
    "end": "2041650"
  },
  {
    "text": "schematized version of that by constraint templates and constraints using kubernetes so that you can",
    "start": "2041650",
    "end": "2047920"
  },
  {
    "text": "actually share these things around put them in your CI CD pipelines test them make assertions on the scheme of the",
    "start": "2047920",
    "end": "2054490"
  },
  {
    "text": "types so you can actually build some really good safeguards using kubernetes api s",
    "start": "2054490",
    "end": "2060358"
  },
  {
    "text": "around what you're putting into that reg o which is the native language policy",
    "start": "2060359",
    "end": "2065618"
  },
  {
    "text": "language of OPA so the good thing about constraints and constraint templates and gatekeeper is we can build policy",
    "start": "2065619",
    "end": "2071530"
  },
  {
    "text": "libraries and share them and bring your own parameters which is absolutely fantastic",
    "start": "2071530",
    "end": "2076960"
  },
  {
    "text": "so what I'm going to do is take a moment to answer a few questions here and then we're going to move into a time of demos",
    "start": "2076960",
    "end": "2083490"
  },
  {
    "text": "so a couple of questions and this is one that's probably interest to you interesting that the violations",
    "start": "2083490",
    "end": "2090608"
  },
  {
    "text": "are kept in the custom resource for the rule how about generating events for the",
    "start": "2090609",
    "end": "2096158"
  },
  {
    "text": "concerned resources so that it also shows up on the violating resources does",
    "start": "2096159",
    "end": "2101319"
  },
  {
    "text": "this make sense Soto's so I'm guessing that you would annotate in the status field of a",
    "start": "2101319",
    "end": "2106450"
  },
  {
    "text": "deployment if it was in violation is what the question is yeah so right now we have it under this status field of",
    "start": "2106450",
    "end": "2114660"
  },
  {
    "text": "the constraint I think the questions was about events you don't have don't",
    "start": "2114660",
    "end": "2120369"
  },
  {
    "text": "believe events but yeah so there are currently others I think that's",
    "start": "2120369",
    "end": "2127089"
  },
  {
    "text": "interesting at the moment we wanted to coalesce them into one place around the policy so you didn't have to go and look",
    "start": "2127089",
    "end": "2132400"
  },
  {
    "text": "in many places but that's that's an interesting thing feel free to raise an issue if you want to discuss that",
    "start": "2132400",
    "end": "2139690"
  },
  {
    "text": "further I think there's one more related the violations can either be viewed in",
    "start": "2139690",
    "end": "2145990"
  },
  {
    "text": "the constraints status or sent to logs is there an alerting integrations ie",
    "start": "2145990",
    "end": "2151599"
  },
  {
    "text": "send the violations to slack or how can we implement with any community tool so",
    "start": "2151599",
    "end": "2156790"
  },
  {
    "text": "do we have an event in system you just said no oh so you can always define these",
    "start": "2156790",
    "end": "2165040"
  },
  {
    "text": "through metrics for example if you could set up primitives to set up alerts to",
    "start": "2165040",
    "end": "2170730"
  },
  {
    "text": "whatever platform you want okay so a manager via the metrics in Prometheus is",
    "start": "2170730",
    "end": "2178390"
  },
  {
    "text": "what you can do today how much performance impact can I expect what if I have hundreds or thousands of policies",
    "start": "2178390",
    "end": "2185579"
  },
  {
    "text": "yeah it's really hard to say like hey this is the this much is what you can",
    "start": "2185579",
    "end": "2191109"
  },
  {
    "text": "expect but the more constraints you have the more constrained templates you have",
    "start": "2191109",
    "end": "2197079"
  },
  {
    "text": "and then also depending on limits the",
    "start": "2197079",
    "end": "2203530"
  },
  {
    "text": "more performance impacts you see and then you should definitely test for your",
    "start": "2203530",
    "end": "2208630"
  },
  {
    "text": "use case it's really hard to say hey we",
    "start": "2208630",
    "end": "2215859"
  },
  {
    "text": "have done both testing in the past and indeed these are also published so you can take a look at it I can also put",
    "start": "2215859",
    "end": "2223690"
  },
  {
    "text": "that link somewhere these are great questions keep them coming in the same vein how scalable is the cache if I have",
    "start": "2223690",
    "end": "2230470"
  },
  {
    "text": "a thousand plus services a thousand plus ingresses in this in the cluster to keep them for unique names will this be a",
    "start": "2230470",
    "end": "2237400"
  },
  {
    "text": "problem for OPA yeah definitely the more resources you have the more it takes if",
    "start": "2237400",
    "end": "2247329"
  },
  {
    "text": "you are using the OPA cache so yeah that's the only concern if you have a",
    "start": "2247329",
    "end": "2253210"
  },
  {
    "text": "lot of stuff and if you're talking about like tens of thousands or something",
    "start": "2253210",
    "end": "2260230"
  },
  {
    "text": "that's just like you trying to build",
    "start": "2260230",
    "end": "2267250"
  },
  {
    "text": "some benchmarks right so for guidance about how much memory and so we're working on that that is a something that",
    "start": "2267250",
    "end": "2273670"
  },
  {
    "text": "they're interested in building so the short answer is we don't know the long answer is we're going to test yeah yeah",
    "start": "2273670",
    "end": "2281140"
  },
  {
    "text": "I did some load testing before I can",
    "start": "2281140",
    "end": "2286380"
  },
  {
    "text": "okay can you well there's a few more questions here go to the next slide",
    "start": "2286500",
    "end": "2291970"
  },
  {
    "text": "please so towers so we have some demos they're going to they're pre-recorded we're going to walk through them now can you",
    "start": "2291970",
    "end": "2298119"
  },
  {
    "start": "2293000",
    "end": "2303000"
  },
  {
    "text": "just pull up the first demo and I'm going to quickly answer just a few more questions so it has our first one is is",
    "start": "2298119",
    "end": "2304869"
  },
  {
    "text": "there any existing repository hub for constraint templates that has regular generic policy yes we have a link in the",
    "start": "2304869",
    "end": "2312520"
  },
  {
    "text": "deck a little bit later so we will you'll see that but there are some policies already there to go can metrics",
    "start": "2312520",
    "end": "2321010"
  },
  {
    "text": "be sent to anything other than Prometheus like data dog not currently only through Prometheus and then maybe",
    "start": "2321010",
    "end": "2327700"
  },
  {
    "text": "you could use alert manager to fire something to data dog yeah you know in",
    "start": "2327700",
    "end": "2334180"
  },
  {
    "text": "our oh man we also want to implement open census agent so you can specify",
    "start": "2334180",
    "end": "2340390"
  },
  {
    "text": "whatever and yeah so that's definitely in issue we have so if you like to",
    "start": "2340390",
    "end": "2347680"
  },
  {
    "text": "contribute look amazing in the future",
    "start": "2347680",
    "end": "2353119"
  },
  {
    "text": "gatekeeper could evaluate service to service policies I think absolutely",
    "start": "2353119",
    "end": "2358400"
  },
  {
    "text": "there's a flexibility in OPA to be able to do that you could absolutely do that",
    "start": "2358400",
    "end": "2363830"
  },
  {
    "text": "on custom resources let's say you're running a service mesh you could send them over and do validation absolutely",
    "start": "2363830",
    "end": "2372250"
  },
  {
    "text": "how is Comcast different from opa GK so I will have a start at this and let me",
    "start": "2373650",
    "end": "2379320"
  },
  {
    "text": "know so it does if I miss anything comp test test Rhaego policy so rural rego policies",
    "start": "2379320",
    "end": "2384930"
  },
  {
    "text": "there was some talk to implement it to make it understand constraint templates and constraints so OPA GK is using and",
    "start": "2384930",
    "end": "2394230"
  },
  {
    "text": "leveraging the kubernetes api s and custom resources and custom resource definitions to schematize your policy",
    "start": "2394230",
    "end": "2401760"
  },
  {
    "text": "and parameterize the rego whereas contest is just taking R or a go",
    "start": "2401760",
    "end": "2406830"
  },
  {
    "text": "and then passing it through a set of resources so either world had the same effect I would say the way to think",
    "start": "2406830",
    "end": "2413160"
  },
  {
    "text": "about opa GK is a kubernetes native implementation leveraging the kubernetes",
    "start": "2413160",
    "end": "2418650"
  },
  {
    "text": "api x' to make policy authoring and sharing a little bit easier",
    "start": "2418650",
    "end": "2426440"
  },
  {
    "text": "anything you want to add so touch okay and one more is the deployment model",
    "start": "2426480",
    "end": "2433110"
  },
  {
    "text": "always to co-locate OPA gatekeeper in the same cluster as being controlled please describe more about the target",
    "start": "2433110",
    "end": "2439230"
  },
  {
    "text": "model including hey che remote deployment one too many clusters",
    "start": "2439230",
    "end": "2444890"
  },
  {
    "text": "I don't I don't believe tested with different clusters but as long as like",
    "start": "2445780",
    "end": "2453730"
  },
  {
    "text": "if there is the Kabbalah dating my book that can target it should work but it's",
    "start": "2453730",
    "end": "2458800"
  },
  {
    "text": "not yeah it's certainly doable I would",
    "start": "2458800",
    "end": "2464290"
  },
  {
    "text": "just caution obviously your failure failure scenario is when you use a web",
    "start": "2464290",
    "end": "2471490"
  },
  {
    "text": "hook that points off cluster or to another cluster obviously you need to really understand the paths there to",
    "start": "2471490",
    "end": "2477610"
  },
  {
    "text": "understand how it's going to operate if it fails but we've been co-locating it and testing with colocation currently",
    "start": "2477610",
    "end": "2485220"
  },
  {
    "text": "okay so thank you for all those questions this first demo we're actually going to",
    "start": "2485220",
    "end": "2490300"
  },
  {
    "text": "step through those policies that we've created for agile Bank and show you how they look for not only an admin but for",
    "start": "2490300",
    "end": "2496150"
  },
  {
    "text": "a developer so kick it off this is a great demo yeah it was good just gonna",
    "start": "2496150",
    "end": "2502180"
  },
  {
    "text": "say there's nothing magic behind the scenes so right now we're just creating your client cluster so for those that",
    "start": "2502180",
    "end": "2509500"
  },
  {
    "text": "they're not familiar with kind it stands for communities in docker so it basically creates like a local",
    "start": "2509500",
    "end": "2514510"
  },
  {
    "start": "2513000",
    "end": "2593000"
  },
  {
    "text": "communities cluster in your machine yeah absolutely so you can install gatekeeper",
    "start": "2514510",
    "end": "2522070"
  },
  {
    "text": "on any kubernetes cluster right right whether that's local using kind or whether that's a cloud provider or",
    "start": "2522070",
    "end": "2527740"
  },
  {
    "text": "something that you are running on Prem okay so we're just gonna get pods I",
    "start": "2527740",
    "end": "2533650"
  },
  {
    "text": "think we're gonna run through the install right now I've got a pair and get it on with a cluster okay so we're",
    "start": "2533650",
    "end": "2541000"
  },
  {
    "text": "just applying the gatekeeper set of manifest which creates and sets up gatekeeper and installs it on this",
    "start": "2541000",
    "end": "2546820"
  },
  {
    "text": "cluster so we can see that that has happened grabbed",
    "start": "2546820",
    "end": "2554130"
  },
  {
    "text": "information here so that we can test it there we go",
    "start": "2554250",
    "end": "2559320"
  },
  {
    "text": "so we can see now they're in the gates keep your system namespace we have a pod called gatekeeper controller manager so",
    "start": "2559320",
    "end": "2568380"
  },
  {
    "text": "now we're the developer go ahead so I'm the developer I'm creating this advanced",
    "start": "2568380",
    "end": "2574500"
  },
  {
    "text": "transaction system namespace cube CTL create and as write ad and then suffice",
    "start": "2574500",
    "end": "2587610"
  },
  {
    "text": "weeks go by I move different projects and then everybody forgets about the advanced transaction system and then",
    "start": "2587610",
    "end": "2595860"
  },
  {
    "start": "2593000",
    "end": "2798000"
  },
  {
    "text": "Maki yes so I want to understand as an",
    "start": "2595860",
    "end": "2601230"
  },
  {
    "text": "admin here who created this namespace and how can i trace it back to the",
    "start": "2601230",
    "end": "2607590"
  },
  {
    "text": "person that created all the team that created it okay so before I delete it I",
    "start": "2607590",
    "end": "2613260"
  },
  {
    "text": "have I can go and create a policy to make sure that I make sure that there's never happens again so here we have some",
    "start": "2613260",
    "end": "2620100"
  },
  {
    "text": "constraint templates that are just applied to the cluster the interesting one is required labels for this specific",
    "start": "2620100",
    "end": "2627600"
  },
  {
    "text": "demo you",
    "start": "2627600",
    "end": "2633060"
  },
  {
    "text": "okay we're going to have a look at those constraints and we're going to apply the constraints which provide the parameters",
    "start": "2633060",
    "end": "2639609"
  },
  {
    "text": "to those constraint templates and as we can see here that all must have all",
    "start": "2639609",
    "end": "2645430"
  },
  {
    "text": "namespaces must have an owner and that which means that there must be a key owner with a value that meets that regex",
    "start": "2645430",
    "end": "2651849"
  },
  {
    "text": "for it to be allowed",
    "start": "2651849",
    "end": "2655140"
  },
  {
    "text": "okay so we've applied those constraints back to the developer and then now I'm",
    "start": "2661040",
    "end": "2667560"
  },
  {
    "text": "going to try to create a production namespace because I can because I'm a developer oh wait I got a error from",
    "start": "2667560",
    "end": "2674640"
  },
  {
    "text": "server so it's all my old name spaces must have an older label but I don't",
    "start": "2674640",
    "end": "2680849"
  },
  {
    "text": "have it because I just created try to create the namespace production directly in your CTL oh wait",
    "start": "2680849",
    "end": "2687470"
  },
  {
    "text": "and here's what a good resource looks like so I'm including this owner label",
    "start": "2687470",
    "end": "2695660"
  },
  {
    "text": "into my production in space oh wait it's created that's nice so now anybody can identify it and then",
    "start": "2695660",
    "end": "2703440"
  },
  {
    "text": "I want to deploy some pods would that I define no limits and then I get another",
    "start": "2703440",
    "end": "2712099"
  },
  {
    "text": "error from server saying like that my my pod doesn't specify any resource limits",
    "start": "2712430",
    "end": "2719910"
  },
  {
    "text": "so I should maybe I should specify some resource limits so communities would know how to take care of so maybe I",
    "start": "2719910",
    "end": "2727050"
  },
  {
    "text": "specified too high that's not good right because it's going to take a lot of memory space and then I deploy it from",
    "start": "2727050",
    "end": "2740460"
  },
  {
    "text": "my my personal repo for example that's not allowed because I should be using",
    "start": "2740460",
    "end": "2746460"
  },
  {
    "text": "the company's allowed private or just say for example and in here and I want",
    "start": "2746460",
    "end": "2756599"
  },
  {
    "text": "to deeply I change it a lot of repos to open policy agent in this case and then like as you can see the error messages",
    "start": "2756599",
    "end": "2763440"
  },
  {
    "text": "are like instructable I mean make actionable so you can take action immediately based on the error so in the",
    "start": "2763440",
    "end": "2771390"
  },
  {
    "text": "end when I deployed they at the OPA one it it proceeded as this because if that",
    "start": "2771390",
    "end": "2777359"
  },
  {
    "text": "was loud I mean here is a duplicate service so I",
    "start": "2777359",
    "end": "2784470"
  },
  {
    "text": "deployed my service",
    "start": "2784470",
    "end": "2787400"
  },
  {
    "text": "and then all is well with the world until the this is getting cut off in evidence and then until the big big",
    "start": "2791180",
    "end": "2797849"
  },
  {
    "text": "outage happens then lucky right so now we're looking through the audit news case how do I actually look at resources",
    "start": "2797849",
    "end": "2804660"
  },
  {
    "start": "2798000",
    "end": "2923000"
  },
  {
    "text": "that already exists that are non-compliant with that policy so we're going to go check the audits because we",
    "start": "2804660",
    "end": "2811230"
  },
  {
    "text": "have some pods without resource limits how do we actually look at that of course we take a look at the Cates",
    "start": "2811230",
    "end": "2818309"
  },
  {
    "text": "container limits customer resource and we can go and take a look at specific in",
    "start": "2818309",
    "end": "2824760"
  },
  {
    "text": "the status section we can see the pods that don't have any limits so you can",
    "start": "2824760",
    "end": "2831180"
  },
  {
    "text": "see down here in status we have a bunch of pods that do not have resource limits",
    "start": "2831180",
    "end": "2838079"
  },
  {
    "text": "so then I can take it upon myself to go and action them and apply resource limits again super simple I've defined",
    "start": "2838079",
    "end": "2845339"
  },
  {
    "text": "the policy and then unleveraged order to go and remediate okay so we've rolled",
    "start": "2845339",
    "end": "2851549"
  },
  {
    "text": "out this new policy to production I can now guarantee that everything is in",
    "start": "2851549",
    "end": "2856970"
  },
  {
    "text": "compliance we also want to make sure that all ingress names are unique so",
    "start": "2856970",
    "end": "2863099"
  },
  {
    "text": "this is a common one that causes a lot of failures now we're taking a look at introducing new policies can be",
    "start": "2863099",
    "end": "2869490"
  },
  {
    "text": "dangerous we had a question about this earlier how do we gain poll how do we gain confidence that a policy that we've",
    "start": "2869490",
    "end": "2874890"
  },
  {
    "text": "defined is actually doing what we need and doesn't break our kubernetes cluster or bring down the entire stack so here",
    "start": "2874890",
    "end": "2882089"
  },
  {
    "text": "we can actually create a constraint in dry run mode so that it doesn't enforce",
    "start": "2882089",
    "end": "2887609"
  },
  {
    "text": "and we can see that if there are any conflicting ingress hostnames",
    "start": "2887609",
    "end": "2893510"
  },
  {
    "text": "okay",
    "start": "2896150",
    "end": "2899150"
  },
  {
    "text": "all right so we're going to apply that dry run template and then we can",
    "start": "2902109",
    "end": "2908390"
  },
  {
    "text": "obviously use audit and it gives me we",
    "start": "2908390",
    "end": "2920480"
  },
  {
    "text": "need the dry run Tim please constraint template and this is it uses the cash to",
    "start": "2920480",
    "end": "2927710"
  },
  {
    "text": "confirm if any thing names overlap right",
    "start": "2927710",
    "end": "2932990"
  },
  {
    "text": "and there's the constraint we get ingress is we have two ingresses with",
    "start": "2932990",
    "end": "2938840"
  },
  {
    "text": "the same hostname you can see there and now if we get the constraint we should",
    "start": "2938840",
    "end": "2944270"
  },
  {
    "text": "be able to see so there we can see that",
    "start": "2944270",
    "end": "2953030"
  },
  {
    "text": "we do have some that conflict I'm going to create a third ingress to show that",
    "start": "2953030",
    "end": "2960680"
  },
  {
    "text": "dry run does indeed not block and he creates with the same hostname yes this",
    "start": "2960680",
    "end": "2968570"
  },
  {
    "text": "we're doing this in dry run mode it does not block yes so as you can see there",
    "start": "2968570",
    "end": "2974420"
  },
  {
    "text": "here is another ingress host two with the same host name as the other and that's being allowed it should show up",
    "start": "2974420",
    "end": "2981230"
  },
  {
    "text": "in the order to say that we indeed have a that example okay so soup-to-nuts that is the the",
    "start": "2981230",
    "end": "2989510"
  },
  {
    "start": "2983000",
    "end": "3153000"
  },
  {
    "text": "whole flow from admin to developer Soto's is also going to show you what the metrics look like Soto's which is",
    "start": "2989510",
    "end": "2996650"
  },
  {
    "text": "the second then I go ahead this is the second demo for the metrics so this is",
    "start": "2996650",
    "end": "3005770"
  },
  {
    "text": "the the Prometheus dashboard so they're going to see them we're just doing this locally from the from the from the kind",
    "start": "3005770",
    "end": "3014200"
  },
  {
    "text": "cluster so these are the same metrics that that happen during the demo",
    "start": "3014200",
    "end": "3019270"
  },
  {
    "text": "basically I just recorded I had the Prometheus running so you see in this",
    "start": "3019270",
    "end": "3026410"
  },
  {
    "text": "case we had 32 tree deny violations in",
    "start": "3026410",
    "end": "3031800"
  },
  {
    "text": "24 dry-run violations and you can also have",
    "start": "3031800",
    "end": "3038619"
  },
  {
    "text": "been other you can also define your own sort of like an enforcement action when that one is categorized is on record",
    "start": "3038619",
    "end": "3045520"
  },
  {
    "text": "recognized in me then so that's zero and then you can graph it so you can over",
    "start": "3045520",
    "end": "3052660"
  },
  {
    "text": "time you can see like how much changed and how many dry run changes you add so",
    "start": "3052660",
    "end": "3059890"
  },
  {
    "text": "you could have alerts baby you know a lot manager to say like hey if there's",
    "start": "3059890",
    "end": "3066550"
  },
  {
    "text": "any drive-in eating they're denying",
    "start": "3066550",
    "end": "3072670"
  },
  {
    "text": "alert me on slack or whatever and in this case we are seeing the audit lost last run so this does the nice time",
    "start": "3072670",
    "end": "3079030"
  },
  {
    "text": "timestamp of the audit one and then here how many constraint templates we had so",
    "start": "3079030",
    "end": "3084280"
  },
  {
    "text": "in this case we had four and a midpoint another one then that's five and then I",
    "start": "3084280",
    "end": "3090400"
  },
  {
    "text": "believe we are gonna see that number of",
    "start": "3090400",
    "end": "3097450"
  },
  {
    "text": "constraints so we have one dry run it you as you saw last lusts part of the",
    "start": "3097450",
    "end": "3102700"
  },
  {
    "text": "demo and we had four deny constraints",
    "start": "3102700",
    "end": "3110280"
  },
  {
    "text": "you then you can see that the values there",
    "start": "3110789",
    "end": "3116549"
  },
  {
    "text": "too and then these are the requests count as you know communities always",
    "start": "3116549",
    "end": "3122520"
  },
  {
    "text": "does requests in which are allowed so the red one you see are the the requests",
    "start": "3122520",
    "end": "3130049"
  },
  {
    "text": "that the communities does to herself and then these are the ones that we did it and then that got denied so those are",
    "start": "3130049",
    "end": "3135510"
  },
  {
    "text": "four forty nice but communities keeps doing requests so you can keep track of",
    "start": "3135510",
    "end": "3141119"
  },
  {
    "text": "those as well because we didn't do any nothing to",
    "start": "3141119",
    "end": "3149920"
  },
  {
    "text": "denied also that just keep having then going back to the demo okay excellent",
    "start": "3149920",
    "end": "3155890"
  },
  {
    "start": "3153000",
    "end": "3434000"
  },
  {
    "text": "thank you so tears I'm going to power through the rest of the deck here and we have a few questions so just a status on",
    "start": "3155890",
    "end": "3162190"
  },
  {
    "text": "the project it's in beta which we've answered it's looking to define H a to",
    "start": "3162190",
    "end": "3167350"
  },
  {
    "text": "go to G a for v3 of gatekeeper if this is something that interests you we're interested in understanding how you want",
    "start": "3167350",
    "end": "3173650"
  },
  {
    "text": "to use it feel free to raise issues I've heard a lot of questions on different things that we haven't thought of as",
    "start": "3173650",
    "end": "3179320"
  },
  {
    "text": "part of gatekeeper filtering them to bring them to the community and we will",
    "start": "3179320",
    "end": "3184420"
  },
  {
    "text": "show you the links in a minute keep going I know there is were some",
    "start": "3184420",
    "end": "3190000"
  },
  {
    "text": "questions about policy libraries they're all in the upstream repository so there are predefined constraint templates and",
    "start": "3190000",
    "end": "3197650"
  },
  {
    "text": "even a pod security policy equivalent where we've modeled effectively what the",
    "start": "3197650",
    "end": "3203020"
  },
  {
    "text": "pod security policy API does in a gatekeeper constraint templates so you",
    "start": "3203020",
    "end": "3208180"
  },
  {
    "text": "could consider using that and that was something that was just asked generally in the community so the main Tanners",
    "start": "3208180",
    "end": "3215290"
  },
  {
    "text": "went and worked on that okay and keep going potential growth here we've had a",
    "start": "3215290",
    "end": "3221560"
  },
  {
    "text": "question about mutation mutation is complex so it's a lot of work to make mutation um work in the way and make it",
    "start": "3221560",
    "end": "3229570"
  },
  {
    "text": "have a stable outcomes so feel free to come and help with that if you're interested external data sources like",
    "start": "3229570",
    "end": "3235570"
  },
  {
    "text": "different directories different places where you can make decisions on whether you admit or deny a request",
    "start": "3235570",
    "end": "3241830"
  },
  {
    "text": "authorization likely a separate project but kubernetes allows different web",
    "start": "3241830",
    "end": "3247210"
  },
  {
    "text": "hooks for both admin admission and authorization could it be used for authorization as well developing audit",
    "start": "3247210",
    "end": "3254410"
  },
  {
    "text": "features we had some great questions about that where we could support audit data and just develop a tool in making",
    "start": "3254410",
    "end": "3260140"
  },
  {
    "text": "it way more simple to use and integrate into there are all areas we're interested in getting people involved in",
    "start": "3260140",
    "end": "3269220"
  },
  {
    "text": "finally feel free to come and join us there are meetings every alternating Wednesday and there is on the open",
    "start": "3270020",
    "end": "3277130"
  },
  {
    "text": "policy agent slack at kubernetes policy channel you can come there or you can just go to the gatekeeper repository and",
    "start": "3277130",
    "end": "3284060"
  },
  {
    "text": "start getting started and with that that concludes our slide deck I will try and",
    "start": "3284060",
    "end": "3290000"
  },
  {
    "text": "rush through these final three questions that we have before we close at the time is there any support to deploy a PA GK",
    "start": "3290000",
    "end": "3298250"
  },
  {
    "text": "via customized food today by default we",
    "start": "3298250",
    "end": "3304850"
  },
  {
    "text": "use customized for the default u builder like installation but other than that we",
    "start": "3304850",
    "end": "3313760"
  },
  {
    "text": "support llamo to deploy and also an outcome charter thank you this this",
    "start": "3313760",
    "end": "3321170"
  },
  {
    "text": "question is really interesting I'll take it if if an old pond pod from a deployment violates a new rule I",
    "start": "3321170",
    "end": "3327590"
  },
  {
    "text": "understand that it will not affect what will happen if the node where the pod",
    "start": "3327590",
    "end": "3333500"
  },
  {
    "text": "was running is drained does the old pod get re recreated on another node or",
    "start": "3333500",
    "end": "3338540"
  },
  {
    "text": "deleted so this is an important thing to remember and I'm going to answer this very quickly this is an admission so it",
    "start": "3338540",
    "end": "3345500"
  },
  {
    "text": "doesn't change values at runtime if a node is drained and the pod needs to be",
    "start": "3345500",
    "end": "3350810"
  },
  {
    "text": "recreated by a controller like a deployment controller if it now violates that you're going to see an error on",
    "start": "3350810",
    "end": "3356840"
  },
  {
    "text": "that replica set saying I cannot create this anymore and you're going to see the",
    "start": "3356840",
    "end": "3363020"
  },
  {
    "text": "policy violation rule at the replica set level so go check there but it's not",
    "start": "3363020",
    "end": "3368450"
  },
  {
    "text": "going to modify things at runtime only it admit time so if you have pods running that are now in violation",
    "start": "3368450",
    "end": "3373820"
  },
  {
    "text": "you've got to delete them yourself can I use Prometheus metrics to track",
    "start": "3373820",
    "end": "3379430"
  },
  {
    "text": "violations for a specific policy or just across all I think I can answer this it's just across all currently and I'm",
    "start": "3379430",
    "end": "3385970"
  },
  {
    "text": "gonna try not the last one out what we didn't want to do for specific things",
    "start": "3385970",
    "end": "3392720"
  },
  {
    "text": "because of like privacy concerns since Prometheus in any metrics and",
    "start": "3392720",
    "end": "3400170"
  },
  {
    "text": "in a public publicly so everybody can",
    "start": "3400170",
    "end": "3405420"
  },
  {
    "text": "see it so we didn't want to specify things in there that could be on cotton",
    "start": "3405420",
    "end": "3410430"
  },
  {
    "text": "you officer touch Karen's got ten seconds okay all right thank you sir now",
    "start": "3410430",
    "end": "3416670"
  },
  {
    "text": "and lucky for a great presentation that's all the time we have for today thanks for joining us the webinar",
    "start": "3416670",
    "end": "3422580"
  },
  {
    "text": "recordings and slides will be online later today and we look forward to seeing everyone future CN CF webinar",
    "start": "3422580",
    "end": "3429030"
  },
  {
    "text": "have a great day thank you thank you",
    "start": "3429030",
    "end": "3435260"
  }
]