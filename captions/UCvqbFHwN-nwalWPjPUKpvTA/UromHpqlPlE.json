[
  {
    "text": "so welcome to night talk and welcome to security Village um just a few words about me because I",
    "start": "179",
    "end": "6720"
  },
  {
    "text": "don't have a lot of time and I like to talk so I'm going to talk a lot so I'm Ben you can I'm co-founder of armo uh",
    "start": "6720",
    "end": "14219"
  },
  {
    "text": "maintainer of cubescape also contributor at tech security and uh I used to be",
    "start": "14219",
    "end": "20279"
  },
  {
    "text": "um white attacker for a really long time and yeah I have a big family of four",
    "start": "20279",
    "end": "25920"
  },
  {
    "text": "kids at home who are waiting for me so um usually",
    "start": "25920",
    "end": "31080"
  },
  {
    "text": "um you know most of the Cyber talks you're hearing um have this effect on people that",
    "start": "31080",
    "end": "36239"
  },
  {
    "text": "they're hearing this all these keywords like lock 4J and I don't know uh solar",
    "start": "36239",
    "end": "42120"
  },
  {
    "text": "winds and and the people are like going out of the Cyber token like this dude we are doomed now I really hope that this",
    "start": "42120",
    "end": "50100"
  },
  {
    "text": "is going to a real different cyber talk so I'm going to share with you uh uh",
    "start": "50100",
    "end": "55680"
  },
  {
    "text": "something with didat armo the way we leveraged uh Cloud native",
    "start": "55680",
    "end": "61620"
  },
  {
    "text": "Technologies in order to create what we call continuous security how much of you",
    "start": "61620",
    "end": "68040"
  },
  {
    "text": "are using cicd can I have hands up with kubernetes",
    "start": "68040",
    "end": "73920"
  },
  {
    "text": "yeah so I think it's going to be relevant for you like a good match here so um what we're going to talk today",
    "start": "73920",
    "end": "81180"
  },
  {
    "text": "about three different uh aspects of your security",
    "start": "81180",
    "end": "86820"
  },
  {
    "text": "these three different aspects two of them are kubert's native policies one of",
    "start": "86820",
    "end": "91920"
  },
  {
    "text": "them is related to your vulnerability posture in your applications",
    "start": "91920",
    "end": "96960"
  },
  {
    "text": "um and we're going to talk about them how you can leverage uh your CI CD to make",
    "start": "96960",
    "end": "103320"
  },
  {
    "text": "those things much better and and like what we call decrease your blast radius",
    "start": "103320",
    "end": "108439"
  },
  {
    "text": "in your systems we are going to show I'm going to show you that how we are",
    "start": "108439",
    "end": "114659"
  },
  {
    "text": "um generating runtime policies uh from uh from actually from application",
    "start": "114659",
    "end": "120479"
  },
  {
    "text": "behavior during testing and how we are adding it to the crcicd and you know I'm",
    "start": "120479",
    "end": "127140"
  },
  {
    "text": "going to talk about well how is it is it good is it bad or I guess you know where",
    "start": "127140",
    "end": "133260"
  },
  {
    "text": "I'm going with this but it's going to be good hopefully for all of us so",
    "start": "133260",
    "end": "138660"
  },
  {
    "text": "today's threat model is uh like um where I think a very classical threat",
    "start": "138660",
    "end": "144300"
  },
  {
    "text": "model around um around the kubernetes cluster so most",
    "start": "144300",
    "end": "149520"
  },
  {
    "text": "of the times our pods can be either accessed from the",
    "start": "149520",
    "end": "154560"
  },
  {
    "text": "direction of the public internet either by um service a load balancer service or",
    "start": "154560",
    "end": "160739"
  },
  {
    "text": "Ingress this is how they are getting traffic from the outside world or maybe an attacker will try to penetrate your",
    "start": "160739",
    "end": "168420"
  },
  {
    "text": "pods through supply chain through image registry and so on um but what I'm going to tell first",
    "start": "168420",
    "end": "174300"
  },
  {
    "text": "thing what I'm going to show you is actually the application exploit so your vulnerability posture in your workloads",
    "start": "174300",
    "end": "181739"
  },
  {
    "text": "I'm going to show you how you can decrease the noise around them and only focus on",
    "start": "181739",
    "end": "188700"
  },
  {
    "text": "the real things that really matter here the second thing is that if the attacker was able to penetrate your workload and",
    "start": "188700",
    "end": "195900"
  },
  {
    "text": "have code execution in your workload in the confinement of",
    "start": "195900",
    "end": "201300"
  },
  {
    "text": "your pod then it has two the attacker has two directions to like uh do lateral",
    "start": "201300",
    "end": "207480"
  },
  {
    "text": "movement or progress either he can Target your kernel trying to escape the",
    "start": "207480",
    "end": "212760"
  },
  {
    "text": "confinement of of the containers which are making up the Pod and we're calling them kernel exploits uh we had a flow of",
    "start": "212760",
    "end": "220260"
  },
  {
    "text": "a few of them and as soon as the uh if an attacker is able to escape in a",
    "start": "220260",
    "end": "226140"
  },
  {
    "text": "kubernetes node escape the the confinement of of the pods",
    "start": "226140",
    "end": "231299"
  },
  {
    "text": "um he or she will be able to most mostly will be able to take over your cluster because every kubernetes node has its",
    "start": "231299",
    "end": "237959"
  },
  {
    "text": "node secret and if the attacker is able which are most in the most of the time",
    "start": "237959",
    "end": "243000"
  },
  {
    "text": "they are simply files on the on the file system of the kubernetes node so if the attacker will be able to take over these",
    "start": "243000",
    "end": "249480"
  },
  {
    "text": "files and the secret you'll be able to talk as a kubernetes node to with the cube API server and it he has a lot of",
    "start": "249480",
    "end": "255599"
  },
  {
    "text": "uh leverage there the other way the attacker can progress from here is from a pod is actually",
    "start": "255599",
    "end": "262139"
  },
  {
    "text": "doing lateral movement in the network uh going after other pause going after unprotected",
    "start": "262139",
    "end": "268940"
  },
  {
    "text": "parts of the cluster we should be internal but when the attacker was able",
    "start": "268940",
    "end": "274680"
  },
  {
    "text": "to enter the one of the public facing pods then he's going to be able to like move in that direction",
    "start": "274680",
    "end": "281520"
  },
  {
    "text": "so this is our our treadmiller for today I'm going to show you three things one is how to reduce",
    "start": "281520",
    "end": "288240"
  },
  {
    "text": "the noise around application potential application exploits second if how to uh",
    "start": "288240",
    "end": "294919"
  },
  {
    "text": "decrease the attack surface uh for for the node uh and how to reduce the attack",
    "start": "294919",
    "end": "302820"
  },
  {
    "text": "surface for lateral movement and together we are decreasing the blast radius of the uh of the attack itself so",
    "start": "302820",
    "end": "311160"
  },
  {
    "text": "the first thing is application vulnerabilities so most of us using different kinds of",
    "start": "311160",
    "end": "319139"
  },
  {
    "text": "security scanners in our systems in order to know what are the",
    "start": "319139",
    "end": "324300"
  },
  {
    "text": "vulnerabilities inside our software packages in the container images so",
    "start": "324300",
    "end": "329639"
  },
  {
    "text": "these tools are um very good good tools like trivia gripe",
    "start": "329639",
    "end": "335180"
  },
  {
    "text": "Encore sneak and so on but there is a small problem with that",
    "start": "335180",
    "end": "342419"
  },
  {
    "text": "um like in general at least for our production system we have public open source images with more than 100 even",
    "start": "342419",
    "end": "348419"
  },
  {
    "text": "200 uh vulnerabilities which are really really hard to handle and and for us as",
    "start": "348419",
    "end": "355380"
  },
  {
    "text": "a relatively small company it's really overwhelming but even with the bigger company who has more resources they will",
    "start": "355380",
    "end": "362280"
  },
  {
    "text": "have obviously more micro Services more images so this is not something that scales very well so it is really hard to",
    "start": "362280",
    "end": "370080"
  },
  {
    "text": "handle all these application vulnerabilities and always update them so it's very very costly to manage them",
    "start": "370080",
    "end": "376740"
  },
  {
    "text": "so the first thing we are going to use in our CI CD is a new feature by",
    "start": "376740",
    "end": "381840"
  },
  {
    "text": "cubescape actually we are releasing it this week or maybe in the first uh days",
    "start": "381840",
    "end": "388620"
  },
  {
    "text": "of of next week which is we call it the cubescape relevancy cubescape is the",
    "start": "388620",
    "end": "394919"
  },
  {
    "text": "cncf project um I'm one of the maintainers I said before",
    "start": "394919",
    "end": "400080"
  },
  {
    "text": "um and what we do at cubescape is we are installing an ebpf agent inside every",
    "start": "400080",
    "end": "408419"
  },
  {
    "text": "node and this agent reports to us back all the file activities on every",
    "start": "408419",
    "end": "414060"
  },
  {
    "text": "workload which is run which you're running inside the cluster now we are",
    "start": "414060",
    "end": "419160"
  },
  {
    "text": "getting a stream of files which are touched inside the workload this enables",
    "start": "419160",
    "end": "424199"
  },
  {
    "text": "us to take the s-bomb of the container image which is running inside the workload cross the information of which",
    "start": "424199",
    "end": "430919"
  },
  {
    "text": "files being opened inside the workload with the list of files inside the s-bomb and Mark",
    "start": "430919",
    "end": "436919"
  },
  {
    "text": "all the packages software packages inside the s-bomb which has been really used and opened inside the container",
    "start": "436919",
    "end": "443699"
  },
  {
    "text": "runtime now this enables us to create remove all the packages which haven't",
    "start": "443699",
    "end": "448740"
  },
  {
    "text": "been touched during the runtime of the container and we can remove all those",
    "start": "448740",
    "end": "454979"
  },
  {
    "text": "which are not relevant not really loaded and feedback to the vulnerability scanner and we'll get a short a filtered",
    "start": "454979",
    "end": "461520"
  },
  {
    "text": "vulnerability scanned results list now um where I'm going to show you in a demo",
    "start": "461520",
    "end": "467220"
  },
  {
    "text": "at the end of the uh presentation but I can say that in our production system it lowered the number of vulnerabilities by",
    "start": "467220",
    "end": "473940"
  },
  {
    "text": "80 percent uh which is a huge noise reduction for us and and I really really suggest all",
    "start": "473940",
    "end": "481259"
  },
  {
    "text": "of you who are working with vulnerability scanners uh to look into this so this is our first component the",
    "start": "481259",
    "end": "487020"
  },
  {
    "text": "second component is as I told you is how to protect the kernel how to remove the attack surface uh on a Linux kernel",
    "start": "487020",
    "end": "494940"
  },
  {
    "text": "inside the kubernetes node so in the Pod security context you have all these classical things of of what's the user",
    "start": "494940",
    "end": "501419"
  },
  {
    "text": "ID and group ID of the of the container uh which either you can change or cannot change depending on the container image",
    "start": "501419",
    "end": "508199"
  },
  {
    "text": "obviously the right thing is not to run your containers as root but sometimes the container image itself requires uh",
    "start": "508199",
    "end": "515760"
  },
  {
    "text": "user ID 0 so it's you have to recompile and change it it's really hard sometimes the other thing is which you need to",
    "start": "515760",
    "end": "523020"
  },
  {
    "text": "handle here is the capabilities Linux kernel capabilities of the process inside the container so and remove all",
    "start": "523020",
    "end": "530880"
  },
  {
    "text": "the things you don't need or even if the container is a privileged container check whether you really need it to be a",
    "start": "530880",
    "end": "537300"
  },
  {
    "text": "privileged but I have to tell you that since here the default is off nearly for everything most of the applications are",
    "start": "537300",
    "end": "544380"
  },
  {
    "text": "are okay in from this perspective the third thing which was the thing which we",
    "start": "544380",
    "end": "549660"
  },
  {
    "text": "are going to talk about is actually second policies second policies are there to enable you to control that the",
    "start": "549660",
    "end": "557820"
  },
  {
    "text": "container is inside your pod what kind of system calls they are allowed to make to the kernel now the the reason why",
    "start": "557820",
    "end": "565019"
  },
  {
    "text": "we're talking about it that I've did a small research a half year ago looked over all the CVS of the Linux kernel",
    "start": "565019",
    "end": "570899"
  },
  {
    "text": "which were showing a container Escape and as it turned out uh most of them",
    "start": "570899",
    "end": "578100"
  },
  {
    "text": "were using system uh the attacker they're actually needed to use system calls which were like very exotic system",
    "start": "578100",
    "end": "583980"
  },
  {
    "text": "calls which are usually made by only uh uh applications which are managing the",
    "start": "583980",
    "end": "589019"
  },
  {
    "text": "node and your our applications usually don't need that so it is a very good way to protect our kernel by removing all",
    "start": "589019",
    "end": "595860"
  },
  {
    "text": "the unneeded system calls so in order to apply second profiles either we are using pre-made profiles",
    "start": "595860",
    "end": "602880"
  },
  {
    "text": "pre-made list of system calls are applications allowed to do either it breaks the application or it allows the",
    "start": "602880",
    "end": "609060"
  },
  {
    "text": "application or the application can run but usually they are even if they are running they are over permissive you can",
    "start": "609060",
    "end": "616260"
  },
  {
    "text": "eat other ways to all you do a manual definition of these second profiles and create a list of system calls your",
    "start": "616260",
    "end": "622320"
  },
  {
    "text": "workloads are allowed to do but it is a very tedious job for every each workload",
    "start": "622320",
    "end": "627360"
  },
  {
    "text": "and honestly we don't usually have the professionals to do this work because if",
    "start": "627360",
    "end": "632760"
  },
  {
    "text": "you are telling application developer today that uh ask him what is what are",
    "start": "632760",
    "end": "638519"
  },
  {
    "text": "the system calls you're making you want to understand what you're talking about so",
    "start": "638519",
    "end": "643620"
  },
  {
    "text": "um so the best thing we thought is to like generate from actual application",
    "start": "643620",
    "end": "649260"
  },
  {
    "text": "Behavior check what are the system calls the application is doing click the recording and turn it into a policy uh",
    "start": "649260",
    "end": "657120"
  },
  {
    "text": "Caitlyn was talking about it yesterday so there is the kubernetes security profile operator it's a kubernetes",
    "start": "657120",
    "end": "663140"
  },
  {
    "text": "security project an awesome project which enables you to record using ebpf",
    "start": "663140",
    "end": "668459"
  },
  {
    "text": "all the system calls your application is making create a recording turn this",
    "start": "668459",
    "end": "674040"
  },
  {
    "text": "recording into an actual policy object and apply the policy again what you have to take about from this slide is that",
    "start": "674040",
    "end": "681300"
  },
  {
    "text": "you're using a pre-made tool to generate the list of system calls you",
    "start": "681300",
    "end": "687120"
  },
  {
    "text": "your application is doing and you can use it also to turn into actual profile object and M4 and have kubernetes and",
    "start": "687120",
    "end": "693420"
  },
  {
    "text": "force it Network policies on the other hand I think the least a complex thing to",
    "start": "693420",
    "end": "699420"
  },
  {
    "text": "explain here in the security Village I think everyone knows why network security is important and while locking",
    "start": "699420",
    "end": "705360"
  },
  {
    "text": "down a different network unleaded Network paths in in application environment is very important there are",
    "start": "705360",
    "end": "712620"
  },
  {
    "text": "reasons you know to uh the attacker will need uh uh can do if there is no log no",
    "start": "712620",
    "end": "718620"
  },
  {
    "text": "micro segmentation in the in the network of a kubernetes cluster you can the attacker can do reconnaissance lateral",
    "start": "718620",
    "end": "725339"
  },
  {
    "text": "movement and can exfiltrate data from pod from other parts through uh",
    "start": "725339",
    "end": "730980"
  },
  {
    "text": "unprotected apis so the problem major problem with with network policies in in",
    "start": "730980",
    "end": "738300"
  },
  {
    "text": "a not just Cloud native but in general in Cloud environments as opposed to like",
    "start": "738300",
    "end": "743339"
  },
  {
    "text": "old style monolithic self-hosted environments is that the",
    "start": "743339",
    "end": "748920"
  },
  {
    "text": "application we have microsurface infrastructure architecture with multiple components and and it's really",
    "start": "748920",
    "end": "756360"
  },
  {
    "text": "hard for to know what who needs to talk to whom and if you're investing time in it and you're defining it once you're",
    "start": "756360",
    "end": "762959"
  },
  {
    "text": "working really really hard but at the end of the day uh you're applying it and",
    "start": "762959",
    "end": "768060"
  },
  {
    "text": "your might be breaking some of the application features then you have to go back iterate it talk to the application",
    "start": "768060",
    "end": "775459"
  },
  {
    "text": "developer and so on back and forth and you created your application your network policy but at the end what it",
    "start": "775459",
    "end": "783120"
  },
  {
    "text": "turns out that that the application within two weeks changes again and it's again broke because it uses a new",
    "start": "783120",
    "end": "788279"
  },
  {
    "text": "network path which wasn't used before so it's very very hard also to maintain because because it is spread around",
    "start": "788279",
    "end": "793980"
  },
  {
    "text": "among multiple functions in the organization and there are a lot of things to to break so here we also",
    "start": "793980",
    "end": "801420"
  },
  {
    "text": "decided to go after an automated Tool uh Inspector Gadget another cncf project uh",
    "start": "801420",
    "end": "808800"
  },
  {
    "text": "I think it's got to sandboxing into in a month or two months before it's a great",
    "start": "808800",
    "end": "814200"
  },
  {
    "text": "project again same thing using ebpf to detect who's talking to whom inside the",
    "start": "814200",
    "end": "819660"
  },
  {
    "text": "kubernetes cluster the inspector you can run Inspector Gadget as a record mode it",
    "start": "819660",
    "end": "824880"
  },
  {
    "text": "will create you the list of who's talking to whom and then you can turn it into a network policy object in",
    "start": "824880",
    "end": "830459"
  },
  {
    "text": "kubernetes and apply the network policy which is actually the answer for the object will reflect the actual",
    "start": "830459",
    "end": "836100"
  },
  {
    "text": "connections it so before so think about the following",
    "start": "836100",
    "end": "844740"
  },
  {
    "text": "um had we have a magic box where we are throwing our application with all Fields workloads uh uh inside the box and",
    "start": "844740",
    "end": "853019"
  },
  {
    "text": "everything it needs everything it runs and and also out of the box comes uh a",
    "start": "853019",
    "end": "858660"
  },
  {
    "text": "short list of vulnerabilities your application has you really have to concentrate on network policies and",
    "start": "858660",
    "end": "865380"
  },
  {
    "text": "security and second policies so it would it would be really great and why it is",
    "start": "865380",
    "end": "870839"
  },
  {
    "text": "really really great because this is what we good to hear we are really good at",
    "start": "870839",
    "end": "877019"
  },
  {
    "text": "automating things like right we really love it if you have to work manually you",
    "start": "877019",
    "end": "882420"
  },
  {
    "text": "know we'll break things always we'll have all of these problems if we can automate all these uh these processes we",
    "start": "882420",
    "end": "889920"
  },
  {
    "text": "can earn a lot with this because we can have automated security so it will make our our security people",
    "start": "889920",
    "end": "898019"
  },
  {
    "text": "our devops people and devsecos people were very very happy you are seeing by the way all the images here I've",
    "start": "898019",
    "end": "904860"
  },
  {
    "text": "generated them with the mid-journey uh so like it was um really nice thing to like play around",
    "start": "904860",
    "end": "911839"
  },
  {
    "text": "preparing this presentation so they're smiling here uh slightly by the way uh",
    "start": "911839",
    "end": "918120"
  },
  {
    "text": "so um this brought us really to the concept of of if we have CI and CD",
    "start": "918120",
    "end": "924779"
  },
  {
    "text": "we should have continued security right because it's a really good approach to",
    "start": "924779",
    "end": "930000"
  },
  {
    "text": "trying to hook up all these things in our existing processes in our cicd we",
    "start": "930000",
    "end": "935459"
  },
  {
    "text": "already running tests we are already like uh uh doing",
    "start": "935459",
    "end": "941100"
  },
  {
    "text": "these a lot of things of testing out application Behavior if we could capture",
    "start": "941100",
    "end": "946139"
  },
  {
    "text": "all this information during the testing phase we could actually turn these behaviors into uh",
    "start": "946139",
    "end": "954420"
  },
  {
    "text": "into policies and apply these policies into uh into our systems",
    "start": "954420",
    "end": "959880"
  },
  {
    "text": "so which would make improve our security much better so let me go through the way the simple way",
    "start": "959880",
    "end": "967380"
  },
  {
    "text": "of how you know uh we can we can do this so first thing is to like create a",
    "start": "967380",
    "end": "973320"
  },
  {
    "text": "namespace where we are going through we'll throw all of our components and we'll test them we start recording all",
    "start": "973320",
    "end": "979199"
  },
  {
    "text": "with all of these tools either of those are just uh one of them and we can",
    "start": "979199",
    "end": "984600"
  },
  {
    "text": "deploy the application run the tests on the application stop the event recording",
    "start": "984600",
    "end": "989839"
  },
  {
    "text": "uh uh when we finish the testing generate policy objects now we are",
    "start": "989839",
    "end": "994980"
  },
  {
    "text": "rebuilding the application with these policy objects uh applying them to the kubernetes cluster of those re-running",
    "start": "994980",
    "end": "1002120"
  },
  {
    "text": "the test in order to make sure that we are not haven't generated policies which are actually breaking our",
    "start": "1002120",
    "end": "1009199"
  },
  {
    "text": "application and after we retested the application we are commenting these objects into our git repositories or",
    "start": "1009199",
    "end": "1014959"
  },
  {
    "text": "they are picked up by Argo in the production so I don't know is there here anyone who",
    "start": "1014959",
    "end": "1021920"
  },
  {
    "text": "saw my teaser at Twitter before coming here like I've promised the joke but actually",
    "start": "1021920",
    "end": "1029240"
  },
  {
    "text": "about uh about uh Inspector Gadget the panda and Captain Cube going into a",
    "start": "1029240",
    "end": "1036438"
  },
  {
    "text": "coffee shop in Amsterdam this is the by the way this is the picture mid Journey generated from it uh but I couldn't come",
    "start": "1036439",
    "end": "1043040"
  },
  {
    "text": "up with a joke I mean I'm sorry uh but I think it's cute or at least the people",
    "start": "1043040",
    "end": "1048380"
  },
  {
    "text": "told me it's cute so what I'm going to show you is I'm going to show you a demo of all these three",
    "start": "1048380",
    "end": "1054799"
  },
  {
    "text": "things we talked about I'm going to do a small environment setup uh we're going",
    "start": "1054799",
    "end": "1060080"
  },
  {
    "text": "to see how the second profile is generated we are going to test out and prove that the second profiles are",
    "start": "1060080",
    "end": "1066140"
  },
  {
    "text": "working and indeed protecting us we are going to do some Network policy generation uh again using the uh the",
    "start": "1066140",
    "end": "1074240"
  },
  {
    "text": "testing phase where we'll test out the network policies and at the end we are I'm going to also show you the",
    "start": "1074240",
    "end": "1080480"
  },
  {
    "text": "vulnerability reduction reductions with I've told you",
    "start": "1080480",
    "end": "1085820"
  },
  {
    "text": "before so let's hope that the streaming is working",
    "start": "1085820",
    "end": "1092020"
  },
  {
    "text": "Okay so okay so the first thing thing is uh I'm",
    "start": "1092120",
    "end": "1098059"
  },
  {
    "text": "creating a mini Cube uh you know I'm by the way at the end you will see I I'm publishing a GitHub repo uh with all",
    "start": "1098059",
    "end": "1104539"
  },
  {
    "text": "these things as goodies as an examples so uh I'm installing in in the mini Cube",
    "start": "1104539",
    "end": "1109820"
  },
  {
    "text": "uh um search manager I'm installing the kubernetes security operator I'm still",
    "start": "1109820",
    "end": "1115039"
  },
  {
    "text": "installing Inspector Gadget and cubescape all three things uh inside uh",
    "start": "1115039",
    "end": "1121400"
  },
  {
    "text": "during the installation phase by the way I'm not sure that you have seen minicube starting up so fast I have to say I've",
    "start": "1121400",
    "end": "1128240"
  },
  {
    "text": "edited the video so uh but now the first thing I'm doing is actually you're I'm",
    "start": "1128240",
    "end": "1134419"
  },
  {
    "text": "running the test for creation of second profiles so the third thing I'm creating the recording objects for uh for",
    "start": "1134419",
    "end": "1140900"
  },
  {
    "text": "recording all the applications I have in my namespace and creating the applications and then",
    "start": "1140900",
    "end": "1147080"
  },
  {
    "text": "I'm waiting for all the deployments to start up after the deployments have startup I'm running tests",
    "start": "1147080",
    "end": "1153200"
  },
  {
    "text": "for 60 seconds we are not going to wait here for 60 seconds I can I've edited the video uh but believe me uh and after",
    "start": "1153200",
    "end": "1161360"
  },
  {
    "text": "uh sorry so after it I'm scaling down all the",
    "start": "1161360",
    "end": "1167059"
  },
  {
    "text": "deployments and after which triggers actually the generation of the second profiles which are you can see on the",
    "start": "1167059",
    "end": "1172880"
  },
  {
    "text": "screen after the second profess has been generated",
    "start": "1172880",
    "end": "1178100"
  },
  {
    "text": "um I'm reapplying the second profiles which been created to all of the deployments automatically and restarting",
    "start": "1178100",
    "end": "1185120"
  },
  {
    "text": "the whole application uh",
    "start": "1185120",
    "end": "1189460"
  },
  {
    "text": "sorry um you can see that we've created all these",
    "start": "1191660",
    "end": "1198200"
  },
  {
    "text": "during this phase we've created all these yaml files with the profile objects themselves I'm going to open",
    "start": "1198200",
    "end": "1203900"
  },
  {
    "text": "here one just to show you what you have in the zmo files these are the second profiles",
    "start": "1203900",
    "end": "1209830"
  },
  {
    "text": "[Music] so you can see here a list of of",
    "start": "1209830",
    "end": "1215120"
  },
  {
    "text": "different system calls the application is doing as you can see it's not really good to like generate this manually",
    "start": "1215120",
    "end": "1221799"
  },
  {
    "text": "but it's really great to generate them automatically so what what I'm doing is now is I'm trying to show you how it",
    "start": "1221799",
    "end": "1228200"
  },
  {
    "text": "protects the cluster so I'm going trying to open a shell on one of the pods which is protected with the second profile",
    "start": "1228200",
    "end": "1237500"
  },
  {
    "text": "um the thing what you're going to see is that you're not don't see anything which is kind of cool because I'm trying to",
    "start": "1237500",
    "end": "1243799"
  },
  {
    "text": "open a shell here and the shell is not opened it is not open because the shell itself uses system calls which the",
    "start": "1243799",
    "end": "1249500"
  },
  {
    "text": "application haven't used and therefore the shell is not allowed and and it is killed by the system now what I'm going",
    "start": "1249500",
    "end": "1256940"
  },
  {
    "text": "to do here just to show you that I'm not cheating I'm removing the second profile for the from the actual deployment here",
    "start": "1256940",
    "end": "1265940"
  },
  {
    "text": "um you can see that the security contacts of the Pod you can see here the second profile with the Json file which",
    "start": "1265940",
    "end": "1272120"
  },
  {
    "text": "contains all all the system calls I'm deleting and restarting the pods",
    "start": "1272120",
    "end": "1278240"
  },
  {
    "text": "um after the editing the deployment and what you will see here",
    "start": "1278240",
    "end": "1283880"
  },
  {
    "text": "that I've removed this the second profile is that I will be able to actually open",
    "start": "1283880",
    "end": "1291080"
  },
  {
    "text": "a shell you can see here the second uh pod is the one who's been the second version",
    "start": "1291080",
    "end": "1296480"
  },
  {
    "text": "which is just been created um I'm doing a show trying to open a shell",
    "start": "1296480",
    "end": "1303640"
  },
  {
    "text": "using exec",
    "start": "1303640",
    "end": "1307240"
  },
  {
    "text": "and you can see that I was able to without the second profile was able to open a shell now again uh just for for",
    "start": "1309860",
    "end": "1316880"
  },
  {
    "text": "like explaining uh shortly let me just stop it for a sec so this uh the way I've presented I",
    "start": "1316880",
    "end": "1325280"
  },
  {
    "text": "didn't try to do an actual attack on the Linux kernel I just showed it through that the second profile Works through",
    "start": "1325280",
    "end": "1331520"
  },
  {
    "text": "the shell I try to open but I think I did most of the use you are getting out of this is not just like protecting",
    "start": "1331520",
    "end": "1337580"
  },
  {
    "text": "again against processes which which are shouldn't running inside your container but you're protecting your kernel as",
    "start": "1337580",
    "end": "1344240"
  },
  {
    "text": "well so not I'm showing the second process where I'm creating Network policies",
    "start": "1344240",
    "end": "1350179"
  },
  {
    "text": "um so I've enabled the recording and restarted the Hipster shop",
    "start": "1350179",
    "end": "1356080"
  },
  {
    "text": "application by the way is called the application is called Google microservices application which is a",
    "start": "1356080",
    "end": "1361580"
  },
  {
    "text": "great demo app for these things I'm again recording all the network events",
    "start": "1361580",
    "end": "1366620"
  },
  {
    "text": "after I recorded all the network events and run the application for a minute I've generated a network policy file",
    "start": "1366620",
    "end": "1374419"
  },
  {
    "text": "which I'm going to show you here for this again I've used uh um",
    "start": "1374419",
    "end": "1380260"
  },
  {
    "text": "Inspector Gadget so I'm opening the network policy object and you can",
    "start": "1380260",
    "end": "1385940"
  },
  {
    "text": "see these uh these Network rules that which pod is allowed to talk to which pod inside the con inside the cluster",
    "start": "1385940",
    "end": "1393080"
  },
  {
    "text": "now I will show you that it's indeed it's working and protecting your cluster",
    "start": "1393080",
    "end": "1400659"
  },
  {
    "text": "so I will try to as you remember I said that the attacker would come from the",
    "start": "1402320",
    "end": "1408500"
  },
  {
    "text": "first public-facing pod so in our case it's the front end workload uh here I'm",
    "start": "1408500",
    "end": "1415280"
  },
  {
    "text": "opening a shell in on it and I will try to access the redis component inside this demo",
    "start": "1415280",
    "end": "1421460"
  },
  {
    "text": "application which is should be the database in this demo app and would be like very logical for the attacker to to",
    "start": "1421460",
    "end": "1428600"
  },
  {
    "text": "try to exploit in general they shouldn't be talking one to another they should be",
    "start": "1428600",
    "end": "1433760"
  },
  {
    "text": "like the front-end should get information through other microservices from the redis in this case I'm opening a shell and I'm",
    "start": "1433760",
    "end": "1440780"
  },
  {
    "text": "trying to tell that into the redis card um for this component to its Port",
    "start": "1440780",
    "end": "1448640"
  },
  {
    "text": "um and if it succeeds then it will say that it's connected if not then it will one say anything and you can see that",
    "start": "1448640",
    "end": "1454880"
  },
  {
    "text": "it's stuck because Network policy is protecting actually this this pipe",
    "start": "1454880",
    "end": "1459980"
  },
  {
    "text": "and and I'm going to delete afterwards the network policies",
    "start": "1459980",
    "end": "1467000"
  },
  {
    "text": "just to show you that in general they are able to talk to one to another",
    "start": "1467000",
    "end": "1472419"
  },
  {
    "text": "and there is interesting thing here because in kubernetes network native Network poses you have the Ingress and",
    "start": "1472580",
    "end": "1478580"
  },
  {
    "text": "egress part so yeah like you're protecting from both parties uh in our",
    "start": "1478580",
    "end": "1483799"
  },
  {
    "text": "case I needed to delete both of the network policies both for the redis and both for the front end because one of",
    "start": "1483799",
    "end": "1489679"
  },
  {
    "text": "them is denying going out to the radius the other is denying accepting form from uh",
    "start": "1489679",
    "end": "1495740"
  },
  {
    "text": "uh traffic from the front end so now I'm trying to after I deleted the network policies I'm trying to connect the redis",
    "start": "1495740",
    "end": "1504260"
  },
  {
    "text": "card and I'm going to be it's very surprising but because you don't have Network policy you can connect and it's",
    "start": "1504260",
    "end": "1510140"
  },
  {
    "text": "not good obviously and I forgot how to use Talent properly sorry",
    "start": "1510140",
    "end": "1516440"
  },
  {
    "text": "um so and now the third thing is the vulnerability scanning so I've",
    "start": "1516440",
    "end": "1524179"
  },
  {
    "text": "installed uh cubescape in the cluster and deployed the again the application",
    "start": "1524179",
    "end": "1530120"
  },
  {
    "text": "and cubescape is scanning the con image vulnerabilities in the background and",
    "start": "1530120",
    "end": "1536179"
  },
  {
    "text": "what I'm doing here is I'm after it's scanned already continuously the vulnerabilities and it has all the",
    "start": "1536179",
    "end": "1542539"
  },
  {
    "text": "information and let me stop it for just I'm off minute to explain you uh it",
    "start": "1542539",
    "end": "1548360"
  },
  {
    "text": "generated two vulnerability objects both of them are in spdx format uh one of",
    "start": "1548360",
    "end": "1554240"
  },
  {
    "text": "them for the base image not basically for the image itself the second is based uh vulnerability list is based on the",
    "start": "1554240",
    "end": "1560960"
  },
  {
    "text": "actual application Behavior so we can compare them one to another here and you will see that in the case",
    "start": "1560960",
    "end": "1568220"
  },
  {
    "text": "of this circle which I chose which is called recommendation service I will try to extract the number of vulnerabilities",
    "start": "1568220",
    "end": "1576140"
  },
  {
    "text": "through the cube CTL uh to show you how many critical",
    "start": "1576140",
    "end": "1581900"
  },
  {
    "text": "vulnerabilities you have in this application and you have seven now I'm trying to show you that you have",
    "start": "1581900",
    "end": "1587260"
  },
  {
    "text": "high 74 again 55",
    "start": "1587260",
    "end": "1592779"
  },
  {
    "text": "58 medium vulnerabilities which is kind of a lot but now let's check",
    "start": "1592779",
    "end": "1598460"
  },
  {
    "text": "when we overlay the information of the runtime from dbpf which I told you how many vulner actual vulnerabilities we",
    "start": "1598460",
    "end": "1604940"
  },
  {
    "text": "get after the filtering and you will see that it is much less",
    "start": "1604940",
    "end": "1610279"
  },
  {
    "text": "which is actually kind of point of this demo [Music]",
    "start": "1610279",
    "end": "1616270"
  },
  {
    "text": "so I'm great I'm trying to find how many critical vulnerabilities I have uh only",
    "start": "1621740",
    "end": "1627500"
  },
  {
    "text": "three of out of seven are indeed in the memory 19 out of the 74 of the high and",
    "start": "1627500",
    "end": "1634820"
  },
  {
    "text": "17 out of the 58. so there is we have a huge number of vulnerability reduction",
    "start": "1634820",
    "end": "1640760"
  },
  {
    "text": "here and I can say that even this is very well maintained these are very very",
    "start": "1640760",
    "end": "1645860"
  },
  {
    "text": "well maintained images so we've seen images where we got like 90 percent out",
    "start": "1645860",
    "end": "1651559"
  },
  {
    "text": "so this was the demo uh I hope you could follow because it was a lot of information I'm sure for like in a short",
    "start": "1651559",
    "end": "1657919"
  },
  {
    "text": "time okay so this means that our our devops is is like really really happy and also",
    "start": "1657919",
    "end": "1664279"
  },
  {
    "text": "not just the devil's but a security guy and and also developers because they've saved a lot of time and now they have",
    "start": "1664279",
    "end": "1669860"
  },
  {
    "text": "time for cakes and I don't know what the drink is but it looks good",
    "start": "1669860",
    "end": "1674900"
  },
  {
    "text": "um so let's talk about what is wrong with this because you know",
    "start": "1674900",
    "end": "1679940"
  },
  {
    "text": "um it's nice to be for me coming up here and promoting an idea but let's talk about what's wrong with the idea so",
    "start": "1679940",
    "end": "1687440"
  },
  {
    "text": "um what we noticed actually in uh when we installed this in our systems and this process we notice that we are we",
    "start": "1687440",
    "end": "1694400"
  },
  {
    "text": "have to allocate more much more CPU for this EB ebpf based uh",
    "start": "1694400",
    "end": "1699980"
  },
  {
    "text": "um um tools uh during the testing phase and it's like it costs some money I I cannot",
    "start": "1699980",
    "end": "1707299"
  },
  {
    "text": "like deny it but it's not too much but you have to be aware of it the second is",
    "start": "1707299",
    "end": "1712400"
  },
  {
    "text": "that that these tools although they are great tools cncf tools and I can say I",
    "start": "1712400",
    "end": "1718880"
  },
  {
    "text": "love things of them but they are not very broadly adopted so there can be",
    "start": "1718880",
    "end": "1726200"
  },
  {
    "text": "like some usual usability issues and so on so if you are going down this road",
    "start": "1726200",
    "end": "1731299"
  },
  {
    "text": "you have to be a little bit patient uh also things like a few of them are are",
    "start": "1731299",
    "end": "1737419"
  },
  {
    "text": "managed through crds which are kind of uh we've talked about it uh with Kellen",
    "start": "1737419",
    "end": "1742880"
  },
  {
    "text": "here that that like in an imperative uh process like a cicd process is sometimes",
    "start": "1742880",
    "end": "1748400"
  },
  {
    "text": "really hard to uh to follow what's happening inside the CRS and uh and",
    "start": "1748400",
    "end": "1755299"
  },
  {
    "text": "obviously when you are missing some of the test paths in your CI CD tests then",
    "start": "1755299",
    "end": "1760940"
  },
  {
    "text": "then actually the resulting policy objects might break your application at the end because if the real application",
    "start": "1760940",
    "end": "1766880"
  },
  {
    "text": "is using different path then then you will be you'll have might get to Broken policies and or broken applications and",
    "start": "1766880",
    "end": "1774740"
  },
  {
    "text": "also if your system is incomplete when you're capturing this information obviously again your policies will be",
    "start": "1774740",
    "end": "1781700"
  },
  {
    "text": "broken think about the very smallest thing we didn't have in our Dev environment we didn't have our",
    "start": "1781700",
    "end": "1787279"
  },
  {
    "text": "Prometheus up and no one was calling into exporter apis therefore when we",
    "start": "1787279",
    "end": "1792740"
  },
  {
    "text": "promote it into the production when we when we started to use the exporter API the expert API wasn't answering because",
    "start": "1792740",
    "end": "1799820"
  },
  {
    "text": "the network policy logged it out so you have to take these things to account and go more do these information captures",
    "start": "1799820",
    "end": "1807620"
  },
  {
    "text": "more in the direction of C CD than CI but what's good so what is the positive",
    "start": "1807620",
    "end": "1814700"
  },
  {
    "text": "things so the positive things are actually you're improving your security",
    "start": "1814700",
    "end": "1819860"
  },
  {
    "text": "posture by like far like adding Network a network micro segmentation adding",
    "start": "1819860",
    "end": "1827779"
  },
  {
    "text": "second profiles uh limiting the number of vulnerabilities you are you have to",
    "start": "1827779",
    "end": "1833120"
  },
  {
    "text": "follow an update is like something that's really like by order of magnitude raises your security game and",
    "start": "1833120",
    "end": "1840980"
  },
  {
    "text": "and you know like I know that it's cheating to say that setup once and and forget it it's",
    "start": "1840980",
    "end": "1849200"
  },
  {
    "text": "not really always true and you always have to have some maintenance but in general it is like any other cicd",
    "start": "1849200",
    "end": "1855140"
  },
  {
    "text": "process we have and you have to sometimes maintain it but you're earning a lot of value from it and you're really",
    "start": "1855140",
    "end": "1862340"
  },
  {
    "text": "getting into defensive what you call least privileged principles applied for sure because you are only enable things",
    "start": "1862340",
    "end": "1869000"
  },
  {
    "text": "which are in use so I've created this uh demo repo you",
    "start": "1869000",
    "end": "1875240"
  },
  {
    "text": "can scan the QR code I will let you like give you a minute you can jump here uh actually I have to tell you it was",
    "start": "1875240",
    "end": "1882020"
  },
  {
    "text": "working on my machine so so uh uh but but if there is a problem I think I I",
    "start": "1882020",
    "end": "1888620"
  },
  {
    "text": "would really like to maintain this like in a way that to promote the idea so if",
    "start": "1888620",
    "end": "1893840"
  },
  {
    "text": "you're getting into problems just open issues and I don't know will like sort it out and I I I uh I would be really",
    "start": "1893840",
    "end": "1899720"
  },
  {
    "text": "happy to to like make up use it as a educational uh um educational repo for",
    "start": "1899720",
    "end": "1906440"
  },
  {
    "text": "for people who are want to implement Advanced Network policies and and second policies inside your clusters",
    "start": "1906440",
    "end": "1913640"
  },
  {
    "text": "um also about the cubescape which is I've added to this presentation but it's not really it's going to be released",
    "start": "1913640",
    "end": "1919279"
  },
  {
    "text": "next week so if you are interested in the vulnerability uh part uh you have to",
    "start": "1919279",
    "end": "1924440"
  },
  {
    "text": "wait till next weekend you will be able to to use it as well so that's about it",
    "start": "1924440",
    "end": "1930880"
  },
  {
    "text": "uh rate my talk send me messages on on",
    "start": "1930880",
    "end": "1936020"
  },
  {
    "text": "cncf slack or on Twitter on I don't know uh pigeon or something uh you're more",
    "start": "1936020",
    "end": "1943580"
  },
  {
    "text": "than welcome and if anyone has any questions I'm open here for questions because I see that I was able to to make",
    "start": "1943580",
    "end": "1951200"
  },
  {
    "text": "it which is great foreign",
    "start": "1951200",
    "end": "1956179"
  }
]