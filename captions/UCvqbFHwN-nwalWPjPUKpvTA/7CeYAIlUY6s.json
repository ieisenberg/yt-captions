[
  {
    "text": "hey everybody thanks for coming to this talk but it appears that my co",
    "start": "30",
    "end": "5520"
  },
  {
    "text": "maintainer with CNI is also late so I think the slides of this will be",
    "start": "5520",
    "end": "11849"
  },
  {
    "text": "available I must I'm sorry I haven't uploaded them yet so you go for those of you are taking pictures you'll be able to download the slides so don't worry",
    "start": "11849",
    "end": "17279"
  },
  {
    "text": "about it if you don't want to the goal today was to talk about half of the time",
    "start": "17279",
    "end": "25619"
  },
  {
    "text": "and then have open discussion the other half of the time this may upset or gentleman with the recording but we'll try and make it work but today in this",
    "start": "25619",
    "end": "32820"
  },
  {
    "text": "particular talk we're just gonna do an intro to the cni project how it is and how it is a part of and how is not a",
    "start": "32820",
    "end": "38879"
  },
  {
    "text": "part of kubernetes the project since they are in fact distinct and just sort",
    "start": "38879",
    "end": "44340"
  },
  {
    "text": "of an introduction to the open source model that we are talking about so what",
    "start": "44340",
    "end": "50160"
  },
  {
    "text": "is the cni project in this particular community CNI means a lot of things to a",
    "start": "50160",
    "end": "56399"
  },
  {
    "text": "lot of different people the CNI project that is to say the github organization",
    "start": "56399",
    "end": "62160"
  },
  {
    "text": "and the organization that is part of the CN CF has two major outputs the first is",
    "start": "62160",
    "end": "67799"
  },
  {
    "text": "a document and some NGO libraries implementing the specification right the",
    "start": "67799",
    "end": "73220"
  },
  {
    "text": "document is meta is a markdown file it is in github we accept pull requests to",
    "start": "73220",
    "end": "78330"
  },
  {
    "text": "it it is released and a relatively calm basis implementing this specification",
    "start": "78330",
    "end": "84869"
  },
  {
    "text": "our goal library for the run time which is to say the collar and a goal library",
    "start": "84869",
    "end": "91470"
  },
  {
    "text": "that is a skeleton for a plugin so you don't have to use these this is not necessary to be a CNI plugin all you",
    "start": "91470",
    "end": "97590"
  },
  {
    "text": "need to do is implement the specification as with most things sometimes the code is the specification",
    "start": "97590",
    "end": "105450"
  },
  {
    "text": "but technically speaking the document is authoritative CNI also means or more",
    "start": "105450",
    "end": "114420"
  },
  {
    "text": "precisely the CNI project also maintains a set of base plugins these were",
    "start": "114420",
    "end": "120299"
  },
  {
    "text": "originally incidentally part of the same repository as a specification but it became clear that that was not",
    "start": "120299",
    "end": "125670"
  },
  {
    "text": "necessarily the right choice because they go with different Cadence's and while the CNI plugins are official",
    "start": "125670",
    "end": "130860"
  },
  {
    "text": "they're certainly not necessary for use right so this set of bass plugins are",
    "start": "130860",
    "end": "136600"
  },
  {
    "text": "some pretty common interfaces and again these plugins don't actually have any kubernetes specific logic in it because",
    "start": "136600",
    "end": "142060"
  },
  {
    "text": "C&I is not curried any specific plugin this form into two general categories",
    "start": "142060",
    "end": "147570"
  },
  {
    "text": "some of them are basic interface plugins some of them are sort of tuning plugins or tweaking plugins that go after the",
    "start": "147570",
    "end": "152680"
  },
  {
    "text": "fact originally like I said two different repositories the same repository now they have two different",
    "start": "152680",
    "end": "158200"
  },
  {
    "text": "repositories the specification I don't",
    "start": "158200",
    "end": "163420"
  },
  {
    "text": "know how many of you have read any part of the cni specification raise your hand Oh excellent that's more than I expected",
    "start": "163420",
    "end": "171370"
  },
  {
    "text": "great so the specification it's a vendor-neutral specification not just for kubernetes used by mezzos Cloud",
    "start": "171370",
    "end": "176739"
  },
  {
    "text": "Foundry rocket and all it defines is an execution flow execution protocol for",
    "start": "176739",
    "end": "184090"
  },
  {
    "text": "those of you who have discovered those of you some of you may have discovered that go on up until go 1.10 it wasn't",
    "start": "184090",
    "end": "189520"
  },
  {
    "text": "safe to talk to namespaces wasn't safe to switch namespaces in a long run and go process so CNI is and always has been",
    "start": "189520",
    "end": "195700"
  },
  {
    "text": "a execution protocol around what environment variables you set and what you send on standard in and standard out",
    "start": "195700",
    "end": "202480"
  },
  {
    "text": "right so that is the protocol it's really really really simple you can",
    "start": "202480",
    "end": "207519"
  },
  {
    "text": "implement a CNI compliant runtime using just like bash and curl our bash and a",
    "start": "207519",
    "end": "213070"
  },
  {
    "text": "couple environment variables and typing a file through it right that is the spec it's not G RPC and",
    "start": "213070",
    "end": "220030"
  },
  {
    "text": "we'll talk about why it isn't and we can talk about people's feelings about this later in the open discussion the base",
    "start": "220030",
    "end": "226870"
  },
  {
    "text": "plugins on their hand are a set of common plugins originally split off of rocket that just essentially need a home",
    "start": "226870",
    "end": "232720"
  },
  {
    "text": "right they're widely used a lot of other cni plugins and medicine hi plugins wrap these there's nothing official about",
    "start": "232720",
    "end": "239650"
  },
  {
    "text": "these other than in sort of true open source style right like somebody wrote them somebody else started using them",
    "start": "239650",
    "end": "245230"
  },
  {
    "text": "and they said hey can we put them in your repository like yeah sure I don't care whatever now we're stuck",
    "start": "245230",
    "end": "250360"
  },
  {
    "text": "maintaining them Brian come on on stage Brian Barham is from weworks another one of the CNI maintainer x' I'm late",
    "start": "250360",
    "end": "257169"
  },
  {
    "text": "hello yeah I got lost - so who is this he a knife reject us - no it's five",
    "start": "257169",
    "end": "262539"
  },
  {
    "text": "maintainer x' who are actively maintaining the project this is also in the maintainer his file and there's probably 90 or 100",
    "start": "262539",
    "end": "269140"
  },
  {
    "text": "contributors especially on the plugins side so how does the project work I wish",
    "start": "269140",
    "end": "279010"
  },
  {
    "text": "I could say that it was more interesting it's we meet once a week we consider pull requests we discuss stuff the spec",
    "start": "279010",
    "end": "286870"
  },
  {
    "text": "is actively maintained but intentionally has a slow cadence because as we all know bringing everything up to date is",
    "start": "286870",
    "end": "292060"
  },
  {
    "text": "difficult but it does actually have version reconciliation so the specification says that plugins should",
    "start": "292060",
    "end": "298330"
  },
  {
    "text": "be able to handle multiple versions of the specification and the go types and the goal library actively have inter",
    "start": "298330",
    "end": "304120"
  },
  {
    "text": "version conversion utilities so we've tried to make it possible such that it's always possible to move forward it's",
    "start": "304120",
    "end": "310480"
  },
  {
    "text": "always safe you can probably use older plugins if you don't necessarily need all the information I wanted to stress",
    "start": "310480",
    "end": "318100"
  },
  {
    "text": "that the there's no kind of billionaire backer to this project you know we we",
    "start": "318100",
    "end": "325810"
  },
  {
    "text": "maintain it essentially in our spare time and we rely on contributions so we're really hopeful there's people in",
    "start": "325810",
    "end": "332260"
  },
  {
    "text": "the room who can contribute or would like to contribute but the one thing",
    "start": "332260",
    "end": "337510"
  },
  {
    "text": "that that is kind of disappointing is when people show up and say you should do this okay I was like well okay maybe",
    "start": "337510",
    "end": "342850"
  },
  {
    "text": "I should but the list of things I should do is very very long and so I just want",
    "start": "342850",
    "end": "350530"
  },
  {
    "text": "to stress that yes right we're pretty chill a pretty small open source project I think some of the time when there's",
    "start": "350530",
    "end": "356290"
  },
  {
    "text": "friction between the community is that people want spec changes really quickly and select changes are not easy to do",
    "start": "356290",
    "end": "361600"
  },
  {
    "text": "quickly right and we can't just do it in kubernetes we can't just we can't just bump thing and move but we can't like move fast and break things",
    "start": "361600",
    "end": "367540"
  },
  {
    "text": "with this back right as much as I would love to I tried that once already on the",
    "start": "367540",
    "end": "375550"
  },
  {
    "text": "other hand the plugins who are which are used pretty extensively is a sort of more typical open source project we",
    "start": "375550",
    "end": "380919"
  },
  {
    "text": "release binaries we have a you ever take quarterly release process lots and lots",
    "start": "380919",
    "end": "386380"
  },
  {
    "text": "of contributors lots and lots of pull requests if you have a really cool plugin that is not Corinna tee specific",
    "start": "386380",
    "end": "391660"
  },
  {
    "text": "and we think has general usage we'll probably be happy to take it in to the repository especially if you commit to",
    "start": "391660",
    "end": "397030"
  },
  {
    "text": "maintaining it because that were only five people but fast early spread Kayden's pretty",
    "start": "397030",
    "end": "402350"
  },
  {
    "text": "typical open-source sort of library or utility project so what the heck are we",
    "start": "402350",
    "end": "408980"
  },
  {
    "text": "doing right I mean we don't we like to hang out we sort of we meet once a week we get on Google Hangouts we talk about feelings and weather and train strikes",
    "start": "408980",
    "end": "417260"
  },
  {
    "text": "and these sorts of things and we do try and make progress of the specification although it may be slow going so the big",
    "start": "417260",
    "end": "424250"
  },
  {
    "text": "thing we're working on right now inspect 0.4 is get C&I right now has three RPC",
    "start": "424250",
    "end": "432110"
  },
  {
    "text": "calls one of which doesn't really count the first one is the one that doesn't count as version which is used",
    "start": "432110",
    "end": "437420"
  },
  {
    "text": "internally to do version manipulation and version negotiation so it's only got two function calls which is add and",
    "start": "437420",
    "end": "443450"
  },
  {
    "text": "delete and it turns out that most people kubernetes being a strong motivating",
    "start": "443450",
    "end": "448820"
  },
  {
    "text": "factor for this of course is that we need to get do you guys know what kubernetes does with the result of a CNI",
    "start": "448820",
    "end": "456320"
  },
  {
    "text": "ad right now shout it out if you know",
    "start": "456320",
    "end": "460600"
  },
  {
    "text": "know it throws it away it throws it away and immediately enters the namespace and",
    "start": "464559",
    "end": "469569"
  },
  {
    "text": "does an IP net and s like I do it as an IP IP adder right that's not good so we",
    "start": "469569",
    "end": "475029"
  },
  {
    "text": "probably realize that this is a missing thing because kubernetes wants to be able to restart independent of the pod",
    "start": "475029",
    "end": "481389"
  },
  {
    "text": "could really wants be able to restart independent of Peter kubernetes the cubelet wants to last shorter than a pod",
    "start": "481389",
    "end": "486519"
  },
  {
    "text": "and so the cubelet needs to be able to get the IP address of a running pod which means that we need to add yeah so",
    "start": "486519",
    "end": "492309"
  },
  {
    "text": "that's the big thing we're working on right now and it has way more corner cases than we really expected the",
    "start": "492309",
    "end": "497529"
  },
  {
    "text": "biggest challenge forget was plug-in chaining because any plug-in in a chain",
    "start": "497529",
    "end": "502959"
  },
  {
    "text": "can delete change remove anything any sort of IP address so we wanted to add",
    "start": "502959",
    "end": "509649"
  },
  {
    "text": "the ability we still wanted to maintain the ability for plugins to manipulate the state and so get needed to be sensitive to that",
    "start": "509649",
    "end": "515430"
  },
  {
    "text": "so the solution we came up with forget was something called result caching where when you execute get the plug-in",
    "start": "515430",
    "end": "524110"
  },
  {
    "text": "actually gets as its input what it produced for output when it did the add",
    "start": "524110",
    "end": "529329"
  },
  {
    "text": "now this may seem totally insane right like what's the point of get well first",
    "start": "529329",
    "end": "534670"
  },
  {
    "text": "of all it is useful for the plug-in to be able to say hey I know you asked me to get this network but it doesn't exist",
    "start": "534670",
    "end": "541329"
  },
  {
    "text": "anymore or so like null is it null is a really great answer to have also it",
    "start": "541329",
    "end": "546339"
  },
  {
    "text": "might be useful to just say that the network is somehow misconfigured in some way so get is called get but what it",
    "start": "546339",
    "end": "552610"
  },
  {
    "text": "really is is check capturing the Samantha cleverness specification is",
    "start": "552610",
    "end": "557740"
  },
  {
    "text": "difficult this PR is not yet merged so if you have opinions about how this should be written down I would love for you to take a look at the PR we intend",
    "start": "557740",
    "end": "565240"
  },
  {
    "text": "to merge it in the next couple of weeks but like so there's still time for people in this community people who this",
    "start": "565240",
    "end": "570370"
  },
  {
    "text": "spec is going to impact to contribute to this specification and this means that",
    "start": "570370",
    "end": "575679"
  },
  {
    "text": "C&I runtimes are now responsible for caching their results but we do it in Lipsy and I for you so it should be ok",
    "start": "575679",
    "end": "582490"
  },
  {
    "text": "we don't expect this to have a really high impact on runtimes I add something",
    "start": "582490",
    "end": "589079"
  },
  {
    "text": "well it's just that it doesn't have to cash that's like the default behavior if you have a plug-in that can fetch the",
    "start": "589139",
    "end": "597100"
  },
  {
    "text": "data from an authoritative store store then you don't need to cash it you don't need to rely on the we wrote the caching",
    "start": "597100",
    "end": "603070"
  },
  {
    "text": "to cover the simple cases if if you have a network that knows the the one true result then just send it back ah right",
    "start": "603070",
    "end": "614889"
  },
  {
    "text": "so result caching also winds up being used super useful to solve a use case",
    "start": "614889",
    "end": "621550"
  },
  {
    "text": "that several members in the community identified raise your hand if you know what a chained plugin is excellent",
    "start": "621550",
    "end": "628810"
  },
  {
    "text": "cool so although Cooper did all those CNI does not support multi network C and I does support plug-in chaining which is",
    "start": "628810",
    "end": "636040"
  },
  {
    "text": "an opportunity to have a single configuration file that execute multiple plugins where plugins one through n",
    "start": "636040",
    "end": "642190"
  },
  {
    "text": "starting with zero so zero creates the interface and one through n can manipulate the networking state in some",
    "start": "642190",
    "end": "648040"
  },
  {
    "text": "way and a canonical example of these sorts of things might be a TL or firewalling or port forwarding anything that doesn't",
    "start": "648040",
    "end": "655449"
  },
  {
    "text": "really care about how the network is actually created but just wants to manipulate existing State and the spec",
    "start": "655449",
    "end": "660699"
  },
  {
    "text": "says that for add you execute plug-in a then B then C and B and C are passed the",
    "start": "660699",
    "end": "668829"
  },
  {
    "text": "result of a well B is passed the result of a C is passed the result of B generally it means that C is whatever C",
    "start": "668829",
    "end": "676180"
  },
  {
    "text": "outputs is what the runtime knows exists and because these specifications because because you're gonna manipulate an",
    "start": "676180",
    "end": "681519"
  },
  {
    "text": "interface when you're tearing it down you should do it backwards right so when you're doing it delete you should do C than B than a but the problem is that C",
    "start": "681519",
    "end": "688959"
  },
  {
    "text": "and B if there's stateless they don't know the IP address that they created so",
    "start": "688959",
    "end": "694149"
  },
  {
    "text": "the spec right now it makes it really really really hard to make actually useful firewalling plugins so this cash",
    "start": "694149",
    "end": "700480"
  },
  {
    "text": "thing well originally created for get actually winds up being super super useful for real time for real-world",
    "start": "700480",
    "end": "706149"
  },
  {
    "text": "plugins for delete as well right right so the one of the things that I",
    "start": "706149",
    "end": "713450"
  },
  {
    "text": "mentioned my previous talk I don't want to like repeat myself too too much but writing a chain plugin is really easy you take our scale library maybe 100",
    "start": "713450",
    "end": "721550"
  },
  {
    "text": "lines of go and so for people who are in network administrator's and if you can't find a CNI plugin that does what you",
    "start": "721550",
    "end": "727250"
  },
  {
    "text": "want that might be okay right you don't need to completely reinvent the wheel if you want to do traffic tagging or you",
    "start": "727250",
    "end": "732590"
  },
  {
    "text": "want to do something totally crazy that is entirely Network specific to you like don't shy away from some go because it's",
    "start": "732590",
    "end": "738440"
  },
  {
    "text": "really easy and you only need to write the small amount of code that adds the",
    "start": "738440",
    "end": "744170"
  },
  {
    "text": "IP address to the firewall and then submit it upstream because if you have this need like chances are other people",
    "start": "744170",
    "end": "749990"
  },
  {
    "text": "have this need as well the goal after",
    "start": "749990",
    "end": "757390"
  },
  {
    "text": "0.4 is to release a zero point is to release 1.0 there shouldn't be any new",
    "start": "757390",
    "end": "765830"
  },
  {
    "text": "features in 1.0 it should be mostly a cleanup of the spec and sort of a point of no return we're saying this is the",
    "start": "765830",
    "end": "771680"
  },
  {
    "text": "accepted specification the kubernetes community is very very bad at declaring anything 1.0 and so we're trying to",
    "start": "771680",
    "end": "778370"
  },
  {
    "text": "break the trend let's see if we get there but so now if you want new",
    "start": "778370",
    "end": "788720"
  },
  {
    "text": "features in the spec now is the time to start thinking about them because really we hope by the end of the year to be done with the sort of development cycle",
    "start": "788720",
    "end": "794000"
  },
  {
    "text": "to be able to declare like know the specification as implemented is more or less what we need it's fixed so now is",
    "start": "794000",
    "end": "800270"
  },
  {
    "text": "the time to get involved with the project yeah let's be clear that we're trying to freeze the spec at 1.0 the the",
    "start": "800270",
    "end": "806570"
  },
  {
    "text": "plugins will continue to iterate as rapidly as as people contribute to them",
    "start": "806570",
    "end": "811940"
  },
  {
    "text": "the no new features doesn't mean in terms of things working in your network",
    "start": "811940",
    "end": "817280"
  },
  {
    "text": "it means in terms of the the cni spec that they're orchestrators can call into plugins through one of the things",
    "start": "817280",
    "end": "825290"
  },
  {
    "text": "introduced in I didn't put this in the side but one of the things introduced in 0.3 is dynamic configuration so a",
    "start": "825290",
    "end": "830450"
  },
  {
    "text": "protocol for runtime is to inject dynamic configuration into the into the configuration file which is previously static which means that hopefully we're",
    "start": "830450",
    "end": "837620"
  },
  {
    "text": "trying to lessen and plugins dependency on the API server so you should be able to get into the container up not",
    "start": "837620",
    "end": "843380"
  },
  {
    "text": "necessarily in fire you should be able get a container up without talking to the communities API server because we really do want plugins",
    "start": "843380",
    "end": "848840"
  },
  {
    "text": "to be as vendor-neutral as possible I'm",
    "start": "848840",
    "end": "854000"
  },
  {
    "text": "at the end of my slides yeah get involved that's a list I guess for the specific addresses go google it or",
    "start": "854000",
    "end": "862220"
  },
  {
    "text": "whatever yeah I think that the addresses are listed on the github repo which is container github.com slash container",
    "start": "862220",
    "end": "868310"
  },
  {
    "text": "networking you can find all the specific addresses I guess most of us hang out",
    "start": "868310",
    "end": "875120"
  },
  {
    "text": "and slack dan has an old-timer hangs out on IRC yeah we have a slack I receive",
    "start": "875120",
    "end": "881600"
  },
  {
    "text": "bridge so you don't have to figure it out or come and talk to us here anyway yeah",
    "start": "881600",
    "end": "887120"
  },
  {
    "text": "let's let's try and open up the the conversation what did people come to talk about or hear about or just a",
    "start": "887120",
    "end": "898970"
  },
  {
    "text": "question because you specifically told us about it just a few minutes ago with the multi interfaces yep is that in the",
    "start": "898970",
    "end": "906560"
  },
  {
    "text": "spec why you don't intend to or why it's not supported right now so maybe you can",
    "start": "906560",
    "end": "915940"
  },
  {
    "text": "sure great so see and I will never support multi interfaces in its current",
    "start": "915940",
    "end": "921440"
  },
  {
    "text": "implementation also 1.0 will not support multiple interfaces well see and I was always basically meant to define sort of",
    "start": "921440",
    "end": "928340"
  },
  {
    "text": "logically one network or one interface right it supports multiple interfaces technically it supports multiple IP",
    "start": "928340",
    "end": "935810"
  },
  {
    "text": "ranges this works more of sports arrays of everything you want but from a logical perspective yeah just do one",
    "start": "935810",
    "end": "941360"
  },
  {
    "text": "interface many times right so from a logical perspective CNI is really about like a CNI configuration file tried to",
    "start": "941360",
    "end": "947690"
  },
  {
    "text": "find some logical network and from the original days of rocket if you wanted to",
    "start": "947690",
    "end": "953810"
  },
  {
    "text": "say connect rocket to your like a storage network and to your front-end",
    "start": "953810",
    "end": "958940"
  },
  {
    "text": "network you would say rocket run - net equals storage comma front end and you've got two interfaces in the order",
    "start": "958940",
    "end": "964220"
  },
  {
    "text": "that you applied so eight zero East one and it was multi like rocket has had multi networking since they zero this",
    "start": "964220",
    "end": "971420"
  },
  {
    "text": "didn't make it into kubernetes and the way that people solve this right now is by using multi which is a CNI plugin",
    "start": "971420",
    "end": "976580"
  },
  {
    "text": "that calls that there CNI plugins but that's a hack it is beyond a hack and there's a molten salt in the in the",
    "start": "976580",
    "end": "981740"
  },
  {
    "text": "in the there's a melt this author somewhere at Q Khan we had lunch together he's awesome he's very smart and obviously it's extremely successful",
    "start": "981740",
    "end": "987800"
  },
  {
    "text": "and it's it has a need but the CNI doesn't need to solve that kubernetes",
    "start": "987800",
    "end": "993950"
  },
  {
    "text": "needs to solve this and we're actively working on it but not as part of the CNI project can you tell the city to be a PD",
    "start": "993950",
    "end": "1004720"
  },
  {
    "text": "60 votes so see and I supports ipv6 sense about a year ago in terms of all",
    "start": "1004720",
    "end": "1010240"
  },
  {
    "text": "the CNI plugins the specification doesn't care right it's the 90 I pee adjusts in the specification as a string",
    "start": "1010240",
    "end": "1016720"
  },
  {
    "text": "so it's specification is effectively always supported ipv6 but that what good is that do you if no plugins support it",
    "start": "1016720",
    "end": "1022560"
  },
  {
    "text": "all of the base CNI plugin plugins have supported it for about a year or a year",
    "start": "1022560",
    "end": "1028240"
  },
  {
    "text": "and a half kubernetes has beta support for ipv6 there's a talk about this it",
    "start": "1028240",
    "end": "1033760"
  },
  {
    "text": "actually had the key dates I just don't remember them kubernetes right now supports beta v6 talk to people at Cisco",
    "start": "1033760",
    "end": "1040140"
  },
  {
    "text": "because they're the ones who are working on it right now Dane and Dane hey hey yeah you want to",
    "start": "1040140",
    "end": "1046000"
  },
  {
    "text": "ask the question what's up with ipv6",
    "start": "1046000",
    "end": "1051720"
  },
  {
    "text": "Yeah right exactly it's not to a stack yeah so who raised 1.9 has oh I'm Dana",
    "start": "1051720",
    "end": "1062410"
  },
  {
    "text": "Blanc with Francisco and worked on the CNI ipv6 and kubernetes v6 along with",
    "start": "1062410",
    "end": "1067870"
  },
  {
    "text": "Paul and Rob yeah so kubernetes 1.9 introduced ipv6 only to kubernetes as an",
    "start": "1067870",
    "end": "1077620"
  },
  {
    "text": "alpha and it's and right now we're trying to get to beta or just waiting for a CI to get merged nasiha ipv6 CI",
    "start": "1077620",
    "end": "1087400"
  },
  {
    "text": "and then we're targeting about kubernetes 1.12 to do the dual stack",
    "start": "1087400",
    "end": "1094420"
  },
  {
    "text": "support so in that involves you know allowing pods to have multiple IPS and",
    "start": "1094420",
    "end": "1100300"
  },
  {
    "text": "service addresses to have multiple dips you know so is one about 1.12 for deal",
    "start": "1100300",
    "end": "1106510"
  },
  {
    "text": "stack yeah dual stack is effectively the same problem as multi network because it means add",
    "start": "1106510",
    "end": "1111940"
  },
  {
    "text": "arrays to things that previously were single values and it also means that services need to in some manner be",
    "start": "1111940",
    "end": "1117190"
  },
  {
    "text": "topology aware so it's a lot of work to do right because a lot of these are very unanswered questions yes so related to",
    "start": "1117190",
    "end": "1124450"
  },
  {
    "text": "that when you do an ad how do you deal with the multiple addresses is it",
    "start": "1124450",
    "end": "1129759"
  },
  {
    "text": "returning a pair or so Mogens actually this back if you don't mind for CNI",
    "start": "1129759",
    "end": "1137379"
  },
  {
    "text": "cassettes unites us and support multiple like you're talking about for dual stack yeah so see and I you can return an",
    "start": "1137379",
    "end": "1142960"
  },
  {
    "text": "array of addresses and actually compliancy and I plugins generally tend to return all the addresses not just for",
    "start": "1142960",
    "end": "1150970"
  },
  {
    "text": "the plug-in but all intermedia dresses so if you have a gateway address or a bridge address that you've created you",
    "start": "1150970",
    "end": "1156279"
  },
  {
    "text": "return those as well you know what I want me to run see and I want to do it",
    "start": "1156279",
    "end": "1161799"
  },
  {
    "text": "I'll create a v6 I'll create a dual stack live demo",
    "start": "1161799",
    "end": "1167100"
  },
  {
    "text": "live and unrehearsed so the the the spec",
    "start": "1167100",
    "end": "1172600"
  },
  {
    "text": "was in the very early days single address in the cni yeah spec oh you want",
    "start": "1172600",
    "end": "1178240"
  },
  {
    "text": "to make the font bigger yeah it doesn't but I'd like two years ago or thereabout the cni spec was modified to let you",
    "start": "1178240",
    "end": "1185379"
  },
  {
    "text": "return an array of addresses and and you",
    "start": "1185379",
    "end": "1192340"
  },
  {
    "text": "know we're not we're not just beating down on kubernetes here the point is CNI is a Orchestrator neutral specification",
    "start": "1192340",
    "end": "1201309"
  },
  {
    "text": "and it is used by rocket me sauce Cloud Foundry you know it's it is cross",
    "start": "1201309",
    "end": "1208679"
  },
  {
    "text": "Orchestrator and so some of these questions go to sea and i and some of",
    "start": "1208679",
    "end": "1213909"
  },
  {
    "text": "these questions go to Coburn 80s if that's the orchestrator you're using",
    "start": "1213909",
    "end": "1219570"
  },
  {
    "text": "so I'll just repeat the question can you show what gets passed in sure",
    "start": "1226290",
    "end": "1231360"
  },
  {
    "text": "so traditionally in CNI versions 0.1 0.2",
    "start": "1231360",
    "end": "1236790"
  },
  {
    "text": "which didn't exist the specification is that you take the CNI configuration on",
    "start": "1236790",
    "end": "1242460"
  },
  {
    "text": "disk which has two meanings the C&I configuration on disk has this name here type which is the worst named field",
    "start": "1242460",
    "end": "1249450"
  },
  {
    "text": "because it really means plug in binary name and CNI is expected to decode this",
    "start": "1249450",
    "end": "1255210"
  },
  {
    "text": "JSON only look at the version and the type but find a pioneer on disk in a",
    "start": "1255210",
    "end": "1263310"
  },
  {
    "text": "path with the name p2p in this case and then execute that binary and pass this",
    "start": "1263310",
    "end": "1269730"
  },
  {
    "text": "entire file on standard in",
    "start": "1269730",
    "end": "1274370"
  },
  {
    "text": "right Cooper neti I already said is you can put a range there you could put anything you want there you can put lots of configuration files the spec merely",
    "start": "1279340",
    "end": "1285309"
  },
  {
    "text": "says that you need to have version name and type and everything else is free form that will be passed through right",
    "start": "1285309",
    "end": "1290889"
  },
  {
    "text": "through standard into the plugin for sure and the return type also does well",
    "start": "1290889",
    "end": "1297759"
  },
  {
    "text": "just know so you know yeah well one of those invitations regards one interface",
    "start": "1297759",
    "end": "1303519"
  },
  {
    "text": "right if you want two interfaces you do that twice yeah yeah it well it's yeah",
    "start": "1303519",
    "end": "1310539"
  },
  {
    "text": "that's what I was trying to say it has no need to even talk about multiple interfaces because it talks about one",
    "start": "1310539",
    "end": "1316779"
  },
  {
    "text": "interface if you need to do it twice yeah if you need three do it three times",
    "start": "1316779",
    "end": "1324240"
  },
  {
    "text": "well no you can create multiple addresses if your plugin supports it but",
    "start": "1327990",
    "end": "1334440"
  },
  {
    "text": "logically and in the kit indicate a single see my invocation will probably",
    "start": "1334440",
    "end": "1339639"
  },
  {
    "text": "give multiple interfaces but it the cni specification includes as a parameter the name of the one interface that",
    "start": "1339639",
    "end": "1345820"
  },
  {
    "text": "should be created in the container so logically one interface in the container should be created regardless of how many",
    "start": "1345820",
    "end": "1351580"
  },
  {
    "text": "incidental interfaces are created yeah I",
    "start": "1351580",
    "end": "1358659"
  },
  {
    "text": "guess we as maintainer as we get this question a lot we have to you know the",
    "start": "1358659",
    "end": "1364720"
  },
  {
    "text": "message is we're we're not going to do anything because there is no need to do anything in C and I the the place that",
    "start": "1364720",
    "end": "1372940"
  },
  {
    "text": "does not support multiple interfaces as kubernetes",
    "start": "1372940",
    "end": "1377039"
  },
  {
    "text": "see and I will always let you call cni multiple times if you need multiple interfaces call it multiple times and",
    "start": "1377960",
    "end": "1385179"
  },
  {
    "text": "both so to answer your your previous",
    "start": "1385179",
    "end": "1391159"
  },
  {
    "text": "question I just executed this CNI configuration which defines two ranges",
    "start": "1391159",
    "end": "1397249"
  },
  {
    "text": "for IP allocation and but is going to create one interface it's still going to just create each zero and this is the",
    "start": "1397249",
    "end": "1403820"
  },
  {
    "text": "response that I got I got the name I got two interfaces returned one of which is",
    "start": "1403820",
    "end": "1410389"
  },
  {
    "text": "in the container because the sandbox property is set and one of which is not in the container it's the host side of",
    "start": "1410389",
    "end": "1416389"
  },
  {
    "text": "the Vieth but we still return this because it's useful if you're doing something like say firewall chaining where you want to know you don't care",
    "start": "1416389",
    "end": "1422570"
  },
  {
    "text": "about what the container is all you want to know is as IP address and the interface that it's going to come through in the host so that's why we see",
    "start": "1422570",
    "end": "1427970"
  },
  {
    "text": "two interfaces returned but only one is going to be in the container and we see two ip's returned a v4 and a v6",
    "start": "1427970",
    "end": "1435220"
  },
  {
    "text": "don't see and I supports dual stack and I can even do",
    "start": "1435220",
    "end": "1440169"
  },
  {
    "text": "and we can see that my oh by the way IP as an IP right - is a container runtime",
    "start": "1446090",
    "end": "1453140"
  },
  {
    "text": "engine I don't know if you guys noticed but I just did all of this IP I just of all this namespace management with IP",
    "start": "1453140",
    "end": "1459910"
  },
  {
    "text": "like anyways so if I do IP - end testing means to execute it in the testing",
    "start": "1460180",
    "end": "1465410"
  },
  {
    "text": "namespace and I have well 3 because of ipv6 but I have to inter I have two addresses apply to this interface",
    "start": "1465410",
    "end": "1473290"
  },
  {
    "text": "did we hit all the points that our roles in that discussion yeah okay next",
    "start": "1478280",
    "end": "1486250"
  },
  {
    "text": "hi a question about the dynamic configuration let's say that I have 10",
    "start": "1491530",
    "end": "1496660"
  },
  {
    "text": "plugins I set up in my own plugin yep but this needs a special variable let's",
    "start": "1496660",
    "end": "1504610"
  },
  {
    "text": "say obviously I cannot modify the container runtime so they're away from user level to annotate some not yet but",
    "start": "1504610",
    "end": "1514660"
  },
  {
    "text": "that's a pretty good idea the cni specification has a what is essentially",
    "start": "1514660",
    "end": "1520150"
  },
  {
    "text": "a limited templating language not really but it's essentially a limited templating language where the runtime",
    "start": "1520150",
    "end": "1525460"
  },
  {
    "text": "will replace one variable with another but the runtime needs to know about these because these variables are",
    "start": "1525460",
    "end": "1530770"
  },
  {
    "text": "defined as part of the specification the variables right now are things like",
    "start": "1530770",
    "end": "1535960"
  },
  {
    "text": "which ports should be mapped and soon to be coming is what the bandwidth levels are but there right now there doesn't",
    "start": "1535960",
    "end": "1543370"
  },
  {
    "text": "exist a way to do arbitrary substitution for kubernetes into CNI but that's a really good idea so I think you should",
    "start": "1543370",
    "end": "1549010"
  },
  {
    "text": "propose that to sig network and we should get that into kubernetes there is PR actually which does not do",
    "start": "1549010",
    "end": "1556090"
  },
  {
    "text": "that but it passes all of the annotations on",
    "start": "1556090",
    "end": "1562090"
  },
  {
    "text": "the pod in Jason and I guess that's",
    "start": "1562090",
    "end": "1569140"
  },
  {
    "text": "something we would take input on so the two sides of that argument like the",
    "start": "1569140",
    "end": "1575830"
  },
  {
    "text": "reason why the PR isn't just merged is it's a slippery slope so somebody wants the annotations on the",
    "start": "1575830",
    "end": "1582760"
  },
  {
    "text": "pod and the next person wants the annotations on the namespace and the next person wants the annotations on the node and then we need the name of their",
    "start": "1582760",
    "end": "1590380"
  },
  {
    "text": "a Z and then we need you know the the there's essentially no limit to what you",
    "start": "1590380",
    "end": "1597310"
  },
  {
    "text": "might conceivably want kubernetes to pass to the CNI plugin and and we don't",
    "start": "1597310",
    "end": "1603100"
  },
  {
    "text": "pass any of that well right now we passed the name of the namespace the name of the pod when I say we here I'm",
    "start": "1603100",
    "end": "1609370"
  },
  {
    "text": "talking about kubernetes which I didn't write so I don't know why I'm saying that so anyway kubernetes passes a few",
    "start": "1609370",
    "end": "1615910"
  },
  {
    "text": "kubernetes specific variables like the namespace on the pod ID and so if you",
    "start": "1615910",
    "end": "1621730"
  },
  {
    "text": "really want extra formation you can hit the kubernetes api server with those pieces of information",
    "start": "1621730",
    "end": "1628179"
  },
  {
    "text": "and fetch whatever else you wanted and in fact almost everybody writing a major",
    "start": "1628179",
    "end": "1637029"
  },
  {
    "text": "CNI plugin does that so said we'd really like to be able to get a network up",
    "start": "1637029",
    "end": "1643059"
  },
  {
    "text": "without needing to talk to the API server because those of us who are naughty enough like us to do self hosting if your API server is down and",
    "start": "1643059",
    "end": "1649870"
  },
  {
    "text": "your API server is hosted on your and your controlling is hosted in kubernetes like unless you're very careful you can",
    "start": "1649870",
    "end": "1655179"
  },
  {
    "text": "have a chicken-and-egg problem also lowering load is good in general so it's a tough balance yeah and so these things",
    "start": "1655179",
    "end": "1662440"
  },
  {
    "text": "are in the air that the weather there should be some kind of targeted passing",
    "start": "1662440",
    "end": "1670720"
  },
  {
    "text": "in something quite specific that is needed to fire up a network for a pod",
    "start": "1670720",
    "end": "1676200"
  },
  {
    "text": "weather kubernetes should you know just shovel in everything or whether there",
    "start": "1676200",
    "end": "1685330"
  },
  {
    "text": "should be some other mechanism that maybe someone in the room can think of right so please please get in touch yeah where we now have dynamic configuration",
    "start": "1685330",
    "end": "1693129"
  },
  {
    "text": "so that as they say the cat is out of the bag and we're not gonna stop anybody",
    "start": "1693129",
    "end": "1698169"
  },
  {
    "text": "from doing it and if there's a good cross vendor and need then we'll put it in the spec for sure",
    "start": "1698169",
    "end": "1705450"
  },
  {
    "text": "the question is is there a global eye Pam or can you have separate iPads for groups of pods right now there is a",
    "start": "1713740",
    "end": "1720490"
  },
  {
    "text": "right now there's a global CNI configuration so effectively the answer is yes right there's a global everything",
    "start": "1720490",
    "end": "1727210"
  },
  {
    "text": "actually C&I is configured by writing a file to disk so you could theoretically",
    "start": "1727210",
    "end": "1732890"
  },
  {
    "text": "have different configurations per node but I would recommend against that because pods can move between nodes like",
    "start": "1732890",
    "end": "1738680"
  },
  {
    "text": "crazy and it would make you very sad if your pods had like a non-uniform route in that network environment but there's",
    "start": "1738680",
    "end": "1745520"
  },
  {
    "text": "nothing stopping you with how intelligent your IPAM can be so in this particular case the logic would probably",
    "start": "1745520",
    "end": "1751700"
  },
  {
    "text": "be either someday when Multi network happens or in your IPAM itself because your IPAM plugin can make these",
    "start": "1751700",
    "end": "1757970"
  },
  {
    "text": "decisions with reasonable intelligence yeah I plant pluggable so what it does",
    "start": "1757970",
    "end": "1763100"
  },
  {
    "text": "whatever somebody codes it to do five",
    "start": "1763100",
    "end": "1768260"
  },
  {
    "text": "minutes left anybody want to bring up a really controversial topic people are asking why it's not a gr PC API first of",
    "start": "1768260",
    "end": "1775580"
  },
  {
    "text": "all because rocket is daemon list and second of all because of go in the namespaces we'll definitely consider making it a JRPG RPC api post 1.0 I",
    "start": "1775580",
    "end": "1785150"
  },
  {
    "text": "think that is a really good direction for this back to take but right now we have enough on our plate and it works we'll get to it all right just one more",
    "start": "1785150",
    "end": "1793310"
  },
  {
    "text": "so I don't know if this is the right venue to ask these questions but how do you go about debugging crashing CNI",
    "start": "1793310",
    "end": "1801260"
  },
  {
    "text": "plugins when it's crashing on the node right right well so one of the best",
    "start": "1801260",
    "end": "1810920"
  },
  {
    "text": "things you can do is to deploy your CNI daemon sets using kubernetes so if you",
    "start": "1810920",
    "end": "1816770"
  },
  {
    "text": "deploy it as a host Network pod as a daemon set then you have all the visibility that you have into any other demon set right you can do docker logs",
    "start": "1816770",
    "end": "1823880"
  },
  {
    "text": "if you can't use you could hopefully you can do cubic level logs if the node is really screwed up you can do docker log",
    "start": "1823880",
    "end": "1830920"
  },
  {
    "text": "right so one of the things that we do for our core can put there's nothing to do with networking but at core OS for",
    "start": "1830920",
    "end": "1836120"
  },
  {
    "text": "our core containers we will bind mount the system journal in to our core pods so that they actually log directly",
    "start": "1836120",
    "end": "1842360"
  },
  {
    "text": "through the journal to disk so we can do journal cuddle um that doesn't scale for all pods but it is a reasonable solution for system",
    "start": "1842360",
    "end": "1849110"
  },
  {
    "text": "pods like like networking daemon sets I think honestly like kubernetes logging",
    "start": "1849110",
    "end": "1854660"
  },
  {
    "text": "of course is unsolved and we could talk about this all day and I don't want to get myself in trouble it's like just one point of detail they the plug-in itself",
    "start": "1854660",
    "end": "1861230"
  },
  {
    "text": "which is a little binary gets exact by cubelet and inherits cubelets stood it",
    "start": "1861230",
    "end": "1867890"
  },
  {
    "text": "out and stood at error yes so for most of the simple cases the first place to",
    "start": "1867890",
    "end": "1873320"
  },
  {
    "text": "look is in the couplet log where anything the you know a stack trace or",
    "start": "1873320",
    "end": "1879350"
  },
  {
    "text": "core dumped or whatever any anything like that any message like that will will appear in the couplet log by dint",
    "start": "1879350",
    "end": "1887179"
  },
  {
    "text": "of the fact that Kubla exact it and it inherited the studded error and couplet",
    "start": "1887179",
    "end": "1893690"
  },
  {
    "text": "doesn't run in a pod because turtles",
    "start": "1893690",
    "end": "1898899"
  },
  {
    "text": "yeah so now cupid is a chatty thing but you know it grabs your friend right it's",
    "start": "1899380",
    "end": "1907040"
  },
  {
    "text": "three minutes left yeah don't pick the first error message in Kubla because the couplet like runs everything again and again and again and",
    "start": "1907040",
    "end": "1913970"
  },
  {
    "text": "so yeah start with the bottom or something like that bugging cubelet could take does it doesn't like anything",
    "start": "1913970",
    "end": "1920240"
  },
  {
    "text": "too advanced or anything useful don't know okay i want to contribute to she",
    "start": "1920240",
    "end": "1926030"
  },
  {
    "text": "and i support to windows brought home huh excellent so I have to question",
    "start": "1926030",
    "end": "1931900"
  },
  {
    "text": "well needs how many people interested",
    "start": "1931900",
    "end": "1937419"
  },
  {
    "text": "interested in supporting Windows cool lady huh no I'm not in private",
    "start": "1937419",
    "end": "1952720"
  },
  {
    "text": "yes I talk to it Microsoft Internet is",
    "start": "1952720",
    "end": "1957830"
  },
  {
    "text": "their own for Microsoft here no okay good okay we're safe",
    "start": "1957830",
    "end": "1962740"
  },
  {
    "text": "- sorry can I just add I mean yeah we we",
    "start": "1963499",
    "end": "1968639"
  },
  {
    "text": "are getting tremendous support from Microsoft contributing to the project",
    "start": "1968639",
    "end": "1974129"
  },
  {
    "text": "you know they they made they took out a lot of the Linux isms they made the code compile across platform they made the",
    "start": "1974129",
    "end": "1979950"
  },
  {
    "text": "test run cross-platform so there's there's certainly a commitment to CNI",
    "start": "1979950",
    "end": "1984989"
  },
  {
    "text": "from Microsoft but please we want as many contributors as possible so do go on and my questions ice is there no",
    "start": "1984989",
    "end": "1996049"
  },
  {
    "text": "integrated test environment away interest test so the product 30 request",
    "start": "1996049",
    "end": "2003799"
  },
  {
    "text": "for supporting Windows remain not matched how come there is an unfinished",
    "start": "2003799",
    "end": "2011299"
  },
  {
    "text": "Windows support in true open source style somebody opened a pull request and then disappeared like it was a good pull",
    "start": "2011299",
    "end": "2023989"
  },
  {
    "text": "request we had some feedback they made some changes something just goes didn't this is the world were yeah right so see",
    "start": "2023989",
    "end": "2037909"
  },
  {
    "text": "and I the specification has no OS dependencies CNI the library for the",
    "start": "2037909",
    "end": "2043519"
  },
  {
    "text": "runtime has no Linux isms and doesn't care there are some CNI plugins that have experimental windows support that",
    "start": "2043519",
    "end": "2049520"
  },
  {
    "text": "has not yet been merged there's a PR it's open it is welcome to be adopted",
    "start": "2049520",
    "end": "2055190"
  },
  {
    "text": "and we will absolutely merge it we need help especially with doing CNI integration tests for Windows because",
    "start": "2055190",
    "end": "2060349"
  },
  {
    "text": "none of us particularly window savvy so I is there a Travis for Windows I think it's up there I don't know anything",
    "start": "2060349",
    "end": "2066289"
  },
  {
    "text": "about this right so that's the big questions we're not going to take it if there isn't tests and we can't run the tests I think we're out of time so I'd",
    "start": "2066289",
    "end": "2073608"
  },
  {
    "text": "like to thank all of you for coming and listening to us thank you and come find",
    "start": "2073609",
    "end": "2081108"
  },
  {
    "text": "us on slack come contribute happy to have as many contributions as possible",
    "start": "2081109",
    "end": "2086828"
  }
]