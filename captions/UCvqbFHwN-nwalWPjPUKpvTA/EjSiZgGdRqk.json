[
  {
    "start": "0",
    "end": "48000"
  },
  {
    "text": "hi and welcome to this session on production already kubernetes what is it",
    "start": "30",
    "end": "7040"
  },
  {
    "text": "it's it's kind of this bus was that everybody throws around so we'll well",
    "start": "7040",
    "end": "12150"
  },
  {
    "text": "dive into the technical details of what could be considered production ready",
    "start": "12150",
    "end": "17490"
  },
  {
    "text": "cluster and go from there two different aspects of that I'm Lukas",
    "start": "17490",
    "end": "24240"
  },
  {
    "text": "Kallstrom from Finland I'm a high school student graduating this year actually",
    "start": "24240",
    "end": "29340"
  },
  {
    "text": "which is a lot of fun I've been to three years active in the governess community",
    "start": "29340",
    "end": "34530"
  },
  {
    "text": "and I'm a CNCs ambassador I'm",
    "start": "34530",
    "end": "39860"
  },
  {
    "text": "contracting independently this time for other currently for weworks she working",
    "start": "39860",
    "end": "45840"
  },
  {
    "text": "well and yeah let's dive into directly so first off define the buzz words",
    "start": "45840",
    "end": "54410"
  },
  {
    "text": "highly available and production grade fraction ready are all things that most",
    "start": "54410",
    "end": "62969"
  },
  {
    "text": "people here in the boot area throw around but what is it then how can we",
    "start": "62969",
    "end": "70950"
  },
  {
    "text": "secure a kubernetes cluster that there's a lot of things you have to think about",
    "start": "70950",
    "end": "76189"
  },
  {
    "text": "and a lot of tricky corner cases as well",
    "start": "76189",
    "end": "82189"
  },
  {
    "text": "which will seem then high availability for kubernetes is for example not the",
    "start": "82250",
    "end": "90180"
  },
  {
    "text": "same as multi master that two different things which we'll also look into and",
    "start": "90180",
    "end": "97460"
  },
  {
    "text": "one example is going to be how to set up a an H a cluster with cubed M that is",
    "start": "97460",
    "end": "105060"
  },
  {
    "text": "documented in our official company experimentation and will show diagram",
    "start": "105060",
    "end": "110100"
  },
  {
    "text": "there and then as a fourth thing will look into the cluster API which and with",
    "start": "110100",
    "end": "117060"
  },
  {
    "text": "which is an ongoing effort in Sigma life cycle as work group we're trying to",
    "start": "117060",
    "end": "122549"
  },
  {
    "text": "define declarative approach to cluster management and we hope it to be an",
    "start": "122549",
    "end": "128399"
  },
  {
    "text": "emerging standard in in this space",
    "start": "128399",
    "end": "133190"
  },
  {
    "text": "so yeah and to just be clear there's a lot of there's many layers in kubernetes",
    "start": "134000",
    "end": "142200"
  },
  {
    "text": "clusters application management so this talk is focusing only on the convenience",
    "start": "142200",
    "end": "148770"
  },
  {
    "text": "layer you could have another talk on how to do production deployment or through",
    "start": "148770",
    "end": "155910"
  },
  {
    "text": "blip application deployments in a production-ready manner or production-grade manner or - how to",
    "start": "155910",
    "end": "162330"
  },
  {
    "text": "provision your infrastructure in a production grade manner but this is",
    "start": "162330",
    "end": "169290"
  },
  {
    "text": "talking about the kubernetes cluster how we can set that up so it's resilient and",
    "start": "169290",
    "end": "178250"
  },
  {
    "start": "178000",
    "end": "266000"
  },
  {
    "text": "here we go one possible definition that we could think of is that the cluster is",
    "start": "178250",
    "end": "186930"
  },
  {
    "text": "production ready when it's in a good enough shape for the user or the",
    "start": "186930",
    "end": "192780"
  },
  {
    "text": "administrator to serve real-world traffic this can be very large",
    "start": "192780",
    "end": "198060"
  },
  {
    "text": "deployment with thousands of nodes and high availability and everything or it",
    "start": "198060",
    "end": "203250"
  },
  {
    "text": "could be like a one master thing that is having a blog either case so it's it's",
    "start": "203250",
    "end": "209670"
  },
  {
    "text": "kind of it's facing the real world or the users customers and good enough I",
    "start": "209670",
    "end": "217100"
  },
  {
    "text": "wrote good enough there because it's all about trade-offs so you have to you have",
    "start": "217100",
    "end": "224370"
  },
  {
    "text": "to draw the line somewhere another possible definition which caught the",
    "start": "224370",
    "end": "229380"
  },
  {
    "text": "Moga from Google had in another relevant talk is your offering is production",
    "start": "229380",
    "end": "236070"
  },
  {
    "text": "ready when it slightly exceeds your customers expectations in a way that",
    "start": "236070",
    "end": "241200"
  },
  {
    "text": "allows for business growth so it should be slightly more than you expect but not",
    "start": "241200",
    "end": "248820"
  },
  {
    "text": "too much so we have we are we're on the other side and these are two possible",
    "start": "248820",
    "end": "255989"
  },
  {
    "text": "definitions less probably many more but",
    "start": "255989",
    "end": "262310"
  },
  {
    "text": "yeah again it's a lot of trade-offs we have",
    "start": "262310",
    "end": "269950"
  },
  {
    "start": "266000",
    "end": "314000"
  },
  {
    "text": "to do this as you might know kubernetes has like hundreds of command line flags",
    "start": "269950",
    "end": "274990"
  },
  {
    "text": "and there's probably thousands of ways you can set up your cluster like",
    "start": "274990",
    "end": "280600"
  },
  {
    "text": "everyone here has their own kubernetes offering and the trust of lifecycle space is actually kind of fragmented so",
    "start": "280600",
    "end": "287530"
  },
  {
    "text": "simplest life cycle is trying to unify",
    "start": "287530",
    "end": "293260"
  },
  {
    "text": "these efforts and provide a better base to run kubernetes and in this we have to",
    "start": "293260",
    "end": "302100"
  },
  {
    "text": "find some some kind of balance between for example security high availability",
    "start": "302100",
    "end": "307840"
  },
  {
    "text": "and other things that affect the cluster",
    "start": "307840",
    "end": "314820"
  },
  {
    "text": "so the interesting part of this talk I hope is what do we have to do",
    "start": "314820",
    "end": "320620"
  },
  {
    "text": "technically in order to achieve what you could call a production great cluster",
    "start": "320620",
    "end": "326880"
  },
  {
    "text": "what are the different aspects and what should you think of when doing your when",
    "start": "326880",
    "end": "333190"
  },
  {
    "text": "creating your own cluster either with Cuba diem or anything else so I have",
    "start": "333190",
    "end": "341320"
  },
  {
    "start": "339000",
    "end": "397000"
  },
  {
    "text": "five items and the first one is the",
    "start": "341320",
    "end": "346450"
  },
  {
    "text": "cluster is reasonably secure the security features in kubernetes are still evolving especially a lot latest",
    "start": "346450",
    "end": "355480"
  },
  {
    "text": "year that has been a lot of focus on security and our back for example",
    "start": "355480",
    "end": "361570"
  },
  {
    "text": "graduated stable last year which is a great and essential effort in having any",
    "start": "361570",
    "end": "368800"
  },
  {
    "text": "kind of security in your kubernetes cluster and but again reasonably here is",
    "start": "368800",
    "end": "375820"
  },
  {
    "text": "you can you can spend months or years trying to lock down a secure your",
    "start": "375820",
    "end": "381820"
  },
  {
    "text": "kubernetes cluster but then again you're not do you're not doing the things you",
    "start": "381820",
    "end": "387100"
  },
  {
    "text": "should do which is like get guests rather try to gets revenue generator on",
    "start": "387100",
    "end": "393460"
  },
  {
    "text": "you so ya find out final good compromise there the cluster",
    "start": "393460",
    "end": "402340"
  },
  {
    "start": "397000",
    "end": "449000"
  },
  {
    "text": "components again are highly available enough for the needs of your cluster so",
    "start": "402340",
    "end": "410830"
  },
  {
    "text": "for example if I have a blog that I'm just running on digital ocean or",
    "start": "410830",
    "end": "417520"
  },
  {
    "text": "something in a droplet then it's pretty fine to not be AJ I can just go with",
    "start": "417520",
    "end": "425169"
  },
  {
    "text": "this one master but if I'm a bank or whatever that is running thousands of",
    "start": "425169",
    "end": "431250"
  },
  {
    "text": "workloads at any given point of time and millions of transactions I might have a",
    "start": "431250",
    "end": "437940"
  },
  {
    "text": "might need more uptime from my masters and it could be critical that they all",
    "start": "437940",
    "end": "444610"
  },
  {
    "text": "function at any given point in time then",
    "start": "444610",
    "end": "450330"
  },
  {
    "start": "449000",
    "end": "586000"
  },
  {
    "text": "one one nice thing that I'm good what we really nice to have in my class to setup",
    "start": "450330",
    "end": "458919"
  },
  {
    "text": "is that all elements like the API server controller manager scheduler all the",
    "start": "458919",
    "end": "465729"
  },
  {
    "text": "cubelets and so forth are declaratively controlled by the system that manages",
    "start": "465729",
    "end": "472330"
  },
  {
    "text": "for example infrastructure has this whole world view of the cluster",
    "start": "472330",
    "end": "477729"
  },
  {
    "text": "instead of imperatively setting things up executing commands on the command",
    "start": "477729",
    "end": "483159"
  },
  {
    "text": "line SS aging into nodes so and so on and so forth instead it would be nice to",
    "start": "483159",
    "end": "490360"
  },
  {
    "text": "just for example for upgrades go in some",
    "start": "490360",
    "end": "495699"
  },
  {
    "text": "kind of resource that is centrally stored and bump the version number to the next minor or patch version and then",
    "start": "495699",
    "end": "502930"
  },
  {
    "text": "some kind of controller kicks in and make sure this at this desired state is",
    "start": "502930",
    "end": "509169"
  },
  {
    "text": "the actual state and axon that sounds familiar that is basically what kubernetes is all about fat occasions but can we find",
    "start": "509169",
    "end": "516550"
  },
  {
    "text": "something like this in a Cabana centric way that is for the cluster itself maybe",
    "start": "516550",
    "end": "525060"
  },
  {
    "text": "and this also makes it easier to upgrade rollback and perform",
    "start": "525060",
    "end": "530680"
  },
  {
    "text": "normal operations the operator pattern driven by chorus and similar folks is",
    "start": "530680",
    "end": "538230"
  },
  {
    "text": "really kind of this exact this thing but can we expand it to our own notes as",
    "start": "538230",
    "end": "546999"
  },
  {
    "text": "well then changes to cross the state can",
    "start": "546999",
    "end": "552160"
  },
  {
    "text": "be safely applied that is one of the blue bars for me at least for a",
    "start": "552160",
    "end": "557350"
  },
  {
    "text": "production run a cluster if we can we know that oh here's a new patch version",
    "start": "557350",
    "end": "564040"
  },
  {
    "text": "of kubernetes we know that we can actually apply this in a safe manner and",
    "start": "564040",
    "end": "569699"
  },
  {
    "text": "not suffer from downtime for example if that's a requirement if we know we can",
    "start": "569699",
    "end": "576730"
  },
  {
    "text": "upgrade then it's we're a good state to call ourself production-ready and the",
    "start": "576730",
    "end": "587889"
  },
  {
    "start": "586000",
    "end": "697000"
  },
  {
    "text": "last thing is touching on conformance so I see no cabinet CN n CF launched the",
    "start": "587889",
    "end": "593769"
  },
  {
    "text": "kubernetes conformers program last year and Cabrales has these end-to-end tests",
    "start": "593769",
    "end": "601389"
  },
  {
    "text": "that is verifying that the cluster works as it should",
    "start": "601389",
    "end": "606490"
  },
  {
    "text": "currently we have there's a lot of entrants a synchronous a small set of them are marked with the conformance",
    "start": "606490",
    "end": "614129"
  },
  {
    "text": "label and this conformance label is good",
    "start": "614129",
    "end": "619389"
  },
  {
    "text": "it's verifies we have a some kind of standard between different deployments",
    "start": "619389",
    "end": "624610"
  },
  {
    "text": "of kubernetes for example iki sa KS g ki e cubed m and all cops all the providers",
    "start": "624610",
    "end": "634379"
  },
  {
    "text": "we know that if if all of these deployments passes past conformance we",
    "start": "634379",
    "end": "642490"
  },
  {
    "text": "can move our applications from place to place and rely on the same api's unfortunately the the current",
    "start": "642490",
    "end": "650799"
  },
  {
    "text": "conformance tests have pretty low coverage of all the convenience features",
    "start": "650799",
    "end": "656170"
  },
  {
    "text": "so we need to work as a team in the community - hi - hi oh this bar",
    "start": "656170",
    "end": "664690"
  },
  {
    "text": "meanwhile there's a lot of end-to-end tests you can optionally enable for your",
    "start": "664690",
    "end": "671550"
  },
  {
    "text": "inten tests flow and I would say if you have a bananas or production-ready",
    "start": "671550",
    "end": "678760"
  },
  {
    "text": "cluster then try to to a higher the bar make the bar higher when running these",
    "start": "678760",
    "end": "686650"
  },
  {
    "text": "end-to-end tests so you actually show that more is covered than just a conformist bar and here is a slide I",
    "start": "686650",
    "end": "699510"
  },
  {
    "start": "697000",
    "end": "872000"
  },
  {
    "text": "often show in my presentations trying to visualize what kubernetes actually looks",
    "start": "699510",
    "end": "707500"
  },
  {
    "text": "like and the architecture so in the heart of the system we have the API",
    "start": "707500",
    "end": "713980"
  },
  {
    "text": "server that is a web server that talks to its database at CD which can be",
    "start": "713980",
    "end": "722340"
  },
  {
    "text": "cluster and it's the where every everything is stored all the data and",
    "start": "722340",
    "end": "730590"
  },
  {
    "text": "API server can be horizontally scaled that's not a problem and the controller",
    "start": "730590",
    "end": "738640"
  },
  {
    "text": "manager and schedule talk only to the API server and go that way access and",
    "start": "738640",
    "end": "745150"
  },
  {
    "text": "are accessing that way the data at CD and then we can have all the policy",
    "start": "745150",
    "end": "750640"
  },
  {
    "text": "enforcement and similar API conventions in the API server the controller manager",
    "start": "750640",
    "end": "756670"
  },
  {
    "text": "makes reconciles all time make sure the actual state is the desired state and",
    "start": "756670",
    "end": "764320"
  },
  {
    "text": "the scheduler finds pods that are not",
    "start": "764320",
    "end": "769570"
  },
  {
    "text": "bind turnout and binds the pod to the node of choice in in the pool in the",
    "start": "769570",
    "end": "777040"
  },
  {
    "text": "cluster mmm on a node side again we have first iOS which can be Linux or Windows",
    "start": "777040",
    "end": "784020"
  },
  {
    "text": "and we have some kind of container runtime which can be docker container DCI Rio or any CRI compliant runtime",
    "start": "784020",
    "end": "794620"
  },
  {
    "text": "which you see there the different colors represent different interfaces",
    "start": "794620",
    "end": "800650"
  },
  {
    "text": "for communication between components and then cubelets",
    "start": "800650",
    "end": "806560"
  },
  {
    "text": "which is the node agent of kubernetes talks to the container runtime and says what what containers to execute and the",
    "start": "806560",
    "end": "814390"
  },
  {
    "text": "container runtime executes this container which then of course runs on top of the operating system eventually",
    "start": "814390",
    "end": "821610"
  },
  {
    "text": "the cubelet pulls the API server were actually has a watch through API server",
    "start": "821610",
    "end": "828400"
  },
  {
    "text": "and receives these new pods bind it and",
    "start": "828400",
    "end": "834900"
  },
  {
    "text": "when it's when it's now knows that I should run this application it executes",
    "start": "834900",
    "end": "842310"
  },
  {
    "text": "call we ser I but it also executes a call we are CNI to allocate an IP and a",
    "start": "842310",
    "end": "850090"
  },
  {
    "text": "unique IP address for a pod in a cluster and this networking layer is third party",
    "start": "850090",
    "end": "855340"
  },
  {
    "text": "so Cabrales doesn't ship with any defaults instead you are a CEO you as a",
    "start": "855340",
    "end": "861610"
  },
  {
    "text": "user can choose your preferred choice for example we've flannel calico you",
    "start": "861610",
    "end": "868450"
  },
  {
    "text": "name it so how about high availability",
    "start": "868450",
    "end": "875520"
  },
  {
    "start": "872000",
    "end": "927000"
  },
  {
    "text": "instances of a component for example the cube API server the controller manager",
    "start": "875520",
    "end": "880960"
  },
  {
    "text": "so some of the faults can fail without causing the whole cluster to fail or a",
    "start": "880960",
    "end": "888070"
  },
  {
    "text": "machine in the cluster can sail without causing the cluster to fail so why these",
    "start": "888070",
    "end": "894100"
  },
  {
    "text": "are different for example if you have cube DNS is often running on the Masters",
    "start": "894100",
    "end": "900490"
  },
  {
    "text": "for better isolation from the worker nodes and if you have only one if you",
    "start": "900490",
    "end": "906520"
  },
  {
    "text": "have your cluster set up in an highly available manner but still have just one",
    "start": "906520",
    "end": "911680"
  },
  {
    "text": "cube DNS replicas then that one dns replicas can't fail if you're not going",
    "start": "911680",
    "end": "919330"
  },
  {
    "text": "to suffer from some kind of it's more but some kind of college and we'll talk",
    "start": "919330",
    "end": "924610"
  },
  {
    "text": "about more about this later so securing kubernetes again five",
    "start": "924610",
    "end": "931750"
  },
  {
    "start": "927000",
    "end": "1020000"
  },
  {
    "text": "five different things to think about DLS should be everywhere preferably and the",
    "start": "931750",
    "end": "942010"
  },
  {
    "text": "certificates in the cluster should be rotatable so this is a hard thing to",
    "start": "942010",
    "end": "947830"
  },
  {
    "text": "achieve in automatically in practice but it should be a goal to strive towards",
    "start": "947830",
    "end": "956430"
  },
  {
    "text": "it's preferable to use a separate CA for a TD so you have this inner ring that",
    "start": "956430",
    "end": "963820"
  },
  {
    "text": "you can use to protect your data and you",
    "start": "963820",
    "end": "970960"
  },
  {
    "text": "might have heard of the CSR API in kubernetes that is certificate signing",
    "start": "970960",
    "end": "976120"
  },
  {
    "text": "request API so that means there's a controller run in the controller manager",
    "start": "976120",
    "end": "983080"
  },
  {
    "text": "or somewhere else that signs certificate signing request s-- uploaded to the api",
    "start": "983080",
    "end": "989560"
  },
  {
    "text": "server and then for example this is used for for cubelets then the cubelet will",
    "start": "989560",
    "end": "998470"
  },
  {
    "text": "get an unique identity on demand more about this later but if you're on a",
    "start": "998470",
    "end": "1006210"
  },
  {
    "text": "cloud or somewhere that way you have the possibility you should use an external",
    "start": "1006210",
    "end": "1012089"
  },
  {
    "text": "key signer and have this key CI key external to the cluster not inside the",
    "start": "1012089",
    "end": "1017730"
  },
  {
    "text": "cluster API authentication and authorization localhost:8080",
    "start": "1017730",
    "end": "1025560"
  },
  {
    "start": "1020000",
    "end": "1107000"
  },
  {
    "text": "was a thing in many clusters maybe a year ago it's more maybe and it provided",
    "start": "1025560",
    "end": "1034680"
  },
  {
    "text": "you its root access to all the nodes in the cluster and master anything access",
    "start": "1034680",
    "end": "1040560"
  },
  {
    "text": "to the API server unsecured or like unauthorized gives you root access to",
    "start": "1040560",
    "end": "1047938"
  },
  {
    "text": "every node also anonymous you should disable an investigation this or or the",
    "start": "1047939",
    "end": "1057030"
  },
  {
    "text": "local of say the editing for example was disabled by a year over a year ago by cubed m and similar deployments",
    "start": "1057030",
    "end": "1064880"
  },
  {
    "text": "enforce our back and the node authorizer are also good things to to keep in mind",
    "start": "1064880",
    "end": "1072010"
  },
  {
    "text": "if you have our back on then and and",
    "start": "1072010",
    "end": "1077450"
  },
  {
    "text": "have deny all by default you're pretty sure that a normal workload in the",
    "start": "1077450",
    "end": "1083240"
  },
  {
    "text": "cluster can't write root access to the API server which is kind of bad the node",
    "start": "1083240",
    "end": "1090770"
  },
  {
    "text": "wrote riser is basically making sure that nodes can't do anything",
    "start": "1090770",
    "end": "1097520"
  },
  {
    "text": "instead they can only handle pods and similar resources access ports and",
    "start": "1097520",
    "end": "1105080"
  },
  {
    "text": "similar resources that they actually should run the couplets in the cluster",
    "start": "1105080",
    "end": "1110440"
  },
  {
    "start": "1107000",
    "end": "1292000"
  },
  {
    "text": "have sometimes fun defaults read-only",
    "start": "1110440",
    "end": "1116570"
  },
  {
    "text": "port is and the C advisor ports are by",
    "start": "1116570",
    "end": "1121760"
  },
  {
    "text": "default open to the whole world so if you're running for example a public",
    "start": "1121760",
    "end": "1126880"
  },
  {
    "text": "digitalocean droplet or another William in any cloud which is accessible by the",
    "start": "1126880",
    "end": "1133370"
  },
  {
    "text": "internet everyone can read your like top three and be like PS everything C CPU",
    "start": "1133370",
    "end": "1143270"
  },
  {
    "text": "usage memory usage check out the processes read what all the ports you",
    "start": "1143270",
    "end": "1148929"
  },
  {
    "text": "you have in kubernetes and similar things so of course it's recommended to",
    "start": "1148929",
    "end": "1156289"
  },
  {
    "text": "disable these ports we disable the public service port already a year ago",
    "start": "1156289",
    "end": "1162320"
  },
  {
    "text": "in Cuba I'm the read-only port is about basic lockdown by default in 111 I guess",
    "start": "1162320",
    "end": "1170990"
  },
  {
    "text": "it might there might be some consumers of it but since last life cycle and",
    "start": "1170990",
    "end": "1176450"
  },
  {
    "text": "single trailer recommends consumers of the read cubelet read-only port try to",
    "start": "1176450",
    "end": "1184280"
  },
  {
    "text": "get a client certificate to talk to the secured port instead and each cubelet",
    "start": "1184280",
    "end": "1191240"
  },
  {
    "text": "should have its unique identity will get rough in a bit",
    "start": "1191240",
    "end": "1196658"
  },
  {
    "text": "the dashboard and helm or have been like disgusts pretty much about as well",
    "start": "1196870",
    "end": "1203820"
  },
  {
    "text": "please don't give cluster admin power to everyone using the dashboard or everyone",
    "start": "1203820",
    "end": "1212080"
  },
  {
    "text": "using helm that can then it's possible that your cluster is mining bitcoins",
    "start": "1212080",
    "end": "1219460"
  },
  {
    "text": "after some time so instead the dashboard",
    "start": "1219460",
    "end": "1225010"
  },
  {
    "text": "has actually executed on this and since 1/7 it's as a login screen and let's",
    "start": "1225010",
    "end": "1233320"
  },
  {
    "text": "user of the web api authenticate and the dashboard just delegates this these",
    "start": "1233320",
    "end": "1240190"
  },
  {
    "text": "credentials because if you ever go and like run the thing in the kubernetes box",
    "start": "1240190",
    "end": "1247480"
  },
  {
    "text": "that says has like huge warning signs do not run this in case you're really sure and want to disable our Mac if you do",
    "start": "1247480",
    "end": "1257380"
  },
  {
    "text": "that any any work loading commanders can do anything or if you do that for",
    "start": "1257380",
    "end": "1263290"
  },
  {
    "text": "dashboard any user dashboard can do anything the same goes for helm um",
    "start": "1263290",
    "end": "1269770"
  },
  {
    "text": "you should set up some kind of lists a cluster row and specify which operations",
    "start": "1269770",
    "end": "1278380"
  },
  {
    "text": "in our back which operations tiller the server side of helm may perform and",
    "start": "1278380",
    "end": "1286270"
  },
  {
    "text": "there's some there's some good stuff in this blog post as well you'll get the slides from this later so you can follow",
    "start": "1286270",
    "end": "1292210"
  },
  {
    "start": "1292000",
    "end": "1343000"
  },
  {
    "text": "the link then I by default there's some good good API is here are back which we",
    "start": "1292210",
    "end": "1299650"
  },
  {
    "text": "talked about network policing is another so by default all ports can talk to each other if you don't like that specify a",
    "start": "1299650",
    "end": "1310810"
  },
  {
    "text": "network policy and here you need a third-party network provider that supports a network policy and deny all",
    "start": "1310810",
    "end": "1319270"
  },
  {
    "text": "communication by default and then just whitelist oh my web service should be able to talk to the backend and then",
    "start": "1319270",
    "end": "1328070"
  },
  {
    "text": "certipur-us restrictive odd security policy after default this is about what well which kind of pods may may be",
    "start": "1328070",
    "end": "1338119"
  },
  {
    "text": "posted to the API server in which namespaces and so so and so forth so",
    "start": "1338119",
    "end": "1345769"
  },
  {
    "text": "again in the hardest system we have an API server it has a serving cert and this has a cube of fines will talk about",
    "start": "1345769",
    "end": "1351529"
  },
  {
    "text": "the cube list client sue the controller manager and the scheduler have client certs",
    "start": "1351529",
    "end": "1356600"
  },
  {
    "text": "to the API server and has a have a common common name the search should have these common names in order for it",
    "start": "1356600",
    "end": "1362989"
  },
  {
    "text": "oughtn't ik 8 in the right way to the API server with our back we have this is",
    "start": "1362989",
    "end": "1370999"
  },
  {
    "text": "the master node it has a self-signed HTTP serving cert and this is a client",
    "start": "1370999",
    "end": "1377299"
  },
  {
    "text": "served to the API server now with Cuba diem for example when we run Cuba and",
    "start": "1377299",
    "end": "1382609"
  },
  {
    "text": "join this happens we give it a boost truck token we have a CA to trust we",
    "start": "1382609",
    "end": "1389450"
  },
  {
    "text": "post the boot up dog and or we access the API server using the bootstrap token and post a CSR and certificate",
    "start": "1389450",
    "end": "1399200"
  },
  {
    "text": "certificate signing request by Cuba invited in Cuba and by default the",
    "start": "1399200",
    "end": "1404479"
  },
  {
    "text": "approver csr prove it goes ahead and approves the csr if it has the right if",
    "start": "1404479",
    "end": "1413960"
  },
  {
    "text": "it satisfies some criterias and then the csr signer which is the only thing that",
    "start": "1413960",
    "end": "1419239"
  },
  {
    "text": "should have access to the CI key if it's approved then the csr signer goes ahead",
    "start": "1419239",
    "end": "1425149"
  },
  {
    "text": "and sign this csr which makes it possible for the cubelet to get its own",
    "start": "1425149",
    "end": "1432460"
  },
  {
    "text": "unique client search on demand we didn't have to pre allocate this then when you",
    "start": "1432460",
    "end": "1440929"
  },
  {
    "text": "do cube CT log or cube CTL exec you're actually first talking today api server",
    "start": "1440929",
    "end": "1446119"
  },
  {
    "text": "and then the api server with a client cert talk to the nodes to the cube",
    "start": "1446119",
    "end": "1452960"
  },
  {
    "text": "ceiling or cube latin question this communication is mostly in most clusters",
    "start": "1452960",
    "end": "1460059"
  },
  {
    "text": "in secure the as all cubelets have different self",
    "start": "1460059",
    "end": "1465679"
  },
  {
    "text": "signed identities the api's have just",
    "start": "1465679",
    "end": "1471049"
  },
  {
    "text": "have to trust whatever whatever see is coming back but hopefully with new",
    "start": "1471049",
    "end": "1477379"
  },
  {
    "text": "mechanism security mechanism is kubernetes will have this fixed by by default in",
    "start": "1477379",
    "end": "1483200"
  },
  {
    "text": "new clusters later this year so they all belong to the same CA here is some more",
    "start": "1483200",
    "end": "1492350"
  },
  {
    "start": "1490000",
    "end": "1538000"
  },
  {
    "text": "resources and here we have a diagram of",
    "start": "1492350",
    "end": "1501259"
  },
  {
    "text": "what of the different aspect layers of cubanelle our kubernetes cluster so we",
    "start": "1501259",
    "end": "1507409"
  },
  {
    "text": "have in infrastructure cubed M is running on each of these locally on each of these nodes machines then they form a",
    "start": "1507409",
    "end": "1517159"
  },
  {
    "text": "kubernetes layer and then on top of that we run I don't like Obama's as",
    "start": "1517159",
    "end": "1524389"
  },
  {
    "text": "monitoring logging cloud extensions and so so on and so forth we'll talk about more about the cluster",
    "start": "1524389",
    "end": "1530659"
  },
  {
    "text": "API later Cuba names task is to set up a Minimum Viable best-practice kubernetes cluster so how",
    "start": "1530659",
    "end": "1540320"
  },
  {
    "start": "1538000",
    "end": "1662000"
  },
  {
    "text": "can you achieve a che with Cuba team today first you create a Haq Bananas",
    "start": "1540320",
    "end": "1545600"
  },
  {
    "text": "Foster by providing documentation for that in Amit and then you run cube a them in it",
    "start": "1545600",
    "end": "1551809"
  },
  {
    "text": "on all the Masters first you run it on the master a and then you copy over the shared certificates using your preferred",
    "start": "1551809",
    "end": "1559759"
  },
  {
    "text": "method then you provide some kind of external load balancer like a cloud cloud load bonus are using DNS result",
    "start": "1559759",
    "end": "1568240"
  },
  {
    "text": "resolving and then you queue barium join the nodes and then it will look like",
    "start": "1568240",
    "end": "1575629"
  },
  {
    "text": "this so this is possible and it's making",
    "start": "1575629",
    "end": "1582669"
  },
  {
    "text": "the life easier for the operators when you use incubate them it's still some",
    "start": "1582669",
    "end": "1587720"
  },
  {
    "text": "tasks to do manually and depending on what environment you're in but still you have a lot of common",
    "start": "1587720",
    "end": "1594440"
  },
  {
    "text": "functionality in one piece the building block which is cubed M and will will",
    "start": "1594440",
    "end": "1601070"
  },
  {
    "text": "thrive signals lifelike strives to make this easier all the time and then",
    "start": "1601070",
    "end": "1607240"
  },
  {
    "text": "something I've seen when talking to people a common misunderstanding in some",
    "start": "1607240",
    "end": "1613220"
  },
  {
    "text": "cases or the difference is the difference between multi-master and highly available so it's for example",
    "start": "1613220",
    "end": "1621230"
  },
  {
    "text": "this setup highly available anyone know exactly because here we have a single",
    "start": "1621230",
    "end": "1628850"
  },
  {
    "text": "point of failure in this master D so this cluster is multi master yes but it",
    "start": "1628850",
    "end": "1637520"
  },
  {
    "text": "has some kind of single point of failure it could be like this is just a common",
    "start": "1637520",
    "end": "1642890"
  },
  {
    "text": "example or like silly example but there's there's even more corner cases",
    "start": "1642890",
    "end": "1649429"
  },
  {
    "text": "to this that might not be of this directly but you can have a multi master",
    "start": "1649429",
    "end": "1656240"
  },
  {
    "text": "cluster but it's still not a J so for",
    "start": "1656240",
    "end": "1664270"
  },
  {
    "start": "1662000",
    "end": "1800000"
  },
  {
    "text": "example try to keep the cube DNS or now upcoming co DNS replicas above one and",
    "start": "1664270",
    "end": "1671710"
  },
  {
    "text": "use pod enter infinity so have them on different masters certificates need to",
    "start": "1671710",
    "end": "1679490"
  },
  {
    "text": "be many of the certificates in the cluster need to be identical across masters for example the service account",
    "start": "1679490",
    "end": "1688280"
  },
  {
    "text": "signing key for the controller manager if you have different signing Keys on",
    "start": "1688280",
    "end": "1694010"
  },
  {
    "text": "different masters on the controller for the control manager you're gonna end up",
    "start": "1694010",
    "end": "1699230"
  },
  {
    "text": "its you're gonna have trouble and that it also makes it complicated when you're",
    "start": "1699230",
    "end": "1705320"
  },
  {
    "text": "doing upgrades and certificates rotation especially in an age a cluster so the",
    "start": "1705320",
    "end": "1714920"
  },
  {
    "text": "class life service hopefully looking into providing some best practice documentation for such cases if you want",
    "start": "1714920",
    "end": "1721760"
  },
  {
    "text": "to contribute to our efforts please do get in touch with us and help us improve the documentation on",
    "start": "1721760",
    "end": "1728929"
  },
  {
    "text": "kubernetes talks there's a lot of stuff that still needs to be colored there so",
    "start": "1728929",
    "end": "1734270"
  },
  {
    "text": "and it's time-consuming so more people would be really really nice and",
    "start": "1734270",
    "end": "1741820"
  },
  {
    "text": "monitoring is of course a critical component when you when you're starting to hire the barrier the borrow the or if",
    "start": "1741820",
    "end": "1752720"
  },
  {
    "text": "you starting to if you are expected to have a high SLO monitoring becomes",
    "start": "1752720",
    "end": "1757940"
  },
  {
    "text": "important and for example you can get started with Prometheus and cube state metrics and you should consider do we",
    "start": "1757940",
    "end": "1767029"
  },
  {
    "text": "need the AJ cluster because it's it adds more complexity a lot of more complexity",
    "start": "1767029",
    "end": "1772220"
  },
  {
    "text": "and of course added costs if you're for example running three months this versus one but still have like two nodes or",
    "start": "1772220",
    "end": "1779000"
  },
  {
    "text": "something you might want to reconsider so and here is a good quote from Justin",
    "start": "1779000",
    "end": "1787640"
  },
  {
    "text": "I don't know if he's here but yeah kind of like monitor before so you know",
    "start": "1787640",
    "end": "1794210"
  },
  {
    "text": "before your customers bill and the last",
    "start": "1794210",
    "end": "1802059"
  },
  {
    "start": "1800000",
    "end": "1983000"
  },
  {
    "text": "last piece is declarative control with the cluster API this is still in alpha as I said we're expecting to graduate to",
    "start": "1802059",
    "end": "1808940"
  },
  {
    "text": "be the later this year but it's really really interesting progress and chris",
    "start": "1808940",
    "end": "1814940"
  },
  {
    "text": "nova and robert bailey who is leading the workgroup are more than happy to have you there and comment engage with",
    "start": "1814940",
    "end": "1823100"
  },
  {
    "text": "the group for example or this is a declarative way to configure create",
    "start": "1823100",
    "end": "1829549"
  },
  {
    "text": "manager cluster using Bernina CM normal kubernetes api conventions we all kind",
    "start": "1829549",
    "end": "1836659"
  },
  {
    "text": "of agree on at this point and then reconcile in the same way as the normal",
    "start": "1836659",
    "end": "1844039"
  },
  {
    "text": "Cabrera's controllers that do cloud providers will implement this small",
    "start": "1844039",
    "end": "1849700"
  },
  {
    "text": "small controller loop small shim that check that do I well now I'm expected to run a machine",
    "start": "1849700",
    "end": "1857600"
  },
  {
    "text": "that ID don't in the cluster or only in the cloud then I just execute the G GCE",
    "start": "1857600",
    "end": "1866060"
  },
  {
    "text": "API calls required or AWS calls required for this and then it will bring up a new",
    "start": "1866060",
    "end": "1872600"
  },
  {
    "text": "machine so well we're trying to put as much code that is similar to everyone",
    "start": "1872600",
    "end": "1879160"
  },
  {
    "text": "under the kubernetes in the cluster lifecycle repos and so de is easier to",
    "start": "1879160",
    "end": "1887470"
  },
  {
    "text": "have the unification process and make the operators life easier and then we",
    "start": "1887470",
    "end": "1893360"
  },
  {
    "text": "can start creating normal or controller loops like upgrading repairing cluster",
    "start": "1893360",
    "end": "1899360"
  },
  {
    "text": "order scaling in a generic manner and have this this more provider specific",
    "start": "1899360",
    "end": "1906410"
  },
  {
    "text": "code only in dedicated places so this goes sounds like a topic that's being",
    "start": "1906410",
    "end": "1913640"
  },
  {
    "text": "discussed widely in in different forums which is get-ups so with this new",
    "start": "1913640",
    "end": "1920300"
  },
  {
    "text": "cluster api you can technically then have used git as your single or your the",
    "start": "1920300",
    "end": "1930740"
  },
  {
    "text": "the through let's say sorry where you store the truth and here we have a",
    "start": "1930740",
    "end": "1940400"
  },
  {
    "text": "machine set that is declaring how many replicas of the nodes machines should we",
    "start": "1940400",
    "end": "1946010"
  },
  {
    "text": "have and there's also a provider config that should also have the satisfied a",
    "start": "1946010",
    "end": "1952850"
  },
  {
    "text": "kubernetes api conventions and similar similar stuff please get in touch with",
    "start": "1952850",
    "end": "1960830"
  },
  {
    "text": "Chris and Robert if you're interested and we can for",
    "start": "1960830",
    "end": "1967520"
  },
  {
    "text": "example stall this in kubernetes itself or give it have this expect to be fed",
    "start": "1967520",
    "end": "1973180"
  },
  {
    "text": "installing to like cops that just translated translated AWS commands or GC",
    "start": "1973180",
    "end": "1980990"
  },
  {
    "text": "commands so we have two minutes left and",
    "start": "1980990",
    "end": "1987020"
  },
  {
    "start": "1983000",
    "end": "2074000"
  },
  {
    "text": "he has to recap identify the needs of your business",
    "start": "1987020",
    "end": "1992509"
  },
  {
    "text": "how much do you want to put into how much effort and money do you want to put",
    "start": "1992509",
    "end": "1998179"
  },
  {
    "text": "into a che which adds complexity and how much do you want to focus on security I",
    "start": "1998179",
    "end": "2005009"
  },
  {
    "text": "really encourage you to do all these things but just try to find the balance",
    "start": "2005009",
    "end": "2010019"
  },
  {
    "text": "and if you do put a lot of efforts here in insert in these things please give us",
    "start": "2010019",
    "end": "2016509"
  },
  {
    "text": "feedback on the OSS components we have like cubed em in the cig meetings higher",
    "start": "2016509",
    "end": "2022059"
  },
  {
    "text": "availability is not the same as multi master which we talked about the",
    "start": "2022059",
    "end": "2028719"
  },
  {
    "text": "certificate identities are really important for the cluster to function well and it should be you should be",
    "start": "2028719",
    "end": "2036579"
  },
  {
    "text": "considered with our back for example try to disable the unnecessary ports if you can etc and the clarity of control over",
    "start": "2036579",
    "end": "2046089"
  },
  {
    "text": "your cluster is at least in my opinion better than imperative so you can have some kind of reconciliation loop that",
    "start": "2046089",
    "end": "2055108"
  },
  {
    "text": "that doesn't thing this that applies the state and still offer please contribute",
    "start": "2055109",
    "end": "2063970"
  },
  {
    "text": "so we can get it to be now and that is it",
    "start": "2063970",
    "end": "2068980"
  },
  {
    "text": "[Applause]",
    "start": "2068980",
    "end": "2075888"
  }
]