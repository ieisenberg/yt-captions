[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "hi everyone",
    "start": "960",
    "end": "3280"
  },
  {
    "text": "hi thank you all for being here",
    "start": "3280",
    "end": "6960"
  },
  {
    "text": "we are glad to have this opportunity to",
    "start": "6960",
    "end": "10080"
  },
  {
    "text": "share our experience",
    "start": "10080",
    "end": "11920"
  },
  {
    "text": "on elastic scheduling with thai kv",
    "start": "11920",
    "end": "15280"
  },
  {
    "text": "during the next 30 minutes",
    "start": "15280",
    "end": "18960"
  },
  {
    "start": "20000",
    "end": "50000"
  },
  {
    "text": "first of all let us introduce ourselves",
    "start": "21279",
    "end": "25199"
  },
  {
    "text": "i am yutong an infrastructure engineer",
    "start": "25199",
    "end": "28320"
  },
  {
    "text": "at pincap",
    "start": "28320",
    "end": "30000"
  },
  {
    "text": "also i'm the tech leader of the",
    "start": "30000",
    "end": "31679"
  },
  {
    "text": "scheduling special interesting group",
    "start": "31679",
    "end": "34399"
  },
  {
    "text": "of thai tv i'm sungo",
    "start": "34399",
    "end": "37760"
  },
  {
    "text": "a infrastructure engineer at pingap",
    "start": "37760",
    "end": "41280"
  },
  {
    "text": "i'm the maintainer of mesh and the",
    "start": "41280",
    "end": "44160"
  },
  {
    "text": "commuter",
    "start": "44160",
    "end": "44960"
  },
  {
    "text": "of thai kvsig scheduling",
    "start": "44960",
    "end": "49120"
  },
  {
    "start": "50000",
    "end": "98000"
  },
  {
    "text": "yes we are working on the scheduling",
    "start": "50719",
    "end": "53840"
  },
  {
    "text": "system",
    "start": "53840",
    "end": "54559"
  },
  {
    "text": "for thaikv okay let us",
    "start": "54559",
    "end": "58000"
  },
  {
    "text": "take a look at the agenda of this talk",
    "start": "58000",
    "end": "62800"
  },
  {
    "text": "there are five parts covered for this",
    "start": "62879",
    "end": "65198"
  },
  {
    "text": "topic",
    "start": "65199",
    "end": "67200"
  },
  {
    "text": "an introduction to thai kv the elastic",
    "start": "67200",
    "end": "70560"
  },
  {
    "text": "scheduling background",
    "start": "70560",
    "end": "72960"
  },
  {
    "text": "the implementation takeaway on",
    "start": "72960",
    "end": "75360"
  },
  {
    "text": "kubernetes",
    "start": "75360",
    "end": "77119"
  },
  {
    "text": "some future work we are working on",
    "start": "77119",
    "end": "80880"
  },
  {
    "text": "and there will be time for questions at",
    "start": "80880",
    "end": "83360"
  },
  {
    "text": "the end of the presentation",
    "start": "83360",
    "end": "86960"
  },
  {
    "text": "i will talk about part one and part two",
    "start": "86960",
    "end": "90479"
  },
  {
    "text": "and a song will work you through the",
    "start": "90479",
    "end": "92320"
  },
  {
    "text": "product three and part four",
    "start": "92320",
    "end": "100320"
  },
  {
    "start": "98000",
    "end": "143000"
  },
  {
    "text": "before what we dive deep into the",
    "start": "100320",
    "end": "103040"
  },
  {
    "text": "details",
    "start": "103040",
    "end": "104000"
  },
  {
    "text": "about her elastic scheduling you might",
    "start": "104000",
    "end": "107200"
  },
  {
    "text": "need some background information about",
    "start": "107200",
    "end": "109280"
  },
  {
    "text": "the tech tv",
    "start": "109280",
    "end": "111280"
  },
  {
    "text": "so what's a tactic techyv is a",
    "start": "111280",
    "end": "115360"
  },
  {
    "text": "key value database and it is open source",
    "start": "115360",
    "end": "119200"
  },
  {
    "text": "distributed and support transactions",
    "start": "119200",
    "end": "123759"
  },
  {
    "text": "techyv is a simsaf graduated",
    "start": "123759",
    "end": "127759"
  },
  {
    "text": "project currently with a great support",
    "start": "127759",
    "end": "131520"
  },
  {
    "text": "from",
    "start": "131520",
    "end": "131920"
  },
  {
    "text": "community of and the users taking",
    "start": "131920",
    "end": "135200"
  },
  {
    "text": "now has more than eight thousand github",
    "start": "135200",
    "end": "138160"
  },
  {
    "text": "staff",
    "start": "138160",
    "end": "139040"
  },
  {
    "text": "and more than 200 contributors",
    "start": "139040",
    "end": "143840"
  },
  {
    "start": "143000",
    "end": "240000"
  },
  {
    "text": "now we are going to take a look at the",
    "start": "145520",
    "end": "148080"
  },
  {
    "text": "thai tv",
    "start": "148080",
    "end": "149040"
  },
  {
    "text": "architecture each title node",
    "start": "149040",
    "end": "153680"
  },
  {
    "text": "store different data chart named regions",
    "start": "153680",
    "end": "157599"
  },
  {
    "text": "which are divided by range",
    "start": "157599",
    "end": "160640"
  },
  {
    "text": "for a single region it has multiple",
    "start": "160640",
    "end": "163680"
  },
  {
    "text": "replicas",
    "start": "163680",
    "end": "164879"
  },
  {
    "text": "we call rat group",
    "start": "164879",
    "end": "168239"
  },
  {
    "text": "it is used to guarantee high",
    "start": "168319",
    "end": "171040"
  },
  {
    "text": "availability",
    "start": "171040",
    "end": "172239"
  },
  {
    "text": "through the right algorithm and each",
    "start": "172239",
    "end": "175360"
  },
  {
    "text": "group has its own wrapped leader",
    "start": "175360",
    "end": "177519"
  },
  {
    "text": "and other followers",
    "start": "177519",
    "end": "180720"
  },
  {
    "text": "takeaway client use grpc to communicate",
    "start": "181120",
    "end": "185200"
  },
  {
    "text": "with each",
    "start": "185200",
    "end": "185920"
  },
  {
    "text": "tycoon node as well as plain smith",
    "start": "185920",
    "end": "188959"
  },
  {
    "text": "driver",
    "start": "188959",
    "end": "189680"
  },
  {
    "text": "the cluster manager of thai kiwi",
    "start": "189680",
    "end": "193360"
  },
  {
    "text": "and tachyv will send the heartbeat",
    "start": "193360",
    "end": "195680"
  },
  {
    "text": "periodically",
    "start": "195680",
    "end": "196800"
  },
  {
    "text": "to the placement driver which is short",
    "start": "196800",
    "end": "199599"
  },
  {
    "text": "for pd",
    "start": "199599",
    "end": "200560"
  },
  {
    "text": "to update the information about itself",
    "start": "200560",
    "end": "205120"
  },
  {
    "text": "pd periodically check replication",
    "start": "205920",
    "end": "208319"
  },
  {
    "text": "constraint",
    "start": "208319",
    "end": "209440"
  },
  {
    "text": "to balance load and data automatically",
    "start": "209440",
    "end": "212400"
  },
  {
    "text": "across",
    "start": "212400",
    "end": "213120"
  },
  {
    "text": "node and the regions",
    "start": "213120",
    "end": "216239"
  },
  {
    "text": "and how does pd balance load and the",
    "start": "217200",
    "end": "219440"
  },
  {
    "text": "data",
    "start": "219440",
    "end": "221680"
  },
  {
    "text": "pd will collect stack every statistic",
    "start": "221680",
    "end": "224480"
  },
  {
    "text": "containing type 3 heartbeat",
    "start": "224480",
    "end": "227200"
  },
  {
    "text": "to help make a scheduling addition",
    "start": "227200",
    "end": "230799"
  },
  {
    "text": "before we come to the next part it is",
    "start": "230799",
    "end": "233599"
  },
  {
    "text": "better to know",
    "start": "233599",
    "end": "234480"
  },
  {
    "text": "how taiki will migrate a region through",
    "start": "234480",
    "end": "237040"
  },
  {
    "text": "the rafter algorithm",
    "start": "237040",
    "end": "241840"
  },
  {
    "text": "let's take a look at example",
    "start": "242560",
    "end": "245680"
  },
  {
    "text": "we have three nodes and three region",
    "start": "245680",
    "end": "248319"
  },
  {
    "text": "here",
    "start": "248319",
    "end": "250080"
  },
  {
    "text": "each region has three pairs which are",
    "start": "250080",
    "end": "252879"
  },
  {
    "text": "located on node",
    "start": "252879",
    "end": "254080"
  },
  {
    "text": "a b and c",
    "start": "254080",
    "end": "257919"
  },
  {
    "text": "we use the board border to mark the",
    "start": "257919",
    "end": "260479"
  },
  {
    "text": "leader",
    "start": "260479",
    "end": "262880"
  },
  {
    "text": "consider that we add a new node to the",
    "start": "264000",
    "end": "266840"
  },
  {
    "text": "cluster",
    "start": "266840",
    "end": "268720"
  },
  {
    "text": "pd has a scheduling decision which are",
    "start": "268720",
    "end": "272080"
  },
  {
    "text": "going to",
    "start": "272080",
    "end": "273120"
  },
  {
    "text": "migrate appear from the high load node a",
    "start": "273120",
    "end": "276800"
  },
  {
    "text": "to the newly added node d",
    "start": "276800",
    "end": "280478"
  },
  {
    "text": "we will show the detailed process in",
    "start": "280720",
    "end": "283680"
  },
  {
    "text": "next",
    "start": "283680",
    "end": "284080"
  },
  {
    "text": "few slides",
    "start": "284080",
    "end": "286800"
  },
  {
    "text": "assume it selects region 1 as",
    "start": "289600",
    "end": "292720"
  },
  {
    "text": "a source region and a node b as the",
    "start": "292720",
    "end": "295840"
  },
  {
    "text": "targeted node",
    "start": "295840",
    "end": "298000"
  },
  {
    "text": "pd will first gather the whole",
    "start": "298000",
    "end": "299919"
  },
  {
    "text": "scheduling steps",
    "start": "299919",
    "end": "302080"
  },
  {
    "text": "and combine them into a command",
    "start": "302080",
    "end": "305759"
  },
  {
    "text": "and extend it to thai kb the first",
    "start": "305759",
    "end": "310080"
  },
  {
    "text": "step of this command is to add a new",
    "start": "310080",
    "end": "312880"
  },
  {
    "text": "replica",
    "start": "312880",
    "end": "313680"
  },
  {
    "text": "in node d",
    "start": "313680",
    "end": "316320"
  },
  {
    "text": "since region 1 is a leader",
    "start": "320320",
    "end": "324160"
  },
  {
    "text": "we need to transfer the leader before",
    "start": "324160",
    "end": "326400"
  },
  {
    "text": "going on",
    "start": "326400",
    "end": "328000"
  },
  {
    "text": "so the next step is to transfer",
    "start": "328000",
    "end": "331199"
  },
  {
    "text": "the region's leader",
    "start": "331199",
    "end": "334240"
  },
  {
    "text": "after the leader is transferred pd will",
    "start": "336240",
    "end": "339440"
  },
  {
    "text": "execute",
    "start": "339440",
    "end": "340240"
  },
  {
    "text": "the next step to let taiki will remove",
    "start": "340240",
    "end": "343199"
  },
  {
    "text": "the replica",
    "start": "343199",
    "end": "344080"
  },
  {
    "text": "on node a when the above three steps are",
    "start": "344080",
    "end": "348240"
  },
  {
    "text": "down",
    "start": "348240",
    "end": "350240"
  },
  {
    "text": "now the region has a three replica which",
    "start": "350240",
    "end": "353280"
  },
  {
    "text": "are located on",
    "start": "353280",
    "end": "354400"
  },
  {
    "text": "node b c and d",
    "start": "354400",
    "end": "358479"
  },
  {
    "text": "that's how pd migrate region",
    "start": "358479",
    "end": "366639"
  },
  {
    "start": "365000",
    "end": "379000"
  },
  {
    "text": "now let's move on to the",
    "start": "366639",
    "end": "370240"
  },
  {
    "text": "elastic scheduling in thai kb",
    "start": "370240",
    "end": "374000"
  },
  {
    "text": "another question what is elastic",
    "start": "374000",
    "end": "378840"
  },
  {
    "text": "scattering",
    "start": "378840",
    "end": "380960"
  },
  {
    "start": "379000",
    "end": "438000"
  },
  {
    "text": "briefly speaking elastic scheduling is",
    "start": "380960",
    "end": "383919"
  },
  {
    "text": "auto scaling depending on the workloads",
    "start": "383919",
    "end": "387680"
  },
  {
    "text": "when the type cluster is deployed",
    "start": "387680",
    "end": "390880"
  },
  {
    "text": "normally the scale scaling of thai kv",
    "start": "390880",
    "end": "394800"
  },
  {
    "text": "cluster is able to handle the average",
    "start": "394800",
    "end": "397360"
  },
  {
    "text": "load",
    "start": "397360",
    "end": "398400"
  },
  {
    "text": "but sometimes the workload will become",
    "start": "398400",
    "end": "401199"
  },
  {
    "text": "larger",
    "start": "401199",
    "end": "402080"
  },
  {
    "text": "which requires operator to manually",
    "start": "402080",
    "end": "404800"
  },
  {
    "text": "scale out the type",
    "start": "404800",
    "end": "405919"
  },
  {
    "text": "qva cluster to handle the workloads",
    "start": "405919",
    "end": "410160"
  },
  {
    "text": "when heavy workloads get lower",
    "start": "410160",
    "end": "413520"
  },
  {
    "text": "the operator also needs to manually",
    "start": "413520",
    "end": "415520"
  },
  {
    "text": "skill in the carcass",
    "start": "415520",
    "end": "417039"
  },
  {
    "text": "cluster to save the resource and",
    "start": "417039",
    "end": "420840"
  },
  {
    "text": "cost the elastic scheduling",
    "start": "420840",
    "end": "423599"
  },
  {
    "text": "makes the whole process automatic",
    "start": "423599",
    "end": "428240"
  },
  {
    "text": "so why do we need or choose the elastic",
    "start": "430240",
    "end": "434000"
  },
  {
    "text": "scheduling here are three reasons",
    "start": "434000",
    "end": "438639"
  },
  {
    "start": "438000",
    "end": "535000"
  },
  {
    "text": "first elastic scheduling could handle",
    "start": "439680",
    "end": "442880"
  },
  {
    "text": "the unexpected traffic",
    "start": "442880",
    "end": "444720"
  },
  {
    "text": "automatically now today",
    "start": "444720",
    "end": "448240"
  },
  {
    "text": "we're leaving a word with huge amount of",
    "start": "448240",
    "end": "450639"
  },
  {
    "text": "information",
    "start": "450639",
    "end": "452080"
  },
  {
    "text": "and the breaking news always appear with",
    "start": "452080",
    "end": "454319"
  },
  {
    "text": "no prediction",
    "start": "454319",
    "end": "457039"
  },
  {
    "text": "here is the statistic about the storage",
    "start": "457039",
    "end": "459599"
  },
  {
    "text": "qps",
    "start": "459599",
    "end": "460720"
  },
  {
    "text": "for the operator about its business",
    "start": "460720",
    "end": "465759"
  },
  {
    "text": "as you can see most of the time the qps",
    "start": "465759",
    "end": "469599"
  },
  {
    "text": "for the storage layer stays low",
    "start": "469599",
    "end": "473360"
  },
  {
    "text": "and suddenly become larger at some point",
    "start": "473360",
    "end": "478319"
  },
  {
    "text": "after a short period of time the qpis",
    "start": "478319",
    "end": "481759"
  },
  {
    "text": "fall back to",
    "start": "481759",
    "end": "482639"
  },
  {
    "text": "low level again the changing curve",
    "start": "482639",
    "end": "486080"
  },
  {
    "text": "shows that it is difficult for the",
    "start": "486080",
    "end": "489280"
  },
  {
    "text": "operator to manually manage",
    "start": "489280",
    "end": "491440"
  },
  {
    "text": "the storage layer because the traffic is",
    "start": "491440",
    "end": "494000"
  },
  {
    "text": "unexpected",
    "start": "494000",
    "end": "496879"
  },
  {
    "text": "second elastic scheduling could help us",
    "start": "498960",
    "end": "502720"
  },
  {
    "text": "give the results when we don't need it",
    "start": "502720",
    "end": "506800"
  },
  {
    "text": "as the traffic is unexpected and the",
    "start": "506800",
    "end": "509680"
  },
  {
    "text": "operator needs to",
    "start": "509680",
    "end": "511280"
  },
  {
    "text": "need the ability to handle the heavy",
    "start": "511280",
    "end": "513919"
  },
  {
    "text": "workload",
    "start": "513919",
    "end": "515120"
  },
  {
    "text": "they have to pay the cost for actual",
    "start": "515120",
    "end": "519839"
  },
  {
    "text": "for the most of time these resources are",
    "start": "519839",
    "end": "522320"
  },
  {
    "text": "wasted",
    "start": "522320",
    "end": "524080"
  },
  {
    "text": "if the story has ability of elastic",
    "start": "524080",
    "end": "527120"
  },
  {
    "text": "scheduling",
    "start": "527120",
    "end": "528640"
  },
  {
    "text": "the results could be released when the",
    "start": "528640",
    "end": "531360"
  },
  {
    "text": "workload becomes low",
    "start": "531360",
    "end": "535839"
  },
  {
    "start": "535000",
    "end": "612000"
  },
  {
    "text": "finally the cloud infrastructure has",
    "start": "536480",
    "end": "539760"
  },
  {
    "text": "already become virtual nowaday",
    "start": "539760",
    "end": "542800"
  },
  {
    "text": "and the elastic scanner can benefit",
    "start": "542800",
    "end": "546000"
  },
  {
    "text": "from it as the cloud",
    "start": "546000",
    "end": "549360"
  },
  {
    "text": "infrastructure provides on-demand",
    "start": "549360",
    "end": "551440"
  },
  {
    "text": "availability",
    "start": "551440",
    "end": "552640"
  },
  {
    "text": "of computing resources",
    "start": "552640",
    "end": "555839"
  },
  {
    "text": "the elastic scheduling could apply for",
    "start": "555839",
    "end": "558640"
  },
  {
    "text": "resources",
    "start": "558640",
    "end": "559440"
  },
  {
    "text": "from the big cloud infra when they need",
    "start": "559440",
    "end": "562240"
  },
  {
    "text": "it",
    "start": "562240",
    "end": "562880"
  },
  {
    "text": "and release the resource at its own pace",
    "start": "562880",
    "end": "568080"
  },
  {
    "text": "moreover as a as could",
    "start": "568320",
    "end": "571839"
  },
  {
    "text": "as a kubernetes have has provided the",
    "start": "571839",
    "end": "574480"
  },
  {
    "text": "powerful api",
    "start": "574480",
    "end": "576000"
  },
  {
    "text": "to manage container and resources on",
    "start": "576000",
    "end": "578880"
  },
  {
    "text": "cluster",
    "start": "578880",
    "end": "579920"
  },
  {
    "text": "it is more convenient to manage the",
    "start": "579920",
    "end": "583120"
  },
  {
    "text": "stable stateful application",
    "start": "583120",
    "end": "586480"
  },
  {
    "text": "like distributed database for now",
    "start": "586480",
    "end": "590560"
  },
  {
    "text": "we have introduced the background of",
    "start": "590560",
    "end": "592720"
  },
  {
    "text": "thai kp",
    "start": "592720",
    "end": "593920"
  },
  {
    "text": "and elastic scheduling we also discussed",
    "start": "593920",
    "end": "598240"
  },
  {
    "text": "why we need or choose the elastic",
    "start": "598240",
    "end": "601600"
  },
  {
    "text": "scheduling",
    "start": "601600",
    "end": "602720"
  },
  {
    "text": "for the storage layer now we will have a",
    "start": "602720",
    "end": "605920"
  },
  {
    "text": "song",
    "start": "605920",
    "end": "606800"
  },
  {
    "text": "introduce the implementation in thai tv",
    "start": "606800",
    "end": "611519"
  },
  {
    "start": "612000",
    "end": "694000"
  },
  {
    "text": "okay thank you tong i'd like to move on",
    "start": "613279",
    "end": "617040"
  },
  {
    "text": "to the introduction of how thai kv",
    "start": "617040",
    "end": "619600"
  },
  {
    "text": "scheduling",
    "start": "619600",
    "end": "620640"
  },
  {
    "text": "builds is the last its elastic",
    "start": "620640",
    "end": "623440"
  },
  {
    "text": "scheduling management",
    "start": "623440",
    "end": "624959"
  },
  {
    "text": "mechanism based on these solutions",
    "start": "624959",
    "end": "629279"
  },
  {
    "text": "first introduction about the elastic",
    "start": "629279",
    "end": "632800"
  },
  {
    "text": "scheduling architecture",
    "start": "632800",
    "end": "634480"
  },
  {
    "text": "on tai kv",
    "start": "634480",
    "end": "637279"
  },
  {
    "text": "the architecture is composed of four",
    "start": "639279",
    "end": "641839"
  },
  {
    "text": "components",
    "start": "641839",
    "end": "643279"
  },
  {
    "text": "first the kkv cluster expose",
    "start": "643279",
    "end": "647440"
  },
  {
    "text": "its metrics of its status according",
    "start": "647440",
    "end": "650560"
  },
  {
    "text": "to the workloads second",
    "start": "650560",
    "end": "653600"
  },
  {
    "text": "the monitoring system like promises or",
    "start": "653600",
    "end": "656720"
  },
  {
    "text": "collects these metrics",
    "start": "656720",
    "end": "658880"
  },
  {
    "text": "the scheduling system which is called pd",
    "start": "658880",
    "end": "661760"
  },
  {
    "text": "here",
    "start": "661760",
    "end": "662560"
  },
  {
    "text": "will fetch the metrics from the",
    "start": "662560",
    "end": "664959"
  },
  {
    "text": "monitoring system",
    "start": "664959",
    "end": "666399"
  },
  {
    "text": "and calculate the auto scan plan",
    "start": "666399",
    "end": "669440"
  },
  {
    "text": "which is exposed by the api",
    "start": "669440",
    "end": "672800"
  },
  {
    "text": "finally the operator system will take",
    "start": "672800",
    "end": "676000"
  },
  {
    "text": "the auto scaling plan provided by the pd",
    "start": "676000",
    "end": "679600"
  },
  {
    "text": "and scale the techyv cluster",
    "start": "679600",
    "end": "683200"
  },
  {
    "text": "now we will explain how this",
    "start": "683200",
    "end": "685440"
  },
  {
    "text": "architecture",
    "start": "685440",
    "end": "686560"
  },
  {
    "text": "works by two parts the operator side",
    "start": "686560",
    "end": "689920"
  },
  {
    "text": "and the scheduling side",
    "start": "689920",
    "end": "693200"
  },
  {
    "start": "694000",
    "end": "759000"
  },
  {
    "text": "we use operator pattern a famous method",
    "start": "697600",
    "end": "701040"
  },
  {
    "text": "of packaging deploying and managing",
    "start": "701040",
    "end": "704560"
  },
  {
    "text": "the kubernetes application it is",
    "start": "704560",
    "end": "707519"
  },
  {
    "text": "basically",
    "start": "707519",
    "end": "708399"
  },
  {
    "text": "composed of two components the",
    "start": "708399",
    "end": "711200"
  },
  {
    "text": "controller",
    "start": "711200",
    "end": "712160"
  },
  {
    "text": "and the custom resource definition",
    "start": "712160",
    "end": "715519"
  },
  {
    "text": "which is also called crd we use",
    "start": "715519",
    "end": "718959"
  },
  {
    "text": "crd here as the elastic scheduling",
    "start": "718959",
    "end": "721760"
  },
  {
    "text": "configuration",
    "start": "721760",
    "end": "722959"
  },
  {
    "text": "for users after the configuration file",
    "start": "722959",
    "end": "726880"
  },
  {
    "text": "is deployed into the cluster",
    "start": "726880",
    "end": "730959"
  },
  {
    "text": "the schedule the controller will start",
    "start": "730959",
    "end": "733839"
  },
  {
    "text": "to check the configuration",
    "start": "733839",
    "end": "736560"
  },
  {
    "text": "fire periodically and carry",
    "start": "736560",
    "end": "739680"
  },
  {
    "text": "the auto scaling plant from the pd",
    "start": "739680",
    "end": "742880"
  },
  {
    "text": "as the operator manage the tag v cluster",
    "start": "742880",
    "end": "746079"
  },
  {
    "text": "on the kubernetes",
    "start": "746079",
    "end": "747760"
  },
  {
    "text": "after the operator gets the scaling plan",
    "start": "747760",
    "end": "750079"
  },
  {
    "text": "from the pd",
    "start": "750079",
    "end": "751360"
  },
  {
    "text": "the operator will start to scaling the",
    "start": "751360",
    "end": "753760"
  },
  {
    "text": "tachyv cluster",
    "start": "753760",
    "end": "754959"
  },
  {
    "text": "according to the plan",
    "start": "754959",
    "end": "759839"
  },
  {
    "text": "on the scheduling side the pd meaning do",
    "start": "760880",
    "end": "764079"
  },
  {
    "text": "two things first fetch the",
    "start": "764079",
    "end": "767440"
  },
  {
    "text": "metrics from promises as tacav has",
    "start": "767440",
    "end": "771120"
  },
  {
    "text": "exposed",
    "start": "771120",
    "end": "772959"
  },
  {
    "text": "many matches in lots of dimensions",
    "start": "772959",
    "end": "776720"
  },
  {
    "text": "the pd could use this information",
    "start": "776720",
    "end": "779760"
  },
  {
    "text": "and calculate the proper auto scaling",
    "start": "779760",
    "end": "782240"
  },
  {
    "text": "plan",
    "start": "782240",
    "end": "782800"
  },
  {
    "text": "for the operator",
    "start": "782800",
    "end": "787120"
  },
  {
    "start": "786000",
    "end": "866000"
  },
  {
    "text": "the second thing for scheduling is to",
    "start": "787120",
    "end": "790000"
  },
  {
    "text": "decide",
    "start": "790000",
    "end": "790720"
  },
  {
    "text": "the scheduling strategy in this elastic",
    "start": "790720",
    "end": "793839"
  },
  {
    "text": "scheduling situation",
    "start": "793839",
    "end": "796320"
  },
  {
    "text": "before we introduce this specific",
    "start": "796320",
    "end": "799279"
  },
  {
    "text": "strategy",
    "start": "799279",
    "end": "800160"
  },
  {
    "text": "for this situation we can imagine that",
    "start": "800160",
    "end": "803600"
  },
  {
    "text": "what if the pd take the newly created",
    "start": "803600",
    "end": "806959"
  },
  {
    "text": "elastic thai kv as a normal node",
    "start": "806959",
    "end": "810079"
  },
  {
    "text": "like normally scaling out as pd",
    "start": "810079",
    "end": "813600"
  },
  {
    "text": "would balance the data distribution",
    "start": "813600",
    "end": "816800"
  },
  {
    "text": "between each tv it will transfer",
    "start": "816800",
    "end": "820000"
  },
  {
    "text": "lots of regions to the newly created",
    "start": "820000",
    "end": "822720"
  },
  {
    "text": "type kv",
    "start": "822720",
    "end": "824079"
  },
  {
    "text": "as the data transferring need called",
    "start": "824079",
    "end": "826720"
  },
  {
    "text": "system resources",
    "start": "826720",
    "end": "828160"
  },
  {
    "text": "and also could cause latency",
    "start": "828160",
    "end": "832000"
  },
  {
    "text": "the default balancing scheduling",
    "start": "832000",
    "end": "833920"
  },
  {
    "text": "strategy couldn't work very well",
    "start": "833920",
    "end": "836480"
  },
  {
    "text": "for the scheduling elastic scheduling",
    "start": "836480",
    "end": "839839"
  },
  {
    "text": "to solve this problem the pd would only",
    "start": "839839",
    "end": "842880"
  },
  {
    "text": "transfer",
    "start": "842880",
    "end": "843519"
  },
  {
    "text": "the regions which is under high frequent",
    "start": "843519",
    "end": "846560"
  },
  {
    "text": "visiting or updating and their located",
    "start": "846560",
    "end": "849760"
  },
  {
    "text": "type kv should be under high load",
    "start": "849760",
    "end": "853040"
  },
  {
    "text": "we call these regions as hot regions",
    "start": "853040",
    "end": "857279"
  },
  {
    "text": "so how do pd only migrate the hot",
    "start": "857279",
    "end": "860639"
  },
  {
    "text": "regions",
    "start": "860639",
    "end": "861440"
  },
  {
    "text": "to the elastic scattering type kv node",
    "start": "861440",
    "end": "866320"
  },
  {
    "start": "866000",
    "end": "914000"
  },
  {
    "text": "before we answer this question we need",
    "start": "868480",
    "end": "870800"
  },
  {
    "text": "to know how we recognize",
    "start": "870800",
    "end": "872720"
  },
  {
    "text": "the hot region pd will record the read",
    "start": "872720",
    "end": "876720"
  },
  {
    "text": "and write flow of each region and stores",
    "start": "876720",
    "end": "880320"
  },
  {
    "text": "each store will maintain a top-end cash",
    "start": "880320",
    "end": "883839"
  },
  {
    "text": "to save the most hot region in this",
    "start": "883839",
    "end": "886480"
  },
  {
    "text": "store",
    "start": "886480",
    "end": "887839"
  },
  {
    "text": "if our region is beyond",
    "start": "887839",
    "end": "891199"
  },
  {
    "text": "a predefined threshold and continuously",
    "start": "891199",
    "end": "894399"
  },
  {
    "text": "heats the cash",
    "start": "894399",
    "end": "895839"
  },
  {
    "text": "we think this is a hard region with",
    "start": "895839",
    "end": "898959"
  },
  {
    "text": "this information the hot reading",
    "start": "898959",
    "end": "902000"
  },
  {
    "text": "scheduler",
    "start": "902000",
    "end": "902800"
  },
  {
    "text": "in pd will decide if migrating",
    "start": "902800",
    "end": "906079"
  },
  {
    "text": "the region can make this 10kv more",
    "start": "906079",
    "end": "910839"
  },
  {
    "text": "balanced",
    "start": "910839",
    "end": "913839"
  },
  {
    "start": "914000",
    "end": "1029000"
  },
  {
    "text": "since we have known about how pd",
    "start": "916000",
    "end": "918959"
  },
  {
    "text": "recognized",
    "start": "918959",
    "end": "919760"
  },
  {
    "text": "the whole region once the hot region",
    "start": "919760",
    "end": "923040"
  },
  {
    "text": "is selected the last thing is to find a",
    "start": "923040",
    "end": "926320"
  },
  {
    "text": "way",
    "start": "926320",
    "end": "926880"
  },
  {
    "text": "to only migrate it to the new lake",
    "start": "926880",
    "end": "930079"
  },
  {
    "text": "scaling node",
    "start": "930079",
    "end": "931680"
  },
  {
    "text": "tag tv supports using some predefined",
    "start": "931680",
    "end": "934720"
  },
  {
    "text": "label",
    "start": "934720",
    "end": "935519"
  },
  {
    "text": "to manage the data placement",
    "start": "935519",
    "end": "938959"
  },
  {
    "text": "so we can utilize this mechanism",
    "start": "938959",
    "end": "942880"
  },
  {
    "text": "actually pd has many kinds of",
    "start": "942880",
    "end": "946079"
  },
  {
    "text": "schedulers working at the same time",
    "start": "946079",
    "end": "949279"
  },
  {
    "text": "besides the hot reading schedule",
    "start": "949279",
    "end": "953040"
  },
  {
    "text": "when these schedulers start to schedule",
    "start": "953040",
    "end": "956399"
  },
  {
    "text": "we usually use some filters to filter",
    "start": "956399",
    "end": "959519"
  },
  {
    "text": "the stock which don't want it to be a",
    "start": "959519",
    "end": "962639"
  },
  {
    "text": "source",
    "start": "962639",
    "end": "963440"
  },
  {
    "text": "a target according to each scheduler's",
    "start": "963440",
    "end": "966560"
  },
  {
    "text": "rule",
    "start": "966560",
    "end": "967600"
  },
  {
    "text": "and thus we can create a new label for",
    "start": "967600",
    "end": "970639"
  },
  {
    "text": "newly scaling nodes",
    "start": "970639",
    "end": "972720"
  },
  {
    "text": "the label consists of key value pairs",
    "start": "972720",
    "end": "976240"
  },
  {
    "text": "the key of the label is special use",
    "start": "976240",
    "end": "979600"
  },
  {
    "text": "and the value is hot region",
    "start": "979600",
    "end": "984319"
  },
  {
    "text": "when the node is scaled out the label",
    "start": "984800",
    "end": "987920"
  },
  {
    "text": "will be added by the operator",
    "start": "987920",
    "end": "990880"
  },
  {
    "text": "automatically",
    "start": "990880",
    "end": "992639"
  },
  {
    "text": "pd will get this information once the",
    "start": "992639",
    "end": "995519"
  },
  {
    "text": "new link scaling node",
    "start": "995519",
    "end": "997120"
  },
  {
    "text": "sends its heartbeat for other schedulers",
    "start": "997120",
    "end": "1000399"
  },
  {
    "text": "such as",
    "start": "1000399",
    "end": "1001120"
  },
  {
    "text": "balance readings before we create them",
    "start": "1001120",
    "end": "1004880"
  },
  {
    "text": "we add a label filter which use",
    "start": "1004880",
    "end": "1008000"
  },
  {
    "text": "this new label to it this filter will",
    "start": "1008000",
    "end": "1011839"
  },
  {
    "text": "prevent",
    "start": "1011839",
    "end": "1012480"
  },
  {
    "text": "the store being selected as target",
    "start": "1012480",
    "end": "1015839"
  },
  {
    "text": "for example we only allow the hot",
    "start": "1015839",
    "end": "1018560"
  },
  {
    "text": "reading scheduler",
    "start": "1018560",
    "end": "1019839"
  },
  {
    "text": "to select the store 1 as the",
    "start": "1019839",
    "end": "1022880"
  },
  {
    "text": "target the rush scheduler cannot",
    "start": "1022880",
    "end": "1027918"
  },
  {
    "text": "here is an example of how elastic",
    "start": "1030799",
    "end": "1033520"
  },
  {
    "text": "scheduling configuration",
    "start": "1033520",
    "end": "1035120"
  },
  {
    "text": "looks like as you can see here the",
    "start": "1035120",
    "end": "1038160"
  },
  {
    "text": "configuration point out",
    "start": "1038160",
    "end": "1039760"
  },
  {
    "text": "the necessary factor and the patterns",
    "start": "1039760",
    "end": "1042240"
  },
  {
    "text": "the pd",
    "start": "1042240",
    "end": "1042959"
  },
  {
    "text": "needed during the calculation during",
    "start": "1042959",
    "end": "1046079"
  },
  {
    "text": "calculation the auto scaling plan",
    "start": "1046079",
    "end": "1048880"
  },
  {
    "text": "we can also define some concentrates",
    "start": "1048880",
    "end": "1051600"
  },
  {
    "text": "here",
    "start": "1051600",
    "end": "1052160"
  },
  {
    "text": "in order to limit the total counts of",
    "start": "1052160",
    "end": "1055280"
  },
  {
    "text": "scaling tac kv nodes as the",
    "start": "1055280",
    "end": "1058000"
  },
  {
    "text": "configuration",
    "start": "1058000",
    "end": "1059120"
  },
  {
    "text": "is managed by custom resources in",
    "start": "1059120",
    "end": "1061679"
  },
  {
    "text": "kubernetes",
    "start": "1061679",
    "end": "1063120"
  },
  {
    "text": "after the configuration is deployed the",
    "start": "1063120",
    "end": "1066080"
  },
  {
    "text": "elastic",
    "start": "1066080",
    "end": "1066799"
  },
  {
    "text": "scheduling will start working",
    "start": "1066799",
    "end": "1070720"
  },
  {
    "start": "1071000",
    "end": "1134000"
  },
  {
    "text": "now we will shoot experiment results",
    "start": "1073840",
    "end": "1076799"
  },
  {
    "text": "about",
    "start": "1076799",
    "end": "1077760"
  },
  {
    "text": "the elastic scheduling on thai tv",
    "start": "1077760",
    "end": "1081520"
  },
  {
    "text": "in this experiment we will use",
    "start": "1081520",
    "end": "1085520"
  },
  {
    "text": "tai db an open source distributed",
    "start": "1085520",
    "end": "1088720"
  },
  {
    "text": "database which used thai kv as storage",
    "start": "1088720",
    "end": "1092080"
  },
  {
    "text": "layer",
    "start": "1092080",
    "end": "1092799"
  },
  {
    "text": "and run the suspense a famous benchmark",
    "start": "1092799",
    "end": "1096000"
  },
  {
    "text": "tool",
    "start": "1096000",
    "end": "1096640"
  },
  {
    "text": "to show how elastic scheduling work",
    "start": "1096640",
    "end": "1099520"
  },
  {
    "text": "during the heavy workloads",
    "start": "1099520",
    "end": "1103039"
  },
  {
    "text": "this graph shows the relationship",
    "start": "1103039",
    "end": "1105919"
  },
  {
    "text": "between the regions",
    "start": "1105919",
    "end": "1107200"
  },
  {
    "text": "and the type kv the column indicates",
    "start": "1107200",
    "end": "1110640"
  },
  {
    "text": "the status for the dedicated kv",
    "start": "1110640",
    "end": "1113679"
  },
  {
    "text": "and the rows shows that the region and",
    "start": "1113679",
    "end": "1117120"
  },
  {
    "text": "its replication in each tai kv",
    "start": "1117120",
    "end": "1120880"
  },
  {
    "text": "the blue rectangle represents",
    "start": "1120880",
    "end": "1124160"
  },
  {
    "text": "a follower here for the region",
    "start": "1124160",
    "end": "1127360"
  },
  {
    "text": "and the graph rectangle represents",
    "start": "1127360",
    "end": "1130960"
  },
  {
    "text": "the leader for this region",
    "start": "1130960",
    "end": "1136880"
  },
  {
    "start": "1134000",
    "end": "1170000"
  },
  {
    "text": "as the thai kv cluster is consuming lots",
    "start": "1136880",
    "end": "1140240"
  },
  {
    "text": "of",
    "start": "1140240",
    "end": "1140559"
  },
  {
    "text": "cpu resources during benchmark",
    "start": "1140559",
    "end": "1143679"
  },
  {
    "text": "the elastic scheduling starts to deploy",
    "start": "1143679",
    "end": "1146640"
  },
  {
    "text": "two",
    "start": "1146640",
    "end": "1147039"
  },
  {
    "text": "new thai kv automatically at the",
    "start": "1147039",
    "end": "1150240"
  },
  {
    "text": "beginning",
    "start": "1150240",
    "end": "1150960"
  },
  {
    "text": "of the elastic tech av is created",
    "start": "1150960",
    "end": "1154640"
  },
  {
    "text": "there are no regions being scheduled",
    "start": "1154640",
    "end": "1159520"
  },
  {
    "text": "to the elastic scheduling thai kv",
    "start": "1159520",
    "end": "1163120"
  },
  {
    "text": "so we can see the sysbench result",
    "start": "1163120",
    "end": "1166320"
  },
  {
    "text": "didn't change yet",
    "start": "1166320",
    "end": "1169679"
  },
  {
    "start": "1170000",
    "end": "1209000"
  },
  {
    "text": "after the pd transferring some hot",
    "start": "1171919",
    "end": "1174799"
  },
  {
    "text": "regions",
    "start": "1174799",
    "end": "1175600"
  },
  {
    "text": "to elastic tachyv nodes as you can see",
    "start": "1175600",
    "end": "1179120"
  },
  {
    "text": "there already exists some red rectangles",
    "start": "1179120",
    "end": "1182240"
  },
  {
    "text": "under the elastic techniques column",
    "start": "1182240",
    "end": "1186480"
  },
  {
    "text": "now we can find that both the tps",
    "start": "1186480",
    "end": "1190160"
  },
  {
    "text": "and the qps of suspense",
    "start": "1190160",
    "end": "1193840"
  },
  {
    "text": "have increased the whole process",
    "start": "1193840",
    "end": "1196960"
  },
  {
    "text": "shows that the elastic scheduling",
    "start": "1196960",
    "end": "1199360"
  },
  {
    "text": "automatically",
    "start": "1199360",
    "end": "1200480"
  },
  {
    "text": "detects the workloads and the scaling",
    "start": "1200480",
    "end": "1203360"
  },
  {
    "text": "the cluster",
    "start": "1203360",
    "end": "1204320"
  },
  {
    "text": "to improve the performance",
    "start": "1204320",
    "end": "1207840"
  },
  {
    "start": "1209000",
    "end": "1222000"
  },
  {
    "text": "in addition we are going to support more",
    "start": "1210559",
    "end": "1213440"
  },
  {
    "text": "features",
    "start": "1213440",
    "end": "1214240"
  },
  {
    "text": "with elastic scheduling in the future",
    "start": "1214240",
    "end": "1217760"
  },
  {
    "text": "here are some ideas",
    "start": "1217760",
    "end": "1221840"
  },
  {
    "start": "1222000",
    "end": "1302000"
  },
  {
    "text": "the first is to dynamically increase",
    "start": "1223520",
    "end": "1226640"
  },
  {
    "text": "the read-only replicas according to",
    "start": "1226640",
    "end": "1230159"
  },
  {
    "text": "workloads as we know kv",
    "start": "1230159",
    "end": "1234640"
  },
  {
    "text": "only can read data from the region's",
    "start": "1234640",
    "end": "1237200"
  },
  {
    "text": "leader",
    "start": "1237200",
    "end": "1238159"
  },
  {
    "text": "in the earlier version but now we",
    "start": "1238159",
    "end": "1241200"
  },
  {
    "text": "support follower read",
    "start": "1241200",
    "end": "1242960"
  },
  {
    "text": "and thus we can read data from followers",
    "start": "1242960",
    "end": "1246840"
  },
  {
    "text": "also when the reap pressure is high",
    "start": "1246840",
    "end": "1251039"
  },
  {
    "text": "it will increase the read-only replicas",
    "start": "1251039",
    "end": "1254080"
  },
  {
    "text": "automatically which can greatly help us",
    "start": "1254080",
    "end": "1257440"
  },
  {
    "text": "reduce the weight pressure when the read",
    "start": "1257440",
    "end": "1260799"
  },
  {
    "text": "pressure",
    "start": "1260799",
    "end": "1261520"
  },
  {
    "text": "becomes low it will switch back to the",
    "start": "1261520",
    "end": "1264559"
  },
  {
    "text": "original state",
    "start": "1264559",
    "end": "1267520"
  },
  {
    "text": "the second is in some seniors",
    "start": "1270400",
    "end": "1273520"
  },
  {
    "text": "there is some data which is barely",
    "start": "1273520",
    "end": "1276400"
  },
  {
    "text": "accessed",
    "start": "1276400",
    "end": "1278080"
  },
  {
    "text": "it's better to move this kind of data to",
    "start": "1278080",
    "end": "1281120"
  },
  {
    "text": "the cheaper storage",
    "start": "1281120",
    "end": "1282880"
  },
  {
    "text": "in order to save the cost combined with",
    "start": "1282880",
    "end": "1286320"
  },
  {
    "text": "elastic scheduling",
    "start": "1286320",
    "end": "1287919"
  },
  {
    "text": "we can make the cluster recognize this",
    "start": "1287919",
    "end": "1290799"
  },
  {
    "text": "kind of data",
    "start": "1290799",
    "end": "1292080"
  },
  {
    "text": "automatically and decide to scale out",
    "start": "1292080",
    "end": "1295600"
  },
  {
    "text": "the cheaper storage and scale in the",
    "start": "1295600",
    "end": "1298720"
  },
  {
    "text": "highly paid storage",
    "start": "1298720",
    "end": "1304400"
  },
  {
    "start": "1302000",
    "end": "1327000"
  },
  {
    "text": "this is basically everything we want to",
    "start": "1304400",
    "end": "1307039"
  },
  {
    "text": "cover",
    "start": "1307039",
    "end": "1307760"
  },
  {
    "text": "in this talk thank you very much for",
    "start": "1307760",
    "end": "1310799"
  },
  {
    "text": "attending",
    "start": "1310799",
    "end": "1311919"
  },
  {
    "text": "if you are interested in what we are",
    "start": "1311919",
    "end": "1314320"
  },
  {
    "text": "doing",
    "start": "1314320",
    "end": "1315120"
  },
  {
    "text": "you are welcome to join us if you have",
    "start": "1315120",
    "end": "1318240"
  },
  {
    "text": "any questions regarding what we have",
    "start": "1318240",
    "end": "1320480"
  },
  {
    "text": "talked",
    "start": "1320480",
    "end": "1321360"
  },
  {
    "text": "please ask",
    "start": "1321360",
    "end": "1324158"
  },
  {
    "text": "thank you very much",
    "start": "1324480",
    "end": "1329600"
  }
]