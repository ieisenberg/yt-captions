[
  {
    "text": "hello",
    "start": "240",
    "end": "1080"
  },
  {
    "text": "everyone uh welcome to this session on",
    "start": "1080",
    "end": "4240"
  },
  {
    "text": "SAP's AI platform and some challenges",
    "start": "4240",
    "end": "6799"
  },
  {
    "text": "that we've had essentially this is more",
    "start": "6799",
    "end": "9040"
  },
  {
    "text": "of a talk about scaling challenges that",
    "start": "9040",
    "end": "11360"
  },
  {
    "text": "we've had and how we've solved problems",
    "start": "11360",
    "end": "13920"
  },
  {
    "text": "with scaling",
    "start": "13920",
    "end": "15240"
  },
  {
    "text": "ISTTO i'm Darren this is Geralt who'll",
    "start": "15240",
    "end": "18560"
  },
  {
    "text": "be talking with me and not here today if",
    "start": "18560",
    "end": "22160"
  },
  {
    "text": "I can",
    "start": "22160",
    "end": "25279"
  },
  {
    "text": "uh Liisa and Ahmed our colleagues from",
    "start": "25279",
    "end": "27840"
  },
  {
    "text": "Singapore uh they created the initial",
    "start": "27840",
    "end": "30080"
  },
  {
    "text": "version of this presentation but",
    "start": "30080",
    "end": "31840"
  },
  {
    "text": "unfortunately couldn't be with us here",
    "start": "31840",
    "end": "33520"
  },
  {
    "text": "in London so Geralt and I are the the",
    "start": "33520",
    "end": "35920"
  },
  {
    "text": "European delegation here",
    "start": "35920",
    "end": "38920"
  },
  {
    "text": "instead so I'll do a little bit of a",
    "start": "38920",
    "end": "41360"
  },
  {
    "text": "brief introduction to SAP and the AI",
    "start": "41360",
    "end": "43760"
  },
  {
    "text": "foundation which is the the platform",
    "start": "43760",
    "end": "45440"
  },
  {
    "text": "that we use and then we'll look deeply",
    "start": "45440",
    "end": "48320"
  },
  {
    "text": "at these six different scaling",
    "start": "48320",
    "end": "50000"
  },
  {
    "text": "challenges that we've had and how we've",
    "start": "50000",
    "end": "51520"
  },
  {
    "text": "overcome them and the lessons we've",
    "start": "51520",
    "end": "53199"
  },
  {
    "text": "learned hopefully then there's also a",
    "start": "53199",
    "end": "55199"
  },
  {
    "text": "bit of time for Q&A at the",
    "start": "55199",
    "end": "58039"
  },
  {
    "text": "end so SAP first of all anybody here not",
    "start": "58039",
    "end": "61840"
  },
  {
    "text": "heard of",
    "start": "61840",
    "end": "63400"
  },
  {
    "text": "SAP everyone's heard of SAP oh one",
    "start": "63400",
    "end": "66560"
  },
  {
    "text": "person hasn't great you'll love this",
    "start": "66560",
    "end": "68240"
  },
  {
    "text": "next slide",
    "start": "68240",
    "end": "70680"
  },
  {
    "text": "great so as of last week SAP is now",
    "start": "70680",
    "end": "74640"
  },
  {
    "text": "Europe's largest company by market cap",
    "start": "74640",
    "end": "77200"
  },
  {
    "text": "so we're the Apple of",
    "start": "77200",
    "end": "80040"
  },
  {
    "text": "Europe we're founded just over 50 years",
    "start": "80040",
    "end": "82560"
  },
  {
    "text": "ago our customers account for over 80%",
    "start": "82560",
    "end": "85840"
  },
  {
    "text": "of the world's global commerce more",
    "start": "85840",
    "end": "88000"
  },
  {
    "text": "importantly over 70% of the world's beer",
    "start": "88000",
    "end": "90720"
  },
  {
    "text": "and 70% of the world's chocolate so",
    "start": "90720",
    "end": "93040"
  },
  {
    "text": "we're on a",
    "start": "93040",
    "end": "93710"
  },
  {
    "text": "[Applause]",
    "start": "93710",
    "end": "95079"
  },
  {
    "text": "mission our cloud solutions have got",
    "start": "95079",
    "end": "97360"
  },
  {
    "text": "over 300 million users globally and we",
    "start": "97360",
    "end": "99840"
  },
  {
    "text": "run across all the major hyperscalers as",
    "start": "99840",
    "end": "102079"
  },
  {
    "text": "well as in our own data centers so",
    "start": "102079",
    "end": "104479"
  },
  {
    "text": "that's a major part of what comes up",
    "start": "104479",
    "end": "107920"
  },
  {
    "text": "so the AI foundation that's the part",
    "start": "107920",
    "end": "110000"
  },
  {
    "text": "within SAP where we run all of our AI",
    "start": "110000",
    "end": "112759"
  },
  {
    "text": "stuff uh that's boiled into three main",
    "start": "112759",
    "end": "115880"
  },
  {
    "text": "sections so first of all there's a",
    "start": "115880",
    "end": "118079"
  },
  {
    "text": "training part and that's where tenants",
    "start": "118079",
    "end": "120719"
  },
  {
    "text": "which can be internal business",
    "start": "120719",
    "end": "122079"
  },
  {
    "text": "applications or SAP customers they can",
    "start": "122079",
    "end": "124719"
  },
  {
    "text": "bring their data from something like an",
    "start": "124719",
    "end": "126399"
  },
  {
    "text": "S3 bucket they bring their own container",
    "start": "126399",
    "end": "128959"
  },
  {
    "text": "image and we give them a GPU on a",
    "start": "128959",
    "end": "131840"
  },
  {
    "text": "Kubernetes node where can then they can",
    "start": "131840",
    "end": "134080"
  },
  {
    "text": "run their code train the model and then",
    "start": "134080",
    "end": "136879"
  },
  {
    "text": "store it back on",
    "start": "136879",
    "end": "139080"
  },
  {
    "text": "S3 so next after that we have the",
    "start": "139080",
    "end": "141440"
  },
  {
    "text": "serving part and that's where tenants",
    "start": "141440",
    "end": "143760"
  },
  {
    "text": "can bring these models that they've",
    "start": "143760",
    "end": "145120"
  },
  {
    "text": "stored in an S3 bucket uh they bring",
    "start": "145120",
    "end": "147599"
  },
  {
    "text": "that with another container image and we",
    "start": "147599",
    "end": "149520"
  },
  {
    "text": "give them another node with another GPU",
    "start": "149520",
    "end": "152080"
  },
  {
    "text": "maybe a smaller one and then they can",
    "start": "152080",
    "end": "154000"
  },
  {
    "text": "run that model for serving so people can",
    "start": "154000",
    "end": "156400"
  },
  {
    "text": "then use their trained",
    "start": "156400",
    "end": "158519"
  },
  {
    "text": "model and then finally we've got the",
    "start": "158519",
    "end": "161040"
  },
  {
    "text": "generative AI piece so that's where we",
    "start": "161040",
    "end": "163920"
  },
  {
    "text": "give access to a whole range of",
    "start": "163920",
    "end": "165599"
  },
  {
    "text": "different large language models over 40",
    "start": "165599",
    "end": "167680"
  },
  {
    "text": "at the last count so customers don't",
    "start": "167680",
    "end": "169920"
  },
  {
    "text": "have to sign contracts with multiple",
    "start": "169920",
    "end": "171599"
  },
  {
    "text": "different vendors they can just come to",
    "start": "171599",
    "end": "173280"
  },
  {
    "text": "SAP and use all of the models we host",
    "start": "173280",
    "end": "175680"
  },
  {
    "text": "some of them ourselves and we talk to",
    "start": "175680",
    "end": "178560"
  },
  {
    "text": "partners for others and within that",
    "start": "178560",
    "end": "181120"
  },
  {
    "text": "there's also this orchestration layer",
    "start": "181120",
    "end": "182640"
  },
  {
    "text": "where you can do prompt templating",
    "start": "182640",
    "end": "184319"
  },
  {
    "text": "content filtering and so on so it's it's",
    "start": "184319",
    "end": "186560"
  },
  {
    "text": "all about providing the tools that you",
    "start": "186560",
    "end": "188879"
  },
  {
    "text": "need to do an AI enabled business",
    "start": "188879",
    "end": "192920"
  },
  {
    "text": "application so the platform runs almost",
    "start": "192920",
    "end": "195680"
  },
  {
    "text": "entirely on",
    "start": "195680",
    "end": "197640"
  },
  {
    "text": "open-source um so we use something",
    "start": "197640",
    "end": "200080"
  },
  {
    "text": "called gardener which has anyone heard",
    "start": "200080",
    "end": "202000"
  },
  {
    "text": "of",
    "start": "202000",
    "end": "203000"
  },
  {
    "text": "gardener yes fantastic so Gardner is",
    "start": "203000",
    "end": "206800"
  },
  {
    "text": "SAP's open- source project for",
    "start": "206800",
    "end": "208879"
  },
  {
    "text": "Kubernetes as a service at scale so when",
    "start": "208879",
    "end": "212159"
  },
  {
    "text": "I said we run on all the hyperscalers",
    "start": "212159",
    "end": "214159"
  },
  {
    "text": "and our own data center that's what",
    "start": "214159",
    "end": "216080"
  },
  {
    "text": "gardener enables us to do um so instead",
    "start": "216080",
    "end": "218879"
  },
  {
    "text": "of using the Azure specific Kubernetes",
    "start": "218879",
    "end": "221280"
  },
  {
    "text": "distribution for example we just talk to",
    "start": "221280",
    "end": "223599"
  },
  {
    "text": "gardener as a user interface and that",
    "start": "223599",
    "end": "225840"
  },
  {
    "text": "lets us spin up the clusters on all of",
    "start": "225840",
    "end": "227920"
  },
  {
    "text": "the hyperscalers and our own data",
    "start": "227920",
    "end": "229440"
  },
  {
    "text": "centers just with a single interface",
    "start": "229440",
    "end": "232319"
  },
  {
    "text": "then of course we use ISTTO for all of",
    "start": "232319",
    "end": "234159"
  },
  {
    "text": "our traffic management in cluster and",
    "start": "234159",
    "end": "235760"
  },
  {
    "text": "all of our",
    "start": "235760",
    "end": "236760"
  },
  {
    "text": "security um Argo workflows is the engine",
    "start": "236760",
    "end": "240159"
  },
  {
    "text": "that we use for the training side of",
    "start": "240159",
    "end": "241920"
  },
  {
    "text": "things kserve provides the serving kind",
    "start": "241920",
    "end": "244720"
  },
  {
    "text": "of side of things and then for the large",
    "start": "244720",
    "end": "247360"
  },
  {
    "text": "language models that we host ourselves",
    "start": "247360",
    "end": "249200"
  },
  {
    "text": "we use the LLM for that so on top of",
    "start": "249200",
    "end": "252319"
  },
  {
    "text": "that we've also got a whole bunch of",
    "start": "252319",
    "end": "253680"
  },
  {
    "text": "other open-source services that we use",
    "start": "253680",
    "end": "255680"
  },
  {
    "text": "for for the kind of system level stuff",
    "start": "255680",
    "end": "257840"
  },
  {
    "text": "so logging certificate management DNS",
    "start": "257840",
    "end": "260079"
  },
  {
    "text": "and so on and then there's the",
    "start": "260079",
    "end": "261919"
  },
  {
    "text": "components we build ourselves which are",
    "start": "261919",
    "end": "263680"
  },
  {
    "text": "what's needed to make an actual business",
    "start": "263680",
    "end": "265360"
  },
  {
    "text": "platform multi-tenant secure and all of",
    "start": "265360",
    "end": "267919"
  },
  {
    "text": "that",
    "start": "267919",
    "end": "269560"
  },
  {
    "text": "stuff so SAP and open source you know we",
    "start": "269560",
    "end": "272720"
  },
  {
    "text": "consume all of these open source",
    "start": "272720",
    "end": "274280"
  },
  {
    "text": "components we're not a company that just",
    "start": "274280",
    "end": "276560"
  },
  {
    "text": "consumes and doesn't give back um so on",
    "start": "276560",
    "end": "279199"
  },
  {
    "text": "the right hand side you can see we're",
    "start": "279199",
    "end": "280960"
  },
  {
    "text": "members of a whole bunch of open source",
    "start": "280960",
    "end": "283040"
  },
  {
    "text": "related foundations on the left hand",
    "start": "283040",
    "end": "285280"
  },
  {
    "text": "side there's just a small selection of",
    "start": "285280",
    "end": "287520"
  },
  {
    "text": "the open source projects that we",
    "start": "287520",
    "end": "288960"
  },
  {
    "text": "contribute to with with commits um",
    "start": "288960",
    "end": "291759"
  },
  {
    "text": "including the main components of the AI",
    "start": "291759",
    "end": "293919"
  },
  {
    "text": "foundation and things like open JDK open",
    "start": "293919",
    "end": "297080"
  },
  {
    "text": "UI5 there's many more these are just the",
    "start": "297080",
    "end": "299680"
  },
  {
    "text": "main ones that are relevant",
    "start": "299680",
    "end": "302120"
  },
  {
    "text": "here and to to finalize the context side",
    "start": "302120",
    "end": "305199"
  },
  {
    "text": "of things so what I've been talking",
    "start": "305199",
    "end": "306560"
  },
  {
    "text": "about so far this AI foundation that's",
    "start": "306560",
    "end": "309039"
  },
  {
    "text": "the kind of third slab down in here",
    "start": "309039",
    "end": "311440"
  },
  {
    "text": "below that are the the hyperscalers and",
    "start": "311440",
    "end": "313360"
  },
  {
    "text": "LLM partners and everything that we talk",
    "start": "313360",
    "end": "315479"
  },
  {
    "text": "to above that is this uh where it says",
    "start": "315479",
    "end": "318720"
  },
  {
    "text": "embedded AI capabilities that's actually",
    "start": "318720",
    "end": "321120"
  },
  {
    "text": "the SAP business applications so in",
    "start": "321120",
    "end": "323759"
  },
  {
    "text": "terms of what SAP does as a company we",
    "start": "323759",
    "end": "325759"
  },
  {
    "text": "sell business applications that's the",
    "start": "325759",
    "end": "327759"
  },
  {
    "text": "meat of it there and and customized AI",
    "start": "327759",
    "end": "330400"
  },
  {
    "text": "is where external customers can bring",
    "start": "330400",
    "end": "332000"
  },
  {
    "text": "their own AI loads and finally on top we",
    "start": "332000",
    "end": "334800"
  },
  {
    "text": "have this thing called Juul that's",
    "start": "334800",
    "end": "336560"
  },
  {
    "text": "basically chat GPT for SAP it lets",
    "start": "336560",
    "end": "339520"
  },
  {
    "text": "people talk we're using natural language",
    "start": "339520",
    "end": "341680"
  },
  {
    "text": "they can ask questions of the system and",
    "start": "341680",
    "end": "343600"
  },
  {
    "text": "that will translate that into calling",
    "start": "343600",
    "end": "345120"
  },
  {
    "text": "the underlying uh business",
    "start": "345120",
    "end": "347479"
  },
  {
    "text": "services so with that introduction I'll",
    "start": "347479",
    "end": "350000"
  },
  {
    "text": "now pass over to Geralt and you can do a",
    "start": "350000",
    "end": "351919"
  },
  {
    "text": "little bit more of a deep dive into our",
    "start": "351919",
    "end": "354199"
  },
  {
    "text": "architecture okay thanks Darren yeah now",
    "start": "354199",
    "end": "357759"
  },
  {
    "text": "let's come to our main uh course of the",
    "start": "357759",
    "end": "360400"
  },
  {
    "text": "presentation the challenges that we met",
    "start": "360400",
    "end": "363280"
  },
  {
    "text": "uh let me first introduce uh quickly the",
    "start": "363280",
    "end": "366560"
  },
  {
    "text": "architecture of AI foundation",
    "start": "366560",
    "end": "369680"
  },
  {
    "text": "so um like tenant like uh like Devon",
    "start": "369680",
    "end": "372960"
  },
  {
    "text": "already introduced um we uh offer tenant",
    "start": "372960",
    "end": "376479"
  },
  {
    "text": "the the uh possibility to um define",
    "start": "376479",
    "end": "379840"
  },
  {
    "text": "workloads and then we run the workloads",
    "start": "379840",
    "end": "382160"
  },
  {
    "text": "and then they can use the workloads uh",
    "start": "382160",
    "end": "385680"
  },
  {
    "text": "so tenants uh bring their container we",
    "start": "385680",
    "end": "388800"
  },
  {
    "text": "run it and then they can use it for",
    "start": "388800",
    "end": "390400"
  },
  {
    "text": "inference or for training also what we",
    "start": "390400",
    "end": "393280"
  },
  {
    "text": "offer is that tenants can uh subscribe",
    "start": "393280",
    "end": "396560"
  },
  {
    "text": "to LLMs",
    "start": "396560",
    "end": "398720"
  },
  {
    "text": "uh either LLMs provided by hyperscalers",
    "start": "398720",
    "end": "402000"
  },
  {
    "text": "or um LLMs that SAP hosts in",
    "start": "402000",
    "end": "405720"
  },
  {
    "text": "inside um so that's here on the right",
    "start": "405720",
    "end": "408240"
  },
  {
    "text": "the geni proxy so tenants they send uh",
    "start": "408240",
    "end": "412479"
  },
  {
    "text": "then inference requests to our geni",
    "start": "412479",
    "end": "415919"
  },
  {
    "text": "proxy and we forward them to LLMs or",
    "start": "415919",
    "end": "418960"
  },
  {
    "text": "they send uh inference requests to the",
    "start": "418960",
    "end": "421440"
  },
  {
    "text": "workloads that they own or they send",
    "start": "421440",
    "end": "424800"
  },
  {
    "text": "administrative requests to our",
    "start": "424800",
    "end": "426800"
  },
  {
    "text": "management API so these requests they",
    "start": "426800",
    "end": "429360"
  },
  {
    "text": "are to set up things to uh do",
    "start": "429360",
    "end": "431440"
  },
  {
    "text": "subscriptions on uh hosted models or to",
    "start": "431440",
    "end": "434639"
  },
  {
    "text": "define the workloads or to start and",
    "start": "434639",
    "end": "436400"
  },
  {
    "text": "stop the workloads and it's uh this uh",
    "start": "436400",
    "end": "439440"
  },
  {
    "text": "management API that then configures ISTU",
    "start": "439440",
    "end": "442000"
  },
  {
    "text": "that uh sets up the inress management",
    "start": "442000",
    "end": "443759"
  },
  {
    "text": "for the routing the the inress uh",
    "start": "443759",
    "end": "446000"
  },
  {
    "text": "traffic management for the routing and",
    "start": "446000",
    "end": "447919"
  },
  {
    "text": "that also sets up the authentication and",
    "start": "447919",
    "end": "449759"
  },
  {
    "text": "the authorization so the tenants can",
    "start": "449759",
    "end": "452240"
  },
  {
    "text": "access only what they are allowed to",
    "start": "452240",
    "end": "454440"
  },
  {
    "text": "access also uh these workloads on the",
    "start": "454440",
    "end": "458160"
  },
  {
    "text": "bottom they produce a lot of telemetry",
    "start": "458160",
    "end": "460160"
  },
  {
    "text": "data which is relevant for the tenants",
    "start": "460160",
    "end": "462479"
  },
  {
    "text": "and we give access to the to this data",
    "start": "462479",
    "end": "465759"
  },
  {
    "text": "um by logging system so we have logging",
    "start": "465759",
    "end": "468639"
  },
  {
    "text": "systems that allows then tenants to",
    "start": "468639",
    "end": "470479"
  },
  {
    "text": "access this telemetry",
    "start": "470479",
    "end": "472199"
  },
  {
    "text": "data and also these workloads they for",
    "start": "472199",
    "end": "475759"
  },
  {
    "text": "example training needs training data and",
    "start": "475759",
    "end": "478319"
  },
  {
    "text": "uh wants to push the resulting model",
    "start": "478319",
    "end": "480599"
  },
  {
    "text": "somewhere so we also need to deal with",
    "start": "480599",
    "end": "483520"
  },
  {
    "text": "eress and set up um the egress rules for",
    "start": "483520",
    "end": "486639"
  },
  {
    "text": "these workloads and all of this has to",
    "start": "486639",
    "end": "488960"
  },
  {
    "text": "be uh secure so we need to do a traffic",
    "start": "488960",
    "end": "492080"
  },
  {
    "text": "isolation and uh isolate data and uh of",
    "start": "492080",
    "end": "496319"
  },
  {
    "text": "course certain regulatory requirements",
    "start": "496319",
    "end": "499759"
  },
  {
    "text": "now I'm handing back to Darren to",
    "start": "499759",
    "end": "502639"
  },
  {
    "text": "introduce the first",
    "start": "502639",
    "end": "504440"
  },
  {
    "text": "challenge okay thanks Carol so now we",
    "start": "504440",
    "end": "507280"
  },
  {
    "text": "deep dive into the STTO part of things",
    "start": "507280",
    "end": "509759"
  },
  {
    "text": "um so each of these challenges you'll",
    "start": "509759",
    "end": "511520"
  },
  {
    "text": "see the same diagram on the right hand",
    "start": "511520",
    "end": "513200"
  },
  {
    "text": "side that we just saw and there's a red",
    "start": "513200",
    "end": "515039"
  },
  {
    "text": "box that'll highlight the bit that we're",
    "start": "515039",
    "end": "516640"
  },
  {
    "text": "talking about",
    "start": "516640",
    "end": "518640"
  },
  {
    "text": "so the ingress gateway um what that's",
    "start": "518640",
    "end": "521200"
  },
  {
    "text": "doing for us is it's um pre-processing",
    "start": "521200",
    "end": "523680"
  },
  {
    "text": "the the JSON web token that's embedded",
    "start": "523680",
    "end": "525839"
  },
  {
    "text": "with every request and in this case it's",
    "start": "525839",
    "end": "528800"
  },
  {
    "text": "among other things extracting the tenant",
    "start": "528800",
    "end": "531440"
  },
  {
    "text": "information from that JSON web",
    "start": "531440",
    "end": "533480"
  },
  {
    "text": "token now we started off by implementing",
    "start": "533480",
    "end": "536959"
  },
  {
    "text": "a lure filter to extract that tenant",
    "start": "536959",
    "end": "539360"
  },
  {
    "text": "information and inject it back into the",
    "start": "539360",
    "end": "541360"
  },
  {
    "text": "request as a header for the other",
    "start": "541360",
    "end": "542880"
  },
  {
    "text": "components to look at um under very high",
    "start": "542880",
    "end": "546560"
  },
  {
    "text": "load we started to see a lot of latency",
    "start": "546560",
    "end": "548959"
  },
  {
    "text": "there so we're seeing up to 60",
    "start": "548959",
    "end": "550720"
  },
  {
    "text": "milliseconds latency at times which is",
    "start": "550720",
    "end": "553440"
  },
  {
    "text": "you know translated is less than 20",
    "start": "553440",
    "end": "555440"
  },
  {
    "text": "requests a second now for you know",
    "start": "555440",
    "end": "557839"
  },
  {
    "text": "massively multi-tenant you know system",
    "start": "557839",
    "end": "560240"
  },
  {
    "text": "with hundreds if not thousands of",
    "start": "560240",
    "end": "562160"
  },
  {
    "text": "requests per second coming in that was",
    "start": "562160",
    "end": "564560"
  },
  {
    "text": "no good at all so we looked at Wom",
    "start": "564560",
    "end": "567600"
  },
  {
    "text": "instead we implemented a version of the",
    "start": "567600",
    "end": "569279"
  },
  {
    "text": "filter in Wom um unfortunately we were",
    "start": "569279",
    "end": "572240"
  },
  {
    "text": "using the tiny Go SDK to compile into",
    "start": "572240",
    "end": "575040"
  },
  {
    "text": "WOM from Go uh that ran out of support",
    "start": "575040",
    "end": "578320"
  },
  {
    "text": "it stopped being maintained and had some",
    "start": "578320",
    "end": "580640"
  },
  {
    "text": "stability issues as well so that stopped",
    "start": "580640",
    "end": "582959"
  },
  {
    "text": "working for us so the solution then was",
    "start": "582959",
    "end": "586720"
  },
  {
    "text": "to use an external processor for Envoy",
    "start": "586720",
    "end": "589680"
  },
  {
    "text": "so Envoy lets you configure um a gRPC",
    "start": "589680",
    "end": "593760"
  },
  {
    "text": "service running somewhere else so we",
    "start": "593760",
    "end": "595760"
  },
  {
    "text": "could delegate all of this logic to a",
    "start": "595760",
    "end": "597839"
  },
  {
    "text": "native Go component running as a",
    "start": "597839",
    "end": "600320"
  },
  {
    "text": "deployment that could scale",
    "start": "600320",
    "end": "601480"
  },
  {
    "text": "independently and then envoy just uses",
    "start": "601480",
    "end": "604160"
  },
  {
    "text": "gRPC to do the",
    "start": "604160",
    "end": "607000"
  },
  {
    "text": "decoding so what we learned from there",
    "start": "607000",
    "end": "609120"
  },
  {
    "text": "is that envoy filters in lure they're",
    "start": "609120",
    "end": "611279"
  },
  {
    "text": "they're fine up to a certain point but",
    "start": "611279",
    "end": "613680"
  },
  {
    "text": "if you start hitting serious scale uh",
    "start": "613680",
    "end": "616320"
  },
  {
    "text": "the performance can be lacking so after",
    "start": "616320",
    "end": "618800"
  },
  {
    "text": "that point of scale it's better to",
    "start": "618800",
    "end": "620800"
  },
  {
    "text": "delegate things to an external processor",
    "start": "620800",
    "end": "623360"
  },
  {
    "text": "that can run native",
    "start": "623360",
    "end": "625240"
  },
  {
    "text": "code okay so with that I'll hand back to",
    "start": "625240",
    "end": "627760"
  },
  {
    "text": "Geralt for the next challenge thank you",
    "start": "627760",
    "end": "630000"
  },
  {
    "text": "Darren",
    "start": "630000",
    "end": "632519"
  },
  {
    "text": "yeah um now the story of the J token",
    "start": "632519",
    "end": "636079"
  },
  {
    "text": "continues uh the J tokens um after",
    "start": "636079",
    "end": "639360"
  },
  {
    "text": "routing and some extraction in the",
    "start": "639360",
    "end": "640880"
  },
  {
    "text": "inress gateway needs to be validated and",
    "start": "640880",
    "end": "643680"
  },
  {
    "text": "for this validation we need in public",
    "start": "643680",
    "end": "646000"
  },
  {
    "text": "key and we get that via an JWKS URI and",
    "start": "646000",
    "end": "650480"
  },
  {
    "text": "in our case um basically each tenant can",
    "start": "650480",
    "end": "653760"
  },
  {
    "text": "have a different JWKS URI our identity",
    "start": "653760",
    "end": "657920"
  },
  {
    "text": "providers they can basically assign for",
    "start": "657920",
    "end": "660399"
  },
  {
    "text": "each tenant a different JWKS UI so when",
    "start": "660399",
    "end": "664240"
  },
  {
    "text": "we get an um jot token we need to have",
    "start": "664240",
    "end": "667600"
  },
  {
    "text": "an lookup",
    "start": "667600",
    "end": "669279"
  },
  {
    "text": "um which JWKS URI we can use for an",
    "start": "669279",
    "end": "673360"
  },
  {
    "text": "given tenant and the way we uh",
    "start": "673360",
    "end": "675920"
  },
  {
    "text": "implemented this as at first was um",
    "start": "675920",
    "end": "679120"
  },
  {
    "text": "using authentication and authorization",
    "start": "679120",
    "end": "683160"
  },
  {
    "text": "policies so basically we uh had uh one",
    "start": "683160",
    "end": "687839"
  },
  {
    "text": "um we had an pair of these policies for",
    "start": "687839",
    "end": "690959"
  },
  {
    "text": "each and every tenant and in the",
    "start": "690959",
    "end": "693279"
  },
  {
    "text": "beginning this worked fine but then we",
    "start": "693279",
    "end": "695200"
  },
  {
    "text": "got hundreds of tenants and thousands of",
    "start": "695200",
    "end": "696959"
  },
  {
    "text": "tenants and things started not working",
    "start": "696959",
    "end": "699880"
  },
  {
    "text": "fine um the side cars in our services",
    "start": "699880",
    "end": "703760"
  },
  {
    "text": "developed a huge appetite for resources",
    "start": "703760",
    "end": "706399"
  },
  {
    "text": "we had cases at the end of uh side cars",
    "start": "706399",
    "end": "709440"
  },
  {
    "text": "of 16 GB memory and five cores",
    "start": "709440",
    "end": "713200"
  },
  {
    "text": "uh but was what was even worse is we saw",
    "start": "713200",
    "end": "715360"
  },
  {
    "text": "a significant degradation of the latency",
    "start": "715360",
    "end": "718320"
  },
  {
    "text": "so what we then did is we",
    "start": "718320",
    "end": "720760"
  },
  {
    "text": "externalized we uh used the external",
    "start": "720760",
    "end": "723480"
  },
  {
    "text": "authorization and implemented the the",
    "start": "723480",
    "end": "726399"
  },
  {
    "text": "logic in um policy with OPA with open",
    "start": "726399",
    "end": "729920"
  },
  {
    "text": "policy agent and um we also implemented",
    "start": "729920",
    "end": "734800"
  },
  {
    "text": "database lookup with suitable caching",
    "start": "734800",
    "end": "736720"
  },
  {
    "text": "strategies in OBA and with this the",
    "start": "736720",
    "end": "740560"
  },
  {
    "text": "problem was solved the latency was back",
    "start": "740560",
    "end": "742480"
  },
  {
    "text": "to normal and uh the resource",
    "start": "742480",
    "end": "744959"
  },
  {
    "text": "consumption was also again normal so the",
    "start": "744959",
    "end": "748240"
  },
  {
    "text": "lesson lesson learned here is um request",
    "start": "748240",
    "end": "751079"
  },
  {
    "text": "authentic request authorization policies",
    "start": "751079",
    "end": "753600"
  },
  {
    "text": "and authentic authentication policies",
    "start": "753600",
    "end": "756639"
  },
  {
    "text": "work fine out of the box but if you get",
    "start": "756639",
    "end": "759040"
  },
  {
    "text": "really many of them then go for a",
    "start": "759040",
    "end": "761839"
  },
  {
    "text": "different",
    "start": "761839",
    "end": "763959"
  },
  {
    "text": "solution the next challenge that we had",
    "start": "763959",
    "end": "767200"
  },
  {
    "text": "um is uh about the subscription to LLMs",
    "start": "767200",
    "end": "770720"
  },
  {
    "text": "so when um tenants subscribe to an LLM",
    "start": "770720",
    "end": "774160"
  },
  {
    "text": "what we do is we give them an URL and",
    "start": "774160",
    "end": "776720"
  },
  {
    "text": "then they can use this URL to do the",
    "start": "776720",
    "end": "778800"
  },
  {
    "text": "inference this URL only contains an ID",
    "start": "778800",
    "end": "782320"
  },
  {
    "text": "so based on this ID we need to figure",
    "start": "782320",
    "end": "784800"
  },
  {
    "text": "out which model it is which version it",
    "start": "784800",
    "end": "786959"
  },
  {
    "text": "is and which hyperscaler it is and the",
    "start": "786959",
    "end": "790000"
  },
  {
    "text": "way we did this lookup in the beginning",
    "start": "790000",
    "end": "791839"
  },
  {
    "text": "was with virtual services so we created",
    "start": "791839",
    "end": "794560"
  },
  {
    "text": "for each of these subscription and",
    "start": "794560",
    "end": "796000"
  },
  {
    "text": "virtual service which matched with the",
    "start": "796000",
    "end": "798399"
  },
  {
    "text": "ID and then injected the headers which",
    "start": "798399",
    "end": "801040"
  },
  {
    "text": "worked great in the beginning but then",
    "start": "801040",
    "end": "803440"
  },
  {
    "text": "it started cracking because we got",
    "start": "803440",
    "end": "805920"
  },
  {
    "text": "thousands of virtual service and uh tens",
    "start": "805920",
    "end": "808240"
  },
  {
    "text": "of thousands of virtual",
    "start": "808240",
    "end": "810440"
  },
  {
    "text": "services and we uh noticed that uh this",
    "start": "810440",
    "end": "813680"
  },
  {
    "text": "time in envoy in the ingress gateway um",
    "start": "813680",
    "end": "817680"
  },
  {
    "text": "there was huge resource consumption and",
    "start": "817680",
    "end": "819680"
  },
  {
    "text": "also the latency degraded a lot so also",
    "start": "819680",
    "end": "824000"
  },
  {
    "text": "here we",
    "start": "824000",
    "end": "825639"
  },
  {
    "text": "externalized we used external processor",
    "start": "825639",
    "end": "828480"
  },
  {
    "text": "to do an uh lookup um lookup by ID to",
    "start": "828480",
    "end": "832959"
  },
  {
    "text": "get the information about which model is",
    "start": "832959",
    "end": "835040"
  },
  {
    "text": "meant which model version is meant and",
    "start": "835040",
    "end": "837760"
  },
  {
    "text": "uh we inject that into the request so",
    "start": "837760",
    "end": "840079"
  },
  {
    "text": "that geni proxy has all information um",
    "start": "840079",
    "end": "844720"
  },
  {
    "text": "yeah so this works fine then latency is",
    "start": "844720",
    "end": "848320"
  },
  {
    "text": "uh back to normal and the lesson learned",
    "start": "848320",
    "end": "851680"
  },
  {
    "text": "here is that uh",
    "start": "851680",
    "end": "853959"
  },
  {
    "text": "the number of virtual um of uh virtual",
    "start": "853959",
    "end": "859199"
  },
  {
    "text": "services really impacts directly the",
    "start": "859199",
    "end": "861440"
  },
  {
    "text": "latency we saw in experiments that it is",
    "start": "861440",
    "end": "863839"
  },
  {
    "text": "now linear degradation of latency with",
    "start": "863839",
    "end": "866800"
  },
  {
    "text": "the number of virtual services which",
    "start": "866800",
    "end": "869279"
  },
  {
    "text": "kind of is understandable because",
    "start": "869279",
    "end": "871040"
  },
  {
    "text": "virtual services are routing rules so",
    "start": "871040",
    "end": "873760"
  },
  {
    "text": "you need to find for each request which",
    "start": "873760",
    "end": "875680"
  },
  {
    "text": "routing rules apply and uh that's",
    "start": "875680",
    "end": "878240"
  },
  {
    "text": "basically in linear search uh but in our",
    "start": "878240",
    "end": "881519"
  },
  {
    "text": "case since we just need lookup it's much",
    "start": "881519",
    "end": "884639"
  },
  {
    "text": "better to do really a lookup with a",
    "start": "884639",
    "end": "889920"
  },
  {
    "text": "database then uh the next issue is uh",
    "start": "890600",
    "end": "894079"
  },
  {
    "text": "about our logging system uh our logging",
    "start": "894079",
    "end": "896800"
  },
  {
    "text": "system is an system um made up of",
    "start": "896800",
    "end": "899519"
  },
  {
    "text": "several components they run on several",
    "start": "899519",
    "end": "901959"
  },
  {
    "text": "nodes usually and u as a best practice",
    "start": "901959",
    "end": "905440"
  },
  {
    "text": "we have MTLS between",
    "start": "905440",
    "end": "907480"
  },
  {
    "text": "them and uh naturally we we um used car",
    "start": "907480",
    "end": "912880"
  },
  {
    "text": "to implement",
    "start": "912880",
    "end": "914199"
  },
  {
    "text": "MTLS which worked in the beginning great",
    "start": "914199",
    "end": "916800"
  },
  {
    "text": "but then under high load it didn't and",
    "start": "916800",
    "end": "919279"
  },
  {
    "text": "here we really have high load our",
    "start": "919279",
    "end": "921760"
  },
  {
    "text": "workloads they produ they are producing",
    "start": "921760",
    "end": "923760"
  },
  {
    "text": "about one terabyte of data each",
    "start": "923760",
    "end": "926600"
  },
  {
    "text": "day so we started to notice instability",
    "start": "926600",
    "end": "930720"
  },
  {
    "text": "At first we uh we are tuning then the",
    "start": "930720",
    "end": "933440"
  },
  {
    "text": "components the components of the logging",
    "start": "933440",
    "end": "935440"
  },
  {
    "text": "system",
    "start": "935440",
    "end": "936360"
  },
  {
    "text": "itself um but then we also noticed that",
    "start": "936360",
    "end": "939120"
  },
  {
    "text": "when we simply switch off MTLS that",
    "start": "939120",
    "end": "941519"
  },
  {
    "text": "everything works fine so then we uh",
    "start": "941519",
    "end": "944639"
  },
  {
    "text": "experimented with u first native",
    "start": "944639",
    "end": "947120"
  },
  {
    "text": "encryption protocols of our logging",
    "start": "947120",
    "end": "949040"
  },
  {
    "text": "system also we had a look at wire guard",
    "start": "949040",
    "end": "952160"
  },
  {
    "text": "on CNI level which um was looking",
    "start": "952160",
    "end": "955720"
  },
  {
    "text": "promising but since we anyway wanted to",
    "start": "955720",
    "end": "958320"
  },
  {
    "text": "look at ambient we tried out ambient and",
    "start": "958320",
    "end": "960639"
  },
  {
    "text": "that did the trick so with uh ambient by",
    "start": "960639",
    "end": "964560"
  },
  {
    "text": "pushing the encryption down to a level",
    "start": "964560",
    "end": "966800"
  },
  {
    "text": "four uh everything works fine and uh the",
    "start": "966800",
    "end": "970720"
  },
  {
    "text": "lesson learned here our lesson learned",
    "start": "970720",
    "end": "972639"
  },
  {
    "text": "here is when you have systems with uh",
    "start": "972639",
    "end": "976320"
  },
  {
    "text": "queries and very large uh result sets",
    "start": "976320",
    "end": "979279"
  },
  {
    "text": "potentially replication protocols we",
    "start": "979279",
    "end": "981440"
  },
  {
    "text": "also had this experience with an",
    "start": "981440",
    "end": "983279"
  },
  {
    "text": "database system that we use for",
    "start": "983279",
    "end": "985000"
  },
  {
    "text": "replication or native",
    "start": "985000",
    "end": "987240"
  },
  {
    "text": "protocols then it's better not to use",
    "start": "987240",
    "end": "990320"
  },
  {
    "text": "sidecar it's better to to go for ambient",
    "start": "990320",
    "end": "992880"
  },
  {
    "text": "or wire guard and now I'm handing back",
    "start": "992880",
    "end": "996399"
  },
  {
    "text": "to D thank you",
    "start": "996399",
    "end": "999600"
  },
  {
    "text": "okay so the final two challenges back to",
    "start": "999600",
    "end": "1002079"
  },
  {
    "text": "the uh the AI machine learning piece uh",
    "start": "1002079",
    "end": "1005120"
  },
  {
    "text": "first of all to do with training so one",
    "start": "1005120",
    "end": "1009199"
  },
  {
    "text": "of the things to realize here is as a",
    "start": "1009199",
    "end": "1010959"
  },
  {
    "text": "secure multi-tenant application when a",
    "start": "1010959",
    "end": "1013600"
  },
  {
    "text": "user brings their container image to run",
    "start": "1013600",
    "end": "1015360"
  },
  {
    "text": "on a GPU we give them their own node to",
    "start": "1015360",
    "end": "1017839"
  },
  {
    "text": "run on so in other words we never have",
    "start": "1017839",
    "end": "1020240"
  },
  {
    "text": "pods from two different tenants running",
    "start": "1020240",
    "end": "1022079"
  },
  {
    "text": "on the same node so we've got pretty",
    "start": "1022079",
    "end": "1023839"
  },
  {
    "text": "good isolation there",
    "start": "1023839",
    "end": "1026240"
  },
  {
    "text": "what that means though is that when that",
    "start": "1026240",
    "end": "1028720"
  },
  {
    "text": "Kubernetes job appears it triggers the",
    "start": "1028720",
    "end": "1031280"
  },
  {
    "text": "scaling up of a new node with a",
    "start": "1031280",
    "end": "1033319"
  },
  {
    "text": "GPU um now jobs come with a pod restart",
    "start": "1033319",
    "end": "1036880"
  },
  {
    "text": "policy of never and so we run into this",
    "start": "1036880",
    "end": "1040160"
  },
  {
    "text": "race condition whereto CNNI is on the",
    "start": "1040160",
    "end": "1042959"
  },
  {
    "text": "node and starting up but also the pod",
    "start": "1042959",
    "end": "1045360"
  },
  {
    "text": "from the job has landed on the node and",
    "start": "1045360",
    "end": "1047038"
  },
  {
    "text": "is starting up so when that uh job is",
    "start": "1047039",
    "end": "1050160"
  },
  {
    "text": "trying to do things on the network it's",
    "start": "1050160",
    "end": "1051600"
  },
  {
    "text": "trying to fetch some data it can't do",
    "start": "1051600",
    "end": "1053600"
  },
  {
    "text": "because CNNI isn't yet",
    "start": "1053600",
    "end": "1056360"
  },
  {
    "text": "running the other problem we have is",
    "start": "1056360",
    "end": "1058880"
  },
  {
    "text": "that in Kubernetes a job is only",
    "start": "1058880",
    "end": "1060880"
  },
  {
    "text": "considered finished when all of the",
    "start": "1060880",
    "end": "1062640"
  },
  {
    "text": "containers in that pod are completed so",
    "start": "1062640",
    "end": "1065440"
  },
  {
    "text": "if we now add an STTO proxy sidecar",
    "start": "1065440",
    "end": "1068240"
  },
  {
    "text": "we've got two containers the main",
    "start": "1068240",
    "end": "1070400"
  },
  {
    "text": "container that's doing the training",
    "start": "1070400",
    "end": "1071760"
  },
  {
    "text": "might finish but the STO proxy sidecar",
    "start": "1071760",
    "end": "1073919"
  },
  {
    "text": "is still running so Kubernetes doesn't",
    "start": "1073919",
    "end": "1076240"
  },
  {
    "text": "consider that job as having",
    "start": "1076240",
    "end": "1078280"
  },
  {
    "text": "completed so the initial solution we had",
    "start": "1078280",
    "end": "1080720"
  },
  {
    "text": "for that uh for the two problems there",
    "start": "1080720",
    "end": "1083200"
  },
  {
    "text": "first of all the nodes that we use for",
    "start": "1083200",
    "end": "1085360"
  },
  {
    "text": "this we we add a taint to them so that",
    "start": "1085360",
    "end": "1087760"
  },
  {
    "text": "the Kubernetes job pod then can't land",
    "start": "1087760",
    "end": "1089919"
  },
  {
    "text": "on that node until STO CNI is ready and",
    "start": "1089919",
    "end": "1093200"
  },
  {
    "text": "there's there's actually a feature in",
    "start": "1093200",
    "end": "1094400"
  },
  {
    "text": "the STOD operator that lets you specify",
    "start": "1094400",
    "end": "1097039"
  },
  {
    "text": "that taint so that it knows to remove",
    "start": "1097039",
    "end": "1099360"
  },
  {
    "text": "the taint when CNI is ready",
    "start": "1099360",
    "end": "1102720"
  },
  {
    "text": "and the second point then is that the",
    "start": "1102720",
    "end": "1104559"
  },
  {
    "text": "when the job's finished it knows it has",
    "start": "1104559",
    "end": "1106960"
  },
  {
    "text": "to then call the quick quit endpoint on",
    "start": "1106960",
    "end": "1109280"
  },
  {
    "text": "the uh STO proxy sidecar that means that",
    "start": "1109280",
    "end": "1112720"
  },
  {
    "text": "then the both containers finish and the",
    "start": "1112720",
    "end": "1114320"
  },
  {
    "text": "job is",
    "start": "1114320",
    "end": "1115320"
  },
  {
    "text": "completed so it's not perfect solution",
    "start": "1115320",
    "end": "1118080"
  },
  {
    "text": "it's a little bit hacky so where we want",
    "start": "1118080",
    "end": "1120000"
  },
  {
    "text": "to end up with there our next steps are",
    "start": "1120000",
    "end": "1121919"
  },
  {
    "text": "doing one of the the following two",
    "start": "1121919",
    "end": "1123520"
  },
  {
    "text": "options the first is if we use native",
    "start": "1123520",
    "end": "1127039"
  },
  {
    "text": "sidecars instead sorry Kubernetes native",
    "start": "1127039",
    "end": "1130240"
  },
  {
    "text": "sidecars um they get started as init",
    "start": "1130240",
    "end": "1133679"
  },
  {
    "text": "containers instead of containers main",
    "start": "1133679",
    "end": "1136120"
  },
  {
    "text": "containers so what that means then is",
    "start": "1136120",
    "end": "1139200"
  },
  {
    "text": "proxy is running as an init container",
    "start": "1139200",
    "end": "1141440"
  },
  {
    "text": "there's then only one actual main",
    "start": "1141440",
    "end": "1143440"
  },
  {
    "text": "container running in the pod so when",
    "start": "1143440",
    "end": "1145360"
  },
  {
    "text": "that completes um it will happily",
    "start": "1145360",
    "end": "1147760"
  },
  {
    "text": "consider that pod has completed and that",
    "start": "1147760",
    "end": "1149840"
  },
  {
    "text": "solves the problem",
    "start": "1149840",
    "end": "1152160"
  },
  {
    "text": "uh the other option there is to use ISTO",
    "start": "1152160",
    "end": "1154080"
  },
  {
    "text": "ambient which gets rid of the sidecar",
    "start": "1154080",
    "end": "1156160"
  },
  {
    "text": "container completely and again removes",
    "start": "1156160",
    "end": "1158480"
  },
  {
    "text": "the",
    "start": "1158480",
    "end": "1160600"
  },
  {
    "text": "problem so the final challenge um is on",
    "start": "1160600",
    "end": "1163600"
  },
  {
    "text": "the serving side it's it's a little bit",
    "start": "1163600",
    "end": "1166039"
  },
  {
    "text": "similar so in this case uh in Kserve it",
    "start": "1166039",
    "end": "1170320"
  },
  {
    "text": "triggers an init container to download",
    "start": "1170320",
    "end": "1172799"
  },
  {
    "text": "the model from the S3 bucket before the",
    "start": "1172799",
    "end": "1175200"
  },
  {
    "text": "main container then starts serving that",
    "start": "1175200",
    "end": "1177039"
  },
  {
    "text": "model",
    "start": "1177039",
    "end": "1178400"
  },
  {
    "text": "now again because we're running with an",
    "start": "1178400",
    "end": "1180799"
  },
  {
    "text": "STO proxy sidecar um that sidecar is",
    "start": "1180799",
    "end": "1184559"
  },
  {
    "text": "running along with the main container so",
    "start": "1184559",
    "end": "1186880"
  },
  {
    "text": "when our init container is running the",
    "start": "1186880",
    "end": "1188799"
  },
  {
    "text": "STO proxy sidecar isn't running and so",
    "start": "1188799",
    "end": "1191360"
  },
  {
    "text": "we can't actually talk to the internet",
    "start": "1191360",
    "end": "1193200"
  },
  {
    "text": "to download our model",
    "start": "1193200",
    "end": "1195919"
  },
  {
    "text": "so the slightly hacky solution we have",
    "start": "1195919",
    "end": "1197840"
  },
  {
    "text": "there initially is to exempt port",
    "start": "1197840",
    "end": "1200720"
  },
  {
    "text": "outgoing port 443",
    "start": "1200720",
    "end": "1203039"
  },
  {
    "text": "um so that then anything can talk to SSL",
    "start": "1203039",
    "end": "1205520"
  },
  {
    "text": "on the internet or HTTPS on the internet",
    "start": "1205520",
    "end": "1208720"
  },
  {
    "text": "um it can download things from S3 and",
    "start": "1208720",
    "end": "1211600"
  },
  {
    "text": "that works it's not great um it's it's a",
    "start": "1211600",
    "end": "1214480"
  },
  {
    "text": "bit of a security weakness that we have",
    "start": "1214480",
    "end": "1216400"
  },
  {
    "text": "to just have this blanket rule to allow",
    "start": "1216400",
    "end": "1218160"
  },
  {
    "text": "access to everything so the solution is",
    "start": "1218160",
    "end": "1221120"
  },
  {
    "text": "pretty similar to the previous challenge",
    "start": "1221120",
    "end": "1223440"
  },
  {
    "text": "um if we use Kubernetes native sidecar",
    "start": "1223440",
    "end": "1226559"
  },
  {
    "text": "then we can configure that STO proxy",
    "start": "1226559",
    "end": "1228960"
  },
  {
    "text": "init container to start running before",
    "start": "1228960",
    "end": "1231679"
  },
  {
    "text": "the model downloading init container so",
    "start": "1231679",
    "end": "1234480"
  },
  {
    "text": "that the sidecar is running and that",
    "start": "1234480",
    "end": "1236400"
  },
  {
    "text": "gets rid of the problem or again by",
    "start": "1236400",
    "end": "1238640"
  },
  {
    "text": "running in ambient mode we get rid of",
    "start": "1238640",
    "end": "1240720"
  },
  {
    "text": "the sidecar completely and that solves",
    "start": "1240720",
    "end": "1243120"
  },
  {
    "text": "the",
    "start": "1243120",
    "end": "1244120"
  },
  {
    "text": "problem so that's the end of the",
    "start": "1244120",
    "end": "1246000"
  },
  {
    "text": "challenges i'm going to pass back to",
    "start": "1246000",
    "end": "1247280"
  },
  {
    "text": "Geralt now just to summarize the lessons",
    "start": "1247280",
    "end": "1249039"
  },
  {
    "text": "that we've learned from all of this",
    "start": "1249039",
    "end": "1251600"
  },
  {
    "text": "thank you Darwin",
    "start": "1251600",
    "end": "1253840"
  },
  {
    "text": "yeah let me quick quick quickly um now",
    "start": "1253840",
    "end": "1256240"
  },
  {
    "text": "summarize what the five lessons are that",
    "start": "1256240",
    "end": "1258400"
  },
  {
    "text": "we learned uh so first of all the",
    "start": "1258400",
    "end": "1261919"
  },
  {
    "text": "standard configurations they work great",
    "start": "1261919",
    "end": "1263840"
  },
  {
    "text": "out of the box but um under high load uh",
    "start": "1263840",
    "end": "1267679"
  },
  {
    "text": "things can look differently so it's",
    "start": "1267679",
    "end": "1270240"
  },
  {
    "text": "really important to uh be aware what",
    "start": "1270240",
    "end": "1272480"
  },
  {
    "text": "your workloads are and what scale and",
    "start": "1272480",
    "end": "1275120"
  },
  {
    "text": "then use in customized",
    "start": "1275120",
    "end": "1279080"
  },
  {
    "text": "setup then uh race conditions can bite",
    "start": "1279080",
    "end": "1282320"
  },
  {
    "text": "the initialization sequence of ISTO",
    "start": "1282320",
    "end": "1285440"
  },
  {
    "text": "together with the initialization",
    "start": "1285440",
    "end": "1287200"
  },
  {
    "text": "sequence of your workloads they can um",
    "start": "1287200",
    "end": "1291039"
  },
  {
    "text": "uh lead to unexpected behavior so you",
    "start": "1291039",
    "end": "1294000"
  },
  {
    "text": "really need to be uh aware of the",
    "start": "1294000",
    "end": "1295919"
  },
  {
    "text": "dependencies there and potentially",
    "start": "1295919",
    "end": "1298960"
  },
  {
    "text": "coordinate the sequence for example with",
    "start": "1298960",
    "end": "1301520"
  },
  {
    "text": "taints and",
    "start": "1301520",
    "end": "1303480"
  },
  {
    "text": "tolerations then uh work workarounds can",
    "start": "1303480",
    "end": "1306559"
  },
  {
    "text": "create adapt",
    "start": "1306559",
    "end": "1309080"
  },
  {
    "text": "um we uh bypass certain issue features",
    "start": "1309080",
    "end": "1313200"
  },
  {
    "text": "and uh that resulted in security risks",
    "start": "1313200",
    "end": "1316559"
  },
  {
    "text": "and uh under high scale um under",
    "start": "1316559",
    "end": "1320080"
  },
  {
    "text": "unexpected behavior so our",
    "start": "1320080",
    "end": "1322400"
  },
  {
    "text": "recommendation is really to prioritize",
    "start": "1322400",
    "end": "1325120"
  },
  {
    "text": "native solutions on the long term and",
    "start": "1325120",
    "end": "1328480"
  },
  {
    "text": "how to find them is to stay up to date",
    "start": "1328480",
    "end": "1332480"
  },
  {
    "text": "uh reading the release notes they in",
    "start": "1332480",
    "end": "1334640"
  },
  {
    "text": "fact contain a lot of information about",
    "start": "1334640",
    "end": "1337280"
  },
  {
    "text": "edge cases that",
    "start": "1337280",
    "end": "1339799"
  },
  {
    "text": "um um people are in the beginning often",
    "start": "1339799",
    "end": "1343360"
  },
  {
    "text": "not aware",
    "start": "1343360",
    "end": "1344600"
  },
  {
    "text": "of and then to stay future proof have a",
    "start": "1344600",
    "end": "1348400"
  },
  {
    "text": "look at ambient and at Kubernetes native",
    "start": "1348400",
    "end": "1350880"
  },
  {
    "text": "sidecars especially if you are dealing",
    "start": "1350880",
    "end": "1353919"
  },
  {
    "text": "with jobs or with high",
    "start": "1353919",
    "end": "1357480"
  },
  {
    "text": "scale that's it for today um we have two",
    "start": "1357480",
    "end": "1361919"
  },
  {
    "text": "or three minutes for questions is there",
    "start": "1361919",
    "end": "1364480"
  },
  {
    "text": "any uh question",
    "start": "1364480",
    "end": "1368760"
  },
  {
    "text": "i guess should I go for you okay um so I",
    "start": "1374720",
    "end": "1377760"
  },
  {
    "text": "have a question in one of your slides I",
    "start": "1377760",
    "end": "1380320"
  },
  {
    "text": "think I capture you mentioned about I",
    "start": "1380320",
    "end": "1382559"
  },
  {
    "text": "think it's related to mutual TLS right",
    "start": "1382559",
    "end": "1385600"
  },
  {
    "text": "for database uh you mentioned about",
    "start": "1385600",
    "end": "1387919"
  },
  {
    "text": "leveraging ambient to fix some of the",
    "start": "1387919",
    "end": "1390559"
  },
  {
    "text": "issues you saw was it just for the",
    "start": "1390559",
    "end": "1393280"
  },
  {
    "text": "particular workload that you moved to",
    "start": "1393280",
    "end": "1395919"
  },
  {
    "text": "Zunnel layer for layer 4 and then the",
    "start": "1395919",
    "end": "1398640"
  },
  {
    "text": "rest is still using sidecar could you",
    "start": "1398640",
    "end": "1400799"
  },
  {
    "text": "elaborate a little bit more on that case",
    "start": "1400799",
    "end": "1403280"
  },
  {
    "text": "uh it's when you showed the login slides",
    "start": "1403280",
    "end": "1405840"
  },
  {
    "text": "if you remember thank you yes",
    "start": "1405840",
    "end": "1409640"
  },
  {
    "text": "um I hope I can answer that um because",
    "start": "1409640",
    "end": "1413120"
  },
  {
    "text": "these uh observations they were mostly",
    "start": "1413120",
    "end": "1415919"
  },
  {
    "text": "done by our colleagues uh but uh as a",
    "start": "1415919",
    "end": "1419280"
  },
  {
    "text": "matter of fact uh with these uh",
    "start": "1419280",
    "end": "1421200"
  },
  {
    "text": "workloads uh where you have uh large",
    "start": "1421200",
    "end": "1424159"
  },
  {
    "text": "result sets for queries and uh",
    "start": "1424159",
    "end": "1426880"
  },
  {
    "text": "replication protocols so database like",
    "start": "1426880",
    "end": "1429280"
  },
  {
    "text": "systems",
    "start": "1429280",
    "end": "1430880"
  },
  {
    "text": "um they are wear instabilities which uh",
    "start": "1430880",
    "end": "1434799"
  },
  {
    "text": "were not completely understandable for",
    "start": "1434799",
    "end": "1436960"
  },
  {
    "text": "us but also we got the feedback from the",
    "start": "1436960",
    "end": "1439360"
  },
  {
    "text": "community that uh in such cases um it's",
    "start": "1439360",
    "end": "1444480"
  },
  {
    "text": "known that this can lead to problems on",
    "start": "1444480",
    "end": "1446720"
  },
  {
    "text": "the high load",
    "start": "1446720",
    "end": "1448480"
  },
  {
    "text": "that these workloads can lead to",
    "start": "1448480",
    "end": "1450240"
  },
  {
    "text": "problems on a high load with MTLS okay",
    "start": "1450240",
    "end": "1454080"
  },
  {
    "text": "thanks for that clarification",
    "start": "1454080",
    "end": "1457880"
  },
  {
    "text": "hey thank you for the talk um quick",
    "start": "1458400",
    "end": "1460400"
  },
  {
    "text": "question on the traffic management uh",
    "start": "1460400",
    "end": "1463520"
  },
  {
    "text": "challenge if you can go back to this",
    "start": "1463520",
    "end": "1468480"
  },
  {
    "text": "um so trying to understand the use case",
    "start": "1469880",
    "end": "1473919"
  },
  {
    "text": "um what like what was the challenge",
    "start": "1473919",
    "end": "1476240"
  },
  {
    "text": "exactly and you know basically trying to",
    "start": "1476240",
    "end": "1478320"
  },
  {
    "text": "understand the red um part yeah um so we",
    "start": "1478320",
    "end": "1483600"
  },
  {
    "text": "um extracted an ID from the requests the",
    "start": "1483600",
    "end": "1488000"
  },
  {
    "text": "ID is all that we knew and we needed",
    "start": "1488000",
    "end": "1489919"
  },
  {
    "text": "additional information what is behind",
    "start": "1489919",
    "end": "1492080"
  },
  {
    "text": "this ID ID to do some uh yeah to to in",
    "start": "1492080",
    "end": "1496080"
  },
  {
    "text": "this case um the name of the model the",
    "start": "1496080",
    "end": "1498720"
  },
  {
    "text": "hyperscala and the model",
    "start": "1498720",
    "end": "1500840"
  },
  {
    "text": "version and uh we need this information",
    "start": "1500840",
    "end": "1504240"
  },
  {
    "text": "in the request for the actually",
    "start": "1504240",
    "end": "1507600"
  },
  {
    "text": "processing component to process the",
    "start": "1507600",
    "end": "1509360"
  },
  {
    "text": "request and the challenge uh was that uh",
    "start": "1509360",
    "end": "1513200"
  },
  {
    "text": "in the beginning we uh had for each",
    "start": "1513200",
    "end": "1517520"
  },
  {
    "text": "subscription so corresponding to each ID",
    "start": "1517520",
    "end": "1520880"
  },
  {
    "text": "we had in virtual",
    "start": "1520880",
    "end": "1522440"
  },
  {
    "text": "service which then injected this meta",
    "start": "1522440",
    "end": "1525200"
  },
  {
    "text": "information into the",
    "start": "1525200",
    "end": "1527240"
  },
  {
    "text": "request and since we since we had uh",
    "start": "1527240",
    "end": "1530240"
  },
  {
    "text": "very very many subscriptions",
    "start": "1530240",
    "end": "1533039"
  },
  {
    "text": "uh tens of thousands we ended up with",
    "start": "1533039",
    "end": "1535760"
  },
  {
    "text": "tens of thousands of virtual services",
    "start": "1535760",
    "end": "1539120"
  },
  {
    "text": "but but one second like every",
    "start": "1539120",
    "end": "1541039"
  },
  {
    "text": "subscription translates to what a",
    "start": "1541039",
    "end": "1543039"
  },
  {
    "text": "different model or like Yes basically",
    "start": "1543039",
    "end": "1545840"
  },
  {
    "text": "yes yeah so you're saying you had like",
    "start": "1545840",
    "end": "1547600"
  },
  {
    "text": "thousands of model regardless of what",
    "start": "1547600",
    "end": "1549279"
  },
  {
    "text": "platform it is and then virtual service",
    "start": "1549279",
    "end": "1551279"
  },
  {
    "text": "that extracts the yeah okay and then you",
    "start": "1551279",
    "end": "1554799"
  },
  {
    "text": "moved into an xrock solution where the",
    "start": "1554799",
    "end": "1556880"
  },
  {
    "text": "request okay an alternative solution",
    "start": "1556880",
    "end": "1559200"
  },
  {
    "text": "would have been that um tenants specify",
    "start": "1559200",
    "end": "1562080"
  },
  {
    "text": "these these as parameters but uh for our",
    "start": "1562080",
    "end": "1565200"
  },
  {
    "text": "case uh we um there are reasons why we",
    "start": "1565200",
    "end": "1568000"
  },
  {
    "text": "just want to give an URL with one ID",
    "start": "1568000",
    "end": "1570640"
  },
  {
    "text": "contained in it",
    "start": "1570640",
    "end": "1574000"
  },
  {
    "text": "okay got it thank you okay thank you um",
    "start": "1574000",
    "end": "1577520"
  },
  {
    "text": "I'm afraid we are Yeah we have two",
    "start": "1577520",
    "end": "1579600"
  },
  {
    "text": "minutes two minutes okay right so this",
    "start": "1579600",
    "end": "1582320"
  },
  {
    "text": "is a um question about also traffic",
    "start": "1582320",
    "end": "1585200"
  },
  {
    "text": "management but also about the uh the",
    "start": "1585200",
    "end": "1587919"
  },
  {
    "text": "wasome plugins um so the virtual service",
    "start": "1587919",
    "end": "1592080"
  },
  {
    "text": "um you've replaced the lookup by doing",
    "start": "1592080",
    "end": "1594480"
  },
  {
    "text": "it in a database but at what stage does",
    "start": "1594480",
    "end": "1597039"
  },
  {
    "text": "that happen is that also a plug-in that",
    "start": "1597039",
    "end": "1599120"
  },
  {
    "text": "does the lookup or is the lookup done",
    "start": "1599120",
    "end": "1601279"
  },
  {
    "text": "differently it is done in the so the",
    "start": "1601279",
    "end": "1603919"
  },
  {
    "text": "inress gateway um calls the external",
    "start": "1603919",
    "end": "1607840"
  },
  {
    "text": "processor and then the external",
    "start": "1607840",
    "end": "1609360"
  },
  {
    "text": "processor does the database lookup and",
    "start": "1609360",
    "end": "1612080"
  },
  {
    "text": "it returns the correct path for envoy to",
    "start": "1612080",
    "end": "1614880"
  },
  {
    "text": "forward then we get the parameters that",
    "start": "1614880",
    "end": "1617120"
  },
  {
    "text": "we need and they are injected as headers",
    "start": "1617120",
    "end": "1618960"
  },
  {
    "text": "into the request yeah and the external",
    "start": "1618960",
    "end": "1621039"
  },
  {
    "text": "processor then uses gRPC so does that",
    "start": "1621039",
    "end": "1623440"
  },
  {
    "text": "mean that it's colllocated with every",
    "start": "1623440",
    "end": "1625840"
  },
  {
    "text": "gateway or every envoy instance or",
    "start": "1625840",
    "end": "1627840"
  },
  {
    "text": "waypoint yes yeah ah okay yeah because",
    "start": "1627840",
    "end": "1630640"
  },
  {
    "text": "we tried the same thing we also ran into",
    "start": "1630640",
    "end": "1632400"
  },
  {
    "text": "the problem of tiny go essentially well",
    "start": "1632400",
    "end": "1634880"
  },
  {
    "text": "not having much maintenance going on uh",
    "start": "1634880",
    "end": "1637360"
  },
  {
    "text": "so we switched to rust um which was a",
    "start": "1637360",
    "end": "1640080"
  },
  {
    "text": "little bit fresh but it works perfectly",
    "start": "1640080",
    "end": "1642159"
  },
  {
    "text": "well um but knowing that you can do the",
    "start": "1642159",
    "end": "1644960"
  },
  {
    "text": "same thing with gRPC i completely missed",
    "start": "1644960",
    "end": "1647600"
  },
  {
    "text": "that was developed um sounds like a very",
    "start": "1647600",
    "end": "1651200"
  },
  {
    "text": "good improvement and if it works for you",
    "start": "1651200",
    "end": "1652559"
  },
  {
    "text": "guys well it must be good enough for",
    "start": "1652559",
    "end": "1655240"
  },
  {
    "text": "us thank you",
    "start": "1655240",
    "end": "1659480"
  },
  {
    "text": "okay",
    "start": "1659760",
    "end": "1660910"
  },
  {
    "text": "[Music]",
    "start": "1660910",
    "end": "1664049"
  }
]