[
  {
    "start": "0",
    "end": "43000"
  },
  {
    "text": "okay well thank you for attending the deep dive to nuts we have to see that already sum up production of users for",
    "start": "0",
    "end": "7710"
  },
  {
    "text": "Nats we joined the CN CF last year and has a increasing popularity since last",
    "start": "7710",
    "end": "13170"
  },
  {
    "text": "year oil a lot and more than a third the well the maintenance into a project",
    "start": "13170",
    "end": "19800"
  },
  {
    "text": "hasn't have increased and also the contributors so it's a excited to be",
    "start": "19800",
    "end": "25920"
  },
  {
    "text": "here and also just a trivia last year when I was at the Q Khan European Cup in hell my laptop broke just one hour",
    "start": "25920",
    "end": "33059"
  },
  {
    "text": "before then the talk just caroler revenge now okay so this is a deep dive",
    "start": "33059",
    "end": "40079"
  },
  {
    "text": "into nets and I'm going to focus mainly into what is coming next in the big",
    "start": "40079",
    "end": "46920"
  },
  {
    "start": "43000",
    "end": "43000"
  },
  {
    "text": "release for NASA version two quick note about myself and my name is Val DeMarco",
    "start": "46920",
    "end": "53100"
  },
  {
    "text": "beta from in Twitter and on the wall EQs I'm a software engineer at sign media communications where many of them",
    "start": "53100",
    "end": "59789"
  },
  {
    "text": "maintainer for nuts are working right now have been using database systems for",
    "start": "59789",
    "end": "65510"
  },
  {
    "text": "since 2012 I started with cloud foundry doing operations with the ruby version thrown from Nats and I'm very very happy",
    "start": "65510",
    "end": "73530"
  },
  {
    "text": "with the projects and things it's a very fun project to be a part of and I really like the philosophy of simplicity for",
    "start": "73530",
    "end": "79080"
  },
  {
    "text": "nets so I also last year I groped the first book for it and you want to take a",
    "start": "79080",
    "end": "85650"
  },
  {
    "text": "look it's practical nets and it covers mainly all out features from net",
    "start": "85650",
    "end": "91290"
  },
  {
    "text": "subversion one so I need to start looking into an update for Nets version 2 so in this talk two main things how",
    "start": "91290",
    "end": "101700"
  },
  {
    "text": "many of you are using kubernetes well I guess let's go a cucumber okay",
    "start": "101700",
    "end": "106710"
  },
  {
    "text": "and using the Nets operator well that's okay yeah so I'll use quick overview of",
    "start": "106710",
    "end": "113640"
  },
  {
    "text": "the nets we most recent merciful Nets",
    "start": "113640",
    "end": "118890"
  },
  {
    "text": "operator is already for using the net to be two features so I'll just go quick overdose so",
    "start": "118890",
    "end": "125759"
  },
  {
    "text": "announcement that's version 2 now has a date is going to be released on June 10th",
    "start": "125759",
    "end": "131660"
  },
  {
    "text": "and we have been using running a service in production with all the features from Nats happy - it's called",
    "start": "131660",
    "end": "138200"
  },
  {
    "text": "NGS and so it has been we launched that",
    "start": "138200",
    "end": "144880"
  },
  {
    "text": "cute cone on December so it's already been six more than or close to six",
    "start": "144880",
    "end": "153470"
  },
  {
    "text": "months in in production on in production so we're very close to ship it now I'll just finish on the documentation want to",
    "start": "153470",
    "end": "160070"
  },
  {
    "text": "ship with documentation from day one and this time so the anna has a date and",
    "start": "160070",
    "end": "166600"
  },
  {
    "text": "just a little bit more more more wait for for us tagging the repo because everything is open-source and everything",
    "start": "166600",
    "end": "173000"
  },
  {
    "text": "scentmaster and really do you want to check it out so questions from yesterday",
    "start": "173000",
    "end": "178160"
  },
  {
    "text": "yeah just let me know dress your hand or yes",
    "start": "178160",
    "end": "185380"
  },
  {
    "text": "yeah",
    "start": "189660",
    "end": "192660"
  },
  {
    "text": "with the nets over the new nets v2 clustering does it work - for example",
    "start": "198379",
    "end": "203989"
  },
  {
    "text": "make sure that you don't have too much talk between different Nets streaming",
    "start": "203989",
    "end": "210170"
  },
  {
    "text": "servers connected to different geographically located Nats clusters so say I have a net screaming cluster or do",
    "start": "210170",
    "end": "217310"
  },
  {
    "text": "I deploy different Nets you mean clusters or can I have a single net streaming cluster for multiple Nats V 2 clusters what what would be but to be",
    "start": "217310",
    "end": "224780"
  },
  {
    "text": "the general way of doing that okay so okay well I I guess that question might",
    "start": "224780",
    "end": "231980"
  },
  {
    "text": "be better answer when I talk about the super clusters so the question well I mean we compute how those not streaming",
    "start": "231980",
    "end": "239980"
  },
  {
    "text": "would work once you have the super clusters I guess yeah okay I'll touch on",
    "start": "239980",
    "end": "245419"
  },
  {
    "text": "that when I talk about super clusters in okay okay thank you so that's person - it's a very important",
    "start": "245419",
    "end": "255769"
  },
  {
    "text": "release for for us because it's a Nats it's now taking a leap from being",
    "start": "255769",
    "end": "261970"
  },
  {
    "text": "technology that remains within a single data center in a silo and it's not can be used as a core component to be like",
    "start": "261970",
    "end": "268789"
  },
  {
    "text": "global communication network and like a backbone with the goal so that to provide an always available dial tone",
    "start": "268789",
    "end": "274849"
  },
  {
    "text": "kind of like a global utility that single URL that you can just connect to and start communicating sending messages",
    "start": "274849",
    "end": "281150"
  },
  {
    "text": "requests and in our case this the URL telnet I will you can tell it but you",
    "start": "281150",
    "end": "286550"
  },
  {
    "text": "need a proper client for Nats and connect dot ng s dot global on the port four two two two if you want to try with",
    "start": "286550",
    "end": "292970"
  },
  {
    "text": "disconnect using the go client so this is a list of all the features that are",
    "start": "292970",
    "end": "299000"
  },
  {
    "text": "shipping with nice version - starting with the and the most notable one which is the multi-tenancy features and",
    "start": "299000",
    "end": "305210"
  },
  {
    "text": "accounts and we call them containers for messaging in order to achieve that we had to there it was the clustering and",
    "start": "305210",
    "end": "312259"
  },
  {
    "text": "the routes had to be reverie thing but for the clients the protocol is 100% backwards compatible so that's ok we",
    "start": "312259",
    "end": "319580"
  },
  {
    "text": "have two new abstractions that will be adopting when talking about using nets",
    "start": "319580",
    "end": "324889"
  },
  {
    "start": "320000",
    "end": "320000"
  },
  {
    "text": "these are streams on services there is you are already you're using naturally",
    "start": "324889",
    "end": "331889"
  },
  {
    "text": "using this were use I started to name these patterns of the request response and just broke and sending data streams",
    "start": "331889",
    "end": "341240"
  },
  {
    "text": "there's a security and off enhancements once called the end keys which are",
    "start": "341240",
    "end": "347580"
  },
  {
    "text": "eighty two five five one nine keys the superclusters that we're talking about which gateways and leaf nodes and",
    "start": "347580",
    "end": "354270"
  },
  {
    "text": "basically class of clusters system accounts for operations for this very large clusters when you can use use Nats",
    "start": "354270",
    "end": "360810"
  },
  {
    "text": "to be able to monitor all of the service that are part of the network and the centralized management instead of having",
    "start": "360810",
    "end": "368460"
  },
  {
    "text": "a single static configuration and that you can you can do reload it dynamically update now for the author or three",
    "start": "368460",
    "end": "375330"
  },
  {
    "text": "session pieces you can have you can destroy lies those permissions and last",
    "start": "375330",
    "end": "380580"
  },
  {
    "text": "but not least the graceful shutdown so first I will multi-tenancy and accounts",
    "start": "380580",
    "end": "386879"
  },
  {
    "text": "which are we like to say direct like containers for messaging you familiar with the Nats version one authorization",
    "start": "386879",
    "end": "393659"
  },
  {
    "start": "388000",
    "end": "388000"
  },
  {
    "text": "features we have you can define a stanza for authorization and list a number of",
    "start": "393659",
    "end": "399089"
  },
  {
    "text": "users that are allowed to be able to connect into the system in this",
    "start": "399089",
    "end": "405240"
  },
  {
    "text": "convenient that was like a static list of of users and all of the subject",
    "start": "405240",
    "end": "410520"
  },
  {
    "text": "namespaces were were shirt so if you",
    "start": "410520",
    "end": "416460"
  },
  {
    "text": "wanted to separate the permissions you could well you could start using the",
    "start": "416460",
    "end": "421469"
  },
  {
    "text": "permissions definition to be able to declare whether these set of users are",
    "start": "421469",
    "end": "426479"
  },
  {
    "text": "allowed to only send requests on this subject but they are allowed to be able to they're not allowed to subscribe for",
    "start": "426479",
    "end": "433949"
  },
  {
    "text": "actors responders for these other service in this case if you do the",
    "start": "433949",
    "end": "439560"
  },
  {
    "text": "connect and police and message for example in this case the user Alice you would get an asynchronous era",
    "start": "439560",
    "end": "445889"
  },
  {
    "text": "notification that it cannot publish messages and the other ones getting a notification that it can subscribe so",
    "start": "445889",
    "end": "453899"
  },
  {
    "text": "this is a still very useful but now there's some more flexible way to create",
    "start": "453899",
    "end": "460529"
  },
  {
    "start": "457000",
    "end": "457000"
  },
  {
    "text": "like pool of users and separating into multiple accounts in this case you a couple of accounts one Acme and CN CF",
    "start": "460529",
    "end": "467430"
  },
  {
    "text": "and they have a single user for each one of the accounts now if the alleys",
    "start": "467430",
    "end": "473160"
  },
  {
    "text": "connects and it doesn't Alice doesn't have to declare which is the account",
    "start": "473160",
    "end": "478260"
  },
  {
    "text": "that is connecting but rather the server knows to which account it belongs",
    "start": "478260",
    "end": "483419"
  },
  {
    "text": "already by only sending their credentials so in this case Alice can connect to sub greetings and then Bob",
    "start": "483419",
    "end": "491340"
  },
  {
    "text": "under the other account can connect and publish messages but because the subject",
    "start": "491340",
    "end": "496530"
  },
  {
    "text": "namespaces are isolated then there is no data sharing by default within these two",
    "start": "496530",
    "end": "501600"
  },
  {
    "text": "accounts so in this case the message is not forward so this can be a very easy",
    "start": "501600",
    "end": "509400"
  },
  {
    "text": "way to be able to reduce a single and not server for multiple set of",
    "start": "509400",
    "end": "515909"
  },
  {
    "text": "requirements and as you know that not server performance is it's fairly high so you can buy the Falls around 80",
    "start": "515909",
    "end": "524279"
  },
  {
    "text": "million messages per second very busy machines so you can start rather than",
    "start": "524279",
    "end": "529430"
  },
  {
    "text": "separating to multiple clusters you can just continue to use the same set of eyepiece or reduce the same data sent",
    "start": "529430",
    "end": "537720"
  },
  {
    "text": "didn't nuts cluster set up in order to",
    "start": "537720",
    "end": "542880"
  },
  {
    "start": "541000",
    "end": "541000"
  },
  {
    "text": "support this clustering the accounts isolation the routes how to be rewritten",
    "start": "542880",
    "end": "549330"
  },
  {
    "text": "and this is the only part that is not compatible with not v1 and deployment and the reason for that is that well now",
    "start": "549330",
    "end": "557190"
  },
  {
    "text": "to upgrade fournette in to version 2 and then there your clients will have to",
    "start": "557190",
    "end": "563220"
  },
  {
    "text": "have a disconnect to the next version two clusters and you cannot connect them",
    "start": "563220",
    "end": "571880"
  },
  {
    "text": "version 2 closer to version 1 so if",
    "start": "571880",
    "end": "576990"
  },
  {
    "text": "you're using Nats operator is a feature named extra routes so you can connect to other clusters so that you can drain one",
    "start": "576990",
    "end": "583410"
  },
  {
    "text": "cluster and then upgrading so this is unfortunately not possible when moving from v1 to version 2 so now the routing",
    "start": "583410",
    "end": "592320"
  },
  {
    "start": "589000",
    "end": "589000"
  },
  {
    "text": "protocol looks like like this then whenever you are creating a subscription",
    "start": "592320",
    "end": "598020"
  },
  {
    "text": "it gets announced within the same and that's cluster in this case at the hello subscription from the first connection",
    "start": "598020",
    "end": "603990"
  },
  {
    "text": "is being gossiped well the interest is being forwarded to the other Nats members from Nats cluster",
    "start": "603990",
    "end": "611820"
  },
  {
    "text": "and you see that there is now this dollar G account so even if you're not",
    "start": "611820",
    "end": "618570"
  },
  {
    "text": "explicitly using accounts you already part of an account if you if you start",
    "start": "618570",
    "end": "624089"
  },
  {
    "text": "using NetSuite to us if it were not be one what actually is happening is that you're using the global account where",
    "start": "624089",
    "end": "629640"
  },
  {
    "text": "all day known well implicitly using the",
    "start": "629640",
    "end": "634800"
  },
  {
    "text": "global account so the next feature is",
    "start": "634800",
    "end": "643050"
  },
  {
    "text": "that sharing actually daily sharing data between these accounts for this you use the streams of services abstractions",
    "start": "643050",
    "end": "649470"
  },
  {
    "start": "647000",
    "end": "647000"
  },
  {
    "text": "again services is what we know in Nats as any endpoint that is any subscription",
    "start": "649470",
    "end": "655860"
  },
  {
    "text": "then from a requester is expecting a response that is a single response that",
    "start": "655860",
    "end": "664260"
  },
  {
    "text": "is a that is a service and a stream is essentially just a subscription that",
    "start": "664260",
    "end": "671040"
  },
  {
    "text": "from what you can consume events in case",
    "start": "671040",
    "end": "677670"
  },
  {
    "start": "676000",
    "end": "676000"
  },
  {
    "text": "of using in this case we have a couple of two accounts the Acme and CNCs",
    "start": "677670",
    "end": "683280"
  },
  {
    "text": "accounts with an Alice and Bob users you need to very similar to like in",
    "start": "683280",
    "end": "688860"
  },
  {
    "text": "containers you need to export the port's that you want other services to connect you need to export what are the subjects",
    "start": "688860",
    "end": "697170"
  },
  {
    "text": "that other accounts are being able to mount into their or their own isolated name something like spaces so in this",
    "start": "697170",
    "end": "703890"
  },
  {
    "text": "case the Acme account is exporting there is making available the hello subject and then the CN CF account it is",
    "start": "703890",
    "end": "710910"
  },
  {
    "text": "importing from the Acme account the subject hello and mounting that subject",
    "start": "710910",
    "end": "716610"
  },
  {
    "text": "into the CNC F dot hello subject so considering that and isolated pieces now",
    "start": "716610",
    "end": "723810"
  },
  {
    "text": "the skew subscription then it's a that is acting as a service we have the hello",
    "start": "723810",
    "end": "730110"
  },
  {
    "text": "subscription using the worker queue group that is expecting a request with",
    "start": "730110",
    "end": "738899"
  },
  {
    "text": "an reply inbox then this from this intensive account you make a request on",
    "start": "738899",
    "end": "746600"
  },
  {
    "text": "the CNC F dot hello subject that is where you mounted the that subject from",
    "start": "746600",
    "end": "753839"
  },
  {
    "text": "that order account any questions and this part okay so what is really cool",
    "start": "753839",
    "end": "764129"
  },
  {
    "start": "763000",
    "end": "763000"
  },
  {
    "text": "about sharing data between these accounts is that the request response",
    "start": "764129",
    "end": "769259"
  },
  {
    "text": "are you familiar with the way that Nats does request response one to one and to communication it does it by having these",
    "start": "769259",
    "end": "775649"
  },
  {
    "text": "ephemeral in boxes so Nazis there is no special request response protocol for",
    "start": "775649",
    "end": "781379"
  },
  {
    "text": "Nats and everything is pure publish/subscribe so the request response is build by having these unique",
    "start": "781379",
    "end": "787829"
  },
  {
    "text": "identifiers for an inbox that expect that has very limited interest for our response for a message so you can see",
    "start": "787829",
    "end": "794819"
  },
  {
    "text": "that the original clients sending a request on the CNC F dot hello subject big belongs to another the cnc of CN CF",
    "start": "794819",
    "end": "802670"
  },
  {
    "text": "account but when it moves across accounts these gets transformed into",
    "start": "802670",
    "end": "808920"
  },
  {
    "text": "another half email subject so between the different subject",
    "start": "808920",
    "end": "813990"
  },
  {
    "text": "namespaces they they're completely unaware of what was the original the original subject so that that doesn't",
    "start": "813990",
    "end": "819720"
  },
  {
    "text": "that doesn't leak between accounts so their response is completely anonymous",
    "start": "819720",
    "end": "826910"
  },
  {
    "start": "823000",
    "end": "823000"
  },
  {
    "text": "then the other and abstraction it then when you're juicing accounts and that",
    "start": "826910",
    "end": "832319"
  },
  {
    "text": "system streams tiny streams similar similarly you we can declare in the",
    "start": "832319",
    "end": "838649"
  },
  {
    "text": "exports the this is a stream that you are making available for other accounts",
    "start": "838649",
    "end": "844589"
  },
  {
    "text": "under the Acme dot full wall cart and",
    "start": "844589",
    "end": "849949"
  },
  {
    "text": "then the scenes of agency of account can't import that this stream that belongs",
    "start": "849949",
    "end": "858690"
  },
  {
    "text": "from the Acme account into imports namespace so now any message that gets",
    "start": "858690",
    "end": "867450"
  },
  {
    "text": "published under the Ahmed dot full water anything that matches with a full welcome in this case would be hello but",
    "start": "867450",
    "end": "874170"
  },
  {
    "text": "it could be any number of subject separated by that but I thought they",
    "start": "874170",
    "end": "881820"
  },
  {
    "text": "would be consumed by the other CN CF account under the imports dot full-wall",
    "start": "881820",
    "end": "887550"
  },
  {
    "text": "card okay so so far we have you still",
    "start": "887550",
    "end": "893640"
  },
  {
    "text": "been using the users and basic user and password credential study configuration",
    "start": "893640",
    "end": "899220"
  },
  {
    "text": "within that server we have a new technology named n T's which are based",
    "start": "899220",
    "end": "905040"
  },
  {
    "text": "on eighty two five five one nine very short keys and these are we added some a",
    "start": "905040",
    "end": "911700"
  },
  {
    "start": "909000",
    "end": "909000"
  },
  {
    "text": "couple of encoding for the from for the",
    "start": "911700",
    "end": "917310"
  },
  {
    "text": "wrong 8255 one nine keys tutorial to make them easy to use and this is what",
    "start": "917310",
    "end": "922650"
  },
  {
    "text": "you can like you can use this public and private key mechanism to authenticate",
    "start": "922650",
    "end": "929490"
  },
  {
    "text": "the users instead of the basic users so there is a n key tool that you can use",
    "start": "929490",
    "end": "935580"
  },
  {
    "text": "and go get to able to get the generate these private keys this is an example of",
    "start": "935580",
    "end": "941700"
  },
  {
    "text": "creating a user key you can see that starts with an S you said seat that can",
    "start": "941700",
    "end": "948839"
  },
  {
    "text": "act as a private key instead what you can use to generate the key pair that",
    "start": "948839",
    "end": "953940"
  },
  {
    "text": "you can use to sign messages and payloads or verify the the payload in",
    "start": "953940",
    "end": "959610"
  },
  {
    "text": "from this seed you can create a public account and the public account is that the one that is well actually gets",
    "start": "959610",
    "end": "967589"
  },
  {
    "text": "transmitted today to the nav server for example but the not server doesn't hold any private keys whatsoever also it",
    "start": "967589",
    "end": "973200"
  },
  {
    "text": "doesn't have it only sends you challenges that you have to sign and then if that then the not server will",
    "start": "973200",
    "end": "982170"
  },
  {
    "text": "verify that the challenge is is valid and you are you can authenticate so it's an example",
    "start": "982170",
    "end": "990470"
  },
  {
    "start": "989000",
    "end": "989000"
  },
  {
    "text": "of replacing the users user basic and",
    "start": "990470",
    "end": "995540"
  },
  {
    "text": "password that we have with the end keys so you declare in the still using static",
    "start": "995540",
    "end": "1002980"
  },
  {
    "text": "configuration you declare the public key for from the empty and I just have",
    "start": "1002980",
    "end": "1008829"
  },
  {
    "text": "commented here then what is the seat but the seat you actually have to be very careful it's a secret essentially so you",
    "start": "1008829",
    "end": "1016269"
  },
  {
    "text": "have to be careful how to manage that and basically they never make it public",
    "start": "1016269",
    "end": "1022959"
  },
  {
    "text": "so now that we have our M keys and have a public and private key way of",
    "start": "1022959",
    "end": "1029019"
  },
  {
    "text": "authenticating with the server the next piece making the static configuration and the centralized for this we used a",
    "start": "1029019",
    "end": "1036038"
  },
  {
    "text": "JWT s web tokens so you can represent the identities that belong to the system",
    "start": "1036039",
    "end": "1043149"
  },
  {
    "text": "so you have a sparse automated the fields from the JWT there is the which account this user belongs to you what is",
    "start": "1043149",
    "end": "1050230"
  },
  {
    "text": "the public M key there are some more metadata like friendly names and the",
    "start": "1050230",
    "end": "1055899"
  },
  {
    "text": "permissions that this account has and some exploration our parameters as well",
    "start": "1055899",
    "end": "1061139"
  },
  {
    "text": "this is how they look familiar with JSON tokens in this case what I mentioned at",
    "start": "1061139",
    "end": "1066700"
  },
  {
    "text": "the beginning for their permissions as part of the JWT that gets issued to you",
    "start": "1066700",
    "end": "1072480"
  },
  {
    "text": "by someone you are it detects that you can only publish messages under the",
    "start": "1072480",
    "end": "1078130"
  },
  {
    "text": "public dot full wild card but and you cannot subscribe to anything that is under the private dot full worker and",
    "start": "1078130",
    "end": "1087429"
  },
  {
    "start": "1086000",
    "end": "1086000"
  },
  {
    "text": "these JW T's are stored in something we call the net account server so now then",
    "start": "1087429",
    "end": "1093789"
  },
  {
    "text": "that server to get it gets configured with our resolver which is an HTTP client makes a single get to to fetch a",
    "start": "1093789",
    "end": "1102190"
  },
  {
    "text": "publicly available and a JWT in order to validate whether this user is can't",
    "start": "1102190",
    "end": "1108630"
  },
  {
    "text": "connect to the system the idea is that these endpoints will eventually be part of our CDN and so you can even thanks to",
    "start": "1108630",
    "end": "1118120"
  },
  {
    "text": "the CDN that request gets handled by the closest server to you so this is not like",
    "start": "1118120",
    "end": "1125970"
  },
  {
    "text": "private data it's meant to be meant to be meant to be wholly public and Jade",
    "start": "1125970",
    "end": "1131019"
  },
  {
    "text": "abilities understand this new tool and a C for creating these abilities as well",
    "start": "1131019",
    "end": "1140158"
  },
  {
    "text": "the complete documentation for all these tooling is going greater well just so",
    "start": "1141149",
    "end": "1146169"
  },
  {
    "text": "you can really start checking out the repos that are part of not SIA organization so in a nutshell how it",
    "start": "1146169",
    "end": "1152260"
  },
  {
    "text": "works with them in keys and abilities that as a client you start the connection the service center in for",
    "start": "1152260",
    "end": "1158110"
  },
  {
    "text": "protocol back with a challenge you as a client then send the connect request",
    "start": "1158110",
    "end": "1163899"
  },
  {
    "text": "that they connect payload signing the challenge with the private entity that",
    "start": "1163899",
    "end": "1168909"
  },
  {
    "text": "you have and you provide the public and key and in this case will be part of the JWT then the server verifies the",
    "start": "1168909",
    "end": "1175750"
  },
  {
    "text": "signature and then allows you gives you access into the system based on the permissions that were assigned to you",
    "start": "1175750",
    "end": "1181360"
  },
  {
    "text": "and you just in that that way the server doesn't have any private keys whatsoever",
    "start": "1181360",
    "end": "1187590"
  },
  {
    "start": "1187000",
    "end": "1187000"
  },
  {
    "text": "this an example of the flow there's an announced gets sent by the server",
    "start": "1187590",
    "end": "1194039"
  },
  {
    "text": "it's a the fool JWT gets added as a part of the JSON payload from connect and",
    "start": "1194039",
    "end": "1201010"
  },
  {
    "text": "this is the signature that you give sent back to the server okay so now about",
    "start": "1201010",
    "end": "1206830"
  },
  {
    "text": "super clusters and basically cluster for clusters the",
    "start": "1206830",
    "end": "1213179"
  },
  {
    "text": "clusters of clusters and rely on technology named the gateways and the",
    "start": "1213179",
    "end": "1219159"
  },
  {
    "text": "gateway is a new type of connection that can be either outbound or inbound so in",
    "start": "1219159",
    "end": "1226029"
  },
  {
    "text": "this case there is only pair data center each one of the nodes has only a single",
    "start": "1226029",
    "end": "1232630"
  },
  {
    "text": "connection to another one of the other data centers that are part of the super",
    "start": "1232630",
    "end": "1238330"
  },
  {
    "text": "cluster this is how you set up for example their set of gateways in this",
    "start": "1238330",
    "end": "1245230"
  },
  {
    "text": "case have three different data centers Amsterdam Bangalore and New York",
    "start": "1245230",
    "end": "1251360"
  },
  {
    "text": "and it connects to one of the servers that are part of from that cluster and",
    "start": "1251360",
    "end": "1258260"
  },
  {
    "text": "then there's also gossiping happening under the hood so it will discover whether the other similarly how works",
    "start": "1258260",
    "end": "1265820"
  },
  {
    "text": "with a closed Nats cluster and you can get a synchronous info messages to discover",
    "start": "1265820",
    "end": "1270830"
  },
  {
    "text": "the full network topology similar and similar thing happens with gateway so you can ensure that there's inbound and",
    "start": "1270830",
    "end": "1277700"
  },
  {
    "text": "outbound connections table to not have partitions and in the messages that get",
    "start": "1277700",
    "end": "1285440"
  },
  {
    "text": "routed this is an example of well they",
    "start": "1285440",
    "end": "1291770"
  },
  {
    "text": "treat different data centers when you connect to them and they announce to you whether they available clusters then for",
    "start": "1291770",
    "end": "1300380"
  },
  {
    "text": "that data center so then you come from Amster and you get three different public IPs and NYC you can add two",
    "start": "1300380",
    "end": "1307430"
  },
  {
    "text": "different as well and then if you publish from the third one then the message will get routed to the other",
    "start": "1307430",
    "end": "1314290"
  },
  {
    "text": "data centers above and this is goes in",
    "start": "1314290",
    "end": "1319310"
  },
  {
    "text": "line to the original question about not streaming the queue subscriptions for when you're juicing cute and super",
    "start": "1319310",
    "end": "1326420"
  },
  {
    "text": "clusters they are geo aware so in case you have an nuts training cluster it",
    "start": "1326420",
    "end": "1332570"
  },
  {
    "text": "would be only handling the request for that are part of this the one data",
    "start": "1332570",
    "end": "1337910"
  },
  {
    "text": "center on less let's say you have an they fail and then another to some",
    "start": "1337910",
    "end": "1345140"
  },
  {
    "text": "center good failover basically even if they're very far so but by by the by by",
    "start": "1345140",
    "end": "1351950"
  },
  {
    "text": "default it will try talking - where is the closest subscriber consumer that can reply to the message so in this case it",
    "start": "1351950",
    "end": "1359720"
  },
  {
    "text": "was only until the the two queue subscriptions that belong to the",
    "start": "1359720",
    "end": "1364940"
  },
  {
    "text": "Amsterdam data center failed when they a New York a data center I started to",
    "start": "1364940",
    "end": "1370040"
  },
  {
    "text": "handling the traffic yeah it does it by well it is a word of the round with",
    "start": "1370040",
    "end": "1376760"
  },
  {
    "text": "times from the Binghamton protocol",
    "start": "1376760",
    "end": "1380830"
  },
  {
    "text": "okay so there is the way that that that",
    "start": "1383340",
    "end": "1388510"
  },
  {
    "start": "1384000",
    "end": "1384000"
  },
  {
    "text": "supercluster works it is at most at three hops whenever the message is getting",
    "start": "1388510",
    "end": "1393610"
  },
  {
    "text": "forwarded forward so when you connect to one any of the nodes from the super",
    "start": "1393610",
    "end": "1400450"
  },
  {
    "text": "cluster they message get routed and also",
    "start": "1400450",
    "end": "1406030"
  },
  {
    "text": "goes from account to account so it means on top of the previous pieces there an other dimension and there is an extra",
    "start": "1406030",
    "end": "1412870"
  },
  {
    "text": "type of a network topology using our leaf nodes which is when your client you",
    "start": "1412870",
    "end": "1417880"
  },
  {
    "text": "can use like double clients to connect to their super clusters without having to rely on the n keys or this other",
    "start": "1417880",
    "end": "1427110"
  },
  {
    "text": "feature so you can just have this extra leaf node handle that for you what",
    "start": "1427710",
    "end": "1433960"
  },
  {
    "text": "similar and system events it's an very helpful feature be able to do in",
    "start": "1433960",
    "end": "1439150"
  },
  {
    "text": "operations for this mesh of clusters and in our case because you use not cluster",
    "start": "1439150",
    "end": "1445360"
  },
  {
    "start": "1442000",
    "end": "1442000"
  },
  {
    "text": "super cluster that comp is composed from around seven different and different torront√©s regions and aks and little G K",
    "start": "1445360",
    "end": "1454030"
  },
  {
    "text": "and so rather than doing operations with multiple keep CTL commands we just rely",
    "start": "1454030",
    "end": "1459220"
  },
  {
    "text": "on just more Nats table to collect all of the requests and monitor using their",
    "start": "1459220",
    "end": "1464970"
  },
  {
    "text": "the system account that is that gives",
    "start": "1464970",
    "end": "1470230"
  },
  {
    "text": "you this ability a number of a number of steps from the server so this is a very",
    "start": "1470230",
    "end": "1478060"
  },
  {
    "text": "useful the system account as a number of",
    "start": "1478060",
    "end": "1483880"
  },
  {
    "text": "subjects that you can send a request and then expect n number of replies back",
    "start": "1483880",
    "end": "1489430"
  },
  {
    "text": "with information about each one of their nodes that are part of the super cluster",
    "start": "1489430",
    "end": "1495090"
  },
  {
    "text": "it's an example pail of that you can inspect from them when subscribing to",
    "start": "1495090",
    "end": "1501400"
  },
  {
    "text": "that sees dot server and also answer this was quite a while",
    "start": "1501400",
    "end": "1509730"
  },
  {
    "text": "ago but it is getting shipped with nasturtium to it is the lame-duck mode when by sending a user to signal to the",
    "start": "1509730",
    "end": "1517080"
  },
  {
    "start": "1515000",
    "end": "1515000"
  },
  {
    "text": "to the server now the servers are going to gradually be disconnecting all of the",
    "start": "1517080",
    "end": "1524220"
  },
  {
    "text": "clients are connected to so they can reconnect to any other available node",
    "start": "1524220",
    "end": "1529560"
  },
  {
    "text": "without so that that it is held to be able to drain traffic form from one for",
    "start": "1529560",
    "end": "1539550"
  },
  {
    "text": "doing updates to nuts basically that's what we that's what we do now so what",
    "start": "1539550",
    "end": "1546330"
  },
  {
    "text": "the point and the narration to you on the kubernetes using the operator so",
    "start": "1546330",
    "end": "1552150"
  },
  {
    "start": "1551000",
    "end": "1551000"
  },
  {
    "text": "this is a net net operator and it's a composite many of the best practices",
    "start": "1552150",
    "end": "1557220"
  },
  {
    "text": "from running Nats in production and the last release has the pieces to be able",
    "start": "1557220",
    "end": "1563640"
  },
  {
    "text": "to create gateways leaf nodes and run the nut server in the Trussell operation mode operator mode this is how the",
    "start": "1563640",
    "end": "1572400"
  },
  {
    "text": "manifest looks like when you want to order the way we're right now recommend it to if you want to create a super",
    "start": "1572400",
    "end": "1578280"
  },
  {
    "text": "cluster so the publicly available clouds we use the host port to be able to bind",
    "start": "1578280",
    "end": "1586620"
  },
  {
    "start": "1586000",
    "end": "1586000"
  },
  {
    "text": "a single port to each one of the machines so you have to if you want to",
    "start": "1586620",
    "end": "1592650"
  },
  {
    "text": "have external access with the operator you need to ensure that the as part of",
    "start": "1592650",
    "end": "1599850"
  },
  {
    "text": "the nodes metadata from the cubelets there is the external IP sometimes it's missing but I think in for well I'd just",
    "start": "1599850",
    "end": "1608040"
  },
  {
    "text": "to be missing an aka yes but I've got fixed so I think most of the current",
    "start": "1608040",
    "end": "1614070"
  },
  {
    "text": "deployment public public hosted community solutions are already supported and you define the ones they",
    "start": "1614070",
    "end": "1622980"
  },
  {
    "text": "were the gateways based on a public IP in this case I'm only assigning a single",
    "start": "1622980",
    "end": "1628830"
  },
  {
    "text": "public IP and then I rely on the gossip to be able to discover the other clusters but it could be helpful as well",
    "start": "1628830",
    "end": "1634740"
  },
  {
    "text": "to have a DNS name that resolved all of the different",
    "start": "1634740",
    "end": "1639980"
  },
  {
    "text": "gateways that Razak internet cluster so that the nav server will do that for you",
    "start": "1639980",
    "end": "1647590"
  },
  {
    "text": "so to know what to avoid rely in the public IP that can change and this well",
    "start": "1647590",
    "end": "1655999"
  },
  {
    "text": "if you're juicing a version beat 1.12 will rely on the feature of the pitch",
    "start": "1655999",
    "end": "1661220"
  },
  {
    "text": "sharing process namespaces so that you can reload the configuration from the",
    "start": "1661220",
    "end": "1667850"
  },
  {
    "text": "server on the fly without having to restart it so nuts operator creates",
    "start": "1667850",
    "end": "1675830"
  },
  {
    "start": "1673000",
    "end": "1673000"
  },
  {
    "text": "three well in this case is size 3 so you would create a 3 node cluster and it",
    "start": "1675830",
    "end": "1682220"
  },
  {
    "text": "assigns a single a record for each one of the nodes which is very important if",
    "start": "1682220",
    "end": "1687320"
  },
  {
    "text": "you want to setup TLS because you need to create a wildcard certificate that matches this in this case would be the",
    "start": "1687320",
    "end": "1695210"
  },
  {
    "text": "NAD super cluster MGMT and now in that's part of the reason in the nuts operator",
    "start": "1695210",
    "end": "1701509"
  },
  {
    "text": "and someone contributed how to do that using the cert manager and that's an super useful that's not what I've been",
    "start": "1701509",
    "end": "1707720"
  },
  {
    "text": "using lately and by setting this x12",
    "start": "1707720",
    "end": "1715269"
  },
  {
    "start": "1709000",
    "end": "1709000"
  },
  {
    "text": "this is what I mentioned about the external IP metadata has to be available the way this is this is also relying on",
    "start": "1715269",
    "end": "1722629"
  },
  {
    "text": "having a service account that has enough permissions to be able to resolve the external IP it's just an initializer",
    "start": "1722629",
    "end": "1730129"
  },
  {
    "text": "container that finds one what is the IP from the current net server node what",
    "start": "1730129",
    "end": "1736639"
  },
  {
    "text": "it's has been deployed and then sets that at runtime so that it can advertise",
    "start": "1736639",
    "end": "1744379"
  },
  {
    "text": "what is the IP address it's something I really involved or it does but automated",
    "start": "1744379",
    "end": "1751789"
  },
  {
    "text": "with the operator but this is very useful so that you can your clients if you're connected and externally they can",
    "start": "1751789",
    "end": "1758480"
  },
  {
    "text": "discover the other publicly available endpoints without relying on DNS anymore",
    "start": "1758480",
    "end": "1765009"
  },
  {
    "start": "1764000",
    "end": "1764000"
  },
  {
    "text": "and for the trusted operator and setup there are basically three different",
    "start": "1765009",
    "end": "1771130"
  },
  {
    "text": "parameters in to set which are the system account which is the world the blessed account that you can use to be",
    "start": "1771130",
    "end": "1779110"
  },
  {
    "text": "able to monitor the servers the special secret that contains them well they",
    "start": "1779110",
    "end": "1784990"
  },
  {
    "text": "private key what with them for well for",
    "start": "1784990",
    "end": "1790990"
  },
  {
    "text": "for the trusted server setup and the end point from where it's going to where it's going to be validating that the",
    "start": "1790990",
    "end": "1796990"
  },
  {
    "text": "generalities that it gets what you want to be fetching the edge abilities or the",
    "start": "1796990",
    "end": "1802390"
  },
  {
    "text": "Nats account server and this is what I mentioned about that a simple tool that you can use some just using the system",
    "start": "1802390",
    "end": "1809050"
  },
  {
    "start": "1804000",
    "end": "1804000"
  },
  {
    "text": "account and the super clusters and Enki's table to discover what are the",
    "start": "1809050",
    "end": "1814060"
  },
  {
    "text": "current available and notes as part of their closer so far for the teachers I",
    "start": "1814060",
    "end": "1822820"
  },
  {
    "text": "can I don't have a deployment for if you want to see how it works but any",
    "start": "1822820",
    "end": "1829210"
  },
  {
    "text": "questions",
    "start": "1829210",
    "end": "1831539"
  },
  {
    "text": "[Music]",
    "start": "1838580",
    "end": "1842109"
  },
  {
    "text": "clusters so how do you handle the consistency of the data if you have",
    "start": "1844820",
    "end": "1850820"
  },
  {
    "text": "multiple time stamps so you have you",
    "start": "1850820",
    "end": "1856409"
  },
  {
    "text": "have multiple clusters yeah you have multiple time stamps in different clusters how do you handle to Rico do",
    "start": "1856409",
    "end": "1864179"
  },
  {
    "text": "the replication and reconcile the messages okay so so that's a so Nats",
    "start": "1864179",
    "end": "1869700"
  },
  {
    "text": "this is stateless and it doesn't have it is not coupled to any time stamps in",
    "start": "1869700",
    "end": "1875820"
  },
  {
    "text": "this case so I think it said for NASA I think is a known problem right now there",
    "start": "1875820",
    "end": "1884490"
  },
  {
    "text": "cause that",
    "start": "1884490",
    "end": "1887210"
  },
  {
    "text": "that's okay well not streaming yeah it does have the notion well the time",
    "start": "1890470",
    "end": "1897710"
  },
  {
    "text": "stamps but he's I guess on that stream",
    "start": "1897710",
    "end": "1906800"
  },
  {
    "text": "in the Korean type of deployments would be within a single data center I'm not",
    "start": "1906800",
    "end": "1912110"
  },
  {
    "text": "sure we need to get an ask event on how to deploy it with a multiple super",
    "start": "1912110",
    "end": "1919520"
  },
  {
    "text": "cluster set up as well",
    "start": "1919520",
    "end": "1922360"
  },
  {
    "text": "a full a full mesh means that the closed",
    "start": "1931950",
    "end": "1941850"
  },
  {
    "text": "Nats cluster the next closer it's for high availability purposes for example",
    "start": "1941850",
    "end": "1946890"
  },
  {
    "start": "1945000",
    "end": "1945000"
  },
  {
    "text": "each one of these nuts clusters small nut clusters trade they they are a full",
    "start": "1946890",
    "end": "1952050"
  },
  {
    "text": "mesh so full mesh one hub and then the nap the super clusters they're not full mesh but have the outbound connections",
    "start": "1952050",
    "end": "1958710"
  },
  {
    "text": "in yeah but the communication with four nuts the cornets is a stateless so it",
    "start": "1958710",
    "end": "1965190"
  },
  {
    "text": "wouldn't have their issues and timestamps or yeah",
    "start": "1965190",
    "end": "1970790"
  },
  {
    "text": "so night supports amazingly well for permission-based authorizations",
    "start": "1988179",
    "end": "1993879"
  },
  {
    "text": "but not streaming server it isn't so is there any plan of adding that or is",
    "start": "1993879",
    "end": "2001029"
  },
  {
    "text": "there any another washer new version for not streaming somewhere yes that's still",
    "start": "2001029",
    "end": "2006340"
  },
  {
    "text": "in the signed a yeah it's a limitation from not streaming that he doesn't have authorization and yeah we still have yet",
    "start": "2006340",
    "end": "2015609"
  },
  {
    "text": "to address okay yeah and so is there any",
    "start": "2015609",
    "end": "2021429"
  },
  {
    "text": "improvements on adding pv per pod for everyone pv / pod TV proposed for a",
    "start": "2021429",
    "end": "2033519"
  },
  {
    "text": "phone that streaming server right yeah okay I think with the help chart right",
    "start": "2033519",
    "end": "2038529"
  },
  {
    "text": "now it's supported but with the operator needs to need an enhancement on that one yeah so it's a yeah right on spending",
    "start": "2038529",
    "end": "2046149"
  },
  {
    "text": "okay yes thanks okay any other questions",
    "start": "2046149",
    "end": "2055079"
  },
  {
    "text": "does it have stickers",
    "start": "2055079",
    "end": "2058649"
  },
  {
    "text": "yes I'll also be at the CN CF answers bar if you want to talk about your use",
    "start": "2078820",
    "end": "2084490"
  },
  {
    "text": "case or a more insert other angle of using that so I just let me know or",
    "start": "2084490",
    "end": "2090070"
  },
  {
    "text": "being mean to you there as well thank you [Applause]",
    "start": "2090070",
    "end": "2101050"
  }
]