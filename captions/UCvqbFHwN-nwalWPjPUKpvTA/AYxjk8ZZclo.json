[
  {
    "text": "okay everyone Uh welcome to uh Taming the Beast on the uh last day of KubeCon It's great to see such a good turnout",
    "start": "160",
    "end": "6480"
  },
  {
    "text": "considering uh last days Typically it's not really like this Uh my name's Lucy I'm an engineer working Uber and I'm a",
    "start": "6480",
    "end": "13920"
  },
  {
    "text": "contributor to Kubernetes Uh for most of this presentation I'm going to be playing uh more of a role as a user of",
    "start": "13920",
    "end": "20320"
  },
  {
    "text": "Kubernetes who uh has a uh what is it who has a lot of struggles with uh",
    "start": "20320",
    "end": "26000"
  },
  {
    "text": "resource management I'm thrilled to be joined here today by Dorm Hello everyone My name is Don Chen I'm the software",
    "start": "26000",
    "end": "33040"
  },
  {
    "text": "engineer from Google and also I'm the tech lead of the Kubernetes signal since",
    "start": "33040",
    "end": "38719"
  },
  {
    "text": "its inception And I'm thrilled here together with the Lucy and together with",
    "start": "38719",
    "end": "44480"
  },
  {
    "text": "us uh we are going to show you folks uh a lot of the new tricks we development",
    "start": "44480",
    "end": "51840"
  },
  {
    "text": "uh last one year and or couple years and to help you to management resources",
    "start": "51840",
    "end": "58399"
  },
  {
    "text": "better and help you gain better control and also management the Kubernetes",
    "start": "58399",
    "end": "63640"
  },
  {
    "text": "resource a little bit less and tend Yeah Awesome So uh oh can I borrow the",
    "start": "63640",
    "end": "69360"
  },
  {
    "text": "clicker ah yes So uh Dawn uh I've been using Kubernetes a lot at work uh",
    "start": "69360",
    "end": "75760"
  },
  {
    "text": "recently and it's been quite useful especially for more basic stateless uh workloads and uh the more basic stuff we",
    "start": "75760",
    "end": "82400"
  },
  {
    "text": "have but we've really struggled with uh more advanced uh workloads and more advanced resource usage I uh thought",
    "start": "82400",
    "end": "89119"
  },
  {
    "text": "that uh for to show my artistic creativity I would draw and uh how it",
    "start": "89119",
    "end": "94479"
  },
  {
    "text": "feels like to me It's almost like uh t trying to tame this wild beast uh to",
    "start": "94479",
    "end": "99600"
  },
  {
    "text": "work with our platform There's a few things in particular that I'm uh really uh really having uh trouble with I was",
    "start": "99600",
    "end": "105920"
  },
  {
    "text": "wondering if we could maybe step through them and see if we can work out uh whether we can do anything better Yeah go ahead Absolutely Let's tame this",
    "start": "105920",
    "end": "112240"
  },
  {
    "text": "let's tame the beast Okay which is the forward one That one So first off",
    "start": "112240",
    "end": "117719"
  },
  {
    "text": "um it's really it's uh setting resources at per container level It's sometime",
    "start": "117719",
    "end": "123119"
  },
  {
    "text": "sometimes it makes sense sometimes though it's a bit of a struggle I don't really want to dedicate an entire slice",
    "start": "123119",
    "end": "128319"
  },
  {
    "text": "of my CPU just to some site logging cycle I just wanted to share it with the main application Uh there's also a few",
    "start": "128319",
    "end": "133840"
  },
  {
    "text": "applications we have where we have one container normally has high utilization at the time another container has a low",
    "start": "133840",
    "end": "139920"
  },
  {
    "text": "utilization and then it flips on the inverse and really we have to reserve all of space for both containers uh in",
    "start": "139920",
    "end": "146560"
  },
  {
    "text": "order to use it There's no real concept of sharing um you know you could maybe do stuff in the CR but it's really not",
    "start": "146560",
    "end": "152000"
  },
  {
    "text": "that great Is there maybe anything we could do here yeah of course signaled uh community have been heard this kind of",
    "start": "152000",
    "end": "158239"
  },
  {
    "text": "the request for years and we finally introduced a new feature called P level",
    "start": "158239",
    "end": "163840"
  },
  {
    "text": "resource uh uh to the so the feature actually it is in F2 in this recent",
    "start": "163840",
    "end": "169959"
  },
  {
    "text": "release 32 uh uh 33 sorry right so and",
    "start": "169959",
    "end": "175280"
  },
  {
    "text": "uh it is allow you not just uh apply the resource requests and limit at the port",
    "start": "175280",
    "end": "181840"
  },
  {
    "text": "level instead of the individual of the container level Right so to really dig",
    "start": "181840",
    "end": "187680"
  },
  {
    "text": "into how this is work let's start with the how we apply of the resource uh at",
    "start": "187680",
    "end": "195120"
  },
  {
    "text": "the container today and you can see the from the yama file and you have to apply California syncing up front planning and",
    "start": "195120",
    "end": "202480"
  },
  {
    "text": "uh how much of the resource you want to apply to the each individual of the container and you always there's the",
    "start": "202480",
    "end": "209680"
  },
  {
    "text": "kind of struggle you are going to overprovisioning uh for each of the container and uh",
    "start": "209680",
    "end": "216000"
  },
  {
    "text": "based on their peak usage and the which is need about the class level or node level of the resource visiting and or",
    "start": "216000",
    "end": "223040"
  },
  {
    "text": "you are going to risk your under provisioning of the critical for application and impact their performance",
    "start": "223040",
    "end": "230400"
  },
  {
    "text": "right so so this is kind of the current approach with the introduction introduce",
    "start": "230400",
    "end": "236319"
  },
  {
    "text": "of this new feature ple resource and you can see that from the yama file right so",
    "start": "236319",
    "end": "241599"
  },
  {
    "text": "you are hugely simplify your configurations so you can apply simply at the port level and you can say the",
    "start": "241599",
    "end": "249040"
  },
  {
    "text": "what is total of the provide the boundary total of the resource uh",
    "start": "249040",
    "end": "254959"
  },
  {
    "text": "request and limit at the p level instead go to the detail about the container so you can see that the two container and",
    "start": "254959",
    "end": "261040"
  },
  {
    "text": "share of the the CPU and the memory uh do you want to try the demo yeah absolutely it's uh that sounds really",
    "start": "261040",
    "end": "267600"
  },
  {
    "text": "exciting let's see if we can make it work on a real system I will say this is over the internet so uh just uh be",
    "start": "267600",
    "end": "273600"
  },
  {
    "text": "warned Uh so if I come in here I have a Kubernetes cluster here Let me remind myself what I have in here Good So if I",
    "start": "273600",
    "end": "280800"
  },
  {
    "text": "come in here I have first off a uh YAML file here which I'm going to cap for the",
    "start": "280800",
    "end": "286360"
  },
  {
    "text": "audience Uh so this is just a uh basic web app and it has a resources Uh it has",
    "start": "286360",
    "end": "292560"
  },
  {
    "text": "a sidecar container that's doing some logging and it has a separate resource resource request right so let's just",
    "start": "292560",
    "end": "297600"
  },
  {
    "text": "apply that to the uh cluster pod level before Okay Yes I should make that bigger Okay",
    "start": "297600",
    "end": "305600"
  },
  {
    "text": "And I'll just quickly remind so resources are at the container level and we're all used to this right now What",
    "start": "305600",
    "end": "311600"
  },
  {
    "text": "can we do differently well let's have a look maybe at pod level after.yaml which is the exact same uh application except",
    "start": "311600",
    "end": "318720"
  },
  {
    "text": "now look the resources are not set at the container level at all They're set all the way at the top in the pod level And the pod is going it's going to share",
    "start": "318720",
    "end": "326560"
  },
  {
    "text": "these resources among all of the containers uh within So if we now apply this pod uh what is what what was the",
    "start": "326560",
    "end": "333520"
  },
  {
    "text": "file called again it was called pod level afterl and that's configured and if I",
    "start": "333520",
    "end": "339039"
  },
  {
    "text": "look maybe at the uh pods uh once they come up",
    "start": "339039",
    "end": "345000"
  },
  {
    "text": "uh which one was it i can't even remember now Probably this one and then I get this uh pod",
    "start": "345039",
    "end": "351320"
  },
  {
    "text": "here and we go up to the resources Ah here we are So you see here",
    "start": "351320",
    "end": "357759"
  },
  {
    "text": "that the resources are now set at the pod level They're being shared among all of the containers Awesome That's really",
    "start": "357759",
    "end": "363199"
  },
  {
    "text": "cool Um so Dawn um is is this something where you have to make a binary choice",
    "start": "363199",
    "end": "368720"
  },
  {
    "text": "is this something where I either have uh pod level resources or I have contain level resources or can I mix and match",
    "start": "368720",
    "end": "375600"
  },
  {
    "text": "here as adults we want both We want all combinations So this diagram show you",
    "start": "375600",
    "end": "381919"
  },
  {
    "text": "how powerful it could be And so you can Oh thank you This is Oh yeah Yeah Well",
    "start": "381919",
    "end": "390720"
  },
  {
    "text": "this is the one Okay So you can see from this diagram you can see that you can apply the uh the the resource at the",
    "start": "390720",
    "end": "398639"
  },
  {
    "text": "container level You can also apply the resources at the pod level You can also apply as the combination So this is",
    "start": "398639",
    "end": "405199"
  },
  {
    "text": "actually the highlights of the com the flexibility of this feature gave to us",
    "start": "405199",
    "end": "410560"
  },
  {
    "text": "right so you can of kubernetes So this one with this feature you are hugely",
    "start": "410560",
    "end": "416639"
  },
  {
    "text": "simplify um your the resource management uh configurations right so and reduce of",
    "start": "416639",
    "end": "421840"
  },
  {
    "text": "the possibility because the misisconfiguration based on the sum of",
    "start": "421840",
    "end": "427440"
  },
  {
    "text": "the container resource and which exceeded of the node capability but if for advance of the uh uh applications",
    "start": "427440",
    "end": "436080"
  },
  {
    "text": "you want for example for the machine learning of the workload which has the one data process uh pre prepile of",
    "start": "436080",
    "end": "443759"
  },
  {
    "text": "container and which require a lot of the resource spec at the beginning and but",
    "start": "443759",
    "end": "449759"
  },
  {
    "text": "also we need to ensure about the uh machine learning main app and have the enough of the uh CPU and the memory can",
    "start": "449759",
    "end": "457360"
  },
  {
    "text": "uh do the training jobs So in these cases actually you can apply uh power",
    "start": "457360",
    "end": "462960"
  },
  {
    "text": "level resource the CPU and the memory as the boundary as the total ensure of the",
    "start": "462960",
    "end": "468479"
  },
  {
    "text": "main application can be uh making progress but at the same time you can set the relative really high limit for",
    "start": "468479",
    "end": "476000"
  },
  {
    "text": "this data pro pro make sure they can using some of the resource at the beginning and but not all the time right",
    "start": "476000",
    "end": "482800"
  },
  {
    "text": "so that's the kind of things you can think about that another of the example I'm can thinking about it is application",
    "start": "482800",
    "end": "489680"
  },
  {
    "text": "with have the web services along with of the cached proxy right so so you",
    "start": "489680",
    "end": "494879"
  },
  {
    "text": "application the web services they may be have to due to the traffic pe you may be",
    "start": "494879",
    "end": "500160"
  },
  {
    "text": "once a while need more resource and but a lot of time actually it is the normal",
    "start": "500160",
    "end": "505680"
  },
  {
    "text": "you can set the p uh p level uh boundary as the normal usage of those combination",
    "start": "505680",
    "end": "512719"
  },
  {
    "text": "of the two containers So that's kind of P level in this case as P level resource give you the the guardrail as the whole",
    "start": "512719",
    "end": "520479"
  },
  {
    "text": "right So since you can think about the part as a unit but at the same time ving",
    "start": "520479",
    "end": "525839"
  },
  {
    "text": "of that part internally you can do the better sharing you can also uh at set of",
    "start": "525839",
    "end": "532800"
  },
  {
    "text": "the peak usage but at the same for the uh at the same time you can ensure of the normal time and the resource usage",
    "start": "532800",
    "end": "539839"
  },
  {
    "text": "That's awesome So uh this is uh in alpha still right so if you want to use it you have to turn on the feature gate But",
    "start": "539839",
    "end": "545360"
  },
  {
    "text": "yeah and uh hopefully folks can use it and they give give us feedback Awesome So that's great Uh we have though",
    "start": "545360",
    "end": "553120"
  },
  {
    "text": "another problem as well Uh right now we're trying to run stateful workloads on Kubernetes databases uh things that",
    "start": "553120",
    "end": "560959"
  },
  {
    "text": "are more tough to disrupt as well And we want to change their uh resource usage",
    "start": "560959",
    "end": "566240"
  },
  {
    "text": "but this isn't really possible right now Pods are immutable and their life cycle is one way Once you said that you have",
    "start": "566240",
    "end": "572240"
  },
  {
    "text": "this many resources for the pod you can't really change that When we run databases for example at work that",
    "start": "572240",
    "end": "577839"
  },
  {
    "text": "really can be quite disruptive because we have to create a brand new pod uh move everything over and uh and because",
    "start": "577839",
    "end": "584480"
  },
  {
    "text": "of that we're we're really struggling Is there maybe uh anything that we can do here to make this better yeah this is a",
    "start": "584480",
    "end": "591360"
  },
  {
    "text": "really good question actually and require about the uh powder restart and",
    "start": "591360",
    "end": "597519"
  },
  {
    "text": "also container within that powder restart and it is with uh when there's",
    "start": "597519",
    "end": "603120"
  },
  {
    "text": "the little resource uh change actually is definitely introduce a lot of the",
    "start": "603120",
    "end": "608240"
  },
  {
    "text": "operational burdens right so this is why we start see signal community start to",
    "start": "608240",
    "end": "613440"
  },
  {
    "text": "intro working on this imp place boundary sensing for years so I just want to",
    "start": "613440",
    "end": "618560"
  },
  {
    "text": "glide to along that in the 1.3s3 and this feature actually promoted",
    "start": "618560",
    "end": "624079"
  },
  {
    "text": "to the beta and uh so that's and also it is enable default uh for kubernetes",
    "start": "624079",
    "end": "630000"
  },
  {
    "text": "cluster so so this feature just like name uh implied and um so you can uh",
    "start": "630000",
    "end": "638720"
  },
  {
    "text": "let's go to the previous let's look at the before picture first and so you can",
    "start": "638720",
    "end": "644399"
  },
  {
    "text": "see that okay you want to change small the machine have some of the slack resource you want to change because due",
    "start": "644399",
    "end": "651600"
  },
  {
    "text": "to that traffic pe you want to change uh in uh increase of the CPU and the memory",
    "start": "651600",
    "end": "657040"
  },
  {
    "text": "and you have to today you have to kill off the uh uh kill off the uh running",
    "start": "657040",
    "end": "662480"
  },
  {
    "text": "container and and rebuild the recruit of the new part with the new update of the",
    "start": "662480",
    "end": "668000"
  },
  {
    "text": "resource requirement and then schedulers to schedule that to the whatever node right the suitable node So this is",
    "start": "668000",
    "end": "674800"
  },
  {
    "text": "definitely introduce of the disruption and uh could be and then the the",
    "start": "674800",
    "end": "680480"
  },
  {
    "text": "terminate about the services all those kind of things loss of the network collection all those kind of problem we",
    "start": "680480",
    "end": "686320"
  },
  {
    "text": "have right so and also even for them stateful side could be cause of the data corruptions too because those kind of",
    "start": "686320",
    "end": "692320"
  },
  {
    "text": "things so with this in place powder uh resizing graph a diagram to show so you",
    "start": "692320",
    "end": "700880"
  },
  {
    "text": "just can kubernetes take that your request and also just dynamic change and",
    "start": "700880",
    "end": "707839"
  },
  {
    "text": "if the node have enough of the slack and the dynamic change of the request and the services continue run and do you",
    "start": "707839",
    "end": "714959"
  },
  {
    "text": "want to try yeah this is really exciting Let's see if we can get it to work Uh so let's come over to the terminal again I",
    "start": "714959",
    "end": "722640"
  },
  {
    "text": "need to quickly change uh context uh what is it uh QCTL uh config use context",
    "start": "722640",
    "end": "730320"
  },
  {
    "text": "uh pod uh what is it in place is it yep okay so uh in here I have a uh series of",
    "start": "730320",
    "end": "737839"
  },
  {
    "text": "pods here uh awesome so let's have a look at these so if I open up this pod here uh it's just uh running an",
    "start": "737839",
    "end": "744880"
  },
  {
    "text": "application if we come down a bit so I'm in edit mode okay so say I'm in here and like I want to increase the uh CPU limit",
    "start": "744880",
    "end": "751279"
  },
  {
    "text": "of this pod right I've got more traffic coming in and I don't want to blow up the whole pod it's running a database or something but I just give it more CPU So",
    "start": "751279",
    "end": "757600"
  },
  {
    "text": "I'm going to come in here I'm going to uh in change this 600M to 800M I'm going",
    "start": "757600",
    "end": "762800"
  },
  {
    "text": "to write that and it's been configured And now if I have a look if I go QC I'll get uh this pod here Oh yl 800 The CPU",
    "start": "762800",
    "end": "773200"
  },
  {
    "text": "has increased The CPU has increased 800m 800m So I've done that without stopping",
    "start": "773200",
    "end": "778480"
  },
  {
    "text": "the application at all I've just given it more CPU with absolutely zero disruption to my users and my",
    "start": "778480",
    "end": "784000"
  },
  {
    "text": "application owners So yeah that's that is really really cool and it's one of the most exciting features I've seen in",
    "start": "784000",
    "end": "789519"
  },
  {
    "text": "Q&A in quite a while But yeah awesome Thank you So it's not that we can do",
    "start": "789519",
    "end": "794800"
  },
  {
    "text": "that with everything are the limits here For example adding resources is typically quite simple for systems but",
    "start": "794800",
    "end": "802240"
  },
  {
    "text": "taking resources away from already running workloads is a bit tougher For example I could see maybe it works for",
    "start": "802240",
    "end": "807680"
  },
  {
    "text": "CPU uh shrinking but does it work with say memory shrinking yes that's a good question leading to the next one And uh",
    "start": "807680",
    "end": "814959"
  },
  {
    "text": "so um so so it's not all application you can uh easily to change the resource",
    "start": "814959",
    "end": "822160"
  },
  {
    "text": "right so not so even like the not just shrinking and even like the in of the",
    "start": "822160",
    "end": "827519"
  },
  {
    "text": "resource request like for example Java application when you want to uh readjust of the hip size and you may require of",
    "start": "827519",
    "end": "834959"
  },
  {
    "text": "the restart of the application So to make this this is used based on those",
    "start": "834959",
    "end": "841199"
  },
  {
    "text": "kind of workload node and different uh applications So imp place recessing actually intro in introduced the policy",
    "start": "841199",
    "end": "848000"
  },
  {
    "text": "resize policy when two option today we support is prefer no restart and another one it is restart container right so",
    "start": "848000",
    "end": "855519"
  },
  {
    "text": "restart container basically just previous behavior right the default previous default behavior and uh for the",
    "start": "855519",
    "end": "862160"
  },
  {
    "text": "VPA and integrate those kind of things and uh but the preferred but even with",
    "start": "862160",
    "end": "867440"
  },
  {
    "text": "the preferred no restart we didn't say no restart here's the reason just like the Lucy just ask for for for memory",
    "start": "867440",
    "end": "874160"
  },
  {
    "text": "shrinking actually doesn't work very well because that's have the due to of the kubernet the kernel limitation so",
    "start": "874160",
    "end": "881279"
  },
  {
    "text": "kubernetes sign community actually work very close with the linux kernel community we try to make this is better",
    "start": "881279",
    "end": "887600"
  },
  {
    "text": "especially in the sigu v2 and and when shrink off the memory and this will",
    "start": "887600",
    "end": "894320"
  },
  {
    "text": "trigger about the negative recon of the memory and but in the sigu v2 actually",
    "start": "894320",
    "end": "899440"
  },
  {
    "text": "prefer it is w killed because the reason there's also have the good readings behind because we want to make that",
    "start": "899440",
    "end": "906320"
  },
  {
    "text": "predictable performance all those kind of things So but we work with them because the different requirement",
    "start": "906320",
    "end": "911839"
  },
  {
    "text": "especially for the booming of the AI machine learning workload node and care of those those tasks actually cause a",
    "start": "911839",
    "end": "918720"
  },
  {
    "text": "lot of the cost is really high So another things I want to point out and",
    "start": "918720",
    "end": "924399"
  },
  {
    "text": "uh this feature actually also can work together with the uh pod level resource",
    "start": "924399",
    "end": "930079"
  },
  {
    "text": "we just introduced earlier and uh uh the even you can apply of the pod level uh",
    "start": "930079",
    "end": "937360"
  },
  {
    "text": "resource as a whole for the whole part but the restart policy actually dictate",
    "start": "937360",
    "end": "943440"
  },
  {
    "text": "about the behavior about the container itself So I want to point out that one also I want to point out um there's the",
    "start": "943440",
    "end": "951279"
  },
  {
    "text": "limitation right so the feature itself actually it is node feature but to make that in power is a holder feature and",
    "start": "951279",
    "end": "957759"
  },
  {
    "text": "make that more useful and there's the uh cluster level of the orration",
    "start": "957759",
    "end": "962800"
  },
  {
    "text": "integration for example vertical power the autoscaling and even like the some workload framework for on top of",
    "start": "962800",
    "end": "969519"
  },
  {
    "text": "kubernetes like the array and they have their own autoscaler right so they all those kind of things we need to",
    "start": "969519",
    "end": "975600"
  },
  {
    "text": "integrate actually there's the community we work with them and to make that is integration better so so so it's easy",
    "start": "975600",
    "end": "983120"
  },
  {
    "text": "it's not like Lucy and have to manually change the yama file and so in the future it will be automated um and also",
    "start": "983120",
    "end": "990639"
  },
  {
    "text": "please notice that there's other limitations right so uh currently for the battery release uh we are only",
    "start": "990639",
    "end": "997600"
  },
  {
    "text": "support CPU and memory and uh there's the other extended uh resource we uh",
    "start": "997600",
    "end": "1003680"
  },
  {
    "text": "under development we are thinking Each one of the resource actually introduce different type of the complexity to the",
    "start": "1003680",
    "end": "1009920"
  },
  {
    "text": "system because by the nature of the resource itself So but we are continue",
    "start": "1009920",
    "end": "1016160"
  },
  {
    "text": "of the improvement of those kind of things Another small things I want to point out right with the even with of",
    "start": "1016160",
    "end": "1022480"
  },
  {
    "text": "the uh the impress powder resizing with those resource and you cannot change of",
    "start": "1022480",
    "end": "1027760"
  },
  {
    "text": "the quality of the services guarantee job will stay within job burstable stay with burst even you may be change to",
    "start": "1027760",
    "end": "1034720"
  },
  {
    "text": "their CPU requests and the memory equal CPU requests and equals to their limits",
    "start": "1034720",
    "end": "1040558"
  },
  {
    "text": "and also static CPU and memory management actually won't be changed",
    "start": "1040559",
    "end": "1045760"
  },
  {
    "text": "because even you change off those kind of means there's a hard really complicated to dynamic change of the",
    "start": "1045760",
    "end": "1052080"
  },
  {
    "text": "your exclusive uh or reserved CPU and the new load all those kind of things",
    "start": "1052080",
    "end": "1057520"
  },
  {
    "text": "right so another thing I want to point and we make the to simplify to get to promote this to easier earlier so people",
    "start": "1057520",
    "end": "1065440"
  },
  {
    "text": "can try give us the feedback and we also made a decision it is atomic resizing",
    "start": "1065440",
    "end": "1071679"
  },
  {
    "text": "right so you ask partial of the if only partial request adjust hit uh on the",
    "start": "1071679",
    "end": "1078320"
  },
  {
    "text": "node admission time we will reject the entire of the uh resizing because uh",
    "start": "1078320",
    "end": "1083840"
  },
  {
    "text": "that introduce unnecessary complexity to the system and also it's also for the",
    "start": "1083840",
    "end": "1089360"
  },
  {
    "text": "user it's really difficult for them to reasoning what's the behavior and for the we cannot that so that's kind of all",
    "start": "1089360",
    "end": "1096320"
  },
  {
    "text": "those limitation and we have but please try because it's quite powerful and uh",
    "start": "1096320",
    "end": "1101360"
  },
  {
    "text": "maybe in in last couple days of the of the talk and a lot of people already",
    "start": "1101360",
    "end": "1107039"
  },
  {
    "text": "utilize this feature and in their production and uh and yeah so yeah give",
    "start": "1107039",
    "end": "1112080"
  },
  {
    "text": "some a lot of guarantees Well that is really awesome I think this is a really powerful feature Actually let's just do",
    "start": "1112080",
    "end": "1117280"
  },
  {
    "text": "a quick straw poll Put your hand up if you're planning to use this feature in the future Put your hand up Wow Yeah",
    "start": "1117280",
    "end": "1123039"
  },
  {
    "text": "actually I should put my hand up too That is a lot but this is a huge boon for us all Okay awesome Uh oh am I over",
    "start": "1123039",
    "end": "1129280"
  },
  {
    "text": "here yet uh awesome Okay now this is all really cool There's just one other thing",
    "start": "1129280",
    "end": "1134880"
  },
  {
    "text": "that we're kind of missing right now Uh I run a lot of Java services and a lot of services where on startup they have",
    "start": "1134880",
    "end": "1140720"
  },
  {
    "text": "to warm caches or pre-process things and a lot of the time that means their memory usage it looks like a big burst",
    "start": "1140720",
    "end": "1147120"
  },
  {
    "text": "at startup and then it kind of falls off Right now I have to give them uh dedicated memory all the way through to",
    "start": "1147120",
    "end": "1153440"
  },
  {
    "text": "their startup load and then I can't really take it away Uh even even now I can't do memory shrinking right so that",
    "start": "1153440",
    "end": "1160160"
  },
  {
    "text": "means I have a load of idle memory that I don't want to use I want to use swap just like in any other system but",
    "start": "1160160",
    "end": "1165760"
  },
  {
    "text": "Kubernetes is uh almost allergic to swap It's not just not supported If you run a cublet with a on a machine that has swap",
    "start": "1165760",
    "end": "1172559"
  },
  {
    "text": "it immediately it immediately blows itself up So um yeah it would be really",
    "start": "1172559",
    "end": "1177919"
  },
  {
    "text": "cool if we could maybe use memory swap for at least for burst for burst memory in Kubernetes Do you think we maybe we",
    "start": "1177919",
    "end": "1183280"
  },
  {
    "text": "can get to that as well yes Can we go to next one so so yes we actually working",
    "start": "1183280",
    "end": "1191919"
  },
  {
    "text": "on the node swap support and uh um and uh unfortunately this time still is not",
    "start": "1191919",
    "end": "1198880"
  },
  {
    "text": "graduated to the G and you can see that this is for last many of the uh",
    "start": "1198880",
    "end": "1204400"
  },
  {
    "text": "improvement every release we have improvement on the node swap features uh and uh so in the",
    "start": "1204400",
    "end": "1212039"
  },
  {
    "text": "1st3 and we promote to the beta 3 or beta beta 3 I and and add more",
    "start": "1212039",
    "end": "1219840"
  },
  {
    "text": "enhancement uh to the features So I just want to say something at uh in the past",
    "start": "1219840",
    "end": "1225919"
  },
  {
    "text": "as the signal and the comm community and the community tech lead I'm really strongly uh against of the end of the",
    "start": "1225919",
    "end": "1233400"
  },
  {
    "text": "node and about any of the format of the swap usage one of is the kernel",
    "start": "1233400",
    "end": "1238480"
  },
  {
    "text": "limitation right so the top reason it is because they introduce performance",
    "start": "1238480",
    "end": "1243840"
  },
  {
    "text": "parity associated performance monitor right so and also kernel cannot really",
    "start": "1243840",
    "end": "1249120"
  },
  {
    "text": "um accurately detect what's inactive the memory So and uh and also we don't have",
    "start": "1249120",
    "end": "1255280"
  },
  {
    "text": "the really good way to detect those kind of things and carefully calculate how much of the those inactive memory can",
    "start": "1255280",
    "end": "1261679"
  },
  {
    "text": "push down to the disk and also those disk activities exhaustive disc act disk",
    "start": "1261679",
    "end": "1267440"
  },
  {
    "text": "activities really really slow and also exhaustive disk um uh activity could be",
    "start": "1267440",
    "end": "1273120"
  },
  {
    "text": "introduce uh the the neighborhood loyalty right so of impact not just it t",
    "start": "1273120",
    "end": "1280000"
  },
  {
    "text": "the complication itself's performance and impact entire of the node other applications performance not just site",
    "start": "1280000",
    "end": "1287120"
  },
  {
    "text": "and also kernel once you end up off those swap and the kernel will spend a",
    "start": "1287120",
    "end": "1292240"
  },
  {
    "text": "lot of time to try to do reclaim uh push those pages to the disk and instead of",
    "start": "1292240",
    "end": "1298400"
  },
  {
    "text": "spending the time to really run off the applications right so that's the thrashing uh all over also associate",
    "start": "1298400",
    "end": "1304559"
  },
  {
    "text": "those kind of things so that's why uh I strongly against to support of the node",
    "start": "1304559",
    "end": "1310320"
  },
  {
    "text": "swap but at the same time um um in the same time we realize because we evolved",
    "start": "1310320",
    "end": "1316000"
  },
  {
    "text": "Kubernetes we support the state for site and now we are support of the batch",
    "start": "1316000",
    "end": "1321520"
  },
  {
    "text": "workload and also especially for those AI machine learning large scale of the JI machine learning training jobs",
    "start": "1321520",
    "end": "1329960"
  },
  {
    "text": "uh and we know and uh resource management and the planning is really",
    "start": "1329960",
    "end": "1335120"
  },
  {
    "text": "hard and care of those certain job actually it is at a more cost to uh to",
    "start": "1335120",
    "end": "1343520"
  },
  {
    "text": "push those and act those certain of the pages into the disk So that's why we started to accelerate of the development",
    "start": "1343520",
    "end": "1350480"
  },
  {
    "text": "on the node swap uh uh memory swap So that's can",
    "start": "1350480",
    "end": "1357360"
  },
  {
    "text": "so this is the this is the before and yeah you can see that the feature actually it is the um and at this moment",
    "start": "1357360",
    "end": "1364000"
  },
  {
    "text": "the feature actually is node level feature you can see the cub kubernet actually play uh control plane uh major",
    "start": "1364000",
    "end": "1370799"
  },
  {
    "text": "control plane uh here and so kubernet you have to config and this node and",
    "start": "1370799",
    "end": "1376159"
  },
  {
    "text": "enable of the swap or not right so kubernet will do the carefully how much",
    "start": "1376159",
    "end": "1381200"
  },
  {
    "text": "and uh and the monitoring of the resource those usage about those kind of things Kubernetator also will all be",
    "start": "1381200",
    "end": "1387039"
  },
  {
    "text": "based on the both of the uh raw memory usage and also swap usage and make decision when there's the steel cannot",
    "start": "1387039",
    "end": "1394960"
  },
  {
    "text": "prevent and make decision Okay So so so this is but this one actually uh means",
    "start": "1394960",
    "end": "1401520"
  },
  {
    "text": "the node level of the of the swap We still not really finish give the pod",
    "start": "1401520",
    "end": "1406960"
  },
  {
    "text": "level and uh and uh make the application like a pod for free to use in those swap",
    "start": "1406960",
    "end": "1413840"
  },
  {
    "text": "So we are continue work within the community and try to make that final grand of the control uh for the each of",
    "start": "1413840",
    "end": "1421039"
  },
  {
    "text": "the pod and applications So awesome This sounds really this sounds really cool Maybe we can give this uh this this a go",
    "start": "1421039",
    "end": "1428159"
  },
  {
    "text": "as well Okay so uh if I come over to my terminal here uh let's see if I have",
    "start": "1428159",
    "end": "1435520"
  },
  {
    "text": "access to the cluster first off because I've been fighting with it this morning Yes I do Awesome So on this machine here",
    "start": "1435520",
    "end": "1440960"
  },
  {
    "text": "I'm running a basic cluster using cubem Uh if I just have a look at my swap I have swap memory here Uh if I have a",
    "start": "1440960",
    "end": "1447520"
  },
  {
    "text": "look here and so uh sorry yes let me make this bigger So you see here I'm on",
    "start": "1447520",
    "end": "1452880"
  },
  {
    "text": "a I'm on a cluster This is a single node cluster I have swap memory here and it's being used properly If I have a look at",
    "start": "1452880",
    "end": "1457919"
  },
  {
    "text": "my uh cubadm configuration you can see here that I've turned on the no swap feature gate and I've said that the swap",
    "start": "1457919",
    "end": "1463840"
  },
  {
    "text": "behavior is limited swap So that means that uh the burstable component of the memory of uh workloads uh can end up in",
    "start": "1463840",
    "end": "1470799"
  },
  {
    "text": "swap What's the burstable component well if I have a look in uh and I c actually let's cap the live pod qctl get",
    "start": "1470799",
    "end": "1477080"
  },
  {
    "text": "pod Okay let's cap the file uh uh you can see here So uh the uh",
    "start": "1477080",
    "end": "1483919"
  },
  {
    "text": "requested memory is the part that's non-burstable and then once you're above your request but within your limit that's the burstable part that in",
    "start": "1483919",
    "end": "1489440"
  },
  {
    "text": "limited swap can uh end up in limited swap mode can end up on swap memory And then there's another mode where you can",
    "start": "1489440",
    "end": "1495200"
  },
  {
    "text": "actually end up with all of the uh pod memory on on swap Okay so that's really really cool And yeah unfortunately I",
    "start": "1495200",
    "end": "1502000"
  },
  {
    "text": "don't think the cluster is going to cooperate with me today I don't know No it doesn't like me Okay I think it",
    "start": "1502000",
    "end": "1508400"
  },
  {
    "text": "literally just crashed mid demo That was bad timing But yeah that's really that's really cool though as a feature Um let me put this side back Two out of three",
    "start": "1508400",
    "end": "1516000"
  },
  {
    "text": "succeed Two out of three is way better than we thought it would be So that's great So I guess now that so I work at",
    "start": "1516000",
    "end": "1521679"
  },
  {
    "text": "Uber So I guess that's great because it means that with like many pabytes of this space that means that I have like",
    "start": "1521679",
    "end": "1527520"
  },
  {
    "text": "eight pabytes of RAM now right yes Real totally right Yeah So that's why you can",
    "start": "1527520",
    "end": "1532960"
  },
  {
    "text": "see the demo of the node swap field That's mean that indicate how cautious",
    "start": "1532960",
    "end": "1538720"
  },
  {
    "text": "we are try to use the end of the node swap by default even node swap feature it is g by default we will make that is",
    "start": "1538720",
    "end": "1547360"
  },
  {
    "text": "available I want to platform admin California thinking and plan and how",
    "start": "1547360",
    "end": "1553120"
  },
  {
    "text": "when there will want to end up after the noodle swap okay so I talk about a lot",
    "start": "1553120",
    "end": "1558960"
  },
  {
    "text": "of those yeah using cautious and there there are more of those kind of things most of the things I already mentioned",
    "start": "1558960",
    "end": "1564240"
  },
  {
    "text": "that earlier and They also have the security right so security concern So um",
    "start": "1564240",
    "end": "1571600"
  },
  {
    "text": "so the reason of this time it is not graduate to the G most it is because of",
    "start": "1571600",
    "end": "1576960"
  },
  {
    "text": "security concern and another one it is the eviction management uh that the potential policy the good behavior of",
    "start": "1576960",
    "end": "1583679"
  },
  {
    "text": "the part without using swap So that's why we we we kind of think about we need",
    "start": "1583679",
    "end": "1590080"
  },
  {
    "text": "the more uh sorry sort through and uh but that's kind of thing but each one of",
    "start": "1590080",
    "end": "1596880"
  },
  {
    "text": "those kind of things actually have the medication suggestions So we are going to document those mitigation and uh best",
    "start": "1596880",
    "end": "1602880"
  },
  {
    "text": "practice to enable about those feature and uh so so looking forward after feedback when you try in your in your",
    "start": "1602880",
    "end": "1610320"
  },
  {
    "text": "plan in your clust production cluster Yeah Yeah And awesome and people yeah please turn it on use it maybe give us",
    "start": "1610320",
    "end": "1615679"
  },
  {
    "text": "feedback Okay awesome Well thank you Dor for helping us tame I've got a microphone on here Thank you Dor for",
    "start": "1615679",
    "end": "1621440"
  },
  {
    "text": "helping me tame the beast Okay so now we're gonna go into the and talk a bit about maybe the future of what may end",
    "start": "1621440",
    "end": "1627600"
  },
  {
    "text": "up happening in Kubernetes sign Before I talk about this I just want to be very clear I'm in a I'm a human who has",
    "start": "1627600",
    "end": "1632880"
  },
  {
    "text": "opinions which is the most dangerous thing of all But when I say something that doesn't necessarily mean that it's a promise and it doesn't mean that uh",
    "start": "1632880",
    "end": "1639520"
  },
  {
    "text": "other maintainers in Kubernetes agree with me It is an opinion that I have but it is not a commitment to anything",
    "start": "1639520",
    "end": "1645679"
  },
  {
    "text": "particular But I want to start by maybe thinking about why uh why Kubernetes is",
    "start": "1645679",
    "end": "1650720"
  },
  {
    "text": "so ubiquitous And I think it was Clayton Coleman who said it's because it can run most things reasonably well And that's a",
    "start": "1650720",
    "end": "1657840"
  },
  {
    "text": "really good baseline to maybe set ourselves towards Um the landscape though of of workloads that are running",
    "start": "1657840",
    "end": "1663120"
  },
  {
    "text": "on Kubernetes is changing and it's changing all the time uh and over time",
    "start": "1663120",
    "end": "1668480"
  },
  {
    "text": "throughout the project we've been getting maybe better and better at running more things reasonably well If",
    "start": "1668480",
    "end": "1673679"
  },
  {
    "text": "we look at maybe at the start of Kubernetes you have basic web servers basic chrom This is what Kubernetes",
    "start": "1673679",
    "end": "1678960"
  },
  {
    "text": "really started with 2016 you have the advent of the stateful set which has deals with basic stateful workloads",
    "start": "1678960",
    "end": "1685200"
  },
  {
    "text": "Eventually there's progression of features so that it can uh get better and better 2020 you have the uh job set",
    "start": "1685200",
    "end": "1692000"
  },
  {
    "text": "uh object which helps you run batch workloads in a much more better way And we've talked today about these new",
    "start": "1692000",
    "end": "1698320"
  },
  {
    "text": "features that uh they could help you for example run developer environments Uh I know that in the past maybe we've not",
    "start": "1698320",
    "end": "1704159"
  },
  {
    "text": "had the best support for this I know that GitPOD was on Kubernetes and then left because of the challenges they were facing Um with this for example with in",
    "start": "1704159",
    "end": "1711679"
  },
  {
    "text": "place resizing a lot of developer environments require a lot of resources when you're building and compiling but not many when you're just writing code",
    "start": "1711679",
    "end": "1717679"
  },
  {
    "text": "This kind of allows you to respond to that Also more advanced stateful workloads things that are less able to",
    "start": "1717679",
    "end": "1722960"
  },
  {
    "text": "uh have be disrupted These are easier to support with these new features but we",
    "start": "1722960",
    "end": "1729440"
  },
  {
    "text": "need but we need to uh keep uh relevant with the industry and we need to be in it in my head it should it shouldn't",
    "start": "1729440",
    "end": "1736000"
  },
  {
    "text": "take you being a maintainer to run your workload on Kubernetes as long as it's not really crazy right most workloads",
    "start": "1736000",
    "end": "1742640"
  },
  {
    "text": "should be able to run in a reasonably well fashion so with that maybe Dawn do you maybe want to talk about what what",
    "start": "1742640",
    "end": "1749520"
  },
  {
    "text": "we're looking at next and how this ties into what may come next in node Kubernetes",
    "start": "1749520",
    "end": "1755279"
  },
  {
    "text": "Thank you Lucy And you're lucky have the two most",
    "start": "1755279",
    "end": "1761600"
  },
  {
    "text": "opinionated people on the stage That's a bad that bad combination That is my opinion and also my proposal So uh so",
    "start": "1761600",
    "end": "1770080"
  },
  {
    "text": "I've been trying to propose those kind of just like what Lucy said and I always believe we can evolve Kubernetes to",
    "start": "1770080",
    "end": "1776240"
  },
  {
    "text": "support more workload even most of the workload right like the last couple years I even we even signaled to make",
    "start": "1776240",
    "end": "1783440"
  },
  {
    "text": "the windows container supported here so that's why I always believe we can do that so but I also know that today's",
    "start": "1783440",
    "end": "1789880"
  },
  {
    "text": "kubernetes make a lot of the primitives to support uh certain workload like for",
    "start": "1789880",
    "end": "1796559"
  },
  {
    "text": "example those complicated the uh batch workload and the GNAI machine learning",
    "start": "1796559",
    "end": "1801600"
  },
  {
    "text": "workload we do we can support but we don't do good job and it's really pain for a lot of the users right so one of",
    "start": "1801600",
    "end": "1809919"
  },
  {
    "text": "the I want to uh to talk about one of the proposal I made last year is P",
    "start": "1809919",
    "end": "1816080"
  },
  {
    "text": "grouping right so and Kubernetes today have only have the p concept of course",
    "start": "1816080",
    "end": "1821520"
  },
  {
    "text": "there have the high level concept the job set and the replica set the demon side tons of those kind of things But",
    "start": "1821520",
    "end": "1828399"
  },
  {
    "text": "each one have to have that a special meaning and a special and also it's top",
    "start": "1828399",
    "end": "1833520"
  },
  {
    "text": "right So it's not a first first layer on top of uh uh work to direct with the",
    "start": "1833520",
    "end": "1840080"
  },
  {
    "text": "control plan and work d sorry no control direct with the schedule thinking about",
    "start": "1840080",
    "end": "1845600"
  },
  {
    "text": "is the per pod and uh so this is one and propose especially it is addressing the",
    "start": "1845600",
    "end": "1852000"
  },
  {
    "text": "need of the distributed of the batch work node we introduce okay it's not called the p group and it introduce p",
    "start": "1852000",
    "end": "1859200"
  },
  {
    "text": "group lack of the concept the first line of the concept describe those workload I",
    "start": "1859200",
    "end": "1864559"
  },
  {
    "text": "want and so so then that require of the group of them they can colllocate it and",
    "start": "1864559",
    "end": "1870960"
  },
  {
    "text": "uh and the tight couple of the container all those kind of things right so I want this is kind of a fundamental of the",
    "start": "1870960",
    "end": "1877039"
  },
  {
    "text": "building block and uh so the so all those kind of things can be uh grouped",
    "start": "1877039",
    "end": "1883840"
  },
  {
    "text": "together and uh so end up of the hackle scheduling when I talk about hacker scheduling it's kind of like the re",
    "start": "1883840",
    "end": "1890320"
  },
  {
    "text": "autoscaler and the snermuler and also like the this week and announced of the",
    "start": "1890320",
    "end": "1896480"
  },
  {
    "text": "Kai scheduler and by the uh uh by the run AI and so all those kind of things",
    "start": "1896480",
    "end": "1904000"
  },
  {
    "text": "I'm thinking about those p group on top of the kubernetes and people can",
    "start": "1904000",
    "end": "1909120"
  },
  {
    "text": "naturally build about their own reccluster and slurm cluster on top of kubernetes so then we can and also the",
    "start": "1909120",
    "end": "1916519"
  },
  {
    "text": "whatever and for other customer of the um customized of the scheduleuler right",
    "start": "1916519",
    "end": "1922080"
  },
  {
    "text": "Another things So that link about the proposal and another one it is also it",
    "start": "1922080",
    "end": "1928720"
  },
  {
    "text": "is I want to relax of the constraint like today we talk about the p level resource right and we also talk about uh",
    "start": "1928720",
    "end": "1936399"
  },
  {
    "text": "which is make this is happen and we also talk about implants p uh resizing or it",
    "start": "1936399",
    "end": "1941679"
  },
  {
    "text": "is make a p less static right so this one is I want to further make part less",
    "start": "1941679",
    "end": "1948080"
  },
  {
    "text": "static so you can inject you can remove add and remove the container right So",
    "start": "1948080",
    "end": "1953840"
  },
  {
    "text": "into a pod So when you have the this is this feature and together previous",
    "start": "1953840",
    "end": "1958960"
  },
  {
    "text": "feature pod group actually represent a work node batch work node right So then",
    "start": "1958960",
    "end": "1965279"
  },
  {
    "text": "the batch workload control plan they can schedule about their task and jobs into",
    "start": "1965279",
    "end": "1970399"
  },
  {
    "text": "the those pod group and inside each pod group and uh inside of the each pod they",
    "start": "1970399",
    "end": "1976159"
  },
  {
    "text": "can schedule their task and jobs also And when you need more resource you can also enlarge off your powder and and if",
    "start": "1976159",
    "end": "1984159"
  },
  {
    "text": "you don't need that much resource you can shrink or you can share with other other cont",
    "start": "1984159",
    "end": "1990399"
  },
  {
    "text": "uh uh jobs on application on the same node right so there's a lot of the things we can do so so this is kind of",
    "start": "1990399",
    "end": "1998080"
  },
  {
    "text": "the what uh we we are talking about this one so once I mention this kind of things and for",
    "start": "1998080",
    "end": "2005799"
  },
  {
    "text": "examp signaled and I myself we have one minute actively work with the ray and",
    "start": "2005799",
    "end": "2012480"
  },
  {
    "text": "the snerm community and also we just discuss with the kai scheduler uh people and how we can group together The",
    "start": "2012480",
    "end": "2019919"
  },
  {
    "text": "ultimate goal for me it is the uh define a lot a lot layer of the abstraction on",
    "start": "2019919",
    "end": "2026080"
  },
  {
    "text": "top of the copenet and so uh the batch workload can work on top of those kind",
    "start": "2026080",
    "end": "2032159"
  },
  {
    "text": "of things right so just a little bit similar signal actually start about the DRA and then that is build of the um",
    "start": "2032159",
    "end": "2040480"
  },
  {
    "text": "abstract layer on the standardize all those specialized of the device so",
    "start": "2040480",
    "end": "2046399"
  },
  {
    "text": "there's another layer we want to build it is on top of the pod objects So then",
    "start": "2046399",
    "end": "2052720"
  },
  {
    "text": "uh all those kind of the customer or the batch work node scheduler can schedule",
    "start": "2052720",
    "end": "2058398"
  },
  {
    "text": "uh target to the pod group together I think we may have to I think we may have to be very bridged here Yes The fi Okay",
    "start": "2058399",
    "end": "2065118"
  },
  {
    "text": "Go ahead Uh no no you do you want to quick like no actually yeah we need to go forth Very sorry folks but we are",
    "start": "2065119",
    "end": "2071919"
  },
  {
    "text": "already over Uh the final thing I want to say and it's going to take 30 seconds Don't cut me off is uh is um this is not being built in",
    "start": "2071919",
    "end": "2080158"
  },
  {
    "text": "isolation or alone A significant amount of people the London one wasn't available yet A significant amount of",
    "start": "2080159",
    "end": "2085280"
  },
  {
    "text": "people were involved in building these things and in making these things ready for production So please if when you",
    "start": "2085280",
    "end": "2090800"
  },
  {
    "text": "decide to applaud if you decide to applaud please reserve some of that applause for those people I'm not going to name people because if I do I'm going",
    "start": "2090800",
    "end": "2096960"
  },
  {
    "text": "to forget someone and that's going to be bad But I'm looking around the room at a few of them that I can see And with that",
    "start": "2096960",
    "end": "2102800"
  },
  {
    "text": "uh thank you I don't think we can do Q&A There is a there is a QR code if you want to give feedback on the session and yeah thanks for coming",
    "start": "2102800",
    "end": "2109990"
  },
  {
    "text": "[Applause] Thank you",
    "start": "2109990",
    "end": "2116200"
  }
]