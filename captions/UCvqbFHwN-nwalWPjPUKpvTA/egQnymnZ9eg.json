[
  {
    "text": "please join me welcoming Rob's called telling us about a simpler approach to how to discuss control in kubernetes",
    "start": "0",
    "end": "7860"
  },
  {
    "text": "[Applause] thanks for that introduction my name is",
    "start": "7860",
    "end": "15780"
  },
  {
    "text": "Rob Scott as he said and I'm gonna be talking today about smarter kubernetes access control how we can simplify our",
    "start": "15780",
    "end": "22529"
  },
  {
    "text": "approach to authorization inside kubernetes I work with a great team at reactive ops and at reactive ops we get",
    "start": "22529",
    "end": "30150"
  },
  {
    "text": "to see a wide variety of kubernetes clusters from a wide variety of organizations and what that's led to is",
    "start": "30150",
    "end": "36450"
  },
  {
    "text": "us learning a whole lot about how to do authorization effectively for a whole different host of organizations and a",
    "start": "36450",
    "end": "43590"
  },
  {
    "text": "whole different host of sizes and we're going to try and share those lessons with you today and some tools that we've",
    "start": "43590",
    "end": "49260"
  },
  {
    "text": "built to help simplify that process so the outline of today's talk is really",
    "start": "49260",
    "end": "54570"
  },
  {
    "text": "simple we're gonna start off by going through some challenges of authorization and then go into a quick recap of our",
    "start": "54570",
    "end": "61829"
  },
  {
    "text": "back basics so if you came to the talk and aren't familiar with all the are back terminology I'll just take a couple minutes and go through the basics of our",
    "start": "61829",
    "end": "69150"
  },
  {
    "text": "backs so the rest of the talk makes sense to everyone here and then finally most of my talk is going to be focused",
    "start": "69150",
    "end": "74850"
  },
  {
    "text": "on two distinct areas one is understanding who has access to what inside your cluster and then maybe most",
    "start": "74850",
    "end": "82259"
  },
  {
    "text": "importantly managing our back simply and effectively all right let's get started",
    "start": "82259",
    "end": "87540"
  },
  {
    "text": "so first off I think we can all agree that authorization is challenging",
    "start": "87540",
    "end": "94579"
  },
  {
    "text": "authorization systems often feel either way too simple or way too complex how",
    "start": "94579",
    "end": "102090"
  },
  {
    "text": "many of you have ever been frustrated by an authorization system that was so simple it didn't let you do what you",
    "start": "102090",
    "end": "107399"
  },
  {
    "text": "wanted to do anyone okay that's plenty of people and on other side how many people have been",
    "start": "107399",
    "end": "113159"
  },
  {
    "text": "frustrated that an authorize this authorization system is just way too complex and just way too overwhelming",
    "start": "113159",
    "end": "119100"
  },
  {
    "text": "anyone okay yes so plenty of the same hands for both and that's the case for me as well",
    "start": "119100",
    "end": "124890"
  },
  {
    "text": "I've seen authorization systems that feel way too simple or way too complex and it's really hard as a developer of",
    "start": "124890",
    "end": "132180"
  },
  {
    "text": "an authorization system to that balance right and that balance is going to be different for every different organization in use case and",
    "start": "132180",
    "end": "139760"
  },
  {
    "text": "unfortunately authorization is one of those things that's only really really noticeable when it's getting in the way",
    "start": "139760",
    "end": "145489"
  },
  {
    "text": "how many times have you heard someone say they really love their authorization system anyone hear that ever okay yeah",
    "start": "145489",
    "end": "154080"
  },
  {
    "text": "so it's just not something like I've heard I don't think ever because authorization is not something we're",
    "start": "154080",
    "end": "159959"
  },
  {
    "text": "thinking about until it's getting in our way it's not something we're thinking about until we're just annoyed because it's not letting us do what we want to",
    "start": "159959",
    "end": "166410"
  },
  {
    "text": "do and unfortunately authorization finds itself in that no-win position where if",
    "start": "166410",
    "end": "171900"
  },
  {
    "text": "you think about it you're just getting annoyed by it and if you don't notice it you don't give it any credit so even the",
    "start": "171900",
    "end": "178620"
  },
  {
    "text": "best intentions unfortunately can still end in failure organizations start with these perfect ideas these perfect goals",
    "start": "178620",
    "end": "185549"
  },
  {
    "text": "we're going to have the most granular policies we're going to do everything by the book we've gone to Kubb Khan we've",
    "start": "185549",
    "end": "191129"
  },
  {
    "text": "listened to the talk we're gonna do everything perfectly and then at some point real life happens and somebody has",
    "start": "191129",
    "end": "197280"
  },
  {
    "text": "this urgent need to get access to the simple resource and can you just make",
    "start": "197280",
    "end": "202440"
  },
  {
    "text": "this one temporary exception just once I promise it's only gonna be this one time I really need to get into this and I",
    "start": "202440",
    "end": "207720"
  },
  {
    "text": "need it now and so you make an exception and you do this one thing and before you know it",
    "start": "207720",
    "end": "212910"
  },
  {
    "text": "your authorization system that was once perfect is just full of temporary solutions on top of temporary solutions",
    "start": "212910",
    "end": "219510"
  },
  {
    "text": "and your best intentions ended up in failure and kubernetes itself comes with",
    "start": "219510",
    "end": "226739"
  },
  {
    "text": "its own unique challenges users and groups are not actually managed by kubernetes how many of you have tried to",
    "start": "226739",
    "end": "233609"
  },
  {
    "text": "do coop cuddle get users or coop cuddle get groups just to like get a list of users as an example and yeah I mean I've",
    "start": "233609",
    "end": "240780"
  },
  {
    "text": "tried that and you don't get any kind of response because that's not how kubernetes off works your users and",
    "start": "240780",
    "end": "247650"
  },
  {
    "text": "groups are coming in from your authentication provider which is often coming from let's say cloud I am or an",
    "start": "247650",
    "end": "253799"
  },
  {
    "text": "OID sea provider or whatever it happens to be and so users and groups don't actually exist as resources within your",
    "start": "253799",
    "end": "260250"
  },
  {
    "text": "cluster and this can be helpful and really great for your authentication system and the simplicity",
    "start": "260250",
    "end": "266260"
  },
  {
    "text": "but when it comes to authorization it does complicate things a little bit and then the other bit if you've tried to",
    "start": "266260",
    "end": "273580"
  },
  {
    "text": "scale out kubernetes are back you realize that at the beginning it works perfectly and then as you scale more and",
    "start": "273580",
    "end": "279880"
  },
  {
    "text": "more it gets more and more complicated and harder to manage and that's something that we found at reactive ops",
    "start": "279880",
    "end": "285250"
  },
  {
    "text": "that as we're trying to scale this out across larger organizations it becomes really challenging ok so now that we've",
    "start": "285250",
    "end": "293560"
  },
  {
    "text": "gone through those challenges let's try and understand some basics of our back just if you're not familiar with all the",
    "start": "293560",
    "end": "299080"
  },
  {
    "text": "terminology I just want to go through some basic terms so the rest of this demo the rest of this talk all makes",
    "start": "299080",
    "end": "305320"
  },
  {
    "text": "sense so the first term is worth understanding when it comes to authorization and kubernetes our roles",
    "start": "305320",
    "end": "312070"
  },
  {
    "text": "and cluster rules after all our back stands for role based access control so",
    "start": "312070",
    "end": "317260"
  },
  {
    "text": "roles and cluster rules define specific sets of actions allowed in kubernetes",
    "start": "317260",
    "end": "322360"
  },
  {
    "text": "and maybe the best way to explain this is to show you an example this is a role",
    "start": "322360",
    "end": "328090"
  },
  {
    "text": "inside kubernetes and in this very simple example it allows us to list",
    "start": "328090",
    "end": "333760"
  },
  {
    "text": "deployments and it's available in the dev namespace so this allows us to list",
    "start": "333760",
    "end": "340630"
  },
  {
    "text": "deployments in the dev namespace you can see the rules down there that grant that now we're going to switch to a cluster",
    "start": "340630",
    "end": "347680"
  },
  {
    "text": "rule and you'll if you blink you'll miss it because this is the only difference with the cholesterol it's almost the",
    "start": "347680",
    "end": "354010"
  },
  {
    "text": "same thing the only difference is that we're role is available in a specific namespace a cluster role is available",
    "start": "354010",
    "end": "361150"
  },
  {
    "text": "across an entire cluster now these are all well and good and there are plenty of use cases like for your own custom",
    "start": "361150",
    "end": "367870"
  },
  {
    "text": "applications that need to talk to the kubernetes api where you want to build out really customized rules that have",
    "start": "367870",
    "end": "374170"
  },
  {
    "text": "every single bit of access specified in them but for user level authorization",
    "start": "374170",
    "end": "380110"
  },
  {
    "text": "what you'll likely want to use is the default roles that are included inside kubernetes and those are pretty",
    "start": "380110",
    "end": "386350"
  },
  {
    "text": "self-explanatory there's a view/edit admin and cluster admin that all grant little bit more access each time and",
    "start": "386350",
    "end": "393810"
  },
  {
    "text": "combine these roles are really helpful when you're trying to figure out your user offer",
    "start": "393810",
    "end": "399409"
  },
  {
    "text": "policy combined with a few other things like properly scoping namespaces this can be a really effective way to keep",
    "start": "399409",
    "end": "405439"
  },
  {
    "text": "your authorizations simple but still effective now where this all comes",
    "start": "405439",
    "end": "411409"
  },
  {
    "text": "together is the concept of role bindings and cluster role bindings and these are what connect service accounts groups or",
    "start": "411409",
    "end": "418189"
  },
  {
    "text": "users to those roles so whether it's a cluster role or role one of those",
    "start": "418189",
    "end": "423439"
  },
  {
    "text": "default roles that exists in a cluster role bindings are what connect your users to your roles so they're very",
    "start": "423439",
    "end": "430909"
  },
  {
    "text": "important aspect in authorization so let's walk through a really simple",
    "start": "430909",
    "end": "436610"
  },
  {
    "text": "example to put it all together and this example is something like we're going to be referencing throughout the entire",
    "start": "436610",
    "end": "441860"
  },
  {
    "text": "rest of the talk so pay attention to the level of access were granting so we've",
    "start": "441860",
    "end": "447860"
  },
  {
    "text": "got a user we're going to call her Avery and she should be able to edit resources in the web namespace and view resources",
    "start": "447860",
    "end": "455899"
  },
  {
    "text": "in the API namespace so to get for that access we need to create a role binding",
    "start": "455899",
    "end": "462889"
  },
  {
    "text": "so this is a role binding that connects Avery to the Edit role in the web",
    "start": "462889",
    "end": "469099"
  },
  {
    "text": "namespace so this allows her to edit resources inside the web namespace now",
    "start": "469099",
    "end": "475610"
  },
  {
    "text": "we're going to do the same thing for the API namespace except we're going to let her view resources in the API namespace",
    "start": "475610",
    "end": "482949"
  },
  {
    "text": "so if you were paying attention I did just switch slides and all of two words",
    "start": "482949",
    "end": "488419"
  },
  {
    "text": "switched so you may notice that this can get pretty repetitive as far as",
    "start": "488419",
    "end": "494360"
  },
  {
    "text": "configuration there's probably some ways we could potentially improve this and make this a little bit more efficient",
    "start": "494360",
    "end": "500869"
  },
  {
    "text": "and less repetitive and that's what we'll be talking about a little bit later on but first we need to get into how we can",
    "start": "500869",
    "end": "508459"
  },
  {
    "text": "understand kubernetes authorization I know a very common question that I've seen within kubernetes is how do I know",
    "start": "508459",
    "end": "515930"
  },
  {
    "text": "who has access to what inside my cluster and so in this next section I really want to spend some time highlighting",
    "start": "515930",
    "end": "522110"
  },
  {
    "text": "some tools and practices that can help you answer a variety of questions along those lines so following up with our",
    "start": "522110",
    "end": "530779"
  },
  {
    "text": "example can a 'very list pods and if so why so can any given user list a resource and",
    "start": "530779",
    "end": "538970"
  },
  {
    "text": "if so why can they do that that's a pretty basic question when you're talking about authorization so built",
    "start": "538970",
    "end": "546740"
  },
  {
    "text": "right into coop cuddle is Kubb cuddle ah can I and this is the most awesome tool",
    "start": "546740",
    "end": "552710"
  },
  {
    "text": "for understanding access inside kubernetes so you can ask it can I list",
    "start": "552710",
    "end": "557990"
  },
  {
    "text": "pods and you can impersonate in this case Avery so in this case I'm going to",
    "start": "557990",
    "end": "563060"
  },
  {
    "text": "ask coop cuddle off can I list pods now if you've been paying attention I've got",
    "start": "563060",
    "end": "568460"
  },
  {
    "text": "a question for you I'm going to run this command and given access that we've",
    "start": "568460",
    "end": "574070"
  },
  {
    "text": "already granted Avery it was to edit resources and to view resources in a",
    "start": "574070",
    "end": "579530"
  },
  {
    "text": "couple different namespaces I can tell you this response is either going to be yes or no how many people think B",
    "start": "579530",
    "end": "585740"
  },
  {
    "text": "response is going to be yes okay all right how many people think it's going",
    "start": "585740",
    "end": "591200"
  },
  {
    "text": "to be no okay how many people have no idea all right great",
    "start": "591200",
    "end": "596750"
  },
  {
    "text": "all right well we're gonna find out soon enough so I run this command and",
    "start": "596750",
    "end": "602260"
  },
  {
    "text": "unfortunately I was hoping to get more people to say yes because I thought that would be a reasonable thing but the",
    "start": "602260",
    "end": "607520"
  },
  {
    "text": "answer is no because this command by default is asking if Avery has access to",
    "start": "607520",
    "end": "613760"
  },
  {
    "text": "list pods everywhere in the cluster and Avery has access to list pods in a",
    "start": "613760",
    "end": "619310"
  },
  {
    "text": "couple places in the cluster but not everywhere so what we really want to ask is can a 'very list pods in one of those",
    "start": "619310",
    "end": "626060"
  },
  {
    "text": "namespaces so if we run this command again and we specify say the API name",
    "start": "626060",
    "end": "631220"
  },
  {
    "text": "space so we'll just add a dash n and API the answer we get back is yes and if we",
    "start": "631220",
    "end": "638570"
  },
  {
    "text": "do that again because we can also granular access in this way we namespace specify a namespace so remember API that API namespace we",
    "start": "638570",
    "end": "646160"
  },
  {
    "text": "granted her view access if we run that against the API namespace you starting",
    "start": "646160",
    "end": "651350"
  },
  {
    "text": "to see some green checkmarks showing up this show okay Avery can list a lot of resources not quite everything",
    "start": "651350",
    "end": "657440"
  },
  {
    "text": "she can't create update or delete anything but she can list a lot was",
    "start": "657440",
    "end": "662450"
  },
  {
    "text": "really really helpful tool and then remember the web namespace where we grant granted or edit access if",
    "start": "662450",
    "end": "670280"
  },
  {
    "text": "we run this against the web namespace we're going to see a lot more green checkmarks and this shows you what the",
    "start": "670280",
    "end": "676280"
  },
  {
    "text": "Edit role grants her okay so this open source tool is requests don't worry if",
    "start": "676280",
    "end": "682310"
  },
  {
    "text": "you didn't catch that all these will be linked on the very last slide so you can take a picture of that these are really",
    "start": "682310",
    "end": "688520"
  },
  {
    "text": "really helpful tools but sometimes you want to just flip your question around",
    "start": "688520",
    "end": "693860"
  },
  {
    "text": "entirely you have a resource you really care about and I went too fast okay you",
    "start": "693860",
    "end": "702860"
  },
  {
    "text": "have a resource you really care about inside your cluster and you want to know who can access it it's rare but it's",
    "start": "702860",
    "end": "709730"
  },
  {
    "text": "going to be pods you don't really care usually if someone can list pods but let's imagine that you care that someone can list or read secrets in your cluster",
    "start": "709730",
    "end": "716570"
  },
  {
    "text": "that's a really common use case for a tool like this an aqua security built a",
    "start": "716570",
    "end": "721850"
  },
  {
    "text": "really cool open-source tool I'll warn that they're still labeling this as a work in progress but it's an awesome",
    "start": "721850",
    "end": "727250"
  },
  {
    "text": "tool and already immediately helpful and it's aptly named cube cuddle who can so",
    "start": "727250",
    "end": "733520"
  },
  {
    "text": "given an action and a resource you can get an entire list of users in your",
    "start": "733520",
    "end": "739250"
  },
  {
    "text": "cluster that can do that action so in this case coop cuddle who can list pods",
    "start": "739250",
    "end": "745790"
  },
  {
    "text": "is going to show every single user service account or group that can list",
    "start": "745790",
    "end": "751460"
  },
  {
    "text": "pods inside my cluster it's a really cool tool from aqua security and finally",
    "start": "751460",
    "end": "758660"
  },
  {
    "text": "sometimes you just want to get a top level overview of authorization in your cluster you just want to see every bit",
    "start": "758660",
    "end": "765050"
  },
  {
    "text": "of access that's been granted and for that at reactive Ops we build a tool called our back lookup and this is a",
    "start": "765050",
    "end": "771470"
  },
  {
    "text": "really simple tool that just gives you that top-level overview of what's going on in your cluster as far as authorized",
    "start": "771470",
    "end": "777140"
  },
  {
    "text": "ation so our back lookup in its most basic form just prints out every single",
    "start": "777140",
    "end": "783770"
  },
  {
    "text": "bit of access in your cluster so so it shows you every bit of access that you have granted to anyone any account",
    "start": "783770",
    "end": "789770"
  },
  {
    "text": "inside your cluster and that's helpful to get a really wide overview but sometimes you want to dig a little bit",
    "start": "789770",
    "end": "795920"
  },
  {
    "text": "deeper and what our back lookup was real intended for is to look someone up by name that's the name our back lookup and",
    "start": "795920",
    "end": "803400"
  },
  {
    "text": "so if we type our back look up Avery we're going to see every bit of access",
    "start": "803400",
    "end": "808530"
  },
  {
    "text": "that Avery has regardless of scope so it shows her cluster wide access for API access or web access whatever it happens",
    "start": "808530",
    "end": "815820"
  },
  {
    "text": "to be it shows it all in one place and then if you get the wide output you can see that the this bit of access is",
    "start": "815820",
    "end": "823410"
  },
  {
    "text": "coming from specific role bindings named Avery so this shows you not only what",
    "start": "823410",
    "end": "828750"
  },
  {
    "text": "access she has it shows you it in every namespace across the cluster and then the source of that access well that's",
    "start": "828750",
    "end": "836790"
  },
  {
    "text": "all well and good but sometimes you want to look a little bit wider so our back",
    "start": "836790",
    "end": "842280"
  },
  {
    "text": "lookup matches any pattern and one pattern that we've seen a lot for user names is email addresses so in this case",
    "start": "842280",
    "end": "848850"
  },
  {
    "text": "all our user names have at example.com so we're just going to change that",
    "start": "848850",
    "end": "854070"
  },
  {
    "text": "around and do our bakit lookup example.com and we're going to get",
    "start": "854070",
    "end": "859440"
  },
  {
    "text": "everyone in our organization all three people that have access to our cluster and so you can see not only does Avery",
    "start": "859440",
    "end": "866550"
  },
  {
    "text": "have access Joe and Sue also have access inside this cluster it's a really really",
    "start": "866550",
    "end": "872010"
  },
  {
    "text": "simple tool but there's one more thing because sometimes our back isn't all",
    "start": "872010",
    "end": "877590"
  },
  {
    "text": "there is when it comes to authorization sometimes there's a little bit more and one of the most common use cases that",
    "start": "877590",
    "end": "883710"
  },
  {
    "text": "I've referred to before is Google's kubernetes engine where I am is also a form of author authorization inside your",
    "start": "883710",
    "end": "890370"
  },
  {
    "text": "kubernetes cluster so if you're trying to understand not just our back access but your cloud I am access we support",
    "start": "890370",
    "end": "898920"
  },
  {
    "text": "that too so you can run our back look up and then add a gke flag and you can see",
    "start": "898920",
    "end": "905010"
  },
  {
    "text": "there I am access as well so you can get a picture of not just there are back access in a cluster but also there I am",
    "start": "905010",
    "end": "911220"
  },
  {
    "text": "access so for anyone running gke trying to really understand authorization from two different sources this can really",
    "start": "911220",
    "end": "918300"
  },
  {
    "text": "help make that a little bit more clear alright so summary of those tools coop",
    "start": "918300",
    "end": "925290"
  },
  {
    "text": "cuddle off can are is included by default with coop cuddle it's amazing it allows you to see if a user can perform",
    "start": "925290",
    "end": "931470"
  },
  {
    "text": "a specific action and if so you can dig a little bit deeper and ask why Rick s",
    "start": "931470",
    "end": "938010"
  },
  {
    "text": "supercharges that runs that same API call a whole bunch of times for you and gets that same information and presents",
    "start": "938010",
    "end": "945060"
  },
  {
    "text": "it with those nice green check marks and red X's in an access matrix coupe cuddle",
    "start": "945060",
    "end": "950490"
  },
  {
    "text": "who can flips the question around entirely answers who can perform a certain action in my cluster and finally",
    "start": "950490",
    "end": "958230"
  },
  {
    "text": "our back look up it allows you to get an art an overview of our back and if you're on G ke I am overview well that's",
    "start": "958230",
    "end": "967529"
  },
  {
    "text": "all well and good but maybe the most important part of this is how we can manage kubernetes authorization simply",
    "start": "967529",
    "end": "974700"
  },
  {
    "text": "and effectively and so for the final section I want to walk through some of the lessons we've learned as we've",
    "start": "974700",
    "end": "980459"
  },
  {
    "text": "worked with so many different organizations of different sizes for how we can manage kubernetes authorization",
    "start": "980459",
    "end": "987209"
  },
  {
    "text": "simply and effectively so when it comes to effective auerbach I think we need to",
    "start": "987209",
    "end": "993690"
  },
  {
    "text": "start with the principle of least privilege and that's don't grant any more access than users actually need if",
    "start": "993690",
    "end": "1001550"
  },
  {
    "text": "they ever need it in the future we can grant it then for a good reason but if you don't grant any more access",
    "start": "1001550",
    "end": "1007760"
  },
  {
    "text": "than users actually need you're simplifying life less access you're granting is less configure managing and",
    "start": "1007760",
    "end": "1014020"
  },
  {
    "text": "then use namespaces effectively it's so often that we see that a whole bunch of",
    "start": "1014020",
    "end": "1020209"
  },
  {
    "text": "applications are deployed into a single namespace and that makes sense but when our back starts to come along you really",
    "start": "1020209",
    "end": "1026928"
  },
  {
    "text": "want to have your namespaces represent your project teams because namespaces",
    "start": "1026929",
    "end": "1032209"
  },
  {
    "text": "are about as granular as you can configure our back so you want if you want to be able to grant teams access to",
    "start": "1032209",
    "end": "1039650"
  },
  {
    "text": "a specific application or namespace it has to be in a namespace so create names",
    "start": "1039650",
    "end": "1044808"
  },
  {
    "text": "that line up with your teams and then finally have a clear update process",
    "start": "1044809",
    "end": "1049990"
  },
  {
    "text": "ideally this should include some kind of automation with CI this is just my own",
    "start": "1049990",
    "end": "1055280"
  },
  {
    "text": "personal opinion but at the very least any changes to your authorization should",
    "start": "1055280",
    "end": "1060559"
  },
  {
    "text": "have a clear update process and they should all go through that same floo whatever works for your organization and then for simpler are",
    "start": "1060559",
    "end": "1068990"
  },
  {
    "text": "back I think it's worthwhile to centralize that configuration when there's a question of where does that",
    "start": "1068990",
    "end": "1074780"
  },
  {
    "text": "role binding come from where does that bit of access come from it's nice if it's all coming from the same place",
    "start": "1074780",
    "end": "1079930"
  },
  {
    "text": "what's worked for us is to group all our Auerbach configuration together per",
    "start": "1079930",
    "end": "1084980"
  },
  {
    "text": "cluster so each cluster has a single place for our back configuration that",
    "start": "1084980",
    "end": "1090290"
  },
  {
    "text": "could be different for each organization but as long as you have a place to where you know to go for your are back",
    "start": "1090290",
    "end": "1096200"
  },
  {
    "text": "configuration and it makes sense for you then quite simply give less people",
    "start": "1096200",
    "end": "1101540"
  },
  {
    "text": "access in many cases engineers don't actually need access to your kubernetes cluster if you think about it you",
    "start": "1101540",
    "end": "1109550"
  },
  {
    "text": "probably have CI CD set up some kind of automated deployments and if they can already just push some code and know",
    "start": "1109550",
    "end": "1115940"
  },
  {
    "text": "that it's going to reach your kubernetes cluster maybe they don't need to actually be getting into the kubernetes cluster itself and finally use those",
    "start": "1115940",
    "end": "1124730"
  },
  {
    "text": "default rules take advantage of them they're there for a reason view/edit admin and cluster admin",
    "start": "1124730",
    "end": "1130690"
  },
  {
    "text": "combined with namespaces properly scoped give you a lot of flexibility with how",
    "start": "1130690",
    "end": "1135920"
  },
  {
    "text": "you setup your authorization so all of this hopefully can lead to more effective and simpler are back but some",
    "start": "1135920",
    "end": "1144020"
  },
  {
    "text": "of these things are still a little bit challenging to get to so we built an",
    "start": "1144020",
    "end": "1149270"
  },
  {
    "text": "open-source operator called are back manager that can help here and we built this to help accomplish these goals a",
    "start": "1149270",
    "end": "1156520"
  },
  {
    "text": "lot of its surrounding making our back automation a lot simpler to work with so",
    "start": "1156520",
    "end": "1163910"
  },
  {
    "text": "our back manager allows us to use more concise configuration by grouping resources together it allows us to",
    "start": "1163910",
    "end": "1170780"
  },
  {
    "text": "automate our back changes so if you want to put your arm back configuration into some kind of CI CD workflow this allows",
    "start": "1170780",
    "end": "1177440"
  },
  {
    "text": "for that very straightforwardly and then as a newer feature we now support ephemeral namespaces and a whole lot",
    "start": "1177440",
    "end": "1184370"
  },
  {
    "text": "more with a cool feature called label selectors and we'll go through each one of those and how they work so",
    "start": "1184370",
    "end": "1191410"
  },
  {
    "text": "deployments simplify managing pods if you're familiar with the paradigm in kubernetes if you've created a",
    "start": "1191410",
    "end": "1197490"
  },
  {
    "text": "tormund it creates a bunch of pods for you and it just simplifies that workflow it's a nice Parent Resource that owns it",
    "start": "1197490",
    "end": "1203670"
  },
  {
    "text": "spots we tried to create that same kind of pattern with our back definitions and that's our custom resource for our back",
    "start": "1203670",
    "end": "1210240"
  },
  {
    "text": "manager and they simplify managing role bindings so role bindings didn't really",
    "start": "1210240",
    "end": "1215700"
  },
  {
    "text": "have a parent resource before and they were a little bit annoying to work with especially at any kind of scale and so",
    "start": "1215700",
    "end": "1221580"
  },
  {
    "text": "we thought well what if we could create a custom resource on top of this that would simplify the management of role",
    "start": "1221580",
    "end": "1226980"
  },
  {
    "text": "bindings and so the advantage of our back definition is number one it's more",
    "start": "1226980",
    "end": "1233670"
  },
  {
    "text": "concise so if you remember that example from before it was a really simple example where we gave jane access at",
    "start": "1233670",
    "end": "1240300"
  },
  {
    "text": "Avery access we granted her to role bindings that same configuration can fit",
    "start": "1240300",
    "end": "1248940"
  },
  {
    "text": "on a single slide so instead of two slides of Y amyl we're down to a single slide of yahwah and usually if I had",
    "start": "1248940",
    "end": "1255210"
  },
  {
    "text": "more room on this slide I could show a more dramatic change in configuration usually we cut configuration by around a",
    "start": "1255210",
    "end": "1262200"
  },
  {
    "text": "third of just vanilla royal bindings with kubernetes so you can cut down the amount of configuration you're using",
    "start": "1262200",
    "end": "1268290"
  },
  {
    "text": "pretty significantly and I think one advantages while you're writing a bit less yamo but another advantage of using",
    "start": "1268290",
    "end": "1274650"
  },
  {
    "text": "a system like this is it to me at least it's a little bit easier to read because in one place you can see that Avery or",
    "start": "1274650",
    "end": "1282059"
  },
  {
    "text": "whatever group usually this would be a list of users that belong to a specific team and you can see all the different",
    "start": "1282059",
    "end": "1289500"
  },
  {
    "text": "bits of access you've granted them so in this case we can see in one place that we've granted Avery view access in the",
    "start": "1289500",
    "end": "1295980"
  },
  {
    "text": "API namespace and edit access in the web namespace instead of looking through two different configuration files so just to",
    "start": "1295980",
    "end": "1304110"
  },
  {
    "text": "prove that this works we'll go ahead and apply this auerbach definition and we can watch the rback manager logs before",
    "start": "1304110",
    "end": "1310650"
  },
  {
    "text": "below and right away it creates those role bindings for us so it just does",
    "start": "1310650",
    "end": "1315720"
  },
  {
    "text": "that for us we get the same end result we've just saved some configuration well",
    "start": "1315720",
    "end": "1321690"
  },
  {
    "text": "that's all well and good but really what I think the key idea behind our back manager was is we need a better workflow",
    "start": "1321690",
    "end": "1327330"
  },
  {
    "text": "around our back we need a better way to work with our back manage back and have this be a little bit more",
    "start": "1327330",
    "end": "1333370"
  },
  {
    "text": "automated so for our back automation we",
    "start": "1333370",
    "end": "1338410"
  },
  {
    "text": "knew we needed to ensure that newly defined role bindings were reliably reliably created and the good news is",
    "start": "1338410",
    "end": "1344740"
  },
  {
    "text": "that already worked that was not an issue so whatever system we built we could just recreate that and it was",
    "start": "1344740",
    "end": "1350620"
  },
  {
    "text": "going to be fine but the next two got a little bit more complicated role bindings that require",
    "start": "1350620",
    "end": "1356110"
  },
  {
    "text": "changes needed to be reliably updated or replaced now why would I say replaced",
    "start": "1356110",
    "end": "1363070"
  },
  {
    "text": "well role references and role bindings are immutable so you can't actually change a role reference in a role",
    "start": "1363070",
    "end": "1369310"
  },
  {
    "text": "binding so what you would have to do is delete an old rule binding and create a new role binding if you were trying to",
    "start": "1369310",
    "end": "1376020"
  },
  {
    "text": "change someone's access from say edit to admin so not the end of the world there",
    "start": "1376020",
    "end": "1381280"
  },
  {
    "text": "were was some coop cuddle tooling called coop cuddle reconcile that helped with that but we also wanted to make sure",
    "start": "1381280",
    "end": "1387040"
  },
  {
    "text": "that that process was very smooth with our back manager but finally maybe the biggest one was we needed a way to",
    "start": "1387040",
    "end": "1392950"
  },
  {
    "text": "ensure that we could say safely revoke access without accidentally deleting the",
    "start": "1392950",
    "end": "1398020"
  },
  {
    "text": "wrong role binding because any kind of automation you need to ensure that what you have in your code whatever whatever",
    "start": "1398020",
    "end": "1403150"
  },
  {
    "text": "you're using with infrastructure as code type thing actually represents what the state is in the cluster so you need to",
    "start": "1403150",
    "end": "1409990"
  },
  {
    "text": "trust that revocation of access is going to work as you want it to so going back",
    "start": "1409990",
    "end": "1416050"
  },
  {
    "text": "to our our back definition we're going to try out a couple of these changes and so in this case I'm going to go ahead",
    "start": "1416050",
    "end": "1422380"
  },
  {
    "text": "and I'm going to change Avery's access and API from view to admin and usually ideally this should go",
    "start": "1422380",
    "end": "1432220"
  },
  {
    "text": "through some kind of CI in this case I'm going to edit live because it's a demo and this was the easiest thing I could",
    "start": "1432220",
    "end": "1437410"
  },
  {
    "text": "do but we're just going to run with this pretend this is a CI workflow but when",
    "start": "1437410",
    "end": "1442870"
  },
  {
    "text": "this auerbach definition changes our back manager goes ahead deletes the old role binding and creates another one",
    "start": "1442870",
    "end": "1449110"
  },
  {
    "text": "automatically so it's just one bit of pain that you don't have to deal with it just works and maybe more importantly is",
    "start": "1449110",
    "end": "1455620"
  },
  {
    "text": "revocation so in this case we're going to go ahead and remove that access to API altogether so we'll just remove the",
    "start": "1455620",
    "end": "1462580"
  },
  {
    "text": "the reference from the ARB definition and again editing live",
    "start": "1462580",
    "end": "1468130"
  },
  {
    "text": "instead of using CI but if you can imagine this going through a CI workflow that's that's what I'm aiming for here",
    "start": "1468130",
    "end": "1474340"
  },
  {
    "text": "and when we edit this we can see that right away our back manager sees that",
    "start": "1474340",
    "end": "1480640"
  },
  {
    "text": "our back definition has changed sees that a specific role binding is no longer desired that was owned by that",
    "start": "1480640",
    "end": "1487210"
  },
  {
    "text": "specific are back definition and so it revokes that it only it only touches things that it has created and our own",
    "start": "1487210",
    "end": "1493750"
  },
  {
    "text": "by specific are back definitions but with that and with that said we have a really straightforward path to start",
    "start": "1493750",
    "end": "1500440"
  },
  {
    "text": "automating these changes and using them in some kind of CI workflow with pull request approval whatever it happens to",
    "start": "1500440",
    "end": "1506590"
  },
  {
    "text": "be for your organization but you can now automate your are back configuration now",
    "start": "1506590",
    "end": "1513310"
  },
  {
    "text": "maybe the most interesting feature with our back manager is label selectors how many people here are using ephemeral",
    "start": "1513310",
    "end": "1519730"
  },
  {
    "text": "environments and kubernetes okay a few how many people want to be a few more",
    "start": "1519730",
    "end": "1525280"
  },
  {
    "text": "okay so this is for you and maybe there are some other use cases here too so if",
    "start": "1525280",
    "end": "1531610"
  },
  {
    "text": "you've ever wanted to have an ephemeral environment system where just a new a new environment just spins up like",
    "start": "1531610",
    "end": "1537790"
  },
  {
    "text": "nothing for your developers if they're working on a feature branch this helps solve the authorization side of that we",
    "start": "1537790",
    "end": "1544870"
  },
  {
    "text": "now allow that we now support namespace selectors so anytime that a namespace",
    "start": "1544870",
    "end": "1550600"
  },
  {
    "text": "has a label team equals API in this example Avery is going to get edit",
    "start": "1550600",
    "end": "1556990"
  },
  {
    "text": "access and again you can have a whole list of users here representing your API team but to keep with our example this",
    "start": "1556990",
    "end": "1563560"
  },
  {
    "text": "is just going to be Avery getting this access so we're going to create a new namespace will label it demo will create",
    "start": "1563560",
    "end": "1571960"
  },
  {
    "text": "a new namespace called demo and we'll label it team equals API and when we do",
    "start": "1571960",
    "end": "1578560"
  },
  {
    "text": "that if you notice below our back manager has automatically created that role binding for us so Avery has the",
    "start": "1578560",
    "end": "1584860"
  },
  {
    "text": "access we want and finally if we change that label to another team like not API",
    "start": "1584860",
    "end": "1591960"
  },
  {
    "text": "then her access is immediately revoked and she no longer has access in",
    "start": "1591960",
    "end": "1597770"
  },
  {
    "text": "side of that namespace so really simple workflow but if you've ever wanted to work with ephemeral environments this",
    "start": "1597770",
    "end": "1605180"
  },
  {
    "text": "can help that out so to recap our back manager it gives us",
    "start": "1605180",
    "end": "1610190"
  },
  {
    "text": "more concise and simpler configuration that groups role bindings together our",
    "start": "1610190",
    "end": "1615350"
  },
  {
    "text": "back changes are now a whole lot easier to automate and label selectors allow",
    "start": "1615350",
    "end": "1620960"
  },
  {
    "text": "for simple our back for ephemeral environments thanks so much for your",
    "start": "1620960",
    "end": "1626720"
  },
  {
    "text": "time here these are all these projects that I've featured today already they're",
    "start": "1626720",
    "end": "1632660"
  },
  {
    "text": "all on github they're all open source the last two were developed by us at reactive ops we're always open to any",
    "start": "1632660",
    "end": "1640040"
  },
  {
    "text": "kind of feedback ideas issues pull requests whatever you run into we would",
    "start": "1640040",
    "end": "1645200"
  },
  {
    "text": "love to make these tools even better so they can make authorization more approachable and more simple inside",
    "start": "1645200",
    "end": "1650450"
  },
  {
    "text": "kubernetes I think I might have a few minutes any questions cool",
    "start": "1650450",
    "end": "1657880"
  },
  {
    "text": "[Applause]",
    "start": "1660870",
    "end": "1670650"
  },
  {
    "text": "maybe you can go a bit into detail what permissions I need to run these tools so maybe you can start with you Carol can i",
    "start": "1670650",
    "end": "1678630"
  },
  {
    "text": "and can i impersonate anybody even if I don't have any privileges great question and eat Rosie's yeah that's that's a",
    "start": "1678630",
    "end": "1686160"
  },
  {
    "text": "great question with coop cuddle off can i that tool comes with the subject",
    "start": "1686160",
    "end": "1691560"
  },
  {
    "text": "access review permission so anyone can run that as themselves if they're",
    "start": "1691560",
    "end": "1696810"
  },
  {
    "text": "authenticated in kubernetes cluster that's a default permission but if you're trying to impersonate someone else that's an additional permission I'm",
    "start": "1696810",
    "end": "1704310"
  },
  {
    "text": "not sure which default role grants that by default but it is an additional permission to be able to run it as",
    "start": "1704310",
    "end": "1711060"
  },
  {
    "text": "someone else next",
    "start": "1711060",
    "end": "1716090"
  },
  {
    "text": "if you're using opa or similar on top of the default or Boxtel for the many tools",
    "start": "1723840",
    "end": "1730240"
  },
  {
    "text": "that help make the laid decision analysis easier sorry can you say that",
    "start": "1730240",
    "end": "1735280"
  },
  {
    "text": "again if you're using OPA on top of our back to do finer grained",
    "start": "1735280",
    "end": "1740640"
  },
  {
    "text": "access control or the many tools that make it easier to say what got rejected",
    "start": "1740640",
    "end": "1745660"
  },
  {
    "text": "why and where yeah that's that's a great question so so he's asking about if I",
    "start": "1745660",
    "end": "1751660"
  },
  {
    "text": "understood it correctly he was asking about if you could use open policy agent to use more granular policy when it",
    "start": "1751660",
    "end": "1758380"
  },
  {
    "text": "comes to our back with is that correct okay yeah and if there are any tools that help I don't know of any tools in",
    "start": "1758380",
    "end": "1764740"
  },
  {
    "text": "particular that help there are some open policy agent web hooks which would allow",
    "start": "1764740",
    "end": "1770560"
  },
  {
    "text": "you to create an open policy agent on your own and open open policy agent",
    "start": "1770560",
    "end": "1777280"
  },
  {
    "text": "configuration on your own and prevent any kind of actions from happening Web books are really really amazing it's",
    "start": "1777280",
    "end": "1784030"
  },
  {
    "text": "it's basically free form but you can write OPA policies to do off I don't know if any specific tool that helps you",
    "start": "1784030",
    "end": "1789880"
  },
  {
    "text": "do that that's off focused thank you for",
    "start": "1789880",
    "end": "1796000"
  },
  {
    "text": "for these compilation of tools I keep thinking do you know if those",
    "start": "1796000",
    "end": "1802390"
  },
  {
    "text": "tools have a keep CTO plugin because they are yeah like they're just one step",
    "start": "1802390",
    "end": "1808810"
  },
  {
    "text": "away right I'm for me cube CTO yeah plugins would lean more natural flow I'm",
    "start": "1808810",
    "end": "1814390"
  },
  {
    "text": "not 100 percent percent sure about coop kettle who can I know Rick s is known as",
    "start": "1814390",
    "end": "1819760"
  },
  {
    "text": "access matrix if you use crew as a bug plugin manager and our back lookup is",
    "start": "1819760",
    "end": "1825280"
  },
  {
    "text": "known as our back lookup within crew but they are both available as coop kettle plugins as well",
    "start": "1825280",
    "end": "1832440"
  },
  {
    "text": "thank you actually I must not the question is more",
    "start": "1842730",
    "end": "1848020"
  },
  {
    "text": "like a general comment just as a security guy cannot stay silent so first",
    "start": "1848020",
    "end": "1854260"
  },
  {
    "text": "of all I need to thank you because this was very impressive and very useful presentation and demo but I couldn't",
    "start": "1854260",
    "end": "1859990"
  },
  {
    "text": "just it was like a splinter in my mind why do you grant access to individual users why don't you grant access to",
    "start": "1859990",
    "end": "1865510"
  },
  {
    "text": "groups of users is it for demo purposes or yeah this is the way you do that's",
    "start": "1865510",
    "end": "1870610"
  },
  {
    "text": "that's a great question it it depends on how the users come into your system essentially so your authentication",
    "start": "1870610",
    "end": "1877120"
  },
  {
    "text": "provider when someone is authenticating into your user and into your cluster can",
    "start": "1877120",
    "end": "1882190"
  },
  {
    "text": "provide a username and an optional list of groups some some authentication providers support groups others don't",
    "start": "1882190",
    "end": "1889450"
  },
  {
    "text": "the one thing that is always provided is a user name so groups when they're",
    "start": "1889450",
    "end": "1895240"
  },
  {
    "text": "available are awesome but they're not always universally supported so it just",
    "start": "1895240",
    "end": "1900730"
  },
  {
    "text": "kind of depends but that's a great point if you do have groups available to you definitely use them thanks a lot for",
    "start": "1900730",
    "end": "1907840"
  },
  {
    "text": "this presentation now we know everything about every success to the cluster but do this tool work with service accounts",
    "start": "1907840",
    "end": "1915510"
  },
  {
    "text": "yes absolutely service accounts are listed in output for all of these and even our back",
    "start": "1915510",
    "end": "1922420"
  },
  {
    "text": "manager I didn't cover that specific component that it was too short of a talk to cover everything but our back",
    "start": "1922420",
    "end": "1927670"
  },
  {
    "text": "manager does also managed service accounts for those use cases as well if you want to so you gave what permissions",
    "start": "1927670",
    "end": "1938260"
  },
  {
    "text": "are required for keep CTL can I do you know what the permissions required for",
    "start": "1938260",
    "end": "1944470"
  },
  {
    "text": "the other four tools are yeah so our back manager is some is an operator that's deployed into your cluster and",
    "start": "1944470",
    "end": "1951210"
  },
  {
    "text": "because it's creating role bindings and cluster role bindings for you it needs to be able to create cluster role",
    "start": "1951210",
    "end": "1957220"
  },
  {
    "text": "bindings role bindings for you and it also needs to be able to watch namespaces for changes coop cuttle who",
    "start": "1957220",
    "end": "1965200"
  },
  {
    "text": "can I'm not as familiar with that tool our back lookup is I just read only access on our back",
    "start": "1965200",
    "end": "1972980"
  },
  {
    "text": "resources such as roll bindings and cholesterol bindings yep",
    "start": "1972980",
    "end": "1978230"
  },
  {
    "text": "these tools are enable multi-tenancy multi-tenancy not necessarily it kind of",
    "start": "1978230",
    "end": "1987980"
  },
  {
    "text": "that they can help in that in that process but there are other limitations currently in kubernetes where there's",
    "start": "1987980",
    "end": "1994399"
  },
  {
    "text": "there's a lot of work going on to help make multi-tenancy more feasible but this would be more helpful towards maybe",
    "start": "1994399",
    "end": "2001779"
  },
  {
    "text": "soft multi-tenancy but for true multi-tenancy we need additional tooling",
    "start": "2001779",
    "end": "2008080"
  },
  {
    "text": "and and ways to restrict access between namespaces that aren't currently perfect",
    "start": "2008080",
    "end": "2013690"
  },
  {
    "text": "so there's there's work going on but I wouldn't say this on its own can get us to that perfect multi-tenancy point so",
    "start": "2013690",
    "end": "2020440"
  },
  {
    "text": "what are those tools as far as working",
    "start": "2020440",
    "end": "2026379"
  },
  {
    "text": "on multi-tenancy I I guess tools is in the right term it's more work inside kubernetes itself there's a",
    "start": "2026379",
    "end": "2032950"
  },
  {
    "text": "multi-tenancy working group that's doing some awesome stuff to try and help simplify that process and help get to a",
    "start": "2032950",
    "end": "2038919"
  },
  {
    "text": "more secure state but I don't have a great resources beyond that hello",
    "start": "2038919",
    "end": "2046929"
  },
  {
    "text": "yeah amia do you do you plan to - available select our pod level yes sorry",
    "start": "2046929",
    "end": "2053290"
  },
  {
    "text": "say that again do you plan to have low levels rectorate but level not namespace",
    "start": "2053290",
    "end": "2059710"
  },
  {
    "text": "level an inspector for a pod a stable",
    "start": "2059710",
    "end": "2066460"
  },
  {
    "text": "selector Oh gotcha yes sorry so label selector is something that we initially only supported for",
    "start": "2066460",
    "end": "2072878"
  },
  {
    "text": "namespaces it's a little bit trickier when it comes to other kubernetes resources because roll bindings by",
    "start": "2072879",
    "end": "2079329"
  },
  {
    "text": "default are something that can be granted at a namespace level there are specific ways to grant specific resource",
    "start": "2079329",
    "end": "2086319"
  },
  {
    "text": "names but that gets a little stranger than that something that's not in roll bindings that's in defining the rules",
    "start": "2086319",
    "end": "2092470"
  },
  {
    "text": "themselves so we kind of have to change how our back manager works right now it's just focused on managing role",
    "start": "2092470",
    "end": "2097900"
  },
  {
    "text": "bindings and we can do namespaces that way but it's harder to you resources themselves individually",
    "start": "2097900",
    "end": "2105580"
  },
  {
    "text": "okay we're out of time thanks Rob [Applause]",
    "start": "2105580",
    "end": "2112659"
  }
]