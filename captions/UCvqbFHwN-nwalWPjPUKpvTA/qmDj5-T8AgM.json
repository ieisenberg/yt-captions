[
  {
    "text": "thanks for joining today uh today we are going to talk about um CSI forensic and",
    "start": "40",
    "end": "6000"
  },
  {
    "text": "CSI container this is actually the second episode on this kind of series",
    "start": "6000",
    "end": "11360"
  },
  {
    "text": "that we started last year here in security con um so let's dive uh just",
    "start": "11360",
    "end": "18840"
  },
  {
    "text": "see what we're going to see today uh so we're going to just uh say couple of",
    "start": "18840",
    "end": "24560"
  },
  {
    "text": "words on thef what is thef and container DF this is something that we cover",
    "start": "24560",
    "end": "29679"
  },
  {
    "text": "already in the last episode just doing uh couple of words and then we'll move",
    "start": "29679",
    "end": "35200"
  },
  {
    "text": "on to the kubernetes checkpoint which will be our main focus for today and",
    "start": "35200",
    "end": "40960"
  },
  {
    "text": "then we'll see what we can do with with kubernetes checkpoint and then we'll close with some takeaways so uh pre",
    "start": "40960",
    "end": "50360"
  },
  {
    "text": "previously on CSI container as we said uh we we did a talk last year uh related",
    "start": "50360",
    "end": "56680"
  },
  {
    "text": "to this topic um we're just going to see a couple things but I'll let you go",
    "start": "56680",
    "end": "62000"
  },
  {
    "text": "through the uh to the overall talk if you are interested in and if if you weren't there last year uh Unfortunately",
    "start": "62000",
    "end": "68960"
  },
  {
    "text": "today we can just skip the intro because of course we have some uh important",
    "start": "68960",
    "end": "74119"
  },
  {
    "text": "couple of things that we need to set up in order to understand the other part of the talk so sorry about that but I'm I",
    "start": "74119",
    "end": "81360"
  },
  {
    "text": "I'll be quick uh so let's start talking about the FI and what is the F and why",
    "start": "81360",
    "end": "86960"
  },
  {
    "text": "we talk about the F so what is the f is digital forensics plus instant",
    "start": "86960",
    "end": "93280"
  },
  {
    "text": "response um digital forensics are all the activities done in order to collect",
    "start": "93280",
    "end": "99640"
  },
  {
    "text": "data collect logs collect activity user um user activities and so on in order to",
    "start": "99640",
    "end": "105000"
  },
  {
    "text": "proceed with analysis and understand what the attacker did uh which was the goal and kind of bringing together",
    "start": "105000",
    "end": "111840"
  },
  {
    "text": "pieces to understand the overall picture uh insent response instead are all the",
    "start": "111840",
    "end": "117479"
  },
  {
    "text": "activities done in know from preparation to fixing and resolving the issue uh so",
    "start": "117479",
    "end": "124640"
  },
  {
    "text": "all the things in the middle that we do are or related or when the attack is performed is all is all under the uh",
    "start": "124640",
    "end": "132480"
  },
  {
    "text": "inser response activities uh nowadays we talk about the FI because of course all",
    "start": "132480",
    "end": "138319"
  },
  {
    "text": "the tools that we use are very capable and they are kind of all together uh and we have like super powerful tool that",
    "start": "138319",
    "end": "145040"
  },
  {
    "text": "that give us the chance to do all both digital forensic and insert response so",
    "start": "145040",
    "end": "150319"
  },
  {
    "text": "back in time those two practice were very separated now it makes sense to",
    "start": "150319",
    "end": "156599"
  },
  {
    "text": "keep them all together since we have told that give us the chance to do that",
    "start": "156599",
    "end": "161680"
  },
  {
    "text": "uh just a couple of words on what we said on container thef um so why we talk about the",
    "start": "161680",
    "end": "168280"
  },
  {
    "text": "container DF for obvious reasons because we might need to do and perform those",
    "start": "168280",
    "end": "173519"
  },
  {
    "text": "activities if we get attacked and we need to understand what what what happened and how to restore and how to",
    "start": "173519",
    "end": "179200"
  },
  {
    "text": "come back and what we need to fix um however as we know container are very",
    "start": "179200",
    "end": "185080"
  },
  {
    "text": "different from uh what we used to do on host and of course we need to we need different tools we need different best",
    "start": "185080",
    "end": "191760"
  },
  {
    "text": "practice so that's what we cover larger last time uh but long story short uh we",
    "start": "191760",
    "end": "197920"
  },
  {
    "text": "have different tools that we need to master we have different tools that we need to to know and different tools that",
    "start": "197920",
    "end": "204280"
  },
  {
    "text": "that we need to understand and use it in order to perform container thef which is different from host and on Prem DF and",
    "start": "204280",
    "end": "212280"
  },
  {
    "text": "of course uh we need to be ready to use in case we need uh so let's now let's",
    "start": "212280",
    "end": "218640"
  },
  {
    "text": "just go through the basic phases for instent response um there are",
    "start": "218640",
    "end": "223799"
  },
  {
    "text": "preparation which is uh what we need to do in order to get prepared to receive an attack main so um lot of things that",
    "start": "223799",
    "end": "231920"
  },
  {
    "text": "you can do the main part of course is collect collect logs and making sure you have the visibility you need in order to",
    "start": "231920",
    "end": "239439"
  },
  {
    "text": "uh potentially detect attacks if something happen so in this case you can use container runtime security tools",
    "start": "239439",
    "end": "245760"
  },
  {
    "text": "like Falco and Falco sidekick to send all the data into lock management platform which in this case could be uh",
    "start": "245760",
    "end": "252680"
  },
  {
    "text": "elk or or elastic search um and of course there might be other tools in",
    "start": "252680",
    "end": "258759"
  },
  {
    "text": "cncf uh which you can you can use in container in order to log to logging and",
    "start": "258759",
    "end": "264639"
  },
  {
    "text": "send log then uh like fluent bat and fluent d uh next phase is detection",
    "start": "264639",
    "end": "271120"
  },
  {
    "text": "analysis this is when the attack is already on so you need to run you need to uh use your tools that you have been",
    "start": "271120",
    "end": "279199"
  },
  {
    "text": "preparing in the past hopefully so that you are ready to uh to detect and and react as fast as possible and of course",
    "start": "279199",
    "end": "287199"
  },
  {
    "text": "uh once you you have the detection and you start understanding what is going on",
    "start": "287199",
    "end": "292759"
  },
  {
    "text": "uh you start uh isolating things uh it might be into the Container it might already be outside the container is",
    "start": "292759",
    "end": "299120"
  },
  {
    "text": "already in the host so you might need to do different things you might need to cord on the Node if needed or press is",
    "start": "299120",
    "end": "305560"
  },
  {
    "text": "already on cloud so you need to also have visibility into Cloud as well uh and this is the phase where you start",
    "start": "305560",
    "end": "312639"
  },
  {
    "text": "collecting uh all the evidence that you might need in order for um for digital",
    "start": "312639",
    "end": "318360"
  },
  {
    "text": "forensic as we saw before so snapshotting uh retrieve comits retrieve",
    "start": "318360",
    "end": "323600"
  },
  {
    "text": "uh logs that might needed and so on and of course the last phas is fixing where you know where the where was the um the",
    "start": "323600",
    "end": "331680"
  },
  {
    "text": "C the uh the vulnerability or the misconfiguration so you need to act on fixing that in order to um be safe next",
    "start": "331680",
    "end": "340840"
  },
  {
    "text": "time so that's what we discussed last year um have a look at this if you want",
    "start": "340840",
    "end": "346800"
  },
  {
    "text": "to know more and now we I think we are ready for the next episode about this series about uh kubernetes uh the um",
    "start": "346800",
    "end": "354960"
  },
  {
    "text": "CSI so as we said um kubernetes checkpoint is the main focus for today",
    "start": "354960",
    "end": "362120"
  },
  {
    "text": "um KU is something that we are we discussed briefly last year as well but this year I think we wanted to move a",
    "start": "362120",
    "end": "368880"
  },
  {
    "text": "bit fter and a bit deeper into what we can do with with kubernetes checkpoint",
    "start": "368880",
    "end": "375000"
  },
  {
    "text": "uh for always not familiar with kubernetes check point is a feature that was added in kubernetes in version 125",
    "start": "375000",
    "end": "382840"
  },
  {
    "text": "in as Alpha as Alpha version and is in 130 is in beta uh is in beta uh so is is",
    "start": "382840",
    "end": "391080"
  },
  {
    "text": "still early stage uh and there are still some limitation that we will highlight during the presentation today uh but",
    "start": "391080",
    "end": "398599"
  },
  {
    "text": "it's still very useful and very and make sense for what we need to do for the FI",
    "start": "398599",
    "end": "404639"
  },
  {
    "text": "so just a couple of words on how it works as you can see you can think about checkpoint as a like snapshotting your",
    "start": "404639",
    "end": "411840"
  },
  {
    "text": "container so that you can restore somewhere else uh and of course in our case to do proper um proper analysis and",
    "start": "411840",
    "end": "420960"
  },
  {
    "text": "forensic analysis on it how it works uh you just freeze the process it goes",
    "start": "420960",
    "end": "426080"
  },
  {
    "text": "process by process and if is freeze the process collect the thing that you need need to be collected like memory uh CPU",
    "start": "426080",
    "end": "433400"
  },
  {
    "text": "usage and other information that might need then to restore into another another system or or the same system of",
    "start": "433400",
    "end": "439840"
  },
  {
    "text": "course it depends on the use case uh in order to do that underneath to use p risol uh to uh inject into the process",
    "start": "439840",
    "end": "448039"
  },
  {
    "text": "do all the thing that we did that we see here on collecting save memory and so on and then unfreeze uh the process so it",
    "start": "448039",
    "end": "455199"
  },
  {
    "text": "can it can continue uh some limitation uh that we can say here uh about container",
    "start": "455199",
    "end": "462879"
  },
  {
    "text": "checkpoint uh it works on specific container um on uh container runtime uh",
    "start": "462879",
    "end": "470360"
  },
  {
    "text": "so it's um it works on cryo uh but is I",
    "start": "470360",
    "end": "475960"
  },
  {
    "text": "mean is reliable on cryo is still theist some work that needs to be done on other",
    "start": "475960",
    "end": "482319"
  },
  {
    "text": "on different environments so uh keep it as in mind when you see it so it's not",
    "start": "482319",
    "end": "488199"
  },
  {
    "text": "like ready for production but you now is very is very useful uh to understand it",
    "start": "488199",
    "end": "493599"
  },
  {
    "text": "and um and start start working on that um but I mean why we need",
    "start": "493599",
    "end": "501120"
  },
  {
    "text": "kubernetes checkpoint right I mean we start covering about that uh but let's think also about um like limitation that",
    "start": "501120",
    "end": "508680"
  },
  {
    "text": "you have if you want to do like life forensic in a in a in a container right we know container how it works right the",
    "start": "508680",
    "end": "515959"
  },
  {
    "text": "container are very femal so stay there for minutes hours and then they're just",
    "start": "515959",
    "end": "521360"
  },
  {
    "text": "gone so how you do life forensic in such uh epimeral environments if the point is",
    "start": "521360",
    "end": "529160"
  },
  {
    "text": "not there it's pretty difficult to do anything right uh and of course as we as",
    "start": "529160",
    "end": "534279"
  },
  {
    "text": "we know but as we noted also in our uh usage report in 2023 attacks in Cloud",
    "start": "534279",
    "end": "540160"
  },
  {
    "text": "native are super fast like 5 minutes right so you need something that give",
    "start": "540160",
    "end": "545680"
  },
  {
    "text": "you the chance to properly do this kind of the same thing that we were doing on",
    "start": "545680",
    "end": "551360"
  },
  {
    "text": "on Prem which was easier on some on the side uh but on this side in container",
    "start": "551360",
    "end": "557360"
  },
  {
    "text": "which give us a lot of flexibility and all the fun things that you can do with containers however there are also some",
    "start": "557360",
    "end": "563720"
  },
  {
    "text": "challenges that you need to that you need to face um this is mainly how um uh kuet",
    "start": "563720",
    "end": "570959"
  },
  {
    "text": "checkpoint API Works uh about limitation as we as we were talking before this",
    "start": "570959",
    "end": "576240"
  },
  {
    "text": "works on on cuet API so there isn't in kubernetes API yet so you can use it",
    "start": "576240",
    "end": "581560"
  },
  {
    "text": "with Cube CTL at the moment uh and uh creu which is the main Tool uh that is",
    "start": "581560",
    "end": "588560"
  },
  {
    "text": "used and need to be supported by container run time um is uh need to need",
    "start": "588560",
    "end": "594880"
  },
  {
    "text": "to be on the host to where you do the checkpoint so the those are two main thing that you need to",
    "start": "594880",
    "end": "600279"
  },
  {
    "text": "remember uh how works this is the API of course you need to specify the namespace",
    "start": "600279",
    "end": "606079"
  },
  {
    "text": "the Pod name the container name where you want to do the checkpoint and on the",
    "start": "606079",
    "end": "611120"
  },
  {
    "text": "bottom you see the item is created uh which is the the checkpoint it's",
    "start": "611120",
    "end": "616399"
  },
  {
    "text": "creating a tar and if we uh delve into what what there is inside the the",
    "start": "616399",
    "end": "621959"
  },
  {
    "text": "checkpoint we can see a bench of different files um most of the file are related to metadata or things that can",
    "start": "621959",
    "end": "628880"
  },
  {
    "text": "be used ful to recover uh as we will see later on in the demo uh and of course",
    "start": "628880",
    "end": "634640"
  },
  {
    "text": "there are the checkpoint itself where there are all the information and all the the checkpoint created by Creo and",
    "start": "634640",
    "end": "640880"
  },
  {
    "text": "most important there is the root FSD which there are all the um files that",
    "start": "640880",
    "end": "646440"
  },
  {
    "text": "have been changed during the container uh life so you can see in our case if if",
    "start": "646440",
    "end": "652519"
  },
  {
    "text": "the T does something you will see the file that are dropped into the Container for instance in the in the root FSD but",
    "start": "652519",
    "end": "659720"
  },
  {
    "text": "as I said we will see later on uh during the demo um so what we're going to do",
    "start": "659720",
    "end": "665399"
  },
  {
    "text": "today so as we said cber uh checkpoint is sounds like useful uh however it",
    "start": "665399",
    "end": "672040"
  },
  {
    "text": "needs to be done in with proper timing because container might not be there or it might be too late right uh so we need",
    "start": "672040",
    "end": "679120"
  },
  {
    "text": "something that is automated so we don't want to stay there like waiting for an attacker and then like run our checkpoint right we need something",
    "start": "679120",
    "end": "685639"
  },
  {
    "text": "automated and for this use case this fit perfectly on what we do with with ficco",
    "start": "685639",
    "end": "691360"
  },
  {
    "text": "and and kubernetes response engine uh which make you uh trigger actions after",
    "start": "691360",
    "end": "697800"
  },
  {
    "text": "a specific FCO rules is triggered so in this case we're going to Showcase something with KU with response engine",
    "start": "697800",
    "end": "704680"
  },
  {
    "text": "made using ficco FCO sidekick uh Argo in order to uh automate the action and then",
    "start": "704680",
    "end": "712440"
  },
  {
    "text": "uh calling the kubernetes checkpoint just last part before the demo uh for who is not familiar with",
    "start": "712440",
    "end": "719320"
  },
  {
    "text": "Falco and Falco syntax uh this is a Falco rule uh Falco is a runtime security project now is graduated uh and",
    "start": "719320",
    "end": "729000"
  },
  {
    "text": "give you the chance to look into what is going on inside the container so runtime visibility on what is going on um Falco",
    "start": "729000",
    "end": "737040"
  },
  {
    "text": "uh trigger alerts based on events uh and FAL evaluates uh Falco rules and Trigger",
    "start": "737040",
    "end": "743720"
  },
  {
    "text": "events if the condition is is matched in this case for the purpose of the demo we're going to use the detector B",
    "start": "743720",
    "end": "749480"
  },
  {
    "text": "connection to malicious IP uh just going through the the syntax is pretty easy um",
    "start": "749480",
    "end": "755720"
  },
  {
    "text": "f rule there I have different fields there are description uh the main uh",
    "start": "755720",
    "end": "760959"
  },
  {
    "text": "point of the rule of course is the condition which is what we need to match in order to trigger the alert uh in this",
    "start": "760959",
    "end": "766600"
  },
  {
    "text": "case it's just a connection uh in container so we are enforcing that this is uh coming in into a container and the",
    "start": "766600",
    "end": "774800"
  },
  {
    "text": "the the IP is into the list uh malicious IPS uh FCO support list and also support",
    "start": "774800",
    "end": "780959"
  },
  {
    "text": "macros which uh make it like more more a readable condition and is easier to read",
    "start": "780959",
    "end": "786639"
  },
  {
    "text": "and of course there is output and taxs in order to uh filter the rules if needed and so on so I'll let Alberto",
    "start": "786639",
    "end": "794160"
  },
  {
    "text": "going through the demo and then we'll uh move on thanks thank you Stefan for the",
    "start": "794160",
    "end": "799639"
  },
  {
    "text": "introduction so um before starting with the demo um now we I mean we are just",
    "start": "799639",
    "end": "806399"
  },
  {
    "text": "trying to focusing on this kind of functionality in order to understand how this experimental approach can be used",
    "start": "806399",
    "end": "813680"
  },
  {
    "text": "in order to set the stage for um thef um and in order to give you some",
    "start": "813680",
    "end": "819880"
  },
  {
    "text": "more context uh you will see here on the left hand of this slide of of this video",
    "start": "819880",
    "end": "827399"
  },
  {
    "text": "uh a kubernetes cluster kubernetes prod environment where we have basically installed the response engine uh and we",
    "start": "827399",
    "end": "835160"
  },
  {
    "text": "have enabled the checkpointing feature and instead on the right hand of this",
    "start": "835160",
    "end": "840399"
  },
  {
    "text": "video you will see what the what an attacker sees basically a misconfigured Jupiter pod uh misconfigured juper UI",
    "start": "840399",
    "end": "849880"
  },
  {
    "text": "that allows the attacker to run some um some malware and also the IRC client",
    "start": "849880",
    "end": "857519"
  },
  {
    "text": "that allows the attacker to communicate with the with this victim so let's start",
    "start": "857519",
    "end": "863839"
  },
  {
    "text": "you can see that I or AD mean I I hope you can see it but here uh we we are in",
    "start": "863839",
    "end": "871199"
  },
  {
    "text": "a kubernetes prod cluster uh I'm just listing the Pod and in in the jupy name",
    "start": "871199",
    "end": "877680"
  },
  {
    "text": "space and as you can see here the attacker has access to the same kind of name to the same kind of Poe that we",
    "start": "877680",
    "end": "884720"
  },
  {
    "text": "have just listed and from there he is able to download a pbot script that then",
    "start": "884720",
    "end": "891880"
  },
  {
    "text": "is able to execute and listing the processes running you can see this fake",
    "start": "891880",
    "end": "898320"
  },
  {
    "text": "system the proc process that is the IRC boat that we have just spaed and uh if",
    "start": "898320",
    "end": "904519"
  },
  {
    "text": "you see the IRC client uh here on the low side of the slide you can see that",
    "start": "904519",
    "end": "911279"
  },
  {
    "text": "this identifier nwp 15064 has just joined the channel so",
    "start": "911279",
    "end": "917959"
  },
  {
    "text": "this basically means that the client the victim pod has just connected to the IRC",
    "start": "917959",
    "end": "924440"
  },
  {
    "text": "server now if we try to list the content of the world kubernetes cluster you can",
    "start": "924440",
    "end": "930880"
  },
  {
    "text": "see that um there are two uh kind of news the first one is that the chuper",
    "start": "930880",
    "end": "937800"
  },
  {
    "text": "has just terminate terminated and uh on the other side you",
    "start": "937800",
    "end": "942839"
  },
  {
    "text": "can see instead that I mean from the teer perspective that the um this",
    "start": "942839",
    "end": "949440"
  },
  {
    "text": "identifier has just quitted the IRC Channel and the reason for this is",
    "start": "949440",
    "end": "955040"
  },
  {
    "text": "because of the fact that the malicious execution that was triggered by the attacker has just raised an alert in",
    "start": "955040",
    "end": "962920"
  },
  {
    "text": "Falco Falco notified the the this kind of malicious execution to Falco sidekick",
    "start": "962920",
    "end": "969199"
  },
  {
    "text": "Falco sidekick raised um um this event that was handled by Argo and Argo",
    "start": "969199",
    "end": "976920"
  },
  {
    "text": "created this checkpoint pod you can see that it as basically",
    "start": "976920",
    "end": "982600"
  },
  {
    "text": "completed and the the task of this checkpoint pod is to basically handle",
    "start": "982600",
    "end": "987800"
  },
  {
    "text": "the fal alert that was received and then to checkpoint the victim container so",
    "start": "987800",
    "end": "994560"
  },
  {
    "text": "taking a look at the logs you can see that the uh I mean I just blurred it",
    "start": "994560",
    "end": "1000360"
  },
  {
    "text": "because it was very verbose logging but as you can see here uh there is the fal",
    "start": "1000360",
    "end": "1007120"
  },
  {
    "text": "alert that was raised and um it was basically the same kind of alert of rule",
    "start": "1007120",
    "end": "1013279"
  },
  {
    "text": "that Stefano showed you before that was retriev by the Argo sensor and and the",
    "start": "1013279",
    "end": "1020440"
  },
  {
    "text": "uh this uh event Was Then pared by the checkpoint pod that was able to get the",
    "start": "1020440",
    "end": "1026160"
  },
  {
    "text": "name space get the Pod name and then get the container in order to know which kind of pod which container has to be",
    "start": "1026160",
    "end": "1033880"
  },
  {
    "text": "checkpointed and this execution was basically done here you here you can see that the checkpoint container archive",
    "start": "1033880",
    "end": "1041199"
  },
  {
    "text": "was just created and right after that we adopted a conservative approach we",
    "start": "1041199",
    "end": "1046678"
  },
  {
    "text": "decided to terminate the code that was impacted by the attack so just to close",
    "start": "1046679",
    "end": "1053880"
  },
  {
    "text": "this I'm basically listing the the content of the V Li cubet paff just to",
    "start": "1053880",
    "end": "1059360"
  },
  {
    "text": "make sure that the checkpoint was created so let's now try to recap so",
    "start": "1059360",
    "end": "1064799"
  },
  {
    "text": "that we can understand how we can move on with this we have an attacker that exploited this misconfigured Jupiter",
    "start": "1064799",
    "end": "1071440"
  },
  {
    "text": "interface it has targeted this victim pod Falco was able to raise an event and",
    "start": "1071440",
    "end": "1077480"
  },
  {
    "text": "with Argo it was able ble to create this checkpoint pod the checkpoint pod is",
    "start": "1077480",
    "end": "1082960"
  },
  {
    "text": "authorized to communicate with cuet where that pod was scheduled and was able to checkpoint the container so it",
    "start": "1082960",
    "end": "1090480"
  },
  {
    "text": "has created a checkpoint archive and right after that it has communicated with the API server in order to",
    "start": "1090480",
    "end": "1096320"
  },
  {
    "text": "terminate the Pod so now we have the archive and the question is what can we",
    "start": "1096320",
    "end": "1101720"
  },
  {
    "text": "do with this checkpointed container the uh before moving to this",
    "start": "1101720",
    "end": "1107840"
  },
  {
    "text": "kind of question and before moving to the DF part it is important to stress",
    "start": "1107840",
    "end": "1113799"
  },
  {
    "text": "how we need to preserve this archive that we have just created so store it in",
    "start": "1113799",
    "end": "1119600"
  },
  {
    "text": "order to keep it safe we can also uh interact I mean make this kind of",
    "start": "1119600",
    "end": "1126000"
  },
  {
    "text": "checkpointing feature interact with other kind of automation for example in order to build the the the checkpoint",
    "start": "1126000",
    "end": "1132919"
  },
  {
    "text": "container that we have just created and we will see it later but uh it is also",
    "start": "1132919",
    "end": "1139159"
  },
  {
    "text": "important to assess in parallel to this checkpointed container other kind of",
    "start": "1139159",
    "end": "1144559"
  },
  {
    "text": "entities that may have been impacted like for example the service account mounted to The Container if any or even",
    "start": "1144559",
    "end": "1151360"
  },
  {
    "text": "some kind of cloud role Associated to the Pod or any kind of device mounted",
    "start": "1151360",
    "end": "1156880"
  },
  {
    "text": "however we will now Focus only on the workload that we have just checkpointed so we have the checkpoint and we have",
    "start": "1156880",
    "end": "1164440"
  },
  {
    "text": "basically two main ways the first one is uh uh I mean a bit more time consuming",
    "start": "1164440",
    "end": "1171480"
  },
  {
    "text": "and may require some expertise in order to understand what happened within the checkpointed container the second one is",
    "start": "1171480",
    "end": "1178440"
  },
  {
    "text": "a quit more engaging and um maybe a bit more quick but it is not always reliable",
    "start": "1178440",
    "end": "1186039"
  },
  {
    "text": "because of the current checkpoint limitations that we will explain later so let's start from the static analysis",
    "start": "1186039",
    "end": "1193480"
  },
  {
    "text": "as Stefano said before the checkpointed container contains not only metadata related",
    "start": "1193480",
    "end": "1199679"
  },
  {
    "text": "that allows us to do the restoring operation but also contains all the kind of files that have been downloaded at",
    "start": "1199679",
    "end": "1207200"
  },
  {
    "text": "run time within the container so starting from it it is possible of course to understand which files have",
    "start": "1207200",
    "end": "1213799"
  },
  {
    "text": "been unloaded um in respect to the I mean base image from which the container was",
    "start": "1213799",
    "end": "1220159"
  },
  {
    "text": "created of course some of these may be not as simple as Pearl files Pearl file",
    "start": "1220159",
    "end": "1226520"
  },
  {
    "text": "like in this case but may require some expertise in order to um reverse",
    "start": "1226520",
    "end": "1232120"
  },
  {
    "text": "engineer the the binary that was launched however there are different kind of tools that the Cayou project has",
    "start": "1232120",
    "end": "1240039"
  },
  {
    "text": "delivered in order to uh study the checkpoint archive that was created or better the checkpoint container um so",
    "start": "1240039",
    "end": "1247880"
  },
  {
    "text": "one of these is checkpoint CTL that for example allows us to retrieve the information about the checkpointed",
    "start": "1247880",
    "end": "1254200"
  },
  {
    "text": "container and also for for example it is able to print out the process tree with",
    "start": "1254200",
    "end": "1260919"
  },
  {
    "text": "the w commands with the environment variables if you want to or also with the sockets that were involved during",
    "start": "1260919",
    "end": "1267840"
  },
  {
    "text": "the checkpointing operation it is also possible to retrieve the mounts and among these",
    "start": "1267840",
    "end": "1273720"
  },
  {
    "text": "mounts there is for example the service account that in this case was mounted by default and this can allow us to to do",
    "start": "1273720",
    "end": "1283799"
  },
  {
    "text": "another investigation in order to make sure if for example the service account mounted to that Jupiter container was",
    "start": "1283799",
    "end": "1290520"
  },
  {
    "text": "able to interact with the kubernetes API server and to potentially um cause some disruption in",
    "start": "1290520",
    "end": "1297840"
  },
  {
    "text": "the kubernetes cluster or something like it it is also possible to analyze the",
    "start": "1297840",
    "end": "1304400"
  },
  {
    "text": "container memory of the process that was executed of the malicious process that",
    "start": "1304400",
    "end": "1309880"
  },
  {
    "text": "was executed with M pars uh subcommand that allows for example to dig deeper",
    "start": "1309880",
    "end": "1315600"
  },
  {
    "text": "into the process ID that was uh that that is malicious or it is also possible to use",
    "start": "1315600",
    "end": "1323760"
  },
  {
    "text": "some other specific files for the checkpointing feature specific um",
    "start": "1323760",
    "end": "1329360"
  },
  {
    "text": "utilities for the checkpointing features that allows to parse the content of cryo",
    "start": "1329360",
    "end": "1334880"
  },
  {
    "text": "image files that was responsible for the checkpoint and among these files for",
    "start": "1334880",
    "end": "1342600"
  },
  {
    "text": "example there is also the um the checkpoint was able also to store the",
    "start": "1342600",
    "end": "1348799"
  },
  {
    "text": "row memory pages so this basically means that you're not only able to retrieve or",
    "start": "1348799",
    "end": "1354760"
  },
  {
    "text": "to get the environment variables that were used by the container but you are also potentially able to retrieve what's",
    "start": "1354760",
    "end": "1362919"
  },
  {
    "text": "what was in memory and in this case I was able to for example get all the",
    "start": "1362919",
    "end": "1368159"
  },
  {
    "text": "interaction that my IRC boat so the victim was able to uh I mean all the",
    "start": "1368159",
    "end": "1375559"
  },
  {
    "text": "interaction that the boat had with the server and this also potentially could allow us to get all the interaction with",
    "start": "1375559",
    "end": "1382559"
  },
  {
    "text": "any attacker that has sent messages to this uh to this victim",
    "start": "1382559",
    "end": "1388039"
  },
  {
    "text": "container there is also the possibility to use cor dump there is another utility",
    "start": "1388039",
    "end": "1393279"
  },
  {
    "text": "provided by the cre tool but it even if it is a bit more complex to to build and",
    "start": "1393279",
    "end": "1400320"
  },
  {
    "text": "to use and this then give you from the checkpoint a cordum file that you should",
    "start": "1400320",
    "end": "1406640"
  },
  {
    "text": "able them to par with GDP but it's now time for maybe the most",
    "start": "1406640",
    "end": "1411880"
  },
  {
    "text": "engaging part that is the dynamic analysis so once you have checkpointed",
    "start": "1411880",
    "end": "1417039"
  },
  {
    "text": "the container you might be able also to restore it it is not so trivial also",
    "start": "1417039",
    "end": "1424480"
  },
  {
    "text": "because um it is hard at the moment to restore a p or or at least restore a",
    "start": "1424480",
    "end": "1432720"
  },
  {
    "text": "container that was checkpointed by a different kind of container engine or container run time there are some",
    "start": "1432720",
    "end": "1439760"
  },
  {
    "text": "metadata issues um as far as we know but it is a thing if you for example as we",
    "start": "1439760",
    "end": "1447200"
  },
  {
    "text": "did in our case using two clusters with the same kind of container engine container run time the same kind of",
    "start": "1447200",
    "end": "1453880"
  },
  {
    "text": "features and version enabled we will a we were able to checkpoint and restore in another cluster as we are going to",
    "start": "1453880",
    "end": "1460799"
  },
  {
    "text": "show in a while but reproducing and restoring this PO in another cont in",
    "start": "1460799",
    "end": "1466440"
  },
  {
    "text": "another environment like in a boxed machine or cluster requires of course",
    "start": "1466440",
    "end": "1471760"
  },
  {
    "text": "some kind of strategies in order to reduce the um the re any security risk",
    "start": "1471760",
    "end": "1478440"
  },
  {
    "text": "like for example any kind of privilege escalation or um sensitive information",
    "start": "1478440",
    "end": "1483559"
  },
  {
    "text": "being stolen from the restore pod once you are able to restore it into a",
    "start": "1483559",
    "end": "1489120"
  },
  {
    "text": "staging cluster like um we are going to do and also in order to do this kind of",
    "start": "1489120",
    "end": "1495799"
  },
  {
    "text": "dynamic analysis it is required to adopt some tools that give you lowlevel visibility on network connections on for",
    "start": "1495799",
    "end": "1503960"
  },
  {
    "text": "example CIS skols get being executed or pick off loads um within the U the",
    "start": "1503960",
    "end": "1510600"
  },
  {
    "text": "sandboxed machine so in order to to do the restore first before jumping into",
    "start": "1510600",
    "end": "1517200"
  },
  {
    "text": "the demo it is required to launch some buildup commands so",
    "start": "1517200",
    "end": "1522440"
  },
  {
    "text": "buildup allows you to basically build a new container image starting from the checkpoint archive",
    "start": "1522440",
    "end": "1528960"
  },
  {
    "text": "and from there you are able to build this image push it to your own Docker registry for example and then apply this",
    "start": "1528960",
    "end": "1537080"
  },
  {
    "text": "new image um in order to run a new pod it's time for the demon um so here",
    "start": "1537080",
    "end": "1545799"
  },
  {
    "text": "I'm just resuming the same kind of execution we had before I'm now listing",
    "start": "1545799",
    "end": "1551640"
  },
  {
    "text": "the barle cuet checkpoints in order to make sure that we have the checkpoint",
    "start": "1551640",
    "end": "1557320"
  },
  {
    "text": "that we have previously created we are always in the same cluster we uh in",
    "start": "1557320",
    "end": "1562360"
  },
  {
    "text": "which we were before so the kubernetes prod and as you can see here now I'm",
    "start": "1562360",
    "end": "1568039"
  },
  {
    "text": "just copying the checkpoint archive into this into another folder where I have",
    "start": "1568039",
    "end": "1573799"
  },
  {
    "text": "the restore script that is able to automate those builda commands that I showed you before and running this",
    "start": "1573799",
    "end": "1581720"
  },
  {
    "text": "script setting the the the uh specifying the checkpoint file path and also the",
    "start": "1581720",
    "end": "1588960"
  },
  {
    "text": "checkpoint name that I want to give to my new image I'm able to build it I'm",
    "start": "1588960",
    "end": "1595679"
  },
  {
    "text": "able to push it to my own Docker registry and as you can see I just created this image in Docker AB uh with",
    "start": "1595679",
    "end": "1604000"
  },
  {
    "text": "checkpoint juper container name and now I'm jumping into another cluster that as",
    "start": "1604000",
    "end": "1611080"
  },
  {
    "text": "you can see is um a kubernetes staging cluster uh that",
    "start": "1611080",
    "end": "1617840"
  },
  {
    "text": "has different kind of resources but the same kind of settings in order to allow a smoother restoring uh",
    "start": "1617840",
    "end": "1625120"
  },
  {
    "text": "operation and here I have this restore pod yaml where I'm going to reference",
    "start": "1625120",
    "end": "1630919"
  },
  {
    "text": "the checkpoint image that I've just built and pushed and from there uh once",
    "start": "1630919",
    "end": "1638279"
  },
  {
    "text": "I apply this kind of restored pod I am now able as you can see to see on the",
    "start": "1638279",
    "end": "1644799"
  },
  {
    "text": "left the Pod being in uh I mean going into a running",
    "start": "1644799",
    "end": "1650399"
  },
  {
    "text": "state and instead uh on the right side you can see that the previous identifier",
    "start": "1650399",
    "end": "1658520"
  },
  {
    "text": "for the boat that we run on the kubernetes I mean that was executed by",
    "start": "1658520",
    "end": "1664039"
  },
  {
    "text": "the attacker on the previous cluster has just joined the channel again and what's",
    "start": "1664039",
    "end": "1669120"
  },
  {
    "text": "cool about it is not only that the worldall process 3 was resumed but also",
    "start": "1669120",
    "end": "1674320"
  },
  {
    "text": "that of course the connection in this case was restored so the um the the",
    "start": "1674320",
    "end": "1679960"
  },
  {
    "text": "container that I just resumed was able to connect again the uh the IRC server",
    "start": "1679960",
    "end": "1687039"
  },
  {
    "text": "that he was communicating with before and that also the identifier of this bot",
    "start": "1687039",
    "end": "1693080"
  },
  {
    "text": "that it is usually random is uh the same one as before and at the end you can",
    "start": "1693080",
    "end": "1699519"
  },
  {
    "text": "also for example open the shell uh in order to see that the process three is",
    "start": "1699519",
    "end": "1704640"
  },
  {
    "text": "exactly the same one as before now we are we have seen uh how the restoring",
    "start": "1704640",
    "end": "1710960"
  },
  {
    "text": "Works uh oh okay so um here there are some issue",
    "start": "1710960",
    "end": "1720200"
  },
  {
    "text": "however um now in order to understand how the",
    "start": "1720200",
    "end": "1725320"
  },
  {
    "text": "um sorry for this however in order to understand how to perform Dynamic",
    "start": "1725320",
    "end": "1730519"
  },
  {
    "text": "analysis on the restored pod it is important as I said before to adopt lowlevel um tools that give you low",
    "start": "1730519",
    "end": "1738320"
  },
  {
    "text": "level visibility on execution on connection for example wi shark CD open",
    "start": "1738320",
    "end": "1743919"
  },
  {
    "text": "source or EST Strays if you want to have visibility on C SKS or you can also directly interact with the restore pod",
    "start": "1743919",
    "end": "1750679"
  },
  {
    "text": "if you want or adopt other kind of observability and security tools from the security from the open source",
    "start": "1750679",
    "end": "1757880"
  },
  {
    "text": "landscape and of course in order to understand what uh is happening within",
    "start": "1757880",
    "end": "1763159"
  },
  {
    "text": "the restored pod you may want to collect all the evidences to make sure you have a picture of the impact that the attack",
    "start": "1763159",
    "end": "1771480"
  },
  {
    "text": "could have so in our case we have basically adopted W shark no I'm just",
    "start": "1771480",
    "end": "1777200"
  },
  {
    "text": "joking this is a a coin of w shark that is lray released few months ago actually",
    "start": "1777200",
    "end": "1784919"
  },
  {
    "text": "and it is uh able to um view not Network",
    "start": "1784919",
    "end": "1791200"
  },
  {
    "text": "packets but cisal and cisal uh the cisal in our case were captured with CIS open",
    "start": "1791200",
    "end": "1797320"
  },
  {
    "text": "source as you can see here this tool that can be downloaded from The Wire",
    "start": "1797320",
    "end": "1802440"
  },
  {
    "text": "shark website allows you to filtering as you did in um uh with with wire Shack",
    "start": "1802440",
    "end": "1810440"
  },
  {
    "text": "actually but of course it is compliant to the um Fields related to the culls in",
    "start": "1810440",
    "end": "1816559"
  },
  {
    "text": "this case here you are able to see for example the commands that were requested by the attacker uh all of these are exec",
    "start": "1816559",
    "end": "1823720"
  },
  {
    "text": "V SKS that were executed in our restored pod you can also see and get the network",
    "start": "1823720",
    "end": "1830720"
  },
  {
    "text": "connections for example and um here you can see how the um the boat sends the",
    "start": "1830720",
    "end": "1838480"
  },
  {
    "text": "results back to the to the to the attacker that has requested the ID the ls under the root folder or also the",
    "start": "1838480",
    "end": "1846919"
  },
  {
    "text": "port scan results and here for example the world port scan that was done",
    "start": "1846919",
    "end": "1853159"
  },
  {
    "text": "against this specific kind of Ip um were shown here so this is a brief recap",
    "start": "1853159",
    "end": "1861320"
  },
  {
    "text": "regarding the dynamic analysis that can be performed but of course you may want to use your own tools and before",
    "start": "1861320",
    "end": "1868240"
  },
  {
    "text": "wrapping it up I will pass over to Stefan again so thank you uh this is just a",
    "start": "1868240",
    "end": "1875639"
  },
  {
    "text": "recap about all the tools that we uh saw today uh mainly for pictures uh but uh",
    "start": "1875639",
    "end": "1883080"
  },
  {
    "text": "hopefully this can be a good recup for you guys if you want to uh deep deeper into those those tools that you want to",
    "start": "1883080",
    "end": "1888880"
  },
  {
    "text": "start using them uh and start dealing with container checkpoint but just also for starting analysis and uh Dynamic",
    "start": "1888880",
    "end": "1897720"
  },
  {
    "text": "analysis um uh that's just time for takeaways um as we saw today um instant",
    "start": "1897720",
    "end": "1907720"
  },
  {
    "text": "just uh just to remember instant response plan needs to be set so if you don't have one please uh hurry up and",
    "start": "1907720",
    "end": "1915159"
  },
  {
    "text": "create one uh it also depends on which if you have containers or you just",
    "start": "1915159",
    "end": "1921120"
  },
  {
    "text": "just ask about H but I think if you are all if we are all year I think we all",
    "start": "1921120",
    "end": "1927080"
  },
  {
    "text": "need to deal with containers so I guess we are all pretty impacted by by this so it's very important to understand uh",
    "start": "1927080",
    "end": "1934639"
  },
  {
    "text": "where you are understand the tools that you need to use and master them because they uh might be useful uh at some point",
    "start": "1934639",
    "end": "1941880"
  },
  {
    "text": "might maybe not but who knows um and of course as we said before automatic is",
    "start": "1941880",
    "end": "1949720"
  },
  {
    "text": "always better than manual and we saw today an example of how automatic things",
    "start": "1949720",
    "end": "1955000"
  },
  {
    "text": "can be useful in order to get things in the right moment and not when it's too late or if something we need to do",
    "start": "1955000",
    "end": "1961440"
  },
  {
    "text": "manual it might be too late especially for container that are very uh very quick and we might need to have",
    "start": "1961440",
    "end": "1968519"
  },
  {
    "text": "something uh in with with with better timing um other thing that we discussed",
    "start": "1968519",
    "end": "1974720"
  },
  {
    "text": "today we saw different tools some of them are very old SCH school like GDB uh",
    "start": "1974720",
    "end": "1979919"
  },
  {
    "text": "is not like a container uh specific container tool but they are still valid so uh not all the tools that we uh that",
    "start": "1979919",
    "end": "1987960"
  },
  {
    "text": "we talk last time but also this time are just specific for container some of them are still old old school tool that we",
    "start": "1987960",
    "end": "1994600"
  },
  {
    "text": "used to do and used to use in uh in oost or on Prem um forensic or uh or an or",
    "start": "1994600",
    "end": "2004320"
  },
  {
    "text": "similar uh similar uh engaging uh engagement so um some of them are",
    "start": "2004320",
    "end": "2011639"
  },
  {
    "text": "still valid there are some new that you need to know and you need to be ready to use uh for the rest uh is um simulate",
    "start": "2011639",
    "end": "2020760"
  },
  {
    "text": "the your incident response plan and make sure that is actually working and that the right people are involved so most of",
    "start": "2020760",
    "end": "2029159"
  },
  {
    "text": "what we discussed also last time was mainly regarding uh who needs to be involved in in the uh in the instant",
    "start": "2029159",
    "end": "2035679"
  },
  {
    "text": "response plan because this is not just about tools right is about process is about people be involved into it so that",
    "start": "2035679",
    "end": "2042600"
  },
  {
    "text": "they can um rush things up if if needed when something happen in your",
    "start": "2042600",
    "end": "2048118"
  },
  {
    "text": "environment and so we just want to close for references uh this is where we get",
    "start": "2048119",
    "end": "2054520"
  },
  {
    "text": "some uh some part of of what we uh worked on and just also a chance to",
    "start": "2054520",
    "end": "2061320"
  },
  {
    "text": "credit people of all the work we just added a bit on like overall picture and feature that",
    "start": "2061320",
    "end": "2068638"
  },
  {
    "text": "are are are uh in uh in the market so uh thanks to those people that worked on",
    "start": "2068639",
    "end": "2074638"
  },
  {
    "text": "that and hopefully we can see more things coming up for checkpoint once the",
    "start": "2074639",
    "end": "2079800"
  },
  {
    "text": "the feature will be uh broadly available so thank you all we are here for",
    "start": "2079800",
    "end": "2085240"
  },
  {
    "text": "question if you have some otherwise again we can wrap up thanks",
    "start": "2085240",
    "end": "2091340"
  },
  {
    "text": "[Applause]",
    "start": "2091340",
    "end": "2097019"
  },
  {
    "text": "at the checkpoint static analysis can I choose my target areas for the static",
    "start": "2099880",
    "end": "2106599"
  },
  {
    "text": "analysis what you mean means just skip all M problem or",
    "start": "2106599",
    "end": "2114040"
  },
  {
    "text": "skip problem this",
    "start": "2114040",
    "end": "2119720"
  },
  {
    "text": "c um not sure I mean uh of course it depends on what you have checkpointed",
    "start": "2120640",
    "end": "2127400"
  },
  {
    "text": "and I think on the memory that was uh that was checkpointing during the",
    "start": "2127400",
    "end": "2133079"
  },
  {
    "text": "execution um it is I think uh reliable in order to to",
    "start": "2133079",
    "end": "2140920"
  },
  {
    "text": "have much of the memory pages but sometimes of course if you want to go",
    "start": "2140920",
    "end": "2147000"
  },
  {
    "text": "much more in deeper for theic analysis you may also want to for example collect",
    "start": "2147000",
    "end": "2152079"
  },
  {
    "text": "the world image and I mean the the world state of the memory with other tools for",
    "start": "2152079",
    "end": "2158960"
  },
  {
    "text": "example and then for analyze them with something like volatility in order to go",
    "start": "2158960",
    "end": "2164440"
  },
  {
    "text": "much more in deeper so I think one of the SL said that checkpoint container sta analysis what does it do for",
    "start": "2164440",
    "end": "2171760"
  },
  {
    "text": "container what should be",
    "start": "2171760",
    "end": "2175599"
  },
  {
    "text": "wait this one static one no next one next one so",
    "start": "2178440",
    "end": "2186240"
  },
  {
    "text": "we are going into the dynamic",
    "start": "2186240",
    "end": "2189560"
  },
  {
    "text": "go ahead next one maybe okay this is restore video then one one okay the lat",
    "start": "2193480",
    "end": "2201000"
  },
  {
    "text": "later five minutes last minutes uh okay maybe this one no more than",
    "start": "2201000",
    "end": "2208880"
  },
  {
    "text": "this we have just finished the enamic one if you want I can get back to the",
    "start": "2208880",
    "end": "2215440"
  },
  {
    "text": "static what I me I mean we can we can address this offline uh so no no big",
    "start": "2216119",
    "end": "2221599"
  },
  {
    "text": "deal so thank you all have a good",
    "start": "2221599",
    "end": "2225960"
  },
  {
    "text": "conference and lunch",
    "start": "2227040",
    "end": "2231280"
  }
]