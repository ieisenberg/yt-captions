[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "all right that's been go ahead and get started here's people filling in hey",
    "start": "0",
    "end": "5609"
  },
  {
    "text": "there yan alright so this is the the",
    "start": "5609",
    "end": "12360"
  },
  {
    "text": "Brooke project intro my name is Jared watts I'm one of the maintainer zhan the Brooke project and Brooke was recently",
    "start": "12360",
    "end": "20010"
  },
  {
    "text": "accepted a couple of months ago as a hosted project by the cloud native computing foundation the CNC F so that's",
    "start": "20010",
    "end": "27599"
  },
  {
    "text": "why we're talking about it today so just a quick show of hands who is actually",
    "start": "27599",
    "end": "32969"
  },
  {
    "start": "30000",
    "end": "120000"
  },
  {
    "text": "used rook but so far good cool fare money you guys so let's talk about what",
    "start": "32969",
    "end": "39239"
  },
  {
    "text": "rook is so rook is a cloud native storage Orchestrator and so what that",
    "start": "39239",
    "end": "44910"
  },
  {
    "text": "means is that in cloud native environments Brooke you can use rook to",
    "start": "44910",
    "end": "49969"
  },
  {
    "text": "deploy manage setup configure all different types of storage solutions so",
    "start": "49969",
    "end": "57390"
  },
  {
    "text": "you know inside kubernetes you can use it to deploy let's say SEF or or mini or",
    "start": "57390",
    "end": "62910"
  },
  {
    "text": "some other storage solutions in the cloud native environments so how it does that is by extending kubernetes with",
    "start": "62910",
    "end": "70740"
  },
  {
    "text": "custom types and controllers that we call operators and we'll get into that more and some of the interesting things",
    "start": "70740",
    "end": "77729"
  },
  {
    "text": "that it does the you know kind of the value that it's bringing here so your storage needs are a bunch of automation",
    "start": "77729",
    "end": "83570"
  },
  {
    "text": "for you know deploying and bootstrapping configuring scaling it up scaling it down upgrading your cluster disaster",
    "start": "83570",
    "end": "91350"
  },
  {
    "text": "recovery all that sort of stuff you know complicated management tasks that you need to complete in your cluster it'll",
    "start": "91350",
    "end": "97530"
  },
  {
    "text": "perform those for you and as we kind of alluded to earlier it's now a framework",
    "start": "97530",
    "end": "102960"
  },
  {
    "text": "as well for other storage providers and solutions to integrate in with kubernetes as well so Brook is an open",
    "start": "102960",
    "end": "111090"
  },
  {
    "text": "source project with the Apache 2.0 license and as I mentioned it's hosted by the cloud native computing foundation",
    "start": "111090",
    "end": "117509"
  },
  {
    "text": "now as of the end of January I believe so let's talk about storage in",
    "start": "117509",
    "end": "123420"
  },
  {
    "start": "120000",
    "end": "158000"
  },
  {
    "text": "kubernetes and what a normal solution or deployment looks like there so",
    "start": "123420",
    "end": "130110"
  },
  {
    "text": "oftentimes with kubernetes you have your applique Asians that are running inside the",
    "start": "130110",
    "end": "135150"
  },
  {
    "text": "cluster but you have for those applications storage what time what",
    "start": "135150",
    "end": "140400"
  },
  {
    "text": "happens often is that you will have an external storage set up that could be running you know something like an",
    "start": "140400",
    "end": "146310"
  },
  {
    "text": "Amazon with the EBS or Google persistent disk or it could be an appliance you know in Iraq somewhere in your data",
    "start": "146310",
    "end": "151950"
  },
  {
    "text": "center either way though that storage is coming from somewhere external to the",
    "start": "151950",
    "end": "157469"
  },
  {
    "text": "cluster so there's a couple of limitations with that approach one thing",
    "start": "157469",
    "end": "162989"
  },
  {
    "start": "158000",
    "end": "220000"
  },
  {
    "text": "your the big kind of overarching aspect is that it's not portable so when you",
    "start": "162989",
    "end": "168269"
  },
  {
    "text": "you have your application then it's got storage needs if you're relying on storage that's kind of external in the",
    "start": "168269",
    "end": "174659"
  },
  {
    "text": "cluster somewhere you need those to be accessible when you're when you're deploying your clusters so that creates a burden for deployment",
    "start": "174659",
    "end": "181530"
  },
  {
    "text": "if you want to pick up your application take it somewhere else and put it into another environment say it to move from",
    "start": "181530",
    "end": "187799"
  },
  {
    "text": "Amazon to Google you're gonna have to also worry about how your the external",
    "start": "187799",
    "end": "192900"
  },
  {
    "text": "source storage gets moved over there as well another thing is if you're relying on storage from let's say a cloud",
    "start": "192900",
    "end": "199859"
  },
  {
    "text": "provider you're gonna often end up worrying about lock-in with being in you",
    "start": "199859",
    "end": "207299"
  },
  {
    "text": "know a cloud providers service and relying on something like Amazon's relational database service RDS you know",
    "start": "207299",
    "end": "213599"
  },
  {
    "text": "you take a dependency on that from your application and it makes it more difficult to move your applications somewhere else so one approach to this",
    "start": "213599",
    "end": "222299"
  },
  {
    "start": "220000",
    "end": "297000"
  },
  {
    "text": "solving this is making storage run on top of kubernetes also so we already",
    "start": "222299",
    "end": "229169"
  },
  {
    "text": "have a kubernetes cluster up and running you've got your applications running in kubernetes so we could also use",
    "start": "229169",
    "end": "235530"
  },
  {
    "text": "kubernetes to manage your storage as well in addition to your application so this then allows us to have highly",
    "start": "235530",
    "end": "241739"
  },
  {
    "text": "portable applications because we are not only describing the application itself",
    "start": "241739",
    "end": "247079"
  },
  {
    "text": "when we're deploying it we're also describing its storage dependencies as well so you have a",
    "start": "247079",
    "end": "252750"
  },
  {
    "text": "situation where you know your application itself can be described you",
    "start": "252750",
    "end": "258060"
  },
  {
    "text": "know by way in a set of kubernetes resources you know pods services things like that but you can also now start",
    "start": "258060",
    "end": "264510"
  },
  {
    "text": "describing your storage as well and hand-in-hand those can get deployed out to any environment the kubernetes runs in you",
    "start": "264510",
    "end": "272310"
  },
  {
    "text": "know I'd be very portable that way so you can use me you can deploy it to Microsoft Azure or to Amazon or it's a",
    "start": "272310",
    "end": "279420"
  },
  {
    "text": "you know digital ocean wherever it may be very very easily and this is also not the only architecture that you can you",
    "start": "279420",
    "end": "287700"
  },
  {
    "text": "know enable this with you can also have a dedicated kubernetes storage cluster by itself that's running your storage",
    "start": "287700",
    "end": "293850"
  },
  {
    "text": "just kind of separate your compute from your storage so let's talk about",
    "start": "293850",
    "end": "299180"
  },
  {
    "start": "297000",
    "end": "405000"
  },
  {
    "text": "abstractions real quick so that's one of the ways that kubernetes accomplishes",
    "start": "299180",
    "end": "304190"
  },
  {
    "text": "being able to run everywhere is by having a strong set of EPs abstractions",
    "start": "304190",
    "end": "309450"
  },
  {
    "text": "that are applicable to all environments that they run in so for instance you",
    "start": "309450",
    "end": "315060"
  },
  {
    "text": "know a pod a pod is a pod no matter where it's running right it can be running on premise it could be running and Amazon",
    "start": "315060",
    "end": "320070"
  },
  {
    "text": "doesn't matter a pod captures the concept of an application running in an environment so similarly we need some",
    "start": "320070",
    "end": "328620"
  },
  {
    "text": "portable abstractions that also describe data needs you know your debt your application needs a database or it needs",
    "start": "328620",
    "end": "334680"
  },
  {
    "text": "a message queue whatever it may be your application has needs of data if it's going to be stable if it's gonna be",
    "start": "334680",
    "end": "340830"
  },
  {
    "text": "useful right so we want to make some abstraction --zz for those as well for data that's gonna work across",
    "start": "340830",
    "end": "347280"
  },
  {
    "text": "environments across providers you know hive hybrid scenarios on-premise cloud providers all that sort of stuff and",
    "start": "347280",
    "end": "354090"
  },
  {
    "text": "then we're getting into this example here of when your your app needs a database you know if it's the if we have",
    "start": "354090",
    "end": "360690"
  },
  {
    "text": "an abstract concept for a database then when you go deploy your app inside",
    "start": "360690",
    "end": "366570"
  },
  {
    "text": "Amazon it can use RDS and if you deploy your app within Google then it will use cloud sequel instead so basically this",
    "start": "366570",
    "end": "373500"
  },
  {
    "text": "is making your app portable and the advantage of that is that you get to choose the best environment for your",
    "start": "373500",
    "end": "379110"
  },
  {
    "text": "code to run in you could choose the best cost or the features that you need or resiliency or even compliance if one",
    "start": "379110",
    "end": "386490"
  },
  {
    "text": "particular cloud provider has it made you know data hosting the policy that",
    "start": "386490",
    "end": "393600"
  },
  {
    "text": "works for your country are the compliance for your country then you know you'd have to pick them and and",
    "start": "393600",
    "end": "398700"
  },
  {
    "text": "you've defined your application in a way such that it is portable now and you can easily choose where you want",
    "start": "398700",
    "end": "404550"
  },
  {
    "text": "to deploy it so let's talk about how rook does this it works on a couple",
    "start": "404550",
    "end": "410610"
  },
  {
    "start": "405000",
    "end": "500000"
  },
  {
    "text": "different ways to extend kubernetes and leverage the power of kubernetes one is",
    "start": "410610",
    "end": "417150"
  },
  {
    "text": "the operator pattern we know of a number of operators out there now Prometheus has one @cd has one and Brooke also has",
    "start": "417150",
    "end": "425040"
  },
  {
    "text": "an operator or set of operators actually so real quick we'll just talk about what",
    "start": "425040",
    "end": "430110"
  },
  {
    "text": "that is so operators basically codify their expertise or subject matter expertise",
    "start": "430110",
    "end": "436080"
  },
  {
    "text": "for how to run a complicated piece of software so you know running software",
    "start": "436080",
    "end": "442470"
  },
  {
    "text": "especially distributed systems they have a lot of complexity they've got a lot of",
    "start": "442470",
    "end": "448460"
  },
  {
    "text": "you know components to them and there's a lot of tasks that you need to do in",
    "start": "448460",
    "end": "454290"
  },
  {
    "text": "order to keep that running healthy and running you know up so an operator is",
    "start": "454290",
    "end": "460280"
  },
  {
    "text": "kubernetes piece of software that automates that for you and the way it does that is by running a control loop",
    "start": "460280",
    "end": "466170"
  },
  {
    "text": "just like any of the other kubernetes controllers here the node controller pod controller admission controller all",
    "start": "466170",
    "end": "471450"
  },
  {
    "text": "those things they basically run in a loop that does three things it first observes the state of the cluster right",
    "start": "471450",
    "end": "479160"
  },
  {
    "text": "now as it is and then it analyzes to determine what differences there are in",
    "start": "479160",
    "end": "484230"
  },
  {
    "text": "the cluster now and where we want to be based on the users desired state and then it acts on it performs operations",
    "start": "484230",
    "end": "491850"
  },
  {
    "text": "with the kubernetes api to manipulate the cluster and to make sure that it",
    "start": "491850",
    "end": "497040"
  },
  {
    "text": "ends up being what the user wants and then the other thing that ruk uses and",
    "start": "497040",
    "end": "504150"
  },
  {
    "start": "500000",
    "end": "558000"
  },
  {
    "text": "many other projects use as well to extend kubernetes is something called custom resource definitions or CR DS so",
    "start": "504150",
    "end": "511830"
  },
  {
    "text": "these are the way that you teach kubernetes about new objects so in the kubernetes api you've got the built-in",
    "start": "511830",
    "end": "518820"
  },
  {
    "text": "objects you know pods and services and config maps and things like that but with the CRD you can declare arbitrary",
    "start": "518820",
    "end": "525810"
  },
  {
    "text": "types types any type that you want and then once you've defined that type it",
    "start": "525810",
    "end": "531990"
  },
  {
    "text": "looks just like any other object in in the kubernetes api and you can even use cube cuddle to manage it as well so",
    "start": "531990",
    "end": "540209"
  },
  {
    "text": "in a CR D that's a you know you can have all these different properties defined for how a user might want their system",
    "start": "540209",
    "end": "547379"
  },
  {
    "text": "to act so the user can create one of your custom resource definitions and set the different properties that they want",
    "start": "547379",
    "end": "554249"
  },
  {
    "text": "in order to get their system configured the way they want it to all right so as",
    "start": "554249",
    "end": "559889"
  },
  {
    "start": "558000",
    "end": "712000"
  },
  {
    "text": "we talked about Brooke has a number of operators that are implemented to to",
    "start": "559889",
    "end": "565829"
  },
  {
    "text": "enable distributed storage systems and other types of storage to now run inside",
    "start": "565829",
    "end": "570899"
  },
  {
    "text": "of kubernetes they capture the desired state like we were talking about for a",
    "start": "570899",
    "end": "578100"
  },
  {
    "text": "storage cluster so for for example SEF is a distributed storage system and it's",
    "start": "578100",
    "end": "585420"
  },
  {
    "text": "got a lot of moving parts it's got a lot of complexity but then the Brooke",
    "start": "585420",
    "end": "590939"
  },
  {
    "text": "operator and the rook custom types have captured some of that in some more abstract concepts like a cluster or a",
    "start": "590939",
    "end": "597540"
  },
  {
    "text": "pool or object store and so the user can create those and the rook operator will",
    "start": "597540",
    "end": "602819"
  },
  {
    "text": "be watching for those you know see what the user wants the desired state oh they",
    "start": "602819",
    "end": "608249"
  },
  {
    "text": "want a new object store or they want a cluster with this some amount of storage and then the rook operator on behalf of",
    "start": "608249",
    "end": "614910"
  },
  {
    "text": "the user and their desired state will make that a reality within kubernetes so",
    "start": "614910",
    "end": "622470"
  },
  {
    "text": "as we talked about also some of the really you know more interesting things that an operator can do is some of those",
    "start": "622470",
    "end": "628199"
  },
  {
    "text": "complicated things that a human normally has to do such as handling upgrades or rebalancing the cluster those are",
    "start": "628199",
    "end": "634470"
  },
  {
    "text": "complicated tasks there's you know a lot of steps along the way there's a lot of checks you need to make to make sure",
    "start": "634470",
    "end": "639839"
  },
  {
    "text": "that everything's still healthy possibly even rollback the clustered if something's gone wrong and that's you",
    "start": "639839",
    "end": "647009"
  },
  {
    "text": "know that that could be complicated but having a piece of software to do that for you an operator that has that codified logic to do it for you makes",
    "start": "647009",
    "end": "654569"
  },
  {
    "text": "your life a lot easier when you want to you know create a cluster manage the cluster upgrade a cluster all that sort",
    "start": "654569",
    "end": "660629"
  },
  {
    "text": "of stuff so no one really interesting or one key point here is that the operators",
    "start": "660629",
    "end": "665819"
  },
  {
    "text": "that rook provides to manage different storage types they're not on the data path the the storage systems",
    "start": "665819",
    "end": "673920"
  },
  {
    "text": "they're the ones to handle the reads and writes to discs but rook is more of a",
    "start": "673920",
    "end": "678960"
  },
  {
    "text": "management aspect of that to make sure that they deploy successfully that they're kept alive healthily performing",
    "start": "678960",
    "end": "685320"
  },
  {
    "text": "management tasks so rook these operators are not on the data path and that ends up being pretty good because if you look",
    "start": "685320",
    "end": "691320"
  },
  {
    "text": "at a piece of software like SEF which has been you know in development for years and years to reach the level of",
    "start": "691320",
    "end": "698280"
  },
  {
    "text": "maturity and reliability that it's obtained now you know it's we don't want",
    "start": "698280",
    "end": "703980"
  },
  {
    "text": "to be in the business of writing a new data path basically we're gonna take advantage of some of those existing",
    "start": "703980",
    "end": "709410"
  },
  {
    "text": "storage systems that have been out there for a while so this is a slide just",
    "start": "709410",
    "end": "714720"
  },
  {
    "start": "712000",
    "end": "828000"
  },
  {
    "text": "about the architecture of rook kind of putting a little bit of a visualization to everything that we've been talking",
    "start": "714720",
    "end": "720720"
  },
  {
    "text": "about so far so on the Left we'll start at the left and so using cube cuttle you",
    "start": "720720",
    "end": "727590"
  },
  {
    "text": "can manipulate objects such as clusters storage pools object stores things we",
    "start": "727590",
    "end": "733950"
  },
  {
    "text": "talked about before and so when as a user when you're using cube cuttle you're creating instance instances of",
    "start": "733950",
    "end": "741450"
  },
  {
    "text": "those objects that go to the kubernetes api and in the kubernetes api they'll",
    "start": "741450",
    "end": "746520"
  },
  {
    "text": "get stored there and there will be events for them such as the user created",
    "start": "746520",
    "end": "751830"
  },
  {
    "text": "a new cluster and now we see in the top right that that's this is where the operators are watching they're getting",
    "start": "751830",
    "end": "758760"
  },
  {
    "text": "an event from the kubernetes api that says that that new cluster was created",
    "start": "758760",
    "end": "763920"
  },
  {
    "text": "and then it goes out and does the right things excuse me in the cluster to make",
    "start": "763920",
    "end": "769890"
  },
  {
    "text": "sure that the request from the user for new storage or a new storage cluster has",
    "start": "769890",
    "end": "775290"
  },
  {
    "text": "been created and it's persisted and it's healthy and all those sorts of things if",
    "start": "775290",
    "end": "782490"
  },
  {
    "text": "we look at the bottom of bottom right of the of the image here we see that",
    "start": "782490",
    "end": "788760"
  },
  {
    "text": "there's also a volume plugin for that talks to the cubelet when there's a",
    "start": "788760",
    "end": "796080"
  },
  {
    "text": "dynamic request for first storage so for instance if if a new pod comes up it needs a block",
    "start": "796080",
    "end": "803530"
  },
  {
    "text": "device that goes through a dynamic provisioning flow that is you know a",
    "start": "803530",
    "end": "809770"
  },
  {
    "text": "common thing in kubernetes but eventually the requests gets routed over to the the cubelet that's running on the",
    "start": "809770",
    "end": "816370"
  },
  {
    "text": "node where the pod will be running that needs that storage and the Brooke plug-in there will make sure that the",
    "start": "816370",
    "end": "822160"
  },
  {
    "text": "storage gets mounted and prepared for the pod to start consuming it and just a",
    "start": "822160",
    "end": "830590"
  },
  {
    "start": "828000",
    "end": "897000"
  },
  {
    "text": "quick example to kind of tie a few things together here so when we were talking about SEF running on kubernetes",
    "start": "830590",
    "end": "838740"
  },
  {
    "text": "you know what the user does is creates an instance of one of those cluster CR",
    "start": "838740",
    "end": "844030"
  },
  {
    "text": "DS right the cluster type so we could see here on the left that this will be a llamo file that a user will use cube",
    "start": "844030",
    "end": "851620"
  },
  {
    "text": "cuddle create dash F and pointing to that file there that specifies how they",
    "start": "851620",
    "end": "857560"
  },
  {
    "text": "want their Ceph storage cluster to get created they can specify things like what devices to use where metadata",
    "start": "857560",
    "end": "865780"
  },
  {
    "text": "should go you know it's a networking information whether to use the pod",
    "start": "865780",
    "end": "871600"
  },
  {
    "text": "overlay network or to use the host network and on the right we see a little visualization of the various components",
    "start": "871600",
    "end": "878890"
  },
  {
    "text": "of Ceph that have gotten placed and scheduled around the cluster by the rook operator and at the end of it we have a",
    "start": "878890",
    "end": "885460"
  },
  {
    "text": "functioning distributed storage system that's been deployed within our kubernetes cluster and can now be",
    "start": "885460",
    "end": "891820"
  },
  {
    "text": "managed by the operators and various kubernetes constructs so that would",
    "start": "891820",
    "end": "899740"
  },
  {
    "start": "897000",
    "end": "1039000"
  },
  {
    "text": "that's safe but we also have support new support for other types of storage",
    "start": "899740",
    "end": "905560"
  },
  {
    "text": "within kubernetes so from the work that we did with SEF we've learned a lot of",
    "start": "905560",
    "end": "911740"
  },
  {
    "text": "lessons and saw that there's a lot of patterns they can be applied to other types of storage systems as well so now",
    "start": "911740",
    "end": "919240"
  },
  {
    "text": "you can think of rook is not just a collection of operators and CR DS and",
    "start": "919240",
    "end": "924520"
  },
  {
    "text": "your custom types it's also a framework that can be used for other storage",
    "start": "924520",
    "end": "929680"
  },
  {
    "text": "providers that want to integrate into kubernetes as well some of the patterns there that you see",
    "start": "929680",
    "end": "935720"
  },
  {
    "text": "are you know normalization of how you declare and define storage resources of",
    "start": "935720",
    "end": "941460"
  },
  {
    "text": "oh I want this disk or this directory or this is how I want you know data to be provisioned or I want compute and",
    "start": "941460",
    "end": "949050"
  },
  {
    "text": "storage to be separate you know those types of decisions that you need to make when you are defining how your storage",
    "start": "949050",
    "end": "956880"
  },
  {
    "text": "clusters should be created is now a normalized consistent way across you",
    "start": "956880",
    "end": "962070"
  },
  {
    "text": "know more than just one storage provider more than just SEF you know operators they're they're complicated pieces of",
    "start": "962070",
    "end": "969420"
  },
  {
    "text": "machinery but not that complicated and you know the Brooke framework here has a number of patterns and the plumbing for",
    "start": "969420",
    "end": "976200"
  },
  {
    "text": "a storage provider that wants to get into kubernetes to do that very easily you know policies like backup and",
    "start": "976200",
    "end": "983130"
  },
  {
    "text": "restoration and networking policies all these sort of you know policies and logic are reusable across different",
    "start": "983130",
    "end": "990540"
  },
  {
    "text": "storage providers you know to make people's lives easier and then also there's a testing effort where these",
    "start": "990540",
    "end": "996140"
  },
  {
    "text": "tools and resources that rook is defining in the framework here you know",
    "start": "996140",
    "end": "1002330"
  },
  {
    "text": "have a common testing effort from our integration testing from the community so you can leverage that to get into",
    "start": "1002330",
    "end": "1009350"
  },
  {
    "text": "kubernetes easier so just last week we started creating where we have up and",
    "start": "1009350",
    "end": "1016640"
  },
  {
    "text": "running operators for cockroach DB and Mineo as well in addition to SEF and",
    "start": "1016640",
    "end": "1022460"
  },
  {
    "text": "this is using that rook framework where the the coding job wasn't wasn't that hard anymore because we have these tools",
    "start": "1022460",
    "end": "1028579"
  },
  {
    "text": "we have these constructs to bring more types of storage into kubernetes in a you know reliable consistent way there",
    "start": "1028579",
    "end": "1037100"
  },
  {
    "text": "will be support for next sentence well soon - all right so let's take a little demo here real quick so we've kind of",
    "start": "1037100",
    "end": "1044120"
  },
  {
    "start": "1039000",
    "end": "1110000"
  },
  {
    "text": "put some of these things that we've been talking about together and show you what",
    "start": "1044120",
    "end": "1050540"
  },
  {
    "text": "it looks like so I think that that maybe make that a little bigger for the people",
    "start": "1050540",
    "end": "1056210"
  },
  {
    "text": "in the back is that somewhat readable but back there okay",
    "start": "1056210",
    "end": "1063480"
  },
  {
    "text": "it's the same here okay so if we're over",
    "start": "1063480",
    "end": "1068909"
  },
  {
    "text": "here in this window I've just got a little watch going that's going to show",
    "start": "1068909",
    "end": "1074100"
  },
  {
    "text": "us what we have running in the cluster your name spaces pod services persistent",
    "start": "1074100",
    "end": "1081059"
  },
  {
    "text": "volume claims things like that we don't have much running right now we just have you know the namespaces that come with",
    "start": "1081059",
    "end": "1088320"
  },
  {
    "text": "you know the kubernetes system I have up here running that's it so let's get a",
    "start": "1088320",
    "end": "1094950"
  },
  {
    "text": "set closer running and then we're also on top of that stuff cluster we're going to run a stateful application and I'll",
    "start": "1094950",
    "end": "1101669"
  },
  {
    "text": "show you how easy this is so let's go ahead and create I'm gonna use some aliases to KS cube cuddle I can only",
    "start": "1101669",
    "end": "1108929"
  },
  {
    "text": "type so much so it's two faces here the first is that we need to get the",
    "start": "1108929",
    "end": "1114929"
  },
  {
    "start": "1110000",
    "end": "1565000"
  },
  {
    "text": "operator itself running so we deploy out a am will manifest that describes the",
    "start": "1114929",
    "end": "1121909"
  },
  {
    "text": "Ceph operator for rook and it goes ahead and declares some custom resources that",
    "start": "1121909",
    "end": "1127380"
  },
  {
    "text": "we can see here as well such as clusters or file system objects or pools things like that and once the operator is up",
    "start": "1127380",
    "end": "1134130"
  },
  {
    "text": "and running which we should see over here yeah so we have the operator up and",
    "start": "1134130",
    "end": "1139649"
  },
  {
    "text": "running once it's running now we can do something like creating a cluster so the",
    "start": "1139649",
    "end": "1150179"
  },
  {
    "text": "custom type a scepter that we've defined we created an instance of it the",
    "start": "1150179",
    "end": "1155250"
  },
  {
    "text": "operator is watching it gets that event that says hey the user wants a a self",
    "start": "1155250",
    "end": "1161220"
  },
  {
    "text": "cluster so the operator is going to go ahead and make that happen I should be on this window here now sorry so what is",
    "start": "1161220",
    "end": "1168510"
  },
  {
    "text": "the operator doing right now it's you know it's very simple to say oh create a cluster and okay I will create a",
    "start": "1168510",
    "end": "1173850"
  },
  {
    "text": "question for you but there's more detail than that so I don't know how much you all know about SEF but it has a number",
    "start": "1173850",
    "end": "1180600"
  },
  {
    "text": "of components such as monitors OS DS managers and so what the operator is",
    "start": "1180600",
    "end": "1186450"
  },
  {
    "text": "doing right now is that we asked it to use every node in the system and",
    "start": "1186450",
    "end": "1193429"
  },
  {
    "text": "and what else did we ask I think I would",
    "start": "1193429",
    "end": "1198630"
  },
  {
    "text": "like that in a second but we've basically told it to create a cluster that can give me file storage object",
    "start": "1198630",
    "end": "1204539"
  },
  {
    "text": "storage block storage and the operators acting on that behalf on our behalf so",
    "start": "1204539",
    "end": "1209940"
  },
  {
    "text": "it's created a service you can see down here it's created a number of pods for",
    "start": "1209940",
    "end": "1214980"
  },
  {
    "text": "us I may need to make this smaller yeah",
    "start": "1214980",
    "end": "1226169"
  },
  {
    "text": "we got to see some more services and things like that all right so then that's great chef cluster is running in",
    "start": "1226169",
    "end": "1233070"
  },
  {
    "text": "kubernetes it's ready for holding data you know that's only half the story let's actually use that data that's",
    "start": "1233070",
    "end": "1239340"
  },
  {
    "text": "actually the interesting part so I'm going to do a couple of things here of",
    "start": "1239340",
    "end": "1247320"
  },
  {
    "text": "defining a storage class and that storage class is going to be able to",
    "start": "1247320",
    "end": "1252899"
  },
  {
    "text": "that's the link from a application that says I want block storage and then on",
    "start": "1252899",
    "end": "1259230"
  },
  {
    "text": "the other side of that for rook fulfilling that storage request all",
    "start": "1259230",
    "end": "1267690"
  },
  {
    "text": "right so let's go ahead and create a wordpress and also my sequel underneath",
    "start": "1267690",
    "end": "1275909"
  },
  {
    "text": "it and let's watch over here as those start coming up so WordPress is by",
    "start": "1275909",
    "end": "1284429"
  },
  {
    "text": "itself you know isn't a stateful app it's just you know a front-end but it needs to store store data somewhere in",
    "start": "1284429",
    "end": "1291480"
  },
  {
    "text": "my sequel and that's where it gets interesting right where you can have blog posts you can have comments you can have you know all sorts of interesting",
    "start": "1291480",
    "end": "1298620"
  },
  {
    "text": "state state right so WordPress by its needs a backing store a data base and",
    "start": "1298620",
    "end": "1305820"
  },
  {
    "text": "that data base needs to be stored or persisted somewhere and so what we're seeing here is when my sequel gets",
    "start": "1305820",
    "end": "1313169"
  },
  {
    "text": "created it it needs block storage so it asks the rook operator for a block",
    "start": "1313169",
    "end": "1319799"
  },
  {
    "text": "device and that goes through the process of creating a volume in",
    "start": "1319799",
    "end": "1326550"
  },
  {
    "text": "of the cluster and then attaching that volume to the correct node that were",
    "start": "1326550",
    "end": "1332520"
  },
  {
    "text": "that my sequel is running on and mounting it and making sure that the my sequel pod is able to then start",
    "start": "1332520",
    "end": "1338580"
  },
  {
    "text": "consuming it so let's go ahead and look at WordPress real quick all right so",
    "start": "1338580",
    "end": "1350790"
  },
  {
    "text": "we'll go in to this address in a browser and this should be a wordpress instance",
    "start": "1350790",
    "end": "1363409"
  },
  {
    "text": "thank you",
    "start": "1363500",
    "end": "1366680"
  },
  {
    "text": "and I'm going to pick English you know I've been trying to learn a little bit of Danish while I've been here now we're",
    "start": "1375429",
    "end": "1385359"
  },
  {
    "text": "gonna go even easier than that for me or personalized though as well oh I think I",
    "start": "1385359",
    "end": "1397389"
  },
  {
    "text": "clicked it too fast",
    "start": "1397389",
    "end": "1400049"
  },
  {
    "text": "okay let's look at the different instances we have here so we see that",
    "start": "1407460",
    "end": "1412940"
  },
  {
    "text": "these persistent volume claims are representing the data needs of WordPress",
    "start": "1412940",
    "end": "1419280"
  },
  {
    "text": "in of my sequel so we can see that they both asked for 20 gigabytes and those",
    "start": "1419280",
    "end": "1425070"
  },
  {
    "text": "were bound and fulfilled by the rook operator in order to make sure that that",
    "start": "1425070",
    "end": "1431610"
  },
  {
    "text": "storage was available for WordPress here we go so then that's so that's interesting right that you know we have",
    "start": "1431610",
    "end": "1437850"
  },
  {
    "text": "a stateful application it has data needs rook was able to not only create the",
    "start": "1437850",
    "end": "1443070"
  },
  {
    "text": "underlying storage fabric but also to provide usable block storage file",
    "start": "1443070",
    "end": "1448710"
  },
  {
    "text": "storage whatever it is for this app so then one last thing to show you real quick is a bit of the management's so",
    "start": "1448710",
    "end": "1458580"
  },
  {
    "text": "what I'm gonna do here is I'm going to kill the database instance so when we kill the database instance because we're",
    "start": "1458580",
    "end": "1465600"
  },
  {
    "text": "running in kubernetes we're gonna get some some very awesome management",
    "start": "1465600",
    "end": "1471060"
  },
  {
    "text": "constructs here so I killed it and we should see my sleep while terminating right here and so when mice that database dies you",
    "start": "1471060",
    "end": "1479730"
  },
  {
    "text": "know all these kubernetes amazing management capabilities we have here we'll bring up another my sequel",
    "start": "1479730",
    "end": "1486720"
  },
  {
    "text": "instance but that's not all that's happening here what's also happening here is that that mutant might the old",
    "start": "1486720",
    "end": "1492750"
  },
  {
    "text": "my sequel instance had a block volume and now it may be on an entirely different node so the brook operator in",
    "start": "1492750",
    "end": "1500310"
  },
  {
    "text": "Brook agent will detach unmount and detach the volume from the old instance",
    "start": "1500310",
    "end": "1507180"
  },
  {
    "text": "of my sequel and move it to somewhere else in the cluster and where the new my sequel instance is going to come up and",
    "start": "1507180",
    "end": "1513180"
  },
  {
    "text": "make sure it's you know remounted reattached so that the new my sequel instance when it failed over can",
    "start": "1513180",
    "end": "1519870"
  },
  {
    "text": "continue using the same data so if everything worked there with the new my",
    "start": "1519870",
    "end": "1525900"
  },
  {
    "text": "sequel instance running we should be able to you know refresh and see the see",
    "start": "1525900",
    "end": "1532440"
  },
  {
    "text": "the page here and you to still be able to use the site and you know the data is",
    "start": "1532440",
    "end": "1539580"
  },
  {
    "text": "still there even though the my sequel instance maybe removing around the cluster you know the data is going along with it",
    "start": "1539580",
    "end": "1545250"
  },
  {
    "text": "right so we started from a blank kubernetes cluster brought up a storage system brought up a stateful application",
    "start": "1545250",
    "end": "1552900"
  },
  {
    "text": "using it and we're seeing some of the management parts where you know the storage moves along with the with the",
    "start": "1552900",
    "end": "1558600"
  },
  {
    "text": "applications so I think let's go back to the slides real quick and so you know as",
    "start": "1558600",
    "end": "1568440"
  },
  {
    "text": "I mentioned we're an open source project so we you know we would love to have new",
    "start": "1568440",
    "end": "1574470"
  },
  {
    "text": "contributors we've got a nice healthy community going but we can always have more contributors so one way to get",
    "start": "1574470",
    "end": "1579600"
  },
  {
    "text": "involved is to come but to our github contributes open issues you know if when",
    "start": "1579600",
    "end": "1585000"
  },
  {
    "text": "you use Rooke and run into a problem open an issue come talk to us on slack we actually have a we actually have a",
    "start": "1585000",
    "end": "1594150"
  },
  {
    "text": "conferences channel on our slack right now to to keep in touch with each other as we're going through this Brook",
    "start": "1594150",
    "end": "1600060"
  },
  {
    "text": "underscore IO is our Twitter we also have community meetings every couple of weeks so we've got a community we want",
    "start": "1600060",
    "end": "1605790"
  },
  {
    "text": "you know to meet more people talk to more people and get more people interested in Brook and this week we",
    "start": "1605790",
    "end": "1611610"
  },
  {
    "start": "1610000",
    "end": "1641000"
  },
  {
    "text": "actually have some more sessions as well as well since we are a CN CF project now",
    "start": "1611610",
    "end": "1616620"
  },
  {
    "text": "we have meet the maintainer session tomorrow tomorrow morning at Thursday and then we have a deep dive into some",
    "start": "1616620",
    "end": "1622500"
  },
  {
    "text": "more of the architecture of rook that will be in the same room on Friday and then I'm giving a talk about portability",
    "start": "1622500",
    "end": "1628560"
  },
  {
    "text": "of data in kubernetes on Friday and one of the bigger auditoriums so we'd love",
    "start": "1628560",
    "end": "1634320"
  },
  {
    "text": "to see you guys there too and do we have any questions from anybody yes",
    "start": "1634320",
    "end": "1643760"
  },
  {
    "start": "1641000",
    "end": "1688000"
  },
  {
    "text": "the state of support is in like support when there's a problem or supporting those data types okay so the question",
    "start": "1647010",
    "end": "1655350"
  },
  {
    "text": "was what's the you know state of support for different data types comparable to what's in Amazon like EBS and so that's",
    "start": "1655350",
    "end": "1663960"
  },
  {
    "text": "that depends on what the storage is provider that rook is deployed is so we need to deploy SEF you get you know foul",
    "start": "1663960",
    "end": "1671550"
  },
  {
    "text": "you get block you get objects and those are exactly comparable to EBS and to s3",
    "start": "1671550",
    "end": "1676770"
  },
  {
    "text": "and to but in whatever the name is of the shared file system in Amazon as well",
    "start": "1676770",
    "end": "1682250"
  },
  {
    "text": "so they're you know very comparable types of storage that are available in Amazon yeah that's a good question so",
    "start": "1682250",
    "end": "1711870"
  },
  {
    "start": "1688000",
    "end": "1755000"
  },
  {
    "text": "the question is about what can be down in rook for data to still be usable for",
    "start": "1711870",
    "end": "1717210"
  },
  {
    "text": "data to still be accessible as we talked about the operator it can is not on the data path so that can be down in the",
    "start": "1717210",
    "end": "1724020"
  },
  {
    "text": "rook agent part as you noticed is that's only on the data setup path so only at",
    "start": "1724020",
    "end": "1730140"
  },
  {
    "text": "attaching in mounting time and then also unmounting and detaching that's the only",
    "start": "1730140",
    "end": "1735300"
  },
  {
    "text": "time that the agent needs to be up and functional in order to for things to go smoothly but other than that at you know",
    "start": "1735300",
    "end": "1741810"
  },
  {
    "text": "steady state while the distributed system is up and running and reads and",
    "start": "1741810",
    "end": "1747330"
  },
  {
    "text": "writes are coming in the agent and the operator do not have to be up at all yes",
    "start": "1747330",
    "end": "1754610"
  },
  {
    "start": "1755000",
    "end": "1812000"
  },
  {
    "text": "like that's a if you that may have been",
    "start": "1759080",
    "end": "1765000"
  },
  {
    "text": "visible on the demo here that was doing it on mini cube yeah so mini cube is entirely set up and that's the the",
    "start": "1765000",
    "end": "1771430"
  },
  {
    "text": "common contributor workflow for rook to do bug fixes and stuff uses mini cube locally yeah yes in the back",
    "start": "1771430",
    "end": "1778720"
  },
  {
    "text": "hey thanks for the presentation anyway do you have any performance benchmarks like like a rough estimate of the number",
    "start": "1778720",
    "end": "1785860"
  },
  {
    "text": "of PVCs that it could handle oh so that that's a good question this over the",
    "start": "1785860",
    "end": "1792850"
  },
  {
    "text": "performance benchmarking that we've done so far has been focused on you know read and write throughput and latency things",
    "start": "1792850",
    "end": "1798160"
  },
  {
    "text": "like that I don't have any information about you know how many PBC's can be running or",
    "start": "1798160",
    "end": "1804370"
  },
  {
    "text": "sort of the you know number of concurrent accessors to the data I don't actually have a figure for that we were",
    "start": "1804370",
    "end": "1816010"
  },
  {
    "start": "1812000",
    "end": "1926000"
  },
  {
    "text": "running on glass traces but we had issues when when we rebooted a node the",
    "start": "1816010",
    "end": "1822040"
  },
  {
    "text": "volumes could not be mounted or - because this was not there so we are we are doing the same thing you're in ruk",
    "start": "1822040",
    "end": "1828400"
  },
  {
    "text": "right so more more towards that where all the volumes could be attached or",
    "start": "1828400",
    "end": "1834720"
  },
  {
    "text": "reattached when there is a node failure sure yeah right yeah and that's that's",
    "start": "1834720",
    "end": "1840220"
  },
  {
    "text": "something you know that it's really interesting and you know we kind of tried to simulate that for you today of",
    "start": "1840220",
    "end": "1845710"
  },
  {
    "text": "when something goes wrong you know to move data around to another node in the cluster not even the data itself because",
    "start": "1845710",
    "end": "1852550"
  },
  {
    "text": "if you think about it distributed storage Questor you've got all the data already spread around and when one node",
    "start": "1852550",
    "end": "1858370"
  },
  {
    "text": "goes down you're losing some of the redundancy the durability of the data is getting affected but it should",
    "start": "1858370",
    "end": "1864580"
  },
  {
    "text": "absolutely still be available even though you've lost the node the interesting part for the immediate thing",
    "start": "1864580",
    "end": "1870670"
  },
  {
    "text": "you have to worry about when you lose a node is more so any of the local",
    "start": "1870670",
    "end": "1875850"
  },
  {
    "text": "applications or instances like pods that we're using the data on that node right and so as soon as you know the node is",
    "start": "1875850",
    "end": "1885220"
  },
  {
    "text": "is noticed to be lost then the rook agent starts doing work - you know if it",
    "start": "1885220",
    "end": "1890590"
  },
  {
    "text": "can because god knows what might be wrong with the node may not be able to it might be completely powered off right and it",
    "start": "1890590",
    "end": "1896030"
  },
  {
    "text": "won't be able to unmount it or detach but as soon as the note is lost in",
    "start": "1896030",
    "end": "1901100"
  },
  {
    "text": "kubernetes it'll start doing that work and move the volume somewhere else as quickly as I can and we've with some",
    "start": "1901100",
    "end": "1907929"
  },
  {
    "text": "some of the tests that we've done in for instance in the Google compute engine",
    "start": "1907929",
    "end": "1913130"
  },
  {
    "text": "gke you know we've done that and you're within 30 seconds or so it shows up on another node and written that pod is",
    "start": "1913130",
    "end": "1919520"
  },
  {
    "text": "already scheduled and using the data again on another node so it's it's got a little bit of downtime to figure it out but it's fairly minimal hi",
    "start": "1919520",
    "end": "1928400"
  },
  {
    "start": "1926000",
    "end": "1998000"
  },
  {
    "text": "so quite recently faced an issue with blue store not release in space in the",
    "start": "1928400",
    "end": "1936710"
  },
  {
    "text": "data dear even so I got a feeling it's kind of unknown you should do possibly",
    "start": "1936710",
    "end": "1941990"
  },
  {
    "text": "have any more background to that the the thing I remember about that Alex might",
    "start": "1941990",
    "end": "1948020"
  },
  {
    "text": "remember more about that as well but the the blue store is made it's designed for devices specifically running on raw",
    "start": "1948020",
    "end": "1954350"
  },
  {
    "text": "devices so running on an existing file system you're you don't have good performance on that anyway since you're",
    "start": "1954350",
    "end": "1960679"
  },
  {
    "text": "going through multiple layers but you also don't have that that ongoing management of you know freeing blocks",
    "start": "1960679",
    "end": "1967059"
  },
  {
    "text": "and I don't know if that was a design flaw and it necessarily but blue story",
    "start": "1967059",
    "end": "1972890"
  },
  {
    "text": "is definitely intended to be used on raw devices do anything else to add to that Alex yeah it's simply because I think it",
    "start": "1972890",
    "end": "1980390"
  },
  {
    "text": "was the disk carbs so it's called or something it wasn't passed through and or not even triggered for blue stir and",
    "start": "1980390",
    "end": "1987260"
  },
  {
    "text": "simply because of that false room is growing as getting full",
    "start": "1987260",
    "end": "1994509"
  },
  {
    "start": "1998000",
    "end": "2070000"
  },
  {
    "text": "on this it's great on a cloud we have",
    "start": "1999499",
    "end": "2004700"
  },
  {
    "text": "storage option what about one promises let's say we VMware backed by Shan so",
    "start": "2004700",
    "end": "2011869"
  },
  {
    "text": "how does it work so it is on-premise yes really well it also actually is we gotta",
    "start": "2011869",
    "end": "2020539"
  },
  {
    "text": "drink water so we were running a set of",
    "start": "2020539",
    "end": "2025580"
  },
  {
    "text": "bare metal nodes in our office for quite a while and you know deploying it you",
    "start": "2025580",
    "end": "2031789"
  },
  {
    "text": "know is the important part is having kubernetes there so once you have kubernetes that abstracts away the",
    "start": "2031789",
    "end": "2037489"
  },
  {
    "text": "underlying environment so it doesn't matter if it's a cloud provider or if it's an on-premise scenario right the",
    "start": "2037489",
    "end": "2044149"
  },
  {
    "text": "storage cluster can be deployed configured and managed it's basically the same it doesn't really realize that",
    "start": "2044149",
    "end": "2049398"
  },
  {
    "text": "it's on-premise or in a cloud provider so that's one of the interesting things about the you know power of abstractions",
    "start": "2049399",
    "end": "2055608"
  },
  {
    "text": "where the environment becomes much less prominent in in the management of it",
    "start": "2055609",
    "end": "2061908"
  },
  {
    "text": "because kubernetes and other abstractions have kind of dealt with that for us at its time I think we got",
    "start": "2061909",
    "end": "2070669"
  },
  {
    "start": "2070000",
    "end": "2141000"
  },
  {
    "text": "one more minute here what would you say that is the the biggest issue you're facing right now with the brook uh",
    "start": "2070669",
    "end": "2078190"
  },
  {
    "text": "that's a really good question I think you know the so Brook is an alpha",
    "start": "2078190",
    "end": "2085908"
  },
  {
    "text": "project right now we're working on getting to beta and the the aspect of",
    "start": "2085909",
    "end": "2092079"
  },
  {
    "text": "you know getting the management and you know edge case scenarios you know being",
    "start": "2092079",
    "end": "2098900"
  },
  {
    "text": "able to deal with with failure unexpected failures really gracefully that's kind of the the next you know",
    "start": "2098900",
    "end": "2105859"
  },
  {
    "text": "that last part there of getting from an alpha project to a beta project and those are the elusive ones that are",
    "start": "2105859",
    "end": "2111950"
  },
  {
    "text": "difficult to track down difficult to get Reaper you know reproducible and stuff to figure out what the real cause is so",
    "start": "2111950",
    "end": "2118430"
  },
  {
    "text": "I think those are the those final issues about getting it to full and ready production reliability is the biggest",
    "start": "2118430",
    "end": "2125510"
  },
  {
    "text": "you know thing that I am concerned with personally right now and that is the end of the session I",
    "start": "2125510",
    "end": "2132560"
  },
  {
    "text": "believe so if you wonder if you have more questions to come talk to me thank you guys",
    "start": "2132560",
    "end": "2138340"
  },
  {
    "text": "[Applause]",
    "start": "2138340",
    "end": "2143519"
  }
]