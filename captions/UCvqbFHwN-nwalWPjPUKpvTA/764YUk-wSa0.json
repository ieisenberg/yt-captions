[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "they're due I'd like to get started thank you for joining us today welcome to today's CN CF webinar contour high",
    "start": "0",
    "end": "7140"
  },
  {
    "text": "performance ingress controller for kubernetes I'm Chris short a principal technical marketing manager at Red Hat",
    "start": "7140",
    "end": "13530"
  },
  {
    "text": "and a cloud native ambassador I'll be moderating today's webinar few hi you housekeeping items before you get",
    "start": "13530",
    "end": "20640"
  },
  {
    "text": "started during the webinar you're not able to talk as an attendee I'm sorry",
    "start": "20640",
    "end": "25800"
  },
  {
    "text": "however there is a Q&A box available to you that you can ask questions of Steve",
    "start": "25800",
    "end": "32610"
  },
  {
    "text": "or myself and if you have you know other questions that you feel like the chat",
    "start": "32610",
    "end": "38550"
  },
  {
    "text": "might be able to help with feel free to drop you know comments in the chat also",
    "start": "38550",
    "end": "43760"
  },
  {
    "text": "this is an official CN CF webinar and it's subject to the CN CF code of conduct please do not add anything to",
    "start": "43760",
    "end": "50370"
  },
  {
    "text": "the chat or questions that would be in violation of that code of conduct basically be respectful of all your fellow participants and presenters so",
    "start": "50370",
    "end": "59600"
  },
  {
    "text": "with that we would like to welcome our presenter today Steve sloka senior member of technical staff at VMware take",
    "start": "59600",
    "end": "66659"
  },
  {
    "text": "it away Steve okay hey thanks Chris so good morning good evening good afternoon",
    "start": "66659",
    "end": "71760"
  },
  {
    "text": "everyone yeah again I'm Steve sloka and today we're going to talk about contour and contour is an ingress controller for",
    "start": "71760",
    "end": "77759"
  },
  {
    "text": "kubernetes so quick look at the agenda for today we're gonna review kind of what ingress is so we can help level set",
    "start": "77759",
    "end": "84720"
  },
  {
    "start": "80000",
    "end": "114000"
  },
  {
    "text": "your background just to be on the same playing field we're gonna go and look at contour you know what is it how does it",
    "start": "84720",
    "end": "91110"
  },
  {
    "text": "work what are the components that make it up then we'll dig into this CRD that we wrote called HTTP proxy and we'll",
    "start": "91110",
    "end": "98159"
  },
  {
    "text": "look at why we built that and some of the reasons around you might want to use that versus you looking at using ingress today and then we'll do a bunch of demos",
    "start": "98159",
    "end": "104820"
  },
  {
    "text": "so I've got a whole whole slew of demos we can dig into and I think majority of today's talk will be live coding on a",
    "start": "104820",
    "end": "112049"
  },
  {
    "text": "server so it should be fun so let's dig into and figure out what ingress is right so ingress itself when you think",
    "start": "112049",
    "end": "119850"
  },
  {
    "start": "114000",
    "end": "264000"
  },
  {
    "text": "of that generically it means incoming right so I can talk about ingress traffic you know coming into my network",
    "start": "119850",
    "end": "125939"
  },
  {
    "text": "and this is the same for kubernetes so ingress and kubernetes LAN is the ability to route traffic from outside",
    "start": "125939",
    "end": "132420"
  },
  {
    "text": "the cluster or from the inner it into your cluster and route that to a service an ingress uses this l7 protocol",
    "start": "132420",
    "end": "139480"
  },
  {
    "text": "of the application stack so it's able to route requests based on the host header in the path combination so I like to",
    "start": "139480",
    "end": "146650"
  },
  {
    "text": "look at ingress and then think about will why hide it why would I use something else right so let's look at alternatives real quick and then we'll",
    "start": "146650",
    "end": "152050"
  },
  {
    "text": "see why ingress may be a good fit for what we're trying to do so I could use",
    "start": "152050",
    "end": "157180"
  },
  {
    "text": "the thing called node ports and I put node points and load balancers together because they kind of fit hand-in-hand but a node port type service and",
    "start": "157180",
    "end": "164320"
  },
  {
    "text": "kubernetes will expose a random port on your cluster and that 30,000 range by default whenever I expose that service",
    "start": "164320",
    "end": "171100"
  },
  {
    "text": "on that port if I hit any node in the cluster then traffic will route to my application so this works the problem",
    "start": "171100",
    "end": "177940"
  },
  {
    "text": "here is that I've got a whole bunch of random ports now depending on how many applications I have and I've got to manage the life cycle of all those nodes",
    "start": "177940",
    "end": "184420"
  },
  {
    "text": "right so if I know goes unhealthy and my cluster I've got a connected out of service load balancer kind of works hand",
    "start": "184420",
    "end": "190630"
  },
  {
    "text": "in hand if you're an environment that has a you know a cloud provider or something like that you can create a",
    "start": "190630",
    "end": "196660"
  },
  {
    "text": "service type of load balancer and essentially behind the scenes you creates you a node port service but it",
    "start": "196660",
    "end": "201970"
  },
  {
    "text": "also provisions a load balancer outside of the cluster and this load balancer will then send traffic to your cluster",
    "start": "201970",
    "end": "207390"
  },
  {
    "text": "and this will solve the problem easily the problem is is that how many applications are going to live in your",
    "start": "207390",
    "end": "213160"
  },
  {
    "text": "cluster right there's a quantity of those applications there's also a cost whether you're you know an on-premise",
    "start": "213160",
    "end": "218980"
  },
  {
    "text": "environment or the cloud environment some sort of cost associated with this as well as complexity so let alone",
    "start": "218980",
    "end": "225040"
  },
  {
    "text": "having all of these ports open up in your cluster so your security team may not be happy with all these different entry points nothing you could use our",
    "start": "225040",
    "end": "232600"
  },
  {
    "text": "thing called host ports so host ports basically map a pod in your cluster to a host port on the node and this again",
    "start": "232600",
    "end": "239950"
  },
  {
    "text": "would be another solution to the problem is you can only have one per cluster right only one port can map port 80 or",
    "start": "239950",
    "end": "245860"
  },
  {
    "text": "one can map port 80 so basically unless you're gonna deploy one application per",
    "start": "245860",
    "end": "251050"
  },
  {
    "text": "cluster there's a lot of overhead in that so ingress gets around all of this by only having a single entry point but",
    "start": "251050",
    "end": "257620"
  },
  {
    "text": "being able to handle multiple application and multiple paths into your cluster so this diagram here is an",
    "start": "257620",
    "end": "265210"
  },
  {
    "start": "264000",
    "end": "355000"
  },
  {
    "text": "overview of how contour looks and you can also apply this to basically any ingress control or instance so again",
    "start": "265210",
    "end": "271300"
  },
  {
    "text": "we have our traffic coming in from outside the cluster and we're gonna hit some sort of load balancer and that load balancers job is to send traffic out",
    "start": "271300",
    "end": "277690"
  },
  {
    "text": "across the cluster and again I'll need one of these for our ingress once the traffic gets to in our case envoy for",
    "start": "277690",
    "end": "284230"
  },
  {
    "text": "contour envoy is going to take that request inspect it and then route it to the right place within the cluster and",
    "start": "284230",
    "end": "290860"
  },
  {
    "text": "you noticed here that envoy is the data path component in contour so it's the one handling all of the traffic all of the the network routing for us contour",
    "start": "290860",
    "end": "298450"
  },
  {
    "text": "in this scenario is just the configuration server for envoy so contours job is to watch the cluster it's gonna look for services endpoints",
    "start": "298450",
    "end": "305860"
  },
  {
    "text": "ingress objects these HTTP proxy objects as well as secrets and when any of those",
    "start": "305860",
    "end": "311740"
  },
  {
    "text": "things might change in the cluster contour will rebuild this configuration and stream that change down to envoy and",
    "start": "311740",
    "end": "318430"
  },
  {
    "text": "again envoy is gonna handle all of the traffic and again they said this is an l7 proxy at layer seven so that means",
    "start": "318430",
    "end": "324550"
  },
  {
    "text": "that in this example XYZ comm is my host and slash blog is my path so I'm always",
    "start": "324550",
    "end": "329860"
  },
  {
    "text": "able to inspect the fat that layer of the stack and be able to make decisions on routing oh and I meant for this could",
    "start": "329860",
    "end": "339040"
  },
  {
    "text": "work for any ingress controller if you replace this box here you can probably swap out any kind of different ingress controller for for contour and it should",
    "start": "339040",
    "end": "345880"
  },
  {
    "text": "work in this similar vein depending on you know the different components but again the concept is the same in terms",
    "start": "345880",
    "end": "351760"
  },
  {
    "text": "of how ingress controllers are implemented there's another look at the components of contour again we said that",
    "start": "351760",
    "end": "358510"
  },
  {
    "start": "355000",
    "end": "385000"
  },
  {
    "text": "contour is the configuration server and it uses envoy as the data plane again we're deploying this to kubernetes so",
    "start": "358510",
    "end": "364600"
  },
  {
    "text": "kubernetes is our our underlying infrastructure we're gonna deploy this too and we also expose Prometheus",
    "start": "364600",
    "end": "369760"
  },
  {
    "text": "metrics an envoy as well as contour and you can use Gravano or any other tool that can consume Prometheus depending on",
    "start": "369760",
    "end": "376030"
  },
  {
    "text": "your environment so feel free to do that but again this is just giving you the overview again of all the components",
    "start": "376030",
    "end": "381580"
  },
  {
    "text": "that make up contour let's dig into some more highlights of contour again contour",
    "start": "381580",
    "end": "389110"
  },
  {
    "start": "385000",
    "end": "536000"
  },
  {
    "text": "is an ingress Controller we're using envoy as the data plane component contour it has can dynamically update",
    "start": "389110",
    "end": "396280"
  },
  {
    "text": "its configurations without dropping connections so whenever those services",
    "start": "396280",
    "end": "401439"
  },
  {
    "text": "or endpoints change or your users are pushing configuration changes all that happens in real-time or near real-time",
    "start": "401439",
    "end": "408219"
  },
  {
    "text": "and those changes are pushed down to envoy and connections aren't dropped right there's no reload there's no issue",
    "start": "408219",
    "end": "413649"
  },
  {
    "text": "of receiving that update contour can safely support ingress in multi teen",
    "start": "413649",
    "end": "419649"
  },
  {
    "text": "clusters we do this through our CRT called HTTP proxy and we'll dig into what that looks like and feels like here",
    "start": "419649",
    "end": "425589"
  },
  {
    "text": "in a little bit that multi-team pattern is enabled through this thing called delegation so we can delegate a path and",
    "start": "425589",
    "end": "433269"
  },
  {
    "text": "a header combination down to namespaces and by carving off these different pieces of the path we're able to",
    "start": "433269",
    "end": "439749"
  },
  {
    "text": "implement this this multi team or multi-user cluster in a safe way in",
    "start": "439749",
    "end": "445569"
  },
  {
    "text": "addition to having a 30 we can now place things that are typically annotations in",
    "start": "445569",
    "end": "451029"
  },
  {
    "text": "ingress today things like service weights load balancing strategies you know prefix rewrite rules all those",
    "start": "451029",
    "end": "456519"
  },
  {
    "text": "things that you've got to deal with today that maybe don't aren't described in the ingress spec we can describe them",
    "start": "456519",
    "end": "462279"
  },
  {
    "text": "in a place within our C or D again so you can do that without having annotations all over your objects we're",
    "start": "462279",
    "end": "469809"
  },
  {
    "text": "able to support in multiple up streams right so if you ever want to go out with traffic to multiple services within your",
    "start": "469809",
    "end": "474969"
  },
  {
    "text": "cluster this is helpful to do things like Bluegreen deployments or maybe a canary deployment you can implement this",
    "start": "474969",
    "end": "481360"
  },
  {
    "text": "maybe in a simpler pattern by allowing you have to have multiple services to route traffic to another cool thing is",
    "start": "481360",
    "end": "489579"
  },
  {
    "text": "we can do is things this thing called TLS or certificate delegation so again an ingress today you've got to have your",
    "start": "489579",
    "end": "496449"
  },
  {
    "text": "your secret live in the same namespace where your ingress object is right and if you have a secret copied across",
    "start": "496449",
    "end": "502539"
  },
  {
    "text": "multiple namespaces one that can be a pain to manage and deal with getting that deployed out so you've got to",
    "start": "502539",
    "end": "508779"
  },
  {
    "text": "rotate that you've got updated multiple places and and three your users have access to those private keys which may",
    "start": "508779",
    "end": "513969"
  },
  {
    "text": "not be the be what you want so with contour we can tuck our secrets away in an admin namespace and then use",
    "start": "513969",
    "end": "521709"
  },
  {
    "text": "delegation or to pass that the permissions off to other teams right so basically they can still use the",
    "start": "521709",
    "end": "528069"
  },
  {
    "text": "certificates as if they were in their namespace but they don't have to have access to them so it's a good separation of concerns",
    "start": "528069",
    "end": "535110"
  },
  {
    "text": "so why envoy why do we choose envoy when we started bloating contour well its",
    "start": "535340",
    "end": "540780"
  },
  {
    "start": "536000",
    "end": "591000"
  },
  {
    "text": "dynamic configuration to be an API so I mentioned this is one of the first wins of contour so envoy expose is a GRDC",
    "start": "540780",
    "end": "547140"
  },
  {
    "text": "endpoint and it's it's their XDS protocol so we can basically contour is the XDS server for envoy and we're going",
    "start": "547140",
    "end": "553980"
  },
  {
    "text": "to stream this changes again down through that gr QC connection we've got this rich connection that we can push",
    "start": "553980",
    "end": "559110"
  },
  {
    "text": "configuration changes down to and again not have to reload on void for that for it to accept them on void provides",
    "start": "559110",
    "end": "566730"
  },
  {
    "text": "first-class support for HTTP 2 as well as G RPC so I'm looking for the future and what our users are looking to",
    "start": "566730",
    "end": "572910"
  },
  {
    "text": "consume these two protocols are first-class citizens an envelope and it's battle-tested in production on what",
    "start": "572910",
    "end": "579930"
  },
  {
    "text": "came out of that the engineers that lift and I use this all over the place and this has become a well-known component",
    "start": "579930",
    "end": "587130"
  },
  {
    "text": "in lots of architectures today I'm gonna kind of walk through a situation and",
    "start": "587130",
    "end": "593550"
  },
  {
    "text": "we're gonna look at basically what ingress looks like today so if I have two ingress documents right here I've",
    "start": "593550",
    "end": "599670"
  },
  {
    "text": "got one on the left one on the right and you'll see here I have it one is for Team a so I've got one team here and one",
    "start": "599670",
    "end": "605010"
  },
  {
    "text": "is for Team B so I'm splitting across you know two different namespaces here each team has created their own object",
    "start": "605010",
    "end": "611670"
  },
  {
    "text": "and they're both have defined the hosts of project contoured at i/o and I both",
    "start": "611670",
    "end": "617010"
  },
  {
    "text": "to define the same path slash blog but because there are different namespaces they're able to set different services",
    "start": "617010",
    "end": "622980"
  },
  {
    "text": "throughout traffic to so in this case team a is writing to a wordpress blog and Team B is routing to service new",
    "start": "622980",
    "end": "629060"
  },
  {
    "text": "well the question comes is when we go to process these documents together what happens right what is the result of this",
    "start": "629060",
    "end": "635760"
  },
  {
    "text": "merge because we basically have conflicting descriptions of what this should look like really it's undefined",
    "start": "635760",
    "end": "642030"
  },
  {
    "text": "right and this could be dangerous depending on how your controller processes these it could be the last one",
    "start": "642030",
    "end": "647520"
  },
  {
    "text": "in wins the first one in wins maybe none of them win and your users just get you know four or four air so this is one of",
    "start": "647520",
    "end": "654390"
  },
  {
    "text": "the things we look to solve with contour we wanted to come up with the way that we could allow users to still self-manage their an ingress objects",
    "start": "654390",
    "end": "660450"
  },
  {
    "text": "their name space but not have to deal with these sort of issues that can come up and this is a common scenario where",
    "start": "660450",
    "end": "666510"
  },
  {
    "text": "maybe you have this is your production application here and then you go and deploy a new application the new version of it and someone just you know",
    "start": "666510",
    "end": "673470"
  },
  {
    "text": "accidentally deploys the same ingress object and we've taken down your production so we'll look here how to how",
    "start": "673470",
    "end": "679110"
  },
  {
    "text": "we can solve that here with contour so contour can do that with this thing called HTTP proxy and if you're familiar",
    "start": "679110",
    "end": "686069"
  },
  {
    "text": "with contour in the past we used to have a series called ingress route ingress route supported a path prefix and now",
    "start": "686069",
    "end": "692610"
  },
  {
    "text": "our new proxy city supports path prefixes as well as headers and additional information so our users over",
    "start": "692610",
    "end": "698550"
  },
  {
    "text": "over the last year gave us a lot of feedback as to what we wanted to do with that and we can do a lot more now which",
    "start": "698550",
    "end": "704579"
  },
  {
    "text": "is why we have the new the new proxy see already it's again the same rules are still are still there that are the same",
    "start": "704579",
    "end": "709860"
  },
  {
    "text": "goals being able to support multi team users and finding good homes for all these parameters so let's look at how",
    "start": "709860",
    "end": "718709"
  },
  {
    "text": "this delegation can work so generically from a high-level this this works is",
    "start": "718709",
    "end": "724050"
  },
  {
    "text": "that at the end owns a domain name right in my case there's project contours at i/o and this is defined and what we",
    "start": "724050",
    "end": "730920"
  },
  {
    "text": "sometimes call a route proxy right or there's this top-level route item so it has ownership over this domain another",
    "start": "730920",
    "end": "738360"
  },
  {
    "text": "team comes along and says hey I want to deploy my blog site so this is slash blog and we want to give them authority",
    "start": "738360",
    "end": "743519"
  },
  {
    "text": "to do that so they'll create an ingress or a proxy and they'll define it to be slash blog",
    "start": "743519",
    "end": "748800"
  },
  {
    "text": "and we'll implement this by and include and we'll show you how this works with real code here in a second but this",
    "start": "748800",
    "end": "755279"
  },
  {
    "text": "route can then say hey this child object has authority to manage the slash blog so in the case that someone else comes",
    "start": "755279",
    "end": "761939"
  },
  {
    "text": "along and they say you know what I'm the dev site I'm gonna go in or create a path of slash blog what happens is this",
    "start": "761939",
    "end": "768209"
  },
  {
    "text": "contourable throw this out right because this proxy here does not have authority to manage that that path slash blog",
    "start": "768209",
    "end": "774689"
  },
  {
    "text": "because this one already has it so you can see we can apply this to paths as well as headers and other things so if",
    "start": "774689",
    "end": "780990"
  },
  {
    "text": "you just deploy this out over a large cluster you're able to safely let users again self manage themselves without",
    "start": "780990",
    "end": "787379"
  },
  {
    "text": "having to deal with this overhead of the fear of breaking breaking your routes so",
    "start": "787379",
    "end": "795720"
  },
  {
    "start": "795000",
    "end": "962000"
  },
  {
    "text": "we take a quick pause here if I mean has any questions that was all the slides that I had so next I like just dick",
    "start": "795720",
    "end": "801300"
  },
  {
    "text": "do a bunch of code and actually deploy some of this and look at if that works no questions you have Steve but I",
    "start": "801300",
    "end": "807450"
  },
  {
    "text": "suspect as we dive in they might be more okay sounds good so what I'm gonna start",
    "start": "807450",
    "end": "814769"
  },
  {
    "text": "with is just a simple hello world right everyone starts with a hello world app so this is no different so we're gonna",
    "start": "814769",
    "end": "820980"
  },
  {
    "text": "deploy a simple proxy here that basically just says anything on slash is going to route to an application so what",
    "start": "820980",
    "end": "827640"
  },
  {
    "text": "I have here is I have some default apps that I wrote so what I built is this little simple echo server and what the",
    "start": "827640",
    "end": "834480"
  },
  {
    "text": "server does is it spits out some text that I've defined and this is just to help us understand which application is",
    "start": "834480",
    "end": "840060"
  },
  {
    "text": "getting the traffic and then and it spits out some information about the",
    "start": "840060",
    "end": "846000"
  },
  {
    "text": "headers as well as the path right again just to help us to go ahead and kind of see what's going on so let's go ahead and deploy that so we'll apply this one",
    "start": "846000",
    "end": "856680"
  },
  {
    "text": "app that'll create us some services and some deployments and then we'll also deploy the proxy great let's dig in at",
    "start": "856680",
    "end": "865709"
  },
  {
    "text": "this proxy real quick and see what it looks like so you see here is I have my version and this is our CRT so this is project",
    "start": "865709",
    "end": "871950"
  },
  {
    "text": "contour that io / v1 and the kind is HTTP proxy we've got to name a namespace",
    "start": "871950",
    "end": "877490"
  },
  {
    "text": "but here's where that the fun stuff happens so here we define this fully qualified domain name this is the",
    "start": "877490",
    "end": "882600"
  },
  {
    "text": "incoming host that convoys gonna look for in my case it's demo dot project contort at i/o and then I'm defining",
    "start": "882600",
    "end": "889770"
  },
  {
    "text": "this TLS struct and here I'm saying I want to terminate TLS I'm gonna use this certificate right so if I go and look at",
    "start": "889770",
    "end": "896399"
  },
  {
    "text": "I get my secrets you'll see I have a corresponding secret that's called TLS",
    "start": "896399",
    "end": "903120"
  },
  {
    "text": "wild and this is using let's encrypt through the cert manager from the jet stack folks so this went out and got me",
    "start": "903120",
    "end": "908820"
  },
  {
    "text": "a wild card certificate and I'm gonna just attach that and use it now that we're going to terminate TLS we'll look",
    "start": "908820",
    "end": "914790"
  },
  {
    "text": "at the routes on here so here we have a set of conditions and conditions in proxy tell you what conditions need to",
    "start": "914790",
    "end": "920970"
  },
  {
    "text": "be met for this route to match in this case I have one is just slash right so this is again the generic default route",
    "start": "920970",
    "end": "927089"
  },
  {
    "text": "so slash is going to route to this route app application so we can verify that we",
    "start": "927089",
    "end": "932430"
  },
  {
    "text": "have our proxy in here and we do I got all my proxies and it's it's healthy and it's valid so let's go",
    "start": "932430",
    "end": "939010"
  },
  {
    "text": "ahead and curl that and we'll just see how this looks a little smaller here so",
    "start": "939010",
    "end": "944680"
  },
  {
    "text": "if I do a curl on demo dot project contour dot IO you'll see this",
    "start": "944680",
    "end": "952510"
  },
  {
    "text": "application returns and this is our default app site here and it's slash here you can see the headers and we'll",
    "start": "952510",
    "end": "958930"
  },
  {
    "text": "look at that here in a second now one of the cool things that that you might have noticed I might not have noticed is here",
    "start": "958930",
    "end": "965080"
  },
  {
    "start": "962000",
    "end": "1022000"
  },
  {
    "text": "I inherently said HTTPS because we defined this TLS secret here in contour",
    "start": "965080",
    "end": "970270"
  },
  {
    "text": "contour is going to be secure by default so other times you might have might have had to annotate your object to say hey",
    "start": "970270",
    "end": "976780"
  },
  {
    "text": "do a 301 redirect from an insecure port to the secure port but contour will do that for you automatically because we've",
    "start": "976780",
    "end": "983260"
  },
  {
    "text": "seen we have T last year so here if I do a curl on the insecure port what you'll",
    "start": "983260",
    "end": "988690"
  },
  {
    "text": "see is contour will reply with or unavoidable return a 301 redirect and this is hey make sure you go to the to",
    "start": "988690",
    "end": "994240"
  },
  {
    "text": "the TLS version there are ways around this if you're if you're interested in using the insecure port you can say",
    "start": "994240",
    "end": "999850"
  },
  {
    "text": "permit and secure true and if I go ahead and apply this one now when I curl for",
    "start": "999850",
    "end": "1007500"
  },
  {
    "text": "the insecure port it'll work right because we're overriding that default a secure secure behavior so what kind of",
    "start": "1007500",
    "end": "1015900"
  },
  {
    "text": "take that off and then we'll check along with some more things that cool alright",
    "start": "1015900",
    "end": "1023040"
  },
  {
    "start": "1022000",
    "end": "1167000"
  },
  {
    "text": "so let's go ahead and add in a second route here so right now we have this route one I have another service in here",
    "start": "1023040",
    "end": "1030829"
  },
  {
    "text": "in my space and it's called secure app right so let's do a little demo with",
    "start": "1030830",
    "end": "1035880"
  },
  {
    "text": "that so if I go ahead and add a prefix of secure what's gonna happen now is I",
    "start": "1035880",
    "end": "1041640"
  },
  {
    "text": "have two different routes I have a route for slash which is going to send traffic to route app and I have a route for",
    "start": "1041640",
    "end": "1047250"
  },
  {
    "text": "slash secure which is going to the secure app so if we go ahead and apply that and if we do a curl again on the",
    "start": "1047250",
    "end": "1054450"
  },
  {
    "text": "routes you'll see do the TLS version we get the",
    "start": "1054450",
    "end": "1059760"
  },
  {
    "text": "default app which is what we wanted I do it on slash secure you'll see now I",
    "start": "1059760",
    "end": "1065700"
  },
  {
    "text": "get the secure site right so that's that's cool let's make this a little more interesting right I mentioned",
    "start": "1065700",
    "end": "1072510"
  },
  {
    "text": "before that conditions are all the requirements to make this this route match but I can do more now with with",
    "start": "1072510",
    "end": "1079860"
  },
  {
    "text": "contour than just prefix and previously so what I can do is I can add a header to this and I can say the header has a",
    "start": "1079860",
    "end": "1086370"
  },
  {
    "text": "name of X header and we'll say it contains the value ABC right so now",
    "start": "1086370",
    "end": "1093450"
  },
  {
    "text": "we're going to route on the existence of slash secure in the peep and the path as well as this header on the request so if",
    "start": "1093450",
    "end": "1100770"
  },
  {
    "text": "I go ahead and apply write and I do the same curl that I just did a minute ago",
    "start": "1100770",
    "end": "1105980"
  },
  {
    "text": "if we curl for slash secure what happens is I get the default site right and this",
    "start": "1105980",
    "end": "1111780"
  },
  {
    "text": "this is true because we we've required that the slash secure route have the",
    "start": "1111780",
    "end": "1117000"
  },
  {
    "text": "header existing on the request and it's not there so this other route is matching that condition right because",
    "start": "1117000",
    "end": "1122220"
  },
  {
    "text": "it's matching slash which is which is true but if I do the same request and I",
    "start": "1122220",
    "end": "1127830"
  },
  {
    "text": "add a header X header of ABC what you'll",
    "start": "1127830",
    "end": "1134790"
  },
  {
    "text": "see is I get the request to the secure app which so we've defined here and down here in the and the request if you see",
    "start": "1134790",
    "end": "1141300"
  },
  {
    "text": "here the bottom we can have the X header of ABC all right so again these all get",
    "start": "1141300",
    "end": "1146580"
  },
  {
    "text": "appended together and those all have to match for the proper request to work",
    "start": "1146580",
    "end": "1151670"
  },
  {
    "text": "something else we can do is again we can add it be a more realistic thing would be like a user agent so maybe I want to",
    "start": "1151670",
    "end": "1158910"
  },
  {
    "text": "say user agent is Chrome right let's",
    "start": "1158910",
    "end": "1164610"
  },
  {
    "text": "take this one off baby so if I go ahead and apply this one again and I come over to Chrome what I could see is if I go to",
    "start": "1164610",
    "end": "1172800"
  },
  {
    "start": "1167000",
    "end": "1247000"
  },
  {
    "text": "demo just I get the default site and if",
    "start": "1172800",
    "end": "1178590"
  },
  {
    "text": "I hit slash secure I get the app right because I'm actually in Chrome but if we switch browsers and",
    "start": "1178590",
    "end": "1185250"
  },
  {
    "text": "went to Firefox you see where I'm going I get the default site right I got the default one here because I'm asking for",
    "start": "1185250",
    "end": "1192180"
  },
  {
    "text": "only having Chrome and in the user-agent headers are neat I can also do the",
    "start": "1192180",
    "end": "1199350"
  },
  {
    "text": "reverse so I can say not contains so I could say hey I don't want Chrome and I don't want Firefox right so if I apply",
    "start": "1199350",
    "end": "1208500"
  },
  {
    "text": "that one now let me hop back to Firefox you'll see I get the default site",
    "start": "1208500",
    "end": "1214080"
  },
  {
    "text": "because we don't want Firefox if I switch to Chrome you'll see that in the",
    "start": "1214080",
    "end": "1220590"
  },
  {
    "text": "default one but if we come over here to Safari you'll see that it works right",
    "start": "1220590",
    "end": "1226710"
  },
  {
    "text": "because they can work this is not matching Chrome or Firefox it's matching Safari so there's how conditions can",
    "start": "1226710",
    "end": "1233940"
  },
  {
    "text": "work and function in your app so looks like this is one step further and let's look at delegation so I'm just going to",
    "start": "1233940",
    "end": "1240420"
  },
  {
    "text": "take these off for now and we'll have just the path now so what I do is I want",
    "start": "1240420",
    "end": "1247020"
  },
  {
    "text": "to go deploy it another app right so I have a marketing team and again the sooner have you talked about in the slides or we wanted to have the",
    "start": "1247020",
    "end": "1252450"
  },
  {
    "text": "marketing team have slash blog so what I can do is go ahead and deploy a marketing app if I do a good control I",
    "start": "1252450",
    "end": "1260360"
  },
  {
    "text": "will do marketing or one so we'll create a name space for our team and then what",
    "start": "1260360",
    "end": "1266610"
  },
  {
    "text": "apply some apps they're gonna have a couple sample apps that are gonna help",
    "start": "1266610",
    "end": "1272280"
  },
  {
    "text": "us deploy this thing all right cool so",
    "start": "1272280",
    "end": "1277380"
  },
  {
    "text": "now if I get my pods in the name space marketing you see I've got an application there and I also should have",
    "start": "1277380",
    "end": "1285590"
  },
  {
    "text": "proxy or two proxies right so I still have the route 1 which we deployed just a second ago and now I have this new one",
    "start": "1285590",
    "end": "1292470"
  },
  {
    "text": "in the marketing namespace and it's called blog site and the status right now is orphaned right because we haven't",
    "start": "1292470",
    "end": "1298650"
  },
  {
    "text": "defined a linkage between the route 1 and this other proxy we haven't you know linked them together let's go ahead and",
    "start": "1298650",
    "end": "1305520"
  },
  {
    "text": "do that so well do I'll go ahead and bring up my my route proxy which is here and then this one is my child 1 let's",
    "start": "1305520",
    "end": "1314400"
  },
  {
    "text": "let's put together so maybe this will help to see them again this is my route one here on the left and this is the child one here",
    "start": "1314400",
    "end": "1320010"
  },
  {
    "text": "living in the marketing namespace so what I want to do is I'm gonna go ahead and add this thing called include and",
    "start": "1320010",
    "end": "1326090"
  },
  {
    "text": "includes in contour work just like they would in a programming language so if I have a programming language and I say",
    "start": "1326090",
    "end": "1332250"
  },
  {
    "text": "hey I want to include a header file what happens is when that's before it's compiled that header file gets dumped in",
    "start": "1332250",
    "end": "1339000"
  },
  {
    "text": "the top of the of the code and then the whole the whole headers is processed or compiled the same thing happens here",
    "start": "1339000",
    "end": "1345390"
  },
  {
    "text": "right so if I have an include on an HTTP proxy you'll see that I can tell I can",
    "start": "1345390",
    "end": "1352350"
  },
  {
    "text": "add conditions on to this one before it's processed let's explain this so from the root one I'm gonna define I",
    "start": "1352350",
    "end": "1358620"
  },
  {
    "text": "have a proxy called blog site which matches blog site and it's in the namespace marketing and then I'm gonna",
    "start": "1358620",
    "end": "1365190"
  },
  {
    "text": "give it some conditions so by doing this I'm gonna link these two together and I'm gonna add these conditions to here",
    "start": "1365190",
    "end": "1370920"
  },
  {
    "text": "so let's go ahead and apply our route proxy right and then if we go ahead and",
    "start": "1370920",
    "end": "1378060"
  },
  {
    "text": "get our proxies again you'll see that now they should both be valid and they're valid because now we have a",
    "start": "1378060",
    "end": "1383280"
  },
  {
    "text": "proper linkage or a proper delegation from this route one over here to my child which is in the marketing",
    "start": "1383280",
    "end": "1388890"
  },
  {
    "text": "namespace and the result of what's gonna happen here is as if on this one we",
    "start": "1388890",
    "end": "1394470"
  },
  {
    "text": "define a set of conditions like this right this is what we contour goes to",
    "start": "1394470",
    "end": "1399960"
  },
  {
    "text": "process these these conditions will exist here automatically but we won't have to define them there right because",
    "start": "1399960",
    "end": "1406230"
  },
  {
    "text": "we're passing down these permissions automatically let's go ahead and test this out let's go back to here and we'll",
    "start": "1406230",
    "end": "1412860"
  },
  {
    "text": "check out our route route still works now if I hit slash blog what I'm expecting to see is the blog site here",
    "start": "1412860",
    "end": "1419700"
  },
  {
    "text": "we go I've got that but the cool part is is that for one this child proxy doesn't",
    "start": "1419700",
    "end": "1425880"
  },
  {
    "text": "have to deal with TLS they've done that off in the route site in a different namespace and right now they don't have",
    "start": "1425880",
    "end": "1431160"
  },
  {
    "text": "to deal with even the prefix because that's been passed off to them they have authority to manage slash blog again if",
    "start": "1431160",
    "end": "1437580"
  },
  {
    "text": "someone else made another path prefix of slash blog contour and throw that out because it doesn't have permissions cool",
    "start": "1437580",
    "end": "1445200"
  },
  {
    "text": "so now we can dig deeper right so we added a header to before so the same thing happens here",
    "start": "1445200",
    "end": "1450899"
  },
  {
    "text": "with conditions on includes the sum of all those conditions get passed off to your child so if I add a header",
    "start": "1450899",
    "end": "1457019"
  },
  {
    "text": "condition here and I call it name is the user-agent and we say it contains Chrome",
    "start": "1457019",
    "end": "1464669"
  },
  {
    "text": "do Chrome again again the result here is that I have a slash blog as the prefix",
    "start": "1464669",
    "end": "1472320"
  },
  {
    "text": "and now the condition is I have to have a user agent of Chrome right because all",
    "start": "1472320",
    "end": "1478139"
  },
  {
    "text": "of the conditions as a sum are passed off to this other proxy so we'll go",
    "start": "1478139",
    "end": "1483389"
  },
  {
    "text": "ahead and apply this route 1 again good so now in kernel this should still work",
    "start": "1483389",
    "end": "1489419"
  },
  {
    "text": "and it does she get the blog site here but if we hopped over to Firefox and hit",
    "start": "1489419",
    "end": "1495240"
  },
  {
    "text": "this path you'll see now I get the default site again because our child slash blog requires that we have both",
    "start": "1495240",
    "end": "1502619"
  },
  {
    "text": "the path slash blog as well as the huge agent user agent chrome and that doesn't",
    "start": "1502619",
    "end": "1507659"
  },
  {
    "text": "match so that's why it's not working so you can see where this is kind of powerful if you had to have a bunch of",
    "start": "1507659",
    "end": "1512999"
  },
  {
    "text": "things exist on a request you can define them up here and again the sum of that rolls down I go so another demo we can",
    "start": "1512999",
    "end": "1519749"
  },
  {
    "text": "do real quick is the marketing team wants to deploy an info site right so within their own namespace let's do a",
    "start": "1519749",
    "end": "1526049"
  },
  {
    "text": "self delegation let's have it them delegate to themselves and see how this functions so what I have here is I've",
    "start": "1526049",
    "end": "1532529"
  },
  {
    "text": "got two more apps I've got these info sites so if we go ahead and apply",
    "start": "1532529",
    "end": "1538070"
  },
  {
    "text": "marketing and we'll do three give the info deployment as well as the info",
    "start": "1539570",
    "end": "1545779"
  },
  {
    "text": "proxy so now again if you look at our",
    "start": "1545779",
    "end": "1551100"
  },
  {
    "text": "proxy it should have three of them on the blog sites valid the routes valid but this new one here this info one is",
    "start": "1551100",
    "end": "1556619"
  },
  {
    "text": "orphaned because we haven't done any delegations to it let's go wire that one up and see how this looks so let's get",
    "start": "1556619",
    "end": "1563249"
  },
  {
    "text": "an include and now we're going to add it include to our child right so now on",
    "start": "1563249",
    "end": "1572039"
  },
  {
    "text": "this include Here I am alright",
    "start": "1572039",
    "end": "1577700"
  },
  {
    "text": "if we add this include here this acts as adding additional conditions to any of",
    "start": "1582170",
    "end": "1587870"
  },
  {
    "text": "its children right so the root owns project contour da do and it passes off",
    "start": "1587870",
    "end": "1593510"
  },
  {
    "text": "/blog to this proxy here now this proxy is gonna add additional conditions and",
    "start": "1593510",
    "end": "1598910"
  },
  {
    "text": "pass it off to another child right so it has another child of its own and that's the slash info and this should all wire",
    "start": "1598910",
    "end": "1605180"
  },
  {
    "text": "up so let's go ahead and save this child one here in marketing so we'll apply",
    "start": "1605180",
    "end": "1610520"
  },
  {
    "text": "marketing o to proxy great now if we go",
    "start": "1610520",
    "end": "1616640"
  },
  {
    "text": "and get our proxies here we'll see they're all valid because we've tied them all together but what happens now is the result of this child 3 of slash",
    "start": "1616640",
    "end": "1624890"
  },
  {
    "text": "info gets everything appended together so the result should be slash blog slash",
    "start": "1624890",
    "end": "1630050"
  },
  {
    "text": "info as well as the user agent of Chrome right because these all these conditions",
    "start": "1630050",
    "end": "1635660"
  },
  {
    "text": "are getting applied down the chain because of the includes let's go validate that this works so I'll think",
    "start": "1635660",
    "end": "1643160"
  },
  {
    "text": "it over to Chrome so slash blog should still do the blog site if I hit slash blog / info what you'll see here now is",
    "start": "1643160",
    "end": "1651290"
  },
  {
    "text": "I get the info site which is what we wanted right but if I tackle this into",
    "start": "1651290",
    "end": "1656690"
  },
  {
    "text": "Chrome or I'm sorry Firefox this should be the default site right and it is because again of our conditions but you",
    "start": "1656690",
    "end": "1664010"
  },
  {
    "text": "can see here how this is kind of powerful right I can carve off pieces of my path pieces of headers whatever it",
    "start": "1664010",
    "end": "1670220"
  },
  {
    "text": "whatever I'd like whatever I need to do and you just don't have to deal with all of that that logic but just they can",
    "start": "1670220",
    "end": "1675950"
  },
  {
    "text": "just focus on on managing their own infrastructure within their own namespace cool so that is deployments",
    "start": "1675950",
    "end": "1683360"
  },
  {
    "text": "let's go ahead and do a quick blue green and querida planet",
    "start": "1683360",
    "end": "1688790"
  },
  {
    "text": "and and we'll poke through that real quick so what I'll do is I'll go deploy",
    "start": "1688790",
    "end": "1694070"
  },
  {
    "start": "1692000",
    "end": "2007000"
  },
  {
    "text": "two more things so here I've got a blue deployment and the green deployment and they basically just spit out this is the",
    "start": "1694070",
    "end": "1699230"
  },
  {
    "text": "green site or this is the blue site that's again just to help us to visualize this a little easier so let's go ahead and apply our marketing then",
    "start": "1699230",
    "end": "1708260"
  },
  {
    "text": "we'll do for green as well as before blue all right cool so now if I get my",
    "start": "1708260",
    "end": "1716419"
  },
  {
    "text": "services we'll see in marketing we'll see I've",
    "start": "1716419",
    "end": "1722240"
  },
  {
    "text": "got four but now I've got blue and green all right so let's go ahead and update the slash blog here and we'll change",
    "start": "1722240",
    "end": "1729679"
  },
  {
    "text": "this one to blue right so now when we hit slash blog I'd expect to see the blue deployment",
    "start": "1729679",
    "end": "1736040"
  },
  {
    "text": "respond so we'll go ahead and apply our proxy too right so we deployed that",
    "start": "1736040",
    "end": "1742040"
  },
  {
    "text": "child there and just to verify this we'll go ahead and refresh slash blog",
    "start": "1742040",
    "end": "1747160"
  },
  {
    "text": "you see we get the blue site let's go ahead and look at doing a canary",
    "start": "1747160",
    "end": "1752390"
  },
  {
    "text": "deployment so canary deployment works where you have two services you've got",
    "start": "1752390",
    "end": "1757640"
  },
  {
    "text": "your current version and your new version and what you want to do is slowly move traffic over to the new version or the green version so your",
    "start": "1757640",
    "end": "1763580"
  },
  {
    "text": "production is blue and your new version is green and we're gonna slowly turn the knobs and and send traffic from one",
    "start": "1763580",
    "end": "1769880"
  },
  {
    "text": "version to the next but do it in a paste environment this can be done easily with contour now",
    "start": "1769880",
    "end": "1774919"
  },
  {
    "text": "because we can do multiple up streams so what I can do is copy this and I can",
    "start": "1774919",
    "end": "1780320"
  },
  {
    "text": "make this screen right mmm so I can have multiple services on an ingress resource so now what I can do is",
    "start": "1780320",
    "end": "1788360"
  },
  {
    "text": "also add a weight so I could say hey Luke it's a hundred percent over a hundred points and the green one gets",
    "start": "1788360",
    "end": "1795290"
  },
  {
    "text": "zero so if we go ahead and apply this",
    "start": "1795290",
    "end": "1800500"
  },
  {
    "text": "let's do this real quick I have this let's do it I steal a while loop on this",
    "start": "1801190",
    "end": "1807470"
  },
  {
    "text": "here we go so for every half a second we'll curl for that site right this will",
    "start": "1807470",
    "end": "1812540"
  },
  {
    "text": "help us see it so you can see here well so here's the thing so I'm getting a",
    "start": "1812540",
    "end": "1818330"
  },
  {
    "text": "default site because my route is requiring the user agent of chrome now I'll have that because I'm",
    "start": "1818330",
    "end": "1823460"
  },
  {
    "text": "using curl let's go ahead and change that real quick and take that requirement out actually just do it here",
    "start": "1823460",
    "end": "1828740"
  },
  {
    "text": "and just take a curl now we should get",
    "start": "1828740",
    "end": "1835940"
  },
  {
    "text": "blue there we go okay so what I want to",
    "start": "1835940",
    "end": "1841460"
  },
  {
    "text": "see now is that it's using I have again two up streams I have one blue service than one green service right now I have",
    "start": "1841460",
    "end": "1848780"
  },
  {
    "text": "a hundred percent of the traffic going to blue and you can see I'm getting the blue site over and over if I want I can switch this around I could say let's",
    "start": "1848780",
    "end": "1854630"
  },
  {
    "text": "send eighty here and ten here all right so now if we apply this one what I",
    "start": "1854630",
    "end": "1860750"
  },
  {
    "text": "should get is mostly the blue but I'll get some green every now and again there",
    "start": "1860750",
    "end": "1875570"
  },
  {
    "text": "it is I saw cream in there cool so as we can what we can do now is watch our metrics watch our performance see how this is performing if well we",
    "start": "1875570",
    "end": "1882980"
  },
  {
    "text": "can go 50-50 split the traffic mostly I",
    "start": "1882980",
    "end": "1887380"
  },
  {
    "text": "mean you can do this as fast or slow as you'd like now we're getting a blue and green pretty much 50/50 once we're happy",
    "start": "1888070",
    "end": "1894590"
  },
  {
    "text": "with that will switch to 1090 apply that",
    "start": "1894590",
    "end": "1900350"
  },
  {
    "text": "one we should get most mostly the green site now cool mostly the green site",
    "start": "1900350",
    "end": "1906290"
  },
  {
    "text": "every day not again we should get a blue there we go and once we're happy we can",
    "start": "1906290",
    "end": "1912260"
  },
  {
    "text": "ship it all so let me this is zero and make just one hundred I will apply that and now we've done a successful blue",
    "start": "1912260",
    "end": "1918560"
  },
  {
    "text": "canary deployment from blue to green right so that's canary a Bluegreen",
    "start": "1918560",
    "end": "1925190"
  },
  {
    "text": "deployment works in the same vein but instead of shifting traffic slowly we're gonna shift traffic all at once right",
    "start": "1925190",
    "end": "1930980"
  },
  {
    "text": "this may be because you have a maybe requirement on a database that can't handle both versions or maybe your",
    "start": "1930980",
    "end": "1937280"
  },
  {
    "text": "application just can't live with having two versions at the same time was just a totally reasonable thing we can do it a",
    "start": "1937280",
    "end": "1943430"
  },
  {
    "text": "couple ways we can solve with weights right so just like this right now I could switch back to blue by making this",
    "start": "1943430",
    "end": "1949190"
  },
  {
    "text": "one 100 making this in zero now I've given blue one hundred percent",
    "start": "1949190",
    "end": "1954790"
  },
  {
    "text": "giving green zero so if I apply this we'll see an instance switch to blue one",
    "start": "1954790",
    "end": "1959800"
  },
  {
    "text": "way to do it I know we could do it here so we could just obviously switch the service right now we're at blue I could",
    "start": "1959800",
    "end": "1966880"
  },
  {
    "text": "just make this screen right and if I apply this one will do it instant switch from blue to green and the last thing we",
    "start": "1966880",
    "end": "1975670"
  },
  {
    "text": "could do it would be to use use delegation right so I right now I have",
    "start": "1975670",
    "end": "1981040"
  },
  {
    "text": "include sending traffic here I can create a whole new set of proxies and then swap those delegation chains and",
    "start": "1981040",
    "end": "1987190"
  },
  {
    "text": "that would be an easy way to do as well the nice thing about that one is that you're not gonna be breaking any existing infrastructure right you leave",
    "start": "1987190",
    "end": "1993880"
  },
  {
    "text": "everything kind of sitting as is you swap the proxies if you see an issue you can roll back seamlessly cool so I think",
    "start": "1993880",
    "end": "2003300"
  },
  {
    "text": "that is all all the demo that I had",
    "start": "2003300",
    "end": "2008210"
  },
  {
    "start": "2007000",
    "end": "2039000"
  },
  {
    "text": "which is a lot so thanks very much sticking around so here's just gonna give you a click after all that a quick",
    "start": "2009680",
    "end": "2015060"
  },
  {
    "text": "overview of the roadmap of contour so contour is gonna hit 1.0 here in early November so tomorrow we're gonna ship an",
    "start": "2015060",
    "end": "2020610"
  },
  {
    "text": "RC one and two weeks will ship at RC two and then come hang out with us the coop con much of the team will be there I",
    "start": "2020610",
    "end": "2027570"
  },
  {
    "text": "have it I was speaking at on VidCon about some of these things and will be all over the place so come come here",
    "start": "2027570",
    "end": "2032760"
  },
  {
    "text": "with us and chat very interested to see I mean they'll meet all of you and see you see your use cases and then here's",
    "start": "2032760",
    "end": "2040920"
  },
  {
    "text": "how if you want to help get started in contour you can check us out at project contoured on Io we have a slot channel",
    "start": "2040920",
    "end": "2046860"
  },
  {
    "text": "and kubernetes that's hashtag contour you can follow us on Twitter we have community meetings every third Tuesday",
    "start": "2046860",
    "end": "2052350"
  },
  {
    "text": "so if you want to hop on a call and chat about anything that's going on or anything that we're doing and we also",
    "start": "2052350",
    "end": "2058200"
  },
  {
    "text": "have a bunch of issues labeled with good first issue and Help Wanted so if you want to help contribute happy to help",
    "start": "2058200",
    "end": "2063540"
  },
  {
    "text": "you jump in and help out that's all I have so many questions we can go run",
    "start": "2063540",
    "end": "2069990"
  },
  {
    "text": "this Wow great presentation Steve thank you so much so we do have questions quite a bit let's see so servers",
    "start": "2069990",
    "end": "2077940"
  },
  {
    "text": "questions in chat and I tried to answer it but basically contour can work across",
    "start": "2077940",
    "end": "2085040"
  },
  {
    "text": "multi sown clusters multi-region cluster it could work across federated clusters",
    "start": "2085040",
    "end": "2090360"
  },
  {
    "text": "I'm assuming - yeah so contour is meant to work within a single cluster so",
    "start": "2090360",
    "end": "2097050"
  },
  {
    "start": "2092000",
    "end": "2200000"
  },
  {
    "text": "contour itself is just an ingress controller for one cluster so it's its boundary I think it's going to be that one cluster if you had to do a multi",
    "start": "2097050",
    "end": "2104490"
  },
  {
    "text": "cluster type thing there's something that we have called gimble which aims to solve that so the idea there is you can have multiple clusters that miss could",
    "start": "2104490",
    "end": "2111870"
  },
  {
    "text": "be kubernetes or OpenStack or anything else its goal is to go scrape those clusters and then basically turn a",
    "start": "2111870",
    "end": "2117960"
  },
  {
    "text": "cluster into a routing cluster and use the power of contour here with delegation everything to then send",
    "start": "2117960",
    "end": "2123330"
  },
  {
    "text": "traffic to multiple clusters but nice any of those multi cloud multi cluster things always needs a conversation I",
    "start": "2123330",
    "end": "2130830"
  },
  {
    "text": "think to chat about how you're gonna implement that and have it look and work yes but inherently contour itself out of the",
    "start": "2130830",
    "end": "2137760"
  },
  {
    "text": "box is only a single cluster solution cool all right thank you does contour support TCP traffic it does",
    "start": "2137760",
    "end": "2146370"
  },
  {
    "text": "yes so you can expose in L 4 we do that over S&I so you still have to have it being a TLS endpoint but we can route",
    "start": "2146370",
    "end": "2153690"
  },
  {
    "text": "TCP in there through S&I yes cool see just contour address the use case of",
    "start": "2153690",
    "end": "2160410"
  },
  {
    "text": "developers controlling defining the fqdn effectively managing dns or it only",
    "start": "2160410",
    "end": "2166170"
  },
  {
    "text": "works downstream so contour doesn't reach backwards so right now it's",
    "start": "2166170",
    "end": "2172410"
  },
  {
    "text": "assuming like you know I had my example I was using project contour at i/o I had done DNS and set up a load balancer and",
    "start": "2172410",
    "end": "2178800"
  },
  {
    "text": "done all that work behind the scenes so contour doesn't go out and you know and programmatically set up gns for you",
    "start": "2178800",
    "end": "2185040"
  },
  {
    "text": "that's something that's that's on you to get set up today right got it cool ok",
    "start": "2185040",
    "end": "2191460"
  },
  {
    "text": "talk about the secret management with regards to contour how are they managed differently than like normal kubernetes",
    "start": "2191460",
    "end": "2196800"
  },
  {
    "text": "secrets what's the process there sure so I'm so secrets so you notice I had that",
    "start": "2196800",
    "end": "2203460"
  },
  {
    "start": "2200000",
    "end": "2399000"
  },
  {
    "text": "route proxies namespace and I just mention this but what you can do is you can for one thing you can do is you can",
    "start": "2203460",
    "end": "2209250"
  },
  {
    "text": "put all your secrets in a set of namespaces and then I can tell contour that this these root namespaces are only",
    "start": "2209250",
    "end": "2215460"
  },
  {
    "text": "where root proxies can live and that key will basically if someone else creates a root proxy outside of one of those",
    "start": "2215460",
    "end": "2221340"
  },
  {
    "text": "contour will throw it out right so limits the surface area of where those can live within there's route proxy namespaces that's where you",
    "start": "2221340",
    "end": "2228210"
  },
  {
    "text": "can store all of your certificates so based on that contour if you delegate",
    "start": "2228210",
    "end": "2233490"
  },
  {
    "text": "off paths or headers to other namespaces now all the secrets live in one namespace but your users can consume",
    "start": "2233490",
    "end": "2239910"
  },
  {
    "text": "them from other namespaces that's the one generic scenario the other way you can do it is through a thing called TLS",
    "start": "2239910",
    "end": "2245790"
  },
  {
    "text": "certificate delegation so what I can do is I can we have another serie called a GLS certificate delegation and what it",
    "start": "2245790",
    "end": "2252720"
  },
  {
    "text": "does is you can say I have a certificate here in this namespace I'm gonna go delegate permission to",
    "start": "2252720",
    "end": "2257880"
  },
  {
    "text": "another namespace so contour so it's just a it's a software based delegation and from that other namespace the team",
    "start": "2257880",
    "end": "2264660"
  },
  {
    "text": "namespace you're able to say hey I'm gonna reference a secret which doesn't physically exist in that namespace but",
    "start": "2264660",
    "end": "2270840"
  },
  {
    "text": "you can still use it because of the linkage you set up with that delegation chain so contrib will make it all happen behind the scenes for you so basically",
    "start": "2270840",
    "end": "2278100"
  },
  {
    "text": "now your users can still reference secrets where they want to but the actual secret will live in a different namespace from the user yeah I mean it",
    "start": "2278100",
    "end": "2287460"
  },
  {
    "text": "makes sense to me there might be follow-up questions are coming in after that explanation but we'll try to get to",
    "start": "2287460",
    "end": "2292890"
  },
  {
    "text": "them what authentication schemes does contour support basic digest so off I'm",
    "start": "2292890",
    "end": "2300300"
  },
  {
    "text": "assuming that's kind of not inside contours purview or maybe it is so there's an open issue to talk about",
    "start": "2300300",
    "end": "2306750"
  },
  {
    "text": "I'm off so it's come up a lot where folks want it you know have it have contour help out with that I'm today",
    "start": "2306750",
    "end": "2312330"
  },
  {
    "text": "there isn't there isn't a story around having off where contour is going to manage that for you but there is an open",
    "start": "2312330",
    "end": "2318630"
  },
  {
    "text": "issue which I think join us get up let's maybe look at or fine to go comment on so again we're very feature driven and",
    "start": "2318630",
    "end": "2324990"
  },
  {
    "text": "feedback driven so whatever users are wanting let us know open issues that's the best way to get good feedback to us",
    "start": "2324990",
    "end": "2332640"
  },
  {
    "text": "but today yeah there isn't any off and the off story in contour cool good to know regarding weight distribution in",
    "start": "2332640",
    "end": "2340380"
  },
  {
    "text": "Canary what happens if the total sum of weights is not 100 yeah so I always use",
    "start": "2340380",
    "end": "2346320"
  },
  {
    "text": "100 because these are for me to to grok in a demo but those weights are all arbitrary you could have it be you know",
    "start": "2346320",
    "end": "2351900"
  },
  {
    "text": "one one one or three three three all so we'll just basically take the sum of all the make that two total so you can use",
    "start": "2351900",
    "end": "2359579"
  },
  {
    "text": "whatever numbers you'd like you could use ten thousand and ten thousand and that'll work as well they're all just arbitrary however you want to",
    "start": "2359579",
    "end": "2365339"
  },
  {
    "text": "manage those those percentages or those those values okay okay here we go all",
    "start": "2365339",
    "end": "2381749"
  },
  {
    "text": "right you'll love this one if only one classic ingress controller is deployed in the cluster we usually get performance hit if some",
    "start": "2381749",
    "end": "2388319"
  },
  {
    "text": "team is deploying a lot of changes breaking traffic from our other teams during reconfiguring for example does",
    "start": "2388319",
    "end": "2394170"
  },
  {
    "text": "contour address this issue and I think the answer is yes but please explain how sure yeah so contrast shouldn't you",
    "start": "2394170",
    "end": "2400799"
  },
  {
    "text": "shouldn't see an issue with busy clusters because because of how envoy we talked to envoy so envoy doesn't have to",
    "start": "2400799",
    "end": "2407640"
  },
  {
    "text": "restart or do any kind of reboot logic Ollie will take those changes as fast as",
    "start": "2407640",
    "end": "2413279"
  },
  {
    "text": "we can push them down that JIRA PC connection so there's there's no issue there there is a usually there's a",
    "start": "2413279",
    "end": "2419640"
  },
  {
    "text": "there's an initial startup time so as when you first turn on contour it's got to go and scrape the entire cluster and",
    "start": "2419640",
    "end": "2425009"
  },
  {
    "text": "get all of the services and endpoints and all those things depending on the size of that there could be a small hit but it's never really noticeable so yeah",
    "start": "2425009",
    "end": "2432179"
  },
  {
    "text": "you shouldn't Alesi an issue of lag in terms of configuration changes and seeing it happen in real time okay cool",
    "start": "2432179",
    "end": "2439380"
  },
  {
    "text": "so there's oh how can I change the admin",
    "start": "2439380",
    "end": "2444420"
  },
  {
    "text": "port number for envoy with contour so you can't do it contour right now we",
    "start": "2444420",
    "end": "2450900"
  },
  {
    "text": "don't expose that that ports it publicly so it's it's it's hidden behind it's",
    "start": "2450900",
    "end": "2456599"
  },
  {
    "text": "only on localhost from the pod so I know we can get to unless you can you know port forward to that pod those contour",
    "start": "2456599",
    "end": "2463319"
  },
  {
    "text": "support web application firewalls it does not today that requires the custom",
    "start": "2463319",
    "end": "2468900"
  },
  {
    "text": "build of Envoy so you'd have to have a custom build of that so no we don't support that today all right so the next",
    "start": "2468900",
    "end": "2476819"
  },
  {
    "text": "series of questions and I will leave this to you is comparison how does",
    "start": "2476819",
    "end": "2481920"
  },
  {
    "text": "contour compared to engine X which Rafiq or you know how do you look at contour",
    "start": "2481920",
    "end": "2487529"
  },
  {
    "text": "and the scope of its tio I can you can handle those how you see fit",
    "start": "2487529",
    "end": "2493760"
  },
  {
    "text": "sure so in terms of SEO so contour is not a service mesh right so you can do",
    "start": "2493760",
    "end": "2499910"
  },
  {
    "start": "2494000",
    "end": "2633000"
  },
  {
    "text": "some service mesh type things but I think depending on what your needs are sometimes you don't need to deploy a",
    "start": "2499910",
    "end": "2505700"
  },
  {
    "text": "full mesh but that's a different conversation in terms of how contour compares to the nginx and traffic in",
    "start": "2505700",
    "end": "2511550"
  },
  {
    "text": "those folks you know and your necks has been around like forever and eight traffic's been around a lot longer as well so I think there's more knobs under",
    "start": "2511550",
    "end": "2518540"
  },
  {
    "text": "the hood and because that's contour apart is is this this proxy CRT right I think you're you just will be happy",
    "start": "2518540",
    "end": "2524990"
  },
  {
    "text": "you'll be happy you'll gain a lot of a lot of gains from having that that C or",
    "start": "2524990",
    "end": "2530870"
  },
  {
    "text": "D not dealing with with ingress today that said you know contour still supports ingress as is you know the",
    "start": "2530870",
    "end": "2536510"
  },
  {
    "text": "upstream Kerberos ingress so you can still use that I know it's all I demoed today was our C or D but we still",
    "start": "2536510",
    "end": "2542450"
  },
  {
    "text": "support normal ingress objects as well so release whatever whatever you feel like using I feel like having ongoing",
    "start": "2542450",
    "end": "2548090"
  },
  {
    "text": "the backend is a big wing again with those dynamic updates on what self is a",
    "start": "2548090",
    "end": "2553340"
  },
  {
    "text": "big community so you know it's growing and it has lots of patches and security winces which is good I'm sorry",
    "start": "2553340",
    "end": "2559040"
  },
  {
    "text": "whatever it fits you I think is the best but yeah cool this is a contour support",
    "start": "2559040",
    "end": "2565790"
  },
  {
    "text": "h2 or HTTP 2g RPC traffic and a load balancer across all the pods of a",
    "start": "2565790",
    "end": "2572210"
  },
  {
    "text": "service yes so you can if you annotate the service with those those parameters",
    "start": "2572210",
    "end": "2578870"
  },
  {
    "text": "we can do that HTTP to G right PC connection then you can also have multiple up streams in your in your",
    "start": "2578870",
    "end": "2586120"
  },
  {
    "text": "redefinition so it'll it'll send them traffic across all of them what was the",
    "start": "2586120",
    "end": "2591170"
  },
  {
    "text": "last part to all pods and a service you did you come oh yeah yeah yeah so all",
    "start": "2591170",
    "end": "2597470"
  },
  {
    "text": "pods yeah so envoy so contour will use his envoy will route to endpoints right",
    "start": "2597470",
    "end": "2602570"
  },
  {
    "text": "so we use the service in cure bays just to go discover the end points but contours like envoy itself is doing the",
    "start": "2602570",
    "end": "2608120"
  },
  {
    "text": "routing so we can actually we didn't demo it but you can change the routing algorithm if you like so right now it's",
    "start": "2608120",
    "end": "2613310"
  },
  {
    "text": "lead waist or its round robin you can do it lead device lead it least weighted",
    "start": "2613310",
    "end": "2618530"
  },
  {
    "text": "request in different types like that yeah so it it is got a ten points awesome so have you seen many people",
    "start": "2618530",
    "end": "2627289"
  },
  {
    "text": "migrate from engine X to Commodore and what kind of problems have they had yeah",
    "start": "2627289",
    "end": "2633539"
  },
  {
    "start": "2633000",
    "end": "2705000"
  },
  {
    "text": "I mean we have users you know all the time coming in and saying hey I'm using this this is cool",
    "start": "2633539",
    "end": "2638809"
  },
  {
    "text": "problems come up I'm trying to think we have a few bugs recently just cause we have this the you know the road to one",
    "start": "2638809",
    "end": "2645299"
  },
  {
    "text": "dodo we switched to a whole new series so we've got a couple of things there but oh no I think those are getting",
    "start": "2645299",
    "end": "2650789"
  },
  {
    "text": "ironed out you know we have some users that have different scaling issues that you know some people have again it's",
    "start": "2650789",
    "end": "2657059"
  },
  {
    "text": "always the unique environments that you don't plan the 4020 role right yeah yeah so those things come up you know or you",
    "start": "2657059",
    "end": "2662999"
  },
  {
    "text": "should just want like new features like hey it'd be cool if I could do this thing or I could have this feature and then let's chat about that and see see",
    "start": "2662999",
    "end": "2668969"
  },
  {
    "text": "how we can best implement that so yeah so I think it's it's it's been going it's a growing community and it's it's",
    "start": "2668969",
    "end": "2675210"
  },
  {
    "text": "on it's been exciting to see you users you know using it more and more that's awesome ah see Oh someone just came in with a",
    "start": "2675210",
    "end": "2683940"
  },
  {
    "text": "question sorry let me answer long time",
    "start": "2683940",
    "end": "2692549"
  },
  {
    "text": "okay let me preface this with the end of this question a long time a contour user from pre 0.9 days why the rename of",
    "start": "2692549",
    "end": "2701549"
  },
  {
    "text": "ingress routes erd to HTTP proxy sure so if you so generous if you coming out",
    "start": "2701549",
    "end": "2707819"
  },
  {
    "start": "2705000",
    "end": "2830000"
  },
  {
    "text": "with this one just to UM Dave Cheney he's our tech lead here on contour he wrote a blog post on this which should help explain it but the short answer is",
    "start": "2707819",
    "end": "2715190"
  },
  {
    "text": "one ingress route is confusing because there's the kubernetes ingress object there's a generic term ingress and then",
    "start": "2715190",
    "end": "2722460"
  },
  {
    "text": "there's this thing called ingress route that we created so it's when you say ingress it's like what's what version",
    "start": "2722460",
    "end": "2727650"
  },
  {
    "text": "you talking about the object our object the generic turn and then it aligns more",
    "start": "2727650",
    "end": "2733019"
  },
  {
    "text": "proxy aligns more with what we're doing you know we're in HTTP l7 proxy it is",
    "start": "2733019",
    "end": "2738059"
  },
  {
    "text": "confusing with the l4 component of that but at its heart and soul I think on contours this you know as an",
    "start": "2738059",
    "end": "2743249"
  },
  {
    "text": "ingress controller so reach out to that and and to that blog post and that should help hopefully answer some",
    "start": "2743249",
    "end": "2749309"
  },
  {
    "text": "questions if not come find us and I'm just lack and we can we can chat about it some more nice a last question about",
    "start": "2749309",
    "end": "2755670"
  },
  {
    "text": "Yaeger Tracey enabled Viacom tour I would think you can answer that but I think those are two separate issues yeah I'm not sure if",
    "start": "2755670",
    "end": "2762990"
  },
  {
    "text": "you've ever set up tracing with anything we have to dig into that I do good issue I'm gonna open that up we can investigate that yeah definitely the",
    "start": "2762990",
    "end": "2769950"
  },
  {
    "text": "Nash right like definitely post that issue asking that question I get help page or in the Select channel potentially you could spark a discussion",
    "start": "2769950",
    "end": "2775740"
  },
  {
    "text": "for sure absolutely so you're gonna be a cube comm right VMware got a big boost big presents",
    "start": "2775740",
    "end": "2781650"
  },
  {
    "text": "Steve you're gonna be there Jonas is also I'm assuming gonna be there or maybe I think he's in the other will",
    "start": "2781650",
    "end": "2788250"
  },
  {
    "text": "awesome thank you he's in the chat dropping answers for everybody so thank you so much Jonas",
    "start": "2788250",
    "end": "2794190"
  },
  {
    "text": "so we look forward to seeing everybody there at Keuka I'll be there as well stop by the slack channel for sure and",
    "start": "2794190",
    "end": "2801110"
  },
  {
    "text": "github page is get up comm slash pressure contour right yes okay cool",
    "start": "2801110",
    "end": "2807630"
  },
  {
    "text": "and yes do you've anything else before we go no I think that's it thank so much",
    "start": "2807630",
    "end": "2812940"
  },
  {
    "text": "your time and again I reach out and open issues and chat with us happy to chat about anything so thanks for your time",
    "start": "2812940",
    "end": "2818790"
  },
  {
    "text": "yeah thank you everyone for joining us today we look forward to seeing you at a future CN CF webinar have a good one",
    "start": "2818790",
    "end": "2826640"
  }
]