[
  {
    "text": "hello everyone thanks for coming and joining us today we have some really exciting stuff to talk about um today we",
    "start": "240",
    "end": "6720"
  },
  {
    "text": "are going to be discussing uh the intro and project upgra update to the network policy API subgroup to Sig Network this",
    "start": "6720",
    "end": "14480"
  },
  {
    "text": "is an exciting time for us we've never kind of had a main stage at cubec con so we're really excited to tell everyone",
    "start": "14480",
    "end": "21800"
  },
  {
    "text": "what we're doing um my name is Andrew stokus I am one of the maintainers for the network policy API uh repo and I",
    "start": "21800",
    "end": "29640"
  },
  {
    "text": "work at Red Hat as a senior software engineer my name my name is Dan winchip",
    "start": "29640",
    "end": "36960"
  },
  {
    "text": "uh I also work at Red Hat on various open shift networking",
    "start": "36960",
    "end": "42280"
  },
  {
    "text": "stuff I'm Sia and I'm also an engineer working at Red Hat I contribute a lot to",
    "start": "42280",
    "end": "47320"
  },
  {
    "text": "the Sig Network policy API working group happy to be here at ccon um my name is Yan and I work in VMware um in terms of",
    "start": "47320",
    "end": "55640"
  },
  {
    "text": "container networking and security stuff and I'm also a part of the work same working group so hand it back to Andrew",
    "start": "55640",
    "end": "63199"
  },
  {
    "text": "sweet thanks everybody okay so we just learned a little bit about who we are um at least",
    "start": "63199",
    "end": "69240"
  },
  {
    "text": "the four of us here there are more um but what do we do and where did we kind",
    "start": "69240",
    "end": "74640"
  },
  {
    "text": "of come from so for a long time um Network policy was just maintained by",
    "start": "74640",
    "end": "80680"
  },
  {
    "text": "the core Sig Network group um and obviously it's been a stable API for a long time I'm sure many of you know it",
    "start": "80680",
    "end": "86720"
  },
  {
    "text": "who here has knows about Network policy who here uses Network policy on a",
    "start": "86720",
    "end": "92520"
  },
  {
    "text": "regular basis that's a lot of people I'm aw awesome I'm stoked about that cool so",
    "start": "92520",
    "end": "98240"
  },
  {
    "text": "yeah we basically spawned out of Sig Network as a group who wanted to focus specifically on network policy and focus",
    "start": "98240",
    "end": "105399"
  },
  {
    "text": "on the future of it because it quickly has become apparent that um doing the future in core was going to be very",
    "start": "105399",
    "end": "112439"
  },
  {
    "text": "difficult and projects like Gateway API have really kind of led the way in delivering stuff with crd so you're",
    "start": "112439",
    "end": "118520"
  },
  {
    "text": "going to see a lot of threads that are similar with that project uh here today um we have a really good group of",
    "start": "118520",
    "end": "124280"
  },
  {
    "text": "contributors um you're going to see some actual pictures of them later on in the slideshow but you can check out all our",
    "start": "124280",
    "end": "129440"
  },
  {
    "text": "contributors at this link um so what do we do we help maintain the Legacy Network policy resource that includes",
    "start": "129440",
    "end": "135800"
  },
  {
    "text": "documentation work um additionally we have completely reworked the Upstream Network policy test Suite that works",
    "start": "135800",
    "end": "141959"
  },
  {
    "text": "almost a year and a half old now but that's what got us started uh we converted it to use full uh table driven",
    "start": "141959",
    "end": "148800"
  },
  {
    "text": "test design and I think it helped the community a lot more recently we've worked on the admin Network policy kep",
    "start": "148800",
    "end": "155200"
  },
  {
    "text": "we actually had a talk yesterday on that um and we're going to learn more about it today and we're going to tell you",
    "start": "155200",
    "end": "160319"
  },
  {
    "text": "what we're doing um in the upcoming year as",
    "start": "160319",
    "end": "165280"
  },
  {
    "text": "well over to Dan",
    "start": "165760",
    "end": "172800"
  },
  {
    "text": "okay okay so a long time ago in a galaxy right here uh we created Network policy",
    "start": "173120",
    "end": "180800"
  },
  {
    "text": "version one the idea was that developers using kubernetes had ideas about who",
    "start": "180800",
    "end": "186120"
  },
  {
    "text": "they did and didn't want to be talking to their pods so we have one use case here as an application developer I want",
    "start": "186120",
    "end": "192000"
  },
  {
    "text": "to control which other users within the cluster can access my application so you might have you know two different groups",
    "start": "192000",
    "end": "198040"
  },
  {
    "text": "of users you don't want the people in the other group connecting to your service so you create a network policy",
    "start": "198040",
    "end": "203159"
  },
  {
    "text": "saying only the people in my group can talk to this server another possibility as an application developer I want to",
    "start": "203159",
    "end": "209159"
  },
  {
    "text": "have a multi tiered architecture where I can control access between pods in each tier so this is like you have your front",
    "start": "209159",
    "end": "215760"
  },
  {
    "text": "end name space your backend name space in your database name space and the front end can talk to the back end and",
    "start": "215760",
    "end": "221200"
  },
  {
    "text": "the back end can talk to the database but the front end can't talk to the database and in fact nobody other than the backend can talk to the database and",
    "start": "221200",
    "end": "227879"
  },
  {
    "text": "then if a hacker breaks into the cluster then it it's limited what they can do because of the policies that you",
    "start": "227879",
    "end": "235280"
  },
  {
    "text": "created now one thing that is not a use case for a network policy is as a cluster administrator I want to impose",
    "start": "235280",
    "end": "242360"
  },
  {
    "text": "my policies on end users in my cluster",
    "start": "242360",
    "end": "247439"
  },
  {
    "text": "um back when we you know so this was designed in 2016 at at the time most",
    "start": "247439",
    "end": "252920"
  },
  {
    "text": "kubernetes clusters you know people were scaling up from running Docker had a",
    "start": "252920",
    "end": "258160"
  },
  {
    "text": "devops model where it's just one person deploying their cluster doing their own stuff so the administrators and the",
    "start": "258160",
    "end": "263880"
  },
  {
    "text": "users were really the same thing there definitely were people who were starting to play around with clusters with more",
    "start": "263880",
    "end": "270240"
  },
  {
    "text": "roles um arbac was actually added in the same kubernetes release as Network policy but of course that meant that",
    "start": "270240",
    "end": "276639"
  },
  {
    "text": "when we were designing Network policy arbac didn't exist there really wasn't a strong concept of Administrators versus",
    "start": "276639",
    "end": "283520"
  },
  {
    "text": "users in a kubernetes cluster and so we couldn't really Design Network policy to",
    "start": "283520",
    "end": "290039"
  },
  {
    "text": "to differentiate administrators and users and and provide use cases for the",
    "start": "290039",
    "end": "295240"
  },
  {
    "text": "administrators specifically uh so we just said well we'll do that later",
    "start": "295240",
    "end": "301560"
  },
  {
    "text": "um so so here you can see a sample Network policy I mean it sounds like all of you know this part already um the",
    "start": "301720",
    "end": "309560"
  },
  {
    "text": "example is what I said before backend can only can get traffic from the front end the database can only get traffic",
    "start": "309560",
    "end": "314600"
  },
  {
    "text": "from the back end um Network policies are namespace scoped",
    "start": "314600",
    "end": "320160"
  },
  {
    "text": "so you create the policy and it sets policy within only that namespace",
    "start": "320160",
    "end": "325800"
  },
  {
    "text": "possibly affecting traffic coming from or going to other namespaces but always anchored in one specific name space uh",
    "start": "325800",
    "end": "333919"
  },
  {
    "text": "the peers can be pods Nam spaces we we added cider blocks later on that came",
    "start": "333919",
    "end": "340319"
  },
  {
    "text": "few releases after the original Network policy um and and one of the decisions",
    "start": "340319",
    "end": "345840"
  },
  {
    "text": "is that the the API design is is sort of implicit in nature you say what you want to allow and then everything else gets",
    "start": "345840",
    "end": "352600"
  },
  {
    "text": "denied and that worked okay for the original use case of you know I want to stop people in this other name space",
    "start": "352600",
    "end": "358880"
  },
  {
    "text": "from getting to service well you know everybody who you want to be able to access your service so you can just put",
    "start": "358880",
    "end": "363919"
  },
  {
    "text": "all of them in the policy and then everybody else gets denied and that works uh for other use cases that",
    "start": "363919",
    "end": "370319"
  },
  {
    "text": "started to become more of a problem uh so it's been a stable API for",
    "start": "370319",
    "end": "377000"
  },
  {
    "text": "six years there are a lot of implementations we have some pretty icons",
    "start": "377000",
    "end": "382160"
  },
  {
    "text": "here but it has problems and and it has had problems so so one is what I was saying the implicit isolation the policy",
    "start": "382160",
    "end": "389560"
  },
  {
    "text": "specifies what you want to allow and then everything else gets denied there there's no finer grained control and",
    "start": "389560",
    "end": "395360"
  },
  {
    "text": "that makes it hard to to layer policies or you can't even like say I'm going to",
    "start": "395360",
    "end": "400520"
  },
  {
    "text": "create a service and then I'll just throw in a policy that says these pods are allowed to connect to my service",
    "start": "400520",
    "end": "406280"
  },
  {
    "text": "because if you do that in a name space where there weren't any other network policies already then you've just denied",
    "start": "406280",
    "end": "412400"
  },
  {
    "text": "everybody else the ability to talk to your service when you you might not have meant that you might have just meant I",
    "start": "412400",
    "end": "417879"
  },
  {
    "text": "want to guarantee that these pods can talk and I don't care about other pots um the fact that there are no",
    "start": "417879",
    "end": "424160"
  },
  {
    "text": "explicit deny rules there's no priority between multiple policies there are no policies that span multiple name spaces",
    "start": "424160",
    "end": "431520"
  },
  {
    "text": "means that it doesn't solve a lot of the use cases that administrators had for the policies that they wanted in a",
    "start": "431520",
    "end": "437759"
  },
  {
    "text": "cluster and and finally while it it works pretty well for podt pod traffic we never fully nail",
    "start": "437759",
    "end": "445400"
  },
  {
    "text": "down exactly how it works for traffic coming into or going out of the cluster so for Ingress traffic if you try to",
    "start": "445400",
    "end": "452280"
  },
  {
    "text": "apply Network policy to it and say like I only accept traffic from 10.0.0.0",
    "start": "452280",
    "end": "458120"
  },
  {
    "text": "sl8 that cider block might get matched to the source of the traffic or it might",
    "start": "458120",
    "end": "463280"
  },
  {
    "text": "get matched to the load balancer that redirected the traffic into your cluster there's really no way to know for sure",
    "start": "463280",
    "end": "469360"
  },
  {
    "text": "and it's different between different clouds and and different cni plugins um likewise traffic exiting the cluster",
    "start": "469360",
    "end": "476800"
  },
  {
    "text": "because there are so many like different other networking things involved sometimes it's possible to bypass",
    "start": "476800",
    "end": "483039"
  },
  {
    "text": "Network policy exiting the cluster by like say creating a service and then having the service redirect through a",
    "start": "483039",
    "end": "489159"
  },
  {
    "text": "load balancer and things like that so it's a little bit vague there so these are all issues that had had sort of some",
    "start": "489159",
    "end": "496479"
  },
  {
    "text": "of them we realized right away some of them it it took us a while and we realized we need to do something about",
    "start": "496479",
    "end": "504759"
  },
  {
    "text": "this thanks so um time for a new API to solve",
    "start": "505639",
    "end": "511440"
  },
  {
    "text": "all the problems that Dan just mentioned the working group decided to open up a cap and look at the numbers we have 10",
    "start": "511440",
    "end": "520240"
  },
  {
    "text": "plus contributors putting more than 100 individual commits resolving over",
    "start": "520240",
    "end": "526560"
  },
  {
    "text": "600 um comments and the result it by the end of the day you know if you look on",
    "start": "526560",
    "end": "533160"
  },
  {
    "text": "the GitHub PR um there are just too many comments to unfold so that the GitHub",
    "start": "533160",
    "end": "538880"
  },
  {
    "text": "page will actually get Frozen sometimes but this is just how much effort we have been put um to get this PR uh get this",
    "start": "538880",
    "end": "546800"
  },
  {
    "text": "cap to be merged um which is one year after it's open so that's why I wanted to give a huge shout out to all the",
    "start": "546800",
    "end": "553399"
  },
  {
    "text": "contributors to the cap which made this all happen now okay thank",
    "start": "553399",
    "end": "560630"
  },
  {
    "text": "[Applause] you um so so why is it so hard um what",
    "start": "560630",
    "end": "569200"
  },
  {
    "text": "made this really hard and uh to merge um we started out just wanting a cluster",
    "start": "569200",
    "end": "574839"
  },
  {
    "text": "scoped admin facing and cni agnostic policy API um just to solve the problems",
    "start": "574839",
    "end": "580920"
  },
  {
    "text": "that then mentioned now we realized then um soon that you know we have more work",
    "start": "580920",
    "end": "586839"
  },
  {
    "text": "to do first of all we needed to consolidate on the use cases there are a lot of people coming in the community um",
    "start": "586839",
    "end": "593920"
  },
  {
    "text": "talk about their use cases where we realize it's just sort of like a single use case um people wanted to say that I",
    "start": "593920",
    "end": "599959"
  },
  {
    "text": "wanted to segregate my clusters so there are different networks I wanted some namespace to be able to talk to some",
    "start": "599959",
    "end": "606440"
  },
  {
    "text": "namespace but not the other and some people come to us and say I want to each namespace to be isolated U with each",
    "start": "606440",
    "end": "613640"
  },
  {
    "text": "other we soon realize that that's sort of like the same use case because you basically wanted to support tendency in",
    "start": "613640",
    "end": "619959"
  },
  {
    "text": "your cluster um in some sense right now we're tenant in your cluster the other",
    "start": "619959",
    "end": "625519"
  },
  {
    "text": "thing is we wanted to be explicit in the API design uh meaning that we don't want to make the same mistake that the N",
    "start": "625519",
    "end": "632600"
  },
  {
    "text": "policy API has made um each rule that the admin n policy has should be read as",
    "start": "632600",
    "end": "638760"
  },
  {
    "text": "is and does not have any um implicit meanings tied to it and it should also",
    "start": "638760",
    "end": "644639"
  },
  {
    "text": "be unambiguous um further along it uh because of U we wanted to support maybe",
    "start": "644639",
    "end": "652000"
  },
  {
    "text": "um that allow and deny actions that means that priority modeling is INE",
    "start": "652000",
    "end": "657160"
  },
  {
    "text": "inevitable right and uh um we also wanted to have rule actions on top of",
    "start": "657160",
    "end": "663680"
  },
  {
    "text": "allow and deny that actually make sense to everyone we were um proposing some words called datagate but it didn't sort",
    "start": "663680",
    "end": "670839"
  },
  {
    "text": "of like make sense to a lot of people so that's why there were a lot of iterations in the design of the API we",
    "start": "670839",
    "end": "677600"
  },
  {
    "text": "have to went through and make sure the API is actually minimum but solves all the use cases that we come up with and",
    "start": "677600",
    "end": "684720"
  },
  {
    "text": "is also future extensible which will show you why because we have all these cool um features that what we want to",
    "start": "684720",
    "end": "692440"
  },
  {
    "text": "add to admin Network policy in the later releases so starting from the capab now",
    "start": "692440",
    "end": "698519"
  },
  {
    "text": "we here um we have a merge uh we have two objects which is the admin now",
    "start": "698519",
    "end": "705079"
  },
  {
    "text": "policy and Baseline admin n policy that we have in a n policy API uh n policy",
    "start": "705079",
    "end": "711760"
  },
  {
    "text": "API repo now uh it is out of tree we want to follow the success story of the",
    "start": "711760",
    "end": "717160"
  },
  {
    "text": "Gateway API and right now the two um objects are in Al V1 alha 1 and it",
    "start": "717160",
    "end": "724639"
  },
  {
    "text": "supports intra cluster controls um which in the future we are also thinkinking",
    "start": "724639",
    "end": "730160"
  },
  {
    "text": "north south and we'll talk about you know the enhancements uh later on in this talk so the use cases that uh the",
    "start": "730160",
    "end": "739320"
  },
  {
    "text": "admin now policy API is focused on um you can see there are some major use",
    "start": "739320",
    "end": "744480"
  },
  {
    "text": "cases that I think would resonate with a lot of you uh first of all isolate",
    "start": "744480",
    "end": "749600"
  },
  {
    "text": "tenants in the cluster right so there are a couple of name spaces that belong to some tants and other name spaces that",
    "start": "749600",
    "end": "756560"
  },
  {
    "text": "belong to another tenant you want them to not talk to each other but intra tenant connection is fine um there's",
    "start": "756560",
    "end": "764160"
  },
  {
    "text": "also the always allow Ingress or egress to DNS right you don't want developers",
    "start": "764160",
    "end": "769360"
  },
  {
    "text": "to write a now policy but accidentally block um access to DNS where they just",
    "start": "769360",
    "end": "775320"
  },
  {
    "text": "don't know why um and you will always want to uh the monitoring to be able to",
    "start": "775320",
    "end": "782000"
  },
  {
    "text": "egress to the name space that you care about and developers should not be able to block monitor namespace from",
    "start": "782000",
    "end": "788760"
  },
  {
    "text": "collecting Telemetry uh finally there is also a use case where the admin uh of the cluster",
    "start": "788760",
    "end": "796639"
  },
  {
    "text": "doesn't really just care about um you know I shouldn't say doesn't care about",
    "start": "796639",
    "end": "802240"
  },
  {
    "text": "but it they want to delegate the power U for the namespace owners to decide what",
    "start": "802240",
    "end": "807920"
  },
  {
    "text": "kind of policy um they want to have for for the Nam space and we want to make it explicit",
    "start": "807920",
    "end": "813600"
  },
  {
    "text": "right so the admin wants to delegate the power of writing the policy to the namespace owner so those are the things",
    "start": "813600",
    "end": "820480"
  },
  {
    "text": "that the admin now policy can do and um there's also a baseline admin now policy",
    "start": "820480",
    "end": "828279"
  },
  {
    "text": "U which does the following so in the kubernetes cluster by default U you will",
    "start": "828279",
    "end": "833680"
  },
  {
    "text": "have one part be able to talk to each other that's kind of the the default security posture of of the um kubernetes",
    "start": "833680",
    "end": "841000"
  },
  {
    "text": "um cluster where today you haven't you don't have a way to flip it basically so",
    "start": "841000",
    "end": "847079"
  },
  {
    "text": "what the Baseline now policy does is that it gives you an ability for the",
    "start": "847079",
    "end": "852360"
  },
  {
    "text": "cluster or mean to flip the default network security posture for a cluster",
    "start": "852360",
    "end": "858320"
  },
  {
    "text": "so that you can Implement something like zero trust and another use case for that is that if you're dedicating policy",
    "start": "858320",
    "end": "865759"
  },
  {
    "text": "writing abilities to a namespace owner well what if the names space owner doesn't actually have any network policy",
    "start": "865759",
    "end": "872399"
  },
  {
    "text": "in the namespace you want something you know default right you want something to catch that so that you know you don't",
    "start": "872399",
    "end": "879560"
  },
  {
    "text": "dedicate power to your namespace owner and they just not using it then everything just becomes allowed um by",
    "start": "879560",
    "end": "886079"
  },
  {
    "text": "default and maybe you don't want that so there are different intents uh of the cluster admin that we're able to capture",
    "start": "886079",
    "end": "893759"
  },
  {
    "text": "with this two crds and we have a QR code here which links to our our talk",
    "start": "893759",
    "end": "899800"
  },
  {
    "text": "yesterday uh where we showcase the admin now policy and Baseline admin now policy objects um in a little bit um",
    "start": "899800",
    "end": "908519"
  },
  {
    "text": "more subtle plug on that if you're a Harry Potter fan go check out that talk",
    "start": "908519",
    "end": "914160"
  },
  {
    "text": "you will really love it I promise cool um and so the API has been",
    "start": "914160",
    "end": "921120"
  },
  {
    "text": "V AFA one for over a year and we are on the journey towards beta um which",
    "start": "921120",
    "end": "927079"
  },
  {
    "text": "between our working group we think soon right so we definitely wanted to you know call out call out for contributions",
    "start": "927079",
    "end": "934199"
  },
  {
    "text": "I think you should you should probably say that in the U in the later slides um but we already have two implementations",
    "start": "934199",
    "end": "940720"
  },
  {
    "text": "for the API already U which is Andrea and oven kubernetes U who are all open",
    "start": "940720",
    "end": "946720"
  },
  {
    "text": "source the cni projects and the um admin now policy API is also on the road mapap",
    "start": "946720",
    "end": "953319"
  },
  {
    "text": "of kako CDM and KU ovn which we have you know their issues um for tracking admin",
    "start": "953319",
    "end": "960040"
  },
  {
    "text": "now policy support L down there okay so I'm gonna hand it over to",
    "start": "960040",
    "end": "967079"
  },
  {
    "text": "Shir for the cool stuff so Dan actually talked about our",
    "start": "967079",
    "end": "972639"
  },
  {
    "text": "distant past which was Network policies he talked about the issues that we've had with that API Yang did a good job",
    "start": "972639",
    "end": "979560"
  },
  {
    "text": "talking about our recent past which was admin Network policies so like he mentioned I get to do the cool stuff",
    "start": "979560",
    "end": "986199"
  },
  {
    "text": "which is all the forward-looking features that this group has been working on and we have a lot of cool",
    "start": "986199",
    "end": "992639"
  },
  {
    "text": "features lined up which I'll talk about in a moment but before that Yang talked about caps right so he talked about how",
    "start": "992639",
    "end": "998639"
  },
  {
    "text": "painful the kubernetes enhancement proposal process was so how many of you have done",
    "start": "998639",
    "end": "1004759"
  },
  {
    "text": "caps not that many good for you but I do see a few hands here so yes we did so",
    "start": "1004759",
    "end": "1012639"
  },
  {
    "text": "the cor Sig network does caps right but the subgroups the Gateway API does gaps",
    "start": "1012639",
    "end": "1017880"
  },
  {
    "text": "the Gateway enhancement proposals and as the network policy subgroup we do n peps",
    "start": "1017880",
    "end": "1023120"
  },
  {
    "text": "the network policy enhancement proposals so if you want to do a cool feature want to contribute and you're unsure what to",
    "start": "1023120",
    "end": "1029199"
  },
  {
    "text": "do open an issue open an npep right so that's how you can get started and we also have features that don't require n",
    "start": "1029199",
    "end": "1036438"
  },
  {
    "text": "peps so just come and check out our GitHub repo and open n peps or open",
    "start": "1036439",
    "end": "1041640"
  },
  {
    "text": "issues right so the first npep that we have had which we've been working on for the past few",
    "start": "1041640",
    "end": "1048000"
  },
  {
    "text": "months is conformance profiles so Dan talked about all the cool Network policy implementations in his slide it's an",
    "start": "1048000",
    "end": "1054679"
  },
  {
    "text": "extensive list even we don't know the full list of implementations that we have for the network policy core API",
    "start": "1054679",
    "end": "1061960"
  },
  {
    "text": "Yang also talked about the two fresh implementations we have for our admin Network policy API we are expecting more",
    "start": "1061960",
    "end": "1069400"
  },
  {
    "text": "and more implementations in the future right so one of the main issues as API maintainers and project maintainers is",
    "start": "1069400",
    "end": "1075200"
  },
  {
    "text": "that we've not really had a proper implementation tracking mechanism in the past and that is what this network",
    "start": "1075200",
    "end": "1081640"
  },
  {
    "text": "policy enhancement proposal is trying to solve so it's about coming up with API",
    "start": "1081640",
    "end": "1086840"
  },
  {
    "text": "conformance tests where both the end users the implementers work together hand inand with the API maintainers and",
    "start": "1086840",
    "end": "1093919"
  },
  {
    "text": "are heavily involved in coming up with a set of conformance tests grouping them into core and extended set of features",
    "start": "1093919",
    "end": "1100280"
  },
  {
    "text": "depending on the fields in the API and then we come up with these conformance prop profiles which helps us report",
    "start": "1100280",
    "end": "1107559"
  },
  {
    "text": "these conformance test results from each of these individual implementations back to our project so what this essentially",
    "start": "1107559",
    "end": "1113640"
  },
  {
    "text": "gives us is it gives us a way of telling which implementation is using What fields in the API how is it useful and",
    "start": "1113640",
    "end": "1119360"
  },
  {
    "text": "we get this consistent feedback loop going and that actually helps us make our API better so that's the end goal of",
    "start": "1119360",
    "end": "1126360"
  },
  {
    "text": "this npep it's actually already merged into our project so please check it out but",
    "start": "1126360",
    "end": "1132400"
  },
  {
    "text": "we also need more help in this area so you can uh scan the golden Q R code",
    "start": "1132400",
    "end": "1138880"
  },
  {
    "text": "right there the help wanted one we have tagged them with the area conformance and there's a lot of firsthand good",
    "start": "1138880",
    "end": "1146039"
  },
  {
    "text": "first issues that you can also check out so if you're interested in contributing we do need help and reach out to me",
    "start": "1146039",
    "end": "1151760"
  },
  {
    "text": "after the talk also if you want to know more about this and a sample conformance profile test report is shown right over",
    "start": "1151760",
    "end": "1158440"
  },
  {
    "text": "there where we have the admin Network policy profile and the Baseline admin Network policy profile right and it",
    "start": "1158440",
    "end": "1164120"
  },
  {
    "text": "shows you a sample of how the tests are evaluated how many passed how many failed and then you can basically",
    "start": "1164120",
    "end": "1170919"
  },
  {
    "text": "basically as an implementation get a conformance badge if you're conforming with our",
    "start": "1170919",
    "end": "1177240"
  },
  {
    "text": "API the next inep is about egress so like Yang mentioned currently our admin",
    "start": "1177840",
    "end": "1183320"
  },
  {
    "text": "Network policy API only supports intracluster traffic controls so East West pod tood traffic there have been",
    "start": "1183320",
    "end": "1191280"
  },
  {
    "text": "feature requests for supporting egress also so Northbound this npep is mainly focused",
    "start": "1191280",
    "end": "1198039"
  },
  {
    "text": "on Northbound that is egress controls outside the cluster from pods in your cluster and today the API has two sets",
    "start": "1198039",
    "end": "1204080"
  },
  {
    "text": "of egress peers right so pods and name spaces and as a result of this of all",
    "start": "1204080",
    "end": "1209640"
  },
  {
    "text": "these discussions right so these use cases where you might want to have a case where you don't want your pods to",
    "start": "1209640",
    "end": "1214760"
  },
  {
    "text": "talk to 0.0.0.0 right so block everything or you might have cases where",
    "start": "1214760",
    "end": "1219840"
  },
  {
    "text": "you don't want your pods to talk to nodes in your cluster so one node or set of nodes you can use node selectors or",
    "start": "1219840",
    "end": "1226600"
  },
  {
    "text": "you might also have cases where you want to block loock a specific side arrange allow another specific side arrange so",
    "start": "1226600",
    "end": "1232000"
  },
  {
    "text": "basically egress traffic controls this npep proposes two API Fields um two new",
    "start": "1232000",
    "end": "1238400"
  },
  {
    "text": "peers for the egress which is nodes and ciders we are discussing how our CER",
    "start": "1238400",
    "end": "1244400"
  },
  {
    "text": "design should look like whether the cider should be ESS only which is outside the cluster external versus",
    "start": "1244400",
    "end": "1251480"
  },
  {
    "text": "should it also have pod Siders or service Siders included so there's a lot of discussions happening in the npep so",
    "start": "1251480",
    "end": "1257799"
  },
  {
    "text": "if you you have interesting use cases for egress please leave comments on our issue right there in",
    "start": "1257799",
    "end": "1265400"
  },
  {
    "text": "GitHub the next inep is similar to the previous one but maybe the ciders are",
    "start": "1265400",
    "end": "1271120"
  },
  {
    "text": "not what you want right you want fully qualified domain names as your peers with wild card selector patterns Etc so",
    "start": "1271120",
    "end": "1277600"
  },
  {
    "text": "that's an extension of the previous npep the credit here goes to Rahul Rahul josi",
    "start": "1277600",
    "end": "1283120"
  },
  {
    "text": "he's been contributing heavily to this npep so shout out to him he's not here today but",
    "start": "1283120",
    "end": "1288880"
  },
  {
    "text": "um so please do check out this npep and um scan scan the QR code if you want to know more about",
    "start": "1288880",
    "end": "1296200"
  },
  {
    "text": "this over to Andrew who will take us through the rest of the EPS awesome thank you Sera cool so this npep is",
    "start": "1296919",
    "end": "1305960"
  },
  {
    "text": "involving cluster Ingress we talked about cluster erress a little bit we obviously want to highlight our",
    "start": "1305960",
    "end": "1311000"
  },
  {
    "text": "contributor who owns this uh Nadia who's sitting right here she's awesome so let's give her a round of applause",
    "start": "1311000",
    "end": "1318460"
  },
  {
    "text": "[Applause] thank you um and so obviously this seems",
    "start": "1318460",
    "end": "1324679"
  },
  {
    "text": "pretty simple right it's like just the flip of egress but we as a working group have really struggled to find some",
    "start": "1324679",
    "end": "1330440"
  },
  {
    "text": "concrete customer use cases for this npep um so this is kind of a call for help we have an mpep open we're trying",
    "start": "1330440",
    "end": "1336919"
  },
  {
    "text": "to get the user stories and use cases together um if you are a user or a customer who can think of reasons that",
    "start": "1336919",
    "end": "1343520"
  },
  {
    "text": "we need Ingress um control and policy and an admin Network policy sort of subject please let us know um give us",
    "start": "1343520",
    "end": "1350799"
  },
  {
    "text": "feedback on the npep come to our meetings uh we are as always very",
    "start": "1350799",
    "end": "1357480"
  },
  {
    "text": "open okay and again from Nadia doing a ton of work um on the new npep for",
    "start": "1357480",
    "end": "1363640"
  },
  {
    "text": "tenancy so when we wrote the kept for this uh for admin Network policy we had built in the desire to support certain",
    "start": "1363640",
    "end": "1370919"
  },
  {
    "text": "tency related use cases now when we got to around to actually implementing V1 Alpha One of that",
    "start": "1370919",
    "end": "1376960"
  },
  {
    "text": "API to be honest it had been a year of of kept work and and we ended up on a",
    "start": "1376960",
    "end": "1383559"
  },
  {
    "text": "design that we've really not loved so this is the best part about our mpep process we now have a new um enhancement",
    "start": "1383559",
    "end": "1390799"
  },
  {
    "text": "proposal to make that design better um and so the problem was specifically the",
    "start": "1390799",
    "end": "1397000"
  },
  {
    "text": "original API allowed like way more expressiveness than was needed so we're kind of locking it down making it more",
    "start": "1397000",
    "end": "1402600"
  },
  {
    "text": "explicit with the ultimate goal of making it easier to read for users like you um that's that's our ultimate goal",
    "start": "1402600",
    "end": "1409360"
  },
  {
    "text": "so pretty excited about that one um again Nadia is here if you have questions you can ask her after I'm sure",
    "start": "1409360",
    "end": "1414440"
  },
  {
    "text": "she'll help you out okay so this actually isn't an npep",
    "start": "1414440",
    "end": "1419600"
  },
  {
    "text": "this is just an example of a new feature that we have folks working on um part of",
    "start": "1419600",
    "end": "1425440"
  },
  {
    "text": "the kep for admin Network policy included a focus on developer tooling with the introduction of priorities with",
    "start": "1425440",
    "end": "1431320"
  },
  {
    "text": "the introduction of new API API objects there's a lot of complexity right I'm",
    "start": "1431320",
    "end": "1436440"
  },
  {
    "text": "sure we a lot of us even struggled with network policies to understand at the end of the day what is going on with my",
    "start": "1436440",
    "end": "1443039"
  },
  {
    "text": "pod like why is traffic not getting there is it a network policy's fault or is something going on that's more Sinister so this policy assistant is",
    "start": "1443039",
    "end": "1450120"
  },
  {
    "text": "built on an upstream tool called cyclonus and its first goal is to create",
    "start": "1450120",
    "end": "1455760"
  },
  {
    "text": "a tool that lets you understand and iterate upon your policies so it will",
    "start": "1455760",
    "end": "1460799"
  },
  {
    "text": "give you kind of a bash table like output um that helps describe your policies so you can understand why",
    "start": "1460799",
    "end": "1467159"
  },
  {
    "text": "traffic is being allowed to your pods or not um we have the ultimate goal of turning this into a cube cuddle plugin",
    "start": "1467159",
    "end": "1474080"
  },
  {
    "text": "um but this is really really important and the work is just getting started shout out to Hunter Gregory from",
    "start": "1474080",
    "end": "1479679"
  },
  {
    "text": "Microsoft he's not here today but he's really Doven in here and just completely gotten us going uh we're really really",
    "start": "1479679",
    "end": "1486480"
  },
  {
    "text": "excited about it at the end of the day it's also going to help us extend our conformance testing framework it's going",
    "start": "1486480",
    "end": "1493159"
  },
  {
    "text": "to help us kind of integrate truthtable testing for admin Network policy um um",
    "start": "1493159",
    "end": "1498240"
  },
  {
    "text": "and there's just a lot of other exciting use cases for it so if you're incited excited about developer tooling this is",
    "start": "1498240",
    "end": "1503799"
  },
  {
    "text": "where you can hop in and for our final topic I'm sure a",
    "start": "1503799",
    "end": "1508960"
  },
  {
    "text": "lot of people want to hear about is what about Network policy V2 Dan's going to hop in and explain",
    "start": "1508960",
    "end": "1514799"
  },
  {
    "text": "woo so before we were talking about how we had Network policy V1 and there were these problems with it and then we we",
    "start": "1514799",
    "end": "1520600"
  },
  {
    "text": "created the network policy working group to create admin Network policy we we",
    "start": "1520600",
    "end": "1525880"
  },
  {
    "text": "kind of skipped ahead a little bit there they originally the network policy working group people had this idea of",
    "start": "1525880",
    "end": "1531279"
  },
  {
    "text": "let's create network policy V2 that will solve all of the problems and it turns out that we had too many problems and we",
    "start": "1531279",
    "end": "1537200"
  },
  {
    "text": "had to like scale it down and that's that's where admin Network policy came from so an an admin Network policy",
    "start": "1537200",
    "end": "1543000"
  },
  {
    "text": "solves these administrator use cases but we still have all these other problems with network policy uh the implicit deny",
    "start": "1543000",
    "end": "1549520"
  },
  {
    "text": "is still hard to work with um there are these weird syntactic quirks I don't know if any of you have ever run into",
    "start": "1549520",
    "end": "1555120"
  },
  {
    "text": "this but like adding or removing a single hyphen from a network policy can completely change the meaning um to",
    "start": "1555120",
    "end": "1562240"
  },
  {
    "text": "allow this and this to allow or allow packets that match this and this to allow packets that match this or this um",
    "start": "1562240",
    "end": "1570279"
  },
  {
    "text": "which you know you don't want to mess those up and network policy makes it very easy to um there's this problem",
    "start": "1570279",
    "end": "1577480"
  },
  {
    "text": "that when you have probes on a pod for like liveness or Readiness cuet needs to",
    "start": "1577480",
    "end": "1582720"
  },
  {
    "text": "be able to send an HTTP request or whatever to the Pod and when we first added Network policy we were like oh we",
    "start": "1582720",
    "end": "1588679"
  },
  {
    "text": "don't want to break everybody's probes so we just added this rule that says okay CU can talk to any pod um and that",
    "start": "1588679",
    "end": "1595399"
  },
  {
    "text": "generally ends up meaning that every host Network process can talk to any pod and people don't always want that and",
    "start": "1595399",
    "end": "1601600"
  },
  {
    "text": "but we can't change it now because that would break everybody's probes so you know a new version of network policy",
    "start": "1601600",
    "end": "1607840"
  },
  {
    "text": "maybe would let us do something about that um we've been talking about all these extensions that we're making to",
    "start": "1607840",
    "end": "1613279"
  },
  {
    "text": "the original admin Network policy plan it's been hard for us to extend the original Network policy because the way",
    "start": "1613279",
    "end": "1620039"
  },
  {
    "text": "it's it's designed and written makes it so that uh when you add new things old",
    "start": "1620039",
    "end": "1626760"
  },
  {
    "text": "implementations might not be able to see them so for instance original Network policy let you say only allow",
    "start": "1626760",
    "end": "1632760"
  },
  {
    "text": "connections to Port 80 but you couldn't say allow connections from ports 80 to 90 and people wanted to do that so",
    "start": "1632760",
    "end": "1639080"
  },
  {
    "text": "people created a cap to add a port range feature to network policies but it turns",
    "start": "1639080",
    "end": "1644320"
  },
  {
    "text": "out that if you just replace the port 80 with Port range 80 to 90 then an old",
    "start": "1644320",
    "end": "1649679"
  },
  {
    "text": "implementation would look at that and say oh it doesn't say anything about ports that means that the policy allows connections to all ports which isn't",
    "start": "1649679",
    "end": "1656320"
  },
  {
    "text": "what you wanted so we had to come up with this hack where you say Port 80 and Port 90 which gets the message across",
    "start": "1656320",
    "end": "1664200"
  },
  {
    "text": "but it's it's weird and it took us a while to come up with something and convince ourselves that yeah this is really going to work so we're trying",
    "start": "1664200",
    "end": "1670240"
  },
  {
    "text": "with admin Network policy to to not fall into that hole again but we still again have that problem with network policy",
    "start": "1670240",
    "end": "1678600"
  },
  {
    "text": "so people say Network policy V2 because of the way that versioning works in kubernetes we can't actually make",
    "start": "1678600",
    "end": "1685279"
  },
  {
    "text": "networking. kes. iv2 Network policy and solve all of our problems because it",
    "start": "1685279",
    "end": "1690760"
  },
  {
    "text": "would still have to be compatible with the V1 Network policy so you'd still have to have the implicit deny and all",
    "start": "1690760",
    "end": "1696120"
  },
  {
    "text": "that stuff um but we came up with better Network policy for administrators with",
    "start": "1696120",
    "end": "1702039"
  },
  {
    "text": "admin Network policy so could we come up with somehow for better Network policy for devel",
    "start": "1702039",
    "end": "1708960"
  },
  {
    "text": "velers so this is an idea that we've just started thinking about uh but the",
    "start": "1708960",
    "end": "1714000"
  },
  {
    "text": "idea is we could replace Network policy with developer Network policy which is a",
    "start": "1714000",
    "end": "1719240"
  },
  {
    "text": "better implementation of the same ideas that had gone into Network policy originally um we wouldn't let",
    "start": "1719240",
    "end": "1725919"
  },
  {
    "text": "administrator Focus use cases sneak in which happened repeatedly in network policy so we we could keep it simpler",
    "start": "1725919",
    "end": "1732679"
  },
  {
    "text": "and you know we have years of experience now we know what mistakes we made we could just not make them um and ensure",
    "start": "1732679",
    "end": "1738799"
  },
  {
    "text": "that we end up with a developer Network policy that that fits between admin Network policy and Baseline admin",
    "start": "1738799",
    "end": "1744640"
  },
  {
    "text": "Network policy to allow all the use cases that everybody needs and then the",
    "start": "1744640",
    "end": "1749720"
  },
  {
    "text": "idea would be that the combination of admin Network policy and developer Network policy would would be",
    "start": "1749720",
    "end": "1755000"
  },
  {
    "text": "essentially Network policy V2 um and you know we would have to make",
    "start": "1755000",
    "end": "1760039"
  },
  {
    "text": "sure that people could still use old Network policies because there are a ton of them around but we would you know Define interoperability and if you",
    "start": "1760039",
    "end": "1766760"
  },
  {
    "text": "wanted the cool new features you would just have to use the the new objects um and I think oh is that you",
    "start": "1766760",
    "end": "1774640"
  },
  {
    "text": "Andrew yeah sure um so just to close it out I know a lot of sigs say we need",
    "start": "1774640",
    "end": "1780519"
  },
  {
    "text": "help we need help we need help but I've been there I understand how scary it is to get involved so I tried to take a",
    "start": "1780519",
    "end": "1787000"
  },
  {
    "text": "step back and just like start from ground zero right um we want everyone",
    "start": "1787000",
    "end": "1793159"
  },
  {
    "text": "and anyone to get involved whether you're a no code contributor or a code contributor a complete beginner heck we",
    "start": "1793159",
    "end": "1799760"
  },
  {
    "text": "need a new logo if someone wants to design some art like that would be amazing I can't do it um maybe some of",
    "start": "1799760",
    "end": "1805640"
  },
  {
    "text": "my other maintainers can um so level one you're completely new go ahead and check",
    "start": "1805640",
    "end": "1811080"
  },
  {
    "text": "out some of the great kubernetes contribution guides uh they have really awesome information for level two you're",
    "start": "1811080",
    "end": "1817799"
  },
  {
    "text": "still kind of unsure of where to hop in um you can hop on to our website at",
    "start": "1817799",
    "end": "1823279"
  },
  {
    "text": "Network policy apis. cat. um read through our docs please find more",
    "start": "1823279",
    "end": "1829039"
  },
  {
    "text": "documentation bugs we are not docs expert so it's mainly been us writing all the documentation so far and we are",
    "start": "1829039",
    "end": "1835039"
  },
  {
    "text": "developers I cannot spell um it's a problem so check that out check out all our issues of course and then level",
    "start": "1835039",
    "end": "1841799"
  },
  {
    "text": "three if you're sitting in the audience uh you feel pretty confident with network policy and we've missed something if you have not seen us talk",
    "start": "1841799",
    "end": "1848600"
  },
  {
    "text": "about it today please please please open an npep we are making our way towards beta and the window will be closing in",
    "start": "1848600",
    "end": "1856039"
  },
  {
    "text": "the next month or two to kind of add new features to the running list to get into beta so please be thinking about that um",
    "start": "1856039",
    "end": "1863639"
  },
  {
    "text": "so yeah that's kind of how you can get involved their slide is attached to our link um as as well as all of these links",
    "start": "1863639",
    "end": "1870120"
  },
  {
    "text": "um I think that's all we have for today if you could please leave some feedback uh for how we did that'd be great and",
    "start": "1870120",
    "end": "1876639"
  },
  {
    "text": "we'd love to take some questions thank you so",
    "start": "1876639",
    "end": "1880518"
  },
  {
    "text": "much yeah and there's a microphone right there yep hey uh I'm Keith Maddox I'm a ISO",
    "start": "1883760",
    "end": "1890080"
  },
  {
    "text": "maintainer I love the what I've seen today about developer Network policy very exciting I wanted to ask is there",
    "start": "1890080",
    "end": "1896880"
  },
  {
    "text": "any openness for uh something like service account to be able to fit into developer Network",
    "start": "1896880",
    "end": "1903960"
  },
  {
    "text": "policy open and endep I would say we'll do it that is definitely something that",
    "start": "1904519",
    "end": "1911679"
  },
  {
    "text": "has come up um and we just sort of haven't prored it I would say yeah we",
    "start": "1911679",
    "end": "1916720"
  },
  {
    "text": "would appreciate all the help yeah thank you uh I think this was really awesome",
    "start": "1916720",
    "end": "1923159"
  },
  {
    "text": "um really like to see where this is going one thing that kind of jumps out to my mind though with these out of tree",
    "start": "1923159",
    "end": "1928679"
  },
  {
    "text": "um opportunities is that it it kind of makes me think are all of like after we",
    "start": "1928679",
    "end": "1935240"
  },
  {
    "text": "potentially build up uh momentum around all these out of tree things does that then open the door for a conversation",
    "start": "1935240",
    "end": "1940880"
  },
  {
    "text": "about what kubernetes V2 looks like and those out of tree Things become Baseline",
    "start": "1940880",
    "end": "1946639"
  },
  {
    "text": "in version 2.0 that I've not seen any you know Whispering about but you know",
    "start": "1946639",
    "end": "1952159"
  },
  {
    "text": "more maintainers might might know it just that that does what come to my mind there are no specific plans for",
    "start": "1952159",
    "end": "1958080"
  },
  {
    "text": "kubernetes v2 um but this is something that people were talking about at the contributor Summit is you know what does",
    "start": "1958080",
    "end": "1964120"
  },
  {
    "text": "it mean that we're doing all this stuff out of tree and and you know where are we going API wise and evolution so yeah",
    "start": "1964120",
    "end": "1969639"
  },
  {
    "text": "conversations are happening and everything as a crd right like pod as a crd like and and I think it's important",
    "start": "1969639",
    "end": "1975399"
  },
  {
    "text": "to think about but like I feel like we're at day one as you know today many cnis have their own apis it's so easy as",
    "start": "1975399",
    "end": "1982679"
  },
  {
    "text": "a user to get com unbelievably confused with policy related apis because they all have Network policy in their name so",
    "start": "1982679",
    "end": "1989399"
  },
  {
    "text": "this is day one like let's come come together as Community um get it all one place and then move forward from there",
    "start": "1989399",
    "end": "1994679"
  },
  {
    "text": "yeah awesome thank you and having it out of free helps us I trate faster as a group you're a small group helps us move",
    "start": "1994679",
    "end": "2000440"
  },
  {
    "text": "faster than the entry stuff like we were mentioning yeah yeah that makes sense thank",
    "start": "2000440",
    "end": "2005960"
  },
  {
    "text": "you sweet I think that's it thanks so much",
    "start": "2005960",
    "end": "2011600"
  },
  {
    "text": "everybody thank you",
    "start": "2011600",
    "end": "2015919"
  }
]