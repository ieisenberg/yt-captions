[
  {
    "start": "0",
    "end": "115000"
  },
  {
    "text": "hi everyone so my name's Oliver I am the",
    "start": "199",
    "end": "3600"
  },
  {
    "text": "head of engineering at Mons Oh which is",
    "start": "3600",
    "end": "5850"
  },
  {
    "text": "as Liz mentioned a bank Mons Oh is a",
    "start": "5850",
    "end": "10170"
  },
  {
    "text": "start-up Bank based in London we are",
    "start": "10170",
    "end": "13190"
  },
  {
    "text": "built for the 20th century and also",
    "start": "13190",
    "end": "16379"
  },
  {
    "text": "built in the 24 21st century",
    "start": "16379",
    "end": "18779"
  },
  {
    "text": "pardon me and we are built with and for",
    "start": "18779",
    "end": "23730"
  },
  {
    "text": "our community currently which is over",
    "start": "23730",
    "end": "26210"
  },
  {
    "text": "600,000 customers we have several",
    "start": "26210",
    "end": "28890"
  },
  {
    "text": "thousand accounts opened every day and",
    "start": "28890",
    "end": "30359"
  },
  {
    "text": "as Liz showed you we have those fabulous",
    "start": "30359",
    "end": "32700"
  },
  {
    "text": "hot coral debit cards which if you've if",
    "start": "32700",
    "end": "35640"
  },
  {
    "text": "you live in London or you've been to",
    "start": "35640",
    "end": "36780"
  },
  {
    "text": "London you might recognise you can sort",
    "start": "36780",
    "end": "38579"
  },
  {
    "text": "of see them everywhere that hard to miss",
    "start": "38579",
    "end": "39750"
  },
  {
    "text": "give them how fluorescent they are and",
    "start": "39750",
    "end": "42809"
  },
  {
    "text": "with the fabulous card we also have a",
    "start": "42809",
    "end": "44940"
  },
  {
    "text": "fabulous app we we basically want to",
    "start": "44940",
    "end": "48629"
  },
  {
    "text": "build the best Bank in the world and",
    "start": "48629",
    "end": "50000"
  },
  {
    "text": "kind of one of our one of our principles",
    "start": "50000",
    "end": "53280"
  },
  {
    "text": "is to move mountains behind the scenes",
    "start": "53280",
    "end": "55289"
  },
  {
    "text": "to make everything we do seem simple for",
    "start": "55289",
    "end": "57719"
  },
  {
    "text": "the customer and this talk is about some",
    "start": "57719",
    "end": "59760"
  },
  {
    "text": "of those mountains the difference from",
    "start": "59760",
    "end": "62730"
  },
  {
    "text": "legacy banks hopefully is apparent when",
    "start": "62730",
    "end": "64350"
  },
  {
    "text": "you first open our app we try and make",
    "start": "64350",
    "end": "66840"
  },
  {
    "text": "sense out of your money and help you",
    "start": "66840",
    "end": "68549"
  },
  {
    "text": "understand what money you have what",
    "start": "68549",
    "end": "70020"
  },
  {
    "text": "money you've spent and hopefully in the",
    "start": "70020",
    "end": "71909"
  },
  {
    "text": "future what best you can do with your",
    "start": "71909",
    "end": "73200"
  },
  {
    "text": "money to make it work for you if you",
    "start": "73200",
    "end": "76770"
  },
  {
    "text": "look at a transaction in our app you'll",
    "start": "76770",
    "end": "78299"
  },
  {
    "text": "see there's kind of no none as a cramped",
    "start": "78299",
    "end": "80220"
  },
  {
    "text": "or caps statement description so you",
    "start": "80220",
    "end": "81900"
  },
  {
    "text": "might be used to as rich information",
    "start": "81900",
    "end": "83790"
  },
  {
    "text": "about the transaction we show you the",
    "start": "83790",
    "end": "85259"
  },
  {
    "text": "location we show you an automatically",
    "start": "85259",
    "end": "87720"
  },
  {
    "text": "categorized category for it and we let",
    "start": "87720",
    "end": "91680"
  },
  {
    "text": "you upload receipts split the",
    "start": "91680",
    "end": "93509"
  },
  {
    "text": "transaction with friends and we also",
    "start": "93509",
    "end": "96540"
  },
  {
    "text": "perform spending analysis this is my",
    "start": "96540",
    "end": "99240"
  },
  {
    "text": "lunch I think from last week and as you",
    "start": "99240",
    "end": "100979"
  },
  {
    "text": "can see I've spent a lot on lunch over",
    "start": "100979",
    "end": "103140"
  },
  {
    "text": "time whenever you spend money you get a",
    "start": "103140",
    "end": "106740"
  },
  {
    "text": "real-time notification from onso",
    "start": "106740",
    "end": "108210"
  },
  {
    "text": "everything about it's real time your",
    "start": "108210",
    "end": "109380"
  },
  {
    "text": "balance updates in real time and you get",
    "start": "109380",
    "end": "111600"
  },
  {
    "text": "emoji with every transaction one of my",
    "start": "111600",
    "end": "113369"
  },
  {
    "text": "favorite features over the last three",
    "start": "113369",
    "end": "117930"
  },
  {
    "text": "years we've built a banking system from",
    "start": "117930",
    "end": "120630"
  },
  {
    "text": "scratch we believe that this is the only",
    "start": "120630",
    "end": "124979"
  },
  {
    "text": "way that we can build the experience",
    "start": "124979",
    "end": "126659"
  },
  {
    "text": "that we want and we also want to own our",
    "start": "126659",
    "end": "129840"
  },
  {
    "text": "own up time the entire platform is built",
    "start": "129840",
    "end": "133260"
  },
  {
    "text": "on open source",
    "start": "133260",
    "end": "133920"
  },
  {
    "text": "we're like kubernetes and today I'm",
    "start": "133920",
    "end": "135959"
  },
  {
    "text": "going to be talking about an outage like",
    "start": "135959",
    "end": "137880"
  },
  {
    "text": "Liz mentioned so back to owning our",
    "start": "137880",
    "end": "140040"
  },
  {
    "text": "uptime this is an outage we experienced",
    "start": "140040",
    "end": "143880"
  },
  {
    "text": "last October and from an engineering",
    "start": "143880",
    "end": "145410"
  },
  {
    "text": "perspective it's probably the worst that",
    "start": "145410",
    "end": "147090"
  },
  {
    "text": "we had to talk a little bit about the",
    "start": "147090",
    "end": "150989"
  },
  {
    "text": "way we've built the bank you can",
    "start": "150989",
    "end": "152160"
  },
  {
    "text": "probably guess that it runs on",
    "start": "152160",
    "end": "153180"
  },
  {
    "text": "kubernetes given that I'm here that's",
    "start": "153180",
    "end": "156209"
  },
  {
    "text": "obviously one of the components that's",
    "start": "156209",
    "end": "157680"
  },
  {
    "text": "involved in this outage kubernetes as",
    "start": "157680",
    "end": "160440"
  },
  {
    "text": "you may know stores all of the state",
    "start": "160440",
    "end": "162120"
  },
  {
    "text": "about the cluster the desired state in",
    "start": "162120",
    "end": "163920"
  },
  {
    "text": "the actual state in sed which is a",
    "start": "163920",
    "end": "165930"
  },
  {
    "text": "strongly consistent key value store and",
    "start": "165930",
    "end": "168140"
  },
  {
    "text": "as I mentioned we run hundreds of micro",
    "start": "168140",
    "end": "172080"
  },
  {
    "text": "services the thousands running at any",
    "start": "172080",
    "end": "173610"
  },
  {
    "text": "one time and they like to talk to each",
    "start": "173610",
    "end": "175920"
  },
  {
    "text": "other we use a linker D to do that a",
    "start": "175920",
    "end": "177930"
  },
  {
    "text": "single user request can turn into",
    "start": "177930",
    "end": "179850"
  },
  {
    "text": "thousands of our pcs behind the scenes",
    "start": "179850",
    "end": "181860"
  },
  {
    "text": "and Lincoln D helps us abstract the",
    "start": "181860",
    "end": "185670"
  },
  {
    "text": "complexities of that so it helps us load",
    "start": "185670",
    "end": "187290"
  },
  {
    "text": "balance across all the replicas we have",
    "start": "187290",
    "end": "188850"
  },
  {
    "text": "handle retries whatever the last thing",
    "start": "188850",
    "end": "192959"
  },
  {
    "text": "that's crucial here are humans in any",
    "start": "192959",
    "end": "195989"
  },
  {
    "text": "incident something's obviously gone",
    "start": "195989",
    "end": "197970"
  },
  {
    "text": "wrong kind of by definition or human is",
    "start": "197970",
    "end": "200400"
  },
  {
    "text": "getting involved so the story starts",
    "start": "200400",
    "end": "203609"
  },
  {
    "start": "202000",
    "end": "580000"
  },
  {
    "text": "around two weeks before the actual",
    "start": "203609",
    "end": "206430"
  },
  {
    "text": "outage so we had upgraded our XE d",
    "start": "206430",
    "end": "209459"
  },
  {
    "text": "cluster as you may know SED last year",
    "start": "209459",
    "end": "213959"
  },
  {
    "text": "released I think it was last year at CD",
    "start": "213959",
    "end": "216329"
  },
  {
    "text": "version 3 in your previously on version",
    "start": "216329",
    "end": "217859"
  },
  {
    "text": "2 and we were upgrading to xt version 3",
    "start": "217859",
    "end": "220079"
  },
  {
    "text": "as well as taking the cluster from 3 to",
    "start": "220079",
    "end": "222450"
  },
  {
    "text": "9 notes this involved migrating to a",
    "start": "222450",
    "end": "225390"
  },
  {
    "text": "totally new cluster this went totally as",
    "start": "225390",
    "end": "227609"
  },
  {
    "text": "planned the reason I'm mentioning it",
    "start": "227609",
    "end": "228930"
  },
  {
    "text": "here is it comes back to bite later sort",
    "start": "228930",
    "end": "234359"
  },
  {
    "text": "of fast-forward a little bit to the day",
    "start": "234359",
    "end": "235680"
  },
  {
    "text": "before the outage and an engineer who",
    "start": "235680",
    "end": "239370"
  },
  {
    "text": "worked I think I'm one of our product",
    "start": "239370",
    "end": "240690"
  },
  {
    "text": "teams was working on a new feature and",
    "start": "240690",
    "end": "242519"
  },
  {
    "text": "was shipping this new feature to",
    "start": "242519",
    "end": "244380"
  },
  {
    "text": "production it wasn't yet available for",
    "start": "244380",
    "end": "247109"
  },
  {
    "text": "users but when they shipped it to",
    "start": "247109",
    "end": "249750"
  },
  {
    "text": "production they saw some strange",
    "start": "249750",
    "end": "251459"
  },
  {
    "text": "behavior so they scaled it to zero",
    "start": "251459",
    "end": "253470"
  },
  {
    "text": "replicas so this is important because",
    "start": "253470",
    "end": "255600"
  },
  {
    "text": "this left a service in the kubernetes",
    "start": "255600",
    "end": "257850"
  },
  {
    "text": "sense in kubernetes that had no",
    "start": "257850",
    "end": "260609"
  },
  {
    "text": "endpoints again this is relevant later",
    "start": "260609",
    "end": "263010"
  },
  {
    "text": "this did not cause an outage on this day",
    "start": "263010",
    "end": "264510"
  },
  {
    "text": "this is totally fine",
    "start": "264510",
    "end": "266620"
  },
  {
    "text": "the outage itself starts when an",
    "start": "266620",
    "end": "270060"
  },
  {
    "text": "engineer deploys a change to our ledger",
    "start": "270060",
    "end": "272410"
  },
  {
    "text": "so the ledger is kind of like any other",
    "start": "272410",
    "end": "274990"
  },
  {
    "text": "service in our back end in the sense",
    "start": "274990",
    "end": "276669"
  },
  {
    "text": "that it's deployed the same way it's",
    "start": "276669",
    "end": "278169"
  },
  {
    "text": "built the same way and deploying",
    "start": "278169",
    "end": "280570"
  },
  {
    "text": "services is very routine it's not",
    "start": "280570",
    "end": "282220"
  },
  {
    "text": "unusual for us to deploy a hundred times",
    "start": "282220",
    "end": "283960"
  },
  {
    "text": "a day but the ledger is quite important",
    "start": "283960",
    "end": "288040"
  },
  {
    "text": "if you know anything about how a bank",
    "start": "288040",
    "end": "289930"
  },
  {
    "text": "works it's it's the truth like it tells",
    "start": "289930",
    "end": "292990"
  },
  {
    "text": "us how much money every customer has so",
    "start": "292990",
    "end": "294760"
  },
  {
    "text": "it's a pretty important thing and when",
    "start": "294760",
    "end": "297610"
  },
  {
    "text": "the engineer deploys this service he",
    "start": "297610",
    "end": "299290"
  },
  {
    "text": "notices that the error rate coming from",
    "start": "299290",
    "end": "301930"
  },
  {
    "text": "the ledger is very high much higher than",
    "start": "301930",
    "end": "305830"
  },
  {
    "text": "you would expect so I mean basically",
    "start": "305830",
    "end": "308919"
  },
  {
    "text": "nothing's working as far as the legend",
    "start": "308919",
    "end": "310960"
  },
  {
    "text": "served so standard practice roll the",
    "start": "310960",
    "end": "314080"
  },
  {
    "text": "ledger back this is 2 minutes later",
    "start": "314080",
    "end": "315820"
  },
  {
    "text": "because the monitoring's you know firing",
    "start": "315820",
    "end": "320700"
  },
  {
    "text": "request continue to fail after he's",
    "start": "320700",
    "end": "323080"
  },
  {
    "text": "rolled the larger bag though which would",
    "start": "323080",
    "end": "324190"
  },
  {
    "text": "indicate the problem is not really a",
    "start": "324190",
    "end": "325930"
  },
  {
    "text": "logic problem in the ledger itself it's",
    "start": "325930",
    "end": "328080"
  },
  {
    "text": "something more fundamental with the",
    "start": "328080",
    "end": "331300"
  },
  {
    "text": "platform so he kind of hits the panic",
    "start": "331300",
    "end": "334840"
  },
  {
    "text": "button and ask people to help few",
    "start": "334840",
    "end": "338979"
  },
  {
    "text": "minutes later it's identified that link",
    "start": "338979",
    "end": "341620"
  },
  {
    "text": "Adi which as I mentioned is necessary so",
    "start": "341620",
    "end": "345070"
  },
  {
    "text": "that our services can talk to one",
    "start": "345070",
    "end": "346419"
  },
  {
    "text": "another is sending traffic was meant to",
    "start": "346419",
    "end": "348760"
  },
  {
    "text": "go to the ledger somewhere else so the",
    "start": "348760",
    "end": "352060"
  },
  {
    "text": "way that link Adi works is it watches",
    "start": "352060",
    "end": "354220"
  },
  {
    "text": "the kubernetes api and gets",
    "start": "354220",
    "end": "358090"
  },
  {
    "text": "sets of endpoints from the API and then",
    "start": "358090",
    "end": "360310"
  },
  {
    "text": "load balancers traffic across those in",
    "start": "360310",
    "end": "362080"
  },
  {
    "text": "this case it was sending traffic to IP",
    "start": "362080",
    "end": "364630"
  },
  {
    "text": "addresses that didn't exist it was",
    "start": "364630",
    "end": "366099"
  },
  {
    "text": "something I I peered it was sending",
    "start": "366099",
    "end": "367720"
  },
  {
    "text": "traffic to the IP addresses of the",
    "start": "367720",
    "end": "369340"
  },
  {
    "text": "ledger used to have prior to this",
    "start": "369340",
    "end": "370990"
  },
  {
    "text": "deployment and rollback and as you may",
    "start": "370990",
    "end": "374320"
  },
  {
    "text": "know with kubernetes every part has its",
    "start": "374320",
    "end": "375849"
  },
  {
    "text": "own IP address that's dynamically",
    "start": "375849",
    "end": "377320"
  },
  {
    "text": "assigned when it starts so that's why",
    "start": "377320",
    "end": "380460"
  },
  {
    "text": "those IP addresses have changed so we'd",
    "start": "380460",
    "end": "386020"
  },
  {
    "text": "actually seen some much smaller",
    "start": "386020",
    "end": "389800"
  },
  {
    "text": "instances of this happening before so on",
    "start": "389800",
    "end": "393970"
  },
  {
    "text": "on a small subset of lincolni pods we'd",
    "start": "393970",
    "end": "396430"
  },
  {
    "text": "seen it routing traffic to the wrong",
    "start": "396430",
    "end": "397690"
  },
  {
    "text": "place and we assumed this was",
    "start": "397690",
    "end": "400120"
  },
  {
    "text": "probably the same buck so we run some",
    "start": "400120",
    "end": "403389"
  },
  {
    "text": "internal tools we developed to tell us",
    "start": "403389",
    "end": "404919"
  },
  {
    "text": "which link ADIZ were misbehaving in this",
    "start": "404919",
    "end": "406930"
  },
  {
    "text": "case it tells us all of them are so",
    "start": "406930",
    "end": "408340"
  },
  {
    "text": "they're all sending traffic for The",
    "start": "408340",
    "end": "409690"
  },
  {
    "text": "Legend of the wrong place which we've",
    "start": "409690",
    "end": "411310"
  },
  {
    "text": "never seen before but sort of it's",
    "start": "411310",
    "end": "413530"
  },
  {
    "text": "reasonable to assume it's probably the",
    "start": "413530",
    "end": "415060"
  },
  {
    "text": "same problem on a larger scale I mean we",
    "start": "415060",
    "end": "416949"
  },
  {
    "text": "had no better information and the",
    "start": "416949",
    "end": "421000"
  },
  {
    "text": "standard practice in that case is to",
    "start": "421000",
    "end": "422229"
  },
  {
    "text": "restart the Lincoln II pods that are",
    "start": "422229",
    "end": "423699"
  },
  {
    "text": "misbehaving to kind of clear out this",
    "start": "423699",
    "end": "425710"
  },
  {
    "text": "stale cache which we start to do we",
    "start": "425710",
    "end": "429250"
  },
  {
    "text": "don't do it all at once a little while",
    "start": "429250",
    "end": "432940"
  },
  {
    "text": "later we notice that the ones that have",
    "start": "432940",
    "end": "434590"
  },
  {
    "text": "been restarted it can't start and a",
    "start": "434590",
    "end": "437950"
  },
  {
    "text": "little bit investigation shows that the",
    "start": "437950",
    "end": "440139"
  },
  {
    "text": "cubelets on every node which of the",
    "start": "440139",
    "end": "441669"
  },
  {
    "text": "things that are responsible for ensuring",
    "start": "441669",
    "end": "442720"
  },
  {
    "text": "that containers are running properly is",
    "start": "442720",
    "end": "445139"
  },
  {
    "text": "refusing to start the pod because it",
    "start": "445139",
    "end": "447729"
  },
  {
    "text": "can't get the configuration that's",
    "start": "447729",
    "end": "449470"
  },
  {
    "text": "needed to start link a tea from the API",
    "start": "449470",
    "end": "451450"
  },
  {
    "text": "server the the logs indicate that like",
    "start": "451450",
    "end": "453820"
  },
  {
    "text": "the API server is failing to respond to",
    "start": "453820",
    "end": "456430"
  },
  {
    "text": "that request",
    "start": "456430",
    "end": "457060"
  },
  {
    "text": "so again standard thing restart the API",
    "start": "457060",
    "end": "460630"
  },
  {
    "text": "service here that actually in this case",
    "start": "460630",
    "end": "462550"
  },
  {
    "text": "did fix that problem so after the API",
    "start": "462550",
    "end": "465220"
  },
  {
    "text": "server restart the link ad pods started",
    "start": "465220",
    "end": "468760"
  },
  {
    "text": "and we continued rolling the link ad",
    "start": "468760",
    "end": "471190"
  },
  {
    "text": "pods just after we'd finished rolling",
    "start": "471190",
    "end": "475030"
  },
  {
    "text": "the link ad pods this happened all of",
    "start": "475030",
    "end": "478900"
  },
  {
    "text": "the kind of alarms start to go off and",
    "start": "478900",
    "end": "481060"
  },
  {
    "text": "some of them are very simple some of",
    "start": "481060",
    "end": "482349"
  },
  {
    "text": "them are just kind of pings against our",
    "start": "482349",
    "end": "484360"
  },
  {
    "text": "API and the fact that we can't respond",
    "start": "484360",
    "end": "487030"
  },
  {
    "text": "to those is pretty dire like we've",
    "start": "487030",
    "end": "488620"
  },
  {
    "text": "basically our total outage on our hands",
    "start": "488620",
    "end": "490120"
  },
  {
    "text": "here more investigation shows that link",
    "start": "490120",
    "end": "494919"
  },
  {
    "text": "Adi is spewing a lot of null pointer",
    "start": "494919",
    "end": "497889"
  },
  {
    "text": "exceptions and a lot of a lot of the the",
    "start": "497889",
    "end": "501550"
  },
  {
    "text": "pods as many hundreds of these are in",
    "start": "501550",
    "end": "504099"
  },
  {
    "text": "crash loop back off which is where",
    "start": "504099",
    "end": "505810"
  },
  {
    "text": "kubernetes roffels the rate at which a",
    "start": "505810",
    "end": "507370"
  },
  {
    "text": "pod can restart some furious googling",
    "start": "507370",
    "end": "510789"
  },
  {
    "text": "later and we find that there's a",
    "start": "510789",
    "end": "512400"
  },
  {
    "text": "incompatibility between the the specific",
    "start": "512400",
    "end": "515349"
  },
  {
    "text": "versions of link ad in kubernetes that",
    "start": "515349",
    "end": "517270"
  },
  {
    "text": "we're using and it's triggered when",
    "start": "517270",
    "end": "519610"
  },
  {
    "text": "there's an empty endpoint set in the API",
    "start": "519610",
    "end": "523150"
  },
  {
    "text": "and as I mentioned earlier if you",
    "start": "523150",
    "end": "525459"
  },
  {
    "text": "remember back the day before we'd caused",
    "start": "525459",
    "end": "528459"
  },
  {
    "text": "that situation to happen in production",
    "start": "528459",
    "end": "529720"
  },
  {
    "text": "there was that one service that had an",
    "start": "529720",
    "end": "531130"
  },
  {
    "text": "empty end point set so the solution was",
    "start": "531130",
    "end": "532810"
  },
  {
    "text": "quite easy",
    "start": "532810",
    "end": "533440"
  },
  {
    "text": "just deleted that service if I think",
    "start": "533440",
    "end": "535570"
  },
  {
    "text": "they were too but we deleted it",
    "start": "535570",
    "end": "537370"
  },
  {
    "text": "everything comes back so huge sigh of",
    "start": "537370",
    "end": "539620"
  },
  {
    "text": "relief all in all the incident lasted",
    "start": "539620",
    "end": "543310"
  },
  {
    "text": "one hour and 21 minutes which is a very",
    "start": "543310",
    "end": "546850"
  },
  {
    "text": "long time",
    "start": "546850",
    "end": "548100"
  },
  {
    "text": "not ideal however throughout this and",
    "start": "548100",
    "end": "551650"
  },
  {
    "text": "for reasons I'll come on to talk about",
    "start": "551650",
    "end": "552850"
  },
  {
    "text": "the majority of payments did continue to",
    "start": "552850",
    "end": "555760"
  },
  {
    "text": "succeed and this is kind of one of those",
    "start": "555760",
    "end": "557980"
  },
  {
    "text": "core business metrics is one of the",
    "start": "557980",
    "end": "559990"
  },
  {
    "text": "things we care the most about like and",
    "start": "559990",
    "end": "561490"
  },
  {
    "text": "one of the things our customers care the",
    "start": "561490",
    "end": "562960"
  },
  {
    "text": "most about that they can access their",
    "start": "562960",
    "end": "564850"
  },
  {
    "text": "money so while this was a really hairy",
    "start": "564850",
    "end": "568690"
  },
  {
    "text": "outage for our engineers we only",
    "start": "568690",
    "end": "570130"
  },
  {
    "text": "actually had two customer complaints",
    "start": "570130",
    "end": "571510"
  },
  {
    "text": "from this so as far as our customers are",
    "start": "571510",
    "end": "573760"
  },
  {
    "text": "concerned obviously not ideal but not",
    "start": "573760",
    "end": "576190"
  },
  {
    "text": "completely catastrophic either after",
    "start": "576190",
    "end": "580120"
  },
  {
    "start": "580000",
    "end": "700000"
  },
  {
    "text": "every incident we have a culture of",
    "start": "580120",
    "end": "582130"
  },
  {
    "text": "post-mortems like I hope many of you do",
    "start": "582130",
    "end": "585730"
  },
  {
    "text": "where we sort of analyzed the root cause",
    "start": "585730",
    "end": "587800"
  },
  {
    "text": "and we try and learn operational lessons",
    "start": "587800",
    "end": "589900"
  },
  {
    "text": "that we can in this case the root causes",
    "start": "589900",
    "end": "591910"
  },
  {
    "text": "turned out to be complex the first one",
    "start": "591910",
    "end": "596380"
  },
  {
    "text": "was a bug that eventually came to light",
    "start": "596380",
    "end": "600940"
  },
  {
    "text": "that existed in the G RPC client library",
    "start": "600940",
    "end": "603130"
  },
  {
    "text": "so SCD in version 3 uses G RPC to talk",
    "start": "603130",
    "end": "608380"
  },
  {
    "text": "between clients and servers and this was",
    "start": "608380",
    "end": "610690"
  },
  {
    "text": "a bug in a client so the client is",
    "start": "610690",
    "end": "612490"
  },
  {
    "text": "embedded in the API server the API",
    "start": "612490",
    "end": "614170"
  },
  {
    "text": "server has this book and it happened",
    "start": "614170",
    "end": "617770"
  },
  {
    "text": "when there are connection resets",
    "start": "617770",
    "end": "620230"
  },
  {
    "text": "because as I mentioned earlier we'd two",
    "start": "620230",
    "end": "622840"
  },
  {
    "text": "weeks earlier rolled the entire cluster",
    "start": "622840",
    "end": "624430"
  },
  {
    "text": "they'd all experience these connection",
    "start": "624430",
    "end": "626140"
  },
  {
    "text": "resets so horrible look the second one",
    "start": "626140",
    "end": "632650"
  },
  {
    "text": "was the incompatibility between",
    "start": "632650",
    "end": "634480"
  },
  {
    "text": "kubernetes and linker D as I mentioned",
    "start": "634480",
    "end": "636790"
  },
  {
    "text": "this only existed between very specific",
    "start": "636790",
    "end": "638800"
  },
  {
    "text": "versions of kubernetes and linker D and",
    "start": "638800",
    "end": "640630"
  },
  {
    "text": "it was because of a breaking API change",
    "start": "640630",
    "end": "642430"
  },
  {
    "text": "that had been introduced in kubernetes",
    "start": "642430",
    "end": "644200"
  },
  {
    "text": "1.6 prior to 1.6 this is how an empty",
    "start": "644200",
    "end": "648550"
  },
  {
    "text": "endpoint set was represented after 1.6",
    "start": "648550",
    "end": "651940"
  },
  {
    "text": "this is how an empty endpoints that was",
    "start": "651940",
    "end": "654160"
  },
  {
    "text": "represented so tiny little change really",
    "start": "654160",
    "end": "658630"
  },
  {
    "text": "but because linka D wasn't expecting",
    "start": "658630",
    "end": "660580"
  },
  {
    "text": "that field to be nullable it couldn't",
    "start": "660580",
    "end": "661930"
  },
  {
    "text": "pass the JSON from its perspective it",
    "start": "661930",
    "end": "663850"
  },
  {
    "text": "was invalid and when he tried to access",
    "start": "663850",
    "end": "665140"
  },
  {
    "text": "that",
    "start": "665140",
    "end": "665710"
  },
  {
    "text": "it's got a nullpointerexception so",
    "start": "665710",
    "end": "668680"
  },
  {
    "text": "unfortunate the last thing that was kind",
    "start": "668680",
    "end": "672940"
  },
  {
    "text": "of a root cause in a sense of why this",
    "start": "672940",
    "end": "675220"
  },
  {
    "text": "outage lasted so long was human error",
    "start": "675220",
    "end": "678520"
  },
  {
    "text": "so while everyone obviously acted with",
    "start": "678520",
    "end": "681339"
  },
  {
    "text": "their best intentions we did make some",
    "start": "681339",
    "end": "684430"
  },
  {
    "text": "bad decisions and by we include myself",
    "start": "684430",
    "end": "686860"
  },
  {
    "text": "in that specifically restarting those",
    "start": "686860",
    "end": "689980"
  },
  {
    "text": "linka deep odds wasn't necessary and",
    "start": "689980",
    "end": "691899"
  },
  {
    "text": "made things far worse the reason we did",
    "start": "691899",
    "end": "694690"
  },
  {
    "text": "that was because we didn't have enough",
    "start": "694690",
    "end": "695560"
  },
  {
    "text": "easily accessible info about what to do",
    "start": "695560",
    "end": "699270"
  },
  {
    "text": "so next I'm going to talk about some of",
    "start": "699270",
    "end": "701170"
  },
  {
    "start": "700000",
    "end": "808000"
  },
  {
    "text": "the lessons we've learned first I'm",
    "start": "701170",
    "end": "702459"
  },
  {
    "text": "going to talk about the technical lesson",
    "start": "702459",
    "end": "704320"
  },
  {
    "text": "as kind of things from an architectural",
    "start": "704320",
    "end": "705820"
  },
  {
    "text": "perspective that I think we've learned",
    "start": "705820",
    "end": "707920"
  },
  {
    "text": "from this and then I'll talk about some",
    "start": "707920",
    "end": "709750"
  },
  {
    "text": "of the more like operational things the",
    "start": "709750",
    "end": "713440"
  },
  {
    "text": "first one I think is really important",
    "start": "713440",
    "end": "714670"
  },
  {
    "text": "and actually one of the things that",
    "start": "714670",
    "end": "715870"
  },
  {
    "text": "worked well here is this concept of",
    "start": "715870",
    "end": "717820"
  },
  {
    "text": "defense-in-depth which is traditionally",
    "start": "717820",
    "end": "720790"
  },
  {
    "text": "a security thing which basically is that",
    "start": "720790",
    "end": "723610"
  },
  {
    "text": "you have multiple layers of redundant",
    "start": "723610",
    "end": "726250"
  },
  {
    "text": "security such that they compensate for",
    "start": "726250",
    "end": "728260"
  },
  {
    "text": "one another if one fails and I think",
    "start": "728260",
    "end": "730660"
  },
  {
    "text": "this can apply to reliability as well",
    "start": "730660",
    "end": "733089"
  },
  {
    "text": "and did in this case quite well so if I",
    "start": "733089",
    "end": "737320"
  },
  {
    "text": "explain a little bit about how the",
    "start": "737320",
    "end": "738790"
  },
  {
    "text": "MasterCard Network works it doesn't work",
    "start": "738790",
    "end": "741640"
  },
  {
    "text": "on the Internet",
    "start": "741640",
    "end": "742330"
  },
  {
    "text": "it's a network in the literal sense that",
    "start": "742330",
    "end": "744190"
  },
  {
    "text": "you connect a physical wire to",
    "start": "744190",
    "end": "746290"
  },
  {
    "text": "MasterCard and that's kind of",
    "start": "746290",
    "end": "748600"
  },
  {
    "text": "fundamentally incompatible with AWS",
    "start": "748600",
    "end": "750459"
  },
  {
    "text": "which is where most of our most of our",
    "start": "750459",
    "end": "753310"
  },
  {
    "text": "systems run so we have this edge layer",
    "start": "753310",
    "end": "755200"
  },
  {
    "text": "of data centers which connect to AWS and",
    "start": "755200",
    "end": "757980"
  },
  {
    "text": "basically proxy traffic between",
    "start": "757980",
    "end": "760060"
  },
  {
    "text": "MasterCard on AWS what we did in this",
    "start": "760060",
    "end": "766690"
  },
  {
    "text": "case is we have a fallback system that",
    "start": "766690",
    "end": "769690"
  },
  {
    "text": "exists in the edge layer that kind of in",
    "start": "769690",
    "end": "773529"
  },
  {
    "text": "the event of a really catastrophic",
    "start": "773529",
    "end": "775209"
  },
  {
    "text": "failure it can continue to authorize",
    "start": "775209",
    "end": "776829"
  },
  {
    "text": "payments even though the everything else",
    "start": "776829",
    "end": "779230"
  },
  {
    "text": "is down subject to fraud controls and",
    "start": "779230",
    "end": "782230"
  },
  {
    "text": "then when the backend comes back it can",
    "start": "782230",
    "end": "784510"
  },
  {
    "text": "replay those transactions so customers",
    "start": "784510",
    "end": "787120"
  },
  {
    "text": "didn't see transactions in their out",
    "start": "787120",
    "end": "788350"
  },
  {
    "text": "immediately but crucially they could",
    "start": "788350",
    "end": "790000"
  },
  {
    "text": "spend their money and it really paid off",
    "start": "790000",
    "end": "792160"
  },
  {
    "text": "to have built that in this case and I",
    "start": "792160",
    "end": "793750"
  },
  {
    "text": "think this is a lesson that can apply it",
    "start": "793750",
    "end": "797290"
  },
  {
    "text": "much more broadly than just with payment",
    "start": "797290",
    "end": "799360"
  },
  {
    "text": "I know this is something this is one of",
    "start": "799360",
    "end": "801130"
  },
  {
    "text": "the main reasons I think Netflix built",
    "start": "801130",
    "end": "802510"
  },
  {
    "text": "the historic library the second thing I",
    "start": "802510",
    "end": "810070"
  },
  {
    "start": "808000",
    "end": "1064000"
  },
  {
    "text": "want to talk about another thing",
    "start": "810070",
    "end": "811450"
  },
  {
    "text": "popularized by Netflix actually is chaos",
    "start": "811450",
    "end": "813339"
  },
  {
    "text": "engineering this is something we were",
    "start": "813339",
    "end": "814960"
  },
  {
    "text": "not doing however I think if we were",
    "start": "814960",
    "end": "817680"
  },
  {
    "text": "this would have caught the issue before",
    "start": "817680",
    "end": "822040"
  },
  {
    "text": "it became an issue so chaos engineering",
    "start": "822040",
    "end": "825220"
  },
  {
    "text": "is defined as the discipline of",
    "start": "825220",
    "end": "826540"
  },
  {
    "text": "experimenting on a distribution system",
    "start": "826540",
    "end": "827890"
  },
  {
    "text": "in order to build confidence in the",
    "start": "827890",
    "end": "829450"
  },
  {
    "text": "system's capability to withstand",
    "start": "829450",
    "end": "831220"
  },
  {
    "text": "turbulent conditions in production a",
    "start": "831220",
    "end": "833020"
  },
  {
    "text": "Netflix has this toolkit for doing this",
    "start": "833020",
    "end": "835330"
  },
  {
    "text": "called the simian army and one of the",
    "start": "835330",
    "end": "837430"
  },
  {
    "text": "primary constituents of this army is",
    "start": "837430",
    "end": "840100"
  },
  {
    "text": "called the chaos monkey which is this",
    "start": "840100",
    "end": "842130"
  },
  {
    "text": "thing that you would run in an",
    "start": "842130",
    "end": "844120"
  },
  {
    "text": "environment in this case if we'd been",
    "start": "844120",
    "end": "845680"
  },
  {
    "text": "running it in production which kills",
    "start": "845680",
    "end": "847900"
  },
  {
    "text": "nodes in a controlled way to give you",
    "start": "847900",
    "end": "851440"
  },
  {
    "text": "confidence that if that happens in an",
    "start": "851440",
    "end": "853810"
  },
  {
    "text": "uncontrolled way which we acknowledge is",
    "start": "853810",
    "end": "855700"
  },
  {
    "text": "inevitable then you know how your system",
    "start": "855700",
    "end": "858880"
  },
  {
    "text": "will behave and I think if we'd been",
    "start": "858880",
    "end": "860650"
  },
  {
    "text": "doing this in production we would have",
    "start": "860650",
    "end": "862240"
  },
  {
    "text": "seen that link ADIZ cannot restart",
    "start": "862240",
    "end": "864700"
  },
  {
    "text": "safely and we would have caught that",
    "start": "864700",
    "end": "866470"
  },
  {
    "text": "long before that was an actual problem I",
    "start": "866470",
    "end": "869290"
  },
  {
    "text": "think this is particularly interesting",
    "start": "869290",
    "end": "871240"
  },
  {
    "text": "in a cloud native and kubernetes sense",
    "start": "871240",
    "end": "874480"
  },
  {
    "text": "and there are some projects starting to",
    "start": "874480",
    "end": "876310"
  },
  {
    "text": "emerge around this I think there's one",
    "start": "876310",
    "end": "877570"
  },
  {
    "text": "called cube monkey I know bloomberg has",
    "start": "877570",
    "end": "879100"
  },
  {
    "text": "built a tool to do this as well I don't",
    "start": "879100",
    "end": "881110"
  },
  {
    "text": "think any are quite as sophisticated as",
    "start": "881110",
    "end": "882400"
  },
  {
    "text": "the Netflix simian army but I'd expect",
    "start": "882400",
    "end": "884020"
  },
  {
    "text": "to see this some this being something",
    "start": "884020",
    "end": "886779"
  },
  {
    "text": "that the that the community and",
    "start": "886779",
    "end": "889150"
  },
  {
    "text": "companies like us even might focus on in",
    "start": "889150",
    "end": "890980"
  },
  {
    "text": "the coming months and years the next",
    "start": "890980",
    "end": "894490"
  },
  {
    "text": "things I think are more operational",
    "start": "894490",
    "end": "896500"
  },
  {
    "text": "so in this outage our monitoring did a",
    "start": "896500",
    "end": "900490"
  },
  {
    "text": "very good job of telling us that this",
    "start": "900490",
    "end": "902440"
  },
  {
    "text": "deployment of the ledger had broken",
    "start": "902440",
    "end": "904480"
  },
  {
    "text": "everything but it did not do a very good",
    "start": "904480",
    "end": "907300"
  },
  {
    "text": "job of telling engineers that this",
    "start": "907300",
    "end": "909880"
  },
  {
    "text": "gradual process of restarting these",
    "start": "909880",
    "end": "911589"
  },
  {
    "text": "lincolni pods was slowly killing the",
    "start": "911589",
    "end": "913029"
  },
  {
    "text": "platform until it was too late",
    "start": "913029",
    "end": "914560"
  },
  {
    "text": "like there were metrics for that but",
    "start": "914560",
    "end": "916330"
  },
  {
    "text": "they're just sort of buried too deeply",
    "start": "916330",
    "end": "917680"
  },
  {
    "text": "in places and not kind of in-your-face",
    "start": "917680",
    "end": "919150"
  },
  {
    "text": "enough and I think putting this stuff in",
    "start": "919150",
    "end": "922150"
  },
  {
    "text": "people's faces is definitely a good",
    "start": "922150",
    "end": "924610"
  },
  {
    "text": "practice and I think one of the lessons",
    "start": "924610",
    "end": "927370"
  },
  {
    "text": "we've learned from this is in addition",
    "start": "927370",
    "end": "929050"
  },
  {
    "text": "to making the monitoring system better",
    "start": "929050",
    "end": "931830"
  },
  {
    "text": "we should make it a practice to sort of",
    "start": "931830",
    "end": "933420"
  },
  {
    "text": "think about all of this stuff more than",
    "start": "933420",
    "end": "935460"
  },
  {
    "text": "we were up front when building services",
    "start": "935460",
    "end": "937470"
  },
  {
    "text": "and make sure that these things are",
    "start": "937470",
    "end": "939000"
  },
  {
    "text": "really visible to people and impossible",
    "start": "939000",
    "end": "941400"
  },
  {
    "text": "to ignore the last thing I want to talk",
    "start": "941400",
    "end": "945690"
  },
  {
    "text": "about is one of the one of the really",
    "start": "945690",
    "end": "949410"
  },
  {
    "text": "good aspects I think of Manzo's culture",
    "start": "949410",
    "end": "950940"
  },
  {
    "text": "one of the main aspects of our culture",
    "start": "950940",
    "end": "952500"
  },
  {
    "text": "most important is transparency so as I",
    "start": "952500",
    "end": "956190"
  },
  {
    "text": "mentioned we're building this bank with",
    "start": "956190",
    "end": "957480"
  },
  {
    "text": "our community and what that means is",
    "start": "957480",
    "end": "959760"
  },
  {
    "text": "internally we have this concept of",
    "start": "959760",
    "end": "961350"
  },
  {
    "text": "defaulting to something being",
    "start": "961350",
    "end": "962700"
  },
  {
    "text": "transparent and this means that an",
    "start": "962700",
    "end": "964350"
  },
  {
    "text": "argument has to be made to keep",
    "start": "964350",
    "end": "967170"
  },
  {
    "text": "something private rather than an",
    "start": "967170",
    "end": "968850"
  },
  {
    "text": "argument needing to be made to make it",
    "start": "968850",
    "end": "970170"
  },
  {
    "text": "public you can see lots of examples of",
    "start": "970170",
    "end": "973440"
  },
  {
    "text": "this with how we're building the company",
    "start": "973440",
    "end": "974760"
  },
  {
    "text": "we have this community forum where we",
    "start": "974760",
    "end": "976230"
  },
  {
    "text": "share tons of stuff that we're doing we",
    "start": "976230",
    "end": "978210"
  },
  {
    "text": "have OpenOffice events we publish our",
    "start": "978210",
    "end": "980220"
  },
  {
    "text": "annual reports publicly we have a public",
    "start": "980220",
    "end": "982860"
  },
  {
    "text": "product roadmap and the company in no",
    "start": "982860",
    "end": "985410"
  },
  {
    "text": "small part exists thanks to crowdfunding",
    "start": "985410",
    "end": "987890"
  },
  {
    "text": "and in this case in the spirit of",
    "start": "987890",
    "end": "990570"
  },
  {
    "text": "transparency we publish this public",
    "start": "990570",
    "end": "992220"
  },
  {
    "text": "post-mortem on our community forum both",
    "start": "992220",
    "end": "996090"
  },
  {
    "text": "because it's the right thing to do and",
    "start": "996090",
    "end": "997890"
  },
  {
    "text": "also because I really like reading other",
    "start": "997890",
    "end": "999330"
  },
  {
    "text": "people's post mortems I'm noting out on",
    "start": "999330",
    "end": "1001280"
  },
  {
    "text": "them I think it's one of the ways you",
    "start": "1001280",
    "end": "1004010"
  },
  {
    "text": "learn the most about a system is sort of",
    "start": "1004010",
    "end": "1006110"
  },
  {
    "text": "looking at how it goes wrong this was",
    "start": "1006110",
    "end": "1008630"
  },
  {
    "text": "read by thousands probably tens of",
    "start": "1008630",
    "end": "1010880"
  },
  {
    "text": "thousands of people including crucially",
    "start": "1010880",
    "end": "1012680"
  },
  {
    "text": "people in the communities community and",
    "start": "1012680",
    "end": "1014360"
  },
  {
    "text": "I thought the response was fantastic to",
    "start": "1014360",
    "end": "1016460"
  },
  {
    "text": "this that the community really sort of",
    "start": "1016460",
    "end": "1019580"
  },
  {
    "text": "took it upon themselves to help us",
    "start": "1019580",
    "end": "1021260"
  },
  {
    "text": "understand these issues and fix them and",
    "start": "1021260",
    "end": "1022880"
  },
  {
    "text": "if we'd not been forthcoming about what",
    "start": "1022880",
    "end": "1026150"
  },
  {
    "text": "happened I don't think we would have",
    "start": "1026150",
    "end": "1027850"
  },
  {
    "text": "benefited in this way before you",
    "start": "1027850",
    "end": "1029510"
  },
  {
    "text": "wouldn't understand the root cause of",
    "start": "1029510",
    "end": "1030709"
  },
  {
    "text": "some of these even now because some of",
    "start": "1030709",
    "end": "1032300"
  },
  {
    "text": "them are so low level and I think lots",
    "start": "1032300",
    "end": "1034790"
  },
  {
    "text": "of companies are very good about talking",
    "start": "1034790",
    "end": "1036800"
  },
  {
    "text": "about their successors but not their",
    "start": "1036800",
    "end": "1038329"
  },
  {
    "text": "failures but I think we could all learn",
    "start": "1038330",
    "end": "1040430"
  },
  {
    "text": "from each other's experiences good and",
    "start": "1040430",
    "end": "1041990"
  },
  {
    "text": "bad so I think embrace the community in",
    "start": "1041990",
    "end": "1044449"
  },
  {
    "text": "every way that you can so that's about",
    "start": "1044449",
    "end": "1048260"
  },
  {
    "text": "it I would like to have a shameless plug",
    "start": "1048260",
    "end": "1049850"
  },
  {
    "text": "if you think these if you think these",
    "start": "1049850",
    "end": "1053000"
  },
  {
    "text": "challenges are interesting and these",
    "start": "1053000",
    "end": "1054380"
  },
  {
    "text": "technologies are interesting please come",
    "start": "1054380",
    "end": "1055760"
  },
  {
    "text": "and find me tweet at me whatever we",
    "start": "1055760",
    "end": "1058310"
  },
  {
    "text": "would love to have you on board thanks",
    "start": "1058310",
    "end": "1060770"
  },
  {
    "text": "very much",
    "start": "1060770",
    "end": "1063070"
  }
]