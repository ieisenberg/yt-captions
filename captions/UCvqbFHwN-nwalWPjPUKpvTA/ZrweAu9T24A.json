[
  {
    "start": "0",
    "end": "14000"
  },
  {
    "text": "everyone welcome to my talk welcome to the last day of coop con I'm super",
    "start": "0",
    "end": "6600"
  },
  {
    "text": "excited to be here and sitting on the other side of the podium is really curious for me so thank you all for",
    "start": "6600",
    "end": "12900"
  },
  {
    "text": "having me here today so Who am I my name is Jonathan Pulsifer I'm an infrastructure security engineer at",
    "start": "12900",
    "end": "18539"
  },
  {
    "start": "14000",
    "end": "46000"
  },
  {
    "text": "Shopify certified kubernetes administrator number 89 if that means anything you can",
    "start": "18539",
    "end": "23670"
  },
  {
    "text": "find me on github and and twitter at john Pulsifer previously was a team",
    "start": "23670",
    "end": "29550"
  },
  {
    "text": "leader at the Canadian Forces Network Operations Center that's where I got some of my security operations experience and on my tinfoil hat Network",
    "start": "29550",
    "end": "36480"
  },
  {
    "text": "defense instructor at the Canadian Forces school of communications electronics and a distant work force and some construction so some packet",
    "start": "36480",
    "end": "42690"
  },
  {
    "text": "analysis and all that stuff so I am a certified packet ninja so thank you for",
    "start": "42690",
    "end": "47910"
  },
  {
    "text": "getting for having me on stage today my first coop con was back earlier this year in Berlin where I was sitting on",
    "start": "47910",
    "end": "53129"
  },
  {
    "text": "the floor watching Jessie Frizzell and Alex more talk about securing Jiki clusters or securing the kubernetes",
    "start": "53129",
    "end": "59399"
  },
  {
    "text": "clusters so I'm really glad that the venue has a little bit larger room than than they did in Berlin so that's fantastic fun fact for those who didn't",
    "start": "59399",
    "end": "67860"
  },
  {
    "start": "65000",
    "end": "89000"
  },
  {
    "text": "know the kubernetes store the CNC F store actually runs on kubernetes at Shopify so that's really interesting I",
    "start": "67860",
    "end": "74640"
  },
  {
    "text": "went and talked to the folks who are running the booth down there and I let them know that they should be letting you know that if you purchase anything",
    "start": "74640",
    "end": "80939"
  },
  {
    "text": "you're actually purchasing something that's your kubernetes it was one of the actual first doors that we moved to our cloud platform at Shopify so before",
    "start": "80939",
    "end": "90479"
  },
  {
    "start": "89000",
    "end": "99000"
  },
  {
    "text": "start talking about security controls and how we do this first we need to gather some more context about how we",
    "start": "90479",
    "end": "96689"
  },
  {
    "text": "run services at Shopify so we have what's called a service tier model where",
    "start": "96689",
    "end": "102240"
  },
  {
    "text": "as an application sort of moves through the software development lifecycle we start off at tier 4 where we have a lot",
    "start": "102240",
    "end": "108659"
  },
  {
    "text": "few requirements you know it encourages that rapid prototyping really gets agility in there and as we move through",
    "start": "108659",
    "end": "114149"
  },
  {
    "text": "through business importance we we impose things like service level objectives and",
    "start": "114149",
    "end": "119219"
  },
  {
    "text": "the traditional sort of software development lifecycle and controls and impose things like page rotations the CI",
    "start": "119219",
    "end": "126380"
  },
  {
    "text": "alerting redundancy Incident Response these sorts of things and so when we were moving to",
    "start": "126380",
    "end": "132540"
  },
  {
    "text": "kubernetes setting up all of our clusters and I was thinking why don't we do the same thing",
    "start": "132540",
    "end": "139050"
  },
  {
    "text": "with security so i've coined what i've",
    "start": "139050",
    "end": "144060"
  },
  {
    "text": "called the security tiers so first and foremost when when you create an application on our cloud platform on",
    "start": "144060",
    "end": "149430"
  },
  {
    "text": "tier 4 we impose things like strict auerbach creedy's at two stations we'll talk a little bit more about what those",
    "start": "149430",
    "end": "155100"
  },
  {
    "text": "are later but as we move through the tiers I have this vision if I were to have one of restricting the the runtime",
    "start": "155100",
    "end": "162900"
  },
  {
    "text": "of containers with seccomp a primer the network policies security context dropping all the container capabilities",
    "start": "162900",
    "end": "168660"
  },
  {
    "text": "and these sorts of things so this is the vision that I have for doing this on my",
    "start": "168660",
    "end": "174930"
  },
  {
    "text": "team so we're gonna explore a little bit of how we do this so how many namespaces",
    "start": "174930",
    "end": "180000"
  },
  {
    "start": "178000",
    "end": "225000"
  },
  {
    "text": "do we have how many clusters do we have what does it look like so kubernetes namespaces by tier we have",
    "start": "180000",
    "end": "186270"
  },
  {
    "text": "with 60 namespaces in tier one across a number of clusters - you're - we're about 70 total of about 450 namespaces",
    "start": "186270",
    "end": "192180"
  },
  {
    "text": "operationally for services running at Shopify on gke right now so that's pretty outstanding how does a team of",
    "start": "192180",
    "end": "198170"
  },
  {
    "text": "seven cloud security individuals maintain sanity and sleep at night with this many namespaces running amuck and",
    "start": "198170",
    "end": "204739"
  },
  {
    "text": "it's important to know that as we move to kubernetes we're not there yet we're",
    "start": "204739",
    "end": "211590"
  },
  {
    "text": "still in I guess an exploratory phase we've moved most of our internal applications over but it just should be",
    "start": "211590",
    "end": "217680"
  },
  {
    "text": "noted that we still have two data centers which are very much hot and we're exploring some kubernetes there but we're actually going to be focusing",
    "start": "217680",
    "end": "222900"
  },
  {
    "text": "on GK for the portion of this talk so I'd like to introduce our cloud platform",
    "start": "222900",
    "end": "228230"
  },
  {
    "start": "225000",
    "end": "251000"
  },
  {
    "text": "our cloud platform is running on GK and it's it again we have about 600 projects in Google cloud platform today",
    "start": "228230",
    "end": "233750"
  },
  {
    "text": "maintained by 15 folders 700 Google Groups and 20 G key clusters so this",
    "start": "233750",
    "end": "240420"
  },
  {
    "text": "isn't like the running one service per cluster idea we have a way of a number",
    "start": "240420",
    "end": "245610"
  },
  {
    "text": "of clusters in a number of production projects which serve a lot of traffic so that's some members for you with that",
    "start": "245610",
    "end": "251790"
  },
  {
    "start": "251000",
    "end": "288000"
  },
  {
    "text": "many clusters and this many resources that we have to control the security work when you have to rely on people to",
    "start": "251790",
    "end": "257519"
  },
  {
    "text": "do things correctly obvious answer here is a big No right so it's important that",
    "start": "257519",
    "end": "263100"
  },
  {
    "text": "as we as we scale our operations as we scale our clusters the scale they'll all this we need to introduce these these these this",
    "start": "263100",
    "end": "270870"
  },
  {
    "text": "automation into our into our platform so we can actually maintain agility with our developers with a thousand active",
    "start": "270870",
    "end": "276510"
  },
  {
    "text": "developers at Shopify and how do we give them that Heroku sort of feel how do we",
    "start": "276510",
    "end": "281640"
  },
  {
    "text": "had we let them push code and how do we then secure those running containers so",
    "start": "281640",
    "end": "289290"
  },
  {
    "start": "288000",
    "end": "320000"
  },
  {
    "text": "this is a general overview of our cloud platform architecture and what we're going to do is we're going to step through a number of components here and",
    "start": "289290",
    "end": "295200"
  },
  {
    "text": "we're going to introduce not the operational patterns the operational automation because it's not the focus of",
    "start": "295200",
    "end": "300300"
  },
  {
    "text": "this talk it's going to be the security automation here so at each sort of stage in this process we have our traditional",
    "start": "300300",
    "end": "307320"
  },
  {
    "text": "I guess everybody has a builder right CIN CD is not new there's been a lot of talks on this but there has been a lot",
    "start": "307320",
    "end": "312330"
  },
  {
    "text": "of talks on introducing security controls into those pipelines so we're gonna step through those and see what they mean so we're gonna start off with",
    "start": "312330",
    "end": "318540"
  },
  {
    "text": "services DB so services DB is this sort of front-end for service as a Shopify",
    "start": "318540",
    "end": "324870"
  },
  {
    "start": "320000",
    "end": "493000"
  },
  {
    "text": "where we have about 300 400 services that run and how do we visualize or how",
    "start": "324870",
    "end": "330120"
  },
  {
    "text": "do we make sure that everybody has their their their PlayBook set up how do we make sure that their logs are there you",
    "start": "330120",
    "end": "335250"
  },
  {
    "text": "know we're how can we visualize this and this is the tool call it services DB I'm",
    "start": "335250",
    "end": "340500"
  },
  {
    "text": "not going to focus much on the actual front ending of operations again but",
    "start": "340500",
    "end": "345990"
  },
  {
    "text": "with services DB because it has sort of the application context this is the first the first place where an",
    "start": "345990",
    "end": "351480"
  },
  {
    "text": "application sort of begins its life cycling you have a repo and you sign up for services DB and then we can do some do some things like automatic patching",
    "start": "351480",
    "end": "357870"
  },
  {
    "text": "so on the right hand side here you see we have this this robot who's creating a pull request on my repository that says",
    "start": "357870",
    "end": "364470"
  },
  {
    "text": "hey John your Shopify Cloud Jim is on a date so you should probably get that patched we're a big ruby shop Shopify so",
    "start": "364470",
    "end": "371330"
  },
  {
    "text": "most of the most of the automation we have a built in for our dependencies",
    "start": "371330",
    "end": "376980"
  },
  {
    "text": "revolve around Ruby so this is an example of one of those where we actually provide our developers who are building Ruby on Rails applications with",
    "start": "376980",
    "end": "383520"
  },
  {
    "text": "a gem the Shopify Cloud gem which bill did some more operational automation as well as things like providing good",
    "start": "383520",
    "end": "390900"
  },
  {
    "text": "patterns around say storage for example is a good example of that so with this we actually when we have a repository",
    "start": "390900",
    "end": "398610"
  },
  {
    "text": "and we clicks our create service runtime Creek Runtime it's actually going to do a lot of magic in the back end and this is",
    "start": "398610",
    "end": "404200"
  },
  {
    "text": "ground control and ground control is really curious because we use this to",
    "start": "404200",
    "end": "409230"
  },
  {
    "text": "assign sort of identity to our namespaces while we wait for and we've heard of the container identity working",
    "start": "409230",
    "end": "415660"
  },
  {
    "text": "group and spiffy and we're getting to a point where we can then attach identity to a pod or our container we can't do",
    "start": "415660",
    "end": "422470"
  },
  {
    "text": "that today so how did we do this at Shopify is where we actually give identity to the namespace so when you",
    "start": "422470",
    "end": "428140"
  },
  {
    "text": "create your cloud runtime with services DB what's going to happen is we're going to create you a GCP service account",
    "start": "428140",
    "end": "433180"
  },
  {
    "text": "that's gonna be bound to your sort of name space environment pair then we're going to mount that secret for you inside your kubernetes namespace at the",
    "start": "433180",
    "end": "440020"
  },
  {
    "text": "same time we're gonna provision you an adjacent key pair so what see jason so go check it out",
    "start": "440020",
    "end": "446290"
  },
  {
    "text": "it's actually open-source it's called encrypted Jason it allows us to use asymmetric encryption techniques to keep",
    "start": "446290",
    "end": "452200"
  },
  {
    "text": "our secrets inside of git repository so that we can actually have the secret encrypted in there and when we deploy to",
    "start": "452200",
    "end": "458950"
  },
  {
    "text": "our kubernetes namespace it actually decrypt sat runtime so we don't need to worry about these secrets being baked",
    "start": "458950",
    "end": "464500"
  },
  {
    "text": "into containers right that that bad anti-pattern that sort of sort of has come up over over the years and we can",
    "start": "464500",
    "end": "470740"
  },
  {
    "text": "avoid this by using encrypted Jason so if we have an encrypted file full of secrets in there who cares right but",
    "start": "470740",
    "end": "475780"
  },
  {
    "text": "with this we actually get the auditing for version control and all the secrets so if somebody goes and checks in a secret we can see who did that win so",
    "start": "475780",
    "end": "482740"
  },
  {
    "text": "that's really unique and and we also annotate the namespace with like your your github minutes or who owns this",
    "start": "482740",
    "end": "489100"
  },
  {
    "text": "where's this repo come from get a little bit more context to that so now that",
    "start": "489100",
    "end": "494440"
  },
  {
    "text": "we've taken a repository and we've sort of built its kubernetes groundwork with",
    "start": "494440",
    "end": "500200"
  },
  {
    "text": "ground control how do we get your container built so this is the fun piece at Shopify we do about 6,000 builds",
    "start": "500200",
    "end": "507729"
  },
  {
    "start": "504000",
    "end": "544000"
  },
  {
    "text": "average and weekday this is not like container builds going into production this is everything from CI this is this",
    "start": "507729",
    "end": "513820"
  },
  {
    "text": "is our overall builder stats so we so we build about 6,000 containers for a weekday life cycling is really hard so",
    "start": "513820",
    "end": "519969"
  },
  {
    "text": "we have about 450,000 images and GCR today and that has given us and the",
    "start": "519969",
    "end": "526990"
  },
  {
    "text": "folks doing the GC our vulnerability scanning a little bit of load testing help because this there is they're",
    "start": "526990",
    "end": "532570"
  },
  {
    "text": "building these these products to help us out the amount of of containers that are actually shoving in there is actually",
    "start": "532570",
    "end": "538990"
  },
  {
    "text": "giving us a hard time so there's a little bit of a latency problem there but we're gonna chat about that a little bit later so our builder is called PIPA",
    "start": "538990",
    "end": "546399"
  },
  {
    "start": "544000",
    "end": "635000"
  },
  {
    "text": "and our builders run on built kite you saw previously so PIPA and Portuguese actually means",
    "start": "546399",
    "end": "552070"
  },
  {
    "text": "kite so that's where that name came from and it's a docker in docker golang",
    "start": "552070",
    "end": "557910"
  },
  {
    "text": "creature that does a lot of discovery so what I mean by that is if you have a",
    "start": "557910",
    "end": "563350"
  },
  {
    "text": "repository as a developer should you understand explicitly how to build a",
    "start": "563350",
    "end": "570580"
  },
  {
    "text": "docker container I mean arguably now so what can we do here to",
    "start": "570580",
    "end": "576190"
  },
  {
    "text": "help get a secure container into production so with people what it actually does is it discovers using the",
    "start": "576190",
    "end": "581860"
  },
  {
    "text": "same Heroku buildpack model what code lives inside your repository and will provision you the appropriate build",
    "start": "581860",
    "end": "586990"
  },
  {
    "text": "packs needed for your application to run so on the right hand side here you see the sort of build kite screenshot there",
    "start": "586990",
    "end": "593230"
  },
  {
    "text": "and a couple different different stages of our pipeline to a pipeline set up we trigger a validation build and we build",
    "start": "593230",
    "end": "598959"
  },
  {
    "text": "your container at the very bottom you see this face and Creedy stuff we're gonna chat about that next",
    "start": "598959",
    "end": "604029"
  },
  {
    "text": "but with our builder it's important to know that when it comes to building a",
    "start": "604029",
    "end": "610149"
  },
  {
    "text": "container and actually building that container is when you have the most context as to what's going to be running inside of that container right you see",
    "start": "610149",
    "end": "615520"
  },
  {
    "text": "the packages being installed you see the versions the build packs you know you you have the most context so this is",
    "start": "615520",
    "end": "620860"
  },
  {
    "text": "where we can actually do a lot of our discovery initial discovery and an auditing and actually sort of check out what's going on right so we can actually",
    "start": "620860",
    "end": "626709"
  },
  {
    "text": "do some audits like does this can this is image run his route this is image continually vulnerable packages and container ACTA stations so what our",
    "start": "626709",
    "end": "634209"
  },
  {
    "text": "container into stations what does this mean I'm going to talk about Griffis and creedy's if you all have seen the",
    "start": "634209",
    "end": "640930"
  },
  {
    "start": "635000",
    "end": "819000"
  },
  {
    "text": "sessions that have been going on there's been a couple longer fayus and grey face and creedy's has really been a large",
    "start": "640930",
    "end": "647560"
  },
  {
    "text": "focus for the cloud security team for the last in a while so Grif anus is a software component metadata API where it",
    "start": "647560",
    "end": "654220"
  },
  {
    "text": "allows us to store details or metadata about a given software package right you",
    "start": "654220",
    "end": "659470"
  },
  {
    "text": "can have a dead in our PM these sorts of things but isn't a container just an",
    "start": "659470",
    "end": "665350"
  },
  {
    "text": "image that we could also for absolutely right so using the the",
    "start": "665350",
    "end": "670809"
  },
  {
    "text": "namespace and image and the digest as the key we can actually produce what's called the note that build so we can",
    "start": "670809",
    "end": "676749"
  },
  {
    "text": "sort of start this this the this chain of provenance is who who created this",
    "start": "676749",
    "end": "682389"
  },
  {
    "text": "container when was it built you know what what what other is a deployed in",
    "start": "682389",
    "end": "688899"
  },
  {
    "text": "production right now and these other pieces that we have contacts for at build time so we produce these notes I",
    "start": "688899",
    "end": "694990"
  },
  {
    "text": "build and if you actually use Google container builder you get all this stuff for free on the inside which is sort of neat so as a as a personal customer I've",
    "start": "694990",
    "end": "701860"
  },
  {
    "text": "actually I didn't know this but you know building my own containers and my own personal projects it said ok well well",
    "start": "701860",
    "end": "707649"
  },
  {
    "text": "what is this stuff what does this look like on the right hand side here we see what's called an occurrence of or a note",
    "start": "707649",
    "end": "715119"
  },
  {
    "text": "of a package vulnerability so with Griffis it's just metadata right so we can",
    "start": "715119",
    "end": "720220"
  },
  {
    "text": "actually start pushing things like vulnerabilities there so you see this a TCP dump before and I know package and",
    "start": "720220",
    "end": "725860"
  },
  {
    "text": "that's vulnerable and it's fixed in version 492 so if we have this information about this TCP dump package",
    "start": "725860",
    "end": "732369"
  },
  {
    "text": "a container build we know that we're installing a version of TCP dump in a container on the other side then we can",
    "start": "732369",
    "end": "739059"
  },
  {
    "text": "say hey look this container this specific container contains this package with this vulnerability right it's that it's that container introspection and",
    "start": "739059",
    "end": "745029"
  },
  {
    "text": "that's where Griffis is really powerful for keeping that container metadata so if you want to learn more about that",
    "start": "745029",
    "end": "750279"
  },
  {
    "text": "check out Google Cloud blog or sharp eyes engineering blog or a little post about how we use that metadata is one",
    "start": "750279",
    "end": "758049"
  },
  {
    "text": "thing but creedy's or as you'll hear if you hit the graphics repository binary",
    "start": "758049",
    "end": "763749"
  },
  {
    "text": "authorization is really the cool piece so it's using this metadata that's stored in your face to actually create",
    "start": "763749",
    "end": "769600"
  },
  {
    "text": "and enforce policies at runtime so this binary authorization means that we must",
    "start": "769600",
    "end": "775779"
  },
  {
    "text": "step back here and show you at the very bottom you see this graph face and Creedy stuff what we're doing in there is actually taking the the digest of our",
    "start": "775779",
    "end": "782410"
  },
  {
    "text": "container we're signing it digitally and then we're pushing that back into into",
    "start": "782410",
    "end": "788079"
  },
  {
    "text": "the kree's sort of binary authorization api and what we're gonna do here is then make sure that we can deploy no image",
    "start": "788079",
    "end": "794589"
  },
  {
    "text": "other than the images which have been built by us which is really unique because this sort of takes away the idea",
    "start": "794589",
    "end": "800049"
  },
  {
    "text": "of adversary gaining access to your cluster and downloading their own container and running your own tools right and that's",
    "start": "800049",
    "end": "805060"
  },
  {
    "text": "that could be described as bad and we don't like bad so we'd like to enforce these with kubernetes there's actually a",
    "start": "805060",
    "end": "811450"
  },
  {
    "text": "demo at the the BOF talk for Agra fayus of this actually working with the des",
    "start": "811450",
    "end": "816610"
  },
  {
    "text": "mission controller which is awesome so now that we have our repository checked",
    "start": "816610",
    "end": "822760"
  },
  {
    "text": "in our kubernetes primitives started we have a container bill how do we actually deploy this to production so kubernetes",
    "start": "822760",
    "end": "830290"
  },
  {
    "start": "829000",
    "end": "909000"
  },
  {
    "text": "deploy is really cool it's it's a it's a gem that provides us a lot of automation around deployment to kubernetes it's",
    "start": "830290",
    "end": "836590"
  },
  {
    "text": "actually open source so go check it out it's a essentially a plugin for our our build tool called shipit which is also",
    "start": "836590",
    "end": "842260"
  },
  {
    "text": "open source so you can go check those things out and see how we deploy to kubernetes but the the main features",
    "start": "842260",
    "end": "847450"
  },
  {
    "text": "that are really exciting for me and for our developers is that we have the clear actionable pass/fail results right Green",
    "start": "847450",
    "end": "852880"
  },
  {
    "text": "is good red is bad and we we do things like the pre deployment of certain",
    "start": "852880",
    "end": "858550"
  },
  {
    "text": "resources right like you have to deploy a service before a workload so that you can have the appropriate environment variables these sorts of things that we",
    "start": "858550",
    "end": "864820"
  },
  {
    "text": "do a little bit of that and the decryption of the II Jason is what's",
    "start": "864820",
    "end": "869830"
  },
  {
    "text": "what's happening here so what we can do with kubernetes deploy since we built",
    "start": "869830",
    "end": "875140"
  },
  {
    "text": "all these tools say all of the context is we can actually put this other structure inside of you Jason to say",
    "start": "875140",
    "end": "880930"
  },
  {
    "text": "create me a kubernetes secret from this blob named this and this is this is really cool because somebody can keep",
    "start": "880930",
    "end": "886360"
  },
  {
    "text": "these secrets inside of version control and then deploy them decrypt them at runtime so we don't need to worry about any of that plain text secrets and stuff",
    "start": "886360",
    "end": "894190"
  },
  {
    "text": "and there's a few other checks in there as well so like we can't overwrite a cube system for example or delete key",
    "start": "894190",
    "end": "900280"
  },
  {
    "text": "public you know these sorts of things some some checks and some checks in there too to help us out but there's an",
    "start": "900280",
    "end": "905920"
  },
  {
    "text": "example love me deploying a little go app so you deployed in 4.2 seconds it's good it's green success and we're all",
    "start": "905920",
    "end": "912100"
  },
  {
    "text": "happy sorry so this is an example of some of the automation that we have here around getting secrets into the",
    "start": "912100",
    "end": "917920"
  },
  {
    "text": "appropriate namespaces or inside of our containers",
    "start": "917920",
    "end": "921720"
  },
  {
    "text": "works for me let's try it again cannot reproduce",
    "start": "925420",
    "end": "933309"
  },
  {
    "text": "that's right",
    "start": "933309",
    "end": "935910"
  },
  {
    "text": "wiggle wiggle",
    "start": "957450",
    "end": "960350"
  },
  {
    "text": "hey just tough it out the input with your foot oh yes my fault always thank",
    "start": "978610",
    "end": "986840"
  },
  {
    "text": "you so much so stepping back to Cooper days deploy Cooper days deploy TLDR",
    "start": "986840",
    "end": "993260"
  },
  {
    "start": "988000",
    "end": "1069000"
  },
  {
    "text": "gives us clear actionable pass/fail results also decrypts us our secrets from me Jason into kubernetes and really",
    "start": "993260",
    "end": "1000700"
  },
  {
    "text": "helps us with that developer experience so if we have robots deploying for us",
    "start": "1000700",
    "end": "1006970"
  },
  {
    "text": "this is actually prevented us from having to give our developers keep CTL access which is really unique so with a",
    "start": "1006970",
    "end": "1013210"
  },
  {
    "text": "thousand active developers then wanting control over their infrastructure is is",
    "start": "1013210",
    "end": "1018640"
  },
  {
    "text": "a really big deal and you know given that with Heroku you sort of you can you can get a little bit more intimate with",
    "start": "1018640",
    "end": "1024130"
  },
  {
    "text": "your application we we built tools like kubernetes deploy and another one which",
    "start": "1024130",
    "end": "1029530"
  },
  {
    "text": "I'm not going to show but I'll talk about is is cube shell which will actually sort of clued us from having to",
    "start": "1029530",
    "end": "1036040"
  },
  {
    "text": "give cube CTL access to our developers which is really awesome with cube shell what we can do is actually with TTY gjs",
    "start": "1036040",
    "end": "1043569"
  },
  {
    "text": "and a little bit of OAuth we can actually give them a terminal into their own namespaces with access provisioned by config map so we don't actually want",
    "start": "1043570",
    "end": "1050800"
  },
  {
    "text": "to want to explicitly give Oliver users",
    "start": "1050800",
    "end": "1057400"
  },
  {
    "text": "that admin access and deal with with our back in that way so with cube shell we can actually provision a little bit differently so this is where the phone",
    "start": "1057400",
    "end": "1067480"
  },
  {
    "text": "automation begins we're going to talk about our cloud buddies so cloud buddies internally marketed as friendly",
    "start": "1067480",
    "end": "1073930"
  },
  {
    "start": "1069000",
    "end": "1110000"
  },
  {
    "text": "kubernetes controllers keeping the cloud fluffy our is our is our brand for our kubernetes controllers that we built",
    "start": "1073930",
    "end": "1080080"
  },
  {
    "text": "there's a lot of them about 15 of them run per cluster and depends given the type of services that run there but this",
    "start": "1080080",
    "end": "1085900"
  },
  {
    "text": "is where we can introduce our service automation or security automation so we have things like Redis buddy for example",
    "start": "1085900",
    "end": "1091000"
  },
  {
    "text": "memcachedb buddy you know that would provision you in appropriate resource under whatever circumstance now that",
    "start": "1091000",
    "end": "1096310"
  },
  {
    "text": "we've decided to build but the ones that we've decided to build for security and or implement security controls in and I",
    "start": "1096310",
    "end": "1101980"
  },
  {
    "text": "want to talk about our accountabilibuddy bucket buddy an apple buddy our back buddy and secret buddy it's",
    "start": "1101980",
    "end": "1108450"
  },
  {
    "text": "it's pretty fun here's an example of what a kind of Billa buddy is is",
    "start": "1108450",
    "end": "1113789"
  },
  {
    "start": "1110000",
    "end": "1161000"
  },
  {
    "text": "designed to do so remember when we created our kubernetes namespace and assigned identity to it with the GCP",
    "start": "1113789",
    "end": "1120239"
  },
  {
    "text": "service account it's how do we give access to a given Google API to that",
    "start": "1120239",
    "end": "1125970"
  },
  {
    "text": "service account without somebody pinging me and having me to go into manually sort of click some buttons there that's",
    "start": "1125970",
    "end": "1131009"
  },
  {
    "text": "not very scalable as we deploy a lot of applications to our cluster so if they just drop a config map in the repo and",
    "start": "1131009",
    "end": "1136320"
  },
  {
    "text": "say hey I want to give this service account now it's a container viewer well we can do this and we do have some",
    "start": "1136320",
    "end": "1143009"
  },
  {
    "text": "checks in accountabilibuddy oh you can't you can't give yourself sort of God note on the entire project right like this so this is something that we've accounted",
    "start": "1143009",
    "end": "1148679"
  },
  {
    "text": "for and we don't want to do but we do have some api's which we will very happily allow you to check into",
    "start": "1148679",
    "end": "1154109"
  },
  {
    "text": "diversion control and allowance to provision that access for you so this is how the seven of us sort of maintain",
    "start": "1154109",
    "end": "1159869"
  },
  {
    "text": "sanity moving forward with this with storage again every developer would like",
    "start": "1159869",
    "end": "1164909"
  },
  {
    "start": "1161000",
    "end": "1216000"
  },
  {
    "text": "access to their storage and since we use G suite for our actual sort of business",
    "start": "1164909",
    "end": "1171179"
  },
  {
    "text": "products we can actually leverage that identity on Google cloud platform and then with with buck Bundy in this",
    "start": "1171179",
    "end": "1177869"
  },
  {
    "text": "example is an example of a custom resource where we are giving storage admin to robot into a group and giving",
    "start": "1177869",
    "end": "1184830"
  },
  {
    "text": "object creator to you at Shopify com so again with all of this in version",
    "start": "1184830",
    "end": "1190230"
  },
  {
    "text": "control this allows our security team to actually then audit who've requested these permissions win and we have that",
    "start": "1190230",
    "end": "1196679"
  },
  {
    "text": "we have that trail right of course there's that ole anybody can sign it you change your identity and get and that's all good you know this is a way that",
    "start": "1196679",
    "end": "1203779"
  },
  {
    "text": "that that helps us early on build that auditing into our platform and which is",
    "start": "1203779",
    "end": "1209369"
  },
  {
    "text": "really neat so with this then we can we",
    "start": "1209369",
    "end": "1214440"
  },
  {
    "text": "can assign appropriate permissions all of Inc Luster's are hard especially when",
    "start": "1214440",
    "end": "1219570"
  },
  {
    "start": "1216000",
    "end": "1299000"
  },
  {
    "text": "we have 20 of them so how do we ensure that all of our workloads are running running securely when I started down",
    "start": "1219570",
    "end": "1227399"
  },
  {
    "text": "this road I said well the tools didn't really exist at the time is that how do I effectively audit this cluster to make",
    "start": "1227399",
    "end": "1234210"
  },
  {
    "text": "sure that my workloads are are running securely and this is where Q bada came in we actually have a couple dedicated",
    "start": "1234210",
    "end": "1239879"
  },
  {
    "text": "developers on this now we open sourced aver recently and this is just a little golang application that allows us to",
    "start": "1239879",
    "end": "1246270"
  },
  {
    "text": "perform audits against arbitrary security controls on kubernetes so we cannot afford a mouth service account token we can make sure that the",
    "start": "1246270",
    "end": "1252570"
  },
  {
    "text": "appropriate image and tags are running you can see an example in the top right there I just took a screen cap of the",
    "start": "1252570",
    "end": "1258000"
  },
  {
    "text": "terminal we do have some human readable output but we also have put in JSON so we can automate this we can audit",
    "start": "1258000",
    "end": "1263640"
  },
  {
    "text": "for network policies to make sure that you have appropriate default denies policies in there and every control under security context we can also audit",
    "start": "1263640",
    "end": "1270090"
  },
  {
    "text": "for so if somebody comes to me and says hey John this image has been determined to be",
    "start": "1270090",
    "end": "1276690"
  },
  {
    "text": "vulnerable what can we do well we can just quickly run out a little key bada check to make sure that we're not running that image anywhere this is",
    "start": "1276690",
    "end": "1282990"
  },
  {
    "text": "probably going to go away or be integrated with your face once this becomes a little bit more one screw face",
    "start": "1282990",
    "end": "1289770"
  },
  {
    "text": "becomes a little bit more fleshed out and productionize but this is a really easy way for us to do this today and and get some answers",
    "start": "1289770",
    "end": "1296370"
  },
  {
    "text": "very quickly there's this other continuous security monitoring piece",
    "start": "1296370",
    "end": "1301860"
  },
  {
    "text": "that that we're missing so with 600 projects scaling is really hard so we",
    "start": "1301860",
    "end": "1308340"
  },
  {
    "text": "have developed a couple tools inside and help us out with this so this is an tool called nosy bastard which does a",
    "start": "1308340",
    "end": "1315150"
  },
  {
    "text": "scheduled scanning it's there like our traditional sort of VA or a Zed map and map Nessus cans it does some discovery",
    "start": "1315150",
    "end": "1321480"
  },
  {
    "text": "of cloud resources on GCP on AWS on Heroku and our other operating environments which is pretty cool and we",
    "start": "1321480",
    "end": "1327030"
  },
  {
    "text": "also decided as we moved towards a really strict our back control clusters we needed some sort of visualization",
    "start": "1327030",
    "end": "1332520"
  },
  {
    "text": "there to help us out and look at look at this to see which which service accounts are mapped to which roles and these",
    "start": "1332520",
    "end": "1338159"
  },
  {
    "text": "sorts of things then we built that into nosy bastard so we can actually go and clickety-click and see which are back roles are assigned to which servers",
    "start": "1338159",
    "end": "1343740"
  },
  {
    "text": "account which is really awesome for sending security if y'all haven't checked that out and they're using TCP",
    "start": "1343740",
    "end": "1349320"
  },
  {
    "text": "please do it is just really really good comprehensive GCP inventory and there's been a lot of horsepower behind it over",
    "start": "1349320",
    "end": "1355380"
  },
  {
    "text": "the last little while and wheezes for the discovery of other resources and also the forcement of IEM policies which",
    "start": "1355380",
    "end": "1361409"
  },
  {
    "text": "is awesome so we can make sure that if you or a developer at Shopify creates a new project they can add any external",
    "start": "1361409",
    "end": "1367140"
  },
  {
    "text": "identities to that project for an example we found that using gke and the",
    "start": "1367140",
    "end": "1374549"
  },
  {
    "text": "concept of the or the management's in this group that these nodes come up and go down a lot and moving from traditional sort of",
    "start": "1374549",
    "end": "1381550"
  },
  {
    "text": "config managed chef ansible sort of environment you know where we had to ship around SSH keys and these sorts of",
    "start": "1381550",
    "end": "1387280"
  },
  {
    "text": "things that's not really something that we want to do so the Google account statement is actually running on",
    "start": "1387280",
    "end": "1392350"
  },
  {
    "text": "container optimized OS will actually provision you access via SSH by taking",
    "start": "1392350",
    "end": "1397809"
  },
  {
    "text": "the SSH keys or the project metadata and adding them to the authorized key so you can SSH into it and if you haven't done",
    "start": "1397809",
    "end": "1403179"
  },
  {
    "text": "a g-cloud compute SSH ticka ticka ticka and Banger in the server right but where",
    "start": "1403179",
    "end": "1408340"
  },
  {
    "text": "are these keys held how can we manage them do we have to a sort of arguable",
    "start": "1408340",
    "end": "1415270"
  },
  {
    "text": "right so our Google accounts today are actually backed by multi-factor authentication right so if you want to talk to Google cloud platform API you",
    "start": "1415270",
    "end": "1421570"
  },
  {
    "text": "got a you gotta sign it so we already have some controls around identity there so accessing a cluster via SSH or",
    "start": "1421570",
    "end": "1428590"
  },
  {
    "text": "exiting a node by SSH this is all backed by our G suite identities today which is again back by MFA so do we have to ship",
    "start": "1428590",
    "end": "1437320"
  },
  {
    "text": "these entities around these SSH keys if you don't have one provision if you don't specify when it will create an ephemeral key for you so what if we just",
    "start": "1437320",
    "end": "1444309"
  },
  {
    "text": "delete these all the time and then you have to provision them again and again it doesn't take too long how often are",
    "start": "1444309",
    "end": "1450820"
  },
  {
    "text": "we actually SSH into a chica e node not very often so given that we can build a",
    "start": "1450820",
    "end": "1457120"
  },
  {
    "text": "tool called SSH janitor to go in and discover and delete these stale project-wide SSH keys so every time that",
    "start": "1457120",
    "end": "1462520"
  },
  {
    "text": "we have to log in we got to do a little dance that maybe takes like 30 seconds something like this but it's really not that big of a deal if we can actually",
    "start": "1462520",
    "end": "1468670"
  },
  {
    "text": "reduce that reduce that threat by having these stale SSH keys around right we have to provision them all the time on",
    "start": "1468670",
    "end": "1474429"
  },
  {
    "text": "the fly which is really cool so what's missing people at google.com",
    "start": "1474429",
    "end": "1480820"
  },
  {
    "start": "1477000",
    "end": "1483000"
  },
  {
    "text": "please don't hate me we were missing at",
    "start": "1480820",
    "end": "1486730"
  },
  {
    "start": "1483000",
    "end": "1671000"
  },
  {
    "text": "the time that I wrote this talk a lot of things but kubernetes move so fast and",
    "start": "1486730",
    "end": "1491950"
  },
  {
    "text": "given that like gke is is open source kubernetes plus a couple bells and",
    "start": "1491950",
    "end": "1497470"
  },
  {
    "text": "whistles you know we haven't we've actually scratched a lot of these off so for the longest time we actually didn't",
    "start": "1497470",
    "end": "1504580"
  },
  {
    "text": "have access to the API server logs because Google hosts the master for us right given that how do you get these logs",
    "start": "1504580",
    "end": "1511450"
  },
  {
    "text": "keep CTL proxy curl the keep API server log endpoint and pipe it up to a file",
    "start": "1511450",
    "end": "1516500"
  },
  {
    "text": "and do some other things you know that wasn't available to us but as of GK 173",
    "start": "1516500",
    "end": "1522320"
  },
  {
    "text": "it's actually in cloud audit logging now which is phenomenal Network policies are finally here with Calico which is great",
    "start": "1522320",
    "end": "1529519"
  },
  {
    "text": "as a GK 176 our egress network policies work as of 184 which is really good for us we're still missing pod security",
    "start": "1529519",
    "end": "1536600"
  },
  {
    "text": "policies I've been poking for a long time I can't set my cluster wide pod security policy now why is that",
    "start": "1536600",
    "end": "1545120"
  },
  {
    "text": "important why is that important enough to grab a slide because we have what 300",
    "start": "1545120",
    "end": "1551000"
  },
  {
    "text": "services may be deployed there now so if in kubernetes 1.8 we have the new the",
    "start": "1551000",
    "end": "1557929"
  },
  {
    "text": "new flag and security contest called a lob privilege escalation right so how do I ensure that allow privilege escalation",
    "start": "1557929",
    "end": "1563539"
  },
  {
    "text": "is set to false and all my containers and all my workload manifests well that's a couple hundred PRS I would",
    "start": "1563539",
    "end": "1568909"
  },
  {
    "text": "really just like to do that once so that's really where that comes from the I am in our back synchronization has",
    "start": "1568909",
    "end": "1574070"
  },
  {
    "text": "been really really fun for us not so on",
    "start": "1574070",
    "end": "1579250"
  },
  {
    "text": "gke we have a couple different authorizers we have the web hooker the IM authorizer",
    "start": "1579250",
    "end": "1584480"
  },
  {
    "text": "and we have the are back authorizer so for those who don't know when you make a request against the api server we",
    "start": "1584480",
    "end": "1590299"
  },
  {
    "text": "have this long list of authorizers and if any one of them succeeds the request will succeed so if I don't have an",
    "start": "1590299",
    "end": "1597860"
  },
  {
    "text": "appropriate auerbach role matching Jonathan DePaul's for Shopify comm but I've provisioned myself access through I",
    "start": "1597860",
    "end": "1605059"
  },
  {
    "text": "am my request will succeed I can get my pods I can list my list my nodes these sorts of things but I'm gonna see our",
    "start": "1605059",
    "end": "1610850"
  },
  {
    "text": "back failures keep showing up in the API server lock we page on our back failures in the cloud security team and this is",
    "start": "1610850",
    "end": "1618200"
  },
  {
    "text": "this has been quite the journey for us for us in this so we're really missing that I am in our back synchronization",
    "start": "1618200",
    "end": "1623750"
  },
  {
    "text": "that would be super awesome if that could exist the GL BC configuration",
    "start": "1623750",
    "end": "1628789"
  },
  {
    "text": "office for the identity where proxy I know stuffs and the work there but I would really like to enable the identity aware proxy because we are a big users",
    "start": "1628789",
    "end": "1635389"
  },
  {
    "text": "of the Google cloud load balancer so the GLB see if I could configure some eiope there that'd be sweet",
    "start": "1635389",
    "end": "1640590"
  },
  {
    "text": "and container identity I cross it out it it's not here yet but you know we've we've seen all the work going on with",
    "start": "1640590",
    "end": "1646980"
  },
  {
    "text": "the container identity working groups and and I have faith that it will show up at some point in the future so that's",
    "start": "1646980",
    "end": "1655620"
  },
  {
    "text": "all I have for you today I'm ready for any questions thank you cross cluster",
    "start": "1655620",
    "end": "1672240"
  },
  {
    "start": "1671000",
    "end": "1820000"
  },
  {
    "text": "communication in different projects",
    "start": "1672240",
    "end": "1675410"
  },
  {
    "text": "that's a little hairy so yeah so I",
    "start": "1682299",
    "end": "1689360"
  },
  {
    "text": "mentioned we have we have four service tiers right here one two three four there's actually a couple of the other ones that I didn't really mention one is",
    "start": "1689360",
    "end": "1695690"
  },
  {
    "text": "tier shared and tier share does that sort of providing access like Splunk and zookeepers and these sorts of things",
    "start": "1695690",
    "end": "1701030"
  },
  {
    "text": "Kafka and how do we how do we connect to that we don't actually connect any other",
    "start": "1701030",
    "end": "1706820"
  },
  {
    "text": "way than we would normally so we'll still front it with an appropriate low balancer and we'll still do TLS and the front and clients are often these sorts",
    "start": "1706820",
    "end": "1713390"
  },
  {
    "text": "of things so we still using like the same traditional login methods that we would have used before if this is running in the DC we'd use the same",
    "start": "1713390",
    "end": "1719390"
  },
  {
    "text": "method maybe an extra it's sort of TCP tunnel on there just for funsies but that's we haven't really played with",
    "start": "1719390",
    "end": "1726799"
  },
  {
    "text": "that yet so we're really looking forward to the what's called IP aliased clusters right where we can actually make the",
    "start": "1726799",
    "end": "1732260"
  },
  {
    "text": "pods and service and first-class citizens on Andromeda like that that that's really cool it's we haven't done",
    "start": "1732260",
    "end": "1737690"
  },
  {
    "text": "it yet but we're looking forward to exploring that when it comes so right now we're just sort of biding our time until that happens",
    "start": "1737690",
    "end": "1744130"
  },
  {
    "text": "the kubernetes deployed so yet so you're guessing the kubernetes deploy has access to the project yeah",
    "start": "1752070",
    "end": "1759919"
  },
  {
    "text": "we protect those keys the same way that we protect it any other key and that would be a trouble hard we have what's",
    "start": "1765950",
    "end": "1771110"
  },
  {
    "text": "called the default to open culture so typically your engineers have access to all the things and given that like they're still held in encrypted Jason",
    "start": "1771110",
    "end": "1777140"
  },
  {
    "text": "and deployed the same way that we would deploy any other app so it's it's just it's just another key a secret is a",
    "start": "1777140",
    "end": "1782900"
  },
  {
    "text": "secret or secret I mean we do have auditing around this so you know if we would determine that it could have been compromised we just roll it and with IM",
    "start": "1782900",
    "end": "1789470"
  },
  {
    "text": "it's just super easy spinner another jason kind of good to go right we do have auditing through jesus be there does that answer your question no",
    "start": "1789470",
    "end": "1802520"
  },
  {
    "text": "there's not like a monthly rotation it's more whenever we feel like like it would need if something if something has gone",
    "start": "1802520",
    "end": "1808640"
  },
  {
    "text": "awry then then we would do that but if there's no indication that a keeps mo compromised there's rotating edges to the providers",
    "start": "1808640",
    "end": "1816800"
  },
  {
    "text": "value i think",
    "start": "1816800",
    "end": "1819160"
  },
  {
    "start": "1820000",
    "end": "1869000"
  },
  {
    "text": "it's not like so the question was if we have like future parodius or sort of cloud trail there it's it's not the same",
    "start": "1825190",
    "end": "1832070"
  },
  {
    "text": "but our models like very much different now like moving in gke like all of our all of our cluster operations are logged",
    "start": "1832070",
    "end": "1838340"
  },
  {
    "text": "appropriately through cloud audit logging right and we're satisfied with this but like other like in cluster sort",
    "start": "1838340",
    "end": "1843830"
  },
  {
    "text": "of operations app level operations that's all kubernetes now so it's it's sort of like build your own auditing I",
    "start": "1843830",
    "end": "1849679"
  },
  {
    "text": "guess if that makes sense or we use Splunk for logging pipelines so we're gonna hit the the fleuti aggregators",
    "start": "1849679",
    "end": "1856249"
  },
  {
    "text": "kind of Kafka Splunk that once SBIR ideal pattern so nothing really changes there for us like when we venture in a",
    "start": "1856249",
    "end": "1862609"
  },
  {
    "text": "multi cloud I don't really see any huge differences",
    "start": "1862609",
    "end": "1867608"
  },
  {
    "text": "so the question was we still have a number of applications running in our data centers and what were the pain sort",
    "start": "1879690",
    "end": "1885690"
  },
  {
    "text": "of moving to Jiki operationally I can't really speak to this but security-wise",
    "start": "1885690",
    "end": "1891810"
  },
  {
    "text": "it's it's all about the snowflakes right so not every app is the same a Python",
    "start": "1891810",
    "end": "1898410"
  },
  {
    "text": "application is built differently than a Ruby on Rails applications so we've we've tried to stick to that Bill packs",
    "start": "1898410",
    "end": "1903720"
  },
  {
    "text": "model and try to introduce as many controls as we can there but some applications are different so we've actually had to walk teams through",
    "start": "1903720",
    "end": "1909510"
  },
  {
    "text": "appropriately building a docker container or just keeping keeping on top of these things because not every apps the same I it's more of like an",
    "start": "1909510",
    "end": "1915810"
  },
  {
    "text": "operational question I guess sort of migration there but as an infrastructure security engineer like traditionally everything below the app in a stack now",
    "start": "1915810",
    "end": "1922170"
  },
  {
    "text": "it's like everything below the app in a docker container right so it's almost almost not my problem that make sense",
    "start": "1922170",
    "end": "1930440"
  },
  {
    "text": "cool",
    "start": "1930440",
    "end": "1933440"
  },
  {
    "text": "yep",
    "start": "1943200",
    "end": "1945830"
  },
  {
    "start": "1946000",
    "end": "2114000"
  },
  {
    "text": "so the question is how is the GCP sort of identity that we provision for this",
    "start": "1953980",
    "end": "1959529"
  },
  {
    "text": "namespace actually consumed by services so when we at the beginning in the",
    "start": "1959529",
    "end": "1964870"
  },
  {
    "text": "services DB when we click create cloud runtime and that's where and all that stuff is provisioned we actually mount that secret in kubernetes and then",
    "start": "1964870",
    "end": "1971289"
  },
  {
    "text": "provide that sort of as a volume mount you know sort of secret volume and inside the container google application",
    "start": "1971289",
    "end": "1976659"
  },
  {
    "text": "credentials you know the typical place for this this credential file is where we would we word mount the path to that and we provide this in the workload",
    "start": "1976659",
    "end": "1982570"
  },
  {
    "text": "manifest sort of for everybody we have like a number of blessed stacks right so you know for the snowflakes it doesn't",
    "start": "1982570",
    "end": "1988330"
  },
  {
    "text": "really work but if you're deploying like a rails application and everything's gonna work magically for you and that's so we get the we haven't done any really",
    "start": "1988330",
    "end": "1995289"
  },
  {
    "text": "like handle templating like any templating like I've mentioned before so that's a little bit hairy some manifests are quite long but this is where we can",
    "start": "1995289",
    "end": "2002039"
  },
  {
    "text": "mount those for developers then I have to worry about these things that answer your question",
    "start": "2002039",
    "end": "2008600"
  },
  {
    "text": "know this so this is the diversity the kubernetes service accounts and the GCP service accounts they're both like completely completely separate so the",
    "start": "2015280",
    "end": "2021520"
  },
  {
    "text": "GCP service account is used to talk to the GCP api's and we mount that complete distinctly as a secret yeah cool sorry",
    "start": "2021520",
    "end": "2034440"
  },
  {
    "text": "for yes so the question is like when we do our automated patching do we actually is it fully automated or does the",
    "start": "2050220",
    "end": "2056888"
  },
  {
    "text": "developer have to actually like a button and sometimes they do is some you know some for example like a gem bump or",
    "start": "2056889",
    "end": "2062560"
  },
  {
    "text": "something like this something that we're more confident with automatically patching yeah they're gonna go through and be merged automatically but that's",
    "start": "2062560",
    "end": "2068320"
  },
  {
    "text": "that's a risk right if we're serving production off there so here's your patch boom boom push it through like and it breaks well that's I don't want to be",
    "start": "2068320",
    "end": "2074888"
  },
  {
    "text": "responsible for that you know so not",
    "start": "2074889",
    "end": "2088030"
  },
  {
    "text": "really yet I mean we're still pretty young in our in our kubernetes journey so it's a I would assume next year",
    "start": "2088030",
    "end": "2093398"
  },
  {
    "text": "asking the same question it'll be different but but right now no there's still some some manual steps required",
    "start": "2093399",
    "end": "2099339"
  },
  {
    "text": "and like our container vulnerability scanning it's all reactive right now we can't do it fast enough to put in the CI and make it worthwhile for us",
    "start": "2099339",
    "end": "2108180"
  },
  {
    "start": "2114000",
    "end": "2261000"
  },
  {
    "text": "so R is accountabilibuddy open-sourced and we have a plan for it a lot of the",
    "start": "2119250",
    "end": "2125800"
  },
  {
    "text": "buddies that we actually have are really sort of contextual e bound to Shopify and our patterns so it doesn't really",
    "start": "2125800",
    "end": "2131500"
  },
  {
    "text": "make much sense for us to open-source those right now we thought about it you may see somebody's show up in the future",
    "start": "2131500",
    "end": "2138760"
  },
  {
    "text": "but right now they're sort of all mono repoed so it doesn't make sense for us to open source or really componentize those right now so so you want it right",
    "start": "2138760",
    "end": "2153310"
  },
  {
    "text": "yeah that's awesome okay that's that's great to hear that's great feedback I love that sort of feedback and if I can push that I will",
    "start": "2153310",
    "end": "2159670"
  },
  {
    "text": "yeah",
    "start": "2159670",
    "end": "2161940"
  },
  {
    "text": "yes so the question was going to explain a little bit more about why we don't give a key petal access to the devs and",
    "start": "2171109",
    "end": "2177920"
  },
  {
    "text": "it's more about management I guess at this time so remind back a year and it was myself",
    "start": "2177920",
    "end": "2182970"
  },
  {
    "text": "and a couple others doing the cloud security stuff so how do we do effective auerbach for a thousand devs at the same",
    "start": "2182970",
    "end": "2188970"
  },
  {
    "text": "time sort of automatically and that was sort of like a design decision that we had to make and did we want to expose or",
    "start": "2188970",
    "end": "2195570"
  },
  {
    "text": "teach kubernetes to developers maybe next year you know but but to keep us",
    "start": "2195570",
    "end": "2202859"
  },
  {
    "text": "moving fast and to keep actually services being created you know and not having to pause and learn kubernetes has",
    "start": "2202859",
    "end": "2207930"
  },
  {
    "text": "actually been a really big win for us so we over the last couple days we had our company hack days and which is two days",
    "start": "2207930",
    "end": "2213030"
  },
  {
    "text": "where we just you know build the things that are cool and I think we have like 50 or 60 different applications now",
    "start": "2213030",
    "end": "2218760"
  },
  {
    "text": "deployed to that cluster and that's it's pretty phenomenal that they can do that without having to worry about the kubernetes patterns right they can just",
    "start": "2218760",
    "end": "2224250"
  },
  {
    "text": "click through it and have their storage and have the Redis and you know do all the things we do actually spend a lot of",
    "start": "2224250",
    "end": "2231000"
  },
  {
    "text": "time supporting deployments we have what's called the cloud help rotation so we go through and some of us will swap",
    "start": "2231000",
    "end": "2237750"
  },
  {
    "text": "out and actually provide sort of front-end support to the devs who are onboarding onto the cloud platform and",
    "start": "2237750",
    "end": "2242970"
  },
  {
    "text": "us on the security team actually do that as well so we can actually course correct if necessary of receiving sort",
    "start": "2242970",
    "end": "2248730"
  },
  {
    "text": "of anti patterns throwing up there which is which has been really helpful for us but yeah we do provide sort of cloud platform front-end support",
    "start": "2248730",
    "end": "2256040"
  },
  {
    "text": "oh sorry very funny how are we handling",
    "start": "2260150",
    "end": "2265610"
  },
  {
    "start": "2261000",
    "end": "2376000"
  },
  {
    "text": "the image scans is all GC our vulnerability scanner is the name tool that we use for that and right now we're",
    "start": "2265610",
    "end": "2270830"
  },
  {
    "text": "just we can pull out if containers are vulnerable or not via the g-code command line chilla D or hit the API or in the",
    "start": "2270830",
    "end": "2276800"
  },
  {
    "text": "GUI so that's all but again it's all reactive right now because of the latency second I would love to do it on",
    "start": "2276800",
    "end": "2283910"
  },
  {
    "text": "deploy it's just again we have that 450k images in GC are like we're really hammering the API and we're giving them",
    "start": "2283910",
    "end": "2290360"
  },
  {
    "text": "a hard time as much as they are us so it's it's reactive for sure yeah the",
    "start": "2290360",
    "end": "2302090"
  },
  {
    "text": "question is do we see a lot like duplicate images or like the same sort of services and absolutely we do yeah like a lot of applications aren't too",
    "start": "2302090",
    "end": "2308360"
  },
  {
    "text": "dissimilar right so we do actually provide blessed base images to start with service off and that sort of",
    "start": "2308360",
    "end": "2314660"
  },
  {
    "text": "wherever you make those decisions but yeah there's a lot of duplication we",
    "start": "2314660",
    "end": "2321770"
  },
  {
    "text": "thought of we thought about injecting stuff into the image after deploy but we're again we're following that Heroku",
    "start": "2321770",
    "end": "2327140"
  },
  {
    "text": "models so Heroku ition the build packs really just it works and it works well so we stick with it I think anything",
    "start": "2327140",
    "end": "2336740"
  },
  {
    "text": "else yep",
    "start": "2336740",
    "end": "2339280"
  },
  {
    "text": "yes so how are we handling alerting alerting on what I guess the the thing",
    "start": "2345069",
    "end": "2351309"
  },
  {
    "text": "that I mentioned was we page on our back failures so we're actually looking for like returns like on round-trip or for",
    "start": "2351309",
    "end": "2356380"
  },
  {
    "text": "our back failures and we're digesting the application-level logs that have anything that contacts kubernetes api for example and just alerting standard",
    "start": "2356380",
    "end": "2362709"
  },
  {
    "text": "League through Pedro duty as we would yeah a regular logging pipeline sort of source done well thank you so much",
    "start": "2362709",
    "end": "2371709"
  },
  {
    "text": "everyone [Applause]",
    "start": "2371709",
    "end": "2378250"
  }
]