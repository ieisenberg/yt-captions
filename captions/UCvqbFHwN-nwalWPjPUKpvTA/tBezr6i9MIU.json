[
  {
    "text": "thank you by the way this is a big picture that took about five minutes to download on",
    "start": "539",
    "end": "6180"
  },
  {
    "text": "the Wi-Fi outside so appreciate it please all right experimenting with q and",
    "start": "6180",
    "end": "12840"
  },
  {
    "text": "Carvel So This Is Us I'm Dmitry I've been working at VMware for quite a while now",
    "start": "12840",
    "end": "19020"
  },
  {
    "text": "uh infrastructure related stuff kubernetes related stuff a little bit of Carvel nowadays",
    "start": "19020",
    "end": "25500"
  },
  {
    "text": "and I'm Rupa I also have been working with Dimitri for a while at VMware we work on Samsung application platform and",
    "start": "25500",
    "end": "32880"
  },
  {
    "text": "on Project Carvel and previously we were doing some interesting Cloud Foundry stuff",
    "start": "32880",
    "end": "39440"
  },
  {
    "text": "and today we'll talk a little bit about q and Carvel this is more of us sharing",
    "start": "39920",
    "end": "47160"
  },
  {
    "text": "our learnings we've been playing around a little bit with q and so we wanted to share you know what we've learned about",
    "start": "47160",
    "end": "52860"
  },
  {
    "text": "Q what we've learned about how to use it um share a little bit about Carvel and cap controller and talk a little bit",
    "start": "52860",
    "end": "59879"
  },
  {
    "text": "about how these two projects fit together and you could potentially use them together",
    "start": "59879",
    "end": "65899"
  },
  {
    "text": "so just to set the context um we'll kind of talk about it in in this idea of how",
    "start": "68040",
    "end": "73920"
  },
  {
    "text": "to deploy a change so you know thinking about making a change whether that's a change in your source code or in your",
    "start": "73920",
    "end": "80400"
  },
  {
    "text": "kubernetes configuration you typically after you make that change you want to create a PR to a git repo you have",
    "start": "80400",
    "end": "86520"
  },
  {
    "text": "various sorts of verifications tests running then after all that is clear you fast",
    "start": "86520",
    "end": "92280"
  },
  {
    "text": "your checks the pr is merged and then once it's merged there's something sitting on your cluster that's",
    "start": "92280",
    "end": "97979"
  },
  {
    "text": "continuously reconciling so it picks up this change and the change is deployed so that's the broad context that we'll",
    "start": "97979",
    "end": "104759"
  },
  {
    "text": "go through in the stock and also in the demo later",
    "start": "104759",
    "end": "109820"
  },
  {
    "text": "all right so jumping in Q configure unify execute so I've been in a",
    "start": "111000",
    "end": "116820"
  },
  {
    "text": "configuration land for quite a while it's uh started out with you know playing around with various ways of how",
    "start": "116820",
    "end": "123960"
  },
  {
    "text": "to augment configuration that you don't really own uh you know there's been name",
    "start": "123960",
    "end": "129239"
  },
  {
    "text": "thrown around like Ops files uh a lot of you are familiar probably with projects",
    "start": "129239",
    "end": "134340"
  },
  {
    "text": "like customize similar space right and then there's obviously a lot of tools out there templating tools like uh you",
    "start": "134340",
    "end": "141000"
  },
  {
    "text": "know helm Json it right so there's all these tools out there that allow you to do this",
    "start": "141000",
    "end": "147840"
  },
  {
    "text": "different types of kind of a configuration building right queue seems",
    "start": "147840",
    "end": "153959"
  },
  {
    "text": "to be the the latest one but it has a very unique twist so maybe a first question to the audience raise your hand",
    "start": "153959",
    "end": "160560"
  },
  {
    "text": "if you actually heard about Q before all right quite a few people and then maybe people who used it please raise",
    "start": "160560",
    "end": "168180"
  },
  {
    "text": "their hands oh quite a few people too right and then maybe how many people use it in production so production will",
    "start": "168180",
    "end": "174660"
  },
  {
    "text": "break a few breaks one person all right",
    "start": "174660",
    "end": "181220"
  },
  {
    "text": "come on up here help us out so anyway so Q right",
    "start": "181459",
    "end": "189599"
  },
  {
    "text": "um what's interesting about Q to me uh is that it doesn't just focus on",
    "start": "189599",
    "end": "194819"
  },
  {
    "text": "configuration building right so this tool is so versatile and the the way that it builds up",
    "start": "194819",
    "end": "200819"
  },
  {
    "text": "um it's um kind of a semantics around working with data is you're able to",
    "start": "200819",
    "end": "205980"
  },
  {
    "text": "query the data you're able to validate the data you're really able to work with",
    "start": "205980",
    "end": "211680"
  },
  {
    "text": "the data as if it was a you know full-blown programming language right and that's to me at least quite exciting",
    "start": "211680",
    "end": "219420"
  },
  {
    "text": "because in a lot of this other tools right you're able to go so far but then at some point it's kind of it's maybe",
    "start": "219420",
    "end": "225180"
  },
  {
    "text": "not enough or maybe it doesn't quite fit the ideas that you kind of want to express right and so in our case uh what",
    "start": "225180",
    "end": "232260"
  },
  {
    "text": "we're mostly interested in is using queue with kubernetes right specifically how do you define various kubernetes",
    "start": "232260",
    "end": "238200"
  },
  {
    "text": "configuration you know how do you uh you know mingle it maybe how do you",
    "start": "238200",
    "end": "244280"
  },
  {
    "text": "allow your application teams to express some kind of application related definition right so that's kind of the",
    "start": "244280",
    "end": "251400"
  },
  {
    "text": "space that we're most interested in that's obviously what you know this kind of a talk is about",
    "start": "251400",
    "end": "257880"
  },
  {
    "text": "um so here's a little example just to dive in deep so we have yaml obviously",
    "start": "257880",
    "end": "262979"
  },
  {
    "text": "everybody knows yaml on the left side and we have q on the right side so you",
    "start": "262979",
    "end": "268080"
  },
  {
    "text": "may notice they're actually quite quite similar right uh but there seems to be a",
    "start": "268080",
    "end": "274199"
  },
  {
    "text": "little bit of more um maybe you can argue noise on the right side but maybe to some people it's",
    "start": "274199",
    "end": "280919"
  },
  {
    "text": "actually a nut noise right it's those very important differences that make yaml uh sometimes ambiguous right so for",
    "start": "280919",
    "end": "288419"
  },
  {
    "text": "me for example I'm a big fan of being explicit with what type of data it is",
    "start": "288419",
    "end": "293820"
  },
  {
    "text": "right now in yaml that's a little bit vague right so you know if you look on the side over here right you end up with",
    "start": "293820",
    "end": "300540"
  },
  {
    "text": "actually it's my pointer yeah you can see my pointer so you can see over here right that config Maps right they store",
    "start": "300540",
    "end": "306120"
  },
  {
    "text": "string to string and then you have to really remember to quote your values",
    "start": "306120",
    "end": "311220"
  },
  {
    "text": "right and so that's that's potentially a common Pitfall that somebody might run into and actually you know cause some",
    "start": "311220",
    "end": "316560"
  },
  {
    "text": "kind of a problem right now in this case the problem would show up when you submit this resource to kubernetes but",
    "start": "316560",
    "end": "322800"
  },
  {
    "text": "seems like it's a little bit too late right maybe it would be nicer to get that error message much much earlier now",
    "start": "322800",
    "end": "328500"
  },
  {
    "text": "on the Queue side if we're taking a look at it in this example at least right you",
    "start": "328500",
    "end": "333720"
  },
  {
    "text": "do also have to quote things but you have to quote every single string right",
    "start": "333720",
    "end": "338940"
  },
  {
    "text": "so that means that you can't have strings that are unambiguous and not quoted right they always have to be",
    "start": "338940",
    "end": "344639"
  },
  {
    "text": "quoted now the other thing here is that instead of indentation you do have to",
    "start": "344639",
    "end": "350520"
  },
  {
    "text": "use the curly braces right curly braces really allow you to specify that explicit like what is this data really",
    "start": "350520",
    "end": "357600"
  },
  {
    "text": "related to now funny enough though you might think that hey this is the you",
    "start": "357600",
    "end": "362880"
  },
  {
    "text": "know explicit nature is actually quite helpful but a few days back I was trying",
    "start": "362880",
    "end": "368280"
  },
  {
    "text": "to figure out starting on my Q configurations trying to figure out what was wrong with it and turns out I actually forgot to put the curly braces",
    "start": "368280",
    "end": "375660"
  },
  {
    "text": "around but visually it looked like the name under metadata actually did belong",
    "start": "375660",
    "end": "381240"
  },
  {
    "text": "in that section but it actually was right it was name and the metadata were in the same section just because the",
    "start": "381240",
    "end": "386880"
  },
  {
    "text": "curly braces are we're not there right so I don't know if there is some interesting question to Q developers you",
    "start": "386880",
    "end": "393240"
  },
  {
    "text": "know how can we prevent cases like that and maybe it actually a Dancewear will be a little bit more obvious down down",
    "start": "393240",
    "end": "399960"
  },
  {
    "text": "to this next few slides by the way there is a command called Q import you can import all your stuff into to this Q",
    "start": "399960",
    "end": "406199"
  },
  {
    "text": "format right and then you know supposedly you can do more",
    "start": "406199",
    "end": "411440"
  },
  {
    "text": "usage of Q wizard directly so here is the first kind of idea within",
    "start": "411440",
    "end": "417600"
  },
  {
    "text": "queue that to me really made Q really unique types are values right what I",
    "start": "417600",
    "end": "423539"
  },
  {
    "text": "mean by that here is that going back to our example of the config map right we have a data which is a",
    "start": "423539",
    "end": "429360"
  },
  {
    "text": "string it's a map of string to a string right and so in queue you're able to express that directly in your",
    "start": "429360",
    "end": "435600"
  },
  {
    "text": "configuration right and the following section for example or actually technically it doesn't matter which",
    "start": "435600",
    "end": "440819"
  },
  {
    "text": "which way you order this but the following section will fail with an error message within queue if you",
    "start": "440819",
    "end": "447180"
  },
  {
    "text": "actually throw in an integer over here right because Q knows that the type of",
    "start": "447180",
    "end": "452220"
  },
  {
    "text": "value that should be coming in here is actually a string or a string that you know maybe a little",
    "start": "452220",
    "end": "460139"
  },
  {
    "text": "bit more specific so we'll get to that in a second now I did throw in a little hint over",
    "start": "460139",
    "end": "465300"
  },
  {
    "text": "here values are ordered and that's actually going to help us in in the next slide over here",
    "start": "465300",
    "end": "470819"
  },
  {
    "text": "so um this is actually a little screenshot from the Q documentation by the way",
    "start": "470819",
    "end": "477360"
  },
  {
    "text": "queue documentation might seem a little bit um You Know Rich and a little bit hard",
    "start": "477360",
    "end": "482400"
  },
  {
    "text": "to navigate at least for me when I started out you know playing with q a while ago but once you kind of get the",
    "start": "482400",
    "end": "488400"
  },
  {
    "text": "Core Concepts down it really becomes much much easier to just Orient within",
    "start": "488400",
    "end": "495419"
  },
  {
    "text": "the queue landscape so what is this thing so going back to our example over here right when you define",
    "start": "495419",
    "end": "502080"
  },
  {
    "text": "um the type for this values over here a string right what's Happening Here is Q has this unique system where it's able",
    "start": "502080",
    "end": "509580"
  },
  {
    "text": "to describe uh the values in the lattice now I'm not a mathematician or related",
    "start": "509580",
    "end": "517260"
  },
  {
    "text": "to mathematician in any way so I don't know if that's actually some proper terminology related to mathematics",
    "start": "517260",
    "end": "523020"
  },
  {
    "text": "probably is pretty sure it is but the way this works out right is that and maybe let's go with the most simplest",
    "start": "523020",
    "end": "529500"
  },
  {
    "text": "example right so Boolean imagine as a big group right what is the subset of",
    "start": "529500",
    "end": "534600"
  },
  {
    "text": "that group right subset of that group is true and another subset of that group is false right and there's nothing else",
    "start": "534600",
    "end": "540600"
  },
  {
    "text": "inside booleans right so that means that if you define something of value Boolean",
    "start": "540600",
    "end": "546360"
  },
  {
    "text": "you can only have either Boolean as just it's still a Boolean right so we don't",
    "start": "546360",
    "end": "552180"
  },
  {
    "text": "know we can't really refine it further or it can be one of the children",
    "start": "552180",
    "end": "557519"
  },
  {
    "text": "effectively is it either true or false right now with numbers of course it gets a lot more complicated right because you",
    "start": "557519",
    "end": "564420"
  },
  {
    "text": "know there's lots of different types of numbers right there's ins floats you know you can potentially Define some",
    "start": "564420",
    "end": "569820"
  },
  {
    "text": "rules around it right hey is some number bigger than 10 let's say or less than 10 right and so",
    "start": "569820",
    "end": "575760"
  },
  {
    "text": "Q builds up for each one of the values a system like that right and you can actually get as complex as you want",
    "start": "575760",
    "end": "581760"
  },
  {
    "text": "right you can have a Boolean or a number for example right so a q is able to figure out how to kind of boil it down",
    "start": "581760",
    "end": "588600"
  },
  {
    "text": "to this what's possible and what's concrete versus more or less concrete I",
    "start": "588600",
    "end": "594959"
  },
  {
    "text": "guess right and so one of the goals for you as a configuration author all right",
    "start": "594959",
    "end": "600540"
  },
  {
    "text": "at the end of your queue evaluation is to get to a point where all of the",
    "start": "600540",
    "end": "605940"
  },
  {
    "text": "values are concrete right so if I generate myself you know a config map right and half of my values are just",
    "start": "605940",
    "end": "613260"
  },
  {
    "text": "type string right that's totally meaningless to kubernetes right you need to have something within that string",
    "start": "613260",
    "end": "619560"
  },
  {
    "text": "value right either maybe empty string or maybe some non-empty string right but",
    "start": "619560",
    "end": "624779"
  },
  {
    "text": "something right so just the type is not good enough right now to queue that's perfectly fine right but to us as humans",
    "start": "624779",
    "end": "631019"
  },
  {
    "text": "let's say working with kubernetes definitions right that's just not good enough and so you want to be able to get",
    "start": "631019",
    "end": "636600"
  },
  {
    "text": "to those concrete values so that's where the power of Q comes in is that to get to those concrete values you're able to",
    "start": "636600",
    "end": "643620"
  },
  {
    "text": "fill them in from multiple places right and so in this example over here this value string is not concrete right but",
    "start": "643620",
    "end": "649560"
  },
  {
    "text": "three over here is obviously concrete right so for this value you're able to get to the concrete you know",
    "start": "649560",
    "end": "655980"
  },
  {
    "text": "point right and so going a little bit further",
    "start": "655980",
    "end": "662579"
  },
  {
    "text": "going a little bit further to the next slide right if you just think of hey you",
    "start": "662579",
    "end": "667680"
  },
  {
    "text": "know I got booleans I got numbers great right but then you actually want to be able to combine them into more complex",
    "start": "667680",
    "end": "673980"
  },
  {
    "text": "types right and hopefully this slide is interesting I have to look",
    "start": "673980",
    "end": "679260"
  },
  {
    "text": "at right because you have a lot of this basic",
    "start": "679260",
    "end": "684839"
  },
  {
    "text": "Concepts right like strings and maybe some maps right or actually pretty much strings and maps in this case right and",
    "start": "684839",
    "end": "691920"
  },
  {
    "text": "so you're able to build up the definition of something higher level right so a config map in our case this",
    "start": "691920",
    "end": "697500"
  },
  {
    "text": "is my own shared definition of what a config map is it's actually not complete right as you all may know kubernetes",
    "start": "697500",
    "end": "703920"
  },
  {
    "text": "metadata is quite elaborate but once you're able to Define this more complex",
    "start": "703920",
    "end": "710959"
  },
  {
    "text": "types right you're able to reuse them and you're able to make certain parts of those types concrete right so for",
    "start": "710959",
    "end": "717060"
  },
  {
    "text": "example on the right right you're saying that this section is of type config map",
    "start": "717060",
    "end": "722180"
  },
  {
    "text": "and you're able to fill out some of those things with concrete values right and so what we end up with is if we'll",
    "start": "722180",
    "end": "729480"
  },
  {
    "text": "take a look on the left over here right so API version right this little star by the way means that it's a default value",
    "start": "729480",
    "end": "736380"
  },
  {
    "text": "right so if you if you don't specify something explicitly like you don't specify you know an explicit string",
    "start": "736380",
    "end": "743579"
  },
  {
    "text": "saying oh this is whatever apps V2 or something like that right it's going to be V1 right so this is concrete client",
    "start": "743579",
    "end": "750600"
  },
  {
    "text": "config map that's concrete metadata right well the name here is actually a",
    "start": "750600",
    "end": "755760"
  },
  {
    "text": "regex definition so that's a type of string right so you should be able to get to something more",
    "start": "755760",
    "end": "760920"
  },
  {
    "text": "concrete by the end of the invocation right and so in our case over here metadata name again we're filling in a",
    "start": "760920",
    "end": "766500"
  },
  {
    "text": "concrete value um the labels and annotations here are you know Maps those thing to string we",
    "start": "766500",
    "end": "773100"
  },
  {
    "text": "don't really care about those uh and by the way actually here I would argue that this should be marked with a little",
    "start": "773100",
    "end": "778620"
  },
  {
    "text": "question mark to mark this field as optional right so you don't really have to have it uh and then finally data",
    "start": "778620",
    "end": "785160"
  },
  {
    "text": "string to string again we've already kind of looked at that so here we make those things concrete right or we",
    "start": "785160",
    "end": "791220"
  },
  {
    "text": "technically could leave it empty as well if we Mark that as optional so this is",
    "start": "791220",
    "end": "796500"
  },
  {
    "text": "my own kind of a hand-coded example probably very incomplete probably slightly incorrect but can you imagine",
    "start": "796500",
    "end": "802160"
  },
  {
    "text": "if all of the configuration for the kubernetes that you write right would",
    "start": "802160",
    "end": "807540"
  },
  {
    "text": "have this level of typing in much more detail right based on the goal types",
    "start": "807540",
    "end": "814260"
  },
  {
    "text": "that the kubernetes service provides right and so if you go and look at for example kubernetes slash API git repo I",
    "start": "814260",
    "end": "821579"
  },
  {
    "text": "think where I think I think it's kubernetes API right you'll see that 4v1",
    "start": "821579",
    "end": "826620"
  },
  {
    "text": "apps V1 etc etc all the built-in stuff right is all in that repository all of",
    "start": "826620",
    "end": "831899"
  },
  {
    "text": "the go definitions right so wouldn't it be nice to be able to use this kind of type information when",
    "start": "831899",
    "end": "838200"
  },
  {
    "text": "you're authoring your configuration so that you don't end up making the mistakes that potentially either get swallowed by a kubernetes cluster or",
    "start": "838200",
    "end": "844860"
  },
  {
    "text": "maybe just get it uh you know end up you know catching maybe Downstream where it's maybe too late or just too",
    "start": "844860",
    "end": "851160"
  },
  {
    "text": "inconvenient so it is possible right and possible to you due to this type of uh level of kind",
    "start": "851160",
    "end": "859260"
  },
  {
    "text": "of detail that you can specify right now obviously you don't want to copy that stuff every single time when kubernetes",
    "start": "859260",
    "end": "864899"
  },
  {
    "text": "updates right just too much work and so you hear you end up using one of the features of queue where you're able to",
    "start": "864899",
    "end": "870899"
  },
  {
    "text": "pull in the go definition and Q will generate the Q definition for you right",
    "start": "870899",
    "end": "876240"
  },
  {
    "text": "and now you're able to take advantage of those types when you're building up your objects and so this it looks something",
    "start": "876240",
    "end": "883139"
  },
  {
    "text": "like this over here as I was showing on the right but obviously it was a much more uh detail to what you can fill in",
    "start": "883139",
    "end": "889860"
  },
  {
    "text": "and you know there's a concept of actually I just remembered there's a slide modules and packages so when you",
    "start": "889860",
    "end": "897120"
  },
  {
    "text": "do import kubernetes API definitions you are able to reference to them uniquely",
    "start": "897120",
    "end": "903720"
  },
  {
    "text": "right and for those who are familiar with go programming language Q I think is in a lot of ways inspired by the go",
    "start": "903720",
    "end": "910139"
  },
  {
    "text": "team actually the creator of cube might have being on the go team at some point and so there's a lot of kind of a same",
    "start": "910139",
    "end": "918839"
  },
  {
    "text": "type of feel for packages and modules that's taken and that you can use in queue now actually the reason why I put",
    "start": "918839",
    "end": "924720"
  },
  {
    "text": "in the slide is that because we have this common problem of",
    "start": "924720",
    "end": "930959"
  },
  {
    "text": "um being able to define configuration per type of environment right so like",
    "start": "930959",
    "end": "936000"
  },
  {
    "text": "development environment stage environment production environment maybe you have you know 510 production environments right so how do you",
    "start": "936000",
    "end": "942240"
  },
  {
    "text": "actually cope with some of that stuff and so with Q right once you kind of get",
    "start": "942240",
    "end": "947339"
  },
  {
    "text": "to the concrete value you can't really override it and that's actually what makes this a little bit less Aero prone",
    "start": "947339",
    "end": "954180"
  },
  {
    "text": "from a usage perspective right is once once you get to the concrete value it's probably there's some duplicate",
    "start": "954180",
    "end": "960079"
  },
  {
    "text": "configuration somewhere that's sitting that's maybe setting it to another concrete value",
    "start": "960079",
    "end": "965399"
  },
  {
    "text": "and that potentially you didn't intend right like we want to be able to capture that explicitness between hey I actually",
    "start": "965399",
    "end": "973079"
  },
  {
    "text": "have uh this field that I'm intending for somebody to configure versus here I",
    "start": "973079",
    "end": "978779"
  },
  {
    "text": "have this field that's not really meant to be configured or maybe configured in two different places right so that's",
    "start": "978779",
    "end": "984779"
  },
  {
    "text": "what Q actually by default gives you and what was interesting that I kind of",
    "start": "984779",
    "end": "990899"
  },
  {
    "text": "stumbled upon at some point which which I didn't realize was was the the features that when you",
    "start": "990899",
    "end": "997500"
  },
  {
    "text": "um when you evaluate Q package or module I guess in a",
    "start": "997500",
    "end": "1003259"
  },
  {
    "text": "particular way right so in this example I'm Q export dot for example right it's",
    "start": "1003259",
    "end": "1009079"
  },
  {
    "text": "actually going to only evaluate the kind of the first um depth of your module uh and that",
    "start": "1009079",
    "end": "1018199"
  },
  {
    "text": "actually surprised me a little bit but then I actually realized that you know what um the reason why they've done that",
    "start": "1018199",
    "end": "1024438"
  },
  {
    "text": "right is that you want to be able to kind of a nest your",
    "start": "1024439",
    "end": "1029600"
  },
  {
    "text": "um uh your further configuration right so for for example for a staging environment for a development",
    "start": "1029600",
    "end": "1035480"
  },
  {
    "text": "environment in the same kind in this kind of hierarchy right so when you executeexport.dev what's happening is",
    "start": "1035480",
    "end": "1041780"
  },
  {
    "text": "it's going to evaluate the module plus this kind of a nested thing and apparently you can kind of go as deep as",
    "start": "1041780",
    "end": "1048799"
  },
  {
    "text": "you want and as long as you're not specifying duplicate concrete values right you're effectively adding in more",
    "start": "1048799",
    "end": "1056179"
  },
  {
    "text": "to your kind of a base configuration and so really you end up with this uh you",
    "start": "1056179",
    "end": "1061940"
  },
  {
    "text": "know final configuration that has a bunch of concrete values that are specified once right now you can refine",
    "start": "1061940",
    "end": "1070160"
  },
  {
    "text": "the config you can refine each while you you know through this layers I think",
    "start": "1070160",
    "end": "1075620"
  },
  {
    "text": "um so maybe more concretely right you can start with saying hey this field needs to be a string but then down one layer",
    "start": "1075620",
    "end": "1081860"
  },
  {
    "text": "in you can say okay well this string actually needs to be at least 10 characters long and then finally maybe in the GPS layer you can say okay the",
    "start": "1081860",
    "end": "1087919"
  },
  {
    "text": "string needs to be I don't know my favorite password or something like that right so you can kind of refine this uh",
    "start": "1087919",
    "end": "1094940"
  },
  {
    "text": "value right through this nesting hierarchies right or you can just go",
    "start": "1094940",
    "end": "1100820"
  },
  {
    "text": "straight to you know to concrete value but this does give you this way to kind of structure the modules such that you",
    "start": "1100820",
    "end": "1106880"
  },
  {
    "text": "can reuse them now this is not the only way to re to kind of Define the configuration you can also import modules from one module to another and",
    "start": "1106880",
    "end": "1114200"
  },
  {
    "text": "so you can kind of imagine how you can reuse the types and rebuild uh you know rebuild kind of certain pieces of",
    "start": "1114200",
    "end": "1120440"
  },
  {
    "text": "configuration in composable way but that's kind of a little bit of an introduction to kind of modules and",
    "start": "1120440",
    "end": "1126679"
  },
  {
    "text": "packages there all right okay",
    "start": "1126679",
    "end": "1131780"
  },
  {
    "text": "um so we are after lunch um so I'm gonna I'm gonna try to raise the energy in the room a little bit",
    "start": "1131780",
    "end": "1138559"
  },
  {
    "text": "um we'll do some questions uh how many of us here are you know running kubernetes",
    "start": "1138559",
    "end": "1146179"
  },
  {
    "text": "all right it's a good number and uh how many of us are running kubernetes in",
    "start": "1146179",
    "end": "1151400"
  },
  {
    "text": "production okay how many of us are familiar with",
    "start": "1151400",
    "end": "1157340"
  },
  {
    "text": "Carvel okay uh how many of us are familiar with",
    "start": "1157340",
    "end": "1162799"
  },
  {
    "text": "like the Unix philosophy great okay okay I think I I know where",
    "start": "1162799",
    "end": "1168620"
  },
  {
    "text": "we're at and hopefully you had a chance to move your hands you have a little bit more blood flowing uh",
    "start": "1168620",
    "end": "1174260"
  },
  {
    "text": "so carvo is kind of trying to bring that Unix philosophy to running applications",
    "start": "1174260",
    "end": "1182360"
  },
  {
    "text": "on kubernetes so we want to be building like a reliable single purpose",
    "start": "1182360",
    "end": "1188539"
  },
  {
    "text": "composable to chain and you can use that for you know building your applications configuring your applications deploying",
    "start": "1188539",
    "end": "1195200"
  },
  {
    "text": "your applications really the idea is taken from you know how you you might be",
    "start": "1195200",
    "end": "1200360"
  },
  {
    "text": "used to okay I do this thing I pipe it to the next command I pipe it to the next command that's what carbo tries to",
    "start": "1200360",
    "end": "1206179"
  },
  {
    "text": "bring to application deployment on kubernetes so the dual chain is made up of a few",
    "start": "1206179",
    "end": "1212000"
  },
  {
    "text": "different tools and we'll talk about all of them today um so there is vendor there's image",
    "start": "1212000",
    "end": "1217220"
  },
  {
    "text": "package cap controller cap K builds",
    "start": "1217220",
    "end": "1222440"
  },
  {
    "text": "secret gen controller and ytt so let's talk about the local",
    "start": "1222440",
    "end": "1228380"
  },
  {
    "text": "development workflow using carpool um and so you know let's say I I've made",
    "start": "1228380",
    "end": "1234500"
  },
  {
    "text": "some changes and I maybe have an application which has configuration in different sources right so I may have a",
    "start": "1234500",
    "end": "1241400"
  },
  {
    "text": "hump chart in a git repo I may have some ytt configuration somewhere I may have some queue configuration and different",
    "start": "1241400",
    "end": "1247580"
  },
  {
    "text": "people but my application uses all of that so I wanted to which allows me to",
    "start": "1247580",
    "end": "1253220"
  },
  {
    "text": "sync this configuration from different sources and that's where I use vendor so",
    "start": "1253220",
    "end": "1258260"
  },
  {
    "text": "this is my tool to to get everything and get all the the configuration that I need into a single directory",
    "start": "1258260",
    "end": "1266000"
  },
  {
    "text": "then the next thing I want to do is I've got all these dependencies but I want to customize them like I want to provide",
    "start": "1266000",
    "end": "1272299"
  },
  {
    "text": "certain values maybe something some help charts are not exactly exposing the",
    "start": "1272299",
    "end": "1277340"
  },
  {
    "text": "configuration I want so I may want to write my own overlays and so that's where I use ytt to do that",
    "start": "1277340",
    "end": "1285080"
  },
  {
    "text": "the next thing I want to do is I really want to lock down the images that I want",
    "start": "1285080",
    "end": "1290600"
  },
  {
    "text": "to use so maybe I'm consuming an open source home chart and it's tagged by a",
    "start": "1290600",
    "end": "1296480"
  },
  {
    "text": "particular the image is tagged with a version number right so it may be like V 1.2.0",
    "start": "1296480",
    "end": "1302419"
  },
  {
    "text": "but I don't want to consume an image which with the tag I want to consume it with a digest so I know exactly what I'm",
    "start": "1302419",
    "end": "1309380"
  },
  {
    "text": "getting and I know that that digest will change when that image changes so that's where I'll use cables to",
    "start": "1309380",
    "end": "1316340"
  },
  {
    "text": "resolve my image reference and convert it to being referenced by Digest",
    "start": "1316340",
    "end": "1321919"
  },
  {
    "text": "then I have a bunch of this different dependencies right so I talked about my application being made up of you know",
    "start": "1321919",
    "end": "1329720"
  },
  {
    "text": "having a dependency on a hum chart maybe I have I some Q dependencies so I want",
    "start": "1329720",
    "end": "1335059"
  },
  {
    "text": "to bundle up my applications configuration and all of the dependent images I want to treat them as one oci",
    "start": "1335059",
    "end": "1342860"
  },
  {
    "text": "artifact it may not be one giant image but I do want a way for me to declare",
    "start": "1342860",
    "end": "1348740"
  },
  {
    "text": "that these are all the things that I'm dependent on and I want to treat it as a single oci artifact that's where I use",
    "start": "1348740",
    "end": "1355400"
  },
  {
    "text": "image package to create that bundle and then finally I have everything I",
    "start": "1355400",
    "end": "1360980"
  },
  {
    "text": "need I have my configuration I've done the customization I need I've locked down my images so I'm going to deploy it",
    "start": "1360980",
    "end": "1367580"
  },
  {
    "text": "using cap now these steps I could I could run",
    "start": "1367580",
    "end": "1375020"
  },
  {
    "text": "these as is but with the cncf ecosystem one of the great things we have is we",
    "start": "1375020",
    "end": "1380240"
  },
  {
    "text": "have a lot of variety of tools and each of the tools are good at doing different things so",
    "start": "1380240",
    "end": "1386059"
  },
  {
    "text": "I want something which is composable and that I can replace any of these with a",
    "start": "1386059",
    "end": "1391220"
  },
  {
    "text": "tool of my choice which means that I could use ytt for templating or maybe I use Q here",
    "start": "1391220",
    "end": "1400039"
  },
  {
    "text": "um and that's kind of what this Unix philosophy and the composability gives you is you can leverage",
    "start": "1400039",
    "end": "1405559"
  },
  {
    "text": "um the goodness in the ecosystem and use different tools of your choice when you want to",
    "start": "1405559",
    "end": "1411760"
  },
  {
    "text": "so let's look at some example local development workflows again you know looking at Unix this may look familiar",
    "start": "1411980",
    "end": "1418880"
  },
  {
    "text": "to you I could be using Q export and then getting getting that output in yaml",
    "start": "1418880",
    "end": "1425179"
  },
  {
    "text": "and then using cook cuddle to apply it or I could be you know pulling down an",
    "start": "1425179",
    "end": "1431240"
  },
  {
    "text": "image that I've bundled using image package and I could be then can you know",
    "start": "1431240",
    "end": "1438080"
  },
  {
    "text": "templating it with you deploying it with cap um or the final one the last one that I",
    "start": "1438080",
    "end": "1444559"
  },
  {
    "text": "have here is really interesting because I am using q but I'm also using ytt to apply a particular overlay on top of it",
    "start": "1444559",
    "end": "1452780"
  },
  {
    "text": "um so that that kind of shows you like how you can mix and match these different things to really suit your environment and you know what what's",
    "start": "1452780",
    "end": "1459500"
  },
  {
    "text": "best for that workflow so let's talk about how we take this to",
    "start": "1459500",
    "end": "1465140"
  },
  {
    "text": "a cluster we're all running kubernetes a lot of us are running it in production um so what do we do on cluster",
    "start": "1465140",
    "end": "1472220"
  },
  {
    "text": "so we talked about before basically you know your steps looking a little bit like okay I'm fetching some images then",
    "start": "1472220",
    "end": "1479360"
  },
  {
    "text": "I'm templating that and I'm deploying it um that's the three steps you're going through so it would be great if we could",
    "start": "1479360",
    "end": "1486440"
  },
  {
    "text": "express exactly that to run on a cluster um and that's what we did uh so also we",
    "start": "1486440",
    "end": "1492919"
  },
  {
    "text": "want to be able to sort out these you know have various fetch strategies have various templating strategies but that's",
    "start": "1492919",
    "end": "1499760"
  },
  {
    "text": "exactly what we did with cap controller so with the cap controllers app CR you're able to Define here's what I'm",
    "start": "1499760",
    "end": "1506720"
  },
  {
    "text": "fetching here's what I'm templating here's what I'm deploying um and you're able to swap out at each",
    "start": "1506720",
    "end": "1513440"
  },
  {
    "text": "of these steps just like we talked about in the local development workflow",
    "start": "1513440",
    "end": "1518620"
  },
  {
    "text": "um so let's talk a little bit about you know what what this could look like so this is what your local development",
    "start": "1519860",
    "end": "1526760"
  },
  {
    "text": "um your piping your commands you have that quick feedback loop um but then on the cluster you have cap controller",
    "start": "1526760",
    "end": "1533720"
  },
  {
    "text": "which is um syncing or yeah syncing to your git repo or your fetching you know your",
    "start": "1533720",
    "end": "1541340"
  },
  {
    "text": "fetch source of choice every 10 minutes so it's continuously reconciling",
    "start": "1541340",
    "end": "1547520"
  },
  {
    "text": "um every 10 minutes it's configurable so you could change that but every 10 minutes preventing any kind of",
    "start": "1547520",
    "end": "1553220"
  },
  {
    "text": "configuration Drift But also it gives you that same feeling",
    "start": "1553220",
    "end": "1559159"
  },
  {
    "text": "um of what you're doing in development right so the idea here is to really showcase how if in development you're",
    "start": "1559159",
    "end": "1567380"
  },
  {
    "text": "used to doing render and then q and then cables in which package and cap that's",
    "start": "1567380",
    "end": "1572900"
  },
  {
    "text": "exactly what's going to happen on your cluster so it makes it really easy for you to follow through debug",
    "start": "1572900",
    "end": "1579980"
  },
  {
    "text": "um you know kind of logically understand what's going on but you also get the goodness of it being continuously",
    "start": "1579980",
    "end": "1585860"
  },
  {
    "text": "reconciling and it happening um on on your cluster",
    "start": "1585860",
    "end": "1591640"
  },
  {
    "text": "here's a quick example of what using Q with an app CR looks like so here we",
    "start": "1591860",
    "end": "1598880"
  },
  {
    "text": "have you know we're fetching from a config map you could be fetching from a",
    "start": "1598880",
    "end": "1604340"
  },
  {
    "text": "git repo or you could be fetching from a oci bundle um but here we are just maybe we're",
    "start": "1604340",
    "end": "1610460"
  },
  {
    "text": "doing local development and we just want to fetch from this config map we're templating using q and then we're",
    "start": "1610460",
    "end": "1618320"
  },
  {
    "text": "deploying using cap so again the the the idea being you could run exactly these",
    "start": "1618320",
    "end": "1624620"
  },
  {
    "text": "commands in your local development flow and now you've taken that on cluster",
    "start": "1624620",
    "end": "1631179"
  },
  {
    "text": "uh here's what some of the cap controller CRS look like and we've talked a lot about the app CR which is",
    "start": "1632960",
    "end": "1638779"
  },
  {
    "text": "really the the the core API in cap controller everything Builds on top of it and then Dimitri will talk a little",
    "start": "1638779",
    "end": "1645919"
  },
  {
    "text": "bit about the packaging CRS and then we'll also do a quick demo using queue",
    "start": "1645919",
    "end": "1652220"
  },
  {
    "text": "yeah apparently we're pretty bad on time I think there was a five minute reminder um so yeah the core apis appcr is you",
    "start": "1652220",
    "end": "1659600"
  },
  {
    "text": "already see an example in the slide right uh package install package and package reposit code is really an",
    "start": "1659600",
    "end": "1665419"
  },
  {
    "text": "optional layer that allows you to take that app CR and maybe distribute it to somebody else but when you do",
    "start": "1665419",
    "end": "1670640"
  },
  {
    "text": "distributed you don't really have to know what exactly is happening within",
    "start": "1670640",
    "end": "1675799"
  },
  {
    "text": "the app CR right so you don't really have to know that the templating is based on Q or ytt or Helm template Etc",
    "start": "1675799",
    "end": "1682100"
  },
  {
    "text": "right so it's kind of hidden away from a consumer but you know at the core with app CR so",
    "start": "1682100",
    "end": "1688159"
  },
  {
    "text": "let's actually real quickly let's see a speed Dem over here I don't know is this uh large enough here we have one minute",
    "start": "1688159",
    "end": "1695659"
  },
  {
    "text": "one minute perfect so let's actually take a pretty uh complicated uh piece of code that",
    "start": "1695659",
    "end": "1703640"
  },
  {
    "text": "somebody else have written and I found uh somebody did it with Q uh it's a repository by Thomas thank you Thomas",
    "start": "1703640",
    "end": "1713360"
  },
  {
    "text": "um uh what we'll do here real quick is we're going to say cab deploy Dash a example Dash F and we'll throw in a cert",
    "start": "1713360",
    "end": "1722600"
  },
  {
    "text": "manager here and I'll close this so we're about to install an app CR we'll click on yes here and so what's",
    "start": "1722600",
    "end": "1729020"
  },
  {
    "text": "happening here while this is going to tell us things are reconciling uh it's we're actually fetching a module of Q",
    "start": "1729020",
    "end": "1735760"
  },
  {
    "text": "from GitHub right this is the person who's authored bunch of Q configuration",
    "start": "1735760",
    "end": "1740779"
  },
  {
    "text": "for all of their services that they run on their clusters and we're telling you",
    "start": "1740779",
    "end": "1746179"
  },
  {
    "text": "hey let's uh let's use this module and this particular package under the emerge under that module which is cert manager",
    "start": "1746179",
    "end": "1753260"
  },
  {
    "text": "here and we're also saying hey please get us only the list portion of the",
    "start": "1753260",
    "end": "1758840"
  },
  {
    "text": "output from q and the list portion is a little bit funny ask us questions about it later if you want so uh we actually",
    "start": "1758840",
    "end": "1766460"
  },
  {
    "text": "did deploy um search manager here you can actually see that the cert manager namespace",
    "start": "1766460",
    "end": "1772640"
  },
  {
    "text": "ended up here and then if we take a look at pods over here so we got uh we got a",
    "start": "1772640",
    "end": "1778460"
  },
  {
    "text": "pod for cert manager right and so all we've done right is we just said hey we got some few configuration in this git",
    "start": "1778460",
    "end": "1784220"
  },
  {
    "text": "place that's execute it with q and then let's deploy it with cap and this is going to happen reconciling you know continuously",
    "start": "1784220",
    "end": "1791419"
  },
  {
    "text": "on a cluster walk away come back still there still being deployed so I think",
    "start": "1791419",
    "end": "1796820"
  },
  {
    "text": "we're out of time but thank you very much uh we'll uh actually put this one",
    "start": "1796820",
    "end": "1802340"
  },
  {
    "text": "more slide here go to qlink.org Great project go to carvel.dev also great",
    "start": "1802340",
    "end": "1807620"
  },
  {
    "text": "project and please visit our slack Channel we love to chat",
    "start": "1807620",
    "end": "1812860"
  }
]