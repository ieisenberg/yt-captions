[
  {
    "text": "all right i still see a lot of people joining which is great but we'll uh we'll go ahead and get started uh",
    "start": "1920",
    "end": "8720"
  },
  {
    "text": "welcome to week nine of our ten week cube sec enterprise online webinar series we've had",
    "start": "8720",
    "end": "15040"
  },
  {
    "text": "just tremendous interest in this program and you know we're we will do it again but",
    "start": "15040",
    "end": "21359"
  },
  {
    "text": "we're excited uh or it'll be a few more months before we kick it off again",
    "start": "21359",
    "end": "26560"
  },
  {
    "text": "but we've had some great sessions and today's session is no different we will i think you're going to really",
    "start": "26560",
    "end": "32719"
  },
  {
    "text": "enjoy it so let me before we get started just walk you through a little bit of the",
    "start": "32719",
    "end": "38079"
  },
  {
    "text": "logistics we are have everybody on mute we'll be taking questions if you do have any questions",
    "start": "38079",
    "end": "43600"
  },
  {
    "text": "please you to use the go to webinar questions panel uh over there on the side so if we in",
    "start": "43600",
    "end": "50640"
  },
  {
    "text": "advance to the next slide i'll walk through uh today's the the the the other elements here",
    "start": "50640",
    "end": "56640"
  },
  {
    "text": "um so go ahead and use your questions panel um and we'll",
    "start": "56640",
    "end": "63280"
  },
  {
    "text": "you know we'll we'll we'll take them that way uh we'll try to handle them um you know",
    "start": "63280",
    "end": "68960"
  },
  {
    "text": "in real time if they're relevant to what our speaker's talking about otherwise we'll save it for q a",
    "start": "68960",
    "end": "74400"
  },
  {
    "text": "towards the end we are recording today's session you'll get a copy or you'll get a link to that recording",
    "start": "74400",
    "end": "79759"
  },
  {
    "text": "um you know after today's event and you can uh share it with some others on your",
    "start": "79759",
    "end": "84880"
  },
  {
    "text": "team if you find it interesting and we're very we're also very interested in your feedback towards the end",
    "start": "84880",
    "end": "90960"
  },
  {
    "text": "uh so we will be sending out a survey along with that uh confirmation uh after the event we",
    "start": "90960",
    "end": "96960"
  },
  {
    "text": "we'd love to hear what you think and if you'd like to be part of our next program you know let us know that too we'll keep track of it",
    "start": "96960",
    "end": "103119"
  },
  {
    "text": "if you if you feel like you have a topic that would be of interest to the audience for our future series so",
    "start": "103119",
    "end": "110079"
  },
  {
    "text": "um let me turn to today's event now we're excited to have uh riaz from cloudell here with us and",
    "start": "110079",
    "end": "116240"
  },
  {
    "text": "the topic uh that he'll be discussing today is is really interesting in that you know a lot of times as",
    "start": "116240",
    "end": "122399"
  },
  {
    "text": "security people i think we take the perspective of let's uh of",
    "start": "122399",
    "end": "128239"
  },
  {
    "text": "our own perspective how do we lock things down but one of the best ways to understand what's happening is to look at you know how are these",
    "start": "128239",
    "end": "134319"
  },
  {
    "text": "people uh the bad guys you know aiming at your your your environment how are they",
    "start": "134319",
    "end": "140080"
  },
  {
    "text": "getting in and what does it look like when they're in and riaz will be walking you through you know exactly",
    "start": "140080",
    "end": "146959"
  },
  {
    "text": "what people look at when they're targeting your environment and um and how does it look in your systems from your perspective what can",
    "start": "146959",
    "end": "153440"
  },
  {
    "text": "you see and and of course you know beginning to think about what do you do as a reaction so with that let me turn it over to",
    "start": "153440",
    "end": "160000"
  },
  {
    "text": "riyaz today's presenter and uh look forward to to any of your questions uh we'll keep an eye on that as we go",
    "start": "160000",
    "end": "168160"
  },
  {
    "text": "all right thank you so much uh andy for that",
    "start": "168160",
    "end": "173680"
  },
  {
    "text": "uh okay uh good morning and uh good evening folks uh for people",
    "start": "173680",
    "end": "179200"
  },
  {
    "text": "joining and uh joining with us from different parts of the planet um the",
    "start": "179200",
    "end": "186159"
  },
  {
    "text": "idea of today's presentation stem from an internal uh discussion we had",
    "start": "186159",
    "end": "191360"
  },
  {
    "text": "right where we were trying to understand from an attacker's perspective what is",
    "start": "191360",
    "end": "196800"
  },
  {
    "text": "it that is visible to an attacker and how does an attacker traverse",
    "start": "196800",
    "end": "202000"
  },
  {
    "text": "all the way from obtaining initial access right and all the way to the impact that the attacker wants to cause",
    "start": "202000",
    "end": "207519"
  },
  {
    "text": "within the cluster interested that the attacker is targeting the question that we would then pose to uh our customers",
    "start": "207519",
    "end": "215280"
  },
  {
    "text": "would be are you are you certain right that you know who exactly is in your report",
    "start": "215280",
    "end": "220400"
  },
  {
    "text": "or to rephrase it who else is in your pot right and the whole idea was to get an attacker's approach to",
    "start": "220400",
    "end": "226959"
  },
  {
    "text": "community security right uh i'd like to shout out to my uh co-founder akash",
    "start": "226959",
    "end": "233280"
  },
  {
    "text": "and my team here as well as matt if you've joined us thumbs up thank you for joining the",
    "start": "233280",
    "end": "239200"
  },
  {
    "text": "session as well i'm one of the co-founders of uh cloud",
    "start": "239200",
    "end": "245920"
  },
  {
    "text": "inc i my work primarily deals with offensive security at cloud i have over a decade of",
    "start": "245920",
    "end": "252400"
  },
  {
    "text": "experience with breaking applications which has truly transitioned into now focusing on container and community",
    "start": "252400",
    "end": "258400"
  },
  {
    "text": "security um throughout my entire career we have looked at applications or any",
    "start": "258400",
    "end": "264160"
  },
  {
    "text": "infrastructure that is given to us right regardless of whether it's any new tech the questions that uh i ask the approach",
    "start": "264160",
    "end": "271280"
  },
  {
    "text": "that i have always taken is to uh you know align myself with what important attacker do",
    "start": "271280",
    "end": "276880"
  },
  {
    "text": "and ask relevant questions around that so that you could apply that defensively and then say oh if you are an attacker i",
    "start": "276880",
    "end": "282240"
  },
  {
    "text": "have this in place right so the defensive parts of what we ask also become clear",
    "start": "282240",
    "end": "289840"
  },
  {
    "text": "i also have multiple certifications which i've gathered over the years as part of my learning curve ck and c-cad",
    "start": "289840",
    "end": "295600"
  },
  {
    "text": "being the latest of them because kubernetes and the technology itself is really new to me and my entire approach to learning that",
    "start": "295600",
    "end": "302400"
  },
  {
    "text": "as well has been through an offensive side all right let's jump into",
    "start": "302400",
    "end": "307680"
  },
  {
    "text": "what we're going to be covering today the entire presentation is kind of divided",
    "start": "307680",
    "end": "312880"
  },
  {
    "text": "into three sub sections i would say with uh with us starting uh and asking the question",
    "start": "312880",
    "end": "319039"
  },
  {
    "text": "are you or rather uh rephrasing that do you know what your organization's",
    "start": "319039",
    "end": "324320"
  },
  {
    "text": "footprint looks like on the internet right are you aware of what um your organization exposes",
    "start": "324320",
    "end": "330080"
  },
  {
    "text": "your employees expose your you know influential administrators experts the second part of today or today's",
    "start": "330080",
    "end": "337280"
  },
  {
    "text": "presentation will deal with actually asking relevant questions around what would",
    "start": "337280",
    "end": "342880"
  },
  {
    "text": "your uh attack what would an attacker do to get inside an infrastructure or attack a kubernetes cluster",
    "start": "342880",
    "end": "349199"
  },
  {
    "text": "right what other tactics and techniques they're using and we're heavily going to map all the",
    "start": "349199",
    "end": "354880"
  },
  {
    "text": "tactics and techniques that we're going to look at with examples taken from real world cases as well as our pen testing",
    "start": "354880",
    "end": "360960"
  },
  {
    "text": "engagements that we've done around kubernetes we'll map them to the miter attack you know the threat matrix",
    "start": "360960",
    "end": "367039"
  },
  {
    "text": "microsoft has created and we spent some time with that as well like going through all the tactics we'll",
    "start": "367039",
    "end": "373600"
  },
  {
    "text": "finally end the presentation uh with the last section being around what would you",
    "start": "373600",
    "end": "378639"
  },
  {
    "text": "do to minimize the spread of an attack or to prevent an attack in the first place",
    "start": "378639",
    "end": "384240"
  },
  {
    "text": "and all of these recommendations that we will talk about at the end of the presentation come from",
    "start": "384240",
    "end": "390560"
  },
  {
    "text": "what i have seen as an offensive security specialist right let's jump straight in",
    "start": "390560",
    "end": "397759"
  },
  {
    "text": "oh we have a pole here and you want to take out",
    "start": "397759",
    "end": "403680"
  },
  {
    "text": "yeah definitely so um before we riaz gets into his talk we'd be we're",
    "start": "404880",
    "end": "410160"
  },
  {
    "text": "interested in uh you know what you've all seen so go ahead and uh select one of the answers",
    "start": "410160",
    "end": "415440"
  },
  {
    "text": "have you faced any internal or external breaches you know essentially have you been hacked um you",
    "start": "415440",
    "end": "421120"
  },
  {
    "text": "know specifically in your your kubernetes world here i mean obviously if you're in security you go back 20",
    "start": "421120",
    "end": "427360"
  },
  {
    "text": "years to to network hacks that's different but uh you know have you been hacked in your kubernetes environments and",
    "start": "427360",
    "end": "433520"
  },
  {
    "text": "you know the answer is multiple breaches but you don't have to tell us the details you've had a breach but you feel like",
    "start": "433520",
    "end": "439599"
  },
  {
    "text": "you dealt with it well um you know you you feel like there were attacks but you actually were able to",
    "start": "439599",
    "end": "446160"
  },
  {
    "text": "prevent them and then wow you've never been breached we're so good you know",
    "start": "446160",
    "end": "452960"
  },
  {
    "text": "or maybe you just don't know and so go ahead and pick one and you know uh i'll give you another 20",
    "start": "452960",
    "end": "460479"
  },
  {
    "text": "or 30 seconds here just to pick your answers and then we'll share the results um",
    "start": "460479",
    "end": "466160"
  },
  {
    "text": "and and see how we're doing so uh i see a lot of the answers coming in here uh it's",
    "start": "466160",
    "end": "472479"
  },
  {
    "text": "interesting because when when we try and uh phrase this question in a public forum right and the answer",
    "start": "472479",
    "end": "480400"
  },
  {
    "text": "changes based on anonymity you wouldn't want you wouldn't want a lot of folks to figure out the day you",
    "start": "480400",
    "end": "486160"
  },
  {
    "text": "know what i've been pretty but yeah i get kind of embarrassed about it because we left our keys out in the open on github for example right",
    "start": "486160",
    "end": "492400"
  },
  {
    "text": "and essentially accepting uh the idea behind hey i've been preaching",
    "start": "492400",
    "end": "498639"
  },
  {
    "text": "this is what i've done to change security helps in learning for the larger community as well right so yeah so",
    "start": "498639",
    "end": "504160"
  },
  {
    "text": "interestingly you know about half the audience is confident that you know so far at least in their kubernetes",
    "start": "504160",
    "end": "509759"
  },
  {
    "text": "world they haven't been breached um you know and or you know are unaware of it if it certainly hasn't had a major",
    "start": "509759",
    "end": "516320"
  },
  {
    "text": "impact or they would know um but you know uh and and a number of people are pretty confident that",
    "start": "516320",
    "end": "521919"
  },
  {
    "text": "they even if an attempt was made they were able to thwart it does this what do you think about these results",
    "start": "521919",
    "end": "527680"
  },
  {
    "text": "riyaz oh they kind of align but then that's the last",
    "start": "527680",
    "end": "533200"
  },
  {
    "text": "option that is that they never breached that's what we know for infraction is is uh you know a little misleading",
    "start": "533200",
    "end": "539360"
  },
  {
    "text": "because uh if if you're all familiar with what happened with the latest the solar winds",
    "start": "539360",
    "end": "544399"
  },
  {
    "text": "attack that happened multiple organizations were affected and they did not know for a long time that they would give an attack",
    "start": "544399",
    "end": "550240"
  },
  {
    "text": "right so that's that's always going to be the case right",
    "start": "550240",
    "end": "555200"
  },
  {
    "text": "all right um the poll is closed yeah sure",
    "start": "556080",
    "end": "561680"
  },
  {
    "text": "the essential idea has always been that uh when you ask uh especially when during conferences or",
    "start": "564160",
    "end": "570720"
  },
  {
    "text": "uh during interactions uh when they're in polls as well the standard response has always been the",
    "start": "570720",
    "end": "577279"
  },
  {
    "text": "more common one has been that we don't have a lot of uh you know stuff that we expose on the internet we're careful about what",
    "start": "577279",
    "end": "583120"
  },
  {
    "text": "what we do right but let's take a look at what as an attacker over the years have",
    "start": "583120",
    "end": "588240"
  },
  {
    "text": "seen people expose right and attackers tend to use these to then focus channel their attacks to specific",
    "start": "588240",
    "end": "594720"
  },
  {
    "text": "regions of your infrastructure trying to gain access to a bigger set of the pipe",
    "start": "594720",
    "end": "599920"
  },
  {
    "text": "that exists on your network right and a lot of these uh a lot of this information",
    "start": "599920",
    "end": "605839"
  },
  {
    "text": "occurs to you as an organization occurs to you as something that's required as part of you being you know for your existence",
    "start": "605839",
    "end": "613040"
  },
  {
    "text": "right but for an attacker all of these tend to become pieces of information that they can chain together",
    "start": "613040",
    "end": "618720"
  },
  {
    "text": "right uh the most common information pieces i've seen come from employee information which exist on",
    "start": "618720",
    "end": "625040"
  },
  {
    "text": "forums or linkedin right the profiles contain what technology that you're using within your organization",
    "start": "625040",
    "end": "631200"
  },
  {
    "text": "internet technology details that uh you know a lot of companies post uh detailed job uh postings",
    "start": "631200",
    "end": "638079"
  },
  {
    "text": "on public forums responses to stack overflow developer responses the blog post that companies write",
    "start": "638079",
    "end": "643120"
  },
  {
    "text": "all of these leak some kind of technological information to attack us a common uh source of information for",
    "start": "643120",
    "end": "650160"
  },
  {
    "text": "attackers by bounty hunters you know whatever your motive is uh dns records the dns ip history ip ranges all of",
    "start": "650160",
    "end": "657519"
  },
  {
    "text": "these tend to become a lot of good sources of information uh tcc battery services that get detected by internet whiteboard scans",
    "start": "657519",
    "end": "664640"
  },
  {
    "text": "an attacker need not even run a port scan against your internet there are services that provide you",
    "start": "664640",
    "end": "669920"
  },
  {
    "text": "provide details of what's running on on your network simply by querying for your ip addresses organization name showdown being one of",
    "start": "669920",
    "end": "676079"
  },
  {
    "text": "them right abstract the os server version information by http headers page responses",
    "start": "676079",
    "end": "682160"
  },
  {
    "text": "a very common piece a recurring theme we've seen is for a lot of folks the embed",
    "start": "682160",
    "end": "688560"
  },
  {
    "text": "developers tend to embed keys and secrets inside javascript and then they um assume the the minification or the",
    "start": "688560",
    "end": "695920"
  },
  {
    "text": "you know compressed format of javascript to become an obfuscation technique right but attackers can easily reverse",
    "start": "695920",
    "end": "701680"
  },
  {
    "text": "engineer this or see that in the javascript console in the browser uh a very interesting source of",
    "start": "701680",
    "end": "706800"
  },
  {
    "text": "information and a bunch of you can try this out look at the pdf file properties that exist",
    "start": "706800",
    "end": "712880"
  },
  {
    "text": "for uh file uploads on your own website right as an organization we produce a lot of content",
    "start": "712880",
    "end": "718000"
  },
  {
    "text": "we may have ebooks we may have spec documents we may have you know job postings documents that are",
    "start": "718000",
    "end": "724079"
  },
  {
    "text": "hosted on our websites if you",
    "start": "724079",
    "end": "728480"
  },
  {
    "text": "you'd be able download see the software that was used to create the document potentially the username if it was",
    "start": "729360",
    "end": "735120"
  },
  {
    "text": "created on a windows or a mac machine and all sorts of interesting things including file paths sometimes if",
    "start": "735120",
    "end": "741440"
  },
  {
    "text": "you look into the pdf metadata yeah oh yeah we've we've had some data from",
    "start": "741440",
    "end": "748240"
  },
  {
    "text": "our own threat research team at aqua and you know what what's fascinating is",
    "start": "748240",
    "end": "753360"
  },
  {
    "text": "when you know they'll do honey pots and they'll put up a new kubernetes cluster",
    "start": "753360",
    "end": "758399"
  },
  {
    "text": "and it's a matter of minutes before people are attacking it like like you said yes those port scans and everything else the",
    "start": "758399",
    "end": "764800"
  },
  {
    "text": "dns you know ib ranging all that stuff they've automated the process of finding new places to go",
    "start": "764800",
    "end": "770480"
  },
  {
    "text": "so yeah it doesn't take much yes a lot of organizations tend to uh you",
    "start": "770480",
    "end": "776720"
  },
  {
    "text": "know have staging and environments that are misconfigured because they don't restrict the kind of traffic but sources of traffic that are",
    "start": "776720",
    "end": "782639"
  },
  {
    "text": "going to be coming to those end points right so that's that's a particularly interesting case uh default credentials for third-party",
    "start": "782639",
    "end": "788959"
  },
  {
    "text": "apps a lot of large companies uh you know tend to pay out uh large amounts of money to bug bounty hunters",
    "start": "788959",
    "end": "794800"
  },
  {
    "text": "because they found an endpoint which you could log in using an admin and admin credential",
    "start": "794800",
    "end": "800240"
  },
  {
    "text": "right this has happened in the real world as well uh the tendency to use older and",
    "start": "800240",
    "end": "806240"
  },
  {
    "text": "vulnerable software packages that don't you don't update periodically right that also becomes an attack footprint",
    "start": "806240",
    "end": "811839"
  },
  {
    "text": "for your organization hidden files uh configuration files",
    "start": "811839",
    "end": "816880"
  },
  {
    "text": "repositories and github bit bucket right all of these comments containing secrets all of these tend to become your source",
    "start": "816880",
    "end": "823279"
  },
  {
    "text": "for the attack right yeah attackers tend to gather information about your",
    "start": "823279",
    "end": "828399"
  },
  {
    "text": "organization using these and this is not a complete set this is this is just the tip of the iceberg right",
    "start": "828399",
    "end": "834000"
  },
  {
    "text": "but do folks really expose stuff online right that's that's the question regardless of the claim that i'm making",
    "start": "834000",
    "end": "841120"
  },
  {
    "text": "and when i was creating this presentation i tend to i sat out to see uh i let's let's actually try and",
    "start": "841120",
    "end": "849600"
  },
  {
    "text": "um answer the claim rather prove the game that i'm trying to make what is it that i can see by doing a",
    "start": "849600",
    "end": "856160"
  },
  {
    "text": "quick search for the sources that i mentioned and what i noticed was attack organizations tend to",
    "start": "856160",
    "end": "862480"
  },
  {
    "text": "leave information on the internet all the time right these three screenshots show the",
    "start": "862480",
    "end": "868079"
  },
  {
    "text": "first one shows the um shows a bunch of kubernetes clusters that are listening to the internet",
    "start": "868079",
    "end": "874560"
  },
  {
    "text": "and uh if if a kubernetes cluster has been started the api server has been started with priority and fairness features you would",
    "start": "874560",
    "end": "881760"
  },
  {
    "text": "have the x kubernetes pf flow schema hyphen uid and that's a unique header uh",
    "start": "881760",
    "end": "887199"
  },
  {
    "text": "fingerprint that kubernetes will expose to the internet right so simply searching down the shoulder shows you the date results",
    "start": "887199",
    "end": "893440"
  },
  {
    "text": "this is a search that i did for deployment analysts hoping to find kubernetes related uh",
    "start": "893440",
    "end": "899360"
  },
  {
    "text": "yaml files for deployments on uh gray hat warfare pretty cool search engine for buckets and storage on",
    "start": "899360",
    "end": "906079"
  },
  {
    "text": "azure and this is a vim underscore setting so jetbrains the file that contains project",
    "start": "906079",
    "end": "912079"
  },
  {
    "text": "information sometimes the history that of the project itself and sometimes confidential information",
    "start": "912079",
    "end": "917519"
  },
  {
    "text": "can be on github but this is the appear search and guitar that was done and then just to just in essence to",
    "start": "917519",
    "end": "923519"
  },
  {
    "text": "figure out if what is it that attackers tend to see and is it how much is this",
    "start": "923519",
    "end": "929040"
  },
  {
    "text": "close to the real world right the game that i made across all the different sources of information",
    "start": "929040",
    "end": "935199"
  },
  {
    "text": "all right great so um you know i think as riaz moves into the next section of his talk you know the question",
    "start": "939040",
    "end": "945680"
  },
  {
    "text": "comes up of you know where are you our audience in terms of your own adoption of kubernetes and um",
    "start": "945680",
    "end": "954480"
  },
  {
    "text": "you know i think you know the question is you know uh you know some of you might already be there all",
    "start": "954480",
    "end": "960240"
  },
  {
    "text": "of your production workloads are running kubernetes i'll be surprised but we'll see uh you're drawing up plans and you're",
    "start": "960240",
    "end": "966240"
  },
  {
    "text": "testing some apps and kubernetes you're thinking about you know what your infrastructure looks like and could be",
    "start": "966240",
    "end": "972560"
  },
  {
    "text": "moved there or i love this one regardless i don't need no stinking kubernetes right you know",
    "start": "972560",
    "end": "978720"
  },
  {
    "text": "that's your uh i don't know why you'd be on today's webinar if you felt that way but uh let's see give people a few seconds",
    "start": "978720",
    "end": "986079"
  },
  {
    "text": "to sign to pull their answers absolutely um yeah i see them coming in and uh",
    "start": "986079",
    "end": "993120"
  },
  {
    "text": "we'll give you about 10 more seconds and share them there you go so you're kind of a good mix i mean",
    "start": "993120",
    "end": "998800"
  },
  {
    "text": "people are either in production already and with a you know bulk of their workloads there or uh you know just",
    "start": "998800",
    "end": "1005279"
  },
  {
    "text": "just drawing up plans you know doing some apps maybe in pilot modes but you know definitely uh you're strong",
    "start": "1005279",
    "end": "1012240"
  },
  {
    "text": "strong in the first two sure super super",
    "start": "1012240",
    "end": "1017759"
  },
  {
    "text": "let's then jump into the uh the end of today's presentation uh taking in from",
    "start": "1017920",
    "end": "1024319"
  },
  {
    "text": "what we've learned that organizations tend to expose a lot of information right and attackers when they want to",
    "start": "1024319",
    "end": "1030000"
  },
  {
    "text": "focus on uh figuring out kubernetes clusters right and targeting companies that run kubernetes on production or",
    "start": "1030000",
    "end": "1036160"
  },
  {
    "text": "valid testing and as long as you can get into the cluster you would begin with a structure okay",
    "start": "1036160",
    "end": "1043600"
  },
  {
    "text": "and this is this is uh this is something i've seen over the last decade of working with a lot of other security",
    "start": "1043600",
    "end": "1049360"
  },
  {
    "text": "folks especially in the offensive security domain all attackers irrespective of how unstructured they are follow a set of",
    "start": "1049360",
    "end": "1055840"
  },
  {
    "text": "tactics right to reach their input i am extremely unstructured in my real life right",
    "start": "1055840",
    "end": "1061120"
  },
  {
    "text": "in the real world i tend to have notes all over the place and extremely uh with a very short",
    "start": "1061120",
    "end": "1066720"
  },
  {
    "text": "attention span the regardless of what your structure will run so you know",
    "start": "1066720",
    "end": "1072000"
  },
  {
    "text": "whether you have a structure or not attackers will follow a set of tactics to each temple right and each of these tactics you",
    "start": "1072000",
    "end": "1078559"
  },
  {
    "text": "could consider them as milestones they tend to have techniques by which their tactic is fulfilled",
    "start": "1078559",
    "end": "1084000"
  },
  {
    "text": "right and i'm trying to slowly build into what the mitre attack framework looks like right and depending",
    "start": "1084000",
    "end": "1089679"
  },
  {
    "text": "on the technology that is being targeted the tactic may differ but often aligns with you the attacker will perform initial",
    "start": "1089679",
    "end": "1096080"
  },
  {
    "text": "discovery there would be some amount of code execution there would be an escalation of privileges you want more",
    "start": "1096080",
    "end": "1101919"
  },
  {
    "text": "right from your access that you've obtained there's going to be persistence in some form or the other there's going to be evasion or evidence",
    "start": "1101919",
    "end": "1108160"
  },
  {
    "text": "removal in some cases but the attackers don't want to know that they don't want others to know that they're there",
    "start": "1108160",
    "end": "1113200"
  },
  {
    "text": "and eventually ending with an abuse or impact of whatever access you've obtained right all of this maps to what the miter",
    "start": "1113200",
    "end": "1121200"
  },
  {
    "text": "attack threat matrix is in a sense this is a globally accessible knowledge base of",
    "start": "1121200",
    "end": "1126720"
  },
  {
    "text": "adversary tactics explaining uh what an attacker would do across different technologies",
    "start": "1126720",
    "end": "1132720"
  },
  {
    "text": "and the techniques that they would say that that they would use for attacking those technologies right",
    "start": "1132720",
    "end": "1138640"
  },
  {
    "text": "and all of these are based on real world observations and the link is right there if you want to take a look several matrices have been",
    "start": "1138640",
    "end": "1145200"
  },
  {
    "text": "created for various tech verticals windows linux being the most popular ones you have",
    "start": "1145200",
    "end": "1150640"
  },
  {
    "text": "gcp that have come out right and a bunch of mobile os tactics and techniques as well these can",
    "start": "1150640",
    "end": "1157280"
  },
  {
    "text": "be used by both offensive security folks as well as defenders right offensive security folks",
    "start": "1157280",
    "end": "1162400"
  },
  {
    "text": "obviously the information is straightforward you can pick up a technique and make oh this is what i need to do to",
    "start": "1162400",
    "end": "1168559"
  },
  {
    "text": "you know complete this tactic within the within the framework and for defenders the information is equally useful to identify the attack",
    "start": "1168559",
    "end": "1175360"
  },
  {
    "text": "path that an attacker would take the bad guys will take so that i can build my defense in depth based on",
    "start": "1175360",
    "end": "1180880"
  },
  {
    "text": "what i see right microsoft created a similar threat matrix for kubernetes",
    "start": "1180880",
    "end": "1186000"
  },
  {
    "text": "and that's going to be our focus for today's presentation we're going to take a look at what the miter this is",
    "start": "1186000",
    "end": "1192880"
  },
  {
    "text": "not exactly the miter attach matrix essentially this is microsoft's version of using the thread",
    "start": "1192880",
    "end": "1198880"
  },
  {
    "text": "matrix as a framework you know in the framework creating one for kubernetes right an attack like",
    "start": "1198880",
    "end": "1205200"
  },
  {
    "text": "threat matrix for kubernetes and most of the techniques that are going to be mentioned uh within the tactics right bunch of",
    "start": "1205200",
    "end": "1212240"
  },
  {
    "text": "them are repeatable to achieve different uh tactical milestones okay so a simple way to read this if",
    "start": "1212240",
    "end": "1218960"
  },
  {
    "text": "you're looking at this or the first time a simple way to read this table is the ones in blue the initial",
    "start": "1218960",
    "end": "1224240"
  },
  {
    "text": "access execution persistence are tactics each tactic has techniques that attackers use",
    "start": "1224240",
    "end": "1230080"
  },
  {
    "text": "right and this particular table is focused on kubernetes",
    "start": "1230080",
    "end": "1235280"
  },
  {
    "text": "okay let's jump into uh taking a look at what uh and i'm going to cover examples from",
    "start": "1235280",
    "end": "1240400"
  },
  {
    "text": "i'm not going to cover all techniques that's just going to be a whole day session if i jump into each one of them right given",
    "start": "1240400",
    "end": "1246960"
  },
  {
    "text": "in the time that we have let's take a look at some examples from each tactic a technique from each tactic",
    "start": "1246960",
    "end": "1252480"
  },
  {
    "text": "and see what it looks like in the real world okay from initial access let's uh take a look",
    "start": "1252480",
    "end": "1258159"
  },
  {
    "text": "at one of the most common ones which is the exposed dashboard right in initial access for the uh tactic to",
    "start": "1258159",
    "end": "1265200"
  },
  {
    "text": "become a platform you have an attacker figuring out an exposed dashboard right for the kubernetes",
    "start": "1265200",
    "end": "1270720"
  },
  {
    "text": "question when you say export dashboard we're talking about the kubernetes dashboard right the screenshot on the screen right",
    "start": "1270720",
    "end": "1276320"
  },
  {
    "text": "now that you can see uh was uh taken by the you know the amazing folks at uh redlock.io right",
    "start": "1276320",
    "end": "1283200"
  },
  {
    "text": "when they were researching uh what kind of dashboards or kubernetes dashboards are visible on the",
    "start": "1283200",
    "end": "1288559"
  },
  {
    "text": "internet and they ended up on this particular dashboard this dashboard belongs to tesla",
    "start": "1288559",
    "end": "1295120"
  },
  {
    "text": "right and this did not have any uh authentication or authorization simply browsing to that endpoint allowed",
    "start": "1295120",
    "end": "1302080"
  },
  {
    "text": "them to browse the kubernetes cluster configuration right and from the secret they were able to",
    "start": "1302080",
    "end": "1307919"
  },
  {
    "text": "pick out aws sd credentials and this was pretty popular back in i think this was last year",
    "start": "1307919",
    "end": "1313200"
  },
  {
    "text": "right uh covered by a lot of major news agencies where tesla's kubernetes dashboard was",
    "start": "1313200",
    "end": "1318640"
  },
  {
    "text": "exposed and that was the news that uh came out and uh i'm going to come back to this dashboard again at the end",
    "start": "1318640",
    "end": "1324480"
  },
  {
    "text": "with an interesting story with the impact that they were trying to discover right with some things around crypto mining and",
    "start": "1324480",
    "end": "1331120"
  },
  {
    "text": "we'll touch upon that when we reach the last tactic in the uh you know the threat matrix",
    "start": "1331120",
    "end": "1336880"
  },
  {
    "text": "and but this is what an expert dashboard looks like on the internet and you could reach this either by scanning the entire",
    "start": "1336880",
    "end": "1342480"
  },
  {
    "text": "internet and there are tools available to do that or there are services like showdown for example",
    "start": "1342480",
    "end": "1347679"
  },
  {
    "text": "and if you craft your search query properly you'll be able to find a bunch of these on the internet right this is another example of initial",
    "start": "1347679",
    "end": "1354159"
  },
  {
    "text": "access where an attacker was able to gain access to you know the files required to create",
    "start": "1354159",
    "end": "1361120"
  },
  {
    "text": "your own cube config okay using an ssr and the in the boundary community this is a really",
    "start": "1361120",
    "end": "1366799"
  },
  {
    "text": "popular bug because this this was an etsy uh the ssrf was used to extract",
    "start": "1366799",
    "end": "1374640"
  },
  {
    "text": "you know image by image from the image itself the attacker was able to extract client",
    "start": "1374640",
    "end": "1380480"
  },
  {
    "text": "certificate the private key right the token all of that then became part of",
    "start": "1380480",
    "end": "1386159"
  },
  {
    "text": "the query that he made using queue cuttle and was able to then gain access to the cluster",
    "start": "1386159",
    "end": "1391360"
  },
  {
    "text": "at least specific mean spaces right if you look at the bottom most screenshot you can see that the attacker was able",
    "start": "1391360",
    "end": "1398000"
  },
  {
    "text": "to get a shell into one of the parts that were running right so application vulnerability definitely",
    "start": "1398000",
    "end": "1404960"
  },
  {
    "text": "is a way to get uh initial access inside your kubernetes cluster and multiple large companies have in the",
    "start": "1404960",
    "end": "1410720"
  },
  {
    "text": "past we've seen this uh have exposed their communities dashboard without authentication of the internet",
    "start": "1410720",
    "end": "1416799"
  },
  {
    "text": "which is read write you can make you can use a curl request to start uh a part in in the name space in indian",
    "start": "1418559",
    "end": "1424080"
  },
  {
    "text": "space using if two 10 to 50 is open at 10 10 to 55 from older kubernetes they're still",
    "start": "1424080",
    "end": "1430240"
  },
  {
    "text": "exposed 10 to 55 allows you to read kubernetes configuration that's what you don't report right and",
    "start": "1430240",
    "end": "1435440"
  },
  {
    "text": "both of these are widely still accessible for older versions of communities running out there application vulnerabilities is one of",
    "start": "1435440",
    "end": "1441360"
  },
  {
    "text": "the most common ways by which attackers can gain access to your cluster and you're looking at",
    "start": "1441360",
    "end": "1446640"
  },
  {
    "text": "vulnerabilities like anybody that especially can make a network request because you then use that to read configuration data",
    "start": "1446640",
    "end": "1454000"
  },
  {
    "text": "and uh you know essentially you need either the access to a dashboard or you need access to the",
    "start": "1454000",
    "end": "1459760"
  },
  {
    "text": "group configuration file right so uh balanced like ssrif your lfis part traverses",
    "start": "1459760",
    "end": "1464880"
  },
  {
    "text": "arbitrary file downloads right all of these vulnerabilities that allow you access to the back end would give you some level of access to",
    "start": "1464880",
    "end": "1472480"
  },
  {
    "text": "the cluster so that's what your initial access is about right moving on to the next tactic that",
    "start": "1472480",
    "end": "1478559"
  },
  {
    "text": "attackers use an execution being the eventual outcome of this and you've gained some level of initial",
    "start": "1478559",
    "end": "1485120"
  },
  {
    "text": "access now you want to move to executing your custom port and the screenshot that you have that's",
    "start": "1485120",
    "end": "1490640"
  },
  {
    "text": "visible on screen the left screenshot is is a yaml description of a pod that when applied to",
    "start": "1490640",
    "end": "1498080"
  },
  {
    "text": "your cluster would give you access to the underlying mode itself right and because the host pid is shared",
    "start": "1498080",
    "end": "1505760"
  },
  {
    "text": "right the host period is set to true it's shared with the underlying node that is running the pod you can",
    "start": "1505760",
    "end": "1511360"
  },
  {
    "text": "actually access the process that's running on the underlying mode right and uh new container being the uh",
    "start": "1511360",
    "end": "1519360"
  },
  {
    "text": "technique that i'm talking about under execution once the ability to interact with the",
    "start": "1519360",
    "end": "1524720"
  },
  {
    "text": "cluster is obtained right regardless of how express dashboard keep config file and this is a",
    "start": "1524720",
    "end": "1530480"
  },
  {
    "text": "hilarious and common one by simply pulling them off a developer's laptop using a client-side vulnerability",
    "start": "1530480",
    "end": "1535600"
  },
  {
    "text": "right uh or secret liquid application vulnerability attackers will attempt to gain a shell access to the cluster right",
    "start": "1535600",
    "end": "1542799"
  },
  {
    "text": "sometimes the tactic can also lead to privilege creation like in the screenshot that we saw uh you then from using a single",
    "start": "1542799",
    "end": "1548799"
  },
  {
    "text": "execution you'd be able to gain access to the underlying node itself right so from the node then you could",
    "start": "1548799",
    "end": "1554240"
  },
  {
    "text": "move on and use docker for example to if that's the container runtime your people who regardless of what the",
    "start": "1554240",
    "end": "1559600"
  },
  {
    "text": "content runtime is actually uh use that to see what other parts and containers are running like access logs you've already gained those",
    "start": "1559600",
    "end": "1566240"
  },
  {
    "text": "privileges inside the cluster right so execution can overlap with uh privileged legislation right",
    "start": "1566240",
    "end": "1574480"
  },
  {
    "text": "next we look at persistence that's the next obvious technique uh according to the threat matrix and uh",
    "start": "1574480",
    "end": "1581520"
  },
  {
    "text": "the example that i have is of a kubernetes cron job and the screenshot on the left shows a property scrum job that runs",
    "start": "1581520",
    "end": "1588720"
  },
  {
    "text": "every minute and as soon as it runs it's going to get you a reverse shell on the ip address that you specified",
    "start": "1588720",
    "end": "1595120"
  },
  {
    "text": "within the channel right and this is a standard bash if you folks uh you know there's a standard uh",
    "start": "1595120",
    "end": "1600480"
  },
  {
    "text": "reverse shell that you have uh or one liner dash that allows you to gain uh initial execution capabilities to an end",
    "start": "1600480",
    "end": "1607600"
  },
  {
    "text": "point this yaml is because it's a cron job crown jobs create pods when trying to complete the task",
    "start": "1607600",
    "end": "1613760"
  },
  {
    "text": "that they're supposed to do the you what you will have if you look at the right side of the screen the screenshot there shows you have a",
    "start": "1613760",
    "end": "1620400"
  },
  {
    "text": "reverse shell that has coming from the pod onto the attacker machine right the attacker mission is what is",
    "start": "1620400",
    "end": "1626400"
  },
  {
    "text": "specified as a conjunct and this is persistence you would have uh even if somebody is sweeping through",
    "start": "1626400",
    "end": "1632720"
  },
  {
    "text": "the cluster tends to look at name spaces and pods the crown job even if they disconnect",
    "start": "1632720",
    "end": "1638080"
  },
  {
    "text": "any outbound traffic the kronzer ensures that the reverse shell jumps back to life every minute right so there's",
    "start": "1638080",
    "end": "1645039"
  },
  {
    "text": "some level of persistence that is created through the cron job for the attacker riyaz in your",
    "start": "1645039",
    "end": "1650399"
  },
  {
    "text": "experience um you know what are people doing when they get in i mean do you have a sense of the kinds",
    "start": "1650399",
    "end": "1657679"
  },
  {
    "text": "of of malicious activity is it you know i know there's been a lot of crypto mining and things like that",
    "start": "1657679",
    "end": "1663200"
  },
  {
    "text": "but any other types of attacks or what do you see sick uh because the uh the",
    "start": "1663200",
    "end": "1670240"
  },
  {
    "text": "the feature or the capability of a cluster uh the most important",
    "start": "1670240",
    "end": "1675360"
  },
  {
    "text": "capability of a cluster that is you know that attracts attackers is the ability to scale right",
    "start": "1675360",
    "end": "1682799"
  },
  {
    "text": "so if uh which is by crypto mining uh is such a popular outcome of",
    "start": "1682799",
    "end": "1688000"
  },
  {
    "text": "an attack on on your cluster because uh when an attacker runs their deployment that is actually going",
    "start": "1688000",
    "end": "1693440"
  },
  {
    "text": "to do mining based on resources automatically equal to scale right and that's profitable to the attacker apart from that you also",
    "start": "1693440",
    "end": "1700559"
  },
  {
    "text": "uh you know if you if you have if you have any jump boxes connected to the cluster for example",
    "start": "1700559",
    "end": "1706240"
  },
  {
    "text": "an attacker might want to jump back into a different section of the network right and data is definitely something",
    "start": "1706240",
    "end": "1711919"
  },
  {
    "text": "that attackers go after and that's been forever right since the day the first attack was launched",
    "start": "1711919",
    "end": "1717200"
  },
  {
    "text": "right data is something that attackers will obviously go after and crypto mining is kind of unique to",
    "start": "1717200",
    "end": "1723679"
  },
  {
    "text": "kubernetes like you say because you know you've got these almost unlimited resources and the first time you find out is when you",
    "start": "1723679",
    "end": "1730399"
  },
  {
    "text": "start seeing your your costs of your aws or azure environment going crazy right you know",
    "start": "1730399",
    "end": "1736840"
  },
  {
    "text": "yeah and the interesting thing is that uh for extremely large enterprise environments right where their aws and",
    "start": "1736840",
    "end": "1743760"
  },
  {
    "text": "azure or gcp builds are anyways in the tens of thousands of dollars",
    "start": "1743760",
    "end": "1749200"
  },
  {
    "text": "starting a deployment that does crypto mining would uh you know would not raise a lot of eyebrows because the uh",
    "start": "1749200",
    "end": "1756080"
  },
  {
    "text": "the the builds that would come out would uh essentially be it look like it's part of the workload build that they would get in",
    "start": "1756080",
    "end": "1762000"
  },
  {
    "text": "every month anyways right so they're hiding in plain sight that's the kind of dressing that i'm trying to make",
    "start": "1762000",
    "end": "1767440"
  },
  {
    "text": "thanks yeah that's it yeah so yes the kubernetes crown job is uh",
    "start": "1767440",
    "end": "1774000"
  },
  {
    "text": "a very nice example of how assistance could be maintained and other ways that attackers do but",
    "start": "1774000",
    "end": "1779279"
  },
  {
    "text": "they're not limited again this is from experience of mapping them back from the infra based days back to work cluster adding",
    "start": "1779279",
    "end": "1786720"
  },
  {
    "text": "ssh keys to the underlying node once you've gained access that's that's an easy win for an attacker creating jobs",
    "start": "1786720",
    "end": "1792960"
  },
  {
    "text": "cron jobs again reversal that's what we saw shadow admins uh definitely an attacker would create a cluster role",
    "start": "1792960",
    "end": "1799120"
  },
  {
    "text": "or role that has the ability to administer the entire cluster and they would use names that",
    "start": "1799120",
    "end": "1804799"
  },
  {
    "text": "you know would mimic something that the organization's infrastructure team has created right and we'll see a couple of examples",
    "start": "1804799",
    "end": "1810640"
  },
  {
    "text": "as well uh user writeable spot bound to gain access to code to config files that the application is",
    "start": "1810640",
    "end": "1816720"
  },
  {
    "text": "possibly hosting reuse secrets and a lot of organization is trying to get to this a lot of organizations individuals",
    "start": "1816720",
    "end": "1823279"
  },
  {
    "text": "organizations tend to reuse uh secrets uh you know depending on what kind of",
    "start": "1823279",
    "end": "1828640"
  },
  {
    "text": "workload they're um it could be an app could be keys that their you know ability to have",
    "start": "1828640",
    "end": "1834720"
  },
  {
    "text": "across different staging environments or you know in different manners but key reuse and secret reviews is a",
    "start": "1834720",
    "end": "1840960"
  },
  {
    "text": "definite thing that a lot of our organizations still deal with right storage of secrets inside conflict maps",
    "start": "1840960",
    "end": "1848000"
  },
  {
    "text": "for example which is not recommended because config maps are supposed to show configuration information but uh some examples on the internet",
    "start": "1848000",
    "end": "1854880"
  },
  {
    "text": "definitely show secrets being stored inside config maps so developers tend to do that as well right persistence from there is also is",
    "start": "1854880",
    "end": "1861440"
  },
  {
    "text": "a possibility adding a backdoor",
    "start": "1861440",
    "end": "1865278"
  },
  {
    "text": "how long it takes for the network",
    "start": "1874559",
    "end": "1878880"
  },
  {
    "text": "[Music] essentially talking about oh i have been",
    "start": "1884250",
    "end": "1889840"
  },
  {
    "text": "inside this network for over a year and nobody's seen me yet so that that's something that possibly",
    "start": "1889840",
    "end": "1895120"
  },
  {
    "text": "attackers do or use the network as a means to uh you know further compromise",
    "start": "1895120",
    "end": "1901760"
  },
  {
    "text": "whatever is available for the organization and we're going to see a couple of examples of lateral escalation right later on in the slides",
    "start": "1901760",
    "end": "1909440"
  },
  {
    "text": "or it could be simply symbolic uh collection of networks that they've compromised",
    "start": "1909440",
    "end": "1916159"
  },
  {
    "text": "do you see people actually sharing any of this on the dark web i mean is it has it reached a point where people will",
    "start": "1916880",
    "end": "1923120"
  },
  {
    "text": "say hey i got into this one and uh you know letting other",
    "start": "1923120",
    "end": "1928320"
  },
  {
    "text": "other other hackers have that same way in there have been cases in the past and",
    "start": "1928320",
    "end": "1933840"
  },
  {
    "text": "then uh you know uh leaks that have occurred on which accidentally other attackers have",
    "start": "1933840",
    "end": "1939360"
  },
  {
    "text": "stumbled upon because they found it or pasted on facebook or something like that with active live backdoor",
    "start": "1939360",
    "end": "1945039"
  },
  {
    "text": "credentials to something to a possibly large you know network that was there",
    "start": "1945039",
    "end": "1950240"
  },
  {
    "text": "facebook had a bounty that they paid out for an application that was compromised",
    "start": "1950240",
    "end": "1955840"
  },
  {
    "text": "by a bug bounty hunter but what the buck bounty hunter realized was post him compromising the application he saw",
    "start": "1955840",
    "end": "1962080"
  },
  {
    "text": "a lot of shells that were already planted inside the application right and this this was also covered",
    "start": "1962080",
    "end": "1967679"
  },
  {
    "text": "in the media right so it's i think it's a definite possibility that attackers do share",
    "start": "1967679",
    "end": "1974000"
  },
  {
    "text": "trusted attackers especially they shared uh you know their their trophy meetings are there or if you need some kind of access to",
    "start": "1974000",
    "end": "1980640"
  },
  {
    "text": "a different network environment hey here's one like take this off my shoulders and so that that's possibly that's",
    "start": "1980640",
    "end": "1986640"
  },
  {
    "text": "that's something possibly is happening out there",
    "start": "1986640",
    "end": "1991840"
  },
  {
    "text": "all right so um we have the next tactic which is privileged escalation which is uh the example that i have here",
    "start": "1992399",
    "end": "1999360"
  },
  {
    "text": "is of a cluster admin binding right and this is on my home cluster uh that i was running and",
    "start": "1999360",
    "end": "2004960"
  },
  {
    "text": "i created like a bunch of uh cluster rules that have the cluster admin binding to",
    "start": "2004960",
    "end": "2010559"
  },
  {
    "text": "them right and the steps to create that are there in the screenshot but essentially what this would allow is if an attacker",
    "start": "2010559",
    "end": "2015919"
  },
  {
    "text": "is able to gain access to a cluster role right that has the ability or whether it is bound to the",
    "start": "2015919",
    "end": "2021279"
  },
  {
    "text": "cluster admin cluster binding the token that is generated from the secret the token of the extractor from the secret",
    "start": "2021279",
    "end": "2026960"
  },
  {
    "text": "would give them complete access to the entire kubernetes cluster and you could use this token inside your curl request that fit the api server you",
    "start": "2026960",
    "end": "2033679"
  },
  {
    "text": "could create a config file right but essentially giving you access to the entire cluster and a lot of uh you",
    "start": "2033679",
    "end": "2040720"
  },
  {
    "text": "know third-party software that you install any workloads that you deploy right um keep flowing one of them for",
    "start": "2040720",
    "end": "2047600"
  },
  {
    "text": "example which is a standard mlai uh workflow based product on top of",
    "start": "2047600",
    "end": "2055200"
  },
  {
    "text": "kubernetes uh when you deploy that onto your cluster and if you've not uh",
    "start": "2055200",
    "end": "2060398"
  },
  {
    "text": "counted the number of cluster roles and roles it creates inside the name spaces that it creates about four or five name spaces the default installation path",
    "start": "2060399",
    "end": "2066960"
  },
  {
    "text": "and it creates over about 70 to 80 different cluster groups and it's understandable because it does",
    "start": "2066960",
    "end": "2072560"
  },
  {
    "text": "a lot of activity and it requires this kind of credential but a lot of those cluster rules have privileges that they they ideally should",
    "start": "2072560",
    "end": "2078320"
  },
  {
    "text": "not be added right so that's just an example in the while and the dashboard community's dashboard",
    "start": "2078320",
    "end": "2084079"
  },
  {
    "text": "being another one of them it's required the cumulative dashboard",
    "start": "2084079",
    "end": "2088960"
  },
  {
    "text": "but if an attacker is able to gain access to that token game over that they have access to the entire cluster from",
    "start": "2090159",
    "end": "2095200"
  },
  {
    "text": "there escalation of privileges is an important step right for an attacker to gain access to",
    "start": "2095200",
    "end": "2101920"
  },
  {
    "text": "additional resources uh or uh if the attacker wants to be in stealth mode this is where they would uh",
    "start": "2101920",
    "end": "2107760"
  },
  {
    "text": "sit around right a couple of examples where these attackers can escalate privileges reading secrets tokens credentials to",
    "start": "2107760",
    "end": "2113839"
  },
  {
    "text": "pull them out to try it out on a [Music]",
    "start": "2113839",
    "end": "2120099"
  },
  {
    "text": "they have a service token mapped to dim platform right this is accessible at the mouth point inside the board if you gained",
    "start": "2123839",
    "end": "2130560"
  },
  {
    "text": "access to a pod there's an attacker inside you would then be able to access to the service uh account and the token itself",
    "start": "2130560",
    "end": "2136720"
  },
  {
    "text": "uh detecting which pods are running as privileged parts and then using an except to gain access to those parts from there moving down to the node",
    "start": "2136720",
    "end": "2143359"
  },
  {
    "text": "right and then from there moving using a docker command to move to a different section",
    "start": "2143359",
    "end": "2148480"
  },
  {
    "text": "of the cluster that's again uh escalating your privileges and the more interesting one",
    "start": "2148480",
    "end": "2153920"
  },
  {
    "text": "that a lot of attackers tend to do is uh especially for managed clusters if you're if they've gained",
    "start": "2153920",
    "end": "2159920"
  },
  {
    "text": "access to a pod access to the instance metadata can allow uh reading of im credentials if they have",
    "start": "2159920",
    "end": "2166000"
  },
  {
    "text": "been attached to the instance for example right uh if you're running uh aws",
    "start": "2166000",
    "end": "2172960"
  },
  {
    "text": "you know instances that are running inside and gs and in potassium ion thread using a pod you could jump to the",
    "start": "2178000",
    "end": "2184160"
  },
  {
    "text": "inspector data",
    "start": "2184160",
    "end": "2187039"
  },
  {
    "text": "defense evasion is something that attackers would definitely want to try once they've gained some kind of privileged",
    "start": "2192320",
    "end": "2197920"
  },
  {
    "text": "escalation because hey now i have access to the cluster and i'm kind of administrator inside the",
    "start": "2197920",
    "end": "2203839"
  },
  {
    "text": "cluster but i want to ensure that i remain hidden or my traces of all the attacks the",
    "start": "2203839",
    "end": "2210000"
  },
  {
    "text": "commands that have been trying to erase right the example that i have the screenshot here again the ml on the left",
    "start": "2210000",
    "end": "2215839"
  },
  {
    "text": "is uh of ubuntu uh part that is being created but with",
    "start": "2215839",
    "end": "2221119"
  },
  {
    "text": "the name uh that maps or matches something else that's running inside cube system if you",
    "start": "2221119",
    "end": "2226240"
  },
  {
    "text": "have if you have core dns right uh interactive system if you do a couple",
    "start": "2226240",
    "end": "2231520"
  },
  {
    "text": "get parts you would see a bunch of code dns pods running right but if an attacker creates which is what the",
    "start": "2231520",
    "end": "2237280"
  },
  {
    "text": "right side of the screen shot is if an attacker uses this camera file and applies this to your cluster a pod is going to be",
    "start": "2237280",
    "end": "2244480"
  },
  {
    "text": "created with the same name as a similar name as uh other code dna spots running and it's going to",
    "start": "2244480",
    "end": "2250400"
  },
  {
    "text": "be very difficult to figure out which ones uh the actual and which is the attacker sitting in playing hiding in plain sight",
    "start": "2250400",
    "end": "2256800"
  },
  {
    "text": "right so for a partner similarity is a definite defensive issue that attackers do try the others being the ability to delete",
    "start": "2256800",
    "end": "2264720"
  },
  {
    "text": "logs that parts create by gaining access to the underlying node and all mod have all pods generate",
    "start": "2264720",
    "end": "2271520"
  },
  {
    "text": "logs that are stored in wire lock pods and system like that um the underlying if you have access to",
    "start": "2271520",
    "end": "2277520"
  },
  {
    "text": "the underlying node you'll be able to pick this part from uh delete the log files from from the directory right cuddle delete events hyphen all is",
    "start": "2277520",
    "end": "2284640"
  },
  {
    "text": "a very dangerous dimension i've never been unknown but uh this it kind of erases the entire event log of",
    "start": "2284640",
    "end": "2290480"
  },
  {
    "text": "kubernetes right across all main spaces uh the attacker could also launch parts and reserve name spaces to match up the",
    "start": "2290480",
    "end": "2296800"
  },
  {
    "text": "workloads that's what we saw with core dns and the technique that the threat matrix also talks about is to",
    "start": "2296800",
    "end": "2302880"
  },
  {
    "text": "hide their rootage and ipad diseases using process right moving on to credential access",
    "start": "2302880",
    "end": "2309599"
  },
  {
    "text": "coming to the uh you know the final parts of what the attackers tend to do they've now gone from",
    "start": "2309599",
    "end": "2314960"
  },
  {
    "text": "obtaining access executed their code they've persisted using a backdoor using a current job they've escalated",
    "start": "2314960",
    "end": "2320480"
  },
  {
    "text": "their privileges using a cluster admin uh binding their divided defenses by starting",
    "start": "2320480",
    "end": "2326160"
  },
  {
    "text": "a pod with a similar name right now they're going to essentially try and be comfortable inside their cluster",
    "start": "2326160",
    "end": "2332320"
  },
  {
    "text": "that they've compromised they're going to now try and see what else is visible",
    "start": "2332320",
    "end": "2337359"
  },
  {
    "text": "inside the cluster in terms of secrets right credentials are extremely beneficial to attackers from the",
    "start": "2337359",
    "end": "2343599"
  },
  {
    "text": "viewpoint of that you can reuse credits if required and also they allow access to regions that you might not",
    "start": "2343599",
    "end": "2349920"
  },
  {
    "text": "have access regardless of it that your status is a plus statement or not right applications for example if you want to access the",
    "start": "2349920",
    "end": "2356240"
  },
  {
    "text": "application uh and from there access data right so uh what you have on the left is uh",
    "start": "2356240",
    "end": "2363920"
  },
  {
    "text": "me trying to access the kubernetes api endpoint without any token and then on the right i am using",
    "start": "2363920",
    "end": "2370160"
  },
  {
    "text": "the service account mount point to gain access to the token and passing that through a girl request",
    "start": "2370160",
    "end": "2376480"
  },
  {
    "text": "right and using that to try and see what is visible to me as as an",
    "start": "2376480",
    "end": "2381760"
  },
  {
    "text": "attacker but the container service account is what i've used here to leak the token and this is mounted",
    "start": "2381760",
    "end": "2387839"
  },
  {
    "text": "by default in every port unless you specifically have it written in your email to not mount the service account and the default",
    "start": "2387839",
    "end": "2394400"
  },
  {
    "text": "choice account of the name space is mounted by default right so additional defaults is accounted by default that that's",
    "start": "2394400",
    "end": "2400720"
  },
  {
    "text": "the correct way to say right so the token is extracted and then if the token is privileged you have",
    "start": "2400720",
    "end": "2405760"
  },
  {
    "text": "access to the coverage api from there most attackers will try and identify uh alternate regions once they've gained",
    "start": "2405760",
    "end": "2412400"
  },
  {
    "text": "some level of access they will look at resources what is visible what else can you see from your vantage",
    "start": "2412400",
    "end": "2417520"
  },
  {
    "text": "point inside your network right they try and reach protected regions which may require credentials",
    "start": "2417520",
    "end": "2423200"
  },
  {
    "text": "that would uh you know otherwise they would they would hit the 401 unauthorized",
    "start": "2423200",
    "end": "2429599"
  },
  {
    "text": "summary places where attackers tend to find secrets and credentials the kubernetes store itself",
    "start": "2429599",
    "end": "2434800"
  },
  {
    "text": "using the service principle mounted within the underlying load which is what the example you saw uh the pod upon mounted container sales",
    "start": "2434800",
    "end": "2441839"
  },
  {
    "text": "account token after everything config maps spot descriptions hard coded within application files",
    "start": "2441839",
    "end": "2447040"
  },
  {
    "text": "right any of these places where secrets can reside would be a good place for credential access to for the tactic to be completed",
    "start": "2447040",
    "end": "2455839"
  },
  {
    "text": "discovery is a little i mean in my personal opinion discovery comes a little too late inside the threat matrix right and i say",
    "start": "2456160",
    "end": "2462640"
  },
  {
    "text": "this because most of the techniques that this tactic has are pretty much",
    "start": "2462640",
    "end": "2468800"
  },
  {
    "text": "useful to an attacker if they're done at the beginning of the threat matrix right and for the sake of completion let's",
    "start": "2468800",
    "end": "2474480"
  },
  {
    "text": "cover this as well uh what i have here is a screenshot of and a bash prompt inside",
    "start": "2474480",
    "end": "2482800"
  },
  {
    "text": "a pod running on akx right and now because the the pod has",
    "start": "2482800",
    "end": "2488560"
  },
  {
    "text": "privileged uh it's running in the previous container i now have access to the underlying node right and if you can see the host name a",
    "start": "2488560",
    "end": "2495119"
  },
  {
    "text": "case agent pool right i am from there using uh i actually didn't need to do this because the",
    "start": "2495119",
    "end": "2500720"
  },
  {
    "text": "attacker pod itself would be able to access the metadata instance endpoint address",
    "start": "2500720",
    "end": "2506480"
  },
  {
    "text": "which for aws azure and gcp is the same 169 254 168 254",
    "start": "2506480",
    "end": "2512240"
  },
  {
    "text": "and then extract metadata instance information the metadata instance information is extremely well documented by all",
    "start": "2512240",
    "end": "2518800"
  },
  {
    "text": "three cloud providers right and uh you know aws recently implemented",
    "start": "2518800",
    "end": "2524319"
  },
  {
    "text": "uh the version two right that requires a header that has to be passed to the token but if as long as you have a shell",
    "start": "2524319",
    "end": "2531680"
  },
  {
    "text": "access to a place where the 168 254 address is going to be accessible right it doesn't matter what header",
    "start": "2531680",
    "end": "2537599"
  },
  {
    "text": "requirements your you know instance that it uh requires you'd still be able to gain access to",
    "start": "2537599",
    "end": "2543760"
  },
  {
    "text": "the instance manager why is this interesting the instance penetrates because this provides information about the",
    "start": "2543760",
    "end": "2549359"
  },
  {
    "text": "instance that is running like the node being an instance virtual instance inside azure has some amount of metal information",
    "start": "2549359",
    "end": "2555760"
  },
  {
    "text": "that attached to it including where it is running what kind of you know if there's any ssh public keys",
    "start": "2555760",
    "end": "2561839"
  },
  {
    "text": "attached right jws if you have im a role attached to the instance you can actually extract the credentials",
    "start": "2561839",
    "end": "2567920"
  },
  {
    "text": "from the instance metadata itself which you can then reuse into an aws command",
    "start": "2567920",
    "end": "2572960"
  },
  {
    "text": "right the secret key and access and token that is going to be available through these transmitter data",
    "start": "2572960",
    "end": "2578560"
  },
  {
    "text": "another common uh vector that it's actually the most common attack vector if you have uh pod access inside an aws",
    "start": "2578560",
    "end": "2586079"
  },
  {
    "text": "environment right as i said this technique is described too late in the threat matrix because most of the",
    "start": "2586079",
    "end": "2592640"
  },
  {
    "text": "attackers will obviously perform additional discovery in the earlier stages um a lot of these",
    "start": "2592640",
    "end": "2598880"
  },
  {
    "text": "techniques are already covered you know in the beginning of the tactic the threat matrix itself",
    "start": "2598880",
    "end": "2605200"
  },
  {
    "text": "either via a cube config or service tokens access to the a cadence api service obtained right if",
    "start": "2605200",
    "end": "2610800"
  },
  {
    "text": "an attacker has reached this far already uh the privileged access level is received at this point of time",
    "start": "2610800",
    "end": "2616560"
  },
  {
    "text": "uh we also saw the tcp ports to 15 to 250 and 10 to 55 that give the attacker read write",
    "start": "2616560",
    "end": "2623040"
  },
  {
    "text": "privileges to the cube api server uh depending on what port is accessible and what kind of authorization is",
    "start": "2623040",
    "end": "2628640"
  },
  {
    "text": "applicable to them right attackers also tend to perform additional network mapping using tools like nmap",
    "start": "2628640",
    "end": "2634960"
  },
  {
    "text": "again some attackers tend to do this some attackers simply would read the service and end point",
    "start": "2634960",
    "end": "2640480"
  },
  {
    "text": "information using using the api itself right uh that is pretty",
    "start": "2640480",
    "end": "2645920"
  },
  {
    "text": "approximate of what that's actually exactly what is running within the network so you don't need to do an in-app scan in the",
    "start": "2645920",
    "end": "2651200"
  },
  {
    "text": "on the part of the service network from your access that you've obtained right for management is again access to",
    "start": "2651200",
    "end": "2657200"
  },
  {
    "text": "the underlying cloud platform is possible through you know service",
    "start": "2657200",
    "end": "2663119"
  },
  {
    "text": "account that's mounted right or secret saturday through the instance metadata api endpoint from moving from pod to the node or from",
    "start": "2663119",
    "end": "2670720"
  },
  {
    "text": "port to the cloud directly right so that's that's what you'd end up doing in your discovery",
    "start": "2670720",
    "end": "2676319"
  },
  {
    "text": "tactic as i said a lot of those repeats the same applies to lateral movement as",
    "start": "2676319",
    "end": "2681599"
  },
  {
    "text": "well if you notice the uh techniques that i mentioned in lateral movement are a bunch of things that we've already covered",
    "start": "2681599",
    "end": "2687599"
  },
  {
    "text": "in the past right because as an attacker when you're moving from initial access all the way to impact",
    "start": "2687599",
    "end": "2692640"
  },
  {
    "text": "you tend to end you tend to do a bunch of lateral movement things parallely while you're",
    "start": "2692640",
    "end": "2697920"
  },
  {
    "text": "moving through the attack matrix right this is an example of a dashboard access",
    "start": "2697920",
    "end": "2703280"
  },
  {
    "text": "that i've had once i have gained access to cubeconfig i can simply you know proxy the",
    "start": "2703280",
    "end": "2709200"
  },
  {
    "text": "proxy access to the dashboard and access it from my local machine and then the dashboard itself allows you",
    "start": "2709200",
    "end": "2715920"
  },
  {
    "text": "to gain access to a pod you can gain a shell and then you have access to any configuration",
    "start": "2715920",
    "end": "2722000"
  },
  {
    "text": "information from their own using this shell you can gain access to the cloud provider if",
    "start": "2722000",
    "end": "2727680"
  },
  {
    "text": "this is hosted on a managed cluster so rihanna's we have a question come in",
    "start": "2727680",
    "end": "2734079"
  },
  {
    "text": "about you know how do the attackers find the api endpoints and then how do they",
    "start": "2734079",
    "end": "2739760"
  },
  {
    "text": "authenticate to it i think this is you know uh a couple of slides back",
    "start": "2739760",
    "end": "2747839"
  },
  {
    "text": "um yeah okay so the question i think we're talking about",
    "start": "2759119",
    "end": "2764800"
  },
  {
    "text": "right at the beginning of initial access right as i mentioned um to gain initial access the attacker",
    "start": "2764800",
    "end": "2770720"
  },
  {
    "text": "requires some uh sense of where the cluster is located i could run an internet wide sweep to",
    "start": "2770720",
    "end": "2777839"
  },
  {
    "text": "figure out uh common uh you know standard uh the apis hosted on six four four three",
    "start": "2777839",
    "end": "2784319"
  },
  {
    "text": "exposed to the internet all four four three it's an http server it's like any other api server on the internet right",
    "start": "2784319",
    "end": "2789520"
  },
  {
    "text": "but identifying that it's a kubernetes dashboard is a tricky one because there's for the default uh kubernetes apes",
    "start": "2789520",
    "end": "2796640"
  },
  {
    "text": "server there's no teletale sign in the headers that tells you it is it is an uh you know a kubernetes endpoint",
    "start": "2796640",
    "end": "2802960"
  },
  {
    "text": "right but i showed you an example at the beginning or where if you have priority and fairness for example features",
    "start": "2802960",
    "end": "2808160"
  },
  {
    "text": "enabled a specific header comes up uh in the in the responses that tells you that this",
    "start": "2808160",
    "end": "2813359"
  },
  {
    "text": "is the kubernetes transform sorry this is a kubernetes api right and in most cases you do require",
    "start": "2813359",
    "end": "2819280"
  },
  {
    "text": "authorization but there are a bunch of examples on the internet live right now that don't require uh",
    "start": "2819280",
    "end": "2824640"
  },
  {
    "text": "authorization to access the apism and this could simply be honeypot sitting out there for people uh",
    "start": "2824640",
    "end": "2830400"
  },
  {
    "text": "like you and me trying to figure out what exploring right but the fact that uh not all of them",
    "start": "2830400",
    "end": "2836400"
  },
  {
    "text": "indianapolis is a definite uh you know possibility right and again obtaining access to a cubeconfig file",
    "start": "2836400",
    "end": "2843200"
  },
  {
    "text": "because you've compromised a developer laptop you've compromised um you know an application that's hosted on",
    "start": "2843200",
    "end": "2850079"
  },
  {
    "text": "kubernetes from there you've the example that i gave was the ssrf bug in etsy from there",
    "start": "2850079",
    "end": "2855280"
  },
  {
    "text": "accessing you know the environment variables that contains the certificates",
    "start": "2855280",
    "end": "2860400"
  },
  {
    "text": "right you could construct your own config and then access uh the apis level so by finding the",
    "start": "2860400",
    "end": "2866559"
  },
  {
    "text": "endpoint is port scan away or using an open source of information like in and authorization is that piece",
    "start": "2866559",
    "end": "2873680"
  },
  {
    "text": "requires some work where you have to either find an express dashboard or a compromised image in a registry that",
    "start": "2873680",
    "end": "2880079"
  },
  {
    "text": "those are the techniques that's listed there and my favorite being the application vulnerability you know using an ssrf or",
    "start": "2880079",
    "end": "2886240"
  },
  {
    "text": "something similar that allows you to gain access shell access possibly to a pod running inside the community's",
    "start": "2886240",
    "end": "2892079"
  },
  {
    "text": "cluster so it sounds like the authentication getting past that is the harder part right you know finding",
    "start": "2892079",
    "end": "2897280"
  },
  {
    "text": "finding them is easier yes yes because let's see if you're talking",
    "start": "2897280",
    "end": "2902400"
  },
  {
    "text": "about an application vulnerability an application that's running on top of kubernetes the authentication layer is",
    "start": "2902400",
    "end": "2908480"
  },
  {
    "text": "never reached right because you're using the application which is running on kubernetes as your window",
    "start": "2908480",
    "end": "2915359"
  },
  {
    "text": "right you you compromise the app you're already inside the cluster you've gained shell access",
    "start": "2915359",
    "end": "2921280"
  },
  {
    "text": "to the pod right and you're already inside the cluster and once you're inside the cluster you can access a bunch of things",
    "start": "2921280",
    "end": "2926720"
  },
  {
    "text": "based on where you are you could use the service token you could gain privileges go to the node use docker",
    "start": "2926720",
    "end": "2932160"
  },
  {
    "text": "start a bunch of other things move from there to the cloud right again as i said unstructured but",
    "start": "2932160",
    "end": "2938079"
  },
  {
    "text": "you eventually go through each of these tactics at some point in time all right great yeah we've got about 10",
    "start": "2938079",
    "end": "2943520"
  },
  {
    "text": "minutes left for y'all i'll let you get back to your slides but but thanks for that yeah i'll just uh",
    "start": "2943520",
    "end": "2950160"
  },
  {
    "text": "wrap this up uh the the miter attack framework uh reaching the impact uh",
    "start": "2950160",
    "end": "2956559"
  },
  {
    "text": "tactic right the essential idea is for every attacker as i said could be a",
    "start": "2956559",
    "end": "2961680"
  },
  {
    "text": "symbol a trophy in their bucket of clusters that have compromised which is the rarer version",
    "start": "2961680",
    "end": "2967040"
  },
  {
    "text": "but there is obviously some motive that attackers go with right and we're looking at uh either access to",
    "start": "2967040",
    "end": "2972960"
  },
  {
    "text": "data they're looking at resource hijacking in this particular case this is tesla's dashboard uh communities",
    "start": "2972960",
    "end": "2979760"
  },
  {
    "text": "dashboard which the folks at red lock when they gained access to the kubernetes dashboard and they realized",
    "start": "2979760",
    "end": "2985680"
  },
  {
    "text": "that there was already a crypto mining uh deployment that was running on inside the cluster right and uh",
    "start": "2985680",
    "end": "2994079"
  },
  {
    "text": "the uh it took time for the folks at tesla also to discover this they actually figured it out when dreadlock",
    "start": "2994079",
    "end": "2999280"
  },
  {
    "text": "folks told them essentially because the deployment that was running did not start any large instances or was",
    "start": "2999280",
    "end": "3007520"
  },
  {
    "text": "not using a lot of resources so they wanted the attackers wanted the crypto mining to happen",
    "start": "3007520",
    "end": "3013119"
  },
  {
    "text": "but they kept the footprints really minimal so that it didn't flag any you know monitoring that they had in",
    "start": "3013119",
    "end": "3018400"
  },
  {
    "text": "place right so that kind of little stealthy so this was hijacking definitely something that you and i spoke about",
    "start": "3018400",
    "end": "3024559"
  },
  {
    "text": "right so this this is a definite outcome of what attackers would look for right the potential end games uh some of",
    "start": "3024559",
    "end": "3030800"
  },
  {
    "text": "them documented data destruction by rolling back deployments removing volumes claims if you're a cluster admin",
    "start": "3030800",
    "end": "3036000"
  },
  {
    "text": "you could possibly bring down the entire cluster highlighting the resources to perform monitoring tasks ordering any state to",
    "start": "3036000",
    "end": "3041680"
  },
  {
    "text": "create a denial of service right any of these could be the impact that the attacker would be looking for",
    "start": "3041680",
    "end": "3047040"
  },
  {
    "text": "okay that's uh this is our attack tactic that we've taken the route that we've taken release to the impact",
    "start": "3047040",
    "end": "3053520"
  },
  {
    "text": "right and we have a quick poll landing uh we want to get uh let's see what everyone says all right",
    "start": "3053520",
    "end": "3059359"
  },
  {
    "text": "great yeah this is our last poll and uh you know so you know i guess the question here is you know",
    "start": "3059359",
    "end": "3065920"
  },
  {
    "text": "how do you ensure security of your cloud infrastructure and cluster today you know what are you already doing so",
    "start": "3065920",
    "end": "3073040"
  },
  {
    "text": "do you rely on the cloud platform providers to uh protect it and trust the defaults",
    "start": "3073040",
    "end": "3079440"
  },
  {
    "text": "are you doing any kind of you know pen testing and internal reviews have you done any perimeter hardening",
    "start": "3079440",
    "end": "3086079"
  },
  {
    "text": "hardening or implementing uh least privileges you know following cis best practices",
    "start": "3086079",
    "end": "3091680"
  },
  {
    "text": "there's a kubernetes cis benchmark out there that uh we for example aqua's cube bench will",
    "start": "3091680",
    "end": "3098319"
  },
  {
    "text": "help you with and then uh you're doing both numbers two and three with log monitoring analysis",
    "start": "3098319",
    "end": "3104960"
  },
  {
    "text": "and alerting you're all over this so let's go ahead and give folks uh uh",
    "start": "3104960",
    "end": "3110319"
  },
  {
    "text": "10 or 20 seconds here to answer the poll and then we'll share the results",
    "start": "3110319",
    "end": "3116800"
  },
  {
    "text": "sure looks like we still have some numbers coming in um yeah i think this been a great talk",
    "start": "3116800",
    "end": "3123760"
  },
  {
    "text": "riyaz i know we'll wrap up here in a minute but i think uh been a lot of questions along the way we'll get to q a before we",
    "start": "3123760",
    "end": "3130000"
  },
  {
    "text": "before we go so let's go ahead and share those results uh people are pretty confident that they're they're there you know more than half",
    "start": "3130000",
    "end": "3136319"
  },
  {
    "text": "saying they they've got this down and then a bunch more i would say relying on",
    "start": "3136319",
    "end": "3141920"
  },
  {
    "text": "um you know some core best practices in terms of hardening and privileges yeah this is what do you think about these",
    "start": "3141920",
    "end": "3148480"
  },
  {
    "text": "answers they consistent with what you see in the real world yes uh so uh nobody trusts the cloud",
    "start": "3148480",
    "end": "3154880"
  },
  {
    "text": "platform itself to uh to do the job completely right so that was just a filler option that now this is what i see",
    "start": "3154880",
    "end": "3160559"
  },
  {
    "text": "what's the distribution around two three and four four being i think in my opinion the least",
    "start": "3160559",
    "end": "3166480"
  },
  {
    "text": "that people uh would do in the personally people that i've spoken to right i can't see the shadow so what",
    "start": "3166480",
    "end": "3172559"
  },
  {
    "text": "what's the option with the fourth one what was the spread on that one what was the statistic i would say so yeah so",
    "start": "3172559",
    "end": "3179520"
  },
  {
    "text": "almost 60 percent said they were they were doing both you know pen testing and the hardening and least",
    "start": "3179520",
    "end": "3185119"
  },
  {
    "text": "privileges yeah oh that makes nice i think i'm talking to the wrong side of people",
    "start": "3185119",
    "end": "3191280"
  },
  {
    "text": "yeah yeah you're looking at your slides in your video it's always tricky anyway all right great let's uh let's",
    "start": "3191280",
    "end": "3196559"
  },
  {
    "text": "get on to the recommendations what do you how do you suggest people deal with this",
    "start": "3196559",
    "end": "3201760"
  },
  {
    "text": "right so i have a bunch of tips and tricks that uh you know over a period of time i've collected",
    "start": "3201760",
    "end": "3207040"
  },
  {
    "text": "especially when i was trying to figure out the whole kubernetes technology right and coming from an offensive security world",
    "start": "3207040",
    "end": "3212800"
  },
  {
    "text": "what would kubernetes administrators do that would you know prevent me from gaining access",
    "start": "3212800",
    "end": "3218880"
  },
  {
    "text": "of figuring out uh what what is the state of the cluster right keeping kubernetes updated is a no",
    "start": "3218880",
    "end": "3224880"
  },
  {
    "text": "brainer this is something that your cloud providers you know if you're trying it as a managed",
    "start": "3224880",
    "end": "3230000"
  },
  {
    "text": "cluster this is something that they would uh take care of as long as you only upgrade uh bit",
    "start": "3230000",
    "end": "3236559"
  },
  {
    "text": "right uh i think this version 1.20.4 which is currently what kubernetes is",
    "start": "3236559",
    "end": "3243920"
  },
  {
    "text": "right and they have different patch uh metrics right so some of them they support patches over",
    "start": "3243920",
    "end": "3249359"
  },
  {
    "text": "here i think version 1.18 and below is for nine months right just just be uh",
    "start": "3249359",
    "end": "3254400"
  },
  {
    "text": "conscious of water version of humanities and try and keep it updated uh restricting the access definitely uh",
    "start": "3254400",
    "end": "3260640"
  },
  {
    "text": "to the nodes to only trusted hype addresses is something that you should definitely practice uh using network policies to prevent",
    "start": "3260640",
    "end": "3266880"
  },
  {
    "text": "attackers from jumping between name spaces right if even if the attacker has compromised one part of the cluster",
    "start": "3266880",
    "end": "3272319"
  },
  {
    "text": "they should not be able to see something else or even in c they should not be able to gain access to it using you know lateral movement within",
    "start": "3272319",
    "end": "3278720"
  },
  {
    "text": "the cluster network policies comes to you right there uh definitely audit your roles binding service accounts i am access look for",
    "start": "3278720",
    "end": "3285440"
  },
  {
    "text": "shadow admins use your are back you know the cluster the command is classified judiciously right audit all your cluster roles and",
    "start": "3285440",
    "end": "3292960"
  },
  {
    "text": "uh you know any role binaries other than specific service accounts might have created scan images in your",
    "start": "3292960",
    "end": "3299440"
  },
  {
    "text": "pipeline using tools 3d as i mentioned and a wonderful tool to identify vulnerabilities that",
    "start": "3299440",
    "end": "3305119"
  },
  {
    "text": "your images may have that may become potential security hazards remove deployments that are no longer required and",
    "start": "3305119",
    "end": "3311520"
  },
  {
    "text": "definitely run pods with a security context where you have a user defined right",
    "start": "3311520",
    "end": "3316640"
  },
  {
    "text": "say definitely say no to that today if you go back and look at your uh cluster and if you do a git pods see",
    "start": "3316640",
    "end": "3323520"
  },
  {
    "text": "how many of them describe your points and see how many of them are running right so that that itself could be a problem use namespaces to",
    "start": "3323520",
    "end": "3330960"
  },
  {
    "text": "create logical segregation segregation do not store secrets uh in environment variables especially pod description if",
    "start": "3330960",
    "end": "3336880"
  },
  {
    "text": "you have them uh ensure minimum visibility from the outside right it's like a defensive approach that you take uh definitely",
    "start": "3336880",
    "end": "3343680"
  },
  {
    "text": "take application security consideration you could have the most hardened cluster but if your application is vulnerable the attacker has a direct door inside",
    "start": "3343680",
    "end": "3350400"
  },
  {
    "text": "your cluster right uh being battery of suspicious looking outbound traffic use hardening guidelines cis",
    "start": "3350400",
    "end": "3356480"
  },
  {
    "text": "benchmarks highly recommended for kubernetes and tools like bench that you mentioned earlier to identify potential use",
    "start": "3356480",
    "end": "3362160"
  },
  {
    "text": "configurations monitoring and um you know creating an actionable roadmap right like what a",
    "start": "3362160",
    "end": "3368799"
  },
  {
    "text": "cluster is doing who has what kind of access what privileges different components have and actioning any monitoring alerts that",
    "start": "3368799",
    "end": "3375040"
  },
  {
    "text": "you've got is a definite way to uh ensure your cluster remains hard and insecure at the end of the day",
    "start": "3375040",
    "end": "3381359"
  },
  {
    "text": "um i plan on writing a blog post with expanding on all the tips that i've",
    "start": "3381359",
    "end": "3386400"
  },
  {
    "text": "mentioned here with examples on how you",
    "start": "3386400",
    "end": "3390960"
  },
  {
    "text": "right yeah you know the technology you know has become mainstream when",
    "start": "3410240",
    "end": "3415440"
  },
  {
    "text": "gilbert starts talking about that right you know i'm sure this went over the head of many dilbert readers but",
    "start": "3415440",
    "end": "3422559"
  },
  {
    "text": "um you know for everybody on this call it's like oh man i'm right in the middle of it yeah but we love it",
    "start": "3422559",
    "end": "3430079"
  },
  {
    "text": "all right so let's go ahead and um a couple more questions that we can look at here uh you know we have just a few more",
    "start": "3430799",
    "end": "3436160"
  },
  {
    "text": "minutes but um you know again you know thank you for sharing uh sharing this we did have a number of",
    "start": "3436160",
    "end": "3442079"
  },
  {
    "text": "people say they thought this was great and can they get a copy of it um so there we will be sending that out",
    "start": "3442079",
    "end": "3449119"
  },
  {
    "text": "uh after um so people will be able to see that and just just to add sorry just to add",
    "start": "3449119",
    "end": "3456799"
  },
  {
    "text": "the xaml files that i described in the presentation i'll be uh tweeting uh you know like a",
    "start": "3456799",
    "end": "3462559"
  },
  {
    "text": "github repository where all the answers are hosted so you can try them out in your test clusters",
    "start": "3462559",
    "end": "3467920"
  },
  {
    "text": "at home right and our twitter is right here on the screen that's my",
    "start": "3467920",
    "end": "3473040"
  },
  {
    "text": "twitter handle and you can definitely reach me on my email address at cloud.com take a look at our blog as",
    "start": "3473040",
    "end": "3478319"
  },
  {
    "text": "well we have a lot of interesting uh blog posts that we've written and a full rundown of the miter uh thread framework as well",
    "start": "3478319",
    "end": "3485359"
  },
  {
    "text": "right so that's what everyone's so there was a question thanks for that",
    "start": "3485359",
    "end": "3491839"
  },
  {
    "text": "i think people have your email and then you can reach out um a couple of questions here one in a managed",
    "start": "3491839",
    "end": "3497440"
  },
  {
    "text": "kubernetes environment so um you know something like aks or eks",
    "start": "3497440",
    "end": "3503040"
  },
  {
    "text": "isn't the node managed by the cloud provider and in that case would the instance metadata endpoint um",
    "start": "3503040",
    "end": "3510640"
  },
  {
    "text": "you know end up giving up cloud managed node details",
    "start": "3510640",
    "end": "3516559"
  },
  {
    "text": "that that's a good one so um even though the cluster is managed by uh aks and aws the um",
    "start": "3516559",
    "end": "3525279"
  },
  {
    "text": "the master node is what you don't have access to right but the worker nodes definitely you can get a shell and that's the uh",
    "start": "3525359",
    "end": "3532240"
  },
  {
    "text": "screenshot i had earlier of let me try and figure out see what it is",
    "start": "3532240",
    "end": "3538559"
  },
  {
    "text": "yeah this is a shell that i've obtained on the worker node and this remains at a",
    "start": "3538559",
    "end": "3545040"
  },
  {
    "text": "managed cluster on a case right so the instance information is aligned is is off the worker node",
    "start": "3545040",
    "end": "3552160"
  },
  {
    "text": "of the managed customer and so the information definitely is part of the managed kubernetes environment but there",
    "start": "3552160",
    "end": "3558720"
  },
  {
    "text": "are there is definitely going to be some information that is going to become useful to the attacker based on how you've configured this",
    "start": "3558720",
    "end": "3564799"
  },
  {
    "text": "right all right we have one more question we're running out of time but uh uh what's the someone said they were",
    "start": "3564799",
    "end": "3571200"
  },
  {
    "text": "looking for your recommendations on the best option for secrets management on aks any any",
    "start": "3571200",
    "end": "3577040"
  },
  {
    "text": "suggestions i don't have any personal favorites uh",
    "start": "3577040",
    "end": "3582480"
  },
  {
    "text": "okay because i'm yeah i'm coming from the offensive background right so uh i've heard world is is a good uh use",
    "start": "3582480",
    "end": "3589680"
  },
  {
    "text": "case but uh i'm not sure all right yeah i think a lot of people are using vault uh",
    "start": "3589680",
    "end": "3595200"
  },
  {
    "text": "in that environment as well all right well let's go ahead and wrap up but thanks again you know great talk uh you",
    "start": "3595200",
    "end": "3600319"
  },
  {
    "text": "know i think it's just so uh you know it's so great to see the from the perspective of the attacker and",
    "start": "3600319",
    "end": "3607040"
  },
  {
    "text": "what it looks like and you know the really technical presentation in terms of how things really look and work",
    "start": "3607040",
    "end": "3612559"
  },
  {
    "text": "um so thanks again and for those of you you'll see a link in the in the go to meeting uh go to",
    "start": "3612559",
    "end": "3618880"
  },
  {
    "text": "webinar meeting um to next week's session and the uh the topic uh which will be",
    "start": "3618880",
    "end": "3626640"
  },
  {
    "text": "taking the work out of network policy um and this will be our last our tenth",
    "start": "3626640",
    "end": "3632559"
  },
  {
    "text": "of this series and uh you'll have that to to and you have the link to register as",
    "start": "3632559",
    "end": "3638240"
  },
  {
    "text": "well so uh you can stop by the aquasec.com website and just sign up as uh if that's easier",
    "start": "3638240",
    "end": "3645200"
  },
  {
    "text": "but thanks again riyaz and i appreciate you sharing your knowledge with with with our audience and everybody have a",
    "start": "3645200",
    "end": "3651920"
  },
  {
    "text": "great day uh and stay safe thank you so much",
    "start": "3651920",
    "end": "3657520"
  },
  {
    "text": "take care bye folks",
    "start": "3657520",
    "end": "3666319"
  }
]