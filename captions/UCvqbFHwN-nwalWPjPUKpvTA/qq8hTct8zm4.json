[
  {
    "start": "0",
    "end": "10000"
  },
  {
    "text": "hello everyone um my name is uh Vijay",
    "start": "40",
    "end": "2520"
  },
  {
    "text": "Samuel and uh I do architecture for uh",
    "start": "2520",
    "end": "5400"
  },
  {
    "text": "the reliability Engineering Group at uh",
    "start": "5400",
    "end": "7480"
  },
  {
    "text": "eBay hello everyone I'm sandep and I am",
    "start": "7480",
    "end": "11160"
  },
  {
    "text": "the lead engineer for the observ",
    "start": "11160",
    "end": "12719"
  },
  {
    "text": "platform at eBay uh we're here to uh",
    "start": "12719",
    "end": "16160"
  },
  {
    "text": "share our story about uh distributed",
    "start": "16160",
    "end": "18800"
  },
  {
    "text": "tracing and uh we have captioned it all",
    "start": "18800",
    "end": "21519"
  },
  {
    "text": "the warning signs were out there uh show",
    "start": "21519",
    "end": "24000"
  },
  {
    "text": "fans uh how many folks use distribut",
    "start": "24000",
    "end": "26039"
  },
  {
    "text": "racing in production",
    "start": "26039",
    "end": "27920"
  },
  {
    "text": "today uh how many about how many many",
    "start": "27920",
    "end": "30119"
  },
  {
    "text": "folks have heard about it and really",
    "start": "30119",
    "end": "32000"
  },
  {
    "text": "want to get started on the",
    "start": "32000",
    "end": "34360"
  },
  {
    "text": "journey okay uh quite a few are already",
    "start": "34360",
    "end": "37000"
  },
  {
    "text": "using it and few starting off that's",
    "start": "37000",
    "end": "39079"
  },
  {
    "text": "interesting uh so what is distributed",
    "start": "39079",
    "end": "42600"
  },
  {
    "start": "40000",
    "end": "94000"
  },
  {
    "text": "tracing um a tra a trace is something",
    "start": "42600",
    "end": "45600"
  },
  {
    "text": "that gives us the big picture of what",
    "start": "45600",
    "end": "47719"
  },
  {
    "text": "happens when a request is made to an",
    "start": "47719",
    "end": "49520"
  },
  {
    "text": "application whether your application is",
    "start": "49520",
    "end": "51480"
  },
  {
    "text": "a monolith with a single database or a",
    "start": "51480",
    "end": "53320"
  },
  {
    "text": "sophisticated Mees of services traces",
    "start": "53320",
    "end": "55280"
  },
  {
    "text": "are essential to understanding the full",
    "start": "55280",
    "end": "57640"
  },
  {
    "text": "path a request takes in your",
    "start": "57640",
    "end": "59320"
  },
  {
    "text": "applications this is the buy the book uh",
    "start": "59320",
    "end": "61760"
  },
  {
    "text": "definition for uh for a trace uh Trace",
    "start": "61760",
    "end": "66080"
  },
  {
    "text": "uh is very very useful in very",
    "start": "66080",
    "end": "68479"
  },
  {
    "text": "complicated environments uh and at eBay",
    "start": "68479",
    "end": "71640"
  },
  {
    "text": "um uh request to either view an item or",
    "start": "71640",
    "end": "74520"
  },
  {
    "text": "search uh for items uh check out like",
    "start": "74520",
    "end": "78000"
  },
  {
    "text": "all of these have uh a lot of",
    "start": "78000",
    "end": "80079"
  },
  {
    "text": "microservices and databases that uh",
    "start": "80079",
    "end": "82159"
  },
  {
    "text": "interact with each other before the user",
    "start": "82159",
    "end": "84840"
  },
  {
    "text": "intent is uh fulfilled and uh for such a",
    "start": "84840",
    "end": "88200"
  },
  {
    "text": "use case uh distribut tracing is is uh",
    "start": "88200",
    "end": "90560"
  },
  {
    "text": "very powerful when it comes to triaging",
    "start": "90560",
    "end": "93320"
  },
  {
    "text": "active",
    "start": "93320",
    "end": "94720"
  },
  {
    "text": "issues um our scale which is something",
    "start": "94720",
    "end": "97680"
  },
  {
    "text": "that I like to talk about a lot uh we",
    "start": "97680",
    "end": "100439"
  },
  {
    "text": "have 14 days worth of retention of",
    "start": "100439",
    "end": "102560"
  },
  {
    "text": "traces uh and uh we ingest roughly 6.5",
    "start": "102560",
    "end": "106600"
  },
  {
    "text": "million spans per second which",
    "start": "106600",
    "end": "107960"
  },
  {
    "text": "translates to 56 561 billion spans per",
    "start": "107960",
    "end": "110479"
  },
  {
    "text": "day um which we do with the 5,000 CPUs",
    "start": "110479",
    "end": "113719"
  },
  {
    "text": "and 250 uh terabytes of uh Solid State",
    "start": "113719",
    "end": "118680"
  },
  {
    "text": "uh drive storage uh this may not look",
    "start": "118680",
    "end": "121000"
  },
  {
    "text": "like a big number uh and that is uh",
    "start": "121000",
    "end": "124520"
  },
  {
    "text": "intentional uh if we compare it to our",
    "start": "124520",
    "end": "127759"
  },
  {
    "text": "uh logging volumes which we do up more",
    "start": "127759",
    "end": "130399"
  },
  {
    "text": "than 15 or 20 15 to 20 pedabytes of logs",
    "start": "130399",
    "end": "133640"
  },
  {
    "text": "per day uh tracing is something that we",
    "start": "133640",
    "end": "135360"
  },
  {
    "text": "have intentionally tried to keep the",
    "start": "135360",
    "end": "136879"
  },
  {
    "text": "scale to the to a minimum uh but at the",
    "start": "136879",
    "end": "139239"
  },
  {
    "text": "same time uh maximize the utility that",
    "start": "139239",
    "end": "142120"
  },
  {
    "text": "we are able to extract out of",
    "start": "142120",
    "end": "144720"
  },
  {
    "start": "144000",
    "end": "261000"
  },
  {
    "text": "it uh tracing in in our opinion is a",
    "start": "144720",
    "end": "148360"
  },
  {
    "text": "four-point problem uh and this is",
    "start": "148360",
    "end": "150599"
  },
  {
    "text": "something that everyone needs to solve",
    "start": "150599",
    "end": "152480"
  },
  {
    "text": "as they get into the Journey of",
    "start": "152480",
    "end": "154080"
  },
  {
    "text": "distributed tracing um the first one",
    "start": "154080",
    "end": "156360"
  },
  {
    "text": "being uh there needs to be end to end uh",
    "start": "156360",
    "end": "159120"
  },
  {
    "text": "instrumentation so by the definition",
    "start": "159120",
    "end": "161760"
  },
  {
    "text": "every single application needs to be",
    "start": "161760",
    "end": "163840"
  },
  {
    "text": "instrumented with the uh distribut",
    "start": "163840",
    "end": "166080"
  },
  {
    "text": "tracing so this involves getting every",
    "start": "166080",
    "end": "168959"
  },
  {
    "text": "developer to instrument uh ensure that",
    "start": "168959",
    "end": "172080"
  },
  {
    "text": "uh context propagation is being done",
    "start": "172080",
    "end": "173800"
  },
  {
    "text": "right so when the client invokes another",
    "start": "173800",
    "end": "176680"
  },
  {
    "text": "service the required headers need to be",
    "start": "176680",
    "end": "178760"
  },
  {
    "text": "propagated to ensure that everyone in",
    "start": "178760",
    "end": "181000"
  },
  {
    "text": "the call chain knows that they are part",
    "start": "181000",
    "end": "182400"
  },
  {
    "text": "of the same uh request chain uh and",
    "start": "182400",
    "end": "185680"
  },
  {
    "text": "ensure that the instrumentation is",
    "start": "185680",
    "end": "187280"
  },
  {
    "text": "judicious uh uh so we don't want to dump",
    "start": "187280",
    "end": "190640"
  },
  {
    "text": "too many things because the longer the",
    "start": "190640",
    "end": "192879"
  },
  {
    "text": "call chain gets the more time it's going",
    "start": "192879",
    "end": "194840"
  },
  {
    "text": "to take for someone to make uh uh make",
    "start": "194840",
    "end": "197440"
  },
  {
    "text": "sense out of",
    "start": "197440",
    "end": "198560"
  },
  {
    "text": "it uh the next one is okay we have",
    "start": "198560",
    "end": "201400"
  },
  {
    "text": "everything instrumented now we need a",
    "start": "201400",
    "end": "202879"
  },
  {
    "text": "platform so um there are there are few",
    "start": "202879",
    "end": "205599"
  },
  {
    "text": "ways in which you can go about it uh the",
    "start": "205599",
    "end": "207799"
  },
  {
    "text": "classic build or buy where you you can",
    "start": "207799",
    "end": "210480"
  },
  {
    "text": "either uh pick a vendor uh pick an open",
    "start": "210480",
    "end": "214040"
  },
  {
    "text": "source project or you can build your own",
    "start": "214040",
    "end": "216560"
  },
  {
    "text": "on top of a",
    "start": "216560",
    "end": "218280"
  },
  {
    "text": "database uh you optimize for cost um is",
    "start": "218280",
    "end": "222400"
  },
  {
    "text": "is retaining everything worth it um so",
    "start": "222400",
    "end": "224959"
  },
  {
    "text": "you either go uh for things like head",
    "start": "224959",
    "end": "228200"
  },
  {
    "text": "sampling tail sampling where you retain",
    "start": "228200",
    "end": "230120"
  },
  {
    "text": "only a sample and you retain only for a",
    "start": "230120",
    "end": "232280"
  },
  {
    "text": "finite number of days where you feel",
    "start": "232280",
    "end": "234280"
  },
  {
    "text": "that um uh it needs to be retained this",
    "start": "234280",
    "end": "237720"
  },
  {
    "text": "long for me to resolve say a P2 bug or a",
    "start": "237720",
    "end": "240200"
  },
  {
    "text": "P3 bug or or whatever uh and finally",
    "start": "240200",
    "end": "243239"
  },
  {
    "text": "what are the you use cases that you",
    "start": "243239",
    "end": "245560"
  },
  {
    "text": "intend to solve uh a product without",
    "start": "245560",
    "end": "248480"
  },
  {
    "text": "good use cases is uh meaningless so at",
    "start": "248480",
    "end": "251200"
  },
  {
    "text": "least uh in our case uh we are like okay",
    "start": "251200",
    "end": "253959"
  },
  {
    "text": "we'll use it for triaging uh automated",
    "start": "253959",
    "end": "256320"
  },
  {
    "text": "root cost analysis and performance",
    "start": "256320",
    "end": "258519"
  },
  {
    "text": "tuning um which we can talk about later",
    "start": "258519",
    "end": "260680"
  },
  {
    "text": "on so being the architect I thought I",
    "start": "260680",
    "end": "264240"
  },
  {
    "text": "was wise beyond my years I have",
    "start": "264240",
    "end": "266199"
  },
  {
    "text": "everything figured off figured out off",
    "start": "266199",
    "end": "268840"
  },
  {
    "text": "the bat and this is going to be super",
    "start": "268840",
    "end": "270720"
  },
  {
    "text": "straightforward limited time get it done",
    "start": "270720",
    "end": "273120"
  },
  {
    "text": "and then we have tracing so that's how",
    "start": "273120",
    "end": "274800"
  },
  {
    "text": "that's how we started and uh s will do",
    "start": "274800",
    "end": "279840"
  },
  {
    "start": "275000",
    "end": "304000"
  },
  {
    "text": "the next",
    "start": "279840",
    "end": "280759"
  },
  {
    "text": "section yeah let's uh look at the first",
    "start": "280759",
    "end": "283639"
  },
  {
    "text": "problem which we try to solve which is",
    "start": "283639",
    "end": "285120"
  },
  {
    "text": "the inin",
    "start": "285120",
    "end": "286360"
  },
  {
    "text": "instrumentation uh we decided to go with",
    "start": "286360",
    "end": "288720"
  },
  {
    "text": "uh you know uh open Telemetry that's",
    "start": "288720",
    "end": "290800"
  },
  {
    "text": "like the obvious choice because that's",
    "start": "290800",
    "end": "292039"
  },
  {
    "text": "the industry standard right now and uh",
    "start": "292039",
    "end": "294440"
  },
  {
    "text": "pretty much uh anybody is trying to",
    "start": "294440",
    "end": "296600"
  },
  {
    "text": "instrument today is going to instrument",
    "start": "296600",
    "end": "297919"
  },
  {
    "text": "in open Telemetry and so we knew that",
    "start": "297919",
    "end": "299880"
  },
  {
    "text": "you know we are going to get some free",
    "start": "299880",
    "end": "300960"
  },
  {
    "text": "instrumentation when we get started with",
    "start": "300960",
    "end": "303160"
  },
  {
    "text": "this uh and we wanted to optimize for",
    "start": "303160",
    "end": "306080"
  },
  {
    "start": "304000",
    "end": "332000"
  },
  {
    "text": "the mass adoption we wanted to Target up",
    "start": "306080",
    "end": "308039"
  },
  {
    "text": "you know we wanted to do less work but",
    "start": "308039",
    "end": "310039"
  },
  {
    "text": "get as much as possible 90% AG use case",
    "start": "310039",
    "end": "313320"
  },
  {
    "text": "is good enough you know we don't have to",
    "start": "313320",
    "end": "314400"
  },
  {
    "text": "Target the 100% AG use case that's what",
    "start": "314400",
    "end": "316039"
  },
  {
    "text": "we aim for uh make instrumentation",
    "start": "316039",
    "end": "319720"
  },
  {
    "text": "optional for the developers if we try to",
    "start": "319720",
    "end": "321360"
  },
  {
    "text": "work with every single developer and get",
    "start": "321360",
    "end": "323520"
  },
  {
    "text": "them to do the instrumentation that's",
    "start": "323520",
    "end": "325160"
  },
  {
    "text": "not going to happen so we want to ship",
    "start": "325160",
    "end": "327319"
  },
  {
    "text": "the free instrumentation as much as",
    "start": "327319",
    "end": "328800"
  },
  {
    "text": "possible now let's look at each of these",
    "start": "328800",
    "end": "331360"
  },
  {
    "text": "bullet points in details uh adopt open",
    "start": "331360",
    "end": "335080"
  },
  {
    "start": "332000",
    "end": "391000"
  },
  {
    "text": "Telemetry uh so open Telemetry is the",
    "start": "335080",
    "end": "337680"
  },
  {
    "text": "industry standard and pretty much for",
    "start": "337680",
    "end": "340160"
  },
  {
    "text": "any commonly used programming language",
    "start": "340160",
    "end": "341919"
  },
  {
    "text": "there is an there is a SDK available",
    "start": "341919",
    "end": "344479"
  },
  {
    "text": "from theet SD from the open Telemetry",
    "start": "344479",
    "end": "347080"
  },
  {
    "text": "the best part is it's it's actually",
    "start": "347080",
    "end": "349560"
  },
  {
    "text": "supported by the open Telemetry it's not",
    "start": "349560",
    "end": "351400"
  },
  {
    "text": "a community community supported uh and",
    "start": "351400",
    "end": "354919"
  },
  {
    "text": "uh you know there's a after a lot of EV",
    "start": "354919",
    "end": "357720"
  },
  {
    "text": "uh Evolution the semantic convention",
    "start": "357720",
    "end": "359800"
  },
  {
    "text": "have been standardized for the open",
    "start": "359800",
    "end": "361400"
  },
  {
    "text": "Telemetry and anybody instrumenting",
    "start": "361400",
    "end": "363680"
  },
  {
    "text": "using the open Telemetry you know",
    "start": "363680",
    "end": "364919"
  },
  {
    "text": "they're following going they're going to",
    "start": "364919",
    "end": "366120"
  },
  {
    "text": "be following the semantic",
    "start": "366120",
    "end": "367560"
  },
  {
    "text": "conventions uh open Terry also supports",
    "start": "367560",
    "end": "370000"
  },
  {
    "text": "a collector which has a PL plethora of",
    "start": "370000",
    "end": "372840"
  },
  {
    "text": "capabilities you know it's more like a",
    "start": "372840",
    "end": "374440"
  },
  {
    "text": "jigaw puzzle and you know you can you",
    "start": "374440",
    "end": "376440"
  },
  {
    "text": "can pick and choose whatever you",
    "start": "376440",
    "end": "377680"
  },
  {
    "text": "interested in it you know there are",
    "start": "377680",
    "end": "379680"
  },
  {
    "text": "literally hundreds of things we could do",
    "start": "379680",
    "end": "381639"
  },
  {
    "text": "with the",
    "start": "381639",
    "end": "383400"
  },
  {
    "text": "collector uh and by hopping on the open",
    "start": "383400",
    "end": "385960"
  },
  {
    "text": "tary bandwagon you know we could get",
    "start": "385960",
    "end": "388039"
  },
  {
    "text": "instrumentation capabilities and the",
    "start": "388039",
    "end": "390120"
  },
  {
    "text": "learnings for",
    "start": "390120",
    "end": "391960"
  },
  {
    "start": "391000",
    "end": "473000"
  },
  {
    "text": "free next uh optimize for the mass",
    "start": "391960",
    "end": "394880"
  },
  {
    "text": "adoption in eBay we have something",
    "start": "394880",
    "end": "396840"
  },
  {
    "text": "called manage framework uh especially",
    "start": "396840",
    "end": "398720"
  },
  {
    "text": "for the nodejs and the Java if you you",
    "start": "398720",
    "end": "400680"
  },
  {
    "text": "know any application built in pretty",
    "start": "400680",
    "end": "402360"
  },
  {
    "text": "much any application built in Java and",
    "start": "402360",
    "end": "404199"
  },
  {
    "text": "nodejs uses the the manage framework and",
    "start": "404199",
    "end": "407319"
  },
  {
    "text": "90% of what powers the eBay site is",
    "start": "407319",
    "end": "411080"
  },
  {
    "text": "built using this managed framework and",
    "start": "411080",
    "end": "413440"
  },
  {
    "text": "we decide to ship the instrumentation",
    "start": "413440",
    "end": "415199"
  },
  {
    "text": "through this managed framework and uh",
    "start": "415199",
    "end": "417759"
  },
  {
    "text": "this managed framework runs a program",
    "start": "417759",
    "end": "419639"
  },
  {
    "text": "called monthly sitewide upgrades so it's",
    "start": "419639",
    "end": "421639"
  },
  {
    "text": "mandatory every single application using",
    "start": "421639",
    "end": "423520"
  },
  {
    "text": "the manag framework have to upgrade to",
    "start": "423520",
    "end": "425120"
  },
  {
    "text": "the latest version of the framework",
    "start": "425120",
    "end": "426599"
  },
  {
    "text": "every month uh the best part of that is",
    "start": "426599",
    "end": "429199"
  },
  {
    "text": "you know if we have any new",
    "start": "429199",
    "end": "430319"
  },
  {
    "text": "instrumentation which we want to ship or",
    "start": "430319",
    "end": "432240"
  },
  {
    "text": "if we want to fix any of the existing",
    "start": "432240",
    "end": "433879"
  },
  {
    "text": "instrumentation within the next 30 days",
    "start": "433879",
    "end": "435840"
  },
  {
    "text": "it will will have a turnaround it will",
    "start": "435840",
    "end": "437280"
  },
  {
    "text": "be it will be shipped and all the",
    "start": "437280",
    "end": "438360"
  },
  {
    "text": "application will be live in production",
    "start": "438360",
    "end": "439840"
  },
  {
    "text": "having that",
    "start": "439840",
    "end": "441080"
  },
  {
    "text": "feature uh and yeah like and as I",
    "start": "441080",
    "end": "444039"
  },
  {
    "text": "mentioned you know we decided to ship",
    "start": "444039",
    "end": "445560"
  },
  {
    "text": "the standard instrumentation through uh",
    "start": "445560",
    "end": "447960"
  },
  {
    "text": "the manage framework",
    "start": "447960",
    "end": "450400"
  },
  {
    "text": "uh yeah so the for everything else I",
    "start": "450400",
    "end": "454039"
  },
  {
    "text": "mean this is this covers 90% of the use",
    "start": "454039",
    "end": "456160"
  },
  {
    "text": "case at eBay what about the rest 10",
    "start": "456160",
    "end": "457400"
  },
  {
    "text": "percentage for the rest of the 10% we",
    "start": "457400",
    "end": "459240"
  },
  {
    "text": "thought you know we can just go uh at",
    "start": "459240",
    "end": "461000"
  },
  {
    "text": "the infrastructure level example pretty",
    "start": "461000",
    "end": "463240"
  },
  {
    "text": "much all the network calls goes through",
    "start": "463240",
    "end": "464560"
  },
  {
    "text": "the service mesh uh if we enable the",
    "start": "464560",
    "end": "466680"
  },
  {
    "text": "tracing at the service MH we going to",
    "start": "466680",
    "end": "468440"
  },
  {
    "text": "get some instrumentation for free for",
    "start": "468440",
    "end": "470000"
  },
  {
    "text": "those 10% of 10 percentage of the",
    "start": "470000",
    "end": "474000"
  },
  {
    "start": "473000",
    "end": "528000"
  },
  {
    "text": "applications uh the next one make",
    "start": "474199",
    "end": "476400"
  },
  {
    "text": "instrumentation optional for the",
    "start": "476400",
    "end": "478000"
  },
  {
    "text": "developers if you have to chase a every",
    "start": "478000",
    "end": "479680"
  },
  {
    "text": "single developer or if you have to work",
    "start": "479680",
    "end": "480960"
  },
  {
    "text": "with every single developers within uh",
    "start": "480960",
    "end": "483319"
  },
  {
    "text": "the company within the eBay it's going",
    "start": "483319",
    "end": "485000"
  },
  {
    "text": "to take forever to get the",
    "start": "485000",
    "end": "486479"
  },
  {
    "text": "instrumentation so what we decided was",
    "start": "486479",
    "end": "488520"
  },
  {
    "text": "to uh you know the the manage framework",
    "start": "488520",
    "end": "491199"
  },
  {
    "text": "which I talked about you know for in the",
    "start": "491199",
    "end": "492639"
  },
  {
    "text": "manage framework we decided to ship the",
    "start": "492639",
    "end": "494879"
  },
  {
    "text": "instrumentation example even to make a",
    "start": "494879",
    "end": "496919"
  },
  {
    "text": "client call or if you're writing a",
    "start": "496919",
    "end": "498360"
  },
  {
    "text": "server API or if you have to make a",
    "start": "498360",
    "end": "499759"
  },
  {
    "text": "database call we basically automatically",
    "start": "499759",
    "end": "502120"
  },
  {
    "text": "instrument the spans will be",
    "start": "502120",
    "end": "503400"
  },
  {
    "text": "automatically created for you the",
    "start": "503400",
    "end": "504599"
  },
  {
    "text": "context propagation will automatically",
    "start": "504599",
    "end": "505960"
  },
  {
    "text": "happen for you and this uh this happens",
    "start": "505960",
    "end": "508599"
  },
  {
    "text": "even for the Android and iOS iOS",
    "start": "508599",
    "end": "510879"
  },
  {
    "text": "applications as well there's a managed",
    "start": "510879",
    "end": "512399"
  },
  {
    "text": "framework for both Android and",
    "start": "512399",
    "end": "514959"
  },
  {
    "text": "iOS and by not involving the developers",
    "start": "514959",
    "end": "517440"
  },
  {
    "text": "you know we can definitely move a whole",
    "start": "517440",
    "end": "518800"
  },
  {
    "text": "lot faster if not you know I can't",
    "start": "518800",
    "end": "520399"
  },
  {
    "text": "imagine you know going chasing all the",
    "start": "520399",
    "end": "522479"
  },
  {
    "text": "8,000 10,000 applications we have in",
    "start": "522479",
    "end": "524279"
  },
  {
    "text": "eBay and working with every single team",
    "start": "524279",
    "end": "525839"
  },
  {
    "text": "to get the instrumentation",
    "start": "525839",
    "end": "528959"
  },
  {
    "start": "528000",
    "end": "597000"
  },
  {
    "text": "done uh the next problem is to build the",
    "start": "528959",
    "end": "531680"
  },
  {
    "text": "platform now we figured out the",
    "start": "531680",
    "end": "533000"
  },
  {
    "text": "instrumentation we have to build a",
    "start": "533000",
    "end": "534320"
  },
  {
    "text": "platform uh the first thing is to uh",
    "start": "534320",
    "end": "536680"
  },
  {
    "text": "pick the fast storage technology for",
    "start": "536680",
    "end": "538360"
  },
  {
    "text": "that we went with the click",
    "start": "538360",
    "end": "541079"
  },
  {
    "text": "house uh and uh you know scaling out we",
    "start": "541079",
    "end": "544839"
  },
  {
    "text": "went uh we took a little bit different",
    "start": "544839",
    "end": "546480"
  },
  {
    "text": "approach we decided not to build a one",
    "start": "546480",
    "end": "548839"
  },
  {
    "text": "single Monster cluster instead we",
    "start": "548839",
    "end": "550920"
  },
  {
    "text": "decided to go with multiple clusters uh",
    "start": "550920",
    "end": "553320"
  },
  {
    "text": "of the click house uh within eBay we",
    "start": "553320",
    "end": "555200"
  },
  {
    "text": "have something called uh Ring The Ring",
    "start": "555200",
    "end": "558440"
  },
  {
    "text": "what what it does is it it does two",
    "start": "558440",
    "end": "560399"
  },
  {
    "text": "level of sharting the first level",
    "start": "560399",
    "end": "562000"
  },
  {
    "text": "decides which cluster to write the trace",
    "start": "562000",
    "end": "564000"
  },
  {
    "text": "to and the second level of sh second",
    "start": "564000",
    "end": "566800"
  },
  {
    "text": "level of sharting decides which shart to",
    "start": "566800",
    "end": "568440"
  },
  {
    "text": "write the data to basically",
    "start": "568440",
    "end": "571279"
  },
  {
    "text": "um and also this makes it makes our life",
    "start": "571279",
    "end": "572959"
  },
  {
    "text": "easier we don't have to maintain a one",
    "start": "572959",
    "end": "574240"
  },
  {
    "text": "single Monster cluster you know there",
    "start": "574240",
    "end": "575800"
  },
  {
    "text": "will be multiple it's easy to scale it",
    "start": "575800",
    "end": "577560"
  },
  {
    "text": "out basically we'll have multiple click",
    "start": "577560",
    "end": "579079"
  },
  {
    "text": "house clusters and the last one is to",
    "start": "579079",
    "end": "581079"
  },
  {
    "text": "implement an open standard uh AER is is",
    "start": "581079",
    "end": "583640"
  },
  {
    "text": "the widely used uh standard for anyone",
    "start": "583640",
    "end": "585959"
  },
  {
    "text": "who wants to consume the trace uh we",
    "start": "585959",
    "end": "588480"
  },
  {
    "text": "basically support the AAR apis we have",
    "start": "588480",
    "end": "590600"
  },
  {
    "text": "implemented the the prot prot spe of the",
    "start": "590600",
    "end": "593320"
  },
  {
    "text": "AAR API which the end users",
    "start": "593320",
    "end": "595959"
  },
  {
    "text": "use uh oh yeah so let's look at a",
    "start": "595959",
    "end": "600079"
  },
  {
    "start": "597000",
    "end": "677000"
  },
  {
    "text": "typical cluster at eBay uh so we have",
    "start": "600079",
    "end": "604200"
  },
  {
    "text": "the manage Java applications and manage",
    "start": "604200",
    "end": "606160"
  },
  {
    "text": "nodejs application they are built on the",
    "start": "606160",
    "end": "607560"
  },
  {
    "text": "manage framework which I just talked",
    "start": "607560",
    "end": "608720"
  },
  {
    "text": "about and we also have generic",
    "start": "608720",
    "end": "610399"
  },
  {
    "text": "applications generic applications like",
    "start": "610399",
    "end": "612160"
  },
  {
    "text": "example if you want to write a goang",
    "start": "612160",
    "end": "613360"
  },
  {
    "text": "application or python application we",
    "start": "613360",
    "end": "615160"
  },
  {
    "text": "call it as a generic application and we",
    "start": "615160",
    "end": "617880"
  },
  {
    "text": "also have the open telemetric collector",
    "start": "617880",
    "end": "619240"
  },
  {
    "text": "deployed in every single kuon disc",
    "start": "619240",
    "end": "620959"
  },
  {
    "text": "clusters and all these applications Shi",
    "start": "620959",
    "end": "623720"
  },
  {
    "text": "get shipped with the open Telemetry uh",
    "start": "623720",
    "end": "626560"
  },
  {
    "text": "SDK and uh you know what whatever traces",
    "start": "626560",
    "end": "630200"
  },
  {
    "text": "the emit gets return to the open",
    "start": "630200",
    "end": "632160"
  },
  {
    "text": "telemetric collector in the within the",
    "start": "632160",
    "end": "633720"
  },
  {
    "text": "cluster a well known endpoint is exposed",
    "start": "633720",
    "end": "635920"
  },
  {
    "text": "and all the traces will be return to the",
    "start": "635920",
    "end": "637920"
  },
  {
    "text": "spans and traces will get return to the",
    "start": "637920",
    "end": "639760"
  },
  {
    "text": "open Telemetry collector within the",
    "start": "639760",
    "end": "641040"
  },
  {
    "text": "cluster and from the open Telemetry",
    "start": "641040",
    "end": "643160"
  },
  {
    "text": "collector there's a Gateway the trace",
    "start": "643160",
    "end": "644839"
  },
  {
    "text": "Gateway where the traces gets written",
    "start": "644839",
    "end": "647000"
  },
  {
    "text": "and eventually it goes to the trace ST",
    "start": "647000",
    "end": "648399"
  },
  {
    "text": "which is Click house in our use case",
    "start": "648399",
    "end": "650440"
  },
  {
    "text": "similarly there is also metrics which is",
    "start": "650440",
    "end": "651839"
  },
  {
    "text": "written to open telemetric collector",
    "start": "651839",
    "end": "653079"
  },
  {
    "text": "which goes to the metric inest and",
    "start": "653079",
    "end": "654480"
  },
  {
    "text": "eventually to the metric store uh for",
    "start": "654480",
    "end": "656920"
  },
  {
    "text": "querying the data we have some shlock",
    "start": "656920",
    "end": "659519"
  },
  {
    "text": "console uh through which you know",
    "start": "659519",
    "end": "661519"
  },
  {
    "text": "there's also a query Endo the shellock",
    "start": "661519",
    "end": "663399"
  },
  {
    "text": "console talks to the query Trace query",
    "start": "663399",
    "end": "665600"
  },
  {
    "text": "and similarly talks to the metrix query",
    "start": "665600",
    "end": "667040"
  },
  {
    "text": "to query the metric data shocko is the",
    "start": "667040",
    "end": "669279"
  },
  {
    "text": "brand name of the internal observability",
    "start": "669279",
    "end": "671440"
  },
  {
    "text": "platform what we have at eBay I'll hand",
    "start": "671440",
    "end": "673800"
  },
  {
    "text": "out to eBay uh to sorry to talk",
    "start": "673800",
    "end": "677600"
  },
  {
    "start": "677000",
    "end": "746000"
  },
  {
    "text": "about well he represents",
    "start": "677600",
    "end": "680040"
  },
  {
    "text": "eBay so the next part is uh optimizing",
    "start": "680040",
    "end": "682959"
  },
  {
    "text": "for cost like I mentioned like uh we do",
    "start": "682959",
    "end": "685040"
  },
  {
    "text": "have a multi petabyte logging system uh",
    "start": "685040",
    "end": "687000"
  },
  {
    "text": "which has a fair bit of cost and we're",
    "start": "687000",
    "end": "688760"
  },
  {
    "text": "tracing and with the logging system we",
    "start": "688760",
    "end": "690519"
  },
  {
    "text": "learned that we don't need all the logs",
    "start": "690519",
    "end": "692760"
  },
  {
    "text": "to be present so with Trace uh even when",
    "start": "692760",
    "end": "695839"
  },
  {
    "text": "we ramped this instrumentation we did a",
    "start": "695839",
    "end": "699279"
  },
  {
    "text": "ramp in such a way that we started at 0",
    "start": "699279",
    "end": "701839"
  },
  {
    "text": "1% uh and then. 1% 1% and then we kept",
    "start": "701839",
    "end": "705680"
  },
  {
    "text": "going higher to the point where we saw",
    "start": "705680",
    "end": "707880"
  },
  {
    "text": "okay Beyond this point it's going to be",
    "start": "707880",
    "end": "709680"
  },
  {
    "text": "more redundant than than useful uh so",
    "start": "709680",
    "end": "713360"
  },
  {
    "text": "optimizing for cost was a big deal for",
    "start": "713360",
    "end": "715079"
  },
  {
    "text": "us when we started off and uh the the",
    "start": "715079",
    "end": "718320"
  },
  {
    "text": "foundational belief for course that it's",
    "start": "718320",
    "end": "719760"
  },
  {
    "text": "okay to send less uh even after sending",
    "start": "719760",
    "end": "723480"
  },
  {
    "text": "less are there opportunities to",
    "start": "723480",
    "end": "725560"
  },
  {
    "text": "eliminate redundancies further uh and",
    "start": "725560",
    "end": "728839"
  },
  {
    "text": "then how can we scale with the traffic",
    "start": "728839",
    "end": "730360"
  },
  {
    "text": "so similar to logs uh and unlike metrics",
    "start": "730360",
    "end": "733760"
  },
  {
    "text": "uh tracing is very seasonal so depending",
    "start": "733760",
    "end": "735959"
  },
  {
    "text": "on how much more people are shopping on",
    "start": "735959",
    "end": "737639"
  },
  {
    "text": "eBay uh on various times of the day or",
    "start": "737639",
    "end": "740680"
  },
  {
    "text": "days of the week uh or holiday periods",
    "start": "740680",
    "end": "743440"
  },
  {
    "text": "or whatnot we should be able to scale",
    "start": "743440",
    "end": "745399"
  },
  {
    "text": "with the",
    "start": "745399",
    "end": "746440"
  },
  {
    "start": "746000",
    "end": "792000"
  },
  {
    "text": "traffic uh so",
    "start": "746440",
    "end": "750199"
  },
  {
    "text": "with regards to sending less we decided",
    "start": "750199",
    "end": "752440"
  },
  {
    "text": "to do head sampling at the client uh so",
    "start": "752440",
    "end": "755680"
  },
  {
    "text": "we typically only do 2% of all requests",
    "start": "755680",
    "end": "758079"
  },
  {
    "text": "and we do parent based uh sampling uh",
    "start": "758079",
    "end": "760519"
  },
  {
    "text": "this greatly reduces the overhead on the",
    "start": "760519",
    "end": "762760"
  },
  {
    "text": "application as well because uh more uh",
    "start": "762760",
    "end": "766120"
  },
  {
    "text": "higher sampling on the client means that",
    "start": "766120",
    "end": "768160"
  },
  {
    "text": "there is more overhead on the",
    "start": "768160",
    "end": "769680"
  },
  {
    "text": "application itself um and uh eBay in",
    "start": "769680",
    "end": "774040"
  },
  {
    "text": "itself has a lot of uh transactions that",
    "start": "774040",
    "end": "776760"
  },
  {
    "text": "are going on at any given time",
    "start": "776760",
    "end": "778600"
  },
  {
    "text": "regardless of purchase or just shopping",
    "start": "778600",
    "end": "780600"
  },
  {
    "text": "around uh so the high traffic of the",
    "start": "780600",
    "end": "783279"
  },
  {
    "text": "applications negates the need for higher",
    "start": "783279",
    "end": "785639"
  },
  {
    "text": "sampling percentage because uh lower",
    "start": "785639",
    "end": "787720"
  },
  {
    "text": "percent you should see every kind of",
    "start": "787720",
    "end": "789240"
  },
  {
    "text": "requests that are coming in um oops Yeah",
    "start": "789240",
    "end": "793560"
  },
  {
    "start": "792000",
    "end": "850000"
  },
  {
    "text": "so uh with regards to eliminating",
    "start": "793560",
    "end": "795519"
  },
  {
    "text": "redundancy further U um uh as I",
    "start": "795519",
    "end": "798639"
  },
  {
    "text": "mentioned like not every spans are",
    "start": "798639",
    "end": "800079"
  },
  {
    "text": "useful uh so you have certain spans that",
    "start": "800079",
    "end": "802880"
  },
  {
    "text": "might have very high latency that maybe",
    "start": "802880",
    "end": "805480"
  },
  {
    "text": "violates an SLO uh or you have spans",
    "start": "805480",
    "end": "808279"
  },
  {
    "text": "that have errors against against them",
    "start": "808279",
    "end": "810160"
  },
  {
    "text": "spans that uh have particular attributes",
    "start": "810160",
    "end": "812639"
  },
  {
    "text": "for example spans that are tagged",
    "start": "812639",
    "end": "814320"
  },
  {
    "text": "against a very particular feature flag",
    "start": "814320",
    "end": "815760"
  },
  {
    "text": "that you might be interested in um so we",
    "start": "815760",
    "end": "818760"
  },
  {
    "text": "sample we Tred to sample all of that",
    "start": "818760",
    "end": "821199"
  },
  {
    "text": "along with the uh maybe retaining 1% of",
    "start": "821199",
    "end": "825480"
  },
  {
    "text": "everything that was",
    "start": "825480",
    "end": "827079"
  },
  {
    "text": "successful um so with that we basically",
    "start": "827079",
    "end": "830399"
  },
  {
    "text": "do a tail sample where after 2 hours uh",
    "start": "830399",
    "end": "834360"
  },
  {
    "text": "users are only uh able to view the",
    "start": "834360",
    "end": "837639"
  },
  {
    "text": "subset that we extracted out and only",
    "start": "837639",
    "end": "840639"
  },
  {
    "text": "those we retained for uh 14 days and uh",
    "start": "840639",
    "end": "844480"
  },
  {
    "text": "the initial approach that uh we used was",
    "start": "844480",
    "end": "847000"
  },
  {
    "text": "just to use the open tetric collector",
    "start": "847000",
    "end": "848759"
  },
  {
    "text": "tail sampling",
    "start": "848759",
    "end": "850000"
  },
  {
    "start": "850000",
    "end": "860000"
  },
  {
    "text": "processor um for auto scale we use uh",
    "start": "850000",
    "end": "853360"
  },
  {
    "text": "kada uh as we see more traffic kada",
    "start": "853360",
    "end": "856920"
  },
  {
    "text": "scales it out um and we're good to go",
    "start": "856920",
    "end": "860480"
  },
  {
    "start": "860000",
    "end": "883000"
  },
  {
    "text": "and with regards to usage like this was",
    "start": "860480",
    "end": "863560"
  },
  {
    "text": "the first time that anyone was able to",
    "start": "863560",
    "end": "866120"
  },
  {
    "text": "see all um all the applications in a in",
    "start": "866120",
    "end": "870480"
  },
  {
    "text": "a single call chain so we were like a",
    "start": "870480",
    "end": "872759"
  },
  {
    "text": "waterfall depicting every single hop",
    "start": "872759",
    "end": "875000"
  },
  {
    "text": "that the request went through like",
    "start": "875000",
    "end": "876839"
  },
  {
    "text": "there's nothing more than uh this that",
    "start": "876839",
    "end": "879199"
  },
  {
    "text": "people should need so you just take it",
    "start": "879199",
    "end": "880920"
  },
  {
    "text": "or leave",
    "start": "880920",
    "end": "881839"
  },
  {
    "text": "it and then we lived happily ever after",
    "start": "881839",
    "end": "884839"
  },
  {
    "start": "883000",
    "end": "897000"
  },
  {
    "text": "like uh and and the story hends here uh",
    "start": "884839",
    "end": "887720"
  },
  {
    "text": "I wish I could say that but we we built",
    "start": "887720",
    "end": "890680"
  },
  {
    "text": "all these things and practically no one",
    "start": "890680",
    "end": "892639"
  },
  {
    "text": "was using it",
    "start": "892639",
    "end": "894920"
  },
  {
    "text": "um",
    "start": "894920",
    "end": "896720"
  },
  {
    "text": "and why was this so what everyone faced",
    "start": "896720",
    "end": "901480"
  },
  {
    "start": "897000",
    "end": "1012000"
  },
  {
    "text": "we faced too so we were no different",
    "start": "901480",
    "end": "903160"
  },
  {
    "text": "like we we tried to be ahead of the game",
    "start": "903160",
    "end": "906040"
  },
  {
    "text": "but um problems like context propagation",
    "start": "906040",
    "end": "909639"
  },
  {
    "text": "so regardless of there being a managed",
    "start": "909639",
    "end": "911320"
  },
  {
    "text": "framework what ended up happening is",
    "start": "911320",
    "end": "913120"
  },
  {
    "text": "that uh people did not use the framework",
    "start": "913120",
    "end": "916240"
  },
  {
    "text": "for certain things like oh I want a",
    "start": "916240",
    "end": "917720"
  },
  {
    "text": "specialized HTTP client they used that",
    "start": "917720",
    "end": "920120"
  },
  {
    "text": "and they did not propagate context so",
    "start": "920120",
    "end": "922399"
  },
  {
    "text": "the call chain breaks um there are",
    "start": "922399",
    "end": "925560"
  },
  {
    "text": "applications that have a mix of high",
    "start": "925560",
    "end": "927519"
  },
  {
    "text": "traffic apis and low traffic AP AP and",
    "start": "927519",
    "end": "929759"
  },
  {
    "text": "when you do to 2% across all of them",
    "start": "929759",
    "end": "932160"
  },
  {
    "text": "it's going to mask the the low traffic",
    "start": "932160",
    "end": "934880"
  },
  {
    "text": "apis to the point where there are no",
    "start": "934880",
    "end": "936160"
  },
  {
    "text": "traces at all for those for those apis",
    "start": "936160",
    "end": "939040"
  },
  {
    "text": "The Collector is hard The Collector is",
    "start": "939040",
    "end": "941920"
  },
  {
    "text": "uh uh the Lego analogy plays in where",
    "start": "941920",
    "end": "945240"
  },
  {
    "text": "it's like you can either build something",
    "start": "945240",
    "end": "946920"
  },
  {
    "text": "really good or really really ugly that",
    "start": "946920",
    "end": "948959"
  },
  {
    "text": "costs a lot and tail sampling uh tail",
    "start": "948959",
    "end": "953279"
  },
  {
    "text": "sampling um in memory like how the",
    "start": "953279",
    "end": "956199"
  },
  {
    "text": "collector does today without globally",
    "start": "956199",
    "end": "957880"
  },
  {
    "text": "routing everything to a single collector",
    "start": "957880",
    "end": "960000"
  },
  {
    "text": "is is near impossible and it's very hard",
    "start": "960000",
    "end": "962279"
  },
  {
    "text": "to determine if it's going to take 5",
    "start": "962279",
    "end": "964199"
  },
  {
    "text": "minutes for a trace to end or 5 seconds",
    "start": "964199",
    "end": "966160"
  },
  {
    "text": "for it to end you cannot keep storing",
    "start": "966160",
    "end": "967680"
  },
  {
    "text": "everything in memory it's going to cost",
    "start": "967680",
    "end": "968920"
  },
  {
    "text": "too much um and it it it it went against",
    "start": "968920",
    "end": "973560"
  },
  {
    "text": "some of the design philosophies that we",
    "start": "973560",
    "end": "975319"
  },
  {
    "text": "had and uh this is the this is the one",
    "start": "975319",
    "end": "978160"
  },
  {
    "text": "that's really hard like for whatever",
    "start": "978160",
    "end": "980639"
  },
  {
    "text": "reason there was a small glitch and you",
    "start": "980639",
    "end": "982959"
  },
  {
    "text": "lost a single span out of out of uh 200",
    "start": "982959",
    "end": "986480"
  },
  {
    "text": "300 spans it's there's a good chance",
    "start": "986480",
    "end": "988720"
  },
  {
    "text": "that you're going to run into a wild",
    "start": "988720",
    "end": "990199"
  },
  {
    "text": "goose chase that actually was just",
    "start": "990199",
    "end": "992560"
  },
  {
    "text": "losing the span and uh this is the one",
    "start": "992560",
    "end": "995920"
  },
  {
    "text": "that kills me the most like we are at",
    "start": "995920",
    "end": "997839"
  },
  {
    "text": "the mercy of developers and uh",
    "start": "997839",
    "end": "1001240"
  },
  {
    "text": "sres um and them not using it for",
    "start": "1001240",
    "end": "1005279"
  },
  {
    "text": "whatever reason bugs or is it something",
    "start": "1005279",
    "end": "1007160"
  },
  {
    "text": "new uh if they're not using it then then",
    "start": "1007160",
    "end": "1010440"
  },
  {
    "text": "uh is difficult to get",
    "start": "1010440",
    "end": "1012040"
  },
  {
    "text": "adoption so we went back to the drawing",
    "start": "1012040",
    "end": "1014399"
  },
  {
    "text": "board and uh we realized that some",
    "start": "1014399",
    "end": "1016079"
  },
  {
    "text": "problems are unavoidable so we had to",
    "start": "1016079",
    "end": "1017800"
  },
  {
    "text": "work with developers like",
    "start": "1017800",
    "end": "1019680"
  },
  {
    "text": "uh so we started going to each and every",
    "start": "1019680",
    "end": "1022680"
  },
  {
    "text": "application find found out like what are",
    "start": "1022680",
    "end": "1024600"
  },
  {
    "text": "the breakages that were there uh in the",
    "start": "1024600",
    "end": "1027319"
  },
  {
    "text": "uh in the in the way that they're",
    "start": "1027319",
    "end": "1028760"
  },
  {
    "text": "instrumenting and we came up with some",
    "start": "1028760",
    "end": "1030480"
  },
  {
    "text": "Nifty utilities that allows them to wrap",
    "start": "1030480",
    "end": "1033038"
  },
  {
    "text": "their thread pools with uh something",
    "start": "1033039",
    "end": "1035280"
  },
  {
    "text": "that can PA prop propagate context and",
    "start": "1035280",
    "end": "1037918"
  },
  {
    "text": "whatnot uh and then we started doing",
    "start": "1037919",
    "end": "1040120"
  },
  {
    "text": "some learning sessions through sres",
    "start": "1040120",
    "end": "1042000"
  },
  {
    "text": "where they convey the importance of",
    "start": "1042000",
    "end": "1044199"
  },
  {
    "text": "traces convey the importance of using",
    "start": "1044199",
    "end": "1045918"
  },
  {
    "text": "the right libraries for context",
    "start": "1045919",
    "end": "1047240"
  },
  {
    "text": "propagation and whatnot and over time we",
    "start": "1047240",
    "end": "1049840"
  },
  {
    "text": "have started fixing the instrumentation",
    "start": "1049840",
    "end": "1052520"
  },
  {
    "text": "gaps that are there uh we did a huge",
    "start": "1052520",
    "end": "1055640"
  },
  {
    "start": "1053000",
    "end": "1084000"
  },
  {
    "text": "round of Performance Tuning uh which we",
    "start": "1055640",
    "end": "1057559"
  },
  {
    "text": "talked about in cucon uh Paris where we",
    "start": "1057559",
    "end": "1062280"
  },
  {
    "text": "we sliced and diced every portion of the",
    "start": "1062280",
    "end": "1063960"
  },
  {
    "text": "open tary collector looked at how well",
    "start": "1063960",
    "end": "1066160"
  },
  {
    "text": "it performs and came up with the correct",
    "start": "1066160",
    "end": "1069600"
  },
  {
    "text": "uh piecing of the Legos um and this is",
    "start": "1069600",
    "end": "1073039"
  },
  {
    "text": "an ongoing effort sometimes we have to",
    "start": "1073039",
    "end": "1074520"
  },
  {
    "text": "do it again depending on how the",
    "start": "1074520",
    "end": "1075880"
  },
  {
    "text": "collector evolves but this is something",
    "start": "1075880",
    "end": "1077799"
  },
  {
    "text": "that we need to keeping doing so um",
    "start": "1077799",
    "end": "1080480"
  },
  {
    "text": "rinse and repeat until there are zero",
    "start": "1080480",
    "end": "1082600"
  },
  {
    "text": "drops on the trace",
    "start": "1082600",
    "end": "1084320"
  },
  {
    "start": "1084000",
    "end": "1095000"
  },
  {
    "text": "Pipeline and then for things that were",
    "start": "1084320",
    "end": "1088200"
  },
  {
    "text": "not solvable for through either the SD",
    "start": "1088200",
    "end": "1090880"
  },
  {
    "text": "case or the The Collector we created A",
    "start": "1090880",
    "end": "1095000"
  },
  {
    "start": "1095000",
    "end": "1144000"
  },
  {
    "text": "New Path where uh with regards to the",
    "start": "1095000",
    "end": "1098120"
  },
  {
    "text": "architecture itself uh we Tred to keep",
    "start": "1098120",
    "end": "1100159"
  },
  {
    "text": "things simple uh I'm a big believer that",
    "start": "1100159",
    "end": "1102080"
  },
  {
    "text": "if you're trying to complicate things",
    "start": "1102080",
    "end": "1103919"
  },
  {
    "text": "then you're not doing it the right way",
    "start": "1103919",
    "end": "1105919"
  },
  {
    "text": "um so what we ended up doing is uh we",
    "start": "1105919",
    "end": "1107880"
  },
  {
    "text": "have a per install per cluster",
    "start": "1107880",
    "end": "1109400"
  },
  {
    "text": "installation of open telemetric",
    "start": "1109400",
    "end": "1110640"
  },
  {
    "text": "collectors where you generate red",
    "start": "1110640",
    "end": "1112720"
  },
  {
    "text": "metrics uh within the cluster itself and",
    "start": "1112720",
    "end": "1115799"
  },
  {
    "text": "we ride directly to storage through our",
    "start": "1115799",
    "end": "1117799"
  },
  {
    "text": "Gateway no no no message bus nothing",
    "start": "1117799",
    "end": "1121000"
  },
  {
    "text": "where we try to pick one Shard per Trace",
    "start": "1121000",
    "end": "1124840"
  },
  {
    "text": "ID and write all the trace IDs into the",
    "start": "1124840",
    "end": "1126720"
  },
  {
    "text": "single uh single shot and we basically",
    "start": "1126720",
    "end": "1129559"
  },
  {
    "text": "convinced everyone around saying that",
    "start": "1129559",
    "end": "1131080"
  },
  {
    "text": "okay 100% sampling never going to happen",
    "start": "1131080",
    "end": "1134440"
  },
  {
    "text": "it's it's uh cost prohibitive people are",
    "start": "1134440",
    "end": "1137240"
  },
  {
    "text": "not going to use it um and the lower the",
    "start": "1137240",
    "end": "1140159"
  },
  {
    "text": "sampling the lower the complexity",
    "start": "1140159",
    "end": "1141679"
  },
  {
    "text": "requirements which means that you're not",
    "start": "1141679",
    "end": "1142960"
  },
  {
    "text": "going to complicate the",
    "start": "1142960",
    "end": "1144320"
  },
  {
    "text": "architecture um for adaptive Trac for",
    "start": "1144320",
    "end": "1147840"
  },
  {
    "text": "for uh for low traffic apis uh we are",
    "start": "1147840",
    "end": "1150600"
  },
  {
    "text": "actively working on moving to um uh the",
    "start": "1150600",
    "end": "1153679"
  },
  {
    "text": "Jager remote sampling where through our",
    "start": "1153679",
    "end": "1156120"
  },
  {
    "text": "metrics on uh how the apis are being",
    "start": "1156120",
    "end": "1158440"
  },
  {
    "text": "consumed on a daily basis any API that",
    "start": "1158440",
    "end": "1161000"
  },
  {
    "text": "has less than say 15,000 calls per day",
    "start": "1161000",
    "end": "1163480"
  },
  {
    "text": "we we treat it as a low traffic API and",
    "start": "1163480",
    "end": "1166520"
  },
  {
    "text": "we push uh a Jagger sampling policy",
    "start": "1166520",
    "end": "1169880"
  },
  {
    "text": "where we say that this service name and",
    "start": "1169880",
    "end": "1171880"
  },
  {
    "text": "this operation name needs to get 100%",
    "start": "1171880",
    "end": "1174600"
  },
  {
    "text": "sampling so that way um regardless of uh",
    "start": "1174600",
    "end": "1177720"
  },
  {
    "text": "the the global sampling being 2% all the",
    "start": "1177720",
    "end": "1180440"
  },
  {
    "text": "low traffic apis with negligible cost",
    "start": "1180440",
    "end": "1182960"
  },
  {
    "text": "increase you get uh full visibility into",
    "start": "1182960",
    "end": "1185600"
  },
  {
    "text": "uh what is happening and if we are being",
    "start": "1185600",
    "end": "1187760"
  },
  {
    "text": "adaptive about it we can also do things",
    "start": "1187760",
    "end": "1189480"
  },
  {
    "text": "like okay when a roll out is happening",
    "start": "1189480",
    "end": "1191159"
  },
  {
    "text": "increase the sampling for the given pool",
    "start": "1191159",
    "end": "1192919"
  },
  {
    "text": "or application uh so that you have",
    "start": "1192919",
    "end": "1195400"
  },
  {
    "text": "better",
    "start": "1195400",
    "end": "1196480"
  },
  {
    "start": "1196000",
    "end": "1228000"
  },
  {
    "text": "visibility um this is a very important",
    "start": "1196480",
    "end": "1199240"
  },
  {
    "text": "one like uh true tail sampling happens",
    "start": "1199240",
    "end": "1200880"
  },
  {
    "text": "in storage U we completely dish the tail",
    "start": "1200880",
    "end": "1203559"
  },
  {
    "text": "sampler on open Telemetry collector and",
    "start": "1203559",
    "end": "1206159"
  },
  {
    "text": "we rely on exemplars to tell us what is",
    "start": "1206159",
    "end": "1209200"
  },
  {
    "text": "the um what is what is worth sampling",
    "start": "1209200",
    "end": "1212000"
  },
  {
    "text": "and what is what is not uh and to avoid",
    "start": "1212000",
    "end": "1216039"
  },
  {
    "text": "uh sampling too aggressively we kick off",
    "start": "1216039",
    "end": "1218039"
  },
  {
    "text": "sampling only after 10 or 15 minutes so",
    "start": "1218039",
    "end": "1220280"
  },
  {
    "text": "that any long longtail uh traces are",
    "start": "1220280",
    "end": "1223559"
  },
  {
    "text": "able to complete before we do the um do",
    "start": "1223559",
    "end": "1226679"
  },
  {
    "text": "the tail sampling so the way that this",
    "start": "1226679",
    "end": "1229679"
  },
  {
    "start": "1228000",
    "end": "1331000"
  },
  {
    "text": "looks um jassi and I have been trying",
    "start": "1229679",
    "end": "1232360"
  },
  {
    "text": "hard to come up with a good name",
    "start": "1232360",
    "end": "1233760"
  },
  {
    "text": "unsuccessful but like hopefully he has a",
    "start": "1233760",
    "end": "1236080"
  },
  {
    "text": "name for it",
    "start": "1236080",
    "end": "1237240"
  },
  {
    "text": "soon",
    "start": "1237240",
    "end": "1239039"
  },
  {
    "text": "VJ yeah he he's saying VJ sampling uh",
    "start": "1239039",
    "end": "1243039"
  },
  {
    "text": "but yeah so uh what what we are what we",
    "start": "1243039",
    "end": "1245760"
  },
  {
    "text": "are doing is that uh open Telemetry",
    "start": "1245760",
    "end": "1247760"
  },
  {
    "text": "collectors write to our inest it writes",
    "start": "1247760",
    "end": "1250240"
  },
  {
    "text": "to a rot race table uh same way the",
    "start": "1250240",
    "end": "1252880"
  },
  {
    "text": "metrics collectors write to our metric",
    "start": "1252880",
    "end": "1254919"
  },
  {
    "text": "ingest our aggregators and then to",
    "start": "1254919",
    "end": "1256440"
  },
  {
    "text": "metric store but we have a so and and",
    "start": "1256440",
    "end": "1259120"
  },
  {
    "text": "the other thing is that there's the span",
    "start": "1259120",
    "end": "1260440"
  },
  {
    "text": "metric connector which writes the red uh",
    "start": "1260440",
    "end": "1262679"
  },
  {
    "text": "span metrics for every span into our",
    "start": "1262679",
    "end": "1264799"
  },
  {
    "text": "metrix pipeline so the metrix pipeline",
    "start": "1264799",
    "end": "1267320"
  },
  {
    "text": "what it's going to do is it's going to",
    "start": "1267320",
    "end": "1268960"
  },
  {
    "text": "take all the exemplars and write it to",
    "start": "1268960",
    "end": "1271880"
  },
  {
    "text": "what we call a tail sampler inest and",
    "start": "1271880",
    "end": "1273960"
  },
  {
    "text": "these examplars are persisted on click",
    "start": "1273960",
    "end": "1276559"
  },
  {
    "text": "house in a table called sample Trace ID",
    "start": "1276559",
    "end": "1278600"
  },
  {
    "text": "table and then uh we have a tail sampler",
    "start": "1278600",
    "end": "1281679"
  },
  {
    "text": "job that will just look at all the uh",
    "start": "1281679",
    "end": "1284080"
  },
  {
    "text": "Trace IDs and then do a select star and",
    "start": "1284080",
    "end": "1287240"
  },
  {
    "text": "then copy from the r Trace table to the",
    "start": "1287240",
    "end": "1289559"
  },
  {
    "text": "sample Trace table whenever the trace ID",
    "start": "1289559",
    "end": "1291880"
  },
  {
    "text": "is being reported into the sample table",
    "start": "1291880",
    "end": "1293799"
  },
  {
    "text": "so this is very powerful in the sense",
    "start": "1293799",
    "end": "1295320"
  },
  {
    "text": "that every um application has a",
    "start": "1295320",
    "end": "1298080"
  },
  {
    "text": "Prometheus endpoint it has uh histograms",
    "start": "1298080",
    "end": "1300720"
  },
  {
    "text": "that are being um instrumented and you",
    "start": "1300720",
    "end": "1303240"
  },
  {
    "text": "are conveying uh exemplars for every",
    "start": "1303240",
    "end": "1306720"
  },
  {
    "text": "histogram bucket that's there for every",
    "start": "1306720",
    "end": "1308960"
  },
  {
    "text": "host for every application for every",
    "start": "1308960",
    "end": "1311400"
  },
  {
    "text": "error scenario that's there and we are",
    "start": "1311400",
    "end": "1313679"
  },
  {
    "text": "harvesting all those Trace IDs and then",
    "start": "1313679",
    "end": "1315440"
  },
  {
    "text": "we are basically using them to do our",
    "start": "1315440",
    "end": "1316960"
  },
  {
    "text": "sampling Deion and this greatly improves",
    "start": "1316960",
    "end": "1320320"
  },
  {
    "text": "our ability to have a representative",
    "start": "1320320",
    "end": "1322000"
  },
  {
    "text": "sample of the entire kind of uh latency",
    "start": "1322000",
    "end": "1325919"
  },
  {
    "text": "profiles that are being seen without",
    "start": "1325919",
    "end": "1328559"
  },
  {
    "text": "having to incur the",
    "start": "1328559",
    "end": "1330679"
  },
  {
    "text": "cost and finally one major pivot that we",
    "start": "1330679",
    "end": "1333840"
  },
  {
    "start": "1331000",
    "end": "1375000"
  },
  {
    "text": "have been doing is that we know that",
    "start": "1333840",
    "end": "1336159"
  },
  {
    "text": "tracing has always been meant for",
    "start": "1336159",
    "end": "1338440"
  },
  {
    "text": "machines so whether it be automated",
    "start": "1338440",
    "end": "1341000"
  },
  {
    "text": "trage you can generate a critical path",
    "start": "1341000",
    "end": "1344200"
  },
  {
    "text": "uh there is a famous paper from Uber",
    "start": "1344200",
    "end": "1346799"
  },
  {
    "text": "that describes how to construct a",
    "start": "1346799",
    "end": "1348520"
  },
  {
    "text": "critical path um use that and evaluate",
    "start": "1348520",
    "end": "1351360"
  },
  {
    "text": "the health of every application in the",
    "start": "1351360",
    "end": "1352799"
  },
  {
    "text": "critical path you can do Impact scope",
    "start": "1352799",
    "end": "1355039"
  },
  {
    "text": "analysis okay an application is failing",
    "start": "1355039",
    "end": "1357279"
  },
  {
    "text": "find out what are the other applications",
    "start": "1357279",
    "end": "1359080"
  },
  {
    "text": "that are involved the same call chain is",
    "start": "1359080",
    "end": "1361520"
  },
  {
    "text": "used there and if there is an SLO",
    "start": "1361520",
    "end": "1363919"
  },
  {
    "text": "violation especially for latency based",
    "start": "1363919",
    "end": "1366120"
  },
  {
    "text": "SLO violations uh call chains are very",
    "start": "1366120",
    "end": "1368600"
  },
  {
    "text": "important you you are you cannot find uh",
    "start": "1368600",
    "end": "1372360"
  },
  {
    "text": "the bottleneck without knowing the",
    "start": "1372360",
    "end": "1373960"
  },
  {
    "text": "entire call call",
    "start": "1373960",
    "end": "1375640"
  },
  {
    "start": "1375000",
    "end": "1446000"
  },
  {
    "text": "Flow so there are more problems to solve",
    "start": "1375640",
    "end": "1379279"
  },
  {
    "text": "um so one of the things that uh we are",
    "start": "1379279",
    "end": "1382159"
  },
  {
    "text": "uh still deeply in thought about is how",
    "start": "1382159",
    "end": "1384840"
  },
  {
    "text": "can we do aggregate Trace analysis end",
    "start": "1384840",
    "end": "1387200"
  },
  {
    "text": "of the day you cannot handpick a few",
    "start": "1387200",
    "end": "1389000"
  },
  {
    "text": "traces and make a decision out of it",
    "start": "1389000",
    "end": "1390880"
  },
  {
    "text": "sometimes you need uh to look at",
    "start": "1390880",
    "end": "1392799"
  },
  {
    "text": "everything uh together so and and one of",
    "start": "1392799",
    "end": "1396559"
  },
  {
    "text": "the reasons being that the number of",
    "start": "1396559",
    "end": "1398159"
  },
  {
    "text": "call chains for a given application are",
    "start": "1398159",
    "end": "1399799"
  },
  {
    "text": "not necessarily finite especially with",
    "start": "1399799",
    "end": "1401640"
  },
  {
    "text": "things like feature flags and whatnot",
    "start": "1401640",
    "end": "1403559"
  },
  {
    "text": "the call chains can can be very",
    "start": "1403559",
    "end": "1405279"
  },
  {
    "text": "arbitrary depending on what the feature",
    "start": "1405279",
    "end": "1406799"
  },
  {
    "text": "flag actually tries to do and uh span",
    "start": "1406799",
    "end": "1409640"
  },
  {
    "text": "metric connector and the service graph",
    "start": "1409640",
    "end": "1411600"
  },
  {
    "text": "connector they are not sufficient so we",
    "start": "1411600",
    "end": "1414440"
  },
  {
    "text": "are looking at how can we do some",
    "start": "1414440",
    "end": "1415799"
  },
  {
    "text": "storage based analysis given that we",
    "start": "1415799",
    "end": "1417720"
  },
  {
    "text": "store the entire Trace in a single shot",
    "start": "1417720",
    "end": "1420720"
  },
  {
    "text": "uh and the other thing is uh as I",
    "start": "1420720",
    "end": "1422520"
  },
  {
    "text": "mentioned during the panel like end to",
    "start": "1422520",
    "end": "1423880"
  },
  {
    "text": "end observability is very important to",
    "start": "1423880",
    "end": "1425440"
  },
  {
    "text": "us starting from U mobile all the way to",
    "start": "1425440",
    "end": "1428679"
  },
  {
    "text": "uh mobile browser all the way to the",
    "start": "1428679",
    "end": "1430799"
  },
  {
    "text": "last database call that was uh done how",
    "start": "1430799",
    "end": "1433960"
  },
  {
    "text": "can how can um we uh uh understand",
    "start": "1433960",
    "end": "1437600"
  },
  {
    "text": "what's going on how how can we",
    "start": "1437600",
    "end": "1439039"
  },
  {
    "text": "understand user Journeys across various",
    "start": "1439039",
    "end": "1441640"
  },
  {
    "text": "pages on the site and how can we look at",
    "start": "1441640",
    "end": "1443960"
  },
  {
    "text": "long running sessions um so was it all",
    "start": "1443960",
    "end": "1448640"
  },
  {
    "start": "1446000",
    "end": "1477000"
  },
  {
    "text": "worth it anyone yes",
    "start": "1448640",
    "end": "1452559"
  },
  {
    "text": "no yes yeah so like uh it's been",
    "start": "1452559",
    "end": "1456159"
  },
  {
    "text": "challenging to say the least uh there",
    "start": "1456159",
    "end": "1458080"
  },
  {
    "text": "are a few places where we had we have",
    "start": "1458080",
    "end": "1459960"
  },
  {
    "text": "had to be uh creative but definitely the",
    "start": "1459960",
    "end": "1463400"
  },
  {
    "text": "ability to look at the entire ecosystem",
    "start": "1463400",
    "end": "1465960"
  },
  {
    "text": "from start through finish and make",
    "start": "1465960",
    "end": "1467880"
  },
  {
    "text": "automated decisions on top of it um I",
    "start": "1467880",
    "end": "1471159"
  },
  {
    "text": "think uh it's definitely worth the",
    "start": "1471159",
    "end": "1473159"
  },
  {
    "text": "effort that we have gone through uh that",
    "start": "1473159",
    "end": "1475760"
  },
  {
    "text": "being said uh um if there's time for",
    "start": "1475760",
    "end": "1479240"
  },
  {
    "text": "questions like hey so just double",
    "start": "1479240",
    "end": "1483000"
  },
  {
    "text": "clicking on the trace sampling strategy",
    "start": "1483000",
    "end": "1485880"
  },
  {
    "text": "implemented uh was it because the tail",
    "start": "1485880",
    "end": "1488960"
  },
  {
    "text": "based sampling takes too much memory if",
    "start": "1488960",
    "end": "1490799"
  },
  {
    "text": "you want to do that through Hotel",
    "start": "1490799",
    "end": "1492159"
  },
  {
    "text": "collector or or was there some other",
    "start": "1492159",
    "end": "1494960"
  },
  {
    "text": "reason for that there are multiple",
    "start": "1494960",
    "end": "1496000"
  },
  {
    "text": "reasons um what what we saw was uh",
    "start": "1496000",
    "end": "1500480"
  },
  {
    "text": "different applications have different",
    "start": "1500480",
    "end": "1501840"
  },
  {
    "text": "latency profiles so we have uh",
    "start": "1501840",
    "end": "1505799"
  },
  {
    "text": "applications that take 2 seconds to",
    "start": "1505799",
    "end": "1507399"
  },
  {
    "text": "serve an API so those it's fairly easy",
    "start": "1507399",
    "end": "1510440"
  },
  {
    "text": "uh to do tailbase sampling but if you're",
    "start": "1510440",
    "end": "1512520"
  },
  {
    "text": "modeling uh kubernetes pod life cycle as",
    "start": "1512520",
    "end": "1515159"
  },
  {
    "text": "a trace for example can take minutes uh",
    "start": "1515159",
    "end": "1518559"
  },
  {
    "text": "how do you generically fit a time frame",
    "start": "1518559",
    "end": "1520799"
  },
  {
    "text": "for which the uh memory needs to be",
    "start": "1520799",
    "end": "1524120"
  },
  {
    "text": "flushed to do the decision the other one",
    "start": "1524120",
    "end": "1526919"
  },
  {
    "text": "is uh request can go through multiple",
    "start": "1526919",
    "end": "1529799"
  },
  {
    "text": "clusters kubernetes clusters request",
    "start": "1529799",
    "end": "1532000"
  },
  {
    "text": "isn't contained to a single cluster and",
    "start": "1532000",
    "end": "1533600"
  },
  {
    "text": "we mindfully said that we're not going",
    "start": "1533600",
    "end": "1535440"
  },
  {
    "text": "to try to bring spans from across",
    "start": "1535440",
    "end": "1538120"
  },
  {
    "text": "multiple clusters into tail Samplers and",
    "start": "1538120",
    "end": "1539960"
  },
  {
    "text": "then make decisions in memory so from a",
    "start": "1539960",
    "end": "1542240"
  },
  {
    "text": "complexity perspective and from U memory",
    "start": "1542240",
    "end": "1546120"
  },
  {
    "text": "perspective it did it did not meet our",
    "start": "1546120",
    "end": "1550000"
  },
  {
    "text": "requirement we lose",
    "start": "1551799",
    "end": "1555240"
  },
  {
    "text": "nothing so there also it's a policy here",
    "start": "1555520",
    "end": "1558039"
  },
  {
    "text": "also so it's an assumed policy",
    "start": "1558039",
    "end": "1562000"
  },
  {
    "text": "basically okay yeah sounds",
    "start": "1562080",
    "end": "1565720"
  },
  {
    "text": "good thank you so much I think we just",
    "start": "1568640",
    "end": "1571120"
  },
  {
    "text": "ran out of time so but we invite and you",
    "start": "1571120",
    "end": "1574520"
  },
  {
    "text": "know for anybody who has question to",
    "start": "1574520",
    "end": "1576200"
  },
  {
    "text": "approach the speakers okay thank you so",
    "start": "1576200",
    "end": "1578640"
  },
  {
    "text": "much take question thank you so much",
    "start": "1578640",
    "end": "1582919"
  }
]