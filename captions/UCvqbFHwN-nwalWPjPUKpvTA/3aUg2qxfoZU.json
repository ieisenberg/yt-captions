[
  {
    "text": "so thank you for joining in I know it's",
    "start": "160",
    "end": "2960"
  },
  {
    "text": "the last day of CubeCon but you know",
    "start": "2960",
    "end": "5200"
  },
  {
    "text": "lots of folks I think are also streaming",
    "start": "5200",
    "end": "7600"
  },
  {
    "text": "in from uh the keynotes So um welcome",
    "start": "7600",
    "end": "12599"
  },
  {
    "text": "everyone Um today we are covering in",
    "start": "12599",
    "end": "15839"
  },
  {
    "text": "this session lots of cool things about",
    "start": "15839",
    "end": "19080"
  },
  {
    "text": "Cortex How many of you use Cortex today",
    "start": "19080",
    "end": "23400"
  },
  {
    "text": "awesome Very cool Uh and those of you",
    "start": "23400",
    "end": "27039"
  },
  {
    "text": "who are not you should definitely",
    "start": "27039",
    "end": "28560"
  },
  {
    "text": "consider it",
    "start": "28560",
    "end": "30000"
  },
  {
    "text": "Uh so today we're going to talk about",
    "start": "30000",
    "end": "32000"
  },
  {
    "text": "the project uh provide some updates uh",
    "start": "32000",
    "end": "35200"
  },
  {
    "text": "on you know the new features that have",
    "start": "35200",
    "end": "37600"
  },
  {
    "text": "rolled out already this past year and",
    "start": "37600",
    "end": "40719"
  },
  {
    "text": "also give you an update on the road map",
    "start": "40719",
    "end": "42879"
  },
  {
    "text": "that's coming forward for the this",
    "start": "42879",
    "end": "45360"
  },
  {
    "text": "coming year I'm Alolita Sharma from",
    "start": "45360",
    "end": "48120"
  },
  {
    "text": "Apple Uh we also have our awesome",
    "start": "48120",
    "end": "51280"
  },
  {
    "text": "maintainers on the project here Some of",
    "start": "51280",
    "end": "53199"
  },
  {
    "text": "them joining in today Charlie Lee from",
    "start": "53199",
    "end": "55280"
  },
  {
    "text": "Apple uh Daniel Blando from AWS Daniel",
    "start": "55280",
    "end": "59840"
  },
  {
    "text": "Sabsay from Adobe and last but not least",
    "start": "59840",
    "end": "63520"
  },
  {
    "text": "Frederick Gonzalez from Adobe So uh",
    "start": "63520",
    "end": "66960"
  },
  {
    "text": "again you know all the maintainers have",
    "start": "66960",
    "end": "69760"
  },
  {
    "text": "been working on this project for a while",
    "start": "69760",
    "end": "72240"
  },
  {
    "text": "and really excited to have them all here",
    "start": "72240",
    "end": "75000"
  },
  {
    "text": "today So uh in case you don't recognize",
    "start": "75000",
    "end": "78080"
  },
  {
    "text": "them on stage here they are again And",
    "start": "78080",
    "end": "81759"
  },
  {
    "text": "and uh they will be covering different",
    "start": "81759",
    "end": "84320"
  },
  {
    "text": "parts of the agenda We'll be starting",
    "start": "84320",
    "end": "86560"
  },
  {
    "text": "off with an introduction to what Cortex",
    "start": "86560",
    "end": "89520"
  },
  {
    "text": "is but also diving into the architecture",
    "start": "89520",
    "end": "92880"
  },
  {
    "text": "a bit uh and kind of talking about the",
    "start": "92880",
    "end": "95759"
  },
  {
    "text": "different moving parts Charlie will be",
    "start": "95759",
    "end": "98079"
  },
  {
    "text": "also then diving in into a super cool",
    "start": "98079",
    "end": "101119"
  },
  {
    "text": "demo uh to show you how to get started",
    "start": "101119",
    "end": "103759"
  },
  {
    "text": "with Cortex if you don't know so already",
    "start": "103759",
    "end": "106479"
  },
  {
    "text": "and uh kind of doing you know walking",
    "start": "106479",
    "end": "108960"
  },
  {
    "text": "you through a couple of scenarios Uh",
    "start": "108960",
    "end": "111680"
  },
  {
    "text": "then the maintainer team will be",
    "start": "111680",
    "end": "113840"
  },
  {
    "text": "actually providing an update on the",
    "start": "113840",
    "end": "115520"
  },
  {
    "text": "different features that have been rolled",
    "start": "115520",
    "end": "117119"
  },
  {
    "text": "out for uh performance or you know",
    "start": "117119",
    "end": "120240"
  },
  {
    "text": "scalability reliability and others And",
    "start": "120240",
    "end": "123439"
  },
  {
    "text": "then we'll talk about you know what's",
    "start": "123439",
    "end": "125119"
  },
  {
    "text": "what are some of the cool features that",
    "start": "125119",
    "end": "126640"
  },
  {
    "text": "are coming in in terms of",
    "start": "126640",
    "end": "128280"
  },
  {
    "text": "interoperability compatibility with new",
    "start": "128280",
    "end": "130640"
  },
  {
    "text": "formats the and upgrades uh in on the",
    "start": "130640",
    "end": "133800"
  },
  {
    "text": "protocols Uh and last but not least",
    "start": "133800",
    "end": "136400"
  },
  {
    "text": "we'll talk about the road map to uh",
    "start": "136400",
    "end": "139239"
  },
  {
    "text": "graduation Uh again the project is",
    "start": "139239",
    "end": "141920"
  },
  {
    "text": "looking to graduate you know again uh",
    "start": "141920",
    "end": "144720"
  },
  {
    "text": "it's super exciting we're at that time",
    "start": "144720",
    "end": "146640"
  },
  {
    "text": "you know where we are just just kind of",
    "start": "146640",
    "end": "148400"
  },
  {
    "text": "getting ready so Frederick will be",
    "start": "148400",
    "end": "149840"
  },
  {
    "text": "diving into that and then if we have you",
    "start": "149840",
    "end": "152239"
  },
  {
    "text": "know a little bit of time please hold",
    "start": "152239",
    "end": "154000"
  },
  {
    "text": "your questions till then uh and if we do",
    "start": "154000",
    "end": "156640"
  },
  {
    "text": "run out of time please you know do find",
    "start": "156640",
    "end": "159200"
  },
  {
    "text": "us hang out you know we are happy to",
    "start": "159200",
    "end": "161440"
  },
  {
    "text": "hang out and talk more about things So",
    "start": "161440",
    "end": "164319"
  },
  {
    "text": "as many of you know Cortex is a uh very",
    "start": "164319",
    "end": "168560"
  },
  {
    "text": "highly scalable uh specifically",
    "start": "168560",
    "end": "171040"
  },
  {
    "text": "horizontally scalable highly available",
    "start": "171040",
    "end": "173440"
  },
  {
    "text": "multi-tenant long-term storage for",
    "start": "173440",
    "end": "175879"
  },
  {
    "text": "Prometheus Again it is you know a very",
    "start": "175879",
    "end": "178879"
  },
  {
    "text": "popular multi-tenant solution for most",
    "start": "178879",
    "end": "182640"
  },
  {
    "text": "large and small organizations that are",
    "start": "182640",
    "end": "185280"
  },
  {
    "text": "looking to isolate data and Charlie will",
    "start": "185280",
    "end": "188080"
  },
  {
    "text": "be diving a bit more into the features",
    "start": "188080",
    "end": "190959"
  },
  {
    "text": "So Charlie over to you Sorry",
    "start": "190959",
    "end": "194959"
  },
  {
    "text": "Thanks Alita Uh so I'm going to be",
    "start": "194959",
    "end": "197599"
  },
  {
    "text": "talking a little bit about Cortex what",
    "start": "197599",
    "end": "199599"
  },
  {
    "text": "it's about Um like Alita said it's a",
    "start": "199599",
    "end": "202080"
  },
  {
    "text": "horizontally scalable uh version of",
    "start": "202080",
    "end": "204599"
  },
  {
    "text": "Prometheus Um it tries to have the",
    "start": "204599",
    "end": "207840"
  },
  {
    "text": "lowest response times possible uh for",
    "start": "207840",
    "end": "210319"
  },
  {
    "text": "queries and writes to it Um there are a",
    "start": "210319",
    "end": "212720"
  },
  {
    "text": "lot of strong stability guarantees which",
    "start": "212720",
    "end": "214640"
  },
  {
    "text": "I'll talk a little bit more about and",
    "start": "214640",
    "end": "216560"
  },
  {
    "text": "it's community managed like you see here",
    "start": "216560",
    "end": "218239"
  },
  {
    "text": "It's backed by multiple companies and",
    "start": "218239",
    "end": "220159"
  },
  {
    "text": "there are lots of diverse contributors",
    "start": "220159",
    "end": "222319"
  },
  {
    "text": "all around the world that are helping to",
    "start": "222319",
    "end": "223920"
  },
  {
    "text": "build it Um this is the architecture",
    "start": "223920",
    "end": "227840"
  },
  {
    "text": "diagram that is on our documentation Um",
    "start": "227840",
    "end": "231040"
  },
  {
    "text": "if you've read it it's probably you've",
    "start": "231040",
    "end": "233360"
  },
  {
    "text": "probably seen it before Um but at a high",
    "start": "233360",
    "end": "236239"
  },
  {
    "text": "level there's the right path which is",
    "start": "236239",
    "end": "238560"
  },
  {
    "text": "the orange line here uh where something",
    "start": "238560",
    "end": "241120"
  },
  {
    "text": "like open telemetry or Prometheus sends",
    "start": "241120",
    "end": "243760"
  },
  {
    "text": "metrics to Cortex and then it lands into",
    "start": "243760",
    "end": "246400"
  },
  {
    "text": "the distributor which is a service",
    "start": "246400",
    "end": "248319"
  },
  {
    "text": "inside of Cortex which handles the rate",
    "start": "248319",
    "end": "250319"
  },
  {
    "text": "limiting and fanning out of those",
    "start": "250319",
    "end": "252480"
  },
  {
    "text": "requests to an ingesttor which is the",
    "start": "252480",
    "end": "255519"
  },
  {
    "text": "second part of that right path Um and",
    "start": "255519",
    "end": "258160"
  },
  {
    "text": "the ingesttor is responsible for um the",
    "start": "258160",
    "end": "262000"
  },
  {
    "text": "ingesttor is responsible for um storing",
    "start": "262000",
    "end": "266000"
  },
  {
    "text": "the metrics so that you can query them",
    "start": "266000",
    "end": "268560"
  },
  {
    "text": "uh in like uh in memory and then when",
    "start": "268560",
    "end": "272479"
  },
  {
    "text": "the ingesttor uh has enough of your",
    "start": "272479",
    "end": "275440"
  },
  {
    "text": "metrics for um I think two or so hours",
    "start": "275440",
    "end": "278639"
  },
  {
    "text": "it will compact them just like the",
    "start": "278639",
    "end": "280160"
  },
  {
    "text": "Prometheus um uh service does and then",
    "start": "280160",
    "end": "284320"
  },
  {
    "text": "um the ingesttor will send those uh uh",
    "start": "284320",
    "end": "287759"
  },
  {
    "text": "compacted blocks to uh some object",
    "start": "287759",
    "end": "290560"
  },
  {
    "text": "storage of your choice Um so that way",
    "start": "290560",
    "end": "292720"
  },
  {
    "text": "you could have long-term storage Um so",
    "start": "292720",
    "end": "294960"
  },
  {
    "text": "in this case it could be S3 or Google",
    "start": "294960",
    "end": "297600"
  },
  {
    "text": "Cloud Storage Um and we'll talk a bit",
    "start": "297600",
    "end": "300560"
  },
  {
    "text": "about more about what are these",
    "start": "300560",
    "end": "302080"
  },
  {
    "text": "supported uh object stoages Um and then",
    "start": "302080",
    "end": "305120"
  },
  {
    "text": "on the read path there's dashboards like",
    "start": "305120",
    "end": "307440"
  },
  {
    "text": "Grafana that will query Cortex so that",
    "start": "307440",
    "end": "309840"
  },
  {
    "text": "you can query all the metrics that you",
    "start": "309840",
    "end": "311520"
  },
  {
    "text": "sent it And um when you query Cortex you",
    "start": "311520",
    "end": "314639"
  },
  {
    "text": "pass in a a a header which signifies uh",
    "start": "314639",
    "end": "318720"
  },
  {
    "text": "which tenant you want to query the",
    "start": "318720",
    "end": "320880"
  },
  {
    "text": "metrics for And there's a lot of caching",
    "start": "320880",
    "end": "323280"
  },
  {
    "text": "features as well so that it doesn't have",
    "start": "323280",
    "end": "324800"
  },
  {
    "text": "to go through the whole query path to",
    "start": "324800",
    "end": "326560"
  },
  {
    "text": "get the metrics that you want for your",
    "start": "326560",
    "end": "329560"
  },
  {
    "text": "tenant So how's it different from blank",
    "start": "329560",
    "end": "332320"
  },
  {
    "text": "that does something similar so with",
    "start": "332320",
    "end": "334240"
  },
  {
    "text": "cortex all of the components that you",
    "start": "334240",
    "end": "335840"
  },
  {
    "text": "saw earlier are horizontally scalable Um",
    "start": "335840",
    "end": "339120"
  },
  {
    "text": "so if you wanted to scale up some some",
    "start": "339120",
    "end": "341199"
  },
  {
    "text": "component there you could And there are",
    "start": "341199",
    "end": "343520"
  },
  {
    "text": "no unexplained metric gaps So anytime",
    "start": "343520",
    "end": "345600"
  },
  {
    "text": "you restart something there's always",
    "start": "345600",
    "end": "346880"
  },
  {
    "text": "some sort of availability or high",
    "start": "346880",
    "end": "349039"
  },
  {
    "text": "availability setup where something else",
    "start": "349039",
    "end": "351280"
  },
  {
    "text": "will take on that load Query speed is",
    "start": "351280",
    "end": "354080"
  },
  {
    "text": "also a very important feature for Cortex",
    "start": "354080",
    "end": "356400"
  },
  {
    "text": "So we try to optimize aggressively on",
    "start": "356400",
    "end": "358280"
  },
  {
    "text": "that And there are also strong stability",
    "start": "358280",
    "end": "361120"
  },
  {
    "text": "guarantees So whenever there is a new",
    "start": "361120",
    "end": "363360"
  },
  {
    "text": "feature uh we always mark it as",
    "start": "363360",
    "end": "365440"
  },
  {
    "text": "experimental so that um users of Cortex",
    "start": "365440",
    "end": "368240"
  },
  {
    "text": "aren't",
    "start": "368240",
    "end": "369400"
  },
  {
    "text": "surprised Uh as and the CNCF project is",
    "start": "369400",
    "end": "372479"
  },
  {
    "text": "also backed by um many many developers",
    "start": "372479",
    "end": "375759"
  },
  {
    "text": "from multiple companies So you can tell",
    "start": "375759",
    "end": "377919"
  },
  {
    "text": "that the community is quite vibrant and",
    "start": "377919",
    "end": "381319"
  },
  {
    "text": "healthy Um and here's just a quick table",
    "start": "381319",
    "end": "384240"
  },
  {
    "text": "of what Cortex is about Uh it it's uh",
    "start": "384240",
    "end": "388880"
  },
  {
    "text": "has object storage uh scalability",
    "start": "388880",
    "end": "391600"
  },
  {
    "text": "performance data resilience and data",
    "start": "391600",
    "end": "393919"
  },
  {
    "text": "avail data flexibility and it's",
    "start": "393919",
    "end": "397479"
  },
  {
    "text": "communitydriven So this is our getting",
    "start": "397479",
    "end": "400000"
  },
  {
    "text": "started Um we have a page on our uh",
    "start": "400000",
    "end": "403600"
  },
  {
    "text": "documentation that shows you how to get",
    "start": "403600",
    "end": "405440"
  },
  {
    "text": "quickly started with uh either docker or",
    "start": "405440",
    "end": "408880"
  },
  {
    "text": "kind uh whichever you want The docker",
    "start": "408880",
    "end": "411600"
  },
  {
    "text": "one has a um a single binary mode So you",
    "start": "411600",
    "end": "414720"
  },
  {
    "text": "can just have Cortex running as a single",
    "start": "414720",
    "end": "416639"
  },
  {
    "text": "binary and docker and then play around",
    "start": "416639",
    "end": "418479"
  },
  {
    "text": "with that There's also the microservices",
    "start": "418479",
    "end": "420800"
  },
  {
    "text": "mode uh where you can have cortex broken",
    "start": "420800",
    "end": "424000"
  },
  {
    "text": "up into the microservices that it is",
    "start": "424000",
    "end": "426160"
  },
  {
    "text": "made up of and then see how those",
    "start": "426160",
    "end": "428160"
  },
  {
    "text": "components interact with each",
    "start": "428160",
    "end": "429880"
  },
  {
    "text": "other But um I wanted to show you a",
    "start": "429880",
    "end": "433520"
  },
  {
    "text": "little demo of cortex in action So on",
    "start": "433520",
    "end": "438319"
  },
  {
    "text": "the right here I have",
    "start": "438319",
    "end": "441199"
  },
  {
    "text": "uh just an empty Kubernetes cluster Uh",
    "start": "441199",
    "end": "443919"
  },
  {
    "text": "it's just running on my machine here and",
    "start": "443919",
    "end": "446720"
  },
  {
    "text": "there These three pods are just part of",
    "start": "446720",
    "end": "448479"
  },
  {
    "text": "the Kubernetes cluster Um but what if I",
    "start": "448479",
    "end": "453840"
  },
  {
    "text": "let me just double check that all these",
    "start": "453840",
    "end": "455520"
  },
  {
    "text": "values are correct here Sorry I was",
    "start": "455520",
    "end": "458000"
  },
  {
    "text": "testing this earlier So I need to reset",
    "start": "458000",
    "end": "459599"
  },
  {
    "text": "these",
    "start": "459599",
    "end": "461400"
  },
  {
    "text": "back So I'm going to apply the this Helm",
    "start": "461400",
    "end": "466560"
  },
  {
    "text": "file which has a um a couple of charts",
    "start": "466560",
    "end": "470720"
  },
  {
    "text": "that it's going to install U cortex",
    "start": "470720",
    "end": "473759"
  },
  {
    "text": "itself in microservices",
    "start": "473759",
    "end": "475720"
  },
  {
    "text": "mode So Cortex like I said earlier is",
    "start": "475720",
    "end": "479199"
  },
  {
    "text": "made up of multiple uh components here",
    "start": "479199",
    "end": "481759"
  },
  {
    "text": "So there's the ingesttor which stores",
    "start": "481759",
    "end": "483599"
  },
  {
    "text": "the metrics Um there's the distributor",
    "start": "483599",
    "end": "486000"
  },
  {
    "text": "which is the uh um the front uh front",
    "start": "486000",
    "end": "490080"
  },
  {
    "text": "door for all metrics that get ingested",
    "start": "490080",
    "end": "492080"
  },
  {
    "text": "in Um I just have one replica here and",
    "start": "492080",
    "end": "494960"
  },
  {
    "text": "three replicas of the ingesttor Engine X",
    "start": "494960",
    "end": "497280"
  },
  {
    "text": "is like basically our um our HTTP router",
    "start": "497280",
    "end": "500879"
  },
  {
    "text": "here",
    "start": "500879",
    "end": "502280"
  },
  {
    "text": "Um there's the query which uh executes",
    "start": "502280",
    "end": "506160"
  },
  {
    "text": "the queries and all of these components",
    "start": "506160",
    "end": "507840"
  },
  {
    "text": "are scalable here So um it it'll take a",
    "start": "507840",
    "end": "510479"
  },
  {
    "text": "second to load these all up Um I also",
    "start": "510479",
    "end": "513760"
  },
  {
    "text": "have some Prometheus uh pods here that",
    "start": "513760",
    "end": "516479"
  },
  {
    "text": "will be scraping metrics in the cluster",
    "start": "516479",
    "end": "519039"
  },
  {
    "text": "uh and then sending them into Cortex",
    "start": "519039",
    "end": "521120"
  },
  {
    "text": "with their own tenants So imagine you",
    "start": "521120",
    "end": "523279"
  },
  {
    "text": "have a dev tenant and a staging tenant",
    "start": "523279",
    "end": "525920"
  },
  {
    "text": "and you want to have isolation between",
    "start": "525920",
    "end": "527760"
  },
  {
    "text": "the two tenants you can have that uh and",
    "start": "527760",
    "end": "530240"
  },
  {
    "text": "it's possible here Um and I'm going to",
    "start": "530240",
    "end": "531920"
  },
  {
    "text": "show you how Um so yeah I just have",
    "start": "531920",
    "end": "535040"
  },
  {
    "text": "these two Prometheus instances that are",
    "start": "535040",
    "end": "537600"
  },
  {
    "text": "sending metrics to Cortex So let me port",
    "start": "537600",
    "end": "540000"
  },
  {
    "text": "forward into Graphfana so I can show you",
    "start": "540000",
    "end": "542240"
  },
  {
    "text": "Uh there's also Graphana running in this",
    "start": "542240",
    "end": "545120"
  },
  {
    "text": "uh cluster So let me um uh create some",
    "start": "545120",
    "end": "549279"
  },
  {
    "text": "data sources and some dashboards in that",
    "start": "549279",
    "end": "551399"
  },
  {
    "text": "graphana instance so that I can um",
    "start": "551399",
    "end": "553839"
  },
  {
    "text": "visualize some of the metrics that are",
    "start": "553839",
    "end": "555279"
  },
  {
    "text": "coming in",
    "start": "555279",
    "end": "556880"
  },
  {
    "text": "So um in this dashboard I'm showing uh",
    "start": "556880",
    "end": "559760"
  },
  {
    "text": "the ingestion rates uh for samples",
    "start": "559760",
    "end": "562080"
  },
  {
    "text": "between the two tenants So I have a dev",
    "start": "562080",
    "end": "564399"
  },
  {
    "text": "and a staging tenant Both of them should",
    "start": "564399",
    "end": "566080"
  },
  {
    "text": "be sending the same",
    "start": "566080",
    "end": "567640"
  },
  {
    "text": "metrics And I also have some uh rate",
    "start": "567640",
    "end": "570560"
  },
  {
    "text": "limits over here So each tenant",
    "start": "570560",
    "end": "572640"
  },
  {
    "text": "currently has 25,000 samples per second",
    "start": "572640",
    "end": "575040"
  },
  {
    "text": "as their limits And on the bottom I have",
    "start": "575040",
    "end": "577839"
  },
  {
    "text": "what each ingestion or each ingesttor",
    "start": "577839",
    "end": "580320"
  },
  {
    "text": "pod is currently ingesting per second",
    "start": "580320",
    "end": "583040"
  },
  {
    "text": "for samples",
    "start": "583040",
    "end": "585200"
  },
  {
    "text": "Um the first thing I wanted to show was",
    "start": "585200",
    "end": "588560"
  },
  {
    "text": "how I can dynamically rate limit a",
    "start": "588560",
    "end": "590959"
  },
  {
    "text": "tenant uh without restarting anything um",
    "start": "590959",
    "end": "594800"
  },
  {
    "text": "on Cortex So what I'm going to do is go",
    "start": "594800",
    "end": "598360"
  },
  {
    "text": "into my Helm file where I have some",
    "start": "598360",
    "end": "601279"
  },
  {
    "text": "overrides for these tenants here So let",
    "start": "601279",
    "end": "603360"
  },
  {
    "text": "me just change this 25,000 to",
    "start": "603360",
    "end": "606360"
  },
  {
    "text": "2,000 Apply that again",
    "start": "606360",
    "end": "610080"
  },
  {
    "text": "And you'll see that that is the diff",
    "start": "610080",
    "end": "612640"
  },
  {
    "text": "here is this change for the dev tenant",
    "start": "612640",
    "end": "615839"
  },
  {
    "text": "from 25,000 to 2,000 If you notice here",
    "start": "615839",
    "end": "619440"
  },
  {
    "text": "none of these pods got restarted because",
    "start": "619440",
    "end": "622640"
  },
  {
    "text": "the the these values that I'm setting",
    "start": "622640",
    "end": "625360"
  },
  {
    "text": "are runtime configuration values So they",
    "start": "625360",
    "end": "628079"
  },
  {
    "text": "don't require a restart And each of",
    "start": "628079",
    "end": "629600"
  },
  {
    "text": "these services are um uh programmed to",
    "start": "629600",
    "end": "633440"
  },
  {
    "text": "reload these types of values um uh every",
    "start": "633440",
    "end": "636560"
  },
  {
    "text": "so often I think it's 10 seconds by",
    "start": "636560",
    "end": "639120"
  },
  {
    "text": "default but I've changed it to 1 second",
    "start": "639120",
    "end": "640959"
  },
  {
    "text": "so that we can try to see it faster So",
    "start": "640959",
    "end": "643680"
  },
  {
    "text": "if you notice here",
    "start": "643680",
    "end": "645800"
  },
  {
    "text": "um the ingestion rate for the dev tenant",
    "start": "645800",
    "end": "649279"
  },
  {
    "text": "is actually going down to 2,000 like we",
    "start": "649279",
    "end": "651320"
  },
  {
    "text": "expect And then over here you can see",
    "start": "651320",
    "end": "653519"
  },
  {
    "text": "the limit as well got set to 2,000 And",
    "start": "653519",
    "end": "656399"
  },
  {
    "text": "then for further proof you can see the",
    "start": "656399",
    "end": "658000"
  },
  {
    "text": "ingest pods actually are seeing less",
    "start": "658000",
    "end": "660800"
  },
  {
    "text": "metrics coming in which is which is",
    "start": "660800",
    "end": "664360"
  },
  {
    "text": "working So the the demo gods are",
    "start": "664360",
    "end": "667360"
  },
  {
    "text": "praising or are happy today I guess So",
    "start": "667360",
    "end": "670240"
  },
  {
    "text": "there's one more thing I wanted to show",
    "start": "670240",
    "end": "672160"
  },
  {
    "text": "and that is how do you automatically",
    "start": "672160",
    "end": "674720"
  },
  {
    "text": "scale up ingesters So if you want to",
    "start": "674720",
    "end": "676959"
  },
  {
    "text": "store more metrics and to do that I'm",
    "start": "676959",
    "end": "680320"
  },
  {
    "text": "going to set the ingesttor pod replica",
    "start": "680320",
    "end": "683440"
  },
  {
    "text": "count to four And you can have this be",
    "start": "683440",
    "end": "686399"
  },
  {
    "text": "done automatically you know based on",
    "start": "686399",
    "end": "688120"
  },
  {
    "text": "scale or some other metric So let me go",
    "start": "688120",
    "end": "690959"
  },
  {
    "text": "ahead and apply that",
    "start": "690959",
    "end": "693279"
  },
  {
    "text": "And uh we should see one more injust pod",
    "start": "693279",
    "end": "695360"
  },
  {
    "text": "coming up",
    "start": "695360",
    "end": "697680"
  },
  {
    "text": "uh pretty soon here Cool And I'll load",
    "start": "697680",
    "end": "701760"
  },
  {
    "text": "the logs here So you can see it coming",
    "start": "701760",
    "end": "703360"
  },
  {
    "text": "up But I have the the logs here for this",
    "start": "703360",
    "end": "706959"
  },
  {
    "text": "ingesttor pod coming up And then I also",
    "start": "706959",
    "end": "709760"
  },
  {
    "text": "have uh this you know panel here on the",
    "start": "709760",
    "end": "712560"
  },
  {
    "text": "bottom that is showing what is the",
    "start": "712560",
    "end": "715040"
  },
  {
    "text": "ingestion rate for each of those pods",
    "start": "715040",
    "end": "716880"
  },
  {
    "text": "And if everything is working correctly",
    "start": "716880",
    "end": "718480"
  },
  {
    "text": "we should see those three ingesttor pods",
    "start": "718480",
    "end": "721360"
  },
  {
    "text": "giving those metrics that it was",
    "start": "721360",
    "end": "723519"
  },
  {
    "text": "ingesting before into the fourth ingest",
    "start": "723519",
    "end": "726639"
  },
  {
    "text": "pod that's coming up So we should see",
    "start": "726639",
    "end": "728320"
  },
  {
    "text": "the fourth ingest pod increasing in um",
    "start": "728320",
    "end": "731040"
  },
  {
    "text": "samples uh uh ingestion and then the",
    "start": "731040",
    "end": "733920"
  },
  {
    "text": "other three decreasing as it's being um",
    "start": "733920",
    "end": "736160"
  },
  {
    "text": "load balanced across the the four So",
    "start": "736160",
    "end": "739440"
  },
  {
    "text": "that seems to be working as um as",
    "start": "739440",
    "end": "741920"
  },
  {
    "text": "expected here So you can see the the the",
    "start": "741920",
    "end": "744560"
  },
  {
    "text": "new one coming up and then the other",
    "start": "744560",
    "end": "746480"
  },
  {
    "text": "three kind of releasing those ingest um",
    "start": "746480",
    "end": "749680"
  },
  {
    "text": "those those um samples that are coming",
    "start": "749680",
    "end": "752839"
  },
  {
    "text": "in So that is uh what I wanted to show",
    "start": "752839",
    "end": "756079"
  },
  {
    "text": "for um Cortex and and how you can",
    "start": "756079",
    "end": "758560"
  },
  {
    "text": "quickly kind of change things and see",
    "start": "758560",
    "end": "760320"
  },
  {
    "text": "things working in a multi-tenant way",
    "start": "760320",
    "end": "763519"
  },
  {
    "text": "And I'll hand it back over to Daniel to",
    "start": "763519",
    "end": "766800"
  },
  {
    "text": "talk about um what's um coming uh or the",
    "start": "766800",
    "end": "772959"
  },
  {
    "text": "sorry the team updates for the community",
    "start": "772959",
    "end": "775040"
  },
  {
    "text": "in Cortex",
    "start": "775040",
    "end": "777730"
  },
  {
    "text": "[Music]",
    "start": "777730",
    "end": "780560"
  },
  {
    "text": "Thank you",
    "start": "780560",
    "end": "782200"
  },
  {
    "text": "Charlie Since the last CubeCon in North",
    "start": "782200",
    "end": "784800"
  },
  {
    "text": "America 6 months ago we've had one",
    "start": "784800",
    "end": "786800"
  },
  {
    "text": "release nine new contributors three new",
    "start": "786800",
    "end": "788959"
  },
  {
    "text": "triagers 381 commits We've recently",
    "start": "788959",
    "end": "792880"
  },
  {
    "text": "added this new triagger team which is a",
    "start": "792880",
    "end": "795360"
  },
  {
    "text": "group of contributors that contribute",
    "start": "795360",
    "end": "797920"
  },
  {
    "text": "just like external contributors do but",
    "start": "797920",
    "end": "800320"
  },
  {
    "text": "with more uh persistence and they have a",
    "start": "800320",
    "end": "803760"
  },
  {
    "text": "little bit more permissions to manage",
    "start": "803760",
    "end": "805200"
  },
  {
    "text": "PRs and issues to help alleviate the",
    "start": "805200",
    "end": "807600"
  },
  {
    "text": "admin overhead on the existing",
    "start": "807600",
    "end": "809360"
  },
  {
    "text": "maintainer team The current team of um",
    "start": "809360",
    "end": "813440"
  },
  {
    "text": "triagers is made up of Anan Raja Gopal",
    "start": "813440",
    "end": "816240"
  },
  {
    "text": "Sunjin Lee and myself",
    "start": "816240",
    "end": "819279"
  },
  {
    "text": "In this last release version 119 we have",
    "start": "819279",
    "end": "821839"
  },
  {
    "text": "a bunch of new",
    "start": "821839",
    "end": "824279"
  },
  {
    "text": "features The first is that OpenStack",
    "start": "824279",
    "end": "826880"
  },
  {
    "text": "Swift as an object storage backend is no",
    "start": "826880",
    "end": "829120"
  },
  {
    "text": "longer experimental Which means that the",
    "start": "829120",
    "end": "831680"
  },
  {
    "text": "four officially supported backends are",
    "start": "831680",
    "end": "833519"
  },
  {
    "text": "Amazon S3 Google Cloud Storage Microsoft",
    "start": "833519",
    "end": "835920"
  },
  {
    "text": "Azure Storage and OpenStack Swift There",
    "start": "835920",
    "end": "838720"
  },
  {
    "text": "are two new features for the Cortex",
    "start": "838720",
    "end": "840959"
  },
  {
    "text": "ruler",
    "start": "840959",
    "end": "842480"
  },
  {
    "text": "This component is the component of",
    "start": "842480",
    "end": "844320"
  },
  {
    "text": "Cortex that evaluates Prometheus format",
    "start": "844320",
    "end": "847120"
  },
  {
    "text": "recording rules and alerting rules We've",
    "start": "847120",
    "end": "849440"
  },
  {
    "text": "had this component that runs as a",
    "start": "849440",
    "end": "851199"
  },
  {
    "text": "microser inside Cortex for quite some",
    "start": "851199",
    "end": "853279"
  },
  {
    "text": "time but prior to release 119 it has not",
    "start": "853279",
    "end": "855839"
  },
  {
    "text": "been properly highly available Thanks to",
    "start": "855839",
    "end": "858720"
  },
  {
    "text": "the work of and uh apologies for",
    "start": "858720",
    "end": "861279"
  },
  {
    "text": "misprononunciations Alan Pagio Yiji Chin",
    "start": "861279",
    "end": "864720"
  },
  {
    "text": "Wilbert Wool Sununping Anan",
    "start": "864720",
    "end": "868839"
  },
  {
    "text": "Rajop and Emanuel Loviche We now have",
    "start": "868839",
    "end": "872000"
  },
  {
    "text": "experimental support for high",
    "start": "872000",
    "end": "874279"
  },
  {
    "text": "availability Unlike the high",
    "start": "874279",
    "end": "876000"
  },
  {
    "text": "availability that we use in distributors",
    "start": "876000",
    "end": "877839"
  },
  {
    "text": "and jesters instead of using pure",
    "start": "877839",
    "end": "880480"
  },
  {
    "text": "replication we use a primary versus non-",
    "start": "880480",
    "end": "883040"
  },
  {
    "text": "primary approach In this approach each",
    "start": "883040",
    "end": "886560"
  },
  {
    "text": "rule group is assigned to a set of ruler",
    "start": "886560",
    "end": "889079"
  },
  {
    "text": "instances but is only evaluated by one",
    "start": "889079",
    "end": "891680"
  },
  {
    "text": "instance in that group of rulers At each",
    "start": "891680",
    "end": "895279"
  },
  {
    "text": "rule sync which happens uh by default",
    "start": "895279",
    "end": "897839"
  },
  {
    "text": "every one minute the non- primary will",
    "start": "897839",
    "end": "900480"
  },
  {
    "text": "check the health of the primary and if",
    "start": "900480",
    "end": "902720"
  },
  {
    "text": "the primary is unhealthy it will the",
    "start": "902720",
    "end": "905360"
  },
  {
    "text": "non- primary will take ownership of",
    "start": "905360",
    "end": "907040"
  },
  {
    "text": "those rules begin evaluating them So you",
    "start": "907040",
    "end": "910079"
  },
  {
    "text": "see two scenarios here Um the third",
    "start": "910079",
    "end": "913360"
  },
  {
    "text": "scenario not shown is that if the both",
    "start": "913360",
    "end": "916720"
  },
  {
    "text": "ruler one and ruler two are down the",
    "start": "916720",
    "end": "918880"
  },
  {
    "text": "next non- primary in the chain there is",
    "start": "918880",
    "end": "920880"
  },
  {
    "text": "an ordering um imposed Ruler three in",
    "start": "920880",
    "end": "924720"
  },
  {
    "text": "this case will take over ownership and",
    "start": "924720",
    "end": "927040"
  },
  {
    "text": "when the other rulers come back alive",
    "start": "927040",
    "end": "929360"
  },
  {
    "text": "they will relinquish",
    "start": "929360",
    "end": "932320"
  },
  {
    "text": "ownership This approach helps us",
    "start": "932680",
    "end": "935040"
  },
  {
    "text": "minimize gaps when rulers restart and",
    "start": "935040",
    "end": "936959"
  },
  {
    "text": "fail but also avoids redundant rule",
    "start": "936959",
    "end": "939560"
  },
  {
    "text": "evaluation So at any one time a given",
    "start": "939560",
    "end": "942800"
  },
  {
    "text": "rule is only evaluated by one ruler This",
    "start": "942800",
    "end": "945440"
  },
  {
    "text": "high availability is also availability",
    "start": "945440",
    "end": "947760"
  },
  {
    "text": "zone aware",
    "start": "947760",
    "end": "950320"
  },
  {
    "text": "The second feature that we've added to",
    "start": "950320",
    "end": "951920"
  },
  {
    "text": "the ruler is the option to use the",
    "start": "951920",
    "end": "954639"
  },
  {
    "text": "existing query path This means that um",
    "start": "954639",
    "end": "959360"
  },
  {
    "text": "rules evaluated by the ruler now take",
    "start": "959360",
    "end": "961680"
  },
  {
    "text": "extra network hops but allows you to",
    "start": "961680",
    "end": "964079"
  },
  {
    "text": "take advantage of the caching and query",
    "start": "964079",
    "end": "966000"
  },
  {
    "text": "splitting performance enhancements that",
    "start": "966000",
    "end": "968320"
  },
  {
    "text": "exist in the query front end This",
    "start": "968320",
    "end": "970560"
  },
  {
    "text": "feature was contributed by Sunung Jin",
    "start": "970560",
    "end": "972320"
  },
  {
    "text": "Lee and Bin",
    "start": "972320",
    "end": "974519"
  },
  {
    "text": "Yi And now I'll hand it to also Daniel",
    "start": "974519",
    "end": "977360"
  },
  {
    "text": "to talk about more features in version",
    "start": "977360",
    "end": "979040"
  },
  {
    "text": "119 and upcoming",
    "start": "979040",
    "end": "981680"
  },
  {
    "text": "Thanks",
    "start": "981680",
    "end": "982759"
  },
  {
    "text": "Daniel Um so uh the next um feature that",
    "start": "982759",
    "end": "988320"
  },
  {
    "text": "we released on monitoring team it's the",
    "start": "988320",
    "end": "991040"
  },
  {
    "text": "partition compactor Uh we have been",
    "start": "991040",
    "end": "992959"
  },
  {
    "text": "talking about it for a while We did uh",
    "start": "992959",
    "end": "995839"
  },
  {
    "text": "do a talk on last Kubiccom like it it",
    "start": "995839",
    "end": "999199"
  },
  {
    "text": "went very deep dive on it So if you are",
    "start": "999199",
    "end": "1001759"
  },
  {
    "text": "interested please take a look at the",
    "start": "1001759",
    "end": "1003360"
  },
  {
    "text": "talk Uh the partition compactor mostly",
    "start": "1003360",
    "end": "1006240"
  },
  {
    "text": "help us with the limitations from cast",
    "start": "1006240",
    "end": "1008320"
  },
  {
    "text": "DB index which is 64 GB and it helps",
    "start": "1008320",
    "end": "1011920"
  },
  {
    "text": "also if you your case has more blocks or",
    "start": "1011920",
    "end": "1014720"
  },
  {
    "text": "bigger blocks to speed up compaction Uh",
    "start": "1014720",
    "end": "1017519"
  },
  {
    "text": "that was problems for us that we added",
    "start": "1017519",
    "end": "1020240"
  },
  {
    "text": "Another uh feature that we are working",
    "start": "1020240",
    "end": "1022880"
  },
  {
    "text": "on recently not recently but we already",
    "start": "1022880",
    "end": "1024798"
  },
  {
    "text": "have for a while is OTLP uh",
    "start": "1024799",
    "end": "1027798"
  },
  {
    "text": "compatibility uh we already had it for",
    "start": "1027799",
    "end": "1030720"
  },
  {
    "text": "cortex but we are still working in",
    "start": "1030720",
    "end": "1033038"
  },
  {
    "text": "improving in adding more uh",
    "start": "1033039",
    "end": "1035079"
  },
  {
    "text": "functionalities One of them is the max",
    "start": "1035079",
    "end": "1038480"
  },
  {
    "text": "uh request size limit uh that was added",
    "start": "1038480",
    "end": "1041360"
  },
  {
    "text": "to prevent for example out of memory",
    "start": "1041360",
    "end": "1043600"
  },
  {
    "text": "metric and out of memory uh",
    "start": "1043600",
    "end": "1045880"
  },
  {
    "text": "issues Um we are also trying to be as",
    "start": "1045880",
    "end": "1049039"
  },
  {
    "text": "consistent as possible with Prometheus",
    "start": "1049039",
    "end": "1050960"
  },
  {
    "text": "OTLP uh compatibility So we also added",
    "start": "1050960",
    "end": "1054960"
  },
  {
    "text": "the target infometrics by default And we",
    "start": "1054960",
    "end": "1058320"
  },
  {
    "text": "added u a new proposal that was uh",
    "start": "1058320",
    "end": "1061200"
  },
  {
    "text": "passed on Prometheus and was already",
    "start": "1061200",
    "end": "1063200"
  },
  {
    "text": "implemented Prometheus which is called a",
    "start": "1063200",
    "end": "1065679"
  },
  {
    "text": "fun a configuration called promote",
    "start": "1065679",
    "end": "1068000"
  },
  {
    "text": "resource attributes That configuration",
    "start": "1068000",
    "end": "1070640"
  },
  {
    "text": "allows you to add custom labels for your",
    "start": "1070640",
    "end": "1073120"
  },
  {
    "text": "metrics That helps a lot in OTLP cases",
    "start": "1073120",
    "end": "1075760"
  },
  {
    "text": "because sometimes you want to add a",
    "start": "1075760",
    "end": "1077600"
  },
  {
    "text": "different label for querying or for uh",
    "start": "1077600",
    "end": "1081120"
  },
  {
    "text": "aggregating the data For example you can",
    "start": "1081120",
    "end": "1084160"
  },
  {
    "text": "use the labels from target info to do",
    "start": "1084160",
    "end": "1086840"
  },
  {
    "text": "that Um the other part that we are",
    "start": "1086840",
    "end": "1090240"
  },
  {
    "text": "currently looking a lot on it is",
    "start": "1090240",
    "end": "1092960"
  },
  {
    "text": "injection optimizations focus on CPU and",
    "start": "1092960",
    "end": "1096080"
  },
  {
    "text": "memory Um one thing that we added as",
    "start": "1096080",
    "end": "1098960"
  },
  {
    "text": "experimental for 19 is something that we",
    "start": "1098960",
    "end": "1101760"
  },
  {
    "text": "call push workers uh credits for gRPC",
    "start": "1101760",
    "end": "1105039"
  },
  {
    "text": "they actually were looking at to that",
    "start": "1105039",
    "end": "1106880"
  },
  {
    "text": "and we are getting the idea implementing",
    "start": "1106880",
    "end": "1109320"
  },
  {
    "text": "cortex basically the idea for push",
    "start": "1109320",
    "end": "1111679"
  },
  {
    "text": "workers if you look at the p profit",
    "start": "1111679",
    "end": "1113280"
  },
  {
    "text": "there we have a place called new stacks",
    "start": "1113280",
    "end": "1116160"
  },
  {
    "text": "and what's happening there is like when",
    "start": "1116160",
    "end": "1117919"
  },
  {
    "text": "we al when we create new go routines we",
    "start": "1117919",
    "end": "1120720"
  },
  {
    "text": "have this new stack and that burdens so",
    "start": "1120720",
    "end": "1124320"
  },
  {
    "text": "what we added we added a workers pool",
    "start": "1124320",
    "end": "1127120"
  },
  {
    "text": "for managing go routines so instead of",
    "start": "1127120",
    "end": "1129360"
  },
  {
    "text": "creating new go routines every time if",
    "start": "1129360",
    "end": "1131679"
  },
  {
    "text": "we have in the working we reuse them",
    "start": "1131679",
    "end": "1134320"
  },
  {
    "text": "avoiding these new stack to be creating",
    "start": "1134320",
    "end": "1137600"
  },
  {
    "text": "every time Uh in our in some use cases",
    "start": "1137600",
    "end": "1140880"
  },
  {
    "text": "not all but we are seeing improvements",
    "start": "1140880",
    "end": "1142960"
  },
  {
    "text": "up to 20% of CPU only gestures which is",
    "start": "1142960",
    "end": "1145919"
  },
  {
    "text": "pretty good Uh so if you guys have",
    "start": "1145919",
    "end": "1148720"
  },
  {
    "text": "problems uh with CPU sometimes take a",
    "start": "1148720",
    "end": "1151440"
  },
  {
    "text": "look try to try to enable this and see",
    "start": "1151440",
    "end": "1153760"
  },
  {
    "text": "how it goes Let us",
    "start": "1153760",
    "end": "1156120"
  },
  {
    "text": "know Another is another another uh",
    "start": "1156120",
    "end": "1158720"
  },
  {
    "text": "improvement uh enhancement that we did",
    "start": "1158720",
    "end": "1161039"
  },
  {
    "text": "it for ingestion uh",
    "start": "1161039",
    "end": "1163640"
  },
  {
    "text": "optimizations focus on CPU again is",
    "start": "1163640",
    "end": "1166559"
  },
  {
    "text": "expanding posting cache that's something",
    "start": "1166559",
    "end": "1168880"
  },
  {
    "text": "that was already added in star gateway I",
    "start": "1168880",
    "end": "1170880"
  },
  {
    "text": "don't know if you guys are familiar but",
    "start": "1170880",
    "end": "1172640"
  },
  {
    "text": "the idea is instead of caching the",
    "start": "1172640",
    "end": "1174640"
  },
  {
    "text": "result of our query we catch the",
    "start": "1174640",
    "end": "1177039"
  },
  {
    "text": "postings of the query so instead of",
    "start": "1177039",
    "end": "1179600"
  },
  {
    "text": "receiving all the response from the",
    "start": "1179600",
    "end": "1181520"
  },
  {
    "text": "query we basically get the query and see",
    "start": "1181520",
    "end": "1183840"
  },
  {
    "text": "which postings are going to be related",
    "start": "1183840",
    "end": "1185120"
  },
  {
    "text": "to that query the idea here is because",
    "start": "1185120",
    "end": "1187520"
  },
  {
    "text": "some of the queries are very complex and",
    "start": "1187520",
    "end": "1189600"
  },
  {
    "text": "very burdening on CPU when they are",
    "start": "1189600",
    "end": "1191919"
  },
  {
    "text": "loading a lot of postings or when",
    "start": "1191919",
    "end": "1195120"
  },
  {
    "text": "there's a rejects that are want to match",
    "start": "1195120",
    "end": "1197200"
  },
  {
    "text": "for a lot of postings Uh for storyated",
    "start": "1197200",
    "end": "1200160"
  },
  {
    "text": "that was easier just because we don't",
    "start": "1200160",
    "end": "1202400"
  },
  {
    "text": "have the head block for inesture that",
    "start": "1202400",
    "end": "1204720"
  },
  {
    "text": "was a little bit more complex because we",
    "start": "1204720",
    "end": "1206640"
  },
  {
    "text": "had to add some invalid uh cache for",
    "start": "1206640",
    "end": "1209679"
  },
  {
    "text": "that If we if we just added that to the",
    "start": "1209679",
    "end": "1212320"
  },
  {
    "text": "inesture we could have wrong data So",
    "start": "1212320",
    "end": "1214960"
  },
  {
    "text": "what we did is every time that we",
    "start": "1214960",
    "end": "1216720"
  },
  {
    "text": "receive a new sample that matches a",
    "start": "1216720",
    "end": "1219440"
  },
  {
    "text": "posting we invalid the cache for that",
    "start": "1219440",
    "end": "1221520"
  },
  {
    "text": "posting So it's not as good as store",
    "start": "1221520",
    "end": "1223360"
  },
  {
    "text": "gateway but it also helps a lot Uh",
    "start": "1223360",
    "end": "1226080"
  },
  {
    "text": "there's a lot of graphs here but if you",
    "start": "1226080",
    "end": "1227760"
  },
  {
    "text": "look at the first one on the right for",
    "start": "1227760",
    "end": "1231200"
  },
  {
    "text": "left for guys uh you can see the",
    "start": "1231200",
    "end": "1233200"
  },
  {
    "text": "difference on CPU usage We also see",
    "start": "1233200",
    "end": "1235360"
  },
  {
    "text": "improvement around 20% when we enable",
    "start": "1235360",
    "end": "1237360"
  },
  {
    "text": "this Uh so it's another thing that you",
    "start": "1237360",
    "end": "1239520"
  },
  {
    "text": "can try and see how it goes It really",
    "start": "1239520",
    "end": "1241760"
  },
  {
    "text": "depends on the type of queries that you",
    "start": "1241760",
    "end": "1243440"
  },
  {
    "text": "have If you have a lot of reject queries",
    "start": "1243440",
    "end": "1245280"
  },
  {
    "text": "that can help a",
    "start": "1245280",
    "end": "1247919"
  },
  {
    "text": "lot Um another part of the code that we",
    "start": "1248840",
    "end": "1252159"
  },
  {
    "text": "are looking a lot uh is scaling cortex",
    "start": "1252159",
    "end": "1255840"
  },
  {
    "text": "and a lot of focus on in gesture itself",
    "start": "1255840",
    "end": "1259120"
  },
  {
    "text": "As you look at for the demo from tally",
    "start": "1259120",
    "end": "1261760"
  },
  {
    "text": "scaling up in gestures is pretty easy",
    "start": "1261760",
    "end": "1263679"
  },
  {
    "text": "like we just enable it goes to the ring",
    "start": "1263679",
    "end": "1265840"
  },
  {
    "text": "and that's it It works Scaling down is a",
    "start": "1265840",
    "end": "1268240"
  },
  {
    "text": "little bit more complex just because the",
    "start": "1268240",
    "end": "1270400"
  },
  {
    "text": "in gesture for us is the hard uh data",
    "start": "1270400",
    "end": "1273679"
  },
  {
    "text": "layer So if we just scale down in",
    "start": "1273679",
    "end": "1275840"
  },
  {
    "text": "gestures we are basically have",
    "start": "1275840",
    "end": "1277440"
  },
  {
    "text": "opportunities not opportunities we can",
    "start": "1277440",
    "end": "1279520"
  },
  {
    "text": "have issues about losing data",
    "start": "1279520",
    "end": "1281520"
  },
  {
    "text": "temporarily or permanently depends on",
    "start": "1281520",
    "end": "1283360"
  },
  {
    "text": "how we configure your context We do have",
    "start": "1283360",
    "end": "1285600"
  },
  {
    "text": "flags on configuration to avoid that The",
    "start": "1285600",
    "end": "1287919"
  },
  {
    "text": "problem is that those flags can also",
    "start": "1287919",
    "end": "1289679"
  },
  {
    "text": "cause um query performance issues for",
    "start": "1289679",
    "end": "1292960"
  },
  {
    "text": "example high latency So what we did it",
    "start": "1292960",
    "end": "1295840"
  },
  {
    "text": "was we added a new state for in gestures",
    "start": "1295840",
    "end": "1298559"
  },
  {
    "text": "for the ring itself it's called read",
    "start": "1298559",
    "end": "1300159"
  },
  {
    "text": "only but basically in gestures use it Um",
    "start": "1300159",
    "end": "1302960"
  },
  {
    "text": "the idea is uh if you have a new read",
    "start": "1302960",
    "end": "1305919"
  },
  {
    "text": "only gesture it's still active on the",
    "start": "1305919",
    "end": "1309520"
  },
  {
    "text": "ring is still visible for everybody but",
    "start": "1309520",
    "end": "1312159"
  },
  {
    "text": "it's not receiving any information So if",
    "start": "1312159",
    "end": "1314320"
  },
  {
    "text": "you look at the first graph there I have",
    "start": "1314320",
    "end": "1316240"
  },
  {
    "text": "some red lines The first one is setting",
    "start": "1316240",
    "end": "1318640"
  },
  {
    "text": "the inest only and you can look in the",
    "start": "1318640",
    "end": "1321280"
  },
  {
    "text": "second um the second matrix uh below it",
    "start": "1321280",
    "end": "1325600"
  },
  {
    "text": "which is basically shows the push",
    "start": "1325600",
    "end": "1327840"
  },
  {
    "text": "requests for those in gestures going to",
    "start": "1327840",
    "end": "1329840"
  },
  {
    "text": "zero So the idea is the data is not",
    "start": "1329840",
    "end": "1332480"
  },
  {
    "text": "going to inest anymore but the data is",
    "start": "1332480",
    "end": "1334799"
  },
  {
    "text": "being still being queried from in",
    "start": "1334799",
    "end": "1336159"
  },
  {
    "text": "gesture So if you look at the the metric",
    "start": "1336159",
    "end": "1338240"
  },
  {
    "text": "on the side you can still see that the",
    "start": "1338240",
    "end": "1339679"
  },
  {
    "text": "query request is maintains the same but",
    "start": "1339679",
    "end": "1341760"
  },
  {
    "text": "the push request drops So with that and",
    "start": "1341760",
    "end": "1345280"
  },
  {
    "text": "additionally we also add a new API on in",
    "start": "1345280",
    "end": "1347760"
  },
  {
    "text": "gestures which is basically to get",
    "start": "1347760",
    "end": "1349600"
  },
  {
    "text": "statistics from in gestures The API",
    "start": "1349600",
    "end": "1352000"
  },
  {
    "text": "basically tells you if there is any",
    "start": "1352000",
    "end": "1354000"
  },
  {
    "text": "blocks loaded on gestures So if with if",
    "start": "1354000",
    "end": "1356640"
  },
  {
    "text": "these were the only in the API we can",
    "start": "1356640",
    "end": "1358720"
  },
  {
    "text": "safely assume when we stop receiving",
    "start": "1358720",
    "end": "1361280"
  },
  {
    "text": "data We can safely assume when we don't",
    "start": "1361280",
    "end": "1363360"
  },
  {
    "text": "have any more blocks on in gestures and",
    "start": "1363360",
    "end": "1365600"
  },
  {
    "text": "then we can scale down gestures because",
    "start": "1365600",
    "end": "1367280"
  },
  {
    "text": "on that time we don't have any more",
    "start": "1367280",
    "end": "1369360"
  },
  {
    "text": "information to query on on those in",
    "start": "1369360",
    "end": "1371120"
  },
  {
    "text": "gestures",
    "start": "1371120",
    "end": "1373840"
  },
  {
    "text": "Um another thing that we improved uh on",
    "start": "1373840",
    "end": "1376960"
  },
  {
    "text": "the release is 1.19 for those that use",
    "start": "1376960",
    "end": "1380320"
  },
  {
    "text": "HA uh on Cortex which is a feature for",
    "start": "1380320",
    "end": "1382919"
  },
  {
    "text": "Cortex",
    "start": "1382919",
    "end": "1384600"
  },
  {
    "text": "uh previously um we only accepted one HA",
    "start": "1384600",
    "end": "1389360"
  },
  {
    "text": "pair by request So if we have a request",
    "start": "1389360",
    "end": "1392080"
  },
  {
    "text": "with a different samples but uh",
    "start": "1392080",
    "end": "1394799"
  },
  {
    "text": "different HA samples HA pairs we",
    "start": "1394799",
    "end": "1399120"
  },
  {
    "text": "basically would get the first one and",
    "start": "1399120",
    "end": "1401280"
  },
  {
    "text": "ignore the rest So it doesn't work and",
    "start": "1401280",
    "end": "1403679"
  },
  {
    "text": "how you prevent that is basically",
    "start": "1403679",
    "end": "1405679"
  },
  {
    "text": "creating different requests which is not",
    "start": "1405679",
    "end": "1407640"
  },
  {
    "text": "ideal So right now we have experimential",
    "start": "1407640",
    "end": "1410320"
  },
  {
    "text": "flag that you can enable which allows us",
    "start": "1410320",
    "end": "1412880"
  },
  {
    "text": "to have mixed HA pairs Uh so the idea is",
    "start": "1412880",
    "end": "1417120"
  },
  {
    "text": "we look in the request for at each ha",
    "start": "1417120",
    "end": "1419840"
  },
  {
    "text": "pair for each sample and then you don't",
    "start": "1419840",
    "end": "1421760"
  },
  {
    "text": "need to create a bunch of requests",
    "start": "1421760",
    "end": "1423280"
  },
  {
    "text": "That's was something that was annoying",
    "start": "1423280",
    "end": "1424559"
  },
  {
    "text": "for for users",
    "start": "1424559",
    "end": "1426280"
  },
  {
    "text": "sometimes So now what's we are currently",
    "start": "1426280",
    "end": "1429679"
  },
  {
    "text": "working on and what we are trying to",
    "start": "1429679",
    "end": "1431679"
  },
  {
    "text": "release the next next versions Um we are",
    "start": "1431679",
    "end": "1435360"
  },
  {
    "text": "still working on the OTLP compatibility",
    "start": "1435360",
    "end": "1438320"
  },
  {
    "text": "We already have OTP but we got merged",
    "start": "1438320",
    "end": "1440960"
  },
  {
    "text": "the OTLP metadata conversion So now we",
    "start": "1440960",
    "end": "1443440"
  },
  {
    "text": "convert LTLP metadata also and that was",
    "start": "1443440",
    "end": "1446480"
  },
  {
    "text": "already emerged so it's probably going",
    "start": "1446480",
    "end": "1447919"
  },
  {
    "text": "to come in the next version of",
    "start": "1447919",
    "end": "1450360"
  },
  {
    "text": "Cortex Uh continue with the improvements",
    "start": "1450360",
    "end": "1453200"
  },
  {
    "text": "we are also working on another",
    "start": "1453200",
    "end": "1454799"
  },
  {
    "text": "improvement for inest CPU Uh the idea in",
    "start": "1454799",
    "end": "1457919"
  },
  {
    "text": "this one is instead of creating",
    "start": "1457919",
    "end": "1460240"
  },
  {
    "text": "connections every time we open a stream",
    "start": "1460240",
    "end": "1462640"
  },
  {
    "text": "connection to between distributed in",
    "start": "1462640",
    "end": "1464480"
  },
  {
    "text": "gestures and we leave it open we have a",
    "start": "1464480",
    "end": "1468240"
  },
  {
    "text": "keep alive for that stream connection",
    "start": "1468240",
    "end": "1469840"
  },
  {
    "text": "and then we don't have the burden to",
    "start": "1469840",
    "end": "1471360"
  },
  {
    "text": "create connections to to manage",
    "start": "1471360",
    "end": "1472880"
  },
  {
    "text": "connections that have time um from our",
    "start": "1472880",
    "end": "1475200"
  },
  {
    "text": "tests again we are seeing a 10% CPU",
    "start": "1475200",
    "end": "1477520"
  },
  {
    "text": "improvement this one is still open we",
    "start": "1477520",
    "end": "1479679"
  },
  {
    "text": "are still having discussion about it uh",
    "start": "1479679",
    "end": "1481600"
  },
  {
    "text": "so if you are interested go take a look",
    "start": "1481600",
    "end": "1483679"
  },
  {
    "text": "at at the",
    "start": "1483679",
    "end": "1484840"
  },
  {
    "text": "PR uh another big topic for us is native",
    "start": "1484840",
    "end": "1488480"
  },
  {
    "text": "histograms we already support native",
    "start": "1488480",
    "end": "1490400"
  },
  {
    "text": "histograms in gestures in in cortex uh",
    "start": "1490400",
    "end": "1493200"
  },
  {
    "text": "but we were missing the custom buckets",
    "start": "1493200",
    "end": "1494960"
  },
  {
    "text": "native histogram and that's something",
    "start": "1494960",
    "end": "1496559"
  },
  {
    "text": "that we are working right now uh and",
    "start": "1496559",
    "end": "1498480"
  },
  {
    "text": "it's going to be coming in the next",
    "start": "1498480",
    "end": "1500320"
  },
  {
    "text": "features in the next versions and lately",
    "start": "1500320",
    "end": "1503840"
  },
  {
    "text": "uh the big topic which is Prometheus 3.0",
    "start": "1503840",
    "end": "1507120"
  },
  {
    "text": "so how we are doing on that we are",
    "start": "1507120",
    "end": "1508880"
  },
  {
    "text": "actually talking a lot internally about",
    "start": "1508880",
    "end": "1511120"
  },
  {
    "text": "it we are trying to support more and",
    "start": "1511120",
    "end": "1513039"
  },
  {
    "text": "more Profus 3.0 So we have a PR open for",
    "start": "1513039",
    "end": "1516159"
  },
  {
    "text": "the remote write v2 part of it per it",
    "start": "1516159",
    "end": "1519760"
  },
  {
    "text": "brings the headers the new headers that",
    "start": "1519760",
    "end": "1521600"
  },
  {
    "text": "prom the remote v2 has and it also bring",
    "start": "1521600",
    "end": "1525120"
  },
  {
    "text": "the string internally which also is",
    "start": "1525120",
    "end": "1526960"
  },
  {
    "text": "going to help with the CPU performance",
    "start": "1526960",
    "end": "1528400"
  },
  {
    "text": "for in gestures Um so if something that",
    "start": "1528400",
    "end": "1531520"
  },
  {
    "text": "you are interested we are having",
    "start": "1531520",
    "end": "1532880"
  },
  {
    "text": "discussions discussing how to implement",
    "start": "1532880",
    "end": "1534720"
  },
  {
    "text": "that in",
    "start": "1534720",
    "end": "1535720"
  },
  {
    "text": "cortex Um that's it for me I'm going to",
    "start": "1535720",
    "end": "1538240"
  },
  {
    "text": "pass for Frederick for the road map",
    "start": "1538240",
    "end": "1542600"
  },
  {
    "text": "Um thank you Daniels for the amazing",
    "start": "1542880",
    "end": "1546600"
  },
  {
    "text": "updates Um it's been uh it's been an",
    "start": "1546600",
    "end": "1550480"
  },
  {
    "text": "honor for me to uh work uh for Cortex",
    "start": "1550480",
    "end": "1553360"
  },
  {
    "text": "for a number of years I started as a",
    "start": "1553360",
    "end": "1555760"
  },
  {
    "text": "user um then became contributor um and",
    "start": "1555760",
    "end": "1559840"
  },
  {
    "text": "then became maintainer and well now I'm",
    "start": "1559840",
    "end": "1562159"
  },
  {
    "text": "here talking to you about the project Um",
    "start": "1562159",
    "end": "1565279"
  },
  {
    "text": "so well and what I talk want to talk to",
    "start": "1565279",
    "end": "1568159"
  },
  {
    "text": "you about is we have a number of users a",
    "start": "1568159",
    "end": "1570720"
  },
  {
    "text": "number of companies um pretty large",
    "start": "1570720",
    "end": "1573039"
  },
  {
    "text": "using um and we need to organize to get",
    "start": "1573039",
    "end": "1576480"
  },
  {
    "text": "the project um in a road map that is uh",
    "start": "1576480",
    "end": "1579840"
  },
  {
    "text": "cohesive right and this is uh what we've",
    "start": "1579840",
    "end": "1582320"
  },
  {
    "text": "decided is that we we have this uh",
    "start": "1582320",
    "end": "1584960"
  },
  {
    "text": "feature of GitHub that we're going to be",
    "start": "1584960",
    "end": "1586640"
  },
  {
    "text": "using to handle the the projects looking",
    "start": "1586640",
    "end": "1589360"
  },
  {
    "text": "forward and we have organized all the",
    "start": "1589360",
    "end": "1592720"
  },
  {
    "text": "features in this um in in these buckets",
    "start": "1592720",
    "end": "1596159"
  },
  {
    "text": "Um I'm going to talk to you about one",
    "start": "1596159",
    "end": "1598720"
  },
  {
    "text": "specific one uh that has been long uh",
    "start": "1598720",
    "end": "1601360"
  },
  {
    "text": "coming and is the one about the",
    "start": "1601360",
    "end": "1603600"
  },
  {
    "text": "graduation",
    "start": "1603600",
    "end": "1605240"
  },
  {
    "text": "Um the graduation um of Cortex means for",
    "start": "1605240",
    "end": "1609440"
  },
  {
    "text": "us um uh a milestone It's not the",
    "start": "1609440",
    "end": "1612960"
  },
  {
    "text": "endline Uh we have even more things to",
    "start": "1612960",
    "end": "1615360"
  },
  {
    "text": "do but we we think the graduation is",
    "start": "1615360",
    "end": "1618400"
  },
  {
    "text": "what we need to do be doing next Um",
    "start": "1618400",
    "end": "1621600"
  },
  {
    "text": "there's many adopters of Cortex public",
    "start": "1621600",
    "end": "1625200"
  },
  {
    "text": "and private Um and uh so we think we uh",
    "start": "1625200",
    "end": "1629679"
  },
  {
    "text": "will fulfill um all the requirements Um",
    "start": "1629679",
    "end": "1633039"
  },
  {
    "text": "the things that we're going to be",
    "start": "1633039",
    "end": "1634240"
  },
  {
    "text": "working on that that we are missing over",
    "start": "1634240",
    "end": "1636559"
  },
  {
    "text": "the course of this year is the third",
    "start": "1636559",
    "end": "1639200"
  },
  {
    "text": "party um security review and also uh",
    "start": "1639200",
    "end": "1643279"
  },
  {
    "text": "document the road map uh change process",
    "start": "1643279",
    "end": "1646320"
  },
  {
    "text": "um so that uh we have uh a more",
    "start": "1646320",
    "end": "1649279"
  },
  {
    "text": "inclusive governance um also in the",
    "start": "1649279",
    "end": "1652000"
  },
  {
    "text": "release management we need to finalize",
    "start": "1652000",
    "end": "1654559"
  },
  {
    "text": "some details um and um that's all I have",
    "start": "1654559",
    "end": "1660480"
  },
  {
    "text": "um we're moving moving into questions Um",
    "start": "1660480",
    "end": "1664640"
  },
  {
    "text": "um thank you for being here Thank you",
    "start": "1664640",
    "end": "1667200"
  },
  {
    "text": "for listening Um thank you for",
    "start": "1667200",
    "end": "1669120"
  },
  {
    "text": "contributing to Cortex Um thank you for",
    "start": "1669120",
    "end": "1671600"
  },
  {
    "text": "your next questions",
    "start": "1671600",
    "end": "1674600"
  },
  {
    "text": "[Applause]",
    "start": "1674600",
    "end": "1679630"
  },
  {
    "text": "I think we have a few minutes",
    "start": "1679760",
    "end": "1682399"
  },
  {
    "text": "Yeah I think let me check Couple of",
    "start": "1682399",
    "end": "1684320"
  },
  {
    "text": "minutes Yes we have like Yeah seven",
    "start": "1684320",
    "end": "1687760"
  },
  {
    "text": "eight minutes Two minutes Okay Okay Two",
    "start": "1687760",
    "end": "1690240"
  },
  {
    "text": "minutes Okay Anybody has questions",
    "start": "1690240",
    "end": "1692960"
  },
  {
    "text": "anybody has",
    "start": "1692960",
    "end": "1695240"
  },
  {
    "text": "questions this the mic if not okay All",
    "start": "1695240",
    "end": "1698480"
  },
  {
    "text": "right All right Hey",
    "start": "1698480",
    "end": "1701720"
  },
  {
    "text": "Um is there any discussion in cortex to",
    "start": "1701720",
    "end": "1706480"
  },
  {
    "text": "um I say the the storage layers that",
    "start": "1706480",
    "end": "1709760"
  },
  {
    "text": "cost storage is like S3 or or GCS and so",
    "start": "1709760",
    "end": "1713120"
  },
  {
    "text": "on Um is there any discussion to",
    "start": "1713120",
    "end": "1715600"
  },
  {
    "text": "consider as inestion to analytic storage",
    "start": "1715600",
    "end": "1720120"
  },
  {
    "text": "um no At this point no we don't have an",
    "start": "1720120",
    "end": "1723279"
  },
  {
    "text": "issue for that No nobody has Um that's",
    "start": "1723279",
    "end": "1726799"
  },
  {
    "text": "the first time I hear that but uh you're",
    "start": "1726799",
    "end": "1729200"
  },
  {
    "text": "welcome to create an issue What's",
    "start": "1729200",
    "end": "1730960"
  },
  {
    "text": "typically happen is you don't know that",
    "start": "1730960",
    "end": "1734320"
  },
  {
    "text": "is other people in the community wanting",
    "start": "1734320",
    "end": "1736080"
  },
  {
    "text": "one you want So the first thing I would",
    "start": "1736080",
    "end": "1738080"
  },
  {
    "text": "say I would create the issue Don't don't",
    "start": "1738080",
    "end": "1740480"
  },
  {
    "text": "just ask the questions if you if you're",
    "start": "1740480",
    "end": "1742880"
  },
  {
    "text": "interested Yeah Yeah Go ahead Yeah",
    "start": "1742880",
    "end": "1747559"
  },
  {
    "text": "Any other questions daniel do you want",
    "start": "1752480",
    "end": "1754559"
  },
  {
    "text": "to talk about the issues that exist the",
    "start": "1754559",
    "end": "1757840"
  },
  {
    "text": "last thing that I'll add is that if you",
    "start": "1757840",
    "end": "1760080"
  },
  {
    "text": "are eager to contribute you are all",
    "start": "1760080",
    "end": "1761679"
  },
  {
    "text": "invited to check out our GitHub project",
    "start": "1761679",
    "end": "1763520"
  },
  {
    "text": "github.com cortex",
    "start": "1763520",
    "end": "1765720"
  },
  {
    "text": "project/cortex Um there are a lot of",
    "start": "1765720",
    "end": "1767760"
  },
  {
    "text": "issues and you can check out the good",
    "start": "1767760",
    "end": "1769760"
  },
  {
    "text": "first issue label You can filter by",
    "start": "1769760",
    "end": "1771840"
  },
  {
    "text": "those check those out Um we're happy to",
    "start": "1771840",
    "end": "1774000"
  },
  {
    "text": "have your contributions",
    "start": "1774000",
    "end": "1775840"
  },
  {
    "text": "Thanks again for being",
    "start": "1775840",
    "end": "1778039"
  },
  {
    "text": "here Thank you",
    "start": "1778039",
    "end": "1781679"
  }
]