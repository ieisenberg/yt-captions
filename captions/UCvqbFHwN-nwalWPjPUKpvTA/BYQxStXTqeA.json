[
  {
    "text": "all right welcome everyone and I hope you've had a great kubecon so far I",
    "start": "11120",
    "end": "16440"
  },
  {
    "text": "guess it will be kind of one of the last talks you will attend and I hope it will be fine and not that boring as well",
    "start": "16440",
    "end": "22140"
  },
  {
    "text": "um so what I will go through today is seek instrumentation uh and a quick introduction and a deep dive as well as",
    "start": "22140",
    "end": "28140"
  },
  {
    "text": "kind of an update about our group um and who am I to to presenting",
    "start": "28140",
    "end": "33719"
  },
  {
    "text": "instrumentation so I'm Deborah grizone um I'm a software engineer for Reddit",
    "start": "33719",
    "end": "38899"
  },
  {
    "text": "and I'm also the kubernetes instrumentation technique or at least one of the two tech leads of the group",
    "start": "38899",
    "end": "45920"
  },
  {
    "text": "and I also maintain projects such as cube State metric metric server and",
    "start": "45920",
    "end": "51360"
  },
  {
    "text": "parameters adapter that you may know and you can reach out to me on this",
    "start": "51360",
    "end": "56399"
  },
  {
    "text": "available or LinkedIn um you know my handles um and so like",
    "start": "56399",
    "end": "62399"
  },
  {
    "text": "um I don't know how much you are aware about six in general and singing instrumentation as well so I will go",
    "start": "62399",
    "end": "68880"
  },
  {
    "text": "through what is this again what we are doing in C instrumentation what are the",
    "start": "68880",
    "end": "74100"
  },
  {
    "text": "sub project that we own the different signals that we own as well as part of",
    "start": "74100",
    "end": "79740"
  },
  {
    "text": "our group how you could help us and contribute and where then you can find us and just chat",
    "start": "79740",
    "end": "87659"
  },
  {
    "text": "about anything really so what do we do so is Sig in kubernetes",
    "start": "87659",
    "end": "93960"
  },
  {
    "text": "is a group that has a definite task and a definite area of expertise in our case",
    "start": "93960",
    "end": "100380"
  },
  {
    "text": "we have a charter that tells us that we have to cover the best practices for cluster observability across all the",
    "start": "100380",
    "end": "106320"
  },
  {
    "text": "kubernetes component and develop the relevant components that we need in",
    "start": "106320",
    "end": "112320"
  },
  {
    "text": "order to spread those practices so we don't own the signals as such so we",
    "start": "112320",
    "end": "118619"
  },
  {
    "text": "don't own Matrix for all the components but what we own is the libraries that we then provide to the different developers",
    "start": "118619",
    "end": "125579"
  },
  {
    "text": "to help them improve their signal and build a better obserability as a whole",
    "start": "125579",
    "end": "132200"
  },
  {
    "text": "so to do that we first have our sub project that we also support maintain",
    "start": "132200",
    "end": "139520"
  },
  {
    "text": "as well as kind of oversee so er like",
    "start": "139520",
    "end": "146280"
  },
  {
    "text": "the three main ones I would say cubesat metric uh State metric is to get any kind of",
    "start": "146280",
    "end": "154379"
  },
  {
    "text": "metrics about your kubernetes resources klog is the logging library that we use",
    "start": "154379",
    "end": "160319"
  },
  {
    "text": "to produce any kind of logging kubernetes and metrics of it is what you would use for auto scaling and we have many more I",
    "start": "160319",
    "end": "168420"
  },
  {
    "text": "will go a bit more in through the details of a couple of them later but that's what we do as part of our sub",
    "start": "168420",
    "end": "174360"
  },
  {
    "text": "projects and then the various signals that you can see on the daily basis in",
    "start": "174360",
    "end": "179519"
  },
  {
    "text": "obserability uh we try to cover metrics in kubernetes as well as logging and",
    "start": "179519",
    "end": "185700"
  },
  {
    "text": "events events are some kind of logs a bit more structure we could say and in",
    "start": "185700",
    "end": "190920"
  },
  {
    "text": "logging like we nowadays do more on structured logging as well as contextual",
    "start": "190920",
    "end": "196260"
  },
  {
    "text": "logging because we've noticed that well producing a lot of logs that cannot be",
    "start": "196260",
    "end": "201599"
  },
  {
    "text": "aggregated isn't that useful to our end users so we've invested into that as",
    "start": "201599",
    "end": "206819"
  },
  {
    "text": "well as like we are seeing more and more tracing around these days and it helps a",
    "start": "206819",
    "end": "212340"
  },
  {
    "text": "lot when we are developing such a big project that is kubernetes that's what",
    "start": "212340",
    "end": "218159"
  },
  {
    "text": "we invest into uh and how do we do it so we have multiple sessions you know so bi-weekly",
    "start": "218159",
    "end": "226080"
  },
  {
    "text": "that we where we try Edge uh and try to fix the relevant see instrumentation issues uh so triaging means that uh",
    "start": "226080",
    "end": "234480"
  },
  {
    "text": "every two weeks we'll go through all the issues all the PRS and make sure that we have at least an assignee or someone to",
    "start": "234480",
    "end": "240720"
  },
  {
    "text": "look after it and make sure that at some point it will be addressed we also review most of the changes made",
    "start": "240720",
    "end": "248220"
  },
  {
    "text": "to metrics I will go later on but how how we manage metrics in kubernetes but",
    "start": "248220",
    "end": "254879"
  },
  {
    "text": "we tend to review most of the changes that are made to it in order to make sure that best practices are enforced as",
    "start": "254879",
    "end": "261060"
  },
  {
    "text": "well as the quality of the metrics is there as well we also develop new features and",
    "start": "261060",
    "end": "267180"
  },
  {
    "text": "announcements there is a process in kubernetes in general that is called the the caps and we go through this same",
    "start": "267180",
    "end": "275280"
  },
  {
    "text": "process in order to make any kind of improvements as I mentioned before we maintenance support the projects",
    "start": "275280",
    "end": "281600"
  },
  {
    "text": "and as of a couple of months ago like we used to do a mentoring kind of uh on the",
    "start": "281600",
    "end": "288540"
  },
  {
    "text": "per mental basis like each Mentor was trying to help and introduce new people",
    "start": "288540",
    "end": "294180"
  },
  {
    "text": "to the community but now the Sig is kind of trying to create a mentoring program",
    "start": "294180",
    "end": "300139"
  },
  {
    "text": "for now it's only internal or at least like we do it with the contributor that",
    "start": "300139",
    "end": "306180"
  },
  {
    "text": "we've seen joining our meetings but we plan to extend it and allow more",
    "start": "306180",
    "end": "313020"
  },
  {
    "text": "external contributors to also join and learn more about kubernetes and the",
    "start": "313020",
    "end": "318120"
  },
  {
    "text": "difference of projects later on but we are really investing into that because we really need new contributors",
    "start": "318120",
    "end": "324240"
  },
  {
    "text": "these days um and yeah so now that I've kind of tried to present as best as I could what",
    "start": "324240",
    "end": "331560"
  },
  {
    "text": "we do in kubernetes I will try to go a little bit deeper about the sub-project",
    "start": "331560",
    "end": "336720"
  },
  {
    "text": "and to kind of give you an idea of how what asks like how much do we have to",
    "start": "336720",
    "end": "342900"
  },
  {
    "text": "support in kubernetes and do we support and provide to our users um so this three the four ones that I've",
    "start": "342900",
    "end": "349919"
  },
  {
    "text": "chosen to to present today are keep State metric Matrix server properties adapter and a brand new sub project that",
    "start": "349919",
    "end": "356940"
  },
  {
    "text": "we've just uh recently added to our portfolio which is usage Matrix collector",
    "start": "356940",
    "end": "364340"
  },
  {
    "text": "um so Cube State Matrix uh I believe most of the kubernetes users have keep",
    "start": "364560",
    "end": "370500"
  },
  {
    "text": "signature installed in their cluster because that's the main entry point for any kind of like if you really want to",
    "start": "370500",
    "end": "377460"
  },
  {
    "text": "look into what's happening in your kubernetes cluster that's uh the pieces of software that you need",
    "start": "377460",
    "end": "382880"
  },
  {
    "text": "it's a Primitives exporter which means that it's pieces of software that",
    "start": "382880",
    "end": "388500"
  },
  {
    "text": "converts any third-party data into Primitives metrics and in keep State metric case it's the",
    "start": "388500",
    "end": "395660"
  },
  {
    "text": "API objects such as the pods for example and any kind of cluster administrator",
    "start": "395660",
    "end": "402300"
  },
  {
    "text": "wants to know what's happening in their cluster like how many parts they have how many deployments what the state of",
    "start": "402300",
    "end": "408240"
  },
  {
    "text": "these resources and it's not convenient to go through via the command line and search for this resource so we have this",
    "start": "408240",
    "end": "416100"
  },
  {
    "text": "awesome project that allows you to expose metrics out of those and two",
    "start": "416100",
    "end": "422280"
  },
  {
    "text": "examples of the metrics which are Cube deployment spec replica and Cube deployment status replica updated",
    "start": "422280",
    "end": "428639"
  },
  {
    "text": "which allows you to know at any point in time how many replica deployment has and",
    "start": "428639",
    "end": "434639"
  },
  {
    "text": "how many replica were updated which means that if there is a rolling update that fails or something went wrong then",
    "start": "434639",
    "end": "443220"
  },
  {
    "text": "you can directly see it in metrics you can alert on those metrics and really have a better overview of what's",
    "start": "443220",
    "end": "449160"
  },
  {
    "text": "happening in your cluster and how does cubesat metric does that is by watching",
    "start": "449160",
    "end": "454500"
  },
  {
    "text": "constantly the changes made to these resources in the cube API server and",
    "start": "454500",
    "end": "460560"
  },
  {
    "text": "then converting this data into Prometheus metrics and then hopefully",
    "start": "460560",
    "end": "465780"
  },
  {
    "text": "Prometheus will describe these metrics and expose it to the users",
    "start": "465780",
    "end": "472160"
  },
  {
    "text": "another important project that we maintain that also is most likely to be",
    "start": "472220",
    "end": "479400"
  },
  {
    "text": "used in most kubernetes clusters these days is metric server um it's the main",
    "start": "479400",
    "end": "486020"
  },
  {
    "text": "project today for exposing resource metrics",
    "start": "486020",
    "end": "491720"
  },
  {
    "text": "it's what is the source of cubicle top for example so without this piece of",
    "start": "491720",
    "end": "496800"
  },
  {
    "text": "software a similar one that will implement the resource metric API that we kind of support you wouldn't be able",
    "start": "496800",
    "end": "504240"
  },
  {
    "text": "to see anything with skip cattle top and document would be failing and as such it's also like the main source for any",
    "start": "504240",
    "end": "511680"
  },
  {
    "text": "kind of photo scaling based on resources so whenever you create an HPA and set let's say the CPU utilization on your",
    "start": "511680",
    "end": "518580"
  },
  {
    "text": "HPA to 50 then the HPA controller will reach out to your metric server and ask",
    "start": "518580",
    "end": "524399"
  },
  {
    "text": "what's the resource usage of this pod and Matrix server will be able to answer and then the HPA controller will be able",
    "start": "524399",
    "end": "531839"
  },
  {
    "text": "to take a decision on that and auto scale or not your application",
    "start": "531839",
    "end": "537120"
  },
  {
    "text": "uh and how this Matrix ever does that it essentially",
    "start": "537120",
    "end": "542180"
  },
  {
    "text": "acts as an extension of JPI server so whenever there is a software that asks for any of these resource metrics",
    "start": "542180",
    "end": "550200"
  },
  {
    "text": "um the API server will just forward the request to Matrix server and in turn metric server would have grabbed the",
    "start": "550200",
    "end": "557160"
  },
  {
    "text": "Matrix from cubelets and then expose them to the Q API server as if it was",
    "start": "557160",
    "end": "564000"
  },
  {
    "text": "the qbps server that replied to the request another software is pretty similar or as",
    "start": "564000",
    "end": "573120"
  },
  {
    "text": "similar goals but a bit broader is Primitives adapter I mentioned the",
    "start": "573120",
    "end": "578760"
  },
  {
    "text": "resource Matrix API for auto scaling there is also two other resource metrics API that we support as a Sig which are",
    "start": "578760",
    "end": "586920"
  },
  {
    "text": "the Keystone and external one um this one are meant for any kind of",
    "start": "586920",
    "end": "592500"
  },
  {
    "text": "resource not only CPU and memory like metric server would do to Auto scale your application on so for",
    "start": "592500",
    "end": "600959"
  },
  {
    "text": "example if you want to Auto scale your web server based on the traffic you could do that if you want to Auto scale",
    "start": "600959",
    "end": "607680"
  },
  {
    "text": "your web server based on the number of objects in your rapidmq you can also do",
    "start": "607680",
    "end": "613200"
  },
  {
    "text": "that and so Primitives adapter allows for this kind of bigger rich with your auto",
    "start": "613200",
    "end": "619620"
  },
  {
    "text": "scaling solution and it does that but instead of trying",
    "start": "619620",
    "end": "624899"
  },
  {
    "text": "to grab the data from cubelet because cubelet only knows about CPU and memory",
    "start": "624899",
    "end": "630360"
  },
  {
    "text": "it will grab it from Primitives so let's imagine in your parameters backend you",
    "start": "630360",
    "end": "635580"
  },
  {
    "text": "have metrics about your rabbit mq then Primitives adapter will be able to get those metrics and expose them to your",
    "start": "635580",
    "end": "643200"
  },
  {
    "text": "auto scaling solution in kubernetes and then you will be able to skate anything",
    "start": "643200",
    "end": "648240"
  },
  {
    "text": "from that it's kind of similar to what Keda is doing today I don't know if any of you",
    "start": "648240",
    "end": "654600"
  },
  {
    "text": "know scada but it's kind of similar although Kayla supports a way bigger variety of scalers was like",
    "start": "654600",
    "end": "662579"
  },
  {
    "text": "pointerception only supports Prometheus um and another newcomer uh in the line",
    "start": "662579",
    "end": "670620"
  },
  {
    "text": "of the project that we have is usage Matrix collector it's brand new because it was only given to the Sig in January",
    "start": "670620",
    "end": "678480"
  },
  {
    "text": "this year by Apple uh they've been contribute uh like they've been working on this project for quite a while",
    "start": "678480",
    "end": "684540"
  },
  {
    "text": "internally and then they end it over to us and the goal is to have a more optimized",
    "start": "684540",
    "end": "692339"
  },
  {
    "text": "way to collect the resource usage and the capacity metrics inside of a",
    "start": "692339",
    "end": "697860"
  },
  {
    "text": "kubernetes cluster because there are limitations today that prevents you to have high frequency scraping of this",
    "start": "697860",
    "end": "704640"
  },
  {
    "text": "data whereas usage metrics collector now allows you to do it like even at the",
    "start": "704640",
    "end": "709860"
  },
  {
    "text": "second so if you really want to have a capacity planning that is like really",
    "start": "709860",
    "end": "715820"
  },
  {
    "text": "up to date and with fresh data then that's a good tool for that it also",
    "start": "715820",
    "end": "721620"
  },
  {
    "text": "allows for aggregation at collection time so instead of sending a ton of data",
    "start": "721620",
    "end": "728339"
  },
  {
    "text": "to your Primitives instance you can reduce the scope and one good selling point of that",
    "start": "728339",
    "end": "733440"
  },
  {
    "text": "project is that it doesn't require anyone to know about prompt URL which is",
    "start": "733440",
    "end": "738779"
  },
  {
    "text": "one of the big look that we have when we are trying to expose any kind of",
    "start": "738779",
    "end": "743820"
  },
  {
    "text": "software that works with permitters like it's always hard for new users to learn",
    "start": "743820",
    "end": "749820"
  },
  {
    "text": "about fromql um and this project doesn't require that so for example AI showed one",
    "start": "749820",
    "end": "757680"
  },
  {
    "text": "configuration of how you can get the P95 of the CPU and memo utilization uh with",
    "start": "757680",
    "end": "763560"
  },
  {
    "text": "a one second scraping in sampling interval um and as you can see like there is no",
    "start": "763560",
    "end": "769139"
  },
  {
    "text": "problem inside of this configuration although at the end of the day you will have the same uh results meaning that it",
    "start": "769139",
    "end": "778019"
  },
  {
    "text": "will compute the P95 for you without having to do the big complex Primitives query",
    "start": "778019",
    "end": "784620"
  },
  {
    "text": "um and it's it's pretty convenient and pretty easy to use and then you can",
    "start": "784620",
    "end": "790380"
  },
  {
    "text": "expose the P99 directly instead of having to expose like the entire memory or CPU utilization you can just expose",
    "start": "790380",
    "end": "797040"
  },
  {
    "text": "the subset of data you care about and not the entire thing",
    "start": "797040",
    "end": "802459"
  },
  {
    "text": "so then I guess I will go to through the different signals how we handle them",
    "start": "802680",
    "end": "808019"
  },
  {
    "text": "what we provide to the kubernetes developer to better work with them and",
    "start": "808019",
    "end": "813120"
  },
  {
    "text": "improve the quality overall so the metrics for us the Matrix are pretty",
    "start": "813120",
    "end": "819060"
  },
  {
    "text": "simple we have an integration with permitters directly so we expose The",
    "start": "819060",
    "end": "824220"
  },
  {
    "text": "Matrix in a parameters format and then it can be used by any software that can",
    "start": "824220",
    "end": "830040"
  },
  {
    "text": "understand this format to build alerts to build collection to build dashboards whatever",
    "start": "830040",
    "end": "836880"
  },
  {
    "text": "and so the entry point is really the promises format um but the the point that we faced uh",
    "start": "836880",
    "end": "844440"
  },
  {
    "text": "over the years is that well uh it works having a lot of metrics but when you are in such a big project as kubernetes",
    "start": "844440",
    "end": "851180"
  },
  {
    "text": "people tend to change the metrics with uh on their own agenda and we've learned",
    "start": "851180",
    "end": "856860"
  },
  {
    "text": "that you cannot simply rename the Matrix because if you change the name of the metric the metric will cease to exist so",
    "start": "856860",
    "end": "863820"
  },
  {
    "text": "if you have a knowledge that is based on it the alert won't do anything at all once you change it the name of the",
    "start": "863820",
    "end": "869760"
  },
  {
    "text": "metric um so we went through a pretty big metrics overall a couple of years years",
    "start": "869760",
    "end": "876420"
  },
  {
    "text": "ago in order to improve the quality of the metrics and that's how we figure out that well we",
    "start": "876420",
    "end": "883920"
  },
  {
    "text": "cannot just change the name of all the metrics because it will break a lot of users",
    "start": "883920",
    "end": "889019"
  },
  {
    "text": "so in order to be able to do that kind of thing and improve the quality we needed to put something in place to make",
    "start": "889019",
    "end": "895800"
  },
  {
    "text": "sure that we don't break anyone and that's when we decided to create the",
    "start": "895800",
    "end": "901740"
  },
  {
    "text": "metrics framework so the idea was to create a framework on which we could",
    "start": "901740",
    "end": "908040"
  },
  {
    "text": "express a certain level of stability for the metrics and provide guarantees based",
    "start": "908040",
    "end": "913680"
  },
  {
    "text": "on that uh and we also wanted to make sure that there was some automation that would",
    "start": "913680",
    "end": "919560"
  },
  {
    "text": "prevent any users to make breaking changes without a stick instrumentation being aware of it and even new users",
    "start": "919560",
    "end": "926820"
  },
  {
    "text": "being aware of it um so that's what we did and that's what",
    "start": "926820",
    "end": "932279"
  },
  {
    "text": "we provided to most of the developers by creating a brand new library on top of",
    "start": "932279",
    "end": "938399"
  },
  {
    "text": "the promoters one to make that easy for them to use so do stability level kind of changed a",
    "start": "938399",
    "end": "947100"
  },
  {
    "text": "bit over the years we started with only Alpha and stable Alpha meaning that",
    "start": "947100",
    "end": "952199"
  },
  {
    "text": "there is no guarantee at all on your Matrix so we could change the name the",
    "start": "952199",
    "end": "957779"
  },
  {
    "text": "label name as well of your metric at any time we don't we don't bring any",
    "start": "957779",
    "end": "963300"
  },
  {
    "text": "warranty so we can still improve the metric without breaking anyone",
    "start": "963300",
    "end": "968399"
  },
  {
    "text": "and stable meant that well you cannot change the metric at all once it's stable it sets and if you try to modify",
    "start": "968399",
    "end": "976860"
  },
  {
    "text": "it it will break someone so you don't want to do that but we figured out that it wasn't enough and we need a bit more",
    "start": "976860",
    "end": "983639"
  },
  {
    "text": "stability level because going from just uh like no support no guarantees to you",
    "start": "983639",
    "end": "989639"
  },
  {
    "text": "well you cannot change it anymore it's too big of a jump like we needed some levels in between so the one that was",
    "start": "989639",
    "end": "997380"
  },
  {
    "text": "the most needed is better and that's what we are currently introducing which is that we still have a bit of quantity",
    "start": "997380",
    "end": "1005300"
  },
  {
    "text": "but it's likely to not have any warranties and so oh no it's likely to",
    "start": "1005300",
    "end": "1010399"
  },
  {
    "text": "have warranties meaning that once it is stable it is on its weight once it is",
    "start": "1010399",
    "end": "1015560"
  },
  {
    "text": "better it is on its way to become stable and it should be treated as is it should",
    "start": "1015560",
    "end": "1021019"
  },
  {
    "text": "be treated as well you can maybe add some new Fields but you cannot remove them",
    "start": "1021019",
    "end": "1026480"
  },
  {
    "text": "and internal will be more for recent use cases where we are introducing more",
    "start": "1026480",
    "end": "1031880"
  },
  {
    "text": "metrics that are more relevant to the developers rather than the end users so",
    "start": "1031880",
    "end": "1037938"
  },
  {
    "text": "we don't want any warranties on them because well they could be removed at any time because they could be used for testing a certain feature and are really",
    "start": "1037939",
    "end": "1045740"
  },
  {
    "text": "developer facing so we shouldn't build a lot on top of them either so this is what we have today for the",
    "start": "1045740",
    "end": "1052700"
  },
  {
    "text": "stability and we are currently working on and establishing new volunteers for this",
    "start": "1052700",
    "end": "1058700"
  },
  {
    "text": "especially the two new level so better uh an internal internal won't have any",
    "start": "1058700",
    "end": "1064940"
  },
  {
    "text": "warranty but better we'll have some certain guarantee and we need to make sure that we have the static analysis",
    "start": "1064940",
    "end": "1071360"
  },
  {
    "text": "tooling to prevent users from making changes that we don't want one thing that we surely want to do is",
    "start": "1071360",
    "end": "1079039"
  },
  {
    "text": "that sync instrumentation should read you all the metrics that go to better because we want to be in control of the",
    "start": "1079039",
    "end": "1085340"
  },
  {
    "text": "quality of these metrics um another thing that we were able to do from that effort was to Auto generate",
    "start": "1085340",
    "end": "1092120"
  },
  {
    "text": "the documentation for the metric that's a big problem that we've had and I guess a lot of people have which is",
    "start": "1092120",
    "end": "1098780"
  },
  {
    "text": "discoverable discoverability of the metrics it's super hard to understand like how what what should I do in this",
    "start": "1098780",
    "end": "1105860"
  },
  {
    "text": "case is there any metrics to help me like there is such a variety of metric that it's hard to figure out what to do",
    "start": "1105860",
    "end": "1112340"
  },
  {
    "text": "so we haven't met a documentation now in the official kubernetes website it's not",
    "start": "1112340",
    "end": "1117740"
  },
  {
    "text": "perfect yet because we are eating limitation with the website format but at least you can get an idea of what's",
    "start": "1117740",
    "end": "1125179"
  },
  {
    "text": "exposed today by kubernetes it should include all the metrics that kubernetes",
    "start": "1125179",
    "end": "1130520"
  },
  {
    "text": "exposes uh and it gives you as well a small documentation of what this metrics do so",
    "start": "1130520",
    "end": "1136160"
  },
  {
    "text": "if you have any let's say a problem with scheduling I guess you could search for",
    "start": "1136160",
    "end": "1141260"
  },
  {
    "text": "scheduling in this metrics and find maybe something that could help you uh so so it's it's pretty interesting uh",
    "start": "1141260",
    "end": "1148520"
  },
  {
    "text": "and I'm pretty sure it will help a lot of people uh and another aspect will be later to",
    "start": "1148520",
    "end": "1156260"
  },
  {
    "text": "Auto generate the change log so today it's pretty hard to for users to understand like what does change in",
    "start": "1156260",
    "end": "1162799"
  },
  {
    "text": "metrics because there is no like big uh section where we just expose all of them",
    "start": "1162799",
    "end": "1168860"
  },
  {
    "text": "so if we were able to generate the change like that would be easier",
    "start": "1168860",
    "end": "1174260"
  },
  {
    "text": "uh we also want I don't know if any of you have attended the",
    "start": "1174260",
    "end": "1179919"
  },
  {
    "text": "gypso ability days but there was a discussion about Native programming Primitives and more recent support of it",
    "start": "1179919",
    "end": "1187700"
  },
  {
    "text": "and how it's now compatible with open Telemetry it's used to not be the case",
    "start": "1187700",
    "end": "1193400"
  },
  {
    "text": "so we were kind of reluctant to go that way but now that there is some compatibility we are thinking about",
    "start": "1193400",
    "end": "1199700"
  },
  {
    "text": "integrating native histogram as well and we will be looking into that in the upcoming months release",
    "start": "1199700",
    "end": "1208160"
  },
  {
    "text": "so that's that's it for the Matrix and we have still like two signals I guess a",
    "start": "1208160",
    "end": "1213980"
  },
  {
    "text": "bit won't be too boring for you oh but yeah now the logs what's you are most",
    "start": "1213980",
    "end": "1220640"
  },
  {
    "text": "familiar with usually or what developers tend to be more familiar with because they don't want to go with metrics like",
    "start": "1220640",
    "end": "1227179"
  },
  {
    "text": "they don't know it's in a node area for them um and and B for structure logging it",
    "start": "1227179",
    "end": "1233120"
  },
  {
    "text": "was uh pretty hard to do anything with the logs because there was no format there was no uh",
    "start": "1233120",
    "end": "1240140"
  },
  {
    "text": "like it was impossible to aggregate them together and do any kind of operation",
    "start": "1240140",
    "end": "1246559"
  },
  {
    "text": "between the logs like you had to grab and do some magic uh in order to gather",
    "start": "1246559",
    "end": "1253039"
  },
  {
    "text": "information it was it wasn't great um then it was converted to a text-based",
    "start": "1253039",
    "end": "1259220"
  },
  {
    "text": "format which was a bit more formatted but still like in your ingestion backend",
    "start": "1259220",
    "end": "1265100"
  },
  {
    "text": "that ingests your logs uh it's hard to query something that is text based like it's hard to find patterns so we also",
    "start": "1265100",
    "end": "1273919"
  },
  {
    "text": "decided to support Json which is way easier to query so we added support for",
    "start": "1273919",
    "end": "1280880"
  },
  {
    "text": "structure logging on Json and now it's it like most of the log would tend to",
    "start": "1280880",
    "end": "1286280"
  },
  {
    "text": "look like the the last log line that is shown on this page",
    "start": "1286280",
    "end": "1291559"
  },
  {
    "text": "which is like way easier to understand where easier to query",
    "start": "1291559",
    "end": "1296380"
  },
  {
    "text": "um and when did we do that so uh we we started initially by only one uh piece",
    "start": "1296600",
    "end": "1302240"
  },
  {
    "text": "one component of kubernetes which is the cube Latin 121 uh later on we also added",
    "start": "1302240",
    "end": "1308840"
  },
  {
    "text": "the support uh or like fully migrated Cube scheduler to structured logging",
    "start": "1308840",
    "end": "1315320"
  },
  {
    "text": "and the feature finally became stable in 126. that doesn't mean that all the",
    "start": "1315320",
    "end": "1321140"
  },
  {
    "text": "components are fully migrated yet there are still some non-structured logging that are lingering around the code base",
    "start": "1321140",
    "end": "1327260"
  },
  {
    "text": "but that means that we won't backtrack uh to a time where we the logs wouldn't",
    "start": "1327260",
    "end": "1333440"
  },
  {
    "text": "be formatted so now it's set in stone we will continue forward with the formatted",
    "start": "1333440",
    "end": "1339260"
  },
  {
    "text": "logs which is uh great from a consumer perspective I guess",
    "start": "1339260",
    "end": "1345500"
  },
  {
    "text": "um and we and part of that we also include some static analysis to prevent any kind of regression in any kind of",
    "start": "1345500",
    "end": "1351559"
  },
  {
    "text": "kind of backtrack to your world where it was instructed um and while doing that we noticed that",
    "start": "1351559",
    "end": "1359000"
  },
  {
    "text": "klog which is the library that we use for policing logs adds some flags that",
    "start": "1359000",
    "end": "1365780"
  },
  {
    "text": "weren't meant to be client-side uh it's what those flags would be more suited to",
    "start": "1365780",
    "end": "1372620"
  },
  {
    "text": "be on the platform side or your logging platform side nowadays so we decided to",
    "start": "1372620",
    "end": "1378799"
  },
  {
    "text": "duplicate them in 123 and they will be removed in 126 um so yeah if you are using any of these",
    "start": "1378799",
    "end": "1387020"
  },
  {
    "text": "Flags uh by because they are removed in 126.",
    "start": "1387020",
    "end": "1393080"
  },
  {
    "text": "um right and so like now that we had structured logging",
    "start": "1393080",
    "end": "1399380"
  },
  {
    "text": "almost everywhere we know we still noticed that logging wasn't complete like there was",
    "start": "1399380",
    "end": "1405020"
  },
  {
    "text": "still Improvement that could be made and one of you which was what we call contextual logging which is",
    "start": "1405020",
    "end": "1411260"
  },
  {
    "text": "a way to have structured logs but with a context so when you would the idea was",
    "start": "1411260",
    "end": "1417380"
  },
  {
    "text": "that when you would produce a log you could attach to the logger a certain",
    "start": "1417380",
    "end": "1422720"
  },
  {
    "text": "contact let's say a value or any kind of data that you want and propagate it",
    "start": "1422720",
    "end": "1427900"
  },
  {
    "text": "through your calls in order to make sure",
    "start": "1427900",
    "end": "1432980"
  },
  {
    "text": "that you set a value through the audio called sites this was",
    "start": "1432980",
    "end": "1440000"
  },
  {
    "text": "adding kubernetes as Alpha in 124 and it's currently planned to become better",
    "start": "1440000",
    "end": "1445039"
  },
  {
    "text": "in 128. as I mentioned the goal is to log or at",
    "start": "1445039",
    "end": "1452240"
  },
  {
    "text": "least like what we used to have is that you add a global logger you couldn't do",
    "start": "1452240",
    "end": "1457460"
  },
  {
    "text": "anything with it because you cannot attach any data to it uh it was yeah",
    "start": "1457460",
    "end": "1462740"
  },
  {
    "text": "there was nothing to do so if you were let's say in the scheduler and we're trying to like make sure that all your",
    "start": "1462740",
    "end": "1469760"
  },
  {
    "text": "log lines contain the name of the bot that you are trying to schedule it was impossible you had to make sure that all",
    "start": "1469760",
    "end": "1476360"
  },
  {
    "text": "your logs already contain this information and there was no way to ensure that so that's the goal of",
    "start": "1476360",
    "end": "1482679"
  },
  {
    "text": "contextual logging and one more",
    "start": "1482679",
    "end": "1487720"
  },
  {
    "text": "futuristic goal would be to also attach let's say a span ID for tracing our",
    "start": "1487720",
    "end": "1493280"
  },
  {
    "text": "Trace ID in order to have correlation between logging and tracing made super",
    "start": "1493280",
    "end": "1498620"
  },
  {
    "text": "easily um and yeah now the goal is to really",
    "start": "1498620",
    "end": "1504440"
  },
  {
    "text": "migrate the code base to both structure logging and contextual logging and we are actively looking for",
    "start": "1504440",
    "end": "1511460"
  },
  {
    "text": "contributors to help us do that um so there is a dedicated group in sigm",
    "start": "1511460",
    "end": "1518900"
  },
  {
    "text": "instrumentation that is working on that which is a what we call a working group in kubernetes it's the structured",
    "start": "1518900",
    "end": "1524720"
  },
  {
    "text": "logging working group so their focus like there are parts of civil instrumentation so we kind of oversee",
    "start": "1524720",
    "end": "1530600"
  },
  {
    "text": "them and support them but their focus area is strictly logging",
    "start": "1530600",
    "end": "1537400"
  },
  {
    "text": "there are two organizers for it and they meet every Thursday",
    "start": "1537400",
    "end": "1543220"
  },
  {
    "text": "every two weeks on Thursday and yeah if you want to contribute",
    "start": "1543220",
    "end": "1548860"
  },
  {
    "text": "that's one of the best plates to start because it's pretty easy to get into not",
    "start": "1548860",
    "end": "1554179"
  },
  {
    "text": "much context you know about or history to know about and it allows you to",
    "start": "1554179",
    "end": "1560539"
  },
  {
    "text": "kind of get an experience of a lot of part of the code base",
    "start": "1560539",
    "end": "1567020"
  },
  {
    "text": "so the the last signal for which we did support recently and that is pretty",
    "start": "1567020",
    "end": "1573919"
  },
  {
    "text": "exciting is the traces um so just before going deeper into what",
    "start": "1573919",
    "end": "1581059"
  },
  {
    "text": "we support and what kubernetes offers today I would like to speak like to tell you about distributed racing if you",
    "start": "1581059",
    "end": "1587480"
  },
  {
    "text": "don't know so today when you are a client and you send a request to a",
    "start": "1587480",
    "end": "1593840"
  },
  {
    "text": "software it can go through many layers of software and of services",
    "start": "1593840",
    "end": "1600100"
  },
  {
    "text": "and you don't have any way to really know where the request went and how much",
    "start": "1600100",
    "end": "1606260"
  },
  {
    "text": "time it spent in the various areas and that's what distributed tracing is",
    "start": "1606260",
    "end": "1611960"
  },
  {
    "text": "trying to solve by adding Trace ideas and spine IDs to your requests and then",
    "start": "1611960",
    "end": "1618200"
  },
  {
    "text": "all your components inside of uh or the goal is to have all your components",
    "start": "1618200",
    "end": "1623480"
  },
  {
    "text": "produce traces and spans with these IDs and then your tracing platform will",
    "start": "1623480",
    "end": "1630679"
  },
  {
    "text": "aggregate all these data together try to match it with the correct IDs and you will be able to see those three spans",
    "start": "1630679",
    "end": "1637340"
  },
  {
    "text": "below which go through the different",
    "start": "1637340",
    "end": "1643059"
  },
  {
    "text": "processing that went through with your request so the survey question you have the back end and where you send the",
    "start": "1643059",
    "end": "1650299"
  },
  {
    "text": "request to the backend the back end doing some processing and then sending the request back to your client and you",
    "start": "1650299",
    "end": "1655340"
  },
  {
    "text": "know exactly how much time was spent in each of these aspects",
    "start": "1655340",
    "end": "1661400"
  },
  {
    "text": "and in kubernetes where we started is to do that 2D API server so while we really",
    "start": "1661400",
    "end": "1668179"
  },
  {
    "text": "wanted to know was when the client make a request let's say you make a request with skip cattle",
    "start": "1668179",
    "end": "1674960"
  },
  {
    "text": "um how does it went through the API server and then hcd and then goes back to the client and we really wanted to",
    "start": "1674960",
    "end": "1681320"
  },
  {
    "text": "measure that so that's what we did we introduced IPS",
    "start": "1681320",
    "end": "1686419"
  },
  {
    "text": "for tracing everything in Alpha in 123 if I remember but it went better",
    "start": "1686419",
    "end": "1692000"
  },
  {
    "text": "recently in 127 and we fully traced the request between the API server and hcd",
    "start": "1692000",
    "end": "1698380"
  },
  {
    "text": "and also cubelet tracing recently graduated to Beta as well in 127 cubelete racing was started a bit later",
    "start": "1698380",
    "end": "1705260"
  },
  {
    "text": "but code up to API server now there are like the two components that are traced",
    "start": "1705260",
    "end": "1712880"
  },
  {
    "text": "and in the case of cubelet we are tracing the request between cubelet and container runtime",
    "start": "1712880",
    "end": "1719380"
  },
  {
    "text": "all right so yeah you can see the trace from Jaeger that we initially added in",
    "start": "1719600",
    "end": "1728240"
  },
  {
    "text": "the spans to kubernetes 122. it was pretty bare bone like you didn't have that many information uh the big spanner",
    "start": "1728240",
    "end": "1737120"
  },
  {
    "text": "above is the request from the client to the API server the second one is the API",
    "start": "1737120",
    "end": "1742700"
  },
  {
    "text": "server 2 hcd and then in yellow it's hcd processing the request so you can kind",
    "start": "1742700",
    "end": "1750200"
  },
  {
    "text": "of see what's happening but you don't have much information about what's going on really inside of each of these",
    "start": "1750200",
    "end": "1756080"
  },
  {
    "text": "components but at least you know who is responsible for how much of the latency",
    "start": "1756080",
    "end": "1761919"
  },
  {
    "text": "um and one thing I wanted to mention before going further into how what we did was that there was always some kind",
    "start": "1762440",
    "end": "1768860"
  },
  {
    "text": "of tracing before in JPI server but it was more log base tracing mechanism",
    "start": "1768860",
    "end": "1774980"
  },
  {
    "text": "where you add these traces logs that were appearing whenever the API server",
    "start": "1774980",
    "end": "1780140"
  },
  {
    "text": "was was slow for example to give you some kind of idea of where slowness occurred really in the API server",
    "start": "1780140",
    "end": "1788000"
  },
  {
    "text": "um but it was like it's pretty odd to just use Aziz because it can grow up",
    "start": "1788000",
    "end": "1794480"
  },
  {
    "text": "really large in new logs um so it's not the best um and what we did in 126 is that we",
    "start": "1794480",
    "end": "1802539"
  },
  {
    "text": "connected this log base tracing and we converted them to spans like to open",
    "start": "1802539",
    "end": "1809059"
  },
  {
    "text": "Telemetry spans so now you are able to exactly know what's happening inside the API server how much time you spend",
    "start": "1809059",
    "end": "1816320"
  },
  {
    "text": "decoding uh let's say data from hcd how much time you spend processing a certain",
    "start": "1816320",
    "end": "1822380"
  },
  {
    "text": "request and so on so you know all this information you are able to better introspect what's going",
    "start": "1822380",
    "end": "1828380"
  },
  {
    "text": "on for cubelet when it was Adidas Alpha it",
    "start": "1828380",
    "end": "1834380"
  },
  {
    "text": "was also pretty verbal you we are to uh thing instrumented one was the request",
    "start": "1834380",
    "end": "1841159"
  },
  {
    "text": "from the cubelete to The Container runtime to create a container and the second was a",
    "start": "1841159",
    "end": "1848120"
  },
  {
    "text": "from the container runtime like the container when I'm creating starting the container itself so we didn't really",
    "start": "1848120",
    "end": "1855020"
  },
  {
    "text": "know uh how like when the pod creation was started by jps7 and then when the",
    "start": "1855020",
    "end": "1862340"
  },
  {
    "text": "container was started by cubelete so that's what we did last coupon as a Prof concept and we kind of linked the",
    "start": "1862340",
    "end": "1870620"
  },
  {
    "text": "Pod traces to the tubular traces so we now better know what's happening when",
    "start": "1870620",
    "end": "1876460"
  },
  {
    "text": "the cube API service is sending a create pod request and then it's propagated to the cubelet",
    "start": "1876460",
    "end": "1885020"
  },
  {
    "text": "and you know when the containers are created as well so the future planes are to completely",
    "start": "1885020",
    "end": "1890960"
  },
  {
    "text": "add the cubic band to track the create pod instead of just like creating the container we also want to improve on",
    "start": "1890960",
    "end": "1899600"
  },
  {
    "text": "Signal correlation so we want to link metrics and traces via Prometheus",
    "start": "1899600",
    "end": "1905659"
  },
  {
    "text": "examples and we also want to as I mentioned before link the logs to the",
    "start": "1905659",
    "end": "1910760"
  },
  {
    "text": "traces most likely via contextual logging in the future",
    "start": "1910760",
    "end": "1916179"
  },
  {
    "text": "um and to do all that like we need more contributors I guess and you can help us",
    "start": "1916340",
    "end": "1922039"
  },
  {
    "text": "also improve all these areas with your IDs as well so one way to do that is to",
    "start": "1922039",
    "end": "1927679"
  },
  {
    "text": "attend our meeting participate in reviews there are many it's a project that are looking for contributors so",
    "start": "1927679",
    "end": "1934520"
  },
  {
    "text": "feel free to reach out to anyone responsible for them and you can meet us",
    "start": "1934520",
    "end": "1940360"
  },
  {
    "text": "every week we are having a signaling one is for Traders like one week is traded",
    "start": "1940360",
    "end": "1946340"
  },
  {
    "text": "one week is meeting so feel free to join any of these meetings and we will make sure to help you contribute",
    "start": "1946340",
    "end": "1953419"
  },
  {
    "text": "and yeah that's it for the first presentation if you have any feedback on this session feel free to scan this QR",
    "start": "1953419",
    "end": "1960260"
  },
  {
    "text": "code and send me your feedback I would really appreciate that and that's it I guess we can go on with",
    "start": "1960260",
    "end": "1965840"
  },
  {
    "text": "the questions um does anyone has any question",
    "start": "1965840",
    "end": "1970480"
  },
  {
    "text": "yep",
    "start": "1980539",
    "end": "1983539"
  },
  {
    "text": "um",
    "start": "1985640",
    "end": "1987640"
  },
  {
    "text": "basically says you know we're exposed by our TLP just set up a collector and you",
    "start": "1996039",
    "end": "2001779"
  },
  {
    "text": "know in some cases there is there any chance potentially in the future for to get lots of metrics",
    "start": "2001779",
    "end": "2007980"
  },
  {
    "text": "by open Telemetry you mean or via the collector so the question oh yeah",
    "start": "2007980",
    "end": "2014880"
  },
  {
    "text": "you don't like something's easier yeah yeah so so the question was uh so we are",
    "start": "2018179",
    "end": "2024940"
  },
  {
    "text": "producing Logs with open Telemetry today is there a plan to have them as metrics and logs as well or I have metrics and",
    "start": "2024940",
    "end": "2031600"
  },
  {
    "text": "logs produced with open Telemetry as well is that the weather logs and metrics for this yeah yeah so",
    "start": "2031600",
    "end": "2040419"
  },
  {
    "text": "uh I think that was considered um the blocker currently is that most of",
    "start": "2040419",
    "end": "2048700"
  },
  {
    "text": "the thing I discussed with metrics where we have the stability framework and so on it's not something that is supported",
    "start": "2048700",
    "end": "2055000"
  },
  {
    "text": "by prometheusizer so we had to create our own libraries to support all that as",
    "start": "2055000",
    "end": "2061118"
  },
  {
    "text": "well as all our static analysis tool so the challenge would be to understand",
    "start": "2061119",
    "end": "2067000"
  },
  {
    "text": "how much of a rewind that would require I don't think we have anything",
    "start": "2067000",
    "end": "2072960"
  },
  {
    "text": "against open Telemetry as all it's more like the challenge of the rewind that",
    "start": "2072960",
    "end": "2079300"
  },
  {
    "text": "will not necessarily make sense and be valuable like the amount of effort that will require might not be valuable",
    "start": "2079300",
    "end": "2086560"
  },
  {
    "text": "and worth it as well but yeah yeah one one thing that it was",
    "start": "2086560",
    "end": "2092858"
  },
  {
    "text": "mentioning is that we support uh like all the signal can be today collected",
    "start": "2092859",
    "end": "2099160"
  },
  {
    "text": "via the open Telemetry collector and that's something that we want to keep uh going forward like we always want to",
    "start": "2099160",
    "end": "2104980"
  },
  {
    "text": "give support for that uh uh I want to ask so the episode and",
    "start": "2104980",
    "end": "2111880"
  },
  {
    "text": "exports those traces in Spanish",
    "start": "2111880",
    "end": "2115799"
  },
  {
    "text": "um so today you it's not uh so it was not",
    "start": "2121599",
    "end": "2127720"
  },
  {
    "text": "enabled by defaults in Alpha so the question is uh what happens to the",
    "start": "2127720",
    "end": "2133720"
  },
  {
    "text": "tracing 2D traces to the ND Cube API server if you don't have anything grabbing these traces",
    "start": "2133720",
    "end": "2139960"
  },
  {
    "text": "um so tracing wasn't enabled by default in Alpha it's now enabled by default but",
    "start": "2139960",
    "end": "2146079"
  },
  {
    "text": "it requires some configuration in order to produce the logs so if you haven't set up anything",
    "start": "2146079",
    "end": "2154420"
  },
  {
    "text": "yeah to produce the traces sorry so you wouldn't see any traces today if you",
    "start": "2154420",
    "end": "2160300"
  },
  {
    "text": "don't activate them directly and set up a certain um",
    "start": "2160300",
    "end": "2165760"
  },
  {
    "text": "what is ratio for the number of logs that you want to number of traces you want to retain",
    "start": "2165760",
    "end": "2171900"
  },
  {
    "text": "so yeah to today if you don't do anything with them you won't have any traces produce but if you want to use it",
    "start": "2171900",
    "end": "2178720"
  },
  {
    "text": "then for sure try to configure it and then you can grab them by open Telemetry for example",
    "start": "2178720",
    "end": "2186000"
  },
  {
    "text": "yeah there is a configuration for tracing that you can pass to GPS or even cubelet now",
    "start": "2187839",
    "end": "2194079"
  },
  {
    "text": "um to set up uh like to tell it like uh What uh what is the ratio I don't",
    "start": "2194079",
    "end": "2201820"
  },
  {
    "text": "remember the the name for the sampling rate that you want for the traces uh you just have to configure that and then uh",
    "start": "2201820",
    "end": "2208540"
  },
  {
    "text": "it's all set uh",
    "start": "2208540",
    "end": "2214300"
  },
  {
    "text": "uh yeah yeah I think it's you cannot configure the endpoint it's",
    "start": "2214300",
    "end": "2219760"
  },
  {
    "text": "set by default",
    "start": "2219760",
    "end": "2222720"
  },
  {
    "text": "yeah yeah one more",
    "start": "2225520",
    "end": "2230160"
  },
  {
    "text": "questions",
    "start": "2232900",
    "end": "2235900"
  },
  {
    "text": "[Music]",
    "start": "2242150",
    "end": "2245299"
  },
  {
    "text": "um I won't lie and I'm not that familiar with open Telemetry as a whole like I",
    "start": "2251619",
    "end": "2258040"
  },
  {
    "text": "know a bit about the metric side but not much about the the login side um so I'm not sure like the best would",
    "start": "2258040",
    "end": "2265420"
  },
  {
    "text": "be to go to one of the working group meeting and ask them directly like if they've",
    "start": "2265420",
    "end": "2271240"
  },
  {
    "text": "considered that but but at the moment they have their own uh library in",
    "start": "2271240",
    "end": "2276700"
  },
  {
    "text": "Kellogg in order to support uh contextual uh and structured logging",
    "start": "2276700",
    "end": "2282700"
  },
  {
    "text": "um and I don't know if they have any intent to actually rewrite it uh",
    "start": "2282700",
    "end": "2287859"
  },
  {
    "text": "yeah it might be yeah yeah",
    "start": "2287859",
    "end": "2291660"
  },
  {
    "text": "all good thank you everyone for attending and I hope you enjoyed the end of kipcon and you travel back",
    "start": "2294339",
    "end": "2302279"
  }
]