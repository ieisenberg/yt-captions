[
  {
    "text": "okay let's start um my name is t Joe and",
    "start": "3360",
    "end": "7439"
  },
  {
    "text": "I'm from M group and today I will",
    "start": "7439",
    "end": "10040"
  },
  {
    "text": "introduce our um product niser which is",
    "start": "10040",
    "end": "13719"
  },
  {
    "text": "a lowlevel runtime uh that achieves both",
    "start": "13719",
    "end": "17359"
  },
  {
    "text": "cure and lightweight and fast uh in the",
    "start": "17359",
    "end": "21000"
  },
  {
    "text": "uh fast scenario and it will achieve a",
    "start": "21000",
    "end": "24160"
  },
  {
    "text": "very good performance in the Cod start",
    "start": "24160",
    "end": "27920"
  },
  {
    "text": "so uh today I will um I will use four",
    "start": "27920",
    "end": "31800"
  },
  {
    "text": "parts to to introduce nanov visor first",
    "start": "31800",
    "end": "34360"
  },
  {
    "text": "I will introduce what is nanov visor and",
    "start": "34360",
    "end": "37040"
  },
  {
    "text": "uh what its role in fast fast fast it",
    "start": "37040",
    "end": "39399"
  },
  {
    "text": "means function asess service and next I",
    "start": "39399",
    "end": "42039"
  },
  {
    "text": "will introduce uh our work on the Cod",
    "start": "42039",
    "end": "45280"
  },
  {
    "text": "start optimization uh which we modify",
    "start": "45280",
    "end": "48199"
  },
  {
    "text": "the non visor and the third part we will",
    "start": "48199",
    "end": "51800"
  },
  {
    "text": "uh show some statistics about niser and",
    "start": "51800",
    "end": "55480"
  },
  {
    "text": "about its performance and At Last I will",
    "start": "55480",
    "end": "57640"
  },
  {
    "text": "summarize our talk",
    "start": "57640",
    "end": "60079"
  },
  {
    "text": "so let's go to first part uh niser",
    "start": "60079",
    "end": "62480"
  },
  {
    "text": "introduction and its roles in fast uh",
    "start": "62480",
    "end": "65400"
  },
  {
    "text": "niser is a lightweight secure container",
    "start": "65400",
    "end": "68000"
  },
  {
    "text": "run time which based on the CF project",
    "start": "68000",
    "end": "71119"
  },
  {
    "text": "divisor and divisor as you all know the",
    "start": "71119",
    "end": "74520"
  },
  {
    "text": "is a wellknown security run time which",
    "start": "74520",
    "end": "77479"
  },
  {
    "text": "is very lightweight and uh U popular and",
    "start": "77479",
    "end": "81600"
  },
  {
    "text": "uh um what n visor is different from",
    "start": "81600",
    "end": "84600"
  },
  {
    "text": "divisor is it it focuses on the",
    "start": "84600",
    "end": "87960"
  },
  {
    "text": "extremely speed on F Scarrow to achieve",
    "start": "87960",
    "end": "91439"
  },
  {
    "text": "the a very good startup time and uh uh",
    "start": "91439",
    "end": "95320"
  },
  {
    "text": "it is production ready and used in our",
    "start": "95320",
    "end": "99159"
  },
  {
    "text": "uh our fast production to the uh which I",
    "start": "99159",
    "end": "103320"
  },
  {
    "text": "will show you",
    "start": "103320",
    "end": "105320"
  },
  {
    "text": "later and it's r n r in Fast and you can",
    "start": "105320",
    "end": "109920"
  },
  {
    "text": "see in this picture that uh uh and let's",
    "start": "109920",
    "end": "115159"
  },
  {
    "text": "look at the flow uh when a endpoint user",
    "start": "115159",
    "end": "118680"
  },
  {
    "text": "access a website such as um",
    "start": "118680",
    "end": "122719"
  },
  {
    "text": "www.example.com and this HTTP request",
    "start": "122719",
    "end": "126000"
  },
  {
    "text": "will first arrive at the Gateway and the",
    "start": "126000",
    "end": "128160"
  },
  {
    "text": "Gateway will transfer it to a scheduler",
    "start": "128160",
    "end": "131239"
  },
  {
    "text": "and this schedule will control the all",
    "start": "131239",
    "end": "133599"
  },
  {
    "text": "information of a cluster and it will",
    "start": "133599",
    "end": "136640"
  },
  {
    "text": "choose a uh a a server to handle this",
    "start": "136640",
    "end": "140959"
  },
  {
    "text": "request and after it have chosen um this",
    "start": "140959",
    "end": "145040"
  },
  {
    "text": "request will pass to the specific server",
    "start": "145040",
    "end": "147959"
  },
  {
    "text": "and uh a SCH no scheduler will um pass",
    "start": "147959",
    "end": "153200"
  },
  {
    "text": "it to The Container D and finally",
    "start": "153200",
    "end": "155720"
  },
  {
    "text": "container D will create a sbox which is",
    "start": "155720",
    "end": "159599"
  },
  {
    "text": "uh a secure container and uh um created",
    "start": "159599",
    "end": "163640"
  },
  {
    "text": "this container and uh handle this",
    "start": "163640",
    "end": "166400"
  },
  {
    "text": "request by the function running inside",
    "start": "166400",
    "end": "168760"
  },
  {
    "text": "the container uh so as you can see user",
    "start": "168760",
    "end": "172360"
  },
  {
    "text": "request will be handled by functions and",
    "start": "172360",
    "end": "174680"
  },
  {
    "text": "the the functions is running inside a",
    "start": "174680",
    "end": "177760"
  },
  {
    "text": "nonv virus sandbox",
    "start": "177760",
    "end": "180959"
  },
  {
    "text": "so let's go to the second part code",
    "start": "180959",
    "end": "183720"
  },
  {
    "text": "start optimization and first uh I will",
    "start": "183720",
    "end": "187799"
  },
  {
    "text": "uh show what is code starts and why it",
    "start": "187799",
    "end": "191159"
  },
  {
    "text": "is critical in the fast U first uh we we",
    "start": "191159",
    "end": "195080"
  },
  {
    "text": "ignore the the transfer and schedule",
    "start": "195080",
    "end": "197280"
  },
  {
    "text": "part because it cost a few milliseconds",
    "start": "197280",
    "end": "201400"
  },
  {
    "text": "and when a request begin it will first",
    "start": "201400",
    "end": "204440"
  },
  {
    "text": "pass to the specific node and uh uh to",
    "start": "204440",
    "end": "207720"
  },
  {
    "text": "create and to it's time to create a box",
    "start": "207720",
    "end": "210680"
  },
  {
    "text": "and there are mainly three parts in the",
    "start": "210680",
    "end": "214200"
  },
  {
    "text": "node to handle a handle a single request",
    "start": "214200",
    "end": "217480"
  },
  {
    "text": "first is create the sandbox and after",
    "start": "217480",
    "end": "220319"
  },
  {
    "text": "the sandbox is created it will uh load",
    "start": "220319",
    "end": "224239"
  },
  {
    "text": "the Lang specific language run time such",
    "start": "224239",
    "end": "226720"
  },
  {
    "text": "as nodejs run time python run times or",
    "start": "226720",
    "end": "229280"
  },
  {
    "text": "PHP run time and after the run time",
    "start": "229280",
    "end": "231959"
  },
  {
    "text": "itself has initialized it will load the",
    "start": "231959",
    "end": "235760"
  },
  {
    "text": "specific functions provided by the",
    "start": "235760",
    "end": "238400"
  },
  {
    "text": "develop developer and the function will",
    "start": "238400",
    "end": "240720"
  },
  {
    "text": "handle the uh request from the uh",
    "start": "240720",
    "end": "244079"
  },
  {
    "text": "outside outside user and after the",
    "start": "244079",
    "end": "247200"
  },
  {
    "text": "request is handled the response was",
    "start": "247200",
    "end": "249439"
  },
  {
    "text": "transferred to the user and in this",
    "start": "249439",
    "end": "253000"
  },
  {
    "text": "picture um because we have to create the",
    "start": "253000",
    "end": "256079"
  },
  {
    "text": "sandbox and initialize the language run",
    "start": "256079",
    "end": "258880"
  },
  {
    "text": "time it will cost more than 100",
    "start": "258880",
    "end": "261880"
  },
  {
    "text": "milliseconds which might too slow to uh",
    "start": "261880",
    "end": "265680"
  },
  {
    "text": "for the good user experience so on the M",
    "start": "265680",
    "end": "269440"
  },
  {
    "text": "contain creation and show in this",
    "start": "269440",
    "end": "271759"
  },
  {
    "text": "picture is code start uh code start",
    "start": "271759",
    "end": "274120"
  },
  {
    "text": "means we have to start uh a whole new",
    "start": "274120",
    "end": "276800"
  },
  {
    "text": "Sandbox for to run function and uh",
    "start": "276800",
    "end": "280520"
  },
  {
    "text": "obviously it does not meet the latency",
    "start": "280520",
    "end": "283479"
  },
  {
    "text": "requirements and um and what uh the the",
    "start": "283479",
    "end": "287960"
  },
  {
    "text": "the industrial do is uh to cat container",
    "start": "287960",
    "end": "291880"
  },
  {
    "text": "cat container means that we have already",
    "start": "291880",
    "end": "295120"
  },
  {
    "text": "catch a few containers which have",
    "start": "295120",
    "end": "297720"
  },
  {
    "text": "already started the sandbox and and uh",
    "start": "297720",
    "end": "301360"
  },
  {
    "text": "uh initialize the language on time and",
    "start": "301360",
    "end": "303400"
  },
  {
    "text": "we just catch them and do not run them",
    "start": "303400",
    "end": "306160"
  },
  {
    "text": "and when uh a request from the endpoint",
    "start": "306160",
    "end": "309199"
  },
  {
    "text": "user arrived uh we will choose a cach",
    "start": "309199",
    "end": "312600"
  },
  {
    "text": "the container or catch the S to run",
    "start": "312600",
    "end": "315840"
  },
  {
    "text": "function and after running U we we we",
    "start": "315840",
    "end": "318680"
  },
  {
    "text": "pass the response back to the user and",
    "start": "318680",
    "end": "322080"
  },
  {
    "text": "and it's obviously there is no any uh no",
    "start": "322080",
    "end": "325400"
  },
  {
    "text": "initialization or SOS creation anymore",
    "start": "325400",
    "end": "328000"
  },
  {
    "text": "so it is very fast um but it do cost uh",
    "start": "328000",
    "end": "333360"
  },
  {
    "text": "memory and uh this memory overhead is",
    "start": "333360",
    "end": "336360"
  },
  {
    "text": "expensive for there might be thousands",
    "start": "336360",
    "end": "339639"
  },
  {
    "text": "or millions of functions inside a node",
    "start": "339639",
    "end": "342680"
  },
  {
    "text": "and we could not catch so many uh",
    "start": "342680",
    "end": "346000"
  },
  {
    "text": "functions for it it it do CA memory and",
    "start": "346000",
    "end": "349720"
  },
  {
    "text": "um for security uh concern we after we",
    "start": "349720",
    "end": "354479"
  },
  {
    "text": "use a cached container we have to",
    "start": "354479",
    "end": "356720"
  },
  {
    "text": "destroy it and recache it so uh it it",
    "start": "356720",
    "end": "360560"
  },
  {
    "text": "might be uh it might be heavy when when",
    "start": "360560",
    "end": "363720"
  },
  {
    "text": "when request is very uh",
    "start": "363720",
    "end": "366720"
  },
  {
    "text": "frequent so is there any way to uh to to",
    "start": "366720",
    "end": "371560"
  },
  {
    "text": "optimize the cold start and also uh uh",
    "start": "371560",
    "end": "375759"
  },
  {
    "text": "also also achieve the uh same",
    "start": "375759",
    "end": "379000"
  },
  {
    "text": "performance as the cach the uh as the",
    "start": "379000",
    "end": "382080"
  },
  {
    "text": "warm start uh we uh we we we choose to",
    "start": "382080",
    "end": "385360"
  },
  {
    "text": "Fork a Sandbox and achieved about five",
    "start": "385360",
    "end": "389599"
  },
  {
    "text": "milliseconds performance and ner makes",
    "start": "389599",
    "end": "393160"
  },
  {
    "text": "it and this codar performance is ready",
    "start": "393160",
    "end": "396280"
  },
  {
    "text": "for production and for good user",
    "start": "396280",
    "end": "399520"
  },
  {
    "text": "experience it's cheap because we do not",
    "start": "399520",
    "end": "402800"
  },
  {
    "text": "Coast so much memory as the warm start",
    "start": "402800",
    "end": "406199"
  },
  {
    "text": "and it",
    "start": "406199",
    "end": "408080"
  },
  {
    "text": "fast so here comes to how we did it uh",
    "start": "408080",
    "end": "412840"
  },
  {
    "text": "there are mainly three uh techniques we",
    "start": "412840",
    "end": "416479"
  },
  {
    "text": "have done to the nanov visor and I will",
    "start": "416479",
    "end": "419160"
  },
  {
    "text": "show you each of them first is single",
    "start": "419160",
    "end": "423400"
  },
  {
    "text": "sandbox process uh gvisor will uh uh",
    "start": "423400",
    "end": "429319"
  },
  {
    "text": "concern is is security so gvisor will",
    "start": "429319",
    "end": "432599"
  },
  {
    "text": "start uh another process which C goer to",
    "start": "432599",
    "end": "436720"
  },
  {
    "text": "handle the uh file operation request",
    "start": "436720",
    "end": "439280"
  },
  {
    "text": "from the um user application inside the",
    "start": "439280",
    "end": "442199"
  },
  {
    "text": "sandbox so as you can see in this",
    "start": "442199",
    "end": "444520"
  },
  {
    "text": "picture when a user application inside",
    "start": "444520",
    "end": "447199"
  },
  {
    "text": "sandbox invokes a system call like open",
    "start": "447199",
    "end": "451280"
  },
  {
    "text": "reite uh it will first arrive the VFS",
    "start": "451280",
    "end": "454319"
  },
  {
    "text": "layer inside the sandbox uh gas kernel",
    "start": "454319",
    "end": "457919"
  },
  {
    "text": "Sentry Sentry is a go go uh gas kernel",
    "start": "457919",
    "end": "461199"
  },
  {
    "text": "just like lus kernel but it's written in",
    "start": "461199",
    "end": "464199"
  },
  {
    "text": "Goan and will handle all system cost",
    "start": "464199",
    "end": "466960"
  },
  {
    "text": "from the user application inside s box",
    "start": "466960",
    "end": "469400"
  },
  {
    "text": "and it first arrived at BFS and um um",
    "start": "469400",
    "end": "474400"
  },
  {
    "text": "and actually arrive at the goer FS uh",
    "start": "474400",
    "end": "477520"
  },
  {
    "text": "inside the centry and the go for FS",
    "start": "477520",
    "end": "480400"
  },
  {
    "text": "implementation will first send an RPC to",
    "start": "480400",
    "end": "484720"
  },
  {
    "text": "the the other uh another goer process",
    "start": "484720",
    "end": "488080"
  },
  {
    "text": "this go process will be responsible to",
    "start": "488080",
    "end": "491960"
  },
  {
    "text": "um CA this car to the host Linux kernel",
    "start": "491960",
    "end": "494599"
  },
  {
    "text": "to open the specific file and then after",
    "start": "494599",
    "end": "497479"
  },
  {
    "text": "open this file the go for process will",
    "start": "497479",
    "end": "500639"
  },
  {
    "text": "um pass back the FD to the uh Sentry and",
    "start": "500639",
    "end": "505080"
  },
  {
    "text": "the Sentry will use this FD to to do",
    "start": "505080",
    "end": "507879"
  },
  {
    "text": "some specific file operations like read",
    "start": "507879",
    "end": "510000"
  },
  {
    "text": "and write so it's very heavy uh for um",
    "start": "510000",
    "end": "514200"
  },
  {
    "text": "we have to send RPC um interprocess RPC",
    "start": "514200",
    "end": "519240"
  },
  {
    "text": "and uh uh in this solution we have to",
    "start": "519240",
    "end": "524000"
  },
  {
    "text": "create two process uh one is the sandbox",
    "start": "524000",
    "end": "527399"
  },
  {
    "text": "which is actually running the gas Kel",
    "start": "527399",
    "end": "529640"
  },
  {
    "text": "Sentry and user application and another",
    "start": "529640",
    "end": "532080"
  },
  {
    "text": "process gopher to handle fire operations",
    "start": "532080",
    "end": "535399"
  },
  {
    "text": "so it's complex and um it's heavy CH set",
    "start": "535399",
    "end": "540320"
  },
  {
    "text": "up the sandbox for every time we we we",
    "start": "540320",
    "end": "544120"
  },
  {
    "text": "create a Sandbox we have to create a go",
    "start": "544120",
    "end": "546240"
  },
  {
    "text": "process too so this problems um",
    "start": "546240",
    "end": "551959"
  },
  {
    "text": "became uh unacceptable in the fast and",
    "start": "551959",
    "end": "556279"
  },
  {
    "text": "what we do is to uh Implement an erfs",
    "start": "556279",
    "end": "561160"
  },
  {
    "text": "enhanced read only Fs in the uh gvisor",
    "start": "561160",
    "end": "564760"
  },
  {
    "text": "and we will use a single file which is a",
    "start": "564760",
    "end": "568000"
  },
  {
    "text": "erfs image file",
    "start": "568000",
    "end": "569880"
  },
  {
    "text": "and we call M map system call and to map",
    "start": "569880",
    "end": "574240"
  },
  {
    "text": "this single file to the memory and we",
    "start": "574240",
    "end": "576880"
  },
  {
    "text": "will directly access the memory instead",
    "start": "576880",
    "end": "580120"
  },
  {
    "text": "of some uh fire operation system called",
    "start": "580120",
    "end": "582880"
  },
  {
    "text": "like open re right we we we do not need",
    "start": "582880",
    "end": "585880"
  },
  {
    "text": "this anymore we just memory map this",
    "start": "585880",
    "end": "588600"
  },
  {
    "text": "this file and access it for um this this",
    "start": "588600",
    "end": "593000"
  },
  {
    "text": "file which represents the root FS inside",
    "start": "593000",
    "end": "596519"
  },
  {
    "text": "the uh sandbox is read only and if we",
    "start": "596519",
    "end": "600279"
  },
  {
    "text": "have some uh we have some requirements",
    "start": "600279",
    "end": "603079"
  },
  {
    "text": "to write we will also use the temp FS",
    "start": "603079",
    "end": "605880"
  },
  {
    "text": "which also in inside the Sentry and to",
    "start": "605880",
    "end": "609079"
  },
  {
    "text": "to do some right oper operations and",
    "start": "609079",
    "end": "611880"
  },
  {
    "text": "both uh temp fs and EFS is overlay so um",
    "start": "611880",
    "end": "616440"
  },
  {
    "text": "temp FS is up layer erfs is lower layer",
    "start": "616440",
    "end": "619839"
  },
  {
    "text": "so every every right operations will",
    "start": "619839",
    "end": "622360"
  },
  {
    "text": "result in the temp fs and temp f is also",
    "start": "622360",
    "end": "625279"
  },
  {
    "text": "backhand by a a single file at the host",
    "start": "625279",
    "end": "629440"
  },
  {
    "text": "so um file operations on temp advice",
    "start": "629440",
    "end": "632800"
  },
  {
    "text": "will result in the system call to the",
    "start": "632800",
    "end": "635000"
  },
  {
    "text": "host and after the sendbox finish",
    "start": "635000",
    "end": "637800"
  },
  {
    "text": "running this functions this this temp",
    "start": "637800",
    "end": "640639"
  },
  {
    "text": "temp FS backend file will be",
    "start": "640639",
    "end": "643440"
  },
  {
    "text": "removed and uh uh it is sub wisely that",
    "start": "643440",
    "end": "647720"
  },
  {
    "text": "erfs is better at it we we do not need a",
    "start": "647720",
    "end": "650480"
  },
  {
    "text": "go for process anymore it's it's more",
    "start": "650480",
    "end": "652680"
  },
  {
    "text": "lightweight and we will use less less FD",
    "start": "652680",
    "end": "656040"
  },
  {
    "text": "for um we only use a a single file um",
    "start": "656040",
    "end": "660360"
  },
  {
    "text": "for root fs and a backend file for the",
    "start": "660360",
    "end": "663360"
  },
  {
    "text": "temp FS so we we we only need two fds to",
    "start": "663360",
    "end": "667800"
  },
  {
    "text": "to operate and uh it it has better",
    "start": "667800",
    "end": "670600"
  },
  {
    "text": "performance for we do not need",
    "start": "670600",
    "end": "672480"
  },
  {
    "text": "interprocess RPC with go",
    "start": "672480",
    "end": "676000"
  },
  {
    "text": "process uh that let's go to the second",
    "start": "676000",
    "end": "679320"
  },
  {
    "text": "uh optimization which is the fast inter",
    "start": "679320",
    "end": "682240"
  },
  {
    "text": "component communication um as you know",
    "start": "682240",
    "end": "686200"
  },
  {
    "text": "uh when we have to create a container uh",
    "start": "686200",
    "end": "689000"
  },
  {
    "text": "which is sandboxing in our scenario uh",
    "start": "689000",
    "end": "691600"
  },
  {
    "text": "we have to um let container D to create",
    "start": "691600",
    "end": "695800"
  },
  {
    "text": "a shim process and a shim process will",
    "start": "695800",
    "end": "698720"
  },
  {
    "text": "um execute uh binary commands u in in in",
    "start": "698720",
    "end": "703839"
  },
  {
    "text": "the divisor scenario it will call it",
    "start": "703839",
    "end": "707000"
  },
  {
    "text": "will execute ryy create ryy Boot and the",
    "start": "707000",
    "end": "710639"
  },
  {
    "text": "ryy boot will boot itself again to drop",
    "start": "710639",
    "end": "713399"
  },
  {
    "text": "some fds and finally uh the shim will uh",
    "start": "713399",
    "end": "716959"
  },
  {
    "text": "execute the Ry start again to start the",
    "start": "716959",
    "end": "720279"
  },
  {
    "text": "uh user application inside sandbox so",
    "start": "720279",
    "end": "723200"
  },
  {
    "text": "you can see there are many process",
    "start": "723200",
    "end": "725399"
  },
  {
    "text": "Creation in this in this uh in this way",
    "start": "725399",
    "end": "729560"
  },
  {
    "text": "and also some some binary have to be",
    "start": "729560",
    "end": "733560"
  },
  {
    "text": "executed and we have observed that a",
    "start": "733560",
    "end": "736800"
  },
  {
    "text": "single binary uh single binary execution",
    "start": "736800",
    "end": "740839"
  },
  {
    "text": "could cost around 30 milliseconds due to",
    "start": "740839",
    "end": "744079"
  },
  {
    "text": "the heavy um heavy go time",
    "start": "744079",
    "end": "747399"
  },
  {
    "text": "initialization as uh Ry which divisor",
    "start": "747399",
    "end": "750600"
  },
  {
    "text": "binary is wrting go and it have to",
    "start": "750600",
    "end": "753760"
  },
  {
    "text": "initialize it's go WR time and it's go",
    "start": "753760",
    "end": "756760"
  },
  {
    "text": "package so we just remove uh most of",
    "start": "756760",
    "end": "760519"
  },
  {
    "text": "them to uh to for continuity it will not",
    "start": "760519",
    "end": "764480"
  },
  {
    "text": "start a sham process anymore it's just",
    "start": "764480",
    "end": "766760"
  },
  {
    "text": "call function call and this function",
    "start": "766760",
    "end": "769760"
  },
  {
    "text": "this helper functions is provided by",
    "start": "769760",
    "end": "772040"
  },
  {
    "text": "niser as a go package and the container",
    "start": "772040",
    "end": "775720"
  },
  {
    "text": "D will just call this helper functions",
    "start": "775720",
    "end": "778279"
  },
  {
    "text": "to create a Sandbox and we inside this",
    "start": "778279",
    "end": "782680"
  },
  {
    "text": "functions we will just do some RPC to to",
    "start": "782680",
    "end": "786000"
  },
  {
    "text": "create a Sandbox and the U the you you",
    "start": "786000",
    "end": "790160"
  },
  {
    "text": "can see there is no heavy execution at",
    "start": "790160",
    "end": "793040"
  },
  {
    "text": "all and we just remove them to pre to",
    "start": "793040",
    "end": "796839"
  },
  {
    "text": "provide a better uh and fast",
    "start": "796839",
    "end": "801040"
  },
  {
    "text": "interaction uh the finally part and the",
    "start": "801040",
    "end": "803720"
  },
  {
    "text": "most important part is sandbox folk um",
    "start": "803720",
    "end": "806760"
  },
  {
    "text": "here is the motivation and you can see",
    "start": "806760",
    "end": "809399"
  },
  {
    "text": "and in the code start we have to first",
    "start": "809399",
    "end": "811800"
  },
  {
    "text": "create a sent box and to initialize the",
    "start": "811800",
    "end": "815560"
  },
  {
    "text": "gas kernel Sentry and initialize the",
    "start": "815560",
    "end": "818800"
  },
  {
    "text": "language run time like nodejs or PHP and",
    "start": "818800",
    "end": "822519"
  },
  {
    "text": "finally uh to get request and load and",
    "start": "822519",
    "end": "826040"
  },
  {
    "text": "round function and and finally send",
    "start": "826040",
    "end": "829000"
  },
  {
    "text": "response and um this is the coldstar way",
    "start": "829000",
    "end": "832360"
  },
  {
    "text": "in the warm star way we do not have to",
    "start": "832360",
    "end": "834720"
  },
  {
    "text": "do uh one two three uh three steps and",
    "start": "834720",
    "end": "838360"
  },
  {
    "text": "we just start with the uh the the the",
    "start": "838360",
    "end": "840800"
  },
  {
    "text": "first step so um is there any any any",
    "start": "840800",
    "end": "846040"
  },
  {
    "text": "way to reuse the the F uh the three",
    "start": "846040",
    "end": "848959"
  },
  {
    "text": "these three steps F can do this uh first",
    "start": "848959",
    "end": "853199"
  },
  {
    "text": "uh we we we um we have two stages for",
    "start": "853199",
    "end": "857560"
  },
  {
    "text": "the sandbox for fork first is prepare",
    "start": "857560",
    "end": "860279"
  },
  {
    "text": "stage prepare stage is uh we prepare",
    "start": "860279",
    "end": "864199"
  },
  {
    "text": "sandbox seed which rec which will be",
    "start": "864199",
    "end": "867600"
  },
  {
    "text": "used to fu and uh serving stage will",
    "start": "867600",
    "end": "870959"
  },
  {
    "text": "happen each request arrived and if if a",
    "start": "870959",
    "end": "874839"
  },
  {
    "text": "request arrived we will f a new sand box",
    "start": "874839",
    "end": "877720"
  },
  {
    "text": "from the seed and running the function",
    "start": "877720",
    "end": "881199"
  },
  {
    "text": "inside this new sand",
    "start": "881199",
    "end": "883800"
  },
  {
    "text": "box first is uh first is a prepare stage",
    "start": "883800",
    "end": "888320"
  },
  {
    "text": "where we we we launch the seed first a",
    "start": "888320",
    "end": "891320"
  },
  {
    "text": "seed uh we have to do the the ReUse",
    "start": "891320",
    "end": "894959"
  },
  {
    "text": "three steps first is create a Sall and",
    "start": "894959",
    "end": "897560"
  },
  {
    "text": "initialize gas kernel Sentry and",
    "start": "897560",
    "end": "899920"
  },
  {
    "text": "initialize the language around time and",
    "start": "899920",
    "end": "902120"
  },
  {
    "text": "there is a a problem which which is a",
    "start": "902120",
    "end": "905160"
  },
  {
    "text": "blocker for us to focus sandbox as the",
    "start": "905160",
    "end": "908519"
  },
  {
    "text": "sandbox process itself is a multi",
    "start": "908519",
    "end": "911120"
  },
  {
    "text": "process and a multi process could not be",
    "start": "911120",
    "end": "913759"
  },
  {
    "text": "F properly for uh for the Linux clone",
    "start": "913759",
    "end": "917199"
  },
  {
    "text": "system call is is a single Strat",
    "start": "917199",
    "end": "919839"
  },
  {
    "text": "sematics so what we have done is to",
    "start": "919839",
    "end": "923480"
  },
  {
    "text": "simplify the sandbox and seed to to to",
    "start": "923480",
    "end": "927600"
  },
  {
    "text": "make it became a a single single thread",
    "start": "927600",
    "end": "931079"
  },
  {
    "text": "process here is a go Schuler model and",
    "start": "931079",
    "end": "934800"
  },
  {
    "text": "the M corresponding to an OS thread and",
    "start": "934800",
    "end": "939279"
  },
  {
    "text": "P which is processor will manage the the",
    "start": "939279",
    "end": "942880"
  },
  {
    "text": "basic schedule unit go routine to uh to",
    "start": "942880",
    "end": "945759"
  },
  {
    "text": "choose which gtin to run and uh in in",
    "start": "945759",
    "end": "949199"
  },
  {
    "text": "the left side and which is a Sandbox",
    "start": "949199",
    "end": "952040"
  },
  {
    "text": "process um there there there are mainly",
    "start": "952040",
    "end": "956000"
  },
  {
    "text": "three types of uh goutin one is the",
    "start": "956000",
    "end": "959000"
  },
  {
    "text": "language wrong time uh which which is",
    "start": "959000",
    "end": "961279"
  },
  {
    "text": "the user application inside sandbox and",
    "start": "961279",
    "end": "963920"
  },
  {
    "text": "the other one is uh Sentry which is the",
    "start": "963920",
    "end": "966600"
  },
  {
    "text": "guest Cel and uh last is go on time and",
    "start": "966600",
    "end": "970199"
  },
  {
    "text": "there are three types of go routines and",
    "start": "970199",
    "end": "972399"
  },
  {
    "text": "some is running and some is way to run",
    "start": "972399",
    "end": "975240"
  },
  {
    "text": "and we what we do is first um pause the",
    "start": "975240",
    "end": "977920"
  },
  {
    "text": "gas kernel and drop our vcps which which",
    "start": "977920",
    "end": "981360"
  },
  {
    "text": "as a result there is no user application",
    "start": "981360",
    "end": "984120"
  },
  {
    "text": "go routine is running and",
    "start": "984120",
    "end": "986519"
  },
  {
    "text": "next we we call stop the word",
    "start": "986519",
    "end": "989480"
  },
  {
    "text": "um which is a helper function inside go",
    "start": "989480",
    "end": "991680"
  },
  {
    "text": "on time to stop all go normal go go",
    "start": "991680",
    "end": "995680"
  },
  {
    "text": "routines which um which is c g routines",
    "start": "995680",
    "end": "998959"
  },
  {
    "text": "belong to Century and we start to",
    "start": "998959",
    "end": "1001360"
  },
  {
    "text": "reclaim the OS thre to make the sandbox",
    "start": "1001360",
    "end": "1004519"
  },
  {
    "text": "process um became a single process a",
    "start": "1004519",
    "end": "1007600"
  },
  {
    "text": "single thread process and at last uh we",
    "start": "1007600",
    "end": "1010720"
  },
  {
    "text": "will invoke accept system call and wait",
    "start": "1010720",
    "end": "1013839"
  },
  {
    "text": "for the request which the request is",
    "start": "1013839",
    "end": "1016519"
  },
  {
    "text": "just the um request from D to create a",
    "start": "1016519",
    "end": "1020120"
  },
  {
    "text": "new",
    "start": "1020120",
    "end": "1021000"
  },
  {
    "text": "Sandbox and it's time to F sand box",
    "start": "1021000",
    "end": "1024520"
  },
  {
    "text": "after we have made the seed uh the four",
    "start": "1024520",
    "end": "1027520"
  },
  {
    "text": "sandbox will will mainly for four steps",
    "start": "1027520",
    "end": "1030678"
  },
  {
    "text": "first is connect to the seat then uh",
    "start": "1030679",
    "end": "1033360"
  },
  {
    "text": "after this connected success uh it will",
    "start": "1033360",
    "end": "1036400"
  },
  {
    "text": "trigger the F and after after we f a new",
    "start": "1036400",
    "end": "1039319"
  },
  {
    "text": "sand box we will recover the go around",
    "start": "1039319",
    "end": "1041720"
  },
  {
    "text": "time and update some config from the",
    "start": "1041720",
    "end": "1044600"
  },
  {
    "text": "user and mount the user code which",
    "start": "1044600",
    "end": "1047400"
  },
  {
    "text": "represents a a fun specific function",
    "start": "1047400",
    "end": "1049960"
  },
  {
    "text": "like function a or function B to run the",
    "start": "1049960",
    "end": "1052160"
  },
  {
    "text": "function and after running the function",
    "start": "1052160",
    "end": "1054160"
  },
  {
    "text": "we'll send back the response um so when",
    "start": "1054160",
    "end": "1057960"
  },
  {
    "text": "a request from endpoint user arrived con",
    "start": "1057960",
    "end": "1061000"
  },
  {
    "text": "D will first call the helper function we",
    "start": "1061000",
    "end": "1063360"
  },
  {
    "text": "provided by the go package and inside",
    "start": "1063360",
    "end": "1065960"
  },
  {
    "text": "the go package uh it will connect to the",
    "start": "1065960",
    "end": "1069360"
  },
  {
    "text": "uh a socket provided by the sandbox seed",
    "start": "1069360",
    "end": "1073000"
  },
  {
    "text": "and after it has called The Connection",
    "start": "1073000",
    "end": "1075840"
  },
  {
    "text": "connect system call uh the access AC",
    "start": "1075840",
    "end": "1079159"
  },
  {
    "text": "system call invoked by the sandbox seed",
    "start": "1079159",
    "end": "1081799"
  },
  {
    "text": "will return and after it returns it will",
    "start": "1081799",
    "end": "1084919"
  },
  {
    "text": "call clone system call and the clown",
    "start": "1084919",
    "end": "1087520"
  },
  {
    "text": "after the clown system call return a new",
    "start": "1087520",
    "end": "1090320"
  },
  {
    "text": "Sandbox will be created so um uh so so",
    "start": "1090320",
    "end": "1096280"
  },
  {
    "text": "in this way a new Sandbox will be",
    "start": "1096280",
    "end": "1098520"
  },
  {
    "text": "created by the by by the seed itself",
    "start": "1098520",
    "end": "1101840"
  },
  {
    "text": "cost CL system call so after the um the",
    "start": "1101840",
    "end": "1105520"
  },
  {
    "text": "the new Sandbox is is it is still",
    "start": "1105520",
    "end": "1108600"
  },
  {
    "text": "uh single Stratus process and so we have",
    "start": "1108600",
    "end": "1112360"
  },
  {
    "text": "to recover ground time which will call",
    "start": "1112360",
    "end": "1116000"
  },
  {
    "text": "started the war function inside G time",
    "start": "1116000",
    "end": "1118799"
  },
  {
    "text": "and uh first um um create more OS R for",
    "start": "1118799",
    "end": "1124159"
  },
  {
    "text": "scheduling and",
    "start": "1124159",
    "end": "1127640"
  },
  {
    "text": "also uh uh and and this and this time we",
    "start": "1127640",
    "end": "1131080"
  },
  {
    "text": "have to also unpost the kernel to uh let",
    "start": "1131080",
    "end": "1134200"
  },
  {
    "text": "the the language run time to run uh at",
    "start": "1134200",
    "end": "1137520"
  },
  {
    "text": "the same time we have have to uh for con",
    "start": "1137520",
    "end": "1140600"
  },
  {
    "text": "have to call another uh function which",
    "start": "1140600",
    "end": "1143240"
  },
  {
    "text": "is activate sandbox it will send some uh",
    "start": "1143240",
    "end": "1146679"
  },
  {
    "text": "fds and config which is needed by the",
    "start": "1146679",
    "end": "1149679"
  },
  {
    "text": "function inside the sandbox and the FD",
    "start": "1149679",
    "end": "1152360"
  },
  {
    "text": "represents a function code image which",
    "start": "1152360",
    "end": "1154960"
  },
  {
    "text": "is also an e s image and this will be",
    "start": "1154960",
    "end": "1159320"
  },
  {
    "text": "memory mapped into the Sentry and for",
    "start": "1159320",
    "end": "1162000"
  },
  {
    "text": "for for running the specific user code",
    "start": "1162000",
    "end": "1166200"
  },
  {
    "text": "and at last we will just run the",
    "start": "1166200",
    "end": "1168320"
  },
  {
    "text": "function",
    "start": "1168320",
    "end": "1169840"
  },
  {
    "text": "and uh after resume the gas kernel and",
    "start": "1169840",
    "end": "1174520"
  },
  {
    "text": "uh this function will handle the real",
    "start": "1174520",
    "end": "1177159"
  },
  {
    "text": "user request and send back the",
    "start": "1177159",
    "end": "1180320"
  },
  {
    "text": "response so uh here is a simple uh",
    "start": "1180320",
    "end": "1184360"
  },
  {
    "text": "evaluation um uh the the detail of our",
    "start": "1184360",
    "end": "1188120"
  },
  {
    "text": "physical machine is shown as above uh we",
    "start": "1188120",
    "end": "1191159"
  },
  {
    "text": "have achieved around 5 millisecond Cod",
    "start": "1191159",
    "end": "1194280"
  },
  {
    "text": "start time uh when when when the the the",
    "start": "1194280",
    "end": "1197799"
  },
  {
    "text": "concurrency is one and uh you can also",
    "start": "1197799",
    "end": "1200280"
  },
  {
    "text": "see um when the concurrency is uh higher",
    "start": "1200280",
    "end": "1204840"
  },
  {
    "text": "U we we still still uh achieve a good uh",
    "start": "1204840",
    "end": "1209480"
  },
  {
    "text": "a good latency and the tail latency is",
    "start": "1209480",
    "end": "1212320"
  },
  {
    "text": "also um uh acceptable yes and for each",
    "start": "1212320",
    "end": "1217559"
  },
  {
    "text": "instance we will only cost around one",
    "start": "1217559",
    "end": "1221960"
  },
  {
    "text": "megabytes memory overhead which uh which",
    "start": "1221960",
    "end": "1225039"
  },
  {
    "text": "represents the uh the the gas kernel",
    "start": "1225039",
    "end": "1227840"
  },
  {
    "text": "entry and the uh language R time for we",
    "start": "1227840",
    "end": "1230760"
  },
  {
    "text": "use folk uh and Fulk will will use a",
    "start": "1230760",
    "end": "1233760"
  },
  {
    "text": "copy and right strategy so um when we",
    "start": "1233760",
    "end": "1237360"
  },
  {
    "text": "when we start to run in the user",
    "start": "1237360",
    "end": "1239440"
  },
  {
    "text": "functions it will cost more but we only",
    "start": "1239440",
    "end": "1242480"
  },
  {
    "text": "account uh uh the the the memory",
    "start": "1242480",
    "end": "1246280"
  },
  {
    "text": "overhead after FK not running the user",
    "start": "1246280",
    "end": "1249640"
  },
  {
    "text": "function and uh we also achieve uh an",
    "start": "1249640",
    "end": "1252880"
  },
  {
    "text": "end to end um",
    "start": "1252880",
    "end": "1256679"
  },
  {
    "text": "1,500 qu per second on a single server",
    "start": "1256679",
    "end": "1260120"
  },
  {
    "text": "and compared to the uh original divisor",
    "start": "1260120",
    "end": "1263600"
  },
  {
    "text": "U uh which is 200 QPS and we we think we",
    "start": "1263600",
    "end": "1270480"
  },
  {
    "text": "have done a eight times better",
    "start": "1270480",
    "end": "1275279"
  },
  {
    "text": "performance so here is a a summary U",
    "start": "1275279",
    "end": "1278840"
  },
  {
    "text": "first we have uh done the uh we we",
    "start": "1278840",
    "end": "1282240"
  },
  {
    "text": "mostly have done three uh Works to make",
    "start": "1282240",
    "end": "1285559"
  },
  {
    "text": "it fast first is fast interaction um uh",
    "start": "1285559",
    "end": "1289440"
  },
  {
    "text": "next is uh secondly is single Pro",
    "start": "1289440",
    "end": "1292080"
  },
  {
    "text": "sandbox process and last is sandbox F",
    "start": "1292080",
    "end": "1295120"
  },
  {
    "text": "and N visor based fast is now available",
    "start": "1295120",
    "end": "1298400"
  },
  {
    "text": "on alipe cloudbase which is a fast uh",
    "start": "1298400",
    "end": "1301799"
  },
  {
    "text": "production uh product provided um by an",
    "start": "1301799",
    "end": "1306240"
  },
  {
    "text": "group so uh you can you can access the",
    "start": "1306240",
    "end": "1310080"
  },
  {
    "text": "uh URL below to to to view the",
    "start": "1310080",
    "end": "1313720"
  },
  {
    "text": "detail uh so that's all for my talk",
    "start": "1313720",
    "end": "1316320"
  },
  {
    "text": "thank you very much",
    "start": "1316320",
    "end": "1319919"
  },
  {
    "text": "uh free for",
    "start": "1320720",
    "end": "1324039"
  },
  {
    "text": "questions which",
    "start": "1326320",
    "end": "1329559"
  },
  {
    "text": "part slide last last",
    "start": "1332240",
    "end": "1336279"
  },
  {
    "text": "slid this slide",
    "start": "1336279",
    "end": "1340320"
  },
  {
    "text": "okay any",
    "start": "1341159",
    "end": "1344400"
  },
  {
    "text": "questions okay",
    "start": "1347000",
    "end": "1350520"
  },
  {
    "text": "I have some question on single sandbox",
    "start": "1353320",
    "end": "1356360"
  },
  {
    "text": "process single s Bo",
    "start": "1356360",
    "end": "1360440"
  },
  {
    "text": "process this uh yes yes because as far",
    "start": "1362159",
    "end": "1365919"
  },
  {
    "text": "as I know jiser have uh separate the",
    "start": "1365919",
    "end": "1370240"
  },
  {
    "text": "files uh file visit",
    "start": "1370240",
    "end": "1373320"
  },
  {
    "text": "process uh this yes like this one oh go",
    "start": "1373320",
    "end": "1377159"
  },
  {
    "text": "from the centry yeah yeah uh for the",
    "start": "1377159",
    "end": "1381200"
  },
  {
    "text": "security reason yes because they think",
    "start": "1381200",
    "end": "1383480"
  },
  {
    "text": "many attack happens when uh when the",
    "start": "1383480",
    "end": "1387559"
  },
  {
    "text": "user a want to visit some illegal file",
    "start": "1387559",
    "end": "1391679"
  },
  {
    "text": "system so they separate the file visit",
    "start": "1391679",
    "end": "1395360"
  },
  {
    "text": "to another go for process yes but you",
    "start": "1395360",
    "end": "1398640"
  },
  {
    "text": "put it back to Century yes so how you um",
    "start": "1398640",
    "end": "1403200"
  },
  {
    "text": "prevent the this illegal visit yes or",
    "start": "1403200",
    "end": "1407240"
  },
  {
    "text": "okay okay okay thank you",
    "start": "1407240",
    "end": "1408960"
  },
  {
    "text": "uh first first uh divisor use C to",
    "start": "1408960",
    "end": "1411799"
  },
  {
    "text": "prevent some facet some specific attacks",
    "start": "1411799",
    "end": "1415200"
  },
  {
    "text": "uh and mainly about some dangerous",
    "start": "1415200",
    "end": "1418919"
  },
  {
    "text": "system cause or dangerous file file",
    "start": "1418919",
    "end": "1421799"
  },
  {
    "text": "operations uh in the first scenario uh",
    "start": "1421799",
    "end": "1424640"
  },
  {
    "text": "the file system access is is simple so",
    "start": "1424640",
    "end": "1427600"
  },
  {
    "text": "we can keep the root have as uh uh read",
    "start": "1427600",
    "end": "1431039"
  },
  {
    "text": "only and just just like um we we have we",
    "start": "1431039",
    "end": "1434880"
  },
  {
    "text": "have no permissions to to write anything",
    "start": "1434880",
    "end": "1437640"
  },
  {
    "text": "in into the RO have as but we have we do",
    "start": "1437640",
    "end": "1440640"
  },
  {
    "text": "have some uh scenarios to for we have to",
    "start": "1440640",
    "end": "1444080"
  },
  {
    "text": "have to run some uh have to write some",
    "start": "1444080",
    "end": "1446880"
  },
  {
    "text": "temporary file so we use the temp FS",
    "start": "1446880",
    "end": "1450279"
  },
  {
    "text": "this temp FS has no relationship with",
    "start": "1450279",
    "end": "1453360"
  },
  {
    "text": "the root FS the root FS is uh still",
    "start": "1453360",
    "end": "1456279"
  },
  {
    "text": "keeps the read only and just uh just uh",
    "start": "1456279",
    "end": "1460039"
  },
  {
    "text": "an erfs image file so we have no no",
    "start": "1460039",
    "end": "1463720"
  },
  {
    "text": "right to the erfs image so here the the",
    "start": "1463720",
    "end": "1467559"
  },
  {
    "text": "security concern is um do temp FS could",
    "start": "1467559",
    "end": "1472000"
  },
  {
    "text": "could could be uh used to do do some",
    "start": "1472000",
    "end": "1475760"
  },
  {
    "text": "attack and the temp FS will only uh",
    "start": "1475760",
    "end": "1479320"
  },
  {
    "text": "related to two system call which is",
    "start": "1479320",
    "end": "1481600"
  },
  {
    "text": "write and read uh we believe that um",
    "start": "1481600",
    "end": "1484720"
  },
  {
    "text": "first in in the in the in the pr uh in",
    "start": "1484720",
    "end": "1487799"
  },
  {
    "text": "the original divisor Behavior Uh it will",
    "start": "1487799",
    "end": "1491600"
  },
  {
    "text": "use goer to open the file but the Sentry",
    "start": "1491600",
    "end": "1494880"
  },
  {
    "text": "itself will uh read and write through",
    "start": "1494880",
    "end": "1498919"
  },
  {
    "text": "the FD passed by gopher so the original",
    "start": "1498919",
    "end": "1502840"
  },
  {
    "text": "divisor will read and write uh at the",
    "start": "1502840",
    "end": "1506720"
  },
  {
    "text": "single",
    "start": "1506720",
    "end": "1507640"
  },
  {
    "text": "FD so it it we we just not we do not",
    "start": "1507640",
    "end": "1511399"
  },
  {
    "text": "break the security uh level and in this",
    "start": "1511399",
    "end": "1515039"
  },
  {
    "text": "way we just uh read and write at the",
    "start": "1515039",
    "end": "1518600"
  },
  {
    "text": "temp back and file FD so the read and R",
    "start": "1518600",
    "end": "1522799"
  },
  {
    "text": "system call is considered to considered",
    "start": "1522799",
    "end": "1525360"
  },
  {
    "text": "to be save uh for we have also has",
    "start": "1525360",
    "end": "1529320"
  },
  {
    "text": "succumb to to to to limited this uh Its",
    "start": "1529320",
    "end": "1534120"
  },
  {
    "text": "Behavior okay okay thank",
    "start": "1534120",
    "end": "1537799"
  },
  {
    "text": "you any other",
    "start": "1541880",
    "end": "1545520"
  },
  {
    "text": "question okay so that's all for my talk",
    "start": "1552120",
    "end": "1556159"
  },
  {
    "text": "and uh welcome to",
    "start": "1556159",
    "end": "1559080"
  },
  {
    "text": "um Talk uh individually after this",
    "start": "1559080",
    "end": "1563080"
  },
  {
    "text": "presentation okay thank you",
    "start": "1563080",
    "end": "1567519"
  }
]