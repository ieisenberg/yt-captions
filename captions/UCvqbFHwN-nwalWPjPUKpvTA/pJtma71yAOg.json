[
  {
    "text": "hello everyone",
    "start": "2800",
    "end": "3760"
  },
  {
    "text": "i'm jonathan gonzalez from chile and i'm",
    "start": "3760",
    "end": "6319"
  },
  {
    "text": "currently the maintainer of the",
    "start": "6319",
    "end": "7600"
  },
  {
    "text": "post resql output plugin for flow and",
    "start": "7600",
    "end": "9360"
  },
  {
    "text": "beat in the last ngo for my life i've",
    "start": "9360",
    "end": "11679"
  },
  {
    "text": "been working with",
    "start": "11679",
    "end": "12639"
  },
  {
    "text": "data processing and log processing for",
    "start": "12639",
    "end": "14719"
  },
  {
    "text": "reports stats analysis and everything",
    "start": "14719",
    "end": "17359"
  },
  {
    "text": "infosec reporting even so this time i'm",
    "start": "17359",
    "end": "20640"
  },
  {
    "text": "going to talk about the",
    "start": "20640",
    "end": "22320"
  },
  {
    "text": "output plane for fluent beat",
    "start": "22320",
    "end": "25359"
  },
  {
    "text": "but what does it mean this means that",
    "start": "25359",
    "end": "27519"
  },
  {
    "text": "i'm going to explain you a lot of stuff",
    "start": "27519",
    "end": "29039"
  },
  {
    "text": "related to how to process the locks",
    "start": "29039",
    "end": "31359"
  },
  {
    "text": "on the flow and bit size and push the",
    "start": "31359",
    "end": "33120"
  },
  {
    "text": "locks inside pull the sql",
    "start": "33120",
    "end": "35280"
  },
  {
    "text": "so let's start the talk one of the",
    "start": "35280",
    "end": "38239"
  },
  {
    "text": "motivation to pay",
    "start": "38239",
    "end": "39920"
  },
  {
    "text": "start this plugin and a year and a half",
    "start": "39920",
    "end": "42879"
  },
  {
    "text": "ago",
    "start": "42879",
    "end": "43280"
  },
  {
    "text": "it was to play with the post sql type",
    "start": "43280",
    "end": "45120"
  },
  {
    "text": "json b which is apparently",
    "start": "45120",
    "end": "46879"
  },
  {
    "text": "representation of javascript object",
    "start": "46879",
    "end": "49200"
  },
  {
    "text": "notation",
    "start": "49200",
    "end": "50879"
  },
  {
    "text": "we needed to create basically to process",
    "start": "50879",
    "end": "53680"
  },
  {
    "text": "uh",
    "start": "53680",
    "end": "54239"
  },
  {
    "text": "years of logs and find one line between",
    "start": "54239",
    "end": "57039"
  },
  {
    "text": "millions of files",
    "start": "57039",
    "end": "58239"
  },
  {
    "text": "wasn't that easy at that time we needed",
    "start": "58239",
    "end": "61440"
  },
  {
    "text": "to generate",
    "start": "61440",
    "end": "62160"
  },
  {
    "text": "users report infosys reports for",
    "start": "62160",
    "end": "65360"
  },
  {
    "text": "i don't know administration management",
    "start": "65360",
    "end": "67119"
  },
  {
    "text": "stuff like that",
    "start": "67119",
    "end": "69520"
  },
  {
    "text": "and maybe create some start from",
    "start": "69520",
    "end": "71600"
  },
  {
    "text": "starting from these logs",
    "start": "71600",
    "end": "73600"
  },
  {
    "text": "like i don't know in summer we have a",
    "start": "73600",
    "end": "75439"
  },
  {
    "text": "lot of visits on this site or",
    "start": "75439",
    "end": "77040"
  },
  {
    "text": "this summer users started to log in",
    "start": "77040",
    "end": "80080"
  },
  {
    "text": "more stuff like that people can ask",
    "start": "80080",
    "end": "83600"
  },
  {
    "text": "questions",
    "start": "83600",
    "end": "85200"
  },
  {
    "text": "in the beginning the initial idea was uh",
    "start": "85200",
    "end": "88560"
  },
  {
    "text": "to follow this simple process fluid bit",
    "start": "88560",
    "end": "91280"
  },
  {
    "text": "collect data",
    "start": "91280",
    "end": "92320"
  },
  {
    "text": "collect logs from different sources",
    "start": "92320",
    "end": "95119"
  },
  {
    "text": "using different",
    "start": "95119",
    "end": "96079"
  },
  {
    "text": "input plugins and send them directly",
    "start": "96079",
    "end": "98720"
  },
  {
    "text": "into poster sql",
    "start": "98720",
    "end": "100320"
  },
  {
    "text": "into the table and from there you will",
    "start": "100320",
    "end": "102399"
  },
  {
    "text": "be installing logs",
    "start": "102399",
    "end": "103920"
  },
  {
    "text": "but with time and talking with my",
    "start": "103920",
    "end": "106159"
  },
  {
    "text": "colleagues",
    "start": "106159",
    "end": "107280"
  },
  {
    "text": "we finally decided that a best idea",
    "start": "107280",
    "end": "109680"
  },
  {
    "text": "would be",
    "start": "109680",
    "end": "110560"
  },
  {
    "text": "keep fluent bit sending logs into post",
    "start": "110560",
    "end": "113680"
  },
  {
    "text": "sql but first process them using pl's",
    "start": "113680",
    "end": "116079"
  },
  {
    "text": "sql",
    "start": "116079",
    "end": "116799"
  },
  {
    "text": "language this will be allow us to",
    "start": "116799",
    "end": "120079"
  },
  {
    "text": "separate files in between different",
    "start": "120079",
    "end": "121920"
  },
  {
    "text": "tables or maybe purposes in something",
    "start": "121920",
    "end": "124719"
  },
  {
    "text": "or even just create some rules",
    "start": "124719",
    "end": "128560"
  },
  {
    "text": "we have the logs inside our sql",
    "start": "128560",
    "end": "132239"
  },
  {
    "text": "or in our case inside our pl sql",
    "start": "132239",
    "end": "137440"
  },
  {
    "text": "from it will send the data as the data",
    "start": "137440",
    "end": "139920"
  },
  {
    "text": "logs as json objects",
    "start": "139920",
    "end": "141680"
  },
  {
    "text": "which mean that they will have a big",
    "start": "141680",
    "end": "143200"
  },
  {
    "text": "json plus",
    "start": "143200",
    "end": "144720"
  },
  {
    "text": "some data in our case it will contain uh",
    "start": "144720",
    "end": "148160"
  },
  {
    "text": "times a timestamp and attack plus the",
    "start": "148160",
    "end": "151120"
  },
  {
    "text": "json object with everything",
    "start": "151120",
    "end": "153280"
  },
  {
    "text": "in the main table we will sort the raw",
    "start": "153280",
    "end": "154720"
  },
  {
    "text": "data into one main table",
    "start": "154720",
    "end": "156800"
  },
  {
    "text": "meaning it's the table option in the in",
    "start": "156800",
    "end": "159840"
  },
  {
    "text": "the plugin",
    "start": "159840",
    "end": "161040"
  },
  {
    "text": "and we decided to process with using pl",
    "start": "161040",
    "end": "164720"
  },
  {
    "text": "sql to process and split the data into",
    "start": "164720",
    "end": "166720"
  },
  {
    "text": "many tables one table or just",
    "start": "166720",
    "end": "170640"
  },
  {
    "text": "split the data for the table or using",
    "start": "170640",
    "end": "173599"
  },
  {
    "text": "store them in the same table that's",
    "start": "173599",
    "end": "175360"
  },
  {
    "text": "not an issue so we can use",
    "start": "175360",
    "end": "178480"
  },
  {
    "text": "any object inside",
    "start": "178480",
    "end": "181760"
  },
  {
    "text": "any field inside the json object to",
    "start": "181760",
    "end": "185120"
  },
  {
    "text": "decide when to store the data where to",
    "start": "185120",
    "end": "187120"
  },
  {
    "text": "store it uh split it by",
    "start": "187120",
    "end": "188959"
  },
  {
    "text": "using some special handle",
    "start": "188959",
    "end": "192319"
  },
  {
    "text": "or anything like that so you will take",
    "start": "192319",
    "end": "194640"
  },
  {
    "text": "the decision",
    "start": "194640",
    "end": "195519"
  },
  {
    "text": "based on the json object",
    "start": "195519",
    "end": "199040"
  },
  {
    "text": "but what is json b or json on pos sql",
    "start": "199040",
    "end": "203519"
  },
  {
    "text": "well json is just javascript object",
    "start": "203519",
    "end": "205599"
  },
  {
    "text": "notation",
    "start": "205599",
    "end": "207120"
  },
  {
    "text": "in in in our pos sql there's a",
    "start": "207120",
    "end": "210640"
  },
  {
    "text": "secure technical report that you can",
    "start": "210640",
    "end": "212640"
  },
  {
    "text": "check out on the slide right here",
    "start": "212640",
    "end": "216080"
  },
  {
    "text": "template which is the implementation of",
    "start": "216159",
    "end": "219120"
  },
  {
    "text": "json on post sql",
    "start": "219120",
    "end": "222560"
  },
  {
    "text": "the idea is you can have json or json b",
    "start": "222799",
    "end": "226319"
  },
  {
    "text": "but we use json b because you support",
    "start": "226319",
    "end": "228319"
  },
  {
    "text": "indexing which means that it's easy to",
    "start": "228319",
    "end": "230640"
  },
  {
    "text": "create the data",
    "start": "230640",
    "end": "231840"
  },
  {
    "text": "and keep it indexed because we know that",
    "start": "231840",
    "end": "235760"
  },
  {
    "text": "index create faster queries right",
    "start": "235760",
    "end": "239439"
  },
  {
    "text": "and it's easy to query json is just you",
    "start": "239439",
    "end": "242480"
  },
  {
    "text": "can select data",
    "start": "242480",
    "end": "244000"
  },
  {
    "text": "and a field inside in this case date",
    "start": "244000",
    "end": "246480"
  },
  {
    "text": "from the table",
    "start": "246480",
    "end": "247360"
  },
  {
    "text": "and you will get the data but",
    "start": "247360",
    "end": "250560"
  },
  {
    "text": "one of the biggest reason is to use json",
    "start": "250560",
    "end": "252799"
  },
  {
    "text": "is that it is really",
    "start": "252799",
    "end": "254000"
  },
  {
    "text": "really easy to export and using other",
    "start": "254000",
    "end": "255680"
  },
  {
    "text": "apps in this case",
    "start": "255680",
    "end": "257040"
  },
  {
    "text": "uh we can export uh json",
    "start": "257040",
    "end": "260239"
  },
  {
    "text": "to any option or application we want to",
    "start": "260239",
    "end": "262720"
  },
  {
    "text": "process data",
    "start": "262720",
    "end": "263600"
  },
  {
    "text": "or to process logs from time to time or",
    "start": "263600",
    "end": "266000"
  },
  {
    "text": "anything",
    "start": "266000",
    "end": "267759"
  },
  {
    "text": "how we can configure this uh plane the",
    "start": "267759",
    "end": "270479"
  },
  {
    "text": "main configuration you will need",
    "start": "270479",
    "end": "272560"
  },
  {
    "text": "obviously the host because you will may",
    "start": "272560",
    "end": "274880"
  },
  {
    "text": "not have password sql running on",
    "start": "274880",
    "end": "276240"
  },
  {
    "text": "localhost",
    "start": "276240",
    "end": "277120"
  },
  {
    "text": "and the port people will usually don't",
    "start": "277120",
    "end": "279520"
  },
  {
    "text": "change the port but",
    "start": "279520",
    "end": "280400"
  },
  {
    "text": "maybe you will need to change it uh user",
    "start": "280400",
    "end": "283440"
  },
  {
    "text": "and password",
    "start": "283440",
    "end": "284479"
  },
  {
    "text": "you can put it on the configuration but",
    "start": "284479",
    "end": "286160"
  },
  {
    "text": "we strongly recommend use pgpas file",
    "start": "286160",
    "end": "288639"
  },
  {
    "text": "because it's the best option and secure",
    "start": "288639",
    "end": "290960"
  },
  {
    "text": "for in this case",
    "start": "290960",
    "end": "292080"
  },
  {
    "text": "the database and a table the table will",
    "start": "292080",
    "end": "294160"
  },
  {
    "text": "be created if it's not exist",
    "start": "294160",
    "end": "296240"
  },
  {
    "text": "on the plugin when it's a startup and",
    "start": "296240",
    "end": "298000"
  },
  {
    "text": "connects to pulse sql so",
    "start": "298000",
    "end": "299759"
  },
  {
    "text": "you don't need to create it and we",
    "start": "299759",
    "end": "302320"
  },
  {
    "text": "support codextv using codecrossdb",
    "start": "302320",
    "end": "304720"
  },
  {
    "text": "equal true this is a codecrdb support",
    "start": "304720",
    "end": "307759"
  },
  {
    "text": "postsql protocol",
    "start": "307759",
    "end": "309919"
  },
  {
    "text": "but some queries don't they don't",
    "start": "309919",
    "end": "312720"
  },
  {
    "text": "support some functions and some queries",
    "start": "312720",
    "end": "314880"
  },
  {
    "text": "may",
    "start": "314880",
    "end": "315199"
  },
  {
    "text": "change so we created some special option",
    "start": "315199",
    "end": "317440"
  },
  {
    "text": "for it",
    "start": "317440",
    "end": "318639"
  },
  {
    "text": "there's a full list of options for the",
    "start": "318639",
    "end": "320639"
  },
  {
    "text": "plugin some",
    "start": "320639",
    "end": "321919"
  },
  {
    "text": "interesting some are not you can test",
    "start": "321919",
    "end": "323919"
  },
  {
    "text": "them and please report any back on it",
    "start": "323919",
    "end": "327840"
  },
  {
    "text": "so how to query the data the data as we",
    "start": "327840",
    "end": "331039"
  },
  {
    "text": "said before is",
    "start": "331039",
    "end": "332240"
  },
  {
    "text": "stored on json with two fields stack",
    "start": "332240",
    "end": "336400"
  },
  {
    "text": "time and data containing the json object",
    "start": "336400",
    "end": "340560"
  },
  {
    "text": "here is an example of data of one record",
    "start": "340560",
    "end": "344639"
  },
  {
    "text": "from fluent bit using the tag cpu.0",
    "start": "344639",
    "end": "348080"
  },
  {
    "text": "which is just using the",
    "start": "348080",
    "end": "350560"
  },
  {
    "text": "input plugging from fluid bit cpu",
    "start": "350560",
    "end": "354560"
  },
  {
    "text": "and limit into one you will see the data",
    "start": "354560",
    "end": "357440"
  },
  {
    "text": "over there",
    "start": "357440",
    "end": "358960"
  },
  {
    "text": "it's nice easy and simple",
    "start": "358960",
    "end": "362000"
  },
  {
    "text": "but in this case with apache loss you",
    "start": "362000",
    "end": "363759"
  },
  {
    "text": "can see something else more interesting",
    "start": "363759",
    "end": "366400"
  },
  {
    "text": "in this case we use the tag to separate",
    "start": "366400",
    "end": "369280"
  },
  {
    "text": "the logs",
    "start": "369280",
    "end": "370400"
  },
  {
    "text": "tag apache and you will see that we",
    "start": "370400",
    "end": "373520"
  },
  {
    "text": "contain the code date everything that",
    "start": "373520",
    "end": "375600"
  },
  {
    "text": "comes using the apache 2 parser",
    "start": "375600",
    "end": "378160"
  },
  {
    "text": "from fluency this is what's using the",
    "start": "378160",
    "end": "380800"
  },
  {
    "text": "tail plugin into",
    "start": "380800",
    "end": "382080"
  },
  {
    "text": "some processing apache locks but gears",
    "start": "382080",
    "end": "385440"
  },
  {
    "text": "of logs",
    "start": "385440",
    "end": "386240"
  },
  {
    "text": "we needed to analyze three years of",
    "start": "386240",
    "end": "387919"
  },
  {
    "text": "apache logs which is a really really big",
    "start": "387919",
    "end": "390319"
  },
  {
    "text": "tax",
    "start": "390319",
    "end": "391199"
  },
  {
    "text": "because we have around one terabyte of",
    "start": "391199",
    "end": "393919"
  },
  {
    "text": "data",
    "start": "393919",
    "end": "394560"
  },
  {
    "text": "and we needed to process it in just two",
    "start": "394560",
    "end": "396160"
  },
  {
    "text": "weeks so for this",
    "start": "396160",
    "end": "398080"
  },
  {
    "text": "we decided to use the tail plugin which",
    "start": "398080",
    "end": "399919"
  },
  {
    "text": "needed some updated and we added some",
    "start": "399919",
    "end": "402400"
  },
  {
    "text": "options into the documentation",
    "start": "402400",
    "end": "404080"
  },
  {
    "text": "to process the pos sql uh the apache",
    "start": "404080",
    "end": "407600"
  },
  {
    "text": "locks",
    "start": "407600",
    "end": "408160"
  },
  {
    "text": "into post sql we use the pl sql language",
    "start": "408160",
    "end": "410800"
  },
  {
    "text": "the processing speed data into different",
    "start": "410800",
    "end": "412880"
  },
  {
    "text": "tables",
    "start": "412880",
    "end": "413680"
  },
  {
    "text": "which because otherwise we will have",
    "start": "413680",
    "end": "416240"
  },
  {
    "text": "billions of rows inside",
    "start": "416240",
    "end": "417520"
  },
  {
    "text": "just one table but in our case we use",
    "start": "417520",
    "end": "420400"
  },
  {
    "text": "partition tables per month",
    "start": "420400",
    "end": "422160"
  },
  {
    "text": "which allow us to create proper indexes",
    "start": "422160",
    "end": "424960"
  },
  {
    "text": "and",
    "start": "424960",
    "end": "425280"
  },
  {
    "text": "query just one amount and this query for",
    "start": "425280",
    "end": "428240"
  },
  {
    "text": "month",
    "start": "428240",
    "end": "428560"
  },
  {
    "text": "took less than one second which is",
    "start": "428560",
    "end": "430800"
  },
  {
    "text": "really really amazing because in other",
    "start": "430800",
    "end": "432240"
  },
  {
    "text": "databases store logs this will obviously",
    "start": "432240",
    "end": "434319"
  },
  {
    "text": "create",
    "start": "434319",
    "end": "434880"
  },
  {
    "text": "more than one second because we have a",
    "start": "434880",
    "end": "436960"
  },
  {
    "text": "lot of data so let's deploy",
    "start": "436960",
    "end": "439039"
  },
  {
    "text": "uh inside kubernetes our fluent bit plus",
    "start": "439039",
    "end": "442000"
  },
  {
    "text": "sql output plane we will provide some",
    "start": "442000",
    "end": "444000"
  },
  {
    "text": "url on github which is open source",
    "start": "444000",
    "end": "446160"
  },
  {
    "text": "and you will be able to use customize to",
    "start": "446160",
    "end": "448000"
  },
  {
    "text": "deploy inside so",
    "start": "448000",
    "end": "449680"
  },
  {
    "text": "let's have some fun in the final",
    "start": "449680",
    "end": "452560"
  },
  {
    "text": "configuration you will be able to see",
    "start": "452560",
    "end": "454479"
  },
  {
    "text": "the simple fluid bit configuration with",
    "start": "454479",
    "end": "456960"
  },
  {
    "text": "the include statement to add",
    "start": "456960",
    "end": "459039"
  },
  {
    "text": "the conf files into the front bit",
    "start": "459039",
    "end": "462840"
  },
  {
    "text": "configuration",
    "start": "462840",
    "end": "465360"
  },
  {
    "text": "and in the file pause sql customization",
    "start": "465360",
    "end": "469520"
  },
  {
    "text": "is just a conflict map generator that",
    "start": "469520",
    "end": "471759"
  },
  {
    "text": "will",
    "start": "471759",
    "end": "472639"
  },
  {
    "text": "use the merge behavior to add output",
    "start": "472639",
    "end": "475360"
  },
  {
    "text": "postgresql.com file",
    "start": "475360",
    "end": "476879"
  },
  {
    "text": "into the fluent bit config map",
    "start": "476879",
    "end": "480400"
  },
  {
    "text": "and in the output postsql.conf",
    "start": "480400",
    "end": "483680"
  },
  {
    "text": "file you will be able to see the host",
    "start": "483680",
    "end": "485440"
  },
  {
    "text": "which is out of",
    "start": "485440",
    "end": "486879"
  },
  {
    "text": "kubernetes deployment using a dummy",
    "start": "486879",
    "end": "489280"
  },
  {
    "text": "password",
    "start": "489280",
    "end": "490400"
  },
  {
    "text": "and the user fluent bit",
    "start": "490400",
    "end": "494000"
  },
  {
    "text": "for the database fluent bit and",
    "start": "494000",
    "end": "495440"
  },
  {
    "text": "tablespoon bit that will match",
    "start": "495440",
    "end": "496879"
  },
  {
    "text": "everything",
    "start": "496879",
    "end": "497680"
  },
  {
    "text": "to the output plugin",
    "start": "497680",
    "end": "500800"
  },
  {
    "text": "okay that was easy but let's use some",
    "start": "502160",
    "end": "505199"
  },
  {
    "text": "pl sql language because we want all the",
    "start": "505199",
    "end": "508080"
  },
  {
    "text": "data in a separate table",
    "start": "508080",
    "end": "510000"
  },
  {
    "text": "because obviously we get",
    "start": "510000",
    "end": "513200"
  },
  {
    "text": "logs from many places so let's partition",
    "start": "513200",
    "end": "516640"
  },
  {
    "text": "that table",
    "start": "516640",
    "end": "517839"
  },
  {
    "text": "because maybe in the future we will need",
    "start": "517839",
    "end": "519518"
  },
  {
    "text": "partition by month",
    "start": "519519",
    "end": "521919"
  },
  {
    "text": "year weeks or days and use",
    "start": "521919",
    "end": "525200"
  },
  {
    "text": "some condition to fulfill the empty",
    "start": "525200",
    "end": "526800"
  },
  {
    "text": "fields so",
    "start": "526800",
    "end": "528880"
  },
  {
    "text": "let's see how this will work",
    "start": "528880",
    "end": "532240"
  },
  {
    "text": "in our example code we will first create",
    "start": "533600",
    "end": "536000"
  },
  {
    "text": "our table with all the data we want to",
    "start": "536000",
    "end": "537920"
  },
  {
    "text": "store with a partition option",
    "start": "537920",
    "end": "539680"
  },
  {
    "text": "that will be the useful in case we went",
    "start": "539680",
    "end": "541600"
  },
  {
    "text": "about to partition our table later",
    "start": "541600",
    "end": "545680"
  },
  {
    "text": "it's important that our table is owned",
    "start": "545760",
    "end": "548160"
  },
  {
    "text": "by the fluenb",
    "start": "548160",
    "end": "549040"
  },
  {
    "text": "user site is the one inserting the data",
    "start": "549040",
    "end": "552800"
  },
  {
    "text": "after that we create a default partition",
    "start": "552800",
    "end": "554959"
  },
  {
    "text": "will be the one",
    "start": "554959",
    "end": "555839"
  },
  {
    "text": "by default then we can create more",
    "start": "555839",
    "end": "558800"
  },
  {
    "text": "partition after if we want",
    "start": "558800",
    "end": "562560"
  },
  {
    "text": "we now create our function that will do",
    "start": "562560",
    "end": "564959"
  },
  {
    "text": "the final insert into the table",
    "start": "564959",
    "end": "568720"
  },
  {
    "text": "it's important that if the json object",
    "start": "568720",
    "end": "570560"
  },
  {
    "text": "doesn't come with a kubernetes object we",
    "start": "570560",
    "end": "572560"
  },
  {
    "text": "can discard that row",
    "start": "572560",
    "end": "574160"
  },
  {
    "text": "and return the full row since we want to",
    "start": "574160",
    "end": "576480"
  },
  {
    "text": "store the data even if it's not a",
    "start": "576480",
    "end": "578080"
  },
  {
    "text": "kubernetes object",
    "start": "578080",
    "end": "580959"
  },
  {
    "text": "then we go and start with the insert",
    "start": "582160",
    "end": "584320"
  },
  {
    "text": "into our table",
    "start": "584320",
    "end": "587040"
  },
  {
    "text": "it's important to notice that we want a",
    "start": "587040",
    "end": "588800"
  },
  {
    "text": "timestamp type",
    "start": "588800",
    "end": "590160"
  },
  {
    "text": "and make sure it will be like that for",
    "start": "590160",
    "end": "592000"
  },
  {
    "text": "that we use the default column",
    "start": "592000",
    "end": "593760"
  },
  {
    "text": "that comes with the plugin then we can",
    "start": "593760",
    "end": "597279"
  },
  {
    "text": "insert the data we want in our",
    "start": "597279",
    "end": "600560"
  },
  {
    "text": "case it will contain container image",
    "start": "600560",
    "end": "603760"
  },
  {
    "text": "container name namespace and host",
    "start": "603760",
    "end": "607920"
  },
  {
    "text": "we will add the labels and annotation",
    "start": "607920",
    "end": "610160"
  },
  {
    "text": "just to prove that we can add json data",
    "start": "610160",
    "end": "612160"
  },
  {
    "text": "too",
    "start": "612160",
    "end": "614160"
  },
  {
    "text": "we return an old value because we don't",
    "start": "614160",
    "end": "616560"
  },
  {
    "text": "want to store the data in the default",
    "start": "616560",
    "end": "618240"
  },
  {
    "text": "table but the one we decided",
    "start": "618240",
    "end": "620880"
  },
  {
    "text": "in our trigger",
    "start": "620880",
    "end": "623920"
  },
  {
    "text": "let's drop the trigger if exist and",
    "start": "624240",
    "end": "626240"
  },
  {
    "text": "create our trigger for our default table",
    "start": "626240",
    "end": "629680"
  },
  {
    "text": "this trigger will be executed for each",
    "start": "629680",
    "end": "631680"
  },
  {
    "text": "row inserted",
    "start": "631680",
    "end": "632720"
  },
  {
    "text": "in the table",
    "start": "632720",
    "end": "647839"
  },
  {
    "text": "so for the record we will let the",
    "start": "659279",
    "end": "660880"
  },
  {
    "text": "functions the pl sql function on the",
    "start": "660880",
    "end": "662959"
  },
  {
    "text": "slide so you can take",
    "start": "662959",
    "end": "664399"
  },
  {
    "text": "take them and use them later as an",
    "start": "664399",
    "end": "666399"
  },
  {
    "text": "example but you can see here that we can",
    "start": "666399",
    "end": "668720"
  },
  {
    "text": "query the data using",
    "start": "668720",
    "end": "670000"
  },
  {
    "text": "select distance based on the container",
    "start": "670000",
    "end": "672160"
  },
  {
    "text": "field in the kubernetes log",
    "start": "672160",
    "end": "674000"
  },
  {
    "text": "and we will see that we have five",
    "start": "674000",
    "end": "675600"
  },
  {
    "text": "records but there's one with an empty",
    "start": "675600",
    "end": "678160"
  },
  {
    "text": "field",
    "start": "678160",
    "end": "678720"
  },
  {
    "text": "maybe we need to look into this later",
    "start": "678720",
    "end": "680720"
  },
  {
    "text": "and see that",
    "start": "680720",
    "end": "681839"
  },
  {
    "text": "some objects will not come with the",
    "start": "681839",
    "end": "683680"
  },
  {
    "text": "container name or something like that",
    "start": "683680",
    "end": "685519"
  },
  {
    "text": "maybe that's a bug",
    "start": "685519",
    "end": "686720"
  },
  {
    "text": "but you can take a look and that will be",
    "start": "686720",
    "end": "689440"
  },
  {
    "text": "your task",
    "start": "689440",
    "end": "692000"
  },
  {
    "text": "but appeal sql function can be more",
    "start": "694160",
    "end": "696399"
  },
  {
    "text": "complicated because sometimes",
    "start": "696399",
    "end": "698079"
  },
  {
    "text": "we may want to send the data into more",
    "start": "698079",
    "end": "700720"
  },
  {
    "text": "than one just table",
    "start": "700720",
    "end": "702240"
  },
  {
    "text": "okay so let's see a function that can",
    "start": "702240",
    "end": "705440"
  },
  {
    "text": "speed the data depending on the tag if",
    "start": "705440",
    "end": "708560"
  },
  {
    "text": "the input doesn't match attack send it",
    "start": "708560",
    "end": "710560"
  },
  {
    "text": "to a default table",
    "start": "710560",
    "end": "711680"
  },
  {
    "text": "so we may be ending having three tables",
    "start": "711680",
    "end": "716399"
  },
  {
    "text": "so the following function will show you",
    "start": "716399",
    "end": "718880"
  },
  {
    "text": "how to split between",
    "start": "718880",
    "end": "720959"
  },
  {
    "text": "tags used with apache and tags",
    "start": "720959",
    "end": "724000"
  },
  {
    "text": "or the data that comes with kubernetes",
    "start": "724000",
    "end": "725680"
  },
  {
    "text": "inside",
    "start": "725680",
    "end": "727120"
  },
  {
    "text": "you can use this function as example for",
    "start": "727120",
    "end": "730000"
  },
  {
    "text": "later",
    "start": "730000",
    "end": "730800"
  },
  {
    "text": "but uh go and have some fun because",
    "start": "730800",
    "end": "734320"
  },
  {
    "text": "there's a lot of options you can use",
    "start": "734320",
    "end": "735600"
  },
  {
    "text": "here to split your data",
    "start": "735600",
    "end": "737279"
  },
  {
    "text": "and query it later",
    "start": "737279",
    "end": "740560"
  },
  {
    "text": "we will see some this is a pre-recorded",
    "start": "741600",
    "end": "743680"
  },
  {
    "text": "video and you will see",
    "start": "743680",
    "end": "744720"
  },
  {
    "text": "some examples like this one where in all",
    "start": "744720",
    "end": "746959"
  },
  {
    "text": "the",
    "start": "746959",
    "end": "748399"
  },
  {
    "text": "fields on kubernetes log table which is",
    "start": "748399",
    "end": "750480"
  },
  {
    "text": "not ideal",
    "start": "750480",
    "end": "751760"
  },
  {
    "text": "but we can select distinct containers",
    "start": "751760",
    "end": "753920"
  },
  {
    "text": "image from the kubernetes logs",
    "start": "753920",
    "end": "756399"
  },
  {
    "text": "in this case we will select the",
    "start": "756399",
    "end": "757680"
  },
  {
    "text": "container image and count them",
    "start": "757680",
    "end": "761440"
  },
  {
    "text": "obviously we need to group by a field",
    "start": "770399",
    "end": "773519"
  },
  {
    "text": "in this case container image and see",
    "start": "773519",
    "end": "776079"
  },
  {
    "text": "that we have a lot of container",
    "start": "776079",
    "end": "777839"
  },
  {
    "text": "but maybe we want to know what if we",
    "start": "777839",
    "end": "780160"
  },
  {
    "text": "split the",
    "start": "780160",
    "end": "780959"
  },
  {
    "text": "containers and count them by host that's",
    "start": "780959",
    "end": "783440"
  },
  {
    "text": "easy just add cost",
    "start": "783440",
    "end": "784800"
  },
  {
    "text": "and group by host then we have all the",
    "start": "784800",
    "end": "787600"
  },
  {
    "text": "containers",
    "start": "787600",
    "end": "788480"
  },
  {
    "text": "split them using host so",
    "start": "788480",
    "end": "791839"
  },
  {
    "text": "yeah this is a nice and",
    "start": "791839",
    "end": "795760"
  },
  {
    "text": "this is cool but let's see something",
    "start": "795760",
    "end": "798880"
  },
  {
    "text": "else",
    "start": "798880",
    "end": "801839"
  },
  {
    "text": "in this case we are going to select all",
    "start": "815519",
    "end": "817920"
  },
  {
    "text": "the fields",
    "start": "817920",
    "end": "818800"
  },
  {
    "text": "from the kubernetes logs where the",
    "start": "818800",
    "end": "820720"
  },
  {
    "text": "container image is fluent bit",
    "start": "820720",
    "end": "822720"
  },
  {
    "text": "okay there's a lot of data maybe that's",
    "start": "822720",
    "end": "824800"
  },
  {
    "text": "not so useful",
    "start": "824800",
    "end": "825760"
  },
  {
    "text": "you know uh well",
    "start": "825760",
    "end": "829120"
  },
  {
    "text": "but you can see it's sql so",
    "start": "829120",
    "end": "832320"
  },
  {
    "text": "let's uh do something different what",
    "start": "832320",
    "end": "834480"
  },
  {
    "text": "about distinct host",
    "start": "834480",
    "end": "836000"
  },
  {
    "text": "and count all the",
    "start": "836000",
    "end": "839040"
  },
  {
    "text": "fluent bit image running on different",
    "start": "839040",
    "end": "840839"
  },
  {
    "text": "hosts",
    "start": "840839",
    "end": "843839"
  },
  {
    "text": "okay we have some good numbers here",
    "start": "846320",
    "end": "849680"
  },
  {
    "text": "i will ask why we have 13",
    "start": "849680",
    "end": "853120"
  },
  {
    "text": "just on master 02 but that's up",
    "start": "853120",
    "end": "857839"
  },
  {
    "text": "in our in the following case we will see",
    "start": "860639",
    "end": "862720"
  },
  {
    "text": "some uh",
    "start": "862720",
    "end": "863760"
  },
  {
    "text": "kubernetes law and split all the things",
    "start": "863760",
    "end": "866959"
  },
  {
    "text": "that is running on",
    "start": "866959",
    "end": "868160"
  },
  {
    "text": "master zero one with the continued image",
    "start": "868160",
    "end": "870240"
  },
  {
    "text": "fluent bit",
    "start": "870240",
    "end": "872880"
  },
  {
    "text": "okay that's a lot of information again",
    "start": "875680",
    "end": "879360"
  },
  {
    "text": "but maybe we need to",
    "start": "879360",
    "end": "882480"
  },
  {
    "text": "split it that'll work later so let's see",
    "start": "882480",
    "end": "884560"
  },
  {
    "text": "something else what about the apache",
    "start": "884560",
    "end": "886320"
  },
  {
    "text": "logs",
    "start": "886320",
    "end": "888160"
  },
  {
    "text": "as you can see the example we used just",
    "start": "888160",
    "end": "890480"
  },
  {
    "text": "for field host pattern code plus the",
    "start": "890480",
    "end": "892480"
  },
  {
    "text": "timestamp",
    "start": "892480",
    "end": "893600"
  },
  {
    "text": "which is a lot of data maybe not so much",
    "start": "893600",
    "end": "896480"
  },
  {
    "text": "data but",
    "start": "896480",
    "end": "897440"
  },
  {
    "text": "it will contain different fields so as",
    "start": "897440",
    "end": "899760"
  },
  {
    "text": "you can see there's a lot of data but",
    "start": "899760",
    "end": "902000"
  },
  {
    "text": "not so useful let's group by uh the path",
    "start": "902000",
    "end": "905680"
  },
  {
    "text": "and count them",
    "start": "905680",
    "end": "913839"
  },
  {
    "text": "okay this is a lot of data here",
    "start": "917600",
    "end": "921600"
  },
  {
    "text": "not too much data doesn't say anything",
    "start": "921600",
    "end": "924959"
  },
  {
    "text": "let's do something different",
    "start": "924959",
    "end": "928240"
  },
  {
    "text": "what about the adding the host but",
    "start": "932160",
    "end": "936720"
  },
  {
    "text": "yeah let's work with the host",
    "start": "936720",
    "end": "941440"
  },
  {
    "text": "okay what now we have the host but still",
    "start": "941440",
    "end": "944079"
  },
  {
    "text": "not",
    "start": "944079",
    "end": "944639"
  },
  {
    "text": "so much information useful",
    "start": "944639",
    "end": "948240"
  },
  {
    "text": "so let's use something to",
    "start": "950880",
    "end": "954000"
  },
  {
    "text": "split the data but about but like i",
    "start": "954000",
    "end": "957040"
  },
  {
    "text": "don't know",
    "start": "957040",
    "end": "957839"
  },
  {
    "text": "wordpress",
    "start": "957839",
    "end": "960320"
  },
  {
    "text": "there's a lot of data with wordpress",
    "start": "967040",
    "end": "970480"
  },
  {
    "text": "well this is something that will happen",
    "start": "972880",
    "end": "974880"
  },
  {
    "text": "but we want everything that",
    "start": "974880",
    "end": "976720"
  },
  {
    "text": "the code is 200 no",
    "start": "976720",
    "end": "979920"
  },
  {
    "text": "that's a lot of 200 as you can see this",
    "start": "979920",
    "end": "981680"
  },
  {
    "text": "is a wordpress",
    "start": "981680",
    "end": "983680"
  },
  {
    "text": "running there",
    "start": "983680",
    "end": "986240"
  },
  {
    "text": "so let's see everything that it's not",
    "start": "988320",
    "end": "990560"
  },
  {
    "text": "found okay this is more nice",
    "start": "990560",
    "end": "994000"
  },
  {
    "text": "but you know it's a patch locks",
    "start": "994240",
    "end": "997920"
  },
  {
    "text": "you can you will have a lot of data here",
    "start": "997920",
    "end": "1000320"
  },
  {
    "text": "so let's see some",
    "start": "1000320",
    "end": "1001279"
  },
  {
    "text": "other examples with different queries",
    "start": "1001279",
    "end": "1011839"
  },
  {
    "text": "but let's see now what is in the default",
    "start": "1013199",
    "end": "1017199"
  },
  {
    "text": "table through a bit oh there's a lot of",
    "start": "1017199",
    "end": "1019600"
  },
  {
    "text": "records",
    "start": "1019600",
    "end": "1020480"
  },
  {
    "text": "okay let's see the different text we",
    "start": "1020480",
    "end": "1023040"
  },
  {
    "text": "have we got there",
    "start": "1023040",
    "end": "1026000"
  },
  {
    "text": "and as you can see we have apache log",
    "start": "1026079",
    "end": "1027760"
  },
  {
    "text": "that maybe didn't fit",
    "start": "1027760",
    "end": "1029120"
  },
  {
    "text": "on the filter and the cpu",
    "start": "1029120",
    "end": "1032720"
  },
  {
    "text": "so let's see all the data that is has",
    "start": "1032720",
    "end": "1035520"
  },
  {
    "text": "the",
    "start": "1035520",
    "end": "1036839"
  },
  {
    "text": "cpu",
    "start": "1036839",
    "end": "1039839"
  },
  {
    "text": "okay you will see that there's a lot of",
    "start": "1048079",
    "end": "1050240"
  },
  {
    "text": "data that didn't fit in our",
    "start": "1050240",
    "end": "1052160"
  },
  {
    "text": "functions so it was stored on the",
    "start": "1052160",
    "end": "1054880"
  },
  {
    "text": "default table",
    "start": "1054880",
    "end": "1056000"
  },
  {
    "text": "that was the sense of having a default",
    "start": "1056000",
    "end": "1057760"
  },
  {
    "text": "table because you",
    "start": "1057760",
    "end": "1059039"
  },
  {
    "text": "may not want to lose any data at any",
    "start": "1059039",
    "end": "1062000"
  },
  {
    "text": "moment",
    "start": "1062000",
    "end": "1062720"
  },
  {
    "text": "of your process so let's see some data",
    "start": "1062720",
    "end": "1066880"
  },
  {
    "text": "for example data",
    "start": "1066880",
    "end": "1068080"
  },
  {
    "text": "for the cpu as you can see it's just",
    "start": "1068080",
    "end": "1070640"
  },
  {
    "text": "like",
    "start": "1070640",
    "end": "1071200"
  },
  {
    "text": "everything on fluid",
    "start": "1071200",
    "end": "1080160"
  },
  {
    "text": "as you'll see we can do a lot of stuff",
    "start": "1080160",
    "end": "1082880"
  },
  {
    "text": "with",
    "start": "1082880",
    "end": "1083520"
  },
  {
    "text": "this plugin and once the data is on",
    "start": "1083520",
    "end": "1085919"
  },
  {
    "text": "pulse sql",
    "start": "1085919",
    "end": "1087120"
  },
  {
    "text": "but there's some ideas you may want to",
    "start": "1087120",
    "end": "1089280"
  },
  {
    "text": "experiment right now",
    "start": "1089280",
    "end": "1091520"
  },
  {
    "text": "like graph the data using rafana which",
    "start": "1091520",
    "end": "1094000"
  },
  {
    "text": "is a",
    "start": "1094000",
    "end": "1094799"
  },
  {
    "text": "very useful tool to create graphs split",
    "start": "1094799",
    "end": "1097840"
  },
  {
    "text": "the data",
    "start": "1097840",
    "end": "1098480"
  },
  {
    "text": "per weeks not just month or maybe per",
    "start": "1098480",
    "end": "1101360"
  },
  {
    "text": "year",
    "start": "1101360",
    "end": "1101919"
  },
  {
    "text": "if you have that amount of time maybe a",
    "start": "1101919",
    "end": "1104799"
  },
  {
    "text": "day",
    "start": "1104799",
    "end": "1105280"
  },
  {
    "text": "would be useful to start testing stuff",
    "start": "1105280",
    "end": "1108480"
  },
  {
    "text": "create some script to out for automatics",
    "start": "1108480",
    "end": "1111919"
  },
  {
    "text": "reports",
    "start": "1111919",
    "end": "1112640"
  },
  {
    "text": "per month or per year that's also some",
    "start": "1112640",
    "end": "1114799"
  },
  {
    "text": "idea you can get from here",
    "start": "1114799",
    "end": "1117840"
  },
  {
    "text": "maybe there's something else you can add",
    "start": "1117840",
    "end": "1120160"
  },
  {
    "text": "in the ideas",
    "start": "1120160",
    "end": "1121360"
  },
  {
    "text": "so please drop me a message right here",
    "start": "1121360",
    "end": "1124960"
  },
  {
    "text": "after this talk you are now able to use",
    "start": "1124960",
    "end": "1127039"
  },
  {
    "text": "fluid plus positive square in its",
    "start": "1127039",
    "end": "1128799"
  },
  {
    "text": "capabilities",
    "start": "1128799",
    "end": "1130720"
  },
  {
    "text": "we are now going to add ssl connection",
    "start": "1130720",
    "end": "1133120"
  },
  {
    "text": "support for pulse sql",
    "start": "1133120",
    "end": "1134559"
  },
  {
    "text": "and schema support this will mean that",
    "start": "1134559",
    "end": "1136720"
  },
  {
    "text": "you will be able to",
    "start": "1136720",
    "end": "1138000"
  },
  {
    "text": "use ssl to connect to password sql in",
    "start": "1138000",
    "end": "1141039"
  },
  {
    "text": "the meantime we hope to get some",
    "start": "1141039",
    "end": "1142320"
  },
  {
    "text": "feedback from the users",
    "start": "1142320",
    "end": "1143440"
  },
  {
    "text": "you and any kind of idea to add to the",
    "start": "1143440",
    "end": "1146160"
  },
  {
    "text": "plugin",
    "start": "1146160",
    "end": "1147200"
  },
  {
    "text": "so please contact me on twitter and",
    "start": "1147200",
    "end": "1149919"
  },
  {
    "text": "let's go with the questions",
    "start": "1149919",
    "end": "1157759"
  }
]