[
  {
    "start": "0",
    "end": "27000"
  },
  {
    "text": "hi this session is presented by the kubernetes vmware user group this group is about running all forms of",
    "start": "960",
    "end": "7440"
  },
  {
    "text": "kubernetes on the vmware infrastructure platforms from a user's perspective",
    "start": "7440",
    "end": "12480"
  },
  {
    "text": "i'm steve wong co-chair of the user group i work on kubernetes and a few other open source projects as an",
    "start": "12480",
    "end": "18960"
  },
  {
    "text": "employee of vmware today i'm joined by miles the other co-chair miles i'll let you introduce yourself",
    "start": "18960",
    "end": "25760"
  },
  {
    "text": "and take over okay thanks for that steve so uh when we get into it here",
    "start": "25760",
    "end": "31599"
  },
  {
    "start": "27000",
    "end": "226000"
  },
  {
    "text": "um we're gonna have a look through the agenda so uh first thing that we're gonna do is give an overview of the vsphere cloud",
    "start": "31599",
    "end": "37680"
  },
  {
    "text": "provider and the related storage plugins that is the vsphere cloud provider out of tree and",
    "start": "37680",
    "end": "45840"
  },
  {
    "text": "the csi driver that we launched about a year and a half ago now so we're going to cover any recent",
    "start": "45840",
    "end": "51600"
  },
  {
    "text": "changes and features in that as well as the current architecture of the csi driver and how we're planning on",
    "start": "51600",
    "end": "58320"
  },
  {
    "text": "doing a migration from the old entry vcp to the new csi driver that we have",
    "start": "58320",
    "end": "64320"
  },
  {
    "text": "then i'm going to hand it over to steve and steve is going to talk about the new kubernetes features that are",
    "start": "64320",
    "end": "70000"
  },
  {
    "text": "built into our desktop hypervisors at vmware and then he's going to close up with how",
    "start": "70000",
    "end": "75200"
  },
  {
    "text": "you can get involved with the vmware user group meet other users of vmware technologies that are trying to run containers and",
    "start": "75200",
    "end": "81280"
  },
  {
    "text": "kubernetes to share experiences and advice with each other so um let's start off with the vsphere",
    "start": "81280",
    "end": "89200"
  },
  {
    "text": "cloud provider and what it does so the vsphere cloud provider",
    "start": "89200",
    "end": "94560"
  },
  {
    "text": "uh is is what makes kubernetes cloud native it's uh the glue layer if you want to",
    "start": "94560",
    "end": "101119"
  },
  {
    "text": "think about it that way between kubernetes and the infrastructure that means kubernetes doesn't have to be opinionated or",
    "start": "101119",
    "end": "106799"
  },
  {
    "text": "doesn't have to have built-in logic about how to interact with the underlying platform it just knows how to do that via these",
    "start": "106799",
    "end": "112560"
  },
  {
    "text": "cloud provider plugins so there were two different models to begin with there was the intrigue cloud",
    "start": "112560",
    "end": "118079"
  },
  {
    "text": "providers and what that means is the core code for adding support for a new cloud",
    "start": "118079",
    "end": "124000"
  },
  {
    "text": "was added to the kubernetes code base itself it wasn't really a plug-in it was put a plug-in",
    "start": "124000",
    "end": "129599"
  },
  {
    "text": "from the api perspective but it was directly in the core code so that meant if you installed kubernetes you had",
    "start": "129599",
    "end": "135200"
  },
  {
    "text": "that um cloud provider plug-in just sort of installed by default because it was just part of the core code",
    "start": "135200",
    "end": "141200"
  },
  {
    "text": "that led to a lot of challenges particularly around code bloat and the core kubernetes repo",
    "start": "141200",
    "end": "148000"
  },
  {
    "text": "security on security vulnerabilities that weren't getting patched um if there was a bug for example in one",
    "start": "148000",
    "end": "153519"
  },
  {
    "text": "of those cloud provider plug-ins you would have to upgrade your entire kubernetes distribution in order to patch that you couldn't just patch the",
    "start": "153519",
    "end": "159599"
  },
  {
    "text": "plug-in because it's part of the core code so there was a lot of drawbacks to actually embedding them in kubernetes so",
    "start": "159599",
    "end": "165519"
  },
  {
    "text": "community came together and decided we're going to move all this stuff out of tree into discrete plugins that you have to explicitly install",
    "start": "165519",
    "end": "172239"
  },
  {
    "text": "so we built the vsphere cloud provider which is the out of tree version of that and it supports um stuff like how",
    "start": "172239",
    "end": "180080"
  },
  {
    "text": "telling kubernetes how to interact with the vsphere infrastructure underneath how to tag",
    "start": "180080",
    "end": "185120"
  },
  {
    "text": "particular vms how to figure out what az a given",
    "start": "185120",
    "end": "191440"
  },
  {
    "text": "host is in vsphere how that correlates to kubernetes and it also provides a lot of the infrastructure that we use in the csi",
    "start": "191440",
    "end": "197920"
  },
  {
    "text": "driver around the logic of how how the plug-in can talk to vcenter itself",
    "start": "197920",
    "end": "203840"
  },
  {
    "text": "um there are a bunch of primitives that are supported by the kubernetes cloud provider spec that",
    "start": "203840",
    "end": "209440"
  },
  {
    "text": "we don't support out of the box with the vsphere cloud provider so things like load balancers roots and that kind of thing",
    "start": "209440",
    "end": "215680"
  },
  {
    "text": "because we have a separate cni that does that as well so if you want more details go and have a look at the cloud provider",
    "start": "215680",
    "end": "222319"
  },
  {
    "text": "vsphere sig site there on the slide so um i'm going to talk to you now about",
    "start": "222319",
    "end": "229680"
  },
  {
    "text": "storage on vsphere as it pertains to kubernetes so we're going to look at the vcp which is the old entry way of doing things we talked",
    "start": "229680",
    "end": "236799"
  },
  {
    "text": "about the cpi just now and by the way cpi is what we're calling the cloud provider interface",
    "start": "236799",
    "end": "243040"
  },
  {
    "text": "or the vsphere cloud provider and the csi is the cloud storage container",
    "start": "243040",
    "end": "249439"
  },
  {
    "text": "storage interface and that is what we call our new out of tree version of the storage driver so the vcp",
    "start": "249439",
    "end": "257519"
  },
  {
    "text": "um to give you sort of an architectural look at things was what i was just talking about the thing that was built",
    "start": "257519",
    "end": "262880"
  },
  {
    "text": "into kubernetes natively so you can see that here it's just a core part of kubernetes you install kubernetes",
    "start": "262880",
    "end": "268080"
  },
  {
    "text": "you get the vcp and it enabled dynamic provisioning of volumes and kubernetes which is",
    "start": "268080",
    "end": "273440"
  },
  {
    "text": "pretty much a must-have whenever you're trying to deploy stateful apps on top of kate's you need something that does dynamic",
    "start": "273440",
    "end": "278880"
  },
  {
    "text": "provisioning of storage um and it did uh data service granularity at an spvm policy level so if you created a",
    "start": "278880",
    "end": "286160"
  },
  {
    "text": "storage class within kubernetes that one-to-one maps to a storage policy",
    "start": "286160",
    "end": "291199"
  },
  {
    "text": "in vcenter so storage policy is a vsphere concept which is essentially identical actually to a storage class so",
    "start": "291199",
    "end": "298400"
  },
  {
    "text": "it's very convenient we just mapped one to the other but we talked about the drawbacks before if there was a bug in the vcp or if",
    "start": "298400",
    "end": "304880"
  },
  {
    "text": "there was a problem with it you had to upgrade your entire kubernetes distribution so say you're on 1.11 you know because the vcp",
    "start": "304880",
    "end": "312800"
  },
  {
    "text": "is quite old now if you're on 1.11 there is a bug in the vcp",
    "start": "312800",
    "end": "317919"
  },
  {
    "text": "say we fixed it in 1.12 and pushed that into the upstream repo you would have to move your entire",
    "start": "317919",
    "end": "323039"
  },
  {
    "text": "kubernetes distribution from 1.11 to 1.12 a whole major step so rather than just being",
    "start": "323039",
    "end": "329680"
  },
  {
    "text": "able to update the vcp itself you had to update everything so there were some drawbacks there",
    "start": "329680",
    "end": "336880"
  },
  {
    "text": "so with vsphere 6.7 u3 uh we introduced uh two things so we",
    "start": "336880",
    "end": "342479"
  },
  {
    "text": "introduced cns control plane inside of vsphere and we introduced a csi driver as well so the csi driver",
    "start": "342479",
    "end": "349199"
  },
  {
    "text": "took the logic that was in the vcp and made it out of tree that means that you can",
    "start": "349199",
    "end": "354960"
  },
  {
    "text": "rev the csi driver without having to upgrade your kubernetes so again if there's a new feature or there's a bug or fixed or whatever in",
    "start": "354960",
    "end": "362000"
  },
  {
    "text": "a new version of the csi driver you just update csi you don't have to update your kate's version and you can",
    "start": "362000",
    "end": "367440"
  },
  {
    "text": "see that here i've sort of tried to highlight that by showing csi is just another pod it's",
    "start": "367440",
    "end": "372560"
  },
  {
    "text": "another workload that runs inside your cage cluster and it uses this new cns control plane",
    "start": "372560",
    "end": "377840"
  },
  {
    "text": "that we built into vsphere so the old way of doing things with the vcp it was kind of hacky if if you look at",
    "start": "377840",
    "end": "384639"
  },
  {
    "text": "how it actually provision volumes basically what it did was if you requested a 100 gig volume for example",
    "start": "384639",
    "end": "391039"
  },
  {
    "text": "it would create a vm with no resources attached to it but it would also attach a vmdk of 100",
    "start": "391039",
    "end": "398800"
  },
  {
    "text": "gigs in size and the reason it did that was because there was no primitive uh to just deploy a disk",
    "start": "398800",
    "end": "404720"
  },
  {
    "text": "so it would deploy a vm with a disk attached unmount the disk throw away the v throw",
    "start": "404720",
    "end": "410720"
  },
  {
    "text": "away the vm and then remount the disk into wherever it was needed obviously that's a lot of overhead that",
    "start": "410720",
    "end": "416240"
  },
  {
    "text": "really didn't need to happen so we fixed all of that stuff with cns and csi so whenever we actually made this a",
    "start": "416240",
    "end": "422560"
  },
  {
    "text": "product in 6.7 u3 the new cns control plane uses a back-end storage",
    "start": "422560",
    "end": "428240"
  },
  {
    "text": "class or a back-end storage uh provisioning type in vcenter called",
    "start": "428240",
    "end": "433360"
  },
  {
    "text": "first class disks you can have a google for first class disks there's a good blog by cormac",
    "start": "433360",
    "end": "438479"
  },
  {
    "text": "cormachogan on that and that's essentially like a global catalog for disks within vcenter so it allowed",
    "start": "438479",
    "end": "446319"
  },
  {
    "text": "uh this individual creation of disks without having to have a vm that sort of",
    "start": "446319",
    "end": "451520"
  },
  {
    "text": "managed or looked after it um so we introduced that and that got a got rid of a lot of our uh technical",
    "start": "451520",
    "end": "457840"
  },
  {
    "text": "debt that we have in the vcp it's essentially a ground up rewrite of of the vcp from a storage perspective",
    "start": "457840",
    "end": "463680"
  },
  {
    "text": "and it did just the same stuff it allowed you to do dynamic provisioning of kubernetes volumes",
    "start": "463680",
    "end": "469599"
  },
  {
    "text": "again very important whenever you're deploying stateful workloads on top of case but it also added some really nice ui",
    "start": "469599",
    "end": "476400"
  },
  {
    "text": "elements into vcenter as well for cloud native storage so there's a whole new ui in vsphere for cloud native storage so",
    "start": "476400",
    "end": "483840"
  },
  {
    "text": "any of your kubernetes clusters in any of your applications that are deployed on top of esphere on",
    "start": "483840",
    "end": "489360"
  },
  {
    "text": "top of kubernetes because they're provisioned via cns we expose all that information straight",
    "start": "489360",
    "end": "495680"
  },
  {
    "text": "into the ui so you can see exactly you know an example you can see that there is a mongodb",
    "start": "495680",
    "end": "502080"
  },
  {
    "text": "primary node mounting this particular volume and all that information is directly",
    "start": "502080",
    "end": "507680"
  },
  {
    "text": "accessible to your vsphere administrators so they get all of that rich context",
    "start": "507680",
    "end": "513200"
  },
  {
    "text": "from the application layer down at the infrastructure layer to more effectively help you troubleshoot things",
    "start": "513200",
    "end": "518800"
  },
  {
    "text": "like for example we use the same pvc names as you have in kubernetes to identify the volumes in vsphere just",
    "start": "518800",
    "end": "524720"
  },
  {
    "text": "anything that we could do to lower the boundary between the two teams so that they they speak the same sort of language",
    "start": "524720",
    "end": "531600"
  },
  {
    "text": "then you know that was 6.7 u3 we've had two big releases since then we had 7.0",
    "start": "531600",
    "end": "536880"
  },
  {
    "text": "and 7.0 u1 and we added a whole dip a bunch of stuff to cns and csi for that",
    "start": "536880",
    "end": "541920"
  },
  {
    "text": "uh the first one was we offer uh file based persistent volumes now if you're using vsan as you're back in storage",
    "start": "541920",
    "end": "548240"
  },
  {
    "text": "so if you need rewrite many volume types for kubernetes you can do that now if you have vsan storage so it will",
    "start": "548240",
    "end": "553760"
  },
  {
    "text": "automatically provision nfs shares mount them into the appropriate containers for you we added support for",
    "start": "553760",
    "end": "559839"
  },
  {
    "text": "all types of vsphere storage for block so if you only need read write once you can now use that with vsan",
    "start": "559839",
    "end": "566080"
  },
  {
    "text": "vvols vmfs and nfs storage so any storage type supported by vsphere",
    "start": "566080",
    "end": "572800"
  },
  {
    "text": "and additionally we added a few other bits and pieces so we have offline volume resize support uh there",
    "start": "572800",
    "end": "579040"
  },
  {
    "text": "is support for snapshotting disks via valero with our vadp plug-in so we can do",
    "start": "579040",
    "end": "584800"
  },
  {
    "text": "atomic snapshots at the infrastructure layer of volumes that are being backed up by valero",
    "start": "584800",
    "end": "590399"
  },
  {
    "text": "and per persistent volume encryption as well so you can assign a storage policy that has encryption tied to it",
    "start": "590399",
    "end": "596640"
  },
  {
    "text": "and it will encrypt every disk by default for you we also added support for exporting",
    "start": "596640",
    "end": "602240"
  },
  {
    "text": "metrics from esxi and vsan into prometheus so if you're using prometheus for monitoring",
    "start": "602240",
    "end": "608399"
  },
  {
    "text": "you can pull the metrics or scrape the metrics from the esxi hosts directly into prometheus do auto scaling or whatever it is you",
    "start": "608399",
    "end": "615040"
  },
  {
    "text": "want to do on it there or maybe just build fancy graffana dashboards",
    "start": "615040",
    "end": "620319"
  },
  {
    "text": "so i think we all sort of know how this works but we're going to go through it here um this is the kind of the important bit",
    "start": "620880",
    "end": "627440"
  },
  {
    "text": "whenever it comes to cns and csi as to how this",
    "start": "627440",
    "end": "633360"
  },
  {
    "text": "makes volume provisioning work automatically so everything in orange here is vsphere everything in blue is kubernetes",
    "start": "633360",
    "end": "640160"
  },
  {
    "text": "so the first thing you or your administrator creates a storage policy within vcenter that defines",
    "start": "640160",
    "end": "646399"
  },
  {
    "text": "things like raid level quality of service all that kind of stuff and then in kubernetes you create",
    "start": "646399",
    "end": "651839"
  },
  {
    "text": "a storage class that points to that spvm policy it's just a name mapping really really simple",
    "start": "651839",
    "end": "657839"
  },
  {
    "text": "and then you've got csi that actually ties the two things together so you come along you deploy your",
    "start": "657839",
    "end": "663040"
  },
  {
    "text": "cassandra app it requests a volume so it asks for that from a particular storage class",
    "start": "663040",
    "end": "668079"
  },
  {
    "text": "storage class looks at the provider and says this is the vsphere csi hands it to our csi driver it will then look up",
    "start": "668079",
    "end": "674880"
  },
  {
    "text": "the vcenter connection information so it connects to the correct vcenter cns instance cns looks at the request",
    "start": "674880",
    "end": "681760"
  },
  {
    "text": "says okay they've asked for a 100 gig volume with a raid 1 policy applied to it hands",
    "start": "681760",
    "end": "687279"
  },
  {
    "text": "that off to the system creates two copies of it raid one and then passes that back up into the",
    "start": "687279",
    "end": "693040"
  },
  {
    "text": "appropriate worker node gives it a file system and mounts it back into the container so fully automated end to end once you",
    "start": "693040",
    "end": "700000"
  },
  {
    "text": "have created your sppm policy and storage class which you only need to do once now",
    "start": "700000",
    "end": "707360"
  },
  {
    "text": "the thing that most of you are probably wondering about is if i have this old vcp driver how do i",
    "start": "707360",
    "end": "714320"
  },
  {
    "text": "migrate to the new csi driver that's very good question so this is something that we've been actively working on in the back end it's not",
    "start": "714320",
    "end": "720320"
  },
  {
    "text": "fully baked yet but we do have beta support for this as of case 119",
    "start": "720320",
    "end": "725519"
  },
  {
    "text": "and vsphere 7.0 u1 so if you're on an infrastructure level of vsphere 70",
    "start": "725519",
    "end": "731760"
  },
  {
    "text": "7.0 u1 or above you know whenever you're watching this um and you have kubernetes 1.19",
    "start": "731760",
    "end": "738320"
  },
  {
    "text": "you can enable migration from the vcp to csi there is some documentation up on",
    "start": "738320",
    "end": "744720"
  },
  {
    "text": "the github site so if you want more info on how this actually works or how to do it go have a look there um but essentially",
    "start": "744720",
    "end": "752480"
  },
  {
    "text": "what it does is whenever you enable this at the cubelet level on each of your kubernetes nodes",
    "start": "752480",
    "end": "760800"
  },
  {
    "text": "it creates a web hook for any calls that would go to the vcp and redirects them",
    "start": "760800",
    "end": "766320"
  },
  {
    "text": "to the csi driver so the csi driver will then take those calls and just translate them",
    "start": "766320",
    "end": "771440"
  },
  {
    "text": "into cns calls so it'll do that for any newly created volumes in addition you can add a flag or an",
    "start": "771440",
    "end": "778480"
  },
  {
    "text": "annotation to your pvcs and that will say migrate these volumes",
    "start": "778480",
    "end": "784160"
  },
  {
    "text": "you know or this particular volume in the background then because like i said we added this new first",
    "start": "784160",
    "end": "790000"
  },
  {
    "text": "class disk concept fcd concept we need to do a disk migration at the vsphere layer layer uh whenever you add that",
    "start": "790000",
    "end": "796720"
  },
  {
    "text": "annotation it will then go and unschedule the pod that's attached to that",
    "start": "796720",
    "end": "802880"
  },
  {
    "text": "move the vmdk from just being a standard vmdk to being a first class disk",
    "start": "802880",
    "end": "808800"
  },
  {
    "text": "and then it will mount it back into the pod whenever it spins it back up again so it does the back end uh data",
    "start": "808800",
    "end": "814639"
  },
  {
    "text": "migration for you as well um like i say this will also require",
    "start": "814639",
    "end": "820160"
  },
  {
    "text": "a new csi driver as well because uh the current csi driver that that exists",
    "start": "820160",
    "end": "826480"
  },
  {
    "text": "out there doesn't have this baked in fully supported but if you want to try it in beta it's in",
    "start": "826480",
    "end": "831519"
  },
  {
    "text": "a patch release so the projected cutoff date for the intri",
    "start": "831519",
    "end": "838079"
  },
  {
    "start": "833000",
    "end": "965000"
  },
  {
    "text": "cloud provider is supposed to be kubernetes 1.21 you know it's been said to be 1.16 it",
    "start": "838079",
    "end": "845199"
  },
  {
    "text": "was said to be 1.18 the goal posts keep moving but at this point you know we have",
    "start": "845199",
    "end": "850720"
  },
  {
    "text": "a built uh migration path that is in beta so i would be fairly",
    "start": "850720",
    "end": "857839"
  },
  {
    "text": "confident that 1.21 is a good prediction for the vcp driver",
    "start": "857839",
    "end": "863360"
  },
  {
    "text": "to be removed from the core kubernetes code base so i would imagine that that's sort of our cutoff date there",
    "start": "863360",
    "end": "869760"
  },
  {
    "text": "the out of tree driver the csi driver is already recommended for all new installations",
    "start": "869760",
    "end": "874800"
  },
  {
    "text": "um there is no reason that you should be using the vcp other than it's the only thing that your",
    "start": "874800",
    "end": "880959"
  },
  {
    "text": "distribution supports but you should be able to to install custom csi drivers into",
    "start": "880959",
    "end": "886399"
  },
  {
    "text": "whatever distribution of kubernetes you're using so if you can use the csi driver from the get go it'll",
    "start": "886399",
    "end": "892560"
  },
  {
    "text": "just make your life a lot easier older vsphere versions the vcp supported",
    "start": "892560",
    "end": "898880"
  },
  {
    "text": "from 6.5 onward because of this new core code change that we had to do at the infrastructure",
    "start": "898880",
    "end": "905040"
  },
  {
    "text": "layer that support will be removed and you'll have to be on 6.7 u3 or above",
    "start": "905040",
    "end": "911199"
  },
  {
    "text": "to use the csi driver so that's sort of that covered i am",
    "start": "911199",
    "end": "917839"
  },
  {
    "text": "going to have a little look now at any of the recent changes uh what they were there wasn't a whole",
    "start": "917839",
    "end": "924639"
  },
  {
    "text": "lot since the last time we did this at uh kubecon europe um so there's only just two bug fixes listed here",
    "start": "924639",
    "end": "931360"
  },
  {
    "text": "um we have one where we fix a bug when discovering the vm's ip address by subnet or the network name so that's",
    "start": "931360",
    "end": "937759"
  },
  {
    "text": "been fixed and um fix the bug where the node may be prematurely uh deleted",
    "start": "937759",
    "end": "945680"
  },
  {
    "text": "if vm tools is slow to respond uh to report its host name so that's been fixed as well",
    "start": "945680",
    "end": "951360"
  },
  {
    "text": "aside from that not a whole lot because we are still developing some of the big major",
    "start": "951360",
    "end": "956639"
  },
  {
    "text": "functionality i'm going to push that up later in the year so at this point i'm going to hand it back",
    "start": "956639",
    "end": "962639"
  },
  {
    "text": "to steve thanks miles i'm going to move on from the vsphere",
    "start": "962639",
    "end": "968240"
  },
  {
    "start": "965000",
    "end": "1185000"
  },
  {
    "text": "hypervisor to using desktop hypervisors to host kubernetes clusters",
    "start": "968240",
    "end": "974240"
  },
  {
    "text": "why run kubernetes on your laptop well yes for production workloads",
    "start": "974240",
    "end": "979360"
  },
  {
    "text": "hosting in a public cloud or an on-premises data center is recommended but a local dev cluster is useful in",
    "start": "979360",
    "end": "986720"
  },
  {
    "text": "some circumstances when you want to a learning environment and you already have a computer",
    "start": "986720",
    "end": "992959"
  },
  {
    "text": "it may be cheaper than paying for cloud hosting when your internet connection is limited",
    "start": "992959",
    "end": "998320"
  },
  {
    "text": "it might be your only option when you want rapid turns as",
    "start": "998320",
    "end": "1003839"
  },
  {
    "text": "in early stages of development workflows a local dev cluster can be useful but",
    "start": "1003839",
    "end": "1009199"
  },
  {
    "text": "you need to be careful about how this fits with your cicd tooling",
    "start": "1009199",
    "end": "1016079"
  },
  {
    "text": "these are the options for kubernetes in a desktop hypervisor first kind second mini cube and third",
    "start": "1017839",
    "end": "1025760"
  },
  {
    "text": "running a lightweight distribution could be k3s microcase upstream cube atom or something else",
    "start": "1025760",
    "end": "1032720"
  },
  {
    "text": "inside a vm a desktop hypervisor whether it's workstation fusion virtual box or",
    "start": "1032720",
    "end": "1039438"
  },
  {
    "text": "something else can support all of these variants and if you're running linux",
    "start": "1039439",
    "end": "1045120"
  },
  {
    "text": "or a docker platform maybe you can avoid using a general purpose hypervisor",
    "start": "1045120",
    "end": "1050840"
  },
  {
    "text": "altogether kind stands for kubernetes in docker",
    "start": "1050840",
    "end": "1055919"
  },
  {
    "text": "and like the name implies it runs the various kubernetes subsystems inside docker it is lighter weight than",
    "start": "1055919",
    "end": "1064160"
  },
  {
    "text": "the other options at the expense of being less like the clusters that you would deploy in a",
    "start": "1064160",
    "end": "1069360"
  },
  {
    "text": "cloud kind's lighter weight tends to lead to a life cycle of very short-lived clusters it's easier",
    "start": "1069360",
    "end": "1077600"
  },
  {
    "text": "to tear them down and then rebuild them as you need them and these might be more reliable for a",
    "start": "1077600",
    "end": "1084559"
  },
  {
    "text": "local dev cluster use case you aren't tempted to postpone patches as much as you are with some of the",
    "start": "1084559",
    "end": "1091039"
  },
  {
    "text": "other variants and maybe you can afford to test against multiple versions of kubernetes",
    "start": "1091039",
    "end": "1097679"
  },
  {
    "text": "today i'm going to demo kind in a workstation hypervisor but see the kubecon europe recording",
    "start": "1097679",
    "end": "1106720"
  },
  {
    "text": "which is linked here for uh instructions on running minicube in a",
    "start": "1106720",
    "end": "1112480"
  },
  {
    "text": "desktop hypervisor as an alternative i'm intentionally to do",
    "start": "1112480",
    "end": "1117520"
  },
  {
    "text": "doing this demo on windows for two reasons first it's a little less straightforward",
    "start": "1117520",
    "end": "1123520"
  },
  {
    "text": "and if you have a windows laptop i think you might be a little bit more in need of an",
    "start": "1123520",
    "end": "1129200"
  },
  {
    "text": "assist from what you might learn from a demo",
    "start": "1129200",
    "end": "1133760"
  },
  {
    "text": "the same thing will work uh on linux or mac uh although a few of the install steps",
    "start": "1134559",
    "end": "1141440"
  },
  {
    "text": "will vary a bit they're close enough that i'm pretty confident you'd figure it out",
    "start": "1141440",
    "end": "1148000"
  },
  {
    "text": "about a month ago as i'm recording this vmware released a new version of of the workstation infusion",
    "start": "1148880",
    "end": "1155440"
  },
  {
    "text": "hypervisors for windows linux and mac the key new feature that was added for a",
    "start": "1155440",
    "end": "1161360"
  },
  {
    "text": "kubernetes audience is built-in support for running containers and kubernetes clusters",
    "start": "1161360",
    "end": "1167360"
  },
  {
    "text": "with a new cli called v-cuttle now you've always been able to run kubernetes in linux vms and minicube has",
    "start": "1167360",
    "end": "1174559"
  },
  {
    "text": "been supported for years but now you can directly deploy a kind cluster using the cli",
    "start": "1174559",
    "end": "1181520"
  },
  {
    "text": "and i'm about to show you how this works on windows i've pre-staged some of the necessary",
    "start": "1181520",
    "end": "1187919"
  },
  {
    "start": "1185000",
    "end": "1267000"
  },
  {
    "text": "steps because you've seen installs before but obviously you start by downloading",
    "start": "1187919",
    "end": "1193440"
  },
  {
    "text": "the installer binary for the desktop hypervisor and installing it the cube cuddle cli",
    "start": "1193440",
    "end": "1199840"
  },
  {
    "text": "is not bundled in with the hypervisor so you need to install that independently and this is just a standard kubernetes",
    "start": "1199840",
    "end": "1207200"
  },
  {
    "text": "component that's well documented in the kubernetes docs um if you're on windows and a kubernetes",
    "start": "1207200",
    "end": "1214080"
  },
  {
    "text": "newbie i'd recommend the option of using chocolaty as an easy way to do it with a one line",
    "start": "1214080",
    "end": "1221600"
  },
  {
    "text": "cut and paste to an admin command line and you can see the that command line right here",
    "start": "1221600",
    "end": "1229840"
  },
  {
    "text": "the other thing i've pre-staged is the installation of a tecton cli and the reason i've done",
    "start": "1229840",
    "end": "1236559"
  },
  {
    "text": "this is because i'm going to host a tecton ci cd platform on the kubernetes cluster",
    "start": "1236559",
    "end": "1244080"
  },
  {
    "text": "that i'm about to deploy so i'm going to cut to a demo screen if you want to try this at home",
    "start": "1244080",
    "end": "1250559"
  },
  {
    "text": "later in the published deck i'm including slides that detail all of these steps with the exact",
    "start": "1250559",
    "end": "1259120"
  },
  {
    "text": "entry that you need to type in on your command line so download the deck and you can cut and",
    "start": "1259120",
    "end": "1265120"
  },
  {
    "text": "paste commands from it later so the new container and kind feature is",
    "start": "1265120",
    "end": "1270720"
  },
  {
    "text": "based on technology similar to what went into vser7 for hosting containers within a rapidly",
    "start": "1270720",
    "end": "1276720"
  },
  {
    "text": "stageable vm kind is a binary produced by the kubernetes project",
    "start": "1276720",
    "end": "1282080"
  },
  {
    "text": "for deploying kubernetes components into a docker runtime with workstation 16 what you've got",
    "start": "1282080",
    "end": "1289440"
  },
  {
    "text": "is a version of kind that thinks it's talking to a standard container runtime interface like the one used by doctor",
    "start": "1289440",
    "end": "1296880"
  },
  {
    "text": "but is hooked up to the desktop hypervisor so the desktop pipe providers start with",
    "start": "1296880",
    "end": "1303600"
  },
  {
    "text": "a cli vcuttle that is intentionally similar to the docker cli",
    "start": "1303600",
    "end": "1309039"
  },
  {
    "text": "you're already familiar with let you let me show you this by typing in v cuddle with no parameters",
    "start": "1309039",
    "end": "1316240"
  },
  {
    "start": "1316000",
    "end": "1497000"
  },
  {
    "text": "you get usage guidance and what you see is the familiar command options of build push",
    "start": "1316240",
    "end": "1322880"
  },
  {
    "text": "pull run tag etc which i'm sure you're familiar with from docker",
    "start": "1322880",
    "end": "1328080"
  },
  {
    "text": "uh let me prove it by uh doing a docker or a v cuddle pull of",
    "start": "1328080",
    "end": "1335919"
  },
  {
    "text": "the classic hello world container i know what you're saying wow steve",
    "start": "1335919",
    "end": "1341280"
  },
  {
    "text": "messed up the demo already but trust me i did this on purpose the error tells you what to do to fix",
    "start": "1341280",
    "end": "1347200"
  },
  {
    "text": "the issue the container engine needs to be started this is intentional so that you",
    "start": "1347200",
    "end": "1352880"
  },
  {
    "text": "when you don't need the container run time it can be completely shut down something",
    "start": "1352880",
    "end": "1358480"
  },
  {
    "text": "you might appreciate when you need the most out of your laptop's memory cpu",
    "start": "1358480",
    "end": "1363679"
  },
  {
    "text": "or or battery so now i'll type in that v cuddle system start that the",
    "start": "1363679",
    "end": "1370080"
  },
  {
    "text": "error message suggested",
    "start": "1370080",
    "end": "1375840"
  },
  {
    "text": "and after a little while we're going to see that a container run time is available uh we can type in vcuttle system",
    "start": "1381039",
    "end": "1390240"
  },
  {
    "text": "info and this shows what is available to the",
    "start": "1391600",
    "end": "1398480"
  },
  {
    "text": "container runtime if it's needed this is configurable and you can see the output explains what the",
    "start": "1398480",
    "end": "1405120"
  },
  {
    "text": "current settings are and where the config file and the log lives now that that container runtime is",
    "start": "1405120",
    "end": "1411919"
  },
  {
    "text": "available let's try that docker hello world exercise again first i'm going to",
    "start": "1411919",
    "end": "1417679"
  },
  {
    "text": "pull the image",
    "start": "1417679",
    "end": "1420399"
  },
  {
    "text": "and then next i'll run it",
    "start": "1425840",
    "end": "1431840"
  },
  {
    "text": "what we want is full of kubernetes not just docker let's deploy a kind cluster so the",
    "start": "1441679",
    "end": "1448320"
  },
  {
    "text": "instruction for that is simply v cuddle kind",
    "start": "1448320",
    "end": "1453360"
  },
  {
    "text": "and you'll see a new window popped up and this window is set up to use kind",
    "start": "1454559",
    "end": "1462159"
  },
  {
    "text": "and it's going to make it a little bigger here and after maximizing this window i'm going to do a kind create cluster",
    "start": "1462159",
    "end": "1473840"
  },
  {
    "text": "this is going to take a few minutes probably more than one minute and less than five the time depends on the speed of",
    "start": "1474960",
    "end": "1482000"
  },
  {
    "text": "your system as well as the speed of your network connection in the interest of time on this recorded",
    "start": "1482000",
    "end": "1488559"
  },
  {
    "text": "demo i'm going to cut the elapsed time down",
    "start": "1488559",
    "end": "1493840"
  },
  {
    "text": "but expect it to take between one and five minutes",
    "start": "1493840",
    "end": "1500559"
  },
  {
    "start": "1497000",
    "end": "1834000"
  },
  {
    "text": "now that that's finished we should have a cluster but let's uh prove it by trying a few standard kind",
    "start": "1500559",
    "end": "1507840"
  },
  {
    "text": "docker and kubernetes commands first we'll try the cuddle images the equivalent of",
    "start": "1507840",
    "end": "1514320"
  },
  {
    "text": "docker images you can see that we have that hello world image we pulled as well as a",
    "start": "1514320",
    "end": "1520720"
  },
  {
    "text": "new one in the list associated with kind uh next we'll try cube cuddle version",
    "start": "1520720",
    "end": "1528240"
  },
  {
    "text": "and we'll see the version of the kubernetes cluster as well as the cube cuddle client you'll notice in the",
    "start": "1528240",
    "end": "1536080"
  },
  {
    "text": "last decimal point they're a little off but they're both version 1.18 so that's fine",
    "start": "1536080",
    "end": "1542640"
  },
  {
    "text": "next let's do cube cuddle",
    "start": "1542960",
    "end": "1547520"
  },
  {
    "text": "to look at what's lurking in the system namespace",
    "start": "1548640",
    "end": "1557760"
  },
  {
    "text": "and we see a lot of kubernetes components that are self-hosted in the cluster",
    "start": "1557760",
    "end": "1565039"
  },
  {
    "text": "we can also do a cube cuddle cluster info to take a look",
    "start": "1565039",
    "end": "1571760"
  },
  {
    "text": "at what we've got",
    "start": "1571760",
    "end": "1575440"
  },
  {
    "text": "and the kind binary will also show us what it thinks it's",
    "start": "1577440",
    "end": "1585360"
  },
  {
    "text": "deployed as far as clusters we have one cluster called",
    "start": "1585360",
    "end": "1590400"
  },
  {
    "text": "with the name of cli kind uh we'll use cube cuddle get nodes",
    "start": "1590400",
    "end": "1599840"
  },
  {
    "text": "we can use become ps to look at running docker containers and finally",
    "start": "1599840",
    "end": "1607760"
  },
  {
    "text": "we'll do uh use the cli for the hypervisor to see what has happened with regard to",
    "start": "1607760",
    "end": "1614720"
  },
  {
    "text": "running vms we've got one vm running so at this point we have a standard",
    "start": "1614720",
    "end": "1619840"
  },
  {
    "text": "kubernetes cluster with standard functionality nice but for that developer workflow i",
    "start": "1619840",
    "end": "1625360"
  },
  {
    "text": "talked about it's a foundation but still not a complete tool kit what about ci cd well techton",
    "start": "1625360",
    "end": "1633279"
  },
  {
    "text": "is a popular open source framework for driving cicd by hosting steps and pipelines",
    "start": "1633279",
    "end": "1640480"
  },
  {
    "text": "in a portable way that takes advantage of kubernetes the goal is that you can build test and",
    "start": "1640480",
    "end": "1647840"
  },
  {
    "text": "deploy anywhere and your ci",
    "start": "1647840",
    "end": "1653679"
  },
  {
    "text": "uh pipeline can't tell the difference between when it's run on my laptop or when it's run in a",
    "start": "1653679",
    "end": "1660000"
  },
  {
    "text": "public cloud the result should be the same anywhere with no snowflake build steps going on",
    "start": "1660000",
    "end": "1666720"
  },
  {
    "text": "we can use our kind cluster to host the additional tools we need uh for a techton framework",
    "start": "1666720",
    "end": "1674720"
  },
  {
    "text": "uh this isn't going to be a talk on techton so i'm just going to get started but let me at least show you how you can",
    "start": "1674720",
    "end": "1681039"
  },
  {
    "text": "use a desktop hypervisor as part of your cicd process",
    "start": "1681039",
    "end": "1686960"
  },
  {
    "text": "we'll start by installing tecton into our kubernetes cluster with cube cuddle",
    "start": "1686960",
    "end": "1692799"
  },
  {
    "text": "i'm going to download and apply the yaml from the tecton open source project",
    "start": "1692799",
    "end": "1699840"
  },
  {
    "text": "so there we have cube cuddle applying the yaml downloaded from the tecton project and you can see a bunch of stuff is",
    "start": "1701120",
    "end": "1708320"
  },
  {
    "text": "going on let's take a look cubecut will get pods all name spaces",
    "start": "1708320",
    "end": "1713760"
  },
  {
    "text": "and i'm going to predict we're going to see the couple of tecton pods",
    "start": "1713760",
    "end": "1721200"
  },
  {
    "text": "they're not in the ready state yet but they've been deployed",
    "start": "1721200",
    "end": "1726799"
  },
  {
    "text": "so we'll wait for those to start up",
    "start": "1726799",
    "end": "1739840"
  },
  {
    "text": "so now we've got uh techton running tecton runs cicd steps as something it",
    "start": "1741120",
    "end": "1748000"
  },
  {
    "text": "calls tasks it's a framework for running a ci cicd process on your choice of",
    "start": "1748000",
    "end": "1755039"
  },
  {
    "text": "kubernetes rather than run a full build test deploy cycle in the interest of",
    "start": "1755039",
    "end": "1761440"
  },
  {
    "text": "time i'm going to run a techdon hello world example that pretends",
    "start": "1761440",
    "end": "1767279"
  },
  {
    "text": "that emitting hello world is a step that is part of your build process this comes",
    "start": "1767279",
    "end": "1773600"
  },
  {
    "text": "from a blog post from brian mclean that i'm going to link in the deck so let me deploy from",
    "start": "1773600",
    "end": "1782080"
  },
  {
    "text": "the yaml in uh brian's github and um we've deployed a techcon",
    "start": "1782080",
    "end": "1789360"
  },
  {
    "text": "step that emulates a a build step",
    "start": "1789360",
    "end": "1794880"
  },
  {
    "text": "i'm going to use the tekton cli describe command to examine that build step",
    "start": "1794880",
    "end": "1804000"
  },
  {
    "text": "and you can see that it's started in status of running",
    "start": "1804000",
    "end": "1809039"
  },
  {
    "text": "so i'm going to try again to look at the state of that technon step",
    "start": "1809039",
    "end": "1816320"
  },
  {
    "text": "and you can see now that it had a duration of two minutes and now has a status of succeeded and",
    "start": "1816480",
    "end": "1823840"
  },
  {
    "text": "i'll see what's in the logs and you can see that logs show that",
    "start": "1823840",
    "end": "1830880"
  },
  {
    "text": "hello world was echoed so this content is brought to you by a",
    "start": "1830880",
    "end": "1837679"
  },
  {
    "start": "1834000",
    "end": "1899000"
  },
  {
    "text": "kubernetes user group and if you're using kubernetes on vsphere i invite you to formally join the group we",
    "start": "1837679",
    "end": "1845520"
  },
  {
    "text": "have meetings each month where we present tutorials and best practices the agenda is user driven so members are",
    "start": "1845520",
    "end": "1852399"
  },
  {
    "text": "encouraged to nominate presentation subjects and discussion topics including",
    "start": "1852399",
    "end": "1858640"
  },
  {
    "text": "discussions of feature requests we have two user tech leads who",
    "start": "1858640",
    "end": "1864080"
  },
  {
    "text": "aren't here today bryson shepard and joe cersei who helped us get this group started and",
    "start": "1864080",
    "end": "1869679"
  },
  {
    "text": "we're looking to grow this group into a diverse set of worldwide users the group is also running a slack",
    "start": "1869679",
    "end": "1876480"
  },
  {
    "text": "channel which is a great place to ask questions the kubernetes user channel might be a",
    "start": "1876480",
    "end": "1882000"
  },
  {
    "text": "better place for generic kubernetes questions but if you have a vsphere",
    "start": "1882000",
    "end": "1888240"
  },
  {
    "text": "specific topic to discuss the vmware users channel is a great place to find other users and",
    "start": "1888240",
    "end": "1894559"
  },
  {
    "text": "also to reach code and documentation contributors",
    "start": "1894559",
    "end": "1900480"
  },
  {
    "start": "1899000",
    "end": "1926000"
  },
  {
    "text": "so the next user group meeting will be december 3rd in the north american time zone",
    "start": "1900640",
    "end": "1906960"
  },
  {
    "text": "you can go to the kubernetes community calendar to get a conversion to your local time time",
    "start": "1906960",
    "end": "1913760"
  },
  {
    "text": "zone and add it to your calendar use the link in this slide you become a group member by joining the mailing list",
    "start": "1913760",
    "end": "1921039"
  },
  {
    "text": "using the link shown here and then finally there's a link to the group's slack channel miles and i",
    "start": "1921039",
    "end": "1928480"
  },
  {
    "start": "1926000",
    "end": "1953000"
  },
  {
    "text": "are going to hang around for q a here's a link that will get you this deck",
    "start": "1928480",
    "end": "1934000"
  },
  {
    "text": "and these are our github ids and you can also get in touch with us and the broader user community inside",
    "start": "1934000",
    "end": "1941200"
  },
  {
    "text": "from inside the groups slack channel thank you and i hope to see you in a future meeting at this point i'm going to turn",
    "start": "1941200",
    "end": "1948399"
  },
  {
    "text": "it back to the cncf conference moderators",
    "start": "1948399",
    "end": "1955760"
  }
]