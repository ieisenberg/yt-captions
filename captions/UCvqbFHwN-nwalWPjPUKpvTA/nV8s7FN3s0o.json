[
  {
    "text": "honestly thank you for for joining us so the whole premise of this session is going to be a workshop it's going to be",
    "start": "60",
    "end": "6180"
  },
  {
    "text": "Hands-On we've got some Labs out there in the cloud that will give us the ability to walk through some of the",
    "start": "6180",
    "end": "11880"
  },
  {
    "text": "storage fundamentals and then some storage troubleshooting obviously the name of the the session is what went",
    "start": "11880",
    "end": "17460"
  },
  {
    "text": "wrong with my persistent data so first of all introductions are Michael Cade I'm a technologist at veeam software or",
    "start": "17460",
    "end": "25260"
  },
  {
    "text": "more focused on the cloud native world um been at veeam looking after data",
    "start": "25260",
    "end": "30300"
  },
  {
    "text": "protection storage for the last eight years and before that I was an infrastructure admin focusing on things",
    "start": "30300",
    "end": "36239"
  },
  {
    "text": "like NetApp storage virtualization so I'm hoping I can bring some of that storage operations into into the session",
    "start": "36239",
    "end": "43079"
  },
  {
    "text": "and I'm joined with Lee my name is Lee I'm part of the engineering",
    "start": "43079",
    "end": "49520"
  },
  {
    "text": "unready and cognitive in general I worked with Bosch before in the automotive sector and I have just joined",
    "start": "49980",
    "end": "56100"
  },
  {
    "text": "Captain one and a half years ago so on the same same beginner in a boat with a",
    "start": "56100",
    "end": "61920"
  },
  {
    "text": "lot of folks here I think and I think that that's a trend between everyone that we're speaking to over",
    "start": "61920",
    "end": "67320"
  },
  {
    "text": "this week is we have some we have some developers we have some devops focused engineers and we have some operations",
    "start": "67320",
    "end": "73860"
  },
  {
    "text": "here whereas obviously going back kubernetes or cubecon on cloud nativecon it was probably more focused around",
    "start": "73860",
    "end": "80220"
  },
  {
    "text": "developers to begin with and now we're seeing that trend of people having to look after storage provision storage so",
    "start": "80220",
    "end": "86939"
  },
  {
    "text": "that's why we wanted to to start that um bring that Workshop to everyone and get get people Hands-On and start",
    "start": "86939",
    "end": "93900"
  },
  {
    "text": "looking it from a 101 perspective so I mean if you're if you're a storage admin",
    "start": "93900",
    "end": "99180"
  },
  {
    "text": "in a kubernetes world and you're running in production um it's probably going to be stuff that you already know but we want to get",
    "start": "99180",
    "end": "105600"
  },
  {
    "text": "people Hands-On and understanding what volumes are and everything around the the kubernetes storage space",
    "start": "105600",
    "end": "112200"
  },
  {
    "text": "the other call out that I want to make is uh Matt beta he's the labs that we've",
    "start": "112200",
    "end": "117420"
  },
  {
    "text": "got Bill he's he's uh worked tirelessly on on creating those so he's a huge huge",
    "start": "117420",
    "end": "122880"
  },
  {
    "text": "asset to what we're delivering today as well okay so I put this tweet out a couple of",
    "start": "122880",
    "end": "128880"
  },
  {
    "text": "a couple of weeks ago kubernetes storage is easy right how many people think kubernetes storage is easy",
    "start": "128880",
    "end": "135180"
  },
  {
    "text": "cool there's probably more sessions that you need to be in but I think when it comes to kubernetes",
    "start": "135180",
    "end": "142620"
  },
  {
    "text": "storage you can see just surrounding this like the word cloud there's lots of different factors and the storage that",
    "start": "142620",
    "end": "150060"
  },
  {
    "text": "maybe started with kubernetes and that Evolution there's a lot of different term terminologies",
    "start": "150060",
    "end": "156360"
  },
  {
    "text": "um constructs objects that come with that that storage situation so it",
    "start": "156360",
    "end": "161400"
  },
  {
    "text": "becomes a little bit overwhelming and that's what we're hopefully going to break down over the next 90 minutes with",
    "start": "161400",
    "end": "167879"
  },
  {
    "text": "some Hands-On but also some Theory now the big thing that we've done with our presentation is we've made it",
    "start": "167879",
    "end": "174720"
  },
  {
    "text": "there's a lot of information in there there's a lot of wordy slides I'm not going to boil everyone everyone can read",
    "start": "174720",
    "end": "180540"
  },
  {
    "text": "these it's actually in shed so you can you can go and find that that presentation now and use it afterwards",
    "start": "180540",
    "end": "186480"
  },
  {
    "text": "the whole point is we want to race through it not race through we don't want to go that quickly I want to get you the fundamentals of storage and then",
    "start": "186480",
    "end": "193319"
  },
  {
    "text": "we're going to get into some troubleshooting around that so to begin with the session flow of what",
    "start": "193319",
    "end": "198780"
  },
  {
    "text": "we want to go through is let's talk about volumes within kubernetes the different types of volumes",
    "start": "198780",
    "end": "204420"
  },
  {
    "text": "what they do what what's the use case for them then we're going to talk about persistent volume claims we're going to",
    "start": "204420",
    "end": "210599"
  },
  {
    "text": "talk about storage classes provisioners volume plug-ins and kind of set that stage of these are the fundamentals when",
    "start": "210599",
    "end": "216300"
  },
  {
    "text": "it comes to kubernetes storage and then we're going to start get some Hands-On with those fundamentals and then we're",
    "start": "216300",
    "end": "222120"
  },
  {
    "text": "going to come back and Lee's going to cover some actually the pulling them all together and deploying an application",
    "start": "222120",
    "end": "227159"
  },
  {
    "text": "within a kubernetes cluster and then the spoiler alert is there might be some issues with that so we have to go and",
    "start": "227159",
    "end": "233459"
  },
  {
    "text": "find out what those issues are and together we can walk through that and some of the troubleshooting techniques",
    "start": "233459",
    "end": "239580"
  },
  {
    "text": "that both Lee and myself would would go through from a Ops and a developer point",
    "start": "239580",
    "end": "245159"
  },
  {
    "text": "of view and then if we've got time but again these slides",
    "start": "245159",
    "end": "250319"
  },
  {
    "text": "are in and we've built labs around these if we've got time we want to then start looking at storage performance and the",
    "start": "250319",
    "end": "255540"
  },
  {
    "text": "protection of storage where there's storage there's generally data how do we look at protecting that data",
    "start": "255540",
    "end": "261780"
  },
  {
    "text": "so if we get there great if we don't that's fine as well everyone will get",
    "start": "261780",
    "end": "266820"
  },
  {
    "text": "access to the slides afterwards um and and the labs that we've created in instruct",
    "start": "266820",
    "end": "272460"
  },
  {
    "text": "we've also made available in a GitHub repo that will share um that we've written to be you can you",
    "start": "272460",
    "end": "280259"
  },
  {
    "text": "can run through it using mini Cube or basically any kubernetes cluster that you have access to",
    "start": "280259",
    "end": "286199"
  },
  {
    "text": "so I think to begin with like what is State what is what is the requirement around kubernetes storage why do we need",
    "start": "286199",
    "end": "292440"
  },
  {
    "text": "state or what is State when it comes to to kubernetes or any any data service within kubernetes and like I said",
    "start": "292440",
    "end": "298139"
  },
  {
    "text": "there's a lot of words on here because they should be able to stand alone these slides but what is state is basically",
    "start": "298139",
    "end": "304740"
  },
  {
    "text": "something that's relied on when that that pod comes up we want that database for example to be consistent whenever",
    "start": "304740",
    "end": "311400"
  },
  {
    "text": "the next pod comes up or whatever that life cycle looks like so we have the concept of stateless",
    "start": "311400",
    "end": "317240"
  },
  {
    "text": "applications and that's generally where kubernetes began web servers web Farms",
    "start": "317240",
    "end": "322340"
  },
  {
    "text": "spinning up and giving us the availability a container is has everything it needs inside",
    "start": "322340",
    "end": "328919"
  },
  {
    "text": "all of the the constructs of that it doesn't have a database Associated or maybe that database is associated",
    "start": "328919",
    "end": "334199"
  },
  {
    "text": "outside of the kubernetes cluster um and now we're seeing more of that that Trend around",
    "start": "334199",
    "end": "340919"
  },
  {
    "text": "um people bring in databases you can see on this on the show floor the amount of",
    "start": "340919",
    "end": "347100"
  },
  {
    "text": "database providers that are that are out there you can see that that trend is people are now putting workloads Within",
    "start": "347100",
    "end": "354419"
  },
  {
    "text": "kubernetes so as I mentioned stateless workloads is kind of where we started because there wasn't the the apis there wasn't the",
    "start": "354419",
    "end": "360960"
  },
  {
    "text": "construct within kubernetes to allow us to store stateful workloads or at least not in a very uh distributed system",
    "start": "360960",
    "end": "367139"
  },
  {
    "text": "manner so what we wanted to do was kind of highlight around okay from a stateful point of view okay as the life cycle of",
    "start": "367139",
    "end": "375180"
  },
  {
    "text": "that pod the upgrades the the updates to that pods",
    "start": "375180",
    "end": "380280"
  },
  {
    "text": "being refreshed how do we make sure that that database is the same database when it comes or",
    "start": "380280",
    "end": "386280"
  },
  {
    "text": "the data is still accessible from that that perspective so just a short demo and hopefully this",
    "start": "386280",
    "end": "392759"
  },
  {
    "text": "no that won't play like that hopefully it auto plays",
    "start": "392759",
    "end": "398400"
  },
  {
    "text": "but the whole idea is is that like we can create a pod with a postgres database in a non-persistent fashion and",
    "start": "398400",
    "end": "406380"
  },
  {
    "text": "we can write some data to that database that's not playing is it on it",
    "start": "406380",
    "end": "413039"
  },
  {
    "text": "that just does that now there we go",
    "start": "413039",
    "end": "419720"
  },
  {
    "text": "obviously if you think about a database obviously that's storing our important data in some most Fashions this is going",
    "start": "425100",
    "end": "432120"
  },
  {
    "text": "to be Mission critical data within our within our environments so we can go and create that postgres database you can",
    "start": "432120",
    "end": "438180"
  },
  {
    "text": "see here that this is a deployment it's a pod that we're going to spin up all good stuff it's going to use a config",
    "start": "438180",
    "end": "443759"
  },
  {
    "text": "map for and I'll get onto those as storage types and volumes shortly and we're going to create a staple set that",
    "start": "443759",
    "end": "449940"
  },
  {
    "text": "that gives us that ability to to spin up postgres in kubernetes great stuff all",
    "start": "449940",
    "end": "455460"
  },
  {
    "text": "good except for when we delete that pod or make a change to that bod and it refreshes and the spoiler alert is that",
    "start": "455460",
    "end": "463080"
  },
  {
    "text": "the database or the tables that we've created within that database are are not going to be there so that's why we need",
    "start": "463080",
    "end": "469199"
  },
  {
    "text": "that requirement around storing state for workloads within our within our cluster so I've jumped ahead pretty quick here",
    "start": "469199",
    "end": "475680"
  },
  {
    "text": "so we've got our postgres pod up and running great stuff we can then exec into that pod and we can start then",
    "start": "475680",
    "end": "482099"
  },
  {
    "text": "interacting with with postgres we can create our tables we can insert data you can do all that stuff that we do with a",
    "start": "482099",
    "end": "488520"
  },
  {
    "text": "database in terms of creating data storing data so let's create a table Cube cubecon",
    "start": "488520",
    "end": "495780"
  },
  {
    "text": "2023 great stuff now we can start adding our data to this",
    "start": "495780",
    "end": "501180"
  },
  {
    "text": "if we exit out of that pod and then we go and delete that pod though when we when that new pod comes up in that",
    "start": "501180",
    "end": "507539"
  },
  {
    "text": "desired State it's not going to have access to that data that data is now going to be gone it's going to be a",
    "start": "507539",
    "end": "512760"
  },
  {
    "text": "brand new postgres pod and that table is not going to be there",
    "start": "512760",
    "end": "519539"
  },
  {
    "text": "so in a long-winded way this is just showing that yeah okay you can you can run",
    "start": "519539",
    "end": "525240"
  },
  {
    "text": "a state you can run any application in kubernetes that requires state but you have to have that knowledge of how do we",
    "start": "525240",
    "end": "532260"
  },
  {
    "text": "store that that database within our within our cluster so I've the Pod has been reprovisioned a",
    "start": "532260",
    "end": "539100"
  },
  {
    "text": "new pod is as uh come alive and we're we're now there's no tables in there so",
    "start": "539100",
    "end": "545279"
  },
  {
    "text": "obviously what you'd expect you can go back and do this from a from a Docker point of view if you haven't assigned a",
    "start": "545279",
    "end": "550740"
  },
  {
    "text": "volume or a container point of view if you haven't assigned a stateful data uh",
    "start": "550740",
    "end": "556320"
  },
  {
    "text": "sorry a a storage unit for that then obviously that's what's going to happen",
    "start": "556320",
    "end": "562519"
  },
  {
    "text": "okay so different types of volumes within kubernetes and we generally will spend more time on the the persistent",
    "start": "562680",
    "end": "568980"
  },
  {
    "text": "volume type um type of volume but it's important to note that there are other volume types",
    "start": "568980",
    "end": "574740"
  },
  {
    "text": "within our within our kubernetes cluster so when we look at ephemeral volumes",
    "start": "574740",
    "end": "579779"
  },
  {
    "text": "ephemeral volumes gives us the ability to still run that stateless workload and it might be a web scraper that's pulling",
    "start": "579779",
    "end": "585300"
  },
  {
    "text": "off images or pulling off some sort of data and storing it just inside of that container but the life cycle of that",
    "start": "585300",
    "end": "591959"
  },
  {
    "text": "container will refresh that we again we won't have that scrape data in there but",
    "start": "591959",
    "end": "597480"
  },
  {
    "text": "that's fine depending on the use case around that it might just be that we're populating images from another source",
    "start": "597480",
    "end": "603720"
  },
  {
    "text": "and then we're going to build out our application that way so again if we think about a web server and maybe",
    "start": "603720",
    "end": "609660"
  },
  {
    "text": "images are stored elsewhere we want to scrape that we want to bring that into our pod and every time we do that we",
    "start": "609660",
    "end": "615660"
  },
  {
    "text": "want to make sure that it's it's available to that but really they're still ephemeral we don't really care",
    "start": "615660",
    "end": "620880"
  },
  {
    "text": "whether they um live or die we're still going to have access to our to our um to our data but",
    "start": "620880",
    "end": "627420"
  },
  {
    "text": "we might have to scrape that again the next one is around projected volumes so think about secrets and config Maps",
    "start": "627420",
    "end": "634019"
  },
  {
    "text": "so a secret being I need the keys to get into something or I need the username password to get into my postgres",
    "start": "634019",
    "end": "640019"
  },
  {
    "text": "database so we might store that in a in a um in a secret within kubernetes or",
    "start": "640019",
    "end": "646019"
  },
  {
    "text": "also config Maps gives us the ability to look somewhere else how do we get to another service and have that capability",
    "start": "646019",
    "end": "654060"
  },
  {
    "text": "of being able to access that within there and then the one that we want to spend more time on is around persistent volume",
    "start": "654060",
    "end": "660600"
  },
  {
    "text": "so if we think about persistent volumes from a storage and operations point of view let's say that we've got our shared",
    "start": "660600",
    "end": "665760"
  },
  {
    "text": "storage our Nas device our sound device and within there we're going to create",
    "start": "665760",
    "end": "670800"
  },
  {
    "text": "luns we're going to create some sort of block or or file based um",
    "start": "670800",
    "end": "676560"
  },
  {
    "text": "storage and then persistent volumes is a pool of that storage that we expose to our kubernetes cluster that now enables",
    "start": "676560",
    "end": "683339"
  },
  {
    "text": "us to leverage that within our application and that could be a different pool of storage for different",
    "start": "683339",
    "end": "688620"
  },
  {
    "text": "applications and I'll get onto storage classes later on as well",
    "start": "688620",
    "end": "694220"
  },
  {
    "text": "and there's different types of persistent volumes in terms of probably more commonly we're seeing now",
    "start": "694680",
    "end": "701100"
  },
  {
    "text": "more CSI but we still have to remember that there are other other provisioners or persistent volume types that we have",
    "start": "701100",
    "end": "706980"
  },
  {
    "text": "within within and available to us one that we're going to be using and this is never going to be a best practice is",
    "start": "706980",
    "end": "713100"
  },
  {
    "text": "around the host path and Lee's going to touch on this later as she gets through the the uh the troubleshooting aspect",
    "start": "713100",
    "end": "718980"
  },
  {
    "text": "because the host path is just obviously tied to that particular node within your cluster so if you're using the the raw",
    "start": "718980",
    "end": "725579"
  },
  {
    "text": "disk from the the kubernetes node then that pod can't be anywhere like the if",
    "start": "725579",
    "end": "731399"
  },
  {
    "text": "the Pod is on node two it can't access the data from node one so hostpath is",
    "start": "731399",
    "end": "736500"
  },
  {
    "text": "great for demos and workshops and stuff like that but when we get into production you definitely don't want to",
    "start": "736500",
    "end": "742140"
  },
  {
    "text": "be using hostpath you want to be using one or the other whether that's built into kubernetes or whether that's using",
    "start": "742140",
    "end": "748680"
  },
  {
    "text": "CSI which allows us to and I'll touch on CSI shortly as well okay so the operation side is we're",
    "start": "748680",
    "end": "754740"
  },
  {
    "text": "going to look after the storage we're going to create a persistent volume this is a pool of storage that's available to us to then use and then it comes to over",
    "start": "754740",
    "end": "762180"
  },
  {
    "text": "to the developer where we're going to create a volume claim my application needs a database of XYZ size and I I",
    "start": "762180",
    "end": "771060"
  },
  {
    "text": "need that to be on a specific storage type or or maybe I don't maybe as a",
    "start": "771060",
    "end": "776519"
  },
  {
    "text": "developer I don't care I just want my database up and running for my application which is generally the the",
    "start": "776519",
    "end": "781860"
  },
  {
    "text": "case right so what that gives us is this claim will then go and look for those",
    "start": "781860",
    "end": "787500"
  },
  {
    "text": "those persistent volumes and take a chunk of that or it'll find a persistent",
    "start": "787500",
    "end": "792660"
  },
  {
    "text": "volume that suits the needs the desired state of that that persistent volume claim",
    "start": "792660",
    "end": "798540"
  },
  {
    "text": "and then again quickly moving through the storage classes is think of this as the the the uh",
    "start": "798540",
    "end": "804720"
  },
  {
    "text": "the type of storage that you're exposing whether it's I'm using gold silver bronze here so that could be fast medium",
    "start": "804720",
    "end": "811079"
  },
  {
    "text": "slow storage for different workloads and your persistent volume claim can can tie into one of those that a developer might",
    "start": "811079",
    "end": "817920"
  },
  {
    "text": "always say gold or they might say silver and but it could be this is where we",
    "start": "817920",
    "end": "823800"
  },
  {
    "text": "start talking about things like storage policy based management about how we can Define what each of those storage",
    "start": "823800",
    "end": "829260"
  },
  {
    "text": "classes give you in terms of functionality and then provision is kind of tying in",
    "start": "829260",
    "end": "835620"
  },
  {
    "text": "with the the persistent volumes is how do we so the history lesson here",
    "start": "835620",
    "end": "841079"
  },
  {
    "text": "is before we had CSI and again I'll touch on that shortly is we had entry",
    "start": "841079",
    "end": "846300"
  },
  {
    "text": "provisioners where there was something called Flex volumes as well in in between But ultimately this gives us the ability",
    "start": "846300",
    "end": "852420"
  },
  {
    "text": "to leverage a provisioner to give us that that persistent volume or that",
    "start": "852420",
    "end": "858060"
  },
  {
    "text": "storage that we have underpinning the the cluster so entry was there the the downside to",
    "start": "858060",
    "end": "864180"
  },
  {
    "text": "entry was that although kubernetes is released on a three releases a year",
    "start": "864180",
    "end": "870120"
  },
  {
    "text": "it meant that the storage vendors had to get pull the had to put in the PRS for",
    "start": "870120",
    "end": "875279"
  },
  {
    "text": "their storage and their support ability within that kubernetes release so every time kubernetes was released you'd have",
    "start": "875279",
    "end": "881579"
  },
  {
    "text": "your new bit of code but obviously that that make kubernetes is a not just about storage there's obviously other PRS",
    "start": "881579",
    "end": "887820"
  },
  {
    "text": "going into it to make changes there's a lot of QC QA going on onto that so it made it slow for any storage vendor to",
    "start": "887820",
    "end": "894120"
  },
  {
    "text": "be able to give the functionality that they required within that within the entry",
    "start": "894120",
    "end": "899399"
  },
  {
    "text": "um entry provisioner so then Along Came CSI CSI is quite mature now over the",
    "start": "899399",
    "end": "905279"
  },
  {
    "text": "last couple of years and what this gives us is basically a consistent API across our",
    "start": "905279",
    "end": "911459"
  },
  {
    "text": "kubernetes cluster for our storage vendors out of band to be able to create their their API calls to this CSI API",
    "start": "911459",
    "end": "919560"
  },
  {
    "text": "set of instructions and we tie into that so that we're not now as an as a storage",
    "start": "919560",
    "end": "925620"
  },
  {
    "text": "provider we're not reliant on um we're not relying on the kubernetes",
    "start": "925620",
    "end": "931260"
  },
  {
    "text": "release cycle so we as a storage vendor you can release out of band from that kubernetes release and take advantage of",
    "start": "931260",
    "end": "937560"
  },
  {
    "text": "the CSI API to provide that and that that gives us a much easier way of being",
    "start": "937560",
    "end": "942839"
  },
  {
    "text": "able to leverage storage um instead of using entry entry",
    "start": "942839",
    "end": "947940"
  },
  {
    "text": "provisioners but because we started with entry it's it's also anyone that's just started in that kubernetes",
    "start": "947940",
    "end": "954480"
  },
  {
    "text": "storage space you're probably still going to see some entry entry Provisions",
    "start": "954480",
    "end": "959639"
  },
  {
    "text": "out there namely in the public Cloud as well they still have options to use both entry provisioner storage types and",
    "start": "959639",
    "end": "967380"
  },
  {
    "text": "provisioners as well as their own now CSI base driver that interacts with with",
    "start": "967380",
    "end": "973260"
  },
  {
    "text": "that and if if we get to that lab three or if anyone races ahead you'll see that that CSI",
    "start": "973260",
    "end": "980220"
  },
  {
    "text": "um API is is ever evolving in terms of round volume snapshots and other functionality about resizing persistent",
    "start": "980220",
    "end": "987660"
  },
  {
    "text": "volumes Etc on the fly as part of that cluster the other thing that I used in that",
    "start": "987660",
    "end": "993839"
  },
  {
    "text": "first demonstration was around staple sets so staple sets gives us the ability to",
    "start": "993839",
    "end": "1000019"
  },
  {
    "text": "provide a bit more of a pet naming convention to our to our um our pods",
    "start": "1000019",
    "end": "1005420"
  },
  {
    "text": "that we have so you'll see that postgres was postgres Hyphen zero and",
    "start": "1005420",
    "end": "1010579"
  },
  {
    "text": "if we were to spin that up or or sorry uh scale that up we would have postgres",
    "start": "1010579",
    "end": "1015740"
  },
  {
    "text": "hyphen one two three and what happens after that is if we're making a change",
    "start": "1015740",
    "end": "1021019"
  },
  {
    "text": "we're updating our um our pods or our staple set it would do it in a uniform way of being able to",
    "start": "1021019",
    "end": "1026959"
  },
  {
    "text": "say okay we're going to get rid of three first then two then one whereas from a deployment perspective you're gonna have",
    "start": "1026959",
    "end": "1034520"
  },
  {
    "text": "a long naming convention and really we don't care we're just gonna let's terminate all the Pods at any given time",
    "start": "1034520",
    "end": "1041240"
  },
  {
    "text": "there's no really or no real order to that um so which is why the ad the the best",
    "start": "1041240",
    "end": "1047418"
  },
  {
    "text": "practice is to use a staple set when you're using when you're using data services and there's a table here that",
    "start": "1047419",
    "end": "1053179"
  },
  {
    "text": "goes through some of them commonalities the or the differences between a staple set and a deployment now I've seen",
    "start": "1053179",
    "end": "1060080"
  },
  {
    "text": "people using deployments to look after their their stateful workloads",
    "start": "1060080",
    "end": "1065539"
  },
  {
    "text": "that it's possible it just means that those part it means that it's quite",
    "start": "1065539",
    "end": "1070940"
  },
  {
    "text": "erratic when it's when we start doing anything to those those pods in terms of updates in terms of uh what we're doing",
    "start": "1070940",
    "end": "1078080"
  },
  {
    "text": "there okay so let's check on time",
    "start": "1078080",
    "end": "1083140"
  },
  {
    "text": "perfect time so what we want to do first is get you onto the lab into the instructor so",
    "start": "1083840",
    "end": "1089900"
  },
  {
    "text": "we're actually a big shout out here as well is that we didn't really want however many people are in this room to",
    "start": "1089900",
    "end": "1095840"
  },
  {
    "text": "be downloading container images because that would only end up in a in a bad way so we're leveraging instructors a",
    "start": "1095840",
    "end": "1102140"
  },
  {
    "text": "service for those isolated sandbox environments um and we're just building out that that",
    "start": "1102140",
    "end": "1108679"
  },
  {
    "text": "um the steps in which to walk through some of the things that",
    "start": "1108679",
    "end": "1113960"
  },
  {
    "text": "I've that I've just mentioned so what we're going to cover in this first lab is generally around those different",
    "start": "1113960",
    "end": "1119780"
  },
  {
    "text": "volume types different storage classes and then we'll go into lab two which is",
    "start": "1119780",
    "end": "1124820"
  },
  {
    "text": "focused around um uh troubleshooting that so if you want",
    "start": "1124820",
    "end": "1130100"
  },
  {
    "text": "to the the code on the left hand side is the QR code on the left hand side is what's going to take you to that that um",
    "start": "1130100",
    "end": "1137000"
  },
  {
    "text": "to that platform and then if you want to walk through the",
    "start": "1137000",
    "end": "1142700"
  },
  {
    "text": "lab instructions on the right hand side and we'll walk through it as well but I just want to give you time to go and",
    "start": "1142700",
    "end": "1148820"
  },
  {
    "text": "take that in get Hands-On and start building out some of those scenarios now I know it's been recorded as well",
    "start": "1148820",
    "end": "1155600"
  },
  {
    "text": "but also this the one on the right hand side is a GitHub repo where we've also",
    "start": "1155600",
    "end": "1161419"
  },
  {
    "text": "where you don't have to use instruct you can use minicube on your local machine or any really any kubernetes cluster",
    "start": "1161419",
    "end": "1168140"
  },
  {
    "text": "that has some storage Associated to it so anyone can walk through that in your own in your own pace as well",
    "start": "1168140",
    "end": "1174919"
  },
  {
    "text": "so with that if everyone wants to dial in if anyone gets um any issues with that if you raise your hand we'll we'll",
    "start": "1174919",
    "end": "1181760"
  },
  {
    "text": "come out and try and help you get on to onto the platform but we're going to just leave you for a few minutes to see",
    "start": "1181760",
    "end": "1188120"
  },
  {
    "text": "how that how that pans out and then uh and then we'll get back into the troubleshooting",
    "start": "1188120",
    "end": "1194500"
  },
  {
    "text": "on the left with charger so if you sit in the back with no table",
    "start": "1196880",
    "end": "1201980"
  },
  {
    "text": "feel free to move around so you can have space for your laptop as well",
    "start": "1201980",
    "end": "1207100"
  },
  {
    "text": "okay so hopefully everyone's at this similar point",
    "start": "1238820",
    "end": "1244400"
  },
  {
    "text": "if you're walking along and you'll have a list down the your right hand side of",
    "start": "1244400",
    "end": "1250520"
  },
  {
    "text": "the screen where there's a few scenarios that we're going to walk through based on some of the the volumes the and the",
    "start": "1250520",
    "end": "1258440"
  },
  {
    "text": "storage classes that we that we just covered in the in the slides",
    "start": "1258440",
    "end": "1263620"
  },
  {
    "text": "yeah if anyone has any issues just raise your hand and we'll we'll try and help",
    "start": "1263660",
    "end": "1270039"
  },
  {
    "text": "that's good",
    "start": "1270080",
    "end": "1272860"
  },
  {
    "text": "for your life that's very quick Go free something",
    "start": "1289220",
    "end": "1294260"
  },
  {
    "text": "around okay",
    "start": "1294260",
    "end": "1298240"
  },
  {
    "text": "for folks who just got in their seats in the front as well with the table in power bank",
    "start": "1314240",
    "end": "1320080"
  },
  {
    "text": "also if there's any any questions about what we just covered while you're walking through the lab then if you put",
    "start": "1378380",
    "end": "1384500"
  },
  {
    "text": "uh there's I think there's two mics down the runway down the tracks if you want",
    "start": "1384500",
    "end": "1389720"
  },
  {
    "text": "to go up to them and ask any any questions",
    "start": "1389720",
    "end": "1394000"
  },
  {
    "text": "um when I was talking about I was talking about um projected volumes as well and I'm specifically mentioned config maps and",
    "start": "1412940",
    "end": "1419720"
  },
  {
    "text": "secrets you'll see in the in the in the text that we also talk about to others",
    "start": "1419720",
    "end": "1425840"
  },
  {
    "text": "one is downward API which is used to provide uh cluster environmental details",
    "start": "1425840",
    "end": "1430880"
  },
  {
    "text": "so um anything about like pods or the containers such as things like names or",
    "start": "1430880",
    "end": "1437840"
  },
  {
    "text": "um things like annotations it allows us to leverage leverage that as well as part of that",
    "start": "1437840",
    "end": "1443179"
  },
  {
    "text": "um as well as service account tokens as well so we've added a little bit more detail in there that you probably didn't",
    "start": "1443179",
    "end": "1448340"
  },
  {
    "text": "see on the on the slides as well I think we wanted to keep it quite high",
    "start": "1448340",
    "end": "1453559"
  },
  {
    "text": "level instead of going into the detail around all different volume types",
    "start": "1453559",
    "end": "1461260"
  },
  {
    "text": "foreign",
    "start": "1474919",
    "end": "1477399"
  },
  {
    "text": "yeah yeah so so just hopefully everyone's following along but basically what um what I'm doing here is I'm",
    "start": "1519919",
    "end": "1525980"
  },
  {
    "text": "following through the steps I've just created that ephemeral ephemeral volume which had a had a a scraper by all",
    "start": "1525980",
    "end": "1532340"
  },
  {
    "text": "accounts and that that allowed us to bring it into our into our container and then I moved on to the projected volume",
    "start": "1532340",
    "end": "1538340"
  },
  {
    "text": "where I created a secret and a config map and now we're creating a volume that",
    "start": "1538340",
    "end": "1543440"
  },
  {
    "text": "will consume that secret and that config map as that might be a connection to an external database it might be a secret",
    "start": "1543440",
    "end": "1550640"
  },
  {
    "text": "to access that database the config map is going to give you the the maybe a URL",
    "start": "1550640",
    "end": "1556640"
  },
  {
    "text": "out to a Amazon RDS type database that is not obviously stored within the",
    "start": "1556640",
    "end": "1561980"
  },
  {
    "text": "kubernetes environment but it makes it aware of of uh the application it makes the it",
    "start": "1561980",
    "end": "1568220"
  },
  {
    "text": "allows us to leverage that from the application within within kubernetes",
    "start": "1568220",
    "end": "1573700"
  },
  {
    "text": "and what what we're running in this command is actually just going to talk so we're executing into that that pod",
    "start": "1599539",
    "end": "1605240"
  },
  {
    "text": "that we've just deployed and then we're we want to understand what that secret is and how we can consume that with",
    "start": "1605240",
    "end": "1611480"
  },
  {
    "text": "inside that pod so start thinking about how that secret is pulled from kubernetes into the Pod and then used to",
    "start": "1611480",
    "end": "1619039"
  },
  {
    "text": "authenticate maybe into our database um and then we're also doing that from a",
    "start": "1619039",
    "end": "1624679"
  },
  {
    "text": "config map knowing where we're going to connect to from that so you can see here that true",
    "start": "1624679",
    "end": "1630919"
  },
  {
    "text": "super secret lab the sky equals blue just different um data points that we might need to use to",
    "start": "1630919",
    "end": "1638419"
  },
  {
    "text": "to access other other resources obviously we're not connecting to an external database in in AWS",
    "start": "1638419",
    "end": "1647080"
  },
  {
    "text": "but it's a scenario that they could be",
    "start": "1647779",
    "end": "1651880"
  },
  {
    "text": "and then the third volume type being that persistent volume",
    "start": "1657799",
    "end": "1663020"
  },
  {
    "text": "so we're going to go and create that persistent volume manually",
    "start": "1663020",
    "end": "1667658"
  },
  {
    "text": "using this yaml it's called my volume is going to have a capacity of 10 gig and this is actually",
    "start": "1668600",
    "end": "1674659"
  },
  {
    "text": "using the host path like remember what I said about in a lab environment this is all good if we're going to try and share",
    "start": "1674659",
    "end": "1681260"
  },
  {
    "text": "storage across multiple nodes kubernetes nodes then we want to consider one of",
    "start": "1681260",
    "end": "1686779"
  },
  {
    "text": "the other persistent volume types otherwise you're going to be in for a a shock if your pod spins up in a",
    "start": "1686779",
    "end": "1693740"
  },
  {
    "text": "different node and you won't have access to that that underpinning persistent volume",
    "start": "1693740",
    "end": "1699980"
  },
  {
    "text": "so that position volume is that that pool of storage that is available to us from the host path here but",
    "start": "1699980",
    "end": "1706880"
  },
  {
    "text": "really that could be any any storage type if we go and describe that",
    "start": "1706880",
    "end": "1713480"
  },
  {
    "text": "you'll see all the details of where it is what it allows us to do so in terms of access modes read white read write",
    "start": "1713480",
    "end": "1721039"
  },
  {
    "text": "once read write uh many it's a file system it has a",
    "start": "1721039",
    "end": "1726500"
  },
  {
    "text": "capacity of 10 gig and it's using that that host path type um",
    "start": "1726500",
    "end": "1732559"
  },
  {
    "text": "there as well and access to the the mount point that you see there",
    "start": "1732559",
    "end": "1738140"
  },
  {
    "text": "so then we're going to create a persistent volume claim so the application now you can see here that it",
    "start": "1738140",
    "end": "1743600"
  },
  {
    "text": "wants in fact let me copy it first I'm going to walk through what system volume claim is asking for",
    "start": "1743600",
    "end": "1751539"
  },
  {
    "text": "so we're going to call it mypvc we're going to you deploy that so another thing I didn't mention was that a",
    "start": "1752299",
    "end": "1758659"
  },
  {
    "text": "persistent volume is cluster a cluster wide resource but PVC is specific to a",
    "start": "1758659",
    "end": "1765980"
  },
  {
    "text": "namespace now this particular PVC is going to be the size of four gig",
    "start": "1765980",
    "end": "1772279"
  },
  {
    "text": "is going to be using that persistent volume that we that we created called my volume",
    "start": "1772279",
    "end": "1778460"
  },
  {
    "text": "but obviously that leaves six gig free in that pool of storage now if if we had lab two and we wanted to contribute we",
    "start": "1778460",
    "end": "1785299"
  },
  {
    "text": "wanted to create another application that leveraged that same persistent volume",
    "start": "1785299",
    "end": "1790880"
  },
  {
    "text": "for whatever reason that may be we could obviously go and consume that with two four five gig of data obviously if that",
    "start": "1790880",
    "end": "1799880"
  },
  {
    "text": "goes over that that that persistent volume won't uh",
    "start": "1799880",
    "end": "1805159"
  },
  {
    "text": "it won't satisfy the desired state of the persistent volume claim so it'll be stuck in a in a in a position where it",
    "start": "1805159",
    "end": "1812659"
  },
  {
    "text": "can't bind that data or that persistent volume claim to a PV",
    "start": "1812659",
    "end": "1819399"
  },
  {
    "text": "gives it away",
    "start": "1822380",
    "end": "1825100"
  },
  {
    "text": "so if we now go and look at the PVC within lab one you see that it's bound in fact there's a",
    "start": "1829039",
    "end": "1837159"
  },
  {
    "text": "two commands that I just ran so the first one being the my volume you can see that it's",
    "start": "1839480",
    "end": "1845000"
  },
  {
    "text": "bound you can see what it's taken up or what has been used by here with the",
    "start": "1845000",
    "end": "1850460"
  },
  {
    "text": "claim didn't need to copy that",
    "start": "1850460",
    "end": "1854980"
  },
  {
    "text": "and then just type it cubic",
    "start": "1855580",
    "end": "1863260"
  },
  {
    "text": "Le describe PV notice that it's not anything to do",
    "start": "1867380",
    "end": "1874580"
  },
  {
    "text": "with a namespace so we're not it's not assigned to a particular namespace as a",
    "start": "1874580",
    "end": "1880039"
  },
  {
    "text": "persistent volume but you can see here as well that it's it's also bound so both of them are married up now so we",
    "start": "1880039",
    "end": "1886279"
  },
  {
    "text": "have access to the ability to then use that within a pod to consume that storage",
    "start": "1886279",
    "end": "1892159"
  },
  {
    "text": "so the next up we're going to create that pod",
    "start": "1892159",
    "end": "1896080"
  },
  {
    "text": "it doesn't take that long and we probably don't need to watch it but we can jump into that pod now",
    "start": "1909080",
    "end": "1915580"
  },
  {
    "text": "and we want to get the output of oh no we're going to copy that file into our persistent volume claim",
    "start": "1917120",
    "end": "1924320"
  },
  {
    "text": "a simple file operation",
    "start": "1924320",
    "end": "1928120"
  },
  {
    "text": "and if we on our on our node we're then going to go and see what we have",
    "start": "1929539",
    "end": "1934880"
  },
  {
    "text": "actually copied you can see that we've uh we've got that detail that we've that we've copied to that that file within",
    "start": "1934880",
    "end": "1941659"
  },
  {
    "text": "the persistent volume claim let's delete that pod so clear that",
    "start": "1941659",
    "end": "1947960"
  },
  {
    "text": "again I think one thing here oh so one thing to make note is the um the host",
    "start": "1947960",
    "end": "1954320"
  },
  {
    "text": "path that we have on the PV it at foo and the amount path that we have on the",
    "start": "1954320",
    "end": "1960320"
  },
  {
    "text": "on the Pod is Edge Bar even though the data in the data is the same",
    "start": "1960320",
    "end": "1967179"
  },
  {
    "text": "the Mount path on the Pod so the mount path yeah it's the directory from within",
    "start": "1967179",
    "end": "1974659"
  },
  {
    "text": "the perspective of the Pod so it's going to be a different directory than what you have on the host system we purposely",
    "start": "1974659",
    "end": "1981760"
  },
  {
    "text": "distinguish those out to give the understanding that it those are the same",
    "start": "1981760",
    "end": "1987679"
  },
  {
    "text": "data but two different directory depending on where you're coming from the perspective or you assessing the",
    "start": "1987679",
    "end": "1993200"
  },
  {
    "text": "data from your um from your host exactly that so then we're going to",
    "start": "1993200",
    "end": "1999140"
  },
  {
    "text": "delete that first busy box pod that we created and we're going to",
    "start": "1999140",
    "end": "2004539"
  },
  {
    "text": "create a new new pod that will have access to that same persistent volume claim",
    "start": "2004539",
    "end": "2013740"
  },
  {
    "text": "and the spoiler alert is is that that detail should still be in that that new pod that we've just created so if we",
    "start": "2013960",
    "end": "2019960"
  },
  {
    "text": "exec into that again let me clear",
    "start": "2019960",
    "end": "2024720"
  },
  {
    "text": "we have that password that we put there",
    "start": "2028539",
    "end": "2035440"
  },
  {
    "text": "and then it goes on to the storage classes so a storage class remember being that",
    "start": "2035440",
    "end": "2041679"
  },
  {
    "text": "different type of and you can but I use gold silver bronze because that's an easier way of describing fast",
    "start": "2041679",
    "end": "2048339"
  },
  {
    "text": "medium slow or something along them lines but this could be something that around capability it could be around I",
    "start": "2048339",
    "end": "2054040"
  },
  {
    "text": "only want my databases on this particular storage um class I only want my messaging queue on",
    "start": "2054040",
    "end": "2062378"
  },
  {
    "text": "a different storage class I don't want it consuming like my most expensive storage for example",
    "start": "2062379",
    "end": "2069220"
  },
  {
    "text": "so if we look at the storage classes that we have available to us we have we have two we have the local",
    "start": "2069220",
    "end": "2075760"
  },
  {
    "text": "path which is what we've used so far and we also have a CSI host path which again is still host path but it leverages some",
    "start": "2075760",
    "end": "2082480"
  },
  {
    "text": "of the functionality that you get with the the CSI functionality that I mentioned",
    "start": "2082480",
    "end": "2088500"
  },
  {
    "text": "I'm pretty sure that that wall of text tells you that so what we're going to do is we're going",
    "start": "2089379",
    "end": "2095200"
  },
  {
    "text": "to go and create another persistent volume claim",
    "start": "2095200",
    "end": "2099660"
  },
  {
    "text": "and with this let's go we're defining what that storage class name is here and we'll we'll touch on dynamic",
    "start": "2101920",
    "end": "2109000"
  },
  {
    "text": "provisioning as well in a bit",
    "start": "2109000",
    "end": "2114420"
  },
  {
    "text": "again if we go and clear this",
    "start": "2116560",
    "end": "2120660"
  },
  {
    "text": "and then",
    "start": "2134500",
    "end": "2137460"
  },
  {
    "text": "I'm not I'm not going to talk I'll leave that one to you Lee because that one's you're going to use that",
    "start": "2147460",
    "end": "2153400"
  },
  {
    "text": "um and then let's let's send",
    "start": "2153400",
    "end": "2160420"
  },
  {
    "text": "pod into there to consume that PVC",
    "start": "2160420",
    "end": "2165000"
  },
  {
    "text": "again defining what that storage class is as part of that so you can see that there's lots of",
    "start": "2165820",
    "end": "2171700"
  },
  {
    "text": "different options about how we consume the the story The underpinning storage",
    "start": "2171700",
    "end": "2177520"
  },
  {
    "text": "um so what Michael is doing here is called",
    "start": "2177520",
    "end": "2183760"
  },
  {
    "text": "dynamic provisioning in the previous step we created the PV and then we buy the PV to the PVC and then use the PVC",
    "start": "2183760",
    "end": "2191079"
  },
  {
    "text": "to mount with the Pod but what he's doing here is dynamically requesting the",
    "start": "2191079",
    "end": "2196300"
  },
  {
    "text": "volume through PVC requests that it's going to talk to the store class and still can't have a driver that's going",
    "start": "2196300",
    "end": "2202000"
  },
  {
    "text": "to create the volume for you so we don't have to worry about creating value myself",
    "start": "2202000",
    "end": "2207579"
  },
  {
    "text": "yeah so so now if you remember we created a persistent volume manually using that that yaml file and now we've",
    "start": "2207579",
    "end": "2214119"
  },
  {
    "text": "dynamically created this next one that has this you can't really see that name but hopefully if you're you're running",
    "start": "2214119",
    "end": "2220599"
  },
  {
    "text": "through that you'll see that we've dynamically created a a different named PV uh PV",
    "start": "2220599",
    "end": "2227380"
  },
  {
    "text": "called PVC hyphen um that and that's that's the dynamic approach to",
    "start": "2227380",
    "end": "2234579"
  },
  {
    "text": "deploy or leverage in storage and something we didn't touch but we can",
    "start": "2234579",
    "end": "2240700"
  },
  {
    "text": "talk about it now is the class have a lot of different specs on how you would like your volume to be",
    "start": "2240700",
    "end": "2246220"
  },
  {
    "text": "provisioned and the one thing we did definitely in this story class is we having The Binding mode to be wait for",
    "start": "2246220",
    "end": "2252160"
  },
  {
    "text": "cust customer versus immediate and in the previous step we had take a look at",
    "start": "2252160",
    "end": "2257560"
  },
  {
    "text": "the PVC oh sorry taking a look at the PPC we've seen that it's pending instead of bound before our part was up because",
    "start": "2257560",
    "end": "2263079"
  },
  {
    "text": "the customer which is the Pod who's supposed to consume the volume wasn't up yet so with the story class you can",
    "start": "2263079",
    "end": "2270240"
  },
  {
    "text": "specify more than more than just what drivers you use you can also do what",
    "start": "2270240",
    "end": "2275619"
  },
  {
    "text": "kind of funnels you want you can do sorry you can do you can specify what kind of volume mode you want",
    "start": "2275619",
    "end": "2281980"
  },
  {
    "text": "um and um and then the the request going to be fulfilled dynamically as you create",
    "start": "2281980",
    "end": "2287680"
  },
  {
    "text": "the PVC yeah and that that could be let's say you're in a cloud a managed cloud or",
    "start": "2287680",
    "end": "2293560"
  },
  {
    "text": "manage kubernetes service the only maybe has one storage class available so actually yeah you've got free Gain to go",
    "start": "2293560",
    "end": "2300760"
  },
  {
    "text": "and deploy your persistent volume claims in that time so it just dynamically creates them",
    "start": "2300760",
    "end": "2306040"
  },
  {
    "text": "against that so has everyone walked through that lab now",
    "start": "2306040",
    "end": "2312180"
  },
  {
    "text": "it's a couple of thumbs up so hopefully if everything's done correctly you'll hit next we'll get a big green thumbs up",
    "start": "2313660",
    "end": "2320560"
  },
  {
    "text": "saying well done and then I'll hand that over to Lee to talk about the troubleshooting side and we can get",
    "start": "2320560",
    "end": "2326619"
  },
  {
    "text": "into hopefully playing some games yes so this is where the fun starts",
    "start": "2326619",
    "end": "2333099"
  },
  {
    "text": "so in the previous section Michael have walked us through some of the",
    "start": "2333099",
    "end": "2338859"
  },
  {
    "text": "fundamentals we have worked through all the labs and they just worked all the",
    "start": "2338859",
    "end": "2344140"
  },
  {
    "text": "configuration was correct you don't really you shouldn't really having any problems spinning everything up and now",
    "start": "2344140",
    "end": "2350440"
  },
  {
    "text": "in The Next Step we're going to take all of that and create a full-on application",
    "start": "2350440",
    "end": "2356200"
  },
  {
    "text": "um so I will go ahead and the application that we are going to deploy today is going to be Pac-Man",
    "start": "2356200",
    "end": "2364180"
  },
  {
    "text": "um and if everything works we should be seeing this on either in instruct lab or",
    "start": "2364180",
    "end": "2371200"
  },
  {
    "text": "um when you do when you do port forward which I'm going to walk through in a little bit so before we're diving into",
    "start": "2371200",
    "end": "2379060"
  },
  {
    "text": "um getting Hands-On I want to give I want a little bit of a application topology to understand what is it that",
    "start": "2379060",
    "end": "2384880"
  },
  {
    "text": "we're working with so this is the high level topology of the application we have the front end Pacman app that is",
    "start": "2384880",
    "end": "2394300"
  },
  {
    "text": "wrote in it that's written in node.js that's going to talk to a back-end database and the backend database is we're going",
    "start": "2394300",
    "end": "2402160"
  },
  {
    "text": "to be in mongodb so there's going to be some scripts that is going to be injected in the format of conflict map that stores",
    "start": "2402160",
    "end": "2409540"
  },
  {
    "text": "some of the startup script for the Pod there's also some data obviously so",
    "start": "2409540",
    "end": "2414640"
  },
  {
    "text": "there's going to be some PVC and PV and the database is going to be sorry this",
    "start": "2414640",
    "end": "2419859"
  },
  {
    "text": "is a little bit outdated but the database is going to be a stateful set and the app itself of Hackman is going",
    "start": "2419859",
    "end": "2425619"
  },
  {
    "text": "to be a deployment and there's going to be need to be communication between the two so there's going to be a database",
    "start": "2425619",
    "end": "2431740"
  },
  {
    "text": "service that is cluster IP because it's just within the cluster we need to talk to each other and then we're going to have",
    "start": "2431740",
    "end": "2438400"
  },
  {
    "text": "to access the app from outside so Pacman is going to have a service of node of node port",
    "start": "2438400",
    "end": "2444960"
  },
  {
    "text": "and so our task is to deploy the application at the premise is all of the",
    "start": "2446619",
    "end": "2453579"
  },
  {
    "text": "resource manifests of the topology I've just described should be available in lab two if you are using the GitHub repo",
    "start": "2453579",
    "end": "2461800"
  },
  {
    "text": "it's in the lab tool folder if you are using instruct it's going to be in the instruct lab automatically for you",
    "start": "2461800",
    "end": "2468040"
  },
  {
    "text": "and this is a bit of a mapping on the yaml files you're going to have with the",
    "start": "2468040",
    "end": "2474280"
  },
  {
    "text": "topology and there should also be the same table in the instruct lab and also in minicube",
    "start": "2474280",
    "end": "2481359"
  },
  {
    "text": "and so um our task is pretty simple deploy them then access the game if you are using",
    "start": "2481359",
    "end": "2488140"
  },
  {
    "text": "instruct the game is going to be level available in a tab in instruct already you don't have to do anything Matt have",
    "start": "2488140",
    "end": "2493660"
  },
  {
    "text": "taken care of that for us if you're using mini Cube then you do have to do a little bit of port forwarding so these",
    "start": "2493660",
    "end": "2499599"
  },
  {
    "text": "are the command you're going to use and then the game is going to be available in your in your browser",
    "start": "2499599",
    "end": "2506140"
  },
  {
    "text": "um and I think we have alluded to this already but these manifest not going to work at the box for us this is why we're",
    "start": "2506140",
    "end": "2512920"
  },
  {
    "text": "here we're gonna troubleshoot and the troubleshooting Park is going to be on",
    "start": "2512920",
    "end": "2518320"
  },
  {
    "text": "your own um we're gonna walk through it but probably not going to be immediately so the premise is that we're going to give",
    "start": "2518320",
    "end": "2524020"
  },
  {
    "text": "you guys maybe 15 minutes to play around we're going to be if you have problem particularly you can raise your hand we",
    "start": "2524020",
    "end": "2530260"
  },
  {
    "text": "can walk to you but it it's a learning space when I want to have the chance to play with it figure out there's going to",
    "start": "2530260",
    "end": "2537160"
  },
  {
    "text": "be more than one solution so we're going to discuss this after 15 minutes I'll walk through what are the problems what",
    "start": "2537160",
    "end": "2543880"
  },
  {
    "text": "other solution we go back and forth on what are you know what is the implication of the of the solutions so",
    "start": "2543880",
    "end": "2551619"
  },
  {
    "text": "without further oh one more thing is this is a it's a we've taken over the",
    "start": "2551619",
    "end": "2557680"
  },
  {
    "text": "premise that there's going to be a 101 lab so uh as we're going through I'm probably going to talk a little bit more",
    "start": "2557680",
    "end": "2563680"
  },
  {
    "text": "about the commands that we're going to use for debugging as well um if you just you know look at",
    "start": "2563680",
    "end": "2569380"
  },
  {
    "text": "application it doesn't work and you're like oh my God what did I do um we're going to talk from that perspective as well and not just give",
    "start": "2569380",
    "end": "2574780"
  },
  {
    "text": "you the solution so you can see this is available for you as a short table but",
    "start": "2574780",
    "end": "2580660"
  },
  {
    "text": "as also the cheat sheet from um from kubernetes documentation it's",
    "start": "2580660",
    "end": "2585760"
  },
  {
    "text": "available as well in um in the rebel and I think it is an",
    "start": "2585760",
    "end": "2591339"
  },
  {
    "text": "instruct as well okay so",
    "start": "2591339",
    "end": "2597819"
  },
  {
    "text": "um now choose your platform of choice and uh I think we'll give it",
    "start": "2597819",
    "end": "2603460"
  },
  {
    "text": "15 20 minutes from now and we'll I'll assess and we'll see where everyone is in the room if you finish early",
    "start": "2603460",
    "end": "2610200"
  },
  {
    "text": "congratulations you can play the game or move on to the next lap if you want to and again if you have any questions",
    "start": "2610200",
    "end": "2616599"
  },
  {
    "text": "anything raise your hand we'll come to you um okay let's define begin hmm",
    "start": "2616599",
    "end": "2625140"
  },
  {
    "text": "does anyone have any problem getting into the lab",
    "start": "2663520",
    "end": "2667800"
  },
  {
    "text": "so",
    "start": "2670660",
    "end": "2672960"
  },
  {
    "text": "much",
    "start": "2690400",
    "end": "2692400"
  },
  {
    "text": "thank you",
    "start": "2696520",
    "end": "2698700"
  },
  {
    "text": "all right",
    "start": "2719680",
    "end": "2722280"
  },
  {
    "text": "I'm just going to put this table back up so that everyone has that as a reference point if you",
    "start": "2728859",
    "end": "2735300"
  },
  {
    "text": "so into instruct lab there should be a text editor you can save the file by",
    "start": "2772900",
    "end": "2778359"
  },
  {
    "text": "hitting the floppy disk um",
    "start": "2778359",
    "end": "2782818"
  },
  {
    "text": "yeah contrast won't work yeah um and if you have a lot of tabs open on",
    "start": "2783760",
    "end": "2789760"
  },
  {
    "text": "the text editor maybe you won't see your file so just close off some file you're going to be able to see the symbol",
    "start": "2789760",
    "end": "2796680"
  },
  {
    "text": "s",
    "start": "2819579",
    "end": "2821579"
  },
  {
    "text": "foreign",
    "start": "2836859",
    "end": "2839859"
  },
  {
    "text": "thank you",
    "start": "2910599",
    "end": "2913440"
  },
  {
    "text": "oh this is",
    "start": "2925240",
    "end": "2928200"
  },
  {
    "text": "whispered up here inside I hope",
    "start": "2958200",
    "end": "2963180"
  },
  {
    "text": "now go ahead and get started cool",
    "start": "2964480",
    "end": "2968880"
  },
  {
    "text": "foreign",
    "start": "2991119",
    "end": "2993660"
  },
  {
    "text": "foreign",
    "start": "3049559",
    "end": "3051740"
  },
  {
    "text": "foreign",
    "start": "3129720",
    "end": "3132319"
  },
  {
    "text": "foreign",
    "start": "3197640",
    "end": "3199818"
  },
  {
    "text": "how's everyone doing any questions at all",
    "start": "3206280",
    "end": "3210558"
  },
  {
    "text": "deep in thoughts yeah",
    "start": "3211440",
    "end": "3215180"
  },
  {
    "text": "anyone playing Pac-Man",
    "start": "3217500",
    "end": "3220579"
  },
  {
    "text": "it's got your comments inside that",
    "start": "3237599",
    "end": "3242119"
  },
  {
    "text": "how's it going Julia have you fixed it are you playing",
    "start": "3252180",
    "end": "3258900"
  },
  {
    "text": "playing Pac-Man cool",
    "start": "3258900",
    "end": "3263480"
  },
  {
    "text": "okay by short of hand who have completely solved the problem",
    "start": "3268619",
    "end": "3273859"
  },
  {
    "text": "awesome also by short of hand who like five more minutes to work on this before I",
    "start": "3274319",
    "end": "3282119"
  },
  {
    "text": "okay okay we'll give it five more minutes of silence before I jumped in",
    "start": "3282119",
    "end": "3286940"
  },
  {
    "text": "Spanish",
    "start": "3302579",
    "end": "3305579"
  },
  {
    "text": "foreign",
    "start": "3337319",
    "end": "3340319"
  },
  {
    "text": "is it instruct is it ready on yours to go",
    "start": "3377760",
    "end": "3382640"
  },
  {
    "text": "foreign",
    "start": "3415920",
    "end": "3418640"
  },
  {
    "text": "for the highest score on Pac-Man shouldn't we should",
    "start": "3421099",
    "end": "3427460"
  },
  {
    "text": "dive into it now yeah okay so I think I'm gonna go ahead and start diving in",
    "start": "3537240",
    "end": "3543900"
  },
  {
    "text": "um and feel free to keep walking on it's working on it still if you are really really close",
    "start": "3543900",
    "end": "3549780"
  },
  {
    "text": "um if not feel free to follow along I'm again mentioned that this is a 101 lab",
    "start": "3549780",
    "end": "3554940"
  },
  {
    "text": "so I'm gonna take a little bit of time to talk through the commands that I'm using as well",
    "start": "3554940",
    "end": "3560460"
  },
  {
    "text": "um so we already know that it's not working and generally so I'm talk I'm going to",
    "start": "3560460",
    "end": "3566400"
  },
  {
    "text": "talk about the perspective of what I would usually do when I want to do a cluster and something is not running",
    "start": "3566400",
    "end": "3571500"
  },
  {
    "text": "what kind of debug come in I command I would use and generally I would like to see the status of my cluster and see",
    "start": "3571500",
    "end": "3577980"
  },
  {
    "text": "what was my part where is my um how was it doing what's going on so I",
    "start": "3577980",
    "end": "3583020"
  },
  {
    "text": "usually do that by um watch Coupe cuddle",
    "start": "3583020",
    "end": "3589140"
  },
  {
    "text": "get all and then give the name space that I'm working in which is lab two the",
    "start": "3589140",
    "end": "3594359"
  },
  {
    "text": "watch command get refresh the command every two seconds so I can keep the status live as it's working through and",
    "start": "3594359",
    "end": "3600359"
  },
  {
    "text": "they get all does not really get you all it gives you deployment replica set give you Services",
    "start": "3600359",
    "end": "3606720"
  },
  {
    "text": "give you pause but it doesn't get it doesn't give you PVC or PV or any other resources so there's something to be",
    "start": "3606720",
    "end": "3612660"
  },
  {
    "text": "mindful as well but for the high level I'm going to start with this and I see",
    "start": "3612660",
    "end": "3617700"
  },
  {
    "text": "that oh my pots are not up and running I see that by Pac-Man mongodb is pending",
    "start": "3617700",
    "end": "3622859"
  },
  {
    "text": "and the Pac-Man Pac-Man is Crash Loop backup so I'm gonna go and go ahead and check out",
    "start": "3622859",
    "end": "3628619"
  },
  {
    "text": "the Pacman mongodb and see what is going on with the Pod and the comment I'm",
    "start": "3628619",
    "end": "3635460"
  },
  {
    "text": "going to be using for that would be Cube color describe so the describe command give you a human",
    "start": "3635460",
    "end": "3643559"
  },
  {
    "text": "readable um status it gives you all respects of the Pod as well as the events happening",
    "start": "3643559",
    "end": "3650040"
  },
  {
    "text": "to the part so it's really useful to have all of the information in the human readable human readable format so I'm",
    "start": "3650040",
    "end": "3657420"
  },
  {
    "text": "going to go ahead and do that say what resources I am describing",
    "start": "3657420",
    "end": "3665420"
  },
  {
    "text": "and the namespace Okay so",
    "start": "3665460",
    "end": "3670980"
  },
  {
    "text": "I see that I the part have failed scheduling",
    "start": "3670980",
    "end": "3677059"
  },
  {
    "text": "and the reason is because one part has Unbound immediate persistent volume",
    "start": "3679079",
    "end": "3684180"
  },
  {
    "text": "claim okay then the next step I'm gonna go follow this path and check what is",
    "start": "3684180",
    "end": "3690780"
  },
  {
    "text": "happening with my with my PPC and again the get all doesn't really give you the",
    "start": "3690780",
    "end": "3696599"
  },
  {
    "text": "information so I'm going to go ahead and check manually here and PVC are namespace resource so when",
    "start": "3696599",
    "end": "3702420"
  },
  {
    "text": "we do a get PVC we do have to provide a namespace",
    "start": "3702420",
    "end": "3707240"
  },
  {
    "text": "okay I see that my pvc static PVC is pinned in so I'm going to go ahead and",
    "start": "3708420",
    "end": "3714119"
  },
  {
    "text": "go down a path and check what is happening with my pvc",
    "start": "3714119",
    "end": "3719180"
  },
  {
    "text": "and I see a volume mismatch so PVC cannot the controller is telling",
    "start": "3728119",
    "end": "3735420"
  },
  {
    "text": "me cannot bind the requested volume because they requested PVE is too small",
    "start": "3735420",
    "end": "3740520"
  },
  {
    "text": "and the volume being pinpointed here is static PV so I'm going to go ahead and check again what it's expect for my for",
    "start": "3740520",
    "end": "3747180"
  },
  {
    "text": "my PV another way of getting specs that is on that it's gonna that's running up",
    "start": "3747180",
    "end": "3753000"
  },
  {
    "text": "sorry another way of getting this back is using the command get so I'm going to go ahead and get my PV here static PV",
    "start": "3753000",
    "end": "3760319"
  },
  {
    "text": "and PV is non-namespace resource so I don't have to provide a namespace and I",
    "start": "3760319",
    "end": "3766500"
  },
  {
    "text": "can specify the format that I want to get the specs on so I can go ahead and say oh yemo",
    "start": "3766500",
    "end": "3772440"
  },
  {
    "text": "then I see my spec here this is my persistent volume and I have the storage capacity",
    "start": "3772440",
    "end": "3780660"
  },
  {
    "text": "of one gig and my so I'm going to go ahead and double check my pvc and see",
    "start": "3780660",
    "end": "3787020"
  },
  {
    "text": "what was the capacity that was being requested",
    "start": "3787020",
    "end": "3791839"
  },
  {
    "text": "and it is two so here we have a mismatch in volume capacity so I'm going to have to reposition my uh my volume to match",
    "start": "3796200",
    "end": "3805140"
  },
  {
    "text": "my pvc and um the spec of PV and PVC are",
    "start": "3805140",
    "end": "3812040"
  },
  {
    "text": "immutable so we can't do an edit what I have to do is going to have to delete the PV and then change the spec and then",
    "start": "3812040",
    "end": "3818819"
  },
  {
    "text": "recreate the PV I can do that in my oh let me go ahead and delete it first",
    "start": "3818819",
    "end": "3826400"
  },
  {
    "text": "okay I'm going to go ahead and chain my spec here",
    "start": "3835260",
    "end": "3839960"
  },
  {
    "text": "make that two save it",
    "start": "3844380",
    "end": "3850220"
  },
  {
    "text": "and then apply",
    "start": "3850799",
    "end": "3854540"
  },
  {
    "text": "PV no need for this",
    "start": "3867059",
    "end": "3870859"
  },
  {
    "text": "okay my PV is created I'm going to go ahead and check",
    "start": "3877740",
    "end": "3883819"
  },
  {
    "text": "let's see okay so I have my static PV the capacity",
    "start": "3892740",
    "end": "3898559"
  },
  {
    "text": "is 2 gig um but it's still available okay so I'm",
    "start": "3898559",
    "end": "3903599"
  },
  {
    "text": "gonna go ahead and go back here and check my pod is still not up and running and my static PV here is do not bound so",
    "start": "3903599",
    "end": "3912180"
  },
  {
    "text": "I'm going to go ahead and check the PVC again and see what is it doing",
    "start": "3912180",
    "end": "3917000"
  },
  {
    "text": "Oh by shot of hand did everyone got through that first problem awesome all right cool",
    "start": "3917760",
    "end": "3926298"
  },
  {
    "text": "um no I want to know what event happened to my pvc so I'm going to describe instead of getting the spec",
    "start": "3932880",
    "end": "3939859"
  },
  {
    "text": "okay so we see a new event from the controller cannot bind the requested",
    "start": "3948059",
    "end": "3954720"
  },
  {
    "text": "volume because the story class name does not match all right so let me check here",
    "start": "3954720",
    "end": "3961680"
  },
  {
    "text": "um I'm gonna go ahead and double check the spec between the two again",
    "start": "3961680",
    "end": "3967940"
  },
  {
    "text": "my static PV",
    "start": "3985799",
    "end": "3989359"
  },
  {
    "text": "so I see here that",
    "start": "3994200",
    "end": "3999119"
  },
  {
    "text": "hmm you can't really see her",
    "start": "4018920",
    "end": "4022538"
  },
  {
    "text": "I'm trying to find the best way to show you guys the story class that the select PV is using",
    "start": "4038539",
    "end": "4044240"
  },
  {
    "text": "I'm not sure this is very clear but the store class for the static PV is",
    "start": "4044240",
    "end": "4051380"
  },
  {
    "text": "actually empty and this is because we have manually provision the volume",
    "start": "4051380",
    "end": "4057140"
  },
  {
    "text": "so I'm going to go ahead and check the PVC",
    "start": "4057140",
    "end": "4062020"
  },
  {
    "text": "okay and I see that the store class name here is CSI host pass SC and so there is",
    "start": "4071000",
    "end": "4077480"
  },
  {
    "text": "a mismatch now one thing I want to point out is that we double check again at the local yaml file that we use for the",
    "start": "4077480",
    "end": "4084619"
  },
  {
    "text": "static PVC we actually do not have a stoic class",
    "start": "4084619",
    "end": "4089900"
  },
  {
    "text": "defined here and that is um and this is done on then this is to point out that",
    "start": "4089900",
    "end": "4095539"
  },
  {
    "text": "if you leave out the story class name for PVC the default is going to be used",
    "start": "4095539",
    "end": "4101778"
  },
  {
    "text": "um the uh it's going to be injected as you create a request for the PVC that",
    "start": "4101779",
    "end": "4107298"
  },
  {
    "text": "the default server class is going to be used and so if you um so if we go to check here",
    "start": "4107299",
    "end": "4113120"
  },
  {
    "text": "um what story class we have in the cluster we see that the CSI host path SC has a",
    "start": "4113120",
    "end": "4121040"
  },
  {
    "text": "default annotation into it and this is an annotation for the story class itself",
    "start": "4121040",
    "end": "4127640"
  },
  {
    "text": "I guess SC",
    "start": "4127640",
    "end": "4130540"
  },
  {
    "text": "you can see there's an annotation story class kubernetes IO is the full class true and this is to",
    "start": "4135199",
    "end": "4141500"
  },
  {
    "text": "um to to tell that this is a default storage class which is going to be used if there's a store an empty store class",
    "start": "4141500",
    "end": "4146719"
  },
  {
    "text": "name this is to point out the be mindful about all of some of defaults and some of the",
    "start": "4146719",
    "end": "4152920"
  },
  {
    "text": "automatic injection the company do for you on your behalf in this case you have to be mindful about what is the default",
    "start": "4152920",
    "end": "4158900"
  },
  {
    "text": "story class of of your cluster so to remedy from this we're going to go",
    "start": "4158900",
    "end": "4165440"
  },
  {
    "text": "ahead and specify a story class for PVC and make it empty because we are doing a",
    "start": "4165440",
    "end": "4171199"
  },
  {
    "text": "manual provision and again the specs for the PVCs are immutable so we have to delete the PVC and then recreate the PVC",
    "start": "4171199",
    "end": "4181000"
  },
  {
    "text": "and also by short of hand and one gone through this step awesome",
    "start": "4181940",
    "end": "4189218"
  },
  {
    "text": "okay I'm gonna go ahead and delete that and then make sure I have a historic class name",
    "start": "4201080",
    "end": "4208040"
  },
  {
    "text": "in here",
    "start": "4208040",
    "end": "4210520"
  },
  {
    "text": "you can have a Thai people watching you",
    "start": "4217460",
    "end": "4221020"
  },
  {
    "text": "okay I'm going to go ahead and double check my pvc",
    "start": "4237320",
    "end": "4242440"
  },
  {
    "text": "it's bound yes this is what you want to see when you work with PVC and people you want to",
    "start": "4248540",
    "end": "4255260"
  },
  {
    "text": "see it bound and I'm going to go ahead and double check the status of the parts",
    "start": "4255260",
    "end": "4263300"
  },
  {
    "text": "and I still see that mongodb is running to error and it just restarted a second ago and it's crashing loop back off so",
    "start": "4263300",
    "end": "4270679"
  },
  {
    "text": "I'm going to go ahead and check again what is the what is going on with my pod again I'm going to use describe",
    "start": "4270679",
    "end": "4278440"
  },
  {
    "text": "okay",
    "start": "4282800",
    "end": "4285460"
  },
  {
    "text": "okay well all I'm seeing here is that for some reason the Pod is fail to",
    "start": "4298880",
    "end": "4306080"
  },
  {
    "text": "restart and it's from here I'm not seeing any more information and what can",
    "start": "4306080",
    "end": "4311719"
  },
  {
    "text": "be wrong with my pod so I'm going to go ahead and switch to a different command",
    "start": "4311719",
    "end": "4316820"
  },
  {
    "text": "for debugging and that's going to be I'm going to be using the log I'm going to log my pod and see hopefully there's",
    "start": "4316820",
    "end": "4323179"
  },
  {
    "text": "some kind of debug log that's going to give information about what's going on with the pod",
    "start": "4323179",
    "end": "4328659"
  },
  {
    "text": "oh yeah yeah you don't have to specify",
    "start": "4336800",
    "end": "4341920"
  },
  {
    "text": "okay I see here that I have a permission deny issue by for creating the directory",
    "start": "4343460",
    "end": "4350780"
  },
  {
    "text": "bitnami mongodb data by shot of hand who have gone to this point",
    "start": "4350780",
    "end": "4356300"
  },
  {
    "text": "okay by Chauhan who have gotten over at this point awesome so actually I want this to be a",
    "start": "4356300",
    "end": "4362780"
  },
  {
    "text": "bit of an interactive session at this point because I think there's multiple way of solving this so for folks who",
    "start": "4362780",
    "end": "4369560"
  },
  {
    "text": "have gone over this would you mind sharing what you've done so far and how you get over the permission deny issue",
    "start": "4369560",
    "end": "4375560"
  },
  {
    "text": "if you would like to if not that's fine too",
    "start": "4375560",
    "end": "4379540"
  },
  {
    "text": "th is just the yeah",
    "start": "4387520",
    "end": "4394060"
  },
  {
    "text": "thank you yeah okay thank you",
    "start": "4395600",
    "end": "4400820"
  },
  {
    "text": "um the easy fix for me was to check where the local data is stored and that",
    "start": "4400820",
    "end": "4407659"
  },
  {
    "text": "was on the slash data part and to easily check what permissions or what user is running I just did a CH",
    "start": "4407659",
    "end": "4415040"
  },
  {
    "text": "mode 777 we started the pod and then change the ownership from there",
    "start": "4415040",
    "end": "4421940"
  },
  {
    "text": "and then the ball is running and I played Batman so awesome thank you did anyone have a",
    "start": "4421940",
    "end": "4428239"
  },
  {
    "text": "different solution than that oh did everyone hear the solution so one over there Lee okay",
    "start": "4428239",
    "end": "4435340"
  },
  {
    "text": "okay I changed the storage class name to the",
    "start": "4444800",
    "end": "4450620"
  },
  {
    "text": "default storage class ah yeah okay does anyone have a",
    "start": "4450620",
    "end": "4457640"
  },
  {
    "text": "different solution than that so let me repeat the two solutions so",
    "start": "4457640",
    "end": "4464420"
  },
  {
    "text": "far that we have had in the crowd is one is a manual way he went into the local",
    "start": "4464420",
    "end": "4470780"
  },
  {
    "text": "directory he changed the permission of the uh of the data path to 777 which is",
    "start": "4470780",
    "end": "4477140"
  },
  {
    "text": "free fall anyone can access it and then the Pod is able to access it and the",
    "start": "4477140",
    "end": "4482300"
  },
  {
    "text": "gentleman on the back have a different solution which is he changed the story class name to default and he'd go the",
    "start": "4482300",
    "end": "4487520"
  },
  {
    "text": "dynamic provision route and there's also I think we've had two more solutions if",
    "start": "4487520",
    "end": "4493460"
  },
  {
    "text": "we try so Michael what do we what do you do yeah so I went into the the Pod spec and just changed it to run as user",
    "start": "4493460",
    "end": "4501500"
  },
  {
    "text": "um whatever whatever yeah I think it could be any number at that point which is kind of yeah kind of hacking the",
    "start": "4501500",
    "end": "4508699"
  },
  {
    "text": "ability to get to that probably not the best practice when you it opens up the door to anyone being able to access that",
    "start": "4508699",
    "end": "4514100"
  },
  {
    "text": "file at that point so yeah so the third solution is that he sued all it he",
    "start": "4514100",
    "end": "4519620"
  },
  {
    "text": "escalated the part to have privilege of the route and then you can just go and you can just go in and also uh so let me",
    "start": "4519620",
    "end": "4527659"
  },
  {
    "text": "let me show you again the PV have the information on",
    "start": "4527659",
    "end": "4536179"
  },
  {
    "text": "where in the host the data path is so what I need to check is the static PV folder in the data path",
    "start": "4536179",
    "end": "4545080"
  },
  {
    "text": "so we see a set of PV here so I'm going to check the permission",
    "start": "4550580",
    "end": "4555159"
  },
  {
    "text": "so when I first saw this I'm like okay what does this mean some folks here might remember this by heart I don't",
    "start": "4555739",
    "end": "4563080"
  },
  {
    "text": "okay so from here this means everyone can read the directory but its content",
    "start": "4566060",
    "end": "4571640"
  },
  {
    "text": "can only be changed by the user and we can see here the user is root and owned",
    "start": "4571640",
    "end": "4577460"
  },
  {
    "text": "by group root it is root and also owned by the group root so his way would have",
    "start": "4577460",
    "end": "4584179"
  },
  {
    "text": "worked because you changed the group user and the user of the part itself but might not be the best illusion because",
    "start": "4584179",
    "end": "4590780"
  },
  {
    "text": "now you are allowing a pod escalated privilege into your underlying storage",
    "start": "4590780",
    "end": "4595880"
  },
  {
    "text": "system changing data changing the permission of the Pod to 777 oh sorry not the part the",
    "start": "4595880",
    "end": "4603679"
  },
  {
    "text": "pv277 is slightly better because you are de-escalating the privilege of the of",
    "start": "4603679",
    "end": "4611420"
  },
  {
    "text": "the PV itself and the Pod is not escalated in privilege at all but it but",
    "start": "4611420",
    "end": "4617120"
  },
  {
    "text": "if you have critical Mission uh data in in the PV you might not want to make that free for all so what I did is I",
    "start": "4617120",
    "end": "4626540"
  },
  {
    "text": "actually changed the owner of the PV to the user that matched the uid of the Pod",
    "start": "4626540",
    "end": "4634280"
  },
  {
    "text": "so how do I find that I can see that in the um",
    "start": "4634280",
    "end": "4640100"
  },
  {
    "text": "the yaml file for my state full set if we check out the security contacts here",
    "start": "4640100",
    "end": "4647239"
  },
  {
    "text": "we see that the user for our pod is one zero one and also the group is one well",
    "start": "4647239",
    "end": "4655040"
  },
  {
    "text": "sorry one thousand one so I'm going to go ahead and change the permission of the volume to just match that",
    "start": "4655040",
    "end": "4662860"
  },
  {
    "text": "or actually I'm gonna I'm gonna make the I'm gonna change the owner of the volume",
    "start": "4663080",
    "end": "4668420"
  },
  {
    "text": "to match my pod",
    "start": "4668420",
    "end": "4671500"
  },
  {
    "text": "okay let's check it again all right don't ask me who they are but",
    "start": "4681860",
    "end": "4688340"
  },
  {
    "text": "they're different than root now uh so I'm going to go ahead and double check my pause status",
    "start": "4688340",
    "end": "4697060"
  },
  {
    "text": "so one thing about cross loop back off is kubernetes have a exponentially incremental wait time as you as you wait",
    "start": "4697340",
    "end": "4706100"
  },
  {
    "text": "for restart I start with I think two seconds and then five seconds then it exponentially increase until it reached",
    "start": "4706100",
    "end": "4711199"
  },
  {
    "text": "15 seconds so sometime even if you have done something the pot is in the middle of waiting for ReStore and it's going to",
    "start": "4711199",
    "end": "4717980"
  },
  {
    "text": "take time so what I can do as well I can manually restart it and then I'm going to restart my Pacman mongodb so I'm",
    "start": "4717980",
    "end": "4724820"
  },
  {
    "text": "going to do a rollout restart for my stateful set",
    "start": "4724820",
    "end": "4730300"
  },
  {
    "text": "uh",
    "start": "4749179",
    "end": "4751900"
  },
  {
    "text": "namespace",
    "start": "4755780",
    "end": "4758619"
  },
  {
    "text": "thank you did I mention you can never type when people are watching you",
    "start": "4762320",
    "end": "4768400"
  },
  {
    "text": "okay we'll give up a second and then we'll also explore the solution of dynamic provision as well um once this",
    "start": "4774739",
    "end": "4781699"
  },
  {
    "text": "is up and running and then see um I'm actually curious if anyone's seen the um the permission of the volume when",
    "start": "4781699",
    "end": "4790100"
  },
  {
    "text": "it's Dynamic provisioned by by the driver um we can also explore that as well but I",
    "start": "4790100",
    "end": "4796640"
  },
  {
    "text": "can go ahead and create the um the PVC already",
    "start": "4796640",
    "end": "4801820"
  },
  {
    "text": "come on",
    "start": "4802040",
    "end": "4804640"
  },
  {
    "text": "hasn't got rid of the pod yeah",
    "start": "4818360",
    "end": "4823360"
  },
  {
    "text": "I'm going to restart the other one too foreign",
    "start": "4825260",
    "end": "4830739"
  },
  {
    "text": "foreign",
    "start": "4921920",
    "end": "4924520"
  },
  {
    "text": "yes it's running yeah okay so mongodb is running we'll double check by checking",
    "start": "4935199",
    "end": "4942560"
  },
  {
    "text": "the lock as well oh yeah parts",
    "start": "4942560",
    "end": "4949120"
  },
  {
    "text": "yeah it's her log so good",
    "start": "4952840",
    "end": "4959380"
  },
  {
    "text": "man",
    "start": "4961400",
    "end": "4964060"
  },
  {
    "text": "okay and then Pac-Man Pac-Man is also running",
    "start": "4966679",
    "end": "4971780"
  },
  {
    "text": "so you know what that means we live",
    "start": "4971780",
    "end": "4976880"
  },
  {
    "text": "now I do want to explore the option of using um dynamic provisioning",
    "start": "4976880",
    "end": "4984520"
  },
  {
    "text": "so I'm going to go ahead and um delete the PVC",
    "start": "4990320",
    "end": "4998140"
  },
  {
    "text": "ah but I can't delete the PVC yeah just as if you plan that",
    "start": "5019300",
    "end": "5026440"
  },
  {
    "text": "does anyone know why I can't delete the PVC in this case",
    "start": "5026440",
    "end": "5031260"
  },
  {
    "text": "it's bound and finalizer correct so let me double check this spec for my pvc",
    "start": "5031540",
    "end": "5037420"
  },
  {
    "text": "here",
    "start": "5037420",
    "end": "5039658"
  },
  {
    "text": "it's going to be stuck in terminating for a while and that is because of the uh this finalizer kubernetes i o",
    "start": "5051699",
    "end": "5060280"
  },
  {
    "text": "previous PVC protection and what this finalizer does is that you are not",
    "start": "5060280",
    "end": "5065679"
  },
  {
    "text": "allowed to delete the PVC um until all the user of the PVC have",
    "start": "5065679",
    "end": "5071679"
  },
  {
    "text": "also terminate themselves so in this case we have a running pod that is actively using the PVC",
    "start": "5071679",
    "end": "5078340"
  },
  {
    "text": "um so it might not be a good idea to go ahead and delete your underlying data so this is a way of protecting",
    "start": "5078340",
    "end": "5084100"
  },
  {
    "text": "um uh your your data as it's running um so I'm going to go ahead and create a",
    "start": "5084100",
    "end": "5090699"
  },
  {
    "text": "different PVC",
    "start": "5090699",
    "end": "5093420"
  },
  {
    "text": "okay in this case I'm not gonna have the volume name I'm gonna leave the store class name empty so the default one is",
    "start": "5139239",
    "end": "5146620"
  },
  {
    "text": "going to be used I'm going to change my name the 350 name to Dynamic",
    "start": "5146620",
    "end": "5154020"
  },
  {
    "text": "wait what happened where's my that's the stuff oh crap yeah you're good",
    "start": "5155260",
    "end": "5162100"
  },
  {
    "text": "here you go oh yeah",
    "start": "5162100",
    "end": "5168340"
  },
  {
    "text": "okay good to go",
    "start": "5168340",
    "end": "5171480"
  },
  {
    "text": "okay PVC created again I'm going to double check just to make sure that it's bound to something",
    "start": "5187659",
    "end": "5195658"
  },
  {
    "text": "okay I see that my pvc is bound now the next step for me is to change my",
    "start": "5197980",
    "end": "5205719"
  },
  {
    "text": "um staple set to actually using this PV and PVC instead of using the static one",
    "start": "5205719",
    "end": "5211300"
  },
  {
    "text": "and for this I can again do a local edit and then apply or I can actually do live",
    "start": "5211300",
    "end": "5218199"
  },
  {
    "text": "edit using Koopa Coupe cuddle edit and then what it does it's going to pull in",
    "start": "5218199",
    "end": "5224679"
  },
  {
    "text": "the yaml file to your editor of choice and then you can edit",
    "start": "5224679",
    "end": "5231280"
  },
  {
    "text": "and then save and then it's gonna the request gonna be pushed back up and then it's gonna the configuration can be",
    "start": "5231280",
    "end": "5236320"
  },
  {
    "text": "applied so I'm going to go ahead and do this here so I think it's a little bit easier to see",
    "start": "5236320",
    "end": "5242880"
  },
  {
    "text": "Stay full set and here instead of using the static",
    "start": "5243100",
    "end": "5249340"
  },
  {
    "text": "claim I'm going to be using the dynamic claim I'm checking that my client name",
    "start": "5249340",
    "end": "5254560"
  },
  {
    "text": "is correct okay",
    "start": "5254560",
    "end": "5258000"
  },
  {
    "text": "okay now we watch okay",
    "start": "5280179",
    "end": "5286239"
  },
  {
    "text": "so if we are to take a look at the dynamically created PV for us",
    "start": "5286239",
    "end": "5293880"
  },
  {
    "text": "which is this claim and this is the PV that I'm interested in",
    "start": "5301120",
    "end": "5307500"
  },
  {
    "text": "a couple of minutes left yeah",
    "start": "5313840",
    "end": "5317460"
  },
  {
    "text": "we see that um the path where did it go",
    "start": "5323199",
    "end": "5329520"
  },
  {
    "text": "oh this is dumb",
    "start": "5333280",
    "end": "5336599"
  },
  {
    "text": "where did my path go was that the",
    "start": "5355060",
    "end": "5360400"
  },
  {
    "text": "oh no it's the claim",
    "start": "5360400",
    "end": "5363780"
  },
  {
    "text": "is the there's the volume",
    "start": "5369760",
    "end": "5373678"
  },
  {
    "text": "I think this is Hope partner",
    "start": "5375280",
    "end": "5378840"
  },
  {
    "text": "yeah wait oh sorry uh what I'm trying to do here",
    "start": "5411540",
    "end": "5416860"
  },
  {
    "text": "and we're running out of time so what I'm trying to do here is to find you the path of",
    "start": "5416860",
    "end": "5422679"
  },
  {
    "text": "um on the host where the volume is created and um show you the permission that comes",
    "start": "5422679",
    "end": "5431199"
  },
  {
    "text": "with a volume that's being created and the fourth for the CSI the permission",
    "start": "5431199",
    "end": "5437260"
  },
  {
    "text": "for development is also 777 which make the volume free for all and the note on",
    "start": "5437260",
    "end": "5444300"
  }
]