[
  {
    "start": "0",
    "end": "148000"
  },
  {
    "text": "very good looks like we've got quite a",
    "start": "299",
    "end": "5700"
  },
  {
    "text": "few attendees this morning so good good good morning everyone good evening I've got as I hold on and gripped my copy",
    "start": "5700",
    "end": "12480"
  },
  {
    "text": "tightly I've got a hard time saying anything but good morning but welcome to today's scene CF webinar on how to",
    "start": "12480",
    "end": "20939"
  },
  {
    "text": "secure and monitor external service access with a service mesh i'm raquel",
    "start": "20939",
    "end": "27230"
  },
  {
    "text": "co-founder of layer 5 and a cloud native ambassador i'll be moderating today's webinar but we would like to welcome new",
    "start": "27230",
    "end": "37350"
  },
  {
    "text": "rajput are the co-founder and engineering lead at aston - that's a",
    "start": "37350",
    "end": "42420"
  },
  {
    "text": "good fantastic have Niraj with us today as as we go to hand it over to him I do",
    "start": "42420",
    "end": "49200"
  },
  {
    "text": "we do have a few housekeeping items to to note so this is a scene CF webinar",
    "start": "49200",
    "end": "55250"
  },
  {
    "text": "during the webinar you know you're not able to talk as an attendee but",
    "start": "55250",
    "end": "60859"
  },
  {
    "text": "questions are highly encouraged there is a Q&A box at the bottom of your screen so please do feel free to drop in your",
    "start": "60859",
    "end": "67439"
  },
  {
    "text": "questions there and we'll get to many as them as we can I would love for someone",
    "start": "67439",
    "end": "73110"
  },
  {
    "text": "to stump in the rajah I've not seen that before so that would be but that said we",
    "start": "73110",
    "end": "81240"
  },
  {
    "text": "are recording and this is an official CN CF webinar and so it is subject to the CN CF code of conduct so please don't",
    "start": "81240",
    "end": "88380"
  },
  {
    "text": "add anything to the questions you know or to the chat that might violate the code of conduct and so essentially you",
    "start": "88380",
    "end": "95610"
  },
  {
    "text": "please be respectful of your fellow participants and the presenter with that",
    "start": "95610",
    "end": "101939"
  },
  {
    "text": "do you think of those hard questions and I will hand over to Niraj and you know",
    "start": "101939",
    "end": "108689"
  },
  {
    "text": "Roger thanks so much for for hosting us today this is looking forward to it all right thanks Lee hello everyone I'm",
    "start": "108689",
    "end": "117659"
  },
  {
    "text": "neeraj I'm the co-founder and engineering leader Aspen mesh thank you all for joining me",
    "start": "117659",
    "end": "123570"
  },
  {
    "text": "today in exploring how to secure and monitor external service access with a",
    "start": "123570",
    "end": "128759"
  },
  {
    "text": "service mesh so before I get too deep into the how and what are the various ways you can",
    "start": "128759",
    "end": "133890"
  },
  {
    "text": "achievement let's quickly explore why this is important why as an organization",
    "start": "133890",
    "end": "139580"
  },
  {
    "text": "if you are currently running micro services in kubernetes environment why do you even care about external service",
    "start": "139580",
    "end": "146280"
  },
  {
    "text": "access so the main reason you care about it is you want to make sure you are",
    "start": "146280",
    "end": "151709"
  },
  {
    "start": "148000",
    "end": "405000"
  },
  {
    "text": "protected from security breaches so if you are an organization currently having any sensitive data whether it's privacy",
    "start": "151709",
    "end": "159660"
  },
  {
    "text": "data related to user information their emails or the grade cards or health information you want to make sure that",
    "start": "159660",
    "end": "165540"
  },
  {
    "text": "data is protected at the same time if you do have a security breach you want",
    "start": "165540",
    "end": "170730"
  },
  {
    "text": "to make sure you can react quickly to it so basically protecting access to",
    "start": "170730",
    "end": "177019"
  },
  {
    "text": "external services and monitoring it is one of the ways to make sure you're covered for under those scenarios",
    "start": "177019",
    "end": "183830"
  },
  {
    "text": "interestingly as the organization's are moving towards cloud native technologies",
    "start": "183830",
    "end": "190350"
  },
  {
    "text": "and adopting micro services there's an interesting paradigm happening where you",
    "start": "190350",
    "end": "196410"
  },
  {
    "text": "get it gets more and more difficult for you to understand your security basically you have more micro services",
    "start": "196410",
    "end": "203040"
  },
  {
    "text": "that are coming up and going they are trying to reach out to external services and you actually don't understand what's",
    "start": "203040",
    "end": "208709"
  },
  {
    "text": "happening so in a way it's interesting that you're trying to gain agility as an",
    "start": "208709",
    "end": "214709"
  },
  {
    "text": "organization but you still want to be out of the news when security breach will happen so at Aspen which we have",
    "start": "214709",
    "end": "221519"
  },
  {
    "text": "been calling it agility with stability which resonates a lot with our customers and thus comic-strip here basically",
    "start": "221519",
    "end": "228410"
  },
  {
    "text": "tells you that the strategy for any company should not be that you are news so many times it because of breaches",
    "start": "228410",
    "end": "235140"
  },
  {
    "text": "that your customers don't care anymore right so moving on this point about",
    "start": "235140",
    "end": "241940"
  },
  {
    "text": "monitoring and managing your external services is also emphasized by if you",
    "start": "241940",
    "end": "247079"
  },
  {
    "text": "look at the poor's top 10 list so if you're not familiar with ORS they they",
    "start": "247079",
    "end": "252900"
  },
  {
    "text": "list out that most common top 10 vulnerabilities that are affecting the applications and if you look at them",
    "start": "252900",
    "end": "259739"
  },
  {
    "text": "there are three which thirdly fall into this category of external services so",
    "start": "259739",
    "end": "264780"
  },
  {
    "text": "the first one is if you are using component with known vulnerabilities so if you have applications which are using",
    "start": "264780",
    "end": "271410"
  },
  {
    "text": "libraries whether they're open source or in some form factor and they have vulnerabilities you are open to breaches",
    "start": "271410",
    "end": "277890"
  },
  {
    "text": "and most and most often than not the way it works is these applications which",
    "start": "277890",
    "end": "284010"
  },
  {
    "text": "have vulnerabilities they try to look at your sensitive data and publish it through a public website so the example",
    "start": "284010",
    "end": "289740"
  },
  {
    "text": "here that I have is a recent Python vulnerability where fake version of the",
    "start": "289740",
    "end": "296010"
  },
  {
    "text": "date util library was published on pi PI where it was periodically listing all",
    "start": "296010",
    "end": "301530"
  },
  {
    "text": "the directories and contents of your file and publishing it on a public website as you can imagine if an",
    "start": "301530",
    "end": "307950"
  },
  {
    "text": "organization correctly monitored and secured external services this could",
    "start": "307950",
    "end": "313170"
  },
  {
    "text": "have been prevented moving on if you have insufficient logging on monitoring",
    "start": "313170",
    "end": "318320"
  },
  {
    "text": "it affects you in two ways first it decreases your ability to understand how your applications work and at the same",
    "start": "318320",
    "end": "326010"
  },
  {
    "text": "time if there is an attack you are your time to reaction and fixing it increases",
    "start": "326010",
    "end": "332430"
  },
  {
    "text": "and this doesn't apply just to external services but for everything but makes it worse when you're trying to access a",
    "start": "332430",
    "end": "338760"
  },
  {
    "text": "bunch of external services and the last thing is security miss configuration so most often people do think about",
    "start": "338760",
    "end": "346380"
  },
  {
    "text": "security but either it's too hard to achieve so they mess it up and then that leads to violations and breaches or developers",
    "start": "346380",
    "end": "355500"
  },
  {
    "text": "are actively working around it because it's it makes the life worse so as we explore today the various",
    "start": "355500",
    "end": "361919"
  },
  {
    "text": "options we have we are gonna try to make sure these options map up to the three",
    "start": "361919",
    "end": "367620"
  },
  {
    "text": "things that are related to external services last thing that I'm going to talk about before we go into the details",
    "start": "367620",
    "end": "373200"
  },
  {
    "text": "of how to achieve this is most of the organizations are currently trying to",
    "start": "373200",
    "end": "378330"
  },
  {
    "text": "achieve zero press security and more often than not a lot of focus is an attention is paid to how you get traffic",
    "start": "378330",
    "end": "384750"
  },
  {
    "text": "inside your clusters how do you make sure that it is authenticated authorized and encrypted this is the other half of",
    "start": "384750",
    "end": "393300"
  },
  {
    "text": "the equation so you have to pay equal attention to what services you are consuming because breaches can happen",
    "start": "393300",
    "end": "400289"
  },
  {
    "text": "there too so with bad background in place let's get started so I'm gonna start off with",
    "start": "400289",
    "end": "407490"
  },
  {
    "start": "405000",
    "end": "536000"
  },
  {
    "text": "a simple example of a micro service environment which is running in your kubernetes cluster so here you have an",
    "start": "407490",
    "end": "413129"
  },
  {
    "text": "application a which talks to application B an app C they can be written in",
    "start": "413129",
    "end": "418439"
  },
  {
    "text": "different languages most where time they are so the traffic comes from the internet it helped it hits application a",
    "start": "418439",
    "end": "424939"
  },
  {
    "text": "application a is going to reach out to an external Identity Management Service which is very common for organizations",
    "start": "424939",
    "end": "432090"
  },
  {
    "text": "to use something like a key cloak or Cognito to do user management and then apps see here reaches out to an external",
    "start": "432090",
    "end": "438689"
  },
  {
    "text": "database so that you are using a SAS managed service like a dynamo DB our",
    "start": "438689",
    "end": "444349"
  },
  {
    "text": "BigTable and making sure your burden is reduced right very common it's a very",
    "start": "444349",
    "end": "449969"
  },
  {
    "text": "simple architecture the reason I am explaining this now is we are going to use this as the slide as the",
    "start": "449969",
    "end": "457080"
  },
  {
    "text": "presentation progresses and incrementally add complexity to it ok so from an external service point of view",
    "start": "457080",
    "end": "463020"
  },
  {
    "text": "if your current state is this and you're a security operator or an application developer in your organization this is",
    "start": "463020",
    "end": "468810"
  },
  {
    "text": "what you want to this is where you want to be so the desired state is you want to make sure all the traffic to your",
    "start": "468810",
    "end": "475169"
  },
  {
    "text": "external services are encrypted you have to make sure you're not talking to an external service with HTTP it should be",
    "start": "475169",
    "end": "482729"
  },
  {
    "text": "HTTPS the next thing is you want to make sure any unauthorized access is blocked",
    "start": "482729",
    "end": "488849"
  },
  {
    "text": "what that means is if ABI has a new version deployed and suddenly it's trying to reach out to github",
    "start": "488849",
    "end": "495000"
  },
  {
    "text": "you should probably block it this probably our known vulnerability that has crept in and now it's trying to",
    "start": "495000",
    "end": "501060"
  },
  {
    "text": "publish maybe your sensitive data and the third thing you want to do is going",
    "start": "501060",
    "end": "506580"
  },
  {
    "text": "to make sure you get observability and visibility for both of those scenarios so you want to track when your",
    "start": "506580",
    "end": "512789"
  },
  {
    "text": "communication is going as expected and also when there are some violations",
    "start": "512789",
    "end": "517828"
  },
  {
    "text": "happening and you have blogged it now this visibility can be at different layers you can have metrics you can have",
    "start": "517829",
    "end": "524250"
  },
  {
    "text": "creasing or you can have logging or you can have all the three so with this goal",
    "start": "524250",
    "end": "530339"
  },
  {
    "text": "in mind let's try to see how we can achieve this and I'm going to focus on how you can achieve this with",
    "start": "530339",
    "end": "536210"
  },
  {
    "start": "536000",
    "end": "584000"
  },
  {
    "text": "so to summarize the goals for external service access are basically threefold first how do I know what external",
    "start": "536210",
    "end": "544140"
  },
  {
    "text": "services I am connecting I am connecting two so basically this is the visibility and logging and monitoring that you want",
    "start": "544140",
    "end": "550740"
  },
  {
    "text": "second is how do you make sure you are securing the access that means all the",
    "start": "550740",
    "end": "556590"
  },
  {
    "text": "traffic is encrypted and the third thing is you want to block unauthorized access so any external service that should not",
    "start": "556590",
    "end": "564120"
  },
  {
    "text": "be reached to is blocked and then again you have visibility on all the either of",
    "start": "564120",
    "end": "569160"
  },
  {
    "text": "those scenarios when the traffic is actually meant to go out and when the traffic is blocked so let's move on next",
    "start": "569160",
    "end": "575640"
  },
  {
    "text": "to what the different ways of achieving it both with and without a service mesh",
    "start": "575640",
    "end": "580980"
  },
  {
    "text": "and the options that people traditionally have so one way I have",
    "start": "580980",
    "end": "586290"
  },
  {
    "start": "584000",
    "end": "706000"
  },
  {
    "text": "seen organizations achieve this goal is to embed the logic in application code",
    "start": "586290",
    "end": "591330"
  },
  {
    "text": "so you can make sure your application could itself only talks encrypted and surfaces all the telemetry and for and",
    "start": "591330",
    "end": "599910"
  },
  {
    "text": "whatever happens it won't reach out to some of that hurt buddy services that it shouldn't be talking to you can also use",
    "start": "599910",
    "end": "606630"
  },
  {
    "text": "open source libraries and other third-party tools and embed that in your",
    "start": "606630",
    "end": "611640"
  },
  {
    "text": "application so that you offload that functionality into some shared code there are two basic problems that",
    "start": "611640",
    "end": "618630"
  },
  {
    "text": "happens with this approach first is because you are embedding this",
    "start": "618630",
    "end": "624030"
  },
  {
    "text": "capability in your application if you have different languages so if you are",
    "start": "624030",
    "end": "629580"
  },
  {
    "text": "using Python and go and JavaScript now you have to make sure you have consistent libraries or you have to",
    "start": "629580",
    "end": "635220"
  },
  {
    "text": "upgrade them all at the same time secondly if you are using even TLS stuck",
    "start": "635220",
    "end": "641580"
  },
  {
    "text": "in your applications if there are vulnerabilities you have to rebuild all of these applications and deploy them",
    "start": "641580",
    "end": "647130"
  },
  {
    "text": "again it just inherently lowers or I would say increases the time that you",
    "start": "647130",
    "end": "652560"
  },
  {
    "text": "need to react and fix the issue at hand right the third way which I highly",
    "start": "652560",
    "end": "657930"
  },
  {
    "text": "recommend organizations use that the third method that organization should use is offloading this functionality to",
    "start": "657930",
    "end": "664920"
  },
  {
    "text": "an infrastructure layer so basically what you want to do is take this complexity out of your",
    "start": "664920",
    "end": "670529"
  },
  {
    "text": "application move it to an infrastructure layer today we are going to cover service meshed which is one of those",
    "start": "670529",
    "end": "677100"
  },
  {
    "text": "infrastructure layers you can use that has two benefits one is application",
    "start": "677100",
    "end": "682529"
  },
  {
    "text": "developers don't have to do this anymore so they get to focus more on what they really want to do and then you are",
    "start": "682529",
    "end": "687870"
  },
  {
    "text": "enabling your operations team to configure security policies via",
    "start": "687870",
    "end": "693149"
  },
  {
    "text": "configuration and not via code alright so with that in mind I'm gonna do a",
    "start": "693149",
    "end": "699480"
  },
  {
    "text": "quick recap of what a service mesh is and then we are going to move on to how a service mesh can help in this endeavor",
    "start": "699480",
    "end": "706610"
  },
  {
    "start": "706000",
    "end": "777000"
  },
  {
    "text": "alright so what's a service mesh the service mesh is a transparent",
    "start": "706610",
    "end": "711930"
  },
  {
    "text": "infrastructure layer that manages and handles communication between micro services and as part of doing that and",
    "start": "711930",
    "end": "718740"
  },
  {
    "text": "handling that communication it does two things it allows developers to offload",
    "start": "718740",
    "end": "724019"
  },
  {
    "text": "the functionality like I was saying and allows them to focus more on the business logic and at the same time it",
    "start": "724019",
    "end": "730440"
  },
  {
    "text": "allows operators to get the resiliency in the security in their environments",
    "start": "730440",
    "end": "735510"
  },
  {
    "text": "outside of the dev cycles which means they both of these teams or both of these personas can do the job",
    "start": "735510",
    "end": "742110"
  },
  {
    "text": "independently and still successfully achieve the goals of an organization or a business",
    "start": "742110",
    "end": "747860"
  },
  {
    "text": "so typically service meshes work by adding a proxy and that proxy intercepts",
    "start": "747860",
    "end": "754380"
  },
  {
    "text": "traffic coming in and out of your mesh sorry in an order of your application and as that proxy is intercepting the",
    "start": "754380",
    "end": "760920"
  },
  {
    "text": "traffic it can add a lot of advanced functionality depending on where the",
    "start": "760920",
    "end": "767519"
  },
  {
    "text": "proxy is placed in your architecture you have a lot of different options so today I am going to cover one of those",
    "start": "767519",
    "end": "773519"
  },
  {
    "text": "architecture options which is called our sidecar proxy architecture so if you haven't heard of this term I'm going to",
    "start": "773519",
    "end": "780029"
  },
  {
    "start": "777000",
    "end": "1067000"
  },
  {
    "text": "just quickly explain what it is a sidecar proxy architecture is basically you insert a proxy as close to the",
    "start": "780029",
    "end": "787320"
  },
  {
    "text": "application possible so in case of kubernetes the proxy is added as another container in the same pod your",
    "start": "787320",
    "end": "794279"
  },
  {
    "text": "application is running so the value you get by running them in the same pod is they share the same networking namespace",
    "start": "794279",
    "end": "801600"
  },
  {
    "text": "so from a outside perspective you feel like you're talking to one entity internally those",
    "start": "801600",
    "end": "807090"
  },
  {
    "text": "images can come from different sources so the application image comes from developers and the proxy image can come",
    "start": "807090",
    "end": "814320"
  },
  {
    "text": "from the security team and the next thing you we do is we placed some IP",
    "start": "814320",
    "end": "820770"
  },
  {
    "text": "table rules or intercept rules where all the traffic going in and out of the applications will be routed through the",
    "start": "820770",
    "end": "827010"
  },
  {
    "text": "proxy first so in the simple example if you have app a which wants to talk to a be first the app is traffic will be",
    "start": "827010",
    "end": "835470"
  },
  {
    "text": "intercepted by the proxy then the proxy and service a is going to talk to the proxy in service B and then the request",
    "start": "835470",
    "end": "841950"
  },
  {
    "text": "will eventually go to the application B container having the proxies that both",
    "start": "841950",
    "end": "847890"
  },
  {
    "text": "the edge both the sides which we call bookended proxies give you the capability it gives you the capability",
    "start": "847890",
    "end": "853080"
  },
  {
    "text": "to actually enforce policies both at the client and the server so all the proxies",
    "start": "853080",
    "end": "859260"
  },
  {
    "text": "together is what we call the data plane of a service mesh service mesh is most of them also include a control plane so",
    "start": "859260",
    "end": "867330"
  },
  {
    "text": "the control plane is responsible for looking at your kubernetes environment looking at the configuration that an",
    "start": "867330",
    "end": "872790"
  },
  {
    "text": "operator provides and lower that configuration to the data plane so that",
    "start": "872790",
    "end": "878190"
  },
  {
    "text": "the data plane can understand what to do so this gives you like in mice abstraction where you can replace the",
    "start": "878190",
    "end": "884070"
  },
  {
    "text": "data plane if you want and the application that and the operators are talking to the service mesh control",
    "start": "884070",
    "end": "889980"
  },
  {
    "text": "plane and configuring it in the API is they understand so most of the service",
    "start": "889980",
    "end": "895680"
  },
  {
    "text": "meshes provide functionality in three broad categories first is traffic",
    "start": "895680",
    "end": "902640"
  },
  {
    "text": "management which is shaping the traffic as the requests are flowing through the",
    "start": "902640",
    "end": "909000"
  },
  {
    "text": "proxy so this includes things like circuit breaking fault tolerance or some advanced concepts like path based",
    "start": "909000",
    "end": "915660"
  },
  {
    "text": "routing and kind of read rollouts in this case today we are going to cover",
    "start": "915660",
    "end": "920670"
  },
  {
    "text": "how you can shape the traffic for external services the second category is",
    "start": "920670",
    "end": "926370"
  },
  {
    "text": "security so as the proxies are receiving traffic whether it's inbound or outbound you can",
    "start": "926370",
    "end": "933000"
  },
  {
    "text": "do authentication you can do encryption you can do operas and today you can actually block we are",
    "start": "933000",
    "end": "938700"
  },
  {
    "text": "going to cover how you can block extended services and the third category is observability depending on the type",
    "start": "938700",
    "end": "945450"
  },
  {
    "text": "of request and the proxy and the type of talk seeing the proxy is doing so whether it's doing TCP proxy over there",
    "start": "945450",
    "end": "952560"
  },
  {
    "text": "is doing HTTP proxy the proxy can surface a lot of metrics tracing and",
    "start": "952560",
    "end": "958670"
  },
  {
    "text": "logging for you so the good thing about doing doing this out of your application",
    "start": "958670",
    "end": "963930"
  },
  {
    "text": "is you get consistency and one of the key aspects of security and operating a",
    "start": "963930",
    "end": "970140"
  },
  {
    "text": "cluster is to make sure you are on your playing a level playing field where the information is consistent across all",
    "start": "970140",
    "end": "976260"
  },
  {
    "text": "applications so moving on so today I'm going to focus on service mesh but",
    "start": "976260",
    "end": "982649"
  },
  {
    "text": "particularly I'm gonna focus on how is to enables this so this is going to be my transition to talk more and more",
    "start": "982649",
    "end": "989640"
  },
  {
    "text": "about how history allows you to do external service access and monitoring so to quickly explain that in in sto we",
    "start": "989640",
    "end": "999209"
  },
  {
    "text": "are using a sidecar proxy architecture and the proxies that I use that envoy",
    "start": "999209",
    "end": "1004550"
  },
  {
    "text": "proxy is if you're not familiar with envoy envoy is a cien safe project it's a high-performance proxy written in C++",
    "start": "1004550",
    "end": "1011360"
  },
  {
    "text": "so this is the architecture of Sto but it's an architecture of most of the",
    "start": "1011360",
    "end": "1017690"
  },
  {
    "text": "service measures you have a control plane and a data plane and sto the data plane is envoy all right so with that",
    "start": "1017690",
    "end": "1024558"
  },
  {
    "text": "let's not dig into specific criteria",
    "start": "1024559",
    "end": "1030199"
  },
  {
    "text": "about how service meshes and how particularly sto can help you with external services so this is the updated",
    "start": "1030199",
    "end": "1037490"
  },
  {
    "text": "diagram of this initial slider I had so the same architecture you have app a B",
    "start": "1037490",
    "end": "1043339"
  },
  {
    "text": "and C now you have a proxy which is inserted so now when app a wants to talk",
    "start": "1043339",
    "end": "1049910"
  },
  {
    "text": "to external identity management it has to go through the sidecar proxy similarly when app C talks to the",
    "start": "1049910",
    "end": "1056240"
  },
  {
    "text": "external DB it has to go through the proxy so with this with this architecture in place let's look at all",
    "start": "1056240",
    "end": "1062240"
  },
  {
    "text": "the options that are available to us to help us manage external services all",
    "start": "1062240",
    "end": "1068000"
  },
  {
    "start": "1067000",
    "end": "1098000"
  },
  {
    "text": "right so in sto these are the four options that are available to you",
    "start": "1068000",
    "end": "1073059"
  },
  {
    "text": "I'm going to go into details about each one of them these four are allow any restricted access with TLS passed",
    "start": "1073059",
    "end": "1079910"
  },
  {
    "text": "through restricted access with TLS origination and egress gateway with TLS",
    "start": "1079910",
    "end": "1085190"
  },
  {
    "text": "origination some of the other service measures might also provide you some of these options or all of them I'm not",
    "start": "1085190",
    "end": "1092090"
  },
  {
    "text": "particularly sure because there's so many service measures out there but it's geo currently provides these four",
    "start": "1092090",
    "end": "1097549"
  },
  {
    "text": "so the key thing I'm gonna do is I'm gonna focus on the three parameters basically these are the three key things",
    "start": "1097549",
    "end": "1105350"
  },
  {
    "start": "1098000",
    "end": "1140000"
  },
  {
    "text": "that I listed from wasp but I want to cover so we give it a lot we're gonna compare and contrast this options for",
    "start": "1105350",
    "end": "1111559"
  },
  {
    "text": "how easy it is to configure them if it is hard probably people are going to screw it up and then you have more prone",
    "start": "1111559",
    "end": "1119210"
  },
  {
    "text": "to breaches than what you intended to be second is what's the level of visibility",
    "start": "1119210",
    "end": "1124340"
  },
  {
    "text": "you get and then the third is actually how secure it is a false sense of",
    "start": "1124340",
    "end": "1129470"
  },
  {
    "text": "security is sometimes more hurtful than actually having no security so you I want to be clear on the options that",
    "start": "1129470",
    "end": "1137000"
  },
  {
    "text": "you're going with what do you actually get out of them so with that let's move",
    "start": "1137000",
    "end": "1142250"
  },
  {
    "start": "1140000",
    "end": "1276000"
  },
  {
    "text": "on the first option the first option is allow any so allow any is the simplest",
    "start": "1142250",
    "end": "1147440"
  },
  {
    "text": "option basically what that means is the proxies are not going to block any",
    "start": "1147440",
    "end": "1152870"
  },
  {
    "text": "traffic so what I mean by that is if app",
    "start": "1152870",
    "end": "1158780"
  },
  {
    "text": "is talking with encrypted traffic or HTTPS to external entity it will be",
    "start": "1158780",
    "end": "1164630"
  },
  {
    "text": "allowed similarly if app C is talking over",
    "start": "1164630",
    "end": "1170350"
  },
  {
    "text": "regular HTTP to external DV it will also be allowed this really means you don't",
    "start": "1170350",
    "end": "1175610"
  },
  {
    "text": "have any security in my view you the proxy is proxying things at a TCP level",
    "start": "1175610",
    "end": "1180740"
  },
  {
    "text": "without actually enforcing anything and similarly because it's doing that when",
    "start": "1180740",
    "end": "1187100"
  },
  {
    "text": "app C wants to talk to github it's actually allowed and not blocked the reason I am bringing it as one of the",
    "start": "1187100",
    "end": "1193130"
  },
  {
    "text": "options is currently many many people who run kubernetes environments they actually don't monitor the external",
    "start": "1193130",
    "end": "1199850"
  },
  {
    "text": "services what that means is when they add st on top if you start restricting external",
    "start": "1199850",
    "end": "1206130"
  },
  {
    "text": "services it breaks the environment so this option is there to easily",
    "start": "1206130",
    "end": "1211260"
  },
  {
    "text": "transition them into adopting Sto so let's look at the pros and cons with",
    "start": "1211260",
    "end": "1216600"
  },
  {
    "text": "those three parameters of configuration visibility and security for this first option so obviously it's very simple so",
    "start": "1216600",
    "end": "1225540"
  },
  {
    "text": "there is zero configuration you just have to flip one bed and you get allow any but as I was saying it's not at all",
    "start": "1225540",
    "end": "1232650"
  },
  {
    "text": "secure so for any organization which is focused on security I would say don't",
    "start": "1232650",
    "end": "1238920"
  },
  {
    "text": "use this option the second thing is you do get some telemetry so recently we had",
    "start": "1238920",
    "end": "1244770"
  },
  {
    "text": "added support for getting telemetry in sto for allow any and that delimiter is",
    "start": "1244770",
    "end": "1250980"
  },
  {
    "text": "in the form of TCP metrics so you can configure it and you can get destination",
    "start": "1250980",
    "end": "1256980"
  },
  {
    "text": "IPS if you want but again that information is very restrictive because if really an attacker is trying to leak",
    "start": "1256980",
    "end": "1265080"
  },
  {
    "text": "or get some sensitive data out there probably going to continuously change your IP addresses so it's just getting a",
    "start": "1265080",
    "end": "1271790"
  },
  {
    "text": "TCP level metrics not sufficient to enforce security here so next what I'm",
    "start": "1271790",
    "end": "1277650"
  },
  {
    "start": "1276000",
    "end": "1420000"
  },
  {
    "text": "going to do is I'm gonna show you how you can configure allow any and this is the format that I'm going to use",
    "start": "1277650",
    "end": "1283290"
  },
  {
    "text": "throughout the slides will remaining of this presentation is talk about an option tell you how to configure sto to",
    "start": "1283290",
    "end": "1290190"
  },
  {
    "text": "use that option and actually show you some envoy configuration so that you can actually go to the source of truth and",
    "start": "1290190",
    "end": "1296760"
  },
  {
    "text": "understand what's happening in well so for allow any the first thing you need",
    "start": "1296760",
    "end": "1302340"
  },
  {
    "text": "to do is make sure that config mode is if that is deployed in your sto system namespace which is the config map for",
    "start": "1302340",
    "end": "1308580"
  },
  {
    "text": "the mesh says that you have allow and you configured simple enough moving on",
    "start": "1308580",
    "end": "1314760"
  },
  {
    "text": "the on were configuration for any of the pods that have the sidecar should look",
    "start": "1314760",
    "end": "1321360"
  },
  {
    "text": "like this so you see what is called a virtual outbound listener so you're looking at",
    "start": "1321360",
    "end": "1326790"
  },
  {
    "text": "the config dump of envoy envoy has in Istria we configure envoy to have",
    "start": "1326790",
    "end": "1334140"
  },
  {
    "text": "virtual outbound listeners these listeners are the fault listeners that all the traffic",
    "start": "1334140",
    "end": "1339380"
  },
  {
    "text": "from the application get routed to and these are configured with original desks",
    "start": "1339380",
    "end": "1345140"
  },
  {
    "text": "what that means is if there is a more explicit listener that listener will in",
    "start": "1345140",
    "end": "1350600"
  },
  {
    "text": "will get involved but if there are no explicit listeners for the traffic it is receiving the configuration of this",
    "start": "1350600",
    "end": "1359030"
  },
  {
    "text": "particular virtual outbound listener will get activated so in this case if",
    "start": "1359030",
    "end": "1364190"
  },
  {
    "text": "you have allow any the configuration for the virtual outbound listener is a TCP proxy that's why you're only getting PCP",
    "start": "1364190",
    "end": "1371150"
  },
  {
    "text": "level stats and it is configured to use the cluster which we call pass through a pass through is a special virtual",
    "start": "1371150",
    "end": "1378620"
  },
  {
    "text": "cluster in Envoy which tells it to forward the traffic as is to the",
    "start": "1378620",
    "end": "1384559"
  },
  {
    "text": "original destination that's why this actually works so sometimes there are",
    "start": "1384559",
    "end": "1389840"
  },
  {
    "text": "many customers and also community users who ask me how does allow any work and",
    "start": "1389840",
    "end": "1396290"
  },
  {
    "text": "how can I verify whether I have allow and they can figure them out this is how you should verify it if you have your",
    "start": "1396290",
    "end": "1401990"
  },
  {
    "text": "virtual outbound configured if you have allow any configured your virtual outbound listener will always have a",
    "start": "1401990",
    "end": "1408380"
  },
  {
    "text": "pass through cluster alright moving on to the next option so clearly this is",
    "start": "1408380",
    "end": "1413660"
  },
  {
    "text": "not a very secure option so progressively we are going to look at more secure options and options which",
    "start": "1413660",
    "end": "1418730"
  },
  {
    "text": "give you more visibility so the second option is restricted access with TLS",
    "start": "1418730",
    "end": "1424280"
  },
  {
    "start": "1420000",
    "end": "1636000"
  },
  {
    "text": "pass through what that means is in this scenario operators have to explicitly",
    "start": "1424280",
    "end": "1429350"
  },
  {
    "text": "configure the mesh and and tell it what are the hosts and services you are",
    "start": "1429350",
    "end": "1434420"
  },
  {
    "text": "allowed to talk to so in sto by default all the services within the kubernetes",
    "start": "1434420",
    "end": "1440330"
  },
  {
    "text": "cluster are allowed to talk to each other when you turn this option on you won't be allowed to talk to any other",
    "start": "1440330",
    "end": "1446330"
  },
  {
    "text": "external service but you have to explicitly whitelist them and then as the operators are white listing them it",
    "start": "1446330",
    "end": "1452570"
  },
  {
    "text": "does not make sense for them to whitelist HTTP services so you'll always quite lace HTTP services now the trick",
    "start": "1452570",
    "end": "1461690"
  },
  {
    "text": "here is it's called a TLS pass through so TLS pass through means the proxies are configured to look at the sni header",
    "start": "1461690",
    "end": "1469280"
  },
  {
    "text": "which is the server name indication in the TLS handshake and then route traffic based on the SMI hello what that",
    "start": "1469280",
    "end": "1476870"
  },
  {
    "text": "means is application is talking to the external identity management application",
    "start": "1476870",
    "end": "1482299"
  },
  {
    "text": "a itself creates an HTTP request that means that TLS handshake will happen and",
    "start": "1482299",
    "end": "1488990"
  },
  {
    "text": "then proxy looks at the sni header and sensor traffic if the proxy sees a",
    "start": "1488990",
    "end": "1494720"
  },
  {
    "text": "request where the SMI header is not in its configuration list it will reject that prophet so similarly app seek and",
    "start": "1494720",
    "end": "1502789"
  },
  {
    "text": "talk to external database and now you are secured because only encrypted traffic can go through and as github is",
    "start": "1502789",
    "end": "1510830"
  },
  {
    "text": "not part of your whitelist it will be blogged here so as you can see we have",
    "start": "1510830",
    "end": "1516110"
  },
  {
    "text": "added a fair amount of security here there are two things that we got we got that the traffic is encrypted and we are",
    "start": "1516110",
    "end": "1522500"
  },
  {
    "text": "able to block any traffic that is not in our whitelist so let's evaluate what are the pros and",
    "start": "1522500",
    "end": "1527630"
  },
  {
    "text": "cons of this option so from the pro side you are fairly secure do you achieve two",
    "start": "1527630",
    "end": "1533149"
  },
  {
    "text": "of the goals that you wanted from the cons you obviously now need more configuration I'm going to show you what",
    "start": "1533149",
    "end": "1539450"
  },
  {
    "text": "configuration you will need to make it work with this tier the visibility side of things are still limited because the",
    "start": "1539450",
    "end": "1546409"
  },
  {
    "text": "proxy is doing TCP proxying with SMI routing you only get TCP metrics again",
    "start": "1546409",
    "end": "1552320"
  },
  {
    "text": "to quickly react to any security breaches or data breaches any organization should collect as much",
    "start": "1552320",
    "end": "1558860"
  },
  {
    "text": "information and if that information is at layer 7 that's the best thing you can",
    "start": "1558860",
    "end": "1563929"
  },
  {
    "text": "do so this option is secure but the visibility is not that great and the",
    "start": "1563929",
    "end": "1569090"
  },
  {
    "text": "third thing about security which I listed is a con is very interesting so in this both up a and app C are using",
    "start": "1569090",
    "end": "1577370"
  },
  {
    "text": "the TLS stack of the application what that means is if you have a vulnerability in the TLS that you will",
    "start": "1577370",
    "end": "1583789"
  },
  {
    "text": "have to rebuild your application so for example if if this was deployed in your",
    "start": "1583789",
    "end": "1589309"
  },
  {
    "text": "cluster and the vulnerability like heartbleed came out you'll have to rebuild the whole world if interactive on the other hand if the",
    "start": "1589309",
    "end": "1596840"
  },
  {
    "text": "proxy's TLS stack was used then the awkwardness can deploy a new version of proxy so you get some security and",
    "start": "1596840",
    "end": "1604940"
  },
  {
    "text": "you also get some vulnerability is because of the way this works an",
    "start": "1604940",
    "end": "1610099"
  },
  {
    "text": "interesting thing about this option is many of the users that I talk to they",
    "start": "1610099",
    "end": "1615200"
  },
  {
    "text": "turn this on in the AWS environments especially and they start to sink failures and they say that my AWS my",
    "start": "1615200",
    "end": "1622820"
  },
  {
    "text": "services if within the cluster talk to s3 for example and I have configured s3",
    "start": "1622820",
    "end": "1628539"
  },
  {
    "text": "service entries but they still fail so I'm going to quickly show you why that happens and what are the configuration",
    "start": "1628539",
    "end": "1634820"
  },
  {
    "text": "you will mean so in sto if you want to continue the TLS pass through the first",
    "start": "1634820",
    "end": "1640309"
  },
  {
    "text": "thing you need is you want to make sure you have switched that config map option to registry only so registry only is no",
    "start": "1640309",
    "end": "1648919"
  },
  {
    "text": "longer you are allowed to pass through all the traffic if you're saying but only the only the traffic it is",
    "start": "1648919",
    "end": "1656389"
  },
  {
    "text": "whitelist it is allowed to go when you do this the virtual outbound listener that I was talking about now gets",
    "start": "1656389",
    "end": "1662809"
  },
  {
    "text": "switched to a TCP proxy with black hole cluster a black hole cluster is the opposite of the pass-through cluster in",
    "start": "1662809",
    "end": "1669200"
  },
  {
    "text": "sto and obviously the name is saying there is going to black hole any traffic that it sees so good so you are not",
    "start": "1669200",
    "end": "1676489"
  },
  {
    "text": "going to be able to access anything you want but only the whitelist so let's look at what configuration you will need",
    "start": "1676489",
    "end": "1683239"
  },
  {
    "text": "in your cluster as an operator to make this work so you need to create a service entry a service entry in sto is",
    "start": "1683239",
    "end": "1690169"
  },
  {
    "text": "a way to augment the services that the proxy should be allowed to router so",
    "start": "1690169",
    "end": "1695359"
  },
  {
    "text": "like I was saying normally you can only allow two things within the cluster or service entry is a way to update that",
    "start": "1695359",
    "end": "1701330"
  },
  {
    "text": "registry so in this case I have told it you can talk to HTTP bin dot-org so",
    "start": "1701330",
    "end": "1706759"
  },
  {
    "text": "there are two key things here one is the name here is HTTP and the protocol is",
    "start": "1706759",
    "end": "1712460"
  },
  {
    "text": "HTTP this means that you're going to be doing a semi routing and the application",
    "start": "1712460",
    "end": "1718429"
  },
  {
    "text": "itself is going to make a request with HTTP : WWE load HTTP bin dot-org so this",
    "start": "1718429",
    "end": "1726559"
  },
  {
    "text": "is very important to make sure you don't put here HTTP because that's gonna create vulnerabilities a given your",
    "start": "1726559",
    "end": "1732919"
  },
  {
    "text": "normal so when you configure service entries this is how your on",
    "start": "1732919",
    "end": "1738860"
  },
  {
    "text": "configuration will look like we will create our sto control pain will create additional listeners so in this case the",
    "start": "1738860",
    "end": "1746210"
  },
  {
    "text": "listener will be four wildcard host or wild girl IP and 443 we will configure",
    "start": "1746210",
    "end": "1752929"
  },
  {
    "text": "an SN I match which will say if the server name is HTTP bill you should you",
    "start": "1752929",
    "end": "1760039"
  },
  {
    "text": "should activate this filter and the filter will be a TCP filter which is a TCP proxy and it will send the traffic",
    "start": "1760039",
    "end": "1767000"
  },
  {
    "text": "eventually to 443 so this is fairly simple and gives you some amount of security coming back to the AWS thing I",
    "start": "1767000",
    "end": "1775010"
  },
  {
    "text": "was talking about if you're talking to AWS services like s3 and you just configure a service entry normally it",
    "start": "1775010",
    "end": "1782570"
  },
  {
    "text": "won't work and the reason is AWS services normally talk to some other",
    "start": "1782570",
    "end": "1788620"
  },
  {
    "text": "things like a moderator server or an STS service to actually get tokens so",
    "start": "1788620",
    "end": "1794929"
  },
  {
    "text": "depending on how you're getting your credentials need to make sure not only do you whitelist the services in EWS",
    "start": "1794929",
    "end": "1802490"
  },
  {
    "text": "that your applications are directly consuming but you whitelist things like the moderator server and STS service so",
    "start": "1802490",
    "end": "1810080"
  },
  {
    "text": "just something to keep in mind I am debugged fair number of issues where people who start with this - you add",
    "start": "1810080",
    "end": "1815360"
  },
  {
    "text": "this options and then everything is broken in database all right so moving on so this is the third option which is",
    "start": "1815360",
    "end": "1822679"
  },
  {
    "start": "1819000",
    "end": "2033000"
  },
  {
    "text": "my favorite option which is what i always recommend users to use which is restricted access so you still are white",
    "start": "1822679",
    "end": "1829760"
  },
  {
    "text": "listing the services that are allowed in your mesh but you are doing TLS",
    "start": "1829760",
    "end": "1835700"
  },
  {
    "text": "origination so TLS origination means you are deferring the TLS negotiation to the",
    "start": "1835700",
    "end": "1841580"
  },
  {
    "text": "proxy that means the application talks to proxy as HTTP and then the proxy",
    "start": "1841580",
    "end": "1848269"
  },
  {
    "text": "upgrades the connection and I know if you're an operator you are like this feels like less secure to me and why",
    "start": "1848269",
    "end": "1854389"
  },
  {
    "text": "would I do that so I'm going to quickly show you why you want to actually use this option so the way it works is the",
    "start": "1854389",
    "end": "1861409"
  },
  {
    "text": "application talks over HTTP to the proxy and then the proxy is eventually",
    "start": "1861409",
    "end": "1867049"
  },
  {
    "text": "upgrading the connection and doing TLS so if you look at the pod",
    "start": "1867049",
    "end": "1872840"
  },
  {
    "text": "as your security boundary the main thing you want to achieve is your packets are",
    "start": "1872840",
    "end": "1879559"
  },
  {
    "text": "never unencrypted outside the powered pot boundary this achieves it your",
    "start": "1879559",
    "end": "1884570"
  },
  {
    "text": "traffic is always encrypted eventually to external services but within the pod they are not and this actually is",
    "start": "1884570",
    "end": "1891919"
  },
  {
    "text": "beneficial to you because now you can apply lots of advanced layer 7 policies",
    "start": "1891919",
    "end": "1897230"
  },
  {
    "text": "and the visibility that you get from the proxy is not layer 7 similarly just like",
    "start": "1897230",
    "end": "1903080"
  },
  {
    "text": "the last option if you talk trying to talk to github and it's not in your whitelist so if you look at the pros and",
    "start": "1903080",
    "end": "1910369"
  },
  {
    "text": "the cons here the pros are a lot more than the last option so you are getting",
    "start": "1910369",
    "end": "1916700"
  },
  {
    "text": "the same level of security you are able to apply layer 7 policies now so you can",
    "start": "1916700",
    "end": "1922279"
  },
  {
    "text": "use in sto if you're familiar with this here you can use what you'll service this destination rules and get retries",
    "start": "1922279",
    "end": "1928730"
  },
  {
    "text": "times timeout all the things that you want and as an operator you don't have to rely on application area from the",
    "start": "1928730",
    "end": "1935899"
  },
  {
    "text": "visibility point of view if you have configured the right options in sto you are not gonna get layer 7 metrics or HDB",
    "start": "1935899",
    "end": "1942950"
  },
  {
    "text": "metrics you're gonna get access login you're going to get tracing this is a lot of visibility right out of the box",
    "start": "1942950",
    "end": "1949610"
  },
  {
    "text": "without changing your application the corn is as is most of the times with",
    "start": "1949610",
    "end": "1955730"
  },
  {
    "text": "security and visibility if you get if you are getting both you are also getting a lot of configuration right so",
    "start": "1955730",
    "end": "1962899"
  },
  {
    "text": "that's one downside and another downside if you want to talk tell that it's a downside is you can have unencrypted",
    "start": "1962899",
    "end": "1970039"
  },
  {
    "text": "traffic now between application and proc so again most of the organizations and",
    "start": "1970039",
    "end": "1975590"
  },
  {
    "text": "businesses I know they can live with this because pod is the security boundary so this is how you configure",
    "start": "1975590",
    "end": "1982240"
  },
  {
    "text": "restricted access with TLS or generation in Sto so you still need a service and to like before but now the interesting",
    "start": "1982240",
    "end": "1988460"
  },
  {
    "text": "thing is you need to also add port 80 and with the protocol HTTP but don't",
    "start": "1988460",
    "end": "1993950"
  },
  {
    "text": "worry the proxy is gonna upgrade the connection and the way it does that is you have a virtual service configured",
    "start": "1993950",
    "end": "1999649"
  },
  {
    "text": "which says when the application is trying to talk to HTTP bill dot org at",
    "start": "1999649",
    "end": "2004779"
  },
  {
    "text": "port make sure you route it to a specific destination which is configured your",
    "start": "2004779",
    "end": "2011750"
  },
  {
    "text": "destination rule but at four at port 443 and that destination rule is saying for",
    "start": "2011750",
    "end": "2018620"
  },
  {
    "text": "port 443 you're going to do a TLS mod symbol so this means the connection from",
    "start": "2018620",
    "end": "2024440"
  },
  {
    "text": "the application is going to come to the proxy at port 80 but the proxy will make an connection out at port 443 using",
    "start": "2024440",
    "end": "2030740"
  },
  {
    "text": "simple TLS so the on word configure it so this was all the sto configuration",
    "start": "2030740",
    "end": "2036920"
  },
  {
    "start": "2033000",
    "end": "2142000"
  },
  {
    "text": "you need the control plane eventually lowers it to envoy and this is what envoy configuration will look like so we",
    "start": "2036920",
    "end": "2043280"
  },
  {
    "text": "will create a new listener at port 80 that listener at 480 will be an HTTP",
    "start": "2043280",
    "end": "2049520"
  },
  {
    "text": "connection will be an HTTP filter by bad and that HTTP filter will have a route",
    "start": "2049520",
    "end": "2055398"
  },
  {
    "text": "configured for that listener so the way on where configuration works is listeners either have TCP filters or",
    "start": "2055399",
    "end": "2063500"
  },
  {
    "text": "they have mostly HTTP filters or if you have some other protocols they can have those filters for HTTP the filter the",
    "start": "2063500",
    "end": "2072050"
  },
  {
    "text": "HTTP filter typically points to a route so in this case is pointing to our route 80 that route now will point to a",
    "start": "2072050",
    "end": "2080000"
  },
  {
    "text": "cluster so the way it goes is listeners routes and clusters so then the cluster",
    "start": "2080000",
    "end": "2086960"
  },
  {
    "text": "for route 80 is pointing to a special cluster here which is outbound TLS",
    "start": "2086960",
    "end": "2093888"
  },
  {
    "text": "origination and the configuration for that cluster basically says use the TLS",
    "start": "2093889",
    "end": "2099500"
  },
  {
    "text": "context which is a common TLS context so this common TLS context means it will",
    "start": "2099500",
    "end": "2105200"
  },
  {
    "text": "use the well-known search to verify the certificate of the server on the other side as you can see the number of camels",
    "start": "2105200",
    "end": "2113420"
  },
  {
    "text": "or configuration you have to achieve you have to write to achieve this is fairly high but you get a lot of benefits and",
    "start": "2113420",
    "end": "2120350"
  },
  {
    "text": "with the right amount of automation or using some vendors vendor products which create a wrapper around it you can get",
    "start": "2120350",
    "end": "2127369"
  },
  {
    "text": "the benefits and still you don't have to worry about all the iniquities of the configuration so I always recommend",
    "start": "2127369",
    "end": "2133040"
  },
  {
    "text": "people to use this the fourth option here is a pretty advanced option that's",
    "start": "2133040",
    "end": "2138410"
  },
  {
    "text": "using an egress gateway so an egress gateway",
    "start": "2138410",
    "end": "2143990"
  },
  {
    "text": "gives you the capability of routing all the traffic for external services",
    "start": "2143990",
    "end": "2149240"
  },
  {
    "text": "through a special gateway which is like the inverse of the e ingress gateway it's a standalone proxy and there are",
    "start": "2149240",
    "end": "2156500"
  },
  {
    "text": "two use cases I know what people want to use it so one is either you have some stringent requirements where all the",
    "start": "2156500",
    "end": "2163340"
  },
  {
    "text": "external services that you're accessing the traffic has to go through special nodes and those nodes have some special",
    "start": "2163340",
    "end": "2169790"
  },
  {
    "text": "monitoring and policy enforcement's or you have a policy of all the nodes in",
    "start": "2169790",
    "end": "2174980"
  },
  {
    "text": "your cluster cannot have public IPS so you only have public IP allocated to some of the nodes now this is going to",
    "start": "2174980",
    "end": "2181460"
  },
  {
    "text": "be a lot of configuration and I'm going to make sure I'm gonna inform you that if you're using this make sure you have",
    "start": "2181460",
    "end": "2189320"
  },
  {
    "text": "those requirements otherwise you're taking on a lot of pain a lot of benefit and also with egress gateways you can",
    "start": "2189320",
    "end": "2195950"
  },
  {
    "text": "have multiple options I feel like if you care about security that you want to use an egress gateway you only should be",
    "start": "2195950",
    "end": "2202490"
  },
  {
    "text": "using TLS origination otherwise you're actually giving up security compared to the last option so let's quickly see",
    "start": "2202490",
    "end": "2208490"
  },
  {
    "text": "what's the architecture here so we are using TLS origination that means app is talking to the proxy unencrypted",
    "start": "2208490",
    "end": "2215530"
  },
  {
    "text": "then the connection between the proxy to the egress gateway here will be encrypted and this encryption is through",
    "start": "2215530",
    "end": "2222260"
  },
  {
    "text": "sto mutual TLS this is very important and some of the customers or some of the",
    "start": "2222260",
    "end": "2227510"
  },
  {
    "text": "users I have seen who are currently using egress gateways they don't realize that you need MPLS to make this work",
    "start": "2227510",
    "end": "2233300"
  },
  {
    "text": "otherwise you have gaps in your security and then the egress gateway will again do a TLS upgrade so lots of moving",
    "start": "2233300",
    "end": "2241640"
  },
  {
    "text": "pieces here to kinds of encryption but if you really want the benefits of it",
    "start": "2241640",
    "end": "2247460"
  },
  {
    "text": "you can do this so pros here are the same pros for the last option",
    "start": "2247460",
    "end": "2252530"
  },
  {
    "text": "additionally you have the public IP control which I was saying the visibility is the same for the cons",
    "start": "2252530",
    "end": "2258250"
  },
  {
    "text": "there is really a lot of configuration I'm going to walk you through their configuration quickly next and then from",
    "start": "2258250",
    "end": "2263930"
  },
  {
    "text": "the security point of view really you have to enable em TLS in your cluster otherwise this link here will not be",
    "start": "2263930",
    "end": "2271010"
  },
  {
    "text": "encrypted so the configuration for this is first you need to enable egress gateway and",
    "start": "2271010",
    "end": "2277770"
  },
  {
    "start": "2272000",
    "end": "2413000"
  },
  {
    "text": "you have to verify that it's running you need the service entry in this service entry should look very familiar at the",
    "start": "2277770",
    "end": "2283590"
  },
  {
    "text": "exact same service entry is for option 3 and now comes the main configuration",
    "start": "2283590",
    "end": "2290040"
  },
  {
    "text": "overhead that comes with enabling the egress gateway so here we have to write",
    "start": "2290040",
    "end": "2295170"
  },
  {
    "text": "a gateway resource gateway resources are the resources which configure layer 3",
    "start": "2295170",
    "end": "2300510"
  },
  {
    "text": "and layer 4 for any gateway but that's egress or ingress so in this case we are gonna say selector is a steering gear so",
    "start": "2300510",
    "end": "2308250"
  },
  {
    "text": "gateway on port 80 you're doing protocol HTTP so if you see even if you'll put ad",
    "start": "2308250",
    "end": "2314700"
  },
  {
    "text": "here we are doing protocol HTTP because the sidecar proxy and the egress",
    "start": "2314700",
    "end": "2322350"
  },
  {
    "text": "gateways are going to talk over em TLS and then the egress gateway listener will do as a nice sniffing and the",
    "start": "2322350",
    "end": "2329280"
  },
  {
    "text": "option here for TLS is mutual and these are the certs that are available for it",
    "start": "2329280",
    "end": "2334410"
  },
  {
    "text": "and these certs are the sto virtual search so then you have a destination",
    "start": "2334410",
    "end": "2340380"
  },
  {
    "text": "rule and this destination rule tells that whenever you are talking to the east your address gateway you should",
    "start": "2340380",
    "end": "2346620"
  },
  {
    "text": "actually just use TLS HT of mutual and the sni should be or the header to look",
    "start": "2346620",
    "end": "2353400"
  },
  {
    "text": "at for the hosts HT people all right well with me a little bit more configuration here you have to next",
    "start": "2353400",
    "end": "2360300"
  },
  {
    "text": "configure a virtual service and this virtual service is for the host HTTP Ben but you will match different gateways",
    "start": "2360300",
    "end": "2367500"
  },
  {
    "text": "and accordingly take actions so if you are matching on the mesh gateway that is the side curve proxies your going to",
    "start": "2367500",
    "end": "2374790"
  },
  {
    "text": "route it to east your egress gateway service but if you are matching it on the Gateway proxy your going to send it",
    "start": "2374790",
    "end": "2382290"
  },
  {
    "text": "to HTTP bin and this is where you're gonna do a TLS upgrade or a TLS origination in the last piece of the",
    "start": "2382290",
    "end": "2388620"
  },
  {
    "text": "puzzle is you need to create a destination rule and the destination rule applies to the sto egress gateway",
    "start": "2388620",
    "end": "2395400"
  },
  {
    "text": "where it does TLS mode simple and then upgrades the connection as you can see",
    "start": "2395400",
    "end": "2400560"
  },
  {
    "text": "lots more configuration you have opportunities here to screw it up but if",
    "start": "2400560",
    "end": "2405600"
  },
  {
    "text": "you have some automation you might be able to get away with it and again only use it if you have those",
    "start": "2405600",
    "end": "2411000"
  },
  {
    "text": "stringent requirements so let me quickly summarize what this means so if you're trying to go for more security or more",
    "start": "2411000",
    "end": "2417540"
  },
  {
    "start": "2413000",
    "end": "2462000"
  },
  {
    "text": "visibility sadly more configuration always comes with more security and that's just how life works",
    "start": "2417540",
    "end": "2423450"
  },
  {
    "text": "I would say allow any is the option that you should not even consider if you want",
    "start": "2423450",
    "end": "2429119"
  },
  {
    "text": "security restricted access with pass-through is reasonable to start with and then you should eventually try to be",
    "start": "2429119",
    "end": "2436050"
  },
  {
    "text": "somewhere here whether it's restricted access with TLS ordination or egress",
    "start": "2436050",
    "end": "2441210"
  },
  {
    "text": "gateway with TLS origination depending on your needs the last thing is you want to make sure as a team or as an",
    "start": "2441210",
    "end": "2447990"
  },
  {
    "text": "organization that you don't have to stay at the Sun to reach reach your goals that means whichever option you are",
    "start": "2447990",
    "end": "2454320"
  },
  {
    "text": "going with you have some automation around it or some request to simplify",
    "start": "2454320",
    "end": "2459840"
  },
  {
    "text": "the life of your developers and the last thing which I really like to talk about Forrester is it is it was designed for",
    "start": "2459840",
    "end": "2467940"
  },
  {
    "start": "2462000",
    "end": "2535000"
  },
  {
    "text": "incremental adoption so in here you can start with any of these stops that we",
    "start": "2467940",
    "end": "2473400"
  },
  {
    "text": "have and still reach the goal you want so if you are just starting out with this year and you wanna have allow any",
    "start": "2473400",
    "end": "2479250"
  },
  {
    "text": "that's perfectly reasonable you can start capturing destination IPS from the",
    "start": "2479250",
    "end": "2485190"
  },
  {
    "text": "TCP telemetry then go ahead and you can create service entries for those",
    "start": "2485190",
    "end": "2490260"
  },
  {
    "text": "external services so you have to do a reverse lookup for DNS there but then you can add those service entries then",
    "start": "2490260",
    "end": "2497340"
  },
  {
    "text": "you can flip to registry only as you have service entries so now you have",
    "start": "2497340",
    "end": "2503070"
  },
  {
    "text": "only encrypted traffic going and you have blocked all the unauthorized traffic then you can update the",
    "start": "2503070",
    "end": "2509520"
  },
  {
    "text": "application we use HTTP and then eventually use TLS origination and once you use TLS ordination you have security",
    "start": "2509520",
    "end": "2517020"
  },
  {
    "text": "and visibility with reasonable amount of configuration I won't say striven it's a",
    "start": "2517020",
    "end": "2522240"
  },
  {
    "text": "lot zero configuration but the important thing is you can also start with any of these pit stops and still achieve where",
    "start": "2522240",
    "end": "2528270"
  },
  {
    "text": "you want to be so with that let's see I have 15 minutes left so Lee do you have",
    "start": "2528270",
    "end": "2534720"
  },
  {
    "text": "any questions this is a great this is on an awesome presentation Niraj",
    "start": "2534720",
    "end": "2539810"
  },
  {
    "start": "2535000",
    "end": "2588000"
  },
  {
    "text": "so yeah we do yeah we do look like you were about hip-deep in the amal there",
    "start": "2539810",
    "end": "2545300"
  },
  {
    "text": "for a while so bad you escaped oh good do so if you to all of our",
    "start": "2545300",
    "end": "2553970"
  },
  {
    "text": "attendees if you do have questions please do ask them put them into the Q&A",
    "start": "2553970",
    "end": "2559310"
  },
  {
    "text": "at the bottom of your screen we'll get to as many of those as we can and Niraj we do have a few questions are",
    "start": "2559310",
    "end": "2566900"
  },
  {
    "text": "coming in one of those is an attendee asks can you mix the TLS configuration",
    "start": "2566900",
    "end": "2574790"
  },
  {
    "text": "in any given cluster like enabling TLS origination and egress gateway and TLS",
    "start": "2574790",
    "end": "2583670"
  },
  {
    "text": "pass through or can you only select you one at a time absolutely when sto you can pick what",
    "start": "2583670",
    "end": "2591290"
  },
  {
    "text": "you want now again you want to minimize your pain and hurting here right the",
    "start": "2591290",
    "end": "2596780"
  },
  {
    "text": "more variety of options you have you need to make sure those fine-grained",
    "start": "2596780",
    "end": "2602060"
  },
  {
    "text": "configurations are correct what I would recommend if you really have this use case is making sure you have your",
    "start": "2602060",
    "end": "2609590"
  },
  {
    "text": "denying or the overall posture configured first so if you want to block",
    "start": "2609590",
    "end": "2614930"
  },
  {
    "text": "everything make sure everything is blogged and then incrementally add things to allow and then configure",
    "start": "2614930",
    "end": "2622060"
  },
  {
    "text": "origination or mutuality in this the second thing is used tools like steal",
    "start": "2622060",
    "end": "2628610"
  },
  {
    "text": "CTL auth and policy checks and analyze that gives you a way to see if your",
    "start": "2628610",
    "end": "2635210"
  },
  {
    "text": "configurations are in conflict with each other and the last thing is go to the source of truth look at your own word",
    "start": "2635210",
    "end": "2641510"
  },
  {
    "text": "configuration and that's why I had those snippets here that's gonna really tell you what's happening oh very good very",
    "start": "2641510",
    "end": "2648890"
  },
  {
    "text": "good okay next question was for the options you've outlined which of these",
    "start": "2648890",
    "end": "2655670"
  },
  {
    "text": "would give you the opportunity to limit service a to an external service but not",
    "start": "2655670",
    "end": "2662330"
  },
  {
    "text": "service be really good question so it feels like this is asked by someone who",
    "start": "2662330",
    "end": "2668150"
  },
  {
    "start": "2664000",
    "end": "2756000"
  },
  {
    "text": "has worked with Sto mr. which are kind of weird and we are",
    "start": "2668150",
    "end": "2674960"
  },
  {
    "text": "trying to fix in the community one is some of these api's have what we call a global effect so if you configure a",
    "start": "2674960",
    "end": "2682400"
  },
  {
    "text": "service entry for any host currently it applies to all the sidecar proxies",
    "start": "2682400",
    "end": "2687920"
  },
  {
    "text": "across all the namespaces but you have an option here which is called export -",
    "start": "2687920",
    "end": "2693500"
  },
  {
    "text": "what that means is you can limit the scope of the visibility of the service",
    "start": "2693500",
    "end": "2699440"
  },
  {
    "text": "entry to a particular namespace so if you are currently following namespace level isolation I would say you put",
    "start": "2699440",
    "end": "2706880"
  },
  {
    "text": "service a in namespace a service B name squares B create a service entry and say",
    "start": "2706880",
    "end": "2713600"
  },
  {
    "text": "export to of dot in namespace a and that will make sure all this only services in",
    "start": "2713600",
    "end": "2720260"
  },
  {
    "text": "namespace a can talk to the external service but no other services in any other namespaces can please reach out to",
    "start": "2720260",
    "end": "2726890"
  },
  {
    "text": "me if you're stuck with this I have heard quite a few people get configuration set up in this way it's a",
    "start": "2726890",
    "end": "2733850"
  },
  {
    "text": "little tricky and we are definitely working on to make it better the",
    "start": "2733850",
    "end": "2740450"
  },
  {
    "text": "question was you know how to configure egress gateway TLS origination with",
    "start": "2740450",
    "end": "2747530"
  },
  {
    "text": "self-signed cert mounted on the Gateway and have no need to mount those certs in",
    "start": "2747530",
    "end": "2754369"
  },
  {
    "text": "the sidecar proxy Wow people are really advanced here I like it maybe maybe",
    "start": "2754369",
    "end": "2761510"
  },
  {
    "start": "2756000",
    "end": "2923000"
  },
  {
    "text": "you're gonna get your wish so let me see",
    "start": "2761510",
    "end": "2768040"
  },
  {
    "text": "so the way I would do it is to use destination rules and again I hear",
    "start": "2768040",
    "end": "2776810"
  },
  {
    "text": "people when they are worried about using so much configuration and we'll make it simple so when you configure destination",
    "start": "2776810",
    "end": "2783290"
  },
  {
    "text": "rules you can specify for the sidecar",
    "start": "2783290",
    "end": "2788470"
  },
  {
    "text": "that you want to enforce that rule on similar to service entry you can have",
    "start": "2788470",
    "end": "2793490"
  },
  {
    "text": "destination rules be scoped by specifying the export - so what I would",
    "start": "2793490",
    "end": "2800540"
  },
  {
    "text": "do is have the destination rule defined in the same namespace you have egress gateway",
    "start": "2800540",
    "end": "2806790"
  },
  {
    "text": "scope it down configure the destination rule to use self-signed cert in that way",
    "start": "2806790",
    "end": "2813840"
  },
  {
    "text": "only the egress gateway will get those certificates I think we can make it even",
    "start": "2813840",
    "end": "2819660"
  },
  {
    "text": "better and again the api's are still evolving it's definitely doable by scoping it",
    "start": "2819660",
    "end": "2825420"
  },
  {
    "text": "down and you are right whoever asked this question you don't want all the side cards to get the certificate and",
    "start": "2825420",
    "end": "2831000"
  },
  {
    "text": "the way to achieve it is the scope it down and I was so hopeful that that was",
    "start": "2831000",
    "end": "2837300"
  },
  {
    "text": "a stumper good we're yeah okay so other",
    "start": "2837300",
    "end": "2843359"
  },
  {
    "text": "questions that come through one of those is yeah so one of those questions is about the ability to watch the seminar",
    "start": "2843359",
    "end": "2850109"
  },
  {
    "text": "again in the future and so yes seminars recorded the slides will be available",
    "start": "2850109",
    "end": "2857340"
  },
  {
    "text": "and so although the recording will have the link to that in chat very good",
    "start": "2857340",
    "end": "2863940"
  },
  {
    "text": "another one here is the question is you",
    "start": "2863940",
    "end": "2868950"
  },
  {
    "text": "know would we get the same security with with gr pcs yes you will because gr PC",
    "start": "2868950",
    "end": "2880320"
  },
  {
    "text": "is HTTP it's just stupid too and in Envoy we already have the capability to",
    "start": "2880320",
    "end": "2887040"
  },
  {
    "text": "understand gr PC so I mean you can definitely do with GRP CTLs origination",
    "start": "2887040",
    "end": "2893910"
  },
  {
    "text": "or TLS pass-through using these primitives very good and we do have a",
    "start": "2893910",
    "end": "2901230"
  },
  {
    "text": "little more time for some questions so here's another one how would you compare and contrast the options the you've",
    "start": "2901230",
    "end": "2907890"
  },
  {
    "text": "outlined to something like sto mesh expansion where you are adding an envoy",
    "start": "2907890",
    "end": "2914460"
  },
  {
    "text": "agent on an external service or these you know are the cases where mesh",
    "start": "2914460",
    "end": "2919590"
  },
  {
    "text": "expansion would be a better alternative so again it's an interesting question",
    "start": "2919590",
    "end": "2925500"
  },
  {
    "start": "2923000",
    "end": "3025000"
  },
  {
    "text": "but the aim of mass expansion is a bit different right so when you're trying to do mesh",
    "start": "2925500",
    "end": "2930960"
  },
  {
    "text": "expansion you're trying to bring your VMs into your mesh so that services",
    "start": "2930960",
    "end": "2936450"
  },
  {
    "text": "within the kubernetes cluster which are part of your service may can transparently talk to other services",
    "start": "2936450",
    "end": "2943530"
  },
  {
    "text": "which are outside the mesh now assuming you are bought into the mesh expansion",
    "start": "2943530",
    "end": "2952040"
  },
  {
    "text": "ideology or architecture then yes you have the right options so you have the",
    "start": "2952040",
    "end": "2958200"
  },
  {
    "text": "options to do mutual TLS so services within the kubernetes cluster should be",
    "start": "2958200",
    "end": "2963210"
  },
  {
    "text": "able to talk to services outside where the envoy agent is deployed as a node",
    "start": "2963210",
    "end": "2968820"
  },
  {
    "text": "agent with either mutual TLS or if it is to do TLS I would recommend at that point just use which will TLS because",
    "start": "2968820",
    "end": "2976050"
  },
  {
    "text": "that's the most secure way now the interesting thing what you're trying to",
    "start": "2976050",
    "end": "2982350"
  },
  {
    "text": "ask I'm guessing is if that VM or the application on the VM itself is trying",
    "start": "2982350",
    "end": "2989130"
  },
  {
    "text": "to reach out to egress how do you enforce it I think these api is and the",
    "start": "2989130",
    "end": "2996900"
  },
  {
    "text": "configuration options I gave should work but to be honest I haven't tried them so if you're really interested please reach",
    "start": "2996900",
    "end": "3003290"
  },
  {
    "text": "out to me you have my email and Twitter there and all the friendly help you nice",
    "start": "3003290",
    "end": "3009350"
  },
  {
    "text": "fantastic okay another one here is the other options here the first one allow",
    "start": "3009350",
    "end": "3017270"
  },
  {
    "text": "any it looks really unsecured you know what are the use cases for why you yeah",
    "start": "3017270",
    "end": "3025370"
  },
  {
    "start": "3025000",
    "end": "3124000"
  },
  {
    "text": "you're right and that's why if you're an",
    "start": "3025370",
    "end": "3030590"
  },
  {
    "text": "aspen master customer or user distribution we don't even have that we disabled it the reason we brought it or we have it",
    "start": "3030590",
    "end": "3038330"
  },
  {
    "text": "as missed your community is the organizations that aspire to use this",
    "start": "3038330",
    "end": "3043820"
  },
  {
    "text": "tea or reach zero trust they are in different phases of that option some",
    "start": "3043820",
    "end": "3049040"
  },
  {
    "text": "people are just moving to kubernetes when they just move to kubernetes if you start blocking external services for",
    "start": "3049040",
    "end": "3055340"
  },
  {
    "text": "them things break so we need to give them incremental adoption and yes it's",
    "start": "3055340",
    "end": "3060830"
  },
  {
    "text": "not secure but for many organizations I think security is a big concern but it",
    "start": "3060830",
    "end": "3066440"
  },
  {
    "text": "might might not be the burning concern they might have to make more progress towards getting more customers and doing",
    "start": "3066440",
    "end": "3073640"
  },
  {
    "text": "more agile getting motility so it's just provided as a way to eventually go to a more",
    "start": "3073640",
    "end": "3079070"
  },
  {
    "text": "secure posture make sense yeah for for",
    "start": "3079070",
    "end": "3085940"
  },
  {
    "text": "the developers out there I'm not sure that security is ever a burning concern you're right yeah it'll be a burning",
    "start": "3085940",
    "end": "3096740"
  },
  {
    "text": "concern at some point very good you have",
    "start": "3096740",
    "end": "3101870"
  },
  {
    "text": "been sufficiently peppered with question after question this is good we've got",
    "start": "3101870",
    "end": "3108650"
  },
  {
    "text": "another couple of comments coming through maybe maybe one one more here that the question is that you do you",
    "start": "3108650",
    "end": "3116300"
  },
  {
    "text": "need to have policy enforcement enabled in sto policy to switch to registry only",
    "start": "3116300",
    "end": "3124360"
  },
  {
    "start": "3124000",
    "end": "3247000"
  },
  {
    "text": "no that's a really good question I'm glad somebody asked because presentation",
    "start": "3124360",
    "end": "3129980"
  },
  {
    "text": "so the options that I configured and I showed you right now they are orthogonal",
    "start": "3129980",
    "end": "3135350"
  },
  {
    "text": "to askew policy so in HT of 1.4 we actually removed sto policy as a default",
    "start": "3135350",
    "end": "3142040"
  },
  {
    "text": "option so if your policy used to be a separate container in which to run as a",
    "start": "3142040",
    "end": "3147440"
  },
  {
    "text": "form of mixer well attributes is to go from side cars and then the policy is to be evaluated outside of the centralized",
    "start": "3147440",
    "end": "3154130"
  },
  {
    "text": "point of control going forward we are deprecating that and the policies will be enforced all within the sidecar",
    "start": "3154130",
    "end": "3162010"
  },
  {
    "text": "registry only option is a sidecar option it is purely a sidecar option so if you",
    "start": "3162010",
    "end": "3167810"
  },
  {
    "text": "configure registry only the policy record is not only involved similarly",
    "start": "3167810",
    "end": "3173810"
  },
  {
    "text": "when you are configuring the station rules and other options all those things apply directly to the site right very",
    "start": "3173810",
    "end": "3184610"
  },
  {
    "text": "good great well Niraj this is a great presentation lots of good questions and that's probably all the time that we",
    "start": "3184610",
    "end": "3192050"
  },
  {
    "text": "have questions today and we were that close to potentially stumping neeraja",
    "start": "3192050",
    "end": "3198410"
  },
  {
    "text": "just I want to let everyone on the call know that I'm slightly disappointed",
    "start": "3198410",
    "end": "3204310"
  },
  {
    "text": "today but there will be more chances I'm sure you you can catch both his Twitter and his",
    "start": "3204310",
    "end": "3210920"
  },
  {
    "text": "email here Niraj will you be at the upcoming q con here I might be I'm still",
    "start": "3210920",
    "end": "3217849"
  },
  {
    "text": "working on the logistics here I think a Spanish me there with our booth and please visit us at our booth and I think",
    "start": "3217849",
    "end": "3224930"
  },
  {
    "text": "we'll have someone from our team to understand any questions good good okay well thanks all for joining us today the",
    "start": "3224930",
    "end": "3232580"
  },
  {
    "text": "webinar recording and slides will be online later today and we'll look forward to seeing you at a future scenes",
    "start": "3232580",
    "end": "3238760"
  },
  {
    "text": "yeah webinar I'm have a great day thank you Niraj Thanks",
    "start": "3238760",
    "end": "3244960"
  }
]