[
  {
    "text": "I would like to talk a little bit about uh extending kubernetes with operator",
    "start": "3120",
    "end": "10120"
  },
  {
    "text": "pattern uh agenda of this presentation is as follows firstly I would like to",
    "start": "10120",
    "end": "16480"
  },
  {
    "text": "talk uh shortly about kubernetes itself uh and it's uh use cases and",
    "start": "16480",
    "end": "25439"
  },
  {
    "text": "basic functionalities and then I would like to talk a little bit more",
    "start": "25439",
    "end": "31200"
  },
  {
    "text": "about uh controllers in kuber Nies and then I will go strictly to the uh part",
    "start": "31200",
    "end": "39680"
  },
  {
    "text": "where we can extend KU behavior and its functionalities using uh such uh",
    "start": "39680",
    "end": "46239"
  },
  {
    "text": "Concepts like custom controllers custom resources and finally the operator",
    "start": "46239",
    "end": "52559"
  },
  {
    "text": "pattern and then I will show an example of a tool that allows us to uh create",
    "start": "52559",
    "end": "59359"
  },
  {
    "text": "operators uh faster and easier uh so what is Coes uh it's",
    "start": "59359",
    "end": "68720"
  },
  {
    "text": "a it's an orchestrator of containers uh in distributed environments so it allows",
    "start": "68720",
    "end": "75799"
  },
  {
    "text": "us to uh manage containers life cycle in automated",
    "start": "75799",
    "end": "81240"
  },
  {
    "text": "manner uh in on many many machines virtual or",
    "start": "81240",
    "end": "86400"
  },
  {
    "text": "physical uh so kuties cluster consists of of uh multiple nodes that is uh",
    "start": "86400",
    "end": "93759"
  },
  {
    "text": "machine spiritual or physical and a control plane that manages those nodes",
    "start": "93759",
    "end": "101439"
  },
  {
    "text": "and the control plane uh has multiple several uh",
    "start": "101439",
    "end": "106680"
  },
  {
    "text": "components and basically the the heart of it is the API server in the",
    "start": "106680",
    "end": "112600"
  },
  {
    "text": "middle uh which allows us to communicate with the control plane and all other",
    "start": "112600",
    "end": "118759"
  },
  {
    "text": "components also communicate using this uh this part uh we have also s CD which",
    "start": "118759",
    "end": "126079"
  },
  {
    "text": "is key value store for uh for storing uh the the current",
    "start": "126079",
    "end": "134840"
  },
  {
    "text": "cluster configuration and also other components but I won't discuss them very in detail",
    "start": "134840",
    "end": "143640"
  },
  {
    "text": "now uh yes so basically in this presentation I would like to uh",
    "start": "143640",
    "end": "150760"
  },
  {
    "text": "uh tell about extending kuber nities uh",
    "start": "150760",
    "end": "155959"
  },
  {
    "text": "because there are many functionalities that are built in the kuties but",
    "start": "155959",
    "end": "161720"
  },
  {
    "text": "sometimes it's not enough and we may want to customize them or extend or",
    "start": "161720",
    "end": "168120"
  },
  {
    "text": "automate some process uh yes so",
    "start": "168120",
    "end": "173920"
  },
  {
    "text": "basically um in the most basic scenario we manage our cluster using",
    "start": "173920",
    "end": "180360"
  },
  {
    "text": "command like to CU C or some other Tool uh by making request to the API",
    "start": "180360",
    "end": "189360"
  },
  {
    "text": "server uh and we manipulate uh objects uh defined in in",
    "start": "189360",
    "end": "196440"
  },
  {
    "text": "the uh in the cluster uh so we basically",
    "start": "196440",
    "end": "201560"
  },
  {
    "text": "create an object for example deployment uh or service uh by sending it uh its",
    "start": "201560",
    "end": "210319"
  },
  {
    "text": "specification to the API server and then the the API server stores it in the",
    "start": "210319",
    "end": "218760"
  },
  {
    "text": "edcd and later uh the API server sends events uh",
    "start": "218760",
    "end": "225000"
  },
  {
    "text": "to other control plan compon components uh that subscribe for events",
    "start": "225000",
    "end": "231560"
  },
  {
    "text": "connected with such resource and this is where uh everything happens because",
    "start": "231560",
    "end": "238040"
  },
  {
    "text": "trating resource does nothing uh would do nothing if there wasn't a controller",
    "start": "238040",
    "end": "243840"
  },
  {
    "text": "that would uh react for a change in this",
    "start": "243840",
    "end": "250239"
  },
  {
    "text": "resource uh",
    "start": "250239",
    "end": "253360"
  },
  {
    "text": "sorry so uh the kubernetes API is declarative",
    "start": "255320",
    "end": "262560"
  },
  {
    "text": "uh it means that we declare desired state of the cluster by manipulating",
    "start": "262560",
    "end": "268240"
  },
  {
    "text": "predefined objects or resources uh that are defined in the kubernetes uh so I think most of you",
    "start": "268240",
    "end": "275639"
  },
  {
    "text": "know for example pods or deployment or config map uh and each resource is associated",
    "start": "275639",
    "end": "283600"
  },
  {
    "text": "with a controller that uh executes logic that brings the current state of the",
    "start": "283600",
    "end": "289759"
  },
  {
    "text": "cluster closer closer to the desired state that we uh expressed or described",
    "start": "289759",
    "end": "297520"
  },
  {
    "text": "by creating or manipul in uh those",
    "start": "297520",
    "end": "303240"
  },
  {
    "text": "objects uh and this concept is uh very important in this",
    "start": "303240",
    "end": "308560"
  },
  {
    "text": "presentation uh and as I said it's maybe I didn't it's a loop control Loop uh",
    "start": "308560",
    "end": "317720"
  },
  {
    "text": "this is the basic concept that the controller is uh based on uh and",
    "start": "317720",
    "end": "324000"
  },
  {
    "text": "basically this controller observes the observes the state of the cluster uh and the desired State",
    "start": "324000",
    "end": "331520"
  },
  {
    "text": "analyzes it and acts if it's needed to uh to take some action in order to",
    "start": "331520",
    "end": "338440"
  },
  {
    "text": "bring current cluster state to the desired",
    "start": "338440",
    "end": "343759"
  },
  {
    "text": "one yes I think that's all for this slide okay uh so going",
    "start": "344759",
    "end": "351479"
  },
  {
    "text": "further uh there Cube C or cube I know those command line tools are not uh the",
    "start": "351479",
    "end": "358759"
  },
  {
    "text": "only way we can communicate with the uh API server we can also write our own",
    "start": "358759",
    "end": "365680"
  },
  {
    "text": "application with rest Cent and bance in it uh and we have multiple libraries",
    "start": "365680",
    "end": "372120"
  },
  {
    "text": "that support such communication uh with the kuus API",
    "start": "372120",
    "end": "378599"
  },
  {
    "text": "server for example client go uh and I would like now to talk a",
    "start": "378599",
    "end": "387360"
  },
  {
    "text": "little bit more in detail about a controller because it's a basic",
    "start": "387360",
    "end": "393520"
  },
  {
    "text": "concept that later for example when creating an operator would be uh a little bit important to uh at",
    "start": "393520",
    "end": "402199"
  },
  {
    "text": "least imagine or know those uh basic uh",
    "start": "402199",
    "end": "407840"
  },
  {
    "text": "parts of a controller controller sorry uh",
    "start": "407840",
    "end": "413479"
  },
  {
    "text": "so basically a controller consists of uh few a few Parts one of them is an",
    "start": "413479",
    "end": "422280"
  },
  {
    "text": "Informer uh that communicates with the API server uh subscribes for events that",
    "start": "422280",
    "end": "428680"
  },
  {
    "text": "are connected with chosen by us resource and uh it stores uh a copy of",
    "start": "428680",
    "end": "436960"
  },
  {
    "text": "current cluster State and receives events when something changes in this",
    "start": "436960",
    "end": "443160"
  },
  {
    "text": "resource uh so when the event arrives uh we",
    "start": "443160",
    "end": "450280"
  },
  {
    "text": "the we call a function that is dedicated to uh this event and we process it uh in",
    "start": "450280",
    "end": "458800"
  },
  {
    "text": "order to uh bring the cluster state to the",
    "start": "458800",
    "end": "464879"
  },
  {
    "text": "desired one and this is the place where is uh placed the logic that uh does all",
    "start": "464879",
    "end": "473080"
  },
  {
    "text": "this trick uh and this is uh foron for all the controllers uh of building and the",
    "start": "473080",
    "end": "481840"
  },
  {
    "text": "custom ones that we can uh create on our own so as I said uh we can also create",
    "start": "481840",
    "end": "489479"
  },
  {
    "text": "our own controllers uh and this is the first place where we can uh extend kuus",
    "start": "489479",
    "end": "498520"
  },
  {
    "text": "Behavior by writing our own controller for any chos and",
    "start": "498520",
    "end": "503599"
  },
  {
    "text": "resource uh it can be both builtin or custom one uh which I will talk about in",
    "start": "503599",
    "end": "510919"
  },
  {
    "text": "a minute uh and I also wanted to mention that an event is the information what",
    "start": "510919",
    "end": "518800"
  },
  {
    "text": "action has been perform performed and the resource key uh this instance of the",
    "start": "518800",
    "end": "524800"
  },
  {
    "text": "resource uh usually it's name space where this resource is created and its",
    "start": "524800",
    "end": "530920"
  },
  {
    "text": "name uh so as you can see we there is a place that we can uh put our logic to be executed uh",
    "start": "530920",
    "end": "540519"
  },
  {
    "text": "when a controller is created uh sorry when the resource is",
    "start": "540519",
    "end": "545680"
  },
  {
    "text": "created uh and now I would like to visualize this I two bits uh with a very",
    "start": "545680",
    "end": "553560"
  },
  {
    "text": "Advanced animation reped by me uh we have a few let's say actors or parts",
    "start": "553560",
    "end": "562519"
  },
  {
    "text": "components we have a manager of the cluster that's let's say uses keep",
    "start": "562519",
    "end": "567560"
  },
  {
    "text": "C uh we have API server uh we have CD with the actual",
    "start": "567560",
    "end": "575120"
  },
  {
    "text": "actual uh cluster States and some worker notes with C that is an agent that uh",
    "start": "575120",
    "end": "583800"
  },
  {
    "text": "that manages this exact not and of course you have uh a PO",
    "start": "583800",
    "end": "590399"
  },
  {
    "text": "controller uh and I mean by saying po controller I mean uh our custom po",
    "start": "590399",
    "end": "598160"
  },
  {
    "text": "controller that's sub describes for events connected with uh pod",
    "start": "598160",
    "end": "604800"
  },
  {
    "text": "resource so let's say the manager of the cluster creates uh a p object and the API server",
    "start": "604800",
    "end": "613959"
  },
  {
    "text": "sends events that the PO has been created to all the",
    "start": "613959",
    "end": "619440"
  },
  {
    "text": "subscribers interested uh in such change and one of those components is our",
    "start": "619440",
    "end": "626760"
  },
  {
    "text": "controller uh and as all other components or controller",
    "start": "626760",
    "end": "633360"
  },
  {
    "text": "analyzes the details of the Pod object uh and decides what he should do",
    "start": "633360",
    "end": "640040"
  },
  {
    "text": "if there is an action to be taken or not and if he uh if he decides that he",
    "start": "640040",
    "end": "649200"
  },
  {
    "text": "should do something he does that usually by by communicating with the API",
    "start": "649200",
    "end": "657399"
  },
  {
    "text": "server and meanwhile other components responsible for uh managing resource in the basic",
    "start": "657399",
    "end": "666920"
  },
  {
    "text": "scenario also take their actions so he performs some action and in my let's say",
    "start": "666920",
    "end": "673560"
  },
  {
    "text": "the has been uh cre scheduled on the uh worker node and he performed some",
    "start": "673560",
    "end": "681360"
  },
  {
    "text": "actions some change uh to this SP let's say it doesn't have to be an action that",
    "start": "681360",
    "end": "686800"
  },
  {
    "text": "changes the spot but let's say in the scenario here he also changed something in that",
    "start": "686800",
    "end": "693000"
  },
  {
    "text": "p uh and later on he receives another EV that something",
    "start": "693000",
    "end": "698360"
  },
  {
    "text": "also has changed uh and a function is",
    "start": "698360",
    "end": "703760"
  },
  {
    "text": "called and he also decides if he wants to do something and if he uh decides",
    "start": "703760",
    "end": "711320"
  },
  {
    "text": "that everything is at as it should be according to his logic uh he he just does nothing and",
    "start": "711320",
    "end": "719839"
  },
  {
    "text": "here I would like to uh make a short uh demo of a really simple",
    "start": "719839",
    "end": "728480"
  },
  {
    "text": "custom uh controller think uh if someone could tell me if you",
    "start": "728480",
    "end": "736079"
  },
  {
    "text": "can see my screen I would be screen I would be yes see okay thank",
    "start": "736079",
    "end": "743480"
  },
  {
    "text": "you uh so I wrote a really simple oh no",
    "start": "743480",
    "end": "748720"
  },
  {
    "text": "first first things first uh I created a",
    "start": "748720",
    "end": "754320"
  },
  {
    "text": "cluster uh using kinds so it's a tool that allows us to create uh simple",
    "start": "754320",
    "end": "762000"
  },
  {
    "text": "clusters uh using Docker so we have a very",
    "start": "762000",
    "end": "768800"
  },
  {
    "text": "simple uh very simple cluster that consists of one not that is uh that has",
    "start": "768800",
    "end": "777399"
  },
  {
    "text": "uh control plane components on it and one uh worker",
    "start": "777399",
    "end": "783920"
  },
  {
    "text": "note and what uh we going to do is uh",
    "start": "783920",
    "end": "789880"
  },
  {
    "text": "create a controller that will um subscribe for po events and uh",
    "start": "789880",
    "end": "798720"
  },
  {
    "text": "it will look for uh image that is used in the containers that's uh that are",
    "start": "798720",
    "end": "805440"
  },
  {
    "text": "inside this spot and it and if one one of the images let's say is ngx it will",
    "start": "805440",
    "end": "812120"
  },
  {
    "text": "set the label to uh chosen label by us it's really",
    "start": "812120",
    "end": "818880"
  },
  {
    "text": "simple but I just want to like visualize how it uh more or less",
    "start": "818880",
    "end": "825440"
  },
  {
    "text": "works also I won't like really dive deeply into the",
    "start": "825440",
    "end": "831120"
  },
  {
    "text": "Cod uh I will just I just like I would like to just outline uh some things that",
    "start": "831120",
    "end": "837240"
  },
  {
    "text": "I mentioned before",
    "start": "837240",
    "end": "840800"
  },
  {
    "text": "so retrieve some basic config in order to be able to uh communicate with the",
    "start": "843279",
    "end": "849560"
  },
  {
    "text": "API server and we create our controller controller and start",
    "start": "849560",
    "end": "854920"
  },
  {
    "text": "it uh so let's go to the controller",
    "start": "854920",
    "end": "860160"
  },
  {
    "text": "itself uh yes so basically we have the informal that I uh",
    "start": "860160",
    "end": "867079"
  },
  {
    "text": "that I mentioned before or in the the controller pattern we created using",
    "start": "867079",
    "end": "874199"
  },
  {
    "text": "client go Library uh and here we St that we want",
    "start": "874199",
    "end": "879680"
  },
  {
    "text": "the Informer to be uh associated with pods uh pods",
    "start": "879680",
    "end": "886680"
  },
  {
    "text": "resource later on WE Define functions that are called uh",
    "start": "886680",
    "end": "892360"
  },
  {
    "text": "when uh create or update events arrives um",
    "start": "892360",
    "end": "900040"
  },
  {
    "text": "also important thing about writing controllers and operators is",
    "start": "900040",
    "end": "906000"
  },
  {
    "text": "that uh we need to be aware of uh this",
    "start": "906000",
    "end": "911279"
  },
  {
    "text": "that uh it takes some we may miss some events in some calls so sometimes we may have",
    "start": "911279",
    "end": "920720"
  },
  {
    "text": "uh not the newest version of the resource and uh it's all based on the",
    "start": "920720",
    "end": "928199"
  },
  {
    "text": "eventual con so our logic must assume that and uh be",
    "start": "928199",
    "end": "935120"
  },
  {
    "text": "aware that it may take some cuse of it uh in order to bring the current state",
    "start": "935120",
    "end": "942319"
  },
  {
    "text": "to the to the desired one uh and and so yeah so the our logic",
    "start": "942319",
    "end": "951279"
  },
  {
    "text": "must be ID poent so every call uh if it's SP multiple times uh it",
    "start": "951279",
    "end": "958519"
  },
  {
    "text": "will find PR uh the desired",
    "start": "958519",
    "end": "963720"
  },
  {
    "text": "effect so here we synchronize with the API server so we receive the copy of uh",
    "start": "963720",
    "end": "970759"
  },
  {
    "text": "current uh resources that exist and later we have the logic that",
    "start": "970759",
    "end": "978040"
  },
  {
    "text": "processes the uh the event and uh we check",
    "start": "978040",
    "end": "983720"
  },
  {
    "text": "the uh images of the Pod um and we set label if it's",
    "start": "983720",
    "end": "991600"
  },
  {
    "text": "needed uh yes so we don't to read that I just want to show that uh this is the",
    "start": "991600",
    "end": "997319"
  },
  {
    "text": "idea and what is going to happen uh so we may turn on this",
    "start": "997319",
    "end": "1004240"
  },
  {
    "text": "controller uh so it will connect with the API",
    "start": "1004240",
    "end": "1010199"
  },
  {
    "text": "server and now now uh I will create create a deployment",
    "start": "1010199",
    "end": "1016600"
  },
  {
    "text": "that could create one po with uh",
    "start": "1016600",
    "end": "1021720"
  },
  {
    "text": "engx uh",
    "start": "1021720",
    "end": "1025000"
  },
  {
    "text": "image so it's being created",
    "start": "1028600",
    "end": "1034918"
  },
  {
    "text": "okay uh so I turn out the controller in in",
    "start": "1034919",
    "end": "1040600"
  },
  {
    "text": "order to uh have clear locks because some other things may later arrive and",
    "start": "1040600",
    "end": "1046199"
  },
  {
    "text": "it will be a little bit messy but as we can see uh a create function",
    "start": "1046199",
    "end": "1052840"
  },
  {
    "text": "was called when I created the the Pod uh and we detected the engine X",
    "start": "1052840",
    "end": "1060640"
  },
  {
    "text": "image set a label uh and later we received also an event and",
    "start": "1060640",
    "end": "1070120"
  },
  {
    "text": "we meanwhile wanted to update uh theot object uh so we received an information",
    "start": "1070120",
    "end": "1078039"
  },
  {
    "text": "that's uh uh it's not the latest resource version and we needed to wait",
    "start": "1078039",
    "end": "1083640"
  },
  {
    "text": "uh in order to synchronize with the API with the version that is the newest uh",
    "start": "1083640",
    "end": "1090080"
  },
  {
    "text": "in the LCD and later we also try again and",
    "start": "1090080",
    "end": "1096240"
  },
  {
    "text": "finally uh we set the label uh",
    "start": "1096240",
    "end": "1103120"
  },
  {
    "text": "and and the and our logic was performed finally",
    "start": "1103120",
    "end": "1108960"
  },
  {
    "text": "we wanted at least I hope",
    "start": "1108960",
    "end": "1115240"
  },
  {
    "text": "uh like to show you here yes uh and this is the uh description of the P of the",
    "start": "1115240",
    "end": "1123480"
  },
  {
    "text": "API server and as we can see in the uh labels we set our label that uh this SP",
    "start": "1123480",
    "end": "1133440"
  },
  {
    "text": "contains the container with uh engine next image",
    "start": "1133440",
    "end": "1139880"
  },
  {
    "text": "okay uh and that's all that I wanted to show with the custom",
    "start": "1139880",
    "end": "1145240"
  },
  {
    "text": "controller so I will go back to the presentation I hope you can see know uh",
    "start": "1145240",
    "end": "1152240"
  },
  {
    "text": "the presentation yep thank you uh yes so",
    "start": "1152240",
    "end": "1158360"
  },
  {
    "text": "this is the one way we can uh extend uh",
    "start": "1158360",
    "end": "1163880"
  },
  {
    "text": "our behavior of the cluster uh but but this uh usage of",
    "start": "1163880",
    "end": "1171880"
  },
  {
    "text": "beauty and resources gives us not all the flexibility we would want or maybe",
    "start": "1171880",
    "end": "1180440"
  },
  {
    "text": "it's not very uh useful in some cases so we may want to Define our own",
    "start": "1180440",
    "end": "1189320"
  },
  {
    "text": "object uh in order to process it the way we want it uh and to have full",
    "start": "1189320",
    "end": "1198039"
  },
  {
    "text": "flexibility uh in in how this uh object looks like",
    "start": "1198039",
    "end": "1203640"
  },
  {
    "text": "what it describes and uh the logic that is connected with uh and in order to Define our own",
    "start": "1203640",
    "end": "1212120"
  },
  {
    "text": "uh type of resource we need to create its definition in the API server so the",
    "start": "1212120",
    "end": "1218760"
  },
  {
    "text": "server will be able to process it and manage and recognize how it looks and",
    "start": "1218760",
    "end": "1225640"
  },
  {
    "text": "where it's sted Etc uh uh so a custom resour definition",
    "start": "1225640",
    "end": "1231720"
  },
  {
    "text": "is quite long and sometimes complicated uh but they wanted to",
    "start": "1231720",
    "end": "1237919"
  },
  {
    "text": "outline uh the part uh with specification so it's the place where we",
    "start": "1237919",
    "end": "1244480"
  },
  {
    "text": "can uh write how uh the specification",
    "start": "1244480",
    "end": "1250559"
  },
  {
    "text": "section of this resource will look like and on the left I showed uh an an",
    "start": "1250559",
    "end": "1257840"
  },
  {
    "text": "instance of this custom resource and as you can see uh in the",
    "start": "1257840",
    "end": "1263600"
  },
  {
    "text": "definition we have properties and some Fields uh we can also put here a list of",
    "start": "1263600",
    "end": "1269559"
  },
  {
    "text": "objects so it's may be uh much much more complicated and uh",
    "start": "1269559",
    "end": "1276799"
  },
  {
    "text": "we can do many things here uh as you can see we have uh some property image and",
    "start": "1276799",
    "end": "1284880"
  },
  {
    "text": "property part and again it's uh appears here in the custom",
    "start": "1284880",
    "end": "1291720"
  },
  {
    "text": "resource and there is one more section that is quite important uh and it's a status section",
    "start": "1291720",
    "end": "1301400"
  },
  {
    "text": "uh and it's not for the manager to Define this this this Fields but uh",
    "start": "1301400",
    "end": "1309360"
  },
  {
    "text": "for uh the controller to set set some feedback about the about this custom",
    "start": "1309360",
    "end": "1317600"
  },
  {
    "text": "resource and uh the execution of logic so we can uh write uh Define what's going on",
    "start": "1317600",
    "end": "1326559"
  },
  {
    "text": "if there is some error or some or the success uh of uh",
    "start": "1326559",
    "end": "1334480"
  },
  {
    "text": "of processing this uh resource has",
    "start": "1334480",
    "end": "1339760"
  },
  {
    "text": "happened um yes so this gives us much more flexibility as I",
    "start": "1339760",
    "end": "1345559"
  },
  {
    "text": "said uh and when we combine this custom",
    "start": "1345559",
    "end": "1350840"
  },
  {
    "text": "resource with custom controller that uh operates based that",
    "start": "1350840",
    "end": "1356559"
  },
  {
    "text": "this logic is based on the custom resource uh",
    "start": "1356559",
    "end": "1362799"
  },
  {
    "text": "specification uh we can do multiple really any we can Implement",
    "start": "1362799",
    "end": "1369000"
  },
  {
    "text": "nearly any behavior of uh of our cluster and combining uh this resource ass",
    "start": "1369000",
    "end": "1377039"
  },
  {
    "text": "controllers is called operator pattern uh so maybe you can imagine now",
    "start": "1377039",
    "end": "1385039"
  },
  {
    "text": "or not uh that this really gives many possibilities of what we can",
    "start": "1385039",
    "end": "1392600"
  },
  {
    "text": "do uh as we can Define any uh any",
    "start": "1392600",
    "end": "1397919"
  },
  {
    "text": "objects I mean the the structure can be like nearly uh",
    "start": "1397919",
    "end": "1403679"
  },
  {
    "text": "anything and also the logic that interprets this uh structure and",
    "start": "1403679",
    "end": "1410799"
  },
  {
    "text": "specification uh can be also is up to us how it looks",
    "start": "1410799",
    "end": "1416240"
  },
  {
    "text": "like uh yeah and creating",
    "start": "1416240",
    "end": "1421480"
  },
  {
    "text": "operators in some parts might be very uh repetitive",
    "start": "1421480",
    "end": "1428520"
  },
  {
    "text": "and you can there's lots of boiler plate codes so uh there are tools that allow",
    "start": "1428520",
    "end": "1435600"
  },
  {
    "text": "us uh to write operators f cler and uh",
    "start": "1435600",
    "end": "1440880"
  },
  {
    "text": "standardize also in some way uh creating them and one of those tools is operator",
    "start": "1440880",
    "end": "1447720"
  },
  {
    "text": "SDK which is a part of uh operator framework that allows us",
    "start": "1447720",
    "end": "1454960"
  },
  {
    "text": "to write operators but also uh test them deploy and version",
    "start": "1454960",
    "end": "1463080"
  },
  {
    "text": "Etc uh and I would like to focus now on the operator SDK",
    "start": "1463080",
    "end": "1470360"
  },
  {
    "text": "with a short example",
    "start": "1470559",
    "end": "1475960"
  },
  {
    "text": "uh okay I will share my",
    "start": "1476279",
    "end": "1480840"
  },
  {
    "text": "screen uh close",
    "start": "1488399",
    "end": "1494679"
  },
  {
    "text": "this yes uh and this to generates plenty of code for",
    "start": "1495760",
    "end": "1503279"
  },
  {
    "text": "us uh all those all this code was",
    "start": "1503279",
    "end": "1509799"
  },
  {
    "text": "generated by the to and there is bunch of files that uh",
    "start": "1509799",
    "end": "1516480"
  },
  {
    "text": "we need to edit uh and it's",
    "start": "1516480",
    "end": "1521760"
  },
  {
    "text": "very very comfortable to uh to use because uh for example we",
    "start": "1521760",
    "end": "1528320"
  },
  {
    "text": "we have a file that defines the uh the structure of our custom",
    "start": "1528320",
    "end": "1536159"
  },
  {
    "text": "resource um and it's a simple uh goong",
    "start": "1536159",
    "end": "1542120"
  },
  {
    "text": "struct uh and later as we Define the struct we call uh we call function from",
    "start": "1542120",
    "end": "1549480"
  },
  {
    "text": "make file and it updates all other uh files that are connected with the",
    "start": "1549480",
    "end": "1556360"
  },
  {
    "text": "structure as for example it generates for us uh the custom resource uh",
    "start": "1556360",
    "end": "1563919"
  },
  {
    "text": "definition so it was generated automatically I changed in this file uh",
    "start": "1563919",
    "end": "1572279"
  },
  {
    "text": "the name and the fields Etc uh and then I regenerated uh the project recompiled",
    "start": "1572279",
    "end": "1580720"
  },
  {
    "text": "and uh it created this uh",
    "start": "1580720",
    "end": "1585840"
  },
  {
    "text": "definition uh for me we have also plenty of other things like",
    "start": "1585840",
    "end": "1592399"
  },
  {
    "text": "uh roles for our operator or uh other configurations but I want I",
    "start": "1592399",
    "end": "1600279"
  },
  {
    "text": "don't want to go in details now uh but the most important",
    "start": "1600279",
    "end": "1605520"
  },
  {
    "text": "thing uh which we also have to implement is the reconcile",
    "start": "1605520",
    "end": "1612039"
  },
  {
    "text": "function uh in comparison to the custom controller in go like this basic",
    "start": "1612039",
    "end": "1620520"
  },
  {
    "text": "pattern uh there we had three functions like for every type of event create",
    "start": "1620520",
    "end": "1627840"
  },
  {
    "text": "update or delete uh and now it's wrapped uh into",
    "start": "1627840",
    "end": "1633720"
  },
  {
    "text": "Recon function function that is called anytime uh our custom resource",
    "start": "1633720",
    "end": "1644000"
  },
  {
    "text": "changes yes and in this uh in this example I would like to present also",
    "start": "1644320",
    "end": "1651520"
  },
  {
    "text": "something very basic uh I would like to create a custom",
    "start": "1651520",
    "end": "1657760"
  },
  {
    "text": "resource that will or no sorry the operator that will uh create uh",
    "start": "1657760",
    "end": "1665360"
  },
  {
    "text": "deployment with chosen with a port that uses chosen by us",
    "start": "1665360",
    "end": "1672080"
  },
  {
    "text": "image uh and a server that listens on chosen port byas",
    "start": "1672080",
    "end": "1679120"
  },
  {
    "text": "and uh and connect this this deployment with with the",
    "start": "1679120",
    "end": "1687080"
  },
  {
    "text": "service uh yes so as I said I defined uh a",
    "start": "1687360",
    "end": "1694960"
  },
  {
    "text": "specification uh section for this resource and it contains the image that",
    "start": "1694960",
    "end": "1700960"
  },
  {
    "text": "we want to use uh in our report and the part number that want we want to use in",
    "start": "1700960",
    "end": "1707960"
  },
  {
    "text": "the the service and in the status section I defined setup completion field uh just",
    "start": "1707960",
    "end": "1715760"
  },
  {
    "text": "in order to provide some feedback if the uh if all actions that were to be",
    "start": "1715760",
    "end": "1724120"
  },
  {
    "text": "performed uh with this resource were performed and they",
    "start": "1724120",
    "end": "1729399"
  },
  {
    "text": "finished uh so we need to implement this requency function that is called any",
    "start": "1729399",
    "end": "1736880"
  },
  {
    "text": "time we receive the event uh and the idea is quite simple we",
    "start": "1736880",
    "end": "1746600"
  },
  {
    "text": "receive the events analyze the object and then uh go",
    "start": "1746600",
    "end": "1753240"
  },
  {
    "text": "through next uh steps like uh creating deployment if it's needed if it doesn't",
    "start": "1753240",
    "end": "1759640"
  },
  {
    "text": "exist and creating service is it doesn't exist and later on uh we just",
    "start": "1759640",
    "end": "1768559"
  },
  {
    "text": "said that it's all okay and set the uh success",
    "start": "1768559",
    "end": "1775120"
  },
  {
    "text": "status so and I would like to show uh how it looks like in",
    "start": "1777679",
    "end": "1787039"
  },
  {
    "text": "practice uh we have I I already deployed",
    "start": "1787039",
    "end": "1792679"
  },
  {
    "text": "uh this operator uh in in nam space Code test",
    "start": "1792679",
    "end": "1800000"
  },
  {
    "text": "system uh and I prepared our custom resource that will create uh a",
    "start": "1800000",
    "end": "1808559"
  },
  {
    "text": "deployment with engine next image and create a service for it uh that list on",
    "start": "1808559",
    "end": "1815240"
  },
  {
    "text": "part 1600 I would like to show also the locks",
    "start": "1815240",
    "end": "1823120"
  },
  {
    "text": "of the controller that will a little bit uh so",
    "start": "1823120",
    "end": "1830799"
  },
  {
    "text": "how uh how it actually works um also we can uh",
    "start": "1830799",
    "end": "1838720"
  },
  {
    "text": "subscribe uh for events connected with the uh resource that we created so as we",
    "start": "1838720",
    "end": "1845120"
  },
  {
    "text": "create the deployment we can also uh receive events when this uh",
    "start": "1845120",
    "end": "1851960"
  },
  {
    "text": "deployment uh changes it's done uh using uh",
    "start": "1851960",
    "end": "1859159"
  },
  {
    "text": "using references and also we can configure this in uh in",
    "start": "1859159",
    "end": "1868278"
  },
  {
    "text": "the in the configuration of of the of the operator",
    "start": "1868480",
    "end": "1874600"
  },
  {
    "text": "uh okay",
    "start": "1874600",
    "end": "1879639"
  },
  {
    "text": "so I'm going to load the uh",
    "start": "1879799",
    "end": "1885320"
  },
  {
    "text": "looks okay so here is our operator that started and now I will create",
    "start": "1885320",
    "end": "1893080"
  },
  {
    "text": "this uh",
    "start": "1893080",
    "end": "1896638"
  },
  {
    "text": "resource we created it and yes so here starts the first uh",
    "start": "1899720",
    "end": "1909639"
  },
  {
    "text": "here arrives the first event and the Recon function has been called uh as we can see the deployment",
    "start": "1909639",
    "end": "1918519"
  },
  {
    "text": "does that we that we want for the engine does not",
    "start": "1918519",
    "end": "1923960"
  },
  {
    "text": "exist so we create one uh and and the",
    "start": "1924559",
    "end": "1929720"
  },
  {
    "text": "the reconcile uh code the deployment has been created so",
    "start": "1929720",
    "end": "1936240"
  },
  {
    "text": "we again uh again we receive the",
    "start": "1936240",
    "end": "1943080"
  },
  {
    "text": "event and go further to the and we see the deployment already exists",
    "start": "1943080",
    "end": "1948440"
  },
  {
    "text": "so we go to the part of the service we create the service again we receive an",
    "start": "1948440",
    "end": "1954320"
  },
  {
    "text": "event and as we can see in the simple scenario they both exist so we set the",
    "start": "1954320",
    "end": "1961360"
  },
  {
    "text": "status to success and later we also receive events because we subscribed for",
    "start": "1961360",
    "end": "1966880"
  },
  {
    "text": "uh the events connected with uh our custom",
    "start": "1966880",
    "end": "1973120"
  },
  {
    "text": "resource uh and here it actually does nothing but it might be used ful uh in",
    "start": "1973120",
    "end": "1979679"
  },
  {
    "text": "more complex uh scenarios where we for example want to uh observe the state of those uh",
    "start": "1979679",
    "end": "1988320"
  },
  {
    "text": "connected resources if for example uh creating uh creation of the",
    "start": "1988320",
    "end": "1994639"
  },
  {
    "text": "PO in the deployment has succeeded or not uh as there can be",
    "start": "1994639",
    "end": "2001000"
  },
  {
    "text": "many many multiple situations that it does not happen uh",
    "start": "2001000",
    "end": "2009080"
  },
  {
    "text": "properly and I would like to show it uh",
    "start": "2009080",
    "end": "2016080"
  },
  {
    "text": "those yes so that it was created",
    "start": "2016080",
    "end": "2022559"
  },
  {
    "text": "uh we can see here is our deployment",
    "start": "2022559",
    "end": "2029799"
  },
  {
    "text": "uh and here is our uh po that is uh",
    "start": "2034519",
    "end": "2039559"
  },
  {
    "text": "connected with it and we can also check",
    "start": "2039559",
    "end": "2045120"
  },
  {
    "text": "the",
    "start": "2045120",
    "end": "2048120"
  },
  {
    "text": "uh the services and as you can see we have our service that listens on Deport",
    "start": "2050560",
    "end": "2059560"
  },
  {
    "text": "1600 uh yes and then again uh it is",
    "start": "2059639",
    "end": "2065000"
  },
  {
    "text": "important in uh implementing this logic that uh this function needs to assume",
    "start": "2065000",
    "end": "2073638"
  },
  {
    "text": "that uh multiple thing things things can happen uh it can be called at the",
    "start": "2073639",
    "end": "2079960"
  },
  {
    "text": "beginning of uh of the process that we Define in the middle in the end uh there",
    "start": "2079960",
    "end": "2087398"
  },
  {
    "text": "might be some uh errors and other things may happen uh so we have to keep in mind",
    "start": "2087399",
    "end": "2095679"
  },
  {
    "text": "that uh yes and this will be maybe not",
    "start": "2095679",
    "end": "2101560"
  },
  {
    "text": "not very easy to read but uh I just want to show that uh we can Define in codes",
    "start": "2101560",
    "end": "2109680"
  },
  {
    "text": "uh multiple uh things like we can operate on all those objects be uh creating y",
    "start": "2109680",
    "end": "2119079"
  },
  {
    "text": "files uh when using Cube CTL we can Define this uh or do even more things uh",
    "start": "2119079",
    "end": "2126200"
  },
  {
    "text": "in code so we can really uh do do nearly anything that's",
    "start": "2126200",
    "end": "2134680"
  },
  {
    "text": "we can imagine uh and this is not Al the only",
    "start": "2134680",
    "end": "2143680"
  },
  {
    "text": "uh potential usage uh for example we can make in this reconcile function some",
    "start": "2143680",
    "end": "2149880"
  },
  {
    "text": "other call to some external service or basically anything we we want to",
    "start": "2149880",
    "end": "2155440"
  },
  {
    "text": "do uh also we should uh whe we should uh follow some best practices when doing",
    "start": "2155440",
    "end": "2164079"
  },
  {
    "text": "this and I think that's actually",
    "start": "2164079",
    "end": "2169119"
  },
  {
    "text": "everything I wanted to say today uh I hope that uh I a little bit",
    "start": "2169119",
    "end": "2178560"
  },
  {
    "text": "uh now you know a little bit how we can uh Implement controllers and operators",
    "start": "2178560",
    "end": "2184280"
  },
  {
    "text": "in order to customize the cluster Behavior uh and if you have any questions feel",
    "start": "2184280",
    "end": "2191680"
  },
  {
    "text": "free to ask thank you",
    "start": "2191680",
    "end": "2197119"
  }
]