[
  {
    "start": "0",
    "end": "85000"
  },
  {
    "text": "hi this session is presented by the kubernetes vmware user group this group is about running all forms of",
    "start": "80",
    "end": "6480"
  },
  {
    "text": "kubernetes on the vmware infrastructure platforms from a user perspective",
    "start": "6480",
    "end": "11920"
  },
  {
    "text": "i'm steve wong co-chair of the user group i work on kubernetes and a few other open source projects",
    "start": "11920",
    "end": "18400"
  },
  {
    "text": "as an employee of vmware today i'm joined by miles gray the other co-chair",
    "start": "18400",
    "end": "26160"
  },
  {
    "text": "miles is senior technical marketing architect in the storage and availability business unit at vmware",
    "start": "26560",
    "end": "34559"
  },
  {
    "text": "we'll give contact information and a link to the deck at the end here's the agenda miles is going to",
    "start": "37520",
    "end": "44079"
  },
  {
    "text": "start with a really quick summary of what the cloud provider and storage provider are",
    "start": "44079",
    "end": "50000"
  },
  {
    "text": "we'll move on to address some recent changes and plan changes",
    "start": "50000",
    "end": "55039"
  },
  {
    "text": "those topics relate to running kubernetes on the vsphere platform but we're also going to talk about",
    "start": "55039",
    "end": "61760"
  },
  {
    "text": "running kubernetes on the desktop hypervisors fusion and workstation",
    "start": "61760",
    "end": "66799"
  },
  {
    "text": "finally we'll wrap up with some links to resources hopefully you'll like the talk and at",
    "start": "66799",
    "end": "72000"
  },
  {
    "text": "the end they'll provide details on how you can become a member of the kubernetes vmware user group where we",
    "start": "72000",
    "end": "78400"
  },
  {
    "text": "host ongoing discussions on subjects like the material in this talk",
    "start": "78400",
    "end": "84960"
  },
  {
    "start": "85000",
    "end": "85000"
  },
  {
    "text": "thanks for that steve so like steve said i'm going to talk to you about the vsphere cloud provider the uh updated auditory cloud provider",
    "start": "85600",
    "end": "93600"
  },
  {
    "text": "and the container storage interface so we'll cover off the vsphere cloud provider first and cloud providers are a concept",
    "start": "93600",
    "end": "99840"
  },
  {
    "text": "that sort of makes kubernetes cloud native it provides an abstraction layer between",
    "start": "99840",
    "end": "105840"
  },
  {
    "text": "the apis from the underlying infrastructure whether that's vsphere or google cloud or amazon or",
    "start": "105840",
    "end": "112079"
  },
  {
    "text": "what have you and the primitives that kubernetes understand so it means that kubernetes doesn't have to have core platform logic",
    "start": "112079",
    "end": "118719"
  },
  {
    "text": "built into it in order to communicate with the underlying platform to ask for resources and that kind of thing",
    "start": "118719",
    "end": "124799"
  },
  {
    "text": "so the vsphere cloud provider and the cloud provider interface the entry and the editory",
    "start": "124799",
    "end": "131120"
  },
  {
    "text": "what they really do is they allow for labeling and locality for",
    "start": "131120",
    "end": "137840"
  },
  {
    "text": "virtual machines on top of vsphere but in a way that kubernetes can understand so you can put things into",
    "start": "137840",
    "end": "144319"
  },
  {
    "text": "zones um it really sort of ties the underlying infrastructure so the vm concept into",
    "start": "144319",
    "end": "151840"
  },
  {
    "text": "the kubernetes layer so it'll apply labels into particular nodes in kubernetes based on what their vmid",
    "start": "151840",
    "end": "159040"
  },
  {
    "text": "is and that kind of thing um so the cloud provider vsphere is an updated",
    "start": "159040",
    "end": "166160"
  },
  {
    "text": "uh out of tree version of the vsphere cloud provider and the vsphere cloud provider is something that's known as an",
    "start": "166160",
    "end": "172400"
  },
  {
    "text": "intri cloud provider those are all being sort of phased out by about kubernetes 1.20 1.21 the the",
    "start": "172400",
    "end": "180080"
  },
  {
    "text": "migration timelines change a little bit but i think it's 1.20 at the minute and",
    "start": "180080",
    "end": "185200"
  },
  {
    "text": "basically the idea is uh the kubernetes maintainers want to remove",
    "start": "185200",
    "end": "190480"
  },
  {
    "text": "all of the entry cloud providers because what it does is add dead code into the code base it opens it",
    "start": "190480",
    "end": "196800"
  },
  {
    "text": "up to security vulnerabilities it adds bloat to the core kubernetes binaries it doesn't need",
    "start": "196800",
    "end": "202720"
  },
  {
    "text": "to be there and it means that if there are changes that need to be made to a cloud provider",
    "start": "202720",
    "end": "208400"
  },
  {
    "text": "uh the vendor for that cloud provider has to make changes to the core kubernetes code base rather than just",
    "start": "208400",
    "end": "214560"
  },
  {
    "text": "updating their own individual plugin which you can appreciate if there's a bug that you want to fix that means you have to upgrade your",
    "start": "214560",
    "end": "220640"
  },
  {
    "text": "entire kubernetes platform so not really a great solution so they've pushed all of the vendors including",
    "start": "220640",
    "end": "227120"
  },
  {
    "text": "ourselves to creating out of tree version so more of a plug-in type architecture",
    "start": "227120",
    "end": "233519"
  },
  {
    "text": "so that's what i'm going to talk about i'm going to talk about the vcp the cpi which is the cloud provider",
    "start": "233519",
    "end": "239439"
  },
  {
    "text": "interface which is the out of tree version of the vcp and the csi driver itself",
    "start": "239439",
    "end": "246640"
  },
  {
    "start": "246000",
    "end": "246000"
  },
  {
    "text": "so we'll start from a storage perspective because storage is is sort of my thing and we've already talked about the vcp",
    "start": "246640",
    "end": "253519"
  },
  {
    "text": "and basically it was a minimum viable product it was an intri cloud provider that allowed for",
    "start": "253519",
    "end": "261440"
  },
  {
    "text": "dynamic provisioning of storage on kubernetes so if a pod was scheduled and it required a",
    "start": "261440",
    "end": "267360"
  },
  {
    "text": "100 gig volume the vsphere cloud provider would take that call and translate it into",
    "start": "267360",
    "end": "272639"
  },
  {
    "text": "something that vsphere would understand so it would essentially just create a 100 gig vmdk and mount it into the",
    "start": "272639",
    "end": "279360"
  },
  {
    "text": "appropriate kubernetes worker node so that that pod can access some storage",
    "start": "279360",
    "end": "284560"
  },
  {
    "text": "so uh that was all fine but like i say it was a minimum viable product it had kind of a",
    "start": "284560",
    "end": "291280"
  },
  {
    "start": "287000",
    "end": "287000"
  },
  {
    "text": "hacky way of of deploying storage and basically what it did was it would",
    "start": "291280",
    "end": "296320"
  },
  {
    "text": "create a shell vm that had you know nothing in it other than a vmx file and a vmdk it would then",
    "start": "296320",
    "end": "304560"
  },
  {
    "text": "detach the vmdk delete the vm and then reattach the vmdk to whatever the target",
    "start": "304560",
    "end": "310240"
  },
  {
    "text": "vm was so i think can you can appreciate that there's some work that's being done there that didn't really need to be done",
    "start": "310240",
    "end": "317600"
  },
  {
    "text": "it also led to an interesting problem and if you've ever worked as a sys admin on vsphere systems if you detach a vmdk",
    "start": "317600",
    "end": "326080"
  },
  {
    "text": "from a vm there's no real easy way to discover those so they become orphaned and they just sit on the data",
    "start": "326080",
    "end": "333759"
  },
  {
    "text": "stores consuming space but they are hard to identify that there's there's no mapping to them so",
    "start": "333759",
    "end": "338960"
  },
  {
    "text": "uh we saw this move from entry to iof3 as an opportunity to rewrite that integration in its entirety",
    "start": "338960",
    "end": "346639"
  },
  {
    "text": "like we basically just went from scratch and we used a completely different backend that doesn't have some of those",
    "start": "346639",
    "end": "352800"
  },
  {
    "text": "inherent problems so that's what we sort of released with with vsphere 6.7 u3",
    "start": "352800",
    "end": "358720"
  },
  {
    "text": "uh something called the cns platform which is cloud native storage platform and it has basically the same features",
    "start": "358720",
    "end": "365199"
  },
  {
    "text": "as the vsphere cloud provider but in a much more supportable much more",
    "start": "365199",
    "end": "370400"
  },
  {
    "text": "scalable manner so you've still got your dynamic provisioning of volume",
    "start": "370400",
    "end": "375600"
  },
  {
    "text": "so if your applications require storage they can still request that and have it assigned automatically there's no need to have a",
    "start": "375600",
    "end": "381680"
  },
  {
    "text": "developer uh talk to a sysadmin to get stuff provisioned and frankly that's just not the way stuff works in this world",
    "start": "381680",
    "end": "388400"
  },
  {
    "text": "so having dynamic provisioning is a must that vm provisioning workflow i talked",
    "start": "388400",
    "end": "395360"
  },
  {
    "text": "about where it created a vm with a vmdk attached and threw away the vm clearly a lot of api calls and a lot of",
    "start": "395360",
    "end": "402240"
  },
  {
    "text": "functions going on there that didn't really need to happen so we changed the back end from that",
    "start": "402240",
    "end": "407759"
  },
  {
    "text": "what we call just the legacy vm provisioning backend to something called first class disks",
    "start": "407759",
    "end": "413280"
  },
  {
    "text": "and first class disks are really nice because they don't have this orphan storage problem",
    "start": "413280",
    "end": "419440"
  },
  {
    "text": "if you unmount one of these first class disks from vm we still track where it is we still",
    "start": "419440",
    "end": "426240"
  },
  {
    "text": "track how much storage it's consumed uh you know where it lives on the file system all that good stuff",
    "start": "426240",
    "end": "431919"
  },
  {
    "text": "so even whenever you scale out an application say a stateful set and you scale it back in from say three",
    "start": "431919",
    "end": "438400"
  },
  {
    "text": "to two nodes it'll keep the uh the disk there the first class disk will still",
    "start": "438400",
    "end": "443680"
  },
  {
    "text": "exist you know persis it will still persist that's the point of it but we won't lose track of it so the",
    "start": "443680",
    "end": "450560"
  },
  {
    "text": "next time it goes to scale out say from two to three nodes it'll automatically take that volume and remount it back in",
    "start": "450560",
    "end": "456000"
  },
  {
    "text": "and then the application can do a delta sync on top so it removes some of the challenges",
    "start": "456000",
    "end": "462240"
  },
  {
    "text": "around operationalizing it in addition we added a ui into vcenter",
    "start": "462240",
    "end": "467759"
  },
  {
    "text": "for all this stuff so whenever you get a dynamically provisioned volume all of those volumes show up in the",
    "start": "467759",
    "end": "474800"
  },
  {
    "text": "vcenter ui so that your if you're a developer your sysadmins can help you",
    "start": "474800",
    "end": "480800"
  },
  {
    "text": "in debugging things if you give them a ppc id they can just paste it into our ui and",
    "start": "480800",
    "end": "486160"
  },
  {
    "text": "it'll show them you know right the way down to the physical tin what disk that volume actually exists on",
    "start": "486160",
    "end": "492160"
  },
  {
    "text": "so a lot of the refinement and and feature additions that we made were really around",
    "start": "492160",
    "end": "497759"
  },
  {
    "text": "making this more scalable making it more operationally viable",
    "start": "497759",
    "end": "503120"
  },
  {
    "text": "um so that was our release with 6.7 u3 and then in 7.0",
    "start": "503120",
    "end": "509440"
  },
  {
    "start": "508000",
    "end": "508000"
  },
  {
    "text": "uh we continued on that uh architecture and we added a few more bits and pieces in there so",
    "start": "509440",
    "end": "514800"
  },
  {
    "text": "um if any of you are familiar with vsphere storage we added support for basic vivo primitives so if you want a",
    "start": "514800",
    "end": "522159"
  },
  {
    "text": "block volume that is to say if you want a read write once volume in kubernetes you can now use",
    "start": "522159",
    "end": "528080"
  },
  {
    "text": "vmfs nfs vsan or vivo so all storage types for vsphere knives supported",
    "start": "528080",
    "end": "534480"
  },
  {
    "text": "um in addition we had quite a few requests for rewrite many volumes so if you have a visa and data store we",
    "start": "534480",
    "end": "541600"
  },
  {
    "text": "can now automatically provision nfs file shares for you just dynamically",
    "start": "541600",
    "end": "546800"
  },
  {
    "text": "the same way we would for read write once volumes and they will get mounted into you know however many uh pods and worker",
    "start": "546800",
    "end": "553040"
  },
  {
    "text": "nodes you assign that single read write many persistent volume to so the big thing was the file based",
    "start": "553040",
    "end": "560160"
  },
  {
    "text": "volumes based on vsan like i said people support as well but we've also added per persistent volume",
    "start": "560160",
    "end": "567040"
  },
  {
    "text": "encryption support using vmcrypt so you can ask for a volume to be",
    "start": "567040",
    "end": "572640"
  },
  {
    "text": "provisioned using an encryption storage class and that will encrypt those volumes",
    "start": "572640",
    "end": "578000"
  },
  {
    "text": "and they're um re-keyed whenever they get moved to another vm so if you have a node failure",
    "start": "578000",
    "end": "583600"
  },
  {
    "text": "and it gets moved to another vm that volume will be re-keyed so it can be re-read by the target vm which is quite",
    "start": "583600",
    "end": "590560"
  },
  {
    "text": "nice as well and we have persistent volume snapshots",
    "start": "590560",
    "end": "595760"
  },
  {
    "text": "now i'll highlight this isn't the csi snapshot feature that we don't have interrupt",
    "start": "595760",
    "end": "601920"
  },
  {
    "text": "with the csi snapshot api yet um but this is a plug-in for valero so",
    "start": "601920",
    "end": "608160"
  },
  {
    "text": "if you use valero for backup and restore of your kubernetes applications we have something called the vadp plugin",
    "start": "608160",
    "end": "615279"
  },
  {
    "text": "for valero and that will take vsphere level snapshots of the persistent volumes",
    "start": "615279",
    "end": "621680"
  },
  {
    "text": "before the data is read off them to ensure uh atomicity of the data as it's being read",
    "start": "621680",
    "end": "627120"
  },
  {
    "text": "off to ensure that it's consistent when you back it up so that whenever you restore it it will be at least",
    "start": "627120",
    "end": "633040"
  },
  {
    "text": "crash consistent um we also added a first pass at uh volume resizing so we",
    "start": "633040",
    "end": "639920"
  },
  {
    "text": "can now actually support offline volume resize so you would essentially remove it from your pod",
    "start": "639920",
    "end": "646560"
  },
  {
    "text": "delete the pod uh change the specification of the pvc it'll automatically expand it in vsphere",
    "start": "646560",
    "end": "652720"
  },
  {
    "text": "and then you can reattach it to your pod and we've added support for um a mixture",
    "start": "652720",
    "end": "658000"
  },
  {
    "text": "of tooling as well so if you want to use wavefront you can use wavefront but we realize that almost everyone here",
    "start": "658000",
    "end": "664959"
  },
  {
    "text": "uses uh prometheus so we added native prometheus exporters",
    "start": "664959",
    "end": "670160"
  },
  {
    "text": "into esxi as well as created a bunch of grafana dashboards for those that actually expose those metrics and tell",
    "start": "670160",
    "end": "676959"
  },
  {
    "text": "you how to use them as well so if you have prometheus in your environment you can now use that",
    "start": "676959",
    "end": "683519"
  },
  {
    "text": "to scrape metrics from esxi as well directly and have your applications react to changes",
    "start": "683519",
    "end": "689279"
  },
  {
    "text": "on the underlying infrastructure so uh if we take a a little look here",
    "start": "689279",
    "end": "696000"
  },
  {
    "start": "692000",
    "end": "692000"
  },
  {
    "text": "just to do a brief sort of 101 of how this actually works uh everything you see in orange here is",
    "start": "696000",
    "end": "701440"
  },
  {
    "text": "vsphere everything in blue is kubernetes so you've got your vcenter installed on your vsphere infrastructure",
    "start": "701440",
    "end": "707920"
  },
  {
    "text": "and cns is just a daemon that runs inside vcenter so when you install that it's just automatically there",
    "start": "707920",
    "end": "713760"
  },
  {
    "text": "so the first thing you do is you create your spbm policy in vsphere and if you're not familiar",
    "start": "713760",
    "end": "719200"
  },
  {
    "text": "with vsphere or spbm policies it's essentially just a storage class like they're",
    "start": "719200",
    "end": "724800"
  },
  {
    "text": "basically identical concepts but an spbm policy allows you to specify things like",
    "start": "724800",
    "end": "731279"
  },
  {
    "text": "you know how many copies of this data do you want um you know where should it be located on what site that kind of thing",
    "start": "731279",
    "end": "737839"
  },
  {
    "text": "so you create your spbm policy and then you create a kubernetes storage",
    "start": "737839",
    "end": "743360"
  },
  {
    "text": "class that points at that spbm policy so super simple they're just related by name then we've got our csi",
    "start": "743360",
    "end": "750959"
  },
  {
    "text": "driver and the csi driver is what does the translation between the kate storage class and the spbm policy so whenever a volume",
    "start": "750959",
    "end": "758480"
  },
  {
    "text": "is provisioned that is how vcenter and vsphere know in what manner to create that volume and",
    "start": "758480",
    "end": "766240"
  },
  {
    "text": "where to mount it into which kubernetes node and then what pod",
    "start": "766240",
    "end": "771680"
  },
  {
    "text": "so you've got a cassandra deployment here and it says i would like a 100 gig volume",
    "start": "771680",
    "end": "777279"
  },
  {
    "text": "from this storage class so that storage class if you look at how that's constructed",
    "start": "777279",
    "end": "782560"
  },
  {
    "text": "there is a provisioner and that would say this is the vsphere csi provisioner so it says okay well i'll hand this call",
    "start": "782560",
    "end": "788399"
  },
  {
    "text": "off to the vsphere csi provider it looks at that request and says okay we're going to send this to the vcenter",
    "start": "788399",
    "end": "793760"
  },
  {
    "text": "that i'm registered with so it sends it to the vcenter cns looks at the request and says okay this",
    "start": "793760",
    "end": "800240"
  },
  {
    "text": "is a read write once volume uh and it requires this spbm policy so it",
    "start": "800240",
    "end": "805839"
  },
  {
    "text": "sends that to the spbm engine and then it just creates that volume based on what the policy said so it will",
    "start": "805839",
    "end": "812160"
  },
  {
    "text": "create two copies of the data mounted up to into the appropriate kubernetes worker node format it with a",
    "start": "812160",
    "end": "817920"
  },
  {
    "text": "file system and mount it into the container so end to end that is completely automated",
    "start": "817920",
    "end": "823040"
  },
  {
    "text": "after you create the kubernetes storage class which is really very nice",
    "start": "823040",
    "end": "828880"
  },
  {
    "start": "828000",
    "end": "828000"
  },
  {
    "text": "and one thing i want to mention here is uh there are customers and people out there",
    "start": "828880",
    "end": "834639"
  },
  {
    "text": "who have been using kubernetes for a while that will have volumes provisioned through the vsphere",
    "start": "834639",
    "end": "840160"
  },
  {
    "text": "cloud provider and you'll have to do a migration at some stage from the vsphere cloud",
    "start": "840160",
    "end": "845920"
  },
  {
    "text": "provider to the csi driver because like i said the intrigue cloud provider is going to go away and the csi will be the new way",
    "start": "845920",
    "end": "852800"
  },
  {
    "text": "of of doing things so uh in the new version of uh kubernetes",
    "start": "852800",
    "end": "858639"
  },
  {
    "text": "in 1.19 and the csi driver we are adding a beta level or what we call beta level support for vcp to csi",
    "start": "858639",
    "end": "866639"
  },
  {
    "text": "migration now basically what this does is it allows you to have the vsphere cloud",
    "start": "866639",
    "end": "872240"
  },
  {
    "text": "provider installed in your environment you can then enable this migration",
    "start": "872240",
    "end": "879600"
  },
  {
    "text": "feature with some feature flags in kubernetes 1.19 and then you can install the csi driver",
    "start": "879600",
    "end": "886000"
  },
  {
    "text": "and what it basically tells the csi driver to do is to just intercept all requests that would go to",
    "start": "886000",
    "end": "892959"
  },
  {
    "text": "the vcp and just provision them through the csi instead or service them through the csi",
    "start": "892959",
    "end": "898560"
  },
  {
    "text": "in addition it will actually change the back-end disk type from just a standard vmdk to a first-class disk",
    "start": "898560",
    "end": "904800"
  },
  {
    "text": "so that whenever you are importing all of these volumes you get all of the nice new ui based",
    "start": "904800",
    "end": "912560"
  },
  {
    "text": "tracking and all that stuff that comes along with cns as well so the upgrade would actually be",
    "start": "912560",
    "end": "918320"
  },
  {
    "text": "transparent to the application you don't need to change any of the application manifests we basically just intercept all of the",
    "start": "918320",
    "end": "924800"
  },
  {
    "text": "calls that would go to the vcp via like a a web hook shim layer and they get pushed into the csi",
    "start": "924800",
    "end": "930800"
  },
  {
    "text": "instead so we just take over all of those calls um so this is really nice from like a",
    "start": "930800",
    "end": "936800"
  },
  {
    "text": "day two perspective whenever you are upgrading your case clusters in future you'll be able to just take your",
    "start": "936800",
    "end": "943680"
  },
  {
    "text": "existing volumes and import them into the csi driver so that they get automatically included in the",
    "start": "943680",
    "end": "949680"
  },
  {
    "text": "vcenter ui which is really quite cool and we're just going to take a brief",
    "start": "949680",
    "end": "956160"
  },
  {
    "text": "look here through uh some of the recently added features in the vsphere cloud provider before i hand it back to steve and he's",
    "start": "956160",
    "end": "962639"
  },
  {
    "text": "going to take you through desktop hypervisors so uh just real quick we're gonna hit off",
    "start": "962639",
    "end": "969120"
  },
  {
    "start": "966000",
    "end": "966000"
  },
  {
    "text": "the new things here and then you can click on the individual links with the deck afterwards um so we actually have uh nsxt based",
    "start": "969120",
    "end": "977680"
  },
  {
    "text": "load balancers um getting added into the cloud provider so if you specify",
    "start": "977680",
    "end": "982880"
  },
  {
    "text": "a load service type of load balancer we can interrupt with nsx directly and",
    "start": "982880",
    "end": "989120"
  },
  {
    "text": "ask for those to be provisioned which is really quite cool um additionally we're moving from like",
    "start": "989120",
    "end": "994480"
  },
  {
    "text": "an ini type config config to a yaml based config just because you know that's kind",
    "start": "994480",
    "end": "999600"
  },
  {
    "text": "of how things work these days um we are updating the",
    "start": "999600",
    "end": "1004639"
  },
  {
    "text": "cloud provider interfaces image account to be a non-root account which i'm sure you'll agree from a security standpoint",
    "start": "1004639",
    "end": "1011360"
  },
  {
    "text": "is a good thing to do um and just adding a bit more robustness to the whole",
    "start": "1011360",
    "end": "1016800"
  },
  {
    "text": "zones and regions labeling um we're looking at or we are adding a folder and",
    "start": "1016800",
    "end": "1023839"
  },
  {
    "text": "resource pool traversal for those features as well so if you are using zones or tags",
    "start": "1023839",
    "end": "1029839"
  },
  {
    "text": "it will now be able to traverse all of the resource pools or folders under that environment and figure out",
    "start": "1029839",
    "end": "1037199"
  },
  {
    "text": "where stuff actually lives and like i say the rest of it you can read through in your own time with the deck afterwards and you can click on the",
    "start": "1037199",
    "end": "1043438"
  },
  {
    "text": "individual pull requests and see how those things actually work so i'm going to hand it back over to",
    "start": "1043439",
    "end": "1049039"
  },
  {
    "text": "steve now and he's going to take you through kubernetes desktop hypervisors",
    "start": "1049039",
    "end": "1055679"
  },
  {
    "text": "thank you miles i'm going to move on to running kubernetes on vmware desktop hypervisors",
    "start": "1057200",
    "end": "1066480"
  },
  {
    "start": "1066000",
    "end": "1066000"
  },
  {
    "text": "the desktop hypervisor was actually vmware's first product back in 1991 and it was",
    "start": "1066480",
    "end": "1073280"
  },
  {
    "text": "first hosted on linux this first generation of products was the",
    "start": "1073280",
    "end": "1080559"
  },
  {
    "text": "origin of uh the server class hypervisor products um even though vmware is best known in",
    "start": "1080559",
    "end": "1088000"
  },
  {
    "text": "data centers uh the desktop hypervisors for linux windows and mac are installed on",
    "start": "1088000",
    "end": "1094080"
  },
  {
    "text": "millions of computers the fusion hypervisor is the version for",
    "start": "1094080",
    "end": "1100080"
  },
  {
    "text": "mac and like workstation it's known as a type 2 hypervisor meaning it runs on",
    "start": "1100080",
    "end": "1106240"
  },
  {
    "text": "an os rather than directly on bare metal it's also worth noting that these",
    "start": "1106240",
    "end": "1112080"
  },
  {
    "text": "desktop hypervisors implement virtual networking to allow creation of",
    "start": "1112080",
    "end": "1118320"
  },
  {
    "text": "multiple networks connected to the vms they host",
    "start": "1118320",
    "end": "1123840"
  },
  {
    "text": "this shows the latest versions of the production products but it turns out that a newer",
    "start": "1125039",
    "end": "1132400"
  },
  {
    "text": "tech preview beta is also running now participation in the beta is free and",
    "start": "1132400",
    "end": "1138640"
  },
  {
    "text": "there are player versions of these desktop hypervisors also available for personal",
    "start": "1138640",
    "end": "1144039"
  },
  {
    "text": "non-commercial use i'm going to show a kubernetes install",
    "start": "1144039",
    "end": "1151200"
  },
  {
    "text": "using the tech preview just because that's what i've got running on my laptop",
    "start": "1151200",
    "end": "1156799"
  },
  {
    "text": "but pretty much everything i'm going to show applies to other recent versions of these desktop",
    "start": "1156799",
    "end": "1162720"
  },
  {
    "text": "hypervisors as well the new uh 20h2 version intech preview",
    "start": "1162720",
    "end": "1170240"
  },
  {
    "start": "1166000",
    "end": "1166000"
  },
  {
    "text": "has support for running containers directly without composing a vm",
    "start": "1170240",
    "end": "1176080"
  },
  {
    "text": "the experience is not unlike a docker at a command line you have push pull run using a cli in this case named",
    "start": "1176080",
    "end": "1183919"
  },
  {
    "text": "v-cuttle the difference is that these",
    "start": "1183919",
    "end": "1189120"
  },
  {
    "text": "docker and oci compliant container images run in the hypervisor in a lightweight",
    "start": "1189120",
    "end": "1195120"
  },
  {
    "text": "fashion kind the kubernetes in docker tool",
    "start": "1195120",
    "end": "1200160"
  },
  {
    "text": "is not currently integrated into this tech preview cli but i'm told that developers are pursuing this",
    "start": "1200160",
    "end": "1208400"
  },
  {
    "text": "the top line here shows the download links for getting the production releases of the",
    "start": "1209840",
    "end": "1215120"
  },
  {
    "start": "1210000",
    "end": "1210000"
  },
  {
    "text": "desktop hypervisors and by the way the the fusion hypervisor",
    "start": "1215120",
    "end": "1220720"
  },
  {
    "text": "for mac uh version 11.5.5 is already out with this container",
    "start": "1220720",
    "end": "1226720"
  },
  {
    "text": "support so if you're running 11.5 first fusion you can upgrade to 11",
    "start": "1226720",
    "end": "1233039"
  },
  {
    "text": "5.5 right now to get the container support the next line here has links to the free",
    "start": "1233039",
    "end": "1240240"
  },
  {
    "text": "tech preview beta and a warning if you use the earlier",
    "start": "1240240",
    "end": "1245600"
  },
  {
    "text": "tech preview beta that was out at the beginning of the year uninstall it before moving on to the",
    "start": "1245600",
    "end": "1251360"
  },
  {
    "text": "newer version also be careful about using google to find this beta because",
    "start": "1251360",
    "end": "1258960"
  },
  {
    "text": "the older version tends to show up first in the search results just because a lot of blog posts got out",
    "start": "1258960",
    "end": "1265679"
  },
  {
    "text": "talking about it so i'm going to show a demo running",
    "start": "1265679",
    "end": "1271919"
  },
  {
    "text": "minicube with a series of screenshots rather than as a video if if this had been a",
    "start": "1271919",
    "end": "1279520"
  },
  {
    "text": "physical conference as originally planned i would have done it as a live demo but since we're going to do it online it",
    "start": "1279520",
    "end": "1286480"
  },
  {
    "text": "can't be live anyway and i decided that the screen content snaps suffer from",
    "start": "1286480",
    "end": "1291919"
  },
  {
    "text": "less from bad internet and also allow cut and paste directly from the",
    "start": "1291919",
    "end": "1297600"
  },
  {
    "text": "slides in the deck if you choose to follow along later at home",
    "start": "1297600",
    "end": "1305520"
  },
  {
    "start": "1303000",
    "end": "1303000"
  },
  {
    "text": "so i'm going to show this demo on windows instead of linux for a few reasons i'd rather show the more disruptive",
    "start": "1305520",
    "end": "1312880"
  },
  {
    "text": "environment and windows simply tends to get lighter coverage in the blogosphere",
    "start": "1312880",
    "end": "1320080"
  },
  {
    "text": "kubernetes continues to open up windows container support and i've been running into a lot of",
    "start": "1320080",
    "end": "1326159"
  },
  {
    "text": "windows developers who are struggling to learn the new world of kubernetes so i",
    "start": "1326159",
    "end": "1331679"
  },
  {
    "text": "wanted to be inclusive and help people get a bridge from those millions of windows laptops",
    "start": "1331679",
    "end": "1337520"
  },
  {
    "text": "into the world of kubernetes if you're on a mac or a linux machine",
    "start": "1337520",
    "end": "1343200"
  },
  {
    "text": "don't fret it's very similar to what i'm about to show mostly the difference is that you",
    "start": "1343200",
    "end": "1348400"
  },
  {
    "text": "can cut out a few steps uh so start by downloading the five items listed here",
    "start": "1348400",
    "end": "1355280"
  },
  {
    "text": "if you're watching from the recording these links are to specific versions that probably have",
    "start": "1355280",
    "end": "1360720"
  },
  {
    "text": "a shelf life of a month or two so if this is an older recording at the",
    "start": "1360720",
    "end": "1366000"
  },
  {
    "text": "point you catch it look for newer versions as needed",
    "start": "1366000",
    "end": "1371279"
  },
  {
    "text": "in a few cases you could flip the order of these installs but this is what i tested",
    "start": "1373120",
    "end": "1378320"
  },
  {
    "text": "if you're on a mac or linux you can probably have get already so skip that step it doesn't likely make",
    "start": "1378320",
    "end": "1384799"
  },
  {
    "text": "sense uh the summary here is i'm assuming you've already downloaded it",
    "start": "1384799",
    "end": "1390640"
  },
  {
    "text": "um from your collection of downloads start by installing the hypervisor then",
    "start": "1390640",
    "end": "1396799"
  },
  {
    "text": "golang get finally build a driver from the golang source",
    "start": "1396799",
    "end": "1403360"
  },
  {
    "text": "install cube cuddle and then mini cube um the these downloads are installer",
    "start": "1403360",
    "end": "1410640"
  },
  {
    "text": "packages so they're pretty simple to figure out i'm not going to make you watch step by step with these",
    "start": "1410640",
    "end": "1417679"
  },
  {
    "text": "installs just find the installers that you downloaded and",
    "start": "1417679",
    "end": "1423279"
  },
  {
    "text": "install them in the order here you should be fine",
    "start": "1423279",
    "end": "1427519"
  },
  {
    "text": "next we're going to configure minicube um the effect of these configuration",
    "start": "1428480",
    "end": "1434000"
  },
  {
    "text": "settings is to specify the vm that kubernetes is going to run in uh",
    "start": "1434000",
    "end": "1439600"
  },
  {
    "text": "the settings i'm showing here are generous i did these big to allow enough to run",
    "start": "1439600",
    "end": "1446000"
  },
  {
    "text": "pretty demanding things such as installing and running an istio service mesh",
    "start": "1446000",
    "end": "1452159"
  },
  {
    "text": "you could easily cut these in half if you have a small laptop and you're only going to run a few",
    "start": "1452159",
    "end": "1460320"
  },
  {
    "text": "simple apps in kubernetes by the way i show an optional step here",
    "start": "1460320",
    "end": "1465840"
  },
  {
    "text": "uh because i'm changing the default um network cider",
    "start": "1465840",
    "end": "1473039"
  },
  {
    "text": "and chain this change is going to require some additional uh setup in the workstation hypervisor",
    "start": "1473039",
    "end": "1480480"
  },
  {
    "text": "that i'll get to in the in a moment i'm doing this simply because most mini cube usage examples that you",
    "start": "1480480",
    "end": "1487840"
  },
  {
    "text": "find out on the internet use the 192 168 99 cider range",
    "start": "1487840",
    "end": "1494159"
  },
  {
    "text": "and i wanted to make it easy to cut and paste out of any examples you might find off the",
    "start": "1494159",
    "end": "1500400"
  },
  {
    "text": "internet so do the config steps shown here uh but when you're done don't close the",
    "start": "1500400",
    "end": "1508480"
  },
  {
    "text": "command prompt that you do this in because we'll be back to it shortly you'll follow the steps to configure",
    "start": "1508480",
    "end": "1515840"
  },
  {
    "text": "each of these settings one at a time and that final step of mini queue config view just uh",
    "start": "1515840",
    "end": "1522640"
  },
  {
    "text": "echoes back your configuration so that you can verify that you didn't have any typos",
    "start": "1522640",
    "end": "1529840"
  },
  {
    "start": "1529000",
    "end": "1529000"
  },
  {
    "text": "now i'm showing the configuration of the vmware workstation hypervisor like i say it comes with",
    "start": "1531360",
    "end": "1538559"
  },
  {
    "text": "virtual networks there are some created by default you can create more if you need them",
    "start": "1538559",
    "end": "1545039"
  },
  {
    "text": "but what we're going to do is change the uh",
    "start": "1545039",
    "end": "1550080"
  },
  {
    "text": "the ip subnet that is being used by one of these uh pre-configured uh networks",
    "start": "1550480",
    "end": "1559440"
  },
  {
    "text": "so we start by opening the workstation ui and we choose the virtual network editor",
    "start": "1559440",
    "end": "1565919"
  },
  {
    "text": "from the edit tab uh by the way you're going to need to have admin rights uh",
    "start": "1565919",
    "end": "1571760"
  },
  {
    "text": "to your machine in order to edit these virtual networks successfully otherwise it it's a view only scenario",
    "start": "1571760",
    "end": "1580880"
  },
  {
    "text": "you start by hitting the change settings button on the lower right and this triggers",
    "start": "1582159",
    "end": "1588880"
  },
  {
    "text": "escalation to invoke your admin privilege then you change the subnet prefix to",
    "start": "1588880",
    "end": "1596039"
  },
  {
    "text": "192.168.99 and then finally press the dhcp settings button",
    "start": "1596039",
    "end": "1603600"
  },
  {
    "text": "this shows the dialog box that's going to pop up we're going to assign a block of ips to",
    "start": "1604480",
    "end": "1611279"
  },
  {
    "text": "dhcp and keep the rest in reserve so in the portion of the dialog",
    "start": "1611279",
    "end": "1618080"
  },
  {
    "text": "box circled in red change the dhcp octet range to hand out",
    "start": "1618080",
    "end": "1624880"
  },
  {
    "text": "addresses uh from 128 to 254 and then hit the ok button",
    "start": "1624880",
    "end": "1632639"
  },
  {
    "text": "now it's time to go back to that command line prompt and start minicube which is going to be a vm",
    "start": "1632799",
    "end": "1640159"
  },
  {
    "text": "that will be running kubernetes uh the mini cube start step is going to take a minute or two uh",
    "start": "1640159",
    "end": "1648080"
  },
  {
    "text": "how long it takes exactly might even depend on the speed of your internet connection when you trigger",
    "start": "1648080",
    "end": "1655840"
  },
  {
    "text": "this mini cube start you're going to see log output as the vm is composed and",
    "start": "1655840",
    "end": "1662640"
  },
  {
    "text": "started and the components are pulled installed and run the the vm is going to be underneath the",
    "start": "1662640",
    "end": "1670799"
  },
  {
    "text": "dot mini cube slash machine slash mini cube directory inside your home directory on",
    "start": "1670799",
    "end": "1677360"
  },
  {
    "text": "windows and later you can add that file to your workstation inventory using",
    "start": "1677360",
    "end": "1685120"
  },
  {
    "text": "the file open menu if you want to see it in the workstation gui",
    "start": "1685120",
    "end": "1692159"
  },
  {
    "text": "after the command line shows done with an x exclamation point you can verify",
    "start": "1692159",
    "end": "1699360"
  },
  {
    "text": "using mini cube status and the cube cuddle cli uh with cube cuddle version is shown",
    "start": "1699360",
    "end": "1706559"
  },
  {
    "text": "here when this is complete you have kubernetes running",
    "start": "1706559",
    "end": "1711679"
  },
  {
    "text": "inside a workstation hosted vm",
    "start": "1711679",
    "end": "1716080"
  },
  {
    "text": "we'll move to a moderately advanced demo now but you could do whatever you want mini cube starts pretty lightweight but",
    "start": "1717520",
    "end": "1724240"
  },
  {
    "text": "i'm going to turn on some actual optional add-on features since i gave this vm plenty of cpu in memory to",
    "start": "1724240",
    "end": "1731440"
  },
  {
    "text": "allow this we're going to deploy a load balancer something you might need",
    "start": "1731440",
    "end": "1737039"
  },
  {
    "text": "if you're going to play with service mesh or interact with the outside world we're also enabling the kubernetes",
    "start": "1737039",
    "end": "1743840"
  },
  {
    "text": "dashboard so do the command line steps shown",
    "start": "1743840",
    "end": "1752000"
  },
  {
    "text": "here and you should get the results shown in blue",
    "start": "1752000",
    "end": "1756480"
  },
  {
    "text": "when you do invoke the minicube dashboard command at the command line this will open up a",
    "start": "1758320",
    "end": "1764720"
  },
  {
    "text": "browser windows with the kubernetes ui the metal lb load balancer",
    "start": "1764720",
    "end": "1772720"
  },
  {
    "text": "is capable of issuing ips from a pool like an ipam but we need to configure it in order to",
    "start": "1772960",
    "end": "1780480"
  },
  {
    "text": "specify the ip address pool that it issues ips from when it provides load balancing",
    "start": "1780480",
    "end": "1789200"
  },
  {
    "text": "services this has to be a different range from the range we assigned to the dhcp",
    "start": "1789200",
    "end": "1795600"
  },
  {
    "text": "server those ranges are issued to vms as opposed to",
    "start": "1795600",
    "end": "1802080"
  },
  {
    "text": "the metal lb load balancer issuing ips to kubernetes hosted services on the menu",
    "start": "1802080",
    "end": "1810080"
  },
  {
    "text": "on the left inside the dashboard enable showing all namespaces then go",
    "start": "1810080",
    "end": "1818559"
  },
  {
    "text": "down and choose config maps and edit the config map that's associated with",
    "start": "1818559",
    "end": "1825200"
  },
  {
    "text": "metal lb um we're going to want to alter that config",
    "start": "1825200",
    "end": "1830559"
  },
  {
    "text": "map as shown in the um",
    "start": "1830559",
    "end": "1837679"
  },
  {
    "text": "things circled in red to assign the ip range ranging from 192 168",
    "start": "1837679",
    "end": "1844760"
  },
  {
    "text": "99.105 to 120. now we're going to display deploy a",
    "start": "1844760",
    "end": "1852000"
  },
  {
    "text": "service and this is the hello mini cube service example that comes straight out of the",
    "start": "1852000",
    "end": "1857200"
  },
  {
    "text": "mini cube docs we use cube cuddle to create a deployment of a web service as shown",
    "start": "1857200",
    "end": "1863039"
  },
  {
    "text": "here then we use cube cuddle expose to create",
    "start": "1863039",
    "end": "1868159"
  },
  {
    "text": "a load balance service and make this web server publicly accessible",
    "start": "1868159",
    "end": "1873519"
  },
  {
    "text": "after this completes you can find a link to the service in the dashboard or you could also get the url from the",
    "start": "1873519",
    "end": "1881039"
  },
  {
    "text": "command line i'm not going to show it here but if you do this later at home a hidden slide in this deck shows the",
    "start": "1881039",
    "end": "1887760"
  },
  {
    "text": "steps to clean up the service the deployment and even the mini cube vm",
    "start": "1887760",
    "end": "1894559"
  },
  {
    "start": "1895000",
    "end": "1895000"
  },
  {
    "text": "so this content is brought to you by a kubernetes user group and if you're using kubernetes on",
    "start": "1895200",
    "end": "1901600"
  },
  {
    "text": "vsphere i encourage you to formally join this group we have a meeting each month where we",
    "start": "1901600",
    "end": "1907519"
  },
  {
    "text": "discuss tutorials and best practices the agenda is user driven so members are",
    "start": "1907519",
    "end": "1912960"
  },
  {
    "text": "encouraged to nominate presentation and discussion topics including discussions of feature requests we've",
    "start": "1912960",
    "end": "1920720"
  },
  {
    "text": "got two user tech leads bryson shepard and joe cersey who helped get this group",
    "start": "1920720",
    "end": "1926159"
  },
  {
    "text": "started but they couldn't be with us today in this online presentation",
    "start": "1926159",
    "end": "1932559"
  },
  {
    "text": "we're looking forward to growing this group with a diverse set of worldwide users",
    "start": "1932559",
    "end": "1937600"
  },
  {
    "text": "the group is also running a slack channel which is a great place to act ask questions and meet other users",
    "start": "1937600",
    "end": "1945840"
  },
  {
    "text": "it's a good place to bring up vsphere specific topics but if you want",
    "start": "1945840",
    "end": "1952559"
  },
  {
    "text": "to talk about kubernetes in general perhaps the there is also a kubernetes user uh",
    "start": "1952559",
    "end": "1959600"
  },
  {
    "text": "channel which might be more appropriate really generic questions and discussions",
    "start": "1959600",
    "end": "1967360"
  },
  {
    "text": "it's also the slack channel is also a great place to reach out to meet code contributors and",
    "start": "1967600",
    "end": "1973760"
  },
  {
    "text": "documentation contributors so the next user group meeting is going",
    "start": "1973760",
    "end": "1979760"
  },
  {
    "text": "to be september 3rd in the north american time zone",
    "start": "1979760",
    "end": "1986159"
  },
  {
    "text": "you can go to the kubernetes community calendar link shown here to get a conversion to",
    "start": "1986159",
    "end": "1991919"
  },
  {
    "text": "your local time zone and to add it to your calendar you can become a group member by joining",
    "start": "1991919",
    "end": "1998640"
  },
  {
    "text": "them joining the mailing list that's shown in the link here and finally here's a link to the group's",
    "start": "1998640",
    "end": "2005039"
  },
  {
    "text": "slack channel so miles and i are going to hang around for q a",
    "start": "2005039",
    "end": "2011360"
  },
  {
    "text": "there's a link at the top that will get you this deck the slide also shows our github ids and",
    "start": "2011360",
    "end": "2018480"
  },
  {
    "text": "if you're watching the recording later you can ask questions on the user group slack channel",
    "start": "2018480",
    "end": "2024000"
  },
  {
    "text": "thank you and i hope to see you in a future meeting at this point i'm going to turn it back over to the cncf",
    "start": "2024000",
    "end": "2030840"
  },
  {
    "text": "moderators",
    "start": "2030840",
    "end": "2033840"
  }
]