[
  {
    "text": "hi everyone good morning uh I'm going to",
    "start": "280",
    "end": "3600"
  },
  {
    "text": "talk to you about uh Walmart Cloud",
    "start": "3600",
    "end": "6000"
  },
  {
    "text": "native platforms and how we have",
    "start": "6000",
    "end": "9080"
  },
  {
    "text": "extended kubernetes to uh build a",
    "start": "9080",
    "end": "11679"
  },
  {
    "text": "control plane and deploy applications",
    "start": "11679",
    "end": "14040"
  },
  {
    "text": "out to thousands of",
    "start": "14040",
    "end": "16000"
  },
  {
    "text": "clusters so uh whenever any of us think",
    "start": "16000",
    "end": "18920"
  },
  {
    "text": "of Walmart right uh we do think of the",
    "start": "18920",
    "end": "21439"
  },
  {
    "text": "world's uh largest",
    "start": "21439",
    "end": "23480"
  },
  {
    "text": "retailer and we think of thousands of",
    "start": "23480",
    "end": "26480"
  },
  {
    "text": "stores and some of the mega mega stores",
    "start": "26480",
    "end": "29800"
  },
  {
    "text": "uh and we also think of new H Commerce",
    "start": "29800",
    "end": "33280"
  },
  {
    "text": "uh we think of online and Omni Channel",
    "start": "33280",
    "end": "35000"
  },
  {
    "text": "Commerce and we also think of Next",
    "start": "35000",
    "end": "37600"
  },
  {
    "text": "Generation in Store retail and a",
    "start": "37600",
    "end": "41280"
  },
  {
    "text": "majority of these applications are uh",
    "start": "41280",
    "end": "44000"
  },
  {
    "text": "built and run on the Walmart Cloud",
    "start": "44000",
    "end": "46559"
  },
  {
    "text": "native platform which is what I'm going",
    "start": "46559",
    "end": "48440"
  },
  {
    "text": "to talk to you about today so uh first",
    "start": "48440",
    "end": "51680"
  },
  {
    "text": "we'll just uh uh go over an overview of",
    "start": "51680",
    "end": "55280"
  },
  {
    "text": "the platform to get an idea of what this",
    "start": "55280",
    "end": "57359"
  },
  {
    "text": "platform is and what it does and then uh",
    "start": "57359",
    "end": "60519"
  },
  {
    "text": "dive into how we've extended kubernetes",
    "start": "60519",
    "end": "63079"
  },
  {
    "text": "and managed application orchestration",
    "start": "63079",
    "end": "65239"
  },
  {
    "text": "across the",
    "start": "65239",
    "end": "67280"
  },
  {
    "text": "platform so Walmart began its Cloud",
    "start": "67280",
    "end": "69840"
  },
  {
    "text": "native Journey uh with kubernetes",
    "start": "69840",
    "end": "72520"
  },
  {
    "text": "clusters being adopted at Walmart stores",
    "start": "72520",
    "end": "75320"
  },
  {
    "text": "this is what we know as uh call our Edge",
    "start": "75320",
    "end": "78640"
  },
  {
    "text": "uh uh location and after that our",
    "start": "78640",
    "end": "82200"
  },
  {
    "text": "cluster footprint gradually increased",
    "start": "82200",
    "end": "84200"
  },
  {
    "text": "and moved into the cloud as well uh",
    "start": "84200",
    "end": "86640"
  },
  {
    "text": "which would be Walmart's private data",
    "start": "86640",
    "end": "88280"
  },
  {
    "text": "centers as well as uh public clouds that",
    "start": "88280",
    "end": "92799"
  },
  {
    "text": "Walmart is using uh after this is when",
    "start": "92799",
    "end": "96119"
  },
  {
    "text": "we actually started designing and",
    "start": "96119",
    "end": "97680"
  },
  {
    "text": "building our control plane which we did",
    "start": "97680",
    "end": "100000"
  },
  {
    "text": "over multiple phases and right now our",
    "start": "100000",
    "end": "102960"
  },
  {
    "text": "platform is the go-to platform for new",
    "start": "102960",
    "end": "105520"
  },
  {
    "text": "applications being built and developed",
    "start": "105520",
    "end": "107560"
  },
  {
    "text": "in",
    "start": "107560",
    "end": "109920"
  },
  {
    "text": "Walmart uh so the platform itself at a",
    "start": "110240",
    "end": "113200"
  },
  {
    "text": "very high level is a gitops based uh",
    "start": "113200",
    "end": "116719"
  },
  {
    "text": "platform it allows application",
    "start": "116719",
    "end": "119079"
  },
  {
    "text": "Developers to focus on their application",
    "start": "119079",
    "end": "122280"
  },
  {
    "text": "code and from then on the platform",
    "start": "122280",
    "end": "124799"
  },
  {
    "text": "manages pipelines for testing",
    "start": "124799",
    "end": "127599"
  },
  {
    "text": "integration and deployment of",
    "start": "127599",
    "end": "129560"
  },
  {
    "text": "applications to production uh and it's a",
    "start": "129560",
    "end": "132560"
  },
  {
    "text": "fully batteries included platform that",
    "start": "132560",
    "end": "135000"
  },
  {
    "text": "integrates with the entire Walmart",
    "start": "135000",
    "end": "136319"
  },
  {
    "text": "developer ecosystem and provides a",
    "start": "136319",
    "end": "138239"
  },
  {
    "text": "secure environment for running our",
    "start": "138239",
    "end": "140319"
  },
  {
    "text": "applications in production and uh lastly",
    "start": "140319",
    "end": "143560"
  },
  {
    "text": "it allows developers to focus on their",
    "start": "143560",
    "end": "145640"
  },
  {
    "text": "application code and takes care of",
    "start": "145640",
    "end": "148440"
  },
  {
    "text": "everything from that point on",
    "start": "148440",
    "end": "151760"
  },
  {
    "text": "so um operating this platform at Walmart",
    "start": "153040",
    "end": "156560"
  },
  {
    "text": "scale right so what does that mean uh so",
    "start": "156560",
    "end": "159280"
  },
  {
    "text": "Walmart scale is pretty big we have",
    "start": "159280",
    "end": "162040"
  },
  {
    "text": "thousands of stores we have thousands of",
    "start": "162040",
    "end": "164360"
  },
  {
    "text": "clusters deployed to each of these",
    "start": "164360",
    "end": "166360"
  },
  {
    "text": "stores and this forms one digital",
    "start": "166360",
    "end": "168840"
  },
  {
    "text": "geography which we call Edge and the",
    "start": "168840",
    "end": "172840"
  },
  {
    "text": "second digital geography that exists for",
    "start": "172840",
    "end": "174680"
  },
  {
    "text": "us is in Cloud where we have uh uh",
    "start": "174680",
    "end": "178440"
  },
  {
    "text": "clusters deployed in in multiple regions",
    "start": "178440",
    "end": "180879"
  },
  {
    "text": "and multiple countries as well and uh uh",
    "start": "180879",
    "end": "184560"
  },
  {
    "text": "this provides a very diverse environment",
    "start": "184560",
    "end": "186360"
  },
  {
    "text": "in which we need to run and operate our",
    "start": "186360",
    "end": "188400"
  },
  {
    "text": "controllers and our uh control",
    "start": "188400",
    "end": "191400"
  },
  {
    "text": "plane and over the years we initially",
    "start": "191400",
    "end": "193840"
  },
  {
    "text": "grew a lot in Edge and then we started",
    "start": "193840",
    "end": "195840"
  },
  {
    "text": "growing in cloud and we continue to grow",
    "start": "195840",
    "end": "197840"
  },
  {
    "text": "a lot in Edge and as well as in the",
    "start": "197840",
    "end": "202280"
  },
  {
    "text": "cloud so extending kubernetes so uh",
    "start": "202280",
    "end": "205319"
  },
  {
    "text": "generally when we think of extending",
    "start": "205319",
    "end": "206879"
  },
  {
    "text": "kubernetes uh we think of kubernetes",
    "start": "206879",
    "end": "209239"
  },
  {
    "text": "custom resource definitions which is uh",
    "start": "209239",
    "end": "212319"
  },
  {
    "text": "the way that we have also gone about in",
    "start": "212319",
    "end": "214720"
  },
  {
    "text": "extending kubernetes and uh combined",
    "start": "214720",
    "end": "217879"
  },
  {
    "text": "with our custom controllers this allows",
    "start": "217879",
    "end": "220040"
  },
  {
    "text": "us to implement our entire platform's",
    "start": "220040",
    "end": "221760"
  },
  {
    "text": "business",
    "start": "221760",
    "end": "222720"
  },
  {
    "text": "logic uh the custom",
    "start": "222720",
    "end": "225120"
  },
  {
    "text": "resources",
    "start": "225120",
    "end": "226720"
  },
  {
    "text": "uh are used to store the platform State",
    "start": "226720",
    "end": "229959"
  },
  {
    "text": "these can be uh combined into three",
    "start": "229959",
    "end": "232480"
  },
  {
    "text": "major categories the first is inventory",
    "start": "232480",
    "end": "235200"
  },
  {
    "text": "the second is networking and the third",
    "start": "235200",
    "end": "237400"
  },
  {
    "text": "is name spaces and applications",
    "start": "237400",
    "end": "240280"
  },
  {
    "text": "and uh the name spaces provide us an",
    "start": "240280",
    "end": "242599"
  },
  {
    "text": "abstraction to manage multi-tenancy in",
    "start": "242599",
    "end": "244319"
  },
  {
    "text": "the platform and applications provide a",
    "start": "244319",
    "end": "246159"
  },
  {
    "text": "mechanism to uh deploy applications out",
    "start": "246159",
    "end": "249079"
  },
  {
    "text": "to multiple",
    "start": "249079",
    "end": "251000"
  },
  {
    "text": "clusters uh high level overview of the",
    "start": "251000",
    "end": "254439"
  },
  {
    "text": "platform uh the control plane",
    "start": "254439",
    "end": "255959"
  },
  {
    "text": "architecture itself so uh you have your",
    "start": "255959",
    "end": "260239"
  },
  {
    "text": "groups of resources these store the",
    "start": "260239",
    "end": "262079"
  },
  {
    "text": "platform State uh some of these",
    "start": "262079",
    "end": "264199"
  },
  {
    "text": "controllers interact with resources",
    "start": "264199",
    "end": "266600"
  },
  {
    "text": "provided by other controllers itself so",
    "start": "266600",
    "end": "268479"
  },
  {
    "text": "for example inventory controller would",
    "start": "268479",
    "end": "271039"
  },
  {
    "text": "generate monitoring resources to monitor",
    "start": "271039",
    "end": "273479"
  },
  {
    "text": "your inventory and it would generate uh",
    "start": "273479",
    "end": "276199"
  },
  {
    "text": "networking resources to manage the DNS",
    "start": "276199",
    "end": "278680"
  },
  {
    "text": "records so you can load balance request",
    "start": "278680",
    "end": "280960"
  },
  {
    "text": "coming into a cluster or you can have an",
    "start": "280960",
    "end": "283360"
  },
  {
    "text": "a record to uh deploy uh to reach an",
    "start": "283360",
    "end": "287120"
  },
  {
    "text": "application that is deployed out to a",
    "start": "287120",
    "end": "288919"
  },
  {
    "text": "cluster and on the right side what you",
    "start": "288919",
    "end": "291160"
  },
  {
    "text": "see over here so these are our workload",
    "start": "291160",
    "end": "293600"
  },
  {
    "text": "clusters and we have a controller that",
    "start": "293600",
    "end": "296320"
  },
  {
    "text": "runs in each of our workload clusters as",
    "start": "296320",
    "end": "298080"
  },
  {
    "text": "well and uh that uh the and what you see",
    "start": "298080",
    "end": "302000"
  },
  {
    "text": "on the left side is a control plane",
    "start": "302000",
    "end": "303479"
  },
  {
    "text": "cluster so there would be one control",
    "start": "303479",
    "end": "305120"
  },
  {
    "text": "plane cluster but several thousand",
    "start": "305120",
    "end": "307000"
  },
  {
    "text": "workload",
    "start": "307000",
    "end": "309440"
  },
  {
    "text": "clusters so application orchestration",
    "start": "310000",
    "end": "312720"
  },
  {
    "text": "right so when we peek under the hood um",
    "start": "312720",
    "end": "315120"
  },
  {
    "text": "there are three main facets of",
    "start": "315120",
    "end": "317080"
  },
  {
    "text": "application orchestration the first",
    "start": "317080",
    "end": "319080"
  },
  {
    "text": "facet is the Hub and spoke design which",
    "start": "319080",
    "end": "321639"
  },
  {
    "text": "is what I just spoke about you have a",
    "start": "321639",
    "end": "323680"
  },
  {
    "text": "central controller which is your Hub and",
    "start": "323680",
    "end": "326160"
  },
  {
    "text": "you have an endpoint controller which is",
    "start": "326160",
    "end": "328280"
  },
  {
    "text": "your spoke and and the way we have uh",
    "start": "328280",
    "end": "331199"
  },
  {
    "text": "implemented this is we have a",
    "start": "331199",
    "end": "333440"
  },
  {
    "text": "multicluster application",
    "start": "333440",
    "end": "335479"
  },
  {
    "text": "specification uh this is generated by uh",
    "start": "335479",
    "end": "338800"
  },
  {
    "text": "gitops pipeline right so uh uh developer",
    "start": "338800",
    "end": "342600"
  },
  {
    "text": "wrs code commits it to git a pipeline is",
    "start": "342600",
    "end": "344919"
  },
  {
    "text": "executed which generates a multicluster",
    "start": "344919",
    "end": "347199"
  },
  {
    "text": "application",
    "start": "347199",
    "end": "348280"
  },
  {
    "text": "specification uh that specification is",
    "start": "348280",
    "end": "350560"
  },
  {
    "text": "then",
    "start": "350560",
    "end": "351400"
  },
  {
    "text": "reconciled by the controller generates a",
    "start": "351400",
    "end": "354440"
  },
  {
    "text": "cluster application specification which",
    "start": "354440",
    "end": "357440"
  },
  {
    "text": "uh represents a single Di deployment to",
    "start": "357440",
    "end": "360440"
  },
  {
    "text": "a cluster uh when I uh say deployment",
    "start": "360440",
    "end": "363960"
  },
  {
    "text": "here I don't mean a deployment in the",
    "start": "363960",
    "end": "366479"
  },
  {
    "text": "kubernetes sense of a deployment but I",
    "start": "366479",
    "end": "368120"
  },
  {
    "text": "mean a Helm release we treat Helm as an",
    "start": "368120",
    "end": "370840"
  },
  {
    "text": "atomic unit for managing uh releases out",
    "start": "370840",
    "end": "374759"
  },
  {
    "text": "to our workload uh clusters and uh the",
    "start": "374759",
    "end": "379199"
  },
  {
    "text": "endpoint controller in this case it",
    "start": "379199",
    "end": "381840"
  },
  {
    "text": "synchronizes uh an application",
    "start": "381840",
    "end": "384039"
  },
  {
    "text": "specification and then triggers a job",
    "start": "384039",
    "end": "386919"
  },
  {
    "text": "which actually manages uh deployment and",
    "start": "386919",
    "end": "389599"
  },
  {
    "text": "all the hooks necessary for uh before a",
    "start": "389599",
    "end": "392880"
  },
  {
    "text": "deployment and then after a",
    "start": "392880",
    "end": "395720"
  },
  {
    "text": "deployment the second facet of design is",
    "start": "395720",
    "end": "399520"
  },
  {
    "text": "in Fleet orchestration so um here you",
    "start": "399520",
    "end": "403080"
  },
  {
    "text": "can see a multi-laser application",
    "start": "403080",
    "end": "404520"
  },
  {
    "text": "specification it uh provides a Helm",
    "start": "404520",
    "end": "407880"
  },
  {
    "text": "chart and a set of values and then a set",
    "start": "407880",
    "end": "411360"
  },
  {
    "text": "of targets to which this application",
    "start": "411360",
    "end": "413680"
  },
  {
    "text": "needs to be deployed out to and uh we",
    "start": "413680",
    "end": "418000"
  },
  {
    "text": "allow uh developers to provide a static",
    "start": "418000",
    "end": "421360"
  },
  {
    "text": "list of targets which is pretty limited",
    "start": "421360",
    "end": "424599"
  },
  {
    "text": "and generally used in our uh lower",
    "start": "424599",
    "end": "427039"
  },
  {
    "text": "environments but in production we allow",
    "start": "427039",
    "end": "429599"
  },
  {
    "text": "developers to uh Target a fleet of",
    "start": "429599",
    "end": "433440"
  },
  {
    "text": "clusters and for about 80% of the use",
    "start": "433440",
    "end": "436240"
  },
  {
    "text": "case we have platform defined fleets but",
    "start": "436240",
    "end": "439720"
  },
  {
    "text": "for about 20% of the use case we need to",
    "start": "439720",
    "end": "441800"
  },
  {
    "text": "allow uh application teams to provide",
    "start": "441800",
    "end": "444720"
  },
  {
    "text": "their own uh cluster Fleet specs and",
    "start": "444720",
    "end": "448199"
  },
  {
    "text": "cluster Fleet specification itself can",
    "start": "448199",
    "end": "450160"
  },
  {
    "text": "be defined in two ways either a static",
    "start": "450160",
    "end": "452479"
  },
  {
    "text": "list of clusters or a bunch of label",
    "start": "452479",
    "end": "456039"
  },
  {
    "text": "selectors and we also have a controller",
    "start": "456039",
    "end": "458759"
  },
  {
    "text": "that would based on a cluster Fleet spec",
    "start": "458759",
    "end": "461680"
  },
  {
    "text": "uh generate a list of clusters because",
    "start": "461680",
    "end": "463879"
  },
  {
    "text": "inventory is always changing a cluster",
    "start": "463879",
    "end": "465680"
  },
  {
    "text": "can be added removed from inventory and",
    "start": "465680",
    "end": "469000"
  },
  {
    "text": "uh in that case we need to keep an",
    "start": "469000",
    "end": "471479"
  },
  {
    "text": "updated version of our",
    "start": "471479",
    "end": "473919"
  },
  {
    "text": "fleets and third facet of uh our uh",
    "start": "473919",
    "end": "479319"
  },
  {
    "text": "application orchestration is about how",
    "start": "479319",
    "end": "481800"
  },
  {
    "text": "we manage to scale this whole thing up",
    "start": "481800",
    "end": "484440"
  },
  {
    "text": "so U again on the left side you have um",
    "start": "484440",
    "end": "488400"
  },
  {
    "text": "cluster application specification which",
    "start": "488400",
    "end": "491199"
  },
  {
    "text": "is reconciled you have uh uh",
    "start": "491199",
    "end": "495520"
  },
  {
    "text": "specification for each individual",
    "start": "495520",
    "end": "497159"
  },
  {
    "text": "cluster and this is synchronized to the",
    "start": "497159",
    "end": "499919"
  },
  {
    "text": "endpoint but our endpoint uh clusters",
    "start": "499919",
    "end": "503120"
  },
  {
    "text": "are of two types one run in an edge",
    "start": "503120",
    "end": "505599"
  },
  {
    "text": "location where CPU memory network is",
    "start": "505599",
    "end": "508680"
  },
  {
    "text": "very restrict Ed and we need to conserve",
    "start": "508680",
    "end": "510879"
  },
  {
    "text": "on those resources and the second kind",
    "start": "510879",
    "end": "513360"
  },
  {
    "text": "of uh environment we operate in is cloud",
    "start": "513360",
    "end": "516599"
  },
  {
    "text": "where all these resources are available",
    "start": "516599",
    "end": "518560"
  },
  {
    "text": "in plenty and uh we can easily",
    "start": "518560",
    "end": "521719"
  },
  {
    "text": "synchronize uh a large number of",
    "start": "521719",
    "end": "523640"
  },
  {
    "text": "resources",
    "start": "523640",
    "end": "525160"
  },
  {
    "text": "instantly uh so to scale up and handle",
    "start": "525160",
    "end": "528600"
  },
  {
    "text": "the thousands of edge locations that we",
    "start": "528600",
    "end": "531160"
  },
  {
    "text": "have we uh also maintain an index of",
    "start": "531160",
    "end": "534959"
  },
  {
    "text": "every cluster which uh is updated",
    "start": "534959",
    "end": "538680"
  },
  {
    "text": "whenever any single application deployed",
    "start": "538680",
    "end": "540800"
  },
  {
    "text": "to that cluster changes and this single",
    "start": "540800",
    "end": "543920"
  },
  {
    "text": "index Which is less than a KB in size uh",
    "start": "543920",
    "end": "547279"
  },
  {
    "text": "normally is what is synchronized to an",
    "start": "547279",
    "end": "549320"
  },
  {
    "text": "endpoint so it's pretty low on network",
    "start": "549320",
    "end": "551839"
  },
  {
    "text": "the second aspect of scaling up is uh",
    "start": "551839",
    "end": "555160"
  },
  {
    "text": "our deployments are actually executed by",
    "start": "555160",
    "end": "557279"
  },
  {
    "text": "kubernetes jobs so uh these jobs are",
    "start": "557279",
    "end": "560600"
  },
  {
    "text": "triggered by the endpoint controller and",
    "start": "560600",
    "end": "562760"
  },
  {
    "text": "the jobs itself are where most of the",
    "start": "562760",
    "end": "564880"
  },
  {
    "text": "resources get used up during a",
    "start": "564880",
    "end": "567200"
  },
  {
    "text": "deployment and this allows us to keep",
    "start": "567200",
    "end": "569640"
  },
  {
    "text": "our endpoint controller pretty",
    "start": "569640",
    "end": "571160"
  },
  {
    "text": "lightweight on CPU memory as well as",
    "start": "571160",
    "end": "574279"
  },
  {
    "text": "network uh and this has really helped us",
    "start": "574279",
    "end": "576720"
  },
  {
    "text": "in scaling out to Edge where these",
    "start": "576720",
    "end": "578560"
  },
  {
    "text": "resources are very restricted and",
    "start": "578560",
    "end": "581279"
  },
  {
    "text": "generally deployments in Edge also",
    "start": "581279",
    "end": "582680"
  },
  {
    "text": "happen at night when stores are closed",
    "start": "582680",
    "end": "584839"
  },
  {
    "text": "so uh that time we do have a few more",
    "start": "584839",
    "end": "586880"
  },
  {
    "text": "resources available uh to deploy new",
    "start": "586880",
    "end": "589800"
  },
  {
    "text": "versions of an application",
    "start": "589800",
    "end": "591959"
  },
  {
    "text": "out um so why did we do all this right",
    "start": "591959",
    "end": "595560"
  },
  {
    "text": "uh the control plane design and its",
    "start": "595560",
    "end": "598640"
  },
  {
    "text": "architecture cure began in 2019 at that",
    "start": "598640",
    "end": "602440"
  },
  {
    "text": "time there was a community called Sig",
    "start": "602440",
    "end": "604800"
  },
  {
    "text": "multicluster there were a lot of",
    "start": "604800",
    "end": "606320"
  },
  {
    "text": "projects under that community and uh we",
    "start": "606320",
    "end": "609560"
  },
  {
    "text": "still went and designed and implemented",
    "start": "609560",
    "end": "612200"
  },
  {
    "text": "a custom solution so the main reasons",
    "start": "612200",
    "end": "614440"
  },
  {
    "text": "for this was uh our Edge environment was",
    "start": "614440",
    "end": "618880"
  },
  {
    "text": "very different from what most of the uh",
    "start": "618880",
    "end": "622160"
  },
  {
    "text": "these projects were targeting so we",
    "start": "622160",
    "end": "623880"
  },
  {
    "text": "needed to focus on wcnp edge and that",
    "start": "623880",
    "end": "626800"
  },
  {
    "text": "really required a custom solution the",
    "start": "626800",
    "end": "628760"
  },
  {
    "text": "second reason was uh uh that we had a",
    "start": "628760",
    "end": "632240"
  },
  {
    "text": "unique set of challenges in the sense",
    "start": "632240",
    "end": "634040"
  },
  {
    "text": "that our control plane uh uh came after",
    "start": "634040",
    "end": "637800"
  },
  {
    "text": "the platform itself so we built the",
    "start": "637800",
    "end": "639600"
  },
  {
    "text": "control plane after we already had a",
    "start": "639600",
    "end": "641320"
  },
  {
    "text": "large chunk of the platform uh running",
    "start": "641320",
    "end": "643120"
  },
  {
    "text": "in production and uh the last reason was",
    "start": "643120",
    "end": "647959"
  },
  {
    "text": "one of the design goals in our control",
    "start": "647959",
    "end": "650160"
  },
  {
    "text": "plane architecture was to offload as",
    "start": "650160",
    "end": "652399"
  },
  {
    "text": "much as we can to the kubernetes control",
    "start": "652399",
    "end": "654839"
  },
  {
    "text": "plane itself so we did not want to",
    "start": "654839",
    "end": "657399"
  },
  {
    "text": "reinvent the wheel in the sense of of",
    "start": "657399",
    "end": "659279"
  },
  {
    "text": "creating maybe a multicluster deployment",
    "start": "659279",
    "end": "661279"
  },
  {
    "text": "and a multicluster stateful set or a",
    "start": "661279",
    "end": "663519"
  },
  {
    "text": "multicluster demon set we wanted to uh",
    "start": "663519",
    "end": "667120"
  },
  {
    "text": "rely on Helm and then rely on the",
    "start": "667120",
    "end": "669440"
  },
  {
    "text": "kubernetes controllers to manage",
    "start": "669440",
    "end": "671560"
  },
  {
    "text": "deployments replica set stateful sets",
    "start": "671560",
    "end": "673639"
  },
  {
    "text": "because kubernetes does that really well",
    "start": "673639",
    "end": "675959"
  },
  {
    "text": "and we wanted to be able to leverage",
    "start": "675959",
    "end": "678399"
  },
  {
    "text": "that but we still wanted to be able to",
    "start": "678399",
    "end": "680639"
  },
  {
    "text": "represent our name spaces and",
    "start": "680639",
    "end": "682600"
  },
  {
    "text": "applications in an abstract form in a",
    "start": "682600",
    "end": "684880"
  },
  {
    "text": "control plane um and the easiest",
    "start": "684880",
    "end": "688120"
  },
  {
    "text": "solution for that was to build something",
    "start": "688120",
    "end": "691600"
  },
  {
    "text": "of our own and uh because the community",
    "start": "691600",
    "end": "696279"
  },
  {
    "text": "projects out there did not fit exactly",
    "start": "696279",
    "end": "698680"
  },
  {
    "text": "what we were looking",
    "start": "698680",
    "end": "701800"
  },
  {
    "text": "for um so some of the lessons that we",
    "start": "702200",
    "end": "704720"
  },
  {
    "text": "learned along the way right um and some",
    "start": "704720",
    "end": "708160"
  },
  {
    "text": "of the challenges that we face so one",
    "start": "708160",
    "end": "710079"
  },
  {
    "text": "was building performance controllers uh",
    "start": "710079",
    "end": "712240"
  },
  {
    "text": "especially when talking to external",
    "start": "712240",
    "end": "713880"
  },
  {
    "text": "networks and uh making external API",
    "start": "713880",
    "end": "717079"
  },
  {
    "text": "calls performance of a controller is uh",
    "start": "717079",
    "end": "719639"
  },
  {
    "text": "important in very two key aspects the",
    "start": "719639",
    "end": "722200"
  },
  {
    "text": "first is uh ensuring that your reconcile",
    "start": "722200",
    "end": "725600"
  },
  {
    "text": "Loop finishes really quickly and then",
    "start": "725600",
    "end": "728639"
  },
  {
    "text": "the second is in ensuring that say if",
    "start": "728639",
    "end": "730839"
  },
  {
    "text": "your controller restarts you do not",
    "start": "730839",
    "end": "732880"
  },
  {
    "text": "bombard and dos an external service so",
    "start": "732880",
    "end": "736000"
  },
  {
    "text": "uh we did face challenges around that",
    "start": "736000",
    "end": "738680"
  },
  {
    "text": "and uh we have been able to fix all of",
    "start": "738680",
    "end": "740959"
  },
  {
    "text": "those challenges uh one of the other",
    "start": "740959",
    "end": "743240"
  },
  {
    "text": "challenges that we faced was with",
    "start": "743240",
    "end": "745560"
  },
  {
    "text": "scaling up the kubernetes API server",
    "start": "745560",
    "end": "747519"
  },
  {
    "text": "itself because as platform scale there",
    "start": "747519",
    "end": "749519"
  },
  {
    "text": "were a lot of requests coming into this",
    "start": "749519",
    "end": "750920"
  },
  {
    "text": "API server and we fixed that or worked",
    "start": "750920",
    "end": "754959"
  },
  {
    "text": "around that by caching almost all our",
    "start": "754959",
    "end": "757279"
  },
  {
    "text": "platform state in memory and most of the",
    "start": "757279",
    "end": "760120"
  },
  {
    "text": "consumers of any platform State uh use",
    "start": "760120",
    "end": "763320"
  },
  {
    "text": "apis and uh get the data they need from",
    "start": "763320",
    "end": "766880"
  },
  {
    "text": "a cache instead of directly from the",
    "start": "766880",
    "end": "768839"
  },
  {
    "text": "kubernetes",
    "start": "768839",
    "end": "770240"
  },
  {
    "text": "cluster uh one other uh challenge that",
    "start": "770240",
    "end": "774320"
  },
  {
    "text": "we faced uh and uh uh",
    "start": "774320",
    "end": "779760"
  },
  {
    "text": "was in local development and testing so",
    "start": "779760",
    "end": "782519"
  },
  {
    "text": "we saw this using kind uh as kind became",
    "start": "782519",
    "end": "785760"
  },
  {
    "text": "more stable it uh really solved the",
    "start": "785760",
    "end": "788040"
  },
  {
    "text": "problem for us so kind is about running",
    "start": "788040",
    "end": "790199"
  },
  {
    "text": "kubernetes and Docker which allowed us",
    "start": "790199",
    "end": "791880"
  },
  {
    "text": "to run everything locally on our laptop",
    "start": "791880",
    "end": "794600"
  },
  {
    "text": "and that really spreed up the process",
    "start": "794600",
    "end": "795920"
  },
  {
    "text": "for development for us um the other",
    "start": "795920",
    "end": "798800"
  },
  {
    "text": "problems that we faced were around",
    "start": "798800",
    "end": "800560"
  },
  {
    "text": "synchronization of the specification and",
    "start": "800560",
    "end": "803000"
  },
  {
    "text": "status from a control plane Hub to an",
    "start": "803000",
    "end": "805560"
  },
  {
    "text": "endpoint spoke and the last was on",
    "start": "805560",
    "end": "808839"
  },
  {
    "text": "cross-cluster",
    "start": "808839",
    "end": "809839"
  },
  {
    "text": "finalization this itself is not really",
    "start": "809839",
    "end": "812279"
  },
  {
    "text": "solved for us uh completely but we do",
    "start": "812279",
    "end": "815880"
  },
  {
    "text": "not see any operational issues from it",
    "start": "815880",
    "end": "818199"
  },
  {
    "text": "on a day-to-day basis and uh it's",
    "start": "818199",
    "end": "820720"
  },
  {
    "text": "something that we're still looking to",
    "start": "820720",
    "end": "821760"
  },
  {
    "text": "solve so if anyone has any ideas please",
    "start": "821760",
    "end": "823880"
  },
  {
    "text": "email me we would love to hear these",
    "start": "823880",
    "end": "826040"
  },
  {
    "text": "ideas and uh uh you know some of the",
    "start": "826040",
    "end": "829839"
  },
  {
    "text": "things that worked well for us was",
    "start": "829839",
    "end": "831920"
  },
  {
    "text": "extending kubernetes there was a lot of",
    "start": "831920",
    "end": "833600"
  },
  {
    "text": "famili familiarity in the team with",
    "start": "833600",
    "end": "835920"
  },
  {
    "text": "kubernetes and extending kubernetes was",
    "start": "835920",
    "end": "838279"
  },
  {
    "text": "really helpful",
    "start": "838279",
    "end": "839639"
  },
  {
    "text": "uh the second major thing that worked",
    "start": "839639",
    "end": "841639"
  },
  {
    "text": "really well for us was using Helm as an",
    "start": "841639",
    "end": "843680"
  },
  {
    "text": "atomic unit and not using any of the",
    "start": "843680",
    "end": "846160"
  },
  {
    "text": "kuet core resources like deployments or",
    "start": "846160",
    "end": "848399"
  },
  {
    "text": "stateful sets or demon sets um some of",
    "start": "848399",
    "end": "851639"
  },
  {
    "text": "the things that didn't work well for us",
    "start": "851639",
    "end": "853360"
  },
  {
    "text": "was in scaling atcd we uh have a pretty",
    "start": "853360",
    "end": "857600"
  },
  {
    "text": "large atcd cluster at this point uh etcd",
    "start": "857600",
    "end": "860800"
  },
  {
    "text": "itself uh by default comes with a 2GB",
    "start": "860800",
    "end": "863839"
  },
  {
    "text": "limit uh as of now we've increased that",
    "start": "863839",
    "end": "866399"
  },
  {
    "text": "limit to 8GB and things are very",
    "start": "866399",
    "end": "868720"
  },
  {
    "text": "sluggish when reading and writing to hcd",
    "start": "868720",
    "end": "871399"
  },
  {
    "text": "and this is a problem that we are",
    "start": "871399",
    "end": "872440"
  },
  {
    "text": "looking to solve going",
    "start": "872440",
    "end": "874680"
  },
  {
    "text": "forward uh the last one I want to tell",
    "start": "874680",
    "end": "876920"
  },
  {
    "text": "you about is about having monolithic crd",
    "start": "876920",
    "end": "879519"
  },
  {
    "text": "specs so this is something you need to",
    "start": "879519",
    "end": "881519"
  },
  {
    "text": "be very careful about when uh designing",
    "start": "881519",
    "end": "883959"
  },
  {
    "text": "a specification initially because an",
    "start": "883959",
    "end": "886040"
  },
  {
    "text": "interface once in place can lead to uh",
    "start": "886040",
    "end": "889600"
  },
  {
    "text": "code base that becomes unmanageable down",
    "start": "889600",
    "end": "891320"
  },
  {
    "text": "the",
    "start": "891320",
    "end": "892000"
  },
  {
    "text": "line so some of the key takeaways for us",
    "start": "892000",
    "end": "895399"
  },
  {
    "text": "uh the first one was to partition early",
    "start": "895399",
    "end": "897360"
  },
  {
    "text": "if he had partitioned early we would",
    "start": "897360",
    "end": "898680"
  },
  {
    "text": "would not run into the problems with xcd",
    "start": "898680",
    "end": "901199"
  },
  {
    "text": "that we have run into now uh and another",
    "start": "901199",
    "end": "904600"
  },
  {
    "text": "one uh which are kind of related is for",
    "start": "904600",
    "end": "907279"
  },
  {
    "text": "building for failure and outages and for",
    "start": "907279",
    "end": "910199"
  },
  {
    "text": "implementing a robust and resilient",
    "start": "910199",
    "end": "912320"
  },
  {
    "text": "feedback loop because our system is uh",
    "start": "912320",
    "end": "914920"
  },
  {
    "text": "distributed in Edge locations where",
    "start": "914920",
    "end": "917560"
  },
  {
    "text": "network is patchy there could be a storm",
    "start": "917560",
    "end": "919360"
  },
  {
    "text": "there could be an outage of one day 2",
    "start": "919360",
    "end": "921000"
  },
  {
    "text": "days and uh uh we uh realized that as we",
    "start": "921000",
    "end": "926320"
  },
  {
    "text": "scaled up and we hit more and more",
    "start": "926320",
    "end": "928720"
  },
  {
    "text": "natural disasters at time or other",
    "start": "928720",
    "end": "931199"
  },
  {
    "text": "issues uh we have seen operational",
    "start": "931199",
    "end": "934519"
  },
  {
    "text": "issues arise from feedback loops that",
    "start": "934519",
    "end": "937360"
  },
  {
    "text": "are not resilient enough for this",
    "start": "937360",
    "end": "939839"
  },
  {
    "text": "environment and U sometimes we've had",
    "start": "939839",
    "end": "943160"
  },
  {
    "text": "outages itself of the control plane and",
    "start": "943160",
    "end": "945959"
  },
  {
    "text": "that has also been an issue for us in",
    "start": "945959",
    "end": "947600"
  },
  {
    "text": "the past um the last thing I want to",
    "start": "947600",
    "end": "950120"
  },
  {
    "text": "leave you with is uh kubernetes is a",
    "start": "950120",
    "end": "952440"
  },
  {
    "text": "really great platform for building other",
    "start": "952440",
    "end": "954160"
  },
  {
    "text": "platforms it provides a lot of",
    "start": "954160",
    "end": "956360"
  },
  {
    "text": "mechanisms to extend and it's a great",
    "start": "956360",
    "end": "959480"
  },
  {
    "text": "place to start because your team is",
    "start": "959480",
    "end": "960720"
  },
  {
    "text": "already familiar with kubernetes but",
    "start": "960720",
    "end": "962839"
  },
  {
    "text": "it's not always the end goal the end",
    "start": "962839",
    "end": "965759"
  },
  {
    "text": "goal is to build a platform and",
    "start": "965759",
    "end": "967360"
  },
  {
    "text": "sometimes apis and databases and the way",
    "start": "967360",
    "end": "969920"
  },
  {
    "text": "of doing things that we've always had",
    "start": "969920",
    "end": "971839"
  },
  {
    "text": "works better and uh we hope to be able",
    "start": "971839",
    "end": "975839"
  },
  {
    "text": "to open source things uh in the future",
    "start": "975839",
    "end": "979319"
  },
  {
    "text": "uh we have shared in the with the",
    "start": "979319",
    "end": "981480"
  },
  {
    "text": "community in the past in a previous",
    "start": "981480",
    "end": "983160"
  },
  {
    "text": "cubec con and we're sharing with you all",
    "start": "983160",
    "end": "985440"
  },
  {
    "text": "again today and we hope to keep doing",
    "start": "985440",
    "end": "987160"
  },
  {
    "text": "that and we would love to hear from any",
    "start": "987160",
    "end": "990240"
  },
  {
    "text": "of you all so if you want to reach out",
    "start": "990240",
    "end": "991880"
  },
  {
    "text": "to me please do and thank you for your",
    "start": "991880",
    "end": "996000"
  },
  {
    "text": "time",
    "start": "996000",
    "end": "999000"
  }
]