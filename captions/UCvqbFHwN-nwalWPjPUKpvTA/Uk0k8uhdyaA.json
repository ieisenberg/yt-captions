[
  {
    "text": "good morning everyone I'm Kush a",
    "start": "280",
    "end": "2320"
  },
  {
    "text": "platform engineer at deev and we are",
    "start": "2320",
    "end": "4600"
  },
  {
    "text": "thrilled to be here at s and today we",
    "start": "4600",
    "end": "7680"
  },
  {
    "text": "are not just going to talk about the",
    "start": "7680",
    "end": "9160"
  },
  {
    "text": "challenges she had with Theo but we hope",
    "start": "9160",
    "end": "11880"
  },
  {
    "text": "that we may experience it together so",
    "start": "11880",
    "end": "14320"
  },
  {
    "text": "before we start by a show off fans can I",
    "start": "14320",
    "end": "16240"
  },
  {
    "text": "know how many of you had fa challenges",
    "start": "16240",
    "end": "18279"
  },
  {
    "text": "while scaling scaling or configuring sto",
    "start": "18279",
    "end": "20160"
  },
  {
    "text": "into your",
    "start": "20160",
    "end": "22320"
  },
  {
    "text": "organization",
    "start": "22320",
    "end": "23840"
  },
  {
    "text": "nice and how many of you had triumphs",
    "start": "23840",
    "end": "27400"
  },
  {
    "text": "with sto which may uh in in sense that",
    "start": "27400",
    "end": "30359"
  },
  {
    "text": "it you made your performance better or",
    "start": "30359",
    "end": "32558"
  },
  {
    "text": "it made your platform more Reliant or",
    "start": "32559",
    "end": "34079"
  },
  {
    "text": "more",
    "start": "34079",
    "end": "35840"
  },
  {
    "text": "robust oh quite a",
    "start": "35840",
    "end": "38680"
  },
  {
    "text": "few so we hope that uh we may be able to",
    "start": "38680",
    "end": "41960"
  },
  {
    "text": "address few of the challenges which you",
    "start": "41960",
    "end": "43879"
  },
  {
    "text": "might have faced and we hope that the",
    "start": "43879",
    "end": "45960"
  },
  {
    "text": "number of hands in the nday may increase",
    "start": "45960",
    "end": "48920"
  },
  {
    "text": "where s had improved your performance or",
    "start": "48920",
    "end": "51079"
  },
  {
    "text": "Reliance of your platform so B because",
    "start": "51079",
    "end": "54480"
  },
  {
    "text": "we are going to embark on a journey of",
    "start": "54480",
    "end": "56359"
  },
  {
    "text": "Dev rev tinkering with Theo exploring",
    "start": "56359",
    "end": "59120"
  },
  {
    "text": "vast capabilities understanding the",
    "start": "59120",
    "end": "60640"
  },
  {
    "text": "hurdles and celebrating the victories so",
    "start": "60640",
    "end": "62719"
  },
  {
    "text": "today I have with me kbu who is",
    "start": "62719",
    "end": "64320"
  },
  {
    "text": "infrastructure and security engineer at",
    "start": "64320",
    "end": "65640"
  },
  {
    "text": "deev so over to you hey everyone so a",
    "start": "65640",
    "end": "70159"
  },
  {
    "text": "little bit about Debra can you hear me",
    "start": "70159",
    "end": "73640"
  },
  {
    "text": "right it's",
    "start": "73640",
    "end": "76840"
  },
  {
    "text": "on okay um so yeah at De we creating",
    "start": "77880",
    "end": "81360"
  },
  {
    "text": "world's most uh customer centering",
    "start": "81360",
    "end": "83600"
  },
  {
    "text": "companies by bringing customers voice to",
    "start": "83600",
    "end": "85640"
  },
  {
    "text": "software development you can head out to",
    "start": "85640",
    "end": "87720"
  },
  {
    "text": "our website using the QR code here and",
    "start": "87720",
    "end": "90720"
  },
  {
    "text": "uh to know more and try it out for",
    "start": "90720",
    "end": "92640"
  },
  {
    "text": "yourself so as any other modern SI",
    "start": "92640",
    "end": "95479"
  },
  {
    "text": "company at De we use microservices and",
    "start": "95479",
    "end": "97600"
  },
  {
    "text": "we use kubernetes to deploy them and",
    "start": "97600",
    "end": "99880"
  },
  {
    "text": "there are just so many ways of doing",
    "start": "99880",
    "end": "101399"
  },
  {
    "text": "this to call any one way a right way or",
    "start": "101399",
    "end": "104200"
  },
  {
    "text": "you know a wrong way or the best way so",
    "start": "104200",
    "end": "106240"
  },
  {
    "text": "we're going to take you through a",
    "start": "106240",
    "end": "107119"
  },
  {
    "text": "journey on how we began and what our",
    "start": "107119",
    "end": "109479"
  },
  {
    "text": "Network infrastructure looked like and",
    "start": "109479",
    "end": "111280"
  },
  {
    "text": "then how it looks today after we have",
    "start": "111280",
    "end": "112759"
  },
  {
    "text": "adapted is so this is a very high level",
    "start": "112759",
    "end": "115600"
  },
  {
    "text": "architecture how things looked pre ISO",
    "start": "115600",
    "end": "118759"
  },
  {
    "text": "so we used EX external load balancers",
    "start": "118759",
    "end": "121200"
  },
  {
    "text": "for handling our external traffic as",
    "start": "121200",
    "end": "123560"
  },
  {
    "text": "well as internal traffic as well and",
    "start": "123560",
    "end": "125759"
  },
  {
    "text": "within the cluster we leveraged",
    "start": "125759",
    "end": "127200"
  },
  {
    "text": "kubernetes native objects ingresses",
    "start": "127200",
    "end": "129080"
  },
  {
    "text": "service pods everything to manage our",
    "start": "129080",
    "end": "130800"
  },
  {
    "text": "traffic and uh we had one Ingress per",
    "start": "130800",
    "end": "133680"
  },
  {
    "text": "Nam space which was essentially for one",
    "start": "133680",
    "end": "135920"
  },
  {
    "text": "microservice so this kept one service",
    "start": "135920",
    "end": "139200"
  },
  {
    "text": "owner to be in total control of their",
    "start": "139200",
    "end": "140920"
  },
  {
    "text": "Nam space and ingresses and everything",
    "start": "140920",
    "end": "143080"
  },
  {
    "text": "you'll might notice that how",
    "start": "143080",
    "end": "144800"
  },
  {
    "text": "communication between different Services",
    "start": "144800",
    "end": "146800"
  },
  {
    "text": "is also happening externally through the",
    "start": "146800",
    "end": "148519"
  },
  {
    "text": "load balancer and not talking to service",
    "start": "148519",
    "end": "150720"
  },
  {
    "text": "directly so there were a couple of",
    "start": "150720",
    "end": "152239"
  },
  {
    "text": "reasons for doing so one such reasons",
    "start": "152239",
    "end": "154879"
  },
  {
    "text": "was service Discovery so service",
    "start": "154879",
    "end": "157560"
  },
  {
    "text": "Discovery is native to kubernetes",
    "start": "157560",
    "end": "159519"
  },
  {
    "text": "however after a certain scale it's not",
    "start": "159519",
    "end": "161280"
  },
  {
    "text": "as reliable so we chose to use it use",
    "start": "161280",
    "end": "163879"
  },
  {
    "text": "the ALB and uh the other reason is lack",
    "start": "163879",
    "end": "167080"
  },
  {
    "text": "of load balancing options you get just",
    "start": "167080",
    "end": "169040"
  },
  {
    "text": "with service you can just do a round",
    "start": "169040",
    "end": "170360"
  },
  {
    "text": "robin but that's not enough and so we",
    "start": "170360",
    "end": "172920"
  },
  {
    "text": "chose to do a ALB uh use an external ALB",
    "start": "172920",
    "end": "176760"
  },
  {
    "text": "the third reason was to have a little",
    "start": "176760",
    "end": "179080"
  },
  {
    "text": "bit more insight to how our network is",
    "start": "179080",
    "end": "180720"
  },
  {
    "text": "behaving and what kind of traffic is",
    "start": "180720",
    "end": "182360"
  },
  {
    "text": "flowing through it which was absent",
    "start": "182360",
    "end": "185200"
  },
  {
    "text": "without an Ingress on an ALB so now this",
    "start": "185200",
    "end": "188799"
  },
  {
    "text": "is how it looks today so a very first",
    "start": "188799",
    "end": "192000"
  },
  {
    "text": "observation might one might have is that",
    "start": "192000",
    "end": "194280"
  },
  {
    "text": "instead of having ingresses per name",
    "start": "194280",
    "end": "195879"
  },
  {
    "text": "space we just have one which is taking",
    "start": "195879",
    "end": "198080"
  },
  {
    "text": "care of all external traffic that's",
    "start": "198080",
    "end": "199599"
  },
  {
    "text": "flowing in the cluster that Ingress is",
    "start": "199599",
    "end": "201879"
  },
  {
    "text": "the iso Ingress Gateway that we have it",
    "start": "201879",
    "end": "204280"
  },
  {
    "text": "sits in the io system Nam space",
    "start": "204280",
    "end": "206760"
  },
  {
    "text": "separately and handles all the traffic",
    "start": "206760",
    "end": "208840"
  },
  {
    "text": "for service specific spefic traffic",
    "start": "208840",
    "end": "210560"
  },
  {
    "text": "however we use combination of virtual",
    "start": "210560",
    "end": "212480"
  },
  {
    "text": "services and destination rules to do",
    "start": "212480",
    "end": "215319"
  },
  {
    "text": "traffic manipulations and traffic",
    "start": "215319",
    "end": "217120"
  },
  {
    "text": "management spe you know targeted for",
    "start": "217120",
    "end": "219040"
  },
  {
    "text": "those name spaces so we're going to talk",
    "start": "219040",
    "end": "221480"
  },
  {
    "text": "more about this as we go so first thing",
    "start": "221480",
    "end": "224080"
  },
  {
    "text": "first why did we even do that why did we",
    "start": "224080",
    "end": "226159"
  },
  {
    "text": "even choose to go this route and why",
    "start": "226159",
    "end": "228280"
  },
  {
    "text": "chose a service mesh so service mesh",
    "start": "228280",
    "end": "230680"
  },
  {
    "text": "enables you to have a uniform way to",
    "start": "230680",
    "end": "232879"
  },
  {
    "text": "connect secure and manage your",
    "start": "232879",
    "end": "234920"
  },
  {
    "text": "microservices it enhances Communications",
    "start": "234920",
    "end": "237400"
  },
  {
    "text": "gives you more control on the cluster",
    "start": "237400",
    "end": "239439"
  },
  {
    "text": "and and you don't have to take my word",
    "start": "239439",
    "end": "240920"
  },
  {
    "text": "for it you can read nist guidelines they",
    "start": "240920",
    "end": "243040"
  },
  {
    "text": "say that for running any kubernetes",
    "start": "243040",
    "end": "245120"
  },
  {
    "text": "cluster using SEC service mesh is the",
    "start": "245120",
    "end": "247239"
  },
  {
    "text": "way to run them efficiently and securely",
    "start": "247239",
    "end": "249560"
  },
  {
    "text": "so service mesh AK ISO for the context",
    "start": "249560",
    "end": "252480"
  },
  {
    "text": "of this talk uh we're going to talk",
    "start": "252480",
    "end": "254319"
  },
  {
    "text": "about certain capabilities so",
    "start": "254319",
    "end": "256320"
  },
  {
    "text": "observability is generates detailed",
    "start": "256320",
    "end": "258799"
  },
  {
    "text": "Telemetry by default gives you more",
    "start": "258799",
    "end": "260799"
  },
  {
    "text": "insights into how your communicate",
    "start": "260799",
    "end": "262440"
  },
  {
    "text": "service are communicating to each other",
    "start": "262440",
    "end": "264479"
  },
  {
    "text": "and then enables you to debug issues",
    "start": "264479",
    "end": "267440"
  },
  {
    "text": "faster traffic management so so like I",
    "start": "267440",
    "end": "270320"
  },
  {
    "text": "said it's very limited when you use only",
    "start": "270320",
    "end": "272680"
  },
  {
    "text": "native kubernetes objects about what can",
    "start": "272680",
    "end": "274800"
  },
  {
    "text": "you can do for with traffic management",
    "start": "274800",
    "end": "276479"
  },
  {
    "text": "you have to rely on external load",
    "start": "276479",
    "end": "278120"
  },
  {
    "text": "balances and gateways for that with sto",
    "start": "278120",
    "end": "280720"
  },
  {
    "text": "you get a wide range of all traffic",
    "start": "280720",
    "end": "282919"
  },
  {
    "text": "management options you can choose from",
    "start": "282919",
    "end": "284479"
  },
  {
    "text": "load balancing options you can do things",
    "start": "284479",
    "end": "286280"
  },
  {
    "text": "like circuit breaking rate limiting tune",
    "start": "286280",
    "end": "288840"
  },
  {
    "text": "your timeouts and also um you know do",
    "start": "288840",
    "end": "292280"
  },
  {
    "text": "things like deployment techniques blue",
    "start": "292280",
    "end": "294039"
  },
  {
    "text": "blue green Canary and whatnot so that",
    "start": "294039",
    "end": "296600"
  },
  {
    "text": "gives an edge right um security very",
    "start": "296600",
    "end": "299160"
  },
  {
    "text": "important so with sto it has automatic",
    "start": "299160",
    "end": "301800"
  },
  {
    "text": "mtls automation as we know it lets you",
    "start": "301800",
    "end": "304840"
  },
  {
    "text": "control access and enforce policies",
    "start": "304840",
    "end": "307639"
  },
  {
    "text": "based on service identities thus making",
    "start": "307639",
    "end": "309639"
  },
  {
    "text": "your intracluster communication secure",
    "start": "309639",
    "end": "311840"
  },
  {
    "text": "as",
    "start": "311840",
    "end": "312639"
  },
  {
    "text": "well service Discovery we mentioned it",
    "start": "312639",
    "end": "315919"
  },
  {
    "text": "uh briefly so service mesh is native to",
    "start": "315919",
    "end": "318560"
  },
  {
    "text": "kubernetes yes but service sorry service",
    "start": "318560",
    "end": "321120"
  },
  {
    "text": "Discovery but service mesh can just add",
    "start": "321120",
    "end": "323360"
  },
  {
    "text": "to it and do a whole lot more and help",
    "start": "323360",
    "end": "325520"
  },
  {
    "text": "you run these very complex intracluster",
    "start": "325520",
    "end": "327600"
  },
  {
    "text": "Communications more predictably",
    "start": "327600",
    "end": "330440"
  },
  {
    "text": "so with all these Advanced features you",
    "start": "330440",
    "end": "332880"
  },
  {
    "text": "naturally your services becomes more",
    "start": "332880",
    "end": "335000"
  },
  {
    "text": "resilient to failures and everybody wins",
    "start": "335000",
    "end": "338319"
  },
  {
    "text": "so we will cover how we achieved all of",
    "start": "338319",
    "end": "340880"
  },
  {
    "text": "this at deev how we leverage esto to do",
    "start": "340880",
    "end": "343840"
  },
  {
    "text": "all of this and talk about challenges we",
    "start": "343840",
    "end": "346080"
  },
  {
    "text": "faced give you is uh you know Solutions",
    "start": "346080",
    "end": "349120"
  },
  {
    "text": "the best possible of the solutions that",
    "start": "349120",
    "end": "350600"
  },
  {
    "text": "we follow to fix",
    "start": "350600",
    "end": "352199"
  },
  {
    "text": "them so I guess we can all agree that",
    "start": "352199",
    "end": "354759"
  },
  {
    "text": "it's not realistic enough to cover each",
    "start": "354759",
    "end": "356400"
  },
  {
    "text": "and every challenge configuration and",
    "start": "356400",
    "end": "358840"
  },
  {
    "text": "scaling stuff in just 25 minutes so what",
    "start": "358840",
    "end": "361360"
  },
  {
    "text": "we have done over here is we have",
    "start": "361360",
    "end": "362720"
  },
  {
    "text": "distributed our slides presentation into",
    "start": "362720",
    "end": "365360"
  },
  {
    "text": "high level Network exion which s",
    "start": "365360",
    "end": "367000"
  },
  {
    "text": "provides you with this crds and feature",
    "start": "367000",
    "end": "369400"
  },
  {
    "text": "capabilities so before we start diving",
    "start": "369400",
    "end": "371599"
  },
  {
    "text": "into whatever Network capabilities s",
    "start": "371599",
    "end": "373319"
  },
  {
    "text": "provides let's just look into how we",
    "start": "373319",
    "end": "374919"
  },
  {
    "text": "handled sto installation and St upgrades",
    "start": "374919",
    "end": "377520"
  },
  {
    "text": "so to get start our journey with sto we",
    "start": "377520",
    "end": "379479"
  },
  {
    "text": "created an anous chart which was",
    "start": "379479",
    "end": "381280"
  },
  {
    "text": "combination of community charts and",
    "start": "381280",
    "end": "383759"
  },
  {
    "text": "custom inas controllers and gateways",
    "start": "383759",
    "end": "386160"
  },
  {
    "text": "resources which provided Us in",
    "start": "386160",
    "end": "388199"
  },
  {
    "text": "flexibility and",
    "start": "388199",
    "end": "390680"
  },
  {
    "text": "I handled us and helped us to cater our",
    "start": "390680",
    "end": "392680"
  },
  {
    "text": "use cases coming on to how we handle the",
    "start": "392680",
    "end": "395440"
  },
  {
    "text": "upgrades so when it comes to upgrading",
    "start": "395440",
    "end": "397120"
  },
  {
    "text": "stto we adopted Kendry upgrade approach",
    "start": "397120",
    "end": "400039"
  },
  {
    "text": "this method not only allows allowed us",
    "start": "400039",
    "end": "401840"
  },
  {
    "text": "to take care of breaking changes but",
    "start": "401840",
    "end": "404280"
  },
  {
    "text": "also helped us to allow gradually roll",
    "start": "404280",
    "end": "406280"
  },
  {
    "text": "out the gradually roll out few services",
    "start": "406280",
    "end": "408360"
  },
  {
    "text": "to a new control plane making sure that",
    "start": "408360",
    "end": "409840"
  },
  {
    "text": "there's no incompatible or breaking",
    "start": "409840",
    "end": "411639"
  },
  {
    "text": "changes in the configuration which we",
    "start": "411639",
    "end": "413000"
  },
  {
    "text": "currently uses however our journey",
    "start": "413000",
    "end": "415560"
  },
  {
    "text": "hasn't been without challenges because",
    "start": "415560",
    "end": "417800"
  },
  {
    "text": "the heavy Reliance of kry upgrades onto",
    "start": "417800",
    "end": "420280"
  },
  {
    "text": "sctl and kenry presented few hurdles and",
    "start": "420280",
    "end": "422639"
  },
  {
    "text": "our get UPS workflow we are heavy users",
    "start": "422639",
    "end": "424599"
  },
  {
    "text": "of ago CD and ago workflow and and our",
    "start": "424599",
    "end": "426720"
  },
  {
    "text": "complete cicd is driven via G offs the",
    "start": "426720",
    "end": "429520"
  },
  {
    "text": "imperative nature of s CDL command was",
    "start": "429520",
    "end": "431639"
  },
  {
    "text": "somewhat at ours with this approach so",
    "start": "431639",
    "end": "433479"
  },
  {
    "text": "whenever we had to perform the upgrades",
    "start": "433479",
    "end": "435360"
  },
  {
    "text": "we had to disable the application from",
    "start": "435360",
    "end": "436960"
  },
  {
    "text": "ago we had to do manual magic bu grading",
    "start": "436960",
    "end": "439680"
  },
  {
    "text": "and then reenable the application apart",
    "start": "439680",
    "end": "441879"
  },
  {
    "text": "from the get UPS we also had to deal",
    "start": "441879",
    "end": "443360"
  },
  {
    "text": "with stale versions of control pain",
    "start": "443360",
    "end": "445000"
  },
  {
    "text": "being referred in the envoy proxies and",
    "start": "445000",
    "end": "447240"
  },
  {
    "text": "they were not getting in sent unless and",
    "start": "447240",
    "end": "448720"
  },
  {
    "text": "until there is a roll out happening for",
    "start": "448720",
    "end": "450199"
  },
  {
    "text": "that particular service to again",
    "start": "450199",
    "end": "452000"
  },
  {
    "text": "overcome this challenge we had",
    "start": "452000",
    "end": "453440"
  },
  {
    "text": "streamlined the approach and we had a",
    "start": "453440",
    "end": "455759"
  },
  {
    "text": "automated script which used to take care",
    "start": "455759",
    "end": "458280"
  },
  {
    "text": "of data plane restarts so that script",
    "start": "458280",
    "end": "460120"
  },
  {
    "text": "used to monitor if there's any control",
    "start": "460120",
    "end": "461840"
  },
  {
    "text": "plane upgrade and it would trigger a",
    "start": "461840",
    "end": "463400"
  },
  {
    "text": "data plane roll out whenever deemed",
    "start": "463400",
    "end": "465120"
  },
  {
    "text": "necessary so this actually helped us to",
    "start": "465120",
    "end": "468039"
  },
  {
    "text": "automate our process to a certain scale",
    "start": "468039",
    "end": "470840"
  },
  {
    "text": "and made it more",
    "start": "470840",
    "end": "472599"
  },
  {
    "text": "efficient so now let's look let's take a",
    "start": "472599",
    "end": "475240"
  },
  {
    "text": "look into Gateway and incases and let's",
    "start": "475240",
    "end": "477560"
  },
  {
    "text": "take a look at what were the major",
    "start": "477560",
    "end": "478960"
  },
  {
    "text": "Triumph which we were able to make with",
    "start": "478960",
    "end": "481120"
  },
  {
    "text": "the Gateway Andress feature capability",
    "start": "481120",
    "end": "482919"
  },
  {
    "text": "of sto so first time which we made was",
    "start": "482919",
    "end": "485280"
  },
  {
    "text": "that migration to Edge Gateway so",
    "start": "485280",
    "end": "487280"
  },
  {
    "text": "migration to H Gateway via the site car",
    "start": "487280",
    "end": "489400"
  },
  {
    "text": "the envoy proxy for each service was a",
    "start": "489400",
    "end": "491080"
  },
  {
    "text": "significant shift in our architecture",
    "start": "491080",
    "end": "493159"
  },
  {
    "text": "this not only eliminated a single point",
    "start": "493159",
    "end": "495280"
  },
  {
    "text": "of failure which was a old Central",
    "start": "495280",
    "end": "496759"
  },
  {
    "text": "Gateway but it also enabled us to",
    "start": "496759",
    "end": "498400"
  },
  {
    "text": "leverage Edge features of envoy like",
    "start": "498400",
    "end": "500639"
  },
  {
    "text": "grpc load balancing circuit breakers",
    "start": "500639",
    "end": "503599"
  },
  {
    "text": "Dynamic service Discovery ST stage roll",
    "start": "503599",
    "end": "505720"
  },
  {
    "text": "outs traffic splitting and these",
    "start": "505720",
    "end": "507479"
  },
  {
    "text": "features not only SC and improved the",
    "start": "507479",
    "end": "510280"
  },
  {
    "text": "performance of a platform but also it",
    "start": "510280",
    "end": "512760"
  },
  {
    "text": "increased the resilience and robustness",
    "start": "512760",
    "end": "515200"
  },
  {
    "text": "of the",
    "start": "515200",
    "end": "516240"
  },
  {
    "text": "platform second let's take a look at how",
    "start": "516240",
    "end": "519320"
  },
  {
    "text": "we achieved Json to grpc transcoding and",
    "start": "519320",
    "end": "521680"
  },
  {
    "text": "how we made it magical so an essential",
    "start": "521680",
    "end": "523839"
  },
  {
    "text": "part of our architecture is the",
    "start": "523839",
    "end": "525720"
  },
  {
    "text": "communication between internal Services",
    "start": "525720",
    "end": "527920"
  },
  {
    "text": "which is primarily handled via grpc so",
    "start": "527920",
    "end": "530560"
  },
  {
    "text": "to facilitate this we needed effective",
    "start": "530560",
    "end": "532640"
  },
  {
    "text": "jsn to grpc transcoding and before",
    "start": "532640",
    "end": "535320"
  },
  {
    "text": "introduction to esto our old Central",
    "start": "535320",
    "end": "537360"
  },
  {
    "text": "Gateway was taking care of this and",
    "start": "537360",
    "end": "539200"
  },
  {
    "text": "service owners had to maintain API",
    "start": "539200",
    "end": "541040"
  },
  {
    "text": "schema and API mapping at both places",
    "start": "541040",
    "end": "543160"
  },
  {
    "text": "because they need to make sure that the",
    "start": "543160",
    "end": "544399"
  },
  {
    "text": "client is able to handle Json to JPC so",
    "start": "544399",
    "end": "547640"
  },
  {
    "text": "Envoy natively supports this",
    "start": "547640",
    "end": "548760"
  },
  {
    "text": "transporting using onvoy filters and",
    "start": "548760",
    "end": "550720"
  },
  {
    "text": "protuff stubs and these how we did this",
    "start": "550720",
    "end": "553480"
  },
  {
    "text": "was and how you can do is this you can",
    "start": "553480",
    "end": "555519"
  },
  {
    "text": "mount the STS into your sidecar onvoy",
    "start": "555519",
    "end": "557279"
  },
  {
    "text": "pod which can enable seamlessly",
    "start": "557279",
    "end": "559600"
  },
  {
    "text": "converting the Json request from a",
    "start": "559600",
    "end": "561240"
  },
  {
    "text": "client to grpc server now there were a",
    "start": "561240",
    "end": "563959"
  },
  {
    "text": "lot of manual process involved in this",
    "start": "563959",
    "end": "566000"
  },
  {
    "text": "and we took help of CI and our Basel",
    "start": "566000",
    "end": "568240"
  },
  {
    "text": "build system to orchestrate this and",
    "start": "568240",
    "end": "570720"
  },
  {
    "text": "make this process magical for developers",
    "start": "570720",
    "end": "572519"
  },
  {
    "text": "so that they don't even know that how",
    "start": "572519",
    "end": "573880"
  },
  {
    "text": "the things were happening so how we did",
    "start": "573880",
    "end": "575680"
  },
  {
    "text": "this was that basil was responsible for",
    "start": "575680",
    "end": "578360"
  },
  {
    "text": "generating the Proto stubs and then CI",
    "start": "578360",
    "end": "581480"
  },
  {
    "text": "was responsible for mounting those stubs",
    "start": "581480",
    "end": "583399"
  },
  {
    "text": "into our main Port directory and then we",
    "start": "583399",
    "end": "585560"
  },
  {
    "text": "used seo's Side Car annotations to",
    "start": "585560",
    "end": "588279"
  },
  {
    "text": "actually tell that you can mount this",
    "start": "588279",
    "end": "590800"
  },
  {
    "text": "Proto directory into the envoy side car",
    "start": "590800",
    "end": "593040"
  },
  {
    "text": "and we had a general onoy filter",
    "start": "593040",
    "end": "594360"
  },
  {
    "text": "templated into a h chart which would",
    "start": "594360",
    "end": "595800"
  },
  {
    "text": "take care or which would find the Proto",
    "start": "595800",
    "end": "597760"
  },
  {
    "text": "STS into the Proto directory",
    "start": "597760",
    "end": "600320"
  },
  {
    "text": "now let's take a look at the major",
    "start": "600320",
    "end": "602200"
  },
  {
    "text": "challenges which we faced while scaling",
    "start": "602200",
    "end": "604640"
  },
  {
    "text": "with Gateway and",
    "start": "604640",
    "end": "606120"
  },
  {
    "text": "increases the first major challenge we",
    "start": "606120",
    "end": "608320"
  },
  {
    "text": "faced was that we were facing a lot of f",
    "start": "608320",
    "end": "610160"
  },
  {
    "text": "exis errors and out of the FIS majorly",
    "start": "610160",
    "end": "612360"
  },
  {
    "text": "were 502 and 503s which was Upstream",
    "start": "612360",
    "end": "615839"
  },
  {
    "text": "connection reset after deing and digging",
    "start": "615839",
    "end": "618720"
  },
  {
    "text": "down more into this we realized that it",
    "start": "618720",
    "end": "620640"
  },
  {
    "text": "was always happening during rescaling of",
    "start": "620640",
    "end": "623240"
  },
  {
    "text": "f ing Gateway and we came down that it",
    "start": "623240",
    "end": "625959"
  },
  {
    "text": "was due to the envoy which has the",
    "start": "625959",
    "end": "627480"
  },
  {
    "text": "termination date duration default to 5",
    "start": "627480",
    "end": "629320"
  },
  {
    "text": "seconds so to mitigate this we set our",
    "start": "629320",
    "end": "631920"
  },
  {
    "text": "termination rain duration to 300 second",
    "start": "631920",
    "end": "633600"
  },
  {
    "text": "which allowed enough time for all the",
    "start": "633600",
    "end": "635279"
  },
  {
    "text": "requests to terminate gracefully and not",
    "start": "635279",
    "end": "637120"
  },
  {
    "text": "getting any connection or not getting",
    "start": "637120",
    "end": "638440"
  },
  {
    "text": "any request terminated directly which",
    "start": "638440",
    "end": "640160"
  },
  {
    "text": "was in the que although this is a",
    "start": "640160",
    "end": "643240"
  },
  {
    "text": "deprecated approach now because as ofo",
    "start": "643240",
    "end": "645480"
  },
  {
    "text": "version 1.13 there's a new Ono feature",
    "start": "645480",
    "end": "647800"
  },
  {
    "text": "capability which is terminative and",
    "start": "647800",
    "end": "649399"
  },
  {
    "text": "active connection is zero and we are yet",
    "start": "649399",
    "end": "650920"
  },
  {
    "text": "to migrate to that which which we seen",
    "start": "650920",
    "end": "652839"
  },
  {
    "text": "can be more enable second was that we",
    "start": "652839",
    "end": "655360"
  },
  {
    "text": "used to experience occasional 504 errors",
    "start": "655360",
    "end": "658040"
  },
  {
    "text": "from our ALB and after digging more into",
    "start": "658040",
    "end": "660600"
  },
  {
    "text": "this we found out that this was only",
    "start": "660600",
    "end": "663160"
  },
  {
    "text": "happening for apis which were actually",
    "start": "663160",
    "end": "665120"
  },
  {
    "text": "taking more than the ALB timeout so we",
    "start": "665120",
    "end": "667440"
  },
  {
    "text": "had few apis which used to take 5 to 10",
    "start": "667440",
    "end": "669320"
  },
  {
    "text": "minutes during some export during some",
    "start": "669320",
    "end": "671360"
  },
  {
    "text": "Imports and More and the solution for",
    "start": "671360",
    "end": "673880"
  },
  {
    "text": "this was that SEO inis should be sending",
    "start": "673880",
    "end": "676160"
  },
  {
    "text": "keep alive props to NLB so that it can",
    "start": "676160",
    "end": "678079"
  },
  {
    "text": "make sure that the connection is not yet",
    "start": "678079",
    "end": "679600"
  },
  {
    "text": "terminated but after taking more into",
    "start": "679600",
    "end": "681959"
  },
  {
    "text": "this we didn't find any native approach",
    "start": "681959",
    "end": "683560"
  },
  {
    "text": "in STO which is why we had to rely on an",
    "start": "683560",
    "end": "685760"
  },
  {
    "text": "onway filter which would take care of",
    "start": "685760",
    "end": "687680"
  },
  {
    "text": "sending the keep alive props to the in",
    "start": "687680",
    "end": "691320"
  },
  {
    "text": "Gateway right let's talk about how we",
    "start": "691320",
    "end": "693839"
  },
  {
    "text": "made traffic management more",
    "start": "693839",
    "end": "695639"
  },
  {
    "text": "controllable and granular using esto so",
    "start": "695639",
    "end": "698160"
  },
  {
    "text": "iso's offerings let you do deployment",
    "start": "698160",
    "end": "700279"
  },
  {
    "text": "techniques like Canary blue green where",
    "start": "700279",
    "end": "701880"
  },
  {
    "text": "you can have more informed upgrades you",
    "start": "701880",
    "end": "704000"
  },
  {
    "text": "are sure that your upgrades are not",
    "start": "704000",
    "end": "705360"
  },
  {
    "text": "faulty and that they are successfully",
    "start": "705360",
    "end": "707360"
  },
  {
    "text": "able to serve the traffic so that is",
    "start": "707360",
    "end": "709560"
  },
  {
    "text": "done all that magic is done by using ISO",
    "start": "709560",
    "end": "711959"
  },
  {
    "text": "virtual Services as well as destination",
    "start": "711959",
    "end": "714120"
  },
  {
    "text": "rules and another very interesting and",
    "start": "714120",
    "end": "716399"
  },
  {
    "text": "useful feature that we leverage at Dev",
    "start": "716399",
    "end": "718680"
  },
  {
    "text": "is using Envoy filters so Envoy filters",
    "start": "718680",
    "end": "721320"
  },
  {
    "text": "is a very powerful cap capability uh",
    "start": "721320",
    "end": "723480"
  },
  {
    "text": "that is offered that we can leverage",
    "start": "723480",
    "end": "725120"
  },
  {
    "text": "using is itself and so weever have used",
    "start": "725120",
    "end": "727959"
  },
  {
    "text": "combinations of wasum as well as Lowa",
    "start": "727959",
    "end": "730000"
  },
  {
    "text": "Envoy filters and these filters run on",
    "start": "730000",
    "end": "732680"
  },
  {
    "text": "different parameters including but not",
    "start": "732680",
    "end": "735040"
  },
  {
    "text": "limited to grpc context HTTP headers and",
    "start": "735040",
    "end": "738399"
  },
  {
    "text": "paths and also JWT metadata so these",
    "start": "738399",
    "end": "741279"
  },
  {
    "text": "came very handy for specific use cases",
    "start": "741279",
    "end": "743519"
  },
  {
    "text": "for some Services where they wanted to",
    "start": "743519",
    "end": "745120"
  },
  {
    "text": "manipulate some traffic so one such use",
    "start": "745120",
    "end": "747440"
  },
  {
    "text": "case for example was during end to end",
    "start": "747440",
    "end": "749480"
  },
  {
    "text": "testing we wanted some of our endtoend",
    "start": "749480",
    "end": "751560"
  },
  {
    "text": "testing traffic only to land at some",
    "start": "751560",
    "end": "753720"
  },
  {
    "text": "dummy service for the sake of the test",
    "start": "753720",
    "end": "755920"
  },
  {
    "text": "and not actually call our main service",
    "start": "755920",
    "end": "758320"
  },
  {
    "text": "and these Envoy filters just work like a",
    "start": "758320",
    "end": "759959"
  },
  {
    "text": "charm for such use cases so as always",
    "start": "759959",
    "end": "763320"
  },
  {
    "text": "there are challenges when you try to do",
    "start": "763320",
    "end": "765440"
  },
  {
    "text": "you know good things so so I'm going to",
    "start": "765440",
    "end": "768120"
  },
  {
    "text": "talk about a few challenges we had when",
    "start": "768120",
    "end": "769639"
  },
  {
    "text": "we implemented these traffic management",
    "start": "769639",
    "end": "771160"
  },
  {
    "text": "features so a very interesting thing",
    "start": "771160",
    "end": "773839"
  },
  {
    "text": "happened when we started using esto was",
    "start": "773839",
    "end": "775800"
  },
  {
    "text": "our webset connection started closing",
    "start": "775800",
    "end": "777639"
  },
  {
    "text": "abnormally we received a lot a 1,6",
    "start": "777639",
    "end": "779959"
  },
  {
    "text": "status code whereas the expected status",
    "start": "779959",
    "end": "782199"
  },
  {
    "text": "code is 1,000 when your connection",
    "start": "782199",
    "end": "783839"
  },
  {
    "text": "closes just normally and also",
    "start": "783839",
    "end": "786199"
  },
  {
    "text": "interestingly it was only happening with",
    "start": "786199",
    "end": "788000"
  },
  {
    "text": "chrome client and not all of the",
    "start": "788000",
    "end": "789440"
  },
  {
    "text": "browsers so we turned to community and",
    "start": "789440",
    "end": "792040"
  },
  {
    "text": "dig deeper and figured out that this",
    "start": "792040",
    "end": "794360"
  },
  {
    "text": "happens because of this very specific",
    "start": "794360",
    "end": "796320"
  },
  {
    "text": "setting called delayed closed timeout",
    "start": "796320",
    "end": "798320"
  },
  {
    "text": "which is set to 1 second by default and",
    "start": "798320",
    "end": "800360"
  },
  {
    "text": "which is what causes these closed",
    "start": "800360",
    "end": "801680"
  },
  {
    "text": "abnormal connections so to fix it we had",
    "start": "801680",
    "end": "804880"
  },
  {
    "text": "to use an Envoy filter and set this",
    "start": "804880",
    "end": "806760"
  },
  {
    "text": "setting to zero and then have graceful",
    "start": "806760",
    "end": "809680"
  },
  {
    "text": "terminations however now with the latest",
    "start": "809680",
    "end": "811920"
  },
  {
    "text": "releases there's a new way to deal with",
    "start": "811920",
    "end": "814079"
  },
  {
    "text": "this problem you don't have to use the",
    "start": "814079",
    "end": "815440"
  },
  {
    "text": "envoy filter you can use S setting",
    "start": "815440",
    "end": "817920"
  },
  {
    "text": "itself a pilot flag and uh I mean that's",
    "start": "817920",
    "end": "820920"
  },
  {
    "text": "very way easier to configure this so",
    "start": "820920",
    "end": "824480"
  },
  {
    "text": "other issues we had was with the you",
    "start": "824480",
    "end": "826600"
  },
  {
    "text": "know blue green and Canary so during a",
    "start": "826600",
    "end": "828880"
  },
  {
    "text": "particular testing with the blue green",
    "start": "828880",
    "end": "830720"
  },
  {
    "text": "deployment for one service we were",
    "start": "830720",
    "end": "832320"
  },
  {
    "text": "trying to mirror traffic to see how our",
    "start": "832320",
    "end": "834199"
  },
  {
    "text": "new deployments are working where we",
    "start": "834199",
    "end": "835920"
  },
  {
    "text": "learned that the mirroring is actually",
    "start": "835920",
    "end": "837600"
  },
  {
    "text": "not happening as expected",
    "start": "837600",
    "end": "839320"
  },
  {
    "text": "so we started debugging and we learned",
    "start": "839320",
    "end": "841160"
  },
  {
    "text": "that our internal service to service",
    "start": "841160",
    "end": "842680"
  },
  {
    "text": "Communications are actually not honoring",
    "start": "842680",
    "end": "844639"
  },
  {
    "text": "our virtual services so it's bypassing",
    "start": "844639",
    "end": "846839"
  },
  {
    "text": "virtual services and the reason behind",
    "start": "846839",
    "end": "849000"
  },
  {
    "text": "that was our virtual service was only",
    "start": "849000",
    "end": "851120"
  },
  {
    "text": "tagged to our own Gateway the deev",
    "start": "851120",
    "end": "853000"
  },
  {
    "text": "Gateway that we deployed for handling",
    "start": "853000",
    "end": "854560"
  },
  {
    "text": "external traffic but not the default ISO",
    "start": "854560",
    "end": "857639"
  },
  {
    "text": "gateway called mesh Gateway so for this",
    "start": "857639",
    "end": "860120"
  },
  {
    "text": "to work for your service to service coms",
    "start": "860120",
    "end": "862160"
  },
  {
    "text": "to honor your virtual service",
    "start": "862160",
    "end": "863519"
  },
  {
    "text": "configurations you have to tag the",
    "start": "863519",
    "end": "865320"
  },
  {
    "text": "default gateway called mesh to your",
    "start": "865320",
    "end": "866959"
  },
  {
    "text": "virtual service and another thing",
    "start": "866959",
    "end": "869600"
  },
  {
    "text": "happened during Canary upgrades was we",
    "start": "869600",
    "end": "872040"
  },
  {
    "text": "we noticed that our IO pods were started",
    "start": "872040",
    "end": "874440"
  },
  {
    "text": "consuming a lot of memory and CPU on our",
    "start": "874440",
    "end": "876440"
  },
  {
    "text": "nodes and it was not normal or not what",
    "start": "876440",
    "end": "878839"
  },
  {
    "text": "we had seen in the past so turns out",
    "start": "878839",
    "end": "881399"
  },
  {
    "text": "that was also an issue with this flag",
    "start": "881399",
    "end": "883759"
  },
  {
    "text": "called distribution tracking which is",
    "start": "883759",
    "end": "885519"
  },
  {
    "text": "set to True by default and which is what",
    "start": "885519",
    "end": "887839"
  },
  {
    "text": "the was the culprit for this High",
    "start": "887839",
    "end": "889720"
  },
  {
    "text": "resource consumption so setting it to",
    "start": "889720",
    "end": "891759"
  },
  {
    "text": "false you know handles that problem you",
    "start": "891759",
    "end": "894320"
  },
  {
    "text": "can head to these issues to know more",
    "start": "894320",
    "end": "896639"
  },
  {
    "text": "about uh what what this flag is used for",
    "start": "896639",
    "end": "899720"
  },
  {
    "text": "for let's talk about how we made our",
    "start": "899720",
    "end": "902560"
  },
  {
    "text": "clusters and intra cluster",
    "start": "902560",
    "end": "904040"
  },
  {
    "text": "Communications more secure with ISO so",
    "start": "904040",
    "end": "906839"
  },
  {
    "text": "Kush mentioned how we moved from a",
    "start": "906839",
    "end": "908560"
  },
  {
    "text": "dedicated one gateway to decentralized",
    "start": "908560",
    "end": "911600"
  },
  {
    "text": "Edge gateways per service and offloaded",
    "start": "911600",
    "end": "914040"
  },
  {
    "text": "a lot of operations to those envo",
    "start": "914040",
    "end": "915680"
  },
  {
    "text": "instead of our Gateway service having to",
    "start": "915680",
    "end": "917279"
  },
  {
    "text": "do it and one such operation was gwd",
    "start": "917279",
    "end": "919639"
  },
  {
    "text": "validation so with Envoy proxies you",
    "start": "919639",
    "end": "921800"
  },
  {
    "text": "just need to create a request",
    "start": "921800",
    "end": "923040"
  },
  {
    "text": "authentication resource and and hook",
    "start": "923040",
    "end": "925440"
  },
  {
    "text": "your issuer with that and then all jwd",
    "start": "925440",
    "end": "928040"
  },
  {
    "text": "validation Tas TKS can be taken care by",
    "start": "928040",
    "end": "929639"
  },
  {
    "text": "the onare itself you don't need a",
    "start": "929639",
    "end": "931079"
  },
  {
    "text": "dedicated service to do it for you and",
    "start": "931079",
    "end": "934120"
  },
  {
    "text": "uh and then mtls so like I said ISO",
    "start": "934120",
    "end": "936920"
  },
  {
    "text": "offers mtls by default so whenever you",
    "start": "936920",
    "end": "939560"
  },
  {
    "text": "install ISO it's it's always enabled but",
    "start": "939560",
    "end": "941800"
  },
  {
    "text": "it's set to permissive mode which",
    "start": "941800",
    "end": "943519"
  },
  {
    "text": "essentially lets your enway accept mtls",
    "start": "943519",
    "end": "946440"
  },
  {
    "text": "or non mtls traffic uh which works which",
    "start": "946440",
    "end": "949279"
  },
  {
    "text": "does not interrupt anything much but",
    "start": "949279",
    "end": "950959"
  },
  {
    "text": "when you move to strict mode which makes",
    "start": "950959",
    "end": "952959"
  },
  {
    "text": "sure that you only accept your on voice",
    "start": "952959",
    "end": "954720"
  },
  {
    "text": "only accept mtls traffic and not",
    "start": "954720",
    "end": "956600"
  },
  {
    "text": "anything else one need to be very",
    "start": "956600",
    "end": "958639"
  },
  {
    "text": "careful about making sure that you",
    "start": "958639",
    "end": "960720"
  },
  {
    "text": "create service entries for any external",
    "start": "960720",
    "end": "962880"
  },
  {
    "text": "endpoints so if your services are",
    "start": "962880",
    "end": "964880"
  },
  {
    "text": "expected to talk to anything outside of",
    "start": "964880",
    "end": "967000"
  },
  {
    "text": "your cluster which is does not recognize",
    "start": "967000",
    "end": "968880"
  },
  {
    "text": "or know about make sure you create those",
    "start": "968880",
    "end": "970759"
  },
  {
    "text": "service entries at the host and the port",
    "start": "970759",
    "end": "973199"
  },
  {
    "text": "numbers which you want your services to",
    "start": "973199",
    "end": "975120"
  },
  {
    "text": "talk to you can also restrict that to",
    "start": "975120",
    "end": "977560"
  },
  {
    "text": "Nam spaces if you want only certain Nam",
    "start": "977560",
    "end": "979560"
  },
  {
    "text": "spaces to be able to talk to these",
    "start": "979560",
    "end": "981040"
  },
  {
    "text": "external endpoints and not others you",
    "start": "981040",
    "end": "982680"
  },
  {
    "text": "can do that as well with sdo so that's",
    "start": "982680",
    "end": "986160"
  },
  {
    "text": "that's just authenticated you know inter",
    "start": "986160",
    "end": "987800"
  },
  {
    "text": "service communication now you can also",
    "start": "987800",
    "end": "989680"
  },
  {
    "text": "do authorization you can allow or",
    "start": "989680",
    "end": "992199"
  },
  {
    "text": "disallow certain services to be able to",
    "start": "992199",
    "end": "994120"
  },
  {
    "text": "talk to each other a very strict way of",
    "start": "994120",
    "end": "996319"
  },
  {
    "text": "doing it is just have a deny all traffic",
    "start": "996319",
    "end": "998279"
  },
  {
    "text": "policy and authorization policy which",
    "start": "998279",
    "end": "1000199"
  },
  {
    "text": "says you can only talk to services",
    "start": "1000199",
    "end": "1001839"
  },
  {
    "text": "within your namespace and rest",
    "start": "1001839",
    "end": "1003440"
  },
  {
    "text": "everything you're not supposed to do and",
    "start": "1003440",
    "end": "1005360"
  },
  {
    "text": "over that then you can create explicit",
    "start": "1005360",
    "end": "1007319"
  },
  {
    "text": "allow lists and allow Services which are",
    "start": "1007319",
    "end": "1010240"
  },
  {
    "text": "by you know business logic expected to",
    "start": "1010240",
    "end": "1012319"
  },
  {
    "text": "talk to each",
    "start": "1012319",
    "end": "1014879"
  },
  {
    "text": "other so whatever onvo filters and",
    "start": "1016800",
    "end": "1019720"
  },
  {
    "text": "whatever templates and manifest and CI",
    "start": "1019720",
    "end": "1021279"
  },
  {
    "text": "magic basil system we were talking about",
    "start": "1021279",
    "end": "1023399"
  },
  {
    "text": "we will be sharing a GitHub repo where",
    "start": "1023399",
    "end": "1024798"
  },
  {
    "text": "you can find all the samples and all the",
    "start": "1024799",
    "end": "1026959"
  },
  {
    "text": "Manifest so now let's take a look at how",
    "start": "1026959",
    "end": "1029400"
  },
  {
    "text": "SEO helped helped us with application",
    "start": "1029400",
    "end": "1032000"
  },
  {
    "text": "monitoring so we can divide the obility",
    "start": "1032000",
    "end": "1034640"
  },
  {
    "text": "part for application into two major",
    "start": "1034640",
    "end": "1036038"
  },
  {
    "text": "Milestone first is the traffic",
    "start": "1036039",
    "end": "1037240"
  },
  {
    "text": "monitoring second is monitoring the",
    "start": "1037240",
    "end": "1038600"
  },
  {
    "text": "application itself so St provides",
    "start": "1038600",
    "end": "1040760"
  },
  {
    "text": "comprehensive traffic monitoring",
    "start": "1040760",
    "end": "1041880"
  },
  {
    "text": "capabilities which can help you capture",
    "start": "1041880",
    "end": "1044720"
  },
  {
    "text": "inbound and outbound traffic giving you",
    "start": "1044720",
    "end": "1046280"
  },
  {
    "text": "a complete picture of how your service",
    "start": "1046280",
    "end": "1048558"
  },
  {
    "text": "are interacting and how data is Flowing",
    "start": "1048559",
    "end": "1050000"
  },
  {
    "text": "throughout the system and if any issue",
    "start": "1050000",
    "end": "1052160"
  },
  {
    "text": "arises you can rely on tools like K anom",
    "start": "1052160",
    "end": "1055160"
  },
  {
    "text": "understand the flow of request and inded",
    "start": "1055160",
    "end": "1057960"
  },
  {
    "text": "in complex service interactions so we at",
    "start": "1057960",
    "end": "1059919"
  },
  {
    "text": "De were heavily using CFA consumers and",
    "start": "1059919",
    "end": "1062440"
  },
  {
    "text": "asynchronous workers and it's very heavy",
    "start": "1062440",
    "end": "1065000"
  },
  {
    "text": "and it's very costly to actually",
    "start": "1065000",
    "end": "1066840"
  },
  {
    "text": "Implement tracing for kafa consumers",
    "start": "1066840",
    "end": "1068880"
  },
  {
    "text": "asynchronous workers so to actually",
    "start": "1068880",
    "end": "1072640"
  },
  {
    "text": "visualize the network traffic for all of",
    "start": "1072640",
    "end": "1074200"
  },
  {
    "text": "them we relied on Kali because Kali or",
    "start": "1074200",
    "end": "1077039"
  },
  {
    "text": "sto does not need any instrument",
    "start": "1077039",
    "end": "1078360"
  },
  {
    "text": "mentation on your application Level and",
    "start": "1078360",
    "end": "1080200"
  },
  {
    "text": "if your service is onboarded to the Mish",
    "start": "1080200",
    "end": "1081880"
  },
  {
    "text": "it can provide you with default Matrix",
    "start": "1081880",
    "end": "1083400"
  },
  {
    "text": "like what's your error rate what's your",
    "start": "1083400",
    "end": "1085960"
  },
  {
    "text": "latency and from where traffic is",
    "start": "1085960",
    "end": "1087760"
  },
  {
    "text": "Flowing so this actually helped us to",
    "start": "1087760",
    "end": "1089760"
  },
  {
    "text": "debug a lot of network issues and a lot",
    "start": "1089760",
    "end": "1091840"
  },
  {
    "text": "of flows issue with our kafa consumers",
    "start": "1091840",
    "end": "1094080"
  },
  {
    "text": "and we were able to know that where",
    "start": "1094080",
    "end": "1095360"
  },
  {
    "text": "anomalous traffic is coming from and why",
    "start": "1095360",
    "end": "1097320"
  },
  {
    "text": "is the service is degraded or why this",
    "start": "1097320",
    "end": "1099240"
  },
  {
    "text": "Laten this end point is being",
    "start": "1099240",
    "end": "1103039"
  },
  {
    "text": "throttled next thing is STO can also",
    "start": "1103039",
    "end": "1105559"
  },
  {
    "text": "provide you powerful application",
    "start": "1105559",
    "end": "1106840"
  },
  {
    "text": "monitoring and debugging features one of",
    "start": "1106840",
    "end": "1108720"
  },
  {
    "text": "the major one is treac sing and APM",
    "start": "1108720",
    "end": "1111360"
  },
  {
    "text": "which can allow you to track individual",
    "start": "1111360",
    "end": "1112799"
  },
  {
    "text": "request as they FLW through various",
    "start": "1112799",
    "end": "1114159"
  },
  {
    "text": "services so so with with side card",
    "start": "1114159",
    "end": "1116720"
  },
  {
    "text": "context propagation feature you can",
    "start": "1116720",
    "end": "1118000"
  },
  {
    "text": "actually trck the full path of request",
    "start": "1118000",
    "end": "1120159"
  },
  {
    "text": "even in a complex microservice",
    "start": "1120159",
    "end": "1121360"
  },
  {
    "text": "architecture so how we did this at De",
    "start": "1121360",
    "end": "1123600"
  },
  {
    "text": "was that we utilized share piece of code",
    "start": "1123600",
    "end": "1126120"
  },
  {
    "text": "for grpc and HTP server initialization",
    "start": "1126120",
    "end": "1128400"
  },
  {
    "text": "which take care of context propagation",
    "start": "1128400",
    "end": "1129799"
  },
  {
    "text": "from the side car Trace IDs ensuring",
    "start": "1129799",
    "end": "1131760"
  },
  {
    "text": "Contex consistent and accurate tracing",
    "start": "1131760",
    "end": "1133400"
  },
  {
    "text": "throughout the system and at the last we",
    "start": "1133400",
    "end": "1135919"
  },
  {
    "text": "enabled a config flag which is proxy",
    "start": "1135919",
    "end": "1137880"
  },
  {
    "text": "merge which actually helped us reduce",
    "start": "1137880",
    "end": "1139600"
  },
  {
    "text": "the load on Prometheus systems so if you",
    "start": "1139600",
    "end": "1141840"
  },
  {
    "text": "don't have proxy much enabled then you",
    "start": "1141840",
    "end": "1143320"
  },
  {
    "text": "have to configure two scraping targets",
    "start": "1143320",
    "end": "1145520"
  },
  {
    "text": "for Prometheus one for your sidecar",
    "start": "1145520",
    "end": "1147159"
  },
  {
    "text": "container second for your main",
    "start": "1147159",
    "end": "1148559"
  },
  {
    "text": "application container with this proxy",
    "start": "1148559",
    "end": "1150480"
  },
  {
    "text": "merge the side car will take care of",
    "start": "1150480",
    "end": "1152000"
  },
  {
    "text": "scraping the the main application Matrix",
    "start": "1152000",
    "end": "1154919"
  },
  {
    "text": "and merging with the side car Matrix",
    "start": "1154919",
    "end": "1156640"
  },
  {
    "text": "itself so you would have just a single",
    "start": "1156640",
    "end": "1158440"
  },
  {
    "text": "Target to",
    "start": "1158440",
    "end": "1160720"
  },
  {
    "text": "scrape one of the key aspect of",
    "start": "1160720",
    "end": "1162880"
  },
  {
    "text": "maintaining healthy sto is monitoring",
    "start": "1162880",
    "end": "1165240"
  },
  {
    "text": "the sto control P itself and stod",
    "start": "1165240",
    "end": "1167520"
  },
  {
    "text": "exposes a lot of",
    "start": "1167520",
    "end": "1168760"
  },
  {
    "text": "Matrix which you can monitor to make",
    "start": "1168760",
    "end": "1170240"
  },
  {
    "text": "sure that St is behaving properly we are",
    "start": "1170240",
    "end": "1172760"
  },
  {
    "text": "just going to walk you through some of",
    "start": "1172760",
    "end": "1174360"
  },
  {
    "text": "the key Matrix which actually held us",
    "start": "1174360",
    "end": "1175919"
  },
  {
    "text": "few of the which actually helped us",
    "start": "1175919",
    "end": "1178039"
  },
  {
    "text": "debug few other the production incidents",
    "start": "1178039",
    "end": "1180080"
  },
  {
    "text": "so first by keeping the track of sidecar",
    "start": "1180080",
    "end": "1182840"
  },
  {
    "text": "injection failures we can actually check",
    "start": "1182840",
    "end": "1184799"
  },
  {
    "text": "and identify any issue which can impact",
    "start": "1184799",
    "end": "1187320"
  },
  {
    "text": "service to service communication or",
    "start": "1187320",
    "end": "1189039"
  },
  {
    "text": "which may cause a incident in your",
    "start": "1189039",
    "end": "1190559"
  },
  {
    "text": "system another important metric which we",
    "start": "1190559",
    "end": "1192960"
  },
  {
    "text": "tracked was success of failures of",
    "start": "1192960",
    "end": "1194440"
  },
  {
    "text": "configuration pushes from onvoy from St",
    "start": "1194440",
    "end": "1197039"
  },
  {
    "text": "to Envoy which actually helped us to",
    "start": "1197039",
    "end": "1198840"
  },
  {
    "text": "ensure that each and every data plane",
    "start": "1198840",
    "end": "1200080"
  },
  {
    "text": "proxy is running the correct",
    "start": "1200080",
    "end": "1201799"
  },
  {
    "text": "configuration as in sync with the latest",
    "start": "1201799",
    "end": "1203520"
  },
  {
    "text": "control plane version and at the last we",
    "start": "1203520",
    "end": "1206200"
  },
  {
    "text": "monitor the St resources so as kushu",
    "start": "1206200",
    "end": "1208280"
  },
  {
    "text": "mentioned during a kry roll outs we saw",
    "start": "1208280",
    "end": "1210320"
  },
  {
    "text": "a lot of increase in memory and CPU",
    "start": "1210320",
    "end": "1212240"
  },
  {
    "text": "consumption which actually can tell you",
    "start": "1212240",
    "end": "1213640"
  },
  {
    "text": "that if there is any memory or CPU leak",
    "start": "1213640",
    "end": "1215559"
  },
  {
    "text": "or if there is any configuration change",
    "start": "1215559",
    "end": "1217280"
  },
  {
    "text": "which you have made which you shouldn't",
    "start": "1217280",
    "end": "1218640"
  },
  {
    "text": "or if there's something wrong with your",
    "start": "1218640",
    "end": "1220679"
  },
  {
    "text": "S at the last sto comes with a lot of",
    "start": "1220679",
    "end": "1224000"
  },
  {
    "text": "default alert rules which are actually",
    "start": "1224000",
    "end": "1225440"
  },
  {
    "text": "used by sto performance Suite these",
    "start": "1225440",
    "end": "1227360"
  },
  {
    "text": "rules can provide a good starting point",
    "start": "1227360",
    "end": "1228679"
  },
  {
    "text": "for monitoring the performance and",
    "start": "1228679",
    "end": "1229679"
  },
  {
    "text": "health of your service Miss however we",
    "start": "1229679",
    "end": "1231640"
  },
  {
    "text": "think that every organization envirment",
    "start": "1231640",
    "end": "1233080"
  },
  {
    "text": "is unique and you might need to",
    "start": "1233080",
    "end": "1234760"
  },
  {
    "text": "customize those rules so the good thing",
    "start": "1234760",
    "end": "1236640"
  },
  {
    "text": "is that the way those performance alert",
    "start": "1236640",
    "end": "1238760"
  },
  {
    "text": "rules for alert manager implemented are",
    "start": "1238760",
    "end": "1240640"
  },
  {
    "text": "customizable according to whatever you",
    "start": "1240640",
    "end": "1242159"
  },
  {
    "text": "need or however you want to and at the",
    "start": "1242159",
    "end": "1244840"
  },
  {
    "text": "last it's important to remember that",
    "start": "1244840",
    "end": "1246440"
  },
  {
    "text": "effective monitoring is just all about",
    "start": "1246440",
    "end": "1247840"
  },
  {
    "text": "having right data at right time and by",
    "start": "1247840",
    "end": "1250440"
  },
  {
    "text": "monitoring the control plane and",
    "start": "1250440",
    "end": "1251640"
  },
  {
    "text": "customizing the alert rules you can",
    "start": "1251640",
    "end": "1253240"
  },
  {
    "text": "actually make sure that you have a",
    "start": "1253240",
    "end": "1254320"
  },
  {
    "text": "healthy service M and everything is",
    "start": "1254320",
    "end": "1256360"
  },
  {
    "text": "working well now let's let take a brief",
    "start": "1256360",
    "end": "1259120"
  },
  {
    "text": "look around what were the challenges",
    "start": "1259120",
    "end": "1261080"
  },
  {
    "text": "which we faced while implementing",
    "start": "1261080",
    "end": "1262520"
  },
  {
    "text": "monitoring and obility with sto so as we",
    "start": "1262520",
    "end": "1264960"
  },
  {
    "text": "scaled our services we encounted a",
    "start": "1264960",
    "end": "1266360"
  },
  {
    "text": "challenge where enormous volume of",
    "start": "1266360",
    "end": "1267720"
  },
  {
    "text": "Matrix show the prome setup this was due",
    "start": "1267720",
    "end": "1270039"
  },
  {
    "text": "to the high cardinality Matrix which",
    "start": "1270039",
    "end": "1271520"
  },
  {
    "text": "increased the load on a monitoring",
    "start": "1271520",
    "end": "1273240"
  },
  {
    "text": "system and that's when we realized our",
    "start": "1273240",
    "end": "1274480"
  },
  {
    "text": "single prome setup was not enough to",
    "start": "1274480",
    "end": "1276360"
  },
  {
    "text": "work well to address this we did several",
    "start": "1276360",
    "end": "1278960"
  },
  {
    "text": "optimization one of which was to disable",
    "start": "1278960",
    "end": "1281360"
  },
  {
    "text": "host side a fallback which helped us",
    "start": "1281360",
    "end": "1283440"
  },
  {
    "text": "reduce the number of unique Matrix seres",
    "start": "1283440",
    "end": "1284880"
  },
  {
    "text": "elevating load on Prometheus but again",
    "start": "1284880",
    "end": "1286960"
  },
  {
    "text": "this worked to a certain extent which we",
    "start": "1286960",
    "end": "1290360"
  },
  {
    "text": "decided to use a Federated Prometheus",
    "start": "1290360",
    "end": "1292279"
  },
  {
    "text": "setup and this Federation allows us to",
    "start": "1292279",
    "end": "1294320"
  },
  {
    "text": "split our Matrix load into multiple",
    "start": "1294320",
    "end": "1296200"
  },
  {
    "text": "Prometheus as well as we also dropped",
    "start": "1296200",
    "end": "1298880"
  },
  {
    "text": "short love Matrix from our Federate",
    "start": "1298880",
    "end": "1301200"
  },
  {
    "text": "Prometheus Global Prometheus and this",
    "start": "1301200",
    "end": "1303799"
  },
  {
    "text": "again reduce the load but again it was",
    "start": "1303799",
    "end": "1305400"
  },
  {
    "text": "not efficient because we needed",
    "start": "1305400",
    "end": "1307120"
  },
  {
    "text": "long-term retention for our Matrix 2 so",
    "start": "1307120",
    "end": "1310279"
  },
  {
    "text": "to again at the last we had to rely on",
    "start": "1310279",
    "end": "1312320"
  },
  {
    "text": "Thanos for having horizontally scalable",
    "start": "1312320",
    "end": "1314520"
  },
  {
    "text": "Prometheus and then using S3 for",
    "start": "1314520",
    "end": "1317440"
  },
  {
    "text": "long-term detention which actually",
    "start": "1317440",
    "end": "1318760"
  },
  {
    "text": "helped us to overcome the load and to",
    "start": "1318760",
    "end": "1321679"
  },
  {
    "text": "also have Matrix restored for compliance",
    "start": "1321679",
    "end": "1326000"
  },
  {
    "text": "purposes right so we tried to cover as",
    "start": "1326000",
    "end": "1328279"
  },
  {
    "text": "much as we could you know during this",
    "start": "1328279",
    "end": "1330320"
  },
  {
    "text": "short window of 20 25 minutes so a",
    "start": "1330320",
    "end": "1333200"
  },
  {
    "text": "little bit about what's next for us at",
    "start": "1333200",
    "end": "1335080"
  },
  {
    "text": "deev with our journey with esto so we at",
    "start": "1335080",
    "end": "1338320"
  },
  {
    "text": "deev are Al expanding to different",
    "start": "1338320",
    "end": "1340120"
  },
  {
    "text": "regions now in terms of hosting the",
    "start": "1340120",
    "end": "1341919"
  },
  {
    "text": "platform so that we can cater to our",
    "start": "1341919",
    "end": "1343480"
  },
  {
    "text": "customers needs of data residency and",
    "start": "1343480",
    "end": "1345720"
  },
  {
    "text": "availability so for that we evaluated",
    "start": "1345720",
    "end": "1348159"
  },
  {
    "text": "multicluster is your deployments uh and",
    "start": "1348159",
    "end": "1350520"
  },
  {
    "text": "different deployment models that it has",
    "start": "1350520",
    "end": "1352120"
  },
  {
    "text": "to offer uh single versus multiple",
    "start": "1352120",
    "end": "1354600"
  },
  {
    "text": "control planes single versus different",
    "start": "1354600",
    "end": "1357120"
  },
  {
    "text": "networks and then you know how you if",
    "start": "1357120",
    "end": "1359080"
  },
  {
    "text": "you need or do not need a cross Network",
    "start": "1359080",
    "end": "1360760"
  },
  {
    "text": "gateway to manage traffic between these",
    "start": "1360760",
    "end": "1362640"
  },
  {
    "text": "clusters and also internal versus",
    "start": "1362640",
    "end": "1364679"
  },
  {
    "text": "external you know CA authorities to",
    "start": "1364679",
    "end": "1366400"
  },
  {
    "text": "manage mtls in those clusters so as the",
    "start": "1366400",
    "end": "1369279"
  },
  {
    "text": "next step U we are going to share our",
    "start": "1369279",
    "end": "1371440"
  },
  {
    "text": "findings and our learnings through that",
    "start": "1371440",
    "end": "1373080"
  },
  {
    "text": "Journey as well so you all can scan the",
    "start": "1373080",
    "end": "1375720"
  },
  {
    "text": "QR code below to access the GitHub",
    "start": "1375720",
    "end": "1377520"
  },
  {
    "text": "repository which is which has manifests",
    "start": "1377520",
    "end": "1379720"
  },
  {
    "text": "of all the implementations we spoke",
    "start": "1379720",
    "end": "1382000"
  },
  {
    "text": "about during this talk and we'll also be",
    "start": "1382000",
    "end": "1383840"
  },
  {
    "text": "sharing these multicluster uh findings",
    "start": "1383840",
    "end": "1386240"
  },
  {
    "text": "to the same repository also like Kush",
    "start": "1386240",
    "end": "1388559"
  },
  {
    "text": "shared initially that we Face issues",
    "start": "1388559",
    "end": "1390400"
  },
  {
    "text": "with our upgrades and that they're not",
    "start": "1390400",
    "end": "1392200"
  },
  {
    "text": "as smooth as we would want it to be so",
    "start": "1392200",
    "end": "1394799"
  },
  {
    "text": "we're writing our own custom operator to",
    "start": "1394799",
    "end": "1397080"
  },
  {
    "text": "take care of those problems have",
    "start": "1397080",
    "end": "1398400"
  },
  {
    "text": "automatic Canary make sure that the data",
    "start": "1398400",
    "end": "1400120"
  },
  {
    "text": "plane uh is upgraded to the same version",
    "start": "1400120",
    "end": "1402159"
  },
  {
    "text": "as control plane and also be more giops",
    "start": "1402159",
    "end": "1405320"
  },
  {
    "text": "friendly so I hope that thank you all",
    "start": "1405320",
    "end": "1408440"
  },
  {
    "text": "for being here I hope we uh prepared you",
    "start": "1408440",
    "end": "1411039"
  },
  {
    "text": "a little bit better in your journey with",
    "start": "1411039",
    "end": "1412919"
  },
  {
    "text": "ISO and also give you a heads up about a",
    "start": "1412919",
    "end": "1414840"
  },
  {
    "text": "few bumps that you might run into so",
    "start": "1414840",
    "end": "1417279"
  },
  {
    "text": "thank you everybody for being here",
    "start": "1417279",
    "end": "1418840"
  },
  {
    "text": "please we request you to uh give",
    "start": "1418840",
    "end": "1420480"
  },
  {
    "text": "feedback you scanning the QR code here",
    "start": "1420480",
    "end": "1422600"
  },
  {
    "text": "about the talk what you liked what you",
    "start": "1422600",
    "end": "1424120"
  },
  {
    "text": "did not so we can make ourselves better",
    "start": "1424120",
    "end": "1426760"
  },
  {
    "text": "and um I don't know if we still have",
    "start": "1426760",
    "end": "1428200"
  },
  {
    "text": "time but uh if we do we can take a few",
    "start": "1428200",
    "end": "1430320"
  },
  {
    "text": "questions",
    "start": "1430320",
    "end": "1433320"
  }
]