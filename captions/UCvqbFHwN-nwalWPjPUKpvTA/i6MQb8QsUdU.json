[
  {
    "start": "0",
    "end": "24000"
  },
  {
    "text": "hello everyone and welcome to our",
    "start": "1280",
    "end": "2720"
  },
  {
    "text": "session on cozy here at kuchan eu",
    "start": "2720",
    "end": "4960"
  },
  {
    "text": "we hope you're enjoying the conference",
    "start": "4960",
    "end": "6160"
  },
  {
    "text": "so far i'm stephen pirelli and i'm",
    "start": "6160",
    "end": "8240"
  },
  {
    "text": "andrew reinhart",
    "start": "8240",
    "end": "10240"
  },
  {
    "text": "we're very excited to show cozy to a",
    "start": "10240",
    "end": "11840"
  },
  {
    "text": "larger audience for the first time",
    "start": "11840",
    "end": "14000"
  },
  {
    "text": "cozy is the result of developing talos",
    "start": "14000",
    "end": "16480"
  },
  {
    "text": "for the last five years",
    "start": "16480",
    "end": "18320"
  },
  {
    "text": "and distilling the lessons we've learned",
    "start": "18320",
    "end": "20480"
  },
  {
    "text": "into a specification we would like to",
    "start": "20480",
    "end": "22480"
  },
  {
    "text": "share with the world",
    "start": "22480",
    "end": "25359"
  },
  {
    "start": "24000",
    "end": "60000"
  },
  {
    "text": "let's start at the very beginning and",
    "start": "26160",
    "end": "28480"
  },
  {
    "text": "define what cozy is",
    "start": "28480",
    "end": "30400"
  },
  {
    "text": "cozy it's an acronym for the common",
    "start": "30400",
    "end": "32800"
  },
  {
    "text": "operating system interface",
    "start": "32800",
    "end": "34640"
  },
  {
    "text": "and what it concerns itself with is the",
    "start": "34640",
    "end": "36800"
  },
  {
    "text": "configuration",
    "start": "36800",
    "end": "38079"
  },
  {
    "text": "of the nodes that run in a kubernetes",
    "start": "38079",
    "end": "40800"
  },
  {
    "text": "cluster",
    "start": "40800",
    "end": "41520"
  },
  {
    "text": "so whenever you provision a new cluster",
    "start": "41520",
    "end": "43600"
  },
  {
    "text": "first you provision the nodes whether",
    "start": "43600",
    "end": "45200"
  },
  {
    "text": "they're bare metal or vm and then on the",
    "start": "45200",
    "end": "46719"
  },
  {
    "text": "next thing is you actually have to",
    "start": "46719",
    "end": "47760"
  },
  {
    "text": "configure those nodes for things like",
    "start": "47760",
    "end": "49360"
  },
  {
    "text": "networking",
    "start": "49360",
    "end": "50079"
  },
  {
    "text": "disk any processes that you want to run",
    "start": "50079",
    "end": "52719"
  },
  {
    "text": "installing the kubernetes software",
    "start": "52719",
    "end": "54719"
  },
  {
    "text": "that's what cozy concerns itself with it",
    "start": "54719",
    "end": "57920"
  },
  {
    "text": "also gave us",
    "start": "57920",
    "end": "59199"
  },
  {
    "text": "a chance to reimagine operating systems",
    "start": "59199",
    "end": "63680"
  },
  {
    "start": "60000",
    "end": "80000"
  },
  {
    "text": "and for this is what we do in operating",
    "start": "63680",
    "end": "65920"
  },
  {
    "text": "systems",
    "start": "65920",
    "end": "67280"
  },
  {
    "text": "in a kubernetes world another thing",
    "start": "67280",
    "end": "69760"
  },
  {
    "text": "about cozy that's",
    "start": "69760",
    "end": "70799"
  },
  {
    "text": "actually been really fun is it given us",
    "start": "70799",
    "end": "73040"
  },
  {
    "text": "the chance to rethink exactly what it",
    "start": "73040",
    "end": "75280"
  },
  {
    "text": "means to be an",
    "start": "75280",
    "end": "76159"
  },
  {
    "text": "operating system in the age of",
    "start": "76159",
    "end": "77920"
  },
  {
    "text": "containers and distributed schedulers",
    "start": "77920",
    "end": "81200"
  },
  {
    "start": "80000",
    "end": "126000"
  },
  {
    "text": "finally let's talk about the why cozy",
    "start": "81200",
    "end": "84799"
  },
  {
    "text": "one of the reasons is that kubernetes",
    "start": "84799",
    "end": "86479"
  },
  {
    "text": "and its ecosystem",
    "start": "86479",
    "end": "88000"
  },
  {
    "text": "from cluster api to things like the",
    "start": "88000",
    "end": "89680"
  },
  {
    "text": "storage and networking interfaces",
    "start": "89680",
    "end": "91119"
  },
  {
    "text": "they're deeply intertwined with the",
    "start": "91119",
    "end": "93040"
  },
  {
    "text": "underlying linux operating system",
    "start": "93040",
    "end": "95040"
  },
  {
    "text": "in many ways and what we find",
    "start": "95040",
    "end": "98400"
  },
  {
    "text": "is that kubernetes and linux they don't",
    "start": "98400",
    "end": "100960"
  },
  {
    "text": "only differ",
    "start": "100960",
    "end": "101920"
  },
  {
    "text": "in the way they're implemented",
    "start": "101920",
    "end": "102960"
  },
  {
    "text": "technologically but there's also a",
    "start": "102960",
    "end": "105040"
  },
  {
    "text": "difference in philosophy",
    "start": "105040",
    "end": "106479"
  },
  {
    "text": "in the way the systems are composed and",
    "start": "106479",
    "end": "107920"
  },
  {
    "text": "we're going to talk about this a little",
    "start": "107920",
    "end": "109119"
  },
  {
    "text": "bit",
    "start": "109119",
    "end": "109600"
  },
  {
    "text": "the philosophy of unix and what we see",
    "start": "109600",
    "end": "111759"
  },
  {
    "text": "is that this causes problems at the",
    "start": "111759",
    "end": "113360"
  },
  {
    "text": "boundary where kubernetes",
    "start": "113360",
    "end": "114880"
  },
  {
    "text": "and linux interact with one another",
    "start": "114880",
    "end": "118560"
  },
  {
    "text": "so now that we've talked about the",
    "start": "118960",
    "end": "120560"
  },
  {
    "text": "motivation for this project",
    "start": "120560",
    "end": "122399"
  },
  {
    "text": "let's talk about some of the things that",
    "start": "122399",
    "end": "123920"
  },
  {
    "text": "we'd like to have as desired features",
    "start": "123920",
    "end": "127040"
  },
  {
    "start": "126000",
    "end": "227000"
  },
  {
    "text": "the first thing one of our highest",
    "start": "127040",
    "end": "128720"
  },
  {
    "text": "priorities is having an operating system",
    "start": "128720",
    "end": "130560"
  },
  {
    "text": "that is completely api driven",
    "start": "130560",
    "end": "132879"
  },
  {
    "text": "and what this means in practice is that",
    "start": "132879",
    "end": "135599"
  },
  {
    "text": "we want",
    "start": "135599",
    "end": "136400"
  },
  {
    "text": "an operating system that doesn't need to",
    "start": "136400",
    "end": "138080"
  },
  {
    "text": "have a shell installed and",
    "start": "138080",
    "end": "139840"
  },
  {
    "text": "we would not like to have people sshing",
    "start": "139840",
    "end": "142080"
  },
  {
    "text": "into this box to configure things",
    "start": "142080",
    "end": "143520"
  },
  {
    "text": "everything on the operating system",
    "start": "143520",
    "end": "144959"
  },
  {
    "text": "should be configurable via an api",
    "start": "144959",
    "end": "147840"
  },
  {
    "text": "another thing that we're really looking",
    "start": "147840",
    "end": "149840"
  },
  {
    "text": "to implement in this operating system is",
    "start": "149840",
    "end": "151920"
  },
  {
    "text": "having configuration settings",
    "start": "151920",
    "end": "153680"
  },
  {
    "text": "have a standardized model to them",
    "start": "153680",
    "end": "155840"
  },
  {
    "text": "currently in the unix world we have lots",
    "start": "155840",
    "end": "157599"
  },
  {
    "text": "of different file formats for every",
    "start": "157599",
    "end": "159040"
  },
  {
    "text": "single",
    "start": "159040",
    "end": "159440"
  },
  {
    "text": "different application and this causes a",
    "start": "159440",
    "end": "161360"
  },
  {
    "text": "lot of issues in terms of integrating",
    "start": "161360",
    "end": "162959"
  },
  {
    "text": "with other tools so one of our goals is",
    "start": "162959",
    "end": "164560"
  },
  {
    "text": "to be similar to kubernetes",
    "start": "164560",
    "end": "166239"
  },
  {
    "text": "and have a standardized model for any",
    "start": "166239",
    "end": "167840"
  },
  {
    "text": "kind of settings that we want to put",
    "start": "167840",
    "end": "168959"
  },
  {
    "text": "into",
    "start": "168959",
    "end": "169280"
  },
  {
    "text": "whether it's a disk or dns settings or",
    "start": "169280",
    "end": "171360"
  },
  {
    "text": "anything like that",
    "start": "171360",
    "end": "173120"
  },
  {
    "text": "another thing that was very inspiring to",
    "start": "173120",
    "end": "175120"
  },
  {
    "text": "us was the pattern of kubernetes",
    "start": "175120",
    "end": "177519"
  },
  {
    "text": "controllers and custom resource",
    "start": "177519",
    "end": "178879"
  },
  {
    "text": "definitions now custom resource",
    "start": "178879",
    "end": "180319"
  },
  {
    "text": "definitions",
    "start": "180319",
    "end": "181040"
  },
  {
    "text": "allow you to extend the platform with a",
    "start": "181040",
    "end": "183280"
  },
  {
    "text": "flexible schema so you can make",
    "start": "183280",
    "end": "185280"
  },
  {
    "text": "your own objects look like kubernetes on",
    "start": "185280",
    "end": "188319"
  },
  {
    "text": "the back end",
    "start": "188319",
    "end": "189200"
  },
  {
    "text": "the way it's decoupled and you could run",
    "start": "189200",
    "end": "191280"
  },
  {
    "text": "controllers that actually get to the",
    "start": "191280",
    "end": "192720"
  },
  {
    "text": "desired state and you can write these in",
    "start": "192720",
    "end": "194319"
  },
  {
    "text": "any language you want and they just",
    "start": "194319",
    "end": "195920"
  },
  {
    "text": "continually run and reconcile so this",
    "start": "195920",
    "end": "197680"
  },
  {
    "text": "was something that inspired us",
    "start": "197680",
    "end": "199200"
  },
  {
    "text": "this kind of running model and then",
    "start": "199200",
    "end": "201519"
  },
  {
    "text": "finally we wanted these",
    "start": "201519",
    "end": "203360"
  },
  {
    "text": "systems to be able to easily propagate",
    "start": "203360",
    "end": "205519"
  },
  {
    "text": "events to other applications running on",
    "start": "205519",
    "end": "207680"
  },
  {
    "text": "the system",
    "start": "207680",
    "end": "208560"
  },
  {
    "text": "now there are a lot of eventing systems",
    "start": "208560",
    "end": "210959"
  },
  {
    "text": "on linux but we've seen in the past that",
    "start": "210959",
    "end": "212560"
  },
  {
    "text": "they're not heavily used because",
    "start": "212560",
    "end": "213760"
  },
  {
    "text": "sometimes the interfaces are difficult",
    "start": "213760",
    "end": "215360"
  },
  {
    "text": "to use",
    "start": "215360",
    "end": "216720"
  },
  {
    "text": "so we're looking for something that say",
    "start": "216720",
    "end": "218400"
  },
  {
    "text": "if someone pushes a power button",
    "start": "218400",
    "end": "219680"
  },
  {
    "text": "somewhere",
    "start": "219680",
    "end": "220319"
  },
  {
    "text": "we could actually tell kubernetes if",
    "start": "220319",
    "end": "221920"
  },
  {
    "text": "someone's done that",
    "start": "221920",
    "end": "224640"
  },
  {
    "text": "so let's get to the agenda for the rest",
    "start": "224640",
    "end": "226239"
  },
  {
    "text": "of the talk first we're going to venture",
    "start": "226239",
    "end": "228400"
  },
  {
    "start": "227000",
    "end": "262000"
  },
  {
    "text": "into the past",
    "start": "228400",
    "end": "229200"
  },
  {
    "text": "and talk about a little bit of unix",
    "start": "229200",
    "end": "231360"
  },
  {
    "text": "history and",
    "start": "231360",
    "end": "232319"
  },
  {
    "text": "we hope this will help you understand",
    "start": "232319",
    "end": "233920"
  },
  {
    "text": "where unix comes from then we're going",
    "start": "233920",
    "end": "235760"
  },
  {
    "text": "to venture into the present and talk",
    "start": "235760",
    "end": "237200"
  },
  {
    "text": "about",
    "start": "237200",
    "end": "237599"
  },
  {
    "text": "modern container operating systems and",
    "start": "237599",
    "end": "239760"
  },
  {
    "text": "then we'll be having a deeper dive into",
    "start": "239760",
    "end": "241599"
  },
  {
    "text": "cozy",
    "start": "241599",
    "end": "242560"
  },
  {
    "text": "after that andrew's going to show you a",
    "start": "242560",
    "end": "244879"
  },
  {
    "text": "cozy demo of some of the cool things",
    "start": "244879",
    "end": "246400"
  },
  {
    "text": "that we've implemented so far in the",
    "start": "246400",
    "end": "247680"
  },
  {
    "text": "reference implementation",
    "start": "247680",
    "end": "249040"
  },
  {
    "text": "and then we'll have a q a so first let's",
    "start": "249040",
    "end": "252720"
  },
  {
    "text": "go back in the past",
    "start": "252720",
    "end": "254239"
  },
  {
    "text": "and learn about the history of unix",
    "start": "254239",
    "end": "257680"
  },
  {
    "text": "so let's start by talking about the",
    "start": "259199",
    "end": "261440"
  },
  {
    "text": "history of the unix system",
    "start": "261440",
    "end": "263280"
  },
  {
    "start": "262000",
    "end": "336000"
  },
  {
    "text": "and to assist us in our history lesson",
    "start": "263280",
    "end": "265040"
  },
  {
    "text": "today we'll be sourcing a video from",
    "start": "265040",
    "end": "267440"
  },
  {
    "text": "1982 by bell labs",
    "start": "267440",
    "end": "269280"
  },
  {
    "text": "it's called the unix system making",
    "start": "269280",
    "end": "270800"
  },
  {
    "text": "computers more productive and i do",
    "start": "270800",
    "end": "272720"
  },
  {
    "text": "appreciate the fancy graphics",
    "start": "272720",
    "end": "274639"
  },
  {
    "text": "so the first thing you need to know is",
    "start": "274639",
    "end": "275919"
  },
  {
    "text": "that if you're running kubernetes today",
    "start": "275919",
    "end": "277600"
  },
  {
    "text": "the odds are overwhelming that you are",
    "start": "277600",
    "end": "279199"
  },
  {
    "text": "running at an operating system called",
    "start": "279199",
    "end": "280639"
  },
  {
    "text": "linux",
    "start": "280639",
    "end": "281600"
  },
  {
    "text": "which is a descendant in a very complex",
    "start": "281600",
    "end": "284560"
  },
  {
    "text": "family tree that goes all the way back",
    "start": "284560",
    "end": "286400"
  },
  {
    "text": "to this earlier system called unix",
    "start": "286400",
    "end": "288800"
  },
  {
    "text": "and unix itself is very opinionated",
    "start": "288800",
    "end": "292080"
  },
  {
    "text": "it's a very simple operating system",
    "start": "292080",
    "end": "294000"
  },
  {
    "text": "because it descended from another system",
    "start": "294000",
    "end": "296000"
  },
  {
    "text": "that was being developed in the late 60s",
    "start": "296000",
    "end": "298000"
  },
  {
    "text": "it was called multix and multix due to",
    "start": "298000",
    "end": "300479"
  },
  {
    "text": "its complexity",
    "start": "300479",
    "end": "301520"
  },
  {
    "text": "was having a very slow development",
    "start": "301520",
    "end": "303600"
  },
  {
    "text": "rollout",
    "start": "303600",
    "end": "304639"
  },
  {
    "text": "so the folks who were developing unix at",
    "start": "304639",
    "end": "306639"
  },
  {
    "text": "bell labs wanted simplicity",
    "start": "306639",
    "end": "308720"
  },
  {
    "text": "as a core function of the operating",
    "start": "308720",
    "end": "310720"
  },
  {
    "text": "system another thing that was very",
    "start": "310720",
    "end": "312800"
  },
  {
    "text": "important for the early inventors of",
    "start": "312800",
    "end": "314400"
  },
  {
    "text": "unix like ken thompson and dennis",
    "start": "314400",
    "end": "316080"
  },
  {
    "text": "ritchie is that they were programmers",
    "start": "316080",
    "end": "317919"
  },
  {
    "text": "and they wanted an environment that they",
    "start": "317919",
    "end": "319360"
  },
  {
    "text": "could enjoy working in in a communal",
    "start": "319360",
    "end": "321120"
  },
  {
    "text": "environment",
    "start": "321120",
    "end": "321919"
  },
  {
    "text": "so from the very beginning this concept",
    "start": "321919",
    "end": "325039"
  },
  {
    "text": "of a common work area that you can log",
    "start": "325039",
    "end": "326960"
  },
  {
    "text": "in and program interactively was very",
    "start": "326960",
    "end": "328880"
  },
  {
    "text": "important to them",
    "start": "328880",
    "end": "330080"
  },
  {
    "text": "and these kind of ideas simplicity and",
    "start": "330080",
    "end": "331919"
  },
  {
    "text": "communal work",
    "start": "331919",
    "end": "333440"
  },
  {
    "text": "influence unix to this day another real",
    "start": "333440",
    "end": "336240"
  },
  {
    "start": "336000",
    "end": "390000"
  },
  {
    "text": "key core concept of unix is this idea",
    "start": "336240",
    "end": "338639"
  },
  {
    "text": "that it's a multi-user time sharing",
    "start": "338639",
    "end": "340479"
  },
  {
    "text": "system",
    "start": "340479",
    "end": "341120"
  },
  {
    "text": "what this meant was unix was designed so",
    "start": "341120",
    "end": "343919"
  },
  {
    "text": "that many people could log into the same",
    "start": "343919",
    "end": "345919"
  },
  {
    "text": "time and perform work",
    "start": "345919",
    "end": "347440"
  },
  {
    "text": "and the way folks logged into a unix",
    "start": "347440",
    "end": "349360"
  },
  {
    "text": "system was via a serial connection",
    "start": "349360",
    "end": "351520"
  },
  {
    "text": "they would set up a terminal hook it up",
    "start": "351520",
    "end": "353199"
  },
  {
    "text": "to the system and as soon as they did",
    "start": "353199",
    "end": "354639"
  },
  {
    "text": "that",
    "start": "354639",
    "end": "355120"
  },
  {
    "text": "they would get a program called a shell",
    "start": "355120",
    "end": "356800"
  },
  {
    "text": "that they could issue",
    "start": "356800",
    "end": "358240"
  },
  {
    "text": "interactive commands to so there's two",
    "start": "358240",
    "end": "360560"
  },
  {
    "text": "concepts here that we see in unix that",
    "start": "360560",
    "end": "362639"
  },
  {
    "text": "we may not want",
    "start": "362639",
    "end": "363600"
  },
  {
    "text": "in the kubernetes world the first one is",
    "start": "363600",
    "end": "366319"
  },
  {
    "text": "we do not want",
    "start": "366319",
    "end": "367520"
  },
  {
    "text": "users directly logging into our systems",
    "start": "367520",
    "end": "370240"
  },
  {
    "text": "and we don't want them",
    "start": "370240",
    "end": "371360"
  },
  {
    "text": "sharing resources the ideal kubernetes",
    "start": "371360",
    "end": "373360"
  },
  {
    "text": "workload is something that's highly",
    "start": "373360",
    "end": "374639"
  },
  {
    "text": "isolated from every other workload",
    "start": "374639",
    "end": "376960"
  },
  {
    "text": "another issue is that these shells still",
    "start": "376960",
    "end": "380080"
  },
  {
    "text": "exist today in the form of programs like",
    "start": "380080",
    "end": "381840"
  },
  {
    "text": "secure shell we still",
    "start": "381840",
    "end": "383120"
  },
  {
    "text": "predominantly manage unix systems by",
    "start": "383120",
    "end": "385199"
  },
  {
    "text": "issuing commands and reading the output",
    "start": "385199",
    "end": "388960"
  },
  {
    "start": "390000",
    "end": "417000"
  },
  {
    "text": "another key concept of unix is that",
    "start": "390319",
    "end": "392800"
  },
  {
    "text": "files are really unstructured in the",
    "start": "392800",
    "end": "394479"
  },
  {
    "text": "system and the canonical way to work in",
    "start": "394479",
    "end": "396000"
  },
  {
    "text": "unix is to take this unstructured text",
    "start": "396000",
    "end": "398160"
  },
  {
    "text": "and pass it through a series of filters",
    "start": "398160",
    "end": "399919"
  },
  {
    "text": "and all these small single purpose",
    "start": "399919",
    "end": "401280"
  },
  {
    "text": "utilities",
    "start": "401280",
    "end": "402240"
  },
  {
    "text": "to get the result that you want and",
    "start": "402240",
    "end": "404880"
  },
  {
    "text": "while this allows an enormous amount of",
    "start": "404880",
    "end": "406479"
  },
  {
    "text": "flexibility it also had a legacy that",
    "start": "406479",
    "end": "408479"
  },
  {
    "text": "unix ended up with not having a lot of",
    "start": "408479",
    "end": "410479"
  },
  {
    "text": "standards in terms of configuration",
    "start": "410479",
    "end": "412319"
  },
  {
    "text": "files",
    "start": "412319",
    "end": "413120"
  },
  {
    "text": "and this made building tooling around",
    "start": "413120",
    "end": "414479"
  },
  {
    "text": "unix very complex",
    "start": "414479",
    "end": "417039"
  },
  {
    "start": "417000",
    "end": "458000"
  },
  {
    "text": "the last thing i want you to know about",
    "start": "417039",
    "end": "418720"
  },
  {
    "text": "unix is fragmentation",
    "start": "418720",
    "end": "421120"
  },
  {
    "text": "when a t developed unix since they were",
    "start": "421120",
    "end": "423199"
  },
  {
    "text": "a monopoly they were forced by the",
    "start": "423199",
    "end": "424639"
  },
  {
    "text": "government to license units to other",
    "start": "424639",
    "end": "426080"
  },
  {
    "text": "companies",
    "start": "426080",
    "end": "426800"
  },
  {
    "text": "and academic institutions and because of",
    "start": "426800",
    "end": "429039"
  },
  {
    "text": "this we ended up having",
    "start": "429039",
    "end": "430240"
  },
  {
    "text": "many slightly incompatible unix variants",
    "start": "430240",
    "end": "432880"
  },
  {
    "text": "and this was the condition for the first",
    "start": "432880",
    "end": "434319"
  },
  {
    "text": "couple decades",
    "start": "434319",
    "end": "435360"
  },
  {
    "text": "of the life of unix until in 1991 an",
    "start": "435360",
    "end": "438000"
  },
  {
    "text": "open source operating system came out",
    "start": "438000",
    "end": "439599"
  },
  {
    "text": "called linux that was mostly unix",
    "start": "439599",
    "end": "441360"
  },
  {
    "text": "compatible",
    "start": "441360",
    "end": "442720"
  },
  {
    "text": "unix linux over the next couple decades",
    "start": "442720",
    "end": "445120"
  },
  {
    "text": "ended up",
    "start": "445120",
    "end": "445919"
  },
  {
    "text": "eliminating the market share of almost",
    "start": "445919",
    "end": "447680"
  },
  {
    "text": "every commercial unix and becoming",
    "start": "447680",
    "end": "449120"
  },
  {
    "text": "dominant",
    "start": "449120",
    "end": "450000"
  },
  {
    "text": "of course linux itself saw multiple",
    "start": "450000",
    "end": "452720"
  },
  {
    "text": "distributions emerge each",
    "start": "452720",
    "end": "454319"
  },
  {
    "text": "which was slightly incompatible with the",
    "start": "454319",
    "end": "455840"
  },
  {
    "text": "others",
    "start": "455840",
    "end": "458160"
  },
  {
    "text": "in 2013 the linux community was",
    "start": "459039",
    "end": "461680"
  },
  {
    "text": "transformed by the emergence",
    "start": "461680",
    "end": "463199"
  },
  {
    "text": "of docker docker is built upon c groups",
    "start": "463199",
    "end": "466319"
  },
  {
    "text": "and name spaces in the linux kernel",
    "start": "466319",
    "end": "468319"
  },
  {
    "text": "and it made it easier for developers to",
    "start": "468319",
    "end": "470000"
  },
  {
    "text": "package share and deploy",
    "start": "470000",
    "end": "471360"
  },
  {
    "text": "applications using docker means you",
    "start": "471360",
    "end": "473759"
  },
  {
    "text": "don't have to have a system",
    "start": "473759",
    "end": "474639"
  },
  {
    "text": "administrator install your application",
    "start": "474639",
    "end": "476319"
  },
  {
    "text": "on the server itself",
    "start": "476319",
    "end": "477360"
  },
  {
    "text": "they could just run your container with",
    "start": "477360",
    "end": "479120"
  },
  {
    "text": "the growing popularity of containers",
    "start": "479120",
    "end": "480879"
  },
  {
    "text": "came the emergence of cluster schedulers",
    "start": "480879",
    "end": "483120"
  },
  {
    "text": "including our favorite one which allowed",
    "start": "483120",
    "end": "485039"
  },
  {
    "text": "organizations to run containerized",
    "start": "485039",
    "end": "486720"
  },
  {
    "text": "workloads across a pool of servers",
    "start": "486720",
    "end": "488479"
  },
  {
    "text": "this combination of containers and",
    "start": "488479",
    "end": "490400"
  },
  {
    "text": "schedulers caused many developers to",
    "start": "490400",
    "end": "492240"
  },
  {
    "text": "start rethinking the role of the",
    "start": "492240",
    "end": "493680"
  },
  {
    "text": "traditional operating system",
    "start": "493680",
    "end": "495599"
  },
  {
    "text": "and this led to the emergence of the",
    "start": "495599",
    "end": "497520"
  },
  {
    "text": "container operating system",
    "start": "497520",
    "end": "499599"
  },
  {
    "text": "now container operating systems are",
    "start": "499599",
    "end": "501280"
  },
  {
    "text": "focused on stripping out functionality",
    "start": "501280",
    "end": "503199"
  },
  {
    "text": "from full-featured linux distributions",
    "start": "503199",
    "end": "505440"
  },
  {
    "text": "set the only remaining software",
    "start": "505440",
    "end": "507520"
  },
  {
    "text": "installed is what's required to run a",
    "start": "507520",
    "end": "509199"
  },
  {
    "text": "containerized workload and the",
    "start": "509199",
    "end": "510560"
  },
  {
    "text": "schedulers",
    "start": "510560",
    "end": "511599"
  },
  {
    "text": "this was a significant advance but",
    "start": "511599",
    "end": "513760"
  },
  {
    "text": "container operating systems are starting",
    "start": "513760",
    "end": "515599"
  },
  {
    "text": "to present their own challenges",
    "start": "515599",
    "end": "518959"
  },
  {
    "start": "519000",
    "end": "595000"
  },
  {
    "text": "so let's talk about modern container",
    "start": "519200",
    "end": "520880"
  },
  {
    "text": "operating systems",
    "start": "520880",
    "end": "522800"
  },
  {
    "text": "as part of the research into cozy we",
    "start": "522800",
    "end": "524880"
  },
  {
    "text": "surveyed the documentation",
    "start": "524880",
    "end": "526399"
  },
  {
    "text": "and code for a number of popular",
    "start": "526399",
    "end": "527760"
  },
  {
    "text": "container operating systems including",
    "start": "527760",
    "end": "529440"
  },
  {
    "text": "flat car",
    "start": "529440",
    "end": "530480"
  },
  {
    "text": "bottle rocket k3os and talos we were",
    "start": "530480",
    "end": "533360"
  },
  {
    "text": "really impressed",
    "start": "533360",
    "end": "534000"
  },
  {
    "text": "with all the operating systems but there",
    "start": "534000",
    "end": "535519"
  },
  {
    "text": "are several things that we noticed which",
    "start": "535519",
    "end": "537040"
  },
  {
    "text": "ended up influencing the design of cozy",
    "start": "537040",
    "end": "539839"
  },
  {
    "text": "first the systems have very little in",
    "start": "539839",
    "end": "542160"
  },
  {
    "text": "common in configuration",
    "start": "542160",
    "end": "543680"
  },
  {
    "text": "from the initial node user data that you",
    "start": "543680",
    "end": "545519"
  },
  {
    "text": "send on boot to how os settings are",
    "start": "545519",
    "end": "547600"
  },
  {
    "text": "defined",
    "start": "547600",
    "end": "548160"
  },
  {
    "text": "and validated another thing we noticed",
    "start": "548160",
    "end": "550720"
  },
  {
    "text": "is that there is no common api",
    "start": "550720",
    "end": "552720"
  },
  {
    "text": "some container operating systems use ssh",
    "start": "552720",
    "end": "555120"
  },
  {
    "text": "others have http or grbc apis",
    "start": "555120",
    "end": "558320"
  },
  {
    "text": "other ones are designed not even to be",
    "start": "558320",
    "end": "559920"
  },
  {
    "text": "managed via an api you just boot them",
    "start": "559920",
    "end": "561680"
  },
  {
    "text": "and if you need to make changes you just",
    "start": "561680",
    "end": "562959"
  },
  {
    "text": "boot them with different user data",
    "start": "562959",
    "end": "566320"
  },
  {
    "text": "another difference between all these api",
    "start": "566399",
    "end": "568640"
  },
  {
    "text": "all these container operating systems is",
    "start": "568640",
    "end": "570480"
  },
  {
    "text": "core technologies",
    "start": "570480",
    "end": "571680"
  },
  {
    "text": "of the four surveyed operating systems",
    "start": "571680",
    "end": "574000"
  },
  {
    "text": "there are three different init systems",
    "start": "574000",
    "end": "576160"
  },
  {
    "text": "now two of these container operating",
    "start": "576160",
    "end": "577600"
  },
  {
    "text": "systems use system d but the way they",
    "start": "577600",
    "end": "579680"
  },
  {
    "text": "manage it is completely different",
    "start": "579680",
    "end": "583040"
  },
  {
    "text": "finally even though these operating",
    "start": "583040",
    "end": "584560"
  },
  {
    "text": "systems share many of the same goals",
    "start": "584560",
    "end": "587200"
  },
  {
    "text": "we found that there wasn't a lot of",
    "start": "587200",
    "end": "588480"
  },
  {
    "text": "shared technology in the underlying",
    "start": "588480",
    "end": "590399"
  },
  {
    "text": "implementations of these operating",
    "start": "590399",
    "end": "591920"
  },
  {
    "text": "systems",
    "start": "591920",
    "end": "594320"
  },
  {
    "text": "so we're seeing the same fragmentation",
    "start": "594560",
    "end": "596720"
  },
  {
    "text": "we're running the risk of repeating unix",
    "start": "596720",
    "end": "598640"
  },
  {
    "text": "history and having multiple incompatible",
    "start": "598640",
    "end": "600320"
  },
  {
    "text": "operating systems",
    "start": "600320",
    "end": "602079"
  },
  {
    "text": "but here's the thing what we've seen",
    "start": "602079",
    "end": "603519"
  },
  {
    "text": "with kubernetes is that we could define",
    "start": "603519",
    "end": "605760"
  },
  {
    "text": "common standards that still",
    "start": "605760",
    "end": "607360"
  },
  {
    "text": "allow innovation",
    "start": "607360",
    "end": "610480"
  },
  {
    "text": "all right so let's talk about cozy first",
    "start": "611200",
    "end": "614079"
  },
  {
    "text": "things first",
    "start": "614079",
    "end": "615040"
  },
  {
    "text": "this is a disclaimer we're recording",
    "start": "615040",
    "end": "617279"
  },
  {
    "text": "this talk about a month before kubecon",
    "start": "617279",
    "end": "619760"
  },
  {
    "text": "and cozy is an active development so",
    "start": "619760",
    "end": "621600"
  },
  {
    "text": "what you see at the time of this talk",
    "start": "621600",
    "end": "623279"
  },
  {
    "text": "may be very different than what we're",
    "start": "623279",
    "end": "624720"
  },
  {
    "text": "presenting here",
    "start": "624720",
    "end": "627439"
  },
  {
    "text": "the first thing we want you to know",
    "start": "628240",
    "end": "629519"
  },
  {
    "text": "about cozy is that it includes a set of",
    "start": "629519",
    "end": "631440"
  },
  {
    "text": "modeled configurations",
    "start": "631440",
    "end": "633200"
  },
  {
    "text": "and what this means is that basically",
    "start": "633200",
    "end": "634800"
  },
  {
    "text": "everything that could be configured on a",
    "start": "634800",
    "end": "636399"
  },
  {
    "text": "container operating system",
    "start": "636399",
    "end": "637920"
  },
  {
    "text": "has a model defined the examples we're",
    "start": "637920",
    "end": "640560"
  },
  {
    "text": "showing here are in yaml because he",
    "start": "640560",
    "end": "642640"
  },
  {
    "text": "doesn't care it could be in tamil or",
    "start": "642640",
    "end": "644240"
  },
  {
    "text": "json as long as it can be serialized",
    "start": "644240",
    "end": "646000"
  },
  {
    "text": "into the cozy poto buff message you can",
    "start": "646000",
    "end": "648399"
  },
  {
    "text": "use it",
    "start": "648399",
    "end": "649760"
  },
  {
    "text": "the next thing that cozy defines is the",
    "start": "649760",
    "end": "651440"
  },
  {
    "text": "common rpc definitions",
    "start": "651440",
    "end": "652959"
  },
  {
    "text": "if you're used to kubernetes these are",
    "start": "652959",
    "end": "654480"
  },
  {
    "text": "things like get set list",
    "start": "654480",
    "end": "656000"
  },
  {
    "text": "and watch and others cozy",
    "start": "656000",
    "end": "659120"
  },
  {
    "text": "also defines plug-in standards and these",
    "start": "659120",
    "end": "661440"
  },
  {
    "text": "are inspired by kubernetes projects such",
    "start": "661440",
    "end": "663519"
  },
  {
    "text": "as the cni and the csi",
    "start": "663519",
    "end": "666720"
  },
  {
    "text": "finally as part of the cozy project",
    "start": "666720",
    "end": "669200"
  },
  {
    "text": "there's a reference implementation",
    "start": "669200",
    "end": "670480"
  },
  {
    "text": "that's written in rust",
    "start": "670480",
    "end": "671839"
  },
  {
    "text": "and this is being inspired by an",
    "start": "671839",
    "end": "673279"
  },
  {
    "text": "internal rewrite of the talos os",
    "start": "673279",
    "end": "675200"
  },
  {
    "text": "engine",
    "start": "675200",
    "end": "677519"
  },
  {
    "start": "679000",
    "end": "693000"
  },
  {
    "text": "models in cozy are protobuf messages",
    "start": "679600",
    "end": "682720"
  },
  {
    "text": "and these protobuf messages map very",
    "start": "682720",
    "end": "685040"
  },
  {
    "text": "closely",
    "start": "685040",
    "end": "685839"
  },
  {
    "text": "to linux and other unix settings",
    "start": "685839",
    "end": "689839"
  },
  {
    "text": "the next step in cozy is defining a",
    "start": "694079",
    "end": "695920"
  },
  {
    "text": "series of rpcs and these are inspired",
    "start": "695920",
    "end": "697920"
  },
  {
    "text": "and very similar to kubernetes rpcs you",
    "start": "697920",
    "end": "700160"
  },
  {
    "text": "can",
    "start": "700160",
    "end": "700800"
  },
  {
    "text": "manipulate resources by listing them",
    "start": "700800",
    "end": "702959"
  },
  {
    "text": "getting them creating them watching them",
    "start": "702959",
    "end": "705600"
  },
  {
    "text": "and cozy tends to be a declarative",
    "start": "705600",
    "end": "707519"
  },
  {
    "text": "system in terms of that you set the",
    "start": "707519",
    "end": "709040"
  },
  {
    "text": "desired state for a resource and then",
    "start": "709040",
    "end": "710880"
  },
  {
    "text": "the cozy plugins will work to get the",
    "start": "710880",
    "end": "712480"
  },
  {
    "text": "system into that state",
    "start": "712480",
    "end": "716000"
  },
  {
    "text": "for communication cozy uses",
    "start": "716000",
    "end": "717920"
  },
  {
    "text": "bi-directional grpc",
    "start": "717920",
    "end": "719360"
  },
  {
    "text": "now as part of the research into cozy we",
    "start": "719360",
    "end": "721279"
  },
  {
    "text": "have investigated other internal ipc",
    "start": "721279",
    "end": "723120"
  },
  {
    "text": "systems for linux but for simplicity of",
    "start": "723120",
    "end": "724880"
  },
  {
    "text": "implementation we are starting with grpc",
    "start": "724880",
    "end": "727279"
  },
  {
    "text": "another important thing to understand",
    "start": "727279",
    "end": "728720"
  },
  {
    "text": "about cozy is that plugins are designed",
    "start": "728720",
    "end": "732079"
  },
  {
    "text": "or meant to be as close to the",
    "start": "732079",
    "end": "734000"
  },
  {
    "text": "underlying operating system as possible",
    "start": "734000",
    "end": "735839"
  },
  {
    "text": "cozy is not a configuration management",
    "start": "735839",
    "end": "737839"
  },
  {
    "text": "system",
    "start": "737839",
    "end": "738639"
  },
  {
    "text": "we don't want to wrap other commands and",
    "start": "738639",
    "end": "741200"
  },
  {
    "text": "execute shell commands and parse the",
    "start": "741200",
    "end": "742639"
  },
  {
    "text": "output",
    "start": "742639",
    "end": "743360"
  },
  {
    "text": "the expectation is that a cozy plugin",
    "start": "743360",
    "end": "745040"
  },
  {
    "text": "will be as low level as possible",
    "start": "745040",
    "end": "746560"
  },
  {
    "text": "either talking to the kernel or",
    "start": "746560",
    "end": "748399"
  },
  {
    "text": "low-level apis",
    "start": "748399",
    "end": "751360"
  },
  {
    "start": "753000",
    "end": "811000"
  },
  {
    "text": "finally the things that mutate the work",
    "start": "753680",
    "end": "755440"
  },
  {
    "text": "and do change the system are plugins",
    "start": "755440",
    "end": "758480"
  },
  {
    "text": "and plugins are very similar they're",
    "start": "758480",
    "end": "760639"
  },
  {
    "text": "inspired by unix binaries and kubernetes",
    "start": "760639",
    "end": "762959"
  },
  {
    "text": "controllers",
    "start": "762959",
    "end": "764079"
  },
  {
    "text": "every plugin is a separate executable",
    "start": "764079",
    "end": "766480"
  },
  {
    "text": "like unix utility but it runs",
    "start": "766480",
    "end": "768160"
  },
  {
    "text": "continuously like a controller",
    "start": "768160",
    "end": "770079"
  },
  {
    "text": "now within a plug-in you can manage",
    "start": "770079",
    "end": "772639"
  },
  {
    "text": "multiple resources so when you bring up",
    "start": "772639",
    "end": "774399"
  },
  {
    "text": "a plug-in",
    "start": "774399",
    "end": "775360"
  },
  {
    "text": "it registers with the engines what types",
    "start": "775360",
    "end": "777360"
  },
  {
    "text": "of resources it's responsible for",
    "start": "777360",
    "end": "779200"
  },
  {
    "text": "managing",
    "start": "779200",
    "end": "780480"
  },
  {
    "text": "and a plug-in internally could be like a",
    "start": "780480",
    "end": "782079"
  },
  {
    "text": "controller manager it can manage",
    "start": "782079",
    "end": "783600"
  },
  {
    "text": "multiple other controllers inside that",
    "start": "783600",
    "end": "785600"
  },
  {
    "text": "manage",
    "start": "785600",
    "end": "786000"
  },
  {
    "text": "different parts of resources",
    "start": "786000",
    "end": "789200"
  },
  {
    "text": "the cozy engine could be responsible for",
    "start": "790639",
    "end": "792800"
  },
  {
    "text": "the life cycle of plug-ins so what you",
    "start": "792800",
    "end": "794560"
  },
  {
    "text": "can have is that when cozy starts up it",
    "start": "794560",
    "end": "796240"
  },
  {
    "text": "can",
    "start": "796240",
    "end": "796639"
  },
  {
    "text": "start all the plug-ins and if a plug-in",
    "start": "796639",
    "end": "798079"
  },
  {
    "text": "dies the cosy engine can restart it",
    "start": "798079",
    "end": "800480"
  },
  {
    "text": "another thing to know about plugins is",
    "start": "800480",
    "end": "802959"
  },
  {
    "text": "instead of standard output and standard",
    "start": "802959",
    "end": "804480"
  },
  {
    "text": "input",
    "start": "804480",
    "end": "804959"
  },
  {
    "text": "they take inputs and outputs over the",
    "start": "804959",
    "end": "806480"
  },
  {
    "text": "grpc channel and act on those",
    "start": "806480",
    "end": "810160"
  },
  {
    "start": "811000",
    "end": "839000"
  },
  {
    "text": "a special class of plugins generate",
    "start": "811440",
    "end": "814160"
  },
  {
    "text": "events",
    "start": "814160",
    "end": "814720"
  },
  {
    "text": "and these are called generators and the",
    "start": "814720",
    "end": "816560"
  },
  {
    "text": "way generators are implemented in cozy",
    "start": "816560",
    "end": "818560"
  },
  {
    "text": "is they use linux kernel ebpf",
    "start": "818560",
    "end": "820480"
  },
  {
    "text": "infrastructure so a generator will",
    "start": "820480",
    "end": "822079"
  },
  {
    "text": "deploy a probe into the kernel",
    "start": "822079",
    "end": "823920"
  },
  {
    "text": "and this ebpf probe will generate kernel",
    "start": "823920",
    "end": "826560"
  },
  {
    "text": "events",
    "start": "826560",
    "end": "827279"
  },
  {
    "text": "the generator is then responsible for",
    "start": "827279",
    "end": "828959"
  },
  {
    "text": "taking these kernel events and",
    "start": "828959",
    "end": "830880"
  },
  {
    "text": "converting these to cosy events",
    "start": "830880",
    "end": "832880"
  },
  {
    "text": "and then these cozy events can be used",
    "start": "832880",
    "end": "834320"
  },
  {
    "text": "by other parts of the system",
    "start": "834320",
    "end": "837519"
  },
  {
    "text": "the next is the engine and the run time",
    "start": "839199",
    "end": "842079"
  },
  {
    "text": "and for this i'm going to hand it over",
    "start": "842079",
    "end": "843440"
  },
  {
    "text": "to android",
    "start": "843440",
    "end": "846000"
  },
  {
    "start": "845000",
    "end": "1002000"
  },
  {
    "text": "the core of cozy is two parts the",
    "start": "846320",
    "end": "849519"
  },
  {
    "text": "engine and the runtime the engine's",
    "start": "849519",
    "end": "853199"
  },
  {
    "text": "responsibilities",
    "start": "853199",
    "end": "854240"
  },
  {
    "text": "are process management and run time and",
    "start": "854240",
    "end": "857680"
  },
  {
    "text": "plug-in",
    "start": "857680",
    "end": "858160"
  },
  {
    "text": "orchestration it can run as pid 1",
    "start": "858160",
    "end": "862160"
  },
  {
    "text": "or as a container in existing systems",
    "start": "862160",
    "end": "866160"
  },
  {
    "text": "the idea is that we can write a bridge",
    "start": "866160",
    "end": "868079"
  },
  {
    "text": "between system d",
    "start": "868079",
    "end": "869279"
  },
  {
    "text": "and cozy we also aim to simplify",
    "start": "869279",
    "end": "872880"
  },
  {
    "text": "what pid 1 should be and have plans to",
    "start": "872880",
    "end": "875600"
  },
  {
    "text": "write an init system",
    "start": "875600",
    "end": "877120"
  },
  {
    "text": "into the engine the runtime",
    "start": "877120",
    "end": "880800"
  },
  {
    "text": "is responsible for state management and",
    "start": "880800",
    "end": "883680"
  },
  {
    "text": "routing",
    "start": "883680",
    "end": "884240"
  },
  {
    "text": "resource events to the appropriate",
    "start": "884240",
    "end": "886560"
  },
  {
    "text": "plugins",
    "start": "886560",
    "end": "888639"
  },
  {
    "text": "it implements basic crud operations you",
    "start": "888639",
    "end": "891440"
  },
  {
    "text": "would expect from an api",
    "start": "891440",
    "end": "893600"
  },
  {
    "text": "with the addition of orchestrating",
    "start": "893600",
    "end": "896120"
  },
  {
    "text": "reconciliation",
    "start": "896120",
    "end": "897279"
  },
  {
    "text": "of requests across all plugins",
    "start": "897279",
    "end": "901760"
  },
  {
    "text": "before i jump into the demo i want to",
    "start": "901760",
    "end": "904160"
  },
  {
    "text": "introduce",
    "start": "904160",
    "end": "904959"
  },
  {
    "text": "some of the core concepts of cozy",
    "start": "904959",
    "end": "908480"
  },
  {
    "text": "one of the things we want to stress is",
    "start": "908480",
    "end": "911040"
  },
  {
    "text": "that cozy is not meant to",
    "start": "911040",
    "end": "913120"
  },
  {
    "text": "replace the eunuch's philosophy but",
    "start": "913120",
    "end": "916079"
  },
  {
    "text": "rather",
    "start": "916079",
    "end": "916800"
  },
  {
    "text": "to evolve it we have here",
    "start": "916800",
    "end": "920160"
  },
  {
    "text": "the characteristics of unix on the left",
    "start": "920160",
    "end": "922880"
  },
  {
    "text": "and what we aim to evolve them to",
    "start": "922880",
    "end": "925040"
  },
  {
    "text": "on the right with the advent of vms and",
    "start": "925040",
    "end": "928880"
  },
  {
    "text": "containers",
    "start": "928880",
    "end": "929759"
  },
  {
    "text": "we have moved from shared to isolated",
    "start": "929759",
    "end": "932079"
  },
  {
    "text": "workloads",
    "start": "932079",
    "end": "934399"
  },
  {
    "text": "this is an assumption that the",
    "start": "934399",
    "end": "935839"
  },
  {
    "text": "originators of unix didn't have in mind",
    "start": "935839",
    "end": "938880"
  },
  {
    "text": "but we should as we work out the details",
    "start": "938880",
    "end": "941680"
  },
  {
    "text": "of cozy",
    "start": "941680",
    "end": "943759"
  },
  {
    "text": "plugins become the new unix utility",
    "start": "943759",
    "end": "947120"
  },
  {
    "text": "but written with the concept of a",
    "start": "947120",
    "end": "949600"
  },
  {
    "text": "controller in mind",
    "start": "949600",
    "end": "951040"
  },
  {
    "text": "not human interaction",
    "start": "951040",
    "end": "955680"
  },
  {
    "text": "one of the lessons we have learned from",
    "start": "955680",
    "end": "957120"
  },
  {
    "text": "kubernetes is the power",
    "start": "957120",
    "end": "959120"
  },
  {
    "text": "of the controller pattern in cozy",
    "start": "959120",
    "end": "962639"
  },
  {
    "text": "we swap human interactions with",
    "start": "962639",
    "end": "965199"
  },
  {
    "text": "controllers",
    "start": "965199",
    "end": "966800"
  },
  {
    "text": "and if we aim to remove direct human",
    "start": "966800",
    "end": "969519"
  },
  {
    "text": "interaction",
    "start": "969519",
    "end": "970720"
  },
  {
    "text": "we need an api instead of a shell",
    "start": "970720",
    "end": "975120"
  },
  {
    "text": "one of the pillars of unix is the idea",
    "start": "975120",
    "end": "977600"
  },
  {
    "text": "that text streams",
    "start": "977600",
    "end": "978720"
  },
  {
    "text": "are the universal interface",
    "start": "978720",
    "end": "982560"
  },
  {
    "text": "one feature that this pillar is missing",
    "start": "982560",
    "end": "985120"
  },
  {
    "text": "is structure",
    "start": "985120",
    "end": "987360"
  },
  {
    "text": "with cosy we amend the third pillar of",
    "start": "987360",
    "end": "990079"
  },
  {
    "text": "unix",
    "start": "990079",
    "end": "990959"
  },
  {
    "text": "summarized by peter salas as",
    "start": "990959",
    "end": "994639"
  },
  {
    "text": "write programs to handle structured",
    "start": "994639",
    "end": "997759"
  },
  {
    "text": "text streams because that is the",
    "start": "997759",
    "end": "999759"
  },
  {
    "text": "universal interface",
    "start": "999759",
    "end": "1003120"
  },
  {
    "start": "1002000",
    "end": "1021000"
  },
  {
    "text": "let's now take a look at a simple demo",
    "start": "1003440",
    "end": "1005519"
  },
  {
    "text": "to illustrate these concepts",
    "start": "1005519",
    "end": "1008560"
  },
  {
    "text": "we will see a model representing a mount",
    "start": "1008560",
    "end": "1010560"
  },
  {
    "text": "point use grpc",
    "start": "1010560",
    "end": "1012880"
  },
  {
    "text": "to create and delete a mount point and",
    "start": "1012880",
    "end": "1016000"
  },
  {
    "text": "then see",
    "start": "1016000",
    "end": "1016639"
  },
  {
    "text": "an example of a generator",
    "start": "1016639",
    "end": "1020079"
  },
  {
    "start": "1021000",
    "end": "1252000"
  },
  {
    "text": "from the engine's output we can see that",
    "start": "1023279",
    "end": "1025280"
  },
  {
    "text": "it has started the runtime",
    "start": "1025280",
    "end": "1027520"
  },
  {
    "text": "generators and plug-ins the standard out",
    "start": "1027520",
    "end": "1031038"
  },
  {
    "text": "of each process",
    "start": "1031039",
    "end": "1032240"
  },
  {
    "text": "is piped to the standard out of the",
    "start": "1032240",
    "end": "1034558"
  },
  {
    "text": "engine",
    "start": "1034559",
    "end": "1036480"
  },
  {
    "text": "here is an example of structured input",
    "start": "1036480",
    "end": "1038959"
  },
  {
    "text": "representing a desired mount point",
    "start": "1038959",
    "end": "1042880"
  },
  {
    "text": "you can imagine this as a replacement",
    "start": "1045360",
    "end": "1047600"
  },
  {
    "text": "for an entry in f-stab",
    "start": "1047600",
    "end": "1049840"
  },
  {
    "text": "and a list of these then representing",
    "start": "1049840",
    "end": "1052000"
  },
  {
    "text": "etsy f-stab",
    "start": "1052000",
    "end": "1053120"
  },
  {
    "text": "itself let's go ahead and create this",
    "start": "1053120",
    "end": "1058240"
  },
  {
    "text": "you can see in the engine standard out",
    "start": "1061600",
    "end": "1063919"
  },
  {
    "text": "that the mount plugin",
    "start": "1063919",
    "end": "1065200"
  },
  {
    "text": "has acknowledged the request",
    "start": "1065200",
    "end": "1068240"
  },
  {
    "text": "at this point the mount plugins",
    "start": "1068240",
    "end": "1070240"
  },
  {
    "text": "controller is responsible",
    "start": "1070240",
    "end": "1072160"
  },
  {
    "text": "for reconciling the request and",
    "start": "1072160",
    "end": "1074480"
  },
  {
    "text": "outputting a resource",
    "start": "1074480",
    "end": "1075919"
  },
  {
    "text": "that represents the mount point status",
    "start": "1075919",
    "end": "1079520"
  },
  {
    "text": "you can imagine that in another plugin",
    "start": "1079520",
    "end": "1082960"
  },
  {
    "text": "i may have a controller that depends on",
    "start": "1082960",
    "end": "1085039"
  },
  {
    "text": "this mount point",
    "start": "1085039",
    "end": "1086880"
  },
  {
    "text": "this controller can set up a watch",
    "start": "1086880",
    "end": "1089360"
  },
  {
    "text": "asking to be notified",
    "start": "1089360",
    "end": "1090720"
  },
  {
    "text": "when the mount status resource is",
    "start": "1090720",
    "end": "1092840"
  },
  {
    "text": "created it can then go about doing",
    "start": "1092840",
    "end": "1095280"
  },
  {
    "text": "whatever",
    "start": "1095280",
    "end": "1095919"
  },
  {
    "text": "it needs let's go ahead and delete the",
    "start": "1095919",
    "end": "1099280"
  },
  {
    "text": "mount point",
    "start": "1099280",
    "end": "1108000"
  },
  {
    "text": "now i want to move on to the concept of",
    "start": "1108000",
    "end": "1110000"
  },
  {
    "text": "a generator",
    "start": "1110000",
    "end": "1111039"
  },
  {
    "text": "which i think is extremely powerful",
    "start": "1111039",
    "end": "1114640"
  },
  {
    "text": "and before i show an example i want to",
    "start": "1114640",
    "end": "1117120"
  },
  {
    "text": "set the stage a bit",
    "start": "1117120",
    "end": "1119600"
  },
  {
    "text": "one of the things we have done in talos",
    "start": "1119600",
    "end": "1121440"
  },
  {
    "text": "is that we have strived to never depend",
    "start": "1121440",
    "end": "1123360"
  },
  {
    "text": "on",
    "start": "1123360",
    "end": "1123679"
  },
  {
    "text": "any of the pseudo-file systems in linux",
    "start": "1123679",
    "end": "1126240"
  },
  {
    "text": "and to never",
    "start": "1126240",
    "end": "1126960"
  },
  {
    "text": "shell out to a utility",
    "start": "1126960",
    "end": "1130000"
  },
  {
    "text": "if we can query the kernel via an ioctl",
    "start": "1130000",
    "end": "1133440"
  },
  {
    "text": "or the netlink api we favor that over",
    "start": "1133440",
    "end": "1137039"
  },
  {
    "text": "say parsing a file under slash proc",
    "start": "1137039",
    "end": "1141760"
  },
  {
    "text": "the problem with this is that sometimes",
    "start": "1141760",
    "end": "1144400"
  },
  {
    "text": "that just is not an option",
    "start": "1144400",
    "end": "1146559"
  },
  {
    "text": "and we have to fall back to parsing",
    "start": "1146559",
    "end": "1148559"
  },
  {
    "text": "unstructured text",
    "start": "1148559",
    "end": "1150960"
  },
  {
    "text": "furthermore getting updates comes in the",
    "start": "1150960",
    "end": "1153760"
  },
  {
    "text": "form",
    "start": "1153760",
    "end": "1154160"
  },
  {
    "text": "of polling this isn't what we want",
    "start": "1154160",
    "end": "1157600"
  },
  {
    "text": "in cozy so what if we could actually tap",
    "start": "1157600",
    "end": "1161760"
  },
  {
    "text": "into when the kernel updates its own",
    "start": "1161760",
    "end": "1164480"
  },
  {
    "text": "state",
    "start": "1164480",
    "end": "1166080"
  },
  {
    "text": "this is the perfect use case for ebpf",
    "start": "1166080",
    "end": "1169360"
  },
  {
    "text": "let's see what that looks like",
    "start": "1169360",
    "end": "1178799"
  },
  {
    "text": "you can see that the disk generator",
    "start": "1178799",
    "end": "1180720"
  },
  {
    "text": "picks up a kernel event",
    "start": "1180720",
    "end": "1182240"
  },
  {
    "text": "when i plug in a usb stick",
    "start": "1182240",
    "end": "1186080"
  },
  {
    "text": "and now an sd card",
    "start": "1186480",
    "end": "1193840"
  },
  {
    "text": "this becomes a powerful way to reflect",
    "start": "1195039",
    "end": "1197520"
  },
  {
    "text": "the kernel state",
    "start": "1197520",
    "end": "1198559"
  },
  {
    "text": "in real time and with events",
    "start": "1198559",
    "end": "1203120"
  },
  {
    "text": "solving the problems that i mentioned",
    "start": "1203120",
    "end": "1206799"
  },
  {
    "text": "and to drive the point home here is an",
    "start": "1206799",
    "end": "1209280"
  },
  {
    "text": "example of an acpi event",
    "start": "1209280",
    "end": "1211280"
  },
  {
    "text": "when i unplug and plug in my ac power",
    "start": "1211280",
    "end": "1216320"
  },
  {
    "text": "supply",
    "start": "1218840",
    "end": "1220559"
  },
  {
    "text": "where this could be useful is in being",
    "start": "1220559",
    "end": "1222480"
  },
  {
    "text": "able to subscribe",
    "start": "1222480",
    "end": "1223760"
  },
  {
    "text": "to an acpi power off event",
    "start": "1223760",
    "end": "1227200"
  },
  {
    "text": "and performing a graceful leadership",
    "start": "1227200",
    "end": "1229360"
  },
  {
    "text": "election of",
    "start": "1229360",
    "end": "1230240"
  },
  {
    "text": "etcd first",
    "start": "1230240",
    "end": "1233280"
  },
  {
    "text": "even becoming aware of acpi events on",
    "start": "1233280",
    "end": "1236400"
  },
  {
    "text": "other control plane nodes",
    "start": "1236400",
    "end": "1238080"
  },
  {
    "text": "and refusing to shut down if it means",
    "start": "1238080",
    "end": "1240960"
  },
  {
    "text": "etcd quorum",
    "start": "1240960",
    "end": "1242240"
  },
  {
    "text": "is lost",
    "start": "1242240",
    "end": "1244799"
  },
  {
    "text": "that is all the time i have for a demo",
    "start": "1245360",
    "end": "1247280"
  },
  {
    "text": "and i hope by now you can see the",
    "start": "1247280",
    "end": "1248960"
  },
  {
    "text": "potential",
    "start": "1248960",
    "end": "1249679"
  },
  {
    "text": "we have in cozy",
    "start": "1249679",
    "end": "1253039"
  },
  {
    "start": "1252000",
    "end": "1275000"
  },
  {
    "text": "cozy is completely open source and",
    "start": "1253120",
    "end": "1254880"
  },
  {
    "text": "released under the apache license",
    "start": "1254880",
    "end": "1257360"
  },
  {
    "text": "the specification and code can be found",
    "start": "1257360",
    "end": "1259600"
  },
  {
    "text": "at github.com cozyspec",
    "start": "1259600",
    "end": "1264559"
  },
  {
    "text": "today we're also announcing cozy.dev a",
    "start": "1266480",
    "end": "1269200"
  },
  {
    "text": "website for all things cozy related we'd",
    "start": "1269200",
    "end": "1271679"
  },
  {
    "text": "love for you to join us",
    "start": "1271679",
    "end": "1273280"
  },
  {
    "text": "thank you for attending",
    "start": "1273280",
    "end": "1277120"
  }
]