[
  {
    "start": "0",
    "end": "22000"
  },
  {
    "text": "hello and welcome to my talk on kubernetes on raspberry pi we're",
    "start": "1520",
    "end": "7200"
  },
  {
    "text": "going to look at the past the present and the future and i'm going to make this quite personal as",
    "start": "7200",
    "end": "13759"
  },
  {
    "text": "we go through my journey but also hope there's going to be lots that you can apply here for your own raspberry pi cluster",
    "start": "13759",
    "end": "21840"
  },
  {
    "text": "now we start at the beginning you know why would you even do this that is the question many people ask",
    "start": "21840",
    "end": "28720"
  },
  {
    "start": "22000",
    "end": "22000"
  },
  {
    "text": "where are we today how do we get there what are the technologies what are the changes that have come in",
    "start": "28720",
    "end": "35760"
  },
  {
    "text": "i'm going to give you a bit of materials because everyone always seems to ask for that but i'm actually going to give you more",
    "start": "35840",
    "end": "41520"
  },
  {
    "text": "than one i'm going to give you four or five and you can pick the one that fits your budget we're also going to look at what",
    "start": "41520",
    "end": "47680"
  },
  {
    "text": "is the future of arm um and then go on and i'm going to give you a demo that we've worked really hard",
    "start": "47680",
    "end": "53440"
  },
  {
    "text": "on um with some cool tools as well",
    "start": "53440",
    "end": "58480"
  },
  {
    "text": "then we'll have a cheat sheet the cheat sheet will give you common questions and answers like how do you do storage how do you get a",
    "start": "58480",
    "end": "64799"
  },
  {
    "text": "public ip address and so forth now this is the one question that you will always get if you",
    "start": "64799",
    "end": "70799"
  },
  {
    "start": "68000",
    "end": "68000"
  },
  {
    "text": "pass post something on hacker news or twitter what is a real world use case well new mexico there's a consortium of",
    "start": "70799",
    "end": "78080"
  },
  {
    "text": "three universities and they built out this bitscope 750 node cluster",
    "start": "78080",
    "end": "84479"
  },
  {
    "text": "well perhaps they may not have access to the full expensive cluster",
    "start": "84479",
    "end": "92000"
  },
  {
    "text": "um and supercomputer maybe they're having to time share it by having this pretty cost-effective",
    "start": "92000",
    "end": "97920"
  },
  {
    "text": "unit at their disposal they can test their algorithms have very fast cycles before they can",
    "start": "97920",
    "end": "104000"
  },
  {
    "text": "schedule time with bigger much more expensive computers so hpc is an interesting one now at the",
    "start": "104000",
    "end": "111840"
  },
  {
    "text": "edge we see content delivery networks cloudflare wrote two years ago how they've been",
    "start": "111840",
    "end": "118000"
  },
  {
    "text": "adopting arm 64 for a lot of their workloads now",
    "start": "118000",
    "end": "123439"
  },
  {
    "text": "have you ever got a fine or a ticket from parking in the wrong place well machine learning models running at the",
    "start": "123439",
    "end": "129599"
  },
  {
    "text": "edge are doing things like reading plates of cars and then sending you",
    "start": "129599",
    "end": "134800"
  },
  {
    "text": "a letter and a fine a few weeks later we've also got things like points of sale",
    "start": "134800",
    "end": "141200"
  },
  {
    "text": "there's a use case from chick-fil-a where they run five intel nooks in their",
    "start": "141200",
    "end": "146239"
  },
  {
    "text": "restaurants and they run kubernetes on it you could equally well do that on a rack",
    "start": "146239",
    "end": "151599"
  },
  {
    "text": "of raspberry pies now we'll also have a look at some managed cloud services that are using",
    "start": "151599",
    "end": "157440"
  },
  {
    "text": "arm and i think you know one of the things is we need to get ready for when",
    "start": "157440",
    "end": "162720"
  },
  {
    "text": "arm as a laptop device becomes mainstream and we've got this all day or multi-day",
    "start": "162720",
    "end": "168239"
  },
  {
    "text": "battery we're going to need binaries at work rashbury pi is a good way of getting on that ramp",
    "start": "168239",
    "end": "174879"
  },
  {
    "text": "but for you i think you know the real reason needs to be because you want to and we can justify it however we want",
    "start": "174879",
    "end": "181200"
  },
  {
    "text": "but at the end of the day this needs to be because you want to you need to be motivated because there are some challenges but",
    "start": "181200",
    "end": "187760"
  },
  {
    "text": "um it is great to practice on real hardware i just love being able to pull an ethernet cable",
    "start": "187760",
    "end": "193200"
  },
  {
    "text": "and be able to deploy to a real server running my house 24 7 not worrying about the bill unlike",
    "start": "193200",
    "end": "199680"
  },
  {
    "text": "if i leave stuff running on my amazon account now whether that's a website or a github bot it's up to you there's a",
    "start": "199680",
    "end": "206799"
  },
  {
    "text": "ton of stuff you can run here my demo rig today is running k3s",
    "start": "206799",
    "end": "212959"
  },
  {
    "start": "209000",
    "end": "209000"
  },
  {
    "text": "it's a bitscope cluster blade and unlike most raspberry pi's it's actually",
    "start": "212959",
    "end": "218480"
  },
  {
    "text": "net booted over the network and it's running off an m",
    "start": "218480",
    "end": "223519"
  },
  {
    "text": "v m e express storage inside an intel nok so all of those file systems are",
    "start": "223519",
    "end": "229840"
  },
  {
    "text": "actually um pretty redundant and they're running very fast as well as",
    "start": "229840",
    "end": "235360"
  },
  {
    "text": "that we've got some redundancy in the control plane and running three masternodes and etc d or seti d there as well",
    "start": "235360",
    "end": "243439"
  },
  {
    "text": "and it's got a public ip address and that's how later on github actions will be able to deploy a new version of my",
    "start": "243439",
    "end": "249120"
  },
  {
    "text": "code um straight into my house i didn't start there actually my first",
    "start": "249120",
    "end": "256479"
  },
  {
    "start": "253000",
    "end": "253000"
  },
  {
    "text": "foray was running a blog at home and it was a ghost blog and that was in 2013 i was writing about",
    "start": "256479",
    "end": "264160"
  },
  {
    "text": "docker and node.js and learning about all these kinds of open source tools",
    "start": "264160",
    "end": "269280"
  },
  {
    "text": "but node.js took about three seconds to run hello world back then it was slow on on and i had to build sql",
    "start": "269280",
    "end": "277280"
  },
  {
    "text": "lite and it took over 12 hours to get the binary and some of the times it would crash halfway through",
    "start": "277280",
    "end": "283759"
  },
  {
    "text": "there were some problems though my isp wasn't that great back in the day and my website might have been in docker",
    "start": "283759",
    "end": "290400"
  },
  {
    "text": "weekly and then people are messaging me saying why is your block down that wasn't a good experience",
    "start": "290400",
    "end": "298479"
  },
  {
    "text": "performance again i had to introduce an nginx cache on the device just to get a few more",
    "start": "298479",
    "end": "305919"
  },
  {
    "text": "requests per second out of the node.js application and then finally ingress you know you can port forward your",
    "start": "305919",
    "end": "311600"
  },
  {
    "text": "router but you've now exposed your home address or your location to the world",
    "start": "311600",
    "end": "317360"
  },
  {
    "text": "not a smart move and i've got a solution for you for that as well",
    "start": "317360",
    "end": "324160"
  },
  {
    "start": "323000",
    "end": "323000"
  },
  {
    "text": "not long afterwards um well in 2016 i'd been messing about with",
    "start": "324160",
    "end": "330400"
  },
  {
    "text": "docker and containers and clusters and built this seven node raspberry pi 2 cluster just with little metal",
    "start": "330400",
    "end": "337120"
  },
  {
    "text": "standoffs between each of them and i wrote about this in linux magazine it was published it was",
    "start": "337120",
    "end": "343520"
  },
  {
    "text": "available on the high street and it turned out that people really love this they love the idea",
    "start": "343520",
    "end": "349039"
  },
  {
    "text": "of running their own cluster now back then we had docker swarm",
    "start": "349039",
    "end": "356080"
  },
  {
    "text": "but things have changed since we had to build docker and swarm itself",
    "start": "356160",
    "end": "362960"
  },
  {
    "text": "and sometimes we didn't have to build go from source and this is something that could take hours and if you had the wrong kernel",
    "start": "362960",
    "end": "369360"
  },
  {
    "text": "option you had to go back to the start again so when docker released their official binaries and",
    "start": "369360",
    "end": "376240"
  },
  {
    "text": "packages in in august 2016 i was over the moon and so was the raspberry pi foundation when they",
    "start": "376240",
    "end": "382479"
  },
  {
    "text": "wrote this post now we wouldn't be where we are without",
    "start": "382479",
    "end": "387840"
  },
  {
    "text": "the work of lucas caldstrom a teenage boy from finland who at school had this idea he really",
    "start": "387840",
    "end": "396319"
  },
  {
    "text": "wanted to run kubernetes components on his raspberry pi similar time as i was running swarm",
    "start": "396319",
    "end": "402720"
  },
  {
    "text": "on my cluster and he did a lot of work and eventually he found that kubernetes was so big it wouldn't even",
    "start": "402720",
    "end": "408800"
  },
  {
    "text": "compile and go anymore he worked upstream of the go team to get",
    "start": "408800",
    "end": "414000"
  },
  {
    "text": "that fixed so we do have a debt of gratitude to him and he's still involved in the in the",
    "start": "414000",
    "end": "420000"
  },
  {
    "text": "project quite heavily and one of the things that i did then was to go and write up",
    "start": "420000",
    "end": "425840"
  },
  {
    "text": "a tutorial kubernetes on raspbian because i wasn't comfortable getting a third-party operating system",
    "start": "425840",
    "end": "432560"
  },
  {
    "text": "i wasn't comfortable having to build a kernel i wanted to get the upstream supported raspberry pi",
    "start": "432560",
    "end": "439039"
  },
  {
    "text": "operating system and lay down kubernetes and that's where this came about",
    "start": "439039",
    "end": "444639"
  },
  {
    "text": "it became so popular that there's been dozens and dozens of blog posts where people have done it themselves using",
    "start": "444639",
    "end": "451120"
  },
  {
    "text": "that work and even got to present with scott hanselman at a conference and it was a lot of fun",
    "start": "451120",
    "end": "459520"
  },
  {
    "text": "but eventually cube adm which is what we were using there started to feel sluggish it started to",
    "start": "459840",
    "end": "466080"
  },
  {
    "text": "fail because the timeouts were designed for cloud computers that were much more powerful",
    "start": "466080",
    "end": "473360"
  },
  {
    "text": "and we had this time where i couldn't really run kubernetes on my raspberry pi anymore um",
    "start": "473440",
    "end": "480240"
  },
  {
    "text": "the raspberry pi 2 was completely ruled out due to a bug and then darren shepard released k3s",
    "start": "480240",
    "end": "487520"
  },
  {
    "text": "originally it was a something like an 8 million line patch to make it small today",
    "start": "487520",
    "end": "494080"
  },
  {
    "text": "it is a much less of a patch in fact you can install it with curl or with ketchup and you'll have",
    "start": "494080",
    "end": "500000"
  },
  {
    "text": "kubernetes in less than 30 seconds even on a raspberry pi now you couldn't",
    "start": "500000",
    "end": "505199"
  },
  {
    "text": "have got anywhere near as fast with cube admin before the resources that it takes are just 500",
    "start": "505199",
    "end": "511680"
  },
  {
    "start": "509000",
    "end": "509000"
  },
  {
    "text": "megs not your two gigs per server um and then if you're adding a worker",
    "start": "511680",
    "end": "516719"
  },
  {
    "text": "and we're looking at 50 megs of ram it is so low but it's also useful for public cloud um",
    "start": "516719",
    "end": "524080"
  },
  {
    "text": "and you can run this on amazon you can add the cloud controller you can get storage volumes load",
    "start": "524080",
    "end": "530959"
  },
  {
    "text": "balancers you can add all that back in if you want and then the high availability story",
    "start": "530959",
    "end": "536959"
  },
  {
    "text": "here is you can actually use sql or rds so set up postgres",
    "start": "536959",
    "end": "543680"
  },
  {
    "text": "and then that takes over the role of keeping the cluster state and you can actually scale these to",
    "start": "543680",
    "end": "550320"
  },
  {
    "text": "hundreds of thousands of clusters all of one database pretty interesting",
    "start": "550320",
    "end": "556800"
  },
  {
    "start": "557000",
    "end": "557000"
  },
  {
    "text": "now 3 is less than 8 and that's where the name comes from it's idea of shrinking down and this is",
    "start": "557200",
    "end": "563440"
  },
  {
    "text": "something that really has resonated well with people i was at darren shepard's talk",
    "start": "563440",
    "end": "568800"
  },
  {
    "text": "and people had their you know their backs against the wall it was standing room only there was so many people interested in",
    "start": "568800",
    "end": "574880"
  },
  {
    "text": "this but it is still full kubernetes and it is ga",
    "start": "574880",
    "end": "580800"
  },
  {
    "text": "so you don't have to worry that it's only for your raspberry pi now part of the reason that it is",
    "start": "580800",
    "end": "586480"
  },
  {
    "text": "actually so quick is because what darren's done is he said right instead of picking a network driver it's",
    "start": "586480",
    "end": "592399"
  },
  {
    "text": "always flannel instead of having accepted a seti running we're going to use sql lite much",
    "start": "592399",
    "end": "600560"
  },
  {
    "text": "smaller instead of installing docker and getting the right runtime we're just going to use container d and skip locker",
    "start": "600560",
    "end": "605680"
  },
  {
    "text": "completely and that kind of you could think well kubernetes is about configuring",
    "start": "605680",
    "end": "611760"
  },
  {
    "text": "everything possible and isn't that great you can bring some of those things back in but actually having somebody said",
    "start": "611760",
    "end": "618160"
  },
  {
    "text": "it's okay to have these settings means you can move really fast",
    "start": "618160",
    "end": "623760"
  },
  {
    "text": "on a bonus point you get volume provisioning you get an ingress controller metrics",
    "start": "623760",
    "end": "629839"
  },
  {
    "text": "and darren's even added a way of installing helm charts so it's pretty pretty good package and he's",
    "start": "629839",
    "end": "636000"
  },
  {
    "text": "updating all the time now if you think of this journey and the sort of the last few slides have",
    "start": "636000",
    "end": "642160"
  },
  {
    "start": "638000",
    "end": "638000"
  },
  {
    "text": "explained the time that we had go binaries was probably about",
    "start": "642160",
    "end": "647200"
  },
  {
    "text": "the raspberry pi 2 timeline docker then got support for arm and alexandros",
    "start": "647200",
    "end": "654079"
  },
  {
    "text": "at resin did a lot of work for that as did stefan andita hyprio",
    "start": "654079",
    "end": "660399"
  },
  {
    "text": "around the time classic swarm was popular i spent a lot of time porting the binaries i went to dockercon and gave a talk",
    "start": "660399",
    "end": "666720"
  },
  {
    "text": "where i had sensors interacting with the cluster and detecting motion",
    "start": "666720",
    "end": "672320"
  },
  {
    "text": "then we got those docker packages in 2016 which were great moving on from there solomon had the",
    "start": "672320",
    "end": "679360"
  },
  {
    "text": "grand vision of docker swarm the new version um and then",
    "start": "679360",
    "end": "684720"
  },
  {
    "text": "lucas comes into the picture and then kubernetes on raspbian we have a big gap there maybe a couple",
    "start": "684720",
    "end": "691360"
  },
  {
    "text": "of years and then k3s arrives and it just completely changes the conversation",
    "start": "691360",
    "end": "697040"
  },
  {
    "text": "about kubernetes on arm we get the 64-bit raspbian os that's",
    "start": "697040",
    "end": "703040"
  },
  {
    "text": "still in beta as i speak but ubuntu 20 is available as well",
    "start": "703040",
    "end": "708399"
  },
  {
    "text": "okay so by default we're running a 32-bit operating system for compatibility backwards but this",
    "start": "708399",
    "end": "714800"
  },
  {
    "text": "64-bit is where where the future is now when it comes to building your own",
    "start": "714800",
    "end": "720720"
  },
  {
    "start": "718000",
    "end": "718000"
  },
  {
    "text": "i want to think about what you know what is your budget what are you willing to spend and what do you want to do with it",
    "start": "720720",
    "end": "728079"
  },
  {
    "text": "if you're looking to use spare parts it could cost you nothing you might already have this stuff um",
    "start": "728959",
    "end": "735760"
  },
  {
    "start": "729000",
    "end": "729000"
  },
  {
    "text": "this was the way i entered into it copper standoffs raspberry pi 3 some sd",
    "start": "735760",
    "end": "741680"
  },
  {
    "text": "cards and you can use a multi charger for powering these if you get a 60 watt",
    "start": "741680",
    "end": "748560"
  },
  {
    "text": "if you want to net boot though you're going to need the b 3 plus i have the older b i've got 25 of",
    "start": "748560",
    "end": "754560"
  },
  {
    "text": "them and i can't net boot them and it's annoying",
    "start": "754560",
    "end": "759600"
  },
  {
    "start": "758000",
    "end": "758000"
  },
  {
    "text": "if you're building on a budget this is where most of you are expect you want to start here you only",
    "start": "759600",
    "end": "765440"
  },
  {
    "text": "need one raspberry pi to run k3s you don't need 10.",
    "start": "765440",
    "end": "770560"
  },
  {
    "text": "and maybe pick a number like four and you can either buy the two gig model",
    "start": "770880",
    "end": "776320"
  },
  {
    "text": "i'm using that for my demo i'm using four of them or you can go up to eight gigs i mean um k3s doesn't need a lot of",
    "start": "776320",
    "end": "783920"
  },
  {
    "text": "resources you just need to think about what you want to run but you will need official power supplies one",
    "start": "783920",
    "end": "790079"
  },
  {
    "text": "each you can't use a multi-charger i've been there i've done that it doesn't have enough",
    "start": "790079",
    "end": "795279"
  },
  {
    "text": "power it will brown out and you must add fans okay a case like",
    "start": "795279",
    "end": "800320"
  },
  {
    "text": "this will give you that as an upgrade though you can net boot from",
    "start": "800320",
    "end": "805440"
  },
  {
    "text": "an ssd in a pc and then this will be so fast",
    "start": "805440",
    "end": "810639"
  },
  {
    "start": "810000",
    "end": "810000"
  },
  {
    "text": "now turing pi you may have heard of this they sent me one to play with it's over here",
    "start": "810639",
    "end": "815920"
  },
  {
    "text": "it's pretty expensive but what i like about it is there's one cable for power and one cable for",
    "start": "815920",
    "end": "822079"
  },
  {
    "text": "ethernet and that's that you then program compute modules and they're like mini raspberry pies but",
    "start": "822079",
    "end": "828000"
  },
  {
    "text": "without any ports plug them in boot it up and you're done now the cm4 is arriving",
    "start": "828000",
    "end": "835040"
  },
  {
    "text": "soon um in fact it's already been released and there'll be a chewing pie too",
    "start": "835040",
    "end": "840079"
  },
  {
    "text": "that will take these and it's going to be a beast it's going to have ssds in it it will be ridiculously",
    "start": "840079",
    "end": "846720"
  },
  {
    "text": "expensive but also very fast but best in class and this is what i",
    "start": "846720",
    "end": "852560"
  },
  {
    "start": "849000",
    "end": "849000"
  },
  {
    "text": "have is to go and get an edge rack something that you can mount in your garage",
    "start": "852560",
    "end": "858399"
  },
  {
    "text": "you can put a upc on it you can boot it off the network ups rather you can power it with a",
    "start": "858399",
    "end": "864800"
  },
  {
    "text": "proper 12 to 24 volt power you could even go and install this in a shop somewhere or an",
    "start": "864800",
    "end": "871360"
  },
  {
    "text": "off-site and this could run your workloads manage it remotely and this is where",
    "start": "871360",
    "end": "876880"
  },
  {
    "text": "industrial raspberry pi thing is really going to take off so over those last five years of",
    "start": "876880",
    "end": "883760"
  },
  {
    "text": "building these clusters and tinkering and writing blog posts",
    "start": "883760",
    "end": "889120"
  },
  {
    "text": "i noticed a certain number of problems and it was always the same sort of thing",
    "start": "889120",
    "end": "895120"
  },
  {
    "text": "how do i deploy code it's so confusing to write yaml i need a network connection i don't know",
    "start": "895120",
    "end": "901279"
  },
  {
    "text": "what software is available for arm and i spend half my time installing things that don't work",
    "start": "901279",
    "end": "906560"
  },
  {
    "text": "well you can go and read this blog post and it shows you all of those things i create some stuff that maybe will get you",
    "start": "906560",
    "end": "912560"
  },
  {
    "text": "inspired but to sum up these are four of the projects that came out of that journey",
    "start": "912560",
    "end": "919600"
  },
  {
    "start": "914000",
    "end": "914000"
  },
  {
    "text": "the first is open fast and open faz is something that you can deploy and",
    "start": "919600",
    "end": "924639"
  },
  {
    "text": "it does work on on it will then allow you to deploy functions and apis so if you have",
    "start": "924639",
    "end": "931120"
  },
  {
    "text": "a website hook receiver or blog um if you want to write a microservice",
    "start": "931120",
    "end": "936160"
  },
  {
    "text": "in java python go you name it it can get you there very quickly",
    "start": "936160",
    "end": "942560"
  },
  {
    "text": "k3s can be installed with curl but also could mean sort of catch up and so if you like to dock a swarm",
    "start": "942560",
    "end": "948959"
  },
  {
    "text": "where it's in it on one node and then join on another one with a token",
    "start": "948959",
    "end": "954079"
  },
  {
    "text": "ketchup brings that back i'm going to show you the syntax inlets allows you to get a public ip",
    "start": "954079",
    "end": "960720"
  },
  {
    "text": "address for load balance so that's something that you just can't get normally in a cloud whenever you deploy",
    "start": "960720",
    "end": "966160"
  },
  {
    "text": "a service it normally has a load balancer the cloud will provision a hardware software load balancer",
    "start": "966160",
    "end": "972079"
  },
  {
    "text": "hook up an ip address for you so if your traffic you can't do that at home you can now",
    "start": "972079",
    "end": "979279"
  },
  {
    "text": "if you install inlets and there's an operator that works with kubernetes and then the last thing is arcade um",
    "start": "979279",
    "end": "987920"
  },
  {
    "text": "it will tell you if a chart is compatible or not and we have about 30 there",
    "start": "987920",
    "end": "992959"
  },
  {
    "text": "there are things like istio which is currently not available for raspberry pi but maybe in the future and things like",
    "start": "992959",
    "end": "999199"
  },
  {
    "text": "open files things like mineo which are and that you can just go and install",
    "start": "999199",
    "end": "1006560"
  },
  {
    "text": "now i want to show you a demo putting all of this together and this is for i'm not going to say",
    "start": "1006880",
    "end": "1012320"
  },
  {
    "text": "it's a blog it's more like a cms because there's probably not much point running a blog on a raspberry pi",
    "start": "1012320",
    "end": "1018079"
  },
  {
    "text": "it may be a bit overpowered for that you can use a cdn but what if you want to get a better",
    "start": "1018079",
    "end": "1024160"
  },
  {
    "text": "experience or what if you want to run a blog of blogs what if you want to run a sas for a thousand customers",
    "start": "1024160",
    "end": "1030959"
  },
  {
    "text": "maybe you could think about it like this we have an admin panel it's called ad",
    "start": "1030959",
    "end": "1036319"
  },
  {
    "text": "post and that's a function we write a bit of mark down and tell it what the name is",
    "start": "1036319",
    "end": "1041600"
  },
  {
    "text": "we then do a git commit and hands are off at that point next a github action in your git repo",
    "start": "1041600",
    "end": "1048799"
  },
  {
    "text": "will run hugo take the mark down output html put it in a docker file",
    "start": "1048799",
    "end": "1056240"
  },
  {
    "text": "and then deploy it to your cluster as the blog function and we can have all",
    "start": "1056240",
    "end": "1062080"
  },
  {
    "text": "of that in a loop where we don't have to get involved all you do is you write your code in a",
    "start": "1062080",
    "end": "1069200"
  },
  {
    "text": "web page hit commit it's password protected and then you get it published on your blog static content well that's what we're",
    "start": "1069200",
    "end": "1077039"
  },
  {
    "start": "1077000",
    "end": "1077000"
  },
  {
    "text": "going to do so the first thing is i took my raspberry pi's and i ran ketchup install i put the ip",
    "start": "1077039",
    "end": "1085200"
  },
  {
    "text": "address and the user i then went to the next one and i did join and i gave it the server's ip",
    "start": "1085200",
    "end": "1090960"
  },
  {
    "text": "address and then i had a cluster and it just took a few minutes",
    "start": "1090960",
    "end": "1098559"
  },
  {
    "start": "1098000",
    "end": "1098000"
  },
  {
    "text": "the next thing i did is i used the arcade tool and whilst you can go off to brew apt-get or troll the internet to get",
    "start": "1098559",
    "end": "1105600"
  },
  {
    "text": "cubecuttle um this is a really easy way of getting it so i ran cube cuttle get",
    "start": "1105600",
    "end": "1110960"
  },
  {
    "text": "arcade get sorry rk get cube cuddle get ketchup get fast cli and run these",
    "start": "1110960",
    "end": "1116559"
  },
  {
    "text": "commands i then installed open fast and with each of these",
    "start": "1116559",
    "end": "1121760"
  },
  {
    "text": "apps or charts you can pass parameters and then i installed um an ingress controller and cert",
    "start": "1121760",
    "end": "1128480"
  },
  {
    "text": "manager right because i want some way of getting tls on there because i want this to be secure and",
    "start": "1128480",
    "end": "1134640"
  },
  {
    "text": "mapping that to my domain now open fast is quite simple to get",
    "start": "1134640",
    "end": "1140880"
  },
  {
    "start": "1137000",
    "end": "1137000"
  },
  {
    "text": "started with but it's also really powerful if you want to you can just run faster line new",
    "start": "1140880",
    "end": "1148480"
  },
  {
    "text": "and put python3 c-sharp go php pick a language the name of your",
    "start": "1148480",
    "end": "1154960"
  },
  {
    "text": "function is a stripe payment and then when you run faster you lie up it will deploy to your instance",
    "start": "1154960",
    "end": "1162160"
  },
  {
    "text": "by building an image pushing in a registry and then pulling it into the cluster and so you can kind of see on this",
    "start": "1162160",
    "end": "1169679"
  },
  {
    "text": "picture the ways to interact by cli ui and the rest api we also have metrics",
    "start": "1169679",
    "end": "1176960"
  },
  {
    "text": "built into this so prometheus will tell you if you have any 500s if the api is",
    "start": "1176960",
    "end": "1182320"
  },
  {
    "text": "getting called a lot like a popular blog then it will get scaled up for you",
    "start": "1182320",
    "end": "1187600"
  },
  {
    "text": "and also if you have something i don't know let's say the publish of the blog took three seconds we can run that",
    "start": "1187600",
    "end": "1194799"
  },
  {
    "text": "asynchronously in the background using nats okay and this is something",
    "start": "1194799",
    "end": "1199919"
  },
  {
    "text": "you can install the total amount of ram is less than 300 megs and most of that is prometheus and",
    "start": "1199919",
    "end": "1207440"
  },
  {
    "text": "prometheus is a time series database to collect your metrics",
    "start": "1207440",
    "end": "1212400"
  },
  {
    "start": "1212000",
    "end": "1212000"
  },
  {
    "text": "this is how things look then for our demo today",
    "start": "1212559",
    "end": "1217200"
  },
  {
    "text": "at the bottom left we've got the two functions in the boxes in the circles they're attached to our",
    "start": "1218000",
    "end": "1224000"
  },
  {
    "text": "gateway a gateway is accessed through an ingress controller and has a certificate from let's encrypt",
    "start": "1224000",
    "end": "1229840"
  },
  {
    "text": "pretty standard but that's normally where things end because we don't have any way of getting",
    "start": "1229840",
    "end": "1235520"
  },
  {
    "text": "internet in maybe you open a port on your firewall if your isp allows you",
    "start": "1235520",
    "end": "1240799"
  },
  {
    "text": "but in my example installed this inlet operator it created a tunnel the tunnel was",
    "start": "1240799",
    "end": "1247520"
  },
  {
    "text": "created on an ec2 vm and then when my github action talks to that vm's",
    "start": "1247520",
    "end": "1254080"
  },
  {
    "text": "ip address or my user comes and tries to get to the blog it gets tunneled back into my network",
    "start": "1254080",
    "end": "1261919"
  },
  {
    "text": "hopefully that makes sense so let's go and try this demo out",
    "start": "1261919",
    "end": "1269039"
  },
  {
    "text": "so first of all this is the blog and you can see that this is um",
    "start": "1269039",
    "end": "1276159"
  },
  {
    "text": "running on",
    "start": "1276159",
    "end": "1278720"
  },
  {
    "text": "this is running on the public internet it's got a tls certificate and it's showing as valid",
    "start": "1284799",
    "end": "1293600"
  },
  {
    "text": "if i go into my cluster and i get my services in the cube system namespace",
    "start": "1293600",
    "end": "1300960"
  },
  {
    "text": "we'll see that the external ip address is showing here too",
    "start": "1300960",
    "end": "1306080"
  },
  {
    "text": "and then i have an ingress record for this",
    "start": "1306080",
    "end": "1310320"
  },
  {
    "text": "and we can see it there cubecon ketchup.dev okay the last post is this one from the",
    "start": "1312640",
    "end": "1321039"
  },
  {
    "text": "community meeting and i just took the notes if you attended it and here is my function",
    "start": "1321039",
    "end": "1326320"
  },
  {
    "text": "where i can basically come in and write a post now what i thought is we could just um take a bit of the",
    "start": "1326320",
    "end": "1333760"
  },
  {
    "text": "ketchup readme file and enter it here",
    "start": "1333760",
    "end": "1341440"
  },
  {
    "text": "and we're just going to give this a title and you can see that i've entered some",
    "start": "1344320",
    "end": "1350400"
  },
  {
    "text": "markdown i mean this is not a product it's just an example and um what i want to do is show you",
    "start": "1350400",
    "end": "1357120"
  },
  {
    "text": "that now when i hit commit something's happening in the background my raspberry pi",
    "start": "1357120",
    "end": "1363360"
  },
  {
    "text": "is doing a push to the github repo and we'll be able to see a new commit",
    "start": "1363360",
    "end": "1371919"
  },
  {
    "text": "just here 12 seconds ago we can go into it and we can see what it's put in place",
    "start": "1372080",
    "end": "1379120"
  },
  {
    "text": "and it's generated a header for us also generated a file name",
    "start": "1379120",
    "end": "1384640"
  },
  {
    "text": "but a github action has started to run and this github action is going to clone",
    "start": "1385120",
    "end": "1391679"
  },
  {
    "text": "the repo it's then going to use the openvas hugo template to build that html",
    "start": "1391679",
    "end": "1401440"
  },
  {
    "text": "in fact at this point in time the image is almost ready to be pushed to the docker hub",
    "start": "1401440",
    "end": "1406799"
  },
  {
    "text": "we're now logging into the open fast gateway over the inlets tunnel",
    "start": "1406799",
    "end": "1411840"
  },
  {
    "text": "this is going to be pushed remotely and then we'll see the new version of the blog up here with that post",
    "start": "1411840",
    "end": "1420399"
  },
  {
    "text": "right let's try it out so we need to go to the blog function",
    "start": "1425440",
    "end": "1432240"
  },
  {
    "text": "and there we are it's that i need that probably was less than a minute in total there's several things we can",
    "start": "1432640",
    "end": "1440320"
  },
  {
    "text": "optimize along the way we could make a better markdown editor you know the sky is the limit there",
    "start": "1440320",
    "end": "1449279"
  },
  {
    "text": "if we have a look at the events in the open fn namespace we'll see that",
    "start": "1449360",
    "end": "1457760"
  },
  {
    "text": "the probe liveness probe stopped working on the old container the new one was pulled in we can actually see the git sha here",
    "start": "1457760",
    "end": "1464960"
  },
  {
    "text": "that was used for the image and the tag and that's a multi-arch image built on the cloud",
    "start": "1464960",
    "end": "1470400"
  },
  {
    "text": "deployed on our cluster i also want to show you um that we can get we can get the top",
    "start": "1470400",
    "end": "1478880"
  },
  {
    "text": "pods across the cluster and see what resources they're using so we've got cpu usage prometheus is",
    "start": "1478880",
    "end": "1486080"
  },
  {
    "text": "actually one of the busier things that we've got here the blog is basically almost idle and",
    "start": "1486080",
    "end": "1491840"
  },
  {
    "text": "then we can look at the memory consumption and there's a bunch of things that come",
    "start": "1491840",
    "end": "1497760"
  },
  {
    "text": "with k3s that are running in the background but overall we're not really using a lot of resources",
    "start": "1497760",
    "end": "1503679"
  },
  {
    "text": "we can also run top node and we're getting this data because k3s comes with the metric server built",
    "start": "1503679",
    "end": "1510320"
  },
  {
    "text": "in and then the other one that might be interesting is um",
    "start": "1510320",
    "end": "1515840"
  },
  {
    "text": "is to get the notes and here we see that three are running a saturday um as",
    "start": "1515840",
    "end": "1522240"
  },
  {
    "text": "masters and one is an agent if one of these was to disappear we'd be able to tolerate that",
    "start": "1522240",
    "end": "1528720"
  },
  {
    "text": "failure and carry on",
    "start": "1528720",
    "end": "1531840"
  },
  {
    "text": "so that's a taste of what you can do with your own cluster but now when we look towards the future",
    "start": "1536159",
    "end": "1542960"
  },
  {
    "start": "1538000",
    "end": "1538000"
  },
  {
    "text": "i think managed cloud has got a lot to do with this journey amazon produced aws produced a",
    "start": "1542960",
    "end": "1550400"
  },
  {
    "text": "graviton chip several years ago they've now introduced a new chip called graviton 2",
    "start": "1550400",
    "end": "1556559"
  },
  {
    "text": "which is on compatible you see a little picture of it there",
    "start": "1556559",
    "end": "1561200"
  },
  {
    "text": "and then not only can you get the whole machine as bare metal but you can get individual slices of it",
    "start": "1561600",
    "end": "1567679"
  },
  {
    "text": "as instances with as little as one core or or two gigs of ram",
    "start": "1567679",
    "end": "1575520"
  },
  {
    "text": "you can then go and use this with their managed services like rds and elasticash and save money in fact there's a user",
    "start": "1575520",
    "end": "1582960"
  },
  {
    "text": "here this tweet was i think was from yesterday and valentino you can show you a graph",
    "start": "1582960",
    "end": "1588400"
  },
  {
    "text": "here of how much um that is actually costing him per hit inside his company",
    "start": "1588400",
    "end": "1595919"
  },
  {
    "start": "1595000",
    "end": "1595000"
  },
  {
    "text": "now if you need real control and you want very big servers packet",
    "start": "1595919",
    "end": "1602320"
  },
  {
    "text": "also known as equinix metal have great options here um and their data center link is you",
    "start": "1602320",
    "end": "1608400"
  },
  {
    "text": "know in in the regions of tens of gigabytes it's really um really",
    "start": "1608400",
    "end": "1614080"
  },
  {
    "text": "fast you're only going to pay between half a dollar and a dollar per hour for these so it might work out expensive in the",
    "start": "1614080",
    "end": "1620400"
  },
  {
    "text": "long run but to try it out it's pretty cheap and they've done a lot for the ecosystem",
    "start": "1620400",
    "end": "1625760"
  },
  {
    "text": "so they've worked with vendors like ampere and they're going to be bringing this new ultra max",
    "start": "1625760",
    "end": "1630799"
  },
  {
    "text": "128 cores imagine this h-top in the background where you can't see what processes",
    "start": "1630799",
    "end": "1637600"
  },
  {
    "text": "you're running in your terminal because you've got too many calls and it's a good problem to have",
    "start": "1637600",
    "end": "1643760"
  },
  {
    "text": "and it wouldn't be right to do a talk on arm without talking about apple we've all heard of",
    "start": "1644320",
    "end": "1650480"
  },
  {
    "text": "apple silicon we might even have had some product announcements by the time you hear this talk apple silicon is not an arm chip",
    "start": "1650480",
    "end": "1658480"
  },
  {
    "text": "at least that's what they're saying it is arm 64 compatible it's the same instruction set",
    "start": "1658480",
    "end": "1664799"
  },
  {
    "text": "in the same way that an intel and amd chip are largely compatible",
    "start": "1664799",
    "end": "1670720"
  },
  {
    "text": "now this has potential to give us multi-day battery in a laptop imagine that um and why this is apple",
    "start": "1670720",
    "end": "1678559"
  },
  {
    "text": "silicon and not on arm chip is because they've had so much more i mean they have a machine learning acceleration",
    "start": "1678559",
    "end": "1684320"
  },
  {
    "text": "they've got great power management they've got secure enclaves to store secrets and and state and a bunch of other stuff so",
    "start": "1684320",
    "end": "1691840"
  },
  {
    "text": "keep an eye on this now you may have seen this error usually it's because",
    "start": "1691840",
    "end": "1697840"
  },
  {
    "text": "you've got a binary built for a pc running on your raspberry pi or vice versa each of these raspberry",
    "start": "1697840",
    "end": "1703840"
  },
  {
    "text": "pi's unfortunately runs a different version of arm and they're not all compatible",
    "start": "1703840",
    "end": "1709360"
  },
  {
    "text": "or they are in some ways and the latest is the four it's 64-bit arm",
    "start": "1709360",
    "end": "1716480"
  },
  {
    "start": "1716000",
    "end": "1716000"
  },
  {
    "text": "and if you're building go it's unfortunately very easy to cross compile so in the old days you might have just",
    "start": "1716480",
    "end": "1722640"
  },
  {
    "text": "built that binary on an arm64 machine for your arm users but you can actually",
    "start": "1722640",
    "end": "1728320"
  },
  {
    "text": "build it on your pc or on a mac or whatever you want and cross compile and this is how you put",
    "start": "1728320",
    "end": "1734320"
  },
  {
    "text": "the arguments now the tricky thing is that nobody",
    "start": "1734320",
    "end": "1739760"
  },
  {
    "text": "not everyone will call it arm64 some people will call it that some will call it arch 64. some people",
    "start": "1739760",
    "end": "1746480"
  },
  {
    "text": "call this arm v7 some people call it arm hf and whilst there are similarities",
    "start": "1746480",
    "end": "1752480"
  },
  {
    "text": "and there are nuances it would be great if we could standardize and we just haven't got there yet so",
    "start": "1752480",
    "end": "1758480"
  },
  {
    "text": "beware docker however has done a huge amount of work in this space",
    "start": "1758480",
    "end": "1764640"
  },
  {
    "start": "1760000",
    "end": "1760000"
  },
  {
    "text": "and their new buildex tool means that you can take an existing docker file it's a multi-stage build here",
    "start": "1764640",
    "end": "1770559"
  },
  {
    "text": "specify the build platform and a target platform and they can be different if you want and then through some trickery and some",
    "start": "1770559",
    "end": "1777279"
  },
  {
    "text": "emulation up top there i've built for a pc raspberry pi",
    "start": "1777279",
    "end": "1782720"
  },
  {
    "text": "32-bit os and a 64-bit os and there's not much more you have to do",
    "start": "1782720",
    "end": "1789919"
  },
  {
    "text": "so quick cheat sheet cube admins to hungry it's timing out you want more resources",
    "start": "1789919",
    "end": "1796320"
  },
  {
    "text": "use k3s your sd cards are unreliable look at the turing pi",
    "start": "1796320",
    "end": "1801679"
  },
  {
    "text": "maybe use it emmc or netboot i have a workshop for that come and",
    "start": "1801679",
    "end": "1807600"
  },
  {
    "text": "speak to me i can give you access to it and that's what i've used for my cluster um you don't have a load",
    "start": "1807600",
    "end": "1815360"
  },
  {
    "text": "balancer okay well if you need a public iep address use inlets operator it's a steep learning",
    "start": "1815360",
    "end": "1822080"
  },
  {
    "text": "curve i know i get it i've been through it as well ketchup could help you use install and",
    "start": "1822080",
    "end": "1828159"
  },
  {
    "text": "join command that's all you need it's then back to normal kubernetes and discovering apps use arcade",
    "start": "1828159",
    "end": "1836000"
  },
  {
    "text": "app install it will tell you if it's going to work or not um if there's an app you want to see",
    "start": "1836000",
    "end": "1841039"
  },
  {
    "text": "there just suggest it on github illegal instruction well maybe you need to build a new",
    "start": "1841039",
    "end": "1846880"
  },
  {
    "text": "binary maybe build it for with build x maybe download it manually from the",
    "start": "1846880",
    "end": "1851919"
  },
  {
    "text": "releases page and there is a story for storage",
    "start": "1851919",
    "end": "1857520"
  },
  {
    "text": "lots of people want this you can use an nfs provisioner that uses your network file system in linux",
    "start": "1857760",
    "end": "1863760"
  },
  {
    "text": "you can use local path provisioner that uses the storage on the node from k3s and soon",
    "start": "1863760",
    "end": "1870880"
  },
  {
    "text": "the cncf rancher project that rancher donated longhorn should have arm64 support is on their",
    "start": "1870880",
    "end": "1876880"
  },
  {
    "text": "roadmap and that gives you persistent volumes in software",
    "start": "1876880",
    "end": "1882159"
  },
  {
    "start": "1882000",
    "end": "1882000"
  },
  {
    "text": "now just to wrap up raspberry pi and arm are widely used for real work i hope",
    "start": "1882159",
    "end": "1888399"
  },
  {
    "text": "that i've got that point across to you you can build your own private cloud and you do not have to worry about",
    "start": "1888399",
    "end": "1895279"
  },
  {
    "text": "leaving it on like you do with your amazon account it is not going to cost you anywhere near what it would cost to run an eks",
    "start": "1895279",
    "end": "1901679"
  },
  {
    "text": "cluster but you are going to have to become an advocate if you want to spend some time",
    "start": "1901679",
    "end": "1907279"
  },
  {
    "text": "here you're going to find yourself um discovering gaps that other people didn't know about raising github issues",
    "start": "1907279",
    "end": "1913919"
  },
  {
    "text": "pull requests porting software over even going and working with package maintainers and helm charts",
    "start": "1913919",
    "end": "1920720"
  },
  {
    "text": "so it's not for everyone but you can have a lot of fun while you're at it and there's a great community around",
    "start": "1920720",
    "end": "1926799"
  },
  {
    "text": "this and a ton of interest so look out for apple silicon",
    "start": "1926799",
    "end": "1933279"
  },
  {
    "text": "look out for mainstream arm laptops and i don't mean one or two but",
    "start": "1933279",
    "end": "1938399"
  },
  {
    "text": "everybody is using them i think this is a trend we're going to see and the cm4 with that super fast pci",
    "start": "1938399",
    "end": "1944960"
  },
  {
    "text": "slot we can just stick a ssd straight into there that is going to be ridiculously fast",
    "start": "1944960",
    "end": "1951840"
  },
  {
    "text": "keep an eye out for all of these trends and if there's any way that i can be of help feel free to get in touch",
    "start": "1951840",
    "end": "1959919"
  },
  {
    "text": "most importantly focus on having fun remember that um",
    "start": "1961279",
    "end": "1967519"
  },
  {
    "text": "you do always have the cloud you always do have intel machines to fall back on if you're running into trouble",
    "start": "1967519",
    "end": "1973279"
  },
  {
    "text": "um and i do really hope that you have fun with this so thank you for listening you can get",
    "start": "1973279",
    "end": "1981279"
  },
  {
    "text": "hold of me on twitter down below or you can send me an email i'll be glad to hear from you",
    "start": "1981279",
    "end": "1988240"
  },
  {
    "text": "k3s is available here my twitter account and if you want to join the open fast",
    "start": "1988240",
    "end": "1993919"
  },
  {
    "text": "community and talk about those tools or contribute to them um you're more than welcome to welcome to as well",
    "start": "1993919",
    "end": "2000240"
  },
  {
    "text": "we may have run out of time for q a however i'll make myself available whether that's on slack or twitter we'll",
    "start": "2000240",
    "end": "2007440"
  },
  {
    "text": "know closer to the time where that is all right thank you so much",
    "start": "2007440",
    "end": "2016799"
  }
]