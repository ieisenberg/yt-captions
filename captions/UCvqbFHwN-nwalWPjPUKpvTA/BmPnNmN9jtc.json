[
  {
    "text": "Oh folks so today I'm going to talk",
    "start": "30",
    "end": "6420"
  },
  {
    "text": "about we're going to talk about micro-services and monoliths and we might actually be advocating for",
    "start": "6420",
    "end": "11940"
  },
  {
    "text": "monoliths at cube con but we'll see so it's not working we fix this a minute",
    "start": "11940",
    "end": "21570"
  },
  {
    "text": "ago so yeah I'm gone I'm a Prometheus",
    "start": "21570",
    "end": "30210"
  },
  {
    "text": "maintainer I then started working on cortex which is another CN CF project which is a horizontally scalable",
    "start": "30210",
    "end": "36120"
  },
  {
    "text": "Prometheus which is extremely micro-services based and then I also",
    "start": "36120",
    "end": "41790"
  },
  {
    "text": "maintain Loki and when I have free time which I don't given I maintain three",
    "start": "41790",
    "end": "46829"
  },
  {
    "text": "open-source projects I try to bike just working on my name is Ed I also work at",
    "start": "46829",
    "end": "53699"
  },
  {
    "text": "Gravano labs with Gotham I'm the tech lead on the Loki project I try to contribute a little bit to the cortex",
    "start": "53699",
    "end": "59579"
  },
  {
    "text": "project and I used to build Java monoliths so we're gonna talk to you",
    "start": "59579",
    "end": "66390"
  },
  {
    "text": "about basically this order monoliths micro services and mano micro lists",
    "start": "66390",
    "end": "73140"
  },
  {
    "text": "which we just trademarked a couple minutes ago so I'm gonna give you a little bit of history about monoliths",
    "start": "73140",
    "end": "79860"
  },
  {
    "text": "and I'm gonna tell you why they're the greatest thing ever and I'm gonna do that through these story about a pet",
    "start": "79860",
    "end": "86970"
  },
  {
    "text": "walking service so my friend and I had decided to build a pet walking service",
    "start": "86970",
    "end": "92390"
  },
  {
    "text": "my friend is not Gotham in this case he comes into play later we decided to build this pet walking service and like",
    "start": "92390",
    "end": "99780"
  },
  {
    "text": "anything we build a website we build a back-end we put it all in one repo it",
    "start": "99780",
    "end": "106020"
  },
  {
    "text": "was real basic real simple we needed a proof of concept and it wasn't a whole",
    "start": "106020",
    "end": "111509"
  },
  {
    "text": "lot to it right so easy to develop two of us working on it you know we had the",
    "start": "111509",
    "end": "116579"
  },
  {
    "text": "journey on to our monolith like the way most applications would start nothing really terribly complicated - you know",
    "start": "116579",
    "end": "124310"
  },
  {
    "text": "one team basically working one person sorry let me read my notes real quick",
    "start": "124310",
    "end": "130759"
  },
  {
    "text": "easy to develop a single application so we deploy our application as simple",
    "start": "130760",
    "end": "137570"
  },
  {
    "text": "as well right we put it on one server we have a simple my sequel database behind it we pointed ping da manha we pointed",
    "start": "137570",
    "end": "143480"
  },
  {
    "text": "Nagios at it monitoring was easy deployment was easy updates were easy because it would really care about a lot",
    "start": "143480",
    "end": "150200"
  },
  {
    "text": "of other stuff at the time right we didn't really care about high availability we needed a proof of concept we needed to make our dog walking service famous but then things",
    "start": "150200",
    "end": "158180"
  },
  {
    "text": "got a little more complicated so we found success walking dogs but then we found success walking cats and we found",
    "start": "158180",
    "end": "164240"
  },
  {
    "text": "success charming snakes we were walking Lamas we had tons of",
    "start": "164240",
    "end": "169550"
  },
  {
    "text": "customers all over the world our business was growing we were backed up against um my sequel database and you",
    "start": "169550",
    "end": "175820"
  },
  {
    "text": "know we're we're doing all right like the monolith was still really nice right like we we had a code base we could",
    "start": "175820",
    "end": "180860"
  },
  {
    "text": "develop from one big repo but you know",
    "start": "180860",
    "end": "186080"
  },
  {
    "text": "we're starting to see people that are having you know conflicts about working on the same files working in the same",
    "start": "186080",
    "end": "191780"
  },
  {
    "text": "space we didn't really build our app with you know snakes and cats in mind so",
    "start": "191780",
    "end": "197600"
  },
  {
    "text": "it got a little bit trickier the deployment at scale got a lot harder we started looking at ansible to do scale",
    "start": "197600",
    "end": "204440"
  },
  {
    "text": "deployments but we had trouble keeping our ansible playbooks running people didn't keep them updated and people",
    "start": "204440",
    "end": "210410"
  },
  {
    "text": "didn't run them to completion every time I ran in my instable playbook I got a different error I had to troubleshoot it you know we're",
    "start": "210410",
    "end": "218090"
  },
  {
    "text": "not really sure like how do we move from here right like database was getting a",
    "start": "218090",
    "end": "223340"
  },
  {
    "text": "little bit trickier to work with we had to use sticky sessions on our load balancers in order to do some kind of",
    "start": "223340",
    "end": "230060"
  },
  {
    "text": "parallel scaling because our app wasn't really built to be stateless",
    "start": "230060",
    "end": "234610"
  },
  {
    "text": "additionally when I give this introduction to this talk to my manager",
    "start": "235180",
    "end": "241459"
  },
  {
    "text": "at Cortana labs Tom milky he's like how can you give this talk without talking about Conway's law like that's great",
    "start": "241459",
    "end": "246799"
  },
  {
    "text": "it's great Tom I don't exactly know what the Conway's law is so went to Google",
    "start": "246799",
    "end": "253070"
  },
  {
    "text": "and I look I'm like yeah he's right you know we have this problem too you know our organization is developing into",
    "start": "253070",
    "end": "258169"
  },
  {
    "text": "different business units we have you know sales we have marketing we have training you know people have to learn",
    "start": "258169",
    "end": "263479"
  },
  {
    "text": "how to charm snakes everybody wants something from our software you know and it's getting harder and harder to",
    "start": "263479",
    "end": "269250"
  },
  {
    "text": "sort of the lines keep getting blurred the application keeps you think bigger and we're really really struggling right",
    "start": "269250",
    "end": "274800"
  },
  {
    "text": "so you know I open up the internet and I look at it and it says I should move to microservices so we went out on the",
    "start": "274800",
    "end": "282900"
  },
  {
    "text": "internet we posted a job offering and we got this guy here so I was still in",
    "start": "282900",
    "end": "289530"
  },
  {
    "text": "school and I wrote a blog post that showed micro services for create and they gave me VP of engineering so I",
    "start": "289530",
    "end": "295500"
  },
  {
    "text": "dropped out of school and I was like I'm gonna micro-services your world man and",
    "start": "295500",
    "end": "302090"
  },
  {
    "text": "so if you look at it micro-services actually started taking off only in",
    "start": "302090",
    "end": "307380"
  },
  {
    "text": "about 2015 it was still it was just starting to take off and I started",
    "start": "307380",
    "end": "313320"
  },
  {
    "text": "implementing micro services everywhere and put like why was I doing micro services well simple answer scale yeah",
    "start": "313320",
    "end": "323310"
  },
  {
    "text": "it's just we raced a bunch of hard bank money and we scale insanely fast we",
    "start": "323310",
    "end": "330510"
  },
  {
    "text": "added millions of users and it's just this one monolith it's not able to keep up with the scale of that we are adding",
    "start": "330510",
    "end": "336690"
  },
  {
    "text": "we're adding new cities new pets we are doing to take snake-charming all of that but beyond all the Swedish mediator is a",
    "start": "336690",
    "end": "343800"
  },
  {
    "text": "bunch of money so we can actually have more instances we can have bigger instances we can also still scale",
    "start": "343800",
    "end": "349490"
  },
  {
    "text": "because of course we are vc-backed but it's not just that it's just not scale",
    "start": "349490",
    "end": "355110"
  },
  {
    "text": "in terms of throughput it's also scale in terms of organization it's it's like as ed was mentioning there's now a sales",
    "start": "355110",
    "end": "361950"
  },
  {
    "text": "team there's now a marketing team there's a training team building team there's a team for everything and they",
    "start": "361950",
    "end": "367380"
  },
  {
    "text": "were all working on the same code base and the code base was becoming bigger and bigger they were like five different apps for different things it was all",
    "start": "367380",
    "end": "374250"
  },
  {
    "text": "running off a single codebase we were trying to release every week so we cut a release on Monday and by Wednesday the",
    "start": "374250",
    "end": "380670"
  },
  {
    "text": "snake charmers could snakes are many more so we had to roll it back it is just getting super untenable everyone",
    "start": "380670",
    "end": "387000"
  },
  {
    "text": "was trying to get their feature sent nobody was trying to test their features and everyone was blaming everyone else",
    "start": "387000",
    "end": "392160"
  },
  {
    "text": "that didn't work out so I was like I'm gonna split this organization into micro",
    "start": "392160",
    "end": "397230"
  },
  {
    "text": "services one for each team or a set of micro sorry services for each team so building at",
    "start": "397230",
    "end": "402889"
  },
  {
    "text": "two microservice snake-charming gets microservice dog-walking gets a big micro service because they're the most",
    "start": "402889",
    "end": "409069"
  },
  {
    "text": "popular everyone gets a new micro service I'm like you got a micro service you got a micro service and in the end",
    "start": "409069",
    "end": "415369"
  },
  {
    "text": "we turn we ended up actually doing pretty well we hide smart people and everyone was taking care of their own micro services",
    "start": "415369",
    "end": "421759"
  },
  {
    "text": "it was kind of sort of working and then it actually got out of hand",
    "start": "421759",
    "end": "427669"
  },
  {
    "text": "we had a small micro service that was doing addition right yeah if you look at",
    "start": "427669",
    "end": "436819"
  },
  {
    "text": "the real world actually it's kind of sort of true if you look at mon-sol that is their micro services path so",
    "start": "436819",
    "end": "443180"
  },
  {
    "text": "apparently if you use you actually are going to hit 1500 different micro services which is insane and awesome but",
    "start": "443180",
    "end": "450050"
  },
  {
    "text": "I was like oh this is too much I'm going to go back to school finish my degree this is this is not for me and I",
    "start": "450050",
    "end": "457699"
  },
  {
    "text": "actually went back to school graduated and I joined the fauna labs sorry about",
    "start": "457699",
    "end": "466550"
  },
  {
    "text": "that yeah and I joined to form labs and when I joined I was going to work on hosted Prometheus which is a CN CF project",
    "start": "466550",
    "end": "472219"
  },
  {
    "text": "called cortex it is a pretty simple application as you can see it just has seven or eight different micro services",
    "start": "472219",
    "end": "477499"
  },
  {
    "text": "that's like I snake-charmer for I can do this I can work on cortex and I was like",
    "start": "477499",
    "end": "483349"
  },
  {
    "text": "let me see how how to contribute to it how to build it run make I cannot make",
    "start": "483349",
    "end": "488509"
  },
  {
    "text": "run make tests I can do that and then it said run mini cube and then run all of",
    "start": "488509",
    "end": "494779"
  },
  {
    "text": "these different services and stateful sets all these different things in mini cube I'm like wait what I'm in college",
    "start": "494779",
    "end": "502789"
  },
  {
    "text": "with a four year old laptop and I need to run mini cube wait I need to run kubernetes on it and then put seven or",
    "start": "502789",
    "end": "508219"
  },
  {
    "text": "eight different applications on it just so that I can run a simple query called up what is even happening in this world",
    "start": "508219",
    "end": "515110"
  },
  {
    "text": "it's just super confusing but anyways as I said I was pretty smart I actually",
    "start": "515110",
    "end": "522260"
  },
  {
    "text": "ended up building and working on it and month or two later I went on call that",
    "start": "522260",
    "end": "527389"
  },
  {
    "text": "was fun it's like Oh buddy so slow I'm like okay okay",
    "start": "527389",
    "end": "533870"
  },
  {
    "text": "I had no clue what to look at there was like 8 or 10 different things I need to look at what locks do I look at do I",
    "start": "533870",
    "end": "539300"
  },
  {
    "text": "look at all of them do I look at some of them why are we debug logging at debug level what is this new distributed",
    "start": "539300",
    "end": "544910"
  },
  {
    "text": "tracing thing if it's just getting untenable and I actually wanted to go back to monolith where everything is on",
    "start": "544910",
    "end": "550460"
  },
  {
    "text": "a single single process I can easily debug everything I know what's going on and all the logs are",
    "start": "550460",
    "end": "556910"
  },
  {
    "text": "super clear and in one place and that's when I read this amazing blog post by",
    "start": "556910",
    "end": "563510"
  },
  {
    "text": "segment that's a really good engineering team and this was right about the time I was getting super frustrated they're",
    "start": "563510",
    "end": "568760"
  },
  {
    "text": "like from hundred problem to children to one superstar and I was like yes this makes so much",
    "start": "568760",
    "end": "573800"
  },
  {
    "text": "sense like wow and then I noticed",
    "start": "573800",
    "end": "579980"
  },
  {
    "text": "something else the rise of the mana microts or Micro monoliths so I think",
    "start": "579980",
    "end": "587420"
  },
  {
    "text": "these are they these applications are the future and they're amazing so what are they I did not do that anyways so a",
    "start": "587420",
    "end": "610160"
  },
  {
    "text": "mana micro lid is a single binary monolith composed of micro services what",
    "start": "610160",
    "end": "615530"
  },
  {
    "text": "do I mean so basically let me give you an example of a very popular CN CF",
    "start": "615530",
    "end": "622490"
  },
  {
    "text": "project called Thanos which also does hosted like scalable Prometheus but with different trade-offs the real thing that",
    "start": "622490",
    "end": "629210"
  },
  {
    "text": "I love about Thanos is how simple it is to use so essentially you have your Prometheus's in different clusters you",
    "start": "629210",
    "end": "635240"
  },
  {
    "text": "want long-term storage you want to aggregate data between your different Prometheus's you can use Thanos you can also use cortex so basically you first",
    "start": "635240",
    "end": "643250"
  },
  {
    "text": "start running a side car with your prometheus and then the side car by itself does nothing so you need to add a",
    "start": "643250",
    "end": "649970"
  },
  {
    "text": "courier service to it so this courier service talks to these side cars talks to Prometheus and make sure that it",
    "start": "649970",
    "end": "655430"
  },
  {
    "text": "aggregates data from different Prometheus servers it D duplicates data if there's a chair pair Prometheus pairs",
    "start": "655430",
    "end": "660800"
  },
  {
    "text": "so you are so the first step is ok I want global aggregation between my three different Prometheus's in 3d",
    "start": "660800",
    "end": "667089"
  },
  {
    "text": "and clusters you add the query layer and then you can decide hey this is not enough for me I want long-term storage",
    "start": "667089",
    "end": "672370"
  },
  {
    "text": "you add the object storage layer which uploads these blocks into the object storage and once you are happy with that",
    "start": "672370",
    "end": "678819"
  },
  {
    "text": "you add the compactor layer which actually lets you compact these blocks",
    "start": "678819",
    "end": "686439"
  },
  {
    "text": "and object storage into bigger blocks the thing I really really like about this is it gives you incremental value",
    "start": "686439",
    "end": "692589"
  },
  {
    "text": "and you can start with something super simple that you understand and then you can add one more component that you understand and then one more component",
    "start": "692589",
    "end": "698589"
  },
  {
    "text": "and you can come up with a much complex architecture and when something breaks you have confidence that you can fix it",
    "start": "698589",
    "end": "704350"
  },
  {
    "text": "because you actually grew from a small app to something more complex you gain confidence there and then you went to",
    "start": "704350",
    "end": "710319"
  },
  {
    "text": "something more complex which is amazing and we realize that this is the user",
    "start": "710319",
    "end": "715660"
  },
  {
    "text": "experience this is the developer experience we wanted Thanos is a single binary just to go build Thanos dot slash",
    "start": "715660",
    "end": "721720"
  },
  {
    "text": "Thanos and you have Thanos working on your local system and we attempted to do that with Loki it was super successful",
    "start": "721720",
    "end": "727779"
  },
  {
    "text": "like Loki has been adopted mainly because it's super simple to use we don't need you to run twenty different micro services just one binary and we",
    "start": "727779",
    "end": "735309"
  },
  {
    "text": "went back and we are connected cortex to be simple to use so if you go and look at the cortex readme right now it looks",
    "start": "735309",
    "end": "743079"
  },
  {
    "text": "like this go build cortex dot slash cortex that's as simple as it is and",
    "start": "743079",
    "end": "749199"
  },
  {
    "text": "most of my time I'm not running on people it is anymore and just like doing most of my stuff locally and then push",
    "start": "749199",
    "end": "755199"
  },
  {
    "text": "into dev in a different much bigger kubernetes cluster and testing it at scale there the yeah the development",
    "start": "755199",
    "end": "764079"
  },
  {
    "text": "experience completely changed and I have a lot more confidence in cortex now you will see why but cortex",
    "start": "764079",
    "end": "771069"
  },
  {
    "text": "Thanos Loki at really good examples similar example is Jaeger you can just start with the Jaeger all in one binary",
    "start": "771069",
    "end": "778050"
  },
  {
    "text": "run all of you ger as a single monolith and the moment you realize okay Jaeger 1 and 1 is not scaling let me scale the",
    "start": "778050",
    "end": "784660"
  },
  {
    "text": "ingest path you can run a bunch of queries alongside you're all in one and then a bunch of collectors and then you",
    "start": "784660",
    "end": "791529"
  },
  {
    "text": "can also add a bunch of query query or Jager pods slowly you can grow the complexity of your application similarly",
    "start": "791529",
    "end": "799269"
  },
  {
    "text": "I for the elastic is the same you can independently scale the query path and",
    "start": "799269",
    "end": "804490"
  },
  {
    "text": "ingest path so these are really good applications that have seen incredible adoption because they are mono micro",
    "start": "804490",
    "end": "812029"
  },
  {
    "text": "LEDs so Eddie's gonna now talk about what it takes to build a one of my",
    "start": "812029",
    "end": "817519"
  },
  {
    "text": "product so I fast forward now I've given up on dog walking is a career and I and",
    "start": "817519",
    "end": "824660"
  },
  {
    "text": "the picker fauna labs and I start working on the loci project and right out of the gate this is kind of new to",
    "start": "824660",
    "end": "830300"
  },
  {
    "text": "me so this is a single binary application that we have the ability to scale horizontally and as this project",
    "start": "830300",
    "end": "837740"
  },
  {
    "text": "is growing this is seeing that you know a huge amount of success because it has a really low barrier to entry but it has a lot of other benefits too who are able",
    "start": "837740",
    "end": "843920"
  },
  {
    "text": "to deploy or sorry to run you know the application locally we can I can run it from my editor with a debugger you know",
    "start": "843920",
    "end": "851480"
  },
  {
    "text": "it's like all the things that I loved about my monolith but I can still you know have the ability to scale",
    "start": "851480",
    "end": "856760"
  },
  {
    "text": "horizontally so I'd looked at the codebase and I've kind of tried to summarize like how did we get here right",
    "start": "856760",
    "end": "862100"
  },
  {
    "text": "like what makes low key you know whatever the kind of core components to building an application that has this functionality and the probably first",
    "start": "862100",
    "end": "869540"
  },
  {
    "text": "important part is a modular codebase kind of a you know it's kind of an old",
    "start": "869540",
    "end": "875360"
  },
  {
    "text": "word in software right modular code has been around for a long long time books have been written in the 60s and 70s and",
    "start": "875360",
    "end": "880940"
  },
  {
    "text": "you know there's nothing really new or fancy about it and you know we're all supposed to do it and it's kind of hard",
    "start": "880940",
    "end": "886100"
  },
  {
    "text": "right like like building a application this modular is not necessarily hard but knowing where to draw the lines of",
    "start": "886100",
    "end": "891470"
  },
  {
    "text": "modularity is and so you know one of the things that I think that makes sense in",
    "start": "891470",
    "end": "896510"
  },
  {
    "text": "the world of horizontal computing is to build modules around how your application scales so low key and cortex",
    "start": "896510",
    "end": "903529"
  },
  {
    "text": "our database applications effectively so you know we heavily modularize the read",
    "start": "903529",
    "end": "908569"
  },
  {
    "text": "and write paths so that they're isolated and that can scale horizontally separately if you you know do a lot of",
    "start": "908569",
    "end": "914269"
  },
  {
    "text": "heavy calculation processing you know scheduling like if you have workloads in",
    "start": "914269",
    "end": "919279"
  },
  {
    "text": "kubernetes those are generally good module boundaries to define another sort",
    "start": "919279",
    "end": "927350"
  },
  {
    "text": "of really valuable aspect of the modularity is how you do config management so all this kind of ties",
    "start": "927350",
    "end": "933590"
  },
  {
    "text": "together with a single binary concept but you have a composable config object that's made up of all of the config",
    "start": "933590",
    "end": "940940"
  },
  {
    "text": "objects of each module so for cortex you know it has a querier and gesture stores all these different layers they keep",
    "start": "940940",
    "end": "947180"
  },
  {
    "text": "their configuration within their modules but we pull all that up into a composed",
    "start": "947180",
    "end": "952580"
  },
  {
    "text": "config object and we do that because that's what allows you to do this sauce",
    "start": "952580",
    "end": "957770"
  },
  {
    "text": "slash cortex run with a single file the single config file contains two",
    "start": "957770",
    "end": "963560"
  },
  {
    "text": "config for all of the different modules and similarly this is the single binary aspect of this which is kind of a really",
    "start": "963560",
    "end": "971870"
  },
  {
    "text": "important part for that ease of use the ease of entry experience this is what it lets me run this on my laptop with dot",
    "start": "971870",
    "end": "978530"
  },
  {
    "text": "slash cortex well lets me run my debugger again I'm not you know installing docker I'm not running from a",
    "start": "978530",
    "end": "983570"
  },
  {
    "text": "docker container or time to attach to a remote process I'm not running an app server and then",
    "start": "983570",
    "end": "988970"
  },
  {
    "text": "trying to attach to that I just have a binary and a config file and then when I",
    "start": "988970",
    "end": "995570"
  },
  {
    "text": "get to the point where I'm actually ready to scale my application out we manage that through config options so",
    "start": "995570",
    "end": "1002220"
  },
  {
    "text": "there's different arguments that get passed into the same binary and effectively internally we just load the",
    "start": "1002220",
    "end": "1009160"
  },
  {
    "text": "modules from the code that we care about in case we target it to be an adjuster or a distributor",
    "start": "1009160",
    "end": "1015570"
  },
  {
    "text": "these are terms related to kind of cortex but it's about reading and writing effectively and we can add these",
    "start": "1015570",
    "end": "1023590"
  },
  {
    "text": "components as we need to and the modular code base if you notice is still using the same in this case docker image",
    "start": "1023590",
    "end": "1030069"
  },
  {
    "text": "because we just wrapped that binary with one image and the same config file because we're loading the same config",
    "start": "1030069",
    "end": "1035380"
  },
  {
    "text": "into everything and they just read the sections that they care about a big part of what enables this at least in this",
    "start": "1035380",
    "end": "1043540"
  },
  {
    "text": "case and there's a few ways to do this but G RPC is a fantastic way to sort of enable this modularity to go horizontal",
    "start": "1043540",
    "end": "1050200"
  },
  {
    "text": "so what a couple things that make G RPC really really good for this is the the",
    "start": "1050200",
    "end": "1055930"
  },
  {
    "text": "interface that it defines it was a big fan of soap back in the day and it",
    "start": "1055930",
    "end": "1061660"
  },
  {
    "text": "laughed off the stage for it but I love wisdoms you know one of the things I loved it was the wisdom right",
    "start": "1061660",
    "end": "1067700"
  },
  {
    "text": "like we moved to rest and the rest had a waddle and it was just never the same and GRP see kind of reintroduces that",
    "start": "1067700",
    "end": "1075440"
  },
  {
    "text": "that feature that I really liked which is this contract you know and it's an interface and inside of just a low key",
    "start": "1075440",
    "end": "1082160"
  },
  {
    "text": "for example because I'm more familiar with that we when we load these modules in the single binary we're still using G",
    "start": "1082160",
    "end": "1087500"
  },
  {
    "text": "RPC we just effectively leasing golang we register the handlers essentially the paths for the handlers are separately",
    "start": "1087500",
    "end": "1095810"
  },
  {
    "text": "even though they're loaded in a server and local host and so when that process runs as a single binary it effectively",
    "start": "1095810",
    "end": "1101000"
  },
  {
    "text": "makes G RPC calls to itself on localhost on a local socket I'll point out that",
    "start": "1101000",
    "end": "1106820"
  },
  {
    "text": "this is not obviously the most effective way to scale an app right like you're you know serializing and deserializing to the same process you have you know",
    "start": "1106820",
    "end": "1114260"
  },
  {
    "text": "duplicate memory in places but you know in the bigger picture we don't really care that much right like the idea here",
    "start": "1114260",
    "end": "1119870"
  },
  {
    "text": "is ease of use right like I want to be able to run it I want people to be able to run it easily you wanna be able to debug it when I want to scale it because",
    "start": "1119870",
    "end": "1126260"
  },
  {
    "text": "I'm you know running out of limits that's when I start going horizontal another aspect we call is kind of",
    "start": "1126260",
    "end": "1134510"
  },
  {
    "text": "airplane mode so you know in terms of good like application design it's really",
    "start": "1134510",
    "end": "1140120"
  },
  {
    "text": "really a good idea to abstract all of your what I call third-party dependencies through your own interfaces",
    "start": "1140120",
    "end": "1145970"
  },
  {
    "text": "in this case like you know dynamodb or s3 or anything that you have that you're you know we were writing to or you",
    "start": "1145970",
    "end": "1152600"
  },
  {
    "text": "require and the airplane boat concept is that you should be able to run your app without internet access or with really",
    "start": "1152600",
    "end": "1158960"
  },
  {
    "text": "really poor internet access if you have a dependency on an api or a third party abstract it through an interface and",
    "start": "1158960",
    "end": "1165500"
  },
  {
    "text": "then make a simple implementation of it something that writes to the file system or something that produces data that you",
    "start": "1165500",
    "end": "1170930"
  },
  {
    "text": "can configure it's worth the time because this really speeds up your ability to sort of develop this app and",
    "start": "1170930",
    "end": "1176780"
  },
  {
    "text": "in the case of both cortex and loci they have a you know a file system storage for you know both the objects in the",
    "start": "1176780",
    "end": "1185150"
  },
  {
    "text": "database store and like it's not super performant you know it's got its limits of scalability but it kind of doesn't",
    "start": "1185150",
    "end": "1190820"
  },
  {
    "text": "matter because it just lets you run the thing you know like I don't need anything I don't need to connect anything any just a penny counts I just",
    "start": "1190820",
    "end": "1196040"
  },
  {
    "text": "run the thing you know this is the the monolith world that I really missed right like the ability to just do something without",
    "start": "1196040",
    "end": "1201770"
  },
  {
    "text": "having to have ten different micro services and run them in containers and getting them all set up another thing",
    "start": "1201770",
    "end": "1210200"
  },
  {
    "text": "that I would say is a little our opinionated side is the mono repo low-key cortex they knows these are mono",
    "start": "1210200",
    "end": "1219230"
  },
  {
    "text": "repos you know the the client the server all of the pieces everything we you know plug-ins third-party stuff we just keep",
    "start": "1219230",
    "end": "1225860"
  },
  {
    "text": "stuffing in the same repo it's just it's been making our life a lot easier there's kind of a few reasons I think that that helps one in the modularity",
    "start": "1225860",
    "end": "1233540"
  },
  {
    "text": "sense in my experiences when I took a Java app and I decompose it into a bunch of micro services years ago I put them",
    "start": "1233540",
    "end": "1240860"
  },
  {
    "text": "all in their own repo they all had their own you know maven coordinates and files and you know what I tended to find is",
    "start": "1240860",
    "end": "1248000"
  },
  {
    "text": "like over time as an application evolved and that interface change and it got to the point where I'm like okay this",
    "start": "1248000",
    "end": "1253220"
  },
  {
    "text": "should really be two separate modules and then really feel like setting up a new project that was a huge pain in my butt you know I had to make a new source",
    "start": "1253220",
    "end": "1259910"
  },
  {
    "text": "control project I had to configure a new maven file it's a lot of copy and paste and like I just didn't do it right so keeping that code in the same codebase",
    "start": "1259910",
    "end": "1267110"
  },
  {
    "text": "and limiting the sort of you know effort required to refactor your code base is a big advantage it's a big advantage for",
    "start": "1267110",
    "end": "1274520"
  },
  {
    "text": "sort of consistency and tagging put a different way it's hard to see the",
    "start": "1274520",
    "end": "1279980"
  },
  {
    "text": "advantages of breaking these things up into separate repos so we get back to",
    "start": "1279980",
    "end": "1285860"
  },
  {
    "text": "the cortex story here and essentially cortex went from this micro services application and following on the success",
    "start": "1285860",
    "end": "1292430"
  },
  {
    "text": "of projects like Loki and Yeager and Thanos we've re architected it basically to",
    "start": "1292430",
    "end": "1298670"
  },
  {
    "text": "operate in this micro services or sorry this single binary but scalable approach and it ends up working where you can run",
    "start": "1298670",
    "end": "1305510"
  },
  {
    "text": "the thing you connect to your database or your file system in this case then",
    "start": "1305510",
    "end": "1311090"
  },
  {
    "text": "you know when you want to run more of them you you can actually scale the single binary horizontally there are",
    "start": "1311090",
    "end": "1318080"
  },
  {
    "text": "some caveats in the cortex and Loki case for that matter too we're scaling up and",
    "start": "1318080",
    "end": "1323240"
  },
  {
    "text": "down and some of the communication is still work-in-progress though it is possible it's better if you point it at",
    "start": "1323240",
    "end": "1329120"
  },
  {
    "text": "some kind of a cloud storage or local storage like cassandra dinamo or s3 your BigTable or",
    "start": "1329120",
    "end": "1334850"
  },
  {
    "text": "all of those things and that's part of that abstracting your third your storage interfaces or any of your external",
    "start": "1334850",
    "end": "1341179"
  },
  {
    "text": "vendors through your own interfaces to make sure you can swap these things out",
    "start": "1341179",
    "end": "1347018"
  },
  {
    "text": "so and then you get to that point again where it's like okay now I'm you know my",
    "start": "1348909",
    "end": "1354470"
  },
  {
    "text": "monolith works great and till it doesn't right and that's where you start breaking things up but to Gotham's point",
    "start": "1354470",
    "end": "1361580"
  },
  {
    "text": "like I can run the thing and be confident in it and you know I can point people at it I can point new developers",
    "start": "1361580",
    "end": "1367789"
  },
  {
    "text": "at it they can use the thing and then when I get to where I'm deploying it you know at the big data scale that I want",
    "start": "1367789",
    "end": "1372980"
  },
  {
    "text": "my company to be at I can add these targets and configure the services and",
    "start": "1372980",
    "end": "1378230"
  },
  {
    "text": "scale them horizontally do you push yeah nice and then we can add other services",
    "start": "1378230",
    "end": "1383990"
  },
  {
    "text": "like the front end and then ultimately we get back to this architecture that we have here which is what we really want",
    "start": "1383990",
    "end": "1389840"
  },
  {
    "text": "micro services in many ways really are the way we want to be in you know a kubernetes environment and a cloud",
    "start": "1389840",
    "end": "1396139"
  },
  {
    "text": "native environment it does work really really well it solved a lot of the problems that our pet walking service",
    "start": "1396139",
    "end": "1401840"
  },
  {
    "text": "had it just also created a lot of problems that were already solved right like you know the development experience",
    "start": "1401840",
    "end": "1407419"
  },
  {
    "text": "the onboarding experience and the you know proof-of-concept type experience so in in the end at least we're proposing",
    "start": "1407419",
    "end": "1417139"
  },
  {
    "text": "here with you know some of these kind of ideas of these projects you can effectively have your micro lift micro",
    "start": "1417139",
    "end": "1425179"
  },
  {
    "text": "mono mono micro lift we're working on that stuff but you can have your application be sort of boast of these",
    "start": "1425179",
    "end": "1431809"
  },
  {
    "text": "things you know you're making some trade-offs and like how perform it is in one direction or another but it gives",
    "start": "1431809",
    "end": "1437749"
  },
  {
    "text": "you a lot more flexibility yep to",
    "start": "1437749",
    "end": "1444440"
  },
  {
    "text": "summarize being like having a mono repo is super nice it helps you actually",
    "start": "1444440",
    "end": "1449960"
  },
  {
    "text": "build this single binary that you can do dot slash cortex dot slash Prometheus and it all works",
    "start": "1449960",
    "end": "1457330"
  },
  {
    "text": "having modular called G RPC all of this is create but always remember like when you're onboarding new developers make it",
    "start": "1457419",
    "end": "1463650"
  },
  {
    "text": "easy for them to run this run stuff if you have if someone's coming onto your team and you tell them hey you need to run just 17 different services in",
    "start": "1463650",
    "end": "1471450"
  },
  {
    "text": "kubernetes in your own namespace to do any kind of development you need to build an image push an image you do all",
    "start": "1471450",
    "end": "1476970"
  },
  {
    "text": "of this they're going to quit and don't make them do that make make the development process super easy and make",
    "start": "1476970",
    "end": "1483360"
  },
  {
    "text": "the adoption process incremental like let people incremental e add complexity ask the need and if you do that things",
    "start": "1483360",
    "end": "1490380"
  },
  {
    "text": "will change if you have an open source project make sure it's easy to use and it's incremental when you're scaling it out and once we actually move cortex",
    "start": "1490380",
    "end": "1498180"
  },
  {
    "text": "from micro services to a mono micro let world the number of blog posts the adoption the users everything like just",
    "start": "1498180",
    "end": "1504720"
  },
  {
    "text": "like shot up and it actually super it matters that you make the development",
    "start": "1504720",
    "end": "1509760"
  },
  {
    "text": "experience and the adoption experience super seamless questions okay there's a",
    "start": "1509760",
    "end": "1520950"
  },
  {
    "text": "bunch of questions yeah if you can head to the mic that'd be great",
    "start": "1520950",
    "end": "1527100"
  },
  {
    "text": "Suzanne two quick questions like how big are the teams here because part of why",
    "start": "1527100",
    "end": "1532710"
  },
  {
    "text": "one might do separate repos and do this is you just don't have disciplined engineers that are capable of working",
    "start": "1532710",
    "end": "1539130"
  },
  {
    "text": "the way you're talking about but you still need to make progress could you talk to those things so the in terms of",
    "start": "1539130",
    "end": "1546720"
  },
  {
    "text": "like a mono repo I mean if your code is",
    "start": "1546720",
    "end": "1552150"
  },
  {
    "text": "is modular enough that your teams are disciplined like it shouldn't in theory matter what repo you're in right like",
    "start": "1552150",
    "end": "1559140"
  },
  {
    "text": "like if you're committing in two different files like you're all working out of the same file I would say maybe you've got to look at how your code is",
    "start": "1559140",
    "end": "1565440"
  },
  {
    "text": "architected so you can break it apart into files where people aren't colliding generally the source control doesn't really care how you know big it is if",
    "start": "1565440",
    "end": "1571980"
  },
  {
    "text": "you have enough ability to keep people out of the same place at the same time yeah well I think the question is more",
    "start": "1571980",
    "end": "1579180"
  },
  {
    "text": "so these teams that are working on these mono micro lists how bigger these teams",
    "start": "1579180",
    "end": "1584390"
  },
  {
    "text": "these teams are actually super small at least the open source projects that we are working on yeah well I guess the",
    "start": "1584390",
    "end": "1590490"
  },
  {
    "text": "question is what would it matter well it matters to communication and discipline and how they understand",
    "start": "1590490",
    "end": "1596910"
  },
  {
    "text": "what they're doing with a small team it's quite easy to understand what you guys are talking about do I'm not criticizing I'm just saying there's this",
    "start": "1596910",
    "end": "1603300"
  },
  {
    "text": "thing of artificial forced boundaries to help people be more disciplined where they don't cheat across modular",
    "start": "1603300",
    "end": "1608700"
  },
  {
    "text": "boundaries that's what I was wondering about next question so I I'm not a",
    "start": "1608700",
    "end": "1618390"
  },
  {
    "text": "hundred percent clear on what you're advocating for but what it sounds like is you're saying build your code in a",
    "start": "1618390",
    "end": "1626100"
  },
  {
    "text": "modular way almost as if it was a microservices architecture but in one",
    "start": "1626100",
    "end": "1632640"
  },
  {
    "text": "place and then because it's so modularly build you can easily break out a micro",
    "start": "1632640",
    "end": "1639990"
  },
  {
    "text": "service if you have to down the road that what you're saying yes okay and",
    "start": "1639990",
    "end": "1645720"
  },
  {
    "text": "make sure that it's easy to run it locally as a single process single",
    "start": "1645720",
    "end": "1651000"
  },
  {
    "text": "binary so that people who are new to the codebase they can quickly run it instead",
    "start": "1651000",
    "end": "1656160"
  },
  {
    "text": "of like and they can debug it by hooking up a debug that locally instead of having to who can hook up the debugger",
    "start": "1656160",
    "end": "1661890"
  },
  {
    "text": "up to a Cuban Indies cluster okay so it's a time when you do break out a",
    "start": "1661890",
    "end": "1667050"
  },
  {
    "text": "micro service would you put that in a different repo nope I would actually saw",
    "start": "1667050",
    "end": "1673350"
  },
  {
    "text": "as ed was saying it would be like dot slash cortex target query your target in gesture it would be set in the same same",
    "start": "1673350",
    "end": "1679830"
  },
  {
    "text": "binary but with a different flag or a different command it could be cortex in gesture or cortex career or cortex all",
    "start": "1679830",
    "end": "1686340"
  },
  {
    "text": "in one so the new micro service will still be in the same repo all right",
    "start": "1686340",
    "end": "1692760"
  },
  {
    "text": "thank you so you've taken a micro",
    "start": "1692760",
    "end": "1698730"
  },
  {
    "text": "service architecture and turned it into a single binary one of the benefits of",
    "start": "1698730",
    "end": "1704040"
  },
  {
    "text": "micro services is how easy they are to scale I wasn't quite clear on what you're doing to make that single",
    "start": "1704040",
    "end": "1709500"
  },
  {
    "text": "monolithic binary that you've now deployed to kubernetes or wherever scalable in the same way that micro",
    "start": "1709500",
    "end": "1716400"
  },
  {
    "text": "services are so like we are not going to scale a single binary so essentially if",
    "start": "1716400",
    "end": "1722760"
  },
  {
    "text": "you can so if you look at this you can just",
    "start": "1722760",
    "end": "1728770"
  },
  {
    "text": "start with running all the components in just the wind one layer and the movement you suddenly notice Oh queries are a",
    "start": "1728770",
    "end": "1735490"
  },
  {
    "text": "bottleneck now and I can't scale this out without affecting other things let me just break the queries into a",
    "start": "1735490",
    "end": "1740860"
  },
  {
    "text": "separate microservice just by adding a new command dot slash cortex target query here and then this is a new micro",
    "start": "1740860",
    "end": "1747100"
  },
  {
    "text": "service that just as querying and then Oh queries are not fast enough I need to add some caching paralyzing splitting",
    "start": "1747100",
    "end": "1754240"
  },
  {
    "text": "munging you can add a front-end which is another micro service so you can incrementally add this complexity and",
    "start": "1754240",
    "end": "1759490"
  },
  {
    "text": "you can incrementally add micro services su scale so the I mean the way that actually works is the just the argument",
    "start": "1759490",
    "end": "1765880"
  },
  {
    "text": "on the command line so when that initiated that module the argument on the command line determines this",
    "start": "1765880",
    "end": "1770980"
  },
  {
    "text": "actually like how many gr BC endpoints you register what code is initialized etc so there is some kind of glue work",
    "start": "1770980",
    "end": "1777400"
  },
  {
    "text": "upfront that determines how many of those modules are actually active in that binary in order to determine what",
    "start": "1777400",
    "end": "1783370"
  },
  {
    "text": "kind of micro service it is okay thank you conceptually speaking this is like",
    "start": "1783370",
    "end": "1791920"
  },
  {
    "text": "super interesting you're drawing this wonderful third camp that we can all pitch fork against and but you seem to",
    "start": "1791920",
    "end": "1800680"
  },
  {
    "text": "be advocating for like some sort of boundary line between like the monolith and and microservice purism ideals but",
    "start": "1800680",
    "end": "1807880"
  },
  {
    "text": "what would like what would your guiding principle be of like how to draw the lines between where you need a totally",
    "start": "1807880",
    "end": "1814510"
  },
  {
    "text": "separate service or separate repo I'm sure there are separate debates what what guiding principles would you just",
    "start": "1814510",
    "end": "1820420"
  },
  {
    "text": "come up with based on your experience of okay that's probably time to start a new command to run completely separate so I",
    "start": "1820420",
    "end": "1828220"
  },
  {
    "text": "mean we're bounded by an application with kind of a purpose right like if you're architecting and I think",
    "start": "1828220",
    "end": "1833260"
  },
  {
    "text": "something more like like you how would you run your business right I like back to our pet walking business right like",
    "start": "1833260",
    "end": "1838710"
  },
  {
    "text": "you know I don't know that you need to be I don't know that the limitation",
    "start": "1838710",
    "end": "1844330"
  },
  {
    "text": "needs to be the source control like you could put all of your code in one repository companies do this the",
    "start": "1844330",
    "end": "1850540"
  },
  {
    "text": "advantage of that I think is it does make it sort of simpler to kind of move around what makes",
    "start": "1850540",
    "end": "1855909"
  },
  {
    "text": "would you run an entire company with one binary I don't know that I mean I guess",
    "start": "1855909",
    "end": "1861219"
  },
  {
    "text": "you could like I don't have a great answer for I mean this is why the modularity problem is hard right like",
    "start": "1861219",
    "end": "1867699"
  },
  {
    "text": "like again I would just kind of look back to say like what is the scalable unit of this and like in back to Conway",
    "start": "1867699",
    "end": "1873789"
  },
  {
    "text": "you know like what are my business units centered around and you know what are my team is focused around I mean I don't",
    "start": "1873789",
    "end": "1880869"
  },
  {
    "text": "think there's a limit to how big you could make this I don't know that there's an advantage to making it infinitely big unless you regularly have",
    "start": "1880869",
    "end": "1886239"
  },
  {
    "text": "people moving all over the company and all over your teams and all over your codebase kind of the same problem of",
    "start": "1886239",
    "end": "1891579"
  },
  {
    "text": "like what is a pod and like how big do you make it and what do you put in it and all that stuff but the modular set",
    "start": "1891579",
    "end": "1897609"
  },
  {
    "text": "yeah I mean generally speaking the smaller your module is the better right the smaller the interface the better that you know the smaller you can make",
    "start": "1897609",
    "end": "1903789"
  },
  {
    "text": "any compose this is the micro-service idea right like the smaller you can make that the sort of in theory the easier it",
    "start": "1903789",
    "end": "1909129"
  },
  {
    "text": "is to do rollouts the less likely you're gonna make changes easier just to test so you know thank you yep no time for",
    "start": "1909129",
    "end": "1917169"
  },
  {
    "text": "two more questions hi there a quick question about moving from a monolith to microservice",
    "start": "1917169",
    "end": "1923139"
  },
  {
    "text": "structure how did you I guess maintain progress over you know weeks and years",
    "start": "1923139",
    "end": "1928629"
  },
  {
    "text": "of you know keeping your monolith running keeping it maintained putting out new features while simultaneously",
    "start": "1928629",
    "end": "1934569"
  },
  {
    "text": "you know migrating it into a micro service structure how did you guess keep crop progress going instead of you know",
    "start": "1934569",
    "end": "1941379"
  },
  {
    "text": "stopping and never getting back on the project we cheated by having a small",
    "start": "1941379",
    "end": "1947049"
  },
  {
    "text": "project that there any advice that kind of like really helped you guys on track",
    "start": "1947049",
    "end": "1953589"
  },
  {
    "text": "I mean I guess like depending on how",
    "start": "1953589",
    "end": "1961359"
  },
  {
    "text": "your your codebase is built if you can continue like if you can pull",
    "start": "1961359",
    "end": "1967419"
  },
  {
    "text": "out functionality start it as a new service start slowly migrating people to",
    "start": "1967419",
    "end": "1972549"
  },
  {
    "text": "that service and sort of continue that trend like sort of define where you want your modules to be like what your business units are start pulling",
    "start": "1972549",
    "end": "1979029"
  },
  {
    "text": "function now you're gonna basically be replicating it at some point right until you can in write decompose your app into",
    "start": "1979029",
    "end": "1986320"
  },
  {
    "text": "I'm unfortunately I don't know yeah I've imagined there's a talk out there on how to decompose your York monolith but okay",
    "start": "1986320",
    "end": "1995080"
  },
  {
    "text": "so no so no magic pill okay thank you",
    "start": "1995080",
    "end": "1999210"
  },
  {
    "text": "[Music] like can't quite hear you I'm afraid",
    "start": "2003840",
    "end": "2008970"
  },
  {
    "text": "sorry like it's possible to integrate radius integrate them into it I mean I",
    "start": "2008970",
    "end": "2018780"
  },
  {
    "text": "would consider those like the external dependencies and I would abstract those through an interface or more like in a",
    "start": "2018780",
    "end": "2026910"
  },
  {
    "text": "Postgres and it's like it's trickier if you're using you know lots of like like",
    "start": "2026910",
    "end": "2034160"
  },
  {
    "text": "cortex and loci abstract through reads and writes simpler interfaces I mean it's not that simple right but if you",
    "start": "2034160",
    "end": "2040830"
  },
  {
    "text": "can build your application around the the units of like what's your storing and how so that you can implement any",
    "start": "2040830",
    "end": "2046380"
  },
  {
    "text": "storage mechanism behind them that certainly makes that easier to hide those out like that being said like if",
    "start": "2046380",
    "end": "2053580"
  },
  {
    "text": "you were app like in the old monolith days and the original story like if you're only a dependency is running something like Postgres you can run that",
    "start": "2053580",
    "end": "2059820"
  },
  {
    "text": "locally pretty easily so that's not a huge barrier to entry and I would like to add that we use DynamoDB and memcache",
    "start": "2059820",
    "end": "2067500"
  },
  {
    "text": "D or Redis in cortex but the single binary no dependency version has in mem",
    "start": "2067500",
    "end": "2073050"
  },
  {
    "text": "caching and bold DB as an alternative so you could implement an interface into",
    "start": "2073050",
    "end": "2078270"
  },
  {
    "text": "SQLite yeah and then have everything done locally without having to run this for screws and this is only for",
    "start": "2078270",
    "end": "2084540"
  },
  {
    "text": "development or for quick testing to check if your code works and all of that so you can you can always abstract that",
    "start": "2084540",
    "end": "2090659"
  },
  {
    "text": "away with the node event no dependencies version thanks just give the speakers a",
    "start": "2090660",
    "end": "2097260"
  },
  {
    "text": "round of applause and please fill out your breakout session",
    "start": "2097260",
    "end": "2101690"
  }
]