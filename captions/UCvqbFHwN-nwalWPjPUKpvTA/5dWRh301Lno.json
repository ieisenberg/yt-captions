[
  {
    "start": "0",
    "end": "89000"
  },
  {
    "text": "hello everyone and welcome to our talk we want to talk about how to manage",
    "start": "210",
    "end": "7460"
  },
  {
    "text": "security for Q bonitas cluster so my name is Sebastian Schuyler I'm one of the cofounders of Lutzer we",
    "start": "7460",
    "end": "16139"
  },
  {
    "text": "are in Hamburg based startup and working how to manage communities cluster at",
    "start": "16139",
    "end": "22380"
  },
  {
    "text": "scale good morning Hugh Khan my name is Simon Pearce and all a warm welcoming to",
    "start": "22380",
    "end": "28320"
  },
  {
    "text": "Barcelona nice sunny city hope you're enjoying the keynotes and everything one",
    "start": "28320",
    "end": "33960"
  },
  {
    "text": "of the first talks is today very excited to be here today and basically I'm from a company called sis 11 a web hosting",
    "start": "33960",
    "end": "41100"
  },
  {
    "text": "company based in Berlin in Germany and sebast Marie said we would like to talk",
    "start": "41100",
    "end": "46770"
  },
  {
    "text": "to you today about how we manage security issues at 611 and how we run",
    "start": "46770",
    "end": "53100"
  },
  {
    "text": "kubernetes clusters at scale so let's get started is it working",
    "start": "53100",
    "end": "64460"
  },
  {
    "text": "sweetie [Music] with the moss sorry what much okay",
    "start": "64640",
    "end": "73480"
  },
  {
    "text": "so first first of all why are we doing all this it's basically I want to take you on a journey here tell us a bit",
    "start": "73480",
    "end": "79030"
  },
  {
    "text": "about our story about what we're trying to achieve here so first of all it's",
    "start": "79030",
    "end": "84490"
  },
  {
    "text": "definitely important to know why are we actually doing this we're doing this because we're basically a service",
    "start": "84490",
    "end": "91750"
  },
  {
    "start": "89000",
    "end": "89000"
  },
  {
    "text": "provider so we offer kubernetes as a service to a lot of customers with",
    "start": "91750",
    "end": "98050"
  },
  {
    "text": "various different use cases we basically",
    "start": "98050",
    "end": "103300"
  },
  {
    "start": "101000",
    "end": "101000"
  },
  {
    "text": "have run multiple clusters and they're also distributed between OpenStack and",
    "start": "103300",
    "end": "108640"
  },
  {
    "text": "also we run them on AWS too so customers have got the freedom of choice to choose",
    "start": "108640",
    "end": "113950"
  },
  {
    "text": "between these two platforms that they would like to use and basically use them as efficiently as possible",
    "start": "113950",
    "end": "119950"
  },
  {
    "text": "different platforms different features the majority of these clusters are",
    "start": "119950",
    "end": "125619"
  },
  {
    "start": "123000",
    "end": "123000"
  },
  {
    "text": "managed clusters in all cases we definitely take the full management and responsibility of all the master",
    "start": "125619",
    "end": "132010"
  },
  {
    "text": "components that we run in the kubernetes cluster because we feel that the majority of the customers do not want to",
    "start": "132010",
    "end": "138430"
  },
  {
    "text": "take care of is my etcd running how is my API server doing what is my",
    "start": "138430",
    "end": "143860"
  },
  {
    "text": "controller manager doing the major interests of all of our customers is running containerized applications at",
    "start": "143860",
    "end": "150100"
  },
  {
    "text": "scale 24/7 support is also a crucial key",
    "start": "150100",
    "end": "157780"
  },
  {
    "text": "within our ecosystem having engineers the need to be able to get paged to 3:00",
    "start": "157780",
    "end": "163180"
  },
  {
    "text": "in the morning maybe to find out as quickly as possible what's going on what's going wrong with this cluster and",
    "start": "163180",
    "end": "169180"
  },
  {
    "text": "how can we fix it as quickly as possible",
    "start": "169180",
    "end": "172859"
  },
  {
    "start": "174000",
    "end": "174000"
  },
  {
    "text": "greatly coupled on that is often a service level agreement so we basically",
    "start": "174450",
    "end": "179850"
  },
  {
    "text": "guarantee people that their API endpoints are going to be accessible that they're able to deploy",
    "start": "179850",
    "end": "186800"
  },
  {
    "text": "and new deployments that they're able to run stuff on their cluster and everything runs efficiently as possible",
    "start": "186800",
    "end": "195370"
  },
  {
    "start": "195000",
    "end": "195000"
  },
  {
    "text": "and another one which is a great challenge to us is that all of our KS",
    "start": "195370",
    "end": "200750"
  },
  {
    "text": "API endpoints are public available because we have people all around the globe people home workers people working",
    "start": "200750",
    "end": "207650"
  },
  {
    "text": "from their offices it's really difficult to to put a VPN or any form of firewall",
    "start": "207650",
    "end": "212870"
  },
  {
    "text": "in front of it so basically all of these clusters are public available and this is definitely or can cause issues so",
    "start": "212870",
    "end": "222650"
  },
  {
    "start": "221000",
    "end": "221000"
  },
  {
    "text": "what is our motivation why are we actually trying to do this what is basically what we're trying to achieve",
    "start": "222650",
    "end": "229340"
  },
  {
    "text": "here one is to be one of the best managed humanity services in Germany at",
    "start": "229340",
    "end": "237050"
  },
  {
    "start": "231000",
    "end": "231000"
  },
  {
    "text": "least maybe which is kind of looking at something which is quite difficult to",
    "start": "237050",
    "end": "243050"
  },
  {
    "text": "become but not impossible I would say also a great motivation is having to",
    "start": "243050",
    "end": "251330"
  },
  {
    "start": "247000",
    "end": "247000"
  },
  {
    "text": "deal and fix security issues so basically have a check what security",
    "start": "251330",
    "end": "260150"
  },
  {
    "text": "issues are there and how can I deal with them and what do I actually have to do",
    "start": "260150",
    "end": "266440"
  },
  {
    "start": "266000",
    "end": "266000"
  },
  {
    "text": "yeah I mean before we going into a security issues the first first question",
    "start": "269200",
    "end": "275750"
  },
  {
    "text": "from me into the round is like raise your hands how many people run at least",
    "start": "275750",
    "end": "281000"
  },
  {
    "text": "one cluster in production who are",
    "start": "281000",
    "end": "286760"
  },
  {
    "text": "running five clusters in production who are running twenty classes in production",
    "start": "286760",
    "end": "294699"
  },
  {
    "text": "we're running 50 so they're currently only a few but like",
    "start": "295330",
    "end": "300560"
  },
  {
    "text": "imagine you want to run a lot of class of 50 hundred thousands of classes in",
    "start": "300560",
    "end": "306259"
  },
  {
    "text": "production especially like a service provider or what we also see more and more enterprise companies want to run",
    "start": "306259",
    "end": "312949"
  },
  {
    "text": "hybrid cloud multi cloud environments and now you get the challenge there are",
    "start": "312949",
    "end": "319460"
  },
  {
    "text": "new bugs are coming out like the one Seebeck which occurs this year where",
    "start": "319460",
    "end": "327039"
  },
  {
    "start": "326000",
    "end": "326000"
  },
  {
    "text": "attackers can override the binary and can root access to your to your node or",
    "start": "327039",
    "end": "332720"
  },
  {
    "text": "like last December the Kuban it is back",
    "start": "332720",
    "end": "341470"
  },
  {
    "text": "which was the problem that you could get",
    "start": "341470",
    "end": "348250"
  },
  {
    "text": "you could escalate your your calls so that you can complete access to the API",
    "start": "348250",
    "end": "354370"
  },
  {
    "text": "when you're running an API and react aggregated at the API server and like in",
    "start": "354370",
    "end": "360409"
  },
  {
    "text": "the default setup on most cuban ITA's systems the metric server was running",
    "start": "360409",
    "end": "365539"
  },
  {
    "text": "there so this was the case and so especially if your queue benitez api",
    "start": "365539",
    "end": "370580"
  },
  {
    "text": "server is publicly exposed you must act quite fast and it Simon",
    "start": "370580",
    "end": "375830"
  },
  {
    "text": "said the node for example at this level",
    "start": "375830",
    "end": "380960"
  },
  {
    "text": "they don't must be on a public neck but but somehow the masters are on a public network so you must act fast and it's",
    "start": "380960",
    "end": "390530"
  },
  {
    "text": "much more important first of all you need to know which systems you are patching because when you know ok there potentially 50 systems in the in your",
    "start": "390530",
    "end": "398150"
  },
  {
    "text": "organization I assure which versions they are running so to really have a centralized view on",
    "start": "398150",
    "end": "404180"
  },
  {
    "text": "it to know ok this classes are affected this classes I need to patch and how to",
    "start": "404180",
    "end": "410780"
  },
  {
    "text": "do this so next is basically the",
    "start": "410780",
    "end": "415880"
  },
  {
    "start": "413000",
    "end": "413000"
  },
  {
    "text": "challenge what challenges are we facing here and I would like to talk to you a bit about what kind of challenges you",
    "start": "415880",
    "end": "421610"
  },
  {
    "text": "have when you're running multiple hundreds of communities clusters so",
    "start": "421610",
    "end": "427659"
  },
  {
    "start": "427000",
    "end": "427000"
  },
  {
    "text": "basically we're running hundreds of clusters different cloud providers for a vast",
    "start": "427659",
    "end": "433780"
  },
  {
    "text": "amount of customers and a large majority of these customers also run production workloads we're not just talking about",
    "start": "433780",
    "end": "440110"
  },
  {
    "text": "testing def staging stuff we're actually talking about production workloads these",
    "start": "440110",
    "end": "445780"
  },
  {
    "start": "444000",
    "end": "444000"
  },
  {
    "text": "are distributed as I said earlier across multiple clouds which also gives us more",
    "start": "445780",
    "end": "451540"
  },
  {
    "text": "issues that we need to face an encounter because the way you may have to roll out",
    "start": "451540",
    "end": "456700"
  },
  {
    "text": "surfs and things you may need to change things like base images Network configurations are different across",
    "start": "456700",
    "end": "462610"
  },
  {
    "text": "different cloud providers as the majority of you probably already know so",
    "start": "462610",
    "end": "468100"
  },
  {
    "start": "467000",
    "end": "467000"
  },
  {
    "text": "how do you actually deal with these type of security issues and what do you have",
    "start": "468100",
    "end": "473890"
  },
  {
    "text": "to do to actually find out where they are and see what what actions needed",
    "start": "473890",
    "end": "481150"
  },
  {
    "text": "need to be taken so number one would be",
    "start": "481150",
    "end": "487270"
  },
  {
    "start": "484000",
    "end": "484000"
  },
  {
    "text": "like how do you go about upgrading production clusters so you've got like workload on there and you somehow you",
    "start": "487270",
    "end": "494260"
  },
  {
    "text": "need to shift this workload from maybe one cluster to another onto another worker nodes there's lots of stuff that",
    "start": "494260",
    "end": "499570"
  },
  {
    "text": "you need to think about and to consider when making these decisions and one of",
    "start": "499570",
    "end": "507250"
  },
  {
    "text": "the major problems is also that this in the majority of times needs to be done as soon as possible depending on the",
    "start": "507250",
    "end": "515820"
  },
  {
    "text": "case so how do we actually do this",
    "start": "515820",
    "end": "523110"
  },
  {
    "start": "523000",
    "end": "523000"
  },
  {
    "text": "so I mean if you're running more than 20",
    "start": "524330",
    "end": "530060"
  },
  {
    "text": "classes fifty clusters you cannot do this manually you need to out automate this so one possibility is to build an",
    "start": "530060",
    "end": "539720"
  },
  {
    "text": "operator for cumin eaters which manage your queue bonitas cluster so that you can really leverage all the functions",
    "start": "539720",
    "end": "546470"
  },
  {
    "text": "functions kubernetes provides you to upgrade and to run across your whole",
    "start": "546470",
    "end": "552680"
  },
  {
    "text": "infrastructure to upgrade the clusters and the nodes so and how can you do this",
    "start": "552680",
    "end": "558020"
  },
  {
    "text": "like one building block you could currently look like it's quite early",
    "start": "558020",
    "end": "563690"
  },
  {
    "start": "559000",
    "end": "559000"
  },
  {
    "text": "it's currently still alpha and there's a lot of discussion around but you can at least getting ideas if you want to build",
    "start": "563690",
    "end": "569660"
  },
  {
    "text": "something like this is cluster API which is a part of the sig life cycle group",
    "start": "569660",
    "end": "576530"
  },
  {
    "text": "where the intention is building building blocks for different use cases like how",
    "start": "576530",
    "end": "583370"
  },
  {
    "text": "to spin up a control plane up how to manage my my worker nodes how to upgrade my worker nodes and things like this",
    "start": "583370",
    "end": "589550"
  },
  {
    "text": "so so really looking into how can I really automate all my cluster set up so",
    "start": "589550",
    "end": "595280"
  },
  {
    "text": "that I then be able to bid some build something on top of it which can manage",
    "start": "595280",
    "end": "600470"
  },
  {
    "text": "not even one class which can manage fifty hundred thousands of cluster in this cable will go away and in best case",
    "start": "600470",
    "end": "606440"
  },
  {
    "text": "you can build it in a that way that you can run it not only on one cloud you can run it on multiple clouds you can run it",
    "start": "606440",
    "end": "612350"
  },
  {
    "text": "even on Prem and have for your whole organization a single view of glass how to manage this and how to control this",
    "start": "612350",
    "end": "620740"
  },
  {
    "start": "621000",
    "end": "621000"
  },
  {
    "text": "so of course one of the first parts is classic creation cluster updates so",
    "start": "621370",
    "end": "627670"
  },
  {
    "text": "before you can manage anything or can manage a class that you need to upgrade the class as creates a cluster and then",
    "start": "627670",
    "end": "634700"
  },
  {
    "text": "later also have the possibility to upgrade the cluster and somehow have a centralized registry where you can",
    "start": "634700",
    "end": "642020"
  },
  {
    "text": "register all your clusters which are running in your organization so that you're not running in the problem okay",
    "start": "642020",
    "end": "647060"
  },
  {
    "text": "if you develop a set of clusters there and some other developer set up a class are there and from a security perspective you",
    "start": "647060",
    "end": "653650"
  },
  {
    "text": "don't even know what version of Cuban Eaters you are running what version of operating system container runtime",
    "start": "653650",
    "end": "660340"
  },
  {
    "text": "you're running and so if if a back is coming up you start searching in your",
    "start": "660340",
    "end": "665770"
  },
  {
    "text": "organization what clusters do any to upgrade or inform your developer and in",
    "start": "665770",
    "end": "672790"
  },
  {
    "text": "hopes that you develop our upgrade or the cluster and don't forget some small development just somewhere in the back",
    "start": "672790",
    "end": "679800"
  },
  {
    "text": "which is then affected potentially that's one point another point is also",
    "start": "679800",
    "end": "687240"
  },
  {
    "start": "686000",
    "end": "686000"
  },
  {
    "text": "the classic configuration and the cluster management so like not only the",
    "start": "687240",
    "end": "692380"
  },
  {
    "text": "cuban ITA's master all components which is deployed on a master you need to look into it like if you're using an overlay",
    "start": "692380",
    "end": "699370"
  },
  {
    "text": "network or matrix server",
    "start": "699370",
    "end": "704460"
  },
  {
    "text": "fluency or a log shipper things like this so first of all you need an",
    "start": "705880",
    "end": "711130"
  },
  {
    "text": "overview there and also have control about this so that you can also upgrade this additional add-ons which are running on top of the cluster which are",
    "start": "711130",
    "end": "717580"
  },
  {
    "text": "part of your main infrastructure so that also a challenge to deploy this manages",
    "start": "717580",
    "end": "723670"
  },
  {
    "text": "and controls us and last but not least your machines itself so the worker nodes",
    "start": "723670",
    "end": "729460"
  },
  {
    "start": "726000",
    "end": "726000"
  },
  {
    "text": "and the nodes of c.c master in the best case yeah you want to control the queue",
    "start": "729460",
    "end": "737500"
  },
  {
    "text": "Benitez version the darker version and all kinds of stuff and one thing which",
    "start": "737500",
    "end": "744340"
  },
  {
    "text": "is currently developed in the cluster API for example is a machine deployment object we should then can use to do",
    "start": "744340",
    "end": "750310"
  },
  {
    "text": "rolling upgrades of your machine so that you can upgrade the machines automatically without a lot of",
    "start": "750310",
    "end": "757660"
  },
  {
    "text": "interactions yeah and what we do to make",
    "start": "757660",
    "end": "764620"
  },
  {
    "start": "761000",
    "end": "761000"
  },
  {
    "text": "this even easier together was this 11 we run queue Benitez on cue Benitez so",
    "start": "764620",
    "end": "770460"
  },
  {
    "text": "because we said ok we don't want to for every class I want to have the overhead of running a complete master with this",
    "start": "770460",
    "end": "778120"
  },
  {
    "text": "VMs so we put the complete master in container and run only the container",
    "start": "778120",
    "end": "783279"
  },
  {
    "text": "where this makes it already easier because we don't care for the master on the operating system layer we only must",
    "start": "783279",
    "end": "788769"
  },
  {
    "text": "upgrade the kubernetes binaries and the docker images but not like additional",
    "start": "788769",
    "end": "794910"
  },
  {
    "text": "operation layer and this makes it also easier for us because we can easily use",
    "start": "794910",
    "end": "801519"
  },
  {
    "text": "to Benitez principles to manage a cluster so one of the takeaways here was",
    "start": "801519",
    "end": "810399"
  },
  {
    "start": "807000",
    "end": "807000"
  },
  {
    "text": "definitely see your kubernetes cluster as a kubernetes resource in the majority of the time you see people trying to",
    "start": "810399",
    "end": "817240"
  },
  {
    "text": "pull up clusters with maybe building infrastructure with terraform running some form of configuration",
    "start": "817240",
    "end": "824499"
  },
  {
    "text": "management on top of that if you see basically your crustal resources and your nodes as a kubernetes resource then",
    "start": "824499",
    "end": "832420"
  },
  {
    "text": "you can basically use the abilities that kubernetes already has the ability to use a scheduler the ability to use",
    "start": "832420",
    "end": "839079"
  },
  {
    "text": "deployments for your machines as you saw just a minute ago on the example yamo that we had which then allows you to",
    "start": "839079",
    "end": "845230"
  },
  {
    "text": "basically do rolling upgrades instead of having to rebuild all your machines and do other things with them and one of the",
    "start": "845230",
    "end": "851649"
  },
  {
    "text": "key points that we need to look at here of course for us offering a managed service is monitoring how can we",
    "start": "851649",
    "end": "858999"
  },
  {
    "text": "actually monitor find out what are people running in their clusters and one specific thing is what version of",
    "start": "858999",
    "end": "865629"
  },
  {
    "text": "communities are they running are they actually running a version which is vulnerable which could cause us problems",
    "start": "865629",
    "end": "870879"
  },
  {
    "text": "and in this graph on a graph you can basically see at the time and at that",
    "start": "870879",
    "end": "876160"
  },
  {
    "text": "moment that what version people were running and towards the end people were kind of switching to 114 partly to do",
    "start": "876160",
    "end": "883299"
  },
  {
    "text": "with that we're running upgrades for people and partly because people saw we were actually offering a new version our",
    "start": "883299",
    "end": "889179"
  },
  {
    "text": "dashboard and it's basically a point to click install to get to the next version and that's what it should be like it",
    "start": "889179",
    "end": "895899"
  },
  {
    "text": "shouldn't be like okay is this gonna work what I'm gonna have to do I'm going to rethink this I mean kubernetes is a",
    "start": "895899",
    "end": "901959"
  },
  {
    "text": "fast-moving piece of software so there's going to be a lot of updates to be done",
    "start": "901959",
    "end": "906990"
  },
  {
    "text": "something you need to consider when you're running these sort of systems in production so",
    "start": "906990",
    "end": "913660"
  },
  {
    "start": "911000",
    "end": "911000"
  },
  {
    "text": "how do we actually do this we can basically patch the cluster objects we have a cluster object which basically",
    "start": "913660",
    "end": "920680"
  },
  {
    "text": "defines the API servers the kubernetes version we would like to run and all",
    "start": "920680",
    "end": "927040"
  },
  {
    "text": "those sort of things and we can use a standardized a cube CTL patch method to",
    "start": "927040",
    "end": "932380"
  },
  {
    "text": "actually patch these resources and provide each customer individually with an upgrade so it's also possible to do",
    "start": "932380",
    "end": "939550"
  },
  {
    "text": "canary upgrades and other things to actually find out if we are going to run into any potential issues while doing",
    "start": "939550",
    "end": "946960"
  },
  {
    "text": "this and then we basically come to the",
    "start": "946960",
    "end": "952420"
  },
  {
    "text": "upgrade process as in such what do we have to do to actually accomplish this",
    "start": "952420",
    "end": "958950"
  },
  {
    "text": "so first of course when we're talking about security issues we need to know what is affected and who is affected so",
    "start": "958950",
    "end": "967660"
  },
  {
    "start": "960000",
    "end": "960000"
  },
  {
    "text": "often this is done if you if you find out what how severe is the impact going",
    "start": "967660",
    "end": "973930"
  },
  {
    "start": "972000",
    "end": "972000"
  },
  {
    "text": "to be so if we're talking about something public facing like the API server for instance and if we look back",
    "start": "973930",
    "end": "980020"
  },
  {
    "text": "at one of the bugs which Sebastian showed us where you could basically use anonymous requests you could basically",
    "start": "980020",
    "end": "986380"
  },
  {
    "text": "use the API server to proxy requests through to the metrics endpoint and to other things this can be very severe so then we're",
    "start": "986380",
    "end": "994150"
  },
  {
    "text": "talking probably that hundreds of customers are going to be affected by this so we're gonna have to react fairly",
    "start": "994150",
    "end": "1000750"
  },
  {
    "text": "quickly one of the instruments and one of the tools that we've introduced at",
    "start": "1000750",
    "end": "1007020"
  },
  {
    "start": "1004000",
    "end": "1004000"
  },
  {
    "text": "sister Levin to overcome these sort of situations is a so called change",
    "start": "1007020",
    "end": "1012090"
  },
  {
    "text": "advisory board so we have like a group of kubernetes engineers some security",
    "start": "1012090",
    "end": "1017670"
  },
  {
    "text": "engineers they're all on the board most of these all these people of course have",
    "start": "1017670",
    "end": "1022710"
  },
  {
    "text": "a great idea about how kubernetes runs which moving parts we're talking about and how severe this issue is we",
    "start": "1022710",
    "end": "1029670"
  },
  {
    "text": "basically are always reading the mailing list checking out what kind of issues",
    "start": "1029670",
    "end": "1036470"
  },
  {
    "text": "arise on github our partner loot so here a great help doing that of course because they do a lot of engineering",
    "start": "1036470",
    "end": "1041990"
  },
  {
    "text": "within the kubernetes ecosystem so automatically you find out about these sort of",
    "start": "1041990",
    "end": "1047310"
  },
  {
    "text": "hopefully a bit quicker than the general public so we can basically kind of address these issues then we've got a",
    "start": "1047310",
    "end": "1056280"
  },
  {
    "text": "notifying system so we can find out what version as we saw on the graph on our dashboard are people actually running",
    "start": "1056280",
    "end": "1062580"
  },
  {
    "text": "and then we can basically through our notifier we can inform these people",
    "start": "1062580",
    "end": "1068070"
  },
  {
    "text": "individually and tell them okay your system is affected we have a problem here and if it is an urgent severe issue",
    "start": "1068070",
    "end": "1075090"
  },
  {
    "text": "then we are going to fix this issue today we're not going to wait another day we're going to start off and we're definitely going to patch your API",
    "start": "1075090",
    "end": "1081870"
  },
  {
    "text": "server and make sure it is in a good state again then we go and we start",
    "start": "1081870",
    "end": "1089670"
  },
  {
    "text": "patching all or the majority normally it's like that we do it for one region first and then we would go to another",
    "start": "1089670",
    "end": "1096360"
  },
  {
    "text": "region maybe we can pick certain customers which might be more vulnerable than others and definitely look at the",
    "start": "1096360",
    "end": "1103440"
  },
  {
    "text": "targeted versions that we're looking at",
    "start": "1103440",
    "end": "1106970"
  },
  {
    "start": "1109000",
    "end": "1109000"
  },
  {
    "text": "then we would often start out by maybe rolling out a new base image into a",
    "start": "1109340",
    "end": "1114930"
  },
  {
    "text": "cloud which would definitely help us get all the security patches out maybe also",
    "start": "1114930",
    "end": "1121500"
  },
  {
    "text": "why we're doing it anyway might well run a new kernel as well and there's also other things that we need to maybe look",
    "start": "1121500",
    "end": "1128490"
  },
  {
    "text": "at afterwards then we can go and upgrade the machine deployments we now have the",
    "start": "1128490",
    "end": "1135450"
  },
  {
    "start": "1131000",
    "end": "1131000"
  },
  {
    "text": "new base image we can switch the current machine deployment which is basically a rolling upgrade so similar to you would",
    "start": "1135450",
    "end": "1142200"
  },
  {
    "text": "do when you you're deploying your application we can do exactly the same for all of our worker nodes we basically",
    "start": "1142200",
    "end": "1149010"
  },
  {
    "text": "tell cumin register ok there's a new version of this image available there's a new version of kubernetes available we",
    "start": "1149010",
    "end": "1154770"
  },
  {
    "text": "have exactly the same Mac's unavailable Mac search configuration possibilities",
    "start": "1154770",
    "end": "1160050"
  },
  {
    "text": "available to dynamically upgrade the nodes and also train the nodes at the",
    "start": "1160050",
    "end": "1165150"
  },
  {
    "text": "same time so that we basically shift the container work Road from one node to another one by one to make sure none of",
    "start": "1165150",
    "end": "1171840"
  },
  {
    "text": "the customers are affected during that time we don't want any of the customers to have any outages while we're doing",
    "start": "1171840",
    "end": "1176910"
  },
  {
    "text": "this so rolling upgrade of core as a kubernetes feature is one of the",
    "start": "1176910",
    "end": "1184200"
  },
  {
    "start": "1178000",
    "end": "1178000"
  },
  {
    "text": "key components to be able to do this here we definitely need to look at",
    "start": "1184200",
    "end": "1190620"
  },
  {
    "start": "1188000",
    "end": "1188000"
  },
  {
    "text": "upgrading the docker daemon if we're looking at some of the issues we were talking about earlier the docker daemon",
    "start": "1190620",
    "end": "1197030"
  },
  {
    "text": "was in a state where if people were running containers with a UID 0 so as a",
    "start": "1197030",
    "end": "1204059"
  },
  {
    "text": "root which I'm afraid a lot of people still do then it was possible to break out of the actual container and to",
    "start": "1204059",
    "end": "1212010"
  },
  {
    "text": "obtain root access on the host system which of course is definitely a no-go so",
    "start": "1212010",
    "end": "1218520"
  },
  {
    "text": "it's definitely also something that needs to be addressed fairly quickly also the cubelet which is running on",
    "start": "1218520",
    "end": "1226170"
  },
  {
    "text": "every worker nodes should also be part of the upgrade procedure we've also seen quite a few issues with cubelets as well",
    "start": "1226170",
    "end": "1235070"
  },
  {
    "start": "1237000",
    "end": "1237000"
  },
  {
    "text": "so the next would be our best practices which we would like to talk about yeah I",
    "start": "1237050",
    "end": "1242460"
  },
  {
    "text": "mean what we learned during the last 2 to 3 years first of all what really",
    "start": "1242460",
    "end": "1251880"
  },
  {
    "start": "1251000",
    "end": "1251000"
  },
  {
    "text": "helps us automate all your upgrade processes especially if you are over 20",
    "start": "1251880",
    "end": "1259580"
  },
  {
    "text": "systems clusters you don't want to do this manually anymore you need to do automation and everything should be",
    "start": "1259580",
    "end": "1267120"
  },
  {
    "text": "built up process so they easily can deploy new versions without any manual",
    "start": "1267120",
    "end": "1273540"
  },
  {
    "text": "intervention so that you know first of all you know that your process is running and that really no one needs to",
    "start": "1273540",
    "end": "1280500"
  },
  {
    "text": "interact when you know ok I need to upgrade all my clusters now that it's only like you're putting somewhere",
    "start": "1280500",
    "end": "1286200"
  },
  {
    "text": "version and then the control plane starts and doing this another important",
    "start": "1286200",
    "end": "1293730"
  },
  {
    "start": "1292000",
    "end": "1292000"
  },
  {
    "text": "stuff is what we learned is like we're doing a lot of e to the e tests on all supported cloud providers so",
    "start": "1293730",
    "end": "1301270"
  },
  {
    "text": "what you see on this slide it's a small screen shot from our CI system so",
    "start": "1301270",
    "end": "1308050"
  },
  {
    "text": "technically what we are doing on the one side to have stability in our system but",
    "start": "1308050",
    "end": "1313060"
  },
  {
    "text": "what really helps us also to check if new versions are running and don't",
    "start": "1313060",
    "end": "1319300"
  },
  {
    "text": "create a regression we have complete e to e tests on all the different cloud providers we support and on Cuba metric",
    "start": "1319300",
    "end": "1329200"
  },
  {
    "text": "or on user side we support like all the majors AWS Asia Google but also",
    "start": "1329200",
    "end": "1335680"
  },
  {
    "text": "OpenStack VMware and many more and so we really want to need to ensure when",
    "start": "1335680",
    "end": "1341680"
  },
  {
    "text": "there's a new version we can roll this out and it's not breaking so the only",
    "start": "1341680",
    "end": "1347710"
  },
  {
    "text": "thing what we currently only need to do now is like we putting the new version into our CI system in our version file",
    "start": "1347710",
    "end": "1356020"
  },
  {
    "text": "and then the our test suite starts running and tests first of all can we",
    "start": "1356020",
    "end": "1362080"
  },
  {
    "text": "spin up a cluster but also things like can we upgrade can we upgrade from Graham version to the next version and",
    "start": "1362080",
    "end": "1369070"
  },
  {
    "text": "like after two three hours we know okay yeah the new versions are running with",
    "start": "1369070",
    "end": "1375430"
  },
  {
    "text": "all the different combinations also with different potentially combinations of the operating system so and then we know",
    "start": "1375430",
    "end": "1384280"
  },
  {
    "text": "okay yeah now we can ship this to our customers and they can bring this into",
    "start": "1384280",
    "end": "1389380"
  },
  {
    "text": "production a next thing is if you're",
    "start": "1389380",
    "end": "1396040"
  },
  {
    "start": "1391000",
    "end": "1391000"
  },
  {
    "text": "doing this automated running your CI system testing if subversions are running running the conformance test so",
    "start": "1396040",
    "end": "1402880"
  },
  {
    "text": "that you everytime know okay there's nothing braking but the conformance tests are not enough look into what",
    "start": "1402880",
    "end": "1408580"
  },
  {
    "text": "additional things you need like the conformance test don't cover your storage and don't cover your load",
    "start": "1408580",
    "end": "1414760"
  },
  {
    "text": "balancer so putting tests additional tests around this but that at the end you know okay I can I'm not even able to",
    "start": "1414760",
    "end": "1421990"
  },
  {
    "text": "spin up a cluster I'm not only able to spin up or upgrade a cluster I know all",
    "start": "1421990",
    "end": "1427270"
  },
  {
    "text": "the functionalities Kuban it provides like deployment stateful sets and so on",
    "start": "1427270",
    "end": "1432370"
  },
  {
    "text": "are still working and so then you know okay everything is",
    "start": "1432370",
    "end": "1438269"
  },
  {
    "text": "working and you can bring the new version into production what's currently",
    "start": "1438269",
    "end": "1446840"
  },
  {
    "start": "1443000",
    "end": "1443000"
  },
  {
    "text": "quite new and which makes sense to look into port security policies so that you",
    "start": "1446840",
    "end": "1454049"
  },
  {
    "text": "can enforce the users to potentially not running specific things for example that",
    "start": "1454049",
    "end": "1463169"
  },
  {
    "text": "the container is running not as a root user so they already prevent you from",
    "start": "1463169",
    "end": "1470399"
  },
  {
    "text": "the run see CVE we saw and when you have this activated there's one thing less of",
    "start": "1470399",
    "end": "1479250"
  },
  {
    "text": "course you should upgrade the and purposes but it's not you don't have this urgency in your system that you say",
    "start": "1479250",
    "end": "1485159"
  },
  {
    "text": "okay now it's really urgent assignment said I need to do this as soon as possible in the day where it's coming",
    "start": "1485159",
    "end": "1492990"
  },
  {
    "text": "out then you have a few days more to test this and figure out if the",
    "start": "1492990",
    "end": "1498809"
  },
  {
    "text": "potential risk another thing is admission controllers especially if",
    "start": "1498809",
    "end": "1505649"
  },
  {
    "start": "1502000",
    "end": "1502000"
  },
  {
    "text": "you're providing manage Cuban ages to your organization's so potentially you want to prevent the developers to do",
    "start": "1505649",
    "end": "1513720"
  },
  {
    "text": "specific things or have more control what you do in the cuban etus api yeah",
    "start": "1513720",
    "end": "1523080"
  },
  {
    "start": "1522000",
    "end": "1522000"
  },
  {
    "text": "and then the SE c-- as i benchmark which describes security perspectives from",
    "start": "1523080",
    "end": "1531480"
  },
  {
    "text": "cuban ages and there's also some tools available like for example cube bench which you can run on your cluster and",
    "start": "1531480",
    "end": "1537899"
  },
  {
    "text": "which gives you at least some indications where things could be where",
    "start": "1537899",
    "end": "1543809"
  },
  {
    "text": "you should look into it and then you can dedicate it look into it and decide okay if this is critical for my cluster or i",
    "start": "1543809",
    "end": "1549480"
  },
  {
    "text": "said no i know this point but it's not not critical for me or I can I need this",
    "start": "1549480",
    "end": "1555659"
  },
  {
    "text": "and I don't want to or cannot fix this yeah and the last",
    "start": "1555659",
    "end": "1561299"
  },
  {
    "start": "1560000",
    "end": "1560000"
  },
  {
    "text": "thing is you need to be get informed about new humanities security problems",
    "start": "1561299",
    "end": "1570210"
  },
  {
    "text": "so this you can join a list where they are the humanities announcement and they",
    "start": "1570210",
    "end": "1576659"
  },
  {
    "text": "you get an email also about security issues of course also you can get this",
    "start": "1576659",
    "end": "1583019"
  },
  {
    "text": "information from Twitter or in this leg from the communities community but you",
    "start": "1583019",
    "end": "1588179"
  },
  {
    "text": "should be watching this actively and know ok when something comes out you get be informed because that's the first",
    "start": "1588179",
    "end": "1595289"
  },
  {
    "text": "point you need to be informed that you need to upgrade before we can take any actions yeah so I think thank you very",
    "start": "1595289",
    "end": "1603720"
  },
  {
    "text": "much I think the most important thing about here for the this for you to take away is that security should be a",
    "start": "1603720",
    "end": "1610320"
  },
  {
    "text": "concept in your company no matter if you're running one or multiple kubernetes clusters do your fire drills",
    "start": "1610320",
    "end": "1616320"
  },
  {
    "text": "be prepared security issues are going to arise and they're going to be more to",
    "start": "1616320",
    "end": "1622049"
  },
  {
    "text": "come in the future I'm most probably they're going to get worse so definitely be prepared so thank you very much for",
    "start": "1622049",
    "end": "1630120"
  },
  {
    "text": "listening does anyone have any questions we also have some swag here to give away so any questions anything you're",
    "start": "1630120",
    "end": "1638399"
  },
  {
    "text": "interested in yep thank you and the",
    "start": "1638399",
    "end": "1645720"
  },
  {
    "text": "start of your presentation you mentioned that you managing clusters on AWS so my",
    "start": "1645720",
    "end": "1652380"
  },
  {
    "text": "question is what's the key advantage of your service over managed community",
    "start": "1652380",
    "end": "1657480"
  },
  {
    "text": "service or any other provider great",
    "start": "1657480",
    "end": "1664230"
  },
  {
    "text": "question of course it would be fairly simple to basically adapt something like eks and unused it that was not our",
    "start": "1664230",
    "end": "1671039"
  },
  {
    "text": "intention when we decided to go out and build a service we have a vast amount of",
    "start": "1671039",
    "end": "1676380"
  },
  {
    "text": "software engineers on our teams we wanted to make humanity's feel in a way that it was it was built by us that it",
    "start": "1676380",
    "end": "1682980"
  },
  {
    "text": "had like the additional add-ons that we wanted we include like backups we got a",
    "start": "1682980",
    "end": "1688139"
  },
  {
    "text": "federated from ether it's included of course we could have done some of that work on eks but it kind of makes",
    "start": "1688139",
    "end": "1693630"
  },
  {
    "text": "sense to run our own clusters and also the way that we're running kubernetes in kubernetes is slightly different to the",
    "start": "1693630",
    "end": "1700710"
  },
  {
    "text": "way that most of the other managed providers offer their product that's your question yeah hey thank you for you",
    "start": "1700710",
    "end": "1717540"
  },
  {
    "text": "talk I'm very interested in the way you do cluster upgrades and how you honor",
    "start": "1717540",
    "end": "1723600"
  },
  {
    "text": "the any SLA with the user especially if users set things like a pod disruption",
    "start": "1723600",
    "end": "1729420"
  },
  {
    "text": "budget that sometimes not even set correctly what is your policy and how is",
    "start": "1729420",
    "end": "1735600"
  },
  {
    "text": "it communicated before for instance removing parts that should",
    "start": "1735600",
    "end": "1741360"
  },
  {
    "text": "not be removed let's say it that way so",
    "start": "1741360",
    "end": "1747870"
  },
  {
    "text": "you're definitely right we encountered a few issues doing this number one is like",
    "start": "1747870",
    "end": "1752910"
  },
  {
    "text": "run all your master components in pots which helps us a lot we can run like easy to replicas of things like API",
    "start": "1752910",
    "end": "1759240"
  },
  {
    "text": "servers so it's like fairly simple to actually get a service which is not interrupted or there are definitely and",
    "start": "1759240",
    "end": "1766200"
  },
  {
    "text": "one of the things that you definitely mentioned pot disruption policies can cause problems we were on etcd for",
    "start": "1766200",
    "end": "1771900"
  },
  {
    "text": "instance as stateful sets for our customers and if a number of worker nodes are giving you problems or you",
    "start": "1771900",
    "end": "1778230"
  },
  {
    "text": "have any network outages then definitely things like pod disruption policies can cause problems especially if they're",
    "start": "1778230",
    "end": "1784620"
  },
  {
    "text": "wrongly configured so at the end it all boils down to monitoring and good",
    "start": "1784620",
    "end": "1789660"
  },
  {
    "text": "engineers and know what they're doing I mean you've got to consistently look at these services you've got to find out",
    "start": "1789660",
    "end": "1796200"
  },
  {
    "text": "what kind of reaction times and my customers have what kind of experience they have and also our company ourselves",
    "start": "1796200",
    "end": "1802320"
  },
  {
    "text": "we also work with the product so all of our own applications are also hosted on our manage kubernetes so basically",
    "start": "1802320",
    "end": "1809640"
  },
  {
    "text": "people notice it fairly quickly if something is not running or performing as it should do",
    "start": "1809640",
    "end": "1815870"
  },
  {
    "text": "thanks for your talk first of all regarding what security policies how did you go about enforcing for example and",
    "start": "1825430",
    "end": "1833630"
  },
  {
    "text": "that container shouldn't be running as a huge user inside of the container on your customers that have already built",
    "start": "1833630",
    "end": "1839480"
  },
  {
    "text": "containers that are doing it I mean",
    "start": "1839480",
    "end": "1845020"
  },
  {
    "text": "there are different different options on the one side I'm doing the classic creation we can decide okay or as a",
    "start": "1845020",
    "end": "1853940"
  },
  {
    "text": "developer can decide if if he wants to have what security policies but on the other side it's also a question how you",
    "start": "1853940",
    "end": "1860560"
  },
  {
    "text": "shape your service so if you say ok my service we want to provide you the best",
    "start": "1860560",
    "end": "1866120"
  },
  {
    "text": "experience in the world and to avoid outages why your expectation is a",
    "start": "1866120",
    "end": "1872240"
  },
  {
    "text": "complete manage q Benitez this is a minimum requirement you need to provide and if this is not availability",
    "start": "1872240",
    "end": "1881810"
  },
  {
    "text": "application not in that way it cannot run in in the class and this is why I work for example looking heavily into",
    "start": "1881810",
    "end": "1887600"
  },
  {
    "text": "admission controllers so that it really can detect before deployment that",
    "start": "1887600",
    "end": "1892970"
  },
  {
    "text": "potentially this application should not run there because we know ok it could cause problems and inform the user early",
    "start": "1892970",
    "end": "1901340"
  },
  {
    "text": "at the beginning and potentially not even start the application because then he see ok something is not right with my",
    "start": "1901340",
    "end": "1907790"
  },
  {
    "text": "application and not like okay let's application run and then it goes somehow into trouble and you don't know what's",
    "start": "1907790",
    "end": "1914690"
  },
  {
    "text": "going on so blocks is as early as possible but it's it's every time like ok how much service you want to provide",
    "start": "1914690",
    "end": "1920870"
  },
  {
    "text": "as a managed service so and how much flexibility to provide the end-users on",
    "start": "1920870",
    "end": "1926330"
  },
  {
    "text": "the on the one side is we want to automate everything so when when we have a developer who says now I know what I'm",
    "start": "1926330",
    "end": "1933350"
  },
  {
    "text": "doing he should have the tool stick to deploy is classed on its own but then this is his responsibility when he says no I",
    "start": "1933350",
    "end": "1939800"
  },
  {
    "text": "don't want to be responsible for all the things to a complete automatic setup then we put the layer higher and say ok",
    "start": "1939800",
    "end": "1947420"
  },
  {
    "text": "but then we will force you to not do those things because otherwise we cannot guarantee you're taking full",
    "start": "1947420",
    "end": "1954740"
  },
  {
    "text": "responsibility for these clusters then you definitely need to enforce certain mechanisms otherwise you're going to run",
    "start": "1954740",
    "end": "1960410"
  },
  {
    "text": "into severe problems sooner or later and definitely one of them is definitely running docker and docker for instance",
    "start": "1960410",
    "end": "1966410"
  },
  {
    "text": "and running containers is you at0 Thank",
    "start": "1966410",
    "end": "1975080"
  },
  {
    "text": "You doc would you mention anything specific when it comes to upgrading clusters with 50-plus no soil could be",
    "start": "1975080",
    "end": "1981770"
  },
  {
    "text": "100 nodes is there anything specific comparing to smaller clusters what one",
    "start": "1981770",
    "end": "1987890"
  },
  {
    "text": "must keep in mind there's definitely a",
    "start": "1987890",
    "end": "1993230"
  },
  {
    "text": "few things to keep in mind when you're running like 50 plus worker nodes on your cluster because basically you're",
    "start": "1993230",
    "end": "1998240"
  },
  {
    "text": "talking about probably shifting a lot of persistent volumes and a lot of parts from A to B so probably one of the thing",
    "start": "1998240",
    "end": "2004990"
  },
  {
    "text": "is what you could do is like put them into individual machine sets so we look you could use individual machine",
    "start": "2004990",
    "end": "2010809"
  },
  {
    "text": "deployments and say put like bunches of 20 nodes running certain Pacific versions and then you'd only have to",
    "start": "2010809",
    "end": "2016750"
  },
  {
    "text": "deal with those at that point of time and then you could do another 20 maybe a few hours later or the next day and the",
    "start": "2016750",
    "end": "2023200"
  },
  {
    "text": "more that process is automated the more they is to get that achieved as well because a lot of these processes",
    "start": "2023200",
    "end": "2028840"
  },
  {
    "text": "can basically run overnight where a lot of our customers don't do all that much work on their clusters well not so much",
    "start": "2028840",
    "end": "2034299"
  },
  {
    "text": "as they would during the day time the impact is not quite as great but I would definitely say like distributing smaller",
    "start": "2034299",
    "end": "2040419"
  },
  {
    "text": "sets of machines is definitely the way that you really want to get around that if it's possible and that's we're",
    "start": "2040419",
    "end": "2045630"
  },
  {
    "text": "definitely using work scene worker nodes and clusters as an API object it definitely helps doing that okay I think",
    "start": "2045630",
    "end": "2053648"
  },
  {
    "text": "we're at the end of our time so that's a",
    "start": "2053649",
    "end": "2060550"
  },
  {
    "text": "long way you have to help me guys who's the first one showing up a green envelope is there anyone with a green",
    "start": "2060550",
    "end": "2067898"
  },
  {
    "text": "envelope no one was our first question",
    "start": "2067899",
    "end": "2073679"
  },
  {
    "text": "I want to ask if the urn ability that we have is outside the clustering group so",
    "start": "2073920",
    "end": "2080429"
  },
  {
    "text": "for example of if the notes I mean on the level of the notes or operating system we have variabilities so what is",
    "start": "2080430",
    "end": "2088409"
  },
  {
    "text": "the most acceptable policy is to start to migrate the the current cluster to",
    "start": "2088410",
    "end": "2094950"
  },
  {
    "text": "another infrastructure or to repair the infrastructure itself assume that the",
    "start": "2094950",
    "end": "2100890"
  },
  {
    "text": "all nodes in the infrastructure had the same in has the same their nobility so",
    "start": "2100890",
    "end": "2114240"
  },
  {
    "text": "basically you would like to migrate all of your workloads to a different provider an asana correctly to a",
    "start": "2114240",
    "end": "2119790"
  },
  {
    "text": "different cloud or sorry now suppose we",
    "start": "2119790",
    "end": "2130170"
  },
  {
    "text": "have thin nodes that indistinct a star and workers and these two not suppose",
    "start": "2130170",
    "end": "2139200"
  },
  {
    "text": "that it's the same operating systems infrastructure specification and we",
    "start": "2139200",
    "end": "2144750"
  },
  {
    "text": "discovered zero there is variability in level of infrastructure on the veil on the operating system I mean outside the",
    "start": "2144750",
    "end": "2150150"
  },
  {
    "text": "cluster so how we can manage to resolve the security issues outside cluster",
    "start": "2150150",
    "end": "2156510"
  },
  {
    "text": "groups is the best way to start managing and keep the cluster itself with the",
    "start": "2156510",
    "end": "2162360"
  },
  {
    "text": "same node and they start to solve it not by nod or to migrate it to another nodes more secure I mean to start and they",
    "start": "2162360",
    "end": "2170700"
  },
  {
    "text": "will to secure a new node and working you not and to migrate you know you knew",
    "start": "2170700",
    "end": "2176160"
  },
  {
    "text": "not or to start rebelling they're not it's simple what is a much yeah I I think I think we can we will discuss",
    "start": "2176160",
    "end": "2183540"
  },
  {
    "text": "afterwards so I think we are end of time so thank you all if you have further",
    "start": "2183540",
    "end": "2189510"
  },
  {
    "text": "questions I mean we are still here and can answer your question otherwise this",
    "start": "2189510",
    "end": "2195360"
  },
  {
    "text": "xi has a booth at the conference and we also have a boost Lutzer Lukas's logo",
    "start": "2195360",
    "end": "2201410"
  },
  {
    "text": "and there you can ask all your questions thanks a lot thank you",
    "start": "2201410",
    "end": "2206700"
  },
  {
    "text": "[Applause]",
    "start": "2206700",
    "end": "2212049"
  }
]