[
  {
    "text": "hi I am Tiffany Jernigan I am a developer Advocate at VMware",
    "start": "0",
    "end": "6600"
  },
  {
    "text": "you can ask me what that means if you don't know afterward but includes doing stuff like this so yeah",
    "start": "6600",
    "end": "12860"
  },
  {
    "text": "I have my Twitter up on there on further slides there's also my Mastodon which I",
    "start": "12860",
    "end": "20460"
  },
  {
    "text": "wish it was shorter but you know it's the whole thing but it's there so yeah I'm going to be talking about like",
    "start": "20460",
    "end": "27180"
  },
  {
    "text": "getting started with kubernetes users and permissions without just using",
    "start": "27180",
    "end": "32220"
  },
  {
    "text": "cluster admin if all right come on",
    "start": "32220",
    "end": "39180"
  },
  {
    "text": "I try to there we go",
    "start": "39180",
    "end": "44760"
  },
  {
    "text": "all right so we have two different types of authors authentication or authen which is who are you so it could be any",
    "start": "44760",
    "end": "53219"
  },
  {
    "text": "one of you people it could be like a robot or whatnot and then there is authorization or Aussie and that is what",
    "start": "53219",
    "end": "60660"
  },
  {
    "text": "are you allowed to do for instance you could be like hey you are you Bob are",
    "start": "60660",
    "end": "65760"
  },
  {
    "text": "allowed to be at this conference and attend someone's talk but no you're not allowed to throw like food at the",
    "start": "65760",
    "end": "72000"
  },
  {
    "text": "speaker or something like that all right so first I'm going to talk",
    "start": "72000",
    "end": "77340"
  },
  {
    "text": "about authen and provisioning users so kubernetes is very flexible here you",
    "start": "77340",
    "end": "83159"
  },
  {
    "text": "can use TLS certs maybe with your own CA or not but since the kubernetes API",
    "start": "83159",
    "end": "89040"
  },
  {
    "text": "server doesn't support revocation you should definitely use short-lived certs don't have ones that are like here I'm",
    "start": "89040",
    "end": "95220"
  },
  {
    "text": "going to have this last for like five years and cross your fingers and hope nobody else gets access to that instead",
    "start": "95220",
    "end": "101520"
  },
  {
    "text": "of trying to do something maybe that like you get a new one every hour or something like that you could also use",
    "start": "101520",
    "end": "107100"
  },
  {
    "text": "oidc tokens with any oidc provider it's something like in-house for instance like dext or key cloak or SAS like OCTA",
    "start": "107100",
    "end": "114720"
  },
  {
    "text": "and then that in turn can plug into your Cloud's IAM for example you can map your",
    "start": "114720",
    "end": "120720"
  },
  {
    "text": "cloud provider users to your kubernetes users you can also deal with service accounts",
    "start": "120720",
    "end": "127200"
  },
  {
    "text": "to provision users as well so as a little fun note in kubernetes you don't",
    "start": "127200",
    "end": "132300"
  },
  {
    "text": "really create a user you give for example create pods",
    "start": "132300",
    "end": "137520"
  },
  {
    "text": "permissions to say Bob and as long as someone shows up with a valid search or",
    "start": "137520",
    "end": "143160"
  },
  {
    "text": "like an oidc token for Bob then they can create pods",
    "start": "143160",
    "end": "150500"
  },
  {
    "text": "so there's like two main site things that interact with like kubernetes that",
    "start": "151560",
    "end": "157800"
  },
  {
    "text": "are either humans which I as far as I'm aware is probably all of you",
    "start": "157800",
    "end": "163319"
  },
  {
    "text": "um and then there's robots I don't know we'll see um so for humans you can do things with",
    "start": "163319",
    "end": "168959"
  },
  {
    "text": "like TLS uh ODC service cans Etc with robots that's basically usually used",
    "start": "168959",
    "end": "174120"
  },
  {
    "text": "with service accounts so starting off with certificates so the",
    "start": "174120",
    "end": "181019"
  },
  {
    "text": "commands here show you how to create a certificate signing request you might see that listed as CSR in short in a lot",
    "start": "181019",
    "end": "188040"
  },
  {
    "text": "of places this example is using openssl because it's super widespread and you probably",
    "start": "188040",
    "end": "193860"
  },
  {
    "text": "have it on your machine by default I'm using a Mac and it was already there I didn't have to download anything many",
    "start": "193860",
    "end": "200580"
  },
  {
    "text": "folks though might prefer using something like CF SSL which is cloudflare's or maybe they want to use",
    "start": "200580",
    "end": "205980"
  },
  {
    "text": "Vault or some other certificate Authority and that's usually shortened to ca",
    "start": "205980",
    "end": "211920"
  },
  {
    "text": "and then after that you then transfer the CSR to the CA and depending on what",
    "start": "211920",
    "end": "217739"
  },
  {
    "text": "kind of cluster you have this can be done differently so for example if you are using a",
    "start": "217739",
    "end": "224280"
  },
  {
    "text": "self-hosted cluster or you're using like Cube ADM basically where you have access to the",
    "start": "224280",
    "end": "230280"
  },
  {
    "text": "nodes of the control plane and if you want to do like some experimentation here is a specific example that you",
    "start": "230280",
    "end": "236640"
  },
  {
    "text": "could be using this example assumes that we have a cluster deployed with cubeadm for this",
    "start": "236640",
    "end": "242879"
  },
  {
    "text": "one and that the ca Keys live specifically in Etsy kubernetes pki on",
    "start": "242879",
    "end": "248459"
  },
  {
    "text": "the control plane and you get and then like for instance the one two three four you could have as",
    "start": "248459",
    "end": "253799"
  },
  {
    "text": "something actually meaningful to you so another method with certificates is",
    "start": "253799",
    "end": "261299"
  },
  {
    "text": "going through the CSR API so this is what if you want a deal certificates this is the route you'd have to go down",
    "start": "261299",
    "end": "267240"
  },
  {
    "text": "if you're using a managed cluster since you can't actually get again inside of the control plane on a managed cluster",
    "start": "267240",
    "end": "274979"
  },
  {
    "text": "like this one works for managed and self-hosted basically um so the CSR API is in the kubernetes",
    "start": "274979",
    "end": "281340"
  },
  {
    "text": "API so you can get certificates from it it basically makes kubernetes act as a",
    "start": "281340",
    "end": "286440"
  },
  {
    "text": "CA and this is what you would apply with Cube cuddle it might be a little harder",
    "start": "286440",
    "end": "292320"
  },
  {
    "text": "to read back there there's a bunch of lines but basically what it's doing is it's giving you the request which is",
    "start": "292320",
    "end": "298500"
  },
  {
    "text": "that uh file that we the CSR file that had been dumped out from openssl",
    "start": "298500",
    "end": "304440"
  },
  {
    "text": "previously and it uses that so like this whole part dealing with the CSR API you're",
    "start": "304440",
    "end": "310919"
  },
  {
    "text": "interacting with kubernetes with Cube cuddle so after you create the CSR then you",
    "start": "310919",
    "end": "317460"
  },
  {
    "text": "need to actually go and approve it so you could do Cube cuddle certificate",
    "start": "317460",
    "end": "322560"
  },
  {
    "text": "approve and then like my thing is like user Eagles a Lovelace the user equals is just so that like it's not required",
    "start": "322560",
    "end": "329639"
  },
  {
    "text": "you could just have it a Lovelace or whatever you wanted there it's just so like if you were searching and you wanted to go based on what you're",
    "start": "329639",
    "end": "335940"
  },
  {
    "text": "defining as a user you could see all the people are like that um and then what you need to do is to",
    "start": "335940",
    "end": "342300"
  },
  {
    "text": "retrieve the certificate so then you just do a get on the CSR",
    "start": "342300",
    "end": "348300"
  },
  {
    "text": "you'd get the search and then you would do a base64 to code on user.drt and then",
    "start": "348300",
    "end": "354900"
  },
  {
    "text": "you give that file back to the user so once you actually have that",
    "start": "354900",
    "end": "361740"
  },
  {
    "text": "um then you can pass in your key and the CRT file over to cube cuddle config",
    "start": "361740",
    "end": "368699"
  },
  {
    "text": "which is basically adding the certificate and the key to your cubeconfig file",
    "start": "368699",
    "end": "375138"
  },
  {
    "text": "all right so now certificates are out of the way for a bit so the other one of",
    "start": "375840",
    "end": "381479"
  },
  {
    "text": "the other things is tokens so if you have a conceptual understanding of TLS then you probably have one for oidc as well",
    "start": "381479",
    "end": "388800"
  },
  {
    "text": "things are different depending whether you're using a self-hosted cluster or if you're not and if you are there's two",
    "start": "388800",
    "end": "395460"
  },
  {
    "text": "flags up there that you need to add so one for the oidc issuer URL and one for",
    "start": "395460",
    "end": "401819"
  },
  {
    "text": "the oidc client ID on manage clusters you want to use the",
    "start": "401819",
    "end": "407940"
  },
  {
    "text": "oedc with the provider basically there is often like a quasi transparent",
    "start": "407940",
    "end": "413400"
  },
  {
    "text": "like integration with IIM and generally that is with using oidc under the hood",
    "start": "413400",
    "end": "418979"
  },
  {
    "text": "and it will then automatically be using IM or something else and just like do",
    "start": "418979",
    "end": "424380"
  },
  {
    "text": "that for you um there's some links that tell you a little bit more about it like one is like it's specific for",
    "start": "424380",
    "end": "431100"
  },
  {
    "text": "um uh eks but obviously there's there should be guides for all the other ones as well there's just kind of limited",
    "start": "431100",
    "end": "437220"
  },
  {
    "text": "space on this slide so I just picked one um so and then if you're not using a cluster like that then if you are say",
    "start": "437220",
    "end": "443639"
  },
  {
    "text": "already using something like Vault inserts or you're just like truly invested inserts already you probably",
    "start": "443639",
    "end": "449520"
  },
  {
    "text": "still want to just keep using TLS starts versus starting and trying to figure out everything with tokens whether I do see",
    "start": "449520",
    "end": "456840"
  },
  {
    "text": "and if you're not already using TLS darts you may not want to get started",
    "start": "456840",
    "end": "463020"
  },
  {
    "text": "there just for that at that point um service accounts are typically used",
    "start": "463020",
    "end": "468479"
  },
  {
    "text": "for say like processes programs sources that are running autonomously on a",
    "start": "468479",
    "end": "474000"
  },
  {
    "text": "cluster but nothing's going to stop us from using them to manage access and",
    "start": "474000",
    "end": "480180"
  },
  {
    "text": "permissions for users even if that's not really what they were meant for in the first place but you can",
    "start": "480180",
    "end": "485819"
  },
  {
    "text": "do it so for the demo I'll be doing I'll be using them for demo purses and you can too",
    "start": "485819",
    "end": "492120"
  },
  {
    "text": "um if you don't like want to go the right way through like setting up a bunch of Hoops to actually deal with",
    "start": "492120",
    "end": "497400"
  },
  {
    "text": "setting up TLS certificates or IDC based authentication so like if you're especially just trying to start and",
    "start": "497400",
    "end": "502919"
  },
  {
    "text": "figure stuff out of the beginning it's a really good way to go about it um so a service count is yeah it's just",
    "start": "502919",
    "end": "508680"
  },
  {
    "text": "a user with some funny looking name thing there um it's like system service account and then whatever namespace that",
    "start": "508680",
    "end": "515760"
  },
  {
    "text": "you're in and then the name of the service account so then there's since we're talking",
    "start": "515760",
    "end": "522719"
  },
  {
    "text": "about tokens in this space so there's also service account tokens they are Json web tokens or jots",
    "start": "522719",
    "end": "530160"
  },
  {
    "text": "they're like oidt tokens but they are generated by the kubernetes control plane specifically it's a controller in",
    "start": "530160",
    "end": "536820"
  },
  {
    "text": "the controller manager and by default um kubernetes will on like if within",
    "start": "536820",
    "end": "543540"
  },
  {
    "text": "your container pod uh kubernetes will automatically place the token in that in a file specifically under that location",
    "start": "543540",
    "end": "549240"
  },
  {
    "text": "which we'll actually take a look at during the demo and that token is a token for the",
    "start": "549240",
    "end": "554640"
  },
  {
    "text": "service account of the Pod that that container belongs to",
    "start": "554640",
    "end": "559760"
  },
  {
    "text": "all right so enough about that type of auth now let's go to the",
    "start": "562800",
    "end": "568320"
  },
  {
    "text": "other type of so we're gonna look at Aussie and specifically role-based access control or our back for short if",
    "start": "568320",
    "end": "575459"
  },
  {
    "text": "you hadn't noticed there's a lot of acronyms they love the acronyms so a high-level idea of it on kubernetes",
    "start": "575459",
    "end": "582959"
  },
  {
    "text": "is that first you define a role or a cholesterol so like a role would be specific to a namespace a cholesterol",
    "start": "582959",
    "end": "589140"
  },
  {
    "text": "would be well for your cluster and that is a collection of permissions like things that can be done so things like",
    "start": "589140",
    "end": "596820"
  },
  {
    "text": "listing pods creating deployments setting the scaling for like a specific",
    "start": "596820",
    "end": "602040"
  },
  {
    "text": "deployment and a bunch of other things after you create that role or cluster",
    "start": "602040",
    "end": "607920"
  },
  {
    "text": "role then you would like it exists but it doesn't actually do anything so you need to be able to bind that role or",
    "start": "607920",
    "end": "614700"
  },
  {
    "text": "cluster role to say like a user or a group or a service account with using a",
    "start": "614700",
    "end": "619800"
  },
  {
    "text": "role binding or a cluster role binding if you're wondering oh hey what can I",
    "start": "619800",
    "end": "626160"
  },
  {
    "text": "actually do so say my resource is a pod what can I do with a pod like how do I see whether I can do a get or a list or",
    "start": "626160",
    "end": "633360"
  },
  {
    "text": "a watch or a patch or whatever those things are you can actually find that out using Cube cuddle and it'll",
    "start": "633360",
    "end": "640320"
  },
  {
    "text": "basically spit out a thing of what you can actually do with it and you can depending on like where the",
    "start": "640320",
    "end": "646320"
  },
  {
    "text": "group is like maybe it's in V1 maybe it's not if you're wondering hey where is located you could just do Cube cuddle",
    "start": "646320",
    "end": "652920"
  },
  {
    "text": "API space API resources and figure out where it's located",
    "start": "652920",
    "end": "658399"
  },
  {
    "text": "all right so this is the default service account that gets created for whatever namespace you are creating so this is",
    "start": "658860",
    "end": "665640"
  },
  {
    "text": "cnsc because that's a short abbreviation uh for this conference",
    "start": "665640",
    "end": "671459"
  },
  {
    "text": "um and then it just creates a default one then here is an example role for getting pods so you can see like in resource you",
    "start": "671459",
    "end": "680579"
  },
  {
    "text": "have pods and then the verbs are again list so the reason you have both is say if you were like I have an nginx pod if",
    "start": "680579",
    "end": "688200"
  },
  {
    "text": "I have just git I could do a cube cuddle get pod nginx if I try doing keep get",
    "start": "688200",
    "end": "694980"
  },
  {
    "text": "I'll get pods it doesn't it can't do that any of the list and then you need to have the roll",
    "start": "694980",
    "end": "701399"
  },
  {
    "text": "binding so you can see that this basically has the role that get pods roll and then it has the service count",
    "start": "701399",
    "end": "707160"
  },
  {
    "text": "which is the one that I've been talking about um there's also fun stuff with auditing and of course I noticed that I hadn't",
    "start": "707160",
    "end": "714060"
  },
  {
    "text": "fixed this before we got here and I didn't fix it now the first line is supposed to say Cube cuddle off",
    "start": "714060",
    "end": "719640"
  },
  {
    "text": "space canine dash dash list um I'll fix that later but um and then",
    "start": "719640",
    "end": "725040"
  },
  {
    "text": "there's a bunch of other tools that aren't specifically built in that you can get like plugins for",
    "start": "725040",
    "end": "730500"
  },
  {
    "text": "all right so demo time",
    "start": "730500",
    "end": "734480"
  },
  {
    "text": "after I fix that there we go let's pretend that never happened",
    "start": "738660",
    "end": "745200"
  },
  {
    "text": "all right",
    "start": "745200",
    "end": "747740"
  },
  {
    "text": "I clear it and then it just comes right back all right so first uh let's make sure that I did delete the namespace so",
    "start": "750360",
    "end": "757260"
  },
  {
    "text": "if we get namespaces all right cool so there's just a bunch of the initial stuff so if I do okay create namespace",
    "start": "757260",
    "end": "764040"
  },
  {
    "text": "of like Cloud native security con",
    "start": "764040",
    "end": "768199"
  },
  {
    "text": "all right um so there's this really cool tool called Cuban s that Ahmed Al Balkan",
    "start": "769560",
    "end": "775079"
  },
  {
    "text": "created that makes it so that you can switch between name spaces that you're currently in so you don't have to do the",
    "start": "775079",
    "end": "780240"
  },
  {
    "text": "dash n and then give it the namespace every time which can be really annoying so if I do a Cuban s",
    "start": "780240",
    "end": "785639"
  },
  {
    "text": "and then that so now I am in that one so I've actually just ran Cuban s you can",
    "start": "785639",
    "end": "791639"
  },
  {
    "text": "see that I'm specifically in there okay so I'm just going to create some deployments we will see why in a bit",
    "start": "791639",
    "end": "801079"
  },
  {
    "text": "how's the internet everybody",
    "start": "802019",
    "end": "805279"
  },
  {
    "text": "all right so I'm just they're both using nginx because they are they spin up I don't have to do anything",
    "start": "810180",
    "end": "815820"
  },
  {
    "text": "weird to make sure that it stays running and whatnot all right so if I did okay get odds oh",
    "start": "815820",
    "end": "821700"
  },
  {
    "text": "yeah and I can't remember very much of this uh the K is me being lazy and aliasing Cube cuddle 2K because I don't",
    "start": "821700",
    "end": "828959"
  },
  {
    "text": "want to type that I already like my tab completion and everything else so um all right if we do a k get pods",
    "start": "828959",
    "end": "836779"
  },
  {
    "text": "you can see the two that are running there right now so like basically",
    "start": "837000",
    "end": "843180"
  },
  {
    "text": "um however my cluster is set up I have an effect like cluster admin permissions I can if I wanted I can go and delete",
    "start": "843180",
    "end": "848700"
  },
  {
    "text": "these I can scale the deployments there are there all that fun stuff how about what if we go inside of a pod",
    "start": "848700",
    "end": "856139"
  },
  {
    "text": "so if I do oh my gosh",
    "start": "856139",
    "end": "861680"
  },
  {
    "text": "okay so there's this cool thing called nyx3. Dev it basically ends up giving",
    "start": "863100",
    "end": "868380"
  },
  {
    "text": "you a container image that has these things that you list with slashes installed in it already so like shell",
    "start": "868380",
    "end": "875339"
  },
  {
    "text": "Cube cuddle curl JQ it's really handy",
    "start": "875339",
    "end": "880459"
  },
  {
    "text": "the internet was nicer to me when I demo on this all right so now if we tried to do a",
    "start": "884040",
    "end": "889320"
  },
  {
    "text": "cube cuddle oh my God",
    "start": "889320",
    "end": "894320"
  },
  {
    "text": "oh my goodness okay so I'm on the same cluster",
    "start": "897480",
    "end": "905579"
  },
  {
    "text": "but now it's it's throwing up and saying I can't do this so like it might be hard",
    "start": "905579",
    "end": "910620"
  },
  {
    "text": "to read because of how it's wrapping it but basically it's saying that my that weird name my user like with my name",
    "start": "910620",
    "end": "918540"
  },
  {
    "text": "space of cnsc and default which is again the default essay that gets created uh I",
    "start": "918540",
    "end": "925019"
  },
  {
    "text": "don't have the ability to uh list like pods in this namespace",
    "start": "925019",
    "end": "930779"
  },
  {
    "text": "so basically we need to fix that so we can do that by creating a role in a role",
    "start": "930779",
    "end": "938160"
  },
  {
    "text": "binding so we don't right now we don't have to create a service account because well I'm just going to use the default one",
    "start": "938160",
    "end": "944399"
  },
  {
    "text": "so if I do K create role all right so this thing I'm just calling",
    "start": "944399",
    "end": "950040"
  },
  {
    "text": "it get pods verb is just whatever type of action you're going to be doing so I want to be able to do a get and I want",
    "start": "950040",
    "end": "955980"
  },
  {
    "text": "to be able to do a list and I want it specifically for the pods resource",
    "start": "955980",
    "end": "961139"
  },
  {
    "text": "so I created that if you want to take a look at it",
    "start": "961139",
    "end": "965060"
  },
  {
    "text": "um we can see basically the API groups the resources are pods and that I want to be able to do a git in a list",
    "start": "967620",
    "end": "974160"
  },
  {
    "text": "so then now so we have the essay we have the role now we actually need to bind them",
    "start": "974160",
    "end": "979740"
  },
  {
    "text": "together so if I create role binding",
    "start": "979740",
    "end": "984620"
  },
  {
    "text": "so this one you give it the role and then you give it that service count so that's the name of the service can that where you have right now",
    "start": "984899",
    "end": "992060"
  },
  {
    "text": "so now if I do a cube pedal get pods I can actually see them",
    "start": "992820",
    "end": "998339"
  },
  {
    "text": "okay so that's cool so now let's it has has anyone tried using like Dash V6 or",
    "start": "998339",
    "end": "1005540"
  },
  {
    "text": "like UPS the verbosity on a cube cuddle command before all right see two people all right so if",
    "start": "1005540",
    "end": "1013579"
  },
  {
    "text": "we did the get pods again if we do Dash like V6 you can actually see what",
    "start": "1013579",
    "end": "1018740"
  },
  {
    "text": "address is being used for these requests so if I go and copy this",
    "start": "1018740",
    "end": "1026540"
  },
  {
    "text": "I could go and try doing a curl I'm going to do test h k which is",
    "start": "1026540",
    "end": "1032540"
  },
  {
    "text": "technically Dash insecure because like I know this is my cluster I trust it this",
    "start": "1032540",
    "end": "1038540"
  },
  {
    "text": "is a demo um I don't really like I'm not worried that whatever the API is there or is giving back to me is like garbage",
    "start": "1038540",
    "end": "1046040"
  },
  {
    "text": "or some crazy stuff for now um so if I do Dash K and then I give it",
    "start": "1046040",
    "end": "1053419"
  },
  {
    "text": "the URL there so okay now it it's failing so like what's going on here I",
    "start": "1053419",
    "end": "1060980"
  },
  {
    "text": "just did a cube cuddle command to get pods I haven't uh I have my role binding",
    "start": "1060980",
    "end": "1066260"
  },
  {
    "text": "everything but it's telling me I can't do it if you specifically look there it",
    "start": "1066260",
    "end": "1071840"
  },
  {
    "text": "says that you are system anonymous it's because it doesn't actually know who you are",
    "start": "1071840",
    "end": "1077900"
  },
  {
    "text": "so in order to fix that you need to actually give it the service account token",
    "start": "1077900",
    "end": "1083360"
  },
  {
    "text": "so and remember that this right side is within a pod that's in this cluster if",
    "start": "1083360",
    "end": "1089179"
  },
  {
    "text": "we look in this one location we can see this lovely token this",
    "start": "1089179",
    "end": "1096440"
  },
  {
    "text": "looking at this you're just like okay it's a bunch of gibberish like I guess that's your token if we go and copy this",
    "start": "1096440",
    "end": "1104740"
  },
  {
    "text": "and Slide the correct direction there we go if you go to jwt.io you can actually",
    "start": "1105740",
    "end": "1111980"
  },
  {
    "text": "dump it your encoded stuff in there and dump it out and actually mean something",
    "start": "1111980",
    "end": "1118940"
  },
  {
    "text": "um so I'm not sure if it's really legible so basically you can see I need I'm using a gke cluster",
    "start": "1118940",
    "end": "1125299"
  },
  {
    "text": "um you can see the namespace is the NSD tester is that pod that I am currently in and then my default service account and",
    "start": "1125299",
    "end": "1132799"
  },
  {
    "text": "you can see all that there all right cool so we have that great so",
    "start": "1132799",
    "end": "1138980"
  },
  {
    "text": "now what we do with our new with our curl is now we give it a header",
    "start": "1138980",
    "end": "1145179"
  },
  {
    "text": "so authorization Bearer I always could do this wrong okay I need to save my token",
    "start": "1148100",
    "end": "1153740"
  },
  {
    "text": "so I can just call it like this",
    "start": "1153740",
    "end": "1158500"
  },
  {
    "text": "come on laptop I have faith in you sometimes",
    "start": "1165500",
    "end": "1171639"
  },
  {
    "text": "no faith fine be that way",
    "start": "1171799",
    "end": "1178660"
  },
  {
    "text": "what did what did you say I did uh",
    "start": "1179840",
    "end": "1185419"
  },
  {
    "text": "oh yeah whoops tired all right okay token",
    "start": "1185419",
    "end": "1194660"
  },
  {
    "text": "um yeah so uh back to what I was saying is we and so we do if we do the curl",
    "start": "1194660",
    "end": "1201679"
  },
  {
    "text": "give it Dash h a",
    "start": "1201679",
    "end": "1206679"
  },
  {
    "text": "authorization bear",
    "start": "1207679",
    "end": "1213500"
  },
  {
    "text": "token I did I throw",
    "start": "1213500",
    "end": "1219340"
  },
  {
    "text": "this is why people shouldn't let me type all right so if I pass that into JQ and gave it the items",
    "start": "1221000",
    "end": "1227900"
  },
  {
    "text": "dot metadata dot name",
    "start": "1227900",
    "end": "1232940"
  },
  {
    "text": "man this is so slow hello",
    "start": "1232940",
    "end": "1238779"
  },
  {
    "text": "okay yeah so there you can see the pods that we had before okay so with the",
    "start": "1242419",
    "end": "1248720"
  },
  {
    "text": "whole dash k thing let's get rid of that now if we look in this same folder",
    "start": "1248720",
    "end": "1255260"
  },
  {
    "text": "oh my goodness hello",
    "start": "1255260",
    "end": "1259000"
  },
  {
    "text": "trying",
    "start": "1270260",
    "end": "1272860"
  },
  {
    "text": "not okay wow all right um You can see here that there's a CA CRT file in here so instead of this",
    "start": "1275299",
    "end": "1283460"
  },
  {
    "text": "lovely Dash k we do see a cert",
    "start": "1283460",
    "end": "1291039"
  },
  {
    "text": "oh my goodness",
    "start": "1291200",
    "end": "1294158"
  },
  {
    "text": "and it still works okay so um as of one of the more recent",
    "start": "1304220",
    "end": "1309440"
  },
  {
    "text": "versions of kubernetes service account tokens are bound by default so let me show you what that means so",
    "start": "1309440",
    "end": "1316940"
  },
  {
    "text": "this token basically is bound to that pod so if I were to go over here",
    "start": "1316940",
    "end": "1323860"
  },
  {
    "text": "and basically I'm creating another pod just like the other one and so if I were to go and just make token",
    "start": "1324440",
    "end": "1331640"
  },
  {
    "text": "equals to that same thing oh not not that",
    "start": "1331640",
    "end": "1337179"
  },
  {
    "text": "and then if I go and copy this exact command",
    "start": "1351020",
    "end": "1356260"
  },
  {
    "text": "you can see that I can still run it right so now what happens if I decide that I",
    "start": "1360679",
    "end": "1366559"
  },
  {
    "text": "don't want this pod anymore depending on how slow my internet is",
    "start": "1366559",
    "end": "1373580"
  },
  {
    "text": "um this might take a million years to go away",
    "start": "1373580",
    "end": "1377980"
  },
  {
    "text": "go away um but yeah so that wasn't a thing before like it I think I can't remember",
    "start": "1387440",
    "end": "1394880"
  },
  {
    "text": "specifically it may have been 1.21 but you'll need to verify that",
    "start": "1394880",
    "end": "1400580"
  },
  {
    "text": "um depending okay wait let's see",
    "start": "1400580",
    "end": "1405820"
  },
  {
    "text": "all right it's gone all right so now if I were to try doing that again I now got unauthorized because that",
    "start": "1406940",
    "end": "1413780"
  },
  {
    "text": "token was bound to that pod and it now has vomited and no longer works",
    "start": "1413780",
    "end": "1418940"
  },
  {
    "text": "okay so that's just like that basic stuff with that so and since everything's",
    "start": "1418940",
    "end": "1424100"
  },
  {
    "text": "going slowly I'm going to see what I can quickly get through in the next I believe I have 10 minutes because",
    "start": "1424100",
    "end": "1429559"
  },
  {
    "text": "technology it loves you and it hates you all right so we were using a default service token so now let's go and create",
    "start": "1429559",
    "end": "1436100"
  },
  {
    "text": "one so if I create a say so I can call it scalar",
    "start": "1436100",
    "end": "1441140"
  },
  {
    "text": "um basically what I'm going to do is create something that I can go and scale a deployment",
    "start": "1441140",
    "end": "1446539"
  },
  {
    "text": "so if there's some built-in cluster roles and cholesterol bindings for",
    "start": "1446539",
    "end": "1451880"
  },
  {
    "text": "instance like there's like if you did like I'll just do it okay get a cluster roll",
    "start": "1451880",
    "end": "1458240"
  },
  {
    "text": "grab video maybe I shouldn't try doing a thing like",
    "start": "1458240",
    "end": "1465020"
  },
  {
    "text": "that and getting her up but there's a thing that you have that is called view so I could do K create cluster",
    "start": "1465020",
    "end": "1472580"
  },
  {
    "text": "roll binding I can give it that cluster role that already exists which lets me",
    "start": "1472580",
    "end": "1478340"
  },
  {
    "text": "view a bunch of stuff and do nothing else it's basically read permissions and give it to my service account",
    "start": "1478340",
    "end": "1485260"
  },
  {
    "text": "and while we do that",
    "start": "1487640",
    "end": "1491080"
  },
  {
    "text": "everything",
    "start": "1496760",
    "end": "1499120"
  },
  {
    "text": "okay so if you are specifically dealing with uh if you're trying to create a pod",
    "start": "1502100",
    "end": "1508580"
  },
  {
    "text": "with a specific service account since this one isn't the default one anymore I there used to be a way to do dash dash",
    "start": "1508580",
    "end": "1513860"
  },
  {
    "text": "service count I don't know why I got removed I wish it didn't so now you have to actually do the overrides which is",
    "start": "1513860",
    "end": "1520159"
  },
  {
    "text": "special so yay Json um so then I give it that",
    "start": "1520159",
    "end": "1526600"
  },
  {
    "text": "I swear it's way faster an hour ago",
    "start": "1528980",
    "end": "1533080"
  },
  {
    "text": "I hope everyone's first day of this conference is going well",
    "start": "1537620",
    "end": "1542559"
  },
  {
    "text": "um yay okay so if we do a oh my goodness",
    "start": "1543559",
    "end": "1550100"
  },
  {
    "text": "hello letters",
    "start": "1550100",
    "end": "1552940"
  },
  {
    "text": "I guess worst case if this if this actually fails I can walk you through what actually happens because I threw",
    "start": "1558080",
    "end": "1563900"
  },
  {
    "text": "all this stuff into my slides too",
    "start": "1563900",
    "end": "1568360"
  },
  {
    "text": "oh my goodness I feel like I've gone back to the early",
    "start": "1569720",
    "end": "1576200"
  },
  {
    "text": "2000s",
    "start": "1576200",
    "end": "1578860"
  },
  {
    "text": "okay well that's there we go so get all doesn't actually do get all but it gets a bunch of stuff so my view is letting",
    "start": "1582980",
    "end": "1590000"
  },
  {
    "text": "me see all of that stuff um I'm not going to try typing in if I were to try deleting stuff right now it",
    "start": "1590000",
    "end": "1595640"
  },
  {
    "text": "would fail I'm not going to try that because I'm just gonna fail so um what I want is to be able to create a",
    "start": "1595640",
    "end": "1601760"
  },
  {
    "text": "deploy a way to scale so I could create a role",
    "start": "1601760",
    "end": "1607059"
  },
  {
    "text": "all right so so I can call that scalar because I'm lazy um so when you're messing with",
    "start": "1607460",
    "end": "1614240"
  },
  {
    "text": "something like replicas uh you which or like scaling you would do a patch so it",
    "start": "1614240",
    "end": "1619340"
  },
  {
    "text": "gets the resource of deployment slash scale and then I want to do it only on the nginx one because you're a member of",
    "start": "1619340",
    "end": "1624740"
  },
  {
    "text": "nginx knife web so I create that",
    "start": "1624740",
    "end": "1630158"
  },
  {
    "text": "I guess while it's doing that if I do a cute pedal Bill deploy except the problem is I have",
    "start": "1633200",
    "end": "1640580"
  },
  {
    "text": "typing issues so all right scale nginx",
    "start": "1640580",
    "end": "1645700"
  },
  {
    "text": "replicas equals two",
    "start": "1645700",
    "end": "1650080"
  },
  {
    "text": "yay internet so what will eventually happen if I run",
    "start": "1657380",
    "end": "1663679"
  },
  {
    "text": "that right now it's going to vomit because I don't have the permissions to do it oh wow unable to connect to the",
    "start": "1663679",
    "end": "1668960"
  },
  {
    "text": "server yeah internet there we go okay",
    "start": "1668960",
    "end": "1675700"
  },
  {
    "text": "raise your hand if you had a demo be this painful at a conference sweet",
    "start": "1680299",
    "end": "1686000"
  },
  {
    "text": "thanks for commiserating okay so if I tried doing right now it",
    "start": "1686000",
    "end": "1691039"
  },
  {
    "text": "says that I can't patch deployment scale in there so if I go and create that roll",
    "start": "1691039",
    "end": "1696260"
  },
  {
    "text": "binding",
    "start": "1696260",
    "end": "1698799"
  },
  {
    "text": "now I can scale that and if I were to try scaling web",
    "start": "1701900",
    "end": "1708080"
  },
  {
    "text": "it fails because I specifically named the resource okay so now okay we have that but right now",
    "start": "1708080",
    "end": "1715340"
  },
  {
    "text": "I'm using like view that means I can see everything what if I only want to be able to just get that specific deployment so what I would want to do is",
    "start": "1715340",
    "end": "1721039"
  },
  {
    "text": "first delete uh that cluster role binding if I were to try",
    "start": "1721039",
    "end": "1727520"
  },
  {
    "text": "scaling this back down to one",
    "start": "1727520",
    "end": "1730960"
  },
  {
    "text": "I can't because like in order to be able to actually do anything that I have to",
    "start": "1733340",
    "end": "1738559"
  },
  {
    "text": "first be able to see it I can't actually get it so what we could do is we could do an edit on the role that we have",
    "start": "1738559",
    "end": "1746240"
  },
  {
    "text": "called scalar I can use my really terrible VMS Vim",
    "start": "1746240",
    "end": "1752720"
  },
  {
    "text": "skills copy this paste it",
    "start": "1752720",
    "end": "1758140"
  },
  {
    "text": "change that to just deployments and get",
    "start": "1761299",
    "end": "1766299"
  },
  {
    "text": "so now theoretically",
    "start": "1768860",
    "end": "1772940"
  },
  {
    "text": "I can scale that but so if I did a cube cuddle get like say if I tried get all again",
    "start": "1774140",
    "end": "1781039"
  },
  {
    "text": "I can't do that if I did a cube cuddle get deployments can't do that if I want",
    "start": "1781039",
    "end": "1787340"
  },
  {
    "text": "to do nginx I can and I can scale that and that's basically all that I can do with that",
    "start": "1787340",
    "end": "1793580"
  },
  {
    "text": "um let's see yeah so I think that's everything for",
    "start": "1793580",
    "end": "1800600"
  },
  {
    "text": "that part um and if you just wanted to see what would happen if you did the Raw",
    "start": "1800600",
    "end": "1807320"
  },
  {
    "text": "um it's kind of like thrown out the show's a bunch of stuff but like say what for instance Services slash proxy",
    "start": "1807320",
    "end": "1812840"
  },
  {
    "text": "you can see what the verbs are that you can actually go and use and then also now that I have these permissions if I",
    "start": "1812840",
    "end": "1818600"
  },
  {
    "text": "do a cube cuddle off",
    "start": "1818600",
    "end": "1824960"
  },
  {
    "text": "can I and then you can do what you can do a can I and then like do a specific thing there's also eventually a way to",
    "start": "1824960",
    "end": "1831980"
  },
  {
    "text": "do dash dash list",
    "start": "1831980",
    "end": "1835539"
  },
  {
    "text": "maybe if you hit enter more than once it'll make it work",
    "start": "1840260",
    "end": "1844600"
  },
  {
    "text": "there we go okay um so you can see down so there's a bunch of stuff that is here by default",
    "start": "1854240",
    "end": "1861200"
  },
  {
    "text": "um that you will normally see like the ones up here apis Etc but the ones that",
    "start": "1861200",
    "end": "1866419"
  },
  {
    "text": "I these ones here are specifically there because I added them with my role in my roll binding",
    "start": "1866419",
    "end": "1874299"
  },
  {
    "text": "okay um if we go back over here",
    "start": "1874760",
    "end": "1881440"
  },
  {
    "text": "oh yeah so yeah demo that that just happened um it's kind of janky I will try making",
    "start": "1890720",
    "end": "1898520"
  },
  {
    "text": "it look better when I actually post it but I thought it would be useful for because a lot of times people post here's my code for my slides and then",
    "start": "1898520",
    "end": "1905659"
  },
  {
    "text": "they put the word demo and then it's like well if you don't have to say you don't have a video or you don't like watching videos",
    "start": "1905659",
    "end": "1911299"
  },
  {
    "text": "okay where's the demo so I attempted uh last night",
    "start": "1911299",
    "end": "1916700"
  },
  {
    "text": "um to do this so basically it goes through every single thing that I did today",
    "start": "1916700",
    "end": "1922880"
  },
  {
    "text": "um hopefully there's nothing wrong that I have comments and stuff in there too but yeah it's just all basically all",
    "start": "1922880",
    "end": "1927919"
  },
  {
    "text": "things with the default namespace uh service account balance service account tokens",
    "start": "1927919",
    "end": "1934399"
  },
  {
    "text": "um creating new essay like Factory roles so like as in like using that",
    "start": "1934399",
    "end": "1940100"
  },
  {
    "text": "cholesterol that's already there as you noticed even in my demo I did not give cluster admin permissions don't do that",
    "start": "1940100",
    "end": "1948440"
  },
  {
    "text": "and scalar and yeah it's just a bunch of slides of that",
    "start": "1948440",
    "end": "1953600"
  },
  {
    "text": "um this is so I learned through uh Bernard's talk that apparently you can actually there's actually a way to like",
    "start": "1953600",
    "end": "1959600"
  },
  {
    "text": "put a review on the sched app didn't know that I don't know how many people actually are logged in and it only has smiley",
    "start": "1959600",
    "end": "1966799"
  },
  {
    "text": "face sad face or a line so you don't have to log in so here's a little link",
    "start": "1966799",
    "end": "1972440"
  },
  {
    "text": "thing I would super appreciate if you could give me some feedback because I",
    "start": "1972440",
    "end": "1977659"
  },
  {
    "text": "would like this is my second ever security talk and I want to improve on what I'm doing",
    "start": "1977659",
    "end": "1982940"
  },
  {
    "text": "so yeah thank you everybody [Applause]",
    "start": "1982940",
    "end": "1993789"
  }
]