[
  {
    "text": "but",
    "start": "179",
    "end": "2780"
  },
  {
    "text": "hello everyone and Welcome to our",
    "start": "3240",
    "end": "4980"
  },
  {
    "text": "webinar today we'll be discussing an",
    "start": "4980",
    "end": "6899"
  },
  {
    "text": "introduction to clock custodian simple",
    "start": "6899",
    "end": "8760"
  },
  {
    "text": "rules for your Cloud cluster and",
    "start": "8760",
    "end": "10740"
  },
  {
    "text": "terraform",
    "start": "10740",
    "end": "13139"
  },
  {
    "text": "hey everyone I'm Sony XI I'm a Staff",
    "start": "13139",
    "end": "15660"
  },
  {
    "text": "engineer at statlet and maintainer of",
    "start": "15660",
    "end": "17460"
  },
  {
    "text": "cloud custodian",
    "start": "17460",
    "end": "19260"
  },
  {
    "text": "and I'm George Castro Community manager",
    "start": "19260",
    "end": "21060"
  },
  {
    "text": "at Cloud custodian",
    "start": "21060",
    "end": "24020"
  },
  {
    "text": "so what exactly is cloud custodian",
    "start": "24180",
    "end": "28580"
  },
  {
    "text": "Cloud custodian is a yaml DSL policy",
    "start": "28680",
    "end": "32099"
  },
  {
    "text": "engine",
    "start": "32099",
    "end": "33719"
  },
  {
    "text": "um for the cloud it scales up from the",
    "start": "33719",
    "end": "36239"
  },
  {
    "text": "startup level of just having a few",
    "start": "36239",
    "end": "38219"
  },
  {
    "text": "resources and is used in massive",
    "start": "38219",
    "end": "40559"
  },
  {
    "text": "Enterprise scale in production uh by",
    "start": "40559",
    "end": "42780"
  },
  {
    "text": "many large organizations the intent is",
    "start": "42780",
    "end": "45239"
  },
  {
    "text": "to drive behavioral change and Tighter",
    "start": "45239",
    "end": "47399"
  },
  {
    "text": "feedback loops for your developers but",
    "start": "47399",
    "end": "49320"
  },
  {
    "text": "what does that actually mean so I'll",
    "start": "49320",
    "end": "51300"
  },
  {
    "text": "give you like kind of my plain",
    "start": "51300",
    "end": "53879"
  },
  {
    "text": "um uh we can go back one my plane my",
    "start": "53879",
    "end": "56940"
  },
  {
    "text": "plane um explanation for it is uh you",
    "start": "56940",
    "end": "60780"
  },
  {
    "text": "write your policies in in yaml and Cloud",
    "start": "60780",
    "end": "63840"
  },
  {
    "text": "custodian is a rules engine that runs in",
    "start": "63840",
    "end": "67860"
  },
  {
    "text": "the Cloud's control plane and ensures",
    "start": "67860",
    "end": "69659"
  },
  {
    "text": "that the policies that you're writing",
    "start": "69659",
    "end": "71280"
  },
  {
    "text": "get enforced on your Cloud so a typical",
    "start": "71280",
    "end": "74700"
  },
  {
    "text": "example we like to use is make sure that",
    "start": "74700",
    "end": "77280"
  },
  {
    "text": "we're not opening a database and leaving",
    "start": "77280",
    "end": "79920"
  },
  {
    "text": "it on the internet so you have rules",
    "start": "79920",
    "end": "82500"
  },
  {
    "text": "that kind of manage all of your",
    "start": "82500",
    "end": "83880"
  },
  {
    "text": "resources",
    "start": "83880",
    "end": "85680"
  },
  {
    "text": "and typically you check these into git",
    "start": "85680",
    "end": "87720"
  },
  {
    "text": "or some kind of Version Control and then",
    "start": "87720",
    "end": "89640"
  },
  {
    "text": "Cloud custodian ensures that those",
    "start": "89640",
    "end": "91320"
  },
  {
    "text": "policies are enforced on your Cloud to",
    "start": "91320",
    "end": "94020"
  },
  {
    "text": "make sure that you know if you have a",
    "start": "94020",
    "end": "96000"
  },
  {
    "text": "policy to make sure that uh you're not",
    "start": "96000",
    "end": "98759"
  },
  {
    "text": "supposed to serve open databases on the",
    "start": "98759",
    "end": "100740"
  },
  {
    "text": "internet then we we make sure so in a",
    "start": "100740",
    "end": "103079"
  },
  {
    "text": "lot of ways the analogy we like to use",
    "start": "103079",
    "end": "105900"
  },
  {
    "text": "is a seat belt to your Cloud resources",
    "start": "105900",
    "end": "108060"
  },
  {
    "text": "to enable that um",
    "start": "108060",
    "end": "110280"
  },
  {
    "text": "if you accidentally do a thing manually",
    "start": "110280",
    "end": "112860"
  },
  {
    "text": "that you have Automation in place to",
    "start": "112860",
    "end": "114780"
  },
  {
    "text": "keep you safe next",
    "start": "114780",
    "end": "118220"
  },
  {
    "text": "and recently as cost has been more",
    "start": "118220",
    "end": "121079"
  },
  {
    "text": "important for people over the past 18",
    "start": "121079",
    "end": "123060"
  },
  {
    "text": "months using these policies is also a",
    "start": "123060",
    "end": "126360"
  },
  {
    "text": "great way to ensure that you're managing",
    "start": "126360",
    "end": "128160"
  },
  {
    "text": "cost in your Cloud so you can use cloud",
    "start": "128160",
    "end": "130560"
  },
  {
    "text": "custodian and people are using Cloud",
    "start": "130560",
    "end": "132000"
  },
  {
    "text": "custodian to not just ensure that",
    "start": "132000",
    "end": "134099"
  },
  {
    "text": "they're meeting compliance needs but do",
    "start": "134099",
    "end": "136620"
  },
  {
    "text": "you have a bunch of unused DBS snapshots",
    "start": "136620",
    "end": "139020"
  },
  {
    "text": "somewhere or resources that might not be",
    "start": "139020",
    "end": "141780"
  },
  {
    "text": "tied to a specific account that you were",
    "start": "141780",
    "end": "144959"
  },
  {
    "text": "expecting or or things like that so by",
    "start": "144959",
    "end": "148099"
  },
  {
    "text": "defining all of these rules you can",
    "start": "148099",
    "end": "150420"
  },
  {
    "text": "manage your entire Cloud deployment more",
    "start": "150420",
    "end": "153300"
  },
  {
    "text": "smartly and things that aren't supposed",
    "start": "153300",
    "end": "154860"
  },
  {
    "text": "to be there uh Cloud custodian can kind",
    "start": "154860",
    "end": "157800"
  },
  {
    "text": "of uh garbage collect for you that's",
    "start": "157800",
    "end": "160319"
  },
  {
    "text": "where the analogy of the custodian is is",
    "start": "160319",
    "end": "162840"
  },
  {
    "text": "you define what resources and their",
    "start": "162840",
    "end": "165120"
  },
  {
    "text": "limits are supposed to be in a certain",
    "start": "165120",
    "end": "167220"
  },
  {
    "text": "place and custodian kind of forces that",
    "start": "167220",
    "end": "169920"
  },
  {
    "text": "for you",
    "start": "169920",
    "end": "170940"
  },
  {
    "text": "and this is useful in the cost",
    "start": "170940",
    "end": "174060"
  },
  {
    "text": "um aspect especially because",
    "start": "174060",
    "end": "176480"
  },
  {
    "text": "resources that you are not tracking uh",
    "start": "176480",
    "end": "179760"
  },
  {
    "text": "tend to kind of pile up so having that",
    "start": "179760",
    "end": "181440"
  },
  {
    "text": "garbage collection for a lot of",
    "start": "181440",
    "end": "183060"
  },
  {
    "text": "organizations ends up being a",
    "start": "183060",
    "end": "185160"
  },
  {
    "text": "significant cost savings by ensuring",
    "start": "185160",
    "end": "188220"
  },
  {
    "text": "that what they think is running in their",
    "start": "188220",
    "end": "190140"
  },
  {
    "text": "cloud is the actual thing that's running",
    "start": "190140",
    "end": "194120"
  },
  {
    "text": "and of course compliance",
    "start": "195900",
    "end": "198300"
  },
  {
    "text": "um one of the great things about this",
    "start": "198300",
    "end": "201060"
  },
  {
    "text": "tool is that you can catch kind of your",
    "start": "201060",
    "end": "203459"
  },
  {
    "text": "compliance and rules and by version",
    "start": "203459",
    "end": "205379"
  },
  {
    "text": "controlling them and using them in cicd",
    "start": "205379",
    "end": "208159"
  },
  {
    "text": "uh custodian kind of enables a git",
    "start": "208159",
    "end": "211200"
  },
  {
    "text": "Ops workflow that allows you to manage",
    "start": "211200",
    "end": "214019"
  },
  {
    "text": "all of that stuff in a tight feedback",
    "start": "214019",
    "end": "215700"
  },
  {
    "text": "loop because it does do real-time uh",
    "start": "215700",
    "end": "219120"
  },
  {
    "text": "compliance checking of these rules so if",
    "start": "219120",
    "end": "222120"
  },
  {
    "text": "today I were to try to deploy something",
    "start": "222120",
    "end": "224879"
  },
  {
    "text": "into one of our resource and it was",
    "start": "224879",
    "end": "227040"
  },
  {
    "text": "violating a policy custodian you know if",
    "start": "227040",
    "end": "229920"
  },
  {
    "text": "you set it up that way can remediate",
    "start": "229920",
    "end": "232319"
  },
  {
    "text": "immediately and notify me that hey you",
    "start": "232319",
    "end": "235560"
  },
  {
    "text": "know uh there was a resource that I",
    "start": "235560",
    "end": "237599"
  },
  {
    "text": "asked for that isn't getting made",
    "start": "237599",
    "end": "238920"
  },
  {
    "text": "because of these reasons and what we are",
    "start": "238920",
    "end": "241980"
  },
  {
    "text": "trying to do as we alluded to earlier is",
    "start": "241980",
    "end": "244260"
  },
  {
    "text": "kind of drive that behavioral feedback",
    "start": "244260",
    "end": "246180"
  },
  {
    "text": "of",
    "start": "246180",
    "end": "247920"
  },
  {
    "text": "um you know okay so where where do I fix",
    "start": "247920",
    "end": "250620"
  },
  {
    "text": "this if I tried to set up a thing that",
    "start": "250620",
    "end": "253140"
  },
  {
    "text": "wasn't compliant where's the actual",
    "start": "253140",
    "end": "254700"
  },
  {
    "text": "issue that I need to fix does it need to",
    "start": "254700",
    "end": "256799"
  },
  {
    "text": "be in my terraform or or how can I",
    "start": "256799",
    "end": "259620"
  },
  {
    "text": "enable my developers to kind of instead",
    "start": "259620",
    "end": "261720"
  },
  {
    "text": "of running into these guard rails uh to",
    "start": "261720",
    "end": "264960"
  },
  {
    "text": "kind of allow them to have that",
    "start": "264960",
    "end": "267000"
  },
  {
    "text": "self-service in order to help change",
    "start": "267000",
    "end": "269280"
  },
  {
    "text": "that organizational behavior to be more",
    "start": "269280",
    "end": "271199"
  },
  {
    "text": "compliant next",
    "start": "271199",
    "end": "274320"
  },
  {
    "text": "and uh correctness uh you know it it's",
    "start": "274320",
    "end": "278280"
  },
  {
    "text": "kind of inefficient to set up a bunch of",
    "start": "278280",
    "end": "280860"
  },
  {
    "text": "stuff and then find out that some of it",
    "start": "280860",
    "end": "282360"
  },
  {
    "text": "is uncompliant to have to tear back down",
    "start": "282360",
    "end": "284460"
  },
  {
    "text": "that costs time that goes resources uh",
    "start": "284460",
    "end": "287340"
  },
  {
    "text": "developer time especially so that's kind",
    "start": "287340",
    "end": "290040"
  },
  {
    "text": "of why the model the Mantra behind a",
    "start": "290040",
    "end": "292139"
  },
  {
    "text": "tool like this is to enable that type",
    "start": "292139",
    "end": "294780"
  },
  {
    "text": "feedback loop uh driven all by your",
    "start": "294780",
    "end": "297780"
  },
  {
    "text": "existing automation uh that you have and",
    "start": "297780",
    "end": "300720"
  },
  {
    "text": "that's what we're going to talk about",
    "start": "300720",
    "end": "301500"
  },
  {
    "text": "here today specifically around",
    "start": "301500",
    "end": "303360"
  },
  {
    "text": "kubernetes clusters and around",
    "start": "303360",
    "end": "306479"
  },
  {
    "text": "um your terraform",
    "start": "306479",
    "end": "309139"
  },
  {
    "text": "yeah so what does all this uh look like",
    "start": "309440",
    "end": "312600"
  },
  {
    "text": "exactly",
    "start": "312600",
    "end": "313919"
  },
  {
    "text": "um you start out with a policy so",
    "start": "313919",
    "end": "317520"
  },
  {
    "text": "first thing you do is specify a name for",
    "start": "317520",
    "end": "319380"
  },
  {
    "text": "your policy and you also have to select",
    "start": "319380",
    "end": "321360"
  },
  {
    "text": "a resource in this case we're looking at",
    "start": "321360",
    "end": "323039"
  },
  {
    "text": "S3 buckets and AWS",
    "start": "323039",
    "end": "325919"
  },
  {
    "text": "then you can Define",
    "start": "325919",
    "end": "327380"
  },
  {
    "text": "any number of filters that you wanted to",
    "start": "327380",
    "end": "330419"
  },
  {
    "text": "filter on for those resources in this",
    "start": "330419",
    "end": "332220"
  },
  {
    "text": "case we're saying we want to find any",
    "start": "332220",
    "end": "335280"
  },
  {
    "text": "buckets that have a head bucket and git",
    "start": "335280",
    "end": "339300"
  },
  {
    "text": "object",
    "start": "339300",
    "end": "340220"
  },
  {
    "text": "actions that allow the account listed",
    "start": "340220",
    "end": "344759"
  },
  {
    "text": "here to access it",
    "start": "344759",
    "end": "347900"
  },
  {
    "text": "um and then you can specify what actions",
    "start": "348000",
    "end": "349919"
  },
  {
    "text": "you want to run so in this case we're",
    "start": "349919",
    "end": "351120"
  },
  {
    "text": "saying we want to notify the resource",
    "start": "351120",
    "end": "353400"
  },
  {
    "text": "owner and also to send a slack message",
    "start": "353400",
    "end": "356580"
  },
  {
    "text": "uh using a certain policy template so",
    "start": "356580",
    "end": "359639"
  },
  {
    "text": "that way you can send these",
    "start": "359639",
    "end": "361080"
  },
  {
    "text": "notifications directly to the people",
    "start": "361080",
    "end": "362580"
  },
  {
    "text": "that are",
    "start": "362580",
    "end": "363660"
  },
  {
    "text": "violating your policies instead of",
    "start": "363660",
    "end": "365820"
  },
  {
    "text": "having to do something like keep a list",
    "start": "365820",
    "end": "367919"
  },
  {
    "text": "and then track it down and",
    "start": "367919",
    "end": "370259"
  },
  {
    "text": "um you know pass around a CSV or",
    "start": "370259",
    "end": "372240"
  },
  {
    "text": "something to your uh your engineering",
    "start": "372240",
    "end": "374759"
  },
  {
    "text": "teams",
    "start": "374759",
    "end": "376139"
  },
  {
    "text": "and finally to do all this you just run",
    "start": "376139",
    "end": "378840"
  },
  {
    "text": "the custodian run commands where you",
    "start": "378840",
    "end": "380580"
  },
  {
    "text": "pass in the name of the file and give it",
    "start": "380580",
    "end": "382440"
  },
  {
    "text": "an output",
    "start": "382440",
    "end": "384300"
  },
  {
    "text": "um and then you'll start to see your",
    "start": "384300",
    "end": "386100"
  },
  {
    "text": "policies running",
    "start": "386100",
    "end": "387539"
  },
  {
    "text": "so here's another example policies so in",
    "start": "387539",
    "end": "390000"
  },
  {
    "text": "this case we're looking for IM roles",
    "start": "390000",
    "end": "391860"
  },
  {
    "text": "that are over over proficient so you can",
    "start": "391860",
    "end": "395280"
  },
  {
    "text": "see that we also support",
    "start": "395280",
    "end": "397800"
  },
  {
    "text": "um",
    "start": "397800",
    "end": "398819"
  },
  {
    "text": "these uh these knots ands and ORS so any",
    "start": "398819",
    "end": "402240"
  },
  {
    "text": "sort of Boolean expression that you want",
    "start": "402240",
    "end": "404580"
  },
  {
    "text": "to have so we're saying ignore any any",
    "start": "404580",
    "end": "406979"
  },
  {
    "text": "roles that are named I am provisioner",
    "start": "406979",
    "end": "409080"
  },
  {
    "text": "and you want to check the permissions to",
    "start": "409080",
    "end": "411419"
  },
  {
    "text": "say any roles that have this I am change",
    "start": "411419",
    "end": "413759"
  },
  {
    "text": "password action inside of their",
    "start": "413759",
    "end": "417180"
  },
  {
    "text": "uh inside of the the role itself",
    "start": "417180",
    "end": "419880"
  },
  {
    "text": "um and again we want to notify that so",
    "start": "419880",
    "end": "421620"
  },
  {
    "text": "in this case instead of sending it to",
    "start": "421620",
    "end": "423000"
  },
  {
    "text": "the resource owner we're sending it to",
    "start": "423000",
    "end": "424560"
  },
  {
    "text": "the security email distro and copying",
    "start": "424560",
    "end": "428100"
  },
  {
    "text": "the uh the cloud team as well",
    "start": "428100",
    "end": "432139"
  },
  {
    "text": "um so finally also uh custodian policies",
    "start": "432840",
    "end": "436139"
  },
  {
    "text": "can be run in two different types of",
    "start": "436139",
    "end": "438360"
  },
  {
    "text": "modes so there's a pull node where you",
    "start": "438360",
    "end": "441120"
  },
  {
    "text": "are querying the cloud itself or the",
    "start": "441120",
    "end": "444060"
  },
  {
    "text": "cluster directly so",
    "start": "444060",
    "end": "446099"
  },
  {
    "text": "in this case every single time you want",
    "start": "446099",
    "end": "448740"
  },
  {
    "text": "to check those over provision I am roles",
    "start": "448740",
    "end": "451259"
  },
  {
    "text": "you're checking everything that's out in",
    "start": "451259",
    "end": "453900"
  },
  {
    "text": "the cloud currently there are also event",
    "start": "453900",
    "end": "456300"
  },
  {
    "text": "based modes which utilize things like",
    "start": "456300",
    "end": "458840"
  },
  {
    "text": "cloudwatch event triggers uh cloudtrail",
    "start": "458840",
    "end": "461639"
  },
  {
    "text": "and config on the AWS side and we have",
    "start": "461639",
    "end": "464819"
  },
  {
    "text": "equivalents for that in Azure and gcp",
    "start": "464819",
    "end": "467479"
  },
  {
    "text": "these modes allow you to trigger off of",
    "start": "467479",
    "end": "470639"
  },
  {
    "text": "events that happen in your Cloud as well",
    "start": "470639",
    "end": "473220"
  },
  {
    "text": "as in your cluster so that way you can",
    "start": "473220",
    "end": "475380"
  },
  {
    "text": "be much more reactive as well as do",
    "start": "475380",
    "end": "477900"
  },
  {
    "text": "things like",
    "start": "477900",
    "end": "479280"
  },
  {
    "text": "uh remove any non-compliant resources",
    "start": "479280",
    "end": "481620"
  },
  {
    "text": "that are net new instead of having to",
    "start": "481620",
    "end": "483900"
  },
  {
    "text": "wait for the resource to exist in the",
    "start": "483900",
    "end": "487259"
  },
  {
    "text": "cloud for a while and then do some sort",
    "start": "487259",
    "end": "489900"
  },
  {
    "text": "of action because that can lead to",
    "start": "489900",
    "end": "491160"
  },
  {
    "text": "things where",
    "start": "491160",
    "end": "492240"
  },
  {
    "text": "you can potentially take down live",
    "start": "492240",
    "end": "494099"
  },
  {
    "text": "running services for example",
    "start": "494099",
    "end": "497660"
  },
  {
    "text": "um so Cloud custodian and kubernetes has",
    "start": "502440",
    "end": "504660"
  },
  {
    "text": "support for those two modes the first of",
    "start": "504660",
    "end": "506759"
  },
  {
    "text": "which the pull mode so you can query",
    "start": "506759",
    "end": "508500"
  },
  {
    "text": "your cluster with the same policy",
    "start": "508500",
    "end": "509819"
  },
  {
    "text": "language as your cloud",
    "start": "509819",
    "end": "511860"
  },
  {
    "text": "um basically this means that if you're",
    "start": "511860",
    "end": "513959"
  },
  {
    "text": "familiar with running custodian policies",
    "start": "513959",
    "end": "515760"
  },
  {
    "text": "for AWS Azure gcp you'll feel right at",
    "start": "515760",
    "end": "518339"
  },
  {
    "text": "home in addition there's a Kate's",
    "start": "518339",
    "end": "520860"
  },
  {
    "text": "admission mode where you could run",
    "start": "520860",
    "end": "522539"
  },
  {
    "text": "custodian policies in an admission",
    "start": "522539",
    "end": "524099"
  },
  {
    "text": "controlled mode to allow deny or warn on",
    "start": "524099",
    "end": "527040"
  },
  {
    "text": "any sort of object life cycle event",
    "start": "527040",
    "end": "530040"
  },
  {
    "text": "it's easiest to deploy in your cluster",
    "start": "530040",
    "end": "532260"
  },
  {
    "text": "with a Helm chart and you can also do",
    "start": "532260",
    "end": "534600"
  },
  {
    "text": "things like Auto label objects as they",
    "start": "534600",
    "end": "536339"
  },
  {
    "text": "come into the cluster to determine",
    "start": "536339",
    "end": "538080"
  },
  {
    "text": "resource ownership for example",
    "start": "538080",
    "end": "541339"
  },
  {
    "text": "finally we have terraform support as",
    "start": "541339",
    "end": "543779"
  },
  {
    "text": "well so",
    "start": "543779",
    "end": "544920"
  },
  {
    "text": "not only can you govern your",
    "start": "544920",
    "end": "547019"
  },
  {
    "text": "infrastructure that's already out there",
    "start": "547019",
    "end": "548459"
  },
  {
    "text": "you can also use custodian to govern",
    "start": "548459",
    "end": "550980"
  },
  {
    "text": "your infrastructure as code so this",
    "start": "550980",
    "end": "552899"
  },
  {
    "text": "allows your developers to know ahead of",
    "start": "552899",
    "end": "555839"
  },
  {
    "text": "time that the things that they're",
    "start": "555839",
    "end": "557700"
  },
  {
    "text": "deploying are not going to be compliant",
    "start": "557700",
    "end": "559320"
  },
  {
    "text": "or they're not going to be in line with",
    "start": "559320",
    "end": "562380"
  },
  {
    "text": "the guardrails that you've set this way",
    "start": "562380",
    "end": "564420"
  },
  {
    "text": "they can make those changes early on and",
    "start": "564420",
    "end": "566640"
  },
  {
    "text": "not have to deal with the headache of",
    "start": "566640",
    "end": "568080"
  },
  {
    "text": "going going back and potentially having",
    "start": "568080",
    "end": "571260"
  },
  {
    "text": "to do things like stop a database",
    "start": "571260",
    "end": "573300"
  },
  {
    "text": "schedule downtime and recreate it in",
    "start": "573300",
    "end": "577920"
  },
  {
    "text": "addition C7 left will also annotate",
    "start": "577920",
    "end": "580680"
  },
  {
    "text": "these policy violations in line which is",
    "start": "580680",
    "end": "583740"
  },
  {
    "text": "really nice to see this is the exact",
    "start": "583740",
    "end": "586380"
  },
  {
    "text": "thing that I have to change according to",
    "start": "586380",
    "end": "588899"
  },
  {
    "text": "the policy itself",
    "start": "588899",
    "end": "590360"
  },
  {
    "text": "and makes it a lot easier for developers",
    "start": "590360",
    "end": "592980"
  },
  {
    "text": "to do the right thing",
    "start": "592980",
    "end": "595980"
  },
  {
    "text": "so we'll go off and do a quick demo",
    "start": "595980",
    "end": "600920"
  },
  {
    "text": "see",
    "start": "601440",
    "end": "603980"
  },
  {
    "text": "so the first thing that we'll start with",
    "start": "604260",
    "end": "606420"
  },
  {
    "text": "will be a",
    "start": "606420",
    "end": "608820"
  },
  {
    "text": "kubernetes poll mode example so",
    "start": "608820",
    "end": "613080"
  },
  {
    "text": "um",
    "start": "613080",
    "end": "613740"
  },
  {
    "text": "on the left here on my screen uh I'm",
    "start": "613740",
    "end": "616380"
  },
  {
    "text": "just running the kubernetes admission",
    "start": "616380",
    "end": "618540"
  },
  {
    "text": "controller which we'll get to in a",
    "start": "618540",
    "end": "620040"
  },
  {
    "text": "second but first let's run the",
    "start": "620040",
    "end": "624600"
  },
  {
    "text": "policy for kubernetes so like I said",
    "start": "624600",
    "end": "627779"
  },
  {
    "text": "this is pull mode so this is point",
    "start": "627779",
    "end": "629339"
  },
  {
    "text": "directly from my cluster and if I take a",
    "start": "629339",
    "end": "633240"
  },
  {
    "text": "look at that uh",
    "start": "633240",
    "end": "636120"
  },
  {
    "text": "research dates on that comes back so",
    "start": "636120",
    "end": "638760"
  },
  {
    "text": "this is basically all of the information",
    "start": "638760",
    "end": "640980"
  },
  {
    "text": "that you would expect to see if you do",
    "start": "640980",
    "end": "642720"
  },
  {
    "text": "like a cube CTL describe pod",
    "start": "642720",
    "end": "646500"
  },
  {
    "text": "um and if you get every single pod and",
    "start": "646500",
    "end": "649140"
  },
  {
    "text": "this is a great way for you to see",
    "start": "649140",
    "end": "651300"
  },
  {
    "text": "uh attributes that you can filter on for",
    "start": "651300",
    "end": "653519"
  },
  {
    "text": "example",
    "start": "653519",
    "end": "654600"
  },
  {
    "text": "so let's go and take a look at the event",
    "start": "654600",
    "end": "657720"
  },
  {
    "text": "based modes so",
    "start": "657720",
    "end": "659880"
  },
  {
    "text": "the first thing that we'll do is we'll",
    "start": "659880",
    "end": "661680"
  },
  {
    "text": "take a look at our policies that we have",
    "start": "661680",
    "end": "664620"
  },
  {
    "text": "here so",
    "start": "664620",
    "end": "666120"
  },
  {
    "text": "the policies here are just in a config",
    "start": "666120",
    "end": "668339"
  },
  {
    "text": "map that we've deployed to our",
    "start": "668339",
    "end": "669660"
  },
  {
    "text": "kubernetes cluster and you can see here",
    "start": "669660",
    "end": "671640"
  },
  {
    "text": "we have a few so the first one here deny",
    "start": "671640",
    "end": "674160"
  },
  {
    "text": "pod exec based on the Pod we have",
    "start": "674160",
    "end": "676500"
  },
  {
    "text": "another policy here checking for missing",
    "start": "676500",
    "end": "678300"
  },
  {
    "text": "recommended labels",
    "start": "678300",
    "end": "680399"
  },
  {
    "text": "um another one restricting service",
    "start": "680399",
    "end": "682140"
  },
  {
    "text": "account usage on pods and then uh one",
    "start": "682140",
    "end": "685920"
  },
  {
    "text": "last one showing that uh we need to",
    "start": "685920",
    "end": "689040"
  },
  {
    "text": "require at least three replicas on any",
    "start": "689040",
    "end": "691140"
  },
  {
    "text": "kubernetes deployment that we have so",
    "start": "691140",
    "end": "693540"
  },
  {
    "text": "the first thing that we'll do is we'll",
    "start": "693540",
    "end": "696060"
  },
  {
    "text": "try to create a pod",
    "start": "696060",
    "end": "698220"
  },
  {
    "text": "so",
    "start": "698220",
    "end": "700500"
  },
  {
    "text": "let's take a look at our pod manifest",
    "start": "700500",
    "end": "702540"
  },
  {
    "text": "right here so the first thing you can",
    "start": "702540",
    "end": "704760"
  },
  {
    "text": "see is uh We've we've got our pod",
    "start": "704760",
    "end": "707399"
  },
  {
    "text": "manifest and if we try to deploy that",
    "start": "707399",
    "end": "712320"
  },
  {
    "text": "you can see",
    "start": "712320",
    "end": "713760"
  },
  {
    "text": "we get a warning saying Mitzi",
    "start": "713760",
    "end": "715440"
  },
  {
    "text": "recommended like what was all pause",
    "start": "715440",
    "end": "717120"
  },
  {
    "text": "mustafu and bar labels so you can see in",
    "start": "717120",
    "end": "720120"
  },
  {
    "text": "our benefits here we only have the food",
    "start": "720120",
    "end": "721740"
  },
  {
    "text": "one so",
    "start": "721740",
    "end": "723959"
  },
  {
    "text": "if we take a look at our",
    "start": "723959",
    "end": "727760"
  },
  {
    "text": "uh part that we created not only do you",
    "start": "727800",
    "end": "730800"
  },
  {
    "text": "see we only have this through equal bar",
    "start": "730800",
    "end": "733079"
  },
  {
    "text": "label but we actually use the",
    "start": "733079",
    "end": "736140"
  },
  {
    "text": "um the policy itself to append the owner",
    "start": "736140",
    "end": "738540"
  },
  {
    "text": "contact label here so we can see that",
    "start": "738540",
    "end": "740399"
  },
  {
    "text": "the kubernetes admin was the one that",
    "start": "740399",
    "end": "742019"
  },
  {
    "text": "created the resource and then we also",
    "start": "742019",
    "end": "744300"
  },
  {
    "text": "have this additional message uh that we",
    "start": "744300",
    "end": "747000"
  },
  {
    "text": "that we appended as a label uh saying",
    "start": "747000",
    "end": "749700"
  },
  {
    "text": "it's missing labels so",
    "start": "749700",
    "end": "752040"
  },
  {
    "text": "if we delete our pod there",
    "start": "752040",
    "end": "756500"
  },
  {
    "text": "and then",
    "start": "758760",
    "end": "760079"
  },
  {
    "text": "let's go ahead and add our bar label",
    "start": "760079",
    "end": "765380"
  },
  {
    "text": "you can see we don't get any warnings",
    "start": "768120",
    "end": "769920"
  },
  {
    "text": "the Pod was created successful",
    "start": "769920",
    "end": "772320"
  },
  {
    "text": "successfully",
    "start": "772320",
    "end": "774360"
  },
  {
    "text": "um so this is a great way if you want to",
    "start": "774360",
    "end": "776339"
  },
  {
    "text": "sort of ease developers into uh making",
    "start": "776339",
    "end": "779820"
  },
  {
    "text": "sure they're doing the right thing",
    "start": "779820",
    "end": "780839"
  },
  {
    "text": "before you do a hard restriction the",
    "start": "780839",
    "end": "783839"
  },
  {
    "text": "next thing we'll do is uh actually let's",
    "start": "783839",
    "end": "786060"
  },
  {
    "text": "keep that pod up",
    "start": "786060",
    "end": "789240"
  },
  {
    "text": "um",
    "start": "789240",
    "end": "789839"
  },
  {
    "text": "the next thing we'll do is we'll try to",
    "start": "789839",
    "end": "791639"
  },
  {
    "text": "do a exec into that into that pod so if",
    "start": "791639",
    "end": "795180"
  },
  {
    "text": "we run uh Cube CTL exec",
    "start": "795180",
    "end": "798600"
  },
  {
    "text": "let's see here that we actually get an",
    "start": "798600",
    "end": "800160"
  },
  {
    "text": "error saying that",
    "start": "800160",
    "end": "802079"
  },
  {
    "text": "um it failed due to these policies which",
    "start": "802079",
    "end": "803940"
  },
  {
    "text": "says you can't connect to any pods with",
    "start": "803940",
    "end": "805620"
  },
  {
    "text": "database in the name or the namespace",
    "start": "805620",
    "end": "807300"
  },
  {
    "text": "c7n system and so this is really great",
    "start": "807300",
    "end": "809940"
  },
  {
    "text": "to allow you to have more fine-grade",
    "start": "809940",
    "end": "812940"
  },
  {
    "text": "control on some of the uh actions that",
    "start": "812940",
    "end": "816720"
  },
  {
    "text": "developers can have against the",
    "start": "816720",
    "end": "818220"
  },
  {
    "text": "resources",
    "start": "818220",
    "end": "820079"
  },
  {
    "text": "um",
    "start": "820079",
    "end": "821160"
  },
  {
    "text": "and let's so the next thing we'll do is",
    "start": "821160",
    "end": "825420"
  },
  {
    "text": "check out how to uh what happens if we",
    "start": "825420",
    "end": "828540"
  },
  {
    "text": "try to create a pod with a more",
    "start": "828540",
    "end": "831360"
  },
  {
    "text": "restricted service account so the first",
    "start": "831360",
    "end": "832800"
  },
  {
    "text": "thing we'll do is uh we'll create this",
    "start": "832800",
    "end": "834839"
  },
  {
    "text": "service account here that's called",
    "start": "834839",
    "end": "836700"
  },
  {
    "text": "cluster admin",
    "start": "836700",
    "end": "838740"
  },
  {
    "text": "um",
    "start": "838740",
    "end": "839639"
  },
  {
    "text": "and let's try to apply pod with service",
    "start": "839639",
    "end": "842220"
  },
  {
    "text": "account uh actually let's take a look at",
    "start": "842220",
    "end": "844260"
  },
  {
    "text": "what that looks like first",
    "start": "844260",
    "end": "846300"
  },
  {
    "text": "so here the main thing is that we're",
    "start": "846300",
    "end": "849000"
  },
  {
    "text": "using the service account called cluster",
    "start": "849000",
    "end": "851040"
  },
  {
    "text": "admin which I'm sure you can assume has",
    "start": "851040",
    "end": "854519"
  },
  {
    "text": "all sorts of permissions that you don't",
    "start": "854519",
    "end": "855839"
  },
  {
    "text": "want everybody to use so if we try to",
    "start": "855839",
    "end": "858360"
  },
  {
    "text": "apply that so we apply pod with service",
    "start": "858360",
    "end": "860700"
  },
  {
    "text": "account you can see here that again we",
    "start": "860700",
    "end": "863100"
  },
  {
    "text": "get this restriction saying you can't",
    "start": "863100",
    "end": "865260"
  },
  {
    "text": "use that service account",
    "start": "865260",
    "end": "867660"
  },
  {
    "text": "uh finally we had that policy there that",
    "start": "867660",
    "end": "871980"
  },
  {
    "text": "restricted deployment saying you have to",
    "start": "871980",
    "end": "874620"
  },
  {
    "text": "have at least three replicas on your",
    "start": "874620",
    "end": "876899"
  },
  {
    "text": "deployment so if we take a look at our",
    "start": "876899",
    "end": "880019"
  },
  {
    "text": "deployment demo we see that this one has",
    "start": "880019",
    "end": "883440"
  },
  {
    "text": "three so this should be able to work",
    "start": "883440",
    "end": "885420"
  },
  {
    "text": "just fine but if we go ahead and drop",
    "start": "885420",
    "end": "888120"
  },
  {
    "text": "that down to two",
    "start": "888120",
    "end": "891560"
  },
  {
    "text": "and we run a acute CTL apply",
    "start": "892620",
    "end": "896959"
  },
  {
    "text": "deployment.yaml you can see here uh it",
    "start": "896959",
    "end": "900300"
  },
  {
    "text": "failed admission due to the policy",
    "start": "900300",
    "end": "901560"
  },
  {
    "text": "required at least three replicas so",
    "start": "901560",
    "end": "904620"
  },
  {
    "text": "let's go back in and change that 2 into",
    "start": "904620",
    "end": "907620"
  },
  {
    "text": "a three",
    "start": "907620",
    "end": "910160"
  },
  {
    "text": "you can see that our deployment was able",
    "start": "910920",
    "end": "913320"
  },
  {
    "text": "to go through just fine",
    "start": "913320",
    "end": "915420"
  },
  {
    "text": "um so again all the stuff you see on",
    "start": "915420",
    "end": "917100"
  },
  {
    "text": "here is basically what you would see in",
    "start": "917100",
    "end": "919380"
  },
  {
    "text": "your",
    "start": "919380",
    "end": "920100"
  },
  {
    "text": "blogs for your deployment when you",
    "start": "920100",
    "end": "922320"
  },
  {
    "text": "deploy this on your cluster basically",
    "start": "922320",
    "end": "924720"
  },
  {
    "text": "it'll match against only the events that",
    "start": "924720",
    "end": "926940"
  },
  {
    "text": "you actually care about uh for your from",
    "start": "926940",
    "end": "929760"
  },
  {
    "text": "your policies",
    "start": "929760",
    "end": "931199"
  },
  {
    "text": "so the next thing we'll take a look at",
    "start": "931199",
    "end": "933120"
  },
  {
    "text": "will be our",
    "start": "933120",
    "end": "934920"
  },
  {
    "text": "C7 and left demo so",
    "start": "934920",
    "end": "937680"
  },
  {
    "text": "D7 left is a separate",
    "start": "937680",
    "end": "940079"
  },
  {
    "text": "um",
    "start": "940079",
    "end": "940800"
  },
  {
    "text": "CLI from custodian it has one command so",
    "start": "940800",
    "end": "944820"
  },
  {
    "text": "we'll just look at the help here so",
    "start": "944820",
    "end": "947160"
  },
  {
    "text": "there's a C7 left run command",
    "start": "947160",
    "end": "949980"
  },
  {
    "text": "can you sorry can you increase the font",
    "start": "949980",
    "end": "951720"
  },
  {
    "text": "up one on this one sure yeah yeah",
    "start": "951720",
    "end": "956040"
  },
  {
    "text": "so if we go two seven left run help",
    "start": "956040",
    "end": "959519"
  },
  {
    "text": "um basically what you do is you get pass",
    "start": "959519",
    "end": "961079"
  },
  {
    "text": "in a policy directory which will be your",
    "start": "961079",
    "end": "963000"
  },
  {
    "text": "custodian policies as well as a",
    "start": "963000",
    "end": "965519"
  },
  {
    "text": "directory for your actual terraform",
    "start": "965519",
    "end": "967560"
  },
  {
    "text": "itself so",
    "start": "967560",
    "end": "969959"
  },
  {
    "text": "if we take a look at the policies",
    "start": "969959",
    "end": "974480"
  },
  {
    "text": "you can see we have a policy here that",
    "start": "974579",
    "end": "976980"
  },
  {
    "text": "says all resources should be tagged uh",
    "start": "976980",
    "end": "979260"
  },
  {
    "text": "and specifically it needs to have this",
    "start": "979260",
    "end": "980820"
  },
  {
    "text": "environment tag",
    "start": "980820",
    "end": "982380"
  },
  {
    "text": "and then we have one saying that all SQ",
    "start": "982380",
    "end": "984300"
  },
  {
    "text": "ads must be encrypted so",
    "start": "984300",
    "end": "987300"
  },
  {
    "text": "if we run C7 and left run and we give it",
    "start": "987300",
    "end": "990660"
  },
  {
    "text": "our policies directory as well as our",
    "start": "990660",
    "end": "993199"
  },
  {
    "text": "current care form directory we can see",
    "start": "993199",
    "end": "996540"
  },
  {
    "text": "here that",
    "start": "996540",
    "end": "998100"
  },
  {
    "text": "we failed two of these uh policies so",
    "start": "998100",
    "end": "1002120"
  },
  {
    "text": "the first one saying that uh sqs must be",
    "start": "1002120",
    "end": "1005360"
  },
  {
    "text": "encrypted",
    "start": "1005360",
    "end": "1006740"
  },
  {
    "text": "and the second one here is saying all",
    "start": "1006740",
    "end": "1008240"
  },
  {
    "text": "the resources should be tagged so if you",
    "start": "1008240",
    "end": "1010940"
  },
  {
    "text": "look at our main.tf here we can note",
    "start": "1010940",
    "end": "1014600"
  },
  {
    "text": "that so this first one we have a sqs",
    "start": "1014600",
    "end": "1017480"
  },
  {
    "text": "queue that we just have uh here it's not",
    "start": "1017480",
    "end": "1021079"
  },
  {
    "text": "in a modular thing it's just directly in",
    "start": "1021079",
    "end": "1022759"
  },
  {
    "text": "the in the main terraform",
    "start": "1022759",
    "end": "1024558"
  },
  {
    "text": "um so if we add our tags here",
    "start": "1024559",
    "end": "1028959"
  },
  {
    "text": "like so that should fix the first one",
    "start": "1029480",
    "end": "1032959"
  },
  {
    "text": "and then you can see in the you can see",
    "start": "1032959",
    "end": "1034760"
  },
  {
    "text": "here in the second one we're actually",
    "start": "1034760",
    "end": "1035900"
  },
  {
    "text": "using a remote module so",
    "start": "1035900",
    "end": "1038298"
  },
  {
    "text": "um rather than only be able to test the",
    "start": "1038299",
    "end": "1040938"
  },
  {
    "text": "terraform that you have directly inside",
    "start": "1040939",
    "end": "1042798"
  },
  {
    "text": "of your local terraform workspace it",
    "start": "1042799",
    "end": "1045918"
  },
  {
    "text": "will actually be able to look up the the",
    "start": "1045919",
    "end": "1047720"
  },
  {
    "text": "module references as well so here are",
    "start": "1047720",
    "end": "1050360"
  },
  {
    "text": "problems that we had uh managed SSC",
    "start": "1050360",
    "end": "1053660"
  },
  {
    "text": "enabled set to false so if we set that",
    "start": "1053660",
    "end": "1055700"
  },
  {
    "text": "to true that should fix it and it will",
    "start": "1055700",
    "end": "1057620"
  },
  {
    "text": "be run C7 left again",
    "start": "1057620",
    "end": "1060559"
  },
  {
    "text": "you can see that we have uh passed all",
    "start": "1060559",
    "end": "1063799"
  },
  {
    "text": "of our policy checks and you can also",
    "start": "1063799",
    "end": "1066380"
  },
  {
    "text": "look up the summary based on the",
    "start": "1066380",
    "end": "1068059"
  },
  {
    "text": "resources as well so in this case we",
    "start": "1068059",
    "end": "1070640"
  },
  {
    "text": "have some ion documents and those paths",
    "start": "1070640",
    "end": "1072740"
  },
  {
    "text": "as well as our sqs cues",
    "start": "1072740",
    "end": "1074840"
  },
  {
    "text": "so those are the demos and I'll go back",
    "start": "1074840",
    "end": "1077720"
  },
  {
    "text": "to the",
    "start": "1077720",
    "end": "1079940"
  },
  {
    "text": "slides here",
    "start": "1079940",
    "end": "1082840"
  },
  {
    "text": "and that's basically a tour of a",
    "start": "1084140",
    "end": "1086419"
  },
  {
    "text": "custodian on a cluster and an",
    "start": "1086419",
    "end": "1088820"
  },
  {
    "text": "infrastructure is code if you're",
    "start": "1088820",
    "end": "1090500"
  },
  {
    "text": "interested in this you'll find us at",
    "start": "1090500",
    "end": "1092480"
  },
  {
    "text": "kubecon and cloudnativecon in Europe in",
    "start": "1092480",
    "end": "1095480"
  },
  {
    "text": "Amsterdam uh coming up and we don't have",
    "start": "1095480",
    "end": "1098600"
  },
  {
    "text": "any information now but hoping to also",
    "start": "1098600",
    "end": "1100280"
  },
  {
    "text": "have a maintainer session as well if",
    "start": "1100280",
    "end": "1102320"
  },
  {
    "text": "you're interested in contributing and",
    "start": "1102320",
    "end": "1104600"
  },
  {
    "text": "checking out all the",
    "start": "1104600",
    "end": "1106280"
  },
  {
    "text": "um",
    "start": "1106280",
    "end": "1106880"
  },
  {
    "text": "cool stuff that an open source project",
    "start": "1106880",
    "end": "1108740"
  },
  {
    "text": "has to offer and with that Sunny thank",
    "start": "1108740",
    "end": "1111380"
  },
  {
    "text": "you very much and thanks everyone for",
    "start": "1111380",
    "end": "1112880"
  },
  {
    "text": "listening and uh feel free to join us",
    "start": "1112880",
    "end": "1115520"
  },
  {
    "text": "Cloud custodian dot IO thank you",
    "start": "1115520",
    "end": "1118400"
  },
  {
    "text": "thanks everyone",
    "start": "1118400",
    "end": "1120940"
  }
]