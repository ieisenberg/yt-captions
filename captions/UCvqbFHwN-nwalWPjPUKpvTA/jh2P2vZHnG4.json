[
  {
    "text": "John what's up peeps back from break yeah how is everyone",
    "start": "0",
    "end": "6860"
  },
  {
    "text": "uh what is this day two kubecon it feels like day four for me yeah yeah all right well uh let's go let's go",
    "start": "7140",
    "end": "14580"
  },
  {
    "text": "do some learning uh if you don't know me my name's Lee I contribute to kubernetes",
    "start": "14580",
    "end": "19980"
  },
  {
    "text": "sometimes also pretty active with the flux project I then you're a proud Filipino people in the room here",
    "start": "19980",
    "end": "25920"
  },
  {
    "text": "no hey okay John what's up yeah filipino-american I live in Colorado",
    "start": "25920",
    "end": "31920"
  },
  {
    "text": "and uh I'm gonna kick this talk off with something that's a little bit different a little weird uh it's performance art",
    "start": "31920",
    "end": "39480"
  },
  {
    "text": "yeah so uh let me see what let me just make sure I got the tempo here right",
    "start": "39480",
    "end": "46339"
  },
  {
    "text": "all right I'm gonna need help like this should be about like right here we just",
    "start": "48180",
    "end": "54300"
  },
  {
    "text": "gotta keep it steady yeah [Applause] sit back deploy apps ship in it relapse",
    "start": "54300",
    "end": "61260"
  },
  {
    "text": "trying to update a hump day but I need a new play the app's on fire this is so",
    "start": "61260",
    "end": "67200"
  },
  {
    "text": "not dope I can't debug teens losing hope I just clicked the button it wasn't",
    "start": "67200",
    "end": "72780"
  },
  {
    "text": "disabled I was on cloud nine then it dropped at the table a big surprise just",
    "start": "72780",
    "end": "78119"
  },
  {
    "text": "a simple reflex now production's down and I need some kleenex it was a wallet",
    "start": "78119",
    "end": "83820"
  },
  {
    "text": "text needed my glasses we on kubernetes but the app still crashes it worked got",
    "start": "83820",
    "end": "89400"
  },
  {
    "text": "the sir took some classes but I can't help now because I don't have access just click the button now it wasn't",
    "start": "89400",
    "end": "96060"
  },
  {
    "text": "disabled Amazon Cloud Nine then I dropped the table big surprise just a",
    "start": "96060",
    "end": "101880"
  },
  {
    "text": "simple reflex now production's down and I need some kleenex while the texts",
    "start": "101880",
    "end": "107520"
  },
  {
    "text": "needed my glasses we on kubernetes but the app still crashes did the work got",
    "start": "107520",
    "end": "112979"
  },
  {
    "text": "the search had the classes I want to help now can I get some access",
    "start": "112979",
    "end": "120020"
  },
  {
    "text": "things down man [Applause] all right I don't know man",
    "start": "122100",
    "end": "127799"
  },
  {
    "text": "so why are we talking about pain and working together with people on hard",
    "start": "127799",
    "end": "133440"
  },
  {
    "text": "systems right when working together we're using kubernetes",
    "start": "133440",
    "end": "139500"
  },
  {
    "text": "we gotta figure out how to use the tools to have the people in process part of",
    "start": "139500",
    "end": "145140"
  },
  {
    "text": "getting work done right we don't use the infrastructure we don't use fancy computers because it's fun well sometimes we do because we're nerds",
    "start": "145140",
    "end": "152040"
  },
  {
    "text": "but like the bigger problems is to solve Society humanity and making money with",
    "start": "152040",
    "end": "158340"
  },
  {
    "text": "capitalism are working together to do useful things right we want to make apps have people",
    "start": "158340",
    "end": "164099"
  },
  {
    "text": "use them store information and so we got to figure out how to share and scale",
    "start": "164099",
    "end": "169260"
  },
  {
    "text": "things for our organizations right and so we're using a computer maybe it's just one computer",
    "start": "169260",
    "end": "175620"
  },
  {
    "text": "and you go log into that thing and it gives you the access to the thing and then you start using that computer to do all this imperative stuff you're writing",
    "start": "175620",
    "end": "181920"
  },
  {
    "text": "Google Docs or whatever um and it's just like kind of you who",
    "start": "181920",
    "end": "187080"
  },
  {
    "text": "like uses this laptop maybe you share it with like your cousin or something too but this kubernetes thing is the",
    "start": "187080",
    "end": "194700"
  },
  {
    "text": "operating system that turns like lots of these servers or whatever cloud data center into one big computer",
    "start": "194700",
    "end": "202680"
  },
  {
    "text": "it's an operating system it gives us a distributed computer and you can't program it the normal way that you use",
    "start": "202680",
    "end": "210659"
  },
  {
    "text": "like a laptop or maybe you run like some python on a single machine right A lot of people say we configure",
    "start": "210659",
    "end": "217560"
  },
  {
    "text": "kubernetes but you configure things that are already doing stuff right kubernetes",
    "start": "217560",
    "end": "222900"
  },
  {
    "text": "is a computer and it doesn't actually do anything useful unless we program it right so we give these configs even",
    "start": "222900",
    "end": "228239"
  },
  {
    "text": "though they're declarative they're source code and this source code is in the form of a declarative promise",
    "start": "228239",
    "end": "235140"
  },
  {
    "text": "so kubernetes like makes promises happen for us but the kinds of promises that it does",
    "start": "235140",
    "end": "241799"
  },
  {
    "text": "are pretty useful right it deploys apps it can promise US networks can manage",
    "start": "241799",
    "end": "246900"
  },
  {
    "text": "lots of servers at different pools with labels and like have namespaces schedule over here over there you can enforce",
    "start": "246900",
    "end": "253140"
  },
  {
    "text": "policies and stuff and and we talk a lot about these objects we're super focused on the tools",
    "start": "253140",
    "end": "260699"
  },
  {
    "text": "there's like deployments you know Services nodes Network policies it kind of maps up to those use cases they fit",
    "start": "260699",
    "end": "266160"
  },
  {
    "text": "into different API groups we use the same technique to go and declare these promises into this one computer",
    "start": "266160",
    "end": "274440"
  },
  {
    "text": "right so we have the same programming model now these things are all so different",
    "start": "274440",
    "end": "280680"
  },
  {
    "text": "and useful that we tend to have a lot of people involved in using this one big expensive but super fast Formula One car",
    "start": "280680",
    "end": "287699"
  },
  {
    "text": "of a promise machine and so like you got developers you got operators you know it's like a whole",
    "start": "287699",
    "end": "292919"
  },
  {
    "text": "Community it's like a city to run the kubernetes race car around the track",
    "start": "292919",
    "end": "298139"
  },
  {
    "text": "and um the API to help us share the computer",
    "start": "298139",
    "end": "305759"
  },
  {
    "text": "is called role-based access control or our back right so there's the first bit of jargon in this really API",
    "start": "305759",
    "end": "312979"
  },
  {
    "text": "introspective talk so when we first log in to a computer a",
    "start": "312979",
    "end": "319259"
  },
  {
    "text": "computer wants to know who we are and it wants to also then start granting us access and there's these two kind of",
    "start": "319259",
    "end": "325680"
  },
  {
    "text": "other jargony words that people use called authentication and authorization right so when we authenticate the",
    "start": "325680",
    "end": "332580"
  },
  {
    "text": "computer knows who we are right it attests that oh I really believe that you are are who you say you",
    "start": "332580",
    "end": "339060"
  },
  {
    "text": "are I know your identity and then when we Grant access we're talking about authorization are you",
    "start": "339060",
    "end": "345240"
  },
  {
    "text": "authorized to go and do something right now that I know who you are let's talk about what you can do right so",
    "start": "345240",
    "end": "351539"
  },
  {
    "text": "there's who and what and then linking that together now role-based access control is the",
    "start": "351539",
    "end": "357600"
  },
  {
    "text": "authorization part of this right so now that we know who people are is completely unconcerned with how we",
    "start": "357600",
    "end": "363900"
  },
  {
    "text": "figured that out we're going to try to figure out how to authorize these people right and again this this problem the",
    "start": "363900",
    "end": "371460"
  },
  {
    "text": "reason that this API is important is because it is going to let us share and block off parts of the",
    "start": "371460",
    "end": "377220"
  },
  {
    "text": "computer to this whole city that it takes to run this thing right so if this question is what are the",
    "start": "377220",
    "end": "384539"
  },
  {
    "text": "people or apps able to access we need to figure out like a more generic term for this like people or apps thing so the",
    "start": "384539",
    "end": "391680"
  },
  {
    "text": "rbac API role-based access control it calls it subjects and",
    "start": "391680",
    "end": "397560"
  },
  {
    "text": "um I'm this is not like a royalty or like a king or queen thing like I don't have subjects like unless maybe the top",
    "start": "397560",
    "end": "404220"
  },
  {
    "text": "is like the CEO or something but there's like all of these people so what what's the term of subject what's the type of",
    "start": "404220",
    "end": "411060"
  },
  {
    "text": "subject that these people are uh they are users and groups right so",
    "start": "411060",
    "end": "416580"
  },
  {
    "text": "kubernetes has some objects now these objects are sort of special there's not a route that you can go into",
    "start": "416580",
    "end": "424199"
  },
  {
    "text": "kubernetes and you can make users and groups and we'll talk a little bit more about that later it happens sort of",
    "start": "424199",
    "end": "429360"
  },
  {
    "text": "indirectly based off of what you integrate kubernetes with so these these",
    "start": "429360",
    "end": "435000"
  },
  {
    "text": "words they kind of look like the same as how we talk about the rest of the kubernetes objects but these things aren't real objects you sort of have to",
    "start": "435000",
    "end": "442319"
  },
  {
    "text": "imagine them and use the API to describe and Target them so hopefully that's making a little bit of sense just like",
    "start": "442319",
    "end": "448440"
  },
  {
    "text": "not if you're kind of following um the other type of subject is an app",
    "start": "448440",
    "end": "455220"
  },
  {
    "text": "and for the most part apps don't need to talk to kubernetes but we actually have a lot of apps that",
    "start": "455220",
    "end": "462240"
  },
  {
    "text": "we deploy to kubernetes to extend it and sometimes when you're trying to solve distributed computing problems",
    "start": "462240",
    "end": "469380"
  },
  {
    "text": "it can be helpful to use the distributed computer parts of kubernetes and so you need to have your",
    "start": "469380",
    "end": "475800"
  },
  {
    "text": "apps be able to access the API and and learn things about itself what's around",
    "start": "475800",
    "end": "481139"
  },
  {
    "text": "it in its own namespace or elsewhere I mentioned namespace if this idea is",
    "start": "481139",
    "end": "486599"
  },
  {
    "text": "weird to you this is just the way that we section up the computer virtually in",
    "start": "486599",
    "end": "492000"
  },
  {
    "text": "our heads so that teams can like not step on each other and apps cannot step on each other it's really important",
    "start": "492000",
    "end": "497819"
  },
  {
    "text": "concept right and so uh in this case I'm just drawing out the mechanism of what the service account actually does so",
    "start": "497819",
    "end": "503460"
  },
  {
    "text": "this is other objects like pods replica sets deployments and stuff that actually run code",
    "start": "503460",
    "end": "508560"
  },
  {
    "text": "inside of the piece of the computer that kubernetes lends you and um basically",
    "start": "508560",
    "end": "513599"
  },
  {
    "text": "the kubelet is the thing that sees the service account and sees the Pod and it gives a token to every pod so that the",
    "start": "513599",
    "end": "519360"
  },
  {
    "text": "Pod can authenticate with the kubernetes API so that's the auth piece kubernetes does have an identity system to",
    "start": "519360",
    "end": "525540"
  },
  {
    "text": "authenticate workloads inside the cluster um yeah just little details",
    "start": "525540",
    "end": "531180"
  },
  {
    "text": "now we got these three types of subjects for the people we have users and groups",
    "start": "531180",
    "end": "536399"
  },
  {
    "text": "and for the apps we have service accounts the subjects of this API are who",
    "start": "536399",
    "end": "545580"
  },
  {
    "text": "it's the who part of who has access and then we can ask about who has access to",
    "start": "545580",
    "end": "551040"
  },
  {
    "text": "what so now we got to talk about a different object and this is a real object we don't have to be confused with imagining things anymore service",
    "start": "551040",
    "end": "556980"
  },
  {
    "text": "accounts are real as well it's just users and groups that are sort of imaginary so rolls",
    "start": "556980",
    "end": "563700"
  },
  {
    "text": "are an object that describes what should be accessed right you can think of a role like maybe viewer or editor",
    "start": "563700",
    "end": "572100"
  },
  {
    "text": "and the what of how something should be accessed also includes things you can do",
    "start": "572100",
    "end": "577320"
  },
  {
    "text": "to that object so roles have a list of rules and that list has API groups has the kinds of",
    "start": "577320",
    "end": "585240"
  },
  {
    "text": "things in those API groups those resources and then it has the verbs that you're allowed to do to that thing there's a couple other stuff too that",
    "start": "585240",
    "end": "591360"
  },
  {
    "text": "I'll talk about so roles list of the allowed apis",
    "start": "591360",
    "end": "596820"
  },
  {
    "text": "they list the verbs and specifically there's an object called roll and this is a namespaced",
    "start": "596820",
    "end": "602580"
  },
  {
    "text": "thing right so if you've got a team that's in there part of the computer inside of their own namespace they can",
    "start": "602580",
    "end": "608040"
  },
  {
    "text": "make roles that have rules about access and they can list stuff that's inside of",
    "start": "608040",
    "end": "614459"
  },
  {
    "text": "that namespace resource types that can be used inside of namespaces there's a different object",
    "start": "614459",
    "end": "620100"
  },
  {
    "text": "called the cluster rule a cluster role is a special type of role that doesn't live inside of a namespace because",
    "start": "620100",
    "end": "625800"
  },
  {
    "text": "sometimes we have to talk about things that affect the entire cluster whether it's just talking about say all",
    "start": "625800",
    "end": "632580"
  },
  {
    "text": "of the configs or Secrets across every single namespace or if we're talking about things that don't have a namespace",
    "start": "632580",
    "end": "639060"
  },
  {
    "text": "necessarily uh things like cluster or custom resource definitions or uh like",
    "start": "639060",
    "end": "647100"
  },
  {
    "text": "Network policies and uh there's a there's a bunch of these kind of cluster level objects that can affect everything",
    "start": "647100",
    "end": "653940"
  },
  {
    "text": "also extensions can add their own cluster level objects and uh it's",
    "start": "653940",
    "end": "659220"
  },
  {
    "text": "important to be able to control access to all of this stuff maybe that doesn't make so much sense if you're just thinking about in your head so I drew",
    "start": "659220",
    "end": "665339"
  },
  {
    "text": "you a fancy picture with something that is really good at making round rectangles this is a kubernetes cluster",
    "start": "665339",
    "end": "672779"
  },
  {
    "text": "simplified we got the blue cluster you can have resources at the cluster scope that affect everything and then we split",
    "start": "672779",
    "end": "679860"
  },
  {
    "text": "up little pieces of it and then we can put all different kinds of things that are namespaceable objects inside of the",
    "start": "679860",
    "end": "685800"
  },
  {
    "text": "namespaces right there's the dev team one and Dev team two um roles can only control access to",
    "start": "685800",
    "end": "692940"
  },
  {
    "text": "stuff that points in or that's within namespaces and in fact the roles",
    "start": "692940",
    "end": "698100"
  },
  {
    "text": "themselves live in namespaces but cluster roles can affect everything",
    "start": "698100",
    "end": "704940"
  },
  {
    "text": "so now that we've answered kind of the question of who and what how do we describe who has",
    "start": "704940",
    "end": "711540"
  },
  {
    "text": "access and how do we describe what they have access to and what they can do we have the missing link which is we",
    "start": "711540",
    "end": "717779"
  },
  {
    "text": "have to map all of the connections right so we need this object called a",
    "start": "717779",
    "end": "723360"
  },
  {
    "text": "role binding the role binding binds the subject to a role it means that hey this",
    "start": "723360",
    "end": "731399"
  },
  {
    "text": "Dev team has viewer access to this namespace and they can update this",
    "start": "731399",
    "end": "736560"
  },
  {
    "text": "policy with this name or whatever similarly you could say that this app",
    "start": "736560",
    "end": "741959"
  },
  {
    "text": "has access to all of the configs in this namespace so it can go and update",
    "start": "741959",
    "end": "747540"
  },
  {
    "text": "interesting fields and it will use a role to describe what it can do with",
    "start": "747540",
    "end": "752640"
  },
  {
    "text": "updating the interesting fields in the conflict map and the subject would be that service account name from the",
    "start": "752640",
    "end": "759060"
  },
  {
    "text": "service account object so um this is basically authorization in action right now we have the ability to",
    "start": "759060",
    "end": "767100"
  },
  {
    "text": "ask the full question and and make full statements hey these people can go and access this thing so there's a little",
    "start": "767100",
    "end": "772980"
  },
  {
    "text": "bit of uh just like kind of 101 how is this API shaped how do we use it right we're not even",
    "start": "772980",
    "end": "778440"
  },
  {
    "text": "looking at like yaml configs and stuff um with role bindings there's a couple of gotchas here and some interesting",
    "start": "778440",
    "end": "785399"
  },
  {
    "text": "variations right so role bindings live in namespaces",
    "start": "785399",
    "end": "790500"
  },
  {
    "text": "and they are fully concerned when a role binding is in a namespace it only authorizes to the stuff in that",
    "start": "790500",
    "end": "796019"
  },
  {
    "text": "namespace and that therefore like you can only really",
    "start": "796019",
    "end": "803040"
  },
  {
    "text": "reference access to namespaceable objects right",
    "start": "803040",
    "end": "808200"
  },
  {
    "text": "you're not going to be role binding to something that has cluster scope",
    "start": "808200",
    "end": "813240"
  },
  {
    "text": "but cluster role bindings allow you to say hey",
    "start": "813240",
    "end": "819720"
  },
  {
    "text": "this subject across the entire cluster scope for all of the namespaces for any",
    "start": "819720",
    "end": "825180"
  },
  {
    "text": "namespaceable objects in all namespaces and for stuff at the cluster scope if it's listed inside of the cluster role",
    "start": "825180",
    "end": "832440"
  },
  {
    "text": "we can grant access now um",
    "start": "832440",
    "end": "837540"
  },
  {
    "text": "there is some really common misconceptions and it's actually because of this particular",
    "start": "837540",
    "end": "844019"
  },
  {
    "text": "shape of API right we have cluster roles cluster row bindings role bindings roles it seems like they would just kind of",
    "start": "844019",
    "end": "849839"
  },
  {
    "text": "only pair up together right and so this makes sense any subject any person any group or",
    "start": "849839",
    "end": "857339"
  },
  {
    "text": "application we can role bind it and we can within a namespace give access to",
    "start": "857339",
    "end": "862920"
  },
  {
    "text": "stuff similarly anything any app in the cluster any person or group that we can",
    "start": "862920",
    "end": "869519"
  },
  {
    "text": "attest with and authenticate we can cluster role bind it for like across the",
    "start": "869519",
    "end": "874680"
  },
  {
    "text": "entire cluster and this seems like it's enough to start doing some really good work",
    "start": "874680",
    "end": "880380"
  },
  {
    "text": "but uh if you say want to give somebody access",
    "start": "880380",
    "end": "886079"
  },
  {
    "text": "to like five namespaces or 50 namespaces but you actually have a",
    "start": "886079",
    "end": "891779"
  },
  {
    "text": "hundred and you don't actually want to give them access to a hundred it seems kind of",
    "start": "891779",
    "end": "898139"
  },
  {
    "text": "like tempting to just go for that cluster role binding but it's important to be remembering the principle of least",
    "start": "898139",
    "end": "903180"
  },
  {
    "text": "privilege you know we only really want to give people access to truly what they need and we definitely don't want to",
    "start": "903180",
    "end": "908579"
  },
  {
    "text": "make any missteps and give people access to stuff that they don't did you know",
    "start": "908579",
    "end": "913740"
  },
  {
    "text": "that you could roll bind to a cluster role",
    "start": "913740",
    "end": "919279"
  },
  {
    "text": "this means that we don't have to Define roles 50 times right and",
    "start": "919279",
    "end": "925380"
  },
  {
    "text": "you're saying oh lee clusterables also talk about cluster scoped objects in this case it the cluster scoped objects",
    "start": "925380",
    "end": "932639"
  },
  {
    "text": "are just ignored and this is actually still very precise and this is actually a very recommended thing that you should",
    "start": "932639",
    "end": "938459"
  },
  {
    "text": "be doing right so maybe when you looked at these names uh maybe you were using it and you learned it at some point if",
    "start": "938459",
    "end": "944399"
  },
  {
    "text": "you're a beginner you actually have an advantage probably over most practitioners right now because you're like learning the basics instead of just",
    "start": "944399",
    "end": "951120"
  },
  {
    "text": "pretending to learn something while you use it I've had this misconception before it's very common you wouldn't believe just",
    "start": "951120",
    "end": "957839"
  },
  {
    "text": "how many people do not know that you can do this so the behavior here is that the cluster will whatever it",
    "start": "957839",
    "end": "965040"
  },
  {
    "text": "describes as namespaceable objects you will only get access to those namespaceable objects in the namespace",
    "start": "965040",
    "end": "971040"
  },
  {
    "text": "that you roll bound from so it's just a single namespace rule binding and this at least if you have to roll by in 50",
    "start": "971040",
    "end": "977279"
  },
  {
    "text": "different namespaces with the principle of least privilege at least you only have to make 50 roll bindings you don't have to also redefine the same exact",
    "start": "977279",
    "end": "983940"
  },
  {
    "text": "role the thing that talks about access policy 50 times you can just find that centrally in the cluster Rule and",
    "start": "983940",
    "end": "990779"
  },
  {
    "text": "kubernetes actually has a bunch of default ones that I really recommend you should use this is a beautiful picture",
    "start": "990779",
    "end": "997139"
  },
  {
    "text": "I'm really proud of this one uh the best thing about this picture is",
    "start": "997139",
    "end": "1003320"
  },
  {
    "text": "that it is complicated but there's only one subject and so there's a bunch of these purple",
    "start": "1003320",
    "end": "1009500"
  },
  {
    "text": "and pink things um those are the the roles and the cluster rules sitting in and out of the",
    "start": "1009500",
    "end": "1015560"
  },
  {
    "text": "namespace at the very end of the arrows right you have like somebody who can administer policy right",
    "start": "1015560",
    "end": "1022160"
  },
  {
    "text": "or like a rule set about viewing things across the cluster regardless of what you're talking about or a rule set about",
    "start": "1022160",
    "end": "1029298"
  },
  {
    "text": "updating quotas that might be just in this namespace and we can use cluster",
    "start": "1029299",
    "end": "1035298"
  },
  {
    "text": "role bindings we can use roll bindings we can use roll bindings I didn't draw any arrows from the roll bindings to the",
    "start": "1035299",
    "end": "1040819"
  },
  {
    "text": "cluster roles but you could do that you can do that all on the same subject and this is a common misconception that",
    "start": "1040819",
    "end": "1046880"
  },
  {
    "text": "there has to be like a one to one to one mapping of this but it would actually be encouraged that you're being very",
    "start": "1046880",
    "end": "1052280"
  },
  {
    "text": "precise about what you're doing when you're giving people access right so you can do that",
    "start": "1052280",
    "end": "1057559"
  },
  {
    "text": "I lowered the volume um another thing that's sometimes not",
    "start": "1057559",
    "end": "1062960"
  },
  {
    "text": "obvious is we're really used to giving access to apps within their namespace but how do you give access to an",
    "start": "1062960",
    "end": "1069320"
  },
  {
    "text": "application to stuff outside of its own namespace well the truth is that apps are just users service accounts they're",
    "start": "1069320",
    "end": "1075919"
  },
  {
    "text": "just usernames there's nothing special really about them except for that kubelets can give them tokens and so you",
    "start": "1075919",
    "end": "1081559"
  },
  {
    "text": "can actually have an app with a service account or even a service account group in another namespace",
    "start": "1081559",
    "end": "1088280"
  },
  {
    "text": "and you can roll bind it from the place that you want access right so say I own",
    "start": "1088280",
    "end": "1093740"
  },
  {
    "text": "a namespace I have some interesting juicy configs or whatever inside my namespace and some other team has an app",
    "start": "1093740",
    "end": "1100419"
  },
  {
    "text": "that we want to give them access to well service accounts in a namespace are",
    "start": "1100419",
    "end": "1105799"
  },
  {
    "text": "actually all part of the same groups and so you can actually roll bind to the group of that namespace and you don't",
    "start": "1105799",
    "end": "1112400"
  },
  {
    "text": "even have to know what the name of their service account is another common underly used feature and sort of a",
    "start": "1112400",
    "end": "1118280"
  },
  {
    "text": "misconception you can roll bind to to apps from other namespaces",
    "start": "1118280",
    "end": "1123320"
  },
  {
    "text": "um service accounts are just users their usernames look like this beautiful templated string over here system",
    "start": "1123320",
    "end": "1129080"
  },
  {
    "text": "service account this is a reserved prefix most authentication systems will not spit this out",
    "start": "1129080",
    "end": "1134539"
  },
  {
    "text": "uh which means that it only mostly Works inside the cluster and using cluster mechanics and then it's got the",
    "start": "1134539",
    "end": "1140419"
  },
  {
    "text": "namespace so and then the name and then service accounts also get groups so",
    "start": "1140419",
    "end": "1147440"
  },
  {
    "text": "there's a group for every service account in the cluster if you saved wanted to give literally everything access to something you could bind to",
    "start": "1147440",
    "end": "1153260"
  },
  {
    "text": "system service accounts and you can bind to system service accounts from just a couple of different name spaces if you want so",
    "start": "1153260",
    "end": "1160299"
  },
  {
    "text": "underused features now that we've kind of gotten past the basics of the API and we're getting into a little bit esoteric",
    "start": "1160299",
    "end": "1166160"
  },
  {
    "text": "stuff just make sure I know what the time is here yeah um there's resource names",
    "start": "1166160",
    "end": "1172520"
  },
  {
    "text": "so we can get very specific about our rules inside of our roles or cluster roles",
    "start": "1172520",
    "end": "1178120"
  },
  {
    "text": "you can restrict your resources that you get verbs to to",
    "start": "1178120",
    "end": "1185059"
  },
  {
    "text": "particular resource names this example is from the kubernetes documentation there's a config map updater this is",
    "start": "1185059",
    "end": "1191059"
  },
  {
    "text": "something that you maybe might want to do with an application to spit out something into a consistent FCD storage",
    "start": "1191059",
    "end": "1197780"
  },
  {
    "text": "um so then that could be like consumed by something else uh here we are having the update and the",
    "start": "1197780",
    "end": "1204080"
  },
  {
    "text": "get verb in the core API Group which is just what that empty string is for but sometimes that string is really long and",
    "start": "1204080",
    "end": "1210320"
  },
  {
    "text": "it talks about other API groups resources is just the config Maps you'll notice that this is",
    "start": "1210320",
    "end": "1216559"
  },
  {
    "text": "spelled a little differently than normal it's not capitalized and stuff this is because it's just like the section of",
    "start": "1216559",
    "end": "1221780"
  },
  {
    "text": "the rest endpoint when you like talk to the HTTP service for the API server uh",
    "start": "1221780",
    "end": "1228020"
  },
  {
    "text": "and then resource names we're actually restricting that we can only update the my config map uh instead of all config",
    "start": "1228020",
    "end": "1235460"
  },
  {
    "text": "maps in this namespace default so uh also this one is like",
    "start": "1235460",
    "end": "1241400"
  },
  {
    "text": "kind of funny um you can't",
    "start": "1241400",
    "end": "1247160"
  },
  {
    "text": "filter what people create with resource names",
    "start": "1247160",
    "end": "1252679"
  },
  {
    "text": "except that you actually really can but it only works with server side apply so",
    "start": "1252679",
    "end": "1258160"
  },
  {
    "text": "the reason for that is because when you're in a server-side apply it knows about the whole object that you're",
    "start": "1258160",
    "end": "1263419"
  },
  {
    "text": "sending it so they can do diffing but if you are not using the server side apply",
    "start": "1263419",
    "end": "1269419"
  },
  {
    "text": "like if you're actually doing the create verb uh like just normally then this is",
    "start": "1269419",
    "end": "1274880"
  },
  {
    "text": "not going to work because the API server doesn't know the name of the thing you made yet so sort of a weird limitation I",
    "start": "1274880",
    "end": "1281240"
  },
  {
    "text": "feel like that's a pretty useful feature and for it to only work with SSA Machinery it's kind of odd",
    "start": "1281240",
    "end": "1287900"
  },
  {
    "text": "uh cluster role aggregation I can't really explain this on a slide so I'm just going to show you in the cluster",
    "start": "1287900",
    "end": "1292940"
  },
  {
    "text": "and now my friend Rich is going to be happy because he came for a live demo so uh",
    "start": "1292940",
    "end": "1300440"
  },
  {
    "text": "in a kubernetes cluster if you don't actually even modify anything at all and you get all of the cluster roles so",
    "start": "1300440",
    "end": "1307220"
  },
  {
    "text": "these are the centrally defined roles that can talk about cluster specific things as well as all of the namespaced",
    "start": "1307220",
    "end": "1312919"
  },
  {
    "text": "things and you can roll bind to this from just one namespace or you can give access across the entire cluster with",
    "start": "1312919",
    "end": "1319520"
  },
  {
    "text": "the cluster rule binding um there's all this stuff and there's actually a bunch of extra stuff in here as well that got added",
    "start": "1319520",
    "end": "1326120"
  },
  {
    "text": "from other add-ons that I installed to the cluster external DNS whatever Cayenne",
    "start": "1326120",
    "end": "1332900"
  },
  {
    "text": "but if we kind of grep for the system prefix you",
    "start": "1332900",
    "end": "1339380"
  },
  {
    "text": "can see there's all of this cool stuff that kubernetes uses internally to have all of its components talk to each other",
    "start": "1339380",
    "end": "1344960"
  },
  {
    "text": "so you can see that uh the identity of things is very important all of these things have various role bindings and",
    "start": "1344960",
    "end": "1351980"
  },
  {
    "text": "cluster role bindings so that they can do like compute problems and make the kubernetes cluster keep promises for us",
    "start": "1351980",
    "end": "1358760"
  },
  {
    "text": "right now extending this lets you really use the power of the distributed computer yourself and it's also very",
    "start": "1358760",
    "end": "1364880"
  },
  {
    "text": "necessary then for you to also be able to um what am I saying also be able to",
    "start": "1364880",
    "end": "1373100"
  },
  {
    "text": "give people access to the information from the computer right so here's all the cluster rules",
    "start": "1373100",
    "end": "1378860"
  },
  {
    "text": "we can look at the cluster role bindings",
    "start": "1378860",
    "end": "1383919"
  },
  {
    "text": "and you can see then that every uh sort of bit of access that we've needed to",
    "start": "1384740",
    "end": "1390740"
  },
  {
    "text": "open up for somebody it's all in here now I'm not interested in that I'm",
    "start": "1390740",
    "end": "1397700"
  },
  {
    "text": "mostly interested in how I can open access up for other people because the cluster works great and if I need to",
    "start": "1397700",
    "end": "1404059"
  },
  {
    "text": "program an app to talk to kubernetes that's fine but I really want to enable my team so let's get rid of all the",
    "start": "1404059",
    "end": "1410299"
  },
  {
    "text": "system stuff and just look at what's in here there's a bunch of still stuff for add-ons and that kind of thing",
    "start": "1410299",
    "end": "1416900"
  },
  {
    "text": "but if you look at the ammo I'm gonna pipe this to",
    "start": "1416900",
    "end": "1423020"
  },
  {
    "text": "neat and also just syntax highlight that for you let's like look at the viewer",
    "start": "1423020",
    "end": "1429140"
  },
  {
    "text": "role I guess I mistyped it here View",
    "start": "1429140",
    "end": "1436780"
  },
  {
    "text": "double gets thank you pair programming uh and",
    "start": "1439460",
    "end": "1445400"
  },
  {
    "text": "I need to also type cluster role this is why you script demos cool so you",
    "start": "1445400",
    "end": "1451940"
  },
  {
    "text": "can see there's if you say like wanna have the view cluster role there's like",
    "start": "1451940",
    "end": "1457460"
  },
  {
    "text": "getting and listing and watching for pretty much a bunch of API groups and resources across the cluster but there's",
    "start": "1457460",
    "end": "1463940"
  },
  {
    "text": "also these labels and there's also this aggregation rule",
    "start": "1463940",
    "end": "1470780"
  },
  {
    "text": "that's weird what is that this aggregation rule has a cluster role",
    "start": "1470780",
    "end": "1476179"
  },
  {
    "text": "selector that matches the label of other cluster roles and it what it does is it",
    "start": "1476179",
    "end": "1481460"
  },
  {
    "text": "Aggregates them together so if there's any other cluster roles that have the label aggregate to view",
    "start": "1481460",
    "end": "1488780"
  },
  {
    "text": "then we can actually from this default cluster role if people bind to this and",
    "start": "1488780",
    "end": "1494000"
  },
  {
    "text": "we add to the cluster and we extend it we can also let them view other things",
    "start": "1494000",
    "end": "1499640"
  },
  {
    "text": "stuff that didn't Ship by default with kubernetes similarly this viewer cluster role as",
    "start": "1499640",
    "end": "1505460"
  },
  {
    "text": "soon as you give access for something to be viewed in this rules list it gets aggregated see how this is labeled",
    "start": "1505460",
    "end": "1512120"
  },
  {
    "text": "aggregate to edit this is an official kubernetes API and you can use this and it works fast it's",
    "start": "1512120",
    "end": "1517400"
  },
  {
    "text": "in the API server and so these aggregated cluster roles uh they're very precise there is another",
    "start": "1517400",
    "end": "1525140"
  },
  {
    "text": "let me get this label selector here I did this beautiful command earlier",
    "start": "1525140",
    "end": "1533380"
  },
  {
    "text": "why am I began we don't need to do that yeah",
    "start": "1534140",
    "end": "1540559"
  },
  {
    "text": "let's just do this uh and that needs a t",
    "start": "1540559",
    "end": "1549940"
  },
  {
    "text": "so these are all of the bootstrap cluster roles it's very simple everyone's heard of cluster admin",
    "start": "1549980",
    "end": "1555799"
  },
  {
    "text": "because it's notorious but there's admin there's edit there's View and you can",
    "start": "1555799",
    "end": "1561919"
  },
  {
    "text": "see how not having to figure out how to tell somebody that you can view every",
    "start": "1561919",
    "end": "1568400"
  },
  {
    "text": "um like API resource or inside of a namespace would be very useful right so now if say I want to give a development",
    "start": "1568400",
    "end": "1576080"
  },
  {
    "text": "team access to view everything that they own in their namespace a very good default",
    "start": "1576080",
    "end": "1581840"
  },
  {
    "text": "thing to do would just be to roll bind against the view cluster role",
    "start": "1581840",
    "end": "1587900"
  },
  {
    "text": "and again like if you if you do a survey a lot of people do not know that you can do this",
    "start": "1587900",
    "end": "1593240"
  },
  {
    "text": "um so let's let's use our back uh this is this is really good let's talk a little bit",
    "start": "1593240",
    "end": "1600559"
  },
  {
    "text": "uh oh there's there's other uh underused features here sub resources there's a bunch of these they're very powerful",
    "start": "1600559",
    "end": "1606279"
  },
  {
    "text": "mainly the status the proxy and the port forward um ones also attaches and binding and",
    "start": "1606279",
    "end": "1613100"
  },
  {
    "text": "then there's also these weird virtual verbs this is how you can do some interesting stuff with rbac you can for",
    "start": "1613100",
    "end": "1618559"
  },
  {
    "text": "instance Implement pseudo access using these verbs also impersonate is very useful for like debugging our back",
    "start": "1618559",
    "end": "1626900"
  },
  {
    "text": "um this is a very underused feature and I will talk about it later but let's talk about then okay we talked",
    "start": "1626900",
    "end": "1633679"
  },
  {
    "text": "about using the API together and about how to Grant access",
    "start": "1633679",
    "end": "1640000"
  },
  {
    "text": "kubernetes doesn't actually authenticate people out of the box maybe you installed it in a cloud and it's",
    "start": "1641240",
    "end": "1646700"
  },
  {
    "text": "integrated with the Cloud's identity provider just out of the box but you actually have to do work with default",
    "start": "1646700",
    "end": "1652460"
  },
  {
    "text": "kubernetes to make it know who your people are so that people can actually log into the thing there's some great",
    "start": "1652460",
    "end": "1658880"
  },
  {
    "text": "projects out there kubelogin I'm really a believer of the pinniped project because you don't have to modify the API",
    "start": "1658880",
    "end": "1665059"
  },
  {
    "text": "server just go check out pinaped.dev but we need to be able to authenticate people and we want to probably do that",
    "start": "1665059",
    "end": "1671600"
  },
  {
    "text": "with the identities that we already use because we probably have multiple kubernetes clusters at some point I",
    "start": "1671600",
    "end": "1677059"
  },
  {
    "text": "don't really recommend using cert off and service accounts outside the cluster because those things are for apps and",
    "start": "1677059",
    "end": "1682820"
  },
  {
    "text": "Integrations and cluster internal things and they will never mean anything else in another cluster you should use the",
    "start": "1682820",
    "end": "1687860"
  },
  {
    "text": "bootstrap cluster rules like I mentioned um we should be binding to groups binding to single people is good for",
    "start": "1687860",
    "end": "1694220"
  },
  {
    "text": "like ad hoc things but we want to enable teams we want transparency",
    "start": "1694220",
    "end": "1699500"
  },
  {
    "text": "and ultimately the tools that we use start to shape our habits right so if we use a declarative computer we should",
    "start": "1699500",
    "end": "1706220"
  },
  {
    "text": "probably be using declarative configurations so I would recommend to",
    "start": "1706220",
    "end": "1711260"
  },
  {
    "text": "really get Ops your Access Control we can store all of these objects in some place where some or maybe even everybody",
    "start": "1711260",
    "end": "1717200"
  },
  {
    "text": "could reach them everyone could see them maybe not everyone can write to these things you probably want to really",
    "start": "1717200",
    "end": "1722539"
  },
  {
    "text": "protect them but you should be thinking about how you can onboard people how you can give people access when there's an",
    "start": "1722539",
    "end": "1729380"
  },
  {
    "text": "emergency and they accidentally drop the table and didn't have access you know",
    "start": "1729380",
    "end": "1734600"
  },
  {
    "text": "so um yeah you want proper props process because we need to be able to work with",
    "start": "1734600",
    "end": "1739760"
  },
  {
    "text": "each other this is how we share the computer this is how we get stuff done",
    "start": "1739760",
    "end": "1746240"
  },
  {
    "text": "we need to empower people with information can you can you actually raise your hand if you've tried to do your job before and you didn't have the",
    "start": "1746240",
    "end": "1752840"
  },
  {
    "text": "information to make good decisions yeah right so let's give people the info",
    "start": "1752840",
    "end": "1760760"
  },
  {
    "text": "they need to be successful if you're a manager maybe you should be able to find out for yourself if some software got",
    "start": "1760760",
    "end": "1765919"
  },
  {
    "text": "released right if you're a Dev team maybe you should be able to delete pods so that you don't have to page SRE if you know",
    "start": "1765919",
    "end": "1772100"
  },
  {
    "text": "something's a simple fix and you know that there's a memory link there you have more context on your app right",
    "start": "1772100",
    "end": "1777500"
  },
  {
    "text": "similarly I mean like if you are um this is like some of the most important",
    "start": "1777500",
    "end": "1783620"
  },
  {
    "text": "intellectual property in your organization it's like who has access to what what do people actually do if you",
    "start": "1783620",
    "end": "1790279"
  },
  {
    "text": "don't have a good handle of how people get access and and when people had access and what people have access to",
    "start": "1790279",
    "end": "1796460"
  },
  {
    "text": "currently you're never going to be able to recreate queer clusters move your clusters somewhere else you're going to get very tightly coupled in an",
    "start": "1796460",
    "end": "1802940"
  },
  {
    "text": "imperative State that's difficult to recover especially because all of this stuff really needs to be commented and",
    "start": "1802940",
    "end": "1808159"
  },
  {
    "text": "annotated with things that are readable by humans you can't just get this from like a Valero backup of your kubernetes cluster you need to preserve this",
    "start": "1808159",
    "end": "1814760"
  },
  {
    "text": "intellectual property um I would say that you should consider using some integration tests you should",
    "start": "1814760",
    "end": "1821960"
  },
  {
    "text": "run these periodically so check that people and apps have access to the stuff that they need this is how we can keep",
    "start": "1821960",
    "end": "1828380"
  },
  {
    "text": "stronger promises to each other um actually you know I'll just show the slide of the command that you need to run this is Coupe cuddle off can I it's",
    "start": "1828380",
    "end": "1836179"
  },
  {
    "text": "a way to probe if you have the impersonate verb and you can also restrict the impersonate verb with",
    "start": "1836179",
    "end": "1842179"
  },
  {
    "text": "resource names then you can go and say does this service account for this",
    "start": "1842179",
    "end": "1847220"
  },
  {
    "text": "application have access to update its config do these people have access to these important business critical",
    "start": "1847220",
    "end": "1853520"
  },
  {
    "text": "objects like deleting pods you know and if you put this in your CI Pipeline and you have a transparent way",
    "start": "1853520",
    "end": "1860840"
  },
  {
    "text": "to update access and to like request platform admins like give you a little bit more permission to be able to solve",
    "start": "1860840",
    "end": "1867500"
  },
  {
    "text": "harder and more intricate problems as you learn more about kubernetes then running these sorts of things in a",
    "start": "1867500",
    "end": "1874760"
  },
  {
    "text": "CI pipeline gives people a very clear indication that they have what they need and that",
    "start": "1874760",
    "end": "1880820"
  },
  {
    "text": "they don't have access to the things that they definitely should not have access to so there's a bunch of",
    "start": "1880820",
    "end": "1885860"
  },
  {
    "text": "limitations list and watch you got to be careful with this if you have list and watch on secrets you can actually read",
    "start": "1885860",
    "end": "1890960"
  },
  {
    "text": "all of the secrets at either the namespace or if you cluster role bind it that's bad you cannot filter lists with",
    "start": "1890960",
    "end": "1898940"
  },
  {
    "text": "resource names if you need something like this like filtering namespaces for secrecy you should maybe be thinking",
    "start": "1898940",
    "end": "1905000"
  },
  {
    "text": "about using V clusters or API server filtering proxy like the classics project which is open source",
    "start": "1905000",
    "end": "1911720"
  },
  {
    "text": "um resource names with the crate verb I mentioned only works with server-side apply although maybe you could also just",
    "start": "1911720",
    "end": "1916760"
  },
  {
    "text": "put this somewhere else so that you don't have to filter what the name of the thing is",
    "start": "1916760",
    "end": "1921980"
  },
  {
    "text": "and um yeah you know I've suffered a lot with our back",
    "start": "1921980",
    "end": "1927919"
  },
  {
    "text": "I've helped run kubernetes and make it more usable for lots of Dev teams as well as",
    "start": "1927919",
    "end": "1934640"
  },
  {
    "text": "really seeing some interesting stuff from our users in the flux and kubernetes projects you can definitely",
    "start": "1934640",
    "end": "1940340"
  },
  {
    "text": "reach out to me on Twitter my DMs are open and yeah I think I'm probably out of time but feel free to find me after",
    "start": "1940340",
    "end": "1947539"
  },
  {
    "text": "this cheers friends [Applause]",
    "start": "1947539",
    "end": "1957220"
  }
]